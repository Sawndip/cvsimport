head	1.14;
access;
symbols
	newlib-2_2_0:1.14.0.2
	newlib-2_1_0:1.14
	newlib-2_0_0:1.14
	newlib-1_20_0:1.13
	newlib-1_19_0:1.13
	newlib-1_18_0:1.13
	newlib-1_17_0-arc:1.13.0.4
	binutils-arc-20080908-branch:1.13.0.2
	binutils-arc-20080908-branchpoint:1.13
	newlib-1_17_0:1.13
	newlib-1_16_0:1.13
	newlib-1_15_0:1.13
	newlib-csl-coldfire-4_1-32:1.10
	newlib-csl-sourcerygxx-4_1-32:1.10
	newlib-csl-innovasic-fido-3_4_4-33:1.10
	newlib-csl-coldfire-4_1-30:1.10
	newlib-csl-sourcerygxx-4_1-30:1.10
	newlib-csl-coldfire-4_1-28:1.10
	newlib-csl-sourcerygxx-4_1-28:1.10
	newlib-csl-arm-2006q3-27:1.10
	newlib-csl-sourcerygxx-4_1-27:1.10
	newlib-csl-arm-2006q3-26:1.10
	newlib-csl-sourcerygxx-4_1-26:1.10
	newlib-csl-sourcerygxx-4_1-24:1.10
	newlib-csl-sourcerygxx-4_1-23:1.10
	newlib-csl-sourcerygxx-4_1-21:1.10
	newlib-csl-arm-2006q3-21:1.10
	newlib-csl-arm-2006q3-19:1.10
	newlib-csl-sourcerygxx-4_1-19:1.10
	newlib-csl-sourcerygxx-4_1-18:1.10
	newlib-csl-sourcerygxx-3_4_4-25:1.13
	newlib-csl-sourcerygxx-4_1-17:1.10
	newlib-csl-sourcerygxx-4_1-14:1.10
	newlib-csl-sourcerygxx-4_1-13:1.10
	newlib-csl-sourcerygxx-4_1-12:1.10
	newlib-csl-sourcerygxx-4_1-9:1.10
	newlib-csl-sourcerygxx-4_1-8:1.10
	newlib-csl-sourcerygxx-4_1-7:1.10
	newlib-csl-arm-2006q1-6:1.10
	newlib-csl-sourcerygxx-4_1-6:1.10
	newlib-csl-sourcerygxx-4_1-5:1.10
	newlib-csl-sourcerygxx-4_1-4:1.10
	newlib-autotools-branch:1.10.0.4
	newlib-csl-20060320-branch:1.10.0.2
	newlib-csl-20060320-branchpoint:1.10
	newlib-1_14_0:1.10
	newlib-csl-arm-2005-q1b:1.10
	newlib-csl-arm-2005-q1a:1.10
	newlib-1_13_0:1.10
	csl-arm-2004-q3:1.10
	csl-arm-2004-q1a:1.10
	csl-arm-2004-q1:1.10
	newlib-1_12_0:1.9
	csl-arm-2003-q4:1.9
	newlib-1_11_0:1.6
	cygnus_cvs_20020108_pre:1.4
	newlib-1_10_0:1.4
	newlib-1_9_0:1.1;
locks; strict;
comment	@# @;


1.14
date	2012.10.02.20.14.15;	author sje;	state Exp;
branches;
next	1.13;

1.13
date	2006.05.23.19.17.05;	author jjohnstn;	state Exp;
branches;
next	1.12;

1.12
date	2006.05.10.20.51.41;	author jjohnstn;	state Exp;
branches;
next	1.11;

1.11
date	2006.04.19.19.44.04;	author jjohnstn;	state Exp;
branches;
next	1.10;

1.10
date	2004.03.24.01.11.24;	author echristo;	state Exp;
branches;
next	1.9;

1.9
date	2003.08.20.19.32.52;	author jjohnstn;	state Exp;
branches;
next	1.8;

1.8
date	2003.02.05.17.10.43;	author jjohnstn;	state Exp;
branches;
next	1.7;

1.7
date	2003.01.08.12.52.49;	author rsandifo;	state Exp;
branches;
next	1.6;

1.6
date	2002.11.12.23.14.24;	author jjohnstn;	state Exp;
branches;
next	1.5;

1.5
date	2002.07.12.17.55.04;	author jjohnstn;	state Exp;
branches;
next	1.4;

1.4
date	2001.10.18.02.24.30;	author meissner;	state Exp;
branches;
next	1.3;

1.3
date	2001.09.15.07.47.52;	author echristo;	state Exp;
branches;
next	1.2;

1.2
date	2001.09.14.18.40.47;	author echristo;	state Exp;
branches;
next	1.1;

1.1
date	2000.03.17.22.48.51;	author ranjith;	state Exp;
branches;
next	;


desc
@@


1.14
log
@2012-10-02  Steve Ellcey  <sellcey@@mips.com>

	* mips/configure.in: Add new linker scripts to script list.
	* mips/configure: Regenerate.
	* mips/mti32.ld: New.
	* mips/mti64.ld: New.
	* mips/mti64_n32.ld: New.
	* mips/mti64_64.ld: New.
	* mips/sde32.ld: New.
	* mips/sde64.ld: New.
@
text
@# Copyright (c) 1995, 1996, 1997, 1998, 1999, 2000, 2002 Cygnus Support
#
# The authors hereby grant permission to use, copy, modify, distribute,
# and license this software and its documentation for any purpose, provided
# that existing copyright notices are retained in all copies and that this
# notice is included verbatim in any distributions. No written agreement,
# license, or royalty fee is required for any of the authorized uses.
# Modifications to this software may be copyrighted by their authors
# and need not follow the licensing terms described here, provided that
# the new terms are clearly indicated on the first page of each file where
# they apply.
#
# Process this file with autoconf to produce a configure script.
#
AC_PREREQ(2.59)
AC_INIT(crt0.S)

if test "${enable_shared}" = "yes" ; then
    echo "Shared libraries not supported for cross compiling, ignored"
fi

if test "$srcdir" = "." ; then
  if test "${with_target_subdir}" != "." ; then
    libgloss_topdir="${srcdir}/${with_multisrctop}../../.."
  else
    libgloss_topdir="${srcdir}/${with_multisrctop}../.."
  fi
else
  libgloss_topdir="${srcdir}/../.."
fi
AC_CONFIG_AUX_DIR($libgloss_topdir)

AC_CANONICAL_SYSTEM
AC_ARG_PROGRAM

AC_PROG_INSTALL

LIB_AC_PROG_CC
AS=${AS-as}
AC_SUBST(AS)
AR=${AR-ar}
AC_SUBST(AR)
LD=${LD-ld}
AC_SUBST(LD)
AC_PROG_RANLIB
LIB_AM_PROG_AS

crt0=crt0.o
pcrt0=pcrt0.o

case "${target}" in
  mips*-tx39*-*|mipstx39*-*-*)
        part_specific_obj=
	part_specific_defines=
        script_list="dve idt jmr3904app jmr3904dram jmr3904dram-java jmr3904app-java sde32 sde64 mti32 mti64 mti64_n32 mti64_64"
        bsp_list="libdve.a libidt.a libjmr3904.a"
        ;;
  mipsisa32-*-* | mipsisa32el-*-* | \
  mipsisa32r2-*-* | mipsisa32r2el-*-* | \
  mipsisa64*-*-*)
	crt0="crt0_cfe.o crt0_cygmon.o crt0.o"
	pcrt0="pcrt0.o"
	part_specific_obj=
	part_specific_defines=
	script_list="idt32 idt64 cfe"
	bsp_list="libcygmon.a libidt.a libcfe.a"
	;;
  mips*-lsi*-*)
	part_specific_obj=entry.o
	part_specific_defines=
        script_list="lsi"
        bsp_list=liblsi.a
	;;
  mips64vr5*-*-*)
	part_specific_obj="vr5xxx.o cma101.o"
	part_specific_defines=-DR5000
        script_list="idt pmon ddb ddb-kseg0 lsi idtecoff nullmon"
        bsp_list="libidt.a libpmon.a liblsi.a libnullmon.a"
	;;
  mips64vr-*-* | mips64vrel-*-*)
	part_specific_obj="vr5xxx.o cma101.o"
	script_list="ddb ddb-kseg0 nullmon"
	bsp_list="libpmon.a libnullmon.a"
	;;
  *)
	crt0="crt0_cfe.o crt0.o"
        part_specific_obj="vr4300.o cma101.o"
	part_specific_defines=
        script_list="idt pmon ddb ddb-kseg0 lsi cfe idtecoff nullmon sde32 sde64 mti32 mti64 mti64_n32 mti64_64"
        bsp_list="libidt.a libpmon.a liblsi.a libcfe.a libnullmon.a"
        ;;
esac

host_makefile_frag=${srcdir}/../config/default.mh
target_makefile_frag=${srcdir}/../config/mips.mt

dnl We have to assign the same value to other variables because autoconf
dnl doesn't provide a mechanism to substitute a replacement keyword with
dnl arbitrary data or pathnames.
dnl
host_makefile_frag_path=$host_makefile_frag
AC_SUBST(host_makefile_frag_path)
AC_SUBST_FILE(host_makefile_frag)
target_makefile_frag_path=$target_makefile_frag
AC_SUBST(target_makefile_frag_path)
AC_SUBST_FILE(target_makefile_frag)
AC_SUBST(part_specific_obj)
AC_SUBST(part_specific_defines)
AC_SUBST(script_list)
AC_SUBST(bsp_list)
AC_SUBST(crt0)
AC_SUBST(pcrt0)

AC_CONFIG_FILES(Makefile,
. ${libgloss_topdir}/config-ml.in,
srcdir=${srcdir}
target=${target}
with_multisubdir=${with_multisubdir}
ac_configure_args="${ac_configure_args} --enable-multilib"
CONFIG_SHELL=${CONFIG_SHELL-/bin/sh}
libgloss_topdir=${libgloss_topdir}
)
AC_OUTPUT
@


1.13
log
@
2006-05-23  Fred Fish  <fnf@@specifix.com>

        * mips/configure.in: Change mipsisa64-*-* to
        mipsisa64*-*-* to catch minor variations like
        mipsisa64sb1.
@
text
@d55 1
a55 1
        script_list="dve idt jmr3904app jmr3904dram jmr3904dram-java jmr3904app-java"
d89 1
a89 1
        script_list="idt pmon ddb ddb-kseg0 lsi cfe idtecoff nullmon"
@


1.12
log
@
2006-05-10  Jeff Johnston  <jjohnstn@@redhat.com>

        * Makefile.in: Pass some additional flags in FLAGS_TO_PASS.
        * configure.in: Add additional flags when creating Makefile.
        * configure: Regenerated.
        * arm/configure
        * arm/configure.in: Set with_multisubdir when creating Makefile.
        * cris/configure.in: Ditto.
        * d30v/configure.in: Ditto.
        * frv/configure.in: Ditto.
        * i386/configure.in: Ditto.
        * iq2000/configure.in: Ditto.
        * libnosys/configure.in: Ditto.
        * m32c/configure.in: Ditto.
        * m32r/configure.in: Ditto.
        * m68hc11/configure.in: Ditto.
        * m68k/configure.in: Ditto.
        * mcore/configure.in: Ditto.
        * mips/configure.in: Ditto.
        * mn10200/configure.in: Ditto.
        * mn10300/configure.in: Ditto.
        * mt/configure.in: Ditto.
        * pa/configure.in: Ditto.
        * rs6000/configure.in: Ditto.
        * sparc/configure.in: Ditto.
        * cris/configure: Regenerated.
        * d30v/configure: Ditto.
        * frv/configure: Ditto.
        * i386/configure: Ditto.
        * iq2000/configure: Ditto.
        * libnosys/configure: Ditto.
        * m32c/configure: Ditto.
        * m32r/configure: Ditto.
        * m68hc11/configure: Ditto.
        * m68k/configure: Ditto.
        * mcore/configure: Ditto.
        * mips/configure: Ditto.
        * mn10200/configure: Ditto.
        * mn10300/configure: Ditto.
        * mt/configure: Ditto.
        * pa/configure: Ditto.
        * rs6000/configure: Ditto.
        * sparc/configure: Ditto.
@
text
@d60 1
a60 1
  mipsisa64-*-*)
@


1.11
log
@
2006-04-19  Jeff Johnston  <jjohnstn@@redhat.com>

        * configure.in: Modified to support autoconf 2.59.
        * */configure.in: Ditto.
        * configure: Regenerated.
        * */configure: Ditto.
        * wince/aclocal.m4: Ditto.
        * acinclude.m4: New file.
        * aclocal.m4: Ditto.
        * arm/aclocal.m4: Ditto.
        * cris/aclocal.m4: Ditto.
        * crx/aclocal.m4: Ditto.
        * d30v/aclocal.m4: Ditto.
        * fr30/aclocal.m4: Ditto.
        * frv/aclocal.m4: Ditto.
        * hp74x/aclocal.m4: Ditto.
        * i386/aclocal.m4: Ditto.
        * i960/aclocal.m4: Ditto.
        * iq2000/aclocal.m4: Ditto.
        * libnosys/aclocal.m4: Ditto.
        * m32c/aclocal.m4: Ditto.
        * m32r/aclocal.m4: Ditto.
        * m68hc11/aclocal.m4: Ditto.
        * m68k/aclocal.m4: Ditto.
        * mcore/aclocal.m4: Ditto.
        * mips/aclocal.m4: Ditto.
        * mn10200/aclocal.m4: Ditto.
        * mn10300/aclocal.m4: Ditto.
        * mt/aclocal.m4: Ditto.
        * pa/aclocal.m4: Ditto.
        * rs6000/aclocal.m4: Ditto.
        * sparc/aclocal.m4: Ditto.
        * sparc/libsys/aclocal.m4: Ditto.
        * xstormy16/aclocal.m4: Ditto.
@
text
@d118 1
@


1.10
log
@2004-03-23  Eric Christopher  <echristo@@redhat.com>

	* mips/configure.in: Add mipsisa64-*-* to target support.
	* mips/configure: Regenerate.
	* frv/crt0.S: Fix comment.
@
text
@d15 1
a15 1
AC_PREREQ(2.5)dnl
a37 38
# FIXME: We temporarily define our own version of AC_PROG_CC.  This is
# copied from autoconf 2.12, but does not call AC_PROG_CC_WORKS.  We
# are building a library that must be included in all links, so we
# can't link an executable until this lib is built.
# autoconf should provide a way to do this.

AC_DEFUN(LIB_AC_PROG_CC,
[AC_BEFORE([$0], [AC_PROG_CPP])dnl
AC_CHECK_PROG(CC, gcc, gcc)
if test -z "$CC"; then
  AC_CHECK_PROG(CC, cc, cc, , , /usr/ucb/cc)
  test -z "$CC" && AC_MSG_ERROR([no acceptable cc found in \$PATH])
fi

AC_PROG_CC_GNU

if test $ac_cv_prog_gcc = yes; then
  GCC=yes
dnl Check whether -g works, even if CFLAGS is set, in case the package
dnl plays around with CFLAGS (such as to build both debugging and
dnl normal versions of a library), tasteless as that idea is.
  ac_test_CFLAGS="${CFLAGS+set}"
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS=
  AC_PROG_CC_G
  if test "$ac_test_CFLAGS" = set; then
    CFLAGS="$ac_save_CFLAGS"
  elif test $ac_cv_prog_cc_g = yes; then
    CFLAGS="-g -O2"
  else
    CFLAGS="-O2"
  fi
else
  GCC=
  test "${CFLAGS+set}" = set || CFLAGS="-g"
fi
])

d46 1
d114 1
a114 1
AC_OUTPUT(Makefile,
d122 1
@


1.9
log
@
2003-08-20  Chris Demetriou  <cgd@@broadcom.com>

        * mips/crt0_cfe.S: New file.
        * mips/cfe_mem.c: New file.
        * mips/cfe_prestart.S: Remove.
        * mips/cfe.ld: Adjust to use crt0_cfe.o as the startup file, and
        and use _start as the entry point.  Align BSS to 32-byte boundary.
        * mips/cfe.c: Reimplement to fit on top of a crt0_cfe.o file.
        * mips/cfe_api.h (__libcfe_stack_size, __libcfe_mem_limit)
        (__libcfe_meminit, __libcfe_stack_top): New prototypes.
        * mips/Makefile.in (CFEOBJS): Replace cfe_prestart.o with cfe_mem.o.
        (cfe.o, cfe_api.o, cfe_mem.o, crt0_cfe.o): New targets.
        * mips/configure.in: Build and install crt0_cfe.o when CFE support
        is built.
        * mips/configure: Regenerate.
@
text
@d96 2
a97 1
  mipsisa32r2-*-* | mipsisa32r2el-*-*)
@


1.8
log
@
2003-02-05  Chris Demetriou  <cgd@@broadcom.com>

	* mips/configure.in (mipsisa32el-*-*): Handle in the same way
	as mipsisa32-*-*.
	(mipsisa32r2-*-*, mipsisa32r2el-*-*): New, handled in the same
	way as mipsisa32-*-*.
	* mips/configure: Regenerate.
@
text
@d97 1
a97 1
	crt0="crt0_cygmon.o crt0.o"
d122 1
@


1.7
log
@	* mips/configure.in (mips64vr-elf, mips64vrel-elf): New config.
	* mips/configure: Regenerate.
@
text
@d95 2
a96 1
  mipsisa32-*-*)
@


1.6
log
@
2002-11-12 Jeff Johnston  <jjohnstn@@redhat.com>

        *  mips/Makefile.in: Add cygmon support.
        *  mips/configure.in: Ditto.
        *  mips/configure: Regenerated.
        *  mips/crt0_cygmon.S: New file.
        *  mips/cygmon.c: Ditto.
        *  mips/pmon.S: Minor formatting and copyright changes.
        *  mips/crt0.S: Ditto.
@
text
@d115 5
@


1.5
log
@
2002-07-12  Chris Demetriou  <cgd@@broadcom.com>

        * mips/Makefile.in (GENOBJS2): New variable to name other
        commonly used objects.
        (DVEOBJS, JMR3904OBJS): Reference GENOBJS2.

        * mips/Makefile.in: Add support for Broadcom CFE firmware.
        * mips/configure.in: (mipsisa32*-*-*, *): Likewise.
        * mips/configure: Regenerate.
        * mips/cfe.c: New file.
        * mips/cfe.ld: New file.
        * mips/cfe_api.c: New file.
        * mips/cfe_api.h: New file.
        * mips/cfe_api_int.h: New file.
        * mips/cfe_error.h: New file.
        * mips/cfe_prestart.S: New file.
@
text
@d1 1
a1 1
# Copyright (c) 1995, 1996, 1997, 1998, 1999 Cygnus Support
d95 8
a114 6
  mipsisa32*-*-*)
        part_specific_obj=
        part_specific_defines=
        script_list="idt32 idt64 cfe"
        bsp_list="libidt.a libcfe.a"
        ;;
@


1.4
log
@Add ddb-kseg0.ld and switch to kseg1 if sizing memory from kseg0
@
text
@d110 2
a111 2
        script_list="idt32 idt64"
        bsp_list="libidt.a"
d116 2
a117 2
        script_list="idt pmon ddb ddb-kseg0 lsi idtecoff nullmon"
        bsp_list="libidt.a libpmon.a liblsi.a libnullmon.a"
@


1.3
log
@Fix typo.
@
text
@d104 1
a104 1
        script_list="idt pmon ddb lsi idtecoff nullmon"
d116 1
a116 1
        script_list="idt pmon ddb lsi idtecoff nullmon"
@


1.2
log
@2001-09-14  Eric Christopher  <echristo@@redhat.com>

        * mips/configure.in: Add mipsisa32 support.
        * mips/configure: Regenerate.
        * mips/idt32.ld: New file.
        * mips/idt64.ld: New file.
@
text
@d107 1
a107 1
  mipsisa32-*-*)
@


1.1
log
@20000317 sourceware import
@
text
@d40 1
a40 1
# are building a library that must be included in all links, so we 
d107 6
a148 2


@

