head	1.1;
branch	1.1.1;
access;
symbols
	sid-snapshot-20180601:1.1.1.1
	cgen-snapshot-20180601:1.1.1.1
	sid-snapshot-20180501:1.1.1.1
	cgen-snapshot-20180501:1.1.1.1
	sid-snapshot-20180401:1.1.1.1
	cgen-snapshot-20180401:1.1.1.1
	sid-snapshot-20180301:1.1.1.1
	cgen-snapshot-20180301:1.1.1.1
	sid-snapshot-20180201:1.1.1.1
	cgen-snapshot-20180201:1.1.1.1
	sid-snapshot-20180101:1.1.1.1
	cgen-snapshot-20180101:1.1.1.1
	sid-snapshot-20171201:1.1.1.1
	cgen-snapshot-20171201:1.1.1.1
	sid-snapshot-20171101:1.1.1.1
	cgen-snapshot-20171101:1.1.1.1
	sid-snapshot-20171001:1.1.1.1
	cgen-snapshot-20171001:1.1.1.1
	sid-snapshot-20170901:1.1.1.1
	cgen-snapshot-20170901:1.1.1.1
	sid-snapshot-20170801:1.1.1.1
	cgen-snapshot-20170801:1.1.1.1
	sid-snapshot-20170701:1.1.1.1
	cgen-snapshot-20170701:1.1.1.1
	sid-snapshot-20170601:1.1.1.1
	cgen-snapshot-20170601:1.1.1.1
	sid-snapshot-20170501:1.1.1.1
	cgen-snapshot-20170501:1.1.1.1
	sid-snapshot-20170401:1.1.1.1
	cgen-snapshot-20170401:1.1.1.1
	sid-snapshot-20170301:1.1.1.1
	cgen-snapshot-20170301:1.1.1.1
	sid-snapshot-20170201:1.1.1.1
	cgen-snapshot-20170201:1.1.1.1
	sid-snapshot-20170101:1.1.1.1
	cgen-snapshot-20170101:1.1.1.1
	sid-snapshot-20161201:1.1.1.1
	cgen-snapshot-20161201:1.1.1.1
	sid-snapshot-20161101:1.1.1.1
	cgen-snapshot-20161101:1.1.1.1
	sid-snapshot-20160901:1.1.1.1
	cgen-snapshot-20160901:1.1.1.1
	sid-snapshot-20160801:1.1.1.1
	cgen-snapshot-20160801:1.1.1.1
	sid-snapshot-20160701:1.1.1.1
	cgen-snapshot-20160701:1.1.1.1
	sid-snapshot-20160601:1.1.1.1
	cgen-snapshot-20160601:1.1.1.1
	sid-snapshot-20160501:1.1.1.1
	cgen-snapshot-20160501:1.1.1.1
	sid-snapshot-20160401:1.1.1.1
	cgen-snapshot-20160401:1.1.1.1
	sid-snapshot-20160301:1.1.1.1
	cgen-snapshot-20160301:1.1.1.1
	sid-snapshot-20160201:1.1.1.1
	cgen-snapshot-20160201:1.1.1.1
	sid-snapshot-20160101:1.1.1.1
	cgen-snapshot-20160101:1.1.1.1
	sid-snapshot-20151201:1.1.1.1
	cgen-snapshot-20151201:1.1.1.1
	sid-snapshot-20151101:1.1.1.1
	cgen-snapshot-20151101:1.1.1.1
	sid-snapshot-20151001:1.1.1.1
	cgen-snapshot-20151001:1.1.1.1
	sid-snapshot-20150901:1.1.1.1
	cgen-snapshot-20150901:1.1.1.1
	sid-snapshot-20150801:1.1.1.1
	cgen-snapshot-20150801:1.1.1.1
	sid-snapshot-20150701:1.1.1.1
	cgen-snapshot-20150701:1.1.1.1
	sid-snapshot-20150601:1.1.1.1
	cgen-snapshot-20150601:1.1.1.1
	sid-snapshot-20150501:1.1.1.1
	cgen-snapshot-20150501:1.1.1.1
	sid-snapshot-20150401:1.1.1.1
	cgen-snapshot-20150401:1.1.1.1
	cygwin-1_7_35-release:1.1.1.1
	sid-snapshot-20150301:1.1.1.1
	cgen-snapshot-20150301:1.1.1.1
	cygwin-1_7_34-release:1.1.1.1
	sid-snapshot-20150201:1.1.1.1
	cgen-snapshot-20150201:1.1.1.1
	sid-snapshot-20150101:1.1.1.1
	cgen-snapshot-20150101:1.1.1.1
	newlib-2_2_0:1.1.1.1.0.220
	sid-snapshot-20141201:1.1.1.1
	cgen-snapshot-20141201:1.1.1.1
	cygwin-1_7_33-release:1.1.1.1
	sid-snapshot-20141101:1.1.1.1
	cgen-snapshot-20141101:1.1.1.1
	sid-snapshot-20141001:1.1.1.1
	cgen-snapshot-20141001:1.1.1.1
	sid-snapshot-20140901:1.1.1.1
	cgen-snapshot-20140901:1.1.1.1
	cygwin-1_7_32-release:1.1.1.1
	sid-snapshot-20140801:1.1.1.1
	cgen-snapshot-20140801:1.1.1.1
	cygwin-1_7_31-release:1.1.1.1
	sid-snapshot-20140701:1.1.1.1
	cgen-snapshot-20140701:1.1.1.1
	sid-snapshot-20140601:1.1.1.1
	cgen-snapshot-20140601:1.1.1.1
	cygwin-1_7_30-release:1.1.1.1
	sid-snapshot-20140501:1.1.1.1
	cgen-snapshot-20140501:1.1.1.1
	cygwin-1_7_29-release:1.1.1.1
	sid-snapshot-20140401:1.1.1.1
	cgen-snapshot-20140401:1.1.1.1
	sid-snapshot-20140301:1.1.1.1
	cgen-snapshot-20140301:1.1.1.1
	cygwin-1_7_28-release:1.1.1.1
	sid-snapshot-20140201:1.1.1.1
	cgen-snapshot-20140201:1.1.1.1
	sid-snapshot-20140101:1.1.1.1
	cgen-snapshot-20140101:1.1.1.1
	newlib-2_1_0:1.1.1.1
	sid-snapshot-20131201:1.1.1.1
	cgen-snapshot-20131201:1.1.1.1
	cygwin-1_7_27-release:1.1.1.1
	cygwin-1_7_26-release:1.1.1.1
	sid-snapshot-20131101:1.1.1.1
	cgen-snapshot-20131101:1.1.1.1
	sid-snapshot-20131001:1.1.1.1
	cgen-snapshot-20131001:1.1.1.1
	binutils-2_24-branch:1.1.1.1.0.218
	binutils-2_24-branchpoint:1.1.1.1
	binutils-2_21_1:1.1.1.1
	sid-snapshot-20130901:1.1.1.1
	cgen-snapshot-20130901:1.1.1.1
	cygwin-1_7_25-release:1.1.1.1
	gdb_7_6_1-2013-08-30-release:1.1.1.1
	cygwin-1_7_24-release:1.1.1.1
	cygwin-1_7_23-release:1.1.1.1
	sid-snapshot-20130801:1.1.1.1
	cgen-snapshot-20130801:1.1.1.1
	cygwin-1_7_22-release:1.1.1.1
	cygwin-1_7_21-release:1.1.1.1
	sid-snapshot-20130701:1.1.1.1
	cgen-snapshot-20130701:1.1.1.1
	cygwin-1_7_20-release:1.1.1.1
	cygwin-1_7_19-release:1.1.1.1
	sid-snapshot-20130601:1.1.1.1
	cgen-snapshot-20130601:1.1.1.1
	sid-snapshot-20130501:1.1.1.1
	cgen-snapshot-20130501:1.1.1.1
	gdb_7_6-2013-04-26-release:1.1.1.1
	cygwin-64bit-postmerge:1.1.1.1
	cygwin-64bit-premerge-branch:1.1.1.1.0.216
	cygwin-64bit-premerge:1.1.1.1
	sid-snapshot-20130401:1.1.1.1
	cgen-snapshot-20130401:1.1.1.1
	binutils-2_23_2:1.1.1.1
	gdb_7_6-branch:1.1.1.1.0.214
	gdb_7_6-2013-03-12-branchpoint:1.1.1.1
	cygwin-1_7_18-release:1.1.1.1
	sid-snapshot-20130301:1.1.1.1
	cgen-snapshot-20130301:1.1.1.1
	sid-snapshot-20130201:1.1.1.1
	cgen-snapshot-20130201:1.1.1.1
	sid-snapshot-20130101:1.1.1.1
	cgen-snapshot-20130101:1.1.1.1
	newlib-2_0_0:1.1.1.1
	sid-snapshot-20121201:1.1.1.1
	cgen-snapshot-20121201:1.1.1.1
	gdb_7_5_1-2012-11-29-release:1.1.1.1
	binutils-2_23_1:1.1.1.1
	sid-snapshot-20121101:1.1.1.1
	cgen-snapshot-20121101:1.1.1.1
	binutils-2_23:1.1.1.1
	cygwin-1_7_17-release:1.1.1.1
	sid-snapshot-20121001:1.1.1.1
	cgen-snapshot-20121001:1.1.1.1
	sid-snapshot-20120901:1.1.1.1
	cgen-snapshot-20120901:1.1.1.1
	gdb_7_5-2012-08-17-release:1.1.1.1
	cygwin-64bit-branch:1.1.1.1.0.212
	sid-snapshot-20120801:1.1.1.1
	cgen-snapshot-20120801:1.1.1.1
	binutils-2_23-branch:1.1.1.1.0.210
	binutils-2_23-branchpoint:1.1.1.1
	cygwin-1_7_16-release:1.1.1.1
	gdb_7_5-branch:1.1.1.1.0.208
	gdb_7_5-2012-07-18-branchpoint:1.1.1.1
	sid-snapshot-20120701:1.1.1.1
	cgen-snapshot-20120701:1.1.1.1
	sid-snapshot-20120601:1.1.1.1
	cgen-snapshot-20120601:1.1.1.1
	cygwin-1_7_15-release:1.1.1.1
	sid-snapshot-20120501:1.1.1.1
	cgen-snapshot-20120501:1.1.1.1
	binutils-2_22_branch:1.1.1.1.0.206
	gdb_7_4_1-2012-04-26-release:1.1.1.1
	cygwin-1_7_14_2-release:1.1.1.1
	cygwin-1_7_14-release:1.1.1.1
	cygwin-1_7_12-release:1.1.1.1
	sid-snapshot-20120401:1.1.1.1
	cgen-snapshot-20120401:1.1.1.1
	sid-snapshot-20120301:1.1.1.1
	cgen-snapshot-20120301:1.1.1.1
	cygwin-1_7_11-release:1.1.1.1
	cygwin-1_7_10-release:1.1.1.1
	sid-snapshot-20120201:1.1.1.1
	cgen-snapshot-20120201:1.1.1.1
	gdb_7_4-2012-01-24-release:1.1.1.1
	sid-snapshot-20120101:1.1.1.1
	cgen-snapshot-20120101:1.1.1.1
	newlib-1_20_0:1.1.1.1
	gdb_7_4-branch:1.1.1.1.0.204
	gdb_7_4-2011-12-13-branchpoint:1.1.1.1
	sid-snapshot-20111201:1.1.1.1
	cgen-snapshot-20111201:1.1.1.1
	binutils-2_22:1.1.1.1
	sid-snapshot-20111101:1.1.1.1
	cgen-snapshot-20111101:1.1.1.1
	sid-snapshot-20111001:1.1.1.1
	cgen-snapshot-20111001:1.1.1.1
	binutils-2_22-branch:1.1.1.1.0.202
	binutils-2_22-branchpoint:1.1.1.1
	gdb_7_3_1-2011-09-04-release:1.1.1.1
	sid-snapshot-20110901:1.1.1.1
	cgen-snapshot-20110901:1.1.1.1
	sid-snapshot-20110801:1.1.1.1
	cgen-snapshot-20110801:1.1.1.1
	gdb_7_3-2011-07-26-release:1.1.1.1
	sid-snapshot-20110701:1.1.1.1
	cgen-snapshot-20110701:1.1.1.1
	sid-snapshot-20110601:1.1.1.1
	cgen-snapshot-20110601:1.1.1.1
	sid-snapshot-20110501:1.1.1.1
	cgen-snapshot-20110501:1.1.1.1
	gdb_7_3-branch:1.1.1.1.0.200
	gdb_7_3-2011-04-01-branchpoint:1.1.1.1
	sid-snapshot-20110401:1.1.1.1
	cgen-snapshot-20110401:1.1.1.1
	cygwin-1_7_9-release:1.1.1.1
	sid-snapshot-20110301:1.1.1.1
	cgen-snapshot-20110301:1.1.1.1
	cygwin-1_7_8-release:1.1.1.1
	sid-snapshot-20110201:1.1.1.1
	cgen-snapshot-20110201:1.1.1.1
	sid-snapshot-20110101:1.1.1.1
	cgen-snapshot-20110101:1.1.1.1
	newlib-1_19_0:1.1.1.1
	binutils-2_21:1.1.1.1
	sid-snapshot-20101201:1.1.1.1
	cgen-snapshot-20101201:1.1.1.1
	binutils-2_21-branch:1.1.1.1.0.198
	binutils-2_21-branchpoint:1.1.1.1
	sid-snapshot-20101101:1.1.1.1
	cgen-snapshot-20101101:1.1.1.1
	sid-snapshot-20101001:1.1.1.1
	cgen-snapshot-20101001:1.1.1.1
	binutils-2_20_1:1.1.1.1
	gdb_7_2-2010-09-02-release:1.1.1.1
	sid-snapshot-20100901:1.1.1.1
	cgen-snapshot-20100901:1.1.1.1
	cygwin-1_7_7-release:1.1.1.1
	sid-snapshot-20100801:1.1.1.1
	cgen-snapshot-20100801:1.1.1.1
	gdb_7_2-branch:1.1.1.1.0.196
	gdb_7_2-2010-07-07-branchpoint:1.1.1.1
	sid-snapshot-20100701:1.1.1.1
	cgen-snapshot-20100701:1.1.1.1
	sid-snapshot-20100601:1.1.1.1
	cgen-snapshot-20100601:1.1.1.1
	sid-snapshot-20100501:1.1.1.1
	cgen-snapshot-20100501:1.1.1.1
	cygwin-1_7_5-release:1.1.1.1
	cygwin-1_7_4-release:1.1.1.1
	sid-snapshot-20100401:1.1.1.1
	cgen-snapshot-20100401:1.1.1.1
	cygwin-1_7_3-release:1.1.1.1
	cygwin-1_7_2-release:1.1.1.1
	gdb_7_1-2010-03-18-release:1.1.1.1
	sid-snapshot-20100301:1.1.1.1
	cgen-snapshot-20100301:1.1.1.1
	gdb_7_1-branch:1.1.1.1.0.194
	gdb_7_1-2010-02-18-branchpoint:1.1.1.1
	sid-snapshot-20100201:1.1.1.1
	cgen-snapshot-20100201:1.1.1.1
	sid-snapshot-20100101:1.1.1.1
	cgen-snapshot-20100101:1.1.1.1
	gdb_7_0_1-2009-12-22-release:1.1.1.1
	newlib-1_18_0:1.1.1.1
	cygwin-1_7_1-release:1.1.1.1
	sid-snapshot-20091201:1.1.1.1
	cgen-snapshot-20091201:1.1.1.1
	sid-snapshot-20091101:1.1.1.1
	cgen-snapshot-20091101:1.1.1.1
	binutils-2_20:1.1.1.1
	gdb_7_0-2009-10-06-release:1.1.1.1
	sid-snapshot-20091001:1.1.1.1
	cgen-snapshot-20091001:1.1.1.1
	gdb_7_0-branch:1.1.1.1.0.192
	gdb_7_0-2009-09-16-branchpoint:1.1.1.1
	arc-sim-20090309:1.1.1.1
	binutils-arc-20081103-branch:1.1.1.1.0.190
	binutils-arc-20081103-branchpoint:1.1.1.1
	newlib-1_17_0-arc:1.1.1.1.0.188
	binutils-2_20-branch:1.1.1.1.0.186
	binutils-2_20-branchpoint:1.1.1.1
	sid-snapshot-20090901:1.1.1.1
	cgen-snapshot-20090901:1.1.1.1
	sid-snapshot-20090801:1.1.1.1
	cgen-snapshot-20090801:1.1.1.1
	msnyder-checkpoint-072509-branch:1.1.1.1.0.184
	msnyder-checkpoint-072509-branchpoint:1.1.1.1
	sid-snapshot-20090701:1.1.1.1
	cgen-snapshot-20090701:1.1.1.1
	dje-cgen-play1-branch:1.1.1.1.0.182
	dje-cgen-play1-branchpoint:1.1.1.1
	cgen-1_1-branch:1.1.1.1.0.180
	cgen-1_1-branchpoint:1.1.1.1
	sid-snapshot-20090601:1.1.1.1
	cgen-snapshot-20090601:1.1.1.1
	sid-snapshot-20090501:1.1.1.1
	cgen-snapshot-20090501:1.1.1.1
	sid-snapshot-20090401:1.1.1.1
	cgen-snapshot-20090401:1.1.1.1
	binutils-arc-20080908-branch:1.1.1.1.0.178
	binutils-arc-20080908-branchpoint:1.1.1.1
	arc-20081103-branch:1.1.1.1.0.176
	arc-20081103-branchpoint:1.1.1.1
	arc-insight_6_8-branch:1.1.1.1.0.174
	arc-insight_6_8-branchpoint:1.1.1.1
	insight_6_8-branch:1.1.1.1.0.172
	insight_6_8-branchpoint:1.1.1.1
	sid-snapshot-20090301:1.1.1.1
	cgen-snapshot-20090301:1.1.1.1
	binutils-2_19_1:1.1.1.1
	sid-snapshot-20090201:1.1.1.1
	cgen-snapshot-20090201:1.1.1.1
	sid-snapshot-20090101:1.1.1.1
	cgen-snapshot-20090101:1.1.1.1
	reverse-20081226-branch:1.1.1.1.0.170
	reverse-20081226-branchpoint:1.1.1.1
	newlib-1_17_0:1.1.1.1
	sid-snapshot-20081201:1.1.1.1
	cgen-snapshot-20081201:1.1.1.1
	multiprocess-20081120-branch:1.1.1.1.0.168
	multiprocess-20081120-branchpoint:1.1.1.1
	sid-snapshot-20081101:1.1.1.1
	cgen-snapshot-20081101:1.1.1.1
	binutils-2_19:1.1.1.1
	sid-snapshot-20081001:1.1.1.1
	cgen-snapshot-20081001:1.1.1.1
	reverse-20080930-branch:1.1.1.1.0.166
	reverse-20080930-branchpoint:1.1.1.1
	binutils-2_19-branch:1.1.1.1.0.164
	binutils-2_19-branchpoint:1.1.1.1
	sid-snapshot-20080901:1.1.1.1
	cgen-snapshot-20080901:1.1.1.1
	sid-snapshot-20080801:1.1.1.1
	cgen-snapshot-20080801:1.1.1.1
	reverse-20080717-branch:1.1.1.1.0.162
	reverse-20080717-branchpoint:1.1.1.1
	sid-snapshot-20080701:1.1.1.1
	cgen-snapshot-20080701:1.1.1.1
	msnyder-reverse-20080609-branch:1.1.1.1.0.160
	msnyder-reverse-20080609-branchpoint:1.1.1.1
	drow-reverse-20070409-branch:1.1.1.1.0.158
	drow-reverse-20070409-branchpoint:1.1.1.1
	sid-snapshot-20080601:1.1.1.1
	cgen-snapshot-20080601:1.1.1.1
	sid-snapshot-20080501:1.1.1.1
	cgen-snapshot-20080501:1.1.1.1
	sid-snapshot-20080403:1.1.1.1
	sid-snapshot-20080401:1.1.1.1
	cgen-snapshot-20080401:1.1.1.1
	gdb_6_8-2008-03-27-release:1.1.1.1
	sid-snapshot-20080301:1.1.1.1
	cgen-snapshot-20080301:1.1.1.1
	gdb_6_8-branch:1.1.1.1.0.156
	gdb_6_8-2008-02-26-branchpoint:1.1.1.1
	sid-snapshot-20080201:1.1.1.1
	cgen-snapshot-20080201:1.1.1.1
	sid-snapshot-20080101:1.1.1.1
	cgen-snapshot-20080101:1.1.1.1
	newlib-1_16_0:1.1.1.1
	sid-snapshot-20071201:1.1.1.1
	cgen-snapshot-20071201:1.1.1.1
	sid-snapshot-20071101:1.1.1.1
	cgen-snapshot-20071101:1.1.1.1
	gdb_6_7_1-2007-10-29-release:1.1.1.1
	gdb_6_7-2007-10-10-release:1.1.1.1
	sid-snapshot-20071001:1.1.1.1
	cgen-snapshot-20071001:1.1.1.1
	gdb_6_7-branch:1.1.1.1.0.154
	gdb_6_7-2007-09-07-branchpoint:1.1.1.1
	binutils-2_18:1.1.1.1
	binutils-2_18-branch:1.1.1.1.0.152
	binutils-2_18-branchpoint:1.1.1.1
	insight_6_6-20070208-release:1.1.1.1
	newlib-1_15_0:1.1.1.1
	newlib-csl-coldfire-4_1-32:1.1.1.1
	binutils-csl-coldfire-4_1-32:1.1.1.1
	newlib-csl-sourcerygxx-4_1-32:1.1.1.1
	binutils-csl-sourcerygxx-4_1-32:1.1.1.1
	gdb_6_6-2006-12-18-release:1.1.1.1
	newlib-csl-innovasic-fido-3_4_4-33:1.1.1.1
	binutils-csl-innovasic-fido-3_4_4-33:1.1.1.1
	binutils-csl-sourcerygxx-3_4_4-32:1.1.1.1
	newlib-csl-coldfire-4_1-30:1.1.1.1
	binutils-csl-coldfire-4_1-30:1.1.1.1
	newlib-csl-sourcerygxx-4_1-30:1.1.1.1
	binutils-csl-sourcerygxx-4_1-30:1.1.1.1
	newlib-csl-coldfire-4_1-28:1.1.1.1
	binutils-csl-coldfire-4_1-28:1.1.1.1
	binutils-csl-sourcerygxx-4_1-29:1.1.1.1
	newlib-csl-sourcerygxx-4_1-28:1.1.1.1
	binutils-csl-sourcerygxx-4_1-28:1.1.1.1
	gdb_6_6-branch:1.1.1.1.0.150
	gdb_6_6-2006-11-15-branchpoint:1.1.1.1
	newlib-csl-arm-2006q3-27:1.1.1.1
	binutils-csl-arm-2006q3-27:1.1.1.1
	newlib-csl-sourcerygxx-4_1-27:1.1.1.1
	binutils-csl-sourcerygxx-4_1-27:1.1.1.1
	newlib-csl-arm-2006q3-26:1.1.1.1
	binutils-csl-arm-2006q3-26:1.1.1.1
	newlib-csl-sourcerygxx-4_1-26:1.1.1.1
	binutils-csl-sourcerygxx-4_1-26:1.1.1.1
	binutils-csl-sourcerygxx-4_1-25:1.1.1.1
	newlib-csl-sourcerygxx-4_1-24:1.1.1.1
	binutils-csl-sourcerygxx-4_1-24:1.1.1.1
	newlib-csl-sourcerygxx-4_1-23:1.1.1.1
	binutils-csl-sourcerygxx-4_1-23:1.1.1.1
	insight_6_5-20061003-release:1.1.1.1
	gdb-csl-symbian-6_4_50_20060226-12:1.1.1.1
	newlib-csl-sourcerygxx-4_1-21:1.1.1.1
	binutils-csl-sourcerygxx-4_1-21:1.1.1.1
	newlib-csl-arm-2006q3-21:1.1.1.1
	binutils-csl-arm-2006q3-21:1.1.1.1
	binutils-csl-sourcerygxx-4_1-22:1.1.1.1
	binutils-csl-palmsource-arm-prelinker-1_0-1:1.1.1.1
	binutils-csl-sourcerygxx-4_1-20:1.1.1.1
	newlib-csl-arm-2006q3-19:1.1.1.1
	binutils-csl-arm-2006q3-19:1.1.1.1
	newlib-csl-sourcerygxx-4_1-19:1.1.1.1
	binutils-csl-sourcerygxx-4_1-19:1.1.1.1
	newlib-csl-sourcerygxx-4_1-18:1.1.1.1
	binutils-csl-sourcerygxx-4_1-18:1.1.1.1
	binutils-csl-renesas-4_1-9:1.1.1.1
	newlib-csl-sourcerygxx-3_4_4-25:1.1.1.1
	gdb-csl-sourcerygxx-3_4_4-25:1.1.1.1
	binutils-csl-sourcerygxx-3_4_4-25:1.1.1.1
	nickrob-async-20060828-mergepoint:1.1.1.1
	gdb-csl-symbian-6_4_50_20060226-11:1.1.1.1
	binutils-csl-renesas-4_1-8:1.1.1.1
	binutils-csl-renesas-4_1-7:1.1.1.1
	binutils-csl-renesas-4_1-6:1.1.1.1
	newlib-csl-sourcerygxx-4_1-17:1.1.1.1
	gdb-csl-sourcerygxx-4_1-17:1.1.1.1
	binutils-csl-sourcerygxx-4_1-17:1.1.1.1
	gdb-csl-20060226-branch-local-2:1.1.1.1
	cr-0x5f1:1.1.1.1.0.148
	newlib-csl-sourcerygxx-4_1-14:1.1.1.1
	gdb-csl-sourcerygxx-4_1-14:1.1.1.1
	binutils-csl-sourcerygxx-4_1-14:1.1.1.1
	binutils-csl-sourcerygxx-4_1-15:1.1.1.1
	newlib-csl-sourcerygxx-4_1-13:1.1.1.1
	gdb-csl-sourcerygxx-4_1-13:1.1.1.1
	binutils-csl-sourcerygxx-4_1-13:1.1.1.1
	binutils-2_17:1.1.1.1
	newlib-csl-sourcerygxx-4_1-12:1.1.1.1
	gdb-csl-sourcerygxx-4_1-12:1.1.1.1
	binutils-csl-sourcerygxx-4_1-12:1.1.1.1
	gdb-csl-sourcerygxx-3_4_4-21:1.1.1.1
	binutils-csl-sourcerygxx-3_4_4-21:1.1.1.1
	gdb_6_5-20060621-release:1.1.1.1
	binutils-csl-wrs-linux-3_4_4-24:1.1.1.1
	binutils-csl-wrs-linux-3_4_4-23:1.1.1.1
	newlib-csl-sourcerygxx-4_1-9:1.1.1.1
	gdb-csl-sourcerygxx-4_1-9:1.1.1.1
	binutils-csl-sourcerygxx-4_1-9:1.1.1.1
	newlib-csl-sourcerygxx-4_1-8:1.1.1.1
	gdb-csl-sourcerygxx-4_1-8:1.1.1.1
	binutils-csl-sourcerygxx-4_1-8:1.1.1.1
	newlib-csl-sourcerygxx-4_1-7:1.1.1.1
	gdb-csl-sourcerygxx-4_1-7:1.1.1.1
	binutils-csl-sourcerygxx-4_1-7:1.1.1.1
	newlib-csl-arm-2006q1-6:1.1.1.1
	gdb-csl-arm-2006q1-6:1.1.1.1
	binutils-csl-arm-2006q1-6:1.1.1.1
	newlib-csl-sourcerygxx-4_1-6:1.1.1.1
	gdb-csl-sourcerygxx-4_1-6:1.1.1.1
	binutils-csl-sourcerygxx-4_1-6:1.1.1.1
	binutils-csl-wrs-linux-3_4_4-22:1.1.1.1
	gdb-csl-symbian-6_4_50_20060226-10:1.1.1.1
	gdb-csl-symbian-6_4_50_20060226-9:1.1.1.1
	gdb-csl-symbian-6_4_50_20060226-8:1.1.1.1
	gdb-csl-coldfire-4_1-11:1.1.1.1
	binutils-csl-coldfire-4_1-11:1.1.1.1
	gdb-csl-sourcerygxx-3_4_4-19:1.1.1.1
	binutils-csl-sourcerygxx-3_4_4-19:1.1.1.1
	gdb-csl-coldfire-4_1-10:1.1.1.1
	gdb_6_5-branch:1.1.1.1.0.146
	gdb_6_5-2006-05-14-branchpoint:1.1.1.1
	binutils-csl-coldfire-4_1-10:1.1.1.1
	newlib-csl-sourcerygxx-4_1-5:1.1.1.1
	gdb-csl-sourcerygxx-4_1-5:1.1.1.1
	binutils-csl-sourcerygxx-4_1-5:1.1.1.1
	nickrob-async-20060513-branch:1.1.1.1.0.144
	nickrob-async-20060513-branchpoint:1.1.1.1
	newlib-csl-sourcerygxx-4_1-4:1.1.1.1
	gdb-csl-sourcerygxx-4_1-4:1.1.1.1
	binutils-csl-sourcerygxx-4_1-4:1.1.1.1
	msnyder-reverse-20060502-branch:1.1.1.1.0.142
	msnyder-reverse-20060502-branchpoint:1.1.1.1
	binutils-csl-wrs-linux-3_4_4-21:1.1.1.1
	gdb-csl-morpho-4_1-4:1.1.1.1
	binutils-csl-morpho-4_1-4:1.1.1.1
	gdb-csl-sourcerygxx-3_4_4-17:1.1.1.1
	binutils-csl-sourcerygxx-3_4_4-17:1.1.1.1
	binutils-csl-wrs-linux-3_4_4-20:1.1.1.1
	readline_5_1-import-branch:1.1.1.1.0.140
	readline_5_1-import-branchpoint:1.1.1.1
	gdb-csl-20060226-branch-merge-to-csl-symbian-1:1.1.1.1
	binutils-2_17-branch:1.1.1.1.0.138
	binutils-2_17-branchpoint:1.1.1.1
	gdb-csl-symbian-20060226-branch:1.1.1.1.0.136
	gdb-csl-symbian-20060226-branchpoint:1.1.1.1
	gdb-csl-20060226-branch-merge-to-csl-local-1:1.1.1.1
	msnyder-reverse-20060331-branch:1.1.1.1.0.134
	msnyder-reverse-20060331-branchpoint:1.1.1.1
	newlib-autotools-branch:1.1.1.1.0.132
	newlib-csl-20060320-branch:1.1.1.1.0.130
	newlib-csl-20060320-branchpoint:1.1.1.1
	binutils-csl-2_17-branch:1.1.1.1.0.128
	binutils-csl-2_17-branchpoint:1.1.1.1
	gdb-csl-available-20060303-branch:1.1.1.1.0.126
	gdb-csl-available-20060303-branchpoint:1.1.1.1
	gdb-csl-20060226-branch:1.1.1.1.0.124
	gdb-csl-20060226-branchpoint:1.1.1.1
	newlib-1_14_0:1.1.1.1
	gdb_6_4-20051202-release:1.1.1.1
	msnyder-fork-checkpoint-branch:1.1.1.1.0.122
	msnyder-fork-checkpoint-branchpoint:1.1.1.1
	gdb-csl-gxxpro-6_3-branch:1.1.1.1.0.120
	gdb-csl-gxxpro-6_3-branchpoint:1.1.1.1
	gdb_6_4-branch:1.1.1.1.0.118
	gdb_6_4-2005-11-01-branchpoint:1.1.1.1
	gdb-csl-arm-20051020-branch:1.1.1.1.0.116
	gdb-csl-arm-20051020-branchpoint:1.1.1.1
	binutils-csl-gxxpro-3_4-branch:1.1.1.1.0.114
	binutils-csl-gxxpro-3_4-branchpoint:1.1.1.1
	binutils-2_16_1:1.1.1.1
	msnyder-tracepoint-checkpoint-branch:1.1.1.1.0.112
	msnyder-tracepoint-checkpoint-branchpoint:1.1.1.1
	gdb-csl-arm-20050325-2005-q1b:1.1.1.1
	binutils-csl-arm-2005q1b:1.1.1.1
	newlib-csl-arm-2005-q1b:1.1.1.1
	binutils-2_16:1.1.1.1
	newlib-csl-arm-2005-q1a:1.1.1.1
	gdb-csl-arm-20050325-2005-q1a:1.1.1.1
	binutils-csl-arm-2005q1a:1.1.1.1
	csl-arm-20050325-branch:1.1.1.1.0.110
	csl-arm-20050325-branchpoint:1.1.1.1
	binutils-csl-arm-2005q1-branch:1.1.1.1.0.108
	binutils-csl-arm-2005q1-branchpoint:1.1.1.1
	binutils-2_16-branch:1.1.1.1.0.106
	binutils-2_16-branchpoint:1.1.1.1
	newlib-1_13_0:1.1.1.1
	csl-arm-2004-q3d:1.1.1.1
	gdb_6_3-20041109-release:1.1.1.1
	jimb-rda-nptl-branch:1.1.1.1.0.104
	jimb-rda-nptl-branchpoint:1.1.1.1
	gdb_6_3-branch:1.1.1.1.0.100
	gdb_6_3-20041019-branchpoint:1.1.1.1
	csl-arm-2004-q3:1.1.1.1
	drow_intercu-merge-20040921:1.1.1.1
	drow_intercu-merge-20040915:1.1.1.1
	jimb-gdb_6_2-e500-branch:1.1.1.1.0.102
	jimb-gdb_6_2-e500-branchpoint:1.1.1.1
	gdb_6_2-20040730-release:1.1.1.1
	gdb_6_2-branch:1.1.1.1.0.98
	gdb_6_2-2004-07-10-gmt-branchpoint:1.1.1.1
	gdb_6_1_1-20040616-release:1.1.1.1
	binutils-2_15:1.1.1.1
	binutils-2_15-branchpoint:1.1.1.1
	csl-arm-2004-q1a:1.1.1.1
	csl-arm-2004-q1:1.1.1.1
	gdb_6_1-2004-04-05-release:1.1.1.1
	drow_intercu-merge-20040402:1.1.1.1
	drow_intercu-merge-20040327:1.1.1.1
	ezannoni_pie-20040323-branch:1.1.1.1.0.96
	ezannoni_pie-20040323-branchpoint:1.1.1.1
	cagney_tramp-20040321-mergepoint:1.1.1.1
	cagney_tramp-20040309-branch:1.1.1.1.0.94
	cagney_tramp-20040309-branchpoint:1.1.1.1
	gdb_6_1-branch:1.1.1.1.0.92
	gdb_6_1-2004-03-01-gmt-branchpoint:1.1.1.1
	drow_intercu-20040221-branch:1.1.1.1.0.90
	drow_intercu-20040221-branchpoint:1.1.1.1
	binutils-2_15-branch:1.1.1.1.0.88
	cagney_bfdfile-20040213-branch:1.1.1.1.0.86
	cagney_bfdfile-20040213-branchpoint:1.1.1.1
	drow-cplus-merge-20040208:1.1.1.1
	newlib-1_12_0:1.1.1.1
	carlton_dictionary-20040126-merge:1.1.1.1
	cagney_bigcore-20040122-branch:1.1.1.1.0.84
	cagney_bigcore-20040122-branchpoint:1.1.1.1
	drow-cplus-merge-20040113:1.1.1.1
	csl-arm-2003-q4:1.1.1.1
	drow-cplus-merge-20031224:1.1.1.1
	drow-cplus-merge-20031220:1.1.1.1
	carlton_dictionary-20031215-merge:1.1.1.1
	drow-cplus-merge-20031214:1.1.1.1
	carlton-dictionary-20031111-merge:1.1.1.1
	gdb_6_0-2003-10-04-release:1.1.1.1
	kettenis_sparc-20030918-branch:1.1.1.1.0.82
	kettenis_sparc-20030918-branchpoint:1.1.1.1
	carlton_dictionary-20030917-merge:1.1.1.1
	ezannoni_pie-20030916-branchpoint:1.1.1.1
	ezannoni_pie-20030916-branch:1.1.1.1.0.80
	cagney_x86i386-20030821-branch:1.1.1.1.0.78
	cagney_x86i386-20030821-branchpoint:1.1.1.1
	carlton_dictionary-20030805-merge:1.1.1.1
	carlton_dictionary-20030627-merge:1.1.1.1
	gdb_6_0-branch:1.1.1.1.0.76
	gdb_6_0-2003-06-23-branchpoint:1.1.1.1
	jimb-ppc64-linux-20030613-branch:1.1.1.1.0.74
	jimb-ppc64-linux-20030613-branchpoint:1.1.1.1
	binutils-2_14:1.1.1.1
	cagney_convert-20030606-branch:1.1.1.1.0.72
	cagney_convert-20030606-branchpoint:1.1.1.1
	cagney_writestrings-20030508-branch:1.1.1.1.0.70
	cagney_writestrings-20030508-branchpoint:1.1.1.1
	jimb-ppc64-linux-20030528-branch:1.1.1.1.0.68
	jimb-ppc64-linux-20030528-branchpoint:1.1.1.1
	carlton_dictionary-20030523-merge:1.1.1.1
	cagney_fileio-20030521-branch:1.1.1.1.0.66
	cagney_fileio-20030521-branchpoint:1.1.1.1
	kettenis_i386newframe-20030517-mergepoint:1.1.1.1
	jimb-ppc64-linux-20030509-branch:1.1.1.1.0.64
	jimb-ppc64-linux-20030509-branchpoint:1.1.1.1
	kettenis_i386newframe-20030504-mergepoint:1.1.1.1
	carlton_dictionary-20030430-merge:1.1.1.1
	binutils-2_14-branch:1.1.1.1.0.62
	binutils-2_14-branchpoint:1.1.1.1
	kettenis_i386newframe-20030419-branch:1.1.1.1.0.60
	kettenis_i386newframe-20030419-branchpoint:1.1.1.1
	carlton_dictionary-20030416-merge:1.1.1.1
	cagney_frameaddr-20030409-mergepoint:1.1.1.1
	kettenis_i386newframe-20030406-branch:1.1.1.1.0.58
	kettenis_i386newframe-20030406-branchpoint:1.1.1.1
	cagney_frameaddr-20030403-branchpoint:1.1.1.1
	cagney_frameaddr-20030403-branch:1.1.1.1.0.56
	cagney_framebase-20030330-mergepoint:1.1.1.1
	cagney_framebase-20030326-branch:1.1.1.1.0.54
	cagney_framebase-20030326-branchpoint:1.1.1.1
	cagney_lazyid-20030317-branch:1.1.1.1.0.52
	cagney_lazyid-20030317-branchpoint:1.1.1.1
	kettenis-i386newframe-20030316-mergepoint:1.1.1.1
	offbyone-20030313-branch:1.1.1.1.0.50
	offbyone-20030313-branchpoint:1.1.1.1
	kettenis-i386newframe-20030308-branch:1.1.1.1.0.48
	kettenis-i386newframe-20030308-branchpoint:1.1.1.1
	carlton_dictionary-20030305-merge:1.1.1.1
	cagney_offbyone-20030303-branch:1.1.1.1.0.46
	cagney_offbyone-20030303-branchpoint:1.1.1.1
	w32api-2_2:1.1.1.1
	mingw-runtime-2_4:1.1.1.1
	carlton_dictionary-20030207-merge:1.1.1.1
	interps-20030202-branch:1.1.1.1.0.44
	interps-20030202-branchpoint:1.1.1.1
	cagney-unwind-20030108-branch:1.1.1.1.0.42
	cagney-unwind-20030108-branchpoint:1.1.1.1
	binutils-2_13_2_1:1.1.1.1
	binutils-2_13_2:1.1.1.1
	carlton_dictionary-20021223-merge:1.1.1.1
	newlib-1_11_0:1.1.1.1
	gdb_5_3-2002-12-12-release:1.1.1.1
	carlton_dictionary-20021115-merge:1.1.1.1
	binutils-2_13_1:1.1.1.1
	kseitz_interps-20021105-merge:1.1.1.1
	kseitz_interps-20021103-merge:1.1.1.1
	drow-cplus-merge-20021020:1.1.1.1
	drow-cplus-merge-20021025:1.1.1.1
	carlton_dictionary-20021025-merge:1.1.1.1
	carlton_dictionary-20021011-merge:1.1.1.1
	drow-cplus-branch:1.1.1.1.0.40
	drow-cplus-branchpoint:1.1.1.1
	kseitz_interps-20020930-merge:1.1.1.1
	carlton_dictionary-20020927-merge:1.1.1.1
	tcltk840-20020924-branch:1.1.1.1.0.38
	tcltk840-20020924-branchpoint:1.1.1.1
	carlton_dictionary-branch:1.1.1.1.0.36
	carlton_dictionary-20020920-branchpoint:1.1.1.1
	sid-20020905-branchpoint:1.1.1.1
	sid-20020905-branch:1.1.1.1.0.34
	gdb_5_3-branch:1.1.1.1.0.32
	gdb_5_3-2002-09-04-branchpoint:1.1.1.1
	kseitz_interps-20020829-merge:1.1.1.1
	cagney_sysregs-20020825-branch:1.1.1.1.0.30
	cagney_sysregs-20020825-branchpoint:1.1.1.1
	readline_4_3-import-branch:1.1.1.1.0.28
	readline_4_3-import-branchpoint:1.1.1.1
	binutils-2_13:1.1.1.1
	gdb_5_2_1-2002-07-23-release:1.1.1.1
	binutils-2_13-branchpoint:1.1.1.1
	binutils-2_13-branch:1.1.1.1.0.26
	kseitz_interps-20020528-branch:1.1.1.1.0.24
	kseitz_interps-20020528-branchpoint:1.1.1.1
	cagney_regbuf-20020515-branch:1.1.1.1.0.22
	cagney_regbuf-20020515-branchpoint:1.1.1.1
	binutils-2_12_1:1.1.1.1
	jimb-macro-020506-branch:1.1.1.1.0.20
	jimb-macro-020506-branchpoint:1.1.1.1
	gdb_5_2-2002-04-29-release:1.1.1.1
	binutils-2_12:1.1.1.1
	gdb_5_2-branch:1.1.1.1.0.18
	gdb_5_2-2002-03-03-branchpoint:1.1.1.1
	binutils-2_12-branch:1.1.1.1.0.16
	binutils-2_12-branchpoint:1.1.1.1
	gdb_5_1_1-2002-01-24-release:1.1.1.1
	gdb_5_1_0_1-2002-01-03-release:1.1.1.1
	cygnus_cvs_20020108_pre:1.1.1.1
	gdb_5_1_0_1-2002-01-03-branch:1.1.1.1.0.14
	gdb_5_1_0_1-2002-01-03-branchpoint:1.1.1.1
	newlib-1_10_0:1.1.1.1
	gdb_5_1-2001-11-21-release:1.1.1.1
	gdb_s390-2001-09-26-branch:1.1.1.1.0.12
	gdb_s390-2001-09-26-branchpoint:1.1.1.1
	gdb_5_1-2001-07-29-branch:1.1.1.1.0.10
	gdb_5_1-2001-07-29-branchpoint:1.1.1.1
	binutils-2_11_2:1.1.1.1
	binutils-2_11_1:1.1.1.1
	binutils-2_11:1.1.1.1
	x86_64versiong3:1.1.1.1
	binutils-2_11-branch:1.1.1.1.0.8
	insight-precleanup-2001-01-01:1.1.1.1
	newlib-1_9_0:1.1.1.1
	binutils-2_10_1:1.1.1.1
	binutils-2_10:1.1.1.1
	gdb-premipsmulti-2000-06-06-branch:1.1.1.1.0.6
	gdb-premipsmulti-2000-06-06-branchpoint:1.1.1.1
	gdb_5_0-2000-05-19-release:1.1.1.1
	gdb_4_18_2-2000-05-18-release:1.1.1.1
	gdb_4_95_1-2000-05-11-snapshot:1.1.1.1
	gdb_4_95_0-2000-04-27-snapshot:1.1.1.1
	gdb_5_0-2000-04-10-branch:1.1.1.1.0.4
	gdb_5_0-2000-04-10-branchpoint:1.1.1.1
	binutils-2_10-branch:1.1.1.1.0.2
	binutils-2_10-branchpoint:1.1.1.1
	binutils_latest_snapshot:1.1.1.1
	repo-unification-2000-02-06:1.1.1.1
	binu_ss_19990721:1.1.1.1
	binu_ss_19990602:1.1.1.1
	binu_ss_19990502:1.1.1.1
	cygnus:1.1.1;
locks; strict;
comment	@; @;


1.1
date	99.05.03.07.29.06;	author rth;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.05.03.07.29.06;	author rth;	state Exp;
branches;
next	;


desc
@@


1.1
log
@Initial revision
@
text
@;;; ============ NOTE WELL! =============
;;;
;;; You only need to use this file if you're using a version of Emacs
;;; prior to 20.1 to work on GDB.  The only difference between this
;;; and the standard add-log.el provided with 19.34 is that it
;;; generates dates using the terser format used by Emacs 20.  This is
;;; the format recommended for use in GDB ChangeLogs.
;;;
;;; To use this code, you should create a directory `~/elisp', save the code
;;; below in `~/elisp/add-log.el', and then put something like this in
;;; your `~/.emacs' file, to tell Emacs where to find it:
;;; 
;;; (setq load-path
;;;       (cons (expand-file-name "~/elisp")
;;;             load-path))
;;; 
;;; If you want, you can also byte-compile it --- it'll run a little
;;; faster, and use a little less memory.  (Not that those matter much for
;;; this file.)  To do that, after you've saved the text as
;;; ~/elisp/add-log.el, bring it up in Emacs, and type
;;; 
;;;     C-u M-x byte-compile-file
;;;
;;; --- Jim Blandy

;;; add-log.el --- change log maintenance commands for Emacs

;; Copyright (C) 1985, 1986, 1988, 1993, 1994 Free Software Foundation, Inc.

;; Keywords: maint

;; This file is part of GNU Emacs.

;; GNU Emacs is free software; you can redistribute it and/or modify
;; it under the terms of the GNU General Public License as published by
;; the Free Software Foundation; either version 2, or (at your option)
;; any later version.

;; GNU Emacs is distributed in the hope that it will be useful,
;; but WITHOUT ANY WARRANTY; without even the implied warranty of
;; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
;; GNU General Public License for more details.

;; You should have received a copy of the GNU General Public License
;; along with GNU Emacs; see the file COPYING.  If not, write to the
;; Free Software Foundation, Inc., 59 Temple Place - Suite 330,
;; Boston, MA 02111-1307, USA.

;;; Commentary:

;; This facility is documented in the Emacs Manual.

;;; Code:

(defvar change-log-default-name nil
  "*Name of a change log file for \\[add-change-log-entry].")

(defvar add-log-current-defun-function nil
  "\
*If non-nil, function to guess name of current function from surrounding text.
\\[add-change-log-entry] calls this function (if nil, `add-log-current-defun'
instead) with no arguments.  It returns a string or nil if it cannot guess.")

;;;###autoload
(defvar add-log-full-name nil
  "*Full name of user, for inclusion in ChangeLog daily headers.
This defaults to the value returned by the `user-full-name' function.")

;;;###autoload
(defvar add-log-mailing-address nil
  "*Electronic mail address of user, for inclusion in ChangeLog daily headers.
This defaults to the value of `user-mail-address'.")

(defvar change-log-font-lock-keywords
  '(("^[SMTWF].+" . font-lock-function-name-face)	; Date line.
    ("^\t\\* \\([^ :\n]+\\)" 1 font-lock-comment-face)	; File name.
    ("(\\([^)\n]+\\)):" 1 font-lock-keyword-face))	; Function name.
  "Additional expressions to highlight in Change Log mode.")

(defvar change-log-mode-map nil
  "Keymap for Change Log major mode.")
(if change-log-mode-map
    nil
  (setq change-log-mode-map (make-sparse-keymap))
  (define-key change-log-mode-map "\M-q" 'change-log-fill-paragraph))

(defun change-log-name ()
  (or change-log-default-name
      (if (eq system-type 'vax-vms) 
	  "$CHANGE_LOG$.TXT" 
	(if (or (eq system-type 'ms-dos) (eq system-type 'windows-nt))
	    "changelo"
	  "ChangeLog"))))

;;;###autoload
(defun prompt-for-change-log-name ()
  "Prompt for a change log name."
  (let* ((default (change-log-name))
	 (name (expand-file-name
		(read-file-name (format "Log file (default %s): " default)
				nil default))))
    ;; Handle something that is syntactically a directory name.
    ;; Look for ChangeLog or whatever in that directory.
    (if (string= (file-name-nondirectory name) "")
	(expand-file-name (file-name-nondirectory default)
			  name)
      ;; Handle specifying a file that is a directory.
      (if (file-directory-p name)
	  (expand-file-name (file-name-nondirectory default)
			    (file-name-as-directory name))
	name))))

;;;###autoload
(defun find-change-log (&optional file-name)
  "Find a change log file for \\[add-change-log-entry] and return the name.

Optional arg FILE-NAME specifies the file to use.
If FILE-NAME is nil, use the value of `change-log-default-name'.
If 'change-log-default-name' is nil, behave as though it were 'ChangeLog'
\(or whatever we use on this operating system).

If 'change-log-default-name' contains a leading directory component, then
simply find it in the current directory.  Otherwise, search in the current 
directory and its successive parents for a file so named.

Once a file is found, `change-log-default-name' is set locally in the
current buffer to the complete file name."
  ;; If user specified a file name or if this buffer knows which one to use,
  ;; just use that.
  (or file-name
      (setq file-name (and change-log-default-name
			   (file-name-directory change-log-default-name)
			   change-log-default-name))
      (progn
	;; Chase links in the source file
	;; and use the change log in the dir where it points.
	(setq file-name (or (and buffer-file-name
				 (file-name-directory
				  (file-chase-links buffer-file-name)))
			    default-directory))
	(if (file-directory-p file-name)
	    (setq file-name (expand-file-name (change-log-name) file-name)))
	;; Chase links before visiting the file.
	;; This makes it easier to use a single change log file
	;; for several related directories.
	(setq file-name (file-chase-links file-name))
	(setq file-name (expand-file-name file-name))
	;; Move up in the dir hierarchy till we find a change log file.
	(let ((file1 file-name)
	      parent-dir)
	  (while (and (not (or (get-file-buffer file1) (file-exists-p file1)))
		      (progn (setq parent-dir
				   (file-name-directory
				    (directory-file-name
				     (file-name-directory file1))))
			     ;; Give up if we are already at the root dir.
			     (not (string= (file-name-directory file1)
					   parent-dir))))
	    ;; Move up to the parent dir and try again.
	    (setq file1 (expand-file-name 
			 (file-name-nondirectory (change-log-name))
			 parent-dir)))
	  ;; If we found a change log in a parent, use that.
	  (if (or (get-file-buffer file1) (file-exists-p file1))
	      (setq file-name file1)))))
  ;; Make a local variable in this buffer so we needn't search again.
  (set (make-local-variable 'change-log-default-name) file-name)
  file-name)

;;;###autoload
(defun add-change-log-entry (&optional whoami file-name other-window new-entry)
  "Find change log file and add an entry for today.
Optional arg (interactive prefix) non-nil means prompt for user name and site.
Second arg is file name of change log.  If nil, uses `change-log-default-name'.
Third arg OTHER-WINDOW non-nil means visit in other window.
Fourth arg NEW-ENTRY non-nil means always create a new entry at the front;
never append to an existing entry."
  (interactive (list current-prefix-arg
		     (prompt-for-change-log-name)))
  (or add-log-full-name
      (setq add-log-full-name (user-full-name)))
  (or add-log-mailing-address
      (setq add-log-mailing-address user-mail-address))
  (if whoami
      (progn
	(setq add-log-full-name (read-input "Full name: " add-log-full-name))
	 ;; Note that some sites have room and phone number fields in
	 ;; full name which look silly when inserted.  Rather than do
	 ;; anything about that here, let user give prefix argument so that
	 ;; s/he can edit the full name field in prompter if s/he wants.
	(setq add-log-mailing-address
	      (read-input "Mailing address: " add-log-mailing-address))))
  (let ((defun (funcall (or add-log-current-defun-function
			    'add-log-current-defun)))
	paragraph-end entry)

    (setq file-name (expand-file-name (find-change-log file-name)))

    ;; Set ENTRY to the file name to use in the new entry.
    (and buffer-file-name
	 ;; Never want to add a change log entry for the ChangeLog file itself.
	 (not (string= buffer-file-name file-name))
	 (setq entry (if (string-match
			  (concat "^" (regexp-quote (file-name-directory
						     file-name)))
			  buffer-file-name)
			 (substring buffer-file-name (match-end 0))
		       (file-name-nondirectory buffer-file-name))))

    (if (and other-window (not (equal file-name buffer-file-name)))
	(find-file-other-window file-name)
      (find-file file-name))
    (or (eq major-mode 'change-log-mode)
	(change-log-mode))
    (undo-boundary)
    (goto-char (point-min))
    (let ((heading (format "%s  %s  <%s>"
			   (format-time-string "%Y-%m-%d")
			   add-log-full-name
			   add-log-mailing-address)))
      (if (looking-at (regexp-quote heading))
	  (forward-line 1)
	(insert heading "\n\n")))

    ;; Search only within the first paragraph.
    (if (looking-at "\n*[^\n* \t]")
	(skip-chars-forward "\n")
      (forward-paragraph 1))
    (setq paragraph-end (point))
    (goto-char (point-min))

    ;; Now insert the new line for this entry.
    (cond ((re-search-forward "^\\s *\\*\\s *$" paragraph-end t)
	   ;; Put this file name into the existing empty entry.
	   (if entry
	       (insert entry)))
	  ((and (not new-entry)
		(let (case-fold-search)
		  (re-search-forward
		   (concat (regexp-quote (concat "* " entry))
			   ;; Don't accept `foo.bar' when
			   ;; looking for `foo':
			   "\\(\\s \\|[(),:]\\)")
		   paragraph-end t)))
	   ;; Add to the existing entry for the same file.
	   (re-search-forward "^\\s *$\\|^\\s \\*")
	   (goto-char (match-beginning 0))
	   ;; Delete excess empty lines; make just 2.
	   (while (and (not (eobp)) (looking-at "^\\s *$"))
	     (delete-region (point) (save-excursion (forward-line 1) (point))))
	   (insert "\n\n")
	   (forward-line -2)
	   (indent-relative-maybe))
	  (t
	   ;; Make a new entry.
	   (forward-line 1)
	   (while (looking-at "\\sW")
	     (forward-line 1))
	   (while (and (not (eobp)) (looking-at "^\\s *$"))
	     (delete-region (point) (save-excursion (forward-line 1) (point))))
	   (insert "\n\n\n")
	   (forward-line -2)
	   (indent-to left-margin)
	   (insert "* " (or entry ""))))
    ;; Now insert the function name, if we have one.
    ;; Point is at the entry for this file,
    ;; either at the end of the line or at the first blank line.
    (if defun
	(progn
	  ;; Make it easy to get rid of the function name.
	  (undo-boundary)
	  (insert (if (save-excursion
			(beginning-of-line 1)
			(looking-at "\\s *$")) 
		      ""
		    " ")
		  "(" defun "): "))
      ;; No function name, so put in a colon unless we have just a star.
      (if (not (save-excursion
		 (beginning-of-line 1)
		 (looking-at "\\s *\\(\\*\\s *\\)?$")))
	  (insert ": ")))))

;;;###autoload
(defun add-change-log-entry-other-window (&optional whoami file-name)
  "Find change log file in other window and add an entry for today.
Optional arg (interactive prefix) non-nil means prompt for user name and site.
Second arg is file name of change log.  \
If nil, uses `change-log-default-name'."
  (interactive (if current-prefix-arg
		   (list current-prefix-arg
			 (prompt-for-change-log-name))))
  (add-change-log-entry whoami file-name t))
;;;###autoload (define-key ctl-x-4-map "a" 'add-change-log-entry-other-window)

;;;###autoload
(defun change-log-mode ()
  "Major mode for editing change logs; like Indented Text Mode.
Prevents numeric backups and sets `left-margin' to 8 and `fill-column' to 74.
New log entries are usually made with \\[add-change-log-entry] or \\[add-change-log-entry-other-window].
Each entry behaves as a paragraph, and the entries for one day as a page.
Runs `change-log-mode-hook'."
  (interactive)
  (kill-all-local-variables)
  (indented-text-mode)
  (setq major-mode 'change-log-mode
	mode-name "Change Log"
	left-margin 8
	fill-column 74
    indent-tabs-mode t
    tab-width 8)
  (use-local-map change-log-mode-map)
  ;; Let each entry behave as one paragraph:
  ;; We really do want "^" in paragraph-start below: it is only the lines that
  ;; begin at column 0 (despite the left-margin of 8) that we are looking for.
  (set (make-local-variable 'paragraph-start) "\\s *$\\|\f\\|^\\sw")
  (set (make-local-variable 'paragraph-separate) "\\s *$\\|\f\\|^\\sw")
  ;; Let all entries for one day behave as one page.
  ;; Match null string on the date-line so that the date-line
  ;; is grouped with what follows.
  (set (make-local-variable 'page-delimiter) "^\\<\\|^\f")
  (set (make-local-variable 'version-control) 'never)
  (set (make-local-variable 'adaptive-fill-regexp) "\\s *")
  (set (make-local-variable 'font-lock-defaults)
       '(change-log-font-lock-keywords t))
  (run-hooks 'change-log-mode-hook))

;; It might be nice to have a general feature to replace this.  The idea I
;; have is a variable giving a regexp matching text which should not be
;; moved from bol by filling.  change-log-mode would set this to "^\\s *\\s(".
;; But I don't feel up to implementing that today.
(defun change-log-fill-paragraph (&optional justify)
  "Fill the paragraph, but preserve open parentheses at beginning of lines.
Prefix arg means justify as well."
  (interactive "P")
  (let ((end (save-excursion (forward-paragraph) (point)))
	(beg (save-excursion (backward-paragraph)(point)))
	(paragraph-start (concat paragraph-start "\\|\\s *\\s(")))
    (fill-region beg end justify)))

(defvar add-log-current-defun-header-regexp
  "^\\([A-Z][A-Z_ ]*[A-Z_]\\|[-_a-zA-Z]+\\)[ \t]*[:=]"
  "*Heuristic regexp used by `add-log-current-defun' for unknown major modes.")

;;;###autoload
(defun add-log-current-defun ()
  "Return name of function definition point is in, or nil.

Understands C, Lisp, LaTeX (\"functions\" are chapters, sections, ...),
Texinfo (@@node titles), Perl, and Fortran.

Other modes are handled by a heuristic that looks in the 10K before
point for uppercase headings starting in the first column or
identifiers followed by `:' or `=', see variable
`add-log-current-defun-header-regexp'.

Has a preference of looking backwards."
  (condition-case nil
      (save-excursion
	(let ((location (point)))
	  (cond ((memq major-mode '(emacs-lisp-mode lisp-mode scheme-mode
						    lisp-interaction-mode))
		 ;; If we are now precisely at the beginning of a defun,
		 ;; make sure beginning-of-defun finds that one
		 ;; rather than the previous one.
		 (or (eobp) (forward-char 1))
		 (beginning-of-defun)
		 ;; Make sure we are really inside the defun found, not after it.
		 (if (and (looking-at "\\s(")
			  (progn (end-of-defun)
				 (< location (point)))
			  (progn (forward-sexp -1)
				 (>= location (point))))
		     (progn
		       (if (looking-at "\\s(")
			   (forward-char 1))
		       (forward-sexp 1)
		       (skip-chars-forward " '")
		       (buffer-substring (point)
					 (progn (forward-sexp 1) (point))))))
		((and (memq major-mode '(c-mode c++-mode c++-c-mode objc-mode))
		      (save-excursion (beginning-of-line)
				      ;; Use eq instead of = here to avoid
				      ;; error when at bob and char-after
				      ;; returns nil.
				      (while (eq (char-after (- (point) 2)) ?\\)
					(forward-line -1))
				      (looking-at "[ \t]*#[ \t]*define[ \t]")))
		 ;; Handle a C macro definition.
		 (beginning-of-line)
		 (while (eq (char-after (- (point) 2)) ?\\) ;not =; note above
		   (forward-line -1))
		 (search-forward "define")
		 (skip-chars-forward " \t")
		 (buffer-substring (point)
				   (progn (forward-sexp 1) (point))))
		((memq major-mode '(c-mode c++-mode c++-c-mode objc-mode))
		 (beginning-of-line)
		 ;; See if we are in the beginning part of a function,
		 ;; before the open brace.  If so, advance forward.
		 (while (not (looking-at "{\\|\\(\\s *$\\)"))
		   (forward-line 1))
		 (or (eobp)
		     (forward-char 1))
		 (beginning-of-defun)
		 (if (progn (end-of-defun)
			    (< location (point)))
		     (progn
		       (backward-sexp 1)
		       (let (beg tem)

			 (forward-line -1)
			 ;; Skip back over typedefs of arglist.
			 (while (and (not (bobp))
				     (looking-at "[ \t\n]"))
			   (forward-line -1))
			 ;; See if this is using the DEFUN macro used in Emacs,
			 ;; or the DEFUN macro used by the C library.
			 (if (condition-case nil
				 (and (save-excursion
					(end-of-line)
					(while (= (preceding-char) ?\\)
					  (end-of-line 2))
					(backward-sexp 1)
					(beginning-of-line)
					(setq tem (point))
					(looking-at "DEFUN\\b"))
				      (>= location tem))
			       (error nil))
			     (progn
			       (goto-char tem)
			       (down-list 1)
			       (if (= (char-after (point)) ?\")
				   (progn
				     (forward-sexp 1)
				     (skip-chars-forward " ,")))
			       (buffer-substring (point)
						 (progn (forward-sexp 1) (point))))
                           (if (looking-at "^[+-]")
                               (get-method-definition)
                             ;; Ordinary C function syntax.
                             (setq beg (point))
                             (if (and (condition-case nil
					  ;; Protect against "Unbalanced parens" error.
					  (progn
					    (down-list 1) ; into arglist
					    (backward-up-list 1)
					    (skip-chars-backward " \t")
					    t)
					(error nil))
				      ;; Verify initial pos was after
				      ;; real start of function.
				      (save-excursion
					(goto-char beg)
					;; For this purpose, include the line
					;; that has the decl keywords.  This
					;; may also include some of the
					;; comments before the function.
					(while (and (not (bobp))
						    (save-excursion
						      (forward-line -1)
						      (looking-at "[^\n\f]")))
					  (forward-line -1))
					(>= location (point)))
                                          ;; Consistency check: going down and up
                                          ;; shouldn't take us back before BEG.
                                          (> (point) beg))
				 (let (end middle)
				   ;; Don't include any final newline
				   ;; in the name we use.
				   (if (= (preceding-char) ?\n)
				       (forward-char -1))
				   (setq end (point))
				   (backward-sexp 1)
				   ;; Now find the right beginning of the name.
				   ;; Include certain keywords if they
				   ;; precede the name.
				   (setq middle (point))
				   (forward-word -1)
				   ;; Ignore these subparts of a class decl
				   ;; and move back to the class name itself.
				   (while (looking-at "public \\|private ")
				     (skip-chars-backward " \t:")
				     (setq end (point))
				     (backward-sexp 1)
				     (setq middle (point))
				     (forward-word -1))
				   (and (bolp)
					(looking-at "struct \\|union \\|class ")
					(setq middle (point)))
				   (buffer-substring middle end)))))))))
		((memq major-mode
		       '(TeX-mode plain-TeX-mode LaTeX-mode;; tex-mode.el
				  plain-tex-mode latex-mode;; cmutex.el
				  ))
		 (if (re-search-backward
		      "\\\\\\(sub\\)*\\(section\\|paragraph\\|chapter\\)" nil t)
		     (progn
		       (goto-char (match-beginning 0))
		       (buffer-substring (1+ (point));; without initial backslash
					 (progn
					   (end-of-line)
					   (point))))))
		((eq major-mode 'texinfo-mode)
		 (if (re-search-backward "^@@node[ \t]+\\([^,\n]+\\)" nil t)
		     (buffer-substring (match-beginning 1)
				       (match-end 1))))
		((eq major-mode 'perl-mode)
		 (if (re-search-backward "^sub[ \t]+\\([^ \t\n]+\\)" nil t)
		     (buffer-substring (match-beginning 1)
				       (match-end 1))))
                ((eq major-mode 'fortran-mode)
                 ;; must be inside function body for this to work
                 (beginning-of-fortran-subprogram)
                 (let ((case-fold-search t)) ; case-insensitive
                   ;; search for fortran subprogram start
                   (if (re-search-forward
			 "^[ \t]*\\(program\\|subroutine\\|function\
\\|[ \ta-z0-9*]*[ \t]+function\\)"
			 nil t)
                       (progn
                         ;; move to EOL or before first left paren
                         (if (re-search-forward "[(\n]" nil t)
			     (progn (forward-char -1)
				    (skip-chars-backward " \t"))
			   (end-of-line))
			 ;; Use the name preceding that.
                         (buffer-substring (point)
                                           (progn (forward-sexp -1)
                                                  (point)))))))
		(t
		 ;; If all else fails, try heuristics
		 (let (case-fold-search)
		   (end-of-line)
		   (if (re-search-backward add-log-current-defun-header-regexp
					   (- (point) 10000)
					   t)
		       (buffer-substring (match-beginning 1)
					 (match-end 1))))))))
    (error nil)))

(defvar get-method-definition-md)

;; Subroutine used within get-method-definition.
;; Add the last match in the buffer to the end of `md',
;; followed by the string END; move to the end of that match.
(defun get-method-definition-1 (end)
  (setq get-method-definition-md
	(concat get-method-definition-md 
		(buffer-substring (match-beginning 1) (match-end 1))
		end))
  (goto-char (match-end 0)))

;; For objective C, return the method name if we are in a method.
(defun get-method-definition ()
  (let ((get-method-definition-md "["))
    (save-excursion
      (if (re-search-backward "^@@implementation\\s-*\\([A-Za-z_]*\\)" nil t)
	  (get-method-definition-1 " ")))
    (save-excursion
      (cond
       ((re-search-forward "^\\([-+]\\)[ \t\n\f\r]*\\(([^)]*)\\)?\\s-*" nil t)
	(get-method-definition-1 "")
	(while (not (looking-at "[{;]"))
	  (looking-at
	   "\\([A-Za-z_]*:?\\)\\s-*\\(([^)]*)\\)?[A-Za-z_]*[ \t\n\f\r]*")
	  (get-method-definition-1 ""))
	(concat get-method-definition-md "]"))))))


(provide 'add-log)

;;; add-log.el ends here
@


1.1.1.1
log
@19990502 sourceware import
@
text
@@

