head	1.5;
access;
symbols
	sid-snapshot-20180601:1.5
	sid-snapshot-20180501:1.5
	sid-snapshot-20180401:1.5
	sid-snapshot-20180301:1.5
	sid-snapshot-20180201:1.5
	sid-snapshot-20180101:1.5
	sid-snapshot-20171201:1.5
	sid-snapshot-20171101:1.5
	sid-snapshot-20171001:1.5
	sid-snapshot-20170901:1.5
	sid-snapshot-20170801:1.5
	sid-snapshot-20170701:1.5
	sid-snapshot-20170601:1.5
	sid-snapshot-20170501:1.5
	sid-snapshot-20170401:1.5
	sid-snapshot-20170301:1.5
	sid-snapshot-20170201:1.5
	sid-snapshot-20170101:1.5
	sid-snapshot-20161201:1.5
	sid-snapshot-20161101:1.5
	sid-snapshot-20160901:1.5
	sid-snapshot-20160801:1.5
	sid-snapshot-20160701:1.5
	sid-snapshot-20160601:1.5
	sid-snapshot-20160501:1.5
	sid-snapshot-20160401:1.5
	sid-snapshot-20160301:1.5
	sid-snapshot-20160201:1.5
	sid-snapshot-20160101:1.5
	sid-snapshot-20151201:1.5
	sid-snapshot-20151101:1.5
	sid-snapshot-20151001:1.5
	sid-snapshot-20150901:1.5
	sid-snapshot-20150801:1.5
	sid-snapshot-20150701:1.5
	sid-snapshot-20150601:1.5
	sid-snapshot-20150501:1.5
	sid-snapshot-20150401:1.5
	sid-snapshot-20150301:1.5
	sid-snapshot-20150201:1.5
	sid-snapshot-20150101:1.5
	sid-snapshot-20141201:1.5
	sid-snapshot-20141101:1.5
	sid-snapshot-20141001:1.5
	sid-snapshot-20140901:1.5
	sid-snapshot-20140801:1.5
	sid-snapshot-20140701:1.5
	sid-snapshot-20140601:1.5
	sid-snapshot-20140501:1.5
	sid-snapshot-20140401:1.5
	sid-snapshot-20140301:1.5
	sid-snapshot-20140201:1.5
	sid-snapshot-20140101:1.5
	sid-snapshot-20131201:1.5
	sid-snapshot-20131101:1.5
	sid-snapshot-20131001:1.5
	sid-snapshot-20130901:1.5
	sid-snapshot-20130801:1.5
	sid-snapshot-20130701:1.5
	sid-snapshot-20130601:1.5
	insight_7_6-2013-04-10-branchpoint:1.5
	gdb_7_6-branch:1.5.0.28
	sid-snapshot-20130501:1.5
	sid-snapshot-20130401:1.5
	sid-snapshot-20130301:1.5
	sid-snapshot-20130201:1.5
	sid-snapshot-20130101:1.5
	sid-snapshot-20121201:1.5
	sid-snapshot-20121101:1.5
	sid-snapshot-20121001:1.5
	sid-snapshot-20120901:1.5
	gdb_7_5-branch:1.5.0.26
	sid-snapshot-20120801:1.5
	sid-snapshot-20120701:1.5
	sid-snapshot-20120601:1.5
	sid-snapshot-20120501:1.5
	sid-snapshot-20120401:1.5
	gdb_7_4-branch:1.5.0.24
	sid-snapshot-20120301:1.5
	sid-snapshot-20120201:1.5
	sid-snapshot-20120101:1.5
	sid-snapshot-20111201:1.5
	sid-snapshot-20111101:1.5
	sid-snapshot-20111001:1.5
	sid-snapshot-20110901:1.5
	gdb_7_3-branch:1.5.0.22
	sid-snapshot-20110801:1.5
	sid-snapshot-20110701:1.5
	sid-snapshot-20110601:1.5
	sid-snapshot-20110501:1.5
	sid-snapshot-20110401:1.5
	sid-snapshot-20110301:1.5
	sid-snapshot-20110201:1.5
	sid-snapshot-20110101:1.5
	sid-snapshot-20101201:1.5
	sid-snapshot-20101101:1.5
	sid-snapshot-20101001:1.5
	sid-snapshot-20100901:1.5
	sid-snapshot-20100801:1.5
	sid-snapshot-20100701:1.5
	sid-snapshot-20100601:1.5
	sid-snapshot-20100501:1.5
	sid-snapshot-20100401:1.5
	sid-snapshot-20100301:1.5
	gdb_7_1-branch:1.5.0.20
	gdb_7_0-branch:1.5.0.18
	sid-snapshot-20100201:1.5
	sid-snapshot-20100101:1.5
	sid-snapshot-20091201:1.5
	sid-snapshot-20091101:1.5
	sid-snapshot-20091001:1.5
	arc-sim-20090309:1.5
	sid-snapshot-20090901:1.5
	sid-snapshot-20090801:1.5
	sid-snapshot-20090701:1.5
	sid-snapshot-20090601:1.5
	sid-snapshot-20090501:1.5
	kevinb-pre-tk8_5_7_merge:1.5
	sid-snapshot-20090401:1.5
	arc-insight_6_8-branch:1.5.0.16
	arc-insight_6_8-branchpoint:1.5
	insight_6_8-branch:1.5.0.14
	insight_6_8-branchpoint:1.5
	sid-snapshot-20090301:1.5
	sid-snapshot-20090201:1.5
	sid-snapshot-20090101:1.5
	sid-snapshot-20081201:1.5
	sid-snapshot-20081101:1.5
	sid-snapshot-20081001:1.5
	sid-snapshot-20080901:1.5
	sid-snapshot-20080801:1.5
	sid-snapshot-20080701:1.5
	sid-snapshot-20080601:1.5
	sid-snapshot-20080501:1.5
	sid-snapshot-20080403:1.5
	sid-snapshot-20080401:1.5
	gdb_6_8-branch:1.5.0.12
	sid-snapshot-20080301:1.5
	sid-snapshot-20080201:1.5
	sid-snapshot-20080101:1.5
	sid-snapshot-20071201:1.5
	sid-snapshot-20071101:1.5
	sid-snapshot-20071001:1.5
	insight_6_6-20070208-release:1.5
	gdb_6_6-branch:1.5.0.10
	gdb_6_6-2006-11-15-branchpoint:1.5
	insight_6_5-20061003-release:1.5
	gdb_6_5-branch:1.5.0.8
	gdb_6_5-2006-05-14-branchpoint:1.5
	gdb_6_4-branch:1.5.0.6
	gdb_6_4-2005-11-01-branchpoint:1.5
	gdb_6_1-2004-04-05-release:1.5
	gdb_6_1-branch:1.5.0.4
	gdb_6_1-2004-03-01-gmt-branchpoint:1.5
	gdb_6_0-2003-10-04-release:1.5
	gdb_6_0-branch:1.5.0.2
	gdb_6_0-2003-06-23-branchpoint:1.5
	TK8_4_1:1.1.1.3
	gdb_5_3-2002-12-12-release:1.2
	tcltk840-20020924-branch:1.3.0.2
	tcltk840-20020924-branchpoint:1.3
	TK_8_4_0:1.1.1.3
	sid-20020905-branchpoint:1.2
	sid-20020905-branch:1.2.0.6
	gdb_5_3-branch:1.2.0.4
	gdb_5_3-2002-09-04-branchpoint:1.2
	gdb_5_2_1-2002-07-23-release:1.2
	gdb_5_2-2002-04-29-release:1.2
	gdb_5_2-branch:1.2.0.2
	gdb_5_2-2002-03-03-branchpoint:1.2
	gdb_5_1_1-2002-01-24-release:1.1.1.1
	cygnus_cvs_20020108_pre:1.2
	gdb_5_1_0_1-2002-01-03-branch:1.1.1.1.0.8
	gdb_5_1_0_1-2002-01-03-branchpoint:1.1.1.1
	gdb_5_1-2001-11-21-release:1.1.1.1
	gdb_s390-2001-09-26-branch:1.1.1.1.0.6
	gdb_s390-2001-09-26-branchpoint:1.1.1.1
	TK_8_3:1.1.1.2
	NET:1.1.1
	gdb_5_1-2001-07-29-branch:1.1.1.1.0.4
	gdb_5_1-2001-07-29-branchpoint:1.1.1.1
	insight-precleanup-2001-01-01:1.1.1.1
	gdb_5_0-2000-05-19-release:1.1.1.1
	gdb_4_18_2-2000-05-18-release:1.1.1.1
	gdb_4_95_1-2000-05-11-snapshot:1.1.1.1
	gdb_4_95_0-2000-04-27-snapshot:1.1.1.1
	gdb_5_0-2000-04-10-branch:1.1.1.1.0.2
	gdb_5_0-2000-04-10-branchpoint:1.1.1.1
	repo-unification-2000-02-06:1.1.1.1
	insight-2000-02-04:1.1.1.1
	SNAPSHOT:1.1.1;
locks; strict;
comment	@# @;
expand	@o@;


1.5
date	2003.01.21.20.24.51;	author hunt;	state Exp;
branches;
next	1.4;

1.4
date	2003.01.21.19.53.16;	author hunt;	state Exp;
branches;
next	1.3;

1.3
date	2002.09.24.18.39.29;	author kseitz;	state Exp;
branches;
next	1.2;

1.2
date	2001.09.10.01.16.54;	author irox;	state Exp;
branches;
next	1.1;

1.1
date	2000.02.07.00.19.30;	author jsm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.02.07.00.19.30;	author jsm;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2001.09.10.00.22.36;	author irox;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2002.09.24.20.39.09;	author kseitz;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Updated to tk 8.4.1
@
text
@# This file is a Tcl script to test the code in the file tkTextTag.c.
# This file is organized in the standard fashion for Tcl tests.
#
# Copyright (c) 1994 The Regents of the University of California.
# Copyright (c) 1994-1996 Sun Microsystems, Inc.
# Copyright (c) 1998-1999 by Scriptics Corporation.
# All rights reserved.
#
# RCS: @@(#) $Id: textTag.test,v 1.6 2002/07/13 20:28:35 dgp Exp $

package require tcltest 2.1
namespace import -force tcltest::configure
namespace import -force tcltest::testsDirectory
configure -testdir [file join [pwd] [file dirname [info script]]]
configure -loadfile [file join [testsDirectory] constraints.tcl]
tcltest::loadTestedCommands

catch {destroy .t}
testConstraint courier12 [expr {[catch {
				text .t -font {Courier 12} -width 20 -height 10
				}] == 0}]

pack append . .t {top expand fill}
update
.t debug on
wm geometry . {}
set bigFont {Helvetica 24}
  
# The statements below reset the main window;  it's needed if the window
# manager is mwm, to make mwm forget about a previous minimum size setting.

wm withdraw .
wm minsize . 1 1
wm positionfrom . user
wm deiconify .

entry .t.e
.t.e insert 0 "Text"

.t insert 1.0 "Line 1
abcdefghijklm
12345
Line 4
bOy GIrl .#@@? x_yz
!@@#$%
Line 7"


set i 1
foreach test {
    {-background #012345 #012345 non-existent
	    {unknown color name "non-existent"}}
    {-bgstipple gray50 gray50 badStipple
	    {bitmap "badStipple" not defined}}
    {-borderwidth 2 2 46q
	    {bad screen distance "46q"}}
    {-fgstipple gray25 gray25 bogus
	    {bitmap "bogus" not defined}}
    {-font fixed fixed {}
	    {font "" doesn't exist}}
    {-foreground #001122 #001122 {silly color}
	    {unknown color name "silly color"}}
    {-justify left left middle
	    {bad justification "middle": must be left, right, or center}}
    {-lmargin1 10 10 bad
	    {bad screen distance "bad"}}
    {-lmargin2 10 10 bad
	    {bad screen distance "bad"}}
    {-offset 2 2 100xyz
	    {bad screen distance "100xyz"}}
    {-overstrike on on stupid
	    {expected boolean value but got "stupid"}}
    {-relief raised raised stupid
	    {bad relief type "stupid": must be flat, groove, raised, ridge, solid, or sunken}}
    {-rmargin 10 10 bad
	    {bad screen distance "bad"}}
    {-spacing1 10 10 bad
	    {bad screen distance "bad"}}
    {-spacing2 10 10 bad
	    {bad screen distance "bad"}}
    {-spacing3 10 10 bad
	    {bad screen distance "bad"}}
    {-tabs {10 20 30} {10 20 30} {10 fork}
	    {bad tab alignment "fork": must be left, right, center, or numeric}}
    {-underline no no stupid
	    {expected boolean value but got "stupid"}}
} {
    set name [lindex $test 0]
    test textTag-1.$i {tag configuration options} courier12 {
	.t tag configure x $name [lindex $test 1]
	.t tag cget x $name
    } [lindex $test 2]
    incr i
    if {[lindex $test 3] != ""} {
	test textTag-1.$i {configuration options} courier12 {
	    list [catch {.t tag configure x $name [lindex $test 3]} msg] $msg
	} [list 1 [lindex $test 4]]
    }
    .t tag configure x $name [lindex [.t tag configure x $name] 3]
    incr i
}
test textTag-2.1 {TkTextTagCmd - "add" option} courier12 {
    list [catch {.t tag} msg] $msg
} {1 {wrong # args: should be ".t tag option ?arg arg ...?"}}
test textTag-2.2 {TkTextTagCmd - "add" option} courier12 {
    list [catch {.t tag gorp} msg] $msg
} {1 {bad tag option "gorp": must be add, bind, cget, configure, delete, lower, names, nextrange, raise, ranges, or remove}}
test textTag-2.3 {TkTextTagCmd - "add" option} courier12 {
    list [catch {.t tag add foo} msg] $msg
} {1 {wrong # args: should be ".t tag add tagName index1 ?index2 index1 index2 ...?"}}
test textTag-2.4 {TkTextTagCmd - "add" option} courier12 {
    list [catch {.t tag add x gorp} msg] $msg
} {1 {bad text index "gorp"}}
test textTag-2.5 {TkTextTagCmd - "add" option} courier12 {
    list [catch {.t tag add x 1.2 gorp} msg] $msg
} {1 {bad text index "gorp"}}
test textTag-2.6 {TkTextTagCmd - "add" option} courier12 {
    .t tag add sel 3.2 3.4
    .t tag add sel 3.2 3.0
    .t tag ranges sel
} {3.2 3.4}
test textTag-2.7 {TkTextTagCmd - "add" option} courier12 {
    .t tag add x 1.0 1.end
    .t tag ranges x
} {1.0 1.6}
test textTag-2.8 {TkTextTagCmd - "add" option} courier12 {
    .t tag remove x 1.0 end
    .t tag add x 1.2
    .t tag ranges x
} {1.2 1.3}
test textTag-2.9 {TkTextTagCmd - "add" option} courier12 {
    .t.e select from 0
    .t.e select to 4
    .t tag add sel 3.2 3.4
    selection get
} 34
test textTag-2.11 {TkTextTagCmd - "add" option} courier12 {
    .t.e select from 0
    .t.e select to 4
    .t configure -exportselection 0
    .t tag add sel 3.2 3.4
    selection get
} Text
test textTag-2.12 {TkTextTagCmd - "add" option} courier12 {
    .t tag remove sel 1.0 end
    .t tag add sel 1.1 1.5 2.4 3.1 4.2 4.4
    .t tag ranges sel
} {1.1 1.5 2.4 3.1 4.2 4.4}
test textTag-2.13 {TkTextTagCmd - "add" option} courier12 {
    .t tag remove sel 1.0 end
    .t tag add sel 1.1 1.5 2.4
    .t tag ranges sel
} {1.1 1.5 2.4 2.5}

catch {.t tag delete x}
test textTag-3.1 {TkTextTagCmd - "bind" option} courier12 {
    list [catch {.t tag bind} msg] $msg
} {1 {wrong # args: should be ".t tag bind tagName ?sequence? ?command?"}}
test textTag-3.2 {TkTextTagCmd - "bind" option} courier12 {
    list [catch {.t tag bind 1 2 3 4} msg] $msg
} {1 {wrong # args: should be ".t tag bind tagName ?sequence? ?command?"}}
test textTag-3.3 {TkTextTagCmd - "bind" option} courier12 {
    .t tag bind x <Enter> script1
    .t tag bind x <Enter>
} script1
test textTag-3.4 {TkTextTagCmd - "bind" option} courier12 {
    list [catch {.t tag bind x <Gorp> script2} msg] $msg
} {1 {bad event type or keysym "Gorp"}}
test textTag-3.5 {TkTextTagCmd - "bind" option} courier12 {
    .t tag delete x
    .t tag bind x <Enter> script1
    list [catch {.t tag bind x <FocusIn> script2} msg] $msg [.t tag bind x]
} {1 {requested illegal events; only key, button, motion, enter, leave, and virtual events may be used} <Enter>}
test textTag-3.6 {TkTextTagCmd - "bind" option} courier12 {
    .t tag delete x
    .t tag bind x <Enter> script1
    .t tag bind x <Leave> script2
    .t tag bind x a xyzzy
    list [lsort [.t tag bind x]] [.t tag bind x <Enter>] [.t tag bind x a]
} {{<Enter> <Leave> a} script1 xyzzy}
test textTag-3.7 {TkTextTagCmd - "bind" option} courier12 {
    .t tag delete x
    .t tag bind x <Enter> script1
    .t tag bind x <Enter> +script2
    .t tag bind x <Enter>
} {script1
script2}
test textTag-3.7 {TkTextTagCmd - "bind" option} courier12 {
    .t tag delete x
    list [catch {.t tag bind x <Enter>} msg] $msg
} {0 {}}
test textTag-3.8 {TkTextTagCmd - "bind" option} courier12 {
    .t tag delete x
    list [catch {.t tag bind x <} msg] $msg
} {1 {no event type or button # or keysym}}

test textTag-4.1 {TkTextTagCmd - "cget" option} courier12 {
    list [catch {.t tag cget a} msg] $msg
} {1 {wrong # args: should be ".t tag cget tagName option"}}
test textTag-4.2 {TkTextTagCmd - "cget" option} courier12 {
    list [catch {.t tag cget a b c} msg] $msg
} {1 {wrong # args: should be ".t tag cget tagName option"}}
test textTag-4.3 {TkTextTagCmd - "cget" option} courier12 {
    .t tag delete foo
    list [catch {.t tag cget foo bar} msg] $msg
} {1 {tag "foo" isn't defined in text widget}}
test textTag-4.4 {TkTextTagCmd - "cget" option} courier12 {
    list [catch {.t tag cget sel bogus} msg] $msg
} {1 {unknown option "bogus"}}
test textTag-4.5 {TkTextTagCmd - "cget" option} courier12 {
    .t tag delete x
    .t tag configure x -background red
    list [catch {.t tag cget x -background} msg] $msg
} {0 red}

test textTag-5.1 {TkTextTagCmd - "configure" option} courier12 {
    list [catch {.t tag configure} msg] $msg
} {1 {wrong # args: should be ".t tag configure tagName ?option? ?value? ?option value ...?"}}
test textTag-5.2 {TkTextTagCmd - "configure" option} courier12 {
    list [catch {.t tag configure x -foo} msg] $msg
} {1 {unknown option "-foo"}}
test textTag-5.3 {TkTextTagCmd - "configure" option} courier12 {
    list [catch {.t tag configure x -background red -underline} msg] $msg
} {1 {value for "-underline" missing}}
test textTag-5.4 {TkTextTagCmd - "configure" option} courier12 {
    .t tag delete x
    .t tag configure x -underline yes
    .t tag configure x -underline
} {-underline {} {} {} yes}
test textTag-5.5 {TkTextTagCmd - "configure" option} courier12 {
    .t tag delete x
    .t tag configure x -overstrike on
    .t tag cget x -overstrike
} {on}
test textTag-5.6 {TkTextTagCmd - "configure" option} courier12 {
    list [catch {.t tag configure x -overstrike foo} msg] $msg
} {1 {expected boolean value but got "foo"}}
test textTag-5.7 {TkTextTagCmd - "configure" option} courier12 {
    .t tag delete x
    list [catch {.t tag configure x -underline stupid} msg] $msg
} {1 {expected boolean value but got "stupid"}}
test textTag-5.8 {TkTextTagCmd - "configure" option} courier12 {
    .t tag delete x
    .t tag configure x -justify left
    .t tag configure x -justify
} {-justify {} {} {} left}
test textTag-5.9 {TkTextTagCmd - "configure" option} courier12 {
    .t tag delete x
    list [catch {.t tag configure x -justify bogus} msg] $msg
} {1 {bad justification "bogus": must be left, right, or center}}
test textTag-5.10 {TkTextTagCmd - "configure" option} courier12 {
    .t tag delete x
    list [catch {.t tag configure x -justify fill} msg] $msg
} {1 {bad justification "fill": must be left, right, or center}}
test textTag-5.11 {TkTextTagCmd - "configure" option} courier12 {
    .t tag delete x
    .t tag configure x -offset 2
    .t tag configure x -offset
} {-offset {} {} {} 2}
test textTag-5.12 {TkTextTagCmd - "configure" option} courier12 {
    .t tag delete x
    list [catch {.t tag configure x -offset 1.0q} msg] $msg
} {1 {bad screen distance "1.0q"}}
test textTag-5.13 {TkTextTagCmd - "configure" option} courier12 {
    .t tag delete x
    .t tag configure x -lmargin1 2 -lmargin2 4 -rmargin 5
    list [.t tag configure x -lmargin1] [.t tag configure x -lmargin2] \
	    [.t tag configure x -rmargin]
} {{-lmargin1 {} {} {} 2} {-lmargin2 {} {} {} 4} {-rmargin {} {} {} 5}}
test textTag-5.14 {TkTextTagCmd - "configure" option} courier12 {
    .t tag delete x
    list [catch {.t tag configure x -lmargin1 2.0x} msg] $msg
} {1 {bad screen distance "2.0x"}}
test textTag-5.15 {TkTextTagCmd - "configure" option} courier12 {
    .t tag delete x
    list [catch {.t tag configure x -lmargin2 gorp} msg] $msg
} {1 {bad screen distance "gorp"}}
test textTag-5.16 {TkTextTagCmd - "configure" option} courier12 {
    .t tag delete x
    list [catch {.t tag configure x -rmargin 140.1.1} msg] $msg
} {1 {bad screen distance "140.1.1"}}
.t tag delete x
test textTag-5.17 {TkTextTagCmd - "configure" option} courier12 {
    .t tag delete x
    .t tag configure x -spacing1 2 -spacing2 4 -spacing3 6
    list [.t tag configure x -spacing1] [.t tag configure x -spacing2] \
	    [.t tag configure x -spacing3]
} {{-spacing1 {} {} {} 2} {-spacing2 {} {} {} 4} {-spacing3 {} {} {} 6}}
test textTag-5.18 {TkTextTagCmd - "configure" option} courier12 {
    .t tag delete x
    list [catch {.t tag configure x -spacing1 2.0x} msg] $msg
} {1 {bad screen distance "2.0x"}}
test textTag-5.19 {TkTextTagCmd - "configure" option} courier12 {
    .t tag delete x
    list [catch {.t tag configure x -spacing1 lousy} msg] $msg
} {1 {bad screen distance "lousy"}}
test textTag-5.20 {TkTextTagCmd - "configure" option} courier12 {
    .t tag delete x
    list [catch {.t tag configure x -spacing1 4.2.3} msg] $msg
} {1 {bad screen distance "4.2.3"}}
test textTag-5.21 {TkTextTagCmd - "configure" option} courier12 {
    .t configure -selectborderwidth 2 -selectforeground blue \
	    -selectbackground black
    .t tag configure sel -borderwidth 4 -foreground green -background yellow
    set x {}
    foreach i {-selectborderwidth -selectforeground -selectbackground} {
	lappend x [lindex [.t configure $i] 4]
    }
    set x
} {4 green yellow}
test textTag-5.22 {TkTextTagCmd - "configure" option} courier12 {
    .t configure -selectborderwidth 20
    .t tag configure sel -borderwidth {}
    .t cget -selectborderwidth
} {}

test textTag-6.1 {TkTextTagCmd - "delete" option} courier12 {
    list [catch {.t tag delete} msg] $msg
} {1 {wrong # args: should be ".t tag delete tagName tagName ..."}}
test textTag-6.2 {TkTextTagCmd - "delete" option} courier12 {
    list [catch {.t tag delete zork} msg] $msg
} {0 {}}
test textTag-6.3 {TkTextTagCmd - "delete" option} courier12 {
    .t tag delete x
    .t tag config x -background black
    .t tag config y -foreground white
    .t tag config z -background black
    .t tag delete y z
    lsort [.t tag names]
} {sel x}
test textTag-6.4 {TkTextTagCmd - "delete" option} courier12 {
    .t tag config x -background black
    .t tag config y -foreground white
    .t tag config z -background black
    eval .t tag delete [.t tag names]
    .t tag names
} {sel}
test textTag-6.5 {TkTextTagCmd - "delete" option} courier12 {
    .t tag bind x <Enter> foo
    .t tag delete x
    .t tag configure x -background black
    .t tag bind x
} {}

proc tagsetup {} {
    .t tag delete x y z a b c d
    .t tag remove sel 1.0 end
    foreach i {a b c d} {
	.t tag configure $i -background black
    }
}
test textTag-7.1 {TkTextTagCmd - "lower" option} courier12 {
    list [catch {.t tag lower} msg] $msg
} {1 {wrong # args: should be ".t tag lower tagName ?belowThis?"}}
test textTag-7.2 {TkTextTagCmd - "lower" option} courier12 {
    list [catch {.t tag lower foo} msg] $msg
} {1 {tag "foo" isn't defined in text widget}}
test textTag-7.3 {TkTextTagCmd - "lower" option} courier12 {
    list [catch {.t tag lower sel bar} msg] $msg
} {1 {tag "bar" isn't defined in text widget}}
test textTag-7.4 {TkTextTagCmd - "lower" option} courier12 {
    tagsetup
    .t tag lower c
    .t tag names
} {c sel a b d}
test textTag-7.5 {TkTextTagCmd - "lower" option} courier12 {
    tagsetup
    .t tag lower d b
    .t tag names
} {sel a d b c}
test textTag-7.6 {TkTextTagCmd - "lower" option} courier12 {
    tagsetup
    .t tag lower a c
    .t tag names
} {sel b a c d}

test textTag-8.1 {TkTextTagCmd - "names" option} courier12 {
    list [catch {.t tag names a b} msg] $msg
} {1 {wrong # args: should be ".t tag names ?index?"}}
test textTag-8.2 {TkTextTagCmd - "names" option} courier12 {
    tagsetup
    .t tag names
} {sel a b c d}
test textTag-8.3 {TkTextTagCmd - "names" option} courier12 {
    tagsetup
    .t tag add "a b" 2.1 2.6
    .t tag add c 2.4 2.7
    .t tag names 2.5
} {c {a b}}

.t tag delete x y z a b c d {a b}
.t tag add x 2.3 2.5
.t tag add x 2.9 3.1
.t tag add x 7.2
test textTag-9.1 {TkTextTagCmd - "nextrange" option} courier12 {
    list [catch {.t tag nextrange x} msg] $msg
} {1 {wrong # args: should be ".t tag nextrange tagName index1 ?index2?"}}
test textTag-9.2 {TkTextTagCmd - "nextrange" option} courier12 {
    list [catch {.t tag nextrange x 1 2 3} msg] $msg
} {1 {wrong # args: should be ".t tag nextrange tagName index1 ?index2?"}}
test textTag-9.3 {TkTextTagCmd - "nextrange" option} courier12 {
    list [catch {.t tag nextrange foo 1.0} msg] $msg
} {0 {}}
test textTag-9.4 {TkTextTagCmd - "nextrange" option} courier12 {
    list [catch {.t tag nextrange x foo} msg] $msg
} {1 {bad text index "foo"}}
test textTag-9.5 {TkTextTagCmd - "nextrange" option} courier12 {
    list [catch {.t tag nextrange x 1.0 bar} msg] $msg
} {1 {bad text index "bar"}}
test textTag-9.6 {TkTextTagCmd - "nextrange" option} courier12 {
    .t tag nextrange x 1.0
} {2.3 2.5}
test textTag-9.7 {TkTextTagCmd - "nextrange" option} courier12 {
    .t tag nextrange x 2.2
} {2.3 2.5}
test textTag-9.8 {TkTextTagCmd - "nextrange" option} courier12 {
    .t tag nextrange x 2.3
} {2.3 2.5}
test textTag-9.9 {TkTextTagCmd - "nextrange" option} courier12 {
    .t tag nextrange x 2.4
} {2.9 3.1}
test textTag-9.10 {TkTextTagCmd - "nextrange" option} courier12 {
    .t tag nextrange x 2.4 2.9
} {}
test textTag-9.11 {TkTextTagCmd - "nextrange" option} courier12 {
    .t tag nextrange x 2.4 2.10
} {2.9 3.1}
test textTag-9.12 {TkTextTagCmd - "nextrange" option} courier12 {
    .t tag nextrange x 2.4 2.11
} {2.9 3.1}
test textTag-9.13 {TkTextTagCmd - "nextrange" option} courier12 {
    .t tag nextrange x 7.0
} {7.2 7.3}
test textTag-9.14 {TkTextTagCmd - "nextrange" option} courier12 {
    .t tag nextrange x 7.3
} {}

test textTag-10.1 {TkTextTagCmd - "prevrange" option} courier12 {
    list [catch {.t tag prevrange x} msg] $msg
} {1 {wrong # args: should be ".t tag prevrange tagName index1 ?index2?"}}
test textTag-10.2 {TkTextTagCmd - "prevrange" option} courier12 {
    list [catch {.t tag prevrange x 1 2 3} msg] $msg
} {1 {wrong # args: should be ".t tag prevrange tagName index1 ?index2?"}}
test textTag-10.3 {TkTextTagCmd - "prevrange" option} courier12 {
    list [catch {.t tag prevrange foo end} msg] $msg
} {0 {}}
test textTag-10.4 {TkTextTagCmd - "prevrange" option} courier12 {
    list [catch {.t tag prevrange x foo} msg] $msg
} {1 {bad text index "foo"}}
test textTag-10.5 {TkTextTagCmd - "prevrange" option} courier12 {
    list [catch {.t tag prevrange x end bar} msg] $msg
} {1 {bad text index "bar"}}
test textTag-10.6 {TkTextTagCmd - "prevrange" option} courier12 {
    .t tag prevrange x end
} {7.2 7.3}
test textTag-10.7 {TkTextTagCmd - "prevrange" option} courier12 {
    .t tag prevrange x 2.4
} {2.3 2.5}
test textTag-10.8 {TkTextTagCmd - "prevrange" option} courier12 {
    .t tag prevrange x 2.5
} {2.3 2.5}
test textTag-10.9 {TkTextTagCmd - "prevrange" option} courier12 {
    .t tag prevrange x 2.9
} {2.3 2.5}
test textTag-10.10 {TkTextTagCmd - "prevrange" option} courier12 {
    .t tag prevrange x 2.9 2.6
} {}
test textTag-10.11 {TkTextTagCmd - "prevrange" option} courier12 {
    .t tag prevrange x 2.9 2.5
} {}
test textTag-10.12 {TkTextTagCmd - "prevrange" option} courier12 {
    .t tag prevrange x 2.9 2.3
} {2.3 2.5}
test textTag-10.13 {TkTextTagCmd - "prevrange" option} courier12 {
    .t tag prevrange x 7.0
} {2.9 3.1}
test textTag-10.14 {TkTextTagCmd - "prevrange" option} courier12 {
    .t tag prevrange x 2.3
} {}

test textTag-11.1 {TkTextTagCmd - "raise" option} courier12 {
    list [catch {.t tag raise} msg] $msg
} {1 {wrong # args: should be ".t tag raise tagName ?aboveThis?"}}
test textTag-11.2 {TkTextTagCmd - "raise" option} courier12 {
    list [catch {.t tag raise foo} msg] $msg
} {1 {tag "foo" isn't defined in text widget}}
test textTag-11.3 {TkTextTagCmd - "raise" option} courier12 {
    list [catch {.t tag raise sel bar} msg] $msg
} {1 {tag "bar" isn't defined in text widget}}
test textTag-11.4 {TkTextTagCmd - "raise" option} courier12 {
    tagsetup
    .t tag raise c
    .t tag names
} {sel a b d c}
test textTag-11.5 {TkTextTagCmd - "raise" option} courier12 {
    tagsetup
    .t tag raise d b
    .t tag names
} {sel a b d c}
test textTag-11.6 {TkTextTagCmd - "raise" option} courier12 {
    tagsetup
    .t tag raise a c
    .t tag names
} {sel b c a d}

test textTag-12.1 {TkTextTagCmd - "ranges" option} courier12 {
    list [catch {.t tag ranges} msg] $msg
} {1 {wrong # args: should be ".t tag ranges tagName"}}
test textTag-12.2 {TkTextTagCmd - "ranges" option} courier12 {
    .t tag delete x
    .t tag ranges x
} {}
test textTag-12.3 {TkTextTagCmd - "ranges" option} courier12 {
    .t tag delete x
    .t tag add x 2.2
    .t tag add x 2.7 4.15
    .t tag add x 5.2 5.5
    .t tag ranges x
} {2.2 2.3 2.7 4.6 5.2 5.5}
test textTag-12.4 {TkTextTagCmd - "ranges" option} courier12 {
    .t tag delete x
    .t tag add x 1.0 3.0
    .t tag add x 4.0 end
    .t tag ranges x
} {1.0 3.0 4.0 8.0}

test textTag-13.1 {TkTextTagCmd - "remove" option} courier12 {
    list [catch {.t tag remove} msg] $msg
} {1 {wrong # args: should be ".t tag remove tagName index1 ?index2 index1 index2 ...?"}}
test textTag-13.2 {TkTextTagCmd - "remove" option} courier12 {
    .t tag delete x
    .t tag add x 2.2 2.11
    .t tag remove x 2.3 2.7
    .t tag ranges x
} {2.2 2.3 2.7 2.11}
test textTag-13.3 {TkTextTagCmd - "remove" option} courier12 {
    .t configure -exportselection 1
    .t tag remove sel 1.0 end
    .t tag add sel 2.4 3.3
    .t.e select to 4
    .t tag remove sel 2.7 3.1
    selection get
} Text

.t tag delete x a b c d
test textTag-14.1 {SortTags} courier12 {
    foreach i {a b c d} {
	.t tag add $i 2.0 2.2
    }
    .t tag names 2.1
} {a b c d}
.t tag delete a b c d
test textTag-14.2 {SortTags} courier12 {
    foreach i {a b c d} {
	.t tag configure $i -background black
    }
    foreach i {d c b a} {
	.t tag add $i 2.0 2.2
    }
    .t tag names 2.1
} {a b c d}
.t tag delete x a b c d
test textTag-14.3 {SortTags} courier12 {
    for {set i 0} {$i < 30} {incr i} {
	.t tag add x$i 2.0 2.2
    }
    .t tag names 2.1
} {x0 x1 x2 x3 x4 x5 x6 x7 x8 x9 x10 x11 x12 x13 x14 x15 x16 x17 x18 x19 x20 x21 x22 x23 x24 x25 x26 x27 x28 x29}
test textTag-14.4 {SortTags} courier12 {
    for {set i 0} {$i < 30} {incr i} {
	.t tag configure x$i -background black
    }
    for {set i 29} {$i >= 0} {incr i -1} {
	.t tag add x$i 2.0 2.2
    }
    .t tag names 2.1
} {x0 x1 x2 x3 x4 x5 x6 x7 x8 x9 x10 x11 x12 x13 x14 x15 x16 x17 x18 x19 x20 x21 x22 x23 x24 x25 x26 x27 x28 x29}

foreach tag [.t tag names] {
    catch {.t tag delete $tag}
}
set c [.t bbox 2.1]
set x1 [expr [lindex $c 0] + [lindex $c 2]/2]
set y1 [expr [lindex $c 1] + [lindex $c 3]/2]
set c [.t bbox 3.2]
set x2 [expr [lindex $c 0] + [lindex $c 2]/2]
set y2 [expr [lindex $c 1] + [lindex $c 3]/2]
set c [.t bbox 4.3]
set x3 [expr [lindex $c 0] + [lindex $c 2]/2]
set y3 [expr [lindex $c 1] + [lindex $c 3]/2]

test textTag-15.1 {TkTextBindProc} courier12 {
    bind .t <ButtonRelease> {lappend x up}
    .t tag bind x <ButtonRelease> {lappend x x-up}
    .t tag bind y <ButtonRelease> {lappend x y-up}
    set x {}
    .t tag add x 2.0 2.4
    .t tag add y 4.3
    event gen .t <Button> -x $x1 -y $y1
    event gen .t <Motion> -x $x1 -y $y1
    event gen .t <ButtonRelease> -x $x1 -y $y1
    event gen .t <Button> -x $x1 -y $y1
    event gen .t <Motion> -x $x2 -y $y2
    event gen .t <ButtonRelease> -x $x2 -y $y2
    event gen .t <Button> -x $x2 -y $y2
    event gen .t <Motion> -x $x3 -y $y3
    event gen .t <ButtonRelease> -x $x3 -y $y3
    bind .t <ButtonRelease> {}
    set x
} {x-up up up y-up up}
test textTag-15.2 {TkTextBindProc} courier12 {
    catch {.t tag delete x}
    catch {.t tag delete y}
    .t tag bind x <Enter> {lappend x x-enter}
    .t tag bind x <ButtonPress> {lappend x x-down}
    .t tag bind x <ButtonRelease> {lappend x x-up}
    .t tag bind x <Leave> {lappend x x-leave}
    .t tag bind y <Enter> {lappend x y-enter}
    .t tag bind y <ButtonPress> {lappend x y-down}
    .t tag bind y <ButtonRelease> {lappend x y-up}
    .t tag bind y <Leave> {lappend x y-leave}
    event gen .t <Motion> -x 0 -y 0
    set x {}
    .t tag add x 2.0 2.4
    .t tag add y 4.3
    event gen .t <Motion> -x $x1 -y $y1
    lappend x |
    event gen .t <Button> -x $x1 -y $y1
    lappend x |
    event gen .t <Motion> -x $x3 -y $y3 -state 0x100
    lappend x |
    event gen .t <ButtonRelease> -x $x3 -y $y3
    set x
} {x-enter | x-down | | x-up x-leave y-enter}
test textTag-15.3 {TkTextBindProc} courier12 {
    catch {.t tag delete x}
    catch {.t tag delete y}
    .t tag bind x <Enter> {lappend x x-enter}
    .t tag bind x <Any-ButtonPress-1> {lappend x x-down}
    .t tag bind x <Any-ButtonRelease-1> {lappend x x-up}
    .t tag bind x <Leave> {lappend x x-leave}
    .t tag bind y <Enter> {lappend x y-enter}
    .t tag bind y <Any-ButtonPress-1> {lappend x y-down}
    .t tag bind y <Any-ButtonRelease-1> {lappend x y-up}
    .t tag bind y <Leave> {lappend x y-leave}
    event gen .t <Motion> -x 0 -y 0
    set x {}
    .t tag add x 2.0 2.4
    .t tag add y 4.3
    event gen .t <Motion> -x $x1 -y $y1
    lappend x |
    event gen .t <Button-1> -x $x1 -y $y1
    lappend x |
    event gen .t <Button-2> -x $x1 -y $y1 -state 0x100
    lappend x |
    event gen .t <Motion> -x $x3 -y $y3  -state 0x300
    lappend x |
    event gen .t <ButtonRelease-1> -x $x3 -y $y3 -state 0x300
    lappend x |
    event gen .t <ButtonRelease-2> -x $x3 -y $y3 -state 0x200
    set x
} {x-enter | x-down | | | x-up | x-leave y-enter}

foreach tag [.t tag names] {
    catch {.t tag delete $tag}
}
.t tag configure big -font $bigFont
test textTag-16.1 {TkTextPickCurrent procedure} courier12 {
    event gen .t <ButtonRelease-1> -state 0x100 -x $x1 -y $y1
    set x [.t index current]
    event gen .t <Motion> -x $x2 -y $y2
    lappend x [.t index current]
    event gen .t <Button-1> -x $x2 -y $y2
    lappend x [.t index current]
    event gen .t <Motion> -x $x3 -y $y3 -state 0x100
    lappend x [.t index current]
    event gen .t <Button-3> -state 0x100 -x $x3 -y $y3
    lappend x [.t index current]
    event gen .t <ButtonRelease-3> -state 0x300 -x $x3 -y $y3
    lappend x [.t index current]
    event gen .t <ButtonRelease-1> -state 0x100 -x $x3 -y $y3
    lappend x [.t index current]
} {2.1 3.2 3.2 3.2 3.2 3.2 4.3}
test textTag-16.2 {TkTextPickCurrent procedure} courier12 {
    event gen .t <ButtonRelease-1> -state 0x100 -x $x1 -y $y1
    event gen .t <Motion> -x $x2 -y $y2
    set x [.t index current]
    .t tag add big 3.0
    update
    lappend x [.t index current]
} {3.2 3.1}
.t tag remove big 1.0 end
foreach i {a b c d} {
    .t tag bind $i <Enter> "lappend x enter-$i"
    .t tag bind $i <Leave> "lappend x leave-$i"
}
test textTag-16.3 {TkTextPickCurrent procedure} courier12 {
    foreach i {a b c d} {
	.t tag remove $i 1.0 end
    }
    .t tag lower b
    .t tag lower a
    set x {}
    event gen .t <Motion> -x $x1 -y $y1
    .t tag add a 2.1 3.3
    .t tag add b 2.1
    .t tag add c 3.2
    update
    lappend x |
    event gen .t <Motion> -x $x2 -y $y2
    lappend x |
    event gen .t <Motion> -x $x3 -y $y3
    set x
} {enter-a enter-b | leave-b enter-c | leave-a leave-c}
test textTag-16.4 {TkTextPickCurrent procedure} courier12 {
    foreach i {a b c d} {
	.t tag remove $i 1.0 end
    }
    .t tag lower b
    .t tag lower a
    set x {}
    event gen .t <Motion> -x $x1 -y $y1
    .t tag add a 2.1 3.3
    .t tag add b 2.1
    .t tag add c 2.1
    update
    lappend x |
    .t tag lower c
    event gen .t <Motion> -x $x2 -y $y2
    set x
} {enter-a enter-b enter-c | leave-c leave-b}
foreach i {a b c d} {
    .t tag delete $i
}
test textTag-16.5 {TkTextPickCurrent procedure} courier12 {
    foreach i {a b c d} {
	.t tag remove $i 1.0 end
    }
    event gen .t <Motion> -x $x1 -y $y1
    .t tag bind a <Enter> {.t tag add big 3.0 3.2}
    .t tag add a 3.2
    event gen .t <Motion> -x $x2 -y $y2
    .t index current
} {3.2}
test textTag-16.6 {TkTextPickCurrent procedure} courier12 {
    foreach i {a b c d} {
	.t tag remove $i 1.0 end
    }
    event gen .t <Motion> -x $x1 -y $y1
    .t tag bind a <Enter> {.t tag add big 3.0 3.2}
    .t tag add a 3.2
    event gen .t <Motion> -x $x2 -y $y2
    update
    .t index current
} {3.1}
test textTag-16.7 {TkTextPickCurrent procedure} courier12 {
    foreach i {a b c d} {
	.t tag remove $i 1.0 end
    }
    event gen .t <Motion> -x $x1 -y $y1
    .t tag bind a <Leave> {.t tag add big 3.0 3.2}
    .t tag add a 2.1
    event gen .t <Motion> -x $x2 -y $y2
    .t index current
} {3.1}

catch {destroy .t}

# cleanup
::tcltest::cleanupTests
return













@


1.4
log
@touched all sources to ease next import
@
text
@d9 1
a9 1
# RCS: @@(#) $Id: textTag.test,v 1.7.6.1 2000/05/04 21:26:30 spolk Exp $
d11 6
a16 3
if {[lsearch [namespace children] ::tcltest] == -1} {
    source [file join [pwd] [file dirname [info script]] defs.tcl]
}
d19 4
a22 6
if [catch {text .t -font {Courier 12} -width 20 -height 10}] {
    puts "The font needed by these tests isn't available, so I'm"
    puts "going to skip the tests."
    ::tcltest::cleanupTests
    return
}
d89 1
a89 1
    test textTag-1.$i {tag configuration options} {
d95 1
a95 1
	test textTag-1.$i {configuration options} {
d102 1
a102 1
test textTag-2.1 {TkTextTagCmd - "add" option} {
d105 1
a105 1
test textTag-2.2 {TkTextTagCmd - "add" option} {
d108 1
a108 1
test textTag-2.3 {TkTextTagCmd - "add" option} {
d111 1
a111 1
test textTag-2.4 {TkTextTagCmd - "add" option} {
d114 1
a114 1
test textTag-2.5 {TkTextTagCmd - "add" option} {
d117 1
a117 1
test textTag-2.6 {TkTextTagCmd - "add" option} {
d122 1
a122 1
test textTag-2.7 {TkTextTagCmd - "add" option} {
d126 1
a126 1
test textTag-2.8 {TkTextTagCmd - "add" option} {
d131 1
a131 1
test textTag-2.9 {TkTextTagCmd - "add" option} {
d137 1
a137 1
test textTag-2.11 {TkTextTagCmd - "add" option} {
d144 1
a144 1
test textTag-2.12 {TkTextTagCmd - "add" option} {
d149 1
a149 1
test textTag-2.13 {TkTextTagCmd - "add" option} {
d156 1
a156 1
test textTag-3.1 {TkTextTagCmd - "bind" option} {
d159 1
a159 1
test textTag-3.2 {TkTextTagCmd - "bind" option} {
d162 1
a162 1
test textTag-3.3 {TkTextTagCmd - "bind" option} {
d166 1
a166 1
test textTag-3.4 {TkTextTagCmd - "bind" option} {
d169 1
a169 1
test textTag-3.5 {TkTextTagCmd - "bind" option} {
d174 1
a174 1
test textTag-3.6 {TkTextTagCmd - "bind" option} {
d181 1
a181 1
test textTag-3.7 {TkTextTagCmd - "bind" option} {
d188 1
a188 1
test textTag-3.7 {TkTextTagCmd - "bind" option} {
d192 1
a192 1
test textTag-3.8 {TkTextTagCmd - "bind" option} {
d197 1
a197 1
test textTag-4.1 {TkTextTagCmd - "cget" option} {
d200 1
a200 1
test textTag-4.2 {TkTextTagCmd - "cget" option} {
d203 1
a203 1
test textTag-4.3 {TkTextTagCmd - "cget" option} {
d207 1
a207 1
test textTag-4.4 {TkTextTagCmd - "cget" option} {
d210 1
a210 1
test textTag-4.5 {TkTextTagCmd - "cget" option} {
d216 1
a216 1
test textTag-5.1 {TkTextTagCmd - "configure" option} {
d219 1
a219 1
test textTag-5.2 {TkTextTagCmd - "configure" option} {
d222 1
a222 1
test textTag-5.3 {TkTextTagCmd - "configure" option} {
d225 1
a225 1
test textTag-5.4 {TkTextTagCmd - "configure" option} {
d230 1
a230 1
test textTag-5.5 {TkTextTagCmd - "configure" option} {
d235 1
a235 1
test textTag-5.6 {TkTextTagCmd - "configure" option} {
d238 1
a238 1
test textTag-5.7 {TkTextTagCmd - "configure" option} {
d242 1
a242 1
test textTag-5.8 {TkTextTagCmd - "configure" option} {
d247 1
a247 1
test textTag-5.9 {TkTextTagCmd - "configure" option} {
d251 1
a251 1
test textTag-5.10 {TkTextTagCmd - "configure" option} {
d255 1
a255 1
test textTag-5.11 {TkTextTagCmd - "configure" option} {
d260 1
a260 1
test textTag-5.12 {TkTextTagCmd - "configure" option} {
d264 1
a264 1
test textTag-5.13 {TkTextTagCmd - "configure" option} {
d270 1
a270 1
test textTag-5.14 {TkTextTagCmd - "configure" option} {
d274 1
a274 1
test textTag-5.15 {TkTextTagCmd - "configure" option} {
d278 1
a278 1
test textTag-5.16 {TkTextTagCmd - "configure" option} {
d283 1
a283 1
test textTag-5.17 {TkTextTagCmd - "configure" option} {
d289 1
a289 1
test textTag-5.18 {TkTextTagCmd - "configure" option} {
d293 1
a293 1
test textTag-5.19 {TkTextTagCmd - "configure" option} {
d297 1
a297 1
test textTag-5.20 {TkTextTagCmd - "configure" option} {
d301 1
a301 1
test textTag-5.21 {TkTextTagCmd - "configure" option} {
d311 1
a311 1
test textTag-5.22 {TkTextTagCmd - "configure" option} {
d317 1
a317 1
test textTag-6.1 {TkTextTagCmd - "delete" option} {
d320 1
a320 1
test textTag-6.2 {TkTextTagCmd - "delete" option} {
d323 1
a323 1
test textTag-6.3 {TkTextTagCmd - "delete" option} {
d331 1
a331 1
test textTag-6.4 {TkTextTagCmd - "delete" option} {
d338 1
a338 1
test textTag-6.5 {TkTextTagCmd - "delete" option} {
d352 1
a352 1
test textTag-7.1 {TkTextTagCmd - "lower" option} {
d355 1
a355 1
test textTag-7.2 {TkTextTagCmd - "lower" option} {
d358 1
a358 1
test textTag-7.3 {TkTextTagCmd - "lower" option} {
d361 1
a361 1
test textTag-7.4 {TkTextTagCmd - "lower" option} {
d366 1
a366 1
test textTag-7.5 {TkTextTagCmd - "lower" option} {
d371 1
a371 1
test textTag-7.6 {TkTextTagCmd - "lower" option} {
d377 1
a377 1
test textTag-8.1 {TkTextTagCmd - "names" option} {
d380 1
a380 1
test textTag-8.2 {TkTextTagCmd - "names" option} {
d384 1
a384 1
test textTag-8.3 {TkTextTagCmd - "names" option} {
d395 1
a395 1
test textTag-9.1 {TkTextTagCmd - "nextrange" option} {
d398 1
a398 1
test textTag-9.2 {TkTextTagCmd - "nextrange" option} {
d401 1
a401 1
test textTag-9.3 {TkTextTagCmd - "nextrange" option} {
d404 1
a404 1
test textTag-9.4 {TkTextTagCmd - "nextrange" option} {
d407 1
a407 1
test textTag-9.5 {TkTextTagCmd - "nextrange" option} {
d410 1
a410 1
test textTag-9.6 {TkTextTagCmd - "nextrange" option} {
d413 1
a413 1
test textTag-9.7 {TkTextTagCmd - "nextrange" option} {
d416 1
a416 1
test textTag-9.8 {TkTextTagCmd - "nextrange" option} {
d419 1
a419 1
test textTag-9.9 {TkTextTagCmd - "nextrange" option} {
d422 1
a422 1
test textTag-9.10 {TkTextTagCmd - "nextrange" option} {
d425 1
a425 1
test textTag-9.11 {TkTextTagCmd - "nextrange" option} {
d428 1
a428 1
test textTag-9.12 {TkTextTagCmd - "nextrange" option} {
d431 1
a431 1
test textTag-9.13 {TkTextTagCmd - "nextrange" option} {
d434 1
a434 1
test textTag-9.14 {TkTextTagCmd - "nextrange" option} {
d438 1
a438 1
test textTag-10.1 {TkTextTagCmd - "prevrange" option} {
d441 1
a441 1
test textTag-10.2 {TkTextTagCmd - "prevrange" option} {
d444 1
a444 1
test textTag-10.3 {TkTextTagCmd - "prevrange" option} {
d447 1
a447 1
test textTag-10.4 {TkTextTagCmd - "prevrange" option} {
d450 1
a450 1
test textTag-10.5 {TkTextTagCmd - "prevrange" option} {
d453 1
a453 1
test textTag-10.6 {TkTextTagCmd - "prevrange" option} {
d456 1
a456 1
test textTag-10.7 {TkTextTagCmd - "prevrange" option} {
d459 1
a459 1
test textTag-10.8 {TkTextTagCmd - "prevrange" option} {
d462 1
a462 1
test textTag-10.9 {TkTextTagCmd - "prevrange" option} {
d465 1
a465 1
test textTag-10.10 {TkTextTagCmd - "prevrange" option} {
d468 1
a468 1
test textTag-10.11 {TkTextTagCmd - "prevrange" option} {
d471 1
a471 1
test textTag-10.12 {TkTextTagCmd - "prevrange" option} {
d474 1
a474 1
test textTag-10.13 {TkTextTagCmd - "prevrange" option} {
d477 1
a477 1
test textTag-10.14 {TkTextTagCmd - "prevrange" option} {
d481 1
a481 1
test textTag-11.1 {TkTextTagCmd - "raise" option} {
d484 1
a484 1
test textTag-11.2 {TkTextTagCmd - "raise" option} {
d487 1
a487 1
test textTag-11.3 {TkTextTagCmd - "raise" option} {
d490 1
a490 1
test textTag-11.4 {TkTextTagCmd - "raise" option} {
d495 1
a495 1
test textTag-11.5 {TkTextTagCmd - "raise" option} {
d500 1
a500 1
test textTag-11.6 {TkTextTagCmd - "raise" option} {
d506 1
a506 1
test textTag-12.1 {TkTextTagCmd - "ranges" option} {
d509 1
a509 1
test textTag-12.2 {TkTextTagCmd - "ranges" option} {
d513 1
a513 1
test textTag-12.3 {TkTextTagCmd - "ranges" option} {
d520 1
a520 1
test textTag-12.4 {TkTextTagCmd - "ranges" option} {
d527 1
a527 1
test textTag-13.1 {TkTextTagCmd - "remove" option} {
d530 1
a530 1
test textTag-13.2 {TkTextTagCmd - "remove" option} {
d536 1
a536 1
test textTag-13.3 {TkTextTagCmd - "remove" option} {
d546 1
a546 1
test textTag-14.1 {SortTags} {
d553 1
a553 1
test textTag-14.2 {SortTags} {
d563 1
a563 1
test textTag-14.3 {SortTags} {
d569 1
a569 1
test textTag-14.4 {SortTags} {
d592 1
a592 1
test textTag-15.1 {TkTextBindProc} {
d611 1
a611 1
test textTag-15.2 {TkTextBindProc} {
d635 1
a635 1
test textTag-15.3 {TkTextBindProc} {
d668 1
a668 1
test textTag-16.1 {TkTextPickCurrent procedure} {
d684 1
a684 1
test textTag-16.2 {TkTextPickCurrent procedure} {
d697 1
a697 1
test textTag-16.3 {TkTextPickCurrent procedure} {
d715 1
a715 1
test textTag-16.4 {TkTextPickCurrent procedure} {
d735 1
a735 1
test textTag-16.5 {TkTextPickCurrent procedure} {
d745 1
a745 1
test textTag-16.6 {TkTextPickCurrent procedure} {
d756 1
a756 1
test textTag-16.7 {TkTextPickCurrent procedure} {
@


1.3
log
@touched all sources to ease next import
@
text
@@


1.2
log
@touched all tk files to ease next import
@
text
@@


1.1
log
@Initial revision
@
text
@d6 2
d9 1
a9 4
# See the file "license.terms" for information on usage and redistribution
# of this file, and for a DISCLAIMER OF ALL WARRANTIES.
#
# RCS: @@(#) $Id: textTag.test,v 1.11 1999/01/26 04:11:40 jingham Exp $
d11 3
a13 2
if {[string compare test [info procs test]] == 1} then \
  {source defs}
d19 1
d187 8
a194 1

d598 1
d601 1
d604 1
d767 17
a783 1
concat {}
@


1.1.1.1
log
@import insight-2000-02-04 snapshot (2nd try)
@
text
@@


1.1.1.2
log
@Tk 8.3 upgrade
@
text
@a5 2
# Copyright (c) 1998-1999 by Scriptics Corporation.
# All rights reserved.
d7 4
a10 1
# RCS: @@(#) $Id: textTag.test,v 1.7.6.1 2000/05/04 21:26:30 spolk Exp $
d12 2
a13 3
if {[lsearch [namespace children] ::tcltest] == -1} {
    source [file join [pwd] [file dirname [info script]] defs.tcl]
}
a18 1
    ::tcltest::cleanupTests
d186 1
a186 8
test textTag-3.7 {TkTextTagCmd - "bind" option} {
    .t tag delete x
    list [catch {.t tag bind x <Enter>} msg] $msg
} {0 {}}
test textTag-3.8 {TkTextTagCmd - "bind" option} {
    .t tag delete x
    list [catch {.t tag bind x <} msg] $msg
} {1 {no event type or button # or keysym}}
a589 1
    event gen .t <Button> -x $x1 -y $y1
a591 1
    event gen .t <Button> -x $x1 -y $y1
a593 1
    event gen .t <Button> -x $x2 -y $y2
d756 1
a756 17

# cleanup
::tcltest::cleanupTests
return













@


1.1.1.3
log
@import tk 8.4.0
@
text
@d9 1
a9 1
# RCS: @@(#) $Id: textTag.test,v 1.6 2002/07/13 20:28:35 dgp Exp $
d11 3
a13 6
package require tcltest 2.1
namespace import -force tcltest::configure
namespace import -force tcltest::testsDirectory
configure -testdir [file join [pwd] [file dirname [info script]]]
configure -loadfile [file join [testsDirectory] constraints.tcl]
tcltest::loadTestedCommands
d16 6
a21 4
testConstraint courier12 [expr {[catch {
				text .t -font {Courier 12} -width 20 -height 10
				}] == 0}]

d88 1
a88 1
    test textTag-1.$i {tag configuration options} courier12 {
d94 1
a94 1
	test textTag-1.$i {configuration options} courier12 {
d101 1
a101 1
test textTag-2.1 {TkTextTagCmd - "add" option} courier12 {
d104 1
a104 1
test textTag-2.2 {TkTextTagCmd - "add" option} courier12 {
d107 1
a107 1
test textTag-2.3 {TkTextTagCmd - "add" option} courier12 {
d110 1
a110 1
test textTag-2.4 {TkTextTagCmd - "add" option} courier12 {
d113 1
a113 1
test textTag-2.5 {TkTextTagCmd - "add" option} courier12 {
d116 1
a116 1
test textTag-2.6 {TkTextTagCmd - "add" option} courier12 {
d121 1
a121 1
test textTag-2.7 {TkTextTagCmd - "add" option} courier12 {
d125 1
a125 1
test textTag-2.8 {TkTextTagCmd - "add" option} courier12 {
d130 1
a130 1
test textTag-2.9 {TkTextTagCmd - "add" option} courier12 {
d136 1
a136 1
test textTag-2.11 {TkTextTagCmd - "add" option} courier12 {
d143 1
a143 1
test textTag-2.12 {TkTextTagCmd - "add" option} courier12 {
d148 1
a148 1
test textTag-2.13 {TkTextTagCmd - "add" option} courier12 {
d155 1
a155 1
test textTag-3.1 {TkTextTagCmd - "bind" option} courier12 {
d158 1
a158 1
test textTag-3.2 {TkTextTagCmd - "bind" option} courier12 {
d161 1
a161 1
test textTag-3.3 {TkTextTagCmd - "bind" option} courier12 {
d165 1
a165 1
test textTag-3.4 {TkTextTagCmd - "bind" option} courier12 {
d168 1
a168 1
test textTag-3.5 {TkTextTagCmd - "bind" option} courier12 {
d173 1
a173 1
test textTag-3.6 {TkTextTagCmd - "bind" option} courier12 {
d180 1
a180 1
test textTag-3.7 {TkTextTagCmd - "bind" option} courier12 {
d187 1
a187 1
test textTag-3.7 {TkTextTagCmd - "bind" option} courier12 {
d191 1
a191 1
test textTag-3.8 {TkTextTagCmd - "bind" option} courier12 {
d196 1
a196 1
test textTag-4.1 {TkTextTagCmd - "cget" option} courier12 {
d199 1
a199 1
test textTag-4.2 {TkTextTagCmd - "cget" option} courier12 {
d202 1
a202 1
test textTag-4.3 {TkTextTagCmd - "cget" option} courier12 {
d206 1
a206 1
test textTag-4.4 {TkTextTagCmd - "cget" option} courier12 {
d209 1
a209 1
test textTag-4.5 {TkTextTagCmd - "cget" option} courier12 {
d215 1
a215 1
test textTag-5.1 {TkTextTagCmd - "configure" option} courier12 {
d218 1
a218 1
test textTag-5.2 {TkTextTagCmd - "configure" option} courier12 {
d221 1
a221 1
test textTag-5.3 {TkTextTagCmd - "configure" option} courier12 {
d224 1
a224 1
test textTag-5.4 {TkTextTagCmd - "configure" option} courier12 {
d229 1
a229 1
test textTag-5.5 {TkTextTagCmd - "configure" option} courier12 {
d234 1
a234 1
test textTag-5.6 {TkTextTagCmd - "configure" option} courier12 {
d237 1
a237 1
test textTag-5.7 {TkTextTagCmd - "configure" option} courier12 {
d241 1
a241 1
test textTag-5.8 {TkTextTagCmd - "configure" option} courier12 {
d246 1
a246 1
test textTag-5.9 {TkTextTagCmd - "configure" option} courier12 {
d250 1
a250 1
test textTag-5.10 {TkTextTagCmd - "configure" option} courier12 {
d254 1
a254 1
test textTag-5.11 {TkTextTagCmd - "configure" option} courier12 {
d259 1
a259 1
test textTag-5.12 {TkTextTagCmd - "configure" option} courier12 {
d263 1
a263 1
test textTag-5.13 {TkTextTagCmd - "configure" option} courier12 {
d269 1
a269 1
test textTag-5.14 {TkTextTagCmd - "configure" option} courier12 {
d273 1
a273 1
test textTag-5.15 {TkTextTagCmd - "configure" option} courier12 {
d277 1
a277 1
test textTag-5.16 {TkTextTagCmd - "configure" option} courier12 {
d282 1
a282 1
test textTag-5.17 {TkTextTagCmd - "configure" option} courier12 {
d288 1
a288 1
test textTag-5.18 {TkTextTagCmd - "configure" option} courier12 {
d292 1
a292 1
test textTag-5.19 {TkTextTagCmd - "configure" option} courier12 {
d296 1
a296 1
test textTag-5.20 {TkTextTagCmd - "configure" option} courier12 {
d300 1
a300 1
test textTag-5.21 {TkTextTagCmd - "configure" option} courier12 {
d310 1
a310 1
test textTag-5.22 {TkTextTagCmd - "configure" option} courier12 {
d316 1
a316 1
test textTag-6.1 {TkTextTagCmd - "delete" option} courier12 {
d319 1
a319 1
test textTag-6.2 {TkTextTagCmd - "delete" option} courier12 {
d322 1
a322 1
test textTag-6.3 {TkTextTagCmd - "delete" option} courier12 {
d330 1
a330 1
test textTag-6.4 {TkTextTagCmd - "delete" option} courier12 {
d337 1
a337 1
test textTag-6.5 {TkTextTagCmd - "delete" option} courier12 {
d351 1
a351 1
test textTag-7.1 {TkTextTagCmd - "lower" option} courier12 {
d354 1
a354 1
test textTag-7.2 {TkTextTagCmd - "lower" option} courier12 {
d357 1
a357 1
test textTag-7.3 {TkTextTagCmd - "lower" option} courier12 {
d360 1
a360 1
test textTag-7.4 {TkTextTagCmd - "lower" option} courier12 {
d365 1
a365 1
test textTag-7.5 {TkTextTagCmd - "lower" option} courier12 {
d370 1
a370 1
test textTag-7.6 {TkTextTagCmd - "lower" option} courier12 {
d376 1
a376 1
test textTag-8.1 {TkTextTagCmd - "names" option} courier12 {
d379 1
a379 1
test textTag-8.2 {TkTextTagCmd - "names" option} courier12 {
d383 1
a383 1
test textTag-8.3 {TkTextTagCmd - "names" option} courier12 {
d394 1
a394 1
test textTag-9.1 {TkTextTagCmd - "nextrange" option} courier12 {
d397 1
a397 1
test textTag-9.2 {TkTextTagCmd - "nextrange" option} courier12 {
d400 1
a400 1
test textTag-9.3 {TkTextTagCmd - "nextrange" option} courier12 {
d403 1
a403 1
test textTag-9.4 {TkTextTagCmd - "nextrange" option} courier12 {
d406 1
a406 1
test textTag-9.5 {TkTextTagCmd - "nextrange" option} courier12 {
d409 1
a409 1
test textTag-9.6 {TkTextTagCmd - "nextrange" option} courier12 {
d412 1
a412 1
test textTag-9.7 {TkTextTagCmd - "nextrange" option} courier12 {
d415 1
a415 1
test textTag-9.8 {TkTextTagCmd - "nextrange" option} courier12 {
d418 1
a418 1
test textTag-9.9 {TkTextTagCmd - "nextrange" option} courier12 {
d421 1
a421 1
test textTag-9.10 {TkTextTagCmd - "nextrange" option} courier12 {
d424 1
a424 1
test textTag-9.11 {TkTextTagCmd - "nextrange" option} courier12 {
d427 1
a427 1
test textTag-9.12 {TkTextTagCmd - "nextrange" option} courier12 {
d430 1
a430 1
test textTag-9.13 {TkTextTagCmd - "nextrange" option} courier12 {
d433 1
a433 1
test textTag-9.14 {TkTextTagCmd - "nextrange" option} courier12 {
d437 1
a437 1
test textTag-10.1 {TkTextTagCmd - "prevrange" option} courier12 {
d440 1
a440 1
test textTag-10.2 {TkTextTagCmd - "prevrange" option} courier12 {
d443 1
a443 1
test textTag-10.3 {TkTextTagCmd - "prevrange" option} courier12 {
d446 1
a446 1
test textTag-10.4 {TkTextTagCmd - "prevrange" option} courier12 {
d449 1
a449 1
test textTag-10.5 {TkTextTagCmd - "prevrange" option} courier12 {
d452 1
a452 1
test textTag-10.6 {TkTextTagCmd - "prevrange" option} courier12 {
d455 1
a455 1
test textTag-10.7 {TkTextTagCmd - "prevrange" option} courier12 {
d458 1
a458 1
test textTag-10.8 {TkTextTagCmd - "prevrange" option} courier12 {
d461 1
a461 1
test textTag-10.9 {TkTextTagCmd - "prevrange" option} courier12 {
d464 1
a464 1
test textTag-10.10 {TkTextTagCmd - "prevrange" option} courier12 {
d467 1
a467 1
test textTag-10.11 {TkTextTagCmd - "prevrange" option} courier12 {
d470 1
a470 1
test textTag-10.12 {TkTextTagCmd - "prevrange" option} courier12 {
d473 1
a473 1
test textTag-10.13 {TkTextTagCmd - "prevrange" option} courier12 {
d476 1
a476 1
test textTag-10.14 {TkTextTagCmd - "prevrange" option} courier12 {
d480 1
a480 1
test textTag-11.1 {TkTextTagCmd - "raise" option} courier12 {
d483 1
a483 1
test textTag-11.2 {TkTextTagCmd - "raise" option} courier12 {
d486 1
a486 1
test textTag-11.3 {TkTextTagCmd - "raise" option} courier12 {
d489 1
a489 1
test textTag-11.4 {TkTextTagCmd - "raise" option} courier12 {
d494 1
a494 1
test textTag-11.5 {TkTextTagCmd - "raise" option} courier12 {
d499 1
a499 1
test textTag-11.6 {TkTextTagCmd - "raise" option} courier12 {
d505 1
a505 1
test textTag-12.1 {TkTextTagCmd - "ranges" option} courier12 {
d508 1
a508 1
test textTag-12.2 {TkTextTagCmd - "ranges" option} courier12 {
d512 1
a512 1
test textTag-12.3 {TkTextTagCmd - "ranges" option} courier12 {
d519 1
a519 1
test textTag-12.4 {TkTextTagCmd - "ranges" option} courier12 {
d526 1
a526 1
test textTag-13.1 {TkTextTagCmd - "remove" option} courier12 {
d529 1
a529 1
test textTag-13.2 {TkTextTagCmd - "remove" option} courier12 {
d535 1
a535 1
test textTag-13.3 {TkTextTagCmd - "remove" option} courier12 {
d545 1
a545 1
test textTag-14.1 {SortTags} courier12 {
d552 1
a552 1
test textTag-14.2 {SortTags} courier12 {
d562 1
a562 1
test textTag-14.3 {SortTags} courier12 {
d568 1
a568 1
test textTag-14.4 {SortTags} courier12 {
d591 1
a591 1
test textTag-15.1 {TkTextBindProc} courier12 {
d610 1
a610 1
test textTag-15.2 {TkTextBindProc} courier12 {
d634 1
a634 1
test textTag-15.3 {TkTextBindProc} courier12 {
d667 1
a667 1
test textTag-16.1 {TkTextPickCurrent procedure} courier12 {
d683 1
a683 1
test textTag-16.2 {TkTextPickCurrent procedure} courier12 {
d696 1
a696 1
test textTag-16.3 {TkTextPickCurrent procedure} courier12 {
d714 1
a714 1
test textTag-16.4 {TkTextPickCurrent procedure} courier12 {
d734 1
a734 1
test textTag-16.5 {TkTextPickCurrent procedure} courier12 {
d744 1
a744 1
test textTag-16.6 {TkTextPickCurrent procedure} courier12 {
d755 1
a755 1
test textTag-16.7 {TkTextPickCurrent procedure} courier12 {
@


