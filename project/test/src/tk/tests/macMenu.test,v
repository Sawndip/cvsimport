head	1.5;
access;
symbols
	sid-snapshot-20180601:1.5
	sid-snapshot-20180501:1.5
	sid-snapshot-20180401:1.5
	sid-snapshot-20180301:1.5
	sid-snapshot-20180201:1.5
	sid-snapshot-20180101:1.5
	sid-snapshot-20171201:1.5
	sid-snapshot-20171101:1.5
	sid-snapshot-20171001:1.5
	sid-snapshot-20170901:1.5
	sid-snapshot-20170801:1.5
	sid-snapshot-20170701:1.5
	sid-snapshot-20170601:1.5
	sid-snapshot-20170501:1.5
	sid-snapshot-20170401:1.5
	sid-snapshot-20170301:1.5
	sid-snapshot-20170201:1.5
	sid-snapshot-20170101:1.5
	sid-snapshot-20161201:1.5
	sid-snapshot-20161101:1.5
	sid-snapshot-20160901:1.5
	sid-snapshot-20160801:1.5
	sid-snapshot-20160701:1.5
	sid-snapshot-20160601:1.5
	sid-snapshot-20160501:1.5
	sid-snapshot-20160401:1.5
	sid-snapshot-20160301:1.5
	sid-snapshot-20160201:1.5
	sid-snapshot-20160101:1.5
	sid-snapshot-20151201:1.5
	sid-snapshot-20151101:1.5
	sid-snapshot-20151001:1.5
	sid-snapshot-20150901:1.5
	sid-snapshot-20150801:1.5
	sid-snapshot-20150701:1.5
	sid-snapshot-20150601:1.5
	sid-snapshot-20150501:1.5
	sid-snapshot-20150401:1.5
	sid-snapshot-20150301:1.5
	sid-snapshot-20150201:1.5
	sid-snapshot-20150101:1.5
	sid-snapshot-20141201:1.5
	sid-snapshot-20141101:1.5
	sid-snapshot-20141001:1.5
	sid-snapshot-20140901:1.5
	sid-snapshot-20140801:1.5
	sid-snapshot-20140701:1.5
	sid-snapshot-20140601:1.5
	sid-snapshot-20140501:1.5
	sid-snapshot-20140401:1.5
	sid-snapshot-20140301:1.5
	sid-snapshot-20140201:1.5
	sid-snapshot-20140101:1.5
	sid-snapshot-20131201:1.5
	sid-snapshot-20131101:1.5
	sid-snapshot-20131001:1.5
	sid-snapshot-20130901:1.5
	sid-snapshot-20130801:1.5
	sid-snapshot-20130701:1.5
	sid-snapshot-20130601:1.5
	insight_7_6-2013-04-10-branchpoint:1.5
	gdb_7_6-branch:1.5.0.28
	sid-snapshot-20130501:1.5
	sid-snapshot-20130401:1.5
	sid-snapshot-20130301:1.5
	sid-snapshot-20130201:1.5
	sid-snapshot-20130101:1.5
	sid-snapshot-20121201:1.5
	sid-snapshot-20121101:1.5
	sid-snapshot-20121001:1.5
	sid-snapshot-20120901:1.5
	gdb_7_5-branch:1.5.0.26
	sid-snapshot-20120801:1.5
	sid-snapshot-20120701:1.5
	sid-snapshot-20120601:1.5
	sid-snapshot-20120501:1.5
	sid-snapshot-20120401:1.5
	gdb_7_4-branch:1.5.0.24
	sid-snapshot-20120301:1.5
	sid-snapshot-20120201:1.5
	sid-snapshot-20120101:1.5
	sid-snapshot-20111201:1.5
	sid-snapshot-20111101:1.5
	sid-snapshot-20111001:1.5
	sid-snapshot-20110901:1.5
	gdb_7_3-branch:1.5.0.22
	sid-snapshot-20110801:1.5
	sid-snapshot-20110701:1.5
	sid-snapshot-20110601:1.5
	sid-snapshot-20110501:1.5
	sid-snapshot-20110401:1.5
	sid-snapshot-20110301:1.5
	sid-snapshot-20110201:1.5
	sid-snapshot-20110101:1.5
	sid-snapshot-20101201:1.5
	sid-snapshot-20101101:1.5
	sid-snapshot-20101001:1.5
	sid-snapshot-20100901:1.5
	sid-snapshot-20100801:1.5
	sid-snapshot-20100701:1.5
	sid-snapshot-20100601:1.5
	sid-snapshot-20100501:1.5
	sid-snapshot-20100401:1.5
	sid-snapshot-20100301:1.5
	gdb_7_1-branch:1.5.0.20
	gdb_7_0-branch:1.5.0.18
	sid-snapshot-20100201:1.5
	sid-snapshot-20100101:1.5
	sid-snapshot-20091201:1.5
	sid-snapshot-20091101:1.5
	sid-snapshot-20091001:1.5
	arc-sim-20090309:1.5
	sid-snapshot-20090901:1.5
	sid-snapshot-20090801:1.5
	sid-snapshot-20090701:1.5
	sid-snapshot-20090601:1.5
	sid-snapshot-20090501:1.5
	kevinb-pre-tk8_5_7_merge:1.5
	sid-snapshot-20090401:1.5
	arc-insight_6_8-branch:1.5.0.16
	arc-insight_6_8-branchpoint:1.5
	insight_6_8-branch:1.5.0.14
	insight_6_8-branchpoint:1.5
	sid-snapshot-20090301:1.5
	sid-snapshot-20090201:1.5
	sid-snapshot-20090101:1.5
	sid-snapshot-20081201:1.5
	sid-snapshot-20081101:1.5
	sid-snapshot-20081001:1.5
	sid-snapshot-20080901:1.5
	sid-snapshot-20080801:1.5
	sid-snapshot-20080701:1.5
	sid-snapshot-20080601:1.5
	sid-snapshot-20080501:1.5
	sid-snapshot-20080403:1.5
	sid-snapshot-20080401:1.5
	gdb_6_8-branch:1.5.0.12
	sid-snapshot-20080301:1.5
	sid-snapshot-20080201:1.5
	sid-snapshot-20080101:1.5
	sid-snapshot-20071201:1.5
	sid-snapshot-20071101:1.5
	sid-snapshot-20071001:1.5
	insight_6_6-20070208-release:1.5
	gdb_6_6-branch:1.5.0.10
	gdb_6_6-2006-11-15-branchpoint:1.5
	insight_6_5-20061003-release:1.5
	gdb_6_5-branch:1.5.0.8
	gdb_6_5-2006-05-14-branchpoint:1.5
	gdb_6_4-branch:1.5.0.6
	gdb_6_4-2005-11-01-branchpoint:1.5
	gdb_6_1-2004-04-05-release:1.5
	gdb_6_1-branch:1.5.0.4
	gdb_6_1-2004-03-01-gmt-branchpoint:1.5
	gdb_6_0-2003-10-04-release:1.5
	gdb_6_0-branch:1.5.0.2
	gdb_6_0-2003-06-23-branchpoint:1.5
	TK8_4_1:1.1.1.3
	gdb_5_3-2002-12-12-release:1.2
	tcltk840-20020924-branch:1.3.0.2
	tcltk840-20020924-branchpoint:1.3
	TK_8_4_0:1.1.1.3
	sid-20020905-branchpoint:1.2
	sid-20020905-branch:1.2.0.6
	gdb_5_3-branch:1.2.0.4
	gdb_5_3-2002-09-04-branchpoint:1.2
	gdb_5_2_1-2002-07-23-release:1.2
	gdb_5_2-2002-04-29-release:1.2
	gdb_5_2-branch:1.2.0.2
	gdb_5_2-2002-03-03-branchpoint:1.2
	gdb_5_1_1-2002-01-24-release:1.1.1.1
	cygnus_cvs_20020108_pre:1.2
	gdb_5_1_0_1-2002-01-03-branch:1.1.1.1.0.8
	gdb_5_1_0_1-2002-01-03-branchpoint:1.1.1.1
	gdb_5_1-2001-11-21-release:1.1.1.1
	gdb_s390-2001-09-26-branch:1.1.1.1.0.6
	gdb_s390-2001-09-26-branchpoint:1.1.1.1
	TK_8_3:1.1.1.2
	NET:1.1.1
	gdb_5_1-2001-07-29-branch:1.1.1.1.0.4
	gdb_5_1-2001-07-29-branchpoint:1.1.1.1
	insight-precleanup-2001-01-01:1.1.1.1
	gdb_5_0-2000-05-19-release:1.1.1.1
	gdb_4_18_2-2000-05-18-release:1.1.1.1
	gdb_4_95_1-2000-05-11-snapshot:1.1.1.1
	gdb_4_95_0-2000-04-27-snapshot:1.1.1.1
	gdb_5_0-2000-04-10-branch:1.1.1.1.0.2
	gdb_5_0-2000-04-10-branchpoint:1.1.1.1
	repo-unification-2000-02-06:1.1.1.1
	insight-2000-02-04:1.1.1.1
	SNAPSHOT:1.1.1;
locks; strict;
comment	@# @;
expand	@o@;


1.5
date	2003.01.21.20.24.51;	author hunt;	state Exp;
branches;
next	1.4;

1.4
date	2003.01.21.19.53.16;	author hunt;	state Exp;
branches;
next	1.3;

1.3
date	2002.09.24.18.39.29;	author kseitz;	state Exp;
branches;
next	1.2;

1.2
date	2001.09.10.01.16.54;	author irox;	state Exp;
branches;
next	1.1;

1.1
date	2000.02.07.00.19.30;	author jsm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.02.07.00.19.30;	author jsm;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2001.09.10.00.22.36;	author irox;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2002.09.24.20.39.07;	author kseitz;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Updated to tk 8.4.1
@
text
@# This file is a Tcl script to test menus in Tk.  It is
# organized in the standard fashion for Tcl tests. This
# file tests the Macintosh-specific features of the menu
# system.
#
# Copyright (c) 1995-1997 Sun Microsystems, Inc.
# Copyright (c) 1998-1999 by Scriptics Corporation.
# All rights reserved.
#
# RCS: @@(#) $Id: macMenu.test,v 1.7 2002/07/13 20:28:35 dgp Exp $

package require tcltest 2.1
namespace import -force tcltest::configure
namespace import -force tcltest::testsDirectory
configure -testdir [file join [pwd] [file dirname [info script]]]
configure -loadfile [file join [testsDirectory] constraints.tcl]
tcltest::loadTestedCommands

test macMenu-1.0 {TkMacUseMenuID} {macOnly} {
    # Can't really test TkMacUseMenuID; it's only called on startup.
} {}

test macMenu-2.1 {GetNewID} {macOnly} {
    catch {destroy .m1}
    list [catch {menu .m1} msg] $msg [destroy .m1]
} {0 .m1 {}}
test macMenu-2.2 {GetNewID - cascade menu} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add cascade -menu .m2
    list [catch {menu .m2} msg] $msg [destroy .m1] [destroy .m2]
} {0 .m2 {} {}}
test macMenu-2.3 {GetNewID - running out of ids} {macOnly} {
    deleteWindows
    menu .menu
    for {set i 0} {$i < 230} {incr i} {
    	menu .m$i
    	.menu add cascade -label ".m$i" -menu .m$i
    }
    menu .breaker
    list [catch {.menu add cascade -menu .breaker} msg] $msg [deleteWindows]
} {1 {No more menus can be allocated.} {}}

test macMenu-3.1 {FreeID} {macOnly} {
    catch {destroy .m1}
    menu .m1
    list [catch {destroy .m1} msg] $msg
} {0 {}}

# No way to test running out of ids in TkpNewPlatformMenu
test macMenu-4.1 {TkpNewMenu} {macOnly} {
    catch {destroy .m1}
    list [catch {menu .m1} msg] $msg [catch {destroy .m1} msg2] $msg2
} {0 .m1 0 {}}
test macMenu-4.2 {TkpNewMenu - checking for help menu when one is there} {macOnly} {
    catch {destroy .m1}
    catch {destroy .m2}
    menu .m1
    menu .m1.help -tearoff 0
    .m1.help add command -label Test
    . configure -menu .m1
    raise .
    update
    list [catch {menu .m2} msg] $msg [destroy .m1] [destroy .m2] [. configure -menu ""]
} {0 .m2 {} {} {}}
test macMenu-4.3 {TkpNewMenu - menubar set but different interp} {macOnly} {
    catch {interp delete testinterp}
    catch {destroy .m1}
    interp create testinterp
    load {} Tk testinterp
    interp eval testinterp {raise .}
    interp eval testinterp {menu .m1}
    interp eval testinterp {. configure -menu .m1}
    interp eval testinterp {update}
    list [catch {menu .m1} msg] $msg [destroy .m1] [interp delete testinterp]
} {0 .m1 {} {}}
test macMenu-4.4 {TkpNewMenu - menubar set but new menu has different parent} {macOnly} {
    catch {destroy .m1}
    catch {destroy .m2}
    menu .m1 -tearoff 0
    .m1 add cascade -menu .m1.help
    menu .m2
    .m2 add cascade -menu .m2.help
    . configure -menu .m1
    raise .
    update
    list [catch {menu .m2.help} msg] $msg [. configure -menu ""] [destroy .m1] [destroy .m2]
} {0 .m2.help {} {} {}}
test macMenu-4.5 {TkpNewMenu - menubar set, same parent, not .help} {macOnly} {
    catch {destroy .m1}
    menu .m1 -tearoff 0
    .m1 add cascade -menu .m1.help
    . configure -menu .m1
    raise .
    update
    list [catch {menu .m1.foo} msg] $msg [. configure -menu ""] [destroy .m1]
} {0 .m1.foo {} {}}
test macMenu-4.6 {TkpNewMenu - creating the help menu} {macOnly} {
    catch {destroy .m1}
    menu .m1 -tearoff 0
    .m1 add cascade -menu .m1.help
    . configure -menu .m1
    raise .
    update
    list [catch {menu .m1.help} msg] $msg [. configure -menu ""] [destroy .m1]
} {0 .m1.help {} {}}

test macMenu-5.1 {TkpDestroyMenu} {macOnly} {
    catch {destroy .m1}
    menu .m1
    list [catch {destroy .m1} msg] $msg
} {0 {}}
test macMenu-5.2 {TkpDestroyMenu - help menu} {macOnly} {
    catch {destroy .m1}
    menu .m1 -tearoff 0
    .m1 add cascade -menu .m1.help
    . configure -menu .m1
    menu .m1.help
    raise .
    update
    list [catch {destroy .m1.help} msg] $msg [. configure -menu ""] [destroy .m1]
} {0 {} {} {}}
test macMenu-5.3 {TkpDestroyMenu - idle handler pending} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label test
    list [catch {destroy .m1} msg] $msg
} {0 {}}
test macMenu-5.4 {TkpDestroyMenu - idle handler not pending} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label test
    update idletasks
    list [catch {destroy .m1} msg] $msg
} {0 {}}

test macMenu-6.1 {SetMenuCascade} {macOnly} {
    catch {destroy .m1}
    catch {destroy .m2}
    menu .m1
    menu .m2
    list [catch {.m2 add cascade -menu .m1} msg] $msg [destroy .m1 .m2]
} {0 {} {}}
test macMenu-6.2 {SetMenuCascade - running out of ids} {macOnly} {
    deleteWindows
    menu .menu
    for {set i 0} {$i < 230} {incr i} {
    	menu .m$i
    	.menu add cascade -label ".m$i" -menu .m$i
    }
    menu .breaker
    list [catch {.menu add cascade -menu .breaker} msg] $msg [deleteWindows]
} {1 {No more menus can be allocated.} {}}

test macMenu-7.1 {TkpDestroyMenuEntry} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label "test"
    list [catch {.m1 delete 1} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-7.2 {TkpDestroyMenuEntry - help menu} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add cascade -menu .m1.help
    menu .m1.help -tearoff 0
    .m1.help add command -label "test"
    . configure -menu .m1
    raise .
    update
    list [catch {.m1.help delete test} msg] $msg [. configure -menu ""] [destroy .m1]
} {0 {} {} {}}

test macMenu-8.1 {GetEntryText} {macOnly} {
    catch {destroy .m1}
    list [catch {menu .m1} msg] $msg [destroy .m1]
} {0 .m1 {}}
test macMenu-8.2 {GetEntryText} {macOnly testImageType} {
    catch {destroy .m1}
    catch {image delete image1}
    menu .m1
    image create test image1
    list [catch {.m1 add command -image image1} msg] $msg [destroy .m1] [image delete image1]
} {0 {} {} {}}
test macMenu-8.3 {GetEntryText} {macOnly} {
    catch {destroy .m1}
    menu .m1
    list [catch {.m1 add command -bitmap questhead} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-8.4 {GetEntryText} {macOnly} {
    catch {destroy .m1}
    menu .m1
    list [catch {.m1 add command} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-8.5 {GetEntryText} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label "foo"
    list [catch {.m1 add command -label "foo"} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-8.6 {GetEntryText} {macOnly} {
    catch {destroy .m1}
    menu .m1
    list [catch {.m1 add command -label "This is a very long string. 9012345678900123456789001234567890012345678900123456789001234567890012345678900123456789001234567890012345678900123456789001234567890012345678900123456789001234567890012345678900123456789001234567890012345678900123456789001234567890"} \
    	    msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-8.7 {GetEntryText - elipses character} {macOnly} {
    catch {destroy .m1}
    menu .m1
    list [catch {.m1 add command -label "foo..."} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-8.8 {GetEntryText - false elipses character} {macOnly} {
    catch {destroy .m1}
    menu .m1
    list [catch {.m1 add command -label "foo."} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-8.9 {GetEntryText - false elipses character} {macOnly} {
    catch {destroy .m1}
    menu .m1
    list [catch {.m1 add command -label "foo.."} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-8.10 {GetEntryText - false elipses character} {macOnly} {
    catch {destroy .m1}
    menu .m1
    list [catch {.m1 add command -label "foo.b"} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-8.11 {GetEntryText - false elipses character} {macOnly} {
    catch {destroy .m1}
    menu .m1
    list [catch {.m1 add command -label "foo..b"} msg] $msg [destroy .m1]
} {0 {} {}}


# test macMenu-9.1 - assumes some fonts
test macMenu-9.1 {FindMarkCharacter} {macOnly} {
    catch {destroy .m1}
    menu .m1 -font "Helvetica 12" -tearoff 0
    .m1 add checkbutton -label test
    .m1 invoke test
    list [catch {update idletasks} msg] $msg [destroy .m1]
} {0 {} {}}
# All standard fonts have "¥" defined. We can't test further.

test macMenu-10.1 {SetMenuIndicator - cascade entry} {macOnly} {
    catch {destroy .m1}
    menu .m1
    list [catch {.m1 add cascade -label foo} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-10.2 {SetMenuIndicator - not radio or checkbutton} {macOnly} {
    catch {destroy .m1}
    menu .m1
    list [catch {.m1 add command -label foo} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-10.3 {SetMenuIndicator - indiatorOn false} {macOnly} {
    catch {destroy .m1}
    menu .m1
    list [catch {.m1 add checkbutton -label foo -indicatoron 0} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-10.4 {SetMenuIndicator - entry not selected} {macOnly} {
    catch {destroy .m1}
    menu .m1
    list [catch {.m1 add checkbutton -label foo} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-10.5 {SetMenuIndicator - checkbutton} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add checkbutton -label foo
    list [catch {.m1 invoke foo} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-10.6 {SetMenuIndicator - radio button} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add radiobutton -label foo
    list [catch {.m1 invoke foo} msg] $msg [destroy .m1]
} {0 {} {}}

test macMenu-11.1 {SetMenuTitle} {macOnly} {
    catch {destroy .m1}
    catch {destroy .container}
    menu .container
    menu .m1
#previous title is .m1
    .container add cascade -label "File" -menu .m1
    list [catch {. configure -menu .container} msg] $msg [. configure -menu ""] [destroy .container .m1]
} {0 {} {} {}}
test macMenu-11.2 {SetMenuTitle} {macOnly} {
    menu .container
    menu .m1
    . configure -menu ""
#previous title is .m1
    .container add cascade -label "F" -menu .m1
    list [catch {. configure -menu .container} msg] $msg [. configure -menu ""] [destroy .container .m1]
} {0 {} {} {}}

test macMenu-12.1 {TkpConfigureMenuEntry} {macOnly} {
    catch {destroy .m1}
    . configure -menu ""
    menu .m1
    .m1 add cascade -menu .m3
    list [catch {.m1 entryconfigure 1 -menu .m2} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-12.2 {TkpConfigureMenuEntry} {macOnly} {
    catch {destroy .m1}
    catch {destroy .m2}
    . configure -menu ""
    menu .m1
    .m1 add cascade -menu .m3
    menu .m2
    list [catch {.m1 entryconfigure 1 -menu .m2} msg] $msg [destroy .m1 .m2]
} {0 {} {}}
test macMenu-12.3 {TkpConfigureMenuEntry - running out of ids} {macOnly} {
    deleteWindows
    menu .menu
    for {set i 0} {$i < 230} {incr i} {
    	menu .m$i
    	.menu add cascade -label ".m$i" -menu .m$i
    }
    menu .breaker
    list [catch {.menu add cascade -menu .breaker} msg] $msg [deleteWindows]
} {1 {No more menus can be allocated.} {}}
test macMenu-12.4 {TkpConfigureMenuEntry - Control} {macOnly} {
    catch {destroy .m1}
    menu .m1
    list [catch {.m1 add command -accel "Control+S"} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-12.5 {TkpConfigureMenuEntry - Ctrl} {macOnly} {
    catch {destroy .m1}
    menu .m1
    list [catch {.m1 add command -accel "Ctrl+S"} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-12.6 {TkpConfigureMenuEntry - Shift} {macOnly} {
    catch {destroy .m1}
    menu .m1
    list [catch {.m1 add command -accel "Shift+S"} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-12.7 {TkpConfigureMenuEntry - Option} {macOnly} {
    catch {destroy .m1}
    menu .m1
    list [catch {.m1 add command -accel "Opt+S"} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-12.8 {TkpConfigureMenuEntry - Command} {macOnly} {
    catch {destroy .m1}
    menu .m1
    list [catch {.m1 add command -accel "Command+S"} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-12.9 {TkpConfigureMenuEntry - Cmd} {macOnly} {
    catch {destroy .m1}
    menu .m1
    list [catch {.m1 add command -accel "Cmd+S"} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-12.10 {TkpConfigureMenuEntry - Alt} {macOnly} {
    catch {destroy .m1}
    menu .m1
    list [catch {.m1 add command -accel "Alt+S"} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-12.11 {TkpConfigureMenuEntry - Meta} {macOnly} {
    catch {destroy .m1}
    menu .m1
    list [catch {.m1 add command -accel "Meta+S"} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-12.12 {TkpConfigureMenuEntry - Two modifiers} {macOnly} {
    catch {destroy .m1}
    menu .m1
    list [catch {.m1 add command -accel "Cmd+Shift+S"} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-12.13 {TkpConfigureMenuEntry - dash instead of plus} {macOnly} {
    catch {destroy .m1}
    menu .m1
    list [catch {.m1 add command -accel "Command-S"} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-12.14 {TkpConfigureMenuEntry - idler pending} {macOnly} {
    catch {destroy .m1}
    menu .m1 -tearoff 0
    .m1 add command -label test
    list [catch {.m1 entryconfigure test -label test2} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-12.15 {TkpConfigureMenuEntry - idler not pending} {macOnly} {
    catch {destroy .m1}
    menu .m1 -tearoff 0
    .m1 add command -label test
    update idletasks
    list [catch {.m1 entryconfigure test -label test2} msg] $msg [destroy .m1]
} {0 {} {}}

test macMenu-13.1 {ReconfigureIndividualMenu - getting rid of zero items} {macOnly} {
    catch {destroy .m1}
    menu .m1 -tearoff 0
    .m1 add command -label test
    list [catch {update idletasks} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-13.2 {ReconfigureIndividualMenu - getting rid of one item} {macOnly} {
    catch {destroy .m1}
    menu .m1 -tearoff 0
    .m1 add command -label test
    update idletasks
    .m1 delete test
    list [catch {update idletasks} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-13.3 {ReconfigureIndividualMenu - getting rid of more than one} {macOnly} {
    catch {destroy .m1}
    menu .m1 -tearoff 0
    .m1 add command -label test
    .m1 add command -label test2
    update idletasks
    .m1 entryconfigure test2 -label "test two"
    list [catch {update idletasks} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-13.4 {ReconfigureIndividualMenu - separator} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add separator
    list [catch {update idletasks} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-13.5 {ReconfigureIndividualMenu - disabled} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command
    .m1 entryconfigure 1 -state disabled
    list [catch {update idletasks} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-13.6 {ReconfigureIndividualMenu - active} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command
    .m1 entryconfigure 1 -state active
    list [catch {update idletasks} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-13.7 {ReconfigureIndividualMenu - checkbutton not checked} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add checkbutton -label test
    list [catch {update idletasks} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-13.8 {ReconfigureIndividualMenu - checkbutton - indicator off} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add checkbutton -label test -indicatoron 0
    .m1 invoke test
    list [catch {update idletasks} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-13.9 {ReconfigureIndividualMenu - checkbutton on} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add checkbutton -label test
    .m1 invoke test
    list [catch {update idletasks} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-13.10 {ReconfigureIndividualMenu - radiobutton not checked} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add radiobutton -label test
    list [catch {update idletasks} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-13.11 {ReconfigureIndividualMenu - radiobutton - indicator off} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add radiobutton -label test -indicatoron 0
    .m1 invoke test
    list [catch {update idletasks} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-13.12 {ReconfigureIndividualMenu - radiobutton on} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add radiobutton -label test
    .m1 invoke test
    list [catch {update idletasks} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-13.13 {ReconfigureIndividualMenu} {macOnly} {
    catch {destroy .m1}
    . configure -menu ""
    menu .m1
    .m1 add cascade -menu .m3
    .m1 entryconfigure 1 -menu .m2
    list [catch {update idletasks} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-13.14 {ReconfigureIndividualMenu} {macOnly} {
    catch {destroy .m1}
    catch {destroy .m2}
    . configure -menu ""
    menu .m1
    .m1 add cascade -menu .m3
    menu .m2
    .m1 entryconfigure 1 -menu .m2
    list [catch {update idletasks} msg] $msg [destroy .m1 .m2]
} {0 {} {}}
test macMenu-13.15 {ReconfigureIndividualMenu - accelerator} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -accel "Command-S"
    list [catch {update idletasks} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-13.16 {ReconfigureIndividualMenu - parent is disabled} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add cascade -label .m1.edit -label "Edit" -state disabled
    menu .m1.edit
    .m1.edit add command -label foo
    list [catch {update idletasks} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-13.17 {ReconfigureIndividualMenu - disabling parent} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add cascade -label .m1.edit -label Edit
    menu .m1.edit
    .m1.edit add command -label foo
    .m1 entryconfigure Edit -state disabled
    list [catch {update idletasks} msg] $msg [destroy .m1]
} {0 {} {}}

test macMenu-14.1 {ReconfigureMacintoshMenu - normal menu} {macOnly} {
    catch {destroy .m1}
    menu .m1 -tearoff 0
    .m1 add command -label test
    list [catch {update idletasks} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-14.2 {ReconfigureMacintoshMenu - apple menu} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add cascade -menu .m1.apple
    menu .m1.apple -tearoff 0
    .m1.apple add command -label test
    . configure -menu .m1
    raise .
    list [catch {update idletasks} msg] $msg [. configure -menu ""] [destroy .m1]
} {0 {} {} {}}
test macMenu-14.3 {ReconfigureMacintoshMenu - help menu} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add cascade -menu .m1.help
    menu .m1.help -tearoff 0
    .m1.help add command -label test
    . configure -menu .m1
    raise .
    list [catch {update idletasks} msg] $msg [. configure -menu ""] [destroy .m1]
} {0 {} {} {}}
test macMenu-14.4 {ReconfigureMacintoshMenu - menubar} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add cascade -menu .m1.file -label "foo"
    menu .m1.file
    . configure -menu .m1
    raise .
    .m1 entryconfigure foo -label "File"
    list [catch {update} msg] $msg [. configure -menu ""] [destroy .m1]
} {0 {} {} {}}

test macMenu-15.1 {CompleteIdlers - no idle pending} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label test
    update idletasks
    list [catch {.m1 post 40 40} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-15.2 {CompleteIdlers - idle pending} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label test
    list [catch {.m1 post 40 40} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-15.3 {CompleteIdlers - recursive} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add cascade -menu .m1.m2 -label test
    menu .m1.m2
    .m1.m2 add command -label test
    list [catch {.m1 post 40 40} msg] $msg [destroy .m1]
} {0 {} {}}

#Don't know how to generate nested post menus
test macMenu-16.1 {TkpPostMenu} {macOnly} {
    catch {destroy .m1}
    menu .m1 -postcommand "destroy .m1"
    list [catch {.m1 post 40 40} msg] $msg
} {0 {}}
test macMenu-16.2 {TkpPostMenu} {macOnly} {
    catch {destroy .m1}
    menu .m1 -postcommand "blork"
    list [catch {.m1 post 40 40} msg] $msg [destroy .m1]
} {1 {invalid command name "blork"} {}}
# We need to write the interactive test for menu posting.

test macMenu-17.1 {TkpMenuNewEntry - no idle pending} {macOnly} {
    catch {destroy .m1}
    menu .m1
    list [catch {.m1 add command -label test} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-17.2 {TkpMenuNewEntry - idle pending} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label test
    list [catch {.m1 add command -label test2} msg] $msg [destroy .m1]
} {0 {} {}}

test macMenu-18.1 {DrawMenuBarWhenIdle} {macOnly} {
    catch {destroy .m1}
    . configure -menu ""
    menu .m1
    . configure -menu .m1
    list [catch {update idletasks} msg] $msg [. configure -menu ""] [destroy .m1]
} {0 {} {} {}}
test macMenu-18.2 {DrawMenuBarWhenIdle - clearing old apple menu out} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add cascade -menu .m1.apple
    menu .m1.apple
    .m1.apple add command -label test
    . configure -menu .m1
    raise .
    update
    . configure -menu ""
    raise .
    list [catch {update} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-18.3 {DrawMenuBarWhenIdle - clearing out old help menu} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add cascade -menu .m1.help
    menu .m1.help
    .m1.help add command -label test
    . configure -menu .m1
    raise .
    update
    . configure -menu ""
    raise .
    list [catch {update} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-18.4 {DrawMenuBarWhenIdle - menu not there} {macOnly} {
    catch {destroy .m1}
    . configure -menu .m1
    raise .
    list [catch {update} msg] $msg [. configure -menu ""]
} {0 {} {}}
test macMenu-18.5 {DrawMenuBarWhenIdle - menu there} {macOnly} {
    catch {destroy .m1}
    menu .m1
    . configure -menu .m1
    raise .
    list [catch {update} msg] $msg [. configure -menu ""] [destroy .m1]
} {0 {} {} {}}
test macMenu-18.6 {DrawMenuBarWhenIdle - no apple menu} {macOnly} {
    catch {destroy .m1}
    menu .m1
    . configure -menu .m1
    raise .
    list [catch {update} msg] $msg [. configure -menu ""] [destroy .m1]
} {0 {} {} {}}
test macMenu-18.7 {DrawMenuBarWhenIdle - apple menu references but not there} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add cascade -menu .m1.apple
    . configure -menu .m1
    raise .
    list [catch {update} msg] $msg [. configure -menu ""] [destroy .m1]
} {0 {} {} {}}
test macMenu-18.8 {DrawMenuBarWhenIdle - apple menu there} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add cascade -menu .m1.apple
    menu .m1.apple
    .m1.apple add command -label test
    . configure -menu .m1
    raise .
    list [catch {update} msg] $msg [. configure -menu ""] [destroy .m1]
} {0 {} {} {}}
test macMenu-18.9 {DrawMenuBarWhenIdle - apple menu there; no idle handler} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add cascade -menu .m1.apple
    menu .m1.apple
    .m1.apple add command -label test
    . configure -menu .m1
    raise .
    update idletasks
    list [catch {update} msg] $msg [. configure -menu ""] [destroy .m1]
} {0 {} {} {}}
test macMenu-18.10 {DrawMenuBarWhenIdle - no help menu} {macOnly} {
    catch {destroy .m1}
    menu .m1
    . configure -menu .m1
    raise .
    list [catch {update} msg] $msg [. configure -menu ""] [destroy .m1]
} {0 {} {} {}}
test macMenu-18.11 {DrawMenuBarWhenIdle - help menu referenced but not there} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add cascade -menu .m1.help
    . configure -menu .m1
    raise .
    list [catch {update} msg] $msg [. configure -menu ""] [destroy .m1]
} {0 {} {} {}}
test macMenu-18.12 {DrawMenuBarWhenIdle - help menu there} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add cascade -menu .m1.help
    menu .m1.help
    .m1.help add command -label test
    . configure -menu .m1
    raise .
    list [catch {update} msg] $msg [. configure -menu ""] [destroy .m1]
} {0 {} {} {}}
test macMenu-18.13 {DrawMenuBarWhenIdle - help menu there - no idlers} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add cascade -menu .m1.help
    menu .m1.help
    .m1.help add command -label test
    . configure -menu .m1
    raise .
    update idletasks
    list [catch {update} msg] $msg [. configure -menu ""] [destroy .m1]
} {0 {} {} {}}
# Can't generate no menubar clone
test macMenu-18.14 {DrawMenuBarWhenIdle - apple and help menus in tearoff menubar} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add cascade -menu .m1.apple
    .m1 add cascade -menu .m1.help
    menu .m1.apple
    menu .m1.help
    . configure -menu .m1
    raise .
    list [catch {update} msg] $msg [. configure -menu ""] [destroy .m1]
} {0 {} {} {}}
test macMenu-18.15 {DrawMenuBarWhenIdle - apple and help menus in non-tearoff menubar} {macOnly} {
    catch {destroy .m1}
    menu .m1 -tearoff 0
    .m1 add cascade -menu .m1.apple
    .m1 add cascade -menu .m1.help
    menu .m1.apple
    menu .m1.help
    . configure -menu .m1
    raise .
    list [catch {update} msg] $msg [. configure -menu ""] [destroy .m1]
} {0 {} {} {}}
test macMenu-18.16 {DrawMenuBarWhenIdle - no apple menu} {macOnly} {
    catch {destroy .m1}
    menu .m1 -tearoff 0
    . configure -menu .m1
    raise .
    list [catch {update} msg] $msg [. configure -menu ""] [destroy .m1]
} {0 {} {} {}}
test macMenu-18.17 {DrawMenuBarWhenIdle - apple menu} {macOnly} {
    catch {destroy .m1}
    menu .m1 -tearoff 0
    . configure -menu .m1
    .m1 add cascade -menu .m1.apple
    menu .m1.apple
    .m1.apple add cascade -label test -menu .m1.apple.test
    menu .m1.apple.test
    raise .
    list [catch {update} msg] $msg [. configure -menu ""] [destroy .m1]
} {0 {} {} {}}
test macMenu-18.18 {DrawMenuBarWhenIdle - big for loop} {macOnly} {
    catch {destroy .m1}
    menu .m1 -tearoff 0
    menu .m1.apple -tearoff 0
    menu .m1.help -tearoff 0
    menu .m1.foo -tearoff 0
    .m1 add cascade -menu .m1.apple
    .m1 add cascade -menu .m1.help
    .m1 add cascade -label Foo -menu .m1.foo
    . configure -menu .m1
    raise .
    list [catch {update} msg] $msg [. configure -menu ""] [destroy .m1]
} {0 {} {} {}}
test macMenu-18.19 {DrawMenuBarWhenIdle = disabled menu} {macOnly} {
    catch {destroy .m1}
    menu .m1 -tearoff 0
    menu .m1.edit -tearoff 0
    .m1 add cascade -menu .m1.edit -label Edit
    . configure -menu .m1
    raise .
    .m1 entryconfigure Edit -state disabled
    list [catch {update} msg] $msg [. configure -menu ""] [destroy .m1]
} {0 {} {} {}}

test macMenu-19.1 {RecursivelyInsertMenu} {macOnly} {
    catch {destroy .m1}
    catch {destroy .m2}
    catch {destroy .main}
    catch {destroy .t2}
    toplevel .t2 -menu .main
    wm geometry .t2 +0+0
    menu .main
    .main add cascade -menu .m1 -label ".m1"
    menu .m1
    .m1 add command -label "Test 2"
    .m1 add cascade -label ".m2" -menu .m2
    menu .m2
    .m2 add command -label "Test 3"
    list [catch {raise .t2} msg] $msg [destroy .t2 .main .m1 .m2]
} {0 {} {}}
test macMenu-19.2 {RecursivelyInsertMenu} {macOnly} {
    catch {destroy .m1}
    catch {destroy .m2}
    catch {destroy .main}
    catch {destroy .t2}
    toplevel .t2 -menu .main
    wm geometry .t2 +0+0
    menu .main
    .main add cascade -menu .m1 -label ".m1"
    menu .m1
    .m1 add command -label "Test 2"
    .m1 add cascade -label ".m2" -menu .m2
    menu .m2
    .m2 add command -label "Test 3"
    list [catch {raise .t2} msg] $msg [destroy .t2 .main .m1 .m2]
} {0 {} {}}

test macMenu-20.1 {SetDefaultMenuBar} {macOnly} {
    . configure -menu ""
    raise .
    list [catch {update} msg] $msg
} {0 {}}

test macMenu-21.1 {TkpSetMainMenubar - not front window} {macOnly} {
    catch {destroy .m1}
    catch {destroy .t2}
    toplevel .t2
    wm geometry .t2 +50+50
    menu .m1
    raise .
    update
    list [catch {.t2 configure -menu .m1} msg] $msg [destroy .t2] [destroy .m1]
} {0 {} {} {}}
test macMenu-21.2 {TkpSetMainMenubar - menu null} {macOnly} {
    . configure -menu ""
    raise .
    list [catch {update} msg] $msg
} {0 {}}
test macMenu-21.3 {TkpSetMainMenubar - different interps} {macOnly} {
    catch {destroy .m1}
    catch {interp delete testinterp}
    interp create testinterp
    load {} Tk testinterp
    menu .m1
    . configure -menu .m1
    raise .
    update
    interp eval testinterp {menu .m1}
    interp eval testinterp {. configure -menu .m1}
    interp eval testinterp {raise .}
    list [catch {interp eval testinterp {update}} msg] $msg [interp delete testinterp] [. configure -menu ""] [destroy .m1]
} {0 {} {} {} {}}
test macMenu-21.4 {TkpSetMainMenubar - different windows} {macOnly} {
    catch {destroy .m1}
    catch {destroy .t2}
    menu .m1
    . configure -menu .m1
    toplevel .t2
    wm geometry .t2 +50+50
    .t2 configure -menu .m1
    raise .
    update
    raise .t2
    list [catch {update} msg] $msg [destroy .t2] [. configure -menu ""] [destroy .m1]
} {0 {} {} {} {}}
test macMenu-21.5 {TkpSetMainMenubar - old menu was null} {macOnly} {
    catch {destroy .m1}
    . configure -menu ""
    update
    menu .m1
    . configure -menu .m1
    raise .
    list [catch {update} msg] $msg [. configure -menu ""] [destroy .m1]
} {0 {} {} {}}
test macMenu-21.6 {TkpSetMainMenubar - old menu different} {macOnly} {
    catch {destroy .m1}
    catch {destroy .m2}
    menu .m1
    menu .m2
    . configure -menu .m1
    raise .
    update
    . configure -menu .m2
    raise .
    list [catch {update} msg] $msg [. configure -menu ""] [destroy .m1] [destroy .m2]
} {0 {} {} {} {}}
test macMenu-21.7 {TkpSetMainMenubar - child window NULL - parent window now} {macOnly} {
    catch {destroy .m1}
    catch {destroy .t2}
    toplevel .t2 
    menu .m1
    .m1 add cascade -label Foo -menu .m1.foo
    menu .m1.foo
    .m1.foo add command -label foo
    . configure -menu .m1
    raise .t2
    list [catch {update} msg] $msg [. configure -menu ""] [destroy .m1] [destroy .t2]
} {0 {} {} {} {}}
test macMenu-21.8 {TkpSetMainMenubar - tearoff window} {macOnly} {
    catch {destroy .t2}
    toplevel .t2 -menu .t2.m1
    menu .t2.m1
    .t2.m1 add cascade -label File -menu .t2.m1.foo
    menu .t2.m1.foo
    .t2.m1.foo add command -label foo
    raise .t2
    tk::TearOffMenu .t2.m1.foo 100 100
    list [catch {update} msg] $msg [destroy .t2]
} {0 {} {}}

test macMenu-22.1 {TkSetWindowMenuBar} {macOnly} {
} {}

test macMenu-23.1 {TkMacDispatchMenuEvent} {macOnly} {
    # needs to be interactive.
} {}

test macMenu-24.1 {GetMenuIndicatorGeometry} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add checkbutton -label foo
    .m1 invoke foo
    list [catch {tk::TearOffMenu .m1 40 40}] [destroy .m1]
} {0 {}}

test macMenu-25.1 {GetMenuAccelGeometry - cascade entry} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add cascade -label foo
    list [catch {tk::TearOffMenu .m1 40 40}] [destroy .m1]
} {0 {}}
test macMenu-25.2 {GetMenuAccelGeometry - no accel} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command
    list [catch {tk::TearOffMenu .m1 40 40}] [destroy .m1]
} {0 {}}
test macMenu-25.3 {GetMenuAccelGeometry - no special chars - arbitrary string} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -accel "Test"
    list [catch {tk::TearOffMenu .m1 40 40}] [destroy .m1]
} {0 {}}
test macMenu-25.4 {GetMenuAccelGeometry - Command} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label foo -accel "Cmd+S"
    list [catch {tk::TearOffMenu .m1 40 40}] [destroy .m1]
} {0 {}}
test macMenu-25.5 {GetMenuAccelGeometry - Control} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label foo -accel "Ctrl+S"
    list [catch {tk::TearOffMenu .m1 40 40}] [destroy .m1]
} {0 {}}
test macMenu-25.6 {GetMenuAccelGeometry - Shift} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label foo -accel "Shift+S"
    list [catch {tk::TearOffMenu .m1 40 40}] [destroy .m1]
} {0 {}}
test macMenu-25.7 {GetMenuAccelGeometry - Option} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label foo -accel "Opt+S"
    list [catch {tk::TearOffMenu .m1 40 40}] [destroy .m1]
} {0 {}}
test macMenu-25.8 {GetMenuAccelGeometry - Combination} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label foo -accel "Cmd+Shift+S"
    list [catch {tk::TearOffMenu .m1 40 40}] [destroy .m1]
} {0 {}}
test macMenu-25.9 {GetMenuAccelGeometry - extra text} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label foo -accel "Command+Delete"
    list [catch {tk::TearOffMenu .m1 40 40}] [destroy .m1]
} {0 {}}
    
test macMenu-26.1 {GetTearoffEntryGeometry} {macOnly} {
    # can't call this on power mac.
} {}

test macMenu-27.1 {GetMenuSeparatorGeometry} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add separator
    list [catch {tk::TearOffMenu .m1 40 40}] [destroy .m1]
} {0 {}}

test macMenu-28.1 {DrawMenuEntryIndicator - non-checkbutton} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label foo
    set tearoff [tk::TearOffMenu .m1 40 40]
    list [catch {update} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-28.2 {DrawMenuEntryIndicator - indicator off} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add checkbutton -label foo -indicatoron 0
    .m1 invoke foo
    set tearoff [tk::TearOffMenu .m1 40 40]
    list [catch {update} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-28.3 {DrawMenuEntryIndicator - not selected} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add checkbutton -label foo
    set tearoff [tk::TearOffMenu .m1 40 40]
    list [catch {update} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-28.4 {DrawMenuEntryIndicator - checkbutton} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add checkbutton -label foo
    .m1 invoke foo
    set tearoff [tk::TearOffMenu .m1 40 40]
    list [catch {update} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-28.5 {DrawMenuEntryIndicator - radiobutton} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add radiobutton -label foo
    .m1 invoke foo
    set tearoff [tk::TearOffMenu .m1 40 40]
    list [catch {update} msg] $msg [destroy .m1]
} {0 {} {}}

# Cannot reproduce resources missing or color allocation failing easily.
test macMenu-29.1 {DrawSICN} {macOnly} {
   catch {destroy .m1}
   menu .m1
   .m1 add command -label foo -accel "Cmd+S"
   set tearoff [tk::TearOffMenu .m1 40 40]
   list [catch {update} msg] $msg [destroy .m1]
} {0 {} {}}

# Cannot reproduce resources missing
test macMenu-30.1 {DrawMenuEntryAccelerator - cascade entry} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add cascade -label foo
    set tearoff [tk::TearOffMenu .m1 40 40]
    list [catch {update} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-30.2 {DrawMenuEntryAccelerator - no accel string} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label foo
    set tearoff [tk::TearOffMenu .m1 40 40]
    list [catch {update} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-30.3 {DrawMenuEntryAccelerator - random accel string} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label foo -accel foo
    set tearoff [tk::TearOffMenu .m1 40 40]
    list [catch {update} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-30.4 {DrawMenuEntryAccelerator - Command} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label foo -accel "Cmd+S"
    set tearoff [tk::TearOffMenu .m1 40 40]
    list [catch {update} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-30.5 {DrawMenuEntryAccelerator - Option} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label foo -accel "Opt+S"
    set tearoff [tk::TearOffMenu .m1 40 40]
    list [catch {update} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-30.6 {DrawMenuEntryAccelerator - Shift} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label foo -accel "Shift+S"
    set tearoff [tk::TearOffMenu .m1 40 40]
    list [catch {update} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-30.7 {DrawMenuEntryAccelerator - Control} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label foo -accel "Ctrl+S"
    set tearoff [tk::TearOffMenu .m1 40 40]
    list [catch {update} msg] $msg [destroy .m1]
} {0 {} {}}
test macMenu-30.8 {DrawMenuEntryAccelerator - combination} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label foo -accel "Cmd+Shift+S"
    set tearoff [tk::TearOffMenu .m1 40 40]
    list [catch {update} msg] $msg [destroy .m1]
} {0 {} {}}

test macMenu-31.1 {DrawMenuSeparator} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add separator
    set tearoff [tk::TearOffMenu .m1 40 40]
    list [catch {update} msg] $msg [destroy .m1]
} {0 {} {}}

test macMenu-32.1 {TkpDrawMenuEntryLabel} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label foo
    set tearoff [tk::TearOffMenu .m1 40 40]
    list [catch {update} msg] $msg [destroy .m1]
} {0 {} {}}

test macMenu-33.1 {MenuDefProc - No way to test automatically.} {} {}
test macMenu-34.1 {TkMacHandleTearoffMenu - no way to test automatically} {} {}
test macMenu-35.1 {TkpInitializeMenuBindings - nothing to do} {} {}

test macMenu-36.1 {TkpComputeMenubarGeometry} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add cascade -label foo
    . configure -menu .m1
    list [catch {update} msg] $msg [. configure -menu ""] [destroy .m1]
} {0 {} {} {}}

test macMenu-37.1 {DrawTearoffEntry - can't do automatically} {} {}
test macMenu-38.1 {TkMacSetHelpMenuItemCount - called at boot time} {} {}
test macMenu-39.1 {TkMacMenuClick - can't do automatically} {} {}

test macMenu-40.1 {TkpDrawMenuEntry - gc for active and not strict motif} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label foo
    set tearoff [tk::TearOffMenu .m1 40 40]
    .m1 entryconfigure 1 -state active
    list [update] [destroy .m1]
} {{} {}}
test macMenu-40.2 {TkpDrawMenuEntry - gc for active menu item with its own gc} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label foo -activeforeground red
    set tearoff [tk::TearOffMenu .m1 40 40]
    .m1 entryconfigure 1 -state active
    list [update] [destroy .m1]
} {{} {}}
test macMenu-40.3 {TkpDrawMenuEntry - gc for active and strict motif} {macOnly} {
    catch {destroy .m1}
    menu .m1
    set tk_strictMotif 1
    .m1 add command -label foo
    set tearoff [tk::TearOffMenu .m1 40 40]
    .m1 entryconfigure 1 -state active
    list [update] [destroy .m1] [set tk_strictMotif 0]
} {{} {} 0}
test macMenu-40.4 {TkpDrawMenuEntry - gc for disabled with disabledfg and custom entry} {macOnly} {
    catch {destroy .m1}
    menu .m1 -disabledforeground blue
    .m1 add command -label foo -state disabled -background red
    set tearoff [tk::TearOffMenu .m1 40 40]
    list [update] [destroy .m1]
} {{} {}}
test macMenu-40.5 {TkpDrawMenuEntry - gc for disabled with disabledFg} {macOnly} {
    catch {destroy .m1}
    menu .m1 -disabledforeground blue
    .m1 add command -label foo -state disabled
    set tearoff [tk::TearOffMenu .m1 40 40]
    list [update] [destroy .m1]
} {{} {}}
test macMenu-40.6 {TkpDrawMenuEntry - gc for disabled - no disabledFg} {macOnly} {
    catch {destroy .m1}
    menu .m1 -disabledforeground ""
    .m1 add command -label foo -state disabled
    set tearoff [tk::TearOffMenu .m1 40 40]
    list [update] [destroy .m1]
} {{} {}}
test macMenu-40.7 {TkpDrawMenuEntry - gc for normal - custom entry} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label foo -foreground red
    set tearoff [tk::TearOffMenu .m1 40 40]
    list [update] [destroy .m1]
} {{} {}}
test macMenu-40.8 {TkpDrawMenuEntry - gc for normal} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label foo
    set tearoff [tk::TearOffMenu .m1 40 40]
    list [update] [destroy .m1]
} {{} {}}
test macMenu-40.9 {TkpDrawMenuEntry - gc for indicator - custom entry} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add checkbutton -label foo -selectcolor orange
    .m1 invoke 1
    set tearoff [tk::TearOffMenu .m1 40 40]
    list [update] [destroy .m1]
} {{} {}}
test macMenu-40.10 {TkpDrawMenuEntry - gc for indicator} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add checkbutton -label foo
    .m1 invoke 1
    set tearoff [tk::TearOffMenu .m1 40 40]
    list [update] [destroy .m1]
} {{} {}}
test macMenu-40.11 {TkpDrawMenuEntry - border - custom entry} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label foo -activebackground green
    set tearoff [tk::TearOffMenu .m1 40 40]
    .m1 entryconfigure 1 -state active
    list [update] [destroy .m1]
} {{} {}}
test macMenu-40.12 {TkpDrawMenuEntry - border} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label foo
    set tearoff [tk::TearOffMenu .m1 40 40]
    .m1 entryconfigure 1 -state active
    list [update] [destroy .m1]
} {{} {}}
test macMenu-40.13 {TkpDrawMenuEntry - active border - strict motif} {macOnly} {
    catch {destroy .m1}
    set tk_strictMotif 1
    menu .m1
    .m1 add command -label foo
    set tearoff [tk::TearOffMenu .m1 40 40]
    .m1 entryconfigure 1 -state active
    list [update] [destroy .m1] [set tk_strictMotif 0]
} {{} {} 0}
test macMenu-40.14 {TkpDrawMenuEntry - active border - custom entry} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label foo -activeforeground yellow
    set tearoff [tk::TearOffMenu .m1 40 40]
    .m1 entryconfigure 1 -state active
    list [update] [destroy .m1]
} {{} {}}
test macMenu-40.15 {TkpDrawMenuEntry - active border} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label foo
    set tearoff [tk::TearOffMenu .m1 40 40]
    .m1 entryconfigure 1 -state active
    list [update] [destroy .m1]
} {{} {}}
test macMenu-40.16 {TkpDrawMenuEntry - font - custom entry} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label foo -font "Helvectica 72"
    set tearoff [tk::TearOffMenu .m1 40 40]
    list [update] [destroy .m1]
} {{} {}}
test macMenu-40.17 {TkpDrawMenuEntry - font} {macOnly} {
    catch {destroy .m1}
    menu .m1 -font "Courier 72"
    .m1 add command -label foo
    set tearoff [tk::TearOffMenu .m1 40 40]
    list [update] [destroy .m1]
} {{} {}}
test macMenu-40.18 {TkpDrawMenuEntry - separator} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add separator
    set tearoff [tk::TearOffMenu .m1 40 40]
    list [update] [destroy .m1]
} {{} {}}
test macMenu-40.19 {TkpDrawMenuEntry - standard} {macOnly} {
    catch {destroy .mb}
    menu .m1
    .m1 add command -label foo
    set tearoff [tk::TearOffMenu .m1 40 40]
    list [update] [destroy .m1]
} {{} {}}
test macMenu-40.20 {TkpDrawMenuEntry - disabled cascade item} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add cascade -label File -menu .m1.file
    menu .m1.file
    .m1.file add command -label foo
    .m1 entryconfigure File -state disabled
    set tearoff [tk::TearOffMenu .m1 40 40]
    list [update] [destroy .m1]
} {{} {}}
test macMenu-40.21 {TkpDrawMenuEntry - indicator} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add checkbutton -label macMenu-40.20
    .m1 invoke 0
    set tearoff [tk::TearOffMenu .m1 40 40]
    list [update] [destroy .m1]
} {{} {}}
test macMenu-40.22 {TkpDrawMenuEntry - indicator - hideMargin} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add checkbutton -label macMenu-40.21 -hidemargin 1
    .m1 invoke 0
    set tearoff [tk::TearOffMenu .m1 40 40]
    list [update] [destroy .m1]
} {{} {}}

test macMenu-41.1 {TkpComputeStandardMenuGeometry - no entries} {macOnly} {
    catch {destroy .m1}
    menu .m1
    list [update idletasks] [destroy .m1]
} {{} {}}
test macMenu-41.2 {TkpComputeStandardMenuGeometry - one entry} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label "one"
    list [update idletasks] [destroy .m1]
} {{} {}}
test macMenu-41.3 {TkpComputeStandardMenuGeometry - more than one entry} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label "one"
    .m1 add command -label "two"
    list [update idletasks] [destroy .m1]
} {{} {}}
test macMenu-41.4 {TkpComputeStandardMenuGeometry - separator} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add separator
    list [update idletasks] [destroy .m1]
} {{} {}}
test macMenu-41.5 {TkpComputeStandardMenuGeometry - standard label geometry} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label "test"
    list [update idletasks] [destroy .m1]
} {{} {}}
test macMenu-41.6 {TkpComputeStandardMenuGeometry - different font for entry} {macOnly} {
    catch {destroy .m1}
    menu .m1 -font "Helvetica 12"
    .m1 add command -label "test" -font "Courier 12"
    list [update idletasks] [destroy .m1]
} {{} {}}
test macMenu-41.7 {TkpComputeStandardMenuGeometry - second entry larger} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label "test"
    .m1 add command -label "test test"
    list [update idletasks] [destroy .m1]
} {{} {}}
test macMenu-41.8 {TkpComputeStandardMenuGeometry - first entry larger} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label "test test"
    .m1 add command -label "test"
    list [update idletasks] [destroy .m1]
} {{} {}}
test macMenu-41.9 {TkpComputeStandardMenuGeometry - accelerator} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label "test" -accel "Ctrl+S"
    list [update idletasks] [destroy .m1]
} {{} {}}
test macMenu-41.10 {TkpComputeStandardMenuGeometry - second accel larger} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label "test" -accel "1"
    .m1 add command -label "test" -accel "1 1"
    list [update idletasks] [destroy .m1]
} {{} {}}
test macMenu-41.11 {TkpComputeStandardMenuGeometry - second accel smaller} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label "test" -accel "1 1"
    .m1 add command -label "test" -accel "1"
    list [update idletasks] [destroy .m1]
} {{} {}}
test macMenu-41.12 {TkpComputeStandardMenuGeometry - indicator} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add checkbutton -label test
    .m1 invoke 1
    list [update idletasks] [destroy .m1]
} {{} {}}
test macMenu-41.13 {TkpComputeStandardMenuGeometry - second indicator less or equal } {macOnly testImageType} {
    catch {destroy .m1}
    catch {image delete image1}
    image create test image1
    menu .m1
    .m1 add checkbutton -image image1
    .m1 invoke 1
    .m1 add checkbutton -label test
    .m1 invoke 2
    list [update idletasks] [destroy .m1] [image delete image1]
} {{} {} {}}
test macMenu-41.14 {TkpComputeStandardMenuGeometry - hidden margin} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add checkbutton -label macMenu-41.15 -hidemargin 1
    .m1 invoke macMenu-41.15
    list [update idletasks] [destroy .m1]
} {{} {}}
test macMenu-41.15 {TkpComputeStandardMenuGeometry - zero sized menus} {macOnly} {
    catch {destroy .m1}
    menu .m1 -tearoff 0
    list [update idletasks] [destroy .m1]
} {{} {}}
test macMenu-41.16 {TkpComputeStandardMenuGeometry - first column bigger} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label one
    .m1 add command -label two
    .m1 add command -label three -columnbreak 1
    list [update idletasks] [destroy .m1]
} {{} {}}
test macMenu-41.17 {TkpComputeStandardMenuGeometry - second column bigger} {macOnly} {
    catch {destroy .m1}
    menu .m1 -tearoff 0
    .m1 add command -label one
    .m1 add command -label two -columnbreak 1
    .m1 add command -label three
    list [update idletasks] [destroy .m1]
} {{} {}}
test macMenu-41.18 {TkpComputeStandardMenuGeometry - three columns} {macOnly} {
    catch {destroy .m1}
    menu .m1 -tearoff 0
    .m1 add command -label one
    .m1 add command -label two -columnbreak 1
    .m1 add command -label three
    .m1 add command -label four
    .m1 add command -label five -columnbreak 1
    .m1 add command -label six
    list [update idletasks] [destroy .m1]    
} {{} {}}
test macMenu-41.19 {TkpComputeStandardMenuGeometry - entry without accel long} {macOnly} {
    catch {destroy .m1}
    menu .m1 -tearoff 0
    .m1 add command -label "This is a long item with no accel."
    .m1 add command -label foo -accel "Cmd+S"
    list [update idletasks] [destroy .m1]
} {{} {}}
test macMenu-41.20 {TkpComputeStandardMenuGeometry - entry with accel long} {macOnly} {
    catch {destroy .m1}
    menu .m1 -tearoff 0
    .m1 add command -label foo
    .m1 add command -label "This is a long label with an accel." -accel "Cmd+W"
    list [update idletasks] [destroy .m1]
} {{} {}}

test macMenu-42.1 {DrawMenuEntryLabel - setting indicatorSpace} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label "foo"
    set tearoff [tk::TearOffMenu .m1]
    list [update idletasks] [destroy .m1]    
} {{} {}}
test macMenu-42.2 {DrawMenuEntryLabel - drawing image} {macOnly testImageType} {
    catch {destroy .m1}
    catch {image delete image1}
    image create test image1
    menu .m1
    .m1 add command -image image1
    set tearoff [tk::TearOffMenu .m1]
    list [update idletasks] [destroy .m1] [image delete image1]
} {{} {} {}}
test macMenu-42.3 {DrawMenuEntryLabel - drawing select image} {macOnly testImageType} {
    catch {destroy .m1}
    catch {eval image delete [image names]}
    image create test image1
    image create test image2
    menu .m1
    .m1 add checkbutton -image image1 -selectimage image2
    .m1 invoke 1
    set tearoff [tk::TearOffMenu .m1]
    list [update idletasks] [destroy .m1] [eval image delete [image names]]
} {{} {} {}}
test macMenu-42.4 {DrawMenuEntryLabel - drawing a bitmap} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -bitmap questhead
    set tearoff [tk::TearOffMenu .m1]
    list [update idletasks] [destroy .m1]
} {{} {}}
test macMenu-42.5 {DrawMenuEntryLabel - drawing null label} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command
    set tearoff [tk::TearOffMenu .m1]
    list [update idletasks] [destroy .m1]
} {{} {}}
test macMenu-42.6 {DrawMenuEntryLabel - drawing real label} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label "This is a long label" -underline 3
    set tearoff [tk::TearOffMenu .m1]
    list [update idletasks] [destroy .m1]
} {{} {}}
test macMenu-42.7 {DrawMenuEntryLabel - drawing disabled label} {macOnly} {
	catch {destroy .m1}
	menu .m1 -disabledforeground ""
	.m1 add command -label "This is a long label" -state disabled
	set tearoff [tk::TearOffMenu .m1]
	list [update idletasks] [destroy .m1]
} {{} {}}
test macMenu-42.8 {DrawMenuEntryLabel - disabled images} {macOnly testImageType} {
	catch {destroy .m1}
	catch {image delete image1}
	image create test image1
	menu .m1
	.m1 add command -image image1 -state disabled
	set tearoff [tk::TearOffMenu .m1 100 100]
	list [update idletasks] [destroy .m1] [image delete image1]
} {{} {} {}}

test macMenu-43.1 {GetMenuLabelGeometry - image} {macOnly testImageType} {
    catch {destroy .m1}
    catch {image delete image1}
    menu .m1
    image create test image1
    .m1 add command -image image1
    list [update idletasks] [destroy .m1] [image delete image1]
} {{} {} {}}
test macMenu-43.2 {GetMenuLabelGeometry - bitmap} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -bitmap questhead
    list [update idletasks] [destroy .m1]
} {{} {}}
test macMenu-43.3 {GetMenuLabelGeometry - no text} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command
    list [update idletasks] [destroy .m1]
} {{} {}}
test macMenu-43.4 {GetMenuLabelGeometry - text} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label "This is a test."
    list [update idletasks] [destroy .m1]
} {{} {}}

test macMenu-44.1 {DrawMenuEntryBackground} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label foo
    set tearoff [tk::TearOffMenu .m1 40 40]
    list [update] [destroy .m1]
} {{} {}}
test macMenu-44.2 {DrawMenuEntryBackground} {macOnly} {
    catch {destroy .m1}
    menu .m1
    .m1 add command -label foo
    set tearoff [tk::TearOffMenu .m1 40 40]
    $tearoff activate 0
    list [update] [destroy .m1]
} {{} {}}

test macMenu-45.1 {TkpMenuInit - called at boot time} {macOnly} {
} {}

# cleanup
deleteWindows
::tcltest::cleanupTests
return
@


1.4
log
@touched all sources to ease next import
@
text
@d10 1
a10 1
# RCS: @@(#) $Id: macMenu.test,v 1.7.6.1 2000/05/04 21:26:29 spolk Exp $
d12 6
a17 27
if {[lsearch [namespace children] ::tcltest] == -1} {
    source [file join [pwd] [file dirname [info script]] defs.tcl]
}

if {$tcl_platform(platform) != "macintosh"} {
    puts "skipping: Mac only tests..."
    ::tcltest::cleanupTests
    return
}

if {[lsearch [image types] test] < 0} {
    puts "This application hasn't been compiled with the \"test\" image"
    puts "type, so I can't run this test.  Are you sure you're using"
    puts "tktest instead of wish?"
    ::tcltest::cleanupTests
    return
}

proc deleteWindows {} {
    foreach i [winfo children .] {
    	catch [destroy $i]
    }
}

deleteWindows
wm geometry . {}
raise .
d19 1
a19 1
test macMenu-1.0 {TkMacUseMenuID} {} {
d23 1
a23 1
test macMenu-2.1 {GetNewID} {
d27 1
a27 1
test macMenu-2.2 {GetNewID - cascade menu} {
d33 1
a33 1
test macMenu-2.3 {GetNewID - running out of ids} {
d44 1
a44 1
test macMenu-3.1 {FreeID} {
d51 1
a51 1
test macMenu-4.1 {TkpNewMenu} {
d55 1
a55 1
test macMenu-4.2 {TkpNewMenu - checking for help menu when one is there} {
d66 1
a66 1
test macMenu-4.3 {TkpNewMenu - menubar set but different interp} {
d77 1
a77 1
test macMenu-4.4 {TkpNewMenu - menubar set but new menu has different parent} {
d89 1
a89 1
test macMenu-4.5 {TkpNewMenu - menubar set, same parent, not .help} {
d98 1
a98 1
test macMenu-4.6 {TkpNewMenu - creating the help menu} {
d108 1
a108 1
test macMenu-5.1 {TkpDestroyMenu} {
d113 1
a113 1
test macMenu-5.2 {TkpDestroyMenu - help menu} {
d123 1
a123 1
test macMenu-5.3 {TkpDestroyMenu - idle handler pending} {
d129 1
a129 1
test macMenu-5.4 {TkpDestroyMenu - idle handler not pending} {
d137 1
a137 1
test macMenu-6.1 {SetMenuCascade} {
d144 1
a144 1
test macMenu-6.2 {SetMenuCascade - running out of ids} {
d155 1
a155 1
test macMenu-7.1 {TkpDestroyMenuEntry} {
d161 1
a161 1
test macMenu-7.2 {TkpDestroyMenuEntry - help menu} {
d173 1
a173 1
test macMenu-8.1 {GetEntryText} {
d177 1
a177 1
test macMenu-8.2 {GetEntryText} {
d184 1
a184 1
test macMenu-8.3 {GetEntryText} {
d189 1
a189 1
test macMenu-8.4 {GetEntryText} {
d194 1
a194 1
test macMenu-8.5 {GetEntryText} {
d200 1
a200 1
test macMenu-8.6 {GetEntryText} {
d206 1
a206 1
test macMenu-8.7 {GetEntryText - elipses character} {
d211 1
a211 1
test macMenu-8.8 {GetEntryText - false elipses character} {
d216 1
a216 1
test macMenu-8.9 {GetEntryText - false elipses character} {
d221 1
a221 1
test macMenu-8.10 {GetEntryText - false elipses character} {
d226 1
a226 1
test macMenu-8.11 {GetEntryText - false elipses character} {
d234 1
a234 1
test macMenu-9.1 {FindMarkCharacter} {
d243 1
a243 1
test macMenu-10.1 {SetMenuIndicator - cascade entry} {
d248 1
a248 1
test macMenu-10.2 {SetMenuIndicator - not radio or checkbutton} {
d253 1
a253 1
test macMenu-10.3 {SetMenuIndicator - indiatorOn false} {
d258 1
a258 1
test macMenu-10.4 {SetMenuIndicator - entry not selected} {
d263 1
a263 1
test macMenu-10.5 {SetMenuIndicator - checkbutton} {
d269 1
a269 1
test macMenu-10.6 {SetMenuIndicator - radio button} {
d276 1
a276 1
test macMenu-11.1 {SetMenuTitle} {
d285 1
a285 1
test macMenu-11.2 {SetMenuTitle} {
d294 1
a294 1
test macMenu-12.1 {TkpConfigureMenuEntry} {
d301 1
a301 1
test macMenu-12.2 {TkpConfigureMenuEntry} {
d310 1
a310 1
test macMenu-12.3 {TkpConfigureMenuEntry - running out of ids} {
d320 1
a320 1
test macMenu-12.4 {TkpConfigureMenuEntry - Control} {
d325 1
a325 1
test macMenu-12.5 {TkpConfigureMenuEntry - Ctrl} {
d330 1
a330 1
test macMenu-12.6 {TkpConfigureMenuEntry - Shift} {
d335 1
a335 1
test macMenu-12.7 {TkpConfigureMenuEntry - Option} {
d340 1
a340 1
test macMenu-12.8 {TkpConfigureMenuEntry - Command} {
d345 1
a345 1
test macMenu-12.9 {TkpConfigureMenuEntry - Cmd} {
d350 1
a350 1
test macMenu-12.10 {TkpConfigureMenuEntry - Alt} {
d355 1
a355 1
test macMenu-12.11 {TkpConfigureMenuEntry - Meta} {
d360 1
a360 1
test macMenu-12.12 {TkpConfigureMenuEntry - Two modifiers} {
d365 1
a365 1
test macMenu-12.13 {TkpConfigureMenuEntry - dash instead of plus} {
d370 1
a370 1
test macMenu-12.14 {TkpConfigureMenuEntry - idler pending} {
d376 1
a376 1
test macMenu-12.15 {TkpConfigureMenuEntry - idler not pending} {
d384 1
a384 1
test macMenu-13.1 {ReconfigureIndividualMenu - getting rid of zero items} {
d390 1
a390 1
test macMenu-13.2 {ReconfigureIndividualMenu - getting rid of one item} {
d398 1
a398 1
test macMenu-13.3 {ReconfigureIndividualMenu - getting rid of more than one} {
d407 1
a407 1
test macMenu-13.4 {ReconfigureIndividualMenu - separator} {
d413 1
a413 1
test macMenu-13.5 {ReconfigureIndividualMenu - disabled} {
d420 1
a420 1
test macMenu-13.6 {ReconfigureIndividualMenu - active} {
d427 1
a427 1
test macMenu-13.7 {ReconfigureIndividualMenu - checkbutton not checked} {
d433 1
a433 1
test macMenu-13.8 {ReconfigureIndividualMenu - checkbutton - indicator off} {
d440 1
a440 1
test macMenu-13.9 {ReconfigureIndividualMenu - checkbutton on} {
d447 1
a447 1
test macMenu-13.10 {ReconfigureIndividualMenu - radiobutton not checked} {
d453 1
a453 1
test macMenu-13.11 {ReconfigureIndividualMenu - radiobutton - indicator off} {
d460 1
a460 1
test macMenu-13.12 {ReconfigureIndividualMenu - radiobutton on} {
d467 1
a467 1
test macMenu-13.13 {ReconfigureIndividualMenu} {
d475 1
a475 1
test macMenu-13.14 {ReconfigureIndividualMenu} {
d485 1
a485 1
test macMenu-13.15 {ReconfigureIndividualMenu - accelerator} {
d491 1
a491 1
test macMenu-13.16 {ReconfigureIndividualMenu - parent is disabled} {
d499 1
a499 1
test macMenu-13.17 {ReconfigureIndividualMenu - disabling parent} {
d509 1
a509 1
test macMenu-14.1 {ReconfigureMacintoshMenu - normal menu} {
d515 1
a515 1
test macMenu-14.2 {ReconfigureMacintoshMenu - apple menu} {
d525 1
a525 1
test macMenu-14.3 {ReconfigureMacintoshMenu - help menu} {
d535 1
a535 1
test macMenu-14.4 {ReconfigureMacintoshMenu - menubar} {
d546 1
a546 1
test macMenu-15.1 {CompleteIdlers - no idle pending} {
d553 1
a553 1
test macMenu-15.2 {CompleteIdlers - idle pending} {
d559 1
a559 1
test macMenu-15.3 {CompleteIdlers - recursive} {
d569 1
a569 1
test macMenu-16.1 {TkpPostMenu} {
d574 1
a574 1
test macMenu-16.2 {TkpPostMenu} {
d581 1
a581 1
test macMenu-17.1 {TkpMenuNewEntry - no idle pending} {
d586 1
a586 1
test macMenu-17.2 {TkpMenuNewEntry - idle pending} {
d593 1
a593 1
test macMenu-18.1 {DrawMenuBarWhenIdle} {
d600 1
a600 1
test macMenu-18.2 {DrawMenuBarWhenIdle - clearing old apple menu out} {
d613 1
a613 1
test macMenu-18.3 {DrawMenuBarWhenIdle - clearing out old help menu} {
d626 1
a626 1
test macMenu-18.4 {DrawMenuBarWhenIdle - menu not there} {
d632 1
a632 1
test macMenu-18.5 {DrawMenuBarWhenIdle - menu there} {
d639 1
a639 1
test macMenu-18.6 {DrawMenuBarWhenIdle - no apple menu} {
d646 1
a646 1
test macMenu-18.7 {DrawMenuBarWhenIdle - apple menu references but not there} {
d654 1
a654 1
test macMenu-18.8 {DrawMenuBarWhenIdle - apple menu there} {
d664 1
a664 1
test macMenu-18.9 {DrawMenuBarWhenIdle - apple menu there; no idle handler} {
d675 1
a675 1
test macMenu-18.10 {DrawMenuBarWhenIdle - no help menu} {
d682 1
a682 1
test macMenu-18.11 {DrawMenuBarWhenIdle - help menu referenced but not there} {
d690 1
a690 1
test macMenu-18.12 {DrawMenuBarWhenIdle - help menu there} {
d700 1
a700 1
test macMenu-18.13 {DrawMenuBarWhenIdle - help menu there - no idlers} {
d712 1
a712 1
test macMenu-18.14 {DrawMenuBarWhenIdle - apple and help menus in tearoff menubar} {
d723 1
a723 1
test macMenu-18.15 {DrawMenuBarWhenIdle - apple and help menus in non-tearoff menubar} {
d734 1
a734 1
test macMenu-18.16 {DrawMenuBarWhenIdle - no apple menu} {
d741 1
a741 1
test macMenu-18.17 {DrawMenuBarWhenIdle - apple menu} {
d752 1
a752 1
test macMenu-18.18 {DrawMenuBarWhenIdle - big for loop} {
d765 1
a765 1
test macMenu-18.19 {DrawMenuBarWhenIdle = disabled menu} {
d776 1
a776 1
test macMenu-19.1 {RecursivelyInsertMenu} {
d792 1
a792 1
test macMenu-19.2 {RecursivelyInsertMenu} {
d809 1
a809 1
test macMenu-20.1 {SetDefaultMenuBar} {
d815 1
a815 1
test macMenu-21.1 {TkpSetMainMenubar - not front window} {
d825 1
a825 1
test macMenu-21.2 {TkpSetMainMenubar - menu null} {
d830 1
a830 1
test macMenu-21.3 {TkpSetMainMenubar - different interps} {
d834 1
a834 1
    load {} tk testinterp
d844 1
a844 1
test macMenu-21.4 {TkpSetMainMenubar - different windows} {
d857 1
a857 1
test macMenu-21.5 {TkpSetMainMenubar - old menu was null} {
d866 1
a866 1
test macMenu-21.6 {TkpSetMainMenubar - old menu different} {
d878 1
a878 1
test macMenu-21.7 {TkpSetMainMenubar - child window NULL - parent window now} {
d890 1
a890 1
test macMenu-21.8 {TkpSetMainMenubar - tearoff window} {
d898 1
a898 1
    tkTearOffMenu .t2.m1.foo 100 100
d902 1
a902 1
test macMenu-22.1 {TkSetWindowMenuBar} {
d905 1
a905 1
test macMenu-23.1 {TkMacDispatchMenuEvent} {
d909 1
a909 1
test macMenu-24.1 {GetMenuIndicatorGeometry} {
d914 1
a914 1
    list [catch {tkTearOffMenu .m1 40 40}] [destroy .m1]
d917 1
a917 1
test macMenu-25.1 {GetMenuAccelGeometry - cascade entry} {
d921 1
a921 1
    list [catch {tkTearOffMenu .m1 40 40}] [destroy .m1]
d923 1
a923 1
test macMenu-25.2 {GetMenuAccelGeometry - no accel} {
d927 1
a927 1
    list [catch {tkTearOffMenu .m1 40 40}] [destroy .m1]
d929 1
a929 1
test macMenu-25.3 {GetMenuAccelGeometry - no special chars - arbitrary string} {
d933 1
a933 1
    list [catch {tkTearOffMenu .m1 40 40}] [destroy .m1]
d935 1
a935 1
test macMenu-25.4 {GetMenuAccelGeometry - Command} {
d939 1
a939 1
    list [catch {tkTearOffMenu .m1 40 40}] [destroy .m1]
d941 1
a941 1
test macMenu-25.5 {GetMenuAccelGeometry - Control} {
d945 1
a945 1
    list [catch {tkTearOffMenu .m1 40 40}] [destroy .m1]
d947 1
a947 1
test macMenu-25.6 {GetMenuAccelGeometry - Shift} {
d951 1
a951 1
    list [catch {tkTearOffMenu .m1 40 40}] [destroy .m1]
d953 1
a953 1
test macMenu-25.7 {GetMenuAccelGeometry - Option} {
d957 1
a957 1
    list [catch {tkTearOffMenu .m1 40 40}] [destroy .m1]
d959 1
a959 1
test macMenu-25.8 {GetMenuAccelGeometry - Combination} {
d963 1
a963 1
    list [catch {tkTearOffMenu .m1 40 40}] [destroy .m1]
d965 1
a965 1
test macMenu-25.9 {GetMenuAccelGeometry - extra text} {
d969 1
a969 1
    list [catch {tkTearOffMenu .m1 40 40}] [destroy .m1]
d972 1
a972 1
test macMenu-26.1 {GetTearoffEntryGeometry} {
d976 1
a976 1
test macMenu-27.1 {GetMenuSeparatorGeometry} {
d980 1
a980 1
    list [catch {tkTearOffMenu .m1 40 40}] [destroy .m1]
d983 1
a983 1
test macMenu-28.1 {DrawMenuEntryIndicator - non-checkbutton} {
d987 1
a987 1
    set tearoff [tkTearOffMenu .m1 40 40]
d990 1
a990 1
test macMenu-28.2 {DrawMenuEntryIndicator - indicator off} {
d995 1
a995 1
    set tearoff [tkTearOffMenu .m1 40 40]
d998 1
a998 1
test macMenu-28.3 {DrawMenuEntryIndicator - not selected} {
d1002 1
a1002 1
    set tearoff [tkTearOffMenu .m1 40 40]
d1005 1
a1005 1
test macMenu-28.4 {DrawMenuEntryIndicator - checkbutton} {
d1010 1
a1010 1
    set tearoff [tkTearOffMenu .m1 40 40]
d1013 1
a1013 1
test macMenu-28.5 {DrawMenuEntryIndicator - radiobutton} {
d1018 1
a1018 1
    set tearoff [tkTearOffMenu .m1 40 40]
d1023 1
a1023 1
test macMenu-29.1 {DrawSICN} {
d1027 1
a1027 1
   set tearoff [tkTearOffMenu .m1 40 40]
d1032 1
a1032 1
test macMenu-30.1 {DrawMenuEntryAccelerator - cascade entry} {
d1036 1
a1036 1
    set tearoff [tkTearOffMenu .m1 40 40]
d1039 1
a1039 1
test macMenu-30.2 {DrawMenuEntryAccelerator - no accel string} {
d1043 1
a1043 1
    set tearoff [tkTearOffMenu .m1 40 40]
d1046 1
a1046 1
test macMenu-30.3 {DrawMenuEntryAccelerator - random accel string} {
d1050 1
a1050 1
    set tearoff [tkTearOffMenu .m1 40 40]
d1053 1
a1053 1
test macMenu-30.4 {DrawMenuEntryAccelerator - Command} {
d1057 1
a1057 1
    set tearoff [tkTearOffMenu .m1 40 40]
d1060 1
a1060 1
test macMenu-30.5 {DrawMenuEntryAccelerator - Option} {
d1064 1
a1064 1
    set tearoff [tkTearOffMenu .m1 40 40]
d1067 1
a1067 1
test macMenu-30.6 {DrawMenuEntryAccelerator - Shift} {
d1071 1
a1071 1
    set tearoff [tkTearOffMenu .m1 40 40]
d1074 1
a1074 1
test macMenu-30.7 {DrawMenuEntryAccelerator - Control} {
d1078 1
a1078 1
    set tearoff [tkTearOffMenu .m1 40 40]
d1081 1
a1081 1
test macMenu-30.8 {DrawMenuEntryAccelerator - combination} {
d1085 1
a1085 1
    set tearoff [tkTearOffMenu .m1 40 40]
d1089 1
a1089 1
test macMenu-31.1 {DrawMenuSeparator} {
d1093 1
a1093 1
    set tearoff [tkTearOffMenu .m1 40 40]
d1097 1
a1097 1
test macMenu-32.1 {TkpDrawMenuEntryLabel} {
d1101 1
a1101 1
    set tearoff [tkTearOffMenu .m1 40 40]
d1109 1
a1109 1
test macMenu-36.1 {TkpComputeMenubarGeometry} {
d1121 1
a1121 1
test macMenu-40.1 {TkpDrawMenuEntry - gc for active and not strict motif} {
d1125 1
a1125 1
    set tearoff [tkTearOffMenu .m1 40 40]
d1129 1
a1129 1
test macMenu-40.2 {TkpDrawMenuEntry - gc for active menu item with its own gc} {
d1133 1
a1133 1
    set tearoff [tkTearOffMenu .m1 40 40]
d1137 1
a1137 1
test macMenu-40.3 {TkpDrawMenuEntry - gc for active and strict motif} {
d1142 1
a1142 1
    set tearoff [tkTearOffMenu .m1 40 40]
d1146 1
a1146 1
test macMenu-40.4 {TkpDrawMenuEntry - gc for disabled with disabledfg and custom entry} {
d1150 1
a1150 1
    set tearoff [tkTearOffMenu .m1 40 40]
d1153 1
a1153 1
test macMenu-40.5 {TkpDrawMenuEntry - gc for disabled with disabledFg} {
d1157 1
a1157 1
    set tearoff [tkTearOffMenu .m1 40 40]
d1160 1
a1160 1
test macMenu-40.6 {TkpDrawMenuEntry - gc for disabled - no disabledFg} {
d1164 1
a1164 1
    set tearoff [tkTearOffMenu .m1 40 40]
d1167 1
a1167 1
test macMenu-40.7 {TkpDrawMenuEntry - gc for normal - custom entry} {
d1171 1
a1171 1
    set tearoff [tkTearOffMenu .m1 40 40]
d1174 1
a1174 1
test macMenu-40.8 {TkpDrawMenuEntry - gc for normal} {
d1178 1
a1178 1
    set tearoff [tkTearOffMenu .m1 40 40]
d1181 1
a1181 1
test macMenu-40.9 {TkpDrawMenuEntry - gc for indicator - custom entry} {
d1186 1
a1186 1
    set tearoff [tkTearOffMenu .m1 40 40]
d1189 1
a1189 1
test macMenu-40.10 {TkpDrawMenuEntry - gc for indicator} {
d1194 1
a1194 1
    set tearoff [tkTearOffMenu .m1 40 40]
d1197 1
a1197 1
test macMenu-40.11 {TkpDrawMenuEntry - border - custom entry} {
d1201 1
a1201 1
    set tearoff [tkTearOffMenu .m1 40 40]
d1205 1
a1205 1
test macMenu-40.12 {TkpDrawMenuEntry - border} {
d1209 1
a1209 1
    set tearoff [tkTearOffMenu .m1 40 40]
d1213 1
a1213 1
test macMenu-40.13 {TkpDrawMenuEntry - active border - strict motif} {
d1218 1
a1218 1
    set tearoff [tkTearOffMenu .m1 40 40]
d1222 1
a1222 1
test macMenu-40.14 {TkpDrawMenuEntry - active border - custom entry} {
d1226 1
a1226 1
    set tearoff [tkTearOffMenu .m1 40 40]
d1230 1
a1230 1
test macMenu-40.15 {TkpDrawMenuEntry - active border} {
d1234 1
a1234 1
    set tearoff [tkTearOffMenu .m1 40 40]
d1238 1
a1238 1
test macMenu-40.16 {TkpDrawMenuEntry - font - custom entry} {
d1242 1
a1242 1
    set tearoff [tkTearOffMenu .m1 40 40]
d1245 1
a1245 1
test macMenu-40.17 {TkpDrawMenuEntry - font} {
d1249 1
a1249 1
    set tearoff [tkTearOffMenu .m1 40 40]
d1252 1
a1252 1
test macMenu-40.18 {TkpDrawMenuEntry - separator} {
d1256 1
a1256 1
    set tearoff [tkTearOffMenu .m1 40 40]
d1259 1
a1259 1
test macMenu-40.19 {TkpDrawMenuEntry - standard} {
d1263 1
a1263 1
    set tearoff [tkTearOffMenu .m1 40 40]
d1266 1
a1266 1
test macMenu-40.20 {TkpDrawMenuEntry - disabled cascade item} {
d1273 1
a1273 1
    set tearoff [tkTearOffMenu .m1 40 40]
d1276 1
a1276 1
test macMenu-40.21 {TkpDrawMenuEntry - indicator} {
d1281 1
a1281 1
    set tearoff [tkTearOffMenu .m1 40 40]
d1284 1
a1284 1
test macMenu-40.22 {TkpDrawMenuEntry - indicator - hideMargin} {
d1289 1
a1289 1
    set tearoff [tkTearOffMenu .m1 40 40]
d1293 1
a1293 1
test macMenu-41.1 {TkpComputeStandardMenuGeometry - no entries} {
d1298 1
a1298 1
test macMenu-41.2 {TkpComputeStandardMenuGeometry - one entry} {
d1304 1
a1304 1
test macMenu-41.3 {TkpComputeStandardMenuGeometry - more than one entry} {
d1311 1
a1311 1
test macMenu-41.4 {TkpComputeStandardMenuGeometry - separator} {
d1317 1
a1317 1
test macMenu-41.5 {TkpComputeStandardMenuGeometry - standard label geometry} {
d1323 1
a1323 1
test macMenu-41.6 {TkpComputeStandardMenuGeometry - different font for entry} {
d1329 1
a1329 1
test macMenu-41.7 {TkpComputeStandardMenuGeometry - second entry larger} {
d1336 1
a1336 1
test macMenu-41.8 {TkpComputeStandardMenuGeometry - first entry larger} {
d1343 1
a1343 1
test macMenu-41.9 {TkpComputeStandardMenuGeometry - accelerator} {
d1349 1
a1349 1
test macMenu-41.10 {TkpComputeStandardMenuGeometry - second accel larger} {
d1356 1
a1356 1
test macMenu-41.11 {TkpComputeStandardMenuGeometry - second accel smaller} {
d1363 1
a1363 1
test macMenu-41.12 {TkpComputeStandardMenuGeometry - indicator} {
d1370 1
a1370 1
test macMenu-41.13 {TkpComputeStandardMenuGeometry - second indicator less or equal } {
d1381 1
a1381 1
test macMenu-41.14 {TkpComputeStandardMenuGeometry - hidden margin} {
d1388 1
a1388 1
test macMenu-41.15 {TkpComputeStandardMenuGeometry - zero sized menus} {
d1393 1
a1393 1
test macMenu-41.16 {TkpComputeStandardMenuGeometry - first column bigger} {
d1401 1
a1401 1
test macMenu-41.17 {TkpComputeStandardMenuGeometry - second column bigger} {
d1409 1
a1409 1
test macMenu-41.18 {TkpComputeStandardMenuGeometry - three columns} {
d1420 1
a1420 1
test macMenu-41.19 {TkpComputeStandardMenuGeometry - entry without accel long} {
d1427 1
a1427 1
test macMenu-41.20 {TkpComputeStandardMenuGeometry - entry with accel long} {
d1435 1
a1435 1
test macMenu-42.1 {DrawMenuEntryLabel - setting indicatorSpace} {
d1439 1
a1439 1
    set tearoff [tkTearOffMenu .m1]
d1442 1
a1442 1
test macMenu-42.2 {DrawMenuEntryLabel - drawing image} {
d1448 1
a1448 1
    set tearoff [tkTearOffMenu .m1]
d1451 1
a1451 1
test macMenu-42.3 {DrawMenuEntryLabel - drawing select image} {
d1459 1
a1459 1
    set tearoff [tkTearOffMenu .m1]
d1462 1
a1462 1
test macMenu-42.4 {DrawMenuEntryLabel - drawing a bitmap} {
d1466 1
a1466 1
    set tearoff [tkTearOffMenu .m1]
d1469 1
a1469 1
test macMenu-42.5 {DrawMenuEntryLabel - drawing null label} {
d1473 1
a1473 1
    set tearoff [tkTearOffMenu .m1]
d1476 1
a1476 1
test macMenu-42.6 {DrawMenuEntryLabel - drawing real label} {
d1480 1
a1480 1
    set tearoff [tkTearOffMenu .m1]
d1483 1
a1483 1
test macMenu-42.7 {DrawMenuEntryLabel - drawing disabled label} {
d1487 1
a1487 1
	set tearoff [tkTearOffMenu .m1]
d1490 1
a1490 1
test macMenu-42.8 {DrawMenuEntryLabel - disabled images} {
d1496 1
a1496 1
	set tearoff [tkTearOffMenu .m1 100 100]
d1500 1
a1500 1
test macMenu-43.1 {GetMenuLabelGeometry - image} {
d1508 1
a1508 1
test macMenu-43.2 {GetMenuLabelGeometry - bitmap} {
d1514 1
a1514 1
test macMenu-43.3 {GetMenuLabelGeometry - no text} {
d1520 1
a1520 1
test macMenu-43.4 {GetMenuLabelGeometry - text} {
d1527 1
a1527 1
test macMenu-44.1 {DrawMenuEntryBackground} {
d1531 1
a1531 1
    set tearoff [tkTearOffMenu .m1 40 40]
d1534 1
a1534 1
test macMenu-44.2 {DrawMenuEntryBackground} {
d1538 1
a1538 1
    set tearoff [tkTearOffMenu .m1 40 40]
d1543 2
a1544 1
test macMenu-45.1 {TkpMenuInit - called at boot time} {} {}
a1549 13













@


1.3
log
@touched all sources to ease next import
@
text
@@


1.2
log
@touched all tk files to ease next import
@
text
@@


1.1
log
@Initial revision
@
text
@d7 2
d10 5
a14 4
# See the file "license.terms" for information on usage and redistribution
# of this file, and for a DISCLAIMER OF ALL WARRANTIES.
#
# RCS: @@(#) $Id: macMenu.test,v 1.2 1998/09/14 18:23:48 stanton Exp $
d17 2
d26 1
a29 4
if {[info procs test] != "test"} {
    source defs
}

d1566 1
d1568 14
@


1.1.1.1
log
@import insight-2000-02-04 snapshot (2nd try)
@
text
@@


1.1.1.2
log
@Tk 8.3 upgrade
@
text
@a6 2
# Copyright (c) 1998-1999 by Scriptics Corporation.
# All rights reserved.
d8 4
a11 5
# RCS: @@(#) $Id: macMenu.test,v 1.7.6.1 2000/05/04 21:26:29 spolk Exp $

if {[lsearch [namespace children] ::tcltest] == -1} {
    source [file join [pwd] [file dirname [info script]] defs.tcl]
}
a13 2
    puts "skipping: Mac only tests..."
    ::tcltest::cleanupTests
a20 1
    ::tcltest::cleanupTests
d24 4
a1563 1
# cleanup
a1564 14
::tcltest::cleanupTests
return












@


1.1.1.3
log
@import tk 8.4.0
@
text
@d10 1
a10 1
# RCS: @@(#) $Id: macMenu.test,v 1.7 2002/07/13 20:28:35 dgp Exp $
d12 27
a38 6
package require tcltest 2.1
namespace import -force tcltest::configure
namespace import -force tcltest::testsDirectory
configure -testdir [file join [pwd] [file dirname [info script]]]
configure -loadfile [file join [testsDirectory] constraints.tcl]
tcltest::loadTestedCommands
d40 1
a40 1
test macMenu-1.0 {TkMacUseMenuID} {macOnly} {
d44 1
a44 1
test macMenu-2.1 {GetNewID} {macOnly} {
d48 1
a48 1
test macMenu-2.2 {GetNewID - cascade menu} {macOnly} {
d54 1
a54 1
test macMenu-2.3 {GetNewID - running out of ids} {macOnly} {
d65 1
a65 1
test macMenu-3.1 {FreeID} {macOnly} {
d72 1
a72 1
test macMenu-4.1 {TkpNewMenu} {macOnly} {
d76 1
a76 1
test macMenu-4.2 {TkpNewMenu - checking for help menu when one is there} {macOnly} {
d87 1
a87 1
test macMenu-4.3 {TkpNewMenu - menubar set but different interp} {macOnly} {
d98 1
a98 1
test macMenu-4.4 {TkpNewMenu - menubar set but new menu has different parent} {macOnly} {
d110 1
a110 1
test macMenu-4.5 {TkpNewMenu - menubar set, same parent, not .help} {macOnly} {
d119 1
a119 1
test macMenu-4.6 {TkpNewMenu - creating the help menu} {macOnly} {
d129 1
a129 1
test macMenu-5.1 {TkpDestroyMenu} {macOnly} {
d134 1
a134 1
test macMenu-5.2 {TkpDestroyMenu - help menu} {macOnly} {
d144 1
a144 1
test macMenu-5.3 {TkpDestroyMenu - idle handler pending} {macOnly} {
d150 1
a150 1
test macMenu-5.4 {TkpDestroyMenu - idle handler not pending} {macOnly} {
d158 1
a158 1
test macMenu-6.1 {SetMenuCascade} {macOnly} {
d165 1
a165 1
test macMenu-6.2 {SetMenuCascade - running out of ids} {macOnly} {
d176 1
a176 1
test macMenu-7.1 {TkpDestroyMenuEntry} {macOnly} {
d182 1
a182 1
test macMenu-7.2 {TkpDestroyMenuEntry - help menu} {macOnly} {
d194 1
a194 1
test macMenu-8.1 {GetEntryText} {macOnly} {
d198 1
a198 1
test macMenu-8.2 {GetEntryText} {macOnly testImageType} {
d205 1
a205 1
test macMenu-8.3 {GetEntryText} {macOnly} {
d210 1
a210 1
test macMenu-8.4 {GetEntryText} {macOnly} {
d215 1
a215 1
test macMenu-8.5 {GetEntryText} {macOnly} {
d221 1
a221 1
test macMenu-8.6 {GetEntryText} {macOnly} {
d227 1
a227 1
test macMenu-8.7 {GetEntryText - elipses character} {macOnly} {
d232 1
a232 1
test macMenu-8.8 {GetEntryText - false elipses character} {macOnly} {
d237 1
a237 1
test macMenu-8.9 {GetEntryText - false elipses character} {macOnly} {
d242 1
a242 1
test macMenu-8.10 {GetEntryText - false elipses character} {macOnly} {
d247 1
a247 1
test macMenu-8.11 {GetEntryText - false elipses character} {macOnly} {
d255 1
a255 1
test macMenu-9.1 {FindMarkCharacter} {macOnly} {
d264 1
a264 1
test macMenu-10.1 {SetMenuIndicator - cascade entry} {macOnly} {
d269 1
a269 1
test macMenu-10.2 {SetMenuIndicator - not radio or checkbutton} {macOnly} {
d274 1
a274 1
test macMenu-10.3 {SetMenuIndicator - indiatorOn false} {macOnly} {
d279 1
a279 1
test macMenu-10.4 {SetMenuIndicator - entry not selected} {macOnly} {
d284 1
a284 1
test macMenu-10.5 {SetMenuIndicator - checkbutton} {macOnly} {
d290 1
a290 1
test macMenu-10.6 {SetMenuIndicator - radio button} {macOnly} {
d297 1
a297 1
test macMenu-11.1 {SetMenuTitle} {macOnly} {
d306 1
a306 1
test macMenu-11.2 {SetMenuTitle} {macOnly} {
d315 1
a315 1
test macMenu-12.1 {TkpConfigureMenuEntry} {macOnly} {
d322 1
a322 1
test macMenu-12.2 {TkpConfigureMenuEntry} {macOnly} {
d331 1
a331 1
test macMenu-12.3 {TkpConfigureMenuEntry - running out of ids} {macOnly} {
d341 1
a341 1
test macMenu-12.4 {TkpConfigureMenuEntry - Control} {macOnly} {
d346 1
a346 1
test macMenu-12.5 {TkpConfigureMenuEntry - Ctrl} {macOnly} {
d351 1
a351 1
test macMenu-12.6 {TkpConfigureMenuEntry - Shift} {macOnly} {
d356 1
a356 1
test macMenu-12.7 {TkpConfigureMenuEntry - Option} {macOnly} {
d361 1
a361 1
test macMenu-12.8 {TkpConfigureMenuEntry - Command} {macOnly} {
d366 1
a366 1
test macMenu-12.9 {TkpConfigureMenuEntry - Cmd} {macOnly} {
d371 1
a371 1
test macMenu-12.10 {TkpConfigureMenuEntry - Alt} {macOnly} {
d376 1
a376 1
test macMenu-12.11 {TkpConfigureMenuEntry - Meta} {macOnly} {
d381 1
a381 1
test macMenu-12.12 {TkpConfigureMenuEntry - Two modifiers} {macOnly} {
d386 1
a386 1
test macMenu-12.13 {TkpConfigureMenuEntry - dash instead of plus} {macOnly} {
d391 1
a391 1
test macMenu-12.14 {TkpConfigureMenuEntry - idler pending} {macOnly} {
d397 1
a397 1
test macMenu-12.15 {TkpConfigureMenuEntry - idler not pending} {macOnly} {
d405 1
a405 1
test macMenu-13.1 {ReconfigureIndividualMenu - getting rid of zero items} {macOnly} {
d411 1
a411 1
test macMenu-13.2 {ReconfigureIndividualMenu - getting rid of one item} {macOnly} {
d419 1
a419 1
test macMenu-13.3 {ReconfigureIndividualMenu - getting rid of more than one} {macOnly} {
d428 1
a428 1
test macMenu-13.4 {ReconfigureIndividualMenu - separator} {macOnly} {
d434 1
a434 1
test macMenu-13.5 {ReconfigureIndividualMenu - disabled} {macOnly} {
d441 1
a441 1
test macMenu-13.6 {ReconfigureIndividualMenu - active} {macOnly} {
d448 1
a448 1
test macMenu-13.7 {ReconfigureIndividualMenu - checkbutton not checked} {macOnly} {
d454 1
a454 1
test macMenu-13.8 {ReconfigureIndividualMenu - checkbutton - indicator off} {macOnly} {
d461 1
a461 1
test macMenu-13.9 {ReconfigureIndividualMenu - checkbutton on} {macOnly} {
d468 1
a468 1
test macMenu-13.10 {ReconfigureIndividualMenu - radiobutton not checked} {macOnly} {
d474 1
a474 1
test macMenu-13.11 {ReconfigureIndividualMenu - radiobutton - indicator off} {macOnly} {
d481 1
a481 1
test macMenu-13.12 {ReconfigureIndividualMenu - radiobutton on} {macOnly} {
d488 1
a488 1
test macMenu-13.13 {ReconfigureIndividualMenu} {macOnly} {
d496 1
a496 1
test macMenu-13.14 {ReconfigureIndividualMenu} {macOnly} {
d506 1
a506 1
test macMenu-13.15 {ReconfigureIndividualMenu - accelerator} {macOnly} {
d512 1
a512 1
test macMenu-13.16 {ReconfigureIndividualMenu - parent is disabled} {macOnly} {
d520 1
a520 1
test macMenu-13.17 {ReconfigureIndividualMenu - disabling parent} {macOnly} {
d530 1
a530 1
test macMenu-14.1 {ReconfigureMacintoshMenu - normal menu} {macOnly} {
d536 1
a536 1
test macMenu-14.2 {ReconfigureMacintoshMenu - apple menu} {macOnly} {
d546 1
a546 1
test macMenu-14.3 {ReconfigureMacintoshMenu - help menu} {macOnly} {
d556 1
a556 1
test macMenu-14.4 {ReconfigureMacintoshMenu - menubar} {macOnly} {
d567 1
a567 1
test macMenu-15.1 {CompleteIdlers - no idle pending} {macOnly} {
d574 1
a574 1
test macMenu-15.2 {CompleteIdlers - idle pending} {macOnly} {
d580 1
a580 1
test macMenu-15.3 {CompleteIdlers - recursive} {macOnly} {
d590 1
a590 1
test macMenu-16.1 {TkpPostMenu} {macOnly} {
d595 1
a595 1
test macMenu-16.2 {TkpPostMenu} {macOnly} {
d602 1
a602 1
test macMenu-17.1 {TkpMenuNewEntry - no idle pending} {macOnly} {
d607 1
a607 1
test macMenu-17.2 {TkpMenuNewEntry - idle pending} {macOnly} {
d614 1
a614 1
test macMenu-18.1 {DrawMenuBarWhenIdle} {macOnly} {
d621 1
a621 1
test macMenu-18.2 {DrawMenuBarWhenIdle - clearing old apple menu out} {macOnly} {
d634 1
a634 1
test macMenu-18.3 {DrawMenuBarWhenIdle - clearing out old help menu} {macOnly} {
d647 1
a647 1
test macMenu-18.4 {DrawMenuBarWhenIdle - menu not there} {macOnly} {
d653 1
a653 1
test macMenu-18.5 {DrawMenuBarWhenIdle - menu there} {macOnly} {
d660 1
a660 1
test macMenu-18.6 {DrawMenuBarWhenIdle - no apple menu} {macOnly} {
d667 1
a667 1
test macMenu-18.7 {DrawMenuBarWhenIdle - apple menu references but not there} {macOnly} {
d675 1
a675 1
test macMenu-18.8 {DrawMenuBarWhenIdle - apple menu there} {macOnly} {
d685 1
a685 1
test macMenu-18.9 {DrawMenuBarWhenIdle - apple menu there; no idle handler} {macOnly} {
d696 1
a696 1
test macMenu-18.10 {DrawMenuBarWhenIdle - no help menu} {macOnly} {
d703 1
a703 1
test macMenu-18.11 {DrawMenuBarWhenIdle - help menu referenced but not there} {macOnly} {
d711 1
a711 1
test macMenu-18.12 {DrawMenuBarWhenIdle - help menu there} {macOnly} {
d721 1
a721 1
test macMenu-18.13 {DrawMenuBarWhenIdle - help menu there - no idlers} {macOnly} {
d733 1
a733 1
test macMenu-18.14 {DrawMenuBarWhenIdle - apple and help menus in tearoff menubar} {macOnly} {
d744 1
a744 1
test macMenu-18.15 {DrawMenuBarWhenIdle - apple and help menus in non-tearoff menubar} {macOnly} {
d755 1
a755 1
test macMenu-18.16 {DrawMenuBarWhenIdle - no apple menu} {macOnly} {
d762 1
a762 1
test macMenu-18.17 {DrawMenuBarWhenIdle - apple menu} {macOnly} {
d773 1
a773 1
test macMenu-18.18 {DrawMenuBarWhenIdle - big for loop} {macOnly} {
d786 1
a786 1
test macMenu-18.19 {DrawMenuBarWhenIdle = disabled menu} {macOnly} {
d797 1
a797 1
test macMenu-19.1 {RecursivelyInsertMenu} {macOnly} {
d813 1
a813 1
test macMenu-19.2 {RecursivelyInsertMenu} {macOnly} {
d830 1
a830 1
test macMenu-20.1 {SetDefaultMenuBar} {macOnly} {
d836 1
a836 1
test macMenu-21.1 {TkpSetMainMenubar - not front window} {macOnly} {
d846 1
a846 1
test macMenu-21.2 {TkpSetMainMenubar - menu null} {macOnly} {
d851 1
a851 1
test macMenu-21.3 {TkpSetMainMenubar - different interps} {macOnly} {
d855 1
a855 1
    load {} Tk testinterp
d865 1
a865 1
test macMenu-21.4 {TkpSetMainMenubar - different windows} {macOnly} {
d878 1
a878 1
test macMenu-21.5 {TkpSetMainMenubar - old menu was null} {macOnly} {
d887 1
a887 1
test macMenu-21.6 {TkpSetMainMenubar - old menu different} {macOnly} {
d899 1
a899 1
test macMenu-21.7 {TkpSetMainMenubar - child window NULL - parent window now} {macOnly} {
d911 1
a911 1
test macMenu-21.8 {TkpSetMainMenubar - tearoff window} {macOnly} {
d919 1
a919 1
    tk::TearOffMenu .t2.m1.foo 100 100
d923 1
a923 1
test macMenu-22.1 {TkSetWindowMenuBar} {macOnly} {
d926 1
a926 1
test macMenu-23.1 {TkMacDispatchMenuEvent} {macOnly} {
d930 1
a930 1
test macMenu-24.1 {GetMenuIndicatorGeometry} {macOnly} {
d935 1
a935 1
    list [catch {tk::TearOffMenu .m1 40 40}] [destroy .m1]
d938 1
a938 1
test macMenu-25.1 {GetMenuAccelGeometry - cascade entry} {macOnly} {
d942 1
a942 1
    list [catch {tk::TearOffMenu .m1 40 40}] [destroy .m1]
d944 1
a944 1
test macMenu-25.2 {GetMenuAccelGeometry - no accel} {macOnly} {
d948 1
a948 1
    list [catch {tk::TearOffMenu .m1 40 40}] [destroy .m1]
d950 1
a950 1
test macMenu-25.3 {GetMenuAccelGeometry - no special chars - arbitrary string} {macOnly} {
d954 1
a954 1
    list [catch {tk::TearOffMenu .m1 40 40}] [destroy .m1]
d956 1
a956 1
test macMenu-25.4 {GetMenuAccelGeometry - Command} {macOnly} {
d960 1
a960 1
    list [catch {tk::TearOffMenu .m1 40 40}] [destroy .m1]
d962 1
a962 1
test macMenu-25.5 {GetMenuAccelGeometry - Control} {macOnly} {
d966 1
a966 1
    list [catch {tk::TearOffMenu .m1 40 40}] [destroy .m1]
d968 1
a968 1
test macMenu-25.6 {GetMenuAccelGeometry - Shift} {macOnly} {
d972 1
a972 1
    list [catch {tk::TearOffMenu .m1 40 40}] [destroy .m1]
d974 1
a974 1
test macMenu-25.7 {GetMenuAccelGeometry - Option} {macOnly} {
d978 1
a978 1
    list [catch {tk::TearOffMenu .m1 40 40}] [destroy .m1]
d980 1
a980 1
test macMenu-25.8 {GetMenuAccelGeometry - Combination} {macOnly} {
d984 1
a984 1
    list [catch {tk::TearOffMenu .m1 40 40}] [destroy .m1]
d986 1
a986 1
test macMenu-25.9 {GetMenuAccelGeometry - extra text} {macOnly} {
d990 1
a990 1
    list [catch {tk::TearOffMenu .m1 40 40}] [destroy .m1]
d993 1
a993 1
test macMenu-26.1 {GetTearoffEntryGeometry} {macOnly} {
d997 1
a997 1
test macMenu-27.1 {GetMenuSeparatorGeometry} {macOnly} {
d1001 1
a1001 1
    list [catch {tk::TearOffMenu .m1 40 40}] [destroy .m1]
d1004 1
a1004 1
test macMenu-28.1 {DrawMenuEntryIndicator - non-checkbutton} {macOnly} {
d1008 1
a1008 1
    set tearoff [tk::TearOffMenu .m1 40 40]
d1011 1
a1011 1
test macMenu-28.2 {DrawMenuEntryIndicator - indicator off} {macOnly} {
d1016 1
a1016 1
    set tearoff [tk::TearOffMenu .m1 40 40]
d1019 1
a1019 1
test macMenu-28.3 {DrawMenuEntryIndicator - not selected} {macOnly} {
d1023 1
a1023 1
    set tearoff [tk::TearOffMenu .m1 40 40]
d1026 1
a1026 1
test macMenu-28.4 {DrawMenuEntryIndicator - checkbutton} {macOnly} {
d1031 1
a1031 1
    set tearoff [tk::TearOffMenu .m1 40 40]
d1034 1
a1034 1
test macMenu-28.5 {DrawMenuEntryIndicator - radiobutton} {macOnly} {
d1039 1
a1039 1
    set tearoff [tk::TearOffMenu .m1 40 40]
d1044 1
a1044 1
test macMenu-29.1 {DrawSICN} {macOnly} {
d1048 1
a1048 1
   set tearoff [tk::TearOffMenu .m1 40 40]
d1053 1
a1053 1
test macMenu-30.1 {DrawMenuEntryAccelerator - cascade entry} {macOnly} {
d1057 1
a1057 1
    set tearoff [tk::TearOffMenu .m1 40 40]
d1060 1
a1060 1
test macMenu-30.2 {DrawMenuEntryAccelerator - no accel string} {macOnly} {
d1064 1
a1064 1
    set tearoff [tk::TearOffMenu .m1 40 40]
d1067 1
a1067 1
test macMenu-30.3 {DrawMenuEntryAccelerator - random accel string} {macOnly} {
d1071 1
a1071 1
    set tearoff [tk::TearOffMenu .m1 40 40]
d1074 1
a1074 1
test macMenu-30.4 {DrawMenuEntryAccelerator - Command} {macOnly} {
d1078 1
a1078 1
    set tearoff [tk::TearOffMenu .m1 40 40]
d1081 1
a1081 1
test macMenu-30.5 {DrawMenuEntryAccelerator - Option} {macOnly} {
d1085 1
a1085 1
    set tearoff [tk::TearOffMenu .m1 40 40]
d1088 1
a1088 1
test macMenu-30.6 {DrawMenuEntryAccelerator - Shift} {macOnly} {
d1092 1
a1092 1
    set tearoff [tk::TearOffMenu .m1 40 40]
d1095 1
a1095 1
test macMenu-30.7 {DrawMenuEntryAccelerator - Control} {macOnly} {
d1099 1
a1099 1
    set tearoff [tk::TearOffMenu .m1 40 40]
d1102 1
a1102 1
test macMenu-30.8 {DrawMenuEntryAccelerator - combination} {macOnly} {
d1106 1
a1106 1
    set tearoff [tk::TearOffMenu .m1 40 40]
d1110 1
a1110 1
test macMenu-31.1 {DrawMenuSeparator} {macOnly} {
d1114 1
a1114 1
    set tearoff [tk::TearOffMenu .m1 40 40]
d1118 1
a1118 1
test macMenu-32.1 {TkpDrawMenuEntryLabel} {macOnly} {
d1122 1
a1122 1
    set tearoff [tk::TearOffMenu .m1 40 40]
d1130 1
a1130 1
test macMenu-36.1 {TkpComputeMenubarGeometry} {macOnly} {
d1142 1
a1142 1
test macMenu-40.1 {TkpDrawMenuEntry - gc for active and not strict motif} {macOnly} {
d1146 1
a1146 1
    set tearoff [tk::TearOffMenu .m1 40 40]
d1150 1
a1150 1
test macMenu-40.2 {TkpDrawMenuEntry - gc for active menu item with its own gc} {macOnly} {
d1154 1
a1154 1
    set tearoff [tk::TearOffMenu .m1 40 40]
d1158 1
a1158 1
test macMenu-40.3 {TkpDrawMenuEntry - gc for active and strict motif} {macOnly} {
d1163 1
a1163 1
    set tearoff [tk::TearOffMenu .m1 40 40]
d1167 1
a1167 1
test macMenu-40.4 {TkpDrawMenuEntry - gc for disabled with disabledfg and custom entry} {macOnly} {
d1171 1
a1171 1
    set tearoff [tk::TearOffMenu .m1 40 40]
d1174 1
a1174 1
test macMenu-40.5 {TkpDrawMenuEntry - gc for disabled with disabledFg} {macOnly} {
d1178 1
a1178 1
    set tearoff [tk::TearOffMenu .m1 40 40]
d1181 1
a1181 1
test macMenu-40.6 {TkpDrawMenuEntry - gc for disabled - no disabledFg} {macOnly} {
d1185 1
a1185 1
    set tearoff [tk::TearOffMenu .m1 40 40]
d1188 1
a1188 1
test macMenu-40.7 {TkpDrawMenuEntry - gc for normal - custom entry} {macOnly} {
d1192 1
a1192 1
    set tearoff [tk::TearOffMenu .m1 40 40]
d1195 1
a1195 1
test macMenu-40.8 {TkpDrawMenuEntry - gc for normal} {macOnly} {
d1199 1
a1199 1
    set tearoff [tk::TearOffMenu .m1 40 40]
d1202 1
a1202 1
test macMenu-40.9 {TkpDrawMenuEntry - gc for indicator - custom entry} {macOnly} {
d1207 1
a1207 1
    set tearoff [tk::TearOffMenu .m1 40 40]
d1210 1
a1210 1
test macMenu-40.10 {TkpDrawMenuEntry - gc for indicator} {macOnly} {
d1215 1
a1215 1
    set tearoff [tk::TearOffMenu .m1 40 40]
d1218 1
a1218 1
test macMenu-40.11 {TkpDrawMenuEntry - border - custom entry} {macOnly} {
d1222 1
a1222 1
    set tearoff [tk::TearOffMenu .m1 40 40]
d1226 1
a1226 1
test macMenu-40.12 {TkpDrawMenuEntry - border} {macOnly} {
d1230 1
a1230 1
    set tearoff [tk::TearOffMenu .m1 40 40]
d1234 1
a1234 1
test macMenu-40.13 {TkpDrawMenuEntry - active border - strict motif} {macOnly} {
d1239 1
a1239 1
    set tearoff [tk::TearOffMenu .m1 40 40]
d1243 1
a1243 1
test macMenu-40.14 {TkpDrawMenuEntry - active border - custom entry} {macOnly} {
d1247 1
a1247 1
    set tearoff [tk::TearOffMenu .m1 40 40]
d1251 1
a1251 1
test macMenu-40.15 {TkpDrawMenuEntry - active border} {macOnly} {
d1255 1
a1255 1
    set tearoff [tk::TearOffMenu .m1 40 40]
d1259 1
a1259 1
test macMenu-40.16 {TkpDrawMenuEntry - font - custom entry} {macOnly} {
d1263 1
a1263 1
    set tearoff [tk::TearOffMenu .m1 40 40]
d1266 1
a1266 1
test macMenu-40.17 {TkpDrawMenuEntry - font} {macOnly} {
d1270 1
a1270 1
    set tearoff [tk::TearOffMenu .m1 40 40]
d1273 1
a1273 1
test macMenu-40.18 {TkpDrawMenuEntry - separator} {macOnly} {
d1277 1
a1277 1
    set tearoff [tk::TearOffMenu .m1 40 40]
d1280 1
a1280 1
test macMenu-40.19 {TkpDrawMenuEntry - standard} {macOnly} {
d1284 1
a1284 1
    set tearoff [tk::TearOffMenu .m1 40 40]
d1287 1
a1287 1
test macMenu-40.20 {TkpDrawMenuEntry - disabled cascade item} {macOnly} {
d1294 1
a1294 1
    set tearoff [tk::TearOffMenu .m1 40 40]
d1297 1
a1297 1
test macMenu-40.21 {TkpDrawMenuEntry - indicator} {macOnly} {
d1302 1
a1302 1
    set tearoff [tk::TearOffMenu .m1 40 40]
d1305 1
a1305 1
test macMenu-40.22 {TkpDrawMenuEntry - indicator - hideMargin} {macOnly} {
d1310 1
a1310 1
    set tearoff [tk::TearOffMenu .m1 40 40]
d1314 1
a1314 1
test macMenu-41.1 {TkpComputeStandardMenuGeometry - no entries} {macOnly} {
d1319 1
a1319 1
test macMenu-41.2 {TkpComputeStandardMenuGeometry - one entry} {macOnly} {
d1325 1
a1325 1
test macMenu-41.3 {TkpComputeStandardMenuGeometry - more than one entry} {macOnly} {
d1332 1
a1332 1
test macMenu-41.4 {TkpComputeStandardMenuGeometry - separator} {macOnly} {
d1338 1
a1338 1
test macMenu-41.5 {TkpComputeStandardMenuGeometry - standard label geometry} {macOnly} {
d1344 1
a1344 1
test macMenu-41.6 {TkpComputeStandardMenuGeometry - different font for entry} {macOnly} {
d1350 1
a1350 1
test macMenu-41.7 {TkpComputeStandardMenuGeometry - second entry larger} {macOnly} {
d1357 1
a1357 1
test macMenu-41.8 {TkpComputeStandardMenuGeometry - first entry larger} {macOnly} {
d1364 1
a1364 1
test macMenu-41.9 {TkpComputeStandardMenuGeometry - accelerator} {macOnly} {
d1370 1
a1370 1
test macMenu-41.10 {TkpComputeStandardMenuGeometry - second accel larger} {macOnly} {
d1377 1
a1377 1
test macMenu-41.11 {TkpComputeStandardMenuGeometry - second accel smaller} {macOnly} {
d1384 1
a1384 1
test macMenu-41.12 {TkpComputeStandardMenuGeometry - indicator} {macOnly} {
d1391 1
a1391 1
test macMenu-41.13 {TkpComputeStandardMenuGeometry - second indicator less or equal } {macOnly testImageType} {
d1402 1
a1402 1
test macMenu-41.14 {TkpComputeStandardMenuGeometry - hidden margin} {macOnly} {
d1409 1
a1409 1
test macMenu-41.15 {TkpComputeStandardMenuGeometry - zero sized menus} {macOnly} {
d1414 1
a1414 1
test macMenu-41.16 {TkpComputeStandardMenuGeometry - first column bigger} {macOnly} {
d1422 1
a1422 1
test macMenu-41.17 {TkpComputeStandardMenuGeometry - second column bigger} {macOnly} {
d1430 1
a1430 1
test macMenu-41.18 {TkpComputeStandardMenuGeometry - three columns} {macOnly} {
d1441 1
a1441 1
test macMenu-41.19 {TkpComputeStandardMenuGeometry - entry without accel long} {macOnly} {
d1448 1
a1448 1
test macMenu-41.20 {TkpComputeStandardMenuGeometry - entry with accel long} {macOnly} {
d1456 1
a1456 1
test macMenu-42.1 {DrawMenuEntryLabel - setting indicatorSpace} {macOnly} {
d1460 1
a1460 1
    set tearoff [tk::TearOffMenu .m1]
d1463 1
a1463 1
test macMenu-42.2 {DrawMenuEntryLabel - drawing image} {macOnly testImageType} {
d1469 1
a1469 1
    set tearoff [tk::TearOffMenu .m1]
d1472 1
a1472 1
test macMenu-42.3 {DrawMenuEntryLabel - drawing select image} {macOnly testImageType} {
d1480 1
a1480 1
    set tearoff [tk::TearOffMenu .m1]
d1483 1
a1483 1
test macMenu-42.4 {DrawMenuEntryLabel - drawing a bitmap} {macOnly} {
d1487 1
a1487 1
    set tearoff [tk::TearOffMenu .m1]
d1490 1
a1490 1
test macMenu-42.5 {DrawMenuEntryLabel - drawing null label} {macOnly} {
d1494 1
a1494 1
    set tearoff [tk::TearOffMenu .m1]
d1497 1
a1497 1
test macMenu-42.6 {DrawMenuEntryLabel - drawing real label} {macOnly} {
d1501 1
a1501 1
    set tearoff [tk::TearOffMenu .m1]
d1504 1
a1504 1
test macMenu-42.7 {DrawMenuEntryLabel - drawing disabled label} {macOnly} {
d1508 1
a1508 1
	set tearoff [tk::TearOffMenu .m1]
d1511 1
a1511 1
test macMenu-42.8 {DrawMenuEntryLabel - disabled images} {macOnly testImageType} {
d1517 1
a1517 1
	set tearoff [tk::TearOffMenu .m1 100 100]
d1521 1
a1521 1
test macMenu-43.1 {GetMenuLabelGeometry - image} {macOnly testImageType} {
d1529 1
a1529 1
test macMenu-43.2 {GetMenuLabelGeometry - bitmap} {macOnly} {
d1535 1
a1535 1
test macMenu-43.3 {GetMenuLabelGeometry - no text} {macOnly} {
d1541 1
a1541 1
test macMenu-43.4 {GetMenuLabelGeometry - text} {macOnly} {
d1548 1
a1548 1
test macMenu-44.1 {DrawMenuEntryBackground} {macOnly} {
d1552 1
a1552 1
    set tearoff [tk::TearOffMenu .m1 40 40]
d1555 1
a1555 1
test macMenu-44.2 {DrawMenuEntryBackground} {macOnly} {
d1559 1
a1559 1
    set tearoff [tk::TearOffMenu .m1 40 40]
d1564 1
a1564 2
test macMenu-45.1 {TkpMenuInit - called at boot time} {macOnly} {
} {}
d1570 13
@


