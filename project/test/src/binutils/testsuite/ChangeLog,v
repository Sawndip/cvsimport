head	1.289;
access;
symbols
	binutils-2_24-branch:1.288.0.2
	binutils-2_24-branchpoint:1.288
	binutils-2_21_1:1.216.2.3
	binutils-2_23_2:1.262.2.2
	binutils-2_23_1:1.262.2.1
	binutils-2_23:1.262.2.1
	binutils-2_23-branch:1.262.0.2
	binutils-2_23-branchpoint:1.262
	binutils-2_22_branch:1.241.2.1.0.2
	binutils-2_22:1.241.2.1
	binutils-2_22-branch:1.241.0.2
	binutils-2_22-branchpoint:1.241
	binutils-2_21:1.216
	binutils-2_21-branch:1.216.0.2
	binutils-2_21-branchpoint:1.216
	binutils-2_20_1:1.183.2.2
	binutils-2_20:1.183.2.2
	binutils-arc-20081103-branch:1.163.0.4
	binutils-arc-20081103-branchpoint:1.163
	binutils-2_20-branch:1.183.0.2
	binutils-2_20-branchpoint:1.183
	dje-cgen-play1-branch:1.173.0.2
	dje-cgen-play1-branchpoint:1.173
	arc-20081103-branch:1.163.0.2
	arc-20081103-branchpoint:1.163
	binutils-2_19_1:1.158
	binutils-2_19:1.158
	binutils-2_19-branch:1.158.0.2
	binutils-2_19-branchpoint:1.158
	binutils-2_18:1.144.2.1
	binutils-2_18-branch:1.144.0.2
	binutils-2_18-branchpoint:1.144
	binutils-csl-coldfire-4_1-32:1.111.2.2
	binutils-csl-sourcerygxx-4_1-32:1.111.2.2
	binutils-csl-innovasic-fido-3_4_4-33:1.111.2.2
	binutils-csl-sourcerygxx-3_4_4-32:1.100
	binutils-csl-coldfire-4_1-30:1.111.2.2
	binutils-csl-sourcerygxx-4_1-30:1.111.2.2
	binutils-csl-coldfire-4_1-28:1.111.2.2
	binutils-csl-sourcerygxx-4_1-29:1.111.2.2
	binutils-csl-sourcerygxx-4_1-28:1.111.2.2
	binutils-csl-arm-2006q3-27:1.111.2.2
	binutils-csl-sourcerygxx-4_1-27:1.111.2.2
	binutils-csl-arm-2006q3-26:1.111.2.2
	binutils-csl-sourcerygxx-4_1-26:1.111.2.2
	binutils-csl-sourcerygxx-4_1-25:1.111.2.2
	binutils-csl-sourcerygxx-4_1-24:1.111.2.2
	binutils-csl-sourcerygxx-4_1-23:1.111.2.2
	binutils-csl-sourcerygxx-4_1-21:1.111.2.2
	binutils-csl-arm-2006q3-21:1.111.2.2
	binutils-csl-sourcerygxx-4_1-22:1.111.2.2
	binutils-csl-palmsource-arm-prelinker-1_0-1:1.111.2.2
	binutils-csl-sourcerygxx-4_1-20:1.111.2.2
	binutils-csl-arm-2006q3-19:1.111.2.2
	binutils-csl-sourcerygxx-4_1-19:1.111.2.2
	binutils-csl-sourcerygxx-4_1-18:1.111.2.2
	binutils-csl-renesas-4_1-9:1.111.2.2
	binutils-csl-sourcerygxx-3_4_4-25:1.100
	binutils-csl-renesas-4_1-8:1.111.2.1
	binutils-csl-renesas-4_1-7:1.111.2.1
	binutils-csl-renesas-4_1-6:1.111.2.1
	binutils-csl-sourcerygxx-4_1-17:1.111.2.1
	binutils-csl-sourcerygxx-4_1-14:1.111.2.1
	binutils-csl-sourcerygxx-4_1-15:1.111.2.1
	binutils-csl-sourcerygxx-4_1-13:1.111.2.1
	binutils-2_17:1.112
	binutils-csl-sourcerygxx-4_1-12:1.111
	binutils-csl-sourcerygxx-3_4_4-21:1.111
	binutils-csl-wrs-linux-3_4_4-24:1.100
	binutils-csl-wrs-linux-3_4_4-23:1.100
	binutils-csl-sourcerygxx-4_1-9:1.111
	binutils-csl-sourcerygxx-4_1-8:1.111
	binutils-csl-sourcerygxx-4_1-7:1.111
	binutils-csl-arm-2006q1-6:1.111
	binutils-csl-sourcerygxx-4_1-6:1.111
	binutils-csl-wrs-linux-3_4_4-22:1.100
	binutils-csl-coldfire-4_1-11:1.111
	binutils-csl-sourcerygxx-3_4_4-19:1.111
	binutils-csl-coldfire-4_1-10:1.111
	binutils-csl-sourcerygxx-4_1-5:1.111
	binutils-csl-sourcerygxx-4_1-4:1.111
	binutils-csl-wrs-linux-3_4_4-21:1.100
	binutils-csl-morpho-4_1-4:1.111
	binutils-csl-sourcerygxx-3_4_4-17:1.111
	binutils-csl-wrs-linux-3_4_4-20:1.100
	binutils-2_17-branch:1.112.0.2
	binutils-2_17-branchpoint:1.112
	binutils-csl-2_17-branch:1.111.0.2
	binutils-csl-2_17-branchpoint:1.111
	binutils-csl-gxxpro-3_4-branch:1.100.0.6
	binutils-csl-gxxpro-3_4-branchpoint:1.100
	binutils-2_16_1:1.100
	binutils-csl-arm-2005q1b:1.100
	binutils-2_16:1.100
	binutils-csl-arm-2005q1a:1.100
	binutils-csl-arm-2005q1-branch:1.100.0.4
	binutils-csl-arm-2005q1-branchpoint:1.100
	binutils-2_16-branch:1.100.0.2
	binutils-2_16-branchpoint:1.100
	csl-arm-2004-q3d:1.97
	csl-arm-2004-q3:1.94
	binutils-2_15:1.85.6.5
	binutils-2_15-branchpoint:1.85
	csl-arm-2004-q1a:1.90
	csl-arm-2004-q1:1.89
	binutils-2_15-branch:1.85.0.6
	cagney_bfdfile-20040213-branch:1.85.0.4
	cagney_bfdfile-20040213-branchpoint:1.85
	cagney_bigcore-20040122-branch:1.85.0.2
	cagney_bigcore-20040122-branchpoint:1.85
	csl-arm-2003-q4:1.84
	binutils-2_14:1.77
	binutils-2_14-branch:1.77.0.2
	binutils-2_14-branchpoint:1.77
	binutils-2_13_2_1:1.68
	binutils-2_13_2:1.68
	binutils-2_13_1:1.68
	binutils-2_13:1.68
	binutils-2_13-branchpoint:1.68
	binutils-2_13-branch:1.68.0.2
	binutils-2_12_1:1.50.2.5
	binutils-2_12:1.50.2.3
	binutils-2_12-branch:1.50.0.2
	binutils-2_12-branchpoint:1.50
	cygnus_cvs_20020108_pre:1.49
	binutils-2_11_2:1.28.2.2
	binutils-2_11_1:1.28.2.2
	binutils-2_11:1.28
	x86_64versiong3:1.29
	binutils-2_11-branch:1.28.0.2
	binutils-2_10_1:1.14
	binutils-2_10:1.14
	binutils-2_10-branch:1.14.0.2
	binutils-2_10-branchpoint:1.14
	binutils_latest_snapshot:1.289
	repo-unification-2000-02-06:1.13
	binu_ss_19990721:1.5
	binu_ss_19990602:1.2
	binu_ss_19990502:1.1.1.1
	cygnus:1.1.1;
locks; strict;
comment	@# @;


1.289
date	2013.09.27.18.05.03;	author hjl;	state Exp;
branches;
next	1.288;

1.288
date	2013.09.12.09.14.46;	author nickc;	state Exp;
branches
	1.288.2.1;
next	1.287;

1.287
date	2013.08.22.11.29.43;	author nickc;	state Exp;
branches;
next	1.286;

1.286
date	2013.08.20.22.50.11;	author hp;	state Exp;
branches;
next	1.285;

1.285
date	2013.08.20.01.29.43;	author hp;	state Exp;
branches;
next	1.284;

1.284
date	2013.08.19.15.08.52;	author gingold;	state Exp;
branches;
next	1.283;

1.283
date	2013.05.31.17.27.27;	author hjl;	state Exp;
branches;
next	1.282;

1.282
date	2013.05.29.00.39.32;	author ccoutant;	state Exp;
branches;
next	1.281;

1.281
date	2013.05.02.21.06.13;	author nickc;	state Exp;
branches;
next	1.280;

1.280
date	2013.05.01.17.27.46;	author macro;	state Exp;
branches;
next	1.279;

1.279
date	2013.02.26.16.59.52;	author nickc;	state Exp;
branches;
next	1.278;

1.278
date	2013.02.14.23.48.18;	author macro;	state Exp;
branches;
next	1.277;

1.277
date	2013.02.13.19.36.10;	author macro;	state Exp;
branches;
next	1.276;

1.276
date	2013.02.13.17.09.07;	author macro;	state Exp;
branches;
next	1.275;

1.275
date	2012.12.17.16.55.40;	author nickc;	state Exp;
branches;
next	1.274;

1.274
date	2012.12.10.12.47.51;	author nickc;	state Exp;
branches;
next	1.273;

1.273
date	2012.11.27.17.26.07;	author roland;	state Exp;
branches;
next	1.272;

1.272
date	2012.11.06.23.45.43;	author hjl;	state Exp;
branches;
next	1.271;

1.271
date	2012.10.29.10.09.30;	author amodra;	state Exp;
branches;
next	1.270;

1.270
date	2012.10.24.12.28.54;	author hjl;	state Exp;
branches;
next	1.269;

1.269
date	2012.10.21.11.10.53;	author hjl;	state Exp;
branches;
next	1.268;

1.268
date	2012.10.20.22.14.08;	author hjl;	state Exp;
branches;
next	1.267;

1.267
date	2012.08.18.00.18.31;	author hjl;	state Exp;
branches;
next	1.266;

1.266
date	2012.08.16.20.31.34;	author hjl;	state Exp;
branches;
next	1.265;

1.265
date	2012.08.13.14.52.43;	author nickc;	state Exp;
branches;
next	1.264;

1.264
date	2012.08.02.13.42.56;	author hjl;	state Exp;
branches;
next	1.263;

1.263
date	2012.07.28.08.21.48;	author ktietz;	state Exp;
branches;
next	1.262;

1.262
date	2012.07.03.16.06.34;	author hjl;	state Exp;
branches
	1.262.2.1;
next	1.261;

1.261
date	2012.06.07.15.34.23;	author tschwinge;	state Exp;
branches;
next	1.260;

1.260
date	2012.05.17.16.36.21;	author hjl;	state Exp;
branches;
next	1.259;

1.259
date	2012.05.17.10.00.36;	author amodra;	state Exp;
branches;
next	1.258;

1.258
date	2012.05.16.10.53.47;	author nickc;	state Exp;
branches;
next	1.257;

1.257
date	2012.04.13.02.52.34;	author hjl;	state Exp;
branches;
next	1.256;

1.256
date	2012.04.03.16.01.28;	author roland;	state Exp;
branches;
next	1.255;

1.255
date	2012.03.13.00.41.22;	author hp;	state Exp;
branches;
next	1.254;

1.254
date	2012.02.25.19.51.32;	author walt;	state Exp;
branches;
next	1.253;

1.253
date	2012.02.14.02.40.39;	author amodra;	state Exp;
branches;
next	1.252;

1.252
date	2012.02.14.01.00.50;	author amodra;	state Exp;
branches;
next	1.251;

1.251
date	2012.02.11.20.02.02;	author ktietz;	state Exp;
branches;
next	1.250;

1.250
date	2012.02.02.08.45.03;	author nickc;	state Exp;
branches;
next	1.249;

1.249
date	2012.02.01.15.44.30;	author nickc;	state Exp;
branches;
next	1.248;

1.248
date	2012.01.05.10.09.35;	author nickc;	state Exp;
branches;
next	1.247;

1.247
date	2011.11.25.14.47.47;	author nickc;	state Exp;
branches;
next	1.246;

1.246
date	2011.10.25.08.03.17;	author ktietz;	state Exp;
branches;
next	1.245;

1.245
date	2011.10.11.15.56.29;	author nickc;	state Exp;
branches;
next	1.244;

1.244
date	2011.10.07.20.13.53;	author hjl;	state Exp;
branches;
next	1.243;

1.243
date	2011.10.04.14.25.40;	author carlos;	state Exp;
branches;
next	1.242;

1.242
date	2011.09.28.16.43.20;	author mgretton;	state Exp;
branches;
next	1.241;

1.241
date	2011.09.16.04.23.18;	author hjl;	state Exp;
branches
	1.241.2.1;
next	1.240;

1.240
date	2011.07.22.20.22.34;	author hjl;	state Exp;
branches;
next	1.239;

1.239
date	2011.06.30.21.41.04;	author bernds;	state Exp;
branches;
next	1.238;

1.238
date	2011.06.19.21.22.16;	author hjl;	state Exp;
branches;
next	1.237;

1.237
date	2011.05.18.16.35.02;	author nickc;	state Exp;
branches;
next	1.236;

1.236
date	2011.05.13.04.14.51;	author amodra;	state Exp;
branches;
next	1.235;

1.235
date	2011.05.02.12.47.47;	author hjl;	state Exp;
branches;
next	1.234;

1.234
date	2011.04.30.13.17.19;	author hjl;	state Exp;
branches;
next	1.233;

1.233
date	2011.04.29.01.45.51;	author hp;	state Exp;
branches;
next	1.232;

1.232
date	2011.04.28.17.23.17;	author tromey;	state Exp;
branches;
next	1.231;

1.231
date	2011.04.13.07.50.15;	author nickc;	state Exp;
branches;
next	1.230;

1.230
date	2011.04.11.15.12.29;	author nickc;	state Exp;
branches;
next	1.229;

1.229
date	2011.04.08.11.42.18;	author pbrook;	state Exp;
branches;
next	1.228;

1.228
date	2011.04.06.17.09.50;	author jsm28;	state Exp;
branches;
next	1.227;

1.227
date	2011.03.31.08.58.21;	author bernds;	state Exp;
branches;
next	1.226;

1.226
date	2011.01.03.16.53.28;	author danglin;	state Exp;
branches;
next	1.225;

1.225
date	2011.01.01.01.56.59;	author danglin;	state Exp;
branches;
next	1.224;

1.224
date	2010.12.31.11.00.59;	author rsandifo;	state Exp;
branches;
next	1.223;

1.223
date	2010.12.09.23.57.21;	author macro;	state Exp;
branches;
next	1.222;

1.222
date	2010.11.20.15.36.34;	author rsandifo;	state Exp;
branches;
next	1.221;

1.221
date	2010.11.20.15.36.09;	author rsandifo;	state Exp;
branches;
next	1.220;

1.220
date	2010.11.15.21.05.25;	author hjl;	state Exp;
branches;
next	1.219;

1.219
date	2010.11.15.18.14.10;	author hjl;	state Exp;
branches;
next	1.218;

1.218
date	2010.11.08.06.43.34;	author tschwinge;	state Exp;
branches;
next	1.217;

1.217
date	2010.11.08.02.48.57;	author amodra;	state Exp;
branches;
next	1.216;

1.216
date	2010.11.02.13.47.42;	author hjl;	state Exp;
branches
	1.216.2.1;
next	1.215;

1.215
date	2010.10.29.12.10.32;	author hjl;	state Exp;
branches;
next	1.214;

1.214
date	2010.10.23.18.05.07;	author mmitchel;	state Exp;
branches;
next	1.213;

1.213
date	2010.10.11.22.18.42;	author schwab;	state Exp;
branches;
next	1.212;

1.212
date	2010.09.29.06.04.40;	author amodra;	state Exp;
branches;
next	1.211;

1.211
date	2010.09.23.12.04.37;	author amodra;	state Exp;
branches;
next	1.210;

1.210
date	2010.09.16.00.41.59;	author amodra;	state Exp;
branches;
next	1.209;

1.209
date	2010.09.10.12.11.28;	author nickc;	state Exp;
branches;
next	1.208;

1.208
date	2010.09.03.15.54.31;	author jkratoch;	state Exp;
branches;
next	1.207;

1.207
date	2010.08.23.16.25.52;	author hjl;	state Exp;
branches;
next	1.206;

1.206
date	2010.07.19.15.11.02;	author schwab;	state Exp;
branches;
next	1.205;

1.205
date	2010.07.15.00.37.12;	author hjl;	state Exp;
branches;
next	1.204;

1.204
date	2010.07.14.19.46.00;	author hjl;	state Exp;
branches;
next	1.203;

1.203
date	2010.07.05.15.07.17;	author hjl;	state Exp;
branches;
next	1.202;

1.202
date	2010.05.18.03.31.07;	author hjl;	state Exp;
branches;
next	1.201;

1.201
date	2010.04.30.19.30.53;	author hjl;	state Exp;
branches;
next	1.200;

1.200
date	2010.04.27.17.28.15;	author ktietz;	state Exp;
branches;
next	1.199;

1.199
date	2010.03.30.17.45.19;	author ktietz;	state Exp;
branches;
next	1.198;

1.198
date	2010.03.26.01.42.36;	author amodra;	state Exp;
branches;
next	1.197;

1.197
date	2010.02.18.00.13.30;	author amodra;	state Exp;
branches;
next	1.196;

1.196
date	2010.02.01.09.59.46;	author nathan;	state Exp;
branches;
next	1.195;

1.195
date	2010.01.30.16.13.33;	author davek;	state Exp;
branches;
next	1.194;

1.194
date	2010.01.20.00.09.13;	author ian;	state Exp;
branches;
next	1.193;

1.193
date	2010.01.08.18.50.39;	author hjl;	state Exp;
branches;
next	1.192;

1.192
date	2010.01.06.16.52.14;	author hjl;	state Exp;
branches;
next	1.191;

1.191
date	2009.10.28.17.21.06;	author ktietz;	state Exp;
branches;
next	1.190;

1.190
date	2009.10.23.14.53.56;	author ktietz;	state Exp;
branches;
next	1.189;

1.189
date	2009.10.18.07.43.03;	author amodra;	state Exp;
branches;
next	1.188;

1.188
date	2009.09.23.03.12.23;	author amodra;	state Exp;
branches;
next	1.187;

1.187
date	2009.09.08.10.35.06;	author amodra;	state Exp;
branches;
next	1.186;

1.186
date	2009.09.07.18.07.02;	author jkratoch;	state Exp;
branches;
next	1.185;

1.185
date	2009.09.07.18.02.59;	author jkratoch;	state Exp;
branches;
next	1.184;

1.184
date	2009.09.05.00.42.29;	author dj;	state Exp;
branches;
next	1.183;

1.183
date	2009.09.02.09.35.11;	author jiez;	state Exp;
branches
	1.183.2.1;
next	1.182;

1.182
date	2009.08.17.09.17.42;	author nickc;	state Exp;
branches;
next	1.181;

1.181
date	2009.08.07.19.32.06;	author drow;	state Exp;
branches;
next	1.180;

1.180
date	2009.08.06.16.23.30;	author hjl;	state Exp;
branches;
next	1.179;

1.179
date	2009.08.06.16.22.36;	author hjl;	state Exp;
branches;
next	1.178;

1.178
date	2009.07.31.18.14.06;	author drow;	state Exp;
branches;
next	1.177;

1.177
date	2009.07.29.06.10.17;	author amodra;	state Exp;
branches;
next	1.176;

1.176
date	2009.07.16.21.10.49;	author hjl;	state Exp;
branches;
next	1.175;

1.175
date	2009.07.16.21.00.09;	author hjl;	state Exp;
branches;
next	1.174;

1.174
date	2009.07.14.16.57.18;	author jkratoch;	state Exp;
branches;
next	1.173;

1.173
date	2009.06.26.01.26.28;	author cgf;	state Exp;
branches;
next	1.172;

1.172
date	2009.06.25.15.55.44;	author cgf;	state Exp;
branches;
next	1.171;

1.171
date	2009.04.16.04.24.05;	author amodra;	state Exp;
branches;
next	1.170;

1.170
date	2009.04.02.13.47.44;	author davek;	state Exp;
branches;
next	1.169;

1.169
date	2009.03.11.22.49.53;	author jsm28;	state Exp;
branches;
next	1.168;

1.168
date	2009.03.11.04.36.40;	author cgd;	state Exp;
branches;
next	1.167;

1.167
date	2009.03.10.00.48.09;	author hjl;	state Exp;
branches;
next	1.166;

1.166
date	2009.03.03.23.27.13;	author danglin;	state Exp;
branches;
next	1.165;

1.165
date	2009.03.02.23.33.02;	author danglin;	state Exp;
branches;
next	1.164;

1.164
date	2009.01.29.09.03.13;	author nickc;	state Exp;
branches;
next	1.163;

1.163
date	2008.10.06.16.27.33;	author nickc;	state Exp;
branches;
next	1.162;

1.162
date	2008.10.03.15.08.21;	author hjl;	state Exp;
branches;
next	1.161;

1.161
date	2008.10.02.01.06.12;	author hjl;	state Exp;
branches;
next	1.160;

1.160
date	2008.10.01.23.10.47;	author hjl;	state Exp;
branches;
next	1.159;

1.159
date	2008.10.01.21.54.59;	author hjl;	state Exp;
branches;
next	1.158;

1.158
date	2008.07.26.01.15.42;	author amodra;	state Exp;
branches;
next	1.157;

1.157
date	2008.07.11.10.47.29;	author hp;	state Exp;
branches;
next	1.156;

1.156
date	2008.07.10.01.32.23;	author csilvers;	state Exp;
branches;
next	1.155;

1.155
date	2008.07.08.08.15.09;	author ktietz;	state Exp;
branches;
next	1.154;

1.154
date	2008.05.29.07.07.20;	author jkratoch;	state Exp;
branches;
next	1.153;

1.153
date	2008.03.28.06.49.44;	author nickc;	state Exp;
branches;
next	1.152;

1.152
date	2008.02.26.12.29.10;	author jsm28;	state Exp;
branches;
next	1.151;

1.151
date	2008.02.04.23.41.54;	author bwilson;	state Exp;
branches;
next	1.150;

1.150
date	2007.10.26.06.45.07;	author amodra;	state Exp;
branches;
next	1.149;

1.149
date	2007.10.16.14.42.14;	author nickc;	state Exp;
branches;
next	1.148;

1.148
date	2007.08.30.13.47.35;	author nickc;	state Exp;
branches;
next	1.147;

1.147
date	2007.08.28.13.21.52;	author jsm28;	state Exp;
branches;
next	1.146;

1.146
date	2007.08.09.11.43.03;	author amodra;	state Exp;
branches;
next	1.145;

1.145
date	2007.08.09.11.25.58;	author amodra;	state Exp;
branches;
next	1.144;

1.144
date	2007.07.05.16.54.45;	author nickc;	state Exp;
branches
	1.144.2.1;
next	1.143;

1.143
date	2007.06.23.16.15.52;	author hjl;	state Exp;
branches;
next	1.142;

1.142
date	2007.05.24.11.01.07;	author nickc;	state Exp;
branches;
next	1.141;

1.141
date	2007.05.23.08.48.29;	author nickc;	state Exp;
branches;
next	1.140;

1.140
date	2007.05.17.00.06.22;	author jsm28;	state Exp;
branches;
next	1.139;

1.139
date	2007.05.15.04.23.49;	author amodra;	state Exp;
branches;
next	1.138;

1.138
date	2007.05.11.07.16.28;	author amodra;	state Exp;
branches;
next	1.137;

1.137
date	2007.05.08.06.48.05;	author shinwell;	state Exp;
branches;
next	1.136;

1.136
date	2007.05.02.10.38.00;	author amodra;	state Exp;
branches;
next	1.135;

1.135
date	2007.04.24.10.56.58;	author nickc;	state Exp;
branches;
next	1.134;

1.134
date	2007.04.23.10.59.07;	author nickc;	state Exp;
branches;
next	1.133;

1.133
date	2007.04.21.19.01.20;	author rearnsha;	state Exp;
branches;
next	1.132;

1.132
date	2007.04.19.23.27.03;	author rearnsha;	state Exp;
branches;
next	1.131;

1.131
date	2007.04.12.19.20.46;	author hjl;	state Exp;
branches;
next	1.130;

1.130
date	2007.02.27.12.19.16;	author nathan;	state Exp;
branches;
next	1.129;

1.129
date	2007.02.14.10.05.59;	author nickc;	state Exp;
branches;
next	1.128;

1.128
date	2007.01.08.17.21.49;	author nickc;	state Exp;
branches;
next	1.127;

1.127
date	2006.09.20.11.35.11;	author nickc;	state Exp;
branches;
next	1.126;

1.126
date	2006.09.15.00.12.32;	author hjl;	state Exp;
branches;
next	1.125;

1.125
date	2006.09.14.23.37.35;	author hjl;	state Exp;
branches;
next	1.124;

1.124
date	2006.08.15.18.23.10;	author ths;	state Exp;
branches;
next	1.123;

1.123
date	2006.06.24.09.10.04;	author rsandifo;	state Exp;
branches;
next	1.122;

1.122
date	2006.06.23.16.23.09;	author rsandifo;	state Exp;
branches;
next	1.121;

1.121
date	2006.06.07.14.08.18;	author pbrook;	state Exp;
branches;
next	1.120;

1.120
date	2006.05.03.16.45.58;	author hjl;	state Exp;
branches;
next	1.119;

1.119
date	2006.05.03.14.21.18;	author hjl;	state Exp;
branches;
next	1.118;

1.118
date	2006.05.02.17.46.40;	author davek;	state Exp;
branches;
next	1.117;

1.117
date	2006.05.02.12.17.30;	author nickc;	state Exp;
branches;
next	1.116;

1.116
date	2006.05.01.14.09.35;	author hjl;	state Exp;
branches;
next	1.115;

1.115
date	2006.05.01.04.01.25;	author bje;	state Exp;
branches;
next	1.114;

1.114
date	2006.04.26.13.37.05;	author hjl;	state Exp;
branches;
next	1.113;

1.113
date	2006.04.25.14.06.09;	author hjl;	state Exp;
branches;
next	1.112;

1.112
date	2006.04.10.19.05.31;	author hjl;	state Exp;
branches;
next	1.111;

1.111
date	2005.12.24.11.17.21;	author bje;	state Exp;
branches
	1.111.2.1;
next	1.110;

1.110
date	2005.11.15.08.32.01;	author jbeulich;	state Exp;
branches;
next	1.109;

1.109
date	2005.10.20.17.06.39;	author hjl;	state Exp;
branches;
next	1.108;

1.108
date	2005.10.19.20.49.02;	author hjl;	state Exp;
branches;
next	1.107;

1.107
date	2005.10.19.17.39.43;	author hjl;	state Exp;
branches;
next	1.106;

1.106
date	2005.10.12.00.19.26;	author dannysmith;	state Exp;
branches;
next	1.105;

1.105
date	2005.08.26.09.47.49;	author nickc;	state Exp;
branches;
next	1.104;

1.104
date	2005.08.18.03.51.19;	author amodra;	state Exp;
branches;
next	1.103;

1.103
date	2005.05.08.14.17.40;	author nickc;	state Exp;
branches;
next	1.102;

1.102
date	2005.04.04.17.20.28;	author nickc;	state Exp;
branches;
next	1.101;

1.101
date	2005.03.29.16.13.47;	author nickc;	state Exp;
branches;
next	1.100;

1.100
date	2005.03.07.23.12.53;	author bje;	state Exp;
branches;
next	1.99;

1.99
date	2005.01.04.10.13.01;	author nickc;	state Exp;
branches;
next	1.98;

1.98
date	2004.12.30.22.37.29;	author amodra;	state Exp;
branches;
next	1.97;

1.97
date	2004.11.04.15.04.41;	author hp;	state Exp;
branches;
next	1.96;

1.96
date	2004.10.28.14.58.25;	author hjl;	state Exp;
branches;
next	1.95;

1.95
date	2004.10.23.17.26.35;	author nickc;	state Exp;
branches;
next	1.94;

1.94
date	2004.07.12.17.07.55;	author nickc;	state Exp;
branches;
next	1.93;

1.93
date	2004.07.09.18.42.13;	author schwab;	state Exp;
branches;
next	1.92;

1.92
date	2004.05.15.14.09.08;	author nickc;	state Exp;
branches;
next	1.91;

1.91
date	2004.05.12.03.28.45;	author bje;	state Exp;
branches;
next	1.90;

1.90
date	2004.04.14.07.38.12;	author rsandifo;	state Exp;
branches;
next	1.89;

1.89
date	2004.03.30.09.54.13;	author jakub;	state Exp;
branches;
next	1.88;

1.88
date	2004.02.27.11.04.36;	author schwab;	state Exp;
branches;
next	1.87;

1.87
date	2004.02.20.15.31.10;	author nathan;	state Exp;
branches;
next	1.86;

1.86
date	2004.02.20.15.21.54;	author nathan;	state Exp;
branches;
next	1.85;

1.85
date	2004.01.02.11.16.19;	author amodra;	state Exp;
branches
	1.85.6.1;
next	1.84;

1.84
date	2003.12.03.10.48.52;	author nickc;	state Exp;
branches;
next	1.83;

1.83
date	2003.10.08.18.13.38;	author brolley;	state Exp;
branches;
next	1.82;

1.82
date	2003.09.30.00.15.54;	author hjl;	state Exp;
branches;
next	1.81;

1.81
date	2003.06.28.23.27.42;	author dannysmith;	state Exp;
branches;
next	1.80;

1.80
date	2003.06.28.02.37.43;	author dannysmith;	state Exp;
branches;
next	1.79;

1.79
date	2003.06.27.01.18.23;	author ths;	state Exp;
branches;
next	1.78;

1.78
date	2003.06.19.07.45.49;	author nickc;	state Exp;
branches;
next	1.77;

1.77
date	2003.04.26.07.53.20;	author nickc;	state Exp;
branches;
next	1.76;

1.76
date	2003.04.23.17.36.08;	author nickc;	state Exp;
branches;
next	1.75;

1.75
date	2003.04.22.17.31.08;	author nickc;	state Exp;
branches;
next	1.74;

1.74
date	2003.04.03.10.48.15;	author nickc;	state Exp;
branches;
next	1.73;

1.73
date	2003.03.31.10.15.58;	author nickc;	state Exp;
branches;
next	1.72;

1.72
date	2002.11.06.19.36.18;	author nickc;	state Exp;
branches;
next	1.71;

1.71
date	2002.08.26.23.14.35;	author amodra;	state Exp;
branches;
next	1.70;

1.70
date	2002.08.26.10.15.45;	author amodra;	state Exp;
branches;
next	1.69;

1.69
date	2002.08.15.23.41.18;	author amodra;	state Exp;
branches;
next	1.68;

1.68
date	2002.05.29.05.00.31;	author amodra;	state Exp;
branches;
next	1.67;

1.67
date	2002.04.16.08.12.59;	author nickc;	state Exp;
branches;
next	1.66;

1.66
date	2002.04.15.14.12.38;	author nickc;	state Exp;
branches;
next	1.65;

1.65
date	2002.04.11.13.42.03;	author nickc;	state Exp;
branches;
next	1.64;

1.64
date	2002.04.10.08.21.57;	author nickc;	state Exp;
branches;
next	1.63;

1.63
date	2002.04.10.08.14.29;	author nickc;	state Exp;
branches;
next	1.62;

1.62
date	2002.04.09.17.23.19;	author nickc;	state Exp;
branches;
next	1.61;

1.61
date	2002.04.09.17.14.59;	author nickc;	state Exp;
branches;
next	1.60;

1.60
date	2002.04.09.17.06.13;	author nickc;	state Exp;
branches;
next	1.59;

1.59
date	2002.04.09.16.55.48;	author nickc;	state Exp;
branches;
next	1.58;

1.58
date	2002.04.09.15.44.36;	author nickc;	state Exp;
branches;
next	1.57;

1.57
date	2002.04.09.15.36.43;	author nickc;	state Exp;
branches;
next	1.56;

1.56
date	2002.04.09.15.21.00;	author nickc;	state Exp;
branches;
next	1.55;

1.55
date	2002.02.20.10.32.46;	author nickc;	state Exp;
branches;
next	1.54;

1.54
date	2002.02.18.09.16.00;	author hp;	state Exp;
branches;
next	1.53;

1.53
date	2002.02.18.09.13.47;	author hp;	state Exp;
branches;
next	1.52;

1.52
date	2002.02.13.09.48.40;	author nickc;	state Exp;
branches;
next	1.51;

1.51
date	2002.02.10.10.17.58;	author nickc;	state Exp;
branches;
next	1.50;

1.50
date	2002.01.14.17.26.12;	author nickc;	state Exp;
branches
	1.50.2.1;
next	1.49;

1.49
date	2001.11.29.17.34.07;	author hjl;	state Exp;
branches;
next	1.48;

1.48
date	2001.11.15.12.51.42;	author amodra;	state Exp;
branches;
next	1.47;

1.47
date	2001.11.15.01.11.08;	author geoffk;	state Exp;
branches;
next	1.46;

1.46
date	2001.10.03.13.51.09;	author ths;	state Exp;
branches;
next	1.45;

1.45
date	2001.09.05.02.26.04;	author law;	state Exp;
branches;
next	1.44;

1.44
date	2001.08.27.10.38.40;	author amodra;	state Exp;
branches;
next	1.43;

1.43
date	2001.08.21.15.54.16;	author hjl;	state Exp;
branches;
next	1.42;

1.42
date	2001.07.27.16.16.06;	author hjl;	state Exp;
branches;
next	1.41;

1.41
date	2001.07.24.19.24.08;	author hjl;	state Exp;
branches;
next	1.40;

1.40
date	2001.07.18.23.56.41;	author dj;	state Exp;
branches;
next	1.39;

1.39
date	2001.07.05.11.00.28;	author bje;	state Exp;
branches;
next	1.38;

1.38
date	2001.06.21.07.44.31;	author nickc;	state Exp;
branches;
next	1.37;

1.37
date	2001.06.19.08.16.26;	author aj;	state Exp;
branches;
next	1.36;

1.36
date	2001.06.07.16.48.18;	author hjl;	state Exp;
branches;
next	1.35;

1.35
date	2001.06.07.16.46.38;	author hjl;	state Exp;
branches;
next	1.34;

1.34
date	2001.05.25.18.58.10;	author hjl;	state Exp;
branches;
next	1.33;

1.33
date	2001.05.25.07.21.00;	author amodra;	state Exp;
branches;
next	1.32;

1.32
date	2001.05.24.22.01.23;	author hjl;	state Exp;
branches;
next	1.31;

1.31
date	2001.03.31.06.37.39;	author hjl;	state Exp;
branches;
next	1.30;

1.30
date	2001.03.13.06.43.58;	author nickc;	state Exp;
branches;
next	1.29;

1.29
date	2001.02.12.00.21.57;	author hjl;	state Exp;
branches;
next	1.28;

1.28
date	2001.01.16.18.27.01;	author nickc;	state Exp;
branches
	1.28.2.1;
next	1.27;

1.27
date	2000.12.09.23.33.24;	author nickc;	state Exp;
branches;
next	1.26;

1.26
date	2000.11.28.20.08.14;	author hp;	state Exp;
branches;
next	1.25;

1.25
date	2000.11.03.01.59.12;	author nickc;	state Exp;
branches;
next	1.24;

1.24
date	2000.10.25.23.23.39;	author hp;	state Exp;
branches;
next	1.23;

1.23
date	2000.10.19.18.04.55;	author nickc;	state Exp;
branches;
next	1.22;

1.22
date	2000.07.19.05.16.11;	author amodra;	state Exp;
branches;
next	1.21;

1.21
date	2000.07.10.14.59.48;	author amodra;	state Exp;
branches;
next	1.20;

1.20
date	2000.07.01.09.42.27;	author fche;	state Exp;
branches;
next	1.19;

1.19
date	2000.06.19.01.22.38;	author nickc;	state Exp;
branches;
next	1.18;

1.18
date	2000.06.19.01.05.41;	author nickc;	state Exp;
branches;
next	1.17;

1.17
date	2000.06.19.01.04.20;	author nickc;	state Exp;
branches;
next	1.16;

1.16
date	2000.06.14.01.21.35;	author hp;	state Exp;
branches;
next	1.15;

1.15
date	2000.05.02.00.00.27;	author amodra;	state Exp;
branches;
next	1.14;

1.14
date	2000.03.14.01.27.02;	author nickc;	state Exp;
branches;
next	1.13;

1.13
date	99.11.01.17.12.10;	author nickc;	state Exp;
branches;
next	1.12;

1.12
date	99.11.01.16.48.04;	author nickc;	state Exp;
branches;
next	1.11;

1.11
date	99.09.14.06.30.49;	author law;	state Exp;
branches;
next	1.10;

1.10
date	99.09.04.17.40.28;	author ian;	state Exp;
branches;
next	1.9;

1.9
date	99.09.04.17.38.46;	author ian;	state Exp;
branches;
next	1.8;

1.8
date	99.08.28.06.26.22;	author law;	state Exp;
branches;
next	1.7;

1.7
date	99.08.09.04.37.24;	author ian;	state Exp;
branches;
next	1.6;

1.6
date	99.07.22.00.20.30;	author ian;	state Exp;
branches;
next	1.5;

1.5
date	99.06.29.01.31.16;	author nickc;	state Exp;
branches;
next	1.4;

1.4
date	99.06.10.01.20.30;	author nickc;	state Exp;
branches;
next	1.3;

1.3
date	99.06.09.03.01.26;	author schwab;	state Exp;
branches;
next	1.2;

1.2
date	99.05.27.22.05.25;	author ian;	state Exp;
branches;
next	1.1;

1.1
date	99.05.03.07.29.10;	author rth;	state Exp;
branches
	1.1.1.1;
next	;

1.288.2.1
date	2013.10.12.17.00.30;	author hjl;	state Exp;
branches;
next	;

1.262.2.1
date	2012.08.16.09.21.38;	author nickc;	state Exp;
branches;
next	1.262.2.2;

1.262.2.2
date	2012.11.29.23.29.13;	author roland;	state Exp;
branches;
next	;

1.241.2.1
date	2011.09.28.16.50.50;	author mgretton;	state Exp;
branches;
next	;

1.216.2.1
date	2011.02.01.12.25.37;	author amodra;	state Exp;
branches;
next	1.216.2.2;

1.216.2.2
date	2011.02.10.03.41.05;	author amodra;	state Exp;
branches;
next	1.216.2.3;

1.216.2.3
date	2011.05.29.04.51.29;	author amodra;	state Exp;
branches;
next	;

1.183.2.1
date	2009.09.05.00.42.38;	author dj;	state Exp;
branches;
next	1.183.2.2;

1.183.2.2
date	2009.09.08.10.48.48;	author amodra;	state Exp;
branches;
next	;

1.144.2.1
date	2007.08.09.11.45.03;	author amodra;	state Exp;
branches;
next	;

1.111.2.1
date	2006.06.24.09.25.21;	author rsandifo;	state Exp;
branches;
next	1.111.2.2;

1.111.2.2
date	2006.08.22.15.08.30;	author jsm28;	state Exp;
branches;
next	;

1.85.6.1
date	2004.02.20.15.23.32;	author nathan;	state Exp;
branches;
next	1.85.6.2;

1.85.6.2
date	2004.04.08.12.41.50;	author amodra;	state Exp;
branches;
next	1.85.6.3;

1.85.6.3
date	2004.04.09.18.28.07;	author drow;	state Exp;
branches;
next	1.85.6.4;

1.85.6.4
date	2004.04.14.07.42.25;	author rsandifo;	state Exp;
branches;
next	1.85.6.5;

1.85.6.5
date	2004.05.17.16.16.35;	author drow;	state Exp;
branches;
next	;

1.50.2.1
date	2002.02.10.10.16.54;	author nickc;	state Exp;
branches;
next	1.50.2.2;

1.50.2.2
date	2002.02.13.09.49.04;	author nickc;	state Exp;
branches;
next	1.50.2.3;

1.50.2.3
date	2002.02.18.09.19.50;	author hp;	state Exp;
branches;
next	1.50.2.4;

1.50.2.4
date	2002.04.27.12.45.14;	author amodra;	state Exp;
branches;
next	1.50.2.5;

1.50.2.5
date	2002.05.09.11.53.27;	author amodra;	state Exp;
branches;
next	;

1.28.2.1
date	2001.06.07.03.12.29;	author amodra;	state Exp;
branches;
next	1.28.2.2;

1.28.2.2
date	2001.06.11.10.04.31;	author amodra;	state Exp;
branches;
next	;

1.1.1.1
date	99.05.03.07.29.10;	author rth;	state Exp;
branches;
next	;


desc
@@


1.289
log
@Pass offset_size to print_dwarf_vma for cie_id

binutils/

	* dwarf.c (display_debug_frames): Pass offset_size to
	print_dwarf_vma for cie_id.

binutils/testsuite/

	* binutils-all/x86-64/compressed-1a.d: Updated for 64-bit addresses.
@
text
@2013-09-27  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/x86-64/compressed-1a.d: Updated for 64-bit addresses.

2013-09-12  Nick Clifton  <nickc@@redhat.com>

	* binutils-all/x86-64/compressed-1a.d: Update expected output to
	allow for 64-bit addresses.

2013-08-22  Nick Clifton  <nickc@@redhat.com>

	* binutils-all/nm.exp: --size-sort test: Add more ELF-like
	targets.
	* binutils-all/nm-1.s: Use .byte instead of .long.
	Provide a terminating symbol.

2013-08-21  Hans-Peter Nilsson  <hp@@bitrange.com>

	* binutils-all/nm.exp: Revert last change.  Instead use nm-elf-1.s
	for mmix-knuth-mmixware.

2013-08-20  Hans-Peter Nilsson  <hp@@bitrange.com>

	* binutils-all/nm.exp: Xfail test for nm --size-sort for
	mmix-knuth-mmixware.

2013-08-19  Tristan Gingold  <gingold@@adacore.com>

	* binutils-all/nm.exp: Add a test for nm --size-sort
	* binutils-all/nm-elf-1.s: New file.
	* binutils-all/nm-1.s: New file.

2013-05-31  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/i386/compressed-1b.d: Updated for text/data/bss
	section alignment change.
	* binutils-all/i386/compressed-1c.d: Likewise.
	* binutils-all/x86-64/compressed-1b.d: Likewise.
	* binutils-all/x86-64/compressed-1c.d: Likewise.

2013-05-28  Cary Coutant  <ccoutant@@google.com>

	* binutils-all/dw2-1.W: Adjust expected output.
	* binutils-all/objdump.W: Likewise.
	* binutils-all/i386/compressed-1a.d: Likewise.
	* binutils-all/x86-64/compressed-1a.d: Likewise.

2013-05-02  Nick Clifton  <nickc@@redhat.com>

	* readelf.exp: Expect -wi test to fail for the MSP430.

2013-05-01  Maciej W. Rozycki  <macro@@codesourcery.com>

	* lib/binutils-common.exp (is_elf_format): Also exclude
	*-*-linux*ecoff*.

2013-02-26  Nick Clifton  <nickc@@redhat.com>

	PR binutils/15191
	* binutils-all/readelf.n: Updare expected output from readelf.

2013-02-14  Maciej W. Rozycki  <macro@@codesourcery.com>

	* binutils-all/mips/mixed-mips16.s: Add missing stack adjustment.
	* binutils-all/mips/mixed-mips16.d: Update accordingly.

2013-02-13  Maciej W. Rozycki  <macro@@codesourcery.com>

	* binutils-all/mips/mixed-micromips.d: New test.
	* binutils-all/mips/mixed-mips16.d: New test.
	* binutils-all/mips/mixed-micromips.s: New test source.
	* binutils-all/mips/mixed-mips16.s: New test source.
	* binutils-all/mips/mips.exp: New file.

2012-12-17  Nick Clifton  <nickc@@redhat.com>

	* binutils-all/windres/README: Add copyright notice.

2012-11-27  Roland McGrath  <mcgrathr@@google.com>

	* lib/binutils-common.exp (is_zlib_supported): New function.
	* lib/utils-lib.exp (run_dump_test): If as options include
	--compress-debug-sections and zlib is not available, report
	the test as unsupported.
	* binutils-all/compress.exp: Bail out if zlib is not available.
	* binutils-all/objdump.exp (objdump compressed debug):
	Mark unsupported if zlib is not available.
	* binutils-all/readelf.exp (readelf_compressed_wa_test): Likewise.

2012-11-06  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/14567
	* binutils-all/ar.exp (bfdtest1): Removed.
	(long_filenames): Take bfdtests.
	(thin_archive): Likewise.
	(thin_archive_with_nested): Likewise.
	(bfdtests): New.
	Pass $bfdtests to long_filenames, thin_archive and
	thin_archive_with_nested.

2012-10-29  Alan Modra  <amodra@@gmail.com>

	* binutils-all/copy-3.d: Exclude all cygwin and mingw targets,
	and rs6000.

2012-10-24  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/ar.exp (bfdtest1): Remove findfile.

2012-10-21  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/dw2-1.W: Updated.

2012-10-20  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/compress.exp: Add an objdump test.
	* binutils-all/dw2-1.W: New file.

2012-08-17  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/ar.exp (long_filenames): Remove extra verbose
	before binutils_run.
	(thin_archive): Likewise.
	(thin_archive_with_nested): Likewise.  Also run bfdtest1 on
	$archive2.

2012-08-16  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/14481
	* ar.exp (bfdtest1): New.
	(long_filenames): Run bfdtest1.
	(thin_archive): Likewise.
	(thin_archive_with_nested): Likewise.

2012-08-13  Ian Bolton  <ian.bolton@@arm.com>
	    Laurent Desnogues  <laurent.desnogues@@arm.com>
	    Jim MacArthur  <jim.macarthur@@arm.com>
	    Marcus Shawcroft  <marcus.shawcroft@@arm.com>
	    Nigel Stephens  <nigel.stephens@@arm.com>
	    Ramana Radhakrishnan  <ramana.radhakrishnan@@arm.com>
	    Richard Earnshaw  <rearnsha@@arm.com>
	    Sofiane Naci  <sofiane.naci@@arm.com>
	    Tejas Belagod  <tejas.belagod@@arm.com>
	    Yufeng Zhang  <yufeng.zhang@@arm.com>

	* objdump.exp: Add AArch64.

2012-08-02  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/14420
	* binutils-all/i386/compressed-1a.d: Updated.
	* binutils-all/objdump.W: Likewise.
	* binutils-all/readelf.wa: Likewise.
	* binutils-all/x86-64/compressed-1a.d: Likewise.

2012-07-28  Kai Tietz  <ktietz@@redhat.com>

	* binutils-all/windres/version_small.rc: New test.
	* binutils-all/windres/version_small.rsd: Likewise.

2012-07-03  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/14319
	* binutils-all/compress.exp: Test compress empty debug sections.

	* binutils-all/dw2-empty.S: New file.

2012-06-07  Thomas Schwinge  <thomas@@codesourcery.com>

	* binutils-all/i386/i386.exp: Don't skip for x86_64-*-linux*.

2012-05-17  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/hppa/objdump.exp: Expect addend as signed.

2012-05-17  Alan Modra  <amodra@@gmail.com>

	* binutils-all/objdump.W: Update.
	* binutils-all/readelf.wa: Update.
	* binutils-all/i386/compressed-1a.d: Update.
	* binutils-all/x86-64/compressed-1a.d: Update.

2012-05-16  Meador Inge  <meadori@@codesourcery.com>

	* binutils-all/arm/objdump.exp:
	STMFD/LDMIA sp!, {reg} don't disassemble to PUSH/POP {reg} any longer.

2012-04-12  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/13947
	* binutils-all/i386/compressed-1b.d: Remove empty REL section.
	* binutils-all/i386/compressed-1c.d: Likewise.

	* binutils-all/x86-64/compressed-1b.d: Remove empty RELA
	section.
	* binutils-all/x86-64/compressed-1c.d: Likewise.

2012-04-03  Roland McGrath  <mcgrathr@@google.com>

	* lib/binutils-common.exp (is_elf_format): Consider *-*-nacl* to
	be ELF too.

	* binutils-all/elfedit-4.d: Add "#as: --64" option.

	* binutils-all/i386/i386.exp: Accept nacl targets too.
	* binutils-all/x86-64/x86-64.exp: Likewise.

2012-03-13  Hans-Peter Nilsson  <hp@@axis.com>

	PR binutils/3807
	* binutils-all/objcopy.exp (localize-hidden-1): Correct xfailed
	mips-targets.

2012-02-25  Walter Lee  <walt@@tilera.com>

	* binutils-all/objdump.exp (cpus_expected): Add tilegx.

2012-02-14  Alan Modra  <amodra@@gmail.com>

	* binutils-all/dlltool.exp: Add setup_xfail.

	* binutils-all/dw2-decodedline.S: Always have whitespace before
	directives.
	* binutils-all/version.s: Likewise.
	* binutils-all/objdump.exp (dw2-decodedline): Don't run for
	hppa64*-*-hpux*, i370-*-*, i960-*-*.

2012-02-11  Kai Tietz  <ktietz@@redhat.com>

	* binutils-all/version.def: New file.
	* binutils-all/dlltool.exp: Add version-dll test.

2012-02-02  Nick Clifton  <nickc@@redhat.com>

	* binutils-all/readelf.n: Add #pass to cope with targets that add
	their own notes.

2012-02-01  Nick Clifton  <nickc@@redhat.com>

	PR binutils/13482
	* binutils-all/version.s: New test source file.
	* binutils-all/readelf.n: New file: expected readelf output.
	* binutils-all/readelf.exp: Add test of .note section contents.

For older changes see ChangeLog-0411

Copyright (C) 2012 Free Software Foundation, Inc.

Copying and distribution of this file, with or without modification,
are permitted in any medium without royalty provided the copyright
notice and this notice are preserved.

Local Variables:
mode: change-log
left-margin: 8
fill-column: 74
version-control: never
End:
@


1.288
log
@	* dwarf.c (dwarf_vmatoa): Rename to dwarf_vmatoa_1 and add a
	precision parameter.
	(dwarf_vmatoa): New wrapper for dwarf_vmatoa_1.
	(print_dwarf_vma): Use dwarf_vmatoa_1.
	(SAFE_BYTE_GET): Add check that VAL is big enough to contain
	AMOUNT bytes.
	(process_debug_info): Use an unsigned int for the offset size.
	(process_debug_pubnames): Likewise.
	(display_debug_aranges): Likewise.
	(struct Frame_Chunk): Use dwarf_vma type for pc_begin and pc_range
	fields.
	(frame_display_row): Use print_dwarf_vma to display dwarf_vma
	values.
	(display_debug_frames): Likewise.

	* binutils-all/x86-64/compressed-1a.d: Update expected output to
	allow for 64-bit addresses.

	* ld-elf/eh1.d: Update expected output to allow for
	64-bit addresses.
	* ld-elf/eh2.d: Likewise.
	* ld-elf/eh3.d: Likewise.
	* ld-elf/eh4.d: Likewise.
	* ld-elf/eh5.d: Likewise.
	* ld-elf/eh6.d: Likewise.
	* ld-mips-elf/eh-frame1-n64.d: Likewise.
	* ld-mips-elf/eh-frame2-n64.d: Likewise.
	* ld-mips-elf/eh-frame3.d: Likewise.

	* gas/cfi/cfi-alpha-1.d: Update expected output to allow for
	64-bit addresses.
	* gas/cfi/cfi-alpha-3.d: Likewise.
	* gas/cfi/cfi-arm-1.d: Likewise.
	* gas/cfi/cfi-common-1.d: Likewise.
	* gas/cfi/cfi-common-2.d: Likewise.
	* gas/cfi/cfi-common-3.d: Likewise.
	* gas/cfi/cfi-common-4.d: Likewise.
	* gas/cfi/cfi-common-5.d: Likewise.
	* gas/cfi/cfi-common-6.d: Likewise.
	* gas/cfi/cfi-common-7.d: Likewise.
	* gas/cfi/cfi-hppa-1.d: Likewise.
	* gas/cfi/cfi-i386-2.d: Likewise.
	* gas/cfi/cfi-i386.d: Likewise.
	* gas/cfi/cfi-m68k.d: Likewise.
	* gas/cfi/cfi-mips-1.d: Likewise.
	* gas/cfi/cfi-ppc-1.d: Likewise.
	* gas/cfi/cfi-s390-1.d: Likewise.
	* gas/cfi/cfi-s390x-1.d: Likewise.
	* gas/cfi/cfi-sh-1.d: Likewise.
	* gas/cfi/cfi-sparc-1.d: Likewise.
	* gas/cfi/cfi-sparc64-1.d: Likewise.
	* gas/cfi/cfi-x86_64.d: Likewise.
@
text
@d1 4
@


1.288.2.1
log
@Pass offset_size to print_dwarf_vma for cie_id

binutils/

	* dwarf.c (display_debug_frames): Pass offset_size to
	print_dwarf_vma for cie_id.

binutils/testsuite/

	* binutils-all/x86-64/compressed-1a.d: Updated for 64-bit addresses.
@
text
@a0 4
2013-10-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/x86-64/compressed-1a.d: Updated for 64-bit addresses.

@


1.287
log
@	* binutils-all/nm.exp: --size-sort test: Add more ELF-like
	targets.
	* binutils-all/nm-1.s: Use .byte instead of .long.
	Provide a terminating symbol.
@
text
@d1 5
@


1.286
log
@	* binutils-all/nm.exp: Revert last change.  Instead use nm-elf-1.s
	for mmix-knuth-mmixware.
@
text
@d1 7
@


1.285
log
@	* binutils-all/nm.exp: Xfail test for nm --size-sort for
	mmix-knuth-mmixware.
@
text
@d1 5
@


1.284
log
@binutils/
2013-08-19  Tristan Gingold  <gingold@@adacore.com>

	* nm.c (print_size_symbols): Directly get symbol size.


binutils/testsuite/
2013-08-19  Tristan Gingold  <gingold@@adacore.com>

	* binutils-all/nm.exp: Add a test for nm --size-sort
	* binutils-all/nm-elf-1.s: New file.
	* binutils-all/nm-1.s: New file.
@
text
@d1 5
@


1.283
log
@Don't align text/data/bss sections for ELF

binutils/testsuite/

	* binutils-all/i386/compressed-1b.d: Updated for text/data/bss
	section alignment change.
	* binutils-all/i386/compressed-1c.d: Likewise.
	* binutils-all/x86-64/compressed-1b.d: Likewise.
	* binutils-all/x86-64/compressed-1c.d: Likewise.

gas/

	* config/tc-i386.c (md_begin): Don't align text/data/bss sections
	for ELF.

gas/testsuite/

	* gas/i386/size-3.d: Updated for text/data/bss section alignment
	change.
	* gas/i386/x86-64-size-1.d: Likewise.
	* gas/i386/x86-64-unwind.d: Likewise.
	* gas/i386/ilp32/x86-64-size-1.d: Likewise.
	* gas/i386/ilp32/x86-64-size-5.d: Likewise.
	* gas/i386/ilp32/x86-64-unwind.d: Likewise.

ld/testsuite/

	* ld-i386/pr12718.d: Updated for text/data/bss section alignment
	change.
	* ld-i386/tlsbindesc.dd: Likewise.
	* ld-i386/tlsbindesc.rd: Likewise.
	* ld-i386/tlsnopic.dd: Likewise.
	* ld-i386/tlspic.dd: Likewise.
	* ld-x86-64/ilp32-4.d: Likewise.
	* ld-x86-64/pr12718.d: Likewise.
	* ld-x86-64/split-by-file.rd: Likewise.
	* ld-x86-64/tlsbin.dd: Likewise.
	* ld-x86-64/tlsbin.rd: Likewise.
	* ld-x86-64/tlsbindesc.dd: Likewise.
	* ld-x86-64/tlsbindesc.rd: Likewise.
	* ld-x86-64/tlsdesc.dd: Likewise.
	* ld-x86-64/tlsdesc.rd: Likewise.
	* ld-x86-64/tlspic.dd: Likewise.
	* ld-x86-64/tlspic.rd: Likewise.
@
text
@d1 6
@


1.282
log
@binutils/
	* dwarf.c (display_debug_lines_raw): Print section offsets.

binutils/testsuite/
	* binutils-all/dw2-1.W: Adjust expected output.
	* binutils-all/objdump.W: Likewise.
	* binutils-all/i386/compressed-1a.d: Likewise.
	* binutils-all/x86-64/compressed-1a.d: Likewise.

gas/testsuite/
	* gas/cris/rd-dw2-1.d: Adjust expected output.
	* gas/cris/rd-dw2-10.d: Likewise.
	* gas/cris/rd-dw2-11.d: Likewise.
	* gas/cris/rd-dw2-12.d: Likewise.
	* gas/cris/rd-dw2-13.d: Likewise.
	* gas/cris/rd-dw2-14.d: Likewise.
	* gas/cris/rd-dw2-15.d: Likewise.
	* gas/cris/rd-dw2-2.d: Likewise.
	* gas/cris/rd-dw2-3.d: Likewise.
	* gas/cris/rd-dw2-4.d: Likewise.
	* gas/cris/rd-dw2-5.d: Likewise.
	* gas/cris/rd-dw2-6.d: Likewise.
	* gas/cris/rd-dw2-7.d: Likewise.
	* gas/cris/rd-dw2-8.d: Likewise.
	* gas/cris/rd-dw2-9.d: Likewise.
	* gas/elf/dwarf2-1.d: Likewise.
	* gas/elf/dwarf2-2.d: Likewise.
	* gas/elf/dwarf2-3.d: Likewise.
	* gas/i386/debug1.d: Likewise.
	* gas/i386/dw2-compress-1.d: Likewise.
	* gas/i386/ilp32/lns/lns-common-1.d: Likewise.
	* gas/i386/ilp32/lns/lns-duplicate.d: Likewise.
	* gas/ia64/pr13167.d: Likewise.
	* gas/lns/lns-big-delta.d: Likewise.
	* gas/lns/lns-common-1-alt.d: Likewise.
	* gas/lns/lns-common-1.d: Likewise.
	* gas/lns/lns-duplicate.d: Likewise.
	* gas/mips/loc-swap-2.d: Likewise.
	* gas/mips/loc-swap.d: Likewise.
	* gas/mips/micromips@@loc-swap-2.d: Likewise.
	* gas/mips/micromips@@loc-swap.d: Likewise.
	* gas/mips/mips16-dwarf2-n32.d: Likewise.
	* gas/mips/mips16-dwarf2.d: Likewise.
	* gas/mips/mips16@@loc-swap-2.d: Likewise.
	* gas/mips/mips16@@loc-swap.d: Likewise.
@
text
@d1 8
@


1.281
log
@	* archures.c: Add some more MSP430 machine numbers.
	* config.bfd (msp430): Define targ_selvecs.
	* configure.in: Add bfd_elf32_msp430_ti_vec.
	* cpu-msp430.c: Add some more MSP430 machine numbers.
	* elf32-msp430.c Add support for MSP430X relocations.
	Add support for TI compiler generated relocations.
	Add support for sym_diff relocations.
	Add support for relaxing out of range short branches into long
	branches.
	Add support for MSP430 attribute section.
	* reloc.c: Add MSP430X relocations.
	* targets.c: Add bfd_elf32_msp430_ti_vec.
	* bfd-in2.h: Regenerate.
	* configure: Regenerate.
	* libbfd.h: Regenerate.

	* readelf.c: Add support for MSP430X architecture.

	* readelf.exp: Expect -wi test to fail for the MSP430.

	* config/tc-msp430.c: Add support for the MSP430X architecture.
	Add code to insert a NOP instruction after any instruction that
	might change the interrupt state.
	Add support for the LARGE memory model.
	Add code to initialise the .MSP430.attributes section.
	* config/tc-msp430.h: Add support for the MSP430X architecture.
	* doc/c-msp430.texi: Document the new -mL and -mN command line
	options.
	* NEWS: Mention support for the MSP430X architecture.

	* gas/all/gas.exp: Skip the DIFF1 test for the MSP430.
	Expect the FORWARD test to pass for the MSP430.
	Skip the REDEF tests for the MSP430.
	Expect the 930509A test to fail for the MSP430.
	* gas/all/sleb128-4.d: Skip for the MSP430.
	* gas/elf/elf.exp: Set target_machine to msp430 for the MSP430.
	Skip the EHOPT0 test for the MSP430.
	Skip the REDEF and EQU-RELOC tests for the MSP430.
	* gas/elf/section2.e-msp430: New file.
	* gas/lns/lns-big-delta.d: Remove expectation of 20-bit
	addresses.
	* gas/lns/lns.exp: Use alternate LNS COMMON test for the MSP430.
	* gas/msp430/msp430x.s: New test.
	* gas/msp430/msp430x.d: Expected disassembly.
	* gas/msp430/msp430.exp: Run new test.
	* gas/msp430/opcode.d: Update expected disassembly.

	* msp430.h: Add MSP430X relocs.
	Add some more MSP430 machine numbers.
	Add values used by .MSP430.attributes section.

	* msp430.h: Add patterns for MSP430X instructions.

	* Makefile.am: Add emsp430X.c
	* Makefine.in: Regenerate.
	* configure.tgt (msp430): Add msp430X emulation.
	* ldmain.c (multiple_definition): Only disable relaxation if it
	was enabled by the user.
	* ldmain.h (RELAXATION_ENABLED_BY_USER): New macro.
	* emulparams/msp430all.sh: Add support for MSP430X.
	* emultempl/generic.em: (before_parse): Enable relaxation for the
	MSP430.
	* scripttempl/msp430.sc: Reorganize sections.  Add .rodata
	section.
	* scripttempl/msp430_3.sc: Likewise.
	* NEWS: Mention support for MSP430X.

	* ld-elf/flags1.d: Expect this test to pass on the MSP430.
	* ld-elf/init-fini-arrays.d: Expect this test to fail on the
	MSP430.
	* ld-elf/merge.d: Expect this test to pass on the MSP430.
	* ld-elf/sec64k.exp: Skip these tests for the MSP430.
	* ld-gc/pr13683.d: Expect this test to fail on the MSP430.
	* ld-srec/srec.exp: Expect these tests to fail on the MSP430.
	* ld-undefined/undefined.exp: Expect the UNDEFINED LINE test to
	fail on the MSP430.

	* msp430-dis.c: Add support for MSP430X instructions.
@
text
@d1 7
@


1.280
log
@	bfd/
	* config.bfd: Replace alpha*-*-linuxecoff* pattern with
	alpha*-*-linux*ecoff*.

	binutils/testsuite/
	* lib/binutils-common.exp (is_elf_format): Also exclude
	*-*-linux*ecoff*.

	gas/
	* configure.tgt: Replace alpha*-*-linuxecoff* pattern with
	alpha*-*-linux*ecoff*.

	ld/
	* configure.tgt: Replace alpha*-*-linuxecoff* pattern with
	alpha*-*-linux*ecoff*.  Update the `sed' pattern used to convert
	from alpha*-*-linux-* to alpha*-*-linux*ecoff*.
@
text
@d1 4
@


1.279
log
@	PR binutils/15191
	* binutils-all/readelf.n: Updare expected output from readelf.

	* readelf.c (process_corefile_note_segment): Prevent attempts to
	read beyond the end of the note buffer.
@
text
@d1 5
@


1.278
log
@	* binutils-all/mips/mixed-mips16.s: Add missing stack adjustment.
	* binutils-all/mips/mixed-mips16.d: Update accordingly.
@
text
@d1 5
@


1.277
log
@Correct ChangeLog dates.
@
text
@d1 5
@


1.276
log
@	opcodes/
	* mips-dis.c (is_compressed_mode_p): Only match symbols from the
	section disassembled.

	binutils/testsuite/
	* binutils-all/mips/mixed-micromips.d: New test.
	* binutils-all/mips/mixed-mips16.d: New test.
	* binutils-all/mips/mixed-micromips.s: New test source.
	* binutils-all/mips/mixed-mips16.s: New test source.
	* binutils-all/mips/mips.exp: New file.
@
text
@d1 1
a1 1
2013-02-12  Maciej W. Rozycki  <macro@@codesourcery.com>
@


1.275
log
@Add copyright notices
@
text
@d1 8
@


1.274
log
@Add copyright notices
@
text
@d1 4
@


1.273
log
@binutils/testsuite/
	* lib/binutils-common.exp (is_zlib_supported): New function.
	* lib/utils-lib.exp (run_dump_test): If as options include
	--compress-debug-sections and zlib is not available, report
	the test as unsupported.
	* binutils-all/compress.exp: Bail out if zlib is not available.
	* binutils-all/objdump.exp (objdump compressed debug):
	Mark unsupported if zlib is not available.
	* binutils-all/readelf.exp (readelf_compressed_wa_test): Likewise.

gas/testsuite/
	* lib/gas-defs.exp (run_dump_test): If as options include
	--compress-debug-sections and zlib is not available, report
	the test as unsupported.

ld/testsuite/
	* ld-elf/compress.exp: Bail out if zlib is not supported.
	* lib/ld-lib.exp (run_dump_test): If as options include
	--compress-debug-sections and zlib is not available, report
	the test as unsupported.
@
text
@d169 6
@


1.272
log
@Add a testcase for PR binutils/14567

binutils/

	PR binutils/14567
	* Makefile.am (BFDTEST2_PROG): New.
	(bfdtest2_DEPENDENCIES): Likewise.
	(TEST_PROGS): Add $(BFDTEST2_PROG).
	* Makefile.in: Regenerated.
	* bfdtest2.c: New file.

binutils/testsuite/

	PR binutils/14567
	* binutils-all/ar.exp (bfdtest1): Removed.
	(long_filenames): Take bfdtests.
	(thin_archive): Likewise.
	(thin_archive_with_nested): Likewise.
	(bfdtests): New.
	Pass $bfdtests to long_filenames, thin_archive and
	thin_archive_with_nested.
@
text
@d1 11
@


1.271
log
@binutils/
	* dlltool.c (INIT_SEC_DATA): Move.
	(secdata <DLLTOOL_PPC>): Use here too.
binutils/testsuite/
	* binutils-all/copy-3.d: Exclude all cygwin and mingw targets,
	and rs6000.
gas/
	* config/tc-ppc.c (ppc_znop): Remove unused vars.
ld/
	* configure.tgt (powerpcle-pe,winnt,cygwin): Add deffilep.o
	and pe-dll.o.
@
text
@d1 11
@


1.270
log
@Don't set bfdtest1 with findfile

	* binutils-all/ar.exp (bfdtest1): Remove findfile.
@
text
@d1 5
@


1.269
log
@Update binutils-all/dw2-1.W

	* binutils-all/dw2-1.W: Updated.
@
text
@d1 4
@


1.268
log
@Add an objdump test on compress debug sections

	* binutils-all/compress.exp: Add an objdump test.
	* binutils-all/dw2-1.W: New file.
@
text
@d1 4
@


1.267
log
@Remove extra verbose before binutils_run

	* binutils-all/ar.exp (long_filenames): Remove extra verbose
	before binutils_run.
	(thin_archive): Likewise.
	(thin_archive_with_nested): Likewise.  Also run bfdtest1 on
	$archive2.
@
text
@d1 5
d23 9
a31 9
            Laurent Desnogues  <laurent.desnogues@@arm.com>
            Jim MacArthur  <jim.macarthur@@arm.com>
            Marcus Shawcroft  <marcus.shawcroft@@arm.com>
            Nigel Stephens  <nigel.stephens@@arm.com>
            Ramana Radhakrishnan  <ramana.radhakrishnan@@arm.com>
            Richard Earnshaw  <rearnsha@@arm.com>
            Sofiane Naci  <sofiane.naci@@arm.com>
            Tejas Belagod  <tejas.belagod@@arm.com>
            Yufeng Zhang  <yufeng.zhang@@arm.com>
@


1.266
log
@Add a testcase for PR binutils/14481

binutils/

	PR binutils/14481
	* Makefile.am (BFDTEST1_PROG): New.
	(TEST_PROGS): Likewise.
	(bfdtest1_DEPENDENCIES): Likewise.
	(noinst_PROGRAMS): Add $(TEST_PROGS).
	* Makefile.in: Regenerated.

	* bfdtest1.c: New file.

binutils/testsuite/

	PR binutils/14481
	* ar.exp (bfdtest1): New.
	(long_filenames): Run bfdtest1.
	(thin_archive): Likewise.
	(thin_archive_with_nested): Likewise.
@
text
@d1 8
@


1.265
log
@Add support for 64-bit ARM architecture: AArch64
@
text
@d1 8
@


1.264
log
@Display null bytes in DWARF debug info

binutils/

	PR binutils/14420
	* dwarf.c (process_abbrev_section): Add attribute terminator.
	Warn missing section terminator.
	(get_FORM_name): Special check for 0 value.
	(get_AT_name): Likewise.
	(process_debug_info): Display zero abbrev number.  Check
	attribute terminator.

binutils/testsuite/

	PR binutils/14420
	* binutils-all/i386/compressed-1a.d: Updated.
	* binutils-all/objdump.W: Likewise.
	* binutils-all/readelf.wa: Likewise.
	* binutils-all/x86-64/compressed-1a.d: Likewise.

gas/testsuite/

	PR binutils/14420
	* gas/elf/dwarf2-1.d: Updated.
	* gas/elf/dwarf2-2.d: Likwise.
	* gas/i386/dw2-compress-1.d: Likwise.
@
text
@d1 13
@


1.263
log
@       * rcparse.y (FILEVERSION): Use optcnumexpr instead of cnumexpr.
       (PRODUCTVERSION): Likewise.

       * binutils-all/windres/version_small.rc: New test.
       * binutils-all/windres/version_small.rsd: Likewise.
@
text
@d1 8
@


1.262
log
@Don't compress empty debug section

2012-07-03  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/14319
	* elf.c (_bfd_elf_make_section_from_shdr): Don't compress empty
	debug section.

2012-07-03  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/14319
	* binutils-all/compress.exp: Test compress empty debug sections.

	* binutils-all/dw2-empty.S: New file.
@
text
@d1 5
@


1.262.2.1
log
@Add support for 64-bit ARM architecture: aarch64
@
text
@a0 13
2012-08-16  Ian Bolton  <ian.bolton@@arm.com>
            Laurent Desnogues  <laurent.desnogues@@arm.com>
            Jim MacArthur  <jim.macarthur@@arm.com>
            Marcus Shawcroft  <marcus.shawcroft@@arm.com>
            Nigel Stephens  <nigel.stephens@@arm.com>
            Ramana Radhakrishnan  <ramana.radhakrishnan@@arm.com>
            Richard Earnshaw  <rearnsha@@arm.com>
            Sofiane Naci  <sofiane.naci@@arm.com>
            Tejas Belagod  <tejas.belagod@@arm.com>
            Yufeng Zhang  <yufeng.zhang@@arm.com>

	* objdump.exp: Add AArch64.

@


1.262.2.2
log
@binutils/testsuite/
	* lib/binutils-common.exp (is_zlib_supported): New function.
	* lib/utils-lib.exp (run_dump_test): If as options include
	--compress-debug-sections and zlib is not available, report
	the test as unsupported.
	* binutils-all/compress.exp: Bail out if zlib is not available.
	* binutils-all/objdump.exp (objdump compressed debug):
	Mark unsupported if zlib is not available.
	* binutils-all/readelf.exp (readelf_compressed_wa_test): Likewise.

gas/testsuite/
	* lib/gas-defs.exp (run_dump_test): If as options include
	--compress-debug-sections and zlib is not available, report
	the test as unsupported.

ld/testsuite/
	* ld-elf/compress.exp: Bail out if zlib is not supported.
	* lib/ld-lib.exp (run_dump_test): If as options include
	--compress-debug-sections and zlib is not available, report
	the test as unsupported.
@
text
@a0 11
2012-11-27  Roland McGrath  <mcgrathr@@google.com>

	* lib/binutils-common.exp (is_zlib_supported): New function.
	* lib/utils-lib.exp (run_dump_test): If as options include
	--compress-debug-sections and zlib is not available, report
	the test as unsupported.
	* binutils-all/compress.exp: Bail out if zlib is not available.
	* binutils-all/objdump.exp (objdump compressed debug):
	Mark unsupported if zlib is not available.
	* binutils-all/readelf.exp (readelf_compressed_wa_test): Likewise.

@


1.261
log
@binutils/testsuite/
	* binutils-all/i386/i386.exp: Don't skip for x86_64-*-linux*.
@
text
@d1 7
@


1.260
log
@Expect addend as signed

binutils/testsuite/

	* binutils-all/hppa/objdump.exp: Expect addend as signed.

gas/testsuite/

	* gas/all/weakref1.d: Expect addend as signed.
	* gas/arm/pic_vxworks.d: Likewise.
	* gas/arm/wince.d: Likewise.
	* gas/h8300/h8300.exp: Likewise.
	* gas/i386/sub.d: Likewise.
	* gas/mips/ecoff@@ld.d: Likewise.
	* gas/mips/ecoff@@sd.d: Likewise.
	* gas/mips/l_d-n32.d: Likewise.
	* gas/mips/l_d-n64.d: Likewise.
	* gas/mips/l_d.d: Likewise.
	* gas/mips/ld-n32.d: Likewise.
	* gas/mips/ld-n64.d: Likewise.
	* gas/mips/ld.d: Likewise.
	* gas/mips/mips1@@l_d.d: Likewise.
	* gas/mips/mips1@@ld-forward.d: Likewise.
	* gas/mips/mips1@@ld.d: Likewise.
	* gas/mips/mips1@@s_d.d: Likewise.
	* gas/mips/s_d-n32.d: Likewise.
	* gas/mips/s_d-n64.d: Likewise.
	* gas/mips/s_d.d: Likewise.
	* gas/mips/sd-n32.d: Likewise.
	* gas/mips/sd-n64.d: Likewise.
	* gas/mips/sd.d: Likewise.
	* gas/mmix/bz-c.d: Likewise.
	* gas/mmix/geta-c.d: Likewise.
	* gas/mmix/jump-c.d: Likewise.
	* gas/mmix/pushj-c.d: Likewise.
	* gas/mmix/pushj-cs.d: Likewise.
	* gas/mmix/reloc16-n.d: Likewise.
	* gas/mmix/reloc16-r.d: Likewise.
	* gas/mmix/reloc16.d: Likewise.
	* gas/mmix/reloc8-r.d: Likewise.
	* gas/mmix/reloc8.d: Likewise.
	* gas/mmix/relocxrn.d: Likewise.
	* gas/sh/sh64/case-1.d: Likewise.
	* gas/sh/sh64/mix-1.d: Likewise.
	* gas/sh/sh64/pt32-1.d: Likewise.
	* gas/sh/sh64/pt64-1.d: Likewise.
	* gas/sh/sh64/pt64-32-2.d: Likewise.
	* gas/sh/sh64/rel32-2.d: Likewise.
	* gas/sh/sh64/rel32-4.d: Likewise.
	* gas/sh/sh64/rel64-2.d: Likewise.
	* gas/sh/sh64/rel64-4.d: Likewise.
	* gas/tic6x/data-reloc.d: Likewise.
	* gas/tic6x/pcr-relocs.d: Likewise.
	* gas/xstormy16/allinsn.d: Likewise.
	* gas/xstormy16/reloc-1.d: Likewise.
	* gas/xstormy16/reloc-2.d: Likewise.

ld/testsuite/

	* ld-arm/emit-relocs1-vxworks.d: Expect addend as signed.
	* ld-spu/pic.d: Likewise.
@
text
@d1 4
@


1.259
log
@binutils/
	* dwarf.c (process_debug_info): Display abbrev offset in hex.
	(display_debug_abbrev): Show offset of abbrev.

binutils/testsuite/
	* binutils-all/objdump.W: Update.
	* binutils-all/readelf.wa: Update.
	* binutils-all/i386/compressed-1a.d: Update.
	* binutils-all/x86-64/compressed-1a.d: Update.

gas/testsuite/
	* gas/elf/dwarf2-1.d: Update.
	* gas/elf/dwarf2-2.d: Update.
	* gas/i386/dw2-compress-1.d: Update.
@
text
@d1 4
@


1.258
log
@	* arm-dis.c (arm_opcodes): Don't disassemble STMFD/LDMIA sp!, {reg}
	to PUSH/POP {reg}.

	* binutils-all/arm/objdump.exp:
	STMFD/LDMIA sp!, {reg} don't disassemble to PUSH/POP {reg} any longer.

	* gas/arm/stm-ldm.d: STMFD/LDMIA sp!, {reg} don't disassemble to
	PUSH/POP {reg} any longer.  Some new test cases have been added as well.
	* gas/arm/stm-ldm.s: Likewise.
@
text
@d1 7
@


1.257
log
@Don't generate empty reloc sections

binutils/

	PR binutils/13947
	* objcopy.c (copy_object): Call copy_relocations_in_section
	before copy_section.
	(skip_section): New.
	(copy_relocations_in_section): Likewise.
	(copy_section): Use skip_section.  Don't copy relocations here.

binutils/testsuite/

	PR binutils/13947
	* binutils-all/i386/compressed-1b.d: Remove empty REL section.
	* binutils-all/i386/compressed-1c.d: Likewise.

	* binutils-all/x86-64/compressed-1b.d: Remove empty RELA
	section.
	* binutils-all/x86-64/compressed-1c.d: Likewise.
@
text
@d1 5
@


1.256
log
@bfd/
2012-04-03  Roland McGrath  <mcgrathr@@google.com>

	* elf-nacl.c: New file.
	* elf-nacl.h: New file.
	* elf32-i386.c (elf_backend_modify_segment_map): Define for
	bfd_elf32_i386_nacl_vec.
	(elf_backend_modify_program_headers): Likewise.
	* elf64-x86-64.c (elf_backend_modify_segment_map): Define for
	bfd_elf64_x86_64_nacl_vec and bfd_elf32_x86_64_nacl_vec.
	(elf_backend_modify_program_headers): Likewise.
	* Makefile.am (BFD32_BACKENDS, BFD64_BACKENDS): Add elf-nacl.lo here.
	(BFD32_BACKENDS_CFILES, BFD64_BACKENDS_CFILES): Add elf-nacl.c here.
	* Makefile.in: Regenerated.
	* configure.in (bfd_elf64_x86_64_nacl_vec): Add elf-nacl.o to tb here.
	(bfd_elf32_x86_64_nacl_vec): Likewise.
	(bfd_elf64_x86_64_vec, bfd_elf32_x86_64_vec): Likewise.
	(bfd_elf64_x86_64_freebsd_vec, bfd_elf64_x86_64_sol2_vec): Likewise.
	(bfd_elf64_l1om_vec, bfd_elf64_l1om_freebsd_vec): Likewise.
	(bfd_elf64_k1om_vec, bfd_elf64_k1om_freebsd_vec): Likewise.
	(bfd_elf32_i386_nacl_vec): Likewise.
	(bfd_elf32_i386_sol2_vec, bfd_elf32_i386_freebsd_vec): Likewise.
	(bfd_elf32_i386_vxworks_vec, bfd_elf32_i386_vec): Likewise.
	* configure: Regenerated.

binutils/testsuite/
2012-04-03  Roland McGrath  <mcgrathr@@google.com>

	* lib/binutils-common.exp (is_elf_format): Consider *-*-nacl* to
	be ELF too.

	* binutils-all/elfedit-4.d: Add "#as: --64" option.

	* binutils-all/i386/i386.exp: Accept nacl targets too.
	* binutils-all/x86-64/x86-64.exp: Likewise.

gas/testsuite/
2012-04-03  Roland McGrath  <mcgrathr@@google.com>

	* gas/i386/k1om.d: Add not-target match for *-*-nacl*.
	* gas/i386/l1om.d: Likewise.

ld/
2012-04-03  Roland McGrath  <mcgrathr@@google.com>

	* configure.tgt (i[3-7]86-*-nacl*, x86_64-*-nacl*): Handle them.
	* emulparams/elf_nacl.sh: New file.
	* emulparams/elf_i386_nacl.sh: New file.
	* emulparams/elf32_x86_64_nacl.sh: New file.
	* emulparams/elf_x86_64_nacl.sh: New file.
	* Makefile.am (ALL_EMULATION_SOURCES): Add eelf_i386_nacl.c here.
	(ALL_64_EMULATION_SOURCES): Add eelf32_x86_64_nacl.c and
	eelf_x86_64_nacl.c here.
	(eelf_i386_nacl.c, eelf32_x86_64_nacl.c, eelf_x86_64_nacl.c):
	New targets.
	* Makefile.in: Regenerated.

	* scripttempl/elf.sc: Handle SEPARATE_CODE cases.

ld/testsuite/
2012-04-03  Roland McGrath  <mcgrathr@@google.com>

	* ld-x86-64/ilp32-4-nacl.d: New file.
	* ld-x86-64/x86-64.exp: Run it.

	* ld-discard/discard.exp: Accept nacl targets too.
	* ld-elf/binutils.exp: Likewise.
	* ld-elf/comm-data.exp: Likewise.
	* ld-elf/elf.exp: Likewise.
	* ld-elf/tls_common.exp: Likewise.
	* ld-elfvers/vers.exp: Likewise.
	* ld-elfvsb/elfvsb.exp: Likewise.
	* ld-elfweak/elfweak.exp: Likewise.
	* ld-gc/gc.exp: Likewise.
	* ld-ifunc/binutils.exp: Likewise.
	* ld-ifunc/ifunc.exp: Likewise.
	* ld-linkonce/linkonce.exp:Likewise.
	* ld-pie/pie.exp: Likewise.
	* ld-shared/shared.exp: Likewise.
	* ld-undefined/weak-undef.exp: Likewise.
	* ld-unique/unique.exp: Likewise.
	* ld-x86-64/dwarfreloc.exp: Likewise.
	* ld-x86-64/line.exp: Likewise.

	* lib/ld-lib.exp (slurp_options): Support global array
	options_regsub to apply substitutions to the contents
	of options lines read from the file.
	* ld-i386/emit-relocs.d: Renamed to ...
	* ld-i386/emit-relocs.rd: ... this.
	* ld-i386/i386.exp: Accept nacl targets too.
	For them, use options_regsub to replace elf_i386 with
	elf_i386_nacl in run_dump_test cases; apply the same
	substitution in $i386tests; replace foo.rd expectations
	files with foo-nacl.rd in $i386tests.
	(i386tests): Change emit-relocs.d to emit-relocs.rd here.
	* ld-i386/emit-relocs-nacl.rd: New file.
	* ld-i386/plt-nacl.pd: New file.
	* ld-i386/plt-pic-nacl.pd: New file.
	* ld-i386/tlsbin-nacl.rd: New file.
	* ld-i386/tlsbindesc-nacl.rd: New file.
	* ld-i386/tlsdesc-nacl.rd: New file.
	* ld-i386/tlsgdesc-nacl.rd: New file.
	* ld-i386/tlsnopic-nacl.rd: New file.
	* ld-i386/tlspic-nacl.rd: New file.
	* ld-x86-64/x86-64.exp: Accept nacl targets too.
	For them, use options_regsub to replace elf_x86_64 with
	elf_x86_64_nacl in run_dump_test cases; apply the same
	substitution in $x86_64tests; replace foo.rd expectations
	files with foo-nacl.rd in $x86_64tests.
	Add explicit -melf_x86_64 to ld options in tests that need it,
	in case the default emulation is x32 (as it is for x86_64-nacl).
	* ld/testsuite/ld-x86-64/plt-nacl.pd: New file.
	* ld/testsuite/ld-x86-64/split-by-file-nacl.rd: New file.
	* ld/testsuite/ld-x86-64/tlsbin-nacl.rd: New file.
	* ld/testsuite/ld-x86-64/tlsbindesc-nacl.rd: New file.
	* ld/testsuite/ld-x86-64/tlsdesc-nacl.pd: New file.
	* ld/testsuite/ld-x86-64/tlsdesc-nacl.rd: New file.
	* ld/testsuite/ld-x86-64/tlsgdesc-nacl.rd: New file.
	* ld/testsuite/ld-x86-64/tlspic-nacl.rd: New file.

	* ld-i386/hidden2.d: Loosen regexps to match any file format variant,
	and not to depend on exact addresses, displacements, etc. where
	they are irrelevant.
	* ld-i386/pcrel16.d: Likewise.
	* ld-i386/pcrel16abs.d: Likewise.
	* ld-i386/pr12718.d: Likewise.
	* ld-i386/pr12921.d: Likewise.
	* ld-i386/reloc.d: Likewise.
	* ld-i386/tlsbin.dd: Likewise.
	* ld-i386/tlsbin.sd: Likewise.
	* ld-i386/tlsbin.td: Likewise.
	* ld-i386/tlsbindesc.dd: Likewise.
	* ld-i386/tlsbindesc.sd: Likewise.
	* ld-i386/tlsbindesc.td: Likewise.
	* ld-i386/tlsdesc.dd: Likewise.
	* ld-i386/tlsdesc.sd: Likewise.
	* ld-i386/tlsdesc.td: Likewise.
	* ld-i386/tlsg.sd: Likewise.
	* ld-i386/tlsgdesc.dd: Likewise.
	* ld-i386/tlsindntpoff.dd: Likewise.
	* ld-i386/tlsnopic.dd: Likewise.
	* ld-i386/tlsnopic.sd: Likewise.
	* ld-i386/tlspic.dd: Likewise.
	* ld-i386/tlspic.sd: Likewise.
	* ld-i386/tlspic.td: Likewise.
	* ld-i386/tlspie2.d: Likewise.
	* ld-x86-64/hidden2.d: Likewise.
	* ld-x86-64/pcrel16.d: Likewise.
	* ld-x86-64/pr12718.d: Likewise.
	* ld-x86-64/pr12921.d: Likewise.
	* ld-x86-64/protected3.d: Likewise.
	* ld-x86-64/tlsbin.dd: Likewise.
	* ld-x86-64/tlsbin.sd: Likewise.
	* ld-x86-64/tlsbin.td: Likewise.
	* ld-x86-64/tlsbindesc.dd: Likewise.
	* ld-x86-64/tlsbindesc.sd: Likewise.
	* ld-x86-64/tlsbindesc.td: Likewise.
	* ld-x86-64/tlsdesc.dd: Likewise.
	* ld-x86-64/tlsdesc.sd: Likewise.
	* ld-x86-64/tlsdesc.td: Likewise.
	* ld-x86-64/tlsg.sd: Likewise.
	* ld-x86-64/tlsgd5.dd: Likewise.
	* ld-x86-64/tlsgd6.dd: Likewise.
	* ld-x86-64/tlsgdesc.dd: Likewise.
	* ld-x86-64/tlspic.dd: Likewise.
	* ld-x86-64/tlspic.sd: Likewise.
	* ld-x86-64/tlspic.td: Likewise.

	* ld-x86-64/ilp32-8.d: Match any file format variant.
	Use a -Ttext and adjust expected results, to handle variant layouts.
	* ld-x86-64/ilp32-9.d: Likewise.

	* ld-i386/alloc.t: Remove superfluous OUTPUT_FORMAT statement.
	* ld-i386/pr12627.t: Likewise.

	* ld-x86-64/abs-l1om.d: Add target: constraint.
	* ld-x86-64/protected2-l1om.d: Likewise.
	* ld-x86-64/protected3-l1om.d: Likewise.
	* ld-x86-64/ilp32-4.d: Likewise.

	* ld-x86-64/plt.s: New file.
	* ld-x86-64/pltlib.s: New file.
	* ld-x86-64/plt.pd: New file.
	* ld-x86-64/x86-64.exp (x86_64tests): Add them.

	* ld-i386/plt.s: New file.
	* ld-i386/pltlib.s: New file.
	* ld-i386/plt.pd: New file.
	* ld-i386/plt-pic.s: New file.
	* ld-i386/plt-pic.pd: New file.
	* ld-i386/i386.exp (i386tests): Add them.
@
text
@d1 10
@


1.255
log
@	PR binutils/3807
	* binutils-all/objcopy.exp (localize-hidden-1): Correct xfailed
	mips-targets.
@
text
@d1 10
@


1.254
log
@Add big-endian support for tilegx.

bfd/
	* config.bfd (tilegx-*-*): rename little endian vector; add big
	endian vector.
	(tilegxbe-*-*): New case.
	* configure.in (bfd_elf32_tilegx_vec): Rename...
	(bfd_elf32_tilegx_le_vec): ... to this.
	(bfd_elf32_tilegx_be_vec): New vector.
	(bfd_elf64_tilegx_vec): Rename...
	(bfd_elf64_tilegx_le_vec): ... to this.
	(bfd_elf64_tilegx_be_vec): New vector.
	* configure: Regenerate.
	* elf32-tilegx.c (TARGET_LITTLE_SYM): Rename.
	(TARGET_LITTLE_NAME): Ditto.
	(TARGET_BIG_SYM): Define.
	(TARGET_BIG_NAME): Define.
	* elf64-tilegx.c (TARGET_LITTLE_SYM): Rename.
	(TARGET_LITTLE_NAME): Ditto.
	(TARGET_BIG_SYM): Define.
	(TARGET_BIG_NAME): Define.
	* targets.c (bfd_elf32_tilegx_vec): Rename...
	(bfd_elf32_tilegx_le_vec): ... to this.
	(bfd_elf32_tilegx_be_vec): Declare.
	(bfd_elf64_tilegx_vec): Rename...
	(bfd_elf64_tilegx_le_vec): ... to this.
	(bfd_elf64_tilegx_be_vec): Declare.
	(_bfd_target_vector): Add / rename above vectors.

binutils/testsuite/
	* binutils-all/objdump.exp (cpus_expected): Add tilegx.

gas/
	* tc-tilegx.c (tilegx_target_format): Handle big endian.
	(OPTION_EB): Define.
	(OPTION_EL): Define.
	(md_longopts): Add entries for "EB" and "EL".
	(md_parse_option): Handle OPTION_EB and OPTION_EL.
	(md_show_usage): Add -EB and -EL.
	(md_number_to_chars): New.
	* tc-tilegx.h (TARGET_BYTES_BIG_ENDIAN): Guard definition with
	ifndef.
	(md_number_to_chars): Delete.
	* configure.tgt (tilegx*be): Handle.
	* doc/as.texinfo [TILE-Gx]: Document -EB and -EL.
	* doc/c-tilegx.texi: Ditto.

ld/
	* Makefile.am (ALL_EMULATION_SOURCES): Add eelf32tilegx_be.c.
	(ALL_64_EMULATION_SOURCES): Add eelf64tilegx_be.c.
	(eelf32tilegx_be.c): Add rule to build this file.
	(eelf64tilegx_be.c): Ditto.
	* Makefile.in: Regenerate.
	* configure.tgt (tilegx-*-*): Support big endian.
	(tilegxbe-*-*): New.
	* emulparams/elf32tilegx.sh (OUTPUT_FORMAT): Rename.
	(BIG_OUTPUT_FORMAT): Define.
	(LITTLE_OUTPUT_FORMAT): Define.
	* emulparams/elf32tilegx_be.sh: New.
	* emulparams/elf64tilegx.sh (OUTPUT_FORMAT): Rename.
	(BIG_OUTPUT_FORMAT): Define.
	(LITTLE_OUTPUT_FORMAT): Define.
	* emulparams/elf64tilegx_be.sh: New.

ld/testsuite/
	* ld-tilegx/reloc-be.d: New.
	* ld-tilegx/reloc-le.d: New.
	* ld-tilegx/reloc.d: Delete.
	* ld-tilegx/tilegx.exp: Test big and little endian.
@
text
@d1 6
@


1.253
log
@	* binutils-all/dlltool.exp: Add setup_xfail.
@
text
@d1 4
@


1.252
log
@	* binutils-all/dw2-decodedline.S: Always have whitespace before
	directives.
	* binutils-all/version.s: Likewise.
	* binutils-all/objdump.exp (dw2-decodedline): Don't run for
	hppa64*-*-hpux*, i370-*-*, i960-*-*.
@
text
@d3 2
@


1.251
log
@ChangeLog binutils

2012-02-11  Kai Tietz  <ktietz@@redhat.com>

	PR binutils/13657
	* defparse.y (%union): New type id_const.
	(opt_name2): New rule.
	(keyword_as_name): New rule.
	(opt_name): Adjust rule.
	(opt_import_name): Likewise.
	(opt_equal_name): Likewise.

ChangeLog binutils/testsuite

2012-02-11  Kai Tietz  <ktietz@@redhat.com>

	* binutils-all/version.def: New file.
	* binutils-all/dlltool.exp: Add version-dll test.

ChangeLog ld

2012-02-11  Kai Tietz  <ktietz@@redhat.com>

	* deffilep.y (%union): New type id_const.
	(opt_name2): New rule.
	(keyword_as_name): New rule.
	(dot_name): Replaced by opt_name2 rule.
	(opt_name): Adjust rule.
	(opt_equal_name): Likewise.
@
text
@d1 8
@


1.250
log
@	* binutils-all/readelf.n: Add #pass to cope with targets that add
	their own notes.
@
text
@d1 5
@


1.249
log
@	PR binutils/13482
	* readelf.c (process_corefile_note_segment): Fix off-by-one errors
	verifying the contents of a note.

	* binutils-all/version.s: New test source file.
	* binutils-all/readelf.n: New file: expected readelf output.
	* binutils-all/readelf.exp: Add test of .note section contents.
@
text
@d1 5
@


1.248
log
@Rotate ChangeLogs
@
text
@d1 6
@


1.247
log
@	* binutils-all/objdump.exp (cpus): Add MicroBlaze.
	(objdump -WL): Skip this test on MCore, Moxie and OpenRisc
	targets.

	* binutils-all/objcopy.exp (localize-hidden-1): Expect this test
	to fail on MIPS based targets.
@
text
@a0 1
2011-11-25  Nick Clifton  <nickc@@redhat.com>
d2 1
a2 982
	* binutils-all/objdump.exp (cpus): Add MicroBlaze.
	(objdump -WL): Skip this test on MCore, Moxie and OpenRisc
	targets.

	* binutils-all/objcopy.exp (localize-hidden-1): Expect this test
	to fail on MIPS based targets.

2011-10-25  Kai Tietz  <ktietz@@redhat.com>

	* binutils-all/windres/strtab4.rc: New test.
	* binutils-all/windres/strtab4.rsd: Likewise.

2011-10-11  Chris  <player1@@onet.eu>

	PR binutils/13051
	* binutils-all\windres\version.rsd: Regenerate.
	* binutils-all\windres\version_cat.rsd: Regenerate.
	* binutils-all\windres\version_mlang.rc: Add new test.
	* binutils-all\windres\version_mlang.rsd: Likewise.

2011-10-07  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/objdump.exp: Don't run dw2-decodedline.S on ia64.

2011-10-04  Carlos O'Donell  <carlos@@codesourcery.com>

	* binutils-all/dw2-decodedline.S: New file.
	* binutils-all/objdump.WL: New file.
	* binutils-all/objdump.exp: Update copyright year.
	New test case for -WL.

2011-09-28  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	* binutils-all/elfedit-4.d: Give test a unique name.

2011-09-15  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/13180
	* binutils-all/group-6.d: New.
	* binutils-all/group-6.s: Likewise.

	* binutils-all/objcopy.exp: Run group-6 for ELF targrts.

2011-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/elfedit.exp: Run elfedit-4.

	* binutils-all/elfedit-4.d: New.

2011-06-30  Bernd Schmidt  <bernds@@codesourcery.com>

	* binutils-all/objcopy.exp (strip_test, strip_executable):
	On ELF targets, test that OS/ABI is preserved.
	(copy_setup): Do test on tic6x-*-uclinux.

2011-06-19  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/elfedit-1.d: Updated for x32.

2011-05-18  Nick Clifton  <nickc@@redhat.com>

	PR binutils/12753
	* lib/utils-lib.exp (run_dump_test): Allow nm as a program.
	* binutils-all/nm.exp: Test running "nm -g" on an object file
	containing a unique symbol.

2011-05-13  Alan Modra  <amodra@@gmail.com>

	* binutils-all/objcopy.exp objcopy_text): Remove xfails for sh-rtems
	and tic4x.

2011-05-02  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/12720
	* binutils-all/ar.exp (delete_an_element): New.
	(move_an_element): Likewise.
	Run delete_an_element and move_an_element.

2011-04-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/x86-64/compressed-1a.d: Adjust for change in output
	format.

2011-04-29  Hans-Peter Nilsson  <hp@@axis.com>

	* binutils-all/i386/compressed-1a.d: Adjust for change in output
	format.

2011-04-28  Tom Tromey  <tromey@@redhat.com>

	* binutils-all/objdump.W: Correct output.

011-04-11  Kai Tietz

	* binutils-all/windres/windres.exp: Add '// cpparg <option>' command
	to rc file interpretation to specify addition pre-processor commands
	as script option.
	* binutils-all/windres/strtab3.rc: New.
	* binutils-all/windres/strtab3.rsd: New.
	* binutils-all/windres/README: Add note about cpparg script option.
	argument

2011-04-11  Nick Clifton  <nickc@@redhat.com>

	* binutils-all/arm/simple.s: Fix assembly problems for COFF based
	ARM toolchaisn by removing .type and .size directives.

2011-04-07  Paul Carroll<pcarroll@@codesourcery.com>

	* binutils-all/arm/simple.s: Demo issue with objdump with
	multiple input files
	* binutils-all/arm/objdump.exp: added new ARM test case code

2011-04-06  Joseph Myers  <joseph@@codesourcery.com>

	* binutils-all/objcopy.exp (*arm*-*-coff): Change to arm*-*-coff.
	(xscale-*-coff, thumb*-*-coff, thumb*-*-pe): Don't handle.

2011-03-31  Bernd Schmidt  <bernds@@codesourcery.com>

	* lib/binutils-common.exp (is_elf_format): Accept tic6x*-*-uclinux*.

2011-01-03  John David Anglin  <dave.anglin@@nrc-cnrc.gc.ca>

	* lib/binutils-common.exp (regexp_diff): Use "==" instead of "eq".

2010-12-31  John David Anglin  <dave.anglin@@nrc-cnrc.gc.ca>

	* binutils-all/copy-2.d: Change "hppa" to "hppa*" in not-target list.
	* binutils-all/copy-3.d: Add hppa*-*-hpux* to not-target list.
	* binutils-all/objcopy.exp (reverse-bytes): xfail on 32-bit hpux.

2010-12-31  Richard Sandiford  <rdsandiford@@googlemail.com>

	* binutils-all/readelf.exp: Handle MIPS FreeBSD targets.

2010-12-09  Maciej W. Rozycki  <macro@@codesourcery.com>

	* lib/binutils-common.exp (regexp_diff): Implement inverse
	matching, requested by `!'.

2010-11-20  Richard Sandiford  <rdsandiford@@googlemail.com>

	* lib/binutils-common.exp (regexp_diff): New procedure.
	* lib/utils-lib.exp (regexp_diff): Delete.

2010-11-20  Richard Sandiford  <rdsandiford@@googlemail.com>

	* lib/binutils-common.exp: New file.
	* lib/utils-lib.exp (load_common_lib): New function.  Load
	binutils-common.exp.
	(is_elf_format): Delete.

2010-11-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/compress.exp: Replace binutils_assemble with
	binutils_assemble_flags for --nocompress-debug-sections.

2010-11-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/compress.exp: Pass --nocompress-debug-sections to
	assembler for uncompressed debug sections.

	* binutils-all/testranges.d: Also expect .zdebug in section name.

2010-11-08  Thomas Schwinge  <thomas@@schwinge.name>

	* lib/utils-lib.exp (is_elf_format): Consider for *-*-gnu*, too.
	* binutils-all/elfedit-2.d (target): Likewise.
	* binutils-all/elfedit-3.d (target): Likewise.
	* binutils-all/i386/i386.exp: Likewise.
	* binutils-all/objcopy.exp: Likewise.
	* binutils-all/strip-3.d (target): Likewise.

2010-11-08  Alan Modra  <amodra@@gmail.com>

	* binutils-all/objdump.W: Adjust expected result for debug section
	rename.

2010-11-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/libdw2.out: Also accept MIPS_DWARF.

2010-10-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/compress.exp: New.
	* binutils-all/dw2-1.S: Likewise.
	* binutils-all/dw2-2.S: Likewise.
	* binutils-all/libdw2-compressed.out: Likewise.
	* binutils-all/libdw2.out: Likewise.

2010-10-22  Mark Mitchell  <mark@@codesourcery.com>

	* binutils-all/group-5.d: Expect ".group" for the name of group
	sections.
	* binutils-all/strip-2.d: Likewise.

2010-10-12  Andreas Schwab  <schwab@@linux-m68k.org>

	* binutils-all/m68k/objdump.exp: Add fnop test.
	* binutils-all/m68k/fnop.s: New file.

2010-09-29  Alan Modra  <amodra@@gmail.com>

	* lib/utils-lib.exp (is_elf_format): Merge with gas and ld versions.

2010-09-23  Alan Modra  <amodra@@gmail.com>

	* binutils-all/ar.exp: Don't run unique_symbol on msp or hpux.
	* binutils-all/copy-2.d: Update not-target list.
	* binutils-all/note-1.d: Don't run on h8300.
	* binutils-all/objcopy.exp: Don't run strip-10 on msp or hpux.
	(objcopy_test): Remove h8300-rtems from xfails.

2010-09-16  Alan Modra  <amodra@@gmail.com>

	* binutils-all/i386/i386.exp: Don't run on linuxaout.

2010-09-10  Ben Gardiner  <bengardiner@@nanometrics.ca>

	* binutils-all/objcopy.exp: Add test of new --interleave-width
	option.

2010-09-03  Jan Kratochvil  <jan.kratochvil@@redhat.com>

	* binutils-all/objdump.W: Update DW_OP_reg5 expected output.

2010-08-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/elfedit-3.d: New.

	* binutils-all/elfedit.exp: Run elfedit-3.

2010-07-19  Andreas Schwab  <schwab@@redhat.com>

	* binutils-all/readelf.s: Ignore "Key to Flags" contents.
	* binutils-all/readelf.s-64: Likewise.
	* binutils-all/i386/compressed-1b.d: Likewise.
	* binutils-all/i386/compressed-1c.d: Likewise.
	* binutils-all/x86-64/compressed-1b.d: Likewise.
	* binutils-all/x86-64/compressed-1c.d: Likewise.

2010-07-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/i386/compressed-1a.d: Fix a typo.
	* binutils-all/i386/compressed-1b.d: Likewise.
	* binutils-all/i386/compressed-1c.d: Likewise.
	* binutils-all/x86-64/compressed-1a.d: Likewise.
	* binutils-all/x86-64/compressed-1b.d: Likewise.
	* binutils-all/x86-64/compressed-1c.d: Likewise.

2010-07-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/default.exp (binutils_assemble): Use
	default_binutils_assemble_flags.
	(binutils_assemble_flags): New.

	* lib/utils-lib.exp (default_binutils_assemble): Renamed to ...
	(default_binutils_assemble_flags): This.  Add asflags and
	pass it to target_assemble.
	(run_dump_test): Support assembler flags.

	* binutils-all/i386/compressed-1.s: New.
	* binutils-all/i386/compressed-1a.d: Likewise.
	* binutils-all/i386/compressed-1b.d: Likewise.
	* binutils-all/i386/compressed-1c.d: Likewise.
	* binutils-all/i386/i386.exp: Likewise.
	* binutils-all/x86-64/compressed-1.s: Likewise.
	* binutils-all/x86-64/compressed-1a.d: Likewise.
	* binutils-all/x86-64/compressed-1b.d: Likewise.
	* binutils-all/x86-64/compressed-1c.d: Likewise.
	* binutils-all/x86-64/x86-64.exp: Likewise.

2010-07-05  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/10531
	PR gas/11789
	* binutils-all/objdump.W: Remove bogus line debug info.

2010-05-18  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11600
	* binutils-all/objcopy.exp: Run exclude-1a and exclude-1b for
	ELF targets.

	* binutils-all/exclude-1.s: New.
	* binutils-all/exclude-1a.d: Likewise.
	* binutils-all/exclude-1b.d: Likewise.

2010-04-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/dlltool.exp: Add a missing `"'.

2010-04-27  Kai Tietz  <kai.tietz@@onevision.com>

	* binutils-all/dlltool.exp: Allow test for
	arm-wince-pe target.

2010-03-30  Kai TIetz  <kai.tietz@@onevision.com>

	* binutils-all/objcopy.exp: Mark simple copy executable
	as failing for all *-*-mingw32* targets.

2010-03-26  Matt Rice  <ratmice@@gmail.com>

	* binutils-all/ar.exp (unique_symbol): New test.

2010-02-18  Alan Modra  <amodra@@gmail.com>

	* binutils-all/group-5.s, * binutils-all/group-5.d: New test.
	* binutils-all/objcopy.exp: Run it.

2010-02-01  Nathan Sidwell  <nathan@@codesourcery.com>

	* binutils-all/note-1.d: New.
	* binutils-all/objcopy.exp: Add it.

2010-01-30  Dave Korn  <dave.korn.cygwin@@gmail.com>

	* binutils-all/windres/html.rc: Don't xfail x86_64-*-mingw*.
	* binutils-all/windres/lang.rc: Likewise.
	* binutils-all/windres/messagetable.rc: Likewise.
	* binutils-all/windres/strtab1.rc: Likewise.
	* binutils-all/windres/strtab2.rc: Likewise.
	* binutils-all/windres/version.rc: Likewise.
	* binutils-all/windres/version_cat.rc: Likewise.

2010-01-19  Ian Lance Taylor  <iant@@google.com>

	* lib/utils-lib.exp (run_dump_test): Permit option values to use
	$srcdir to refer to the source directory.
	* binutils-all/add-section.d: New test.
	* binutils-all/add-empty-section.d: New test.
	* binutils-all/empty-file: New test input file.
	* binutils-all/objcopy.exp: Run new tests.

2010-01-08  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/elfedit-2.d: New.

	* binutils-all/elfedit.exp: Run elfedit-2.

2010-01-06  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/11131
	* binutils-all/elfedit-1.d: New.
	* binutils-all/elfedit.exp: Likewise.

	* config/default.exp (ELFEDIT): New. Set if it doesn't exist.
	(ELFEDITFLAGS): Likewise.

	* lib/utils-lib.exp (run_dump_test): Support elfedit.

2009-10-28  Kai Tietz <kai.tietz@@onevision.com>

	* binutils-all/dlltool.exp: Add tests for --no-leading-underscore
	and --leading-underscore option for dlltool.

2009-10-23  Kai Tietz  <kai.tietz@@onevision.com>

	* binutils-all/dlltool.exp: Add new test.
	* binutils-all/alias-2.def: New file.

2009-10-18  Vincent Rivière  <vincent.riviere@@freesbee.fr>

	* binutils-all/copy-2.d: Exclude more aout targets.
	* binutils-all/copy-3.d: Likewise.

2009-09-23  Alan Modra  <amodra@@bigpond.net.au>

	* binutils-all/readelf.s: Tolerate some whitespace differences.
	* binutils-all/readelf.s-64: Likewise.
	* binutils-all/readelf.ss: Likewise.
	* binutils-all/readelf.ss-64: Likewise.
	* binutils-all/readelf.ss-mips: Likewise.
	* binutils-all/readelf.ss-tmips: Likewise.
	* binutils-all/strip-10.d: Likewise.

2009-09-08  Alan Modra  <amodra@@bigpond.net.au>

	* binutils-all/objdump.exp (cpus_expected): Add ms1.

2009-09-07  Jan Kratochvil  <jan.kratochvil@@redhat.com>

	* binutils-all/testranges.s (.debug_info): Pad the only CU.

2009-09-07  Jan Kratochvil  <jan.kratochvil@@redhat.com>

	* binutils-all/testranges.s: Replace all .long by .4byte.

2009-09-04  DJ Delorie  <dj@@redhat.com>

	* binutils-all/objdump.exp: Add m16c and m32c to the list of
	expected cpus.

2009-09-02  Jie Zhang  <jie.zhang@@analog.com>

	* binutils-all/bfin/unknown-mode.s: New test.
	* binutils-all/bfin/objdump.exp: New test.

2009-08-17  Nick Clifton  <nickc@@redhat.com>

	* binutils-all/strip-10.d: Accept "<OS specific>: 10" for the type
	of the UNIQUE symbol.

2009-08-07  Daniel Jacobowitz  <dan@@codesourcery.com>

	* binutils-all/testranges.s: Use %progbits.  Use ";#" for comments.

2009-08-06  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/10492
	* binutils-all/objcopy.exp: Run strip-10.

	* binutils-all/strip-10.d: New.
	* binutils-all/unique.s: Likewise.

2009-07-31  Daniel Gutson  <dgutson@@codesourcery.com>
	    Daniel Jacobowitz  <dan@@codesourcery.com>

	* binutils-all/arm/thumb2-cond.s: Use instructions instead of
	.short.

2009-07-29  Alan Modra  <amodra@@bigpond.net.au>

	* binutils-all/testranges.s: Replace .value with .short.

2009-07-16  Dave Korn  <dave.korn.cygwin@@gmail.com>
	    H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/objcopy.exp: Run testranges and testranges-ia64
	for ELF targets only.

2009-07-16  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/objcopy.exp; Run testranges-ia64.

	* binutils-all/testranges.d: Don't run for ia64.

	* binutils-all/testranges-ia64.d: New.
	* binutils-all/testranges-ia64.s: Likewise.

2009-07-14  Jan Kratochvil  <jan.kratochvil@@redhat.com>

	* binutils-all/objcopy.exp (testranges): New test.
	* binutils-all/testranges.d, binutils-all/testranges.s: New files.

2009-06-25  Christopher Faylor  <me+cygwin@@cgf.cx>

	* binutils-all/objcopy.exp: Move XFAIL from objcopy_test to
	copy_executable.

2009-06-25  Christopher Faylor  <me+cygwin@@cgf.cx>

	* binutils-all/objcopy.exp: Always treat objcopy_test as XFAIL on
	cygwin.

2009-04-16  Alan Modra  <amodra@@bigpond.net.au>

	* binutils-all/localize-hidden-1.s: Use "==" instead of ".set".
	* binutils-all/localize-hidden-2.s: Likewise.

2009-04-02  Dave Korn  <dave.korn.cygwin@@gmail.com>

	* inutils-all/objcopy.exp (strip_executable):  Delete remote dest
	file before downloading.
	(strip_executable_with_saving_a_symbol):  Likewise.
	(keep_debug_symbols_and_test_copy):  Likewise.

2009-03-11  Joseph Myers  <joseph@@codesourcery.com>

	* binutils-all/objdump.W, binutils-all/objdump.s: Don't match
	literal "tmpdir/" in expected output.

2009-03-11  Chris Demetriou  <cgd@@google.com>

	* binutils-all/ar.exp (deterministic_archive): New test.

2009-03-09  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/9933
	* binutils-all/copy-4.d: New.

	* binutils-all/objcopy.exp: Run copy-4.

2009-03-03  John David Anglin  <dave.anglin@@nrc-cnrc.gc.ca>

	* config/hppa.sed: Fix spelling.

2009-03-02  John David Anglin  <dave.anglin@@nrc-cnrc.gc.ca>

	* binutils-all/localize-hidden-1.s: Change .equ to .set.
	* binutils-all/localize-hidden-2.s: Likewise.

2009-01-29  Nick Clifton  <nickc@@redhat.com>

	* binutils-all/objdump.W: Do not assume that high and low PC
	addresses will have been computed.

2008-10-06  Tom Tromey  <tromey@@redhat.com>

	* binutils-all/objdump.W: Update.

2008-10-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/group.s: Updated.
	* binutils-all/group-2.s: Likewise.
	* binutils-all/group-3.s: Likewise.
	* binutils-all/group-4.s: Likewise.
	* binutils-all/strip-7.d: Likewise.
	* binutils-all/strip-9.d: Likewise.

2008-10-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/group-4.s: New.
	* binutils-all/strip-8.d: Likewise.
	* binutils-all/strip-9.d: Likewise.

	* binutils-all/objcopy.exp: Test objcopy on group-4.s.  Run
	strip-8 and strip-9.

2008-10-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/group-3.s: New.
	* binutils-all/strip-6.d: Likewise.
	* binutils-all/strip-7.d: Likewise.

	* binutils-all/objcopy.exp: Test objcopy on group-3.s.  Run
	strip-6 and strip-7.

2008-10-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/group-2.s: New.
	* binutils-all/strip-4.d: Likewise.
	* binutils-all/strip-5.d: Likewise.

	* binutils-all/objcopy.exp: Test objcopy on group-2.s.  Run
	strip-4 and strip-5.

2008-07-26  Alan Modra  <amodra@@bigpond.net.au>

	* binutils-all/objdump.exp: Run compressed debug test only for ELF.

2008-07-11  Hans-Peter Nilsson  <hp@@axis.com>

	* binutils-all/objdump.W: Generalize to adjust for targets with
	non-byte-size instructions.

2008-07-09  Craig Silverstein  <csilvers@@google.com>

	* binutils-all/objdump.exp: Add test for objdump -s on a file
	with a compressed debug section.  Add test for objdump -W on a
	file that contains a compressed debug section.
	* binutils-all/readelf.exp: Call readelf_compressed_wa_test.
	(readelf_compressed_wa_test): New function.
	* binutils-all/dw2-compressed.S: New file.
	* binutils-all/objdump.W: New file.
	* binutils-all/objdump.s: New file.
	* binutils-all/readelf.wa: New file.

2008-07-08  Kai Tietz  <kai.tietz@@onevision.com>

	* binutils-all/objcopy.exp (copy_setup): Check if host-triplet
	is target-triplet for execution tests.
	(copy_executable): Likewise.
	(strip_executable): Likewise.
	(strip_executable_with_saving_a_symbol): Likewise.

2008-05-29  Jan Kratochvil  <jan.kratochvil@@redhat.com>

	* binutils-all/objcopy.exp: Call KEEP_DEBUG_SYMBOLS_AND_TEST_COPY.
	(keep_debug_symbols_and_test_copy): New function.
	(test5, test6): New variables.

2008-03-27  Cary Coutant <ccoutant@@google.com>

	* binutils-all/ar.exp: Add thin archive tests.

2008-02-26  Joseph Myers  <joseph@@codesourcery.com>

	* config/default.exp (gcc_gas_flag, dlltool_gas_flag): Define to
	empty for testing an installed toolchain.

2008-02-04  Bob Wilson  <bob.wilson@@acm.org>

	* binutils-all/objdump.exp (cpus_expected): Add xtensa.

2007-10-26  Alan Modra  <amodra@@bigpond.net.au>

	* binutils-all/windres/windres.exp: Don't xfail.

2007-10-16  Nick Clifton  <nickc@@redhat.com>

	* binutils-all/readelf.ss: Accept COMMON in readelf's output.
	* binutils-all/readelf.ss-64: Likewise.
	* binutils-all/readelf.ss-mips: Likewise.
	* binutils-all/readelf.ss-tmips: Likewise.

2007-08-30  Nick Clifton  <nickc@@redhat.com>

	* binutils-all/dumptest.s: New test file.
	* binutils-all/readelf.exp: Add test of readelf's -p switch.

2007-08-28  Mark Shinwell  <shinwell@@codesourcery.com>
	    Joseph Myers  <joseph@@codesourcery.com>

	* binutils-all/ar.exp (long_filenames): Delete temporary files on
	the host.
	* binutils-all/arm/objdump.exp: Only check "which $OBJDUMP" if
	host is local.
	* binutils-all/objcopy.exp: Use ${srecfile} to get the name of the
	srec file to be passed to binutils_run.
	(objcopy_test_readelf): Use remote_exec.
	* binutils-all/readelf.exp (readelf_find_size): Use remote_exec.
	(readelf_test): Likewise.
	(readelf_wi_test): Likewise.
	* lib/utils-lib.exp (run_dump_test): Only check "which $binary" if
	host is local.  Use remote_exec.  Use $tempfile not
	tmpdir/bintest.o.

2007-08-09  Alan Modra  <amodra@@bigpond.net.au>

	* binutils-all/copy-2.d (not-target): Match *-*-*aout.
	* binutils-all/copy-3.d (not-target): Likewise.
	* binutils-all/objcopy.exp (objcopy_test): Remove extraneous
	setup_xfail.
	* windres/windres.exp: Return unsupported rather than fail if
	windows.h not found.

2007-07-05  Nick Clifton  <nickc@@redhat.com>

	* lib/utils-lib.exp: Update copyright notice to refer to GPLv3.
	* config/default.exp, binutils-all/ar.exp,
	binutils-all/dlltool.exp, binutils-all/nm.exp,
	binutils-all/objcopy.exp, binutils-all/arm/objdump.exp,
	binutils-all/hppa/objdump.exp, binutils-all/m68k/objdump.exp,
	binutils-all/vax/objdump.exp, binutils-all/windres/windres.exp,
	binutils-all/windres/msupdate: Likewise.

2007-06-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/strip-3.d: Also strip .xtensa.info section.

2007-05-24  Kai Tietz  <Kai.Tietz@@onevision.com>

	* binutils-all/windres/version_cat.rc: New.
	* binutils-all/windres/version_cat.rsd: New.

2007-05-23  Kai Tietz  <Kai.Tietz@@onevision.com>

	* binutils-all/windres/html.rc: New.
	* binutils-all/windres/html.rsd: New.
	* binutils-all/windres/html1.hm: New.
	* binutils-all/windres/html2.hm: New.
	* binutils-all/windres/messagetable.rc: New.
	* binutils-all/windres/messagetable.rsd: New.
	* binutils-all/windres/MSG00001.bin: New.
	* binutils-all/windres/strtab2.rc: New.
	* binutils-all/windres/strtab2.rsd: New.
	* binutils-all/windres/version.rc: New.
	* binutils-all/windres/version.rsd: New.
	* binutils-all/windres/dialog.rsd: Fix expected results.

2007-05-17  Joseph Myers  <joseph@@codesourcery.com>

	* binutils-all/strip-3.d: Strip .pdr section.

2007-05-15  Alan Modra  <amodra@@bigpond.net.au>

	* binutils-all/objcopy.exp: Only run needed-by-reloc test for ELF.

2007-05-11  Alan Modra  <amodra@@bigpond.net.au>

	* binutils-all/needed-by-reloc.s: Use .long rather than .4byte.

2007-05-08  Mark Shinwell  <shinwell@@codesourcery.com>

	* binutils-all/strip-3.d: Strip .ARM.attributes and .reginfo
	sections.

2007-05-02  Alan Modra  <amodra@@bigpond.net.au>

	* binutils-all/objcopy.exp (copy_setup): Don't perror, use send_log.
	(copy_executable): Return early if test2 is blank.
	Return unsupported rather than unresolved if we can't run
	executables.  Do test1 if we can compile.

2007-04-24  Nathan Froyd  <froydnj@@codesourcery.com>
	    Phil Edwards  <phil@@codesourcery.com>

	* binutils-all/objcopy.exp: Add test for stripping a symbol
	used in a relocation.
	* binutils-all/needed-by-reloc.s: New file.

2007-04-20  Nathan Froyd  <froydnj@@codesourcery.com>
	    Phil Edwards  <phil@@codesourcery.com>
	    Thomas de Lellis <tdel@@windriver.com>

	* binutils-all/objcopy.exp: Add test for --reverse-bytes.

2007-04-21  Richard Earnshaw  <rearnsha@@arm.com>

	* binutils-all/readelf.exp (regexp_diff): Delete.

2007-04-20  Richard Earnshaw  <rearnsha@@arm.com>

	* binutils-all/arm/thumb2-cond.s: Allow for tab expansion by the pty.
	Rename the second test.

2007-04-12  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/4348
	* binutils-all/empty.s: New file.
	* binutils-all/strip-3.d: Likewise.

	* binutils-all/objcopy.exp: Run strip-3 for ELF target.

2007-02-27  Nathan Sidwell  <nathan@@codesourcery.com>

	* binutils-all/objcopy.exp: Skip for uclinux targets.

2007-02-14  Nick Clifton  <nickc@@redhat.com>

	* binutils-all/readelf.exp (readelf_wi_test): Fix unexpected
	output failure message.

2007-01-08  Kai Tietz	<kai.tietz@@onevision.com>

	* copy-3.d: Renamed target x86_64-*-mingw64 to x86_64-*-mingw*
	* dlltool.exp: Dito
	* lang.rc: Dito
	* strtab1.rc: Dito
	* windres.exp: Dito

2006-09-20  Kai Tietz  <Kai.Tietz@@onevision.com>

	* binutils-all/copy-3.d: Add support for target x86_64-pc-mingw64.
	* binutils-all/dlltool.exp: Likewise.
	* binutils-all/objcopy.exp: Likewise.
	* binutils-all/windres/windres.exp: Likewise.
	* binutils-all/windres/lang.rc: xfail it as long as there is no windows.h.
	* binutils-all/windres/strtab1.rc: Likewise.
	* lib/utils-lib.exp: Adjust executable prefix detection (as .exe).

2006-09-14  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/3181
	* binutils-all/objcopy.exp: Run strip-1 and strip-2 for ELF
	targets.

	* binutils-all/strip-1.d: New file.
	* binutils-all/strip-2.d: Likewise.

	* lib/utils-lib.exp (run_dump_test): Support strip.

2006-08-15  Thiemo Seufer  <ths@@mips.com>
	    Nigel Stephens  <nigel@@mips.com>
	    David Ung  <davidu@@mips.com>

	* binutils-all/readelf.exp (readelf_test): Handle mips*-sde-elf*.

2006-06-24  Richard Sandiford  <richard@@codesourcery.com>

	* binutils-all/localize-hidden-1.d: Use objdump --syms instead
	of readelf.

2006-06-23  Richard Sandiford  <richard@@codesourcery.com>

	* binutils-all/localize-hidden-1.s,
	* binutils-all/localize-hidden-1.d,
	* binutils-all/localize-hidden-2.s,
	* binutils-all/localize-hidden-2.d: New tests.
	* binutils-all/objcopy.exp: Run them.

2006-06-06  Paul Brook  <paul@@codesourcery.com>

	* binutils-all/arm/objdump.exp: New file.
	* binutils-all/arm/thumb2-cond.s: New test.

2006-05-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/copy-3.d: Fix a typo.

2006-05-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/copy-3.d: New.

	* objcopy.exp: Run copy-3.

2006-05-02  Dave Korn  <dave.korn@@artimi.com>

	* binutils-all/copy-1.d (name):  Correct spelling of 'setting'.
	* binutils-all/copy-1.d (name):  Likewise.

2006-05-02  Nick Clifton  <nickc@@redhat.com>

	* binutils-all/copy-2.d: Change the name of the section whose
	flags are changed to "foo" so that the test will work with PE
	based targets.  Skip this test for AOUT based targeted.
	* binutils-all/copytest.s: New file.

2006-05-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/objcopy.exp: Run "copy-1" for ELF only.

2006-05-01  Ben Elliston  <bje@@au.ibm.com>

	* binutils-all/objcopy.exp (objcopy_test_readelf): Remove stray ;

2006-04-26  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/2593
	* binutils-all/copy-1.d: New file.
	* binutils-all/copy-1.s: Likewise.
	* binutils-all/copy-2.d: Likewise.

	* binutils-all/objcopy.exp: Add run_dump_test "copy-1" and
	run_dump_test "copy-2".

	* lib/utils-lib.exp (run_dump_test): New.
	(slurp_options): Likewise.
	(regexp_diff): Likewise.
	(file_contents): Likewise.
	(verbose_eval): Likewise.

2006-04-25  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/2467
	* binutils-all/objcopy.exp (strip_test): Also test "strip -g"
	on archive.

2006-04-10  H.J. Lu  <hongjiu.lu@@intel.com>

	* lib/utils-lib.exp (default_binutils_run): Check exit status.

2005-12-24  Ben Elliston  <bje@@gnu.org>

	* config/default.exp: Do not load the unneeded util-defs.exp.

2005-11-15  Jan Beulich  <jbeulich@@novell.com>

	* config/default.exp (link_or_copy): New. Use it for setting
	up assembler and linker for the compiler to use.

2005-10-20  H.J. Lu  <hongjiu.lu@@intel.com>

	PR ld/251
	* binutils-all/group.s: New file.

	* binutils-all/objcopy.exp (objcopy_test_readelf): New
	procedure.
	Use it to test ELF group.

2005-10-19  H.J. Lu  <hongjiu.lu@@intel.com>

	PR ld/1487
	* binutils-all/objcopy.exp (objcopy_test): New procedure.
	Use it to test simple copy, ia64 link order and ELF unknown
	section type.

	* binutils-all/unknown.s: New file.

2005-10-19  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/1321
	* binutils-all/link-order.s: New.

	* binutils-all/objcopy.exp: Check ia64 link order.

2005-10-11  Danny Smith  <dannysmith@@users.sourceforge.net>

	* binutils-all/windres/escapex-2.rc: New file.
	* binutils-all/windres/escapex-2.rsd: Generate.

2005-08-26  Christian Groessler  <chris@@groessler.org>

	* binutils-all/objcopy.exp: Don't setup_xfail "z8*-*".

2005-08-18  Alan Modra  <amodra@@bigpond.net.au>

	* binutils-all/objcopy.exp: Remove a29k support.
	* binutils-all/objdump.exp: Likewise, alliant and convex too.

2005-05-07  Nick Clifton  <nickc@@redhat.com>

	* Update the address and phone number of the FSF organization in
	the GPL notices in the following files:
	binutils-all/ar.exp, binutils-all/dlltool.exp,
	binutils-all/nm.exp, binutils-all/objcopy.exp,
	binutils-all/objdump.exp, binutils-all/readelf.exp,
	binutils-all/size.exp, binutils-all/hppa/objdump.exp,
	binutils-all/m68k/objdump.exp, binutils-all/vax/objdump.exp,
	binutils-all/windres/msupdate, binutils-all/windres/windres.exp,
	config/default.exp, lib/utils-lib.exp

2005-04-04  Jan-Benedict Glaw  <jbglaw@@lug-owl.>

	* binutils-all/vax/objdump.exp: Condense the two tests into one
	and add a "-M entry:" for the second label.

2005-03-29  Jan-Benedict Glaw  <jbglaw@@lug-owl.de>

	* binutils-all/vax: New directory.
	* binutils-all/vax/objdump.exp: New script.  Test the -Mentry:
	switch added to the VAX disassembler.
	* binutils-all/vax/entrymask.s: New assembler source file.

2005-03-08  Ben Elliston  <bje@@au.ibm.com>

	* config/default.exp: Remove send_user call for stray output.

2005-01-04  Martin Koegler  <mkoegler@@auto.tuwien.ac.at>

	* binutils-all/testprog.c: Add prototype for printf() and make
	type of "string" array be "char" in order to avoid compile time
	warnings.

2004-12-31  Alan Modra  <amodra@@bigpond.net.au>

	* binutils-all/readelf.ss: Allow for both .rel and .rela sections.

2004-11-04  Hans-Peter Nilsson  <hp@@axis.com>

	* binutils-all/objdump.exp (cpus_expected): Append cris.

2004-10-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/dlltool.exp: Set XFAIL if $target_xfail is yes.

2004-10-23  Aaron W. LaFramboise  <aaron98wiridge9@@aaronwl.com>

	* binutils-all/alias.def: New file.
	* binutils-all/dlltool.exp: Two new -p tests.
	* config/default.exp (dlltool_gas_flag): New variable.
	Copy gas and lds executables into tmpdir/gas directory rather than
	making symlinks which might not be supported by the host OS.
	Attempt to handle the case where the host OS does not use the .exe
	extension but the target OS does.
	* lib/utils-lib.exp (exe_ext): New procedure.

2004-07-12  Nick Clifton  <nickc@@redhat.com>

	* binutils-all/dlltool.exp: Check that the -p switch is not
	rejected.

2004-07-09  Andreas Schwab  <schwab@@suse.de>

	* binutils-all/m68k/movem.s: New file.

	* binutils-all/m68k/objdump.exp: New file.

2004-05-15  Nick Clifton  <nickc@@redhat.com>

	* binutils-all/readelf.ss: Allow for ARM mapping symbols.

2004-05-12  Ben Elliston  <bje@@au.ibm.com>

	* binutils-all/ar.exp: Remove stray semicolons.
	* binutils-all/dlltool.exp: Likewise.
	* binutils-all/objcopy.exp: Likewise.
	* binutils-all/readelf.exp: Likewise.
	* binutils-all/windres/windres.exp: Likewise.
	* lib/utils-lib.exp: Likewise.

2004-04-14  Richard Sandiford  <rsandifo@@redhat.com>

	* binutils-all/readelf.ss-mips: Allow named section symbols.

2004-03-30  Jakub Jelinek  <jakub@@redhat.com>

	* binutils-all/objcopy.exp: Accept main as a data symbol as well.

2004-02-27  Andreas Schwab  <schwab@@suse.de>

	* binutils-all/ar.exp (argument_parsing): New test.

2004-02-20  Nathan Sidwell  <nathan@@codesourcery.com>

	* binutils-all/objcopy.exp: Reorder arguments for POSIXLY_CORRECT
	systems.

For older changes see ChangeLog-9303
@


1.246
log
@2011-10-25  Kai Tietz  <ktietz@@redhat.com>

	* winduni.h (unicode_from_ascii_len): New prototype.
	* winduni.c (unicode_from_ascii_len): New function.
	* windres.h (define_stringtable): Add additional length argument.
	* windres.c (define_stringtable): Add length argument for string.
	* rcparse.y (res_unicode_sizedstring): New rule.
	(res_unicode_sizedstring_concat): Likewise.
	(string_data): Adjust rule.

2011-10-25  Kai Tietz  <ktietz@@redhat.com>

	* binutils-all/windres/strtab4.rc: New test.
	* binutils-all/windres/strtab4.rsd: Likewise.
@
text
@d1 9
@


1.245
log
@	PR binutils/13051
	Fix a syntax error bug when compiling rc files with the VERSIONINFO resource
	containing more than one language block inside a single StringFileInfo block.

	* windint.h (rc_ver_stringtable): New structure definition.
	(rc_ver_info): Use it.
	* rcparse.y (verstringtable): New variable.
	(verstringtables): New type.
	(verstringtables:): New rule declaration.
	(verblocks:): Use it.
	* resrc.c (append_ver_stringtable): New function.
	(append_ver_stringfileinfo): Update to use stringtables.
	* windres.h (append_ver_stringfileinfo): Update declaration.
	(append_ver_stringtable): New declaration.
	* resrc.c (write_rc_versioninfo): Update to support multiple blocks.
	* resbin.c (bin_to_res_version): Likewise.
	(res_to_bin_versioninfo): Likewise.

	* binutils-all\windres\version.rsd: Regenerate.
	* binutils-all\windres\version_cat.rsd: Regenerate.
	* binutils-all\windres\version_mlang.rc: Add new test.
	* binutils-all\windres\version_mlang.rsd: Likewise.
@
text
@d1 5
@


1.244
log
@Don't run dw2-decodedline.S on ia64.

2011-10-07  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/objdump.exp: Don't run dw2-decodedline.S on ia64.
@
text
@d1 8
@


1.243
log
@binutils/

2011-10-04  Paul Woegerer  <paul_woegerer@@mentor.com>
	    Carlos O'Donell  <carlos@@codesourcery.com>

	* dwarf.c (display_debug_lines_decoded): Index directory_table with
	directory_index from file_table entry.

binutils/testsuite/

2011-10-04  Carlos O'Donell  <carlos@@codesourcery.com>

	* binutils-all/dw2-decodedline.S: New file.
	* binutils-all/objdump.WL: New file.
	* binutils-all/objdump.exp: Update copyright year.
	New test case for -WL.
@
text
@d1 4
@


1.242
log
@	* binutils/testsuite/binutils-all/elfedit-4.d: Give test a unique name.
@
text
@d1 7
@


1.241
log
@Remove the group section if all members are removed.

binutils/

2011-09-15  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/13180
	* objcopy.c (is_strip_section_1): New.
	(is_strip_section): Use it.  Remove the group section if all
	members are removed.

binutils/testsuite/

2011-09-15  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/13180
	* binutils-all/group-6.d: New.
	* binutils-all/group-6.s: Likewise.

	* binutils-all/objcopy.exp: Run group-6 for ELF targrts.
@
text
@d1 4
@


1.241.2.1
log
@	Apply from mainline.
	2011-09-28  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* binutils/testsuite/binutils-all/elfedit-4.d: Give test a unique name.
@
text
@a0 6
2011-09-28  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	Apply from mainline.
	2011-09-28  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* binutils-all/elfedit-4.d: Give test a unique name.

@


1.240
log
@Add initial Intel K1OM support.

bfd/

2011-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (ALL_MACHINES): Add cpu-k1om.lo.
	(ALL_MACHINES_CFILES): Add cpu-k1om.c.
	* Makefile.in: Regenerated.

	* archures.c (bfd_architecture): Add bfd_arch_k1om.
	(bfd_k1om_arch): New.
	(bfd_archures_list): Add &bfd_k1om_arch.
	* bfd-in2.h: Regenerated.

	* config.bfd (targ64_selvecs): Add bfd_elf64_k1om_vec if
	bfd_elf64_x86_64_vec is supported.  Add bfd_elf64_k1om_freebsd_vec
	if bfd_elf64_x86_64_freebsd_vec is supported.
	(targ_selvecs): Likewise.

	* configure.in: Support bfd_elf64_k1om_vec and
	bfd_elf64_k1om_freebsd_vec.
	* configure: Regenerated.

	* cpu-k1om.c: New.

	* elf64-x86-64.c (elf64_k1om_elf_object_p): New.
	(bfd_elf64_k1om_vec): Likewise.
	(bfd_elf64_k1om_freebsd_vec): Likewise.

	* targets.c (bfd_elf64_k1om_vec): New.
	(bfd_elf64_k1om_freebsd_vec): Likewise.
	(_bfd_target_vector): Add bfd_elf64_k1om_vec and
	bfd_elf64_k1om_freebsd_vec.

binutils/

2011-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* dwarf.c (init_dwarf_regnames): Handle EM_K1OM.

	* elfedit.c (elf_machine): Support EM_K1OM.
	(elf_class): Likewise.

	* readelf.c (guess_is_rela): Handle EM_K1OM.
	(dump_relocations): Likewise.
	(get_machine_name): Likewise.
	(get_section_type_name): Likewise.
	(get_elf_section_flags): Likewise.
	(process_section_headers): Likewise.
	(get_symbol_index_type): Likewise.
	(is_32bit_abs_reloc): Likewise.
	(is_32bit_pcrel_reloc): Likewise.
	(is_64bit_abs_reloc): Likewise.
	(is_64bit_pcrel_reloc): Likewise.
	(is_none_reloc): Likewise.

	* doc/binutils.texi: Mention K1OM for elfedit.

binutils/testsuite/

2011-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/elfedit.exp: Run elfedit-4.

	* binutils-all/elfedit-4.d: New.

gas/

2011-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (cpu_arch): Add k1om.
	(i386_align_code): Handle PROCESSOR_K1OM.
	(check_cpu_arch_compatible): Check EM_K1OM.
	(i386_arch): Handle Intel K1OM.
	(i386_mach): Return bfd_mach_k1om for Intel K1OM.
	(i386_target_format): Return ELF_TARGET_K1OM_FORMAT for Intel
	K1OM.

	* config/tc-i386.h (ELF_TARGET_K1OM_FORMAT): New.
	(processor_type): Add PROCESSOR_K1OM.

	* doc/c-i386.texi: Document k1om.

gas/testsuite/

2011-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/k1om.d: New.
	* gas/i386/k1om-inval.l: Likewise.
	* gas/i386/k1om-inval.s: Likewise.

	* gas/i386/i386.exp: Run k1om-inval and k1om.

include/elf/

2011-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* common.h (EM_K1OM): New.

ld/

2011-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (ALL_64_EMULATIONS): Add eelf_k1om.o and
	eelf_k1om_fbsd.o
	(eelf_k1om.c): New.
	(eelf_k1om_fbsd.c): Likewise.
	* Makefile.in: Regenerated.

	* configure.tgt (targ64_extra_emuls): Add elf_k1om if elf_x86_64
	is supported.  Add elf_k1om_fbsd if elf_x86_64_fbsd is supported.
	(targ_extra_emuls): Likewise.

	* emulparams/elf_k1om.sh: New.
	* emulparams/elf_k1om_fbsd.sh: Likewise.

ld/testsuite/

2011-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* ld-x86-64/abs-k1om.d: New.
	* ld-x86-64/protected2-k1om.d: Likewise.
	* ld-x86-64/protected3-k1om.d: Likewise.

	* ld-x86-64/x86-64.exp: Run abs-k1om, protected2-k1om and
	protected3-k1om.

opcodes/

2011-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* configure.in: Handle bfd_k1om_arch.
	* configure: Regenerated.

	* disassemble.c (disassembler): Handle bfd_k1om_arch.

	* i386-dis.c (print_insn): Handle bfd_mach_k1om and
	bfd_mach_k1om_intel_syntax.

	* i386-gen.c (cpu_flag_init): Set CPU_UNKNOWN_FLAGS to
	~(CpuL1OM|CpuK1OM).  Add CPU_K1OM_FLAGS.
	(cpu_flags): Add CpuK1OM.

	* i386-opc.h (CpuK1OM): New.
	(i386_cpu_flags): Add cpuk1om.

	* i386-init.h: Regenerated.
	* i386-tbl.h: Likewise.
@
text
@d1 8
@


1.239
log
@	* binutils-all/objcopy.exp (strip_test, strip_executable):
	On ELF targets, test that OS/ABI is preserved.
	(copy_setup): Do test on tic6x-*-uclinux.
@
text
@d1 6
@


1.238
log
@Fix misc x32 bugs.

bfd/

2011-06-19  H.J. Lu  <hongjiu.lu@@intel.com>

	* elf64-x86-64.c (elf_backend_post_process_headers): Defined
	for x32.

binutils/testsuite/

2011-06-19  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/elfedit-1.d: Updated for x32.

gas/

2011-06-19  H.J. Lu  <hongjiu.lu@@intel.com>

	* configure.tgt: Support x32.

ld/

2011-06-19  H.J. Lu  <hongjiu.lu@@intel.com>

	* configure.tgt: Support x32.

ld/testsuite/

2011-06-19  H.J. Lu  <hongjiu.lu@@intel.com>

	* ld-elf/eh1.d: Skip x32.
	* ld-elf/eh2.d: Likewise.
	* ld-elf/eh3.d: Likewise.
	* ld-elf/eh4.d: Likewise.

	* ld-elfvsb/elfvsb.exp: Only xfail 64bit x86_64-*-linux*.
	* ld-shared/shared.exp: Likewise.

	* ld-ifunc/ifunc-1-local-x86.d: Support x32.
	* ld-ifunc/ifunc-1-x86.d: Likewise.
	* ld-ifunc/ifunc-3a-x86.d: Likewise.
	* ld-x86-64/pcrel16.d: Likewise.

	* ld-x86-64/x86-64.exp (x86_64tests): Add missing -melf_x86_64.
@
text
@d1 6
@


1.237
log
@	PR binutils/12753
	* nm.c (filter_symbols): Treat unique symbols as global symbols.
	* doc/binutils.texi (nm): Mention that some lowercase letters
	actually indicate global symbols.

	* lib/utils-lib.exp (run_dump_test): Allow nm as a program.
	* binutils-all/nm.exp: Test running "nm -g" on an object file
	containing a unique symbol.
@
text
@d1 4
@


1.236
log
@	* binutils-all/objcopy.exp objcopy_text): Remove xfails for sh-rtems
	and tic4x.
@
text
@d1 7
@


1.235
log
@Add testcases for "ar -d" and "ar -m".

2011-05-02  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/12720
	* binutils-all/ar.exp (delete_an_element): New.
	(move_an_element): Likewise.
	Run delete_an_element and move_an_element.
@
text
@d1 5
@


1.234
log
@Update binutils-all/x86-64/compressed-1a.d.

2011-04-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/x86-64/compressed-1a.d: Adjust for change in output
	format.
@
text
@d1 7
@


1.233
log
@	* binutils-all/i386/compressed-1a.d: Adjust for change in output
	format.
@
text
@d1 5
@


1.232
log
@	* NEWS: Add note about --dwarf-depth, --dwarf-start, and
	dwarf-mode.el.
	* objdump.c (suppress_bfd_header): New global.
	(usage): Update.
	(OPTION_DWARF_DEPTH, OPTION_DWARF_START): New constants.
	(options): Add dwarf-depth and dwarf-start entries.
	(dump_bfd): Use suppress_bfd_header.
	(main): Handle OPTION_DWARF_START, OPTION_DWARF_DEPTH.
	* doc/binutils.texi (objcopy): Document --dwarf-depth and
	--dwarf-start.
	(readelf): Likewise.
	* dwarf-mode.el: New file.
	* dwarf.c (dwarf_cutoff_level, dwarf_start_die): New globals.
	(read_and_display_attr_value): Also check debug_info_p.
	(process_debug_info): Handle dwarf_start_die and
	dwarf_cutoff_level.
	* dwarf.h (dwarf_cutoff_level, dwarf_start_die): Declare.
	* readelf.c (usage): Update.
	(OPTION_DWARF_DEPTH): New macro.
	(OPTION_DWARF_START): Likewise.
	(options): Add dwarf-depth and dwarf-start entries.
	(parse_args): Handle OPTION_DWARF_START and OPTION_DWARF_DEPTH.
testsuite
	* binutils-all/objdump.W: Correct output.
@
text
@d1 5
@


1.231
log
@	* windres.c (usage): Add new --preprocessor-arg option.
	(option_values): Add new OPTION_PREPROCESSOR_ARG enumerator.
	(option long_options): Add preprocessor-arg option.
	(main): Handle it.
	* doc/binutils.texi: Add documentation for --preprocessor-arg
	option.
	* NEWS: Add line about new --preprocessor-arg option for windres.

	* binutils-all/windres/windres.exp: Add '// cpparg <option>' command
	to rc file interpretation to specify addition pre-processor commands
	as script option.
	* binutils-all/windres/strtab3.rc: New.
	* binutils-all/windres/strtab3.rsd: New.
	* binutils-all/windres/README: Add note about cpparg script option.
	argument
@
text
@d1 4
@


1.230
log
@	* binutils-all/arm/simple.s: Fix assembly problems for COFF based
	ARM toolchaisn by removing .type and .size directives.
@
text
@d1 10
@


1.229
log
@2011-04-07  Paul Carroll<pcarroll@@codesourcery.com>

	opcodes/
	* arm-dis.c (print_insn): init vars moved into private_data structure.

	binutils/testsuite/
	* binutils-all/arm/simple.s: Demo issue with objdump with
	multiple input files
	* binutils-all/arm/objdump.exp: added new ARM test case code
@
text
@d1 5
@


1.228
log
@bfd:
	* config.bfd (thumb-*-oabi): Don't handle in list of obsolete
	targets.
	(strongarm*, thumb*, xscale*): Remove architectures.
	(strongarm-*-kaos*, thumb-*-coff, thumb-*-elf, thumb-epoc-pe*,
	thumb-*-pe*, strongarm-*-elf, strongarm-*-coff, xscale-*-elf,
	xscale-*-coff): Remove targets.

binutils:
	* configure.in (thumb-*-pe*): Remove.
	* configure: Regenerate.

binutils/testsuite:
	* binutils-all/objcopy.exp (*arm*-*-coff): Change to arm*-*-coff.
	(xscale-*-coff, thumb*-*-coff, thumb*-*-pe): Don't handle.

gas:
	* configure.tgt (strongarm*be, strongarm*b, strongarm*,
	xscale*be|xscale*b, xscale*): Remove architectures.
	(thumb-*-coff, thumb-*-rtems*, thumb-*-elf, thumb-epoc-pe,
	thumb-*-pe, xscale-*-coff, xscale-*-elf): Remove targets.

gas/testsuite:
	* gas/all/gas.exp (*arm*-*-coff): Change to arm*-*-coff.
	(thumb*-*-coff, thumb*-*-pe*): Don;t handle.
	* gas/arm/arm.exp (*arm*-*-*): Change to arm*-*-*.
	(*xscale*-*-*): Don't handle.
	* gas/cfi/cfi.exp (xscale*-*): Don't handle.
	* gas/elf/elf.exp (*arm*-*-*): Change to arm*-*-*.
	(xscale*-*-*): Don't handle.

ld:
	* configure.tgt (thumb-*-linux-* | thumb-*-uclinux*,
	strongarm-*-coff, strongarm-*-elf, strongarm-*-kaos*,
	thumb-*-coff, thumb-*-elf, thumb-epoc-pe, thumb-*-pe,
	xscale-*-coff, xscale-*-elf): Remove targets.

ld/testsuite:
	* ld-selective/selective.exp (xscale-*-*): Don't handle.
	* ld-srec/srec.exp (strongarm*-*-*, xscale*-*-*, thumb-*-*): Don't
	handle.
	(*arm*-*-*): Change to arm*-*-*.
	(strongarm*-*-coff, xscale*-*-coff, thumb-*-coff*, thumb-*-pe*,
	thumb-*-elf*, strongarm*-*-*, thumb-*-*): Remove xfails.
	* ld-undefined/undefined.exp (thumb*-*-pe*, thumb*-*-pe*): Remove
	commented-out xfails.
	(thumb-elf): Remove reference in comment.
	* lib/ld-lib.exp (strongarm*-*-*, xscale*-*-*, thumb-*-*): Don't
	handle.
@
text
@d1 6
@


1.227
log
@include/elf/
	* tic6x.h (R_C6000_JUMP_SPLOT, R_C6000_EHTYPE,
	R_C6000_PCR_H16, R_C6000_PCR_L16): New relocs.
	(SHN_TIC6X_SCOMMON): Define.

bfd/
	* elf32-tic6x.h (struct elf32_tic6x_params): New.
	(elf32_tic6x_setup): Declare.
	* elf32-tic6x.c: Include <limits.h>.
	(ELF_DYNAMIC_LINKER, DEFAULT_STACK_SIZE, PLT_ENTRY_SIZE): Define.
	(struct elf32_tic6x_link_hash_table, struct elf32_link_hash_entry):
	New structures.
	(elf32_tic6x_link_hash_table, is_tic6x_elf): New macros.
	(tic6x_elf_scom_section, tic6x_elf_scom_symbol,
	tic6x_elf_scom_symbol_ptr): New static variables.
	(elf32_tic6x_howto_table, elf32_tic6x_howto_table_rel,
	elf32_tic6x_reloc_map): Add R_C6000_JUMP_SLOT, R_C6000_EHTYPE,
	R_C6000_PCR_H16 and R_C6000_PCR_L16.
	(elf32_tic6x_link_hash_newfunc, elf32_tic6x_link_hash_table_create,
	elf32_tic6x_link_hash_table_free, elf32_tic6x_setup,
	elf32_tic6x_using_dsbt, elf32_tic6x_install_rela,
	elf32_tic6x_create_dynamic_sections, elf32_tic6x_make_got_dynreloc,
	elf32_tic6x_finish_dynamic_symbol, elf32_tic6x_gc_sweep_hook,
	elf32_tic6x_adjust_dynamic_symbol): New static functions.
	(elf32_tic6x_relocate_section): For R_C6000_PCR_S21, convert branches
	to weak symbols as required by the ABI.
	Handle GOT and DSBT_INDEX relocs, and copy relocs to the output file
	as needed when generating DSBT output.
	(elf32_tic6x_check_relocs, elf32_tic6x_add_symbol_hook,
	elf32_tic6x_symbol_processing, elf32_tic6x_section_from_bfd_section,
	elf32_tic6x_allocate_dynrelocs, elf32_tic6x_size_dynamic_sections,
	elf32_tic6x_always_size_sections, elf32_tic6x_modify_program_headers,
	elf32_tic6x_finish_dynamic_sections, elf32_tic6x_plt_sym_val,
	elf32_tic6x_copy_private_data, elf32_tic6x_link_omit_section_dynsym):
	New static functions.
	(ELF_MAXPAGESIZE): Define to 0x1000.
	(bfd_elf32_bfd_copy_private_bfd_data,
	bfd_elf32_bfd_link_hash_table_create,
	bfd_elf32_bfd_link_hash_table_free, elf_backend_can_refcount,
	elf_backend_want_got_plt, elf_backend_want_dynbss,
	elf_backend_plt_readonly, elf_backend_got_header_size,
	elf_backend_gc_sweep_hook, elf_backend_modify_program_headers,
	elf_backend_create_dynamic_sections, elf_backend_adjust_dynamic_symbol,
	elf_backend_check_relocs, elf_backend_add_symbol_hook,
	elf_backend_symbol_processing, elf_backend_link_output_symbol_hook,
	elf_backend_section_from_bfd_section,
	elf_backend_finish_dynamic_symbol, elf_backend_always_size_sections,
	elf32_tic6x_size_dynamic_sections, elf_backend_finish_dynamic_sections,
	elf_backend_omit_section_dynsym, elf_backend_plt_sym_val): Define.

	* bfd/reloc.c (BFD_RELOC_C6000_JUMP_SLOT, BFD_RELOC_C6000_EHTYPE,
	BFD_RELOC_C6000_PCR_H16, BFD_RELOC_C6000_PCR_S16): Add.
	* bfd/bfd-in2.h: Regenerate.
	* bfd/libbfd.h: Regenerate.
	* config.bfd: Accept tic6x-*-* instead of tic6x-*-elf.

gas/
	* config/tc-tic6x.c (sbss_section, scom_section, scom_symbol): New
	static variables.
	(md_begin): Initialize them.
	(s_tic6x_scomm): New static function.
	(md_pseudo_table): Add "scomm".
	(tc_gen_reloc): Really undo all adjustments made by
	bfd_install_relocation.
	* doc/c-tic6x.texi: Document the .scomm directive.

gas/testsuite/
	* gas/tic6x/scomm-directive-1.s: New test.
	* gas/tic6x/scomm-directive-1.d: New test.
	* gas/tic6x/scomm-directive-2.s: New test.
	* gas/tic6x/scomm-directive-2.d: New test.
	* gas/tic6x/scomm-directive-3.s: New test.
	* gas/tic6x/scomm-directive-3.d: New test.
	* gas/tic6x/scomm-directive-4.s: New test.
	* gas/tic6x/scomm-directive-4.d: New test.
	* gas/tic6x/scomm-directive-5.s: New test.
	* gas/tic6x/scomm-directive-5.d: New test.
	* gas/tic6x/scomm-directive-6.s: New test.
	* gas/tic6x/scomm-directive-6.d: New test.
	* gas/tic6x/scomm-directive-7.s: New test.
	* gas/tic6x/scomm-directive-7.d: New test.
	* gas/tic6x/scomm-directive-8.s: New test.
	* gas/tic6x/scomm-directive-8.d: New test.

ld/
	* emulparams/elf32_tic6x_le.sh (BIG_OUTPUT_FORMAT, EXTRA_EM_FILE,
	GENERATE_SHLIB_SCRIPT): New defines.
	(TEXT_START_ADDR): Define differently depending on target.
	(.got): Redefine to include "*(.dsbt)".
	(SDATA_START_SYMBOLS): Remove, replace with
	(OTHER_GOT_SYMBOLS): New.
	(OTHER_BSS_SECTIONS): Define only for ELF targets.
	* emultempl/tic6xdsbt.em: New file.
	* gen-doc.texi: Set C6X.
	* ld.texinfo: Likewise.
	(Options specific to C6X uClinux targets): New section.

binutils/
	* readelf.c (get_symbol_index_type): Handle SCOM for TIC6X.
	(dump_relocations): Likewise.

binutils/testsuite/
	* lib/binutils-common.exp (is_elf_format): Accept tic6x*-*-uclinux*.

ld/testsuite/
	* ld-scripts/crossref.exp: Add CFLAGS for tic6x*-*-*.
	* ld-elf/sec-to-seg.exp: Remove tic6x from list of targets defining
	pagesize to 1.
	* ld-tic6x/tic6x.exp: Add support for DSBT shared library/executable
	linking tests.
	* ld-tic6x/dsbt.ld: New linker script.
	* ld-tic6x/dsbt-be.ld: New linker script.
	* ld-tic6x/dsbt-overflow.ld: New linker script.
	* ld-tic6x/dsbt-inrange.ld: New linker script.
	* ld-tic6x/shlib-1.s: New test.
	* ld-tic6x/shlib-2.s: New test.
	* ld-tic6x/shlib-app-1r.s: New test.
	* ld-tic6x/shlib-app-1.s: New test.
	* ld-tic6x/shlib-1.sd: New test.
	* ld-tic6x/shlib-1.dd: New test.
	* ld-tic6x/shlib-app-1.rd: New test.
	* ld-tic6x/shlib-app-1rb.rd: New test.
	* ld-tic6x/shlib-app-1.sd: New test.
	* ld-tic6x/static-app-1rb.od: New test.
	* ld-tic6x/shlib-app-1.dd: New test.
	* ld-tic6x/shlib-app-1rb.sd: New test.
	* ld-tic6x/static-app-1b.od: New test.
	* ld-tic6x/static-app-1r.od: New test.
	* ld-tic6x/shlib-1rb.rd: New test.
	* ld-tic6x/shlib-app-1rb.dd: New test.
	* ld-tic6x/shlib-1rb.sd: New test.
	* ld-tic6x/shlib-1rb.dd: New test.
	* ld-tic6x/shlib-app-1b.od: New test.
	* ld-tic6x/tic6x.exp: New test.
	* ld-tic6x/static-app-1rb.rd: New test.
	* ld-tic6x/shlib-app-1r.od: New test.
	* ld-tic6x/static-app-1.od: New test.
	* ld-tic6x/static-app-1b.rd: New test.
	* ld-tic6x/static-app-1r.rd: New test.
	* ld-tic6x/static-app-1rb.sd: New test.
	* ld-tic6x/static-app-1b.sd: New test.
	* ld-tic6x/static-app-1rb.dd: New test.
	* ld-tic6x/static-app-1r.sd: New test.
	* ld-tic6x/static-app-1b.dd: New test.
	* ld-tic6x/shlib-1b.rd: New test.
	* ld-tic6x/static-app-1r.dd: New test.
	* ld-tic6x/shlib-app-1b.rd: New test.
	* ld-tic6x/shlib-1r.rd: New test.
	* ld-tic6x/shlib-app-1r.rd: New test.
	* ld-tic6x/shlib-1b.sd: New test.
	* ld-tic6x/static-app-1.rd: New test.
	* ld-tic6x/shlib-app-1b.sd: New test.
	* ld-tic6x/shlib-1r.sd: New test.
	* ld-tic6x/shlib-1b.dd: New test.
	* ld-tic6x/shlib-app-1r.sd: New test.
	* ld-tic6x/shlib-app-1b.dd: New test.
	* ld-tic6x/shlib-1r.dd: New test.
	* ld-tic6x/static-app-1.sd: New test.
	* ld-tic6x/shlib-app-1r.dd: New test.
	* ld-tic6x/static-app-1.dd: New test.
	* ld-tic6x/shlib-noindex.rd: New test.
	* ld-tic6x/shlib-noindex.dd: New test.
	* ld-tic6x/shlib-noindex.sd: New test.
	* ld-tic6x/got-reloc-local-1.s: New test.
	* ld-tic6x/got-reloc-local-2.s: New test.
	* ld-tic6x/got-reloc-local-r.d: New test.
	* ld-tic6x/got-reloc-global.s: New test.
	* ld-tic6x/got-reloc-global-addend-1.d: New test.
	* ld-tic6x/got-reloc-global-addend-1.s: New test.
	* ld-tic6x/got-reloc-global-addend-2.d: New test.
	* ld-tic6x/got-reloc-inrange.d: New test.
	* ld-tic6x/got-reloc-overflow.d: New test.
	* ld-tic6x/got-reloc-global-addend-2.s: New test.
	* ld-tic6x/dsbt-index-error.d: New test.
	* ld-tic6x/dsbt-index.d: New test.
	* ld-tic6x/dsbt-index.s: New test.
	* ld-tic6x/shlib-app-1.od: New test.
	* ld-tic6x/shlib-app-1rb.od: New test.
	* ld-tic6x/shlib-1.rd: New test.
	* ld-tic6x/weak.d: New test.
	* ld-tic6x/weak-be.d: New test.
	* ld-tic6x/weak.s: New test.
 	* ld-tic6x/weak-data.d: New test.
	* ld-tic6x/common.d: New test.
	* ld-tic6x/common.ld: New test.
	* ld-tic6x/common.s: New test.
@
text
@d1 5
@


1.226
log
@	* lib/binutils-common.exp (regexp_diff): Use "==" instead of "eq".
@
text
@d1 4
@


1.225
log
@	* binutils-all/copy-2.d: Change "hppa" to "hppa*" in not-target list.
	* binutils-all/copy-3.d: Add hppa*-*-hpux* to not-target list.
	* binutils-all/objcopy.exp (reverse-bytes): xfail on 32-bit hpux.
@
text
@d1 4
@


1.224
log
@bfd/
2010-12-23  Robert Millan  <rmh@@gnu.org>

	* config.bfd: Recognize mips-freebsd and mips-kfreebsd-gnu.
	* configure.host: Likewise.
	* configure.in: Support for `bfd_elf32_ntradbigmips_freebsd_vec',
	`bfd_elf32_ntradlittlemips_freebsd_vec',
	`bfd_elf32_tradbigmips_freebsd_vec',
	`bfd_elf32_tradlittlemips_freebsd_vec',
	`bfd_elf64_tradbigmips_freebsd_vec' and
	`bfd_elf64_tradlittlemips_freebsd_vec'.
	* configure: Regenerate.
	* elf32-mips.c: New target for FreeBSD support
	(same as traditional MIPS but overrides ELF_OSABI
	with ELFOSABI_FREEBSD).
	* elf64-mips.c: Likewise.
	* elfn32-mips.c: Likewise.
	* targets.c (_bfd_target_vector): Add
	`bfd_elf32_ntradbigmips_freebsd_vec',
	`bfd_elf32_ntradlittlemips_freebsd_vec',
	`bfd_elf32_tradbigmips_freebsd_vec',
	`bfd_elf32_tradlittlemips_freebsd_vec',
	`bfd_elf64_tradbigmips_freebsd_vec' and
	`bfd_elf64_tradlittlemips_freebsd_vec'.

ld/
2010-12-14  Robert Millan  <rmh@@gnu.org>

	* configure.tgt: Recognize mips-freebsd and mips-kfreebsd-gnu.

	* emulparams/elf32btsmip_fbsd.sh: New file.
	* emulparams/elf32btsmipn32_fbsd.sh: Likewise.
	* emulparams/elf32ltsmip_fbsd.sh: Likewise.
	* emulparams/elf32ltsmipn32_fbsd.sh: Likewise.
	* emulparams/elf64btsmip_fbsd.sh: Likewise.
	* emulparams/elf64ltsmip_fbsd.sh: Likewise.

	* Makefile.am: Add build rules for `eelf32btsmip_fbsd.c',
	`eelf32btsmipn32_fbsd.c', `eelf32ltsmip_fbsd.c',
	`eelf32ltsmipn32_fbsd.c', `eelf64btsmip_fbsd.c' and
	`eelf64ltsmip_fbsd.c'.
	* Makefile.in: Regenerate.

gas/
2010-12-19  Robert Millan  <rmh@@gnu.org>
	    Richard Sandiford  <rdsandiford@@googlemail.com>

	* config/tc-mips.c (ELF_TARGET): New macro.  Generates target
	names accordingly to whether TE_FreeBSD and whether TE_TMIPS
	are defined.
	(mips_target_format): Refactor code using ELF_TARGET().
	(support_64bit_objects): Likewise.

	* configure.in: Recognize mips-freebsd and mips-kfreebsd-gnu.
	* configure.tgt: Likewise.
	* configure: Regenerate.

binutils/testsuite/
	* binutils-all/readelf.exp: Handle MIPS FreeBSD targets.

gas/testsuite/
	* gas/mips/e32el-rel2.d: Accept any file format.
	* gas/mips/elf-rel.d: Likewise.
	* gas/mips/elf-rel2.d: Likewise.
	* gas/mips/elf-rel3.d: Likewise.
	* gas/mips/elfel-rel.d: Likewise.
	* gas/mips/elfel-rel2.d: Likewise.
	* gas/mips/elfel-rel3.d: Likewise.
	* gas/mips/ldstla-32-mips3-shared.d: Likewise.
	* gas/mips/ldstla-32-mips3.d: Likewise.
	* gas/mips/ldstla-32-shared.d: Likewise.
	* gas/mips/ldstla-32.d: Likewise.
	* gas/mips/ldstla-n64-shared.d: Likewise.
	* gas/mips/ldstla-n64.d: Likewise.
	* gas/mips/noat-1.d: Likewise.
	* gas/mips/set-arch.d: Likewise.
	* gas/mips/tls-o32.d: Likewise.

ld/testsuite/
	* ld-mips-elf/mips-elf-flags.exp: Handle FreeBSD targets.
	* ld-mips-elf/mips-elf.exp: Likewise.
	* ld-mips-elf/mips16-call-global.d: Accept any file format.
	* ld-mips-elf/mips16-intermix.d: Likewise.
@
text
@d1 6
@


1.223
log
@	gas/
	* config/tc-mips.c (file_ase_mips16): Adjust comment.
	(append_insn): Update file_ase_mips16.
	(mips_after_parse_args): Don't set file_ase_mips16 here.

	gas/testsuite/
	* gas/mips/elf_ase_mips16.d: Update test for new MIPS16 ASE flag
	semantics.
	* gas/mips/elf_ase_mips16-2.d: New test.
	* gas/mips/nop.s: Source for the new test.
	* gas/mips/mips.exp: Run the new test.

	binutils/testsuite/
	* lib/binutils-common.exp (regexp_diff): Implement inverse
	matching, requested by `!'.
@
text
@d1 4
@


1.222
log
@binutils/testsuite/
	* lib/binutils-common.exp (regexp_diff): New procedure.
	* lib/utils-lib.exp (regexp_diff): Delete.

gas/testsuite/
	* lib/gas-defs.exp (regexp_diff): Delete.
	(run_dump_test): Remove final "" argument in call to regexp_diff.
	(run_list_test): Likewise.
	(run_list_test_stdin): Likewise.
	* gas/all/gas.exp (test_cond): Likewise.
	* gas/elf/elf.exp (run_elf_list_test): Likewise.
	* gas/m68k/all.exp: Likewise.
	* gas/mep/complex-relocs.exp (regexp_test): Likewise.
	* gas/mt/relocs.exp (regexp_test): Likewise.
	* gas/symver/symver.exp (run_error_test): Likewise.

ld/testsuite/
	* lib/ld-lib.exp (regexp_diff, simple_diff): Delete.
@
text
@d1 5
@


1.221
log
@binutils/testsuite/
	* lib/binutils-common.exp: New file.
	* lib/utils-lib.exp (load_common_lib): New function.  Load
	binutils-common.exp.
	(is_elf_format): Delete.

gas/testsuite/
	* lib/gas-defs.exp (load_common_lib): New function.  Load
	binutils-common.exp.
	(is_elf_format, is_aout_format, is_pecoff_format): Delete.

ld/testsuite/
	* lib/ld-lib.exp (load_common_lib): New function.  Load
	binutils-common.exp.
	(is_elf_format, is_elf64, is_aout_format, is_pecoff_format): Delete.
@
text
@d3 5
@


1.220
log
@Use binutils_assemble_flags for --nocompress-debug-sections.

2010-11-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/compress.exp: Replace binutils_assemble with
	binutils_assemble_flags for --nocompress-debug-sections.
@
text
@d1 7
@


1.219
log
@Also expect .zdebug in DWARF debug section name.

binutils/testsuite/

2010-11-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/compress.exp: Pass --nocompress-debug-sections to
	assembler for uncompressed debug sections.

	* binutils-all/testranges.d: Also expect .zdebug in section name.

gas/testsuite/

2010-11-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/elf/dwarf2-3.d: Also expect .zdebug in section name.
	* gas/i386/debug1.d: Likewise.
	* gas/lns/lns-common-1.d: Likewise.
	* gas/lns/lns-duplicate.d: Likewise.
@
text
@d3 5
@


1.218
log
@Improve binutils testsuite coverage for GNU/Hurd.

binutils/testsuite/

	* lib/utils-lib.exp (is_elf_format): Consider for *-*-gnu*, too.
	* binutils-all/elfedit-2.d (target): Likewise.
	* binutils-all/elfedit-3.d (target): Likewise.
	* binutils-all/i386/i386.exp: Likewise.
	* binutils-all/objcopy.exp: Likewise.
	* binutils-all/strip-3.d (target): Likewise.

gas/testsuite/

	* lib/gas-defs.exp (is_elf_format): Consider for *-*-gnu*, too.
	* gas/elf/elf.exp: Likewise.
	* gas/symver/symver.exp: Likewise.

ld/

	* configure.host: Add stanza for *-*-gnu*.

ld/testsuite/

	* lib/ld-lib.exp (is_elf_format): Consider for *-*-gnu*, too.
	* ld-discard/discard.exp: Likewise.
	* ld-elf/binutils.exp: Likewise.
	* ld-elf/commonpage1.d (target): Likewise.
	* ld-elf/compress1c.d (target): Likewise.
	* ld-elf/discard1.d (target): Likewise.
	* ld-elf/discard2.d (target): Likewise.
	* ld-elf/discard3.d (target): Likewise.
	* ld-elf/dynsym1.d (target): Likewise.
	* ld-elf/eh6.d (target): Likewise.
	* ld-elf/elf.exp: Likewise.
	(array_tests): Move -static tests to...
	(array_tests_static): ... here, and handle it accordingly.
	* ld-elf/hash.d (target): Likewise.
	* ld-elf/header.d (target): Likewise.
	* ld-elf/loadaddr1.d (target): Likewise.
	* ld-elf/loadaddr2.d (target): Likewise.
	* ld-elf/loadaddr3a.d (target): Likewise.
	* ld-elf/loadaddr3b.d (target): Likewise.
	* ld-elf/local1.d (target): Likewise.
	* ld-elf/maxpage1.d (target): Likewise.
	* ld-elf/maxpage2.d (target): Likewise.
	* ld-elf/maxpage3a.d (target): Likewise.
	* ld-elf/multibss1.d (target): Likewise.
	* ld-elf/noload-2.d (target): Likewise.
	* ld-elf/seg.d (target): Likewise.
	* ld-elf/textaddr1.d (target): Likewise.
	* ld-elf/textaddr2.d (target): Likewise.
	* ld-elf/textaddr3.d (target): Likewise.
	* ld-elf/textaddr4.d (target): Likewise.
	* ld-elf/textaddr5.d (target): Likewise.
	* ld-elf/textaddr6.d (target): Likewise.
	* ld-elf/textaddr7.d (target): Likewise.
	* ld-elf/tls_common.exp: Likewise.
	* ld-elf/unknown2.d (target): Likewise.
	* ld-elfvers/vers.exp: Likewise.
	* ld-elfvsb/elfvsb.exp: Likewise.
	* ld-elfweak/elfweak.exp: Likewise.
	(setup_xfail_gnu_hurd): New function.  Use it where appropriate.
	* ld-gc/abi-note.d (target): Likewise.
	* ld-gc/gc.exp: Likewise.
	* ld-gc/pr11218.d (target): Likewise.
	* ld-gc/start.d (target): Likewise.
	* ld-i386/i386.exp: Likewise.
	* ld-ifunc/binutils.exp: Likewise.
	* ld-ifunc/ifunc.exp: Likewise.
	* ld-linkonce/linkonce.exp: Likewise.
	* ld-linkonce/zeroehl32.d (target): Likewise.
	* ld-pie/pie.exp: Likewise.
	* ld-scripts/phdrs2.exp: Likewise.
	* ld-scripts/rgn-at5.d (target): Likewise.
	* ld-shared/shared.exp: Likewise.
	* ld-undefined/entry-3.d (target): Likewise.
	* ld-undefined/entry-4.d (target): Likewise.
	* ld-undefined/weak-undef.exp: Likewise.
@
text
@d1 7
@


1.217
log
@bfd/
	* hash.c (bfd_hash_hash): Extract from..
	(bfd_hash_lookup): ..here.
	(bfd_hash_rename): New function.
	* section.c (bfd_rename_section): New function.
	* bfd-in.h (bfd_hash_rename): Declare.
	* bfd-in2.h: Regenerate.
	* elf.c (_bfd_elf_make_section_from_shdr): Rename input sections
	when compressing or decompressing.  Don't assert name match.
	* elf64-hppa.c (get_reloc_section): Don't assert name match.
	* elfxx-ia64.c (get_reloc_section): Likewise.
binutils/
	* objcopy.c (copy_main): No need to rename sections when compressing
	or decompressing.
binutils/testsuite/
	* binutils-all/objdump.W: Adjust expected result for debug section
	rename.
@
text
@d1 9
@


1.216
log
@Include compressed DWARF debug sections in ELF linker scripts.

binutils/testsuite/

2010-11-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/libdw2.out: Also accept MIPS_DWARF.

ld/

2010-11-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* scripttempl/armbpabi.sc: Include compressed DWARF debug
	sections.
	* scripttempl/avr.sc: Likewise.
	* scripttempl/elf32cr16.sc: Likewise.
	* scripttempl/elf32crx.sc: Likewise.
	* scripttempl/elf32msp430.sc: Likewise.
	* scripttempl/elf32msp430_3.sc: Likewise.
	* scripttempl/elf32sh-symbian.sc: Likewise.
	* scripttempl/elf64hppa.sc: Likewise.
	* scripttempl/elf_chaos.sc: Likewise.
	* scripttempl/elfd10v.sc: Likewise.
	* scripttempl/elfd30v.sc: Likewise.
	* scripttempl/elfi370.sc: Likewise.
	* scripttempl/elfm68hc11.sc: Likewise.
	* scripttempl/elfm68hc12.sc: Likewise.
	* scripttempl/elfxtensa.sc: Likewise.
	* scripttempl/ip2k.sc: Likewise.
	* scripttempl/iq2000.sc: Likewise.
	* scripttempl/mep.sc: Likewise.
	* scripttempl/mmo.sc: Likewise.
	* scripttempl/v850.sc: Likewise.
	* scripttempl/xstormy16.sc: Likewise.

ld/testsuite/

2010-11-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* ld-elf/compress1a.d: Also check MIPS_DWARF.
	* ld-elf/compress1b.d: Likewise.
	* ld-elf/compress1c.d: Likewise.
@
text
@d1 5
@


1.216.2.1
log
@backport from mainline
@
text
@a0 12
2011-02-01  Alan Modra  <amodra@@gmail.com>

	Backport from mainline
	2010-11-08  Alan Modra  <amodra@@gmail.com>
	* binutils-all/objdump.W: Adjust expected result for debug section
	rename.

2010-11-08  Alan Modra  <amodra@@gmail.com>

	* binutils-all/objdump.W: Adjust expected result for debug section
	rename.

@


1.216.2.2
log
@apply mainline testsuite fixes and tweaks
@
text
@a0 21
2011-02-10  Alan Modra  <amodra@@gmail.com>

	Apply from mainline
	2010-11-20  Richard Sandiford  <rdsandiford@@googlemail.com>
	* lib/binutils-common.exp (regexp_diff): New procedure.
	* lib/utils-lib.exp (regexp_diff): Delete.

	2010-11-20  Richard Sandiford  <rdsandiford@@googlemail.com>
	* lib/binutils-common.exp: New file.
	* lib/utils-lib.exp (load_common_lib): New function.  Load
	binutils-common.exp.
	(is_elf_format): Delete.

	2010-11-08  Thomas Schwinge  <thomas@@schwinge.name>
	* lib/utils-lib.exp (is_elf_format): Consider for *-*-gnu*, too.
	* binutils-all/elfedit-2.d (target): Likewise.
	* binutils-all/elfedit-3.d (target): Likewise.
	* binutils-all/i386/i386.exp: Likewise.
	* binutils-all/objcopy.exp: Likewise.
	* binutils-all/strip-3.d (target): Likewise.

@


1.216.2.3
log
@	PR 12365
	PR 12613
	PR 12632
	PR 12739
	PR 12753
	PR 12760
	PR 12763
Apply fix from mainline along with assorted other small fixes.
@
text
@a0 9
2011-05-29  Alan Modra  <amodra@@gmail.com>

	Apply from mainline
	2011-05-18  Nick Clifton  <nickc@@redhat.com>
	PR binutils/12753
	* lib/utils-lib.exp (run_dump_test): Allow nm as a program.
	* binutils-all/nm.exp: Test running "nm -g" on an object file
	containing a unique symbol.

@


1.215
log
@Add compressed debug section support to binutils and ld.

bfd/

2010-10-29  H.J. Lu  <hongjiu.lu@@intel.com>
	    Cary Coutant  <ccoutant@@google.com>

	* archive.c (bfd_openr_next_archived_file): Copy BFD_COMPRESS
	and BFD_DECOMPRESS.

	* bfd.c (BFD_COMPRESS): New.
	(BFD_DECOMPRESS): Likewise.
	(BFD_FLAGS_SAVED): Likewise.
	(bfd_preserve_save): Replace BFD_IN_MEMORY with BFD_FLAGS_SAVED.

	* compress.c (bfd_uncompress_section_contents): Removed.
	(get_uncompressed_size): New.
	(decompress_contents): Likewise.
	(bfd_compress_section_contents): Likewise.
	(bfd_get_full_section_contents): Likewise.
	(bfd_is_section_compressed): Likewise.
	(bfd_init_section_decompress_status): Likewise.
	(bfd_init_section_compress_status): Likewise.

	* dwarf2.c (dwarf_debug_sections): New.
	(dwarf_debug_section_enum): Likewise.
	(read_section): Remove section_name and compressed_section_name.
	Add dwarf_debug_section_enum.  Try compressed debug section.
	(read_indirect_string): Updated.
	(read_abbrevs): Likewise.
	(decode_line_info): Likewise.
	(read_debug_ranges): Likewise.
	(find_line): Updated.

	* ecoff.c (bfd_debug_section): Add compress_status and
	compressed_size.

	* elf.c (_bfd_elf_make_section_from_shdr): Call
	bfd_is_section_compressed to check if a DWARF debug section is
	compressed.  Call bfd_init_section_compress_status or
	bfd_init_section_decompress_status if needed.

	* elflink.c (elf_link_input_bfd): Replace bfd_get_section_contents
	with bfd_get_full_section_contents.
	* merge.c (_bfd_add_merge_section): Likewise.
	* reloc.c (bfd_generic_get_relocated_section_contents): Likewise.
	* simple.c (bfd_simple_get_relocated_section_contents): Likewise.

	* elfxx-target.h (TARGET_BIG_SYM): Allow BFD_COMPRESS and
	BFD_DECOMPRESS.
	(TARGET_LITTLE_SYM): Likewise.

	* libbfd-in.h (dwarf_debug_section): New.
	(dwarf_debug_sections): Likewise.

	* libbfd.c (_bfd_generic_get_section_contents): Issue an error
	when getting contents on compressed/decompressed section.

	* section.c (COMPRESS_SECTION_NONE): New.
	(COMPRESS_SECTION_DONE): Likewise.
	(DECOMPRESS_SECTION_SIZED): Likewise.
	(BFD_FAKE_SECTION): Add compress_status and compressed_size.
	(bfd_malloc_and_get_section): Replace bfd_get_section_contents
	with bfd_get_full_section_contents.

	* bfd-in2.h: Regenerated.
	* libbfd.h: Likewise.

binutils/

2010-10-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* addr2line.c (process_file): Set BFD_DECOMPRESS.

	* objcopy.c (do_debug_sections): New.
	(OPTION_COMPRESS_DEBUG_SECTIONS): New.
	(OPTION_DECOMPRESS_DEBUG_SECTIONS): Likewise.
	(copy_options): Add OPTION_COMPRESS_DEBUG_SECTIONS and
	OPTION_DECOMPRESS_DEBUG_SECTIONS.
	(copy_usage): Add --compress-debug-sections and
	--decompress-debug-sections.
	(copy_file): Set BFD_COMPRESS or BFD_DECOMPRESS.
	(copy_section): Replace bfd_get_section_contents with
	bfd_get_full_section_contents.
	(copy_main): Handle OPTION_COMPRESS_DEBUG_SECTIONS and
	OPTION_DECOMPRESS_DEBUG_SECTIONS.  Check do_debug_sections to
	rename DWARF debug sections.

	* objdump.c (load_specific_debug_section): Replace
	bfd_get_section_contents with bfd_get_full_section_contents.
	Remove bfd_uncompress_section_contents.
	(dump_section): Replace bfd_get_section_contents with
	bfd_get_full_section_contents.
	(display_file): Set BFD_DECOMPRESS if needed.

	* readelf.c (uncompress_section_contents): Set buffer to NULL
	to indiate decompression failure.
	(load_specific_debug_section): Always call
	uncompress_section_contents.

	* doc/binutils.texi: Document --compress-debug-sections and
	--decompress-debug-sections.

binutils/testsuite/

2010-10-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/compress.exp: New.
	* binutils-all/dw2-1.S: Likewise.
	* binutils-all/dw2-2.S: Likewise.
	* binutils-all/libdw2-compressed.out: Likewise.
	* binutils-all/libdw2.out: Likewise.

gas/

2010-10-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* write.c (compress_debug): Optimize section flags check.

gas/testsuite/

2010-10-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* elf/dwarf2-1.s: Replace .zdebug_abbrev section with
	.debug_abbrev section.
	* elf/dwarf2-2.3: Likewise.

	* elf/dwarf2-1.d: Pass --compress-debug-sections to assembler.
	Updated.
	* elf/dwarf2-2.d: Likewise.

	* gas/i386/i386.exp: Remove xfail on dw2-compress-2 and
	x86-64-dw2-compress-2.

ld/

2010-10-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* ldfile.c (ldfile_try_open_bfd): Set BFD_DECOMPRESS after
	bfd_openr returns.
	* emultempl/elf32.em (gld${EMULATION_NAME}_try_needed): Likewise.

	* scripttempl/elf.sc: Include compressed DWARF debug sections.

ld/testsuite/

2010-10-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* ld-elf/compress.exp: New.
	* ld-elf/compress1.s: Likewise.
	* ld-elf/compress1a.d: Likewise.
	* ld-elf/compress1b.d: Likewise.
	* ld-elf/compress1c.d: Likewise.
@
text
@d1 4
@


1.214
log
@2010-10-23  Mark Mitchell  <mark@@codesourcery.com>

	* config/obj-elf.c (elf_adjust_symtab): New.  Move group section
	processing here from elf_frob_file.  Ensure that group signature
	symbols have the name of the group.
	(elf_frob_file): Move group section processing to
	elf_adjust_symtab.
	* config/obj-elf.h (elf_adjust_symtab): Declare.
	(obj_adjust_symtab): Define.
	* config/tc-arm.c (arm_adjust_symtab): Call elf_adjust_symtab.

2010-10-23  Mark Mitchell  <mark@@codesourcery.com>

	* gas/elf/elf.exp: Add group0c test.
	* gas/elf/group0c.d: New.
	* gas/elf/group0a.d: Expect ".group" for the name of group
	sections.
	* gas/elf/group0b.d: Likewise.
	* gas/elf/group1a.d: Likewise.
	* gas/elf/group1b.d: Likewise.
	* gas/elf/groupautoa.d: Likewise.
	* gas/elf/groupautob.d: Likewise.
	* gas/elf/section4.d: Likewise.
	* gas/ia64/group-1.d: Likewise.  Adjust hard-coded constants.

2010-10-22  Mark Mitchell  <mark@@codesourcery.com>

	* binutils-all/group-5.d: Expect ".group" for the name of group
	sections.
	* binutils-all/strip-2.d: Likewise.

2010-10-23  Mark Mitchell  <mark@@codesourcery.com>

	* ld-elf/group10.d: Expect ".group" for the name of group
	sections.
	* ld-elf/group2.d: Likewise.
	* ld-elf/group7.d: Likewise.
@
text
@d1 8
@


1.213
log
@binutils/:
	* binutils-all/m68k/objdump.exp: Add fnop test.
	* binutils-all/m68k/fnop.s: New file.

opcodes/:
	* m68k-opc.c (m68k_opcodes): Move fnop before fbf.
@
text
@d1 6
@


1.212
log
@	* lib/utils-lib.exp (is_elf_format): Merge with gas and ld versions.
@
text
@d1 5
@


1.211
log
@	* binutils-all/ar.exp: Don't run unique_symbol on msp or hpux.
	* binutils-all/copy-2.d: Update not-target list.
	* binutils-all/note-1.d: Don't run on h8300.
	* binutils-all/objcopy.exp: Don't run strip-10 on msp or hpux.
	(objcopy_test): Remove h8300-rtems from xfails.
@
text
@d1 4
@


1.210
log
@	* binutils-all/i386/i386.exp: Don't run on linuxaout.
@
text
@d1 8
@


1.209
log
@        * objcopy.c: Add --interleave-width option to allow interleaving
        of more than one byte at a time.
        (copy_width): New variable.
        (copy_options): Add --interleave-width.
        (copy_section): When interleaving copy in units of copy_width
        bytes.
        (copy_main): Parse the new option.
        * doc/binutils: Document the new option.
        * NEWS: Mention the new feature.

        * binutils-all/objcopy.exp: Add test of new --interleave-width
        option.
@
text
@d1 4
@


1.208
log
@binutils/
	* dwarf.c (regname): New declaration.
	(decode_location_expression): Print for registers also regname output.

binutils/testsuite/
	* binutils-all/objdump.W: Update DW_OP_reg5 expected output.

gas/testsuite/
	* gas/elf/dwarf2-1.d: Update DW_OP_reg5 expected output.
	* gas/elf/dwarf2-2.d: Likewise.
	* gas/i386/dw2-compress-1.d: Likewise.
@
text
@d1 5
@


1.207
log
@Add --input-osabi and --output-osabi to elfedit.

binutils/

2010-08-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* elfedit.c (input_elf_osabi): New.
	(output_elf_osbi): Likewise.
	(osabis): Likewise.
	(elf_osabi): Likewise.
	(update_elf_header): Support updating ELF OSABI.
	(make_qualified_name): Break long line.
	(command_line_switch): Add OPTION_INPUT_OSABI and
	OPTION_OUTPUT_OSABI.
	(options): Likewise.
	(usage): Add --input-osabi and --output-osabi.
	(main): Handle OPTION_INPUT_OSABI and OPTION_OUTPUT_OSABI.

	* doc/binutils.texi: Document --input-osabi and --output-osabi
	for elfedit.

binutils/testsuite/

2010-08-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/elfedit-3.d: New.

	* binutils-all/elfedit.exp: Run elfedit-3.
@
text
@d1 4
@


1.206
log
@binutils/testsuite/:
* binutils-all/readelf.s: Ignore "Key to Flags" contents.
* binutils-all/readelf.s-64: Likewise.
* binutils-all/i386/compressed-1b.d: Likewise.
* binutils-all/i386/compressed-1c.d: Likewise.
* binutils-all/x86-64/compressed-1b.d: Likewise.
* binutils-all/x86-64/compressed-1c.d: Likewise.

gas/testsuite/:
* gas/i386/x86-64-unwind.d: Ignore "Key to Flags" contents.
* gas/ia64/alias-ilp32.d: Likewise.
* gas/ia64/alias.d: Likewise.
* gas/ia64/group-1.d: Likewise.
* gas/ia64/group-2.d: Likewise.
* gas/ia64/secname-ilp32.d: Likewise.
* gas/ia64/secname.d: Likewise.
* gas/ia64/unwind-ilp32.d: Likewise.
* gas/ia64/unwind.d: Likewise.
* gas/mmix/byte-1.d: Likewise.
* gas/mmix/loc-1.d: Likewise.
* gas/mmix/loc-2.d: Likewise.
* gas/mmix/loc-3.d: Likewise.
* gas/mmix/loc-4.d: Likewise.
* gas/mmix/loc-5.d: Likewise.

ld/testsuite/:
* ld-mmix/bspec1.d: Ignore "Key to Flags" contents.
* ld-mmix/bspec2.d: Likewise.
* ld-mmix/local1.d: Likewise.
* ld-mmix/local3.d: Likewise.
* ld-mmix/local5.d: Likewise.
* ld-mmix/local7.d: Likewise.
* ld-mmix/undef-3.d: Likewise.
* ld-sh/sh64/crange1.rd: Likewise.
* ld-sh/sh64/crange2.rd: Likewise.
* ld-sh/sh64/crange3-cmpct.rd: Likewise.
* ld-sh/sh64/crange3-media.rd: Likewise.
* ld-sh/sh64/crange3.rd: Likewise.
* ld-sh/sh64/crangerel1.rd: Likewise.
* ld-sh/sh64/crangerel2.rd: Likewise.
@
text
@d1 6
@


1.205
log
@Fix a typo.

2010-07-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/i386/compressed-1a.d: Fix a typo.
	* binutils-all/i386/compressed-1b.d: Likewise.
	* binutils-all/i386/compressed-1c.d: Likewise.
	* binutils-all/x86-64/compressed-1a.d: Likewise.
	* binutils-all/x86-64/compressed-1b.d: Likewise.
	* binutils-all/x86-64/compressed-1c.d: Likewise.
@
text
@d1 9
@


1.204
log
@Add addr2line, objcopy and strip tests for compressed debug sections.

binutils/testsuite/

2010-07-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/default.exp (binutils_assemble): Use
	default_binutils_assemble_flags.
	(binutils_assemble_flags): New.

	* lib/utils-lib.exp (default_binutils_assemble): Renamed to ...
	(default_binutils_assemble_flags): This.  Add asflags and
	pass it to target_assemble.
	(run_dump_test): Support assembler flags.

	* binutils-all/i386/compressed-1.s: New.
	* binutils-all/i386/compressed-1a.d: Likewise.
	* binutils-all/i386/compressed-1b.d: Likewise.
	* binutils-all/i386/compressed-1c.d: Likewise.
	* binutils-all/i386/i386.exp: Likewise.
	* binutils-all/x86-64/compressed-1.s: Likewise.
	* binutils-all/x86-64/compressed-1a.d: Likewise.
	* binutils-all/x86-64/compressed-1b.d: Likewise.
	* binutils-all/x86-64/compressed-1c.d: Likewise.
	* binutils-all/x86-64/x86-64.exp: Likewise.

gas/testsuite/

2010-07-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/default.exp (ADDR2LINE): New.
	(ADDR2LINEFLAGS): Likewise.

	* gas/i386/i386.exp: Run dw2-compress-2 and x86-64-dw2-compress-2.

	* gas/i386/dw2-compress-2.d: New.
	* gas/i386/dw2-compress-2.s: Likewise.
	* gas/i386/x86-64-dw2-compress-2.d: Likewise.
	* gas/i386/x86-64-dw2-compress-2.s: Likewise.

	* lib/gas-defs.exp (run_dump_test): Support addr2line as dump
	program.
	(slurp_options): Allow numbers in options.
@
text
@d3 9
@


1.203
log
@Don't generate .debug_line section if it isn't empty.

binutils/testsuite/

2010-07-05  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/10531
	PR gas/11789
	* binutils-all/objdump.W: Remove bogus line debug info.

gas/

2010-07-05  Jim Wilson  <wilson@@codesourcery.com>

	PR gas/10531
	PR gas/11789
	* dwarf2dbg.c (dwarf2_finish): Don't generate .debug_line section
	if it isn't empty.

gas/testsuite/

2010-07-05  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/10531
	PR gas/11789
	* gas/i386/dw2-compress-1.d: Remove bogus line debug info.

	* gas/elf/dwarf2-1.d: New.
	* gas/elf/dwarf2-1.s: Likewise.
	* gas/elf/dwarf2-2.d: Likewise.
	* gas/elf/dwarf2-2.s: Likewise.
	* gas/elf/dwarf2-3.d: Likewise.
	* gas/elf/dwarf2-3.s: Likewise.
	* gas/i386/debug1.d: Likewise.
	* gas/i386/debug1.s: Likewise.

	* gas/elf/elf.exp: Run dwarf2-1, dwarf2-2 and dwarf2-3.

	* gas/i386/i386.exp: Run debug1 for both 32bit and 64bit.
@
text
@d1 22
@


1.202
log
@Implement generic SHF_EXCLUDE.

bfd/

2010-05-18  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11600
	* elf.c (_bfd_elf_make_section_from_shdr): Handle SHF_EXCLUDE
	(elf_fake_sections): Likewise.

	* elf32-i370.c (i370_elf_section_from_shdr): Don't handle
	SHF_EXCLUDE here.
	* elf32-ppc.c (ppc_elf_fake_sections): Likewise.

binutils/

2010-05-18  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11600
	* readelf.c (get_elf_section_flags): Treat SHF_EXCLUDE as a
	generic flag.

binutils/testsuite/

2010-05-18  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11600
	* binutils-all/objcopy.exp: Run exclude-1a and exclude-1b for
	ELF targets.

	* binutils-all/exclude-1.s: New.
	* binutils-all/exclude-1a.d: Likewise.
	* binutils-all/exclude-1b.d: Likewise.

gas/

2010-05-18  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11600
	* obj-elf.c (obj_elf_change_section): Handle SHF_EXCLUDE.
	(obj_elf_parse_section_letters): Likewise.
	(obj_elf_section_word): Likewise.

	* config/tc-ppc.c (ppc_section_letter): Removed.
	(ppc_section_word): Likewise.
	* config/tc-ppc.h (ppc_section_letter): Likewise.
	(ppc_section_word): Likewise.
	(md_elf_section_letter): Likewise.
	(md_elf_section_word): Likewise.

	* doc/as.texinfo: Document `e' and `#exclude'.

gas/testsuite/

2010-05-18  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11600
	* gas/elf/elf.exp: Run section8.

	* gas/elf/section8.d: New.
	* gas/elf/section8.s: Likewise.

include/elf/

2010-05-18  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11600
	* common.h (SHF_EXCLUDE): New.

	* i370.h (SHF_EXCLUDE): Removed.
	* or32.h (SHF_EXCLUDE): Likewise.
	* ppc.h (SHF_EXCLUDE): Likewise.
	* sparc.h (SHF_EXCLUDE): Likewise.

ld/testsuite/

2010-05-18  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11600
	* ld-elf/exclude3.s: New.
	* ld-elf/exclude3a.d: Likewise.
	* ld-elf/exclude3b.d: Likewise.
	* ld-elf/exclude3c.d: Likewise.
@
text
@d1 6
@


1.201
log
@Add a missing `"'.

2010-04-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/dlltool.exp: Add a missing `"'.
@
text
@d1 10
@


1.200
log
@2010-04-27  Kai Tietz  <kai.tietz@@onevision.com>

	* dlltool.c (main): Query for bfd's underscoring default for
	default target case.

2010-04-27  Kai Tietz  <kai.tietz@@onevision.com>

	* binutils-all/dlltool.exp: Allow test for
	arm-wince-pe target.
@
text
@d1 4
@


1.199
log
@2010-03-30  Kai TIetz  <kai.tietz@@onevision.com>

        * binutils-all/objcopy.exp: Mark simple copy executable
        as failing for all *-*-mingw32* targets.
@
text
@d1 5
@


1.198
log
@	* binutils-all/ar.exp (unique_symbol): New test.
@
text
@d1 5
@


1.197
log
@	* binutils-all/group-5.s, * binutils-all/group-5.d: New test.
	* binutils-all/objcopy.exp: Run it.
@
text
@d1 4
d282 1
a282 1
	
d284 1
a284 1
	
d295 1
a295 1
	
d302 1
a302 1
            Joseph Myers  <joseph@@codesourcery.com>
d454 2
a455 2
            Nigel Stephens  <nigel@@mips.com>
            David Ung  <davidu@@mips.com>
d607 1
a607 1
       * config/default.exp: Remove send_user call for stray output.
@


1.196
log
@	* objcopy.c (copy_object): Set SEC_LINKER_CREATED when adding
	sections.

	testsuite/
	* binutils-all/note-1.d: New.
	* binutils-all/objcopy.exp: Add it.
@
text
@d1 5
@


1.195
log
@binutils/testsuite/ChangeLog:

	* binutils-all/windres/html.rc: Don't xfail x86_64-*-mingw*.
	* binutils-all/windres/lang.rc: Likewise.
	* binutils-all/windres/messagetable.rc: Likewise.
	* binutils-all/windres/strtab1.rc: Likewise.
	* binutils-all/windres/strtab2.rc: Likewise.
	* binutils-all/windres/version.rc: Likewise.
	* binutils-all/windres/version_cat.rc: Likewise.
@
text
@d1 5
@


1.194
log
@binutils/:
	* objcopy.c (copy_main): Rewrite OPTION_ADD_SECTION code to work
	with non-ordinary files like /dev/null.
binutils/testsuite/:
	* lib/utils-lib.exp (run_dump_test): Permit option values to use
	$srcdir to refer to the source directory.
	* binutils-all/add-section.d: New test.
	* binutils-all/add-empty-section.d: New test.
	* binutils-all/empty-file: New test input file.
	* binutils-all/objcopy.exp: Run new tests.
@
text
@d1 10
@


1.193
log
@Add --input-type and --output-type to elfedit

binutils/

2010-01-08  H.J. Lu  <hongjiu.lu@@intel.com>

	* elfedit.c (input_elf_type): New.
	(output_elf_type): Likewise.
	(elf_type): Likewise.
	(update_elf_header): Support updating ELF file type.
	(command_line_switch): Add OPTION_INPUT_TYPE and
	OPTION_OUTPUT_TYPE.
	(options): Likewise.
	(usage): Add --input-type and --output-type.
	(main): Handle OPTION_INPUT_TYPE and OPTION_OUTPUT_TYPE.  Check
	one of --output-mach and --output-type must be specified.

	* doc/binutils.texi: Document --input-type and --output-type
	for elfedit.

binutils/testsuite/

2010-01-08  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/elfedit-2.d: New.

	* binutils-all/elfedit.exp: Run elfedit-2.
@
text
@d1 9
@


1.192
log
@Add elfedit

binutils/

2010-01-06  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/11131
	* Makefile.am (ELFEDIT_PROG): New.
	(bin_PROGRAMS): Add $(ELFEDIT_PROG).
	(CFILES): Add elfedit.c.
	(elfedit_DEPENDENCIES): New.
	(elfedit_SOURCES): Likewise.
	(elfedit_LDADD): Likewise.
	* Makefile.in: Regenerated.

	* elfedit.c: New.

	* doc/binutils.texi: Document elfedit.

	* doc/Makefile.am (man_MANS): Add elfedit.1.
	(elfedit.1): New.
	* doc/Makefile.in: Regenerated.

binutils/testsuite/

2010-01-06  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/11131
	* binutils-all/elfedit-1.d: New.
	* binutils-all/elfedit.exp: Likewise.

	* config/default.exp (ELFEDIT): New. Set if it doesn't exist.
	(ELFEDITFLAGS): Likewise.

	* lib/utils-lib.exp (run_dump_test): Support elfedit.
@
text
@d1 6
@


1.191
log
@2009-10-28  Kai Tietz <kai.tietz@@onevision.com>

	* binutils-all/dlltool.exp: Add tests for --no-leading-underscore
	and --leading-underscore option for dlltool.
@
text
@d1 11
@


1.190
log
@2009-10-23  Kai Tietz  <kai.tietz@@onevision.com>

	* deflex.l: Allow '<' and '>' in ID names.

	* defparse.y (EQUAL): New token constant.
	(opt_import_name): New rule for emptry or '==' ID.
	(expline): Add opt_import_name as last line element.
	(impline): Likewise.
	* dlltool.c (ifunct): New member its_name.
	(export): Likewise.
	(append_import): Add its_name argument.
	(defexports): Likewise.
	(defimport): Likewise.
	(scan_drectve_symbols): Adjust calls to def_exports.
	(dump_def_info): Print new optinal import/export table
	symbol name.
	(generate_idata_ofile): Use its_name member.
	(make_one_lib_file): Likewise.
	(nfunc): Take its_name in account on sort.
	* dlltool.h (def_exports): Add its_name as argument.
	(def_import): Likewise.
	* doc/binutils.texi: Add new def file syntax extension.
	* deflex.l (EQUAL): Add rule for '=='.
	* NEWS: Mention new feature.

2009-10-23  Kai Tietz  <kai.tietz@@onevision.com>

	* binutils-all/dlltool.exp: Add new test.
	* binutils-all/alias-2.def: New file.
@
text
@d1 5
@


1.189
log
@Exclude more aout targets.
@
text
@d1 5
@


1.188
log
@Tolerate some whitespace differences in readelf output.
@
text
@d1 5
@


1.187
log
@	* binutils-all/objdump.exp (cpus_expected): Add ms1.
@
text
@d1 10
@


1.186
log
@binutils/
	* dwarf.c (process_debug_info): Support section padding abbrev codes.

binutils/testsuite/
	* binutils-all/testranges.s (.debug_info): Pad the only CU.
@
text
@d1 4
@


1.185
log
@binutils/testsuite/
	* binutils-all/testranges.s: Replace all .long by .4byte.
@
text
@d3 4
@


1.184
log
@* binutils-all/objdump.exp: Add m16c and m32c to the list of
expected cpus.
@
text
@d1 4
@


1.183
log
@	* binutils-all/bfin/unknown-mode.s: New test.
	* binutils-all/bfin/objdump.exp: New test.
@
text
@d1 5
@


1.183.2.1
log
@* binutils-all/objdump.exp: Add m16c and m32c to the list of
expected cpus.
@
text
@a0 5
2009-09-04  DJ Delorie  <dj@@redhat.com>

	* binutils-all/objdump.exp: Add m16c and m32c to the list of
	expected cpus.

@


1.183.2.2
log
@	* binutils-all/objdump.exp (cpus_expected): Add ms1.

	2009-09-07  Jan Kratochvil  <jan.kratochvil@@redhat.com>
	* binutils-all/testranges.s (.debug_info): Pad the only CU.
	* binutils-all/testranges.s: Replace all .long by .4byte.
@
text
@a0 12
2009-09-08  Alan Modra  <amodra@@bigpond.net.au>

	* binutils-all/objdump.exp (cpus_expected): Add ms1.

2009-09-07  Jan Kratochvil  <jan.kratochvil@@redhat.com>

	* binutils-all/testranges.s (.debug_info): Pad the only CU.

2009-09-07  Jan Kratochvil  <jan.kratochvil@@redhat.com>

	* binutils-all/testranges.s: Replace all .long by .4byte.

@


1.182
log
@        * binutils-all/strip-10.d: Accept "<OS specific>: 10" for the type
        of the UNIQUE symbol.
@
text
@d1 5
@


1.181
log
@	binutils/testsuite/
	* binutils-all/testranges.s: Use %progbits.  Use ";#" for comments.
@
text
@d1 5
@


1.180
log
@Correct date.
@
text
@d1 4
@


1.179
log
@2009-08-03  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/10492
	* binutils-all/objcopy.exp: Run strip-10.

	* binutils-all/strip-10.d: New.
	* binutils-all/unique.s: Likewise.
@
text
@d1 1
a1 1
2009-08-03  H.J. Lu  <hongjiu.lu@@intel.com>
@


1.178
log
@	binutils/testsuite/
	* binutils-all/arm/thumb2-cond.s: Use instructions instead of
	.short.

	gas/
	* config/obj-elf.c (obj_elf_ident): Notify section change to the hook.
	* config/tc-arm.c (make_mapping_symbol): New function, from
	mapping_state.  Save mapping symbols in the frag.
	(insert_data_mapping_symbol): New.
	(mapping_state): Use make_mapping_symbol, improve state transitions.
	(mapping_state_2): New.  Provide dummy definition.
	(opcode_select): Do not call mapping_state.
	(s_bss): Call md_elf_section_change_hook instead of mapping_state.
	(output_inst): Update use of tc_frag_data.
	(new_automatic_it_block): Call mapping_state before emitting the
	IT instruction.
	(md_assemble): Move mapping_state to just before outputting the
	new instruction.
	(arm_handle_align): Update use of tc_frag_data.
	Call insert_data_mapping_symbol.
	(arm_init_frag): Update use of tc_frag_data.  Call
	mapping_state_2.
	(arm_elf_change_section): Always update the mapping symbol FSM state.
	(check_mapping_symbols): New function.
	(arm_adjust_symtab): Use check_mapping_symbols.
	* config/tc-arm.h (struct arm_frag_type): New.
	(TC_FRAG_TYPE): Change to struct arm_frag_type.
	(TC_FRAG_INIT): Pass max_chars.
	(arm_init_frag): Update prototype.

	gas/testsuite/
	* gas/arm/mapdir.d, gas/arm/mapdir.s: New files.
	* gas/arm/mapping.d: Adapted to new symbols generation.
	* gas/arm/mapping2.d: New test case.
	* gas/arm/mapping2.s: New file.
	* gas/arm/mapping3.d: New test case.
	* gas/arm/mapping3.s: New file.
	* gas/arm/mapping4.d: New test case.
	* gas/arm/mapping4.s: New file.
	* gas/arm/mapshort-eabi.d: Adapted to new symbols generation.
	* gas/elf/section2.e-armeabi: Adapted to new symbols generation.
@
text
@d1 8
@


1.177
log
@	* binutils-all/testranges.s: Replace .value with .short.
@
text
@d1 6
@


1.176
log
@2009-07-16  Dave Korn  <dave.korn.cygwin@@gmail.com>
	    H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/objcopy.exp: Run testranges and testranges-ia64
	for ELF targets only.
@
text
@d1 4
@


1.175
log
@2009-07-16  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/objcopy.exp; Run testranges-ia64.

	* binutils-all/testranges.d: Don't run for ia64.

	* binutils-all/testranges-ia64.d: New.
	* binutils-all/testranges-ia64.s: Likewise.
@
text
@d1 6
@


1.174
log
@binutils/
	Support unordered .debug_info references to .debug_ranges.
	* dwarf.c (struct range_entry, range_entry_compar): New.
	(display_debug_ranges): Remove variables last_offset, first, j,
	seen_first_offset, use_debug_info and next.  New variables
	range_entries and range_entry_fill.  Create the sorted copy
	range_entries.  Remove the FIXME error on detected unordered references.
	* dwarf.h (debug_info <range_lists>): New comment.

binutils/testsuite/
	* binutils-all/objcopy.exp (testranges): New test.
	* binutils-all/testranges.d, binutils-all/testranges.s: New files.
@
text
@d1 9
@


1.173
log
@* binutils-all/objcopy.exp: Move XFAIL from objcopy_test to copy_executable.
@
text
@d1 5
@


1.172
log
@* binutils-all/objcopy.exp: Always treat objcopy_test as XFAIL on cygwin.
@
text
@d3 5
@


1.171
log
@binutils/testsuite/
	* binutils-all/localize-hidden-1.s: Use "==" instead of ".set".
	* binutils-all/localize-hidden-2.s: Likewise.
gas/testsuite/
	* gas/all/gas.exp: Disable assign and assign-ok tests on blackfin.
	* gas/all/p2425.s: Use "==" instead of "=".
	* gas/all/weakref1.s: Likewise.
	* gas/macros/and.s: Likewise.
	* gas/macros/test1.s: Likewise.
	* gas/hppa/parse/parse.exp: Remove xfail on block1.
ld/testsuite/
	* ld-libs/lib-1.s: Use "==" instead of ".set".
	* ld-libs/lib-2.s: Likewise.
	* ld-scripts/defined.s: Likewise.
@
text
@d1 5
@


1.170
log
@	* inutils-all/objcopy.exp (strip_executable):  Delete remote dest
	file before downloading.
	(strip_executable_with_saving_a_symbol):  Likewise.
	(keep_debug_symbols_and_test_copy):  Likewise.
@
text
@d1 5
@


1.169
log
@	* binutils-all/objdump.W, binutils-all/objdump.s: Don't match
	literal "tmpdir/" in expected output.
@
text
@d1 7
@


1.168
log
@[bfd/ChangeLog]
2009-03-11  Chris Demetriou  <cgd@@google.com>

	* bfd.c (BFD_DETERMINISTIC_OUTPUT): New flag.
	* bfd-in2.h: Regenerate.
	* archive.c (bfd_ar_hdr_from_filesystem): If BFD_DETERMINISTIC_OUTPUT
	flag is set, use 0 for uid, gid, and timestamp, and use 0644 for file
	mode.
	(bsd_write_armap): Likewise.
	(_bfd_archive_bsd_update_armap_timestamp): If BFD_DETERMINISTIC_OUTPUT
	flag is set, do nothing.
	(coff_write_armap): If BFD_DETERMINISTIC_OUTPUT flag is set, use 0
	for timestamp.

[binutils/ChangeLog]
2009-03-11  Chris Demetriou  <cgd@@google.com>

	* ar.c (deterministic): New global variable.
	(main): Recognize new 'D' option, which enables 'deterministic mode'.
	(usage): Document new 'D' option.
	(write_archive): Set BFD_DETERMINISTIC_OUTPUT in output archive's
	flags if deterministic mode was requested.
	* doc/binutils.texi (ar): Document deterministic mode ('D' option).

[binutils/testsuite/ChangeLog]
2009-03-11  Chris Demetriou  <cgd@@google.com>

	* binutils-all/ar.exp (deterministic_archive): New test.
@
text
@d1 5
@


1.167
log
@binutils/

2009-03-09  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/9933
	* objcopy.c (filter_symbols): Properly handle common symbols
	in relocatable file.

binutils/testsuite/

2009-03-09  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/9933
	* binutils-all/copy-4.d: New.

	* binutils-all/objcopy.exp: Run copy-4.
@
text
@d1 4
@


1.166
log
@	* config/hppa.sed: Fix spelling.
@
text
@d1 7
@


1.165
log
@	* binutils-all/localize-hidden-1.s: Change .equ to .set.
	* binutils-all/localize-hidden-2.s: Likewise.
@
text
@d1 4
@


1.164
log
@        * config/tc-mep.h (DIFF_EXPR_OK): Do not define.

        * gas/all/gas.exp: Expect forward test to fail for MeP.
        Expect relax test to fail for MeP.
        * gas/mep/relocs.d: Update expected disassembly.

        * lib/ld-lib.exp (check_gc_sections_available): Add MeP to list of
        targets which do not support garbage collection.
        * ld-srec/srec.exp (run_srec_test): Expect tests to fail for MeP.
        * ld-elf/group8a.d: Likewise.
        * ld-elf/group8b.d: Likewise.
        * ld-elf/group9a.d: Likewise.
        * ld-elf/group9b.d: Likewise.

        * binutils-all/objdump.W: Do not assume that high and low PC
        addresses will have been computed.
@
text
@d1 5
@


1.163
log
@            * dwarf.c (display_debug_frames): Change text for uniformity.
            (process_debug_info): Likewise.
            (display_debug_aranges): Likewise.  Indent address output.
            (display_debug_pubnames): Print offset in hex.

            * binutils-all/objdump.W: Update.

            * gas/cfi/cfi-alpha-1.d, gas/cfi/cfi-alpha-3.d,
            gas/cfi/cfi-arm-1.d, gas/cfi/cfi-common-1.d,
            gas/cfi/cfi-common-2.d, gas/cfi/cfi-common-3.d,
            gas/cfi/cfi-common-4.d, gas/cfi/cfi-common-5.d,
            gas/cfi/cfi-common-6.d, gas/cfi/cfi-hppa-1.d,
            gas/cfi/cfi-i386-2.d, gas/cfi/cfi-i386.d, gas/cfi/cfi-m68k.d,
            gas/cfi/cfi-mips-1.d, gas/cfi/cfi-ppc-1.d, gas/cfi/cfi-s390-1.d,
            gas/cfi/cfi-s390x-1.d, gas/cfi/cfi-sh-1.d, gas/cfi/cfi-sparc-1.d,
            gas/cfi/cfi-sparc64-1.d, gas/cfi/cfi-x86_64.d: Update for readelf
            change.

            * ld-elf/eh1.d, ld-elf/eh2.d, ld-elf/eh3.d, ld-elf/eh4.d,
            ld-elf/eh5.d, ld-elf/eh6.d, ld-mips-elf/eh-frame1-n32.d,
            ld-mips-elf/eh-frame1-n64.d, ld-mips-elf/eh-frame2-n32.d,
            ld-mips-elf/eh-frame2-n64.d, ld-mips-elf/eh-frame3.d,
            ld-mips-elf/eh-frame4.d: Update for readelf change.
@
text
@d1 5
@


1.162
log
@binutils/testsuite/

2008-10-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/group.s: Updated.
	* binutils-all/group-2.s: Likewise.
	* binutils-all/group-3.s: Likewise.
	* binutils-all/group-4.s: Likewise.
	* binutils-all/strip-7.d: Likewise.
	* binutils-all/strip-9.d: Likewise.

ld/testsuite/

2008-10-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* ld-elf/group5.d: Updated.
	* ld-elf/group6.d: Likewise.
@
text
@d1 4
@


1.161
log
@2008-10-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/group-4.s: New.
	* binutils-all/strip-8.d: Likewise.
	* binutils-all/strip-9.d: Likewise.

	* binutils-all/objcopy.exp: Test objcopy on group-4.s.  Run
	strip-8 and strip-9.
@
text
@d1 9
@


1.160
log
@2008-10-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/group-3.s: New.
	* binutils-all/strip-6.d: Likewise.
	* binutils-all/strip-7.d: Likewise.

	* binutils-all/objcopy.exp: Test objcopy on group-3.s.  Run
	strip-6 and strip-7.
@
text
@d3 9
@


1.159
log
@2008-10-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/group-2.s: New.
	* binutils-all/strip-4.d: Likewise.
	* binutils-all/strip-5.d: Likewise.

	* binutils-all/objcopy.exp: Test objcopy on group-2.s.  Run
	strip-4 and strip-5.
@
text
@d3 9
@


1.158
log
@	* binutils-all/objdump.exp: Run compressed debug test only for ELF.
@
text
@d1 9
@


1.157
log
@	* binutils-all/objdump.W: Generalize to adjust for targets with
	non-byte-size instructions.
@
text
@d1 4
@


1.156
log
@bfd/
	* Makefile.am (BFD32_LIBS): Add compress.lo.
	(BFD32_LIBS_CFILES): Add compress.c.
	(BFD_H_FILES): Likewise.
	* Makefile.in: Regenerate.
	* bfd-in2.h: Regenerate.
	* config.in: Add HAVE_ZLIB_H
	* configure.in: Add test for libz and zlib.h
	* configure: Regenerate.
	* dwarf2.c (read_section): New function.
	(read_indirect_string): Call new function read_section.
	(read_abbrevs): Likewise.
	(decode_line_info): Likewise.
	(read_debug_ranges): Likewise.
	(find_line): Call new function read_section when just one
	.zdebug_info section is found, otherwise read and compress
	multiple sections.
	(_bfd_dwarf2_cleanup_debug_info): Free sec_info_ptr.
	* elf.c (_bfd_elf_make_section_from_shdr): Add zdebug prefix.
	(special_sections_z): New struct.
	(special_sections): Refer to special_sections_z.
	* elfxx-mips.c (_bfd_mips_elf_section_from_shdr): Recognize
	sections named .zdebug_*.
	(_bfd_mips_elf_fake_sections): Likewise.
	* compress.c: New file.
	(bfd_uncompress_section_contents): New function.
bfd/doc/
	* Makefile.am (BFD_H_DEP): Add ../compress.c.
	* Makefile.in: Regenerate.
binutils/
	* config.in: Add HAVE_ZLIB_H
	* configure.in: Add test for libz and zlib.h
	* configure: Regenerate.
	* dwarf.c (debug_displays): Add .zdebug_* strings.
	* dwarf.h (struct dwarf_section): Add fields uncompressed_namd
	and compressed_name.
	* objdump.c (load_debug_section): Call
	bfd_uncompress_section_contents when loading a compressed
	section.
	(dump_dwarf_section): Recognize compressed section name.
	(mach_o_dwarf_sections): Rename as
	mach_o_uncompressed_dwarf_sections.
	(mach_o_compressed_dwarf_sections): New variable.
	(generic_dwarf_section): Rename as
	generic_uncompressed_dwarf_sections.
	(generic_compressed_dwarf_sections): New variable.
	(check_mach_o_dwarf): Save and restore
	mach_o_compressed_dwarf_sections.
	* readelf.c: Add #include for config.h and zlib.h
	(process_section_headers): Recognize compressed section name.
	(uncompress_section_contents): New function.
	(load_debug_section): Call uncompress_section_contents when
	loading a compressed section.
	(display_debug_section): Recognize compressed section name.
binutils/testsuite:
	* binutils-all/objdump.exp: Add test for objdump -s on a file
	with a compressed debug section.  Add test for objdump -W on a
	file that contains a compressed debug section.
	* binutils-all/readelf.exp: Call readelf_compressed_wa_test.
	(readelf_compressed_wa_test): New function.
	* binutils-all/dw2-compressed.S: New file.
	* binutils-all/objdump.W: New file.
	* binutils-all/objdump.s: New file.
	* binutils-all/readelf.wa: New file.
@
text
@d1 5
@


1.155
log
@2008-07-08  Kai Tietz  <kai.tietz@@onevision.com>

	* binutils-all/objcopy.exp (copy_setup): Check if host-triplet
	is target-triplet for execution tests.
	(copy_executable): Likewise.
	(strip_executable): Likewise.
	(strip_executable_with_saving_a_symbol): Likewise.
@
text
@d1 12
@


1.154
log
@bfd/
	* elf.c (assign_file_positions_for_load_sections): Adjust pre-section
	gaps based on VMA and P_VADDR instead of LMA and P_PADDR addresses.
binutils/testsuite/
	* binutils-all/objcopy.exp: Call KEEP_DEBUG_SYMBOLS_AND_TEST_COPY.
	(keep_debug_symbols_and_test_copy): New function.
	(test5, test6): New variables.
@
text
@d1 8
@


1.153
log
@Add support for thin archives.
    * bfd/archive.c (_bfd_find_nested_archive): New function.
    (get_extended_arelt_filename): Add origin parameter.
    (_bfd_generic_read_ar_hdr_mag): Deal with extended name
    combined with a file offset.
    (append_relative_path): New function.
    (_bfd_get_elt_at_filepos): Deal with external members and
    nested archives.
    (bfd_generic_openr_next_archived_file): Thin archives.
    (bfd_generic_archive_p): Recognize new magic string.
    (adjust_relative_path): New function.
    (_bfd_construct_extended_name_table): Construct extended
    names for thin archive members.
    (_bfd_write_archive_contents): Emit new magic string, skip
    copying files for thin archives.
    * bfd/bfd-in.h (bfd_is_thin_archive): New macro.
    * bfd/bfd.c (struct bfd): New fields for thin archives.
    * bfd/libbfd-in.h (struct areltdata): New field for thin archives.
    * bfd/opncls.c (bfd_close): Delete BFDs for nested archives.
    * binutils/ar.c (make_thin_archive): New global flag.
    (map_over_members): Deal with full pathnames in thin archives.
    (usage, main): Add 'T' option for building thin archives.
    (replace_members): Pass thin archive flag to ar_emul_append.
    * binutils/arsup.c (ar_open): Initialize new flag.
    * binutils/binemul.c (ar_emul_append): Add new parameter for
    flattening nested archives.
    (do_ar_emul_default_append): New function.
    (ar_emul_default_append): Factored out recursive code.
    * binutils/binemul.h (ar_emul_default_append): Add new parameter.
    (struct bin_emulation_xfer_struct): New parameter for ar_append.
    * binutils/dlltool.c (gen_lib_file): Initialize thin archive flag.
    * binutils/emul_aix.c (ar_emul_aix_internal): Add new flatten
    parameter, currently unimplemented.
    All callers changed.
    * binutils/objcopy.c (copy_archive): Preserve thin archive flag.
    * binutils/doc/binutils.texi: Update ar documentation.
    * binutils/testsuite/binutils-all/ar.exp: Add thin archive tests.
    * include/aout/ar.h (ARMAGT): New magic string for thin archives.
@
text
@d1 6
@


1.152
log
@	* config/default.exp (gcc_gas_flag, dlltool_gas_flag): Define to
	empty for testing an installed toolchain.
@
text
@d1 4
@


1.151
log
@binutils/testsuite/
    * binutils-all/objdump.exp (cpus_expected): Add xtensa.
ld/testsuite/
    * ld-undefined/undefined.exp: XFAIL for xtensa*-*-linux*.
@
text
@d1 5
@


1.150
log
@	* binutils-all/windres/windres.exp: Don't xfail.
@
text
@d1 4
@


1.149
log
@Support the use of the STT_COMMON type.  (In source and object files only at the moment)
@
text
@d1 4
@


1.148
log
@* readelf.c (dump_type): New type used to classify the kinds of dump requested by the user.
  (dump_sects, cmdline_dump_sects): Use the new type.
  (options): Add --string-dump option.
  (request_dump): Rename to request_dump_bynumber.  Use dump_type.
  (request_dump_byname): Use dump_type.
  (parse_args): Parse --string-dump option.
  (process_section_headers): Fix calls to request_dump.
  (initialise_dumps_byname): Likewise.
  (dump_section): Rename to dump_section_as_bytes.
  (dump_section_as_strings): New function.  Display the contents of a section as printable strings.
  (process_section_contents): String dump the section if requested.
  (process_object): Use dump_type.
  (main): Likewise.
* Makefile.am: Add dependency for readelf.c on safe-ctype.h.
* Makefile.in: Regenerate.
* NEWS: Mention the new feature.
* doc/binutils.texi: Document the new feature.
* testsuite/binutils-all/dumptest.s: New test file.
* testsuite/binutils-all/readelf.exp: Add test of readelf's -p switch.
@
text
@d1 7
@


1.147
log
@bfd:
2007-08-28  Mark Shinwell  <shinwell@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* elf32-arm.c (elf32_arm_compare_mapping): Compare first on vma,
	then on type.

binutils/testsuite:
2007-08-28  Mark Shinwell  <shinwell@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* binutils-all/ar.exp (long_filenames): Delete temporary files on
	the host.
	* binutils-all/arm/objdump.exp: Only check "which $OBJDUMP" if
	host is local.
	* binutils-all/objcopy.exp: Use ${srecfile} to get the name of the
	srec file to be passed to binutils_run.
	(objcopy_test_readelf): Use remote_exec.
	* binutils-all/readelf.exp (readelf_find_size): Use remote_exec.
	(readelf_test): Likewise.
	(readelf_wi_test): Likewise.
	* lib/utils-lib.exp (run_dump_test): Only check "which $binary" if
	host is local.  Use remote_exec.  Use $tempfile not
	tmpdir/bintest.o.

gas:
2007-08-28  Mark Shinwell  <shinwell@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* as.c (main): Flush stderr before printing listings to ensure
	consistent output order across platforms.

gas/testsuite:
2007-08-28  Mark Shinwell  <shinwell@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* lib/gas-defs.exp (gas_version): Use remote_* functions instead
	of exec.
	(gas_host_run): New.
	(gas_run): Use gas_host_run.
	(gas_start): Likewise.
	(run_dump_test): Likewise.
	(objdump): Use gas_host_run.
	(objdump_start_no_subdir): Likewise.
	* lib/gas-dg.exp (gas-dg-test): Use "remote_file host delete".
	* lib/run: Remove.
	* gas/macros/macros.exp: Download app4b.s to host.
	* gas/i386/i386.exp (gas_64_check): Use gas_host_run.
	(gas_32_check): Likewise.
	* gas/maxq10/maxq10.exp (gas_64_check): Likewise
	(gas_32_check): Likewise.
	* gas/maxq20/maxq20.exp (gas_64_check): Likewise
	(gas_32_check): Likewise.
	* gas/sparc/sparc.exp (gas_64_check): Likewise.
	* gas/cfi/cfi.exp: Likewise.
	* gas/elf/elf.exp (run_list_test): Likewise.  Use temporary file
	for readelf output in place of pipe.
	* gas/all/gas.exp: Download incbin.dat to host.
	(do_comment): Allow \r\r\n.

ld:
2007-08-28  Mark Shinwell  <shinwell@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* ldlang.c (sort_sections_by_lma): Sort by internal id after lma
	for stable sort.

ld/testsuite:
2007-08-28  Mark Shinwell  <shinwell@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* ld-elfcomm/elfcomm.exp: Use run_host_cmd.  Only check "which
	$CC" if host is local.
	* ld-checks/checks.exp: Use run_host_cmd.
	* ld-elf/exclude.exp: Likewise.
	* ld-elf/elf.exp: Download merge.ld if host is remote.
	* ld-elf/binutils.exp (binutils_test): Use remote_exec.
	* ld-elf/tls_common.exp: Use run_host_cmd.
	* lib/ld-lib.exp (ld_version): Only check "which $ld" if host is
	local.  Use remote_exec.
	(run_host_cmd): New.
	(run_host_cmd_yesno): New.
	(default_ld_relocate): Use run_host_cmd_yesno.
	(default_ld_link): Likewise.
	(default_ld_simple_link): Use run_host_cmd.
	(default_ld_compile): Only check "which $ccprog" if host is local.
	Use remote_file and remote_exec.
	(default_ld_assemble): Only check "which $as" if host is local.
	Use run_host_cmd.
	(default_ld_nm): Use remote_exec, remote_upload and remote_file.
	(run_dump_test): Use remote_exec, remote_upload and remote_file.
	Only check "which $binary" if host is local.
	(run_ld_link_tests): Use remote_exec, remote_upload and
	remote_file.
	* ld-selective/selective.exp: Only check "which $CXX" if host is
	local.  Use remote_exec.
	* ld-scripts/phdrs.exp: Only check "which $objdump" if host is
	local.  Use run_host_cmd.
	* ld-scripts/phdrs2.exp: Likewise.
	* ld-scripts/weak.exp: Likewise.
	* ld-undefined/weak-undef.exp: Likewise.
	* ld-scripts/crossref.exp: Only check "which $CC" if host is local.
	Use run_host_cmd.
	* ld-scripts/map-address.exp: Upload map_address.map if host is
	remote.
	* ld-srec/srec.exp (run_srec_tests): Use run_host_cmd.  Only check
	"which $CC" and "which $CXX" if host is local.
	* ld-undefined/undefined.exp: Only check "which $CC" if host is
	local.  Use remote_file and run_host_cmd.
	* config/default.exp: Use remote_exec to create tmpdir.
@
text
@d1 5
@


1.146
log
@	* windres/windres.exp: Return unsupported rather than fail if
	windows.h not found.
@
text
@d1 17
@


1.145
log
@binutils/testsuite/
	* binutils-all/copy-2.d (not-target): Match *-*-*aout.
	* binutils-all/copy-3.d (not-target): Likewise.
	* binutils-all/objcopy.exp (objcopy_test): Remove extraneous
	setup_xfail.
gas/testsuite/
	* gas/all/weakref1u.d (not-target): Match *-*-*aout.
@
text
@d7 2
@


1.144
log
@Change sources over to using GPLv3
@
text
@d1 7
@


1.144.2.1
log
@binutils/testsuite/
	* binutils-all/copy-2.d (not-target): Match *-*-*aout.
	* binutils-all/copy-3.d (not-target): Likewise.
	* binutils-all/objcopy.exp (objcopy_test): Remove extraneous
	setup_xfail.
	* windres/windres.exp: Return unsupported rather than fail if
	windows.h not found.
gas/testsuite/
	* gas/all/weakref1u.d (not-target): Match *-*-*aout.
@
text
@a0 9
2007-08-09  Alan Modra  <amodra@@bigpond.net.au>

	* binutils-all/copy-2.d (not-target): Match *-*-*aout.
	* binutils-all/copy-3.d (not-target): Likewise.
	* binutils-all/objcopy.exp (objcopy_test): Remove extraneous
	setup_xfail.
	* windres/windres.exp: Return unsupported rather than fail if
	windows.h not found.

@


1.143
log
@2007-06-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/strip-3.d: Also strip .xtensa.info section.
@
text
@d1 10
@


1.142
log
@* rcparse.y: Join strings for elements having no side-effects in "rc"-grammar.
* testsuite/binutils-all/windres/version_cat.rc: New.
* testsuite/binutils-all/windres/version_cat.rsd: New.
@
text
@d1 4
@


1.141
log
@Updated windres tool
@
text
@d1 5
@


1.140
log
@	* binutils-all/strip-3.d: Strip .pdr section.
@
text
@d1 15
@


1.139
log
@	* binutils-all/objcopy.exp: Only run needed-by-reloc test for ELF.
@
text
@d1 4
@


1.138
log
@	* binutils-all/needed-by-reloc.s: Use .long rather than .4byte.
@
text
@d1 4
@


1.137
log
@	binutils/testsuite/
	* binutils-all/strip-3.d: Strip .ARM.attributes and .reginfo
	sections.
@
text
@d1 4
@


1.136
log
@	* binutils-all/objcopy.exp (copy_setup): Don't perror, use send_log.
	(copy_executable): Return early if test2 is blank.
	Return unsupported rather than unresolved if we can't run
	executables.  Do test1 if we can compile.
@
text
@d1 5
@


1.135
log
@* objcopy.c (filter_symbols): Explicitly stripping a symbol used in relocations is an error.
  Retype 'keep' to bfd_boolean.
* binutils-all/objcopy.exp: Add test for stripping a symbol used in a relocation.
* binutils-all/needed-by-reloc.s: New file.
@
text
@d1 7
@


1.134
log
@* objcopy.c (reverse_bytes):  New variable.
  (command_line_switch, copy_main):  Add OPTION_REVERSE_ENDIAN.
  (copy_options, copy_usage):  Add "reverse-bytes" entry.
  (copy_section):  Reverse bytes within output sections.
* doc/binutils.texi:  Document new objcopy option.
* testsuite/binutils-all/objcopy.exp: Add test for --reverse-bytes.
@
text
@d1 7
@


1.133
log
@	* binutils-all/readelf.exp (regexp_diff): Delete.
@
text
@d1 6
@


1.132
log
@	* binutils-all/arm/thumb2-cond.s: Allow for tab expansion by the pty.
	Rename the second test.
@
text
@d1 4
@


1.131
log
@2007-04-12  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/4348
	* objcopy.c (copy_object): Don't stop when there are no
	sections to be copied.

testsuite/

2007-04-12  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/4348
	* binutils-all/empty.s: New file.
	* binutils-all/strip-3.d: Likewise.

	* binutils-all/objcopy.exp: Run strip-3 for ELF target.
@
text
@d1 5
@


1.130
log
@	* binutils-all/objcopy.exp: Skip for uclinux targets.
@
text
@d1 8
@


1.129
log
@* binutils-all/readelf.exp (readelf_wi_test): Fix unexpected output failure message.
@
text
@d1 4
@


1.128
log
@Renamed target x86_64-*-mingw64 to x86_64-*-mingw*.
@
text
@d1 5
@


1.127
log
@Add x86_64-mingw64 target
@
text
@d1 8
@


1.126
log
@Fix PR references.
@
text
@d1 10
@


1.125
log
@binutils/

2006-09-14  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/3182
	* objcopy.c (group_signature): Return proper group signature.

binutils/testsuite/

2006-09-14  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/3182
	* binutils-all/objcopy.exp: Run strip-1 and strip-2 for ELF
	targets.

	* binutils-all/strip-1.d: New file.
	* binutils-all/strip-2.d: Likewise.

	* lib/utils-lib.exp (run_dump_test): Support strip.
@
text
@d3 1
a3 1
	PR binutils/3182
@


1.124
log
@	[ ChangeLog ]
	* config.sub: Add support for sde as alias of mipsisa32-sde-elf.

	[ bfd/ChangeLog ]
	* config.bfd: Add configurations for mips*el-sde-elf* and
	mips*-sde-elf*.

	[ binutils/testsuite/ChangeLog ]
	* binutils-all/readelf.exp (readelf_test): Handle mips*-sde-elf*.

	[ gas/ChangeLog ]
	* configure.tgt: Handle mips*-sde-elf*.

	[ gas/testsuite/ChangeLog ]
	* gas/mips/mips.exp: Handle mips*-sde-elf*.
@
text
@d1 11
@


1.123
log
@binutils/testsuite/
	* binutils-all/localize-hidden-1.d: Use objdump --syms instead
	of readelf.
@
text
@d1 6
@


1.122
log
@binutils/
	* objcopy.c (localize_hidden): New variable.
	(OPTION_LOCALIZE_HIDDEN): New command_line_switch value.
	(copy_options): Add --localize-hidden.
	(copy_usage): Mention --localize-hidden.
	(is_hidden_symbol): New function.
	(filter_symbols): Handle localize_hidden.
	(copy_object): Call filter_symbols if localize_hidden.
	(copy_main): Handle OPTION_LOCALIZE_HIDDEN.
	* doc/binutils.texi (--localize-hidden): Document new option.

binutils/testsuite/
	* binutils-all/localize-hidden-1.s,
	* binutils-all/localize-hidden-1.d,
	* binutils-all/localize-hidden-2.s,
	* binutils-all/localize-hidden-2.d: New tests.
	* binutils-all/objcopy.exp: Run them.
@
text
@d1 5
@


1.121
log
@2006-06-06  Paul Brook  <paul@@codesourcery.com>

opcodes/
	* arm-dis.c (coprocessor_opcodes): Add %c to unconditional arm
	instructions.
	(neon_opcodes): Add conditional execution specifiers.
	(thumb_opcodes): Ditto.
	(thumb32_opcodes): Ditto.
	(arm_conditional): Change 0xe to "al" and add "" to end.
	(ifthen_state, ifthen_next_state, ifthen_address): New.
	(IFTHEN_COND): Define.
	(print_insn_coprocessor, print_insn_neon): Print thumb conditions.
	(print_insn_arm): Change %c to use new values of arm_conditional.
	(print_insn_thumb16): Print thumb conditions.  Add %I.
	(print_insn_thumb32): Print thumb conditions.
	(find_ifthen_state): New function.
	(print_insn): Track IT block state.
gas/testsuite/
	* gas/arm/thumb2_bcond.d: Update expected output.
	* gas/arm/thumb32.d: Ditto.
	* gas/arm/vfp1_t2.d: Ditto.
	* gas/arm/vfp1xD_t2.d: Ditto.
binutils/testsuite/
	* binutils-all/arm/objdump.exp: New file.
	* binutils-all/arm/thumb2-cond.s: New test.
@
text
@d1 8
@


1.120
log
@2006-05-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/copy-3.d: Fix a typo.
@
text
@d1 5
@


1.119
log
@2006-05-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/copy-3.d: New.

	* objcopy.exp: Run copy-3.
@
text
@d3 4
@


1.118
log
@2006-05-02  Dave Korn  <dave.korn@@artimi.com>

	* binutils-all/copy-1.d (name):  Correct spelling of 'setting'.
	* binutils-all/copy-2.d (name):  Likewise.
@
text
@d1 6
@


1.117
log
@* binutils-all/copy-2.d: Change the name of the section whose flags are
  changed to "foo" so that the test will work with PE based targets.
  Skip this test for AOUT based targeted.
* binutils-all/copytest.s: New file.
@
text
@d1 5
@


1.116
log
@2006-05-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/objcopy.exp: Run "copy-1" for ELF only.
@
text
@d1 7
@


1.115
log
@	* binutils-all/objcopy.exp (objcopy_test_readelf): Remove stray ;
@
text
@d1 4
@


1.114
log
@2006-04-26  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/2593
	* binutils-all/copy-1.d: New file.
	* binutils-all/copy-1.s: Likewise.
	* binutils-all/copy-2.d: Likewise.

	* binutils-all/objcopy.exp: Add run_dump_test "copy-1" and
	run_dump_test "copy-2".

	* lib/utils-lib.exp (run_dump_test): New.
	(slurp_options): Likewise.
	(regexp_diff): Likewise.
	(file_contents): Likewise.
	(verbose_eval): Likewise.
@
text
@d1 4
@


1.113
log
@2006-04-25  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/2467
	* binutils-all/objcopy.exp (strip_test): Also test "strip -g"
	on archive.
@
text
@d1 16
@


1.112
log
@2006-04-10  H.J. Lu  <hongjiu.lu@@intel.com>

	* lib/utils-lib.exp (default_binutils_run): Check exit status.
@
text
@d1 6
@


1.111
log
@	* config/default.exp: Do not load the unneeded util-defs.exp.
@
text
@d1 4
@


1.111.2.1
log
@binutils/testsuite/
	* binutils-all/localize-hidden-1.d: Use objdump --syms instead
	of readelf.
@
text
@a0 5
2006-06-24  Richard Sandiford  <richard@@codesourcery.com>

	* binutils-all/localize-hidden-1.d: Use objdump --syms instead
	of readelf.

@


1.111.2.2
log
@Merge changes between binutils-csl-2_17-branchpoint and
binutils-2_17, except for the addition of generated files to CVS.
@
text
@a5 4
2006-04-10  H.J. Lu  <hongjiu.lu@@intel.com>

	* lib/utils-lib.exp (default_binutils_run): Check exit status.

@


1.110
log
@binutils/testsuite/
2005-11-15  Jan Beulich  <jbeulich@@novell.com>

	* config/default.exp (link_or_copy): New. Use it for setting
	up assembler and linker for the compiler to use.

ld/testsuite/
2005-11-15  Jan Beulich  <jbeulich@@novell.com>

	* ld-bootstrap/bootstrap.exp: Delete ld-partial.o and ld[123]*
	after test.
	* ld-elf/elf.exp: Delete preinit, init, and fini after test.
	* ld-elf/sec64k.exp: Use macro and repeat in generated source
	files. Delete object files after test.
@
text
@d1 4
@


1.109
log
@binutils/testsuite/

2005-10-20  H.J. Lu  <hongjiu.lu@@intel.com>

	PR ld/251
	* binutils-all/group.s: New file.

	* binutils-all/objcopy.exp (objcopy_test_readelf): New
	procedure.
	Use it to test ELF group.

ld/testsuite/

2005-10-20  H.J. Lu  <hongjiu.lu@@intel.com>

	PR ld/251
	* ld-elf/group.2d: New file.
@
text
@d1 5
@


1.108
log
@binutils/testsuite/

2005-10-19  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/1487
	* binutils-all/objcopy.exp (objcopy_test): New procedure.
	Use it to test simple copy, ia64 link order and ELF unknown
	section type.

	* binutils-all/unknown.s: New file.

ld/testsuite/

2005-10-19  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/1487
	* ld-elf/unknown.d: New file.
@
text
@d1 9
d12 1
a12 1
	PR binutils/1487
@


1.107
log
@2005-10-19  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/1321
	* binutils-all/link-order.s: New.

	* binutils-all/objcopy.exp: Check ia64 link order.
@
text
@d3 9
@


1.106
log
@2005-10-11  Danny Smith  <dannysmith@@users.sourceforge.net>

	* binutils-all/windres/escapex-2.rc: New file.
	* binutils-all/windres/escapex-2.rsd: Generate.
@
text
@d1 7
@


1.105
log
@Re-enable GAS for z8k-coff
@
text
@d1 5
@


1.104
log
@Remove a29k support.
@
text
@d1 4
@


1.103
log
@Update FSF address
@
text
@d1 5
@


1.102
log
@Condense the two tests into one and add a "-M entry:" for the second label.
@
text
@d1 12
@


1.101
log
@Add VAX specific disassembler option -Mentry: to specify a function entry
address, and add code to test this new option.
@
text
@d1 5
@


1.100
log
@       * config/default.exp: Remove send_user call for stray output.
@
text
@d1 7
@


1.99
log
@Add prototype for printf() and make type of "string" array be "char" in
order to avoid compile time warnings.
@
text
@d1 4
@


1.98
log
@	* binutils-all/readelf.ss: Allow for both .rel and .rela sections.
@
text
@d1 6
@


1.97
log
@	* binutils-all/objdump.exp (cpus_expected): Append cris.
@
text
@d1 4
@


1.96
log
@2004-10-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/dlltool.exp: Set XFAIL if $target_xfail is yes.
@
text
@d1 4
@


1.95
log
@* dlltool.c: Include <assert.h>.
(PREFIX_ALIAS_BASE): Define.
(struct export): Add member import_name;
(def_exports): Set import_name.
(make_one_lib_file): Remove prefix alias code, use import_name in .idata$6.
(gen_lib_file): Create and delete aliases.

* binutils-all/alias.def: New file.
* binutils-all/dlltool.exp: Two new -p tests.
* config/default.exp (dlltool_gas_flag): New variable.
Copy gas and lds executables into tmpdir/gas directory rather than making
symlinks which might not be supported by the host OS.
Attempt to handle the case where the host OS does not use the .exe extension
but the target OS does.
* lib/utils-lib.exp (exe_ext): New procedure.
@
text
@d1 4
@


1.94
log
@dlltool.c (ext_prefix_alias): New global variable.
 (make_one_lib_file): Add aliases with prefixes for external and import
 definitions.
 (usage): Document -p option.
 (long_options): Add --ext-prefix-alias option.
 (main): Handle -p.
* doc/binutils.texi: Document new switch.
* NEWS: Mention new switch.
@
text
@d1 11
@


1.93
log
@binutils/testsuite/:
	* binutils-all/m68k/movem.s: New file.

	* binutils-all/m68k/objdump.exp: New file.

include/opcode/:
	* m68k.h: Fix comment.

opcodes/:
	* m68k-dis.c (m68k_valid_ea): Check validity of all codes.
@
text
@d1 5
@


1.92
log
@Cope with ARM mapping symbols
@
text
@d1 6
@


1.91
log
@	* binutils-all/ar.exp: Remove stray semicolons.
	* binutils-all/dlltool.exp: Likewise.
	* binutils-all/objcopy.exp: Likewise.
	* binutils-all/readelf.exp: Likewise.
	* binutils-all/windres/windres.exp: Likewise.
	* lib/utils-lib.exp: Likewise.
@
text
@d1 4
@


1.90
log
@	* binutils-all/readelf.ss-mips: Allow named section symbols.
@
text
@d1 9
@


1.89
log
@	* binutils-all/objcopy.exp: Accept main as a data symbol as well.
@
text
@d1 4
@


1.88
log
@	* ar.c (main): Support POSIX-compatible argument parsing.

testsuite:
	* binutils-all/ar.exp (argument_parsing): New test.
@
text
@d1 4
@


1.87
log
@	* ldgram.y (exp): Add two operand ALIGN.
	* ldexp.c (fold_binary): Add ALIGN_K case.
	* ld.texinfo (ALIGN): Document two operand version.
	* ld-scripts/align.{s,t,exp}: New.
@
text
@d1 4
@


1.86
log
@	* binutils-all/objcopy.exp: Reorder arguments for POSIXLY_CORRECT
	systems.p
@
text
@d4 1
a4 1
	systems.p
@


1.85
log
@Split ChangeLog files.
@
text
@d1 4
@


1.85.6.1
log
@	* binutils-all/objcopy.exp: Reorder arguments for POSIXLY_CORRECT
	systems.
@
text
@a0 4
2004-02-20  Nathan Sidwell  <nathan@@codesourcery.com>

	* binutils-all/objcopy.exp: Reorder arguments for POSIXLY_CORRECT
	systems.
@


1.85.6.2
log
@Merge from mainline
@
text
@a0 6
2004-04-08  Alan Modra  <amodra@@bigpond.net.au>

	Apply from mainline.
	2004-03-30  Jakub Jelinek  <jakub@@redhat.com>
	* binutils-all/objcopy.exp: Accept main as a data symbol as well.

@


1.85.6.3
log
@Merge to 2.15 branch.
@
text
@a0 6
2004-04-09  Daniel Jacobowitz  <drow@@mvista.com>

	Merge from mainline:
	2004-02-27  Andreas Schwab  <schwab@@suse.de>
	* binutils-all/ar.exp (argument_parsing): New test.

@


1.85.6.4
log
@	* binutils-all/readelf.ss-mips: Allow named section symbols.
@
text
@a0 4
2004-04-14  Richard Sandiford  <rsandifo@@redhat.com>

	* binutils-all/readelf.ss-mips: Allow named section symbols.

@


1.85.6.5
log
@Merge or32-rtems, French translation, and ARM mapping symbol testsuite fix
to 2.15.
@
text
@a0 4
2004-05-15  Nick Clifton  <nickc@@redhat.com>

	* binutils-all/readelf.ss: Allow for ARM mapping symbols.

@


1.84
log
@Add "msp" to list of expected architectures.
@
text
@a0 1
2003-12-03  Nick Clifton  <nickc@@redhat.com>
d2 8
a9 1042
	* binutils-all/objdump.exp (cpus_expected): Add "msp".

2003-10-06  Dave Brolley  <brolley@@redhat.com>

	* binutils-all/objdump.exp (cpu_expected): Add fr550.

2003-09-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/readelf.exp: Use is_elf_format.

	* binutils-all/readelf.h: Support IA64/ILP32.
	* binutils-all/readelf.s: Likewise.
	* binutils-all/readelf.ss: Likewise.

	* lib/utils-lib.exp (proc is_elf_format): Copy from ld
	testsuite. Add ia64-*-hpux*.

2003-06-29  Danny Smith  <dannysmith@@users.sourceforge.net>

	* binutils-all/objcopy.exp: Initialise $test_prog to
	testprog.exe on mingw targeted systems too.

2003-06-28  Danny Smith  <dannysmith@@users.sourceforge.net>

	* binutils-all/windres/checkbox.rc: New file.
	* binutils-all/windres/checkbox.rsd: New file.
	* binutils-all/windres/combobox.rc: New file.
	* binutils-all/windres/combobox.rsd: New file.
	* binutils-all/windres/edittext.rc: New file.
	* binutils-all/windres/edittext.rsd: New file.
	* binutils-all/windres/listbox.rc: New file.
	* binutils-all/windres/listbox.rsd: New file.
	* binutils-all/windres/scrollbar.rc: New file.
	* binutils-all/windres/scrollbar.rsd: New file.

2003-06-27  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* binutils-all/readelf.ss-tmips: Adjust symbol indices.

2003-06-19  Nick Clifton  <nickc@@redhat.com>

	* binutils-all/objcopy.exp: Replace occurances of testprog with
	$test_prog.  Initialise this variable to testprog.exe on Cygwin
	targeted systems.

2003-04-26  Nick Clifton  <nickc@@redhat.com>

	* binutils-all/readelf.exp (prune_read_warnings): Rename to
	prune_readelf_wi_warnings.
        (readelf_wi_test): New proc: Test 'readelf -wi' by grepping
        through its output.
        Replace invocation of "readelf_test -wi" with "readelf_wi_test"
	* binutils-all/readelf.wi: Delete.
	
2003-04-23  Nick Clifton  <nickc@@redhat.com>

	* binutils-all/readelf.exp (proc prune_readelf_warnings): New
	function.
	(proc readelf_test): Prune warning messages.
	(readelf_test -wi): Add more expected failures.
	* binutils-all/readelf.wi: Severly reduce expected output.
	* binutils-all/testprog.c (string): Explicitly use unsigned
	chars.
	(stdio.h, string.h): Remove inclusion.

2003-04-23  J"orn Rennecke <joern.rennecke@@superh.com>

	* binutils-all/readelf.wi: Update.

2003-04-22  Dimitrie O. Paun  <dpaun@@rogers.com>

	* binutils-all/windres/windres.exp: Add test for the new -J
	option.  Remove use of -I as it now generates a warning message.

2003-04-03  Nick Clifton  <nickc@@redhat.com>

	* binutils-all/windres/dialogid.rc: Replace "Static" with
	"classname" so that compilation will match behaviour of the
	Windows resource compiler.

2003-03-31  Nick Clifton  <nickc@@redhat.com>

	* binutils-all/windres/dialogid.rc: New test source file.
	* binutils-all/windres/dialogid.rsd: New test expected results.	

2002-11-07  Casper S. Hornstrup  <chorns@@users.sourceforge.net>

	* binutils-all/dlltool.exp: New file for testing dlltool.
	* binutils-all/fastcall.def: New file for testing fastcall
	exports.
	* config/default.exp: Set DLLTOOL variable.

2002-08-27  Alan Modra  <amodra@@bigpond.net.au>

	* binutils-all/objcopy.exp: Revert last change.

2002-08-26  Alan Modra  <amodra@@bigpond.net.au>

	* binutils-all/objcopy.exp (strip_test): Adjust for "no symbols" on
	stdout.
	(strip_executable): Likewise.

2002-08-13  Alan Modra  <amodra@@bigpond.net.au>

	* binutils-all/objdump.exp (cpus_expected): Add fr500, ip2022,
	tic80, tms320c30.
	* binutils-all/objcopy.exp (simple copy): Revise xfails.

2002-05-29  Alan Modra  <amodra@@bigpond.net.au>

	* binutils-all/objcopy.exp (strip_test_with_saving_a_symbol):
	Revert 2001-11-15.  Instead allow `D main'.

2002-04-16  Eric Kohl <ekohl@@rz-online.de>

	* binutils-all/windres/dialog0.rc: New test case: Check default
	attributes for dialogs
	* binutils-all/windres/dialog0.rsd: New file: Expected output.
	* binutils-all/windres/dialog1.rc: New test case: Check
	DISCARDABLE flag is propogated.
	* binutils-all/windres/dialog1.rsd: New file: Expected output.

2002-04-15  Eric Kohl <ekohl@@rz-online.de>

	* binutils-all/windres/dlgfont.rc: New test case: Checks FONT
	statement in DIALOG and DIALOGEX resources.
	* binutils-all/windres/dlgfont.rsd: Expected output.

2002-04-11  Nick Clifton  <nickc@@cambridge.redhat.com>

	* binutils-all/ar.exp (long_filenames): Use 'file delete' instead
	of 'exec rm -f'.

2002-04-10  Nick Clifton  <nickc@@cambridge.redhat.com>

	* binutils-all/ar.exp (long_filenames): Delete the abc... files
	upon successfully completion of the test.

	* binutils-all/windres/capstyle.rsd: Regenerate using MSVC.
	* binutils-all/windres/deflang.rsd: Regenerate using MSVC.
	* binutils-all/windres/dialogsignature.rsd: Regenerate using MSVC.
	* binutils-all/windres/escapea.rsd: Regenerate using MSVC.
	* binutils-all/windres/escapex.rsd: Regenerate using MSVC.
	* binutils-all/windres/nocaption.rsd: Regenerate using MSVC.
	* binutils-all/windres/printstyle.rsd: Regenerate using MSVC.
	* binutils-all/windres/sublang.rsd: Regenerate using MSVC.

2002-04-09  Nick Clifton  <nickc@@cambridge.redhat.com>

	* binutils-all/windres/capstyle.rc: New test case: Set default
	style for captions.
	* binutils-all/windres/capstyle.rsd: Expected output.

	* binutils-all/windres/deflang.rc: New test case: Check default
	language.
	* binutils-all/windres/deflang.rsd: Expected output.

	* binutils-all/windres/dialogsignature.rc: New test case for
	decoding the dialog signature.
	* binutils-all/windres/dialogsignature.rsd: Expected output.

	* binutils-all/windres/escapea.rc: New test case for encoding \a
	escape sequence.
	* binutils-all/windres/escapea.rsd: Expected output.

	* binutils-all/windres/escapex.rc: New test case for hex constants
	in strings.
	* binutils-all/windres/escapex.rsd: Expected output

	* binutils-all/windres/nocaption.rc: New test case dialogs without
	captions.
	* binutils-all/windres/nocaption.rsd: Expected output

	* binutils-all/windres/quoteclass.rc: New test case for quoted
	CLASS definitions in DIALOG resources.

	* binutils-all/windres/sublang.rc: New test case: Check assignment
	of sub-language.
	* binutils-all/windres/sublang.rsd: Expected output.

2002-02-18  Timothy Daly  <remote_bob@@yahoo.com>

	* binutils-all/readelf.r: Change expected output to match new,
	narrowed-to-80-chars format.
	* binutils-all/readelf.r-64: Change expected output to match new,
	narrowed-to-80-chars format.

2002-02-18  Hans-Peter Nilsson  <hp@@bitrange.com>

	* binutils-all/objcopy.exp
	(strip_executable_with_saving_a_symbol): Prune symbol Main in nm
	output for mmix-knuth-mmixware.

2002-02-13  Nick Clifton  <nickc@@cambridge.redhat.com>

	* binutils-all/readelf.ss-mips: Do not expect an explicit
	ordering of the sections.

2002-02-10  Nick Clifton  <nickc@@cambridge.redhat.com>

	* binutils-all/objdump.exp: Add 'xscale' to the list of expected
	CPUs.

2002-01-14  Nick Clifton  <nickc@@cambridge.redhat.com>

	* binutils-all/objcopy.exp: Expect xscale-coff to fail simple
	objcopy test for the same reason as arm-coff.

2001-11-29  H.J. Lu <hjl@@gnu.org>

	* binutils-all/objcopy.exp (strip_test): Add strip on archive.

2001-11-15  Alan Modra  <amodra@@bigpond.net.au>

	* binutils-all/objcopy.exp: (strip_test_with_saving_a_symbol):
	Allow '? main', to suit powerpc64.

2001-11-14  Geoffrey Keating  <geoffk@@redhat.com>

	* binutils-all/readelf.exp: powerpc-*-eabi* is an ELF target.

2001-10-03  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* binutils-all/readelf.exp: Exclude mips*-*-elf* from 'readelf -wi'
	test.

Tue Sep  4 20:25:41 2001  Jeffrey A Law  (law@@cygnus.com)

	* binutils/all/readelf.exp: Expect readelf -wi to
	fail for the H8 series.

2001-08-27  Alan Modra  <amodra@@bigpond.net.au>

	* binutils-all/readelf.s-64: Adjust offsets for powerpc64.  Don't
	use constructs like [45][08] when all combinations are not valid.
	Instead use (48|50) to explicitly state which values are correct.

2001-08-21  H.J. Lu  <hjl@@gnu.org>

	* binutils-all/readelf.r: Updated for the readelf change.

	* binutils-all/readelf.r-64: New for the readelf change.

2001-07-27  H.J. Lu  <hjl@@gnu.org>

	* binutils-all/windres/windres.exp: Don't set xfail for
	bmpalign (compare) on none-ix86/pe targets.

2001-07-24  H.J. Lu  <hjl@@gnu.org>

	* binutils-all/windres/windres.exp: Set xfail on none-ix86/pe
	targets.

2001-07-18  DJ Delorie  <dj@@redhat.com>

	* config/default.exp (WINDRES): Add.
	* binutils-all/windres/windres.exp: New.
	* binutils-all/windres/README: New.
	* binutils-all/windres/bmp1.bmp: New.
	* binutils-all/windres/bmpalign.rc: New.
	* binutils-all/windres/bmpalign.rsd: New.
	* binutils-all/windres/lang.rc: New.
	* binutils-all/windres/lang.rsd: New.
	* binutils-all/windres/msupdate: New.
	* binutils-all/windres/strtab1.rc: New.
	* binutils-all/windres/strtab1.rsd: New.

2001-07-05  Ben Elliston  <bje@@redhat.com>

	* lib/utils-lib.exp (target_assemble): Remove duplicate copy.
	(default_target_assemble): Likewise.

2001-06-18  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* binutils-all/readelf.exp: Typo.

2001-06-19  Andreas Jaeger  <aj@@suse.de>

	* binutils-all/readelf.r: Don't check for specific info value to
	pass testsuite on ia64 and alpha.

2001-06-07  H.J. Lu  <hjl@@gnu.org>

	* binutils-all/readelf.ss-mips: Support stabs.
	* binutils-all/readelf.ss-tmips: Likewise.

2001-05-25  H.J. Lu  <hjl@@gnu.org>

	* binutils-all/readelf.exp (readelf_test): Set target_machine
	to tmips for traditional mips.

	* binutils-all/readelf.s: Support traditional mips.

	* binutils-all/readelf.ss-tmips: New for traditional mips.

2001-05-25  Alan Modra  <amodra@@one.net.au>

	* binutils-all/readelf.exp: Replace linuxoldld with linux*oldld
	and linuxaout with linux*aout.
	* binutils-all/objcopy.exp: Remove xfail for linuxaout.

2001-05-24  H.J. Lu  <hjl@@gnu.org>

	* binutils-all/objdump.exp (cpus_expected): Add s390.

2001-03-30  H.J. Lu  <hjl@@gnu.org>

	* binutils-all/readelf.exp: Run on more ELF targets.

2001-02-11  H.J. Lu  <hjl@@gnu.org>

	* config/default.exp: Set up gcc_gas_flag.

	* binutils-all/objcopy.exp (copy_setup): Process gcc_gas_flag
	for Linux only.

	* binutils-all/testprog.c: Include <string.h> and don't use
	exit ().

2001-01-16  Matthew Green  <mrg@@redhat.com>

	* binutils-all/readelf.s-64: Match readelf -S output.

2000-12-09  Nick Clifton  <nickc@@redhat.com>

	* binutils-all/objdump.exp (cpus_expected): Add tic54x and
	tms320c54x.

2000-11-28  Hans-Peter Nilsson  <hp@@axis.com>

	* binutils-all/readelf.s: Adjust to readelf.c formatting changes.

2000-11-02  Chris Demetriou  <cgd@@sibyte.com>

	* binutils-all/readelf.exp (regexp_diff): Add code
	from gas testsuite to treat "#..." at beginning of line
	as an indicator to skip extra non-matching lines at that
	location.
	(readelf_test): Add support for using a machine-specific
	regexp comparison file.
	(readelf -S test, readelf -s test): Remove v850*-*-* and
	mips*-*-* from list of expected failures.
	* binutils-all/readelf.s: Accomodate changes due to
	additional sections (and therefore section numbering
	differences) on v850*-*-* and mips*-*-* targets.
	* binutils-all/readelf.ss: Likewise.
	* binutils-all/readelf.ss-mips: New file, which matches
	expected output of readelf -s test for mips*-*-*.

2000-10-25  Hans-Peter Nilsson  <hp@@axis.com>

	* binutils-all/readelf.exp (-wi test): Add cris-*-* to xfails.

2000-10-19  Chris Demetriou  <cgd@@sibyte.com>

	* binutils-all/readelf.exp (readelf_test): Work properly
	when multiple targets expect failtures.
	(readelf -S test, readelf -s test): Expect mips*-*-*
	to fail.

2000-07-10  Alan Modra  <alan@@linuxcare.com.au>

	* lib/utils-lib.exp (default_binutils_assemble): Don't do the hppa
	sed fudges for hppa-linux.

2000-07-01  Frank Ch. Eigler  <fche@@redhat.com>

	* binutils-all/objdump.exp (cpus_expected, cpus_regex): Reorganize
	syntax to display more tcl nature.

2000-06-18  Stephane Carrez  <stcarrez@@worldnet.fr>

	* binutils-all/objdump.exp (cpus_expected): Recognize m68hc11 and
	m68hc12.

2000-06-18  Nick Clifton  <nickc@@redhat.com>

	* binutils-all/readelf.wi: Do not assume the compilation tag to be
	unit 1.

	* binutils-all/objcopy.exp: Expect all arm variants to fail the
	copying executable test.

2000-06-14  Hans-Peter Nilsson  <hp@@bitrange.com>

	* binutils-all/readelf.exp (regexp_diff): Do not break when a
	mismatching line is found.
	(readelf_find_size): New.
	(readelf_size): New global variable.
	(readelf_test): Add newline to send_log of command.
	If $srcdir/$subdir/$regexp_file-$readelf_size exists, use it
	instead of $srcdir/$subdir/$regexp_file.
	(*-*elf test): Fix typo in message.
	* binutils-all/readelf.s-64: New.
	* binutils-all/readelf.ss-64: New.

2000-05-02  Alan Modra  <alan@@linuxcare.com.au>

	* binutils-all/objcopy.exp (simple copy): Clear xfail for hppa-linux.

	* binutils-all/hppa/objdump.exp: Disable test for elf.

2000-03-13  Nick Clifton  <nickc@@cygnus.com>

	* binutils-all/readelf.s: Adjust to match new format of readelf
	output.
	* binutils-all/readelf.ss: Adjust to match new format of readelf
	output.

1999-11-01  Nick Clifton  <nickc@@cygnus.com>

	* binutils-all/objcopy.exp: Expect simple objcopy test to fail
	for COFF based ARM and Thumb ports.

Tue Sep 14 00:28:17 1999  Jeffrey A Law  (law@@cygnus.com)

	* binutils-all/hppa/objdump.exp: Do not run for PA64.

1999-09-04  Steve Chamberlain  <sac@@pobox.com>

	* binutils-all/objdump.exp: Add pj to cpus_expected.

Sat Aug 28 00:24:27 1999  Jerry Quinn <jquinn@@nortelnetworks.com>

	* binutils-all/hppa/freg.s:  New file.
	* binutils-all/hppa/objdump.exp:  Add freg.s test.

1999-08-09  Ian Lance Taylor  <ian@@zembu.com>

	* binutils-all/objcopy.exp: Add setup_xfail for simple copy test
	for i*86-*-msdos*.

1999-07-21  H.J. Lu  <hjl@@gnu.org>

	* binutils-all/testprog.c: Include <stdio.h>.

1999-06-29  Nick Clifton  <nickc@@cygnus.com>

	* binutils-all/objdump.exp: Add fr30 and MCore to expected cpus
	list.

	* binutils-all/readelf.r: Do not assume a fixed number of spaces
	in the output.

1999-06-10  Nick Clifton  <nickc@@cygnus.com>

	* binutils-all/readelf.wi: Update to match latest output.
	* binutils-all/readelf.h: Update to match latest output.

Wed Jun  9 11:59:22 1999  Andreas Schwab  <schwab@@issan.cs.uni-dortmund.de>

	* binutils-all/objdump.exp: Tighten regexp to match `objdump -i'
	output to avoid massive exponential behaviour.

1999-05-28  Ian Lance Taylor  <ian@@zembu.com>

	* binutils-all/readelf.h: Update for changes of 1999-04-08.

1999-03-12  Nick Clifton  <nickc@@cygnus.com>

	* binutils-all/readelf.wi: Remove FR30 specific components.
	* binutils-all/readelf.s: Remove RELA specific components.

1999-02-16  Nick Clifton  <nickc@@cygnus.com>

	* binutils-all/readelf.s: Do not assume section alignment is 4.
	* binutils-all/readelf.r: Do not assume rela's are being used.
	* binutils-all/readelf.exp: disable tests for non ELF based
	targets.

1999-02-02  Nick Clifton  <nickc@@cygnus.com>

	* binutils-all/readelf.wi: Amend to match new readelf output.
	* binutils-all/readelf.r: Do not assume that RELAs will be used.

1999-01-29  Nick Clifton  <nickc@@cygnus.com>

	* config/default.exp: Add definitions of READELF and READELFFLAGS.

	* binutils-all/readelf.exp: New file: Readelf tests
	* binutils-all/readelf.h: New file: Expected results for 'readelf -h'
	* binutils-all/readelf.s: New file: Expected results for 'readelf -S'
	* binutils-all/readelf.ss: New file: Expected results for 'readelf -s'
	* binutils-all/readelf.r: New file: Expected results for 'readelf -r'
	* binutils-all/readelf.wi: New file: Expected results for 'readelf -wi'

Wed Dec  9 19:11:39 1998  Jeffrey A Law  (law@@cygnus.com)

	* binutils-all/objcopy.exp (copy_executable): Expect comparison
	failure for mips*-*-elf.

Fri Oct 16 22:57:12 1998  Felix Lee  <flee@@cygnus.com>

	* binutils-all/objcopy.exp: fix "no symbols" message.

Tue Jul 28 15:14:04 1998  Jeffrey A Law  (law@@cygnus.com)

	* binutils-all/objcopy.exp: Keep "main" and "_main" for strip with
	saving symbol tests.  Look for either "main" or "_main" in the output
	file.  Fix test for "no symbols" in the output file.

1998-07-22  Vladimir N. Makarov  <vmakarov@@cygnus.com>

	* binutils-all/objcopy.exp: Polish output about fail for objcopy
	(simple copy), strip with/without saving a symbol for object file
	and executable.

Wed Jul  1 16:27:40 1998  Nick Clifton  <nickc@@cygnus.com>

	* binutils-all/objcopy.exp: ARM simple objcopy now passes.

Wed Jun 24 09:20:21 1998  Nick Clifton  <nickc@@cygnus.com>

	* binutils-all/objdump.exp: Look for '.data' rather than 'data'
	when parsing output of objdump -h.
	* binutils-all/size.exp: Look for '.data' rather than 'data' when
	parsing output of size -A.

1998-07-20  Vladimir N. Makarov  <vmakarov@@cygnus.com>

	* binutils-all/objcopy.exp: Two new tests - strip object file with
	saving a symbol and strip executable file with saving a symbol.

Fri May 29 14:50:24 1998  Ian Lance Taylor  <ian@@cygnus.com>

	* binutils-all/objcopy.exp: Don't xfail the simple objcopy test
	when cross compiling.

Thu Nov  6 14:32:37 1997  Bob Manson  <manson@@charmed.cygnus.com>

	* lib/utils-lib.exp: Temporary definition of target_assemble and
	default_target_assemble so that testing can work with older
	dejagnu versions.

Wed Sep 24 12:09:15 1997  Bob Manson  <manson@@charmed.cygnus.com>

	* binutils-all/objcopy.exp(strip_executable): Make a new copy of
	the executable being tested.

Mon Sep 15 21:25:20 1997  Bob Manson  <manson@@charmed.cygnus.com>

	* binutils-all/objcopy.exp: Compile the executables to be tested
	on the target with a status wrapper (as necessary).

	* binutils-all/ar.exp: If testing on a remote host, don't bother
	looking on the local host for the program being tested. Use the
	correct filenames on the remote host.

	* binutils-all/nm.exp: Ditto.

	* binutils-all/size.exp: Ditto.

	* binutils-all/objdump.exp: Ditto.
	(cpus_expected): Add the target CPU to the regexp of CPUs to be
	expected, if it's not already there.

Thu Aug 28 09:57:27 1997  Doug Evans  <dje@@canuck.cygnus.com>

	* binutils-all/objdump.exp (cpus_expected): Add arc.

Tue Aug  5 00:03:20 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* config/default.exp: Look for nm-new and strip-new.

Tue Jun  3 17:12:54 1997  Bob Manson  <manson@@charmed.cygnus.com>

	* config/default.exp: Remove expect_before statement.

	* binutils-all/objcopy.exp: Don't use global exec_output variable;
	the output is returned from remote_load instead.

Mon May 12 22:14:20 1997  Bob Manson  <manson@@charmed.cygnus.com>

	* binutils-all/objcopy.exp(strip_test): Tests that
	fail to compile are untested, not unresolved.
	(copy_setup): Ditto.

	* lib/utils-lib.exp(default_binutils_assemble): Call
	target_assemble instead of target_compile.

Wed Apr 30 20:37:51 1997  Bob Manson  <manson@@charmed.cygnus.com>

	Changes to support multilib and remote hosted testing, along with
	general cleanups and simplifications.

	* lib/utils-lib.exp(binutil_version): Use remote_exec.
	(default_binutils_run): Ditto.
	(default_binutils_assemble): Remove first argument; call
	target_compile to actually do the assembly.
	(default_binutils_compile,default_binutils_remove,prune_warnings):
	Delete.

	* config/default.exp: Remove AS and ASFLAGS.
	(binutils_compile,binutils_remove): Delete.
	(binutils_assemble): Remove first argument.

	* binutils-all/ar.exp: See if we're running the tests on
	a remote host, and download/upload files as appropriate.
	Replace calls to binutils_remove with remote_file. Replace
	calls to binutils_compile with target_compile. Remove initial
	argument to binutils_assemble. Use remote_load to execute
	programs on the target.
	* binutils-all/nm.exp: Ditto.
	* binutils-all/objcopy.exp:  Ditto.
	* binutils-all/objdump.exp:  Ditto.
	* binutils-all/size.exp: Ditto.

Mon Apr 14 12:36:41 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* binutils-all/ar.exp (long_filenames): Check for a file system
	with a 14 character file name length limit.

Tue Apr  1 09:52:15 1997  Jeffrey A Law  (law@@cygnus.com)

	* binutils-all/objdump.exp: Handle d10v.

Fri Feb  7 16:45:34 1997  Bob Manson  <manson@@charmed.cygnus.com>

	* binutils-all/ar.exp: Use prune_warnings instead of
	prune_system_crud.
	* binutils-all/objcopy.exp: Ditto.

Wed Jan 29 00:16:43 1997  Bob Manson  <manson@@charmed.cygnus.com>

	* binutils-all/nm.exp: Use / between $srcdir and $subdir.
	* binutils-all/objcopy.exp: Ditto.
	* binutils-all/objdump.exp: Ditto.
	* binutils-all/size.exp: Ditto.
	* binutils-all/hppa/objdump.exp: Ditto.


Wed Oct 16 22:57:59 1996  Jeffrey A Law  (law@@cygnus.com)

	* binutils-all/objdump.exp: Add mn10200 and mn10300 to expected
	cpus list.

Tue Oct  1 15:06:55 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* lib/utils-lib.exp (binutil_version): Fix for current version
	printing.

Sun Aug  4 22:25:40 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* binutils-all/objcopy.exp: Fix end of line matching in srec tests
	to work with TCL 7.5.

Sat Jun 29 12:51:30 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* binutils-all/objcopy.exp: Simple copy test works for i960 b.out
	targets.

Mon Jun 24 14:33:04 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* binutils-all/objcopy.exp: On OSF/1, the simple copy test will
	succeed with gas, and fail with /bin/as, so mark it as an expected
	failure only if it fails.

Tue Mar 26 16:55:08 1996  Jeffrey A Law  (law@@cygnus.com)

	* binutils-all/objcopy.exp: No longer expect adjust-section-vma
	test to fail for hppa*-*-proelf*.

Mon Mar 11 08:25:14 1996  Jeffrey A Law  (law@@cygnus.com)

	* binutils-all/objdump.exp: Look for "$CODE$", not just "CODE".

Wed Jan 31 11:55:13 1996  Jeffrey A Law  (law@@cygnus.com)

	* binutils-all/objcopy.exp: Expect adjust-section-vma tests to
	fail for hppa*-*-proelf* targets.

Thu Jan 25 13:53:04 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* binutils-all/objdump.exp: Update for objdump -h format change.
	* binutils-all/objcopy.exp: Likewise.

Mon Jan 15 18:14:14 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* binutils-all/objcopy.exp: Use the lma, not the vma, when testing
	address adjustments.

Fri Dec 15 16:31:55 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* binutils-all/objdump.exp: Update objdump -i test for current
	objdump output.

Mon Nov 27 15:15:09 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* binutils-all/objcopy.exp: Correct fail calls to always use the
	same string as the pass call.

Wed Nov 22 13:18:58 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* lib/utils-lib.exp (prune_system_crud): Discard -g -O warnings
	from native compilers on OSF/1 and SunOS.

Fri Nov 17 10:36:09 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* lib/utils-lib.exp (default_binutils_compiler: Change error
	message to say compilation rather than assembly.

Wed Nov 15 18:34:42 1995  Ken Raeburn  <raeburn@@cygnus.com>

	* binutils-all/objcopy.exp: Simple copy test does appear to work
	on i*86-svr4.

Wed Nov 15 12:19:28 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* binutils-all/objcopy.exp: If assembly fails, call unresolved.
	Test running objcopy and strip on a final executable.
	* binutils-all/testprog.c: New file.
	* config/default.exp (STRIP, STRIPFLAGS): Define.
	(binutils_compile): New procedure.
	* lib/utils-lib.exp (default_binutils_compile): New procedure.

Fri Nov  3 13:22:33 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* lib/utils-lib.exp (default_binutils_run): Don't use verbose
	-log, reverting part of Oct 2 change.

Wed Nov  1 15:09:57 1995  Manfred Hollstein KS/EF4A 60/1F/110 #40283  <manfred@@lts.sel.alcatel.de>

	* binutils-all/objcopy.exp: Add setup_xfails for
	m68*-motorola-sysv* and m88*-motorola-sysv*.

Wed Oct  4 14:38:31 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* binutils-all/nm.exp: Add setup_xfails for XCOFF.

Mon Oct  2 12:41:48 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* binutils-all/ar.exp: New file.
	* binutils-all/bintest.s: Make text_symbol and data_symbol global.
	Add new static symbols static_text_symbol and static_data_symbol.
	* binutils-all/nm.exp: Adjust accordingly.
	* config/default.exp (AR): Set if not set.
	(binutils_remove): New procedure.
	* lib/utils-lib.exp (default_binutils_run): Call
	prune_system_crud on program output.  Use verbose -log instead of
	both verbose and send_log.
	(default_binutils_remove): New procedure.

	* lib/utils-lib.exp (default_binutils_assemble): Call
	prune_system_crud on assembler output.

Tue Sep 26 14:07:05 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* binutils-all/objcopy.exp: Add setup_xfails for simple copy test
	for i386 COFF targets.

Wed Sep 13 13:20:21 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* lib/utils-lib.exp (prune_system_crud): Define if not defined.
	* binutils-all/objcopy.exp: Call prune_system_crud on cmp output.

Sat Aug 19 17:38:06 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* binutils-all/objcopy.exp: Add xfail for i*86-*-aout* for simple
	copy test.

Wed Aug 16 16:52:53 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* binutils-all/nm.exp: Add setup_xfail for mips*-sony-bsd* for
	tests which fail on ECOFF targets.

	* binutils-all/objcopy.exp: Change i*86-*-linux xfail for simple
	copy test to check for i*86-*-linuxaout* instead.

Tue Aug  8 17:48:37 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* binutils-all/objcopy.exp: Add setup_xfail for a29k-*-vxworks*
	for simple copy test.

Tue Jul 25 11:57:12 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* binutils-all/objcopy.exp: Change setup_xfail for simple copy
	test from i960-*-vxworks5.1 to i960-*-vxworks*.

Mon Jul 10 12:25:46 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* binutils-all/objcopy.exp: Add setup_xfail for z8*-*-coff for
	simple copy test.
	* binutils-all/objdump.exp (cpus_expected): Add z8001 and z8002.

Sun May 21 20:32:53 1995  Jeff Law  (law@@snake.cs.utah.edu)

	* binutils-all/hppa/objdump.exp (addendbug): Handle PA ELF targets
	too.
	* binutils-all/objcopy.exp (simple copy): Don't expect PA ELF
	targets to fail.

Tue Apr  4 14:52:08 1995  Jeff Law  (law@@snake.cs.utah.edu)

	* binutils-all/hppa: Renamed from binutils-hppa.

Wed Mar 29 12:02:43 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* binutils-all/objcopy.exp: Add setup_xfail for simple copy test
	for h8500-*-hms and h8500-*-coff.

Tue Mar 28 11:18:28 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* binutils-all/objcopy.exp: Add setup_xfail for simple copy test
	for m68*-ericsson-ose and m88*-*-coff.

Mon Mar 27 11:27:31 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* binutils-all/objcopy.exp: Add setup_xfail for simple copy test
	for m68*-*-vxworks*.

Fri Mar 24 11:44:25 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* binutils-hppa/objdump.exp: Correct hppa*-*-* check.

Tue Mar 21 10:48:45 1995  Jeff Law  (law@@snake.cs.utah.edu)

	* binutils-hppa/addendbug.s: New testcase.
	* binutils-hppa/objdump.exp: Run it.

Mon Mar 20 11:31:05 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* lib/utils-lib.exp (default_binutils_run): Quote any dollar signs
	in progargs before passing it to exec.

Fri Mar 17 16:39:31 1995  Jeff Law  (law@@snake.cs.utah.edu)

	* config/hppa.sed: Sed script to transform bintest.s into proper
	PA assembly code.
	* binutils-all/nm.exp: Enable these tests on the PA.
	* binutils-all/objcopy.exp: Enable these tests on the PA.  Expect
	simple copy to fail.
	* binutils-all/objdump.exp: Enable these tests on the PA.  Handle
	"CODE" as a section name.
	* binutils-all/size.exp: Enable these tests on the PA.
	* lib/utils-lib.exp (default_binutils_assemble): For "hppa*-*-*",
	run the assembly through a sed script before passing it to the
	assembler.

Wed Mar 15 16:47:13 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* binutils-all/objdump.exp: Force section sizes to be interpreted
	in hex.  Change objdump -h failure mode to always use the same
	string.

Thu Jan  5 13:01:43 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* binutils-all/nm.exp: Just check for irix4*, rather than
	irix\[0-4\]*, to avoid DejaGnu bug.

Thu Dec 15 19:35:31 1994  Ken Raeburn  <raeburn@@cujo.cygnus.com>

	* binutils-all/objcopy.exp: Expect simple-objcopy test to fail
	for various other targets for which gas doesn't use bfd: sh-hms,
	m68k-hpux, m68k-sunos, m68k-coff, i386-linux, a29k-udi, a29k-coff,
	i960-vxworks5.1, i960-coff, h8300-hms, h8300-coff.

Wed Dec 14 15:54:46 1994  Ken Raeburn  <raeburn@@cujo.cygnus.com>

	* binutils-all/size.exp: Skip tests requiring bintest.o on hppa,
	since it (correctly) generates syntax errors on that platform.
	* binutils-all/objdump.exp: Ditto.
	* binutils-all/nm.exp: Ditto.
	* binutils-all/objcopy.exp: Ditto.  Also, move setup_xfail for
	sh-coff to branch where objcopy execution produced no error
	messages.  Expect failure for hp300 also.

Thu Dec  8 14:36:15 1994  Ken Raeburn  <raeburn@@cujo.cygnus.com>

	* binutils-all/objdump.exp (cpus_expected): New variable, taken
	from objdump -i test, added ns32k and powerpc, sorted.
	(objdump -i, -f tests): Use $cpus_expected.

	* binutils-all/objcopy.exp: For simple-copy test, expect failure
	for sh-coff.

Tue Oct 25 16:00:14 1994  Ian Lance Taylor  <ian@@sanguine.cygnus.com>

	* binutils-all/objcopy.exp: Adjust --adjust-section-vma tests for
	new S-record section handling.

Tue Oct 18 11:18:21 1994  Ian Lance Taylor  <ian@@sanguine.cygnus.com>

	* binutils-all/nm.exp: nm with no arguments and nm -P do not work
	as expected on ECOFF targets; add calls to setup_xfail.

	* binutils-all/objcopy.exp: New file.
	* config/default.exp: Initialize OBJCOPY and OBJCOPYFLAGS.

Fri Oct 14 14:46:22 1994  Ian Lance Taylor  <ian@@sanguine.cygnus.com>

	Rewrite testsuite.
	* configure.in, Makefile.in: Remove.
	* binutils-all/configure.in, binutils-all/Makefile.in: Remove.
	* binutils-all/bintest.c: Remove.
	* binutils-all/bintest.s: New file.
	* binutils-all/nm.exp, binutils-all/objdump.exp: Rewrite.
	* binutils-all/size.exp: Rewrite.
	* config/default.exp: Load utils-lib.exp.  Set AS and ASFLAGS.
	Don't go up one directory from $base_dir.  Create tmpdir.
	(binutils_run, binutils-assemble): New procedures.
	* config/unix.exp: Remove.
	* config/mt-a29k-udi, config/mt-i386-aout: Remove.
	* config/mt-i960-nindy, config/mt-lynx, config/mt-m68k: Remove.
	* config/mt-mips-ecoff, config/mt-slite: Remove.
	* config/mt-sparc-aout, config/mt-vxworks: Remove.
	* lib/utils-lib.exp (binutil_version): Don't redirect standard
	input when getting version.  Don't unset errorInfo.
	(default_binutils_run): New procedure.
	(default_binutils_assemble): New procedure.

Thu Sep 29 12:45:39 1994  Ian Lance Taylor  (ian@@sanguine.cygnus.com)

	* VMS does not permit `.' in directory names: renamed binutils.all
	to binutils-all.
	* configure.in (configdirs): Change binutils.all to binutils-all.

Fri Sep 23 16:01:14 1994  Ian Lance Taylor  (ian@@sanguine.cygnus.com)

	* configure.in: Use mt-m68k for m68k*-*-aout* and m68k*-*-coff*,
	not for m68k-*-*.

Fri Sep 23 13:54:50 1994  Ken Raeburn  <raeburn@@cujo.cygnus.com>

	* binutils.all/objdump.exp: Added ARM to list of CPU types.

Thu Sep 22 11:04:50 1994  Ian Lance Taylor  (ian@@sanguine.cygnus.com)

	* binutils.all/objdump.exp: Update for new usage message.
	* binutils.all/size.exp: Use a double backslash in the string to
	get a single backslash to the regexp matcher.  Accept $TEXT$,
	$DATA$ and $BSS$ as well as .text, .data and .bss, for HP/UX.

Fri Sep  2 12:53:10 1994  Ian Lance Taylor  (ian@@sanguine.cygnus.com)

	* config/unix.exp: If nm.new does not exist, use [transform nm].
	* config/default.exp: Likewise.

Wed Aug 24 12:41:37 1994  Ian Lance Taylor  (ian@@sanguine.cygnus.com)

	* configure.in, binutils.all/configure.in: Change i386 to
	i[345]86.

Tue Jul 19 15:23:53 1994  Bill Cox  (bill@@rtl.cygnus.com)

	* config/mt-mips-ecoff: Add -Tidp.ld option.

Thu Jun 30 12:41:55 1994  J.T. Conklin  (jtc@@phishhead.cygnus.com)

	* config/default.exp: Use nm.new, not nm, from newly built tree.

Tue May 17 14:04:05 1994  Bill Cox  (bill@@rtl.cygnus.com)

	* config/default.exp, config/unix.exp: Replace error
	proc calls with perror.

Tue May 10 11:20:54 1994  Stan Shebs  (shebs@@andros.cygnus.com)

	* configure.in (sparclite): Match on sparclite*-*-*.

Wed Apr 13 18:25:19 1994  Ken Raeburn  (raeburn@@cujo.cygnus.com)

	* config/unix.exp: Use nm.new, not nm, from newly built tree.

	* binutils.all/objdump.exp: Add more wildcards to list of
	single-letter options in pattern for usage message.

	* binutils.all/nm.exp: Deleted debug-symbols test, since it only
	works for a.out/stabs systems.  Fixed regexps to make underscores
	optional, since some C compilers don't prepend them.  Deleted
	check for foo.o symbol, since again some systems don't generate
	it.

Mon Apr 11 10:31:00 1994  Bill Cox  (bill@@rtl.cygnus.com)

	* Makefile.in (check): Set TCL_LIBRARY for runtest.

Mon Feb 14 19:34:03 1994  Rob Savoye  (rob@@darkstar.cygnus.com)

	* Makefile.in: Use new config features of DejaGnu in site.exp
	file. "Make check" should now work for all crosses.

Fri Jan 28 18:00:29 1994  Ken Raeburn  (raeburn@@cujo.cygnus.com)

	* binutils.all/objdump.exp: In usage message, accept
	"section-name" as well as "section_name".

Mon Jan 17 16:57:02 1994  Ken Raeburn  (raeburn@@cujo.cygnus.com)

	* binutils.all/objdump.exp: Trim list of format names expected,
	and accept any known CPU type.

Thu Dec  2 20:50:24 1993  Rob Savoye  (rob@@darkstar.cygnus.com)

	* Makefile.in: Remove some stuff from the site.exp file.
	* config/unix.exp: Add global before seeing if the variables for
	nm, objdump, and size exist.

Wed Nov  3 11:12:32 1993  Rob Savoye  (rob@@darkstar.cygnus.com)

	* config/udi.exp,unix.exp: Transform tool name.
	* binutils.all/*.exp: Clear errorInfo after exec.

Fri Jul  2 12:41:20 1993  Ian Lance Taylor  (ian@@cygnus.com)

	* binutils.all/*.exp: Use -- for long arguments rather than +.

Fri Jun  4 10:52:29 1993  david d `zoo' zuhn  (zoo@@cirdan.cygnus.com)

	* configure.in: change srctrigger to Makefile.in

Wed May 26 17:27:46 1993  Ian Lance Taylor  (ian@@cygnus.com)

	* Makefile.in (FLAGS_TO_PASS): Pass down CC and CFLAGS.

Fri May  7 13:58:44 1993  Ian Lance Taylor  (ian@@cygnus.com)

	* binutils.all/objdump.exp: Update for new usage message.

Mon Apr 19 14:08:52 1993  Rob Savoye  (rob@@darkstar.cygnus.com)

	* binutils.all/*.exp: Use the new util_test proc.
	* Makefile.in: Create a local site.exp file with config info.

Thu Mar 25 05:38:47 1993  Ken Raeburn  (raeburn@@kr-pc.cygnus.com)

	* nm.all/configure.in (srcname): Delete extra quote.

Mon Feb 22 07:54:03 1993  Mike Werner  (mtw@@poseidon.cygnus.com)

	* binutils/testsuite: made modifications to testcases, etc., to allow
	them to work properly  given the reorganization of deja-gnu and the
	relocation of the testcases from deja-gnu to a "tool" subdirectory.

Sun Feb 21 10:55:55 1993  Mike Werner  (mtw@@poseidon.cygnus.com)

	* binutils/testsuite: Initial creation of binutils/testsuite.
	Migrated dejagnu testcases and support files for testing nm to
	binutils/testsuite from deja-gnu.  These files were moved "as is"
	with no modifications.  This migration is part of a major overhaul
	of dejagnu.  The modifications to these testcases, etc., which
	will allow them to work with the new version of dejagnu will be
	made in a future update.
@


1.83
log
@2003-10-06  Dave Brolley  <brolley@@redhat.com>

        * binutils-all/objdump.exp (cpu_expected): Add fr550.
@
text
@d1 4
@


1.82
log
@2003-09-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (dump_relocations): Support SHN_IA_64_ANSI_COMMON.
	(get_symbol_index_type): Likewise.

testsuites/

2003-09-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/readelf.exp: Use is_elf_format.

	* binutils-all/readelf.h: Support IA64/ILP32.
	* binutils-all/readelf.s: Likewise.
	* binutils-all/readelf.ss: Likewise.

	* lib/utils-lib.exp (proc is_elf_format): Copy from ld
	testsuite. Add ia64-*-hpux*.
@
text
@d1 4
@


1.81
log
@	* binutils-all/objcopy.exp: Initialise $test_prog to
	testprog.exe on mingw targeted systems too.
@
text
@d1 11
@


1.80
log
@	* rcparse.y (res_text_field): New res_id variable.
	(res_null_text): New static const struct res_id object,
	with empty unicode name field.
	(control): Pop parsing of optresidc up one level. Set
	res_text_field to $2 except for controls which do not accept
	a text field.  Set res_text_field to res_null_text for the
	special cases (viz. COMBOBOX, EDITTEXT, LISTBOX, SCROLLBAR).
	(control_params): Adjust to use res_text_field rather
	than optresidc.
	(COMBOBOX): Add comment about discrepency between documented
	vs. observed default style.
	* resrc.c (define_control): Make first param const.
	* windres.h (define_control): Adjust prototype.

testsuite:

	* binutils-all/windres/checkbox.rc: New file.
	* binutils-all/windres/checkbox.rsd: New file.
	* binutils-all/windres/combobox.rc: New file.
	* binutils-all/windres/combobox.rsd: New file.
	* binutils-all/windres/edittext.rc: New file.
	* binutils-all/windres/edittext.rsd: New file.
	* binutils-all/windres/listbox.rc: New file.
	* binutils-all/windres/listbox.rsd: New file.
	* binutils-all/windres/scrollbar.rc: New file.
	* binutils-all/windres/scrollbar.rsd: New file.
@
text
@d1 5
@


1.79
log
@Fix misdirected ChangeLog entry.
@
text
@d1 13
@


1.78
log
@Replace occurances of testprog with $test_prog.  Initialise this variable to
testprog.exe on Cygwin targeted systems.
@
text
@d1 4
@


1.77
log
@Rework readelf -wi tests to grep for expected strings.
@
text
@d1 6
@


1.76
log
@Fix "readelf -wi" test
@
text
@d1 9
d12 2
a13 1
	* readelf.exp (proc prune_readelf_warnings): New function.
d16 3
a18 2
	* readelf.wi: Severly reduce expected output.
	* testprog.c (string): Explicitly use unsigned chars.
d23 1
a23 1
	* readelf.wi: Update.
@


1.75
log
@Rename -I to -J.   Deprecate old use of -I, but leave it enabled for now.
@
text
@d1 13
@


1.74
log
@Replace "Static" with "classname" so that results match the behaviour of the
Windows' resource compiler.
@
text
@d1 5
@


1.73
log
@Allow resource IDs to be strings or numbers.
Add a test for this.
@
text
@d1 6
@


1.72
log
@Adds support for fastcall symbols as used on Microsoft Windows platforms
(i386)
@
text
@d1 5
@


1.71
log
@Revert last change.
@
text
@d1 7
@


1.70
log
@	* binutils-all/objcopy.exp (strip_test): Adjust for "no symbols" on
	stdout.
	(strip_executable): Likewise.
@
text
@d1 4
@


1.69
log
@	* binutils-all/objdump.exp (cpus_expected): Add fr500, ip2022,
	tic80, tms320c30.
	* binutils-all/objcopy.exp (simple copy): Revise xfails.
@
text
@d1 6
@


1.68
log
@	* binutils-all/objcopy.exp (strip_test_with_saving_a_symbol):
	Revert 2001-11-15.  Instead allow `D main'.
@
text
@d1 6
@


1.67
log
@Define MEMFLAGS_DISCARDABLE by default for dialogs.
Add a test for this.
@
text
@d1 5
d19 1
a19 1
        * binutils-all/windres/dlgfont.rsd: Expected output.
d89 1
a89 1
        ordering of the sections.
d107 2
a108 1
	* binutils-all/objcopy.exp: Allow '? main', to suit powerpc64.
d227 14
a240 14
        * binutils-all/readelf.exp (regexp_diff): Add code
        from gas testsuite to treat "#..." at beginning of line
        as an indicator to skip extra non-matching lines at that
        location.
        (readelf_test): Add support for using a machine-specific
        regexp comparison file.
        (readelf -S test, readelf -s test): Remove v850*-*-* and
        mips*-*-* from list of expected failures.
        * binutils-all/readelf.s: Accomodate changes due to
        additional sections (and therefore section numbering
        differences) on v850*-*-* and mips*-*-* targets.
        * binutils-all/readelf.ss: Likewise.
        * binutils-all/readelf.ss-mips: New file, which matches
        expected output of readelf -s test for mips*-*-*.
d248 4
a251 4
        * binutils-all/readelf.exp (readelf_test): Work properly
        when multiple targets expect failtures.
        (readelf -S test, readelf -s test): Expect mips*-*-*
        to fail.
d846 1
a846 1
	  proc calls with perror.
@


1.66
log
@Allow two to five parameter in FONT statement of DIALOGEX resources.
@
text
@d1 9
@


1.65
log
@Use 'file delete' instead of 'exec rm -f'.
@
text
@d1 6
@


1.64
log
@Delete created files upon successful completeion of the test.
@
text
@d1 5
@


1.63
log
@Regernated recently created expected output files using MSVC.
Set MEMFLAG_PURE by default - bug exposed by regenerated files.
@
text
@d3 11
a13 8
	* binutils-all/windres/capstyle.rsd: Regernate using MSVC.
	* binutils-all/windres/deflang.rsd: Regernate using MSVC.
	* binutils-all/windres/dialogsignature.rsd: Regernate using MSVC.
	* binutils-all/windres/escapea.rsd: Regernate using MSVC.
	* binutils-all/windres/escapex.rsd: Regernate using MSVC.
	* binutils-all/windres/nocaption.rsd: Regernate using MSVC.
	* binutils-all/windres/printstyle.rsd: Regernate using MSVC.
	* binutils-all/windres/sublang.rsd: Regernate using MSVC.
@


1.62
log
@Add WS_CAPTION dialog style if CAPTION is specified.
Add testcase.
@
text
@d1 11
@


1.61
log
@Don't print empty dialog caption.
Add testcase.
@
text
@d3 4
@


1.60
log
@Fix overlooked sublang shift bug.
Add testcase.
@
text
@d19 4
@


1.59
log
@Set default LANGUAGE to english/us.
@
text
@d22 4
@


1.58
log
@"\a" escape (used for right justified key definitions in menus) is encodes as
binary 8.
@
text
@d3 8
@


1.57
log
@Fix parsing hex constants in strings.  Add test for the fix.
@
text
@d3 4
@


1.56
log
@Apply patch from Bernd Herd to fix quoted class definitions inside dialogs.
@
text
@d3 4
@


1.55
log
@Display 2nd and 3rd reloc types for 64-bit MIPS.
Narrow some fields for 80-char output.
@
text
@d1 5
@


1.54
log
@Fix date
@
text
@d1 7
@


1.53
log
@	* binutils-all/objcopy.exp
	(strip_executable_with_saving_a_symbol): Prune symbol Main in nm
	output for mmix-knuth-mmixware.
@
text
@d1 1
a1 1
2002-02-17  Hans-Peter Nilsson  <hp@@bitrange.com>
@


1.52
log
@Do not expect an explicit ordering of the sections.
@
text
@d1 6
@


1.51
log
@Add 'xscale' as an expected cpu type.
@
text
@d1 5
@


1.50
log
@Expect xscale-coff to fail simple objcopy test for the same reason as arm-coff.
@
text
@d1 5
@


1.50.2.1
log
@Add 'xscale' as an expected cpu type.
@
text
@a0 5
2002-02-10  Nick Clifton  <nickc@@cambridge.redhat.com>

	* binutils-all/objdump.exp: Add 'xscale' to the list of expected
	CPUs.

@


1.50.2.2
log
@Do not expect an explicit ordering of the sections.
@
text
@a0 5
2002-02-12  Nick Clifton  <nickc@@cambridge.redhat.com>

	* binutils-all/readelf.ss-mips: Do not expect an explicit
        ordering of the sections.

@


1.50.2.3
log
@	* binutils-all/objcopy.exp
	(strip_executable_with_saving_a_symbol): Prune symbol Main in nm
	output for mmix-knuth-mmixware.
@
text
@a0 6
2002-02-18  Hans-Peter Nilsson  <hp@@bitrange.com>

	* binutils-all/objcopy.exp
	(strip_executable_with_saving_a_symbol): Prune symbol Main in nm
	output for mmix-knuth-mmixware.

@


1.50.2.4
log
@	Merge from mainline
	2002-04-25  Elena Zannoni <ezannoni@@redhat.com>
        * readelf.c (get_AT_name): Handle DW_AT_GNU_vector.

	2002-04-16  Nick Clifton  <nickc@@cambridge.redhat.com>
	* readelf.c (fetch_location_list): Remove unused function.
	* readelf.c (process_corefile_note_segment): Catch corrupt notes
	and display a warning message, then exit the loop.

	2002-04-24  Christian Groessler <chris@@groessler.org>
	* MAINTAINERS: Changed my email address.

	2002-04-09  J"orn Rennecke <joern.rennecke@@superh.com>
	* MAINTAINERS: Update my email address.

	2002-03-27  Peter Targett  <peter.targett@@arc.com>
	* MAINTAINERS: Update my email address.

	2002-03-20  Daniel Berlin  <dan@@dberlin.org>
	* readelf.c: Add support for displaying dwarf2 location lists.
	(do_debug_loc, debug_loc_section, debug_loc_size): New.
	(parse_args): Use 'O' as shorthand for displaying location list
	section.
	(process_section_headers): Handle debug_loc as well.
	(load_debug_loc): New.
	(free_debug_loc): New.
	(fetch_location_list): New.
	(display_debug_loc): New.
	(display_debug_info): Call load_debug_loc and free_debug_loc.
	(debug_displays): We can display .debug_loc now, too.
	(usage): Update usage string.
	(read_and_display_attr_value): Note location lists, but don't
	display them inline.

	2002-03-01  Dmitry Timoshkov <dmitry@@baikal.ru>
	* dlltool.c (gen_exp_file): Take into account --kill-at (-k) while
	generating .exp file.

	2002-02-21  Nick Clifton  <nickc@@cambridge.redhat.com>
	* readelf.c (dump_relocations): Fix typo.

	2002-02-18  Timothy Daly  <remote_bob@@yahoo.com>
	* readelf.c (dump_relocations): Display 2nd and 3rd reloc
	types for 64-bit MIPS.  Narrow some fields for 80-char
	output.
	(dump_relocations): Change spelling from 'unrecognised'
	to 'unrecognized'.
	(decode_ARM_machine_flags): Likewise.
	(parse_args): Likewise.
	(read_and_display_attr_value): Likewise.
	(display_debug_section): Likewise.
@
text
@a0 9
2002-04-27  Alan Modra  <amodra@@bigpond.net.au>

	Merge from mainline.
	2002-02-18  Timothy Daly  <remote_bob@@yahoo.com>
	* binutils-all/readelf.r: Change expected output to match new,
	narrowed-to-80-chars format.
	* binutils-all/readelf.r-64: Change expected output to match new,
	narrowed-to-80-chars format.

@


1.50.2.5
log
@Merge from mainline
@
text
@a0 51
2002-05-09  Alan Modra  <amodra@@bigpond.net.au>

	Merge from mainline.
	2002-04-16  Eric Kohl <ekohl@@rz-online.de>
	* binutils-all/windres/dialog0.rc: New test case: Check default
	attributes for dialogs
	* binutils-all/windres/dialog0.rsd: New file: Expected output.
	* binutils-all/windres/dialog1.rc: New test case: Check
	DISCARDABLE flag is propogated.
	* binutils-all/windres/dialog1.rsd: New file: Expected output.

	2002-04-15  Eric Kohl <ekohl@@rz-online.de>
	* binutils-all/windres/dlgfont.rc: New test case: Checks FONT
	statement in DIALOG and DIALOGEX resources.
        * binutils-all/windres/dlgfont.rsd: Expected output.

	2002-04-10  Nick Clifton  <nickc@@cambridge.redhat.com>
	* binutils-all/windres/capstyle.rsd: Regenerate using MSVC.
	* binutils-all/windres/deflang.rsd: Regenerate using MSVC.
	* binutils-all/windres/dialogsignature.rsd: Regenerate using MSVC.
	* binutils-all/windres/escapea.rsd: Regenerate using MSVC.
	* binutils-all/windres/escapex.rsd: Regenerate using MSVC.
	* binutils-all/windres/nocaption.rsd: Regenerate using MSVC.
	* binutils-all/windres/printstyle.rsd: Regenerate using MSVC.
	* binutils-all/windres/sublang.rsd: Regenerate using MSVC.

	2002-04-09  Nick Clifton  <nickc@@cambridge.redhat.com>
	* binutils-all/windres/capstyle.rc: New test case: Set default
	style for captions.
	* binutils-all/windres/capstyle.rsd: Expected output.
	* binutils-all/windres/deflang.rc: New test case: Check default
	language.
	* binutils-all/windres/deflang.rsd: Expected output.
	* binutils-all/windres/dialogsignature.rc: New test case for
	decoding the dialog signature.
	* binutils-all/windres/dialogsignature.rsd: Expected output.
	* binutils-all/windres/escapea.rc: New test case for encoding \a
	escape sequence.
	* binutils-all/windres/escapea.rsd: Expected output.
	* binutils-all/windres/escapex.rc: New test case for hex constants
	in strings.
	* binutils-all/windres/escapex.rsd: Expected output
	* binutils-all/windres/nocaption.rc: New test case dialogs without
	captions.
	* binutils-all/windres/nocaption.rsd: Expected output
	* binutils-all/windres/quoteclass.rc: New test case for quoted
	CLASS definitions in DIALOG resources.
	* binutils-all/windres/sublang.rc: New test case: Check assignment
	of sub-language.
	* binutils-all/windres/sublang.rsd: Expected output.

@


1.49
log
@2001-11-29  H.J. Lu <hjl@@gnu.org>

	* binutils-all/objcopy.exp (strip_test): Add strip on archive.
@
text
@d1 5
@


1.48
log
@	* binutils-all/objcopy.exp: Allow '? main', to suit powerpc64.
@
text
@d1 4
@


1.47
log
@	* binutils-all/readelf.exp: powerpc-*-eabi* is an ELF target.
@
text
@d1 4
@


1.46
log
@	* binutils-all/readelf.exp: Exclude mips*-*-elf* from 'readelf -wi'
	test.
@
text
@d1 4
@


1.45
log
@	* readelf.c: Include elf/h8 for H8 series definitions.
	(guess_is_rela): H8 series if RELA.
	(dump_relocations): Handle H8 series relocations.

	* testsuite/binutils/all/readelf.exp: Expect readelf -wi to
	fail for the H8 series.
@
text
@d1 5
@


1.44
log
@	* binutils-all/readelf.s-64: Adjust offsets for powerpc64.  Don't
	use constructs like [45][08] when all combinations are not valid.
	Instead use (48|50) to explicitly state which values are correct.
@
text
@d1 5
@


1.43
log
@2001-08-21  H.J. Lu  <hjl@@gnu.org>

	* binutils-all/readelf.r: Updated for the readelf change.

	* binutils-all/readelf.r-64: New for the readelf change.
@
text
@d1 6
@


1.42
log
@2001-07-27  H.J. Lu  <hjl@@gnu.org>

	* binutils-all/windres/windres.exp: Don't set xfail for
	bmpalign (compare) on none-ix86/pe targets.
@
text
@d1 6
@


1.41
log
@2001-07-24  H.J. Lu  <hjl@@gnu.org>

	* binutils-all/windres/windres.exp: Set xfail on none-ix86/pe
	targets.
@
text
@d1 5
@


1.40
log
@* config/default.exp (WINDRES): Add.
* binutils-all/windres/windres.exp: New.
* binutils-all/windres/README: New.
* binutils-all/windres/bmp1.bmp: New.
* binutils-all/windres/bmpalign.rc: New.
* binutils-all/windres/bmpalign.rsd: New.
* binutils-all/windres/lang.rc: New.
* binutils-all/windres/lang.rsd: New.
* binutils-all/windres/msupdate: New.
* binutils-all/windres/strtab1.rc: New.
* binutils-all/windres/strtab1.rsd: New.
@
text
@d1 5
@


1.39
log
@2001-07-05  Ben Elliston  <bje@@redhat.com>

	* lib/utils-lib.exp (target_assemble): Remove duplicate copy.
	(default_target_assemble): Likewise.
@
text
@d1 14
@


1.38
log
@Fix typos
@
text
@d1 5
@


1.37
log
@	* binutils-all/readelf.r: Don't check for specific info value to
	pass testsuite on ia64 and alpha.
@
text
@d1 4
@


1.36
log
@Fix typos.
@
text
@d1 5
a766 1

@


1.35
log
@2001-06-07  H.J. Lu  <hjl@@gnu.org>

	* readelf.ss-mips: Support stabs.
	* binutils-all/readelf.ss-tmips: Likewise.
@
text
@d3 1
a3 1
	* readelf.ss-mips: Support stabs.
@


1.34
log
@2001-05-25  H.J. Lu  <hjl@@gnu.org>

	* binutils-all/readelf.exp (readelf_test): Set target_machine
	to tmips for traditional mips.

	* binutils-all/readelf.s: Support traditional mips.

	* binutils-all/readelf.ss-tmips: New for traditional mips.
@
text
@d1 5
@


1.33
log
@s/linuxaout/linux*aout/, s/linuxoldld/linux*oldld/
@
text
@d1 9
@


1.32
log
@2001-05-24  H.J. Lu  <hjl@@gnu.org>

	* binutils-all/objdump.exp (cpus_expected): Add s390.
@
text
@d1 6
@


1.31
log
@2001-03-30  H.J. Lu  <hjl@@gnu.org>

	* binutils-all/readelf.exp: Run on more ELF targets.
@
text
@d1 4
@


1.30
log
@Fix typos in ChangeLogs and update copyright notices
@
text
@d1 4
@


1.29
log
@2001-02-11  H.J. Lu  <hjl@@gnu.org>

	* config/default.exp: Set up gcc_gas_flag.

	* binutils-all/objcopy.exp (copy_setup): Process gcc_gas_flag
	for Linux only.

	* binutils-all/testprog.c: Include <string.h> and don't use
	exit ().
@
text
@d212 2
a213 2
	* objcopy.exp: Two new tests - strip object file with saving a
	symbol and strip executable file with saving a symbol.
@


1.28
log
@Fix expected result from readellf -s with 64 bit binaries
@
text
@d1 10
@


1.28.2.1
log
@Update copyright notices.
@
text
@a0 8
2001-06-07  Alan Modra  <amodra@@bigpond.net.au>

	* (binutils-all/ar.exp, binutils-all/nm.exp,
	binutils-all/objcopy.exp, binutils-all/objdump.exp,
	binutils-all/readelf.exp, binutils-all/size.exp,
	binutils-all/hppa/objdump.exp, config/default.exp,
	lib/utils-lib.exp): Update copyright notices.

@


1.28.2.2
log
@Merge from mainline.
@
text
@a0 28
2001-06-11  Alan Modra  <amodra@@bigpond.net.au>

	Merge from mainline.
	2001-06-07  H.J. Lu  <hjl@@gnu.org>
	* binutils-all/readelf.ss-mips: Support stabs.
	* binutils-all/readelf.ss-tmips: Likewise.

	2001-05-25  H.J. Lu  <hjl@@gnu.org>
	* binutils-all/readelf.exp (readelf_test): Set target_machine
	to tmips for traditional mips.
	* binutils-all/readelf.s: Support traditional mips.
	* binutils-all/readelf.ss-tmips: New for traditional mips.

	2001-05-25  Alan Modra  <amodra@@one.net.au>
	* binutils-all/readelf.exp: Replace linuxoldld with linux*oldld
	and linuxaout with linux*aout.
	* binutils-all/objcopy.exp: Remove xfail for linuxaout.

	2001-03-30  H.J. Lu  <hjl@@gnu.org>
	* binutils-all/readelf.exp: Run on more ELF targets.

	2001-02-11  H.J. Lu  <hjl@@gnu.org>
	* config/default.exp: Set up gcc_gas_flag.
	* binutils-all/objcopy.exp (copy_setup): Process gcc_gas_flag
	for Linux only.
	* binutils-all/testprog.c: Include <string.h> and don't use
	exit ().

@


1.27
log
@Add tic54x and tms320c54x to expected cpus list.
@
text
@d1 4
@


1.26
log
@	* binutils-all/readelf.s: Adjust to readelf.c formatting changes.
@
text
@d1 5
@


1.25
log
@Fix readelf -S and readelf -s tests for MIPS and v850
@
text
@d1 4
@


1.24
log
@	* binutils-all/readelf.exp (-wi test): Add cris-*-* to xfails.
@
text
@d1 17
@


1.23
log
@(readelf -S test, readelf -s test): Expect mips*-*-* to fail.
@
text
@d1 4
@


1.22
log
@Fix typos.
@
text
@d1 7
@


1.21
log
@Remove some of the hppa testsuite fudges for hppa-linux.
@
text
@d45 4
a48 4
	* binutils-all/readelf.s: Adjust to match noew format of readelf
	output. 
	* binutils-all/readelf.ss: Adjust to match noew format of readelf 
	output. 
d52 1
a52 1
	* binutils-all/objcopy.exp: Expect simple objcopy test for fail
d80 1
a80 1
	list. 
d101 1
a101 1
	* binutils-all/readelf.wi: Remove FR30 specific componnts.
d107 1
a107 1
	* binutils-all/readelf.r: Do not assume rela's are being used. 
d172 2
a173 2
 	default_target_assemble so that testing can work with older
 	dejagnu versions.
d178 1
a178 1
 	the executable being tested.
d183 1
a183 1
 	on the target with a status wrapper (as necessary).
d186 2
a187 2
 	looking on the local host for the program being tested. Use the
 	correct filenames on the remote host.
d194 2
a195 2
 	(cpus_expected): Add the target CPU to the regexp of CPUs to be
 	expected, if it's not already there.
d210 1
a210 1
 	the output is returned from remote_load instead.
d224 1
a224 1
 	general cleanups and simplifications.
d229 1
a229 1
 	target_compile to actually do the assembly.
d231 1
a231 1
 	Delete.
d270 1
a270 1
	
d647 1
a647 1
Fri Jun  4 10:52:29 1993  david d `zoo' zuhn  (zoo at cirdan.cygnus.com)
d649 1
a649 1
	* configure.in: change srctrigger to Makefile.in 
d670 3
a672 3
        * binutils/testsuite: made modifications to testcases, etc., to allow
        them to work properly  given the reorganization of deja-gnu and the
        relocation of the testcases from deja-gnu to a "tool" subdirectory.
@


1.20
log
@* test cleanup

2000-07-01  Frank Ch. Eigler  <fche@@redhat.com>

	* binutils-all/objdump.exp (cpus_expected, cpus_regex): Reorganize
	syntax to display more tcl nature.
@
text
@d1 5
@


1.19
log
@Applied Stephane Carrez <Stephane.Carrez@@worldnet.fr> patches to add support
for m68hc11 and m68hc12 processors.
@
text
@d1 5
@


1.18
log
@Do not expect the compilation unit tag to be unit 1
@
text
@d1 5
@


1.17
log
@Expect all arm variants to fail copying executable test
@
text
@d3 3
@


1.16
log
@	* binutils-all/readelf.exp (regexp_diff): Do not break when a
	mismatching line is found.
	(readelf_find_size): New.
	(readelf_size): New global variable.
	(readelf_test): Add newline to send_log of command.
	If $srcdir/$subdir/$regexp_file-$readelf_size exists, use it
	instead of $srcdir/$subdir/$regexp_file.
	(*-*elf test): Fix typo in message.
	* binutils-all/readelf.s-64: New.
	* binutils-all/readelf.ss-64: New.
@
text
@d1 5
@


1.15
log
@elf fixes.
@
text
@d1 13
@


1.14
log
@fix to match latest readelf output
@
text
@d1 6
@


1.13
log
@expect thumb-pe and thumb-coff failures
@
text
@d1 7
@


1.12
log
@Expect arm-pe and arm-coff failure of the simple objcopy test
@
text
@d4 1
a4 1
	for COFF based ARM ports.
@


1.11
log
@
        * binutils-all/hppa/objdump.exp: Do not run for PA64.
@
text
@d1 5
@


1.10
log
@fix date
@
text
@d1 4
@


1.9
log
@1999-09-02  Steve Chamberlain  <sac@@pobox.com>

	* binutils-all/objdump.exp: Add pj to cpus_expected.
@
text
@d1 1
a1 1
1999-09-02  Steve Chamberlain  <sac@@pobox.com>
@


1.8
log
@        * binutils-all/hppa/freg.s:  New file.
        * binutils-all/hppa/objdump.exp:  Add freg.s test.
@
text
@d1 4
@


1.7
log
@	* binutils-all/objcopy.exp: Add setup_xfail for simple copy test
	for i*86-*-msdos*.
@
text
@d1 5
@


1.6
log
@1999-07-21  H.J. Lu  <hjl@@gnu.org>

	* binutils-all/testprog.c: Include <stdio.h>.
@
text
@d1 5
@


1.5
log
@Add fr30 and mcore to expected cpus list.
Fix readelf -r test to not assume a fixed number of spaces in the output.
@
text
@d1 4
@


1.4
log
@Updated to match latest output.
@
text
@d1 8
@


1.3
log
@	* binutils-all/objdump.exp: Tighten regexp to match `objdump -i'
	output to avoid massive exponential behaviour.
@
text
@d1 5
@


1.2
log
@	* binutils-all/readelf.h: Update for changes of 1999-04-08.
@
text
@d1 5
@


1.1
log
@Initial revision
@
text
@d1 4
@


1.1.1.1
log
@19990502 sourceware import
@
text
@@

