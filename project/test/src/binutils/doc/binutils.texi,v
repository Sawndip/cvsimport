head	1.207;
access;
symbols
	binutils-2_24-branch:1.206.0.2
	binutils-2_24-branchpoint:1.206
	binutils-2_21_1:1.173.2.2
	binutils-2_23_2:1.191.2.1
	binutils-2_23_1:1.191
	binutils-2_23:1.191
	binutils-2_23-branch:1.191.0.2
	binutils-2_23-branchpoint:1.191
	binutils-2_22_branch:1.182.0.4
	binutils-2_22:1.182
	binutils-2_22-branch:1.182.0.2
	binutils-2_22-branchpoint:1.182
	binutils-2_21:1.173
	binutils-2_21-branch:1.173.0.2
	binutils-2_21-branchpoint:1.173
	binutils-2_20_1:1.153.2.1
	binutils-2_20:1.153.2.1
	binutils-arc-20081103-branch:1.130.0.6
	binutils-arc-20081103-branchpoint:1.130
	binutils-2_20-branch:1.153.0.2
	binutils-2_20-branchpoint:1.153
	dje-cgen-play1-branch:1.149.0.2
	dje-cgen-play1-branchpoint:1.149
	arc-20081103-branch:1.130.0.4
	arc-20081103-branchpoint:1.130
	binutils-2_19_1:1.130
	binutils-2_19:1.130
	binutils-2_19-branch:1.130.0.2
	binutils-2_19-branchpoint:1.130
	binutils-2_18:1.111
	binutils-2_18-branch:1.111.0.2
	binutils-2_18-branchpoint:1.111
	binutils-csl-coldfire-4_1-32:1.89.2.3
	binutils-csl-sourcerygxx-4_1-32:1.89.2.3
	binutils-csl-innovasic-fido-3_4_4-33:1.89.2.3
	binutils-csl-sourcerygxx-3_4_4-32:1.68.2.2
	binutils-csl-coldfire-4_1-30:1.89.2.3
	binutils-csl-sourcerygxx-4_1-30:1.89.2.3
	binutils-csl-coldfire-4_1-28:1.89.2.3
	binutils-csl-sourcerygxx-4_1-29:1.89.2.3
	binutils-csl-sourcerygxx-4_1-28:1.89.2.3
	binutils-csl-arm-2006q3-27:1.89.2.3
	binutils-csl-sourcerygxx-4_1-27:1.89.2.3
	binutils-csl-arm-2006q3-26:1.89.2.3
	binutils-csl-sourcerygxx-4_1-26:1.89.2.3
	binutils-csl-sourcerygxx-4_1-25:1.89.2.3
	binutils-csl-sourcerygxx-4_1-24:1.89.2.3
	binutils-csl-sourcerygxx-4_1-23:1.89.2.3
	binutils-csl-sourcerygxx-4_1-21:1.89.2.3
	binutils-csl-arm-2006q3-21:1.89.2.3
	binutils-csl-sourcerygxx-4_1-22:1.89.2.3
	binutils-csl-palmsource-arm-prelinker-1_0-1:1.89.2.3
	binutils-csl-sourcerygxx-4_1-20:1.89.2.3
	binutils-csl-arm-2006q3-19:1.89.2.3
	binutils-csl-sourcerygxx-4_1-19:1.89.2.3
	binutils-csl-sourcerygxx-4_1-18:1.89.2.3
	binutils-csl-renesas-4_1-9:1.89.2.3
	binutils-csl-sourcerygxx-3_4_4-25:1.68.2.2
	binutils-csl-renesas-4_1-8:1.89.2.2
	binutils-csl-renesas-4_1-7:1.89.2.2
	binutils-csl-renesas-4_1-6:1.89.2.2
	binutils-csl-sourcerygxx-4_1-17:1.89.2.2
	binutils-csl-sourcerygxx-4_1-14:1.89.2.2
	binutils-csl-sourcerygxx-4_1-15:1.89.2.2
	binutils-csl-sourcerygxx-4_1-13:1.89.2.2
	binutils-2_17:1.90.2.1
	binutils-csl-sourcerygxx-4_1-12:1.89.2.2
	binutils-csl-sourcerygxx-3_4_4-21:1.89.2.1
	binutils-csl-wrs-linux-3_4_4-24:1.68
	binutils-csl-wrs-linux-3_4_4-23:1.68
	binutils-csl-sourcerygxx-4_1-9:1.89.2.1
	binutils-csl-sourcerygxx-4_1-8:1.89.2.1
	binutils-csl-sourcerygxx-4_1-7:1.89.2.1
	binutils-csl-arm-2006q1-6:1.89.2.1
	binutils-csl-sourcerygxx-4_1-6:1.89.2.1
	binutils-csl-wrs-linux-3_4_4-22:1.68
	binutils-csl-coldfire-4_1-11:1.89.2.1
	binutils-csl-sourcerygxx-3_4_4-19:1.89.2.1
	binutils-csl-coldfire-4_1-10:1.89
	binutils-csl-sourcerygxx-4_1-5:1.89
	binutils-csl-sourcerygxx-4_1-4:1.89
	binutils-csl-wrs-linux-3_4_4-21:1.68
	binutils-csl-morpho-4_1-4:1.89
	binutils-csl-sourcerygxx-3_4_4-17:1.89
	binutils-csl-wrs-linux-3_4_4-20:1.68
	binutils-2_17-branch:1.90.0.2
	binutils-2_17-branchpoint:1.90
	binutils-csl-2_17-branch:1.89.0.2
	binutils-csl-2_17-branchpoint:1.89
	binutils-csl-gxxpro-3_4-branch:1.68.2.2.0.2
	binutils-csl-gxxpro-3_4-branchpoint:1.68.2.2
	binutils-2_16_1:1.68.2.2
	binutils-csl-arm-2005q1b:1.68
	binutils-2_16:1.68.2.2
	binutils-csl-arm-2005q1a:1.68
	binutils-csl-arm-2005q1-branch:1.68.0.4
	binutils-csl-arm-2005q1-branchpoint:1.68
	binutils-2_16-branch:1.68.0.2
	binutils-2_16-branchpoint:1.68
	csl-arm-2004-q3d:1.60
	csl-arm-2004-q3:1.56
	binutils-2_15:1.52
	binutils-2_15-branchpoint:1.52
	csl-arm-2004-q1a:1.52
	csl-arm-2004-q1:1.52
	binutils-2_15-branch:1.52.0.6
	cagney_bfdfile-20040213-branch:1.52.0.4
	cagney_bfdfile-20040213-branchpoint:1.52
	cagney_bigcore-20040122-branch:1.52.0.2
	cagney_bigcore-20040122-branchpoint:1.52
	csl-arm-2003-q4:1.52
	binutils-2_14:1.39
	binutils-2_14-branch:1.39.0.2
	binutils-2_14-branchpoint:1.39
	binutils-2_13_2_1:1.17.2.2
	binutils-2_13_2:1.17.2.2
	binutils-2_13_1:1.17.2.2
	binutils-2_13:1.17.2.2
	binutils-2_13-branchpoint:1.17
	binutils-2_13-branch:1.17.0.2
	binutils-2_12_1:1.15.2.1
	binutils-2_12:1.15.2.1
	binutils-2_12-branch:1.15.0.2
	binutils-2_12-branchpoint:1.15
	cygnus_cvs_20020108_pre:1.13
	binutils_latest_snapshot:1.207;
locks; strict;
comment	@# @;


1.207
date	2013.10.14.18.45.46;	author chaoyingfu;	state Exp;
branches;
next	1.206;

1.206
date	2013.08.23.17.06.44;	author hjl;	state Exp;
branches;
next	1.205;

1.205
date	2013.08.23.14.22.39;	author nickc;	state Exp;
branches;
next	1.204;

1.204
date	2013.08.23.14.20.34;	author nickc;	state Exp;
branches;
next	1.203;

1.203
date	2013.08.23.14.12.39;	author nickc;	state Exp;
branches;
next	1.202;

1.202
date	2013.08.23.13.37.06;	author nickc;	state Exp;
branches;
next	1.201;

1.201
date	2013.07.18.15.39.21;	author nickc;	state Exp;
branches;
next	1.200;

1.200
date	2013.07.10.08.16.34;	author gingold;	state Exp;
branches;
next	1.199;

1.199
date	2013.05.10.01.08.47;	author pinskia;	state Exp;
branches;
next	1.198;

1.198
date	2013.02.15.14.37.39;	author nickc;	state Exp;
branches;
next	1.197;

1.197
date	2013.02.15.09.32.31;	author nickc;	state Exp;
branches;
next	1.196;

1.196
date	2013.01.07.17.40.59;	author roland;	state Exp;
branches;
next	1.195;

1.195
date	2013.01.07.12.11.13;	author nickc;	state Exp;
branches;
next	1.194;

1.194
date	2013.01.04.22.27.58;	author schwab;	state Exp;
branches;
next	1.193;

1.193
date	2012.09.06.15.41.30;	author nickc;	state Exp;
branches;
next	1.192;

1.192
date	2012.08.17.02.43.21;	author amodra;	state Exp;
branches;
next	1.191;

1.191
date	2012.05.11.18.18.34;	author ccoutant;	state Exp;
branches
	1.191.2.1;
next	1.190;

1.190
date	2012.05.08.17.49.36;	author ccoutant;	state Exp;
branches;
next	1.189;

1.189
date	2012.04.25.17.50.14;	author ccoutant;	state Exp;
branches;
next	1.188;

1.188
date	2012.02.29.10.44.10;	author nickc;	state Exp;
branches;
next	1.187;

1.187
date	2012.02.24.14.20.16;	author ktietz;	state Exp;
branches;
next	1.186;

1.186
date	2012.02.01.16.49.26;	author nickc;	state Exp;
branches;
next	1.185;

1.185
date	2011.12.21.19.39.11;	author roland;	state Exp;
branches;
next	1.184;

1.184
date	2011.11.29.18.07.41;	author roland;	state Exp;
branches;
next	1.183;

1.183
date	2011.10.13.15.33.34;	author nickc;	state Exp;
branches;
next	1.182;

1.182
date	2011.07.22.20.22.34;	author hjl;	state Exp;
branches;
next	1.181;

1.181
date	2011.07.03.13.37.07;	author tschwinge;	state Exp;
branches;
next	1.180;

1.180
date	2011.07.01.15.02.21;	author nickc;	state Exp;
branches;
next	1.179;

1.179
date	2011.05.18.16.35.01;	author nickc;	state Exp;
branches;
next	1.178;

1.178
date	2011.05.16.12.22.13;	author gingold;	state Exp;
branches;
next	1.177;

1.177
date	2011.04.28.17.23.16;	author tromey;	state Exp;
branches;
next	1.176;

1.176
date	2011.04.13.07.50.14;	author nickc;	state Exp;
branches;
next	1.175;

1.175
date	2010.12.12.15.29.31;	author hjl;	state Exp;
branches;
next	1.174;

1.174
date	2010.12.03.17.07.20;	author devans;	state Exp;
branches;
next	1.173;

1.173
date	2010.10.29.12.10.32;	author hjl;	state Exp;
branches
	1.173.2.1;
next	1.172;

1.172
date	2010.10.29.08.47.02;	author nickc;	state Exp;
branches;
next	1.171;

1.171
date	2010.09.10.12.11.27;	author nickc;	state Exp;
branches;
next	1.170;

1.170
date	2010.08.23.16.25.52;	author hjl;	state Exp;
branches;
next	1.169;

1.169
date	2010.05.24.13.21.26;	author gingold;	state Exp;
branches;
next	1.168;

1.168
date	2010.03.25.08.03.56;	author tschwinge;	state Exp;
branches;
next	1.167;

1.167
date	2010.02.23.13.01.48;	author nickc;	state Exp;
branches;
next	1.166;

1.166
date	2010.01.11.14.45.42;	author hjl;	state Exp;
branches;
next	1.165;

1.165
date	2010.01.08.18.50.39;	author hjl;	state Exp;
branches;
next	1.164;

1.164
date	2010.01.08.17.23.05;	author hjl;	state Exp;
branches;
next	1.163;

1.163
date	2010.01.07.18.36.38;	author hjl;	state Exp;
branches;
next	1.162;

1.162
date	2010.01.06.16.52.14;	author hjl;	state Exp;
branches;
next	1.161;

1.161
date	2009.12.10.16.12.33;	author gingold;	state Exp;
branches;
next	1.160;

1.160
date	2009.12.09.12.58.23;	author gingold;	state Exp;
branches;
next	1.159;

1.159
date	2009.12.03.12.28.37;	author nickc;	state Exp;
branches;
next	1.158;

1.158
date	2009.10.28.17.21.36;	author ktietz;	state Exp;
branches;
next	1.157;

1.157
date	2009.10.23.14.53.56;	author ktietz;	state Exp;
branches;
next	1.156;

1.156
date	2009.10.16.10.05.06;	author nickc;	state Exp;
branches;
next	1.155;

1.155
date	2009.09.29.15.34.08;	author nickc;	state Exp;
branches;
next	1.154;

1.154
date	2009.09.11.11.16.19;	author nickc;	state Exp;
branches;
next	1.153;

1.153
date	2009.09.04.01.22.19;	author davek;	state Exp;
branches
	1.153.2.1;
next	1.152;

1.152
date	2009.08.27.14.58.08;	author davek;	state Exp;
branches;
next	1.151;

1.151
date	2009.07.23.13.00.26;	author nickc;	state Exp;
branches;
next	1.150;

1.150
date	2009.07.20.13.40.48;	author hjl;	state Exp;
branches;
next	1.149;

1.149
date	2009.06.24.10.37.35;	author nickc;	state Exp;
branches;
next	1.148;

1.148
date	2009.06.18.10.31.21;	author nickc;	state Exp;
branches;
next	1.147;

1.147
date	2009.06.01.01.50.45;	author amodra;	state Exp;
branches;
next	1.146;

1.146
date	2009.05.26.14.12.03;	author nickc;	state Exp;
branches;
next	1.145;

1.145
date	2009.04.17.15.03.47;	author hjl;	state Exp;
branches;
next	1.144;

1.144
date	2009.04.17.13.46.18;	author hjl;	state Exp;
branches;
next	1.143;

1.143
date	2009.04.14.09.47.44;	author davek;	state Exp;
branches;
next	1.142;

1.142
date	2009.04.01.14.57.11;	author nickc;	state Exp;
branches;
next	1.141;

1.141
date	2009.03.11.04.36.40;	author cgd;	state Exp;
branches;
next	1.140;

1.140
date	2009.02.09.09.14.15;	author gingold;	state Exp;
branches;
next	1.139;

1.139
date	2009.02.03.15.48.50;	author hjl;	state Exp;
branches;
next	1.138;

1.138
date	2009.01.13.09.23.51;	author nickc;	state Exp;
branches;
next	1.137;

1.137
date	2009.01.13.06.41.53;	author amodra;	state Exp;
branches;
next	1.136;

1.136
date	2009.01.08.13.29.14;	author ktietz;	state Exp;
branches;
next	1.135;

1.135
date	2008.12.23.09.01.46;	author nickc;	state Exp;
branches;
next	1.134;

1.134
date	2008.12.04.10.29.15;	author bje;	state Exp;
branches;
next	1.133;

1.133
date	2008.12.04.08.04.47;	author nickc;	state Exp;
branches;
next	1.132;

1.132
date	2008.11.19.16.22.47;	author nickc;	state Exp;
branches;
next	1.131;

1.131
date	2008.11.15.18.15.18;	author cwilson;	state Exp;
branches;
next	1.130;

1.130
date	2008.08.06.00.42.17;	author amodra;	state Exp;
branches
	1.130.2.1;
next	1.129;

1.129
date	2008.06.12.11.57.40;	author nickc;	state Exp;
branches;
next	1.128;

1.128
date	2008.04.30.07.27.17;	author nickc;	state Exp;
branches;
next	1.127;

1.127
date	2008.04.11.09.04.17;	author nickc;	state Exp;
branches;
next	1.126;

1.126
date	2008.03.28.06.49.44;	author nickc;	state Exp;
branches;
next	1.125;

1.125
date	2008.02.27.11.11.06;	author nickc;	state Exp;
branches;
next	1.124;

1.124
date	2008.02.26.08.44.10;	author nickc;	state Exp;
branches;
next	1.123;

1.123
date	2008.02.26.08.25.46;	author nickc;	state Exp;
branches;
next	1.122;

1.122
date	2008.02.22.09.42.58;	author nickc;	state Exp;
branches;
next	1.121;

1.121
date	2007.12.22.14.06.30;	author hjl;	state Exp;
branches;
next	1.120;

1.120
date	2007.11.07.11.36.42;	author nickc;	state Exp;
branches;
next	1.119;

1.119
date	2007.10.26.12.00.33;	author nickc;	state Exp;
branches;
next	1.118;

1.118
date	2007.10.16.19.01.47;	author bwilson;	state Exp;
branches;
next	1.117;

1.117
date	2007.09.17.16.09.24;	author nickc;	state Exp;
branches;
next	1.116;

1.116
date	2007.09.17.11.14.22;	author nickc;	state Exp;
branches;
next	1.115;

1.115
date	2007.09.17.09.58.27;	author nickc;	state Exp;
branches;
next	1.114;

1.114
date	2007.08.30.13.47.35;	author nickc;	state Exp;
branches;
next	1.113;

1.113
date	2007.08.24.00.56.25;	author bje;	state Exp;
branches;
next	1.112;

1.112
date	2007.08.10.07.12.37;	author ktietz;	state Exp;
branches;
next	1.111;

1.111
date	2007.07.05.09.01.28;	author amodra;	state Exp;
branches;
next	1.110;

1.110
date	2007.06.29.00.34.14;	author roland;	state Exp;
branches;
next	1.109;

1.109
date	2007.06.19.13.24.33;	author nickc;	state Exp;
branches;
next	1.108;

1.108
date	2007.06.19.11.29.05;	author nickc;	state Exp;
branches;
next	1.107;

1.107
date	2007.06.06.04.46.41;	author bje;	state Exp;
branches;
next	1.106;

1.106
date	2007.05.22.09.16.36;	author nickc;	state Exp;
branches;
next	1.105;

1.105
date	2007.04.23.10.59.07;	author nickc;	state Exp;
branches;
next	1.104;

1.104
date	2007.03.28.09.08.53;	author rsandifo;	state Exp;
branches;
next	1.103;

1.103
date	2007.03.22.21.18.31;	author jsm28;	state Exp;
branches;
next	1.102;

1.102
date	2007.03.15.14.17.16;	author hjl;	state Exp;
branches;
next	1.101;

1.101
date	2007.03.07.22.49.59;	author jsm28;	state Exp;
branches;
next	1.100;

1.100
date	2007.03.01.16.39.42;	author rsandifo;	state Exp;
branches;
next	1.99;

1.99
date	2007.02.02.15.27.04;	author hjl;	state Exp;
branches;
next	1.98;

1.98
date	2007.02.02.12.43.35;	author nickc;	state Exp;
branches;
next	1.97;

1.97
date	2006.09.05.08.22.27;	author nickc;	state Exp;
branches;
next	1.96;

1.96
date	2006.07.24.13.49.50;	author nickc;	state Exp;
branches;
next	1.95;

1.95
date	2006.07.06.10.04.09;	author nickc;	state Exp;
branches;
next	1.94;

1.94
date	2006.07.06.09.49.56;	author nickc;	state Exp;
branches;
next	1.93;

1.93
date	2006.06.23.16.23.09;	author rsandifo;	state Exp;
branches;
next	1.92;

1.92
date	2006.05.17.21.40.44;	author carlos;	state Exp;
branches;
next	1.91;

1.91
date	2006.05.02.14.20.46;	author drow;	state Exp;
branches;
next	1.90;

1.90
date	2006.04.05.16.12.01;	author ebotcazou;	state Exp;
branches
	1.90.2.1;
next	1.89;

1.89
date	2006.03.09.21.50.53;	author dannysmith;	state Exp;
branches
	1.89.2.1;
next	1.88;

1.88
date	2006.03.09.20.28.49;	author dannysmith;	state Exp;
branches;
next	1.87;

1.87
date	2006.02.28.16.09.01;	author nickc;	state Exp;
branches;
next	1.86;

1.86
date	2005.11.17.01.01.05;	author mmitchel;	state Exp;
branches;
next	1.85;

1.85
date	2005.11.15.08.33.38;	author jbeulich;	state Exp;
branches;
next	1.84;

1.84
date	2005.11.14.15.00.30;	author drow;	state Exp;
branches;
next	1.83;

1.83
date	2005.10.11.16.33.16;	author nickc;	state Exp;
branches;
next	1.82;

1.82
date	2005.10.11.04.49.16;	author mmitchel;	state Exp;
branches;
next	1.81;

1.81
date	2005.10.10.08.41.25;	author nickc;	state Exp;
branches;
next	1.80;

1.80
date	2005.10.04.11.03.38;	author nickc;	state Exp;
branches;
next	1.79;

1.79
date	2005.10.03.19.37.44;	author mmitchel;	state Exp;
branches;
next	1.78;

1.78
date	2005.10.03.14.40.19;	author hjl;	state Exp;
branches;
next	1.77;

1.77
date	2005.08.15.15.37.13;	author drow;	state Exp;
branches;
next	1.76;

1.76
date	2005.08.11.13.14.29;	author hjl;	state Exp;
branches;
next	1.75;

1.75
date	2005.05.23.17.45.42;	author fnf;	state Exp;
branches;
next	1.74;

1.74
date	2005.05.01.16.02.56;	author macro;	state Exp;
branches;
next	1.73;

1.73
date	2005.04.25.09.23.24;	author nickc;	state Exp;
branches;
next	1.72;

1.72
date	2005.04.04.14.56.12;	author macro;	state Exp;
branches;
next	1.71;

1.71
date	2005.04.01.15.09.43;	author hjl;	state Exp;
branches;
next	1.70;

1.70
date	2005.03.29.16.13.46;	author nickc;	state Exp;
branches;
next	1.69;

1.69
date	2005.03.15.17.45.19;	author nickc;	state Exp;
branches;
next	1.68;

1.68
date	2005.03.03.11.46.13;	author amodra;	state Exp;
branches
	1.68.2.1;
next	1.67;

1.67
date	2005.01.19.23.35.26;	author fnf;	state Exp;
branches;
next	1.66;

1.66
date	2005.01.11.11.58.48;	author nickc;	state Exp;
branches;
next	1.65;

1.65
date	2004.12.16.13.16.33;	author jbeulich;	state Exp;
branches;
next	1.64;

1.64
date	2004.12.08.02.50.40;	author bje;	state Exp;
branches;
next	1.63;

1.63
date	2004.12.06.21.20.50;	author bje;	state Exp;
branches;
next	1.62;

1.62
date	2004.12.06.05.35.31;	author bje;	state Exp;
branches;
next	1.61;

1.61
date	2004.11.08.08.12.48;	author nickc;	state Exp;
branches;
next	1.60;

1.60
date	2004.11.03.10.44.45;	author nickc;	state Exp;
branches;
next	1.59;

1.59
date	2004.10.26.16.05.42;	author nickc;	state Exp;
branches;
next	1.58;

1.58
date	2004.10.08.14.54.04;	author nickc;	state Exp;
branches;
next	1.57;

1.57
date	2004.10.08.09.49.14;	author nickc;	state Exp;
branches;
next	1.56;

1.56
date	2004.09.06.20.00.55;	author dannysmith;	state Exp;
branches;
next	1.55;

1.55
date	2004.09.06.08.07.42;	author nickc;	state Exp;
branches;
next	1.54;

1.54
date	2004.07.12.17.07.55;	author nickc;	state Exp;
branches;
next	1.53;

1.53
date	2004.07.03.16.07.48;	author cgf;	state Exp;
branches;
next	1.52;

1.52
date	2003.12.23.13.01.11;	author macro;	state Exp;
branches;
next	1.51;

1.51
date	2003.11.26.11.49.10;	author nickc;	state Exp;
branches;
next	1.50;

1.50
date	2003.11.25.19.50.04;	author dannysmith;	state Exp;
branches;
next	1.49;

1.49
date	2003.11.23.01.10.45;	author ian;	state Exp;
branches;
next	1.48;

1.48
date	2003.11.11.17.50.26;	author nickc;	state Exp;
branches;
next	1.47;

1.47
date	2003.09.03.08.26.48;	author nickc;	state Exp;
branches;
next	1.46;

1.46
date	2003.08.11.09.15.55;	author nickc;	state Exp;
branches;
next	1.45;

1.45
date	2003.07.22.13.33.32;	author nickc;	state Exp;
branches;
next	1.44;

1.44
date	2003.07.18.11.34.41;	author nickc;	state Exp;
branches;
next	1.43;

1.43
date	2003.07.17.17.02.46;	author nickc;	state Exp;
branches;
next	1.42;

1.42
date	2003.06.26.08.14.10;	author nickc;	state Exp;
branches;
next	1.41;

1.41
date	2003.06.12.07.23.31;	author nickc;	state Exp;
branches;
next	1.40;

1.40
date	2003.06.02.14.45.13;	author thorpej;	state Exp;
branches;
next	1.39;

1.39
date	2003.04.24.07.58.49;	author nickc;	state Exp;
branches;
next	1.38;

1.38
date	2003.04.23.09.00.22;	author nickc;	state Exp;
branches;
next	1.37;

1.37
date	2003.04.22.17.31.08;	author nickc;	state Exp;
branches;
next	1.36;

1.36
date	2003.04.09.09.55.13;	author aoliva;	state Exp;
branches;
next	1.35;

1.35
date	2003.04.05.08.21.47;	author nickc;	state Exp;
branches;
next	1.34;

1.34
date	2003.04.03.13.40.51;	author nickc;	state Exp;
branches;
next	1.33;

1.33
date	2003.04.01.23.09.29;	author cgf;	state Exp;
branches;
next	1.32;

1.32
date	2003.03.24.16.11.46;	author nickc;	state Exp;
branches;
next	1.31;

1.31
date	2003.03.17.10.14.07;	author nickc;	state Exp;
branches;
next	1.30;

1.30
date	2003.02.24.16.20.28;	author nickc;	state Exp;
branches;
next	1.29;

1.29
date	2003.02.21.10.30.35;	author nickc;	state Exp;
branches;
next	1.28;

1.28
date	2002.12.31.07.29.26;	author cgd;	state Exp;
branches;
next	1.27;

1.27
date	2002.12.27.08.00.29;	author cgd;	state Exp;
branches;
next	1.26;

1.26
date	2002.12.23.10.37.38;	author nickc;	state Exp;
branches;
next	1.25;

1.25
date	2002.12.19.14.39.30;	author kazu;	state Exp;
branches;
next	1.24;

1.24
date	2002.12.14.21.17.41;	author danglin;	state Exp;
branches;
next	1.23;

1.23
date	2002.12.13.13.19.44;	author nickc;	state Exp;
branches;
next	1.22;

1.22
date	2002.10.22.22.59.02;	author bje;	state Exp;
branches;
next	1.21;

1.21
date	2002.10.22.22.40.47;	author bje;	state Exp;
branches;
next	1.20;

1.20
date	2002.08.14.15.12.07;	author nickc;	state Exp;
branches;
next	1.19;

1.19
date	2002.07.30.14.33.40;	author jakub;	state Exp;
branches;
next	1.18;

1.18
date	2002.07.23.05.12.57;	author amodra;	state Exp;
branches;
next	1.17;

1.17
date	2002.06.15.18.40.26;	author hjl;	state Exp;
branches
	1.17.2.1;
next	1.16;

1.16
date	2002.03.08.05.42.15;	author drow;	state Exp;
branches;
next	1.15;

1.15
date	2002.01.25.15.37.04;	author nickc;	state Exp;
branches
	1.15.2.1;
next	1.14;

1.14
date	2002.01.15.17.18.53;	author nickc;	state Exp;
branches;
next	1.13;

1.13
date	2001.12.20.11.20.17;	author nickc;	state Exp;
branches;
next	1.12;

1.12
date	2001.11.19.14.35.57;	author nickc;	state Exp;
branches;
next	1.11;

1.11
date	2001.11.15.01.08.50;	author amodra;	state Exp;
branches;
next	1.10;

1.10
date	2001.11.14.12.00.59;	author aj;	state Exp;
branches;
next	1.9;

1.9
date	2001.11.14.03.15.28;	author amodra;	state Exp;
branches;
next	1.8;

1.8
date	2001.09.25.16.44.18;	author jakub;	state Exp;
branches;
next	1.7;

1.7
date	2001.09.14.11.32.25;	author nickc;	state Exp;
branches;
next	1.6;

1.6
date	2001.08.24.13.56.11;	author aoliva;	state Exp;
branches;
next	1.5;

1.5
date	2001.08.05.21.01.26;	author pb;	state Exp;
branches;
next	1.4;

1.4
date	2001.08.01.15.54.41;	author nickc;	state Exp;
branches;
next	1.3;

1.3
date	2001.07.31.13.49.39;	author nickc;	state Exp;
branches;
next	1.2;

1.2
date	2001.07.05.07.49.05;	author nickc;	state Exp;
branches;
next	1.1;

1.1
date	2001.06.19.11.57.29;	author nickc;	state Exp;
branches;
next	;

1.191.2.1
date	2013.01.07.17.42.43;	author roland;	state Exp;
branches;
next	;

1.173.2.1
date	2011.02.01.12.25.36;	author amodra;	state Exp;
branches;
next	1.173.2.2;

1.173.2.2
date	2011.05.29.04.51.27;	author amodra;	state Exp;
branches;
next	;

1.153.2.1
date	2009.09.29.15.34.36;	author nickc;	state Exp;
branches;
next	;

1.130.2.1
date	2009.03.02.13.43.13;	author amodra;	state Exp;
branches;
next	;

1.90.2.1
date	2006.05.02.14.19.02;	author drow;	state Exp;
branches;
next	;

1.89.2.1
date	2006.05.12.19.39.03;	author carlos;	state Exp;
branches;
next	1.89.2.2;

1.89.2.2
date	2006.06.22.15.44.18;	author rsandifo;	state Exp;
branches;
next	1.89.2.3;

1.89.2.3
date	2006.08.22.15.08.30;	author jsm28;	state Exp;
branches;
next	;

1.68.2.1
date	2005.04.04.14.56.35;	author macro;	state Exp;
branches;
next	1.68.2.2;

1.68.2.2
date	2005.04.20.16.44.10;	author hjl;	state Exp;
branches;
next	;

1.17.2.1
date	2002.07.23.05.13.49;	author amodra;	state Exp;
branches;
next	1.17.2.2;

1.17.2.2
date	2002.07.30.18.18.09;	author drow;	state Exp;
branches;
next	;

1.15.2.1
date	2002.03.08.05.42.37;	author drow;	state Exp;
branches;
next	;


desc
@@


1.207
log
@2013-10-14  Chao-ying Fu  <Chao-ying.Fu@@imgtec.com>

	* readelf.c (display_mips_gnu_attribute): Support Tag_GNU_MIPS_ABI_MSA.
	* doc/binutils.texi: Document -Mmsa disassembler option.
@
text
@\input texinfo       @@c                    -*- Texinfo -*-
@@setfilename binutils.info
@@settitle @@sc{gnu} Binary Utilities
@@finalout
@@synindex ky cp

@@c man begin INCLUDE
@@include bfdver.texi
@@c man end

@@copying
@@c man begin COPYRIGHT
Copyright @@copyright{} 1991-2013 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3
or any later version published by the Free Software Foundation;
with no Invariant Sections, with no Front-Cover Texts, and with no
Back-Cover Texts.  A copy of the license is included in the
section entitled ``GNU Free Documentation License''.

@@c man end
@@end copying

@@dircategory Software development
@@direntry
* Binutils: (binutils).         The GNU binary utilities.
@@end direntry

@@dircategory Individual utilities
@@direntry
* addr2line: (binutils)addr2line. Convert addresses to file and line.
* ar: (binutils)ar.               Create, modify, and extract from archives.
* c++filt: (binutils)c++filt.	  Filter to demangle encoded C++ symbols.
* cxxfilt: (binutils)c++filt.     MS-DOS name for c++filt.
* dlltool: (binutils)dlltool.	  Create files needed to build and use DLLs.
* nlmconv: (binutils)nlmconv.     Converts object code into an NLM.
* nm: (binutils)nm.               List symbols from object files.
* objcopy: (binutils)objcopy.	  Copy and translate object files.
* objdump: (binutils)objdump.     Display information from object files.
* ranlib: (binutils)ranlib.       Generate index to archive contents.
* readelf: (binutils)readelf.	  Display the contents of ELF format files.
* size: (binutils)size.           List section sizes and total size.
* strings: (binutils)strings.     List printable strings from files.
* strip: (binutils)strip.         Discard symbols.
* elfedit: (binutils)elfedit.     Update the ELF header of ELF files.
* windmc: (binutils)windmc.	  Generator for Windows message resources.
* windres: (binutils)windres.	  Manipulate Windows resources.
@@end direntry

@@titlepage
@@title The @@sc{gnu} Binary Utilities
@@ifset VERSION_PACKAGE
@@subtitle @@value{VERSION_PACKAGE}
@@end ifset
@@subtitle Version @@value{VERSION}
@@sp 1
@@subtitle @@value{UPDATED}
@@author Roland H. Pesch
@@author Jeffrey M. Osier
@@author Cygnus Support
@@page

@@tex
{\parskip=0pt \hfill Cygnus Support\par \hfill
Texinfo \texinfoversion\par }
@@end tex

@@vskip 0pt plus 1filll
@@insertcopying
@@end titlepage
@@contents

@@node Top
@@top Introduction

@@cindex version
This brief manual contains documentation for the @@sc{gnu} binary
utilities
@@ifset VERSION_PACKAGE
@@value{VERSION_PACKAGE}
@@end ifset
version @@value{VERSION}:

@@iftex
@@table @@code
@@item ar
Create, modify, and extract from archives

@@item nm
List symbols from object files

@@item objcopy
Copy and translate object files

@@item objdump
Display information from object files

@@item ranlib
Generate index to archive contents

@@item readelf
Display the contents of ELF format files.

@@item size
List file section sizes and total size

@@item strings
List printable strings from files

@@item strip
Discard symbols

@@item elfedit
Update the ELF header of ELF files.

@@item c++filt
Demangle encoded C++ symbols (on MS-DOS, this program is named
@@code{cxxfilt})

@@item addr2line
Convert addresses into file names and line numbers

@@item nlmconv
Convert object code into a Netware Loadable Module

@@item windres
Manipulate Windows resources

@@item windmc
Generator for Windows message resources

@@item dlltool
Create the files needed to build and use Dynamic Link Libraries
@@end table
@@end iftex

This document is distributed under the terms of the GNU Free
Documentation License version 1.3.  A copy of the license is included
in the section entitled ``GNU Free Documentation License''.

@@menu
* ar::                          Create, modify, and extract from archives
* nm::                          List symbols from object files
* objcopy::			Copy and translate object files
* objdump::                     Display information from object files
* ranlib::                      Generate index to archive contents
* size::                        List section sizes and total size
* strings::                     List printable strings from files
* strip::                       Discard symbols
* c++filt::			Filter to demangle encoded C++ symbols
* cxxfilt: c++filt.             MS-DOS name for c++filt
* addr2line::			Convert addresses to file and line
* nlmconv::                     Converts object code into an NLM
* windmc::			Generator for Windows message resources
* windres::			Manipulate Windows resources
* dlltool::			Create files needed to build and use DLLs
* readelf::                     Display the contents of ELF format files
* elfedit::                     Update the ELF header of ELF files
* Common Options::              Command-line options for all utilities
* Selecting the Target System:: How these utilities determine the target
* Reporting Bugs::              Reporting Bugs
* GNU Free Documentation License::  GNU Free Documentation License
* Binutils Index::              Binutils Index
@@end menu

@@node ar
@@chapter ar

@@kindex ar
@@cindex archives
@@cindex collections of files

@@c man title ar create, modify, and extract from archives

@@smallexample
ar [@@option{--plugin} @@var{name}] [-]@@var{p}[@@var{mod} [@@var{relpos}] [@@var{count}]] [@@option{--target} @@var{bfdname}] @@var{archive} [@@var{member}@@dots{}]
ar -M [ <mri-script ]
@@end smallexample

@@c man begin DESCRIPTION ar

The @@sc{gnu} @@command{ar} program creates, modifies, and extracts from
archives.  An @@dfn{archive} is a single file holding a collection of
other files in a structure that makes it possible to retrieve
the original individual files (called @@dfn{members} of the archive).

The original files' contents, mode (permissions), timestamp, owner, and
group are preserved in the archive, and can be restored on
extraction.

@@cindex name length
@@sc{gnu} @@command{ar} can maintain archives whose members have names of any
length; however, depending on how @@command{ar} is configured on your
system, a limit on member-name length may be imposed for compatibility
with archive formats maintained with other tools.  If it exists, the
limit is often 15 characters (typical of formats related to a.out) or 16
characters (typical of formats related to coff).

@@cindex libraries
@@command{ar} is considered a binary utility because archives of this sort
are most often used as @@dfn{libraries} holding commonly needed
subroutines.

@@cindex symbol index
@@command{ar} creates an index to the symbols defined in relocatable
object modules in the archive when you specify the modifier @@samp{s}.
Once created, this index is updated in the archive whenever @@command{ar}
makes a change to its contents (save for the @@samp{q} update operation).
An archive with such an index speeds up linking to the library, and
allows routines in the library to call each other without regard to
their placement in the archive.

You may use @@samp{nm -s} or @@samp{nm --print-armap} to list this index
table.  If an archive lacks the table, another form of @@command{ar} called
@@command{ranlib} can be used to add just the table.

@@cindex thin archives
@@sc{gnu} @@command{ar} can optionally create a @@emph{thin} archive,
which contains a symbol index and references to the original copies
of the member files of the archive.  This is useful for building
libraries for use within a local build tree, where the relocatable
objects are expected to remain available, and copying the contents of
each object would only waste time and space.

An archive can either be @@emph{thin} or it can be normal.  It cannot
be both at the same time.  Once an archive is created its format
cannot be changed without first deleting it and then creating a new
archive in its place.

Thin archives are also @@emph{flattened}, so that adding one thin
archive to another thin archive does not nest it, as would happen with
a normal archive.  Instead the elements of the first archive are added
individually to the second archive.

The paths to the elements of the archive are stored relative to the
archive itself.

@@cindex compatibility, @@command{ar}
@@cindex @@command{ar} compatibility
@@sc{gnu} @@command{ar} is designed to be compatible with two different
facilities.  You can control its activity using command-line options,
like the different varieties of @@command{ar} on Unix systems; or, if you
specify the single command-line option @@option{-M}, you can control it
with a script supplied via standard input, like the MRI ``librarian''
program.

@@c man end

@@menu
* ar cmdline::                  Controlling @@command{ar} on the command line
* ar scripts::                  Controlling @@command{ar} with a script
@@end menu

@@page
@@node ar cmdline
@@section Controlling @@command{ar} on the Command Line

@@smallexample
@@c man begin SYNOPSIS ar
ar [@@option{--plugin} @@var{name}] [@@option{-X32_64}] [@@option{-}]@@var{p}[@@var{mod} [@@var{relpos}] [@@var{count}]] [@@option{--target} @@var{bfdname}] @@var{archive} [@@var{member}@@dots{}]
@@c man end
@@end smallexample

@@cindex Unix compatibility, @@command{ar}
When you use @@command{ar} in the Unix style, @@command{ar} insists on at least two
arguments to execute: one keyletter specifying the @@emph{operation}
(optionally accompanied by other keyletters specifying
@@emph{modifiers}), and the archive name to act on.

Most operations can also accept further @@var{member} arguments,
specifying particular files to operate on.

@@c man begin OPTIONS ar

@@sc{gnu} @@command{ar} allows you to mix the operation code @@var{p} and modifier
flags @@var{mod} in any order, within the first command-line argument.

If you wish, you may begin the first command-line argument with a
dash.

@@cindex operations on archive
The @@var{p} keyletter specifies what operation to execute; it may be
any of the following, but you must specify only one of them:

@@table @@samp
@@item d
@@cindex deleting from archive
@@emph{Delete} modules from the archive.  Specify the names of modules to
be deleted as @@var{member}@@dots{}; the archive is untouched if you
specify no files to delete.

If you specify the @@samp{v} modifier, @@command{ar} lists each module
as it is deleted.

@@item m
@@cindex moving in archive
Use this operation to @@emph{move} members in an archive.

The ordering of members in an archive can make a difference in how
programs are linked using the library, if a symbol is defined in more
than one member.

If no modifiers are used with @@code{m}, any members you name in the
@@var{member} arguments are moved to the @@emph{end} of the archive;
you can use the @@samp{a}, @@samp{b}, or @@samp{i} modifiers to move them to a
specified place instead.

@@item p
@@cindex printing from archive
@@emph{Print} the specified members of the archive, to the standard
output file.  If the @@samp{v} modifier is specified, show the member
name before copying its contents to standard output.

If you specify no @@var{member} arguments, all the files in the archive are
printed.

@@item q
@@cindex quick append to archive
@@emph{Quick append}; Historically, add the files @@var{member}@@dots{} to the end of
@@var{archive}, without checking for replacement.

The modifiers @@samp{a}, @@samp{b}, and @@samp{i} do @@emph{not} affect this
operation; new members are always placed at the end of the archive.

The modifier @@samp{v} makes @@command{ar} list each file as it is appended.

Since the point of this operation is speed, implementations of
@@command{ar} have the option of not updating the archive's symbol
table if one exists.  Too many different systems however assume that
symbol tables are always up-to-date, so @@sc{gnu} @@command{ar} will
rebuild the table even with a quick append.

Note - @@sc{gnu} @@command{ar} treats the command @@samp{qs} as a
synonym for @@samp{r} - replacing already existing files in the
archive and appending new ones at the end.

@@item r
@@cindex replacement in archive
Insert the files @@var{member}@@dots{} into @@var{archive} (with
@@emph{replacement}). This operation differs from @@samp{q} in that any
previously existing members are deleted if their names match those being
added.

If one of the files named in @@var{member}@@dots{} does not exist, @@command{ar}
displays an error message, and leaves undisturbed any existing members
of the archive matching that name.

By default, new members are added at the end of the file; but you may
use one of the modifiers @@samp{a}, @@samp{b}, or @@samp{i} to request
placement relative to some existing member.

The modifier @@samp{v} used with this operation elicits a line of
output for each file inserted, along with one of the letters @@samp{a} or
@@samp{r} to indicate whether the file was appended (no old member
deleted) or replaced.

@@item s
@@cindex ranlib
Add an index to the archive, or update it if it already exists.  Note
this command is an exception to the rule that there can only be one
command letter, as it is possible to use it as either a command or a
modifier.  In either case it does the same thing.

@@item t
@@cindex contents of archive
Display a @@emph{table} listing the contents of @@var{archive}, or those
of the files listed in @@var{member}@@dots{} that are present in the
archive.  Normally only the member name is shown; if you also want to
see the modes (permissions), timestamp, owner, group, and size, you can
request that by also specifying the @@samp{v} modifier.

If you do not specify a @@var{member}, all files in the archive
are listed.

@@cindex repeated names in archive
@@cindex name duplication in archive
If there is more than one file with the same name (say, @@samp{fie}) in
an archive (say @@samp{b.a}), @@samp{ar t b.a fie} lists only the
first instance; to see them all, you must ask for a complete
listing---in our example, @@samp{ar t b.a}.
@@c WRS only; per Gumby, this is implementation-dependent, and in a more
@@c recent case in fact works the other way.

@@item x
@@cindex extract from archive
@@emph{Extract} members (named @@var{member}) from the archive.  You can
use the @@samp{v} modifier with this operation, to request that
@@command{ar} list each name as it extracts it.

If you do not specify a @@var{member}, all files in the archive
are extracted.

Files cannot be extracted from a thin archive.

@@item --help
Displays the list of command line options supported by @@command{ar}
and then exits.

@@item --version
Displays the version information of @@command{ar} and then exits.

@@end table

A number of modifiers (@@var{mod}) may immediately follow the @@var{p}
keyletter, to specify variations on an operation's behavior:

@@table @@samp
@@item a
@@cindex relative placement in archive
Add new files @@emph{after} an existing member of the
archive.  If you use the modifier @@samp{a}, the name of an existing archive
member must be present as the @@var{relpos} argument, before the
@@var{archive} specification.

@@item b
Add new files @@emph{before} an existing member of the
archive.  If you use the modifier @@samp{b}, the name of an existing archive
member must be present as the @@var{relpos} argument, before the
@@var{archive} specification.  (same as @@samp{i}).

@@item c
@@cindex creating archives
@@emph{Create} the archive.  The specified @@var{archive} is always
created if it did not exist, when you request an update.  But a warning is
issued unless you specify in advance that you expect to create it, by
using this modifier.

@@item D
@@cindex deterministic archives
@@kindex --enable-deterministic-archives
Operate in @@emph{deterministic} mode.  When adding files and the archive
index use zero for UIDs, GIDs, timestamps, and use consistent file modes
for all files.  When this option is used, if @@command{ar} is used with
identical options and identical input files, multiple runs will create
identical output files regardless of the input files' owners, groups,
file modes, or modification times.

If @@file{binutils} was configured with
@@option{--enable-deterministic-archives}, then this mode is on by default.
It can be disabled with the @@samp{U} modifier, below.

@@item f
Truncate names in the archive.  @@sc{gnu} @@command{ar} will normally permit file
names of any length.  This will cause it to create archives which are
not compatible with the native @@command{ar} program on some systems.  If
this is a concern, the @@samp{f} modifier may be used to truncate file
names when putting them in the archive.

@@item i
Insert new files @@emph{before} an existing member of the
archive.  If you use the modifier @@samp{i}, the name of an existing archive
member must be present as the @@var{relpos} argument, before the
@@var{archive} specification.  (same as @@samp{b}).

@@item l
This modifier is accepted but not used.
@@c whaffor ar l modifier??? presumably compat; with
@@c what???---doc@@@@cygnus.com, 25jan91

@@item N
Uses the @@var{count} parameter.  This is used if there are multiple
entries in the archive with the same name.  Extract or delete instance
@@var{count} of the given name from the archive.

@@item o
@@cindex dates in archive
Preserve the @@emph{original} dates of members when extracting them.  If
you do not specify this modifier, files extracted from the archive
are stamped with the time of extraction.

@@item P
Use the full path name when matching names in the archive.  @@sc{gnu}
@@command{ar} can not create an archive with a full path name (such archives
are not POSIX complaint), but other archive creators can.  This option
will cause @@sc{gnu} @@command{ar} to match file names using a complete path
name, which can be convenient when extracting a single file from an
archive created by another tool.

@@item s
@@cindex writing archive index
Write an object-file index into the archive, or update an existing one,
even if no other change is made to the archive.  You may use this modifier
flag either with any operation, or alone.  Running @@samp{ar s} on an
archive is equivalent to running @@samp{ranlib} on it.

@@item S
@@cindex not writing archive index
Do not generate an archive symbol table.  This can speed up building a
large library in several steps.  The resulting archive can not be used
with the linker.  In order to build a symbol table, you must omit the
@@samp{S} modifier on the last execution of @@samp{ar}, or you must run
@@samp{ranlib} on the archive.

@@item T
@@cindex creating thin archive
Make the specified @@var{archive} a @@emph{thin} archive.  If it already
exists and is a regular archive, the existing members must be present
in the same directory as @@var{archive}.

@@item u
@@cindex updating an archive
Normally, @@samp{ar r}@@dots{} inserts all files
listed into the archive.  If you would like to insert @@emph{only} those
of the files you list that are newer than existing members of the same
names, use this modifier.  The @@samp{u} modifier is allowed only for the
operation @@samp{r} (replace).  In particular, the combination @@samp{qu} is
not allowed, since checking the timestamps would lose any speed
advantage from the operation @@samp{q}.

@@item U
@@cindex deterministic archives
@@kindex --enable-deterministic-archives
Do @@emph{not} operate in @@emph{deterministic} mode.  This is the inverse
of the @@samp{D} modifier, above: added files and the archive index will
get their actual UID, GID, timestamp, and file mode values.

This is the default unless @@file{binutils} was configured with
@@option{--enable-deterministic-archives}.

@@item v
This modifier requests the @@emph{verbose} version of an operation.  Many
operations display additional information, such as filenames processed,
when the modifier @@samp{v} is appended.

@@item V
This modifier shows the version number of @@command{ar}.
@@end table

@@command{ar} ignores an initial option spelt @@samp{-X32_64}, for
compatibility with AIX.  The behaviour produced by this option is the
default for @@sc{gnu} @@command{ar}.  @@command{ar} does not support any of the other
@@samp{-X} options; in particular, it does not support @@option{-X32}
which is the default for AIX @@command{ar}.

The optional command line switch @@option{--plugin} @@var{name} causes
@@command{ar} to load the plugin called @@var{name} which adds support
for more file formats.  This option is only available if the toolchain
has been built with plugin support enabled.

The optional command line switch @@option{--target} @@var{bfdname}
specifies that the archive members are in an object code format
different from your system's default format.  See
@@xref{Target Selection}, for more information.

@@c man end

@@ignore
@@c man begin SEEALSO ar
nm(1), ranlib(1), and the Info entries for @@file{binutils}.
@@c man end
@@end ignore

@@node ar scripts
@@section Controlling @@command{ar} with a Script

@@smallexample
ar -M [ <@@var{script} ]
@@end smallexample

@@cindex MRI compatibility, @@command{ar}
@@cindex scripts, @@command{ar}
If you use the single command-line option @@samp{-M} with @@command{ar}, you
can control its operation with a rudimentary command language.  This
form of @@command{ar} operates interactively if standard input is coming
directly from a terminal.  During interactive use, @@command{ar} prompts for
input (the prompt is @@samp{AR >}), and continues executing even after
errors.  If you redirect standard input to a script file, no prompts are
issued, and @@command{ar} abandons execution (with a nonzero exit code)
on any error.

The @@command{ar} command language is @@emph{not} designed to be equivalent
to the command-line options; in fact, it provides somewhat less control
over archives.  The only purpose of the command language is to ease the
transition to @@sc{gnu} @@command{ar} for developers who already have scripts
written for the MRI ``librarian'' program.

The syntax for the @@command{ar} command language is straightforward:
@@itemize @@bullet
@@item
commands are recognized in upper or lower case; for example, @@code{LIST}
is the same as @@code{list}.  In the following descriptions, commands are
shown in upper case for clarity.

@@item
a single command may appear on each line; it is the first word on the
line.

@@item
empty lines are allowed, and have no effect.

@@item
comments are allowed; text after either of the characters @@samp{*}
or @@samp{;} is ignored.

@@item
Whenever you use a list of names as part of the argument to an @@command{ar}
command, you can separate the individual names with either commas or
blanks.  Commas are shown in the explanations below, for clarity.

@@item
@@samp{+} is used as a line continuation character; if @@samp{+} appears
at the end of a line, the text on the following line is considered part
of the current command.
@@end itemize

Here are the commands you can use in @@command{ar} scripts, or when using
@@command{ar} interactively.  Three of them have special significance:

@@code{OPEN} or @@code{CREATE} specify a @@dfn{current archive}, which is
a temporary file required for most of the other commands.

@@code{SAVE} commits the changes so far specified by the script.  Prior
to @@code{SAVE}, commands affect only the temporary copy of the current
archive.

@@table @@code
@@item ADDLIB @@var{archive}
@@itemx ADDLIB @@var{archive} (@@var{module}, @@var{module}, @@dots{} @@var{module})
Add all the contents of @@var{archive} (or, if specified, each named
@@var{module} from @@var{archive}) to the current archive.

Requires prior use of @@code{OPEN} or @@code{CREATE}.

@@item ADDMOD @@var{member}, @@var{member}, @@dots{} @@var{member}
@@c FIXME! w/Replacement??  If so, like "ar r @@var{archive} @@var{names}"
@@c        else like "ar q..."
Add each named @@var{member} as a module in the current archive.

Requires prior use of @@code{OPEN} or @@code{CREATE}.

@@item CLEAR
Discard the contents of the current archive, canceling the effect of
any operations since the last @@code{SAVE}.  May be executed (with no
effect) even if  no current archive is specified.

@@item CREATE @@var{archive}
Creates an archive, and makes it the current archive (required for many
other commands).  The new archive is created with a temporary name; it
is not actually saved as @@var{archive} until you use @@code{SAVE}.
You can overwrite existing archives; similarly, the contents of any
existing file named @@var{archive} will not be destroyed until @@code{SAVE}.

@@item DELETE @@var{module}, @@var{module}, @@dots{} @@var{module}
Delete each listed @@var{module} from the current archive; equivalent to
@@samp{ar -d @@var{archive} @@var{module} @@dots{} @@var{module}}.

Requires prior use of @@code{OPEN} or @@code{CREATE}.

@@item DIRECTORY @@var{archive} (@@var{module}, @@dots{} @@var{module})
@@itemx DIRECTORY @@var{archive} (@@var{module}, @@dots{} @@var{module}) @@var{outputfile}
List each named @@var{module} present in @@var{archive}.  The separate
command @@code{VERBOSE} specifies the form of the output: when verbose
output is off, output is like that of @@samp{ar -t @@var{archive}
@@var{module}@@dots{}}.  When verbose output is on, the listing is like
@@samp{ar -tv @@var{archive} @@var{module}@@dots{}}.

Output normally goes to the standard output stream; however, if you
specify @@var{outputfile} as a final argument, @@command{ar} directs the
output to that file.

@@item END
Exit from @@command{ar}, with a @@code{0} exit code to indicate successful
completion.  This command does not save the output file; if you have
changed the current archive since the last @@code{SAVE} command, those
changes are lost.

@@item EXTRACT @@var{module}, @@var{module}, @@dots{} @@var{module}
Extract each named @@var{module} from the current archive, writing them
into the current directory as separate files.  Equivalent to @@samp{ar -x
@@var{archive} @@var{module}@@dots{}}.

Requires prior use of @@code{OPEN} or @@code{CREATE}.

@@ignore
@@c FIXME Tokens but no commands???
@@item FULLDIR

@@item HELP
@@end ignore

@@item LIST
Display full contents of the current archive, in ``verbose'' style
regardless of the state of @@code{VERBOSE}.  The effect is like @@samp{ar
tv @@var{archive}}.  (This single command is a @@sc{gnu} @@command{ar}
enhancement, rather than present for MRI compatibility.)

Requires prior use of @@code{OPEN} or @@code{CREATE}.

@@item OPEN @@var{archive}
Opens an existing archive for use as the current archive (required for
many other commands).  Any changes as the result of subsequent commands
will not actually affect @@var{archive} until you next use @@code{SAVE}.

@@item REPLACE @@var{module}, @@var{module}, @@dots{} @@var{module}
In the current archive, replace each existing @@var{module} (named in
the @@code{REPLACE} arguments) from files in the current working directory.
To execute this command without errors, both the file, and the module in
the current archive, must exist.

Requires prior use of @@code{OPEN} or @@code{CREATE}.

@@item VERBOSE
Toggle an internal flag governing the output from @@code{DIRECTORY}.
When the flag is on, @@code{DIRECTORY} output matches output from
@@samp{ar -tv }@@dots{}.

@@item SAVE
Commit your changes to the current archive, and actually save it as a
file with the name specified in the last @@code{CREATE} or @@code{OPEN}
command.

Requires prior use of @@code{OPEN} or @@code{CREATE}.

@@end table

@@iftex
@@node ld
@@chapter ld
@@cindex linker
@@kindex ld
The @@sc{gnu} linker @@command{ld} is now described in a separate manual.
@@xref{Top,, Overview,, Using LD: the @@sc{gnu} linker}.
@@end iftex

@@node nm
@@chapter nm
@@cindex symbols
@@kindex nm

@@c man title nm list symbols from object files

@@smallexample
@@c man begin SYNOPSIS nm
nm [@@option{-A}|@@option{-o}|@@option{--print-file-name}] [@@option{-a}|@@option{--debug-syms}]
   [@@option{-B}|@@option{--format=bsd}] [@@option{-C}|@@option{--demangle}[=@@var{style}]]
   [@@option{-D}|@@option{--dynamic}] [@@option{-f}@@var{format}|@@option{--format=}@@var{format}]
   [@@option{-g}|@@option{--extern-only}] [@@option{-h}|@@option{--help}]
   [@@option{-l}|@@option{--line-numbers}] [@@option{-n}|@@option{-v}|@@option{--numeric-sort}]
   [@@option{-P}|@@option{--portability}] [@@option{-p}|@@option{--no-sort}]
   [@@option{-r}|@@option{--reverse-sort}] [@@option{-S}|@@option{--print-size}]
   [@@option{-s}|@@option{--print-armap}] [@@option{-t} @@var{radix}|@@option{--radix=}@@var{radix}]
   [@@option{-u}|@@option{--undefined-only}] [@@option{-V}|@@option{--version}]
   [@@option{-X 32_64}] [@@option{--defined-only}] [@@option{--no-demangle}]
   [@@option{--plugin} @@var{name}] [@@option{--size-sort}] [@@option{--special-syms}]
   [@@option{--synthetic}] [@@option{--target=}@@var{bfdname}]
   [@@var{objfile}@@dots{}]
@@c man end
@@end smallexample

@@c man begin DESCRIPTION nm
@@sc{gnu} @@command{nm} lists the symbols from object files @@var{objfile}@@dots{}.
If no object files are listed as arguments, @@command{nm} assumes the file
@@file{a.out}.

For each symbol, @@command{nm} shows:

@@itemize @@bullet
@@item
The symbol value, in the radix selected by options (see below), or
hexadecimal by default.

@@item
The symbol type.  At least the following types are used; others are, as
well, depending on the object file format.  If lowercase, the symbol is
usually local; if uppercase, the symbol is global (external).  There
are however a few lowercase symbols that are shown for special global
symbols (@@code{u}, @@code{v} and @@code{w}).

@@c Some more detail on exactly what these symbol types are used for
@@c would be nice.
@@table @@code
@@item A
The symbol's value is absolute, and will not be changed by further
linking.

@@item B
@@itemx b
The symbol is in the uninitialized data section (known as BSS).

@@item C
The symbol is common.  Common symbols are uninitialized data.  When
linking, multiple common symbols may appear with the same name.  If the
symbol is defined anywhere, the common symbols are treated as undefined
references.
@@ifclear man
For more details on common symbols, see the discussion of
--warn-common in @@ref{Options,,Linker options,ld.info,The GNU linker}.
@@end ifclear

@@item D
@@itemx d
The symbol is in the initialized data section.

@@item G
@@itemx g
The symbol is in an initialized data section for small objects.  Some
object file formats permit more efficient access to small data objects,
such as a global int variable as opposed to a large global array.

@@item i
For PE format files this indicates that the symbol is in a section
specific to the implementation of DLLs.  For ELF format files this
indicates that the symbol is an indirect function.  This is a GNU
extension to the standard set of ELF symbol types.  It indicates a
symbol which if referenced by a relocation does not evaluate to its
address, but instead must be invoked at runtime.  The runtime
execution will then return the value to be used in the relocation.

@@item I
The symbol is an indirect reference to another symbol.

@@item N
The symbol is a debugging symbol.

@@item p
The symbols is in a stack unwind section.

@@item R
@@itemx r
The symbol is in a read only data section.

@@item S
@@itemx s
The symbol is in an uninitialized data section for small objects.

@@item T
@@itemx t
The symbol is in the text (code) section.

@@item U
The symbol is undefined.

@@item u
The symbol is a unique global symbol.  This is a GNU extension to the
standard set of ELF symbol bindings.  For such a symbol the dynamic linker
will make sure that in the entire process there is just one symbol with
this name and type in use.

@@item V
@@itemx v
The symbol is a weak object.  When a weak defined symbol is linked with
a normal defined symbol, the normal defined symbol is used with no error.
When a weak undefined symbol is linked and the symbol is not defined,
the value of the weak symbol becomes zero with no error.  On some
systems, uppercase indicates that a default value has been specified.

@@item W
@@itemx w
The symbol is a weak symbol that has not been specifically tagged as a
weak object symbol.  When a weak defined symbol is linked with a normal
defined symbol, the normal defined symbol is used with no error.
When a weak undefined symbol is linked and the symbol is not defined,
the value of the symbol is determined in a system-specific manner without
error.  On some systems, uppercase indicates that a default value has been
specified.

@@item -
The symbol is a stabs symbol in an a.out object file.  In this case, the
next values printed are the stabs other field, the stabs desc field, and
the stab type.  Stabs symbols are used to hold debugging information.

@@item ?
The symbol type is unknown, or object file format specific.
@@end table

@@item
The symbol name.
@@end itemize

@@c man end

@@c man begin OPTIONS nm
The long and short forms of options, shown here as alternatives, are
equivalent.

@@table @@env
@@item -A
@@itemx -o
@@itemx --print-file-name
@@cindex input file name
@@cindex file name
@@cindex source file name
Precede each symbol by the name of the input file (or archive member)
in which it was found, rather than identifying the input file once only,
before all of its symbols.

@@item -a
@@itemx --debug-syms
@@cindex debugging symbols
Display all symbols, even debugger-only symbols; normally these are not
listed.

@@item -B
@@cindex @@command{nm} format
@@cindex @@command{nm} compatibility
The same as @@option{--format=bsd} (for compatibility with the MIPS @@command{nm}).

@@item -C
@@itemx --demangle[=@@var{style}]
@@cindex demangling in nm
Decode (@@dfn{demangle}) low-level symbol names into user-level names.
Besides removing any initial underscore prepended by the system, this
makes C++ function names readable. Different compilers have different
mangling styles. The optional demangling style argument can be used to
choose an appropriate demangling style for your compiler. @@xref{c++filt},
for more information on demangling.

@@item --no-demangle
Do not demangle low-level symbol names.  This is the default.

@@item -D
@@itemx --dynamic
@@cindex dynamic symbols
Display the dynamic symbols rather than the normal symbols.  This is
only meaningful for dynamic objects, such as certain types of shared
libraries.

@@item -f @@var{format}
@@itemx --format=@@var{format}
@@cindex @@command{nm} format
@@cindex @@command{nm} compatibility
Use the output format @@var{format}, which can be @@code{bsd},
@@code{sysv}, or @@code{posix}.  The default is @@code{bsd}.
Only the first character of @@var{format} is significant; it can be
either upper or lower case.

@@item -g
@@itemx --extern-only
@@cindex external symbols
Display only external symbols.

@@item -h
@@itemx --help
Show a summary of the options to @@command{nm} and exit.

@@item -l
@@itemx --line-numbers
@@cindex symbol line numbers
For each symbol, use debugging information to try to find a filename and
line number.  For a defined symbol, look for the line number of the
address of the symbol.  For an undefined symbol, look for the line
number of a relocation entry which refers to the symbol.  If line number
information can be found, print it after the other symbol information.

@@item -n
@@itemx -v
@@itemx --numeric-sort
Sort symbols numerically by their addresses, rather than alphabetically
by their names.

@@item -p
@@itemx --no-sort
@@cindex sorting symbols
Do not bother to sort the symbols in any order; print them in the order
encountered.

@@item -P
@@itemx --portability
Use the POSIX.2 standard output format instead of the default format.
Equivalent to @@samp{-f posix}.

@@item -r
@@itemx --reverse-sort
Reverse the order of the sort (whether numeric or alphabetic); let the
last come first.

@@item -S
@@itemx --print-size
Print both value and size of defined symbols for the @@code{bsd} output style.
This option has no effect for object formats that do not record symbol
sizes, unless @@samp{--size-sort} is also used in which case a
calculated size is displayed.

@@item -s
@@itemx --print-armap
@@cindex symbol index, listing
When listing symbols from archive members, include the index: a mapping
(stored in the archive by @@command{ar} or @@command{ranlib}) of which modules
contain definitions for which names.

@@item -t @@var{radix}
@@itemx --radix=@@var{radix}
Use @@var{radix} as the radix for printing the symbol values.  It must be
@@samp{d} for decimal, @@samp{o} for octal, or @@samp{x} for hexadecimal.

@@item -u
@@itemx --undefined-only
@@cindex external symbols
@@cindex undefined symbols
Display only undefined symbols (those external to each object file).

@@item -V
@@itemx --version
Show the version number of @@command{nm} and exit.

@@item -X
This option is ignored for compatibility with the AIX version of
@@command{nm}.  It takes one parameter which must be the string
@@option{32_64}.  The default mode of AIX @@command{nm} corresponds
to @@option{-X 32}, which is not supported by @@sc{gnu} @@command{nm}.

@@item --defined-only
@@cindex external symbols
@@cindex undefined symbols
Display only defined symbols for each object file.

@@item --plugin @@var{name}
@@cindex load plugin
Load the plugin called @@var{name} to add support for extra target
types.  This option is only available if the toolchain has been built
with plugin support enabled.

@@item --size-sort
Sort symbols by size.  The size is computed as the difference between
the value of the symbol and the value of the symbol with the next higher
value.  If the @@code{bsd} output format is used the size of the symbol
is printed, rather than the value, and @@samp{-S} must be used in order
both size and value to be printed.

@@item --special-syms
Display symbols which have a target-specific special meaning.  These
symbols are usually used by the target for some special processing and
are not normally helpful when included in the normal symbol lists.
For example for ARM targets this option would skip the mapping symbols
used to mark transitions between ARM code, THUMB code and data.

@@item --synthetic
Include synthetic symbols in the output.  These are special symbols
created by the linker for various purposes.  They are not shown by
default since they are not part of the binary's original source code.

@@item --target=@@var{bfdname}
@@cindex object code format
Specify an object code format other than your system's default format.
@@xref{Target Selection}, for more information.

@@end table

@@c man end

@@ignore
@@c man begin SEEALSO nm
ar(1), objdump(1), ranlib(1), and the Info entries for @@file{binutils}.
@@c man end
@@end ignore

@@node objcopy
@@chapter objcopy

@@c man title objcopy copy and translate object files

@@smallexample
@@c man begin SYNOPSIS objcopy
objcopy [@@option{-F} @@var{bfdname}|@@option{--target=}@@var{bfdname}]
        [@@option{-I} @@var{bfdname}|@@option{--input-target=}@@var{bfdname}]
        [@@option{-O} @@var{bfdname}|@@option{--output-target=}@@var{bfdname}]
        [@@option{-B} @@var{bfdarch}|@@option{--binary-architecture=}@@var{bfdarch}]
        [@@option{-S}|@@option{--strip-all}]
        [@@option{-g}|@@option{--strip-debug}]
        [@@option{-K} @@var{symbolname}|@@option{--keep-symbol=}@@var{symbolname}]
        [@@option{-N} @@var{symbolname}|@@option{--strip-symbol=}@@var{symbolname}]
        [@@option{--strip-unneeded-symbol=}@@var{symbolname}]
        [@@option{-G} @@var{symbolname}|@@option{--keep-global-symbol=}@@var{symbolname}]
        [@@option{--localize-hidden}]
        [@@option{-L} @@var{symbolname}|@@option{--localize-symbol=}@@var{symbolname}]
        [@@option{--globalize-symbol=}@@var{symbolname}]
        [@@option{-W} @@var{symbolname}|@@option{--weaken-symbol=}@@var{symbolname}]
        [@@option{-w}|@@option{--wildcard}]
        [@@option{-x}|@@option{--discard-all}]
        [@@option{-X}|@@option{--discard-locals}]
        [@@option{-b} @@var{byte}|@@option{--byte=}@@var{byte}]
        [@@option{-i} [@@var{breadth}]|@@option{--interleave}[=@@var{breadth}]]
        [@@option{--interleave-width=}@@var{width}]
        [@@option{-j} @@var{sectionpattern}|@@option{--only-section=}@@var{sectionpattern}]
        [@@option{-R} @@var{sectionpattern}|@@option{--remove-section=}@@var{sectionpattern}]
        [@@option{-p}|@@option{--preserve-dates}]
        [@@option{-D}|@@option{--enable-deterministic-archives}]
        [@@option{-U}|@@option{--disable-deterministic-archives}]
        [@@option{--debugging}]
        [@@option{--gap-fill=}@@var{val}]
        [@@option{--pad-to=}@@var{address}]
        [@@option{--set-start=}@@var{val}]
        [@@option{--adjust-start=}@@var{incr}]
        [@@option{--change-addresses=}@@var{incr}]
        [@@option{--change-section-address} @@var{sectionpattern}@@{=,+,-@@}@@var{val}]
        [@@option{--change-section-lma} @@var{sectionpattern}@@{=,+,-@@}@@var{val}]
        [@@option{--change-section-vma} @@var{sectionpattern}@@{=,+,-@@}@@var{val}]
        [@@option{--change-warnings}] [@@option{--no-change-warnings}]
        [@@option{--set-section-flags} @@var{sectionpattern}=@@var{flags}]
        [@@option{--add-section} @@var{sectionname}=@@var{filename}]
        [@@option{--rename-section} @@var{oldname}=@@var{newname}[,@@var{flags}]]
        [@@option{--long-section-names} @@{enable,disable,keep@@}]
        [@@option{--change-leading-char}] [@@option{--remove-leading-char}]
        [@@option{--reverse-bytes=}@@var{num}]
        [@@option{--srec-len=}@@var{ival}] [@@option{--srec-forceS3}]
        [@@option{--redefine-sym} @@var{old}=@@var{new}]
        [@@option{--redefine-syms=}@@var{filename}]
        [@@option{--weaken}]
        [@@option{--keep-symbols=}@@var{filename}]
        [@@option{--strip-symbols=}@@var{filename}]
        [@@option{--strip-unneeded-symbols=}@@var{filename}]
        [@@option{--keep-global-symbols=}@@var{filename}]
        [@@option{--localize-symbols=}@@var{filename}]
        [@@option{--globalize-symbols=}@@var{filename}]
        [@@option{--weaken-symbols=}@@var{filename}]
        [@@option{--alt-machine-code=}@@var{index}]
        [@@option{--prefix-symbols=}@@var{string}]
        [@@option{--prefix-sections=}@@var{string}]
        [@@option{--prefix-alloc-sections=}@@var{string}]
        [@@option{--add-gnu-debuglink=}@@var{path-to-file}]
        [@@option{--keep-file-symbols}]
        [@@option{--only-keep-debug}]
        [@@option{--strip-dwo}]
        [@@option{--extract-dwo}]
        [@@option{--extract-symbol}]
        [@@option{--writable-text}]
        [@@option{--readonly-text}]
        [@@option{--pure}]
        [@@option{--impure}]
        [@@option{--file-alignment=}@@var{num}]
        [@@option{--heap=}@@var{size}]
        [@@option{--image-base=}@@var{address}]
        [@@option{--section-alignment=}@@var{num}]
        [@@option{--stack=}@@var{size}]
        [@@option{--subsystem=}@@var{which}:@@var{major}.@@var{minor}]
        [@@option{--compress-debug-sections}]
        [@@option{--decompress-debug-sections}]
        [@@option{--dwarf-depth=@@var{n}}]
        [@@option{--dwarf-start=@@var{n}}]
        [@@option{-v}|@@option{--verbose}]
        [@@option{-V}|@@option{--version}]
        [@@option{--help}] [@@option{--info}]
        @@var{infile} [@@var{outfile}]
@@c man end
@@end smallexample

@@c man begin DESCRIPTION objcopy
The @@sc{gnu} @@command{objcopy} utility copies the contents of an object
file to another.  @@command{objcopy} uses the @@sc{gnu} @@sc{bfd} Library to
read and write the object files.  It can write the destination object
file in a format different from that of the source object file.  The
exact behavior of @@command{objcopy} is controlled by command-line options.
Note that @@command{objcopy} should be able to copy a fully linked file
between any two formats. However, copying a relocatable object file
between any two formats may not work as expected.

@@command{objcopy} creates temporary files to do its translations and
deletes them afterward.  @@command{objcopy} uses @@sc{bfd} to do all its
translation work; it has access to all the formats described in @@sc{bfd}
and thus is able to recognize most formats without being told
explicitly.  @@xref{BFD,,BFD,ld.info,Using LD}.

@@command{objcopy} can be used to generate S-records by using an output
target of @@samp{srec} (e.g., use @@samp{-O srec}).

@@command{objcopy} can be used to generate a raw binary file by using an
output target of @@samp{binary} (e.g., use @@option{-O binary}).  When
@@command{objcopy} generates a raw binary file, it will essentially produce
a memory dump of the contents of the input object file.  All symbols and
relocation information will be discarded.  The memory dump will start at
the load address of the lowest section copied into the output file.

When generating an S-record or a raw binary file, it may be helpful to
use @@option{-S} to remove sections containing debugging information.  In
some cases @@option{-R} will be useful to remove sections which contain
information that is not needed by the binary file.

Note---@@command{objcopy} is not able to change the endianness of its input
files.  If the input format has an endianness (some formats do not),
@@command{objcopy} can only copy the inputs into file formats that have the
same endianness or which have no endianness (e.g., @@samp{srec}).
(However, see the @@option{--reverse-bytes} option.)

@@c man end

@@c man begin OPTIONS objcopy

@@table @@env
@@item @@var{infile}
@@itemx @@var{outfile}
The input and output files, respectively.
If you do not specify @@var{outfile}, @@command{objcopy} creates a
temporary file and destructively renames the result with
the name of @@var{infile}.

@@item -I @@var{bfdname}
@@itemx --input-target=@@var{bfdname}
Consider the source file's object format to be @@var{bfdname}, rather than
attempting to deduce it.  @@xref{Target Selection}, for more information.

@@item -O @@var{bfdname}
@@itemx --output-target=@@var{bfdname}
Write the output file using the object format @@var{bfdname}.
@@xref{Target Selection}, for more information.

@@item -F @@var{bfdname}
@@itemx --target=@@var{bfdname}
Use @@var{bfdname} as the object format for both the input and the output
file; i.e., simply transfer data from source to destination with no
translation.  @@xref{Target Selection}, for more information.

@@item -B @@var{bfdarch}
@@itemx --binary-architecture=@@var{bfdarch}
Useful when transforming a architecture-less input file into an object file.
In this case the output architecture can be set to @@var{bfdarch}.  This
option will be ignored if the input file has a known @@var{bfdarch}.  You
can access this binary data inside a program by referencing the special
symbols that are created by the conversion process.  These symbols are
called _binary_@@var{objfile}_start, _binary_@@var{objfile}_end and
_binary_@@var{objfile}_size.  e.g. you can transform a picture file into
an object file and then access it in your code using these symbols.

@@item -j @@var{sectionpattern}
@@itemx --only-section=@@var{sectionpattern}
Copy only the indicated sections from the input file to the output file.
This option may be given more than once.  Note that using this option
inappropriately may make the output file unusable.  Wildcard
characters are accepted in @@var{sectionpattern}.

@@item -R @@var{sectionpattern}
@@itemx --remove-section=@@var{sectionpattern}
Remove any section matching @@var{sectionpattern} from the output file.
This option may be given more than once.  Note that using this option
inappropriately may make the output file unusable.  Wildcard
characters are accepted in @@var{sectionpattern}.  Using both the
@@option{-j} and @@option{-R} options together results in undefined
behaviour.

@@item -S
@@itemx --strip-all
Do not copy relocation and symbol information from the source file.

@@item -g
@@itemx --strip-debug
Do not copy debugging symbols or sections from the source file.

@@item --strip-unneeded
Strip all symbols that are not needed for relocation processing.

@@item -K @@var{symbolname}
@@itemx --keep-symbol=@@var{symbolname}
When stripping symbols, keep symbol @@var{symbolname} even if it would
normally be stripped.  This option may be given more than once.

@@item -N @@var{symbolname}
@@itemx --strip-symbol=@@var{symbolname}
Do not copy symbol @@var{symbolname} from the source file.  This option
may be given more than once.

@@item --strip-unneeded-symbol=@@var{symbolname}
Do not copy symbol @@var{symbolname} from the source file unless it is needed
by a relocation.  This option may be given more than once.

@@item -G @@var{symbolname}
@@itemx --keep-global-symbol=@@var{symbolname}
Keep only symbol @@var{symbolname} global.  Make all other symbols local
to the file, so that they are not visible externally.  This option may
be given more than once.

@@item --localize-hidden
In an ELF object, mark all symbols that have hidden or internal visibility
as local.  This option applies on top of symbol-specific localization options
such as @@option{-L}.

@@item -L @@var{symbolname}
@@itemx --localize-symbol=@@var{symbolname}
Make symbol @@var{symbolname} local to the file, so that it is not
visible externally.  This option may be given more than once.

@@item -W @@var{symbolname}
@@itemx --weaken-symbol=@@var{symbolname}
Make symbol @@var{symbolname} weak. This option may be given more than once.

@@item --globalize-symbol=@@var{symbolname}
Give symbol @@var{symbolname} global scoping so that it is visible
outside of the file in which it is defined.  This option may be given
more than once.

@@item -w
@@itemx --wildcard
Permit regular expressions in @@var{symbolname}s used in other command
line options.  The question mark (?), asterisk (*), backslash (\) and
square brackets ([]) operators can be used anywhere in the symbol
name.  If the first character of the symbol name is the exclamation
point (!) then the sense of the switch is reversed for that symbol.
For example:

@@smallexample
  -w -W !foo -W fo*
@@end smallexample

would cause objcopy to weaken all symbols that start with ``fo''
except for the symbol ``foo''.

@@item -x
@@itemx --discard-all
Do not copy non-global symbols from the source file.
@@c FIXME any reason to prefer "non-global" to "local" here?

@@item -X
@@itemx --discard-locals
Do not copy compiler-generated local symbols.
(These usually start with @@samp{L} or @@samp{.}.)

@@item -b @@var{byte}
@@itemx --byte=@@var{byte}
If interleaving has been enabled via the @@option{--interleave} option
then start the range of bytes to keep at the @@var{byte}th byte.
@@var{byte} can be in the range from 0 to @@var{breadth}-1, where
@@var{breadth} is the value given by the @@option{--interleave} option.

@@item -i [@@var{breadth}]
@@itemx --interleave[=@@var{breadth}]
Only copy a range out of every @@var{breadth} bytes.  (Header data is
not affected).  Select which byte in the range begins the copy with
the @@option{--byte} option.  Select the width of the range with the
@@option{--interleave-width} option.

This option is useful for creating files to program @@sc{rom}.  It is
typically used with an @@code{srec} output target.  Note that
@@command{objcopy} will complain if you do not specify the
@@option{--byte} option as well.

The default interleave breadth is 4, so with @@option{--byte} set to 0,
@@command{objcopy} would copy the first byte out of every four bytes
from the input to the output.

@@item --interleave-width=@@var{width}
When used with the @@option{--interleave} option, copy @@var{width}
bytes at a time.  The start of the range of bytes to be copied is set
by the @@option{--byte} option, and the extent of the range is set with
the @@option{--interleave} option.

The default value for this option is 1.  The value of @@var{width} plus
the @@var{byte} value set by the @@option{--byte} option must not exceed
the interleave breadth set by the @@option{--interleave} option.

This option can be used to create images for two 16-bit flashes interleaved
in a 32-bit bus by passing @@option{-b 0 -i 4 --interleave-width=2}
and @@option{-b 2 -i 4 --interleave-width=2} to two @@command{objcopy}
commands.  If the input was '12345678' then the outputs would be
'1256' and '3478' respectively.

@@item -p
@@itemx --preserve-dates
Set the access and modification dates of the output file to be the same
as those of the input file.

@@item -D
@@itemx --enable-deterministic-archives
@@cindex deterministic archives
@@kindex --enable-deterministic-archives
Operate in @@emph{deterministic} mode.  When copying archive members
and writing the archive index, use zero for UIDs, GIDs, timestamps,
and use consistent file modes for all files.

If @@file{binutils} was configured with
@@option{--enable-deterministic-archives}, then this mode is on by default.
It can be disabled with the @@samp{-U} option, below.

@@item -U
@@itemx --disable-deterministic-archives
@@cindex deterministic archives
@@kindex --enable-deterministic-archives
Do @@emph{not} operate in @@emph{deterministic} mode.  This is the
inverse of the @@option{-D} option, above: when copying archive members
and writing the archive index, use their actual UID, GID, timestamp,
and file mode values.

This is the default unless @@file{binutils} was configured with
@@option{--enable-deterministic-archives}.

@@item --debugging
Convert debugging information, if possible.  This is not the default
because only certain debugging formats are supported, and the
conversion process can be time consuming.

@@item --gap-fill @@var{val}
Fill gaps between sections with @@var{val}.  This operation applies to
the @@emph{load address} (LMA) of the sections.  It is done by increasing
the size of the section with the lower address, and filling in the extra
space created with @@var{val}.

@@item --pad-to @@var{address}
Pad the output file up to the load address @@var{address}.  This is
done by increasing the size of the last section.  The extra space is
filled in with the value specified by @@option{--gap-fill} (default zero).

@@item --set-start @@var{val}
Set the start address of the new file to @@var{val}.  Not all object file
formats support setting the start address.

@@item --change-start @@var{incr}
@@itemx --adjust-start @@var{incr}
@@cindex changing start address
Change the start address by adding @@var{incr}.  Not all object file
formats support setting the start address.

@@item --change-addresses @@var{incr}
@@itemx --adjust-vma @@var{incr}
@@cindex changing object addresses
Change the VMA and LMA addresses of all sections, as well as the start
address, by adding @@var{incr}.  Some object file formats do not permit
section addresses to be changed arbitrarily.  Note that this does not
relocate the sections; if the program expects sections to be loaded at a
certain address, and this option is used to change the sections such
that they are loaded at a different address, the program may fail.

@@item --change-section-address @@var{sectionpattern}@@{=,+,-@@}@@var{val}
@@itemx --adjust-section-vma @@var{sectionpattern}@@{=,+,-@@}@@var{val}
@@cindex changing section address
Set or change both the VMA address and the LMA address of any section
matching @@var{sectionpattern}.  If @@samp{=} is used, the section
address is set to @@var{val}.  Otherwise, @@var{val} is added to or
subtracted from the section address.  See the comments under
@@option{--change-addresses}, above. If @@var{sectionpattern} does not
match any sections in the input file, a warning will be issued, unless
@@option{--no-change-warnings} is used.

@@item --change-section-lma @@var{sectionpattern}@@{=,+,-@@}@@var{val}
@@cindex changing section LMA
Set or change the LMA address of any sections matching
@@var{sectionpattern}.  The LMA address is the address where the
section will be loaded into memory at program load time.  Normally
this is the same as the VMA address, which is the address of the
section at program run time, but on some systems, especially those
where a program is held in ROM, the two can be different.  If @@samp{=}
is used, the section address is set to @@var{val}.  Otherwise,
@@var{val} is added to or subtracted from the section address.  See the
comments under @@option{--change-addresses}, above.  If
@@var{sectionpattern} does not match any sections in the input file, a
warning will be issued, unless @@option{--no-change-warnings} is used.

@@item --change-section-vma @@var{sectionpattern}@@{=,+,-@@}@@var{val}
@@cindex changing section VMA
Set or change the VMA address of any section matching
@@var{sectionpattern}.  The VMA address is the address where the
section will be located once the program has started executing.
Normally this is the same as the LMA address, which is the address
where the section will be loaded into memory, but on some systems,
especially those where a program is held in ROM, the two can be
different.  If @@samp{=} is used, the section address is set to
@@var{val}.  Otherwise, @@var{val} is added to or subtracted from the
section address.  See the comments under @@option{--change-addresses},
above.  If @@var{sectionpattern} does not match any sections in the
input file, a warning will be issued, unless
@@option{--no-change-warnings} is used.

@@item --change-warnings
@@itemx --adjust-warnings
If @@option{--change-section-address} or @@option{--change-section-lma} or
@@option{--change-section-vma} is used, and the section pattern does not
match any sections, issue a warning.  This is the default.

@@item --no-change-warnings
@@itemx --no-adjust-warnings
Do not issue a warning if @@option{--change-section-address} or
@@option{--adjust-section-lma} or @@option{--adjust-section-vma} is used, even
if the section pattern does not match any sections.

@@item --set-section-flags @@var{sectionpattern}=@@var{flags}
Set the flags for any sections matching @@var{sectionpattern}.  The
@@var{flags} argument is a comma separated string of flag names.  The
recognized names are @@samp{alloc}, @@samp{contents}, @@samp{load},
@@samp{noload}, @@samp{readonly}, @@samp{code}, @@samp{data}, @@samp{rom},
@@samp{share}, and @@samp{debug}.  You can set the @@samp{contents} flag
for a section which does not have contents, but it is not meaningful
to clear the @@samp{contents} flag of a section which does have
contents--just remove the section instead.  Not all flags are
meaningful for all object file formats.

@@item --add-section @@var{sectionname}=@@var{filename}
Add a new section named @@var{sectionname} while copying the file.  The
contents of the new section are taken from the file @@var{filename}.  The
size of the section will be the size of the file.  This option only
works on file formats which can support sections with arbitrary names.

@@item --rename-section @@var{oldname}=@@var{newname}[,@@var{flags}]
Rename a section from @@var{oldname} to @@var{newname}, optionally
changing the section's flags to @@var{flags} in the process.  This has
the advantage over usng a linker script to perform the rename in that
the output stays as an object file and does not become a linked
executable.

This option is particularly helpful when the input format is binary,
since this will always create a section called .data.  If for example,
you wanted instead to create a section called .rodata containing binary
data you could use the following command line to achieve it:

@@smallexample
  objcopy -I binary -O <output_format> -B <architecture> \
   --rename-section .data=.rodata,alloc,load,readonly,data,contents \
   <input_binary_file> <output_object_file>
@@end smallexample

@@item --long-section-names @@{enable,disable,keep@@}
Controls the handling of long section names when processing @@code{COFF}
and @@code{PE-COFF} object formats.  The default behaviour, @@samp{keep},
is to preserve long section names if any are present in the input file.
The @@samp{enable} and @@samp{disable} options forcibly enable or disable
the use of long section names in the output object; when @@samp{disable}
is in effect, any long section names in the input object will be truncated.
The @@samp{enable} option will only emit long section names if any are
present in the inputs; this is mostly the same as @@samp{keep}, but it
is left undefined whether the @@samp{enable} option might force the
creation of an empty string table in the output file.

@@item --change-leading-char
Some object file formats use special characters at the start of
symbols.  The most common such character is underscore, which compilers
often add before every symbol.  This option tells @@command{objcopy} to
change the leading character of every symbol when it converts between
object file formats.  If the object file formats use the same leading
character, this option has no effect.  Otherwise, it will add a
character, or remove a character, or change a character, as
appropriate.

@@item --remove-leading-char
If the first character of a global symbol is a special symbol leading
character used by the object file format, remove the character.  The
most common symbol leading character is underscore.  This option will
remove a leading underscore from all global symbols.  This can be useful
if you want to link together objects of different file formats with
different conventions for symbol names.  This is different from
@@option{--change-leading-char} because it always changes the symbol name
when appropriate, regardless of the object file format of the output
file.

@@item --reverse-bytes=@@var{num}
Reverse the bytes in a section with output contents.  A section length must
be evenly divisible by the value given in order for the swap to be able to
take place. Reversing takes place before the interleaving is performed.

This option is used typically in generating ROM images for problematic
target systems.  For example, on some target boards, the 32-bit words
fetched from 8-bit ROMs are re-assembled in little-endian byte order
regardless of the CPU byte order.  Depending on the programming model, the
endianness of the ROM may need to be modified.

Consider a simple file with a section containing the following eight
bytes:  @@code{12345678}.

Using @@samp{--reverse-bytes=2} for the above example, the bytes in the
output file would be ordered @@code{21436587}.

Using @@samp{--reverse-bytes=4} for the above example, the bytes in the
output file would be ordered @@code{43218765}.

By using @@samp{--reverse-bytes=2} for the above example, followed by
@@samp{--reverse-bytes=4} on the output file, the bytes in the second
output file would be ordered @@code{34127856}.

@@item --srec-len=@@var{ival}
Meaningful only for srec output.  Set the maximum length of the Srecords
being produced to @@var{ival}.  This length covers both address, data and
crc fields.

@@item --srec-forceS3
Meaningful only for srec output.  Avoid generation of S1/S2 records,
creating S3-only record format.

@@item --redefine-sym @@var{old}=@@var{new}
Change the name of a symbol @@var{old}, to @@var{new}.  This can be useful
when one is trying link two things together for which you have no
source, and there are name collisions.

@@item --redefine-syms=@@var{filename}
Apply @@option{--redefine-sym} to each symbol pair "@@var{old} @@var{new}"
listed in the file @@var{filename}.  @@var{filename} is simply a flat file,
with one symbol pair per line.  Line comments may be introduced by the hash
character.  This option may be given more than once.

@@item --weaken
Change all global symbols in the file to be weak.  This can be useful
when building an object which will be linked against other objects using
the @@option{-R} option to the linker.  This option is only effective when
using an object file format which supports weak symbols.

@@item --keep-symbols=@@var{filename}
Apply @@option{--keep-symbol} option to each symbol listed in the file
@@var{filename}.  @@var{filename} is simply a flat file, with one symbol
name per line.  Line comments may be introduced by the hash character.
This option may be given more than once.

@@item --strip-symbols=@@var{filename}
Apply @@option{--strip-symbol} option to each symbol listed in the file
@@var{filename}.  @@var{filename} is simply a flat file, with one symbol
name per line.  Line comments may be introduced by the hash character.
This option may be given more than once.

@@item --strip-unneeded-symbols=@@var{filename}
Apply @@option{--strip-unneeded-symbol} option to each symbol listed in
the file @@var{filename}.  @@var{filename} is simply a flat file, with one
symbol name per line.  Line comments may be introduced by the hash
character.  This option may be given more than once.

@@item --keep-global-symbols=@@var{filename}
Apply @@option{--keep-global-symbol} option to each symbol listed in the
file @@var{filename}.  @@var{filename} is simply a flat file, with one
symbol name per line.  Line comments may be introduced by the hash
character.  This option may be given more than once.

@@item --localize-symbols=@@var{filename}
Apply @@option{--localize-symbol} option to each symbol listed in the file
@@var{filename}.  @@var{filename} is simply a flat file, with one symbol
name per line.  Line comments may be introduced by the hash character.
This option may be given more than once.

@@item --globalize-symbols=@@var{filename}
Apply @@option{--globalize-symbol} option to each symbol listed in the file
@@var{filename}.  @@var{filename} is simply a flat file, with one symbol
name per line.  Line comments may be introduced by the hash character.
This option may be given more than once.

@@item --weaken-symbols=@@var{filename}
Apply @@option{--weaken-symbol} option to each symbol listed in the file
@@var{filename}.  @@var{filename} is simply a flat file, with one symbol
name per line.  Line comments may be introduced by the hash character.
This option may be given more than once.

@@item --alt-machine-code=@@var{index}
If the output architecture has alternate machine codes, use the
@@var{index}th code instead of the default one.  This is useful in case
a machine is assigned an official code and the tool-chain adopts the
new code, but other applications still depend on the original code
being used.  For ELF based architectures if the @@var{index}
alternative does not exist then the value is treated as an absolute
number to be stored in the e_machine field of the ELF header.

@@item --writable-text
Mark the output text as writable.  This option isn't meaningful for all
object file formats.

@@item --readonly-text
Make the output text write protected.  This option isn't meaningful for all
object file formats.

@@item --pure
Mark the output file as demand paged.  This option isn't meaningful for all
object file formats.

@@item --impure
Mark the output file as impure.  This option isn't meaningful for all
object file formats.

@@item --prefix-symbols=@@var{string}
Prefix all symbols in the output file with @@var{string}.

@@item --prefix-sections=@@var{string}
Prefix all section names in the output file with @@var{string}.

@@item --prefix-alloc-sections=@@var{string}
Prefix all the names of all allocated sections in the output file with
@@var{string}.

@@item --add-gnu-debuglink=@@var{path-to-file}
Creates a .gnu_debuglink section which contains a reference to @@var{path-to-file}
and adds it to the output file.

@@item --keep-file-symbols
When stripping a file, perhaps with @@option{--strip-debug} or
@@option{--strip-unneeded}, retain any symbols specifying source file names,
which would otherwise get stripped.

@@item --only-keep-debug
Strip a file, removing contents of any sections that would not be
stripped by @@option{--strip-debug} and leaving the debugging sections
intact.  In ELF files, this preserves all note sections in the output.

The intention is that this option will be used in conjunction with
@@option{--add-gnu-debuglink} to create a two part executable.  One a
stripped binary which will occupy less space in RAM and in a
distribution and the second a debugging information file which is only
needed if debugging abilities are required.  The suggested procedure
to create these files is as follows:

@@enumerate
@@item Link the executable as normal.  Assuming that is is called
@@code{foo} then...
@@item Run @@code{objcopy --only-keep-debug foo foo.dbg} to
create a file containing the debugging info.
@@item Run @@code{objcopy --strip-debug foo} to create a
stripped executable.
@@item Run @@code{objcopy --add-gnu-debuglink=foo.dbg foo}
to add a link to the debugging info into the stripped executable.
@@end enumerate

Note---the choice of @@code{.dbg} as an extension for the debug info
file is arbitrary.  Also the @@code{--only-keep-debug} step is
optional.  You could instead do this:

@@enumerate
@@item Link the executable as normal.
@@item Copy @@code{foo} to  @@code{foo.full}
@@item Run @@code{objcopy --strip-debug foo}
@@item Run @@code{objcopy --add-gnu-debuglink=foo.full foo}
@@end enumerate

i.e., the file pointed to by the @@option{--add-gnu-debuglink} can be the
full executable.  It does not have to be a file created by the
@@option{--only-keep-debug} switch.

Note---this switch is only intended for use on fully linked files.  It
does not make sense to use it on object files where the debugging
information may be incomplete.  Besides the gnu_debuglink feature
currently only supports the presence of one filename containing
debugging information, not multiple filenames on a one-per-object-file
basis.

@@item --strip-dwo
Remove the contents of all DWARF .dwo sections, leaving the
remaining debugging sections and all symbols intact.
This option is intended for use by the compiler as part of
the @@option{-gsplit-dwarf} option, which splits debug information
between the .o file and a separate .dwo file.  The compiler
generates all debug information in the same file, then uses
the @@option{--extract-dwo} option to copy the .dwo sections to
the .dwo file, then the @@option{--strip-dwo} option to remove
those sections from the original .o file.

@@item --extract-dwo
Extract the contents of all DWARF .dwo sections.  See the
@@option{--strip-dwo} option for more information.

@@item --file-alignment @@var{num}
Specify the file alignment.  Sections in the file will always begin at
file offsets which are multiples of this number.  This defaults to
512.
[This option is specific to PE targets.]

@@item --heap @@var{reserve}
@@itemx --heap @@var{reserve},@@var{commit}
Specify the number of bytes of memory to reserve (and optionally commit)
to be used as heap for this program.
[This option is specific to PE targets.]

@@item --image-base @@var{value}
Use @@var{value} as the base address of your program or dll.  This is
the lowest memory location that will be used when your program or dll
is loaded.  To reduce the need to relocate and improve performance of
your dlls, each should have a unique base address and not overlap any
other dlls.  The default is 0x400000 for executables, and 0x10000000
for dlls.
[This option is specific to PE targets.]

@@item --section-alignment @@var{num}
Sets the section alignment.  Sections in memory will always begin at
addresses which are a multiple of this number.  Defaults to 0x1000.
[This option is specific to PE targets.]

@@item --stack @@var{reserve}
@@itemx --stack @@var{reserve},@@var{commit}
Specify the number of bytes of memory to reserve (and optionally commit)
to be used as stack for this program.
[This option is specific to PE targets.]

@@item --subsystem @@var{which}
@@itemx --subsystem @@var{which}:@@var{major}
@@itemx --subsystem @@var{which}:@@var{major}.@@var{minor}
Specifies the subsystem under which your program will execute.  The
legal values for @@var{which} are @@code{native}, @@code{windows},
@@code{console}, @@code{posix}, @@code{efi-app}, @@code{efi-bsd},
@@code{efi-rtd}, @@code{sal-rtd}, and @@code{xbox}.  You may optionally set
the subsystem version also.  Numeric values are also accepted for
@@var{which}.
[This option is specific to PE targets.]

@@item --extract-symbol
Keep the file's section flags and symbols but remove all section data.
Specifically, the option:

@@itemize
@@item removes the contents of all sections;
@@item sets the size of every section to zero; and
@@item sets the file's start address to zero.
@@end itemize

This option is used to build a @@file{.sym} file for a VxWorks kernel.
It can also be a useful way of reducing the size of a @@option{--just-symbols}
linker input file.

@@item --compress-debug-sections
Compress DWARF debug sections using zlib.

@@item --decompress-debug-sections
Decompress DWARF debug sections using zlib.

@@item -V
@@itemx --version
Show the version number of @@command{objcopy}.

@@item -v
@@itemx --verbose
Verbose output: list all object files modified.  In the case of
archives, @@samp{objcopy -V} lists all members of the archive.

@@item --help
Show a summary of the options to @@command{objcopy}.

@@item --info
Display a list showing all architectures and object formats available.
@@end table

@@c man end

@@ignore
@@c man begin SEEALSO objcopy
ld(1), objdump(1), and the Info entries for @@file{binutils}.
@@c man end
@@end ignore

@@node objdump
@@chapter objdump

@@cindex object file information
@@kindex objdump

@@c man title objdump display information from object files.

@@smallexample
@@c man begin SYNOPSIS objdump
objdump [@@option{-a}|@@option{--archive-headers}]
        [@@option{-b} @@var{bfdname}|@@option{--target=@@var{bfdname}}]
        [@@option{-C}|@@option{--demangle}[=@@var{style}] ]
        [@@option{-d}|@@option{--disassemble}]
        [@@option{-D}|@@option{--disassemble-all}]
        [@@option{-z}|@@option{--disassemble-zeroes}]
        [@@option{-EB}|@@option{-EL}|@@option{--endian=}@@{big | little @@}]
        [@@option{-f}|@@option{--file-headers}]
        [@@option{-F}|@@option{--file-offsets}]
        [@@option{--file-start-context}]
        [@@option{-g}|@@option{--debugging}]
        [@@option{-e}|@@option{--debugging-tags}]
        [@@option{-h}|@@option{--section-headers}|@@option{--headers}]
        [@@option{-i}|@@option{--info}]
        [@@option{-j} @@var{section}|@@option{--section=}@@var{section}]
        [@@option{-l}|@@option{--line-numbers}]
        [@@option{-S}|@@option{--source}]
        [@@option{-m} @@var{machine}|@@option{--architecture=}@@var{machine}]
        [@@option{-M} @@var{options}|@@option{--disassembler-options=}@@var{options}]
        [@@option{-p}|@@option{--private-headers}]
        [@@option{-P} @@var{options}|@@option{--private=}@@var{options}]
        [@@option{-r}|@@option{--reloc}]
        [@@option{-R}|@@option{--dynamic-reloc}]
        [@@option{-s}|@@option{--full-contents}]
        [@@option{-W[lLiaprmfFsoRt]}|
         @@option{--dwarf}[=rawline,=decodedline,=info,=abbrev,=pubnames,=aranges,=macro,=frames,=frames-interp,=str,=loc,=Ranges,=pubtypes,=trace_info,=trace_abbrev,=trace_aranges,=gdb_index]]
        [@@option{-G}|@@option{--stabs}]
        [@@option{-t}|@@option{--syms}]
        [@@option{-T}|@@option{--dynamic-syms}]
        [@@option{-x}|@@option{--all-headers}]
        [@@option{-w}|@@option{--wide}]
        [@@option{--start-address=}@@var{address}]
        [@@option{--stop-address=}@@var{address}]
        [@@option{--prefix-addresses}]
        [@@option{--[no-]show-raw-insn}]
        [@@option{--adjust-vma=}@@var{offset}]
        [@@option{--special-syms}]
        [@@option{--prefix=}@@var{prefix}]
        [@@option{--prefix-strip=}@@var{level}]
        [@@option{--insn-width=}@@var{width}]
        [@@option{-V}|@@option{--version}]
        [@@option{-H}|@@option{--help}]
        @@var{objfile}@@dots{}
@@c man end
@@end smallexample

@@c man begin DESCRIPTION objdump

@@command{objdump} displays information about one or more object files.
The options control what particular information to display.  This
information is mostly useful to programmers who are working on the
compilation tools, as opposed to programmers who just want their
program to compile and work.

@@var{objfile}@@dots{} are the object files to be examined.  When you
specify archives, @@command{objdump} shows information on each of the member
object files.

@@c man end

@@c man begin OPTIONS objdump

The long and short forms of options, shown here as alternatives, are
equivalent.  At least one option from the list
@@option{-a,-d,-D,-e,-f,-g,-G,-h,-H,-p,-P,-r,-R,-s,-S,-t,-T,-V,-x} must be given.

@@table @@env
@@item -a
@@itemx --archive-header
@@cindex archive headers
If any of the @@var{objfile} files are archives, display the archive
header information (in a format similar to @@samp{ls -l}).  Besides the
information you could list with @@samp{ar tv}, @@samp{objdump -a} shows
the object file format of each archive member.

@@item --adjust-vma=@@var{offset}
@@cindex section addresses in objdump
@@cindex VMA in objdump
When dumping information, first add @@var{offset} to all the section
addresses.  This is useful if the section addresses do not correspond to
the symbol table, which can happen when putting sections at particular
addresses when using a format which can not represent section addresses,
such as a.out.

@@item -b @@var{bfdname}
@@itemx --target=@@var{bfdname}
@@cindex object code format
Specify that the object-code format for the object files is
@@var{bfdname}.  This option may not be necessary; @@var{objdump} can
automatically recognize many formats.

For example,
@@example
objdump -b oasys -m vax -h fu.o
@@end example
@@noindent
displays summary information from the section headers (@@option{-h}) of
@@file{fu.o}, which is explicitly identified (@@option{-m}) as a VAX object
file in the format produced by Oasys compilers.  You can list the
formats available with the @@option{-i} option.
@@xref{Target Selection}, for more information.

@@item -C
@@itemx --demangle[=@@var{style}]
@@cindex demangling in objdump
Decode (@@dfn{demangle}) low-level symbol names into user-level names.
Besides removing any initial underscore prepended by the system, this
makes C++ function names readable.  Different compilers have different
mangling styles. The optional demangling style argument can be used to
choose an appropriate demangling style for your compiler. @@xref{c++filt},
for more information on demangling.

@@item -g
@@itemx --debugging
Display debugging information.  This attempts to parse STABS and IEEE
debugging format information stored in the file and print it out using
a C like syntax.  If neither of these formats are found this option
falls back on the @@option{-W} option to print any DWARF information in
the file.

@@item -e
@@itemx --debugging-tags
Like @@option{-g}, but the information is generated in a format compatible
with ctags tool.

@@item -d
@@itemx --disassemble
@@cindex disassembling object code
@@cindex machine instructions
Display the assembler mnemonics for the machine instructions from
@@var{objfile}.  This option only disassembles those sections which are
expected to contain instructions.

@@item -D
@@itemx --disassemble-all
Like @@option{-d}, but disassemble the contents of all sections, not just
those expected to contain instructions.

If the target is an ARM architecture this switch also has the effect
of forcing the disassembler to decode pieces of data found in code
sections as if they were instructions.

@@item --prefix-addresses
When disassembling, print the complete address on each line.  This is
the older disassembly format.

@@item -EB
@@itemx -EL
@@itemx --endian=@@{big|little@@}
@@cindex endianness
@@cindex disassembly endianness
Specify the endianness of the object files.  This only affects
disassembly.  This can be useful when disassembling a file format which
does not describe endianness information, such as S-records.

@@item -f
@@itemx --file-headers
@@cindex object file header
Display summary information from the overall header of
each of the @@var{objfile} files.

@@item -F
@@itemx --file-offsets
@@cindex object file offsets
When disassembling sections, whenever a symbol is displayed, also
display the file offset of the region of data that is about to be
dumped.  If zeroes are being skipped, then when disassembly resumes,
tell the user how many zeroes were skipped and the file offset of the
location from where the disassembly resumes.  When dumping sections,
display the file offset of the location from where the dump starts.

@@item --file-start-context
@@cindex source code context
Specify that when displaying interlisted source code/disassembly
(assumes @@option{-S}) from a file that has not yet been displayed, extend the
context to the start of the file.

@@item -h
@@itemx --section-headers
@@itemx --headers
@@cindex section headers
Display summary information from the section headers of the
object file.

File segments may be relocated to nonstandard addresses, for example by
using the @@option{-Ttext}, @@option{-Tdata}, or @@option{-Tbss} options to
@@command{ld}.  However, some object file formats, such as a.out, do not
store the starting address of the file segments.  In those situations,
although @@command{ld} relocates the sections correctly, using @@samp{objdump
-h} to list the file section headers cannot show the correct addresses.
Instead, it shows the usual addresses, which are implicit for the
target.

@@item -H
@@itemx --help
Print a summary of the options to @@command{objdump} and exit.

@@item -i
@@itemx --info
@@cindex architectures available
@@cindex object formats available
Display a list showing all architectures and object formats available
for specification with @@option{-b} or @@option{-m}.

@@item -j @@var{name}
@@itemx --section=@@var{name}
@@cindex section information
Display information only for section @@var{name}.

@@item -l
@@itemx --line-numbers
@@cindex source filenames for object files
Label the display (using debugging information) with the filename and
source line numbers corresponding to the object code or relocs shown.
Only useful with @@option{-d}, @@option{-D}, or @@option{-r}.

@@item -m @@var{machine}
@@itemx --architecture=@@var{machine}
@@cindex architecture
@@cindex disassembly architecture
Specify the architecture to use when disassembling object files.  This
can be useful when disassembling object files which do not describe
architecture information, such as S-records.  You can list the available
architectures with the @@option{-i} option.

If the target is an ARM architecture then this switch has an
additional effect.  It restricts the disassembly to only those
instructions supported by the architecture specified by @@var{machine}.
If it is necessary to use this switch because the input file does not
contain any architecture information, but it is also desired to
disassemble all the instructions use @@option{-marm}.

@@item -M @@var{options}
@@itemx --disassembler-options=@@var{options}
Pass target specific information to the disassembler.  Only supported on
some targets.  If it is necessary to specify more than one
disassembler option then multiple @@option{-M} options can be used or
can be placed together into a comma separated list.

If the target is an ARM architecture then this switch can be used to
select which register name set is used during disassembler.  Specifying
@@option{-M reg-names-std} (the default) will select the register names as
used in ARM's instruction set documentation, but with register 13 called
'sp', register 14 called 'lr' and register 15 called 'pc'.  Specifying
@@option{-M reg-names-apcs} will select the name set used by the ARM
Procedure Call Standard, whilst specifying @@option{-M reg-names-raw} will
just use @@samp{r} followed by the register number.

There are also two variants on the APCS register naming scheme enabled
by @@option{-M reg-names-atpcs} and @@option{-M reg-names-special-atpcs} which
use the ARM/Thumb Procedure Call Standard naming conventions.  (Either
with the normal register names or the special register names).

This option can also be used for ARM architectures to force the
disassembler to interpret all instructions as Thumb instructions by
using the switch @@option{--disassembler-options=force-thumb}.  This can be
useful when attempting to disassemble thumb code produced by other
compilers.

For the x86, some of the options duplicate functions of the @@option{-m}
switch, but allow finer grained control.  Multiple selections from the
following may be specified as a comma separated string.
@@option{x86-64}, @@option{i386} and @@option{i8086} select disassembly for
the given architecture.  @@option{intel} and @@option{att} select between
intel syntax mode and AT&T syntax mode.
@@option{intel-mnemonic} and @@option{att-mnemonic} select between
intel mnemonic mode and AT&T mnemonic mode. @@option{intel-mnemonic}
implies @@option{intel} and @@option{att-mnemonic} implies @@option{att}.
@@option{addr64}, @@option{addr32},
@@option{addr16}, @@option{data32} and @@option{data16} specify the default
address size and operand size.  These four options will be overridden if
@@option{x86-64}, @@option{i386} or @@option{i8086} appear later in the
option string.  Lastly, @@option{suffix}, when in AT&T mode,
instructs the disassembler to print a mnemonic suffix even when the
suffix could be inferred by the operands.

For PowerPC, @@option{booke} controls the disassembly of BookE
instructions.  @@option{32} and @@option{64} select PowerPC and
PowerPC64 disassembly, respectively.  @@option{e300} selects
disassembly for the e300 family.  @@option{440} selects disassembly for
the PowerPC 440.  @@option{ppcps} selects disassembly for the paired
single instructions of the PPC750CL.

For MIPS, this option controls the printing of instruction mnemonic
names and register names in disassembled instructions.  Multiple
selections from the following may be specified as a comma separated
string, and invalid options are ignored:

@@table @@code
@@item no-aliases
Print the 'raw' instruction mnemonic instead of some pseudo
instruction mnemonic.  I.e., print 'daddu' or 'or' instead of 'move',
'sll' instead of 'nop', etc.

@@item msa
Disassemble MSA instructions.

@@item virt
Disassemble the virtualization ASE instructions.

@@item gpr-names=@@var{ABI}
Print GPR (general-purpose register) names as appropriate
for the specified ABI.  By default, GPR names are selected according to
the ABI of the binary being disassembled.

@@item fpr-names=@@var{ABI}
Print FPR (floating-point register) names as
appropriate for the specified ABI.  By default, FPR numbers are printed
rather than names.

@@item cp0-names=@@var{ARCH}
Print CP0 (system control coprocessor; coprocessor 0) register names
as appropriate for the CPU or architecture specified by
@@var{ARCH}.  By default, CP0 register names are selected according to
the architecture and CPU of the binary being disassembled.

@@item hwr-names=@@var{ARCH}
Print HWR (hardware register, used by the @@code{rdhwr} instruction) names
as appropriate for the CPU or architecture specified by
@@var{ARCH}.  By default, HWR names are selected according to
the architecture and CPU of the binary being disassembled.

@@item reg-names=@@var{ABI}
Print GPR and FPR names as appropriate for the selected ABI.

@@item reg-names=@@var{ARCH}
Print CPU-specific register names (CP0 register and HWR names)
as appropriate for the selected CPU or architecture.
@@end table

For any of the options listed above, @@var{ABI} or
@@var{ARCH} may be specified as @@samp{numeric} to have numbers printed
rather than names, for the selected types of registers.
You can list the available values of @@var{ABI} and @@var{ARCH} using
the @@option{--help} option.

For VAX, you can specify function entry addresses with @@option{-M
entry:0xf00ba}.  You can use this multiple times to properly
disassemble VAX binary files that don't contain symbol tables (like
ROM dumps).  In these cases, the function entry mask would otherwise
be decoded as VAX instructions, which would probably lead the rest
of the function being wrongly disassembled.

@@item -p
@@itemx --private-headers
Print information that is specific to the object file format.  The exact
information printed depends upon the object file format.  For some
object file formats, no additional information is printed.

@@item -P @@var{options}
@@itemx --private=@@var{options}
Print information that is specific to the object file format.  The
argument @@var{options} is a comma separated list that depends on the
format (the lists of options is displayed with the help).

For XCOFF, the available options are: @@option{header}, @@option{aout},
@@option{sections}, @@option{syms}, @@option{relocs}, @@option{lineno},
@@option{loader}, @@option{except}, @@option{typchk}, @@option{traceback},
@@option{toc} and @@option{ldinfo}.

@@item -r
@@itemx --reloc
@@cindex relocation entries, in object file
Print the relocation entries of the file.  If used with @@option{-d} or
@@option{-D}, the relocations are printed interspersed with the
disassembly.

@@item -R
@@itemx --dynamic-reloc
@@cindex dynamic relocation entries, in object file
Print the dynamic relocation entries of the file.  This is only
meaningful for dynamic objects, such as certain types of shared
libraries.  As for @@option{-r}, if used with @@option{-d} or
@@option{-D}, the relocations are printed interspersed with the
disassembly.

@@item -s
@@itemx --full-contents
@@cindex sections, full contents
@@cindex object file sections
Display the full contents of any sections requested.  By default all
non-empty sections are displayed.

@@item -S
@@itemx --source
@@cindex source disassembly
@@cindex disassembly, with source
Display source code intermixed with disassembly, if possible.  Implies
@@option{-d}.

@@item --prefix=@@var{prefix}
@@cindex Add prefix to absolute paths
Specify @@var{prefix} to add to the absolute paths when used with
@@option{-S}.

@@item --prefix-strip=@@var{level}
@@cindex Strip absolute paths
Indicate how many initial directory names to strip off the hardwired
absolute paths. It has no effect without @@option{--prefix=}@@var{prefix}.

@@item --show-raw-insn
When disassembling instructions, print the instruction in hex as well as
in symbolic form.  This is the default except when
@@option{--prefix-addresses} is used.

@@item --no-show-raw-insn
When disassembling instructions, do not print the instruction bytes.
This is the default when @@option{--prefix-addresses} is used.

@@item --insn-width=@@var{width}
@@cindex Instruction width
Display @@var{width} bytes on a single line when disassembling
instructions.

@@item -W[lLiaprmfFsoRt]
@@itemx --dwarf[=rawline,=decodedline,=info,=abbrev,=pubnames,=aranges,=macro,=frames,=frames-interp,=str,=loc,=Ranges,=pubtypes,=trace_info,=trace_abbrev,=trace_aranges,=gdb_index]
@@cindex DWARF
@@cindex debug symbols
Displays the contents of the debug sections in the file, if any are
present.  If one of the optional letters or words follows the switch
then only data found in those specific sections will be dumped.

Note that there is no single letter option to display the content of
trace sections or .gdb_index.

Note: the output from the @@option{=info} option can also be affected
by the options @@option{--dwarf-depth}, the @@option{--dwarf-start} and
the @@option{--dwarf-check}.

@@item --dwarf-depth=@@var{n}
Limit the dump of the @@code{.debug_info} section to @@var{n} children.
This is only useful with @@option{--dwarf=info}.  The default is
to print all DIEs; the special value 0 for @@var{n} will also have this
effect.

With a non-zero value for @@var{n}, DIEs at or deeper than @@var{n}
levels will not be printed.  The range for @@var{n} is zero-based.

@@item --dwarf-start=@@var{n}
Print only DIEs beginning with the DIE numbered @@var{n}.  This is only
useful with @@option{--dwarf=info}.

If specified, this option will suppress printing of any header
information and all DIEs before the DIE numbered @@var{n}.  Only
siblings and children of the specified DIE will be printed.

This can be used in conjunction with @@option{--dwarf-depth}.

@@item --dwarf-check
Enable additional checks for consistency of Dwarf information.

@@item -G
@@itemx --stabs
@@cindex stab
@@cindex .stab
@@cindex debug symbols
@@cindex ELF object file format
Display the full contents of any sections requested.  Display the
contents of the .stab and .stab.index and .stab.excl sections from an
ELF file.  This is only useful on systems (such as Solaris 2.0) in which
@@code{.stab} debugging symbol-table entries are carried in an ELF
section.  In most other file formats, debugging symbol-table entries are
interleaved with linkage symbols, and are visible in the @@option{--syms}
output.

@@item --start-address=@@var{address}
@@cindex start-address
Start displaying data at the specified address.  This affects the output
of the @@option{-d}, @@option{-r} and @@option{-s} options.

@@item --stop-address=@@var{address}
@@cindex stop-address
Stop displaying data at the specified address.  This affects the output
of the @@option{-d}, @@option{-r} and @@option{-s} options.

@@item -t
@@itemx --syms
@@cindex symbol table entries, printing
Print the symbol table entries of the file.
This is similar to the information provided by the @@samp{nm} program,
although the display format is different.  The format of the output
depends upon the format of the file being dumped, but there are two main
types.  One looks like this:

@@smallexample
[  4](sec  3)(fl 0x00)(ty   0)(scl   3) (nx 1) 0x00000000 .bss
[  6](sec  1)(fl 0x00)(ty   0)(scl   2) (nx 0) 0x00000000 fred
@@end smallexample

where the number inside the square brackets is the number of the entry
in the symbol table, the @@var{sec} number is the section number, the
@@var{fl} value are the symbol's flag bits, the @@var{ty} number is the
symbol's type, the @@var{scl} number is the symbol's storage class and
the @@var{nx} value is the number of auxilary entries associated with
the symbol.  The last two fields are the symbol's value and its name.

The other common output format, usually seen with ELF based files,
looks like this:

@@smallexample
00000000 l    d  .bss   00000000 .bss
00000000 g       .text  00000000 fred
@@end smallexample

Here the first number is the symbol's value (sometimes refered to as
its address).  The next field is actually a set of characters and
spaces indicating the flag bits that are set on the symbol.  These
characters are described below.  Next is the section with which the
symbol is associated or @@emph{*ABS*} if the section is absolute (ie
not connected with any section), or @@emph{*UND*} if the section is
referenced in the file being dumped, but not defined there.

After the section name comes another field, a number, which for common
symbols is the alignment and for other symbol is the size.  Finally
the symbol's name is displayed.

The flag characters are divided into 7 groups as follows:
@@table @@code
@@item l
@@itemx g
@@itemx u
@@itemx !
The symbol is a local (l), global (g), unique global (u), neither
global nor local (a space) or both global and local (!).  A
symbol can be neither local or global for a variety of reasons, e.g.,
because it is used for debugging, but it is probably an indication of
a bug if it is ever both local and global.  Unique global symbols are
a GNU extension to the standard set of ELF symbol bindings.  For such
a symbol the dynamic linker will make sure that in the entire process
there is just one symbol with this name and type in use.

@@item w
The symbol is weak (w) or strong (a space).

@@item C
The symbol denotes a constructor (C) or an ordinary symbol (a space).

@@item W
The symbol is a warning (W) or a normal symbol (a space).  A warning
symbol's name is a message to be displayed if the symbol following the
warning symbol is ever referenced.

@@item I
@@item i
The symbol is an indirect reference to another symbol (I), a function
to be evaluated during reloc processing (i) or a normal symbol (a
space).

@@item d
@@itemx D
The symbol is a debugging symbol (d) or a dynamic symbol (D) or a
normal symbol (a space).

@@item F
@@item f
@@item O
The symbol is the name of a function (F) or a file (f) or an object
(O) or just a normal symbol (a space).
@@end table

@@item -T
@@itemx --dynamic-syms
@@cindex dynamic symbol table entries, printing
Print the dynamic symbol table entries of the file.  This is only
meaningful for dynamic objects, such as certain types of shared
libraries.  This is similar to the information provided by the @@samp{nm}
program when given the @@option{-D} (@@option{--dynamic}) option.

@@item --special-syms
When displaying symbols include those which the target considers to be
special in some way and which would not normally be of interest to the
user.

@@item -V
@@itemx --version
Print the version number of @@command{objdump} and exit.

@@item -x
@@itemx --all-headers
@@cindex all header information, object file
@@cindex header information, all
Display all available header information, including the symbol table and
relocation entries.  Using @@option{-x} is equivalent to specifying all of
@@option{-a -f -h -p -r -t}.

@@item -w
@@itemx --wide
@@cindex wide output, printing
Format some lines for output devices that have more than 80 columns.
Also do not truncate symbol names when they are displayed.

@@item -z
@@itemx --disassemble-zeroes
Normally the disassembly output will skip blocks of zeroes.  This
option directs the disassembler to disassemble those blocks, just like
any other data.
@@end table

@@c man end

@@ignore
@@c man begin SEEALSO objdump
nm(1), readelf(1), and the Info entries for @@file{binutils}.
@@c man end
@@end ignore

@@node ranlib
@@chapter ranlib

@@kindex ranlib
@@cindex archive contents
@@cindex symbol index

@@c man title ranlib generate index to archive.

@@smallexample
@@c man begin SYNOPSIS ranlib
ranlib [@@option{--plugin} @@var{name}] [@@option{-DhHvVt}] @@var{archive}
@@c man end
@@end smallexample

@@c man begin DESCRIPTION ranlib

@@command{ranlib} generates an index to the contents of an archive and
stores it in the archive.  The index lists each symbol defined by a
member of an archive that is a relocatable object file.

You may use @@samp{nm -s} or @@samp{nm --print-armap} to list this index.

An archive with such an index speeds up linking to the library and
allows routines in the library to call each other without regard to
their placement in the archive.

The @@sc{gnu} @@command{ranlib} program is another form of @@sc{gnu} @@command{ar}; running
@@command{ranlib} is completely equivalent to executing @@samp{ar -s}.
@@xref{ar}.

@@c man end

@@c man begin OPTIONS ranlib

@@table @@env
@@item -h
@@itemx -H
@@itemx --help
Show usage information for @@command{ranlib}.

@@item -v
@@itemx -V
@@itemx --version
Show the version number of @@command{ranlib}.

@@item -D
@@cindex deterministic archives
@@kindex --enable-deterministic-archives
Operate in @@emph{deterministic} mode.  The symbol map archive member's
header will show zero for the UID, GID, and timestamp.  When this
option is used, multiple runs will produce identical output files.

If @@file{binutils} was configured with
@@option{--enable-deterministic-archives}, then this mode is on by
default.  It can be disabled with the @@samp{-U} option, described
below.

@@item -t
Update the timestamp of the symbol map of an archive.

@@item -U
@@cindex deterministic archives
@@kindex --enable-deterministic-archives
Do @@emph{not} operate in @@emph{deterministic} mode.  This is the
inverse of the @@samp{-D} option, above: the archive index will get
actual UID, GID, timestamp, and file mode values.

If @@file{binutils} was configured @@emph{without}
@@option{--enable-deterministic-archives}, then this mode is on by
default.

@@end table

@@c man end

@@ignore
@@c man begin SEEALSO ranlib
ar(1), nm(1), and the Info entries for @@file{binutils}.
@@c man end
@@end ignore

@@node size
@@chapter size

@@kindex size
@@cindex section sizes

@@c man title size list section sizes and total size.

@@smallexample
@@c man begin SYNOPSIS size
size [@@option{-A}|@@option{-B}|@@option{--format=}@@var{compatibility}]
     [@@option{--help}]
     [@@option{-d}|@@option{-o}|@@option{-x}|@@option{--radix=}@@var{number}]
     [@@option{--common}]
     [@@option{-t}|@@option{--totals}]
     [@@option{--target=}@@var{bfdname}] [@@option{-V}|@@option{--version}]
     [@@var{objfile}@@dots{}]
@@c man end
@@end smallexample

@@c man begin DESCRIPTION size

The @@sc{gnu} @@command{size} utility lists the section sizes---and the total
size---for each of the object or archive files @@var{objfile} in its
argument list.  By default, one line of output is generated for each
object file or each module in an archive.

@@var{objfile}@@dots{} are the object files to be examined.
If none are specified, the file @@code{a.out} will be used.

@@c man end

@@c man begin OPTIONS size

The command line options have the following meanings:

@@table @@env
@@item -A
@@itemx -B
@@itemx --format=@@var{compatibility}
@@cindex @@command{size} display format
Using one of these options, you can choose whether the output from @@sc{gnu}
@@command{size} resembles output from System V @@command{size} (using @@option{-A},
or @@option{--format=sysv}), or Berkeley @@command{size} (using @@option{-B}, or
@@option{--format=berkeley}).  The default is the one-line format similar to
Berkeley's.
@@c Bonus for doc-source readers: you can also say --format=strange (or
@@c anything else that starts with 's') for sysv, and --format=boring (or
@@c anything else that starts with 'b') for Berkeley.

Here is an example of the Berkeley (default) format of output from
@@command{size}:
@@smallexample
$ size --format=Berkeley ranlib size
text    data    bss     dec     hex     filename
294880  81920   11592   388392  5ed28   ranlib
294880  81920   11888   388688  5ee50   size
@@end smallexample

@@noindent
This is the same data, but displayed closer to System V conventions:

@@smallexample
$ size --format=SysV ranlib size
ranlib  :
section         size         addr
.text         294880         8192
.data          81920       303104
.bss           11592       385024
Total         388392


size  :
section         size         addr
.text         294880         8192
.data          81920       303104
.bss           11888       385024
Total         388688
@@end smallexample

@@item --help
Show a summary of acceptable arguments and options.

@@item -d
@@itemx -o
@@itemx -x
@@itemx --radix=@@var{number}
@@cindex @@command{size} number format
@@cindex radix for section sizes
Using one of these options, you can control whether the size of each
section is given in decimal (@@option{-d}, or @@option{--radix=10}); octal
(@@option{-o}, or @@option{--radix=8}); or hexadecimal (@@option{-x}, or
@@option{--radix=16}).  In @@option{--radix=@@var{number}}, only the three
values (8, 10, 16) are supported.  The total size is always given in two
radices; decimal and hexadecimal for @@option{-d} or @@option{-x} output, or
octal and hexadecimal if you're using @@option{-o}.

@@item --common
Print total size of common symbols in each file.  When using Berkeley
format these are included in the bss size.

@@item -t
@@itemx --totals
Show totals of all objects listed (Berkeley format listing mode only).

@@item --target=@@var{bfdname}
@@cindex object code format
Specify that the object-code format for @@var{objfile} is
@@var{bfdname}.  This option may not be necessary; @@command{size} can
automatically recognize many formats.
@@xref{Target Selection}, for more information.

@@item -V
@@itemx --version
Display the version number of @@command{size}.
@@end table

@@c man end

@@ignore
@@c man begin SEEALSO size
ar(1), objdump(1), readelf(1), and the Info entries for @@file{binutils}.
@@c man end
@@end ignore

@@node strings
@@chapter strings
@@kindex strings
@@cindex listings strings
@@cindex printing strings
@@cindex strings, printing

@@c man title strings print the strings of printable characters in files.

@@smallexample
@@c man begin SYNOPSIS strings
strings [@@option{-afovV}] [@@option{-}@@var{min-len}]
        [@@option{-n} @@var{min-len}] [@@option{--bytes=}@@var{min-len}]
        [@@option{-t} @@var{radix}] [@@option{--radix=}@@var{radix}]
        [@@option{-e} @@var{encoding}] [@@option{--encoding=}@@var{encoding}]
        [@@option{-}] [@@option{--all}] [@@option{--print-file-name}]
        [@@option{-T} @@var{bfdname}] [@@option{--target=}@@var{bfdname}]
        [@@option{--help}] [@@option{--version}] @@var{file}@@dots{}
@@c man end
@@end smallexample

@@c man begin DESCRIPTION strings

For each @@var{file} given, @@sc{gnu} @@command{strings} prints the printable
character sequences that are at least 4 characters long (or the number
given with the options below) and are followed by an unprintable
character.  By default, it only prints the strings from the initialized
and loaded sections of object files; for other types of files, it prints
the strings from the whole file.

@@command{strings} is mainly useful for determining the contents of non-text
files.

@@c man end

@@c man begin OPTIONS strings

@@table @@env
@@item -a
@@itemx --all
@@itemx -
Do not scan only the initialized and loaded sections of object files;
scan the whole files.

@@item -f
@@itemx --print-file-name
Print the name of the file before each string.

@@item --help
Print a summary of the program usage on the standard output and exit.

@@item -@@var{min-len}
@@itemx -n @@var{min-len}
@@itemx --bytes=@@var{min-len}
Print sequences of characters that are at least @@var{min-len} characters
long, instead of the default 4.

@@item -o
Like @@samp{-t o}.  Some other versions of @@command{strings} have @@option{-o}
act like @@samp{-t d} instead.  Since we can not be compatible with both
ways, we simply chose one.

@@item -t @@var{radix}
@@itemx --radix=@@var{radix}
Print the offset within the file before each string.  The single
character argument specifies the radix of the offset---@@samp{o} for
octal, @@samp{x} for hexadecimal, or @@samp{d} for decimal.

@@item -e @@var{encoding}
@@itemx --encoding=@@var{encoding}
Select the character encoding of the strings that are to be found.
Possible values for @@var{encoding} are: @@samp{s} = single-7-bit-byte
characters (ASCII, ISO 8859, etc., default), @@samp{S} =
single-8-bit-byte characters, @@samp{b} = 16-bit bigendian, @@samp{l} =
16-bit littleendian, @@samp{B} = 32-bit bigendian, @@samp{L} = 32-bit
littleendian.  Useful for finding wide character strings. (@@samp{l}
and @@samp{b} apply to, for example, Unicode UTF-16/UCS-2 encodings).

@@item -T @@var{bfdname}
@@itemx --target=@@var{bfdname}
@@cindex object code format
Specify an object code format other than your system's default format.
@@xref{Target Selection}, for more information.

@@item -v
@@itemx -V
@@itemx --version
Print the program version number on the standard output and exit.
@@end table

@@c man end

@@ignore
@@c man begin SEEALSO strings
ar(1), nm(1), objdump(1), ranlib(1), readelf(1)
and the Info entries for @@file{binutils}.
@@c man end
@@end ignore

@@node strip
@@chapter strip

@@kindex strip
@@cindex removing symbols
@@cindex discarding symbols
@@cindex symbols, discarding

@@c man title strip Discard symbols from object files.

@@smallexample
@@c man begin SYNOPSIS strip
strip [@@option{-F} @@var{bfdname} |@@option{--target=}@@var{bfdname}]
      [@@option{-I} @@var{bfdname} |@@option{--input-target=}@@var{bfdname}]
      [@@option{-O} @@var{bfdname} |@@option{--output-target=}@@var{bfdname}]
      [@@option{-s}|@@option{--strip-all}]
      [@@option{-S}|@@option{-g}|@@option{-d}|@@option{--strip-debug}]
      [@@option{--strip-dwo}]
      [@@option{-K} @@var{symbolname} |@@option{--keep-symbol=}@@var{symbolname}]
      [@@option{-N} @@var{symbolname} |@@option{--strip-symbol=}@@var{symbolname}]
      [@@option{-w}|@@option{--wildcard}]
      [@@option{-x}|@@option{--discard-all}] [@@option{-X} |@@option{--discard-locals}]
      [@@option{-R} @@var{sectionname} |@@option{--remove-section=}@@var{sectionname}]
      [@@option{-o} @@var{file}] [@@option{-p}|@@option{--preserve-dates}]
      [@@option{-D}|@@option{--enable-deterministic-archives}]
      [@@option{-U}|@@option{--disable-deterministic-archives}]
      [@@option{--keep-file-symbols}]
      [@@option{--only-keep-debug}]
      [@@option{-v} |@@option{--verbose}] [@@option{-V}|@@option{--version}]
      [@@option{--help}] [@@option{--info}]
      @@var{objfile}@@dots{}
@@c man end
@@end smallexample

@@c man begin DESCRIPTION strip

@@sc{gnu} @@command{strip} discards all symbols from object files
@@var{objfile}.  The list of object files may include archives.
At least one object file must be given.

@@command{strip} modifies the files named in its argument,
rather than writing modified copies under different names.

@@c man end

@@c man begin OPTIONS strip

@@table @@env
@@item -F @@var{bfdname}
@@itemx --target=@@var{bfdname}
Treat the original @@var{objfile} as a file with the object
code format @@var{bfdname}, and rewrite it in the same format.
@@xref{Target Selection}, for more information.

@@item --help
Show a summary of the options to @@command{strip} and exit.

@@item --info
Display a list showing all architectures and object formats available.

@@item -I @@var{bfdname}
@@itemx --input-target=@@var{bfdname}
Treat the original @@var{objfile} as a file with the object
code format @@var{bfdname}.
@@xref{Target Selection}, for more information.

@@item -O @@var{bfdname}
@@itemx --output-target=@@var{bfdname}
Replace @@var{objfile} with a file in the output format @@var{bfdname}.
@@xref{Target Selection}, for more information.

@@item -R @@var{sectionname}
@@itemx --remove-section=@@var{sectionname}
Remove any section named @@var{sectionname} from the output file.  This
option may be given more than once.  Note that using this option
inappropriately may make the output file unusable.  The wildcard
character @@samp{*} may be given at the end of @@var{sectionname}.  If
so, then any section starting with @@var{sectionname} will be removed.

@@item -s
@@itemx --strip-all
Remove all symbols.

@@item -g
@@itemx -S
@@itemx -d
@@itemx --strip-debug
Remove debugging symbols only.

@@item --strip-dwo
Remove the contents of all DWARF .dwo sections, leaving the
remaining debugging sections and all symbols intact.
See the description of this option in the @@command{objcopy} section
for more information.

@@item --strip-unneeded
Remove all symbols that are not needed for relocation processing.

@@item -K @@var{symbolname}
@@itemx --keep-symbol=@@var{symbolname}
When stripping symbols, keep symbol @@var{symbolname} even if it would
normally be stripped.  This option may be given more than once.

@@item -N @@var{symbolname}
@@itemx --strip-symbol=@@var{symbolname}
Remove symbol @@var{symbolname} from the source file. This option may be
given more than once, and may be combined with strip options other than
@@option{-K}.

@@item -o @@var{file}
Put the stripped output in @@var{file}, rather than replacing the
existing file.  When this argument is used, only one @@var{objfile}
argument may be specified.

@@item -p
@@itemx --preserve-dates
Preserve the access and modification dates of the file.

@@item -D
@@itemx --enable-deterministic-archives
@@cindex deterministic archives
@@kindex --enable-deterministic-archives
Operate in @@emph{deterministic} mode.  When copying archive members
and writing the archive index, use zero for UIDs, GIDs, timestamps,
and use consistent file modes for all files.

If @@file{binutils} was configured with
@@option{--enable-deterministic-archives}, then this mode is on by default.
It can be disabled with the @@samp{-U} option, below.

@@item -U
@@itemx --disable-deterministic-archives
@@cindex deterministic archives
@@kindex --enable-deterministic-archives
Do @@emph{not} operate in @@emph{deterministic} mode.  This is the
inverse of the @@option{-D} option, above: when copying archive members
and writing the archive index, use their actual UID, GID, timestamp,
and file mode values.

This is the default unless @@file{binutils} was configured with
@@option{--enable-deterministic-archives}.

@@item -w
@@itemx --wildcard
Permit regular expressions in @@var{symbolname}s used in other command
line options.  The question mark (?), asterisk (*), backslash (\) and
square brackets ([]) operators can be used anywhere in the symbol
name.  If the first character of the symbol name is the exclamation
point (!) then the sense of the switch is reversed for that symbol.
For example:

@@smallexample
  -w -K !foo -K fo*
@@end smallexample

would cause strip to only keep symbols that start with the letters
``fo'', but to discard the symbol ``foo''.

@@item -x
@@itemx --discard-all
Remove non-global symbols.

@@item -X
@@itemx --discard-locals
Remove compiler-generated local symbols.
(These usually start with @@samp{L} or @@samp{.}.)

@@item --keep-file-symbols
When stripping a file, perhaps with @@option{--strip-debug} or
@@option{--strip-unneeded}, retain any symbols specifying source file names,
which would otherwise get stripped.

@@item --only-keep-debug
Strip a file, removing contents of any sections that would not be
stripped by @@option{--strip-debug} and leaving the debugging sections
intact.  In ELF files, this preserves all note sections in the output.

The intention is that this option will be used in conjunction with
@@option{--add-gnu-debuglink} to create a two part executable.  One a
stripped binary which will occupy less space in RAM and in a
distribution and the second a debugging information file which is only
needed if debugging abilities are required.  The suggested procedure
to create these files is as follows:

@@enumerate
@@item Link the executable as normal.  Assuming that is is called
@@code{foo} then...
@@item Run @@code{objcopy --only-keep-debug foo foo.dbg} to
create a file containing the debugging info.
@@item Run @@code{objcopy --strip-debug foo} to create a
stripped executable.
@@item Run @@code{objcopy --add-gnu-debuglink=foo.dbg foo}
to add a link to the debugging info into the stripped executable.
@@end enumerate

Note---the choice of @@code{.dbg} as an extension for the debug info
file is arbitrary.  Also the @@code{--only-keep-debug} step is
optional.  You could instead do this:

@@enumerate
@@item Link the executable as normal.
@@item Copy @@code{foo} to @@code{foo.full}
@@item Run @@code{strip --strip-debug foo}
@@item Run @@code{objcopy --add-gnu-debuglink=foo.full foo}
@@end enumerate

i.e., the file pointed to by the @@option{--add-gnu-debuglink} can be the
full executable.  It does not have to be a file created by the
@@option{--only-keep-debug} switch.

Note---this switch is only intended for use on fully linked files.  It
does not make sense to use it on object files where the debugging
information may be incomplete.  Besides the gnu_debuglink feature
currently only supports the presence of one filename containing
debugging information, not multiple filenames on a one-per-object-file
basis.

@@item -V
@@itemx --version
Show the version number for @@command{strip}.

@@item -v
@@itemx --verbose
Verbose output: list all object files modified.  In the case of
archives, @@samp{strip -v} lists all members of the archive.
@@end table

@@c man end

@@ignore
@@c man begin SEEALSO strip
the Info entries for @@file{binutils}.
@@c man end
@@end ignore

@@node c++filt, addr2line, strip, Top
@@chapter c++filt

@@kindex c++filt
@@cindex demangling C++ symbols

@@c man title cxxfilt Demangle C++ and Java symbols.

@@smallexample
@@c man begin SYNOPSIS cxxfilt
c++filt [@@option{-_}|@@option{--strip-underscore}]
        [@@option{-n}|@@option{--no-strip-underscore}]
        [@@option{-p}|@@option{--no-params}]
        [@@option{-t}|@@option{--types}]
        [@@option{-i}|@@option{--no-verbose}]
        [@@option{-s} @@var{format}|@@option{--format=}@@var{format}]
        [@@option{--help}]  [@@option{--version}]  [@@var{symbol}@@dots{}]
@@c man end
@@end smallexample

@@c man begin DESCRIPTION cxxfilt

@@kindex cxxfilt
The C++ and Java languages provide function overloading, which means
that you can write many functions with the same name, providing that
each function takes parameters of different types.  In order to be
able to distinguish these similarly named functions C++ and Java
encode them into a low-level assembler name which uniquely identifies
each different version.  This process is known as @@dfn{mangling}. The
@@command{c++filt}
@@footnote{MS-DOS does not allow @@kbd{+} characters in file names, so on
MS-DOS this program is named @@command{CXXFILT}.}
program does the inverse mapping: it decodes (@@dfn{demangles}) low-level
names into user-level names so that they can be read.

Every alphanumeric word (consisting of letters, digits, underscores,
dollars, or periods) seen in the input is a potential mangled name.
If the name decodes into a C++ name, the C++ name replaces the
low-level name in the output, otherwise the original word is output.
In this way you can pass an entire assembler source file, containing
mangled names, through @@command{c++filt} and see the same source file
containing demangled names.

You can also use @@command{c++filt} to decipher individual symbols by
passing them on the command line:

@@example
c++filt @@var{symbol}
@@end example

If no @@var{symbol} arguments are given, @@command{c++filt} reads symbol
names from the standard input instead.  All the results are printed on
the standard output.  The difference between reading names from the
command line versus reading names from the standard input is that
command line arguments are expected to be just mangled names and no
checking is performed to separate them from surrounding text.  Thus
for example:

@@smallexample
c++filt -n _Z1fv
@@end smallexample

will work and demangle the name to ``f()'' whereas:

@@smallexample
c++filt -n _Z1fv,
@@end smallexample

will not work.  (Note the extra comma at the end of the mangled
name which makes it invalid).  This command however will work:

@@smallexample
echo _Z1fv, | c++filt -n
@@end smallexample

and will display ``f(),'', i.e., the demangled name followed by a
trailing comma.  This behaviour is because when the names are read
from the standard input it is expected that they might be part of an
assembler source file where there might be extra, extraneous
characters trailing after a mangled name.  For example:

@@smallexample
    .type   _Z1fv, @@@@function
@@end smallexample

@@c man end

@@c man begin OPTIONS cxxfilt

@@table @@env
@@item -_
@@itemx --strip-underscore
On some systems, both the C and C++ compilers put an underscore in front
of every name.  For example, the C name @@code{foo} gets the low-level
name @@code{_foo}.  This option removes the initial underscore.  Whether
@@command{c++filt} removes the underscore by default is target dependent.

@@item -n
@@itemx --no-strip-underscore
Do not remove the initial underscore.

@@item -p
@@itemx --no-params
When demangling the name of a function, do not display the types of
the function's parameters.

@@item -t
@@itemx --types
Attempt to demangle types as well as function names.  This is disabled
by default since mangled types are normally only used internally in
the compiler, and they can be confused with non-mangled names.  For example,
a function called ``a'' treated as a mangled type name would be
demangled to ``signed char''.

@@item -i
@@itemx --no-verbose
Do not include implementation details (if any) in the demangled
output.

@@item -s @@var{format}
@@itemx --format=@@var{format}
@@command{c++filt} can decode various methods of mangling, used by
different compilers.  The argument to this option selects which
method it uses:

@@table @@code
@@item auto
Automatic selection based on executable (the default method)
@@item gnu
the one used by the @@sc{gnu} C++ compiler (g++)
@@item lucid
the one used by the Lucid compiler (lcc)
@@item arm
the one specified by the C++ Annotated Reference Manual
@@item hp
the one used by the HP compiler (aCC)
@@item edg
the one used by the EDG compiler
@@item gnu-v3
the one used by the @@sc{gnu} C++ compiler (g++) with the V3 ABI.
@@item java
the one used by the @@sc{gnu} Java compiler (gcj)
@@item gnat
the one used by the @@sc{gnu} Ada compiler (GNAT).
@@end table

@@item --help
Print a summary of the options to @@command{c++filt} and exit.

@@item --version
Print the version number of @@command{c++filt} and exit.
@@end table

@@c man end

@@ignore
@@c man begin SEEALSO cxxfilt
the Info entries for @@file{binutils}.
@@c man end
@@end ignore

@@quotation
@@emph{Warning:} @@command{c++filt} is a new utility, and the details of its
user interface are subject to change in future releases.  In particular,
a command-line option may be required in the future to decode a name
passed as an argument on the command line; in other words,

@@example
c++filt @@var{symbol}
@@end example

@@noindent
may in a future release become

@@example
c++filt @@var{option} @@var{symbol}
@@end example
@@end quotation

@@node addr2line
@@chapter addr2line

@@kindex addr2line
@@cindex address to file name and line number

@@c man title addr2line convert addresses into file names and line numbers.

@@smallexample
@@c man begin SYNOPSIS addr2line
addr2line [@@option{-a}|@@option{--addresses}]
          [@@option{-b} @@var{bfdname}|@@option{--target=}@@var{bfdname}]
          [@@option{-C}|@@option{--demangle}[=@@var{style}]]
          [@@option{-e} @@var{filename}|@@option{--exe=}@@var{filename}]
          [@@option{-f}|@@option{--functions}] [@@option{-s}|@@option{--basename}]
          [@@option{-i}|@@option{--inlines}]
          [@@option{-p}|@@option{--pretty-print}]
          [@@option{-j}|@@option{--section=}@@var{name}]
          [@@option{-H}|@@option{--help}] [@@option{-V}|@@option{--version}]
          [addr addr @@dots{}]
@@c man end
@@end smallexample

@@c man begin DESCRIPTION addr2line

@@command{addr2line} translates addresses into file names and line numbers.
Given an address in an executable or an offset in a section of a relocatable
object, it uses the debugging information to figure out which file name and
line number are associated with it.

The executable or relocatable object to use is specified with the @@option{-e}
option.  The default is the file @@file{a.out}.  The section in the relocatable
object to use is specified with the @@option{-j} option.

@@command{addr2line} has two modes of operation.

In the first, hexadecimal addresses are specified on the command line,
and @@command{addr2line} displays the file name and line number for each
address.

In the second, @@command{addr2line} reads hexadecimal addresses from
standard input, and prints the file name and line number for each
address on standard output.  In this mode, @@command{addr2line} may be used
in a pipe to convert dynamically chosen addresses.

The format of the output is @@samp{FILENAME:LINENO}.  The file name and
line number for each input address is printed on separate lines.

If the @@option{-f} option is used, then each @@samp{FILENAME:LINENO}
line is preceded by @@samp{FUNCTIONNAME} which is the name of the
function containing the address.

If the @@option{-i} option is used and the code at the given address is
present there because of inlining by the compiler then the
@@samp{@@{FUNCTIONNAME@@} FILENAME:LINENO} information for the inlining
function will be displayed afterwards.  This continues recursively
until there is no more inlining to report.

If the @@option{-a} option is used then the output is prefixed by the
input address.

If the @@option{-p} option is used then the output for each input
address is displayed on one, possibly quite long, line.  If
@@option{-p} is not used then the output is broken up into multiple
lines, based on the paragraphs above.

If the file name or function name can not be determined,
@@command{addr2line} will print two question marks in their place.  If the
line number can not be determined, @@command{addr2line} will print 0.

@@c man end

@@c man begin OPTIONS addr2line

The long and short forms of options, shown here as alternatives, are
equivalent.

@@table @@env
@@item -a
@@itemx --addresses
Display the address before the function name, file and line number
information.  The address is printed with a @@samp{0x} prefix to easily
identify it.

@@item -b @@var{bfdname}
@@itemx --target=@@var{bfdname}
@@cindex object code format
Specify that the object-code format for the object files is
@@var{bfdname}.

@@item -C
@@itemx --demangle[=@@var{style}]
@@cindex demangling in objdump
Decode (@@dfn{demangle}) low-level symbol names into user-level names.
Besides removing any initial underscore prepended by the system, this
makes C++ function names readable.  Different compilers have different
mangling styles. The optional demangling style argument can be used to
choose an appropriate demangling style for your compiler. @@xref{c++filt},
for more information on demangling.

@@item -e @@var{filename}
@@itemx --exe=@@var{filename}
Specify the name of the executable for which addresses should be
translated.  The default file is @@file{a.out}.

@@item -f
@@itemx --functions
Display function names as well as file and line number information.

@@item -s
@@itemx --basenames
Display only the base of each file name.

@@item -i
@@itemx --inlines
If the address belongs to a function that was inlined, the source
information for all enclosing scopes back to the first non-inlined
function will also be printed.  For example, if @@code{main} inlines
@@code{callee1} which inlines @@code{callee2}, and address is from
@@code{callee2}, the source information for @@code{callee1} and @@code{main}
will also be printed.

@@item -j
@@itemx --section
Read offsets relative to the specified section instead of absolute addresses.

@@item -p
@@itemx --pretty-print
Make the output more human friendly: each location are printed on one line.
If option @@option{-i} is specified, lines for all enclosing scopes are
prefixed with @@samp{(inlined by)}.
@@end table

@@c man end

@@ignore
@@c man begin SEEALSO addr2line
Info entries for @@file{binutils}.
@@c man end
@@end ignore

@@node nlmconv
@@chapter nlmconv

@@command{nlmconv} converts a relocatable object file into a NetWare
Loadable Module.

@@ignore
@@command{nlmconv} currently works with @@samp{i386} object
files in @@code{coff}, @@sc{elf}, or @@code{a.out} format, and @@sc{SPARC}
object files in @@sc{elf}, or @@code{a.out} format@@footnote{
@@command{nlmconv} should work with any @@samp{i386} or @@sc{sparc} object
format in the Binary File Descriptor library.  It has only been tested
with the above formats.}.
@@end ignore

@@quotation
@@emph{Warning:} @@command{nlmconv} is not always built as part of the binary
utilities, since it is only useful for NLM targets.
@@end quotation

@@c man title nlmconv converts object code into an NLM.

@@smallexample
@@c man begin SYNOPSIS nlmconv
nlmconv [@@option{-I} @@var{bfdname}|@@option{--input-target=}@@var{bfdname}]
        [@@option{-O} @@var{bfdname}|@@option{--output-target=}@@var{bfdname}]
        [@@option{-T} @@var{headerfile}|@@option{--header-file=}@@var{headerfile}]
        [@@option{-d}|@@option{--debug}] [@@option{-l} @@var{linker}|@@option{--linker=}@@var{linker}]
        [@@option{-h}|@@option{--help}] [@@option{-V}|@@option{--version}]
        @@var{infile} @@var{outfile}
@@c man end
@@end smallexample

@@c man begin DESCRIPTION nlmconv

@@command{nlmconv} converts the relocatable @@samp{i386} object file
@@var{infile} into the NetWare Loadable Module @@var{outfile}, optionally
reading @@var{headerfile} for NLM header information.  For instructions
on writing the NLM command file language used in header files, see the
@@samp{linkers} section, @@samp{NLMLINK} in particular, of the @@cite{NLM
Development and Tools Overview}, which is part of the NLM Software
Developer's Kit (``NLM SDK''), available from Novell, Inc.
@@command{nlmconv} uses the @@sc{gnu} Binary File Descriptor library to read
@@var{infile};
@@ifclear man
see @@ref{BFD,,BFD,ld.info,Using LD}, for more information.
@@end ifclear

@@command{nlmconv} can perform a link step.  In other words, you can list
more than one object file for input if you list them in the definitions
file (rather than simply specifying one input file on the command line).
In this case, @@command{nlmconv} calls the linker for you.

@@c man end

@@c man begin OPTIONS nlmconv

@@table @@env
@@item -I @@var{bfdname}
@@itemx --input-target=@@var{bfdname}
Object format of the input file.  @@command{nlmconv} can usually determine
the format of a given file (so no default is necessary).
@@xref{Target Selection}, for more information.

@@item -O @@var{bfdname}
@@itemx --output-target=@@var{bfdname}
Object format of the output file.  @@command{nlmconv} infers the output
format based on the input format, e.g. for a @@samp{i386} input file the
output format is @@samp{nlm32-i386}.
@@xref{Target Selection}, for more information.

@@item -T @@var{headerfile}
@@itemx --header-file=@@var{headerfile}
Reads @@var{headerfile} for NLM header information.  For instructions on
writing the NLM command file language used in header files, see@@ see the
@@samp{linkers} section, of the @@cite{NLM Development and Tools
Overview}, which is part of the NLM Software Developer's Kit, available
from Novell, Inc.

@@item -d
@@itemx --debug
Displays (on standard error) the linker command line used by @@command{nlmconv}.

@@item -l @@var{linker}
@@itemx --linker=@@var{linker}
Use @@var{linker} for any linking.  @@var{linker} can be an absolute or a
relative pathname.

@@item -h
@@itemx --help
Prints a usage summary.

@@item -V
@@itemx --version
Prints the version number for @@command{nlmconv}.
@@end table

@@c man end

@@ignore
@@c man begin SEEALSO nlmconv
the Info entries for @@file{binutils}.
@@c man end
@@end ignore

@@node windmc
@@chapter windmc

@@command{windmc} may be used to generator Windows message resources.

@@quotation
@@emph{Warning:} @@command{windmc} is not always built as part of the binary
utilities, since it is only useful for Windows targets.
@@end quotation

@@c man title windmc generates Windows message resources.

@@smallexample
@@c man begin SYNOPSIS windmc
windmc [options] input-file
@@c man end
@@end smallexample

@@c man begin DESCRIPTION windmc

@@command{windmc} reads message definitions from an input file (.mc) and
translate them into a set of output files.  The output files may be of
four kinds:

@@table @@code
@@item h
A C header file containing the message definitions.

@@item rc
A resource file compilable by the @@command{windres} tool.

@@item bin
One or more binary files containing the resource data for a specific
message language.

@@item dbg
A C include file that maps message id's to their symbolic name.
@@end table

The exact description of these different formats is available in
documentation from Microsoft.

When @@command{windmc} converts from the @@code{mc} format to the @@code{bin}
format, @@code{rc}, @@code{h}, and optional @@code{dbg} it is acting like the
Windows Message Compiler.

@@c man end

@@c man begin OPTIONS windmc

@@table @@env
@@item -a
@@itemx --ascii_in
Specifies that the input file specified is ASCII. This is the default
behaviour.

@@item -A
@@itemx --ascii_out
Specifies that messages in the output @@code{bin} files should be in ASCII
format.

@@item -b
@@itemx --binprefix
Specifies that @@code{bin} filenames should have to be prefixed by the
basename of the source file.

@@item -c
@@itemx --customflag
Sets the customer bit in all message id's.

@@item -C @@var{codepage}
@@itemx --codepage_in @@var{codepage}
Sets the default codepage to be used to convert input file to UTF16. The
default is ocdepage 1252.

@@item -d
@@itemx --decimal_values
Outputs the constants in the header file in decimal. Default is using
hexadecimal output.

@@item -e @@var{ext}
@@itemx --extension @@var{ext}
The extension for the header file. The default is .h extension.

@@item -F @@var{target}
@@itemx --target @@var{target}
Specify the BFD format to use for a bin file as output.  This
is a BFD target name; you can use the @@option{--help} option to see a list
of supported targets.  Normally @@command{windmc} will use the default
format, which is the first one listed by the @@option{--help} option.
@@ifclear man
@@ref{Target Selection}.
@@end ifclear

@@item -h @@var{path}
@@itemx --headerdir @@var{path}
The target directory of the generated header file. The default is the
current directory.

@@item -H
@@itemx --help
Displays a list of command line options and then exits.

@@item -m @@var{characters}
@@itemx --maxlength @@var{characters}
Instructs @@command{windmc} to generate a warning if the length
of any message exceeds the number specified.

@@item -n
@@itemx --nullterminate
Terminate message text in @@code{bin} files by zero. By default they are
terminated by CR/LF.

@@item -o
@@itemx --hresult_use
Not yet implemented. Instructs @@code{windmc} to generate an OLE2 header
file, using HRESULT definitions. Status codes are used if the flag is not
specified.

@@item -O @@var{codepage}
@@itemx --codepage_out @@var{codepage}
Sets the default codepage to be used to output text files. The default
is ocdepage 1252.

@@item -r @@var{path}
@@itemx --rcdir @@var{path}
The target directory for the generated @@code{rc} script and the generated
@@code{bin} files that the resource compiler script includes. The default
is the current directory.

@@item -u
@@itemx --unicode_in
Specifies that the input file is UTF16.

@@item -U
@@itemx --unicode_out
Specifies that messages in the output @@code{bin} file should be in UTF16
format. This is the default behaviour.

@@item -v
@@item --verbose
Enable verbose mode.

@@item -V
@@item --version
Prints the version number for @@command{windmc}.

@@item -x @@var{path}
@@itemx --xdgb @@var{path}
The path of the @@code{dbg} C include file that maps message id's to the
symbolic name. No such file is generated without specifying the switch.
@@end table

@@c man end

@@ignore
@@c man begin SEEALSO windmc
the Info entries for @@file{binutils}.
@@c man end
@@end ignore

@@node windres
@@chapter windres

@@command{windres} may be used to manipulate Windows resources.

@@quotation
@@emph{Warning:} @@command{windres} is not always built as part of the binary
utilities, since it is only useful for Windows targets.
@@end quotation

@@c man title windres manipulate Windows resources.

@@smallexample
@@c man begin SYNOPSIS windres
windres [options] [input-file] [output-file]
@@c man end
@@end smallexample

@@c man begin DESCRIPTION windres

@@command{windres} reads resources from an input file and copies them into
an output file.  Either file may be in one of three formats:

@@table @@code
@@item rc
A text format read by the Resource Compiler.

@@item res
A binary format generated by the Resource Compiler.

@@item coff
A COFF object or executable.
@@end table

The exact description of these different formats is available in
documentation from Microsoft.

When @@command{windres} converts from the @@code{rc} format to the @@code{res}
format, it is acting like the Windows Resource Compiler.  When
@@command{windres} converts from the @@code{res} format to the @@code{coff}
format, it is acting like the Windows @@code{CVTRES} program.

When @@command{windres} generates an @@code{rc} file, the output is similar
but not identical to the format expected for the input.  When an input
@@code{rc} file refers to an external filename, an output @@code{rc} file
will instead include the file contents.

If the input or output format is not specified, @@command{windres} will
guess based on the file name, or, for the input file, the file contents.
A file with an extension of @@file{.rc} will be treated as an @@code{rc}
file, a file with an extension of @@file{.res} will be treated as a
@@code{res} file, and a file with an extension of @@file{.o} or
@@file{.exe} will be treated as a @@code{coff} file.

If no output file is specified, @@command{windres} will print the resources
in @@code{rc} format to standard output.

The normal use is for you to write an @@code{rc} file, use @@command{windres}
to convert it to a COFF object file, and then link the COFF file into
your application.  This will make the resources described in the
@@code{rc} file available to Windows.

@@c man end

@@c man begin OPTIONS windres

@@table @@env
@@item -i @@var{filename}
@@itemx --input @@var{filename}
The name of the input file.  If this option is not used, then
@@command{windres} will use the first non-option argument as the input file
name.  If there are no non-option arguments, then @@command{windres} will
read from standard input.  @@command{windres} can not read a COFF file from
standard input.

@@item -o @@var{filename}
@@itemx --output @@var{filename}
The name of the output file.  If this option is not used, then
@@command{windres} will use the first non-option argument, after any used
for the input file name, as the output file name.  If there is no
non-option argument, then @@command{windres} will write to standard output.
@@command{windres} can not write a COFF file to standard output.  Note,
for compatibility with @@command{rc} the option @@option{-fo} is also
accepted, but its use is not recommended.

@@item -J @@var{format}
@@itemx --input-format @@var{format}
The input format to read.  @@var{format} may be @@samp{res}, @@samp{rc}, or
@@samp{coff}.  If no input format is specified, @@command{windres} will
guess, as described above.

@@item -O @@var{format}
@@itemx --output-format @@var{format}
The output format to generate.  @@var{format} may be @@samp{res},
@@samp{rc}, or @@samp{coff}.  If no output format is specified,
@@command{windres} will guess, as described above.

@@item -F @@var{target}
@@itemx --target @@var{target}
Specify the BFD format to use for a COFF file as input or output.  This
is a BFD target name; you can use the @@option{--help} option to see a list
of supported targets.  Normally @@command{windres} will use the default
format, which is the first one listed by the @@option{--help} option.
@@ifclear man
@@ref{Target Selection}.
@@end ifclear

@@item --preprocessor @@var{program}
When @@command{windres} reads an @@code{rc} file, it runs it through the C
preprocessor first.  This option may be used to specify the preprocessor
to use, including any leading arguments.  The default preprocessor
argument is @@code{gcc -E -xc-header -DRC_INVOKED}.

@@item --preprocessor-arg @@var{option}
When @@command{windres} reads an @@code{rc} file, it runs it through
the C preprocessor first.  This option may be used to specify additional
text to be passed to preprocessor on its command line.
This option can be used multiple times to add multiple options to the
preprocessor command line.

@@item -I @@var{directory}
@@itemx --include-dir @@var{directory}
Specify an include directory to use when reading an @@code{rc} file.
@@command{windres} will pass this to the preprocessor as an @@option{-I}
option.  @@command{windres} will also search this directory when looking for
files named in the @@code{rc} file.  If the argument passed to this command
matches any of the supported @@var{formats} (as described in the @@option{-J}
option), it will issue a deprecation warning, and behave just like the
@@option{-J} option.  New programs should not use this behaviour.  If a
directory happens to match a @@var{format}, simple prefix it with @@samp{./}
to disable the backward compatibility.

@@item -D @@var{target}
@@itemx --define @@var{sym}[=@@var{val}]
Specify a @@option{-D} option to pass to the preprocessor when reading an
@@code{rc} file.

@@item -U @@var{target}
@@itemx --undefine @@var{sym}
Specify a @@option{-U} option to pass to the preprocessor when reading an
@@code{rc} file.

@@item -r
Ignored for compatibility with rc.

@@item -v
Enable verbose mode.  This tells you what the preprocessor is if you
didn't specify one.

@@item -c @@var{val}
@@item --codepage @@var{val}
Specify the default codepage to use when reading an @@code{rc} file.
@@var{val} should be a hexadecimal prefixed by @@samp{0x} or decimal
codepage code. The valid range is from zero up to 0xffff, but the
validity of the codepage is host and configuration dependent.

@@item -l @@var{val}
@@item --language @@var{val}
Specify the default language to use when reading an @@code{rc} file.
@@var{val} should be a hexadecimal language code.  The low eight bits are
the language, and the high eight bits are the sublanguage.

@@item --use-temp-file
Use a temporary file to instead of using popen to read the output of
the preprocessor. Use this option if the popen implementation is buggy
on the host (eg., certain non-English language versions of Windows 95 and
Windows 98 are known to have buggy popen where the output will instead
go the console).

@@item --no-use-temp-file
Use popen, not a temporary file, to read the output of the preprocessor.
This is the default behaviour.

@@item -h
@@item --help
Prints a usage summary.

@@item -V
@@item --version
Prints the version number for @@command{windres}.

@@item --yydebug
If @@command{windres} is compiled with @@code{YYDEBUG} defined as @@code{1},
this will turn on parser debugging.
@@end table

@@c man end

@@ignore
@@c man begin SEEALSO windres
the Info entries for @@file{binutils}.
@@c man end
@@end ignore

@@node dlltool
@@chapter dlltool
@@cindex DLL
@@kindex dlltool

@@command{dlltool} is used to create the files needed to create dynamic
link libraries (DLLs) on systems which understand PE format image
files such as Windows.  A DLL contains an export table which contains
information that the runtime loader needs to resolve references from a
referencing program.

The export table is generated by this program by reading in a
@@file{.def} file or scanning the @@file{.a} and @@file{.o} files which
will be in the DLL.  A @@file{.o} file can contain information in
special @@samp{.drectve} sections with export information.

@@quotation
@@emph{Note:} @@command{dlltool} is not always built as part of the
binary utilities, since it is only useful for those targets which
support DLLs.
@@end quotation

@@c man title dlltool Create files needed to build and use DLLs.

@@smallexample
@@c man begin SYNOPSIS dlltool
dlltool [@@option{-d}|@@option{--input-def} @@var{def-file-name}]
        [@@option{-b}|@@option{--base-file} @@var{base-file-name}]
        [@@option{-e}|@@option{--output-exp} @@var{exports-file-name}]
        [@@option{-z}|@@option{--output-def} @@var{def-file-name}]
        [@@option{-l}|@@option{--output-lib} @@var{library-file-name}]
        [@@option{-y}|@@option{--output-delaylib} @@var{library-file-name}]
        [@@option{--export-all-symbols}] [@@option{--no-export-all-symbols}]
        [@@option{--exclude-symbols} @@var{list}]
        [@@option{--no-default-excludes}]
        [@@option{-S}|@@option{--as} @@var{path-to-assembler}] [@@option{-f}|@@option{--as-flags} @@var{options}]
        [@@option{-D}|@@option{--dllname} @@var{name}] [@@option{-m}|@@option{--machine} @@var{machine}]
        [@@option{-a}|@@option{--add-indirect}]
        [@@option{-U}|@@option{--add-underscore}] [@@option{--add-stdcall-underscore}]
        [@@option{-k}|@@option{--kill-at}] [@@option{-A}|@@option{--add-stdcall-alias}]
        [@@option{-p}|@@option{--ext-prefix-alias} @@var{prefix}]
        [@@option{-x}|@@option{--no-idata4}] [@@option{-c}|@@option{--no-idata5}]
        [@@option{--use-nul-prefixed-import-tables}]
        [@@option{-I}|@@option{--identify} @@var{library-file-name}] [@@option{--identify-strict}]
        [@@option{-i}|@@option{--interwork}]
        [@@option{-n}|@@option{--nodelete}] [@@option{-t}|@@option{--temp-prefix} @@var{prefix}]
        [@@option{-v}|@@option{--verbose}]
        [@@option{-h}|@@option{--help}] [@@option{-V}|@@option{--version}]
        [@@option{--no-leading-underscore}] [@@option{--leading-underscore}]
        [object-file @@dots{}]
@@c man end
@@end smallexample

@@c man begin DESCRIPTION dlltool

@@command{dlltool} reads its inputs, which can come from the @@option{-d} and
@@option{-b} options as well as object files specified on the command
line.  It then processes these inputs and if the @@option{-e} option has
been specified it creates a exports file.  If the @@option{-l} option
has been specified it creates a library file and if the @@option{-z} option
has been specified it creates a def file.  Any or all of the @@option{-e},
@@option{-l} and @@option{-z} options can be present in one invocation of
dlltool.

When creating a DLL, along with the source for the DLL, it is necessary
to have three other files.  @@command{dlltool} can help with the creation of
these files.

The first file is a @@file{.def} file which specifies which functions are
exported from the DLL, which functions the DLL imports, and so on.  This
is a text file and can be created by hand, or @@command{dlltool} can be used
to create it using the @@option{-z} option.  In this case @@command{dlltool}
will scan the object files specified on its command line looking for
those functions which have been specially marked as being exported and
put entries for them in the @@file{.def} file it creates.

In order to mark a function as being exported from a DLL, it needs to
have an @@option{-export:<name_of_function>} entry in the @@samp{.drectve}
section of the object file.  This can be done in C by using the
asm() operator:

@@smallexample
  asm (".section .drectve");
  asm (".ascii \"-export:my_func\"");

  int my_func (void) @@{ @@dots{} @@}
@@end smallexample

The second file needed for DLL creation is an exports file.  This file
is linked with the object files that make up the body of the DLL and it
handles the interface between the DLL and the outside world.  This is a
binary file and it can be created by giving the @@option{-e} option to
@@command{dlltool} when it is creating or reading in a @@file{.def} file.

The third file needed for DLL creation is the library file that programs
will link with in order to access the functions in the DLL (an `import
library').  This file can be created by giving the @@option{-l} option to
dlltool when it is creating or reading in a @@file{.def} file.

If the @@option{-y} option is specified, dlltool generates a delay-import
library that can be used instead of the normal import library to allow
a program to link to the dll only as soon as an imported function is
called for the first time. The resulting executable will need to be
linked to the static delayimp library containing __delayLoadHelper2(),
which in turn will import LoadLibraryA and GetProcAddress from kernel32.

@@command{dlltool} builds the library file by hand, but it builds the
exports file by creating temporary files containing assembler statements
and then assembling these.  The @@option{-S} command line option can be
used to specify the path to the assembler that dlltool will use,
and the @@option{-f} option can be used to pass specific flags to that
assembler.  The @@option{-n} can be used to prevent dlltool from deleting
these temporary assembler files when it is done, and if @@option{-n} is
specified twice then this will prevent dlltool from deleting the
temporary object files it used to build the library.

Here is an example of creating a DLL from a source file @@samp{dll.c} and
also creating a program (from an object file called @@samp{program.o})
that uses that DLL:

@@smallexample
  gcc -c dll.c
  dlltool -e exports.o -l dll.lib dll.o
  gcc dll.o exports.o -o dll.dll
  gcc program.o dll.lib -o program
@@end smallexample


@@command{dlltool} may also be used to query an existing import library
to determine the name of the DLL to which it is associated.  See the
description of the @@option{-I} or @@option{--identify} option.

@@c man end

@@c man begin OPTIONS dlltool

The command line options have the following meanings:

@@table @@env

@@item -d @@var{filename}
@@itemx --input-def @@var{filename}
@@cindex input .def file
Specifies the name of a @@file{.def} file to be read in and processed.

@@item -b @@var{filename}
@@itemx --base-file @@var{filename}
@@cindex base files
Specifies the name of a base file to be read in and processed.  The
contents of this file will be added to the relocation section in the
exports file generated by dlltool.

@@item -e @@var{filename}
@@itemx --output-exp @@var{filename}
Specifies the name of the export file to be created by dlltool.

@@item -z @@var{filename}
@@itemx --output-def @@var{filename}
Specifies the name of the @@file{.def} file to be created by dlltool.

@@item -l @@var{filename}
@@itemx --output-lib @@var{filename}
Specifies the name of the library file to be created by dlltool.

@@item -y @@var{filename}
@@itemx --output-delaylib @@var{filename}
Specifies the name of the delay-import library file to be created by dlltool.

@@item --export-all-symbols
Treat all global and weak defined symbols found in the input object
files as symbols to be exported.  There is a small list of symbols which
are not exported by default; see the @@option{--no-default-excludes}
option.  You may add to the list of symbols to not export by using the
@@option{--exclude-symbols} option.

@@item --no-export-all-symbols
Only export symbols explicitly listed in an input @@file{.def} file or in
@@samp{.drectve} sections in the input object files.  This is the default
behaviour.  The @@samp{.drectve} sections are created by @@samp{dllexport}
attributes in the source code.

@@item --exclude-symbols @@var{list}
Do not export the symbols in @@var{list}.  This is a list of symbol names
separated by comma or colon characters.  The symbol names should not
contain a leading underscore.  This is only meaningful when
@@option{--export-all-symbols} is used.

@@item --no-default-excludes
When @@option{--export-all-symbols} is used, it will by default avoid
exporting certain special symbols.  The current list of symbols to avoid
exporting is @@samp{DllMain@@@@12}, @@samp{DllEntryPoint@@@@0},
@@samp{impure_ptr}.  You may use the @@option{--no-default-excludes} option
to go ahead and export these special symbols.  This is only meaningful
when @@option{--export-all-symbols} is used.

@@item -S @@var{path}
@@itemx --as @@var{path}
Specifies the path, including the filename, of the assembler to be used
to create the exports file.

@@item -f @@var{options}
@@itemx --as-flags @@var{options}
Specifies any specific command line options to be passed to the
assembler when building the exports file.  This option will work even if
the @@option{-S} option is not used.  This option only takes one argument,
and if it occurs more than once on the command line, then later
occurrences will override earlier occurrences.  So if it is necessary to
pass multiple options to the assembler they should be enclosed in
double quotes.

@@item -D @@var{name}
@@itemx --dll-name @@var{name}
Specifies the name to be stored in the @@file{.def} file as the name of
the DLL when the @@option{-e} option is used.  If this option is not
present, then the filename given to the @@option{-e} option will be
used as the name of the DLL.

@@item -m @@var{machine}
@@itemx -machine @@var{machine}
Specifies the type of machine for which the library file should be
built.  @@command{dlltool} has a built in default type, depending upon how
it was created, but this option can be used to override that.  This is
normally only useful when creating DLLs for an ARM processor, when the
contents of the DLL are actually encode using Thumb instructions.

@@item -a
@@itemx --add-indirect
Specifies that when @@command{dlltool} is creating the exports file it
should add a section which allows the exported functions to be
referenced without using the import library.  Whatever the hell that
means!

@@item -U
@@itemx --add-underscore
Specifies that when @@command{dlltool} is creating the exports file it
should prepend an underscore to the names of @@emph{all} exported symbols.

@@item --no-leading-underscore
@@item --leading-underscore
Specifies whether standard symbol should be forced to be prefixed, or
not.

@@item --add-stdcall-underscore
Specifies that when @@command{dlltool} is creating the exports file it
should prepend an underscore to the names of exported @@emph{stdcall}
functions. Variable names and non-stdcall function names are not modified.
This option is useful when creating GNU-compatible import libs for third
party DLLs that were built with MS-Windows tools.

@@item -k
@@itemx --kill-at
Specifies that when @@command{dlltool} is creating the exports file it
should not append the string @@samp{@@@@ <number>}.  These numbers are
called ordinal numbers and they represent another way of accessing the
function in a DLL, other than by name.

@@item -A
@@itemx --add-stdcall-alias
Specifies that when @@command{dlltool} is creating the exports file it
should add aliases for stdcall symbols without @@samp{@@@@ <number>}
in addition to the symbols with @@samp{@@@@ <number>}.

@@item -p
@@itemx --ext-prefix-alias @@var{prefix}
Causes @@command{dlltool} to create external aliases for all DLL
imports with the specified prefix.  The aliases are created for both
external and import symbols with no leading underscore.

@@item -x
@@itemx --no-idata4
Specifies that when @@command{dlltool} is creating the exports and library
files it should omit the @@code{.idata4} section.  This is for compatibility
with certain operating systems.

@@item --use-nul-prefixed-import-tables
Specifies that when @@command{dlltool} is creating the exports and library
files it should prefix the @@code{.idata4} and @@code{.idata5} by zero an
element. This emulates old gnu import library generation of
@@code{dlltool}. By default this option is turned off.

@@item -c
@@itemx --no-idata5
Specifies that when @@command{dlltool} is creating the exports and library
files it should omit the @@code{.idata5} section.  This is for compatibility
with certain operating systems.

@@item -I @@var{filename}
@@itemx --identify @@var{filename}
Specifies that @@command{dlltool} should inspect the import library
indicated by @@var{filename} and report, on @@code{stdout}, the name(s)
of the associated DLL(s).  This can be performed in addition to any
other operations indicated by the other options and arguments.
@@command{dlltool} fails if the import library does not exist or is not
actually an import library. See also @@option{--identify-strict}.

@@item --identify-strict
Modifies the behavior of the @@option{--identify} option, such
that an error is reported if @@var{filename} is associated with
more than one DLL.

@@item -i
@@itemx --interwork
Specifies that @@command{dlltool} should mark the objects in the library
file and exports file that it produces as supporting interworking
between ARM and Thumb code.

@@item -n
@@itemx --nodelete
Makes @@command{dlltool} preserve the temporary assembler files it used to
create the exports file.  If this option is repeated then dlltool will
also preserve the temporary object files it uses to create the library
file.

@@item -t @@var{prefix}
@@itemx --temp-prefix @@var{prefix}
Makes @@command{dlltool} use @@var{prefix} when constructing the names of
temporary assembler and object files.  By default, the temp file prefix
is generated from the pid.

@@item -v
@@itemx --verbose
Make dlltool describe what it is doing.

@@item -h
@@itemx --help
Displays a list of command line options and then exits.

@@item -V
@@itemx --version
Displays dlltool's version number and then exits.

@@end table

@@c man end

@@menu
* def file format::             The format of the dlltool @@file{.def} file
@@end menu

@@node def file format
@@section The format of the @@command{dlltool} @@file{.def} file

A @@file{.def} file contains any number of the following commands:

@@table @@asis

@@item @@code{NAME} @@var{name} @@code{[ ,} @@var{base} @@code{]}
The result is going to be named @@var{name}@@code{.exe}.

@@item @@code{LIBRARY} @@var{name} @@code{[ ,} @@var{base} @@code{]}
The result is going to be named @@var{name}@@code{.dll}.
Note: If you want to use LIBRARY as name then you need to quote.  Otherwise
this will fail due a necessary hack for libtool (see PR binutils/13710 for more
details).

@@item @@code{EXPORTS ( ( (} @@var{name1} @@code{[ = } @@var{name2} @@code{] ) | ( } @@var{name1} @@code{=} @@var{module-name} @@code{.} @@var{external-name} @@code{) ) [ == } @@var{its_name} @@code{]}
@@item @@code{[} @@var{integer} @@code{] [ NONAME ] [ CONSTANT ] [ DATA ] [ PRIVATE ] ) *}
Declares @@var{name1} as an exported symbol from the DLL, with optional
ordinal number @@var{integer}, or declares @@var{name1} as an alias
(forward) of the function @@var{external-name} in the DLL.
If @@var{its_name} is specified, this name is used as string in export table.
@@var{module-name}.
Note: The @@code{EXPORTS} has to be the last command in .def file, as keywords
are treated - beside @@code{LIBRARY} - as simple name-identifiers.
If you want to use LIBRARY as name then you need to quote it.

@@item @@code{IMPORTS ( (} @@var{internal-name} @@code{=} @@var{module-name} @@code{.} @@var{integer} @@code{) | [} @@var{internal-name} @@code{= ]} @@var{module-name} @@code{.} @@var{external-name} @@code{) [ == ) @@var{its_name} @@code{]} *}
Declares that @@var{external-name} or the exported function whose
ordinal number is @@var{integer} is to be imported from the file
@@var{module-name}.  If @@var{internal-name} is specified then this is
the name that the imported function will be referred to in the body of
the DLL.
If @@var{its_name} is specified, this name is used as string in import table.
Note: The @@code{IMPORTS} has to be the last command in .def file, as keywords
are treated - beside @@code{LIBRARY} - as simple name-identifiers.
If you want to use LIBRARY as name then you need to quote it.

@@item @@code{DESCRIPTION} @@var{string}
Puts @@var{string} into the output @@file{.exp} file in the
@@code{.rdata} section.

@@item @@code{STACKSIZE} @@var{number-reserve} @@code{[, } @@var{number-commit} @@code{]}
@@item @@code{HEAPSIZE} @@var{number-reserve} @@code{[, } @@var{number-commit} @@code{]}
Generates @@code{--stack} or @@code{--heap}
@@var{number-reserve},@@var{number-commit} in the output @@code{.drectve}
section.  The linker will see this and act upon it.

@@item @@code{CODE} @@var{attr} @@code{+}
@@item @@code{DATA} @@var{attr} @@code{+}
@@item @@code{SECTIONS (} @@var{section-name} @@var{attr}@@code{ + ) *}
Generates @@code{--attr} @@var{section-name} @@var{attr} in the output
@@code{.drectve} section, where @@var{attr} is one of @@code{READ},
@@code{WRITE}, @@code{EXECUTE} or @@code{SHARED}.  The linker will see
this and act upon it.

@@end table

@@ignore
@@c man begin SEEALSO dlltool
The Info pages for @@file{binutils}.
@@c man end
@@end ignore

@@node readelf
@@chapter readelf

@@cindex ELF file information
@@kindex readelf

@@c man title readelf Displays information about ELF files.

@@smallexample
@@c man begin SYNOPSIS readelf
readelf [@@option{-a}|@@option{--all}]
        [@@option{-h}|@@option{--file-header}]
        [@@option{-l}|@@option{--program-headers}|@@option{--segments}]
        [@@option{-S}|@@option{--section-headers}|@@option{--sections}]
        [@@option{-g}|@@option{--section-groups}]
        [@@option{-t}|@@option{--section-details}]
        [@@option{-e}|@@option{--headers}]
        [@@option{-s}|@@option{--syms}|@@option{--symbols}]
        [@@option{--dyn-syms}]
        [@@option{-n}|@@option{--notes}]
        [@@option{-r}|@@option{--relocs}]
        [@@option{-u}|@@option{--unwind}]
        [@@option{-d}|@@option{--dynamic}]
        [@@option{-V}|@@option{--version-info}]
        [@@option{-A}|@@option{--arch-specific}]
        [@@option{-D}|@@option{--use-dynamic}]
        [@@option{-x} <number or name>|@@option{--hex-dump=}<number or name>]
        [@@option{-p} <number or name>|@@option{--string-dump=}<number or name>]
        [@@option{-R} <number or name>|@@option{--relocated-dump=}<number or name>]
        [@@option{-c}|@@option{--archive-index}]
        [@@option{-w[lLiaprmfFsoRt]}|
         @@option{--debug-dump}[=rawline,=decodedline,=info,=abbrev,=pubnames,=aranges,=macro,=frames,=frames-interp,=str,=loc,=Ranges,=pubtypes,=trace_info,=trace_abbrev,=trace_aranges,=gdb_index]]
        [@@option{--dwarf-depth=@@var{n}}]
        [@@option{--dwarf-start=@@var{n}}]
        [@@option{-I}|@@option{--histogram}]
        [@@option{-v}|@@option{--version}]
        [@@option{-W}|@@option{--wide}]
        [@@option{-H}|@@option{--help}]
        @@var{elffile}@@dots{}
@@c man end
@@end smallexample

@@c man begin DESCRIPTION readelf

@@command{readelf} displays information about one or more ELF format object
files.  The options control what particular information to display.

@@var{elffile}@@dots{} are the object files to be examined.  32-bit and
64-bit ELF files are supported, as are archives containing ELF files.

This program performs a similar function to @@command{objdump} but it
goes into more detail and it exists independently of the @@sc{bfd}
library, so if there is a bug in @@sc{bfd} then readelf will not be
affected.

@@c man end

@@c man begin OPTIONS readelf

The long and short forms of options, shown here as alternatives, are
equivalent.  At least one option besides @@samp{-v} or @@samp{-H} must be
given.

@@table @@env
@@item -a
@@itemx --all
Equivalent to specifying @@option{--file-header},
@@option{--program-headers}, @@option{--sections}, @@option{--symbols},
@@option{--relocs}, @@option{--dynamic}, @@option{--notes} and
@@option{--version-info}.

@@item -h
@@itemx --file-header
@@cindex ELF file header information
Displays the information contained in the ELF header at the start of the
file.

@@item -l
@@itemx --program-headers
@@itemx --segments
@@cindex ELF program header information
@@cindex ELF segment information
Displays the information contained in the file's segment headers, if it
has any.

@@item -S
@@itemx --sections
@@itemx --section-headers
@@cindex ELF section information
Displays the information contained in the file's section headers, if it
has any.

@@item -g
@@itemx --section-groups
@@cindex ELF section group information
Displays the information contained in the file's section groups, if it
has any.

@@item -t
@@itemx --section-details
@@cindex ELF section information
Displays the detailed section information. Implies @@option{-S}.

@@item -s
@@itemx --symbols
@@itemx --syms
@@cindex ELF symbol table information
Displays the entries in symbol table section of the file, if it has one.

@@item --dyn-syms
@@cindex ELF dynamic symbol table information
Displays the entries in dynamic symbol table section of the file, if it
has one.

@@item -e
@@itemx --headers
Display all the headers in the file.  Equivalent to @@option{-h -l -S}.

@@item -n
@@itemx --notes
@@cindex ELF notes
Displays the contents of the NOTE segments and/or sections, if any.

@@item -r
@@itemx --relocs
@@cindex ELF reloc information
Displays the contents of the file's relocation section, if it has one.

@@item -u
@@itemx --unwind
@@cindex unwind information
Displays the contents of the file's unwind section, if it has one.  Only
the unwind sections for IA64 ELF files, as well as ARM unwind tables
(@@code{.ARM.exidx} / @@code{.ARM.extab}) are currently supported.

@@item -d
@@itemx --dynamic
@@cindex ELF dynamic section information
Displays the contents of the file's dynamic section, if it has one.

@@item -V
@@itemx --version-info
@@cindex ELF version sections information
Displays the contents of the version sections in the file, it they
exist.

@@item -A
@@itemx --arch-specific
Displays architecture-specific information in the file, if there
is any.

@@item -D
@@itemx --use-dynamic
When displaying symbols, this option makes @@command{readelf} use the
symbol hash tables in the file's dynamic section, rather than the
symbol table sections.

@@item -x <number or name>
@@itemx --hex-dump=<number or name>
Displays the contents of the indicated section as a hexadecimal bytes.
A number identifies a particular section by index in the section table;
any other string identifies all sections with that name in the object file.

@@item -R <number or name>
@@itemx --relocated-dump=<number or name>
Displays the contents of the indicated section as a hexadecimal
bytes.  A number identifies a particular section by index in the
section table; any other string identifies all sections with that name
in the object file.  The contents of the section will be relocated
before they are displayed.

@@item -p <number or name>
@@itemx --string-dump=<number or name>
Displays the contents of the indicated section as printable strings.
A number identifies a particular section by index in the section table;
any other string identifies all sections with that name in the object file.

@@item -c
@@itemx --archive-index
@@cindex Archive file symbol index information
Displays the file symbol index information contained in the header part
of binary archives.  Performs the same function as the @@option{t}
command to @@command{ar}, but without using the BFD library.  @@xref{ar}.

@@item -w[lLiaprmfFsoRt]
@@itemx --debug-dump[=rawline,=decodedline,=info,=abbrev,=pubnames,=aranges,=macro,=frames,=frames-interp,=str,=loc,=Ranges,=pubtypes,=trace_info,=trace_abbrev,=trace_aranges,=gdb_index]
Displays the contents of the debug sections in the file, if any are
present.  If one of the optional letters or words follows the switch
then only data found in those specific sections will be dumped.

Note that there is no single letter option to display the content of
trace sections or .gdb_index.

Note: the @@option{=decodedline} option will display the interpreted
contents of a .debug_line section whereas the @@option{=rawline} option
dumps the contents in a raw format.

Note: the @@option{=frames-interp} option will display the interpreted
contents of a .debug_frame section whereas the @@option{=frames} option
dumps the contents in a raw format.

Note: the output from the @@option{=info} option can also be affected
by the options @@option{--dwarf-depth} and @@option{--dwarf-start}.

@@item --dwarf-depth=@@var{n}
Limit the dump of the @@code{.debug_info} section to @@var{n} children.
This is only useful with @@option{--debug-dump=info}.  The default is
to print all DIEs; the special value 0 for @@var{n} will also have this
effect.

With a non-zero value for @@var{n}, DIEs at or deeper than @@var{n}
levels will not be printed.  The range for @@var{n} is zero-based.

@@item --dwarf-start=@@var{n}
Print only DIEs beginning with the DIE numbered @@var{n}.  This is only
useful with @@option{--debug-dump=info}.

If specified, this option will suppress printing of any header
information and all DIEs before the DIE numbered @@var{n}.  Only
siblings and children of the specified DIE will be printed.

This can be used in conjunction with @@option{--dwarf-depth}.

@@item -I
@@itemx --histogram
Display a histogram of bucket list lengths when displaying the contents
of the symbol tables.

@@item -v
@@itemx --version
Display the version number of readelf.

@@item -W
@@itemx --wide
Don't break output lines to fit into 80 columns. By default
@@command{readelf} breaks section header and segment listing lines for
64-bit ELF files, so that they fit into 80 columns. This option causes
@@command{readelf} to print each section header resp. each segment one a
single line, which is far more readable on terminals wider than 80 columns.

@@item -H
@@itemx --help
Display the command line options understood by @@command{readelf}.

@@end table

@@c man end

@@ignore
@@c man begin SEEALSO readelf
objdump(1), and the Info entries for @@file{binutils}.
@@c man end
@@end ignore

@@node elfedit
@@chapter elfedit

@@cindex Update ELF header
@@kindex elfedit

@@c man title elfedit Update the ELF header of ELF files.

@@smallexample
@@c man begin SYNOPSIS elfedit
elfedit [@@option{--input-mach=}@@var{machine}]
        [@@option{--input-type=}@@var{type}]
        [@@option{--input-osabi=}@@var{osabi}]
        @@option{--output-mach=}@@var{machine}
        @@option{--output-type=}@@var{type}
        @@option{--output-osabi=}@@var{osabi}
        [@@option{-v}|@@option{--version}]
        [@@option{-h}|@@option{--help}]
        @@var{elffile}@@dots{}
@@c man end
@@end smallexample

@@c man begin DESCRIPTION elfedit

@@command{elfedit} updates the ELF header of ELF files which have
the matching ELF machine and file types.  The options control how and
which fields in the ELF header should be updated.

@@var{elffile}@@dots{} are the ELF files to be updated.  32-bit and
64-bit ELF files are supported, as are archives containing ELF files.
@@c man end

@@c man begin OPTIONS elfedit

The long and short forms of options, shown here as alternatives, are
equivalent. At least one of the @@option{--output-mach},
@@option{--output-type} and @@option{--output-osabi} options must be given.

@@table @@env

@@item --input-mach=@@var{machine}
Set the matching input ELF machine type to @@var{machine}.  If
@@option{--input-mach} isn't specified, it will match any ELF
machine types.

The supported ELF machine types are, @@var{L1OM}, @@var{K1OM} and
@@var{x86-64}.

@@item --output-mach=@@var{machine}
Change the ELF machine type in the ELF header to @@var{machine}.  The
supported ELF machine types are the same as @@option{--input-mach}.

@@item --input-type=@@var{type}
Set the matching input ELF file type to @@var{type}.  If
@@option{--input-type} isn't specified, it will match any ELF file types.

The supported ELF file types are, @@var{rel}, @@var{exec} and @@var{dyn}.

@@item --output-type=@@var{type}
Change the ELF file type in the ELF header to @@var{type}.  The
supported ELF types are the same as @@option{--input-type}.

@@item --input-osabi=@@var{osabi}
Set the matching input ELF file OSABI to @@var{osabi}.  If
@@option{--input-osabi} isn't specified, it will match any ELF OSABIs.

The supported ELF OSABIs are, @@var{none}, @@var{HPUX}, @@var{NetBSD},
@@var{GNU}, @@var{Linux} (alias for @@var{GNU}),
@@var{Solaris}, @@var{AIX}, @@var{Irix},
@@var{FreeBSD}, @@var{TRU64}, @@var{Modesto}, @@var{OpenBSD}, @@var{OpenVMS},
@@var{NSK}, @@var{AROS} and @@var{FenixOS}.

@@item --output-osabi=@@var{osabi}
Change the ELF OSABI in the ELF header to @@var{osabi}.  The
supported ELF OSABI are the same as @@option{--input-osabi}.

@@item -v
@@itemx --version
Display the version number of @@command{elfedit}.

@@item -h
@@itemx --help
Display the command line options understood by @@command{elfedit}.

@@end table

@@c man end

@@ignore
@@c man begin SEEALSO elfedit
readelf(1), and the Info entries for @@file{binutils}.
@@c man end
@@end ignore

@@node Common Options
@@chapter Common Options

The following command-line options are supported by all of the
programs described in this manual.

@@c man begin OPTIONS
@@table @@env
@@include at-file.texi
@@c man end

@@item --help
Display the command-line options supported by the program.

@@item --version
Display the version number of the program.

@@c man begin OPTIONS
@@end table
@@c man end

@@node Selecting the Target System
@@chapter Selecting the Target System

You can specify two aspects of the target system to the @@sc{gnu}
binary file utilities, each in several ways:

@@itemize @@bullet
@@item
the target

@@item
the architecture
@@end itemize

In the following summaries, the lists of ways to specify values are in
order of decreasing precedence.  The ways listed first override those
listed later.

The commands to list valid values only list the values for which the
programs you are running were configured.  If they were configured with
@@option{--enable-targets=all}, the commands list most of the available
values, but a few are left out; not all targets can be configured in at
once because some of them can only be configured @@dfn{native} (on hosts
with the same type as the target system).

@@menu
* Target Selection::
* Architecture Selection::
@@end menu

@@node Target Selection
@@section Target Selection

A @@dfn{target} is an object file format.  A given target may be
supported for multiple architectures (@@pxref{Architecture Selection}).
A target selection may also have variations for different operating
systems or architectures.

The command to list valid target values is @@samp{objdump -i}
(the first column of output contains the relevant information).

Some sample values are: @@samp{a.out-hp300bsd}, @@samp{ecoff-littlemips},
@@samp{a.out-sunos-big}.

You can also specify a target using a configuration triplet.  This is
the same sort of name that is passed to @@file{configure} to specify a
target.  When you use a configuration triplet as an argument, it must be
fully canonicalized.  You can see the canonical version of a triplet by
running the shell script @@file{config.sub} which is included with the
sources.

Some sample configuration triplets are: @@samp{m68k-hp-bsd},
@@samp{mips-dec-ultrix}, @@samp{sparc-sun-sunos}.

@@subheading @@command{objdump} Target

Ways to specify:

@@enumerate
@@item
command line option: @@option{-b} or @@option{--target}

@@item
environment variable @@code{GNUTARGET}

@@item
deduced from the input file
@@end enumerate

@@subheading @@command{objcopy} and @@command{strip} Input Target

Ways to specify:

@@enumerate
@@item
command line options: @@option{-I} or @@option{--input-target}, or @@option{-F} or @@option{--target}

@@item
environment variable @@code{GNUTARGET}

@@item
deduced from the input file
@@end enumerate

@@subheading @@command{objcopy} and @@command{strip} Output Target

Ways to specify:

@@enumerate
@@item
command line options: @@option{-O} or @@option{--output-target}, or @@option{-F} or @@option{--target}

@@item
the input target (see ``@@command{objcopy} and @@command{strip} Input Target'' above)

@@item
environment variable @@code{GNUTARGET}

@@item
deduced from the input file
@@end enumerate

@@subheading @@command{nm}, @@command{size}, and @@command{strings} Target

Ways to specify:

@@enumerate
@@item
command line option: @@option{--target}

@@item
environment variable @@code{GNUTARGET}

@@item
deduced from the input file
@@end enumerate

@@node Architecture Selection
@@section Architecture Selection

An @@dfn{architecture} is a type of @@sc{cpu} on which an object file is
to run.  Its name may contain a colon, separating the name of the
processor family from the name of the particular @@sc{cpu}.

The command to list valid architecture values is @@samp{objdump -i} (the
second column contains the relevant information).

Sample values: @@samp{m68k:68020}, @@samp{mips:3000}, @@samp{sparc}.

@@subheading @@command{objdump} Architecture

Ways to specify:

@@enumerate
@@item
command line option: @@option{-m} or @@option{--architecture}

@@item
deduced from the input file
@@end enumerate

@@subheading @@command{objcopy}, @@command{nm}, @@command{size}, @@command{strings} Architecture

Ways to specify:

@@enumerate
@@item
deduced from the input file
@@end enumerate

@@node Reporting Bugs
@@chapter Reporting Bugs
@@cindex bugs
@@cindex reporting bugs

Your bug reports play an essential role in making the binary utilities
reliable.

Reporting a bug may help you by bringing a solution to your problem, or
it may not.  But in any case the principal function of a bug report is
to help the entire community by making the next version of the binary
utilities work better.  Bug reports are your contribution to their
maintenance.

In order for a bug report to serve its purpose, you must include the
information that enables us to fix the bug.

@@menu
* Bug Criteria::                Have you found a bug?
* Bug Reporting::               How to report bugs
@@end menu

@@node Bug Criteria
@@section Have You Found a Bug?
@@cindex bug criteria

If you are not sure whether you have found a bug, here are some guidelines:

@@itemize @@bullet
@@cindex fatal signal
@@cindex crash
@@item
If a binary utility gets a fatal signal, for any input whatever, that is
a bug.  Reliable utilities never crash.

@@cindex error on valid input
@@item
If a binary utility produces an error message for valid input, that is a
bug.

@@item
If you are an experienced user of binary utilities, your suggestions for
improvement are welcome in any case.
@@end itemize

@@node Bug Reporting
@@section How to Report Bugs
@@cindex bug reports
@@cindex bugs, reporting

A number of companies and individuals offer support for @@sc{gnu}
products.  If you obtained the binary utilities from a support
organization, we recommend you contact that organization first.

You can find contact information for many support companies and
individuals in the file @@file{etc/SERVICE} in the @@sc{gnu} Emacs
distribution.

@@ifset BUGURL
In any event, we also recommend that you send bug reports for the binary
utilities to @@value{BUGURL}.
@@end ifset

The fundamental principle of reporting bugs usefully is this:
@@strong{report all the facts}.  If you are not sure whether to state a
fact or leave it out, state it!

Often people omit facts because they think they know what causes the
problem and assume that some details do not matter.  Thus, you might
assume that the name of a file you use in an example does not matter.
Well, probably it does not, but one cannot be sure.  Perhaps the bug is
a stray memory reference which happens to fetch from the location where
that pathname is stored in memory; perhaps, if the pathname were
different, the contents of that location would fool the utility into
doing the right thing despite the bug.  Play it safe and give a
specific, complete example.  That is the easiest thing for you to do,
and the most helpful.

Keep in mind that the purpose of a bug report is to enable us to fix the bug if
it is new to us.  Therefore, always write your bug reports on the assumption
that the bug has not been reported previously.

Sometimes people give a few sketchy facts and ask, ``Does this ring a
bell?''  This cannot help us fix a bug, so it is basically useless.  We
respond by asking for enough details to enable us to investigate.
You might as well expedite matters by sending them to begin with.

To enable us to fix the bug, you should include all these things:

@@itemize @@bullet
@@item
The version of the utility.  Each utility announces it if you start it
with the @@option{--version} argument.

Without this, we will not know whether there is any point in looking for
the bug in the current version of the binary utilities.

@@item
Any patches you may have applied to the source, including any patches
made to the @@code{BFD} library.

@@item
The type of machine you are using, and the operating system name and
version number.

@@item
What compiler (and its version) was used to compile the utilities---e.g.
``@@code{gcc-2.7}''.

@@item
The command arguments you gave the utility to observe the bug.  To
guarantee you will not omit something important, list them all.  A copy
of the Makefile (or the output from make) is sufficient.

If we were to try to guess the arguments, we would probably guess wrong
and then we might not encounter the bug.

@@item
A complete input file, or set of input files, that will reproduce the
bug.  If the utility is reading an object file or files, then it is
generally most helpful to send the actual object files.

If the source files were produced exclusively using @@sc{gnu} programs
(e.g., @@command{gcc}, @@command{gas}, and/or the @@sc{gnu} @@command{ld}), then it
may be OK to send the source files rather than the object files.  In
this case, be sure to say exactly what version of @@command{gcc}, or
whatever, was used to produce the object files.  Also say how
@@command{gcc}, or whatever, was configured.

@@item
A description of what behavior you observe that you believe is
incorrect.  For example, ``It gets a fatal signal.''

Of course, if the bug is that the utility gets a fatal signal, then we
will certainly notice it.  But if the bug is incorrect output, we might
not notice unless it is glaringly wrong.  You might as well not give us
a chance to make a mistake.

Even if the problem you experience is a fatal signal, you should still
say so explicitly.  Suppose something strange is going on, such as your
copy of the utility is out of sync, or you have encountered a bug in
the C library on your system.  (This has happened!)  Your copy might
crash and ours would not.  If you told us to expect a crash, then when
ours fails to crash, we would know that the bug was not happening for
us.  If you had not told us to expect a crash, then we would not be able
to draw any conclusion from our observations.

@@item
If you wish to suggest changes to the source, send us context diffs, as
generated by @@command{diff} with the @@option{-u}, @@option{-c}, or @@option{-p}
option.  Always send diffs from the old file to the new file.  If you
wish to discuss something in the @@command{ld} source, refer to it by
context, not by line number.

The line numbers in our development sources will not match those in your
sources.  Your line numbers would convey no useful information to us.
@@end itemize

Here are some things that are not necessary:

@@itemize @@bullet
@@item
A description of the envelope of the bug.

Often people who encounter a bug spend a lot of time investigating
which changes to the input file will make the bug go away and which
changes will not affect it.

This is often time consuming and not very useful, because the way we
will find the bug is by running a single example under the debugger
with breakpoints, not by pure deduction from a series of examples.
We recommend that you save your time for something else.

Of course, if you can find a simpler example to report @@emph{instead}
of the original one, that is a convenience for us.  Errors in the
output will be easier to spot, running under the debugger will take
less time, and so on.

However, simplification is not vital; if you do not want to do this,
report the bug anyway and send us the entire test case you used.

@@item
A patch for the bug.

A patch for the bug does help us if it is a good one.  But do not omit
the necessary information, such as the test case, on the assumption that
a patch is all we need.  We might see problems with your patch and decide
to fix the problem another way, or we might not understand it at all.

Sometimes with programs as complicated as the binary utilities it is
very hard to construct an example that will make the program follow a
certain path through the code.  If you do not send us the example, we
will not be able to construct one, so we will not be able to verify that
the bug is fixed.

And if we cannot understand what bug you are trying to fix, or why your
patch should be an improvement, we will not install it.  A test case will
help us to understand.

@@item
A guess about what the bug is or what it depends on.

Such guesses are usually wrong.  Even we cannot guess right about such
things without first using the debugger to find the facts.
@@end itemize

@@node GNU Free Documentation License
@@appendix GNU Free Documentation License

@@include fdl.texi

@@node Binutils Index
@@unnumbered Binutils Index

@@printindex cp

@@bye
@


1.206
log
@Remove the extra space

	* doc/binutils.texi: Remove the extra space.
@
text
@d2117 3
@


1.205
log
@	PR binutils/15777
	(nm --special-syms): Fix typo.
@
text
@d334 1
a334 1
Note - @@sc{gnu} @@command{ar} treats the command @@samp {qs} as a
@


1.204
log
@	PR binutils/15779
	* doc/binutils.texi (ranlib -D): Correct description.
@
text
@d1024 3
a1026 4
are not normally helpful when included included in the normal symbol
lists.  For example for ARM targets this option would skip the mapping
symbols used to mark transitions between ARM code, THUMB code and
data.
@


1.203
log
@	PR binutils/14136
	(nm): Add description of 'I' symbol type.
@
text
@d2480 4
a2483 2
This is the default unless @@file{binutils} was configured with
@@option{--enable-deterministic-archives}.
d2495 4
a2498 2
This is the default unless @@file{binutils} was configured with
@@option{--enable-deterministic-archives}.
@


1.202
log
@	PR binutils/15798
	* doc/binutils.texi (ar cmdline): Update description of 'q'
	command.
@
text
@d810 3
@


1.201
log
@	* doc/binutils.texi (nm, objdump): Remove bogus links to STABS
	documentation.
@
text
@d328 9
a336 6
Since the point of this operation is speed, the archive's symbol table
index is not updated, even if it already existed; you can use @@samp{ar s} or
@@command{ranlib} explicitly to update the symbol table index.

However, too many different systems assume quick append rebuilds the
index, so @@sc{gnu} @@command{ar} implements @@samp{q} as a synonym for @@samp{r}.
@


1.200
log
@include/coff/
2013-07-10  Tristan Gingold  <gingold@@adacore.com>

	* rs6000.h (external_core_dumpx): New structure.
	(external_ld_info32): Ditto.

binutils/
2013-07-10  Tristan Gingold  <gingold@@adacore.com>

	* od-xcoff.c (OPT_LDINFO): Define.
	(options): Add ldinfo.
	(xcoff_help): Mention ldinfo.
	(xcoff_dump): Rename to ...
	(xcoff_dump_obj): ... this.  Add a break.
	(dump_dumpx_core): New function.
	(xcoff_dump_core): Likewise.
	(xcoff_dump): Likewise.
	* doc/binutils.texi (objdump): Mention ldinfo.
@
text
@a855 4
@@ifclear man
For more information, see @@ref{Top,Stabs,Stabs Overview,stabs.info, The
``stabs'' debug format}.
@@end ifclear
a2278 4
@@ifclear man
For more information on stabs symbols, see @@ref{Top,Stabs,Stabs
Overview,stabs.info, The ``stabs'' debug format}.
@@end ifclear
@


1.199
log
@
binutils/ChangeLog:
* doc/binutils.texi: Document -Mvirt disassembler option.

gas/ChangeLog:
* config/tc-mips.c (struct mips_set_options): New ase_virt field.
(mips_opts): Update for the new field.
(file_ase_virt): New variable.
(ISA_SUPPORTS_VIRT_ASE): New macro.
(ISA_SUPPORTS_VIRT64_ASE): New macro.
(MIPS_CPU_ASE_VIRT): New define.
(is_opcode_valid): Handle ase_virt.
(macro_build): Handle "+J".
(validate_mips_insn): Likewise.
(mips_ip): Likewise.
(enum options): Add OPTION_VIRT and OPTION_NO_VIRT.
(md_longopts): Add mvirt and mnovirt
(md_parse_option): Handle OPTION_VIRT and OPTION_NO_VIRT.
(mips_after_parse_args): Handle ase_virt field.
(s_mipsset): Handle "virt" and "novirt".
(mips_elf_final_processing): Add a comment about virt ASE might need a new flag.
(md_show_usage): Print out the usage of -mvirt and mno-virt options.
* doc/c-mips.texi: Document -mvirt and -mno-virt.
Document ".set virt" and ".set novirt".

gas/testsuite/ChangeLog:
* gas/mips/mips.exp: Run virt and virt64 testcases.
* gas/mips/virt.d: New file.
* gas/mips/virt.s: New file.
* gas/mips/virt64.d: New file.
* gas/mips/virt64.s: New file.

include/opcode/ChangeLog:
* mips.h (OP_MASK_CODE10): Correct definition.
(OP_SH_CODE10): Likewise.
Add a comment that "+J" is used now for OP_*CODE10.
(INSN_ASE_MASK): Update.
(INSN_VIRT): New macro.
(INSN_VIRT64): New macro

opcodes/ChangeLog:
* mips-dis.c (mips_arch_choices): Add INSN_VIRT to mips32r2 .
Add INSN_VIRT and INSN_VIRT64 to mips64r2.
(parse_mips_dis_option): Handle the virt option.
(print_insn_args): Handle "+J".
(print_mips_disassembler_options): Print out message about virt64.
* mips-opc.c (IVIRT): New define.
(IVIRT64): New define.
(mips_builtin_opcodes): Add dmfgc0, dmtgc0, hypcall, mfgc0, mtgc0,
tlbgr, tlbgwi, tlbginv, tlbginvf, tlbgwr, tlbgp VIRT instructions.
Move rfe to the bottom as it conflicts with tlbgp.
@
text
@d2176 2
a2177 2
@@option{loader}, @@option{except}, @@option{typchk}, @@option{traceback}
and @@option{toc}.
@


1.198
log
@	PR binutils/15140
	* ar.c (open_inarch): Fail on attempts to convert a normal archive
	to a thin archive or vice versa.
	* elfcomm.c (make_qualified_name): Handle corrupted thin
	archives.
	* readelf.c (process_archive): Likewise.
	* doc/binutils.texi: Clarify documentation describing thin
	archives.

	* archive.c (_bfd_get_elt_at_filepos): Prevent an infinite loop
	accessing a corrupt nested archive.
@
text
@d2116 3
@


1.197
log
@	PR binutils/15033
	* objcopy.c (enum change_action): Delete.
	(struct section_list): Delete remove, copy, change_vma, change_lma
	and set_flags fields.  Add context field.
	(find_section_list): Add a context parameter.  Add support for
	wildcard characters in section names.
	(is_strip_section): Check for sections being both  copied and
	removed.
	(copy_object): Pass context to find_section_list.
	(setup_section): Likewise.
	(copy_section): Likewise.
	(copy_main): Likewise.
	* doc/binutils: Document the new behaviour.
	* NEWS: Mention the new feature
@
text
@d13 1
a13 4
Copyright @@copyright{} 1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998,
1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009,
2010, 2011, 2012, 2013
Free Software Foundation, Inc.
d221 15
a235 6
of the member files of the archives.  Such an archive is useful
for building libraries for use within a local build, where the
relocatable objects are expected to remain available, and copying the
contents of each object would only waste time and space.  Thin archives
are also @@emph{flattened}, so that adding one or more archives to a
thin archive will add the elements of the nested archive individually.
@


1.196
log
@binutils/
	* objcopy.c (deterministic): Make int rather than bfd_boolean,
	initialize to -1.
	(strip_options, copy_options): Add -U/--disable-deterministic-archives.
	(default_deterministic): New function.
	(strip_main, copy_main): Handle -U.  Call default_deterministic.
	(copy_usage, strip_usage): Describe -U.  Cite whether -D or -U is
	the default based on DEFAULT_AR_DETERMINISTIC.
	* doc/binutils.texi (objcopy, strip): Describe -U and effect of
	configure options on -D.

	* ar.c (default_deterministic): Comment fix.
@
text
@d1068 2
a1069 2
        [@@option{-j} @@var{sectionname}|@@option{--only-section=}@@var{sectionname}]
        [@@option{-R} @@var{sectionname}|@@option{--remove-section=}@@var{sectionname}]
d1079 3
a1081 3
        [@@option{--change-section-address} @@var{section}@@{=,+,-@@}@@var{val}]
        [@@option{--change-section-lma} @@var{section}@@{=,+,-@@}@@var{val}]
        [@@option{--change-section-vma} @@var{section}@@{=,+,-@@}@@var{val}]
d1083 1
a1083 1
        [@@option{--set-section-flags} @@var{section}=@@var{flags}]
d1207 3
a1209 3
@@item -j @@var{sectionname}
@@itemx --only-section=@@var{sectionname}
Copy only the named section from the input file to the output file.
d1211 2
a1212 1
inappropriately may make the output file unusable.
d1214 8
a1221 5
@@item -R @@var{sectionname}
@@itemx --remove-section=@@var{sectionname}
Remove any section named @@var{sectionname} from the output file.  This
option may be given more than once.  Note that using this option
inappropriately may make the output file unusable.
d1403 2
a1404 2
@@item --change-section-address @@var{section}@@{=,+,-@@}@@var{val}
@@itemx --adjust-section-vma @@var{section}@@{=,+,-@@}@@var{val}
d1406 7
a1412 6
Set or change both the VMA address and the LMA address of the named
@@var{section}.  If @@samp{=} is used, the section address is set to
@@var{val}.  Otherwise, @@var{val} is added to or subtracted from the
section address.  See the comments under @@option{--change-addresses},
above. If @@var{section} does not exist in the input file, a warning will
be issued, unless @@option{--no-change-warnings} is used.
d1414 1
a1414 1
@@item --change-section-lma @@var{section}@@{=,+,-@@}@@var{val}
d1416 19
a1434 4
Set or change the LMA address of the named @@var{section}.  The LMA
address is the address where the section will be loaded into memory at
program load time.  Normally this is the same as the VMA address, which
is the address of the section at program run time, but on some systems,
d1439 2
a1440 15
above.  If @@var{section} does not exist in the input file, a warning
will be issued, unless @@option{--no-change-warnings} is used.

@@item --change-section-vma @@var{section}@@{=,+,-@@}@@var{val}
@@cindex changing section VMA
Set or change the VMA address of the named @@var{section}.  The VMA
address is the address where the section will be located once the
program has started executing.  Normally this is the same as the LMA
address, which is the address where the section will be loaded into
memory, but on some systems, especially those where a program is held in
ROM, the two can be different.  If @@samp{=} is used, the section address
is set to @@var{val}.  Otherwise, @@var{val} is added to or subtracted
from the section address.  See the comments under
@@option{--change-addresses}, above.  If @@var{section} does not exist in
the input file, a warning will be issued, unless
d1446 2
a1447 2
@@option{--change-section-vma} is used, and the named section does not
exist, issue a warning.  This is the default.
d1453 1
a1453 1
if the named section does not exist.
d1455 10
a1464 10
@@item --set-section-flags @@var{section}=@@var{flags}
Set the flags for the named section.  The @@var{flags} argument is a
comma separated string of flag names.  The recognized names are
@@samp{alloc}, @@samp{contents}, @@samp{load}, @@samp{noload},
@@samp{readonly}, @@samp{code}, @@samp{data}, @@samp{rom}, @@samp{share}, and
@@samp{debug}.  You can set the @@samp{contents} flag for a section which
does not have contents, but it is not meaningful to clear the
@@samp{contents} flag of a section which does have contents--just remove
the section instead.  Not all flags are meaningful for all object file
formats.
d2797 3
a2799 1
inappropriately may make the output file unusable.
@


1.195
log
@	* ld.texinfo: Replace @@ with @@@@ when it is part of the text.
	Correct ordering of M68HC11 entry.

	* doc/binutils.texi: Fix ordering of top level nodes.
	Replace erroneous uses of @@itemx with @@item.

	* bfd.texinfo: Replace @@ with @@@@ when it is part of the text.
@
text
@d1072 1
d1341 2
d1347 16
d2740 1
d2833 2
d2839 16
@


1.194
log
@* doc/binutils.texi (elfedit): Fix use of @@itemx in @@table.
@
text
@a150 1
* readelf::                     Display the contents of ELF format files
a153 1
* elfedit::                     Update the ELF header of ELF files
d158 1
a159 1
* windmc::			Generator for Windows message resources
d161 2
d2910 1
a2910 1
@@node c++filt, addr2line, elfedit, Top
@


1.193
log
@	* doc/binutils.texi (nm): Alpha-sort the option descriptions.
	Add description of the --synthetic option.
@
text
@d15 1
a15 1
2010, 2011, 2012
d4387 1
a4387 1
@@itemx --input-mach=@@var{machine}
d4395 1
a4395 1
@@itemx --output-mach=@@var{machine}
d4399 1
a4399 1
@@itemx --input-type=@@var{type}
d4405 1
a4405 1
@@itemx --output-type=@@var{type}
d4409 1
a4409 1
@@itemx --input-osabi=@@var{osabi}
d4419 1
a4419 1
@@itemx --output-osabi=@@var{osabi}
@


1.192
log
@typo fixes
@
text
@d726 13
a738 11
nm [@@option{-a}|@@option{--debug-syms}]
   [@@option{-g}|@@option{--extern-only}][@@option{--plugin} @@var{name}]
   [@@option{-B}] [@@option{-C}|@@option{--demangle}[=@@var{style}]] [@@option{-D}|@@option{--dynamic}]
   [@@option{-S}|@@option{--print-size}] [@@option{-s}|@@option{--print-armap}]
   [@@option{-A}|@@option{-o}|@@option{--print-file-name}][@@option{--special-syms}]
   [@@option{-n}|@@option{-v}|@@option{--numeric-sort}] [@@option{-p}|@@option{--no-sort}]
   [@@option{-r}|@@option{--reverse-sort}] [@@option{--size-sort}] [@@option{-u}|@@option{--undefined-only}]
   [@@option{-t} @@var{radix}|@@option{--radix=}@@var{radix}] [@@option{-P}|@@option{--portability}]
   [@@option{--target=}@@var{bfdname}] [@@option{-f}@@var{format}|@@option{--format=}@@var{format}]
   [@@option{--defined-only}] [@@option{-l}|@@option{--line-numbers}] [@@option{--no-demangle}]
   [@@option{-V}|@@option{--version}] [@@option{-X 32_64}] [@@option{--help}]  [@@var{objfile}@@dots{}]
d925 3
a927 5
@@item --plugin @@var{name}
@@cindex load plugin
Load the plugin called @@var{name} to add support for extra target
types.  This option is only available if the toolchain has been built
with plugin support enabled.
d955 5
d974 31
a1004 4
@@item -r
@@itemx --reverse-sort
Reverse the order of the sort (whether numeric or alphabetic); let the
last come first.
d1021 4
a1024 4
@@item -t @@var{radix}
@@itemx --radix=@@var{radix}
Use @@var{radix} as the radix for printing the symbol values.  It must be
@@samp{d} for decimal, @@samp{o} for octal, or @@samp{x} for hexadecimal.
a1030 23
@@item -u
@@itemx --undefined-only
@@cindex external symbols
@@cindex undefined symbols
Display only undefined symbols (those external to each object file).

@@item --defined-only
@@cindex external symbols
@@cindex undefined symbols
Display only defined symbols for each object file.

@@item -V
@@itemx --version
Show the version number of @@command{nm} and exit.

@@item -X
This option is ignored for compatibility with the AIX version of
@@command{nm}.  It takes one parameter which must be the string
@@option{32_64}.  The default mode of AIX @@command{nm} corresponds
to @@option{-X 32}, which is not supported by @@sc{gnu} @@command{nm}.

@@item --help
Show a summary of the options to @@command{nm} and exit.
@


1.191
log
@	* doc/binutils.texi: Add --dwarf-check option.
	* dwarf.c (dwarf_check): New global flag.
	(fetch_indexed_string): New function.
	(fetch_indexed_value): New function.
	(get_FORM_name): Add DW_FORM_GNU_str_index and DW_FORM_GNU_addr_index.
	(decode_location_expression): Add DW_OP_GNU_addr_index.
	(read_and_display_attr_value): Add DW_FORM_GNU_str_index,
	DW_FORM_GNU_addr_index, DW_AT_GNU_addr_base, and DW_AT_GNU_ranges_base.
	(get_AT_name): Add new attributes for Fission.
	(process_debug_info): Load new debug sections for Fission.
	(load_debug_info): Check for .debug_info.dwo section.
	(display_loc_list, display_loc_list_dwo): New functions.
	(display_debug_loc): Move logic to above two functions.
	(display_debug_info): Choose abbrev section based on info section.
	(display_debug_types): Likewise.
	(display_trace_info): Likewise.
	(comp_addr_base): New function.
	(display_debug_addr): New function.
	(display_debug_str_offsets): New function.
	(display_debug_ranges): Allow missing range lists.  Suppress
	diagnostics if dwarf_check not set.
	(debug_displays): Add column to select abbrev section.
	* dwarf.h (enum dwarf_section_display_enum): Add new debug sections
	for Fission.
	(struct dwarf_section): Add abbrev_sec field.
	(struct dwarf_section_display): New type.
	(debug_info): Add addr_base, ranges_base fields.
	(dwarf_check): New global variable.
	* objdump.c (usage): Add --dwarf-check option.
	(enum option_values): Add OPTION_DWARF_CHECK.
	(long_options): Add --dwarf-check.
	(main): Likewise.
	* readelf.c (OPTION_DWARF_CHECK): New macro.
	(options): Add --dwarf-check.
	(parse_args): Likewise.
	(process_section_headers): Use const_strneq instead of
	streq.
@
text
@d134 1
a134 1
Genertor for Windows message resources
d4226 1
a4226 1
@@cindex ELF version sections informations
d4264 1
a4264 1
Displays the file symbol index infomation contained in the header part
@


1.191.2.1
log
@binutils/
	* objcopy.c (deterministic): Make int rather than bfd_boolean,
	initialize to -1.
	(strip_options, copy_options): Add -U/--disable-deterministic-archives.
	(default_deterministic): New function.
	(strip_main, copy_main): Handle -U.  Call default_deterministic.
	(copy_usage, strip_usage): Describe -U.  Cite whether -D or -U is
	the default based on DEFAULT_AR_DETERMINISTIC.
	* doc/binutils.texi (objcopy, strip): Describe -U and effect of
	configure options on -D.

	* ar.c (default_deterministic): Comment fix.
@
text
@a1062 1
        [@@option{-U}|@@option{--disable-deterministic-archives}]
a1330 2
@@cindex deterministic archives
@@kindex --enable-deterministic-archives
a1334 16
If @@file{binutils} was configured with
@@option{--enable-deterministic-archives}, then this mode is on by default.
It can be disabled with the @@samp{-U} option, below.

@@item -U
@@itemx --disable-deterministic-archives
@@cindex deterministic archives
@@kindex --enable-deterministic-archives
Do @@emph{not} operate in @@emph{deterministic} mode.  This is the
inverse of the @@option{-D} option, above: when copying archive members
and writing the archive index, use their actual UID, GID, timestamp,
and file mode values.

This is the default unless @@file{binutils} was configured with
@@option{--enable-deterministic-archives}.

a2711 1
      [@@option{-U}|@@option{--disable-deterministic-archives}]
a2803 2
@@cindex deterministic archives
@@kindex --enable-deterministic-archives
a2807 16
If @@file{binutils} was configured with
@@option{--enable-deterministic-archives}, then this mode is on by default.
It can be disabled with the @@samp{-U} option, below.

@@item -U
@@itemx --disable-deterministic-archives
@@cindex deterministic archives
@@kindex --enable-deterministic-archives
Do @@emph{not} operate in @@emph{deterministic} mode.  This is the
inverse of the @@option{-D} option, above: when copying archive members
and writing the archive index, use their actual UID, GID, timestamp,
and file mode values.

This is the default unless @@file{binutils} was configured with
@@option{--enable-deterministic-archives}.

@


1.190
log
@binutils/

	* doc/binutils.texi (objcopy): Add --strip-dwo, --extract-dwo options.
	(strip): Add --strip-dwo option.
	* objcopy.c (enum strip_action): Add STRIP_DWO, STRIP_NONDWO.
	(enum command_line_switch): Add OPTION_EXTRACT_DWO, OPTION_STRIP_DWO.
	(strip_options): Add --strip-dwo option.
	(copy_options): Add --extract-dwo, --strip-dwo options.
	(copy_usage): Likewise.
	(strip_usage): Add --strip-dwo option.
	(is_dwo_section): New function.
	(is_strip_section_1): Check for DWO sections.
	(copy_object): Check for --strip-dwo, --extract-dwo options.
	(copy_relocations_in_section): Discard relocations for DWO sections.
	Discard entire relocation section when no relocations.
	(strip_main): Add --strip-dwo option.
	(copy_main): Add --strip-dwo, --extract-dwo options.
@
text
@d2201 2
a2202 1
by the options @@option{--dwarf-depth} and @@option{--dwarf-start}.
d2223 3
@


1.189
log
@	* doc/binutils.texi: Add -D/--enable-deterministic-archives option
	to strip and objcopy.
	* objcopy.c (deterministic): New global variable.
	(strip_options): Add --enable-deterministic-archives.
	(copy_options): Likewise.
	(copy_usage): Likewise.
	(strip_usage): Likewise.
	(copy_archive): When stripping all, don't add archive map; set
	deterministic output when requested.
	(strip_main): Add -D/--enable-deterministic-archives option.
	(copy_main): Likewise.
@
text
@d1097 2
d1669 15
d2700 1
d2769 6
@


1.188
log
@	* doc/binutils.texi (c++filt): Fix typos.
@
text
@d1062 1
d1327 6
d2689 1
d2774 6
@


1.187
log
@	PR binutils/13710
	* defparse.y (keyword_as_name): Disable LIBRARY
	keyword.
	* doc/binutils.texi: Document LIBRARY exception.

	PR binutils/13710
	* deffilep.y (keyword_as_name): Disable LIBRARY
	keyword.
@
text
@d2869 2
a2870 2
c++filt [@@option{-_}|@@option{--strip-underscores}]
        [@@option{-n}|@@option{--no-strip-underscores}]
d2950 1
a2950 1
@@itemx --strip-underscores
d2957 1
a2957 1
@@itemx --no-strip-underscores
@


1.186
log
@	PR binutils/13493
	* ar.c (ranlib_main): Process --plugin option.
	* doc/binutils.texi: Document --plugin support for ranlib.
@
text
@d3990 3
d4001 3
d4012 3
@


1.185
log
@	* configure.in (--enable-deterministic-archives): Grok new
	argument.  Set DEFAULT_AR_DETERMINISTIC to 1 or 0 accordingly.
	* configure: Regenerated.
	* config.in: Regenerated.
	* ar.c (deterministic): Initialize to -1.
	(decode_options, ranlib_main): Grok U option.
	(usage, ranlib_usage): Mention U; say for D and U which is the default.
	(default_deterministic): New function.
	(ranlib_main): Call it.
	(main): Likewise.  Make newer_only && deterministic error
	non-fatal if it was just DEFAULT_AR_DETERMINISTIC and not the D option.
	* doc/binutils.texi (ar cmdline, ranlib): Document U modifier and
	--enable-deterministic-archives behavior.
@
text
@d13 3
a15 2
Copyright @@copyright{} 1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999,
2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011
d2368 1
a2368 1
ranlib [@@option{-DhHvVt}] @@var{archive}
@


1.184
log
@	* ar.c (ranlib_usage): Describe -D.
	(ranlib_main): Parse -D.
	(ranlib_touch): Set BFD_DETERMINISTIC_OUTPUT under -D.
	* doc/binutils.texi (ranlib): Describe -D, and also --help/-h/-H.
@
text
@d421 1
d429 4
d501 10
d2404 1
d2409 3
d2414 10
@


1.183
log
@2011-10-13  Nick Clifton  <nickc@@redhat.com>

	Fixes to aid translation:
	* addr2line.c (translate_address): Add comments describing context
	of a couple of printf statements.
	* ar.c (write_archive): Allow translation of error message.
	* bucomm.c (endian_string): Allow translation of strings.
	(display_target_list): Allow translation.
	* coffdump.c (dump_coff_type): Allow translation of output.
	(dump_coff_where): Likewise.
	(dump_coff_symbol): Likewise.
	(dump_coff_scope): Likewise.
	(dump_coff_sfile): Likewise.
	(dump_coff_section): Likewise.
	(coff_dump): Likewise.
	* dlltool (def_version): Allow translation of output.
	(run): Likewise.
	* dllwrap.c (run): Allow translation of output.
	* dwarf.c (print_dwarf_vma): Allow translation of output.
	(process_extended_line_op): Remove spurious translation.
	Add translation for strings that can be translated.
	(decode_location_exression): Allow translation of output.
	(read_and_display_attr_value): Allow translation of output.
	* readelf.c (slurp_rela_relocs): Add translation for error
	messages when failing to get data.
	(slurp_rel_relocs): Likewise.
	(get_32bit_elf_symbols): Likewise.
	(get_64bit_elf_symbols): Likewise.
	(dump_ia64_vms_dynamic_relocs): Replace abbreviation with full
	word.
	(process_relocs): Remove spurious translation.
	(decode_tic6x_unwind_bytecode): Likewise.
	(process_version_section): Improve error messages.
	(process_mips_specific): Likewise.
	(print_gnu_note): Remove spurious translation.
	(print_stapsdt_note): Likewise.
	(get_ia64_vms_note_type): Likewise.
	* sysdump.c (getCHARS): Allow translation.
	(fillup): Allow translation of output.
	(getone): Likewise.
	(must): Likewise.
	(derived_type): Likewise.
	* doc/binutils.doc (addr2line): Extend description of command line
	options.
	* po/binutils.pot: Regenerate.
@
text
@d179 1
a179 1
ar [@@option{--plugin} @@var{name}] [-]@@var{p}[@@var{mod} [@@var{relpos}] [@@var{count}]] [@@option{--target} @@var{bfdname}] @@var{archive} [@@var{member}@@dots{}] 
d1439 1
a1439 1
is left undefined whether the @@samp{enable} option might force the 
d2128 1
a2128 1
@@option{-S}. 
d2145 1
a2145 1
@@cindex Instruction width 
d2352 1
a2352 1
ranlib [@@option{-vVt}] @@var{archive}
d2377 5
d2387 6
d3738 1
a3738 1
to determine the name of the DLL to which it is associated.  See the 
d3740 1
a3740 1
 
d4730 1
a4730 1
 
@


1.182
log
@Add initial Intel K1OM support.

bfd/

2011-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (ALL_MACHINES): Add cpu-k1om.lo.
	(ALL_MACHINES_CFILES): Add cpu-k1om.c.
	* Makefile.in: Regenerated.

	* archures.c (bfd_architecture): Add bfd_arch_k1om.
	(bfd_k1om_arch): New.
	(bfd_archures_list): Add &bfd_k1om_arch.
	* bfd-in2.h: Regenerated.

	* config.bfd (targ64_selvecs): Add bfd_elf64_k1om_vec if
	bfd_elf64_x86_64_vec is supported.  Add bfd_elf64_k1om_freebsd_vec
	if bfd_elf64_x86_64_freebsd_vec is supported.
	(targ_selvecs): Likewise.

	* configure.in: Support bfd_elf64_k1om_vec and
	bfd_elf64_k1om_freebsd_vec.
	* configure: Regenerated.

	* cpu-k1om.c: New.

	* elf64-x86-64.c (elf64_k1om_elf_object_p): New.
	(bfd_elf64_k1om_vec): Likewise.
	(bfd_elf64_k1om_freebsd_vec): Likewise.

	* targets.c (bfd_elf64_k1om_vec): New.
	(bfd_elf64_k1om_freebsd_vec): Likewise.
	(_bfd_target_vector): Add bfd_elf64_k1om_vec and
	bfd_elf64_k1om_freebsd_vec.

binutils/

2011-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* dwarf.c (init_dwarf_regnames): Handle EM_K1OM.

	* elfedit.c (elf_machine): Support EM_K1OM.
	(elf_class): Likewise.

	* readelf.c (guess_is_rela): Handle EM_K1OM.
	(dump_relocations): Likewise.
	(get_machine_name): Likewise.
	(get_section_type_name): Likewise.
	(get_elf_section_flags): Likewise.
	(process_section_headers): Likewise.
	(get_symbol_index_type): Likewise.
	(is_32bit_abs_reloc): Likewise.
	(is_32bit_pcrel_reloc): Likewise.
	(is_64bit_abs_reloc): Likewise.
	(is_64bit_pcrel_reloc): Likewise.
	(is_none_reloc): Likewise.

	* doc/binutils.texi: Mention K1OM for elfedit.

binutils/testsuite/

2011-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/elfedit.exp: Run elfedit-4.

	* binutils-all/elfedit-4.d: New.

gas/

2011-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (cpu_arch): Add k1om.
	(i386_align_code): Handle PROCESSOR_K1OM.
	(check_cpu_arch_compatible): Check EM_K1OM.
	(i386_arch): Handle Intel K1OM.
	(i386_mach): Return bfd_mach_k1om for Intel K1OM.
	(i386_target_format): Return ELF_TARGET_K1OM_FORMAT for Intel
	K1OM.

	* config/tc-i386.h (ELF_TARGET_K1OM_FORMAT): New.
	(processor_type): Add PROCESSOR_K1OM.

	* doc/c-i386.texi: Document k1om.

gas/testsuite/

2011-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/k1om.d: New.
	* gas/i386/k1om-inval.l: Likewise.
	* gas/i386/k1om-inval.s: Likewise.

	* gas/i386/i386.exp: Run k1om-inval and k1om.

include/elf/

2011-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* common.h (EM_K1OM): New.

ld/

2011-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (ALL_64_EMULATIONS): Add eelf_k1om.o and
	eelf_k1om_fbsd.o
	(eelf_k1om.c): New.
	(eelf_k1om_fbsd.c): Likewise.
	* Makefile.in: Regenerated.

	* configure.tgt (targ64_extra_emuls): Add elf_k1om if elf_x86_64
	is supported.  Add elf_k1om_fbsd if elf_x86_64_fbsd is supported.
	(targ_extra_emuls): Likewise.

	* emulparams/elf_k1om.sh: New.
	* emulparams/elf_k1om_fbsd.sh: Likewise.

ld/testsuite/

2011-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* ld-x86-64/abs-k1om.d: New.
	* ld-x86-64/protected2-k1om.d: Likewise.
	* ld-x86-64/protected3-k1om.d: Likewise.

	* ld-x86-64/x86-64.exp: Run abs-k1om, protected2-k1om and
	protected3-k1om.

opcodes/

2011-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* configure.in: Handle bfd_k1om_arch.
	* configure: Regenerated.

	* disassemble.c (disassembler): Handle bfd_k1om_arch.

	* i386-dis.c (print_insn): Handle bfd_mach_k1om and
	bfd_mach_k1om_intel_syntax.

	* i386-gen.c (cpu_flag_init): Set CPU_UNKNOWN_FLAGS to
	~(CpuL1OM|CpuK1OM).  Add CPU_K1OM_FLAGS.
	(cpu_flags): Add CpuK1OM.

	* i386-opc.h (CpuK1OM): New.
	(i386_cpu_flags): Add cpuk1om.

	* i386-init.h: Regenerated.
	* i386-tbl.h: Likewise.
@
text
@d3043 19
a3061 5
line number for each address is printed on a separate line.  If the
@@command{-f} option is used, then each @@samp{FILENAME:LINENO} line is
preceded by a @@samp{FUNCTIONNAME} line which is the name of the function
containing the address.  If the @@command{-a} option is used, then the
address read is first printed.
d3077 1
a3077 1
Display address before function names or file and line number
@


1.181
log
@ELFOSABI_GNU

	bfd/
	* elf.c (_bfd_elf_set_osabi): Use ELFOSABI_GNU name instead of
	ELFOSABI_LINUX alias.
	* elf32-hppa.c: Likewise.
	* elf32-i370.c: Likewise.
	* elf64-hppa.c: Likewise.

	binutils/
	* elfedit.c (osabis): Use ELFOSABI_GNU name instead of ELFOSABI_LINUX
	alias and ELFOSABI_HURD.  Add GNU alias.
	* readelf.c (get_osabi_name, get_symbol_binding, get_symbol_type):
	Likewise.
	* doc/binutils.texi <elfedit>: Update accordingly.

	elfcpp/
	* elfcpp.h (ELFOSABI): Add ELFOSABI_GNU with value of ELFOSABI_LINUX,
	keep ELFOSABI_LINUX as an alias.  Remove ELFOSABI_HURD.

	gas/
	* config/obj-elf.c (obj_elf_type): Use ELFOSABI_GNU name instead of
	ELFOSABI_LINUX alias.
	* config/tc-ia64.c: Likewise.

	include/elf/
	* common.h (ELFOSABI_GNU): Define, replaces...
	(ELFOSABI_LINUX): ... this, kept as an alias.
	(ELFOSABI_HURD): Remove.

	ld/testsuite/
	* ld-ifunc/ifunc.exp: Update for changed output.
	* ld-unique/unique.exp: Likewise.
@
text
@d4277 2
a4278 1
The supported ELF machine types are, @@var{L1OM} and @@var{x86-64}.
@


1.180
log
@	PR binutils/12325
	* doc/binutils.texi (ar cmdline): Document --target, --version and
	--help command line options.
@
text
@d4298 2
a4299 1
@@var{Linux}, @@var{Hurd}, @@var{Solaris}, @@var{AIX}, @@var{Irix},
@


1.179
log
@	PR binutils/12753
	* nm.c (filter_symbols): Treat unique symbols as global symbols.
	* doc/binutils.texi (nm): Mention that some lowercase letters
	actually indicate global symbols.

	* lib/utils-lib.exp (run_dump_test): Allow nm as a program.
	* binutils-all/nm.exp: Test running "nm -g" on an object file
	containing a unique symbol.
@
text
@d179 1
a179 1
ar [@@option{--plugin} @@var{name}] [-]@@var{p}[@@var{mod} [@@var{relpos}] [@@var{count}]] @@var{archive} [@@var{member}@@dots{}]
d254 1
a254 1
ar [@@option{--plugin} @@var{name}] [@@option{-X32_64}] [@@option{-}]@@var{p}[@@var{mod} [@@var{relpos}] [@@var{count}]] @@var{archive} [@@var{member}@@dots{}]
d386 7
d516 5
@


1.178
log
@2011-05-16  Tristan Gingold  <gingold@@adacore.com>

	* od-xcoff.c: New file.
	* objdump.h: New file.
	* objdump.c: Include objdump.h
	(dump_private_options, objdump_private_vectors): New variables.
	(usage): Mention -P/--private.  Display handled options.
	(long_options): Add -P/--private.
	(dump_target_specific): New function.
	(dump_bfd): Handle dump_private_options.
	(main): Handle -P.
	* doc/binutils.texi (objdump): Document -P/--private.
	* configure.in (OBJDUMP_PRIVATE_VECTORS, OBJDUMP_PRIVATE_OFILES):
	New variables, compute them.
	(od_vectors): Add vectors for private dumpers. Make them uniq.
	(OBJDUMP_DEFS): Add OBJDUMP_PRIVATE_VECTORS.
	* Makefile.am (HFILES): Add objdump.h
	(CFILES): Add od-xcoff.c
	(OBJDUMP_PRIVATE_OFILES): New variable.
	(objdump_DEPENDENCIES): Append OBJDUMP_PRIVATE_OFILES.
	(objdump_LDADD): Ditto.
	(EXTRA_objdump_SOURCES): Define.
	* Makefile.in: Regenerate.
	* configure: Regenerate.
@
text
@d727 3
a729 1
local; if uppercase, the symbol is global (external).
@


1.177
log
@	* NEWS: Add note about --dwarf-depth, --dwarf-start, and
	dwarf-mode.el.
	* objdump.c (suppress_bfd_header): New global.
	(usage): Update.
	(OPTION_DWARF_DEPTH, OPTION_DWARF_START): New constants.
	(options): Add dwarf-depth and dwarf-start entries.
	(dump_bfd): Use suppress_bfd_header.
	(main): Handle OPTION_DWARF_START, OPTION_DWARF_DEPTH.
	* doc/binutils.texi (objcopy): Document --dwarf-depth and
	--dwarf-start.
	(readelf): Likewise.
	* dwarf-mode.el: New file.
	* dwarf.c (dwarf_cutoff_level, dwarf_start_die): New globals.
	(read_and_display_attr_value): Also check debug_info_p.
	(process_debug_info): Handle dwarf_start_die and
	dwarf_cutoff_level.
	* dwarf.h (dwarf_cutoff_level, dwarf_start_die): Declare.
	* readelf.c (usage): Update.
	(OPTION_DWARF_DEPTH): New macro.
	(OPTION_DWARF_START): Likewise.
	(options): Add dwarf-depth and dwarf-start entries.
	(parse_args): Handle OPTION_DWARF_START and OPTION_DWARF_DEPTH.
testsuite
	* binutils-all/objdump.W: Correct output.
@
text
@d1747 1
d1791 1
a1791 1
@@option{-a,-d,-D,-e,-f,-g,-G,-h,-H,-p,-r,-R,-s,-S,-t,-T,-V,-x} must be given.
d2070 11
@


1.176
log
@	* windres.c (usage): Add new --preprocessor-arg option.
	(option_values): Add new OPTION_PREPROCESSOR_ARG enumerator.
	(option long_options): Add preprocessor-arg option.
	(main): Handle it.
	* doc/binutils.texi: Add documentation for --preprocessor-arg
	option.
	* NEWS: Add line about new --preprocessor-arg option for windres.

	* binutils-all/windres/windres.exp: Add '// cpparg <option>' command
	to rc file interpretation to specify addition pre-processor commands
	as script option.
	* binutils-all/windres/strtab3.rc: New.
	* binutils-all/windres/strtab3.rsd: New.
	* binutils-all/windres/README: Add note about cpparg script option.
	argument
@
text
@d1079 2
d2134 22
d3984 2
d4153 22
@


1.175
log
@Fix typos in elfedit documentation.

2010-12-12  Peter Breitenlohner  <peb@@mppmu.mpg.de>

	PR binutils/12306
	* doc/binutils.texi: Fix typos in elfedit documentation.
@
text
@d14 1
a14 1
2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010
d3453 7
@


1.174
log
@	* dwarf.c: #include "bfd_stdint.h".
	(do_gdb_index): New global.
	(display_gdb_index): New function.
	(dwarf_select_sections_by_names) Add "gdb_index".
	(dwarf_select_sections_all): Set do_gdb_index.
	(debug_displays): Add .gdb_index.
	* dwarf.h (do_gdb_index): Declare.
	* objdump.c (usage): Add gdb_index.
	* readelf.c (usage): Add gdb_index.
	(process_section_headers): Process ".gdb_index".
	* doc/binutils.texi (readelf): Document gdb_index dump.
	(objdump): Ditto.
@
text
@d4163 1
a4163 1
        [@@option{--input-osabi=}@@var{osbi}]
d4166 1
a4166 1
        @@option{--output-osabi=}@@var{osbi}
d4213 1
a4213 1
Set the matching input ELF file OSABI to @@var{osbi}.  If
d4222 1
a4222 1
Change the ELF OSABI in the ELF header to @@var{type}.  The
@


1.173
log
@Add compressed debug section support to binutils and ld.

bfd/

2010-10-29  H.J. Lu  <hongjiu.lu@@intel.com>
	    Cary Coutant  <ccoutant@@google.com>

	* archive.c (bfd_openr_next_archived_file): Copy BFD_COMPRESS
	and BFD_DECOMPRESS.

	* bfd.c (BFD_COMPRESS): New.
	(BFD_DECOMPRESS): Likewise.
	(BFD_FLAGS_SAVED): Likewise.
	(bfd_preserve_save): Replace BFD_IN_MEMORY with BFD_FLAGS_SAVED.

	* compress.c (bfd_uncompress_section_contents): Removed.
	(get_uncompressed_size): New.
	(decompress_contents): Likewise.
	(bfd_compress_section_contents): Likewise.
	(bfd_get_full_section_contents): Likewise.
	(bfd_is_section_compressed): Likewise.
	(bfd_init_section_decompress_status): Likewise.
	(bfd_init_section_compress_status): Likewise.

	* dwarf2.c (dwarf_debug_sections): New.
	(dwarf_debug_section_enum): Likewise.
	(read_section): Remove section_name and compressed_section_name.
	Add dwarf_debug_section_enum.  Try compressed debug section.
	(read_indirect_string): Updated.
	(read_abbrevs): Likewise.
	(decode_line_info): Likewise.
	(read_debug_ranges): Likewise.
	(find_line): Updated.

	* ecoff.c (bfd_debug_section): Add compress_status and
	compressed_size.

	* elf.c (_bfd_elf_make_section_from_shdr): Call
	bfd_is_section_compressed to check if a DWARF debug section is
	compressed.  Call bfd_init_section_compress_status or
	bfd_init_section_decompress_status if needed.

	* elflink.c (elf_link_input_bfd): Replace bfd_get_section_contents
	with bfd_get_full_section_contents.
	* merge.c (_bfd_add_merge_section): Likewise.
	* reloc.c (bfd_generic_get_relocated_section_contents): Likewise.
	* simple.c (bfd_simple_get_relocated_section_contents): Likewise.

	* elfxx-target.h (TARGET_BIG_SYM): Allow BFD_COMPRESS and
	BFD_DECOMPRESS.
	(TARGET_LITTLE_SYM): Likewise.

	* libbfd-in.h (dwarf_debug_section): New.
	(dwarf_debug_sections): Likewise.

	* libbfd.c (_bfd_generic_get_section_contents): Issue an error
	when getting contents on compressed/decompressed section.

	* section.c (COMPRESS_SECTION_NONE): New.
	(COMPRESS_SECTION_DONE): Likewise.
	(DECOMPRESS_SECTION_SIZED): Likewise.
	(BFD_FAKE_SECTION): Add compress_status and compressed_size.
	(bfd_malloc_and_get_section): Replace bfd_get_section_contents
	with bfd_get_full_section_contents.

	* bfd-in2.h: Regenerated.
	* libbfd.h: Likewise.

binutils/

2010-10-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* addr2line.c (process_file): Set BFD_DECOMPRESS.

	* objcopy.c (do_debug_sections): New.
	(OPTION_COMPRESS_DEBUG_SECTIONS): New.
	(OPTION_DECOMPRESS_DEBUG_SECTIONS): Likewise.
	(copy_options): Add OPTION_COMPRESS_DEBUG_SECTIONS and
	OPTION_DECOMPRESS_DEBUG_SECTIONS.
	(copy_usage): Add --compress-debug-sections and
	--decompress-debug-sections.
	(copy_file): Set BFD_COMPRESS or BFD_DECOMPRESS.
	(copy_section): Replace bfd_get_section_contents with
	bfd_get_full_section_contents.
	(copy_main): Handle OPTION_COMPRESS_DEBUG_SECTIONS and
	OPTION_DECOMPRESS_DEBUG_SECTIONS.  Check do_debug_sections to
	rename DWARF debug sections.

	* objdump.c (load_specific_debug_section): Replace
	bfd_get_section_contents with bfd_get_full_section_contents.
	Remove bfd_uncompress_section_contents.
	(dump_section): Replace bfd_get_section_contents with
	bfd_get_full_section_contents.
	(display_file): Set BFD_DECOMPRESS if needed.

	* readelf.c (uncompress_section_contents): Set buffer to NULL
	to indiate decompression failure.
	(load_specific_debug_section): Always call
	uncompress_section_contents.

	* doc/binutils.texi: Document --compress-debug-sections and
	--decompress-debug-sections.

binutils/testsuite/

2010-10-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/compress.exp: New.
	* binutils-all/dw2-1.S: Likewise.
	* binutils-all/dw2-2.S: Likewise.
	* binutils-all/libdw2-compressed.out: Likewise.
	* binutils-all/libdw2.out: Likewise.

gas/

2010-10-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* write.c (compress_debug): Optimize section flags check.

gas/testsuite/

2010-10-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* elf/dwarf2-1.s: Replace .zdebug_abbrev section with
	.debug_abbrev section.
	* elf/dwarf2-2.3: Likewise.

	* elf/dwarf2-1.d: Pass --compress-debug-sections to assembler.
	Updated.
	* elf/dwarf2-2.d: Likewise.

	* gas/i386/i386.exp: Remove xfail on dw2-compress-2 and
	x86-64-dw2-compress-2.

ld/

2010-10-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* ldfile.c (ldfile_try_open_bfd): Set BFD_DECOMPRESS after
	bfd_openr returns.
	* emultempl/elf32.em (gld${EMULATION_NAME}_try_needed): Likewise.

	* scripttempl/elf.sc: Include compressed DWARF debug sections.

ld/testsuite/

2010-10-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* ld-elf/compress.exp: New.
	* ld-elf/compress1.s: Likewise.
	* ld-elf/compress1a.d: Likewise.
	* ld-elf/compress1b.d: Likewise.
	* ld-elf/compress1c.d: Likewise.
@
text
@d1749 1
a1749 1
         @@option{--dwarf}[=rawline,=decodedline,=info,=abbrev,=pubnames,=aranges,=macro,=frames,=frames-interp,=str,=loc,=Ranges,=pubtypes,=trace_info,=trace_abbrev,=trace_aranges]]
d2122 1
a2122 1
@@itemx --dwarf[=rawline,=decodedline,=info,=abbrev,=pubnames,=aranges,=macro,=frames,=frames-interp,=str,=loc,=Ranges,=pubtypes,=trace_info,=trace_abbrev,=trace_aranges]
d2130 1
a2130 1
trace sections.
d3952 1
a3952 1
         @@option{--debug-dump}[=rawline,=decodedline,=info,=abbrev,=pubnames,=aranges,=macro,=frames,=frames-interp,=str,=loc,=Ranges,=pubtypes,=trace_info,=trace_abbrev,=trace_aranges]]
d4104 1
a4104 1
@@itemx --debug-dump[=rawline,=decodedline,=info,=abbrev,=pubnames,=aranges,=macro,=frames,=frames-interp,=str,=loc,=Ranges,=pubtypes,=trace_info,=trace_abbrev,=trace_aranges]
d4110 1
a4110 1
trace sections.
@


1.173.2.1
log
@backport from mainline
@
text
@d1749 1
a1749 1
         @@option{--dwarf}[=rawline,=decodedline,=info,=abbrev,=pubnames,=aranges,=macro,=frames,=frames-interp,=str,=loc,=Ranges,=pubtypes,=trace_info,=trace_abbrev,=trace_aranges,=gdb_index]]
d2122 1
a2122 1
@@itemx --dwarf[=rawline,=decodedline,=info,=abbrev,=pubnames,=aranges,=macro,=frames,=frames-interp,=str,=loc,=Ranges,=pubtypes,=trace_info,=trace_abbrev,=trace_aranges,=gdb_index]
d2130 1
a2130 1
trace sections or .gdb_index.
d3952 1
a3952 1
         @@option{--debug-dump}[=rawline,=decodedline,=info,=abbrev,=pubnames,=aranges,=macro,=frames,=frames-interp,=str,=loc,=Ranges,=pubtypes,=trace_info,=trace_abbrev,=trace_aranges,=gdb_index]]
d4104 1
a4104 1
@@itemx --debug-dump[=rawline,=decodedline,=info,=abbrev,=pubnames,=aranges,=macro,=frames,=frames-interp,=str,=loc,=Ranges,=pubtypes,=trace_info,=trace_abbrev,=trace_aranges,=gdb_index]
d4110 1
a4110 1
trace sections or .gdb_index.
@


1.173.2.2
log
@	PR 12365
	PR 12613
	PR 12632
	PR 12739
	PR 12753
	PR 12760
	PR 12763
Apply fix from mainline along with assorted other small fixes.
@
text
@d727 1
a727 3
usually local; if uppercase, the symbol is global (external).  There
are however a few lowercase symbols that are shown for special global
symbols (@@code{u}, @@code{v} and @@code{w}).
@


1.172
log
@        PR binutils/12058
        * ar.c (usage): Revert previous change.  Describe how 's' can be
        used as a command letter.
        * doc/binutils.texi (ar cmdline): Describe how 's' can be used as
        a command letter.
@
text
@d1077 2
d1685 6
@


1.171
log
@        * objcopy.c: Add --interleave-width option to allow interleaving
        of more than one byte at a time.
        (copy_width): New variable.
        (copy_options): Add --interleave-width.
        (copy_section): When interleaving copy in units of copy_width
        bytes.
        (copy_main): Parse the new option.
        * doc/binutils: Document the new option.
        * NEWS: Mention the new feature.

        * binutils-all/objcopy.exp: Add test of new --interleave-width
        option.
@
text
@d348 7
@


1.170
log
@Add --input-osabi and --output-osabi to elfedit.

binutils/

2010-08-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* elfedit.c (input_elf_osabi): New.
	(output_elf_osbi): Likewise.
	(osabis): Likewise.
	(elf_osabi): Likewise.
	(update_elf_header): Support updating ELF OSABI.
	(make_qualified_name): Break long line.
	(command_line_switch): Add OPTION_INPUT_OSABI and
	OPTION_OUTPUT_OSABI.
	(options): Likewise.
	(usage): Add --input-osabi and --output-osabi.
	(main): Handle OPTION_INPUT_OSABI and OPTION_OUTPUT_OSABI.

	* doc/binutils.texi: Document --input-osabi and --output-osabi
	for elfedit.

binutils/testsuite/

2010-08-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/elfedit-3.d: New.

	* binutils-all/elfedit.exp: Run elfedit-3.
@
text
@d1020 2
a1021 1
        [@@option{-i} @@var{interleave}|@@option{--interleave=}@@var{interleave}]
d1243 36
a1278 13
Keep only every @@var{byte}th byte of the input file (header data is not
affected).  @@var{byte} can be in the range from 0 to @@var{interleave}-1,
where @@var{interleave} is given by the @@option{-i} or @@option{--interleave}
option, or the default of 4.  This option is useful for creating files
to program @@sc{rom}.  It is typically used with an @@code{srec} output
target.

@@item -i @@var{interleave}
@@itemx --interleave=@@var{interleave}
Only copy one out of every @@var{interleave} bytes.  Select which byte to
copy with the @@option{-b} or @@option{--byte} option.  The default is 4.
@@command{objcopy} ignores this option if you do not specify either @@option{-b} or
@@option{--byte}.
@


1.169
log
@2010-05-24  Tristan Gingold  <gingold@@adacore.com>

	* readelf.c (usage): Add new trace sections for --debug-dump.
	(process_section_headers): Handle dump of trace sections.
	* objdump.c (usage): Add new trace sections for --dwarf.
	* dwarf.h (do_trace_info, do_trace_abbrevs): New variables.
	(do_trace_aranges): Ditto.
	(enum dwarf_section_display_enum): Add trace_info, trace_abbrev
	and trace_aranges literals.
	* dwarf.c (do_trace_info, do_trace_abbrevs): New variables.
	(do_trace_aranges): Ditto.
	(process_debug_info): Add abbrev_sec argument and replace
	abbrev with abbrev_sec.
	(load_debug_info): Adjust call of process_debug_info.
	(display_debug_info): Ditto.
	(display_trace_info): New function.
	(dwarf_select_sections_by_names): Add trace_info, trace_abbrevs
	and trace_aranges sections name.
	(dwarf_select_sections_all): Also select trace sections.
	(debug_displays): Reindent.  Add entries for the trace sections.
	* doc/binutils.texi (readelf): Document new --dwarf parameters.
	(objdump): Ditto.
@
text
@d4124 1
d4127 1
d4147 2
a4148 2
equivalent. At least one of the @@option{--output-mach} and
@@option{--output-type} options must be given.
d4173 13
@


1.168
log
@2010-03-25  Thomas Schwinge  <thomas@@codesourcery.com>

	* doc/binutils.texi (readelf) <unwind information>: Mention support for
	ARM unwind tables.
@
text
@d1710 1
a1710 1
         @@option{--dwarf}[=rawline,=decodedline,=info,=abbrev,=pubnames,=aranges,=macro,=frames,=frames-interp,=str,=loc,=Ranges,=pubtypes]]
d2083 1
a2083 1
@@itemx --dwarf[=rawline,=decodedline,=info,=abbrev,=pubnames,=aranges,=macro,=frames,=frames-interp,=str,=loc,=Ranges,=pubtypes]
d2090 3
d3913 1
a3913 1
         @@option{--debug-dump}[=rawline,=decodedline,=info,=abbrev,=pubnames,=aranges,=macro,=frames,=frames-interp,=str,=loc,=Ranges,=pubtypes]]
d4065 1
a4065 1
@@itemx --debug-dump[=rawline,=decodedline,=info,=abbrev,=pubnames,=aranges,=macro,=frames,=frames-interp,=str,=loc,=Ranges,=pubtypes]
d4070 3
@


1.167
log
@        PR binutils/11298
        * doc/binutils.texi (windmc): Fix synopsis and description of
        ASCII options.
@
text
@d4009 2
a4010 1
the unwind sections for IA64 ELF files are currently supported.
@


1.166
log
@Add --dyn-syms to readelf

binutils/

2010-01-11  H.J. Lu  <hongjiu.lu@@intel.com>

	PR ld/11146
	* NEWS: Mention --dyn-syms for readelf.

	* readelf.c (do_dyn_syms): New.
	(OPTION_DYN_SYMS): Likewise.
	(options): Add "dyn-syms".
	(usage): Add --dyn-syms.
	(parse_args): Handle OPTION_DYN_SYMS.
	(process_symbol_table): Handle do_dyn_syms.
	(process_object): Likewise.
	(process_archive): Likewise.

	* doc/binutils.texi: Document --dyn-syms for readelf.  Mention
	symbol hash tables for -D.

ld/testsuite/

2010-01-11  H.J. Lu  <hongjiu.lu@@intel.com>

	PR ld/11146
	* ld-elf/dynsym1.d: New.
@
text
@d3150 1
a3150 1
@@c man begin SYNOPSIS windres
d3190 1
a3190 1
Specifies that the input file specified is ANSI. This is the default
d3195 1
a3195 1
Specifies that messages in the output @@code{bin} files should be in ANSI
@


1.165
log
@Add --input-type and --output-type to elfedit

binutils/

2010-01-08  H.J. Lu  <hongjiu.lu@@intel.com>

	* elfedit.c (input_elf_type): New.
	(output_elf_type): Likewise.
	(elf_type): Likewise.
	(update_elf_header): Support updating ELF file type.
	(command_line_switch): Add OPTION_INPUT_TYPE and
	OPTION_OUTPUT_TYPE.
	(options): Likewise.
	(usage): Add --input-type and --output-type.
	(main): Handle OPTION_INPUT_TYPE and OPTION_OUTPUT_TYPE.  Check
	one of --output-mach and --output-type must be specified.

	* doc/binutils.texi: Document --input-type and --output-type
	for elfedit.

binutils/testsuite/

2010-01-08  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/elfedit-2.d: New.

	* binutils-all/elfedit.exp: Run elfedit-2.
@
text
@d3897 1
d3986 5
d4030 2
a4031 2
symbol table in the file's dynamic section, rather than the one in the
symbols section.
@


1.164
log
@Fix a typo

2010-01-08  H.J. Lu  <hongjiu.lu@@intel.com>

	* doc/binutils.texi: Fix a typo.
@
text
@d4110 1
d4112 1
d4121 3
a4123 3
@@command{elfedit} updates the ELF header of ELF files.  The
options control how and which fields in the ELF header should be
updated.
d4132 2
a4133 1
equivalent. The @@option{--output-mach} option must be given.
d4138 3
a4140 3
Only the input files with ELF machine type, @@var{machine}, will be
updated. If @@option{--input-mach} isn't specified, any ELF file
will be updated.
d4148 10
@


1.163
log
@2010-01-07  H.J. Lu  <hongjiu.lu@@intel.com>

	* doc/binutils.texi: Replace -histogram with --histogram.
@
text
@d4110 1
a4110 1
        @@option{--output-machine=}@@var{machine}
@


1.162
log
@Add elfedit

binutils/

2010-01-06  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/11131
	* Makefile.am (ELFEDIT_PROG): New.
	(bin_PROGRAMS): Add $(ELFEDIT_PROG).
	(CFILES): Add elfedit.c.
	(elfedit_DEPENDENCIES): New.
	(elfedit_SOURCES): Likewise.
	(elfedit_LDADD): Likewise.
	* Makefile.in: Regenerated.

	* elfedit.c: New.

	* doc/binutils.texi: Document elfedit.

	* doc/Makefile.am (man_MANS): Add elfedit.1.
	(elfedit.1): New.
	* doc/Makefile.in: Regenerated.

binutils/testsuite/

2010-01-06  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/11131
	* binutils-all/elfedit-1.d: New.
	* binutils-all/elfedit.exp: Likewise.

	* config/default.exp (ELFEDIT): New. Set if it doesn't exist.
	(ELFEDITFLAGS): Likewise.

	* lib/utils-lib.exp (run_dump_test): Support elfedit.
@
text
@d14 2
a15 1
2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009 Free Software Foundation, Inc.
d3910 1
a3910 1
        [@@option{-I}|@@option{-histogram}]
@


1.161
log
@2009-12-10  Tristan Gingold  <gingold@@adacore.com>

	* addr2line.c (pretty_print): New variable.
	(long_options): Add an entry for -p/--pretty-print.
	(usage): Document -p/--pretty-print.
	(translate_addresses): Handle pretty_print.  Reindent.
	(main): Handle option -p.
	* doc/binutils.texi (addr2line): Document -p/--pretty-print.
	* NEWS: Mention new feature.
@
text
@d47 1
d115 3
d153 1
d2725 1
a2725 1
@@node c++filt, addr2line, strip, Top
d4098 64
@


1.160
log
@2009-12-09  Tristan Gingold  <gingold@@adacore.com>

	* addr2line.c (translate_addresses): Display addresses
	if option -a is used.
	(with_addresses): New variable.
	(long_options): Add option '-a'.
	(usage): Add usage for option '-a'.
	(main): Handle option '-a'.
	* doc/binutils.texi (addr2line): Document option '-a'.
	* NEWS: Mention new feature.
@
text
@d2915 1
d3010 6
@


1.159
log
@        PR binutils/11045
        * dwarf.c (do_debug_pubtypes): New variable.
        (dwarf_select_sections_by_names): Handle .debug_pubtypes.
        (dwarf_select_sections_by_letters): Add 't' for .debug_pubtype.
        (dwarf_select_sections_all): Set do_debug_pubtypes.
        (debug_displays): Add support for .debug_pubtypes.
        * dwarf.h (do_debug_pubtypes): Export.
        * objdump.c (usage): Add -wt or --dwarf=pubtypes.
        * readelf.c (usage): Likewise.
        (process_section_headers): Enable debug display if
        do_debug_pubtypes is set.
        * doc/binutils.texi: Document -wt/--dwarf=pubtypes option.
@
text
@d2909 2
a2910 1
addr2line [@@option{-b} @@var{bfdname}|@@option{--target=}@@var{bfdname}]
d2947 2
a2948 1
containing the address.
d2962 6
@


1.158
log
@2009-10-28  Kai Tietz <kai.tietz@@onevision.com>

	* dlltool.c (leading_underscore): New local variable.
	(asm_prefix): Interpret leading_underscore.
	(xlate): Likewise.
	(add_excludes): Use leading_underscore for making
	symbol name.
	(gen_exp_file): Use leading_underscore for internal
	_imp_ symbols.
	(usage): Add display of --no-leading-underscore and
	--leading-underscore option.
	(OPTION_NO_LEADING_UNDERSCORE): New.
	(OPTION_LEADING_UNDERSCORE): New.
	(long_options): Add --no-leading-underscore and
	--leading-underscore option.
	(main): Handle new options.
	* doc/binutils.text: Add documentation of the options
	--no-leading-underscore and --leading-underscore.
@
text
@d1703 2
a1704 2
        [@@option{-W[lLiaprmfFsoR]}|
         @@option{--dwarf}[=rawline,=decodedline,=info,=abbrev,=pubnames,=aranges,=macro,=frames,=frames-interp,=str,=loc,=Ranges]]
d2076 2
a2077 2
@@item -W[lLiaprmfFsoR]
@@itemx --dwarf[=rawline,=decodedline,=info,=abbrev,=pubnames,=aranges,=macro,=frames,=frames-interp,=str,=loc,=Ranges]
d3887 2
a3888 2
        [@@option{-w[lLiaprmfFsoR]}|
         @@option{--debug-dump}[=rawline,=decodedline,=info,=abbrev,=pubnames,=aranges,=macro,=frames,=frames-interp,=str,=loc,=Ranges]]
d4033 2
a4034 2
@@item -w[lLiaprmfFsoR]
@@itemx --debug-dump[=rawline,=decodedline,=info,=abbrev,=pubnames,=aranges,=macro,=frames,=frames-interp,=str,=loc,=Ranges]
@


1.157
log
@2009-10-23  Kai Tietz  <kai.tietz@@onevision.com>

	* deflex.l: Allow '<' and '>' in ID names.

	* defparse.y (EQUAL): New token constant.
	(opt_import_name): New rule for emptry or '==' ID.
	(expline): Add opt_import_name as last line element.
	(impline): Likewise.
	* dlltool.c (ifunct): New member its_name.
	(export): Likewise.
	(append_import): Add its_name argument.
	(defexports): Likewise.
	(defimport): Likewise.
	(scan_drectve_symbols): Adjust calls to def_exports.
	(dump_def_info): Print new optinal import/export table
	symbol name.
	(generate_idata_ofile): Use its_name member.
	(make_one_lib_file): Likewise.
	(nfunc): Take its_name in account on sort.
	* dlltool.h (def_exports): Add its_name as argument.
	(def_import): Likewise.
	* doc/binutils.texi: Add new def file syntax extension.
	* deflex.l (EQUAL): Add rule for '=='.
	* NEWS: Mention new feature.

2009-10-23  Kai Tietz  <kai.tietz@@onevision.com>

	* binutils-all/dlltool.exp: Add new test.
	* binutils-all/alias-2.def: New file.
@
text
@d3512 1
d3701 5
@


1.156
log
@        * readelf.c (usage): Add mention of --debug-dump=frames-interp.
        Wrap output to 80 columns.
        * objdump.c (usage): Likewise.
        * doc/binutils.texi (readelf): Add note about =frames-interp.
@
text
@d3810 1
a3810 1
@@item @@code{EXPORTS ( ( (} @@var{name1} @@code{[ = } @@var{name2} @@code{] ) | ( } @@var{name1} @@code{=} @@var{module-name} @@code{.} @@var{external-name} @@code{) )}
d3814 2
a3815 1
(forward) of the function @@var{external-name} in the DLL
d3818 1
a3818 1
@@item @@code{IMPORTS ( (} @@var{internal-name} @@code{=} @@var{module-name} @@code{.} @@var{integer} @@code{) | [} @@var{internal-name} @@code{= ]} @@var{module-name} @@code{.} @@var{external-name} @@code{) ) *}
d3824 1
@


1.155
log
@        * doc/binutils.texi (c++filt): Remove spurious description of
        nonexistent --java command line switch for cxxfilt.
@
text
@d4035 4
@


1.154
log
@       * obcopy.c (copy_object): New parameter `input_arch', architecture
       of input file, if not specified in input file itself; all callers
       updated; `binary_architecture' hack removed.
       (copy_archive, copy_file): New parameter `input_arch', for
       `copy_object' usage.
       (copy_main): Accept `-B' (`--binary-architecture') option also
       for any arch-less input ifile format, not only `binary'; remove
       bfd_external_binary_architecture hack; instead, add `input_arch'
       to calls to `copy_file'.
       * windres.c, windmc.c : Obsolete and useless external references
       to `bfd_external_binary_architecture' or `bfd_external_machine'
       removed.

       * binary.c (binary_object_p): Remove bfd_external_binary_architecture
       hack.  objcopy `-B' (`--binary-architecture') option is now handled
       in a generic way.
@
text
@a2816 5
@@item -j
@@itemx --java
Prints demangled names using Java syntax.  The default is to use C++
syntax.

@


1.153
log
@2009-09-04  Timo Kreuzer  <timo.kreuzer@@web.de>

	* dlltool.c (delayimp_name): Add new global variable
	(usage, long_options, main): Add new option "-y" / "--output-delaylib"
	(struct mac): Add fields how_dljtab_size, how_dljtab_roff1,
	how_dljtab_roff2, how_dljtab, trampoline.
	(i386_dljtab): Add binary stub for x86 delay import.
	(i386_trampoline): Add text assembly stub for x86 delay import.
	(mtable): Add delay import data for M386 and MX86 only.
	(make_delay_head): New function.
	(make_one_lib_file): New arg delay creates delay-load import stub.
	(gen_lib_file): New arg delay likewise.
	(HOW_JTAB, HOW_JTAB_SIZE, HOW_JTAB_ROFF): New arg delay likewise.
	(HOW_JTAB_ROFF2, HOW_JTAB_ROFF3): New macros for delay import.
	(make_tail): Convert hard TABS embedded in strings to "\t" escapes.
	* NEWS: Mention new feature.  Also fix whitespace.
	* doc/binutils.texi: Updated dlltool documentation.
@
text
@d1137 3
a1139 3
Useful when transforming a raw binary input file into an object file.
In this case the output architecture can be set to @@var{bfdarch}. This
option will be ignored if the input file has a known @@var{bfdarch}. You
@


1.153.2.1
log
@        * doc/binutils.texi (c++filt): Remove spurious description of
        nonexistent --java command line switch for cxxfilt.
@
text
@d2817 5
@


1.152
log
@	* doc/binutils.texi (--only-keep-debug): Relocate stray para here ...
	(--subsystem): ... from here.
@
text
@d3500 1
d3567 7
d3632 4
@


1.151
log
@        * config/obj-elf.c (obj_elf_type): Add code to support a type of
        gnu_unique_object.
        * doc/as.texinfo: Document new feature of .type directive.
        * NEWS: Mention support for gnu_unique_object symbol type.

        * common.h (STB_GNU_UNIQUE): Define.

        * NEWS: Mention the linker's support for symbols with a binding of
        STB_GNU_UNIQUE.

        * gas/elf/type.s: Add unique global symbol definition.
        * gas/elf/type.e: Add expected readelf output for global unique
        symbol.

        * elfcpp.h (enum STB): Add STB_GNU_UNIQUE.

        * readelf.c (get_symbol_binding): For Linux targeted files return
        UNIQUE for symbols with the STB_GNU_UNIQUE binding.
        * doc/binutils.texi: Document the meaning of the 'u' symbol
        binding in the output of nm and objdump --syms.

        * elf-bfd.h (struct elf_link_hash_entry): Add unique_global field.
        * elf.c (swap_out_syms): Set binding to STB_GNU_UNIQUE for symbols
        with the BSF_GNU_UNIQUE flag bit set.
        * elfcode.h (elf_slurp_symbol_table): Set the BSF_GNU_UNIQUE flag
        for symbols with STB_GNU_UNIQUE binding.
        * elflink.c (_bfd_elf_merge_symbol): Set unique_global for symbols
        with the STB_GNU_UNIQUE binding.
        (elf_link_add_object_symbols): Set the BSF_GNU_UNIQUE flag for
        symbols with STB_GNU_UNIQUE binding.  Set STB_GNU_UNIQUE for
        symbols with the unique_global field set.
        (elf_link_output_extsym): Set unique_global field for symbols with
        the STB_GNU_UNIQUE binding.
        * syms.c (struct bfd_symbol): Define BSF_GNU_UNIQUE flag bit.
        (bfd_print_symbol_vandf): Print a 'u' character for BSF_GNU_UNIQUE
        symbols.
        (bfd_decode_symclass): Return a 'u' character for BSF_GNU_UNIQUE
        symbols.
        * bfd-in2.h: Regenerate.
@
text
@d1556 33
a1631 33
@@enumerate
@@item Link the executable as normal.  Assuming that is is called
@@code{foo} then...
@@item Run @@code{objcopy --only-keep-debug foo foo.dbg} to
create a file containing the debugging info.
@@item Run @@code{objcopy --strip-debug foo} to create a
stripped executable.
@@item Run @@code{objcopy --add-gnu-debuglink=foo.dbg foo}
to add a link to the debugging info into the stripped executable.
@@end enumerate

Note---the choice of @@code{.dbg} as an extension for the debug info
file is arbitrary.  Also the @@code{--only-keep-debug} step is
optional.  You could instead do this:

@@enumerate
@@item Link the executable as normal.
@@item Copy @@code{foo} to  @@code{foo.full}
@@item Run @@code{objcopy --strip-debug foo}
@@item Run @@code{objcopy --add-gnu-debuglink=foo.full foo}
@@end enumerate

i.e., the file pointed to by the @@option{--add-gnu-debuglink} can be the
full executable.  It does not have to be a file created by the
@@option{--only-keep-debug} switch.

Note---this switch is only intended for use on fully linked files.  It
does not make sense to use it on object files where the debugging
information may be incomplete.  Besides the gnu_debuglink feature
currently only supports the presence of one filename containing
debugging information, not multiple filenames on a one-per-object-file
basis.

@


1.150
log
@2009-07-20  H.J. Lu  <hongjiu.lu@@intel.com>

	* NEWS: Mention --insn-width.

	* objdump.c (insn_width): New.
	(usage): Display --insn-width.
	(option_values): Add OPTION_INSN_WIDTH.
	(long_options): Add --insn-width.
	(disassemble_bytes): Handle insn_width.
	(main): Handle OPTION_INSN_WIDTH.

	* doc/binutils.texi: Document --insn-width.
@
text
@d748 7
a754 1
The symbol is in a section specific to the implementation of DLLs.
d777 6
d2157 1
d2159 2
a2160 1
The symbol is local (l), global (g), neither (a space) or both (!).  A
d2163 4
a2166 1
a bug if it is ever both local and global.
@


1.149
log
@        * dwarf.c (display_debug_lines_raw): Include the name of the
        section in warning message.
        (struct debug_display): Enable reloc processing for .debug_line
        and .debug_ranges sections.

        * readelf.c: Add --relocated-dump command line option to dump the
        relocated contents of a specified section.
        (request_dump): New function.
        (parse_args): Use it.
        (dump_section_as_bytes): Add parameter to indicate whether the
        contents should be relocated.
        (target_specific_reloc_handling): Add code for a R_MN10300_16
        reloc found after a R_MN10300_SYM_DIFF reloc.
        (debug_apply_relocations): Rename to apply_relocations.
        (get_section_contents): New function.  Replaces common code found
        in dump_section_as_strings and dump_section_as_bytes.
        * doc/binutils.texi: Document new command line option.
        * NEWS: Mention the new feature.
@
text
@d1706 1
d2059 5
@


1.148
log
@        PR 10288
        * arm-dis.c (print_insn_coprocessor): Check that a user specified
        ARM architecture supports the matched instruction.
        (print_insn_arm): Likewise.
        (select_arm_features): New function.  Fills in the fields of an
        arm_feature_set structure based on a given arm machine number.
        (print_insn): Initialise an arm_feature_set structure.

        * objdump.c (disassemble_bytes): Set the
        USER_SPECIFIED_MACHINE_TYPE flag in the disassemble_info structure
        if the user has invoked the -m switch.
        * doc/binutils.texi: Document the additional behaviour of
        objdump's -m switch for ARM targets.

        * dis-asm.h (USER_SPECIFIED_MACHINE_TYPE): New value for the flags
        field of struct disassemble_info.

        * gas/arm/align.s: Add labels so that COFF based targets can
        correctly locate THUMB code.
        * gas/arm/copro.d: Do not pass --architecture switch to objdump.
@
text
@d3847 1
d3970 1
a3970 1
Displays the contents of the indicated section as a hexadecimal dump.
d3974 8
@


1.147
log
@	PR 10199
	* doc/binutils.texi (nm): Correct -S description.
@
text
@d1804 4
d1891 7
@


1.146
log
@        * Makefile.am: Run "make dep-am".
        (AM_CPPFLAGS): New.
        (LIBDL): New.
        (ALL_MACHINES): Add cpu-plugin.lo.
        (ALL_MACHINES_CFILES): Add cpu-plugin.c.
        (BFD32_BACKENDS): Add plugin.lo.
        (BFD32_BACKENDS_CFILES): Add plugin.c.
        (libbfd_la_LIBADD): Add LIBDL
        * archures.c (bfd_architecture): Add bfd_arch_plugin.
        (bfd_plugin_arch): Declare.
        * bfd-in.h (BFD_SUPPORTS_PLUGINS): New.
        * bfd.c (bfd): Add plugin_data.
        * config.bfd: Handle the plugin target.
        * configure.in: Check for --enable-plugins.
        (LT_INIT): Use the dlopen option.
        * cpu-plugin.c: New.
        * plugin.c: New.
        * plugin.h: New.
        * targets.c (plugin_vec): Declare.
        (_bfd_target_vector): Add plugin_vec.
        * Makefile.in: Regenerate.
        * bfd-in2.h: Regenerate.
        * configure: Regenerate.
        * ar.c: Include plugin.h.
        (main): Handle the --plugin option.
        * nm.c: Include plugin.h.
        (OPTION_PLUGIN): New.
        (long_options): Add plugin.
        (main): Handle OPTION_PLUGIN.
        * NEWS: Mention  the new feature.
        * doc/binutils: Documement the new command line options.
        * configure.in: Check for --enable-plugins.
        * configure: Regenerate.
@
text
@d902 4
a905 1
Print size, not the value, of defined symbols for the @@code{bsd} output format.
@


1.145
log
@bfd/

2009-04-17  H.J. Lu  <hongjiu.lu@@intel.com>

	* peXXigen.c (_bfd_XX_print_private_bfd_data_common): Replace
	IMAGE_SUBSYSTEM_EFI_ROM with IMAGE_SUBSYSTEM_SAL_RUNTIME_DRIVER.

binutils/

2009-04-17  H.J. Lu  <hongjiu.lu@@intel.com>

	* objcopy.c (set_pe_subsystem): Replace efi-rom with sal-rtd.
	* doc/binutils.texi: Likewise.

include/coff/

2009-04-17  H.J. Lu  <hongjiu.lu@@intel.com>

	* pe.h (IMAGE_SUBSYSTEM_EFI_ROM): Renamed to ...
	(IMAGE_SUBSYSTEM_SAL_RUNTIME_DRIVER): This.
@
text
@d173 1
a173 1
ar [-]@@var{p}[@@var{mod} [@@var{relpos}] [@@var{count}]] @@var{archive} [@@var{member}@@dots{}]
d248 1
a248 1
ar [@@option{-X32_64}] [@@option{-}]@@var{p}[@@var{mod} [@@var{relpos}] [@@var{count}]] @@var{archive} [@@var{member}@@dots{}]
d491 5
d685 2
a686 1
nm [@@option{-a}|@@option{--debug-syms}] [@@option{-g}|@@option{--extern-only}]
d868 6
@


1.144
log
@bfd/

2009-04-17  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/10074
	* coffcode.h (bfd_pei_p): New.

	* config.bfd: Remove bfd_efi_bsdrv_ia32_vec,
	bfd_efi_rtdrv_ia32_vec, bfd_efi_bsdrv_x86_64_vec,
	bfd_efi_rtdrv_x86_64_vec, bfd_efi_bsdrv_ia64_vec and
	bfd_efi_rtdrv_ia64_vec.  Replace bfd_efi_app_ia32_vec,
	bfd_efi_app_x86_64_vec and bfd_efi_app_ia64_vec with
	i386pei_vec, x86_64pei_vec and bfd_pei_ia64_vec, respectively.

	* configure.in: Remove bfd_efi_bsdrv_ia32_vec,
	bfd_efi_rtdrv_ia32_vec, bfd_efi_bsdrv_x86_64_vec,
	bfd_efi_rtdrv_x86_64_vec,
	bfd_efi_bsdrv_ia64_vec and bfd_efi_rtdrv_ia64_vec.  Replace
	bfd_efi_ia64_vec with bfd_pei_ia64_vec.
	* targets.c: Likewise.

	* configure: Regenerated.
	* libcoff.h: Likewise.
	* Makefile.in: Likewise.

	* efi-app-ia32.c: Removed.
	* efi-app-x86_64.c: Likewise.
	* efi-bsdrv-ia32.c: Likewise.
	* efi-bsdrv-ia64.c: Likewise.
	* efi-bsdrv-x86_64.c: Likewise.
	* efi-rtdrv-ia32.c: Likewise.
	* efi-rtdrv-ia64.c: Likewise.
	* efi-rtdrv-x86_64.c: Likewise.
	* efi-rtdrv-ia32.c: Likewise.

	* efi-app-ia64.c: Moved to ...
	* pei-ia64.c: This.
	(TARGET_SYM): Set to bfd_pei_ia64_vec.
	(TARGET_NAME): Set to pei-ia64.

	* libpei.h (bfd_target_pei_p): Removed.
	(bfd_target_pei_arch): Likewise.
	(bfd_target_efi_app_p): Likewise.
	(bfd_target_efi_app_arch): Likewise.
	(bfd_target_efi_bsdrv_p): Likewise.
	(bfd_target_efi_bsdrv_arch): Likewise.
	(bfd_target_efi_rtdrv_p): Likewise.
	(bfd_target_efi_rtdrv_arch): Likewise.
	(bfd_pe_executable_p): Likewise.

	* Makefile.am (BFD32_BACKENDS): Remove efi-app-ia32.lo,
	efi-bsdrv-ia32.lo and efi-rtdrv-ia32.lo.
	(BFD32_BACKENDS_CFILES): Remove efi-app-ia32.c, efi-bsdrv-ia32.c
	and efi-rtdrv-ia32.c.
	(BFD64_BACKENDS): Remove efi-app-ia64.lo, efi-bsdrv-ia64.lo,
	efi-rtdrv-ia64.lo, efi-app-x86_64.lo, efi-bsdrv-x86_64.lo and
	efi-rtdrv-x86_64.lo. Add pei-ia64.lo.
	(BFD64_BACKENDS_CFILES): Remove efi-app-ia64.c, efi-bsdrv-ia64.c,
	efi-rtdrv-ia64.c, efi-app-x86_64.c, efi-bsdrv-x86_64.c and
	efi-rtdrv-x86_64.c. Add pei-ia64.c.
	(efi-app-ia64.lo): Removed.
	(efi-bsdrv-ia32.lo): Likewise.
	(efi-rtdrv-ia32.lo): Likewise.
	(efi-app-ia64.lo): Likewise.
	(efi-bsdrv-ia64.lo): Likewise.
	(efi-rtdrv-ia64.lo): Likewise.
	(efi-app-x86_64.lo): Likewise.
	(efi-bsdrv-x86_64.lo): Likewise.
	(efi-rtdrv-x86_64.lo): Likewise.
	(pei-ia64.lo): New.

	* peicode.h (coff_swap_scnhdr_in): Replace bfd_pe_executable_p
	with bfd_pei_p.
	(arch_type): Removed.
	(pe_arch): Likewise.
	(pe_bfd_object_p): Just return coff_object_p.

	* peXXigen.c (_bfd_XXi_swap_scnhdr_out): Replace
	bfd_pe_executable_p with bfd_pei_p.

binutils/

2009-04-17  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/10074
	* objcopy.c: Include coff/i386.h and coff/pe.h.
	(pe_file_alignment): New.
	(pe_heap_commit): Likewise.
	(pe_heap_reserve): Likewise.
	(pe_image_base): Likewise.
	(pe_section_alignment): Likewise.
	(pe_stack_commit): Likewise.
	(pe_stack_reserve): Likewise.
	(pe_subsystem): Likewise.
	(pe_major_subsystem_version): Likewise.
	(pe_minor_subsystem_version): Likewise.
	(set_pe_subsystem): Likewise.
	(convert_efi_target): Likewise.
	(command_line_switch): Add OPTION_FILE_ALIGNMENT,
	OPTION_HEAP, OPTION_IMAGE_BASE, OPTION_SECTION_ALIGNMENT,
	OPTION_STACK and OPTION_SUBSYSTEM.
	(copy_options): Likewise.
	(copy_usage): Add --file-alignment, --heap, --image-base,
	--section-alignment, --stack and --subsystem.
	(copy_object): Set up PE parameters.
	(copy_main): Process Add OPTION_FILE_ALIGNMENT,
	OPTION_HEAP, OPTION_IMAGE_BASE, OPTION_SECTION_ALIGNMENT,
	OPTION_STACK and OPTION_SUBSYSTEM.   Convert EFI target to
	PEI target.

	* NEWS: Mention --file-alignment, --heap, --image-base,
	--section-alignment, --stack and --subsystem command line
	options for objcopy.

	* doc/binutils.texi: Document --file-alignment, --heap,
	--image-base, --section-alignment, --stack and --subsystem
	command line options for objcopy.
@
text
@d1567 1
a1567 1
@@code{efi-rtd}, @@code{efi-rom}, and @@code{xbox}.  You may optionally set
@


1.143
log
@bfd/ChangeLog

	* coffgen.c (make_a_section_from_file):  Set the backend long
	section names enable if long section names found on input.
	* coffcode.h:  Extend long section names documentation to match.

binutils/ChangeLog

	* objcopy.c (enum long_section_name_handling):  New enum type.
	(enum command_line_switch):  Add OPTION_LONG_SECTION_NAMES.
	(copy_options[]):  Add entry for --long-section-names option.
	(copy_usage):  Document it.
	(set_long_section_mode):  New subroutine.
	(copy_file):  Call it.
	(copy_main):  Accept OPTION_LONG_SECTION_NAMES and parse arg.
	* doc/binutils.texi:  Update objcopy documentation with details
	of new option.
@
text
@d1030 6
d1529 43
@


1.142
log
@        PR 9972
        * doc/binutils.texi (strings): Document the -V alias for the
        --version option.
        * strings.c (usage): Likewise.
@
text
@d1004 1
d1342 12
@


1.141
log
@[bfd/ChangeLog]
2009-03-11  Chris Demetriou  <cgd@@google.com>

	* bfd.c (BFD_DETERMINISTIC_OUTPUT): New flag.
	* bfd-in2.h: Regenerate.
	* archive.c (bfd_ar_hdr_from_filesystem): If BFD_DETERMINISTIC_OUTPUT
	flag is set, use 0 for uid, gid, and timestamp, and use 0644 for file
	mode.
	(bsd_write_armap): Likewise.
	(_bfd_archive_bsd_update_armap_timestamp): If BFD_DETERMINISTIC_OUTPUT
	flag is set, do nothing.
	(coff_write_armap): If BFD_DETERMINISTIC_OUTPUT flag is set, use 0
	for timestamp.

[binutils/ChangeLog]
2009-03-11  Chris Demetriou  <cgd@@google.com>

	* ar.c (deterministic): New global variable.
	(main): Recognize new 'D' option, which enables 'deterministic mode'.
	(usage): Document new 'D' option.
	(write_archive): Set BFD_DETERMINISTIC_OUTPUT in output archive's
	flags if deterministic mode was requested.
	* doc/binutils.texi (ar): Document deterministic mode ('D' option).

[binutils/testsuite/ChangeLog]
2009-03-11  Chris Demetriou  <cgd@@google.com>

	* binutils-all/ar.exp (deterministic_archive): New test.
@
text
@d2321 1
a2321 1
strings [@@option{-afov}] [@@option{-}@@var{min-len}]
d2395 1
@


1.140
log
@2009-02-09  Tristan Gingold  <gingold@@adacore.com>

	* NEWS: Mention feature match between objdump and readelf for dumping
	dwarf info.

	* doc/binutils.texi (objdump): Document -W/--dwarf improvments to
	objdump.

	* objdump.c (usage): Update documentation for -W/--dwarf.
	(enum option_values): Add OPTION_DWARF.
	(long_options): --dwarf can accept arguments.
	(dump_dwarf_section): Also check enabled field.
	(main): Option -W can accept arguments, code moved to
	dwarf.c and call dwarf_select_sections_all instead.
	* readelf.c (process_section_headers): Remove do_debug_lines_decoded.
	(parse_args): Move code to...
	* dwarf.c (dwarf_select_sections_by_letters,
	dwarf_select_sections_by_names): : ...here (new functions).
	(do_debug_lines_decoded): Remove and replaced by ...
	(FLAG_DEBUG_LINES_RAW, FLAG_DEBUG_LINES_DECODED): ... new macros.
	(display_debug_lines): Adjust for previous change.
	(dwarf_select_sections_all): New function.
	(debug_displays): Add initializer for enabled field.
	* dwarf.h (do_debug_lines_decoded): Remove.
	Add prototypes for the new functions.
	(struct dwarf_section_display): Add enabled field.
@
text
@d399 9
@


1.139
log
@2009-02-03  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/9784
	* NEWS: Mention --prefix=PREFIX and --prefix-strip=LEVEL.

	* doc/binutils.texi: Document --prefix=PREFIX and
	--prefix-strip=LEVEL.

	* objdump.c: Include "filenames.h".
	(prefix): New.
	(prefix_strip): Likewise.
	(prefix_length): Likewise.
	(usage): Add --prefix=PREFIX and --prefix-strip=LEVEL.
	(option_values): Add OPTION_PREFIX and OPTION_PREFIX_STRIP.
	(long_options): Likewise.
	(show_line): Handle prefix and prefix_strip.
	(main): Handle OPTION_PREFIX and OPTION_PREFIX_STRIP.

	* readelf.c (PATH_MAX): Moved to ...
	* sysdep.h: Here.
@
text
@d1605 2
a1606 1
        [@@option{-W}|@@option{--dwarf}]
d1961 2
a1962 2
@@item -W
@@itemx --dwarf
d1965 3
a1967 2
Displays the contents of the DWARF debug sections in the file, if any
are present.
@


1.138
log
@Add --identify-strict option.  Handle ms-style implibs:

        * dlltool.c (file scope): Added new globals identify_ms and
        identify_strict. New typedef dll_name_list_type, and globals
        identify_dll_name_list_head and identify_dll_name_list_tail. Added
        new global identify_member_contains_symname_result.
        (identify_append_dll_name_to_list): New function.
        (identify_count_dll_name_list): New function.
        (identify_print_dll_name_list): New function.
        (identify_free_dll_name_list): New function.
        (identify_search_archive): Changed signature to take function
        pointer to operation to apply to each member, and data to pass on
        to that function.
        (identify_search_member): Changed signature to accept user data
        from caller.
        (identify_member_contains_symname): New function.
        (identify_dll_for_implib): Rewrite. Now determines whether implib
        is ms- or binutils- style, before searching sections for
        dllname. Allows multiple dllnames.
        (identify_process_section_p): Search alternate section for dllname
        when implib is ms-style.
        (identify_search_section): Add additional conditions to excludes
        candidate sections from consideration.
        (usage): Added --identify-strict.
        (long_options): Added --identify-strict.
        (main): Handle --identify-strict option.
        * doc/binutils.texi: Document --identify-strict option.
        * NEWS: Document --identify and --identify-strict options.
@
text
@d1617 2
d1941 10
@


1.137
log
@	PR 7034
	* doc/binutils.texi (objdump -R): Note effect of -d or -D.
@
text
@d14 1
a14 1
2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008 Free Software Foundation, Inc.
d3376 2
a3377 1
        [@@option{-I}|@@option{--identify} @@var{library-file-name}] [@@option{-i}|@@option{--interwork}]
d3605 10
a3614 6
indicated by @@var{filename} and report, on @@code{stdout}, the name of
the associated DLL.  This can be performed in addition to any other
operations indicated by the other options and arguments.  @@command{dlltool}
@@option{--identify} fails if the import library does not exist, is not
actually an import library, or (rarely) if the import library somehow
specifies more than one associated DLL.
@


1.136
log
@2009-01-08  Kai Tietz  <kai.tietz@@onevision.com>

	* dlltool.c (use_nul_prefixed_import_tables): New.
	(make_head): Make prefix leading zero prefix element for
	idata$4 and idata$5 dependent to new flag.
	(usage): Add new option  --use-nul-prefixed-import-tables.
	(OPTION_USE_NUL_PREFIXED_IMPORT_TABLES): New.
	(long_options): Add --use-nul-prefixed-import-tables.
	(main): Likewise.
	* doc/binutils.texi: Add new option documentation for
	--use-nul-prefixed-import-tables.
	* NEWS: Add new option.
@
text
@d1921 3
a1923 1
libraries.
@


1.135
log
@Remove STT_IFUNC support.
@
text
@d3373 1
d3587 6
@


1.134
log
@opcodes/
	* ppc-dis.c (powerpc_init_dialect): Do not set PPC_OPCODE_BOOKE
	for -Mbooke.
	(print_ppc_disassembler_options): Update usage.
	* ppc-opc.c (DE, DES, DEO, DE_MASK): Remove.
	(BOOKE64): Remove.
	(PPCCHLK64): Likewise.
	(powerpc_opcodes): Remove all BOOKE64 instructions.

gas/
	* config/tc-ppc.c (parse_cpu): Remove booke64 support. Update
	usage strings.
	(ppc_setup_opcodes): Likewise, remove booke64 support.
	* doc/c-ppc.texi (PowerPC-Opts): Remove -mbooke32 and -mbooke64.
	* doc/as.texinfo (Overview): Likewise.

binutils/
	* doc/binutils.texi (objdump): Update booke documentation.
	* NEWS: Document user-visible changes to command line options.
@
text
@a731 4
@@item I
The symbol is an indirect reference to another symbol.  This is a @@sc{gnu}
extension to the a.out object file format which is rarely used.

@


1.133
log
@* objdump.c (dump_reloc_set): Append "()" to symbol names which
  have the BSF_INDIRECT_FUNCTION type.
  * readelf.c (print_symbol): Fix handling of negative widths.
  (dump_relocations): Append "()" to symbol names which have the
  STT_IFUNC type. Display negative offsets as a positive number with
  a "-" prefix.
  (get_symbol_type): Return "IFUNC" for STT_IFUNC symbols.
  * doc/binutils.texi: Document 'i' symbol type.
@
text
@d1846 6
a1851 6
For PPC, @@option{booke}, @@option{booke32} and @@option{booke64} select
disassembly of BookE instructions.  @@option{32} and @@option{64} select
PowerPC and PowerPC64 disassembly, respectively.  @@option{e300}
selects disassembly for the e300 family.  @@option{440} selects
disassembly for the PowerPC 440.  @@option{ppcps} selects disassembly
for the paired single instructions of the PPC750CL.
@


1.132
log
@Change documentation license to FDL v1.3
@
text
@d2048 4
a2051 2
The symbol is an indirect reference to another symbol (I) or a normal
symbol (a space).
@


1.131
log
@Added --identify option to dlltool.
@
text
@d17 1
a17 1
under the terms of the GNU Free Documentation License, Version 1.2
d136 2
a137 2
Documentation License.  A copy of the license is included in the
section entitled ``GNU Free Documentation License''.
@


1.130
log
@binutils/
	* objcopy.c (copy_object): Don't setup_bfd_headers when extract_symbol.
	(setup_section): Don't zero vma and lma when extract_symbol.
	(copy_section): Discard relocations when extract_symbol.
	* doc/binutils.texi: Update --extract-symbol description.
ld/testsuite/
	* ld-elf/extract-symbol-1sec.d: Update.
@
text
@d3374 2
a3375 1
        [@@option{-x}|@@option{--no-idata4}] [@@option{-c}|@@option{--no-idata5}] [@@option{-i}|@@option{--interwork}]
d3425 3
a3427 3
will link with in order to access the functions in the DLL.  This file
can be created by giving the @@option{-l} option to dlltool when it
is creating or reading in a @@file{.def} file.
d3450 5
d3594 10
@


1.130.2.1
log
@backport 2008-12-04  Ben Elliston  <bje@@au.ibm.com>
@
text
@d1846 6
a1851 6
For PowerPC, @@option{booke} controls the disassembly of BookE
instructions.  @@option{32} and @@option{64} select PowerPC and
PowerPC64 disassembly, respectively.  @@option{e300} selects
disassembly for the e300 family.  @@option{440} selects disassembly for
the PowerPC 440.  @@option{ppcps} selects disassembly for the paired
single instructions of the PPC750CL.
@


1.129
log
@        PR binutils/6483
        * objdump.c (dump_bfd): If the -g option found no STABS or IEEE
        debug information to display, try dumping DWARF information
        instead.
        * rddbg.c (read_debugging_info): Add a parameter to suppress the
        display of a warning message when no debug information is found.
        * budbg.h (read_debugging_info): Update prototype.
        * objcopy.c (copy_object): Continue to allow read_debugging_info
        to produce warning messages.
        * doc/binutils.texi (--debugging): Document new behaviour of the
        -g/--debugging option.
@
text
@a1542 1
@@item sets the virtual and load addresses of every section to zero;
@


1.128
log
@        * doc/binutils.texi (strings): Add "unicode" to the documentation
        of strings in order to make explicit that it supports this
        feature.
@
text
@d1696 5
a1700 5
Display debugging information.  This attempts to parse debugging
information stored in the file and print it out using a C like syntax.
Only certain types of debugging information have been implemented.
Some other types are supported by @@command{readelf -w}.
@@xref{readelf}.
@


1.127
log
@        * dwarf.c (display_debug_lines): Rename to
        display_debug_lines_raw.
        (display_debug_lines_decoded): New function.  Displays the
        interpreted contents of a .debug_line section.
        (display_debug_lines): New function: Selects either a raw dump or
        a decoded dump (or both) as requested by the user.
        * dwarf.h (do_debug_lines_decoded): New extern.
        * readelf.c: Add support for -wL or --debug-dump=decodedline
        option to display the decoded contents of a .debug_line section.
        * doc/binutils.texi: Document the new option.
        * NEWS: Mention the new feature.
@
text
@d2363 2
a2364 1
littleendian. Useful for finding wide character strings.
@


1.126
log
@Add support for thin archives.
    * bfd/archive.c (_bfd_find_nested_archive): New function.
    (get_extended_arelt_filename): Add origin parameter.
    (_bfd_generic_read_ar_hdr_mag): Deal with extended name
    combined with a file offset.
    (append_relative_path): New function.
    (_bfd_get_elt_at_filepos): Deal with external members and
    nested archives.
    (bfd_generic_openr_next_archived_file): Thin archives.
    (bfd_generic_archive_p): Recognize new magic string.
    (adjust_relative_path): New function.
    (_bfd_construct_extended_name_table): Construct extended
    names for thin archive members.
    (_bfd_write_archive_contents): Emit new magic string, skip
    copying files for thin archives.
    * bfd/bfd-in.h (bfd_is_thin_archive): New macro.
    * bfd/bfd.c (struct bfd): New fields for thin archives.
    * bfd/libbfd-in.h (struct areltdata): New field for thin archives.
    * bfd/opncls.c (bfd_close): Delete BFDs for nested archives.
    * binutils/ar.c (make_thin_archive): New global flag.
    (map_over_members): Deal with full pathnames in thin archives.
    (usage, main): Add 'T' option for building thin archives.
    (replace_members): Pass thin archive flag to ar_emul_append.
    * binutils/arsup.c (ar_open): Initialize new flag.
    * binutils/binemul.c (ar_emul_append): Add new parameter for
    flattening nested archives.
    (do_ar_emul_default_append): New function.
    (ar_emul_default_append): Factored out recursive code.
    * binutils/binemul.h (ar_emul_default_append): Add new parameter.
    (struct bin_emulation_xfer_struct): New parameter for ar_append.
    * binutils/dlltool.c (gen_lib_file): Initialize thin archive flag.
    * binutils/emul_aix.c (ar_emul_aix_internal): Add new flatten
    parameter, currently unimplemented.
    All callers changed.
    * binutils/objcopy.c (copy_archive): Preserve thin archive flag.
    * binutils/doc/binutils.texi: Update ar documentation.
    * binutils/testsuite/binutils-all/ar.exp: Add thin archive tests.
    * include/aout/ar.h (ARMAGT): New magic string for thin archives.
@
text
@d3708 2
a3709 2
        [@@option{-w[liaprmfFsoR]}|
         @@option{--debug-dump}[=line,=info,=abbrev,=pubnames,=aranges,=macro,=frames,=frames-interp,=str,=loc,=Ranges]]
d3846 2
a3847 2
@@item -w[liaprmfFsoR]
@@itemx --debug-dump[=line,=info,=abbrev,=pubnames,=aranges,=macro,=frames,=frames-interp,=str,=loc,=Ranges]
d3852 4
@


1.125
log
@oops - omitted from previous delta
@
text
@d214 12
d371 2
d451 6
@


1.124
log
@* objdump.c (objdump_print_addr): If displaying file offsets, show
  the offset even if there are no symbols available.
  (dump_section): Display nothing if none of the section is going to
  be dumped.  Display the file offset, if requested, of the location
  from where the dump starts.
  * doc/binutils.texi (objdump): Mention that dumping via the -s
  switch is also affected by the -F option.
@
text
@d2101 1
a2101 1
ranlib [@@option{-vV}] @@var{archive}
d2130 3
@


1.123
log
@Re-apply this patch which was accidentally deleted:
         2006-05-16  Carlos O'Donell  <carlos@@codesourcery.com>

         * doc/binutils.texi: Use "Binutils Index" for index name.
@
text
@d1726 2
a1727 1
location from where the disassembly resumes.
@


1.122
log
@* objdump.c (display_file_offsets): New variable.
  (long_options): Add -F/--file-offsets.
  (objdump_print_addr_with_sym): If displaying file offsets, print
  the offset of the given address.
  (disassemble_bytes): If displaying file offsets, tell the user how
  many zeroes are skipped and the file offset of the point where
  dumping resumes.
  (disassemble_section): Only display the name of the section if
  data is going to be dumped from it.
  (main): Handle new option.  Produce error messages if the start or
  stop addresses do not make sense.
  * doc/binutils.texi: Document the new feature.
  * NEWS: Mention the new feature.
@
text
@d160 1
a160 1
* Index::                       Index
d4241 2
a4242 2
@@node Index
@@unnumbered Index
@


1.121
log
@binutils/

2007-12-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* doc/binutils.texi: Document the new intel-mnemonic and
	intel-mnemonic options for i386 disassembler.

gas/testsuite/

2007-12-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/compat-intel.d: New file.
	* gas/i386/compat.d: Likewise.
	* gas/i386/compat.s: Likewise.

	* gas/i386/i386.exp: Run compat.

opcodes/

2007-12-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (intel_mnemonic): New.
	(print_i386_disassembler_options): Display att-mnemonic and
	intel-mnemonic options.
	(print_insn): Handle att-mnemonic and intel-mnemonic.
	(float_reg): Replace SYSV386_COMPAT with "!M" and "M".
	(putop): Handle "!M" and "M".
@
text
@d14 1
a14 1
2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007 Free Software Foundation, Inc.
d1575 1
d1719 9
@


1.120
log
@* doc/binutils.texi: Update to FDL 1.2.
  (Top): consistent punctuation in menu entries.
  (Index): Rename from Binutils Index.
* doc/fdl.texi: Update from http://www.gnu.org/licenses/fdl.texi.
@
text
@d1804 5
a1808 1
intel syntax mode and AT&T syntax mode.  @@option{addr64}, @@option{addr32},
@


1.119
log
@* doc/binutils.texi: Move top stuff to the top.
  Use @@direntry/@@dircategory, format entries to play nicely with others.
  Avoid duplicate copying strings.
  Don't misspell "Texinfo".
@
text
@d17 1
a17 1
under the terms of the GNU Free Documentation License, Version 1.1
d145 1
a145 1
* readelf::			Display the contents of ELF format files.
d157 1
a157 1
* Selecting The Target System:: How these utilities determine the target.
d160 1
a160 1
* Binutils Index::                       Binutils Index
d3866 1
a3866 1
@@node Selecting The Target System
d4222 3
d4227 2
a4228 2
@@node Binutils Index
@@unnumbered Binutils Index
@


1.118
log
@	* doc/binutils.texi (objcopy, strip): Replace hyphens with em-dashes.
	(objdump, strip, c++filt): Correct punctuation for "e.g." and "i.e."
	and change to spell out "for example" in two places.
@
text
@d3 3
a5 2
@@c Copyright 2001, 2002, 2003, 2004, 2005, 2006, 2007
@@c Free Software Foundation, Inc.
a10 24
@@ifinfo
@@format
START-INFO-DIR-ENTRY
* Binutils: (binutils).         The GNU binary utilities.
* ar: (binutils)ar.               Create, modify, and extract from archives
* nm: (binutils)nm.               List symbols from object files
* objcopy: (binutils)objcopy.	  Copy and translate object files
* objdump: (binutils)objdump.     Display information from object files
* ranlib: (binutils)ranlib.       Generate index to archive contents
* readelf: (binutils)readelf.	  Display the contents of ELF format files.
* size: (binutils)size.           List section sizes and total size
* strings: (binutils)strings.     List printable strings from files
* strip: (binutils)strip.         Discard symbols
* c++filt: (binutils)c++filt.	  Filter to demangle encoded C++ symbols
* cxxfilt: (binutils)c++filt.     MS-DOS name for c++filt
* addr2line: (binutils)addr2line. Convert addresses to file and line
* nlmconv: (binutils)nlmconv.     Converts object code into an NLM
* windres: (binutils)windres.	  Manipulate Windows resources
* windmc: (binutils)windmc.	  Generator for Windows message resources
* dlltool: (binutils)dlltool.	  Create files needed to build and use DLLs
END-INFO-DIR-ENTRY
@@end format
@@end ifinfo

d26 24
a49 11
@@synindex ky cp
@@c
@@c This file documents the GNU binary utilities "ar", "ld", "objcopy",
@@c  "objdump", "nm", "size", "strings", "strip", "readelf" and "ranlib".
@@c
@@c Copyright (C) 1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000,
@@c 2001, 2002, 2003, 2004, 2005, 2006, 2007 Free Software Foundation, Inc.
@@c
@@c This text may be freely distributed under the terms of the GNU
@@c Free Documentation License.
@@c
a50 2
@@setchapternewpage odd
@@settitle @@sc{gnu} Binary Utilities
a51 1
@@finalout
d66 1
a66 1
\TeX{}info \texinfoversion\par }
d70 1
a70 10
Copyright @@copyright{} 1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998,
2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007 Free Software Foundation, Inc.

      Permission is granted to copy, distribute and/or modify this document
      under the terms of the GNU Free Documentation License, Version 1.1
      or any later version published by the Free Software Foundation;
      with no Invariant Sections, with no Front-Cover Texts, and with no
      Back-Cover Texts.  A copy of the license is included in the
      section entitled ``GNU Free Documentation License''.

d137 1
a137 1
section entitled "GNU Free Documentation License".
@


1.117
log
@* readelf.c (do_archive_index): New.
  (options): Add -c and --archive-index option.
  (usage): Add -c option.
  (parse_args): Add c option parsing.
  (process_archive): Dump archive index.
* NEWS: Mention the new feature.
* doc/binutils.texi: Document the new feature.
@
text
@d1518 1
a1518 1
Note - the choice of @@code{.dbg} as an extension for the debug info
d1533 1
a1533 1
Note - this switch is only intended for use on fully linked files.  It
d2020 1
a2020 1
symbol can be neither local or global for a variety of reasons, eg
d2529 1
a2529 1
Note - the choice of @@code{.dbg} as an extension for the debug info
d2535 1
a2535 1
@@item Copy @@code{foo} to  @@code{foo.full}
d2540 1
a2540 1
ie the file pointed to by the @@option{--add-gnu-debuglink} can be the
d2544 1
a2544 1
Note - this switch is only intended for use on fully linked files.  It
d2644 1
a2644 1
and will display ``f(),'' ie the demangled name followed by a
d2648 1
a2648 1
characters trailing after a mangled name.  eg:
d2684 1
a2684 1
the compiler, and they can be confused with non-mangled names.  eg
@


1.116
log
@* doc/binutils.texi (objdump): Describe the output of the --syms option in more detail.
@
text
@d3691 1
d3823 7
@


1.115
log
@PR binutils/4987
* resrc.c: (read_rc_file): Move 'filename' default initialization to start of function.
@
text
@d2005 8
a2012 4
characters are described below.  The next field is another number
associated with the symbol, which for common symbols is the alignment
and for other symbol is the size.  Finally the symbol's name is
displayed.
d2047 1
a2047 1
The symbol is the name of a function (f) or a file (F) or an object
@


1.114
log
@* readelf.c (dump_type): New type used to classify the kinds of dump requested by the user.
  (dump_sects, cmdline_dump_sects): Use the new type.
  (options): Add --string-dump option.
  (request_dump): Rename to request_dump_bynumber.  Use dump_type.
  (request_dump_byname): Use dump_type.
  (parse_args): Parse --string-dump option.
  (process_section_headers): Fix calls to request_dump.
  (initialise_dumps_byname): Likewise.
  (dump_section): Rename to dump_section_as_bytes.
  (dump_section_as_strings): New function.  Display the contents of a section as printable strings.
  (process_section_contents): String dump the section if requested.
  (process_object): Use dump_type.
  (main): Likewise.
* Makefile.am: Add dependency for readelf.c on safe-ctype.h.
* Makefile.in: Regenerate.
* NEWS: Mention the new feature.
* doc/binutils.texi: Document the new feature.
* testsuite/binutils-all/dumptest.s: New test file.
* testsuite/binutils-all/readelf.exp: Add test of readelf's -p switch.
@
text
@d711 1
d725 1
d729 1
d738 3
d744 3
d748 1
d752 1
d756 1
d763 1
d767 2
a768 1
the value of the weak symbol becomes zero with no error.
d771 1
a779 1

d1977 69
a2045 1
This is similar to the information provided by the @@samp{nm} program.
@


1.113
log
@binutils/
	* doc/binutils.texi (objdump): Document -Mppcps.

gas/
	* config/tc-ppc.c (parse_cpu): Handle "750cl".
	(pre_defined_registers): Add "gqr0" to "gqr7", "gqr.0" to "gqr.7".
	(md_show_usage): Document -m750cl.
	(md_assemble): Handle two delimiters in succession (eg. `),').
	* doc/c-ppc.texi (PowerPC-Opts): Document -m750cl.
	* testsuite/gas/ppc/ppc.exp: Run ppc70ps dump tests.
	* testsuite/gas/ppc/ppc750ps.s: New file.
	* testsuite/gas/ppc/ppc750ps.d: Likewise.

include/opcode/
	* ppc.h (PPC_OPCODE_PPCPS): New.

opcodes/
	* ppc-opc.c (PSW, PSWM, PSQ, PSQM, PSD, MTMSRD_L): New.
	(XOPS, XOPS_MASK, XW, XW_MASK): Likewise.
	(PPCPS): Likewise.
	(powerpc_opcodes): Add all pair singles instructions.
	* ppc-dis.c (powerpc_dialect): Handle "ppcps".
	(print_ppc_disassembler_options): Document -Mppcps.
@
text
@d3604 1
d3730 6
@


1.112
log
@patch: Correct documentation of windmc.
@
text
@d1822 4
a1825 3
PowerPC and PowerPC64 disassembly, respectively.  @@option{e300} selects
disassembly for the e300 family.  @@option{440} selects disassembly for
the PowerPC 440.
@


1.111
log
@Add new --common option to size.
@
text
@d3024 1
a3024 2
Enable verbose mode.  This tells you what the preprocessor is if you
didn't specify one.
d3028 1
a3028 1
Prints the version number for @@command{windres}.
@


1.110
log
@2007-06-28  Roland McGrath  <roland@@frob.com>

	* objcopy.c (setup_section): Don't reset ELF section type to
	SHT_NOBITS when it is SHT_NOTE.
	* doc/binutils.texi (objcopy, strip): Mention under --only-keep-debug.
@
text
@d2073 1
d2157 4
@


1.109
log
@* Makefile.am: Add windmc tool.
* Makefile.in: Regenerate.
* configure.in: Add windmc tool.
* configure: Regenerate.
* mclex.c: New.
* mcparse.y: New.
* windmc.c: New.
* windmc.h: New.
* doc/Makefile.am: Add windmc tool.
* doc/Makefile.in: Regenerate.
* doc/binutils.texi: Add windmc documentation.
* NEWS: Mention new tool.
@
text
@d56 1
a56 1
@@c 
d208 1
a208 1
extraction.  
d299 1
a299 1
than one member.  
d423 1
a423 1
@@c what???---doc@@@@cygnus.com, 25jan91 
d556 1
a556 1
@@item ADDLIB @@var{archive} 
d637 1
a637 1
the current archive, must exist. 
d649 1
a649 1
command. 
d762 1
a762 1
error.  On some systems, uppercase indicates that a default value has been 
d792 1
a792 1
@@itemx --print-file-name 
d801 1
a801 1
@@itemx --debug-syms 
d817 2
a818 2
mangling styles. The optional demangling style argument can be used to 
choose an appropriate demangling style for your compiler. @@xref{c++filt}, 
d841 1
a841 1
@@itemx --extern-only 
d856 1
a856 1
@@itemx --numeric-sort 
d858 1
a858 1
by their names. 
d861 1
a861 1
@@itemx --no-sort 
d883 1
a883 1
@@itemx --reverse-sort 
d890 2
a891 2
value.  If the @@code{bsd} output format is used the size of the symbol 
is printed, rather than the value, and @@samp{-S} must be used in order 
d913 1
a913 1
@@itemx --undefined-only 
d1013 1
a1013 1
        [@@option{-V}|@@option{--version}]  
d1093 1
a1093 1
an object file and then access it in your code using these symbols. 
d1238 1
a1238 1
that they are loaded at a different address, the program may fail. 
d1261 1
a1261 1
will be issued, unless @@option{--no-change-warnings} is used.  
d1275 1
a1275 1
@@option{--no-change-warnings} is used.   
d1281 1
a1281 1
exist, issue a warning.  This is the default. 
d1287 1
a1287 1
if the named section does not exist. 
d1375 1
a1375 1
Meaningful only for srec output.  Avoid generation of S1/S2 records, 
d1440 1
a1440 1
a machine is assigned an official code and the tool-chain adopts the 
d1484 1
a1484 1
intact.
d1536 1
a1536 1
 
d1677 2
a1678 2
mangling styles. The optional demangling style argument can be used to 
choose an appropriate demangling style for your compiler. @@xref{c++filt}, 
d2029 1
a2029 1
member of an archive that is a relocatable object file.  
d2074 1
a2074 1
     [@@option{--target=}@@var{bfdname}] [@@option{-V}|@@option{--version}]  
d2104 1
a2104 1
Berkeley's.  
d2110 1
a2110 1
@@command{size}: 
d2125 4
a2128 4
.text         294880         8192       
.data          81920       303104       
.bss           11592       385024       
Total         388392    
d2133 4
a2136 4
.text         294880         8192       
.data          81920       303104       
.bss           11888       385024       
Total         388688    
d2415 3
a2417 2
Strip a file, removing any sections that would be stripped by
@@option{--strip-debug} and leaving the debugging sections.
d2507 1
a2507 1
@@footnote{MS-DOS does not allow @@kbd{+} characters in file names, so on 
d2647 1
a2647 1
passed as an argument on the command line; in other words, 
d2734 2
a2735 2
mangling styles. The optional demangling style argument can be used to 
choose an appropriate demangling style for your compiler. @@xref{c++filt}, 
d3159 1
a3159 1
matches any of the supported @@var{formats} (as described in the @@option{-J} 
d3197 2
a3198 2
the preprocessor. Use this option if the popen implementation is buggy 
on the host (eg., certain non-English language versions of Windows 95 and 
d3257 1
a3257 1
        [@@option{-l}|@@option{--output-lib} @@var{library-file-name}]        
d3269 1
a3269 1
        [@@option{-v}|@@option{--verbose}] 
d3282 2
a3283 2
has been specified it creates a def file.  Any or all of the @@option{-e}, 
@@option{-l} and @@option{-z} options can be present in one invocation of 
d3304 1
a3304 1
  asm (".section .drectve");  
d3314 1
a3314 1
@@command{dlltool} when it is creating or reading in a @@file{.def} file. 
d3436 1
a3436 1
means! 
d3441 1
a3441 1
should prepend an underscore to the names of @@emph{all} exported symbols. 
d3498 1
a3498 1
is generated from the pid.  
d3583 1
a3583 1
readelf [@@option{-a}|@@option{--all}] 
d3628 1
a3628 1
given. 
d3636 1
a3636 1
@@option{--version-info}. 
d3808 2
a3809 2
* Target Selection::            
* Architecture Selection::      
@


1.108
log
@Add description of new --codepage switch for windres which was accidentally omitted when the full patch was checked in.
@
text
@d28 1
d149 3
d176 1
d2877 162
@


1.107
log
@	* doc/binutils.texi (objdump): Fix capitalisation of "PowerPC".
@
text
@d3014 7
@


1.106
log
@Use @@copying around copyright notices
@
text
@d1819 1
a1819 1
the powerPC 440.
@


1.105
log
@* objcopy.c (reverse_bytes):  New variable.
  (command_line_switch, copy_main):  Add OPTION_REVERSE_ENDIAN.
  (copy_options, copy_usage):  Add "reverse-bytes" entry.
  (copy_section):  Reverse bytes within output sections.
* doc/binutils.texi:  Document new objcopy option.
* testsuite/binutils-all/objcopy.exp: Add test for --reverse-bytes.
@
text
@d33 1
a33 1
@@ifinfo
d46 1
a46 8
@@ignore
Permission is granted to process this file through TeX and print the
results, provided the printed document carries a copying permission
notice identical to this one except for the removal of this paragraph
(this paragraph not being relevant to the printed manual).

@@end ignore
@@end ifinfo
@


1.104
log
@bfd/
200x-xx-xx  Richard Sandiford  <richard@@codesourcery.com>
	    Phil Edwards  <phil@@codesourcery.com>

	* doc/bfd.texinfo: Put the contents after the title page rather
	than at the end of the document.

binutils/
200x-xx-xx  Richard Sandiford  <richard@@codesourcery.com>
	    Phil Edwards  <phil@@codesourcery.com>

	* doc/binutils.texi: Put the contents after the title page rather
	than at the end of the document.

gas/
200x-xx-xx  Richard Sandiford  <richard@@codesourcery.com>
	    Phil Edwards  <phil@@codesourcery.com>

	* doc/as.texinfo: Put the contents after the title page rather
	than at the end of the document.

gprof/
200x-xx-xx  Richard Sandiford  <richard@@codesourcery.com>
	    Phil Edwards  <phil@@codesourcery.com>

	* gprof.texi: Put the contents after the title page rather
	than at the end of the document.

ld/
200x-xx-xx  Richard Sandiford  <richard@@codesourcery.com>
	    Phil Edwards  <phil@@codesourcery.com>

	* ld.texinfo: Put the contents after the title page rather
	than at the end of the document.
@
text
@d990 1
d1056 1
d1347 24
@


1.103
log
@bfd:
	* Makefile.am (bfdver.h): Only set VERSION_PACKAGE in bfdver.texi
	if nonempty.
	* configure.in (REPORT_BUGS_TO): Do not use "URL:" prefix.
	* Makefile.in, configure, doc/Makefile.in: Regenerate.

binutils:
	* doc/binutils.texi: Include VERSION_PACKAGE when reporting
	version.

gas:
	* doc/as.texinfo: Include VERSION_PACKAGE when reporting version.

gprof:
	* Makefile.am (TEXI2POD): Include $(AM_MAKEINFOFLAGS).
	(AM_MAKEINFOFLAGS, TEXI2DVI): Define with -I ../bfd/doc.
	* Makefile.in: Regenerate.
	* gprof.texi: Include bfdver.texi.  Report both VERSION_PACKAGE
	and VERSION.

ld:
	* ld.texinfo: Include VERSION_PACKAGE when reporting version.
@
text
@d100 1
a3950 1
@@contents
@


1.102
log
@bfd/

2007-03-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (bfdver.h): Substitute report_bugs_to.  Also
	create doc/bfdver.texi.
	* Makefile.in: Regenerated.

	* configure.in (--with-bugurl): New option.
	* configure: Regenerated.

	* version.h (REPORT_BUGS_TO): New.

binutils/

2007-03-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (REPORT_BUGS_TO): Removed.
	(INCLUDES): Remove -DREPORT_BUGS_TO.
	* Makefile.in: Regenerated.

	* bucomm.c: Don't include bfdver.h.
	* objdump.c: Likewise.
	* version.c: Likewise.

	* bucomm.h: Include bfdver.h.

	* configure.in (--with-bugurl): Removed.
	* configure: Regenerated.

	* doc/Makefile.am (binutils_TEXINFOS): Removed.
	(AM_MAKEINFOFLAGS): Add -I ../../bfd/doc.
	(TEXI2DVI): Likewise.
	(config.texi): Removed.
	(MOSTLYCLEANFILES): Remove config.texi.
	* doc/Makefile.in: Regenerated.

	* doc/binutils.texi: Include bfdver.texi instead of
	config.texi.

gas/

2007-03-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (REPORT_BUGS_TO): Removed.
	(INCLUDES): Remove -DREPORT_BUGS_TO.
	* Makefile.in: Regenerated.

	* configure.in (--with-bugurl): Removed.
	* configure: Regenerated.

	* doc/Makefile.am (as_TEXINFOS): Remove gasver.texi.
	(AM_MAKEINFOFLAGS): Add -I ../../bfd/doc.
	(TEXI2DVI): Likewise.
	(gasver.texi): Removed.
	(MOSTLYCLEANFILES): Remove gasver.texi.
	(as.1): Don't depend on gasver.texi.
	* doc/Makefile.in: Regenerated.

	* doc/as.texi: Include bfdver.texi instead of gasver.texi.

gprof/

2007-03-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (REPORT_BUGS_TO): Removed.
	(INCLUDES): Remove -DREPORT_BUGS_TO.
	* Makefile.in: Regenerated.

	* configure.in (--with-bugurl): Removed.
	* configure: Regenerated.

ld/

2007-03-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (ld_TEXINFOS): Remove ldver.texi.
	(AM_MAKEINFOFLAGS): Add -I ../../bfd/doc.
	(TEXI2DVI): Likewise.
	(REPORT_BUGS_TO): Removed.
	(INCLUDES): Remove -DREPORT_BUGS_TO.
	(ldver.texi): Likewise.
	(ld.1): Don't depend on ldver.texi.
	(MOSTLYCLEANFILES): Remove ldver.texi.
	* Makefile.in: Regenerated.

	* configure.in (--with-bugurl): Removed.
	* configure: Regenerated.

	* lexsup.c: Include bfdver.h.

	* ld.texinfo: Include bfdver.texi instead of ldver.texi.
@
text
@d72 3
d106 5
a110 1
utilities (collectively version @@value{VERSION}): 
@


1.101
log
@binutils:
	* configure.in (REPORT_BUGS_TEXI): Define to Texinfo version of
	bug-reporting URL.
	* doc/Makefile.am (config.texi): Define BUGURL.
	* doc/binutils.texi: Use BUGURL.  Remove text about large files
	and uuencoding.
	* Makefile.in, configure, doc/Makefile.in: Regenerate.

gas:
	* configure.in (REPORT_BUGS_TEXI): Define to Texinfo version of
	bug-reporting URL.
	* doc/Makefile.am (gasver.texi): Define BUGURL.
	* doc/as.texinfo: Use BUGURL.
	* Makefile.in, configure, doc/Makefile.in: Regenerate.

ld:
	* configure.in (REPORT_BUGS_TEXI): Define to Texinfo version of
	bug-reporting URL.
	* Makefile.am (ldver.texi): Define BUGURL.
	* ld.texinfo: Use BUGURL.
	* Makefile.in, configure: Regenerate.
@
text
@d7 1
a7 1
@@include config.texi
@


1.100
log
@binutils/
200x-xx-xx  Phil Edwards  <phil@@codesourcery.com>
	    Richard Sandiford  <richard@@codesourcery.com>

	* NEWS: Mention addition of --extract-symbol.
	* doc/binutils.texi: Document it.
	* objcopy.c (extract_symbol): New variable.
	(OPTION_EXTRACT_SYMBOLS): New command_line_switch.
	(copy_options): Add an entry for --extract-symbol.
	(copy_usage): Mention --extract-symbol.
	(copy_object): Set the start address to zero for --extract-symbol.
	Do not copy private BFD data in that case.
	(setup_section): Set the size, LMA and VMA to zero for
	--extract-symbol.  Do not copy private BFD data in that case.
	(copy_section): Do not copy section contents if --extract-symbol
	is passed.
	(copy_main): Set extract_symbol to TRUE if --extract-symbol
	is passed.

ld/testsuite/
	* ld-elf/extract-symbol-1sym.d, ld-elf/extract-symbol-1sec.d,
	* ld-elf/extract-symbol-1.s, ld-elf/extract-symbol-1.ld: New tests.
	* ld-elf/binutils.exp: Run them.
@
text
@d3 2
a4 1
@@c Copyright 2001, 2002, 2003, 2004, 2005, 2006 Free Software Foundation, Inc.
d36 1
a36 1
2000, 2001, 2002, 2003, 2004, 2005, 2006 Free Software Foundation, Inc.
d60 2
a61 2
@@c Copyright (C) 1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999,
@@c 2000, 2001, 2002, 2003, 2004, 2005, 2006 Free Software Foundation, Inc.
d87 1
a87 1
2000, 2001, 2002, 2003, 2004, 2005, 2006 Free Software Foundation, Inc.
d3788 1
d3790 2
a3791 1
utilities to @@samp{bug-binutils@@@@gnu.org}.
d3850 1
a3850 5
generally most helpful to send the actual object files, uuencoded if
necessary to get them through the mail system.  Note that
@@samp{bug-binutils@@@@gnu.org} is a mailing list, so you should avoid
sending very large files to it.  Making the files available for
anonymous FTP is OK.
@


1.99
log
@binutils/

2076-02-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* doc/binutils.texi (objdump): Document the new addr64 option
	for i386 disassembler.

include/

2076-02-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* dis-asm.h (print_i386_disassembler_options): New.

opcodes/

2076-02-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* disassemble.c (disassembler_usage): Call
	print_i386_disassembler_options for i386 disassembler.

	* i386-dis.c (print_i386_disassembler_options): New.
	(print_insn): Support the new addr64 option.
@
text
@d999 1
d1493 15
@


1.98
log
@* doc/binutils.texi (objdump): Document support for disassembling the 440 PowerPC architecture.
@
text
@d1763 1
a1763 1
intel syntax mode and AT&T syntax mode.  @@option{addr32},
@


1.97
log
@PR binutils/3166
* objcopy.c (is_strip_section): Do not treat group sections as debugging sections.
* doc/binutils.texi (--only-keep-debug): Document that this switch is only intended for use on fully linked files.
@
text
@d1774 2
a1775 1
disassembly for the e300 family.
@


1.96
log
@Fix spelling typos
@
text
@d1485 7
d2401 7
@


1.95
log
@2006-07-06  Mohammed Adnène Trojette  <adn@@diwi.org>

PR binutils/2875
* doc/binutils.texi (readelf): Fix spelling typo.
@
text
@d892 1
a892 1
symbols used to mark transistions between ARM code, THUMB code and
d1481 1
a1481 1
i.e. the file pointed to by the @@option{--add-gnu-debuglink} can be the
d1769 1
a1769 1
For MIPS, this option controls the printing of instruction mneumonic
d1776 2
a1777 2
Print the 'raw' instruction mneumonic instead of some pseudo
instruction mneumonic.  I.E. print 'daddu' or 'or' instead of 'move',
d1820 1
a1820 1
be decoded as VAX instructions, which would probably lead the the rest
d2467 1
a2467 1
checking is performed to seperate them from surrounding text.  Thus
d2581 1
a2581 1
a command-line option may be required in the the future to decode a name
d2895 1
a2895 1
for compatability with @@command{rc} the option @@option{-fo} is also
d2932 1
a2932 1
matches any of the supported @@var{formats} (as descrived in the @@option{-J} 
d3840 1
a3840 1
copy of the utility is out of synch, or you have encountered a bug in
@


1.94
log
@PR binutils/2879
* doc/binutils.texi: Document -T shorthand for --target switch.
* strings.c: Update comment to include -T option.
@
text
@d3399 1
a3399 1
Equivalent to specifiying @@option{--file-header},
@


1.93
log
@binutils/
	* objcopy.c (localize_hidden): New variable.
	(OPTION_LOCALIZE_HIDDEN): New command_line_switch value.
	(copy_options): Add --localize-hidden.
	(copy_usage): Mention --localize-hidden.
	(is_hidden_symbol): New function.
	(filter_symbols): Handle localize_hidden.
	(copy_object): Call filter_symbols if localize_hidden.
	(copy_main): Handle OPTION_LOCALIZE_HIDDEN.
	* doc/binutils.texi (--localize-hidden): Document new option.

binutils/testsuite/
	* binutils-all/localize-hidden-1.s,
	* binutils-all/localize-hidden-1.d,
	* binutils-all/localize-hidden-2.s,
	* binutils-all/localize-hidden-2.d: New tests.
	* binutils-all/objcopy.exp: Run them.
@
text
@d2139 1
a2139 1
        [@@option{--target=}@@var{bfdname}]
d2200 2
a2201 1
@@item --target=@@var{bfdname}
@


1.92
log
@
2006-05-17  Carlos O'Donell  <carlos@@codesourcery.com>

	* doc/binutils.texi: Use "Binutils Index" for index name.
@
text
@d955 1
d1128 5
@


1.91
log
@binutils/
	* doc/Makefile.am (AM_MAKEINFOFLAGS): New.
	(TEXI2POD): Use AM_MAKEINFOFLAGS.
	(config.texi): Don't set top_srcdir.
	* doc/binutils.texi: Don't use top_srcdir.
	* aclocal.m4, Makefile.in, doc/Makefile.in: Regenerated.
gas/
	* doc/Makefile.am (AM_MAKEINFOFLAGS): New.
	(TEXI2POD): Use AM_MAKEINFOFLAGS.
	(asconfig.texi): Don't set top_srcdir.
	* doc/as.texinfo: Don't use top_srcdir.
	* aclocal.m4, Makefile.in, doc/Makefile.in: Regenerated.
ld/
	* Makefile.am (AM_MAKEINFOFLAGS): Add libiberty.
	(TEXI2POD): Use AM_MAKEINFOFLAGS.
	(configdoc.texi): Don't set top_srcdir.
	* ld.texinfo: Don't use top_srcdir.
	* aclocal.m4, Makefile.in: Regenerated.
@
text
@d175 1
a175 1
* Index::                       Index
d3901 2
a3902 2
@@node Index
@@unnumbered Index
@


1.90
log
@	* addr2line.c (long_options): Add new option 'section'.
	(usage): Document new -j/--section option.
	(find_offset_in_section): New function.
	(translate_addresses): Add 'section' parameter.
	If it is non-null, call find_offset_in_section on it.
	(process_file): Add 'section_name' parameter.
	If it is non-null, look for the section in the BFD object.
	Pass the section to translate_addresses.
	(main): Handle new -j option.
	Pass the section name to process_file.
	* doc/binutils.texi (addr2line): Document new -j/--section option.
@
text
@d3528 1
a3528 1
@@include @@value{top_srcdir}/../libiberty/at-file.texi
@


1.90.2.1
log
@binutils/
	* doc/Makefile.am (AM_MAKEINFOFLAGS): New.
	(TEXI2POD): Use AM_MAKEINFOFLAGS.
	(config.texi): Don't set top_srcdir.
	* doc/binutils.texi: Don't use top_srcdir.
	* aclocal.m4, Makefile.in, doc/Makefile.in: Regenerated.
gas/
	* doc/Makefile.am (AM_MAKEINFOFLAGS): New.
	(TEXI2POD): Use AM_MAKEINFOFLAGS.
	(asconfig.texi): Don't set top_srcdir.
	* doc/as.texinfo: Don't use top_srcdir.
	* aclocal.m4, Makefile.in, doc/Makefile.in: Regenerated.
ld/
	* Makefile.am (AM_MAKEINFOFLAGS): Add libiberty.
	(TEXI2POD): Use AM_MAKEINFOFLAGS.
	(configdoc.texi): Don't set top_srcdir.
	* ld.texinfo: Don't use top_srcdir.
	* aclocal.m4, Makefile.in: Regenerated.
@
text
@d3528 1
a3528 1
@@include at-file.texi
@


1.89
log
@	* dlltool.c: Update copyright year.
	* doc/binutils.texi: Likewise.
@
text
@d2604 1
d2612 8
a2619 7
@@command{addr2line} translates program addresses into file names and line
numbers.  Given an address and an executable, it uses the debugging
information in the executable to figure out which file name and line
number are associated with a given address.

The executable to use is specified with the @@option{-e} option.  The
default is the file @@file{a.out}.
d2687 4
@


1.89.2.1
log
@
2006-05-12  Carlos O'Donell  <carlos@@codesourcery.com>

	* binutils/doc/binutils.texi: Rename "Index" to "Binutils Index"
@
text
@d175 1
a175 1
* Binutils Index::                       Binutils Index
d3895 2
a3896 2
@@node Binutils Index
@@unnumbered Binutils Index
@


1.89.2.2
log
@binutils/
	* objcopy.c (localize_hidden): New variable.
	(OPTION_LOCALIZE_HIDDEN): New command_line_switch value.
	(copy_options): Add --localize-hidden.
	(copy_usage): Mention --localize-hidden.
	(is_hidden_symbol): New function.
	(filter_symbols): Handle localize_hidden.
	(copy_object): Call filter_symbols if localize_hidden.
	(copy_main): Handle OPTION_LOCALIZE_HIDDEN.
	* doc/binutils.texi (--localize-hidden): Document new option.

binutils/testsuite/
	* binutils-all/localize-hidden-1.s,
	* binutils-all/localize-hidden-1.d,
	* binutils-all/localize-hidden-2.s,
	* binutils-all/localize-hidden-2.d: New tests.
	* binutils-all/objcopy.exp: Run them.
@
text
@a954 1
        [@@option{--localize-hidden}]
a1126 5
@@item --localize-hidden
In an ELF object, mark all symbols that have hidden or internal visibility
as local.  This option applies on top of symbol-specific localization options
such as @@option{-L}.

@


1.89.2.3
log
@Merge changes between binutils-csl-2_17-branchpoint and
binutils-2_17, except for the addition of generated files to CVS.
@
text
@a2609 1
          [@@option{-j}|@@option{--section=}@@var{name}]
d2617 7
a2623 8
@@command{addr2line} translates addresses into file names and line numbers.
Given an address in an executable or an offset in a section of a relocatable
object, it uses the debugging information to figure out which file name and
line number are associated with it.

The executable or relocatable object to use is specified with the @@option{-e}
option.  The default is the file @@file{a.out}.  The section in the relocatable
object to use is specified with the @@option{-j} option.
a2690 4

@@item -j
@@itemx --section
Read offsets relative to the specified section instead of absolute addresses.
d3528 1
a3528 1
@@include at-file.texi
@


1.88
log
@	* dlltool.c (add_stdcall_underscore): New flag.
	(xlate): Also add underscore to stdcall symbol if
	add_stdcall_underscore set.
	(usage): Document --add-stdcall-underscore option.
	(OPTION_ADD_STDCALL_UNDERSCORE): New define.
	(long_options): Use it for --add-stdcall-underscore option.
	(main): Handle it.
	* doc/binutils.texi: Document --add-stdcall-underscore option
	and differentiate from --add-underscore.
@
text
@d3 1
a3 1
@@c Copyright 2001, 2002, 2003, 2004, 2005 Free Software Foundation, Inc.
d35 1
a35 1
2000, 2001, 2002, 2003, 2004, 2005 Free Software Foundation, Inc.
d60 1
a60 1
@@c 2000, 2001, 2002, 2003, 2004, 2005 Free Software Foundation, Inc.
d86 1
a86 1
2000, 2001, 2002, 2003, 2004, 2005 Free Software Foundation, Inc.
@


1.87
log
@* objcopy.c (use_alt_mach_code): Change type to unsigned long.
   (copy_object):  If bfd_alt_mach_code fails emit a more helpful message
   and if the target architecture is ELF use the alternative as replacement
   value for the e_machine number.
   (copy_main): Use strtoul to parse the number provided with the
   --alt-mach-code switch.
* doc/binutils.texi (--alt-mach-code): Document that this switch can now
    set the absolute e_machine value.
@
text
@d3016 3
a3018 2
        [@@option{-a}|@@option{--add-indirect}] [@@option{-U}|@@option{--add-underscore}] [@@option{-k}|@@option{--kill-at}]
        [@@option{-A}|@@option{--add-stdcall-alias}]
d3194 8
a3201 1
should prepend an underscore to the names of the exported functions. 
@


1.86
log
@	* doc/binutils.texi: Include config.texi and @@file documentation
	for manual pages.

	* Makefile.am (gprof.info, gprof.1): Depend on config.texi.
	(config.texi): New file.
	* Makefile.in: Regenerated.

	* Makefile.am (configdoc.texi): Set top_srcdir in configdoc.texi..
	* Makefile.in: Regenerated.
	* ld.texinfo: Include configdoc.texi and ldver.texi in man pages.
	Add @@file documentation.
@
text
@d1402 3
a1404 1
being used.
@


1.85
log
@binutils/
2005-11-15  Jan Beulich  <jbeulich@@novell.com>

	* objcopy.c (keep_file_symbols): New.
	(enum command_line_switch): Add OPTION_KEEP_FILE_SYMBOLS.
	(strip_options): Add --keep-file-symbols.
	(copy_options): Likewise.
	(copy_usage): Likewise.
	(strip_usage): Likewise.
	(filter_symbols): Act upon keep_file_symbols.
	(strip_main): Handle OPTION_KEEP_FILE_SYMBOLS.
	(copy_main): Likewise.
	* doc/binutils.texi: Document --keep-file-symbols for objcopy
	and strip.
@
text
@d5 1
d7 1
d3510 1
d3513 1
d3521 1
d3523 1
@


1.84
log
@	* readelf.c (struct dump_list_entry, request_dump_byname)
	(initialise_dumps_byname): New.
	(parse_args): Call request_dump_byname.
	(process_section_contents): Call initialise_dumps_byname.
	* doc/binutils.texi (readelf): Mention -x NAME.
	* NEWS: Likewise.
@
text
@d994 1
d1432 5
d2232 1
d2341 5
@


1.83
log
@PR binutils/1437
* cxxfilt.c (flags): Remove DMGL_TYPES;
  (long_options): Rename --no-types to --types.
  (usage): Likewise.
  (demangle_it): Add a comment describing why _ and $ prefixes are skipped.
  Use printf rather than puts to emit the demangled output in order to avoid
  emitting a new line character.
  (main): Have the -t flag enable type demangling.
  Emit a newline after every demangled command line argument.
  Copy whitespace from stdin to stdout.
* doc/binutils.texi (c++filt): Document the change to the -t switch.
  Document why demangling names on the command line is slightly different
  to demangling names read from the standard input.
@
text
@d3327 1
a3327 1
        [@@option{-x} <number>|@@option{--hex-dump=}<number>]
d3447 2
a3448 2
@@item -x <number>
@@itemx --hex-dump=<number>
d3450 2
@


1.82
log
@	* doc/Makefile.am (config.texi): Set top_srcdir.
	* doc/Makefile.in: Regenerated.
	* doc/binutils.texi: Use at-file.texi from libiberty.
@
text
@d2402 1
a2402 1
        [@@option{-t}|@@option{--no-types}]
d2412 8
a2419 6
The C++ and Java languages provides function overloading, which means
that you can write many functions with the same name (providing each
takes parameters of different types).  All C++ and Java function names
are encoded into a low-level assembly label (this process is known as
@@dfn{mangling}). The @@command{c++filt}
@@footnote{MS-DOS does not allow @@kbd{+} characters in file names, so on
d2422 1
a2422 2
names into user-level names so that the linker can keep these overloaded
functions from clashing.
d2427 4
a2430 1
low-level name in the output.
d2432 2
a2433 1
You can use @@command{c++filt} to decipher individual symbols:
d2440 33
a2472 2
names from the standard input and writes the demangled names to the
standard output.  All results are printed on the standard output.
d2501 6
a2506 3
@@itemx --no-types
Do not attempt to demangle types.  This is enabled by default, but it
may not be desired if you are interested in mangled function names.
@


1.81
log
@* doc/binutils.texi (objdump): Fix typo: -reg-name-std should be -reg-names-std.
@
text
@d3456 1
a3456 13
@@item @@@@@@var{file}
Read command-line options from @@var{file}.  The options read are
inserted in place of the original @@@@@@var{file} option.  If @@var{file}
does not exist, or cannot be read, then the option will be treated
literally, and not removed.  

Options in @@var{file} are separated by whitespace.  A whitespace
character may be included in an option by surrounding the entire
option in either single or double quotes.  Any character (including a
backslash) may be included by prefixing the character to be included
character with a backslash.  The @@var{file} may itself contain
additional @@@@@@var{file} options; any such options will be processed
recursively.
@


1.80
log
@* cxxfilt.c: Treat mangled names specified on the command line in the same way
  as mangled names read from stdin.
  Add -i switch to disable the display of implementation details.
  Add -t switch to disable the demangling of types.
* NEWS: Mention the new switches.
* doc/binutils.texi (cxxfilt): Document the -i and -t switches.
@
text
@d1717 1
a1717 1
@@option{-M reg-name-std} (the default) will select the register names as
@


1.79
log
@	* addr2line.c (usage): Document @@file.
	* ar.c (usage): Likewise.
	* coffdump (usage): Likewise.
	* cxxfilt.c (usage): Likewise.
	* dlltool.c (usage): Likewise.
	* dllwrap.c (usage): Likewise.
	* nlmconv.c (usage): Likewise.
	* nm.c (usage): Likewise.
	* objcopy.c (usage): Likewise.
	* objdump.c (usage): Likewise.
	* readelf.c (usage): Likewise.
	* size.c (usage): Likeise.
	* srconv.c (usage): Likewise.
	* strings.c (usage): Likewise.
	* windres.c (usage): Likewise.
	* doc/binutils.texi: Add section on common options.
@
text
@a2399 1
        [@@option{-j}|@@option{--java}]
d2402 2
d2424 3
a2426 3
dollars, or periods) seen in the input is a potential label.  If the
label decodes into a C++ name, the C++ name replaces the low-level
name in the output.
d2464 10
@


1.78
log
@2005-10-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* NEWS: Mention -W/--dwarf.

	* doc/binutils.texi: Document -W/--dwarf for objdump.
@
text
@d169 1
d3438 29
@


1.77
log
@gas/
	* config/tc-ppc.c (parse_cpu): Add -me300 support.
	(md_show_usage): Likewise.
	* doc/c-ppc.texi (PowerPC-Opts): Document it.
include/opcode/
	* ppc.h (PPC_OPCODE_E300): Define.
opcodes/
	* ppc-dis.c (powerpc_dialect): Handle e300.
	(print_ppc_disassembler_options): Likewise.
	* ppc-opc.c (PPCE300): Define.
	(powerpc_opcodes): Mark icbt as available for the e300.
binutils/
	* doc/binutils.texi (objdump): Document -M e300.
@
text
@d1524 1
d1849 7
@


1.76
log
@2005-08-11  H.J. Lu  <hongjiu.lu@@intel.com>

	* NEWS: Mention "-t/--section-details" and
	"-N/--full-section-name".

	* doc/binutils.texi: Document "-t/--section-details". Remove
	"-N/--full-section-name".

	* readelf.c (do_full_section_name): Renamed to ...
	(do_section_details): This.
	(option): Rename "-N/--full-section-name" to
	"-t/--section-details".
	(usage): Likewise.
	(parse_args): Likewise.
	(get_elf_section_flags): Support do_section_details.
	(process_section_headers): Updated for do_section_details.
@
text
@d1748 2
a1749 1
PowerPC and PowerPC64 disassembly, respectively.
@


1.75
log
@Approved by nickc@@redhat.com:

	2005-05-23  Fred Fish  <fnf@@specifixinc.com>
	* addr2line.c (unwind_inlines): New flag for 'i' option.
	(usage): Document '-i' option.
	(long_options): Recognize '--inlines'.
	(translate_addresses): Loop, calling bfd_find_inliner_info as
	necessary and printing multiple output lines.
	(main): Handle 'i' option.
	* doc/binutils.texi (addr2line): Document '-i' option.
	* NEWS: Mention new addr2line '-i' option.
@
text
@d3257 1
a3257 1
        [@@option{-N}|@@option{--full-section-name}]
d3334 4
a3337 4
@@item -N
@@itemx --full-section-name
@@cindex ELF section name information
Displays the full section name for @@option{-S}.
@


1.74
log
@* doc/binutils.texi (strip, objcopy): Clarify the description of
the "--strip-debug" option.  Fix a typo.
@
text
@d2527 1
d2600 9
@


1.73
log
@* objcopy.c (copy_usage): Fix description of -K switch.
* doc/binutils.texi (strip, objcopy): Fix description of -K switch.
@
text
@d1431 3
a1433 2
Strip a file, removing any sections that would be stripped by
@@option{--strip-debug} and leaving the debugging sections.
d1464 1
a1464 1
ie the file pointed to by the @@option{--add-gnu-debuglink} can be the
@


1.72
log
@* doc/binutils.texi (readelf): Remove a duplicate paragraph.
@
text
@d1105 2
a1106 2
Copy only symbol @@var{symbolname} from the source file.  This option may
be given more than once.
d2280 2
a2281 2
Keep only symbol @@var{symbolname} from the source file.  This option may
be given more than once.
@


1.71
log
@2005-04-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* NEWS: Mention new readelf options, "-N/--full-section-name"
	and "-g/--section-groups".

	* doc/binutils.texi: Document new readelf options,
	"-N/--full-section-name" and "-g/--section-groups".
@
text
@a3353 6
@@item -u
@@itemx --unwind
@@cindex unwind information
Displays the contents of the file's unwind section, if it has one.  Only
the unwind sections for IA64 ELF files are currently supported.

@


1.70
log
@Add VAX specific disassembler option -Mentry: to specify a function entry
address, and add code to test this new option.
@
text
@d3245 2
d3317 11
@


1.69
log
@Add new switch --globalize-symbol to convert local symbols into globals.
@
text
@d1796 7
@


1.68
log
@update copyright dates
@
text
@d33 1
a33 1
2000, 2001, 2002, 2003, 2004 Free Software Foundation, Inc.
d58 1
a58 1
@@c 2000, 2001, 2002, 2003, 2004 Free Software Foundation, Inc.
d84 1
a84 1
2000, 2001, 2002, 2003, 2004 Free Software Foundation, Inc.
d953 1
d986 1
d1132 5
d1381 6
@


1.68.2.1
log
@* doc/binutils.texi (readelf): Remove a duplicate paragraph.
@
text
@d3321 6
@


1.68.2.2
log
@2005-04-20  H.J. Lu  <hongjiu.lu@@intel.com>

	* doc/binutils.texi: Document new readelf option,
	"-g/--section-groups".
@
text
@a3224 1
        [@@option{-g}|@@option{--section-groups}]
a3294 6
@@item -g
@@itemx --section-groups
@@cindex ELF section group information
Displays the information contained in the file's section groups, if it
has any.

@


1.67
log
@	2005-01-19  Fred Fish  <fnf@@specifixinc.com>
	* NEWS: Make note of the new MIPS disassembly option "no-aliases".
	* doc/binutils.texi (objdump): Document the "no-aliases"
	disassembly option.
@
text
@d3 1
a3 1
@@c Copyright 2001, 2002, 2003, 2004 Free Software Foundation, Inc.
@


1.66
log
@PR binutils/637
* doc/binutils.texi (c++filt): Use uppercase CXXFILT in the footnote in order
to prevent the sed script in the Makefile from converting it into c++filt.
@
text
@d1736 4
a1739 4
For MIPS, this option controls the printing of register names in
disassembled instructions.  Multiple selections from the
following may be specified as a comma separated string, and invalid
options are ignored:
d1742 5
@


1.65
log
@binutils/
2004-12-15 Jan Beulich  <jbeulich@@novell.com>

	* doc/binutils.texi: Document --strip-unneeded-symbol and
	--strip-unneeded-symbols.
	* objcopy.c (strip_unneeded_list): New.
	(enum command_line_switch): Add OPTION_STRIP_UNNEEDED_SYMBOL
	and OPTION_STRIP_UNNEEDED_SYMBOLS.
	(copy_options): Add  --strip-unneeded-symbol and
	--strip-unneeded-symbols.
	(copy_usage): Likewise.
	(filter_symbols): Suppress copying of symbol if in strip_unneeded_list
	and the symbol is not needed.
	(copy_main): Handle OPTION_STRIP_UNNEEDED_SYMBOL and
	OPTION_STRIP_UNNEEDED_SYMBOLS.
@
text
@d2381 1
a2381 1
MS-DOS this program is named @@command{cxxfilt}.}
@


1.64
log
@	* doc/Makefile.am (config.texi): Emit a @@set UPDATED command to
	config.texi whose value is the current month and year.
	* doc/Makefile.in: Rebuild.
	* doc/binutils.texi: Set the document subtitle to be the value of
	the Texinfo UPDATED variable (obtained from config.texi).
@
text
@d950 1
d982 1
d1111 4
d1356 6
@


1.63
log
@	PR binutils/249
	* doc/binutils.texi (def file format): New node.
	(dlltool): Use the tool name as the @@chapter name, like all the
	other binutils.  Use @@file{.def} throughout for consistency.
@
text
@d71 1
a71 1
@@subtitle May 1993
@


1.62
log
@	* doc/binutils.texi: Update copyright years.
@
text
@d2857 1
a2857 1
@@chapter Create files needed to build and use DLLs
d2861 10
a2870 2
@@command{dlltool} may be used to create the files needed to build and use
dynamic link libraries (DLLs).
d2873 3
a2875 2
@@emph{Warning:} @@command{dlltool} is not always built as part of the binary
utilities, since it is only useful for those targets which support DLLs.
d2918 1
a2918 1
The first file is a @@samp{.def} file which specifies which functions are
d2924 1
a2924 1
put entries for them in the .def file it creates.
d2942 1
a2942 1
@@command{dlltool} when it is creating or reading in a .def file. 
d2947 1
a2947 1
is creating or reading in a .def file.
d2981 1
a2981 1
Specifies the name of a .def file to be read in and processed.
d2996 1
a2996 1
Specifies the name of the .def file to be created by dlltool.
d3010 1
a3010 1
Only export symbols explicitly listed in an input .def file or in
d3046 4
a3049 4
Specifies the name to be stored in the .def file as the name of the DLL
when the @@option{-e} option is used.  If this option is not present, then
the filename given to the @@option{-e} option will be used as the name of
the DLL.
d3137 51
d3190 1
a3190 1
the Info entries for @@file{binutils}.
@


1.61
log
@Fix support for PECOFF weak symbols
@
text
@d32 2
a33 2
Copyright @@copyright{} 1991, 92, 93, 94, 95, 96, 97, 98, 99, 2000,
2001, 2002, 2003, 2004 Free Software Foundation, Inc.
d57 2
a58 2
@@c Copyright (C) 1991, 92, 93, 94, 95, 96, 97, 98, 99, 2000, 2001,
@@c 2002, 2003, 2004 Free Software Foundation, Inc.
d83 2
a84 2
Copyright @@copyright{} 1991, 92, 93, 94, 95, 96, 97, 1998, 2000, 2001,
2002, 2003, 2004 Free Software Foundation, Inc.
@


1.60
log
@Add support to readelf to decode and display the contents of .debug_ranges
sections.
@
text
@d752 3
a754 1
error.  Uppercase indicates that a default value has been specified.
@


1.59
log
@readelf.c (get_note_type): Handle notes not in core files.
  (process_note_sections): New function.
  (process_corefile_contents): Rename to ...
  (process_notes): ... this.
  (process_object): Call process_notes, not process_corefile_contents.
doc/binutils.texi: Update readelf -n documentation.
@
text
@d3156 2
a3157 2
        [@@option{-w[liaprmfFso]}|
         @@option{--debug-dump}[=line,=info,=abbrev,=pubnames,=ranges,=macro,=frames,=frames-interp,=str,=loc]]
d3274 2
a3275 2
@@item -w[liaprmfFso]
@@itemx --debug-dump[=line,=info,=abbrev,=pubnames,=ranges,=macro,=frames,=frames-interp,=str,=loc]
@


1.58
log
@Implement a new BFD API function: bfd_is_target_special_symbol.  Use this in nm
and objdump to skip the displaying of ARM Mapping symbols unless specifically
requested.
@
text
@d3228 2
a3229 2
@@cindex ELF core notes
Displays the contents of the NOTE segment, if it exists.
@


1.57
log
@dlltool.c (make_one_lib_file): Revert 2004-09-02 and 2004-09-04 patches.
doc/binutils.texi (dlltool): Revert 2004-09-06 patch.
@
text
@d666 1
a666 1
   [@@option{-A}|@@option{-o}|@@option{--print-file-name}]
d882 8
d1506 1
d1849 5
@


1.56
log
@        * doc/binutils.texi (dlltool): Update --add-underscore, --kill-at
        documentation.
@
text
@a3044 2
The option is ignored for symbols with an explicit internal name
specification provided in a .def file.
d3049 3
a3051 3
should not append the string @@samp{@@@@ <number>}  The option is ignored
for symbols with an explicit internal name specification provided in a
.def file.
@


1.55
log
@Document that the -x switch includs the effect of the -p switch.
@
text
@d3045 2
d3051 3
a3053 3
should not append the string @@samp{@@@@ <number>}.  These numbers are
called ordinal numbers and they represent another way of accessing the
function in a DLL, other than by name.
@


1.54
log
@dlltool.c (ext_prefix_alias): New global variable.
 (make_one_lib_file): Add aliases with prefixes for external and import
 definitions.
 (usage): Document -p option.
 (long_options): Add --ext-prefix-alias option.
 (main): Handle -p.
* doc/binutils.texi: Document new switch.
* NEWS: Mention new switch.
@
text
@d1850 1
a1850 1
@@option{-a -f -h -r -t}.
@


1.53
log
@2004-07-04  Aaron W. LaFramboise <aaron98wiridge9@@aaronwl.com>

* bfd/cofflink.c (_bfd_coff_generic_relocate_section): Resolve PE weak
externals properly.
* src/gas/config/obj-coff.c (obj_coff_weak): New .weak syntax for PE weak
externals.
* binutils/doc/binutils.texi (nm): Clarify weak symbol description.
* gas/config/tc-i386.c (tc_gen_reloc): Use addend for weak symbols in TE_PE.
* gas/doc/as.texinfo (Weak): Document PE weak symbols.
* ld/ld.texinfo (WIN32): Document PE weak symbols.
@
text
@d3 1
a3 1
@@c Copyright 2001, 2002, 2003 Free Software Foundation, Inc.
d33 1
a33 1
2001, 2002, 2003 Free Software Foundation, Inc.
d58 1
a58 1
@@c 2002, 2003 Free Software Foundation, Inc.
d84 1
a84 1
2002, 2003 Free Software Foundation, Inc.
d2869 1
d3059 6
@


1.52
log
@* objcopy.c (bfd_flags_to_set, bfd_flags_to_clear): New variables
to handle flags for tweaking.
(copy_options): New options: impure, pure, readonly-text,
writable-text.
(copy_usage, copy_object, command_line_switch): Handle the new
options.
* doc/binutils.texi: Document the new options.
@
text
@d751 2
a752 1
the value of the weak symbol becomes zero with no error.
@


1.51
log
@Add a comment describing the difference between	readelf and objdump.
@
text
@d979 4
d1363 16
@


1.50
log
@	* doc/binutils.texi (dlltool): Document dlltool --temp-prefix
	option.
	* dlltool.c (usage): Likewise.
@
text
@d3132 5
@


1.49
log
@	* cxxfilt.c (long_options): Add --no-params.
	(main): Handle -p/--no-params.
	* doc/binutils.texi (c++filt): Document -p/--no-params.
@
text
@d2849 2
a2850 1
        [@@option{-n}|@@option{--nodelete}] [@@option{-v}|@@option{--verbose}] 
d3060 7
a3066 1
file. 
@


1.48
log
@Add new feature to objcopy/strip.  The -w switch allows wildcards to be used
in symbol names.
@
text
@d2317 1
d2372 5
@


1.47
log
@Use bfd_map_over_sections to walk section chain.
Do not dump the contents of an empty section.
@
text
@d942 1
d1109 16
d2137 1
d2223 16
@


1.46
log
@Add ability for readelf to parse archives
@
text
@d1484 1
a1484 1
@@option{-a,-d,-D,-e,-f,-g,-G,-h,-H,-p,-r,-R,-S,-t,-T,-V,-x} must be given.
d1741 2
a1742 1
Display the full contents of any sections requested.
@


1.45
log
@* objdump.c: New command line option --debugging-tags.
* doc/binutils.texi: Document new command line option.
* prdbg.c: Code to print the debug info as tags compatible with ctags.
* budbg.h: Adjust prototype.
* NEWS: Mention new switch
@
text
@d3081 2
a3082 3
@@var{elffile}@@dots{} are the object files to be examined.  At the
moment, @@command{readelf} does not support examining archives, nor does it
support examining 64 bit ELF files.
@


1.44
log
@* objdump.c (main) :Accept multiple -M switch.
* doc/binutils.texi: Document that multiple -M switches are accepted and that
  a single -M switch can contain comma separated options.
* arm-dis.c (parse_arm_disassembler_option): Do not expect option string to be
  NUL terminated.
  (parse_disassembler_options): Allow options to be space or comma separated.
@
text
@d1438 1
d1484 1
a1484 1
@@option{-a,-d,-D,-f,-g,-G,-h,-H,-p,-r,-R,-S,-t,-T,-V,-x} must be given. 
d1539 5
@


1.43
log
@	* objdump.c (main): Issue a warning message if multiple -M
	switches are used.

	* doc/binutils.texi (objdump): Update documentation about -M
	option.
@
text
@d1628 3
a1630 9
some targets.  Note only a single instance of the option on the
command line is supported.  If the option occurs more than once, the
earlier versions will be ignored.  If it is necessary to specify more
than one disassembler option then they should be placed together into
a space separated list.  ie:

@@smallexample
  -M"first-disassembler-option second-disassembler-option"
@@end smallexample
@


1.42
log
@Add --only-keep-debug switch
@
text
@d1628 9
a1636 1
some targets.
@


1.41
log
@Add new switch to objcopy: --add-gnu-debuglink=<file>
Allows packages to be shipped in two forms, a stripped executable and debug
info file.
@
text
@a936 1
        [@@option{--add-gnu-debuglink=}@@var{path-to-file}]
d976 2
a1082 4
@@item --add-gnu-debuglink=@@var{path-to-file}
Creates a .gnu_debuglink section which contains a reference to @@var{path-to-file}
and adds it to the output file.

d1353 41
d2114 1
d2205 37
@


1.40
log
@* objcopy.c (redefine_list_append): Add an argument that
indicates the context from which this function is being
called.  Change all callers.
(copy_options): Add a new option, --redefine-syms.
(copy_usage): Document new option.
(copy_main): Handle the --redefine-syms option.
* doc/binutils.text (objcopy): Document new option.
@
text
@d935 3
a937 1
        [@@option{-S}|@@option{--strip-all}] [@@option{-g}|@@option{--strip-debug}]
d943 2
a944 1
        [@@option{-x}|@@option{--discard-all}] [@@option{-X}|@@option{--discard-locals}]
d951 4
a954 2
        [@@option{--gap-fill=}@@var{val}] [@@option{--pad-to=}@@var{address}]
        [@@option{--set-start=}@@var{val}] [@@option{--adjust-start=}@@var{incr}]
d963 4
a966 4
        [@@option{--change-leading-char} ] [@@option{--remove-leading-char}]
        [@@option{--srec-len=}@@var{ival} ] [@@option{--srec-forceS3}]
        [@@option{--redefine-sym} @@var{old}=@@var{new} ]
        [@@option{--redefine-syms=}@@var{filename} ]
d1077 1
a1077 1
Do not copy debugging symbols from the source file.
d1082 4
d2066 10
a2075 9
strip [@@option{-F} @@var{bfdname} |@@option{--target=}@@var{bfdname} ]
      [@@option{-I} @@var{bfdname} |@@option{--input-target=}@@var{bfdname} ]
      [@@option{-O} @@var{bfdname} |@@option{--output-target=}@@var{bfdname} ]
      [@@option{-s}|@@option{--strip-all}] [@@option{-S}|@@option{-g}|@@option{-d}|@@option{--strip-debug}]
      [@@option{-K} @@var{symbolname} |@@option{--keep-symbol=}@@var{symbolname} ]
      [@@option{-N} @@var{symbolname} |@@option{--strip-symbol=}@@var{symbolname} ]
      [@@option{-x}|@@option{--discard-all} ] [@@option{-X} |@@option{--discard-locals}]
      [@@option{-R} @@var{sectionname} |@@option{--remove-section=}@@var{sectionname} ]
      [@@option{-o} @@var{file} ] [@@option{-p}|@@option{--preserve-dates}]
@


1.39
log
@Fix the documentation for the -fo option.
@
text
@d961 1
d1287 6
@


1.38
log
@Accept -fo as an alias for -o
@
text
@d2570 1
a2570 2
standard input.  Note, for compatability with @@command{rc} the option
@@option{-fo} is also accepted, but its use is not recommended. 
d2578 3
a2580 1
@@command{windres} can not write a COFF file to standard output.
@


1.37
log
@Rename -I to -J.   Deprecate old use of -I, but leave it enabled for now.
@
text
@d2570 2
a2571 1
standard input.
@


1.36
log
@* doc/binutils.texi (objdump) [--debugging]: Suggest readelf -w
for debugging information types not supported by objdump.
@
text
@d2580 1
a2580 1
@@item -I @@var{format}
d2608 2
a2609 1
@@item --include-dir @@var{directory}
d2613 6
a2618 1
files named in the @@code{rc} file.
@


1.35
log
@Add -l for compatibility with wrc, and rc.  Use the short option as a key for
long options that have a synonymous short option.
@
text
@d1482 2
@


1.34
log
@Add -U for compatibility with wrc, rc, and cpp.  Just pass the -U option down
to the preprocessor.
@
text
@d2629 1
d2646 1
d2650 1
@


1.33
log
@* windres.c (usage): Report -r option.
(main): Ignore the -r option.
* doc/binutils.texi: Add -r to the list of options.
@
text
@d2617 5
@


1.32
log
@Add --info command line switch
@
text
@d2617 3
@


1.31
log
@nm.c (print_symbol_info_bsd): Print the symbol's size instead of the symbol's
value when --size-sort is used, unless -S is used.
doc/binutils.texi (--size-sort): For non-bsd formats both the value and size
of the symbols are displayed.
@
text
@d973 1
a973 1
        [@@option{--help}]
d1351 3
d2057 2
a2058 1
      [@@option{-v} |@@option{--verbose}]  [@@option{-V}|@@option{--version}] [@@option{--help}]
d2085 3
@


1.30
log
@(nm --size-sort): Update description.
@
text
@d860 1
a860 1
Print size of defined symbols for the @@code{bsd} output format.
d877 1
a877 2
value.  The size of the symbol is printed, rather than the value.
structure.  If the @@code{bsd} output format is used the size of the symbol 
@


1.29
log
@Apply Bob Wilson's documenation clean up patch
@
text
@d3 1
a3 1
@@c Copyright 2001, 2002 Free Software Foundation, Inc.
d32 2
a33 1
Copyright @@copyright{} 1991, 92, 93, 94, 95, 96, 97, 98, 99, 2000, 2001, 2002 Free Software Foundation, Inc.
d57 2
a58 1
@@c Copyright (C) 1991, 92, 93, 94, 95, 96, 97, 98, 99, 2000, 2001, 2002 Free Software Foundation, Inc.
d83 2
a84 1
Copyright @@copyright{} 1991, 92, 93, 94, 95, 96, 97, 1998, 2000, 2001, 2002 Free Software Foundation, Inc.
d878 3
@


1.28
log
@[ bfd/ChangeLog ]
2002-12-30  Chris Demetriou  <cgd@@broadcom.com>

	* aoutx.h (NAME(aout,machine_type)): Add bfd_mach_mipsisa32r2 case.
	* archures.c (bfd_mach_mipsisa32r2): New define.
	* bfd-in2.h: Regenerate.
	* cpu-mips.c (I_mipsisa32r2): New enum value.
	(arch_info_struct): Add entry for I_mipsisa32r2.
	* elfxx-mips.c (elf_mips_isa, _bfd_elf_mips_mach)
	(_bfd_mips_elf_print_private_bfd_data): Handle E_MIPS_ARCH_32R2.
	(_bfd_mips_elf_final_write_processing): Add
	bfd_mach_mipsisa32r2 case.
	(_bfd_mips_elf_merge_private_bfd_data): Handle merging of
	binaries marked as using MIPS32 Release 2.

[ binutils/ChangeLog ]
2002-12-30  Chris Demetriou  <cgd@@broadcom.com>

	* doc/binutils.texi (objdump): Note MIPS HWR (Hardware Register)
	changes in MIPS -M options.

[ gas/ChangeLog ]
2002-12-30  Chris Demetriou  <cgd@@broadcom.com>

	* configure.in: Recognize mipsisa32r2, mipsisa32r2el, and
	CPU variants.
	* configure: Regenerate.
	* config/tc-mips.c (ISA_HAS_DROR, ISA_HAS_ROR): New defines.
	(macro_build): Handle "K" operand.
	(macro2): Use ISA_HAS_DROR and ISA_HAS_ROR in the places where
	CPU_HAS_DROR and CPU_HAS_ROR are currently used.
	(mips_ip): New variable "lastpos", and implement "+A", "+B",
	and "+C" operands for MIPS32 Release 2 ins/ext instructions.
	Implement "K" operand for MIPS32 Release 2 rdhwr instruction.
	(validate_mips_insn): Implement "+" as a way to extend the
	allowed operands, and implement "K", "+A", "+B", and "+C"
	operands.
	(OPTION_MIPS32R2): New define.
	(md_longopts): Add entry for OPTION_MIPS32R2.
	(OPTION_ELF_BASE): Adjust to accomodate OPTIONS_MIPS32R2.
	(md_parse_option): Handle OPTION_MIPS32R2.
	(s_mipsset): Reimplement handling of ".set mipsN" options
	and add support for ".set mips32r2".
	(mips_cpu_info_table): Add entry for "mips32r2" (MIPS32 Release 2).
	(md_show_usage): Document "-mips32r2" option.
	* doc/as.texinfo: Document "-mips32r2" option.
	* doc/c-mips.texi: Likewise.

[ gas/testsuite/ChangeLog ]
2002-12-30  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/cp0-names-mips32r2.d: New test.
	* gas/mips/hwr-names-mips32r2.d: New test.
	* gas/mips/hwr-names-numeric.d: New test.
	* gas/mips/hwr-names.s: New test source file.
	* gas/mips/mips32r2.d: New test.
	* gas/mips/mips32r2.s: New test source file.
	* gas/mips/mips32r2-ill.l: New test.
	* gas/mips/mips32r2-ill.s: New test source file.
	* gas/mips/mips.exp: Add mips32r2 architecture data array
	entry.  Run new tests mentioned above.

[ include/elf/ChangeLog ]
2002-12-30  Chris Demetriou  <cgd@@broadcom.com>

	* mips.h (E_MIPS_ARCH_32R2): New define.

[ include/opcode/ChangeLog ]
2002-12-30  Chris Demetriou  <cgd@@broadcom.com>

	* mips.h: Document "+" as the start of two-character operand
	type names, and add new "K", "+A", "+B", and "+C" operand types.
	(OP_MASK_INSMSB, OP_SH_INSMSB, OP_MASK_EXTMSB)
	(OP_SH_EXTMSB, INSN_ISA32R2, ISA_MIPS32R2, CPU_MIPS32R2): New
	defines.

[ opcodes/ChangeLog ]
2002-12-30  Chris Demetriou  <cgd@@broadcom.com>

	* mips-dis.c (mips_cp0_names_mips3264r2, mips_hwr_names_numeric)
	(mips_hwr_names_mips3264r2): New arrays.
	(mips_arch_choice): New "hwr_names" member.
	(mips_arch_choices): Adjust for structure change, and add a new
	entry for "mips32r2" ISA.
	(mips_hwr_names): New variable.
	(set_default_mips_dis_options): Set mips_hwr_names.
	(parse_mips_dis_option): New "hwr-names" option which sets
	mips_hwr_names, and adjust "reg-names=ARCH" to set mips_hwr_names.
	(print_insn_arg): Change return type to "int"
	and use that to indicate number of characters consumed.
	Add support for "+" operand extension character, "+A", "+B",
	"+C", and "K" operands.
	(print_insn_mips): Adjust for changes to print_insn_arg.
	(print_mips_disassembler_options): Adjust for "hwr-names"
	addition and "reg-names" change.
	* mips-opc (I33): New define (shorthand for INSN_ISA32R2).
	(mips_builtin_opcodes): Note that "nop" and "ssnop" are special
	forms of "sll".  Add new MIPS32 Release 2 instructions: ehb,
	di, ei, ext, ins, jr.hb, jalr.hb, mfhc1, mfhc2, mthc1, mthc2,
	rdhwr, rdpgpr, seb, seh, synci, wrpgpr, wsbh.
	Note that hardware rotate instructions (ror, rorv) can be
	used on MIPS32 Release 2, and add the official mnemonics
	for them (rotr, rotrv) and the similar "rotl" mnemonic for
	left-rotate.
@
text
@d39 1
a39 1
section entitled "GNU Free Documentation License".
d88 1
a88 1
      section entitled "GNU Free Documentation License".
d96 1
a96 1
This brief manual contains preliminary documentation for the @@sc{gnu} binary
d241 1
a241 1
@@section Controlling @@command{ar} on the command line
d317 1
a317 1
index, so GNU ar implements @@code{q} as a synonym for @@code{r}.
d467 1
a467 1
default for GNU @@command{ar}.  @@command{ar} does not support any of the other
d480 1
a480 1
@@section Controlling @@command{ar} with a script
d719 1
a719 1
The symbol is an indirect reference to another symbol.  This is a GNU
d1004 2
a1005 2
Note - @@command{objcopy} is not able to change the endianness of its input
files.  If the input format has an endianness, (some formats do not),
d1007 1
a1007 1
same endianness or which have no endianness (eg @@samp{srec}).
d1469 2
a1470 2
@@item -G
@@item --debugging
d1502 1
a1502 1
@@itemx --file-header
d1514 2
a1515 2
@@itemx --section-header
@@itemx --header
d1529 2
a1530 1
@@item --help
d1578 1
a1578 1
with the normal register name or the special register names).
d1688 1
a1688 1
@@item --stabs
d1729 2
a1730 1
@@item --version
d1734 1
a1734 1
@@itemx --all-header
d2077 1
a2077 1
@@item -I @@var{bfdname}	
d2224 2
a2225 2
@@sc{gnu} @@command{nm} can decode three different methods of mangling, used by
different C++ compilers.  The argument to this option selects which
d2229 2
d2232 1
a2232 1
the one used by the @@sc{gnu} compiler (the default method)
d2234 1
a2234 1
the one used by the Lucid compiler
d2238 1
a2238 1
the one used by the HP compiler
d2242 5
a2246 1
the one used by the @@sc{gnu} compiler with the new ABI.
d2929 1
d2932 3
a2934 2
        [@@option{-w[liaprmfFso]}|@@option{--debug-dump}[=line,=info,=abbrev,=pubnames,=ranges,=macro,=frames,=str,=loc]]
        [@@option{-histogram}]
d3014 6
d3031 5
d3047 1
a3047 1
@@itemx --debug-dump[=line,=info,=abbrev,=pubnames,=ranges,=macro,=frames,=str,=loc]
d3052 2
a3053 1
@@item --histogram
d3084 1
a3084 1
@@chapter Selecting the target system
d3086 1
a3086 1
You can specify three aspects of the target system to the @@sc{gnu}
a3094 3

@@item
the linker emulation (which applies to the linker only)
a3110 1
* Linker Emulation Selection::  
a3199 39
@@subheading Linker Input Target

Ways to specify:

@@enumerate
@@item
command line option: @@option{-b} or @@option{--format}
(@@pxref{Options,,Options,ld.info,Using LD})

@@item
script command @@code{TARGET}
(@@pxref{Format Commands,,Format Commands,ld.info,Using LD})

@@item
environment variable @@code{GNUTARGET}
(@@pxref{Environment,,Environment,ld.info,Using LD})

@@item
the default target of the selected linker emulation
(@@pxref{Linker Emulation Selection})
@@end enumerate

@@subheading Linker Output Target

Ways to specify:

@@enumerate
@@item
command line option: @@option{-oformat}
(@@pxref{Options,,Options,ld.info,Using LD})

@@item
script command @@code{OUTPUT_FORMAT}
(@@pxref{Format Commands,,Format Commands,ld.info,Using LD})

@@item
the linker input target (see ``Linker Input Target'' above)
@@end enumerate

d3201 1
a3201 1
@@section Architecture selection
a3232 61
@@subheading Linker Input Architecture

Ways to specify:

@@enumerate
@@item
deduced from the input file
@@end enumerate

@@subheading Linker Output Architecture

Ways to specify:

@@enumerate
@@item
script command @@code{OUTPUT_ARCH}
(@@pxref{Miscellaneous Commands,,Miscellaneous Commands,ld.info,Using LD})

@@item
the default architecture from the linker output target
(@@pxref{Target Selection})
@@end enumerate

@@node Linker Emulation Selection
@@section Linker emulation selection

A linker @@dfn{emulation} is a ``personality'' of the linker, which gives
the linker default values for the other aspects of the target system.
In particular, it consists of

@@itemize @@bullet
@@item
the linker script

@@item
the target

@@item
several ``hook'' functions that are run at certain stages of the linking
process to do special things that some targets require
@@end itemize

The command to list valid linker emulation values is @@samp{ld -V}.

Sample values: @@samp{hp300bsd}, @@samp{mipslit}, @@samp{sun4}.

Ways to specify:

@@enumerate
@@item
command line option: @@option{-m}
(@@pxref{Options,,Options,ld.info,Using LD})

@@item
environment variable @@code{LDEMULATION}

@@item
compiled-in @@code{DEFAULT_EMULATION} from @@file{Makefile},
which comes from @@code{EMUL} in @@file{config/@@var{target}.mt}
@@end enumerate

d3256 1
a3256 1
@@section Have you found a bug?
d3279 1
a3279 1
@@section How to report bugs
d3314 3
a3316 3
bell?''  Those bug reports are useless, and we urge everyone to
@@emph{refuse to respond to them} except to chide the sender to report
bugs properly.
d3441 1
a3441 363
@@node GNU Free Documentation License
@@chapter GNU Free Documentation License
@@cindex GNU Free Documentation License

                GNU Free Documentation License
                
                   Version 1.1, March 2000

 Copyright (C) 2000  Free Software Foundation, Inc.
  59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
     
 Everyone is permitted to copy and distribute verbatim copies
 of this license document, but changing it is not allowed.


0. PREAMBLE

The purpose of this License is to make a manual, textbook, or other
written document "free" in the sense of freedom: to assure everyone
the effective freedom to copy and redistribute it, with or without
modifying it, either commercially or noncommercially.  Secondarily,
this License preserves for the author and publisher a way to get
credit for their work, while not being considered responsible for
modifications made by others.

This License is a kind of "copyleft", which means that derivative
works of the document must themselves be free in the same sense.  It
complements the GNU General Public License, which is a copyleft
license designed for free software.

We have designed this License in order to use it for manuals for free
software, because free software needs free documentation: a free
program should come with manuals providing the same freedoms that the
software does.  But this License is not limited to software manuals;
it can be used for any textual work, regardless of subject matter or
whether it is published as a printed book.  We recommend this License
principally for works whose purpose is instruction or reference.


1. APPLICABILITY AND DEFINITIONS

This License applies to any manual or other work that contains a
notice placed by the copyright holder saying it can be distributed
under the terms of this License.  The "Document", below, refers to any
such manual or work.  Any member of the public is a licensee, and is
addressed as "you".

A "Modified Version" of the Document means any work containing the
Document or a portion of it, either copied verbatim, or with
modifications and/or translated into another language.

A "Secondary Section" is a named appendix or a front-matter section of
the Document that deals exclusively with the relationship of the
publishers or authors of the Document to the Document's overall subject
(or to related matters) and contains nothing that could fall directly
within that overall subject.  (For example, if the Document is in part a
textbook of mathematics, a Secondary Section may not explain any
mathematics.)  The relationship could be a matter of historical
connection with the subject or with related matters, or of legal,
commercial, philosophical, ethical or political position regarding
them.

The "Invariant Sections" are certain Secondary Sections whose titles
are designated, as being those of Invariant Sections, in the notice
that says that the Document is released under this License.

The "Cover Texts" are certain short passages of text that are listed,
as Front-Cover Texts or Back-Cover Texts, in the notice that says that
the Document is released under this License.

A "Transparent" copy of the Document means a machine-readable copy,
represented in a format whose specification is available to the
general public, whose contents can be viewed and edited directly and
straightforwardly with generic text editors or (for images composed of
pixels) generic paint programs or (for drawings) some widely available
drawing editor, and that is suitable for input to text formatters or
for automatic translation to a variety of formats suitable for input
to text formatters.  A copy made in an otherwise Transparent file
format whose markup has been designed to thwart or discourage
subsequent modification by readers is not Transparent.  A copy that is
not "Transparent" is called "Opaque".

Examples of suitable formats for Transparent copies include plain
ASCII without markup, Texinfo input format, LaTeX input format, SGML
or XML using a publicly available DTD, and standard-conforming simple
HTML designed for human modification.  Opaque formats include
PostScript, PDF, proprietary formats that can be read and edited only
by proprietary word processors, SGML or XML for which the DTD and/or
processing tools are not generally available, and the
machine-generated HTML produced by some word processors for output
purposes only.

The "Title Page" means, for a printed book, the title page itself,
plus such following pages as are needed to hold, legibly, the material
this License requires to appear in the title page.  For works in
formats which do not have any title page as such, "Title Page" means
the text near the most prominent appearance of the work's title,
preceding the beginning of the body of the text.


2. VERBATIM COPYING

You may copy and distribute the Document in any medium, either
commercially or noncommercially, provided that this License, the
copyright notices, and the license notice saying this License applies
to the Document are reproduced in all copies, and that you add no other
conditions whatsoever to those of this License.  You may not use
technical measures to obstruct or control the reading or further
copying of the copies you make or distribute.  However, you may accept
compensation in exchange for copies.  If you distribute a large enough
number of copies you must also follow the conditions in section 3.

You may also lend copies, under the same conditions stated above, and
you may publicly display copies.


3. COPYING IN QUANTITY

If you publish printed copies of the Document numbering more than 100,
and the Document's license notice requires Cover Texts, you must enclose
the copies in covers that carry, clearly and legibly, all these Cover
Texts: Front-Cover Texts on the front cover, and Back-Cover Texts on
the back cover.  Both covers must also clearly and legibly identify
you as the publisher of these copies.  The front cover must present
the full title with all words of the title equally prominent and
visible.  You may add other material on the covers in addition.
Copying with changes limited to the covers, as long as they preserve
the title of the Document and satisfy these conditions, can be treated
as verbatim copying in other respects.

If the required texts for either cover are too voluminous to fit
legibly, you should put the first ones listed (as many as fit
reasonably) on the actual cover, and continue the rest onto adjacent
pages.

If you publish or distribute Opaque copies of the Document numbering
more than 100, you must either include a machine-readable Transparent
copy along with each Opaque copy, or state in or with each Opaque copy
a publicly-accessible computer-network location containing a complete
Transparent copy of the Document, free of added material, which the
general network-using public has access to download anonymously at no
charge using public-standard network protocols.  If you use the latter
option, you must take reasonably prudent steps, when you begin
distribution of Opaque copies in quantity, to ensure that this
Transparent copy will remain thus accessible at the stated location
until at least one year after the last time you distribute an Opaque
copy (directly or through your agents or retailers) of that edition to
the public.

It is requested, but not required, that you contact the authors of the
Document well before redistributing any large number of copies, to give
them a chance to provide you with an updated version of the Document.


4. MODIFICATIONS

You may copy and distribute a Modified Version of the Document under
the conditions of sections 2 and 3 above, provided that you release
the Modified Version under precisely this License, with the Modified
Version filling the role of the Document, thus licensing distribution
and modification of the Modified Version to whoever possesses a copy
of it.  In addition, you must do these things in the Modified Version:

A. Use in the Title Page (and on the covers, if any) a title distinct
   from that of the Document, and from those of previous versions
   (which should, if there were any, be listed in the History section
   of the Document).  You may use the same title as a previous version
   if the original publisher of that version gives permission.
B. List on the Title Page, as authors, one or more persons or entities
   responsible for authorship of the modifications in the Modified
   Version, together with at least five of the principal authors of the
   Document (all of its principal authors, if it has less than five).
C. State on the Title page the name of the publisher of the
   Modified Version, as the publisher.
D. Preserve all the copyright notices of the Document.
E. Add an appropriate copyright notice for your modifications
   adjacent to the other copyright notices.
F. Include, immediately after the copyright notices, a license notice
   giving the public permission to use the Modified Version under the
   terms of this License, in the form shown in the Addendum below.
G. Preserve in that license notice the full lists of Invariant Sections
   and required Cover Texts given in the Document's license notice.
H. Include an unaltered copy of this License.
I. Preserve the section entitled "History", and its title, and add to
   it an item stating at least the title, year, new authors, and
   publisher of the Modified Version as given on the Title Page.  If
   there is no section entitled "History" in the Document, create one
   stating the title, year, authors, and publisher of the Document as
   given on its Title Page, then add an item describing the Modified
   Version as stated in the previous sentence.
J. Preserve the network location, if any, given in the Document for
   public access to a Transparent copy of the Document, and likewise
   the network locations given in the Document for previous versions
   it was based on.  These may be placed in the "History" section.
   You may omit a network location for a work that was published at
   least four years before the Document itself, or if the original
   publisher of the version it refers to gives permission.
K. In any section entitled "Acknowledgements" or "Dedications",
   preserve the section's title, and preserve in the section all the
   substance and tone of each of the contributor acknowledgements
   and/or dedications given therein.
L. Preserve all the Invariant Sections of the Document,
   unaltered in their text and in their titles.  Section numbers
   or the equivalent are not considered part of the section titles.
M. Delete any section entitled "Endorsements".  Such a section
   may not be included in the Modified Version.
N. Do not retitle any existing section as "Endorsements"
   or to conflict in title with any Invariant Section.

If the Modified Version includes new front-matter sections or
appendices that qualify as Secondary Sections and contain no material
copied from the Document, you may at your option designate some or all
of these sections as invariant.  To do this, add their titles to the
list of Invariant Sections in the Modified Version's license notice.
These titles must be distinct from any other section titles.

You may add a section entitled "Endorsements", provided it contains
nothing but endorsements of your Modified Version by various
parties--for example, statements of peer review or that the text has
been approved by an organization as the authoritative definition of a
standard.

You may add a passage of up to five words as a Front-Cover Text, and a
passage of up to 25 words as a Back-Cover Text, to the end of the list
of Cover Texts in the Modified Version.  Only one passage of
Front-Cover Text and one of Back-Cover Text may be added by (or
through arrangements made by) any one entity.  If the Document already
includes a cover text for the same cover, previously added by you or
by arrangement made by the same entity you are acting on behalf of,
you may not add another; but you may replace the old one, on explicit
permission from the previous publisher that added the old one.

The author(s) and publisher(s) of the Document do not by this License
give permission to use their names for publicity for or to assert or
imply endorsement of any Modified Version.


5. COMBINING DOCUMENTS

You may combine the Document with other documents released under this
License, under the terms defined in section 4 above for modified
versions, provided that you include in the combination all of the
Invariant Sections of all of the original documents, unmodified, and
list them all as Invariant Sections of your combined work in its
license notice.

The combined work need only contain one copy of this License, and
multiple identical Invariant Sections may be replaced with a single
copy.  If there are multiple Invariant Sections with the same name but
different contents, make the title of each such section unique by
adding at the end of it, in parentheses, the name of the original
author or publisher of that section if known, or else a unique number.
Make the same adjustment to the section titles in the list of
Invariant Sections in the license notice of the combined work.

In the combination, you must combine any sections entitled "History"
in the various original documents, forming one section entitled
"History"; likewise combine any sections entitled "Acknowledgements",
and any sections entitled "Dedications".  You must delete all sections
entitled "Endorsements."


6. COLLECTIONS OF DOCUMENTS

You may make a collection consisting of the Document and other documents
released under this License, and replace the individual copies of this
License in the various documents with a single copy that is included in
the collection, provided that you follow the rules of this License for
verbatim copying of each of the documents in all other respects.

You may extract a single document from such a collection, and distribute
it individually under this License, provided you insert a copy of this
License into the extracted document, and follow this License in all
other respects regarding verbatim copying of that document.


7. AGGREGATION WITH INDEPENDENT WORKS

A compilation of the Document or its derivatives with other separate
and independent documents or works, in or on a volume of a storage or
distribution medium, does not as a whole count as a Modified Version
of the Document, provided no compilation copyright is claimed for the
compilation.  Such a compilation is called an "aggregate", and this
License does not apply to the other self-contained works thus compiled
with the Document, on account of their being thus compiled, if they
are not themselves derivative works of the Document.

If the Cover Text requirement of section 3 is applicable to these
copies of the Document, then if the Document is less than one quarter
of the entire aggregate, the Document's Cover Texts may be placed on
covers that surround only the Document within the aggregate.
Otherwise they must appear on covers around the whole aggregate.


8. TRANSLATION

Translation is considered a kind of modification, so you may
distribute translations of the Document under the terms of section 4.
Replacing Invariant Sections with translations requires special
permission from their copyright holders, but you may include
translations of some or all Invariant Sections in addition to the
original versions of these Invariant Sections.  You may include a
translation of this License provided that you also include the
original English version of this License.  In case of a disagreement
between the translation and the original English version of this
License, the original English version will prevail.


9. TERMINATION

You may not copy, modify, sublicense, or distribute the Document except
as expressly provided for under this License.  Any other attempt to
copy, modify, sublicense or distribute the Document is void, and will
automatically terminate your rights under this License.  However,
parties who have received copies, or rights, from you under this
License will not have their licenses terminated so long as such
parties remain in full compliance.


10. FUTURE REVISIONS OF THIS LICENSE

The Free Software Foundation may publish new, revised versions
of the GNU Free Documentation License from time to time.  Such new
versions will be similar in spirit to the present version, but may
differ in detail to address new problems or concerns.  See
http://www.gnu.org/copyleft/.

Each version of the License is given a distinguishing version number.
If the Document specifies that a particular numbered version of this
License "or any later version" applies to it, you have the option of
following the terms and conditions either of that specified version or
of any later version that has been published (not as a draft) by the
Free Software Foundation.  If the Document does not specify a version
number of this License, you may choose any version ever published (not
as a draft) by the Free Software Foundation.


ADDENDUM: How to use this License for your documents

To use this License in a document you have written, include a copy of
the License in the document and put the following copyright and
license notices just after the title page:

@@smallexample
    Copyright (c)  YEAR  YOUR NAME.
    Permission is granted to copy, distribute and/or modify this document
    under the terms of the GNU Free Documentation License, Version 1.1
    or any later version published by the Free Software Foundation;
    with the Invariant Sections being LIST THEIR TITLES, with the
    Front-Cover Texts being LIST, and with the Back-Cover Texts being LIST.
    A copy of the license is included in the section entitled "GNU
    Free Documentation License".
@@end smallexample

If you have no Invariant Sections, write "with no Invariant Sections"
instead of saying which ones are invariant.  If you have no
Front-Cover Texts, write "no Front-Cover Texts" instead of
"Front-Cover Texts being LIST"; likewise for Back-Cover Texts.

If your document contains nontrivial examples of program code, we
recommend releasing these examples in parallel under your choice of
free software license, such as the GNU General Public License,
to permit their use in free software.
@


1.27
log
@[ binutils/ChangeLog ]
2002-12-27  Chris Demetriou  <cgd@@broadcom.com>

        * doc/binutils.texi (objdump): Document MIPS -M options.

[ gas/testsuite/ChangeLog ]
2002-12-27  Chris Demetriou  <cgd@@broadcom.com>

        * gas/mips/cp0-names-mips32.d: New file.
        * gas/mips/cp0-names-mips64.d: New file.
        * gas/mips/cp0-names-numeric.d: New file.
        * gas/mips/cp0-names-sb1.d: New file.
        * gas/mips/cp0-names.s: New file.
        * gas/mips/fpr-names-32.d: New file.
        * gas/mips/fpr-names-64.d: New file.
        * gas/mips/fpr-names-n32.d: New file.
        * gas/mips/fpr-names-numeric.d: New file.
        * gas/mips/fpr-names.s: New file.
        * gas/mips/gpr-names-32.d: New file.
        * gas/mips/gpr-names-64.d: New file.
        * gas/mips/gpr-names-n32.d: New file.
        * gas/mips/gpr-names-numeric.d: New file.
        * gas/mips/gpr-names.s: New file.
        * gas/mips/mips.exp: Run new tests.

[ include/ChangeLog ]
2002-12-27  Chris Demetriou  <cgd@@broadcom.com>

        * dis-asm.h (print_mips_disassembler_options): Prototype.

[ include/opcode/ChangeLog ]
2002-12-19  Chris Demetriou  <cgd@@broadcom.com>

        * mips.h (OP_OP_COP0, OP_OP_COP1, OP_OP_COP2, OP_OP_COP3)
        (OP_OP_LWC1, OP_OP_LWC2, OP_OP_LWC3, OP_OP_LDC1, OP_OP_LDC2)
        (OP_OP_LDC3, OP_OP_SWC1, OP_OP_SWC2, OP_OP_SWC3, OP_OP_SDC1)
        (OP_OP_SDC2, OP_OP_SDC3): Define.

[ opcodes/ChangeLog ]
2002-12-27  Chris Demetriou  <cgd@@broadcom.com>

        * disassemble.c (disassembler_usage): Add invocation of
        print_mips_disassembler_options.
        * mips-dis.c (print_mips_disassembler_options)
        (set_default_mips_dis_options, parse_mips_dis_option)
        (parse_mips_dis_options, choose_abi_by_name, choose_arch_by_name)
        (choose_arch_by_number): New functions.
        (mips_abi_choice, mips_arch_choice): New structures.
        (mips32_reg_names, mips64_reg_names, reg_names): Remove.
        (mips_gpr_names_numeric, mips_gpr_names_oldabi)
        (mips_gpr_names_newabi, mips_fpr_names_numeric)
        (mips_fpr_names_32, mips_fpr_names_n32, mips_fpr_names_64)
        (mips_cp0_names_numeric, mips_cp0_names_mips3264)
        (mips_cp0_names_sb1, mips_abi_choices, mips_arch_choices)
        (mips_processor, mips_isa, mips_gpr_names, mips_fpr_names)
        (mips_cp0_names): New variables.
        (print_insn_args): Use new variables to print GPR, FPR, and CP0
        register names.
        (mips_isa_type): Remove.
        (print_insn_mips): Remove ISA and CPU setup since it is now done...
        (_print_insn_mips): Here.  Remove register setup code, and
        call set_default_mips_dis_options and parse_mips_dis_options
        instead.
        (print_mips16_insn_arg): Use mips_gpr_names instead of mips32_names.
@
text
@d1624 6
d1634 2
a1635 2
Print CPU-specific register names (i.e., only the CP0 register names,
for now) as appropriate for the selected CPU or architecture.
@


1.26
log
@Add support for 'S' encoding to strings - display 8-bit characters.
@
text
@d1602 36
@


1.25
log
@	* doc/binutils.texi: Fix typos.
@
text
@d1959 5
a1963 5
Possible values for @@var{encoding} are: @@samp{s} = single-byte
characters (ASCII, ISO 8859, etc., default), @@samp{b} = 16-bit
Bigendian, @@samp{l} = 16-bit Littleendian, @@samp{B} = 32-bit Bigendian,
@@samp{L} = 32-bit Littleendian. Useful for finding wide character
strings.
@


1.24
log
@	* doc/binutils.texi: Add missing parenthesis.
@
text
@d1595 1
a1595 1
instructs the dissassembler to print a mnemonic suffix even when the
d2897 1
a2897 1
support examing 64 bit ELF files.
@


1.23
log
@Added --prefix-symbols <prefix> option to rename all symbols by adding the
given prefix to the begining of the symbol name. This is useful to provide
name space seperation regardless of how the object file was created. Added
--prefix-sections <prefix> and --prefix-alloc-sections <prefix> options to
rename all sections (or all sections with the alloc flag set) by adding the
given prefix to the begining of the symbol name.
@
text
@d962 4
a965 4
        [@@option{--alt-machine-code=@@var{index}}]
        [@@option{--prefix-symbols=@@var{string}]
        [@@option{--prefix-sections=@@var{string}]
        [@@option{--prefix-alloc-sections=@@var{string}]
@


1.22
log
@* use @@itemx, not @@item, for --disassemble-zeroes.
@
text
@d963 3
d1324 10
@


1.21
log
@	* doc/binutils.texi (objdump): Document -z and move the entry for
	--disassemble-zeroes to the end of the options section (for `z').
@
text
@d1691 1
a1691 1
@@item --disassemble-zeroes
@


1.20
log
@Replace 'gnu-new-abi' with 'gnu-v3'
@
text
@a1478 5
@@item --disassemble-zeroes
Normally the disassembly output will skip blocks of zeroes.  This
option directs the disassembler to disassemble those blocks, just like
any other data.

d1689 6
@


1.19
log
@	* readelf.c (OPTION_DEBUG_DUMP): Define.
	(options): Use it.
	(usage): Update help.
	(parse_args): Handle --debug-dump separately from -w.
	* doc/binutils.texi (readelf): Update documentation.
@
text
@d2181 1
a2181 1
@@item gnu-new-abi
@


1.18
log
@	* doc/binutils.texi (addr2line <man synopsis>): Correct brackets.
@
text
@d2867 1
a2867 1
        [@@option{-w[liaprmfs]}|@@option{--debug-dump}[=line,=info,=abbrev,=pubnames,=ranges,=macro,=frames,=str]]
d2969 2
a2970 2
@@item -w[liaprmfs]
@@itemx --debug-dump[=line,=info,=abbrev,=pubnames,=ranges,=macro,=frames,=str]
@


1.17
log
@2002-06-15  H.J. Lu  (hjl@@gnu.org)

	* nm.c (print_size): New variable. Initialize to 0.
	(long_options): Add 'S'/"print-size".
	(main): Handle 'S'.
	(print_symbol_info_bsd): Print size only if print_size is not
	0.

	* doc/binutils.texi: Document -S/--print-size.
@
text
@d2229 1
a2229 1
          [@@option{-C}|@@option{--demangle}[=@@var{style}]
@


1.17.2.1
log
@	* doc/binutils.texi (addr2line <man synopsis>): Correct brackets.
@
text
@d2229 1
a2229 1
          [@@option{-C}|@@option{--demangle}[=@@var{style}]]
@


1.17.2.2
log
@        Merge from mainline:
        2002-07-30  Jakub Jelinek  <jakub@@redhat.com>
        * readelf.c (OPTION_DEBUG_DUMP): Define.
        (options): Use it.
        (usage): Update help.
        (parse_args): Handle --debug-dump separately from -w.
        * doc/binutils.texi (readelf): Update documentation.
@
text
@d2867 1
a2867 1
        [@@option{-w[liaprmfFso]}|@@option{--debug-dump}[=line,=info,=abbrev,=pubnames,=ranges,=macro,=frames,=str,=loc]]
d2969 2
a2970 2
@@item -w[liaprmfFso]
@@itemx --debug-dump[=line,=info,=abbrev,=pubnames,=ranges,=macro,=frames,=str,=loc]
@


1.16
log
@2002-03-07  Daniel Jacobowitz  <drow@@mvista.com>

        * doc/binutils.texi (Target Selection): Fix LD crossreferences.
        (Architecture Selection): Likewise.
@
text
@d662 2
a663 1
   [@@option{-s}|@@option{--print-armap}] [@@option{-A}|@@option{-o}|@@option{--print-file-name}]
d854 4
@


1.15
log
@Add --totals option to size
@
text
@d3132 1
a3132 1
(@@pxref{Option Commands,,Option Commands,ld.info,Using LD})
d3154 1
a3154 1
(@@pxref{Option Commands,,Option Commands,ld.info,Using LD})
d3209 1
a3209 1
(@@pxref{Option Commands,,Option Commands,ld.info,Using LD})
@


1.15.2.1
log
@2002-03-07  Daniel Jacobowitz  <drow@@mvista.com>

        * doc/binutils.texi (Target Selection): Fix LD crossreferences.
        (Architecture Selection): Likewise.
@
text
@d3132 1
a3132 1
(@@pxref{Format Commands,,Format Commands,ld.info,Using LD})
d3154 1
a3154 1
(@@pxref{Format Commands,,Format Commands,ld.info,Using LD})
d3209 1
a3209 1
(@@pxref{Miscellaneous Commands,,Miscellaneous Commands,ld.info,Using LD})
@


1.14
log
@Refer to "options" not "switches"
@
text
@d3 1
a3 1
@@c Copyright 2001 Free Software Foundation, Inc.
d32 1
a32 1
Copyright @@copyright{} 1991, 92, 93, 94, 95, 96, 97, 98, 99, 2000, 2001 Free Software Foundation, Inc.
d56 1
a56 1
@@c Copyright (C) 1991, 92, 93, 94, 95, 96, 97, 98, 99, 2000, 2001 Free Software Foundation, Inc.
d81 1
a81 1
Copyright @@copyright{} 1991, 92, 93, 94, 95, 96, 97, 1998, 2000, 2001 Free Software Foundation, Inc.
d1760 3
a1762 1
     [@@option{--help}] [@@option{-d}|@@option{-o}|@@option{-x}|@@option{--radix=}@@var{number}]
d1845 4
d1980 1
a1980 1
      [@@option{-s}|@@option{--strip-all}] [@@option{-S}|@@option{-g}|@@option{--strip-debug}]
d2037 1
@


1.13
log
@When --wide is used, do not truncate symbol names.
@
text
@d2735 3
a2737 3
@@item -f @@var{switches}
@@itemx --as-flags @@var{switches}
Specifies any specific command line switches to be passed to the
d2742 1
a2742 1
pass multiple switches to the assembler they should be enclosed in
@


1.12
log
@Add -ws switch to display contents of .debug_str sections
@
text
@d1688 1
@


1.11
log
@binutils/ChangeLog
	* doc/binutils.texi (objdump): Document ppc -M options.
gas/ChangeLog
	* config/tc-ppc.c (ppc_insert_operand): Pass (ppc_cpu | ppc_size)
	to operand->insert.
	(md_assemble): Likewise.
gas/testsuite/ChangeLog
	* gas/ppc/booke.d: Modify reloc and target matches for powerpc64.
include/opcode/ChangeLog
	* ppc.h (struct powerpc_operand <insert, extract>): Add dialect param.
opcodes/ChangeLog
	* ppc-opc.c (PPC64): Revert 2001-10-12. Do include PPC_OPCODE_PPC.
	(insert_bat, extract_bat, insert_bba, extract_bba,
	insert_bd, extract_bd, insert_bdm, extract_bdm,
	insert_bdp, extract_bdp, valid_bo,
	insert_bo, extract_bo, insert_boe, extract_boe,
	insert_ds, extract_ds, insert_de, extract_de,
	insert_des, extract_des, insert_li, extract_li,
	insert_mbe, extract_mbe, insert_mb6, extract_mb6,
	insert_nb, extract_nb, insert_nsi, extract_nsi,
	insert_ral, insert_ram, insert_ras,
	insert_rbs, extract_rbs, insert_sh6, extract_sh6,
	insert_spr, extract_spr, insert_tbr, extract_tbr): Add dialect param.
	(extract_bd, extract_bdm, extract_bdp,
	extract_ds, extract_des,
	extract_li, extract_nsi): Implement sign extension without conditional.
	(insert_bdm, extract_bdm,
	insert_bdp, extract_bdp, valid_bo): Handle 64 bit branch hints.
	(extract_bdm, extract_bdp): Correct 32 bit validation.
	(AT1_MASK, AT2_MASK): Define.
	(BBOAT_MASK): Define.
	(BBOATCB_MASK, BBOAT2CB_MASK, BBOATBI_MASK): Define.
	(BOFM64, BOFP64, BOTM64, BOTP64): Define.
	(BODNZM64, BODNZP64, BODZM64, BODZP64): Define.
	(PPCCOM32, PPCCOM64): Define.
	(powerpc_opcodes): Modify existing 32 bit insns with branch hints
	and add new patterns to implement 64 bit branches with hints.  Move
	booke instructions so they match before ppc64.
	* ppc-dis.c (powerpc_dialect): Set PPC_OPCODE_64 in dialect for
	64 bit default targets, and parse "32" and "64" in options.
	Formatting fixes.
	(print_insn_powerpc): Pass dialect to operand->extract.
@
text
@d2854 1
a2854 1
        [@@option{-w[liaprmf]}|@@option{--debug-dump}[=line,=info,=abbrev,=pubnames,=ranges,=macro,=frames]]
d2956 2
a2957 2
@@item -w[liaprmf]
@@itemx --debug-dump[=line,=info,=abbrev,=pubnames,=ranges,=macro,=frames]
@


1.10
log
@	* doc/binutils.texi (objdump): Fix description to use x86-64.
@
text
@d1585 4
@


1.9
log
@binutils/ChangeLog
	* doc/binutils.texi (objdump): Document x86 -M options.
include/ChangeLog
 	* dis-asm.h (print_insn_i386): Declare.
opcodes/ChangeLog
	* disassemble.c (disassembler): Call print_insn_i386.
	* i386-dis.c (SUFFIX_ALWAYS): Define.
	(struct dis_private): Add orig_sizeflag.
	(print_insn_i386): Make it a wrapper, calling..
	(print_insn): ..The old body of print_insn_i386.  Avoid longjmp
	warning without using volatile by moving orig_sizeflag to priv,
	and removing inbuf.  Parse disassembler_options.
	(print_insn_i386_att, print_insn_i386_intel): Move initialisation
	code to print_insn.
	(putop): Remove #ifdef SUFFIX_ALWAYS.
@
text
@d1575 1
a1575 1
@@option{x86_64}, @@option{i386} and @@option{i8086} select disassembly for
d1580 1
a1580 1
@@option{x86_64}, @@option{i386} or @@option{i8086} appear later in the
@


1.8
log
@	* readelf.c (do_wide): New.
	(options): Add --wide.
	(usage, parse_args): Likewise.
	(process_program_headers): Put each segment on a single line if
	--wide is given.
	(process_section_headers): Put each section on a single line if
	--wide is given.
	* doc/binutils.texi: Document it.
	* NEWS: Likewise.
@
text
@d1572 13
@


1.7
log
@Add new command line option '--encoding' to strings
@
text
@d2840 1
d2952 8
@


1.6
log
@* objcopy.c (use_alt_mach_code): New variable.
(OPTION_ALT_MACH_CODE): Define.
(copy_options): Added --alt-machine-code.
(copy_main): Handle it.
(copy_object): Switch to alternate machine code if requested.
* doc/binutils.texi: Document new option.
* NEWS: Likewise.
@
text
@d1856 6
a1861 3
strings [@@option{-afov}] [@@option{-}@@var{min-len}] [@@option{-n} @@var{min-len}] [@@option{-t} @@var{radix}] [@@option{-}]
        [@@option{--all}] [@@option{--print-file-name}] [@@option{--bytes=}@@var{min-len}]
        [@@option{--radix=}@@var{radix}] [@@option{--target=}@@var{bfdname}]
d1912 9
@


1.5
log
@2001-08-05  Philip Blundell  <philb@@gnu.org>

	* doc/binutils.texi: Use "Thumb" not "THUMB".
@
text
@d957 1
d1309 7
@


1.4
log
@Use @@command{name} for commands.  Use @@option{-opt} for options.
Use @@table @@env for list of options.  Remove spaces arround [ | ] in synopsis.
Use 'GNU Development Tools' for the center title.
@
text
@d1559 1
a1559 1
disassembler to interpret all instructions as THUMB instructions by
d2720 1
a2720 1
contents of the DLL are actually encode using THUMB instructions.
d2763 1
a2763 1
between ARM and THUMB code.
@


1.3
log
@Implement new switch --rename-section
@
text
@d188 1
a188 1
The @@sc{gnu} @@code{ar} program creates, modifies, and extracts from
d198 2
a199 2
@@sc{gnu} @@code{ar} can maintain archives whose members have names of any
length; however, depending on how @@code{ar} is configured on your
d206 1
a206 1
@@code{ar} is considered a binary utility because archives of this sort
d211 1
a211 1
@@code{ar} creates an index to the symbols defined in relocatable
d213 1
a213 1
Once created, this index is updated in the archive whenever @@code{ar}
d220 2
a221 2
table.  If an archive lacks the table, another form of @@code{ar} called
@@code{ranlib} can be used to add just the table.
d223 3
a225 3
@@cindex compatibility, @@code{ar}
@@cindex @@code{ar} compatibility
@@sc{gnu} @@code{ar} is designed to be compatible with two different
d227 2
a228 2
like the different varieties of @@code{ar} on Unix systems; or, if you
specify the single command-line option @@samp{-M}, you can control it
d235 2
a236 2
* ar cmdline::                  Controlling @@code{ar} on the command line
* ar scripts::                  Controlling @@code{ar} with a script
d241 1
a241 1
@@section Controlling @@code{ar} on the command line
d245 1
a245 1
ar [-X32_64] [-]@@var{p}[@@var{mod} [@@var{relpos}] [@@var{count}]] @@var{archive} [@@var{member}@@dots{}]
d249 2
a250 2
@@cindex Unix compatibility, @@code{ar}
When you use @@code{ar} in the Unix style, @@code{ar} insists on at least two
d260 1
a260 1
@@sc{gnu} @@code{ar} allows you to mix the operation code @@var{p} and modifier
d270 1
a270 1
@@table @@code
d277 1
a277 1
If you specify the @@samp{v} modifier, @@code{ar} lists each module
d310 1
a310 1
The modifier @@samp{v} makes @@code{ar} list each file as it is appended.
d314 1
a314 1
@@code{ranlib} explicitly to update the symbol table index.
d326 1
a326 1
If one of the files named in @@var{member}@@dots{} does not exist, @@code{ar}
d363 1
a363 1
@@code{ar} list each name as it extracts it.
d373 1
a373 1
@@table @@code
d395 1
a395 1
Truncate names in the archive.  @@sc{gnu} @@code{ar} will normally permit file
d397 1
a397 1
not compatible with the native @@code{ar} program on some systems.  If
d425 1
a425 1
@@code{ar} can not create an archive with a full path name (such archives
d427 1
a427 1
will cause @@sc{gnu} @@code{ar} to match file names using a complete path
d462 1
a462 1
This modifier shows the version number of @@code{ar}.
d465 1
a465 1
@@code{ar} ignores an initial option spelt @@code{-X32_64}, for
d467 3
a469 3
default for GNU @@code{ar}.  @@code{ar} does not support any of the other
@@code{-X} options; in particular, it does not support @@code{-X32}
which is the default for AIX @@code{ar}.
d480 1
a480 1
@@section Controlling @@code{ar} with a script
d486 3
a488 3
@@cindex MRI compatibility, @@code{ar}
@@cindex scripts, @@code{ar}
If you use the single command-line option @@samp{-M} with @@code{ar}, you
d490 2
a491 2
form of @@code{ar} operates interactively if standard input is coming
directly from a terminal.  During interactive use, @@code{ar} prompts for
d494 1
a494 1
issued, and @@code{ar} abandons execution (with a nonzero exit code)
d497 1
a497 1
The @@code{ar} command language is @@emph{not} designed to be equivalent
d500 1
a500 1
transition to @@sc{gnu} @@code{ar} for developers who already have scripts
d503 1
a503 1
The syntax for the @@code{ar} command language is straightforward:
d522 1
a522 1
Whenever you use a list of names as part of the argument to an @@code{ar}
d532 2
a533 2
Here are the commands you can use in @@code{ar} scripts, or when using
@@code{ar} interactively.  Three of them have special significance:
d584 1
a584 1
specify @@var{outputfile} as a final argument, @@code{ar} directs the
d588 1
a588 1
Exit from @@code{ar}, with a @@code{0} exit code to indicate successful
d610 1
a610 1
tv @@var{archive}}.  (This single command is a @@sc{gnu} @@code{ar}
d647 1
a647 1
The @@sc{gnu} linker @@code{ld} is now described in a separate manual.
d660 9
a668 9
nm [ -a | --debug-syms ]  [ -g | --extern-only ]
   [ -B ]  [ -C | --demangle[=@@var{style}] ] [ -D | --dynamic ]
   [ -s | --print-armap ]  [ -A | -o | --print-file-name ]
   [ -n | -v | --numeric-sort ]  [ -p | --no-sort ]
   [ -r | --reverse-sort ]  [ --size-sort ] [ -u | --undefined-only ]
   [ -t @@var{radix} | --radix=@@var{radix} ] [ -P | --portability ]
   [ --target=@@var{bfdname} ] [ -f @@var{format} | --format=@@var{format} ]
   [ --defined-only ] [-l | --line-numbers ]  [ --no-demangle ]
   [ -V | --version ]  [ -X 32_64 ]  [ --help ]  [ @@var{objfile}@@dots{} ]
d673 2
a674 2
@@sc{gnu} @@code{nm} lists the symbols from object files @@var{objfile}@@dots{}.
If no object files are listed as arguments, @@code{nm} assumes the file
d677 1
a677 1
For each symbol, @@code{nm} shows:
d752 3
a754 2
the stab type.  Stabs symbols are used to hold debugging information;
for more information, see @@ref{Top,Stabs,Stabs Overview,stabs.info, The
d756 1
d772 1
a772 1
@@table @@code
d790 3
a792 3
@@cindex @@code{nm} format
@@cindex @@code{nm} compatibility
The same as @@samp{--format=bsd} (for compatibility with the MIPS @@code{nm}).
d816 2
a817 2
@@cindex @@code{nm} format
@@cindex @@code{nm} compatibility
d858 1
a858 1
(stored in the archive by @@code{ar} or @@code{ranlib}) of which modules
d894 1
a894 1
Show the version number of @@code{nm} and exit.
d898 3
a900 3
@@code{nm}.  It takes one parameter which must be the string
@@code{32_64}.  The default mode of AIX @@code{nm} corresponds
to @@code{-X 32}, which is not supported by @@sc{gnu} @@code{nm}.
d903 1
a903 1
Show a summary of the options to @@code{nm} and exit.
d921 39
a959 35
objcopy [ -F @@var{bfdname} | --target=@@var{bfdname} ]
        [ -I @@var{bfdname} | --input-target=@@var{bfdname} ]
        [ -O @@var{bfdname} | --output-target=@@var{bfdname} ]
        [ -B @@var{bfdarch} | --binary-architecture=@@var{bfdarch} ]
        [ -S | --strip-all ]  [ -g | --strip-debug ]
        [ -K @@var{symbolname} | --keep-symbol=@@var{symbolname} ]
        [ -N @@var{symbolname} | --strip-symbol=@@var{symbolname} ]
        [ -G @@var{symbolname} | --keep-global-symbol=@@var{symbolname}]
        [ -L @@var{symbolname} | --localize-symbol=@@var{symbolname} ]
        [ -W @@var{symbolname} | --weaken-symbol=@@var{symbolname} ]
        [ -x | --discard-all ]  [ -X | --discard-locals ]
        [ -b @@var{byte} | --byte=@@var{byte} ]
        [ -i @@var{interleave} | --interleave=@@var{interleave} ]
        [ -j @@var{sectionname} | --only-section=@@var{sectionname} ]
        [ -R @@var{sectionname} | --remove-section=@@var{sectionname} ]
        [ -p | --preserve-dates ] [ --debugging ]
        [ --gap-fill=@@var{val} ] [ --pad-to=@@var{address} ]
        [ --set-start=@@var{val} ] [ --adjust-start=@@var{incr} ]
        [ --change-addresses=@@var{incr} ]
        [ --change-section-address @@var{section}@@{=,+,-@@}@@var{val} ]
        [ --change-section-lma @@var{section}@@{=,+,-@@}@@var{val} ]
        [ --change-section-vma @@var{section}@@{=,+,-@@}@@var{val} ]
        [ --change-warnings ] [ --no-change-warnings ]
        [ --set-section-flags @@var{section}=@@var{flags} ]
        [ --add-section @@var{sectionname}=@@var{filename} ]
        [ --rename-section @@var{oldname}=@@var{newname}[,@@var{flags}] ]
        [ --change-leading-char ] [ --remove-leading-char ]
        [ --srec-len=@@var{ival} ] [ --srec-forceS3 ]
        [ --redefine-sym @@var{old}=@@var{new} ] [ --weaken ]
        [ --keep-symbols=@@var{filename} ]
        [ --strip-symbols=@@var{filename} ]
        [ --keep-global-symbols=@@var{filename} ]
        [ --localize-symbols=@@var{filename} ]
        [ --weaken-symbols=@@var{filename} ]
        [ -v | --verbose ] [ -V | --version ]  [ --help ]
d965 2
a966 2
The @@sc{gnu} @@code{objcopy} utility copies the contents of an object
file to another.  @@code{objcopy} uses the @@sc{gnu} @@sc{bfd} Library to
d969 2
a970 2
exact behavior of @@code{objcopy} is controlled by command-line options.
Note that @@code{objcopy} should be able to copy a fully linked file
d974 2
a975 2
@@code{objcopy} creates temporary files to do its translations and
deletes them afterward.  @@code{objcopy} uses @@sc{bfd} to do all its
d980 1
a980 1
@@code{objcopy} can be used to generate S-records by using an output
d983 3
a985 3
@@code{objcopy} can be used to generate a raw binary file by using an
output target of @@samp{binary} (e.g., use @@samp{-O binary}).  When
@@code{objcopy} generates a raw binary file, it will essentially produce
d991 2
a992 2
use @@samp{-S} to remove sections containing debugging information.  In
some cases @@samp{-R} will be useful to remove sections which contain
d995 1
a995 1
Note - @@code{objcopy} is not able to change the endianness of its input
d997 1
a997 1
@@code{objcopy} can only copy the inputs into file formats that have the
d1004 1
a1004 1
@@table @@code
d1008 1
a1008 1
If you do not specify @@var{outfile}, @@code{objcopy} creates a
d1012 1
a1012 1
@@item -I @@var{bfdname}	
d1101 1
a1101 1
where @@var{interleave} is given by the @@samp{-i} or @@samp{--interleave}
d1109 3
a1111 3
copy with the @@var{-b} or @@samp{--byte} option.  The default is 4.
@@code{objcopy} ignores this option if you do not specify either @@samp{-b} or
@@samp{--byte}.
d1132 1
a1132 1
filled in with the value specified by @@samp{--gap-fill} (default zero).
d1160 1
a1160 1
section address.  See the comments under @@samp{--change-addresses},
d1162 1
a1162 1
be issued, unless @@samp{--no-change-warnings} is used.
d1173 1
a1173 1
section address.  See the comments under @@samp{--change-addresses},
d1175 1
a1175 1
will be issued, unless @@samp{--no-change-warnings} is used.  
d1187 1
a1187 1
@@samp{--change-addresses}, above.  If @@var{section} does not exist in
d1189 1
a1189 1
@@samp{--no-change-warnings} is used.   
d1193 2
a1194 2
If @@samp{--change-section-address} or @@samp{--change-section-lma} or
@@samp{--change-section-vma} is used, and the named section does not
d1199 2
a1200 2
Do not issue a warning if @@samp{--change-section-address} or
@@samp{--adjust-section-lma} or @@samp{--adjust-section-vma} is used, even
d1241 1
a1241 1
often add before every symbol.  This option tells @@code{objcopy} to
d1255 1
a1255 1
@@code{--change-leading-char} because it always changes the symbol name
d1276 1
a1276 1
the @@code{-R} option to the linker.  This option is only effective when
d1280 1
a1280 1
Apply @@samp{--keep-symbol} option to each symbol listed in the file
d1286 1
a1286 1
Apply @@samp{--strip-symbol} option to each symbol listed in the file
d1292 1
a1292 1
Apply @@samp{--keep-global-symbol} option to each symbol listed in the
d1298 1
a1298 1
Apply @@samp{--localize-symbol} option to each symbol listed in the file
d1304 1
a1304 1
Apply @@samp{--weaken-symbol} option to each symbol listed in the file
d1311 1
a1311 1
Show the version number of @@code{objcopy}.
d1319 1
a1319 1
Show a summary of the options to @@code{objcopy}.
d1340 33
a1372 33
objdump [ -a | --archive-headers ] 
        [ -b @@var{bfdname} | --target=@@var{bfdname} ] 
        [ -C | --demangle[=@@var{style}] ]
        [ -d | --disassemble ]
        [ -D | --disassemble-all ]
        [ -z | --disassemble-zeroes ]
        [ -EB | -EL | --endian=@@{big | little @@} ]
        [ -f | --file-headers ]
        [ --file-start-context ]
        [ -g | --debugging ]
        [ -h | --section-headers | --headers ]
        [ -i | --info ]
        [ -j @@var{section} | --section=@@var{section} ]
        [ -l | --line-numbers ]
        [ -S | --source ]
        [ -m @@var{machine} | --architecture=@@var{machine} ]
        [ -M @@var{options} | --disassembler-options=@@var{options}]
        [ -p | --private-headers ]
        [ -r | --reloc ]
        [ -R | --dynamic-reloc ]
        [ -s | --full-contents ]
        [ -G | --stabs ]
        [ -t | --syms ]
        [ -T | --dynamic-syms ]
        [ -x | --all-headers ]
        [ -w | --wide ]
        [ --start-address=@@var{address} ]
        [ --stop-address=@@var{address} ]
        [ --prefix-addresses]
        [ --[no-]show-raw-insn ]
        [ --adjust-vma=@@var{offset} ]
        [ -V | --version ]
        [ -H | --help ]
d1379 1
a1379 1
@@code{objdump} displays information about one or more object files.
d1386 1
a1386 1
specify archives, @@code{objdump} shows information on each of the member
d1395 1
a1395 1
@@samp{-a,-d,-D,-f,-g,-G,-h,-H,-p,-r,-R,-S,-t,-T,-V,-x} must be given. 
d1397 1
a1397 1
@@table @@code
d1427 2
a1428 2
displays summary information from the section headers (@@samp{-h}) of
@@file{fu.o}, which is explicitly identified (@@samp{-m}) as a VAX object
d1430 1
a1430 1
formats available with the @@samp{-i} option.
d1459 1
a1459 1
Like @@samp{-d}, but disassemble the contents of all sections, not just
d1489 1
a1489 1
(assumes '-S') from a file that has not yet been displayed, extend the
d1500 2
a1501 2
using the @@samp{-Ttext}, @@samp{-Tdata}, or @@samp{-Tbss} options to
@@code{ld}.  However, some object file formats, such as a.out, do not
d1503 1
a1503 1
although @@code{ld} relocates the sections correctly, using @@samp{objdump
d1509 1
a1509 1
Print a summary of the options to @@code{objdump} and exit.
d1516 1
a1516 1
for specification with @@samp{-b} or @@samp{-m}.
d1528 1
a1528 1
Only useful with @@samp{-d}, @@samp{-D}, or @@samp{-r}.
d1537 1
a1537 1
architectures with the @@samp{-i} option.
d1546 1
a1546 1
@@samp{-M reg-name-std} (the default) will select the register names as
d1549 2
a1550 2
@@samp{-M reg-names-apcs} will select the name set used by the ARM
Procedure Call Standard, whilst specifying @@samp{-M reg-names-raw} will
d1554 3
a1556 3
by @@samp{-M reg-names-atpcs} and @@samp{-M reg-names-special-atpcs} which
use the ARM/Thumb Procedure Call Standard naming conventions.  (Eiuther
with the normal register name sor the special register names).
d1560 1
a1560 1
using the switch @@samp{--disassembler-options=force-thumb}.  This can be
d1573 2
a1574 2
Print the relocation entries of the file.  If used with @@samp{-d} or
@@samp{-D}, the relocations are printed interspersed with the
d1595 1
a1595 1
@@samp{-d}.
d1600 1
a1600 1
@@code{--prefix-addresses} is used.
d1604 1
a1604 1
This is the default when @@code{--prefix-addresses} is used.
d1617 1
a1617 1
interleaved with linkage symbols, and are visible in the @@samp{--syms}
d1627 1
a1627 1
of the @@code{-d}, @@code{-r} and @@code{-s} options.
d1632 1
a1632 1
of the @@code{-d}, @@code{-r} and @@code{-s} options.
d1646 1
a1646 1
program when given the @@samp{-D} (@@samp{--dynamic}) option.
d1649 1
a1649 1
Print the version number of @@code{objdump} and exit.
d1656 2
a1657 2
relocation entries.  Using @@samp{-x} is equivalent to specifying all of
@@samp{-a -f -h -r -t}.
d1684 1
a1684 1
ranlib [-vV] @@var{archive}
d1690 1
a1690 1
@@code{ranlib} generates an index to the contents of an archive and
d1700 2
a1701 2
The @@sc{gnu} @@code{ranlib} program is another form of @@sc{gnu} @@code{ar}; running
@@code{ranlib} is completely equivalent to executing @@samp{ar -s}.
d1708 1
a1708 1
@@table @@code
d1712 1
a1712 1
Show the version number of @@code{ranlib}.
d1733 4
a1736 4
size [ -A | -B | --format=@@var{compatibility} ]
     [ --help ]  [ -d | -o | -x | --radix=@@var{number} ]
     [ --target=@@var{bfdname} ]  [ -V | --version ]  
     [ @@var{objfile}@@dots{} ]
d1742 1
a1742 1
The @@sc{gnu} @@code{size} utility lists the section sizes---and the total
d1756 1
a1756 1
@@table @@code
d1760 1
a1760 1
@@cindex @@code{size} display format
d1762 3
a1764 3
@@code{size} resembles output from System V @@code{size} (using @@samp{-A},
or @@samp{--format=sysv}), or Berkeley @@code{size} (using @@samp{-B}, or
@@samp{--format=berkeley}).  The default is the one-line format similar to
d1771 1
a1771 1
@@code{size}: 
d1807 1
a1807 1
@@cindex @@code{size} number format
d1810 3
a1812 3
section is given in decimal (@@samp{-d}, or @@samp{--radix=10}); octal
(@@samp{-o}, or @@samp{--radix=8}); or hexadecimal (@@samp{-x}, or
@@samp{--radix=16}).  In @@samp{--radix=@@var{number}}, only the three
d1814 2
a1815 2
radices; decimal and hexadecimal for @@samp{-d} or @@samp{-x} output, or
octal and hexadecimal if you're using @@samp{-o}.
d1820 1
a1820 1
@@var{bfdname}.  This option may not be necessary; @@code{size} can
d1826 1
a1826 1
Display the version number of @@code{size}.
d1848 4
a1851 4
strings [-afov] [-@@var{min-len}] [-n @@var{min-len}] [-t @@var{radix}] [-]
        [--all] [--print-file-name] [--bytes=@@var{min-len}]
        [--radix=@@var{radix}] [--target=@@var{bfdname}]
        [--help] [--version] @@var{file}@@dots{}
d1857 1
a1857 1
For each @@var{file} given, @@sc{gnu} @@code{strings} prints the printable
d1864 1
a1864 1
@@code{strings} is mainly useful for determining the contents of non-text
d1871 1
a1871 1
@@table @@code
d1892 1
a1892 1
Like @@samp{-t o}.  Some other versions of @@code{strings} have @@samp{-o}
d1933 10
a1942 10
strip [ -F @@var{bfdname} | --target=@@var{bfdname} ]
      [ -I @@var{bfdname} | --input-target=@@var{bfdname} ]
      [ -O @@var{bfdname} | --output-target=@@var{bfdname} ]
      [ -s | --strip-all ] [ -S | -g | --strip-debug ]
      [ -K @@var{symbolname} | --keep-symbol=@@var{symbolname} ]
      [ -N @@var{symbolname} | --strip-symbol=@@var{symbolname} ]
      [ -x | --discard-all ] [ -X | --discard-locals ]
      [ -R @@var{sectionname} | --remove-section=@@var{sectionname} ]
      [ -o @@var{file} ] [ -p | --preserve-dates ]
      [ -v | --verbose ]  [ -V | --version ]  [ --help ]
d1949 1
a1949 1
@@sc{gnu} @@code{strip} discards all symbols from object files
d1953 1
a1953 1
@@code{strip} modifies the files named in its argument,
d1960 1
a1960 1
@@table @@code
d1968 1
a1968 1
Show a summary of the options to @@code{strip} and exit.
d2008 1
a2008 1
@@code{-K}.
d2030 1
a2030 1
Show the version number for @@code{strip}.
d2056 5
a2060 5
c++filt [ -_ | --strip-underscores ]
        [ -j | --java ]
	[ -n | --no-strip-underscores ]
        [ -s @@var{format} | --format=@@var{format} ]
        [ --help ]  [ --version ]  [ @@var{symbol}@@dots{} ]
d2071 1
a2071 1
@@dfn{mangling}). The @@code{c++filt}
d2073 1
a2073 1
MS-DOS this program is named @@code{cxxfilt}.}
d2083 1
a2083 1
You can use @@code{c++filt} to decipher individual symbols:
d2089 1
a2089 1
If no @@var{symbol} arguments are given, @@code{c++filt} reads symbol
d2097 1
a2097 1
@@table @@code
d2103 1
a2103 1
@@code{c++filt} removes the underscore by default is target dependent.
d2116 1
a2116 1
@@sc{gnu} @@code{nm} can decode three different methods of mangling, used by
d2136 1
a2136 1
Print a summary of the options to @@code{c++filt} and exit.
d2139 1
a2139 1
Print the version number of @@code{c++filt} and exit.
d2151 1
a2151 1
@@emph{Warning:} @@code{c++filt} is a new utility, and the details of its
d2178 6
a2183 6
addr2line [ -b @@var{bfdname} | --target=@@var{bfdname} ]
          [ -C | --demangle[=@@var{style} ]
          [ -e @@var{filename} | --exe=@@var{filename} ]
          [ -f | --functions ] [ -s | --basename ]
          [ -H | --help ] [ -V | --version ]
          [ addr addr ... ]
d2189 1
a2189 1
@@code{addr2line} translates program addresses into file names and line
d2194 1
a2194 1
The executable to use is specified with the @@code{-e} option.  The
d2197 1
a2197 1
@@code{addr2line} has two modes of operation.
d2200 1
a2200 1
and @@code{addr2line} displays the file name and line number for each
d2203 1
a2203 1
In the second, @@code{addr2line} reads hexadecimal addresses from
d2205 1
a2205 1
address on standard output.  In this mode, @@code{addr2line} may be used
d2210 1
a2210 1
@@code{-f} option is used, then each @@samp{FILENAME:LINENO} line is
d2215 2
a2216 2
@@code{addr2line} will print two question marks in their place.  If the
line number can not be determined, @@code{addr2line} will print 0.
d2225 1
a2225 1
@@table @@code
d2267 1
a2267 1
@@code{nlmconv} converts a relocatable object file into a NetWare
d2271 1
a2271 1
@@code{nlmconv} currently works with @@samp{i386} object
d2274 1
a2274 1
@@code{nlmconv} should work with any @@samp{i386} or @@sc{sparc} object
d2280 1
a2280 1
@@emph{Warning:} @@code{nlmconv} is not always built as part of the binary
d2288 5
a2292 5
nlmconv [ -I @@var{bfdname} | --input-target=@@var{bfdname} ]
        [ -O @@var{bfdname} | --output-target=@@var{bfdname} ]
        [ -T @@var{headerfile} | --header-file=@@var{headerfile} ]
        [ -d | --debug]  [ -l @@var{linker} | --linker=@@var{linker} ]
        [ -h | --help ]  [ -V | --version ]
d2299 1
a2299 1
@@code{nlmconv} converts the relocatable @@samp{i386} object file
d2306 1
a2306 1
@@code{nlmconv} uses the @@sc{gnu} Binary File Descriptor library to read
d2312 1
a2312 1
@@code{nlmconv} can perform a link step.  In other words, you can list
d2315 1
a2315 1
In this case, @@code{nlmconv} calls the linker for you.
d2321 1
a2321 1
@@table @@code
d2324 1
a2324 1
Object format of the input file.  @@code{nlmconv} can usually determine
d2330 1
a2330 1
Object format of the output file.  @@code{nlmconv} infers the output
d2345 1
a2345 1
Displays (on standard error) the linker command line used by @@code{nlmconv}.
d2358 1
a2358 1
Prints the version number for @@code{nlmconv}.
d2372 1
a2372 1
@@code{windres} may be used to manipulate Windows resources.
d2375 1
a2375 1
@@emph{Warning:} @@code{windres} is not always built as part of the binary
d2389 1
a2389 1
@@code{windres} reads resources from an input file and copies them into
d2406 1
a2406 1
When @@code{windres} converts from the @@code{rc} format to the @@code{res}
d2408 1
a2408 1
@@code{windres} converts from the @@code{res} format to the @@code{coff}
d2411 1
a2411 1
When @@code{windres} generates an @@code{rc} file, the output is similar
d2416 1
a2416 1
If the input or output format is not specified, @@code{windres} will
d2423 1
a2423 1
If no output file is specified, @@code{windres} will print the resources
d2426 1
a2426 1
The normal use is for you to write an @@code{rc} file, use @@code{windres}
d2435 1
a2435 1
@@table @@code
d2439 3
a2441 3
@@code{windres} will use the first non-option argument as the input file
name.  If there are no non-option arguments, then @@code{windres} will
read from standard input.  @@code{windres} can not read a COFF file from
d2447 1
a2447 1
@@code{windres} will use the first non-option argument, after any used
d2449 2
a2450 2
non-option argument, then @@code{windres} will write to standard output.
@@code{windres} can not write a COFF file to standard output.
d2455 1
a2455 1
@@samp{coff}.  If no input format is specified, @@code{windres} will
d2462 1
a2462 1
@@code{windres} will guess, as described above.
d2467 4
a2470 3
is a BFD target name; you can use the @@code{--help} option to see a list
of supported targets.  Normally @@code{windres} will use the default
format, which is the first one listed by the @@code{--help} option.
d2472 1
d2475 1
a2475 1
When @@code{windres} reads an @@code{rc} file, it runs it through the C
d2482 2
a2483 2
@@code{windres} will pass this to the preprocessor as an @@code{-I}
option.  @@code{windres} will also search this directory when looking for
d2488 1
a2488 1
Specify a @@code{-D} option to pass to the preprocessor when reading an
d2515 1
a2515 1
Prints the version number for @@code{windres}.
d2518 1
a2518 1
If @@code{windres} is compiled with @@code{YYDEBUG} defined as @@code{1},
d2535 1
a2535 1
@@code{dlltool} may be used to create the files needed to build and use
d2539 1
a2539 1
@@emph{Warning:} @@code{dlltool} is not always built as part of the binary
d2547 15
a2561 14
dlltool [-d|--input-def @@var{def-file-name}]
        [-b|--base-file @@var{base-file-name}]
        [-e|--output-exp @@var{exports-file-name}]
        [-z|--output-def @@var{def-file-name}]
        [-l|--output-lib @@var{library-file-name}]        
        [--export-all-symbols] [--no-export-all-symbols]
        [--exclude-symbols @@var{list}]
        [--no-default-excludes]
        [-S|--as @@var{path-to-assembler}] [-f|--as-flags @@var{options}]
        [-D|--dllname @@var{name}] [-m|--machine @@var{machine}]
        [-a|--add-indirect] [-U|--add-underscore] [-k|--kill-at]
        [-A|--add-stdcall-alias]
        [-x|--no-idata4] [-c|--no-idata5] [-i|--interwork]
        [-n|--nodelete] [-v|--verbose] [-h|--help] [-V|--version]
d2568 8
a2575 7
@@code{dlltool} reads its inputs, which can come from the @@samp{-d} and
@@samp{-b} options as well as object files specified on the command
line.  It then processes these inputs and if the @@samp{-e} option has
been specified it creates a exports file.  If the @@samp{-l} option
has been specified it creates a library file and if the @@samp{-z} option
has been specified it creates a def file.  Any or all of the -e, -l
and -z options can be present in one invocation of dlltool.
d2578 1
a2578 1
to have three other files.  @@code{dlltool} can help with the creation of
d2583 2
a2584 2
is a text file and can be created by hand, or @@code{dlltool} can be used
to create it using the @@samp{-z} option.  In this case @@code{dlltool}
d2590 1
a2590 1
have an @@samp{-export:<name_of_function>} entry in the @@samp{.drectve}
d2604 2
a2605 2
binary file and it can be created by giving the @@samp{-e} option to
@@code{dlltool} when it is creating or reading in a .def file. 
d2609 1
a2609 1
can be created by giving the @@samp{-l} option to dlltool when it
d2612 1
a2612 1
@@code{dlltool} builds the library file by hand, but it builds the
d2614 1
a2614 1
and then assembling these.  The @@samp{-S} command line option can be
d2616 3
a2618 3
and the @@samp{-f} option can be used to pass specific flags to that
assembler.  The @@samp{-n} can be used to prevent dlltool from deleting
these temporary assembler files when it is done, and if @@samp{-n} is
d2639 1
a2639 1
@@table @@code
d2668 1
a2668 1
are not exported by default; see the @@code{--no-default-excludes}
d2670 1
a2670 1
@@code{--exclude-symbols} option.
d2682 1
a2682 1
@@code{--export-all-symbols} is used.
d2685 1
a2685 1
When @@code{--export-all-symbols} is used, it will by default avoid
d2688 1
a2688 1
@@samp{impure_ptr}.  You may use the @@code{--no-default-excludes} option
d2690 1
a2690 1
when @@code{--export-all-symbols} is used.
d2701 1
a2701 1
the @@samp{-S} option is not used.  This option only takes one argument,
d2710 2
a2711 2
when the @@samp{-e} option is used.  If this option is not present, then
the filename given to the @@samp{-e} option will be used as the name of
d2717 1
a2717 1
built.  @@code{dlltool} has a built in default type, depending upon how
d2724 1
a2724 1
Specifies that when @@code{dlltool} is creating the exports file it
d2731 1
a2731 1
Specifies that when @@code{dlltool} is creating the exports file it
d2736 1
a2736 1
Specifies that when @@code{dlltool} is creating the exports file it
d2743 1
a2743 1
Specifies that when @@code{dlltool} is creating the exports file it
d2749 2
a2750 2
Specifies that when @@code{dlltool} is creating the exports and library
files it should omit the .idata4 section.  This is for compatibility
d2755 2
a2756 2
Specifies that when @@code{dlltool} is creating the exports and library
files it should omit the .idata5 section.  This is for compatibility
d2761 1
a2761 1
Specifies that @@code{dlltool} should mark the objects in the library
d2767 1
a2767 1
Makes @@code{dlltool} preserve the temporary assembler files it used to
d2804 17
a2820 17
readelf [ -a | --all ] 
        [ -h | --file-header]
        [ -l | --program-headers | --segments]
        [ -S | --section-headers | --sections]
        [ -e | --headers]
        [ -s | --syms | --symbols]
        [ -n | --notes]
        [ -r | --relocs]
        [ -u | --unwind]
        [ -d | --dynamic]
        [ -V | --version-info]
        [ -D | --use-dynamic]
        [ -x <number> | --hex-dump=<number>]
        [ -w[liaprmf] | --debug-dump[=line,=info,=abbrev,=pubnames,=ranges,=macro,=frames]]
        [      --histogram]
        [ -v | --version]
        [ -H | --help]
d2827 1
a2827 1
@@code{readelf} displays information about one or more ELF format object
d2831 1
a2831 1
moment, @@code{readelf} does not support examining archives, nor does it
d2842 1
a2842 1
@@table @@code
d2845 4
a2848 4
Equivalent to specifiying @@samp{--file-header},
@@samp{--program-headers}, @@samp{--sections}, @@samp{--symbols},
@@samp{--relocs}, @@samp{--dynamic}, @@samp{--notes} and
@@samp{--version-info}. 
d2879 1
a2879 1
Display all the headers in the file.  Equivalent to @@samp{-h -l -S}.
d2910 1
a2910 1
When displaying symbols, this option makes @@code{readelf} use the
d2934 1
a2934 1
Display the command line options understood by @@code{readelf}.
d2969 1
a2969 1
@@samp{--enable-targets=all}, the commands list most of the available
d3004 1
a3004 1
@@subheading @@code{objdump} Target
d3010 1
a3010 1
command line option: @@samp{-b} or @@samp{--target}
d3019 1
a3019 1
@@subheading @@code{objcopy} and @@code{strip} Input Target
d3025 1
a3025 1
command line options: @@samp{-I} or @@samp{--input-target}, or @@samp{-F} or @@samp{--target}
d3034 1
a3034 1
@@subheading @@code{objcopy} and @@code{strip} Output Target
d3040 1
a3040 1
command line options: @@samp{-O} or @@samp{--output-target}, or @@samp{-F} or @@samp{--target}
d3043 1
a3043 1
the input target (see ``@@code{objcopy} and @@code{strip} Input Target'' above)
d3052 1
a3052 1
@@subheading @@code{nm}, @@code{size}, and @@code{strings} Target
d3058 1
a3058 1
command line option: @@samp{--target}
d3073 1
a3073 1
command line option: @@samp{-b} or @@samp{--format}
d3095 1
a3095 1
command line option: @@samp{-oformat}
d3118 1
a3118 1
@@subheading @@code{objdump} Architecture
d3124 1
a3124 1
command line option: @@samp{-m} or @@samp{--architecture}
d3130 1
a3130 1
@@subheading @@code{objcopy}, @@code{nm}, @@code{size}, @@code{strings} Architecture
d3189 1
a3189 1
command line option: @@samp{-m}
d3290 1
a3290 1
with the @@samp{--version} argument.
d3325 1
a3325 1
(e.g., @@code{gcc}, @@code{gas}, and/or the @@sc{gnu} @@code{ld}), then it
d3327 1
a3327 1
this case, be sure to say exactly what version of @@code{gcc}, or
d3329 1
a3329 1
@@code{gcc}, or whatever, was configured.
d3351 1
a3351 1
generated by @@code{diff} with the @@samp{-u}, @@samp{-c}, or @@samp{-p}
d3353 1
a3353 1
wish to discuss something in the @@code{ld} source, refer to it by
@


1.2
log
@Display the contents of a .debug.macinfo section
@
text
@d944 1
d1213 18
@


1.1
log
@Remove auot generated man pages
@
text
@d2788 1
a2788 1
        [ -w[liaprf] | --debug-dump[=info,=line,=abbrev,=pubnames,=ranges,=frames]]
d2889 2
a2890 2
@@item -w[liaprf]
@@itemx --debug-dump[=line,=info,=abbrev,=pubnames,=ranges,=frames]
@

