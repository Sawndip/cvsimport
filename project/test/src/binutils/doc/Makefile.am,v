head	1.24;
access;
symbols
	binutils-2_24-branch:1.24.0.2
	binutils-2_24-branchpoint:1.24
	binutils-2_21_1:1.23
	binutils-2_23_2:1.23
	binutils-2_23_1:1.23
	binutils-2_23:1.23
	binutils-2_23-branch:1.23.0.8
	binutils-2_23-branchpoint:1.23
	binutils-2_22_branch:1.23.0.6
	binutils-2_22:1.23
	binutils-2_22-branch:1.23.0.4
	binutils-2_22-branchpoint:1.23
	binutils-2_21:1.23
	binutils-2_21-branch:1.23.0.2
	binutils-2_21-branchpoint:1.23
	binutils-2_20_1:1.22
	binutils-2_20:1.22
	binutils-arc-20081103-branch:1.20.0.6
	binutils-arc-20081103-branchpoint:1.20
	binutils-2_20-branch:1.22.0.2
	binutils-2_20-branchpoint:1.22
	dje-cgen-play1-branch:1.21.0.2
	dje-cgen-play1-branchpoint:1.21
	arc-20081103-branch:1.20.0.4
	arc-20081103-branchpoint:1.20
	binutils-2_19_1:1.20
	binutils-2_19:1.20
	binutils-2_19-branch:1.20.0.2
	binutils-2_19-branchpoint:1.20
	binutils-2_18:1.19.2.1
	binutils-2_18-branch:1.19.0.2
	binutils-2_18-branchpoint:1.19
	binutils-csl-coldfire-4_1-32:1.10.2.2
	binutils-csl-sourcerygxx-4_1-32:1.10.2.2
	binutils-csl-innovasic-fido-3_4_4-33:1.10.2.2
	binutils-csl-sourcerygxx-3_4_4-32:1.7
	binutils-csl-coldfire-4_1-30:1.10.2.2
	binutils-csl-sourcerygxx-4_1-30:1.10.2.2
	binutils-csl-coldfire-4_1-28:1.10.2.2
	binutils-csl-sourcerygxx-4_1-29:1.10.2.2
	binutils-csl-sourcerygxx-4_1-28:1.10.2.2
	binutils-csl-arm-2006q3-27:1.10.2.2
	binutils-csl-sourcerygxx-4_1-27:1.10.2.2
	binutils-csl-arm-2006q3-26:1.10.2.2
	binutils-csl-sourcerygxx-4_1-26:1.10.2.2
	binutils-csl-sourcerygxx-4_1-25:1.10.2.2
	binutils-csl-sourcerygxx-4_1-24:1.10.2.2
	binutils-csl-sourcerygxx-4_1-23:1.10.2.2
	binutils-csl-sourcerygxx-4_1-21:1.10.2.2
	binutils-csl-arm-2006q3-21:1.10.2.2
	binutils-csl-sourcerygxx-4_1-22:1.10.2.2
	binutils-csl-palmsource-arm-prelinker-1_0-1:1.10.2.2
	binutils-csl-sourcerygxx-4_1-20:1.10.2.2
	binutils-csl-arm-2006q3-19:1.10.2.2
	binutils-csl-sourcerygxx-4_1-19:1.10.2.2
	binutils-csl-sourcerygxx-4_1-18:1.10.2.2
	binutils-csl-renesas-4_1-9:1.10.2.2
	binutils-csl-sourcerygxx-3_4_4-25:1.7
	binutils-csl-renesas-4_1-8:1.10.2.1
	binutils-csl-renesas-4_1-7:1.10.2.1
	binutils-csl-renesas-4_1-6:1.10.2.1
	binutils-csl-sourcerygxx-4_1-17:1.10.2.1
	binutils-csl-sourcerygxx-4_1-14:1.10.2.1
	binutils-csl-sourcerygxx-4_1-15:1.10.2.1
	binutils-csl-sourcerygxx-4_1-13:1.10.2.1
	binutils-2_17:1.11.2.3
	binutils-csl-sourcerygxx-4_1-12:1.10.2.1
	binutils-csl-sourcerygxx-3_4_4-21:1.10.2.1
	binutils-csl-wrs-linux-3_4_4-24:1.7
	binutils-csl-wrs-linux-3_4_4-23:1.7
	binutils-csl-sourcerygxx-4_1-9:1.10.2.1
	binutils-csl-sourcerygxx-4_1-8:1.10.2.1
	binutils-csl-sourcerygxx-4_1-7:1.10.2.1
	binutils-csl-arm-2006q1-6:1.10.2.1
	binutils-csl-sourcerygxx-4_1-6:1.10.2.1
	binutils-csl-wrs-linux-3_4_4-22:1.7
	binutils-csl-coldfire-4_1-11:1.10.2.1
	binutils-csl-sourcerygxx-3_4_4-19:1.10.2.1
	binutils-csl-coldfire-4_1-10:1.10.2.1
	binutils-csl-sourcerygxx-4_1-5:1.10.2.1
	binutils-csl-sourcerygxx-4_1-4:1.10.2.1
	binutils-csl-wrs-linux-3_4_4-21:1.7
	binutils-csl-morpho-4_1-4:1.10.2.1
	binutils-csl-sourcerygxx-3_4_4-17:1.10.2.1
	binutils-csl-wrs-linux-3_4_4-20:1.7
	binutils-2_17-branch:1.11.0.2
	binutils-2_17-branchpoint:1.11
	binutils-csl-2_17-branch:1.10.0.2
	binutils-csl-2_17-branchpoint:1.10
	binutils-csl-gxxpro-3_4-branch:1.7.0.6
	binutils-csl-gxxpro-3_4-branchpoint:1.7
	binutils-2_16_1:1.7
	binutils-csl-arm-2005q1b:1.7
	binutils-2_16:1.7
	binutils-csl-arm-2005q1a:1.7
	binutils-csl-arm-2005q1-branch:1.7.0.4
	binutils-csl-arm-2005q1-branchpoint:1.7
	binutils-2_16-branch:1.7.0.2
	binutils-2_16-branchpoint:1.7
	csl-arm-2004-q3d:1.6
	csl-arm-2004-q3:1.6
	binutils-2_15:1.6
	binutils-2_15-branchpoint:1.6
	csl-arm-2004-q1a:1.6
	csl-arm-2004-q1:1.6
	binutils-2_15-branch:1.6.0.6
	cagney_bfdfile-20040213-branch:1.6.0.4
	cagney_bfdfile-20040213-branchpoint:1.6
	cagney_bigcore-20040122-branch:1.6.0.2
	cagney_bigcore-20040122-branchpoint:1.6
	csl-arm-2003-q4:1.6
	binutils-2_14:1.5
	binutils-2_14-branch:1.5.0.6
	binutils-2_14-branchpoint:1.5
	binutils-2_13_2_1:1.5
	binutils-2_13_2:1.5
	binutils-2_13_1:1.5
	binutils-2_13:1.5
	binutils-2_13-branchpoint:1.5
	binutils-2_13-branch:1.5.0.4
	binutils-2_12_1:1.5
	binutils-2_12:1.5
	binutils-2_12-branch:1.5.0.2
	binutils-2_12-branchpoint:1.5
	cygnus_cvs_20020108_pre:1.4
	binutils_latest_snapshot:1.24;
locks; strict;
comment	@# @;


1.24
date	2012.12.17.16.55.40;	author nickc;	state Exp;
branches;
next	1.23;

1.23
date	2010.01.06.16.52.14;	author hjl;	state Exp;
branches;
next	1.22;

1.22
date	2009.08.22.17.08.08;	author rwild;	state Exp;
branches;
next	1.21;

1.21
date	2009.02.03.15.53.59;	author jsm28;	state Exp;
branches;
next	1.20;

1.20
date	2007.08.13.01.52.58;	author drow;	state Exp;
branches;
next	1.19;

1.19
date	2007.06.19.13.24.33;	author nickc;	state Exp;
branches
	1.19.2.1;
next	1.18;

1.18
date	2007.03.15.14.17.16;	author hjl;	state Exp;
branches;
next	1.17;

1.17
date	2007.03.07.22.49.59;	author jsm28;	state Exp;
branches;
next	1.16;

1.16
date	2006.12.11.15.09.41;	author drow;	state Exp;
branches;
next	1.15;

1.15
date	2006.08.10.13.23.15;	author amylaar;	state Exp;
branches;
next	1.14;

1.14
date	2006.06.02.23.08.11;	author jsm28;	state Exp;
branches;
next	1.13;

1.13
date	2006.05.19.13.10.58;	author schwab;	state Exp;
branches;
next	1.12;

1.12
date	2006.05.02.14.20.46;	author drow;	state Exp;
branches;
next	1.11;

1.11
date	2006.04.06.21.49.29;	author carlos;	state Exp;
branches
	1.11.2.1;
next	1.10;

1.10
date	2005.10.11.04.49.16;	author mmitchel;	state Exp;
branches
	1.10.2.1;
next	1.9;

1.9
date	2005.05.17.19.43.41;	author drow;	state Exp;
branches;
next	1.8;

1.8
date	2005.05.15.18.19.38;	author drow;	state Exp;
branches;
next	1.7;

1.7
date	2004.12.08.02.50.40;	author bje;	state Exp;
branches;
next	1.6;

1.6
date	2003.11.28.04.58.41;	author amodra;	state Exp;
branches;
next	1.5;

1.5
date	2002.01.26.21.25.00;	author hp;	state Exp;
branches;
next	1.4;

1.4
date	2001.09.19.17.02.38;	author hjl;	state Exp;
branches;
next	1.3;

1.3
date	2001.08.01.15.54.41;	author nickc;	state Exp;
branches;
next	1.2;

1.2
date	2001.07.03.16.35.34;	author hjl;	state Exp;
branches;
next	1.1;

1.1
date	2001.06.19.11.57.29;	author nickc;	state Exp;
branches;
next	;

1.19.2.1
date	2007.08.13.01.53.11;	author drow;	state Exp;
branches;
next	;

1.11.2.1
date	2006.05.02.14.19.02;	author drow;	state Exp;
branches;
next	1.11.2.2;

1.11.2.2
date	2006.06.02.02.21.01;	author drow;	state Exp;
branches;
next	1.11.2.3;

1.11.2.3
date	2006.06.02.23.11.46;	author jsm28;	state Exp;
branches;
next	;

1.10.2.1
date	2006.04.03.15.44.46;	author carlos;	state Exp;
branches;
next	1.10.2.2;

1.10.2.2
date	2006.08.22.15.08.30;	author jsm28;	state Exp;
branches;
next	;


desc
@@


1.24
log
@Add copyright notices
@
text
@## Process this file with automake to generate Makefile.in
#
#   Copyright 2012 Free Software Foundation
#
# This file is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 3 of the License, or
# (at your option) any later version.
# 
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
# 
# You should have received a copy of the GNU General Public License
# along with this program; see the file COPYING3.  If not see
# <http://www.gnu.org/licenses/>.
#

AUTOMAKE_OPTIONS = cygnus

# What version of the manual you want; "all" includes everything
CONFIG=all

# Options to extract the man page from as.texinfo
MANCONF = -Dman

TEXI2POD = perl $(top_srcdir)/../etc/texi2pod.pl $(AM_MAKEINFOFLAGS)

POD2MAN = pod2man --center="GNU Development Tools" \
	 --release="binutils-$(VERSION)" --section=1

# List of man pages generated from binutils.texi
man_MANS = \
	addr2line.1 \
	ar.1 \
	dlltool.1 \
	nlmconv.1 \
	nm.1 \
	objcopy.1 \
	objdump.1 \
	ranlib.1 \
	readelf.1 \
	size.1 \
	strings.1 \
	strip.1 \
	elfedit.1 \
	windres.1 \
	windmc.1 \
	$(DEMANGLER_NAME).1

info_TEXINFOS = binutils.texi
binutils_TEXI = $(srcdir)/binutils.texi

AM_MAKEINFOFLAGS = -I "$(srcdir)" -I "$(top_srcdir)/../libiberty" \
		   -I "$(top_srcdir)/../bfd/doc" -I ../../bfd/doc
TEXI2DVI = texi2dvi -I "$(srcdir)" -I "$(top_srcdir)/../libiberty" \
		    -I "$(top_srcdir)/../bfd/doc" -I ../../bfd/doc

# Man page generation from texinfo
addr2line.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Daddr2line < $(binutils_TEXI) > addr2line.pod
	-($(POD2MAN) addr2line.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f addr2line.pod

ar.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dar < $(binutils_TEXI) > ar.pod
	-($(POD2MAN) ar.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f ar.pod

dlltool.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Ddlltool < $(binutils_TEXI) > dlltool.pod
	-($(POD2MAN) dlltool.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f dlltool.pod

nlmconv.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dnlmconv < $(binutils_TEXI) > nlmconv.pod
	-($(POD2MAN) nlmconv.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f nlmconv.pod

nm.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dnm < $(binutils_TEXI) > nm.pod
	-($(POD2MAN) nm.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f nm.pod

objcopy.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dobjcopy < $(binutils_TEXI) > objcopy.pod
	-($(POD2MAN) objcopy.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f objcopy.pod

objdump.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dobjdump < $(binutils_TEXI) > objdump.pod
	-($(POD2MAN) objdump.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f objdump.pod

ranlib.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dranlib < $(binutils_TEXI) > ranlib.pod
	-($(POD2MAN) ranlib.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f ranlib.pod

readelf.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dreadelf < $(binutils_TEXI) > readelf.pod
	-($(POD2MAN) readelf.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f readelf.pod

size.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dsize < $(binutils_TEXI) > size.pod
	-($(POD2MAN) size.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f size.pod

strings.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dstrings < $(binutils_TEXI) > strings.pod
	-($(POD2MAN) strings.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f strings.pod

strip.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dstrip < $(binutils_TEXI) > strip.pod
	-($(POD2MAN) strip.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f strip.pod

elfedit.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Delfedit < $(binutils_TEXI) > elfedit.pod
	-($(POD2MAN) elfedit.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f elfedit.pod

windres.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dwindres < $(binutils_TEXI) > windres.pod
	-($(POD2MAN) windres.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f windres.pod

windmc.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dwindmc < $(binutils_TEXI) > windmc.pod
	-($(POD2MAN) windmc.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f windmc.pod

cxxfilt.man:	$(binutils_TEXI) $(binutils_TEXINFOS)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dcxxfilt < $(binutils_TEXI) > $(DEMANGLER_NAME).pod
	-($(POD2MAN) $(DEMANGLER_NAME).pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f $(DEMANGLER_NAME).pod

MOSTLYCLEANFILES     = $(DEMANGLER_NAME).1

$(DEMANGLER_NAME).1: cxxfilt.man Makefile
	if test -f cxxfilt.man; then \
	  man=cxxfilt.man; \
	else \
	  man=$(srcdir)/cxxfilt.man; \
	fi; \
	sed -e 's/@@PROGRAM@@/$(DEMANGLER_NAME)/' \
	    -e 's/cxxfilt/$(DEMANGLER_NAME)/' < $$man \
		> $(DEMANGLER_NAME).1

# We want install to imply install-info as per GNU standards, despite the
# cygnus option.
install-data-local: install-info

MAINTAINERCLEANFILES = binutils.info

# Automake 1.9 will only build info files in the objdir if they are
# mentioned in DISTCLEANFILES.  It doesn't have to be unconditional,
# though, so we use a bogus condition.
if GENINSRC_NEVER
DISTCLEANFILES = binutils.info
endif

# Maintenance

# We need it for the taz target in ../../Makefile.in.
info-local: $(MANS)
@


1.23
log
@Add elfedit

binutils/

2010-01-06  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/11131
	* Makefile.am (ELFEDIT_PROG): New.
	(bin_PROGRAMS): Add $(ELFEDIT_PROG).
	(CFILES): Add elfedit.c.
	(elfedit_DEPENDENCIES): New.
	(elfedit_SOURCES): Likewise.
	(elfedit_LDADD): Likewise.
	* Makefile.in: Regenerated.

	* elfedit.c: New.

	* doc/binutils.texi: Document elfedit.

	* doc/Makefile.am (man_MANS): Add elfedit.1.
	(elfedit.1): New.
	* doc/Makefile.in: Regenerated.

binutils/testsuite/

2010-01-06  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/11131
	* binutils-all/elfedit-1.d: New.
	* binutils-all/elfedit.exp: Likewise.

	* config/default.exp (ELFEDIT): New. Set if it doesn't exist.
	(ELFEDITFLAGS): Likewise.

	* lib/utils-lib.exp (run_dump_test): Support elfedit.
@
text
@d2 17
@


1.22
log
@Cleanups after the update to Autoconf 2.64, Automake 1.11.

/:
	* README-maintainer-mode: Point directly to upstream locations
	for autoconf, automake, libtool, gettext, instead of copies on
	sources.redhat.com.  Document required versions.
	* configure.ac: Do not substitute datarootdir, htmldir,
	pdfdir, docdir.  Do not process --with-datarootdir,
	--with-htmldir, --with-pdfdir, --with-docdir.
	* configure: Regenerate.

gdb/:
	* CONTRIBUTE: Bump documented Autoconf version.
	* configure.ac: Do not substitute datarootdir, htmldir,
	pdfdir, docdir.  Do not process --with-datarootdir,
	--with-htmldir, --with-pdfdir, --with-docdir.
	* configure: Regenerate.

gdb/doc/:
	* gdbint.texinfo (Releasing GDB): Point to
	README-maintainer-mode file for required autoconf version.
	* configure.ac: Do not substitute datarootdir, htmldir,
	pdfdir, docdir.  Do not process --with-datarootdir,
	--with-htmldir, --with-pdfdir, --with-docdir.
	* configure: Regenerate.

gprof/:
	* Makefile.am (pdf__strip_dir, install-pdf, install-pdf-am)
	(install-pdf-recursive, html__strip_dir, install-html)
	(install-html-am, install-html-recursive): Remove.
	* Makefile.in: Regenerate.

opcodes/:
	* Makefile.am (install-pdf, install-html): Remove.
	* Makefile.in: Regenerate.

gas/:
	* Makefile.am (install-pdf, install-pdf-recursive, install-html)
	(install-html-recursive): Remove.
	* Makefile.in: Regenerate.
	* doc/Makefile.am (pdf__strip_dir, install-pdf, install-pdf-am)
	(html__strip_dir, install-html, install-html-am): Remove.
	* doc/Makefile.in: Regenerate.

ld/:
	* Makefile.am (pdf__strip_dir, install-pdf, install-pdf-am)
	(install-pdf-recursive, html__strip_dir, install-html)
	(install-html-am, install-html-recursive): Remove.
	* Makefile.in: Regenerate.

binutils/:
	* Makefile.am (install-pdf, install-pdf-recursive, install-html)
	(install-html-recursive): Remove.
	* Makefile.in: Regenerate.
	* doc/Makefile.am (pdf__strip_dir, install-pdf, install-pdf-am)
	(html__strip_dir, install-html, install-html-am): Remove.
	* doc/Makefile.in: Regenerate.

bfd/:
	* Makefile.am (datarootdir, docdir, htmldor, pdfdir)
	(install-pdf, install-pdf-recursive, install-html)
	(install-html-recursive): Remove.
	* Makefile.in: Regenerate.

bfd/doc/:
	* Makefile.am (pdf__strip_dir, install-pdf, install-pdf-am)
	(html__strip_dir, install-html, install-html-am): Remove.
	* Makefile.in: Regenerate.
@
text
@d30 1
d128 7
@


1.21
log
@bfd:
2009-02-03  Carlos O'Donell  <carlos@@codesourcery.com>

	* configure.in: AC_SUBST pdfdir.
	* Makefile.am: Add install-pdf, install-pdf-am
	and install-pdf-recursive targets. Define pdfdir.
	* doc/Makefile.am: Define pdf__strip_dir. Add
	install-pdf and install-pdf-am targets.
	* po/Make-in: Add install-pdf target.
	* configure: Regenerate.
	* Makefile.in: Regenerate
	* doc/Makefile.in: Regenerate.

binutils:
2009-02-03  Carlos O'Donell  <carlos@@codesourcery.com>

	* configure.in: AC_SUBST pdfdir.
	* Makefile.am: Add install-pdf, install-pdf-am,
	and install-pdf-recursive targets.
	* doc/Makefile.am: Define pdf__strip_dir. Add
	install-pdf and install-pdf-am targets.
	* po/Make-in: Add install-pdf target.
	* configure: Regenerate.
	* Makefile.in: Regenerate.
	* doc/Makefile.in: Regenerate.

etc:
2009-02-03  Carlos O'Donell  <carlos@@codesourcery.com>

	* configure.in: AC_SUBST pdfdir.
	* configure: Regenerate.

gas:
2009-02-03  Carlos O'Donell  <carlos@@codesourcery.com>

	* configure.in: AC_SUBST pdfdir.
	* Makefile.am: Add install-pdf, install-pdf-am,
	and install-pdf-recursive targets.
	* doc/Makefile.am: Define pdf__strip_dir. Add
	install-pdf and install-pdf-am targets.
	* po/Make-in: Add install-pdf target.
	* configure: Regenerate.
	* Makefile.in: Regenerate.
	* doc/Makefile.in: Regenerate.

gprof:
2009-02-03  Carlos O'Donell  <carlos@@codesourcery.com>

	* configure.in: AC_SUBST pdfdir.
	* Makefile.am: Add install-pdf, install-pdf-am,
	and install-pdf-recursive targets. Define pdf__strip_dir.
	* po/Make-in: Add install-pdf target.
	* configure: Regenerate.
	* Makefile.in: Regenerate.

ld:
2009-02-03  Carlos O'Donell  <carlos@@codesourcery.com>

	* configure.in: AC_SUBST pdfdir.
	* Makefile.am: Add install-pdf, install-pdf-am,
	and install-pdf-recursive targets. Define pdf__strip_dir.
	* po/Make-in: Add install-pdf target.
	* configure: Regenerate.
	* Makefile.in: Regenerate.

opcodes:
2009-02-03  Carlos O'Donell  <carlos@@codesourcery.com>

	* Makefile.am: Add install-pdf target.
	* po/Make-in: Add install-pdf target.
	* Makefile.in: Regenerate.
@
text
@a163 35
pdf__strip_dir = `echo $$p | sed -e 's|^.*/||'`;

install-pdf: install-pdf-am
 
install-pdf-am: $(PDFS)
	@@$(NORMAL_INSTALL)
	test -z "$(pdfdir)" || $(mkinstalldirs) "$(DESTDIR)$(pdfdir)"
	@@list='$(PDFS)'; for p in $$list; do \
	  if test -f "$$p"; then d=; else d="$(srcdir)/"; fi; \
	  f=$(pdf__strip_dir) \
	  echo " $(INSTALL_DATA) '$$d$$p' '$(DESTDIR)$(pdfdir)/$$f'"; \
	  $(INSTALL_DATA) "$$d$$p" "$(DESTDIR)$(pdfdir)/$$f"; \
	done

html__strip_dir = `echo $$p | sed -e 's|^.*/||'`;

install-html: install-html-am

install-html-am: $(HTMLS)
	@@$(NORMAL_INSTALL)
	test -z "$(htmldir)" || $(mkdir_p) "$(DESTDIR)$(htmldir)"
	@@list='$(HTMLS)'; for p in $$list; do \
	  if test -f "$$p" || test -d "$$p"; then d=""; else d="$(srcdir)/"; fi; \
	  f=$(html__strip_dir) \
	  if test -d "$$d$$p"; then \
	    echo " $(mkdir_p) '$(DESTDIR)$(htmldir)/$$f'"; \
	    $(mkdir_p) "$(DESTDIR)$(htmldir)/$$f" || exit 1; \
	    echo " $(INSTALL_DATA) '$$d$$p'/* '$(DESTDIR)$(htmldir)/$$f'"; \
	    $(INSTALL_DATA) "$$d$$p"/* "$(DESTDIR)$(htmldir)/$$f"; \
	  else \
	    echo " $(INSTALL_DATA) '$$d$$p' '$(DESTDIR)$(htmldir)/$$f'"; \
	    $(INSTALL_DATA) "$$d$$p" "$(DESTDIR)$(htmldir)/$$f"; \
	  fi; \
	done

@


1.20
log
@	* doc/Makefile.am (AM_MAKEINFOFLAGS, TEXI2DVI): Include
	$(top_srcdir)/../../bfd/doc.
	* doc/Makefile.in: Regenerate.
@
text
@d164 14
@


1.19
log
@* Makefile.am: Add windmc tool.
* Makefile.in: Regenerate.
* configure.in: Add windmc tool.
* configure: Regenerate.
* mclex.c: New.
* mcparse.y: New.
* windmc.c: New.
* windmc.h: New.
* doc/Makefile.am: Add windmc tool.
* doc/Makefile.in: Regenerate.
* doc/binutils.texi: Add windmc documentation.
* NEWS: Mention new tool.
@
text
@d38 1
a38 1
		   -I ../../bfd/doc
d40 1
a40 1
		    -I ../../bfd/doc
@


1.19.2.1
log
@	* doc/Makefile.am (AM_MAKEINFOFLAGS, TEXI2DVI): Include
	$(top_srcdir)/../../bfd/doc.
	* doc/Makefile.in: Regenerate.
@
text
@d38 1
a38 1
		   -I "$(top_srcdir)/../bfd/doc" -I ../../bfd/doc
d40 1
a40 1
		    -I "$(top_srcdir)/../bfd/doc" -I ../../bfd/doc
@


1.18
log
@bfd/

2007-03-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (bfdver.h): Substitute report_bugs_to.  Also
	create doc/bfdver.texi.
	* Makefile.in: Regenerated.

	* configure.in (--with-bugurl): New option.
	* configure: Regenerated.

	* version.h (REPORT_BUGS_TO): New.

binutils/

2007-03-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (REPORT_BUGS_TO): Removed.
	(INCLUDES): Remove -DREPORT_BUGS_TO.
	* Makefile.in: Regenerated.

	* bucomm.c: Don't include bfdver.h.
	* objdump.c: Likewise.
	* version.c: Likewise.

	* bucomm.h: Include bfdver.h.

	* configure.in (--with-bugurl): Removed.
	* configure: Regenerated.

	* doc/Makefile.am (binutils_TEXINFOS): Removed.
	(AM_MAKEINFOFLAGS): Add -I ../../bfd/doc.
	(TEXI2DVI): Likewise.
	(config.texi): Removed.
	(MOSTLYCLEANFILES): Remove config.texi.
	* doc/Makefile.in: Regenerated.

	* doc/binutils.texi: Include bfdver.texi instead of
	config.texi.

gas/

2007-03-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (REPORT_BUGS_TO): Removed.
	(INCLUDES): Remove -DREPORT_BUGS_TO.
	* Makefile.in: Regenerated.

	* configure.in (--with-bugurl): Removed.
	* configure: Regenerated.

	* doc/Makefile.am (as_TEXINFOS): Remove gasver.texi.
	(AM_MAKEINFOFLAGS): Add -I ../../bfd/doc.
	(TEXI2DVI): Likewise.
	(gasver.texi): Removed.
	(MOSTLYCLEANFILES): Remove gasver.texi.
	(as.1): Don't depend on gasver.texi.
	* doc/Makefile.in: Regenerated.

	* doc/as.texi: Include bfdver.texi instead of gasver.texi.

gprof/

2007-03-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (REPORT_BUGS_TO): Removed.
	(INCLUDES): Remove -DREPORT_BUGS_TO.
	* Makefile.in: Regenerated.

	* configure.in (--with-bugurl): Removed.
	* configure: Regenerated.

ld/

2007-03-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (ld_TEXINFOS): Remove ldver.texi.
	(AM_MAKEINFOFLAGS): Add -I ../../bfd/doc.
	(TEXI2DVI): Likewise.
	(REPORT_BUGS_TO): Removed.
	(INCLUDES): Remove -DREPORT_BUGS_TO.
	(ldver.texi): Likewise.
	(ld.1): Don't depend on ldver.texi.
	(MOSTLYCLEANFILES): Remove ldver.texi.
	* Makefile.in: Regenerated.

	* configure.in (--with-bugurl): Removed.
	* configure: Regenerated.

	* lexsup.c: Include bfdver.h.

	* ld.texinfo: Include bfdver.texi instead of ldver.texi.
@
text
@d31 1
d134 7
@


1.17
log
@binutils:
	* configure.in (REPORT_BUGS_TEXI): Define to Texinfo version of
	bug-reporting URL.
	* doc/Makefile.am (config.texi): Define BUGURL.
	* doc/binutils.texi: Use BUGURL.  Remove text about large files
	and uuencoding.
	* Makefile.in, configure, doc/Makefile.in: Regenerate.

gas:
	* configure.in (REPORT_BUGS_TEXI): Define to Texinfo version of
	bug-reporting URL.
	* doc/Makefile.am (gasver.texi): Define BUGURL.
	* doc/as.texinfo: Use BUGURL.
	* Makefile.in, configure, doc/Makefile.in: Regenerate.

ld:
	* configure.in (REPORT_BUGS_TEXI): Define to Texinfo version of
	bug-reporting URL.
	* Makefile.am (ldver.texi): Define BUGURL.
	* ld.texinfo: Use BUGURL.
	* Makefile.in, configure: Regenerate.
@
text
@a33 1
binutils_TEXINFOS = config.texi
d36 4
a39 11
AM_MAKEINFOFLAGS = -I "$(srcdir)" -I "$(top_srcdir)/../libiberty"
TEXI2DVI = texi2dvi -I "$(srcdir)" -I "$(top_srcdir)/../libiberty"

config.texi: $(srcdir)/../../bfd/configure $(binutils_TEXI)
	rm -f config.texi
	eval `grep '^ *VERSION=' $(srcdir)/../../bfd/configure`; \
	  echo "@@set VERSION $$VERSION" > $@@
	echo "@@set UPDATED `date '+%B %Y'`" >> config.texi
	if [ -n "$(REPORT_BUGS_TEXI)" ]; then \
	  echo "@@set BUGURL $(REPORT_BUGS_TEXI)" >> config.texi; \
	fi
a139 1
MAINTAINERCLEANFILES = config.texi
d177 1
a177 1
MAINTAINERCLEANFILES += binutils.info
@


1.16
log
@bfd/
	* configure.in: Define GENINSRC_NEVER.
	* doc/Makefile.am (bfd.info): Remove srcdir prefix.
	(MAINTAINERCLEANFILES): Add info file.
	(DISTCLEANFILES): Pretend to add info file.
	* po/Make-in (.po.gmo): Put gmo files in objdir.
	* configure, Makefile.in, doc/Makefile.in: Regenerated.
binutils/
	* configure.in: Define GENINSRC_NEVER.
	* doc/Makefile.am (MAINTAINERCLEANFILES): Add info file.
	(DISTCLEANFILES): Pretend to add info file.
	* po/Make-in (.po.gmo): Put gmo files in objdir.
	* configure, Makefile.in, doc/Makefile.in: Regenerated.
gas/
	* configure.in: Define GENINSRC_NEVER.
	* doc/Makefile.am (as.info): Remove srcdir prefix.
	(MAINTAINERCLEANFILES): Add info file.
	(DISTCLEANFILES): Pretend to add info file.
	* po/Make-in (.po.gmo): Put gmo files in objdir.
	* configure, Makefile.in, doc/Makefile.in: Regenerated.
gprof/
	* configure.in: Define GENINSRC_NEVER.
	* doc/Makefile.am (gprof.info): Remove srcdir prefix.
	(MAINTAINERCLEANFILES): Add info file.
	(DISTCLEANFILES): Pretend to add info file.
	* po/Make-in (.po.gmo): Put gmo files in objdir.
	* configure, Makefile.in: Regenerated.
ld/
	* configure.in: Define GENINSRC_NEVER.
	* doc/Makefile.am (ld.info): Remove srcdir prefix.
	(MAINTAINERCLEANFILES): Add info file.
	(DISTCLEANFILES): Pretend to add info file.
	* po/Make-in (.po.gmo): Put gmo files in objdir.
	* configure, Makefile.in: Regenerated.
opcodes/
	* po/Make-in (.po.gmo): Put gmo files in objdir.
@
text
@d45 3
@


1.15
log
@	PR binutils/3017
	* doc/Makefile.am: Use single quotes inside backquotes for
	date command while generating config.texi.
	* doc/Makefile.in: Regenerate.
@
text
@d183 9
@


1.14
log
@binutils:
	* doc/Makefile.am (TEXI2DVI): Define.
	* doc/Makefile.in: Regenerate.

gas:
	* doc/Makefile.am (TEXI2DVI): Define.
	* doc/Makefile.in: Regenerate.
	* doc/c-arc.texi: Fix typo.

ld:
	* Makefile.am (TEXI2DVI): Add -I $(top_srcdir)/../libiberty.
	* Makefile.in: Regenerate.
@
text
@d44 1
a44 1
	echo "@@set UPDATED `date "+%B %Y"`" >> config.texi
@


1.13
log
@	* doc/Makefile.am (addr2line.1): Depend on $(binutils_TEXINFOS).
	(ar.1): Likewise.
	(dlltool.1): Likewise.
	(nlmconv.1): Likewise.
	(nm.1): Likewise.
	(objcopy.1): Likewise.
	(objdump.1): Likewise.
	(ranlib.1): Likewise.
	(readelf.1): Likewise.
	(size.1): Likewise.
	(strings.1): Likewise.
	(strip.1): Likewise.
	(windres.1): Likewise.
	(cxxfilt.man): Likewise.
	* doc/Makefile.in: Regenerated.
@
text
@d38 1
@


1.12
log
@binutils/
	* doc/Makefile.am (AM_MAKEINFOFLAGS): New.
	(TEXI2POD): Use AM_MAKEINFOFLAGS.
	(config.texi): Don't set top_srcdir.
	* doc/binutils.texi: Don't use top_srcdir.
	* aclocal.m4, Makefile.in, doc/Makefile.in: Regenerated.
gas/
	* doc/Makefile.am (AM_MAKEINFOFLAGS): New.
	(TEXI2POD): Use AM_MAKEINFOFLAGS.
	(asconfig.texi): Don't set top_srcdir.
	* doc/as.texinfo: Don't use top_srcdir.
	* aclocal.m4, Makefile.in, doc/Makefile.in: Regenerated.
ld/
	* Makefile.am (AM_MAKEINFOFLAGS): Add libiberty.
	(TEXI2POD): Use AM_MAKEINFOFLAGS.
	(configdoc.texi): Don't set top_srcdir.
	* ld.texinfo: Don't use top_srcdir.
	* aclocal.m4, Makefile.in: Regenerated.
@
text
@d46 1
a46 1
addr2line.1:	$(binutils_TEXI)
d53 1
a53 1
ar.1:	$(binutils_TEXI)
d60 1
a60 1
dlltool.1:	$(binutils_TEXI)
d67 1
a67 1
nlmconv.1:	$(binutils_TEXI)
d74 1
a74 1
nm.1:	$(binutils_TEXI)
d81 1
a81 1
objcopy.1:	$(binutils_TEXI)
d88 1
a88 1
objdump.1:	$(binutils_TEXI)
d95 1
a95 1
ranlib.1:	$(binutils_TEXI)
d102 1
a102 1
readelf.1:	$(binutils_TEXI)
d109 1
a109 1
size.1:	$(binutils_TEXI)
d116 1
a116 1
strings.1:	$(binutils_TEXI)
d123 1
a123 1
strip.1:	$(binutils_TEXI)
d130 1
a130 1
windres.1:	$(binutils_TEXI)
d137 1
a137 1
cxxfilt.man:	$(binutils_TEXI)
@


1.11
log
@
2006-04-06  Carlos O'Donell <carlos@@codesourcery.com>

	* Makefile.tpl: Add install-html target.
	* Makefile.def: Add install-html target.
	* Makefile.in: Regenerate.
	* configure.in: Add --with-datarootdir, --with-docdir,
	and --with-htmldir options.
	* configure: Regenerate.

bfd/

2006-04-06  Carlos O'Donell  <carlos@@codesourcery.com>

	* po/Make-in: Add install-html target.
	* Makefile.am: Rename docdir to bfddocdir. Add datarootdir, docdir
	htmldir. Add install-html and install-html-recursive targets.
	* Makefile.in: Regenerate.
	* configure.in: AC_SUBST for datarootdir, docdir and htmldir.
	* configure: Regenerate.

bfd/doc/

2006-04-06  Carlos O'Donell  <carlos@@codesourcery.com>

	* Makefile.am: Add install-html and install-html-am targets.
	Define datarootdir, docdir and htmldir.
	* Makefile.in: Regenerate.

binutils/

2006-04-06  Carlos O'Donell  <carlos@@codesourcery.com>

	* po/Make-in: Add install-html target.
	* Makefile.am: Add install-html and install-html-recursive targets.
	* Makefile.in: Regenerate.
	* configure.in: AC_SUBST datarootdir, docdir and htmldir.
	* configure: Regenerate.
	* doc/Makefile.am: Add install-html and install-html-am targets.
	* doc/Makefile.in: Regenerate.

etc/

2006-04-06  Carlos O'Donell  <carlos@@codesourcery.com>

	* Makefile.in: Add install-html target. Add htmldir,
	docdir and datarootdir.
	* configure.texi: Document install-html target.
	* configure.in: AC_SUBST datarootdir, docdir, htmldir.
	* configure: Regenerate.

gas/

2006-04-06  Carlos O'Donell  <carlos@@codesourcery.com>

	* po/Make-in: Add install-html target.
	* Makefile.am: Add install-html and install-html-recursive targets.
	* Makefile.in: Regenerate.
	* configure.in: AC_SUBST datarootdir, docdir, htmldir.
	* configure: Regenerate.
	* doc/Makefile.am: Add install-html and install-html-am targets.
	* doc/Makefile.in: Regenerate.

gprof/

2006-04-06  Carlos O'Donell  <carlos@@codesourcery.com>

	* po/Make-in: Add install-html target.
	* Makefile.am: Add install-html, install-html-am and
	install-html-recursive targets.
	* Makefile.in: Regenerate.
	* configure.in: AC_SUBST datarootdir, docdir, htmldir.
	* configure: Regenerate.

intl/

2006-04-06  Carlos O'Donell  <carlos@@codesourcery.com>

	* intl/Makefile.in: Add html info and dvi and install-html to .PHONY
	Add install-html target.

ld/

2006-04-06  Carlos O'Donell  <carlos@@codesourcery.com>

	* Makefile.am: Add install-html, install-html-am, and
	install-html-recursive targets.
	* Makefile.in: Regenerate.
	* configure.in: AC_SUBST datarootdir, docdir, htmldir.
	* configure: Regenerate.
	* po/Make-in: Add install-html target.

opcodes/

2006-04-06  Carlos O'Donell  <carlos@@codesourcery.com>

	* Makefile.am: Add install-html target.
	* Makefile.in: Regenerate.
@
text
@d11 1
a11 1
TEXI2POD = perl $(top_srcdir)/../etc/texi2pod.pl
d37 2
a43 1
	echo "@@set top_srcdir $(top_srcdir)" >> config.texi
@


1.11.2.1
log
@binutils/
	* doc/Makefile.am (AM_MAKEINFOFLAGS): New.
	(TEXI2POD): Use AM_MAKEINFOFLAGS.
	(config.texi): Don't set top_srcdir.
	* doc/binutils.texi: Don't use top_srcdir.
	* aclocal.m4, Makefile.in, doc/Makefile.in: Regenerated.
gas/
	* doc/Makefile.am (AM_MAKEINFOFLAGS): New.
	(TEXI2POD): Use AM_MAKEINFOFLAGS.
	(asconfig.texi): Don't set top_srcdir.
	* doc/as.texinfo: Don't use top_srcdir.
	* aclocal.m4, Makefile.in, doc/Makefile.in: Regenerated.
ld/
	* Makefile.am (AM_MAKEINFOFLAGS): Add libiberty.
	(TEXI2POD): Use AM_MAKEINFOFLAGS.
	(configdoc.texi): Don't set top_srcdir.
	* ld.texinfo: Don't use top_srcdir.
	* aclocal.m4, Makefile.in: Regenerated.
@
text
@d11 1
a11 1
TEXI2POD = perl $(top_srcdir)/../etc/texi2pod.pl $(AM_MAKEINFOFLAGS)
a36 2
AM_MAKEINFOFLAGS = -I "$(srcdir)" -I "$(top_srcdir)/../libiberty"

d42 1
@


1.11.2.2
log
@	Backport:
	2006-05-19  Andreas Schwab  <schwab@@suse.de>
	* doc/Makefile.am (addr2line.1): Depend on $(binutils_TEXINFOS).
	(ar.1): Likewise.
	(dlltool.1): Likewise.
	(nlmconv.1): Likewise.
	(nm.1): Likewise.
	(objcopy.1): Likewise.
	(objdump.1): Likewise.
	(ranlib.1): Likewise.
	(readelf.1): Likewise.
	(size.1): Likewise.
	(strings.1): Likewise.
	(strip.1): Likewise.
	(windres.1): Likewise.
	(cxxfilt.man): Likewise.
	* doc/Makefile.in: Regenerated.
@
text
@d46 1
a46 1
addr2line.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
d53 1
a53 1
ar.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
d60 1
a60 1
dlltool.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
d67 1
a67 1
nlmconv.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
d74 1
a74 1
nm.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
d81 1
a81 1
objcopy.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
d88 1
a88 1
objdump.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
d95 1
a95 1
ranlib.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
d102 1
a102 1
readelf.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
d109 1
a109 1
size.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
d116 1
a116 1
strings.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
d123 1
a123 1
strip.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
d130 1
a130 1
windres.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
d137 1
a137 1
cxxfilt.man:	$(binutils_TEXI) $(binutils_TEXINFOS)
@


1.11.2.3
log
@binutils:
	* doc/Makefile.am (TEXI2DVI): Define.
	* doc/Makefile.in: Regenerate.

gas:
	* doc/Makefile.am (TEXI2DVI): Define.
	* doc/Makefile.in: Regenerate.
	* doc/c-arc.texi: Fix typo.

ld:
	* Makefile.am (TEXI2DVI): Add -I $(top_srcdir)/../libiberty.
	* Makefile.in: Regenerate.
@
text
@a37 1
TEXI2DVI = texi2dvi -I "$(srcdir)" -I "$(top_srcdir)/../libiberty"
@


1.10
log
@	* doc/Makefile.am (config.texi): Set top_srcdir.
	* doc/Makefile.in: Regenerated.
	* doc/binutils.texi: Use at-file.texi from libiberty.
@
text
@d160 21
@


1.10.2.1
log
@
2006-04-03  Carlos O'Donell <carlos@@codesourcery.com>

	* Makefile.tpl: Add install-html target.
	* Makefile.def: Add install-html target.
	* Makefile.in: Regenerate.
	* configure.in: Add --with-datarootdir, --with-docdir,
	and --with-htmldir options.
	* configure: Regenerate.
	* opcodes/Makefile.am: Add install-html target.
	* opcodes/Makefile.in: Regenerate.
	* libiberty/Makefile.in: Add install-html, install-html-am, and
	install-html-recursive targets. Define mkdir_p and
	NORMAL_INSTALL.
	* libiberty/configure.ac: AC_SUBST datarootdir, docdir, htmldir.
	* libiberty/configure: Regenerate.
	* libiberty/testsuite/Makefile.in: Add install-html and html targets.
	* ld/Makefile.am: Add install-html, install-html-am, and
	install-html-recursive targets.
	* ld/Makefile.in: Regenerate.
	* ld/configure.in: AC_SUBST datarootdir, docdir, htmldir.
	* ld/configure: Regenerate.
	* ld/po/Make-in: Add install-html target.
	* intl/Makefile.in: Add html info and dvi and install-html to .PHONY
	Add install-html target.
	* gprof/po/Make-in: Add install-html target.
	* gprof/Makefile.am: Add install-html, install-html-am and
	install-html-recursive targets.
	* gprof/Makefile.in: Regenerate.
	* gprof/configure.in: AC_SUBST datarootdir, docdir, htmldir.
	* gprof/configure: Regenerate.
	* gas/po/Make-in: Add install-html target.
	* gas/Makefile.am: Add install-html and install-html-recursive targets.
	* gas/Makefile.in: Regenerate.
	* gas/configure.in: AC_SUBST datarootdir, docdir, htmldir.
	* gas/configure: Regenerate.
	* gas/doc/Makefile.am: Add install-html and install-html-am targets.
	* gas/doc/Makefile.in: Regenerate.
	* binutils/po/Make-in: Add install-html target.
	* binutils/Makefile.am: Add install-html and install-html-recursive targets.
	* binutils/Makefile.in: Regenerate.
	* binutils/configure.in: AC_SUBST datarootdir, docdir and htmldir.
	* binutils/configure: Regenerate.
	* binutils/doc/Makefile.am: Add install-html and install-html-am targets.
	* binutils/doc/Makefile.in: Regenerate.
	* bfd/po/Make-in: Add install-html target.
	* bfd/Makefile.am: Rename docdir to bfddocdir. Add datarootdir, docdir
	htmldir. Add install-html and install-html-recursive targets.
	* bfd/Makefile.in: Regenerate.
	* bfd/configure.in: AC_SUBST for datarootdir, docdir and htmldir.
	* bfd/configure: Regenerate.
	* bfd/doc/Makefile.am: Add install-html and install-html-am targets.
	Define datarootdir, docdir and htmldir.
	* bfd/doc/Makefile.in: Regenerate.
	* etc/Makefile.in: Add install-html target. Add htmldir,
	docdir and datarootdir.
	* etc/configure.texi: Document install-html target.
	* etc/configure.in: AC_SUBST datarootdir, docdir, htmldir.
	* etc/configure: Regenerate.
@
text
@a159 21
html__strip_dir = `echo $$p | sed -e 's|^.*/||'`;

install-html: install-html-am

install-html-am: $(HTMLS)
	@@$(NORMAL_INSTALL)
	test -z "$(htmldir)" || $(mkdir_p) "$(DESTDIR)$(htmldir)"
	@@list='$(HTMLS)'; for p in $$list; do \
	  if test -f "$$p" || test -d "$$p"; then d=""; else d="$(srcdir)/"; fi; \
	  f=$(html__strip_dir) \
	  if test -d "$$d$$p"; then \
	    echo " $(mkdir_p) '$(DESTDIR)$(htmldir)/$$f'"; \
	    $(mkdir_p) "$(DESTDIR)$(htmldir)/$$f" || exit 1; \
	    echo " $(INSTALL_DATA) '$$d$$p'/* '$(DESTDIR)$(htmldir)/$$f'"; \
	    $(INSTALL_DATA) "$$d$$p"/* "$(DESTDIR)$(htmldir)/$$f"; \
	  else \
	    echo " $(INSTALL_DATA) '$$d$$p' '$(DESTDIR)$(htmldir)/$$f'"; \
	    $(INSTALL_DATA) "$$d$$p" "$(DESTDIR)$(htmldir)/$$f"; \
	  fi; \
	done

@


1.10.2.2
log
@Merge changes between binutils-csl-2_17-branchpoint and
binutils-2_17, except for the addition of generated files to CVS.
@
text
@d11 1
a11 1
TEXI2POD = perl $(top_srcdir)/../etc/texi2pod.pl $(AM_MAKEINFOFLAGS)
a36 3
AM_MAKEINFOFLAGS = -I "$(srcdir)" -I "$(top_srcdir)/../libiberty"
TEXI2DVI = texi2dvi -I "$(srcdir)" -I "$(top_srcdir)/../libiberty"

d42 1
d45 1
a45 1
addr2line.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
d52 1
a52 1
ar.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
d59 1
a59 1
dlltool.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
d66 1
a66 1
nlmconv.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
d73 1
a73 1
nm.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
d80 1
a80 1
objcopy.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
d87 1
a87 1
objdump.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
d94 1
a94 1
ranlib.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
d101 1
a101 1
readelf.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
d108 1
a108 1
size.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
d115 1
a115 1
strings.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
d122 1
a122 1
strip.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
d129 1
a129 1
windres.1:	$(binutils_TEXI) $(binutils_TEXINFOS)
d136 1
a136 1
cxxfilt.man:	$(binutils_TEXI) $(binutils_TEXINFOS)
@


1.9
log
@binutils/
	* doc/Makefile.am (config.texi): Don't use $<.
	* doc/Makefile.in: Regenerated.
ld/
	* Makefile.am (ldver.texi): Don't use $<.
	* Makefile.in: Regenerated.
gas/
	* doc/Makefile.am (gasver.texi): Don't use $<.
	* doc/Makefile.in: Regenerated.
@
text
@d42 1
@


1.8
log
@./
	* ylwrap: Import from Automake 1.9.5.
binutils/
	* acinclude.m4: Remove obsolete code.
	* configure.in: Update AC_PREREQ.
	* doc/Makefile.am (binutils_TEXINFOS): Define.
	(config.texi): Depend on distributed files instead of built
	files.
	(binutils.dvi, binutils.info): Remove unnecessary rules.
	(DISTCLEANFILES): Remove.
	(install-data-local): Renamed from install.
	(info-local): Renamed from info.
	* Makefile.in, aclocal.m4, config.in, configure,
	doc/Makefile.in: Regenerated.
gas/
	* Makefile.am (m68k-parse.c, itbl-parse.c): Update ylwrap
	invocation.
	* Makefile.in: Regenerated.
ld/
	* Makefile.am (AM_MAKEINFOFLAGS): Define.
	(TEXI2DVI): Define.
	(ldver.texi): Depend on distributed files instead of built files.
	(ld.info): Include $(srcdir) in the rule target.  Remove actions.
	(ld.dvi): Remove actions.
	(MAINTAINERCLEANFILES): Add configdoc.texi.
	(CONFIG_STATUS_DEPENDENCIES): Add bfd/configure.in.
	(install-data-local): Renamed from install.
	(Makefile): Remove explicit dependency.
	* acinclude.m4: Remove obsolete code.
	* configure.in: Update AC_PREREQ.  Remove extra $CONFIG_SHELL.
	* Makefile.in, aclocal.m4, config.in, configure: Regenerated.
gdb/
	* Makefile.in (.y.c): Update ylwrap invocation.
@
text
@d39 2
a40 1
	eval `grep '^ *VERSION=' $<`; echo "@@set VERSION $$VERSION" > $@@
@


1.7
log
@	* doc/Makefile.am (config.texi): Emit a @@set UPDATED command to
	config.texi whose value is the current month and year.
	* doc/Makefile.in: Rebuild.
	* doc/binutils.texi: Set the document subtitle to be the value of
	the Texinfo UPDATED variable (obtained from config.texi).
@
text
@d34 2
d37 1
a37 1
config.texi: Makefile
d39 1
a39 1
	echo '@@set VERSION $(VERSION)' > config.texi
a41 6
binutils_TEXI = $(srcdir)/binutils.texi

binutils.dvi:  $(binutils_TEXI) config.texi

binutils.info: $(binutils_TEXI) config.texi

a141 1
DISTCLEANFILES       = config.texi
d156 1
a156 1
install: install-info
d161 1
a161 1
info: $(MANS)
@


1.6
log
@	* Makefile.am (install-exec-local): Remove common term from string
	comparison.
	* Makefile.in: Regenerate.
	* doc/Makefile.am: Don't use $<.
	* doc/Makefile.in: Regenerate.
@
text
@d38 1
@


1.5
log
@	* doc/Makefile.am (install): Depend on install-info.
	* doc/Makefile.in: Regenerate.
@
text
@d48 1
a48 1
	-$(TEXI2POD) $(MANCONF) -Daddr2line < $< > addr2line.pod
d55 1
a55 1
	-$(TEXI2POD) $(MANCONF) -Dar < $< > ar.pod
d62 1
a62 1
	-$(TEXI2POD) $(MANCONF) -Ddlltool < $< > dlltool.pod
d69 1
a69 1
	-$(TEXI2POD) $(MANCONF) -Dnlmconv < $< > nlmconv.pod
d76 1
a76 1
	-$(TEXI2POD) $(MANCONF) -Dnm < $< > nm.pod
d83 1
a83 1
	-$(TEXI2POD) $(MANCONF) -Dobjcopy < $< > objcopy.pod
d90 1
a90 1
	-$(TEXI2POD) $(MANCONF) -Dobjdump < $< > objdump.pod
d97 1
a97 1
	-$(TEXI2POD) $(MANCONF) -Dranlib < $< > ranlib.pod
d104 1
a104 1
	-$(TEXI2POD) $(MANCONF) -Dreadelf < $< > readelf.pod
d111 1
a111 1
	-$(TEXI2POD) $(MANCONF) -Dsize < $< > size.pod
d118 1
a118 1
	-$(TEXI2POD) $(MANCONF) -Dstrings < $< > strings.pod
d125 1
a125 1
	-$(TEXI2POD) $(MANCONF) -Dstrip < $< > strip.pod
d132 1
a132 1
	-$(TEXI2POD) $(MANCONF) -Dwindres < $< > windres.pod
d139 1
a139 1
	-$(TEXI2POD) $(MANCONF) -Dcxxfilt < $< > $(DEMANGLER_NAME).pod
@


1.4
log
@2000-09-19  H.J. Lu  <hjl@@gnu.org>

	* doc/Makefile.am ($(DEMANGLER_NAME).1): Try cxxfilt.man and
	$(srcdir)/cxxfilt.man.
	* doc/Makefile.in: Rebuild.
@
text
@d158 4
@


1.3
log
@Use @@command{name} for commands.  Use @@option{-opt} for options.
Use @@table @@env for list of options.  Remove spaces arround [ | ] in synopsis.
Use 'GNU Development Tools' for the center title.
@
text
@d149 5
d155 1
a155 1
	    -e 's/cxxfilt/$(DEMANGLER_NAME)/' < cxxfilt.man \
@


1.2
log
@2001-07-03  H.J. Lu <hjl@@gnu.org>

	* doc/Makefile.am (addr2line.1): Use addr2line.pod instead of
	$@@.pod.
	(ar.1): Likewise.
	(dlltool.1): Likewise.
	(nlmconv.1): Likewise.
	(nm.1): Likewise.
	(objcopy.1): Likewise.
	(objdump.1): Likewise.
	(ranlib.1): Likewise.
	(readelf.1): Likewise.
	(size.1): Likewise.
	(strings.1): Likewise.
	(strip.1): Likewise.
	(windres.1): Likewise.
	(cxxfilt.man): Use $(DEMANGLER_NAME).pod instead of $@@.pod.
	($(DEMANGLER_NAME).1): Also substitute cxxfilt with
	$(DEMANGLER_NAME).
	(as.1): Removed.
	* doc/Makefile.in: Regenerated.
@
text
@d13 2
a14 1
POD2MAN = pod2man --center="GNU" --release="binutils-$(VERSION)" --section=1
@


1.1
log
@Remove auot generated man pages
@
text
@d47 2
a48 2
	-$(TEXI2POD) $(MANCONF) -Daddr2line < $< > $@@.pod
	-($(POD2MAN) $@@.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
d50 1
a50 1
	rm -f $@@.pod
d54 2
a55 2
	-$(TEXI2POD) $(MANCONF) -Dar < $< > $@@.pod
	-($(POD2MAN) $@@.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
d57 1
a57 1
	rm -f $@@.pod
d61 2
a62 2
	-$(TEXI2POD) $(MANCONF) -Ddlltool < $< > $@@.pod
	-($(POD2MAN) $@@.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
d64 1
a64 1
	rm -f $@@.pod
d68 2
a69 2
	-$(TEXI2POD) $(MANCONF) -Dnlmconv < $< > $@@.pod
	-($(POD2MAN) $@@.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
d71 1
a71 1
	rm -f $@@.pod
d75 2
a76 2
	-$(TEXI2POD) $(MANCONF) -Dnm < $< > $@@.pod
	-($(POD2MAN) $@@.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
d78 1
a78 1
	rm -f $@@.pod
d82 2
a83 2
	-$(TEXI2POD) $(MANCONF) -Dobjcopy < $< > $@@.pod
	-($(POD2MAN) $@@.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
d85 1
a85 1
	rm -f $@@.pod
d89 2
a90 2
	-$(TEXI2POD) $(MANCONF) -Dobjdump < $< > $@@.pod
	-($(POD2MAN) $@@.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
d92 1
a92 1
	rm -f $@@.pod
d96 2
a97 2
	-$(TEXI2POD) $(MANCONF) -Dranlib < $< > $@@.pod
	-($(POD2MAN) $@@.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
d99 1
a99 1
	rm -f $@@.pod
d103 2
a104 2
	-$(TEXI2POD) $(MANCONF) -Dreadelf < $< > $@@.pod
	-($(POD2MAN) $@@.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
d106 1
a106 1
	rm -f $@@.pod
d110 2
a111 2
	-$(TEXI2POD) $(MANCONF) -Dsize < $< > $@@.pod
	-($(POD2MAN) $@@.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
d113 1
a113 1
	rm -f $@@.pod
d117 2
a118 2
	-$(TEXI2POD) $(MANCONF) -Dstrings < $< > $@@.pod
	-($(POD2MAN) $@@.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
d120 1
a120 1
	rm -f $@@.pod
d124 2
a125 2
	-$(TEXI2POD) $(MANCONF) -Dstrip < $< > $@@.pod
	-($(POD2MAN) $@@.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
d127 1
a127 1
	rm -f $@@.pod
d131 2
a132 2
	-$(TEXI2POD) $(MANCONF) -Dwindres < $< > $@@.pod
	-($(POD2MAN) $@@.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
d134 1
a134 1
	rm -f $@@.pod
d138 2
a139 2
	-$(TEXI2POD) $(MANCONF) -Dcxxfilt < $< > $@@.pod
	-($(POD2MAN) $@@.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
d141 1
a141 1
	rm -f $@@.pod
d148 2
a149 1
	sed -e 's/@@PROGRAM@@/$(DEMANGLER_NAME)/' < cxxfilt.man \
a155 12

# Build the man page from the texinfo file
# The sed command removes the no-adjust Nroff command so that
# the man output looks standard.
as.1: $(srcdir)/as.texinfo
	touch $@@
	-$(TEXI2POD) $(MANCONF) < $(srcdir)/as.texinfo > as.pod
	-($(POD2MAN) as.pod | \
	        sed -e '/^.if n .na/d' > $@@.T$$$$ && \
	        mv -f $@@.T$$$$ $@@) || \
	        (rm -f $@@.T$$$$ && exit 1)
	rm -f as.pod
@

