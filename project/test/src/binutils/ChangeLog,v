head	1.2054;
access;
symbols
	binutils-2_24-branch:1.2042.0.2
	binutils-2_24-branchpoint:1.2042
	binutils-2_21_1:1.1708.2.12
	binutils-2_23_2:1.1925.2.9
	binutils-2_23_1:1.1925.2.7
	binutils-2_23:1.1925.2.5
	binutils-2_23-branch:1.1925.0.2
	binutils-2_23-branchpoint:1.1925
	binutils-2_22_branch:1.1831.2.1.0.2
	binutils-2_22:1.1831.2.1
	binutils-2_22-branch:1.1831.0.2
	binutils-2_22-branchpoint:1.1831
	binutils-2_21:1.1708.2.6
	binutils-2_21-branch:1.1708.0.2
	binutils-2_21-branchpoint:1.1708
	binutils-2_20_1:1.1521.2.19
	binutils-2_20:1.1521.2.13
	binutils-arc-20081103-branch:1.1384.0.4
	binutils-arc-20081103-branchpoint:1.1384
	binutils-2_20-branch:1.1521.0.2
	binutils-2_20-branchpoint:1.1521
	dje-cgen-play1-branch:1.1490.0.2
	dje-cgen-play1-branchpoint:1.1490
	arc-20081103-branch:1.1384.0.2
	arc-20081103-branchpoint:1.1384
	binutils-2_19_1:1.1365.2.7
	binutils-2_19:1.1365.2.5
	binutils-2_19-branch:1.1365.0.2
	binutils-2_19-branchpoint:1.1365
	binutils-2_18:1.1219.2.7
	binutils-2_18-branch:1.1219.0.2
	binutils-2_18-branchpoint:1.1219
	binutils-csl-coldfire-4_1-32:1.1048.2.1
	binutils-csl-sourcerygxx-4_1-32:1.1048.2.1
	binutils-csl-innovasic-fido-3_4_4-33:1.1048.2.1
	binutils-csl-sourcerygxx-3_4_4-32:1.878.2.14
	binutils-csl-coldfire-4_1-30:1.1048.2.1
	binutils-csl-sourcerygxx-4_1-30:1.1048.2.1
	binutils-csl-coldfire-4_1-28:1.1048.2.1
	binutils-csl-sourcerygxx-4_1-29:1.1048.2.1
	binutils-csl-sourcerygxx-4_1-28:1.1048.2.1
	binutils-csl-arm-2006q3-27:1.1048.2.1
	binutils-csl-sourcerygxx-4_1-27:1.1048.2.1
	binutils-csl-arm-2006q3-26:1.1048.2.1
	binutils-csl-sourcerygxx-4_1-26:1.1048.2.1
	binutils-csl-sourcerygxx-4_1-25:1.1048.2.1
	binutils-csl-sourcerygxx-4_1-24:1.1048.2.1
	binutils-csl-sourcerygxx-4_1-23:1.1048.2.1
	binutils-csl-sourcerygxx-4_1-21:1.1048.2.1
	binutils-csl-arm-2006q3-21:1.1048.2.1
	binutils-csl-sourcerygxx-4_1-22:1.1048.2.1
	binutils-csl-palmsource-arm-prelinker-1_0-1:1.1048.2.1
	binutils-csl-sourcerygxx-4_1-20:1.1048.2.1
	binutils-csl-arm-2006q3-19:1.1048.2.1
	binutils-csl-sourcerygxx-4_1-19:1.1048.2.1
	binutils-csl-sourcerygxx-4_1-18:1.1048.2.1
	binutils-csl-renesas-4_1-9:1.1048.2.1
	binutils-csl-sourcerygxx-3_4_4-25:1.878.2.14
	binutils-csl-renesas-4_1-8:1.1048
	binutils-csl-renesas-4_1-7:1.1048
	binutils-csl-renesas-4_1-6:1.1048
	binutils-csl-sourcerygxx-4_1-17:1.1048
	binutils-csl-sourcerygxx-4_1-14:1.1048
	binutils-csl-sourcerygxx-4_1-15:1.1048
	binutils-csl-sourcerygxx-4_1-13:1.1048
	binutils-2_17:1.1054.2.8
	binutils-csl-sourcerygxx-4_1-12:1.1048
	binutils-csl-sourcerygxx-3_4_4-21:1.1048
	binutils-csl-wrs-linux-3_4_4-24:1.878.2.8
	binutils-csl-wrs-linux-3_4_4-23:1.878.2.8
	binutils-csl-sourcerygxx-4_1-9:1.1048
	binutils-csl-sourcerygxx-4_1-8:1.1048
	binutils-csl-sourcerygxx-4_1-7:1.1048
	binutils-csl-arm-2006q1-6:1.1048
	binutils-csl-sourcerygxx-4_1-6:1.1048
	binutils-csl-wrs-linux-3_4_4-22:1.878.2.8
	binutils-csl-coldfire-4_1-11:1.1048
	binutils-csl-sourcerygxx-3_4_4-19:1.1048
	binutils-csl-coldfire-4_1-10:1.1048
	binutils-csl-sourcerygxx-4_1-5:1.1048
	binutils-csl-sourcerygxx-4_1-4:1.1048
	binutils-csl-wrs-linux-3_4_4-21:1.878.2.8
	binutils-csl-morpho-4_1-4:1.1048
	binutils-csl-sourcerygxx-3_4_4-17:1.1048
	binutils-csl-wrs-linux-3_4_4-20:1.878.2.8
	binutils-2_17-branch:1.1054.0.2
	binutils-2_17-branchpoint:1.1054
	binutils-csl-2_17-branch:1.1048.0.2
	binutils-csl-2_17-branchpoint:1.1048
	binutils-csl-gxxpro-3_4-branch:1.878.2.14.0.2
	binutils-csl-gxxpro-3_4-branchpoint:1.878.2.14
	binutils-2_16_1:1.878.2.14
	binutils-csl-arm-2005q1b:1.878.2.8
	binutils-2_16:1.878.2.14
	binutils-csl-arm-2005q1a:1.878.2.8
	binutils-csl-arm-2005q1-branch:1.878.2.8.0.2
	binutils-csl-arm-2005q1-branchpoint:1.878.2.8
	binutils-2_16-branch:1.878.0.2
	binutils-2_16-branchpoint:1.878
	csl-arm-2004-q3d:1.826
	csl-arm-2004-q3:1.802
	binutils-2_15:1.740.2.2
	binutils-2_15-branchpoint:1.740
	csl-arm-2004-q1a:1.760
	csl-arm-2004-q1:1.753
	binutils-2_15-branch:1.740.0.2
	cagney_bfdfile-20040213-branch:1.739.0.2
	cagney_bfdfile-20040213-branchpoint:1.739
	cagney_bigcore-20040122-branch:1.738.0.2
	cagney_bigcore-20040122-branchpoint:1.738
	csl-arm-2003-q4:1.728
	binutils-2_14:1.638.2.2
	binutils-2_14-branch:1.638.0.2
	binutils-2_14-branchpoint:1.638
	binutils-2_13_2_1:1.509.2.15
	binutils-2_13_2:1.509.2.15
	binutils-2_13_1:1.509.2.13
	binutils-2_13:1.509.2.8
	binutils-2_13-branchpoint:1.509
	binutils-2_13-branch:1.509.0.2
	binutils-2_12_1:1.419.2.15
	binutils-2_12:1.419.2.11
	binutils-2_12-branch:1.419.0.2
	binutils-2_12-branchpoint:1.419
	cygnus_cvs_20020108_pre:1.394
	binutils-2_11_2:1.253.2.13
	binutils-2_11_1:1.253.2.13
	binutils-2_11:1.253.2.6
	x86_64versiong3:1.267
	binutils-2_11-branch:1.253.0.2
	binutils-2_10_1:1.129.2.15
	binutils-2_10:1.129.2.9
	binutils-2_10-branch:1.129.0.2
	binutils-2_10-branchpoint:1.129
	binutils_latest_snapshot:1.2054
	repo-unification-2000-02-06:1.113
	binu_ss_19990721:1.46
	binu_ss_19990602:1.18
	binu_ss_19990502:1.1.1.1
	cygnus:1.1.1;
locks; strict;
comment	@# @;


1.2054
date	2013.10.14.18.45.46;	author chaoyingfu;	state Exp;
branches;
next	1.2053;

1.2053
date	2013.10.14.12.53.40;	author jbglaw;	state Exp;
branches;
next	1.2052;

1.2052
date	2013.10.14.09.15.09;	author nickc;	state Exp;
branches;
next	1.2051;

1.2051
date	2013.10.11.17.24.26;	author roland;	state Exp;
branches;
next	1.2050;

1.2050
date	2013.10.11.17.10.58;	author roland;	state Exp;
branches;
next	1.2049;

1.2049
date	2013.10.09.16.21.26;	author nickc;	state Exp;
branches;
next	1.2048;

1.2048
date	2013.10.09.16.17.23;	author nickc;	state Exp;
branches;
next	1.2047;

1.2047
date	2013.10.09.14.06.00;	author nickc;	state Exp;
branches;
next	1.2046;

1.2046
date	2013.10.01.13.44.37;	author nickc;	state Exp;
branches;
next	1.2045;

1.2045
date	2013.10.01.10.32.54;	author jbglaw;	state Exp;
branches;
next	1.2044;

1.2044
date	2013.09.27.18.05.03;	author hjl;	state Exp;
branches;
next	1.2043;

1.2043
date	2013.09.20.09.51.24;	author amodra;	state Exp;
branches;
next	1.2042;

1.2042
date	2013.09.18.10.39.37;	author gingold;	state Exp;
branches
	1.2042.2.1;
next	1.2041;

1.2041
date	2013.09.18.10.33.02;	author gingold;	state Exp;
branches;
next	1.2040;

1.2040
date	2013.09.17.21.09.27;	author sje;	state Exp;
branches;
next	1.2039;

1.2039
date	2013.09.12.09.14.46;	author nickc;	state Exp;
branches;
next	1.2038;

1.2038
date	2013.09.10.16.19.07;	author nickc;	state Exp;
branches;
next	1.2037;

1.2037
date	2013.08.27.16.22.48;	author nickc;	state Exp;
branches;
next	1.2036;

1.2036
date	2013.08.23.17.06.44;	author hjl;	state Exp;
branches;
next	1.2035;

1.2035
date	2013.08.23.14.22.39;	author nickc;	state Exp;
branches;
next	1.2034;

1.2034
date	2013.08.23.14.20.34;	author nickc;	state Exp;
branches;
next	1.2033;

1.2033
date	2013.08.23.14.12.39;	author nickc;	state Exp;
branches;
next	1.2032;

1.2032
date	2013.08.23.13.37.06;	author nickc;	state Exp;
branches;
next	1.2031;

1.2031
date	2013.08.23.07.54.18;	author nickc;	state Exp;
branches;
next	1.2030;

1.2030
date	2013.08.19.15.08.52;	author gingold;	state Exp;
branches;
next	1.2029;

1.2029
date	2013.08.12.07.55.55;	author schwab;	state Exp;
branches;
next	1.2028;

1.2028
date	2013.08.09.10.40.03;	author nickc;	state Exp;
branches;
next	1.2027;

1.2027
date	2013.07.26.17.20.20;	author hjl;	state Exp;
branches;
next	1.2026;

1.2026
date	2013.07.19.10.44.01;	author nickc;	state Exp;
branches;
next	1.2025;

1.2025
date	2013.07.18.16.12.34;	author nickc;	state Exp;
branches;
next	1.2024;

1.2024
date	2013.07.18.15.39.20;	author nickc;	state Exp;
branches;
next	1.2023;

1.2023
date	2013.07.18.10.57.23;	author nickc;	state Exp;
branches;
next	1.2022;

1.2022
date	2013.07.15.15.07.29;	author macro;	state Exp;
branches;
next	1.2021;

1.2021
date	2013.07.12.15.58.13;	author macro;	state Exp;
branches;
next	1.2020;

1.2020
date	2013.07.10.08.16.34;	author gingold;	state Exp;
branches;
next	1.2019;

1.2019
date	2013.07.09.07.32.14;	author gingold;	state Exp;
branches;
next	1.2018;

1.2018
date	2013.05.29.00.39.32;	author ccoutant;	state Exp;
branches;
next	1.2017;

1.2017
date	2013.05.15.16.36.38;	author ccoutant;	state Exp;
branches;
next	1.2016;

1.2016
date	2013.05.10.01.08.47;	author pinskia;	state Exp;
branches;
next	1.2015;

1.2015
date	2013.05.03.08.33.19;	author nickc;	state Exp;
branches;
next	1.2014;

1.2014
date	2013.05.02.10.18.37;	author nickc;	state Exp;
branches;
next	1.2013;

1.2013
date	2013.04.29.13.38.58;	author nickc;	state Exp;
branches;
next	1.2012;

1.2012
date	2013.04.26.20.55.25;	author ian;	state Exp;
branches;
next	1.2011;

1.2011
date	2013.04.08.14.59.03;	author tromey;	state Exp;
branches;
next	1.2010;

1.2010
date	2013.04.08.14.56.27;	author tromey;	state Exp;
branches;
next	1.2009;

1.2009
date	2013.04.05.04.13.41;	author amodra;	state Exp;
branches;
next	1.2008;

1.2008
date	2013.03.29.20.42.47;	author hjl;	state Exp;
branches;
next	1.2007;

1.2007
date	2013.03.27.11.53.46;	author nickc;	state Exp;
branches;
next	1.2006;

1.2006
date	2013.03.26.23.55.54;	author amodra;	state Exp;
branches;
next	1.2005;

1.2005
date	2013.03.26.22.52.05;	author nickc;	state Exp;
branches;
next	1.2004;

1.2004
date	2013.03.26.22.51.12;	author nickc;	state Exp;
branches;
next	1.2003;

1.2003
date	2013.03.25.13.16.41;	author nickc;	state Exp;
branches;
next	1.2002;

1.2002
date	2013.03.22.16.18.00;	author nickc;	state Exp;
branches;
next	1.2001;

1.2001
date	2013.03.22.16.04.55;	author nickc;	state Exp;
branches;
next	1.2000;

1.2000
date	2013.03.15.16.24.59;	author nickc;	state Exp;
branches;
next	1.1999;

1.1999
date	2013.03.14.16.38.54;	author nickc;	state Exp;
branches;
next	1.1998;

1.1998
date	2013.03.08.17.13.26;	author nickc;	state Exp;
branches;
next	1.1997;

1.1997
date	2013.03.06.13.40.51;	author amodra;	state Exp;
branches;
next	1.1996;

1.1996
date	2013.03.05.11.52.12;	author corinna;	state Exp;
branches;
next	1.1995;

1.1995
date	2013.03.04.14.22.25;	author nickc;	state Exp;
branches;
next	1.1994;

1.1994
date	2013.03.01.19.24.07;	author ccoutant;	state Exp;
branches;
next	1.1993;

1.1993
date	2013.02.27.12.40.15;	author amodra;	state Exp;
branches;
next	1.1992;

1.1992
date	2013.02.26.16.59.51;	author nickc;	state Exp;
branches;
next	1.1991;

1.1991
date	2013.02.15.14.37.34;	author nickc;	state Exp;
branches;
next	1.1990;

1.1990
date	2013.02.15.14.25.33;	author ktietz;	state Exp;
branches;
next	1.1989;

1.1989
date	2013.02.15.09.32.31;	author nickc;	state Exp;
branches;
next	1.1988;

1.1988
date	2013.02.14.11.52.25;	author nickc;	state Exp;
branches;
next	1.1987;

1.1987
date	2013.02.08.18.05.37;	author nickc;	state Exp;
branches;
next	1.1986;

1.1986
date	2013.02.06.23.22.11;	author sandra;	state Exp;
branches;
next	1.1985;

1.1985
date	2013.01.29.08.55.09;	author nickc;	state Exp;
branches;
next	1.1984;

1.1984
date	2013.01.28.17.49.39;	author devans;	state Exp;
branches;
next	1.1983;

1.1983
date	2013.01.28.09.31.01;	author amodra;	state Exp;
branches;
next	1.1982;

1.1982
date	2013.01.25.21.15.54;	author ccoutant;	state Exp;
branches;
next	1.1981;

1.1981
date	2013.01.25.11.32.44;	author nickc;	state Exp;
branches;
next	1.1980;

1.1980
date	2013.01.24.20.24.44;	author devans;	state Exp;
branches;
next	1.1979;

1.1979
date	2013.01.24.11.13.59;	author nickc;	state Exp;
branches;
next	1.1978;

1.1978
date	2013.01.23.08.45.19;	author krebbel;	state Exp;
branches;
next	1.1977;

1.1977
date	2013.01.18.13.14.35;	author nickc;	state Exp;
branches;
next	1.1976;

1.1976
date	2013.01.17.02.24.47;	author amodra;	state Exp;
branches;
next	1.1975;

1.1975
date	2013.01.15.13.41.05;	author amodra;	state Exp;
branches;
next	1.1974;

1.1974
date	2013.01.10.09.49.15;	author nickc;	state Exp;
branches;
next	1.1973;

1.1973
date	2013.01.08.18.09.10;	author yufeng;	state Exp;
branches;
next	1.1972;

1.1972
date	2013.01.07.17.40.59;	author roland;	state Exp;
branches;
next	1.1971;

1.1971
date	2013.01.07.12.11.12;	author nickc;	state Exp;
branches;
next	1.1970;

1.1970
date	2013.01.04.22.27.57;	author schwab;	state Exp;
branches;
next	1.1969;

1.1969
date	2013.01.03.17.15.22;	author mshawcroft;	state Exp;
branches;
next	1.1968;

1.1968
date	2013.01.02.17.15.33;	author hjl;	state Exp;
branches;
next	1.1967;

1.1967
date	2013.01.02.17.06.29;	author hjl;	state Exp;
branches;
next	1.1966;

1.1966
date	2012.12.17.16.55.39;	author nickc;	state Exp;
branches;
next	1.1965;

1.1965
date	2012.12.10.12.47.51;	author nickc;	state Exp;
branches;
next	1.1964;

1.1964
date	2012.11.28.15.53.37;	author ktietz;	state Exp;
branches;
next	1.1963;

1.1963
date	2012.11.16.12.49.20;	author hjl;	state Exp;
branches;
next	1.1962;

1.1962
date	2012.11.14.11.03.27;	author gingold;	state Exp;
branches;
next	1.1961;

1.1961
date	2012.11.13.00.54.56;	author macro;	state Exp;
branches;
next	1.1960;

1.1960
date	2012.11.09.17.36.13;	author nickc;	state Exp;
branches;
next	1.1959;

1.1959
date	2012.11.09.17.00.40;	author nickc;	state Exp;
branches;
next	1.1958;

1.1958
date	2012.11.09.08.29.30;	author hjl;	state Exp;
branches;
next	1.1957;

1.1957
date	2012.11.08.03.03.23;	author amodra;	state Exp;
branches;
next	1.1956;

1.1956
date	2012.11.07.06.16.25;	author hjl;	state Exp;
branches;
next	1.1955;

1.1955
date	2012.11.06.23.45.42;	author hjl;	state Exp;
branches;
next	1.1954;

1.1954
date	2012.11.05.20.16.53;	author ciceron;	state Exp;
branches;
next	1.1953;

1.1953
date	2012.11.05.12.26.11;	author amodra;	state Exp;
branches;
next	1.1952;

1.1952
date	2012.11.01.14.57.22;	author tromey;	state Exp;
branches;
next	1.1951;

1.1951
date	2012.10.30.12.44.53;	author nickc;	state Exp;
branches;
next	1.1950;

1.1950
date	2012.10.29.10.09.27;	author amodra;	state Exp;
branches;
next	1.1949;

1.1949
date	2012.10.26.15.27.17;	author nickc;	state Exp;
branches;
next	1.1948;

1.1948
date	2012.10.24.01.59.38;	author ccoutant;	state Exp;
branches;
next	1.1947;

1.1947
date	2012.10.23.17.46.43;	author tromey;	state Exp;
branches;
next	1.1946;

1.1946
date	2012.10.21.10.56.00;	author hjl;	state Exp;
branches;
next	1.1945;

1.1945
date	2012.10.21.09.06.07;	author amodra;	state Exp;
branches;
next	1.1944;

1.1944
date	2012.10.18.17.42.23;	author ktietz;	state Exp;
branches;
next	1.1943;

1.1943
date	2012.10.18.17.29.54;	author ktietz;	state Exp;
branches;
next	1.1942;

1.1942
date	2012.10.11.14.24.54;	author devans;	state Exp;
branches;
next	1.1941;

1.1941
date	2012.09.14.23.57.49;	author dje;	state Exp;
branches;
next	1.1940;

1.1940
date	2012.09.10.22.30.54;	author amodra;	state Exp;
branches;
next	1.1939;

1.1939
date	2012.09.10.17.00.41;	author hjl;	state Exp;
branches;
next	1.1938;

1.1938
date	2012.09.07.01.22.20;	author ccoutant;	state Exp;
branches;
next	1.1937;

1.1937
date	2012.09.06.15.41.29;	author nickc;	state Exp;
branches;
next	1.1936;

1.1936
date	2012.09.04.12.35.34;	author hjl;	state Exp;
branches;
next	1.1935;

1.1935
date	2012.08.24.07.50.28;	author mgretton;	state Exp;
branches;
next	1.1934;

1.1934
date	2012.08.17.02.43.20;	author amodra;	state Exp;
branches;
next	1.1933;

1.1933
date	2012.08.16.20.31.34;	author hjl;	state Exp;
branches;
next	1.1932;

1.1932
date	2012.08.13.14.52.41;	author nickc;	state Exp;
branches;
next	1.1931;

1.1931
date	2012.08.09.14.46.35;	author nickc;	state Exp;
branches;
next	1.1930;

1.1930
date	2012.08.03.16.33.03;	author tromey;	state Exp;
branches;
next	1.1929;

1.1929
date	2012.08.02.13.42.54;	author hjl;	state Exp;
branches;
next	1.1928;

1.1928
date	2012.07.30.08.43.44;	author nickc;	state Exp;
branches;
next	1.1927;

1.1927
date	2012.07.28.08.21.47;	author ktietz;	state Exp;
branches;
next	1.1926;

1.1926
date	2012.07.27.16.30.52;	author vapier;	state Exp;
branches;
next	1.1925;

1.1925
date	2012.07.27.08.13.00;	author gingold;	state Exp;
branches
	1.1925.2.1;
next	1.1924;

1.1924
date	2012.07.24.21.06.55;	author ccoutant;	state Exp;
branches;
next	1.1923;

1.1923
date	2012.07.17.16.29.35;	author nickc;	state Exp;
branches;
next	1.1922;

1.1922
date	2012.07.03.16.25.17;	author nickc;	state Exp;
branches;
next	1.1921;

1.1921
date	2012.07.02.14.35.33;	author tromey;	state Exp;
branches;
next	1.1920;

1.1920
date	2012.06.29.16.55.15;	author hjl;	state Exp;
branches;
next	1.1919;

1.1919
date	2012.06.29.12.59.49;	author nickc;	state Exp;
branches;
next	1.1918;

1.1918
date	2012.06.29.07.02.35;	author amodra;	state Exp;
branches;
next	1.1917;

1.1917
date	2012.06.13.14.01.41;	author tromey;	state Exp;
branches;
next	1.1916;

1.1916
date	2012.06.08.19.07.33;	author jakub;	state Exp;
branches;
next	1.1915;

1.1915
date	2012.06.01.01.04.29;	author amodra;	state Exp;
branches;
next	1.1914;

1.1914
date	2012.05.30.14.33.11;	author nickc;	state Exp;
branches;
next	1.1913;

1.1913
date	2012.05.28.14.20.15;	author nickc;	state Exp;
branches;
next	1.1912;

1.1912
date	2012.05.17.22.23.38;	author schwab;	state Exp;
branches;
next	1.1911;

1.1911
date	2012.05.17.15.13.26;	author nickc;	state Exp;
branches;
next	1.1910;

1.1910
date	2012.05.17.10.00.35;	author amodra;	state Exp;
branches;
next	1.1909;

1.1909
date	2012.05.17.07.19.35;	author amodra;	state Exp;
branches;
next	1.1908;

1.1908
date	2012.05.16.14.26.44;	author nickc;	state Exp;
branches;
next	1.1907;

1.1907
date	2012.05.15.12.55.49;	author nickc;	state Exp;
branches;
next	1.1906;

1.1906
date	2012.05.14.02.39.57;	author hjl;	state Exp;
branches;
next	1.1905;

1.1905
date	2012.05.11.18.18.33;	author ccoutant;	state Exp;
branches;
next	1.1904;

1.1904
date	2012.05.11.15.48.13;	author hjl;	state Exp;
branches;
next	1.1903;

1.1903
date	2012.05.11.14.25.28;	author nickc;	state Exp;
branches;
next	1.1902;

1.1902
date	2012.05.10.06.18.47;	author jakub;	state Exp;
branches;
next	1.1901;

1.1901
date	2012.05.09.00.36.46;	author seank;	state Exp;
branches;
next	1.1900;

1.1900
date	2012.05.08.17.49.35;	author ccoutant;	state Exp;
branches;
next	1.1899;

1.1899
date	2012.05.08.12.13.35;	author amodra;	state Exp;
branches;
next	1.1898;

1.1898
date	2012.05.07.15.04.59;	author tromey;	state Exp;
branches;
next	1.1897;

1.1897
date	2012.05.07.09.21.47;	author amodra;	state Exp;
branches;
next	1.1896;

1.1896
date	2012.05.05.03.05.25;	author amodra;	state Exp;
branches;
next	1.1895;

1.1895
date	2012.05.03.13.12.07;	author nickc;	state Exp;
branches;
next	1.1894;

1.1894
date	2012.05.02.14.51.04;	author nickc;	state Exp;
branches;
next	1.1893;

1.1893
date	2012.05.01.16.07.35;	author nickc;	state Exp;
branches;
next	1.1892;

1.1892
date	2012.04.25.17.50.14;	author ccoutant;	state Exp;
branches;
next	1.1891;

1.1891
date	2012.04.13.02.52.33;	author hjl;	state Exp;
branches;
next	1.1890;

1.1890
date	2012.04.11.14.05.30;	author nickc;	state Exp;
branches;
next	1.1889;

1.1889
date	2012.04.06.16.48.56;	author roland;	state Exp;
branches;
next	1.1888;

1.1888
date	2012.04.05.08.43.38;	author nickc;	state Exp;
branches;
next	1.1887;

1.1887
date	2012.03.30.12.51.07;	author nickc;	state Exp;
branches;
next	1.1886;

1.1886
date	2012.03.29.01.55.41;	author tromey;	state Exp;
branches;
next	1.1885;

1.1885
date	2012.03.07.17.51.59;	author nickc;	state Exp;
branches;
next	1.1884;

1.1884
date	2012.02.29.10.44.10;	author nickc;	state Exp;
branches;
next	1.1883;

1.1883
date	2012.02.24.14.20.15;	author ktietz;	state Exp;
branches;
next	1.1882;

1.1882
date	2012.02.21.16.10.11;	author ktietz;	state Exp;
branches;
next	1.1881;

1.1881
date	2012.02.20.03.25.20;	author amodra;	state Exp;
branches;
next	1.1880;

1.1880
date	2012.02.15.18.32.30;	author ccoutant;	state Exp;
branches;
next	1.1879;

1.1879
date	2012.02.11.20.02.01;	author ktietz;	state Exp;
branches;
next	1.1878;

1.1878
date	2012.02.11.15.15.34;	author ktietz;	state Exp;
branches;
next	1.1877;

1.1877
date	2012.02.09.04.51.43;	author amodra;	state Exp;
branches;
next	1.1876;

1.1876
date	2012.02.01.16.49.25;	author nickc;	state Exp;
branches;
next	1.1875;

1.1875
date	2012.02.01.15.44.29;	author nickc;	state Exp;
branches;
next	1.1874;

1.1874
date	2012.01.26.09.59.30;	author nickc;	state Exp;
branches;
next	1.1873;

1.1873
date	2012.01.20.10.40.52;	author gingold;	state Exp;
branches;
next	1.1872;

1.1872
date	2012.01.19.13.58.15;	author gingold;	state Exp;
branches;
next	1.1871;

1.1871
date	2012.01.19.11.34.44;	author gingold;	state Exp;
branches;
next	1.1870;

1.1870
date	2012.01.17.00.07.01;	author amodra;	state Exp;
branches;
next	1.1869;

1.1869
date	2012.01.16.08.43.20;	author amodra;	state Exp;
branches;
next	1.1868;

1.1868
date	2012.01.10.11.52.27;	author gingold;	state Exp;
branches;
next	1.1867;

1.1867
date	2012.01.10.00.02.44;	author roland;	state Exp;
branches;
next	1.1866;

1.1866
date	2012.01.06.10.29.56;	author nickc;	state Exp;
branches;
next	1.1865;

1.1865
date	2012.01.05.10.09.35;	author nickc;	state Exp;
branches;
next	1.1864;

1.1864
date	2012.01.04.10.37.36;	author gingold;	state Exp;
branches;
next	1.1863;

1.1863
date	2012.01.04.09.58.54;	author gingold;	state Exp;
branches;
next	1.1862;

1.1862
date	2011.12.29.01.53.00;	author ian;	state Exp;
branches;
next	1.1861;

1.1861
date	2011.12.21.19.39.10;	author roland;	state Exp;
branches;
next	1.1860;

1.1860
date	2011.12.16.10.23.01;	author gingold;	state Exp;
branches;
next	1.1859;

1.1859
date	2011.12.15.11.37.02;	author nickc;	state Exp;
branches;
next	1.1858;

1.1858
date	2011.12.13.09.13.15;	author gingold;	state Exp;
branches;
next	1.1857;

1.1857
date	2011.12.07.03.50.10;	author daney;	state Exp;
branches;
next	1.1856;

1.1856
date	2011.12.02.17.04.32;	author nickc;	state Exp;
branches;
next	1.1855;

1.1855
date	2011.11.29.18.07.40;	author roland;	state Exp;
branches;
next	1.1854;

1.1854
date	2011.11.28.16.51.09;	author nickc;	state Exp;
branches;
next	1.1853;

1.1853
date	2011.11.11.20.50.37;	author schwab;	state Exp;
branches;
next	1.1852;

1.1852
date	2011.11.02.03.09.00;	author dj;	state Exp;
branches;
next	1.1851;

1.1851
date	2011.10.28.18.27.46;	author ian;	state Exp;
branches;
next	1.1850;

1.1850
date	2011.10.28.14.41.13;	author walt;	state Exp;
branches;
next	1.1849;

1.1849
date	2011.10.28.14.37.27;	author walt;	state Exp;
branches;
next	1.1848;

1.1848
date	2011.10.27.14.13.24;	author amylaar;	state Exp;
branches;
next	1.1847;

1.1847
date	2011.10.25.20.39.40;	author vapier;	state Exp;
branches;
next	1.1846;

1.1846
date	2011.10.25.11.18.02;	author nickc;	state Exp;
branches;
next	1.1845;

1.1845
date	2011.10.25.08.03.17;	author ktietz;	state Exp;
branches;
next	1.1844;

1.1844
date	2011.10.24.14.28.01;	author jkratoch;	state Exp;
branches;
next	1.1843;

1.1843
date	2011.10.24.11.51.20;	author nickc;	state Exp;
branches;
next	1.1842;

1.1842
date	2011.10.16.19.36.10;	author hjl;	state Exp;
branches;
next	1.1841;

1.1841
date	2011.10.13.15.33.31;	author nickc;	state Exp;
branches;
next	1.1840;

1.1840
date	2011.10.13.09.33.01;	author nickc;	state Exp;
branches;
next	1.1839;

1.1839
date	2011.10.11.15.56.27;	author nickc;	state Exp;
branches;
next	1.1838;

1.1838
date	2011.10.10.16.12.15;	author nickc;	state Exp;
branches;
next	1.1837;

1.1837
date	2011.10.05.14.13.29;	author nickc;	state Exp;
branches;
next	1.1836;

1.1836
date	2011.10.04.14.25.39;	author carlos;	state Exp;
branches;
next	1.1835;

1.1835
date	2011.09.30.21.06.00;	author ccoutant;	state Exp;
branches;
next	1.1834;

1.1834
date	2011.09.28.07.22.39;	author gingold;	state Exp;
branches;
next	1.1833;

1.1833
date	2011.09.27.12.48.01;	author gingold;	state Exp;
branches;
next	1.1832;

1.1832
date	2011.09.27.12.05.31;	author gingold;	state Exp;
branches;
next	1.1831;

1.1831
date	2011.09.22.08.11.13;	author gingold;	state Exp;
branches
	1.1831.2.1;
next	1.1830;

1.1830
date	2011.09.21.20.49.12;	author davem;	state Exp;
branches;
next	1.1829;

1.1829
date	2011.09.21.18.39.48;	author davem;	state Exp;
branches;
next	1.1828;

1.1828
date	2011.09.18.16.50.16;	author hjl;	state Exp;
branches;
next	1.1827;

1.1827
date	2011.09.16.04.23.16;	author hjl;	state Exp;
branches;
next	1.1826;

1.1826
date	2011.09.08.16.09.55;	author nickc;	state Exp;
branches;
next	1.1825;

1.1825
date	2011.08.26.15.15.47;	author nickc;	state Exp;
branches;
next	1.1824;

1.1824
date	2011.08.08.00.27.14;	author amodra;	state Exp;
branches;
next	1.1823;

1.1823
date	2011.07.27.16.40.59;	author jkratoch;	state Exp;
branches;
next	1.1822;

1.1822
date	2011.07.26.21.31.37;	author jakub;	state Exp;
branches;
next	1.1821;

1.1821
date	2011.07.24.14.20.08;	author rsandifo;	state Exp;
branches;
next	1.1820;

1.1820
date	2011.07.22.20.22.33;	author hjl;	state Exp;
branches;
next	1.1819;

1.1819
date	2011.07.12.04.47.49;	author ccoutant;	state Exp;
branches;
next	1.1818;

1.1818
date	2011.07.03.13.45.31;	author tschwinge;	state Exp;
branches;
next	1.1817;

1.1817
date	2011.07.03.13.37.07;	author tschwinge;	state Exp;
branches;
next	1.1816;

1.1816
date	2011.07.01.15.02.20;	author nickc;	state Exp;
branches;
next	1.1815;

1.1815
date	2011.06.30.15.08.16;	author nickc;	state Exp;
branches;
next	1.1814;

1.1814
date	2011.06.29.16.51.35;	author nickc;	state Exp;
branches;
next	1.1813;

1.1813
date	2011.06.22.15.03.18;	author jakub;	state Exp;
branches;
next	1.1812;

1.1812
date	2011.06.16.16.39.23;	author tromey;	state Exp;
branches;
next	1.1811;

1.1811
date	2011.06.15.16.36.56;	author uweigand;	state Exp;
branches;
next	1.1810;

1.1810
date	2011.06.13.15.18.53;	author nickc;	state Exp;
branches;
next	1.1809;

1.1809
date	2011.06.09.15.29.05;	author gingold;	state Exp;
branches;
next	1.1808;

1.1808
date	2011.06.08.15.59.06;	author nickc;	state Exp;
branches;
next	1.1807;

1.1807
date	2011.06.08.12.40.28;	author gingold;	state Exp;
branches;
next	1.1806;

1.1806
date	2011.06.07.23.39.28;	author ccoutant;	state Exp;
branches;
next	1.1805;

1.1805
date	2011.06.02.13.43.16;	author nickc;	state Exp;
branches;
next	1.1804;

1.1804
date	2011.06.01.11.08.24;	author drow;	state Exp;
branches;
next	1.1803;

1.1803
date	2011.05.31.08.54.46;	author amodra;	state Exp;
branches;
next	1.1802;

1.1802
date	2011.05.30.06.12.03;	author amodra;	state Exp;
branches;
next	1.1801;

1.1801
date	2011.05.25.15.10.55;	author jakub;	state Exp;
branches;
next	1.1800;

1.1800
date	2011.05.18.16.35.00;	author nickc;	state Exp;
branches;
next	1.1799;

1.1799
date	2011.05.16.13.45.42;	author gingold;	state Exp;
branches;
next	1.1798;

1.1798
date	2011.05.10.09.08.37;	author gingold;	state Exp;
branches;
next	1.1797;

1.1797
date	2011.05.08.14.43.19;	author hjl;	state Exp;
branches;
next	1.1796;

1.1796
date	2011.05.06.14.41.56;	author amodra;	state Exp;
branches;
next	1.1795;

1.1795
date	2011.05.03.08.43.14;	author jakub;	state Exp;
branches;
next	1.1794;

1.1794
date	2011.05.03.08.33.41;	author jakub;	state Exp;
branches;
next	1.1793;

1.1793
date	2011.05.02.06.04.10;	author amodra;	state Exp;
branches;
next	1.1792;

1.1792
date	2011.04.28.17.23.14;	author tromey;	state Exp;
branches;
next	1.1791;

1.1791
date	2011.04.28.07.27.30;	author jkratoch;	state Exp;
branches;
next	1.1790;

1.1790
date	2011.04.27.12.09.47;	author gingold;	state Exp;
branches;
next	1.1789;

1.1789
date	2011.04.27.10.02.24;	author nickc;	state Exp;
branches;
next	1.1788;

1.1788
date	2011.04.26.13.17.20;	author tromey;	state Exp;
branches;
next	1.1787;

1.1787
date	2011.04.26.13.09.10;	author tromey;	state Exp;
branches;
next	1.1786;

1.1786
date	2011.04.26.13.07.46;	author tromey;	state Exp;
branches;
next	1.1785;

1.1785
date	2011.04.25.14.53.26;	author tromey;	state Exp;
branches;
next	1.1784;

1.1784
date	2011.04.22.02.40.26;	author jiez;	state Exp;
branches;
next	1.1783;

1.1783
date	2011.04.13.12.02.36;	author ktietz;	state Exp;
branches;
next	1.1782;

1.1782
date	2011.04.13.07.50.13;	author nickc;	state Exp;
branches;
next	1.1781;

1.1781
date	2011.04.08.15.28.47;	author nickc;	state Exp;
branches;
next	1.1780;

1.1780
date	2011.04.07.11.40.12;	author pbrook;	state Exp;
branches;
next	1.1779;

1.1779
date	2011.04.06.17.09.49;	author jsm28;	state Exp;
branches;
next	1.1778;

1.1778
date	2011.04.05.20.42.54;	author sterling;	state Exp;
branches;
next	1.1777;

1.1777
date	2011.04.04.01.35.58;	author hjl;	state Exp;
branches;
next	1.1776;

1.1776
date	2011.04.04.00.34.26;	author davem;	state Exp;
branches;
next	1.1775;

1.1775
date	2011.03.31.14.15.31;	author gingold;	state Exp;
branches;
next	1.1774;

1.1774
date	2011.03.31.11.08.40;	author gingold;	state Exp;
branches;
next	1.1773;

1.1773
date	2011.03.31.08.58.20;	author bernds;	state Exp;
branches;
next	1.1772;

1.1772
date	2011.03.31.07.49.44;	author gingold;	state Exp;
branches;
next	1.1771;

1.1771
date	2011.03.30.16.09.39;	author clm;	state Exp;
branches;
next	1.1770;

1.1770
date	2011.03.30.15.37.48;	author nickc;	state Exp;
branches;
next	1.1769;

1.1769
date	2011.03.29.02.06.53;	author amodra;	state Exp;
branches;
next	1.1768;

1.1768
date	2011.03.28.15.24.02;	author muller;	state Exp;
branches;
next	1.1767;

1.1767
date	2011.03.28.11.58.18;	author muller;	state Exp;
branches;
next	1.1766;

1.1766
date	2011.03.25.18.01.57;	author nickc;	state Exp;
branches;
next	1.1765;

1.1765
date	2011.03.25.17.54.56;	author nickc;	state Exp;
branches;
next	1.1764;

1.1764
date	2011.03.25.17.51.09;	author nickc;	state Exp;
branches;
next	1.1763;

1.1763
date	2011.03.25.17.49.32;	author nickc;	state Exp;
branches;
next	1.1762;

1.1762
date	2011.03.25.17.46.07;	author nickc;	state Exp;
branches;
next	1.1761;

1.1761
date	2011.03.25.17.24.28;	author nickc;	state Exp;
branches;
next	1.1760;

1.1760
date	2011.03.25.17.22.15;	author nickc;	state Exp;
branches;
next	1.1759;

1.1759
date	2011.03.25.17.18.54;	author nickc;	state Exp;
branches;
next	1.1758;

1.1758
date	2011.03.25.17.17.03;	author nickc;	state Exp;
branches;
next	1.1757;

1.1757
date	2011.03.25.17.14.02;	author nickc;	state Exp;
branches;
next	1.1756;

1.1756
date	2011.03.25.17.09.08;	author nickc;	state Exp;
branches;
next	1.1755;

1.1755
date	2011.03.25.15.15.52;	author nickc;	state Exp;
branches;
next	1.1754;

1.1754
date	2011.03.17.12.56.35;	author amodra;	state Exp;
branches;
next	1.1753;

1.1753
date	2011.03.16.13.00.09;	author jakub;	state Exp;
branches;
next	1.1752;

1.1752
date	2011.03.14.20.51.59;	author msnyder;	state Exp;
branches;
next	1.1751;

1.1751
date	2011.03.14.19.05.39;	author msnyder;	state Exp;
branches;
next	1.1750;

1.1750
date	2011.03.14.17.48.30;	author msnyder;	state Exp;
branches;
next	1.1749;

1.1749
date	2011.03.14.17.37.53;	author msnyder;	state Exp;
branches;
next	1.1748;

1.1748
date	2011.03.10.10.23.36;	author nickc;	state Exp;
branches;
next	1.1747;

1.1747
date	2011.03.03.09.38.36;	author vapier;	state Exp;
branches;
next	1.1746;

1.1746
date	2011.03.01.00.02.32;	author amodra;	state Exp;
branches;
next	1.1745;

1.1745
date	2011.02.28.18.32.51;	author ktietz;	state Exp;
branches;
next	1.1744;

1.1744
date	2011.02.24.11.57.25;	author nickc;	state Exp;
branches;
next	1.1743;

1.1743
date	2011.02.23.08.52.33;	author ktietz;	state Exp;
branches;
next	1.1742;

1.1742
date	2011.02.13.21.00.11;	author rwild;	state Exp;
branches;
next	1.1741;

1.1741
date	2011.02.08.09.40.02;	author nickc;	state Exp;
branches;
next	1.1740;

1.1740
date	2011.01.26.10.27.46;	author jkratoch;	state Exp;
branches;
next	1.1739;

1.1739
date	2011.01.19.18.19.54;	author macro;	state Exp;
branches;
next	1.1738;

1.1738
date	2011.01.18.17.43.56;	author hjl;	state Exp;
branches;
next	1.1737;

1.1737
date	2011.01.11.10.46.55;	author schwab;	state Exp;
branches;
next	1.1736;

1.1736
date	2011.01.10.13.51.06;	author nickc;	state Exp;
branches;
next	1.1735;

1.1735
date	2011.01.06.11.34.28;	author nickc;	state Exp;
branches;
next	1.1734;

1.1734
date	2011.01.01.20.55.46;	author hjl;	state Exp;
branches;
next	1.1733;

1.1733
date	2011.01.01.16.43.52;	author hjl;	state Exp;
branches;
next	1.1732;

1.1732
date	2010.12.15.08.45.59;	author ktietz;	state Exp;
branches;
next	1.1731;

1.1731
date	2010.12.12.15.29.31;	author hjl;	state Exp;
branches;
next	1.1730;

1.1730
date	2010.12.10.08.51.42;	author amodra;	state Exp;
branches;
next	1.1729;

1.1729
date	2010.12.09.09.03.14;	author vapier;	state Exp;
branches;
next	1.1728;

1.1728
date	2010.12.08.05.05.30;	author amodra;	state Exp;
branches;
next	1.1727;

1.1727
date	2010.12.08.05.00.14;	author amodra;	state Exp;
branches;
next	1.1726;

1.1726
date	2010.12.08.04.59.36;	author amodra;	state Exp;
branches;
next	1.1725;

1.1725
date	2010.12.08.04.58.23;	author amodra;	state Exp;
branches;
next	1.1724;

1.1724
date	2010.12.03.17.07.19;	author devans;	state Exp;
branches;
next	1.1723;

1.1723
date	2010.12.01.14.15.05;	author ktietz;	state Exp;
branches;
next	1.1722;

1.1722
date	2010.11.26.05.35.01;	author amodra;	state Exp;
branches;
next	1.1721;

1.1721
date	2010.11.26.00.00.53;	author amodra;	state Exp;
branches;
next	1.1720;

1.1720
date	2010.11.25.06.08.45;	author amodra;	state Exp;
branches;
next	1.1719;

1.1719
date	2010.11.21.21.27.15;	author hjl;	state Exp;
branches;
next	1.1718;

1.1718
date	2010.11.18.07.54.07;	author amodra;	state Exp;
branches;
next	1.1717;

1.1717
date	2010.11.17.03.35.50;	author amodra;	state Exp;
branches;
next	1.1716;

1.1716
date	2010.11.15.23.54.23;	author amodra;	state Exp;
branches;
next	1.1715;

1.1715
date	2010.11.15.22.30.46;	author vapier;	state Exp;
branches;
next	1.1714;

1.1714
date	2010.11.11.10.23.37;	author nickc;	state Exp;
branches;
next	1.1713;

1.1713
date	2010.11.10.14.39.08;	author nickc;	state Exp;
branches;
next	1.1712;

1.1712
date	2010.11.08.11.37.06;	author nickc;	state Exp;
branches;
next	1.1711;

1.1711
date	2010.11.08.02.48.56;	author amodra;	state Exp;
branches;
next	1.1710;

1.1710
date	2010.11.05.12.01.48;	author amodra;	state Exp;
branches;
next	1.1709;

1.1709
date	2010.11.05.10.25.06;	author gingold;	state Exp;
branches;
next	1.1708;

1.1708
date	2010.11.05.08.33.50;	author gingold;	state Exp;
branches
	1.1708.2.1;
next	1.1707;

1.1707
date	2010.11.03.02.31.02;	author hjl;	state Exp;
branches;
next	1.1706;

1.1706
date	2010.11.02.14.36.34;	author jsm28;	state Exp;
branches;
next	1.1705;

1.1705
date	2010.10.30.17.14.02;	author ktietz;	state Exp;
branches;
next	1.1704;

1.1704
date	2010.10.29.16.47.52;	author jsm28;	state Exp;
branches;
next	1.1703;

1.1703
date	2010.10.29.12.10.25;	author hjl;	state Exp;
branches;
next	1.1702;

1.1702
date	2010.10.29.08.47.01;	author nickc;	state Exp;
branches;
next	1.1701;

1.1701
date	2010.10.29.00.15.51;	author jsm28;	state Exp;
branches;
next	1.1700;

1.1700
date	2010.10.28.14.11.29;	author nickc;	state Exp;
branches;
next	1.1699;

1.1699
date	2010.10.28.06.00.13;	author amodra;	state Exp;
branches;
next	1.1698;

1.1698
date	2010.10.26.10.56.53;	author nickc;	state Exp;
branches;
next	1.1697;

1.1697
date	2010.10.21.21.16.50;	author jsm28;	state Exp;
branches;
next	1.1696;

1.1696
date	2010.10.09.05.52.28;	author hjl;	state Exp;
branches;
next	1.1695;

1.1695
date	2010.10.08.15.12.28;	author jsm28;	state Exp;
branches;
next	1.1694;

1.1694
date	2010.10.08.14.00.48;	author amodra;	state Exp;
branches;
next	1.1693;

1.1693
date	2010.10.05.22.48.34;	author amodra;	state Exp;
branches;
next	1.1692;

1.1692
date	2010.10.05.05.48.09;	author amodra;	state Exp;
branches;
next	1.1691;

1.1691
date	2010.10.03.10.49.19;	author hjl;	state Exp;
branches;
next	1.1690;

1.1690
date	2010.09.27.20.22.48;	author rwild;	state Exp;
branches;
next	1.1689;

1.1689
date	2010.09.22.21.35.44;	author vapier;	state Exp;
branches;
next	1.1688;

1.1688
date	2010.09.18.00.43.39;	author hjl;	state Exp;
branches;
next	1.1687;

1.1687
date	2010.09.18.00.42.25;	author hjl;	state Exp;
branches;
next	1.1686;

1.1686
date	2010.09.15.17.10.15;	author hjl;	state Exp;
branches;
next	1.1685;

1.1685
date	2010.09.10.12.11.27;	author nickc;	state Exp;
branches;
next	1.1684;

1.1684
date	2010.09.09.12.08.59;	author jakub;	state Exp;
branches;
next	1.1683;

1.1683
date	2010.09.09.10.46.31;	author gingold;	state Exp;
branches;
next	1.1682;

1.1682
date	2010.09.09.10.18.11;	author jakub;	state Exp;
branches;
next	1.1681;

1.1681
date	2010.09.07.15.02.15;	author nickc;	state Exp;
branches;
next	1.1680;

1.1680
date	2010.09.03.15.54.30;	author jkratoch;	state Exp;
branches;
next	1.1679;

1.1679
date	2010.09.02.22.35.18;	author rth;	state Exp;
branches;
next	1.1678;

1.1678
date	2010.09.02.21.34.21;	author rth;	state Exp;
branches;
next	1.1677;

1.1677
date	2010.08.25.16.03.58;	author hjl;	state Exp;
branches;
next	1.1676;

1.1676
date	2010.08.25.08.26.37;	author amodra;	state Exp;
branches;
next	1.1675;

1.1675
date	2010.08.23.16.25.51;	author hjl;	state Exp;
branches;
next	1.1674;

1.1674
date	2010.08.23.13.51.39;	author macro;	state Exp;
branches;
next	1.1673;

1.1673
date	2010.08.20.21.04.05;	author macro;	state Exp;
branches;
next	1.1672;

1.1672
date	2010.08.19.05.51.47;	author amodra;	state Exp;
branches;
next	1.1671;

1.1671
date	2010.08.13.16.02.16;	author nickc;	state Exp;
branches;
next	1.1670;

1.1670
date	2010.08.13.13.03.45;	author nathan;	state Exp;
branches;
next	1.1669;

1.1669
date	2010.08.13.00.21.19;	author amodra;	state Exp;
branches;
next	1.1668;

1.1668
date	2010.08.12.13.11.11;	author nickc;	state Exp;
branches;
next	1.1667;

1.1667
date	2010.08.03.10.24.18;	author gingold;	state Exp;
branches;
next	1.1666;

1.1666
date	2010.08.02.13.52.49;	author amodra;	state Exp;
branches;
next	1.1665;

1.1665
date	2010.07.23.14.52.47;	author nickc;	state Exp;
branches;
next	1.1664;

1.1664
date	2010.07.22.04.54.10;	author amodra;	state Exp;
branches;
next	1.1663;

1.1663
date	2010.07.20.14.08.31;	author amodra;	state Exp;
branches;
next	1.1662;

1.1662
date	2010.07.19.12.46.01;	author schwab;	state Exp;
branches;
next	1.1661;

1.1661
date	2010.07.17.19.33.11;	author davek;	state Exp;
branches;
next	1.1660;

1.1660
date	2010.07.17.14.41.28;	author hjl;	state Exp;
branches;
next	1.1659;

1.1659
date	2010.07.15.07.58.47;	author ktietz;	state Exp;
branches;
next	1.1658;

1.1658
date	2010.07.06.09.24.04;	author amodra;	state Exp;
branches;
next	1.1657;

1.1657
date	2010.07.03.20.52.23;	author ccoutant;	state Exp;
branches;
next	1.1656;

1.1656
date	2010.06.29.08.47.39;	author amodra;	state Exp;
branches;
next	1.1655;

1.1655
date	2010.06.29.04.17.22;	author amodra;	state Exp;
branches;
next	1.1654;

1.1654
date	2010.06.27.04.07.53;	author amodra;	state Exp;
branches;
next	1.1653;

1.1653
date	2010.06.17.13.55.35;	author nickc;	state Exp;
branches;
next	1.1652;

1.1652
date	2010.06.16.00.36.01;	author jsm28;	state Exp;
branches;
next	1.1651;

1.1651
date	2010.06.11.18.52.30;	author hjl;	state Exp;
branches;
next	1.1650;

1.1650
date	2010.06.11.15.57.45;	author gingold;	state Exp;
branches;
next	1.1649;

1.1649
date	2010.06.11.09.04.39;	author gingold;	state Exp;
branches;
next	1.1648;

1.1648
date	2010.06.10.11.50.38;	author gingold;	state Exp;
branches;
next	1.1647;

1.1647
date	2010.05.25.14.12.39;	author nickc;	state Exp;
branches;
next	1.1646;

1.1646
date	2010.05.25.14.02.38;	author nickc;	state Exp;
branches;
next	1.1645;

1.1645
date	2010.05.24.13.21.22;	author gingold;	state Exp;
branches;
next	1.1644;

1.1644
date	2010.05.18.03.31.06;	author hjl;	state Exp;
branches;
next	1.1643;

1.1643
date	2010.05.07.12.28.45;	author gingold;	state Exp;
branches;
next	1.1642;

1.1642
date	2010.05.06.21.32.04;	author hjl;	state Exp;
branches;
next	1.1641;

1.1641
date	2010.05.05.15.28.21;	author nickc;	state Exp;
branches;
next	1.1640;

1.1640
date	2010.04.27.17.28.13;	author ktietz;	state Exp;
branches;
next	1.1639;

1.1639
date	2010.04.27.14.28.39;	author nickc;	state Exp;
branches;
next	1.1638;

1.1638
date	2010.04.24.01.05.24;	author amodra;	state Exp;
branches;
next	1.1637;

1.1637
date	2010.04.22.14.37.05;	author nickc;	state Exp;
branches;
next	1.1636;

1.1636
date	2010.04.20.09.28.15;	author nickc;	state Exp;
branches;
next	1.1635;

1.1635
date	2010.04.20.08.21.53;	author nickc;	state Exp;
branches;
next	1.1634;

1.1634
date	2010.04.15.10.56.35;	author mgretton;	state Exp;
branches;
next	1.1633;

1.1633
date	2010.04.13.12.20.54;	author nickc;	state Exp;
branches;
next	1.1632;

1.1632
date	2010.04.09.14.40.14;	author nickc;	state Exp;
branches;
next	1.1631;

1.1631
date	2010.04.07.07.20.51;	author amodra;	state Exp;
branches;
next	1.1630;

1.1630
date	2010.04.06.16.12.10;	author nickc;	state Exp;
branches;
next	1.1629;

1.1629
date	2010.04.05.19.32.06;	author jakub;	state Exp;
branches;
next	1.1628;

1.1628
date	2010.04.05.19.29.38;	author jakub;	state Exp;
branches;
next	1.1627;

1.1627
date	2010.04.01.11.46.32;	author schwab;	state Exp;
branches;
next	1.1626;

1.1626
date	2010.04.01.05.26.25;	author jakub;	state Exp;
branches;
next	1.1625;

1.1625
date	2010.03.25.21.12.27;	author jsm28;	state Exp;
branches;
next	1.1624;

1.1624
date	2010.03.25.08.03.55;	author tschwinge;	state Exp;
branches;
next	1.1623;

1.1623
date	2010.03.18.17.46.19;	author hjl;	state Exp;
branches;
next	1.1622;

1.1622
date	2010.03.17.07.57.06;	author amodra;	state Exp;
branches;
next	1.1621;

1.1621
date	2010.03.16.14.02.44;	author drow;	state Exp;
branches;
next	1.1620;

1.1620
date	2010.03.05.21.04.57;	author ro;	state Exp;
branches;
next	1.1619;

1.1619
date	2010.03.02.16.44.33;	author drow;	state Exp;
branches;
next	1.1618;

1.1618
date	2010.02.26.15.33.43;	author jiez;	state Exp;
branches;
next	1.1617;

1.1617
date	2010.02.23.13.01.47;	author nickc;	state Exp;
branches;
next	1.1616;

1.1616
date	2010.02.19.01.36.38;	author amodra;	state Exp;
branches;
next	1.1615;

1.1615
date	2010.02.18.10.56.26;	author mgretton;	state Exp;
branches;
next	1.1614;

1.1614
date	2010.02.15.10.09.37;	author nickc;	state Exp;
branches;
next	1.1613;

1.1613
date	2010.02.09.12.14.42;	author sky;	state Exp;
branches;
next	1.1612;

1.1612
date	2010.02.08.19.27.34;	author jimb;	state Exp;
branches;
next	1.1611;

1.1611
date	2010.02.08.14.33.21;	author nickc;	state Exp;
branches;
next	1.1610;

1.1610
date	2010.02.02.12.37.39;	author hjl;	state Exp;
branches;
next	1.1609;

1.1609
date	2010.02.01.09.59.45;	author nathan;	state Exp;
branches;
next	1.1608;

1.1608
date	2010.01.28.15.25.19;	author nickc;	state Exp;
branches;
next	1.1607;

1.1607
date	2010.01.26.13.13.33;	author gingold;	state Exp;
branches;
next	1.1606;

1.1606
date	2010.01.21.11.40.27;	author krebbel;	state Exp;
branches;
next	1.1605;

1.1605
date	2010.01.20.00.09.13;	author ian;	state Exp;
branches;
next	1.1604;

1.1604
date	2010.01.19.13.51.28;	author amodra;	state Exp;
branches;
next	1.1603;

1.1603
date	2010.01.15.17.30.16;	author hjl;	state Exp;
branches;
next	1.1602;

1.1602
date	2010.01.14.09.19.56;	author gingold;	state Exp;
branches;
next	1.1601;

1.1601
date	2010.01.13.11.15.52;	author gingold;	state Exp;
branches;
next	1.1600;

1.1600
date	2010.01.12.10.16.49;	author gingold;	state Exp;
branches;
next	1.1599;

1.1599
date	2010.01.11.14.45.41;	author hjl;	state Exp;
branches;
next	1.1598;

1.1598
date	2010.01.11.12.40.45;	author nickc;	state Exp;
branches;
next	1.1597;

1.1597
date	2010.01.11.12.35.12;	author nickc;	state Exp;
branches;
next	1.1596;

1.1596
date	2010.01.09.21.11.33;	author rwild;	state Exp;
branches;
next	1.1595;

1.1595
date	2010.01.08.19.40.08;	author hjl;	state Exp;
branches;
next	1.1594;

1.1594
date	2010.01.08.18.50.38;	author hjl;	state Exp;
branches;
next	1.1593;

1.1593
date	2010.01.08.17.23.05;	author hjl;	state Exp;
branches;
next	1.1592;

1.1592
date	2010.01.08.15.58.07;	author hjl;	state Exp;
branches;
next	1.1591;

1.1591
date	2010.01.08.11.14.29;	author gingold;	state Exp;
branches;
next	1.1590;

1.1590
date	2010.01.07.20.49.23;	author hjl;	state Exp;
branches;
next	1.1589;

1.1589
date	2010.01.07.19.14.33;	author hjl;	state Exp;
branches;
next	1.1588;

1.1588
date	2010.01.07.18.36.38;	author hjl;	state Exp;
branches;
next	1.1587;

1.1587
date	2010.01.06.16.52.13;	author hjl;	state Exp;
branches;
next	1.1586;

1.1586
date	2010.01.06.08.48.19;	author gingold;	state Exp;
branches;
next	1.1585;

1.1585
date	2010.01.05.00.41.54;	author hjl;	state Exp;
branches;
next	1.1584;

1.1584
date	2010.01.05.00.39.47;	author hjl;	state Exp;
branches;
next	1.1583;

1.1583
date	2010.01.04.13.39.58;	author nickc;	state Exp;
branches;
next	1.1582;

1.1582
date	2010.01.04.10.26.44;	author nickc;	state Exp;
branches;
next	1.1581;

1.1581
date	2010.01.01.18.06.06;	author hjl;	state Exp;
branches;
next	1.1580;

1.1580
date	2009.12.31.14.40.36;	author nickc;	state Exp;
branches;
next	1.1579;

1.1579
date	2009.12.21.10.21.16;	author amodra;	state Exp;
branches;
next	1.1578;

1.1578
date	2009.12.18.16.21.50;	author uweigand;	state Exp;
branches;
next	1.1577;

1.1577
date	2009.12.11.13.42.05;	author nickc;	state Exp;
branches;
next	1.1576;

1.1576
date	2009.12.10.16.12.33;	author gingold;	state Exp;
branches;
next	1.1575;

1.1575
date	2009.12.09.12.58.22;	author gingold;	state Exp;
branches;
next	1.1574;

1.1574
date	2009.12.08.19.01.50;	author ccoutant;	state Exp;
branches;
next	1.1573;

1.1573
date	2009.12.03.17.01.45;	author daney;	state Exp;
branches;
next	1.1572;

1.1572
date	2009.12.03.12.28.36;	author nickc;	state Exp;
branches;
next	1.1571;

1.1571
date	2009.12.02.14.04.17;	author nickc;	state Exp;
branches;
next	1.1570;

1.1570
date	2009.12.01.16.37.31;	author jsm28;	state Exp;
branches;
next	1.1569;

1.1569
date	2009.11.30.16.46.38;	author jsm28;	state Exp;
branches;
next	1.1568;

1.1568
date	2009.11.30.10.14.56;	author nickc;	state Exp;
branches;
next	1.1567;

1.1567
date	2009.11.20.15.13.17;	author nickc;	state Exp;
branches;
next	1.1566;

1.1566
date	2009.11.20.00.30.01;	author bje;	state Exp;
branches;
next	1.1565;

1.1565
date	2009.11.19.05.06.34;	author bje;	state Exp;
branches;
next	1.1564;

1.1564
date	2009.11.17.16.31.48;	author pbrook;	state Exp;
branches;
next	1.1563;

1.1563
date	2009.11.16.11.12.37;	author ktietz;	state Exp;
branches;
next	1.1562;

1.1562
date	2009.11.11.09.36.06;	author nickc;	state Exp;
branches;
next	1.1561;

1.1561
date	2009.11.11.04.54.32;	author jkratoch;	state Exp;
branches;
next	1.1560;

1.1560
date	2009.11.11.04.42.35;	author jkratoch;	state Exp;
branches;
next	1.1559;

1.1559
date	2009.11.08.23.01.57;	author jkratoch;	state Exp;
branches;
next	1.1558;

1.1558
date	2009.11.08.21.36.46;	author danglin;	state Exp;
branches;
next	1.1557;

1.1557
date	2009.11.05.09.49.07;	author ktietz;	state Exp;
branches;
next	1.1556;

1.1556
date	2009.11.02.13.44.01;	author pbrook;	state Exp;
branches;
next	1.1555;

1.1555
date	2009.10.28.17.21.36;	author ktietz;	state Exp;
branches;
next	1.1554;

1.1554
date	2009.10.23.14.53.56;	author ktietz;	state Exp;
branches;
next	1.1553;

1.1553
date	2009.10.23.00.15.06;	author amodra;	state Exp;
branches;
next	1.1552;

1.1552
date	2009.10.21.03.10.53;	author bje;	state Exp;
branches;
next	1.1551;

1.1551
date	2009.10.18.23.14.09;	author amodra;	state Exp;
branches;
next	1.1550;

1.1550
date	2009.10.18.23.11.35;	author amodra;	state Exp;
branches;
next	1.1549;

1.1549
date	2009.10.16.18.23.43;	author devans;	state Exp;
branches;
next	1.1548;

1.1548
date	2009.10.16.14.08.58;	author nickc;	state Exp;
branches;
next	1.1547;

1.1547
date	2009.10.16.14.02.55;	author nickc;	state Exp;
branches;
next	1.1546;

1.1546
date	2009.10.16.10.05.06;	author nickc;	state Exp;
branches;
next	1.1545;

1.1545
date	2009.10.01.06.33.15;	author amodra;	state Exp;
branches;
next	1.1544;

1.1544
date	2009.09.29.15.34.08;	author nickc;	state Exp;
branches;
next	1.1543;

1.1543
date	2009.09.29.14.17.04;	author nickc;	state Exp;
branches;
next	1.1542;

1.1542
date	2009.09.28.12.48.16;	author amodra;	state Exp;
branches;
next	1.1541;

1.1541
date	2009.09.28.09.45.33;	author nickc;	state Exp;
branches;
next	1.1540;

1.1540
date	2009.09.25.09.57.50;	author nickc;	state Exp;
branches;
next	1.1539;

1.1539
date	2009.09.24.20.52.07;	author ccoutant;	state Exp;
branches;
next	1.1538;

1.1538
date	2009.09.24.15.13.16;	author amodra;	state Exp;
branches;
next	1.1537;

1.1537
date	2009.09.22.18.29.06;	author rsandifo;	state Exp;
branches;
next	1.1536;

1.1536
date	2009.09.21.11.51.01;	author amodra;	state Exp;
branches;
next	1.1535;

1.1535
date	2009.09.18.08.00.55;	author nickc;	state Exp;
branches;
next	1.1534;

1.1534
date	2009.09.18.07.54.46;	author nickc;	state Exp;
branches;
next	1.1533;

1.1533
date	2009.09.14.12.29.50;	author nickc;	state Exp;
branches;
next	1.1532;

1.1532
date	2009.09.11.15.27.32;	author nickc;	state Exp;
branches;
next	1.1531;

1.1531
date	2009.09.11.11.16.19;	author nickc;	state Exp;
branches;
next	1.1530;

1.1530
date	2009.09.10.13.40.44;	author nickc;	state Exp;
branches;
next	1.1529;

1.1529
date	2009.09.09.15.03.53;	author nickc;	state Exp;
branches;
next	1.1528;

1.1528
date	2009.09.08.10.34.27;	author amodra;	state Exp;
branches;
next	1.1527;

1.1527
date	2009.09.07.18.08.52;	author jkratoch;	state Exp;
branches;
next	1.1526;

1.1526
date	2009.09.07.18.07.02;	author jkratoch;	state Exp;
branches;
next	1.1525;

1.1525
date	2009.09.07.11.29.54;	author gingold;	state Exp;
branches;
next	1.1524;

1.1524
date	2009.09.05.11.09.34;	author jkratoch;	state Exp;
branches;
next	1.1523;

1.1523
date	2009.09.05.07.56.22;	author nickc;	state Exp;
branches;
next	1.1522;

1.1522
date	2009.09.04.09.53.18;	author gingold;	state Exp;
branches;
next	1.1521;

1.1521
date	2009.09.04.08.23.46;	author gingold;	state Exp;
branches
	1.1521.2.1;
next	1.1520;

1.1520
date	2009.09.04.01.22.18;	author davek;	state Exp;
branches;
next	1.1519;

1.1519
date	2009.09.02.14.14.49;	author gingold;	state Exp;
branches;
next	1.1518;

1.1518
date	2009.09.01.20.56.51;	author rwild;	state Exp;
branches;
next	1.1517;

1.1517
date	2009.09.01.19.30.28;	author hjl;	state Exp;
branches;
next	1.1516;

1.1516
date	2009.09.01.13.16.53;	author gingold;	state Exp;
branches;
next	1.1515;

1.1515
date	2009.08.29.22.10.59;	author nickc;	state Exp;
branches;
next	1.1514;

1.1514
date	2009.08.29.00.41.25;	author hjl;	state Exp;
branches;
next	1.1513;

1.1513
date	2009.08.27.14.58.07;	author davek;	state Exp;
branches;
next	1.1512;

1.1512
date	2009.08.24.18.43.50;	author ccoutant;	state Exp;
branches;
next	1.1511;

1.1511
date	2009.08.24.05.55.53;	author rwild;	state Exp;
branches;
next	1.1510;

1.1510
date	2009.08.23.10.28.49;	author rwild;	state Exp;
branches;
next	1.1509;

1.1509
date	2009.08.22.19.02.56;	author rwild;	state Exp;
branches;
next	1.1508;

1.1508
date	2009.08.22.18.18.42;	author rwild;	state Exp;
branches;
next	1.1507;

1.1507
date	2009.08.22.17.08.07;	author rwild;	state Exp;
branches;
next	1.1506;

1.1506
date	2009.08.22.16.56.36;	author rwild;	state Exp;
branches;
next	1.1505;

1.1505
date	2009.08.17.08.34.37;	author nickc;	state Exp;
branches;
next	1.1504;

1.1504
date	2009.08.10.14.56.34;	author nickc;	state Exp;
branches;
next	1.1503;

1.1503
date	2009.08.03.13.47.35;	author hjl;	state Exp;
branches;
next	1.1502;

1.1502
date	2009.07.27.17.08.03;	author nickc;	state Exp;
branches;
next	1.1501;

1.1501
date	2009.07.25.14.58.53;	author hjl;	state Exp;
branches;
next	1.1500;

1.1500
date	2009.07.23.13.00.21;	author nickc;	state Exp;
branches;
next	1.1499;

1.1499
date	2009.07.20.13.40.48;	author hjl;	state Exp;
branches;
next	1.1498;

1.1498
date	2009.07.17.15.19.21;	author nickc;	state Exp;
branches;
next	1.1497;

1.1497
date	2009.07.14.16.57.17;	author jkratoch;	state Exp;
branches;
next	1.1496;

1.1496
date	2009.07.14.07.43.18;	author nickc;	state Exp;
branches;
next	1.1495;

1.1495
date	2009.07.10.18.26.58;	author hjl;	state Exp;
branches;
next	1.1494;

1.1494
date	2009.07.10.15.26.56;	author tromey;	state Exp;
branches;
next	1.1493;

1.1493
date	2009.07.06.14.45.56;	author gingold;	state Exp;
branches;
next	1.1492;

1.1492
date	2009.07.03.08.53.49;	author jakub;	state Exp;
branches;
next	1.1491;

1.1491
date	2009.07.01.15.52.27;	author nickc;	state Exp;
branches;
next	1.1490;

1.1490
date	2009.06.27.17.19.02;	author hjl;	state Exp;
branches;
next	1.1489;

1.1489
date	2009.06.24.10.37.34;	author nickc;	state Exp;
branches;
next	1.1488;

1.1488
date	2009.06.22.08.46.13;	author nickc;	state Exp;
branches;
next	1.1487;

1.1487
date	2009.06.19.15.05.23;	author nickc;	state Exp;
branches;
next	1.1486;

1.1486
date	2009.06.18.10.31.21;	author nickc;	state Exp;
branches;
next	1.1485;

1.1485
date	2009.06.18.02.11.02;	author davek;	state Exp;
branches;
next	1.1484;

1.1484
date	2009.06.15.11.37.26;	author nickc;	state Exp;
branches;
next	1.1483;

1.1483
date	2009.06.12.15.33.30;	author nickc;	state Exp;
branches;
next	1.1482;

1.1482
date	2009.06.12.13.54.44;	author nickc;	state Exp;
branches;
next	1.1481;

1.1481
date	2009.06.12.10.19.54;	author jakub;	state Exp;
branches;
next	1.1480;

1.1480
date	2009.06.09.15.14.23;	author nickc;	state Exp;
branches;
next	1.1479;

1.1479
date	2009.06.04.08.27.54;	author amodra;	state Exp;
branches;
next	1.1478;

1.1478
date	2009.06.04.06.56.53;	author amodra;	state Exp;
branches;
next	1.1477;

1.1477
date	2009.06.03.08.17.20;	author gingold;	state Exp;
branches;
next	1.1476;

1.1476
date	2009.06.01.01.50.45;	author amodra;	state Exp;
branches;
next	1.1475;

1.1475
date	2009.05.28.11.32.51;	author nickc;	state Exp;
branches;
next	1.1474;

1.1474
date	2009.05.28.11.30.49;	author nickc;	state Exp;
branches;
next	1.1473;

1.1473
date	2009.05.28.11.02.22;	author nickc;	state Exp;
branches;
next	1.1472;

1.1472
date	2009.05.27.13.34.14;	author nathan;	state Exp;
branches;
next	1.1471;

1.1471
date	2009.05.26.16.49.37;	author nickc;	state Exp;
branches;
next	1.1470;

1.1470
date	2009.05.26.14.12.03;	author nickc;	state Exp;
branches;
next	1.1469;

1.1469
date	2009.05.26.03.19.38;	author amodra;	state Exp;
branches;
next	1.1468;

1.1468
date	2009.05.25.13.03.24;	author gingold;	state Exp;
branches;
next	1.1467;

1.1467
date	2009.05.22.09.33.15;	author amodra;	state Exp;
branches;
next	1.1466;

1.1466
date	2009.05.12.09.07.37;	author amodra;	state Exp;
branches;
next	1.1465;

1.1465
date	2009.05.09.15.55.07;	author davek;	state Exp;
branches;
next	1.1464;

1.1464
date	2009.05.08.08.48.45;	author ktietz;	state Exp;
branches;
next	1.1463;

1.1463
date	2009.05.05.09.36.08;	author nickc;	state Exp;
branches;
next	1.1462;

1.1462
date	2009.04.30.15.47.13;	author nickc;	state Exp;
branches;
next	1.1461;

1.1461
date	2009.04.30.04.36.49;	author green;	state Exp;
branches;
next	1.1460;

1.1460
date	2009.04.29.14.21.50;	author amodra;	state Exp;
branches;
next	1.1459;

1.1459
date	2009.04.27.14.27.35;	author nickc;	state Exp;
branches;
next	1.1458;

1.1458
date	2009.04.27.13.59.42;	author hjl;	state Exp;
branches;
next	1.1457;

1.1457
date	2009.04.24.18.28.59;	author ccoutant;	state Exp;
branches;
next	1.1456;

1.1456
date	2009.04.24.11.41.40;	author green;	state Exp;
branches;
next	1.1455;

1.1455
date	2009.04.17.15.03.46;	author hjl;	state Exp;
branches;
next	1.1454;

1.1454
date	2009.04.17.13.46.17;	author hjl;	state Exp;
branches;
next	1.1453;

1.1453
date	2009.04.16.15.39.43;	author nickc;	state Exp;
branches;
next	1.1452;

1.1452
date	2009.04.14.09.47.43;	author davek;	state Exp;
branches;
next	1.1451;

1.1451
date	2009.04.01.17.20.18;	author davek;	state Exp;
branches;
next	1.1450;

1.1450
date	2009.04.01.14.57.10;	author nickc;	state Exp;
branches;
next	1.1449;

1.1449
date	2009.03.31.08.08.33;	author nickc;	state Exp;
branches;
next	1.1448;

1.1448
date	2009.03.30.20.39.43;	author rsandifo;	state Exp;
branches;
next	1.1447;

1.1447
date	2009.03.27.14.27.01;	author nickc;	state Exp;
branches;
next	1.1446;

1.1446
date	2009.03.25.01.37.18;	author amodra;	state Exp;
branches;
next	1.1445;

1.1445
date	2009.03.20.00.05.37;	author hjl;	state Exp;
branches;
next	1.1444;

1.1444
date	2009.03.19.14.42.52;	author hjl;	state Exp;
branches;
next	1.1443;

1.1443
date	2009.03.19.02.38.53;	author hjl;	state Exp;
branches;
next	1.1442;

1.1442
date	2009.03.18.11.27.17;	author amodra;	state Exp;
branches;
next	1.1441;

1.1441
date	2009.03.14.09.11.38;	author rsandifo;	state Exp;
branches;
next	1.1440;

1.1440
date	2009.03.13.13.39.56;	author hjl;	state Exp;
branches;
next	1.1439;

1.1439
date	2009.03.11.04.36.39;	author cgd;	state Exp;
branches;
next	1.1438;

1.1438
date	2009.03.10.00.48.09;	author hjl;	state Exp;
branches;
next	1.1437;

1.1437
date	2009.03.06.12.14.40;	author nickc;	state Exp;
branches;
next	1.1436;

1.1436
date	2009.03.05.16.31.50;	author nickc;	state Exp;
branches;
next	1.1435;

1.1435
date	2009.03.04.15.18.41;	author gingold;	state Exp;
branches;
next	1.1434;

1.1434
date	2009.03.04.01.16.14;	author amodra;	state Exp;
branches;
next	1.1433;

1.1433
date	2009.03.03.08.30.33;	author nickc;	state Exp;
branches;
next	1.1432;

1.1432
date	2009.03.03.01.27.15;	author amodra;	state Exp;
branches;
next	1.1431;

1.1431
date	2009.03.02.16.18.54;	author nickc;	state Exp;
branches;
next	1.1430;

1.1430
date	2009.03.02.16.06.50;	author nickc;	state Exp;
branches;
next	1.1429;

1.1429
date	2009.03.02.14.42.46;	author nickc;	state Exp;
branches;
next	1.1428;

1.1428
date	2009.03.01.18.57.17;	author rwild;	state Exp;
branches;
next	1.1427;

1.1427
date	2009.02.23.19.44.58;	author ccoutant;	state Exp;
branches;
next	1.1426;

1.1426
date	2009.02.23.19.01.46;	author ccoutant;	state Exp;
branches;
next	1.1425;

1.1425
date	2009.02.09.15.40.24;	author ktietz;	state Exp;
branches;
next	1.1424;

1.1424
date	2009.02.09.09.14.15;	author gingold;	state Exp;
branches;
next	1.1423;

1.1423
date	2009.02.06.10.47.32;	author nickc;	state Exp;
branches;
next	1.1422;

1.1422
date	2009.02.03.18.16.03;	author jsm28;	state Exp;
branches;
next	1.1421;

1.1421
date	2009.02.03.15.56.59;	author hjl;	state Exp;
branches;
next	1.1420;

1.1420
date	2009.02.03.15.53.59;	author jsm28;	state Exp;
branches;
next	1.1419;

1.1419
date	2009.02.03.15.48.49;	author hjl;	state Exp;
branches;
next	1.1418;

1.1418
date	2009.01.31.11.44.38;	author amodra;	state Exp;
branches;
next	1.1417;

1.1417
date	2009.01.29.13.03.21;	author amodra;	state Exp;
branches;
next	1.1416;

1.1416
date	2009.01.27.15.41.56;	author nickc;	state Exp;
branches;
next	1.1415;

1.1415
date	2009.01.27.15.37.17;	author nickc;	state Exp;
branches;
next	1.1414;

1.1414
date	2009.01.26.15.52.55;	author nickc;	state Exp;
branches;
next	1.1413;

1.1413
date	2009.01.16.08.02.26;	author amodra;	state Exp;
branches;
next	1.1412;

1.1412
date	2009.01.14.11.55.43;	author nickc;	state Exp;
branches;
next	1.1411;

1.1411
date	2009.01.13.09.23.50;	author nickc;	state Exp;
branches;
next	1.1410;

1.1410
date	2009.01.13.06.41.53;	author amodra;	state Exp;
branches;
next	1.1409;

1.1409
date	2009.01.12.14.09.18;	author amodra;	state Exp;
branches;
next	1.1408;

1.1408
date	2009.01.12.10.14.12;	author ktietz;	state Exp;
branches;
next	1.1407;

1.1407
date	2009.01.08.13.29.14;	author ktietz;	state Exp;
branches;
next	1.1406;

1.1406
date	2009.01.06.15.36.05;	author ktietz;	state Exp;
branches;
next	1.1405;

1.1405
date	2008.12.23.19.10.19;	author nickc;	state Exp;
branches;
next	1.1404;

1.1404
date	2008.12.23.10.00.31;	author ktietz;	state Exp;
branches;
next	1.1403;

1.1403
date	2008.12.23.09.01.46;	author nickc;	state Exp;
branches;
next	1.1402;

1.1402
date	2008.12.21.12.45.52;	author rwild;	state Exp;
branches;
next	1.1401;

1.1401
date	2008.12.09.18.59.54;	author tromey;	state Exp;
branches;
next	1.1400;

1.1400
date	2008.12.09.08.34.29;	author ams;	state Exp;
branches;
next	1.1399;

1.1399
date	2008.12.04.10.29.15;	author bje;	state Exp;
branches;
next	1.1398;

1.1398
date	2008.12.04.08.04.46;	author nickc;	state Exp;
branches;
next	1.1397;

1.1397
date	2008.11.26.14.24.35;	author jkratoch;	state Exp;
branches;
next	1.1396;

1.1396
date	2008.11.25.08.48.49;	author nickc;	state Exp;
branches;
next	1.1395;

1.1395
date	2008.11.21.22.16.16;	author sterling;	state Exp;
branches;
next	1.1394;

1.1394
date	2008.11.19.16.22.47;	author nickc;	state Exp;
branches;
next	1.1393;

1.1393
date	2008.11.18.15.45.03;	author clm;	state Exp;
branches;
next	1.1392;

1.1392
date	2008.11.17.17.44.32;	author nickc;	state Exp;
branches;
next	1.1391;

1.1391
date	2008.11.16.06.00.41;	author dannysmith;	state Exp;
branches;
next	1.1390;

1.1390
date	2008.11.15.18.15.18;	author cwilson;	state Exp;
branches;
next	1.1389;

1.1389
date	2008.11.14.14.56.51;	author gingold;	state Exp;
branches;
next	1.1388;

1.1388
date	2008.11.14.09.57.33;	author gingold;	state Exp;
branches;
next	1.1387;

1.1387
date	2008.11.13.10.56.59;	author hp;	state Exp;
branches;
next	1.1386;

1.1386
date	2008.11.10.08.45.12;	author amodra;	state Exp;
branches;
next	1.1385;

1.1385
date	2008.11.07.14.27.05;	author nickc;	state Exp;
branches;
next	1.1384;

1.1384
date	2008.10.31.02.52.14;	author amodra;	state Exp;
branches;
next	1.1383;

1.1383
date	2008.10.31.02.16.47;	author amodra;	state Exp;
branches;
next	1.1382;

1.1382
date	2008.10.21.01.36.15;	author amodra;	state Exp;
branches;
next	1.1381;

1.1381
date	2008.10.20.12.40.58;	author nickc;	state Exp;
branches;
next	1.1380;

1.1380
date	2008.10.10.20.55.36;	author froydnj;	state Exp;
branches;
next	1.1379;

1.1379
date	2008.10.09.13.42.30;	author amodra;	state Exp;
branches;
next	1.1378;

1.1378
date	2008.10.09.09.00.07;	author ktietz;	state Exp;
branches;
next	1.1377;

1.1377
date	2008.10.07.12.03.18;	author nickc;	state Exp;
branches;
next	1.1376;

1.1376
date	2008.10.06.16.27.33;	author nickc;	state Exp;
branches;
next	1.1375;

1.1375
date	2008.10.02.17.10.00;	author nickc;	state Exp;
branches;
next	1.1374;

1.1374
date	2008.09.30.12.19.51;	author nickc;	state Exp;
branches;
next	1.1373;

1.1373
date	2008.09.29.15.33.28;	author sje;	state Exp;
branches;
next	1.1372;

1.1372
date	2008.09.28.13.29.18;	author amodra;	state Exp;
branches;
next	1.1371;

1.1371
date	2008.09.24.23.21.03;	author rth;	state Exp;
branches;
next	1.1370;

1.1370
date	2008.09.24.14.37.35;	author amodra;	state Exp;
branches;
next	1.1369;

1.1369
date	2008.09.17.07.50.28;	author jkratoch;	state Exp;
branches;
next	1.1368;

1.1368
date	2008.09.11.19.02.01;	author jkratoch;	state Exp;
branches;
next	1.1367;

1.1367
date	2008.09.11.09.06.54;	author amodra;	state Exp;
branches;
next	1.1366;

1.1366
date	2008.09.08.12.44.32;	author gingold;	state Exp;
branches;
next	1.1365;

1.1365
date	2008.09.08.08.56.56;	author gingold;	state Exp;
branches
	1.1365.2.1;
next	1.1364;

1.1364
date	2008.09.05.14.49.05;	author drow;	state Exp;
branches;
next	1.1363;

1.1363
date	2008.08.28.16.05.03;	author gingold;	state Exp;
branches;
next	1.1362;

1.1362
date	2008.08.25.04.38.12;	author amodra;	state Exp;
branches;
next	1.1361;

1.1361
date	2008.08.24.03.13.05;	author amodra;	state Exp;
branches;
next	1.1360;

1.1360
date	2008.08.21.19.38.58;	author rth;	state Exp;
branches;
next	1.1359;

1.1359
date	2008.08.15.08.31.46;	author amodra;	state Exp;
branches;
next	1.1358;

1.1358
date	2008.08.09.13.05.11;	author amodra;	state Exp;
branches;
next	1.1357;

1.1357
date	2008.08.08.19.24.48;	author drow;	state Exp;
branches;
next	1.1356;

1.1356
date	2008.08.08.08.08.33;	author amodra;	state Exp;
branches;
next	1.1355;

1.1355
date	2008.08.06.00.45.10;	author amodra;	state Exp;
branches;
next	1.1354;

1.1354
date	2008.08.06.00.42.17;	author amodra;	state Exp;
branches;
next	1.1353;

1.1353
date	2008.08.04.06.55.31;	author amodra;	state Exp;
branches;
next	1.1352;

1.1352
date	2008.08.03.23.23.26;	author amodra;	state Exp;
branches;
next	1.1351;

1.1351
date	2008.08.01.14.21.29;	author hjl;	state Exp;
branches;
next	1.1350;

1.1350
date	2008.07.30.04.34.56;	author amodra;	state Exp;
branches;
next	1.1349;

1.1349
date	2008.07.28.04.14.40;	author amodra;	state Exp;
branches;
next	1.1348;

1.1348
date	2008.07.28.04.07.32;	author amodra;	state Exp;
branches;
next	1.1347;

1.1347
date	2008.07.26.14.30.39;	author amodra;	state Exp;
branches;
next	1.1346;

1.1346
date	2008.07.21.05.33.37;	author luisgpm;	state Exp;
branches;
next	1.1345;

1.1345
date	2008.07.15.18.48.34;	author hjl;	state Exp;
branches;
next	1.1344;

1.1344
date	2008.07.12.08.54.12;	author jiez;	state Exp;
branches;
next	1.1343;

1.1343
date	2008.07.11.19.24.38;	author jiez;	state Exp;
branches;
next	1.1342;

1.1342
date	2008.07.10.01.32.23;	author csilvers;	state Exp;
branches;
next	1.1341;

1.1341
date	2008.07.07.04.37.53;	author amodra;	state Exp;
branches;
next	1.1340;

1.1340
date	2008.07.07.00.44.41;	author amodra;	state Exp;
branches;
next	1.1339;

1.1339
date	2008.06.18.11.00.49;	author swami;	state Exp;
branches;
next	1.1338;

1.1338
date	2008.06.17.23.14.39;	author rwild;	state Exp;
branches;
next	1.1337;

1.1337
date	2008.06.12.19.49.48;	author dj;	state Exp;
branches;
next	1.1336;

1.1336
date	2008.06.12.11.57.39;	author nickc;	state Exp;
branches;
next	1.1335;

1.1335
date	2008.06.10.08.16.54;	author bje;	state Exp;
branches;
next	1.1334;

1.1334
date	2008.05.14.06.45.40;	author amodra;	state Exp;
branches;
next	1.1333;

1.1333
date	2008.05.12.12.23.13;	author amodra;	state Exp;
branches;
next	1.1332;

1.1332
date	2008.05.07.14.46.44;	author amodra;	state Exp;
branches;
next	1.1331;

1.1331
date	2008.05.01.14.34.51;	author nickc;	state Exp;
branches;
next	1.1330;

1.1330
date	2008.04.30.07.27.16;	author nickc;	state Exp;
branches;
next	1.1329;

1.1329
date	2008.04.30.02.09.48;	author amodra;	state Exp;
branches;
next	1.1328;

1.1328
date	2008.04.28.08.30.23;	author nickc;	state Exp;
branches;
next	1.1327;

1.1327
date	2008.04.23.16.11.45;	author hjl;	state Exp;
branches;
next	1.1326;

1.1326
date	2008.04.16.08.24.20;	author nickc;	state Exp;
branches;
next	1.1325;

1.1325
date	2008.04.15.04.11.45;	author davem;	state Exp;
branches;
next	1.1324;

1.1324
date	2008.04.11.09.04.17;	author nickc;	state Exp;
branches;
next	1.1323;

1.1323
date	2008.04.08.05.53.28;	author amodra;	state Exp;
branches;
next	1.1322;

1.1322
date	2008.04.04.07.02.29;	author nickc;	state Exp;
branches;
next	1.1321;

1.1321
date	2008.04.03.14.03.16;	author hjl;	state Exp;
branches;
next	1.1320;

1.1320
date	2008.03.28.06.49.44;	author nickc;	state Exp;
branches;
next	1.1319;

1.1319
date	2008.03.21.03.27.56;	author hjl;	state Exp;
branches;
next	1.1318;

1.1318
date	2008.03.20.10.53.11;	author rsandifo;	state Exp;
branches;
next	1.1317;

1.1317
date	2008.03.17.22.17.28;	author rwild;	state Exp;
branches;
next	1.1316;

1.1316
date	2008.03.16.07.26.55;	author briand;	state Exp;
branches;
next	1.1315;

1.1315
date	2008.03.13.05.27.42;	author amodra;	state Exp;
branches;
next	1.1314;

1.1314
date	2008.03.13.02.05.19;	author amodra;	state Exp;
branches;
next	1.1313;

1.1313
date	2008.03.12.08.36.59;	author amodra;	state Exp;
branches;
next	1.1312;

1.1312
date	2008.03.09.13.23.28;	author pbrook;	state Exp;
branches;
next	1.1311;

1.1311
date	2008.03.04.00.07.45;	author wilson;	state Exp;
branches;
next	1.1310;

1.1310
date	2008.03.03.10.19.01;	author nickc;	state Exp;
branches;
next	1.1309;

1.1309
date	2008.03.01.07.19.06;	author amodra;	state Exp;
branches;
next	1.1308;

1.1308
date	2008.02.27.10.56.20;	author nickc;	state Exp;
branches;
next	1.1307;

1.1307
date	2008.02.26.08.44.10;	author nickc;	state Exp;
branches;
next	1.1306;

1.1306
date	2008.02.26.08.25.46;	author nickc;	state Exp;
branches;
next	1.1305;

1.1305
date	2008.02.22.09.42.58;	author nickc;	state Exp;
branches;
next	1.1304;

1.1304
date	2008.02.15.10.24.27;	author nickc;	state Exp;
branches;
next	1.1303;

1.1303
date	2008.02.15.10.20.09;	author nickc;	state Exp;
branches;
next	1.1302;

1.1302
date	2008.02.12.12.33.51;	author nickc;	state Exp;
branches;
next	1.1301;

1.1301
date	2008.02.08.20.58.17;	author hjl;	state Exp;
branches;
next	1.1300;

1.1300
date	2008.02.07.08.39.54;	author amodra;	state Exp;
branches;
next	1.1299;

1.1299
date	2008.02.04.19.43.50;	author hjl;	state Exp;
branches;
next	1.1298;

1.1298
date	2008.02.04.19.16.53;	author nemet;	state Exp;
branches;
next	1.1297;

1.1297
date	2008.01.30.10.37.42;	author nickc;	state Exp;
branches;
next	1.1296;

1.1296
date	2008.01.29.16.38.36;	author nickc;	state Exp;
branches;
next	1.1295;

1.1295
date	2008.01.29.16.36.33;	author nickc;	state Exp;
branches;
next	1.1294;

1.1294
date	2008.01.29.15.45.00;	author nickc;	state Exp;
branches;
next	1.1293;

1.1293
date	2008.01.29.02.55.48;	author amodra;	state Exp;
branches;
next	1.1292;

1.1292
date	2008.01.29.01.39.28;	author amodra;	state Exp;
branches;
next	1.1291;

1.1291
date	2008.01.28.16.42.02;	author nickc;	state Exp;
branches;
next	1.1290;

1.1290
date	2008.01.28.15.57.02;	author hjl;	state Exp;
branches;
next	1.1289;

1.1289
date	2008.01.28.15.15.32;	author hjl;	state Exp;
branches;
next	1.1288;

1.1288
date	2008.01.25.21.08.17;	author dj;	state Exp;
branches;
next	1.1287;

1.1287
date	2008.01.25.16.18.40;	author nickc;	state Exp;
branches;
next	1.1286;

1.1286
date	2008.01.25.11.18.27;	author nickc;	state Exp;
branches;
next	1.1285;

1.1285
date	2008.01.17.23.48.18;	author hjl;	state Exp;
branches;
next	1.1284;

1.1284
date	2008.01.14.14.53.47;	author nickc;	state Exp;
branches;
next	1.1283;

1.1283
date	2008.01.14.12.26.57;	author nickc;	state Exp;
branches;
next	1.1282;

1.1282
date	2008.01.10.13.09.36;	author schwab;	state Exp;
branches;
next	1.1281;

1.1281
date	2008.01.09.10.40.32;	author nickc;	state Exp;
branches;
next	1.1280;

1.1280
date	2008.01.08.09.10.47;	author ktietz;	state Exp;
branches;
next	1.1279;

1.1279
date	2008.01.07.23.17.48;	author gkm;	state Exp;
branches;
next	1.1278;

1.1278
date	2008.01.04.09.53.41;	author nickc;	state Exp;
branches;
next	1.1277;

1.1277
date	2008.01.02.21.41.01;	author hjl;	state Exp;
branches;
next	1.1276;

1.1276
date	2007.12.24.16.18.14;	author nickc;	state Exp;
branches;
next	1.1275;

1.1275
date	2007.12.22.14.06.30;	author hjl;	state Exp;
branches;
next	1.1274;

1.1274
date	2007.12.08.01.04.59;	author bwilson;	state Exp;
branches;
next	1.1273;

1.1273
date	2007.12.03.23.19.25;	author amodra;	state Exp;
branches;
next	1.1272;

1.1272
date	2007.11.29.12.23.43;	author shinwell;	state Exp;
branches;
next	1.1271;

1.1271
date	2007.11.26.01.53.59;	author amodra;	state Exp;
branches;
next	1.1270;

1.1270
date	2007.11.21.17.50.41;	author hp;	state Exp;
branches;
next	1.1269;

1.1269
date	2007.11.21.11.58.00;	author nickc;	state Exp;
branches;
next	1.1268;

1.1268
date	2007.11.19.12.01.42;	author nickc;	state Exp;
branches;
next	1.1267;

1.1267
date	2007.11.17.13.38.56;	author ths;	state Exp;
branches;
next	1.1266;

1.1266
date	2007.11.16.15.36.21;	author nickc;	state Exp;
branches;
next	1.1265;

1.1265
date	2007.11.07.11.36.42;	author nickc;	state Exp;
branches;
next	1.1264;

1.1264
date	2007.10.31.16.09.52;	author nickc;	state Exp;
branches;
next	1.1263;

1.1263
date	2007.10.31.07.40.11;	author amodra;	state Exp;
branches;
next	1.1262;

1.1262
date	2007.10.29.14.44.58;	author nickc;	state Exp;
branches;
next	1.1261;

1.1261
date	2007.10.28.14.00.19;	author nickc;	state Exp;
branches;
next	1.1260;

1.1260
date	2007.10.26.12.00.33;	author nickc;	state Exp;
branches;
next	1.1259;

1.1259
date	2007.10.25.15.20.23;	author drow;	state Exp;
branches;
next	1.1258;

1.1258
date	2007.10.25.00.41.16;	author amodra;	state Exp;
branches;
next	1.1257;

1.1257
date	2007.10.24.04.55.01;	author amodra;	state Exp;
branches;
next	1.1256;

1.1256
date	2007.10.24.03.55.46;	author amodra;	state Exp;
branches;
next	1.1255;

1.1255
date	2007.10.24.02.27.15;	author amodra;	state Exp;
branches;
next	1.1254;

1.1254
date	2007.10.16.19.01.47;	author bwilson;	state Exp;
branches;
next	1.1253;

1.1253
date	2007.10.16.16.05.41;	author nickc;	state Exp;
branches;
next	1.1252;

1.1252
date	2007.10.15.02.00.56;	author amodra;	state Exp;
branches;
next	1.1251;

1.1251
date	2007.10.10.19.44.30;	author jimb;	state Exp;
branches;
next	1.1250;

1.1250
date	2007.10.10.19.43.42;	author jimb;	state Exp;
branches;
next	1.1249;

1.1249
date	2007.10.09.13.32.50;	author hjl;	state Exp;
branches;
next	1.1248;

1.1248
date	2007.10.09.02.17.23;	author carlos;	state Exp;
branches;
next	1.1247;

1.1247
date	2007.10.04.13.38.09;	author nickc;	state Exp;
branches;
next	1.1246;

1.1246
date	2007.10.03.04.24.08;	author amodra;	state Exp;
branches;
next	1.1245;

1.1245
date	2007.09.25.15.23.28;	author nickc;	state Exp;
branches;
next	1.1244;

1.1244
date	2007.09.17.16.09.24;	author nickc;	state Exp;
branches;
next	1.1243;

1.1243
date	2007.09.17.14.06.01;	author nickc;	state Exp;
branches;
next	1.1242;

1.1242
date	2007.09.17.11.14.22;	author nickc;	state Exp;
branches;
next	1.1241;

1.1241
date	2007.09.17.09.58.27;	author nickc;	state Exp;
branches;
next	1.1240;

1.1240
date	2007.09.14.18.21.07;	author meissner;	state Exp;
branches;
next	1.1239;

1.1239
date	2007.09.13.14.32.11;	author amodra;	state Exp;
branches;
next	1.1238;

1.1238
date	2007.09.11.14.05.09;	author ktietz;	state Exp;
branches;
next	1.1237;

1.1237
date	2007.09.10.09.05.23;	author amodra;	state Exp;
branches;
next	1.1236;

1.1236
date	2007.08.31.15.06.10;	author hjl;	state Exp;
branches;
next	1.1235;

1.1235
date	2007.08.31.10.32.42;	author nickc;	state Exp;
branches;
next	1.1234;

1.1234
date	2007.08.30.13.47.35;	author nickc;	state Exp;
branches;
next	1.1233;

1.1233
date	2007.08.30.10.19.03;	author nathan;	state Exp;
branches;
next	1.1232;

1.1232
date	2007.08.28.11.56.08;	author nickc;	state Exp;
branches;
next	1.1231;

1.1231
date	2007.08.25.13.20.41;	author amodra;	state Exp;
branches;
next	1.1230;

1.1230
date	2007.08.24.15.37.36;	author drow;	state Exp;
branches;
next	1.1229;

1.1229
date	2007.08.24.14.05.34;	author drow;	state Exp;
branches;
next	1.1228;

1.1228
date	2007.08.24.00.56.23;	author bje;	state Exp;
branches;
next	1.1227;

1.1227
date	2007.08.17.01.04.48;	author amodra;	state Exp;
branches;
next	1.1226;

1.1226
date	2007.08.16.18.49.42;	author hjl;	state Exp;
branches;
next	1.1225;

1.1225
date	2007.08.16.13.38.08;	author hjl;	state Exp;
branches;
next	1.1224;

1.1224
date	2007.08.13.01.56.12;	author drow;	state Exp;
branches;
next	1.1223;

1.1223
date	2007.08.13.01.52.58;	author drow;	state Exp;
branches;
next	1.1222;

1.1222
date	2007.08.10.13.25.31;	author nickc;	state Exp;
branches;
next	1.1221;

1.1221
date	2007.08.10.13.16.31;	author nickc;	state Exp;
branches;
next	1.1220;

1.1220
date	2007.08.10.07.12.37;	author ktietz;	state Exp;
branches;
next	1.1219;

1.1219
date	2007.08.04.08.26.38;	author amodra;	state Exp;
branches
	1.1219.2.1;
next	1.1218;

1.1218
date	2007.07.28.17.39.16;	author cgf;	state Exp;
branches;
next	1.1217;

1.1217
date	2007.07.27.00.48.30;	author nemet;	state Exp;
branches;
next	1.1216;

1.1216
date	2007.07.24.12.32.49;	author nickc;	state Exp;
branches;
next	1.1215;

1.1215
date	2007.07.19.16.17.38;	author nickc;	state Exp;
branches;
next	1.1214;

1.1214
date	2007.07.16.10.12.35;	author nickc;	state Exp;
branches;
next	1.1213;

1.1213
date	2007.07.16.10.11.01;	author nickc;	state Exp;
branches;
next	1.1212;

1.1212
date	2007.07.10.13.52.39;	author amodra;	state Exp;
branches;
next	1.1211;

1.1211
date	2007.07.09.21.19.55;	author roland;	state Exp;
branches;
next	1.1210;

1.1210
date	2007.07.08.14.31.20;	author schwab;	state Exp;
branches;
next	1.1209;

1.1209
date	2007.07.05.16.54.44;	author nickc;	state Exp;
branches;
next	1.1208;

1.1208
date	2007.07.05.09.51.30;	author nickc;	state Exp;
branches;
next	1.1207;

1.1207
date	2007.07.05.09.01.28;	author amodra;	state Exp;
branches;
next	1.1206;

1.1206
date	2007.07.04.22.24.21;	author amodra;	state Exp;
branches;
next	1.1205;

1.1205
date	2007.07.02.08.05.06;	author amodra;	state Exp;
branches;
next	1.1204;

1.1204
date	2007.07.02.07.12.49;	author amodra;	state Exp;
branches;
next	1.1203;

1.1203
date	2007.06.30.17.21.15;	author hjl;	state Exp;
branches;
next	1.1202;

1.1202
date	2007.06.30.00.03.40;	author jsm28;	state Exp;
branches;
next	1.1201;

1.1201
date	2007.06.29.16.41.32;	author jsm28;	state Exp;
branches;
next	1.1200;

1.1200
date	2007.06.29.16.29.16;	author jsm28;	state Exp;
branches;
next	1.1199;

1.1199
date	2007.06.29.00.34.18;	author roland;	state Exp;
branches;
next	1.1198;

1.1198
date	2007.06.27.11.54.09;	author amodra;	state Exp;
branches;
next	1.1197;

1.1197
date	2007.06.26.14.39.51;	author nickc;	state Exp;
branches;
next	1.1196;

1.1196
date	2007.06.21.00.31.39;	author amodra;	state Exp;
branches;
next	1.1195;

1.1195
date	2007.06.19.21.08.17;	author dannysmith;	state Exp;
branches;
next	1.1194;

1.1194
date	2007.06.19.13.24.33;	author nickc;	state Exp;
branches;
next	1.1193;

1.1193
date	2007.06.18.16.38.49;	author nickc;	state Exp;
branches;
next	1.1192;

1.1192
date	2007.06.18.16.02.44;	author nickc;	state Exp;
branches;
next	1.1191;

1.1191
date	2007.06.18.15.30.33;	author nickc;	state Exp;
branches;
next	1.1190;

1.1190
date	2007.06.18.02.09.20;	author amodra;	state Exp;
branches;
next	1.1189;

1.1189
date	2007.06.14.15.30.59;	author hjl;	state Exp;
branches;
next	1.1188;

1.1188
date	2007.06.11.11.30.29;	author nathan;	state Exp;
branches;
next	1.1187;

1.1187
date	2007.06.07.14.07.02;	author hjl;	state Exp;
branches;
next	1.1186;

1.1186
date	2007.06.06.08.02.47;	author nickc;	state Exp;
branches;
next	1.1185;

1.1185
date	2007.06.06.04.46.41;	author bje;	state Exp;
branches;
next	1.1184;

1.1184
date	2007.06.05.13.10.29;	author nickc;	state Exp;
branches;
next	1.1183;

1.1183
date	2007.06.05.00.27.39;	author amodra;	state Exp;
branches;
next	1.1182;

1.1182
date	2007.05.30.14.29.27;	author amodra;	state Exp;
branches;
next	1.1181;

1.1181
date	2007.05.29.13.10.09;	author amodra;	state Exp;
branches;
next	1.1180;

1.1180
date	2007.05.24.17.33.27;	author sje;	state Exp;
branches;
next	1.1179;

1.1179
date	2007.05.24.11.01.04;	author nickc;	state Exp;
branches;
next	1.1178;

1.1178
date	2007.05.23.08.48.28;	author nickc;	state Exp;
branches;
next	1.1177;

1.1177
date	2007.05.22.15.05.10;	author pbrook;	state Exp;
branches;
next	1.1176;

1.1176
date	2007.05.22.09.16.35;	author nickc;	state Exp;
branches;
next	1.1175;

1.1175
date	2007.05.21.06.36.00;	author rsandifo;	state Exp;
branches;
next	1.1174;

1.1174
date	2007.05.18.06.36.08;	author nathan;	state Exp;
branches;
next	1.1173;

1.1173
date	2007.05.17.08.39.18;	author nickc;	state Exp;
branches;
next	1.1172;

1.1172
date	2007.05.11.14.09.50;	author amodra;	state Exp;
branches;
next	1.1171;

1.1171
date	2007.05.11.03.10.11;	author amodra;	state Exp;
branches;
next	1.1170;

1.1170
date	2007.04.28.06.03.36;	author amodra;	state Exp;
branches;
next	1.1169;

1.1169
date	2007.04.26.14.58.50;	author amodra;	state Exp;
branches;
next	1.1168;

1.1168
date	2007.04.24.12.08.39;	author nickc;	state Exp;
branches;
next	1.1167;

1.1167
date	2007.04.24.10.56.58;	author nickc;	state Exp;
branches;
next	1.1166;

1.1166
date	2007.04.24.04.05.48;	author amodra;	state Exp;
branches;
next	1.1165;

1.1165
date	2007.04.23.10.59.07;	author nickc;	state Exp;
branches;
next	1.1164;

1.1164
date	2007.04.20.13.52.58;	author nickc;	state Exp;
branches;
next	1.1163;

1.1163
date	2007.04.19.10.43.47;	author amodra;	state Exp;
branches;
next	1.1162;

1.1162
date	2007.04.14.20.38.13;	author sje;	state Exp;
branches;
next	1.1161;

1.1161
date	2007.04.13.12.05.59;	author nathan;	state Exp;
branches;
next	1.1160;

1.1160
date	2007.04.12.19.20.46;	author hjl;	state Exp;
branches;
next	1.1159;

1.1159
date	2007.04.10.08.01.13;	author vprus;	state Exp;
branches;
next	1.1158;

1.1158
date	2007.04.09.14.36.59;	author drow;	state Exp;
branches;
next	1.1157;

1.1157
date	2007.04.06.16.08.06;	author matt;	state Exp;
branches;
next	1.1156;

1.1156
date	2007.04.05.06.36.35;	author amodra;	state Exp;
branches;
next	1.1155;

1.1155
date	2007.04.02.16.51.13;	author nickc;	state Exp;
branches;
next	1.1154;

1.1154
date	2007.03.28.09.08.53;	author rsandifo;	state Exp;
branches;
next	1.1153;

1.1153
date	2007.03.28.08.09.25;	author nickc;	state Exp;
branches;
next	1.1152;

1.1152
date	2007.03.28.05.09.42;	author amodra;	state Exp;
branches;
next	1.1151;

1.1151
date	2007.03.27.02.10.58;	author amodra;	state Exp;
branches;
next	1.1150;

1.1150
date	2007.03.26.23.56.40;	author amodra;	state Exp;
branches;
next	1.1149;

1.1149
date	2007.03.23.21.26.22;	author kkojima;	state Exp;
branches;
next	1.1148;

1.1148
date	2007.03.22.21.18.30;	author jsm28;	state Exp;
branches;
next	1.1147;

1.1147
date	2007.03.16.15.13.21;	author nickc;	state Exp;
branches;
next	1.1146;

1.1146
date	2007.03.15.14.17.16;	author hjl;	state Exp;
branches;
next	1.1145;

1.1145
date	2007.03.13.17.17.15;	author nickc;	state Exp;
branches;
next	1.1144;

1.1144
date	2007.03.07.22.49.59;	author jsm28;	state Exp;
branches;
next	1.1143;

1.1143
date	2007.03.01.16.39.42;	author rsandifo;	state Exp;
branches;
next	1.1142;

1.1142
date	2007.03.01.16.06.28;	author pbrook;	state Exp;
branches;
next	1.1141;

1.1141
date	2007.03.01.15.48.36;	author jsm28;	state Exp;
branches;
next	1.1140;

1.1140
date	2007.03.01.12.35.39;	author drow;	state Exp;
branches;
next	1.1139;

1.1139
date	2007.03.01.06.14.37;	author amodra;	state Exp;
branches;
next	1.1138;

1.1138
date	2007.02.28.07.10.52;	author amodra;	state Exp;
branches;
next	1.1137;

1.1137
date	2007.02.28.01.29.32;	author amodra;	state Exp;
branches;
next	1.1136;

1.1136
date	2007.02.27.08.31.45;	author amodra;	state Exp;
branches;
next	1.1135;

1.1135
date	2007.02.17.13.33.53;	author jsm28;	state Exp;
branches;
next	1.1134;

1.1134
date	2007.02.13.07.33.32;	author amodra;	state Exp;
branches;
next	1.1133;

1.1133
date	2007.02.07.16.55.29;	author brolley;	state Exp;
branches;
next	1.1132;

1.1132
date	2007.02.06.18.16.55;	author brolley;	state Exp;
branches;
next	1.1131;

1.1131
date	2007.02.06.15.15.12;	author nickc;	state Exp;
branches;
next	1.1130;

1.1130
date	2007.02.05.19.56.32;	author brolley;	state Exp;
branches;
next	1.1129;

1.1129
date	2007.02.02.22.15.51;	author hjl;	state Exp;
branches;
next	1.1128;

1.1128
date	2007.02.02.17.16.08;	author hjl;	state Exp;
branches;
next	1.1127;

1.1127
date	2007.02.02.15.27.04;	author hjl;	state Exp;
branches;
next	1.1126;

1.1126
date	2007.02.02.13.59.54;	author hjl;	state Exp;
branches;
next	1.1125;

1.1125
date	2007.02.02.12.43.35;	author nickc;	state Exp;
branches;
next	1.1124;

1.1124
date	2007.01.31.08.42.45;	author nathan;	state Exp;
branches;
next	1.1123;

1.1123
date	2007.01.25.15.40.22;	author kazu;	state Exp;
branches;
next	1.1122;

1.1122
date	2007.01.12.03.12.55;	author amodra;	state Exp;
branches;
next	1.1121;

1.1121
date	2007.01.11.23.13.09;	author hjl;	state Exp;
branches;
next	1.1120;

1.1120
date	2007.01.11.06.24.40;	author amodra;	state Exp;
branches;
next	1.1119;

1.1119
date	2007.01.10.13.36.34;	author amodra;	state Exp;
branches;
next	1.1118;

1.1118
date	2007.01.09.14.29.31;	author hjl;	state Exp;
branches;
next	1.1117;

1.1117
date	2007.01.08.18.42.36;	author kazu;	state Exp;
branches;
next	1.1116;

1.1116
date	2007.01.08.17.21.49;	author nickc;	state Exp;
branches;
next	1.1115;

1.1115
date	2007.01.05.01.25.06;	author amodra;	state Exp;
branches;
next	1.1114;

1.1114
date	2006.12.25.22.39.21;	author kazu;	state Exp;
branches;
next	1.1113;

1.1113
date	2006.12.11.19.13.21;	author amylaar;	state Exp;
branches;
next	1.1112;

1.1112
date	2006.12.11.15.09.41;	author drow;	state Exp;
branches;
next	1.1111;

1.1111
date	2006.12.07.15.39.01;	author kazu;	state Exp;
branches;
next	1.1110;

1.1110
date	2006.10.31.20.21.56;	author pbrook;	state Exp;
branches;
next	1.1109;

1.1109
date	2006.10.29.19.07.54;	author hjl;	state Exp;
branches;
next	1.1108;

1.1108
date	2006.10.25.06.49.20;	author amodra;	state Exp;
branches;
next	1.1107;

1.1107
date	2006.10.13.09.43.28;	author nickc;	state Exp;
branches;
next	1.1106;

1.1106
date	2006.10.10.10.45.44;	author schwab;	state Exp;
branches;
next	1.1105;

1.1105
date	2006.10.04.11.50.43;	author hjl;	state Exp;
branches;
next	1.1104;

1.1104
date	2006.09.28.12.59.25;	author nickc;	state Exp;
branches;
next	1.1103;

1.1103
date	2006.09.26.16.45.24;	author hjl;	state Exp;
branches;
next	1.1102;

1.1102
date	2006.09.26.14.01.50;	author nickc;	state Exp;
branches;
next	1.1101;

1.1101
date	2006.09.25.23.37.12;	author ths;	state Exp;
branches;
next	1.1100;

1.1100
date	2006.09.20.11.35.11;	author nickc;	state Exp;
branches;
next	1.1099;

1.1099
date	2006.09.16.23.51.50;	author nickc;	state Exp;
branches;
next	1.1098;

1.1098
date	2006.09.16.18.12.17;	author nickc;	state Exp;
branches;
next	1.1097;

1.1097
date	2006.09.15.00.12.32;	author hjl;	state Exp;
branches;
next	1.1096;

1.1096
date	2006.09.14.23.37.35;	author hjl;	state Exp;
branches;
next	1.1095;

1.1095
date	2006.09.14.12.11.33;	author amodra;	state Exp;
branches;
next	1.1094;

1.1094
date	2006.09.13.15.08.38;	author amodra;	state Exp;
branches;
next	1.1093;

1.1093
date	2006.09.11.14.40.39;	author nickc;	state Exp;
branches;
next	1.1092;

1.1092
date	2006.09.05.08.22.27;	author nickc;	state Exp;
branches;
next	1.1091;

1.1091
date	2006.09.01.11.38.20;	author nickc;	state Exp;
branches;
next	1.1090;

1.1090
date	2006.08.21.08.12.45;	author nickc;	state Exp;
branches;
next	1.1089;

1.1089
date	2006.08.15.12.01.43;	author nickc;	state Exp;
branches;
next	1.1088;

1.1088
date	2006.08.10.13.23.15;	author amylaar;	state Exp;
branches;
next	1.1087;

1.1087
date	2006.08.08.09.43.10;	author nickc;	state Exp;
branches;
next	1.1086;

1.1086
date	2006.08.06.15.49.45;	author nickc;	state Exp;
branches;
next	1.1085;

1.1085
date	2006.08.02.09.45.12;	author ths;	state Exp;
branches;
next	1.1084;

1.1084
date	2006.07.24.13.49.48;	author nickc;	state Exp;
branches;
next	1.1083;

1.1083
date	2006.07.10.21.40.24;	author jakub;	state Exp;
branches;
next	1.1082;

1.1082
date	2006.07.06.10.04.09;	author nickc;	state Exp;
branches;
next	1.1081;

1.1081
date	2006.07.06.09.49.55;	author nickc;	state Exp;
branches;
next	1.1080;

1.1080
date	2006.06.30.13.38.57;	author nickc;	state Exp;
branches;
next	1.1079;

1.1079
date	2006.06.29.18.32.05;	author dj;	state Exp;
branches;
next	1.1078;

1.1078
date	2006.06.23.16.23.09;	author rsandifo;	state Exp;
branches;
next	1.1077;

1.1077
date	2006.06.23.14.30.59;	author drow;	state Exp;
branches;
next	1.1076;

1.1076
date	2006.06.23.06.04.37;	author amodra;	state Exp;
branches;
next	1.1075;

1.1075
date	2006.06.07.15.38.00;	author jsm28;	state Exp;
branches;
next	1.1074;

1.1074
date	2006.06.05.14.04.04;	author drow;	state Exp;
branches;
next	1.1073;

1.1073
date	2006.06.05.12.29.25;	author amodra;	state Exp;
branches;
next	1.1072;

1.1072
date	2006.06.02.23.08.11;	author jsm28;	state Exp;
branches;
next	1.1071;

1.1071
date	2006.05.31.15.14.35;	author drow;	state Exp;
branches;
next	1.1070;

1.1070
date	2006.05.30.11.01.58;	author nickc;	state Exp;
branches;
next	1.1069;

1.1069
date	2006.05.25.14.07.20;	author amylaar;	state Exp;
branches;
next	1.1068;

1.1068
date	2006.05.24.07.58.15;	author nickc;	state Exp;
branches;
next	1.1067;

1.1067
date	2006.05.23.09.28.20;	author nickc;	state Exp;
branches;
next	1.1066;

1.1066
date	2006.05.22.15.02.34;	author drow;	state Exp;
branches;
next	1.1065;

1.1065
date	2006.05.22.08.30.57;	author nickc;	state Exp;
branches;
next	1.1064;

1.1064
date	2006.05.22.08.25.14;	author nickc;	state Exp;
branches;
next	1.1063;

1.1063
date	2006.05.19.13.11.58;	author schwab;	state Exp;
branches;
next	1.1062;

1.1062
date	2006.05.19.13.10.58;	author schwab;	state Exp;
branches;
next	1.1061;

1.1061
date	2006.05.17.21.40.43;	author carlos;	state Exp;
branches;
next	1.1060;

1.1060
date	2006.05.15.14.50.38;	author hjl;	state Exp;
branches;
next	1.1059;

1.1059
date	2006.05.02.14.20.46;	author drow;	state Exp;
branches;
next	1.1058;

1.1058
date	2006.04.26.15.43.17;	author jules;	state Exp;
branches;
next	1.1057;

1.1057
date	2006.04.19.12.10.00;	author amodra;	state Exp;
branches;
next	1.1056;

1.1056
date	2006.04.19.02.06.14;	author amodra;	state Exp;
branches;
next	1.1055;

1.1055
date	2006.04.18.09.41.36;	author nickc;	state Exp;
branches;
next	1.1054;

1.1054
date	2006.04.12.13.06.17;	author nickc;	state Exp;
branches
	1.1054.2.1;
next	1.1053;

1.1053
date	2006.04.10.03.59.57;	author bje;	state Exp;
branches;
next	1.1052;

1.1052
date	2006.04.06.21.49.26;	author carlos;	state Exp;
branches;
next	1.1051;

1.1051
date	2006.04.05.16.12.01;	author ebotcazou;	state Exp;
branches;
next	1.1050;

1.1050
date	2006.03.29.00.24.27;	author bje;	state Exp;
branches;
next	1.1049;

1.1049
date	2006.03.20.18.53.48;	author nathan;	state Exp;
branches;
next	1.1048;

1.1048
date	2006.03.19.22.27.19;	author pbrook;	state Exp;
branches
	1.1048.2.1;
next	1.1047;

1.1047
date	2006.03.16.12.20.16;	author amodra;	state Exp;
branches;
next	1.1046;

1.1046
date	2006.03.13.22.27.22;	author bje;	state Exp;
branches;
next	1.1045;

1.1045
date	2006.03.10.17.20.28;	author pbrook;	state Exp;
branches;
next	1.1044;

1.1044
date	2006.03.10.13.30.10;	author amodra;	state Exp;
branches;
next	1.1043;

1.1043
date	2006.03.09.21.50.53;	author dannysmith;	state Exp;
branches;
next	1.1042;

1.1042
date	2006.03.09.20.28.48;	author dannysmith;	state Exp;
branches;
next	1.1041;

1.1041
date	2006.03.06.13.42.03;	author nathan;	state Exp;
branches;
next	1.1040;

1.1040
date	2006.03.03.18.29.40;	author jakub;	state Exp;
branches;
next	1.1039;

1.1039
date	2006.02.28.16.09.01;	author nickc;	state Exp;
branches;
next	1.1038;

1.1038
date	2006.02.27.16.26.22;	author carlos;	state Exp;
branches;
next	1.1037;

1.1037
date	2006.02.17.12.58.46;	author skrll;	state Exp;
branches;
next	1.1036;

1.1036
date	2006.02.14.08.59.09;	author jakub;	state Exp;
branches;
next	1.1035;

1.1035
date	2006.02.10.15.04.18;	author hjl;	state Exp;
branches;
next	1.1034;

1.1034
date	2006.02.09.11.49.53;	author ebotcazou;	state Exp;
branches;
next	1.1033;

1.1033
date	2006.02.08.16.47.14;	author hjl;	state Exp;
branches;
next	1.1032;

1.1032
date	2006.02.07.19.01.09;	author nathan;	state Exp;
branches;
next	1.1031;

1.1031
date	2006.02.02.22.53.46;	author hjl;	state Exp;
branches;
next	1.1030;

1.1030
date	2006.02.02.22.05.55;	author hjl;	state Exp;
branches;
next	1.1029;

1.1029
date	2006.01.30.13.06.53;	author nickc;	state Exp;
branches;
next	1.1028;

1.1028
date	2006.01.26.14.43.55;	author nickc;	state Exp;
branches;
next	1.1027;

1.1027
date	2006.01.18.21.07.48;	author aoliva;	state Exp;
branches;
next	1.1026;

1.1026
date	2006.01.18.11.01.08;	author nickc;	state Exp;
branches;
next	1.1025;

1.1025
date	2006.01.17.17.39.18;	author schwab;	state Exp;
branches;
next	1.1024;

1.1024
date	2006.01.16.23.15.06;	author amodra;	state Exp;
branches;
next	1.1023;

1.1023
date	2006.01.10.22.34.03;	author amodra;	state Exp;
branches;
next	1.1022;

1.1022
date	2006.01.10.22.14.18;	author amodra;	state Exp;
branches;
next	1.1021;

1.1021
date	2006.01.09.17.21.17;	author nickc;	state Exp;
branches;
next	1.1020;

1.1020
date	2005.12.30.08.27.16;	author jiez;	state Exp;
branches;
next	1.1019;

1.1019
date	2005.12.27.19.43.47;	author jbglaw;	state Exp;
branches;
next	1.1018;

1.1018
date	2005.12.27.01.20.35;	author amodra;	state Exp;
branches;
next	1.1017;

1.1017
date	2005.12.23.09.43.28;	author nickc;	state Exp;
branches;
next	1.1016;

1.1016
date	2005.12.22.18.11.09;	author nickc;	state Exp;
branches;
next	1.1015;

1.1015
date	2005.12.21.15.56.46;	author hjl;	state Exp;
branches;
next	1.1014;

1.1014
date	2005.12.16.10.23.06;	author nathan;	state Exp;
branches;
next	1.1013;

1.1013
date	2005.12.12.11.25.01;	author nathan;	state Exp;
branches;
next	1.1012;

1.1012
date	2005.11.30.21.02.04;	author nickc;	state Exp;
branches;
next	1.1011;

1.1011
date	2005.11.21.14.26.05;	author arnoldm;	state Exp;
branches;
next	1.1010;

1.1010
date	2005.11.17.16.58.27;	author aph;	state Exp;
branches;
next	1.1009;

1.1009
date	2005.11.17.01.01.04;	author mmitchel;	state Exp;
branches;
next	1.1008;

1.1008
date	2005.11.15.08.33.38;	author jbeulich;	state Exp;
branches;
next	1.1007;

1.1007
date	2005.11.14.15.00.30;	author drow;	state Exp;
branches;
next	1.1006;

1.1006
date	2005.11.11.11.06.34;	author nickc;	state Exp;
branches;
next	1.1005;

1.1005
date	2005.11.07.22.15.44;	author sje;	state Exp;
branches;
next	1.1004;

1.1004
date	2005.10.30.17.40.28;	author hjl;	state Exp;
branches;
next	1.1003;

1.1003
date	2005.10.25.02.20.16;	author amodra;	state Exp;
branches;
next	1.1002;

1.1002
date	2005.10.24.18.23.27;	author bernds;	state Exp;
branches;
next	1.1001;

1.1001
date	2005.10.18.07.40.11;	author jiez;	state Exp;
branches;
next	1.1000;

1.1000
date	2005.10.12.00.16.12;	author dannysmith;	state Exp;
branches;
next	1.999;

1.999
date	2005.10.11.16.33.15;	author nickc;	state Exp;
branches;
next	1.998;

1.998
date	2005.10.11.04.49.16;	author mmitchel;	state Exp;
branches;
next	1.997;

1.997
date	2005.10.10.18.42.11;	author hjl;	state Exp;
branches;
next	1.996;

1.996
date	2005.10.10.15.54.42;	author nickc;	state Exp;
branches;
next	1.995;

1.995
date	2005.10.10.08.41.25;	author nickc;	state Exp;
branches;
next	1.994;

1.994
date	2005.10.04.11.03.38;	author nickc;	state Exp;
branches;
next	1.993;

1.993
date	2005.10.03.19.37.44;	author mmitchel;	state Exp;
branches;
next	1.992;

1.992
date	2005.10.03.14.40.19;	author hjl;	state Exp;
branches;
next	1.991;

1.991
date	2005.10.01.02.25.15;	author pbrook;	state Exp;
branches;
next	1.990;

1.990
date	2005.09.30.20.04.20;	author mmitchel;	state Exp;
branches;
next	1.989;

1.989
date	2005.09.30.18.50.44;	author hjl;	state Exp;
branches;
next	1.988;

1.988
date	2005.09.30.18.48.16;	author hjl;	state Exp;
branches;
next	1.987;

1.987
date	2005.09.30.16.37.30;	author mmitchel;	state Exp;
branches;
next	1.986;

1.986
date	2005.09.30.16.03.44;	author hjl;	state Exp;
branches;
next	1.985;

1.985
date	2005.09.30.15.19.52;	author clm;	state Exp;
branches;
next	1.984;

1.984
date	2005.09.30.14.57.50;	author hjl;	state Exp;
branches;
next	1.983;

1.983
date	2005.09.30.14.56.32;	author hjl;	state Exp;
branches;
next	1.982;

1.982
date	2005.09.30.14.53.23;	author hjl;	state Exp;
branches;
next	1.981;

1.981
date	2005.09.30.14.52.17;	author hjl;	state Exp;
branches;
next	1.980;

1.980
date	2005.09.30.11.42.04;	author nickc;	state Exp;
branches;
next	1.979;

1.979
date	2005.09.26.21.09.03;	author mmitchel;	state Exp;
branches;
next	1.978;

1.978
date	2005.09.20.17.55.13;	author rth;	state Exp;
branches;
next	1.977;

1.977
date	2005.09.09.13.12.20;	author rearnsha;	state Exp;
branches;
next	1.976;

1.976
date	2005.09.07.16.25.35;	author hjl;	state Exp;
branches;
next	1.975;

1.975
date	2005.09.02.13.36.33;	author hjl;	state Exp;
branches;
next	1.974;

1.974
date	2005.08.17.14.28.00;	author hjl;	state Exp;
branches;
next	1.973;

1.973
date	2005.08.16.19.35.20;	author hjl;	state Exp;
branches;
next	1.972;

1.972
date	2005.08.16.09.25.21;	author jakub;	state Exp;
branches;
next	1.971;

1.971
date	2005.08.15.15.37.02;	author drow;	state Exp;
branches;
next	1.970;

1.970
date	2005.08.14.22.34.11;	author danglin;	state Exp;
branches;
next	1.969;

1.969
date	2005.08.13.23.59.42;	author danglin;	state Exp;
branches;
next	1.968;

1.968
date	2005.08.11.13.14.25;	author hjl;	state Exp;
branches;
next	1.967;

1.967
date	2005.08.04.20.01.53;	author danglin;	state Exp;
branches;
next	1.966;

1.966
date	2005.08.01.16.54.07;	author nickc;	state Exp;
branches;
next	1.965;

1.965
date	2005.07.25.15.41.03;	author hjl;	state Exp;
branches;
next	1.964;

1.964
date	2005.07.21.18.23.57;	author echristo;	state Exp;
branches;
next	1.963;

1.963
date	2005.07.19.10.01.32;	author nickc;	state Exp;
branches;
next	1.962;

1.962
date	2005.07.19.00.58.51;	author bje;	state Exp;
branches;
next	1.961;

1.961
date	2005.07.18.04.13.04;	author bje;	state Exp;
branches;
next	1.960;

1.960
date	2005.07.16.02.03.50;	author amodra;	state Exp;
branches;
next	1.959;

1.959
date	2005.07.15.19.22.37;	author echristo;	state Exp;
branches;
next	1.958;

1.958
date	2005.07.14.22.51.57;	author jimb;	state Exp;
branches;
next	1.957;

1.957
date	2005.07.08.05.32.45;	author bje;	state Exp;
branches;
next	1.956;

1.956
date	2005.07.07.19.27.32;	author wilson;	state Exp;
branches;
next	1.955;

1.955
date	2005.07.05.11.43.54;	author nickc;	state Exp;
branches;
next	1.954;

1.954
date	2005.07.04.01.53.41;	author amodra;	state Exp;
branches;
next	1.953;

1.953
date	2005.07.01.15.19.45;	author sje;	state Exp;
branches;
next	1.952;

1.952
date	2005.06.30.00.54.04;	author bje;	state Exp;
branches;
next	1.951;

1.951
date	2005.06.29.20.29.59;	author bje;	state Exp;
branches;
next	1.950;

1.950
date	2005.06.17.13.37.24;	author jakub;	state Exp;
branches;
next	1.949;

1.949
date	2005.06.16.09.18.19;	author nickc;	state Exp;
branches;
next	1.948;

1.948
date	2005.06.14.13.26.41;	author hjl;	state Exp;
branches;
next	1.947;

1.947
date	2005.06.14.11.06.28;	author jakub;	state Exp;
branches;
next	1.946;

1.946
date	2005.06.09.14.51.41;	author jakub;	state Exp;
branches;
next	1.945;

1.945
date	2005.06.07.23.56.47;	author echristo;	state Exp;
branches;
next	1.944;

1.944
date	2005.06.07.21.14.09;	author aldyh;	state Exp;
branches;
next	1.943;

1.943
date	2005.06.06.14.28.31;	author hjl;	state Exp;
branches;
next	1.942;

1.942
date	2005.06.06.06.53.07;	author amodra;	state Exp;
branches;
next	1.941;

1.941
date	2005.06.03.21.33.48;	author wilson;	state Exp;
branches;
next	1.940;

1.940
date	2005.06.03.13.22.13;	author nickc;	state Exp;
branches;
next	1.939;

1.939
date	2005.05.31.22.52.50;	author rth;	state Exp;
branches;
next	1.938;

1.938
date	2005.05.29.23.18.50;	author rth;	state Exp;
branches;
next	1.937;

1.937
date	2005.05.24.13.53.30;	author hjl;	state Exp;
branches;
next	1.936;

1.936
date	2005.05.23.17.45.42;	author fnf;	state Exp;
branches;
next	1.935;

1.935
date	2005.05.23.12.12.00;	author nickc;	state Exp;
branches;
next	1.934;

1.934
date	2005.05.19.23.49.44;	author zack;	state Exp;
branches;
next	1.933;

1.933
date	2005.05.18.22.42.07;	author bje;	state Exp;
branches;
next	1.932;

1.932
date	2005.05.17.19.43.37;	author drow;	state Exp;
branches;
next	1.931;

1.931
date	2005.05.17.16.08.53;	author nickc;	state Exp;
branches;
next	1.930;

1.930
date	2005.05.15.18.19.37;	author drow;	state Exp;
branches;
next	1.929;

1.929
date	2005.05.14.05.07.19;	author amodra;	state Exp;
branches;
next	1.928;

1.928
date	2005.05.14.01.38.14;	author fnf;	state Exp;
branches;
next	1.927;

1.927
date	2005.05.13.18.35.55;	author hjl;	state Exp;
branches;
next	1.926;

1.926
date	2005.05.12.09.05.35;	author nickc;	state Exp;
branches;
next	1.925;

1.925
date	2005.05.11.14.10.57;	author amodra;	state Exp;
branches;
next	1.924;

1.924
date	2005.05.08.14.17.37;	author nickc;	state Exp;
branches;
next	1.923;

1.923
date	2005.05.06.06.32.42;	author jbeulich;	state Exp;
branches;
next	1.922;

1.922
date	2005.05.02.23.41.38;	author bje;	state Exp;
branches;
next	1.921;

1.921
date	2005.05.01.16.02.55;	author macro;	state Exp;
branches;
next	1.920;

1.920
date	2005.04.29.16.49.18;	author hjl;	state Exp;
branches;
next	1.919;

1.919
date	2005.04.29.01.15.21;	author bje;	state Exp;
branches;
next	1.918;

1.918
date	2005.04.29.00.03.30;	author bje;	state Exp;
branches;
next	1.917;

1.917
date	2005.04.27.01.29.58;	author bje;	state Exp;
branches;
next	1.916;

1.916
date	2005.04.25.14.26.59;	author nickc;	state Exp;
branches;
next	1.915;

1.915
date	2005.04.25.09.23.22;	author nickc;	state Exp;
branches;
next	1.914;

1.914
date	2005.04.20.18.43.15;	author drow;	state Exp;
branches;
next	1.913;

1.913
date	2005.04.19.21.29.46;	author hjl;	state Exp;
branches;
next	1.912;

1.912
date	2005.04.17.14.33.06;	author hjl;	state Exp;
branches;
next	1.911;

1.911
date	2005.04.16.07.43.54;	author nickc;	state Exp;
branches;
next	1.910;

1.910
date	2005.04.15.16.28.51;	author nickc;	state Exp;
branches;
next	1.909;

1.909
date	2005.04.14.05.26.26;	author amodra;	state Exp;
branches;
next	1.908;

1.908
date	2005.04.12.02.50.25;	author amodra;	state Exp;
branches;
next	1.907;

1.907
date	2005.04.11.15.16.22;	author jbeulich;	state Exp;
branches;
next	1.906;

1.906
date	2005.04.06.14.45.51;	author hjl;	state Exp;
branches;
next	1.905;

1.905
date	2005.04.04.15.07.17;	author macro;	state Exp;
branches;
next	1.904;

1.904
date	2005.04.04.14.56.11;	author macro;	state Exp;
branches;
next	1.903;

1.903
date	2005.04.04.10.32.27;	author nickc;	state Exp;
branches;
next	1.902;

1.902
date	2005.04.01.15.09.43;	author hjl;	state Exp;
branches;
next	1.901;

1.901
date	2005.04.01.00.03.17;	author hjl;	state Exp;
branches;
next	1.900;

1.900
date	2005.03.31.14.40.38;	author nickc;	state Exp;
branches;
next	1.899;

1.899
date	2005.03.29.16.13.45;	author nickc;	state Exp;
branches;
next	1.898;

1.898
date	2005.03.29.06.23.59;	author anilp1;	state Exp;
branches;
next	1.897;

1.897
date	2005.03.28.12.28.16;	author aaronwl;	state Exp;
branches;
next	1.896;

1.896
date	2005.03.25.15.42.29;	author drow;	state Exp;
branches;
next	1.895;

1.895
date	2005.03.25.15.23.18;	author kettenis;	state Exp;
branches;
next	1.894;

1.894
date	2005.03.24.21.26.20;	author dannysmith;	state Exp;
branches;
next	1.893;

1.893
date	2005.03.24.18.04.38;	author diwil;	state Exp;
branches;
next	1.892;

1.892
date	2005.03.23.09.44.05;	author nickc;	state Exp;
branches;
next	1.891;

1.891
date	2005.03.22.07.49.41;	author nickc;	state Exp;
branches;
next	1.890;

1.890
date	2005.03.18.17.06.13;	author mmitchel;	state Exp;
branches;
next	1.889;

1.889
date	2005.03.18.16.28.10;	author pbrook;	state Exp;
branches;
next	1.888;

1.888
date	2005.03.17.13.21.31;	author dnovillo;	state Exp;
branches;
next	1.887;

1.887
date	2005.03.16.17.18.15;	author nickc;	state Exp;
branches;
next	1.886;

1.886
date	2005.03.16.16.17.02;	author nickc;	state Exp;
branches;
next	1.885;

1.885
date	2005.03.15.17.45.17;	author nickc;	state Exp;
branches;
next	1.884;

1.884
date	2005.03.15.05.25.23;	author amodra;	state Exp;
branches;
next	1.883;

1.883
date	2005.03.14.23.39.07;	author amodra;	state Exp;
branches;
next	1.882;

1.882
date	2005.03.13.23.42.46;	author amodra;	state Exp;
branches;
next	1.881;

1.881
date	2005.03.11.08.36.24;	author nickc;	state Exp;
branches;
next	1.880;

1.880
date	2005.03.10.16.15.23;	author nickc;	state Exp;
branches;
next	1.879;

1.879
date	2005.03.10.10.39.28;	author nickc;	state Exp;
branches;
next	1.878;

1.878
date	2005.03.05.12.14.27;	author amodra;	state Exp;
branches
	1.878.2.1;
next	1.877;

1.877
date	2005.03.02.09.03.52;	author jbeulich;	state Exp;
branches;
next	1.876;

1.876
date	2005.03.01.15.18.40;	author nickc;	state Exp;
branches;
next	1.875;

1.875
date	2005.02.28.15.27.14;	author jakub;	state Exp;
branches;
next	1.874;

1.874
date	2005.02.25.22.12.11;	author hjl;	state Exp;
branches;
next	1.873;

1.873
date	2005.02.23.12.25.56;	author amodra;	state Exp;
branches;
next	1.872;

1.872
date	2005.02.22.12.57.26;	author amodra;	state Exp;
branches;
next	1.871;

1.871
date	2005.02.22.00.50.06;	author hjl;	state Exp;
branches;
next	1.870;

1.870
date	2005.02.21.11.48.57;	author amodra;	state Exp;
branches;
next	1.869;

1.869
date	2005.02.21.02.55.56;	author amodra;	state Exp;
branches;
next	1.868;

1.868
date	2005.02.18.15.58.45;	author hjl;	state Exp;
branches;
next	1.867;

1.867
date	2005.02.18.02.22.02;	author jsm28;	state Exp;
branches;
next	1.866;

1.866
date	2005.02.17.12.59.59;	author amodra;	state Exp;
branches;
next	1.865;

1.865
date	2005.02.15.14.31.13;	author nickc;	state Exp;
branches;
next	1.864;

1.864
date	2005.02.11.15.48.11;	author hjl;	state Exp;
branches;
next	1.863;

1.863
date	2005.02.10.23.31.53;	author ian;	state Exp;
branches;
next	1.862;

1.862
date	2005.02.10.08.01.39;	author mmitchel;	state Exp;
branches;
next	1.861;

1.861
date	2005.02.07.16.05.10;	author nickc;	state Exp;
branches;
next	1.860;

1.860
date	2005.01.31.20.35.23;	author rsandifo;	state Exp;
branches;
next	1.859;

1.859
date	2005.01.31.20.32.35;	author cagney;	state Exp;
branches;
next	1.858;

1.858
date	2005.01.31.17.36.19;	author nickc;	state Exp;
branches;
next	1.857;

1.857
date	2005.01.25.10.33.54;	author amodra;	state Exp;
branches;
next	1.856;

1.856
date	2005.01.21.05.40.23;	author bje;	state Exp;
branches;
next	1.855;

1.855
date	2005.01.21.03.14.37;	author mmitchel;	state Exp;
branches;
next	1.854;

1.854
date	2005.01.20.21.59.05;	author mmitchel;	state Exp;
branches;
next	1.853;

1.853
date	2005.01.19.23.35.25;	author fnf;	state Exp;
branches;
next	1.852;

1.852
date	2005.01.17.16.24.12;	author nickc;	state Exp;
branches;
next	1.851;

1.851
date	2005.01.16.23.47.39;	author thorpej;	state Exp;
branches;
next	1.850;

1.850
date	2005.01.16.09.25.05;	author dannysmith;	state Exp;
branches;
next	1.849;

1.849
date	2005.01.11.11.58.49;	author nickc;	state Exp;
branches;
next	1.848;

1.848
date	2005.01.10.17.28.36;	author hjl;	state Exp;
branches;
next	1.847;

1.847
date	2005.01.10.09.54.48;	author schwab;	state Exp;
branches;
next	1.846;

1.846
date	2005.01.05.17.29.41;	author hjl;	state Exp;
branches;
next	1.845;

1.845
date	2005.01.05.16.15.47;	author hjl;	state Exp;
branches;
next	1.844;

1.844
date	2005.01.04.23.37.18;	author hjl;	state Exp;
branches;
next	1.843;

1.843
date	2005.01.04.15.47.38;	author nickc;	state Exp;
branches;
next	1.842;

1.842
date	2005.01.04.11.20.43;	author nickc;	state Exp;
branches;
next	1.841;

1.841
date	2004.12.30.22.33.20;	author amodra;	state Exp;
branches;
next	1.840;

1.840
date	2004.12.27.19.08.30;	author hjl;	state Exp;
branches;
next	1.839;

1.839
date	2004.12.22.11.04.44;	author nickc;	state Exp;
branches;
next	1.838;

1.838
date	2004.12.16.13.16.30;	author jbeulich;	state Exp;
branches;
next	1.837;

1.837
date	2004.12.09.06.19.11;	author ian;	state Exp;
branches;
next	1.836;

1.836
date	2004.12.09.01.46.27;	author bje;	state Exp;
branches;
next	1.835;

1.835
date	2004.12.08.02.50.40;	author bje;	state Exp;
branches;
next	1.834;

1.834
date	2004.12.06.21.20.48;	author bje;	state Exp;
branches;
next	1.833;

1.833
date	2004.12.06.05.45.24;	author bje;	state Exp;
branches;
next	1.832;

1.832
date	2004.12.06.05.35.30;	author bje;	state Exp;
branches;
next	1.831;

1.831
date	2004.12.03.10.30.07;	author rsandifo;	state Exp;
branches;
next	1.830;

1.830
date	2004.11.30.17.20.37;	author nickc;	state Exp;
branches;
next	1.829;

1.829
date	2004.11.10.16.10.15;	author ian;	state Exp;
branches;
next	1.828;

1.828
date	2004.11.10.06.54.07;	author dannysmith;	state Exp;
branches;
next	1.827;

1.827
date	2004.11.08.08.12.47;	author nickc;	state Exp;
branches;
next	1.826;

1.826
date	2004.11.03.10.44.43;	author nickc;	state Exp;
branches;
next	1.825;

1.825
date	2004.11.03.02.21.57;	author amodra;	state Exp;
branches;
next	1.824;

1.824
date	2004.11.02.09.54.12;	author nickc;	state Exp;
branches;
next	1.823;

1.823
date	2004.10.26.16.05.39;	author nickc;	state Exp;
branches;
next	1.822;

1.822
date	2004.10.26.08.08.20;	author jakub;	state Exp;
branches;
next	1.821;

1.821
date	2004.10.25.15.25.20;	author ian;	state Exp;
branches;
next	1.820;

1.820
date	2004.10.25.15.24.24;	author hjl;	state Exp;
branches;
next	1.819;

1.819
date	2004.10.25.09.59.00;	author nickc;	state Exp;
branches;
next	1.818;

1.818
date	2004.10.23.17.26.35;	author nickc;	state Exp;
branches;
next	1.817;

1.817
date	2004.10.19.19.30.33;	author hjl;	state Exp;
branches;
next	1.816;

1.816
date	2004.10.18.14.04.40;	author nickc;	state Exp;
branches;
next	1.815;

1.815
date	2004.10.18.13.44.48;	author nickc;	state Exp;
branches;
next	1.814;

1.814
date	2004.10.18.07.26.29;	author amodra;	state Exp;
branches;
next	1.813;

1.813
date	2004.10.18.07.08.52;	author amodra;	state Exp;
branches;
next	1.812;

1.812
date	2004.10.14.09.36.54;	author nickc;	state Exp;
branches;
next	1.811;

1.811
date	2004.10.13.14.33.49;	author jakub;	state Exp;
branches;
next	1.810;

1.810
date	2004.10.12.14.17.01;	author pbrook;	state Exp;
branches;
next	1.809;

1.809
date	2004.10.11.08.18.42;	author amodra;	state Exp;
branches;
next	1.808;

1.808
date	2004.10.08.14.54.03;	author nickc;	state Exp;
branches;
next	1.807;

1.807
date	2004.10.08.13.54.58;	author drow;	state Exp;
branches;
next	1.806;

1.806
date	2004.10.08.09.49.14;	author nickc;	state Exp;
branches;
next	1.805;

1.805
date	2004.10.07.21.01.42;	author aoliva;	state Exp;
branches;
next	1.804;

1.804
date	2004.10.01.12.59.41;	author nickc;	state Exp;
branches;
next	1.803;

1.803
date	2004.10.01.08.30.37;	author nickc;	state Exp;
branches;
next	1.802;

1.802
date	2004.09.28.16.26.39;	author nickc;	state Exp;
branches;
next	1.801;

1.801
date	2004.09.22.07.24.12;	author amodra;	state Exp;
branches;
next	1.800;

1.800
date	2004.09.17.06.23.16;	author amodra;	state Exp;
branches;
next	1.799;

1.799
date	2004.09.12.05.52.44;	author amodra;	state Exp;
branches;
next	1.798;

1.798
date	2004.09.09.11.52.40;	author nickc;	state Exp;
branches;
next	1.797;

1.797
date	2004.09.07.17.00.54;	author hjl;	state Exp;
branches;
next	1.796;

1.796
date	2004.09.06.20.00.55;	author dannysmith;	state Exp;
branches;
next	1.795;

1.795
date	2004.09.06.08.09.08;	author nickc;	state Exp;
branches;
next	1.794;

1.794
date	2004.09.06.08.07.41;	author nickc;	state Exp;
branches;
next	1.793;

1.793
date	2004.09.04.10.09.52;	author dannysmith;	state Exp;
branches;
next	1.792;

1.792
date	2004.09.04.10.08.10;	author dannysmith;	state Exp;
branches;
next	1.791;

1.791
date	2004.09.02.17.27.43;	author nickc;	state Exp;
branches;
next	1.790;

1.790
date	2004.09.02.15.55.35;	author nickc;	state Exp;
branches;
next	1.789;

1.789
date	2004.09.02.08.25.06;	author aoliva;	state Exp;
branches;
next	1.788;

1.788
date	2004.08.28.08.55.47;	author amodra;	state Exp;
branches;
next	1.787;

1.787
date	2004.08.28.03.05.18;	author amodra;	state Exp;
branches;
next	1.786;

1.786
date	2004.08.17.09.07.34;	author jakub;	state Exp;
branches;
next	1.785;

1.785
date	2004.08.16.00.09.19;	author amodra;	state Exp;
branches;
next	1.784;

1.784
date	2004.08.06.13.13.28;	author schwab;	state Exp;
branches;
next	1.783;

1.783
date	2004.08.02.08.14.17;	author nickc;	state Exp;
branches;
next	1.782;

1.782
date	2004.07.29.05.17.39;	author aoliva;	state Exp;
branches;
next	1.781;

1.781
date	2004.07.28.08.55.40;	author aoliva;	state Exp;
branches;
next	1.780;

1.780
date	2004.07.21.15.42.58;	author hjl;	state Exp;
branches;
next	1.779;

1.779
date	2004.07.15.15.11.56;	author nickc;	state Exp;
branches;
next	1.778;

1.778
date	2004.07.13.16.46.50;	author nickc;	state Exp;
branches;
next	1.777;

1.777
date	2004.07.12.17.07.54;	author nickc;	state Exp;
branches;
next	1.776;

1.776
date	2004.07.09.16.20.05;	author nickc;	state Exp;
branches;
next	1.775;

1.775
date	2004.07.07.17.28.46;	author nickc;	state Exp;
branches;
next	1.774;

1.774
date	2004.07.03.16.07.47;	author cgf;	state Exp;
branches;
next	1.773;

1.773
date	2004.06.24.06.25.35;	author bje;	state Exp;
branches;
next	1.772;

1.772
date	2004.06.24.04.46.27;	author amodra;	state Exp;
branches;
next	1.771;

1.771
date	2004.06.22.10.36.14;	author amodra;	state Exp;
branches;
next	1.770;

1.770
date	2004.06.22.07.58.53;	author amodra;	state Exp;
branches;
next	1.769;

1.769
date	2004.06.22.05.17.55;	author amodra;	state Exp;
branches;
next	1.768;

1.768
date	2004.06.18.17.18.58;	author nickc;	state Exp;
branches;
next	1.767;

1.767
date	2004.06.15.01.19.13;	author amodra;	state Exp;
branches;
next	1.766;

1.766
date	2004.05.29.00.12.03;	author ian;	state Exp;
branches;
next	1.765;

1.765
date	2004.05.17.16.39.58;	author bwilson;	state Exp;
branches;
next	1.764;

1.764
date	2004.05.13.14.41.17;	author nickc;	state Exp;
branches;
next	1.763;

1.763
date	2004.05.13.12.54.33;	author nickc;	state Exp;
branches;
next	1.762;

1.762
date	2004.05.11.17.08.32;	author jakub;	state Exp;
branches;
next	1.761;

1.761
date	2004.05.07.15.33.36;	author hjl;	state Exp;
branches;
next	1.760;

1.760
date	2004.04.30.14.56.02;	author hjl;	state Exp;
branches;
next	1.759;

1.759
date	2004.04.30.07.37.10;	author nickc;	state Exp;
branches;
next	1.758;

1.758
date	2004.04.27.06.31.16;	author amodra;	state Exp;
branches;
next	1.757;

1.757
date	2004.04.27.03.59.09;	author hjl;	state Exp;
branches;
next	1.756;

1.756
date	2004.04.24.12.39.47;	author amodra;	state Exp;
branches;
next	1.755;

1.755
date	2004.04.22.14.45.30;	author jakub;	state Exp;
branches;
next	1.754;

1.754
date	2004.04.14.05.49.59;	author amodra;	state Exp;
branches;
next	1.753;

1.753
date	2004.04.07.05.11.23;	author amodra;	state Exp;
branches;
next	1.752;

1.752
date	2004.04.01.10.07.44;	author nickc;	state Exp;
branches;
next	1.751;

1.751
date	2004.03.30.19.20.57;	author shebs;	state Exp;
branches;
next	1.750;

1.750
date	2004.03.23.23.05.50;	author pbrook;	state Exp;
branches;
next	1.749;

1.749
date	2004.03.22.03.55.49;	author rth;	state Exp;
branches;
next	1.748;

1.748
date	2004.03.19.07.03.39;	author amodra;	state Exp;
branches;
next	1.747;

1.747
date	2004.03.15.12.31.41;	author nathan;	state Exp;
branches;
next	1.746;

1.746
date	2004.03.10.02.58.23;	author bje;	state Exp;
branches;
next	1.745;

1.745
date	2004.03.08.11.50.36;	author nickc;	state Exp;
branches;
next	1.744;

1.744
date	2004.02.27.11.04.35;	author schwab;	state Exp;
branches;
next	1.743;

1.743
date	2004.02.23.08.45.05;	author nickc;	state Exp;
branches;
next	1.742;

1.742
date	2004.02.21.21.28.22;	author cgf;	state Exp;
branches;
next	1.741;

1.741
date	2004.02.19.17.15.28;	author jakub;	state Exp;
branches;
next	1.740;

1.740
date	2004.02.15.02.24.53;	author cagney;	state Exp;
branches
	1.740.2.1;
next	1.739;

1.739
date	2004.01.29.00.27.46;	author roland;	state Exp;
branches;
next	1.738;

1.738
date	2004.01.20.13.08.47;	author nickc;	state Exp;
branches;
next	1.737;

1.737
date	2004.01.14.13.41.36;	author macro;	state Exp;
branches;
next	1.736;

1.736
date	2004.01.13.15.41.00;	author jakub;	state Exp;
branches;
next	1.735;

1.735
date	2004.01.12.21.04.03;	author ian;	state Exp;
branches;
next	1.734;

1.734
date	2004.01.12.13.10.02;	author nickc;	state Exp;
branches;
next	1.733;

1.733
date	2004.01.07.18.50.51;	author nickc;	state Exp;
branches;
next	1.732;

1.732
date	2004.01.02.22.54.47;	author amodra;	state Exp;
branches;
next	1.731;

1.731
date	2004.01.02.17.08.04;	author nickc;	state Exp;
branches;
next	1.730;

1.730
date	2004.01.02.11.16.19;	author amodra;	state Exp;
branches;
next	1.729;

1.729
date	2003.12.31.14.24.54;	author drow;	state Exp;
branches;
next	1.728;

1.728
date	2003.12.29.14.22.07;	author nickc;	state Exp;
branches;
next	1.727;

1.727
date	2003.12.23.13.01.11;	author macro;	state Exp;
branches;
next	1.726;

1.726
date	2003.12.22.10.49.59;	author jakub;	state Exp;
branches;
next	1.725;

1.725
date	2003.12.19.11.43.46;	author nickc;	state Exp;
branches;
next	1.724;

1.724
date	2003.12.11.13.22.51;	author nickc;	state Exp;
branches;
next	1.723;

1.723
date	2003.12.04.18.24.06;	author nickc;	state Exp;
branches;
next	1.722;

1.722
date	2003.11.29.04.03.22;	author ian;	state Exp;
branches;
next	1.721;

1.721
date	2003.11.28.04.58.41;	author amodra;	state Exp;
branches;
next	1.720;

1.720
date	2003.11.27.08.23.59;	author nickc;	state Exp;
branches;
next	1.719;

1.719
date	2003.11.26.11.49.10;	author nickc;	state Exp;
branches;
next	1.718;

1.718
date	2003.11.25.19.50.03;	author dannysmith;	state Exp;
branches;
next	1.717;

1.717
date	2003.11.23.01.10.45;	author ian;	state Exp;
branches;
next	1.716;

1.716
date	2003.11.19.08.21.14;	author amodra;	state Exp;
branches;
next	1.715;

1.715
date	2003.11.14.15.12.42;	author nickc;	state Exp;
branches;
next	1.714;

1.714
date	2003.11.13.16.01.52;	author nickc;	state Exp;
branches;
next	1.713;

1.713
date	2003.11.11.17.50.25;	author nickc;	state Exp;
branches;
next	1.712;

1.712
date	2003.11.11.01.57.04;	author amodra;	state Exp;
branches;
next	1.711;

1.711
date	2003.11.10.17.28.33;	author nickc;	state Exp;
branches;
next	1.710;

1.710
date	2003.11.10.03.06.05;	author amodra;	state Exp;
branches;
next	1.709;

1.709
date	2003.11.07.12.19.34;	author nickc;	state Exp;
branches;
next	1.708;

1.708
date	2003.11.06.11.58.57;	author nickc;	state Exp;
branches;
next	1.707;

1.707
date	2003.10.30.14.24.01;	author nickc;	state Exp;
branches;
next	1.706;

1.706
date	2003.10.27.14.06.45;	author amodra;	state Exp;
branches;
next	1.705;

1.705
date	2003.10.27.13.20.31;	author kazu;	state Exp;
branches;
next	1.704;

1.704
date	2003.10.27.12.45.38;	author nickc;	state Exp;
branches;
next	1.703;

1.703
date	2003.10.21.14.08.12;	author nickc;	state Exp;
branches;
next	1.702;

1.702
date	2003.10.20.14.38.40;	author cagney;	state Exp;
branches;
next	1.701;

1.701
date	2003.10.07.08.53.42;	author nathan;	state Exp;
branches;
next	1.700;

1.700
date	2003.10.02.14.13.10;	author cgf;	state Exp;
branches;
next	1.699;

1.699
date	2003.09.30.16.44.03;	author cgd;	state Exp;
branches;
next	1.698;

1.698
date	2003.09.30.16.17.11;	author cgd;	state Exp;
branches;
next	1.697;

1.697
date	2003.09.30.00.15.53;	author hjl;	state Exp;
branches;
next	1.696;

1.696
date	2003.09.25.19.07.28;	author hjl;	state Exp;
branches;
next	1.695;

1.695
date	2003.09.15.14.40.44;	author green;	state Exp;
branches;
next	1.694;

1.694
date	2003.09.14.12.20.16;	author aj;	state Exp;
branches;
next	1.693;

1.693
date	2003.09.10.23.28.12;	author wilson;	state Exp;
branches;
next	1.692;

1.692
date	2003.09.09.20.22.17;	author ian;	state Exp;
branches;
next	1.691;

1.691
date	2003.09.04.12.30.27;	author nickc;	state Exp;
branches;
next	1.690;

1.690
date	2003.09.04.11.04.35;	author nickc;	state Exp;
branches;
next	1.689;

1.689
date	2003.09.03.23.43.18;	author cagney;	state Exp;
branches;
next	1.688;

1.688
date	2003.09.03.08.26.47;	author nickc;	state Exp;
branches;
next	1.687;

1.687
date	2003.09.01.22.45.05;	author amodra;	state Exp;
branches;
next	1.686;

1.686
date	2003.08.21.13.52.52;	author nickc;	state Exp;
branches;
next	1.685;

1.685
date	2003.08.14.07.15.36;	author amodra;	state Exp;
branches;
next	1.684;

1.684
date	2003.08.14.07.03.41;	author amodra;	state Exp;
branches;
next	1.683;

1.683
date	2003.08.11.16.34.18;	author ian;	state Exp;
branches;
next	1.682;

1.682
date	2003.08.11.09.15.55;	author nickc;	state Exp;
branches;
next	1.681;

1.681
date	2003.08.08.08.22.04;	author nickc;	state Exp;
branches;
next	1.680;

1.680
date	2003.08.05.14.40.54;	author amodra;	state Exp;
branches;
next	1.679;

1.679
date	2003.08.04.14.29.34;	author amodra;	state Exp;
branches;
next	1.678;

1.678
date	2003.07.30.03.54.15;	author amodra;	state Exp;
branches;
next	1.677;

1.677
date	2003.07.29.23.44.03;	author bje;	state Exp;
branches;
next	1.676;

1.676
date	2003.07.29.17.09.00;	author meissner;	state Exp;
branches;
next	1.675;

1.675
date	2003.07.29.15.40.37;	author nickc;	state Exp;
branches;
next	1.674;

1.674
date	2003.07.24.14.06.07;	author nickc;	state Exp;
branches;
next	1.673;

1.673
date	2003.07.24.11.15.59;	author nickc;	state Exp;
branches;
next	1.672;

1.672
date	2003.07.23.17.34.03;	author nickc;	state Exp;
branches;
next	1.671;

1.671
date	2003.07.22.13.33.32;	author nickc;	state Exp;
branches;
next	1.670;

1.670
date	2003.07.18.11.34.41;	author nickc;	state Exp;
branches;
next	1.669;

1.669
date	2003.07.17.17.02.46;	author nickc;	state Exp;
branches;
next	1.668;

1.668
date	2003.07.17.14.22.39;	author nickc;	state Exp;
branches;
next	1.667;

1.667
date	2003.07.11.05.10.18;	author amodra;	state Exp;
branches;
next	1.666;

1.666
date	2003.07.05.13.49.50;	author cgf;	state Exp;
branches;
next	1.665;

1.665
date	2003.07.05.02.58.29;	author cgf;	state Exp;
branches;
next	1.664;

1.664
date	2003.07.04.10.42.26;	author nickc;	state Exp;
branches;
next	1.663;

1.663
date	2003.07.01.15.54.14;	author jakub;	state Exp;
branches;
next	1.662;

1.662
date	2003.06.28.02.37.43;	author dannysmith;	state Exp;
branches;
next	1.661;

1.661
date	2003.06.27.08.01.28;	author nickc;	state Exp;
branches;
next	1.660;

1.660
date	2003.06.27.01.18.23;	author ths;	state Exp;
branches;
next	1.659;

1.659
date	2003.06.27.01.16.29;	author ths;	state Exp;
branches;
next	1.658;

1.658
date	2003.06.26.12.46.17;	author nickc;	state Exp;
branches;
next	1.657;

1.657
date	2003.06.26.08.14.10;	author nickc;	state Exp;
branches;
next	1.656;

1.656
date	2003.06.25.06.40.25;	author amodra;	state Exp;
branches;
next	1.655;

1.655
date	2003.06.19.10.23.39;	author nickc;	state Exp;
branches;
next	1.654;

1.654
date	2003.06.12.07.23.30;	author nickc;	state Exp;
branches;
next	1.653;

1.653
date	2003.06.11.01.32.07;	author hjl;	state Exp;
branches;
next	1.652;

1.652
date	2003.06.10.23.44.40;	author amodra;	state Exp;
branches;
next	1.651;

1.651
date	2003.06.03.22.27.22;	author jakub;	state Exp;
branches;
next	1.650;

1.650
date	2003.06.03.17.45.49;	author nickc;	state Exp;
branches;
next	1.649;

1.649
date	2003.06.02.14.45.12;	author thorpej;	state Exp;
branches;
next	1.648;

1.648
date	2003.05.31.19.29.19;	author rth;	state Exp;
branches;
next	1.647;

1.647
date	2003.05.20.14.37.46;	author mludvig;	state Exp;
branches;
next	1.646;

1.646
date	2003.05.16.16.30.25;	author nickc;	state Exp;
branches;
next	1.645;

1.645
date	2003.05.13.11.15.58;	author nickc;	state Exp;
branches;
next	1.644;

1.644
date	2003.05.12.11.10.24;	author nickc;	state Exp;
branches;
next	1.643;

1.643
date	2003.05.12.11.06.41;	author nickc;	state Exp;
branches;
next	1.642;

1.642
date	2003.05.12.02.14.48;	author jle;	state Exp;
branches;
next	1.641;

1.641
date	2003.05.07.14.30.12;	author hjl;	state Exp;
branches;
next	1.640;

1.640
date	2003.05.04.00.20.43;	author rth;	state Exp;
branches;
next	1.639;

1.639
date	2003.05.01.00.40.41;	author hjl;	state Exp;
branches;
next	1.638;

1.638
date	2003.04.24.07.58.49;	author nickc;	state Exp;
branches
	1.638.2.1;
next	1.637;

1.637
date	2003.04.23.21.09.03;	author amylaar;	state Exp;
branches;
next	1.636;

1.636
date	2003.04.23.17.36.07;	author nickc;	state Exp;
branches;
next	1.635;

1.635
date	2003.04.23.09.00.22;	author nickc;	state Exp;
branches;
next	1.634;

1.634
date	2003.04.22.17.31.08;	author nickc;	state Exp;
branches;
next	1.633;

1.633
date	2003.04.22.16.22.26;	author nickc;	state Exp;
branches;
next	1.632;

1.632
date	2003.04.15.08.51.51;	author nickc;	state Exp;
branches;
next	1.631;

1.631
date	2003.04.09.09.55.09;	author aoliva;	state Exp;
branches;
next	1.630;

1.630
date	2003.04.09.05.14.35;	author amodra;	state Exp;
branches;
next	1.629;

1.629
date	2003.04.09.04.07.55;	author aoliva;	state Exp;
branches;
next	1.628;

1.628
date	2003.04.05.08.21.45;	author nickc;	state Exp;
branches;
next	1.627;

1.627
date	2003.04.03.13.40.51;	author nickc;	state Exp;
branches;
next	1.626;

1.626
date	2003.04.01.23.09.29;	author cgf;	state Exp;
branches;
next	1.625;

1.625
date	2003.04.01.19.14.26;	author bwilson;	state Exp;
branches;
next	1.624;

1.624
date	2003.04.01.15.53.47;	author nickc;	state Exp;
branches;
next	1.623;

1.623
date	2003.04.01.10.52.43;	author nickc;	state Exp;
branches;
next	1.622;

1.622
date	2003.04.01.00.32.47;	author aoliva;	state Exp;
branches;
next	1.621;

1.621
date	2003.03.31.19.29.45;	author hjl;	state Exp;
branches;
next	1.620;

1.620
date	2003.03.31.13.06.01;	author nickc;	state Exp;
branches;
next	1.619;

1.619
date	2003.03.31.10.15.58;	author nickc;	state Exp;
branches;
next	1.618;

1.618
date	2003.03.24.16.11.46;	author nickc;	state Exp;
branches;
next	1.617;

1.617
date	2003.03.24.11.28.35;	author nickc;	state Exp;
branches;
next	1.616;

1.616
date	2003.03.22.21.04.50;	author dannysmith;	state Exp;
branches;
next	1.615;

1.615
date	2003.03.17.11.16.51;	author nickc;	state Exp;
branches;
next	1.614;

1.614
date	2003.03.17.10.14.06;	author nickc;	state Exp;
branches;
next	1.613;

1.613
date	2003.03.13.15.12.05;	author nickc;	state Exp;
branches;
next	1.612;

1.612
date	2003.03.13.09.11.16;	author nickc;	state Exp;
branches;
next	1.611;

1.611
date	2003.03.09.22.52.02;	author bje;	state Exp;
branches;
next	1.610;

1.610
date	2003.03.06.16.45.42;	author nickc;	state Exp;
branches;
next	1.609;

1.609
date	2003.03.04.16.23.46;	author nickc;	state Exp;
branches;
next	1.608;

1.608
date	2003.03.03.10.08.02;	author nickc;	state Exp;
branches;
next	1.607;

1.607
date	2003.02.24.16.37.13;	author nickc;	state Exp;
branches;
next	1.606;

1.606
date	2003.02.24.16.20.28;	author nickc;	state Exp;
branches;
next	1.605;

1.605
date	2003.02.22.00.16.29;	author wilson;	state Exp;
branches;
next	1.604;

1.604
date	2003.02.21.12.17.51;	author nickc;	state Exp;
branches;
next	1.603;

1.603
date	2003.02.21.10.30.34;	author nickc;	state Exp;
branches;
next	1.602;

1.602
date	2003.02.21.01.12.13;	author amodra;	state Exp;
branches;
next	1.601;

1.601
date	2003.02.20.03.31.41;	author cgf;	state Exp;
branches;
next	1.600;

1.600
date	2003.02.20.03.28.55;	author cgf;	state Exp;
branches;
next	1.599;

1.599
date	2003.02.13.10.38.37;	author nickc;	state Exp;
branches;
next	1.598;

1.598
date	2003.02.13.10.32.46;	author nickc;	state Exp;
branches;
next	1.597;

1.597
date	2003.02.13.09.56.51;	author nickc;	state Exp;
branches;
next	1.596;

1.596
date	2003.02.13.09.53.06;	author nickc;	state Exp;
branches;
next	1.595;

1.595
date	2003.02.10.10.44.48;	author nickc;	state Exp;
branches;
next	1.594;

1.594
date	2003.02.04.14.31.04;	author schwab;	state Exp;
branches;
next	1.593;

1.593
date	2003.01.28.12.51.07;	author rsandifo;	state Exp;
branches;
next	1.592;

1.592
date	2003.01.21.15.41.10;	author nickc;	state Exp;
branches;
next	1.591;

1.591
date	2003.01.17.01.34.01;	author amodra;	state Exp;
branches;
next	1.590;

1.590
date	2003.01.16.04.10.22;	author amodra;	state Exp;
branches;
next	1.589;

1.589
date	2003.01.04.02.13.46;	author scox;	state Exp;
branches;
next	1.588;

1.588
date	2003.01.02.21.17.59;	author rsandifo;	state Exp;
branches;
next	1.587;

1.587
date	2002.12.31.07.29.25;	author cgd;	state Exp;
branches;
next	1.586;

1.586
date	2002.12.30.19.25.10;	author nickc;	state Exp;
branches;
next	1.585;

1.585
date	2002.12.27.08.00.29;	author cgd;	state Exp;
branches;
next	1.584;

1.584
date	2002.12.23.13.18.02;	author schwab;	state Exp;
branches;
next	1.583;

1.583
date	2002.12.23.10.45.02;	author nickc;	state Exp;
branches;
next	1.582;

1.582
date	2002.12.23.10.37.34;	author nickc;	state Exp;
branches;
next	1.581;

1.581
date	2002.12.19.22.42.38;	author amodra;	state Exp;
branches;
next	1.580;

1.580
date	2002.12.19.14.39.30;	author kazu;	state Exp;
branches;
next	1.579;

1.579
date	2002.12.14.21.17.40;	author danglin;	state Exp;
branches;
next	1.578;

1.578
date	2002.12.13.13.19.43;	author nickc;	state Exp;
branches;
next	1.577;

1.577
date	2002.12.12.21.10.08;	author amodra;	state Exp;
branches;
next	1.576;

1.576
date	2002.12.10.17.55.00;	author nickc;	state Exp;
branches;
next	1.575;

1.575
date	2002.12.10.17.48.25;	author nickc;	state Exp;
branches;
next	1.574;

1.574
date	2002.12.08.03.38.03;	author amodra;	state Exp;
branches;
next	1.573;

1.573
date	2002.12.07.12.49.54;	author amodra;	state Exp;
branches;
next	1.572;

1.572
date	2002.12.05.18.33.26;	author wilson;	state Exp;
branches;
next	1.571;

1.571
date	2002.12.04.17.11.34;	author ian;	state Exp;
branches;
next	1.570;

1.570
date	2002.12.04.17.06.52;	author aldyh;	state Exp;
branches;
next	1.569;

1.569
date	2002.11.30.08.39.41;	author amodra;	state Exp;
branches;
next	1.568;

1.568
date	2002.11.29.00.03.30;	author jakub;	state Exp;
branches;
next	1.567;

1.567
date	2002.11.23.08.01.51;	author nickc;	state Exp;
branches;
next	1.566;

1.566
date	2002.11.18.08.28.42;	author sveinse;	state Exp;
branches;
next	1.565;

1.565
date	2002.11.14.14.38.39;	author nickc;	state Exp;
branches;
next	1.564;

1.564
date	2002.11.12.10.08.24;	author nickc;	state Exp;
branches;
next	1.563;

1.563
date	2002.11.11.23.15.37;	author amodra;	state Exp;
branches;
next	1.562;

1.562
date	2002.11.11.16.53.18;	author cgf;	state Exp;
branches;
next	1.561;

1.561
date	2002.11.11.16.06.50;	author cgf;	state Exp;
branches;
next	1.560;

1.560
date	2002.11.07.08.45.24;	author nickc;	state Exp;
branches;
next	1.559;

1.559
date	2002.11.07.08.33.15;	author nickc;	state Exp;
branches;
next	1.558;

1.558
date	2002.11.06.19.36.17;	author nickc;	state Exp;
branches;
next	1.557;

1.557
date	2002.11.06.17.32.52;	author sveinse;	state Exp;
branches;
next	1.556;

1.556
date	2002.11.06.17.02.36;	author nickc;	state Exp;
branches;
next	1.555;

1.555
date	2002.11.06.17.00.56;	author nickc;	state Exp;
branches;
next	1.554;

1.554
date	2002.11.04.03.18.41;	author amodra;	state Exp;
branches;
next	1.553;

1.553
date	2002.10.23.14.49.06;	author nickc;	state Exp;
branches;
next	1.552;

1.552
date	2002.10.23.13.39.09;	author kkojima;	state Exp;
branches;
next	1.551;

1.551
date	2002.10.22.22.40.46;	author bje;	state Exp;
branches;
next	1.550;

1.550
date	2002.10.21.07.56.36;	author nickc;	state Exp;
branches;
next	1.549;

1.549
date	2002.10.21.02.18.58;	author amodra;	state Exp;
branches;
next	1.548;

1.548
date	2002.10.15.11.34.01;	author amodra;	state Exp;
branches;
next	1.547;

1.547
date	2002.10.15.05.10.48;	author amodra;	state Exp;
branches;
next	1.546;

1.546
date	2002.10.14.12.07.58;	author amodra;	state Exp;
branches;
next	1.545;

1.545
date	2002.10.09.13.44.27;	author drow;	state Exp;
branches;
next	1.544;

1.544
date	2002.10.07.17.25.08;	author nickc;	state Exp;
branches;
next	1.543;

1.543
date	2002.10.01.03.27.56;	author hjl;	state Exp;
branches;
next	1.542;

1.542
date	2002.09.17.07.09.45;	author zack;	state Exp;
branches;
next	1.541;

1.541
date	2002.09.12.10.35.54;	author nickc;	state Exp;
branches;
next	1.540;

1.540
date	2002.09.11.13.52.13;	author nickc;	state Exp;
branches;
next	1.539;

1.539
date	2002.09.10.08.21.41;	author nickc;	state Exp;
branches;
next	1.538;

1.538
date	2002.08.29.15.43.47;	author nickc;	state Exp;
branches;
next	1.537;

1.537
date	2002.08.28.12.32.06;	author amodra;	state Exp;
branches;
next	1.536;

1.536
date	2002.08.28.10.38.45;	author nickc;	state Exp;
branches;
next	1.535;

1.535
date	2002.08.26.23.12.55;	author amodra;	state Exp;
branches;
next	1.534;

1.534
date	2002.08.26.10.14.15;	author amodra;	state Exp;
branches;
next	1.533;

1.533
date	2002.08.24.22.43.13;	author geoffk;	state Exp;
branches;
next	1.532;

1.532
date	2002.08.23.16.07.02;	author danglin;	state Exp;
branches;
next	1.531;

1.531
date	2002.08.22.17.35.41;	author nickc;	state Exp;
branches;
next	1.530;

1.530
date	2002.08.20.23.46.41;	author amodra;	state Exp;
branches;
next	1.529;

1.529
date	2002.08.17.09.59.34;	author nickc;	state Exp;
branches;
next	1.528;

1.528
date	2002.08.16.14.41.15;	author nickc;	state Exp;
branches;
next	1.527;

1.527
date	2002.08.16.11.44.03;	author nickc;	state Exp;
branches;
next	1.526;

1.526
date	2002.08.15.12.22.39;	author amodra;	state Exp;
branches;
next	1.525;

1.525
date	2002.08.14.15.13.09;	author nickc;	state Exp;
branches;
next	1.524;

1.524
date	2002.08.14.10.44.54;	author nickc;	state Exp;
branches;
next	1.523;

1.523
date	2002.08.13.13.39.02;	author hjl;	state Exp;
branches;
next	1.522;

1.522
date	2002.08.09.15.07.57;	author nickc;	state Exp;
branches;
next	1.521;

1.521
date	2002.08.05.00.54.11;	author amodra;	state Exp;
branches;
next	1.520;

1.520
date	2002.07.31.09.38.04;	author nickc;	state Exp;
branches;
next	1.519;

1.519
date	2002.07.30.14.33.38;	author jakub;	state Exp;
branches;
next	1.518;

1.518
date	2002.07.25.10.31.24;	author nickc;	state Exp;
branches;
next	1.517;

1.517
date	2002.07.24.09.37.02;	author nickc;	state Exp;
branches;
next	1.516;

1.516
date	2002.07.23.12.44.25;	author amodra;	state Exp;
branches;
next	1.515;

1.515
date	2002.07.23.09.58.01;	author nickc;	state Exp;
branches;
next	1.514;

1.514
date	2002.07.23.05.12.56;	author amodra;	state Exp;
branches;
next	1.513;

1.513
date	2002.07.23.05.12.26;	author amodra;	state Exp;
branches;
next	1.512;

1.512
date	2002.07.20.14.00.47;	author amodra;	state Exp;
branches;
next	1.511;

1.511
date	2002.07.18.11.11.13;	author nickc;	state Exp;
branches;
next	1.510;

1.510
date	2002.07.16.07.58.34;	author nickc;	state Exp;
branches;
next	1.509;

1.509
date	2002.07.10.15.28.34;	author jakub;	state Exp;
branches
	1.509.2.1;
next	1.508;

1.508
date	2002.07.02.23.48.44;	author amodra;	state Exp;
branches;
next	1.507;

1.507
date	2002.07.02.04.21.23;	author amodra;	state Exp;
branches;
next	1.506;

1.506
date	2002.07.01.16.43.37;	author thorpej;	state Exp;
branches;
next	1.505;

1.505
date	2002.06.30.18.43.33;	author ciceron;	state Exp;
branches;
next	1.504;

1.504
date	2002.06.26.15.26.52;	author nickc;	state Exp;
branches;
next	1.503;

1.503
date	2002.06.26.13.23.45;	author amodra;	state Exp;
branches;
next	1.502;

1.502
date	2002.06.26.01.12.28;	author hjl;	state Exp;
branches;
next	1.501;

1.501
date	2002.06.21.02.41.51;	author amodra;	state Exp;
branches;
next	1.500;

1.500
date	2002.06.21.02.34.36;	author amodra;	state Exp;
branches;
next	1.499;

1.499
date	2002.06.20.19.55.09;	author brolley;	state Exp;
branches;
next	1.498;

1.498
date	2002.06.19.03.07.03;	author hjl;	state Exp;
branches;
next	1.497;

1.497
date	2002.06.18.21.11.45;	author brolley;	state Exp;
branches;
next	1.496;

1.496
date	2002.06.18.14.09.02;	author jakub;	state Exp;
branches;
next	1.495;

1.495
date	2002.06.15.18.40.25;	author hjl;	state Exp;
branches;
next	1.494;

1.494
date	2002.06.13.17.04.38;	author nickc;	state Exp;
branches;
next	1.493;

1.493
date	2002.06.08.08.44.16;	author amodra;	state Exp;
branches;
next	1.492;

1.492
date	2002.06.08.07.38.30;	author amodra;	state Exp;
branches;
next	1.491;

1.491
date	2002.06.07.16.42.31;	author hjl;	state Exp;
branches;
next	1.490;

1.490
date	2002.06.07.11.02.48;	author nickc;	state Exp;
branches;
next	1.489;

1.489
date	2002.06.06.06.45.07;	author law;	state Exp;
branches;
next	1.488;

1.488
date	2002.06.05.14.06.52;	author amodra;	state Exp;
branches;
next	1.487;

1.487
date	2002.06.03.13.02.04;	author amodra;	state Exp;
branches;
next	1.486;

1.486
date	2002.05.30.01.14.21;	author bje;	state Exp;
branches;
next	1.485;

1.485
date	2002.05.28.14.07.24;	author nickc;	state Exp;
branches;
next	1.484;

1.484
date	2002.05.27.15.46.09;	author nickc;	state Exp;
branches;
next	1.483;

1.483
date	2002.05.27.15.16.25;	author nickc;	state Exp;
branches;
next	1.482;

1.482
date	2002.05.27.08.40.34;	author amodra;	state Exp;
branches;
next	1.481;

1.481
date	2002.05.26.14.55.03;	author kazu;	state Exp;
branches;
next	1.480;

1.480
date	2002.05.25.12.51.37;	author amodra;	state Exp;
branches;
next	1.479;

1.479
date	2002.05.24.19.29.06;	author trix;	state Exp;
branches;
next	1.478;

1.478
date	2002.05.24.09.26.50;	author nickc;	state Exp;
branches;
next	1.477;

1.477
date	2002.05.24.00.33.35;	author kazu;	state Exp;
branches;
next	1.476;

1.476
date	2002.05.23.13.12.35;	author jakub;	state Exp;
branches;
next	1.475;

1.475
date	2002.05.23.04.11.56;	author kazu;	state Exp;
branches;
next	1.474;

1.474
date	2002.05.21.19.34.57;	author kazu;	state Exp;
branches;
next	1.473;

1.473
date	2002.05.21.16.21.17;	author ths;	state Exp;
branches;
next	1.472;

1.472
date	2002.05.20.18.23.04;	author kazu;	state Exp;
branches;
next	1.471;

1.471
date	2002.05.19.16.17.53;	author kazu;	state Exp;
branches;
next	1.470;

1.470
date	2002.05.16.18.53.22;	author marekm;	state Exp;
branches;
next	1.469;

1.469
date	2002.05.16.13.15.43;	author ciceron;	state Exp;
branches;
next	1.468;

1.468
date	2002.05.09.12.43.45;	author nickc;	state Exp;
branches;
next	1.467;

1.467
date	2002.05.08.23.15.36;	author amodra;	state Exp;
branches;
next	1.466;

1.466
date	2002.05.07.17.22.15;	author nickc;	state Exp;
branches;
next	1.465;

1.465
date	2002.05.06.07.55.16;	author amodra;	state Exp;
branches;
next	1.464;

1.464
date	2002.05.05.23.19.31;	author amodra;	state Exp;
branches;
next	1.463;

1.463
date	2002.05.04.01.55.39;	author amodra;	state Exp;
branches;
next	1.462;

1.462
date	2002.05.04.01.52.13;	author amodra;	state Exp;
branches;
next	1.461;

1.461
date	2002.05.04.01.31.49;	author amodra;	state Exp;
branches;
next	1.460;

1.460
date	2002.05.01.06.43.32;	author amodra;	state Exp;
branches;
next	1.459;

1.459
date	2002.04.25.12.48.04;	author ezannoni;	state Exp;
branches;
next	1.458;

1.458
date	2002.04.25.10.59.18;	author nickc;	state Exp;
branches;
next	1.457;

1.457
date	2002.04.17.13.05.52;	author ths;	state Exp;
branches;
next	1.456;

1.456
date	2002.04.16.15.03.02;	author nickc;	state Exp;
branches;
next	1.455;

1.455
date	2002.04.16.08.12.53;	author nickc;	state Exp;
branches;
next	1.454;

1.454
date	2002.04.15.14.12.37;	author nickc;	state Exp;
branches;
next	1.453;

1.453
date	2002.04.10.08.14.27;	author nickc;	state Exp;
branches;
next	1.452;

1.452
date	2002.04.09.17.23.17;	author nickc;	state Exp;
branches;
next	1.451;

1.451
date	2002.04.09.17.14.59;	author nickc;	state Exp;
branches;
next	1.450;

1.450
date	2002.04.09.17.06.12;	author nickc;	state Exp;
branches;
next	1.449;

1.449
date	2002.04.09.16.55.46;	author nickc;	state Exp;
branches;
next	1.448;

1.448
date	2002.04.09.16.37.20;	author nickc;	state Exp;
branches;
next	1.447;

1.447
date	2002.04.09.15.59.12;	author nickc;	state Exp;
branches;
next	1.446;

1.446
date	2002.04.09.15.44.35;	author nickc;	state Exp;
branches;
next	1.445;

1.445
date	2002.04.09.15.36.42;	author nickc;	state Exp;
branches;
next	1.444;

1.444
date	2002.04.09.15.23.38;	author nickc;	state Exp;
branches;
next	1.443;

1.443
date	2002.04.09.15.21.00;	author nickc;	state Exp;
branches;
next	1.442;

1.442
date	2002.04.09.15.15.25;	author amylaar;	state Exp;
branches;
next	1.441;

1.441
date	2002.04.04.14.06.19;	author amodra;	state Exp;
branches;
next	1.440;

1.440
date	2002.03.27.16.04.12;	author petert;	state Exp;
branches;
next	1.439;

1.439
date	2002.03.21.09.52.08;	author amodra;	state Exp;
branches;
next	1.438;

1.438
date	2002.03.21.05.00.57;	author dberlin;	state Exp;
branches;
next	1.437;

1.437
date	2002.03.18.12.45.52;	author nickc;	state Exp;
branches;
next	1.436;

1.436
date	2002.03.18.09.44.06;	author nickc;	state Exp;
branches;
next	1.435;

1.435
date	2002.03.13.10.35.00;	author nickc;	state Exp;
branches;
next	1.434;

1.434
date	2002.03.08.06.05.18;	author drow;	state Exp;
branches;
next	1.433;

1.433
date	2002.03.08.05.42.15;	author drow;	state Exp;
branches;
next	1.432;

1.432
date	2002.03.01.15.34.32;	author nickc;	state Exp;
branches;
next	1.431;

1.431
date	2002.02.21.22.39.19;	author nickc;	state Exp;
branches;
next	1.430;

1.430
date	2002.02.20.10.46.54;	author nickc;	state Exp;
branches;
next	1.429;

1.429
date	2002.02.20.10.32.43;	author nickc;	state Exp;
branches;
next	1.428;

1.428
date	2002.02.15.04.01.17;	author hp;	state Exp;
branches;
next	1.427;

1.427
date	2002.02.13.18.14.42;	author thorpej;	state Exp;
branches;
next	1.426;

1.426
date	2002.02.12.09.50.55;	author aoliva;	state Exp;
branches;
next	1.425;

1.425
date	2002.02.12.06.31.26;	author amodra;	state Exp;
branches;
next	1.424;

1.424
date	2002.02.11.19.06.48;	author drow;	state Exp;
branches;
next	1.423;

1.423
date	2002.02.11.05.08.41;	author amodra;	state Exp;
branches;
next	1.422;

1.422
date	2002.02.11.02.41.16;	author drow;	state Exp;
branches;
next	1.421;

1.421
date	2002.02.11.02.34.14;	author amodra;	state Exp;
branches;
next	1.420;

1.420
date	2002.02.10.18.47.48;	author drow;	state Exp;
branches;
next	1.419;

1.419
date	2002.02.06.18.23.16;	author aoliva;	state Exp;
branches
	1.419.2.1;
next	1.418;

1.418
date	2002.02.05.10.25.58;	author nickc;	state Exp;
branches;
next	1.417;

1.417
date	2002.02.01.03.26.31;	author amodra;	state Exp;
branches;
next	1.416;

1.416
date	2002.01.30.05.00.07;	author drow;	state Exp;
branches;
next	1.415;

1.415
date	2002.01.29.16.54.04;	author drow;	state Exp;
branches;
next	1.414;

1.414
date	2002.01.29.16.46.36;	author drow;	state Exp;
branches;
next	1.413;

1.413
date	2002.01.28.04.59.35;	author drow;	state Exp;
branches;
next	1.412;

1.412
date	2002.01.26.21.25.00;	author hp;	state Exp;
branches;
next	1.411;

1.411
date	2002.01.25.15.37.01;	author nickc;	state Exp;
branches;
next	1.410;

1.410
date	2002.01.25.14.23.50;	author nickc;	state Exp;
branches;
next	1.409;

1.409
date	2002.01.25.14.17.44;	author nickc;	state Exp;
branches;
next	1.408;

1.408
date	2002.01.25.14.15.43;	author nickc;	state Exp;
branches;
next	1.407;

1.407
date	2002.01.25.12.01.05;	author amodra;	state Exp;
branches;
next	1.406;

1.406
date	2002.01.23.16.12.54;	author nickc;	state Exp;
branches;
next	1.405;

1.405
date	2002.01.18.11.28.42;	author aj;	state Exp;
branches;
next	1.404;

1.404
date	2002.01.17.23.36.02;	author amodra;	state Exp;
branches;
next	1.403;

1.403
date	2002.01.17.23.13.52;	author nickc;	state Exp;
branches;
next	1.402;

1.402
date	2002.01.17.14.11.57;	author nickc;	state Exp;
branches;
next	1.401;

1.401
date	2002.01.16.10.17.48;	author nickc;	state Exp;
branches;
next	1.400;

1.400
date	2002.01.16.05.53.08;	author amodra;	state Exp;
branches;
next	1.399;

1.399
date	2002.01.15.17.18.53;	author nickc;	state Exp;
branches;
next	1.398;

1.398
date	2002.01.14.17.49.28;	author rearnsha;	state Exp;
branches;
next	1.397;

1.397
date	2002.01.14.13.10.12;	author nickc;	state Exp;
branches;
next	1.396;

1.396
date	2002.01.09.18.59.11;	author thorpej;	state Exp;
branches;
next	1.395;

1.395
date	2002.01.09.18.05.48;	author thorpej;	state Exp;
branches;
next	1.394;

1.394
date	2002.01.06.11.13.31;	author amodra;	state Exp;
branches;
next	1.393;

1.393
date	2001.12.20.11.20.14;	author nickc;	state Exp;
branches;
next	1.392;

1.392
date	2001.12.19.05.18.01;	author msnyder;	state Exp;
branches;
next	1.391;

1.391
date	2001.12.18.15.08.05;	author ths;	state Exp;
branches;
next	1.390;

1.390
date	2001.12.18.11.54.10;	author amodra;	state Exp;
branches;
next	1.389;

1.389
date	2001.12.18.10.33.36;	author nickc;	state Exp;
branches;
next	1.388;

1.388
date	2001.12.18.08.22.30;	author ths;	state Exp;
branches;
next	1.387;

1.387
date	2001.12.17.00.52.35;	author amodra;	state Exp;
branches;
next	1.386;

1.386
date	2001.12.13.11.09.26;	author jakub;	state Exp;
branches;
next	1.385;

1.385
date	2001.12.11.05.38.49;	author amodra;	state Exp;
branches;
next	1.384;

1.384
date	2001.12.10.11.03.54;	author jakub;	state Exp;
branches;
next	1.383;

1.383
date	2001.12.08.03.45.51;	author geoffk;	state Exp;
branches;
next	1.382;

1.382
date	2001.12.06.10.22.36;	author nickc;	state Exp;
branches;
next	1.381;

1.381
date	2001.12.04.14.38.47;	author ths;	state Exp;
branches;
next	1.380;

1.380
date	2001.12.04.14.29.11;	author ths;	state Exp;
branches;
next	1.379;

1.379
date	2001.12.04.10.11.21;	author jakub;	state Exp;
branches;
next	1.378;

1.378
date	2001.11.29.18.51.21;	author hjl;	state Exp;
branches;
next	1.377;

1.377
date	2001.11.29.17.00.57;	author nickc;	state Exp;
branches;
next	1.376;

1.376
date	2001.11.29.00.51.58;	author mrs;	state Exp;
branches;
next	1.375;

1.375
date	2001.11.19.14.35.56;	author nickc;	state Exp;
branches;
next	1.374;

1.374
date	2001.11.19.12.38.21;	author aj;	state Exp;
branches;
next	1.373;

1.373
date	2001.11.15.13.14.09;	author schwab;	state Exp;
branches;
next	1.372;

1.372
date	2001.11.15.01.08.48;	author amodra;	state Exp;
branches;
next	1.371;

1.371
date	2001.11.14.12.00.58;	author aj;	state Exp;
branches;
next	1.370;

1.370
date	2001.11.14.11.56.41;	author nickc;	state Exp;
branches;
next	1.369;

1.369
date	2001.11.14.03.15.28;	author amodra;	state Exp;
branches;
next	1.368;

1.368
date	2001.11.13.23.36.37;	author rth;	state Exp;
branches;
next	1.367;

1.367
date	2001.11.13.20.13.29;	author geoffk;	state Exp;
branches;
next	1.366;

1.366
date	2001.11.13.14.22.38;	author twall;	state Exp;
branches;
next	1.365;

1.365
date	2001.11.12.16.17.38;	author nickc;	state Exp;
branches;
next	1.364;

1.364
date	2001.11.10.01.04.39;	author law;	state Exp;
branches;
next	1.363;

1.363
date	2001.11.10.00.55.48;	author law;	state Exp;
branches;
next	1.362;

1.362
date	2001.11.07.16.14.09;	author jakub;	state Exp;
branches;
next	1.361;

1.361
date	2001.11.05.16.20.37;	author jakub;	state Exp;
branches;
next	1.360;

1.360
date	2001.11.05.08.50.47;	author sky;	state Exp;
branches;
next	1.359;

1.359
date	2001.11.02.21.47.19;	author trix;	state Exp;
branches;
next	1.358;

1.358
date	2001.11.02.19.09.06;	author nickc;	state Exp;
branches;
next	1.357;

1.357
date	2001.10.31.02.34.12;	author hp;	state Exp;
branches;
next	1.356;

1.356
date	2001.10.30.15.20.04;	author nickc;	state Exp;
branches;
next	1.355;

1.355
date	2001.10.13.10.00.30;	author nickc;	state Exp;
branches;
next	1.354;

1.354
date	2001.10.12.09.23.29;	author jakub;	state Exp;
branches;
next	1.353;

1.353
date	2001.10.11.20.47.46;	author amylaar;	state Exp;
branches;
next	1.352;

1.352
date	2001.10.03.13.46.18;	author amodra;	state Exp;
branches;
next	1.351;

1.351
date	2001.10.02.09.08.43;	author nickc;	state Exp;
branches;
next	1.350;

1.350
date	2001.10.02.06.02.11;	author amodra;	state Exp;
branches;
next	1.349;

1.349
date	2001.10.01.16.15.48;	author nickc;	state Exp;
branches;
next	1.348;

1.348
date	2001.09.30.19.53.06;	author hp;	state Exp;
branches;
next	1.347;

1.347
date	2001.09.28.21.10.40;	author rth;	state Exp;
branches;
next	1.346;

1.346
date	2001.09.26.01.55.18;	author amodra;	state Exp;
branches;
next	1.345;

1.345
date	2001.09.25.16.44.19;	author jakub;	state Exp;
branches;
next	1.344;

1.344
date	2001.09.25.12.49.38;	author amodra;	state Exp;
branches;
next	1.343;

1.343
date	2001.09.24.06.07.52;	author aj;	state Exp;
branches;
next	1.342;

1.342
date	2001.09.19.17.02.38;	author hjl;	state Exp;
branches;
next	1.341;

1.341
date	2001.09.19.06.58.06;	author amodra;	state Exp;
branches;
next	1.340;

1.340
date	2001.09.19.05.33.15;	author hjl;	state Exp;
branches;
next	1.339;

1.339
date	2001.09.18.10.05.55;	author amodra;	state Exp;
branches;
next	1.338;

1.338
date	2001.09.14.11.32.25;	author nickc;	state Exp;
branches;
next	1.337;

1.337
date	2001.09.12.23.53.45;	author aoliva;	state Exp;
branches;
next	1.336;

1.336
date	2001.09.05.02.26.03;	author law;	state Exp;
branches;
next	1.335;

1.335
date	2001.08.31.21.15.00;	author echristo;	state Exp;
branches;
next	1.334;

1.334
date	2001.08.29.15.19.38;	author petert;	state Exp;
branches;
next	1.333;

1.333
date	2001.08.29.10.55.43;	author bje;	state Exp;
branches;
next	1.332;

1.332
date	2001.08.27.10.33.19;	author amodra;	state Exp;
branches;
next	1.331;

1.331
date	2001.08.26.13.04.34;	author ths;	state Exp;
branches;
next	1.330;

1.330
date	2001.08.25.15.16.39;	author hjl;	state Exp;
branches;
next	1.329;

1.329
date	2001.08.24.13.56.08;	author aoliva;	state Exp;
branches;
next	1.328;

1.328
date	2001.08.22.18.42.07;	author ths;	state Exp;
branches;
next	1.327;

1.327
date	2001.08.21.15.08.38;	author hjl;	state Exp;
branches;
next	1.326;

1.326
date	2001.08.21.10.02.27;	author aj;	state Exp;
branches;
next	1.325;

1.325
date	2001.08.10.16.43.17;	author hjl;	state Exp;
branches;
next	1.324;

1.324
date	2001.08.10.10.56.44;	author aj;	state Exp;
branches;
next	1.323;

1.323
date	2001.08.09.14.46.49;	author amodra;	state Exp;
branches;
next	1.322;

1.322
date	2001.08.08.11.17.46;	author aoliva;	state Exp;
branches;
next	1.321;

1.321
date	2001.08.07.20.15.00;	author hjl;	state Exp;
branches;
next	1.320;

1.320
date	2001.08.05.21.01.26;	author pb;	state Exp;
branches;
next	1.319;

1.319
date	2001.08.03.22.08.44;	author jhealy;	state Exp;
branches;
next	1.318;

1.318
date	2001.08.03.16.27.21;	author dj;	state Exp;
branches;
next	1.317;

1.317
date	2001.08.01.15.54.41;	author nickc;	state Exp;
branches;
next	1.316;

1.316
date	2001.07.31.13.49.38;	author nickc;	state Exp;
branches;
next	1.315;

1.315
date	2001.07.30.10.57.07;	author nickc;	state Exp;
branches;
next	1.314;

1.314
date	2001.07.29.05.31.43;	author amodra;	state Exp;
branches;
next	1.313;

1.313
date	2001.07.25.15.25.11;	author brolley;	state Exp;
branches;
next	1.312;

1.312
date	2001.07.19.10.43.12;	author nickc;	state Exp;
branches;
next	1.311;

1.311
date	2001.07.17.03.14.48;	author dj;	state Exp;
branches;
next	1.310;

1.310
date	2001.07.17.01.19.19;	author dj;	state Exp;
branches;
next	1.309;

1.309
date	2001.07.15.10.30.30;	author nickc;	state Exp;
branches;
next	1.308;

1.308
date	2001.07.11.09.06.49;	author nickc;	state Exp;
branches;
next	1.307;

1.307
date	2001.07.05.07.49.05;	author nickc;	state Exp;
branches;
next	1.306;

1.306
date	2001.07.05.07.27.16;	author hjl;	state Exp;
branches;
next	1.305;

1.305
date	2001.07.03.16.35.34;	author hjl;	state Exp;
branches;
next	1.304;

1.304
date	2001.07.03.15.08.42;	author nickc;	state Exp;
branches;
next	1.303;

1.303
date	2001.07.01.08.53.14;	author nickc;	state Exp;
branches;
next	1.302;

1.302
date	2001.06.29.14.17.31;	author nickc;	state Exp;
branches;
next	1.301;

1.301
date	2001.06.28.13.58.36;	author amodra;	state Exp;
branches;
next	1.300;

1.300
date	2001.06.25.03.30.26;	author amodra;	state Exp;
branches;
next	1.299;

1.299
date	2001.06.24.16.27.00;	author hjl;	state Exp;
branches;
next	1.298;

1.298
date	2001.06.23.16.06.50;	author aj;	state Exp;
branches;
next	1.297;

1.297
date	2001.06.23.10.26.08;	author bje;	state Exp;
branches;
next	1.296;

1.296
date	2001.06.22.09.02.05;	author nickc;	state Exp;
branches;
next	1.295;

1.295
date	2001.06.19.18.16.49;	author hjl;	state Exp;
branches;
next	1.294;

1.294
date	2001.06.19.11.57.26;	author nickc;	state Exp;
branches;
next	1.293;

1.293
date	2001.06.09.02.15.49;	author amodra;	state Exp;
branches;
next	1.292;

1.292
date	2001.06.01.04.21.57;	author amodra;	state Exp;
branches;
next	1.291;

1.291
date	2001.05.30.10.46.25;	author nickc;	state Exp;
branches;
next	1.290;

1.290
date	2001.05.28.15.41.33;	author aj;	state Exp;
branches;
next	1.289;

1.289
date	2001.05.28.10.03.18;	author nickc;	state Exp;
branches;
next	1.288;

1.288
date	2001.05.16.16.20.26;	author rth;	state Exp;
branches;
next	1.287;

1.287
date	2001.05.15.12.24.29;	author nickc;	state Exp;
branches;
next	1.286;

1.286
date	2001.05.11.12.36.46;	author jakub;	state Exp;
branches;
next	1.285;

1.285
date	2001.05.07.09.17.34;	author amodra;	state Exp;
branches;
next	1.284;

1.284
date	2001.04.27.15.42.21;	author nickc;	state Exp;
branches;
next	1.283;

1.283
date	2001.04.27.13.34.20;	author nickc;	state Exp;
branches;
next	1.282;

1.282
date	2001.04.17.23.28.38;	author dj;	state Exp;
branches;
next	1.281;

1.281
date	2001.04.11.07.07.29;	author amodra;	state Exp;
branches;
next	1.280;

1.280
date	2001.04.05.17.46.25;	author hp;	state Exp;
branches;
next	1.279;

1.279
date	2001.04.05.17.44.14;	author hp;	state Exp;
branches;
next	1.278;

1.278
date	2001.03.31.06.36.17;	author hjl;	state Exp;
branches;
next	1.277;

1.277
date	2001.03.30.01.34.53;	author dj;	state Exp;
branches;
next	1.276;

1.276
date	2001.03.30.01.26.43;	author hjl;	state Exp;
branches;
next	1.275;

1.275
date	2001.03.28.19.01.04;	author hjl;	state Exp;
branches;
next	1.274;

1.274
date	2001.03.26.07.02.59;	author aj;	state Exp;
branches;
next	1.273;

1.273
date	2001.03.25.20.32.25;	author nickc;	state Exp;
branches;
next	1.272;

1.272
date	2001.03.14.02.56.45;	author cgf;	state Exp;
branches;
next	1.271;

1.271
date	2001.03.13.06.43.56;	author nickc;	state Exp;
branches;
next	1.270;

1.270
date	2001.03.13.00.08.35;	author nickc;	state Exp;
branches;
next	1.269;

1.269
date	2001.03.12.23.35.23;	author nickc;	state Exp;
branches;
next	1.268;

1.268
date	2001.02.28.19.40.12;	author nickc;	state Exp;
branches;
next	1.267;

1.267
date	2001.02.28.10.15.57;	author pb;	state Exp;
branches;
next	1.266;

1.266
date	2001.02.27.06.43.52;	author amodra;	state Exp;
branches;
next	1.265;

1.265
date	2001.02.14.18.49.56;	author nickc;	state Exp;
branches;
next	1.264;

1.264
date	2001.02.11.23.13.38;	author msokolov;	state Exp;
branches;
next	1.263;

1.263
date	2001.02.11.23.11.39;	author msokolov;	state Exp;
branches;
next	1.262;

1.262
date	2001.02.11.22.14.01;	author nickc;	state Exp;
branches;
next	1.261;

1.261
date	2001.02.10.22.20.55;	author nickc;	state Exp;
branches;
next	1.260;

1.260
date	2001.02.10.00.55.53;	author nickc;	state Exp;
branches;
next	1.259;

1.259
date	2001.02.09.16.33.20;	author amodra;	state Exp;
branches;
next	1.258;

1.258
date	2001.02.08.06.01.31;	author hp;	state Exp;
branches;
next	1.257;

1.257
date	2001.02.07.23.16.22;	author nickc;	state Exp;
branches;
next	1.256;

1.256
date	2001.02.07.19.41.02;	author nickc;	state Exp;
branches;
next	1.255;

1.255
date	2001.02.04.16.37.03;	author pb;	state Exp;
branches;
next	1.254;

1.254
date	2001.01.31.06.02.18;	author amodra;	state Exp;
branches;
next	1.253;

1.253
date	2001.01.24.04.36.05;	author amodra;	state Exp;
branches
	1.253.2.1;
next	1.252;

1.252
date	2001.01.24.02.34.07;	author amodra;	state Exp;
branches;
next	1.251;

1.251
date	2001.01.23.13.51.03;	author jakub;	state Exp;
branches;
next	1.250;

1.250
date	2001.01.23.13.49.37;	author jakub;	state Exp;
branches;
next	1.249;

1.249
date	2001.01.18.00.17.43;	author nickc;	state Exp;
branches;
next	1.248;

1.248
date	2001.01.16.23.23.23;	author nickc;	state Exp;
branches;
next	1.247;

1.247
date	2001.01.12.18.01.56;	author nickc;	state Exp;
branches;
next	1.246;

1.246
date	2001.01.11.21.20.16;	author nickc;	state Exp;
branches;
next	1.245;

1.245
date	2001.01.11.19.01.40;	author nickc;	state Exp;
branches;
next	1.244;

1.244
date	2001.01.09.20.25.57;	author nickc;	state Exp;
branches;
next	1.243;

1.243
date	2001.01.09.20.25.30;	author nickc;	state Exp;
branches;
next	1.242;

1.242
date	2001.01.07.15.04.20;	author pb;	state Exp;
branches;
next	1.241;

1.241
date	2000.12.19.22.22.02;	author nickc;	state Exp;
branches;
next	1.240;

1.240
date	2000.12.16.01.28.20;	author nickc;	state Exp;
branches;
next	1.239;

1.239
date	2000.12.12.20.58.45;	author nickc;	state Exp;
branches;
next	1.238;

1.238
date	2000.12.12.19.34.37;	author nickc;	state Exp;
branches;
next	1.237;

1.237
date	2000.12.11.13.49.46;	author hubicka;	state Exp;
branches;
next	1.236;

1.236
date	2000.12.08.17.25.47;	author aph;	state Exp;
branches;
next	1.235;

1.235
date	2000.12.05.18.24.37;	author nickc;	state Exp;
branches;
next	1.234;

1.234
date	2000.12.04.16.34.44;	author jason;	state Exp;
branches;
next	1.233;

1.233
date	2000.12.02.01.10.31;	author nickc;	state Exp;
branches;
next	1.232;

1.232
date	2000.12.02.00.55.21;	author nickc;	state Exp;
branches;
next	1.231;

1.231
date	2000.12.01.21.35.35;	author nickc;	state Exp;
branches;
next	1.230;

1.230
date	2000.11.30.15.35.53;	author dj;	state Exp;
branches;
next	1.229;

1.229
date	2000.11.28.23.10.04;	author hp;	state Exp;
branches;
next	1.228;

1.228
date	2000.11.28.22.57.04;	author hp;	state Exp;
branches;
next	1.227;

1.227
date	2000.11.28.20.40.34;	author nickc;	state Exp;
branches;
next	1.226;

1.226
date	2000.11.27.21.07.47;	author dj;	state Exp;
branches;
next	1.225;

1.225
date	2000.11.25.00.21.35;	author nickc;	state Exp;
branches;
next	1.224;

1.224
date	2000.11.22.23.49.39;	author nickc;	state Exp;
branches;
next	1.223;

1.223
date	2000.11.20.23.47.41;	author hjl;	state Exp;
branches;
next	1.222;

1.222
date	2000.11.19.20.57.42;	author rth;	state Exp;
branches;
next	1.221;

1.221
date	2000.11.17.08.28.59;	author rth;	state Exp;
branches;
next	1.220;

1.220
date	2000.11.06.20.26.50;	author nickc;	state Exp;
branches;
next	1.219;

1.219
date	2000.11.05.17.14.08;	author nickc;	state Exp;
branches;
next	1.218;

1.218
date	2000.11.03.01.47.13;	author nickc;	state Exp;
branches;
next	1.217;

1.217
date	2000.11.01.00.37.12;	author nickc;	state Exp;
branches;
next	1.216;

1.216
date	2000.10.31.20.37.25;	author nickc;	state Exp;
branches;
next	1.215;

1.215
date	2000.10.12.17.47.35;	author dj;	state Exp;
branches;
next	1.214;

1.214
date	2000.09.14.01.47.33;	author nickc;	state Exp;
branches;
next	1.213;

1.213
date	2000.09.08.21.51.56;	author nickc;	state Exp;
branches;
next	1.212;

1.212
date	2000.09.07.21.07.29;	author hjl;	state Exp;
branches;
next	1.211;

1.211
date	2000.09.06.13.50.43;	author aoliva;	state Exp;
branches;
next	1.210;

1.210
date	2000.09.06.00.13.32;	author nickc;	state Exp;
branches;
next	1.209;

1.209
date	2000.09.05.15.47.41;	author dj;	state Exp;
branches;
next	1.208;

1.208
date	2000.09.05.08.26.53;	author obrien;	state Exp;
branches;
next	1.207;

1.207
date	2000.09.03.18.30.51;	author nickc;	state Exp;
branches;
next	1.206;

1.206
date	2000.09.02.21.35.45;	author nickc;	state Exp;
branches;
next	1.205;

1.205
date	2000.08.31.09.41.33;	author aoliva;	state Exp;
branches;
next	1.204;

1.204
date	2000.08.30.23.06.03;	author dj;	state Exp;
branches;
next	1.203;

1.203
date	2000.08.24.17.42.52;	author hp;	state Exp;
branches;
next	1.202;

1.202
date	2000.08.21.20.30.04;	author nickc;	state Exp;
branches;
next	1.201;

1.201
date	2000.08.18.01.58.11;	author hjl;	state Exp;
branches;
next	1.200;

1.200
date	2000.08.17.23.00.38;	author nickc;	state Exp;
branches;
next	1.199;

1.199
date	2000.08.14.19.47.01;	author nickc;	state Exp;
branches;
next	1.198;

1.198
date	2000.08.14.18.50.13;	author jle;	state Exp;
branches;
next	1.197;

1.197
date	2000.08.12.00.47.47;	author hjl;	state Exp;
branches;
next	1.196;

1.196
date	2000.08.11.18.26.28;	author geoffk;	state Exp;
branches;
next	1.195;

1.195
date	2000.08.08.00.47.04;	author jle;	state Exp;
branches;
next	1.194;

1.194
date	2000.08.03.17.37.01;	author nickc;	state Exp;
branches;
next	1.193;

1.193
date	2000.08.02.00.20.30;	author dj;	state Exp;
branches;
next	1.192;

1.192
date	2000.07.27.01.39.45;	author geoffk;	state Exp;
branches;
next	1.191;

1.191
date	2000.07.23.08.19.24;	author amodra;	state Exp;
branches;
next	1.190;

1.190
date	2000.07.21.00.09.48;	author hjl;	state Exp;
branches;
next	1.189;

1.189
date	2000.07.20.18.02.55;	author nickc;	state Exp;
branches;
next	1.188;

1.188
date	2000.07.20.17.28.56;	author hp;	state Exp;
branches;
next	1.187;

1.187
date	2000.07.20.02.45.36;	author hjl;	state Exp;
branches;
next	1.186;

1.186
date	2000.07.20.00.39.09;	author nickc;	state Exp;
branches;
next	1.185;

1.185
date	2000.07.19.18.45.46;	author hjl;	state Exp;
branches;
next	1.184;

1.184
date	2000.07.19.18.24.32;	author hjl;	state Exp;
branches;
next	1.183;

1.183
date	2000.07.19.18.03.17;	author hjl;	state Exp;
branches;
next	1.182;

1.182
date	2000.07.18.18.24.21;	author nickc;	state Exp;
branches;
next	1.181;

1.181
date	2000.07.12.19.52.17;	author kettenis;	state Exp;
branches;
next	1.180;

1.180
date	2000.07.10.14.51.04;	author amodra;	state Exp;
branches;
next	1.179;

1.179
date	2000.07.09.15.23.00;	author nickc;	state Exp;
branches;
next	1.178;

1.178
date	2000.07.05.20.11.22;	author nickc;	state Exp;
branches;
next	1.177;

1.177
date	2000.07.05.19.28.05;	author dj;	state Exp;
branches;
next	1.176;

1.176
date	2000.07.02.01.56.58;	author dj;	state Exp;
branches;
next	1.175;

1.175
date	2000.07.01.10.00.04;	author amodra;	state Exp;
branches;
next	1.174;

1.174
date	2000.07.01.01.41.08;	author amodra;	state Exp;
branches;
next	1.173;

1.173
date	2000.06.26.23.15.57;	author amodra;	state Exp;
branches;
next	1.172;

1.172
date	2000.06.25.17.58.54;	author nickc;	state Exp;
branches;
next	1.171;

1.171
date	2000.06.25.16.39.45;	author nickc;	state Exp;
branches;
next	1.170;

1.170
date	2000.06.25.16.30.27;	author nickc;	state Exp;
branches;
next	1.169;

1.169
date	2000.06.24.19.53.12;	author nickc;	state Exp;
branches;
next	1.168;

1.168
date	2000.06.22.13.14.21;	author amodra;	state Exp;
branches;
next	1.167;

1.167
date	2000.06.20.12.33.20;	author amodra;	state Exp;
branches;
next	1.166;

1.166
date	2000.06.19.01.09.55;	author nickc;	state Exp;
branches;
next	1.165;

1.165
date	2000.06.16.00.46.22;	author hjl;	state Exp;
branches;
next	1.164;

1.164
date	2000.06.15.19.34.44;	author hjl;	state Exp;
branches;
next	1.163;

1.163
date	2000.06.13.21.21.42;	author dj;	state Exp;
branches;
next	1.162;

1.162
date	2000.06.13.19.09.19;	author hjl;	state Exp;
branches;
next	1.161;

1.161
date	2000.06.08.19.00.01;	author obrien;	state Exp;
branches;
next	1.160;

1.160
date	2000.06.02.18.55.04;	author obrien;	state Exp;
branches;
next	1.159;

1.159
date	2000.05.30.07.47.55;	author amodra;	state Exp;
branches;
next	1.158;

1.158
date	2000.05.26.18.46.47;	author dj;	state Exp;
branches;
next	1.157;

1.157
date	2000.05.26.14.14.21;	author amodra;	state Exp;
branches;
next	1.156;

1.156
date	2000.05.26.13.11.55;	author amodra;	state Exp;
branches;
next	1.155;

1.155
date	2000.05.25.02.05.07;	author amodra;	state Exp;
branches;
next	1.154;

1.154
date	2000.05.14.17.13.16;	author hjl;	state Exp;
branches;
next	1.153;

1.153
date	2000.05.14.10.40.48;	author amodra;	state Exp;
branches;
next	1.152;

1.152
date	2000.05.13.13.05.35;	author amodra;	state Exp;
branches;
next	1.151;

1.151
date	2000.05.13.06.38.34;	author hjl;	state Exp;
branches;
next	1.150;

1.150
date	2000.05.08.04.28.06;	author amodra;	state Exp;
branches;
next	1.149;

1.149
date	2000.05.02.17.54.32;	author hjl;	state Exp;
branches;
next	1.148;

1.148
date	2000.05.02.02.29.17;	author amodra;	state Exp;
branches;
next	1.147;

1.147
date	2000.05.01.06.53.41;	author denisc;	state Exp;
branches;
next	1.146;

1.146
date	2000.04.21.20.22.21;	author wilson;	state Exp;
branches;
next	1.145;

1.145
date	2000.04.18.17.16.59;	author twall;	state Exp;
branches;
next	1.144;

1.144
date	2000.04.14.04.14.24;	author amodra;	state Exp;
branches;
next	1.143;

1.143
date	2000.04.10.17.13.07;	author nickc;	state Exp;
branches;
next	1.142;

1.142
date	2000.04.09.12.17.38;	author cagney;	state Exp;
branches;
next	1.141;

1.141
date	2000.04.07.04.34.49;	author amodra;	state Exp;
branches;
next	1.140;

1.140
date	2000.04.07.00.58.06;	author twall;	state Exp;
branches;
next	1.139;

1.139
date	2000.04.07.00.16.45;	author jason;	state Exp;
branches;
next	1.138;

1.138
date	2000.04.07.00.15.00;	author jason;	state Exp;
branches;
next	1.137;

1.137
date	2000.04.06.23.21.50;	author nickc;	state Exp;
branches;
next	1.136;

1.136
date	2000.04.06.23.21.08;	author nickc;	state Exp;
branches;
next	1.135;

1.135
date	2000.04.05.03.43.56;	author amodra;	state Exp;
branches;
next	1.134;

1.134
date	2000.04.04.23.05.32;	author hjl;	state Exp;
branches;
next	1.133;

1.133
date	2000.04.04.14.32.28;	author amodra;	state Exp;
branches;
next	1.132;

1.132
date	2000.04.04.10.53.54;	author amodra;	state Exp;
branches;
next	1.131;

1.131
date	2000.04.03.17.17.35;	author hjl;	state Exp;
branches;
next	1.130;

1.130
date	2000.04.03.14.10.02;	author amodra;	state Exp;
branches;
next	1.129;

1.129
date	2000.03.30.23.37.22;	author amodra;	state Exp;
branches
	1.129.2.1;
next	1.128;

1.128
date	2000.03.28.01.11.27;	author nickc;	state Exp;
branches;
next	1.127;

1.127
date	2000.03.27.08.39.12;	author amodra;	state Exp;
branches;
next	1.126;

1.126
date	2000.03.25.19.52.37;	author pb;	state Exp;
branches;
next	1.125;

1.125
date	2000.03.09.03.13.21;	author hjl;	state Exp;
branches;
next	1.124;

1.124
date	2000.02.28.03.31.49;	author ian;	state Exp;
branches;
next	1.123;

1.123
date	2000.02.26.00.58.43;	author hjl;	state Exp;
branches;
next	1.122;

1.122
date	2000.02.26.00.47.52;	author hjl;	state Exp;
branches;
next	1.121;

1.121
date	2000.02.24.19.37.32;	author nickc;	state Exp;
branches;
next	1.120;

1.120
date	2000.02.23.23.19.46;	author amodra;	state Exp;
branches;
next	1.119;

1.119
date	2000.02.22.19.56.41;	author nickc;	state Exp;
branches;
next	1.118;

1.118
date	2000.02.22.07.18.10;	author ian;	state Exp;
branches;
next	1.117;

1.117
date	2000.02.21.12.01.26;	author amodra;	state Exp;
branches;
next	1.116;

1.116
date	2000.02.19.03.59.10;	author fche;	state Exp;
branches;
next	1.115;

1.115
date	2000.02.14.19.05.55;	author fnasser;	state Exp;
branches;
next	1.114;

1.114
date	2000.02.08.18.38.13;	author twall;	state Exp;
branches;
next	1.113;

1.113
date	2000.02.03.18.12.54;	author twall;	state Exp;
branches;
next	1.112;

1.112
date	2000.01.28.12.38.22;	author schwab;	state Exp;
branches;
next	1.111;

1.111
date	2000.01.28.01.06.37;	author nickc;	state Exp;
branches;
next	1.110;

1.110
date	2000.01.27.22.17.12;	author nickc;	state Exp;
branches;
next	1.109;

1.109
date	2000.01.27.21.44.26;	author nickc;	state Exp;
branches;
next	1.108;

1.108
date	2000.01.26.23.11.47;	author amodra;	state Exp;
branches;
next	1.107;

1.107
date	2000.01.17.18.09.34;	author nickc;	state Exp;
branches;
next	1.106;

1.106
date	2000.01.14.23.10.21;	author amodra;	state Exp;
branches;
next	1.105;

1.105
date	2000.01.13.20.13.35;	author nickc;	state Exp;
branches;
next	1.104;

1.104
date	2000.01.11.17.53.33;	author nickc;	state Exp;
branches;
next	1.103;

1.103
date	2000.01.10.18.52.23;	author nickc;	state Exp;
branches;
next	1.102;

1.102
date	2000.01.07.22.33.48;	author nickc;	state Exp;
branches;
next	1.101;

1.101
date	2000.01.05.00.03.36;	author nickc;	state Exp;
branches;
next	1.100;

1.100
date	2000.01.04.23.59.42;	author nickc;	state Exp;
branches;
next	1.99;

1.99
date	2000.01.03.20.49.47;	author nickc;	state Exp;
branches;
next	1.98;

1.98
date	99.12.28.20.23.39;	author nickc;	state Exp;
branches;
next	1.97;

1.97
date	99.12.26.18.49.30;	author ian;	state Exp;
branches;
next	1.96;

1.96
date	99.12.23.18.41.13;	author aph;	state Exp;
branches;
next	1.95;

1.95
date	99.12.17.18.38.37;	author nickc;	state Exp;
branches;
next	1.94;

1.94
date	99.12.10.18.32.57;	author nickc;	state Exp;
branches;
next	1.93;

1.93
date	99.12.09.17.42.25;	author nickc;	state Exp;
branches;
next	1.92;

1.92
date	99.12.07.21.26.51;	author nickc;	state Exp;
branches;
next	1.91;

1.91
date	99.12.07.21.14.08;	author nickc;	state Exp;
branches;
next	1.90;

1.90
date	99.11.25.11.08.25;	author nickc;	state Exp;
branches;
next	1.89;

1.89
date	99.11.22.09.42.42;	author nickc;	state Exp;
branches;
next	1.88;

1.88
date	99.11.21.11.37.21;	author nickc;	state Exp;
branches;
next	1.87;

1.87
date	99.11.03.18.16.52;	author nickc;	state Exp;
branches;
next	1.86;

1.86
date	99.11.03.10.56.31;	author nickc;	state Exp;
branches;
next	1.85;

1.85
date	99.10.28.03.30.13;	author ian;	state Exp;
branches;
next	1.84;

1.84
date	99.10.26.10.10.51;	author nickc;	state Exp;
branches;
next	1.83;

1.83
date	99.10.22.15.50.28;	author nickc;	state Exp;
branches;
next	1.82;

1.82
date	99.10.15.16.50.47;	author ian;	state Exp;
branches;
next	1.81;

1.81
date	99.10.08.13.56.32;	author ian;	state Exp;
branches;
next	1.80;

1.80
date	99.10.04.18.59.12;	author drepper;	state Exp;
branches;
next	1.79;

1.79
date	99.09.28.20.08.37;	author dj;	state Exp;
branches;
next	1.78;

1.78
date	99.09.19.23.59.34;	author ian;	state Exp;
branches;
next	1.77;

1.77
date	99.09.14.23.26.46;	author meissner;	state Exp;
branches;
next	1.76;

1.76
date	99.09.12.19.00.11;	author ian;	state Exp;
branches;
next	1.75;

1.75
date	99.09.12.18.49.47;	author ian;	state Exp;
branches;
next	1.74;

1.74
date	99.09.12.18.39.32;	author ian;	state Exp;
branches;
next	1.73;

1.73
date	99.09.12.18.33.05;	author ian;	state Exp;
branches;
next	1.72;

1.72
date	99.09.12.18.14.07;	author ian;	state Exp;
branches;
next	1.71;

1.71
date	99.09.12.17.47.19;	author ian;	state Exp;
branches;
next	1.70;

1.70
date	99.09.12.17.43.21;	author ian;	state Exp;
branches;
next	1.69;

1.69
date	99.09.12.17.34.19;	author ian;	state Exp;
branches;
next	1.68;

1.68
date	99.09.09.16.01.22;	author schwab;	state Exp;
branches;
next	1.67;

1.67
date	99.09.06.18.47.31;	author ian;	state Exp;
branches;
next	1.66;

1.66
date	99.09.04.17.40.18;	author ian;	state Exp;
branches;
next	1.65;

1.65
date	99.09.01.16.18.50;	author nickc;	state Exp;
branches;
next	1.64;

1.64
date	99.08.31.16.57.37;	author nickc;	state Exp;
branches;
next	1.63;

1.63
date	99.08.31.16.54.55;	author nickc;	state Exp;
branches;
next	1.62;

1.62
date	99.08.31.15.34.28;	author ian;	state Exp;
branches;
next	1.61;

1.61
date	99.08.28.08.13.42;	author nickc;	state Exp;
branches;
next	1.60;

1.60
date	99.08.27.10.34.57;	author nickc;	state Exp;
branches;
next	1.59;

1.59
date	99.08.27.08.45.01;	author nickc;	state Exp;
branches;
next	1.58;

1.58
date	99.08.26.18.25.20;	author rth;	state Exp;
branches;
next	1.57;

1.57
date	99.08.26.10.53.39;	author nickc;	state Exp;
branches;
next	1.56;

1.56
date	99.08.19.13.11.30;	author nickc;	state Exp;
branches;
next	1.55;

1.55
date	99.08.18.14.52.59;	author nickc;	state Exp;
branches;
next	1.54;

1.54
date	99.08.09.17.16.23;	author nickc;	state Exp;
branches;
next	1.53;

1.53
date	99.08.09.05.23.29;	author ian;	state Exp;
branches;
next	1.52;

1.52
date	99.08.09.03.23.37;	author ian;	state Exp;
branches;
next	1.51;

1.51
date	99.08.08.18.18.11;	author ian;	state Exp;
branches;
next	1.50;

1.50
date	99.08.08.18.09.48;	author ian;	state Exp;
branches;
next	1.49;

1.49
date	99.08.08.17.34.16;	author ian;	state Exp;
branches;
next	1.48;

1.48
date	99.08.05.15.35.10;	author ian;	state Exp;
branches;
next	1.47;

1.47
date	99.07.22.01.05.44;	author ian;	state Exp;
branches;
next	1.46;

1.46
date	99.07.16.21.38.15;	author rth;	state Exp;
branches;
next	1.45;

1.45
date	99.07.15.12.04.43;	author ian;	state Exp;
branches;
next	1.44;

1.44
date	99.07.14.17.24.44;	author rth;	state Exp;
branches;
next	1.43;

1.43
date	99.07.11.20.02.12;	author ian;	state Exp;
branches;
next	1.42;

1.42
date	99.07.09.03.14.13;	author nickc;	state Exp;
branches;
next	1.41;

1.41
date	99.07.08.15.49.39;	author rth;	state Exp;
branches;
next	1.40;

1.40
date	99.07.08.00.49.02;	author ian;	state Exp;
branches;
next	1.39;

1.39
date	99.06.22.22.58.03;	author ian;	state Exp;
branches;
next	1.38;

1.38
date	99.06.22.22.50.14;	author ian;	state Exp;
branches;
next	1.37;

1.37
date	99.06.22.20.39.36;	author ian;	state Exp;
branches;
next	1.36;

1.36
date	99.06.21.15.55.47;	author law;	state Exp;
branches;
next	1.35;

1.35
date	99.06.21.03.25.29;	author nickc;	state Exp;
branches;
next	1.34;

1.34
date	99.06.18.19.44.20;	author dj;	state Exp;
branches;
next	1.33;

1.33
date	99.06.16.10.03.58;	author nickc;	state Exp;
branches;
next	1.32;

1.32
date	99.06.16.02.24.32;	author nickc;	state Exp;
branches;
next	1.31;

1.31
date	99.06.14.01.30.19;	author schwab;	state Exp;
branches;
next	1.30;

1.30
date	99.06.13.19.02.23;	author ian;	state Exp;
branches;
next	1.29;

1.29
date	99.06.13.10.16.41;	author ian;	state Exp;
branches;
next	1.28;

1.28
date	99.06.12.16.07.56;	author ian;	state Exp;
branches;
next	1.27;

1.27
date	99.06.12.16.04.06;	author ian;	state Exp;
branches;
next	1.26;

1.26
date	99.06.12.15.41.59;	author ian;	state Exp;
branches;
next	1.25;

1.25
date	99.06.12.15.20.19;	author ian;	state Exp;
branches;
next	1.24;

1.24
date	99.06.12.13.30.22;	author ian;	state Exp;
branches;
next	1.23;

1.23
date	99.06.09.02.44.17;	author schwab;	state Exp;
branches;
next	1.22;

1.22
date	99.06.07.03.16.53;	author schwab;	state Exp;
branches;
next	1.21;

1.21
date	99.06.04.11.33.30;	author nickc;	state Exp;
branches;
next	1.20;

1.20
date	99.06.04.08.13.03;	author nickc;	state Exp;
branches;
next	1.19;

1.19
date	99.06.03.13.22.44;	author nickc;	state Exp;
branches;
next	1.18;

1.18
date	99.06.02.12.37.47;	author rth;	state Exp;
branches;
next	1.17;

1.17
date	99.05.31.00.58.58;	author schwab;	state Exp;
branches;
next	1.16;

1.16
date	99.05.29.10.51.14;	author nickc;	state Exp;
branches;
next	1.15;

1.15
date	99.05.29.09.09.39;	author nickc;	state Exp;
branches;
next	1.14;

1.14
date	99.05.28.10.14.10;	author nickc;	state Exp;
branches;
next	1.13;

1.13
date	99.05.27.22.04.39;	author ian;	state Exp;
branches;
next	1.12;

1.12
date	99.05.27.03.16.13;	author schwab;	state Exp;
branches;
next	1.11;

1.11
date	99.05.27.03.02.21;	author schwab;	state Exp;
branches;
next	1.10;

1.10
date	99.05.25.12.10.23;	author dj;	state Exp;
branches;
next	1.9;

1.9
date	99.05.16.14.12.19;	author nickc;	state Exp;
branches;
next	1.8;

1.8
date	99.05.15.15.25.18;	author nickc;	state Exp;
branches;
next	1.7;

1.7
date	99.05.12.22.03.08;	author dj;	state Exp;
branches;
next	1.6;

1.6
date	99.05.11.21.06.10;	author dj;	state Exp;
branches;
next	1.5;

1.5
date	99.05.06.11.03.31;	author ian;	state Exp;
branches;
next	1.4;

1.4
date	99.05.06.07.41.55;	author nickc;	state Exp;
branches;
next	1.3;

1.3
date	99.05.05.19.02.13;	author clm;	state Exp;
branches;
next	1.2;

1.2
date	99.05.05.11.00.54;	author clm;	state Exp;
branches;
next	1.1;

1.1
date	99.05.03.07.29.09;	author rth;	state Exp;
branches
	1.1.1.1;
next	;

1.2042.2.1
date	2013.09.20.12.42.28;	author amodra;	state Exp;
branches;
next	1.2042.2.2;

1.2042.2.2
date	2013.10.09.16.37.28;	author nickc;	state Exp;
branches;
next	1.2042.2.3;

1.2042.2.3
date	2013.10.11.17.11.33;	author roland;	state Exp;
branches;
next	1.2042.2.4;

1.2042.2.4
date	2013.10.11.17.25.06;	author roland;	state Exp;
branches;
next	1.2042.2.5;

1.2042.2.5
date	2013.10.12.17.00.30;	author hjl;	state Exp;
branches;
next	;

1.1925.2.1
date	2012.07.30.08.40.38;	author nickc;	state Exp;
branches;
next	1.1925.2.2;

1.1925.2.2
date	2012.08.09.14.49.05;	author nickc;	state Exp;
branches;
next	1.1925.2.3;

1.1925.2.3
date	2012.08.16.09.21.37;	author nickc;	state Exp;
branches;
next	1.1925.2.4;

1.1925.2.4
date	2012.09.10.22.32.42;	author amodra;	state Exp;
branches;
next	1.1925.2.5;

1.1925.2.5
date	2012.10.22.12.01.39;	author gingold;	state Exp;
branches;
next	1.1925.2.6;

1.1925.2.6
date	2012.10.31.11.45.10;	author nickc;	state Exp;
branches;
next	1.1925.2.7;

1.1925.2.7
date	2012.11.05.12.39.44;	author amodra;	state Exp;
branches;
next	1.1925.2.8;

1.1925.2.8
date	2013.01.07.17.42.43;	author roland;	state Exp;
branches;
next	1.1925.2.9;

1.1925.2.9
date	2013.01.21.13.48.39;	author amodra;	state Exp;
branches;
next	;

1.1831.2.1
date	2011.10.25.03.08.39;	author amodra;	state Exp;
branches;
next	1.1831.2.2;

1.1831.2.2
date	2012.01.30.11.35.37;	author nickc;	state Exp;
branches;
next	;

1.1708.2.1
date	2010.11.05.10.50.10;	author gingold;	state Exp;
branches;
next	1.1708.2.2;

1.1708.2.2
date	2010.11.05.13.23.58;	author gingold;	state Exp;
branches;
next	1.1708.2.3;

1.1708.2.3
date	2010.11.08.11.37.51;	author nickc;	state Exp;
branches;
next	1.1708.2.4;

1.1708.2.4
date	2010.11.10.14.42.17;	author nickc;	state Exp;
branches;
next	1.1708.2.5;

1.1708.2.5
date	2010.11.25.06.10.36;	author amodra;	state Exp;
branches;
next	1.1708.2.6;

1.1708.2.6
date	2010.11.26.00.01.15;	author amodra;	state Exp;
branches;
next	1.1708.2.7;

1.1708.2.7
date	2010.12.21.02.16.55;	author amodra;	state Exp;
branches;
next	1.1708.2.8;

1.1708.2.8
date	2011.02.01.12.25.36;	author amodra;	state Exp;
branches;
next	1.1708.2.9;

1.1708.2.9
date	2011.03.01.00.02.38;	author amodra;	state Exp;
branches;
next	1.1708.2.10;

1.1708.2.10
date	2011.05.29.04.51.22;	author amodra;	state Exp;
branches;
next	1.1708.2.11;

1.1708.2.11
date	2011.05.30.06.12.33;	author amodra;	state Exp;
branches;
next	1.1708.2.12;

1.1708.2.12
date	2011.05.31.08.55.55;	author amodra;	state Exp;
branches;
next	;

1.1521.2.1
date	2009.09.05.08.00.19;	author nickc;	state Exp;
branches;
next	1.1521.2.2;

1.1521.2.2
date	2009.09.07.12.53.19;	author gingold;	state Exp;
branches;
next	1.1521.2.3;

1.1521.2.3
date	2009.09.07.18.22.45;	author jkratoch;	state Exp;
branches;
next	1.1521.2.4;

1.1521.2.4
date	2009.09.08.10.47.49;	author amodra;	state Exp;
branches;
next	1.1521.2.5;

1.1521.2.5
date	2009.09.09.15.05.50;	author nickc;	state Exp;
branches;
next	1.1521.2.6;

1.1521.2.6
date	2009.09.10.13.42.07;	author nickc;	state Exp;
branches;
next	1.1521.2.7;

1.1521.2.7
date	2009.09.11.15.28.42;	author nickc;	state Exp;
branches;
next	1.1521.2.8;

1.1521.2.8
date	2009.09.18.07.52.14;	author nickc;	state Exp;
branches;
next	1.1521.2.9;

1.1521.2.9
date	2009.09.18.08.01.08;	author nickc;	state Exp;
branches;
next	1.1521.2.10;

1.1521.2.10
date	2009.09.21.11.55.17;	author amodra;	state Exp;
branches;
next	1.1521.2.11;

1.1521.2.11
date	2009.09.22.18.30.46;	author rsandifo;	state Exp;
branches;
next	1.1521.2.12;

1.1521.2.12
date	2009.09.29.15.34.36;	author nickc;	state Exp;
branches;
next	1.1521.2.13;

1.1521.2.13
date	2009.10.01.06.42.37;	author amodra;	state Exp;
branches;
next	1.1521.2.14;

1.1521.2.14
date	2009.10.18.23.12.50;	author amodra;	state Exp;
branches;
next	1.1521.2.15;

1.1521.2.15
date	2009.10.18.23.14.52;	author amodra;	state Exp;
branches;
next	1.1521.2.16;

1.1521.2.16
date	2009.10.23.00.15.41;	author amodra;	state Exp;
branches;
next	1.1521.2.17;

1.1521.2.17
date	2009.12.31.14.43.49;	author nickc;	state Exp;
branches;
next	1.1521.2.18;

1.1521.2.18
date	2010.01.05.01.52.41;	author amodra;	state Exp;
branches;
next	1.1521.2.19;

1.1521.2.19
date	2010.02.11.14.34.42;	author clyon;	state Exp;
branches;
next	1.1521.2.20;

1.1521.2.20
date	2010.04.22.14.43.48;	author nickc;	state Exp;
branches;
next	;

1.1365.2.1
date	2008.09.09.08.02.18;	author amodra;	state Exp;
branches;
next	1.1365.2.2;

1.1365.2.2
date	2008.09.11.09.10.17;	author amodra;	state Exp;
branches;
next	1.1365.2.3;

1.1365.2.3
date	2008.09.17.08.18.20;	author jkratoch;	state Exp;
branches;
next	1.1365.2.4;

1.1365.2.4
date	2008.09.24.14.39.47;	author amodra;	state Exp;
branches;
next	1.1365.2.5;

1.1365.2.5
date	2008.09.25.21.55.51;	author rth;	state Exp;
branches;
next	1.1365.2.6;

1.1365.2.6
date	2008.12.01.10.05.34;	author nickc;	state Exp;
branches;
next	1.1365.2.7;

1.1365.2.7
date	2008.12.23.11.49.58;	author nickc;	state Exp;
branches;
next	1.1365.2.8;

1.1365.2.8
date	2009.03.02.13.31.14;	author amodra;	state Exp;
branches;
next	1.1365.2.9;

1.1365.2.9
date	2009.03.02.13.35.24;	author amodra;	state Exp;
branches;
next	1.1365.2.10;

1.1365.2.10
date	2009.03.02.13.43.13;	author amodra;	state Exp;
branches;
next	;

1.1219.2.1
date	2007.08.06.20.35.27;	author drow;	state Exp;
branches;
next	1.1219.2.2;

1.1219.2.2
date	2007.08.10.13.12.05;	author nickc;	state Exp;
branches;
next	1.1219.2.3;

1.1219.2.3
date	2007.08.13.01.53.11;	author drow;	state Exp;
branches;
next	1.1219.2.4;

1.1219.2.4
date	2007.08.17.13.43.13;	author amodra;	state Exp;
branches;
next	1.1219.2.5;

1.1219.2.5
date	2007.08.24.14.05.27;	author drow;	state Exp;
branches;
next	1.1219.2.6;

1.1219.2.6
date	2007.08.25.23.00.14;	author amodra;	state Exp;
branches;
next	1.1219.2.7;

1.1219.2.7
date	2007.08.28.11.58.50;	author nickc;	state Exp;
branches;
next	;

1.1054.2.1
date	2006.05.02.14.19.02;	author drow;	state Exp;
branches;
next	1.1054.2.2;

1.1054.2.2
date	2006.05.22.15.01.48;	author drow;	state Exp;
branches;
next	1.1054.2.3;

1.1054.2.3
date	2006.05.23.09.28.56;	author nickc;	state Exp;
branches;
next	1.1054.2.4;

1.1054.2.4
date	2006.05.24.07.58.39;	author nickc;	state Exp;
branches;
next	1.1054.2.5;

1.1054.2.5
date	2006.05.30.11.02.41;	author nickc;	state Exp;
branches;
next	1.1054.2.6;

1.1054.2.6
date	2006.06.02.02.20.59;	author drow;	state Exp;
branches;
next	1.1054.2.7;

1.1054.2.7
date	2006.06.02.23.11.46;	author jsm28;	state Exp;
branches;
next	1.1054.2.8;

1.1054.2.8
date	2006.06.07.15.40.41;	author jsm28;	state Exp;
branches;
next	1.1054.2.9;

1.1054.2.9
date	2006.08.15.12.01.21;	author nickc;	state Exp;
branches;
next	;

1.1048.2.1
date	2006.08.22.15.08.29;	author jsm28;	state Exp;
branches;
next	;

1.878.2.1
date	2005.03.10.10.38.55;	author nickc;	state Exp;
branches;
next	1.878.2.2;

1.878.2.2
date	2005.03.10.19.49.22;	author nickc;	state Exp;
branches;
next	1.878.2.3;

1.878.2.3
date	2005.03.11.08.37.24;	author nickc;	state Exp;
branches;
next	1.878.2.4;

1.878.2.4
date	2005.03.13.23.44.46;	author amodra;	state Exp;
branches;
next	1.878.2.5;

1.878.2.5
date	2005.03.14.23.40.09;	author amodra;	state Exp;
branches;
next	1.878.2.6;

1.878.2.6
date	2005.03.15.05.30.35;	author amodra;	state Exp;
branches;
next	1.878.2.7;

1.878.2.7
date	2005.03.20.19.16.22;	author mmitchel;	state Exp;
branches;
next	1.878.2.8;

1.878.2.8
date	2005.03.23.09.44.45;	author nickc;	state Exp;
branches;
next	1.878.2.9;

1.878.2.9
date	2005.04.04.14.43.57;	author nickc;	state Exp;
branches;
next	1.878.2.10;

1.878.2.10
date	2005.04.04.14.56.35;	author macro;	state Exp;
branches;
next	1.878.2.11;

1.878.2.11
date	2005.04.04.15.07.34;	author macro;	state Exp;
branches;
next	1.878.2.12;

1.878.2.12
date	2005.04.20.07.15.49;	author amodra;	state Exp;
branches;
next	1.878.2.13;

1.878.2.13
date	2005.04.20.16.44.08;	author hjl;	state Exp;
branches;
next	1.878.2.14;

1.878.2.14
date	2005.04.20.18.44.06;	author drow;	state Exp;
branches;
next	;

1.740.2.1
date	2004.04.09.18.28.05;	author drow;	state Exp;
branches;
next	1.740.2.2;

1.740.2.2
date	2004.05.17.16.16.34;	author drow;	state Exp;
branches;
next	;

1.638.2.1
date	2003.05.06.01.17.00;	author drow;	state Exp;
branches;
next	1.638.2.2;

1.638.2.2
date	2003.05.15.19.20.37;	author drow;	state Exp;
branches;
next	1.638.2.3;

1.638.2.3
date	2003.09.16.18.31.19;	author danglin;	state Exp;
branches;
next	;

1.509.2.1
date	2002.07.16.07.59.01;	author nickc;	state Exp;
branches;
next	1.509.2.2;

1.509.2.2
date	2002.07.20.14.13.55;	author amodra;	state Exp;
branches;
next	1.509.2.3;

1.509.2.3
date	2002.07.23.05.13.49;	author amodra;	state Exp;
branches;
next	1.509.2.4;

1.509.2.4
date	2002.07.23.09.57.23;	author nickc;	state Exp;
branches;
next	1.509.2.5;

1.509.2.5
date	2002.07.23.20.17.49;	author drow;	state Exp;
branches;
next	1.509.2.6;

1.509.2.6
date	2002.07.24.09.38.03;	author nickc;	state Exp;
branches;
next	1.509.2.7;

1.509.2.7
date	2002.07.25.10.31.12;	author nickc;	state Exp;
branches;
next	1.509.2.8;

1.509.2.8
date	2002.07.30.18.18.08;	author drow;	state Exp;
branches;
next	1.509.2.9;

1.509.2.9
date	2002.09.23.22.13.11;	author drow;	state Exp;
branches;
next	1.509.2.10;

1.509.2.10
date	2002.10.21.02.23.25;	author amodra;	state Exp;
branches;
next	1.509.2.11;

1.509.2.11
date	2002.10.28.18.45.47;	author drow;	state Exp;
branches;
next	1.509.2.12;

1.509.2.12
date	2002.10.30.16.29.42;	author drow;	state Exp;
branches;
next	1.509.2.13;

1.509.2.13
date	2002.11.07.17.04.36;	author drow;	state Exp;
branches;
next	1.509.2.14;

1.509.2.14
date	2002.12.15.22.31.46;	author drow;	state Exp;
branches;
next	1.509.2.15;

1.509.2.15
date	2002.12.19.22.45.41;	author amodra;	state Exp;
branches;
next	;

1.419.2.1
date	2002.02.10.18.46.59;	author drow;	state Exp;
branches;
next	1.419.2.2;

1.419.2.2
date	2002.02.11.02.40.31;	author drow;	state Exp;
branches;
next	1.419.2.3;

1.419.2.3
date	2002.02.11.02.57.17;	author amodra;	state Exp;
branches;
next	1.419.2.4;

1.419.2.4
date	2002.02.11.19.08.03;	author drow;	state Exp;
branches;
next	1.419.2.5;

1.419.2.5
date	2002.02.12.06.45.40;	author amodra;	state Exp;
branches;
next	1.419.2.6;

1.419.2.6
date	2002.02.12.09.48.50;	author aoliva;	state Exp;
branches;
next	1.419.2.7;

1.419.2.7
date	2002.02.13.19.16.42;	author thorpej;	state Exp;
branches;
next	1.419.2.8;

1.419.2.8
date	2002.02.15.04.14.13;	author hp;	state Exp;
branches;
next	1.419.2.9;

1.419.2.9
date	2002.03.08.02.13.13;	author drow;	state Exp;
branches;
next	1.419.2.10;

1.419.2.10
date	2002.03.08.05.42.37;	author drow;	state Exp;
branches;
next	1.419.2.11;

1.419.2.11
date	2002.03.08.06.04.46;	author drow;	state Exp;
branches;
next	1.419.2.12;

1.419.2.12
date	2002.03.28.06.22.58;	author amodra;	state Exp;
branches;
next	1.419.2.13;

1.419.2.13
date	2002.04.04.14.53.02;	author amodra;	state Exp;
branches;
next	1.419.2.14;

1.419.2.14
date	2002.04.27.12.45.11;	author amodra;	state Exp;
branches;
next	1.419.2.15;

1.419.2.15
date	2002.05.09.11.53.23;	author amodra;	state Exp;
branches;
next	;

1.253.2.1
date	2001.01.31.06.02.43;	author amodra;	state Exp;
branches;
next	1.253.2.2;

1.253.2.2
date	2001.02.04.16.45.44;	author pb;	state Exp;
branches;
next	1.253.2.3;

1.253.2.3
date	2001.02.09.16.33.59;	author amodra;	state Exp;
branches;
next	1.253.2.4;

1.253.2.4
date	2001.02.13.09.37.00;	author hp;	state Exp;
branches;
next	1.253.2.5;

1.253.2.5
date	2001.03.11.17.41.05;	author pb;	state Exp;
branches;
next	1.253.2.6;

1.253.2.6
date	2001.03.16.10.52.18;	author pb;	state Exp;
branches;
next	1.253.2.7;

1.253.2.7
date	2001.04.06.11.04.45;	author hp;	state Exp;
branches;
next	1.253.2.8;

1.253.2.8
date	2001.05.28.18.34.24;	author pb;	state Exp;
branches;
next	1.253.2.9;

1.253.2.9
date	2001.05.30.10.49.03;	author nickc;	state Exp;
branches;
next	1.253.2.10;

1.253.2.10
date	2001.06.07.03.12.26;	author amodra;	state Exp;
branches;
next	1.253.2.11;

1.253.2.11
date	2001.06.09.02.24.07;	author amodra;	state Exp;
branches;
next	1.253.2.12;

1.253.2.12
date	2001.06.10.13.50.18;	author pb;	state Exp;
branches;
next	1.253.2.13;

1.253.2.13
date	2001.06.11.10.04.26;	author amodra;	state Exp;
branches;
next	1.253.2.14;

1.253.2.14
date	2001.06.27.16.45.43;	author nickc;	state Exp;
branches;
next	1.253.2.15;

1.253.2.15
date	2001.06.29.14.35.10;	author nickc;	state Exp;
branches;
next	1.253.2.16;

1.253.2.16
date	2001.07.31.23.37.28;	author obrien;	state Exp;
branches;
next	1.253.2.17;

1.253.2.17
date	2001.08.05.20.56.37;	author pb;	state Exp;
branches;
next	1.253.2.18;

1.253.2.18
date	2001.10.01.16.17.06;	author nickc;	state Exp;
branches;
next	1.253.2.19;

1.253.2.19
date	2001.10.02.09.12.11;	author nickc;	state Exp;
branches;
next	1.253.2.20;

1.253.2.20
date	2001.10.17.14.45.10;	author nickc;	state Exp;
branches;
next	;

1.129.2.1
date	2000.04.05.05.36.40;	author amodra;	state Exp;
branches;
next	1.129.2.2;

1.129.2.2
date	2000.04.07.04.39.24;	author amodra;	state Exp;
branches;
next	1.129.2.3;

1.129.2.3
date	2000.04.10.18.01.16;	author nickc;	state Exp;
branches;
next	1.129.2.4;

1.129.2.4
date	2000.05.23.07.57.58;	author pb;	state Exp;
branches;
next	1.129.2.5;

1.129.2.5
date	2000.05.23.08.08.03;	author pb;	state Exp;
branches;
next	1.129.2.6;

1.129.2.6
date	2000.05.23.08.39.06;	author amodra;	state Exp;
branches;
next	1.129.2.7;

1.129.2.7
date	2000.05.25.03.13.39;	author amodra;	state Exp;
branches;
next	1.129.2.8;

1.129.2.8
date	2000.05.28.10.57.50;	author amodra;	state Exp;
branches;
next	1.129.2.9;

1.129.2.9
date	2000.05.30.07.51.02;	author amodra;	state Exp;
branches;
next	1.129.2.10;

1.129.2.10
date	2000.09.04.17.37.35;	author obrien;	state Exp;
branches;
next	1.129.2.11;

1.129.2.11
date	2000.09.05.08.56.22;	author obrien;	state Exp;
branches;
next	1.129.2.12;

1.129.2.12
date	2000.10.14.18.42.22;	author pb;	state Exp;
branches;
next	1.129.2.13;

1.129.2.13
date	2000.10.14.20.43.12;	author pb;	state Exp;
branches;
next	1.129.2.14;

1.129.2.14
date	2000.10.16.11.27.22;	author pb;	state Exp;
branches;
next	1.129.2.15;

1.129.2.15
date	2000.11.01.21.21.53;	author pb;	state Exp;
branches;
next	;

1.1.1.1
date	99.05.03.07.29.09;	author rth;	state Exp;
branches;
next	;


desc
@@


1.2054
log
@2013-10-14  Chao-ying Fu  <Chao-ying.Fu@@imgtec.com>

	* readelf.c (display_mips_gnu_attribute): Support Tag_GNU_MIPS_ABI_MSA.
	* doc/binutils.texi: Document -Mmsa disassembler option.
@
text
@2013-10-14  Chao-ying Fu  <Chao-ying.Fu@@imgtec.com>

	* readelf.c (display_mips_gnu_attribute): Support Tag_GNU_MIPS_ABI_MSA.
	* doc/binutils.texi: Document -Mmsa disassembler option.

2013-10-14  Jan-Benedict Glaw  <jbglaw@@lug-owl.de>

	* readelf.c (decode_arm_unwind): Don't initialize `addr'.

2013-10-14  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (decode_arm_unwind): Initialise addr structure.
	(process_symbol_table): Free lengths.
	* srcconv.c (wr_sc): Free info.

2013-10-11  Roland McGrath  <mcgrathr@@google.com>

	* winduni.c (languages): Use \345 (octal syntax) rather than
	literal non-ASCII/non-UTF8 character in string literal.

	* readelf.c (print_dynamic_symbol): Use array subscript syntax
	rather than addition syntax with string literal.

2013-10-09  Nick Clifton  <nickc@@redhat.com>

	PR binutils/16023
	* debug.c (debug_type_samep): Add missing break statement.

	PR binutils/16024
	* objdump.c (usage): Mark as a no-return function.
	(main): Add comment explaining why a break statement is not
	needed.

	* dwarf.c (add64): New function.
	(read_and_display_attr_value): Add CU offset in to the value
	displayed for a DW_AT_ref8 attribute.

2013-10-01  Cory Fields  <cory@@coryfields.com>

	* arsup.c (ar_save): Respect the deterministic setting when
	reading from an mri script.
	* ar.c (main): Set the default deterministic mode when reading
	from an mri script.

2013-10-01  Jan-Benedict Glaw  <jbglaw@@lug-owl.de>

	* dwarf.c (SAFE_BYTE_GET): Fix argument check.

2013-09-27  H.J. Lu  <hongjiu.lu@@intel.com>

	* dwarf.c (display_debug_frames): Pass offset_size to
	print_dwarf_vma for cie_id.

2013-09-20  Alan Modra  <amodra@@gmail.com>

	* configure: Regenerate.

2013-09-18  Tristan Gingold  <gingold@@adacore.com>

	* NEWS: Add marker for 2.24.

2013-09-18  Tristan Gingold  <gingold@@adacore.com>

	* Makefile.am (LEXLIB): Define.  Replase references to @@LEXLIB@@
	by $(LEXLIB).
	* Makefile.in: Regenerate.

2013-09-17  Doug Gilmore  <Doug.Gilmore@@imgtec.com>

	* readelf.c (get_machine_flags): Handle EF_MIPS_FP64.

2013-09-12  Nick Clifton  <nickc@@redhat.com>

	* dwarf.c (dwarf_vmatoa): Rename to dwarf_vmatoa_1 and add a
	precision parameter.
	(dwarf_vmatoa): New wrapper for dwarf_vmatoa_1.
	(print_dwarf_vma): Use dwarf_vmatoa_1.
	(SAFE_BYTE_GET): Add check that VAL is big enough to contain
	AMOUNT bytes.
	(process_debug_info): Use an unsigned int for the offset size.
	(process_debug_pubnames): Likewise.
	(display_debug_aranges): Likewise.
	(struct Frame_Chunk): Use dwarf_vma type for pc_begin and pc_range
	fields.
	(frame_display_row): Use print_dwarf_vma to display dwarf_vma
	values.
	(display_debug_frames): Likewise.

2013-09-10  Nick Clifton  <nickc@@redhat.com>

	* dwarf.c (display_debug_frames): Check for DW64_CIE_ID when
	parsing 64-bit frames.

2013-08-27  Nick Clifton  <nickc@@redhat.com>

	PR binutils/15796
	* ar.c (map_over_members): Correctly handle multiple same-name
	entries on the command line and in the archive.

2013-08-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* doc/binutils.texi: Remove the extra space.

2013-08-23  Mikael Pettersson  <mikpe@@it.uu.se>

	PR binutils/15779
	* doc/binutils.texi (ranlib -D): Correct description.
	PR binutils/15777
	(nm --special-syms): Fix typo.

2013-08-23  Nick Clifton  <nickc@@redhat.com>

	PR binutils/15798
	* doc/binutils.texi (ar cmdline): Update description of 'q'
	command.

	PR binutils/14136
	(nm): Add description of 'I' symbol type.

2013-08-23  Yuri Chornoivan  <yurchor@@ukr.net>

	PR binutils/15834
	* od-xcoff.c: Fix typos.

2013-08-19  Tristan Gingold  <gingold@@adacore.com>

	* nm.c (print_size_symbols): Directly get symbol size.

2013-08-12  Andreas Schwab  <schwab@@suse.de>

	PR binutils/15818
	* objdump.c (disassemble_section): Return early if nothing from
	this section needs to be disassembled.

2013-08-09  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (get_machine_flags): Handle RL78 G10 flag.

2013-07-26  Sergey Guriev  <sergey.s.guriev@@intel.com>
	    Alexander Ivchenko  <alexander.ivchenko@@intel.com>
	    Maxim Kuznetsov  <maxim.kuznetsov@@intel.com>
	    Sergey Lega  <sergey.s.lega@@intel.com>
	    Anna Tikhonova  <anna.tikhonova@@intel.com>
	    Ilya Tocar  <ilya.tocar@@intel.com>
	    Andrey Turetskiy  <andrey.turetskiy@@intel.com>
	    Ilya Verbin  <ilya.verbin@@intel.com>
	    Kirill Yukhin  <kirill.yukhin@@intel.com>
	    Michael Zolotukhin  <michael.v.zolotukhin@@intel.com>

	* dwarf.c (dwarf_regnames_i386): Add k0-k7 registers and
	numeration in comments.
	(dwarf_regnames_x86_64): Add xmm16-31 and k0-k7 registers to
	dwarf table.

2013-07-19  Nick Clifton  <nickc@@redhat.com>

	PR binutils/15745
	* readelf.c (get_unwind_section_word): Whilst searching for a
	reloc section associated with an unwind section, check the type as
	well as the section number.

2013-07-18  Jim Thomas  <thomas@@cfht.hawaii.edu>

	* ar.c (usage): Fix C conformance issue.

2013-07-18  Nick Clifton  <nickc@@redhat.com>

	* doc/binutils.texi (nm, objdump): Remove bogus links to STABS
	documentation.

	* readelf.c (process_unwind): Do not return the result of a void
	function.

2013-07-15  Maciej W. Rozycki  <macro@@codesourcery.com>

	* readelf.c (display_mips_gnu_attribute): Replace hardcoded magic
	numbers with enum values.

2013-07-12  Maciej W. Rozycki  <macro@@codesourcery.com>

	* readelf.c (get_machine_flags): Handle EF_MIPS_NAN2008.

2013-07-10  Tristan Gingold  <gingold@@adacore.com>

	* od-xcoff.c (OPT_LDINFO): Define.
	(options): Add ldinfo.
	(xcoff_help): Mention ldinfo.
	(xcoff_dump): Rename to ...
	(xcoff_dump_obj): ... this.  Add a break.
	(dump_dumpx_core): New function.
	(xcoff_dump_core): Likewise.
	(xcoff_dump): Likewise.
	* doc/binutils.texi (objdump): Mention ldinfo.

2013-07-09  Tristan Gingold  <gingold@@adacore.com>

	* configure.com: Add new defines to match changes in configure.

2013-05-28  Cary Coutant  <ccoutant@@google.com>

	* dwarf.c (display_debug_lines_raw): Print section offsets.

2013-05-15  Cary Coutant  <ccoutant@@google.com>

	* dwarf.c (SAFE_BYTE_GET64): Correct end-of-buffer check;
	don't increment PTR.
	(decode_location_expression): DW_OP_const2u should read 2 bytes.
	(display_debug_lines_decoded): Adjust formatting.
	* elfcomm.c (byte_get_little_endian): Add cases for 5-, 6-, and
	7-byte reads.
	(byte_get_big_endian): Likewise.
	(byte_get_signed): Likewise.

2013-05-09  Andrew Pinski  <apinski@@cavium.com>

	* doc/binutils.texi: Document -Mvirt disassembler option.

2013-05-02  Nick Clifton  <nickc@@redhat.com>

	* readelf.c: Add support for MSP430X architecture.

2013-05-02  Nick Clifton  <nickc@@redhat.com>

	* dwarf.c (display_debug_lines_raw): Do not treat .debug_line.dwo
	sections as if they were fragmentary .debug_line sections.
	(display_debug_lines_decoded): Likewise.

2013-04-29  Nick Clifton  <nickc@@redhat.com>

	* dwarf.c (read_debug_line_header): New function.  Reads in a
	header in a .debug_line section.
	(display_debug_lines_raw): Use new function.  Handle fragmentary
	.debug_line sections.
	(display_debug_lines_decoded): Likewise.
	* readelf.c (process_section_headers): Handle fragmenatry
	.debug_line sections.
	(display_debug_section): Likewise.

2013-04-26  Ian Lance Taylor  <iant@@google.com>

	* MAINTAINERS: Add myself and Cary as gold maintainers.

2013-04-08  Tom Tromey  <tromey@@redhat.com>

	* dwarf.c (process_debug_info): Check dwarf_cutoff_level.

2013-04-08  Tom Tromey  <tromey@@redhat.com>

	* dwarf-mode.el: Bump version number.
	(dwarf-mode): Remove autoload.
	(dwarf-die-reference): Relax regexp.

2013-04-05  Alan Modra  <amodra@@gmail.com>

	PR binutils/15324
	* configure.in: Add strnlen to AC_CHECK_DECLS, sort.
	* dwarf.c (strnlen): Provide fallback decl.
	* config.in: Regnerate.
	* configure: Regenerate.

2013-03-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* dwarf.c (process_debug_info): Increment hdrptr by 8 after
	SAFE_BYTE_GET64.

2013-03-27  Phil Krylov <phil.krylov@@gmail.com>

	PR binutils/13409
	* winduni.c (codepages[]): Use UTF-16LE.
	(wind_MultiByteToWideChar): Likewise.
	(wind_WideCharToMultiByte): Likewise.

2013-03-27  Alan Modra  <amodra@@gmail.com>

	PR binutils/15206
	* dwarf.c (read_and_display_attr_value): Cast format '*' arg to int.

2013-03-26  Nick Clifton  <nickc@@redhat.com>

	PR binutils/15206
	* dwarf.c (SAFE_BYTE_GET): New macro - checks remaining buffer
	space before calling byte_get.
	(SAFE_BYTE_GET_AND_INC): New macro.
	(SAFE_SIGNED_BYTE_GET): New macro.
	(SAFE_SIGNED_BYTE_GET_AND_INC): New macro.
	(SAFE_BYTE_GET64): New macro.
	(process_extened_line_op): Use new macros.  Use strnlen when
	appropriate.
	(fetch_indirect_string): Likewise.
	(get_FORM_name): Likewise.
	(decode_location_expression): Likewise.
	(read_and_display_attr_value): Likewise.
	(process_debug_info): Likewise.
	(display_debug_lines_raw): Likewise.
	(display_debug_lines_decoded): Likewise.
	(display_debug_pubnames): Likewise.
	(display_debug_macinfo): Likewise.
	(get_line_filename_and_dirname): Likewise.
	(display_debug_macro): Likewise.
	(display_loc_list): Likewise.
	(display_loc_list_dwo): Likewise.
	(display_debug_aranges): Likewise.
	(display_debug_ranges): Likewise.
	(frame_display_row): Likewise.
	(display_debug_frames): Likewise.

2013-03-25  Nick Clifton  <nickc@@redhat.com>

	PR binutils/15202
	* dwarf.c (read_leb128): Add END parameter.  Do not read at or
	beyond end.
	(read_sleb128): Add END parameter.
	(read_uleb128): New function.
	(process_extended_line_op): Pass END to leb128 functions.
	(process_abbrev_section): Likewise.
	(decode_location_expression): Likewise.
	(read_and_display_attr_value): Likewise.
	(read_and_display_attr): Likewise.
	(process_debug_info): Likewise.
	(display_debug_lines_raw): Likewise.
	(display_debug_lines_decoded): Likewise.
	(display_debug_macinfo): Likewise.
	(get_line_filename_and_dirname): Likewise.
	(display_debug_macro): Likewise.
	(display_loc_list_dwo): Likewise.
	(display_debug_ranges): Likewise.
	* dwarf.h (read_leb128): Update prototype.
	* readelf.c (read_uleb128): Add END parameter.
	(decode_arm_unwind_bytecode): Pass END to read_uleb128.
	(decode_tic6x_unwind_bytecode): Likewise.
	(display_tag_value): New function.
	(display_arm_attribute): Add END parameter. Pass END to
	read_uleb128.  Use display_tag_value.
	(display_gnu_attribute): Likewise.
	(display_power_gnu_attribute): Likewise.
	(display_sparc_gnu_attribute): Likewise.
	(display_mips_gnu_attribute): Likewise.
	(display_tic6x_attribute): Likewise.
	(process_attributes): Likewise.
	(display_raw_attribute): New function.

2013-03-22  Nick Clifton  <nickc@@redhat.com>

	PR binutils/15201
	* dwarf.c (display_debug_ranges): Add checks for reading beyond
	the end of the section.

	PR binutils/15157
	* readelf.c (apply_relocations): Catch relocations with negative
	offsets.

2013-03-15  Nick Clifton  <nickc@@redhat.com>

	* addr2line.c (slurp_symtab): If canonicalization reveals that
	there were no ordinary symbols, try loading the dynamic symbols
	instead.

2013-03-14  Markos Chandras  <markos.chandras@@imgtec.com>

	* MAINTAINERS: Add myself as Meta maintainer.

2013-03-08  Andreas Arnez  <arnez@@linux.vnet.ibm.com>

	* readelf.c (get_note_type): Add NT_S390_TDB.

2013-03-07  Alan Modra  <amodra@@gmail.com>

	* strings.c (get_char): Dispense with buf[].  Instead shift
	chars into big-endian value and byte-swap later if
	little-endian.  Don't EOF check value read from object.

2013-03-05  Corinna Vinschen  <vinschen@@redhat.com>

	* configure.in: Build DLL tools on x86_64-*-cygwin* as well.
	* configure: Regenerate.

2013-03-04  Nick Clifton  <nickc@@redhat.com>

	* elfcomm.c (error): Flush stdout before emitting the error
	message.
	(warn): Likewise.

2013-03-01  Cary Coutant  <ccoutant@@google.com>

	* dwarf.c (cu_tu_indexes_read, shndx_pool, shndx_pool_size)
	(shndx_pool_used): Move to top of file.
	(struct cu_tu_set): New type.
	(cu_count, tu_count, cu_sets, tu_sets): New file scope variables.
	(fetch_indexed_string): Add "this_set" parameter.  Update all callers.
	(find_cu_tu_set_v2): New function.
	(read_and_display_attr_value): Add "this_set" parameter.
	(read_and_display_attr): Likewise.
	(process_debug_info): Track base offsets for DWARF package files.
	(load_debug_info): Call load_cu_tu_indexes.
	(get_DW_SECT_short_name): New function.
	(process_cu_tu_index): Add support for version 2 DWARF package files.

2013-02-27  Alan Modra  <amodra@@gmail.com>

	PR binutils/15191
	* readelf.c (offsetof): Define.
	(CHECK_ENTSIZE_VALUES): Remove extraneous indefinite article.
	(process_corefile_note_segment): Allow notes without name or
	desc.  Combine out-of-range checks.  Disallow "negative"
	notesz or descsz.

2013-02-26  Nick Clifton  <nickc@@redhat.com>

	PR binutils/15191
	* readelf.c (process_corefile_note_segment): Prevent attempts to
	read beyond the end of the note buffer.

2013-02-15  Kai Tietz  <ktietz@@redhat.com>

	* objcopy.c (copy_main): Initialize context variable.

2013-02-15  Nick Clifton  <nickc@@redhat.com>

	PR binutils/15140
	* ar.c (open_inarch): Fail on attempts to convert a normal archive
	to a thin archive or vice versa.
	* elfcomm.c (make_qualified_name): Handle corrupted thin
	archives.
	* readelf.c (process_archive): Likewise.
	* doc/binutils.texi: Clarify documentation describing thin
	archives.

2013-02-15  Nick Clifton  <nickc@@redhat.com>

	PR binutils/15033
	* objcopy.c (enum change_action): Delete.
	(struct section_list): Delete remove, copy, change_vma, change_lma
	and set_flags fields.  Add context field.
	(find_section_list): Add a context parameter.  Add support for
	wildcard characters in section names.
	(is_strip_section): Check for sections being both  copied and
	removed.
	(copy_object): Pass context to find_section_list.
	(setup_section): Likewise.
	(copy_section): Likewise.
	(copy_main): Likewise.
	* doc/binutils: Document the new behaviour.
	* NEWS: Mention the new feature

2013-02-14  Nick Clifton  <nickc@@redhat.com>

	PR binutils/15125
	* objcopy.c (copy_object): Provide a helpful warning message when
	adding a gnu_debuglink section to an object which already contains
	one.

2013-02-07  Nick Clifton  <nickc@@redhat.com>

	* elfcomm.c (get_archive_member_name): Prevent seg-fault if a
	corrupt archive uses long names but has no long name table.

2013-02-06  Sandra Loosemore  <sandra@@codesourcery.com>
            Andrew Jenner <andrew@@codesourcery.com>

	Based on patches from Altera Corporation.

	* readelf.c: Include elf/nios2.h.
	(dump_relocations): Add case for EM_ALTERA_NIOS2.
	(get_nios2_dynamic_type): New.
	(get_dynamic_type): Add case for EM_ALTERA_NIOS2.
	(is_32bit_abs_reloc): Fix EM_ALTERA_NIOS2 case.
	(is_16bit_abs_reloc): Likewise.
	(is_none_reloc): Add EM_ALTERA_NIOS2 and EM_NIOS32 cases.
	* NEWS: Note Altera Nios II support.
	* MAINTAINERS: Add Nios II maintainers.

2013-01-29  Xi Wang  <xi.wang@@gmail.com>

	* readelf.c (process_version_sections): Fix overflow checks to
	avoid undefined behaviour.

2013-01-28  Doug Evans  <dje@@google.com>

	* dwarf.c (display_gdb_index): Handle .gdb_index version 8.

2013-01-28  Robert Schiele  <rschiele@@gmail.com>

	* objcopy.c (parse_flags): Add merge and strings section flags.

2013-01-25  Cary Coutant  <ccoutant@@google.com>

	* dwarf.c (display_loc_list): Update offset for each line
	printed.
	(print_addr_index): New function.
	(display_loc_list_dwo): Update offset for each line printed.
	Fix problems displaying loclists in .dwo files.  Add support
	for type 4 entries.
	(display_debug_loc): Remove custom header for .dwo files.
	(display_debug_addr): Adjust formatting.

2013-01-25  Marco Atzeri  <marco.atzeri@@gmail.com>

	* objcopy.c : Enable long section names for OPTION_ADD_GNU_DEBUGLINK.

2013-01-24  Doug Evans  <dje@@google.com>

	* dwarf.c (display_debug_addr): Add missing parentheses to expression.

2013-01-24  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (get_machine_flags): Decode E_V850E3V5_ARCH.

2013-01-23  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* readelf.c: Add strings for NT_S390_LAST_BREAK and
	NT_S390_SYSTEM_CALL.

2013-01-18  Nick Clifton  <nickc@@redhat.com>

	PR binutils/15026
	* addr2line.c (translate_addresses): When pretty printing, print
	unknown function names on the same line as unknown symbol names.

2013-01-17  Nickolai Zeldovich  <nickolai@@csail.mit.edu>

	* objdump.c (dump_target_specific): Fix NULL pointer test.

2013-01-16  Alan Modra  <amodra@@gmail.com>

	PR binutils/15018
	* stabs.c (parse_stab_members): Always set physname here to avoid
	gcc warning..
	(parse_stab_argtypes): ..and don't duplicate the init here.

2013-01-10  Will Newton <will.newton@@imgtec.com>

	* binutils/readelf.c: (guess_is_rela): Add EM_METAG.
	(dump_relocations): Add EM_METAG.
	(get_machine_name): Correct case for Meta.
	(is_32bit_abs_reloc): Add support for Meta ADDR32 reloc.
	(is_none_reloc): Add support for Meta NONE reloc.

2013-01-08  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* readelf.c (get_note_type): Handle NT_ARM_TLS, NT_ARM_HW_BREAK
	and NT_ARM_HW_WATCH.

2013-01-07  Roland McGrath  <mcgrathr@@google.com>

	* objcopy.c (deterministic): Make int rather than bfd_boolean,
	initialize to -1.
	(strip_options, copy_options): Add -U/--disable-deterministic-archives.
	(default_deterministic): New function.
	(strip_main, copy_main): Handle -U.  Call default_deterministic.
	(copy_usage, strip_usage): Describe -U.  Cite whether -D or -U is
	the default based on DEFAULT_AR_DETERMINISTIC.
	* doc/binutils.texi (objcopy, strip): Describe -U and effect of
	configure options on -D.

	* ar.c (default_deterministic): Comment fix.

2013-01-07  Patrice Dumas  <pertusus@@free.fr>

	* doc/binutils.texi: Fix ordering of top level nodes.
	Replace erroneous uses of @@itemx with @@item.

2013-01-04  Andreas Schwab  <schwab@@linux-m68k.org>

	* doc/binutils.texi (elfedit): Fix use of @@itemx in @@table.

2013-01-03  Marcus Shawcroft  <marcus.shawcroft@@arm.com>

	* MAINTAINERS: Add myself as AArch64 co-maintainer.

2013-01-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* version.c (print_version): Update copyright year to 2013.

For older changes see ChangeLog-2012

Copyright (C) 2013 Free Software Foundation, Inc.

Copying and distribution of this file, with or without modification,
are permitted in any medium without royalty provided the copyright
notice and this notice are preserved.

Local Variables:
mode: change-log
left-margin: 8
fill-column: 74
version-control: never
End:
@


1.2053
log
@2013-10-14  Jan-Benedict Glaw  <jbglaw@@lug-owl.de>

	* readelf.c (decode_arm_unwind): Don't initialize `addr'.
@
text
@d1 5
@


1.2052
log
@	* gen-aout.c (main): Fix formatting.  Close file.

	* emultempl/aix.em (_read_file): Close file at end of function.

	* gas/all/itbl-test.c (main): Close fas.

	* read.c (add_include_dir): Use xrealloc.
	* config/tc-score.c (do_macro_bcmp): Initialise inst_main.
	* config/tc-tic6x.c (tic6x_parse_operand): Initialise second_reg.

	* readelf.c (decode_arm_unwind): Initialise addr structure.
	(process_symbol_table): Free lengths.
	* srcconv.c (wr_sc): Free info.

	* chew.c (perform): Free next.
@
text
@d1 4
@


1.2051
log
@binutils/
	* winduni.c (languages): Use \345 (octal syntax) rather than
	literal non-ASCII/non-UTF8 character in string literal.
@
text
@d1 6
@


1.2050
log
@binutils/
	* readelf.c (print_dynamic_symbol): Use array subscript syntax
	rather than addition syntax with string literal.
@
text
@d3 3
@


1.2049
log
@	PR binutils/16023
	* debug.c (debug_type_samep): Add missing break statement.
@
text
@d1 5
@


1.2048
log
@	PR binutils/16024
	* objdump.c (usage): Mark as a no-return function.
	(main): Add comment explaining why a break statement is not
	needed.
@
text
@d3 3
@


1.2047
log
@	* dwarf.c (add64): New function.
	(read_and_display_attr_value): Add CU offset in to the value
	displayed for a DW_AT_ref8 attribute.
@
text
@d3 5
@


1.2046
log
@	* arsup.c (ar_save): Respect the deterministic setting when
	reading from an mri script.
	* ar.c (main): Set the default deterministic mode when reading
	from an mri script.
@
text
@d1 6
@


1.2045
log
@2013-10-01  Jan-Benedict Glaw  <jbglaw@@lug-owl.de>

	* dwarf.c (SAFE_BYTE_GET): Fix argument check.
@
text
@d1 7
@


1.2044
log
@Pass offset_size to print_dwarf_vma for cie_id

binutils/

	* dwarf.c (display_debug_frames): Pass offset_size to
	print_dwarf_vma for cie_id.

binutils/testsuite/

	* binutils-all/x86-64/compressed-1a.d: Updated for 64-bit addresses.
@
text
@d1 4
@


1.2043
log
@	* libtool.m4 (_LT_ENABLE_LOCK <ld -m flags>): Remove non-canonical
	ppc host match.  Support little-endian powerpc linux hosts.
Regenerate binutils configure files.
@
text
@d1 5
@


1.2042
log
@binutils/
2013-09-18  Tristan Gingold  <gingold@@adacore.com>

	* NEWS: Add marker for 2.24.

gas/
2013-09-18  Tristan Gingold  <gingold@@adacore.com>

	* NEWS: Add marker for 2.24.

ld/
2013-09-18  Tristan Gingold  <gingold@@adacore.com>

	* NEWS: Add marker for 2.24.
@
text
@d1 4
@


1.2042.2.1
log
@	* libtool.m4 (_LT_ENABLE_LOCK <ld -m flags>): Remove non-canonical
	ppc host match.  Support little-endian powerpc linux hosts.
Regenerate configure files.
@
text
@a0 4
2013-09-20  Alan Modra  <amodra@@gmail.com>

	* configure: Regenerate.

@


1.2042.2.2
log
@	* dwarf.c (add64): New function.
	(read_and_display_attr_value): Add CU offset in to the value
	displayed for a DW_AT_ref8 attribute.
@
text
@a0 6
2013-10-09  Nick Clifton  <nickc@@redhat.com>

	* dwarf.c (add64): New function.
	(read_and_display_attr_value): Add CU offset in to the value
	displayed for a DW_AT_ref8 attribute.

@


1.2042.2.3
log
@binutils/
	* readelf.c (print_dynamic_symbol): Use array subscript syntax
	rather than addition syntax with string literal.
@
text
@a0 5
2013-10-11  Roland McGrath  <mcgrathr@@google.com>

	* readelf.c (print_dynamic_symbol): Use array subscript syntax
	rather than addition syntax with string literal.

@


1.2042.2.4
log
@binutils/
	* winduni.c (languages): Use \345 (octal syntax) rather than
	literal non-ASCII/non-UTF8 character in string literal.
@
text
@a2 5
	* winduni.c (languages): Use \345 (octal syntax) rather than
	literal non-ASCII/non-UTF8 character in string literal.

2013-10-11  Roland McGrath  <mcgrathr@@google.com>

@


1.2042.2.5
log
@Pass offset_size to print_dwarf_vma for cie_id

binutils/

	* dwarf.c (display_debug_frames): Pass offset_size to
	print_dwarf_vma for cie_id.

binutils/testsuite/

	* binutils-all/x86-64/compressed-1a.d: Updated for 64-bit addresses.
@
text
@a0 5
2013-10-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* dwarf.c (display_debug_frames): Pass offset_size to
	print_dwarf_vma for cie_id.

@


1.2041
log
@2013-09-18  Tristan Gingold  <gingold@@adacore.com>

	* Makefile.am (LEXLIB): Define.  Replase references to @@LEXLIB@@
	by $(LEXLIB).
	* Makefile.in: Regenerate.
@
text
@d3 4
@


1.2040
log
@2013-09-17  Doug Gilmore  <Doug.Gilmore@@imgtec.com>

	* readelf.c (get_machine_flags): Handle EF_MIPS_FP64.
@
text
@d1 6
@


1.2039
log
@	* dwarf.c (dwarf_vmatoa): Rename to dwarf_vmatoa_1 and add a
	precision parameter.
	(dwarf_vmatoa): New wrapper for dwarf_vmatoa_1.
	(print_dwarf_vma): Use dwarf_vmatoa_1.
	(SAFE_BYTE_GET): Add check that VAL is big enough to contain
	AMOUNT bytes.
	(process_debug_info): Use an unsigned int for the offset size.
	(process_debug_pubnames): Likewise.
	(display_debug_aranges): Likewise.
	(struct Frame_Chunk): Use dwarf_vma type for pc_begin and pc_range
	fields.
	(frame_display_row): Use print_dwarf_vma to display dwarf_vma
	values.
	(display_debug_frames): Likewise.

	* binutils-all/x86-64/compressed-1a.d: Update expected output to
	allow for 64-bit addresses.

	* ld-elf/eh1.d: Update expected output to allow for
	64-bit addresses.
	* ld-elf/eh2.d: Likewise.
	* ld-elf/eh3.d: Likewise.
	* ld-elf/eh4.d: Likewise.
	* ld-elf/eh5.d: Likewise.
	* ld-elf/eh6.d: Likewise.
	* ld-mips-elf/eh-frame1-n64.d: Likewise.
	* ld-mips-elf/eh-frame2-n64.d: Likewise.
	* ld-mips-elf/eh-frame3.d: Likewise.

	* gas/cfi/cfi-alpha-1.d: Update expected output to allow for
	64-bit addresses.
	* gas/cfi/cfi-alpha-3.d: Likewise.
	* gas/cfi/cfi-arm-1.d: Likewise.
	* gas/cfi/cfi-common-1.d: Likewise.
	* gas/cfi/cfi-common-2.d: Likewise.
	* gas/cfi/cfi-common-3.d: Likewise.
	* gas/cfi/cfi-common-4.d: Likewise.
	* gas/cfi/cfi-common-5.d: Likewise.
	* gas/cfi/cfi-common-6.d: Likewise.
	* gas/cfi/cfi-common-7.d: Likewise.
	* gas/cfi/cfi-hppa-1.d: Likewise.
	* gas/cfi/cfi-i386-2.d: Likewise.
	* gas/cfi/cfi-i386.d: Likewise.
	* gas/cfi/cfi-m68k.d: Likewise.
	* gas/cfi/cfi-mips-1.d: Likewise.
	* gas/cfi/cfi-ppc-1.d: Likewise.
	* gas/cfi/cfi-s390-1.d: Likewise.
	* gas/cfi/cfi-s390x-1.d: Likewise.
	* gas/cfi/cfi-sh-1.d: Likewise.
	* gas/cfi/cfi-sparc-1.d: Likewise.
	* gas/cfi/cfi-sparc64-1.d: Likewise.
	* gas/cfi/cfi-x86_64.d: Likewise.
@
text
@d1 4
@


1.2038
log
@	* dwarf.c (display_debug_frames): Check for DW64_CIE_ID when
	parsing 64-bit frames.
@
text
@d1 17
@


1.2037
log
@	PR binutils/15796
	* ar.c (map_over_members): Correctly handle multiple same-name
	entries on the command line and in the archive.
@
text
@d1 5
@


1.2036
log
@Remove the extra space

	* doc/binutils.texi: Remove the extra space.
@
text
@d1 6
@


1.2035
log
@	PR binutils/15777
	(nm --special-syms): Fix typo.
@
text
@d1 4
@


1.2034
log
@	PR binutils/15779
	* doc/binutils.texi (ranlib -D): Correct description.
@
text
@d5 2
@


1.2033
log
@	PR binutils/14136
	(nm): Add description of 'I' symbol type.
@
text
@d1 5
@


1.2032
log
@	PR binutils/15798
	* doc/binutils.texi (ar cmdline): Update description of 'q'
	command.
@
text
@d7 3
@


1.2031
log
@	PR binutils/15834
	Fix typos:
---
 bfd/bfdio.c                                  |  2 +-
 bfd/elf32-spu.c                              |  2 +-
 bfd/elfnn-aarch64.c                          |  2 +-
 binutils/od-xcoff.c                          |  2 +-
 config/tcl.m4                                |  2 +-
 gas/config/tc-ia64.c                         |  2 +-
 gas/config/tc-sparc.c                        |  2 +-
 gas/config/tc-z80.c                          | 12 ++++++------
 gas/doc/c-i386.texi                          |  6 +++---
 gas/doc/c-m32r.texi                          |  2 +-
 gas/testsuite/gas/d10v/instruction_packing.d |  2 +-
 gas/testsuite/gas/z80/atend.d                |  2 +-
 gold/object.h                                |  2 +-
 include/gdb/remote-sim.h                     |  2 +-
 include/opcode/ChangeLog                     |  2 +-
 include/opcode/i960.h                        |  2 +-
 ld/testsuite/ld-mips-elf/mips16-pic-1.inc    |  2 +-
 opcodes/aarch64-asm.c                        |  2 +-
 opcodes/aarch64-dis.c                        |  2 +-
 opcodes/msp430-dis.c                         |  2 +-
@
text
@d1 6
@


1.2030
log
@binutils/
2013-08-19  Tristan Gingold  <gingold@@adacore.com>

	* nm.c (print_size_symbols): Directly get symbol size.


binutils/testsuite/
2013-08-19  Tristan Gingold  <gingold@@adacore.com>

	* binutils-all/nm.exp: Add a test for nm --size-sort
	* binutils-all/nm-elf-1.s: New file.
	* binutils-all/nm-1.s: New file.
@
text
@d1 5
@


1.2029
log
@PR binutils/15818
* objdump.c (disassemble_section): Return early if nothing from
this section needs to be disassembled.
@
text
@d1 4
@


1.2028
log
@	* elf32-rl78.c (rl78_elf_merge_private_bfd_data): Complain if G10
	flag bits do not match.
	(rl78_elf_print_private_bfd_data): Describe G10 flag.

	* readelf.c (get_machine_flags): Handle RL78 G10 flag.

	* config/tc-rl78.c (elf_flags): New variable.
	(enum options): Add OPTION_G10.
	(md_longopts): Add mg10.
	(md_parse_option): Parse -mg10.
	(rl78_elf_final_processing): New function.
	* config/tc-rl78.c (tc_final_processing): Define.
	* doc/c-rl78.texi: Document -mg10 option.

	* rl78.c (E_FLAG_RL78_G10): Define.

	* lib/ld-lib.exp (check_shared_lib_support): Note that the RL78
	does not support shared library generation.
@
text
@d1 6
@


1.2027
log
@Add Intel AVX-512 support

binutils/

2013-07-26  Sergey Guriev  <sergey.s.guriev@@intel.com>
	    Alexander Ivchenko  <alexander.ivchenko@@intel.com>
	    Maxim Kuznetsov  <maxim.kuznetsov@@intel.com>
	    Sergey Lega  <sergey.s.lega@@intel.com>
	    Anna Tikhonova  <anna.tikhonova@@intel.com>
	    Ilya Tocar  <ilya.tocar@@intel.com>
	    Andrey Turetskiy  <andrey.turetskiy@@intel.com>
	    Ilya Verbin  <ilya.verbin@@intel.com>
	    Kirill Yukhin  <kirill.yukhin@@intel.com>
	    Michael Zolotukhin  <michael.v.zolotukhin@@intel.com>

	* dwarf.c (dwarf_regnames_i386): Add k0-k7 registers and
	numeration in comments.
	(dwarf_regnames_x86_64): Add xmm16-31 and k0-k7 registers to
	dwarf table.

gas/

2013-07-26  Sergey Guriev  <sergey.s.guriev@@intel.com>
	    Alexander Ivchenko  <alexander.ivchenko@@intel.com>
	    Maxim Kuznetsov  <maxim.kuznetsov@@intel.com>
	    Sergey Lega  <sergey.s.lega@@intel.com>
	    Anna Tikhonova  <anna.tikhonova@@intel.com>
	    Ilya Tocar  <ilya.tocar@@intel.com>
	    Andrey Turetskiy  <andrey.turetskiy@@intel.com>
	    Ilya Verbin  <ilya.verbin@@intel.com>
	    Kirill Yukhin  <kirill.yukhin@@intel.com>
	    Michael Zolotukhin  <michael.v.zolotukhin@@intel.com>

	* config/tc-i386-intel.c (O_zmmword_ptr): New.
	(i386_types): Add zmmword.
	(i386_intel_simplify_register): Allow regzmm.
	(i386_intel_simplify): Handle zmmwords.
	(i386_intel_operand): Handle RC/SAE, vector operations and
	zmmwords.
	* config/tc-i386.c (ZMMWORD_MNEM_SUFFIX): New.
	(struct RC_Operation): New.
	(struct Mask_Operation): New.
	(struct Broadcast_Operation): New.
	(vex_prefix): Size of bytes increased to 4 to support EVEX
	encoding.
	(enum i386_error): Add new error codes: unsupported_broadcast,
	broadcast_not_on_src_operand, broadcast_needed,
	unsupported_masking, mask_not_on_destination, no_default_mask,
	unsupported_rc_sae, rc_sae_operand_not_last_imm,
	invalid_register_operand, try_vector_disp8.
	(struct _i386_insn): Add new fields vrex, need_vrex, mask,
	rounding, broadcast, memshift.
	(struct RC_name): New.
	(RC_NamesTable): New.
	(evexlig): New.
	(evexwig): New.
	(extra_symbol_chars): Add '{'.
	(cpu_arch): Add AVX512F, AVX512CD, AVX512ER and AVX512PF.
	(i386_operand_type): Add regzmm, regmask and vec_disp8.
	(match_mem_size): Handle zmmwords.
	(operand_type_match): Handle zmm-registers.
	(mode_from_disp_size): Handle vec_disp8.
	(fits_in_vec_disp8): New.
	(md_begin): Handle {} properly.
	(type_names): Add "rZMM", "Mask reg" and "Vector d8".
	(build_vex_prefix): Handle vrex.
	(build_evex_prefix): New.
	(process_immext): Adjust to properly handle EVEX.
	(md_assemble): Add EVEX encoding support.
	(swap_2_operands): Correctly handle operands with masking,
	broadcasting or RC/SAE.
	(check_VecOperands): Support EVEX features.
	(VEX_check_operands): Properly handle 16 upper [xyz]mm registers.
	(match_template): Support regzmm and handle new error codes.
	(process_suffix): Handle zmmwords and zmm-registers.
	(check_byte_reg): Extend to zmm-registers.
	(process_operands): Extend to zmm-registers.
	(build_modrm_byte): Handle EVEX.
	(output_insn): Adjust to properly handle EVEX case.
	(disp_size): Handle vec_disp8.
	(output_disp): Support compressed disp8*N evex feature.
	(output_imm): Handle RC/SAE immediates properly.
	(check_VecOperations): New.
	(i386_immediate): Handle EVEX features.
	(i386_index_check): Handle zmmwords and zmm-registers.
	(RC_SAE_immediate): New.
	(i386_att_operand): Handle EVEX features.
	(parse_real_register): Add a check for ZMM/Mask registers.
	(OPTION_MEVEXLIG): New.
	(OPTION_MEVEXWIG): New.
	(md_longopts): Add mevexlig and mevexwig.
	(md_parse_option): Handle mevexlig and mevexwig options.
	(md_show_usage): Add description for mevexlig and mevexwig.
	* doc/c-i386.texi: Document avx512f/.avx512f, avx512cd/.avx512cd,
	avx512er/.avx512er, avx512pf/.avx512pf, mevexlig and mevexwig.

gas/testsuite/

2013-07-26  Sergey Guriev  <sergey.s.guriev@@intel.com>
	    Alexander Ivchenko  <alexander.ivchenko@@intel.com>
	    Maxim Kuznetsov  <maxim.kuznetsov@@intel.com>
	    Sergey Lega  <sergey.s.lega@@intel.com>
	    Anna Tikhonova  <anna.tikhonova@@intel.com>
	    Ilya Tocar  <ilya.tocar@@intel.com>
	    Andrey Turetskiy  <andrey.turetskiy@@intel.com>
	    Ilya Verbin  <ilya.verbin@@intel.com>
	    Kirill Yukhin  <kirill.yukhin@@intel.com>
	    Michael Zolotukhin  <michael.v.zolotukhin@@intel.com>

	* gas/cfi/cfi-i386.s: Add tests for k0-k7.
	* gas/cfi/cfi-i386.d: Change to reflect above mentioned changes.
	* gas/cfi/cfi-x86_64.s: Add tests for xmm16-31, k0-7.
	* gas/cfi/cfi-x86_64.d: Change to reflect above mentioned changes.
	* gas/i386/ilp32/cfi/cfi-x86_64.d: Ditto.
	* gas/i386/intel-regs.s: Add tests for zmm0 and xmm16 registers.
	* gas/i386/intel-regs.d: Change correspondingly.
	* gas/i386/prefetch-intel.d: Reflect implementation of prefetchwt1.
	* gas/i386/prefetch.d: Ditto.
	* gas/i386/x86-64-prefetch-intel.d: Ditto.
	* gas/i386/x86-64-prefetch.d: Ditto.
	* gas/i386/avx512f-intel.d: New.
	* gas/i386/avx512f-nondef.d: New.
	* gas/i386/avx512f-nondef.s: New.
	* gas/i386/avx512f-opts-intel.d: New.
	* gas/i386/avx512f-opts.d: New.
	* gas/i386/avx512f-opts.s: New.
	* gas/i386/avx512f.d: New.
	* gas/i386/avx512f.s: New.
	* gas/i386/avx512cd-intel.d: New.
	* gas/i386/avx512cd.d: New.
	* gas/i386/avx512cd.s: New.
	* gas/i386/avx512er-intel.d: New.
	* gas/i386/avx512er.d: New.
	* gas/i386/avx512er.s: New.
	* gas/i386/avx512pf-intel.d: New.
	* gas/i386/avx512pf.d: New.
	* gas/i386/avx512pf.s: New.
	* gas/i386/evex-lig.s: New.
	* gas/i386/evex-lig256-intel.d: New.
	* gas/i386/evex-lig256.d: New.
	* gas/i386/evex-lig512-intel.d: New.
	* gas/i386/evex-lig512.d: New.
	* gas/i386/evex-wig.s: New.
	* gas/i386/evex-wig1-intel.d: New.
	* gas/i386/evex-wig1.d: New.
	* gas/i386/inval-avx512f.l: New.
	* gas/i386/inval-avx512f.s: New.
	* gas/i386/x86-64-avx512f-intel.d: New.
	* gas/i386/x86-64-avx512f-nondef.d: New.
	* gas/i386/x86-64-avx512f-nondef.s: New.
	* gas/i386/x86-64-avx512f-opts-intel.d: New.
	* gas/i386/x86-64-avx512f-opts.d: New.
	* gas/i386/x86-64-avx512f-opts.s: New.
	* gas/i386/x86-64-avx512f.d: New.
	* gas/i386/x86-64-avx512f.s: New.
	* gas/i386/x86-64-avx512cd-intel.d: New.
	* gas/i386/x86-64-avx512cd.d: New.
	* gas/i386/x86-64-avx512cd.s: New.
	* gas/i386/x86-64-avx512er-intel.d: New.
	* gas/i386/x86-64-avx512er.d: New.
	* gas/i386/x86-64-avx512er.s: New.
	* gas/i386/x86-64-avx512pf-intel.d: New.
	* gas/i386/x86-64-avx512pf.d: New.
	* gas/i386/x86-64-avx512pf.s: New.
	* gas/i386/x86-64-evex-lig.s: New.
	* gas/i386/x86-64-evex-lig256-intel.d: New.
	* gas/i386/x86-64-evex-lig256.d: New.
	* gas/i386/x86-64-evex-lig512-intel.d: New.
	* gas/i386/x86-64-evex-lig512.d: New.
	* gas/i386/x86-64-evex-wig.s: New.
	* gas/i386/x86-64-evex-wig1-intel.d: New.
	* gas/i386/x86-64-evex-wig1.d: New.
	* gas/i386/x86-64-inval-avx512f.l: New.
	* gas/i386/x86-64-inval-avx512f.s: New.
	* gas/i386/i386.exp: Run new AVX-512 tests.

opcodes/

2013-07-26  Sergey Guriev  <sergey.s.guriev@@intel.com>
	    Alexander Ivchenko  <alexander.ivchenko@@intel.com>
	    Maxim Kuznetsov  <maxim.kuznetsov@@intel.com>
	    Sergey Lega  <sergey.s.lega@@intel.com>
	    Anna Tikhonova  <anna.tikhonova@@intel.com>
	    Ilya Tocar  <ilya.tocar@@intel.com>
	    Andrey Turetskiy  <andrey.turetskiy@@intel.com>
	    Ilya Verbin  <ilya.verbin@@intel.com>
	    Kirill Yukhin  <kirill.yukhin@@intel.com>
	    Michael Zolotukhin  <michael.v.zolotukhin@@intel.com>

	* i386-dis-evex.h: New.
	* i386-dis.c (OP_Rounding): New.
	(VPCMP_Fixup): New.
	(OP_Mask): New.
	(Rdq): New.
	(XMxmmq): New.
	(EXdScalarS): New.
	(EXymm): New.
	(EXEvexHalfBcstXmmq): New.
	(EXxmm_mdq): New.
	(EXEvexXGscat): New.
	(EXEvexXNoBcst): New.
	(VPCMP): New.
	(EXxEVexR): New.
	(EXxEVexS): New.
	(XMask): New.
	(MaskG): New.
	(MaskE): New.
	(MaskR): New.
	(MaskVex): New.
	(modes enum): Add evex_x_gscat_mode, evex_x_nobcst_mode,
	evex_half_bcst_xmmq_mode, xmm_mdq_mode, ymm_mode,
	evex_rounding_mode, evex_sae_mode, mask_mode.
	(USE_EVEX_TABLE): New.
	(EVEX_TABLE): New.
	(EVEX enum): New.
	(REG enum): Add REG_EVEX_0F72, REG_EVEX_0F73, REG_EVEX_0F38C6,
	REG_EVEX_0F38C7.
	(MOD enum): Add MOD_EVEX_0F10_PREFIX_1, MOD_EVEX_0F10_PREFIX_3,
	MOD_EVEX_0F11_PREFIX_1, MOD_EVEX_0F11_PREFIX_3,
	MOD_EVEX_0F12_PREFIX_0, MOD_EVEX_0F16_PREFIX_0, MOD_EVEX_0F38C6_REG_1,
	MOD_EVEX_0F38C6_REG_2, MOD_EVEX_0F38C6_REG_5, MOD_EVEX_0F38C6_REG_6,
	MOD_EVEX_0F38C7_REG_1, MOD_EVEX_0F38C7_REG_2,  MOD_EVEX_0F38C7_REG_5,
	MOD_EVEX_0F38C7_REG_6.
	(PREFIX enum): Add PREFIX_VEX_0F41, PREFIX_VEX_0F42, PREFIX_VEX_0F44,
	PREFIX_VEX_0F45, PREFIX_VEX_0F46, PREFIX_VEX_0F47, PREFIX_VEX_0F4B,
	PREFIX_VEX_0F90, PREFIX_VEX_0F91, PREFIX_VEX_0F92, PREFIX_VEX_0F93,
	PREFIX_VEX_0F98, PREFIX_VEX_0F3A30, PREFIX_VEX_0F3A32,
	PREFIX_VEX_0F3AF0, PREFIX_EVEX_0F10, PREFIX_EVEX_0F11,
	PREFIX_EVEX_0F12, PREFIX_EVEX_0F13, PREFIX_EVEX_0F14,
	PREFIX_EVEX_0F15, PREFIX_EVEX_0F16, PREFIX_EVEX_0F17,
	PREFIX_EVEX_0F28, PREFIX_EVEX_0F29, PREFIX_EVEX_0F2A,
	PREFIX_EVEX_0F2B, PREFIX_EVEX_0F2C, PREFIX_EVEX_0F2D,
	PREFIX_EVEX_0F2E, PREFIX_EVEX_0F2F, PREFIX_EVEX_0F51,
	PREFIX_EVEX_0F58, PREFIX_EVEX_0F59, PREFIX_EVEX_0F5A,
	PREFIX_EVEX_0F5B, PREFIX_EVEX_0F5C, PREFIX_EVEX_0F5D,
	PREFIX_EVEX_0F5E, PREFIX_EVEX_0F5F, PREFIX_EVEX_0F62,
	PREFIX_EVEX_0F66, PREFIX_EVEX_0F6A, PREFIX_EVEX_0F6C,
	PREFIX_EVEX_0F6D, PREFIX_EVEX_0F6E, PREFIX_EVEX_0F6F,
	PREFIX_EVEX_0F70, PREFIX_EVEX_0F72_REG_0, PREFIX_EVEX_0F72_REG_1,
	PREFIX_EVEX_0F72_REG_2, PREFIX_EVEX_0F72_REG_4,
	PREFIX_EVEX_0F72_REG_6, PREFIX_EVEX_0F73_REG_2,
	PREFIX_EVEX_0F73_REG_6, PREFIX_EVEX_0F76, PREFIX_EVEX_0F78,
	PREFIX_EVEX_0F79, PREFIX_EVEX_0F7A, PREFIX_EVEX_0F7B,
	PREFIX_EVEX_0F7E, PREFIX_EVEX_0F7F, PREFIX_EVEX_0FC2,
	PREFIX_EVEX_0FC6, PREFIX_EVEX_0FD2, PREFIX_EVEX_0FD3,
	PREFIX_EVEX_0FD4, PREFIX_EVEX_0FD6, PREFIX_EVEX_0FDB,
	PREFIX_EVEX_0FDF, PREFIX_EVEX_0FE2, PREFIX_EVEX_0FE6 PREFIX_EVEX_0FE7,
	PREFIX_EVEX_0FEB, PREFIX_EVEX_0FEF, PREFIX_EVEX_0FF2,
	PREFIX_EVEX_0FF3, PREFIX_EVEX_0FF4, PREFIX_EVEX_0FFA, PREFIX_EVEX_0FFB,
	PREFIX_EVEX_0FFE, PREFIX_EVEX_0F380C, PREFIX_EVEX_0F380D,
	PREFIX_EVEX_0F3811, PREFIX_EVEX_0F3812, PREFIX_EVEX_0F3813,
	PREFIX_EVEX_0F3814, PREFIX_EVEX_0F3815, PREFIX_EVEX_0F3816,
	PREFIX_EVEX_0F3818, PREFIX_EVEX_0F3819, PREFIX_EVEX_0F381A,
	PREFIX_EVEX_0F381B, PREFIX_EVEX_0F381E, PREFIX_EVEX_0F381F,
	PREFIX_EVEX_0F3821, PREFIX_EVEX_0F3822, PREFIX_EVEX_0F3823,
	PREFIX_EVEX_0F3824, PREFIX_EVEX_0F3825, PREFIX_EVEX_0F3827,
	PREFIX_EVEX_0F3828, PREFIX_EVEX_0F3829, PREFIX_EVEX_0F382A,
	PREFIX_EVEX_0F382C, PREFIX_EVEX_0F382D, PREFIX_EVEX_0F3831,
	PREFIX_EVEX_0F3832, PREFIX_EVEX_0F3833, PREFIX_EVEX_0F3834,
	PREFIX_EVEX_0F3835, PREFIX_EVEX_0F3836, PREFIX_EVEX_0F3837,
	PREFIX_EVEX_0F3839, PREFIX_EVEX_0F383A, PREFIX_EVEX_0F383B,
	PREFIX_EVEX_0F383D, PREFIX_EVEX_0F383F, PREFIX_EVEX_0F3840,
	PREFIX_EVEX_0F3842, PREFIX_EVEX_0F3843, PREFIX_EVEX_0F3844,
	PREFIX_EVEX_0F3845, PREFIX_EVEX_0F3846, PREFIX_EVEX_0F3847,
	PREFIX_EVEX_0F384C, PREFIX_EVEX_0F384D, PREFIX_EVEX_0F384E,
	PREFIX_EVEX_0F384F, PREFIX_EVEX_0F3858, PREFIX_EVEX_0F3859,
	PREFIX_EVEX_0F385A, PREFIX_EVEX_0F385B, PREFIX_EVEX_0F3864,
	PREFIX_EVEX_0F3865, PREFIX_EVEX_0F3876, PREFIX_EVEX_0F3877,
	PREFIX_EVEX_0F387C, PREFIX_EVEX_0F387E, PREFIX_EVEX_0F387F,
	PREFIX_EVEX_0F3888, PREFIX_EVEX_0F3889, PREFIX_EVEX_0F388A,
	PREFIX_EVEX_0F388B, PREFIX_EVEX_0F3890, PREFIX_EVEX_0F3891,
	PREFIX_EVEX_0F3892, PREFIX_EVEX_0F3893, PREFIX_EVEX_0F3896,
	PREFIX_EVEX_0F3897, PREFIX_EVEX_0F3898, PREFIX_EVEX_0F3899,
	PREFIX_EVEX_0F389A, PREFIX_EVEX_0F389B, PREFIX_EVEX_0F389C,
	PREFIX_EVEX_0F389D, PREFIX_EVEX_0F389E, PREFIX_EVEX_0F389F,
	PREFIX_EVEX_0F38A0, PREFIX_EVEX_0F38A1, PREFIX_EVEX_0F38A2,
	PREFIX_EVEX_0F38A3, PREFIX_EVEX_0F38A6, PREFIX_EVEX_0F38A7,
	PREFIX_EVEX_0F38A8, PREFIX_EVEX_0F38A9, PREFIX_EVEX_0F38AA,
	PREFIX_EVEX_0F38AB, PREFIX_EVEX_0F38AC, PREFIX_EVEX_0F38AD,
	PREFIX_EVEX_0F38AE, PREFIX_EVEX_0F38AF, PREFIX_EVEX_0F38B6,
	PREFIX_EVEX_0F38B7, PREFIX_EVEX_0F38B8, PREFIX_EVEX_0F38B9,
	PREFIX_EVEX_0F38BA, PREFIX_EVEX_0F38BB, PREFIX_EVEX_0F38BC,
	PREFIX_EVEX_0F38BD, PREFIX_EVEX_0F38BE, PREFIX_EVEX_0F38BF,
	PREFIX_EVEX_0F38C4, PREFIX_EVEX_0F38C6_REG_1,
	PREFIX_EVEX_0F38C6_REG_2, PREFIX_EVEX_0F38C6_REG_5,
	PREFIX_EVEX_0F38C6_REG_6, PREFIX_EVEX_0F38C7_REG_1,
	PREFIX_EVEX_0F38C7_REG_2, PREFIX_EVEX_0F38C7_REG_5,
	PREFIX_EVEX_0F38C7_REG_6, PREFIX_EVEX_0F38C8, PREFIX_EVEX_0F38CA,
	PREFIX_EVEX_0F38CB, PREFIX_EVEX_0F38CC, PREFIX_EVEX_0F38CD,
	PREFIX_EVEX_0F3A00,  PREFIX_EVEX_0F3A01, PREFIX_EVEX_0F3A03,
	PREFIX_EVEX_0F3A04, PREFIX_EVEX_0F3A05, PREFIX_EVEX_0F3A08,
	PREFIX_EVEX_0F3A09, PREFIX_EVEX_0F3A0A, PREFIX_EVEX_0F3A0B,
	PREFIX_EVEX_0F3A17, PREFIX_EVEX_0F3A18, PREFIX_EVEX_0F3A19,
	PREFIX_EVEX_0F3A1A, PREFIX_EVEX_0F3A1B, PREFIX_EVEX_0F3A1D,
	PREFIX_EVEX_0F3A1E, PREFIX_EVEX_0F3A1F, PREFIX_EVEX_0F3A21,
	PREFIX_EVEX_0F3A23, PREFIX_EVEX_0F3A25, PREFIX_EVEX_0F3A26,
	PREFIX_EVEX_0F3A27, PREFIX_EVEX_0F3A38, PREFIX_EVEX_0F3A39,
	PREFIX_EVEX_0F3A3A, PREFIX_EVEX_0F3A3B, PREFIX_EVEX_0F3A3E,
	PREFIX_EVEX_0F3A3F, PREFIX_EVEX_0F3A43, PREFIX_EVEX_0F3A54,
	PREFIX_EVEX_0F3A55.
	(VEX_LEN enum): Add VEX_LEN_0F41_P_0, VEX_LEN_0F42_P_0, VEX_LEN_0F44_P_0,
	VEX_LEN_0F45_P_0, VEX_LEN_0F46_P_0, VEX_LEN_0F47_P_0,
	VEX_LEN_0F4B_P_2, VEX_LEN_0F90_P_0, VEX_LEN_0F91_P_0,
	VEX_LEN_0F92_P_0, VEX_LEN_0F93_P_0, VEX_LEN_0F98_P_0,
	VEX_LEN_0F3A30_P_2, VEX_LEN_0F3A32_P_2, VEX_W_0F41_P_0_LEN_1,
	VEX_W_0F42_P_0_LEN_1, VEX_W_0F44_P_0_LEN_0, VEX_W_0F45_P_0_LEN_1,
	VEX_W_0F46_P_0_LEN_1, VEX_W_0F47_P_0_LEN_1, VEX_W_0F4B_P_2_LEN_1,
	VEX_W_0F90_P_0_LEN_0, VEX_W_0F91_P_0_LEN_0, VEX_W_0F92_P_0_LEN_0,
	VEX_W_0F93_P_0_LEN_0, VEX_W_0F98_P_0_LEN_0, VEX_W_0F3A30_P_2_LEN_0,
	VEX_W_0F3A32_P_2_LEN_0.
	(VEX_W enum): Add EVEX_W_0F10_P_0, EVEX_W_0F10_P_1_M_0,
	EVEX_W_0F10_P_1_M_1, EVEX_W_0F10_P_2, EVEX_W_0F10_P_3_M_0,
	EVEX_W_0F10_P_3_M_1, EVEX_W_0F11_P_0, EVEX_W_0F11_P_1_M_0,
	EVEX_W_0F11_P_1_M_1, EVEX_W_0F11_P_2, EVEX_W_0F11_P_3_M_0,
	EVEX_W_0F11_P_3_M_1, EVEX_W_0F12_P_0_M_0, EVEX_W_0F12_P_0_M_1,
	EVEX_W_0F12_P_1, EVEX_W_0F12_P_2, EVEX_W_0F12_P_3, EVEX_W_0F13_P_0,
	EVEX_W_0F13_P_2, EVEX_W_0F14_P_0, EVEX_W_0F14_P_2, EVEX_W_0F15_P_0,
	EVEX_W_0F15_P_2, EVEX_W_0F16_P_0_M_0, EVEX_W_0F16_P_0_M_1,
	EVEX_W_0F16_P_1, EVEX_W_0F16_P_2, EVEX_W_0F17_P_0, EVEX_W_0F17_P_2,
	EVEX_W_0F28_P_0, EVEX_W_0F28_P_2, EVEX_W_0F29_P_0, EVEX_W_0F29_P_2,
	EVEX_W_0F2A_P_1, EVEX_W_0F2A_P_3, EVEX_W_0F2B_P_0, EVEX_W_0F2B_P_2,
	EVEX_W_0F2E_P_0, EVEX_W_0F2E_P_2, EVEX_W_0F2F_P_0, EVEX_W_0F2F_P_2,
	EVEX_W_0F51_P_0, EVEX_W_0F51_P_1, EVEX_W_0F51_P_2, EVEX_W_0F51_P_3,
	EVEX_W_0F58_P_0, EVEX_W_0F58_P_1, EVEX_W_0F58_P_2, EVEX_W_0F58_P_3,
	EVEX_W_0F59_P_0, EVEX_W_0F59_P_1, EVEX_W_0F59_P_2, EVEX_W_0F59_P_3,
	EVEX_W_0F5A_P_0, EVEX_W_0F5A_P_1, EVEX_W_0F5A_P_2, EVEX_W_0F5A_P_3,
	EVEX_W_0F5B_P_0, EVEX_W_0F5B_P_1, EVEX_W_0F5B_P_2, EVEX_W_0F5C_P_0,
	EVEX_W_0F5C_P_1, EVEX_W_0F5C_P_2, EVEX_W_0F5C_P_3, EVEX_W_0F5D_P_0,
	EVEX_W_0F5D_P_1, EVEX_W_0F5D_P_2, EVEX_W_0F5D_P_3, EVEX_W_0F5E_P_0,
	EVEX_W_0F5E_P_1, EVEX_W_0F5E_P_2, EVEX_W_0F5E_P_3, EVEX_W_0F5F_P_0,
	EVEX_W_0F5F_P_1, EVEX_W_0F5F_P_2, EVEX_W_0F5F_P_3, EVEX_W_0F62_P_2,
	EVEX_W_0F66_P_2, EVEX_W_0F6A_P_2, EVEX_W_0F6C_P_2, EVEX_W_0F6D_P_2,
	EVEX_W_0F6E_P_2, EVEX_W_0F6F_P_1, EVEX_W_0F6F_P_2, EVEX_W_0F70_P_2,
	EVEX_W_0F72_R_2_P_2, EVEX_W_0F72_R_6_P_2, EVEX_W_0F73_R_2_P_2,
	EVEX_W_0F73_R_6_P_2, EVEX_W_0F76_P_2, EVEX_W_0F78_P_0,
	EVEX_W_0F79_P_0, EVEX_W_0F7A_P_1, EVEX_W_0F7A_P_3, EVEX_W_0F7B_P_1,
	EVEX_W_0F7B_P_3, EVEX_W_0F7E_P_1, EVEX_W_0F7E_P_2, EVEX_W_0F7F_P_1,
	EVEX_W_0F7F_P_2, EVEX_W_0FC2_P_0, EVEX_W_0FC2_P_1, EVEX_W_0FC2_P_2,
	EVEX_W_0FC2_P_3, EVEX_W_0FC6_P_0, EVEX_W_0FC6_P_2, EVEX_W_0FD2_P_2,
	EVEX_W_0FD3_P_2, EVEX_W_0FD4_P_2, EVEX_W_0FD6_P_2, EVEX_W_0FE6_P_1,
	EVEX_W_0FE6_P_2, EVEX_W_0FE6_P_3, EVEX_W_0FE7_P_2, EVEX_W_0FF2_P_2,
	EVEX_W_0FF3_P_2, EVEX_W_0FF4_P_2, EVEX_W_0FFA_P_2, EVEX_W_0FFB_P_2,
	EVEX_W_0FFE_P_2, EVEX_W_0F380C_P_2, EVEX_W_0F380D_P_2,
	EVEX_W_0F3811_P_1, EVEX_W_0F3812_P_1, EVEX_W_0F3813_P_1,
	EVEX_W_0F3813_P_2, EVEX_W_0F3814_P_1, EVEX_W_0F3815_P_1,
	EVEX_W_0F3818_P_2, EVEX_W_0F3819_P_2, EVEX_W_0F381A_P_2,
	EVEX_W_0F381B_P_2, EVEX_W_0F381E_P_2, EVEX_W_0F381F_P_2,
	EVEX_W_0F3821_P_1, EVEX_W_0F3822_P_1, EVEX_W_0F3823_P_1,
	EVEX_W_0F3824_P_1, EVEX_W_0F3825_P_1, EVEX_W_0F3825_P_2,
	EVEX_W_0F3828_P_2, EVEX_W_0F3829_P_2, EVEX_W_0F382A_P_1,
	EVEX_W_0F382A_P_2, EVEX_W_0F3831_P_1, EVEX_W_0F3832_P_1,
	EVEX_W_0F3833_P_1, EVEX_W_0F3834_P_1, EVEX_W_0F3835_P_1,
	EVEX_W_0F3835_P_2, EVEX_W_0F3837_P_2, EVEX_W_0F383A_P_1,
	EVEX_W_0F3840_P_2, EVEX_W_0F3858_P_2, EVEX_W_0F3859_P_2,
	EVEX_W_0F385A_P_2, EVEX_W_0F385B_P_2, EVEX_W_0F3891_P_2,
	EVEX_W_0F3893_P_2, EVEX_W_0F38A1_P_2, EVEX_W_0F38A3_P_2,
	EVEX_W_0F38C7_R_1_P_2, EVEX_W_0F38C7_R_2_P_2, EVEX_W_0F38C7_R_5_P_2,
	EVEX_W_0F38C7_R_6_P_2, EVEX_W_0F3A00_P_2, EVEX_W_0F3A01_P_2,
	EVEX_W_0F3A04_P_2, EVEX_W_0F3A05_P_2, EVEX_W_0F3A08_P_2,
	EVEX_W_0F3A09_P_2, EVEX_W_0F3A0A_P_2, EVEX_W_0F3A0B_P_2,
	EVEX_W_0F3A18_P_2, EVEX_W_0F3A19_P_2, EVEX_W_0F3A1A_P_2,
	EVEX_W_0F3A1B_P_2, EVEX_W_0F3A1D_P_2, EVEX_W_0F3A21_P_2,
	EVEX_W_0F3A23_P_2, EVEX_W_0F3A38_P_2, EVEX_W_0F3A39_P_2,
	EVEX_W_0F3A3A_P_2, EVEX_W_0F3A3B_P_2, EVEX_W_0F3A43_P_2.
	(struct vex): Add fields evex, r, v, mask_register_specifier,
	zeroing, ll, b.
	(intel_names_xmm): Add upper 16 registers.
	(att_names_xmm): Ditto.
	(intel_names_ymm): Ditto.
	(att_names_ymm): Ditto.
	(names_zmm): New.
	(intel_names_zmm): Ditto.
	(att_names_zmm): Ditto.
	(names_mask): Ditto.
	(intel_names_mask): Ditto.
	(att_names_mask): Ditto.
	(names_rounding): Ditto.
	(names_broadcast): Ditto.
	(x86_64_table): Add escape to evex-table.
	(reg_table): Include reg_table evex-entries from
	i386-dis-evex.h.  Fix prefetchwt1 instruction.
	(prefix_table): Add entries for new instructions.
	(vex_table): Ditto.
	(vex_len_table): Ditto.
	(vex_w_table): Ditto.
	(mod_table): Ditto.
	(get_valid_dis386): Properly handle new instructions.
	(print_insn): Handle zmm and mask registers, print mask operand.
	(intel_operand_size): Support EVEX, new modes and sizes.
	(OP_E_register): Handle new modes.
	(OP_E_memory): Ditto.
	(OP_G): Ditto.
	(OP_XMM): Ditto.
	(OP_EX): Ditto.
	(OP_VEX): Ditto.
	* i386-gen.c (cpu_flag_init): Update CPU_ANY_SSE_FLAGS and
	CPU_ANY_AVX_FLAGS.  Add CPU_AVX512F_FLAGS, CPU_AVX512CD_FLAGS,
	CPU_AVX512ER_FLAGS and CPU_AVX512PF_FLAGS.
	(cpu_flags): Add CpuAVX512F, CpuAVX512CD, CpuAVX512ER,
	CpuAVX512PF and CpuVREX.
	(operand_type_init): Add OPERAND_TYPE_REGZMM,
	OPERAND_TYPE_REGMASK and OPERAND_TYPE_VEC_DISP8.
	(opcode_modifiers): Add EVex, Masking, VecESize, Broadcast,
	StaticRounding, SAE, Disp8MemShift, NoDefMask.
	(operand_types): Add RegZMM, RegMask, Vec_Disp8, Zmmword.
	* i386-init.h: Regenerate.
	* i386-opc.h (CpuAVX512F): New.
	(CpuAVX512CD): New.
	(CpuAVX512ER): New.
	(CpuAVX512PF): New.
	(CpuVREX): New.
	(i386_cpu_flags): Add cpuavx512f, cpuavx512cd, cpuavx512er,
	cpuavx512pf and cpuvrex fields.
	(VecSIB): Add VecSIB512.
	(EVex): New.
	(Masking): New.
	(VecESize): New.
	(Broadcast): New.
	(StaticRounding): New.
	(SAE): New.
	(Disp8MemShift): New.
	(NoDefMask): New.
	(i386_opcode_modifier): Add evex, masking, vecesize, broadcast,
	staticrounding, sae, disp8memshift and nodefmask.
	(RegZMM): New.
	(Zmmword): Ditto.
	(Vec_Disp8): Ditto.
	(i386_operand_type): Add regzmm, regmask, zmmword and vec_disp8
	fields.
	(RegVRex): New.
	* i386-opc.tbl: Add AVX512 instructions.
	* i386-reg.tbl: Add 16 upper XMM and YMM registers, 32 new ZMM
	registers, mask registers.
	* i386-tbl.h: Regenerate.
@
text
@d1 4
@


1.2026
log
@	PR binutils/15745
	* readelf.c (get_unwind_section_word): Whilst searching for a
	reloc section associated with an unwind section, check the type as
	well as the section number.
@
text
@d1 16
@


1.2025
log
@	* ar.c (usage): Fix C conformance issue.

	* config/tc-i386-intel.c (i386_intel_operand): Fixed signed vs
	unsigned comparison.
@
text
@d1 7
@


1.2024
log
@	* doc/binutils.texi (nm, objdump): Remove bogus links to STABS
	documentation.
@
text
@d1 4
@


1.2023
log
@	* readelf.c (process_unwind): Do not return the result of a void
	function.
@
text
@d3 3
@


1.2022
log
@	include/elf/
	* mips.h (Tag_GNU_MIPS_ABI_FP): Remove comment.
	(Val_GNU_MIPS_ABI_FP_ANY, Val_GNU_MIPS_ABI_FP_DOUBLE,
	Val_GNU_MIPS_ABI_FP_SINGLE, Val_GNU_MIPS_ABI_FP_SOFT,
	Val_GNU_MIPS_ABI_FP_64): New enum.

	bfd/
	* elfxx-mips.c (mips_elf_merge_obj_attributes): Replace hardcoded
	magic numbers with enum values.

	binutils/
	* readelf.c (display_mips_gnu_attribute): Replace hardcoded magic
	numbers with enum values.

	gdb/
	* mips-tdep.c (mips_gdbarch_init): Replace hardcoded magic
	numbers with enum values.
@
text
@d1 5
@


1.2021
log
@	include/elf/
	* mips.h (EF_MIPS_NAN2008): New macro.

	bfd/
	* elfxx-mips.c (_bfd_mips_elf_merge_private_bfd_data): Handle
	EF_MIPS_NAN2008.
	(_bfd_mips_elf_print_private_bfd_data): Likewise.

	binutils/
	* readelf.c (get_machine_flags): Handle EF_MIPS_NAN2008.

	gas/
	* config/tc-mips.c (mips_flag_nan2008): New variable.
	(options): Add OPTION_NAN enum value.
	(md_longopts): Handle it.
	(md_parse_option): Likewise.
	(s_nan): New function.
	(mips_elf_final_processing): Handle EF_MIPS_NAN2008.
	(md_show_usage): Add -mnan.

	* doc/as.texinfo (Overview): Add -mnan.
	* doc/c-mips.texi (MIPS Opts): Document -mnan.
	(MIPS NaN Encodings): New node.  Document .nan directive.
	(MIPS-Dependent): List the new node.

	gas/testsuite/
	* gas/mips/nan-2008-1.d: New test.
	* gas/mips/nan-2008-2.d: New test.
	* gas/mips/nan-2008-3.d: New test.
	* gas/mips/nan-2008-4.d: New test.
	* gas/mips/nan-legacy-1.d: New test.
	* gas/mips/nan-legacy-2.d: New test.
	* gas/mips/nan-legacy-3.d: New test.
	* gas/mips/nan-legacy-4.d: New test.
	* gas/mips/nan-legacy-5.d: New test.
	* gas/mips/nan-error-1.l: New list test.
	* gas/mips/nan-error-2.l: New list test.
	* gas/mips/nan-2008-override.s: New test source.
	* gas/mips/nan-2008.s: New test source.
	* gas/mips/nan-legacy-override.s: New test source.
	* gas/mips/nan-legacy.s: New test source.
	* gas/mips/nan-error-1.s: New test source.
	* gas/mips/nan-error-2.s: New test source.
	* gas/mips/mips.exp: Run the new tests.

	ld/testsuite/
	* ld-mips-elf/nan-2008.d: New test.
	* ld-mips-elf/nan-legacy.d: New test.
	* ld-mips-elf/nan-mixed-1.d: New test.
	* ld-mips-elf/nan-mixed-2.d: New test.
	* ld-mips-elf/nan-2008.s: New test source.
	* ld-mips-elf/nan-legacy.s: New test source.
@
text
@d1 5
@


1.2020
log
@include/coff/
2013-07-10  Tristan Gingold  <gingold@@adacore.com>

	* rs6000.h (external_core_dumpx): New structure.
	(external_ld_info32): Ditto.

binutils/
2013-07-10  Tristan Gingold  <gingold@@adacore.com>

	* od-xcoff.c (OPT_LDINFO): Define.
	(options): Add ldinfo.
	(xcoff_help): Mention ldinfo.
	(xcoff_dump): Rename to ...
	(xcoff_dump_obj): ... this.  Add a break.
	(dump_dumpx_core): New function.
	(xcoff_dump_core): Likewise.
	(xcoff_dump): Likewise.
	* doc/binutils.texi (objdump): Mention ldinfo.
@
text
@d1 4
@


1.2019
log
@binutils/
2013-07-09  Tristan Gingold  <gingold@@adacore.com>

	* configure.com: Add new defines to match changes in configure.


gas/
2013-07-09  Tristan Gingold  <gingold@@adacore.com>

	* configure.com: Define HAVE_SYS_TYPES_H and HAVE_UNISTD_H
@
text
@d1 12
@


1.2018
log
@binutils/
	* dwarf.c (display_debug_lines_raw): Print section offsets.

binutils/testsuite/
	* binutils-all/dw2-1.W: Adjust expected output.
	* binutils-all/objdump.W: Likewise.
	* binutils-all/i386/compressed-1a.d: Likewise.
	* binutils-all/x86-64/compressed-1a.d: Likewise.

gas/testsuite/
	* gas/cris/rd-dw2-1.d: Adjust expected output.
	* gas/cris/rd-dw2-10.d: Likewise.
	* gas/cris/rd-dw2-11.d: Likewise.
	* gas/cris/rd-dw2-12.d: Likewise.
	* gas/cris/rd-dw2-13.d: Likewise.
	* gas/cris/rd-dw2-14.d: Likewise.
	* gas/cris/rd-dw2-15.d: Likewise.
	* gas/cris/rd-dw2-2.d: Likewise.
	* gas/cris/rd-dw2-3.d: Likewise.
	* gas/cris/rd-dw2-4.d: Likewise.
	* gas/cris/rd-dw2-5.d: Likewise.
	* gas/cris/rd-dw2-6.d: Likewise.
	* gas/cris/rd-dw2-7.d: Likewise.
	* gas/cris/rd-dw2-8.d: Likewise.
	* gas/cris/rd-dw2-9.d: Likewise.
	* gas/elf/dwarf2-1.d: Likewise.
	* gas/elf/dwarf2-2.d: Likewise.
	* gas/elf/dwarf2-3.d: Likewise.
	* gas/i386/debug1.d: Likewise.
	* gas/i386/dw2-compress-1.d: Likewise.
	* gas/i386/ilp32/lns/lns-common-1.d: Likewise.
	* gas/i386/ilp32/lns/lns-duplicate.d: Likewise.
	* gas/ia64/pr13167.d: Likewise.
	* gas/lns/lns-big-delta.d: Likewise.
	* gas/lns/lns-common-1-alt.d: Likewise.
	* gas/lns/lns-common-1.d: Likewise.
	* gas/lns/lns-duplicate.d: Likewise.
	* gas/mips/loc-swap-2.d: Likewise.
	* gas/mips/loc-swap.d: Likewise.
	* gas/mips/micromips@@loc-swap-2.d: Likewise.
	* gas/mips/micromips@@loc-swap.d: Likewise.
	* gas/mips/mips16-dwarf2-n32.d: Likewise.
	* gas/mips/mips16-dwarf2.d: Likewise.
	* gas/mips/mips16@@loc-swap-2.d: Likewise.
	* gas/mips/mips16@@loc-swap.d: Likewise.
@
text
@d1 4
@


1.2017
log
@binutils/
	* dwarf.c (SAFE_BYTE_GET64): Correct end-of-buffer check;
	don't increment PTR.
	(decode_location_expression): DW_OP_const2u should read 2 bytes.
	(display_debug_lines_decoded): Adjust formatting.
	* elfcomm.c (byte_get_little_endian): Add cases for 5-, 6-, and
	7-byte reads.
	(byte_get_big_endian): Likewise.
	(byte_get_signed): Likewise.
@
text
@d1 4
@


1.2016
log
@
binutils/ChangeLog:
* doc/binutils.texi: Document -Mvirt disassembler option.

gas/ChangeLog:
* config/tc-mips.c (struct mips_set_options): New ase_virt field.
(mips_opts): Update for the new field.
(file_ase_virt): New variable.
(ISA_SUPPORTS_VIRT_ASE): New macro.
(ISA_SUPPORTS_VIRT64_ASE): New macro.
(MIPS_CPU_ASE_VIRT): New define.
(is_opcode_valid): Handle ase_virt.
(macro_build): Handle "+J".
(validate_mips_insn): Likewise.
(mips_ip): Likewise.
(enum options): Add OPTION_VIRT and OPTION_NO_VIRT.
(md_longopts): Add mvirt and mnovirt
(md_parse_option): Handle OPTION_VIRT and OPTION_NO_VIRT.
(mips_after_parse_args): Handle ase_virt field.
(s_mipsset): Handle "virt" and "novirt".
(mips_elf_final_processing): Add a comment about virt ASE might need a new flag.
(md_show_usage): Print out the usage of -mvirt and mno-virt options.
* doc/c-mips.texi: Document -mvirt and -mno-virt.
Document ".set virt" and ".set novirt".

gas/testsuite/ChangeLog:
* gas/mips/mips.exp: Run virt and virt64 testcases.
* gas/mips/virt.d: New file.
* gas/mips/virt.s: New file.
* gas/mips/virt64.d: New file.
* gas/mips/virt64.s: New file.

include/opcode/ChangeLog:
* mips.h (OP_MASK_CODE10): Correct definition.
(OP_SH_CODE10): Likewise.
Add a comment that "+J" is used now for OP_*CODE10.
(INSN_ASE_MASK): Update.
(INSN_VIRT): New macro.
(INSN_VIRT64): New macro

opcodes/ChangeLog:
* mips-dis.c (mips_arch_choices): Add INSN_VIRT to mips32r2 .
Add INSN_VIRT and INSN_VIRT64 to mips64r2.
(parse_mips_dis_option): Handle the virt option.
(print_insn_args): Handle "+J".
(print_mips_disassembler_options): Print out message about virt64.
* mips-opc.c (IVIRT): New define.
(IVIRT64): New define.
(mips_builtin_opcodes): Add dmfgc0, dmtgc0, hypcall, mfgc0, mtgc0,
tlbgr, tlbgwi, tlbginv, tlbginvf, tlbgwr, tlbgp VIRT instructions.
Move rfe to the bottom as it conflicts with tlbgp.
@
text
@d1 11
@


1.2015
log
@oops - omitted from previous delta
@
text
@d1 4
@


1.2014
log
@	* dwarf.c (display_debug_lines_raw): Do not treat .debug_line.dwo
	sections as if they were fragmentary .debug_line sections.
	(display_debug_lines_decoded): Likewise.
@
text
@d3 4
@


1.2013
log
@	* elflink.c (_bfd_elf_gc_mark_extra_sections): Remove mark from
	fragmented .debug_line sections associated with unmarked code
	sections.

	* dwarf.c (read_debug_line_header): New function.  Reads in a
	header in a .debug_line section.
	(display_debug_lines_raw): Use new function.  Handle fragmentary
	.debug_line sections.
	(display_debug_lines_decoded): Likewise.
	* readelf.c (process_section_headers): Handle fragmenatry
	.debug_line sections.
	(display_debug_section): Likewise.

	* as.c (Options): Add -gdwarf-sections.
	(parse_args): Likewise.
	* as.h (flag_dwarf_sections): Declare.
	* dwarf2dbg.c (emit_fixed_inc_line_addr): Skip section changes.
	(process_entries): When -gdwarf-sections is enabled generate
	fragmentary .debug_line sections.
	(out_debug_line): Set the section for the .debug_line section end
	symbol.
	* doc/as.texinfo: Document -gdwarf-sections.
	* NEWS: Mention -gdwarf-sections.

	* gas/elf/dwarf2-3.d: Fix expected readelf output.

	* scripttempl/DWARF.sc: Add support for .debug_line.* and
	.debug_line_end.
@
text
@d1 6
@


1.2012
log
@	* MAINTAINERS: Add myself and Cary as gold maintainers.
@
text
@d1 11
@


1.2011
log
@	* dwarf.c (process_debug_info): Check dwarf_cutoff_level.
@
text
@d1 4
@


1.2010
log
@	* dwarf-mode.el: Bump version number.
	(dwarf-mode): Remove autoload.
	(dwarf-die-reference): Relax regexp.
@
text
@d3 4
@


1.2009
log
@	PR binutils/15324
	* configure.in: Add strnlen to AC_CHECK_DECLS, sort.
	* dwarf.c (strnlen): Provide fallback decl.
	* config.in: Regnerate.
	* configure: Regenerate.
@
text
@d1 6
@


1.2008
log
@Increment hdrptr by 8 after SAFE_BYTE_GET64

	* dwarf.c (process_debug_info): Increment hdrptr by 8 after
	SAFE_BYTE_GET64.
@
text
@d1 8
@


1.2007
log
@	PR binutils/13409
	* winduni.c (codepages[]): Use UTF-16LE.
	(wind_MultiByteToWideChar): Likewise.
	(wind_WideCharToMultiByte): Likewise.
@
text
@d1 5
@


1.2006
log
@	PR binutils/15206
	* dwarf.c (read_and_display_attr_value): Cast format '*' arg to int.
@
text
@d1 7
@


1.2005
log
@oops - fix PR attributation
@
text
@d1 5
@


1.2004
log
@	PR binutils/15205
	* dwarf.c (SAFE_BYTE_GET): New macro - checks remaining buffer
	space before calling byte_get.
	(SAFE_BYTE_GET_AND_INC): New macro.
	(SAFE_SIGNED_BYTE_GET): New macro.
	(SAFE_SIGNED_BYTE_GET_AND_INC): New macro.
	(SAFE_BYTE_GET64): New macro.
	(process_extened_line_op): Use new macros.  Use strnlen when
	appropriate.
	(fetch_indirect_string): Likewise.
	(get_FORM_name): Likewise.
	(decode_location_expression): Likewise.
	(read_and_display_attr_value): Likewise.
	(process_debug_info): Likewise.
	(display_debug_lines_raw): Likewise.
	(display_debug_lines_decoded): Likewise.
	(display_debug_pubnames): Likewise.
	(display_debug_macinfo): Likewise.
	(get_line_filename_and_dirname): Likewise.
	(display_debug_macro): Likewise.
	(display_loc_list): Likewise.
	(display_loc_list_dwo): Likewise.
	(display_debug_aranges): Likewise.
	(display_debug_ranges): Likewise.
	(frame_display_row): Likewise.
	(display_debug_frames): Likewise.
@
text
@d3 1
a3 1
	PR binutils/15205
@


1.2003
log
@	PR binutils/15202
	* dwarf.c (read_leb128): Add END parameter.  Do not read at or
	beyond end.
	(read_sleb128): Add END parameter.
	(read_uleb128): New function.
	(process_extended_line_op): Pass END to leb128 functions.
	(process_abbrev_section): Likewise.
	(decode_location_expression): Likewise.
	(read_and_display_attr_value): Likewise.
	(read_and_display_attr): Likewise.
	(process_debug_info): Likewise.
	(display_debug_lines_raw): Likewise.
	(display_debug_lines_decoded): Likewise.
	(display_debug_macinfo): Likewise.
	(get_line_filename_and_dirname): Likewise.
	(display_debug_macro): Likewise.
	(display_loc_list_dwo): Likewise.
	(display_debug_ranges): Likewise.
	* dwarf.h (read_leb128): Update prototype.
	* readelf.c (read_uleb128): Add END parameter.
	(decode_arm_unwind_bytecode): Pass END to read_uleb128.
	(decode_tic6x_unwind_bytecode): Likewise.
	(display_tag_value): New function.
	(display_arm_attribute): Add END parameter. Pass END to
	read_uleb128.  Use display_tag_value.
	(display_gnu_attribute): Likewise.
	(display_power_gnu_attribute): Likewise.
	(display_sparc_gnu_attribute): Likewise.
	(display_mips_gnu_attribute): Likewise.
	(display_tic6x_attribute): Likewise.
	(process_attributes): Likewise.
	(display_raw_attribute): New function.
@
text
@d1 29
@


1.2002
log
@	PR binutils/15201
	* dwarf.c (display_debug_ranges): Add checks for reading beyond
	the end of the section.
@
text
@d1 35
@


1.2001
log
@	PR binutils/15157
	* readelf.c (apply_relocations): Catch relocations with negative
	offsets.
@
text
@d3 4
@


1.2000
log
@	* addr2line.c (slurp_symtab): If canonicalization reveals that
	there were no ordinary symbols, try loading the dynamic symbols
	instead.
@
text
@d1 6
@


1.1999
log
@	* MAINTAINERS: Add myself as Meta maintainer.
@
text
@d1 6
@


1.1998
log
@	* elf-bfd.h (elfcore_write_s390_tdb): Add prototype.
	* elf.c (elfcore_write_s390_tdb): New function.
	(elfcore_write_register_note): Call it.
	(elfcore_grok_s390_tdb): New function.
	(elfcore_grok_note): Call it.

	* readelf.c (get_note_type): Add NT_S390_TDB.
@
text
@d1 4
@


1.1997
log
@	* strings.c (get_char): Dispense with buf[].  Instead shift
	chars into big-endian value and byte-swap later if
	little-endian.  Don't EOF check value read from object.
@
text
@d1 4
@


1.1996
log
@	* configure.in: Build DLL tools on x86_64-*-cygwin* as well.
	* configure: Regenerate.
@
text
@d1 6
@


1.1995
log
@	* elfcomm.c (error): Flush stdout before emitting the error
	message.
	(warn): Likewise.
@
text
@d1 5
@


1.1994
log
@binutils/
	* dwarf.c (cu_tu_indexes_read, shndx_pool, shndx_pool_size)
	(shndx_pool_used): Move to top of file.
	(struct cu_tu_set): New type.
	(cu_count, tu_count, cu_sets, tu_sets): New file scope variables.
	(fetch_indexed_string): Add "this_set" parameter.  Update all callers.
	(find_cu_tu_set_v2): New function.
	(read_and_display_attr_value): Add "this_set" parameter.
	(read_and_display_attr): Likewise.
	(process_debug_info): Track base offsets for DWARF package files.
	(load_debug_info): Call load_cu_tu_indexes.
	(get_DW_SECT_short_name): New function.
	(process_cu_tu_index): Add support for version 2 DWARF package files.
@
text
@d1 6
@


1.1993
log
@	PR binutils/15191
	* readelf.c (offsetof): Define.
	(CHECK_ENTSIZE_VALUES): Remove extraneous indefinite article.
	(process_corefile_note_segment): Allow notes without name or
	desc.  Combine out-of-range checks.  Disallow "negative"
	notesz or descsz.
@
text
@d1 15
@


1.1992
log
@	PR binutils/15191
	* binutils-all/readelf.n: Updare expected output from readelf.

	* readelf.c (process_corefile_note_segment): Prevent attempts to
	read beyond the end of the note buffer.
@
text
@d1 9
d90 8
a97 8
    	* dwarf.c (display_loc_list): Update offset for each line
    	printed.
    	(print_addr_index): New function.
    	(display_loc_list_dwo): Update offset for each line printed.
    	Fix problems displaying loclists in .dwo files.  Add support
    	for type 4 entries.
    	(display_debug_loc): Remove custom header for .dwo files.
    	(display_debug_addr): Adjust formatting.
@


1.1991
log
@	PR binutils/15140
	* ar.c (open_inarch): Fail on attempts to convert a normal archive
	to a thin archive or vice versa.
	* elfcomm.c (make_qualified_name): Handle corrupted thin
	archives.
	* readelf.c (process_archive): Likewise.
	* doc/binutils.texi: Clarify documentation describing thin
	archives.

	* archive.c (_bfd_get_elt_at_filepos): Prevent an infinite loop
	accessing a corrupt nested archive.
@
text
@d1 6
@


1.1990
log
@        * objcopy.c (copy_main): Initialize context variable.
@
text
@d7 11
@


1.1989
log
@	PR binutils/15033
	* objcopy.c (enum change_action): Delete.
	(struct section_list): Delete remove, copy, change_vma, change_lma
	and set_flags fields.  Add context field.
	(find_section_list): Add a context parameter.  Add support for
	wildcard characters in section names.
	(is_strip_section): Check for sections being both  copied and
	removed.
	(copy_object): Pass context to find_section_list.
	(setup_section): Likewise.
	(copy_section): Likewise.
	(copy_main): Likewise.
	* doc/binutils: Document the new behaviour.
	* NEWS: Mention the new feature
@
text
@d1 4
@


1.1988
log
@	PR binutils/15125
	* objcopy.c (copy_object): Provide a helpful warning message when
	adding a gnu_debuglink section to an object which already contains
	one.
@
text
@d1 17
@


1.1987
log
@oops - omitted for previous delta.
@
text
@d1 7
@


1.1986
log
@2013-02-06  Sandra Loosemore  <sandra@@codesourcery.com>
            Andrew Jenner <andrew@@codesourcery.com>

	Based on patches from Altera Corporation.

	bfd/
	* Makefile.am (ALL_MACHINES): Add cpu-nios2.lo.
	(ALL_MACHINES_CFILES): Add cpu-nios2.c.
	(BFD_BACKENDS): Add elf32-nios2.lo.
	(BFD32_BACKENDS_CFILES): Add elf32-nios2.c.
	* Makefile.in: Regenerated.
	* configure.in: Add entries for bfd_elf32_bignios2_vec and
	bfd_elf32_littlenios2_vec.
	* configure: Regenerated.
	* config.bfd: Add cases for nios2.
	* archures.c (enum bfd_architecture): Add bfd_arch_nios2.
	(bfd_mach_nios2): Define.
	(bfd_nios2_arch): Declare.
	(bfd_archures_list): Add bfd_nios2_arch.
	* targets.c (bfd_elf32_bignios2_vec): Declare.
	(bfd_elf32_littlenios2_vec): Declare.
	(_bfd_target_vector): Add entries for bfd_elf32_bignios2_vec and
	bfd_elf32_littlenios2_vec.
	* elf-bfd.h (enum elf_target_id): Add NIOS2_ELF_DATA.
	* reloc.c (enum bfd_reloc_code_real): Add Nios II relocations.
	* bfd-in2.h: Regenerated.
	* libbfd.h: Regenerated.
	* cpu-nios2.c: New file.
	* elf32-nios2.c: New file.

	opcodes/
	* Makefile.am (TARGET_LIBOPCODES_CFILES): Add nios2-dis.c and
	nios2-opc.c.
	* Makefile.in: Regenerated.
	* configure.in: Add case for bfd_nios2_arch.
	* configure: Regenerated.
	* disassemble.c (ARCH_nios2): Define.
	(disassembler): Add case for bfd_arch_nios2.
	* nios2-dis.c: New file.
	* nios2-opc.c: New file.

	include/
	* dis-asm.h (print_insn_big_nios2): Declare.
	(print_insn_little_nios2): Declare.

	include/elf
	* nios2.h: New file.

	include/opcode/
	* nios2.h: New file.

	gas/
	* Makefile.am (TARGET_CPU_CFILES): Add config/tc-nios2.c.
	(TARGET_CPU_HFILES): Add config/tc-nios2.h.
	* Makefile.in: Regenerated.
	* configure.tgt: Add case for nios2*-linux*.
	* config/obj-elf.c: Conditionally include elf/nios2.h.
	* config/tc-nios2.c: New file.
	* config/tc-nios2.h: New file.
	* doc/Makefile.am (CPU_DOCS): Add c-nios2.texi.
	* doc/Makefile.in: Regenerated.
	* doc/all.texi: Set NIOSII.
	* doc/as.texinfo (Overview): Add Nios II options.
	(Machine Dependencies): Include c-nios2.texi.
	* doc/c-nios2.texi: New file.
	* NEWS: Note Altera Nios II support.

	gas/testsuite/
	* gas/nios2/add.d: New.
	* gas/nios2/add.s: New.
	* gas/nios2/align_fill.d: New.
	* gas/nios2/align_fill.s: New.
	* gas/nios2/align_text.d: New.
	* gas/nios2/align_text.s: New.
	* gas/nios2/and.d: New.
	* gas/nios2/and.s: New.
	* gas/nios2/branch.d: New.
	* gas/nios2/branch.s: New.
	* gas/nios2/break.d: New.
	* gas/nios2/break.s: New.
	* gas/nios2/bret.d: New.
	* gas/nios2/bret.s: New.
	* gas/nios2/cache.d: New.
	* gas/nios2/cache.s: New.
	* gas/nios2/call26.d: New.
	* gas/nios2/call26.s: New.
	* gas/nios2/call.d: New.
	* gas/nios2/call.s: New.
	* gas/nios2/cmp.d: New.
	* gas/nios2/cmp.s: New.
	* gas/nios2/comments.d: New.
	* gas/nios2/comments.s: New.
	* gas/nios2/complex.d: New.
	* gas/nios2/complex.s: New.
	* gas/nios2/ctl.d: New.
	* gas/nios2/ctl.s: New.
	* gas/nios2/custom.d: New.
	* gas/nios2/custom.s: New.
	* gas/nios2/etbt.d: New.
	* gas/nios2/etbt.s: New.
	* gas/nios2/flushda.d: New.
	* gas/nios2/flushda.s: New.
	* gas/nios2/illegal.l: New.
	* gas/nios2/illegal.s: New.
	* gas/nios2/jmp.d: New.
	* gas/nios2/jmp.s: New.
	* gas/nios2/ldb.d: New.
	* gas/nios2/ldb.s: New.
	* gas/nios2/ldh.d: New.
	* gas/nios2/ldh.s: New.
	* gas/nios2/ldw.d: New.
	* gas/nios2/ldw.s: New.
	* gas/nios2/lineseparator.d: New.
	* gas/nios2/lineseparator.s: New.
	* gas/nios2/mov.d: New.
	* gas/nios2/movia.d: New.
	* gas/nios2/movia.s: New.
	* gas/nios2/movi.d: New.
	* gas/nios2/movi.s: New.
	* gas/nios2/mov.s: New.
	* gas/nios2/mul.d: New.
	* gas/nios2/mul.s: New.
	* gas/nios2/nios2.exp: New.
	* gas/nios2/nor.d: New.
	* gas/nios2/nor.s: New.
	* gas/nios2/or.d: New.
	* gas/nios2/or.s: New.
	* gas/nios2/ret.d: New.
	* gas/nios2/ret.s: New.
	* gas/nios2/rol.d: New.
	* gas/nios2/rol.s: New.
	* gas/nios2/rotate.d: New.
	* gas/nios2/rotate.s: New.
	* gas/nios2/stb.d: New.
	* gas/nios2/stb.s: New.
	* gas/nios2/sth.d: New.
	* gas/nios2/sth.s: New.
	* gas/nios2/stw.d: New.
	* gas/nios2/stw.s: New.
	* gas/nios2/sub.d: New.
	* gas/nios2/sub.s: New.
	* gas/nios2/sync.d: New.
	* gas/nios2/sync.s: New.
	* gas/nios2/trap.d: New.
	* gas/nios2/trap.s: New.
	* gas/nios2/tret.d: New.
	* gas/nios2/tret.s: New.
	* gas/nios2/warn_noat.l: New.
	* gas/nios2/warn_noat.s: New.
	* gas/nios2/warn_nobreak.l: New.
	* gas/nios2/warn_nobreak.s: New.
	* gas/nios2/xor.d: New.
	* gas/nios2/xor.s: New.

	ld/
	* Makefile.am (enios2elf.c): New rule.
	* Makefile.in: Regenerated.
	* configure.tgt: Add case for nios2*-*-*.
	* emulparams/nios2elf.sh: New file.
	* NEWS: Note Altera Nios II support.

	ld/testsuite/
	* ld-nios2/emit-relocs-1a.s: New.
	* ld-nios2/emit-relocs-1b.s: New.
	* ld-nios2/emit-relocs-1.d: New.
	* ld-nios2/emit-relocs-1.ld: New.
	* ld-nios2/gprel.d: New.
	* ld-nios2/gprel.s: New.
	* ld-nios2/hilo16.d: New.
	* ld-nios2/hilo16.s: New.
	* ld-nios2/hilo16_symbol.s: New.
	* ld-nios2/imm5.d: New.
	* ld-nios2/imm5.s: New.
	* ld-nios2/imm5_symbol.s: New.
	* ld-nios2/nios2.exp: New.
	* ld-nios2/pcrel16.d: New.
	* ld-nios2/pcrel16_label.s: New.
	* ld-nios2/pcrel16.s: New.
	* ld-nios2/relax_callr.d: New.
	* ld-nios2/relax_callr.ld: New.
	* ld-nios2/relax_callr.s: New.
	* ld-nios2/relax_cjmp.d: New.
	* ld-nios2/relax_cjmp.s: New.
	* ld-nios2/relax_jmp.ld: New.
	* ld-nios2/relax_section.d: New.
	* ld-nios2/relax_section.s: New.
	* ld-nios2/relax_ujmp.d: New.
	* ld-nios2/relax_ujmp.s: New.
	* ld-nios2/reloc.d: New.
	* ld-nios2/reloc.s: New.
	* ld-nios2/reloc_symbol.s: New.
	* ld-nios2/s16.d: New.
	* ld-nios2/s16.s: New.
	* ld-nios2/s16_symbol.s: New.
	* ld-nios2/u16.d: New.
	* ld-nios2/u16.s: New.
	* ld-nios2/u16_symbol.s: New.
	* ld-elf/indirect.exp: Skip on targets that don't support
	-shared -fPIC.
	* ld-elfcomm/elfcomm.exp: Build with -G0 for nios2.
	* ld-plugin/lto.exp: Skip shared library tests on targets that
	don't support them.  Skip execution tests on non-native targets.

	binutils/
	* readelf.c: Include elf/nios2.h.
	(dump_relocations): Add case for EM_ALTERA_NIOS2.
	(get_nios2_dynamic_type): New.
	(get_dynamic_type): Add case for EM_ALTERA_NIOS2.
	(is_32bit_abs_reloc): Fix EM_ALTERA_NIOS2 case.
	(is_16bit_abs_reloc): Likewise.
	(is_none_reloc): Add EM_ALTERA_NIOS2 and EM_NIOS32 cases.
	* NEWS: Note Altera Nios II support.
	* MAINTAINERS: Add Nios II maintainers.
@
text
@d1 5
@


1.1985
log
@	* readelf.c (process_version_sections): Fix overflow checks to
	avoid undefined behaviour.
@
text
@d1 15
@


1.1984
log
@	* dwarf.c (display_gdb_index): Handle .gdb_index version 8.
@
text
@d1 5
@


1.1983
log
@	* objcopy.c (parse_flags): Add merge and strings section flags.
@
text
@d1 4
@


1.1982
log
@binutils/
    	* dwarf.c (display_loc_list): Update offset for each line
    	printed.
    	(print_addr_index): New function.
    	(display_loc_list_dwo): Update offset for each line printed.
    	Fix problems displaying loclists in .dwo files.  Add support
    	for type 4 entries.
    	(display_debug_loc): Remove custom header for .dwo files.
    	(display_debug_addr): Adjust formatting.
@
text
@d1 4
@


1.1981
log
@* objcopy.c : Enable long section names for OPTION_ADD_GNU_DEBUGLINK.
@
text
@d1 11
@


1.1980
log
@	* dwarf.c (display_debug_addr): Add missing parentheses to expression.
@
text
@d1 4
@


1.1979
log
@Add support for V850E3V5 architecture
@
text
@d1 4
@


1.1978
log
@2013-01-23  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* readelf.c: Add strings for NT_S390_LAST_BREAK and
	NT_S390_SYSTEM_CALL.
@
text
@d1 4
@


1.1977
log
@	PR binutils/15026
	* addr2line.c (translate_addresses): When pretty printing, print
	unknown function names on the same line as unknown symbol names.
@
text
@d1 5
@


1.1976
log
@	* objdump.c (dump_target_specific): Fix NULL pointer test.
@
text
@d1 6
@


1.1975
log
@	PR binutils/15018
	* stabs.c (parse_stab_members): Always set physname here to avoid
	gcc warning..
	(parse_stab_argtypes): ..and don't duplicate the init here.
@
text
@d1 4
@


1.1974
log
@	* common.h: Fix case of "Meta".
	* metag.h: New file.

	* dis-asm.h (print_insn_metag): New declaration.

	* metag.h: New file.

	* Makefile.am: Add Meta.
	* Makefile.in: Regenerate.
	* configure: Regenerate.
	* configure.in: Add Meta.
	* disassemble.c: Add Meta support.
	* metag-dis.c: New file.

	* Makefile.am: Add Meta.
	* Makefile.in: Regenerate.
	* archures.c (bfd_mach_metag): New.
	* bfd-in2.h: Regenerate.
	* config.bfd: Add Meta.
	* configure: Regenerate.
	* configure.in: Add Meta.
	* cpu-metag.c: New file.
	* elf-bfd.h: Add Meta.
	* elf32-metag.c: New file.
	* elf32-metag.h: New file.
	* libbfd.h: Regenerate.
	* reloc.c: Add Meta relocations.
	* targets.c: Add Meta.

	* Makefile.am: Add Meta.
	* Makefile.in: Regenerate.
	* config/tc-metag.c: New file.
	* config/tc-metag.h: New file.
	* configure.tgt: Add Meta.
	* doc/Makefile.am: Add Meta.
	* doc/Makefile.in: Regenerate.
	* doc/all.texi: Add Meta.
	* doc/as.texiinfo: Document Meta options.
	* doc/c-metag.texi: New file.

	* gas/metag/labelarithmetic.d: New file.
	* gas/metag/labelarithmetic.s: New file.
	* gas/metag/metacore12.d: New file.
	* gas/metag/metacore12.s: New file.
	* gas/metag/metacore21-invalid.l: New file.
	* gas/metag/metacore21-invalid.s: New file.
	* gas/metag/metacore21.d: New file.
	* gas/metag/metacore21.s: New file.
	* gas/metag/metacore21ext.d: New file.
	* gas/metag/metacore21ext.s: New file.
	* gas/metag/metadsp21-invalid.l: New file.
	* gas/metag/metadsp21-invalid.s: New file.
	* gas/metag/metadsp21.d: New file.
	* gas/metag/metadsp21.s: New file.
	* gas/metag/metadsp21ext.d: New file.
	* gas/metag/metadsp21ext.s: New file.
	* gas/metag/metafpu21.d: New file.
	* gas/metag/metafpu21.s: New file.
	* gas/metag/metafpu21ext.d: New file.
	* gas/metag/metafpu21ext.s: New file.
	* gas/metag/metag.exp: New file.
	* gas/metag/tls.d: New file.
	* gas/metag/tls.s: New file.

	* Makefile.am: Add Meta.
	* Makefile.in: Regenerate.
	* configure.tgt: Add Meta.
	* emulparams/elf32metag.sh: New file.
	* emultempl/metagelf.em: New file.

	* ld-elf/merge.d: Mark Meta as xfail.
	* ld-gc/start.d: Skip this test on Meta.
	* ld-gc/personality.d: Skip this test on Meta.
	* ld-metag/external.s: New file.
	* ld-metag/metag.exp: New file.
	* ld-metag/pcrel.d: New file.
	* ld-metag/pcrel.s: New file.
	* ld-metag/shared.d: New file.
	* ld-metag/shared.r: New file.
	* ld-metag/shared.s: New file.
	* ld-metag/stub.d: New file.
	* ld-metag/stub.s: New file.
	* ld-metag/stub_pic_app.d: New file.
	* ld-metag/stub_pic_app.r: New file.
	* ld-metag/stub_pic_app.s: New file.
	* ld-metag/stub_pic_shared.d: New file.
	* ld-metag/stub_pic_shared.s: New file.
	* ld-metag/stub_shared.d: New file.
	* ld-metag/stub_shared.r: New file.
	* ld-metag/stub_shared.s: New file.

	* binutils/readelf.c: (guess_is_rela): Add EM_METAG.
	(dump_relocations): Add EM_METAG.
	(get_machine_name): Correct case for Meta.
	(is_32bit_abs_reloc): Add support for Meta ADDR32 reloc.
	(is_none_reloc): Add support for Meta NONE reloc.
@
text
@d1 7
@


1.1973
log
@include/elf/

2013-01-08  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* common.h (NT_ARM_TLS, NT_ARM_HW_BREAK, NT_ARM_HW_WATCH): New macro
	definitions.

bfd/

2013-01-08  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* elf-bfd.h (elfcore_write_aarch_tls): Add prototype.
	(elfcore_write_aarch_hw_break): Likewise.
	(elfcore_write_aarch_hw_watch): Likewise.
	* elf.c (elfcore_grok_aarch_tls): New function.
	(elfcore_grok_aarch_hw_break): Likewise.
	(elfcore_grok_aarch_hw_watch): Likewise.
	(elfcore_grok_note): Call the new functions to handle the
	corresponding notes.
	(elfcore_write_aarch_tls): New function.
	(elfcore_write_aarch_hw_break): Likewise.
	(elfcore_write_aarch_hw_watch): Likewise.
	(elfcore_write_register_note): Call the new functions to handle the
	corresponding pseudo sections.

binutils/

2013-01-08  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* readelf.c (get_note_type): Handle NT_ARM_TLS, NT_ARM_HW_BREAK
	and NT_ARM_HW_WATCH.
@
text
@d1 8
@


1.1972
log
@binutils/
	* objcopy.c (deterministic): Make int rather than bfd_boolean,
	initialize to -1.
	(strip_options, copy_options): Add -U/--disable-deterministic-archives.
	(default_deterministic): New function.
	(strip_main, copy_main): Handle -U.  Call default_deterministic.
	(copy_usage, strip_usage): Describe -U.  Cite whether -D or -U is
	the default based on DEFAULT_AR_DETERMINISTIC.
	* doc/binutils.texi (objcopy, strip): Describe -U and effect of
	configure options on -D.

	* ar.c (default_deterministic): Comment fix.
@
text
@d1 5
@


1.1971
log
@	* ld.texinfo: Replace @@ with @@@@ when it is part of the text.
	Correct ordering of M68HC11 entry.

	* doc/binutils.texi: Fix ordering of top level nodes.
	Replace erroneous uses of @@itemx with @@item.

	* bfd.texinfo: Replace @@ with @@@@ when it is part of the text.
@
text
@d1 14
@


1.1970
log
@* doc/binutils.texi (elfedit): Fix use of @@itemx in @@table.
@
text
@d1 5
@


1.1969
log
@Adding myself as AArch64 co-maintainer.

2013-01-03  Marcus Shawcroft  <marcus.shawcroft@@arm.com>

	    * MAINTAINERS: Add myself as AArch64 co-maintainer.
@
text
@d1 4
@


1.1968
log
@Update copyright year to 2013

binutils/

2013-01-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* version.c (print_version): Update copyright year to 2013.

gas/

2013-01-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* as.c (parse_args): Update copyright year to 2013.

ld/

2013-01-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* ldver.c (ldversion): Update copyright year to 2013.

opcodes/

2013-01-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-gen.c (process_copyright): Update copyright year to 2013.
@
text
@d1 4
@


1.1967
log
@Rotate binutils ChangeLog for 2013
@
text
@d1 4
@


1.1966
log
@Add copyright notices
@
text
@d1 1
a1 743
2012-12-17  Nick Clifton  <nickc@@redhat.com>

	* BRANCHES: Add copyright notice.
	* MAINTAINERS: Likewise.
	* Makefile.am: Likewise.
	* NEWS: Likewise.
	* README: Likewise.
	* configure.com: Likewise.
	* configure.in: Likewise.
	* configure.tgt: Likewise.
	* dwarf-mode.el: Likewise.
	* makefile.vms: Likewise.
	* syslex_wrap.c: Likewise.
	* doc/Makefile.am: Likewise.
	* Makefile.in: Regenerate.
	* doc/Makefile.in: Regenerate.

2012-11-27  Kai Tietz  <ktietz@@redhat.com>

	* resbin.c (bin_to_res_version):  Correct offset
	and length calculation of resource.
	(get_version_header): Apply alignement of 4 to len.

2012-11-16  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (process_dynamic_section): Correct DF_1_CONFALT.
	Also dump DF_1_ENDFILTEE, DF_1_DISPRELDNE, DF_1_NODIRECT,
	DF_1_IGNMULDEF, DF_1_NOKSYMS, DF_1_NOHDR, DF_1_EDITED,
	DF_1_NORELOC, DF_1_SYMINTPOSE, DF_1_GLOBAUDIT and DF_1_SINGLETON.

2012-11-14  Tristan Gingold  <gingold@@adacore.com>

	* od-macho.c (bfd_mach_o_load_command_name): Add new definitions.
	(dump_load_command): Handle BFD_MACH_O_LC_SOURCE_VERSION
	and BFD_MACH_O_LC_MAIN.

2012-11-13  Maciej W. Rozycki  <macro@@codesourcery.com>

	* readelf.c (get_machine_flags) <EM_MIPS, EM_MIPS_RS3_LE>: Move
	code to handle EF_SH_PIC and EF_SH_FDPIC...
	<EM_SH>: ... here.

2012-11-09  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (get_machine_flags): Add support for E_FLAG_RX_ABI.
	(guess_is_rela): Add EM_V800.
	(dump_relocations): Likewise.
	(get_machine_name): Update EM_V800.
	(get_machine_flags): Add support for RH850 ABI flags.
	(is_32bit_abs_reloc): Add support for RH850 ABI reloc.

2012-11-09  H.J. Lu  <hongjiu.lu@@intel.com>

	* coffgrok.c (coff_grok): Remove trailing redundant `;'.
	* resrc.c (open_input_stream): Likewise.

2012-11-08  Alan Modra  <amodra@@gmail.com>

	* po/POTFILES.in: Regenerate.

2012-11-07  H.J. Lu  <hongjiu.lu@@intel.com>

	* objcopy.c (copy_section): Don't read beyond section end.

2012-11-06  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/14567
	* Makefile.am (BFDTEST2_PROG): New.
	(bfdtest2_DEPENDENCIES): Likewise.
	(TEST_PROGS): Add $(BFDTEST2_PROG).
	* Makefile.in: Regenerated.
	* bfdtest2.c: New file.

2012-11-05  Stephane Carrez  <Stephane.Carrez@@gmail.com>

	* MAINTAINERS: Update my email address.

2012-11-05  Alan Modra  <amodra@@gmail.com>

	* configure.in: Apply 2012-09-10 change to config.in here.  Add
	__CONFIG_H__ check.
	* config.in: Regenerate.

2012-11-01  Tom Tromey  <tromey@@redhat.com>

	* readelf.c (get_note_type): Handle NT_386_TLS, NT_386_IOPERM.

2012-10-30  Nick Clifton  <nickc@@redhat.com>

	PR binutils/14779
	* configure.in: Add checks for wchar.h and mbstate_t.
	* config.in: Regenerate.
	* configure: Regenerate.
	* readelf.c: Conditionally include wchar.h.
	(print_symbol): Conditionally use mbstate_t.

2012-10-30  	Steve McIntyre  <steve.mcintyre@@linaro.org>

	* readelf.c (decode_ARM_machine_flags): Recognise and display the
	new ARM hard-float/soft-float ABI flags for EABI_VER5. Split out
	the code for EABI_VER4 and EABI_VER5 to allow this.

2012-10-29  Alan Modra  <amodra@@gmail.com>

	* dlltool.c (INIT_SEC_DATA): Move.
	(secdata <DLLTOOL_PPC>): Use here too.

2012-10-26  Nick Clifton  <nickc@@redhat.com>

	* po/hr.po: New Croation translation.
	* configure.in (ALL_LINGUAS): Add hr.
	* configure: Regenerate.

2012-10-23  Cary Coutant  <ccoutant@@google.com>

	* dwarf.c (do_debug_addr, do_debug_cu_index): New global flags.
	(load_debug_info): Fix typo.
	(cu_tu_indexes_read, shndx_pool, shndx_pool_size, shndx_pool_used):
	New global variables.
	(prealloc_cu_tu_list, add_shndx_to_cu_tu_entry, end_cu_tu_entry)
	(process_cu_tu_index, load_cu_tu_indexes, find_cu_tu_set)
	(display_cu_index): New functions.
	(dwarf_select_sections_by_names): Add "debug_addr", "cu_index".
	Sort entries alphabetically.
	(dwarf_select_sections_all): Set do_debug_addr, do_debug_cu_index.
	(debug_displays): Add .debug_cu_index, .debug_tu_index.
	Clean up formatting.
	* dwarf.h (dwarf_section_display_enum): Add dwp_cu_index,
	dwp_tu_index.
	(do_debug_addr, do_debug_cu_index): New global flags.
	(find_cu_tu_set): New function declaration.
	* objdump.c (usage): Add --dwarf=addr, --dwarf=cu_index.
	* readelf.c (find_section_in_set): New function.
	(usage): Add --debug-dump=addr, --debug_dump=cu_index.
	(process_section_headers): Check do_debug_addr and do_debug_cu_index.
	(section_subset): New global variable.
	(load_debug_section): Restrict search to section subset.
	(display_debug_section): Add section index as paramter.  Select subset
	of sections when dumping a .dwp file.  Update caller.

2012-10-23  Tom Tromey  <tromey@@redhat.com>

	* readelf.c (get_note_type): Handle NT_SIGINFO, NT_FILE.
	(print_core_note): New function.
	(process_note): Call it.

2012-10-21  H.J. Lu  <hongjiu.lu@@intel.com>

	* objdump.c (dump_dwarf): Handle bfd_mach_x64_32 and
	bfd_mach_x64_32_intel_syntax.

2012-10-21  Alan Modra  <amodra@@gmail.com>

	* objdump.c (load_specific_debug_section): Use
	bfd_cache_section_contents.

2012-10-18  Kai Tietz  <ktietz@@redhat.com>

	* objdump.c (dump_bfd): Call dump headers after
	call of slurp_symtab.

	* objcopy.c (is_strip_section_1): Don't strip
	.reloc section by default.

2012-10-11  Doug Evans  <dje@@google.com>

	* dwarf.c (display_gdb_index): Include static/global information
	of each symbol.

2012-09-14  David Edelsohn  <dje.gcc@@gmail.com>

	* configure: Regenerate.

2012-09-10  Matthias Klose  <doko@@ubuntu.com>

	* config.in: Disable sanity check for kfreebsd.

2012-09-10  H.J. Lu  <hongjiu.lu@@intel.com>

	* configure: Regenerated.

2012-09-06  Cary Coutant  <ccoutant@@google.com>

	* dwarf.c (decode_location_expression): Add
	DW_OP_GNU_const_index.

2012-09-06  Nick Clifton  <nickc@@redhat.com>

	* doc/binutils.texi (nm): Alpha-sort the option descriptions.
	Add description of the --synthetic option.

2012-09-04  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/14493
	* readelf.c (get_symbol_index_type): Check bad section index.

2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	* readelf.c (arm_attr_tag_CPU_arch): Update for ARMv8.
	(arm_attr_tag_FP_arch): Likewise.
	(arm_attr_tag_Advanced_SIMD_arch): Likewise.

2012-08-17  Yuri Chornoivan  <yurchor@@ukr.net>

	* doc/binutils.texi, * objdump.c, * od-xcoff.c: Typo fixes.

2012-08-16  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/14481
	* Makefile.am (BFDTEST1_PROG): New.
	(TEST_PROGS): Likewise.
	(bfdtest1_DEPENDENCIES): Likewise.
	(noinst_PROGRAMS): Add $(TEST_PROGS).
	* Makefile.in: Regenerated.

	* bfdtest1.c: New file.

2012-08-13  Ian Bolton  <ian.bolton@@arm.com>
	    Laurent Desnogues  <laurent.desnogues@@arm.com>
	    Jim MacArthur  <jim.macarthur@@arm.com>
	    Marcus Shawcroft  <marcus.shawcroft@@arm.com>
	    Nigel Stephens  <nigel.stephens@@arm.com>
	    Ramana Radhakrishnan  <ramana.radhakrishnan@@arm.com>
	    Richard Earnshaw  <rearnsha@@arm.com>
	    Sofiane Naci  <sofiane.naci@@arm.com>
	    Tejas Belagod  <tejas.belagod@@arm.com>
	    Yufeng Zhang  <yufeng.zhang@@arm.com>

	* readelf.c (guess_is_rela): Handle EM_AARCH64.
	(get_machine_name): Likewise.
	(get_aarch64_segment_type): New function.
	(get_segment_type): Handle EM_AARCH64 by calling the new function.
	(get_aarch64_section_type_name): New function.
	(get_section_type_name): Handle EM_AARCH64 by calling the new function.
	(is_32bit_abs_reloc): Handle EM_AARCH64.
	(is_32bit_pcrel_reloc): Likewise.
	(is_64bit_abs_reloc): Likewise.
	(is_64bit_pcrel_reloc): Likewise.
	(is_none_reloc): Likewise.

2012-08-09  Nick Clifton  <nickc@@redhat.com>

	* po/vi.po: Updated Vietnamese translation.

2012-08-03  Tom Tromey  <tromey@@redhat.com>

	* dlltool.c (scan_obj_file): Close arfile after calling
	bfd_openr_next_archived_file.

2012-08-02  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/14420
	* dwarf.c (process_abbrev_section): Add attribute terminator.
	Warn missing section terminator.
	(get_FORM_name): Special check for 0 value.
	(get_AT_name): Likewise.
	(process_debug_info): Display zero abbrev number.  Check
	attribute terminator.

2012-07-30  Nick Clifton  <nickc@@redhat.com>

	* po/binutils.pot: Updated template.
	* po/bg.po: Updated Bulgarian translation.
	* po/es.po: Updated Spanish translation.
	* po/fi.po: Updated Finnish translation.
	* po/fr.po: Updated French translation.
	* po/uk.po: Updated Ukranian translation.

2012-07-28  Kai Tietz  <ktietz@@redhat.com>

	* rcparse.y (FILEVERSION): Use optcnumexpr instead of cnumexpr.
	(PRODUCTVERSION): Likewise.

2012-07-27  Mike Frysinger  <vapier@@gentoo.org>

	* configure.in (BFD_VERSION): Run bfd/configure --version and
	parse the output of that.
	* configure: Regenerate.

2012-07-27  Tristan Gingold  <gingold@@adacore.com>

	* NEWS: Add marker for 2.23.

2012-07-24  Teresa Johnson  <tejohnson@@google.com>

	* addr2line.c (find_address_in_section): Invoke
	bfd_find_nearest_line_discriminator to get the discriminator.
	(find_offset_in_section): Likewise.
	(translate_addresses): Print discriminator if it is non-zero.
	* objdump.c (show_line): Invoke
	bfd_find_nearest_line_discriminator to get the discriminator,
	and keep track of prev_discriminator. Print discriminator
	if it is non-zero.
	(disassemble_data): Initialize prev_discriminator.
	(dump_reloc_set): Invoke bfd_find_nearest_line_discriminator
	to get the discriminator, and keep track of last_discriminator.
	Print discriminator if it is non-zero.

2012-07-17  Nick Clifton  <nickc@@redhat.com>

	* elfcomm.c (setup_archive): Extract index table and symbol table
	scanning code into...
	(process_archive_index_and_symbols): ... this function and add
	support for 64-bit index tables.
	* elfcomm.h (struct archive_info): Change type of index_num and
	index_array to elf_vma.
	Add 'uses_64bit_indicies' field.
	* readelf.c (process_archive): Fix support for 64-bit indicies.

2012-07-03  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (process_archive): Display member indicies when
	dumping index.

2012-07-02  Tom Tromey  <tromey@@redhat.com>

	* dwarf.c: Include gdb-index.h.
	(display_gdb_index): Handle version 7.

2012-06-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* nm.c (filter_symbols): Simplify global symbol handling.

2012-06-29  Francois Gouget  <fgouget@@codeweavers.com>

	PR binutils/14302
	* bucomm.c (print_arelt_descr): Correctly report the archive size
	field (for 'ar tv').
	* ar.c (print_contents): Use correct types for archive element
	sizes (for 'ar p').
	(extract_file): Likewise (for 'ar x').

2012-06-29  Alan Modra  <amodra@@gmail.com>

	* readelf.c (is_16bit_abs_reloc): Handle mn10200 reloc.

2012-06-12  Tom Tromey  <tromey@@redhat.com>

	* dwarf-mode.el: Add final comment.  Bump version.
	(dwarf-insert-substructure-button): Use string-to-number.
	(dwarf-browse): Fix autoload cookie.

2012-06-08  Jakub Jelinek  <jakub@@redhat.com>

	* dwarf.c (read_and_display_attr_value): Handle
	DW_FORM_GNU_ref_alt and DW_FORM_GNU_strp_alt.
	(display_debug_macro): Handle DW_MACRO_GNU_define_indirect_alt,
	DW_MACRO_GNU_undef_indirect_alt and
	DW_MACRO_GNU_transparent_include_alt.

2012-06-01  Alan Modra  <amodra@@gmail.com>

	* addr2line.c (translate_addresses): Truncate input addresses to
	arch_size bits.  Avoid undefined shift.  Print '?' for zero line.

2012-05-30  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (process_section_headers): Correct bug in previous
	delta - display full section type in wide mode.

2012-05-28  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (print_symbol): Display multibyte characters in symbol
	names.
	(process_section_headers): Use print_symbol.

2012-05-18  Andreas Schwab  <schwab@@linux-m68k.org>

	* aclocal.m4: Regenerate.
	* configure: Regenerate.
	* config.in: Regenerate.
	* Makefile.in: Regenerate.

2012-05-17  Daniel Richard G.  <skunk@@iskunk.org>
	    Nick Clifton  <nickc@@redhat.com>

	PR 14072
	* configure.in: Add check that sysdep.h has been included before
	any system header files.
	* configure: Regenerate.
	* config.in: Regenerate.
	* unwind-ia64.h: Include config.h.

2012-05-17  Alan Modra  <amodra@@gmail.com>

	* dwarf.c (process_debug_info): Display abbrev offset in hex.
	(display_debug_abbrev): Show offset of abbrev.

2012-05-17  Alan Modra  <amodra@@gmail.com>

	* dwarf.c (display_debug_ranges): Don't report more than one use
	of the same range set as an overlap.

2012-05-16  Daniel Richard G.  <skunk@@iskunk.org>

	PR binutils/13558
	* Makefile.am (CFILES): Add syslex_wrap.c.
	(sysinfo): Depend upon syslex_wrap.o.
	(syslex_wrap.o): New rule.
	(syslex.o): Delete rule.
	* syslex_wrap.c: New file.
	* Makefile.in: Regenerate.

2012-05-15  James Murray <jsm@@jsm-net.demon.co.uk>

	* readelf.c (get_machine_name): Update m68hc12 entry.

2012-05-13  H.J. Lu  <hongjiu.lu@@intel.com>

	* objdump.c (disassemble_bytes): Print addend as signed.
	(dump_reloc_set): Likewise.

2012-05-04  Sterling Augustine  <saugustine@@google.com>
	    Cary Coutant  <ccoutant@@google.com>

	* doc/binutils.texi: Add --dwarf-check option.
	* dwarf.c (dwarf_check): New global flag.
	(fetch_indexed_string): New function.
	(fetch_indexed_value): New function.
	(get_FORM_name): Add DW_FORM_GNU_str_index and DW_FORM_GNU_addr_index.
	(decode_location_expression): Add DW_OP_GNU_addr_index.
	(read_and_display_attr_value): Add DW_FORM_GNU_str_index,
	DW_FORM_GNU_addr_index, DW_AT_GNU_addr_base, and DW_AT_GNU_ranges_base.
	(get_AT_name): Add new attributes for Fission.
	(process_debug_info): Load new debug sections for Fission.
	(load_debug_info): Check for .debug_info.dwo section.
	(display_loc_list, display_loc_list_dwo): New functions.
	(display_debug_loc): Move logic to above two functions.
	(display_debug_info): Choose abbrev section based on info section.
	(display_debug_types): Likewise.
	(display_trace_info): Likewise.
	(comp_addr_base): New function.
	(display_debug_addr): New function.
	(display_debug_str_offsets): New function.
	(display_debug_ranges): Allow missing range lists.  Suppress
	diagnostics if dwarf_check not set.
	(debug_displays): Add column to select abbrev section.
	* dwarf.h (enum dwarf_section_display_enum): Add new debug sections
	for Fission.
	(struct dwarf_section): Add abbrev_sec field.
	(struct dwarf_section_display): New type.
	(debug_info): Add addr_base, ranges_base fields.
	(dwarf_check): New global variable.
	* objdump.c (usage): Add --dwarf-check option.
	(enum option_values): Add OPTION_DWARF_CHECK.
	(long_options): Add --dwarf-check.
	(main): Likewise.
	* readelf.c (OPTION_DWARF_CHECK): New macro.
	(options): Add --dwarf-check.
	(parse_args): Likewise.
	(process_section_headers): Use const_strneq instead of
	streq.

2012-05-11  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/14088
	* readelf.c (dump_relocations): Always display addend as
	signed hex number.

2012-05-11  Daniel Richard G.  <skunk@@iskunk.org>

	PR binutils/14028
	* configure.in: Invoke ACX_HEADER_STRING.
	* configure: Regenerate.
	* config.in: Regenerate.
	* sysdep.h: If STRINGS_WITH_STRING is defined then include both
	string.h and strings.h.

2012-05-10  Jakub Jelinek  <jakub@@redhat.com>

	* dwarf.c (read_and_display_attr_value): Don't look up tag from
	abbrev for DW_FORM_ref_addr.

2012-05-08  Sean Keys  <skeys@@ipdatasys.com>

	* binutils/MAINTAINERS: Added my entry to the maintainers secion.

2012-05-08  Cary Coutant  <ccoutant@@google.com>

	* doc/binutils.texi (objcopy): Add --strip-dwo, --extract-dwo options.
	(strip): Add --strip-dwo option.
	* objcopy.c (enum strip_action): Add STRIP_DWO, STRIP_NONDWO.
	(enum command_line_switch): Add OPTION_EXTRACT_DWO, OPTION_STRIP_DWO.
	(strip_options): Add --strip-dwo option.
	(copy_options): Add --extract-dwo, --strip-dwo options.
	(copy_usage): Likewise.
	(strip_usage): Add --strip-dwo option.
	(is_dwo_section): New function.
	(is_strip_section_1): Check for DWO sections.
	(copy_object): Check for --strip-dwo, --extract-dwo options.
	(copy_relocations_in_section): Discard relocations for DWO sections.
	Discard entire relocation section when no relocations.
	(strip_main): Add --strip-dwo option.
	(copy_main): Add --strip-dwo, --extract-dwo options.

2012-05-08  Alan Modra  <amodra@@gmail.com>

	* Makefile.am (check_DEJAGNU): Export LC_ALL=C in place of other
	LC and LANG environment vars.
	* Makefile.in: Regenerate.

2012-05-07  Tom Tromey  <tromey@@redhat.com>

	* dwarf.c (get_TAG_name): Use get_DW_TAG_name.
	(get_FORM_name): Use get_DW_FORM_name.
	(get_AT_name): Use get_DW_AT_name.

2012-05-07  Alan Modra  <amodra@@gmail.com>

	* Makefile.am (check-DEJAGNU): Clear LC_COLLATE, LC_ALL and LANG.
	* Makefile.in: Regenerate.

2012-05-05  Alan Modra  <amodra@@gmail.com>

	* dlltool.c (make_one_lib_file): Use bfd_und_section_ptr.

2012-05-03  Sean Keys  <skeys@@ipdatasys.com>

	* readelf.c: Add support for XGATE.

2012-05-02  Nick Clifton  <nickc@@redhat.com>

	* po/vi.po: Updated Vietnamese translation.
	* po/it.po: New Italian translation.
	* configure.in (ALL_LINGUAS): Add it.
	* configure: Regenerate.

2012-05-01  Nick Clifton  <nickc@@redhat.com>

	PR binutils/13121
	* rescoff.c: Rename 'finfo' to 'flaginfo' to avoid conflicts with
	AIX system headers.

2012-04-25  Cary Coutant  <ccoutant@@google.com>

	* doc/binutils.texi: Add -D/--enable-deterministic-archives option
	to strip and objcopy.
	* objcopy.c (deterministic): New global variable.
	(strip_options): Add --enable-deterministic-archives.
	(copy_options): Likewise.
	(copy_usage): Likewise.
	(strip_usage): Likewise.
	(copy_archive): When stripping all, don't add archive map; set
	deterministic output when requested.
	(strip_main): Add -D/--enable-deterministic-archives option.
	(copy_main): Likewise.

2012-04-12  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/13947
	* objcopy.c (copy_object): Call copy_relocations_in_section
	before copy_section.
	(skip_section): New.
	(copy_relocations_in_section): Likewise.
	(copy_section): Use skip_section.  Don't copy relocations here.

2012-04-11  Ryan Mansfield  <rmansfield@@qnx.com>

	* objdump.c (dump_bfd): If defaulting to dwarf call
	dwarf_select_sections_all to enable displays.

2012-04-06  Roland McGrath  <mcgrathr@@google.com>

	* configure.in (AC_CHECK_HEADERS): Add locale.h.
	* config.in: Regenerate.
	* configure: Regenerate.

2012-04-05  Nick Clifton  <nickc@@redhat.com>

	* configure.in (AC_CHECK_FUNCS): Add setlocale.
	(AM_LC_MESSAGES): Add.
	* aclocal.m4: Regenerate.
	* config.in: Regenerate.
	* configure: Regenerate.

2012-03-30  Nick Clifton  <nickc@@redhat.com>

	PR binutils/13925
	* stabs.c (stab_demangle_v3_arglist): Cope with the demangler
	returning an empty context for a function with no arguments.

2012-03-28  Tom Tromey  <tromey@@redhat.com>

	* dwarf.c (display_gdb_index): Handle index version 6.

2012-03-07  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (is_16bit_abs_reloc): Add detection of R_MN10300_16.

2012-02-29  Jeff Law  <law@@redhat.com>

	* doc/binutils.texi (c++filt): Fix typos.

2012-02-24  Kai Tietz  <ktietz@@redhat.com>

	PR binutils/13710
	* defparse.y (keyword_as_name): Disable LIBRARY
	keyword.
	* doc/binutils.texi: Document LIBRARY exception.

2012-02-21  Kai Tietz<ktietz@@redhat.com>

	PR binutils/13682
	* NEWS: Mention new feature.
	* dlltool.c (i386_x64_dljtab): New stub-code for x64
	delayed-load feature.
	(i386_x64_trampoline): New trampoline-code for x64
	delayed-load feature.
	(make_one_lib_file): Add support for x64 delayed-load
	feature.
	(make_delay_head): Likewis

2012-02-20  Namhyung Kim  <namhyung.kim@@lge.com>

	* objdump.c (slurp_file): Close file if fstat fails.

2012-02-14  Cary Coutant  <ccoutant@@google.com>

	* dwarf.c (dwarf_vmatoa64): New function.
	(read_and_display_attr_value): Print 8-byte forms as single hex
	numbers.
	(process_debug_info): Print type signatures as single hex numbers.
	* elfcomm.c (byte_get_64): New function.
	* elfcomm.h (byte_get_64): New function.

2012-02-11  Kai Tietz  <ktietz@@redhat.com>

	PR binutils/13657
	* defparse.y (%union): New type id_const.
	(opt_name2): New rule.
	(keyword_as_name): New rule.
	(opt_name): Adjust rule.
	(opt_import_name): Likewise.
	(opt_equal_name): Likewise.

2012-02-11  Kai Tietz  <ktietz@@redhat.com>

	PR binutils/13297
	* resrc.c (write_rc_dialog_control): Omit text dump for
	EDITTEXT, COMBOBOX, LISTBOX, and SCROLLBAR.

2012-02-09  Alan Modra  <amodra@@gmail.com>

	* sysdep.h: Include sys/stat.h here.
	* ar.c: Don't include headers already included by sysdep.h.
	* bucomm.c: Likewise.
	* budbg.h: Likewise.
	* dlltool.h: Likewise.
	* elfedit.c: Likewise.
	* nlmconv.c: Likewise.
	* objcopy.c: Likewise.
	* objdump.c: Likewise.
	* objdump.h: Likewise.
	* readelf.c: Likewise.
	* rename.c: Likewise.
	* resrc.c: Likewise.
	* strings.c: Likewise.
	* windres.c: Likewise.
	* od-macho.c: Ensure #include sysdep.h is first.
	* od-xcoff.c: Likewise.
	* dllwrap.c: Remove alloca pragma handled by sysdep.h, and
	remove duplicate headers.
	* dlltool.c: Likewise and ensure #include sysdep.h is first.

2012-02-01  Nick Clifton  <nickc@@redhat.com>

	PR binutils/13493
	* ar.c (ranlib_main): Process --plugin option.
	* doc/binutils.texi: Document --plugin support for ranlib.

2012-02-01  Nick Clifton  <nickc@@redhat.com>

	PR binutils/13482
	* readelf.c (process_corefile_note_segment): Fix off-by-one errors
	verifying the contents of a note.

2012-01-26  Nick Clifton  <nickc@@redhat.com>

	PR binutils/13622
	* readelf.c (process_section_groups): If there are no section
	headers do not scan for section groups.
	(process_note_sections): Likewise for note sections.

2012-01-20  Tristan Gingold  <gingold@@adacore.com>

	* od-macho.c (OPT_SEG_SPLIT_INFO): New macro.
	(options): Add an entry for seg_split_info.
	(mach_o_help): Document it.
	(dump_segment_split_info): New function.
	(dump_load_command): Handle seg_split_info.

2012-01-19  Tristan Gingold  <gingold@@adacore.com>

	* dwarf.c (process_extended_line_op): Add a cast to silent a
	warning.

2012-01-19  Tristan Gingold  <gingold@@adacore.com>

	* dwarf.c (process_extended_line_op): Reindent define_file output.
	Detect define_file opcode length mismatch.
	(display_debug_lines_decoded): Add an entry in file_table for each
	define_file opcode.
	Ignore DW_LNE_set_discriminator and DW_LNE_HP_set_sequence.
	Display extended opcode for unhandle opcode.

2012-01-17  Alan Modra  <amodra@@gmail.com>

	* version.c (print_version): Update copyright message year.

2012-01-16  Alan Modra  <amodra@@gmail.com>

	PR binutils/13593
	* nm.c (OPTION_SIZE_SORT): Define.
	(long_options): Don't set no_sort, sort_numerically or
	sort_by_size directly.
	(main): Instead set the flags here, making them mutually exclusive.

2012-01-10  Tristan Gingold  <gingold@@adacore.com>

	* objdump.c (display_object_bfd): Renamed from ...
	(display_bfd): ... this.
	(display_any_bfd): New function.
	(display_file): Split.  Handle nested archives.

2012-01-09  Roland McGrath  <mcgrathr@@google.com>

	* configure.in: Use AM_ZLIB.
	* configure: Regenerated.

2012-01-06  Nick Clifton  <nickc@@redhat.com>

	* po/ru.po: Updated Russian translation.

2012-01-04  Tristan Gingold  <gingold@@adacore.com>

	* od-macho.c (dump_load_command): Handle fvmlib.

2012-01-04  Tristan Gingold  <gingold@@adacore.com>

	* od-macho.c: Update copyright year.
	(dump_load_command): Handle BFD_MACH_O_LC_ENCRYPTION_INFO.

For older changes see ChangeLog-2011
d3 1
a3 1
Copyright (C) 2012 Free Software Foundation, Inc.
@


1.1965
log
@Add copyright notices
@
text
@d1 17
@


1.1964
log
@        * resbin.c (bin_to_res_version):  Correct offset
        and length calculation of resource.
        (get_version_header): Apply alignement of 4 to len.
@
text
@d728 6
@


1.1963
log
@Update DF_1_XXX from Solaris

binutils/

	* readelf.c (process_dynamic_section): Correct DF_1_CONFALT.
	Also dump DF_1_ENDFILTEE, DF_1_DISPRELDNE, DF_1_NODIRECT,
	DF_1_IGNMULDEF, DF_1_NOKSYMS, DF_1_NOHDR, DF_1_EDITED,
	DF_1_NORELOC, DF_1_SYMINTPOSE, DF_1_GLOBAUDIT and DF_1_SINGLETON.

include/elf/

	* common.h (DF_1_CONLFAT): Renamed to ...
	(DF_1_CONFALT): This.
	(DF_1_ENDFILTEE): New.
	(DF_1_DISPRELDNE): Likewise.
	(DF_1_DISPRELPND): Likewise.
	(DF_1_NODIRECT): Likewise.
	(DF_1_IGNMULDEF): Likewise.
	(DF_1_NOKSYMS): Likewise.
	(DF_1_NOHDR): Likewise.
	(DF_1_EDITED): Likewise.
	(DF_1_NORELOC): Likewise.
	(DF_1_SYMINTPOSE): Likewise.
	(DF_1_GLOBAUDIT): Likewise.
	(DF_1_SINGLETON): Likewise.
@
text
@d1 6
@


1.1962
log
@bfd/
2012-11-14  Tristan Gingold  <gingold@@adacore.com>

	* mach-o.c (bfd_mach_o_read_main)
	(bfd_mach_o_read_source_version): New functions.
	(bfd_mach_o_read_command): Handle BFD_MACH_O_LC_DATA_IN_CODE,
	BFD_MACH_O_LC_DYLIB_CODE_SIGN_DRS, BFD_MACH_O_LC_MAIN,
	BFD_MACH_O_LC_SOURCE_VERSION.
	* mach-o.h (bfd_mach_o_main_command)
	(bfd_mach_o_source_version_command): New types.
	(bfd_mach_o_load_command): Add fields for these new types.

binutils/
2012-11-14  Tristan Gingold  <gingold@@adacore.com>

	* od-macho.c (bfd_mach_o_load_command_name): Add new definitions.
	(dump_load_command): Handle BFD_MACH_O_LC_SOURCE_VERSION
	and BFD_MACH_O_LC_MAIN.
@
text
@d1 7
@


1.1961
log
@	* readelf.c (get_machine_flags) <EM_MIPS, EM_MIPS_RS3_LE>: Move
	code to handle EF_SH_PIC and EF_SH_FDPIC...
	<EM_SH>: ... here.
@
text
@d1 6
@


1.1960
log
@2012-11-09  Nick Clifton  <nickc@@redhat.com>

	* Makefile.am (ALL_MACHINES): Add cpu-v850-rh850.lo.
	(ALL_MACHINES_CFILES): Add cpu-v850-rh850.c.
	* archures.c (bfd_arch_info): Add bfd_v850_rh850_arch.
	* config.bfd: Likewise.
	* configure.in: Add bfd_elf32_v850_rh850_vec.
	* cpu-v850.c: Update printed description.
	* cpu-v850_rh850.c: New file.
	* elf32-v850.c (v850_elf_check_relocs): Add support for RH850 ABI
	relocs.
	(v850_elf_perform_relocation): Likewise.
	(v850_elf_final_link_relocate): Likewise.
	(v850_elf_relocate_section): Likewise.
	(v850_elf_relax_section): Likewise.
	(v800_elf_howto_table): New.
	(v850_elf_object_p): Add support for RH850 ABI values.
	(v850_elf_final_write_processing): Likewise.
	(v850_elf_merge_private_bfd_data): Likewise.
	(v850_elf_print_private_bfd_data): Likewise.
	(v800_elf_reloc_map): New.
	(v800_elf_reloc_type_lookup): New.
	(v800_elf_reloc_name_lookup): New.
	(v800_elf_info_to_howto): New.
	(bfd_elf32_v850_rh850_vec): New.
	(bfd_arch_v850_rh850): New.
	* targets.c (_bfd_targets): Add bfd_elf32_v850_rh850_vec.
	* Makefile.in: Regenerate.
	* bfd-in2.h: Regenerate.
	* configure: Regenerate.

	* readelf.c (get_machine_flags): Add support for E_FLAG_RX_ABI.
	(guess_is_rela): Add EM_V800.
	(dump_relocations): Likewise.
	(get_machine_name): Update EM_V800.
	(get_machine_flags): Add support for RH850 ABI flags.
	(is_32bit_abs_reloc): Add support for RH850 ABI reloc.

	* config/tc-v850.c (v850_target_arch): New.
	(v850_target_format): New.
	(set_machine): Use v850_target_arch.
	(md_begin): Likewise.
	(md_show_usage): Document new switches.
	(md_parse_option): Add -mgcc-abi, -mrh850-abi, -m8byte-align and
	-m4byte-align.
	* config/tc-v850.c (TARGET_ARCH) Use v850_target_arch.
	(TARGET_FORMAT): Use v850_target_format.
	* doc/c-v850.texi: Document new options.

	* v850.h: Add RH850 ABI values.

	* Makefile.am: (ALL_EMULATION_SOURCES): Add ev850_rh850.c.
	* Makefile.in: Regenerate.
	* configure.tgt (v850*-*-*): Make v850_rh850 the default
	emulation. Add vanilla v850 as an extra emulation.
	* emulparams/v850_rh850.sh: New file.
	* scripttempl/v850_rh850.sc: New file.

	* configure.in: Add bfd_v850_rh850_arch.
	* configure: Regenerate.
	* disassemble.c (disassembler): Likewise.
@
text
@d1 6
@


1.1959
log
@2012-11-09  Nick Clifton  <nickc@@redhat.com>

	* elf32-rx.c (describe_flags): New function.  Returns a buffer
	containing a description of the E_FLAG_RX_... values set.
	(rx_elf_merge_private_bfd_data): Use it.
	(rx_elf_print_private_bfd_data): Likewise.
	(elf32_rx_machine): Skip EF_RX_CPU_RX check.
	(elf32_rx_special_sections): Define.
	(elf_backend_special_sections): Define.

2012-11-09  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (get_machine_flags): Add support for E_FLAG_RX_ABI.

2012-11-09  Nick Clifton  <nickc@@redhat.com>

	* config/obj-elf.c (obj_elf_change_section): Allow init array
	sections to have the SHF_EXECINSTR attribute for the RX target.
	* config/tc-rx.c (elf_flags): Initialise with E_FLAG_RX_ABI.
	(enum options): Add OPTION_USES_GCC_ABI and OPTION_USES_RX_ABI.
	(md_longopts): Add -mgcc-abi and -mrx-abi.
	(md_parse_option): Add support for OPTION_USES_GCC_ABI and
	OPTION_USES_RX_ABI.
	* doc/as.texinfo (RX Options): Add mention of remaining RX
	options.
	* doc/c-rx.texi: Document -mgcc-abi and -mrx-abi.

2012-11-09  Nick Clifton  <nickc@@redhat.com>

	* rx.h (EF_RX_CPU_RX): Add comment.
	(E_FLAG_RX_ABI): Define.

2012-11-09  Nick Clifton  <nickc@@redhat.com>

	* emultempl/rxelf.em (no_flag_mismatch_warnings): Initialise to
	true.
	(PARSE_AND_LIST_LONGOPTS): Add flag-mismatch-warnings.
	(PARSE_AND_LIST_ARG_CASES): Add support for
	--flag-mismatch-warnings.
@
text
@d4 5
@


1.1958
log
@Remove trailing redundant `;'

bfd/

	* aout-tic30.c (MY_final_link_callback): Remove trailing
	redundant `;'.
	* coff-h8500.c (extra_case): Likewise.
	(bfd_coff_reloc16_get_value): Likewise.
	* dwarf2.c (_bfd_dwarf2_cleanup_debug_info): Likewise.
	* elf.c (_bfd_elf_slurp_version_tables): Likewise.
	* elf32-frv.c (elf32_frv_relocate_section): Likewise.
	* elf32-v850.c (v850_elf_perform_relocation): Likewise.
	* opncls.c (bfd_calc_gnu_debuglink_crc32): Likewise.
	* plugin.c (add_symbols): Likewise.
	* reloc.c (bfd_check_overflow): Likewise.
	* vms-lib.c (_bfd_vms_lib_archive_p): Likewise.

binutils/

	* coffgrok.c (coff_grok): Remove trailing redundant `;'.
	* resrc.c (open_input_stream): Likewise.

gas/

	* config/atof-ieee.c (gen_to_words): Remove trailing redundant
	`;'.
	* config/atof-vax.c (flonum_gen2vax): Likewise.
	* config/tc-d10v.c (write_2_short): Likewise.
	* config/tc-i386-intel.c (i386_intel_simplify): Likewise.
	* config/tc-s390.c (tc_s390_force_relocation): Likewise.
	* config/tc-v850.c (md_parse_option): Likewise.
	* config/tc-xtensa.c (find_address_of_next_align_frag): Likewise.
	* dwarf2dbg.c (out_header): Likewise.
	* symbols.c (dollar_label_name): Likewise.
	(fb_label_name): Likewise.

ld/

	* testplug.c (record_add_file): Remove trailing redundant `;'.

opcodes/

	* aarch64-opc.h (gen_mask): Remove trailing redundant `;'.
	* ia64-gen.c (fetch_insn_class): Likewise.
@
text
@d1 4
@


1.1957
log
@Regenerate.
@
text
@d1 5
@


1.1956
log
@Don't read beyond section end

	* objcopy.c (copy_section): Don't read beyond section end.
@
text
@d1 4
@


1.1955
log
@Add a testcase for PR binutils/14567

binutils/

	PR binutils/14567
	* Makefile.am (BFDTEST2_PROG): New.
	(bfdtest2_DEPENDENCIES): Likewise.
	(TEST_PROGS): Add $(BFDTEST2_PROG).
	* Makefile.in: Regenerated.
	* bfdtest2.c: New file.

binutils/testsuite/

	PR binutils/14567
	* binutils-all/ar.exp (bfdtest1): Removed.
	(long_filenames): Take bfdtests.
	(thin_archive): Likewise.
	(thin_archive_with_nested): Likewise.
	(bfdtests): New.
	Pass $bfdtests to long_filenames, thin_archive and
	thin_archive_with_nested.
@
text
@d1 4
@


1.1954
log
@       * MAINTAINERS: Update my email address.
@
text
@d1 9
@


1.1953
log
@	* configure.in: Apply 2012-09-10 change to config.in here.  Add
	__CONFIG_H__ check.
	* config.in: Regenerate.
@
text
@d1 4
@


1.1952
log
@binutils
	* readelf.c (get_note_type): Handle NT_386_TLS, NT_386_IOPERM.
include/common/elf
	* common.h (NT_386_TLS, NT_386_IOPERM): New defines.
@
text
@d1 6
@


1.1951
log
@
bfd:
        * elf32-arm.c (elf32_arm_print_private_bfd_data): Recognise and
        display the new ARM hard-float/soft-float ABI flags for EABI_VER5
        (elf32_arm_post_process_headers): Add the hard-float/soft-float
        ABI flag as appropriate for ET_DYN/ET_EXEC in EABI_VER5.

binutils:
        * readelf.c (decode_ARM_machine_flags): Recognise and display the
        new ARM hard-float/soft-float ABI flags for EABI_VER5. Split out
        the code for EABI_VER4 and EABI_VER5 to allow this.

elfcpp:
        * arm.h: New enum for EABI soft- and hard-float flags.

gold:
        * gold.cc (Target_arm::do_adjust_elf_header): Add the
        hard-float/soft-float ABI flag as appropriate for ET_DYN/ET_EXEC
        in EABI_VER5.

include:
        * elf/arm.h (EF_ARM_ABI_FLOAT_SOFT): New define.
        (EF_ARM_ABI_FLOAT_HARD): Likewise.

ld/testsuite:
        * ld-arm/eabi-hard-float.s: New test source.
        * ld-arm/eabi-soft-float.s: New test source.
        * ld-arm/eabi-hard-float.d: New test.
        * ld-arm/eabi-soft-float.d: New test.
        * ld-arm/eabi-soft-float-ABI4.d: New test.
        * ld-arm/eabi-soft-float-r.d: New test.
        * ld-arm/arm-elf.xp: Use the new tests.

binutils:
	PR binutils/14779
	* configure.in: Add checks for wchar.h and mbstate_t.
	* config.in: Regenerate.
	* configure: Regenerate.
	* readelf.c: Conditionally include wchar.h.
	(print_symbol): Conditionally use mbstate_t.
@
text
@d1 4
@


1.1950
log
@binutils/
	* dlltool.c (INIT_SEC_DATA): Move.
	(secdata <DLLTOOL_PPC>): Use here too.
binutils/testsuite/
	* binutils-all/copy-3.d: Exclude all cygwin and mingw targets,
	and rs6000.
gas/
	* config/tc-ppc.c (ppc_znop): Remove unused vars.
ld/
	* configure.tgt (powerpcle-pe,winnt,cygwin): Add deffilep.o
	and pe-dll.o.
@
text
@d1 15
@


1.1949
log
@	* po/hr.po: New Croation translation.
	* configure.in (ALL_LINGUAS): Add hr.
	* configure: Regenerate.

	* po/uk.po: Updated Ukranian translation.
@
text
@d1 5
@


1.1948
log
@binutils/
	* dwarf.c (do_debug_addr, do_debug_cu_index): New global flags.
	(load_debug_info): Fix typo.
	(cu_tu_indexes_read, shndx_pool, shndx_pool_size, shndx_pool_used):
	New global variables.
	(prealloc_cu_tu_list, add_shndx_to_cu_tu_entry, end_cu_tu_entry)
	(process_cu_tu_index, load_cu_tu_indexes, find_cu_tu_set)
	(display_cu_index): New functions.
	(dwarf_select_sections_by_names): Add "debug_addr", "cu_index".
	Sort entries alphabetically.
	(dwarf_select_sections_all): Set do_debug_addr, do_debug_cu_index.
	(debug_displays): Add .debug_cu_index, .debug_tu_index.
	Clean up formatting.
	* dwarf.h (dwarf_section_display_enum): Add dwp_cu_index,
	dwp_tu_index.
	(do_debug_addr, do_debug_cu_index): New global flags.
	(find_cu_tu_set): New function declaration.
	* objdump.c (usage): Add --dwarf=addr, --dwarf=cu_index.
	* readelf.c (find_section_in_set): New function.
	(usage): Add --debug-dump=addr, --debug_dump=cu_index.
	(process_section_headers): Check do_debug_addr and do_debug_cu_index.
	(section_subset): New global variable.
	(load_debug_section): Restrict search to section subset.
	(display_debug_section): Add section index as paramter.  Select subset
	of sections when dumping a .dwp file.  Update caller.
@
text
@d1 6
@


1.1947
log
@binutils
	* readelf.c (get_note_type): Handle NT_SIGINFO, NT_FILE.
	(print_core_note): New function.
	(process_note): Call it.
include/common/elf
	* common.h (NT_SIGINFO, NT_FILE): New defines.
@
text
@d1 27
@


1.1946
log
@Handle x32 in dump_dwarf

	* objdump.c (dump_dwarf): Handle bfd_mach_x64_32 and
	bfd_mach_x64_32_intel_syntax.
@
text
@d1 6
@


1.1945
log
@bfd/
	* compress.c (bfd_cache_section_contents): New function.
	* bfd-in2.h: Regenerate.
binutils/
	* objdump.c (load_specific_debug_section): Use
	bfd_cache_section_contents.
@
text
@d1 5
@


1.1944
log
@ChangeLog bfd

2012-10-18  Kai Tietz  <ktietz@@redhat.com>

	PR binutils/14067
	* coff-i386.c (bfd_target): Add section flag SEC_EXCLUDE.
	Allow BFD_COMPRESS and BFD_DECOMPRESS flags.
	* coff-x86_64.c: Likewise.
	* coffcode.h (DOT_ZDEBUG): New define.
	(sec_to_styp_flags): Check for .zdebug.
	(styp_to_sec_flags): Likewise.
	* coffgen.c (make_a_section): Handle .debug_* section
	compression/decompression flags.
	* cofflink.c (mark_relocs): Ignore relocations
	for a section, which isn't marked as used.
	(_bfd_coff_link_input_bfd): Add support of compressed
	debug sections.
	* compress.c (decompress_contents): Loop as long
	as there is input available and there is room for
	output.
	* bfd/pe-arm.c: Add .zdebug_ partial match entry.
	* pe-i386.c: Likewise.
	* pe-x86_64.c: Likewise.
	* peXXigen.c (_bfd_XXi_swap_aouthdr_out): Don't clear all
	data-directories as this might destroy content.

        * coff-i386.c (_bfd_generic_find_nearest_line_discriminator):
        define as coff_find_nearest_line_discriminator.
        * libcoff-in.h (coff_find_nearest_line_discriminator): New
        * libcoff.h: Regenerated.
        * coff-x86_64.c: Likewise.
        * coffgen.c (coff_find_nearest_line_discriminator): New function.
        prototype.

ChangeLog binutils

2012-10-18  Kai Tietz  <ktietz@@redhat.com>

	* objdump.c (dump_bfd): Call dump headers after
	call of slurp_symtab.

ChangeLog ld

2012-10-18  Kai Tietz  <ktietz@@redhat.com>

	PR binutils/14067
	* NEWS: Menition new feature.
	* scripttempl/pep.sc: Add zdebug sections.
	* scripttempl/pe.sc: L
@
text
@d1 5
@


1.1943
log
@        * objcopy.c (is_strip_section_1): Don't strip
        .reloc section by default.
@
text
@d3 3
@


1.1942
log
@	* dwarf.c (display_gdb_index): Include static/global information
	of each symbol.
@
text
@d1 5
@


1.1941
log
@        * configure: Regenerate.
@
text
@d1 5
@


1.1940
log
@	* config.in: Disable sanity check for kfreebsd.
@
text
@d1 4
@


1.1939
log
@Regenerate binutils configure

bfd/

2012-09-10  H.J. Lu  <hongjiu.lu@@intel.com>

	* configure: Regenerated.

binutils/

2012-09-10  H.J. Lu  <hongjiu.lu@@intel.com>

	* configure: Regenerated.

etc/

2010-11-20  Ralf Wildenhues  <Ralf.Wildenhues@@gmx.de>

	* Makefile.in (install-strip): New target.

gas/

2012-09-10  H.J. Lu  <hongjiu.lu@@intel.com>

	* configure: Regenerated.

gold/

2012-09-09  Alan Modra  <amodra@@gmail.com>

	* target.h (Target::gc_mark_symbol, do_gc_mark_symbol): New functions.

gprof/

2012-09-10  H.J. Lu  <hongjiu.lu@@intel.com>

	* configure: Regenerated.

intl/

2010-06-27  Ralf Wildenhues  <Ralf.Wildenhues@@gmx.de>

	PR bootstrap/44621

ld/

2012-09-10  H.J. Lu  <hongjiu.lu@@intel.com>

	* configure: Regenerated.

libiberty/

2011-08-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* argv.c (dupargv): Replace malloc with xmalloc.  Don't check

opcodes/

2012-09-10  H.J. Lu  <hongjiu.lu@@intel.com>

	* configure: Regenerated.
@
text
@d1 4
@


1.1938
log
@2012-09-06  Cary Coutant  <ccoutant@@google.com>

binutils/
	* dwarf.c (decode_location_expression): Add
	DW_OP_GNU_const_index.
@
text
@d1 4
@


1.1937
log
@	* doc/binutils.texi (nm): Alpha-sort the option descriptions.
	Add description of the --synthetic option.
@
text
@d1 5
@


1.1936
log
@Ignore section symbols without a BFD section

bfd/

	PR binutils/14493
	* elf.c (ignore_section_sym): Also ignore section symbols without
	a BFD section.

binutils/

	PR binutils/14493
	* readelf.c (get_symbol_index_type): Check bad section index.
@
text
@d1 5
@


1.1935
log
@	* bfd/elf32-arm.c (v8): New array.
	(tag_cpu_arch_combine): Add support for ARMv8 attributes.
	(elf32_arm_merge_eabi_attributes): Likewise.
	(VFP_VERSION_COUNT): New define.
	* binutils/readelf.c (arm_attr_tag_CPU_arch): Update for ARMv8.
	(arm_attr_tag_FP_arch): Likewise.
	(arm_attr_tag_Advanced_SIMD_arch): Likewise.
	* gas/config/tc-arm.h (arm_ext_v8): New variable.
	(fpu_vfp_ext_armv8): Likewise.
	(fpu_neon_ext_armv8): Likewise.
	(fpu_crypto_ext_armv8): Likewise.
	(arm_archs): Add armv8-a.
	(arm_extensions): Add crypto, fp, and simd.
	(arm_fpus): Add fp-armv8, neon-fp-armv8, crypto-neon-fp-armv8.
	(cpu_arch_ver): Add support for ARMv8.
	(aeabi_set_public_sttributes): Likewise.
	* gas/doc/c-arm.texi (ARM Options): Document new architecture and
	extension options for ARMv8.
	* gas/testsuite/gas/arm/attr-march-all.d: Update for change in expected
	output.
	* gas/testsuite/gas/arm/attr-mfpu-vfpv4-d16.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-vfpv4.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv8-a+crypto.d: New testcase.
	* gas/testsuite/gas/arm/attr-march-armv8-a+fp.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv8-a+simd.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv8-a.d: Likewise.
	* include/elf/arm.h (TAG_CPU_ARCH_V8): New define.
	(MAX_TAG_CPU_ARCH): Update.
	* include/opcode/arm.h (ARM_EXT_V8): New define.
	(FPU_VFP_EXT_ARMV8): Likewise.
	(FPU_NEON_EXT_ARMV8): Likewise.
	(FPU_CRYPTO_EXT_ARMV8): Likewise.
	(ARM_AEXT_V8A): Likewise.
	(FPU_VFP_ARMV8): Likwise.
	(FPU_NEON_ARMV8): Likewise.
	(FPU_CRYPTO_ARMV8): Likewise.
	(FPU_ARCH_VFP_ARMV8): Likewise.
	(FPU_ARCH_NEON_VFP_ARMV8): Likewise.
	(FPU_ARCH_CRYPTO_NEON_VFP_ARMV8): Likewise.
	(ARM_ARCH_V8A): Likwise.
	(ARM_ARCH_V8A_FP): Likewise.
	(ARM_ARCH_V8A_SIMD): Likewise.
	(ARM_ARCH_V8A_CRYPTO): Likewise.
	* ld/testsuite/ld-arm/arm-elf.exp: Add new testcases.
	* ld/testsuite/ld-arm/attr-merge-vfp-3.d: Update for change in expected
	output.
	* ld/testsuite/ld-arm/attr-merge-vfp-3r.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-4.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-4r.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-5.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-5r.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-7.d: New testcase.
	* ld/testsuite/ld-arm/attr-merge-vfp-7r.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-armv8-hard.s: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-armv8.s: Likewise.
@
text
@d1 5
d28 9
a36 9
            Laurent Desnogues  <laurent.desnogues@@arm.com>
            Jim MacArthur  <jim.macarthur@@arm.com>
            Marcus Shawcroft  <marcus.shawcroft@@arm.com>
            Nigel Stephens  <nigel.stephens@@arm.com>
            Ramana Radhakrishnan  <ramana.radhakrishnan@@arm.com>
            Richard Earnshaw  <rearnsha@@arm.com>
            Sofiane Naci  <sofiane.naci@@arm.com>
            Tejas Belagod  <tejas.belagod@@arm.com>
            Yufeng Zhang  <yufeng.zhang@@arm.com>
d96 1
a96 1
        bfd_find_nearest_line_discriminator to get the discriminator.
d100 3
a102 3
        bfd_find_nearest_line_discriminator to get the discriminator,
        and keep track of prev_discriminator. Print discriminator
        if it is non-zero.
d105 2
a106 2
        to get the discriminator, and keep track of last_discriminator.
        Print discriminator if it is non-zero.
d368 2
a369 2
        * objdump.c (dump_bfd): If defaulting to dwarf call
        dwarf_select_sections_all to enable displays.
@


1.1934
log
@typo fixes
@
text
@d1 6
@


1.1933
log
@Add a testcase for PR binutils/14481

binutils/

	PR binutils/14481
	* Makefile.am (BFDTEST1_PROG): New.
	(TEST_PROGS): Likewise.
	(bfdtest1_DEPENDENCIES): Likewise.
	(noinst_PROGRAMS): Add $(TEST_PROGS).
	* Makefile.in: Regenerated.

	* bfdtest1.c: New file.

binutils/testsuite/

	PR binutils/14481
	* ar.exp (bfdtest1): New.
	(long_filenames): Run bfdtest1.
	(thin_archive): Likewise.
	(thin_archive_with_nested): Likewise.
@
text
@d1 4
@


1.1932
log
@Add support for 64-bit ARM architecture: AArch64
@
text
@d1 11
@


1.1931
log
@Updated Vietnamese translation.
@
text
@d1 23
@


1.1930
log
@	* dlltool.c (scan_obj_file): Close arfile after calling
	bfd_openr_next_archived_file.
@
text
@d1 4
@


1.1929
log
@Display null bytes in DWARF debug info

binutils/

	PR binutils/14420
	* dwarf.c (process_abbrev_section): Add attribute terminator.
	Warn missing section terminator.
	(get_FORM_name): Special check for 0 value.
	(get_AT_name): Likewise.
	(process_debug_info): Display zero abbrev number.  Check
	attribute terminator.

binutils/testsuite/

	PR binutils/14420
	* binutils-all/i386/compressed-1a.d: Updated.
	* binutils-all/objdump.W: Likewise.
	* binutils-all/readelf.wa: Likewise.
	* binutils-all/x86-64/compressed-1a.d: Likewise.

gas/testsuite/

	PR binutils/14420
	* gas/elf/dwarf2-1.d: Updated.
	* gas/elf/dwarf2-2.d: Likwise.
	* gas/i386/dw2-compress-1.d: Likwise.
@
text
@d1 5
@


1.1928
log
@Updated translations
@
text
@d1 10
@


1.1927
log
@       * rcparse.y (FILEVERSION): Use optcnumexpr instead of cnumexpr.
       (PRODUCTVERSION): Likewise.

       * binutils-all/windres/version_small.rc: New test.
       * binutils-all/windres/version_small.rsd: Likewise.
@
text
@d1 9
@


1.1926
log
@bfd: update to AC_INIT

Move the package name/version from AM_INIT_AUTOMAKE to AC_INIT per recent
autotools guidelines.  We use recent versions of both, so it shouldn't be
a problem.

This sets PACKAGE_xxx variables correctly, and makes the output of:
	./configure --version
actually useful:
	bfd configure 2.22.52

Changing the other dirs to use AC_INIT would require a bit of m4 trickery
that I don't feel like getting into, and they all use BFD_VERSION anyways,
so there isn't much point.

Signed-off-by: Mike Frysinger <vapier@@gentoo.org>
@
text
@d1 5
@


1.1925
log
@binutils/
2012-07-27  Tristan Gingold  <gingold@@adacore.com>

	* NEWS: Add marker for 2.23.

gas/
2012-07-27  Tristan Gingold  <gingold@@adacore.com>

	* NEWS: Add marker for 2.23.

ld/
2012-07-27  Tristan Gingold  <gingold@@adacore.com>

	* NEWS: Add marker for 2.23.
@
text
@d1 6
@


1.1925.2.1
log
@Updated translations
@
text
@a0 9
2012-07-30  Nick Clifton  <nickc@@redhat.com>

	* po/binutils.pot: Updated template.
	* po/bg.po: Updated Bulgarian translation.
	* po/es.po: Updated Spanish translation.
	* po/fi.po: Updated Finnish translation.
	* po/fr.po: Updated French translation.
	* po/uk.po: Updated Ukranian translation.

@


1.1925.2.2
log
@Updated Vietnamese translations.
@
text
@a0 4
2012-08-09  Nick Clifton  <nickc@@redhat.com>

	* po/vi.po: Updated Vietnamese translation.

@


1.1925.2.3
log
@Add support for 64-bit ARM architecture: aarch64
@
text
@a0 23
2012-08-16  Ian Bolton  <ian.bolton@@arm.com>
            Laurent Desnogues  <laurent.desnogues@@arm.com>
            Jim MacArthur  <jim.macarthur@@arm.com>
            Marcus Shawcroft  <marcus.shawcroft@@arm.com>
            Nigel Stephens  <nigel.stephens@@arm.com>
            Ramana Radhakrishnan  <ramana.radhakrishnan@@arm.com>
            Richard Earnshaw  <rearnsha@@arm.com>
            Sofiane Naci  <sofiane.naci@@arm.com>
            Tejas Belagod  <tejas.belagod@@arm.com>
            Yufeng Zhang  <yufeng.zhang@@arm.com>

	* readelf.c (guess_is_rela): Handle EM_AARCH64.
	(get_machine_name): Likewise.
	(get_aarch64_segment_type): New function.
	(get_segment_type): Handle EM_AARCH64 by calling the new function.
	(get_aarch64_section_type_name): New function.
	(get_section_type_name): Handle EM_AARCH64 by calling the new function.
	(is_32bit_abs_reloc): Handle EM_AARCH64.
	(is_32bit_pcrel_reloc): Likewise.
	(is_64bit_abs_reloc): Likewise.
	(is_64bit_pcrel_reloc): Likewise.
	(is_none_reloc): Likewise.

@


1.1925.2.4
log
@	* config.in: Disable sanity check for kfreebsd.
@
text
@a0 4
2012-09-10  Matthias Klose  <doko@@ubuntu.com>

	* config.in: Disable sanity check for kfreebsd.

@


1.1925.2.5
log
@binutils/
2012-10-21  H.J. Lu  <hongjiu.lu@@intel.com>

	* objdump.c (dump_dwarf): Handle bfd_mach_x64_32 and
	bfd_mach_x64_32_intel_syntax.
@
text
@a0 5
2012-10-21  H.J. Lu  <hongjiu.lu@@intel.com>

	* objdump.c (dump_dwarf): Handle bfd_mach_x64_32 and
	bfd_mach_x64_32_intel_syntax.

@


1.1925.2.6
log
@	PR binutils/14779
	* configure.in: Add checks for wchar.h and mbstate_t.
	* config.in: Regenerate.
	* configure: Regenerate.
	* readelf.c: Conditionally include wchar.h.
	(print_symbol): Conditionally use mbstate_t.
@
text
@a0 9
2012-10-30  Nick Clifton  <nickc@@redhat.com>

	PR binutils/14779
	* configure.in: Add checks for wchar.h and mbstate_t.
	* config.in: Regenerate.
	* configure: Regenerate.
	* readelf.c: Conditionally include wchar.h.
	(print_symbol): Conditionally use mbstate_t.

@


1.1925.2.7
log
@	* configure.in: Apply 2012-09-10 change to config.in here.
@
text
@a0 6
2012-11-05  Alan Modra  <amodra@@gmail.com>

	* configure.in: Apply 2012-09-10 change to config.in here.  Add
	__CONFIG_H__ check.
	* config.in: Regenerate.

@


1.1925.2.8
log
@binutils/
	* objcopy.c (deterministic): Make int rather than bfd_boolean,
	initialize to -1.
	(strip_options, copy_options): Add -U/--disable-deterministic-archives.
	(default_deterministic): New function.
	(strip_main, copy_main): Handle -U.  Call default_deterministic.
	(copy_usage, strip_usage): Describe -U.  Cite whether -D or -U is
	the default based on DEFAULT_AR_DETERMINISTIC.
	* doc/binutils.texi (objcopy, strip): Describe -U and effect of
	configure options on -D.

	* ar.c (default_deterministic): Comment fix.
@
text
@a0 14
2013-01-07  Roland McGrath  <mcgrathr@@google.com>

	* objcopy.c (deterministic): Make int rather than bfd_boolean,
	initialize to -1.
	(strip_options, copy_options): Add -U/--disable-deterministic-archives.
	(default_deterministic): New function.
	(strip_main, copy_main): Handle -U.  Call default_deterministic.
	(copy_usage, strip_usage): Describe -U.  Cite whether -D or -U is
	the default based on DEFAULT_AR_DETERMINISTIC.
	* doc/binutils.texi (objcopy, strip): Describe -U and effect of
	configure options on -D.

	* ar.c (default_deterministic): Comment fix.

@


1.1925.2.9
log
@	PR 12549
	PR 14493
	PR 14567
	PR 14662
	PR 14758
	PR 14813
	PR 14904
	PR 14915
	PR 14926
	PR 14950
	PR 14962
	Apply mainline patches
@
text
@a0 7
2013-01-22  Alan Modra  <amodra@@gmail.com>

	Apply mainline patches
	2012-09-04  H.J. Lu  <hongjiu.lu@@intel.com>
	PR binutils/14493
	* readelf.c (get_symbol_index_type): Check bad section index.

@


1.1924
log
@2012-07-24  Teresa Johnson  <tejohnson@@google.com>

bfd/
	* bfd.c (bfd_find_nearest_line_discriminator): New macro.
	* coff-rs6000.c: Init _bfd_find_nearest_line_discriminator.
	* coff64-rs6000.c: Likewise.
	* dwarf2.c (struct line_info): Add discriminator field.
	(add_line_info): Fill in new discriminator field.
	(decode_line_info): Record discriminator information instead
        of ignoring it.
	(lookup_address_in_line_info_table): Return discriminator field if
        requested.
	(comp_unit_find_nearest_line): Add discriminator argument.
	(find_line): Likewise.
	(_bfd_dwarf2_find_nearest_line): Likewise.
	(_bfd_dwarf2_find_line): Likewise.
	* elf-bfd.h (_bfd_elf_find_nearest_line_discriminator): New.
        (_bfd_elf_find_line_discriminator): Likewise.
        (_bfd_generic_find_nearest_line_discriminator): Likewise. Defined.
	* elf.c (_bfd_elf_find_nearest_line): Change to a wrapper
        that invokes _bfd_elf_find_nearest_line_discriminator with correct
        arguments.
	(_bfd_elf_find_nearest_line_discriminator): New.
	(_bfd_elf_find_line): Change to a wrapper
        that invokes _bfd_elf_find_line_discriminator with correct
        arguments.
	(_bfd_elf_find_line_discriminator): New.
	* coffgen.c (coff_find_nearest_line_with_names): Handle
        new discriminator argument.
	* elf32-arm.c (elf32_arm_find_nearest_line): Likewise.
	* elf64-alpha.c (elf64_alpha_find_nearest_line): Likewise.
	* elfxx-mips.c (_bfd_mips_elf_find_nearest_line): Likewise.
	* mach-o.c (bfd_mach_o_find_nearest_line): Likewise.
	* libbfd-in.h (_bfd_dwarf2_find_nearest_line): Add discriminator
        argument.
        (_bfd_dwarf2_find_line): Likewise.
        (_bfd_generic_find_nearest_line_discriminator): New.
	* libbfd.c (_bfd_generic_find_nearest_line_discriminator): New.
	* bfd-in2.h: Regenerated.
	* libbfd.h: Likewise.
	* targets.c (BFD_JUMP_TABLE_SYMBOLS): Initialize
        _bfd_find_nearest_line_discriminator with
        _bfd_generic_find_nearest_line_discriminator.
        (bfd_target): Add _bfd_find_nearest_line_discriminator.

binutils/
	* addr2line.c (find_address_in_section): Invoke
        bfd_find_nearest_line_discriminator to get the discriminator.
	(find_offset_in_section): Likewise.
	(translate_addresses): Print discriminator if it is non-zero.
	* objdump.c (show_line): Invoke
        bfd_find_nearest_line_discriminator to get the discriminator,
        and keep track of prev_discriminator. Print discriminator
        if it is non-zero.
	(disassemble_data): Initialize prev_discriminator.
	(dump_reloc_set): Invoke bfd_find_nearest_line_discriminator
        to get the discriminator, and keep track of last_discriminator.
        Print discriminator if it is non-zero.
@
text
@d1 4
@


1.1923
log
@	* elfcomm.c (setup_archive): Extract index table and symbol table
	scanning code into...
	(process_archive_index_and_symbols): ... this function and add
	support for 64-bit index tables.
	* elfcomm.h (struct archive_info): Change type of index_num and
	index_array to elf_vma.
	Add 'uses_64bit_indicies' field.
	* readelf.c (process_archive): Fix support for 64-bit indicies.
@
text
@d1 15
@


1.1922
log
@	* archive.c (bsd_write_armap): Catch attempts to create an archive
	with indicies bigger than 4Gb.
	(coff_write_armap): Likewise.

	* readelf.c (process_archive): Display member indicies when
	dumping index.
@
text
@d1 11
@


1.1921
log
@	* dwarf.c: Include gdb-index.h.
	(display_gdb_index): Handle version 7.
@
text
@d1 5
@


1.1920
log
@Simplify global symbol handling

	* nm.c (filter_symbols): Simplify global symbol handling.
@
text
@d1 5
@


1.1919
log
@	PR binutils/14302
	* bucomm.c (print_arelt_descr): Correctly report the archive size
	field (for 'ar tv').
	* ar.c (print_contents): Use correct types for archive element
	sizes (for 'ar p').
	(extract_file): Likewise (for 'ar x').
@
text
@d1 4
@


1.1918
log
@	* readelf.c (is_16bit_abs_reloc): Handle mn10200 reloc.
@
text
@d1 9
@


1.1917
log
@	* dwarf-mode.el: Add final comment.  Bump version.
	(dwarf-insert-substructure-button): Use string-to-number.
	(dwarf-browse): Fix autoload cookie.
@
text
@d1 4
@


1.1916
log
@	* dwarf.c (read_and_display_attr_value): Handle
	DW_FORM_GNU_ref_alt and DW_FORM_GNU_strp_alt.
	(display_debug_macro): Handle DW_MACRO_GNU_define_indirect_alt,
	DW_MACRO_GNU_undef_indirect_alt and
	DW_MACRO_GNU_transparent_include_alt.
@
text
@d1 6
@


1.1915
log
@	* addr2line.c (translate_addresses): Truncate input addresses to
	arch_size bits.  Avoid undefined shift.  Print '?' for zero line.
@
text
@d1 8
@


1.1914
log
@	* readelf.c (process_section_headers): Correct bug in previous
	delta - display full section type in wide mode.

	* ld-tic6x/shlib-1b.rd: Revert previous delta.
	* ld-tic6x/shlib-1rb.rd: Likewise.
	* ld-tic6x/shlib-1.rd: Likewise.
	* ld-tic6x/shlib-1r.rd: Likewise.
	* ld-tic6x/shlib-app-1b.rd: Likewise.
	* ld-tic6x/shlib-app-1rb.rd: Likewise.
	* ld-tic6x/shlib-app-1.rd: Likewise.
	* ld-tic6x/shlib-app-1r.rd: Likewise.
	* ld-tic6x/shlib-noindex.rd: Likewise.
	* ld-tic6x/static-app-1b.rd: Likewise.
	* ld-tic6x/static-app-1rb.rd: Likewise.
	* ld-tic6x/static-app-1.rd: Likewise.
	* ld-tic6x/static-app-1r.rd: Likewise.
@
text
@d1 5
@


1.1913
log
@	* read.c (read_symbol_name): New function.  Reads a symbol names.
	Allows escape codes in names.
	(s_comm_internal): Use read_symbol_name.
	(s_globl, s_lsym, s_set, s_weakref): Likewise.
	* doc/as.texinfo: Document support for multibyte characters in
	symbol names.

	* gas/elf/syms.s: New test - checks the generation of multibyte
	symbol names.
	* gas/elf/syms.d: New file - expected readelf output.
	* gas/elf/elf.exp: Add syms.

	* readelf.c (print_symbol): Display multibyte characters in symbol
	names.
	(process_section_headers): Use print_symbol.

	* ld-ifunc/ifunc-13a-i386.s: Fix use of .global directive.
	* ld-ifunc/ifunc-15a-i385.s: Likewise.
@
text
@d1 5
@


1.1912
log
@bfd/
* aclocal.m4: Regenerate.
* Makefile.in: Regenerate.

binutils/
* aclocal.m4: Regenerate.
* configure: Regenerate.
* config.in: Regenerate.
* Makefile.in: Regenerate.

gas/
* aclocal.m4: Regenerate.
* configure: Regenerate.
* Makefile.in: Regenerate.
@
text
@d1 6
@


1.1911
log
@	PR 14072
	* configure.in: Add check that sysdep.h has been included before
	any system header files.
	* configure: Regenerate.
	* config.in: Regenerate.
	* sysdep.h: Generate an error if included before config.h.
	* alpha-opc.c: Include sysdep.h before any other header file.
	* alpha-dis.c: Likewise.
	* avr-dis.c: Likewise.
	* cgen-opc.c: Likewise.
	* cr16-dis.c: Likewise.
	* cris-dis.c: Likewise.
	* crx-dis.c: Likewise.
	* d10v-dis.c: Likewise.
	* d10v-opc.c: Likewise.
	* d30v-dis.c: Likewise.
	* d30v-opc.c: Likewise.
	* h8500-dis.c: Likewise.
	* i370-dis.c: Likewise.
	* i370-opc.c: Likewise.
	* m10200-dis.c: Likewise.
	* m10300-dis.c: Likewise.
	* micromips-opc.c: Likewise.
	* mips-opc.c: Likewise.
	* mips61-opc.c: Likewise.
	* moxie-dis.c: Likewise.
	* or32-opc.c: Likewise.
	* pj-dis.c: Likewise.
	* ppc-dis.c: Likewise.
	* ppc-opc.c: Likewise.
	* s390-dis.c: Likewise.
	* sh-dis.c: Likewise.
	* sh64-dis.c: Likewise.
	* sparc-dis.c: Likewise.
	* sparc-opc.c: Likewise.
	* spu-dis.c: Likewise.
	* tic30-dis.c: Likewise.
	* tic54x-dis.c: Likewise.
	* tic80-dis.c: Likewise.
	* tic80-opc.c: Likewise.
	* tilegx-dis.c: Likewise.
	* tilepro-dis.c: Likewise.
	* v850-dis.c: Likewise.
	* v850-opc.c: Likewise.
	* vax-dis.c: Likewise.
	* w65-dis.c: Likewise.
	* xgate-dis.c: Likewise.
	* xtensa-dis.c: Likewise.
	* rl78-decode.opc: Likewise.
	* rl78-decode.c: Regenerate.
	* rx-decode.opc: Likewise.
	* rx-decode.c: Regenerate.

	* configure.in: Add check that sysdep.h has been included before
	any system header files.
	* configure: Regenerate.
	* config.in: Regenerate.
	* sysdep.h: Generate an error if included before config.h.

	* configure.in: Add check that sysdep.h has been included before
	any system header files.
	* configure: Regenerate.
	* config.in: Regenerate.
	* aclocal.m4: Regenerate.
	* bfd-in.h: Generate an error if included before config.h.
	* sysdep.h: Likewise.
	* bfd-in2.h: Regenerate.
	* compress.c: Remove #include "config.h".
	* plugin.c: Likewise.
	* elf32-m68hc1x.c: Include sysdep.h before alloca-conf.h.
	* elf64-hppa.c: Likewise.
	* som.c: Likewise.
	* xsymc.c: Likewise.

	* configure.in: Add check that sysdep.h has been included before
	any system header files.
	* configure: Regenerate.
	* config.in: Regenerate.

	* configure.in: Add check that sysdep.h has been included before
	any system header files.
	* configure: Regenerate.
	* config.in: Regenerate.
	* aclocal.m4: Regenerate.
	* Makefile.am: Use wrappers around C files generated by flex.
	* Makefile.in: Regenerate.
	* doc/Makefile.in: Regenerate.
	* itbl-lex-wrapper.c: New file.
	* config/bfin-lex-wrapper.c: New file.
	* cgen.c: Include as.h before setjmp.h.
	* config/tc-dlx.c: Include as.h before any other header.
	* config/tc-h8300.c: Likewise.
	* config/tc-lm32.c: Likewise.
	* config/tc-mep.c: Likewise.
	* config/tc-microblaze.c: Likewise.
	* config/tc-mmix.c: Likewise.
	* config/tc-msp430.c: Likewise.
	* config/tc-or32.c: Likewise.
	* config/tc-tic4x.c: Likewise.
	* config/tc-tic54x.c: Likewise.
	* config/tc-xtensa.c: Likewise.

	* configure.in: Add check that sysdep.h has been included before
	any system header files.
	* configure: Regenerate.
	* config.in: Regenerate.
	* unwind-ia64.h: Include config.h.
@
text
@d1 7
@


1.1910
log
@binutils/
	* dwarf.c (process_debug_info): Display abbrev offset in hex.
	(display_debug_abbrev): Show offset of abbrev.

binutils/testsuite/
	* binutils-all/objdump.W: Update.
	* binutils-all/readelf.wa: Update.
	* binutils-all/i386/compressed-1a.d: Update.
	* binutils-all/x86-64/compressed-1a.d: Update.

gas/testsuite/
	* gas/elf/dwarf2-1.d: Update.
	* gas/elf/dwarf2-2.d: Update.
	* gas/i386/dw2-compress-1.d: Update.
@
text
@d1 10
@


1.1909
log
@	* dwarf.c (display_debug_ranges): Don't report more than one use
	of the same range set as an overlap.
@
text
@d3 5
@


1.1908
log
@	PR binutils/13558
	* bfd/aout-cris.c: Include sysdep.h before bfd.h.
	* bfd/aout-ns32k.c: Likewise.
	* bfd/aout-sparcle.c: Likewise.
	* bfd/aout0.c: Likewise.
	* bfd/bfd-in2.h: Likewise.
	* bfd/coff-stgo32.c: Likewise.
	* bfd/cpu-lm32.c: Likewise.
	* bfd/cpu-microblaze.c: Likewise.
	* bfd/cpu-score.c: Likewise.
	* bfd/cpu-tilegx.c: Likewise.
	* bfd/cpu-tilepro.c: Likewise.
	* bfd/elf32-lm32.c: Likewise.
	* bfd/elf32-microblaze.c: Likewise.
	* bfd/elf32-score7.c: Likewise.
	* bfd/elf32-tilepro.c: Likewise.
	* bfd/elfxx-tilegx.c: Likewise.
	* bfd/mach-o.h: Likewise.
	* bfd/nlm32-ppc.c: Likewise.
	* bfd/ns32knetbsd.c: Likewise.
	* bfd/pef.h: Likewise.
	* bfd/plugin.c: Likewise.
	* bfd/stab-syms.c: Likewise.
	* bfd/sunos.c: Likewise.
	* bfd/syms.c: Likewise.
	* bfd/xsym.h: Likewise.

	* Makefile.am (CFILES): Add syslex_wrap.c.
	(sysinfo): Depend upon syslex_wrap.o.
	(syslex_wrap.o): New rule.
	(syslex.o): Delete rule.
	* syslex_wrap.c: New file.
	* Makefile.in: Regenerate.
@
text
@d1 5
@


1.1907
log
@	* config/tc-m68hc11.c: Add S12X and XGATE co-processor support.
	Add option to offset S12 addresses into XGATE memory space.
	Tweak target flags to match other tools. (i.e. -m m68hc11).
	* doc/as.texinfo: Mention new options.
	* doc/c-m68hc11.texi: Document new options.
	* NEWS: Mention new support.

	* archures.c: Add bfd_arch_m9s12x and bfd_arch_m9s12xg.
	* config.bfd: Likewise.
	* cpu-m9s12x.c: New.
	* cpu-m9s12xg.c: New.
	* elf32-m68hc12.c: Add S12X and XGATE co-processor support.
	Add option to offset S12 addresses into XGATE memory space.
	Fix carry bug in IMM16 (IMM8 low/high) relocate.
	* Makefile.am (ALL_MACHINES): Add cpu-m9s12x and cpu-m9s12xg.
	(ALL_MACHINES_CFILES): Likewise.
	* reloc.c: Add S12X relocs.
	* Makefile.in: Regenerate.
	* bfd-in2.h: Regenerate.
	* libbfd.h: Regenerate.

	* gas/m68hc11/insns9s12x.s: New
	* gas/m68hc11/insns9s12x.d: New
	* gas/m68hc11/hexprefix.s: New
	* gas/m68hc11/hexprefix.d: New
	* gas/m68hc11/9s12x-exg-sex-tfr.s: New
	* gas/m68hc11/9s12x-exg-sex-tfr.d: New
	* gas/m68hc11/insns9s12xg.s: New
	* gas/m68hc11/insns9s12xg.d: New
	* gas/m68hc11/9s12x-mov.s: New
	* gas/m68hc11/9s12x-mov.d: New
	* gas/m68hc11/m68hc11.exp: Updated
	* gas/m68hc11/*.d: Brought in line with changed objdump output.
	* gas/all/gas.exp: XFAIL all hc11/12 targets for redef2,3.
	* gas/elf/elf.exp: XFAIL all hc11/12 targets for redef.
	* gas/elf/dwarf2-1.d: Skip for hc11/12 targets.
	* gas/elf/dwarf2-2.d: Likewise.

	* ld-m68hc11/xgate-link.s: New.
	* ld-m68hc11/xgate-link.d: New.
	* ld-m68hc11/xgate-offset.s: New.
	* ld-m68hc11/xgate-offset.d: New.
	* ld-m68hc11/xgate1.s: New.
	* ld-m68hc11/xgate1.d: New.
	* ld-m68hc11/xgate2.s: New.
	* ld-m68hc11/m68hc11.exp: Updated.
	* ld-m68hc11/*.d: Brought in line with changed objdump output.
	* ld-gc/gc.exp: Update CFLAGS for m68hc11.
	* ld-plugin/plugin.exp: Likewise.
	* ld-srec/srec.exp: XFAIL for m68hc11 and m68hc12.

	* configure.in: Add S12X and XGATE co-processor support to m68hc11
	target.
	* disassemble.c: Likewise.
	* configure: Regenerate.
	* m68hc11-dis.c: Make objdump output more consistent, use hex
	instead of decimal and use 0x prefix for hex.
	* m68hc11-opc.c: Add S12X and XGATE opcodes.
	* dis-asm.h (print_insn_m9s12x): Prototype.
	(print_insn_m9s12xg): Prototype.

	* m68hc11.h (R_M68HC12_16B, R_M68HC12_PCREL_9, R_M68HC12_PCREL_10)
	R_M68HC12_HI8XG, R_M68HC12_LO8XG): New relocations.
	(E_M68HC11_XGATE_RAMOFFSET): Define.

	* m68hc11.h: Add XGate definitions.
	(struct m68hc11_opcode): Add xg_mask field.
@
text
@d1 10
@


1.1906
log
@Print addend as signed in objdump

binutils/

	* objdump.c (disassemble_bytes): Print addend as signed.
	(dump_reloc_set): Likewise.

gas/testsuite/

	* gas/all/fwdexp.d: Expect addend as signed.
	* gas/alpha/elf-reloc-1.d: Likewise.
	* gas/i386/mixed-mode-reloc64.d: Likewise.
	* gas/i386/reloc64.d: Likewise.
	* gas/i386/ilp32/mixed-mode-reloc64.d: Expect addend as signed.
	* gas/i386/ilp32/reloc64.d: Likewise.
	* gas/ia64/pcrel.d: Likewise.
	* gas/mips/branch-misc-2-64.d: Likewise.
	* gas/mips/branch-misc-2pic-64.d: Likewise.
	* gas/mips/branch-misc-4-64.d: Likewise.
	* gas/mips/ldstla-n64-sym32.d: Likewise.
	* gas/mips/micromips@@branch-misc-2-64.d: Likewise.
	* gas/mips/micromips@@branch-misc-2pic-64.d: Likewise.
	* gas/mips/micromips@@branch-misc-4-64.d: Likewise.
	* gas/mips/mips16-hilo-n32.d: Likewise.
	* gas/ppc/astest.d: Likewise.
	* gas/ppc/astest2.d: Likewise.
	* gas/ppc/astest2_64.d: Likewise.
	* gas/ppc/astest64.d: Likewise.
	* gas/ppc/test1elf32.d: Likewise.
	* gas/ppc/test1elf64.d: Likewise.
	* gas/sparc/reloc64.d: Likewise.
@
text
@d1 4
@


1.1905
log
@	* doc/binutils.texi: Add --dwarf-check option.
	* dwarf.c (dwarf_check): New global flag.
	(fetch_indexed_string): New function.
	(fetch_indexed_value): New function.
	(get_FORM_name): Add DW_FORM_GNU_str_index and DW_FORM_GNU_addr_index.
	(decode_location_expression): Add DW_OP_GNU_addr_index.
	(read_and_display_attr_value): Add DW_FORM_GNU_str_index,
	DW_FORM_GNU_addr_index, DW_AT_GNU_addr_base, and DW_AT_GNU_ranges_base.
	(get_AT_name): Add new attributes for Fission.
	(process_debug_info): Load new debug sections for Fission.
	(load_debug_info): Check for .debug_info.dwo section.
	(display_loc_list, display_loc_list_dwo): New functions.
	(display_debug_loc): Move logic to above two functions.
	(display_debug_info): Choose abbrev section based on info section.
	(display_debug_types): Likewise.
	(display_trace_info): Likewise.
	(comp_addr_base): New function.
	(display_debug_addr): New function.
	(display_debug_str_offsets): New function.
	(display_debug_ranges): Allow missing range lists.  Suppress
	diagnostics if dwarf_check not set.
	(debug_displays): Add column to select abbrev section.
	* dwarf.h (enum dwarf_section_display_enum): Add new debug sections
	for Fission.
	(struct dwarf_section): Add abbrev_sec field.
	(struct dwarf_section_display): New type.
	(debug_info): Add addr_base, ranges_base fields.
	(dwarf_check): New global variable.
	* objdump.c (usage): Add --dwarf-check option.
	(enum option_values): Add OPTION_DWARF_CHECK.
	(long_options): Add --dwarf-check.
	(main): Likewise.
	* readelf.c (OPTION_DWARF_CHECK): New macro.
	(options): Add --dwarf-check.
	(parse_args): Likewise.
	(process_section_headers): Use const_strneq instead of
	streq.
@
text
@d1 5
@


1.1904
log
@Always display addend as signed hex number

binutils/

	PR binutils/14088
	* readelf.c (dump_relocations): Always display addend as
	signed hex number.

ld/testsuite/

	PR binutils/14088
	* ld-ia64/tlspic.rd: Updated.
	* ld-x86-64/tlsdesc-nacl.rd: Likewise.
	* ld-x86-64/tlsdesc.rd: Likewise.
	* ld-x86-64/tlspic-nacl.rd: Likewise.
	* ld-x86-64/tlspic.rd: Likewise.
@
text
@d1 41
@


1.1903
log
@	PR binutils/14028
	* configure.in: Invoke ACX_HEADER_STRING.
	* configure: Regenerate.
	* config.in: Regenerate.
	* sysdep.h: If STRINGS_WITH_STRING is defined then include both
	string.h and strings.h.
@
text
@d1 6
@


1.1902
log
@	* dwarf.c (read_and_display_attr_value): Don't look up tag from
	abbrev for DW_FORM_ref_addr.
@
text
@d1 9
d16 1
a16 1
	
d18 1
a18 1
 
@


1.1901
log
@Added log for a change I made in binutils/MAINTAINERS.
@
text
@d1 5
@


1.1900
log
@binutils/

	* doc/binutils.texi (objcopy): Add --strip-dwo, --extract-dwo options.
	(strip): Add --strip-dwo option.
	* objcopy.c (enum strip_action): Add STRIP_DWO, STRIP_NONDWO.
	(enum command_line_switch): Add OPTION_EXTRACT_DWO, OPTION_STRIP_DWO.
	(strip_options): Add --strip-dwo option.
	(copy_options): Add --extract-dwo, --strip-dwo options.
	(copy_usage): Likewise.
	(strip_usage): Add --strip-dwo option.
	(is_dwo_section): New function.
	(is_strip_section_1): Check for DWO sections.
	(copy_object): Check for --strip-dwo, --extract-dwo options.
	(copy_relocations_in_section): Discard relocations for DWO sections.
	Discard entire relocation section when no relocations.
	(strip_main): Add --strip-dwo option.
	(copy_main): Add --strip-dwo, --extract-dwo options.
@
text
@d1 4
@


1.1899
log
@	* Makefile.am (check_DEJAGNU): Export LC_ALL=C in place of other
	LC and LANG environment vars.
	* Makefile.in: Regenerate.
@
text
@d1 18
@


1.1898
log
@	* dwarf.c (get_TAG_name): Use get_DW_TAG_name.
	(get_FORM_name): Use get_DW_FORM_name.
	(get_AT_name): Use get_DW_AT_name.
@
text
@d1 6
@


1.1897
log
@	* Makefile.am (check-DEJAGNU): Clear LC_COLLATE, LC_ALL and LANG.
	* Makefile.in: Regenerate.
@
text
@d1 6
@


1.1896
log
@Replace all uses of bfd_abs_section, bfd_com_section, bfd_und_section
and bfd_ind_section with their _ptr variants, or use corresponding
bfd_is_* macros.
@
text
@d1 5
@


1.1895
log
@Add support for Motorola XGATE embedded CPU
@
text
@d1 4
@


1.1894
log
@	* po/vi.po: Updated Vietnamese translation.
	* po/it.po: New Italian translation.
	* configure.in (ALL_LINGUAS): Add it.
	* configure: Regenerate.
@
text
@d1 4
@


1.1893
log
@	PR binutils/13121
	Rename 'finfo' to 'flaginfo' to avoid conflicts with
	AIX system headers.
@
text
@d1 7
@


1.1892
log
@	* doc/binutils.texi: Add -D/--enable-deterministic-archives option
	to strip and objcopy.
	* objcopy.c (deterministic): New global variable.
	(strip_options): Add --enable-deterministic-archives.
	(copy_options): Likewise.
	(copy_usage): Likewise.
	(strip_usage): Likewise.
	(copy_archive): When stripping all, don't add archive map; set
	deterministic output when requested.
	(strip_main): Add -D/--enable-deterministic-archives option.
	(copy_main): Likewise.
@
text
@d1 6
@


1.1891
log
@Don't generate empty reloc sections

binutils/

	PR binutils/13947
	* objcopy.c (copy_object): Call copy_relocations_in_section
	before copy_section.
	(skip_section): New.
	(copy_relocations_in_section): Likewise.
	(copy_section): Use skip_section.  Don't copy relocations here.

binutils/testsuite/

	PR binutils/13947
	* binutils-all/i386/compressed-1b.d: Remove empty REL section.
	* binutils-all/i386/compressed-1c.d: Likewise.

	* binutils-all/x86-64/compressed-1b.d: Remove empty RELA
	section.
	* binutils-all/x86-64/compressed-1c.d: Likewise.
@
text
@d1 14
@


1.1890
log
@        * objdump.c (dump_bfd): If defaulting to dwarf call
        dwarf_select_sections_all to enable displays.
@
text
@d1 9
@


1.1889
log
@binutils/
2012-04-06  Roland McGrath  <mcgrathr@@google.com>

	* configure.in (AC_CHECK_HEADERS): Add locale.h.
	* config.in: Regenerate.
	* configure: Regenerate.

gas/
2012-04-06  Roland McGrath  <mcgrathr@@google.com>

	* configure.in (AC_CHECK_HEADERS): Add locale.h.
	* config.in: Regenerate.
	* configure: Regenerate.

gold/
2012-04-06  Roland McGrath  <mcgrathr@@google.com>

	* configure.in (AC_CHECK_HEADERS): Add locale.h.
	* config.in: Regenerate.
	* configure: Regenerate.

ld/
2012-04-06  Roland McGrath  <mcgrathr@@google.com>

	* configure.in (AC_CHECK_HEADERS): Add locale.h.
	* config.in: Regenerate.
	* configure: Regenerate.
@
text
@d1 5
@


1.1888
log
@	* configure.in (AC_CHECK_FUNCS): Add setlocale.
	(AM_LC_MESSAGES): Add.
	* aclocal.m4: Regenerate.
	* config.in: Regenerate.
	* configure: Regenerate.
@
text
@d1 6
@


1.1887
log
@	PR binutils/13925
	* stabs.c (stab_demangle_v3_arglist): Cope with the demangler
	returning an empty context for a function with no arguments.
@
text
@d1 8
@


1.1886
log
@	* dwarf.c (display_gdb_index): Handle index version 6.
@
text
@d1 6
@


1.1885
log
@	* mn10300.h (elf_mn10300_reloc_type): Add R_MN10300_TLS_GD,
	R_MN10300_TLS_LD, R_MN10300_TLS_LDO, R_MN10300_TLS_GOTIE,
	R_MN10300_TLS_IE, R_MN10300_TLS_LE, R_MN10300_TLS_DPTMOD,
	R_MN10300_TLS_DTPOFF and R_MN10300_TLS_TPOFF.

	* elf-m10300.c (elf32_mn10300_link_hash_entry): Add tls_type
	field.
	(elf32_mn10300_link_hash_table): Add tls_ldm_got entry;
	(elf_mn10300_tdata): Define.
	(elf_mn10300_local_got_tls_type): Define.
	(elf_mn10300_howto_table): Add entries for R_MN10300_TLS_GD,
	R_MN10300_TLS_LD, R_MN10300_TLS_LDO, R_MN10300_TLS_GOTIE,
	R_MN10300_TLS_IE, R_MN10300_TLS_LE, R_MN10300_TLS_DPTMOD,
	R_MN10300_TLS_DTPOFF, R_MN10300_TLS_TPOFF relocs.
	(mn10300_reloc_map): Likewise.
	(elf_mn10300_tls_transition): New function.
	(dtpoff, tpoff, mn10300_do_tls_transition): New functions.
	(mn10300_elf_check_relocs): Add TLS support.
	(mn10300_elf_final_link_relocate): Likewise.
	(mn10300_elf_relocate_section): Likewise.
	(mn10300_elf_relax_section): Likewise.
	(elf32_mn10300_link_hash_newfunc): Initialise new field.
	(_bfd_mn10300_copy_indirect_symbol): New function.
	(elf32_mn10300_link_hash_table_create): Initialise new fields.
	(_bfd_mn10300_elf_size_dynamic_sections): Add TLS support.
	(_bfd_mn10300_elf_finish_dynamic_symbol): Likewise.
	(_bfd_mn10300_elf_reloc_type_class): Allocate an
	elf_mn10300_obj_tdata structure.
	(elf_backend_copy_indirect_symbol): Define.
	* reloc.c (BFD_MN10300_TLS_GD, BFD_MN10300_TLS_LD,
	BFD_MN10300_TLS_LDO, BFD_MN10300_TLS_GOTIE, BFD_MN10300_TLS_IE,
	BFD_MN10300_TLS_LE, BFD_MN10300_TLS_DPTMOD,
	BFD_MN10300_TLS_DTPOFF, BFD_MN10300_TLS_TPOFF): New relocations.
	(BFD_RELOC_MN10300_32_PCREL, BFD_RELOC_MN10300_16_PCREL): Move to
	alongside other MN10300 relocations.
	* bfd-in2.h: Regenerate.
	* libbfd.h: Regenerate.

	* config/tc-mn10300.c (other_registers): Add SSP and USP.
	(md_assemble): Add support for TLS relocs.
	(mn10300_parse_name): Likewise.

	* readelf.c (is_16bit_abs_reloc): Add detection of R_MN10300_16.
@
text
@d1 4
@


1.1884
log
@	* doc/binutils.texi (c++filt): Fix typos.
@
text
@d1 4
@


1.1883
log
@	PR binutils/13710
	* defparse.y (keyword_as_name): Disable LIBRARY
	keyword.
	* doc/binutils.texi: Document LIBRARY exception.

	PR binutils/13710
	* deffilep.y (keyword_as_name): Disable LIBRARY
	keyword.
@
text
@d1 4
@


1.1882
log
@	PR binutils/13682
	* NEWS: Mention new feature.
	* dlltool.c (i386_x64_dljtab): New stub-code for x64
	delayed-load feature.
	(i386_x64_trampoline): New trampoline-code for x64
	delayed-load feature.
	(make_one_lib_file): Add support for x64 delayed-load
	feature.
	(make_delay_head): Likewis
@
text
@d1 7
@


1.1881
log
@	* objdump.c (slurp_file): Close file if fstat fails.
@
text
@d1 12
@


1.1880
log
@	* dwarf.c (dwarf_vmatoa64): New function.
	(read_and_display_attr_value): Print 8-byte forms as single hex
	numbers.
	(process_debug_info): Print type signatures as single hex numbers.
	* elfcomm.c (byte_get_64): New function.
	* elfcomm.h (byte_get_64): New function.
@
text
@d1 4
@


1.1879
log
@ChangeLog binutils

2012-02-11  Kai Tietz  <ktietz@@redhat.com>

	PR binutils/13657
	* defparse.y (%union): New type id_const.
	(opt_name2): New rule.
	(keyword_as_name): New rule.
	(opt_name): Adjust rule.
	(opt_import_name): Likewise.
	(opt_equal_name): Likewise.

ChangeLog binutils/testsuite

2012-02-11  Kai Tietz  <ktietz@@redhat.com>

	* binutils-all/version.def: New file.
	* binutils-all/dlltool.exp: Add version-dll test.

ChangeLog ld

2012-02-11  Kai Tietz  <ktietz@@redhat.com>

	* deffilep.y (%union): New type id_const.
	(opt_name2): New rule.
	(keyword_as_name): New rule.
	(dot_name): Replaced by opt_name2 rule.
	(opt_name): Adjust rule.
	(opt_equal_name): Likewise.
@
text
@d1 9
@


1.1878
log
@	PR binutils/13297
	* resrc.c (write_rc_dialog_control): Omit text dump for
	EDITTEXT, COMBOBOX, LISTBOX, and SCROLLBAR.
@
text
@d3 10
@


1.1877
log
@	* sysdep.h: Include sys/stat.h here.
	* ar.c: Don't include headers already included by sysdep.h.
	* bucomm.c: Likewise.
	* budbg.h: Likewise.
	* dlltool.h: Likewise.
	* elfedit.c: Likewise.
	* nlmconv.c: Likewise.
	* objcopy.c: Likewise.
	* objdump.c: Likewise.
	* objdump.h: Likewise.
	* readelf.c: Likewise.
	* rename.c: Likewise.
	* resrc.c: Likewise.
	* strings.c: Likewise.
	* windres.c: Likewise.
	* od-macho.c: Ensure #include sysdep.h is first.
	* od-xcoff.c: Likewise.
	* dllwrap.c: Remove alloca pragma handled by sysdep.h, and
	remove duplicate headers.
	* dlltool.c: Likewise and ensure #include sysdep.h is first.
@
text
@d1 6
@


1.1876
log
@	PR binutils/13493
	* ar.c (ranlib_main): Process --plugin option.
	* doc/binutils.texi: Document --plugin support for ranlib.
@
text
@d1 23
@


1.1875
log
@	PR binutils/13482
	* readelf.c (process_corefile_note_segment): Fix off-by-one errors
	verifying the contents of a note.

	* binutils-all/version.s: New test source file.
	* binutils-all/readelf.n: New file: expected readelf output.
	* binutils-all/readelf.exp: Add test of .note section contents.
@
text
@d3 6
@


1.1874
log
@	PR binutils/13622
	* readelf.c (process_section_groups): If there are no section
	headers do not scan for section groups.
	(process_note_sections): Likewise for note sections.
@
text
@d1 6
@


1.1873
log
@2012-01-20  Tristan Gingold  <gingold@@adacore.com>

	* od-macho.c (OPT_SEG_SPLIT_INFO): New macro.
	(options): Add an entry for seg_split_info.
	(mach_o_help): Document it.
	(dump_segment_split_info): New function.
	(dump_load_command): Handle seg_split_info.
@
text
@d1 7
@


1.1872
log
@2012-01-19  Tristan Gingold  <gingold@@adacore.com>

	* dwarf.c (process_extended_line_op): Add a cast to silent a
	warning.
@
text
@d1 8
@


1.1871
log
@2012-01-19  Tristan Gingold  <gingold@@adacore.com>

	* dwarf.c (process_extended_line_op): Reindent define_file output.
	Detect define_file opcode length mismatch.
	(display_debug_lines_decoded): Add an entry in file_table for each
	define_file opcode.
	Ignore DW_LNE_set_discriminator and DW_LNE_HP_set_sequence.
	Display extended opcode for unhandle opcode.
@
text
@d3 5
@


1.1870
log
@Update copyright message year.
@
text
@d1 9
@


1.1869
log
@	PR binutils/13593
	* nm.c (OPTION_SIZE_SORT): Define.
	(long_options): Don't set no_sort, sort_numerically or
	sort_by_size directly.
	(main): Instead set the flags here, making them mutually exclusive.
@
text
@d1 4
@


1.1868
log
@2012-01-10  Tristan Gingold  <gingold@@adacore.com>

	* objdump.c (display_object_bfd): Renamed from ...
	(display_bfd): ... this.
	(display_any_bfd): New function.
	(display_file): Split.  Handle nested archives.
@
text
@d1 8
@


1.1867
log
@binutils/
	* configure.in: Use AM_ZLIB.
	* configure: Regenerated.

ld/
	* configure.in: Use AM_ZLIB.
	* configure: Regenerated.
@
text
@d1 7
@


1.1866
log
@	* po/ru.po: Updated Russian translation.
@
text
@d1 5
@


1.1865
log
@Rotate ChangeLogs
@
text
@d1 4
@


1.1864
log
@bfd/
2012-01-04  Tristan Gingold  <gingold@@adacore.com>

	* mach-o.h (bfd_mach_o_fvmlib_command): New structure.
	(bfd_mach_o_load_command): Add fvmlib field.

	* mach-o.c (bfd_mach_o_read_fvmlib): New function.
	(bfd_mach_o_read_command): Handle fvmlib.

binutils/
2012-01-04  Tristan Gingold  <gingold@@adacore.com>

	* od-macho.c (dump_load_command): Handle fvmlib.

include/mach-o/
2012-01-04  Tristan Gingold  <gingold@@adacore.com>

	* external.h (mach_o_fvmlib_command_external): New structure.
@
text
@d10 1
a10 923
2011-12-28  Ian Lance Taylor  <iant@@google.com>

	* dwarf.c (read_and_display_attr_value): Handle DW_LANG_Go.

2011-12-20  Roland McGrath  <mcgrathr@@google.com>

	* configure.in (--enable-deterministic-archives): Grok new
	argument.  Set DEFAULT_AR_DETERMINISTIC to 1 or 0 accordingly.
	* configure: Regenerated.
	* config.in: Regenerated.
	* ar.c (deterministic): Initialize to -1.
	(decode_options, ranlib_main): Grok U option.
	(usage, ranlib_usage): Mention U; say for D and U which is the default.
	(default_deterministic): New function.
	(ranlib_main): Call it.
	(main): Likewise.  Make newer_only && deterministic error
	non-fatal if it was just DEFAULT_AR_DETERMINISTIC and not the D option.
	* doc/binutils.texi (ar cmdline, ranlib): Document U modifier and
	--enable-deterministic-archives behavior.

2011-12-16  Tristan Gingold  <gingold@@adacore.com>

	* od-macho.c: Include mach-o/codesign.h
	(OPT_CODESIGN): Define.
	(options): Add an entry for codesign.
	(mach_o_help): Likewise.
	(dump_header): Fix indentation.
	(dump_thread): Do not test result of xmalloc.
	(bfd_mach_o_cs_magic, bfd_mach_o_cs_hash_type): New.
	(dump_code_signature_superblob): New function.
	(swap_code_codedirectory_v1_in): Likewise.
	(hexdump): Likewise.
	(dump_code_signature_codedirectory): Likewise.
	(dump_code_signature_blob, dump_code_signature): Likewise.
	(dump_load_command): Dump code signature.
	(mach_o_dump): Likewise.

2011-12-15  Andreas Tobler  <andreast@@fgznet.ch>

	* readelf.c (get_symbol_type): Add ELFOSABI_FREEBSD to the
	supported abi's.

2011-12-13  Tristan Gingold  <gingold@@adacore.com>

	* od-macho.c: New file.
	* objdump.h (objdump_private_desc_mach_o): Add.
	* configure.in: Add Mach-O od_vectors.
	* Makefile.am (CFILES): Add od-macho.c
	* configure: Regenerate.
	* Makefile.in: Regenerate.

2011-12-06 David Daney <david.daney@@cavium.com>

	* readelf.c (dynamic_section_mips_val): Factor out trailing '\n'
	from printed strings and move it to the end of the function.
	Use BFD_VMA_FMT for printf format specifier for dynamic tag value.
	Use print_vma() to print dynamic tag values.

2011-12-02  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (ia64_process_unwind): Turn into a void funtion.
	(hppa_process_unwind): Likewise.
	(arm_process_unwind): Likewise.
	(process_unwind): Likewise.
	(arm_get_section_word): Rename to get_unwind_section_word.
	Add sym_name parameter to return the offset into the string table
	of the symbol associated with the reloc applied to the word.
	(decode_tic6x_unwind_regmask): Add NULL argument to invocation of
	get_unwind_section_word.
	(dump_arm_unwind): Likewise.
	(decode_arm_unwind_bytecode): Prepend a comma when *not* the first
	register in a list.
	(decode_arm_unwind): If the returned function address is 0 and a
	valid symname offset is provided use that to compute the name
	associated with the entry.
	Add extra checks of the compact model index entry.

2011-11-29  Roland McGrath  <mcgrathr@@google.com>

	* ar.c (ranlib_usage): Describe -D.
	(ranlib_main): Parse -D.
	(ranlib_touch): Set BFD_DETERMINISTIC_OUTPUT under -D.
	* doc/binutils.texi (ranlib): Describe -D, and also --help/-h/-H.

2011-11-28  Nick Clifton  <nickc@@redhat.com>

	PR binutils/13421
	* readelf.c (arm_section_get_word): Add descriptive comments.
	Initliase the rel_type field of the arm_sec structure.
	(expand_prel31): Rename to arm_expand_prel31.
	(dump_arm_unwind): Use new name.
	Print the function name based on the function address entry.

2011-11-11  Andreas Schwab  <schwab@@linux-m68k.org>

	* readelf.c (process_program_headers): Fix typo printing p_memsz
	field.

2011-11-01  DJ Delorie  <dj@@redhat.com>

	* readelf.c: Include elf/rl78.h
	(guess_is_rela): Handle EM_RL78.
	(dump_relocations): Likewise.
	(get_machine_name): Likewise.
	(is_32bit_abs_reloc): Likewise.
	* NEWS: Mention addition of RL78 support.
	* MAINTAINERS: Add myself as RL78 port maintainer.

2011-10-28  Ian Lance Taylor  <iant@@google.com>

	* dwarf.c (display_debug_frames): If do_debug_frames_interp,
	DW_CFA_restore goes to DW_CFA_undefined, not DW_CFA_unreferenced.

2011-10-28  Walter Lee  <walt@@tilera.com>

	* NEWS: Mention addition of TILEPro and TILE-Gx support.
	* MAINTAINERS: Add myself as TILEPro and TILE-Gx port maintainer.

2011-10-27  Joern Rennecke  <joern.rennecke@@embecosm.com>

	* MAINTAINERS: Add myself as EPIPHANY port maintainer.

2011-10-25  Mike Frysinger  <vapier@@gentoo.org>

	* Makefile.am (syslex.@@OBJEXT@@): Add -I$(srcdir).
	* Makefile.in: Regen.

2011-10-25  Joern Rennecke  <joern.rennecke@@embecosm.com>

	* readelf.c: Include "elf/epiphany.h".
	(guess_is_rela, dump_relocation): Handle EM_ADAPTEVA_EPIPHANY.
	(get_machine_name, is_32bit_abs_reloc, is_32bit_pcrel_reloc): Likewise.
	(is_16bit_abs_reloc, is_none_reloc): Likewise.
	* po/binutils.pot: Regenerate.

2011-10-25  Kai Tietz  <ktietz@@redhat.com>

	* winduni.h (unicode_from_ascii_len): New prototype.
	* winduni.c (unicode_from_ascii_len): New function.
	* windres.h (define_stringtable): Add additional length argument.
	* windres.c (define_stringtable): Add length argument for string.
	* rcparse.y (res_unicode_sizedstring): New rule.
	(res_unicode_sizedstring_concat): Likewise.
	(string_data): Adjust rule.

2011-10-24  Jan Kratochvil  <jan.kratochvil@@redhat.com>

	* dwarf.c (read_and_display_attr_value) <DW_AT_import>: Add CU_OFFSET
	also for DW_FORM_ref_udata.

2011-10-24  Nick Clifton  <nickc@@redhat.com>

	* po/ja.po: Updated Japanese translation.

2011-10-16  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/13278
	* ar.c (open_inarch): Set the target from the the first object
	on the list only if it isn't set.

2011-10-13  Nick Clifton  <nickc@@redhat.com>

	Fixes to aid translation:
	* addr2line.c (translate_address): Add comments describing context
	of a couple of printf statements.
	* ar.c (write_archive): Allow translation of error message.
	* bucomm.c (endian_string): Allow translation of strings.
	(display_target_list): Allow translation.
	* coffdump.c (dump_coff_type): Allow translation of output.
	(dump_coff_where): Likewise.
	(dump_coff_symbol): Likewise.
	(dump_coff_scope): Likewise.
	(dump_coff_sfile): Likewise.
	(dump_coff_section): Likewise.
	(coff_dump): Likewise.
	* dlltool (def_version): Allow translation of output.
	(run): Likewise.
	* dllwrap.c (run): Allow translation of output.
	* dwarf.c (print_dwarf_vma): Allow translation of output.
	(process_extended_line_op): Remove spurious translation.
	Add translation for strings that can be translated.
	(decode_location_exression): Allow translation of output.
	(read_and_display_attr_value): Allow translation of output.
	* readelf.c (slurp_rela_relocs): Add translation for error
	messages when failing to get data.
	(slurp_rel_relocs): Likewise.
	(get_32bit_elf_symbols): Likewise.
	(get_64bit_elf_symbols): Likewise.
	(dump_ia64_vms_dynamic_relocs): Replace abbreviation with full
	word.
	(process_relocs): Remove spurious translation.
	(decode_tic6x_unwind_bytecode): Likewise.
	(process_version_section): Improve error messages.
	(process_mips_specific): Likewise.
	(print_gnu_note): Remove spurious translation.
	(print_stapsdt_note): Likewise.
	(get_ia64_vms_note_type): Likewise.
	* sysdump.c (getCHARS): Allow translation.
	(fillup): Allow translation of output.
	(getone): Likewise.
	(must): Likewise.
	(derived_type): Likewise.
	* doc/binutils.doc (addr2line): Extend description of command line
	options.
	* po/binutils.pot: Regenerate.

2011-10-13  Nick Clifton  <nickc@@redhat.com>

	PR binutils/13219
	* readelf.c (GET_ELF_SYMBOLS): Add sym_count parameter.
	(get_32bit_elf_symbols): Add num_syms_return argument.
	Return the number of symbols loaded into the symbol table.
	(get_64bit_elf_symbols): Likewise.
	(process_section_headers): Use GET_ELF_SYMBOLS to initialise
	symbol count.
	(proces_relocs): Likewise.
	(ia64_process_unwind): Likewise.
	(hppa_process_unwind): Likewise.
	(arm_process_unwind): Likewise.
	(process_dynamic_section): Likewise.
	(process_version_sections): Likewise.
	(process_symbol_table): Likewise.
	(process_section_groups): Likewise.
	Add check before indexing into the symbol table.
	(apply_relocations): Likewise.

2011-10-11  Chris  <player1@@onet.eu>

	PR binutils/13051
	Fix a syntax error bug when compiling rc files with the VERSIONINFO resource
	containing more than one language block inside a single StringFileInfo block.

	* windint.h (rc_ver_stringtable): New structure definition.
	(rc_ver_info): Use it.
	* rcparse.y (verstringtable): New variable.
	(verstringtables): New type.
	(verstringtables:): New rule declaration.
	(verblocks:): Use it.
	* resrc.c (append_ver_stringtable): New function.
	(append_ver_stringfileinfo): Update to use stringtables.
	* windres.h (append_ver_stringfileinfo): Update declaration.
	(append_ver_stringtable): New declaration.
	* resrc.c (write_rc_versioninfo): Update to support multiple blocks.
	* resbin.c (bin_to_res_version): Likewise.
	(res_to_bin_versioninfo): Likewise.

2011-10-10  Nick Clifton  <nickc@@redhat.com>

	* po/bg.po: Updated Bulgarian translation.
	* po/es.po: Updated Spansih translation.
	* po/fi.po: Updated Finnish translation.
	* po/fr.po: Updated French translation.

2011-10-05  DJ Delorie  <dj@@redhat.com>
	    Nick Clifton  <nickc@@redhat.com>

	* readelf.c (get_machine_dlags): Add support for RX's PID mode.

2011-10-04  Paul Woegerer  <paul_woegerer@@mentor.com>
	    Carlos O'Donell  <carlos@@codesourcery.com>

	* dwarf.c (display_debug_lines_decoded): Index directory_table with
	directory_index from file_table entry.

2011-09-30  Cary Coutant  <ccoutant@@google.com>

	* binutils/dwarf.h (dwarf_section_display_enum): Add missing enum
	constant.

2011-09-28  Tristan Gingold  <gingold@@adacore.com>

	* od-xcoff.c (dump_xcoff32_aout_header): Fix typo.

2011-09-27  Tristan Gingold  <gingold@@adacore.com>

	* od-xcoff.c (dump_xcoff32_aout_header): Remove some gettext macros.
	(dump_xcoff32_sections_header): Likewise.
	(dump_xcoff32_symbols, dump_xcoff32_relocs): Likewise.
	(dump_xcoff32_lineno, dump_xcoff32_loader): Likewise.
	(dump_xcoff32_except): Likewise.
	(dump_xcoff32_typchk, dump_xcoff32_tbtags): Likewise.

2011-09-27  Tristan Gingold  <gingold@@adacore.com>

	* readelf.c (print_ia64_vms_note): Fix xgettext warnings.

2011-09-22  Tristan Gingold  <gingold@@adacore.com>

	* NEWS: Add marker for 2.22.

2011-09-21  David S. Miller  <davem@@davemloft.net>

	* MAINTAINER: Take over from Jakub Jalinek as SPARC maintainer.

	* readelf.c (display_sparc_hwcaps): New.
	(display_sparc_gnu_attribute): New.
	(process_sparc_specific): New.
	(process_arch_specific): When EM_SPARC, EM_SPARC32PLUS,
	or EM_SPARCV9 invoke process_sparc_specific.

2011-09-18  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/13196
	* dwarf.c (display_debug_aranges): Check zero address size.

2011-09-15  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/13180
	* objcopy.c (is_strip_section_1): New.
	(is_strip_section): Use it.  Remove the group section if all
	members are removed.

2011-09-08  Nick Clifton  <nickc@@redhat.com>

	* po/ja.po: Updated Japanese translation.

2011-08-26  Nick Clifton  <nickc@@redhat.com>

	* po/es.po: Updated Spanish translation.

2011-08-08  Marcus Comstedt  <marcus@@mc.pp.se>

	PR binutils/12964
	* Makefile.am (embedspu): Use awk rather than sed.
	* Makefile.in: Regenerate.

2011-07-27  Jan Kratochvil  <jan.kratochvil@@redhat.com>

	* dwarf.c (read_and_display_attr_value): Recognize DW_FORM_data4 and
	DW_FORM_data8 as location list pointers only for DWARF < 4.

2011-07-26  Jakub Jelinek  <jakub@@redhat.com>

	* NEWS: Mention .debug_macro support.
	* dwarf.c (read_and_display_attr_value): Don't print a tab
	if attribute is 0.
	(get_AT_name): Handle DW_AT_GNU_macros.
	(get_line_filename_and_dirname, display_debug_macro): New
	functions.
	(debug_displays): Add an entry for .debug_macro and .zdebug_macro.
	* readelf.c (process_section_headers): With do_debug_macinfo
	handle also .debug_macro sections.
	* dwarf.h (dwarf_section_display_enum): Add macro.

2011-07-24  Chao-ying Fu  <fu@@mips.com>
            Maciej W. Rozycki  <macro@@codesourcery.com>

	* readelf.c (get_machine_flags): Handle microMIPS ASE.
	(get_mips_symbol_other): Likewise.

2011-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* dwarf.c (init_dwarf_regnames): Handle EM_K1OM.

	* elfedit.c (elf_machine): Support EM_K1OM.
	(elf_class): Likewise.

	* readelf.c (guess_is_rela): Handle EM_K1OM.
	(dump_relocations): Likewise.
	(get_machine_name): Likewise.
	(get_section_type_name): Likewise.
	(get_elf_section_flags): Likewise.
	(process_section_headers): Likewise.
	(get_symbol_index_type): Likewise.
	(is_32bit_abs_reloc): Likewise.
	(is_32bit_pcrel_reloc): Likewise.
	(is_64bit_abs_reloc): Likewise.
	(is_64bit_pcrel_reloc): Likewise.
	(is_none_reloc): Likewise.

	* doc/binutils.texi: Mention K1OM for elfedit.

2011-07-11  Cary Coutant  <ccoutant@@google.com>

	PR 12983
	* binutils/nm.c (display_file): Decompress debug sections when
	printing line numbers.

2011-07-03  Samuel Thibault  <samuel.thibault@@gnu.org>
	    Thomas Schwinge  <thomas@@schwinge.name>

	PR binutils/12913
	* elfedit.c (osabis): Use ELFOSABI_GNU name instead of ELFOSABI_LINUX
	alias and ELFOSABI_HURD.  Add GNU alias.
	* readelf.c (get_osabi_name, get_symbol_binding, get_symbol_type):
	Likewise.
	* doc/binutils.texi <elfedit>: Update accordingly.

2011-07-01  Nick Clifton  <nickc@@redhat.com>

	PR binutils/12325
	* doc/binutils.texi (ar cmdline): Document --target, --version and
	--help command line options.

2011-06-30  Nick Clifton  <nickc@@redhat.com>

	PR binutils/12558
	* ar.c (main): When asked to move members in an archive that is
	being created, ignore the move request.

2011-06-29  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (get_section_type_name): When displaying an unknown
	section type display the hex value first on the assumption that
	the full message will probably be truncated into a 15 character
	field.

2011-06-22  Jakub Jelinek  <jakub@@redhat.com>

	* dwarf.c (decode_location_expression): For DW_OP_GNU_convert and
	DW_OP_GNU_reinterpret, if uvalue is 0, don't add cu_offset.
	Handle DW_OP_GNU_parameter_ref.

2011-06-16  Tom Tromey  <tromey@@redhat.com>

	* dwarf-mode.el (dwarf-do-insert-substructure): Call
	expand-file-name.
	(dwarf-do-refresh): Likewise.

2011-06-15  Ulrich Weigand  <ulrich.weigand@@linaro.org>

	* readelf.c (get_note_type): Handle NT_ARM_VFP.

2011-06-13  Walter Lee  <walt@@tilera.com>

	* readelf.c: Include tilepro.h and tilegx.h.
	(guess_is_rela): Handle EM_TILEGX and EM_TILEPRO.
	(dump_relocations): Likewise.
	(get_machine_name): Likewise.
	(is_32bit_abs_reloc): Likewise.
	(is_32bit_pcerel_reloc): Likewise.
	(is_64bit_abs_reloc): Likewise.
	(is_64bit_pcrel_reloc): Likewise.

2011-06-09  Tristan Gingold  <gingold@@adacore.com>

	* od-xcoff.c (xcoff32_read_symbols): Allow missing string table
	length.

2011-06-08  Nick Clifton  <nickc@@redhat.com>

	PR binutils/12855
	* readelf.c (process_version_sections): Handle binaries containing
	corrupt version information.
	(process_symbol_table): Stop processing a symbol's version
	information if it could not be read in.

	(get_data): Add comment describing the function.
	(process_section_headers): Set dynamic_strings_length to 0 if the
	dynamic strings could not be read in.
	(process_dynamic_section): Likewise.
	(process_section_groups): Stop processing the group information if
	the data could not be read in.
	(hppa_processs_unwind): Assert that there is only one string table
	in the file.
	(arm_process_unwind): Likewise.
	(ia64_process_unwind): Likewise.
	Set the size of the unwind auxillary information to 0 if the data
	could not be read.
	(load_specific_debug_section): Handle a failure to read in the
	section.
	(process_mips_specific): Stop display of the PLT GOT section if it
	could not be read in.

2011-06-08  Tristan Gingold  <gingold@@adacore.com>

	* makefile.vms (DEFS): Define OBJDUMP_PRIVATE_VECTORS.

2011-06-07  Cary Coutant  <ccoutant@@google.com>

	* dwarf.c: Fix conversion to TU number.

2011-06-02  Nick Clifton  <nickc@@redhat.com>

	* resres.c: Fix spelling typo.
	* windint.h: Likewise.
	* windmc.c: Likewise.
	* windres.c: Likewise.
	* po/POTFILES.in: Regenerate.
	* po/binutils.pot: Regenerate.

2011-06-01  Daniel Jacobowitz  <drow@@false.org>

	* MAINTAINERS: Update my email address.

2011-05-31  Matthias Klose  <doko@@ubuntu.com>

	* configure.in (BUILD_INSTALL_MISC): Only add embedspu once.
	* configure: Regenerate.

2011-05-30  Alan Modra  <amodra@@gmail.com>

	PR binutils/12820
	* Makefile.am (bin_PROGRAMS): Move BUILD_INSTALL_MISC to..
	(bin_SCRIPTS): ..here.
	(EXTRA_SCRIPTS): Define.
	(EXTRA_DIST): Add embedspu.sh.
	(DISTCLEANFILES): Add embedspu.
	(embedspu): Depend on Makefile.  Replace sed "s" command with "c".
	* Makefile.in: Regenerate.

2011-05-25  Jakub Jelinek  <jakub@@redhat.com>

	* dwarf.c (loc_offsets): New variable.
	(loc_offsets_compar): New routine.
	(display_debug_loc): Handle loc_offsets not being in ascending order
	and also a single .debug_loc entry being used multiple times.

2011-05-18  Nick Clifton  <nickc@@redhat.com>

	PR binutils/12753
	* nm.c (filter_symbols): Treat unique symbols as global symbols.
	* doc/binutils.texi (nm): Mention that some lowercase letters
	actually indicate global symbols.

2011-05-15  Tristan Gingold  <gingold@@adacore.com>

	* od-xcoff.c: New file.
	* objdump.h: New file.
	* objdump.c: Include objdump.h
	(dump_private_options, objdump_private_vectors): New variables.
	(usage): Mention -P/--private.  Display handled options.
	(long_options): Add -P/--private.
	(dump_target_specific): New function.
	(dump_bfd): Handle dump_private_options.
	(main): Handle -P.
	* doc/binutils.texi (objdump): Document -P/--private.
	* configure.in (OBJDUMP_PRIVATE_VECTORS, OBJDUMP_PRIVATE_OFILES):
	New variables, compute them.
	(od_vectors): Add vectors for private dumpers. Make them uniq.
	(OBJDUMP_DEFS): Add OBJDUMP_PRIVATE_VECTORS.
	* Makefile.am (HFILES): Add objdump.h
	(CFILES): Add od-xcoff.c
	(OBJDUMP_PRIVATE_OFILES): New variable.
	(objdump_DEPENDENCIES): Append OBJDUMP_PRIVATE_OFILES.
	(objdump_LDADD): Ditto.
	(EXTRA_objdump_SOURCES): Define.
	* Makefile.in: Regenerate.
	* configure: Regenerate.

2011-05-10  Tristan Gingold  <gingold@@adacore.com>

	* dwarf.c (process_extended_line_op): Dump unknown records.

2011-05-07  Alan Modra  <amodra@@gmail.com>

	PR binutils/12632
	* objcopy.c (copy_archive): Check bfd_openw result in unknown object
	case.  Rewrite without goto.

2011-05-03  Jakub Jelinek  <jakub@@redhat.com>

	* dwarf.c (decode_location_expression): Handle DW_OP_GNU_const_type,
	DW_OP_GNU_regval_type, DW_OP_GNU_deref_type, DW_OP_GNU_convert
	and DW_OP_GNU_reinterpret.

	* MAINTAINERS: Add myself as DWARF2 maintainer.

2011-05-02  Alan Modra  <amodra@@gmail.com>

	PR binutils/12720
	Revert the following change
	Michael Snyder  <msnyder@@vmware.com>
	* ar.c (move_members): Plug memory leak.
	(delete_members): Plug memory leak.

2011-04-28  Tom Tromey  <tromey@@redhat.com>

	* NEWS: Add note about --dwarf-depth, --dwarf-start, and
	dwarf-mode.el.
	* objdump.c (suppress_bfd_header): New global.
	(usage): Update.
	(OPTION_DWARF_DEPTH, OPTION_DWARF_START): New constants.
	(options): Add dwarf-depth and dwarf-start entries.
	(dump_bfd): Use suppress_bfd_header.
	(main): Handle OPTION_DWARF_START, OPTION_DWARF_DEPTH.
	* doc/binutils.texi (objcopy): Document --dwarf-depth and
	--dwarf-start.
	(readelf): Likewise.
	* dwarf-mode.el: New file.
	* dwarf.c (dwarf_cutoff_level, dwarf_start_die): New globals.
	(read_and_display_attr_value): Also check debug_info_p.
	(process_debug_info): Handle dwarf_start_die and
	dwarf_cutoff_level.
	* dwarf.h (dwarf_cutoff_level, dwarf_start_die): Declare.
	* readelf.c (usage): Update.
	(OPTION_DWARF_DEPTH): New macro.
	(OPTION_DWARF_START): Likewise.
	(options): Add dwarf-depth and dwarf-start entries.
	(parse_args): Handle OPTION_DWARF_START and OPTION_DWARF_DEPTH.

2011-04-28  Jan Kratochvil  <jan.kratochvil@@redhat.com>

	* dwarf.c (display_gdb_index): Support version 5, warn on version 4.

2011-04-27  Tristan Gingold  <gingold@@adacore.com>

	* dwarf.c (process_extended_line_op): Handle
	DW_LNE_HP_source_file_correlation.

2011-04-27  Nick Clifton  <nickc@@redhat.com>

	* po/da.po: Updated Danish translation.

2011-04-21  Tom Tromey  <tromey@@redhat.com>

	* readelf.c (print_stapsdt_note): New function.
	(process_note): Use it.

2011-04-21  Tom Tromey  <tromey@@redhat.com>

	* readelf.c (get_stapsdt_note_type): New function.
	(process_note): Recognize "stapsdt" notes.

2011-04-21  Tom Tromey  <tromey@@redhat.com>

	* readelf.c (process_corefile_note_segment): Change header field
	widths.
	(process_note): Change field widths.

2011-04-21  Tom Tromey  <tromey@@redhat.com>

	* readelf.c (print_gnu_note): New function.
	(process_note): Use it.

2011-04-21  Jie Zhang  <jzhang918@@gmail.com>

	* MAINTAINERS: Update my email address.

2011-04-11  Kai Tietz  <ktietz@@redhat.com>

	* windres.c (usage): Add new --preprocessor-arg option.
	(option_values): Add new OPTION_PREPROCESSOR_ARG enumerator.
	(option long_options): Add preprocessor-arg option.
	(main): Handle it.
	* doc/binutils.texi: Add documentation for --preprocessor-arg
	option.
	* NEWS: Add line about new --preprocessor-arg option for windres.

2011-04-08  John Marino  <binutils@@marino.st>

	* arlex.l: Prevent redefinition of YY_NO_UNPUT.
	* syslex.l: Likewise.

2011-04-07  Paul Brook  <paul@@codesourcery.com>

	* readelf.c (arm_section_get_word): Handle C6000 relocations.
	(decode_tic6x_unwind_regmask, decode_arm_unwind_bytecode,
	decode_tic6x_unwind_bytecode, expand_prel31): New functions.
	(decode_arm_unwind): Split out common code from ARM specific bits.
	(dump_arm_unwind): Use expand_prel31.
	(arm_process_unwind): Handle SHT_C6000_UNWIND sections.
	(process_unwind): Add SHT_C6000_UNWIND.

2011-04-06  Joseph Myers  <joseph@@codesourcery.com>

	* configure.in (thumb-*-pe*): Remove.
	* configure: Regenerate.

2011-04-05  Sterling Augustine  <augustine.sterling@@gmail.com>

	* MAINTAINERS: Update my email address.

2011-04-03  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/12632
	* objcopy.c (copy_unknown_object): Make the archive element
	readable.

2011-04-03  David S. Miller  <davem@@davemloft.net>

	* objdump.c (dump_reloc_set): Output R_SPARC_OLO10 relocations
	accurately, rather than how they are represented internally.

2011-03-31  Tristan Gingold  <gingold@@adacore.com>

	* makefile.vms (readelf.exe): New target.

2011-03-31  Tristan Gingold  <gingold@@adacore.com>

	* makefile.vms (DEBUG_OBJS): Add elfcomm.obj.

2011-03-31  Bernd Schmidt  <bernds@@codesourcery.com>

	* readelf.c (get_symbol_index_type): Handle SCOM for TIC6X.
	(dump_relocations): Likewise.

2011-03-31  Tristan Gingold  <gingold@@adacore.com>

	* readelf.c (get_ia64_vms_note_type): New function.
	(print_ia64_vms_note): Ditto.
	(process_note): Recognize VMS/ia64 specific notes.
	Display them.
	(process_corefile_note_segment): Decode VMS notes.

2011-03-30  Catherine Moore  <clm@@codesourcery.com>

	* addr2line.c (translate_addresses): Sign extend the pc
	if sign_extend_vma is enabled.

2011-03-30  Michael Snyder  <msnyder@@msnyder-server.eng.vmware.com>

	* readelf.c (process_gnu_liblist): Stop memory leak.

2011-03-29  Alan Modra  <amodra@@gmail.com>

	* coffdump.c: Include bfd_stdint.h

2011-03-28  Pierre Muller  <muller@@ics.u-strasbg.fr>

	* coffdump.c (coff_dump): Correct spelling error.
	(show_usage): Replace SYSROFF by COFF.

2011-03-25  Pierre Muller  <muller@@ics.u-strasbg.fr>

	* coffdump.c (dump_coff_scope): Use double typecast for pointer P
	to allow compilation for all targets.

2011-03-25  Pierre Muller  <muller@@ics.u-strasbg.fr>

	* dwarf.c (process_debug_info): Use offset_size to determine
	the bit-size of the computation unit's offset.
	(decode_location_expression): Use dwarf_vmatoa function to display
	DW_OP_addr OP.
	(process_debug_info): Use dwarf_vma type for local variables
	length and type_offset.

2011-03-25  Michael Snyder  <msnyder@@vmware.com>

	* strings.c (print_strings): Plug memory leak.
	* ar.c (move_members): Plug memory leak.
	(delete_members): Plug memory leak.
	(write_archive): Plug memory leak.
	* ieee.c (ieee_add_bb11): Plug memory leak.
	(ieee_function_type): Likewise.
	(ieee_class_baseclass): Likewise.
	* prdbg.c (pr_function_type): Close memory leaks.
	(pr_method_type): Likewise.
	(tg_class_static_member): Likewise.
	(tg_class_method_variant): Likewise.
	(tg_class_static_method_variant): Likewise.
	* stabs.c (parse_stab_enum_type): Fix memory leaks.
	(parse_stab_struct_type): Likewise.
	(parse_stab_struct_fields): Likewise.
	(parse_stab_one_struct_field): Likewise.
	(parse_stab_members): Likewise.
	(stab_demangle_qualified): Likewise.
	* objdump.c (dump_reloc_set): Free malloced memory.
	* bucomm.c (make_tempname): Stop memory leak.

2011-03-25  Pierre Muller  <muller@@ics.u-strasbg.fr>

	Replace bfd_vma type and analog types by dwarf_vma and analogs.
	Use dwarf specific print functions to display these type values.
	* dwarf.h (dwarf_signed_vma): New type;
	(DWARF2_External_LineInfo): Replace bfd_vma by dwarf_vma.
	(DWARF2_External_PubNames): Likewise.
	(DWARF2_External_CompUnit): Likewise.
	(DWARF2_External_ARange): Likewise.
	(read_leb128): Change return type to dwarf_vma.
	* dwarf.c (print_dwarf_vma): Use __MINGW32__ conditional and
	check byte_size values.
	(dwarf_vmatoa): Change parameter type to dwarf_vma.
	(dwarf_svmatoa): New static function.
	(read_leb128): Change return type to dwarf_vma.
	(read_sleb128): New static function.
	(struct State_Machine_Registers): Change address field type to
	dwarf_vma.
	(process_extended_line_op): Adapt to type changes.
	(fetch_indirect_string): Likewise.
	(idisplay_block): Likewise.
	(decode_location_expression): Likewise.
	(read_and_display_attr_value): Likewise.
	(process_debug_info): Likewise.
	(display_debug_lines_raw): Likewise.
	(display_debug_lines_decoded): Likewise.
	(SLEB macro): Use new read_sleb128 function.

2011-03-17  Alan Modra  <amodra@@gmail.com>

	PR 12590
	* ar.c (ranlib_main): Init arg_index properly.
	(usage): Describe --target.

2011-03-16  Jakub Jelinek  <jakub@@redhat.com>

	* dwarf.c (dw_TAG_name): Handle DW_TAG_GNU_call_site_parameter.
	(read_and_display_attr_value): Handle DW_AT_GNU_call_site_data_value,
	DW_AT_GNU_call_site_target and DW_AT_GNU_call_site_target_clobbered.
	(get_AT_name): Handle DW_AT_GNU_call_site_value,
	DW_AT_GNU_call_site_data_value, DW_AT_GNU_call_site_target,
	DW_AT_GNU_call_site_target_clobbered, DW_AT_GNU_tail_call,
	DW_AT_GNU_all_tail_call_sites, DW_AT_GNU_all_call_sites and
	DW_AT_GNU_all_source_call_sites.
	(decode_location_expression) <case DW_OP_GNU_entry_value>: Adjust
	handling.

2011-03-16  Jan Kratochvil  <jan.kratochvil@@redhat.com>

	* dwarf.c (get_TAG_name): Handle DW_TAG_GNU_call_site.
	(decode_location_expression): Handle DW_OP_GNU_entry_value.
	(read_and_display_attr_value): Handle DW_AT_GNU_call_site_value.
	(get_AT_name): Likewise.

2011-03-14  Michael Snyder  <msnyder@@vmware.com>

	* objcopy.c (set_pe_subsystem): Free subsystem.

	* wrstabs.c (stab_start_struct_type): Close memory leak.

	* readelf.c (process_version_sections): Free symbols.

	* nm.c (display_rel_file): Free symsizes.

2011-03-10  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (get_machine_name): Update EM_V850 entry.

2011-03-03  Mike Frysinger  <vapier@@gentoo.org>

	* objdump.c (usage): Fix single typo.
	* po/bg.po, po/binutils.pot, po/da.po, po/es.po, po/fi.po,
	po/fr.po, po/id.po, po/ja.po, po/ru.po, po/vi.po: Likewise.

2011-03-01  Akos Pasztory  <akos.pasztory@@gmail.com>

	PR binutils/12523
	* readelf.c (process_object): Clear dynamic_info_DT_GNU_HASH.

2011-02-28  Kai Tietz  <kai.tietz@@onevision.com>

	* debug.c (debug_start_source): Use filename_(n)cmp.
	* ieee.c (ieee_finish_compilation_unit): Likewise.
	(ieee_lineno): Likewise.
	* nlmconv.c (main): Likewise.
	* objcopy.c (strip_main): Likewise.
	(copy_main): Likewise.
	* objdump.c (show_line): Likewise.
	(dump_reloc_set): Likewise.
	* srconv.c (main): Likewise.
	* wrstabs.c (stab_lineno): Likewise.

2011-02-24  Zachary T Welch  <zwelch@@codesourcery.com>

	* readelf.c (decode_arm_unwind): Implement decoding of remaining
	ARM unwind instructions (i.e. VFP/NEON and Intel Wireless MMX).

2011-02-23  Kai Tietz  <kai.tietz@@onevision.com>

	* dwarf.c (read_leb128): Use bfd_vma instead of
	long type.
	(dwarf_vmatoa): New helper routine.
	(process_extended_line_op): Use for adr bfd_vma
	type and print those typed values via BFD_VMA_FMT
	or via dwarf_vmatoa for localized prints.
	(fetch_indirect_string): Adjust offset's type.
	(decode_location_expression): Adjust argument types
	and uvalue type.
	(read_and_display_attr_value): Likewise.
	(read_and_display_attr): Likewise.
	(decode_location_expression): Adjust printf format.
	(process_debug_info): Likewise.
	(display_debug_lines_raw): Likewise.
	(display_debug_lines_decoded): Likewise.
	(display_debug_pubnames): Likewise.
	(display_debug_loc): Likewise.
	(display_debug_aranges): Likewise.
	* dwarf.h (DWARF2_External_LineInfo,
	DWARF2_Internal_LineInfo, DWARF2_External_PubNames,
	DWARF2_Internal_PubNames, DWARF2_External_CompUnit,
	DWARF2_Internal_CompUnit, DWARF2_External_ARange,
	DWARF2_Internal_ARange): Added..
	(read_leb128): Adjust return type.

2011-02-13  Ralf Wildenhues  <Ralf.Wildenhues@@gmx.de>

	* configure: Regenerate.

2011-02-08  Nick Clifton  <nickc@@redhat.com>

	PR binutils/12467
	* readelf.c (process_program_headers): Issue a warning if there
	are no program headers but the file header has a non-zero program
	header offset.
	(process_section_headers): Issue a warning if there are no section
	headers but the file header has a non-zero section header offset.
	(process_section_groups): Reword the no section message so that it
	can be distinguished from the one issued by process_section_headers.

2011-01-26  Jan Kratochvil  <jan.kratochvil@@redhat.com>
	    Doug Evans  <dje@@google.com>

	* dwarf.c (display_gdb_index): Support version 4, warn on version 3.

2011-01-19  Maciej W. Rozycki  <macro@@codesourcery.com>

	* readelf.c (process_object): Free dynamic_section after use.

2011-01-18  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/12408
	* readelf.c (process_archive): Free and reset dump_sects
	after processing each archive member.

2011-01-11  Andreas Schwab  <schwab@@redhat.com>

	* readelf.c (print_symbol): Handle symbol characters as unsigned.
	Whitespace fixes.

2011-01-10  Nick Clifton  <nickc@@redhat.com>

	* po/da.po: Updated Danish translation.

2011-01-06  Vladimir Siminov  <sv@@sw.ru>

	* bucomm.c (get_file_size): Check for negative sizes and issue a
	warning message if encountered.

2011-01-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* version.c (print_version): Update copyright to 2011.

For older changes see ChangeLog-2010
@


1.1863
log
@bfd/
2012-01-04  Tristan Gingold  <gingold@@adacore.com>

	* mach-o.h: Reindent header.
	(bfd_mach_o_encryption_info_command): New structure.
	(bfd_mach_o_load_command): Add encryption_info field.

	* mach-o.c (bfd_mach_o_read_encryption_info): New function.
	(bfd_mach_o_read_command): Handle BFD_MACH_O_LC_ENCRYPTION_INFO.
	(bfd_mach_o_read_command): Adjust error message.

binutils/
2012-01-04  Tristan Gingold  <gingold@@adacore.com>

	* od-macho.c: Update copyright year.
	(dump_load_command): Handle BFD_MACH_O_LC_ENCRYPTION_INFO.

include/mach-o/
2012-01-04  Tristan Gingold  <gingold@@adacore.com>

	* external.h: Update copyright year.
	(mach_o_symtab_command_external): Add comments.
	(mach_o_encryption_info_command_external): New structure.
@
text
@d3 4
@


1.1862
log
@	* dwarf.c (read_and_display_attr_value): Handle DW_LANG_Go.
@
text
@d1 5
@


1.1861
log
@	* configure.in (--enable-deterministic-archives): Grok new
	argument.  Set DEFAULT_AR_DETERMINISTIC to 1 or 0 accordingly.
	* configure: Regenerated.
	* config.in: Regenerated.
	* ar.c (deterministic): Initialize to -1.
	(decode_options, ranlib_main): Grok U option.
	(usage, ranlib_usage): Mention U; say for D and U which is the default.
	(default_deterministic): New function.
	(ranlib_main): Call it.
	(main): Likewise.  Make newer_only && deterministic error
	non-fatal if it was just DEFAULT_AR_DETERMINISTIC and not the D option.
	* doc/binutils.texi (ar cmdline, ranlib): Document U modifier and
	--enable-deterministic-archives behavior.
@
text
@d1 4
@


1.1860
log
@binutils/
2011-12-16  Tristan Gingold  <gingold@@adacore.com>

	* od-macho.c: Include mach-o/codesign.h
	(OPT_CODESIGN): Define.
	(options): Add an entry for codesign.
	(mach_o_help): Likewise.
	(dump_header): Fix indentation.
	(dump_thread): Do not test result of xmalloc.
	(bfd_mach_o_cs_magic, bfd_mach_o_cs_hash_type): New.
	(dump_code_signature_superblob): New function.
	(swap_code_codedirectory_v1_in): Likewise.
	(hexdump): Likewise.
	(dump_code_signature_codedirectory): Likewise.
	(dump_code_signature_blob, dump_code_signature): Likewise.
	(dump_load_command): Dump code signature.
	(mach_o_dump): Likewise.

include/mach-o/
2011-12-16  Tristan Gingold  <gingold@@adacore.com>

	* codesign.h: New file.
@
text
@d1 16
@


1.1859
log
@	* readelf.c (get_symbol_type): Add ELFOSABI_FREEBSD to the
	supported abi's.

	* config/obj-elf.c (obj_elf_type): Add ELFOSABI_FREEBSD to the
	supported abi's.
@
text
@d1 17
@


1.1858
log
@bfd/
2011-12-13  Tristan Gingold  <gingold@@adacore.com>

	* mach-o.c (bfd_mach_o_read_symtab_symbols): Make global.  Remove
	prototype.
	(bfd_mach_o_section_get_entry_size): Make global.
	(bfd_mach_o_section_get_nbr_indirect): Likewise.
	(bfd_mach_o_read_symtab_strtab): Likewise.
	(struct bfd_mach_o_xlat_name): Move to mach-o.h
	(bfd_mach_o_print_flags): Move to binutils/od-macho.c
	(bfd_mach_o_get_name_of_null, bfd_mach_o_get_name): Likewise.
	(bfd_mach_o_cpu_name, bfd_mach_o_filetype_name): Likewise.
	(bfd_mach_o_header_flags_name): Likewise.
	(bfd_mach_o_load_command_name): Likewise.
	(bfd_mach_o_print_private_header): Likewise.
	(bfd_mach_o_print_section_map, bfd_mach_o_print_section): Likwise.
	(bfd_mach_o_print_segment, bfd_mach_o_print_dysymtab): Likewise.
	(bfd_mach_o_print_dyld_info): Likewise.
	(bfd_mach_o_print_private_bfd_data): Remove.
	(bfd_mach_o_type_name): Make global.
	(bfd_mach_o_section_attribute_name): Likewise.
	* mach-o.h (bfd_mach_o_xlat_name): Added.
	(bfd_mach_o_section_get_nbr_indirect)
	(bfd_mach_o_section_get_entry_size)
	(bfd_mach_o_read_symtab_symbols)
	(bfd_mach_o_read_symtab_strtab)
	(bfd_mach_o_section_attribute_name)
	(bfd_mach_o_section_type_name): Likewise.
	* mach-o-target.c (bfd_mach_o_bfd_print_private_bfd_data): Define.

binutils/
2011-12-13  Tristan Gingold  <gingold@@adacore.com>

	* od-macho.c: New file.
	* objdump.h (objdump_private_desc_mach_o): Add.
	* configure.in: Add Mach-O od_vectors.
	* Makefile.am (CFILES): Add od-macho.c
	* configure: Regenerate.
	* Makefile.in: Regenerate.
@
text
@d1 5
@


1.1857
log
@2011-12-06 David Daney <david.daney@@cavium.com>

	* readelf.c (dynamic_section_mips_val): Factor out trailing '\n'
	from printed strings and move it to the end of the function.
	Use BFD_VMA_FMT for printf format specifier for dynamic tag value.
	Use print_vma() to print dynamic tag values.
@
text
@d1 9
@


1.1856
log
@	* readelf.c (ia64_process_unwind): Turn into a void funtion.
	(hppa_process_unwind): Likewise.
	(arm_process_unwind): Likewise.
	(process_unwind): Likewise.
	(arm_get_section_word): Rename to get_unwind_section_word.
	Add sym_name parameter to return the offset into the string table
	of the symbol associated with the reloc applied to the word.
	(decode_tic6x_unwind_regmask): Add NULL argument to invocation of
	get_unwind_section_word.
	(dump_arm_unwind): Likewise.
	(decode_arm_unwind_bytecode): Prepend a comma when *not* the first
	register in a list.
	(decode_arm_unwind): If the returned function address is 0 and a
	valid symname offset is provided use that to compute the name
	associated with the entry.
	Add extra checks of the compact model index entry.
@
text
@d1 7
@


1.1855
log
@	* ar.c (ranlib_usage): Describe -D.
	(ranlib_main): Parse -D.
	(ranlib_touch): Set BFD_DETERMINISTIC_OUTPUT under -D.
	* doc/binutils.texi (ranlib): Describe -D, and also --help/-h/-H.
@
text
@d1 19
@


1.1854
log
@	PR binutils/13421
	* readelf.c (arm_section_get_word): Add descriptive comments.
	Initliase the rel_type field of the arm_sec structure.
	(expand_prel31): Rename to arm_expand_prel31.
	(dump_arm_unwind): Use new name.
	Print the function name based on the function address entry.
@
text
@d1 7
@


1.1853
log
@* binutils/readelf.c (process_program_headers): Fix typo printing p_memsz
field.
@
text
@d1 9
@


1.1852
log
@[.]
	* configure.ac (rl78-*-*) New case.
	* configure: Regenerate.

[bfd]
	* Makefile.am (ALL_MACHINES): Add cpu-rl78.lo.
	(ALL_MACHINES_CFILES): Add cpu-rl78.c.
	(BFD32_BACKENDS): Add elf32-rl78.lo.
	(BFD32_BACKENDS_CFILES): Add elf32-rl78.c.
	(Makefile.in): Regenerate.
	* archures.c (bfd_architecture): Define bfd_arch_rl78.
	(bfd_archures_list): Add bfd_rl78_arch.
	* config.bfd: Add rl78-*-elf.
	* configure.in: Add bfd_elf32_rl78_vec.
	* reloc.c (bfd_reloc_code_type): Add BFD_RELOC_RL78_* relocations.
	* targets.c (bfd_target_vector): Add bfd_elf32_rl78_vec.
	* Makefile.in: Regenerate.
	* bfd-in2.h: Regenerate.
	* configure: Regenerate.
	* libbfd.h: Regenerate.
	* cpu-rl78.c: New file.
	* elf32-rl78.c: New file.

[binutils]
	* readelf.c: Include elf/rl78.h
	(guess_is_rela): Handle EM_RL78.
	(dump_relocations): Likewise.
	(get_machine_name): Likewise.
	(is_32bit_abs_reloc): Likewise.
	* NEWS: Mention addition of RL78 support.
	* MAINTAINERS: Add myself as RL78 port maintainer.

[gas]
	* Makefile.am (TARGET_CPU_CFILES): Add tc-rl78.c.
	(TARGET_CPU_HFILES): Add rc-rl78.h.
	(EXTRA_DIST): Add rl78-parse.c and rl78-parse.y.
	(rl78-parse.c, rl78-parse.h, rl78-parse.o, rl78-defs.h): New rules.
	* Makefile.in: Regenerate.
	* configure.in: Add rl78 case.
	* configure: Regenerate.
	* configure.tgt: Add rl78 case.
	* config/rl78-defs.h: New file.
	* config/rl78-parse.y: New file.
	* config/tc-rl78.c: New file.
	* config/tc-rl78.h: New file.
	* NEWS: Add Renesas RL78.

	* doc/Makefile.am (c-rl78.texi): New.
	* doc/Makefile.in: Likewise.
	* doc/all.texi: Enable it.
	* doc/as.texi: Add it.

[include]
	* dis-asm.h (print_insn_rl78): Declare.

[include/elf]
	* common.h (EM_RL78, EM_78K0R): New.
	* rl78.h: New.

[include/opcode]
	* rl78.h: New file.

[ld]
	* Makefile.am (ALL_EMULATION_SOURCES): Add eelf32rl78.c.
	(+eelf32rl78.c): New rule.
	* Makefile.in: Regenerate.
	* configure.tgt: Add rl78-*-* case.
	* emulparams/elf32rl78.sh: New file.
	* NEWS: Mention addition of Renesas RL78 support.

[opcodes]
	* Makefile.am (TARGET_LIBOPCODES_CFILES): Add rl78-decode.c and
	rl78-dis.c.
	(MAINTAINERCLEANFILES): Add rl78-decode.c.
	(rl78-decode.c): New rule, built from rl78-decode.opc and opc2c.
	* Makefile.in: Regenerate.
	* configure.in: Add bfd_rl78_arch case.
	* configure: Regenerate.
	* disassemble.c: Define ARCH_rl78.
	(disassembler): Add ARCH_rl78 case.
	* rl78-decode.c: New file.
	* rl78-decode.opc: New file.
	* rl78-dis.c: New file.
@
text
@d1 5
@


1.1851
log
@	* dwarf.c (display_debug_frames): If do_debug_frames_interp,
	DW_CFA_restore goes to DW_CFA_undefined, not DW_CFA_unreferenced.
@
text
@d1 10
@


1.1850
log
@Add myself as TILEPro and TILE-Gx port maintainer.
@
text
@d1 5
@


1.1849
log
@Mention Tilera support in binutils/NEWS, and fix the TILEPro
capitalization in gas/NEWs and ld/NEWS.
@
text
@d4 1
@


1.1848
log
@        * MAINTAINERS: Add myself as EPIPHANY port maintainer.
@
text
@d1 4
@


1.1847
log
@binutils: fix out of tree building with syslex regens

If you take a release tarball (which has pregenerated syslex and sysinfo files
in it), apply some patches which touch syslex.l, and then build the result out
of tree, it will fail.  This is because syslex.l uses sysinfo.h, but the
sysinfo.y file wasn't updated and so it wasn't regenerated (the files are found
in the $srcdir), and the build rule for syslex.c does not use -I$(srcdir) when
it finds a local file.  Simple fix below.

Signed-off-by: Mike Frysinger <vapier@@gentoo.org>
@
text
@d1 4
@


1.1846
log
@bfd:
	* Makefile.am (ALL_MACHINES): Add cpu-epiphany.lo .
	(ALL_MACHINES_CFILES): Add cpu-epiphany.c .
	(BFD32_BACKENDS): Add elf32-epiphany.lo .
	(BFD32_BACKENDS_CFILES): Add elf32-epiphany.c .
	* Makefile.in, bfd-in2.h, configure, libbfd.h: Regenerate.
	* archures.c (bfd_arch_epiphany): Add.
	(bfd_mach_epiphany16, bfd_mach_epiphany32): Define.
	(bfd_epiphany_arch): Declare.
	(bfd_archures_list): Add &bfd_epiphany_arch.
	* config.bfd (epiphany-*-elf): New target case.
	* configure.in (bfd_elf32_epiphany_vec): New target vector case.
	* reloc.c (BFD_RELOC_EPIPHANY_SIMM8): New relocation.
	(BFD_RELOC_EPIPHANY_SIMM24, BFD_RELOC_EPIPHANY_HIGH): Likewise.
	(BFD_RELOC_EPIPHANY_LOW, BFD_RELOC_EPIPHANY_SIMM11): Likewise.
	(BFD_RELOC_EPIPHANY_IMM11, BFD_RELOC_EPIPHANY_IMM8): Likewise.
	* targets.c (bfd_elf32_epiphany_vec): Declare.
	(_bfd_target_vector): Add bfd_elf32_epiphany_vec.
	* po/SRC-POTFILES.in, po/bfd.pot: Regenerate.
	* cpu-epiphany.c, elf32-epiphany.c: New files.
binutils:
	* readelf.c (include "elf/epiphany.h")
	(guess_is_rela, dump_relocation): Handle EM_ADAPTEVA_EPIPHANY.
	(get_machine_name, is_32bit_abs_reloc, is_32bit_pcrel_reloc): Likewise.
	(is_16bit_abs_reloc, is_none_reloc): Likewise.
	* po/binutils.pot: Regenerate.
cpu:
	* cpu/epiphany.cpu, cpu/epiphany.opc: New files.
gas:
	* NEWS: Mention addition of Adapteva Epiphany support.
	* config/tc-epiphany.c, config/tc-epiphany.h: New files.
	* Makefile.am (TARGET_CPU_CFILES): Add config/tc-epiphany.c .
	(TARGET_CPU_HFILES): Add config/tc-epiphany.h .
	* Makefile.in, configure, doc/Makefile.in, po/POTFILES.in: Regenerate.
	* configure.in: Also set using_cgen for epiphany.
	* configure.tgt: Handle epiphany.
	* doc/Makefile.am (CPU_DOCS): Add c-epiphany.texi .
	* doc/all.texi: Set EPIPHANY.
	* doc/as.texinfo: Add EPIPHANY-specific text.
	* doc/c-epiphany.texi: New file.
	* po/gas.pot: Regenerate.
gas/testsuite:
	* gas/epiphany: New directory.
include:
	* dis-asm.h (print_insn_epiphany): Declare.
	* elf/epiphany.h: New file.
	* elf/common.h (EM_ADAPTEVA_EPIPHANY): Define.
ld:
	* NEWS: Mention addition of Adapteva Epiphany support.
	* Makefile.am (ALL_EMULATION_SOURCES): Add eelf32epiphany.c .
	(eelf32epiphany.c): New rule.
	* Makefile.in: Regenerate.
	* configure.tgt: Handle epiphany-*-elf.
	* po/ld.pot: Regenerate.
	* testsuite/ld-srec/srec.exp: xfail epiphany.
	* emulparams/elf32epiphany.sh: New file.
opcodes:
	* Makefile.am (HFILES): Add epiphany-desc.h and epiphany-opc.h .
	(TARGET_LIBOPCODES_CFILES): Add  epiphany-asm.c, epiphany-desc.c,
	epiphany-dis.c, epiphany-ibld.c and epiphany-opc.c .
	(CLEANFILES): Add stamp-epiphany.
	(EPIPHANY_DEPS): Set.  Make CGEN-generated Epiphany files depend on it.
	(stamp-epiphany): New rule.
	* Makefile.in, configure, po/POTFILES.in, po/opcodes.pot: Regenerate.
	* configure.in: Handle bfd_epiphany_arch.
	* disassemble.c (ARCH_epiphany): Define.
	(disassembler): Handle bfd_arch_epiphany.
	* epiphany-asm.c, epiphany-desc.c, epiphany-desc.h: New files.
	* epiphany-dis.c, epiphany-ibld.c, epiphany-opc.c: Likewise.
	* epiphany-opc.h: Likewise.
@
text
@d1 5
@


1.1845
log
@2011-10-25  Kai Tietz  <ktietz@@redhat.com>

	* winduni.h (unicode_from_ascii_len): New prototype.
	* winduni.c (unicode_from_ascii_len): New function.
	* windres.h (define_stringtable): Add additional length argument.
	* windres.c (define_stringtable): Add length argument for string.
	* rcparse.y (res_unicode_sizedstring): New rule.
	(res_unicode_sizedstring_concat): Likewise.
	(string_data): Adjust rule.

2011-10-25  Kai Tietz  <ktietz@@redhat.com>

	* binutils-all/windres/strtab4.rc: New test.
	* binutils-all/windres/strtab4.rsd: Likewise.
@
text
@d1 8
@


1.1844
log
@binutils/
	* dwarf.c (read_and_display_attr_value) <DW_AT_import>: Add CU_OFFSET
	also for DW_FORM_ref_udata.
@
text
@d1 10
@


1.1843
log
@Updated Japanese translation
@
text
@d1 5
@


1.1842
log
@Set target from the the first object only if it isn't set.

2011-10-16  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/13278
	* ar.c (open_inarch): Set the target from the the first object
	on the list only if it isn't set.
@
text
@d1 4
@


1.1841
log
@2011-10-13  Nick Clifton  <nickc@@redhat.com>

	Fixes to aid translation:
	* addr2line.c (translate_address): Add comments describing context
	of a couple of printf statements.
	* ar.c (write_archive): Allow translation of error message.
	* bucomm.c (endian_string): Allow translation of strings.
	(display_target_list): Allow translation.
	* coffdump.c (dump_coff_type): Allow translation of output.
	(dump_coff_where): Likewise.
	(dump_coff_symbol): Likewise.
	(dump_coff_scope): Likewise.
	(dump_coff_sfile): Likewise.
	(dump_coff_section): Likewise.
	(coff_dump): Likewise.
	* dlltool (def_version): Allow translation of output.
	(run): Likewise.
	* dllwrap.c (run): Allow translation of output.
	* dwarf.c (print_dwarf_vma): Allow translation of output.
	(process_extended_line_op): Remove spurious translation.
	Add translation for strings that can be translated.
	(decode_location_exression): Allow translation of output.
	(read_and_display_attr_value): Allow translation of output.
	* readelf.c (slurp_rela_relocs): Add translation for error
	messages when failing to get data.
	(slurp_rel_relocs): Likewise.
	(get_32bit_elf_symbols): Likewise.
	(get_64bit_elf_symbols): Likewise.
	(dump_ia64_vms_dynamic_relocs): Replace abbreviation with full
	word.
	(process_relocs): Remove spurious translation.
	(decode_tic6x_unwind_bytecode): Likewise.
	(process_version_section): Improve error messages.
	(process_mips_specific): Likewise.
	(print_gnu_note): Remove spurious translation.
	(print_stapsdt_note): Likewise.
	(get_ia64_vms_note_type): Likewise.
	* sysdump.c (getCHARS): Allow translation.
	(fillup): Allow translation of output.
	(getone): Likewise.
	(must): Likewise.
	(derived_type): Likewise.
	* doc/binutils.doc (addr2line): Extend description of command line
	options.
	* po/binutils.pot: Regenerate.
@
text
@d1 6
@


1.1840
log
@	PR binutils/13219
	* readelf.c (GET_ELF_SYMBOLS): Add sym_count parameter.
	(get_32bit_elf_symbols): Add num_syms_return argument.
	Return the number of symbols loaded into the symbol table.
	(get_64bit_elf_symbols): Likewise.
	(process_section_headers): Use GET_ELF_SYMBOLS to initialise
	symbol count.
	(proces_relocs): Likewise.
	(ia64_process_unwind): Likewise.
	(hppa_process_unwind): Likewise.
	(arm_process_unwind): Likewise.
	(process_dynamic_section): Likewise.
	(process_version_sections): Likewise.
	(process_symbol_table): Likewise.
	(process_section_groups): Likewise.
	Add check before indexing into the symbol table.
	(apply_relocations): Likewise.
@
text
@d3 46
@


1.1839
log
@	PR binutils/13051
	Fix a syntax error bug when compiling rc files with the VERSIONINFO resource
	containing more than one language block inside a single StringFileInfo block.

	* windint.h (rc_ver_stringtable): New structure definition.
	(rc_ver_info): Use it.
	* rcparse.y (verstringtable): New variable.
	(verstringtables): New type.
	(verstringtables:): New rule declaration.
	(verblocks:): Use it.
	* resrc.c (append_ver_stringtable): New function.
	(append_ver_stringfileinfo): Update to use stringtables.
	* windres.h (append_ver_stringfileinfo): Update declaration.
	(append_ver_stringtable): New declaration.
	* resrc.c (write_rc_versioninfo): Update to support multiple blocks.
	* resbin.c (bin_to_res_version): Likewise.
	(res_to_bin_versioninfo): Likewise.

	* binutils-all\windres\version.rsd: Regenerate.
	* binutils-all\windres\version_cat.rsd: Regenerate.
	* binutils-all\windres\version_mlang.rc: Add new test.
	* binutils-all\windres\version_mlang.rsd: Likewise.
@
text
@d1 20
@


1.1838
log
@Updated Bulgarian, Spanish, Finnish, French, Russian and Ukranian translations.
@
text
@d1 20
@


1.1837
log
@
	* readelf.c (get_machine_dlags): Add support for RX's PID mode.

	* ld-scripts/phdrs.exp: Expect to fail for the RX.

	* elf32-rx.c: Add support for PID mode.
	(rx_elf_relocate_section): Add checks for unsafe PID relocations.
	Include addend in R_RX_SYM relocations.

	* config/rx-defs.h (rx_pid_register): New.
	(rx_gp_register): New.
	* config/rx-parse.y (rx_lex): Add support for %gpreg and %pidreg.
	(displacement): Add PID support.
	* config/tc-rx.c (rx_pid_mode): New.
	(rx_num_int_regs): New.
	(rx_pid_register): New.
	(rx_gp_register): New.
	(options): Add -mpid and -mint-register= options.
	(md_longopts): Likewise.
	(md_parse_option): Likewise.
	(md_show_usage): Likewise.
	(rx_pid_symbol): New.
	(rx_pidreg_symbol): New.
	(rx_gpreg_symbol): New.
	(md_begin): Support PID.
	(rx_validate_fix_sub): Support PID.
	(tc_gen_reloc): Support PID.
	* doc/c-rx.texi: Document PID support.

	* rx.h (E_FLAG_RX_PID): New.
@
text
@d1 7
@


1.1836
log
@binutils/

2011-10-04  Paul Woegerer  <paul_woegerer@@mentor.com>
	    Carlos O'Donell  <carlos@@codesourcery.com>

	* dwarf.c (display_debug_lines_decoded): Index directory_table with
	directory_index from file_table entry.

binutils/testsuite/

2011-10-04  Carlos O'Donell  <carlos@@codesourcery.com>

	* binutils-all/dw2-decodedline.S: New file.
	* binutils-all/objdump.WL: New file.
	* binutils-all/objdump.exp: Update copyright year.
	New test case for -WL.
@
text
@d1 6
a6 1
2011-10-04  Paul Woegerer  <paul_woegerer@@mentor.com> 
@


1.1835
log
@	* binutils/dwarf.h (dwarf_section_display_enum): Add missing enum
	constant.
@
text
@d1 6
@


1.1834
log
@2011-09-28  Tristan Gingold  <gingold@@adacore.com>

	* od-xcoff.c (dump_xcoff32_aout_header): Fix typo.
@
text
@d1 5
@


1.1833
log
@2011-09-27  Tristan Gingold  <gingold@@adacore.com>

	* od-xcoff.c (dump_xcoff32_aout_header): Remove some gettext macros.
	(dump_xcoff32_sections_header): Likewise.
	(dump_xcoff32_symbols, dump_xcoff32_relocs): Likewise.
	(dump_xcoff32_lineno, dump_xcoff32_loader): Likewise.
	(dump_xcoff32_except): Likewise.
	(dump_xcoff32_typchk, dump_xcoff32_tbtags): Likewise.
@
text
@d1 4
@


1.1832
log
@2011-09-27  Tristan Gingold  <gingold@@adacore.com>

	* readelf.c (print_ia64_vms_note): Fix xgettext warnings.
@
text
@d3 9
@


1.1831
log
@binutils/
2011-09-22  Tristan Gingold  <gingold@@adacore.com>

	* NEWS: Add marker for 2.22.

gas/
2011-09-22  Tristan Gingold  <gingold@@adacore.com>

	* NEWS: Add marker for 2.22.

ld/
2011-09-22  Tristan Gingold  <gingold@@adacore.com>

	* NEWS: Add marker for 2.22.
@
text
@d1 4
@


1.1831.2.1
log
@	PR binutils/13278
	2011-10-16  H.J. Lu  <hongjiu.lu@@intel.com>
	* ar.c (open_inarch): Set the target from the the first object
	on the list only if it isn't set.
@
text
@a0 8
2011-10-25  Alan Modra  <amodra@@gmail.com>

	Apply mainline patches
	2011-10-16  H.J. Lu  <hongjiu.lu@@intel.com>
	PR binutils/13278
	* ar.c (open_inarch): Set the target from the the first object
	on the list only if it isn't set.

@


1.1831.2.2
log
@	PR binutils/13622
	* readelf.c (process_section_groups): If there are no section
	headers do not scan for section groups.
	(process_note_sections): Likewise for note sections.
@
text
@a0 7
2012-01-26  Nick Clifton  <nickc@@redhat.com>

	PR binutils/13622
	* readelf.c (process_section_groups): If there are no section
	headers do not scan for section groups.
	(process_note_sections): Likewise for note sections.

@


1.1830
log
@Annotate sparc objects with cpu hardware capabilities used.

bfd/

	* elfxx-sparc.c (_bfd_sparc_elf_merge_private_bfd_data): New.
	* elfxx-sparc.h: Declare it.
	* elf32-sparc.c (elf32_sparc_merge_private_bfd_data): Call it.
	* elf64-sparc.c (elf64_sparc_merge_private_bfd_data): Likewise.

binutils/

	* readelf.c (display_sparc_hwcaps): New.
	(display_sparc_gnu_attribute): New.
	(process_sparc_specific): New.
	(process_arch_specific): When EM_SPARC, EM_SPARC32PLUS,
	or EM_SPARCV9 invoke process_sparc_specific.

gas/

	* config/tc-sparc.c (hwcap_seen): New bitmask, defined when
	not TE_SOLARIS.
	(sparc_ip): When not TE_SOLARIS, accumulate hwcap bits from
	sparc_opcode->flags of instruction into hwcap_seen.
	(sparc_md_end): Create Tag_GNU_Sparc_HWCAPS attribute if
	hwcap_seen is non-zero and not TE_SOLARIS.

gas/testsuite/

	* gas/sparc/hpcvis3.s: Update for fixed fchksum16 mnemonic.
	* gas/sparc/hpcvis3.d: Likewise.

include/elf/

	* sparc.h (Tag_GNU_Sparc_HWCAPS): New object attribute.
	(ELF_SPARC_HWCAP_*): New HWCAPS bitmask values.

include/opcode/

	* sparc.h (struct sparc_opcode): Expand 'flags' to unsigned int.
	(F_MUL32, F_DIV32, F_FSMULD, F_V8PLUS, F_POPC, F_VIS, F_VIS2,
	F_ASI_BLK_INIT, F_FMAF, F_VIS3, F_HPC, F_RANDOM, F_TRANS,
	F_FJFMAU, F_IMA, F_ASI_CACHE_SPARING): New flag bits.

opcodes/

	* sparc-opc.c (sparc_opcodes): Annotate table with HWCAP flag
	bits.  Fix "fchksm16" mnemonic.
@
text
@d1 4
@


1.1829
log
@	* MAINTAINER: Take over from Jakub Jalinek as SPARC maintainer.
@
text
@d5 6
@


1.1828
log
@Check zero address size.

2011-09-18  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/13196
	* dwarf.c (display_debug_aranges): Check zero address size.
@
text
@d1 4
@


1.1827
log
@Remove the group section if all members are removed.

binutils/

2011-09-15  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/13180
	* objcopy.c (is_strip_section_1): New.
	(is_strip_section): Use it.  Remove the group section if all
	members are removed.

binutils/testsuite/

2011-09-15  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/13180
	* binutils-all/group-6.d: New.
	* binutils-all/group-6.s: Likewise.

	* binutils-all/objcopy.exp: Run group-6 for ELF targrts.
@
text
@d1 5
@


1.1826
log
@	* po/ja.po: Updated Japanese translation.
@
text
@d1 7
@


1.1825
log
@Updated Spanish translations.
@
text
@d1 4
@


1.1824
log
@	PR binutils/12964
	* Makefile.am (embedspu): Use awk rather than sed.
	* Makefile.in: Regenerate.
@
text
@d1 4
@


1.1823
log
@binutils/
	* dwarf.c (read_and_display_attr_value): Recognize DW_FORM_data4 and
	DW_FORM_data8 as location list pointers only for DWARF < 4.
@
text
@d1 6
@


1.1822
log
@	* dwarf2.c (dwarf_debug_sections): Add .debug_macro
	and .zdebug_macro entry.
	(dwarf_debug_section_enum): Add debug_macro.

	* NEWS: Mention .debug_macro support.
	* dwarf.c (read_and_display_attr_value): Don't print a tab
	if attribute is 0.
	(get_AT_name): Handle DW_AT_GNU_macros.
	(get_line_filename_and_dirname, display_debug_macro): New
	functions.
	(debug_displays): Add an entry for .debug_macro and .zdebug_macro.
	* readelf.c (process_section_headers): With do_debug_macinfo
	handle also .debug_macro sections.
	* dwarf.h (dwarf_section_display_enum): Add macro.
@
text
@d1 5
@


1.1821
log
@bfd/
2011-02-25  Chao-ying Fu  <fu@@mips.com>
            Ilie Garbacea  <ilie@@mips.com>
            Maciej W. Rozycki  <macro@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>
            Catherine Moore  <clm@@codesourcery.com>
	    Richard Sandiford  <rdsandiford@@googlemail.com>

	* archures.c (bfd_mach_mips_micromips): New macro.
	* cpu-mips.c (I_micromips): New enum value.
	(arch_info_struct): Add bfd_mach_mips_micromips.
	* elfxx-mips.h (_bfd_mips_elf_is_target_special_symbol): New
	prototype.
	(_bfd_mips_elf_relax_section): Likewise.
	(_bfd_mips16_elf_reloc_unshuffle): Rename to...
	(_bfd_mips_elf_reloc_unshuffle): ... this.  Handle microMIPS
	ASE.
	(_bfd_mips16_elf_reloc_shuffle): Rename to...
	(_bfd_mips_elf_reloc_shuffle): ... this.  Handle microMIPS ASE.
	(gprel16_reloc_p): Handle microMIPS ASE.
	(literal_reloc_p): New function.
	* elf32-mips.c (elf_micromips_howto_table_rel): New variable.
	(_bfd_mips_elf32_gprel16_reloc): Handle microMIPS ASE.
	(mips16_gprel_reloc): Update for _bfd_mips_elf_reloc_unshuffle
	and _bfd_mips_elf_reloc_shuffle changes.
	(mips_elf_gprel32_reloc): Update comment.
	(micromips_reloc_map): New variable.
	(bfd_elf32_bfd_reloc_type_lookup): Handle microMIPS ASE.
	(mips_elf32_rtype_to_howto): Likewise.
	(mips_info_to_howto_rel): Likewise.
	(bfd_elf32_bfd_is_target_special_symbol): Define.
	(bfd_elf32_bfd_relax_section): Likewise.
	* elf64-mips.c (micromips_elf64_howto_table_rel): New variable.
	(micromips_elf64_howto_table_rela): Likewise.
	(mips16_gprel_reloc): Update for _bfd_mips_elf_reloc_unshuffle
	and _bfd_mips_elf_reloc_shuffle changes.
	(micromips_reloc_map): Likewise.
	(bfd_elf64_bfd_reloc_type_lookup): Handle microMIPS ASE.
	(bfd_elf64_bfd_reloc_name_lookup): Likewise.
	(mips_elf64_rtype_to_howto): Likewise.
	(bfd_elf64_bfd_is_target_special_symbol): Define.
	* elfn32-mips.c (elf_micromips_howto_table_rel): New variable.
	(elf_micromips_howto_table_rela): Likewise.
	(mips16_gprel_reloc): Update for _bfd_mips_elf_reloc_unshuffle
	and _bfd_mips_elf_reloc_shuffle changes.
	(micromips_reloc_map): Likewise.
	(bfd_elf32_bfd_reloc_type_lookup): Handle microMIPS ASE.
	(bfd_elf32_bfd_reloc_name_lookup): Likewise.
	(mips_elf_n32_rtype_to_howto): Likewise.
	(bfd_elf32_bfd_is_target_special_symbol): Define.
	* elfxx-mips.c (LA25_LUI_MICROMIPS_1): New macro.
	(LA25_LUI_MICROMIPS_2): Likewise.
	(LA25_J_MICROMIPS_1, LA25_J_MICROMIPS_2): Likewise.
	(LA25_ADDIU_MICROMIPS_1, LA25_ADDIU_MICROMIPS_2): Likewise.
	(TLS_RELOC_P): Handle microMIPS ASE.
	(mips_elf_create_stub_symbol): Adjust value of stub symbol if
	target is a microMIPS function.
	(micromips_reloc_p): New function.
	(micromips_reloc_shuffle_p): Likewise.
	(got16_reloc_p, call16_reloc_p): Handle microMIPS ASE.
	(got_disp_reloc_p, got_page_reloc_p): New functions.
	(got_ofst_reloc_p): Likewise.
	(got_hi16_reloc_p, got_lo16_reloc_p): Likewise.
	(call_hi16_reloc_p, call_lo16_reloc_p): Likewise.
	(hi16_reloc_p, lo16_reloc_p, jal_reloc_p): Handle microMIPS ASE.
	(micromips_branch_reloc_p): New function.
	(tls_gd_reloc_p, tls_ldm_reloc_p): Likewise.
	(tls_gottprel_reloc_p): Likewise.
	(_bfd_mips16_elf_reloc_unshuffle): Rename to...
	(_bfd_mips_elf_reloc_unshuffle): ... this.  Handle microMIPS
	ASE.
	(_bfd_mips16_elf_reloc_shuffle): Rename to...
	(_bfd_mips_elf_reloc_shuffle): ... this.  Handle microMIPS ASE.
	(_bfd_mips_elf_lo16_reloc): Handle microMIPS ASE.
	(mips_tls_got_index, mips_elf_got_page): Likewise.
	(mips_elf_create_local_got_entry): Likewise.
	(mips_elf_relocation_needs_la25_stub): Likewise.
	(mips_elf_calculate_relocation): Likewise.
	(mips_elf_perform_relocation): Likewise.
	(_bfd_mips_elf_symbol_processing): Likewise.
	(_bfd_mips_elf_add_symbol_hook): Likewise.
	(_bfd_mips_elf_link_output_symbol_hook): Likewise.
	(mips_elf_add_lo16_rel_addend): Likewise.
	(_bfd_mips_elf_check_relocs): Likewise.
	(mips_elf_adjust_addend): Likewise.
	(_bfd_mips_elf_relocate_section): Likewise.
	(mips_elf_create_la25_stub): Likewise.
	(_bfd_mips_vxworks_finish_dynamic_symbol): Likewise.
	(_bfd_mips_elf_gc_sweep_hook): Likewise.
	(_bfd_mips_elf_is_target_special_symbol): New function.
	(mips_elf_relax_delete_bytes): Likewise.
	(opcode_descriptor): New structure.
	(RA): New macro.
	(OP32_SREG, OP32_TREG, OP16_VALID_REG): Likewise.
	(b_insns_32, bc_insn_32, bz_insn_32, bzal_insn_32): New variables.
	(beq_insn_32): Likewise.
	(b_insn_16, bz_insn_16): New variables.
	(BZC32_REG_FIELD): New macro.
	(bz_rs_insns_32, bz_rt_insns_32): New variables.
	(bzc_insns_32, bz_insns_16):Likewise.
	(BZ16_REG, BZ16_REG_FIELD): New macros.
	(jal_insn_32_bd16, jal_insn_32_bd32): New variables.
	(jal_x_insn_32_bd32): Likewise.
	(j_insn_32, jalr_insn_32): Likewise.
	(ds_insns_32_bd16, ds_insns_32_bd32): Likewise.
	(jalr_insn_16_bd16, jalr_insn_16_bd32, jr_insn_16): Likewise.
	(JR16_REG): New macro.
	(ds_insns_16_bd16): New variable.
	(lui_insn): Likewise.
	(addiu_insn, addiupc_insn): Likewise.
	(ADDIUPC_REG_FIELD): New macro.
	(MOVE32_RD, MOVE32_RS): Likewise.
	(MOVE16_RD_FIELD, MOVE16_RS_FIELD): Likewise.
	(move_insns_32, move_insns_16): New variables.
	(nop_insn_32, nop_insn_16): Likewise.
	(MATCH): New macro.
	(find_match): New function.
	(check_br16_dslot, check_br32_dslot): Likewise.
	(check_br16, check_br32): Likewise.
	(IS_BITSIZE): New macro.
	(check_4byte_branch): New function.
	(_bfd_mips_elf_relax_section): Likewise.
	(_bfd_mips_elf_merge_private_bfd_data): Disallow linking MIPS16
	and microMIPS modules together.
	(_bfd_mips_elf_print_private_bfd_data):	Handle microMIPS ASE.
	* reloc.c (BFD_RELOC_MICROMIPS_7_PCREL_S1): New relocation.
	(BFD_RELOC_MICROMIPS_10_PCREL_S1): Likewise.
	(BFD_RELOC_MICROMIPS_16_PCREL_S1): Likewise.
	(BFD_RELOC_MICROMIPS_GPREL16): Likewise.
	(BFD_RELOC_MICROMIPS_JMP, BFD_RELOC_MICROMIPS_HI16): Likewise.
	(BFD_RELOC_MICROMIPS_HI16_S): Likewise.
	(BFD_RELOC_MICROMIPS_LO16): Likewise.
	(BFD_RELOC_MICROMIPS_LITERAL): Likewise.
	(BFD_RELOC_MICROMIPS_GOT16): Likewise.
	(BFD_RELOC_MICROMIPS_CALL16): Likewise.
	(BFD_RELOC_MICROMIPS_GOT_HI16): Likewise.
	(BFD_RELOC_MICROMIPS_GOT_LO16): Likewise.
	(BFD_RELOC_MICROMIPS_CALL_HI16): Likewise.
	(BFD_RELOC_MICROMIPS_CALL_LO16): Likewise.
	(BFD_RELOC_MICROMIPS_SUB): Likewise.
	(BFD_RELOC_MICROMIPS_GOT_PAGE): Likewise.
	(BFD_RELOC_MICROMIPS_GOT_OFST): Likewise.
	(BFD_RELOC_MICROMIPS_GOT_DISP): Likewise.
	(BFD_RELOC_MICROMIPS_HIGHEST): Likewise.
	(BFD_RELOC_MICROMIPS_HIGHER): Likewise.
	(BFD_RELOC_MICROMIPS_SCN_DISP): Likewise.
	(BFD_RELOC_MICROMIPS_JALR): Likewise.
	(BFD_RELOC_MICROMIPS_TLS_GD): Likewise.
	(BFD_RELOC_MICROMIPS_TLS_LDM): Likewise.
	(BFD_RELOC_MICROMIPS_TLS_DTPREL_HI16): Likewise.
	(BFD_RELOC_MICROMIPS_TLS_DTPREL_LO16): Likewise.
	(BFD_RELOC_MICROMIPS_TLS_GOTTPREL): Likewise.
	(BFD_RELOC_MICROMIPS_TLS_TPREL_HI16): Likewise.
	(BFD_RELOC_MICROMIPS_TLS_TPREL_LO16): Likewise.
	* bfd-in2.h: Regenerate.
	* libbfd.h: Regenerate.

binutils/
2011-02-25  Chao-ying Fu  <fu@@mips.com>
            Maciej W. Rozycki  <macro@@codesourcery.com>

	* readelf.c (get_machine_flags): Handle microMIPS ASE.
	(get_mips_symbol_other): Likewise.

gas/
2011-02-25  Maciej W. Rozycki  <macro@@codesourcery.com>
            Chao-ying Fu  <fu@@mips.com>
	    Richard Sandiford  <rdsandiford@@googlemail.com>

	* config/tc-mips.h (mips_segment_info): Add one bit for
	microMIPS.
	(TC_LABEL_IS_LOCAL): New macro.
	(mips_label_is_local): New prototype.
	* config/tc-mips.c (S0, S7): New macros.
	(emit_branch_likely_macro): New variable.
	(mips_set_options): Add micromips.
	(mips_opts): Initialise micromips to -1.
	(file_ase_micromips): New variable.
	(CPU_HAS_MICROMIPS): New macro.
	(hilo_interlocks): Set for microMIPS too.
	(gpr_interlocks): Likewise.
	(cop_interlocks): Likewise.
	(cop_mem_interlocks): Likewise.
	(HAVE_CODE_COMPRESSION): New macro.
	(micromips_op_hash): New variable.
	(micromips_nop16_insn, micromips_nop32_insn): New variables.
	(NOP_INSN): Handle microMIPS ASE.
	(mips32_to_micromips_reg_b_map): New macro.
	(mips32_to_micromips_reg_c_map): Likewise.
	(mips32_to_micromips_reg_d_map): Likewise.
	(mips32_to_micromips_reg_e_map): Likewise.
	(mips32_to_micromips_reg_f_map): Likewise.
	(mips32_to_micromips_reg_g_map): Likewise.
	(mips32_to_micromips_reg_l_map): Likewise.
	(mips32_to_micromips_reg_n_map): Likewise.
	(mips32_to_micromips_reg_h_map): New variable.
	(mips32_to_micromips_reg_m_map): Likewise.
	(mips32_to_micromips_reg_q_map): Likewise.
	(micromips_to_32_reg_h_map): New variable.
	(micromips_to_32_reg_i_map): Likewise.
	(micromips_to_32_reg_m_map): Likewise.
	(micromips_to_32_reg_q_map): Likewise.
	(micromips_to_32_reg_b_map): New macro.
	(micromips_to_32_reg_c_map): Likewise.
	(micromips_to_32_reg_d_map): Likewise.
	(micromips_to_32_reg_e_map): Likewise.
	(micromips_to_32_reg_f_map): Likewise.
	(micromips_to_32_reg_g_map): Likewise.
	(micromips_to_32_reg_l_map): Likewise.
	(micromips_to_32_reg_n_map): Likewise.
	(micromips_imm_b_map, micromips_imm_c_map): New macros.
	(RELAX_DELAY_SLOT_16BIT): New macro.
	(RELAX_DELAY_SLOT_SIZE_FIRST): Likewise.
	(RELAX_DELAY_SLOT_SIZE_SECOND): Likewise.
	(RELAX_MICROMIPS_ENCODE, RELAX_MICROMIPS_P): New macros.
	(RELAX_MICROMIPS_TYPE, RELAX_MICROMIPS_AT): Likewise.
	(RELAX_MICROMIPS_U16BIT, RELAX_MICROMIPS_UNCOND): Likewise.
	(RELAX_MICROMIPS_COMPACT, RELAX_MICROMIPS_LINK): Likewise.
	(RELAX_MICROMIPS_RELAX32, RELAX_MICROMIPS_TOOFAR16): Likewise.
	(RELAX_MICROMIPS_MARK_TOOFAR16): Likewise.
	(RELAX_MICROMIPS_CLEAR_TOOFAR16): Likewise.
	(RELAX_MICROMIPS_TOOFAR32): Likewise.
	(RELAX_MICROMIPS_MARK_TOOFAR32): Likewise.
	(RELAX_MICROMIPS_CLEAR_TOOFAR32): Likewise.
	(INSERT_OPERAND, EXTRACT_OPERAND): Handle microMIPS ASE.
	(mips_macro_warning): Add delay_slot_16bit_p, delay_slot_32bit_p,
	fsize and insns.
	(mips_mark_labels): New function.
	(mips16_small, mips16_ext): Remove variables, replacing with...
	(forced_insn_size): ... this.
	(append_insn, mips16_ip): Update accordingly.
	(micromips_insn_length): New function.
	(insn_length): Return the length of microMIPS instructions.
	(mips_record_mips16_mode): Rename to...
	(mips_record_compressed_mode): ... this.  Handle microMIPS ASE.
	(install_insn): Handle microMIPS ASE.
	(reglist_lookup): New function.
	(is_size_valid, is_delay_slot_valid): Likewise.
	(md_begin): Handle microMIPS ASE.
	(md_assemble): Likewise.  Update for append_insn interface change.
	(micromips_reloc_p): New function.
	(got16_reloc_p): Handle microMIPS ASE.
	(hi16_reloc_p): Likewise.
	(lo16_reloc_p): Likewise.
	(jmp_reloc_p): New function.
	(jalr_reloc_p): Likewise.
	(matching_lo_reloc): Handle microMIPS ASE.
	(insn_uses_reg, reg_needs_delay): Likewise.
	(mips_move_labels): Likewise.
	(mips16_mark_labels): Rename to...
	(mips_compressed_mark_labels): ... this.  Handle microMIPS ASE.
	(gpr_mod_mask): New function.
	(gpr_read_mask, gpr_write_mask): Handle microMIPS ASE.
	(fpr_read_mask, fpr_write_mask): Likewise.
	(insns_between, nops_for_vr4130, nops_for_insn): Likewise.
	(fix_loongson2f_nop, fix_loongson2f_jump): Likewise.
	(MICROMIPS_LABEL_CHAR): New macro.
	(micromips_target_label, micromips_target_name): New variables.
	(micromips_label_name, micromips_label_expr): New functions.
	(micromips_label_inc, micromips_add_label): Likewise.
	(mips_label_is_local): Likewise.
	(micromips_map_reloc): Likewise.
	(can_swap_branch_p): Handle microMIPS ASE.
	(append_insn): Add expansionp argument.  Handle microMIPS ASE.
	(start_noreorder, end_noreorder): Handle microMIPS ASE.
	(macro_start, macro_warning, macro_end): Likewise.
	(brk_fmt, cop12_fmt, jalr_fmt, lui_fmt): New variables.
	(mem12_fmt, mfhl_fmt, shft_fmt, trap_fmt): Likewise.
	(BRK_FMT, COP12_FMT, JALR_FMT, LUI_FMT): New macros.
	(MEM12_FMT, MFHL_FMT, SHFT_FMT, TRAP_FMT): Likewise.
	(macro_build): Handle microMIPS ASE.  Update for append_insn
	interface change.
	(mips16_macro_build): Update for append_insn interface change.
	(macro_build_jalr): Handle microMIPS ASE.
	(macro_build_lui): Likewise.  Simplify.
	(load_register): Handle microMIPS ASE.
	(load_address): Likewise.
	(move_register): Likewise.
	(macro_build_branch_likely): New function.
	(macro_build_branch_ccl): Likewise.
	(macro_build_branch_rs): Likewise.
	(macro_build_branch_rsrt): Likewise.
	(macro): Handle microMIPS ASE.
	(validate_micromips_insn): New function.
	(expr_const_in_range): Likewise.
	(mips_ip): Handle microMIPS ASE.
	(options): Add OPTION_MICROMIPS and OPTION_NO_MICROMIPS.
	(md_longopts): Add mmicromips and mno-micromips.
	(md_parse_option): Handle OPTION_MICROMIPS and
	OPTION_NO_MICROMIPS.
	(mips_after_parse_args): Handle microMIPS ASE.
	(md_pcrel_from): Handle microMIPS relocations.
	(mips_force_relocation): Likewise.
	(md_apply_fix): Likewise.
	(mips_align): Handle microMIPS ASE.
	(s_mipsset): Likewise.
	(s_cpload, s_cpsetup, s_cpreturn): Use relocation wrappers.
	(s_dtprel_internal): Likewise.
	(s_gpword, s_gpdword): Likewise.
	(s_insn): Handle microMIPS ASE.
	(s_mips_stab): Likewise.
	(relaxed_micromips_32bit_branch_length): New function.
	(relaxed_micromips_16bit_branch_length): New function.
	(md_estimate_size_before_relax): Handle microMIPS ASE.
	(mips_fix_adjustable): Likewise.
	(tc_gen_reloc): Handle microMIPS relocations.
	(mips_relax_frag): Handle microMIPS ASE.
	(md_convert_frag): Likewise.
	(mips_frob_file_after_relocs): Likewise.
	(mips_elf_final_processing): Likewise.
	(mips_nop_opcode): Likewise.
	(mips_handle_align): Likewise.
	(md_show_usage): Handle microMIPS options.
	* symbols.c (TC_LABEL_IS_LOCAL): New macro.
	(S_IS_LOCAL): Add a TC_LABEL_IS_LOCAL check.

	* doc/as.texinfo (Target MIPS options): Add -mmicromips and
	-mno-micromips.
	(-mmicromips, -mno-micromips): New options.
	* doc/c-mips.texi (-mmicromips, -mno-micromips): New options.
	(MIPS ISA): Document .set micromips and .set nomicromips.
	(MIPS insn): Update for microMIPS support.

gas/testsuite/
2011-02-25  Maciej W. Rozycki  <macro@@codesourcery.com>
            Chao-ying Fu  <fu@@mips.com>
	    Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/micromips.d: New test.
	* gas/mips/micromips-branch-delay.d: Likewise.
	* gas/mips/micromips-branch-relax.d: Likewise.
	* gas/mips/micromips-branch-relax-pic.d: Likewise.
	* gas/mips/micromips-size-1.d: Likewise.
	* gas/mips/micromips-trap.d: Likewise.
	* gas/mips/micromips.l: New stderr output.
	* gas/mips/micromips-branch-delay.l: Likewise.
	* gas/mips/micromips-branch-relax.l: Likewise.
	* gas/mips/micromips-branch-relax-pic.l: Likewise.
	* gas/mips/micromips-size-0.l: New list test.
	* gas/mips/micromips-size-1.l: New stderr output.
	* gas/mips/micromips.s: New test source.
	* gas/mips/micromips-branch-delay.s: Likewise.
	* gas/mips/micromips-branch-relax.s: Likewise.
	* gas/mips/micromips-size-0.s: Likewise.
	* gas/mips/micromips-size-1.s: Likewise.
	* gas/mips/mips.exp: Run the new tests.

	* gas/mips/dli.s: Use .p2align.
	* gas/mips/elf_ase_micromips.d: New test.
	* gas/mips/elf_ase_micromips-2.d: Likewise.
	* gas/mips/micromips@@abs.d: Likewise.
	* gas/mips/micromips@@add.d: Likewise.
	* gas/mips/micromips@@alnv_ps-swap.d: Likewise.
	* gas/mips/micromips@@and.d: Likewise.
	* gas/mips/micromips@@beq.d: Likewise.
	* gas/mips/micromips@@bge.d: Likewise.
	* gas/mips/micromips@@bgeu.d: Likewise.
	* gas/mips/micromips@@blt.d: Likewise.
	* gas/mips/micromips@@bltu.d: Likewise.
	* gas/mips/micromips@@branch-likely.d: Likewise.
	* gas/mips/micromips@@branch-misc-1.d: Likewise.
	* gas/mips/micromips@@branch-misc-2-64.d: Likewise.
	* gas/mips/micromips@@branch-misc-2.d: Likewise.
	* gas/mips/micromips@@branch-misc-2pic-64.d: Likewise.
	* gas/mips/micromips@@branch-misc-2pic.d: Likewise.
	* gas/mips/micromips@@branch-misc-4-64.d: Likewise.
	* gas/mips/micromips@@branch-misc-4.d: Likewise.
	* gas/mips/micromips@@branch-self.d: Likewise.
	* gas/mips/micromips@@cache.d: Likewise.
	* gas/mips/micromips@@daddi.d: Likewise.
	* gas/mips/micromips@@dli.d: Likewise.
	* gas/mips/micromips@@elf-jal.d: Likewise.
	* gas/mips/micromips@@elf-rel2.d: Likewise.
	* gas/mips/micromips@@elfel-rel2.d: Likewise.
	* gas/mips/micromips@@elf-rel4.d: Likewise.
	* gas/mips/micromips@@jal-svr4pic.d: Likewise.
	* gas/mips/micromips@@jal-svr4pic-noreorder.d: Likewise.
	* gas/mips/micromips@@lb-svr4pic-ilocks.d: Likewise.
	* gas/mips/micromips@@li.d: Likewise.
	* gas/mips/micromips@@loc-swap-dis.d: Likewise.
	* gas/mips/micromips@@loc-swap.d: Likewise.
	* gas/mips/micromips@@mips1-fp.d: Likewise.
	* gas/mips/micromips@@mips32-cp2.d: Likewise.
	* gas/mips/micromips@@mips32-imm.d: Likewise.
	* gas/mips/micromips@@mips32-sf32.d: Likewise.
	* gas/mips/micromips@@mips32.d: Likewise.
	* gas/mips/micromips@@mips32r2-cp2.d: Likewise.
	* gas/mips/micromips@@mips32r2-fp32.d: Likewise.
	* gas/mips/micromips@@mips32r2-sync.d: Likewise.
	* gas/mips/micromips@@mips32r2.d: Likewise.
	* gas/mips/micromips@@mips4-branch-likely.d: Likewise.
	* gas/mips/micromips@@mips4-fp.d: Likewise.
	* gas/mips/micromips@@mips4.d: Likewise.
	* gas/mips/micromips@@mips5.d: Likewise.
	* gas/mips/micromips@@mips64-cp2.d: Likewise.
	* gas/mips/micromips@@mips64.d: Likewise.
	* gas/mips/micromips@@mips64r2.d: Likewise.
	* gas/mips/micromips@@pref.d: Likewise.
	* gas/mips/micromips@@relax-at.d: Likewise.
	* gas/mips/micromips@@relax.d: Likewise.
	* gas/mips/micromips@@rol-hw.d: Likewise.
	* gas/mips/micromips@@uld2-eb.d: Likewise.
	* gas/mips/micromips@@uld2-el.d: Likewise.
	* gas/mips/micromips@@ulh2-eb.d: Likewise.
	* gas/mips/micromips@@ulh2-el.d: Likewise.
	* gas/mips/micromips@@ulw2-eb-ilocks.d: Likewise.
	* gas/mips/micromips@@ulw2-el-ilocks.d: Likewise.
	* gas/mips/cache.d: Likewise.
	* gas/mips/daddi.d: Likewise.
	* gas/mips/mips32-imm.d: Likewise.
	* gas/mips/pref.d: Likewise.
	* gas/mips/elf-rel27.d: Handle microMIPS ASE.
	* gas/mips/l_d.d: Likewise.
	* gas/mips/l_d-n32.d: Likewise.
	* gas/mips/l_d-n64.d: Likewise.
	* gas/mips/ld.d: Likewise.
	* gas/mips/ld-n32.d: Likewise.
	* gas/mips/ld-n64.d: Likewise.
	* gas/mips/s_d.d: Likewise.
	* gas/mips/s_d-n32.d: Likewise.
	* gas/mips/s_d-n64.d: Likewise.
	* gas/mips/sd.d: Likewise.
	* gas/mips/sd-n32.d: Likewise.
	* gas/mips/sd-n64.d: Likewise.
	* gas/mips/mips32.d: Update immediates.
	* gas/mips/micromips@@mips32-cp2.s: New test source.
	* gas/mips/micromips@@mips32-imm.s: Likewise.
	* gas/mips/micromips@@mips32r2-cp2.s: Likewise.
	* gas/mips/micromips@@mips64-cp2.s: Likewise.
	* gas/mips/cache.s: Likewise.
	* gas/mips/daddi.s: Likewise.
	* gas/mips/mips32-imm.s: Likewise.
	* gas/mips/elf-rel4.s: Handle microMIPS ASE.
	* gas/mips/lb-pic.s: Likewise.
	* gas/mips/ld.s: Likewise.
	* gas/mips/mips32.s: Likewise.
	* gas/mips/mips.exp: Add the micromips arch.  Exclude mips16e
	from micromips.  Run mips32-imm.

	* gas/mips/jal-mask-11.d: New test.
	* gas/mips/jal-mask-12.d: Likewise.
	* gas/mips/micromips@@jal-mask-11.d: Likewise.
	* gas/mips/jal-mask-1.s: Source for the new tests.
	* gas/mips/jal-mask-21.d: New test.
	* gas/mips/jal-mask-22.d: Likewise.
	* gas/mips/micromips@@jal-mask-12.d: Likewise.
	* gas/mips/jal-mask-2.s: Source for the new tests.
	* gas/mips/mips.exp: Run the new tests.

	* gas/mips/mips16-e.d: Add --special-syms to `objdump'.
	* gas/mips/tmips16-e.d: Likewise.
	* gas/mips/mipsel16-e.d: Likewise.
	* gas/mips/tmipsel16-e.d: Likewise.

	* gas/mips/and.s: Adjust padding.
	* gas/mips/beq.s: Likewise.
	* gas/mips/bge.s: Likewise.
	* gas/mips/bgeu.s: Likewise.
	* gas/mips/blt.s: Likewise.
	* gas/mips/bltu.s: Likewise.
	* gas/mips/branch-misc-2.s: Likewise.
	* gas/mips/jal.s: Likewise.
	* gas/mips/li.s: Likewise.
	* gas/mips/mips4.s: Likewise.
	* gas/mips/mips4-fp.s: Likewise.
	* gas/mips/relax.s: Likewise.
	* gas/mips/and.d: Update accordingly.
	* gas/mips/elf-jal.d: Likewise.
	* gas/mips/jal.d: Likewise.
	* gas/mips/li.d: Likewise.
	* gas/mips/relax-at.d: Likewise.
	* gas/mips/relax.d: Likewise.

include/elf/
2011-02-25  Chao-ying Fu  <fu@@mips.com>
            Maciej W. Rozycki  <macro@@codesourcery.com>

	* mips.h (R_MICROMIPS_min): New relocations.
	(R_MICROMIPS_26_S1): Likewise.
	(R_MICROMIPS_HI16, R_MICROMIPS_LO16): Likewise.
	(R_MICROMIPS_GPREL16, R_MICROMIPS_LITERAL): Likewise.
	(R_MICROMIPS_GOT16, R_MICROMIPS_PC7_S1): Likewise.
	(R_MICROMIPS_PC10_S1, R_MICROMIPS_PC16_S1): Likewise.
	(R_MICROMIPS_CALL16, R_MICROMIPS_GOT_DISP): Likewise.
	(R_MICROMIPS_GOT_PAGE, R_MICROMIPS_GOT_OFST): Likewise.
	(R_MICROMIPS_GOT_HI16, R_MICROMIPS_GOT_LO16): Likewise.
	(R_MICROMIPS_SUB, R_MICROMIPS_HIGHER): Likewise.
	(R_MICROMIPS_HIGHEST, R_MICROMIPS_CALL_HI16): Likewise.
	(R_MICROMIPS_CALL_LO16, R_MICROMIPS_SCN_DISP): Likewise.
	(R_MICROMIPS_JALR, R_MICROMIPS_HI0_LO16): Likewise.
	(R_MICROMIPS_TLS_GD, R_MICROMIPS_TLS_LDM): Likewise.
	(R_MICROMIPS_TLS_DTPREL_HI, R_MICROMIPS_TLS_DTPREL_LO): Likewise.
	(R_MICROMIPS_TLS_GOTTPREL): Likewise.
	(R_MICROMIPS_TLS_TPREL_HI16): Likewise.
	(R_MICROMIPS_TLS_TPREL_LO16): Likewise.
	(R_MICROMIPS_GPREL7_S2, R_MICROMIPS_PC23_S2): Likewise.
	(R_MICROMIPS_max): Likewise.
	(EF_MIPS_ARCH_ASE_MICROMIPS): New macro.
	(STO_MIPS_ISA, STO_MIPS_FLAGS): Likewise.
	(ELF_ST_IS_MIPS_PLT, ELF_ST_SET_MIPS_PLT): Likewise.
	(STO_MICROMIPS): Likewise.
	(ELF_ST_IS_MICROMIPS, ELF_ST_SET_MICROMIPS): Likewise.
	(ELF_ST_IS_COMPRESSED): Likewise.
	(STO_MIPS_PLT, STO_MIPS_PIC): Rework.
	(ELF_ST_IS_MIPS_PIC, ELF_ST_SET_MIPS_PIC): Likewise.
	(STO_MIPS16, ELF_ST_IS_MIPS16, ELF_ST_SET_MIPS16): Likewise.

include/opcode/
2011-02-25  Chao-ying Fu  <fu@@mips.com>
            Maciej W. Rozycki  <macro@@codesourcery.com>

	* mips.h (OP_MASK_EXTLSB, OP_SH_EXTLSB): New macros.
	(OP_MASK_STYPE, OP_SH_STYPE): Likewise.
	(OP_MASK_CODE10, OP_SH_CODE10): Likewise.
	(OP_MASK_TRAP, OP_SH_TRAP): Likewise.
	(OP_MASK_OFFSET12, OP_SH_OFFSET12): Likewise.
	(OP_MASK_OFFSET10, OP_SH_OFFSET10): Likewise.
	(OP_MASK_RS3, OP_SH_RS3): Likewise.
	(OP_MASK_MB, OP_SH_MB, OP_MASK_MC, OP_SH_MC): Likewise.
	(OP_MASK_MD, OP_SH_MD, OP_MASK_ME, OP_SH_ME): Likewise.
	(OP_MASK_MF, OP_SH_MF, OP_MASK_MG, OP_SH_MG): Likewise.
	(OP_MASK_MJ, OP_SH_MJ, OP_MASK_ML, OP_SH_ML): Likewise.
	(OP_MASK_MP, OP_SH_MP, OP_MASK_MQ, OP_SH_MQ): Likewise.
	(OP_MASK_IMMA, OP_SH_IMMA, OP_MASK_IMMB, OP_SH_IMMB): Likewise.
	(OP_MASK_IMMC, OP_SH_IMMC, OP_MASK_IMMF, OP_SH_IMMF): Likewise.
	(OP_MASK_IMMG, OP_SH_IMMG, OP_MASK_IMMH, OP_SH_IMMH): Likewise.
	(OP_MASK_IMMI, OP_SH_IMMI, OP_MASK_IMMJ, OP_SH_IMMJ): Likewise.
	(OP_MASK_IMML, OP_SH_IMML, OP_MASK_IMMM, OP_SH_IMMM): Likewise.
	(OP_MASK_IMMN, OP_SH_IMMN, OP_MASK_IMMO, OP_SH_IMMO): Likewise.
	(OP_MASK_IMMP, OP_SH_IMMP, OP_MASK_IMMQ, OP_SH_IMMQ): Likewise.
	(OP_MASK_IMMU, OP_SH_IMMU, OP_MASK_IMMW, OP_SH_IMMW): Likewise.
	(OP_MASK_IMMX, OP_SH_IMMX, OP_MASK_IMMY, OP_SH_IMMY): Likewise.
	(INSN_WRITE_GPR_S): New macro.
	(INSN2_BRANCH_DELAY_16BIT, INSN2_BRANCH_DELAY_32BIT): Likewise.
	(INSN2_READ_FPR_D): Likewise.
	(INSN2_MOD_GPR_MB, INSN2_MOD_GPR_MC): Likewise.
	(INSN2_MOD_GPR_MD, INSN2_MOD_GPR_ME): Likewise.
	(INSN2_MOD_GPR_MF, INSN2_MOD_GPR_MG): Likewise.
	(INSN2_MOD_GPR_MJ, INSN2_MOD_GPR_MP): Likewise.
	(INSN2_MOD_GPR_MQ, INSN2_MOD_SP): Likewise.
	(INSN2_READ_GPR_31, INSN2_READ_GP, INSN2_READ_PC): Likewise.
	(INSN2_UNCOND_BRANCH, INSN2_COND_BRANCH): Likewise.
	(INSN2_MOD_GPR_MHI, INSN2_MOD_GPR_MM, INSN2_MOD_GPR_MN): Likewise.
	(CPU_MICROMIPS): New macro.
	(M_BC1FL, M_BC1TL, M_BC2FL, M_BC2TL): New enum values.
	(M_BEQL, M_BGEZ, M_BGEZL, M_BGEZALL, M_BGTZ, M_BGTZL): Likewise.
	(M_BLEZ, M_BLEZL, M_BLTZ, M_BLTZL, M_BLTZALL, M_BNEL): Likewise.
	(M_CACHE_OB, M_JALS_1, M_JALS_2, M_JALS_A): Likewise.
	(M_LDC2_OB, M_LDL_OB, M_LDM_AB, M_LDM_OB): Likewise.
	(M_LDP_AB, M_LDP_OB, M_LDR_OB, M_LL_OB, M_LLD_OB): Likewise.
	(M_LWC2_OB, M_LWL_OB, M_LWM_AB, M_LWM_OB): Likewise.
	(M_LWP_AB, M_LWP_OB, M_LWR_OB): Likewise.
	(M_LWU_OB, M_PREF_OB, M_SC_OB, M_SCD_OB): Likewise.
	(M_SDC2_OB, M_SDL_OB, M_SDM_AB, M_SDM_OB): Likewise.
	(M_SDP_AB, M_SDP_OB, M_SDR_OB): Likewise.
	(M_SWC2_OB, M_SWL_OB, M_SWM_AB, M_SWM_OB): Likewise.
	(M_SWP_AB, M_SWP_OB, M_SWR_OB): Likewise.
	(MICROMIPSOP_MASK_MAJOR, MICROMIPSOP_SH_MAJOR): New macros.
	(MICROMIPSOP_MASK_IMMEDIATE, MICROMIPSOP_SH_IMMEDIATE): Likewise.
	(MICROMIPSOP_MASK_DELTA, MICROMIPSOP_SH_DELTA): Likewise.
	(MICROMIPSOP_MASK_CODE10, MICROMIPSOP_SH_CODE10): Likewise.
	(MICROMIPSOP_MASK_TRAP, MICROMIPSOP_SH_TRAP): Likewise.
	(MICROMIPSOP_MASK_SHAMT, MICROMIPSOP_SH_SHAMT): Likewise.
	(MICROMIPSOP_MASK_TARGET, MICROMIPSOP_SH_TARGET): Likewise.
	(MICROMIPSOP_MASK_EXTLSB, MICROMIPSOP_SH_EXTLSB): Likewise.
	(MICROMIPSOP_MASK_EXTMSBD, MICROMIPSOP_SH_EXTMSBD): Likewise.
	(MICROMIPSOP_MASK_INSMSB, MICROMIPSOP_SH_INSMSB): Likewise.
	(MICROMIPSOP_MASK_CODE, MICROMIPSOP_SH_CODE): Likewise.
	(MICROMIPSOP_MASK_CODE2, MICROMIPSOP_SH_CODE2): Likewise.
	(MICROMIPSOP_MASK_CACHE, MICROMIPSOP_SH_CACHE): Likewise.
	(MICROMIPSOP_MASK_SEL, MICROMIPSOP_SH_SEL): Likewise.
	(MICROMIPSOP_MASK_OFFSET12, MICROMIPSOP_SH_OFFSET12): Likewise.
	(MICROMIPSOP_MASK_3BITPOS, MICROMIPSOP_SH_3BITPOS): Likewise.
	(MICROMIPSOP_MASK_STYPE, MICROMIPSOP_SH_STYPE): Likewise.
	(MICROMIPSOP_MASK_OFFSET10, MICROMIPSOP_SH_OFFSET10): Likewise.
	(MICROMIPSOP_MASK_RS, MICROMIPSOP_SH_RS): Likewise.
	(MICROMIPSOP_MASK_RT, MICROMIPSOP_SH_RT): Likewise.
	(MICROMIPSOP_MASK_RD, MICROMIPSOP_SH_RD): Likewise.
	(MICROMIPSOP_MASK_FS, MICROMIPSOP_SH_FS): Likewise.
	(MICROMIPSOP_MASK_FT, MICROMIPSOP_SH_FT): Likewise.
	(MICROMIPSOP_MASK_FD, MICROMIPSOP_SH_FD): Likewise.
	(MICROMIPSOP_MASK_FR, MICROMIPSOP_SH_FR): Likewise.
	(MICROMIPSOP_MASK_RS3, MICROMIPSOP_SH_RS3): Likewise.
	(MICROMIPSOP_MASK_PREFX, MICROMIPSOP_SH_PREFX): Likewise.
	(MICROMIPSOP_MASK_BCC, MICROMIPSOP_SH_BCC): Likewise.
	(MICROMIPSOP_MASK_CCC, MICROMIPSOP_SH_CCC): Likewise.
	(MICROMIPSOP_MASK_COPZ, MICROMIPSOP_SH_COPZ): Likewise.
	(MICROMIPSOP_MASK_MB, MICROMIPSOP_SH_MB): Likewise.
	(MICROMIPSOP_MASK_MC, MICROMIPSOP_SH_MC): Likewise.
	(MICROMIPSOP_MASK_MD, MICROMIPSOP_SH_MD): Likewise.
	(MICROMIPSOP_MASK_ME, MICROMIPSOP_SH_ME): Likewise.
	(MICROMIPSOP_MASK_MF, MICROMIPSOP_SH_MF): Likewise.
	(MICROMIPSOP_MASK_MG, MICROMIPSOP_SH_MG): Likewise.
	(MICROMIPSOP_MASK_MH, MICROMIPSOP_SH_MH): Likewise.
	(MICROMIPSOP_MASK_MI, MICROMIPSOP_SH_MI): Likewise.
	(MICROMIPSOP_MASK_MJ, MICROMIPSOP_SH_MJ): Likewise.
	(MICROMIPSOP_MASK_ML, MICROMIPSOP_SH_ML): Likewise.
	(MICROMIPSOP_MASK_MM, MICROMIPSOP_SH_MM): Likewise.
	(MICROMIPSOP_MASK_MN, MICROMIPSOP_SH_MN): Likewise.
	(MICROMIPSOP_MASK_MP, MICROMIPSOP_SH_MP): Likewise.
	(MICROMIPSOP_MASK_MQ, MICROMIPSOP_SH_MQ): Likewise.
	(MICROMIPSOP_MASK_IMMA, MICROMIPSOP_SH_IMMA): Likewise.
	(MICROMIPSOP_MASK_IMMB, MICROMIPSOP_SH_IMMB): Likewise.
	(MICROMIPSOP_MASK_IMMC, MICROMIPSOP_SH_IMMC): Likewise.
	(MICROMIPSOP_MASK_IMMD, MICROMIPSOP_SH_IMMD): Likewise.
	(MICROMIPSOP_MASK_IMME, MICROMIPSOP_SH_IMME): Likewise.
	(MICROMIPSOP_MASK_IMMF, MICROMIPSOP_SH_IMMF): Likewise.
	(MICROMIPSOP_MASK_IMMG, MICROMIPSOP_SH_IMMG): Likewise.
	(MICROMIPSOP_MASK_IMMH, MICROMIPSOP_SH_IMMH): Likewise.
	(MICROMIPSOP_MASK_IMMI, MICROMIPSOP_SH_IMMI): Likewise.
	(MICROMIPSOP_MASK_IMMJ, MICROMIPSOP_SH_IMMJ): Likewise.
	(MICROMIPSOP_MASK_IMML, MICROMIPSOP_SH_IMML): Likewise.
	(MICROMIPSOP_MASK_IMMM, MICROMIPSOP_SH_IMMM): Likewise.
	(MICROMIPSOP_MASK_IMMN, MICROMIPSOP_SH_IMMN): Likewise.
	(MICROMIPSOP_MASK_IMMO, MICROMIPSOP_SH_IMMO): Likewise.
	(MICROMIPSOP_MASK_IMMP, MICROMIPSOP_SH_IMMP): Likewise.
	(MICROMIPSOP_MASK_IMMQ, MICROMIPSOP_SH_IMMQ): Likewise.
	(MICROMIPSOP_MASK_IMMU, MICROMIPSOP_SH_IMMU): Likewise.
	(MICROMIPSOP_MASK_IMMW, MICROMIPSOP_SH_IMMW): Likewise.
	(MICROMIPSOP_MASK_IMMX, MICROMIPSOP_SH_IMMX): Likewise.
	(MICROMIPSOP_MASK_IMMY, MICROMIPSOP_SH_IMMY): Likewise.
	(MICROMIPSOP_MASK_CODE, MICROMIPSOP_SH_CODE): Likewise.
	(MICROMIPSOP_MASK_CODE2, MICROMIPSOP_SH_CODE2): Likewise.
	(MICROMIPSOP_MASK_CACHE, MICROMIPSOP_SH_CACHE): Likewise.
	(MICROMIPSOP_MASK_CODE20, MICROMIPSOP_SH_CODE20): Likewise.
	(MICROMIPSOP_MASK_PERFREG, MICROMIPSOP_SH_PERFREG): Likewise.
	(MICROMIPSOP_MASK_CODE19, MICROMIPSOP_SH_CODE19): Likewise.
	(MICROMIPSOP_MASK_ALN, MICROMIPSOP_SH_ALN): Likewise.
	(MICROMIPSOP_MASK_VECBYTE, MICROMIPSOP_SH_VECBYTE): Likewise.
	(MICROMIPSOP_MASK_VECALIGN, MICROMIPSOP_SH_VECALIGN): Likewise.
	(MICROMIPSOP_MASK_DSPACC, MICROMIPSOP_SH_DSPACC): Likewise.
	(MICROMIPSOP_MASK_DSPACC_S, MICROMIPSOP_SH_DSPACC_S): Likewise.
	(MICROMIPSOP_MASK_DSPSFT, MICROMIPSOP_SH_DSPSFT): Likewise.
	(MICROMIPSOP_MASK_DSPSFT_7, MICROMIPSOP_SH_DSPSFT_7): Likewise.
	(MICROMIPSOP_MASK_SA3, MICROMIPSOP_SH_SA3): Likewise.
	(MICROMIPSOP_MASK_SA4, MICROMIPSOP_SH_SA4): Likewise.
	(MICROMIPSOP_MASK_IMM8, MICROMIPSOP_SH_IMM8): Likewise.
	(MICROMIPSOP_MASK_IMM10, MICROMIPSOP_SH_IMM10): Likewise.
	(MICROMIPSOP_MASK_WRDSP, MICROMIPSOP_SH_WRDSP): Likewise.
	(MICROMIPSOP_MASK_RDDSP, MICROMIPSOP_SH_RDDSP): Likewise.
	(MICROMIPSOP_MASK_BP, MICROMIPSOP_SH_BP): Likewise.
	(MICROMIPSOP_MASK_MT_U, MICROMIPSOP_SH_MT_U): Likewise.
	(MICROMIPSOP_MASK_MT_H, MICROMIPSOP_SH_MT_H): Likewise.
	(MICROMIPSOP_MASK_MTACC_T, MICROMIPSOP_SH_MTACC_T): Likewise.
	(MICROMIPSOP_MASK_MTACC_D, MICROMIPSOP_SH_MTACC_D): Likewise.
	(MICROMIPSOP_MASK_BBITIND, MICROMIPSOP_SH_BBITIND): Likewise.
	(MICROMIPSOP_MASK_CINSPOS, MICROMIPSOP_SH_CINSPOS): Likewise.
	(MICROMIPSOP_MASK_CINSLM1, MICROMIPSOP_SH_CINSLM1): Likewise.
	(MICROMIPSOP_MASK_SEQI, MICROMIPSOP_SH_SEQI): Likewise.
	(micromips_opcodes): New declaration.
	(bfd_micromips_num_opcodes): Likewise.

ld/testsuite/
2011-02-25  Catherine Moore  <clm@@codesourcery.com>
            Chao-ying Fu  <fu@@mips.com>
            Maciej W. Rozycki  <macro@@codesourcery.com>

	* lib/ld-lib.exp (run_dump_test): Support distinct assembler
	flags for the same source named multiple times.
	* ld-mips-elf/jalx-1.s: New test source.
	* ld-mips-elf/jalx-1.d: New test output.
	* ld-mips-elf/jalx-1.ld: New test linker script.
	* ld-mips-elf/jalx-2-main.s: New test source.
	* ld-mips-elf/jalx-2-ex.s: Likewise.
	* ld-mips-elf/jalx-2-printf.s: Likewise.
	* ld-mips-elf/jalx-2.dd: New test output.
	* ld-mips-elf/jalx-2.ld: New test linker script.
	* ld-mips-elf/mips16-and-micromips.d: New test.
	* ld-mips-elf/mips-elf.exp: Run the new tests

opcodes/
2011-02-25  Chao-ying Fu  <fu@@mips.com>
            Maciej W. Rozycki  <macro@@codesourcery.com>

	* micromips-opc.c: New file.
	* mips-dis.c (micromips_to_32_reg_b_map): New array.
	(micromips_to_32_reg_c_map, micromips_to_32_reg_d_map): Likewise.
	(micromips_to_32_reg_e_map, micromips_to_32_reg_f_map): Likewise.
	(micromips_to_32_reg_g_map, micromips_to_32_reg_l_map): Likewise.
	(micromips_to_32_reg_q_map): Likewise.
	(micromips_imm_b_map, micromips_imm_c_map): Likewise.
	(micromips_ase): New variable.
	(is_micromips): New function.
	(set_default_mips_dis_options): Handle microMIPS ASE.
	(print_insn_micromips): New function.
	(is_compressed_mode_p): Likewise.
	(_print_insn_mips): Handle microMIPS instructions.
	* Makefile.am (CFILES): Add micromips-opc.c.
	* configure.in (bfd_mips_arch): Add micromips-opc.lo.
	* Makefile.in: Regenerate.
	* configure: Regenerate.

	* mips-dis.c (micromips_to_32_reg_h_map): New variable.
	(micromips_to_32_reg_i_map): Likewise.
	(micromips_to_32_reg_m_map): Likewise.
	(micromips_to_32_reg_n_map): New macro.
@
text
@d1 13
@


1.1820
log
@Add initial Intel K1OM support.

bfd/

2011-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (ALL_MACHINES): Add cpu-k1om.lo.
	(ALL_MACHINES_CFILES): Add cpu-k1om.c.
	* Makefile.in: Regenerated.

	* archures.c (bfd_architecture): Add bfd_arch_k1om.
	(bfd_k1om_arch): New.
	(bfd_archures_list): Add &bfd_k1om_arch.
	* bfd-in2.h: Regenerated.

	* config.bfd (targ64_selvecs): Add bfd_elf64_k1om_vec if
	bfd_elf64_x86_64_vec is supported.  Add bfd_elf64_k1om_freebsd_vec
	if bfd_elf64_x86_64_freebsd_vec is supported.
	(targ_selvecs): Likewise.

	* configure.in: Support bfd_elf64_k1om_vec and
	bfd_elf64_k1om_freebsd_vec.
	* configure: Regenerated.

	* cpu-k1om.c: New.

	* elf64-x86-64.c (elf64_k1om_elf_object_p): New.
	(bfd_elf64_k1om_vec): Likewise.
	(bfd_elf64_k1om_freebsd_vec): Likewise.

	* targets.c (bfd_elf64_k1om_vec): New.
	(bfd_elf64_k1om_freebsd_vec): Likewise.
	(_bfd_target_vector): Add bfd_elf64_k1om_vec and
	bfd_elf64_k1om_freebsd_vec.

binutils/

2011-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* dwarf.c (init_dwarf_regnames): Handle EM_K1OM.

	* elfedit.c (elf_machine): Support EM_K1OM.
	(elf_class): Likewise.

	* readelf.c (guess_is_rela): Handle EM_K1OM.
	(dump_relocations): Likewise.
	(get_machine_name): Likewise.
	(get_section_type_name): Likewise.
	(get_elf_section_flags): Likewise.
	(process_section_headers): Likewise.
	(get_symbol_index_type): Likewise.
	(is_32bit_abs_reloc): Likewise.
	(is_32bit_pcrel_reloc): Likewise.
	(is_64bit_abs_reloc): Likewise.
	(is_64bit_pcrel_reloc): Likewise.
	(is_none_reloc): Likewise.

	* doc/binutils.texi: Mention K1OM for elfedit.

binutils/testsuite/

2011-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/elfedit.exp: Run elfedit-4.

	* binutils-all/elfedit-4.d: New.

gas/

2011-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (cpu_arch): Add k1om.
	(i386_align_code): Handle PROCESSOR_K1OM.
	(check_cpu_arch_compatible): Check EM_K1OM.
	(i386_arch): Handle Intel K1OM.
	(i386_mach): Return bfd_mach_k1om for Intel K1OM.
	(i386_target_format): Return ELF_TARGET_K1OM_FORMAT for Intel
	K1OM.

	* config/tc-i386.h (ELF_TARGET_K1OM_FORMAT): New.
	(processor_type): Add PROCESSOR_K1OM.

	* doc/c-i386.texi: Document k1om.

gas/testsuite/

2011-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/k1om.d: New.
	* gas/i386/k1om-inval.l: Likewise.
	* gas/i386/k1om-inval.s: Likewise.

	* gas/i386/i386.exp: Run k1om-inval and k1om.

include/elf/

2011-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* common.h (EM_K1OM): New.

ld/

2011-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (ALL_64_EMULATIONS): Add eelf_k1om.o and
	eelf_k1om_fbsd.o
	(eelf_k1om.c): New.
	(eelf_k1om_fbsd.c): Likewise.
	* Makefile.in: Regenerated.

	* configure.tgt (targ64_extra_emuls): Add elf_k1om if elf_x86_64
	is supported.  Add elf_k1om_fbsd if elf_x86_64_fbsd is supported.
	(targ_extra_emuls): Likewise.

	* emulparams/elf_k1om.sh: New.
	* emulparams/elf_k1om_fbsd.sh: Likewise.

ld/testsuite/

2011-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* ld-x86-64/abs-k1om.d: New.
	* ld-x86-64/protected2-k1om.d: Likewise.
	* ld-x86-64/protected3-k1om.d: Likewise.

	* ld-x86-64/x86-64.exp: Run abs-k1om, protected2-k1om and
	protected3-k1om.

opcodes/

2011-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* configure.in: Handle bfd_k1om_arch.
	* configure: Regenerated.

	* disassemble.c (disassembler): Handle bfd_k1om_arch.

	* i386-dis.c (print_insn): Handle bfd_mach_k1om and
	bfd_mach_k1om_intel_syntax.

	* i386-gen.c (cpu_flag_init): Set CPU_UNKNOWN_FLAGS to
	~(CpuL1OM|CpuK1OM).  Add CPU_K1OM_FLAGS.
	(cpu_flags): Add CpuK1OM.

	* i386-opc.h (CpuK1OM): New.
	(i386_cpu_flags): Add cpuk1om.

	* i386-init.h: Regenerated.
	* i386-tbl.h: Likewise.
@
text
@d1 6
@


1.1819
log
@	PR 12983
	* binutils/nm.c (display_file): Decompress debug sections when
	printing line numbers.
@
text
@d1 22
@


1.1818
log
@ELFOSABI_GNU

	bfd/
	* elf.c (_bfd_elf_set_osabi): Use ELFOSABI_GNU name instead of
	ELFOSABI_LINUX alias.
	* elf32-hppa.c: Likewise.
	* elf32-i370.c: Likewise.
	* elf64-hppa.c: Likewise.

	binutils/
	* elfedit.c (osabis): Use ELFOSABI_GNU name instead of ELFOSABI_LINUX
	alias and ELFOSABI_HURD.  Add GNU alias.
	* readelf.c (get_osabi_name, get_symbol_binding, get_symbol_type):
	Likewise.
	* doc/binutils.texi <elfedit>: Update accordingly.

	elfcpp/
	* elfcpp.h (ELFOSABI): Add ELFOSABI_GNU with value of ELFOSABI_LINUX,
	keep ELFOSABI_LINUX as an alias.  Remove ELFOSABI_HURD.

	gas/
	* config/obj-elf.c (obj_elf_type): Use ELFOSABI_GNU name instead of
	ELFOSABI_LINUX alias.
	* config/tc-ia64.c: Likewise.

	include/elf/
	* common.h (ELFOSABI_GNU): Define, replaces...
	(ELFOSABI_LINUX): ... this, kept as an alias.
	(ELFOSABI_HURD): Remove.

	ld/testsuite/
	* ld-ifunc/ifunc.exp: Update for changed output.
	* ld-unique/unique.exp: Likewise.
@
text
@d1 6
@


1.1817
log
@ELFOSABI_GNU

	bfd/
	* elf.c (_bfd_elf_set_osabi): Use ELFOSABI_GNU name instead of
	ELFOSABI_LINUX alias.
	* elf32-hppa.c: Likewise.
	* elf32-i370.c: Likewise.
	* elf64-hppa.c: Likewise.

	binutils/
	* elfedit.c (osabis): Use ELFOSABI_GNU name instead of ELFOSABI_LINUX
	alias and ELFOSABI_HURD.  Add GNU alias.
	* readelf.c (get_osabi_name, get_symbol_binding, get_symbol_type):
	Likewise.
	* doc/binutils.texi <elfedit>: Update accordingly.

	elfcpp/
	* elfcpp.h (ELFOSABI): Add ELFOSABI_GNU with value of ELFOSABI_LINUX,
	keep ELFOSABI_LINUX as an alias.  Remove ELFOSABI_HURD.

	gas/
	* config/obj-elf.c (obj_elf_type): Use ELFOSABI_GNU name instead of
	ELFOSABI_LINUX alias.
	* config/tc-ia64.c: Likewise.

	include/elf/
	* common.h (ELFOSABI_GNU): Define, replaces...
	(ELFOSABI_LINUX): ... this, kept as an alias.
	(ELFOSABI_HURD): Remove.

	ld/testsuite/
	* ld-ifunc/ifunc.exp: Update for changed output.
	* ld-unique/unique.exp: Likewise.
@
text
@d4 1
@


1.1816
log
@	PR binutils/12325
	* doc/binutils.texi (ar cmdline): Document --target, --version and
	--help command line options.
@
text
@d1 9
@


1.1815
log
@	PR binutils/12558
	* ar.c (main): When asked to move members in an archive that is
	being created, ignore the move request.
@
text
@d1 6
@


1.1814
log
@	* readelf.c (get_section_type_name): When displaying an unknown
	section type display the hex value first on the assumption that
	the full message will probably be truncated into a 15 character
	field.
@
text
@d1 6
@


1.1813
log
@	* dwarf2.h (enum dwarf_location_atom): Add DW_OP_GNU_parameter_ref.

	* dwarf.c (decode_location_expression): For DW_OP_GNU_convert and
	DW_OP_GNU_reinterpret, if uvalue is 0, don't add cu_offset.
	Handle DW_OP_GNU_parameter_ref.
@
text
@d1 7
@


1.1812
log
@	* dwarf-mode.el (dwarf-do-insert-substructure): Call
	expand-file-name.
	(dwarf-do-refresh): Likewise.
@
text
@d1 6
@


1.1811
log
@include/elf/
	* common.h (NT_ARM_VFP): Define.

bfd/
	* elf-bfd.h (elfcore_write_arm_vfp): Add prototype.
	* elf.c (elfcore_grok_arm_vfp): New function.
	(elfcore_grok_note): Call it to handle NT_ARM_VFP notes.
	(elfcore_write_arm_vfp): New function.
	(elfcore_write_register_note): Call it to handle .reg-arm-vfp.

binutils/
	* readelf.c (get_note_type): Handle NT_ARM_VFP.
@
text
@d1 6
@


1.1810
log
@    * Makefile.am (ALL_MACHINES): Add cpu-tilegx.lo and cpu-tilepro.lo.
    (ALL_MACHINE_CFILES): Add cpu-tilegx.c and cpu-tilepro.c.
    (BFD32_BACKENDS): Add elf32-tilegx.lo, elf32-tilepro.lo,
    and elfxx-tilegx.lo.
    (BFD32_BACKENDS_CFILES): Add elf32-tilegx.c elf32-tilepro.c, and
    elfxx-tilegx.c.
    (BFD64_BACKENDS): Add elf64-tilegx.lo.
    (BFD64_BACKENDS_CFILES): Add elf64-tilegx.c.
    * Makefile.in: Regenerate.
    * arctures.c (bfd_architecture): Define bfd_arch_tilepro,
    bfd_arch_tilegx, bfd_mach_tilepro, bfd_mach_tilegx.
    (bfd_arch_info): Add bfd_tilegx_arch, bfd_tilepro_arch.
    (bfd_archures_list): Add bfd_tilegx_arch, bfd_tilepro_arch.
    bfd-in2.h: Regenerate.
    * config.bfd: Handle tilegx-*-* and tilepro-*-*.
    * configure.in: Handle bfd_elf32_tilegx_vec, bfd_elf32_tilepro_vec,
    and bfd_elf64_tilegx_vec.
    * configure: Regenerate.
    * elf-bfd.h (enum elf_target_id): Define TILEGX_ELF_DATA and
    TILEPRO_ELF_DATA.
    * libbfd.h: Regenerate.
    * reloc.c: Add BFD_RELOC_TILEPRO_{COPY, GLOB_DAT, JMP_SLOT,
    RELATIVE, BROFF_X1, JOFFLONG_X1, JOFFLONG_X1_PLT, IMM8_X0,
    IMM8_Y0, IMM8_X1, IMM8_Y1, DEST_IMM8_X1, MT_IMM15_X1, MF_IMM15_X1,
    IMM16_X0, IMM16_X1, IMM16_X0_LO, IMM16_X1_LO, IMM16_X0_HI,
    IMM16_X1_HI, IMM16_X0_HA, IMM16_X1_HA, IMM16_X0_PCREL,
    IMM16_X1_PCREL, IMM16_X0_LO_PCREL, IMM16_X1_LO_PCREL,
    IMM16_X0_HI_PCREL, IMM16_X1_HI_PCREL, IMM16_X0_HA_PCREL,
    IMM16_X1_HA_PCREL, IMM16_X0_GOT, IMM16_X1_GOT, IMM16_X0_GOT_LO,
    IMM16_X1_GOT_LO, IMM16_X0_GOT_HI, IMM16_X1_GOT_HI,
    IMM16_X0_GOT_HA, IMM16_X1_GOT_HA, MMSTART_X0, MMEND_X0,
    MMSTART_X1, MMEND_X1, SHAMT_X0, SHAMT_X1, SHAMT_Y0, SHAMT_Y1,
    IMM16_X0_TLS_GD, IMM16_X1_TLS_GD, IMM16_X0_TLS_GD_LO,
    IMM16_X1_TLS_GD_LO, IMM16_X0_TLS_GD_HI, IMM16_X1_TLS_GD_HI,
    IMM16_X0_TLS_GD_HA, IMM16_X1_TLS_GD_HA, IMM16_X0_TLS_IE,
    IMM16_X1_TLS_IE, IMM16_X0_TLS_IE_LO, IMM16_X1_TLS_IE_LO,
    IMM16_X0_TLS_IE_HI, IMM16_X1_TLS_IE_HI, IMM16_X0_TLS_IE_HA,
    IMM16_X1_TLS_IE_HA, TLS_DTPMOD32, TLS_DTPOFF32, TLS_TPOFF32}
    Add BFD_RELOC_TILEGX_{HW0, HW1, HW2, HW3, HW0_LAST, HW1_LAST,
    HW2_LAST, COPY, GLOB_DAT, JMP_SLOT, RELATIVE, BROFF_X1,
    JUMPOFF_X1, JUMPOFF_X1_PLT, IMM8_X0, IMM8_Y0, IMM8_X1, IMM8_Y1,
    DEST_IMM8_X1, MT_IMM14_X1, MF_IMM14_X1, MMSTART_X0, MMEND_X0,
    SHAMT_X0, SHAMT_X1, SHAMT_Y0, SHAMT_Y1, IMM16_X0_HW0,
    IMM16_X1_HW0, IMM16_X0_HW1, IMM16_X1_HW1, IMM16_X0_HW2,
    IMM16_X1_HW2, IMM16_X0_HW3, IMM16_X1_HW3, IMM16_X0_HW0_LAST,
    IMM16_X1_HW0_LAST, IMM16_X0_HW1_LAST, IMM16_X1_HW1_LAST,
    IMM16_X0_HW2_LAST, IMM16_X1_HW2_LAST, IMM16_X0_HW0_PCREL,
    IMM16_X1_HW0_PCREL, IMM16_X0_HW1_PCREL, IMM16_X1_HW1_PCREL,
    IMM16_X0_HW2_PCREL, IMM16_X1_HW2_PCREL, IMM16_X0_HW3_PCREL,
    IMM16_X1_HW3_PCREL, IMM16_X0_HW0_LAST_PCREL,
    IMM16_X1_HW0_LAST_PCREL, IMM16_X0_HW1_LAST_PCREL,
    IMM16_X1_HW1_LAST_PCREL, IMM16_X0_HW2_LAST_PCREL,
    IMM16_X1_HW2_LAST_PCREL, IMM16_X0_HW0_GOT, IMM16_X1_HW0_GOT,
    IMM16_X0_HW1_GOT, IMM16_X1_HW1_GOT, IMM16_X0_HW2_GOT,
    IMM16_X1_HW2_GOT, IMM16_X0_HW3_GOT, IMM16_X1_HW3_GOT,
    IMM16_X0_HW0_LAST_GOT, IMM16_X1_HW0_LAST_GOT,
    IMM16_X0_HW1_LAST_GOT, IMM16_X1_HW1_LAST_GOT,
    IMM16_X0_HW2_LAST_GOT, IMM16_X1_HW2_LAST_GOT, IMM16_X0_HW0_TLS_GD,
    IMM16_X1_HW0_TLS_GD, IMM16_X0_HW1_TLS_GD, IMM16_X1_HW1_TLS_GD,
    IMM16_X0_HW2_TLS_GD, IMM16_X1_HW2_TLS_GD, IMM16_X0_HW3_TLS_GD,
    IMM16_X1_HW3_TLS_GD, IMM16_X0_HW0_LAST_TLS_GD,
    IMM16_X1_HW0_LAST_TLS_GD, IMM16_X0_HW1_LAST_TLS_GD,
    IMM16_X1_HW1_LAST_TLS_GD, IMM16_X0_HW2_LAST_TLS_GD,
    IMM16_X1_HW2_LAST_TLS_GD, IMM16_X0_HW0_TLS_IE,
    IMM16_X1_HW0_TLS_IE, IMM16_X0_HW1_TLS_IE, IMM16_X1_HW1_TLS_IE,
    IMM16_X0_HW2_TLS_IE, IMM16_X1_HW2_TLS_IE, IMM16_X0_HW3_TLS_IE,
    IMM16_X1_HW3_TLS_IE, IMM16_X0_HW0_LAST_TLS_IE,
    IMM16_X1_HW0_LAST_TLS_IE, IMM16_X0_HW1_LAST_TLS_IE,
    IMM16_X1_HW1_LAST_TLS_IE, IMM16_X0_HW2_LAST_TLS_IE,
    IMM16_X1_HW2_LAST_TLS_IE, TLS_DTPMOD64, TLS_DTPOFF64, TLS_TPOFF64,
    TLS_DTPMOD32, TLS_DTPOFF32, TLS_TPOFF32}
    * targets.c (bfd_elf32_tilegx_vec): Declare.
    (bfd_elf32_tilepro_vec): Declare.
    (bfd_elf64_tilegx_vec): Declare.
    (bfd_target_vector): Add bfd_elf32_tilegx_vec, bfd_elf32_tilepro_vec,
    and bfd_elf64_tilegx_vec.
    * cpu-tilegx.c: New file.
    * cpu-tilepro.c: New file.
    * elf32-tilepro.h: New file.
    * elf32-tilepro.c: New file.
    * elf32-tilegx.c: New file.
    * elf32-tilegx.h: New file.
    * elf64-tilegx.c: New file.
    * elf64-tilegx.h: New file.
    * elfxx-tilegx.c: New file.
    * elfxx-tilegx.h: New file.

	* Makefile.am (TARGET_CPU_CFILES): Add config/tc-tilegx.c and
	config/tc-tilepro.c.
	(TARGET_CPU_HFILES): Add config/tc-tilegx.h and
	config/tc-tilepro.h.
	* Makefile.in: Regenerate.
	* configure.tgt (tilepro-*-*): New.
	(tilegx-*-*): Likewise.
	* config/tc-tilegx.c: New file.
	* config/tc-tilegx.h: Likewise.
	* config/tc-tilepro.h: Likewise.
	* config/tc-tilepro.c: Likewise.
	* doc/Makefile.am (CPU_DOCS): Add c-tilegx.texi and
	c-tilepro.texi.
	* doc/Makefile.in: Regenerate.
	* doc/all.texi (TILEGX): Define.
	(TILEPRO): Define.
	* doc/as.texinfo: Add Tile-Gx and TILEPro documentation.  Include
	c-tilegx.texi and c-tilepro.texi.
	* doc/c-tilegx.texi: New.
	* doc/c-tilepro.texi: New.

        * gas/tilepro/t_constants.s: New file.
	* gas/tilepro/t_constants.d: Likewise.
	* gas/tilepro/t_insns.s: Likewise.
	* gas/tilepro/tilepro.exp: Likewise.
	* gas/tilepro/t_insns.d: Likewise.
	* gas/tilegx/tilegx.exp: Likewise.
	* gas/tilegx/t_insns.d: Likewise.
	* gas/tilegx/t_insns.s: Likewise.

	* dis-asm.h (print_insn_tilegx): Declare.
	(print_insn_tilepro): Likewise.

	* tilegx.h: New file.
	* tilepro.h: New file.

	* common.h: Add EM_TILEGX.
	* tilegx.h: New file.
	* tilepro.h: New file.

	* Makefile.am (ALL_EMULATION_SOURCES): Add eelf32tilegx.c and
	eelf32tilepro.c.
	(ALL_64_EMULATION_SOURCES): Add eelf64tilegx.c.
	(eelf32tilegx.c): New target.
	(eelf32tilepro.c): Likewise.
	(eelf64tilegx.c): Likewise.
	* Makefile.in: Regenerate.
	* configure.tgt: Handle tilegx-*-* and tilepro-*-*.
	* emulparams/elf32tilegx.sh: New file.
	* emulparams/elf64tilegx.sh: New file.
	* emulparams/elf32tilepro.sh: New file.

	* ld-elf/eh5.d: Don't run on tile*.
	* ld-srec/srec.exp: xfail on tile*.
	* ld-tilegx/external.s: New file.
	* ld-tilegx/reloc.d: New file.
	* ld-tilegx/reloc.s: New file.
	* ld-tilegx/tilegx.exp: New file.
	* ld-tilepro/external.s: New file.
	* ld-tilepro/reloc.d: New file.
	* ld-tilepro/reloc.s: New file.
	* ld-tilepro/tilepro.exp: New file.

	* Makefile.am (TARGET_LIBOPCODES_CFILES): Add tilegx-dis.c,
	tilegx-opc.c, tilepro-dis.c, and tilepro-opc.c.
	* Makefile.in: Regenerate.
	* configure.in: Handle bfd_tilegx_arch and bfd_tilepro_arch.
	* configure: Regenerate.
	* disassemble.c (disassembler): Add ARCH_tilegx and ARCH_tilepro.
	* po/POTFILES.in: Regenerate.
	* tilegx-dis.c: New file.
	* tilegx-opc.c: New file.
	* tilepro-dis.c: New file.
	* tilepro-opc.c: New file.
@
text
@d1 4
@


1.1809
log
@2011-06-09  Tristan Gingold  <gingold@@adacore.com>

	* od-xcoff.c (xcoff32_read_symbols): Allow missing string table
	length.
@
text
@d1 11
@


1.1808
log
@	PR binutils/12855
	* readelf.c (process_version_sections): Handle binaries containing
	corrupt version information.
	(process_symbol_table): Stop processing a symbol's version
	information if it could not be read in.

	(get_data): Add comment describing the function.
	(process_section_headers): Set dynamic_strings_length to 0 if the
	dynamic strings could not be read in.
	(process_dynamic_section): Likewise.
	(process_section_groups): Stop processing the group information if
	the data could not be read in.
	(hppa_processs_unwind): Assert that there is only one string table
	in the file.
	(arm_process_unwind): Likewise.
	(ia64_process_unwind): Likewise.
	Set the size of the unwind auxillary information to 0 if the data
	could not be read.
	(load_specific_debug_section): Handle a failure to read in the
	section.
	(process_mips_specific): Stop display of the PLT GOT section if it
	could not be read in.
@
text
@d1 5
@


1.1807
log
@2011-06-08  Tristan Gingold  <gingold@@adacore.com>

	* makefile.vms (DEFS): Define OBJDUMP_PRIVATE_VECTORS.
@
text
@d1 25
@


1.1806
log
@	* dwarf.c: Fix conversion to TU number.
@
text
@d1 4
@


1.1805
log
@Fix spelling mistakes.
@
text
@d1 4
@


1.1804
log
@	* MAINTAINERS: Update my email address.
@
text
@d1 9
@


1.1803
log
@	PR binutils/12820
	* configure.in (BUILD_INSTALL_MISC): Only add embedspu once.
	* configure: Regenerate.
@
text
@d1 4
@


1.1802
log
@	PR binutils/12820
	* Makefile.am (bin_PROGRAMS): Move BUILD_INSTALL_MISC to..
	(bin_SCRIPTS): ..here.
	(EXTRA_SCRIPTS): Define.
	(EXTRA_DIST): Add embedspu.sh.
	(DISTCLEANFILES): Add embedspu.
	(embedspu): Depend on Makefile.  Replace sed "s" command with "c".
	* Makefile.in: Regenerate.
@
text
@d1 5
@


1.1801
log
@	* dwarf.c (loc_offsets): New variable.
	(loc_offsets_compar): New routine.
	(display_debug_loc): Handle loc_offsets not being in ascending order
	and also a single .debug_loc entry being used multiple times.
@
text
@d1 11
@


1.1800
log
@	PR binutils/12753
	* nm.c (filter_symbols): Treat unique symbols as global symbols.
	* doc/binutils.texi (nm): Mention that some lowercase letters
	actually indicate global symbols.

	* lib/utils-lib.exp (run_dump_test): Allow nm as a program.
	* binutils-all/nm.exp: Test running "nm -g" on an object file
	containing a unique symbol.
@
text
@d1 7
@


1.1799
log
@Missing entry.

2011-05-15  Tristan Gingold  <gingold@@adacore.com>

	* od-xcoff.c: New file.
	* objdump.h: New file.
	* objdump.c: Include objdump.h
	(dump_private_options, objdump_private_vectors): New variables.
	(usage): Mention -P/--private.  Display handled options.
	(long_options): Add -P/--private.
	(dump_target_specific): New function.
	(dump_bfd): Handle dump_private_options.
	(main): Handle -P.
	* doc/binutils.texi (objdump): Document -P/--private.
	* configure.in (OBJDUMP_PRIVATE_VECTORS, OBJDUMP_PRIVATE_OFILES):
	New variables, compute them.
	(od_vectors): Add vectors for private dumpers. Make them uniq.
	(OBJDUMP_DEFS): Add OBJDUMP_PRIVATE_VECTORS.
	* Makefile.am (HFILES): Add objdump.h
	(CFILES): Add od-xcoff.c
	(OBJDUMP_PRIVATE_OFILES): New variable.
	(objdump_DEPENDENCIES): Append OBJDUMP_PRIVATE_OFILES.
	(objdump_LDADD): Ditto.
	(EXTRA_objdump_SOURCES): Define.
	* Makefile.in: Regenerate.
	* configure: Regenerate.
@
text
@d1 7
@


1.1798
log
@2011-05-10  Tristan Gingold  <gingold@@adacore.com>

	* dwarf.c (process_extended_line_op): Dump unknown records.
@
text
@d1 25
@


1.1797
log
@Mention	PR binutils/12632 in ChangeLog.
@
text
@d1 4
@


1.1796
log
@	* objcopy.c (copy_archive): Check bfd_openw result in unknown object
	case.  Rewrite without goto.
@
text
@d3 1
@


1.1795
log
@	* dwarf.c (decode_location_expression): Handle DW_OP_GNU_const_type,
	DW_OP_GNU_regval_type, DW_OP_GNU_deref_type, DW_OP_GNU_convert
	and DW_OP_GNU_reinterpret.
@
text
@d1 5
@


1.1794
log
@	* MAINTAINERS: Add myself as DWARF2 maintainer.
@
text
@d3 4
@


1.1793
log
@	PR binutils/12720
	Revert the following change
	Michael Snyder  <msnyder@@vmware.com>
	* ar.c (move_members): Plug memory leak.
	(delete_members): Plug memory leak.
@
text
@d1 4
@


1.1792
log
@	* NEWS: Add note about --dwarf-depth, --dwarf-start, and
	dwarf-mode.el.
	* objdump.c (suppress_bfd_header): New global.
	(usage): Update.
	(OPTION_DWARF_DEPTH, OPTION_DWARF_START): New constants.
	(options): Add dwarf-depth and dwarf-start entries.
	(dump_bfd): Use suppress_bfd_header.
	(main): Handle OPTION_DWARF_START, OPTION_DWARF_DEPTH.
	* doc/binutils.texi (objcopy): Document --dwarf-depth and
	--dwarf-start.
	(readelf): Likewise.
	* dwarf-mode.el: New file.
	* dwarf.c (dwarf_cutoff_level, dwarf_start_die): New globals.
	(read_and_display_attr_value): Also check debug_info_p.
	(process_debug_info): Handle dwarf_start_die and
	dwarf_cutoff_level.
	* dwarf.h (dwarf_cutoff_level, dwarf_start_die): Declare.
	* readelf.c (usage): Update.
	(OPTION_DWARF_DEPTH): New macro.
	(OPTION_DWARF_START): Likewise.
	(options): Add dwarf-depth and dwarf-start entries.
	(parse_args): Handle OPTION_DWARF_START and OPTION_DWARF_DEPTH.
testsuite
	* binutils-all/objdump.W: Correct output.
@
text
@d1 8
@


1.1791
log
@binutils/
	* dwarf.c (display_gdb_index): Support version 5, warn on version 4.
@
text
@d1 25
@


1.1790
log
@2011-04-27  Tristan Gingold  <gingold@@adacore.com>

        * dwarf.c (process_extended_line_op): Handle
        DW_LNE_HP_source_file_correlation.
@
text
@d1 4
@


1.1789
log
@Updated Danish, Esperanto and French translations.
@
text
@d1 5
@


1.1788
log
@	* readelf.c (print_stapsdt_note): New function.
	(process_note): Use it.
@
text
@d1 4
@


1.1787
log
@	* readelf.c (get_stapsdt_note_type): New function.
	(process_note): Recognize "stapsdt" notes.
@
text
@d3 5
@


1.1786
log
@	* readelf.c (process_corefile_note_segment): Change header field
	widths.
	(process_note): Change field widths.
@
text
@d3 5
@


1.1785
log
@	* readelf.c (print_gnu_note): New function.
	(process_note): Use it.
@
text
@d3 6
@


1.1784
log
@	* MAINTAINERS: Update my email address.
@
text
@d1 5
@


1.1783
log
@Adjust broken ChangeLog entry
@
text
@d1 4
@


1.1782
log
@	* windres.c (usage): Add new --preprocessor-arg option.
	(option_values): Add new OPTION_PREPROCESSOR_ARG enumerator.
	(option long_options): Add preprocessor-arg option.
	(main): Handle it.
	* doc/binutils.texi: Add documentation for --preprocessor-arg
	option.
	* NEWS: Add line about new --preprocessor-arg option for windres.

	* binutils-all/windres/windres.exp: Add '// cpparg <option>' command
	to rc file interpretation to specify addition pre-processor commands
	as script option.
	* binutils-all/windres/strtab3.rc: New.
	* binutils-all/windres/strtab3.rsd: New.
	* binutils-all/windres/README: Add note about cpparg script option.
	argument
@
text
@d1 1
a1 1
2011-04-11  Kai Tietz
@


1.1781
log
@	* arlex.l: Prevent redefinition of YY_NO_UNPUT.
	* syslex.l: Likewise.
@
text
@d1 10
@


1.1780
log
@2011-04-07  Paul Brook  <paul@@codesourcery.com>

	binutils/
	* readelf.c (arm_section_get_word): Handle C6000 relocations.
	(decode_tic6x_unwind_regmask, decode_arm_unwind_bytecode,
	decode_tic6x_unwind_bytecode, expand_prel31): New functions.
	(decode_arm_unwind): Split out common code from ARM specific bits.
	(dump_arm_unwind): Use expand_prel31.
	(arm_process_unwind): Handle SHT_C6000_UNWIND sections.
	(process_unwind): Add SHT_C6000_UNWIND.
@
text
@d1 5
@


1.1779
log
@bfd:
	* config.bfd (thumb-*-oabi): Don't handle in list of obsolete
	targets.
	(strongarm*, thumb*, xscale*): Remove architectures.
	(strongarm-*-kaos*, thumb-*-coff, thumb-*-elf, thumb-epoc-pe*,
	thumb-*-pe*, strongarm-*-elf, strongarm-*-coff, xscale-*-elf,
	xscale-*-coff): Remove targets.

binutils:
	* configure.in (thumb-*-pe*): Remove.
	* configure: Regenerate.

binutils/testsuite:
	* binutils-all/objcopy.exp (*arm*-*-coff): Change to arm*-*-coff.
	(xscale-*-coff, thumb*-*-coff, thumb*-*-pe): Don't handle.

gas:
	* configure.tgt (strongarm*be, strongarm*b, strongarm*,
	xscale*be|xscale*b, xscale*): Remove architectures.
	(thumb-*-coff, thumb-*-rtems*, thumb-*-elf, thumb-epoc-pe,
	thumb-*-pe, xscale-*-coff, xscale-*-elf): Remove targets.

gas/testsuite:
	* gas/all/gas.exp (*arm*-*-coff): Change to arm*-*-coff.
	(thumb*-*-coff, thumb*-*-pe*): Don;t handle.
	* gas/arm/arm.exp (*arm*-*-*): Change to arm*-*-*.
	(*xscale*-*-*): Don't handle.
	* gas/cfi/cfi.exp (xscale*-*): Don't handle.
	* gas/elf/elf.exp (*arm*-*-*): Change to arm*-*-*.
	(xscale*-*-*): Don't handle.

ld:
	* configure.tgt (thumb-*-linux-* | thumb-*-uclinux*,
	strongarm-*-coff, strongarm-*-elf, strongarm-*-kaos*,
	thumb-*-coff, thumb-*-elf, thumb-epoc-pe, thumb-*-pe,
	xscale-*-coff, xscale-*-elf): Remove targets.

ld/testsuite:
	* ld-selective/selective.exp (xscale-*-*): Don't handle.
	* ld-srec/srec.exp (strongarm*-*-*, xscale*-*-*, thumb-*-*): Don't
	handle.
	(*arm*-*-*): Change to arm*-*-*.
	(strongarm*-*-coff, xscale*-*-coff, thumb-*-coff*, thumb-*-pe*,
	thumb-*-elf*, strongarm*-*-*, thumb-*-*): Remove xfails.
	* ld-undefined/undefined.exp (thumb*-*-pe*, thumb*-*-pe*): Remove
	commented-out xfails.
	(thumb-elf): Remove reference in comment.
	* lib/ld-lib.exp (strongarm*-*-*, xscale*-*-*, thumb-*-*): Don't
	handle.
@
text
@d1 10
@


1.1778
log
@Add missing ChangeLog entry
@
text
@d1 5
@


1.1777
log
@Make the unknown archive element readable.

2011-04-03  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/12632
	* objcopy.c (copy_unknown_object): Make the archive element
	readable.
@
text
@d1 4
@


1.1776
log
@binutils/

	* objdump.c (dump_reloc_set): Output R_SPARC_OLO10 relocations
	accurately, rather than how they are represented internally.
@
text
@d1 6
@


1.1775
log
@bfd/
2011-03-31  Tristan Gingold  <gingold@@adacore.com>

	* makefile.vms (DEFS): Add HAVE_bfd_elf64_ia64_vms_vec.
	* configure.com: Set BFD_HOST_64BIT_LONG_LONG and
	BFD_HOST_LONG_LONG to 1.

binutils/
2011-03-31  Tristan Gingold  <gingold@@adacore.com>

	* makefile.vms (readelf.exe): New target.
@
text
@d1 5
@


1.1774
log
@bfd/
2011-03-31  Tristan Gingold  <gingold@@adacore.com>

	* vms-alpha.c (vms_get_remaining_object_record): Fix dec-c warning.
	(_bfd_vms_write_etir): Ditto.
	(_bfd_vms_slurp_etir): Avoid to use intptr_t
	* configure.com: Generate bfd_stdint.h

binutils/
2011-03-31  Tristan Gingold  <gingold@@adacore.com>

	* makefile.vms (DEBUG_OBJS): Add elfcomm.obj.

libiberty/
2011-03-31  Tristan Gingold  <gingold@@adacore.com>

	* makefile.vms (OBJS): Add filename_cmp.obj
@
text
@d3 4
@


1.1773
log
@include/elf/
	* tic6x.h (R_C6000_JUMP_SPLOT, R_C6000_EHTYPE,
	R_C6000_PCR_H16, R_C6000_PCR_L16): New relocs.
	(SHN_TIC6X_SCOMMON): Define.

bfd/
	* elf32-tic6x.h (struct elf32_tic6x_params): New.
	(elf32_tic6x_setup): Declare.
	* elf32-tic6x.c: Include <limits.h>.
	(ELF_DYNAMIC_LINKER, DEFAULT_STACK_SIZE, PLT_ENTRY_SIZE): Define.
	(struct elf32_tic6x_link_hash_table, struct elf32_link_hash_entry):
	New structures.
	(elf32_tic6x_link_hash_table, is_tic6x_elf): New macros.
	(tic6x_elf_scom_section, tic6x_elf_scom_symbol,
	tic6x_elf_scom_symbol_ptr): New static variables.
	(elf32_tic6x_howto_table, elf32_tic6x_howto_table_rel,
	elf32_tic6x_reloc_map): Add R_C6000_JUMP_SLOT, R_C6000_EHTYPE,
	R_C6000_PCR_H16 and R_C6000_PCR_L16.
	(elf32_tic6x_link_hash_newfunc, elf32_tic6x_link_hash_table_create,
	elf32_tic6x_link_hash_table_free, elf32_tic6x_setup,
	elf32_tic6x_using_dsbt, elf32_tic6x_install_rela,
	elf32_tic6x_create_dynamic_sections, elf32_tic6x_make_got_dynreloc,
	elf32_tic6x_finish_dynamic_symbol, elf32_tic6x_gc_sweep_hook,
	elf32_tic6x_adjust_dynamic_symbol): New static functions.
	(elf32_tic6x_relocate_section): For R_C6000_PCR_S21, convert branches
	to weak symbols as required by the ABI.
	Handle GOT and DSBT_INDEX relocs, and copy relocs to the output file
	as needed when generating DSBT output.
	(elf32_tic6x_check_relocs, elf32_tic6x_add_symbol_hook,
	elf32_tic6x_symbol_processing, elf32_tic6x_section_from_bfd_section,
	elf32_tic6x_allocate_dynrelocs, elf32_tic6x_size_dynamic_sections,
	elf32_tic6x_always_size_sections, elf32_tic6x_modify_program_headers,
	elf32_tic6x_finish_dynamic_sections, elf32_tic6x_plt_sym_val,
	elf32_tic6x_copy_private_data, elf32_tic6x_link_omit_section_dynsym):
	New static functions.
	(ELF_MAXPAGESIZE): Define to 0x1000.
	(bfd_elf32_bfd_copy_private_bfd_data,
	bfd_elf32_bfd_link_hash_table_create,
	bfd_elf32_bfd_link_hash_table_free, elf_backend_can_refcount,
	elf_backend_want_got_plt, elf_backend_want_dynbss,
	elf_backend_plt_readonly, elf_backend_got_header_size,
	elf_backend_gc_sweep_hook, elf_backend_modify_program_headers,
	elf_backend_create_dynamic_sections, elf_backend_adjust_dynamic_symbol,
	elf_backend_check_relocs, elf_backend_add_symbol_hook,
	elf_backend_symbol_processing, elf_backend_link_output_symbol_hook,
	elf_backend_section_from_bfd_section,
	elf_backend_finish_dynamic_symbol, elf_backend_always_size_sections,
	elf32_tic6x_size_dynamic_sections, elf_backend_finish_dynamic_sections,
	elf_backend_omit_section_dynsym, elf_backend_plt_sym_val): Define.

	* bfd/reloc.c (BFD_RELOC_C6000_JUMP_SLOT, BFD_RELOC_C6000_EHTYPE,
	BFD_RELOC_C6000_PCR_H16, BFD_RELOC_C6000_PCR_S16): Add.
	* bfd/bfd-in2.h: Regenerate.
	* bfd/libbfd.h: Regenerate.
	* config.bfd: Accept tic6x-*-* instead of tic6x-*-elf.

gas/
	* config/tc-tic6x.c (sbss_section, scom_section, scom_symbol): New
	static variables.
	(md_begin): Initialize them.
	(s_tic6x_scomm): New static function.
	(md_pseudo_table): Add "scomm".
	(tc_gen_reloc): Really undo all adjustments made by
	bfd_install_relocation.
	* doc/c-tic6x.texi: Document the .scomm directive.

gas/testsuite/
	* gas/tic6x/scomm-directive-1.s: New test.
	* gas/tic6x/scomm-directive-1.d: New test.
	* gas/tic6x/scomm-directive-2.s: New test.
	* gas/tic6x/scomm-directive-2.d: New test.
	* gas/tic6x/scomm-directive-3.s: New test.
	* gas/tic6x/scomm-directive-3.d: New test.
	* gas/tic6x/scomm-directive-4.s: New test.
	* gas/tic6x/scomm-directive-4.d: New test.
	* gas/tic6x/scomm-directive-5.s: New test.
	* gas/tic6x/scomm-directive-5.d: New test.
	* gas/tic6x/scomm-directive-6.s: New test.
	* gas/tic6x/scomm-directive-6.d: New test.
	* gas/tic6x/scomm-directive-7.s: New test.
	* gas/tic6x/scomm-directive-7.d: New test.
	* gas/tic6x/scomm-directive-8.s: New test.
	* gas/tic6x/scomm-directive-8.d: New test.

ld/
	* emulparams/elf32_tic6x_le.sh (BIG_OUTPUT_FORMAT, EXTRA_EM_FILE,
	GENERATE_SHLIB_SCRIPT): New defines.
	(TEXT_START_ADDR): Define differently depending on target.
	(.got): Redefine to include "*(.dsbt)".
	(SDATA_START_SYMBOLS): Remove, replace with
	(OTHER_GOT_SYMBOLS): New.
	(OTHER_BSS_SECTIONS): Define only for ELF targets.
	* emultempl/tic6xdsbt.em: New file.
	* gen-doc.texi: Set C6X.
	* ld.texinfo: Likewise.
	(Options specific to C6X uClinux targets): New section.

binutils/
	* readelf.c (get_symbol_index_type): Handle SCOM for TIC6X.
	(dump_relocations): Likewise.

binutils/testsuite/
	* lib/binutils-common.exp (is_elf_format): Accept tic6x*-*-uclinux*.

ld/testsuite/
	* ld-scripts/crossref.exp: Add CFLAGS for tic6x*-*-*.
	* ld-elf/sec-to-seg.exp: Remove tic6x from list of targets defining
	pagesize to 1.
	* ld-tic6x/tic6x.exp: Add support for DSBT shared library/executable
	linking tests.
	* ld-tic6x/dsbt.ld: New linker script.
	* ld-tic6x/dsbt-be.ld: New linker script.
	* ld-tic6x/dsbt-overflow.ld: New linker script.
	* ld-tic6x/dsbt-inrange.ld: New linker script.
	* ld-tic6x/shlib-1.s: New test.
	* ld-tic6x/shlib-2.s: New test.
	* ld-tic6x/shlib-app-1r.s: New test.
	* ld-tic6x/shlib-app-1.s: New test.
	* ld-tic6x/shlib-1.sd: New test.
	* ld-tic6x/shlib-1.dd: New test.
	* ld-tic6x/shlib-app-1.rd: New test.
	* ld-tic6x/shlib-app-1rb.rd: New test.
	* ld-tic6x/shlib-app-1.sd: New test.
	* ld-tic6x/static-app-1rb.od: New test.
	* ld-tic6x/shlib-app-1.dd: New test.
	* ld-tic6x/shlib-app-1rb.sd: New test.
	* ld-tic6x/static-app-1b.od: New test.
	* ld-tic6x/static-app-1r.od: New test.
	* ld-tic6x/shlib-1rb.rd: New test.
	* ld-tic6x/shlib-app-1rb.dd: New test.
	* ld-tic6x/shlib-1rb.sd: New test.
	* ld-tic6x/shlib-1rb.dd: New test.
	* ld-tic6x/shlib-app-1b.od: New test.
	* ld-tic6x/tic6x.exp: New test.
	* ld-tic6x/static-app-1rb.rd: New test.
	* ld-tic6x/shlib-app-1r.od: New test.
	* ld-tic6x/static-app-1.od: New test.
	* ld-tic6x/static-app-1b.rd: New test.
	* ld-tic6x/static-app-1r.rd: New test.
	* ld-tic6x/static-app-1rb.sd: New test.
	* ld-tic6x/static-app-1b.sd: New test.
	* ld-tic6x/static-app-1rb.dd: New test.
	* ld-tic6x/static-app-1r.sd: New test.
	* ld-tic6x/static-app-1b.dd: New test.
	* ld-tic6x/shlib-1b.rd: New test.
	* ld-tic6x/static-app-1r.dd: New test.
	* ld-tic6x/shlib-app-1b.rd: New test.
	* ld-tic6x/shlib-1r.rd: New test.
	* ld-tic6x/shlib-app-1r.rd: New test.
	* ld-tic6x/shlib-1b.sd: New test.
	* ld-tic6x/static-app-1.rd: New test.
	* ld-tic6x/shlib-app-1b.sd: New test.
	* ld-tic6x/shlib-1r.sd: New test.
	* ld-tic6x/shlib-1b.dd: New test.
	* ld-tic6x/shlib-app-1r.sd: New test.
	* ld-tic6x/shlib-app-1b.dd: New test.
	* ld-tic6x/shlib-1r.dd: New test.
	* ld-tic6x/static-app-1.sd: New test.
	* ld-tic6x/shlib-app-1r.dd: New test.
	* ld-tic6x/static-app-1.dd: New test.
	* ld-tic6x/shlib-noindex.rd: New test.
	* ld-tic6x/shlib-noindex.dd: New test.
	* ld-tic6x/shlib-noindex.sd: New test.
	* ld-tic6x/got-reloc-local-1.s: New test.
	* ld-tic6x/got-reloc-local-2.s: New test.
	* ld-tic6x/got-reloc-local-r.d: New test.
	* ld-tic6x/got-reloc-global.s: New test.
	* ld-tic6x/got-reloc-global-addend-1.d: New test.
	* ld-tic6x/got-reloc-global-addend-1.s: New test.
	* ld-tic6x/got-reloc-global-addend-2.d: New test.
	* ld-tic6x/got-reloc-inrange.d: New test.
	* ld-tic6x/got-reloc-overflow.d: New test.
	* ld-tic6x/got-reloc-global-addend-2.s: New test.
	* ld-tic6x/dsbt-index-error.d: New test.
	* ld-tic6x/dsbt-index.d: New test.
	* ld-tic6x/dsbt-index.s: New test.
	* ld-tic6x/shlib-app-1.od: New test.
	* ld-tic6x/shlib-app-1rb.od: New test.
	* ld-tic6x/shlib-1.rd: New test.
	* ld-tic6x/weak.d: New test.
	* ld-tic6x/weak-be.d: New test.
	* ld-tic6x/weak.s: New test.
 	* ld-tic6x/weak-data.d: New test.
	* ld-tic6x/common.d: New test.
	* ld-tic6x/common.ld: New test.
	* ld-tic6x/common.s: New test.
@
text
@d1 4
@


1.1772
log
@binutils/
2011-03-31  Tristan Gingold  <gingold@@adacore.com>

	* readelf.c (get_ia64_vms_note_type): New function.
	(print_ia64_vms_note): Ditto.
	(process_note): Recognize VMS/ia64 specific notes.
	Display them.
	(process_corefile_note_segment): Decode VMS notes.

include/elf
2011-03-31  Tristan Gingold  <gingold@@adacore.com>

	* ia64.h (Elf64_External_VMS_Note): New struct.
	(NT_VMS_MHD, NT_VMS_LNM, NT_VMS_SRC, NT_VMS_TITLE, NT_VMS_EIDC,
	NT_VMS_FPMODE, NT_VMS_LINKTIME, NT_VMS_IMGNAM, NT_VMS_IMGID
	NT_VMS_LINKID, NT_VMS_IMGBID, NT_VMS_GSTNAM, NT_VMS_ORIG_DYN)
	NT_VMS_PATCHTIME) New macros.
@
text
@d1 5
@


1.1771
log
@2011-03-30  Catherine Moore  <clm@@codesourcery.com>

	* addr2line.c (translate_addresses): Sign extend the pc
	if sign_extend_vma is enabled.
@
text
@d1 8
@


1.1770
log
@	* readelf.c (process_gnu_liblist): Stop memory leak.
@
text
@d1 5
@


1.1769
log
@	* coffdump.c: Include bfd_stdint.h
@
text
@d1 4
@


1.1768
log
@	* coffdump.c (coff_dump): Correct spelling error.
	(show_usage): Replace SYSROFF by COFF.
@
text
@d1 4
@


1.1767
log
@	* coffdump.c (dump_coff_scope): Use double typecast for pointer P
	to allow compilation for all targets.
@
text
@d1 5
@


1.1766
log
@	* dwarf.c (decode_location_expression): Use dwarf_vmatoa
	function to display DW_OP_addr OP.
	(process_debug_info): Use dwarf_vma type for local variables
	length and type_offset.
@
text
@d3 5
@


1.1765
log
@	* dwarf.c (process_debug_info): Use offset_size to determine
	the bit-size of the computation unit's offset.
@
text
@d5 4
@


1.1764
log
@	* bucomm.c (make_tempname): Stop memory leak.
ICVS: ----------------------------------------------------------------------
@
text
@d1 5
@


1.1763
log
@	* objdump.c (dump_reloc_set): Free malloced memory.
@
text
@d22 1
@


1.1762
log
@	* stabs.c (parse_stab_enum_type): Fix memory leaks.
	(parse_stab_struct_type): Ditto.
	(parse_stab_struct_fields): Ditto.
	(parse_stab_one_struct_field): Ditto.
	(parse_stab_members): Ditto.
	(stab_demangle_qualified): Ditto.
@
text
@d16 6
a21 5
	(parse_stab_struct_type): Ditto.
	(parse_stab_struct_fields): Ditto.
	(parse_stab_one_struct_field): Ditto.
	(parse_stab_members): Ditto.
	(stab_demangle_qualified): Ditto.
@


1.1761
log
@	* prdbg.c (pr_function_type): Close memory leaks.
	(pr_method_type): Likewise.
	(tg_class_static_member): Likewise.
	(tg_class_method_variant): Likewise.
	(tg_class_static_method_variant): Likewise.
@
text
@d15 6
@


1.1760
log
@	* ieee.c (ieee_add_bb11): Plug memory leak.
	(ieee_function_type): Likewise.
	(ieee_class_baseclass): Likewise.
@
text
@d10 5
@


1.1759
log
@	* ar.c (write_archive): Plug memory leak.
@
text
@d7 3
@


1.1758
log
@	* ar.c (delete_members): Plug memory leak.
@
text
@d6 1
@


1.1757
log
@	* ar.c (move_members): Plug memory leak.
@
text
@d5 1
@


1.1756
log
@	* strings.c (print_strings): Plug memory leak.
@
text
@d4 1
@


1.1755
log
@	Replace bfd_vma type and analog types by dwarf_vma and analogs.
	Use dwarf specific print functions to display these type values.
	* dwarf.h (dwarf_signed_vma): New type;
	(DWARF2_External_LineInfo): Replace bfd_vma by dwarf_vma.
	(DWARF2_External_PubNames): Likewise.
	(DWARF2_External_CompUnit): Likewise.
	(DWARF2_External_ARange): Likewise.
	(read_leb128): Change return type to dwarf_vma.
	* dwarf.c (print_dwarf_vma): Use __MINGW32__ conditional and
	check byte_size values.
	(dwarf_vmatoa): Change parameter type to dwarf_vma.
	(dwarf_svmatoa): New static function.
	(read_leb128): Change return type to dwarf_vma.
	(read_sleb128): New static function.
	(struct State_Machine_Registers): Change address field type to
	dwarf_vma.
	(process_extended_line_op): Adapt to type changes.
	(fetch_indirect_string): Likewise.
	(idisplay_block): Likewise.
	(decode_location_expression): Likewise.
	(read_and_display_attr_value): Likewise.
	(process_debug_info): Likewise.
	(display_debug_lines_raw): Likewise.
	(display_debug_lines_decoded): Likewise.
	(SLEB macro): Use new read_sleb128 function.
@
text
@d1 4
@


1.1754
log
@	PR 12590
	* ar.c (ranlib_main): Init arg_index properly.
	(usage): Describe --target.
@
text
@d1 28
@


1.1753
log
@	* dwarf.c (dw_TAG_name): Handle DW_TAG_GNU_call_site_parameter.
	(read_and_display_attr_value): Handle DW_AT_GNU_call_site_data_value,
	DW_AT_GNU_call_site_target and DW_AT_GNU_call_site_target_clobbered.
	(get_AT_name): Handle DW_AT_GNU_call_site_value,
	DW_AT_GNU_call_site_data_value, DW_AT_GNU_call_site_target,
	DW_AT_GNU_call_site_target_clobbered, DW_AT_GNU_tail_call,
	DW_AT_GNU_all_tail_call_sites, DW_AT_GNU_all_call_sites and
	DW_AT_GNU_all_source_call_sites.
	(decode_location_expression) <case DW_OP_GNU_entry_value>: Adjust
	handling.

	* dwarf.c (get_TAG_name): Handle DW_TAG_GNU_call_site.
	(decode_location_expression): Handle DW_OP_GNU_entry_value.
	(read_and_display_attr_value): Handle DW_AT_GNU_call_site_value.
	(get_AT_name): Likewise.
@
text
@d1 6
@


1.1752
log
@2011-03-14  Michael Snyder  <msnyder@@vmware.com>

	* objcopy.c (set_pe_subsystem): Free subsystem.
@
text
@d1 20
@


1.1751
log
@2011-03-08  Michael Snyder  <msnyder@@vmware.com>

	* wrstabs.c (stab_start_struct_type): Close memory leak.
@
text
@d3 2
@


1.1750
log
@2011-03-07  Michael Snyder  <msnyder@@vmware.com>

	* readelf.c (process_version_sections): Free symbols.
@
text
@d3 2
@


1.1749
log
@2011-03-07  Michael Snyder  <msnyder@@vmware.com>

	* nm.c (display_rel_file): Free symsizes.
@
text
@d3 2
@


1.1748
log
@	* common.h (EM_V850): V850s now supplied by Renesas.
	* readelf.c (get_machine_name): Update EM_V850 entry.
@
text
@d1 4
@


1.1747
log
@objdump: fix typo in help message
@
text
@d1 4
@


1.1746
log
@	PR binutils/12523
	* readelf.c (process_object): Clear dynamic_info_DT_GNU_HASH.
@
text
@d1 6
@


1.1745
log
@ChangeLog binutils/
2011-02-28  Kai Tietz  <kai.tietz@@onevision.com>

	* debug.c (debug_start_source): Use filename_(n)cmp.
	* ieee.c (ieee_finish_compilation_unit): Likewise.
	(ieee_lineno): Likewise.
	* nlmconv.c (main): Likewise.
	* objcopy.c (strip_main): Likewise.
	(copy_main): Likewise.
	* objdump.c (show_line): Likewise.
	(dump_reloc_set): Likewise.
	* srconv.c (main): Likewise.
	* wrstabs.c (stab_lineno): Likewise.

ChangeLog gas/
2011-02-28  Kai Tietz  <kai.tietz@@onevision.com>

	* depend.c (register_dependency): Use filename_(n)cmp.
	* dwarf2dbg.c (get_filenum): Likewise.
	* ecoff.c (add_file): Likewise.
	(ecoff_generate_asm_lineno): Likewise.
	* input-scrub.c (new_logical_line_flags): Likewise.
	* listing.c (file_info): Likewise.
	(listing_newline): Likewise.
	* remap.c (remap_debug_filename): Likewise.
	* stabs.c (generate_asm_file): Likewise.
	(stabs_generate_asm_lineno): Likewise.
@
text
@d1 5
@


1.1744
log
@	* readelf.c (decode_arm_unwind): Implement decoding of remaining
	ARM unwind instructions (i.e. VFP/NEON and Intel Wireless MMX).
@
text
@d1 13
@


1.1743
log
@ChangeLog include/

2011-02-23  Kai Tietz  <kai.tietz@@onevision.com>

	* dwarf2.h (_ELF_DWARF2_H): Renamed to
	_DWARF2_H.
	(DWARF2_External_LineInfo, DWARF2_Internal_LineInfo,
	DWARF2_External_PubNames, DWARF2_Internal_PubNames,
	DWARF2_External_CompUnit, DWARF2_Internal_CompUnit,
	DWARF2_External_ARange, DWARF2_Internal_ARange): Removed.


ChangeLog binutils/

2011-02-23  Kai Tietz  <kai.tietz@@onevision.com>

	* dwarf.c (read_leb128): Use bfd_vma instead of
	long type.
	(dwarf_vmatoa): New helper routine.
	(process_extended_line_op): Use for adr bfd_vma
	type and print those typed values via BFD_VMA_FMT
	or via dwarf_vmatoa for localized prints.
	(fetch_indirect_string): Adjust offset's type.
	(decode_location_expression): Adjust argument types
	and uvalue type.
	(read_and_display_attr_value): Likewise.
	(read_and_display_attr): Likewise.
	(decode_location_expression): Adjust printf format.
	(process_debug_info): Likewise.
	(display_debug_lines_raw): Likewise.
	(display_debug_lines_decoded): Likewise.
	(display_debug_pubnames): Likewise.
	(display_debug_loc): Likewise.
	(display_debug_aranges): Likewise.
	* dwarf.h (DWARF2_External_LineInfo,
	DWARF2_Internal_LineInfo, DWARF2_External_PubNames,
	DWARF2_Internal_PubNames, DWARF2_External_CompUnit,
	DWARF2_Internal_CompUnit, DWARF2_External_ARange,
	DWARF2_Internal_ARange): Added..
	(read_leb128): Adjust return type.
@
text
@d1 5
@


1.1742
log
@Remove freebsd1 from libtool.m4 macros and config.rpath.

/:
	Import from Libtool and gnulib:

	2011-01-27  Gerald Pfeifer  <gerald@@pfeifer.com>

	Prepare for supporting FreeBSD 10.
	* config.rpath: Remove handling of freebsd1* which soon would
	match FreeBSD 10.0.

	2011-01-20  Gerald Pfeifer  <gerald@@pfeifer.com>  (tiny change)

	Remove support for FreeBSD 1.x.
	* libtool.m4 (_LT_LINKER_SHLIBS)
	(_LT_SYS_DYNAMIC_LINKER): Remove handling of freebsd1* which
	soon would incorrectly match FreeBSD 10.0.

bfd/:
	* configure: Regenerate.

gas/:
	* configure: Regenerate.

ld/:
	* configure: Regenerate.

opcodes/:
	* configure: Regenerate.

binutils/:
	* configure: Regenerate.

gprof/:
	* configure: Regenerate.
@
text
@d1 27
@


1.1741
log
@	PR binutils/12467
	* readelf.c (process_program_headers): Issue a warning if there
	are no program headers but the file header has a non-zero program
	header offset.
	(process_section_headers): Issue a warning if there are no section
	headers but the file header has a non-zero section header offset.
	(process_section_groups): Reword the no section message so that it
	can be distinguished from the one issued by process_section_headers.

	* elf.c (assign_file_positions_for_load_sections): Set the program
	header offset and entry size to zero if there are no program
	headers.
@
text
@d1 4
@


1.1740
log
@binutils/
	* dwarf.c (display_gdb_index): Support version 4, warn on version 3.
@
text
@d1 11
@


1.1739
log
@	* readelf.c (process_object): Free dynamic_section after use.
@
text
@d1 5
@


1.1738
log
@Reset dump_sects after processing each archive member.

2011-01-18  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/12408
	* readelf.c (process_archive): Free and reset dump_sects
	after processing each archive member.
@
text
@d1 4
@


1.1737
log
@* readelf.c (print_symbol): Handle symbol characters as unsigned.
Whitespace fixes.
@
text
@d1 6
@


1.1736
log
@	* po/da.po: Updated Danish translation.
@
text
@d1 5
@


1.1735
log
@	* bucomm.c (get_file_size): Check for negative sizes and issue a
	warning message if encountered.
@
text
@d1 4
@


1.1734
log
@Update copyright to 2011.

binutils/

2011-01-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* version.c (print_version): Update copyright to 2011.

gas/

2011-01-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas.c (parse_args): Update copyright to 2011.

gold/

2011-01-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* version.cc (print_version): Update copyright to 2011.

ld/

2011-01-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* ldver.c (ldversion): Update copyright to 2011.

opcodes/

2011-01-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-gen.c (process_copyright): Update copyright to 2011.
@
text
@d1 5
@


1.1733
log
@Rotate binutils ChangeLogs.
@
text
@d1 4
@


1.1732
log
@2010-12-15  Kai Tietz  <kai.tietz@@onevision.com>

        * dwarf.c (display_gdb_index): Fix printf types for
        used formatters.
@
text
@d1 1
a1 1070
2010-12-15  Kai Tietz  <kai.tietz@@onevision.com>

	* dwarf.c (display_gdb_index): Fix printf types for
	used formatters.

2010-12-12  Peter Breitenlohner  <peb@@mppmu.mpg.de>

	PR binutils/12306
	* doc/binutils.texi: Fix typos in elfedit documentation.

2010-12-10  Alan Modra  <amodra@@gmail.com>

	* binemul.h (do_ar_emul_append): Declare.
	* binemul.c (any_ok): New function.
	(do_ar_emul_append): Rename from do_ar_emul_default_append.  Make
	global, add check arg.  Adjust callers.
	(ar_emul_default_replace): Tidy.
	* configure.tgt (powerpc-*-aix[5-9]*,rs6000-*-aix[5-9]*): Use
	bin_aix_emulation.
	* emul_aix.c (bin_aix5_emulation, ar_emul_aix_internal): Delete.
	(ar_emul_aix5_append, ar_emul_aix5_replace): Delete.
	(check_aix): New function.
	(ar_emul_aix_append, ar_emul_aix_replace): Rewrite.

2010-12-09  Mike Frysinger  <vapier@@gentoo.org>

	* .gitignore: New file.

2010-12-08  Alan Modra  <amodra@@gmail.com>

	* ar.c: Formatting.
	(usage): Correct help strings.
	(decode_options): Correct getopt_long short options.  Remove
	duplicate non-handled option message.
	(main): Don't handle -M specially.

2010-12-08  Arnaud Lacombe  <lacombar@@gmail.com>

	* ar.c (long_options): Add target.
	(decode_options): Handle the --target option.
	(open_inarch): Check for plugin's target, default to --target
	(replace_members): Use generic `target'.

	* ar.c (operation): New global variable.
	(show_version): Likewise.
	(show_help): Likewise.
	(long_options): Likewise.
	(usage): Fix help string argument order.
	(decode_options): New.
	(ranlib_main): Use getopt_long.
	(main): Use decode_options.

	* ar.c (main): Split ranlib path.
	(ranlib_usage): New
	(ranlib_main): New

2010-12-03  Doug Evans  <dje@@google.com>

	* dwarf.c: #include "bfd_stdint.h".
	(do_gdb_index): New global.
	(display_gdb_index): New function.
	(dwarf_select_sections_by_names) Add "gdb_index".
	(dwarf_select_sections_all): Set do_gdb_index.
	(debug_displays): Add .gdb_index.
	* dwarf.h (do_gdb_index): Declare.
	* objdump.c (usage): Add gdb_index.
	* readelf.c (usage): Add gdb_index.
	(process_section_headers): Process ".gdb_index".
	* doc/binutils.texi (readelf): Document gdb_index dump.
	(objdump): Ditto.

2010-12-01  Kai Tietz  <kai.tietz@@onevision.com>

	PR binutils/11065
	* dlltool.c (dll_name_set_by_exp_name): New variable.
	(def_name): Allow setting of dll_name by .def file.
	(def_library): Likewise.
	(main): Set dll_name_set_by_exp_name, if dll_name is
	set indirect by exp_name.

2010-11-26  Alan Modra  <amodra@@gmail.com>

	* dwarf.c (decode_location_expression, display_debug_frames): Move
	code handling DW_EH_PE_pcrel into..
	(get_encoded_value): ..here.

2010-11-26  Alan Modra  <amodra@@gmail.com>

	* po/ja.po: Update.

2010-11-25  Alan Modra  <amodra@@gmail.com>

	* po/bg.po: Update.
	* po/es.po: Update.
	* po/fi.po: Update.
	* po/ja.po: Update.
	* po/ru.po: Update.
	* po/zh_CN.po: Update.

2010-11-21  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/12235
	* elfcomm.c: New.
	* elfcomm.h: Likewise.

	* Makefile.am (HFILES): Add elfcomm.h.
	(CFILES): Add elfcomm.c.
	(ELFLIBS): New.
	(readelf_SOURCES): Add $(ELFLIBS).
	(elfedit_SOURCES): Likewise.
	(objdump_SOURCES): Likewise.
	* Makefile.in: Regenerated.

	* dwarf.c: Include "elfcomm.h".
	(byte_get): Removed.
	(byte_get_little_endian): Likewise.
	(byte_get_big_endian): Likewise.
	(byte_get_signed): Likewise.
	(error): Likewise.
	(warn): Likewise.

	* dwarf.h (dwarf_vma): Defined with HOST_WIDEST_INT.
	(dwarf_size_type): Likewise.
	(byte_get): Removed.
	(byte_get_signed): Likewise.
	(byte_get_little_endian): Likewise.
	(byte_get_big_endian): Likewise.
	(error): Likewise.
	(warn): Likewise.

	* elfedit.c: Include "elfcomm.h".  Don't include "aout/ar.h".
	Call error () instead of non_fatal ().
	(streq): Removed.
	(strneq): Likewise.
	(const_strneq): Likewise.
	(non_fatal): Likewise.
	(BYTE_GET): Likewise.
	(BYTE_PUT): Likewise.
	(byte_get): Likewise.
	(byte_put): Likewise.
	(byte_get_little_endian): Likewise.
	(byte_get_big_endian): Likewise.
	(byte_put_little_endian): Likewise.
	(byte_put_big_endian): Likewise.
	(adjust_relative_path): Likewise.
	(archive_info): Likewise.
	(setup_archive): Likewise.
	(release_archive): Likewise.
	(setup_nested_archive): Likewise.
	(get_archive_member_name): Likewise.
	(get_archive_member_name_at): Likewise.
	(make_qualified_name): Likewise.

	* objdump.c: Include "elfcomm.h".

	* readelf.c: Include "elfcomm.h".  Don't include "aout/ar.h".
	(BYTE_GET): Removed.
	(BYTE_GET_SIGNED): Removed.
	(streq): Likewise.
	(strneq): Likewise.
	(const_strneq): Likewise.
	(byte_put): Likewise.
	(byte_put_little_endian): Likewise.
	(byte_put_big_endian): Likewise.
	(adjust_relative_path): Likewise.
	(archive_info): Likewise.
	(setup_archive): Likewise.
	(release_archive): Likewise.
	(setup_nested_archive): Likewise.
	(get_archive_member_name): Likewise.
	(get_archive_member_name_at): Likewise.
	(make_qualified_name): Likewise.

2010-11-18  Alan Modra  <amodra@@gmail.com>

	PR binutils/11742
	* readelf.c (get_archive_member_name): Formatting.  Properly
	handle full size ar_name.

2010-11-17  Alan Modra  <amodra@@gmail.com>

	* ar.c (print_contents): Don't internationalize strings without words.
	* dwarf.c (process_extended_line_op): Likewise.
	(process_debug_info): Likwise.
	(display_debug_lines_raw): Likewise.
	(display_debug_lines_decoded): Likewise.
	(display_debug_abbrev): Likewise.
	* readelf.c (process_file_header): Likewise.
	(GET_OP): Likewise.
	(decode_arm_unwind): Likewise.
	(process_mips_specific): Likewise.
	* resrc.c (run_cmd): Likewise.
	(rcparse_warning): Likewise.
	* objdump.c (dump_headers): Don't print "Pg".

2010-11-16  Jorma Karvonen  <karvonen.jorma@@gmail.com>

	* windmc.c: ,%s' -> `%s' in a number of strings.

2010-11-16  Jie Zhang  <jie.zhang@@analog.com>

	* readelf.c (get_machine_flags): Deal with Blackfin specific flags.

2010-11-11  Mingming Sun  <mingm.sun@@gmail.com>

	* readelf.c (get_machine_flags): Add loongson-3a.

2010-11-10  Nick Clifton  <nickc@@redhat.com>

	* po/ja.po: Updated Japanese translation.
	* po/fr.po: Updated French translation.

2010-11-08  Nick Clifton  <nickc@@redhat.com>

	* po/ja.po: Updated Japanese translation.

2010-11-08  Alan Modra  <amodra@@gmail.com>

	* objcopy.c (copy_main): No need to rename sections when compressing
	or decompressing.

2010-11-05  Alan Modra  <amodra@@gmail.com>

	* bin2c.c: Remove internationalization and version report.
	* Makefile.am: Update bin2c rule.
	* Makefile.in: Regenerate.

2010-11-05  Tristan Gingold  <gingold@@adacore.com>

	* po/binutils.pot: Regenerate

2010-11-05  Tristan Gingold  <gingold@@adacore.com>

	* NEWS: Add marker for 2.21.

2010-11-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* objdump.c (dump_bfd_header): Don't display
	BFD_FLAGS_FOR_BFD_USE_MASK bits in abfd->flags.

2010-11-02  Joseph Myers  <joseph@@codesourcery.com>

	* readelf.c (display_tic6x_attribute): Handle more attributes.

2010-10-30  Kai Tietz  <kai.tietz@@onevision.com>

	* dlltool.c (scan_drectve_symbols): Allow quoted strings for -export
	directives.

2010-10-29  Joseph Myers  <joseph@@codesourcery.com>

	* readelf.c (display_tic6x_attribute): Use Tag_ABI_compatibility
	not hardcoded 32.  Display name of this attribute.

2010-10-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* addr2line.c (process_file): Set BFD_DECOMPRESS.

	* objcopy.c (do_debug_sections): New.
	(OPTION_COMPRESS_DEBUG_SECTIONS): New.
	(OPTION_DECOMPRESS_DEBUG_SECTIONS): Likewise.
	(copy_options): Add OPTION_COMPRESS_DEBUG_SECTIONS and
	OPTION_DECOMPRESS_DEBUG_SECTIONS.
	(copy_usage): Add --compress-debug-sections and
	--decompress-debug-sections.
	(copy_file): Set BFD_COMPRESS or BFD_DECOMPRESS.
	(copy_section): Replace bfd_get_section_contents with
	bfd_get_full_section_contents.
	(copy_main): Handle OPTION_COMPRESS_DEBUG_SECTIONS and
	OPTION_DECOMPRESS_DEBUG_SECTIONS.  Check do_debug_sections to
	rename DWARF debug sections.

	* objdump.c (load_specific_debug_section): Replace
	bfd_get_section_contents with bfd_get_full_section_contents.
	Remove bfd_uncompress_section_contents.
	(dump_section): Replace bfd_get_section_contents with
	bfd_get_full_section_contents.
	(display_file): Set BFD_DECOMPRESS if needed.

	* readelf.c (uncompress_section_contents): Set buffer to NULL
	to indiate decompression failure.
	(load_specific_debug_section): Always call
	uncompress_section_contents.

	* doc/binutils.texi: Document --compress-debug-sections and
	--decompress-debug-sections.

2010-10-29  Nick Clifton  <nickc@@redhat.com>

	PR binutils/12058
	* ar.c (usage): Revert previous change.  Describe how 's' can be
	used as a command letter.
	* doc/binutils.texi (ar cmdline): Describe how 's' can be used as
	a command letter.

2010-10-29  Bernd Schmidt  <bernds@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* readelf.c (display_tic6x_attribute): Handle Tag_ABI_DSBT.

2010-10-28  Nick Clifton  <nickc@@redhat.com>

	PR binutils/12058
	* ar.c (usage): Remove spurious 's' from list of accepted command
	letters.

2010-10-28  Alan Modra  <amodra@@gmail.com>

	* readelf.c (is_32bit_abs_reloc): Support i960 and microblaze.
	(is_32bit_pcrel_reloc): Support microblaze.

2010-10-26  Nick Clifton  <nickc@@redhat.com>

	* po/ja.po: Updated Japanese transaltion.

2010-10-21  Joseph Myers  <joseph@@codesourcery.com>

	* readelf.c (display_tic6x_attribute): Update for attribute
	renaming.

2010-10-08  H.J. Lu  <hongjiu.lu@@intel.com>

	* dwarf.c (byte_get_signed): Make it extern.

	* dwarf.h (byte_get_signed): New.

	* readelf.c (BYTE_GET_SIGNED): New.
	(slurp_rela_relocs): Use BYTE_GET_SIGNED on r_addend.
	(dump_relocations): Properly dump r_addend.

2010-10-08  Joseph Myers  <joseph@@codesourcery.com>

	* nm.c (value_format_64bit): Define appropriately for __MSVCRT__.
	(set_print_radix): Update for __MSVCRT__ definition of
	value_format_64bit.

2010-10-08  Pierre Muller  <muller@@ics.u-strasbg.fr>

	Fix build with -DDEBUG=7
	* nlmheader.y (DEBUG token): Rename to DEBUG_K.

2010-10-06  Alan Modra  <amodra@@gmail.com>

	* bucomm.c (bfd_nonfatal, bfd_nonfatal_message): Don't clobber errno.

2010-10-05  Alan Modra  <amodra@@gmail.com>

	* bucomm.c (bfd_nonfatal): Flush stdout before output to stderr.
	(bfd_nonfatal_message, report, list_matching_formats): Likewise.
	(list_supported_targets): Tidy.
	* objdump.c (free_only_list): Formatting.
	(slurp_dynamic_symtab): Non-zero exit status for "not a dynamic
	object".
	(update_source_path): Delete redundant check for NULL filename.
	(disassemble_bytes): Error if disassemble_fn returns a value
	that won't increment address.
	(disassemble_data): Don't capitalize error message.
	(read_section_stabs): Likewise.
	(main): Return non-zero exit status on bad options.

2010-10-03  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/12088
	* nm.c (plugin_target): New.
	(main): Set plugin_target to "plugin" for --plugin.
	(display_file): Pass plugin_target to bfd_openr if target
	isn't set.

2010-09-27  Ralf Wildenhues  <Ralf.Wildenhues@@gmx.de>

	* configure: Regenerate.

2010-09-22  Mike Frysinger  <vapier@@gentoo.org>

	* MAINTAINERS: Add self as ADI Blackfin maintainer.

2010-09-17  H.J. Lu  <hongjiu.lu@@intel.com>

	* emul_aix.c (ar_emul_aix_append): Add a target argument
	and ignore it if it is set.
	(ar_emul_aix5_append): Likewise.
	(ar_emul_aix_replace): Likewise.
	(ar_emul_aix5_replace): Likewise.

2010-09-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* ar.c (plugin_target): New.
	(main): Set plugin_target to "plugin" for --plugin.
	(open_inarch): Initialize target to plugin_target.
	(replace_members): Pass plugin_target to ar_emul_replace
	and ar_emul_append.

	* binemul.h (ar_emul_append): Add a target argument.
	(ar_emul_default_append): Likewise.
	(ar_emul_replace): Likewise.
	(ar_emul_default_replace): Likewise.
	(bin_emulation_xfer_struct): Add a target argument to
	ar_append and ar_replace.

	* binemul.c (ar_emul_append): Updated.  Pass target to bfd_openr.
	(do_ar_emul_default_append): Likewise.
	(ar_emul_default_append): Likewise.
	(ar_emul_replace): Likewise.
	(ar_emul_default_replace): Likewise.

2010-09-10  Ben Gardiner  <bengardiner@@nanometrics.ca>

	* objcopy.c: Add --interleave-width option to allow interleaving
	of more than one byte at a time.
	(copy_width): New variable.
	(copy_options): Add --interleave-width.
	(copy_section): When interleaving copy in units of copy_width
	bytes.
	(copy_main): Parse the new option.
	* doc/binutils: Document the new option.
	* NEWS: Mention the new feature.

2010-09-09  Jakub Jelinek  <jakub@@redhat.com>

	* dwarf.c (decode_location_expression): Fix data adjustment
	for DW_OP_GNU_implicit_pointer in v3+.

2010-09-09  Tristan Gingold  <gingold@@adacore.com>

	* NEWS: Add entry to NEWS for hppa/som.

2010-09-09  Jakub Jelinek  <jakub@@redhat.com>

	* dwarf.h (debug_info): Add offset_info and dwarf_version fields.
	* dwarf.c (decode_location_expression): Add offset_size and
	dwarf_version arguments.  Prefix DIE offset with 0x for
	DW_OP_call{2,4,_ref}.  Fix up DW_OP_call_ref operand size,
	complain if in frame info section.  Handle
	DW_OP_GNU_implicit_pointer.
	(read_and_display_attr_value, display_debug_loc,
	display_debug_frames): Adjust decode_location_expression callers.
	(process_debug_info): Save offset_size and dwarf_version values
	into debug_information array.

2010-09-07  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (process_section_headers): Mention meaning of 'l'
	section flag for x86-64 targets.

2010-09-03  Jan Kratochvil  <jan.kratochvil@@redhat.com>
	    Jakub Jelinek  <jakub@@redhat.com>

	* dwarf.c (regname): New declaration.
	(decode_location_expression): Print for registers also regname output.

2010-09-02  Richard Henderson  <rth@@redhat.com>

	* dwarf.c (init_dwarf_regnames_i386, init_dwarf_regnames_x86_64): New.
	(init_dwarf_regnames): Use them.
	* dwarf.h: Declare them.
	* objdump.c (dump_dwarf): Use bfd_get_arch + bfd_get_mach to set up
	the regnames, rather than using elf_machine_code.

2010-09-02  Richard Henderson  <rth@@redhat.com>

	* objdump.c (dump_dwarf): Use bfd_arch_bits_per_address.

2010-08-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* elfedit.c (input_elf_osabi): New.
	(output_elf_osbi): Likewise.
	(osabis): Likewise.
	(elf_osabi): Likewise.
	(update_elf_header): Support updating ELF OSABI.
	(make_qualified_name): Break long line.
	(command_line_switch): Add OPTION_INPUT_OSABI and
	OPTION_OUTPUT_OSABI.
	(options): Likewise.
	(usage): Add --input-osabi and --output-osabi.
	(main): Handle OPTION_INPUT_OSABI and OPTION_OUTPUT_OSABI.

	* doc/binutils.texi: Document --input-osabi and --output-osabi
	for elfedit.

2010-08-23  Maciej W. Rozycki  <macro@@codesourcery.com>

	* readelf.c (display_mips_gnu_attribute): Replace GCC options
	with a textual description of a MIPS32r2 64-bit FPU.

2010-08-13  Dan Rosenberg  <dan.j.rosenberg@@gmail.com>

	PR binutils/11889
	* readelf.c (get_32bit_elf_symbols): Check for a corrupt
	sh_entsize.
	(get_64bit_elf_symbols): Likewise.
	(process_symbol_table): Likewise.
	(process_section_groups): Check for corrupt headers.
	(process_version_sections): Check for corrupt indicies.
	(process_corefile_note_segment): Likewise.

2010-08-13  Nathan Sidwell  <nathan@@codesourcery.com>

	* readelf.c (get_machine_flags): Detect CF ISA C and EMAC_B
	variants.

2010-08-13  Tom Tromey  <tromey@@redhat.com>

	* dwarf.c (process_debug_info): Don't subtract section address
	when calculating location of cu abbrev within section.

2010-08-12  Michael Haubenwallner  <haubi@@gentoo.org>

	PR binutils/11742
	* readelf.c (get_archive_member_name): Do not read beyond the end
	of the ar_name field.

2010-08-03  Tristan Gingold  <gingold@@adacore.com>

	* dwarf.c (display_debug_lines): Mark file argument unused.
	Do not try to load .debug_info section.

2010-08-02  Alan Modra  <amodra@@gmail.com>

	* readelf.c (apply_relocations): D30V is really REL.

2010-07-23  Naveen.H.S  <naveen.S@@kpitcummins.com>
	    Ina Pandit  <ina.pandit@@kpitcummins.com>

	* binutils/readelf.c: Add support for V850E2 and V850E2V3.

2010-07-22  Alan Modra  <amodra@@gmail.com>

	* readelf.c: Add Moxie support.

2010-07-20  Alan Modra  <amodra@@gmail.com>

	* readelf.c (process_program_headers): Don't ignore all zero size
	sections.

2010-07-19  Andreas Schwab  <schwab@@redhat.com>

	* readelf.c (process_section_headers): Update key to flags.

2010-07-17  Dave Korn  <dave.korn.cygwin@@gmail.com>

	* objcopy.c (copy_usage): Tweak previous typofix.

2010-07-17  H.J. Lu  <hongjiu.lu@@intel.com>

	* objcopy.c (copy_usage): Fix a typo.

2010-07-15  Kai Tietz <kai.tietz@@onevision.com>

	* dllwrap.c (main): Make sure is_leading_underscore
	gets initialized with correct default.

2010-07-05  Alan Modra  <amodra@@gmail.com>

	* readelf.c (uncompress_section_contents): Avoid gcc-4.6 warning.

2010-07-03  Cary Coutant  <ccoutant@@google.com>

	* objdump.c (load_specific_debug_section): Decompress section contents
	before applying relocations.
	* readelf.c (load_specific_debug_section): Update section size after
	decompression.

2010-06-29  Alan Modra  <amodra@@gmail.com>

	PR binutils/3166
	* objcopy.c (is_strip_section): Revert 2006-09-05.
	(setup_section): Make SHT_GROUP section nobits.

2010-06-29  Alan Modra  <amodra@@gmail.com>

	* configure: Regenerate.
	* po/POTFILES.in: Regenerate.

2010-06-27  Alan Modra  <amodra@@gmail.com>

	* resbin.c (res_to_bin_accelerator): Delete set but unused variables.

2010-06-17  Nick Clifton  <nickc@@redhat.com>

	PR binutils/11711
	* windres.c (enum option_values): New enum.
	(long_options): Use separate option number for --include-dir
	option.
	(main): Separate backwards compatibility check from code to
	implement --include-dir.  Check to see if directory exists and do
	not complain if it does.

2010-06-15  Joseph Myers  <joseph@@codesourcery.com>

	* readelf.c (display_tic6x_attribute, process_tic6x_specific):
	New.
	(process_arch_specific): Call process_tic6x_specific for
	EM_TI_C6000.

2010-06-11  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (dump_ia64_vms_dynamic_fixups): Cast to unsigned long
	for 0x%lx.

2010-06-11  Tristan Gingold  <gingold@@adacore.com>
	    Doug Rupp <rupp@@gnat.com>

	* readelf.c (is_ia64_vms): New function.
	(dump_relocations): Use it.
	(get_machine_flags): Display IA-64 OpenVMS flags.
	(process_program_headers): No error on OpenVMS if no .dynamic section.
	(struct ia64_vms_dynfixup, struct ia64_vms_dynimgrela): New
	declarations.
	(dump_ia64_vms_dynamic_fixups): New function.
	(dump_ia64_vms_dynamic_relocs): Ditto.
	(process_ia64_vms_dynamic_relocs): Ditto.
	(process_relocs): Handle IA-64 OpenVMS relocs.
	(VMS_EPOCH_OFFSET, VMS_GRANULARITY_FACTOR): New macros.
	(print_vms_time): New function.
	(dynamic_section_ia64_val): Handle DT_IA_64_VMS_LINKTIME and
	DT_IA_64_VMS_LNKFLAGS.
	(get_ia64_symbol_other): New function.
	(get_symbol_other): Handle EM_IA_64.

2010-06-11  Tristan Gingold  <gingold@@adacore.com>

	* unwind-ia64.c (unw_print_abreg): Add const to special_reg.
	(UNW_DEC_ABI): Ditto for abiname.
	(unw_decode_table): Make it const.

2010-06-10  Tristan Gingold  <gingold@@adacore.com>

	* readelf.c (slurp_ia64_unwind_table): IA64 rela relocations are
	not inplace.

2010-05-25  Daniel Jacobowitz  <dan@@codesourcery.com>
	    Joseph Myers  <joseph@@codesourcery.com>
	    Andrew Stubbs  <ams@@codesourcery.com>

	* readelf.c (get_machine_flags): Handle EF_SH_PIC and EF_SH_FDPIC.

2010-05-25  Jay Krell  <jay.krell@@cornell.edu>

	PR ld/11621
	* Makefile.am: Replace all occurences of .o with .@@OBJEXT@@
	* Makefile.in: Regenerate.

2010-05-24  Tristan Gingold  <gingold@@adacore.com>

	* readelf.c (usage): Add new trace sections for --debug-dump.
	(process_section_headers): Handle dump of trace sections.
	* objdump.c (usage): Add new trace sections for --dwarf.
	* dwarf.h (do_trace_info, do_trace_abbrevs): New variables.
	(do_trace_aranges): Ditto.
	(enum dwarf_section_display_enum): Add trace_info, trace_abbrev
	and trace_aranges literals.
	* dwarf.c (do_trace_info, do_trace_abbrevs): New variables.
	(do_trace_aranges): Ditto.
	(process_debug_info): Add abbrev_sec argument and replace
	abbrev with abbrev_sec.
	(load_debug_info): Adjust call of process_debug_info.
	(display_debug_info): Ditto.
	(display_trace_info): New function.
	(dwarf_select_sections_by_names): Add trace_info, trace_abbrevs
	and trace_aranges sections name.
	(dwarf_select_sections_all): Also select trace sections.
	(debug_displays): Reindent.  Add entries for the trace sections.
	* doc/binutils.texi (readelf): Document new --dwarf parameters.
	(objdump): Ditto.

2010-05-18  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11600
	* readelf.c (get_elf_section_flags): Treat SHF_EXCLUDE as a
	generic flag.

2010-05-07  Tristan Gingold  <gingold@@adacore.com>

	* Makefile.in: Regenerate with automake 1.11.1.
	* aclocal.m4: Ditto.
	* doc/Makefile.in: Ditto.

2010-05-06  H.J. Lu  <hongjiu.lu@@intel.com>

	* dwarf.c (init_dwarf_regnames): Handle EM_L1OM.
	* readelf.c (get_elf_section_flags): Likewise.
	(process_section_headers): Likewise.

2010-05-05  Nick Clifton  <nickc@@redhat.com>

	* po/es.po: Updated Spanish translation.

2010-04-27  Kai Tietz  <kai.tietz@@onevision.com>

	* dlltool.c (main): Query for bfd's underscoring default for
	default target case.

2010-04-27  Nick Clifton  <nickc@@redhat.com>

	* po/ru.po: Updated Russian translation.

2010-04-23  Alan Modra  <amodra@@gmail.com>

	* readelf.c (process_program_headers): Replace use of
	ELF_IS_SECTION_IN_SEGMENT_MEMORY with ELF_SECTION_IN_SEGMENT.

2010-04-22  Nick Clifton  <nickc@@redhat.com>

	* po/binutils.pot: Updated by the Translation project.
	* po/fi.po: Updated Finnish translation.
	* po/vi.po: Updated Vietnamese translation.
	* po/bg.po: New Bulgarian translation.
	* configure.in (ALL_LINGUAS): Add bg.
	* configure: Regenerate.

2010-04-20  Nick Clifton  <nickc@@redhat.com>

	* po/fr.po: Updated french translation.

2010-04-20  Nick Clifton  <nickc@@redhat.com>

	* readelf.c: Add _() macros to constant strings that are
	translatable.

	* readelf.c (display_mips_gnu_attribute): Replace GCC options
	with a textual description of single and double precision float.

2010-04-15  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	* readelf.c (arm_attr_tag_FP_arch): Rename from arm_attr_tag_VFP_arch.
	(arm_attr_tag_ABI_align8_needed): Remove.
	(arm_attr_tag_ABI_align8_preserved): Remove.
	(arm_attr_tag_ABI_HardFP_use): Update text strings.
	(arm_attr_public_tags): Add strings for ABI v2.08 attribute tags.
	(display_arm_attribute): Add decoding of ABI v2.08 attributes.

2010-04-13  Nick Clifton  <nickc@@redhat.com>

	PR binutils/11419
	* dwarf.c (process_debug_info): Initialise the signature array.

2010-04-09  Nick Clifton  <nickc@@redhat.com>

	* dwarf.c (process_debug_info): Remove unused variable
	cu_abbrev_offset_ptr.
	(display_debug_lines_decoded): Remove unused variable prev_line.
	* elfedit.c (process_archive): Remove unused variable
	file_name_size.
	* ieee.c (ieee_start_compilation_unit): Remove unused variable
	nindx.
	(ieee_set_type): Remove unused variables info, targetindx and
	baseindx.
	* objdump.c (disassmble_byte): Remove unused variable done_dot.
	* rddbg.c (read_section_stabs_debugging_info): Remove unused
	variable other.
	* readelf.c (dump_section_as_strings): Remove unused variable
	addr.
	(process_archive): Remove unused variable file_name_size.
	* stabs.c (parse_stab_string): Mark desc parameter as unused.
	Remove unused variable lineno.
	(parse_stab_struct_type): Remove unused variable orig.
	(stab_demangle_type): Remove unused variables constp, volatilep
	and hold.

2010-04-07  Alan Modra  <amodra@@gmail.com>

	* configure: Regenerate.

2010-04-06  Nick Clifton  <nickc@@redhat.com>

	* po/vi.po: Updated Vietnamese translation.

2010-04-05  Jakub Jelinek  <jakub@@redhat.com>

	* dwarf.c (struct Frame_Chunk): Add ptr_size and segment_size
	fields.
	(display_debug_frames): Handle CIE version 4.

	* dwarf.c (struct State_Machine_Registers): Add op_index field,
	change end_sequence type to unsigned char.
	(reset_state_machine): Clear op_index.
	(process_extended_line_op): For DW_LNE_set_address clear op_index.
	(display_debug_lines_raw): Initialize li_max_ops_per_insn.
	Track op_index state machine register and print it if
	li_max_ops_per_insn is != 1.
	(display_debug_lines_decoded): Likewise.

2010-04-01  Jakub Jelinek  <jakub@@redhat.com>

	* dwarf.c (read_and_display_attr_value): Don't reject
	dwarf_version == 4.  Handle DW_FORM_sec_offset, DW_FORM_flag_present
	and DW_FORM_exprloc.
	(process_debug_info): Handle cu_version == 4.
	(display_debug_lines_raw, display_debug_lines_decoded): Handle
	li_version == 4.

2010-03-30  Andreas Schwab  <schwab@@linux-m68k.org>

	* Makefile.am (CONFIG_STATUS_DEPENDENCIES): Define.
	* Makefile.in: Regenerate.

2010-03-25  Joseph Myers  <joseph@@codesourcery.com>

	* MAINTAINERS: Add self as TI C6X maintainer.
	* NEWS: Add news entry for TI C6X support.
	* readelf.c: Include elf/tic6x.h.
	(guess_is_rela): Handle EM_TI_C6000.
	(dump_relocations): Likewise.
	(get_tic6x_dynamic_type): New.
	(get_dynamic_type): Call it.
	(get_machine_flags): Handle EF_C6000_REL.
	(get_osabi_name): Handle machine-specific values only for relevant
	machines.  Handle C6X values.
	(get_tic6x_segment_type): New.
	(get_segment_type): Call it.
	(get_tic6x_section_type_name): New.
	(get_section_type_name): Call it.
	(is_32bit_abs_reloc, is_16bit_abs_reloc, is_none_reloc): Handle
	EM_TI_C6000.

2010-03-25  Thomas Schwinge  <thomas@@codesourcery.com>

	* doc/binutils.texi (readelf) <unwind information>: Mention support for
	ARM unwind tables.

2010-03-18  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (decode_arm_unwind): Increase buf size to 9 byte.

2010-03-17  Alan Modra  <amodra@@gmail.com>

	* readelf.c (dump_arm_unwind): Warning fix.

2010-03-16  Daniel Jacobowitz  <dan@@codesourcery.com>

	* MAINTAINERS: Update my email address.  List Tristan Gingold
	as the release branch maintainer.

2010-03-05  Rainer Orth  <ro@@CeBiTec.Uni-Bielefeld.DE>

	* readelf.c (get_ver_flags): Handle VER_FLG_INFO.

2010-03-02  Daniel Jacobowitz  <dan@@codesourcery.com>

	* NEWS: Document .ARM.exidx / .ARM.extab support.

	* dwarf.c (read_leb128): Make non-static.
	* dwarf.h (read_leb128): Declare.
	* readelf.c (REMOVE_ARCH_BITS): Define.
	(find_section_by_address): New.
	(read_uleb128): Move higher.  Use read_leb128 from dwarf.c.
	(find_symbol_for_address): Handle the Thumb bit for ARM, by
	using REMOVE_ARCH_BITS.
	(struct arm_section, struct arm_unw_aux_info, arm_print_vma_and_name)
	(arm_free_section, arm_section_get_word, decode_arm_unwind)
	(dump_arm_unwind, arm_process_unwind): New.
	(process_unwind): Handle ARM.

2010-02-26  Jie Zhang  <jie@@codesourcery.com>

	* MAINTAINERS: Update my email address.

2010-02-23  Peter Breitenlohner  <peb@@mppmu.mpg.de>

	PR binutils/11298
	* doc/binutils.texi (windmc): Fix synopsis and description of
	ASCII options.

2010-02-19  Alan Modra  <amodra@@gmail.com>

	* readelf.c (get_group_flags): Return empty string when flags zero.
	Add space in other returned values.
	(process_section_groups): Adjust format string.

2010-02-18  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	* readelf.c (arm_attr_tag_Advanced_SIMD_arch): Add description of
	newly permitted attribute values.
	(arm_attr_tag_Virtualization_use): Likewise.
	(arm_attr_tag_DIV_use): Add description of new attribute.
	(arm_attr_tag_MPextension_use_legacy): Likewise.

2010-02-15  Nick Clifton  <nickc@@redhat.com>

	* po/vi.po: Updated Vietnamese translation.

2010-02-09  Michael Holzheu  <holzheu@@de.ibm.com>

	* readelf.c (get_note_type): Handle NT_S390_TIMER, NT_S390_TODCMP,
	NT_S390_TODPREG, NT_S390_CTRS and NT_S390_PREFIX.

2010-02-08  Jim Blandy  <jimb@@red-bean.com>

	* dwarf.c (display_debug_frames): Skip the 'S' character in CFI
	'z' augmentation strings.

2010-02-08  Christophe Lyon  <christophe.lyon@@st.com>

	* objdump.c (disassemble_bytes): Clear aux->reloc before printing
	a new address, so as not to reuse a previous, non-related reloc.

2010-02-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (get_note_type): Handle NT_X86_XSTATE.

2010-02-01  Nathan Sidwell  <nathan@@codesourcery.com>

	* objcopy.c (copy_object): Set SEC_LINKER_CREATED when adding
	sections.

2010-01-28  Nick Clifton  <nickc@@redhat.com>

	PR 11225
	* objdump.c (only): Replace with linked list.
	(only_size, only_used): Replace with only_list.
	(process_section_p): Set seen field on matches sections.
	(add_only): New function.
	(free_only_list): New function.
	(disassemble_section): Check only_list.
	(main): Use add_only and free_only_list.

2010-01-26  Tristan Gingold  <gingold@@adacore.com>

	* Makefile.am (bin2c): Add libintl dependance and library.
	* Makefile.in: Regenerate.

2010-01-21  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* readelf.c (get_machine_flags): Handle EF_S390_HIGH_GPRS.

2010-01-19  Ian Lance Taylor  <iant@@google.com>

	* objcopy.c (copy_main): Rewrite OPTION_ADD_SECTION code to work
	with non-ordinary files like /dev/null.

2010-01-19  Daisuke Hatayama  <d.hatayama@@jp.fujitsu.com>
	    Alan Modra <amodra@@gmail.com>

	* readelf.c (process_file_header): Handle e_phnum extension.

2010-01-14  Tristan Gingold  <gingold@@adacore.com>

	* dwarf.c (get_AT_name): Handle DW_AT_use_GNAT_descriptive_type
	and DW_AT_GNAT_descriptive_type.

2010-01-13  Tristan Gingold  <gingold@@adacore.com>

	* ar.c (main): Use lbasename.
	(normalize): Ditto.
	* objdump.c (update_source_path): Ditto.

2010-01-12  Tristan Gingold  <gingold@@adacore.com>

	* makefile.vms (CFLAGS): Turns warnings into informational messages.

2010-01-11  H.J. Lu  <hongjiu.lu@@intel.com>

	PR ld/11146
	* NEWS: Mention --dyn-syms for readelf.

	* readelf.c (do_dyn_syms): New.
	(OPTION_DYN_SYMS): Likewise.
	(options): Add "dyn-syms".
	(usage): Add --dyn-syms.
	(parse_args): Handle OPTION_DYN_SYMS.
	(process_symbol_table): Handle do_dyn_syms.
	(process_object): Likewise.
	(process_archive): Likewise.

	* doc/binutils.texi: Document --dyn-syms for readelf.  Mention
	symbol hash tables for -D.

2010-01-11  Nick Clifton  <nickc@@redhat.com>

	* NEWS: Mention addition of elfedit.

	* po/fi.po: Updated Finnish translation.

2010-01-09  Ralf Wildenhues  <Ralf.Wildenhues@@gmx.de>

	* Makefile.in: Regenerate.
	* configure: Regenerate.
	* doc/Makefile.in: Regenerate.

2010-01-08  H.J. Lu  <hongjiu.lu@@intel.com>

	* version.c (print_version): Change to "Copyright 2010".

2010-01-08  H.J. Lu  <hongjiu.lu@@intel.com>

	* elfedit.c (input_elf_type): New.
	(output_elf_type): Likewise.
	(elf_type): Likewise.
	(update_elf_header): Support updating ELF file type.
	(command_line_switch): Add OPTION_INPUT_TYPE and
	OPTION_OUTPUT_TYPE.
	(options): Likewise.
	(usage): Add --input-type and --output-type.
	(main): Handle OPTION_INPUT_TYPE and OPTION_OUTPUT_TYPE.  Check
	one of --output-mach and --output-type must be specified.

	* doc/binutils.texi: Document --input-type and --output-type
	for elfedit.

2010-01-08  H.J. Lu  <hongjiu.lu@@intel.com>

	* doc/binutils.texi: Fix a typo.

2010-01-08  H.J. Lu  <hongjiu.lu@@intel.com>

	* elfedit.c (update_elf_header): Don't change input_elf_class
	nor input_elf_machine if they are -1.

2010-01-08  Tristan Gingold  <gingold@@adacore.com>

	* ar.c: Remove bfd_special_undocumented_glue prototype.

2010-01-07  H.J. Lu  <hongjiu.lu@@intel.com>

	* elfedit.c (update_elf_header): Reformat.

2010-01-07  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (usage): Fix indent for --symbols.

2010-01-07  H.J. Lu  <hongjiu.lu@@intel.com>

	* doc/binutils.texi: Replace -histogram with --histogram.

2010-01-06  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/11131
	* Makefile.am (ELFEDIT_PROG): New.
	(bin_PROGRAMS): Add $(ELFEDIT_PROG).
	(CFILES): Add elfedit.c.
	(elfedit_DEPENDENCIES): New.
	(elfedit_SOURCES): Likewise.
	(elfedit_LDADD): Likewise.
	* Makefile.in: Regenerated.

	* elfedit.c: New.

	* doc/binutils.texi: Document elfedit.

	* doc/Makefile.am (man_MANS): Add elfedit.1.
	(elfedit.1): New.
	* doc/Makefile.in: Regenerated.

2010-01-06  Tristan Gingold  <gingold@@adacore.com>

	* nm.c (usage): Remove extra blanks.

2010-01-04  H.J. Lu  <hongjiu.lu@@intel.com>

	* objcopy.c: Update copyright.
	* readelf.c: Likewise.

2010-01-04  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/11130
	* objcopy.c (copy_object): Remove "Warning: " from error
	message.

2010-01-04  Nick Clifton  <nickc@@redhat.com>

	PR 11128
	* readelf.c (dump_section_as_strings): Use two separate
	invocations of printf() in order to work around bugs in
	the Solaris 8 implementation.

2010-01-04  Nick Clifton  <nickc@@redhat.com>

	* po/ru.po: Updated Russian translation.

For older changes see ChangeLog-2009
@


1.1731
log
@Fix typos in elfedit documentation.

2010-12-12  Peter Breitenlohner  <peb@@mppmu.mpg.de>

	PR binutils/12306
	* doc/binutils.texi: Fix typos in elfedit documentation.
@
text
@d1 5
@


1.1730
log
@	* binemul.h (do_ar_emul_append): Declare.
	* binemul.c (any_ok): New function.
	(do_ar_emul_append): Rename from do_ar_emul_default_append.  Make
	global, add check arg.  Adjust callers.
	(ar_emul_default_replace): Tidy.
	* configure.tgt (powerpc-*-aix[5-9]*,rs6000-*-aix[5-9]*): Use
	bin_aix_emulation.
	* emul_aix.c (bin_aix5_emulation, ar_emul_aix_internal): Delete.
	(ar_emul_aix5_append, ar_emul_aix5_replace): Delete.
	(check_aix): New function.
	(ar_emul_aix_append, ar_emul_aix_replace): Rewrite.
@
text
@d1 5
@


1.1729
log
@bfd/binutils/gas/gprof/ld/libiberty/opcodes: add .gitignore

This seems to cover a few random targets as well as --enable-targets=all.

Signed-off-by: Mike Frysinger <vapier@@gentoo.org>
@
text
@d1 14
@


1.1728
log
@	* ar.c: Formatting.
	(usage): Correct help strings.
	(decode_options): Correct getopt_long short options.  Remove
	duplicate non-handled option message.
	(main): Don't handle -M specially.
@
text
@d1 4
@


1.1727
log
@	* ar.c (long_options): Add target.
	(decode_options): Handle the --target option.
	(open_inarch): Check for plugin's target, default to --target
	(replace_members): Use generic `target'.
@
text
@d1 8
@


1.1726
log
@	* ar.c (operation): New global variable.
	(show_version): Likewise.
	(show_help): Likewise.
	(long_options): Likewise.
	(usage): Fix help string argument order.
	(decode_options): New.
	(ranlib_main): Use getopt_long.
	(main): Use decode_options.
@
text
@d3 5
@


1.1725
log
@	* ar.c (main): Split ranlib path.
	(ranlib_usage): New
	(ranlib_main): New
@
text
@d3 9
@


1.1724
log
@	* dwarf.c: #include "bfd_stdint.h".
	(do_gdb_index): New global.
	(display_gdb_index): New function.
	(dwarf_select_sections_by_names) Add "gdb_index".
	(dwarf_select_sections_all): Set do_gdb_index.
	(debug_displays): Add .gdb_index.
	* dwarf.h (do_gdb_index): Declare.
	* objdump.c (usage): Add gdb_index.
	* readelf.c (usage): Add gdb_index.
	(process_section_headers): Process ".gdb_index".
	* doc/binutils.texi (readelf): Document gdb_index dump.
	(objdump): Ditto.
@
text
@d1 6
@


1.1723
log
@2010-12-01  Kai Tietz  <kai.tietz@@onevision.com>

       PR binutils/11065
       * dlltool.c (dll_name_set_by_exp_name): New variable.
       (def_name): Allow setting of dll_name by .def file.
       (def_library): Likewise.
       (main): Set dll_name_set_by_exp_name, if dll_name is
       set indirect by exp_name.
@
text
@d1 15
@


1.1722
log
@	* dwarf.c (decode_location_expression, display_debug_frames): Move
	code handling DW_EH_PE_pcrel into..
	(get_encoded_value): ..here.
@
text
@d1 9
@


1.1721
log
@update japanese translation
@
text
@d3 6
@


1.1720
log
@Update translations
@
text
@d1 4
@


1.1719
log
@Add and use elfcomm.c/elfcomm.h.

2010-11-21  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/12235
	* elfcomm.c: New.
	* elfcomm.h: Likewise.

	* Makefile.am (HFILES): Add elfcomm.h.
	(CFILES): Add elfcomm.c.
	(ELFLIBS): New.
	(readelf_SOURCES): Add $(ELFLIBS).
	(elfedit_SOURCES): Likewise.
	(objdump_SOURCES): Likewise.
	* Makefile.in: Regenerated.

	* dwarf.c: Include "elfcomm.h".
	(byte_get): Removed.
	(byte_get_little_endian): Likewise.
	(byte_get_big_endian): Likewise.
	(byte_get_signed): Likewise.
	(error): Likewise.
	(warn): Likewise.

	* dwarf.h (dwarf_vma): Defined with HOST_WIDEST_INT.
	(dwarf_size_type): Likewise.
	(byte_get): Removed.
	(byte_get_signed): Likewise.
	(byte_get_little_endian): Likewise.
	(byte_get_big_endian): Likewise.
	(error): Likewise.
	(warn): Likewise.

	* elfedit.c: Include "elfcomm.h".  Don't include "aout/ar.h".
	Call error () instead of non_fatal ().
	(streq): Removed.
	(strneq): Likewise.
	(const_strneq): Likewise.
	(non_fatal): Likewise.
	(BYTE_GET): Likewise.
	(BYTE_PUT): Likewise.
	(byte_get): Likewise.
	(byte_put): Likewise.
	(byte_get_little_endian): Likewise.
	(byte_get_big_endian): Likewise.
	(byte_put_little_endian): Likewise.
	(byte_put_big_endian): Likewise.
	(adjust_relative_path): Likewise.
	(archive_info): Likewise.
	(setup_archive): Likewise.
	(release_archive): Likewise.
	(setup_nested_archive): Likewise.
	(get_archive_member_name): Likewise.
	(get_archive_member_name_at): Likewise.
	(make_qualified_name): Likewise.

	* objdump.c: Include "elfcomm.h".

	* readelf.c: Include "elfcomm.h".  Don't include "aout/ar.h".
	(BYTE_GET): Removed.
	(BYTE_GET_SIGNED): Removed.
	(streq): Likewise.
	(strneq): Likewise.
	(const_strneq): Likewise.
	(byte_put): Likewise.
	(byte_put_little_endian): Likewise.
	(byte_put_big_endian): Likewise.
	(adjust_relative_path): Likewise.
	(archive_info): Likewise.
	(setup_archive): Likewise.
	(release_archive): Likewise.
	(setup_nested_archive): Likewise.
	(get_archive_member_name): Likewise.
	(get_archive_member_name_at): Likewise.
	(make_qualified_name): Likewise.
@
text
@d1 9
@


1.1718
log
@	PR binutils/11742
	* readelf.c (get_archive_member_name): Formatting.  Properly
	handle full size ar_name.
@
text
@d1 74
@


1.1717
log
@	* ar.c (print_contents): Don't internationalize strings without words.
	* dwarf.c (process_extended_line_op): Likewise.
	(process_debug_info): Likwise.
	(display_debug_lines_raw): Likewise.
	(display_debug_lines_decoded): Likewise.
	(display_debug_abbrev): Likewise.
	* readelf.c (process_file_header): Likewise.
	(GET_OP): Likewise.
	(decode_arm_unwind): Likewise.
	(process_mips_specific): Likewise.
	* resrc.c (run_cmd): Likewise.
	(rcparse_warning): Likewise.
	* objdump.c (dump_headers): Don't print "Pg".
@
text
@d1 6
@


1.1716
log
@	* windmc.c: ,%s' -> `%s' in a number of strings.
@
text
@d1 16
@


1.1715
log
@blackfin: add support for L1 code/data flags

Add new linker options for marking programs to load into L1 memory
at runtime.  This needs new EF flag bits, so declare them.

Signed-off-by: Jie Zhang <jie.zhang@@analog.com>
Signed-off-by: Mike Frysinger <vapier@@gentoo.org>
@
text
@d1 4
@


1.1714
log
@	bfd/
	* archures.c (bfd_mach_mips_loongson_3a): Defined.
	* bfd-in2.h (bfd_mach_mips_loongson_3a): Defined.
	* cpu-mips.c (I_loongson_3a): New add.
	(arch_info_struct): Add loongson_3a.
	* elfxx-mips.c (_bfd_elf_mips_mach): Add loongson_3a.
	(mips_set_isa_flags): Add loongson_3a.
	(mips_mach_extensions): Add loongson_3a in MIPS64 extensions.

	binutils/
	* readelf.c (get_machine_flags): Add loongson-3a.

	gas/
	* config/tc-mips.c (mips_cpu_info_table): Add loongson3a in MIPS 64.
	* doc/c-mips.texi (MIPS cpu): Add loongson3a.

	include/
	* elf/mips.h (E_MIPS_MACH_LS3A): Defined.
	* opcode/mips.h (INSN_LOONGSON_3A): Defined.
	(CPU_LOONGSON_3A): Defined.
	(OPCODE_IS_MEMBER): Add LOONGSON_3A.

	opcodes/
	* mips-dis.c (mips_arch_choices): Add loongson3a.
	* mips-opc.c (IL3A): Defined as INSN_LOONGSON_3A.
	(mips_builtin_opcodes): Modify some instructions' membership from
	IL2F to IL2F|IL3A, since these instructions are supported by Loongson_3A.
@
text
@d1 4
@


1.1713
log
@Updated translations.
@
text
@d1 4
@


1.1712
log
@Updated Japanese translations.
@
text
@d1 5
@


1.1711
log
@bfd/
	* hash.c (bfd_hash_hash): Extract from..
	(bfd_hash_lookup): ..here.
	(bfd_hash_rename): New function.
	* section.c (bfd_rename_section): New function.
	* bfd-in.h (bfd_hash_rename): Declare.
	* bfd-in2.h: Regenerate.
	* elf.c (_bfd_elf_make_section_from_shdr): Rename input sections
	when compressing or decompressing.  Don't assert name match.
	* elf64-hppa.c (get_reloc_section): Don't assert name match.
	* elfxx-ia64.c (get_reloc_section): Likewise.
binutils/
	* objcopy.c (copy_main): No need to rename sections when compressing
	or decompressing.
binutils/testsuite/
	* binutils-all/objdump.W: Adjust expected result for debug section
	rename.
@
text
@d1 4
d62 1
a62 1
	bfd_get_section_contents with bfd_get_full_section_contents. 
@


1.1710
log
@missed from last commit
@
text
@d1 5
@


1.1709
log
@bfd/
2010-11-05  Tristan Gingold  <gingold@@adacore.com>

	* po/bfd.pot: Regenerate

binutils/
2010-11-05  Tristan Gingold  <gingold@@adacore.com>

	* po/binutils.pot: Regenerate

gas/
2010-11-05  Tristan Gingold  <gingold@@adacore.com>

	* po/gas.pot: Regenerate
	* po/POTFILES.in: Regenerate

gprof/
2010-11-05  Tristan Gingold  <gingold@@adacore.com>

	* po/gprof.pot: Regenerate

ld/
2010-11-05  Tristan Gingold  <gingold@@adacore.com>

	* po/ld.pot: Regenerate
	* po/POTFILES.in: Regenerate

opcodes/
2010-11-05  Tristan Gingold  <gingold@@adacore.com>

	* po/opcodes.pot: Regenerate
@
text
@d1 6
@


1.1708
log
@binutils/
2010-11-05  Tristan Gingold  <gingold@@adacore.com>

	* NEWS: Add marker for 2.21.

gas/
2010-11-05  Tristan Gingold  <gingold@@adacore.com>

	* NEWS: Add marker for 2.21.

ld/
2010-11-05  Tristan Gingold  <gingold@@adacore.com>

	* NEWS: Add marker for 2.21.
@
text
@d3 4
@


1.1708.2.1
log
@bfd/
2010-11-05  Tristan Gingold  <gingold@@adacore.com>

	* po/bfd.pot: Regenerate

binutils/
2010-11-05  Tristan Gingold  <gingold@@adacore.com>

	* po/binutils.pot: Regenerate

gas/
2010-11-05  Tristan Gingold  <gingold@@adacore.com>

	* po/gas.pot: Regenerate
	* po/POTFILES.in: Regenerate

gprof/
2010-11-05  Tristan Gingold  <gingold@@adacore.com>

	* po/gprof.pot: Regenerate

ld/
2010-11-05  Tristan Gingold  <gingold@@adacore.com>

	* po/ld.pot: Regenerate
	* po/POTFILES.in: Regenerate

opcodes/
2010-11-05  Tristan Gingold  <gingold@@adacore.com>

	* po/opcodes.pot: Regenerate
@
text
@a2 4
	* po/binutils.pot: Regenerate

2010-11-05  Tristan Gingold  <gingold@@adacore.com>

@


1.1708.2.2
log
@binutils/

	* bin2c.c: Remove internationalization and version report.
	* Makefile.am: Update bin2c rule.
	* Makefile.in: Regenerate.
@
text
@a0 6
2010-11-05  Alan Modra  <amodra@@gmail.com>

	* bin2c.c: Remove internationalization and version report.
	* Makefile.am: Update bin2c rule.
	* Makefile.in: Regenerate.

@


1.1708.2.3
log
@Updated Japanese translations.
@
text
@a0 4
2010-11-08  Nick Clifton  <nickc@@redhat.com>

	* po/ja.po: Updated Japanese translation.

d53 1
a53 1
	bfd_get_section_contents with bfd_get_full_section_contents.
@


1.1708.2.4
log
@Updated translations.
@
text
@a0 5
2010-11-10  Nick Clifton  <nickc@@redhat.com>

	* po/ja.po: Updated Japanese translation.
	* po/fr.po: Updated French translation.

@


1.1708.2.5
log
@Update translations
@
text
@a0 9
2010-11-25  Alan Modra  <amodra@@gmail.com>

	* po/bg.po: Update.
	* po/es.po: Update.
	* po/fi.po: Update.
	* po/ja.po: Update.
	* po/ru.po: Update.
	* po/zh_CN.po: Update.

@


1.1708.2.6
log
@update japanese translation
@
text
@a0 4
2010-11-26  Alan Modra  <amodra@@gmail.com>

	* po/ja.po: Update.

@


1.1708.2.7
log
@Updated ja.po
@
text
@a0 4
2010-12-21  Alan Modra  <amodra@@gmail.com>

	* po/ja.po: Update.

@


1.1708.2.8
log
@backport from mainline
@
text
@a0 136
2011-02-01  Alan Modra  <amodra@@gmail.com>

	Backport from mainline
	2011-01-19  Maciej W. Rozycki  <macro@@codesourcery.com>
	* readelf.c (process_object): Free dynamic_section after use.

	2011-01-18  H.J. Lu  <hongjiu.lu@@intel.com>
	PR binutils/12408
	* readelf.c (process_archive): Free and reset dump_sects
	after processing each archive member.

	2011-01-11  Andreas Schwab  <schwab@@redhat.com>
	* readelf.c (print_symbol): Handle symbol characters as unsigned.
	Whitespace fixes.

	2011-01-06  Vladimir Siminov  <sv@@sw.ru>
	* bucomm.c (get_file_size): Check for negative sizes and issue a
	warning message if encountered.

	2011-01-01  H.J. Lu  <hongjiu.lu@@intel.com>
	* version.c (print_version): Update copyright to 2011.

	2010-12-15  Kai Tietz  <kai.tietz@@onevision.com>
	* dwarf.c (display_gdb_index): Fix printf types for
	used formatters.

	2010-12-03  Doug Evans  <dje@@google.com>
	* dwarf.c: #include "bfd_stdint.h".
	(do_gdb_index): New global.
	(display_gdb_index): New function.
	(dwarf_select_sections_by_names) Add "gdb_index".
	(dwarf_select_sections_all): Set do_gdb_index.
	(debug_displays): Add .gdb_index.
	* dwarf.h (do_gdb_index): Declare.
	* objdump.c (usage): Add gdb_index.
	* readelf.c (usage): Add gdb_index.
	(process_section_headers): Process ".gdb_index".
	* doc/binutils.texi (readelf): Document gdb_index dump.
	(objdump): Ditto.

	2010-11-26  Alan Modra  <amodra@@gmail.com>
	* dwarf.c (decode_location_expression, display_debug_frames): Move
	code handling DW_EH_PE_pcrel into..
	(get_encoded_value): ..here.

	2010-11-21  H.J. Lu  <hongjiu.lu@@intel.com>
	PR binutils/12235
	* elfcomm.c: New.
	* elfcomm.h: Likewise.
	* Makefile.am (HFILES): Add elfcomm.h.
	(CFILES): Add elfcomm.c.
	(ELFLIBS): New.
	(readelf_SOURCES): Add $(ELFLIBS).
	(elfedit_SOURCES): Likewise.
	(objdump_SOURCES): Likewise.
	* Makefile.in: Regenerated.
	* dwarf.c: Include "elfcomm.h".
	(byte_get): Removed.
	(byte_get_little_endian): Likewise.
	(byte_get_big_endian): Likewise.
	(byte_get_signed): Likewise.
	(error): Likewise.
	(warn): Likewise.
	* dwarf.h (dwarf_vma): Defined with HOST_WIDEST_INT.
	(dwarf_size_type): Likewise.
	(byte_get): Removed.
	(byte_get_signed): Likewise.
	(byte_get_little_endian): Likewise.
	(byte_get_big_endian): Likewise.
	(error): Likewise.
	(warn): Likewise.
	* elfedit.c: Include "elfcomm.h".  Don't include "aout/ar.h".
	Call error () instead of non_fatal ().
	(streq): Removed.
	(strneq): Likewise.
	(const_strneq): Likewise.
	(non_fatal): Likewise.
	(BYTE_GET): Likewise.
	(BYTE_PUT): Likewise.
	(byte_get): Likewise.
	(byte_put): Likewise.
	(byte_get_little_endian): Likewise.
	(byte_get_big_endian): Likewise.
	(byte_put_little_endian): Likewise.
	(byte_put_big_endian): Likewise.
	(adjust_relative_path): Likewise.
	(archive_info): Likewise.
	(setup_archive): Likewise.
	(release_archive): Likewise.
	(setup_nested_archive): Likewise.
	(get_archive_member_name): Likewise.
	(get_archive_member_name_at): Likewise.
	(make_qualified_name): Likewise.
	* objdump.c: Include "elfcomm.h".
	* readelf.c: Include "elfcomm.h".  Don't include "aout/ar.h".
	(BYTE_GET): Removed.
	(BYTE_GET_SIGNED): Removed.
	(streq): Likewise.
	(strneq): Likewise.
	(const_strneq): Likewise.
	(byte_put): Likewise.
	(byte_put_little_endian): Likewise.
	(byte_put_big_endian): Likewise.
	(adjust_relative_path): Likewise.
	(archive_info): Likewise.
	(setup_archive): Likewise.
	(release_archive): Likewise.
	(setup_nested_archive): Likewise.
	(get_archive_member_name): Likewise.
	(get_archive_member_name_at): Likewise.
	(make_qualified_name): Likewise.

	2010-11-18  Alan Modra  <amodra@@gmail.com>
	PR binutils/11742
	* readelf.c (get_archive_member_name): Formatting.  Properly
	handle full size ar_name.

	2010-11-17  Alan Modra  <amodra@@gmail.com>
	* ar.c (print_contents): Don't internationalize strings without words.
	* dwarf.c (process_extended_line_op): Likewise.
	(process_debug_info): Likwise.
	(display_debug_lines_raw): Likewise.
	(display_debug_lines_decoded): Likewise.
	(display_debug_abbrev): Likewise.
	* readelf.c (process_file_header): Likewise.
	(GET_OP): Likewise.
	(decode_arm_unwind): Likewise.
	(process_mips_specific): Likewise.
	* resrc.c (run_cmd): Likewise.
	(rcparse_warning): Likewise.
	* objdump.c (dump_headers): Don't print "Pg".

	2010-11-08  Alan Modra  <amodra@@gmail.com>
	* objcopy.c (copy_main): No need to rename sections when compressing
	or decompressing.

@


1.1708.2.9
log
@	PR binutils/12523
	* readelf.c (process_object): Clear dynamic_info_DT_GNU_HASH.
@
text
@a0 5
2011-03-01  Akos Pasztory  <akos.pasztory@@gmail.com>

	PR binutils/12523
	* readelf.c (process_object): Clear dynamic_info_DT_GNU_HASH.

@


1.1708.2.10
log
@	PR 12365
	PR 12613
	PR 12632
	PR 12739
	PR 12753
	PR 12760
	PR 12763
Apply fix from mainline along with assorted other small fixes.
@
text
@a0 18
2011-05-29  Alan Modra  <amodra@@gmail.com>

	Apply from mainline
	2011-05-18  Nick Clifton  <nickc@@redhat.com>
	PR binutils/12753
	* nm.c (filter_symbols): Treat unique symbols as global symbols.
	* doc/binutils.texi (nm): Mention that some lowercase letters
	actually indicate global symbols.

	2011-05-07  Alan Modra  <amodra@@gmail.com>
	* objcopy.c (copy_archive): Check bfd_openw result in unknown object
	case.  Rewrite without goto.

	2011-04-03  H.J. Lu  <hongjiu.lu@@intel.com>
	PR binutils/12632
	* objcopy.c (copy_unknown_object): Make the archive element
	readable.

@


1.1708.2.11
log
@	PR binutils/12820
	* Makefile.am (bin_PROGRAMS): Move BUILD_INSTALL_MISC to..
	(bin_SCRIPTS): ..here.
	(EXTRA_SCRIPTS): Define.
	(EXTRA_DIST): Add embedspu.sh.
	(DISTCLEANFILES): Add embedspu.
	(embedspu): Depend on Makefile.  Replace sed "s" command with "c".
	* Makefile.in: Regenerate.
@
text
@a0 11
2011-05-30  Alan Modra  <amodra@@gmail.com>

	PR binutils/12820
	* Makefile.am (bin_PROGRAMS): Move BUILD_INSTALL_MISC to..
	(bin_SCRIPTS): ..here.
	(EXTRA_SCRIPTS): Define.
	(EXTRA_DIST): Add embedspu.sh.
	(DISTCLEANFILES): Add embedspu.
	(embedspu): Depend on Makefile.  Replace sed "s" command with "c".
	* Makefile.in: Regenerate.

@


1.1708.2.12
log
@	PR binutils/12820
	* configure.in (BUILD_INSTALL_MISC): Only add embedspu once.
	* configure: Regenerate.
@
text
@a0 5
2011-05-31  Matthias Klose  <doko@@ubuntu.com>

	* configure.in (BUILD_INSTALL_MISC): Only add embedspu once.
	* configure: Regenerate.

@


1.1707
log
@Don't display bits only used for BFD in abfd->flags.

bfd/

2010-11-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* bfd.c (BFD_FLAGS_FOR_BFD_USE_MASK): New.
	* bfd-in2.h: Regenerated.

binutils/

2010-11-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* objdump.c (dump_bfd_header): Don't display
	BFD_FLAGS_FOR_BFD_USE_MASK bits in abfd->flags.
@
text
@d1 4
@


1.1706
log
@bfd:
	* elf32-tic6x.c (elf32_tic6x_obj_attrs_arg_type): Except for
	Tag_ABI_compatibility, treat odd tags as strings and even ones as
	integers.
	(elf32_tic6x_obj_attrs_order, elf32_tic6x_tag_to_array_alignment,
	elf32_tic6x_array_alignment_to_tag): New.
	(elf32_tic6x_merge_attributes): Handle more attributes.  Set type
	for merged attributes.
	(elf_backend_obj_attrs_order): Define.

binutils:
	* readelf.c (display_tic6x_attribute): Handle more attributes.

gas:
	* config/tc-tic6x.c (OPTION_MPID, OPTION_MPIC, OPTION_MNO_PIC):
	New enum values.
	(md_longopts): Add options mpid, mpic and mno-pic.
	(tic6x_pid_type, tic6x_pid, tic6x_pic, tic6x_pid_type_table,
	tic6x_pid_types, tic6x_use_pid): New.
	(md_parse_option): Handle new options.
	(md_show_usage): Output help text for new options.
	(tic6x_set_attributes): Set PID and PIC attributes.
	* doc/as.texinfo: Document -mpid=, -mpic and -mno-pic.
	* doc/c-tic6x.texi (TIC6X Options): Likewise.

gas/testsuite:
	* gas/tic6x/attr-array-directive-1.d,
	gas/tic6x/attr-array-directive-1.s,
	gas/tic6x/attr-array-directive-2.d,
	gas/tic6x/attr-array-directive-2.s,
	gas/tic6x/attr-array-directive-3.d,
	gas/tic6x/attr-array-directive-3.s,
	gas/tic6x/attr-array-directive-4.d,
	gas/tic6x/attr-array-directive-4.s,
	gas/tic6x/attr-conformance-directive-1.d,
	gas/tic6x/attr-conformance-directive-1.s,
	gas/tic6x/attr-conformance-directive-2.d,
	gas/tic6x/attr-conformance-directive-2.s,
	gas/tic6x/attr-pic-directive-1.d,
	gas/tic6x/attr-pic-directive-1.s,
	gas/tic6x/attr-pic-directive-2.d,
	gas/tic6x/attr-pic-directive-2.s,
	gas/tic6x/attr-pic-opts-mno-pic.d, gas/tic6x/attr-pic-opts-mpic.d,
	gas/tic6x/attr-pid-directive-1.d,
	gas/tic6x/attr-pid-directive-1.s,
	gas/tic6x/attr-pid-directive-2.d,
	gas/tic6x/attr-pid-directive-2.s,
	gas/tic6x/attr-pid-opts-mpid-far.d,
	gas/tic6x/attr-pid-opts-mpid-near.d,
	gas/tic6x/attr-pid-opts-mpid-no.d,
	gas/tic6x/attr-stack-directive-1.d,
	gas/tic6x/attr-stack-directive-1.s,
	gas/tic6x/attr-stack-directive-2.d,
	gas/tic6x/attr-stack-directive-2.s,
	gas/tic6x/attr-wchar-directive-1.d,
	gas/tic6x/attr-wchar-directive-1.s,
	gas/tic6x/attr-wchar-directive-2.d,
	gas/tic6x/attr-wchar-directive-2.s: New tests.

include/elf:
	* tic6x-attrs.h (Tag_ABI_wchar_t, Tag_ABI_stack_align_needed,
	Tag_ABI_stack_align_preserved, Tag_ABI_PID, Tag_ABI_PIC,
	Tag_ABI_array_object_alignment,
	Tag_ABI_array_object_align_expected, Tag_ABI_conformance): Define.

ld/testsuite:
	* ld-tic6x/attr-array-16-16.d, ld-tic6x/attr-array-16-4.d,
	ld-tic6x/attr-array-16-416.d, ld-tic6x/attr-array-16-48.d,
	ld-tic6x/attr-array-16-8.d, ld-tic6x/attr-array-16-816.d,
	ld-tic6x/attr-array-16.s, ld-tic6x/attr-array-4-16.d,
	ld-tic6x/attr-array-4-4.d, ld-tic6x/attr-array-4-416.d,
	ld-tic6x/attr-array-4-48.d, ld-tic6x/attr-array-4-8.d,
	ld-tic6x/attr-array-4-816.d, ld-tic6x/attr-array-4.s,
	ld-tic6x/attr-array-416-16.d, ld-tic6x/attr-array-416-4.d,
	ld-tic6x/attr-array-416-416.d, ld-tic6x/attr-array-416-48.d,
	ld-tic6x/attr-array-416-8.d, ld-tic6x/attr-array-416-816.d,
	ld-tic6x/attr-array-416.s, ld-tic6x/attr-array-48-16.d,
	ld-tic6x/attr-array-48-4.d, ld-tic6x/attr-array-48-416.d,
	ld-tic6x/attr-array-48-48.d, ld-tic6x/attr-array-48-8.d,
	ld-tic6x/attr-array-48-816.d, ld-tic6x/attr-array-48.s,
	ld-tic6x/attr-array-8-16.d, ld-tic6x/attr-array-8-4.d,
	ld-tic6x/attr-array-8-416.d, ld-tic6x/attr-array-8-48.d,
	ld-tic6x/attr-array-8-8.d, ld-tic6x/attr-array-8-816.d,
	ld-tic6x/attr-array-8.s, ld-tic6x/attr-array-816-16.d,
	ld-tic6x/attr-array-816-4.d, ld-tic6x/attr-array-816-416.d,
	ld-tic6x/attr-array-816-48.d, ld-tic6x/attr-array-816-8.d,
	ld-tic6x/attr-array-816-816.d, ld-tic6x/attr-array-816.s,
	ld-tic6x/attr-conformance-10-10.d,
	ld-tic6x/attr-conformance-10-11.d,
	ld-tic6x/attr-conformance-10-none.d,
	ld-tic6x/attr-conformance-10.s, ld-tic6x/attr-conformance-11-10.d,
	ld-tic6x/attr-conformance-11-11.d,
	ld-tic6x/attr-conformance-11-none.d,
	ld-tic6x/attr-conformance-11.s,
	ld-tic6x/attr-conformance-none-10.d,
	ld-tic6x/attr-conformance-none-11.d,
	ld-tic6x/attr-conformance-none-none.d,
	ld-tic6x/attr-conformance-none.s, ld-tic6x/attr-pic-0.s,
	ld-tic6x/attr-pic-00.d, ld-tic6x/attr-pic-01.d,
	ld-tic6x/attr-pic-1.s, ld-tic6x/attr-pic-10.d,
	ld-tic6x/attr-pic-11.d, ld-tic6x/attr-pid-0.s,
	ld-tic6x/attr-pid-00.d, ld-tic6x/attr-pid-01.d,
	ld-tic6x/attr-pid-02.d, ld-tic6x/attr-pid-1.s,
	ld-tic6x/attr-pid-10.d, ld-tic6x/attr-pid-11.d,
	ld-tic6x/attr-pid-12.d, ld-tic6x/attr-pid-2.s,
	ld-tic6x/attr-pid-20.d, ld-tic6x/attr-pid-21.d,
	ld-tic6x/attr-pid-22.d, ld-tic6x/attr-stack-16-16.d,
	ld-tic6x/attr-stack-16-8.d, ld-tic6x/attr-stack-16-816.d,
	ld-tic6x/attr-stack-16.s, ld-tic6x/attr-stack-8-16.d,
	ld-tic6x/attr-stack-8-8.d, ld-tic6x/attr-stack-8-816.d,
	ld-tic6x/attr-stack-8.s, ld-tic6x/attr-stack-816-16.d,
	ld-tic6x/attr-stack-816-8.d, ld-tic6x/attr-stack-816-816.d,
	ld-tic6x/attr-stack-816.s, ld-tic6x/attr-wchar-0.s,
	ld-tic6x/attr-wchar-00.d, ld-tic6x/attr-wchar-01.d,
	ld-tic6x/attr-wchar-02.d, ld-tic6x/attr-wchar-1.s,
	ld-tic6x/attr-wchar-10.d, ld-tic6x/attr-wchar-11.d,
	ld-tic6x/attr-wchar-12.d, ld-tic6x/attr-wchar-2.s,
	ld-tic6x/attr-wchar-20.d, ld-tic6x/attr-wchar-21.d,
	ld-tic6x/attr-wchar-22.d: New tests.
@
text
@d1 5
@


1.1705
log
@2010-10-30  Kai Tietz  <kai.tietz@@onevision.com>

        * dlltool.c (scan_drectve_symbols): Allow quoted strings for -export
        directives.
@
text
@d1 4
@


1.1704
log
@bfd:
	* elf32-tic6x.c (elf32_tic6x_obj_attrs_arg_type): Check
	Tag_ABI_compatibility not Tag_compatibility.
	(elf32_tic6x_merge_attributes): Update compatibility attribute
	name in comment.  Return FALSE if merging common attributes fails.

binutils:
	* readelf.c (display_tic6x_attribute): Use Tag_ABI_compatibility
	not hardcoded 32.  Display name of this attribute.

gas:
	* doc/c-tic6x.texi (TIC6X Directives): Mention
	Tag_ABI_compatibility.

gas/testsuite:
	* gas/tic6x/attr-compatibility-directive-1.d,
	gas/tic6x/attr-compatibility-directive-1.s,
	gas/tic6x/attr-compatibility-directive-2.d,
	gas/tic6x/attr-compatibility-directive-2.s: New tests.

include/elf:
	* tic6x-attrs.h (Tag_ABI_compatibility): Define.

ld/testsuite:
	* ld-tic6x/attr-compatibility-gnu-gnu.d,
	ld-tic6x/attr-compatibility-gnu-other.d,
	ld-tic6x/attr-compatibility-gnu.s,
	ld-tic6x/attr-compatibility-other-gnu.d,
	ld-tic6x/attr-compatibility-other-other.d,
	ld-tic6x/attr-compatibility-other.s: New tests.
@
text
@d1 5
@


1.1703
log
@Add compressed debug section support to binutils and ld.

bfd/

2010-10-29  H.J. Lu  <hongjiu.lu@@intel.com>
	    Cary Coutant  <ccoutant@@google.com>

	* archive.c (bfd_openr_next_archived_file): Copy BFD_COMPRESS
	and BFD_DECOMPRESS.

	* bfd.c (BFD_COMPRESS): New.
	(BFD_DECOMPRESS): Likewise.
	(BFD_FLAGS_SAVED): Likewise.
	(bfd_preserve_save): Replace BFD_IN_MEMORY with BFD_FLAGS_SAVED.

	* compress.c (bfd_uncompress_section_contents): Removed.
	(get_uncompressed_size): New.
	(decompress_contents): Likewise.
	(bfd_compress_section_contents): Likewise.
	(bfd_get_full_section_contents): Likewise.
	(bfd_is_section_compressed): Likewise.
	(bfd_init_section_decompress_status): Likewise.
	(bfd_init_section_compress_status): Likewise.

	* dwarf2.c (dwarf_debug_sections): New.
	(dwarf_debug_section_enum): Likewise.
	(read_section): Remove section_name and compressed_section_name.
	Add dwarf_debug_section_enum.  Try compressed debug section.
	(read_indirect_string): Updated.
	(read_abbrevs): Likewise.
	(decode_line_info): Likewise.
	(read_debug_ranges): Likewise.
	(find_line): Updated.

	* ecoff.c (bfd_debug_section): Add compress_status and
	compressed_size.

	* elf.c (_bfd_elf_make_section_from_shdr): Call
	bfd_is_section_compressed to check if a DWARF debug section is
	compressed.  Call bfd_init_section_compress_status or
	bfd_init_section_decompress_status if needed.

	* elflink.c (elf_link_input_bfd): Replace bfd_get_section_contents
	with bfd_get_full_section_contents.
	* merge.c (_bfd_add_merge_section): Likewise.
	* reloc.c (bfd_generic_get_relocated_section_contents): Likewise.
	* simple.c (bfd_simple_get_relocated_section_contents): Likewise.

	* elfxx-target.h (TARGET_BIG_SYM): Allow BFD_COMPRESS and
	BFD_DECOMPRESS.
	(TARGET_LITTLE_SYM): Likewise.

	* libbfd-in.h (dwarf_debug_section): New.
	(dwarf_debug_sections): Likewise.

	* libbfd.c (_bfd_generic_get_section_contents): Issue an error
	when getting contents on compressed/decompressed section.

	* section.c (COMPRESS_SECTION_NONE): New.
	(COMPRESS_SECTION_DONE): Likewise.
	(DECOMPRESS_SECTION_SIZED): Likewise.
	(BFD_FAKE_SECTION): Add compress_status and compressed_size.
	(bfd_malloc_and_get_section): Replace bfd_get_section_contents
	with bfd_get_full_section_contents.

	* bfd-in2.h: Regenerated.
	* libbfd.h: Likewise.

binutils/

2010-10-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* addr2line.c (process_file): Set BFD_DECOMPRESS.

	* objcopy.c (do_debug_sections): New.
	(OPTION_COMPRESS_DEBUG_SECTIONS): New.
	(OPTION_DECOMPRESS_DEBUG_SECTIONS): Likewise.
	(copy_options): Add OPTION_COMPRESS_DEBUG_SECTIONS and
	OPTION_DECOMPRESS_DEBUG_SECTIONS.
	(copy_usage): Add --compress-debug-sections and
	--decompress-debug-sections.
	(copy_file): Set BFD_COMPRESS or BFD_DECOMPRESS.
	(copy_section): Replace bfd_get_section_contents with
	bfd_get_full_section_contents.
	(copy_main): Handle OPTION_COMPRESS_DEBUG_SECTIONS and
	OPTION_DECOMPRESS_DEBUG_SECTIONS.  Check do_debug_sections to
	rename DWARF debug sections.

	* objdump.c (load_specific_debug_section): Replace
	bfd_get_section_contents with bfd_get_full_section_contents.
	Remove bfd_uncompress_section_contents.
	(dump_section): Replace bfd_get_section_contents with
	bfd_get_full_section_contents.
	(display_file): Set BFD_DECOMPRESS if needed.

	* readelf.c (uncompress_section_contents): Set buffer to NULL
	to indiate decompression failure.
	(load_specific_debug_section): Always call
	uncompress_section_contents.

	* doc/binutils.texi: Document --compress-debug-sections and
	--decompress-debug-sections.

binutils/testsuite/

2010-10-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/compress.exp: New.
	* binutils-all/dw2-1.S: Likewise.
	* binutils-all/dw2-2.S: Likewise.
	* binutils-all/libdw2-compressed.out: Likewise.
	* binutils-all/libdw2.out: Likewise.

gas/

2010-10-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* write.c (compress_debug): Optimize section flags check.

gas/testsuite/

2010-10-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* elf/dwarf2-1.s: Replace .zdebug_abbrev section with
	.debug_abbrev section.
	* elf/dwarf2-2.3: Likewise.

	* elf/dwarf2-1.d: Pass --compress-debug-sections to assembler.
	Updated.
	* elf/dwarf2-2.d: Likewise.

	* gas/i386/i386.exp: Remove xfail on dw2-compress-2 and
	x86-64-dw2-compress-2.

ld/

2010-10-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* ldfile.c (ldfile_try_open_bfd): Set BFD_DECOMPRESS after
	bfd_openr returns.
	* emultempl/elf32.em (gld${EMULATION_NAME}_try_needed): Likewise.

	* scripttempl/elf.sc: Include compressed DWARF debug sections.

ld/testsuite/

2010-10-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* ld-elf/compress.exp: New.
	* ld-elf/compress1.s: Likewise.
	* ld-elf/compress1a.d: Likewise.
	* ld-elf/compress1b.d: Likewise.
	* ld-elf/compress1c.d: Likewise.
@
text
@d1 5
@


1.1702
log
@        PR binutils/12058
        * ar.c (usage): Revert previous change.  Describe how 's' can be
        used as a command letter.
        * doc/binutils.texi (ar cmdline): Describe how 's' can be used as
        a command letter.
@
text
@d1 33
@


1.1701
log
@bfd:
2010-10-29  Bernd Schmidt  <bernds@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* elf32-tic6x.c (elf32_tic6x_merge_attributes): Check for mismatch
	of DSBT attributes.

binutils:
2010-10-29  Bernd Schmidt  <bernds@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* readelf.c (display_tic6x_attribute): Handle Tag_ABI_DSBT.

gas:
2010-10-29  Bernd Schmidt  <bernds@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* config/tc-tic6x.c (OPTION_MDSBT, OPTION_MNO_DSBT): New enum
	values.
	(md_longopts): Add mdsbt and mno-dsbt.
	(tic6x_dsbt): New static variable.
	(md_parse_option): Handle OPTION_MDSBT and OPTION_MNO_DSBT.
	(md_show_usage): Output help text for -mdsbt and -mno-dsbt.
	(TAG): Add comma at the end.
	(tic6x_set_attributes): Set Tag_ABI_DSBT.
	* doc/as.texinfo: Document -mdsbt and -mno-dsbt.
	* doc/c-tic6x.texi (TIC6X Options): Likewise.
	(TIC6X Directives): Mention Tag_ABI_DSBT.

gas/testsuite:
2010-10-29  Bernd Schmidt  <bernds@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* gas/tic6x/attr-dsbt-directive-1.d,
	gas/tic6x/attr-dsbt-directive-1.s,
	gas/tic6x/attr-dsbt-directive-2.d,
	gas/tic6x/attr-dsbt-directive-2.s,
	gas/tic6x/attr-dsbt-opts-mdsbt.d,
	gas/tic6x/attr-dsbt-opts-mno-dsbt.d: New tests.

include/elf:
2010-10-29  Bernd Schmidt  <bernds@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* tic6x-attrs.h (Tag_ABI_DSBT): New.

ld/testsuite:
2010-10-29  Bernd Schmidt  <bernds@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* ld-tic6x/attr-dsbt-0.s, ld-tic6x/attr-dsbt-00.d,
	ld-tic6x/attr-dsbt-01.d, ld-tic6x/attr-dsbt-1.s,
	ld-tic6x/attr-dsbt-10.d, ld-tic6x/attr-dsbt-11.d: New tests.
@
text
@d1 8
@


1.1700
log
@        PR binutils/12058
        * ar.c (usage): Remove spurious 's' from list of accepted command
        letters.
@
text
@d1 5
@


1.1699
log
@	* readelf.c (is_32bit_abs_reloc): Support i960 and microblaze.
	(is_32bit_pcrel_reloc): Support microblaze.
@
text
@d1 6
@


1.1698
log
@        * po/ja.po: Updated Japanese transaltion.
@
text
@d1 5
@


1.1697
log
@bfd:
	* elf32-tic6x.c (elf32_tic6x_merge_arch_attributes): Update for
	attribute renaming.
	(elf_backend_obj_attrs_section): Change to ".c6xabi.attributes".

binutils:
	* readelf.c (display_tic6x_attribute): Update for attribute
	renaming.

gas:
	* config/tc-tic6x.c (tic6x_arch_attribute, tic6x_arches,
	md_assemble, tic6x_set_attributes): Update for attribute renaming.
	* doc/c-tic6x.texi: Update for attribute renaming.

gas/testsuite:
	* gas/tic6x/attr-arch-directive-1.d,
	gas/tic6x/attr-arch-directive-2.d,
	gas/tic6x/attr-arch-directive-3.d,
	gas/tic6x/attr-arch-directive-4.d,
	gas/tic6x/attr-arch-directive-4.s,
	gas/tic6x/attr-arch-directive-5.d,
	gas/tic6x/attr-arch-directive-5.s,
	gas/tic6x/attr-arch-opts-c62x.d, gas/tic6x/attr-arch-opts-c64x+.d,
	gas/tic6x/attr-arch-opts-c64x.d, gas/tic6x/attr-arch-opts-c674x.d,
	gas/tic6x/attr-arch-opts-c67x+.d, gas/tic6x/attr-arch-opts-c67x.d,
	gas/tic6x/attr-arch-opts-none-1.d,
	gas/tic6x/attr-arch-opts-none-2.d,
	gas/tic6x/attr-arch-opts-override-1.d,
	gas/tic6x/attr-arch-opts-override-2.d: Update for attribute
	renaming and renumbering.

include/elf:
	* tic6x-attrs.h (Tag_C6XABI_Tag_CPU_arch): Change to Tag_ISA,
	value 4.
	* tic6x.h (Values for Tag_C6XABI_Tag_CPU_arch): Rename for
	attribute renaming.

ld:
	* emulparams/elf32_tic6x_le.sh (ATTRS_SECTIONS): Use
	.c6xabi.attributes, not __TI_build_attributes.

ld/testsuite:
	* ld-tic6x/attr-arch-c62x-c62x.d, ld-tic6x/attr-arch-c62x-c64x+.d,
	ld-tic6x/attr-arch-c62x-c64x.d, ld-tic6x/attr-arch-c62x-c674x.d,
	ld-tic6x/attr-arch-c62x-c67x+.d, ld-tic6x/attr-arch-c62x-c67x.d,
	ld-tic6x/attr-arch-c64x+-c62x.d, ld-tic6x/attr-arch-c64x+-c64x+.d,
	ld-tic6x/attr-arch-c64x+-c64x.d, ld-tic6x/attr-arch-c64x+-c674x.d,
	ld-tic6x/attr-arch-c64x+-c67x+.d, ld-tic6x/attr-arch-c64x+-c67x.d,
	ld-tic6x/attr-arch-c64x-c62x.d, ld-tic6x/attr-arch-c64x-c64x+.d,
	ld-tic6x/attr-arch-c64x-c64x.d, ld-tic6x/attr-arch-c64x-c674x.d,
	ld-tic6x/attr-arch-c64x-c67x+.d, ld-tic6x/attr-arch-c64x-c67x.d,
	ld-tic6x/attr-arch-c674x-c62x.d, ld-tic6x/attr-arch-c674x-c64x+.d,
	ld-tic6x/attr-arch-c674x-c64x.d, ld-tic6x/attr-arch-c674x-c674x.d,
	ld-tic6x/attr-arch-c674x-c67x+.d, ld-tic6x/attr-arch-c674x-c67x.d,
	ld-tic6x/attr-arch-c67x+-c62x.d, ld-tic6x/attr-arch-c67x+-c64x+.d,
	ld-tic6x/attr-arch-c67x+-c64x.d, ld-tic6x/attr-arch-c67x+-c674x.d,
	ld-tic6x/attr-arch-c67x+-c67x+.d, ld-tic6x/attr-arch-c67x+-c67x.d,
	ld-tic6x/attr-arch-c67x-c62x.d, ld-tic6x/attr-arch-c67x-c64x+.d,
	ld-tic6x/attr-arch-c67x-c64x.d, ld-tic6x/attr-arch-c67x-c674x.d,
	ld-tic6x/attr-arch-c67x-c67x+.d, ld-tic6x/attr-arch-c67x-c67x.d:
	Update for attribute renaming.
@
text
@d1 4
@


1.1696
log
@Use BYTE_GET_SIGNED on r_addend.

2010-10-08  H.J. Lu  <hongjiu.lu@@intel.com>

	* dwarf.c (byte_get_signed): Make it extern.

	* dwarf.h (byte_get_signed): New.

	* readelf.c (BYTE_GET_SIGNED): New.
	(slurp_rela_relocs): Use BYTE_GET_SIGNED on r_addend.
	(dump_relocations): Properly dump r_addend.
@
text
@d1 5
@


1.1695
log
@	* nm.c (value_format_64bit): Define appropriately for __MSVCRT__.
	(set_print_radix): Update for __MSVCRT__ definition of
	value_format_64bit.
@
text
@d1 10
@


1.1694
log
@Fix build with -DDEBUG=7
@
text
@d1 6
@


1.1693
log
@	* bucomm.c (bfd_nonfatal, bfd_nonfatal_message): Don't clobber errno.
@
text
@d1 5
@


1.1692
log
@	* bucomm.c (bfd_nonfatal): Flush stdout before output to stderr.
	(bfd_nonfatal_message, report, list_matching_formats): Likewise.
	(list_supported_targets): Tidy.
	* objdump.c (free_only_list): Formatting.
	(slurp_dynamic_symtab): Non-zero exit status for "not a dynamic
	object".
	(update_source_path): Delete redundant check for NULL filename.
	(disassemble_bytes): Error if disassemble_fn returns a value
	that won't increment address.
	(disassemble_data): Don't capitalize error message.
	(read_section_stabs): Likewise.
	(main): Return non-zero exit status on bad options.
@
text
@d1 4
@


1.1691
log
@Set BFD target to "plugin" for "nm --plugin".

2010-10-03  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/12088
	* nm.c (plugin_target): New.
	(main): Set plugin_target to "plugin" for --plugin.
	(display_file): Pass plugin_target to bfd_openr if target
	isn't set.
@
text
@d1 15
@


1.1690
log
@Fix unportable shell quoting.

/:
	Sync from GCC:

	PR bootstrap/44621
	* configure.ac: Fix unportable shell quoting.
	* configure: Regenerate.

config/:
	* po.m4 (AM_PO_SUBDIRS): Fix unportable shell quoting.

bfd/:
	* configure: Regenerate.

gas/:
	* configure: Regenerate.

gold/:
	* configure: Regenerate.

intl/:
	* configure: Regenerate.

ld/:
	* configure: Regenerate.

opcodes/:
	* configure: Regenerate.

binutils/:
	* configure: Regenerate.

gprof/:
	* configure: Regenerate.
@
text
@d1 8
@


1.1689
log
@MAINTAINERS: add myself for Blackfin parts

I know a thing or two about Blackfin parts, and if I can't find the
answer, I can usually locate someone who does.  Especially since Jie
and Bernd no longer work for ADI :(.

Signed-off-by: Mike Frysinger <vapier@@gentoo.org>
@
text
@d1 4
@


1.1688
log
@Fix date.
@
text
@d1 4
@


1.1687
log
@Add a target argument.

2010-09-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* emul_aix.c (ar_emul_aix_append): Add a target argument
	and ignore it if it is set.
	(ar_emul_aix5_append): Likewise.
	(ar_emul_aix_replace): Likewise.
	(ar_emul_aix5_replace): Likewise.
@
text
@d1 1
a1 1
2010-09-15  H.J. Lu  <hongjiu.lu@@intel.com>
@


1.1686
log
@Pass "plugin" as target for "ar --plugin" when opening a BFD file.

2010-09-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* ar.c (plugin_target): New.
	(main): Set plugin_target to "plugin" for --plugin.
	(open_inarch): Initialize target to plugin_target.
	(replace_members): Pass plugin_target to ar_emul_replace
	and ar_emul_append.

	* binemul.h (ar_emul_append): Add a target argument.
	(ar_emul_default_append): Likewise.
	(ar_emul_replace): Likewise.
	(ar_emul_default_replace): Likewise.
	(bin_emulation_xfer_struct): Add a target argument to
	ar_append and ar_replace.

	* binemul.c (ar_emul_append): Updated.  Pass target to bfd_openr.
	(do_ar_emul_default_append): Likewise.
	(ar_emul_default_append): Likewise.
	(ar_emul_replace): Likewise.
	(ar_emul_default_replace): Likewise.
@
text
@d3 8
@


1.1685
log
@        * objcopy.c: Add --interleave-width option to allow interleaving
        of more than one byte at a time.
        (copy_width): New variable.
        (copy_options): Add --interleave-width.
        (copy_section): When interleaving copy in units of copy_width
        bytes.
        (copy_main): Parse the new option.
        * doc/binutils: Document the new option.
        * NEWS: Mention the new feature.

        * binutils-all/objcopy.exp: Add test of new --interleave-width
        option.
@
text
@d1 21
@


1.1684
log
@	* dwarf.c (decode_location_expression): Fix data adjustment
	for DW_OP_GNU_implicit_pointer in v3+.
@
text
@d1 12
@


1.1683
log
@binutils/
2010-09-09  Tristan Gingold  <gingold@@adacore.com>

	* NEWS: Add entry to NEWS for hppa/som.


ld/
2010-09-09  Tristan Gingold  <gingold@@adacore.com>

	* NEWS: Add a entry for alpha-vms.
@
text
@d1 5
@


1.1682
log
@	* dwarf.h (debug_info): Add offset_info and dwarf_version fields.
	* dwarf.c (decode_location_expression): Add offset_size and
	dwarf_version arguments.  Prefix DIE offset with 0x for
	DW_OP_call{2,4,_ref}.  Fix up DW_OP_call_ref operand size,
	complain if in frame info section.  Handle
	DW_OP_GNU_implicit_pointer.
	(read_and_display_attr_value, display_debug_loc,
	display_debug_frames): Adjust decode_location_expression callers.
	(process_debug_info): Save offset_size and dwarf_version values
	into debug_information array.

	* dwarf2.h (DW_OP_GNU_implicit_pointer): New.
@
text
@d1 4
@


1.1681
log
@        * ldwrite.c (clone_section): Call bfd_copy_private_section_data on
        newly cloned section.
        * ld-x86-64/split-by-file.rd: New test.
        * ld-x86-64/split-by-file1.s: New test source code.
        * ld-x86-64/split-by-file2.s: New test source code.
        * ld-x86-64/x86-64.exp: Run the new test.
        * readelf.c (process_section_headers): Mention meaning of 'l'
        section flag for x86-64 targets.
@
text
@d1 13
@


1.1680
log
@binutils/
	* dwarf.c (regname): New declaration.
	(decode_location_expression): Print for registers also regname output.

binutils/testsuite/
	* binutils-all/objdump.W: Update DW_OP_reg5 expected output.

gas/testsuite/
	* gas/elf/dwarf2-1.d: Update DW_OP_reg5 expected output.
	* gas/elf/dwarf2-2.d: Likewise.
	* gas/i386/dw2-compress-1.d: Likewise.
@
text
@d1 5
@


1.1679
log
@	* dwarf.c (init_dwarf_regnames_i386, init_dwarf_regnames_x86_64): New.
	(init_dwarf_regnames): Use them.
	* dwarf.h: Declare them.
	* objdump.c (dump_dwarf): Use bfd_get_arch + bfd_get_mach to set up
	the regnames, rather than using elf_machine_code.
@
text
@d1 6
@


1.1678
log
@        * objdump.c (dump_dwarf): Use bfd_arch_bits_per_address.
@
text
@d1 9
a9 1
2010-08-23  Richard Henderson  <rth@@redhat.com>
@


1.1677
log
@Move gas/ld NEWS from binutils to gas/ld.
@
text
@d1 4
@


1.1676
log
@	* NEWS: Mention ampersand in macro change.
@
text
@a0 4
2010-08-25  Alan Modra  <amodra@@gmail.com>

	* NEWS: Mention ampersand in macro change.

a22 4
2010-08-19  Alan Modra  <amodra@@gmail.com>

	* NEWS: Mention change in linker script expression evaluation.

@


1.1675
log
@Add --input-osabi and --output-osabi to elfedit.

binutils/

2010-08-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* elfedit.c (input_elf_osabi): New.
	(output_elf_osbi): Likewise.
	(osabis): Likewise.
	(elf_osabi): Likewise.
	(update_elf_header): Support updating ELF OSABI.
	(make_qualified_name): Break long line.
	(command_line_switch): Add OPTION_INPUT_OSABI and
	OPTION_OUTPUT_OSABI.
	(options): Likewise.
	(usage): Add --input-osabi and --output-osabi.
	(main): Handle OPTION_INPUT_OSABI and OPTION_OUTPUT_OSABI.

	* doc/binutils.texi: Document --input-osabi and --output-osabi
	for elfedit.

binutils/testsuite/

2010-08-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/elfedit-3.d: New.

	* binutils-all/elfedit.exp: Run elfedit-3.
@
text
@d1 4
@


1.1674
log
@	binutils/
	* readelf.c (display_mips_gnu_attribute): Replace GCC options
	with a textual description of a MIPS32r2 64-bit FPU.

	ld/testsuite/
	* ld-mips-elf/attr-gnu-4-04.d: Adjust Tag_GNU_MIPS_ABI_FP for
	the new MIPS32r2 64-bit FPU description.
	* ld-mips-elf/attr-gnu-4-40.d: Likewise.
	* ld-mips-elf/attr-gnu-4-44.d: Likewise.
@
text
@d1 17
@


1.1673
log
@	binutils/
	* ChangeLog: Add a missing entry for 2010-04-20's commit.

	ld/testsuite/
	* ld-mips-elf/attr-gnu-4-01.d: Correct Tag_GNU_MIPS_ABI_FP.
	* ld-mips-elf/attr-gnu-4-02.d: Likewise.
	* ld-mips-elf/attr-gnu-4-10.d: Likewise.
	* ld-mips-elf/attr-gnu-4-11.d: Likewise.
	* ld-mips-elf/attr-gnu-4-15.d: Likewise.
	* ld-mips-elf/attr-gnu-4-20.d: Likewise.
	* ld-mips-elf/attr-gnu-4-22.d: Likewise.
	* ld-mips-elf/attr-gnu-4-25.d: Likewise.
@
text
@d1 5
@


1.1672
log
@binutils/
	* NEWS: Mention change in linker script expression evaluation.
ld/
	* ld.texinfo (Expression Section): Detail expression evaluation.
	(Builtin Functions <ADDR>): Correct.
	(Builtin Functions <LOADADDR>): Don't mention LOADADDR normally
	the same as ADDR.
	(Builtin Functions <SEGMENT_START>): Typo fix.
	* ldexp.c (new_number): New function.
	(make_abs, exp_get_abs_int): Cope with NULL expld.result.section.
	(fold_unary <'~', '!', '-'>): Don't make_abs.
	(fold_binary): Simplify result section logic.  Return NULL section
	for logical ops.
	(fold_binary <SEGMENT_START>): Use new_rel_from_abs to set value to
	a consistent result.
	(fold_name <SIZEOF_HEADERS>): Return new_number, not new_abs.
	(fold_name <DEFINED, SIZEOF, ALIGNOF, LENGTH, CONSTANT>): Likewise.
	(fold_name <NAME>): No need to handle absolute symbols differently
	from relative ones.
	(fold_name <ORIGIN>): Don't return valid result when
	lang_first_phase_enum.  Return new_rel_from_abs, not new_abs.
	(exp_fold_tree_1 <etree_value>): Return new_number, not new_rel.
	(exp_fold_tree_1): Ajust for NULL expld.result.section.  When assigning
	a plain number to dot, assume the value is relative to expld.section.
	Make terms not in an output section, absolute.
	* ldlang.c (print_assignment): Fix style nit.
	(lang_size_sections_1): Cope with NULL expld.result.section.
	(lang_do_assignments_1): Likewise.
ld/testsuite/
	* ld-scripts/memory.t: Remove ORIGIN fudge.
@
text
@d240 3
@


1.1671
log
@        PR binutils/11889
        * readelf.c (get_32bit_elf_symbols): Check for a corrupt
        sh_entsize.
        (get_64bit_elf_symbols): Likewise.
        (process_symbol_table): Likewise.
        (process_section_groups): Check for corrupt headers.
        (process_version_sections): Check for corrupt indicies.
        (process_corefile_note_segment): Likewise.
@
text
@d1 4
@


1.1670
log
@	bfd/
	* elf32-m69k.c (elf32_m68k_print_private_bfd_data): Detect EMAC_B
	variant.

	binutils/
	* readelf.c (get_machine_flags): Detect CF ISA C and EMAC_B
	variants.
@
text
@d1 11
@


1.1669
log
@	* dwarf.c (process_debug_info): Don't subtract section address
	when calculating location of cu abbrev within section.
@
text
@d1 5
@


1.1668
log
@        PR binutils/11742
        * readelf.c (get_archive_member_name): Do not read beyond the end
        of the ar_name field.
@
text
@d1 5
d65 1
a65 1
   	PR binutils/3166
d431 1
a431 1
        * readelf.c (process_file_header): Handle e_phnum extension.
@


1.1667
log
@2010-08-03  Tristan Gingold  <gingold@@adacore.com>

	* dwarf.c (display_debug_lines): Mark file argument unused.
	Do not try to load .debug_info section.
@
text
@d1 6
@


1.1666
log
@	* readelf.c (apply_relocations): D30V is really REL.
@
text
@d1 5
@


1.1665
log
@Add support for v850E2 and v850E2V3
@
text
@d1 4
@


1.1664
log
@	* readelf.c: Add Moxie support.
@
text
@d1 5
@


1.1663
log
@include/elf/
	* internal.h (ELF_TBSS_SPECIAL): New macro, extracted from..
	(ELF_SECTION_SIZE): ..here.
	(ELF_SECTION_IN_SEGMENT_1): Add "strict" arg.
	(ELF_SECTION_IN_SEGMENT_STRICT): New macro.
bfd/
	* elf.c (assign_file_positions_for_load_sections): Check that
	zero size sections are allocated in segments too.
	(assign_file_positions_for_non_load_sections): Warn if zero
	size alloc sections are found here.
	(copy_elf_program_header): Don't drop zero size sections from
	segment map.
	(copy_private_bfd_data): Check for changes in zero size sections.
binutils/
	* readelf.c (process_program_headers): Don't ignore all zero size
	sections.
ld/testsuite/
	* ld-powerpc/tlsexe.r: Update.
	* ld-powerpc/tlsexetoc.r: Update.
	* ld-powerpc/tlsso.r: Update.
	* ld-powerpc/tlstocso.r: Update.
@
text
@d1 4
@


1.1662
log
@* readelf.c (process_section_headers): Update key to flags.
@
text
@d1 5
@


1.1661
log
@	* objcopy.c (copy_usage): Tweak previous typofix.
@
text
@d1 4
@


1.1660
log
@Fix a typo in "objcopy --help".

2010-07-17  H.J. Lu  <hongjiu.lu@@intel.com>

	* objcopy.c (copy_usage): Fix a typo.
@
text
@d1 4
@


1.1659
log
@2010-07-15  Kai Tietz <kai.tietz@@onevision.com>

        * dllwrap.c (main): Make sure is_leading_underscore
        gets initialized with correct default.
@
text
@d1 4
@


1.1658
log
@	* readelf.c (uncompress_section_contents): Avoid gcc-4.6 warning.
@
text
@d1 5
@


1.1657
log
@bfd/ChangeLog:

	* compress.c (bfd_uncompress_section_contents): Add ATTRIBUTE_UNUSED.
	* dwarf2.c (read_and_uncompress_section): New function.
	(read_section): Call it.
	(find_line): Likewise.

binutils/ChangeLog:

	* objdump.c (load_specific_debug_section): Decompress section contents
	before applying relocations.
	* readelf.c (load_specific_debug_section): Update section size after
	decompression.

gas/ChangeLog:

	* Makefile.am: Add compress-debug.c and compress-debug.h.
	* Makefile.in: Regenerate.
	* config.in: Add HAVE_ZLIB_H.
	* configure.in: Check for zlib.h.
	* configure: Regenerate.

	* as.c (parse_args): Add --compress-debug-sections and
	--nocompress-debug-sections.
	* as.h (flag_compress_debug): New variable.
	* compress-debug.c: New file.
	* compress-debug.h: New file.
	* write.c: Include compress-debug.h.
	(compress_frag): New function.
	(compress_debug): New function.
	(write_object_file): Compress debug sections if requested.
@
text
@d1 4
@


1.1656
log
@   	PR binutils/3166
	* objcopy.c (is_strip_section): Revert 2006-09-05.
	(setup_section): Make SHT_GROUP section nobits.
@
text
@d1 7
@


1.1655
log
@remove maxq-coff port
@
text
@d3 6
@


1.1654
log
@fix set but unused variable warnings
@
text
@d1 5
@


1.1653
log
@        PR binutils/11711
        * windres.c (enum option_values): New enum.
        (long_options): Use separate option number for --include-dir
        option.
        (main): Separate backwards compatibility check from code to
        implement --include-dir.  Check to see if directory exists and do
        not complain if it does.
@
text
@d1 4
@


1.1652
log
@bfd:
	* elf-bfd.h (LEAST_KNOWN_OBJ_ATTRIBUTE): Decrease to 2.
	* elf32-tic6x.c (elf32_tic6x_obj_attrs_arg_type,
	elf32_tic6x_merge_arch_attributes, elf32_tic6x_merge_attributes,
	elf32_tic6x_merge_private_bfd_data): New.
	(bfd_elf32_bfd_merge_private_bfd_data,
	elf_backend_obj_attrs_arg_type, elf_backend_obj_attrs_section,
	elf_backend_obj_attrs_section_type, elf_backend_obj_attrs_vendor):
	Define.
	* elf32-tic6x.h (elf32_tic6x_merge_arch_attributes): Declare.

binutils:
	* readelf.c (display_tic6x_attribute, process_tic6x_specific):
	New.
	(process_arch_specific): Call process_tic6x_specific for
	EM_TI_C6000.

gas:
	* config/tc-tic6x.c: Include elf/tic6x.h.
	(tic6x_arch_attribute, tic6x_seen_insns): New.
	(tic6x_arch_table, tic6x_arches): Add attribute values.
	(tic6x_use_arch): Handle attribute settings.
	(tic6x_attributes_set_explicitly, s_tic6x_c6xabi_attribute,
	tic6x_attribute_table, tic6x_attributes,
	tic6x_convert_symbolic_attribute): New.
	(md_pseudo_table): Add c6xabi_attribute.
	(md_assemble): Set tic6x_seen_insns and tic6x_arch_attribute.
	(tic6x_set_attribute_int, tic6x_set_attributes): New.
	(tic6x_end): Call tic6x_set_attributes.
	* config/tc-tic6x.h (CONVERT_SYMBOLIC_ATTRIBUTE): Define.
	(tic6x_convert_symbolic_attribute): Declare.

gas/testsuite:
	* gas/elf/elf.exp: Set target_machine for tic6x-*-*.
	* gas/elf/section2.e-tic6x, gas/tic6x/attr-arch-directive-1.d,
	gas/tic6x/attr-arch-directive-1.s,
	gas/tic6x/attr-arch-directive-2.d,
	gas/tic6x/attr-arch-directive-2.s,
	gas/tic6x/attr-arch-directive-3.d,
	gas/tic6x/attr-arch-directive-3.s,
	gas/tic6x/attr-arch-directive-4.d,
	gas/tic6x/attr-arch-directive-4.s,
	gas/tic6x/attr-arch-directive-5.d,
	gas/tic6x/attr-arch-directive-5.s,
	gas/tic6x/attr-arch-opts-c62x.d, gas/tic6x/attr-arch-opts-c64x+.d,
	gas/tic6x/attr-arch-opts-c64x.d, gas/tic6x/attr-arch-opts-c674x.d,
	gas/tic6x/attr-arch-opts-c67x+.d, gas/tic6x/attr-arch-opts-c67x.d,
	gas/tic6x/attr-arch-opts-none-1.d,
	gas/tic6x/attr-arch-opts-none-2.d,
	gas/tic6x/attr-arch-opts-override-1.d,
	gas/tic6x/attr-arch-opts-override-2.d, gas/tic6x/empty.s: New.

include/elf:
	* tic6x-attrs.h: New.
	* tic6x.h: Include elf/tic6x-attrs.h for attribute table.
	(C6XABI_Tag_CPU_arch_none, C6XABI_Tag_CPU_arch_C62X,
	C6XABI_Tag_CPU_arch_C67X, C6XABI_Tag_CPU_arch_C67XP,
	C6XABI_Tag_CPU_arch_C64X, C6XABI_Tag_CPU_arch_C64XP,
	C6XABI_Tag_CPU_arch_C674X): Define.

ld:
	* emulparams/elf32_tic6x_le.sh (ATTRS_SECTIONS): Define.

ld/testsuite:
	* ld-elf/orphan3.d: Allow section names starting '_'.
	* ld-tic6x/attr-arch-c62x-c62x.d, ld-tic6x/attr-arch-c62x-c64x+.d,
	ld-tic6x/attr-arch-c62x-c64x.d, ld-tic6x/attr-arch-c62x-c674x.d,
	ld-tic6x/attr-arch-c62x-c67x+.d, ld-tic6x/attr-arch-c62x-c67x.d,
	ld-tic6x/attr-arch-c62x.s, ld-tic6x/attr-arch-c64x+-c62x.d,
	ld-tic6x/attr-arch-c64x+-c64x+.d, ld-tic6x/attr-arch-c64x+-c64x.d,
	ld-tic6x/attr-arch-c64x+-c674x.d,
	ld-tic6x/attr-arch-c64x+-c67x+.d, ld-tic6x/attr-arch-c64x+-c67x.d,
	ld-tic6x/attr-arch-c64x+.s, ld-tic6x/attr-arch-c64x-c62x.d,
	ld-tic6x/attr-arch-c64x-c64x+.d, ld-tic6x/attr-arch-c64x-c64x.d,
	ld-tic6x/attr-arch-c64x-c674x.d, ld-tic6x/attr-arch-c64x-c67x+.d,
	ld-tic6x/attr-arch-c64x-c67x.d, ld-tic6x/attr-arch-c64x.s,
	ld-tic6x/attr-arch-c674x-c62x.d, ld-tic6x/attr-arch-c674x-c64x+.d,
	ld-tic6x/attr-arch-c674x-c64x.d, ld-tic6x/attr-arch-c674x-c674x.d,
	ld-tic6x/attr-arch-c674x-c67x+.d, ld-tic6x/attr-arch-c674x-c67x.d,
	ld-tic6x/attr-arch-c674x.s, ld-tic6x/attr-arch-c67x+-c62x.d,
	ld-tic6x/attr-arch-c67x+-c64x+.d, ld-tic6x/attr-arch-c67x+-c64x.d,
	ld-tic6x/attr-arch-c67x+-c674x.d,
	ld-tic6x/attr-arch-c67x+-c67x+.d, ld-tic6x/attr-arch-c67x+-c67x.d,
	ld-tic6x/attr-arch-c67x+.s, ld-tic6x/attr-arch-c67x-c62x.d,
	ld-tic6x/attr-arch-c67x-c64x+.d, ld-tic6x/attr-arch-c67x-c64x.d,
	ld-tic6x/attr-arch-c67x-c674x.d, ld-tic6x/attr-arch-c67x-c67x+.d,
	ld-tic6x/attr-arch-c67x-c67x.d, ld-tic6x/attr-arch-c67x.s: New.
@
text
@d1 10
@


1.1651
log
@Cast to unsigned long for 0x%lx.

2010-06-11  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (dump_ia64_vms_dynamic_fixups): Cast to unsigned long
	for 0x%lx.
@
text
@d1 7
@


1.1650
log
@include/elf
2010-06-11  Tristan Gingold  <gingold@@adacore.com>

	* ia64.h (EF_IA_64_VMS_COMCOD, EF_IA_64_VMS_COMCOD_SUCCESS)
	(EF_IA_64_VMS_COMCOD_WARNING, EF_IA_64_VMS_COMCOD_ERROR)
	(EF_IA_64_VMS_COMCOD_ABORT, EF_IA_64_VMS_LINKAGES): Define.
	(VMS_LF_CALL_DEBUG, VMS_LF_NOP0BUFS, VMS_LF_P0IMAGE)
	(VMS_LF_MKTHREADS, VMS_LF_UPCALLS, VMS_LF_IMGSTA)
	(VMS_LF_INITIALIZE, VMS_LF_MAIN, VMS_LF_EXE_INIT)
	(VMS_LF_TBK_IN_IMG, VMS_LF_DBG_IN_IMG, VMS_LF_TBK_IN_DSF)
	(VMS_LF_DBG_IN_DSF, VMS_LF_SIGNATURES, VMS_LF_REL_SEG_OFF): Define.
	(VMS_STO_VISIBILITY, VMS_ST_VISIBILITY, VMS_STO_FUNC_TYPE)
	(VMS_ST_FUNC_TYPE, VMS_SFT_CODE_ADDR, VMS_SFT_SYMV_IDX)
	(VMS_SFT_FD, VMS_SFT_RESERVE, VMS_STO_LINKAGE, VMS_ST_LINKAGE)
	(VMS_STL_IGNORE, VMS_STL_RESERVE, VMS_STL_STD, VMS_STL_LNK): Define.
	(Elf64_External_VMS_IMAGE_FIXUP): New declaration.
	(Elf64_External_VMS_IMAGE_RELA): Ditto.
	(R_IA64_VMS_DIR8, R_IA64_VMS_DIR16LSB, R_IA64_VMS_CALL_SIGNATURE)
	(R_IA64_VMS_EXECLET_FUNC, R_IA64_VMS_EXECLET_DATA, R_IA64_VMS_FIX8)
	(R_IA64_VMS_FIX16, R_IA64_VMS_FIX32, R_IA64_VMS_FIX64)
	(R_IA64_VMS_FIXFD, R_IA64_VMS_ACC_LOAD, R_IA64_VMS_ACC_ADD)
	(R_IA64_VMS_ACC_SUB, R_IA64_VMS_ACC_MUL, R_IA64_VMS_ACC_DIV)
	(R_IA64_VMS_ACC_AND, R_IA64_VMS_ACC_IOR, R_IA64_VMS_ACC_EOR)
	(R_IA64_VMS_ACC_ASH, R_IA64_VMS_ACC_STO8, R_IA64_VMS_ACC_STO16LSH)
	(R_IA64_VMS_ACC_STO32LSH, R_IA64_VMS_ACC_STO64LSH): New.

binutils/
2010-06-11  Tristan Gingold  <gingold@@adacore.com>
	    Doug Rupp <rupp@@gnat.com>

	* readelf.c (is_ia64_vms): New function.
	(dump_relocations): Use it.
	(get_machine_flags): Display IA-64 OpenVMS flags.
	(process_program_headers): No error on OpenVMS if no .dynamic section.
	(struct ia64_vms_dynfixup, struct ia64_vms_dynimgrela): New
	declarations.
	(dump_ia64_vms_dynamic_fixups): New function.
	(dump_ia64_vms_dynamic_relocs): Ditto.
	(process_ia64_vms_dynamic_relocs): Ditto.
	(process_relocs): Handle IA-64 OpenVMS relocs.
	(VMS_EPOCH_OFFSET, VMS_GRANULARITY_FACTOR): New macros.
	(print_vms_time): New function.
	(dynamic_section_ia64_val): Handle DT_IA_64_VMS_LINKTIME and
	DT_IA_64_VMS_LNKFLAGS.
	(get_ia64_symbol_other): New function.
	(get_symbol_other): Handle EM_IA_64.
@
text
@d1 5
@


1.1649
log
@2010-06-11  Tristan Gingold  <gingold@@adacore.com>

	* unwind-ia64.c (unw_print_abreg): Add const to special_reg.
	(UNW_DEC_ABI): Ditto for abiname.
	(unw_decode_table): Make it const.
@
text
@d2 20
@


1.1648
log
@2010-06-10  Tristan Gingold  <gingold@@adacore.com>

	* readelf.c (slurp_ia64_unwind_table): IA64 rela relocations are
	not inplace.
@
text
@d1 6
@


1.1647
log
@2010-05-21  Daniel Jacobowitz  <dan@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>
            Andrew Stubbs  <ams@@codesourcery.com>

        bfd/
        * config.bfd (sh-*-uclinux* | sh[12]-*-uclinux*): Add
        bfd_elf32_shl_vec, and FDPIC vectors to targ_selvecs.
        * configure.in: Handle FDPIC vectors.
        * elf32-sh-relocs.h: Add FDPIC and movi20 relocations.
        * elf32-sh.c (DEFAULT_STACK_SIZE): Define.
        (SYMBOL_FUNCDESC_LOCAL): Define.  Use it instead of
        SYMBOL_REFERENCES_LOCAL for function descriptors.
        (fdpic_object_p): New.
        (sh_reloc_map): Add FDPIC and movi20 relocations.
        (sh_elf_info_to_howto, sh_elf_relocate_section): Handle new invalid
        range.
        (struct elf_sh_plt_info): Add got20 and short_plt.  Update all
        definitions.
        (FDPIC_PLT_ENTRY_SIZE, FDPIC_PLT_LAZY_OFFSET): Define.
        (fdpic_sh_plt_entry_be, fdpic_sh_plt_entry_le, fdpic_sh_plts): New.
        (FDPIC_SH2A_PLT_ENTRY_SIZE, FDPIC_SH2A_PLT_LAZY_OFFSET): Define.
        (fdpic_sh2a_plt_entry_be, fdpic_sh2a_plt_entry_le)
        (fdpic_sh2a_short_plt_be, fdpic_sh2a_short_plt_le, fdpic_sh2a_plts):
        New.
        (get_plt_info): Handle FDPIC.
        (MAX_SHORT_PLT): Define.
        (get_plt_index, get_plt_offset): Handle short_plt.
        (union gotref): New.
        (struct elf_sh_link_hash_entry): Add funcdesc, rename tls_type to
        got_type and adjust all uses.  Add GOT_FUNCDESC.
        (struct sh_elf_obj_tdata): Add local_funcdesc.  Rename
        local_got_tls_type to local_got_type.
        (sh_elf_local_got_type): Renamed from sh_elf_local_got_tls_type.  All
        users changed.
        (sh_elf_local_funcdesc): Define.
        (struct elf_sh_link_hash_table): Add sfuncdesc, srelfuncdesc, fdpic_p,
        and srofixup.
        (sh_elf_link_hash_newfunc): Initialize new fields.
        (sh_elf_link_hash_table_create): Set fdpic_p.
        (sh_elf_omit_section_dynsym): New.
        (create_got_section): Create .got.funcdesc, .rela.got.funcdesc
        and .rofixup.
        (allocate_dynrelocs): Allocate local function descriptors and space
        for R_SH_FUNCDESC-related relocations, and for rofixups.
        Handle GOT_FUNCDESC.  Create fixups.  Handle GOT entries which
        require function descriptors.
        (sh_elf_always_size_sections): Handle PT_GNU_STACK and __stacksize.
        (sh_elf_modify_program_headers): New.
        (sh_elf_size_dynamic_sections): Allocate function descriptors for
        local symbols.  Allocate .got.funcdesc contents.  Allocate rofixups.
        Handle local GOT entries of type GOT_FUNCDESC.  Create fixups for
        local GOT entries.  Ensure that FDPIC libraries always have a PLTGOT
        entry in the .dynamic section.
        (sh_elf_add_dyn_reloc, sh_elf_got_offset, sh_elf_initialize_funcdesc)
        (sh_elf_add_rofixup, sh_elf_osec_to_segment)
        (sh_elf_osec_readonly_p, install_movi20_field): New functions.
        (sh_elf_relocate_section): Handle new relocations, R_SH_FUNCDESC,
        R_SH_GOTFUNCDESC and R_SH_GOTOFFFUNCDESC.  Use sh_elf_got_offset
        and .got.plt throughout to find _GLOBAL_OFFSET_TABLE_.  Add rofixup
        read-only section warnings.  Handle undefined weak symbols.  Generate
        fixups for R_SH_DIR32 and GOT entries.  Check for cross-segment
        relocations and clear EF_SH_PIC.  Handle 20-bit relocations.
        Always generate R_SH_DIR32 for FDPIC instead of R_SH_RELATIVE.
        (sh_elf_gc_sweep_hook): Handle R_SH_FUNCDESC, R_SH_GOTOFF20,
        R_SH_GOTFUNCDESC, R_SH_GOTFUNCDESC20, and R_SH_GOTOFFFUNCDESC.
        Handle 20-bit relocations.
        (sh_elf_copy_indirect_symbol): Copy function descriptor reference
        counts.
        (sh_elf_check_relocs): Handle new relocations.  Make symbols
        dynamic for FDPIC relocs.  Account for rofixups.  Error for FDPIC
        symbol mismatches.  Allocate a GOT for R_SH_DIR32. Allocate fixups
        for R_SH_DIR32.
        (sh_elf_copy_private_data): Copy PT_GNU_STACK size.
        (sh_elf_merge_private_data): Copy initial flags.  Do not clobber
        non-mach flags.  Set EF_SH_PIC for FDPIC.  Reject FDPIC mismatches.
        (sh_elf_finish_dynamic_symbol): Do not handle got_funcdesc entries
        here.  Rename sgot to sgotplt and srel to srelplt.  Handle short_plt,
        FDPIC descriptors, and got20.  Create R_SH_FUNCDESC_VALUE for FDPIC.
        Use install_movi20_field.  Rename srel to srelgot.  Always generate
        R_SH_DIR32 for FDPIC instead of R_SH_RELATIVE.
        (sh_elf_finish_dynamic_sections): Fill in the GOT pointer in rofixup.
        Do not fill in reserved GOT entries for FDPIC.  Correct DT_PLTGOT.
        Rename sgot to sgotplt.  Assert that the right number of rofixups
        and dynamic relocations were allocated.
        (sh_elf_use_relative_eh_frame, sh_elf_encode_eh_address): New.
        (elf_backend_omit_section_dynsym): Use sh_elf_omit_section_dynsym.
        (elf_backend_can_make_relative_eh_frame)
        (elf_backend_can_make_lsda_relative_eh_frame)
        (elf_backend_encode_eh_address): Define.
        (TARGET_BIG_SYM, TARGET_BIG_NAME, TARGET_LITTLE_SYM)
        (TARGET_LITTLE_NAME, elf_backend_modify_program_headers, elf32_bed):
        Redefine for FDPIC vector.
        * reloc.c: Add SH FDPIC and movi20 relocations.
        * targets.c (_bfd_target_vector): Add FDPIC vectors.
        * configure, bfd-in2.h, libbfd.h: Regenerated.

        binutils/
        * readelf.c (get_machine_flags): Handle EF_SH_PIC and EF_SH_FDPIC.

        gas/
        * config/tc-sh.c (sh_fdpic): New.
        (sh_check_fixup): Handle relocations on movi20.
        (parse_exp): Do not reject PIC operators here.
        (build_Mytes): Check for unhandled PIC operators here.  Use
        sh_check_fixup for movi20.
        (enum options): Add OPTION_FDPIC.
        (md_longopts, md_parse_option, md_show_usage): Add --fdpic.
        (sh_fix_adjustable, md_apply_fix): Handle FDPIC and movi20 relocations.
        (sh_elf_final_processing): Handle --fdpic.
        (sh_uclinux_target_format): New.
        (sh_parse_name): Handle FDPIC relocation operators.
        * config/tc-sh.h (TARGET_FORMAT): Define specially for TE_UCLINUX.
        (sh_uclinux_target_format): Declare for TE_UCLINUX.
        * configure.tgt (sh-*-uclinux* | sh[12]-*-uclinux*): Set
        em=uclinux.
        * doc/c-sh.texi (SH Options): Document --fdpic.

        gas/testsuite/
        * gas/sh/basic.exp: Run new tests.  Handle uClinux like Linux.
        * gas/sh/fdpic.d: New file.
        * gas/sh/fdpic.s: New file.
        * gas/sh/reg-prefix.d: Force big-endian.
        * gas/sh/sh2a-pic.d: New file.
        * gas/sh/sh2a-pic.s: New file.
        * lib/gas-defs.exp (is_elf_format): Include sh*-*-uclinux*.

        include/elf/
        * sh.h (EF_SH_PIC, EF_SH_FDPIC): Define.
        (R_SH_FIRST_INVALID_RELOC_6, R_SH_LAST_INVALID_RELOC_6): New.  Adjust
        other invalid ranges.
        (R_SH_GOT20, R_SH_GOTOFF20, R_SH_GOTFUNCDESC, R_SH_GOTFUNCDESC20)
        (R_SH_GOTOFFFUNCDESC, R_SH_GOTOFFFUNCDESC20, R_SH_FUNCDESC)
        (R_SH_FUNCDESC_VALUE): New.

        ld/
        * Makefile.am (ALL_EMULATIONS): Add eshelf_fd.o and eshlelf_fd.o.
        (eshelf_fd.c, eshlelf_fd.c): New rules.
        * Makefile.in: Regenerate.
        * configure.tgt (sh-*-uclinux*): Add shelf_fd and shlelf_fd
        emulations.
        * emulparams/shelf_fd.sh: New file.
        * emulparams/shlelf_fd.sh: New file.
        * emulparams/shlelf_linux.sh: Update comment.

        ld/testsuite/
        * ld-sh/sh.exp: Handle uClinux like Linux.
        * lib/ld-lib.exp (is_elf_format): Include sh*-*-uclinux*.
        * ld-sh/fdpic-funcdesc-shared.d: New file.
        * ld-sh/fdpic-funcdesc-shared.s: New file.
        * ld-sh/fdpic-funcdesc-static.d: New file.
        * ld-sh/fdpic-funcdesc-static.s: New file.
        * ld-sh/fdpic-gotfuncdesc-shared.d: New file.
        * ld-sh/fdpic-gotfuncdesc-shared.s: New file.
        * ld-sh/fdpic-gotfuncdesc-static.d: New file.
        * ld-sh/fdpic-gotfuncdesc-static.s: New file.
        * ld-sh/fdpic-gotfuncdesci20-shared.d: New file.
        * ld-sh/fdpic-gotfuncdesci20-shared.s: New file.
        * ld-sh/fdpic-gotfuncdesci20-static.d: New file.
        * ld-sh/fdpic-gotfuncdesci20-static.s: New file.
        * ld-sh/fdpic-goti20-shared.d: New file.
        * ld-sh/fdpic-goti20-shared.s: New file.
        * ld-sh/fdpic-goti20-static.d: New file.
        * ld-sh/fdpic-goti20-static.s: New file.
        * ld-sh/fdpic-gotofffuncdesc-shared.d: New file.
        * ld-sh/fdpic-gotofffuncdesc-shared.s: New file.
        * ld-sh/fdpic-gotofffuncdesc-static.d: New file.
        * ld-sh/fdpic-gotofffuncdesc-static.s: New file.
        * ld-sh/fdpic-gotofffuncdesci20-shared.d: New file.
        * ld-sh/fdpic-gotofffuncdesci20-shared.s: New file.
        * ld-sh/fdpic-gotofffuncdesci20-static.d: New file.
        * ld-sh/fdpic-gotofffuncdesci20-static.s: New file.
        * ld-sh/fdpic-gotoffi20-shared.d: New file.
        * ld-sh/fdpic-gotoffi20-shared.s: New file.
        * ld-sh/fdpic-gotoffi20-static.d: New file.
        * ld-sh/fdpic-gotoffi20-static.s: New file.
        * ld-sh/fdpic-plt-be.d: New file.
        * ld-sh/fdpic-plt-le.d: New file.
        * ld-sh/fdpic-plt.s: New file.
        * ld-sh/fdpic-plti20-be.d: New file.
        * ld-sh/fdpic-plti20-le.d: New file.
        * ld-sh/fdpic-stack-default.d: New file.
        * ld-sh/fdpic-stack-size.d: New file.
        * ld-sh/fdpic-stack.s: New file.
@
text
@d1 5
@


1.1646
log
@        PR ld/11621
        * Makefile.am: Replace all occurences of .o with .@@OBJEXT@@
        * Makefile.in: Regenerate.
@
text
@d1 6
@


1.1645
log
@2010-05-24  Tristan Gingold  <gingold@@adacore.com>

	* readelf.c (usage): Add new trace sections for --debug-dump.
	(process_section_headers): Handle dump of trace sections.
	* objdump.c (usage): Add new trace sections for --dwarf.
	* dwarf.h (do_trace_info, do_trace_abbrevs): New variables.
	(do_trace_aranges): Ditto.
	(enum dwarf_section_display_enum): Add trace_info, trace_abbrev
	and trace_aranges literals.
	* dwarf.c (do_trace_info, do_trace_abbrevs): New variables.
	(do_trace_aranges): Ditto.
	(process_debug_info): Add abbrev_sec argument and replace
	abbrev with abbrev_sec.
	(load_debug_info): Adjust call of process_debug_info.
	(display_debug_info): Ditto.
	(display_trace_info): New function.
	(dwarf_select_sections_by_names): Add trace_info, trace_abbrevs
	and trace_aranges sections name.
	(dwarf_select_sections_all): Also select trace sections.
	(debug_displays): Reindent.  Add entries for the trace sections.
	* doc/binutils.texi (readelf): Document new --dwarf parameters.
	(objdump): Ditto.
@
text
@d1 6
@


1.1644
log
@Implement generic SHF_EXCLUDE.

bfd/

2010-05-18  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11600
	* elf.c (_bfd_elf_make_section_from_shdr): Handle SHF_EXCLUDE
	(elf_fake_sections): Likewise.

	* elf32-i370.c (i370_elf_section_from_shdr): Don't handle
	SHF_EXCLUDE here.
	* elf32-ppc.c (ppc_elf_fake_sections): Likewise.

binutils/

2010-05-18  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11600
	* readelf.c (get_elf_section_flags): Treat SHF_EXCLUDE as a
	generic flag.

binutils/testsuite/

2010-05-18  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11600
	* binutils-all/objcopy.exp: Run exclude-1a and exclude-1b for
	ELF targets.

	* binutils-all/exclude-1.s: New.
	* binutils-all/exclude-1a.d: Likewise.
	* binutils-all/exclude-1b.d: Likewise.

gas/

2010-05-18  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11600
	* obj-elf.c (obj_elf_change_section): Handle SHF_EXCLUDE.
	(obj_elf_parse_section_letters): Likewise.
	(obj_elf_section_word): Likewise.

	* config/tc-ppc.c (ppc_section_letter): Removed.
	(ppc_section_word): Likewise.
	* config/tc-ppc.h (ppc_section_letter): Likewise.
	(ppc_section_word): Likewise.
	(md_elf_section_letter): Likewise.
	(md_elf_section_word): Likewise.

	* doc/as.texinfo: Document `e' and `#exclude'.

gas/testsuite/

2010-05-18  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11600
	* gas/elf/elf.exp: Run section8.

	* gas/elf/section8.d: New.
	* gas/elf/section8.s: Likewise.

include/elf/

2010-05-18  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11600
	* common.h (SHF_EXCLUDE): New.

	* i370.h (SHF_EXCLUDE): Removed.
	* or32.h (SHF_EXCLUDE): Likewise.
	* ppc.h (SHF_EXCLUDE): Likewise.
	* sparc.h (SHF_EXCLUDE): Likewise.

ld/testsuite/

2010-05-18  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11600
	* ld-elf/exclude3.s: New.
	* ld-elf/exclude3a.d: Likewise.
	* ld-elf/exclude3b.d: Likewise.
	* ld-elf/exclude3c.d: Likewise.
@
text
@d1 23
@


1.1643
log
@bfd/
2010-05-07  Tristan Gingold  <gingold@@adacore.com>

	* Makefile.in: Regenerate with automake 1.11.1.
	* aclocal.m4: Ditto.

bfd/doc/
2010-05-07  Tristan Gingold  <gingold@@adacore.com>

	* Makefile.in: Regenerate with automake 1.11.1.

binutils/
2010-05-07  Tristan Gingold  <gingold@@adacore.com>

	* Makefile.in: Regenerate with automake 1.11.1.
	* aclocal.m4: Ditto.
	* doc/Makefile.in: Ditto.

gas/
2010-05-07  Tristan Gingold  <gingold@@adacore.com>

	* Makefile.in: Regenerate with automake 1.11.1.
	* aclocal.m4: Ditto.
	* doc/Makefile.in: Ditto.

gprof/
2010-05-07  Tristan Gingold  <gingold@@adacore.com>

	* Makefile.in: Regenerate with automake 1.11.1.
	* aclocal.m4: Ditto.

ld/
2010-05-07  Tristan Gingold  <gingold@@adacore.com>

	* Makefile.in: Regenerate with automake 1.11.1.
	* aclocal.m4: Ditto.

opcodes/
2010-05-07  Tristan Gingold  <gingold@@adacore.com>

	* Makefile.in: Regenerate with automake 1.11.1.
	* aclocal.m4: Ditto.
@
text
@d1 6
@


1.1642
log
@Handle EM_L1OM.

2010-05-06  H.J. Lu  <hongjiu.lu@@intel.com>

	* dwarf.c (init_dwarf_regnames): Handle EM_L1OM.
	* readelf.c (get_elf_section_flags): Likewise.
	(process_section_headers): Likewise.
@
text
@d1 6
@


1.1641
log
@Updated Spanish translations.
@
text
@d1 6
@


1.1640
log
@2010-04-27  Kai Tietz  <kai.tietz@@onevision.com>

	* dlltool.c (main): Query for bfd's underscoring default for
	default target case.

2010-04-27  Kai Tietz  <kai.tietz@@onevision.com>

	* binutils-all/dlltool.exp: Allow test for
	arm-wince-pe target.
@
text
@d1 4
@


1.1639
log
@Updated French and Russian translations.
@
text
@d1 5
@


1.1638
log
@include/elf/
	* internal.h (ELF_SECTION_SIZE): Protect macro args with parentheses.
	Invert logic to clarify test for .tbss.
	(ELF_IS_SECTION_IN_SEGMENT): Rename to..
	(ELF_SECTION_IN_SEGMENT_1): ..this.  Add check_vma param.  Protect
	macro args with parentheses.
	(ELF_SECTION_IN_SEGMENT): Define.
	(ELF_IS_SECTION_IN_SEGMENT_FILE): Delete.
	(ELF_IS_SECTION_IN_SEGMENT_MEMORY): Delete.
bfd/
	* elf.c: Replace use of ELF_IS_SECTION_IN_SEGMENT and
	ELF_IS_SECTION_IN_SEGMENT_FILE with ELF_SECTION_IN_SEGMENT
	throughout file.
	(assign_file_positions_for_load_sections): Modify section in
	segment warning to ignore overlay vmas.
	* elf32-spu.c (spu_elf_object_p): Replace use of
	ELF_IS_SECTION_IN_SEGMENT_MEMORY with ELF_SECTION_IN_SEGMENT.
binutils/
	* readelf.c (process_program_headers): Replace use of
	ELF_IS_SECTION_IN_SEGMENT_MEMORY with ELF_SECTION_IN_SEGMENT.
@
text
@d1 4
@


1.1637
log
@Updated translation templates.
Updated Bulgarian translation.
Updated Finnish translations.
Updated French translations.
Updated Vietnamese translations.
@
text
@d1 5
@


1.1636
log
@Updated French translation.
@
text
@d1 9
@


1.1635
log
@        * readelf.c: Add _() macros to constant strings that are
        translatable.
@
text
@d3 4
@


1.1634
log
@	* ld/testsuite/ld-arm/attr-merge-2.attr: Update for changes in attribute output.
	* ld/testsuite/ld-arm/attr-merge-3.attr: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-1.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-1r.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-2.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-2r.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-3.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-3r.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-4.d: Likeiwse.
	* ld/testsuite/ld-arm/attr-merge-vfp-4r.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-5.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-5r.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-00-nowarn.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-00.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-02-nowarn.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-02.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-04-nowarn.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-04.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-20-nowarn.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-20.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-22-nowarn.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-22.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-24-nowarn.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-40-nowarn.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-40.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-42-nowarn.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-44-nowarn.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-44.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge.attr: Likewise.
	* binutils/readelf.c (arm_attr_tag_FP_arch): Rename from arm_attr_tag_VFP_arch.
	(arm_attr_tag_ABI_align8_needed): Remove.
	(arm_attr_tag_ABI_align8_preserved): Remove.
	(arm_attr_tag_ABI_HardFP_use): Update text strings.
	(arm_attr_public_tags): Add strings for ABI v2.08 attribute tags.
	(display_arm_attribute): Add decoding of ABI v2.08 attributes.
	* include/elf/arm.h (Tag_FP_arch, Tag_ABI_align_needed, Tag_ABI_align_preserved,
	Tag_FP_HP_extension): Add new ABI attribute tags.
	* gas/config/tc-arm.c (arm_convert_symbolic_attribute): Add support for
	new tag names in v2.08 of ARM ABI.
	* gas/doc/c-arm.texi: Document new tag names in ABI.
	* gas/testsuite/gas/arm/attr-mcpu.d: Update for new attribute tag names.
	* gas/testsuite/gas/arm/attr-mfpu-arm1020e.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-arm1020t.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-arm1136jf-s.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-arm1136jfs.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-neon-fp16.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-neon.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-softvfp+vfp.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-vfp.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-vfp10-r0.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-vfp10.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-vfp3.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-vfp9.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-vfpv2.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-vfpv3-d16.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-vfpv3.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-vfpv4-d16.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-vfpv4.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-vfpxd.d: Likewise.
	* gas/testsuite/gas/arm/attr-names.d: Add test to make sure all attribute names
	are recognised.
	* gas/testsuite/gas/arm/attr-names.s: Likewise.
@
text
@d1 5
@


1.1633
log
@        PR binutils/11419
        * dwarf.c (process_debug_info): Initialise the signature array.
@
text
@d1 9
@


1.1632
log
@bfd/ChangeLog
2010-04-09  Nick Clifton  <nickc@@redhat.com>

        * aoutx.h (aout_link_input_bfd): Remove unused variable sym_count.
        * elf-eh-frame.c (_bfd_elf_eh_frame_section_offset): Remove unused
        variables htab and hdr_info and mark info parameter as unused.
        * elf.c (prep_headers): Remove unused variable i_phdrp.
        (_bfd_elf_write_object_contents): Remove unused variable i_ehdrp.
        * elf32-i386.c (elf_i386_relocate_section): Mark variabled warned
        as unused.
        * peXXigen.c (pe_print_reloc): Remove unused variable datasize.
        * verilog.c (verilog_write_section): Remove unused variable
        address.

binutils/ChangeLog
2010-04-09  Nick Clifton  <nickc@@redhat.com>

        * dwarf.c (process_debug_info): Remove unused variable
        cu_abbrev_offset_ptr.
        (display_debug_lines_decoded): Remove unused variable prev_line.
        * elfedit.c (process_archive): Remove unused variable
        file_name_size.
        * ieee.c (ieee_start_compilation_unit): Remove unused variable
        nindx.
        (ieee_set_type): Remove unused variables info, targetindx and
        baseindx.
        * objdump.c (disassmble_byte): Remove unused variable done_dot.
        * rddbg.c (read_section_stabs_debugging_info): Remove unused
        variable other.
        * readelf.c (dump_section_as_strings): Remove unused variable
        addr.
        (process_archive): Remove unused variable file_name_size.
        * stabs.c (parse_stab_string): Mark desc parameter as unused.
        Remove unused variable lineno.
        (parse_stab_struct_type): Remove unused variable orig.
        (stab_demangle_type): Remove unused variables constp, volatilep
        and hold.

gas/ChangeLog
2010-04-09  Nick Clifton  <nickc@@redhat.com>

        * as.c (create_obj_attrs_section): Remove unused variable addr.
        * listing.c (listing_listing): Remove unused variable message.
        * read.c: Remove unnecessary register type qualifiers.
        (s_mri): Only define/use old_flag variable if MRI_MODE_CHANGE is
        defined.

ld/ChangeLog
2010-04-09  Nick Clifton  <nickc@@redhat.com>

        * ldlang.c (wild_sort): Remove unused variable section_name.

opcodes/ChangeLog
2010-04-09  Nick Clifton  <nickc@@redhat.com>

        * i386-dis.c (print_insn): Remove unused variable op.
        (OP_sI): Remove unused variable mask.
@
text
@d1 5
@


1.1631
log
@	* configure: Regenerate.
@
text
@d1 23
@


1.1630
log
@Updated binutils Vietnamese translation.
New gold Vietnamese translation.
New gas Russian translation.
@
text
@d1 4
@


1.1629
log
@bfd/
	* elf-eh-frame.c (_bfd_elf_parse_eh_frame): Handle CIE version 4
	provided that it has the expected address size and zero segment
	length.
binutils/
	* dwarf.c (struct Frame_Chunk): Add ptr_size and segment_size
	fields.
	(display_debug_frames): Handle CIE version 4.
@
text
@d1 4
@


1.1628
log
@include/
	* dwarf2.h (DWARF2_Internal_LineInfo): Add li_max_ops_per_insn
	field.
bfd/
	* dwarf2.c (struct line_head): Add maximum_ops_per_insn field.
	(struct line_info): Add op_index field, change end_sequence type to
	unsigned char.
	(new_line_sorts_after): For the same address compare op_index.
	(add_line_info): Add op_index argument, store it into the structure.
	(decode_line_info): Complain about unknown versions of .debug_line.
	Initialize maximum_ops_per_insn.  Add op_index state register and
	track it.
binutils/
	* dwarf.c (struct State_Machine_Registers): Add op_index field,
	change end_sequence type to unsigned char.
	(reset_state_machine): Clear op_index.
	(process_extended_line_op): For DW_LNE_set_address clear op_index.
	(display_debug_lines_raw): Initialize li_max_ops_per_insn.
	Track op_index state machine register and print it if
	li_max_ops_per_insn is != 1.
	(display_debug_lines_decoded): Likewise.
@
text
@d3 4
@


1.1627
log
@* Makefile.am (CONFIG_STATUS_DEPENDENCIES): Define.
* Makefile.in: Regenerate.
@
text
@d1 11
@


1.1626
log
@	* dwarf.c (read_and_display_attr_value): Don't reject
	dwarf_version == 4.  Handle DW_FORM_sec_offset, DW_FORM_flag_present
	and DW_FORM_exprloc.
	(process_debug_info): Handle cu_version == 4.
	(display_debug_lines_raw, display_debug_lines_decoded): Handle
	li_version == 4.
@
text
@d10 5
@


1.1625
log
@bfd:
	* Makefile.am (ALL_MACHINES): Add cpu-tic6x.lo.
	(ALL_MACHINES_CFILES): Add cpu-tic6x.c.
	(BFD32_BACKENDS): Add elf32-tic6x.lo.
	(BFD32_BACKENDS_CFILES): Add elf32-tic6x.c.
	* Makefile.in: Regenerate.
	* archures.c (bfd_arch_tic6x, bfd_tic6x_arch): New.
	(bfd_archures_list): Update.
	* config.bfd (tic6x-*-elf): New.
	* configure.in (bfd_elf32_tic6x_be_vec, bfd_elf32_tic6x_le_vec):
	New.
	* configure: Regenerate.
	* cpu-tic6x.c, elf32-tic6x.c: New.
	* reloc.c (BFD_RELOC_C6000_PCR_S21, BFD_RELOC_C6000_PCR_S12,
	BFD_RELOC_C6000_PCR_S10, BFD_RELOC_C6000_PCR_S7,
	BFD_RELOC_C6000_ABS_S16, BFD_RELOC_C6000_ABS_L16,
	BFD_RELOC_C6000_ABS_H16, BFD_RELOC_C6000_SBR_U15_B,
	BFD_RELOC_C6000_SBR_U15_H, BFD_RELOC_C6000_SBR_U15_W,
	BFD_RELOC_C6000_SBR_S16, BFD_RELOC_C6000_SBR_L16_B,
	BFD_RELOC_C6000_SBR_L16_H, BFD_RELOC_C6000_SBR_L16_W,
	BFD_RELOC_C6000_SBR_H16_B, BFD_RELOC_C6000_SBR_H16_H,
	BFD_RELOC_C6000_SBR_H16_W, BFD_RELOC_C6000_SBR_GOT_U15_W,
	BFD_RELOC_C6000_SBR_GOT_L16_W, BFD_RELOC_C6000_SBR_GOT_H16_W,
	BFD_RELOC_C6000_DSBT_INDEX, BFD_RELOC_C6000_PREL31,
	BFD_RELOC_C6000_COPY, BFD_RELOC_C6000_ALIGN,
	BFD_RELOC_C6000_FPHEAD, BFD_RELOC_C6000_NOCMP): New.
	* targets.c (bfd_elf32_tic6x_be_vec, bfd_elf32_tic6x_le_vec): New.
	(_bfd_target_vector): Update.
	* bfd-in2.h, libbfd.h: Regenerate.

binutils:
	* MAINTAINERS: Add self as TI C6X maintainer.
	* NEWS: Add news entry for TI C6X support.
	* readelf.c: Include elf/tic6x.h.
	(guess_is_rela): Handle EM_TI_C6000.
	(dump_relocations): Likewise.
	(get_tic6x_dynamic_type): New.
	(get_dynamic_type): Call it.
	(get_machine_flags): Handle EF_C6000_REL.
	(get_osabi_name): Handle machine-specific values only for relevant
	machines.  Handle C6X values.
	(get_tic6x_segment_type): New.
	(get_segment_type): Call it.
	(get_tic6x_section_type_name): New.
	(get_section_type_name): Call it.
	(is_32bit_abs_reloc, is_16bit_abs_reloc, is_none_reloc): Handle
	EM_TI_C6000.

gas:
	* Makefile.am (TARGET_CPU_CFILES): Add config/tc-tic6x.c.
	(TARGET_CPU_HFILES): Add config/tc-tic6x.h.
	* Makefile.in: Regenerate.
	* NEWS: Add news entry for TI C6X support.
	* app.c (do_scrub_chars): Handle "||^" for TI C6X.  Handle
	TC_PREDICATE_START_CHAR and TC_PREDICATE_END_CHAR.  Keep spaces in
	operands if TC_KEEP_OPERAND_SPACES.
	* configure.tgt (tic6x-*-*): New.
	* config/tc-ia64.h (TC_PREDICATE_START_CHAR,
	TC_PREDICATE_END_CHAR): Define.
	* config/tc-tic6x.c, config/tc-tic6x.h: New.
	* doc/Makefile.am (CPU_DOCS): Add c-tic6x.texi.
	* doc/Makefile.in: Regenerate.
	* doc/all.texi (TIC6X): Define.
	* doc/as.texinfo: Add TI C6X documentation.  Include c-tic6x.texi.
	* doc/c-tic6x.texi: New.

gas/testsuite:
	* gas/tic6x: New directory and testcases.

include:
	* dis-asm.h (print_insn_tic6x): Declare.

include/elf:
	* common.h (ELFOSABI_C6000_ELFABI, ELFOSABI_C6000_LINUX): Define.
	* tic6x.h: New.

include/opcode:
	* tic6x-control-registers.h, tic6x-insn-formats.h,
	tic6x-opcode-table.h, tic6x.h: New.

ld:
	* Makefile.am (ALL_EMULATIONS): Add eelf32_tic6x_be.o and
	eelf32_tic6x_le.o.
	(eelf32_tic6x_be.c, eelf32_tic6x_le.c): New.
	* NEWS: Add news entry for TI C6X support.
	* configure.tgt (tic6x-*-*): New.
	* emulparams/elf32_tic6x_be.sh, emulparams/elf32_tic6x_le.sh: New.

ld/testsuite:
	* ld-elf/flags1.d, ld-elf/merge.d: XFAIL for tic6x-*-*.
	* ld-elf/sec-to-seg.exp: Set B_test_same_seg to 0 for tic6x-*-*.
	* ld-tic6x: New directory and testcases.

opcodes:
	* Makefile.am (TARGET_LIBOPCODES_CFILES): Add tic6x-dis.c.
	* Makefile.in: Regenerate.
	* configure.in (bfd_tic6x_arch): New.
	* configure: Regenerate.
	* disassemble.c (ARCH_tic6x): Define if ARCH_all.
	(disassembler): Handle TI C6X.
	* tic6x-dis.c: New.
@
text
@d1 9
@


1.1624
log
@2010-03-25  Thomas Schwinge  <thomas@@codesourcery.com>

	* doc/binutils.texi (readelf) <unwind information>: Mention support for
	ARM unwind tables.
@
text
@d1 19
@


1.1623
log
@Avoid buffer overflow.

2010-03-18  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (decode_arm_unwind): Increase buf size to 9 byte.
@
text
@d1 5
@


1.1622
log
@warning fixes
@
text
@d1 4
@


1.1621
log
@	* MAINTAINERS: Update my email address.  List Tristan Gingold
	as the release branch maintainer.
@
text
@d1 4
@


1.1620
log
@	include:
	* elf/common.h (VER_FLG_*): Document.
	(VER_FLG_INFO): Define.

	gold:
	* dynobj.h (Verdef::Verdef): Add is_info arg, is_info member
	function, is_info_ member.
	* dynobj.cc (Verdef::write): Set VER_FLG_INFO if this->is_info_.
	(Versions::Versions): Update caller.
	(Versions::define_base_version): Likewise.
	(Versions::add_def): Likewise.

	elfcpp:
	* elfcpp.h (VER_FLG_INFO): Define.

	binutils:
	* readelf.c (get_ver_flags): Handle VER_FLG_INFO.
@
text
@d1 5
@


1.1619
log
@	* NEWS: Document .ARM.exidx / .ARM.extab support.

	* dwarf.c (read_leb128): Make non-static.
	* dwarf.h (read_leb128): Declare.
	* readelf.c (REMOVE_ARCH_BITS): Define.
	(find_section_by_address): New.
	(read_uleb128): Move higher.  Use read_leb128 from dwarf.c.
	(find_symbol_for_address): Handle the Thumb bit for ARM, by
	using REMOVE_ARCH_BITS.
	(struct arm_section, struct arm_unw_aux_info, arm_print_vma_and_name)
	(arm_free_section, arm_section_get_word, decode_arm_unwind)
	(dump_arm_unwind, arm_process_unwind): New.
	(process_unwind): Handle ARM.
@
text
@d1 4
@


1.1618
log
@	* MAINTAINERS: Update my email address.
@
text
@d1 16
@


1.1617
log
@        PR binutils/11298
        * doc/binutils.texi (windmc): Fix synopsis and description of
        ASCII options.
@
text
@d1 4
@


1.1616
log
@	* readelf.c (get_group_flags): Return empty string when flags zero.
	Add space in other returned values.
	(process_section_groups): Adjust format string.
@
text
@d1 6
@


1.1615
log
@	* bfd/elf32-arm.c (elf32_arm_merge_eabi_attributes): Add support for
	merging Tag_DIV_use, Tag_MPextension_use, and
	Tag_MPextension_use_legacy tags.
	* binutils/readelf.c (arm_attr_tag_Advanced_SIMD_arch): Add
	description of newly permitted attribute values.
	(arm_attr_tag_Virtualization_use): Likewise.
	(arm_attr_tag_DIV_use): Add description of new attribute.
	(arm_attr_tag_MPextension_use_legacy): Likewise.
	* gas/config/tc-arm.c (arm_convert_symbolic_attribute):
	Add Tag_DIV_use.
	* gas/doc/c-arm.texi: Likewise.
	* gas/testsuite/gas/arm/attr-order.d: Fix test for new names for
	attribute values.
	* include/elf/arm.h (Tag_MPextension_use): Renumber.
	(Tag_DIV_use): Add.
	(Tag_MPextension_use_legacy): Likewise.
	* ld/testsuite/ld-arm/attr-merge-3.attr: Fix test for new attribute
	values.
	* ld/testsuite/ld-arm/attr-merge-3b.s: Likewise.
	* ld/testsuite/ld-arm/attr-merge-unknown-1.d: Fix test now that 42
	is a recognised attribute ID.
	* ld/testsuite/ld-arm/attr-merge-unknown-1.s: Likewise.
	* ld/testsuite/ld-arm/attr-merge-6.attr: New test.
	* ld/testsuite/ld-arm/attr-merge-6a.s: Likewise.
	* ld/testsuite/ld-arm/attr-merge-6b.s: Likewise.
	* ld/testsuite/ld-arm/attr-merge-7.attr: Likewise.
	* ld/testsuite/ld-arm/attr-merge-7a.s: Likewise.
	* ld/testsuite/ld-arm/attr-merge-7b.s: Likewise.
	* ld/testsuite/ld-arm/arm-elf.exp: Run the new tests.
@
text
@d1 6
@


1.1614
log
@Updated Vietnamese translation.
@
text
@d1 8
@


1.1613
log
@bfd/

2010-02-09  Michael Holzheu  <holzheu@@de.ibm.com>

	* elf-bfd.h (elfcore_write_s390_timer, elfcore_write_s390_todcmp,
	elfcore_write_s390_todpreg, elfcore_write_s390_ctrs,
	elfcore_write_s390_prefix): New.
	* elf.c (elfcore_write_s390_timer, elfcore_write_s390_todcmp,
	elfcore_write_s390_todpreg, elfcore_write_s390_ctrs,
	elfcore_write_s390_prefix): New.
	(elfcore_grok_note): Handle NT_S390_TIMER, NT_S390_TODCMP,
	NT_S390_TODPREG, NT_S390_CTRS and NT_S390_PREFIX.
	(elfcore_write_register_note): Handle .reg-s390-timer,
	.reg-s390-todcmp, .reg-s390-todpreg, .reg-s390-ctrs,
	.reg-s390-prefix section.

binutils/

2010-02-09  Michael Holzheu  <holzheu@@de.ibm.com>

	* readelf.c (get_note_type): Handle NT_S390_TIMER, NT_S390_TODCMP,
	NT_S390_TODPREG, NT_S390_CTRS and NT_S390_PREFIX.

include/elf/

2010-02-09  Michael Holzheu  <holzheu@@de.ibm.com>

	* common.h (NT_S390_TIMER, NT_S390_TODCMP, NT_S390_TODPREG,
	NT_S390_CTRS and NT_S390_PREFIX): Define.
@
text
@d1 4
@


1.1612
log
@* dwarf.c (display_debug_frames): Skip the 'S' character in CFI
'z' augmentation strings.
@
text
@d1 5
@


1.1611
log
@        * objdump.c (disassemble_bytes): Clear aux->reloc before printing
        a new address, so as not to reuse a previous, non-related reloc.

        * gas/arm/arm-it-auto.d, gas/arm/bl-local-v4t.d,
        gas/arm/blx-local.d, gas/arm/thumb-w-good.d: Update expected
        results.
@
text
@d1 5
@


1.1610
log
@Add NT_386_XSTATE.

bfd/

2010-02-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* elf-bfd.h (elfcore_write_xstatereg): New.

	* elf.c (elfcore_grok_xstatereg): New.
	(elfcore_write_xstatereg): Likewise.
	(elfcore_grok_note): Handle NT_X86_XSTATE.
	(elfcore_write_register_note): Handle .reg-xstate section.

binutils/

2010-02-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (get_note_type): Handle NT_X86_XSTATE.

include/elf/

2010-02-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* common.h (NT_386_XSTATE): New.
@
text
@d1 5
@


1.1609
log
@	* objcopy.c (copy_object): Set SEC_LINKER_CREATED when adding
	sections.

	testsuite/
	* binutils-all/note-1.d: New.
	* binutils-all/objcopy.exp: Add it.
@
text
@d1 4
@


1.1608
log
@        PR 11225
        * objdump.c (only): Replace with linked list.
        (only_size, only_used): Replace with only_list.
        (process_section_p): Set seen field on matches sections.
        (add_only): New function.
        (free_only_list): New function.
        (disassemble_section): Check only_list.
        (main): Use add_only and free_only_list.

        * gas/pe/aligncomm-c.d: Dump all sections.

        * ld-sh/refdbg-0-dso.d: Dump all sections.
@
text
@d1 5
@


1.1607
log
@2010-01-26  Tristan Gingold  <gingold@@adacore.com>

	* Makefile.am (bin2c): Add libintl dependance and library.
	* Makefile.in: Regenerate.
@
text
@d1 11
d18 1
a18 1
	
@


1.1606
log
@2010-01-21  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* readelf.c (get_machine_flags): Handle EF_S390_HIGH_GPRS.

2010-01-21  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* s390.h (EF_S390_HIGH_GPRS): Added macro definition.

2010-01-21  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* config/tc-s390.c (s390_elf_final_processing): New function.
	* config/tc-s390.h (elf_tc_final_processing): New macro definition.
	(s390_elf_final_processing): Added prototype.

2010-01-21  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* elf32-s390.c (elf32_s390_merge_private_bfd_data): New function.
	(bfd_elf32_bfd_merge_private_bfd_data): New macro definition.
@
text
@d1 5
@


1.1605
log
@binutils/:
	* objcopy.c (copy_main): Rewrite OPTION_ADD_SECTION code to work
	with non-ordinary files like /dev/null.
binutils/testsuite/:
	* lib/utils-lib.exp (run_dump_test): Permit option values to use
	$srcdir to refer to the source directory.
	* binutils-all/add-section.d: New test.
	* binutils-all/add-empty-section.d: New test.
	* binutils-all/empty-file: New test input file.
	* binutils-all/objcopy.exp: Run new tests.
@
text
@d1 4
@


1.1604
log
@        * readelf.c (process_file_header): Handle e_phnum extension.
@
text
@d1 5
@


1.1603
log
@Remove duplicated entries.
@
text
@d1 5
@


1.1602
log
@2010-01-14  Tristan Gingold  <gingold@@adacore.com>

	* dwarf.c (get_AT_name): Handle DW_AT_use_GNAT_descriptive_type
	and DW_AT_GNAT_descriptive_type.
@
text
@a32 15
2010-01-11  H.J. Lu  <hongjiu.lu@@intel.com>

	PR ld/11146
	* readelf.c (do_dyn_syms): New.
	(OPTION_DYN_SYMS): Likewise.
	(options): Add "dyn-syms".
	(usage): Add --dyn-syms.
	(parse_args): Handle OPTION_DYN_SYMS.
	(process_symbol_table): Handle do_dyn_syms.
	(process_object): Likewise.
	(process_archive): Likewise.

	* doc/binutils.texi: Document --dyn-syms for readelf.  Mention
	symbol hash tables for -D.

@


1.1601
log
@2010-01-13  Tristan Gingold  <gingold@@adacore.com>

	* ar.c (main): Use lbasename.
	(normalize): Ditto.
	* objdump.c (update_source_path): Ditto.
@
text
@d1 5
@


1.1600
log
@bfd/
2010-01-12  Tristan Gingold  <gingold@@adacore.com>

	* makefile.vms (CFLAGS): Turns warnings into informational messages.

binutils/
2010-01-12  Tristan Gingold  <gingold@@adacore.com>

	* makefile.vms (CFLAGS): Turns warnings into informational messages.
@
text
@d1 6
@


1.1599
log
@Add --dyn-syms to readelf

binutils/

2010-01-11  H.J. Lu  <hongjiu.lu@@intel.com>

	PR ld/11146
	* NEWS: Mention --dyn-syms for readelf.

	* readelf.c (do_dyn_syms): New.
	(OPTION_DYN_SYMS): Likewise.
	(options): Add "dyn-syms".
	(usage): Add --dyn-syms.
	(parse_args): Handle OPTION_DYN_SYMS.
	(process_symbol_table): Handle do_dyn_syms.
	(process_object): Likewise.
	(process_archive): Likewise.

	* doc/binutils.texi: Document --dyn-syms for readelf.  Mention
	symbol hash tables for -D.

ld/testsuite/

2010-01-11  H.J. Lu  <hongjiu.lu@@intel.com>

	PR ld/11146
	* ld-elf/dynsym1.d: New.
@
text
@d1 4
@


1.1598
log
@        * NEWS: Mention addition of elfedit.
@
text
@d1 32
@


1.1597
log
@* po/fi.po: Updated Finnish translation.
@
text
@d3 2
@


1.1596
log
@Sync Libtool from GCC.

/:
	* libtool.m4: Sync from git Libtool.
	* ltmain.sh: Likewise.
	* ltoptions.m4: Likewise.
	* ltversion.m4: Likewise.
	* lt~obsolete.m4: Likewise.

sim/iq2000/:
	* configure: Regenerate.

sim/d10v/:
	* configure: Regenerate.

sim/m32r/:
	* configure: Regenerate.

sim/frv/:
	* configure: Regenerate.

sim/:
	* avr/configure: Regenerate.
	* cris/configure: Regenerate.
	* microblaze/configure: Regenerate.

sim/h8300/:
	* configure: Regenerate.

sim/mn10300/:
	* configure: Regenerate.

sim/erc32/:
	* configure: Regenerate.

sim/arm/:
	* configure: Regenerate.

sim/m68hc11/:
	* configure: Regenerate.

sim/lm32/:
	* configure: Regenerate.

sim/sh64/:
	* configure: Regenerate.

sim/v850/:
	* configure: Regenerate.

sim/cr16/:
	* configure: Regenerate.

sim/moxie/:
	* configure: Regenerate.

sim/m32c/:
	* configure: Regenerate.

sim/mips/:
	* configure: Regenerate.

sim/mcore/:
	* configure: Regenerate.

sim/sh/:
	* configure: Regenerate.

gprof/:
	* Makefile.in: Regenerate.
	* configure: Regenerate.

opcodes/:
	* Makefile.in: Regenerate.
	* configure: Regenerate.

gas/:
	* Makefile.in: Regenerate.
	* configure: Regenerate.
	* doc/Makefile.in: Regenerate.

ld/:
	* configure: Regenerate.

gdb/testsuite/:
	* gdb.cell/configure: Regenerate.

binutils/:
	* Makefile.in: Regenerate.
	* configure: Regenerate.
	* doc/Makefile.in: Regenerate.

bfd/:
	* Makefile.in: Regenerate.
	* configure: Regenerate.

bfd/doc/:
	* Makefile.in: Regenerate.
@
text
@d1 4
@


1.1595
log
@Change to "Copyright 2010".
@
text
@d1 6
@


1.1594
log
@Add --input-type and --output-type to elfedit

binutils/

2010-01-08  H.J. Lu  <hongjiu.lu@@intel.com>

	* elfedit.c (input_elf_type): New.
	(output_elf_type): Likewise.
	(elf_type): Likewise.
	(update_elf_header): Support updating ELF file type.
	(command_line_switch): Add OPTION_INPUT_TYPE and
	OPTION_OUTPUT_TYPE.
	(options): Likewise.
	(usage): Add --input-type and --output-type.
	(main): Handle OPTION_INPUT_TYPE and OPTION_OUTPUT_TYPE.  Check
	one of --output-mach and --output-type must be specified.

	* doc/binutils.texi: Document --input-type and --output-type
	for elfedit.

binutils/testsuite/

2010-01-08  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/elfedit-2.d: New.

	* binutils-all/elfedit.exp: Run elfedit-2.
@
text
@d3 4
@


1.1593
log
@Fix a typo

2010-01-08  H.J. Lu  <hongjiu.lu@@intel.com>

	* doc/binutils.texi: Fix a typo.
@
text
@d3 16
@


1.1592
log
@Don't change input_elf_XXX if they are -1

2010-01-08  H.J. Lu  <hongjiu.lu@@intel.com>

	* elfedit.c (update_elf_header): Don't change input_elf_class
	nor input_elf_machine if they are -1.
@
text
@d3 4
@


1.1591
log
@2010-01-08  Tristan Gingold  <gingold@@adacore.com>

	* ar.c: Remove bfd_special_undocumented_glue prototype.
@
text
@d1 5
@


1.1590
log
@Reformat elfedit.c

2010-01-07  H.J. Lu  <hongjiu.lu@@intel.com>

	* elfedit.c (update_elf_header): Reformat.
@
text
@d1 4
a38 1
	Update copyright.
@


1.1589
log
@Fix indent for --symbols in "readelf -h"

2010-01-07  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (usage): Fix indent for --symbols.
@
text
@d3 4
@


1.1588
log
@2010-01-07  H.J. Lu  <hongjiu.lu@@intel.com>

	* doc/binutils.texi: Replace -histogram with --histogram.
@
text
@d3 4
@


1.1587
log
@Add elfedit

binutils/

2010-01-06  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/11131
	* Makefile.am (ELFEDIT_PROG): New.
	(bin_PROGRAMS): Add $(ELFEDIT_PROG).
	(CFILES): Add elfedit.c.
	(elfedit_DEPENDENCIES): New.
	(elfedit_SOURCES): Likewise.
	(elfedit_LDADD): Likewise.
	* Makefile.in: Regenerated.

	* elfedit.c: New.

	* doc/binutils.texi: Document elfedit.

	* doc/Makefile.am (man_MANS): Add elfedit.1.
	(elfedit.1): New.
	* doc/Makefile.in: Regenerated.

binutils/testsuite/

2010-01-06  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/11131
	* binutils-all/elfedit-1.d: New.
	* binutils-all/elfedit.exp: Likewise.

	* config/default.exp (ELFEDIT): New. Set if it doesn't exist.
	(ELFEDITFLAGS): Likewise.

	* lib/utils-lib.exp (run_dump_test): Support elfedit.
@
text
@d1 4
@


1.1586
log
@2010-01-06  Tristan Gingold  <gingold@@adacore.com>

	* nm.c (usage): Remove extra blanks.
	Update copyright.
@
text
@d1 19
@


1.1585
log
@Update copyright

2010-01-04  H.J. Lu  <hongjiu.lu@@intel.com>

	* objcopy.c: Update copyright.
	* readelf.c: Likewise.
@
text
@d1 5
@


1.1584
log
@Remove "Warning: " from error message

2010-01-04  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/11130
	* objcopy.c (copy_object): Remove "Warning: " from error
	message.
@
text
@d3 5
d21 1
a21 1
	* po/ru/po: Updated Russian translation.
@


1.1583
log
@        PR 11128
        * readelf.c (dump_section_as_strings): Use two separate
        invocations of printf() in order to work around bugs in
        the Solaris 8 implementation.
@
text
@d1 6
@


1.1582
log
@Updated Russian translation.
@
text
@d3 7
@


1.1581
log
@Move 2009 binutils ChangeLog to ChangeLog-2009.
@
text
@d1 3
@


1.1580
log
@        * objcopy.c (add_redefine_syms_file): Avoid symbol buffer
        overrun.
@
text
@a0 2
2009-12-31  Eirik Byrkjeflot Anonsen  <eirik@@opera.com>
	    Nick Clifton  <nickc@@redhat.com>
d2 1
a2 1345
	* objcopy.c (add_redefine_syms_file): Avoid symbol buffer
	overrun.

2009-12-21  Alan Modra  <amodra@@gmail.com>

	* MAINTAINERS: Update my email address.

2009-12-18  Ulrich Weigand  <uweigand@@de.ibm.com>

	* readelf.c (get_note_type): Handle NT_S390_HIGH_GPRS notes.

2009-12-11  Nick Clifton  <nickc@@redhat.com>

	* Makefile.in: Regenerate.
	* doc/Makefile.in: Regenerate.
	* ar.c: Fix shadowed variable warnings.
	* bucomm.c: Likewise.
	* coffgrok.c: Likewise.
	* configure: Likewise.
	* dlltool.c: Likewise.
	* dllwrap.c: Likewise.
	* dwarf.c: Likewise.
	* ieee.c: Likewise.
	* nlmconv.c: Likewise.
	* nm.c: Likewise.
	* objcopy.c: Likewise.
	* objdump.c: Likewise.
	* prdbg.c: Likewise.
	* readelf.c: Likewise.
	* resbin.c: Likewise.
	* resrc.c: Likewise.
	* resres.c: Likewise.
	* srconv.c: Likewise.
	* stabs.c: Likewise.
	* sysdump.c: Likewise.
	* sysinfo.y: Likewise.
	* wrstabs.c: Likewise.

2009-12-10  Tristan Gingold  <gingold@@adacore.com>

	* addr2line.c (pretty_print): New variable.
	(long_options): Add an entry for -p/--pretty-print.
	(usage): Document -p/--pretty-print.
	(translate_addresses): Handle pretty_print.  Reindent.
	(main): Handle option -p.
	* doc/binutils.texi (addr2line): Document -p/--pretty-print.
	* NEWS: Mention new feature.

2009-12-09  Tristan Gingold  <gingold@@adacore.com>

	* addr2line.c (translate_addresses): Display addresses
	if option -a is used.
	(with_addresses): New variable.
	(long_options): Add option '-a'.
	(usage): Add usage for option '-a'.
	(main): Handle option '-a'.
	* doc/binutils.texi (addr2line): Document option '-a'.
	* NEWS: Mention new feature.

2009-12-08  Cary Coutant  <ccoutant@@google.com>

	* dwarf.c (dwarf_select_sections_by_names): Handle pubtypes correctly.
	(debug_displays): Remove duplicate entry for debug_pubtypes.

2009-12-03  David Daney  <ddaney@@caviumnetworks.com>
	    Adam Nemet  <adambnemet@@gmail.com>

	* readelf.c (get_machine_flags): Handle E_MIPS_MACH_OCTEON2 case.

2009-12-03  Nick Clifton  <nickc@@redhat.com>

	PR binutils/11045
	* dwarf.c (do_debug_pubtypes): New variable.
	(dwarf_select_sections_by_names): Handle .debug_pubtypes.
	(dwarf_select_sections_by_letters): Add 't' for .debug_pubtype.
	(dwarf_select_sections_all): Set do_debug_pubtypes.
	(debug_displays): Add support for .debug_pubtypes.
	* dwarf.h (do_debug_pubtypes): Export.
	* objdump.c (usage): Add -wt or --dwarf=pubtypes.
	* readelf.c (usage): Likewise.
	(process_section_headers): Enable debug display if
	do_debug_pubtypes is set.
	* doc/binutils.texi: Document -wt/--dwarf=pubtypes option.

2009-12-02  Jerker Bck  <jerker.back@@gmail.com>

	PR binutils/11017
	* dlltool.c (PAGE_SIZE): Delete.
	(PAGE_MASK): Provide default definition based on COFF_PAGE_SIZE.
	Check for DLLTOOL_DEFAULT_MX86_64 and DLLTOOL_DEFAULT_I386.

2009-12-01  Joseph Myers  <joseph@@codesourcery.com>

	* readelf.c (get_machine_name, get_osabi_name): Handle more
	allocated values.

2009-11-30  Joseph Myers  <joseph@@codesourcery.com>

	* configure: Regenerate.

2009-11-20  Nick Clifton  <nickc@@redhat.com>

	* readelf.c: Include xc16x.h.
	(dump_relocations): Handle relocations for the xc16x target.
	(get_machine_name): Accept EM_C166 for xc16x targets.
	(is_32bit_abs_reloc): Add support for xc16c 32-bit absolute reloc.
	(is_16bit_abs_reloc): Add support for xc16c 16-bit absolute reloc.
	(is_none_reloc): Add support for xc16c null reloc.
	
2009-11-20  Ben Elliston  <bje@@au.ibm.com>

	* Makefile.am (syslex.o): Use $(NO_WERROR) not -Wno-error.
	(sysinfo.o): Likewise.
	* Makefile.in: Regenerate.

2009-11-19  Ben Elliston  <bje@@au.ibm.com>

	* arlex.l: Enable noinput, nounput flex options.
	* syslex.l: Likewise.

2009-11-17  Paul Brook  <paul@@codesourcery.com>
	    Daniel Jacobowitz  <dan@@codesourcery.com>

	* readelf.c (arm_attr_tag_CPU_arch): Add v7E-M.

2009-11-16  Kai Tietz  <kai.tietz@@onevision.com>

	* windmc.c (set_endianess): Use bfd_get_target_info.
	* windres.c (set_endianess): Likewise.
	(find_arch_match): Removed.

2009-11-11  Nick Clifton  <nickc@@redhat.com>

	* po/id.po: Updated Indonesian translation.

2009-11-11  Jan Kratochvil  <jan.kratochvil@@redhat.com>

	* configure.in: Stop checking for fopen64 and stat64.
	* strings.c (file_off, file_open, statbuf, file_stat): Remove.
	(strings_file): Change file_off to file_ptr, file_open to fopen,
	statbuf to struct stat and file_stat to stat.
	(get_char): Change parameter type file_off * to file_ptr *.
	(print_strings): Change parameter and variable `start' type file_off to
	file_ptr.
	* configure: Regenerate.
	* config.in: Regenerate.

2009-11-11  Jan Kratochvil  <jan.kratochvil@@redhat.com>

	* configure.in: Call ACX_LARGEFILE.  Stop calling AC_PLUGINS,
	AC_SYS_LARGEFILE and checking the Solaris largefile exception.
	* aclocal.m4: Regenerate.
	* configure: Regenerate.

2009-11-09  Jan Kratochvil  <jan.kratochvil@@redhat.com>

	* bucomm.c (get_file_size): Update comment for the error return value.

2009-11-08  John David Anglin  <dave.anglin@@nrc-cnrc.gc.ca>

	* readelf.c (slurp_hppa_unwind_table): Don't relocate address twice.

2009-11-05  Kai Tietz  <kai.tietz@@onevision.com>

	* dllwrap.c (is_leading_underscore): New variable.
	(cpu_type): New enum type.
	(which_cpu): New variable.
	(usage): Add new options --no-leading-underscore
	and --leading-underscore.
	(long_options): Likewise.
	(OPTION_NO_LEADING_UNDERSCORE): New define.
	(OPTION_LEADING_UNDERSCORE): Likewise.
	(main): Initialize which_host, pass new options
	to dlltool, do underscoring dependent on
	is_leading_underscore, and do '@@12' decoration
	only for x86.

2009-11-02  Paul Brook  <paul@@codesourcery.com>

	* readelf.c (arm_attr_tag_VFP_arch): Add VFPv4 and VFPv4-D16.

2009-10-28  Kai Tietz <kai.tietz@@onevision.com>

	* dlltool.c (leading_underscore): New local variable.
	(asm_prefix): Interpret leading_underscore.
	(xlate): Likewise.
	(add_excludes): Use leading_underscore for making
	symbol name.
	(gen_exp_file): Use leading_underscore for internal
	_imp_ symbols.
	(usage): Add display of --no-leading-underscore and
	--leading-underscore option.
	(OPTION_NO_LEADING_UNDERSCORE): New.
	(OPTION_LEADING_UNDERSCORE): New.
	(long_options): Add --no-leading-underscore and
	--leading-underscore option.
	(main): Handle new options.
	* doc/binutils.text: Add documentation of the options
	--no-leading-underscore and --leading-underscore.

2009-10-23  Kai Tietz  <kai.tietz@@onevision.com>

	* deflex.l: Allow '<' and '>' in ID names.

	* defparse.y (EQUAL): New token constant.
	(opt_import_name): New rule for emptry or '==' ID.
	(expline): Add opt_import_name as last line element.
	(impline): Likewise.
	* dlltool.c (ifunct): New member its_name.
	(export): Likewise.
	(append_import): Add its_name argument.
	(defexports): Likewise.
	(defimport): Likewise.
	(scan_drectve_symbols): Adjust calls to def_exports.
	(dump_def_info): Print new optinal import/export table
	symbol name.
	(generate_idata_ofile): Use its_name member.
	(make_one_lib_file): Likewise.
	(nfunc): Take its_name in account on sort.
	* dlltool.h (def_exports): Add its_name as argument.
	(def_import): Likewise.
	* doc/binutils.texi: Add new def file syntax extension.
	* deflex.l (EQUAL): Add rule for '=='.
	* NEWS: Mention new feature.

2009-10-23  Thomas Cougnard  <thomas.cougnard@@gmail.com>

	* readelf.c (dynamic_info): Correct size of array.

2009-10-21  Ben Elliston  <bje@@gnu.org>

	* MAINTAINERS (BUILD SYSTEM, TESTSUITES): Remove myself.

2009-10-19  Jerker Bck  <jerker.back@@gmail.com>

	PR binutils/10793
	* prdbg.c (tg_end_struct_type): Warning fix.

	PR binutils/10792
	* dlltool.c (dll_name_list_append): Declare variable at start
	of block.
	(dll_name_list_count, dll_name-list_print): Likewise.

2009-10-16  Doug Evans  <dje@@sebabeach.org>

	* MAINTAINERS: Add myself as m32r maintainer.

2009-10-16  Jerker Bck <jerker.back@@gmail.com>

	PR 10764
	* Makefile.am (sysinfo.o, syslex.o): Place source file after all
	command line switches.
	* Makefile.in: Regenerate.

2009-10-16  Yann Droneaud  <yann@@droneaud.fr>

	PR 10768
	* dlltool.c (bfd_get_errmsg): New macro.
	(scan_obj_file): Use it.
	(make_one_lib_file): Use it.
	(make_head): Use it.
	(make_delay_head): Use it.
	(make_tail): Use it.
	(gen_lib_file): Use it.
	(identify_dll_for_implib): Use it.
	(identify_search_archive):  Use it.

2009-10-16  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (usage): Add mention of --debug-dump=frames-interp.
	Wrap output to 80 columns.
	* objdump.c (usage): Likewise.
	* doc/binutils.texi (readelf): Add note about =frames-interp.

2009-10-01  Alan Modra  <amodra@@bigpond.net.au>

	* addr2line.c (slurp_symtab): Don't use bfd_read_minisymbols.

2009-09-29  Nick Clifton  <nickc@@redhat.com>

	* doc/binutils.texi (c++filt): Remove spurious description of
	nonexistent --java command line switch for cxxfilt.

2009-09-29  DJ Delorie  <dj@@redhat.com>

	* readelf.c: Add support for RX target.
	* MAINTAINERS: Add DJ and NickC as maintainers for RX.

2009-09-28  Alan Modra  <amodra@@bigpond.net.au>

	* configure.in: Don't invoke configure.tgt on $enable_targets.
	* configure: Regenerate.

2009-09-28  Nick Clifton  <nickc@@redhat.com>

	PR 10478
	* readelf.c (get_elf_section_flags): Allow SHN_BEFORE and
	SHN_AFTER section link values in x86 binaries.
	(process_section_headers): Likewise.

2009-09-25  Dmitry Gorbachev  <d.g.gorbachev@@gmail.com>

	PR 10656
	* readelf.c: Remove duplicate declaration of variable do_wide.
	* dwarf.h: Add export of do_wide.

2009-09-24  Cary Coutant  <ccoutant@@google.com>

	* dwarf.c (get_TAG_name): Add missing DWARF-3 and new DWARF-4 tags.
	(get_FORM_name): Add new DWARF-4 forms.
	(read_and_display_attr_value): Add DW_FORM_ref_sig8, DW_LANG_Python.
	(get_AT_name): Add new DWARF-4 and GNU-specific attributes.
	(process_debug_info): Add do_types parameter; change all callers.
	Add support for .debug_types sections.
	(display_debug_types): New function.
	(debug_displays): Add .debug_types section.
	* readelf.c (process_section_headers): Add .debug_types section.
	(display_debug_section): Simplify call to streq.

2009-09-25  Alan Modra  <amodra@@bigpond.net.au>

	* readelf.c (print_dynamic_symbol): Format entries as for
	normal symbol table.
	(process_symbol_table): Use -7s format string for visibility.

2009-09-22  Richard Sandiford  <rdsandiford@@googlemail.com>

	* objdump.c (disassemble_section): Use bfd_get_arch_size
	instead of assuming that the address size is 32 bits.

2009-09-21  Alan Modra  <amodra@@bigpond.net.au>

	* readelf.c (get_ppc_dynamic_type): Add TLSOPT.
	(get_ppc64_dynamic_type): Likewise.

2009-09-18  Nick Clifton  <nickc@@redhat.com>

	* po/es.po: Updated Spanish translation.
	* po/vi.po: Updated Vietnamese translation.

2009-09-11  Paul Pluzhnikov  <ppluzhnikov@@google.com>

	* readelf.c (process_version_sections, process_symbol_table):
	Use symbolic constants.

2009-09-11  Nick Clifton  <nickc@@redhat.com>

	* po/binutils.pot: Updated by the Translation project.

2009-09-11  Philippe De Muyter  <phdm@@macqel.be>

	* obcopy.c (copy_object): New parameter `input_arch', architecture
	of input file, if not specified in input file itself; all callers
	updated; `binary_architecture' hack removed.
	(copy_archive, copy_file): New parameter `input_arch', for
	`copy_object' usage.
	(copy_main): Accept `-B' (`--binary-architecture') option also
	for any arch-less input ifile format, not only `binary'; remove
	bfd_external_binary_architecture hack; instead, add `input_arch'
	to calls to `copy_file'.
	* windres.c, windmc.c : Obsolete and useless external references
	to `bfd_external_binary_architecture' or `bfd_external_machine'
	removed.
	* doc/binutils.texi: Mention that -B parameter can be used for any
	input file type which does not have its own architecture.

2009-09-10  Martin Thuresson  <martin@@mtme.org>

	Update sources to compile cleanly with -Wc++-compat:
	* addr2line.c (slurp_symtab): Fix casts. Introduce variable
	minisyms to avoid aliasing varning.
	* ar.c: Add casts.
	(normalize): Use name del instead of delete.
	(display_target_list,display_info_table): Change loop counter
	variable a to int.
	* bucomm.c: Add casts.
	* debug.c: Update function to use new names.
	(struct debug_baseclass): Rename member from virtual to
	is_virtual.
	(struct debug_type_s, struct debug_field_s, struct
	debug_baseclass_s, struct debug_method_s, struct
	debug_method_variant_s, struct debug_type_s): Rename struct from
	avoid name collision.
	* debug.h: Use new struct names.
	* dwarf.c: Add casts.
	(free_debug_memory): Change loop counter variable a to int.
	* ieee.c: Add casts.
	(enum ieee_var_kind): Move to top level.
	(ieee_class_baseclass): Rename parameter virtual to is_virtual.
	(ieee_class_method_var): Rename variable virtual to is_virtual.
	* nm.c: Add casts.
	* objcopy.c: Add casts.
	(copy_archive): Rename variable delete to del.
	* objdump.c: Add casts.
	(dump_dwarf_section): Change loop counter variable i to int.
	* prdbg.c: Add casts.
	(pr_class_baseclass,tg_class_baseclass): Rename parameters virtual
	to is_virtual.
	* readelf.c: Add casts.
	(struct ia64_unw_table_entry,struct hppa_unw_table_entry): Move to
	top level.
	* size.c: Add casts.
	* stabs.c (parse_stab_type, parse_stab_range_type,
	(parse_stab_cpp_abbrev): Rename parameter from typename to
	type_name.
	(parse_stab_baseclasses): Rename variable virtual to is_virtual.
	* strings.c: Add casts.
	* wrstabs.c (stab_class_baseclass): Rename parameter virtual to
	is_virtual.

2009-09-09  Nick Clifton  <nickc@@redhat.com>

	PR 10478:
	readelf.c (get_elf_section_flags): Add support for SHF_EXCLUDE and
	SHF_ORDERED.
	(process_section_headers): Warn about out of range sh_link
	values.  When displaying detailed section header information
	annote the SHN_BEFORE and SHN_AFTER values.

2009-09-08  Alan Modra  <amodra@@bigpond.net.au>

	* dwarf.c (byte_get_little_endian): Handle size of 3.
	(byte_get_big_endian): Likewise.
	* readelf.c (byte_put_little_endian): Likewise.
	(byte_put_big_endian): Likewise.
	(is_24bit_abs_reloc): New function.
	(is_none_reloc): Formatting.
	(apply_relocations): Use is_24bit_abs_reloc.  Handle pj and xtensa
	reloc peculiarity.

2009-09-07  Jan Kratochvil  <jan.kratochvil@@redhat.com>

	* readelf.c (is_none_reloc <EM_XTENSA_OLD>, is_none_reloc <EM_XTENSA>):
	New.

2009-09-07  Jan Kratochvil  <jan.kratochvil@@redhat.com>

	* dwarf.c (process_debug_info): Support section padding abbrev codes.

2009-09-07  Tristan Gingold  <gingold@@adacore.com>

	* po/binutils.pot: Regenerate.

2009-09-05  Jan Kratochvil  <jan.kratochvil@@redhat.com>

	* Makefile.am (sysdump.o): Depend on sysroff.c.
	* Makefile.in: Regenerate.

2009-09-05  Martin Thuresson  <martin@@mtme.org>

	* ieee.c (ieee_read_cxx_misc, ieee_read_cxx_class,
	ieee_read_reference): Rename variables named class to cxxclass.

2009-09-04  Tristan Gingold  <gingold@@adacore.com>

	* BRANCHES: Add binutils-2_20-branch.

2009-09-04  Tristan Gingold  <gingold@@adacore.com>

	* NEWS: Add marker for 2.20.

2009-09-04  Timo Kreuzer  <timo.kreuzer@@web.de>

	* dlltool.c (delayimp_name): Add new global variable
	(usage, long_options, main): Add new option "-y" / "--output-delaylib"
	(struct mac): Add fields how_dljtab_size, how_dljtab_roff1,
	how_dljtab_roff2, how_dljtab, trampoline.
	(i386_dljtab): Add binary stub for x86 delay import.
	(i386_trampoline): Add text assembly stub for x86 delay import.
	(mtable): Add delay import data for M386 and MX86 only.
	(make_delay_head): New function.
	(make_one_lib_file): New arg delay creates delay-load import stub.
	(gen_lib_file): New arg delay likewise.
	(HOW_JTAB, HOW_JTAB_SIZE, HOW_JTAB_ROFF): New arg delay likewise.
	(HOW_JTAB_ROFF2, HOW_JTAB_ROFF3): New macros for delay import.
	(make_tail): Convert hard TABS embedded in strings to "\t" escapes.
	* NEWS: Mention new feature.  Also fix whitespace.
	* doc/binutils.texi: Updated dlltool documentation.

2009-09-02  Tristan Gingold  <gingold@@adacore.com>

	* configure.com: Do not copy makefile.vms-in to makefile.vms
	* makefile.vms-in: Renamed to...
	* makefile.vms: ... this usual name as it is not processed anymore.
	Remove WRITE_DEBUG_OBJS (unused) and reorder object files for
	objdump.exe.

2009-09-01  Ralf Wildenhues  <Ralf.Wildenhues@@gmx.de>

	* Makefile.am (arparse.o, arlex.o, sysroff.o, defparse.o)
	(deflex.o, nlmheaders.o, rcparse.o, mcparse.o): Supply correct
	source file name for generated files which may be in $(srcdir).
	* Makefile.in: Regenerate.

2009-09-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* version.c (print_version): Change to "Copyright 2009".

2009-09-01  Tristan Gingold  <gingold@@adacore.com>

	* makefile.vms-in: Remove unused VERSION variable.  Remove unused
	dependencies.
	* configure.com: Ported to Itanium VMS.  Create build.com DCL script.

2009-08-29  Martin Thuresson  <martin@@mtme.org>

	* nlmconv.c (main): Rename variable new to new_name.

2009-08-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (sysinfo$(EXEEXT_FOR_BUILD)): Replace
	CFLAGS/LDFLAGS with CFLAGS_FOR_BUILD/LDFLAGS_FOR_BUILD.
	(syslex.o): Likewise.
	(sysinfo.o): Likewise.
	(bin2c$(EXEEXT_FOR_BUILD)): Likewise.
	* Makefile.in: Regenerated.

2009-08-27  Dave Korn  <dave.korn.cygwin@@gmail.com>

	* doc/binutils.texi (--only-keep-debug): Relocate stray para here ...
	(--subsystem): ... from here.

2009-08-24  Cary Coutant  <ccoutant@@google.com>

	* objdump.c (find_symbol_for_address): Avoid costly call to
	bfd_octets_per_byte.

2009-08-24  Ralf Wildenhues  <Ralf.Wildenhues@@gmx.de>

	* Makefile.am (am__skiplex, am__skipyacc): New.
	* Makefile.in: Regenerate.

2009-08-23  Ralf Wildenhues  <Ralf.Wildenhues@@gmx.de>

	* Makefile.am (syslex.o): Depend on sysinfo.h config.h.
	* Makefile.in: Regenerate.

2009-08-22  Ralf Wildenhues  <Ralf.Wildenhues@@gmx.de>

	* Makefile.am (AM_CPPFLAGS): Renamed from ...
	(INCLUDES): ... this.
	(bin2c$(EXEEXT_FOR_BUILD): Adjust rule.
	(installcheck-local): Renamed from ...
	(installcheck): ... this.
	* Makefile.in: Regenerate.

	* Makefile.am (AUTOMAKE_OPTIONS): Remove cygnus, add no-dist and
	foreign.
	(MKDEP, CLEANFILES): Remove now-unneeded variables.
	(DEP, DEP1, dep.sed, dep, dep-in, dep-am): Remove.
	(mkdep section): Remove.
	(BUILT_SOURCES): New variable, list $(GENERATED_HFILES).
	(EXTRA_ar_SOURCES): New, list $(CFILES).
	(syslex.o): Depend on syslex.c.
	(sysinfo.o): Depend on sysinfo.c.
	(arparse.h, defparse.h, nlmheaders.h rcparse.h mcparse.h):
	Remove dependencies, now tracked by automake.
	(srconv.o): Depend on sysroff.c.
	(objdump.o, arparse.o, arlex.o, sysroff.o, defparse.o, deflex.o)
	(nlmheader.o, rcparse.o, mcparse.o, rclex.o, mclex.o, dlltool.o)
	(rescoff.o, nlmconv.o): Rewrite using automake-style dependency
	tracking rules; only list the dependency upon the primary source
	file, but no included headers.
	* Makefile.in: Regenerate.

	* Makefile.am (install-pdf, install-pdf-recursive, install-html)
	(install-html-recursive): Remove.
	* Makefile.in: Regenerate.
	* doc/Makefile.am (pdf__strip_dir, install-pdf, install-pdf-am)
	(html__strip_dir, install-html, install-html-am): Remove.
	* doc/Makefile.in: Regenerate.

	* Makefile.in: Regenerate.
	* aclocal.m4: Likewise.
	* config.in: Likewise.
	* configure: Likewise.
	* doc/Makefile.in: Likewise.

2009-08-17  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (is_32bit_abs_reloc): Treat R_PARISC_SECREL32 as a
	32-bit absolute reloc for the purposes of processing debug
	sections.

2009-08-10  Daniel Gutson  <dgutson@@codesourcery.com>

	* readelf.c (get_arm_section_type_name): Added support for
	new sections headers.

2009-08-03  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/10364
	* objcopy.c (strip_main): Check return from smart_rename.
	(copy_main): Likewise.

2009-07-27  Nick Clifton  <nickc@@redhat.com>

	PR 10413
	* objdump.c (dump_section_header): Skip sections that we are
	ignoring.

2009-07-25  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (guess_is_rela): Handle EM_L1OM.
	(dump_relocations): Likewise.
	(get_machine_name): Likewise.
	(get_section_type_name): Likewise.
	(get_elf_section_flags): Likewise.
	(get_symbol_index_type): Likewise.
	(is_32bit_abs_reloc): Likewise.
	(is_32bit_pcrel_reloc): Likewise.
	(is_64bit_abs_reloc): Likewise.
	(is_64bit_pcrel_reloc): Likewise.
	(is_none_reloc): Likewise.

2009-07-23  Ulrich Drepper  <drepper@@redhat.com>

	* readelf.c (get_symbol_binding): For Linux targeted files return
	UNIQUE for symbols with the STB_GNU_UNIQUE binding.
	* doc/binutils.texi: Document the meaning of the 'u' symbol
	binding in the output of nm and objdump --syms.

2009-07-20  H.J. Lu  <hongjiu.lu@@intel.com>

	* NEWS: Mention --insn-width.

	* objdump.c (insn_width): New.
	(usage): Display --insn-width.
	(option_values): Add OPTION_INSN_WIDTH.
	(long_options): Add --insn-width.
	(disassemble_bytes): Handle insn_width.
	(main): Handle OPTION_INSN_WIDTH.

	* doc/binutils.texi: Document --insn-width.

2009-07-17  Nick Clifton  <nickc@@redhat.com>

	* dwarf.c (display_debug_lines): If do_debug_lines has not been
	set then default to displaying raw .debug_line section contents.

2009-07-14  Jan Kratochvil  <jan.kratochvil@@redhat.com>

	Support unordered .debug_info references to .debug_ranges.
	* dwarf.c (struct range_entry, range_entry_compar): New.
	(display_debug_ranges): Remove variables last_offset, first, j,
	seen_first_offset, use_debug_info and next.  New variables
	range_entries and range_entry_fill.  Create the sorted copy
	range_entries.  Remove the FIXME error on detected unordered references.
	* dwarf.h (debug_info <range_lists>): New comment.

2009-07-14  Nick Clifton  <nickc@@redhat.com>

	PR 10380
	* README: Document use of LDFLAGS="--static".

2009-07-10  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerated.

2009-07-10  Tom Tromey  <tromey@@redhat.com>

	* Makefile.am (dwarf.o): Refer to dwarf2.h, not elf/dwarf2.h.
	* Makefile.in: Rebuild.
	* dwarf.c: Include dwarf2.h, not elf/dwarf2.h.

2009-07-06  Tristan Gingold  <gingold@@adacore.com>

	* objdump.c (dump_dwarf_section): Handle .eh_frame like other dwarf
	sections.
	* dwarf.h (struct dwarf_section_display): Remove eh_frame field.
	* dwarf.c (debug_displays): Adjust for removed field.

2009-07-03  Jakub Jelinek  <jakub@@redhat.com>

	* dwarf.c (decode_location_expression): Handle DW_OP_stack_value
	and DW_OP_implicit_value.

2009-07-01  Nick Clifton  <nickc@@redhat.com>

	PR 6714
	* rclex.c (handle_quotes): Do not complain about whitespace
	separating quoted strings.
	(rclex_string): Ignore whitespace when looking for a new opening
	quote following a closing quote.

2009-06-27  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/10321
	* bucomm.c (get_file_size): Return -1 on error.

	* objcopy.c (copy_file): Report empty file.

2009-06-23  Nick Clifton  <nickc@@redhat.com>

	* dwarf.c (display_debug_lines_raw): Include the name of the
	section in warning message.
	(struct debug_display): Enable reloc processing for .debug_line
	and .debug_ranges sections.

	* readelf.c: Add --relocated-dump command line option to dump the
	relocated contents of a specified section.
	(request_dump): New function.
	(parse_args): Use it.
	(dump_section_as_bytes): Add parameter to indicate whether the
	contents should be relocated.
	(target_specific_reloc_handling): Add code for a R_MN10300_16
	reloc found after a R_MN10300_SYM_DIFF reloc.
	(debug_apply_relocations): Rename to apply_relocations.
	(get_section_contents): New function.  Replaces common code found
	in dump_section_as_strings and dump_section_as_bytes.
	* doc/binutils.texi: Document new command line option.
	* NEWS: Mention the new feature.

2009-06-22  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (target_specific_reloc_handling): New function:
	Processes relocs in a target specific manner.
	(debug_apply_relocations): Use the new function.
	* dwarf.c (display_debug_loc): End the dump with a blank line.
	(struct debug_display): Enable reloc processing for .debug_aranges
	and .debug_loc sections.

2009-06-19  Nick Clifton  <nickc@@redhat.com>

	* ar.c (usage): Do not use #ifdef inside _("...).
	* nm.c (usage): Likewise.

2009-06-18  Nick Clifton  <nickc@@redhat.com>

	PR 10288
	* objdump.c (disassemble_bytes): Set the
	USER_SPECIFIED_MACHINE_TYPE flag in the disassemble_info structure
	if the user has invoked the -m switch.
	* doc/binutils.texi: Document the additional behaviour of
	objdump's -m switch for ARM targets.

2009-06-18  Dave Korn  <dave.korn.cygwin@@gmail.com>

	* configure.in: Merge cegcc and mingw32ce target name changes from
	CeGCC project.

2007-12-25  Pedro Alves  <pedro_alves@@portugalmail.pt>

	* configure.in: Add arm*-*-cegcc* and arm*-*-mingw32ce* targets.
	* configure: Regenerate.

2009-06-15  Nick Clifton  <nickc@@redhat.com>

	PR 10263
	* objdump.c (disassemble_bytes): Set the DISASSEMBLE_DATA bit in
	the flags field of the disassemble_info structure if the -D switch
	is in operation.

2009-06-12  Homer Xing  <homer.xing@@yahoo.com>

	* NEWS: Mention new feature added to gprof.

2009-06-12  John Reiser  <jreiser@@BitWagon.com>

	* readelf.c (process_symbol_table): Set gnubuckets to NULL after
	freeing it and before returning.

2009-06-12  Jakub Jelinek  <jakub@@redhat.com>

	* readelf.c (process_symbol_table): Don't return early if
	.hash/.gnu.hash is empty/unusable and not -D.

2009-06-09  Tom Bramer  <tjb@@postpro.net>

	PR 10165
	* winduni.c (wind_MultiByteToWideChar): Do not pass MB_PRECOMPOSED
	to MultiByteToWideChar when using the CP_UTF8 or CO_UTF7 types.

2009-06-04  Alan Modra  <amodra@@bigpond.net.au>

	* strings.c (main): Delay parsing of decimal digits.

2009-06-04  Alan Modra  <amodra@@bigpond.net.au>

	* dep-in.sed: Don't use \n in replacement part of s command.
	* Makefile.am (DEP1): LC_ALL for uniq.
	Run "make dep-am".
	* Makefile.in: Regenerate.

2009-06-03  Tristan Gingold  <gingold@@adacore.com>

	* MAINTAINERS: Add myself as Mach-O maintainer.

2009-06-01  Alan Modra  <amodra@@bigpond.net.au>

	PR 10199
	* doc/binutils.texi (nm): Correct -S description.

2009-05-28  Nick Clifton  <nickc@@redhat.com>

	* po/da.po: Updated Danish translation.

2009-05-28  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (display_debug_section): Do not display debug sections
	with the NOBITS section type.

2009-05-27  Rafael Avila de Espindola  <espindola@@google.com>

	* aclocal.m4: Include ../config/plugins.m4.
	* configure.in: Use AC_PLUGINS.
	* configure: Regenerate.
	* Makefile.in: Regenerate.
	* doc/Makefile.in: Regenerate.

2009-05-27  Rafael Avila de Espindola  <espindola@@google.com>

	* ar.c (main): Call bfd_plugin_set_program_name.
	* nm.c (main): Call bfd_plugin_set_program_name.

2009-05-27  Nathan Sidwell  <nathan@@codesourcery.com>

	* sysdump.c (tab): Use puts rather than two printfs.

2009-05-26  Nick Clifton  <nickc@@redhat.com>

	* po/id.po: Updated Indonesian translation.
	* po/binutils.pot: Updated template file.

2009-05-26  Rafael Avila de Espindola  <espindola@@google.com>

	* ar.c: Include plugin.h.
	(main): Handle the --plugin option.
	* nm.c: Include plugin.h.
	(OPTION_PLUGIN): New.
	(long_options): Add plugin.
	(main): Handle OPTION_PLUGIN.
	* NEWS: Mention  the new feature.
	* doc/binutils: Documement the new command line options.
	* configure.in: Check for --enable-plugins.
	* configure: Regenerate.

2009-05-26  Alan Modra  <amodra@@bigpond.net.au>

	* dep-in.sed: Output one filename per line with all lines having
	continuation backslash.  Prefix first line with "A", following
	lines with "B".
	* Makefile.am (DEP): Don't use dep.sed here.
	(DEP1): Run $MKDEP on single files, use dep.sed here on dependencies,
	sort and uniq.
	* Makefile.in: Regenerate.

2009-05-25  Tristan Gingold  <gingold@@adacore.com>

	* makefile.vms-in: Fix CFLAGS, add addr2line.exe target.

	* configure.com: Fix it: handle alloca and define TARGET in config.h.

2009-05-22  Alan Modra  <amodra@@bigpond.net.au>

	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.

2009-05-12  Alan Modra  <amodra@@bigpond.net.au>

	* objcopy.c (set_long_section_mode): Check input_bfd is coff
	before accessing coff specific fields of bfd.

2009-05-09  Dave Korn  <dave.korn.cygwin@@gmail.com>

	* MAINTAINERS:  Add myself as PE/COFF co-maintainer.

2009-05-08  Kai Tietz  <kai.tietz@@onevision.com>

	* winduni.c (iconv_onechar): Only define when HAVE_ICONV
	is defined, but not when __CYGWIN__ or _WIN32 are defined.
	See wind_iconv_cp for call logic of this local funtion.

2009-05-05  Guillaume Duhamel  <guillaume.duhamel@@gmail.com>

	PR 10109
	* winduni.c: Replace test of HAVE_ICONV_H with a test of
	HAVE_ICONV.
	(iconv_onechar): Use ICONV_CONST instead of "const".
	(wind_MultiByteToWideChar): Initialise local strings.

2009-04-30  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (dump_relocations): Display a relocation against an
	ifunc symbol as if it were a function invocation.
	(get_symbol_type): Handle STT_GNU_IFUNC.

2009-04-29  Anthony Green  <green@@moxielogic.com>

	* NEWS: Tweak verilog support description.

2009-04-29  Alan Modra  <amodra@@bigpond.net.au>
	    Denis Scherbakov <denis_scherbakov@@yahoo.com>

	* readelf.c (slurp_ia64_unwind_table): Correct 64-bit unwind table
	read, and merge with 32-bit case.

2009-04-27  Anthony Green  <green@@moxielogic.com>

	* NEWS: Mention verilog support added to bfd.

2009-04-27  H.J. Lu  <hongjiu.lu@@intel.com>

	* objcopy.c (copy_object): Copy pe_opthdr before changing PE
	parameters.

2009-04-24  Cary Coutant  <ccoutant@@google.com>

	* dwarf.c (process_extended_line_op): Add DW_LNE_set_discriminator.
	Add missing newlines to HP extensions.

2009-04-17  H.J. Lu  <hongjiu.lu@@intel.com>

	* objcopy.c (set_pe_subsystem): Replace efi-rom with sal-rtd.
	* doc/binutils.texi: Likewise.

2009-04-17  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/10074
	* objcopy.c: Include coff/i386.h and coff/pe.h.
	(pe_file_alignment): New.
	(pe_heap_commit): Likewise.
	(pe_heap_reserve): Likewise.
	(pe_image_base): Likewise.
	(pe_section_alignment): Likewise.
	(pe_stack_commit): Likewise.
	(pe_stack_reserve): Likewise.
	(pe_subsystem): Likewise.
	(pe_major_subsystem_version): Likewise.
	(pe_minor_subsystem_version): Likewise.
	(set_pe_subsystem): Likewise.
	(convert_efi_target): Likewise.
	(command_line_switch): Add OPTION_FILE_ALIGNMENT,
	OPTION_HEAP, OPTION_IMAGE_BASE, OPTION_SECTION_ALIGNMENT,
	OPTION_STACK and OPTION_SUBSYSTEM.
	(copy_options): Likewise.
	(copy_usage): Add --file-alignment, --heap, --image-base,
	--section-alignment, --stack and --subsystem.
	(copy_object): Set up PE parameters.
	(copy_main): Process Add OPTION_FILE_ALIGNMENT,
	OPTION_HEAP, OPTION_IMAGE_BASE, OPTION_SECTION_ALIGNMENT,
	OPTION_STACK and OPTION_SUBSYSTEM.   Convert EFI target to
	PEI target.

	* NEWS: Mention --file-alignment, --heap, --image-base,
	--section-alignment, --stack and --subsystem command line
	options for objcopy.

	* doc/binutils.texi: Document --file-alignment, --heap,
	--image-base, --section-alignment, --stack and --subsystem
	command line options for objcopy.

2009-04-15  Anthony Green  <green@@moxielogic.com>

	* MAINTAINERS: Add myself as Moxie port maintainer.

2009-04-14  Dave Korn  <dave.korn.cygwin@@gmail.com>

	* objcopy.c (enum long_section_name_handling):  New enum type.
	(enum command_line_switch):  Add OPTION_LONG_SECTION_NAMES.
	(copy_options[]):  Add entry for --long-section-names option.
	(copy_usage):  Document it.
	(set_long_section_mode):  New subroutine.
	(copy_file):  Call it.
	(copy_main):  Accept OPTION_LONG_SECTION_NAMES and parse arg.
	* doc/binutils.texi:  Update objcopy documentation with details
	of new option.

2009-04-01  Dave Korn  <dave.korn.cygwin@@gmail.com>

	* dlltool.c (set_dll_name_from_def):  Accept new second arg that
	indicates if we are building DLL or EXE, and use it to add a
	default suffix to the output filename when none is already present.
	(def_name):  Indicate we are building an EXE when calling it.
	(def_library):  Indicate we are building a DLL when calling it.

2009-04-01  Jari Aalto  <jari.aalto@@cante.net>

	PR 9972
	* doc/binutils.texi (strings): Document the -V alias for the
	--version option.
	* strings.c (usage): Likewise.

2009-03-31  Nick Clifton  <nickc@@redhat.com>

	PR 9992
	* configure.in: Import Solaris specific largefile test from
	bfd/configure.in.
	* configure: Regenerate.

2009-03-30  Richard Sandiford  <rdsandiford@@googlemail.com>

	* MAINTAINERS: Add self.

2009-03-27  Nick Clifton  <nickc@@redhat.com>

	* dwarf.c (display_debug_ranges): Add the base address to the
	displayed values for 'Begin' and 'End'.

2009-03-25  Ryan Mansfield  <rmansfield@@qnx.com>

	* readelf.c (process_file_header): Don't report a corrupt string
	table index if it is zero.

2009-03-19  H.J. Lu  <hongjiu.lu@@intel.com>

	* dwarf.c (dwarf_regnames): Moved before frame_need_space.
	(dwarf_regnames_count): Likewise.
	(frame_need_space): Return int.
	(display_debug_frames): Check invalid registers.

2009-03-19  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (debug_apply_relocations): Check relocations
	against STT_SECTION symbol.

2009-03-18  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (debug_apply_relocations): Allow relocations
	against function symbols.

2009-03-18  Alan Modra  <amodra@@bigpond.net.au>

	* sysdep.h: Include alloca-conf.h instead of config.h and remove
	existing #if's handling alloca.
	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.

2009-03-14  Richard Sandiford  <r.sandiford@@uk.ibm.com>

	* configure.tgt: Extend AIX 5 behavior to AIX 6 and above.
	* configure.in: Likewise.
	* configure: Regenerate.

2009-03-13  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/9945
	* objcopy.c (copy_object): Clear HAS_RELOC when stripping all.

2009-03-11  Chris Demetriou  <cgd@@google.com>

	* ar.c (deterministic): New global variable.
	(main): Recognize new 'D' option, which enables 'deterministic mode'.
	(usage): Document new 'D' option.
	(write_archive): Set BFD_DETERMINISTIC_OUTPUT in output archive's
	flags if deterministic mode was requested.
	* doc/binutils.texi (ar): Document deterministic mode ('D' option).

2009-03-09  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/9933
	* objcopy.c (filter_symbols): Properly handle common symbols
	in relocatable file.

2009-03-06  Nick Clifton  <nickc@@redhat.com>

	* po/es.po: Updated Spanish translation.

2009-03-05  Nick Clifton  <nickc@@redhat.com>

	* objdump.c (disassemble_section): If the computed next offset is
	not beyond the current offset then just continue to the end.

2009-03-04  Tristan Gingold  <gingold@@adacore.com>

	* MAINTAINERS: Add myself as VMS maintainer.

2009-03-03  Nick Clifton  <nickc@@redhat.com>

	* readelf.c: Update formatting.

2009-03-03  Alan Modra  <amodra@@bigpond.net.au>

	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.

2009-03-03  Alan Modra  <amodra@@bigpond.net.au>

	* objdump.c (disassemble_section): Mask address before sign extending.

2009-03-02  Sebastian Biallas  <sb@@biallas.net>

	* ieee.c (parse_ieee_ty): Add support for undocumented 'v' type.
	(parse_ieee_bb): Set the filename if it has not already been
	discovered.

2009-03-02  Cary Coutant  <ccoutant@@google.com>

	* readelf.c (adjust_relative_path): New function.
	(struct archive_info): New type.
	(setup_archive): New function.
	(release_archive): New function.
	(setup_nested_archive): New function.
	(get_archive_member_name): New function.
	(get_archive_member_name_at): New function.
	(make_qualified_name): New function.
	(process_archive): Factor out code for reading archive index and
	long filename table to setup_archive.  Add support for thin archives.

2009-03-02  Nick Clifton  <nickc@@redhat.com>

	* po/sk.po: Updated Slovak translation.

2009-03-01  Ralf Wildenhues  <Ralf.Wildenhues@@gmx.de>

	* configure: Regenerate.

2009-02-23  Cary Coutant <ccoutant@@google.com>

	* objdump.c (load_specific_debug_section): New function, from
	load_debug_section.
	(load_debug_section): Use load_specific_debug_section.
	(dump_dwarf_section): Likewise.

2009-02-23  Cary Coutant <ccoutant@@google.com>

	* readelf.c (parse_args): Select all sections explicitly for -w.

2009-02-09  Kai Tietz  <kai.tietz@@onevision.com>

	* windres.c (set_endianess): Copy name without leading '-'.

2009-02-09  Tristan Gingold  <gingold@@adacore.com>

	* NEWS: Mention feature match between objdump and readelf for dumping
	dwarf info.

	* doc/binutils.texi (objdump): Document -W/--dwarf improvments to
	objdump.

	* objdump.c (usage): Update documentation for -W/--dwarf.
	(enum option_values): Add OPTION_DWARF.
	(long_options): --dwarf can accept arguments.
	(dump_dwarf_section): Also check enabled field.
	(main): Option -W can accept arguments, code moved to
	dwarf.c and call dwarf_select_sections_all instead.
	* readelf.c (process_section_headers): Remove do_debug_lines_decoded.
	(parse_args): Move code to...
	* dwarf.c (dwarf_select_sections_by_letters,
	dwarf_select_sections_by_names): : ...here (new functions).
	(do_debug_lines_decoded): Remove and replaced by ...
	(FLAG_DEBUG_LINES_RAW, FLAG_DEBUG_LINES_DECODED): ... new macros.
	(display_debug_lines): Adjust for previous change.
	(dwarf_select_sections_all): New function.
	(debug_displays): Add initializer for enabled field.
	* dwarf.h (do_debug_lines_decoded): Remove.
	Add prototypes for the new functions.
	(struct dwarf_section_display): Add enabled field.

2009-02-06  Nick Clifton  <nickc@@redhat.com>

	* po/vi.po: Updated Vietnamese translation.

2009-02-03  Sandip Matte  <sandip@@rmicorp.com>

	* readelf.c (get_machine_flags): Handle E_MIPS_MACH_XLR.

2009-02-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* NEWS: Move --as-needed change to ...
	* ../ld/NEWS: Here.

2009-02-03  Carlos O'Donell  <carlos@@codesourcery.com>

	* configure.in: AC_SUBST pdfdir.
	* Makefile.am: Add install-pdf, install-pdf-am,
	and install-pdf-recursive targets.
	* doc/Makefile.am: Define pdf__strip_dir. Add
	install-pdf and install-pdf-am targets.
	* po/Make-in: Add install-pdf target.
	* configure: Regenerate.
	* Makefile.in: Regenerate.
	* doc/Makefile.in: Regenerate.

2009-02-03  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/9784
	* NEWS: Mention --prefix=PREFIX and --prefix-strip=LEVEL.

	* doc/binutils.texi: Document --prefix=PREFIX and
	--prefix-strip=LEVEL.

	* objdump.c: Include "filenames.h".
	(prefix): New.
	(prefix_strip): Likewise.
	(prefix_length): Likewise.
	(usage): Add --prefix=PREFIX and --prefix-strip=LEVEL.
	(option_values): Add OPTION_PREFIX and OPTION_PREFIX_STRIP.
	(long_options): Likewise.
	(show_line): Handle prefix and prefix_strip.
	(main): Handle OPTION_PREFIX and OPTION_PREFIX_STRIP.

	* readelf.c (PATH_MAX): Moved to ...
	* sysdep.h: Here.

2009-01-31  Alan Modra  <amodra@@bigpond.net.au>

	* NEWS: Mention --as-needed change.

2009-01-29  Alan Modra  <amodra@@bigpond.net.au>

	PR 9798
	* bucomm.c (bfd_nonfatal_message): Use bfd_get_archive_filename.
	(bfd_get_archive_filename): Constify param.
	* bucomm.h (bfd_get_archive_filename): Update prototype.
	* objcopy.c (RETURN_NONFATAL): Delete.
	(copy_unknown_object): Don't call bfd_get_archive_filename for
	bfd_nonfatal_message filename, instead just pass bfd.
	(copy_object): Likewise.
	(copy_archive, copy_file): Likewise.  Expand RETURN_NONFATAL.  On
	bfd_close errors, do not pass the bfd to bfd_nonfatal_message.
	(setup_bfd_headers): Fix error message.

2009-01-27  Nick Clifton  <nickc@@redhat.com>

	PR 9774
	* objdump.c (disassemble_section): When the target uses signed
	addresses make sure that we compute signed values.

2009-01-27  Nick Clifton  <nickc@@redhat.com>

	* MAINTAINERS: Remove Thiemo Seufer's name from the list of MIPS
	maintainers.

2009-01-26  Nick Clifton  <nickc@@redhat.com>

	PR 9766
	* dlltool.c (xlate): When strip text after the @@ sign, look for
	the last one not the first one.

2009-01-16  Alan Modra  <amodra@@bigpond.net.au>

	* configure.in (commonbfdlib): Delete.
	* configure: Regenerate.

2008-01-14  Charles Wilson  <cygwin@@cwilson.fastmail.fm>

	Cleanup code related to --identify option.

	* dlltool.c (file scope): Removed globals identify_ms,
	identify_member_contains_symname_result,
	identify_dll_name_list_head, and identify_dll_name_list_tail.
	Renamed existing typedef dll_name_list_type to
	dll_name_list_node_type.
	Added new typedefs dll_name_list_type, symname_search_data_type,
	and identify_data_type.
	(identify_append_dll_name_to_list): Renamed to...
	(dll_name_list_append): ...here.  Changed signature to accept list
	argument rather than use global.
	(identify_count_dll_name_list): Renamed to...
	(dll_name_list_count): ...here.  Changed signature to accept list
	argument rather than use global.
	(identify_print_dll_name_list): Renamed to...
	(dll_name_list_print): ...here.  Changed signature to accept list
	argument rather than use global.
	(identify_free_dll_name_list): Renamed to...
	(dll_name_list_free_contents): ...here.
	(dll_name_list_free): New function.
	(dll_name_list_create): New function.
	(identify_process_section_p): Changed signature to accept
	ms_style_implib argument rather than use global.
	(identify_member_contains_symname): Expect incoming void * data to
	be symname_search_data_type.
	(identify_dll_for_implib): Use new functions dll_name_list_create
	and dll_name_list_free.  Use new types symname_search_data_type
	and identify_data_type to communicate with search routines.
	(identify_search_section): Expect incoming void * data to be
	identify_data_type. Use its contents rather than global
	variables.

2009-01-13  Charles Wilson  <cygwin@@cwilson.fastmail.fm>

	Add --identify-strict option.  Handle ms-style implibs:

	* dlltool.c (file scope): Added new globals identify_ms and
	identify_strict. New typedef dll_name_list_type, and globals
	identify_dll_name_list_head and identify_dll_name_list_tail. Added
	new global identify_member_contains_symname_result.
	(identify_append_dll_name_to_list): New function.
	(identify_count_dll_name_list): New function.
	(identify_print_dll_name_list): New function.
	(identify_free_dll_name_list): New function.
	(identify_search_archive): Changed signature to take function
	pointer to operation to apply to each member, and data to pass on
	to that function.
	(identify_search_member): Changed signature to accept user data
	from caller.
	(identify_member_contains_symname): New function.
	(identify_dll_for_implib): Rewrite. Now determines whether implib
	is ms- or binutils- style, before searching sections for
	dllname. Allows multiple dllnames.
	(identify_process_section_p): Search alternate section for dllname
	when implib is ms-style.
	(identify_search_section): Add additional conditions to excludes
	candidate sections from consideration.
	(usage): Added --identify-strict.
	(long_options): Added --identify-strict.
	(main): Handle --identify-strict option.
	* doc/binutils.texi: Document --identify-strict	option.
	* NEWS: Document --identify and	--identify-strict options.

2009-01-13  Alan Modra  <amodra@@bigpond.net.au>

	PR 7034
	* doc/binutils.texi (objdump -R): Note effect of -d or -D.

2009-01-13  Alan Modra  <amodra@@bigpond.net.au>

	* objdump.c (disassemble_section): Don't assume non-instruction
	data if object symbol at given address is in different section.

2009-01-12  Kai Tietz  <kai.tietz@@onevision.com>

	* dlltool.c (create_for_pep): New.
	(flush_page): Use create_for_pep instead of using
	macro DLLTOOL_MX86_64 clause.
	(generate_idata_ofile): Likewise.
	(make_one_lib_file): Likewise.
	(make_head): Likewise.
	(make_tail): Likewise.
	(main): Initialize create_for_pep.

2009-01-08  Kai Tietz  <kai.tietz@@onevision.com>

	* dlltool.c (use_nul_prefixed_import_tables): New.
	(make_head): Make prefix leading zero prefix element for
	idata$4 and idata$5 dependent to new flag.
	(usage): Add new option  --use-nul-prefixed-import-tables.
	(OPTION_USE_NUL_PREFIXED_IMPORT_TABLES): New.
	(long_options): Add --use-nul-prefixed-import-tables.
	(main): Likewise.
	* doc/binutils.texi: Add new option documentation for
	--use-nul-prefixed-import-tables.
	* NEWS: Add new option.

2009-01-06  Kai Tietz  <kai.tietz@@onevision.com>

	* windres.c (set_endianess): Get architecture name
	for internal target names like "pe-arm-wince-little".
	(find_arch_match): New helper.
	* ChangeLog: Reset it.
	* ChangeLog-2008: Moved old ChangeLog.

For older changes see ChangeLog-2008
@


1.1579
log
@	* MAINTAINERS: Update my email address.
@
text
@d1 6
@


1.1578
log
@include/elf/
	* common.h (NT_S390_HIGH_GPRS): Define.

bfd/
	* elf.c (elfcore_grok_s390_high_gprs): New function.
	(elfcore_grok_note): Handle NT_S390_HIGH_GPRS notes.
	(elfcore_write_s390_high_gprs): New function.
	(elfcore_write_register_note): Call it.

binutils/
	* readelf.c (get_note_type): Handle NT_S390_HIGH_GPRS notes.
@
text
@d1 4
@


1.1577
log
@Add -Wshadow to the gcc command line options used when compiling the binutils.
Fix up all warnings generated by the addition of this switch.
@
text
@d1 4
@


1.1576
log
@2009-12-10  Tristan Gingold  <gingold@@adacore.com>

	* addr2line.c (pretty_print): New variable.
	(long_options): Add an entry for -p/--pretty-print.
	(usage): Document -p/--pretty-print.
	(translate_addresses): Handle pretty_print.  Reindent.
	(main): Handle option -p.
	* doc/binutils.texi (addr2line): Document -p/--pretty-print.
	* NEWS: Mention new feature.
@
text
@d1 27
@


1.1575
log
@2009-12-09  Tristan Gingold  <gingold@@adacore.com>

	* addr2line.c (translate_addresses): Display addresses
	if option -a is used.
	(with_addresses): New variable.
	(long_options): Add option '-a'.
	(usage): Add usage for option '-a'.
	(main): Handle option '-a'.
	* doc/binutils.texi (addr2line): Document option '-a'.
	* NEWS: Mention new feature.
@
text
@d1 10
@


1.1574
log
@	* dwarf.c (dwarf_select_sections_by_names): Handle pubtypes correctly.
	(debug_displays): Remove duplicate entry for debug_pubtypes.
@
text
@d1 11
@


1.1573
log
@include/
2009-12-03  David Daney  <ddaney@@caviumnetworks.com>
	Adam Nemet  <adambnemet@@gmail.com>

	* elf/mips.h (E_MIPS_MACH_OCTEON2): New machine flag.
binutils/
2009-12-03  David Daney  <ddaney@@caviumnetworks.com>
	Adam Nemet  <adambnemet@@gmail.com>

	* readelf.c (get_machine_flags): Handle E_MIPS_MACH_OCTEON2 case.
@
text
@d1 5
@


1.1572
log
@        PR binutils/11045
        * dwarf.c (do_debug_pubtypes): New variable.
        (dwarf_select_sections_by_names): Handle .debug_pubtypes.
        (dwarf_select_sections_by_letters): Add 't' for .debug_pubtype.
        (dwarf_select_sections_all): Set do_debug_pubtypes.
        (debug_displays): Add support for .debug_pubtypes.
        * dwarf.h (do_debug_pubtypes): Export.
        * objdump.c (usage): Add -wt or --dwarf=pubtypes.
        * readelf.c (usage): Likewise.
        (process_section_headers): Enable debug display if
        do_debug_pubtypes is set.
        * doc/binutils.texi: Document -wt/--dwarf=pubtypes option.
@
text
@d1 5
@


1.1571
log
@        PR binutils/11017
        * dlltool.c (PAGE_SIZE): Delete.
        (PAGE_MASK): Provide default definition based on COFF_PAGE_SIZE.
        Check for DLLTOOL_DEFAULT_MX86_64 and DLLTOOL_DEFAULT_I386.

        * coff-i386.h (COFF_PAGE_SIZE): Definition moved to coff/i386.h

        * i386lh (COFF_PAGE_SIZE): Define.
        * x86_64.h (COFF_PAGE_SIZE): Define.
@
text
@d1 15
@


1.1570
log
@	* readelf.c (get_machine_name, get_osabi_name): Handle more
	allocated values.
@
text
@d1 7
@


1.1569
log
@config:
	* largefile.m4 (ACX_LARGEFILE): Require AC_CANONICAL_HOST and
	AC_CANONICAL_TARGET.

bfd:
	* configure: Regenerate.

binutils:
	* configure: Regenerate.

gas:
	* configure: Regenerate.

gdb:
	* configure: Regenerate.

gprof:
	* configure: Regenerate.

ld:
	* configure: Regenerate.
@
text
@d1 5
@


1.1568
log
@Fix typo: "Dimitry" should be "Dmitry"
@
text
@d1 4
@


1.1567
log
@        * readelf.c: Include xc16x.h.
        (dump_relocations): Handle relocations for the xc16x target.
        (get_machine_name): Accept EM_C166 for xc16x targets.
        (is_32bit_abs_reloc): Add support for xc16c 32-bit absolute reloc.
        (is_16bit_abs_reloc): Add support for xc16c 16-bit absolute reloc.
        (is_none_reloc): Add support for xc16c null reloc.
@
text
@d201 1
a201 1
2009-09-25  Dimitry Gorbachev  <d.g.gorbachev@@gmail.com>
@


1.1566
log
@	* Makefile.am (syslex.o): Use $(NO_WERROR) not -Wno-error.
	(sysinfo.o): Likewise.
	* Makefile.in: Regenerate.
@
text
@d1 9
@


1.1565
log
@binutils/
	* arlex.l: Enable noinput, nounput flex options.
	* syslex.l: Likewise.
ld/
	* ldlex.l: Enable nounput flex option.
@
text
@d1 6
@


1.1564
log
@2009-11-17  Paul Brook  <paul@@codesourcery.com>
	Daniel Jacobowitz  <dan@@codesourcery.com>

	gas/
	* doc/c-arm.texi: Document .arch armv7e-m.
	* config/tc-arm.c (arm_ext_v6_dsp, arm_ext_v7m): New.
	(insns): Put Thumb versions of v5TExP instructions into
	arm_ext_v5exp also.  Move some Thumb variants from
	arm_ext_v6_notm to arm_ext_v6_dsp.
	(arm_archs): Add armv7e-m architecture.
	(aeabi_set_public_attributes): Handle -march=armv7e-m.

	gas/testsuite/
	* gas/arm/attr-march-armv7em.d: New test.
	* gas/arm/arch7em-bad.d: New test.
	* gas/arm/arch7em-bad.l: New test.
	* gas/arm/arch7em.d: New test.
	* gas/arm/arch7em.s: New test.

	include/elf/
	* arm.h (TAG_CPU_ARCH_V7E_M): Define.

	include/opcode/
	* arm.h (ARM_EXT_V6_DSP): Define.
	(ARM_AEXT_V6T2, ARM_AEXT_NOTM): Include ARM_EXT_V6_DSP.
	(ARM_AEXT_V7EM, ARM_ARCH_V7EM): Define.

	binutils/
	* readelf.c (arm_attr_tag_CPU_arch): Add v7E-M.

	bfd/
	* elf32-arm.c (using_thumb_only, arch_has_arm_nop,
	arch_has_thumb2_nop): Handle TAG_CPU_ARCH_V7E_M.
	(tag_cpu_arch_combine): Ditto. Correct MAX_TAG_CPU_ARCH test.
@
text
@d1 5
d7 1
a7 1
	Daniel Jacobowitz  <dan@@codesourcery.com>
@


1.1563
log
@2009-11-16  Kai Tietz  <kai.tietz@@onevision.com>

        * windmc.c (set_endianess): Use bfd_get_target_info.
        * windres.c (set_endianess): Likewise.
        (find_arch_match): Removed.
@
text
@d1 5
@


1.1562
log
@Updated Indonesian translation.
@
text
@d1 6
@


1.1561
log
@binutils/
	* configure.in: Stop checking for fopen64 and stat64.
	* strings.c (file_off, file_open, statbuf, file_stat): Remove.
	(strings_file): Change file_off to file_ptr, file_open to fopen,
	statbuf to struct stat and file_stat to stat.
	(get_char): Change parameter type file_off * to file_ptr *.
	(print_strings): Change parameter and variable `start' type file_off to
	file_ptr.
	* configure: Regenerate.
	* config.in: Regenerate.
@
text
@d1 4
@


1.1560
log
@bfd/
	* configure.in: Call ACX_LARGEFILE.  Stop calling AC_PLUGINS,
	AC_SYS_LARGEFILE and checking the Solaris largefile exception.
	* aclocal.m4: Regenerate.
	* configure: Regenerate.

binutils/
	* configure.in: Call ACX_LARGEFILE.  Stop calling AC_PLUGINS,
	AC_SYS_LARGEFILE and checking the Solaris largefile exception.
	* aclocal.m4: Regenerate.
	* configure: Regenerate.

gas/
	* configure.in: Call ACX_LARGEFILE.  Stop calling AC_SYS_LARGEFILE.
	* aclocal.m4: Regenerate.
	* configure: Regenerate.

gdb/
	* configure.ac: Call ACX_LARGEFILE.
	* aclocal.m4: Call m4_include for ../config/largefile.m4 and
	../config/plugins.m4.
	* configure: Regenerate.
	* config.in: Regenerate.

gprof/
	* configure.in: Call ACX_LARGEFILE.  Stop calling AC_SYS_LARGEFILE.
	* aclocal.m4: Regenerate.
	* configure: Regenerate.

ld/
	* configure.in: Call ACX_LARGEFILE.  Stop calling AC_SYS_LARGEFILE.
	* aclocal.m4: Regenerate.
	* configure: Regenerate.
@
text
@d3 12
@


1.1559
log
@binutils/
	* bucomm.c (get_file_size): Update comment for the error return value.
@
text
@d1 7
@


1.1558
log
@	* readelf.c (slurp_hppa_unwind_table): Don't relocate address twice.
@
text
@d1 4
@


1.1557
log
@2009-11-05  Kai Tietz  <kai.tietz@@onevision.com>

        * dllwrap.c (is_leading_underscore): New variable.
        (cpu_type): New enum type.
        (which_cpu): New variable.
        (usage): Add new options --no-leading-underscore
        and --leading-underscore.
        (long_options): Likewise.
        (OPTION_NO_LEADING_UNDERSCORE): New define.
        (OPTION_LEADING_UNDERSCORE): Likewise.
        (main): Initialize which_host, pass new options
        to dlltool, do underscoring dependent on
        is_leading_underscore, and do '@@12' decoration
        only for x86.
@
text
@d1 4
@


1.1556
log
@2009-11-02  Paul Brook  <paul@@codesourcery.com>

	ld/testsuite/
	* ld-arm/arm-elf.exp: Add new attr-merge-vfp tests.
	* ld-arm/attr-merge-vfp-1.d: New test.
	* ld-arm/attr-merge-vfp-1r.d: New test.
	* ld-arm/attr-merge-vfp-2.d: New test.
	* ld-arm/attr-merge-vfp-2r.d: New test.
	* ld-arm/attr-merge-vfp-3.d: New test.
	* ld-arm/attr-merge-vfp-3r.d: New test.
	* ld-arm/attr-merge-vfp-4.d: New test.
	* ld-arm/attr-merge-vfp-4r.d: New test.
	* ld-arm/attr-merge-vfp-5.d: New test.
	* ld-arm/attr-merge-vfp-5r.d: New test.
	* ld-arm/attr-merge-vfp-2.s: New test.
	* ld-arm/attr-merge-vfp-3.s: New test.
	* ld-arm/attr-merge-vfp-3-d16.s: New test.
	* ld-arm/attr-merge-vfp-4.s: New test.
	* ld-arm/attr-merge-vfp-4-d16.s: New test.

	gas/
	* doc/c-arm.texi: Document new -mfpu options.
	* config/tc-arm.c (fpu_vfp_ext_v3xd, fpu_vfp_fp16, fpu_neon_ext_fma,
	fpu_vfp_ext_fma): New.
	(NEON_ENC_TAB): Add vfma, vfms, vfnma and vfnms.
	(do_vfp_nsyn_fma_fms, do_neon_fmac): New functions.
	(insns): Move double precision load/store.  Split out double
	precision VFPv3 instrucitons.  Add VFPv4 instructions.
	(arm_fpus): Add VFPv3-FP16, VFPv3xD and VFPv4 variants.
	(aeabi_set_public_attributes): Set VFPv4 variants

	gas/testsuite/
	* gas/arm/attr-mfpu-vfpv4.d: New test.
	* gas/arm/attr-mfpu-vfpv4-d16.d: New test.
	* gas/arm/neon-fma-cov.d: New test.
	* gas/arm/neon-fma-cov.s: New test.
	* gas/arm/vfp-fma-inc.s: New test.
	* gas/arm/vfp-fma-arm.d: New test.
	* gas/arm/vfp-fma-arm.s: New test.
	* gas/arm/vfp-fma-thumb.d: New test.
	* gas/arm/vfp-fma-thumb.s: New test.
	* gas/arm/vfma1.d: New test.
	* gas/arm/vfma1.s: New test.
	* gas/arm/vfpv3xd.d: New test.
	* gas/arm/vfpv3xd.s: New test.

	include/opcode/
	* arm.h (FPU_VFP_EXT_V3xD, FPU_VFP_EXT_FP16, FPU_NEON_EXT_FMA,
	FPU_VFP_EXT_FMA, FPU_VFP_V3xD, FPU_VFP_V4D16, FPU_VFP_V4): Define.
	(FPU_ARCH_VFP_V3D16_FP16, FPU_ARCH_VFP_V3_FP16, FPU_ARCH_VFP_V3xD,
	FPU_ARCH_VFP_V3xD_FP16, FPU_ARCH_VFP_V4, FPU_ARCH_VFP_V4D16,
	FPU_ARCH_NEON_VFP_V4): Define.

	binutils/
	* readelf.c (arm_attr_tag_VFP_arch): Add VFPv4 and VFPv4-D16.

	bfd/
	* elf32-arm.c (elf32_arm_merge_eabi_attributes): Handle VFPv4
	attributes.

	opcodes/
	* arm-dis.c (coprocessor_opcodes): Update to use new feature flags.
	Add VFPv4 instructions.
@
text
@d1 15
@


1.1555
log
@2009-10-28  Kai Tietz <kai.tietz@@onevision.com>

	* dlltool.c (leading_underscore): New local variable.
	(asm_prefix): Interpret leading_underscore.
	(xlate): Likewise.
	(add_excludes): Use leading_underscore for making
	symbol name.
	(gen_exp_file): Use leading_underscore for internal
	_imp_ symbols.
	(usage): Add display of --no-leading-underscore and
	--leading-underscore option.
	(OPTION_NO_LEADING_UNDERSCORE): New.
	(OPTION_LEADING_UNDERSCORE): New.
	(long_options): Add --no-leading-underscore and
	--leading-underscore option.
	(main): Handle new options.
	* doc/binutils.text: Add documentation of the options
	--no-leading-underscore and --leading-underscore.
@
text
@d1 4
@


1.1554
log
@2009-10-23  Kai Tietz  <kai.tietz@@onevision.com>

	* deflex.l: Allow '<' and '>' in ID names.

	* defparse.y (EQUAL): New token constant.
	(opt_import_name): New rule for emptry or '==' ID.
	(expline): Add opt_import_name as last line element.
	(impline): Likewise.
	* dlltool.c (ifunct): New member its_name.
	(export): Likewise.
	(append_import): Add its_name argument.
	(defexports): Likewise.
	(defimport): Likewise.
	(scan_drectve_symbols): Adjust calls to def_exports.
	(dump_def_info): Print new optinal import/export table
	symbol name.
	(generate_idata_ofile): Use its_name member.
	(make_one_lib_file): Likewise.
	(nfunc): Take its_name in account on sort.
	* dlltool.h (def_exports): Add its_name as argument.
	(def_import): Likewise.
	* doc/binutils.texi: Add new def file syntax extension.
	* deflex.l (EQUAL): Add rule for '=='.
	* NEWS: Mention new feature.

2009-10-23  Kai Tietz  <kai.tietz@@onevision.com>

	* binutils-all/dlltool.exp: Add new test.
	* binutils-all/alias-2.def: New file.
@
text
@d1 19
@


1.1553
log
@	* readelf.c (dynamic_info): Correct size of array.
@
text
@d1 25
@


1.1552
log
@	* MAINTAINERS (BUILD SYSTEM, TESTSUITES): Remove myself.
@
text
@d1 4
@


1.1551
log
@	PR binutils/10793
	* prdbg.c (tg_end_struct_type): Warning fix.
@
text
@d1 4
@


1.1550
log
@	PR binutils/10792
	* dlltool.c (dll_name_list_append): Declare variable at start
	of block.
	(dll_name_list_count, dll_name-list_print): Likewise.
@
text
@d3 3
@


1.1549
log
@	* MAINTAINERS: Add myself as m32r maintainer.
@
text
@d1 7
@


1.1548
log
@        PR 10764
        * Makefile.am (sysinfo.o, syslex.o): Place source file after all
        command line switches.
        * Makefile.in: Regenerate.
@
text
@d1 4
@


1.1547
log
@        PR 10768
        * dlltool.c (bfd_get_errmsg): New macro.
        (scan_obj_file): Use it.
        (make_one_lib_file): Use it.
        (make_head): Use it.
        (make_delay_head): Use it.
        (make_tail): Use it.
        (gen_lib_file): Use it.
        (identify_dll_for_implib): Use it.
        (identify_search_archive):  Use it.
@
text
@d1 7
@


1.1546
log
@        * readelf.c (usage): Add mention of --debug-dump=frames-interp.
        Wrap output to 80 columns.
        * objdump.c (usage): Likewise.
        * doc/binutils.texi (readelf): Add note about =frames-interp.
@
text
@d1 13
@


1.1545
log
@	* addr2line.c (slurp_symtab): Don't use bfd_read_minisymbols.
@
text
@d1 7
@


1.1544
log
@        * doc/binutils.texi (c++filt): Remove spurious description of
        nonexistent --java command line switch for cxxfilt.
@
text
@d1 4
d95 1
a95 2
	Update soruces to compile cleanly with -Wc++-compat:

@


1.1543
log
@bfd
        * Makefile.am (ALL_MACHINES): Add cpu-rx.lo.
        (ALL_MACHINES_CFILES): Add cpu-rx.c.
        (BFD32_BACKENDS): Add elf32-rx.lo.
        (BFD32_BACKENDS_CFILES): Add elf32-rx.c.
        * archures.c (bfd_architecture): Add bfd_arch_rx and bfd_mach_rx.
        Export bfd_rx_arch.
        (bfd_archures_list): Add bfd_rx_arch.
        * config.bfd: Add entry for rx-*-elf.
        * configure.in: Add entries for bfd_elf32_rx_le_vec and
        bfd_elf32_rx_be_vec.
        * reloc.c: Add RX relocations.
        * targets.c: Add RX target vectors.
        * Makefile.in: Regenerate.
        * bfd-in2.h: Regenerate.
        * configure: Regenerate.
        * libbfd.h: Regenerate.
        * cpu-rx.c: New file.
        * elf32-rx.c: New file.

binutils
        * readelf.c: Add support for RX target.
        * MAINTAINERS: Add DJ and NickC as maintainers for RX.

gas
        * Makefile.am: Add RX target.
        * configure.in: Likewise.
        * configure.tgt: Likewise.
        * read.c (do_repeat_with_expander): New function.
        * read.h: Provide a prototype for do_repeat_with_expander.
        * doc/Makefile.am: Add RX target documentation.
        * doc/all.texi: Likewise.
        * doc/as.texinfo: Likewise.
        * Makefile.in: Regenerate.
        * NEWS: Mention support for RX architecture.
        * configure: Regenerate.
        * doc/Makefile.in: Regenerate.
        * config/rx-defs.h: New file.
        * config/rx-parse.y: New file.
        * config/tc-rx.h: New file.
        * config/tc-rx.c: New file.
        * doc/c-rx.texi: New file.

gas/testsuite
        * gas/rx: New directory.
        * gas/rx/*: New set of test cases.
        * gas/elf/section2.e-rx: New expected output file.
        * gas/all/gas.exp: Add support for RX target.
        * gas/elf/elf.exp: Likewise.
        * gas/lns/lns.exp: Likewise.
        * gas/macros/macros.exp: Likewise.

include
        * dis-asm.h: Add prototype for print_insn_rx.

include/elf
        * rx.h: New file.

include/opcode
        * rx.h: New file.

ld
        * Makefile.am: Add rules to build RX emulation.
        * configure.tgt: Likewise.
        * NEWS: Mention support for RX architecture.
        * Makefile.in: Regenerate.
        * emulparams/elf32rx.sh: New file.
        * emultempl/rxelf.em: New file.

opcodes
        * Makefile.am: Add RX files.
        * configure.in: Add support for RX target.
        * disassemble.c: Likewise.
        * Makefile.in: Regenerate.
        * configure: Regenerate.
        * opc2c.c: New file.
        * rx-decode.c: New file.
        * rx-decode.opc: New file.
        * rx-dis.c: New file.
@
text
@d1 5
@


1.1542
log
@	* configure.in: Don't invoke configure.tgt on $enable_targets.
	* configure: Regenerate.
@
text
@d1 5
@


1.1541
log
@        PR 10478
        * elf.c (bfd_section_from_shdr): Allow SHN_BEFORE and SHN_AFTER
        section link values in x86 binaries.
        * elfcode.h (elf_object_p): Likewise.
        * readelf.c (get_elf_section_flags): Allow SHN_BEFORE and
        SHN_AFTER section link values in x86 binaries.
        (process_section_headers): Likewise.
@
text
@d1 5
@


1.1540
log
@        PR 10656
        * readelf.c: Remove duplicate declaration of variable do_wide.
        * dwarf.h: Add export of do_wide.

        * hist.h: Move declaration of histograms and num_histograms
        variables from here to...
        * hist.c: ...here.
@
text
@d1 7
@


1.1539
log
@include/

	* dwarf2.h (DW_TAG_rvalue_reference_type, DW_TAG_template_alias):
	New tags.
	(DW_FORM_ref_sig8): New name for DW_FORM_sig8.
	(DW_AT_main_subprogram, DW_AT_data_bit_offset, DW_AT_const_expr,
	DW_AT_enum_class, DW_AT_linkage_name, DW_AT_GNU_guarded_by,
	DW_AT_GNU_pt_guarded_by, DW_AT_GNU_guarded, DW_AT_GNU_pt_guarded,
	DW_AT_GNU_locks_excluded, DW_AT_GNU_exclusive_locks_required,
	DW_AT_GNU_shared_locks_required, DW_AT_GNU_odr_signature): New
	attributes.
	(DW_LANG_Python): New language.

binutils/

	* dwarf.c (get_TAG_name): Add missing DWARF-3 and new DWARF-4 tags.
	(get_FORM_name): Add new DWARF-4 forms.
	(read_and_display_attr_value): Add DW_FORM_ref_sig8, DW_LANG_Python.
	(get_AT_name): Add new DWARF-4 and GNU-specific attributes.
	(process_debug_info): Add do_types parameter; change all callers.
	Add support for .debug_types sections.
	(display_debug_types): New function.
	(debug_displays): Add .debug_types section.
	* readelf.c (process_section_headers): Add .debug_types section.
	(display_debug_section): Simplify call to streq.
@
text
@d1 6
@


1.1538
log
@	* readelf.c (print_dynamic_symbol): Format entries as for
	normal symbol table.
	(process_symbol_table): Use -7s format string for visibility.
@
text
@d1 13
@


1.1537
log
@binutils/
	* objdump.c (disassemble_section): Use bfd_get_arch_size
	instead of assuming that the address size is 32 bits.
@
text
@d1 6
d66 1
a66 1
        * debug.h: Use new struct names.
d75 1
a75 1
	(copy_archive): Rename variable	delete to del.
d148 1
a148 1
	(struct mac): Add fields how_dljtab_size, how_dljtab_roff1, 
d681 1
a681 1
	displayed values for 'Begin' and 'End'. 
@


1.1536
log
@include/elf/
	* ppc.h (DT_PPC_TLSOPT): Define.
	* ppc64.h (DT_PPC64_TLSOPT): Define.
bfd/
	* elf32-ppc.c (TLS_GET_ADDR_GLINK_SIZE): Define.
	(ADD_3_12_2, BEQLR, CMPWI_11_0, LWZ_11_3, LWZ_12_3): Define.
	(MR_0_3, MR_3_0): Define.
	(struct ppc_elf_link_hash_table): Add no_tls_get_addr_opt.
	(ppc_elf_select_plt_layout): Save emit_stub_syms param earlier.
	(ppc_elf_tls_setup): Add no_tls_get_addr_opt param and save to hash
	table.  Check for presense of __tls_get_addr_opt
	(allocate_dynrelocs): Increase glink entry size for __tls_get_addr.
	(ppc_elf_size_dynamic_sections): Add DT_PPC_TLS_OPT tag.
	(write_glink_stub): Add param p.
	(ppc_elf_relocate_section): Adjust write_glink_stub call.
	(ppc_elf_finish_dynamic_symbol): Emit special glink call stub for
	__tls_get_addr.
	* elf32-ppc.h (ppc_elf_tls_setup): Update prototype.
	* elf64-ppc.c (struct ppc_link_hash_table): Add no_tls_get_addr_opt.
	(ppc64_elf_tls_setup): Add no_tls_get_addr_opt param and save to hash
	table.  Check for presense of __tls_get_addr_opt.
	(ppc64_elf_size_dynamic_sections): Add DT_PPC64_TLS_OPT tag.
	(LD_R11_0R3, LD_R12_0R3, MR_R0_R3, CMPDI_R11_0, ADD_R3_R12_R13,
	BEQLR, MR_R3_R0, MFLR_R11, STD_R11_0R1, BCTRL, LD_R11_0R1,
	LD_R2_0R1, MTLR_R11): Define.
	(build_tls_get_addr_stub): New function.
	(ppc_build_one_stub): Call it.
	(ppc_size_one_stub): Add extra size for __tls_get_addr stub.
	(ppc64_elf_relocate_section): Don't change nop to ld 2,40(1) for
	__tls_get_addr plt call.
	* elf64-ppc.h (ppc64_elf_tls_setup): Update prototype.
binutils/
	* readelf.c (get_ppc_dynamic_type): Add TLSOPT.
	(get_ppc64_dynamic_type): Likewise.
ld/
	* emultempl/ppc32elf.em (no_tls_get_addr_opt): New var.
	(ppc_before_allocation): Pass to ppc_elf_tls_setup.
	(OPTION_NO_TLS_GET_ADDR_OPT): Define.  Redefine other options in
	terms of previous option.
	(PARSE_AND_LIST_LONGOPTS, PARSE_AND_LIST_OPTIONS): Add
	--no-tls-get-addr-optimize.
	(PARSE_AND_LIST_ARGS_CASES): Handle it.
	* emultempl/ppc64elf.em (no_tls_get_addr_opt): New var.
	(ppc_before_allocation): Pass to ppc64_elf_tls_setup.
	(OPTION_NO_TLS_GET_ADDR_OPT): Define.
	(PARSE_AND_LIST_LONGOPTS, PARSE_AND_LIST_OPTIONS): Add
	--no-tls-get-addr-optimize.
	(PARSE_AND_LIST_ARGS_CASES): Handle it.
ld/testsuite/
	* ld-powerpc/tlslib.s: Delete dot-symbol entry syms.  Add
	__tls_get_addr_opt.
	* ld-powerpc/tlslib32.s: Add __tls_get_addr_opt.
	* ld-powerpc/oldtlslib.s: New file, old-abi version of tlslib.s.
	* ld-powerpc/powerpc.exp: Build old-abi library and use it in
	two new link tests.
	* ld-powerpc/tlsexe.d: Update for new __tls_get_addr stub.
	* ld-powerpc/tlsexe.g, * ld-powerpc/tlsexe.r, *ld-powerpc/tlsexe32.d,
	* ld-powerpc/tlsexe32.g, * ld-powerpc/tlsexe32.r,
	* ld-powerpc/tlsexetoc.d, * ld-powerpc/tlsexetoc.g,
	* ld-powerpc/tlsexetoc.r: Likewise.
@
text
@d1 5
@


1.1535
log
@Updated Finnish and Vietnamese translations
@
text
@d1 5
@


1.1534
log
@Updated Spanish and Vietnamese translations
@
text
@d4 1
@


1.1533
log
@        * readelf.c (process_version_sections, process_symbol_table):
        Use symbolic constants.
@
text
@d1 4
@


1.1532
log
@        * po/bfd.pot: Updated by the Translation project.
        * po/binutils.pot: Updated by the Translation project.
        * po/gold.pot: Updated by the Translation project.
        * po/gold.pot: Updated by the Translation project.
        * po/gprof.pot: Updated by the Translation project.
        * po/sv.po: Updated Swedish translation.
        * po/ld.pot: Updated by the Translation project.
        * po/fi.po: Updated Finnish translation.
        * po/ld.pot: Updated by the Translation project.
        * po/fi.po: Updated Finnish translation.

        Updated sources to compile cleanly with -Wc++-compat:
        * basic_blocks.c: Add casts.
        * cg_dfn.c: Add cast.
        * corefile.c: Add casts.
        * gmon_io.c: Add casts.
        * hist.c: Add cast.
        * source.c: Add cast.
        * sym_ids.c (struct match): Moved to top level.

        Updated soruces in ld/* to compile cleanly with -Wc++-compat:
        * ld.h (enum endian_enum,enum symbolic_enum,enum dynamic_list_enum): Move to top level.
        * ldcref.c: Add casts.
        * ldctor.c: Add casts.
        * ldexp.c
        * ldexp.h (enum node_tree_enum,enum phase_enum): Move to top level.
        * ldlang.c: Add casts. (lang_insert_orphan): Use enum name instead of integer.
        * ldlang.h (enum statement_enum): Move to top level.
        * ldmain.c: Add casts.
        * ldwrite.c: Add casts.
        * lexsup.c: Add casts. (enum control_enum): Move to top level.
        * mri.c: Add casts. (mri_draw_tree): Use enum name instead of integer.

        Updated sources to compile cleanly with -Wc++-compat:
        * basic_blocks.c: Add casts.
        * cg_dfn.c: Add cast.
        * corefile.c: Add casts.
        * gmon_io.c: Add casts.
        * hist.c: Add cast.
        * source.c: Add cast.
        * sym_ids.c (struct match): Moved to top level.

        * as.c (main): Call dwarf2_init.
        * config/obj-elf.c (struct group_list): New field.
        (build_group_lists): Use hash lookup.
        (free_section_idx): New function.
        (elf_frob_file): Adjust.
        * dwarf2dbg.c (all_segs_hash, last_seg_ptr): New variables.
        (get_line_subseg): Adjust.
        (dwarf2_init): New function.
        * dwarf2dbg.h (dwarf2_init): New declaration.
@
text
@d1 5
@


1.1531
log
@       * obcopy.c (copy_object): New parameter `input_arch', architecture
       of input file, if not specified in input file itself; all callers
       updated; `binary_architecture' hack removed.
       (copy_archive, copy_file): New parameter `input_arch', for
       `copy_object' usage.
       (copy_main): Accept `-B' (`--binary-architecture') option also
       for any arch-less input ifile format, not only `binary'; remove
       bfd_external_binary_architecture hack; instead, add `input_arch'
       to calls to `copy_file'.
       * windres.c, windmc.c : Obsolete and useless external references
       to `bfd_external_binary_architecture' or `bfd_external_machine'
       removed.

       * binary.c (binary_object_p): Remove bfd_external_binary_architecture
       hack.  objcopy `-B' (`--binary-architecture') option is now handled
       in a generic way.
@
text
@d1 4
@


1.1530
log
@        Updated soruces in binutils/* to compile cleanly with -Wc++-compat.

        * binutils/addr2line.c (slurp_symtab): Fix casts. Introduce
        variable minisyms to avoid aliasing varning.
        * binutils/ar.c: Add casts. (normalize): Use name del instead of
        delete. (display_target_list,display_info_table): Change loop
        counter variable a to int.
        * binutils/bucomm.c: Add casts.
        * binutils/debug.c: Update function to use new names. (struct
        debug_baseclass): Rename member from virtual to
        is_virtual. (struct debug_type_s,struct debug_field_s,struct
        debug_baseclass_s,struct debug_method_s,struct
        debug_method_variant_s,struct debug_type_s): Rename struct from
        avoid name collision.
        * /binutils/debug.h: Use new struct names.
        * binutils/dwarf.c: Add casts. (free_debug_memory): Change loop
        counter variable a to int.
        * binutils/ieee.c: Add casts. (enum ieee_var_kind): Move to top
        level. (ieee_class_baseclass): Rename parameter virtual to
        is_virtual. (ieee_class_method_var): Rename variable virtual to
        is_virtual.
        * binutils/nm.c: Add casts.
        * binutils/objcopy.c: Add casts. (copy_archive): Rename variable
        delete to del.
        * binutils/objdump.c: Add casts. (dump_dwarf_section): Change loop
        counter variable i to int.
        * binutils/prdbg.c: Add
        casts. (pr_class_baseclass,tg_class_baseclass): Rename parameters
        virtual to is_virtual.
        * binutils/readelf.c: Add casts. (struct
        ia64_unw_table_entry,struct hppa_unw_table_entry): Move to top
        level.
        * binutils/size.c: Add casts.
        * binutils/stabs.c (parse_stab_type, parse_stab_range_type)
        (parse_stab_cpp_abbrev): Rename parameter from typename to
        type_name. (parse_stab_baseclasses): Rename variable virtual to
        is_virtual.
        * binutils/strings.c: Add casts.
        * binutils/wrstabs.c (stab_class_baseclass): Rename parameter
        virtual to is_virtual.
@
text
@d1 17
@


1.1529
log
@        PR 10478:
        * elf.c (bfd_section_from_shdr): Do not reject sparc binaries with
        section headers containing sh_link values of SHN_BEFORE or
        SHN_AFTER.
        * elfcode.h (elf_object_p): Likewise.

        readelf.c (get_elf_section_flags): Add support for SHF_EXCLUDE and
        SHF_ORDERED.
        (process_section_headers): Warn about out of range sh_link
        values.  When displaying detailed section header information
        annote the SHN_BEFORE and SHN_AFTER values.
@
text
@d1 45
d876 1
a876 1
	* binutils/dlltool.c (file scope): Removed globals identify_ms,
@


1.1528
log
@	* dwarf.c (byte_get_little_endian): Handle size of 3.
	(byte_get_big_endian): Likewise.
	* readelf.c (byte_put_little_endian): Likewise.
	(byte_put_big_endian): Likewise.
	(is_24bit_abs_reloc): New function.
	(is_none_reloc): Formatting.
	(apply_relocations): Use is_24bit_abs_reloc.  Handle pj and xtensa
	reloc peculiarity.
@
text
@d1 9
@


1.1527
log
@binutils/
	* readelf.c (is_none_reloc <EM_XTENSA_OLD>, is_none_reloc <EM_XTENSA>):
	New.
@
text
@d1 11
@


1.1526
log
@binutils/
	* dwarf.c (process_debug_info): Support section padding abbrev codes.

binutils/testsuite/
	* binutils-all/testranges.s (.debug_info): Pad the only CU.
@
text
@d3 5
@


1.1525
log
@bfd
2009-09-07  Tristan Gingold  <gingold@@adacore.com>

	* po/SRC-POTFILES.in: Regenerate.
	* po/bfd.pot: Regenerate.

binutils
2009-09-07  Tristan Gingold  <gingold@@adacore.com>

	* po/binutils.pot: Regenerate.

gas
2009-09-07  Tristan Gingold  <gingold@@adacore.com>

	* po/POTFILES.in: Regenerate.
	* po/gas.pot: Regenerate.

gprof
2009-09-07  Tristan Gingold  <gingold@@adacore.com>

	* po/gprof.pot: Regenerate.

ld
2009-09-07  Tristan Gingold  <gingold@@adacore.com>

	* po/ld.pot: Regenerate.

opcodes
2009-09-07  Tristan Gingold  <gingold@@adacore.com>

	* po/opcodes.pot: Regenerate.
@
text
@d1 4
@


1.1524
log
@binutils/
	* Makefile.am (sysdump.o): Depend on sysroff.c.
	* Makefile.in: Regenerate.
@
text
@d1 4
@


1.1523
log
@        * bfd/coff-arm.c (coff_arm_relocate_section)
        (record_thumb_to_arm_glue, bfd_arm_process_before_allocation):
        Change member name class to symbol_class.
        * bfd/coff-i960.c (coff_i960_relocate_section) Rename variable
        class to class_val. Change member name class to symbol_class.
        * bfd/coff-rs6000.c (_bfd_xcoff_swap_aux_in)
        (_bfd_xcoff_swap_aux_out): Rename arguments class to in_class.
        * bfd/coff-stgo32.c (adjust_aux_in_post)
        (adjust_aux_out_pre, adjust_aux_out_post): Rename arguments class
        to in_class.
        * bfd/coff64-rs6000.c (_bfd_xcoff64_swap_aux_in)
        (_bfd_xcoff64_swap_aux_out): Rename arguments class to in_class.
        * bfd/coffcode.h (coff_pointerize_aux_hook): Rename variable class
        to n_sclass.
        * bfd/coffgen.c (coff_write_symbol, coff_pointerize_aux): Rename
        variables named class to n_sclass. (coff_write_symbols): Rename
        variable class to sym_class. (bfd_coff_set_symbol_class): Rename
        argument class to symbol_class.
        * bfd/cofflink.c (_bfd_coff_link_hash_newfunc)
        (coff_link_add_symbols, _bfd_coff_link_input_bfd)
        (_bfd_coff_write_global_sym, _bfd_coff_generic_relocate_section):
        Update code to use renamed members.
        * bfd/coffswap.h (coff_swap_aux_in, coff_swap_aux_out): Rename
        argument class to in_class.
        * bfd/libcoff-in.h (struct coff_link_hash_entry, struct
        coff_debug_merge_type) Renamed members class to symbol_class and
        type_class.
        * bfd/libcoff.h Regenerated.
        * bfd/peXXigen.c: (_bfd_XXi_swap_aux_in, _bfd_XXi_swap_aux_out):
        Rename argument class to in_class.
        * bfd/pef.c (bfd_pef_parse_imported_symbol): Update code to use
        renamed members.
        * bfd/pef.h (struct bfd_pef_imported_symbol): Changed name of
        member class to symbol_class.
        * binutils/ieee.c (ieee_read_cxx_misc, ieee_read_cxx_class)
        (ieee_read_reference): Rename variables named class to cxxclass.
        * gas/config/tc-arc.c (struct syntax_classes): Rename member class
        to s_class. (arc_extinst): Rename variable class to
        s_class. Update code to use renamed members.
        * gas/config/tc-mips.c (insn_uses_reg): Rename argument class to
        regclass.
        * gas/config/tc-ppc.c (ppc_csect, ppc_change_csect, ppc_function)
        (ppc_tc, ppc_is_toc_sym, ppc_symbol_new_hook, ppc_frob_label)
        (ppc_fix_adjustable, md_apply_fix): Update code to use renamed
        members.
        * gas/config/tc-ppc.h (struct ppc_tc_sy): Change name of member
        from class to symbol_class. (OBJ_COPY_SYMBOL_ATTRIBUTES): Update
        code to use renamed members.
        * gas/config/tc-score.c (s3_adjust_paritybit): Rename argument
        class to i_class.
        * gas/config/tc-score7.c (s7_adjust_paritybit): Rename argument
        class to i_class.
        * gprof/corefile.c (core_create_function_syms): Rename variable
        class to cxxclass.
        * include/coff/ti.h (GET_LNSZ_SIZE, PUT_LNSZ_SIZE): Updated name
        of class variable to in_class to match changes in function that
        use this macro.
        * include/opcode/ia64.h (struct ia64_operand): Renamed member
        class to op_class
        * ld/emultempl/elf32.em (gld${EMULATION_NAME}_load_symbols)
        (gld${EMULATION_NAME}_try_needed): Rename variable class to
        link_class
        * opcodes/ia64-dis.c (print_insn_ia64): Update code to use renamed
        member.
        * opcodes/m88k-dis.c (m88kdis): Rename variable class to in_class.
        * opcodes/tic80-opc.c (tic80_symbol_to_value)
        (tic80_value_to_symbol): Rename argument class to symbol_class.
@
text
@d1 5
@


1.1522
log
@2009-09-04  Tristan Gingold  <gingold@@adacore.com>

	* BRANCHES: Add binutils-2_20-branch.
@
text
@d1 5
@


1.1521
log
@binutils/
2009-09-04  Tristan Gingold  <gingold@@adacore.com>

	* NEWS: Add marker for 2.20.

gas/
2009-09-04  Tristan Gingold  <gingold@@adacore.com>

	* NEWS: Add marker for 2.20.

ld/
2009-09-04  Tristan Gingold  <gingold@@adacore.com>

	* NEWS: Add marker for 2.20.
@
text
@d3 4
@


1.1521.2.1
log
@        * coff-arm.c (coff_arm_relocate_section)
        (record_thumb_to_arm_glue, bfd_arm_process_before_allocation):
        Change member name class to symbol_class.
        * coff-i960.c (coff_i960_relocate_section) Rename variable
        class to class_val. Change member name class to symbol_class.
        * coff-rs6000.c (_bfd_xcoff_swap_aux_in)
        (_bfd_xcoff_swap_aux_out): Rename arguments class to in_class.
        * coff-stgo32.c (adjust_aux_in_post)
        (adjust_aux_out_pre, adjust_aux_out_post): Rename arguments class
        to in_class.
        * coff64-rs6000.c (_bfd_xcoff64_swap_aux_in)
        (_bfd_xcoff64_swap_aux_out): Rename arguments class to in_class.
        * coffcode.h (coff_pointerize_aux_hook): Rename variable class
        to n_sclass.
        * coffgen.c (coff_write_symbol, coff_pointerize_aux): Rename
        variables named class to n_sclass. (coff_write_symbols): Rename
        variable class to sym_class. (bfd_coff_set_symbol_class): Rename
        argument class to symbol_class.
        * cofflink.c (_bfd_coff_link_hash_newfunc)
        (coff_link_add_symbols, _bfd_coff_link_input_bfd)
        (_bfd_coff_write_global_sym, _bfd_coff_generic_relocate_section):
        Update code to use renamed members.
        * coffswap.h (coff_swap_aux_in, coff_swap_aux_out): Rename
        argument class to in_class.
        * libcoff-in.h (struct coff_link_hash_entry, struct
        coff_debug_merge_type) Renamed members class to symbol_class and
        type_class.
        * libcoff.h Regenerated.
        * peXXigen.c: (_bfd_XXi_swap_aux_in, _bfd_XXi_swap_aux_out):
        Rename argument class to in_class.
        * pef.c (bfd_pef_parse_imported_symbol): Update code to use
        renamed members.
        * pef.h (struct bfd_pef_imported_symbol): Changed name of
        member class to symbol_class.
@
text
@a0 5
2009-09-05  Martin Thuresson  <martin@@mtme.org>

	* ieee.c (ieee_read_cxx_misc, ieee_read_cxx_class,
	ieee_read_reference): Rename variables named class to cxxclass.

@


1.1521.2.2
log
@bfd/
2009-09-07  Tristan Gingold  <gingold@@adacore.com>

	* po/bfd.pot: Regenerate
	* po/SRC-POTFILES.in: Regenerate

binutils/
2009-09-07  Tristan Gingold  <gingold@@adacore.com>

	* po/binutils.pot: Regenerate

gas/
2009-09-07  Tristan Gingold  <gingold@@adacore.com>

	* po/gas.pot: Regenerate
	* po/POTFILES.in: Regenerate

gprof/
2009-09-07  Tristan Gingold  <gingold@@adacore.com>

	* po/gprof.pot: Regenerate

ld/
2009-09-07  Tristan Gingold  <gingold@@adacore.com>

	* po/ld.pot: Regenerate

opcodes/
2009-09-07  Tristan Gingold  <gingold@@adacore.com>

	* po/opcodes.pot: Regenerate
@
text
@a0 4
2009-09-07  Tristan Gingold  <gingold@@adacore.com>

	* po/binutils.pot: Regenerate

@


1.1521.2.3
log
@binutils/
	* Makefile.am (sysdump.o): Depend on sysroff.c.
	* Makefile.in: Regenerate.
@
text
@a0 5
2009-09-07  Jan Kratochvil  <jan.kratochvil@@redhat.com>

	* Makefile.am (sysdump.o): Depend on sysroff.c.
	* Makefile.in: Regenerate.

@


1.1521.2.4
log
@	* dwarf.c (byte_get_little_endian): Handle size of 3.
	(byte_get_big_endian): Likewise.
	* readelf.c (byte_put_little_endian): Likewise.
	(byte_put_big_endian): Likewise.
	(is_24bit_abs_reloc): New function.
	(is_none_reloc): Formatting.
	(apply_relocations): Use is_24bit_abs_reloc.  Handle pj and xtensa
	reloc peculiarity.

	2009-09-07  Jan Kratochvil  <jan.kratochvil@@redhat.com>
	* readelf.c (is_none_reloc <EM_XTENSA_OLD>, is_none_reloc <EM_XTENSA>):
	New.

	2009-09-07  Jan Kratochvil  <jan.kratochvil@@redhat.com>
	* dwarf.c (process_debug_info): Support section padding abbrev codes.
@
text
@a0 20
2009-09-08  Alan Modra  <amodra@@bigpond.net.au>

	* dwarf.c (byte_get_little_endian): Handle size of 3.
	(byte_get_big_endian): Likewise.
	* readelf.c (byte_put_little_endian): Likewise.
	(byte_put_big_endian): Likewise.
	(is_24bit_abs_reloc): New function.
	(is_none_reloc): Formatting.
	(apply_relocations): Use is_24bit_abs_reloc.  Handle pj and xtensa
	reloc peculiarity.

2009-09-07  Jan Kratochvil  <jan.kratochvil@@redhat.com>

	* readelf.c (is_none_reloc <EM_XTENSA_OLD>, is_none_reloc <EM_XTENSA>):
	New.

2009-09-07  Jan Kratochvil  <jan.kratochvil@@redhat.com>

	* dwarf.c (process_debug_info): Support section padding abbrev codes.

@


1.1521.2.5
log
@        PR 10478:
        * elf.c (bfd_section_from_shdr): Do not reject sparc binaries with
        section headers containing sh_link values of SHN_BEFORE or
        SHN_AFTER.
        * elfcode.h (elf_object_p): Likewise.

        readelf.c (get_elf_section_flags): Add support for SHF_EXCLUDE and
        SHF_ORDERED.
        (process_section_headers): Warn about out of range sh_link
        values.  When displaying detailed section header information
        annote the SHN_BEFORE and SHN_AFTER values.
@
text
@a0 9
2009-09-09  Nick Clifton  <nickc@@redhat.com>

	PR 10478:
	readelf.c (get_elf_section_flags): Add support for SHF_EXCLUDE and
	SHF_ORDERED.
	(process_section_headers): Warn about out of range sh_link
	values.  When displaying detailed section header information
	annote the SHN_BEFORE and SHN_AFTER values.

@


1.1521.2.6
log
@        Update soruces to compile cleanly with -Wc++-compat:

        * addr2line.c (slurp_symtab): Fix casts. Introduce variable
        minisyms to avoid aliasing varning.
        * ar.c: Add casts.
        (normalize): Use name del instead of delete.
        (display_target_list,display_info_table): Change loop counter
        variable a to int.
        * bucomm.c: Add casts.
        * debug.c: Update function to use new names.
        (struct debug_baseclass): Rename member from virtual to
        is_virtual.
        (struct debug_type_s, struct debug_field_s, struct
        debug_baseclass_s, struct debug_method_s, struct
        debug_method_variant_s, struct debug_type_s): Rename struct from
        avoid name collision.
        * debug.h: Use new struct names.
        * dwarf.c: Add casts.
        (free_debug_memory): Change loop counter variable a to int.
        * ieee.c: Add casts.
        (enum ieee_var_kind): Move to top level.
        (ieee_class_baseclass): Rename parameter virtual to is_virtual.
        (ieee_class_method_var): Rename variable virtual to is_virtual.
        * nm.c: Add casts.
        * objcopy.c: Add casts.
        (copy_archive): Rename variable delete to del.
        * objdump.c: Add casts.
        (dump_dwarf_section): Change loop counter variable i to int.
        * prdbg.c: Add casts.
        (pr_class_baseclass,tg_class_baseclass): Rename parameters virtual
        to is_virtual.
        * readelf.c: Add casts.
        (struct ia64_unw_table_entry,struct hppa_unw_table_entry): Move to
        top level.
        * size.c: Add casts.
        * stabs.c (parse_stab_type, parse_stab_range_type,
        (parse_stab_cpp_abbrev): Rename parameter from typename to
        type_name.
        (parse_stab_baseclasses): Rename variable virtual to is_virtual.
        * strings.c: Add casts.
        * wrstabs.c (stab_class_baseclass): Rename parameter virtual to
        is_virtual.
@
text
@a0 45
2009-09-10  Martin Thuresson  <martin@@mtme.org>

	Update soruces to compile cleanly with -Wc++-compat:

	* addr2line.c (slurp_symtab): Fix casts. Introduce variable
	minisyms to avoid aliasing varning.
	* ar.c: Add casts.
	(normalize): Use name del instead of delete.
	(display_target_list,display_info_table): Change loop counter
	variable a to int.
	* bucomm.c: Add casts.
	* debug.c: Update function to use new names.
	(struct debug_baseclass): Rename member from virtual to
	is_virtual.
	(struct debug_type_s, struct debug_field_s, struct
	debug_baseclass_s, struct debug_method_s, struct
	debug_method_variant_s, struct debug_type_s): Rename struct from
	avoid name collision.
        * debug.h: Use new struct names.
	* dwarf.c: Add casts.
	(free_debug_memory): Change loop counter variable a to int.
	* ieee.c: Add casts.
	(enum ieee_var_kind): Move to top level.
	(ieee_class_baseclass): Rename parameter virtual to is_virtual.
	(ieee_class_method_var): Rename variable virtual to is_virtual.
	* nm.c: Add casts.
	* objcopy.c: Add casts.
	(copy_archive): Rename variable	delete to del.
	* objdump.c: Add casts.
	(dump_dwarf_section): Change loop counter variable i to int.
	* prdbg.c: Add casts.
	(pr_class_baseclass,tg_class_baseclass): Rename parameters virtual
	to is_virtual.
	* readelf.c: Add casts.
	(struct ia64_unw_table_entry,struct hppa_unw_table_entry): Move to
	top level.
	* size.c: Add casts.
	* stabs.c (parse_stab_type, parse_stab_range_type,
	(parse_stab_cpp_abbrev): Rename parameter from typename to
	type_name.
	(parse_stab_baseclasses): Rename variable virtual to is_virtual.
	* strings.c: Add casts.
	* wrstabs.c (stab_class_baseclass): Rename parameter virtual to
	is_virtual.

@


1.1521.2.7
log
@        * po/bfd.pot: Updated by the Translation project.
        * po/binutils.pot: Updated by the Translation project.
        * po/gold.pot: Updated by the Translation project.
        * po/gold.pot: Updated by the Translation project.
        * po/gprof.pot: Updated by the Translation project.
        * po/sv.po: Updated Swedish translation.
        * po/ld.pot: Updated by the Translation project.
        * po/fi.po: Updated Finnish translation.
        * po/ld.pot: Updated by the Translation project.
        * po/fi.po: Updated Finnish translation.

        Updated sources to compile cleanly with -Wc++-compat:
        * basic_blocks.c: Add casts.
        * cg_dfn.c: Add cast.
        * corefile.c: Add casts.
        * gmon_io.c: Add casts.
        * hist.c: Add cast.
        * source.c: Add cast.
        * sym_ids.c (struct match): Moved to top level.

        Updated soruces in ld/* to compile cleanly with -Wc++-compat:
        * ld.h (enum endian_enum,enum symbolic_enum,enum dynamic_list_enum): Move to top level.
        * ldcref.c: Add casts.
        * ldctor.c: Add casts.
        * ldexp.c
        * ldexp.h (enum node_tree_enum,enum phase_enum): Move to top level.
        * ldlang.c: Add casts. (lang_insert_orphan): Use enum name instead of integer.
        * ldlang.h (enum statement_enum): Move to top level.
        * ldmain.c: Add casts.
        * ldwrite.c: Add casts.
        * lexsup.c: Add casts. (enum control_enum): Move to top level.
        * mri.c: Add casts. (mri_draw_tree): Use enum name instead of integer.

        Updated sources to compile cleanly with -Wc++-compat:
        * basic_blocks.c: Add casts.
        * cg_dfn.c: Add cast.
        * corefile.c: Add casts.
        * gmon_io.c: Add casts.
        * hist.c: Add cast.
        * source.c: Add cast.
        * sym_ids.c (struct match): Moved to top level.
@
text
@a0 4
2009-09-11  Nick Clifton  <nickc@@redhat.com>

	* po/binutils.pot: Updated by the Translation project.

d4 1
@


1.1521.2.8
log
@Updated Spanish and Vietnamese translations
@
text
@a0 4
2009-09-18  Nick Clifton  <nickc@@redhat.com>

	* po/es.po: Updated Spanish translation.

@


1.1521.2.9
log
@Updated Finnish and Vietnamese translations
@
text
@a3 1
	* po/vi.po: Updated Vietnamese translation.
@


1.1521.2.10
log
@include/elf/
	* ppc.h (DT_PPC_TLSOPT): Define.
	* ppc64.h (DT_PPC64_TLSOPT): Define.
bfd/
	* elf32-ppc.c (TLS_GET_ADDR_GLINK_SIZE): Define.
	(ADD_3_12_2, BEQLR, CMPWI_11_0, LWZ_11_3, LWZ_12_3): Define.
	(MR_0_3, MR_3_0): Define.
	(struct ppc_elf_link_hash_table): Add no_tls_get_addr_opt.
	(ppc_elf_select_plt_layout): Save emit_stub_syms param earlier.
	(ppc_elf_tls_setup): Add no_tls_get_addr_opt param and save to hash
	table.  Check for presense of __tls_get_addr_opt
	(allocate_dynrelocs): Increase glink entry size for __tls_get_addr.
	(ppc_elf_size_dynamic_sections): Add DT_PPC_TLS_OPT tag.
	(write_glink_stub): Add param p.
	(ppc_elf_relocate_section): Adjust write_glink_stub call.
	(ppc_elf_finish_dynamic_symbol): Emit special glink call stub for
	__tls_get_addr.
	* elf32-ppc.h (ppc_elf_tls_setup): Update prototype.
	* elf64-ppc.c (struct ppc_link_hash_table): Add no_tls_get_addr_opt.
	(ppc64_elf_tls_setup): Add no_tls_get_addr_opt param and save to hash
	table.  Check for presense of __tls_get_addr_opt.
	(ppc64_elf_size_dynamic_sections): Add DT_PPC64_TLS_OPT tag.
	(LD_R11_0R3, LD_R12_0R3, MR_R0_R3, CMPDI_R11_0, ADD_R3_R12_R13,
	BEQLR, MR_R3_R0, MFLR_R11, STD_R11_0R1, BCTRL, LD_R11_0R1,
	LD_R2_0R1, MTLR_R11): Define.
	(build_tls_get_addr_stub): New function.
	(ppc_build_one_stub): Call it.
	(ppc_size_one_stub): Add extra size for __tls_get_addr stub.
	(ppc64_elf_relocate_section): Don't change nop to ld 2,40(1) for
	__tls_get_addr plt call.
	* elf64-ppc.h (ppc64_elf_tls_setup): Update prototype.
binutils/
	* readelf.c (get_ppc_dynamic_type): Add TLSOPT.
	(get_ppc64_dynamic_type): Likewise.
ld/
	* emultempl/ppc32elf.em (no_tls_get_addr_opt): New var.
	(ppc_before_allocation): Pass to ppc_elf_tls_setup.
	(OPTION_NO_TLS_GET_ADDR_OPT): Define.  Redefine other options in
	terms of previous option.
	(PARSE_AND_LIST_LONGOPTS, PARSE_AND_LIST_OPTIONS): Add
	--no-tls-get-addr-optimize.
	(PARSE_AND_LIST_ARGS_CASES): Handle it.
	* emultempl/ppc64elf.em (no_tls_get_addr_opt): New var.
	(ppc_before_allocation): Pass to ppc64_elf_tls_setup.
	(OPTION_NO_TLS_GET_ADDR_OPT): Define.
	(PARSE_AND_LIST_LONGOPTS, PARSE_AND_LIST_OPTIONS): Add
	--no-tls-get-addr-optimize.
	(PARSE_AND_LIST_ARGS_CASES): Handle it.
ld/testsuite/
	* ld-powerpc/tlslib.s: Delete dot-symbol entry syms.  Add
	__tls_get_addr_opt.
	* ld-powerpc/tlslib32.s: Add __tls_get_addr_opt.
	* ld-powerpc/oldtlslib.s: New file, old-abi version of tlslib.s.
	* ld-powerpc/powerpc.exp: Build old-abi library and use it in
	two new link tests.
	* ld-powerpc/tlsexe.d: Update for new __tls_get_addr stub.
	* ld-powerpc/tlsexe.g, * ld-powerpc/tlsexe.r, *ld-powerpc/tlsexe32.d,
	* ld-powerpc/tlsexe32.g, * ld-powerpc/tlsexe32.r,
	* ld-powerpc/tlsexetoc.d, * ld-powerpc/tlsexetoc.g,
	* ld-powerpc/tlsexetoc.r: Likewise.
@
text
@a0 5
2009-09-21  Alan Modra  <amodra@@bigpond.net.au>

	* readelf.c (get_ppc_dynamic_type): Add TLSOPT.
	(get_ppc64_dynamic_type): Likewise.

@


1.1521.2.11
log
@binutils/
	* objdump.c (disassemble_section): Use bfd_get_arch_size
	instead of assuming that the address size is 32 bits.
@
text
@a0 5
2009-09-22  Richard Sandiford  <rdsandiford@@googlemail.com>

	* objdump.c (disassemble_section): Use bfd_get_arch_size
	instead of assuming that the address size is 32 bits.

@


1.1521.2.12
log
@        * doc/binutils.texi (c++filt): Remove spurious description of
        nonexistent --java command line switch for cxxfilt.
@
text
@a0 5
2009-09-29  Nick Clifton  <nickc@@redhat.com>

	* doc/binutils.texi (c++filt): Remove spurious description of
	nonexistent --java command line switch for cxxfilt.

@


1.1521.2.13
log
@	* addr2line.c (slurp_symtab): Don't use bfd_read_minisymbols.
@
text
@a0 4
2009-10-01  Alan Modra  <amodra@@bigpond.net.au>

	* addr2line.c (slurp_symtab): Don't use bfd_read_minisymbols.

d27 1
a27 1
	Update sources to compile cleanly with -Wc++-compat:
d42 1
a42 1
	* debug.h: Use new struct names.
d51 1
a51 1
	(copy_archive): Rename variable delete to del.
d105 1
a105 1
	* po/binutils.pot: Regenerate.
d120 1
a120 1
	(struct mac): Add fields how_dljtab_size, how_dljtab_roff1,
d653 1
a653 1
	displayed values for 'Begin' and 'End'.
d895 1
a895 1
	* dlltool.c (file scope): Removed globals identify_ms,
@


1.1521.2.14
log
@	PR binutils/10792
	* dlltool.c (dll_name_list_append): Declare variable at start
	of block.
	(dll_name_list_count, dll_name-list_print): Likewise.
@
text
@a0 7
2009-10-19  Jerker Bck  <jerker.back@@gmail.com>

	PR binutils/10792
	* dlltool.c (dll_name_list_append): Declare variable at start
	of block.
	(dll_name_list_count, dll_name-list_print): Likewise.

@


1.1521.2.15
log
@	PR binutils/10793
	* prdbg.c (tg_end_struct_type): Warning fix.
@
text
@a2 3
	PR binutils/10793
	* prdbg.c (tg_end_struct_type): Warning fix.

@


1.1521.2.16
log
@	* readelf.c (dynamic_info): Correct size of array.
@
text
@a0 4
2009-10-23  Thomas Cougnard  <thomas.cougnard@@gmail.com>

	* readelf.c (dynamic_info): Correct size of array.

@


1.1521.2.17
log
@        * objcopy.c (add_redefine_syms_file): Avoid symbol buffer
        overrun.
@
text
@a0 6
2009-12-31  Eirik Byrkjeflot Anonsen  <eirik@@opera.com>
	    Nick Clifton  <nickc@@redhat.com>

	* objcopy.c (add_redefine_syms_file): Avoid symbol buffer
	overrun.

@


1.1521.2.18
log
@	PR 11129
	2009-11-20  Ben Elliston  <bje@@au.ibm.com>
	* Makefile.am (syslex.o): Use $(NO_WERROR) not -Wno-error.
	(sysinfo.o): Likewise.
	PR 10764
	2009-10-16  Jerker Bck <jerker.back@@gmail.com>
	* Makefile.am (sysinfo.o, syslex.o): Place source file after all
	command line switches.
	* Makefile.in: Regenerate.
@
text
@a0 12
2010-01-05  Alan Modra  <amodra@@gmail.com>

	PR 11129
	2009-11-20  Ben Elliston  <bje@@au.ibm.com>
	* Makefile.am (syslex.o): Use $(NO_WERROR) not -Wno-error.
	(sysinfo.o): Likewise.
	PR 10764
	2009-10-16  Jerker Bck <jerker.back@@gmail.com>
	* Makefile.am (sysinfo.o, syslex.o): Place source file after all
	command line switches.
	* Makefile.in: Regenerate.

@


1.1521.2.19
log
@2010-02-05  Christophe Lyon  <christophe.lyon@@st.com>

	binutils/
	* objdump.c (disassemble_bytes): Clear aux->reloc before printing
	a new address, so as not to reuse a previous, non-related reloc.

	gas/testsuite/
	* gas/arm/arm-it-auto.d, gas/arm/bl-local-v4t.d,
	gas/arm/blx-local.d, gas/arm/thumb-w-good.d: Update expected
	results.
@
text
@a0 5
2010-02-05  Christophe Lyon  <christophe.lyon@@st.com>

	* objdump.c (disassemble_bytes): Clear aux->reloc before printing
	a new address, so as not to reuse a previous, non-related reloc.

@


1.1521.2.20
log
@Updated Bulgarian, French, Finnish and Vietnamese translations.
@
text
@a0 7
2010-04-22  Nick Clifton  <nickc@@redhat.com>

	* po/fi.po: Updated Finnish translation.
	* po/fr.po: Updated French translation.
	* po/vi.po: Updated Vietnamese translation.
	* po/bg.po: New Bulgarian translation.

@


1.1520
log
@2009-09-04  Timo Kreuzer  <timo.kreuzer@@web.de>

	* dlltool.c (delayimp_name): Add new global variable
	(usage, long_options, main): Add new option "-y" / "--output-delaylib"
	(struct mac): Add fields how_dljtab_size, how_dljtab_roff1,
	how_dljtab_roff2, how_dljtab, trampoline.
	(i386_dljtab): Add binary stub for x86 delay import.
	(i386_trampoline): Add text assembly stub for x86 delay import.
	(mtable): Add delay import data for M386 and MX86 only.
	(make_delay_head): New function.
	(make_one_lib_file): New arg delay creates delay-load import stub.
	(gen_lib_file): New arg delay likewise.
	(HOW_JTAB, HOW_JTAB_SIZE, HOW_JTAB_ROFF): New arg delay likewise.
	(HOW_JTAB_ROFF2, HOW_JTAB_ROFF3): New macros for delay import.
	(make_tail): Convert hard TABS embedded in strings to "\t" escapes.
	* NEWS: Mention new feature.  Also fix whitespace.
	* doc/binutils.texi: Updated dlltool documentation.
@
text
@d1 4
@


1.1519
log
@2009-09-02  Tristan Gingold  <gingold@@adacore.com>

	* configure.com: Do not copy makefile.vms-in to makefile.vms
	* makefile.vms-in: Renamed to...
	* makefile.vms: ... this usual name as it is not processed anymore.
	Remove WRITE_DEBUG_OBJS (unused) and reorder object files for
	objdump.exe.
@
text
@d1 18
@


1.1518
log
@Fix VPATH search for generated sources in binutils, gas, ld.

binutils/:
	* Makefile.am (arparse.o, arlex.o, sysroff.o, defparse.o)
	(deflex.o, nlmheaders.o, rcparse.o, mcparse.o): Supply correct
	source file name for generated files which may be in $(srcdir).
	* Makefile.in: Regenerate.

gas/:
	* Makefile.am (m68k-parse.o, bfin-lex.o, itbl-lex.o, itbl-parse.o):
	Supply correct source file name for generated files which may be
	in $(srcdir).
	* Makefile.in: Regenerate.

ld/:
	* Makefile.am (ldgram.o, ldlex.o, deffilep.o): Supply correct
	source file name for generated files which may be in $(srcdir).
	* Makefile.in: Regenerate.
@
text
@d1 8
@


1.1517
log
@Change to "Copyright 2009".
@
text
@d1 7
@


1.1516
log
@2009-09-01  Tristan Gingold  <gingold@@adacore.com>

	* makefile.vms: Ported to Itanium VMS.  Remove useless targets and
	dependencies.  Remove unused FORMAT variable.
	* configure.com: New file to create build.com DCL script for
	Itanium VMS or Alpha VMS.
@
text
@d1 4
@


1.1515
log
@        Updated sources to avoid using the identifier name "new", which is a
        keyword in c++.

        * bfd/aoutx.h (NAME (aout, make_empty_symbol)): Rename variable
        new to new_symbol.
        * bfd/coffgen.c (coff_make_empty_symbol)
        (coff_bfd_make_debug_symbol): Rename variable new to new_symbol.
        * bfd/cpu-ia64-opc.c (ext_reg, ins_imms_scaled): Rename variable
        new to new_insn.
        * bfd/doc/chew.c (newentry, add_intrinsic): Rename variable new to
        new_d.
        * bfd/ecoff.c (_bfd_ecoff_make_empty_symbol): Rename variable new
        to new_symbol.
        * bfd/elf32-m68k.c (elf_m68k_get_got_entry_type): Rename argument
        new to new_reloc.
        * bfd/hash.c (bfd_hash_lookup): Rename variable new to new_string.
        * bfd/ieee.c (ieee_make_empty_symbol): Rename variable new to
        new_symbol.
        * bfd/linker.c (bfd_new_link_order): Rename variable new to
        new_lo.
        * bfd/mach-o.c (bfd_mach_o_sizeof_headers): Rename variable new to
        symbol.
        * bfd/oasys.c (oasys_make_empty_symbol): Rename variable new to
        new_symbol_type.
        * bfd/pdp11.c (NAME (aout, make_empty_symbol)): Rename variable
        new to new_symbol_type.
        * bfd/plugin.c (bfd_plugin_make_empty_symbol): Rename variable new
        to new_symbol.
        * bfd/rs6000-core.c (CoreHdr, VmInfo): Rename union member new to
        new_dump.
        (read_hdr, rs6000coff_core_p)
        (rs6000coff_core_file_matches_executable_p)
        (rs6000coff_core_file_failing_command)
        (rs6000coff_core_file_failing_signal): Updated function to use new
        union member name.
        * bfd/som.c (som_make_empty_symbol): Rename variable new to
        new_symbol_type.
        * bfd/syms.c (_bfd_generic_make_empty_symbol): Rename variable new
        to new_symbol.
        * bfd/tekhex.c (first_phase, tekhex_make_empty_symbol): Rename
        variable new to new_symbol.
        * binutils/nlmconv.c (main): Rename variable new to new_name.
        * gas/config/tc-arm.c (insert_reg_alias): Rename variable new to
        new_reg.
        * gas/config/tc-dlx.c (parse_operand): Rename variable new to
        new_pos.
        * gas/config/tc-ia64.c (ia64_gen_real_reloc_type): Rename variable
        new to newr.
        * gas/config/tc-mcore.c (parse_exp, parse_imm): Rename variable
        new to new_pointer.
        * gas/config/tc-microblaze.c (parse_exp, parse_imm, check_got):
        Change name from new to new_pointer.
        * gas/config/tc-or32.c (parse_operand): Rename variable new to
        new_pointer.
        * gas/config/tc-pdp11.c (md_assemble): Rename variable new to
        new_pointer.
        * gas/config/tc-pj.c (alias): Change argument new to new_name.
        * gas/config/tc-score.c (s3_build_score_ops_hsh): Rename variable
        new to new_opcode. (s3_build_dependency_insn_hsh) Rename variable
        new to new_i2n. (s3_convert): Rename variables old and new to
        r_old and r_new.
        * gas/config/tc-score7.c (s7_build_score_ops_hsh): Rename variable
        new to new_opcode. (s7_build_dependency_insn_hsh): Rename variable
        new to new_i2d. (s7_b32_relax_to_b16, s7_convert_frag): Rename
        variables old and new to r_old and r_new.
        * gas/config/tc-sh.c (parse_exp): Rename variable new to
        new_pointer.
        * gas/config/tc-sh64.c (shmedia_parse_exp): Rename variable new to
        new_pointer.
        * gas/config/tc-tic4x.c (tic4x_operand_parse): Rename variable new
        to new_pointer.
        * gas/config/tc-z8k.c (parse_exp): Rename variable new to
        new_pointer.
        * gas/listing.c (listing_newline): Rename variable new to new_i.
        * ld/ldexp.c (exp_intop, exp_bigintop, exp_relop, exp_binop)
        (exp_trinop, exp_unop, exp_nameop, exp_assop): Rename variable new
        to new_e.
        * ld/ldfile.c (ldfile_add_library_path): Rename variable new to
        new_dirs. (ldfile_add_arch): Rename variable new to new_arch.
        * ld/ldlang.c (new_statement, lang_final, lang_add_wild)
        (lang_target, lang_add_fill, lang_add_data, lang_add_assignment)
        (lang_add_insert): Rename variable new to new_stmt. (new_afile):
        Added missing cast. (lang_memory_region_lookup): Rename variable
        new to new_region. (init_os): Rename variable new to
        new_userdata. (lang_add_section): Rename variable new to
        new_section. (ldlang_add_undef): Rename variable new to
        new_undef. (realsymbol): Rename variable new to new_name.
        * opcodes/z8kgen.c (internal, gas): Rename variable new to new_op.

        Updated sources to avoid using the identifier name "template",
        which is a keyword in c++.

        * bfd/elf32-arm.c (struct stub_def): Rename member template to
        template_sequence. (arm_build_one_stub,
        find_stub_size_and_template, arm_size_one_stub, arm_map_one_stub):
        Rename variable template to template_sequence.
        * bfd/elfxx-ia64.c (elfNN_ia64_relax_br, elfNN_ia64_relax_brl):
        Rename variable template to template_val.
        * gas/config/tc-arm.c (struct asm_cond, struct asm_psr, struct
        asm_barrier_opt): Change member template to
        template_name. (md_begin): Update code to reflect new member
        names.
        * gas/config/tc-i386.c (struct templates, struct _i386_insn)
        (match_template, cpu_flags_match, match_reg_size, match_mem_size)
        (operand_size_match, md_begin, i386_print_statistics, pi)
        (build_vex_prefix, md_assemble, parse_insn, optimize_imm)
        (optimize_disp): Updated code to use new names. (parse_insn):
        Added casts.
        * gas/config/tc-ia64.c (dot_template, emit_one_bundle): Updated
        code to use new names.
        * gas/config/tc-score.c (struct s3_asm_opcode): Renamed member
        template to template_name. (s3_parse_16_32_inst, s3_parse_48_inst,
        s3_do_macro_ldst_label, s3_build_score_ops_hsh): Update code to
        use new names.
        * gas/config/tc-score7.c (struct s7_asm_opcode): Renamed member
        template to template_name. (s7_parse_16_32_inst,
        s7_do_macro_ldst_label, s7_build_score_ops_hsh): Update code to
        use new names.
        * gas/config/tc-tic30.c (md_begin, struct tic30_insn)
        (md_assemble): Update code to use new names.
        * gas/config/tc-tic54x.c (struct _tic54x_insn, md_begin)
        (optimize_insn, tic54x_parse_insn, next_line_shows_parallel):
        Update code to use new names.
        * include/opcode/tic30.h (template): Rename type template to
        insn_template. Updated code to use new name.
        * include/opcode/tic54x.h (template): Rename type template to
        insn_template.
        * opcodes/cris-dis.c (bytes_to_skip): Update code to use new name.
        * opcodes/i386-dis.c (putop): Update code to use new name.
        * opcodes/i386-gen.c (process_i386_opcodes): Update code to use
        new name.
        * opcodes/i386-opc.h (struct template): Rename struct template to
        insn_template. Update code accordingly.
        * opcodes/i386-tbl.h (i386_optab): Update type to use new name.
        * opcodes/ia64-dis.c (print_insn_ia64): Rename variable template
        to template_val.
        * opcodes/tic30-dis.c (struct instruction, get_tic30_instruction):
        Update code to use new name.
        * opcodes/tic54x-dis.c (has_lkaddr, get_insn_size)
        (print_parallel_instruction, print_insn_tic54x, tic54x_get_insn):
        Update code to use new name.
        * opcodes/tic54x-opc.c (tic54x_unknown_opcode, tic54x_optab):
        Update type to new name.
@
text
@d1 6
@


1.1514
log
@binutils/

2009-08-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (sysinfo$(EXEEXT_FOR_BUILD)): Replace
	CFLAGS/LDFLAGS with CFLAGS_FOR_BUILD/LDFLAGS_FOR_BUILD.
	(syslex.o): Likewise.
	(sysinfo.o): Likewise.
	(bin2c$(EXEEXT_FOR_BUILD)): Likewise.
	* Makefile.in: Regenerated.

opcodes/

2009-08-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (COMPILE_FOR_BUILD): Remove BUILD_CPPFLAGS.
	Replace BUILD_CFLAGS with CFLAGS_FOR_BUILD.
	(LINK_FOR_BUILD): Replace BUILD_CFLAGS/BUILD_LDFLAGS with
	CFLAGS_FOR_BUILD/LDFLAGS_FOR_BUILD.
	* Makefile.in: Regenerated.
@
text
@d1 4
@


1.1513
log
@	* doc/binutils.texi (--only-keep-debug): Relocate stray para here ...
	(--subsystem): ... from here.
@
text
@d1 9
@


1.1512
log
@	* objdump.c (find_symbol_for_address): Avoid costly call to
	bfd_octets_per_byte.
@
text
@d1 5
@


1.1511
log
@Fix yacc and lex reruns with maintainer-mode off.

gas/:
	* Makefile.am (am__skiplex, am__skipyacc): New.
	* Makefile.in: Regenerate.

ld/:
	* Makefile.am (am__skiplex, am__skipyacc): New.
	* Makefile.in: Regenerate.

binutils/:
	* Makefile.am (am__skiplex, am__skipyacc): New.
	* Makefile.in: Regenerate.

gold/:
	* Makefile.am (am__skiplex, am__skipyacc): New.
	* Makefile.in: Regenerate.
@
text
@d1 5
@


1.1510
log
@Minor dependency fix for syslex.o in binutils.

binutils/:
	* Makefile.am (syslex.o): Depend on sysinfo.h config.h.
	* Makefile.in: Regenerate.
@
text
@d1 5
@


1.1509
log
@Cleanups in binutils makefiles.

ld/:
	* Makefile.am (bin_PROGRAMS): Renamed from ...
	(noinst_PROGRAMS): ... this.
	(transform): Override, including the renaming of ld-new to ld.
	(install-exec-local): Installation of ld in $(bindir) not needed
	here any more.
	(AM_CPPFLAGS): Renamed from ...
	(INCLUDES): ... this.
	(MAINTAINERCLEANFILES): Add ld.1.
	* Makefile.in: Regenerate.

gold/:
	* Makefile.am (AM_CPPFLAGS): Renamed from ...
	(INCLUDES): ... this.
	* testsuite/Makefile.am (AUTOMAKE_OPTIONS): Add -Wno-portability.
	(AM_CPPFLAGS): Renamed from ...
	(INCLUDE): ... this.
	* Makefile.in, testsuite/Makefile.in: Regenerate.

bfd/:
	* Makefile.am (libbfd_la_LDFLAGS): Initialize early, to allow
	appending.
	[INSTALL_LIBBFD] (bfdlib_LTLIBRARIES, bfdinclude_HEADERS): Set
	only in this condition.
	[!INSTALL_LIBBFD] (noinst_LTLIBRARIES, libbfd_la_LDFLAGS): New,
	to build but not install libbfd.la in this condition.
	(install-bfdlibLTLIBRARIES, uninstall-bfdlibLTLIBRARIES)
	(install_libbfd, install_libbfd): Remove.
	* Makefile.in: Regenerate.

binutils/:
	* Makefile.am (AM_CPPFLAGS): Renamed from ...
	(INCLUDES): ... this.
	(bin2c$(EXEEXT_FOR_BUILD): Adjust rule.
	(installcheck-local): Renamed from ...
	(installcheck): ... this.
	* Makefile.in: Regenerate.

gas/:
	* Makefile.am (YFLAGS): Remove, not needed any more.
	(AM_CPPFLAGS): Renamed from ...
	(INCLUDES): ... this.
	* Makefile.in: Regenerate.

gprof/:
	* Makefile.am (AM_CPPFLAGS): Renamed from ...
	(INCLUDES): ... this.
	* Makefile.in: Regenerate.

opcodes/:
	* Makefile.am (libopcodes_la_LDFLAGS): Initialize early.
	[INSTALL_LIBBFD] (bfdlib_LTLIBRARIES): Set only in this condition.
	[INSTALL_LIBBFD] (bfdinclude_DATA): New.
	[!INSTALL_LIBBFD] (noinst_LTLIBRARIES): New.
	[!INSTALL_LIBBFD] (libopcodes_la_LDFLAGS): Ensure libopcodes.la
	is built shared even if it is not to be installed.
	(install-bfdlibLTLIBRARIES,uninstall-bfdlibLTLIBRARIES)
	(install_libopcodes, uninstall_libopcodes): Remove.
	(AM_CPPFLAGS): Renamed from ...
	(INCLUDES): ... this.
	* Makefile.in: Regenerate.
@
text
@d1 5
@


1.1508
log
@dependency tracking in binutils

binutils/:
	* Makefile.am (AUTOMAKE_OPTIONS): Remove cygnus, add no-dist and
	foreign.
	(MKDEP, CLEANFILES): Remove now-unneeded variables.
	(DEP, DEP1, dep.sed, dep, dep-in, dep-am): Remove.
	(mkdep section): Remove.
	(BUILT_SOURCES): New variable, list $(GENERATED_HFILES).
	(EXTRA_ar_SOURCES): New, list $(CFILES).
	(syslex.o): Depend on syslex.c.
	(sysinfo.o): Depend on sysinfo.c.
	(arparse.h, defparse.h, nlmheaders.h rcparse.h mcparse.h):
	Remove dependencies, now tracked by automake.
	(srconv.o): Depend on sysroff.c.
	(objdump.o, arparse.o, arlex.o, sysroff.o, defparse.o, deflex.o)
	(nlmheader.o, rcparse.o, mcparse.o, rclex.o, mclex.o, dlltool.o)
	(rescoff.o, nlmconv.o): Rewrite using automake-style dependency
	tracking rules; only list the dependency upon the primary source
	file, but no included headers.
	* Makefile.in: Regenerate.
@
text
@d3 7
@


1.1507
log
@Cleanups after the update to Autoconf 2.64, Automake 1.11.

/:
	* README-maintainer-mode: Point directly to upstream locations
	for autoconf, automake, libtool, gettext, instead of copies on
	sources.redhat.com.  Document required versions.
	* configure.ac: Do not substitute datarootdir, htmldir,
	pdfdir, docdir.  Do not process --with-datarootdir,
	--with-htmldir, --with-pdfdir, --with-docdir.
	* configure: Regenerate.

gdb/:
	* CONTRIBUTE: Bump documented Autoconf version.
	* configure.ac: Do not substitute datarootdir, htmldir,
	pdfdir, docdir.  Do not process --with-datarootdir,
	--with-htmldir, --with-pdfdir, --with-docdir.
	* configure: Regenerate.

gdb/doc/:
	* gdbint.texinfo (Releasing GDB): Point to
	README-maintainer-mode file for required autoconf version.
	* configure.ac: Do not substitute datarootdir, htmldir,
	pdfdir, docdir.  Do not process --with-datarootdir,
	--with-htmldir, --with-pdfdir, --with-docdir.
	* configure: Regenerate.

gprof/:
	* Makefile.am (pdf__strip_dir, install-pdf, install-pdf-am)
	(install-pdf-recursive, html__strip_dir, install-html)
	(install-html-am, install-html-recursive): Remove.
	* Makefile.in: Regenerate.

opcodes/:
	* Makefile.am (install-pdf, install-html): Remove.
	* Makefile.in: Regenerate.

gas/:
	* Makefile.am (install-pdf, install-pdf-recursive, install-html)
	(install-html-recursive): Remove.
	* Makefile.in: Regenerate.
	* doc/Makefile.am (pdf__strip_dir, install-pdf, install-pdf-am)
	(html__strip_dir, install-html, install-html-am): Remove.
	* doc/Makefile.in: Regenerate.

ld/:
	* Makefile.am (pdf__strip_dir, install-pdf, install-pdf-am)
	(install-pdf-recursive, html__strip_dir, install-html)
	(install-html-am, install-html-recursive): Remove.
	* Makefile.in: Regenerate.

binutils/:
	* Makefile.am (install-pdf, install-pdf-recursive, install-html)
	(install-html-recursive): Remove.
	* Makefile.in: Regenerate.
	* doc/Makefile.am (pdf__strip_dir, install-pdf, install-pdf-am)
	(html__strip_dir, install-html, install-html-am): Remove.
	* doc/Makefile.in: Regenerate.

bfd/:
	* Makefile.am (datarootdir, docdir, htmldor, pdfdir)
	(install-pdf, install-pdf-recursive, install-html)
	(install-html-recursive): Remove.
	* Makefile.in: Regenerate.

bfd/doc/:
	* Makefile.am (pdf__strip_dir, install-pdf, install-pdf-am)
	(html__strip_dir, install-html, install-html-am): Remove.
	* Makefile.in: Regenerate.
@
text
@d3 19
@


1.1506
log
@Regenerate tree using Autoconf 2.64 and Automake 1.11.

config/:
	* override.m4 (_GCC_AUTOCONF_VERSION): Bump to 2.64.

/:
	* configure: Regenerate.

etc/:
	* configure: Regenerate.

sim/common/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/iq2000/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/d10v/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/igen/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/m32r/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/frv/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/:
	* avr/config.in: Regenerate.
	* avr/configure: Likewise.
	* configure: Likewise.
	* cris/config.in: Likewise.
	* cris/configure: Likewise.

sim/h8300/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/mn10300/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/ppc/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/erc32/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/arm/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/m68hc11/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/lm32/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/sh64/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/v850/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/cr16/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/moxie/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/m32c/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/mips/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/mcore/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/testsuite/d10v-elf/:
	* configure: Regenerate.

sim/testsuite/:
	* configure: Regenerate.

sim/testsuite/frv-elf/:
	* configure: Regenerate.

sim/testsuite/m32r-elf/:
	* configure: Regenerate.

sim/testsuite/mips64el-elf/:
	* configure: Regenerate.

sim/sh/:
	* config.in: Regenerate.
	* configure: Likewise.

gold/:
	* Makefile.in: Regenerate.
	* aclocal.m4: Likewise.
	* config.in: Likewise.
	* configure: Likewise.
	* testsuite/Makefile.in: Likewise.

gprof/:
	* Makefile.in: Regenerate.
	* aclocal.m4: Likewise.
	* configure: Likewise.
	* gconfig.in: Likewise.

opcodes/:
	* Makefile.in: Regenerate.
	* aclocal.m4: Likewise.
	* config.in: Likewise.
	* configure: Likewise.

gas/:
	* Makefile.in: Regenerate.
	* aclocal.m4: Likewise.
	* config.in: Likewise.
	* configure: Likewise.
	* doc/Makefile.in: Likewise.

ld/:
	* Makefile.in: Regenerate.
	* aclocal.m4: Likewise.
	* config.in: Likewise.
	* configure: Likewise.

gdb/:
	* aclocal.m4: Regenerate.
	* config.in: Likewise.
	* configure: Likewise.
	* gnulib/Makefile.in: Likewise.

gdb/doc/:
	* configure: Regenerate.

gdb/gdbserver/:
	* aclocal.m4: Regenerate.
	* config.in: Likewise.
	* configure: Likewise.

gdb/testsuite/:
	* configure: Regenerate.
	* gdb.hp/configure: Likewise.
	* gdb.hp/gdb.aCC/configure: Likewise.
	* gdb.hp/gdb.base-hp/configure: Likewise.
	* gdb.hp/gdb.compat/configure: Likewise.
	* gdb.hp/gdb.defects/configure: Likewise.
	* gdb.hp/gdb.objdbg/configure: Likewise.
	* gdb.stabs/configure: Likewise.

binutils/:
	* Makefile.in: Regenerate.
	* aclocal.m4: Likewise.
	* config.in: Likewise.
	* configure: Likewise.
	* doc/Makefile.in: Likewise.

bfd/:
	* Makefile.in: Regenerate.
	* aclocal.m4: Likewise.
	* config.in: Likewise.
	* configure: Likewise.

bfd/doc/:
	* Makefile.in: Regenerate.

readline/:
	* configure: Regenerate.

readline/examples/rlfe/:
	* configure: Regenerate.
@
text
@d3 7
@


1.1505
log
@        * readelf.c (is_32bit_abs_reloc): Treat R_PARISC_SECREL32 as a
        32-bit absolute reloc for the purposes of processing debug
        sections.
@
text
@d1 8
@


1.1504
log
@    * readelf.c (get_arm_section_type_name): Added support for
    new sections headers.

    * arm.h: (SHT_ARM_DEBUGOVERLAY): New define.
    (SHT_ARM_OVERLAYSECTION): New define.
@
text
@d1 6
@


1.1503
log
@2009-08-03  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/10364
	* objcopy.c (strip_main): Check return from smart_rename.
	(copy_main): Likewise.
@
text
@d1 5
@


1.1502
log
@        PR 10413
        * objdump.c (dump_section_header): Skip sections that we are
        ignoring.
@
text
@d1 6
@


1.1501
log
@bfd/

2009-07-25  H.J. Lu  <hongjiu.lu@@intel.com>

	* archures.c (bfd_architecture): Add bfd_arch_l1om.
	(bfd_l1om_arch): New.
	(bfd_archures_list): Add &bfd_l1om_arch.
	* bfd-in2.h: Regenerated.

	* config.bfd (targ64_selvecs): Add bfd_elf64_l1om_vec if
	bfd_elf64_x86_64_vec is supported.  Add bfd_elf64_l1om_freebsd_vec
	if bfd_elf64_x86_64_freebsd_vec is supported.
	(targ_selvecs): Likewise.

	* configure.in: Support bfd_elf64_l1om_vec and
	bfd_elf64_l1om_freebsd_vec.
	* configure: Regenerated.

	* cpu-l1om.c: New.

	* elf64-x86-64.c (elf64_l1om_elf_object_p): New.
	(bfd_elf64_l1om_vec): Likewise.
	(bfd_elf64_l1om_freebsd_vec): Likewise.

	* Makefile.am (ALL_MACHINES): Add cpu-l1om.lo.
	(ALL_MACHINES_CFILES): Add cpu-l1om.c.
	* Makefile.in: Regenerated.

	* targets.c (bfd_elf64_l1om_vec): New.
	(bfd_elf64_l1om_freebsd_vec): Likewise.
	(_bfd_target_vector): Add bfd_elf64_l1om_vec and
	bfd_elf64_l1om_freebsd_vec.

binutils/

2009-07-25  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (guess_is_rela): Handle EM_L1OM.
	(dump_relocations): Likewise.
	(get_machine_name): Likewise.
	(get_section_type_name): Likewise.
	(get_elf_section_flags): Likewise.
	(get_symbol_index_type): Likewise.
	(is_32bit_abs_reloc): Likewise.
	(is_32bit_pcrel_reloc): Likewise.
	(is_64bit_abs_reloc): Likewise.
	(is_64bit_pcrel_reloc): Likewise.
	(is_none_reloc): Likewise.

gas/

2009-07-25  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (cpu_arch): Add l1om.
	(check_cpu_arch_compatible): New.
	(set_cpu_arch): Use it.
	(i386_arch): New.
	(i386_mach): Return bfd_mach_l1om for Intel L1OM.
	(md_show_usage): Display l1om.
	(i386_target_format): Return ELF_TARGET_L1OM_FORMAT if
	cpu_arch_isa_flags.bitfield.cpul1om is set.

	* config/tc-i386.h (TARGET_ARCH): Use (i386_arch ()).
	(i386_arch): New.
	(ELF_TARGET_L1OM_FORMAT): Likewise.

	* doc/c-i386.texi: Document l1om.

gas/testsuite/

2009-07-25  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/l1om.d: New.
	* gas/i386/l1om-inval.l: Likewise.
	* gas/i386/l1om-inval.s: Likewise.

	* gas/i386/i386.exp: Run l1om-inval and l1om.

include/elf/

2009-07-25  H.J. Lu  <hongjiu.lu@@intel.com>

	* common.h (EM_L1OM): New.

ld/

2009-07-25  H.J. Lu  <hongjiu.lu@@intel.com>

	* configure.tgt (targ64_extra_emuls): Add elf_l1om if elf_x86_64
	is supported.  Add elf_l1om_fbsd if elf_x86_64_fbsd is supported.
	(targ_extra_emuls): Likewise.

	* Makefile.am (ALL_64_EMULATIONS): Add eelf_l1om.o and
	eelf_l1om_fbsd.o
	(eelf_l1om.c): New.
	(eelf_l1om_fbsd.c): Likewise.
	* Makefile.in: Regenerated.

	* emulparams/elf_l1om.sh: New.
	* emulparams/elf_l1om_fbsd.sh: Likewise.

ld/testsuite/

2009-07-25  H.J. Lu  <hongjiu.lu@@intel.com>

	* ld-x86-64/abs-l1om.d: New.
	* ld-x86-64/protected2-l1om.d: Likewise.
	* ld-x86-64/protected3-l1om.d: Likewise.

	* ld-x86-64/x86-64.exp: Run abs-l1om, protected2-l1om and
	protected3-l1om.

opcodes/

2009-07-25  H.J. Lu  <hongjiu.lu@@intel.com>

	* configure.in: Handle bfd_l1om_arch.
	* disassemble.c (disassembler): Likewise.

	* configure: Regenerated.

	* i386-dis.c (print_insn): Handle bfd_mach_l1om and
	bfd_mach_l1om_intel_syntax.  Use 8 bytes per line for Intel L1OM.

	* i386-gen.c (cpu_flag_init): Set CPU_UNKNOWN_FLAGS to ~CpuL1OM.
	Add CPU_L1OM_FLAGS.
	(cpu_flags): Add CpuL1OM.
	(set_bitfield): Take an argument to set the value field.
	(process_i386_cpu_flag): Support ~CpuXXX and ~(CpuXXX|CpuYYY).
	(process_i386_opcode_modifier): Updated.
	(process_i386_operand_type): Likewise.
	* i386-init.h: Regenerated.
	* i386-tbl.h: Likewise.

	* i386-opc.h (CpuL1OM): New.
	(CpuXsave): Updated.
	(i386_cpu_flags): Add cpul1om.
@
text
@d1 6
@


1.1500
log
@        * config/obj-elf.c (obj_elf_type): Add code to support a type of
        gnu_unique_object.
        * doc/as.texinfo: Document new feature of .type directive.
        * NEWS: Mention support for gnu_unique_object symbol type.

        * common.h (STB_GNU_UNIQUE): Define.

        * NEWS: Mention the linker's support for symbols with a binding of
        STB_GNU_UNIQUE.

        * gas/elf/type.s: Add unique global symbol definition.
        * gas/elf/type.e: Add expected readelf output for global unique
        symbol.

        * elfcpp.h (enum STB): Add STB_GNU_UNIQUE.

        * readelf.c (get_symbol_binding): For Linux targeted files return
        UNIQUE for symbols with the STB_GNU_UNIQUE binding.
        * doc/binutils.texi: Document the meaning of the 'u' symbol
        binding in the output of nm and objdump --syms.

        * elf-bfd.h (struct elf_link_hash_entry): Add unique_global field.
        * elf.c (swap_out_syms): Set binding to STB_GNU_UNIQUE for symbols
        with the BSF_GNU_UNIQUE flag bit set.
        * elfcode.h (elf_slurp_symbol_table): Set the BSF_GNU_UNIQUE flag
        for symbols with STB_GNU_UNIQUE binding.
        * elflink.c (_bfd_elf_merge_symbol): Set unique_global for symbols
        with the STB_GNU_UNIQUE binding.
        (elf_link_add_object_symbols): Set the BSF_GNU_UNIQUE flag for
        symbols with STB_GNU_UNIQUE binding.  Set STB_GNU_UNIQUE for
        symbols with the unique_global field set.
        (elf_link_output_extsym): Set unique_global field for symbols with
        the STB_GNU_UNIQUE binding.
        * syms.c (struct bfd_symbol): Define BSF_GNU_UNIQUE flag bit.
        (bfd_print_symbol_vandf): Print a 'u' character for BSF_GNU_UNIQUE
        symbols.
        (bfd_decode_symclass): Return a 'u' character for BSF_GNU_UNIQUE
        symbols.
        * bfd-in2.h: Regenerate.
@
text
@d1 14
@


1.1499
log
@2009-07-20  H.J. Lu  <hongjiu.lu@@intel.com>

	* NEWS: Mention --insn-width.

	* objdump.c (insn_width): New.
	(usage): Display --insn-width.
	(option_values): Add OPTION_INSN_WIDTH.
	(long_options): Add --insn-width.
	(disassemble_bytes): Handle insn_width.
	(main): Handle OPTION_INSN_WIDTH.

	* doc/binutils.texi: Document --insn-width.
@
text
@d1 7
@


1.1498
log
@        * dwarf.c (display_debug_lines): If do_debug_lines has not been
        set then default to displaying raw .debug_line section contents.
@
text
@d1 13
@


1.1497
log
@binutils/
	Support unordered .debug_info references to .debug_ranges.
	* dwarf.c (struct range_entry, range_entry_compar): New.
	(display_debug_ranges): Remove variables last_offset, first, j,
	seen_first_offset, use_debug_info and next.  New variables
	range_entries and range_entry_fill.  Create the sorted copy
	range_entries.  Remove the FIXME error on detected unordered references.
	* dwarf.h (debug_info <range_lists>): New comment.

binutils/testsuite/
	* binutils-all/objcopy.exp (testranges): New test.
	* binutils-all/testranges.d, binutils-all/testranges.s: New files.
@
text
@d1 5
@


1.1496
log
@        PR 10380
        * README: Document use of LDFLAGS="--static".
@
text
@d1 10
@


1.1495
log
@bfd/

2009-07-10  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerated.

binutils/

2009-07-10  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerated.

gas/

2009-07-10  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerated.
@
text
@d1 5
@


1.1494
log
@bfd
	* Makefile.am (dwarf2.lo): Use dwarf2.h, not elf/dwarf2.h.
	(elf-eh-frame.lo): Likewise.
	(elf32-bfin.lo): Likewise.
	(elf32-frv.lo): Likewise.
	(elf32-xc16x.lo): Likewise.
	* Makefile.in: Rebuild.
	* dwarf2.c: Included dwarf.h, not elf/dwarf2.h.
	* elf-eh-frame.c: Likewise.
	* elf32-bfin.c: Likewise.
	* elf32-frv.c: Likewise.
	* elf32-xc16x.c: Likewise.
binutils
	* Makefile.am (dwarf.o): Refer to dwarf2.h, not elf/dwarf2.h.
	* Makefile.in: Rebuild.
	* dwarf.c: Include dwarf2.h, not elf/dwarf2.h.
gas
	* Makefile.am (DEPTC_alpha_ecoff): Refer to dwarf2.h, not
	elf/dwarf2.h.
	(DEPTC_alpha_elf): Likewise.
	(DEPTC_alpha_evax): Likewise.
	(DEPTC_arm_elf): Likewise.
	(DEPTC_hppa_elf): Likewise.
	(DEPTC_i386_aout): Likewise.
	(DEPTC_i386_coff): Likewise.
	(DEPTC_i386_elf): Likewise.
	(DEPTC_m68k_aout): Likewise.
	(DEPTC_m68k_coff): Likewise.
	(DEPTC_m68k_elf): Likewise.
	(DEPTC_mips_coff): Likewise.
	(DEPTC_mips_ecoff): Likewise.
	(DEPTC_mips_elf): Likewise.
	(DEPTC_ppc_coff): Likewise.
	(DEPTC_ppc_elf): Likewise.
	(DEPTC_s390_elf): Likewise.
	(DEPTC_sh_coff): Likewise.
	(DEPTC_sh_elf): Likewise.
	(DEPTC_sh64_elf): Likewise.
	(DEPTC_sparc_aout): Likewise.
	(DEPTC_sparc_coff): Likewise.
	(DEPTC_sparc_elf): Likewise.
	(as.o): Likewise.
	(dwarf2dbg.o): Likewise.
	(dw2gencfi.o): Likewise.
	(ehopt.o): Likewise.
	(read.o): Likewise.
	* Makefile.in: Rebuild.
	* dw2gencfi.h: Include dwarf2.h, not elf/dwarf2.h.
	* dwarf2dbg.c: Likewise.
	* ehopt.c: Likewise.
gdb
	* dwarf2-frame.c: Include dwarf2.h, not elf/dwarf2.h.
	* dwarf2expr.c: Likewise.
	* dwarf2loc.c: Likewise.
	* dwarf2read.c: Likewise.
	* sh-tdep.c: Likewise.
	* xtensa-tdep.c: Likewise.
include
	* dwarf2.h: New file, moved from elf/.
include/elf

	* dwarf2.h: Move to `..'.
@
text
@d1 5
@


1.1493
log
@2009-07-06  Tristan Gingold  <gingold@@adacore.com>

	* objdump.c (dump_dwarf_section): Handle .eh_frame like other dwarf
	sections.
	* dwarf.h (struct dwarf_section_display): Remove eh_frame field.
	* dwarf.c (debug_displays): Adjust for removed field.
@
text
@d1 6
@


1.1492
log
@	* dwarf2.h (enum dwarf_location_atom): Add DW_OP_implicit_value
	and DW_OP_stack_value.

	* dwarf.c (decode_location_expression): Handle DW_OP_stack_value
	and DW_OP_implicit_value.
@
text
@d1 7
@


1.1491
log
@        PR 6714
        * rclex.c (handle_quotes): Do not complain about whitespace
        separating quoted strings.
        (rclex_string): Ignore whitespace when looking for a new opening
        quote following a closing quote.
@
text
@d1 5
@


1.1490
log
@2009-06-27  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/10321
	* bucomm.c (get_file_size): Return -1 on error.

	* objcopy.c (copy_file): Report empty file.
@
text
@d1 8
@


1.1489
log
@        * dwarf.c (display_debug_lines_raw): Include the name of the
        section in warning message.
        (struct debug_display): Enable reloc processing for .debug_line
        and .debug_ranges sections.

        * readelf.c: Add --relocated-dump command line option to dump the
        relocated contents of a specified section.
        (request_dump): New function.
        (parse_args): Use it.
        (dump_section_as_bytes): Add parameter to indicate whether the
        contents should be relocated.
        (target_specific_reloc_handling): Add code for a R_MN10300_16
        reloc found after a R_MN10300_SYM_DIFF reloc.
        (debug_apply_relocations): Rename to apply_relocations.
        (get_section_contents): New function.  Replaces common code found
        in dump_section_as_strings and dump_section_as_bytes.
        * doc/binutils.texi: Document new command line option.
        * NEWS: Mention the new feature.
@
text
@d1 7
@


1.1488
log
@        * readelf.c (target_specific_reloc_handling): New function:
        Processes relocs in a target specific manner.
        (debug_apply_relocations): Use the new function.
        * dwarf.c (display_debug_loc): End the dump with a blank line.
        (struct debug_display): Enable reloc processing for .debug_aranges
        and .debug_loc sections.
@
text
@d1 21
@


1.1487
log
@        * ar.c (usage): Do not use #ifdef inside _("...).
        * nm.c (usage): Likewise.
@
text
@d1 9
@


1.1486
log
@        PR 10288
        * arm-dis.c (print_insn_coprocessor): Check that a user specified
        ARM architecture supports the matched instruction.
        (print_insn_arm): Likewise.
        (select_arm_features): New function.  Fills in the fields of an
        arm_feature_set structure based on a given arm machine number.
        (print_insn): Initialise an arm_feature_set structure.

        * objdump.c (disassemble_bytes): Set the
        USER_SPECIFIED_MACHINE_TYPE flag in the disassemble_info structure
        if the user has invoked the -m switch.
        * doc/binutils.texi: Document the additional behaviour of
        objdump's -m switch for ARM targets.

        * dis-asm.h (USER_SPECIFIED_MACHINE_TYPE): New value for the flags
        field of struct disassemble_info.

        * gas/arm/align.s: Add labels so that COFF based targets can
        correctly locate THUMB code.
        * gas/arm/copro.d: Do not pass --architecture switch to objdump.
@
text
@d1 5
@


1.1485
log
@2009-06-18  Dave Korn  <dave.korn.cygwin@@gmail.com>

Merge cegcc and mingw32ce target name changes from CeGCC project,
replacing "arm-*-" by "arm*-*-" where needed.

  2008-09-24  Pedro Alves  <pedroalves@@users.sourceforge.net>

	ld/
	* configure.tgt (arm*-*-cegcc*): Set LIB_PATH to
	${tooldir}/lib/w32api.

  2007-12-25  Pedro Alves  <pedro_alves@@portugalmail.pt>

	bfd/
	* config.bfd: Add arm*-*-cegcc* target.

  2007-12-25  Pedro Alves  <pedro_alves@@portugalmail.pt>

	binutils/
	* configure.in: Add arm*-*-cegcc* and arm*-*-mingw32ce* targets.
	* configure: Regenerate.

  2007-12-25  Pedro Alves  <pedro_alves@@portugalmail.pt>

	gas/
	* configure.tgt: Add arm*-*-cegcc* target.

  2007-12-25  Pedro Alves  <pedro_alves@@portugalmail.pt>

	ld/
	* configure.tgt: Add arm*-*-cegcc* target.

  2007-12-17  Pedro Alves  <pedro_alves@@portugalmail.pt>

	bfd/
	* config.bfd: Add arm-*-mingw32ce* target.

  2007-12-17  Pedro Alves  <pedro_alves@@portugalmail.pt>

	gas/
	* configure.tgt: Add arm-*-mingw32ce* target.

  2007-12-17  Pedro Alves  <pedro_alves@@portugalmail.pt>

	ld/
	* configure.tgt: Add arm-*-mingw32ce* target.
@
text
@d1 9
d12 2
a13 1
  Merge cegcc and mingw32ce target name changes from CeGCC project.
d15 1
a15 1
  2007-12-25  Pedro Alves  <pedro_alves@@portugalmail.pt>
@


1.1484
log
@        PR 10263
        * arm-dis.c (print_insn): Ignore is_data if the user has requested
        the disassembly of data as well as instructions.

        * objdump.c (disassemble_bytes): Set the DISASSEMBLE_DATA bit in
        the flags field of the disassemble_info structure if the -D switch
        is in operation.

        * dis-asm.h (struct disassemble_info): New value for the flags
        field.
@
text
@d1 9
@


1.1483
log
@        * corefile.c (num_of_syms_in): New function - computes the number
        of symbols in a given file.
        (core_create_syms_from): New function - populates a symbol table
        from the symbols found in a specified file.
        * corefile.h: Prototype core_create_syms_from.
        * gprof.c (long_options): Add --external-symbol-table.
        (usage): Mention it.
        (main): Initiailize external_symbol_table from
        --external-symbol-table option.  If set use it.
        * gprof.texi: Document the new option.

        * NEWS: Mention new feature added to gprof.
@
text
@d1 7
@


1.1482
log
@        * readelf.c (process_symbol_table): Set gnubuckets to NULL after
        freeing it and before returning.
@
text
@d1 4
@


1.1481
log
@	* readelf.c (process_symbol_table): Don't return early if
	.hash/.gnu.hash is empty/unusable and not -D.
@
text
@d1 5
@


1.1480
log
@        PR 10165
        * winduni.c (wind_MultiByteToWideChar): Do not pass MB_PRECOMPOSED
        to MultiByteToWideChar when using the CP_UTF8 or CO_UTF7 types.
@
text
@d1 5
@


1.1479
log
@	* strings.c (main): Delay parsing of decimal digits.
@
text
@d1 6
@


1.1478
log
@	* dep-in.sed: Don't use \n in replacement part of s command.
	* Makefile.am (DEP1): LC_ALL for uniq.
	Run "make dep-am".
	* Makefile.in: Regenerate.
@
text
@d3 4
@


1.1477
log
@2009-06-03  Tristan Gingold  <gingold@@adacore.com>

	* MAINTAINERS: Add myself as Mach-O maintainer.
@
text
@d1 7
@


1.1476
log
@	PR 10199
	* doc/binutils.texi (nm): Correct -S description.
@
text
@d1 4
@


1.1475
log
@        * po/da.po: Updated Danish translation.
@
text
@d1 5
@


1.1474
log
@2009-05-28  Nick Clifton  <nickc@@redhat.com>

        * targets.c (_bfd_target_vector): Only include plugin target in
        all-targets build if BFD_SUPPORTS_PLUGINS is non-zero.

2009-05-27  Rafael Avila de Espindola  <espindola@@google.com>

        * plugin.c (program_name): Remove.
        (plugin_program_name): New.
        (bfd_plugin_set_program_name): New.
        (try_load_plugin): Use plugin_program_name.
        * plugin.h (bfd_plugin_set_program_name): New.

2009-05-27  Rafael Avila de Espindola  <espindola@@google.com>

        * ar.c (main): Call bfd_plugin_set_program_name.
        * nm.c (main): Call bfd_plugin_set_program_name.
@
text
@d3 4
@


1.1473
log
@        * readelf.c (display_debug_section): Do not display debug sections
        with the NOBITS section type.
@
text
@d6 13
@


1.1472
log
@	* sysdump.c (tab): Use puts rather than two printfs.
@
text
@d1 5
@


1.1471
log
@Update Indonesian translations.
Update translation templates.
@
text
@d1 4
@


1.1470
log
@        * Makefile.am: Run "make dep-am".
        (AM_CPPFLAGS): New.
        (LIBDL): New.
        (ALL_MACHINES): Add cpu-plugin.lo.
        (ALL_MACHINES_CFILES): Add cpu-plugin.c.
        (BFD32_BACKENDS): Add plugin.lo.
        (BFD32_BACKENDS_CFILES): Add plugin.c.
        (libbfd_la_LIBADD): Add LIBDL
        * archures.c (bfd_architecture): Add bfd_arch_plugin.
        (bfd_plugin_arch): Declare.
        * bfd-in.h (BFD_SUPPORTS_PLUGINS): New.
        * bfd.c (bfd): Add plugin_data.
        * config.bfd: Handle the plugin target.
        * configure.in: Check for --enable-plugins.
        (LT_INIT): Use the dlopen option.
        * cpu-plugin.c: New.
        * plugin.c: New.
        * plugin.h: New.
        * targets.c (plugin_vec): Declare.
        (_bfd_target_vector): Add plugin_vec.
        * Makefile.in: Regenerate.
        * bfd-in2.h: Regenerate.
        * configure: Regenerate.
        * ar.c: Include plugin.h.
        (main): Handle the --plugin option.
        * nm.c: Include plugin.h.
        (OPTION_PLUGIN): New.
        (long_options): Add plugin.
        (main): Handle OPTION_PLUGIN.
        * NEWS: Mention  the new feature.
        * doc/binutils: Documement the new command line options.
        * configure.in: Check for --enable-plugins.
        * configure: Regenerate.
@
text
@d1 5
@


1.1469
log
@	* dep-in.sed: Output one filename per line with all lines having
	continuation backslash.  Prefix first line with "A", following
	lines with "B".
	* Makefile.am (DEP): Don't use dep.sed here.
	(DEP1): Run $MKDEP on single files, use dep.sed here on dependencies,
	sort and uniq.
	* Makefile.in: Regenerate.
@
text
@d1 13
@


1.1468
log
@2009-05-25  Tristan Gingold  <gingold@@adacore.com>

	* makefile.vms-in: Fix CFLAGS, add addr2line.exe target.

	* configure.com: Fix it: handle alloca and define TARGET in config.h.
@
text
@d1 10
@


1.1467
log
@Run "make dep-am" and regenerate
@
text
@d1 6
@


1.1466
log
@	* objcopy.c (set_long_section_mode): Check input_bfd is coff
	before accessing coff specific fields of bfd.
@
text
@d1 5
@


1.1465
log
@	* MAINTAINERS:  Add myself as PE/COFF co-maintainer.
@
text
@d1 5
@


1.1464
log
@2009-05-08  Kai Tietz  <kai.tietz@@onevision.com>

        * winduni.c (iconv_onechar): Only define when HAVE_ICONV
        is defined, but not when __CYGWIN__ or _WIN32 are defined.
        See wind_iconv_cp for call logic of this local funtion.
@
text
@d1 4
@


1.1463
log
@        PR 10109
        * winduni.c: Replace test of HAVE_ICONV_H with a test of
        HAVE_ICONV.
        (iconv_onechar): Use ICONV_CONST instead of "const".
        (wind_MultiByteToWideChar): Initialise local strings.
@
text
@d1 6
@


1.1462
log
@include/elf
2009-04-30  Nick Clifton  <nickc@@redhat.com>

        * common.h (STT_GNU_IFUNC): Define.

elfcpp
2009-04-30  Nick Clifton  <nickc@@redhat.com>

        * (enum STT): Add STT_GNU_IFUNC.

gas
2009-04-30  Nick Clifton  <nickc@@redhat.com>

        * config/obj-elf.c (obj_elf_type): Add support for a
        gnu_indirect_function type.
        * config/tc-i386.c (tc_i386_fix_adjustable): Do not adjust fixups
        against indirect function symbols.
        * doc/as.texinfo (.type): Document the support for the
        gnu_indirect_function symbol type.
        * NEWS: Mention the new feature.

gas/testsuite
2009-04-30  Nick Clifton  <nickc@@redhat.com>

        * gas/elf/elf.exp: Extend type test to include an ifunc symbol.
        Provide an alternative test for targets which do not support ifunc
        symbols.
        (type.s): Add entry for an ifunc symbol.
        (type.e): Add ifunc entry to expected symbol dump.
        (section2.e-armelf): Add  entry for ifunc symbol.
        (type-noifunc.s): New file.
        (type-noifunc.e): New file.

bfd/
2009-04-30  Nick Clifton  <nickc@@redhat.com>

        * elf-bfd.h (struct bfd_elf_section_data): Add indirect_relocs
        section pointer.
        (struct elf_obj_data): Add has_ifunc_symbols boolean.
        * elf.c (swap_out_syms): Convert BSF_GNU_INDIRECT_FUNCTION flags
        into a STT_GNU_IFUNC symbol type.
        (_bfd_elf_is_function_type): Accept STT_GNU_IFUNC as a function
        type.
        (_bfd_elf_set_osabi): Set the osasbi field to ELFOSABI_LINUX if
        the binary contains ifunc symbols.
        * elfcode.h (elf_slurp_symbol_table): Translate the STT_GNU_IFUNC
        symbol type into a BSF_GNU_INDIRECT_FUNCTION flag.
        * elf32-i386.c (is_indirect_function): New function.
        (elf_i386_check_relocs): Create an ifunc output section.
        (allocate_dynrelocs): Create dynamic relocs in the ifunc output
        section if necessary.
        (elf_i386_relocate_section): Emit a reloc against an ifunc symbol
        if necessary.
        (elf_i386_add_symbol_hook): New function. Set the
        has_ifunc_symbols field of the elf_obj_data structure if an ifunc
        symbol is encountered.
        (elf_backend_post_process_headers): Define.
        (elf_backend_add_symbol_hook): Define.
        (elf_i386_post_process_headers): Rename to
        elf_i388_fbsd_post_process_headers.
        * elf64-x86_64.c (IS_X86_64_PCREL_TYPE): New macro.
        (is_indirect_function): New function.
        (elf64_x86_64_check_relocs): Create an ifunc output section.
        (allocate_dynrelocs): Create dynamic relocs in the ifunc output
        section if necessary.
        (elf64_x86_64_relocate_section): Emit a reloc against an ifunc
        symbol if necessary.
        (elf_i386_add_symbol_hook): Set the has_ifunc_symbols field of the
        elf_obj_data structure if an ifunc symbol is encountered.
        (elf_backend_post_process_headers): Define.
        * elflink.c (_bfd_elf_adjust_dynamic_symbol): Always create a PLT
        if we have ifunc symbols to handle.
        (get_ifunc_reloc_section_name): New function.  Computes the name
        for an ifunc section.
        (_bfd_elf_make_ifunc_reloc_section): New function.  Creates a
        section to hold ifunc relocs.
        * syms.c (BSF_GNU_INDIRECT_FUNCTION): Define.
        (bfd_print_symbol_vandf): Handle ifunc symbols.
        (bfd_decode_symclass): Likewise.
        * bfd-in2.h: Regenerate.

binutils
2009-04-30  Nick Clifton  <nickc@@redhat.com>

        * readelf.c (dump_relocations): Display a relocation against an
        ifunc symbol as if it were a function invocation.
        (get_symbol_type): Handle STT_GNU_IFUNC.

ld
2009-04-30  Nick Clifton  <nickc@@redhat.com>

        * NEWS: Mention support for IFUNC symbols.

ld/testsuite
2009-04-30  Nick Clifton  <nickc@@redhat.com>

        * ld-ifunc: New directory.
        * ld-ifunc/ifunc.exp: New file: Run the IFUNC tests.
        * ld-ifunc/prog.c: New file.
        * ld-ifunc/lib.c: New file.
@
text
@d1 8
@


1.1461
log
@Tweak description of verilog support in NEWS file.
@
text
@d1 6
@


1.1460
log
@	* readelf.c (slurp_ia64_unwind_table): Correct 64-bit unwind table
	read, and merge with 32-bit case.
@
text
@d1 4
@


1.1459
log
@        * verilog.c: New file.
        * Makefile.am (BFD32_LIBS): Add verilog.c.
        (BFD32_LIBS_CFILES): Add verilog.c.
        (verilog.lo): New build rule.
        * Makefile.in: Rebuilt.
        * targets.c: Add verilog support.
        * bfd.c (tdata union): Add Verilog private data field.
        * bfd-in2.h: Regenerate.

        * bfdint.texi (BFD target vector miscellaneous): Mention verilog
        flavour.

        * NEWS: Mention verilog support added to bfd.
@
text
@d1 6
@


1.1458
log
@bfd/

2009-04-27  H.J. Lu  <hongjiu.lu@@intel.com>

	* peXXigen.c (_bfd_XX_bfd_copy_private_bfd_data_common): Don't
	copy pe_opthdr.

binutils/

2009-04-27  H.J. Lu  <hongjiu.lu@@intel.com>

	* objcopy.c (copy_object): Copy pe_opthdr before changing PE
	parameters.
@
text
@d1 4
@


1.1457
log
@include/elf/

	 * dwarf2.h (DW_LNE_set_discriminator): New enum value.

binutils/

	* dwarf.c (process_extended_line_op): Add DW_LNE_set_discriminator.
	Add missing newlines to HP extensions.
@
text
@d1 5
@


1.1456
log
@Obvious typo fixes re: moxie.
@
text
@d1 5
@


1.1455
log
@bfd/

2009-04-17  H.J. Lu  <hongjiu.lu@@intel.com>

	* peXXigen.c (_bfd_XX_print_private_bfd_data_common): Replace
	IMAGE_SUBSYSTEM_EFI_ROM with IMAGE_SUBSYSTEM_SAL_RUNTIME_DRIVER.

binutils/

2009-04-17  H.J. Lu  <hongjiu.lu@@intel.com>

	* objcopy.c (set_pe_subsystem): Replace efi-rom with sal-rtd.
	* doc/binutils.texi: Likewise.

include/coff/

2009-04-17  H.J. Lu  <hongjiu.lu@@intel.com>

	* pe.h (IMAGE_SUBSYSTEM_EFI_ROM): Renamed to ...
	(IMAGE_SUBSYSTEM_SAL_RUNTIME_DRIVER): This.
@
text
@d44 1
a44 1
	* MAINTAINERS: Add myself and Moxie port maintainer.
@


1.1454
log
@bfd/

2009-04-17  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/10074
	* coffcode.h (bfd_pei_p): New.

	* config.bfd: Remove bfd_efi_bsdrv_ia32_vec,
	bfd_efi_rtdrv_ia32_vec, bfd_efi_bsdrv_x86_64_vec,
	bfd_efi_rtdrv_x86_64_vec, bfd_efi_bsdrv_ia64_vec and
	bfd_efi_rtdrv_ia64_vec.  Replace bfd_efi_app_ia32_vec,
	bfd_efi_app_x86_64_vec and bfd_efi_app_ia64_vec with
	i386pei_vec, x86_64pei_vec and bfd_pei_ia64_vec, respectively.

	* configure.in: Remove bfd_efi_bsdrv_ia32_vec,
	bfd_efi_rtdrv_ia32_vec, bfd_efi_bsdrv_x86_64_vec,
	bfd_efi_rtdrv_x86_64_vec,
	bfd_efi_bsdrv_ia64_vec and bfd_efi_rtdrv_ia64_vec.  Replace
	bfd_efi_ia64_vec with bfd_pei_ia64_vec.
	* targets.c: Likewise.

	* configure: Regenerated.
	* libcoff.h: Likewise.
	* Makefile.in: Likewise.

	* efi-app-ia32.c: Removed.
	* efi-app-x86_64.c: Likewise.
	* efi-bsdrv-ia32.c: Likewise.
	* efi-bsdrv-ia64.c: Likewise.
	* efi-bsdrv-x86_64.c: Likewise.
	* efi-rtdrv-ia32.c: Likewise.
	* efi-rtdrv-ia64.c: Likewise.
	* efi-rtdrv-x86_64.c: Likewise.
	* efi-rtdrv-ia32.c: Likewise.

	* efi-app-ia64.c: Moved to ...
	* pei-ia64.c: This.
	(TARGET_SYM): Set to bfd_pei_ia64_vec.
	(TARGET_NAME): Set to pei-ia64.

	* libpei.h (bfd_target_pei_p): Removed.
	(bfd_target_pei_arch): Likewise.
	(bfd_target_efi_app_p): Likewise.
	(bfd_target_efi_app_arch): Likewise.
	(bfd_target_efi_bsdrv_p): Likewise.
	(bfd_target_efi_bsdrv_arch): Likewise.
	(bfd_target_efi_rtdrv_p): Likewise.
	(bfd_target_efi_rtdrv_arch): Likewise.
	(bfd_pe_executable_p): Likewise.

	* Makefile.am (BFD32_BACKENDS): Remove efi-app-ia32.lo,
	efi-bsdrv-ia32.lo and efi-rtdrv-ia32.lo.
	(BFD32_BACKENDS_CFILES): Remove efi-app-ia32.c, efi-bsdrv-ia32.c
	and efi-rtdrv-ia32.c.
	(BFD64_BACKENDS): Remove efi-app-ia64.lo, efi-bsdrv-ia64.lo,
	efi-rtdrv-ia64.lo, efi-app-x86_64.lo, efi-bsdrv-x86_64.lo and
	efi-rtdrv-x86_64.lo. Add pei-ia64.lo.
	(BFD64_BACKENDS_CFILES): Remove efi-app-ia64.c, efi-bsdrv-ia64.c,
	efi-rtdrv-ia64.c, efi-app-x86_64.c, efi-bsdrv-x86_64.c and
	efi-rtdrv-x86_64.c. Add pei-ia64.c.
	(efi-app-ia64.lo): Removed.
	(efi-bsdrv-ia32.lo): Likewise.
	(efi-rtdrv-ia32.lo): Likewise.
	(efi-app-ia64.lo): Likewise.
	(efi-bsdrv-ia64.lo): Likewise.
	(efi-rtdrv-ia64.lo): Likewise.
	(efi-app-x86_64.lo): Likewise.
	(efi-bsdrv-x86_64.lo): Likewise.
	(efi-rtdrv-x86_64.lo): Likewise.
	(pei-ia64.lo): New.

	* peicode.h (coff_swap_scnhdr_in): Replace bfd_pe_executable_p
	with bfd_pei_p.
	(arch_type): Removed.
	(pe_arch): Likewise.
	(pe_bfd_object_p): Just return coff_object_p.

	* peXXigen.c (_bfd_XXi_swap_scnhdr_out): Replace
	bfd_pe_executable_p with bfd_pei_p.

binutils/

2009-04-17  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/10074
	* objcopy.c: Include coff/i386.h and coff/pe.h.
	(pe_file_alignment): New.
	(pe_heap_commit): Likewise.
	(pe_heap_reserve): Likewise.
	(pe_image_base): Likewise.
	(pe_section_alignment): Likewise.
	(pe_stack_commit): Likewise.
	(pe_stack_reserve): Likewise.
	(pe_subsystem): Likewise.
	(pe_major_subsystem_version): Likewise.
	(pe_minor_subsystem_version): Likewise.
	(set_pe_subsystem): Likewise.
	(convert_efi_target): Likewise.
	(command_line_switch): Add OPTION_FILE_ALIGNMENT,
	OPTION_HEAP, OPTION_IMAGE_BASE, OPTION_SECTION_ALIGNMENT,
	OPTION_STACK and OPTION_SUBSYSTEM.
	(copy_options): Likewise.
	(copy_usage): Add --file-alignment, --heap, --image-base,
	--section-alignment, --stack and --subsystem.
	(copy_object): Set up PE parameters.
	(copy_main): Process Add OPTION_FILE_ALIGNMENT,
	OPTION_HEAP, OPTION_IMAGE_BASE, OPTION_SECTION_ALIGNMENT,
	OPTION_STACK and OPTION_SUBSYSTEM.   Convert EFI target to
	PEI target.

	* NEWS: Mention --file-alignment, --heap, --image-base,
	--section-alignment, --stack and --subsystem command line
	options for objcopy.

	* doc/binutils.texi: Document --file-alignment, --heap,
	--image-base, --section-alignment, --stack and --subsystem
	command line options for objcopy.
@
text
@d3 5
@


1.1453
log
@Add new binutils target: moxie
@
text
@d1 36
@


1.1452
log
@bfd/ChangeLog

	* coffgen.c (make_a_section_from_file):  Set the backend long
	section names enable if long section names found on input.
	* coffcode.h:  Extend long section names documentation to match.

binutils/ChangeLog

	* objcopy.c (enum long_section_name_handling):  New enum type.
	(enum command_line_switch):  Add OPTION_LONG_SECTION_NAMES.
	(copy_options[]):  Add entry for --long-section-names option.
	(copy_usage):  Document it.
	(set_long_section_mode):  New subroutine.
	(copy_file):  Call it.
	(copy_main):  Accept OPTION_LONG_SECTION_NAMES and parse arg.
	* doc/binutils.texi:  Update objcopy documentation with details
	of new option.
@
text
@d1 4
@


1.1451
log
@binutils/ChangeLog

	* dlltool.c (set_dll_name_from_def):  Accept new second arg that
	indicates if we are building DLL or EXE, and use it to add a
	default suffix to the output filename when none is already present.
	(def_name):  Indicate we are building an EXE when calling it.
	(def_library):  Indicate we are building a DLL when calling it.

ld/testsuite/ChangeLog

	* ld-cygwin/exe-export.exp:  Add "-lkernel32" when linking test exe.
	* ld-cygwin/testexe.c (testexe_main):  Indicate whether global_a
	was set to correct final value using error return status.
	(testexe_dummy):  Dummy function calls an import from kernel32.dll
	to ensure it is mapped into the process space at runtime.
@
text
@d1 12
@


1.1450
log
@        PR 9972
        * doc/binutils.texi (strings): Document the -V alias for the
        --version option.
        * strings.c (usage): Likewise.
@
text
@d1 8
@


1.1449
log
@        PR 9992
        * configure.in: Import Solaris specific largefile test from
        bfd/configure.in.
        * configure: Regenerate.
@
text
@d1 7
@


1.1448
log
@binutils/
	* MAINTAINERS: Add self.
@
text
@d1 7
@


1.1447
log
@        * dwarf.c (display_debug_ranges): Add the base address to the
        displayed values for 'Begin' and 'End'.
@
text
@d1 4
@


1.1446
log
@	* readelf.c (process_file_header): Don't report a corrupt string
	table index if it is zero.
@
text
@d1 5
@


1.1445
log
@2009-03-19  H.J. Lu  <hongjiu.lu@@intel.com>

	* dwarf.c (dwarf_regnames): Moved before frame_need_space.
	(dwarf_regnames_count): Likewise.
	(frame_need_space): Return int.
	(display_debug_frames): Check invalid registers.
@
text
@d1 5
@


1.1444
log
@2009-03-19  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (debug_apply_relocations): Check relocations
	against STT_SECTION symbol.
@
text
@d3 7
@


1.1443
log
@2009-03-18  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (debug_apply_relocations): Allow relocations
	against function symbols.
@
text
@d1 5
@


1.1442
log
@include/
	* alloca-conf.h: Revise based on autoconf-2.61, autoconf-2.13
	documentation.
bfd/
	* elf32-m68hc1x.c: Include alloca-conf.h.
	* xsym.c: Likewise.
	* elf64-hppa.c: Likewise.  Remove existing #if's handling alloca.
	* som.c: Likewise.
	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.
binutils/
	* sysdep.h: Include alloca-conf.h instead of config.h and remove
	existing #if's handling alloca.
	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.
gas/
	* as.h: Include alloca-conf.h instead of config.h and remove
	existing #if's handling alloca.
	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.
opcodes/
	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.
	* openrisc-opc.c: Regenerate.
ld/
	* ld.h: Remove alloca handling.
@
text
@d1 5
@


1.1441
log
@bfd/
	* config.bfd: Treat AIX 6+ in the same way as AIX 5.
	* configure.in: Likewise.
	* configure: Regenerate.

binutils/
	* configure.tgt: Extend AIX 5 behavior to AIX 6 and above.
	* configure.in: Likewise.
	* configure: Regenerate.

gas/
	* configure.tgt: Extend AIX 5 behavior to AIX 6 and above.
	* configure.in: Likewise.
	* configure: Regenerate.

ld/
	* configure.tgt: Extend AIX 5 behavior to AIX 6 and above.
@
text
@d1 7
@


1.1440
log
@bfd/

2009-03-13  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/9945
	* elf.c (assign_section_numbers): Generate symbol table if there
	is any relocation in output.
	(_bfd_elf_compute_section_file_positions): Likewise.

binutils/

2009-03-13  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/9945
	* objcopy.c (copy_object): Clear HAS_RELOC when stripping all.
@
text
@d1 6
@


1.1439
log
@[bfd/ChangeLog]
2009-03-11  Chris Demetriou  <cgd@@google.com>

	* bfd.c (BFD_DETERMINISTIC_OUTPUT): New flag.
	* bfd-in2.h: Regenerate.
	* archive.c (bfd_ar_hdr_from_filesystem): If BFD_DETERMINISTIC_OUTPUT
	flag is set, use 0 for uid, gid, and timestamp, and use 0644 for file
	mode.
	(bsd_write_armap): Likewise.
	(_bfd_archive_bsd_update_armap_timestamp): If BFD_DETERMINISTIC_OUTPUT
	flag is set, do nothing.
	(coff_write_armap): If BFD_DETERMINISTIC_OUTPUT flag is set, use 0
	for timestamp.

[binutils/ChangeLog]
2009-03-11  Chris Demetriou  <cgd@@google.com>

	* ar.c (deterministic): New global variable.
	(main): Recognize new 'D' option, which enables 'deterministic mode'.
	(usage): Document new 'D' option.
	(write_archive): Set BFD_DETERMINISTIC_OUTPUT in output archive's
	flags if deterministic mode was requested.
	* doc/binutils.texi (ar): Document deterministic mode ('D' option).

[binutils/testsuite/ChangeLog]
2009-03-11  Chris Demetriou  <cgd@@google.com>

	* binutils-all/ar.exp (deterministic_archive): New test.
@
text
@d1 5
@


1.1438
log
@binutils/

2009-03-09  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/9933
	* objcopy.c (filter_symbols): Properly handle common symbols
	in relocatable file.

binutils/testsuite/

2009-03-09  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/9933
	* binutils-all/copy-4.d: New.

	* binutils-all/objcopy.exp: Run copy-4.
@
text
@d1 9
@


1.1437
log
@Updated Spanish translations.
@
text
@d1 6
@


1.1436
log
@        * objdump.c (disassemble_section): If the computed next offset is
        not beyond the current offset then just continue to the end.
@
text
@d1 4
@


1.1435
log
@2009-03-04  Tristan Gingold  <gingold@@adacore.com>

	* MAINTAINERS: Add myself as VMS maintainer.
@
text
@d1 5
@


1.1434
log
@missing from make dep-am commit
@
text
@d1 4
@


1.1433
log
@Update formatting.
@
text
@d7 5
@


1.1432
log
@	* objdump.c (disassemble_section): Mask address before sign extending.
@
text
@d1 4
@


1.1431
log
@        * ieee.c (parse_ieee_ty): Add support for undocumented 'v' type.
        (parse_ieee_bb): Set the filename if it has not already been
        discovered.
@
text
@d1 4
d12 1
a12 1
	
d73 1
a73 1
	
d215 1
a215 1
	dllname. Allows multiple dllnames. 
@


1.1430
log
@        * readelf.c (adjust_relative_path): New function.
        (struct archive_info): New type.
        (setup_archive): New function.
        (release_archive): New function.
        (setup_nested_archive): New function.
        (get_archive_member_name): New function.
        (get_archive_member_name_at): New function.
        (make_qualified_name): New function.
        (process_archive): Factor out code for reading archive index and
        long filename table to setup_archive.  Add support for thin archives.
@
text
@d1 6
@


1.1429
log
@        * po/sk.po: Updated Slovak translation.
@
text
@d1 13
@


1.1428
log
@	Backport from git Libtool:

	2009-01-19  Robert Millan  <rmh@@aybabtu.com>
	Support GNU/kOpenSolaris.
	* libltdl/m4/libtool.m4 (_LT_SYS_DYNAMIC_LINKER)
	(_LT_CHECK_MAGIC_METHOD, _LT_COMPILER_PIC, _LT_LINKER_SHLIBS)
	(_LT_LANG_CXX_CONFIG) [kopensolaris*-gnu]: Recognize
	GNU/kOpenSolaris.

binutils/
	* configure: Regenerate.

opcodes/
	* configure: Regenerate.

bfd/
	* configure: Regenerate.

gas/
	* configure: Regenerate.

gprof/
	* configure: Regenerate.

ld/
	* configure: Regenerate.
@
text
@d1 4
@


1.1427
log
@	* objdump.c (load_specific_debug_section): New function, from
	load_debug_section.
	(load_debug_section): Use load_specific_debug_section.
	(dump_dwarf_section): Likewise.
@
text
@d1 4
@


1.1426
log
@	* readelf.c (parse_args): Select all sections explicitly for -w.
@
text
@d3 7
@


1.1425
log
@2009-02-09  Kai Tietz  <kai.tietz@@onevision.com>

	* windres.c (set_endianess): Copy name without leading '-'.
@
text
@d1 4
@


1.1424
log
@2009-02-09  Tristan Gingold  <gingold@@adacore.com>

	* NEWS: Mention feature match between objdump and readelf for dumping
	dwarf info.

	* doc/binutils.texi (objdump): Document -W/--dwarf improvments to
	objdump.

	* objdump.c (usage): Update documentation for -W/--dwarf.
	(enum option_values): Add OPTION_DWARF.
	(long_options): --dwarf can accept arguments.
	(dump_dwarf_section): Also check enabled field.
	(main): Option -W can accept arguments, code moved to
	dwarf.c and call dwarf_select_sections_all instead.
	* readelf.c (process_section_headers): Remove do_debug_lines_decoded.
	(parse_args): Move code to...
	* dwarf.c (dwarf_select_sections_by_letters,
	dwarf_select_sections_by_names): : ...here (new functions).
	(do_debug_lines_decoded): Remove and replaced by ...
	(FLAG_DEBUG_LINES_RAW, FLAG_DEBUG_LINES_DECODED): ... new macros.
	(display_debug_lines): Adjust for previous change.
	(dwarf_select_sections_all): New function.
	(debug_displays): Add initializer for enabled field.
	* dwarf.h (do_debug_lines_decoded): Remove.
	Add prototypes for the new functions.
	(struct dwarf_section_display): Add enabled field.
@
text
@d1 4
@


1.1423
log
@Updated Vietnamese translation.
@
text
@d1 27
@


1.1422
log
@bfd:
2009-02-03  Sandip Matte  <sandip@@rmicorp.com>

	* aoutx.h (NAME (aout, machine_type)): Handle bfd_mach_mips_xlr.
	* archures.c (bfd_mach_mips_xlr): Define.
	* bfd-in2.h: Regenerate.
	* cpu-mips.c (I_xlr): Define.
	(arch_info_struct): Add XLR entry.
	* elfxx-mips.c (_bfd_elf_mips_mach): Handle E_MIPS_MACH_XLR.
	(mips_set_isa_flags): Handle bfd_mach_mips_xlr
	(mips_mach_extensions): Add XLR entry.

binutils:
2009-02-03  Sandip Matte  <sandip@@rmicorp.com>

	* readelf.c (get_machine_flags): Handle E_MIPS_MACH_XLR.

gas:
2009-02-03  Sandip Matte  <sandip@@rmicorp.com>

	* config/tc-mips.c (macro): Handle M_MSGSND, M_MSGLD, M_MSGLD_T,
	M_MSGWAIT and M_MSGWAIT_T.
	(mips_cpu_info_table): Add XLR entry.
	* doc/c-mips.texi (-march): Document xlr.

gas/testsuite:
2009-02-03  Sandip Matte  <sandip@@rmicorp.com>

	* gas/mips/mips.exp (xlr): New architecture.
	(xlr-ext): Run test.
	* gas/mips/xlr-ext.d, gas/mips/xlr-ext.s: New.

include/elf:
2009-02-03  Sandip Matte  <sandip@@rmicorp.com>

	* mips.h (E_MIPS_MACH_XLR): Define.

include/opcode:
2009-02-03  Sandip Matte  <sandip@@rmicorp.com>

	* mips.h (INSN_XLR): Define.
	(INSN_CHIP_MASK): Update.
	(CPU_XLR): Define.
	(OPCODE_IS_MEMBER): Update.
	(M_MSGSND, M_MSGLD, M_MSGLD_T, M_MSGWAIT, M_MSGWAIT_T): Define.

opcodes:
2009-02-03  Sandip Matte  <sandip@@rmicorp.com>

	* mips-dis.c (mips_cp0_names_xlr, mips_cp0sel_names_xlr): Define.
	(mips_arch_choices): Add XLR entry.
	* mips-opc.c (XLR): Define.
	(mips_builtin_opcodes): Add XLR instructions.
@
text
@d1 4
@


1.1421
log
@binutils/

2009-02-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* NEWS: Move --as-needed change to ...
	* ../ld/NEWS: Here.

ld/

2009-02-03  Alan Modra  <amodra@@bigpond.net.au>

	* NEWS: Mention --as-needed change.
@
text
@d1 4
@


1.1420
log
@bfd:
2009-02-03  Carlos O'Donell  <carlos@@codesourcery.com>

	* configure.in: AC_SUBST pdfdir.
	* Makefile.am: Add install-pdf, install-pdf-am
	and install-pdf-recursive targets. Define pdfdir.
	* doc/Makefile.am: Define pdf__strip_dir. Add
	install-pdf and install-pdf-am targets.
	* po/Make-in: Add install-pdf target.
	* configure: Regenerate.
	* Makefile.in: Regenerate
	* doc/Makefile.in: Regenerate.

binutils:
2009-02-03  Carlos O'Donell  <carlos@@codesourcery.com>

	* configure.in: AC_SUBST pdfdir.
	* Makefile.am: Add install-pdf, install-pdf-am,
	and install-pdf-recursive targets.
	* doc/Makefile.am: Define pdf__strip_dir. Add
	install-pdf and install-pdf-am targets.
	* po/Make-in: Add install-pdf target.
	* configure: Regenerate.
	* Makefile.in: Regenerate.
	* doc/Makefile.in: Regenerate.

etc:
2009-02-03  Carlos O'Donell  <carlos@@codesourcery.com>

	* configure.in: AC_SUBST pdfdir.
	* configure: Regenerate.

gas:
2009-02-03  Carlos O'Donell  <carlos@@codesourcery.com>

	* configure.in: AC_SUBST pdfdir.
	* Makefile.am: Add install-pdf, install-pdf-am,
	and install-pdf-recursive targets.
	* doc/Makefile.am: Define pdf__strip_dir. Add
	install-pdf and install-pdf-am targets.
	* po/Make-in: Add install-pdf target.
	* configure: Regenerate.
	* Makefile.in: Regenerate.
	* doc/Makefile.in: Regenerate.

gprof:
2009-02-03  Carlos O'Donell  <carlos@@codesourcery.com>

	* configure.in: AC_SUBST pdfdir.
	* Makefile.am: Add install-pdf, install-pdf-am,
	and install-pdf-recursive targets. Define pdf__strip_dir.
	* po/Make-in: Add install-pdf target.
	* configure: Regenerate.
	* Makefile.in: Regenerate.

ld:
2009-02-03  Carlos O'Donell  <carlos@@codesourcery.com>

	* configure.in: AC_SUBST pdfdir.
	* Makefile.am: Add install-pdf, install-pdf-am,
	and install-pdf-recursive targets. Define pdf__strip_dir.
	* po/Make-in: Add install-pdf target.
	* configure: Regenerate.
	* Makefile.in: Regenerate.

opcodes:
2009-02-03  Carlos O'Donell  <carlos@@codesourcery.com>

	* Makefile.am: Add install-pdf target.
	* po/Make-in: Add install-pdf target.
	* Makefile.in: Regenerate.
@
text
@d1 5
@


1.1419
log
@2009-02-03  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/9784
	* NEWS: Mention --prefix=PREFIX and --prefix-strip=LEVEL.

	* doc/binutils.texi: Document --prefix=PREFIX and
	--prefix-strip=LEVEL.

	* objdump.c: Include "filenames.h".
	(prefix): New.
	(prefix_strip): Likewise.
	(prefix_length): Likewise.
	(usage): Add --prefix=PREFIX and --prefix-strip=LEVEL.
	(option_values): Add OPTION_PREFIX and OPTION_PREFIX_STRIP.
	(long_options): Likewise.
	(show_line): Handle prefix and prefix_strip.
	(main): Handle OPTION_PREFIX and OPTION_PREFIX_STRIP.

	* readelf.c (PATH_MAX): Moved to ...
	* sysdep.h: Here.
@
text
@d1 12
@


1.1418
log
@binutils/
	* NEWS: Mention --as-needed change.
ld/
	* ld.texinfo (--as-needed): Update.
bfd/
	* elflink.c (on_needed_list): New function.
	(elf_link_add_object_symbols): Link in --as-needed libs if they
	satisfy undefined symbols in other libs.
@
text
@d1 21
@


1.1417
log
@	PR 9798
	* bucomm.c (bfd_nonfatal_message): Use bfd_get_archive_filename.
	(bfd_get_archive_filename): Constify param.
	* bucomm.h (bfd_get_archive_filename): Update prototype.
	* objcopy.c (RETURN_NONFATAL): Delete.
	(copy_unknown_object): Don't call bfd_get_archive_filename for
	bfd_nonfatal_message filename, instead just pass bfd.
	(copy_object): Likewise.
	(copy_archive, copy_file): Likewise.  Expand RETURN_NONFATAL.  On
	bfd_close errors, do not pass the bfd to bfd_nonfatal_message.
	(setup_bfd_headers): Fix error message.
@
text
@d1 4
@


1.1416
log
@        PR 9774
        * objdump.c (disassemble_section): When the target uses signed
        addresses make sure that we compute signed values.
@
text
@d1 14
@


1.1415
log
@        * MAINTAINERS: Remove Thiemo Seufer's name from the list of MIPS
        maintainers.
@
text
@d3 6
@


1.1414
log
@        PR 9766
        * dlltool.c (xlate): When strip text after the @@ sign, look for
        the last one not the first one.
@
text
@d1 5
@


1.1413
log
@bfd/
	* Makefile.am (libbfd_la_LIBADD, libbfd_la_LDFLAGS): Substitute
	SHARED_LIBADD and SHARED_LDFLAGS rather than WIN32LIBADD, WIN32LDFLAGS.
	* configure.in (commonbfdlib): Delete.
	(SHARED_LDFLAGS): Rename from WIN32LDFLAGS/
	(SHARED_LIBADD): Rename from WIN32LIBADD.  Add pic libiberty if such
	is available, not just for linux.
	* po/SRC-POTFILES.in: Regenerate.
	* Makefile.in: Regenerate.
	* configure: Regenerate.
opcodes/
	* configure.in (commonbfdlib): Delete.
	(SHARED_LIBADD): Add pic libiberty if such is available.
	* configure: Regenerate.
	* po/POTFILES.in: Regenerate.
binutils/
	* configure.in (commonbfdlib): Delete.
	* configure: Regenerate.
gas/
	* configure.in (commonbfdlib): Delete.
	* configure: Regenerate.
	* po/POTFILES.in: Regenerate.
@
text
@d1 6
@


1.1412
log
@Cleanup code related to --identify option.

        * binutils/dlltool.c (file scope): Removed globals identify_ms,
        identify_member_contains_symname_result,
        identify_dll_name_list_head, and identify_dll_name_list_tail.
        Renamed existing typedef dll_name_list_type to
        dll_name_list_node_type.
        Added new typedefs dll_name_list_type, symname_search_data_type,
        and identify_data_type.
        (identify_append_dll_name_to_list): Renamed to...
        (dll_name_list_append): ...here.  Changed signature to accept list
        argument rather than use global.
        (identify_count_dll_name_list): Renamed to...
        (dll_name_list_count): ...here.  Changed signature to accept list
        argument rather than use global.
        (identify_print_dll_name_list): Renamed to...
        (dll_name_list_print): ...here.  Changed signature to accept list
        argument rather than use global.
        (identify_free_dll_name_list): Renamed to...
        (dll_name_list_free_contents): ...here.
        (dll_name_list_free): New function.
        (dll_name_list_create): New function.
        (identify_process_section_p): Changed signature to accept
        ms_style_implib argument rather than use global.
        (identify_member_contains_symname): Expect incoming void * data to
        be symname_search_data_type.
        (identify_dll_for_implib): Use new functions dll_name_list_create
        and dll_name_list_free.  Use new types symname_search_data_type
        and identify_data_type to communicate with search routines.
        (identify_search_section): Expect incoming void * data to be
        identify_data_type. Use its contents rather than global
        variables.
@
text
@d1 5
@


1.1411
log
@Add --identify-strict option.  Handle ms-style implibs:

        * dlltool.c (file scope): Added new globals identify_ms and
        identify_strict. New typedef dll_name_list_type, and globals
        identify_dll_name_list_head and identify_dll_name_list_tail. Added
        new global identify_member_contains_symname_result.
        (identify_append_dll_name_to_list): New function.
        (identify_count_dll_name_list): New function.
        (identify_print_dll_name_list): New function.
        (identify_free_dll_name_list): New function.
        (identify_search_archive): Changed signature to take function
        pointer to operation to apply to each member, and data to pass on
        to that function.
        (identify_search_member): Changed signature to accept user data
        from caller.
        (identify_member_contains_symname): New function.
        (identify_dll_for_implib): Rewrite. Now determines whether implib
        is ms- or binutils- style, before searching sections for
        dllname. Allows multiple dllnames.
        (identify_process_section_p): Search alternate section for dllname
        when implib is ms-style.
        (identify_search_section): Add additional conditions to excludes
        candidate sections from consideration.
        (usage): Added --identify-strict.
        (long_options): Added --identify-strict.
        (main): Handle --identify-strict option.
        * doc/binutils.texi: Document --identify-strict option.
        * NEWS: Document --identify and --identify-strict options.
@
text
@d1 35
@


1.1410
log
@	PR 7034
	* doc/binutils.texi (objdump -R): Note effect of -d or -D.
@
text
@d1 31
@


1.1409
log
@	* objdump.c (disassemble_section): Don't assume non-instruction
	data if object symbol at given address is in different section.
@
text
@d3 5
@


1.1408
log
@2009-01-12  Kai Tietz  <kai.tietz@@onevision.com>

        * dlltool.c (create_for_pep): New.
        (flush_page): Use create_for_pep instead of using
        macro DLLTOOL_MX86_64 clause.
        (generate_idata_ofile): Likewise.
        (make_one_lib_file): Likewise.
        (make_head): Likewise.
        (make_tail): Likewise.
        (main): Initialize create_for_pep.
@
text
@d1 5
@


1.1407
log
@2009-01-08  Kai Tietz  <kai.tietz@@onevision.com>

	* dlltool.c (use_nul_prefixed_import_tables): New.
	(make_head): Make prefix leading zero prefix element for
	idata$4 and idata$5 dependent to new flag.
	(usage): Add new option  --use-nul-prefixed-import-tables.
	(OPTION_USE_NUL_PREFIXED_IMPORT_TABLES): New.
	(long_options): Add --use-nul-prefixed-import-tables.
	(main): Likewise.
	* doc/binutils.texi: Add new option documentation for
	--use-nul-prefixed-import-tables.
	* NEWS: Add new option.
@
text
@d1 11
@


1.1406
log
@2009-01-06  Kai Tietz  <kai.tietz@@onevision.com>

        * windres.c (set_endianess): Get architecture name
        for internal target names like "pe-arm-wince-little".
        (find_arch_match): New helper.
        * ChangeLog: Reset it.
        * ChangeLog-2008: Moved old ChangeLog.
@
text
@d1 13
@


1.1405
log
@Add LM32 port.
@
text
@d1 1
a1 1
2008-12-23  Jon Beniston <jon@@beniston.com>
d3 5
a7 2
	* MAINTAINERS: Added Jon Beniston as maintainer for LM32 port.
	* readelf.c: Add support for LM32 machine number.
d9 1
a9 862
2008-12-23  Kai Tietz  <kai.tietz@@onevision.com>

	* rcparse.y (rcdata_data): Allow empty comma elements.

2008-12-23  Nick Clifton  <nickc@@redhat.com>

	* objdump.c (dump_reloc_set): Remove STT_IFUNC support.
	* readelf.c (dump_relocations): Likewise.
	(get_symbol_type): Likewise.
	* doc/binutils.texi: Likewise.

2008-12-18  Ralf Wildenhues  <Ralf.Wildenhues@@gmx.de>

	* configure: Regenerate.

2008-12-09  Tom Tromey  <tromey@@redhat.com>

	* srconv.c (wr_hd): Add parens to placate gcc 4.4.

2008-12-09  Andrew Stubbs  <ams@@codesourcery.com>

	* readelf.c (arm_attr_tag_CPU_arch): Add "v6-M" and "v6S-M".
	(arm_attr_tag_WMMX_arch): Add "WMMXv2".
	(arm_attr_tag_NEON_arch): Rename to ...
	(arm_attr_tag_Advanced_SIMD_arch): ... official name.
	(arm_attr_tag_ABI_PCS_config): Rename to ...
	(arm_attr_tag_PCS_config): ... official name.
	(arm_attr_tag_ABI_PCS_RO_DATA): Rename to ...
	(arm_attr_tag_ABI_PCS_RO_data): ... official name.
	(arm_attr_tag_ABI_FP_denormal): Add "Sign only".
	(arm_attr_tag_CPU_unaligned_access): New array.
	(arm_attr_tag_T2EE_use): New array.
	(arm_attr_tag_Virtualization_use): New array.
	(arm_attr_tag_MPextension_use): New array.
	(arm_attr_publ): NEON_arch -> Advanced_SIMD_arch.
	ABI_PCS_config -> PCS_config.
	ABI_PCS_RO_DATA -> ABI_PCS_RO_data.
	Add CPU_unaligned_access, nodefaults, also_compatible_with,
	T2EE_use, conformance, Virtualization_use and MPextension_use.
	(display_arm_attribute): Handle Tag_nodefaults and
	Tag_also_compatible_with.

2008-12-04  Ben Elliston  <bje@@au.ibm.com>

	* doc/binutils.texi (objdump): Update booke documentation.
	* NEWS: Document user-visible changes to command line options.

2008-12-04  Nick Clifton  <nickc@@redhat.com>

	* objdump.c (dump_reloc_set): Append "()" to symbol names which
	have the BSF_INDIRECT_FUNCTION type.
	* readelf.c (print_symbol): Fix handling of negative widths.
	(dump_relocations): Append "()" to symbol names which have the
	STT_IFUNC type. Display negative offsets as a positive number with
	a "-" prefix.
	(get_symbol_type): Return "IFUNC" for STT_IFUNC symbols.
	* doc/binutils.texi: Document 'i' symbol type.

2008-11-26  Jan Kratochvil  <jan.kratochvil@@redhat.com>

	* strings.c (main): New variable `s'.  Have string_min parsing
	call fatal for invalid input strings.

2008-11-25  Nick Clifton  <nickc@@redhat.com>

	PR7044
	* dlltool.c (run): Use formatting string to avoid compile time
	warning.
	(gen_exp_file): Check return value from fread.
	* windmc.c (main): Check return value from fread.

2008-11-21 Sterling Augustine <sterling@@tensilica.com>

	* MAINTAINERS: Take over from Bob Wilson as Xtensa maintainer.

2008-11-19  Nick Clifton  <nickc@@redhat.com>

	* doc/fdl.texi: Update to v1.3
	* doc/binutils.texinfo: Change license to v1.3.

2008-11-18  Catherine Moore  <clm@@codesourcery.com>

	* readelf.c (arm_attr_tag_ABI_FP_16bit_format): New.
	(arm_attr_tag_VFP_HP_extension): New.
	(arm_attr_public_tag arm_attr_public_tags): Support
	new attributes. 

2008-11-17  Nick Clifton  <nickc@@redhat.com>

	* version.c (print_version): Update copyright year.

2008-11-16  Danny Smith  <dannysmith@@usesr.sourceforge.net>

	* dlltool.c (identify_search_section): Cast argument, not return
	value, of xstrdup to 'char*'.

2008-11-15  Charles Wilson  <cygwin@@cwilson.fastmail.fm>

	Added --identify option to dlltool.
	* binutils/dlltool.c: Add new global variables
	identify_imp_name and identify_dll_name.
	(identify_dll_for_implib, identify_search_archive,
	identify_search_member, identify_process_section_p,
	identify_search_section): New functions.
	(usage): Added --identify.
	(long_options): Added --identify.
	(main): Handle --identify option.
	* binutils/doc/binutils.texi: Document --identify.

2008-11-14  Tristan Gingold  <gingold@@adacore.com>

	Remove outdated mach-o specific tests.
	* objdump.c (load_debug_section): Remove mach-o specific test.
	(mach_o_uncompressed_dwarf_sections): Removed.
	(mach_o_compressed_dwarf_sections): Removed.
	(generic_uncompressed_dwarf_sections): Removed.
	(generic_compressed_dwarf_sections): Removed.
	(check_mach_o_dwarf): Removed.
	(dump_dwarf): Remove call to check_mach_o_dwarf.

2008-11-14  Tristan Gingold  <gingold@@adacore.com>

	* configure.com: Get version from configure.in of bfd.
	* makefile.vms-in (DEBUG_OBJS): Add dwarf.obj.
	(CFLAGS): Update flags.

2008-11-13  Hans-Peter Nilsson  <hp@@axis.com>
	    Alan Modra  <amodra@@bigpond.net.au>

	* nm.c (filter_symbols): Only call memcpy when from != to.

2008-11-10  Tristan Gingold  <gingold@@adacore.com>
	    Alan Modra  <amodra@@bigpond.net.au>

	* objdump.c (disassemble_bytes): Don't skip leading zeros when
	end of section calculation overflows.

2008-11-07  Prafulla Thakare  <prafulla.thakare@@kpitcummins.com>

	* MAINTAINERS: Take over from Anil Paranjpe as H8300 maintainer.

2008-10-31  Alan Modra  <amodra@@bigpond.net.au>

	* po/id.po: New file.
	* configure.in (ALL_LINGUAS): Add id.
	* configure: Regenerate.

2008-10-21  Alan Modra  <amodra@@bigpond.net.au>

	* windmc.c (res_alloc): Remove unnecessary cast.
	* windres.c (res_alloc, reswr_alloc): Likewise.

2008-10-20  Nick Clifton  <nickc@@redhat.com>

	* readelf.c: Tidy up code formatting.

2008-10-10  Nathan Froyd  <froydnj@@codesourcery.com>

	* readelf.c (display_power_gnu_attribute): Decode
	Tag_GNU_Power_ABI_Struct_Return.

2008-10-10  Alan Modra  <amodra@@bigpond.net.au>

	* embedspu.sh: Pass -Wa,-noexecstack to $CC.

2008-10-09  Kai Tietz  <kai.tietz@@onevision.com>

	* dlltool.c (PAGE_SIZE): Make sure it has bfd_vma type.
	(PAGE_MASK): Likewise.
	(sfunc): Change to address size of bfd_vma for base-file.
	(flush_page): Likewise.
	(gen_exp_file): Likewise.

2008-10-07  Jan Kratochvil  <jan.kratochvil@@redhat.com>

	* readelf.c (process_section_headers): Do not cut the section names and
	types if running with --wide.

2008-10-06  Tom Tromey  <tromey@@redhat.com>

	* dwarf.c (display_debug_frames): Change text for uniformity.
	(process_debug_info): Likewise.
	(display_debug_aranges): Likewise.  Indent address output.
	(display_debug_pubnames): Print offset in hex.

2008-10-02  Andrew Paprocki  <andrew@@ishiboo.com>

	PR 6934
	* stabs.c (parse_stab_string): Parse and ignore =Y<name> strings
	generated by the SUNPro C++ compiler.

2008-09-30  Andrew Paprocki  <andrew@@ishiboo.com>

	PR 6922
	* stabs.c (parse_stab_sun_builtin_type): Parse, but ignore SUN's
	'b' and 'v' extensions.

2008-09-29  Peter O'Gorman  <pogma@@thewrittenword.com>
	    Steve Ellcey  <sje@@cup.hp.com>

	* configure: Regenerate for new libtool.
	* aclocal.m4: Ditto.
	* Makefile.in: Ditto.
	* doc/Makefile.in: Ditto.

2008-09-28  Alan Modra  <amodra@@bigpond.net.au>

	* objcopy.c (setup_section): Set elf_group_id.

2008-09-24  Richard Henderson  <rth@@redhat.com>

	* dwarf.c (size_of_encoded_value, get_encoded_value): Move up.
	(decode_location_expression): Add section parameter.  Handle
	DW_OP_GNU_encoded_addr.
	(read_and_display_attr_value): Update decode_location_expression call.
	(display_debug_loc, display_debug_frames): Likewise.

2008-09-25  Alan Modra  <amodra@@bigpond.net.au>

	PR 6913
	* dwarf.c (print_dwarf_vma): Don't call printf without format string.

2008-09-17  Jan Kratochvil  <jan.kratochvil@@redhat.com>

	Suppress warnings on NONE relocations to discarded sections.
	* readelf.c (is_none_reloc): New function.
	(debug_apply_relocations): Ignore is_none_reloc() relocations.

2008-09-11  Jan Kratochvil  <jan.kratochvil@@redhat.com>

	Fix loading large elf64 binaries on 32bit hosts.
	* configure.in: Call AC_SYS_LARGEFILE.
	* config.in: Regenerate.
	* configure: Regenerate.

2008-09-11  Alan Modra  <amodra@@bigpond.net.au>

	* po/sv.po: Update.

2008-09-08  Tristan Gingold  <gingold@@adacore.com>

	* BRANCHES: Add 2.18 and 2.19 release branches.

2008-09-08  Tristan Gingold  <gingold@@adacore.com>

	* NEWS: Add a marker for the 2.19 features.

2008-09-05  Daniel Jacobowitz  <dan@@codesourcery.com>

	* readelf.c (load_specific_debug_section): New function, from
	load_debug_section.
	(load_debug_section): Use load_specific_debug_section.
	(display_debug_section): Use load_specific_debug_section.  Check for
	multiple sections with the same name.

2008-08-28  Tristan Gingold  <gingold@@adacore.com>

	* objdump.c (dump_stabs): Add sections for Darwin.

2008-08-25  Alan Modra  <amodra@@bigpond.net.au>

	* sysdep.h: Include "binary-io.h".
	(O_BINARY): Don't define here.
	* bin2c.c (O_BINARY, O_TEXT, SET_BINARY): Don't define here.
	* strings.c: Likewise.
	(main): Remove #ifdef SET_BINARY.
	* Makefile.am: Run "make dep-am"
	* Makefile.in: Regenerate.

2008-08-24  Alan Modra  <amodra@@bigpond.net.au>

	* configure.in: Update a number of obsolete autoconf macros.
	* configure: Regenerate.
	* aclocal.m4: Regenerate.

2008-08-21  Richard Henderson  <rth@@redhat.com>

	* readelf.c (is_32bit_pcrel_reloc): Fix hppa entry.
	(is_64bit_pcrel_reloc): New.
	(debug_apply_relocations): Use it.  Handle hppa pcrel bias.

2008-08-15  Alan Modra  <amodra@@bigpond.net.au>

	PR 6526
	* configure.in: Invoke AC_USE_SYSTEM_EXTENSIONS.
	* Makefile.in: Regenerate.
	* aclocal.m4: Regenerate.
	* config.in: Regenerate.
	* configure: Regenerate.
	* doc/Makefile.in: Regenerate.

2008-08-09  Alan Modra  <amodra@@bigpond.net.au>

	PR 6615
	* rename.c (smart_rename): Punctuate error messages.

2008-08-08  Richard Sandiford  <rdsandiford@@googlemail.com>
	    Daniel Jacobowitz  <dan@@codesourcery.com>
	    Catherine Moore  <clm@@codesourcery.com>
	    Mark Shinwell  <shinwell@@codesourcery.com>

	* readelf.c (get_mips_symbol_other): Handle STO_MIPS_PLT and
	STO_MIPS_PIC.
	(slurp_rela_relocs, slurp_rel_relocs): Handle MIPS ELF64 here.
	(dump_relocations, debug_apply_relocations): Don't handle it here.
	(get_mips_dynamic_type): Handle DT_MIPS_PLTGOT and DT_MIPS_RWPLT.
	(print_mips_pltgot_entry): New function.
	(process_mips_specific): Dump the PLT GOT.

2008-08-08  Alan Modra  <amodra@@bigpond.net.au>

	* readelf.c (is_64bit_abs_reloc): Return true for R_MIPS_64.

2008-08-06  Alan Modra  <amodra@@bigpond.net.au>

	PR 6774
	* objcopy.c (copy_object): Don't setup_bfd_headers when extract_symbol.
	(setup_section): Don't zero vma and lma when extract_symbol.
	(copy_section): Discard relocations when extract_symbol.
	* doc/binutils.texi: Update --extract-symbol description.

2008-08-04  Alan Modra  <amodra@@bigpond.net.au>

	* Makefile.am (POTFILES.in): Set LC_ALL=C.
	* Makefile.in: Regenerate.

2008-08-04  Markus Weiss  <weissms@@aros.org>

	* readelf.c (get_osabi_name <ELFOSABI_AROS>): Change name.

2008-08-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* dwarf.c (dwarf_regnames_i386): Remove AVX registers.
	(dwarf_regnames_x86_64): Likewise.

2008-07-30  Alan Modra  <amodra@@bigpond.net.au>

	* dlltool.c, dwarf.c, objdump.c, readelf.c, resrc.c, resres.c,
	windmc.c: Silence gcc warnings.

2008-07-28  Alan Modra  <amodra@@bigpond.net.au>

	* readelf.c (print_vma): Typo fix.

2008-07-28  Alan Modra  <amodra@@bigpond.net.au>

	PR 6769
	* readelf.c (print_dec_vma, print_hex_vma): Delete.
	(print_vma): Use BFD_VMA_FMT.
	* size.c (size_number, rprint_number): Likewise.

2008-07-26  Michael Eager <eager@@eagercon.com>

	* readelf.c (display_power_gnu_attribute): Display
	single-precision hard float.

2008-07-21  Luis Machado  <luisgpm@@br.ibm.com>

	* readelf.c (get_note_type): Handle VSX notes.

2008-07-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* objdump.c (load_debug_section): Initialize section_is_compressed 
	for gcc 3.4/ia64.
	* readelf.c (load_debug_section): Likewise.

2008-07-12  Jie Zhang  <jie.zhang@@analog.com>

	Revert
	2008-07-12  Jie Zhang  <jie.zhang@@analog.com>
	* readelf.c (get_machine_flags): Deal with Blackfin specific
	flags.

2008-07-12  Jie Zhang  <jie.zhang@@analog.com>

	* readelf.c (get_machine_flags): Deal with Blackfin specific
	flags.

2008-07-09  Craig Silverstein  <csilvers@@google.com>

	* config.in: Add HAVE_ZLIB_H
	* configure.in: Add test for libz and zlib.h
	* configure: Regenerate.
	* dwarf.c (debug_displays): Add .zdebug_* strings.
	* dwarf.h (struct dwarf_section): Add fields uncompressed_namd
	and compressed_name.
	* objdump.c (load_debug_section): Call
	bfd_uncompress_section_contents when loading a compressed
	section.
	(dump_dwarf_section): Recognize compressed section name.
	(mach_o_dwarf_sections): Rename as
	mach_o_uncompressed_dwarf_sections.
	(mach_o_compressed_dwarf_sections): New variable.
	(generic_dwarf_section): Rename as
	generic_uncompressed_dwarf_sections.
	(generic_compressed_dwarf_sections): New variable.
	(check_mach_o_dwarf): Save and restore
	mach_o_compressed_dwarf_sections.
	* readelf.c: Add #include for config.h and zlib.h
	(process_section_headers): Recognize compressed section name.
	(uncompress_section_contents): New function.
	(load_debug_section): Call uncompress_section_contents when
	loading a compressed section.
	(display_debug_section): Recognize compressed section name.

2008-07-07  Alan Modra  <amodra@@bigpond.net.au>

	* objdump.c (find_symbol_for_address): Prefer symbols in current
	section.

2008-07-07  Alan Modra  <amodra@@bigpond.net.au>

	* ieee.c (write_ieee_debugging_info): Use bfd_make_section_with_flags.
	* nlmconv.c (main, powerpc_build_stubs): Likewise.
	* rescoff.c (write_coff_file): Likewise.
	* resres.c (write_res_file): Likewise.
	* windmc.c (windmc_write_bin): Likewise.

2008-06-18  M R Swami Reddy <MR.Swami.Reddy@@nsc.com>

	* readelf.c (guess_is_rela): Add EM_CR16_OLD.
	(dump_relocations): Likewise.
	(get_machine_name): Likewise.
	(is_32bit_abs_reloc): Likewise.

2008-06-17  Ralf Wildenhues  <Ralf.Wildenhues@@gmx.de>

	* configure: Regenerate.

2008-06-12  DJ Delorie  <dj@@redhat.com>

	* readelf.c (guess_is_rela): Add EM_M32C_OLD.
	(dump_relocations): Likewise.
	(process_section_headers): Likewise.
	(is_32bit_abs_reloc): Likewise.
	(is_16bit_abs_reloc): Likewise.

2008-06-12  Nick Clifton  <nickc@@redhat.com>

	PR binutils/6483
	* objdump.c (dump_bfd): If the -g option found no STABS or IEEE
	debug information to display, try dumping DWARF information
	instead.
	* rddbg.c (read_debugging_info): Add a parameter to suppress the
	display of a warning message when no debug information is found.
	* budbg.h (read_debugging_info): Update prototype.
	* objcopy.c (copy_object): Continue to allow read_debugging_info
	to produce warning messages.
	* doc/binutils.texi (--debugging): Document new behaviour of the
	-g/--debugging option.

2008-06-10  Ben Elliston  <bje@@gnu.org>

	* MAINTAINERS: Remove myself as m68k maintainer.

2008-05-14  Alan Modra  <amodra@@bigpond.net.au>

	* Makefile.in: Regenerate.
	* doc/Makefile.in: Regenerate.

2008-05-12  Alan Modra  <amodra@@bigpond.net.au>

	* embedspu.sh: Test for presence of ._ea by looking at section
	table rather than looking at relocs.  Correct toe_addr substitution.

2008-05-08  Alan Modra  <amodra@@bigpond.net.au>

	* embedspu.sh: Take note of R_SPU_PPU32/64 relocs without a symbol,
	and if present, put image in ".data.speelf".  Put program handle
	in ".data.spehandle".

2008-05-01  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (print_symbol): Add code to display non-printing
	characters.

2008-04-30  John Heidemann  <johnh@@isi.edu>

	* doc/binutils.texi (strings): Add "unicode" to the documentation
	of strings in order to make explicit that it supports this
	feature.

2008-04-30  Alan Modra  <amodra@@bigpond.net.au>

	* readelf.c (process_program_headers): Correct section in segment
	display.

2008-04-28  M Thomas  <mthomas@@rhrk.uni-kl.de>
	    Nick Clifton  <nickc@@redhat.com>

	PR binutils/6449
	* objdump.c (slurp_file): Open the file in binary mode.
	* ar.c: Remove conditional definition of O_BINARY.
	* bin2.c: Likewise.
	* rename.c: Likewise.
	* strings.c: Likewise.
	* sysdep.h: Add conditional definition of O_BINARY.

2008-04-23  Paolo Bonzini  <bonzini@@gnu.org>

	* aclocal.m4: Regenerate.
	* configure: Regenerate.

2008-04-16  Jean-Yves Lefort  <jylefort@@brutele.be>

	PR binutils/6034
	* objcopy.c (stuct symlist): Rename to
	is_specified_symbol_predicate_data.
	(strip_specific_list): Rename to strip_specific_htab.
	(strip_unneeded_list): Rename to strip_unneeded_htab.
	(keep_specific_list):  Rename to keep_specific_htab.
	(localize_specific_list): Rename to localize_specific_htab.
	(globalize_specific_list): Rename to globalize_specific_htab.
	(keepglobal_specific_list): Rename to keepglobal_specific_htab.
	(weaken_specific_list): Rename to weaken_specific_htab.
	(eq_string): New function.
	(create_symbol_htab): New function.
	(create_symbol_htabs): New function.
	(add_specific_symbol): Change to use hash tables.
	(is_specified_symbol_predicate): New function.
	(is_specified_symbol): Use hash table lookup.
	(is_strip_section): Update to use new functions and hash tables.
	(filter_symbols): Likewise.
	(copy_object): Likewise.
	(copy_section): Likewise.
	(strip_main): Likewise.
	(copy_main): Likewise.
	(main): Likewise.

2008-04-14  David S. Miller  <davem@@davemloft.net>

	* readelf.c (get_gnu_elf_note_type): Recognize NT_GNU_GOLD_VERSION.

2008-04-11  Torleif Sandnes  <torleif.sandnes@@gmail.com>

	* dwarf.c (display_debug_lines): Rename to
	display_debug_lines_raw.
	(display_debug_lines_decoded): New function.  Displays the
	interpreted contents of a .debug_line section.
	(display_debug_lines): New function: Selects either a raw dump or
	a decoded dump (or both) as requested by the user.
	* dwarf.h (do_debug_lines_decoded): New extern.
	* readelf.c: Add support for -wL or --debug-dump=decodedline
	option to display the decoded contents of a .debug_line section.
	* doc/binutils.texi: Document the new option.
	* NEWS: Mention the new feature.

2008-04-08  Alan Modra  <amodra@@bigpond.net.au>

	* dwarf.c: Remove trailing whitespace throughout file.

2008-04-04  Nick Clifton  <nickc@@redhat.com>

	* po/sk.po: Updated Slovak translation.

2008-04-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* dwarf.c (dwarf_regnames_i386): Add AVX registers.
	(dwarf_regnames_x86_64): Likewise.

2008-03-27  Cary Coutant <ccoutant@@google.com>

	Add support for thin archives.
	* ar.c (make_thin_archive): New global flag.
	(map_over_members): Deal with full pathnames in thin archives.
	(usage, main): Add 'T' option for building thin archives.
	(replace_members): Pass thin archive flag to ar_emul_append.
	* arsup.c (ar_open): Initialize new flag.
	* binemul.c (ar_emul_append): Add new parameter for
	flattening nested archives.
	(do_ar_emul_default_append): New function.
	(ar_emul_default_append): Factored out recursive code.
	* binutils/binemul.h (ar_emul_default_append): Add new parameter.
	(struct bin_emulation_xfer_struct): New parameter for ar_append.
	* dlltool.c (gen_lib_file): Initialize thin archive flag.
	* emul_aix.c (ar_emul_aix_internal): Add new flatten
	parameter, currently unimplemented.
	All callers changed.
	* objcopy.c (copy_archive): Preserve thin archive flag.
	* doc/binutils.texi: Update ar documentation.
	* NEWS: Mention the new feature.

2008-03-20  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (process_mips_specific): Declare addr_size as int.

2008-03-20  Richard Sandiford  <rsandifo@@nildram.co.uk>

	* readelf.c (print_mips_got_entry): New function.
	(process_mips_specific): Print GOT information.

2008-03-17  Ralf Wildenhues  <Ralf.Wildenhues@@gmx.de>

	* aclocal.m4: Regenerate.
	* configure: Likewise.
	* Makefile.in: Likewise.
	* doc/Makefile.in: Likewise.

2008-03-16  Brian Dessent  <brian@@dessent.net>

	* rcparse.y (resid): Allow control text to span multiple lines.

2008-03-13  Alan Modra  <amodra@@bigpond.net.au>

	* readelf.c: Use %u throughout when printing sh_link or sh_info,
	%lu when printing sh_addralign.
	(process_version_sections): Use identical formats when printing
	all offset and sh_link fields.

2008-03-13  Alan Modra  <amodra@@bigpond.net.au>

	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.
	* doc/Makefile.in: Regenerate.
	* configure: Regenerate.

2008-03-12  Alan Modra  <amodra@@bigpond.net.au>

	PR 5900
	* readelf.c (SECTION_HEADER_INDEX, SECTION_HEADER_NUM): Delete.
	Remove use throughout file.
	(SECTION_HEADER): Likewise.
	(dump_relocations): Don't adjust st_shndx for reserved range.
	(process_file_header): Mask SHN_XINDEX to values seen in external
	elf structs.  Simplify valid section index tests.
	(get_32bit_elf_symbols, get_64bit_elf_symbols): Mask SHN_XINDEX.
	Map reserved st_shndx to internal form.
	(process_section_groups): Test that group symbol st_shndx is in
	range, not just non-zero.  Delete reserved range check.
	(get_symbol_index_type): Mask "type" to 16 bits when printing PRC,
	OS or RSV.

2008-03-09  Paul Brook  <paul@@codesourcery.com>

	* readelf.c (arm_attr_tag_VFP_arch): Add "VFPv3-D16".

2008-03-03  James E. Wilson  <wilson@@tuliptree.org>

	* MAINTAINERS: Update my email address.

2008-03-03  Nick Clifton  <nickc@@redhat.com>

	* dwarf.c (decode_location_expression): Handle
	DW_OP_PGI_omp_thread_num.

2008-03-01  Alan Modra  <amodra@@bigpond.net.au>

	* objdump.c (objdump_print_addr): Initialise "sym".

2008-02-27  Justin Pryzby  <justinpryzby@@users.sourceforge.net>
	    Nick Clifton  <nickc@@redhat.com>

	* ar.c (usage): Mention -t command line switch.
	* doc/binutils.texi (ranlib): Document -t command line switch.

2008-02-26  Nick Clifton  <nickc@@redhat.com>

	* objdump.c (objdump_print_addr): If displaying file offsets, show
	the offset even if there are no symbols available.
	(dump_section): Display nothing if none of the section is going to
	be dumped.  Display the file offset, if requested, of the location
	from where the dump starts.
	* doc/binutils.texi (objdump): Mention that dumping via the -s
	switch is also affected by the -F option.

2008-02-26  Nick Clifton  <nickc@@redhat.com>

	Re-apply this patch which was accidentally deleted:
	2006-05-16  Carlos O'Donell  <carlos@@codesourcery.com>

	* doc/binutils.texi: Use "Binutils Index" for index name.

2008-02-22  Nick Clifton  <nickc@@redhat.com>

	* objdump.c (display_file_offsets): New variable.
	(long_options): Add -F/--file-offsets.
	(objdump_print_addr_with_sym): If displaying file offsets, print
	the offset of the given address.
	(disassemble_bytes): If displaying file offsets, tell the user how
	many zeroes are skipped and the file offset of the point where
	dumping resumes.
	(disassemble_section): Only display the name of the section if
	data is going to be dumped from it.
	(main): Handle new option.  Produce error messages if the start or
	stop addresses do not make sense.
	* doc/binutils.texi: Document the new feature.
	* NEWS: Mention the new feature.

2008-02-15  Chu Li  <chul@@cn.fujitsu.com>
	    Nick Clifton  <nickc@@redhat.com>

	PR binutils/5713
	* strings.c (integer_arg): Delete function.
	(string_min): Initialise to 4.
	(main): Use strtoul to parse integer arguments.
	Move check for an invalid string length to after all the arguments
	have been parsed.
	(usage): Use indentation to indicate that -<n> is a another form
	of the --bytes= command line option.

2008-02-12  Nick Clifton  <nickc@@redhat.com>

	* dlltool.c (mcore_elf_cache_filename): Add a const qualifier to
	the argument.
	(scan_obj_filename): Do not drop the const qualifier when calling
	mcore_elf_cache_filename.
	(struct fname_cache): Add const qualifier to filename field.

2008-02-08  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/5713
	* strings.c (main): Set string_min to 4 if it is <= 0.

2008-02-07  Alan Modra  <amodra@@bigpond.net.au>

	* objdump.c (main): Don't pass unadorned NULL to concat.

2008-02-04  H.J. Lu  <hongjiu.lu@@intel.com>

	PR 5715
	* configure: Regenerated.

2008-02-03  Adam Nemet  <anemet@@caviumnetworks.com>

	* readelf.c (get_machine_flags): Handle Octeon.

2008-01-30  Tristan Gingold  <gingold@@adacore.com>

	* readelf.c (dump_relocations): Decode OpenVMS-specific sections.
	(get_ia64_dynamic_type): Decode OpenVMS-specific tags.
	(get_dynamic_type): Handle IA64-specific tags.
	(get_ia64_section_type_name): Handle OpenVMS-specific sections.
	(get_section_type_name): Handle OS-specific sections (and
	particularly IA64 OpenVMS one).
	(get_elf_section_flags): Makes flags static.  Add entries for IA64 and
	decode them.

2008-01-29  Nick Clifton  <nickc@@redhat.com>

	* dwarf.c (print_dwarf_vma): New function.  Display the value of a
	dwarf_vma type at a specified precision.  Use mingw field type
	specifier if necessary.
	(display_debug_loc): Use dwarf_vma type for begin and end values.
	Use print_dwarf_vma to display their values.  Use byte_get_signed
	in order to correctly detect the -1 escape value.
	(display_debug_aranges): Likewise.
	(display_debug_ranges): Likewise.

2008-01-29  Alan Modra  <amodra@@bigpond.net.au>

	* dwarf.c (display_debug_loc): Correct test for base address
	entry when 64-bit host dumping 32-bit object.

2008-01-29  Alan Modra  <amodra@@bigpond.net.au>

	* MAINTAINERS: Remove myself as ix86 maintainer.  Add for SPU.

2008-01-28  Nick Clifton  <nickc@@redhat.com>

	PR binutils/5529
	* rclex.c (yylex): Also allow the hypen character.

2008-01-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* dwarf.c: Include "elf/common.h".
	(eh_addr_size): Changed to int.
	(dwarf_regnames_i386): New.
	(dwarf_regnames_x86_64): Likewise.
	(dwarf_regnames): Likewise.
	(dwarf_regnames_count): Likewise.
	(init_dwarf_regnames): Likewise.
	(regname): Likewise.
	(frame_display_row): Properly support different address size.
	Call regname to get register name.
	(display_debug_frames): Call regname to get register name.
	Display DW_CFA_def_cfa_register as DW_CFA_def_cfa_register
	instead of DW_CFA_def_cfa_reg.

	* dwarf.h (init_dwarf_regnames): New.

	* objdump.c: Include "elf-bfd.h".
	(dump_dwarf): Call init_dwarf_regnames on ELF input.

	* readelf.c (guess_is_rela): Change argument to int.
	(parse_args): Remove the undocumented upper case options for
	-wX.
	(process_file_header): Call init_dwarf_regnames.

2008-01-25  DJ Delorie  <dj@@redhat.com>

	* readelf.c (process_section_headers): Add m16c handler.
	(is_16bit_abs_reloc): Recognize R_M32C_16.

2008-01-25  Kai Tietz  <kai.tietz@@onevision.com>

	* prdbg.c: Correct formatter style use.
	* readelf.c: Likewise.
	* strings.c: Likewise.

2008-01-25  Nick Clifton  <nickc@@redhat.com>

	* po/ru.po: Updated Russian translation.

2008-01-17  H.J. Lu  <hjl.tools@@gmail.com>

	* MAINTAINERS: Update my email address.

2008-01-14  Nick Clifton  <nickc@@redhat.com>

	* dwarf.c (process_debug_info): Include the CU offset and corrupt
	version value when reporting unrecognised DWARF version numbers.
	(load_debug_info): Remember a failed attempt to load and parse the
	.debug_info section and do not repeat such attempts.
	(display_debug_lines): Check the return value from load_debug_info
	and return whilst displaying a warning message if the load failed.
	(display_debug_loc): Likewise.
	(display_debug_ranges): Likewise.
	(DEBUG_INFO_UNAVAILABLE): Value stored in num_debug_info_entries
	when the .debug_info section could not be loaded/parsed.
	(process_debug_info): Display the length of the compilation unit
	in hex, so that it corresponds with the offsets that will follow.
	Tell the user if the length was 32-bit or 64-bit.
	If a DIE abbreviation could not be found, tell the user the offset
	of the DIE.
	(free_debug_memory): Do not attempt to free any entries in the
	debug_information array if num_debug_info_entries is set to
	DEBUG_INFO_UNAVAILABLE.

2008-01-10  Andreas Schwab  <schwab@@suse.de>

	* readelf.c (is_64bit_abs_reloc): Handle R_S390_64.

2008-01-09  Jakub Zawadzki  <darkjames@@darkjames.ath.cx>

	PR binutils/55326
	* bucomm.c (list_supported_architectures): Free architecture list
	after use.
	* windres.c (set_endianess): Likewise.
	* windmc.c (set_endianess): Likewise.

2008-01-08  Kai Tietz  <kai.tietz@@onevision.com>

	PR binutils/5529
	* binutils/rclex.c: (yylex): Add ':', '_', '\\', and '/' to post
	characters for name tokens.

2008-01-04  Greg McGary  <greg@@mcgary.org>

	* prdbg.c (print_vma): Print as long long, if host supports it.

2008-01-03  Nick Clifton  <nickc@@redhat.com>

	* dwarf.c (read_and_display_attr_value): Prefix values that are
	displayed in hexadecimal with 0x.
	For the DW_AT_import attribute display the abbreviation number and
	tag of the imported DIE.
	(process_debug_info): Warn about lengths that reserved by the
	DWARF3 specification.
	Provide more information when corrupted DIEs are detected.
	Warn if DIE corruption makes the sibling level negative.

For older changes see ChangeLog-2007
@


1.1404
log
@2008-12-23  Kai Tietz  <kai.tietz@@onevision.com>

	* rcparse.y (rcdata_data): Allow empty comma elements.
@
text
@d1 5
@


1.1403
log
@Remove STT_IFUNC support.
@
text
@d1 4
@


1.1402
log
@Add missing ChangeLog entries for my last commit.
@
text
@d1 7
@


1.1401
log
@bfd
	* pef.c (bfd_pef_parse_traceback_table): Add parens to placate gcc
	4.4.
binutils
	* srconv.c (wr_hd): Add parens to placate gcc 4.4.
@
text
@d1 4
@


1.1400
log
@2008-12-09  Andrew Stubbs  <ams@@codesourcery.com>

	* readelf.c (arm_attr_tag_CPU_arch): Add "v6-M" and "v6S-M".
	(arm_attr_tag_WMMX_arch): Add "WMMXv2".
	(arm_attr_tag_NEON_arch): Rename to ...
	(arm_attr_tag_Advanced_SIMD_arch): ... official name.
	(arm_attr_tag_ABI_PCS_config): Rename to ...
	(arm_attr_tag_PCS_config): ... official name.
	(arm_attr_tag_ABI_PCS_RO_DATA): Rename to ...
	(arm_attr_tag_ABI_PCS_RO_data): ... official name.
	(arm_attr_tag_ABI_FP_denormal): Add "Sign only".
	(arm_attr_tag_CPU_unaligned_access): New array.
	(arm_attr_tag_T2EE_use): New array.
	(arm_attr_tag_Virtualization_use): New array.
	(arm_attr_tag_MPextension_use): New array.
	(arm_attr_publ): NEON_arch -> Advanced_SIMD_arch.
	ABI_PCS_config -> PCS_config.
	ABI_PCS_RO_DATA -> ABI_PCS_RO_data.
	Add CPU_unaligned_access, nodefaults, also_compatible_with,
	T2EE_use, conformance, Virtualization_use and MPextension_use.
	(display_arm_attribute): Handle Tag_nodefaults and
	Tag_also_compatible_with.
@
text
@d1 4
@


1.1399
log
@opcodes/
	* ppc-dis.c (powerpc_init_dialect): Do not set PPC_OPCODE_BOOKE
	for -Mbooke.
	(print_ppc_disassembler_options): Update usage.
	* ppc-opc.c (DE, DES, DEO, DE_MASK): Remove.
	(BOOKE64): Remove.
	(PPCCHLK64): Likewise.
	(powerpc_opcodes): Remove all BOOKE64 instructions.

gas/
	* config/tc-ppc.c (parse_cpu): Remove booke64 support. Update
	usage strings.
	(ppc_setup_opcodes): Likewise, remove booke64 support.
	* doc/c-ppc.texi (PowerPC-Opts): Remove -mbooke32 and -mbooke64.
	* doc/as.texinfo (Overview): Likewise.

binutils/
	* doc/binutils.texi (objdump): Update booke documentation.
	* NEWS: Document user-visible changes to command line options.
@
text
@d1 23
@


1.1398
log
@* objdump.c (dump_reloc_set): Append "()" to symbol names which
  have the BSF_INDIRECT_FUNCTION type.
  * readelf.c (print_symbol): Fix handling of negative widths.
  (dump_relocations): Append "()" to symbol names which have the
  STT_IFUNC type. Display negative offsets as a positive number with
  a "-" prefix.
  (get_symbol_type): Return "IFUNC" for STT_IFUNC symbols.
  * doc/binutils.texi: Document 'i' symbol type.
@
text
@d1 5
@


1.1397
log
@	* strings.c (main): New variable `s'.  Have string_min parsing
	call fatal for invalid input strings.
@
text
@d1 11
@


1.1396
log
@        PR7044
        * dlltool.c (run): Use formatting string to avoid compile time
        warning.
        (gen_exp_file): Check return value from fread.
        * windmc.c (main): Check return value from fread.
@
text
@d1 5
@


1.1395
log
@2008-11-19  Sterling Augustine  <sterling@@tensilica.com>

       * MAINTAINERS: Take over from Bob Wilson as Xtensa maintainer.
@
text
@d1 8
@


1.1394
log
@Change documentation license to FDL v1.3
@
text
@d1 4
@


1.1393
log
@Add support for ARM half-precision conversion instructions.
@
text
@d1 5
@


1.1392
log
@Update copyright year in --version messages.
@
text
@d1 7
@


1.1391
log
@	* dlltool.c (identify_search_section): Cast argument, not return
	value, of xstrdup to 'char*'.
@
text
@d1 4
@


1.1390
log
@Added --identify option to dlltool.
@
text
@d1 5
@


1.1389
log
@2008-11-14  Tristan Gingold  <gingold@@adacore.com>

	Remove outdated mach-o specific tests.
	* objdump.c (load_debug_section): Remove mach-o specific test.
	(mach_o_uncompressed_dwarf_sections): Removed.
	(mach_o_compressed_dwarf_sections): Removed.
	(generic_uncompressed_dwarf_sections): Removed.
	(generic_compressed_dwarf_sections): Removed.
	(check_mach_o_dwarf): Removed.
	(dump_dwarf): Remove call to check_mach_o_dwarf.
@
text
@d1 13
@


1.1388
log
@bfd/
2008-11-14  Tristan Gingold  <gingold@@adacore.com>

	* configure.com: Handle bfd_default_target_size, BFD_HOST_LONG_LONG,
	BFD_HOST_64BIT_LONG_LONG, BFD_HOSTPTR_T, bfd_file_ptr.
	Generate bfdver.h.
	* vms-hdr.c (_bfd_vms_write_hdr): Use strdup/free instead of alloca.
	* hosts/alphavms.h: Defines macros to bypass i18n.
	* makefile.vms (OBJS): Update file list.
	(DEFS): Remove VMS_DEBUG, const, add DEBUGDIR.
	(CFLAGS): Update flags.
	* bfdio.c (real_fopen): Add code specific to VMS: extract attributes
	from modes.

binutils/
2008-11-14  Tristan Gingold  <gingold@@adacore.com>

	* configure.com: Get version from configure.in of bfd.
	* makefile.vms-in (DEBUG_OBJS): Add dwarf.obj.
	(CFLAGS): Update flags.

include/
2008-11-14  Tristan Gingold  <gingold@@adacore.com>

	* fopen-vms.h (FOPEN_RB): Use a single string to match the
	standard prototype.
	(FOPEN_WB): Ditto.
	(FOPEN_AB): Ditto.
	(FOPEN_RUB): Ditto.
	(FOPEN_WUB): Ditto.
	(FOPEN_AUB): Ditto.

libiberty/
2008-11-14  Tristan Gingold  <gingold@@adacore.com>

	* makefile.vms (OBJS): Update objects list.
	(CFLAGS): Update.
	(libiberty.olb): Remove alloca-conf.h dependency.
	* config.h-vms: Use new macro sets, use builtin alloca.

opcodes/
2008-11-14  Tristan Gingold  <gingold@@adacore.com>

	* makefile.vms (OBJS): Update list of objects.
	(DEFS): Update
	(CFLAGS): Update.
@
text
@d3 11
@


1.1387
log
@	* nm.c (filter_symbols): Only call memcpy when from != to.
@
text
@d1 6
@


1.1386
log
@	* objdump.c (disassemble_bytes): Don't skip leading zeros when
	end of section calculation overflows.
@
text
@d1 5
@


1.1385
log
@        * MAINTAINERS: Take over from Anil Paranjpe as H8300 maintainer.
@
text
@d1 6
@


1.1384
log
@	* configure.in (ALL_LINGUAS): Add id.
	* configure: Regenerate.
@
text
@d1 4
@


1.1383
log
@new file
@
text
@d4 2
@


1.1382
log
@missing changelog entry
@
text
@d1 4
@


1.1381
log
@        * readelf.c: Tidy up code formatting.
@
text
@d1 5
@


1.1380
log
@include/elf/
	* ppc.h: Add Tag_GNU_Power_ABI_Struct_Return.
bfd/
	* elf32-ppc.c (ppc_elf_merge_obj_attributes): Merge
	Tag_GNU_Power_ABI_Struct_Return.
binutils/
	* readelf.c (display_power_gnu_attribute): Decode
	Tag_GNU_Power_ABI_Struct_Return.
ld/testsuite/
	* ld-powerpc/gnu-attr-12-1.s: New file.
	* ld-powerpc/gnu-attr-12-2.s: New file.
	* ld-powerpc/gnu-attr-12-11.d: New file.
	* ld-powerpc/gnu-attr-12-21.d: New file.
	* ld-powerpc/powerpc.exp: Run new dump tests.
@
text
@d1 4
@


1.1379
log
@	* embedspu.sh: Pass -Wa,-noexecstack to $CC.
@
text
@d1 5
@


1.1378
log
@binutils/
2008-10-09  Kai Tietz  <kai.tietz@@onevision.com>

	* dlltool.c (PAGE_SIZE): Make sure it has bfd_vma type.
	(PAGE_MASK): Likewise.
	(sfunc): Change to address size of bfd_vma for base-file.
	(flush_page): Likewise.
	(gen_exp_file): Likewise.
bfd/
2008-10-09  Kai Tietz  <kai.tietz@@onevision.com>

	* cofflink.c (_bfd_coff_generic_relocate_section): Dump bfd_vma sized addresses instead of long sized.
@
text
@d1 4
@


1.1377
log
@        * readelf.c (process_section_headers): Do not cut the section names and
        types if running with --wide.

        * ld-ia64/tlsbin.rd: Update expected output now that --wide does
        not truncate section names.
        * ld-ia64/tlspic.rd: Likewise.
@
text
@d1 8
@


1.1376
log
@            * dwarf.c (display_debug_frames): Change text for uniformity.
            (process_debug_info): Likewise.
            (display_debug_aranges): Likewise.  Indent address output.
            (display_debug_pubnames): Print offset in hex.

            * binutils-all/objdump.W: Update.

            * gas/cfi/cfi-alpha-1.d, gas/cfi/cfi-alpha-3.d,
            gas/cfi/cfi-arm-1.d, gas/cfi/cfi-common-1.d,
            gas/cfi/cfi-common-2.d, gas/cfi/cfi-common-3.d,
            gas/cfi/cfi-common-4.d, gas/cfi/cfi-common-5.d,
            gas/cfi/cfi-common-6.d, gas/cfi/cfi-hppa-1.d,
            gas/cfi/cfi-i386-2.d, gas/cfi/cfi-i386.d, gas/cfi/cfi-m68k.d,
            gas/cfi/cfi-mips-1.d, gas/cfi/cfi-ppc-1.d, gas/cfi/cfi-s390-1.d,
            gas/cfi/cfi-s390x-1.d, gas/cfi/cfi-sh-1.d, gas/cfi/cfi-sparc-1.d,
            gas/cfi/cfi-sparc64-1.d, gas/cfi/cfi-x86_64.d: Update for readelf
            change.

            * ld-elf/eh1.d, ld-elf/eh2.d, ld-elf/eh3.d, ld-elf/eh4.d,
            ld-elf/eh5.d, ld-elf/eh6.d, ld-mips-elf/eh-frame1-n32.d,
            ld-mips-elf/eh-frame1-n64.d, ld-mips-elf/eh-frame2-n32.d,
            ld-mips-elf/eh-frame2-n64.d, ld-mips-elf/eh-frame3.d,
            ld-mips-elf/eh-frame4.d: Update for readelf change.
@
text
@d1 5
@


1.1375
log
@        PR 6934
        * stabs.c (parse_stab_string): Parse and ignore =Y<name> strings
        generated by the SUNPro C++ compiler.
@
text
@d1 7
@


1.1374
log
@  PR 6922
   * stabs.c (parse_stab_sun_builtin_type): Parse, but ignore SUN's
   'b' and 'v' extensions.
@
text
@d1 6
@


1.1373
log
@	* configure: Regenerate for new libtool.
	* aclocal.m4: Ditto.
	* Makefile.in: Ditto.
	* doc/Makefile.in: Ditto.
@
text
@d1 6
@


1.1372
log
@	* objcopy.c (setup_section): Set elf_group_id.
@
text
@d1 8
@


1.1371
log
@include/
	* elf/dwarf2.h (DW_OP_GNU_encoded_addr): New.
binutils/
	* dwarf.c (size_of_encoded_value, get_encoded_value): Move up.
	(decode_location_expression): Add section parameter.  Handle
	DW_OP_GNU_encoded_addr.
	(read_and_display_attr_value): Update decode_location_expression call.
	(display_debug_loc, display_debug_frames): Likewise.
gas/
        * dw2gencfi.c (DWARF2_ADDR_SIZE): Provide default.
        (struct cfi_insn_data): Add ea member.
        (CFI_val_encoded_addr, dot_cfi_val_encoded_addr): New.
        (output_cfi_insn): Handle CFI_val_encoded_addr.
        (select_cie_for_fde): Don't match CFI_val_encoded_addr.
        * doc/as.texinfo (.cfi_val_encoded_addr): Document.
@
text
@d1 4
@


1.1370
log
@	PR 6913
	* dwarf.c (print_dwarf_vma): Don't call printf without format string.
@
text
@d1 8
@


1.1369
log
@bfd/
	PR 6893 - Do not consider FDEs for discarded sections as invalid.
	* elf-eh-frame.c (_bfd_elf_parse_eh_frame): New REQUIRE_CLEARED_RELOCS.
	Consider FDEs with cleared relocations as valid and ignorable.

ld/testsuite/
	* ld-elf/eh-group.exp, ld-elf/eh-group1.s, ld-elf/eh-group2.s: New test.

binutils/
	Suppress warnings on NONE relocations to discarded sections.
	* readelf.c (is_none_reloc): New function.
	(debug_apply_relocations): Ignore is_none_reloc() relocations.
@
text
@d1 5
@


1.1368
log
@bfd/
	Fix loading large elf64 binaries on 32bit hosts.
	* configure.in: Call AC_SYS_LARGEFILE.
	* config.in: Regenerate.
	* configure: Regenerate.

binutils/
	Fix loading large elf64 binaries on 32bit hosts.
	* configure.in: Call AC_SYS_LARGEFILE.
	* config.in: Regenerate.
	* configure: Regenerate.

gas/
	* configure.in: Call AC_SYS_LARGEFILE.
	* config.in: Regenerate.
	* configure: Regenerate.

gprof/
	* configure.in: Call AC_SYS_LARGEFILE.
	* gconfig.in: Regenerate.
	* configure: Regenerate.

ld/
	* configure.in: Call AC_SYS_LARGEFILE.
	* config.in: Regenerate.
	* configure: Regenerate.

libiberty/
	* configure.in: Call AC_SYS_LARGEFILE.
	* config.in: Regenerate.
	* configure: Regenerate.
@
text
@d1 6
@


1.1367
log
@Updated translation versions
@
text
@d1 7
@


1.1366
log
@2008-09-08  Tristan Gingold  <gingold@@adacore.com>

        * BRANCHES: Add 2.18 and 2.19 release branches.
@
text
@d1 4
@


1.1365
log
@ld/
2008-09-08  Tristan Gingold  <gingold@@adacore.com>

	* NEWS: Add a marker for the 2.19 features.
gas/
2008-09-08  Tristan Gingold  <gingold@@adacore.com>

	* NEWS: Add a marker for the 2.19 features.

binutils/
2008-09-08  Tristan Gingold  <gingold@@adacore.com>

	* NEWS: Add a marker for the 2.19 features.
@
text
@d3 4
@


1.1365.2.1
log
@Regenerate makefile dependencies and .pot files.
@
text
@a0 4
2008-09-09  Alan Modra  <amodra@@bigpond.net.au>

	* po/binutils.pot: Regenerate.

@


1.1365.2.2
log
@Updated translation versions
@
text
@a0 4
2008-09-11  Alan Modra  <amodra@@bigpond.net.au>

	* po/sv.po: Update.

@


1.1365.2.3
log
@bfd/
	PR 6893 - Do not consider FDEs for discarded sections as invalid.
	* elf-eh-frame.c (_bfd_elf_parse_eh_frame): New REQUIRE_CLEARED_RELOCS.
	Consider FDEs with cleared relocations as valid and ignorable.

ld/testsuite/
	* ld-elf/eh-group.exp, ld-elf/eh-group1.s, ld-elf/eh-group2.s: New test.

binutils/
	Suppress warnings on NONE relocations to discarded sections.
	* readelf.c (is_none_reloc): New function.
	(debug_apply_relocations): Ignore is_none_reloc() relocations.
@
text
@a0 6
2008-09-17  Jan Kratochvil  <jan.kratochvil@@redhat.com>

	Suppress warnings on NONE relocations to discarded sections.
	* readelf.c (is_none_reloc): New function.
	(debug_apply_relocations): Ignore is_none_reloc() relocations.

@


1.1365.2.4
log
@	PR 6913
	* dwarf.c (print_dwarf_vma): Don't call printf without format string.
@
text
@a0 5
2008-09-25  Alan Modra  <amodra@@bigpond.net.au>

	PR 6913
	* dwarf.c (print_dwarf_vma): Don't call printf without format string.

@


1.1365.2.5
log
@include/
        * elf/dwarf2.h (DW_OP_GNU_encoded_addr): New.
binutils/
        * dwarf.c (size_of_encoded_value, get_encoded_value): Move up.
        (decode_location_expression): Add section parameter.  Handle
        DW_OP_GNU_encoded_addr.
        (read_and_display_attr_value): Update decode_location_expression call.
        (display_debug_loc, display_debug_frames): Likewise.
gas/
        * dw2gencfi.c (DWARF2_ADDR_SIZE): Provide default.
        (struct cfi_insn_data): Add ea member.
        (CFI_val_encoded_addr, dot_cfi_val_encoded_addr): New.
        (output_cfi_insn): Handle CFI_val_encoded_addr.
        (select_cie_for_fde): Don't match CFI_val_encoded_addr.
        * doc/as.texinfo (.cfi_val_encoded_addr): Document.
@
text
@a0 8
2008-09-25  Richard Henderson  <rth@@redhat.com>

	* dwarf.c (size_of_encoded_value, get_encoded_value): Move up.
	(decode_location_expression): Add section parameter.  Handle
	DW_OP_GNU_encoded_addr.
	(read_and_display_attr_value): Update decode_location_expression call.
	(display_debug_loc, display_debug_frames): Likewise.

@


1.1365.2.6
log
@        PR 7044
        * dlltool.c (run): Use formatting string to avoid compile time
        warning.
        (gen_exp_file): Check return value from fread.
        * windmc.c (main): Check return value from fread.
@
text
@a0 8
2008-12-01  Nick Clifton  <nickc@@redhat.com>

	PR 7044
	* dlltool.c (run): Use formatting string to avoid compile time
	warning.
	(gen_exp_file): Check return value from fread.
	* windmc.c (main): Check return value from fread.

@


1.1365.2.7
log
@        * windmc.c (main): Use correct type for file length.
        * dlltool.c (gen_exp_file): Likewise.
@
text
@a0 5
2008-12-23  Nick Clifton  <nickc@@redhat.com>

	* windmc.c (main): Use correct type for file length.
	* dlltool.c (gen_exp_file): Likewise.

@


1.1365.2.8
log
@backport 2008-09-28  Alan Modra  <amodra@@bigpond.net.au>
@
text
@a0 5
2009-03-02  Alan Modra  <amodra@@bigpond.net.au>

	2008-09-28  Alan Modra  <amodra@@bigpond.net.au>
	* objcopy.c (setup_section): Set elf_group_id.

@


1.1365.2.9
log
@backport 2008-10-10  Nathan Froyd  <froydnj@@codesourcery.com>
@
text
@a2 4
	2008-10-10  Nathan Froyd  <froydnj@@codesourcery.com>
	* readelf.c (display_power_gnu_attribute): Decode
	Tag_GNU_Power_ABI_Struct_Return.

@


1.1365.2.10
log
@backport 2008-12-04  Ben Elliston  <bje@@au.ibm.com>
@
text
@a2 4
	2008-12-04  Ben Elliston  <bje@@au.ibm.com>
	* doc/binutils.texi (objdump): Update booke documentation.
	* NEWS: Document user-visible changes to command line options.

@


1.1364
log
@	* readelf.c (load_specific_debug_section): New function, from
	load_debug_section.
	(load_debug_section): Use load_specific_debug_section.
	(display_debug_section): Use load_specific_debug_section.  Check for
	multiple sections with the same name.
@
text
@d1 4
@


1.1363
log
@2008-08-28  Tristan Gingold  <gingold@@adacore.com>

	* objdump.c (dump_stabs): Add sections for Darwin.
@
text
@d1 8
@


1.1362
log
@	* sysdep.h: Include "binary-io.h".
	(O_BINARY): Don't define here.
	* bin2c.c (O_BINARY, O_TEXT, SET_BINARY): Don't define here.
	* strings.c: Likewise.
	(main): Remove #ifdef SET_BINARY.
	* Makefile.am: Run "make dep-am"
	* Makefile.in: Regenerate.
@
text
@d1 4
@


1.1361
log
@Update a number of obsolete autoconf macros.
@
text
@d1 10
@


1.1360
log
@        * readelf.c (is_32bit_pcrel_reloc): Fix hppa entry.
        (is_64bit_pcrel_reloc): New.
        (debug_apply_relocations): Use it.  Handle hppa pcrel bias.
@
text
@d1 6
@


1.1359
log
@	PR 6526
	* configure.in: Invoke AC_USE_SYSTEM_EXTENSIONS.
@
text
@d1 6
@


1.1358
log
@	PR 6615
	* rename.c (smart_rename): Punctuate error messages.
@
text
@d1 10
@


1.1357
log
@2008-08-08  Richard Sandiford  <rdsandiford@@googlemail.com>
	    Daniel Jacobowitz  <dan@@codesourcery.com>
	    Catherine Moore  <clm@@codesourcery.com>
	    Mark Shinwell  <shinwell@@codesourcery.com>
	    Maxim Kuvyrkov  <maxim@@codesourcery.com>

	* elf32-mips.c (mips_vxworks_copy_howto_rela): Replace with...
	(elf_mips_copy_howto): ...this howto.  Clear the size fields.
	(mips_vxworks_jump_slot_howto_rela): Replace with...
	(elf_mips_jump_slot_howto): ...this howto.
	(bfd_elf32_bfd_reloc_type_lookup): Handle BFD_RELOC_MIPS_COPY
	and BFD_RELOC_MIPS_JUMP_SLOT.
	(bfd_elf32_bfd_reloc_name_lookup): Handle "R_MIPS_COPY" and
	"R_MIPS_JUMP_SLOT".
	(mips_elf32_rtype_to_howto): Handle R_MIPS_COPY and R_MIPS_JUMP_SLOT.
	(elf_backend_plt_readonly): Define.
	(elf_backend_plt_sym_val): Define for non-VxWorks targets.
	(mips_vxworks_bfd_reloc_type_lookup): Delete.
	(mips_vxworks_bfd_reloc_name_lookup): Likewise.
	(mips_vxworks_rtype_to_howto): Likewise.
	(elf_backend_want_dynbss): Don't define for VxWorks.
	(elf_backend_plt_readonly): Likewise.
	(bfd_elf32_bfd_reloc_type_lookup): Likewise.
	(bfd_elf32_bfd_reloc_name_lookup): Likewise.
	(elf_backend_mips_rtype_to_howto): Likewise.
	(elf_backend_adjust_dynamic_symbol): Likewise.
	(elf_backend_got_symbol_offset): Don't define.
	* elfn32-mips.c (elf_mips_copy_howto, elf_mips_jump_slot_howto): New.
	(bfd_elf32_bfd_reloc_type_lookup): Handle BFD_RELOC_MIPS_COPY
	and BFD_RELOC_MIPS_JUMP_SLOT.
	(bfd_elf32_bfd_reloc_name_lookup): Handle "R_MIPS_COPY" and
	"R_MIPS_JUMP_SLOT".
	(mips_elf32_n32_rtype_to_howto): Handle R_MIPS_COPY and
	R_MIPS_JUMP_SLOT.
	(elf_backend_rela_plts_and_copies_p, elf_backend_plt_readonly)
	(elf_backend_plt_sym_val): Define.
	* elf64-mips.c (elf_mips_copy_howto, elf_mips_jump_slot_howto): New.
	(bfd_elf64_bfd_reloc_type_lookup): Handle BFD_RELOC_MIPS_COPY
	and BFD_RELOC_MIPS_JUMP_SLOT.
	(bfd_elf64_bfd_reloc_name_lookup): Handle "R_MIPS_COPY" and
	"R_MIPS_JUMP_SLOT".
	(mips_elf64_rtype_to_howto): Handle R_MIPS_COPY and R_MIPS_JUMP_SLOT.
	(elf_backend_rela_plts_and_copies_p, elf_backend_plt_readonly)
	(elf_backend_plt_sym_val): Define.
	* elfxx-mips.h (_bfd_mips_vxworks_adjust_dynamic_symbol): Delete.
	(_bfd_mips_elf_use_plts_and_copy_relocs, _bfd_mips_elf_init_stubs)
	(_bfd_mips_elf_plt_sym_val, _bfd_mips_post_process_headers): Declare.
	* elfxx-mips.c (mips_elf_la25_stub): New structure.
	(LA25_LUI, LA25_J, LA25_ADDIU): New macros.
	(mips_elf_link_hash_entry): Add "la25_stubs", "has_static_relocs"
	and "has_nonpic_branches" fields.  Remove "is_relocation_target" and
	"is_branch_target".
	(mips_elf_link_hash_table): Add blank lines.  Add
	"use_plts_and_copy_relocs", "reserved_gotno", "strampoline",
	"la25_stubs" and "add_stub_section" fields.
	(mips_htab_traverse_info): New structure.
	(PIC_OBJECT_P, MIPS_ELF_LOAD_WORD): New macros.
	(MIPS_RESERVED_GOTNO): Delete.
	(mips_o32_exec_plt0_entry, mips_n32_exec_plt0_entry)
	(mips_n64_exec_plt0_entry, mips_exec_plt_entry): New tables.
	(mips_elf_link_hash_newfunc): Update after the changes to
	mips_elf_link_hash_entry.
	(mips_elf_check_mips16_stubs): Replace the DATA parameter with
	an INFO parameter.  Don't look through warnings symbols here;
	do it in mips_elf_check_symbols instead.
	(mips_elf_create_stub_symbol): New function.
	(mips_elf_la25_stub_hash, mips_elf_la25_stub_eq): New functions.
	(_bfd_mips_elf_init_stubs, mips_elf_local_pic_function_p): Likewise.
	(mips_elf_add_la25_intro, mips_elf_add_la25_trampoline): Likewise.
	(mips_elf_add_la25_stub, mips_elf_check_symbols): New functions.
	(mips_elf_gotplt_index): Check for VxWorks.
	(mips_elf_output_dynamic_relocation): Take the relocation index
	as an extra parameter.  Do not increment reloc_count here.
	(mips_elf_initialize_tls_slots): Update the calls to
	mips_elf_output_dynamic_relocation accordingly.
	(mips_elf_multi_got): Use htab->reserved_gotno instead of
	MIPS_RESERVED_GOTNO.
	(mips_elf_create_got_section): Don't allocate reserved GOT
	entries here.  Unconditionally create .got.plt, but don't
	set its alignment here.
	(mips_elf_relocation_needs_la25_stub): New function.
	(mips_elf_calculate_relocation): Redirect branches and jumps to
	a non-PIC stub if one exists.  Check !h->has_static_relocs instead
	of !htab->is_vxworks when deciding whether to create dynamic
	relocations for R_MIPS_32, R_MIPS_REL32 and R_MIPS_64.
	(_bfd_mips_elf_create_dynamic_sections): Unconditionally call
	_bfd_elf_create_dynamic_sections.  Unconditionally set up
	htab->splt and htab->sdynbss.  Set htab->srelplt to ".rel.plt"
	if !htab->is_vxworks.  Add non-VxWorks values of
	htab->plt_header_size and htab->plt_entry_size.
	(_bfd_mips_elf_check_relocs): Set pointer_equality_needed for
	non-branch static relocations.  Set has_nonpic_branches when an la25
	stub might be required.  Set can_make_dynamic_p to TRUE if R_MIPS_32,
	R_MIPS_REL32 and R_MIPS_64 relocations can be made dynamic,
	rather than duplicating the condition.  Do not make them dynamic
	for read-only sections in non-PIC executable objects.
	Do not protect this code with dynobj == NULL || htab->sgot == NULL;
	handle each group of cases separately.  Add a default case that
	sets has_static_relocs for non-GOT relocations that cannot be
	made dynamic.  Don't set is_relocation_target and is_branch_target.
	Reject non-PIC static relocations in shared objects.
	(_bfd_mips_vxworks_adjust_dynamic_symbol): Fold into...
	(_bfd_mips_elf_adjust_dynamic_symbol): ...here, using
	htab->use_plts_and_copy_relocs instead of htab->is_vxworks
	to select PLT and copy-reloc handling.  Set the alignment of
	.plt and .got.plt when allocating the first entry.  Generalize
	code to handle REL as well as RELA sections and 64-bit as well as
	32-bit GOT entries.  Complain if we find a static-only reloc
	against an externally-defined symbol and if we cannot create
	dynamic relocations for it.  Allocate copy relocs using
	mips_elf_allocate_dynamic_relocations on non-VxWorks targets.
	Set possibly_dynamic_relocs to 0 when using PLTs or copy relocs.
	Skip reserved .got.plt entries.
	(_bfd_mips_elf_always_size_sections): Use mips_elf_check_symbols
	instead of mips_elf_check_mips16_stubs to process each symbol.
	Do the traversal for relocatable objects too.
	(mips_elf_lay_out_got): Use htab->reserved_gotno instead of
	MIPS_RESERVED_GOTNO.
	(_bfd_mips_elf_size_dynamic_sections): Exclude sdynbss if it
	is empty.  Extend the DT_PLTREL, DT_JMPREL and DT_PLTRELSZ handling
	to non-VxWorks targets.  Only add DT_REL{,A}, DT_REL{,A}SZ and
	DT_REL{,A}ENT if .rel.dyn is nonempty.  Create a symbol for the
	PLT.  Allocate a nop at the end of the PLT.  Allocate DT_MIPS_PLTGOT.
	(mips_elf_create_la25_stub_info): New function.
	(_bfd_mips_elf_finish_dynamic_symbol): Write out PLT entries
	and copy relocs where necessary.  Check pointer_equality_needed.
	(mips_finish_exec_plt): New function.
	(_bfd_mips_elf_finish_dynamic_sections): Always set DT_PLTGOT
	to the beginning of htab->sgot.  Use htab->reserved_gotno instead
	of MIPS_RESERVED_GOTNO.  Assert htab->use_plts_and_copy_relocs
	instead of htab->is_vxworks for DT_PLTREL, DT_PLTRELSZ and DT_JMPREL.
	Set DT_PLTREL to DT_REL instead of DT_RELA on non-VxWorks targets.
	Use mips_finish_exec_plt to create non-VxWorks PLT headers.  Set
	DT_MIPS_PLTGOT.
	(_bfd_mips_elf_copy_indirect_symbol): Copy has_static_relocs
	from the indirect symbol to the direct symbol.  Also copy
	has_nonpic_branches for indirect symbols.
	(_bfd_mips_elf_get_target_dtag): Handle DT_MIPS_PLTGOT and
	DT_MIPS_RWPLT.
	(_bfd_mips_elf_link_hash_table_create): Initialize the new
	mips_elf_link_hash_table fields.
	(_bfd_mips_vxworks_link_hash_table_create): Set
	use_plts_and_copy_relocs to TRUE.  Use TRUE rather than 1
	when setting is_vxworks.
	(_bfd_mips_elf_use_plts_and_copy_relocs): New function.
	(_bfd_mips_elf_final_link): Call mips_elf_create_la25_stub for
	each la25_stub.
	(_bfd_mips_elf_merge_private_bfd_data): Treat dynamic objects
	as PIC.  Generalize message about linking PIC and non-PIC.
	(_bfd_mips_elf_plt_sym_val, _bfd_mips_post_process_headers): New
	functions.
	* reloc.c: Update comment near BFD_RELOC_MIPS_JUMP_SLOT.
	* bfd-in2.h: Regenerated.

2008-08-08  Richard Sandiford  <rdsandiford@@googlemail.com>
	    Daniel Jacobowitz  <dan@@codesourcery.com>
	    Catherine Moore  <clm@@codesourcery.com>
	    Mark Shinwell  <shinwell@@codesourcery.com>

	* readelf.c (get_mips_symbol_other): Handle STO_MIPS_PLT and
	STO_MIPS_PIC.
	(slurp_rela_relocs, slurp_rel_relocs): Handle MIPS ELF64 here.
	(dump_relocations, debug_apply_relocations): Don't handle it here.
	(get_mips_dynamic_type): Handle DT_MIPS_PLTGOT and DT_MIPS_RWPLT.
	(print_mips_pltgot_entry): New function.
	(process_mips_specific): Dump the PLT GOT.

2008-08-08  Richard Sandiford  <rdsandiford@@googlemail.com>
	    Daniel Jacobowitz  <dan@@codesourcery.com>

	* config/tc-mips.c (OPTION_CALL_NONPIC): New macro.
	(OPTION_NON_SHARED, OPTION_XGOT, OPTION_MABI, OPTION_32)
	(OPTION_N32, OPTION_64, OPTION_MDEBUG, OPTION_NO_MDEBUG)
	(OPTION_PDR, OPTION_NO_PDR, OPTION_MVXWORKS_PIC): Bump by 1.
	(md_longopts): Add -call_nonpic.
	(md_parse_option): Handle OPTION_CALL_NONPIC.
	(md_show_usage): Add -call_nonpic.

2008-08-08  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/call-nonpic-1.s, gas/mips/call-nonpic-1.d: New test.
	* gas/mips/mips.exp: Run it.

2008-08-08  Richard Sandiford  <rdsandiford@@googlemail.com>
	    Daniel Jacobowitz  <dan@@codesourcery.com>
	    Catherine Moore  <clm@@codesourcery.com>
	    Mark Shinwell  <shinwell@@codesourcery.com>

	* mips.h (STO_MIPS_PLT, ELF_ST_IS_MIPS_PLT, ELF_ST_SET_MIPS_PLT)
	(STO_MIPS_PIC, DT_MIPS_PLTGOT, DT_MIPS_RWPLT): New macros.

2008-08-08  Richard Sandiford  <rdsandiford@@googlemail.com>
	    Daniel Jacobowitz  <dan@@codesourcery.com>

	* emulparams/elf32bmip.sh (GOT): Define, moving .got.plt to...
	(OTHER_RELRO_SECTIONS, OTHER_READWRITE_SECTIONS): ...one of these
	two variables.
	* emulparams/elf32bmipn32-defs.sh: Likewise.
	* emultempl/mipself.em: Include ldctor.h, elf/mips.h and elfxx-mips.h.
	(is_mips_elf): New macro.
	(stub_file, stub_bfd): New variables.
	(hook_stub_info): New structure.
	(hook_in_stub): New function.
	(mips_add_stub_section): Likewise.
	(mips_create_output_section_statements): Likewise.
	(mips_before_allocation): Likewise.
	(real_func): New variable.
	(mips_for_each_input_file_wrapper): New function.
	(mips_lang_for_each_input_file): Likewise.
	(lang_for_each_input_file): Define.
	(LDEMUL_BEFORE_ALLOCATION): Likewise.
	(LDEMUL_CREATE_OUTPUT_SECTION_STATEMENTS): Likewise.

2008-08-08  Richard Sandiford  <rdsandiford@@googlemail.com>
	    Daniel Jacobowitz  <dan@@codesourcery.com>

	* ld-mips-elf/mips16-pic-3a.s,
	ld-mips-elf/mips16-pic-3b.s,
	ld-mips-elf/mips16-pic-3.dd,
	ld-mips-elf/mips16-pic-3.gd,
	ld-mips-elf/mips16-pic-3.rd,
	ld-mips-elf/mips16-pic-3.inc,
	ld-mips-elf/pic-and-nonpic-1a.s,
	ld-mips-elf/pic-and-nonpic-1b.s,
	ld-mips-elf/pic-and-nonpic-1.ld,
	ld-mips-elf/pic-and-nonpic-1.dd,
	ld-mips-elf/pic-and-nonpic-1.nd,
	ld-mips-elf/pic-and-nonpic-1-rel.dd,
	ld-mips-elf/pic-and-nonpic-1-rel.nd,
	ld-mips-elf/pic-and-nonpic-2a.s,
	ld-mips-elf/pic-and-nonpic-2b.s,
	ld-mips-elf/pic-and-nonpic-2.d,
	ld-mips-elf/pic-and-nonpic-3a.s,
	ld-mips-elf/pic-and-nonpic-3a.ld,
	ld-mips-elf/pic-and-nonpic-3a.dd,
	ld-mips-elf/pic-and-nonpic-3a.gd,
	ld-mips-elf/pic-and-nonpic-3a.sd,
	ld-mips-elf/pic-and-nonpic-3b.s,
	ld-mips-elf/pic-and-nonpic-3b.ld,
	ld-mips-elf/pic-and-nonpic-3b.ad,
	ld-mips-elf/pic-and-nonpic-3b.dd,
	ld-mips-elf/pic-and-nonpic-3b.gd,
	ld-mips-elf/pic-and-nonpic-3b.nd,
	ld-mips-elf/pic-and-nonpic-3b.pd,
	ld-mips-elf/pic-and-nonpic-3b.rd,
	ld-mips-elf/pic-and-nonpic-3b.sd,
	ld-mips-elf/pic-and-nonpic-3-error.d,
	ld-mips-elf/pic-and-nonpic-4a.s,
	ld-mips-elf/pic-and-nonpic-4b.s,
	ld-mips-elf/pic-and-nonpic-4b.ld,
	ld-mips-elf/pic-and-nonpic-4b.ad,
	ld-mips-elf/pic-and-nonpic-4b.dd,
	ld-mips-elf/pic-and-nonpic-4b.gd,
	ld-mips-elf/pic-and-nonpic-4b.nd,
	ld-mips-elf/pic-and-nonpic-4b.rd,
	ld-mips-elf/pic-and-nonpic-4b.sd,
	ld-mips-elf/pic-and-nonpic-4-error.d,
	ld-mips-elf/pic-and-nonpic-5a.s,
	ld-mips-elf/pic-and-nonpic-5b.s,
	ld-mips-elf/pic-and-nonpic-5b.ld,
	ld-mips-elf/pic-and-nonpic-5b.ad,
	ld-mips-elf/pic-and-nonpic-5b.dd,
	ld-mips-elf/pic-and-nonpic-5b.gd,
	ld-mips-elf/pic-and-nonpic-5b.nd,
	ld-mips-elf/pic-and-nonpic-5b.rd,
	ld-mips-elf/pic-and-nonpic-5b.sd,
	ld-mips-elf/pic-and-nonpic-5b.pd,
	ld-mips-elf/pic-and-nonpic-6.ld,
	ld-mips-elf/pic-and-nonpic-6-o32a.s,
	ld-mips-elf/pic-and-nonpic-6-o32b.s,
	ld-mips-elf/pic-and-nonpic-6-o32c.s,
	ld-mips-elf/pic-and-nonpic-6-o32.ad,
	ld-mips-elf/pic-and-nonpic-6-o32.dd,
	ld-mips-elf/pic-and-nonpic-6-o32.gd,
	ld-mips-elf/pic-and-nonpic-6-o32.nd,
	ld-mips-elf/pic-and-nonpic-6-o32.pd,
	ld-mips-elf/pic-and-nonpic-6-o32.rd,
	ld-mips-elf/pic-and-nonpic-6-o32.sd,
	ld-mips-elf/pic-and-nonpic-6-n32a.s,
	ld-mips-elf/pic-and-nonpic-6-n32b.s,
	ld-mips-elf/pic-and-nonpic-6-n32c.s,
	ld-mips-elf/pic-and-nonpic-6-n32.ad,
	ld-mips-elf/pic-and-nonpic-6-n32.dd,
	ld-mips-elf/pic-and-nonpic-6-n32.gd,
	ld-mips-elf/pic-and-nonpic-6-n32.nd,
	ld-mips-elf/pic-and-nonpic-6-n32.pd,
	ld-mips-elf/pic-and-nonpic-6-n32.rd,
	ld-mips-elf/pic-and-nonpic-6-n32.sd,
	ld-mips-elf/pic-and-nonpic-6-n64a.s,
	ld-mips-elf/pic-and-nonpic-6-n64b.s,
	ld-mips-elf/pic-and-nonpic-6-n64c.s,
	ld-mips-elf/pic-and-nonpic-6-n64.ad,
	ld-mips-elf/pic-and-nonpic-6-n64.dd,
	ld-mips-elf/pic-and-nonpic-6-n64.gd,
	ld-mips-elf/pic-and-nonpic-6-n64.nd,
	ld-mips-elf/pic-and-nonpic-6-n64.pd,
	ld-mips-elf/pic-and-nonpic-6-n64.rd,
	ld-mips-elf/pic-and-nonpic-6-n64.sd: New tests.
	* ld-mips-elf/mips-elf.exp: Run them.
@
text
@d1 5
@


1.1356
log
@	* readelf.c (is_64bit_abs_reloc): Return true for R_MIPS_64.
@
text
@d1 13
@


1.1355
log
@add pr number
@
text
@d1 4
@


1.1354
log
@binutils/
	* objcopy.c (copy_object): Don't setup_bfd_headers when extract_symbol.
	(setup_section): Don't zero vma and lma when extract_symbol.
	(copy_section): Discard relocations when extract_symbol.
	* doc/binutils.texi: Update --extract-symbol description.
ld/testsuite/
	* ld-elf/extract-symbol-1sec.d: Update.
@
text
@d3 1
@


1.1353
log
@Set LC_ALL=C rather than unsetting LC_COLLATE for sort.
@
text
@d1 7
@


1.1352
log
@	* readelf.c (get_osabi_name <ELFOSABI_AROS>): Change name.
@
text
@d1 5
@


1.1351
log
@binutils/

2008-08-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* dwarf.c (dwarf_regnames_i386): Remove AVX registers.
	(dwarf_regnames_x86_64): Likewise.

gas/testsuite/

2008-08-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/cfi/cfi-i386.s: Remove tests for AVX register maps.
	* gas/cfi/cfi-x86_64.s: Likewise.

	* gas/cfi/cfi-i386.d: Updated.
	* gas/cfi/cfi-x86_64.d: Likewise.

opcodes/

2008-08-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-reg.tbl: Use Dw2Inval on AVX registers.
	* i386-tbl.h: Regenerated.
@
text
@d1 4
@


1.1350
log
@Silence gcc printf warnings
@
text
@d1 5
@


1.1349
log
@	* readelf.c (print_vma): Typo fix.
@
text
@d1 5
@


1.1348
log
@bfd/
	PR 6769
	* bfd-in.h (BFD_VMA_FMT): Define.
	(printf_vma, sprintf_vma): Use the above.
	(_bfd_int64_low, _bfd_int64_high): Delete.
	* bfd-in2.h: Regenerate.
binutils/
	PR 6769
	* readelf.c (print_dec_vma, print_hex_vma): Delete.
	(print_vma): Use BFD_VMA_FMT.
	* size.c (size_number, rprint_number): Likewise.
@
text
@d3 4
@


1.1347
log
@missed from last commit
@
text
@d1 7
@


1.1346
log
@	* bfd/elf-bfd.h: Declare elfcore_write_ppc_vsx.
	* bfd/elf.c (elfcore_grok_ppc_vsx): New function.
	(elfcore_write_ppc_vsx): New function
	(elfcore_grok_note): Handle VSX notes.
	(elfcore_write_register_note): Handle VSX notes.
	* include/elf/common.h: Define NT_PPC_VSX.
	* binutils/readelf.c (get_note_type): Handle VSX notes.
@
text
@d1 5
@


1.1345
log
@2008-07-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* objdump.c (load_debug_section): Initialize section_is_compressed
	for gcc 3.4/ia64.
	* readelf.c (load_debug_section): Likewise.
@
text
@d1 4
@


1.1344
log
@Revert my last change since it has not been approved.
@
text
@d1 6
@


1.1343
log
@	bfd/
	* elf.c (_bfd_elf_map_sections_to_segments): Don't put
	executable sections into the same segment with other
	read only sections if --sep-code.
	* elf32-bfin.c (elf32_bfin_code_in_l1): New variable.
	(elf32_bfin_data_in_l1): New variable.
	(elf32_bfin_final_write_processing): New.
	(elf32_bfin_special_sections[]): New.
	(elf_backend_final_write_processing): Define.
	(elf_backend_special_sections): Define.

	binutils/
	* readelf.c (get_machine_flags): Deal with Blackfin specific
	flags.

	include/
	* bfdlink.h (struct bfd_link_info): Add sep_code member
	variable.
	* elf/bfin.h (EF_BFIN_CODE_IN_L1): Define.
	(EF_BFIN_DATA_IN_L1): Define.

	ld/
	* Makefile.am (eelf32bfin.c): Depend on bfin.em.
	(eelf32bfinfd.c): Likewise.
	* Makefile.in: Regenerate.
	* gen-doc.texi: Set Blackfin.
	* ld.texinfo: Document --sep-code and Blackfin specific
	options.
	* ldmain.c (main): Initialize link_info.sep_code.
	* lexsup.c (enum option_values): Add OPTION_SEP_CODE.
	(ld_options[]): Add --sep-code.
	(parse_args): Deal with --sep-code.
	* emulparams/bfin.sh (EXTRA_EM_FILE): Define.
	* emulparams/elf32bfinfd.sh (OTHER_SECTIONS): Define.
	* emultempl/bfin.em: New file.
@
text
@d3 7
@


1.1342
log
@bfd/
	* Makefile.am (BFD32_LIBS): Add compress.lo.
	(BFD32_LIBS_CFILES): Add compress.c.
	(BFD_H_FILES): Likewise.
	* Makefile.in: Regenerate.
	* bfd-in2.h: Regenerate.
	* config.in: Add HAVE_ZLIB_H
	* configure.in: Add test for libz and zlib.h
	* configure: Regenerate.
	* dwarf2.c (read_section): New function.
	(read_indirect_string): Call new function read_section.
	(read_abbrevs): Likewise.
	(decode_line_info): Likewise.
	(read_debug_ranges): Likewise.
	(find_line): Call new function read_section when just one
	.zdebug_info section is found, otherwise read and compress
	multiple sections.
	(_bfd_dwarf2_cleanup_debug_info): Free sec_info_ptr.
	* elf.c (_bfd_elf_make_section_from_shdr): Add zdebug prefix.
	(special_sections_z): New struct.
	(special_sections): Refer to special_sections_z.
	* elfxx-mips.c (_bfd_mips_elf_section_from_shdr): Recognize
	sections named .zdebug_*.
	(_bfd_mips_elf_fake_sections): Likewise.
	* compress.c: New file.
	(bfd_uncompress_section_contents): New function.
bfd/doc/
	* Makefile.am (BFD_H_DEP): Add ../compress.c.
	* Makefile.in: Regenerate.
binutils/
	* config.in: Add HAVE_ZLIB_H
	* configure.in: Add test for libz and zlib.h
	* configure: Regenerate.
	* dwarf.c (debug_displays): Add .zdebug_* strings.
	* dwarf.h (struct dwarf_section): Add fields uncompressed_namd
	and compressed_name.
	* objdump.c (load_debug_section): Call
	bfd_uncompress_section_contents when loading a compressed
	section.
	(dump_dwarf_section): Recognize compressed section name.
	(mach_o_dwarf_sections): Rename as
	mach_o_uncompressed_dwarf_sections.
	(mach_o_compressed_dwarf_sections): New variable.
	(generic_dwarf_section): Rename as
	generic_uncompressed_dwarf_sections.
	(generic_compressed_dwarf_sections): New variable.
	(check_mach_o_dwarf): Save and restore
	mach_o_compressed_dwarf_sections.
	* readelf.c: Add #include for config.h and zlib.h
	(process_section_headers): Recognize compressed section name.
	(uncompress_section_contents): New function.
	(load_debug_section): Call uncompress_section_contents when
	loading a compressed section.
	(display_debug_section): Recognize compressed section name.
binutils/testsuite:
	* binutils-all/objdump.exp: Add test for objdump -s on a file
	with a compressed debug section.  Add test for objdump -W on a
	file that contains a compressed debug section.
	* binutils-all/readelf.exp: Call readelf_compressed_wa_test.
	(readelf_compressed_wa_test): New function.
	* binutils-all/dw2-compressed.S: New file.
	* binutils-all/objdump.W: New file.
	* binutils-all/objdump.s: New file.
	* binutils-all/readelf.wa: New file.
@
text
@d1 5
@


1.1341
log
@	* objdump.c (find_symbol_for_address): Prefer symbols in current
	section.
@
text
@d1 27
@


1.1340
log
@	* ieee.c (write_ieee_debugging_info): Use bfd_make_section_with_flags.
	* nlmconv.c (main, powerpc_build_stubs): Likewise.
	* rescoff.c (write_coff_file): Likewise.
	* resres.c (write_res_file): Likewise.
	* windmc.c (windmc_write_bin): Likewise.
@
text
@d3 5
@


1.1339
log
@

 Updated the readelf with Add EM_CR16_OLD.
@
text
@d1 8
@


1.1338
log
@	* configure: Regenerate.

config/
	* override.m4: Use m4_version_prereq throughout.
	(_AC_ARG_VAR_VALIDATE, AC_MSG_FAILURE): Backport from git
	Autoconf: output pwd along with fatal errors, so the right
	config.log file is hinted at more prominently.
	(PARSE_ARGS): Push setting of ac_pwd in this diversion.
	(_GCC_AUTOCONF_VERSION): New, define to 2.59 if not defined.
	(_GCC_AUTOCONF_VERSION_CHECK): New macro, require use of Autoconf
	version _GCC_AUTOCONF_VERSION throughout the tree.
	(m4_wrap): New override, fix for Posix semantics of m4wrap.

binutils/
	* configure: Regenerate.

opcodes/
	* configure: Regenerate.

bfd/
	* configure: Regenerate.

gas/
	* configure: Regenerate.

gprof/
	* configure: Regenerate.

ld/
	* config.in: Regenerate.
	* configure: Regenerate.
@
text
@d1 7
@


1.1337
log
@* common.h (EM_M32C_NEW): Rename to EM_M32C.
(EM_M32C): Rename to EM_M32C_OLD.

* elf32-m32c.c (ELF_MACHINE_ALT1): Define as EM_M32C_OLD.

* readelf.c (guess_is_rela): Add EM_M32C_OLD.
(dump_relocations): Likewise.
(process_section_headers): Likewise.
(is_32bit_abs_reloc): Likewise.
(is_16bit_abs_reloc): Likewise.
@
text
@d1 4
@


1.1336
log
@        PR binutils/6483
        * objdump.c (dump_bfd): If the -g option found no STABS or IEEE
        debug information to display, try dumping DWARF information
        instead.
        * rddbg.c (read_debugging_info): Add a parameter to suppress the
        display of a warning message when no debug information is found.
        * budbg.h (read_debugging_info): Update prototype.
        * objcopy.c (copy_object): Continue to allow read_debugging_info
        to produce warning messages.
        * doc/binutils.texi (--debugging): Document new behaviour of the
        -g/--debugging option.
@
text
@d1 8
@


1.1335
log
@	* MAINTAINERS: Remove myself as m68k maintainer.
@
text
@d1 14
@


1.1334
log
@update dependencies
@
text
@d1 4
@


1.1333
log
@	* embedspu.sh: Test for presence of ._ea by looking at section
	table rather than looking at relocs.  Correct toe_addr substitution.
@
text
@d1 5
@


1.1332
log
@bfd/
	* elf32-spu.c (spu_elf_special_sections): Add "._ea".
	(spu_elf_relocate_section): Handle relocations against symbols
	defined in ._ea specially.
binutils/
	* embedspu.sh: Take note of R_SPU_PPU32/64 relocs without a symbol,
	and if present, put image in ".data.speelf".  Put program handle
	in ".data.spehandle".
ld/emulparams/
	* elf32_spu.sh (OTHER_SECTIONS): Add "._ea".
	* elf32ppc.sh: If building with spu support, put ".data.spehandle"
	sections at the start of ".data" and provide a symbol to locate
	the directory of embedded spe programs.
ld/testsuite/
	* ld-spu/ear.s: Align various sections.
	* ld-spu/embed.rd: Update.
@
text
@d1 5
@


1.1331
log
@* readelf.c (print_symbol): Add code to display non-printing characters.
@
text
@d1 6
@


1.1330
log
@        * doc/binutils.texi (strings): Add "unicode" to the documentation
        of strings in order to make explicit that it supports this
        feature.
@
text
@d1 5
@


1.1329
log
@	* readelf.c (process_program_headers): Correct section in segment
	display.
@
text
@d1 6
@


1.1328
log
@                PR binutils/6449
                * objdump.c (slurp_file): Open the file in binary mode.
                * ar.c: Remove conditional definition of O_BINARY.
                * bin2.c: Likewise.
                * rename.c: Likewise.
                * strings.c: Likewise.
                * sysdep.h: Add conditional definition of O_BINARY.
@
text
@d1 5
@


1.1327
log
@bfd/

2008-04-23  Paolo Bonzini  <bonzini@@gnu.org>

	* aclocal.m4: Regenerate.
	* configure: Regenerate.

binutils/

2008-04-23  Paolo Bonzini  <bonzini@@gnu.org>

	* aclocal.m4: Regenerate.
	* configure: Regenerate.

gas/

2008-04-23  Paolo Bonzini  <bonzini@@gnu.org>

	* aclocal.m4: Regenerate.
	* configure: Regenerate.

gold/

2008-04-23  Paolo Bonzini  <bonzini@@gnu.org>

	* aclocal.m4: Regenerate.
	* configure: Regenerate.

gprof/

2008-04-23  Paolo Bonzini  <bonzini@@gnu.org>

	* aclocal.m4: Regenerate.
	* configure: Regenerate.

ld/

2008-04-23  Paolo Bonzini  <bonzini@@gnu.org>

	* aclocal.m4: Regenerate.
	* configure: Regenerate.

opcodes/

2008-04-23  Paolo Bonzini  <bonzini@@gnu.org>

	* aclocal.m4: Regenerate.
	* configure: Regenerate.
@
text
@d1 11
@


1.1326
log
@        PR binutils/6034
        * objcopy.c (stuct symlist): Rename to
        is_specified_symbol_predicate_data.
        (strip_specific_list): Rename to strip_specific_htab.
        (strip_unneeded_list): Rename to strip_unneeded_htab.
        (keep_specific_list):  Rename to keep_specific_htab.
        (localize_specific_list): Rename to localize_specific_htab.
        (globalize_specific_list): Rename to globalize_specific_htab.
        (keepglobal_specific_list): Rename to keepglobal_specific_htab.
        (weaken_specific_list): Rename to weaken_specific_htab.
        (eq_string): New function.
        (create_symbol_htab): New function.
        (create_symbol_htabs): New function.
        (add_specific_symbol): Change to use hash tables.
        (is_specified_symbol_predicate): New function.
        (is_specified_symbol): Use hash table lookup.
        (is_strip_section): Update to use new functions and hash tables.
        (filter_symbols): Likewise.
        (copy_object): Likewise.
        (copy_section): Likewise.
        (strip_main): Likewise.
        (copy_main): Likewise.
        (main): Likewise.
@
text
@d1 5
@


1.1325
log
@	* readelf.c (get_gnu_elf_note_type): Recognize NT_GNU_GOLD_VERSION.
@
text
@d1 26
@


1.1324
log
@        * dwarf.c (display_debug_lines): Rename to
        display_debug_lines_raw.
        (display_debug_lines_decoded): New function.  Displays the
        interpreted contents of a .debug_line section.
        (display_debug_lines): New function: Selects either a raw dump or
        a decoded dump (or both) as requested by the user.
        * dwarf.h (do_debug_lines_decoded): New extern.
        * readelf.c: Add support for -wL or --debug-dump=decodedline
        option to display the decoded contents of a .debug_line section.
        * doc/binutils.texi: Document the new option.
        * NEWS: Mention the new feature.
@
text
@d1 4
@


1.1323
log
@	* dwarf.c: Remove trailing whitespace throughout file.
@
text
@d1 14
@


1.1322
log
@* po/sk.po: Updated Slovak translation.
@
text
@d1 4
@


1.1321
log
@binutils/

2008-04-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* dwarf.c (dwarf_regnames_i386): Add AVX registers.
	(dwarf_regnames_x86_64): Likewise.

gas/

2008-04-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* NEWS: Mention AES, CLMUL, AVX/FMA and -msse2avx.

	* doc/c-i386.texi: Add avx, aes, clmul and fma to -march=.
	Document -msse2avx, .avx, .aes, .clmul and .fma.

	* config/tc-i386.c (YMMWORD_MNEM_SUFFIX): New.
	(vex_prefix): Likewise.
	(sse2avx): Likewise.
	(CPU_FLAGS_ARCH_MATCH): Likewise.
	(CPU_FLAGS_64BIT_MATCH): Likewise.
	(CPU_FLAGS_32BIT_MATCH): Likewise.
	(CPU_FLAGS_PERFECT_MATCH): Likewise.
	(regymm): Likewise.
	(vex_imm4): Likewise.
	(fits_in_imm4): Likewise.
	(build_vex_prefix): Likewise.
	(VEX_check_operands): Likewise.
	(bad_implicit_operand): Likewise.
	(OPTION_MSSE2AVX): Likewise.
	(T_YMMWORD): Likewise.
	(_i386_insn): Add vex.
	(cpu_arch): Add .avx, .aes, .clmul and .fma.
	(cpu_flags_match): Changed to take a pointer to const template.
	Enable encoding SSE instructions with VEX prefix for -msse2avx.
	(match_mem_size): Also check ymmword.
	(operand_type_match): Clear ymmword.
	(md_begin): Allow '_' in mnemonic.
	(type_names): Add OPERAND_TYPE_VEX_IMM4.
	(process_immext): Update assert.
	(md_assemble): Don't call process_immext if sse2avx and immext
	are true.  Call build_vex_prefix if vex is true.
	(parse_insn): Updated for cpu_flags_match.
	(swap_operands): Handle 5 operands.
	(match_template): Handle 5 operands. Updated for cpu_flags_match.
	Check regymm.  Call VEX_check_operands. Handle YMMWORD_MNEM_SUFFIX.
	(process_suffix): Handle YMMWORD_MNEM_SUFFIX.
	(check_byte_reg): Check regymm.
	(process_operands): Duplicate the destination register for
	-msse2avx if needed.
	(build_modrm_byte): Updated for instructions with VEX encoding.
	(output_insn): Output VEX prefix if needed.
	(md_longopts): Add msse2avx.
	(md_parse_option): Handle OPTION_MSSE2AVX.
	(md_show_usage): Add avx, aes, clmul, fma and -msse2avx.
	(intel_e09): Support YMMWORD.
	(intel_e11): Likewise.
	(intel_get_token): Likewise.

gas/testsuite/

2008-04-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run aes, aes-intel, x86-64-aes,
	x86-64-aes-intel, avx, avx-intel, inval-avx, x86-64-avx,
	x86-64-avx-intel and x86-64-inval-avx.

	* gas/cfi/cfi-i386.s: Add tests for AVX register maps.
	* gas/cfi/cfi-x86_64.s: Likewise.

	* gas/i386/aes.d: New.
	* gas/i386/aes.s: Likewise.
	* gas/i386/aes-intel.d: Likewise.
	* gas/i386/avx.d: Likewise.
	* gas/i386/avx.s: Likewise.
	* gas/i386/avx-intel.d: Likewise.
	* gas/i386/clmul.d: Likewise.
	* gas/i386/clmul-intel.d: Likewise.
	* gas/i386/clmul.s: Likewise.
	* gas/i386/i386.exp: Likewise.
	* gas/i386/inval-avx.l: Likewise.
	* gas/i386/inval-avx.s: Likewise.
	* gas/i386/sse2avx.d: Likewise.
	* gas/i386/sse2avx.s: Likewise.
	* gas/i386/x86-64-aes.d: Likewise.
	* gas/i386/x86-64-aes.s: Likewise.
	* gas/i386/x86-64-aes-intel.d: Likewise.
	* gas/i386/x86-64-avx.d: Likewise.
	* gas/i386/x86-64-avx.s: Likewise.
	* gas/i386/x86-64-avx-intel.d: Likewise.
	* gas/i386/x86-64-clmul.d: Likewise.
	* gas/i386/x86-64-clmul-intel.d: Likewise.
	* gas/i386/x86-64-clmul.s: Likewise.
	* gas/i386/x86-64-inval-avx.l: Likewise.
	* gas/i386/x86-64-inval-avx.s: Likewise.
	* gas/i386/x86-64-sse2avx.d: Likewise.
	* gas/i386/x86-64-sse2avx.s: Likewise.

	* gas/i386/arch-10.s: Add tests for AVX, AES, CLMUL and FMA.
	* gas/i386/x86-64-arch-2.s: Likewise.

	* gas/i386/rexw.s: Add AVX tests.

	* gas/i386/x86-64-opcode-inval.s: Remove lds/les test.

	* gas/cfi/cfi-i386.d: Updated.
	* gas/cfi/cfi-x86_64.d: Likewise.
	* gas/i386/arch-10.d:  Likewise.
	* gas/i386/arch-10-1.l: Likewise.
	* gas/i386/arch-10-2.l: Likewise.
	* gas/i386/arch-10-3.l: Likewise.
	* gas/i386/arch-10-4.l: Likewise.
	* gas/i386/rexw.d: Likewise.
	* gas/i386/x86-64-arch-2.d: Likewise.
	* gas/i386/x86-64-opcode-inval.d: Likewise.
	* gas/i386/x86-64-opcode-inval-intel.d: Likewise.

include/opcode/

2008-04-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386.h (MAX_OPERANDS): Set to 5.
	(MAX_MNEM_SIZE): Changed to 20.

opcodes/

2008-04-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (OP_E_register): New.
	(OP_E_memory): Likewise.
	(OP_VEX): Likewise.
	(OP_EX_Vex): Likewise.
	(OP_EX_VexW): Likewise.
	(OP_XMM_Vex): Likewise.
	(OP_XMM_VexW): Likewise.
	(OP_REG_VexI4): Likewise.
	(PCLMUL_Fixup): Likewise.
	(VEXI4_Fixup): Likewise.
	(VZERO_Fixup): Likewise.
	(VCMP_Fixup): Likewise.
	(VPERMIL2_Fixup): Likewise.
	(rex_original): Likewise.
	(rex_ignored): Likewise.
	(Mxmm): Likewise.
	(XMM): Likewise.
	(EXxmm): Likewise.
	(EXxmmq): Likewise.
	(EXymmq): Likewise.
	(Vex): Likewise.
	(Vex128): Likewise.
	(Vex256): Likewise.
	(VexI4): Likewise.
	(EXdVex): Likewise.
	(EXqVex): Likewise.
	(EXVexW): Likewise.
	(EXdVexW): Likewise.
	(EXqVexW): Likewise.
	(XMVex): Likewise.
	(XMVexW): Likewise.
	(XMVexI4): Likewise.
	(PCLMUL): Likewise.
	(VZERO): Likewise.
	(VCMP): Likewise.
	(VPERMIL2): Likewise.
	(xmm_mode): Likewise.
	(xmmq_mode): Likewise.
	(ymmq_mode): Likewise.
	(vex_mode): Likewise.
	(vex128_mode): Likewise.
	(vex256_mode): Likewise.
	(USE_VEX_C4_TABLE): Likewise.
	(USE_VEX_C5_TABLE): Likewise.
	(USE_VEX_LEN_TABLE): Likewise.
	(VEX_C4_TABLE): Likewise.
	(VEX_C5_TABLE): Likewise.
	(VEX_LEN_TABLE): Likewise.
	(REG_VEX_XX): Likewise.
	(MOD_VEX_XXX): Likewise.
	(PREFIX_0F38DB..PREFIX_0F38DF): Likewise.
	(PREFIX_0F3A44): Likewise.
	(PREFIX_0F3ADF): Likewise.
	(PREFIX_VEX_XXX): Likewise.
	(VEX_OF): Likewise.
	(VEX_OF38): Likewise.
	(VEX_OF3A): Likewise.
	(VEX_LEN_XXX): Likewise.
	(vex): Likewise.
	(need_vex): Likewise.
	(need_vex_reg): Likewise.
	(vex_i4_done): Likewise.
	(vex_table): Likewise.
	(vex_len_table): Likewise.
	(OP_REG_VexI4): Likewise.
	(vex_cmp_op): Likewise.
	(pclmul_op): Likewise.
	(vpermil2_op): Likewise.
	(m_mode): Updated.
	(es_reg): Likewise.
	(PREFIX_0F38F0): Likewise.
	(PREFIX_0F3A60): Likewise.
	(reg_table): Add REG_VEX_71...REG_VEX_73 and REG_VEX_AE.
	(prefix_table): Add PREFIX_0F38DB..PREFIX_0F38DF, PREFIX_0F3ADF
	and PREFIX_VEX_XXX entries.
	(x86_64_table): Use VEX_C4_TABLE and VEX_C5_TABLE.
	(three_byte_table): Use PREFIX_0F38DB..PREFIX_0F38DF and
	PREFIX_0F3ADF.
	(mod_table): Use VEX_C4_TABLE, VEX_C5_TABLE and VEX_LEN_TABLE.
	Add MOD_VEX_XXX entries.
	(ckprefix): Initialize rex_original and rex_ignored.  Store the
	REX byte in rex_original.
	(get_valid_dis386): Handle the implicit prefix in VEX prefix
	bytes and USE_VEX_LEN_TABLE/USE_VEX_C4_TABLE/USE_VEX_C5_TABLE.
	(print_insn): Set need_vex/need_vex_reg/vex_i4_done to 0 before
	calling get_valid_dis386.  Use rex_original and rex_ignored when
	printing out REX.
	(putop): Handle "XY".
	(intel_operand_size): Handle VEX, xmm_mode, xmmq_mode and
	ymmq_mode.
	(OP_E_extended): Updated to use OP_E_register and
	OP_E_memory.
	(OP_XMM): Handle VEX.
	(OP_EX): Likewise.
	(XMM_Fixup): Likewise.
	(CMP_Fixup): Use ARRAY_SIZE.

	* i386-gen.c (cpu_flag_init): Add CpuAES, CPU_CLMUL_FLAGS,
	CPU_FMA_FLAGS and CPU_AVX_FLAGS.
	(operand_type_init): Add OPERAND_TYPE_REGYMM and
	OPERAND_TYPE_VEX_IMM4.
	(cpu_flags): Add CpuAVX, CpuAES, CpuCLMUL and CpuFMA.
	(opcode_modifiers): Add Implicit1stXmm0, Vex, Vex256, VexNDD,
	VexNDS, VexW0, VexW1, Vex0F, Vex0F38, Vex0F3A, Vex3Sources,
	VexImmExt and SSE2AVX.
	(operand_types): Add RegYMM, Ymmword and Vex_Imm4.

	* i386-opc.h (CpuAVX): New.
	(CpuAES): Likewise.
	(CpuCLMUL): Likewise.
	(CpuFMA): Likewise.
	(Vex): Likewise.
	(Vex256): Likewise.
	(VexNDS): Likewise.
	(VexNDD): Likewise.
	(VexW0): Likewise.
	(VexW1): Likewise.
	(Vex0F): Likewise.
	(Vex0F38): Likewise.
	(Vex0F3A): Likewise.
	(Vex3Sources): Likewise.
	(VexImmExt): Likewise.
	(SSE2AVX): Likewise.
	(RegYMM): Likewise.
	(Ymmword): Likewise.
	(Vex_Imm4): Likewise.
	(Implicit1stXmm0): Likewise.
	(CpuXsave): Updated.
	(CpuLM): Likewise.
	(ByteOkIntel): Likewise.
	(OldGcc): Likewise.
	(Control): Likewise.
	(Unspecified): Likewise.
	(OTMax): Likewise.
	(i386_cpu_flags): Add cpuavx, cpuaes, cpuclmul and cpufma.
	(i386_opcode_modifier): Add implicit1stxmm0, vex, vex256,
	vexnds, vexndd, vexw0, vexw1, vex0f, vex0f38, vex0f3a,
	vex3sources, veximmext and sse2avx.
	(i386_operand_type): Add regymm, ymmword and vex_imm4.

	* i386-opc.tbl: Add AES, CLMUL, AVX and FMA new instructions.

	* i386-reg.tbl: Add AVX registers, ymm0..ymm15.

	* i386-init.h: Regenerated.
	* i386-tbl.h: Likewise.
@
text
@d1 4
@


1.1320
log
@Add support for thin archives.
    * bfd/archive.c (_bfd_find_nested_archive): New function.
    (get_extended_arelt_filename): Add origin parameter.
    (_bfd_generic_read_ar_hdr_mag): Deal with extended name
    combined with a file offset.
    (append_relative_path): New function.
    (_bfd_get_elt_at_filepos): Deal with external members and
    nested archives.
    (bfd_generic_openr_next_archived_file): Thin archives.
    (bfd_generic_archive_p): Recognize new magic string.
    (adjust_relative_path): New function.
    (_bfd_construct_extended_name_table): Construct extended
    names for thin archive members.
    (_bfd_write_archive_contents): Emit new magic string, skip
    copying files for thin archives.
    * bfd/bfd-in.h (bfd_is_thin_archive): New macro.
    * bfd/bfd.c (struct bfd): New fields for thin archives.
    * bfd/libbfd-in.h (struct areltdata): New field for thin archives.
    * bfd/opncls.c (bfd_close): Delete BFDs for nested archives.
    * binutils/ar.c (make_thin_archive): New global flag.
    (map_over_members): Deal with full pathnames in thin archives.
    (usage, main): Add 'T' option for building thin archives.
    (replace_members): Pass thin archive flag to ar_emul_append.
    * binutils/arsup.c (ar_open): Initialize new flag.
    * binutils/binemul.c (ar_emul_append): Add new parameter for
    flattening nested archives.
    (do_ar_emul_default_append): New function.
    (ar_emul_default_append): Factored out recursive code.
    * binutils/binemul.h (ar_emul_default_append): Add new parameter.
    (struct bin_emulation_xfer_struct): New parameter for ar_append.
    * binutils/dlltool.c (gen_lib_file): Initialize thin archive flag.
    * binutils/emul_aix.c (ar_emul_aix_internal): Add new flatten
    parameter, currently unimplemented.
    All callers changed.
    * binutils/objcopy.c (copy_archive): Preserve thin archive flag.
    * binutils/doc/binutils.texi: Update ar documentation.
    * binutils/testsuite/binutils-all/ar.exp: Add thin archive tests.
    * include/aout/ar.h (ARMAGT): New magic string for thin archives.
@
text
@d1 5
d8 1
a8 1
        Add support for thin archives.
@


1.1319
log
@2008-03-20  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (process_mips_specific): Declare addr_size as int.
@
text
@d1 22
@


1.1318
log
@binutils/
	* readelf.c (print_mips_got_entry): New function.
	(process_mips_specific): Print GOT information.

ld/testsuite/
	* ld-mips-elf/got-dump-1.d, ld-mips-elf/got-dump-1.s,
	ld-mips-elf/got-dump-1.ld, ld-mips-elf/got-dump-2.d,
	ld-mips-elf/got-dump-2.s, ld-mips-elf/got-dump-2.ld: New tests.
	* ld-mips-elf/mips-elf.exp: Run them.
@
text
@d1 4
@


1.1317
log
@        * configure.ac: m4_include config/proginstall.m4.
        * configure: Regenerate.
config/
        * proginstall.m4: New file, with fixed AC_PROG_INSTALL.
bfd/
        * aclocal.m4: Regenerate.
        * configure: Likewise.
        * Makefile.in: Likewise.
bfd/doc/
        * Makefile.in: Regenerate.
intl/
        * aclocal.m4: Regenerate.
        * configure: Likewise.
gas/
        * aclocal.m4: Regenerate.
        * configure: Likewise.
        * Makefile.in: Likewise.
        * doc/Makefile.in: Likewise.
ld/
        * aclocal.m4: Regenerate.
        * configure: Likewise.
        * Makefile.in: Likewise.
opcodes/
        * aclocal.m4: Regenerate.
        * configure: Likewise.
        * Makefile.in: Likewise.
binutils/
        * aclocal.m4: Regenerate.
        * configure: Likewise.
        * Makefile.in: Likewise.
        * doc/Makefile.in: Likewise.
gprof/
        * aclocal.m4: Regenerate.
        * configure: Likewise.
        * Makefile.in: Likewise.
@
text
@d1 5
@


1.1316
log
@	* rcparse.y (resid): Allow control text to span multiple lines.
@
text
@d1 7
@


1.1315
log
@include/elf/
	* internal.h (Elf_Internal_Shdr): Change sh_link and sh_info from
	unsigned long to unsigned int.  Change sh_addralign to bfd_vma.
	Order struct as for external version.
bfd/
	* elf.c (_bfd_elf_make_section_from_shdr): Remove unnecessary cast.
	(_bfd_elf_assign_file_position_for_section): Simplify align.
	(_bfd_elf_init_reloc_shdr): Ensure shift expression wide enough
	for sh_addralign.
	(elf_fake_sections, swap_out_syms): Likewise.
	* elflink.c (bfd_elf_final_link): Likewise.
binutils/
	* readelf.c: Use %u throughout when printing sh_link or sh_info,
	%lu when printing sh_addralign.
	(process_version_sections): Use identical formats when printing
	all offset and sh_link fields.
@
text
@d1 4
@


1.1314
log
@bfd/
	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.
	* po/SRC-POTFILES.in: Regenerate.
bfd/doc/
	* Makefile.in: Regenerate.
binutils/
	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.
	* doc/Makefile.in: Regenerate.
	* configure: Regenerate.
gas/
	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.
	* configure: Regenerate.
gprof/
	* configure: Regenerate.
ld/
	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.
	* configure: Regenerate.
opcodes/
	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.
	* configure: Regenerate.
@
text
@d3 7
@


1.1313
log
@include/elf/
	PR 5900
	* common.h (SHN_BAD): Delete.
	(SHN_LORESERVE .. SHN_HIRESERVE): Move to..
	* external.h: ..here.
	* internal.h (SHN_LORESERVE, SHN_HIRESERVE): Define.
	(SHN_LOPROC, SHN_HIPROC, SHN_LOOS, SHN_HIOS): Define.
	(SHN_ABS, SHN_COMMON, SHN_XINDEX, SHN_BAD): Define.
bfd/
	PR 5900
	* elf-bfd.h: Include elf/internal.h after elf/external.h.
	* elfcode.h (elf_swap_symbol_in): Map reserved shndx range.
	(elf_swap_symbol_out): Adjust SHN_XINDEX test.
	(elf_swap_ehdr_out): Mask SHN_LORESERVE and SHN_XINDEX to values
	seen in external structs.
	(valid_section_index_p): Delete.
	(elf_object_p): Don't increment section numbers over reserved range.
	Simplify test for valid sh_link, sh_info and e_shstrndx fields.
	(elf_write_shdrs_and_ehdr): Mask SHN_LORESERVE and SHN_XINDEX to values
	seen in external structs.  Don't increment section numbers over
	reserved range.
	* elf.c (bfd_elf_sym_name): Remove redundant tests on st_shndx.
	(bfd_section_from_shdr): Likewise.
	(group_signature): Range check before accessing elf_elfsections.
	(_bfd_elf_setup_sections): Likewise.
	(bfd_section_from_shdr): Likewise.
	(bfd_section_from_shdr): Don't increment section number over
	reserved sections.
	(assign_file_positions_for_non_load_sections): Likewise.
	(assign_file_positions_except_relocs): Likewise.
	(_bfd_elf_write_object_contents): Likewise.
	(assign_section_numbers): Likewise.  Adjust for changed SHN_*.
	(prep_headers): Delete unused variable.
	* elflink.c (bfd_elf_link_record_local_dynamic_symbol): Adjust
	for changed SHN_* values.
	(check_dynsym, elf_link_input_bfd): Likewise.
	(bfd_elf_final_link): Likewise.  Don't skip over reserved section
	range.
	(elf_fixup_link_order): Check that sh_link field is valid.
	* elf-hppa.h (elf_hppa_add_symbol_hook): Make "index" unsigned.
	* elf32-arm.c (elf32_arm_gc_mark_extra_sections): Range check before
	accesssing elf_elfsections.
	* elf32-avr.c (elf32_avr_size_stubs): Likewise.
	* elf32-hppa.c (elf32_hppa_size_stubs): Likewise.
	* elf32-m68hc1x.c (elf32_m68hc11_size_stubs): Likewise.
	* elf64-hppa.c (elf64_hppa_check_relocs): Adjust for changed
	SHN_* defines.  Test for SHN_BAD return from
	_bfd_elf_section_from_bfd_section
binutils/
	PR 5900
	* readelf.c (SECTION_HEADER_INDEX, SECTION_HEADER_NUM): Delete.
	Remove use throughout file.
	(SECTION_HEADER): Likewise.
	(dump_relocations): Don't adjust st_shndx for reserved range.
	(process_file_header): Mask SHN_XINDEX to values seen in external
	elf structs.  Simplify valid section index tests.
	(get_32bit_elf_symbols, get_64bit_elf_symbols): Mask SHN_XINDEX.
	Map reserved st_shndx to internal form.
	(process_section_groups): Test that group symbol st_shndx is in
	range, not just non-zero.  Delete reserved range check.
	(get_symbol_index_type): Mask "type" to 16 bits when printing PRC,
	OS or RSV.
gdb/
	PR 5900
	* elfread.c (elf_symtab_read): Make shndx an unsigned int.
	* mipsread.c: Include elf/internal.h.
	(read_alphacoff_dynamic_symtab): Map external reserved sym_shndx
	to internal range.
ld/testsuite/
	PR 5900
	* ld-elf/sec64k.exp: Update.
@
text
@d1 7
@


1.1312
log
@2008-03-09  Paul Brook  <paul@@codesourcery.com>

	bfd/
	* elf32-arm.c (elf32_arm_merge_eabi_attributes): Handle new
	Tag_VFP_arch values.

	binutils/
	* readelf.c (arm_attr_tag_VFP_arch): Add "VFPv3-D16".

	gas/
	* config/tc-arm.c (fpu_vfp_ext_d32): New vairable.
	(parse_vfp_reg_list, encode_arm_vfp_reg): Use it.
	(arm_option_cpu_value): Add vfpv3-d16, vfpv2 and vfpv3.
	(aeabi_set_public_attributes): Handle Tag_VFP_arch=VFPV3-D16.
	* doc/c-arm.texi: Document new ARM FPU variants.

	gas/testsuite/
	* gas/arm/vfpv3-d16-bad.d: New test.
	* gas/arm/vfpv3-d16-bad.l: New test.

	include/opcode/
	* arm.h (FPU_VFP_EXT_D32, FPU_VFP_V3D16, FPU_ARCH_VFP_V3D16): Define.
@
text
@d1 16
@


1.1311
log
@* MAINTAINERS: Update my email address.
@
text
@d1 4
@


1.1310
log
@* dwarf2.h: (enum dwarf_location_atom): Add new DW_OP,
  DW_OP_PGI_omp_thread_num.

* dwarf.c (decode_location_expression): Handle
  DW_OP_PGI_omp_thread_num.
@
text
@d1 4
@


1.1309
log
@	* objdump.c (objdump_print_addr): Initialise "sym".
@
text
@d1 5
@


1.1308
log
@        * ar.c (usage): Mention -t command line switch.
        * doc/binutils.texi (ranlib): Document -t command line switch.
@
text
@d1 4
@


1.1307
log
@* objdump.c (objdump_print_addr): If displaying file offsets, show
  the offset even if there are no symbols available.
  (dump_section): Display nothing if none of the section is going to
  be dumped.  Display the file offset, if requested, of the location
  from where the dump starts.
  * doc/binutils.texi (objdump): Mention that dumping via the -s
  switch is also affected by the -F option.
@
text
@d1 6
@


1.1306
log
@Re-apply this patch which was accidentally deleted:
         2006-05-16  Carlos O'Donell  <carlos@@codesourcery.com>

         * doc/binutils.texi: Use "Binutils Index" for index name.
@
text
@d3 10
@


1.1305
log
@* objdump.c (display_file_offsets): New variable.
  (long_options): Add -F/--file-offsets.
  (objdump_print_addr_with_sym): If displaying file offsets, print
  the offset of the given address.
  (disassemble_bytes): If displaying file offsets, tell the user how
  many zeroes are skipped and the file offset of the point where
  dumping resumes.
  (disassemble_section): Only display the name of the section if
  data is going to be dumped from it.
  (main): Handle new option.  Produce error messages if the start or
  stop addresses do not make sense.
  * doc/binutils.texi: Document the new feature.
  * NEWS: Mention the new feature.
@
text
@d1 7
@


1.1304
log
@Update attribution for PR 5713 patch.
@
text
@d1 16
@


1.1303
log
@        PR binutils/5713
        * strings.c (integer_arg): Delete function.
        (string_min): Initialise to 4.
        (main): Use strtoul to parse integer arguments.
        Move check for an invalid string length to after all the arguments
        have been parsed.
        (usage): Use indentation to indicate that -<n> is a another form
        of the --bytes= command line option.
@
text
@d1 2
a2 1
2008-02-15  Nick Clifton  <nickc@@redhat.com>
@


1.1302
log
@* dlltool.c (mcore_elf_cache_filename): Add a const qualifier to
  the argument.
  (scan_obj_filename): Do not drop the const qualifier when calling
  mcore_elf_cache_filename.
  (struct fname_cache): Add const qualifier to filename field.
@
text
@d1 11
@


1.1301
log
@2008-02-08  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/5713
	* strings.c (main): Set string_min to 4 if it is <= 0.
@
text
@d1 8
@


1.1300
log
@	* objdump.c (main): Don't pass unadorned NULL to concat.
@
text
@d1 5
@


1.1299
log
@bfd/

2008-02-04  Kai Tietz  <kai.tietz@@onevision.com>
	    H.J. Lu  <hongjiu.lu@@intel.com>

	PR 5715
	* warning.m4: Enable -Wno-format by default when using gcc on
	mingw.
	* configure: Regenerated.

binutils/

2008-02-04  H.J. Lu  <hongjiu.lu@@intel.com>

	PR 5715
	* configure: Regenerated.

gas/

2008-02-04  H.J. Lu  <hongjiu.lu@@intel.com>

	PR 5715
	* configure: Regenerated.

ld/

2008-02-04  H.J. Lu  <hongjiu.lu@@intel.com>

	PR 5715
	* configure: Regenerated.

opcodes/

2008-02-04  H.J. Lu  <hongjiu.lu@@intel.com>

	PR 5715
	* configure: Regenerated.
@
text
@d1 4
@


1.1298
log
@	* readelf.c (get_machine_flags): Handle Octeon.
@
text
@d1 5
@


1.1297
log
@        Add OpenVMS extensions.
        * ia64.h (SHF_IA_64_VMS_GLOBAL, SHF_IA_64_VMS_OVERLAID)
        (SHF_IA_64_VMS_SHARED, SHF_IA_64_VMS_VECTOR)
        (SHF_IA_64_VMS_ALLOC_64BIT, SHF_IA_64_VMS_PROTECTED)
        (SHT_IA_64_VMS_TRACE, SHT_IA_64_VMS_TIE_SIGNATURES)
        (SHT_IA_64_VMS_DEBUG, SHT_IA_64_VMS_DEBUG_STR)
        (SHT_IA_64_VMS_LINKAGES, SHT_IA_64_VMS_SYMBOL_VECTOR)
        (SHT_IA_64_VMS_FIXUP, DT_IA_64_VMS_SUBTYPE)
        (DT_IA_64_VMS_IMGIOCNT, DT_IA_64_VMS_LNKFLAGS)
        (DT_IA_64_VMS_VIR_MEM_BLK_SIZ, DT_IA_64_VMS_IDENT)
        (DT_IA_64_VMS_NEEDED_IDENT, DT_IA_64_VMS_IMG_RELA_CNT)
        (DT_IA_64_VMS_SEG_RELA_CNT, DT_IA_64_VMS_FIXUP_RELA_CNT)
        (DT_IA_64_VMS_FIXUP_NEEDED, DT_IA_64_VMS_SYMVEC_CNT)
        (DT_IA_64_VMS_XLATED, DT_IA_64_VMS_STACKSIZE)
        (DT_IA_64_VMS_UNWINDSZ, DT_IA_64_VMS_UNWIND_CODSEG)
        (DT_IA_64_VMS_UNWIND_INFOSEG, DT_IA_64_VMS_LINKTIME)
        (DT_IA_64_VMS_SEG_NO, DT_IA_64_VMS_SYMVEC_OFFSET)
        (DT_IA_64_VMS_SYMVEC_SEG, DT_IA_64_VMS_UNWIND_OFFSET)
        (DT_IA_64_VMS_UNWIND_SEG, DT_IA_64_VMS_STRTAB_OFFSET)
        (DT_IA_64_VMS_SYSVER_OFFSET, DT_IA_64_VMS_IMG_RELA_OFF)
        (DT_IA_64_VMS_SEG_RELA_OFF, DT_IA_64_VMS_FIXUP_RELA_OFF)
        (DT_IA_64_VMS_PLTGOT_OFFSET, DT_IA_64_VMS_PLTGOT_SEG)
        (DT_IA_64_VMS_FPMODE, SHN_IA_64_VMS_SYMVEC): Define

        * readelf.c (dump_relocations): Decode OpenVMS-specific sections.
        (get_ia64_dynamic_type): Decode OpenVMS-specific tags.
        (get_dynamic_type): Handle IA64-specific tags.
        (get_ia64_section_type_name): Handle OpenVMS-specific sections.
        (get_section_type_name): Handle OS-specific sections (and
        particularly IA64 OpenVMS one).
        (get_elf_section_flags): Makes flags static.  Add entries for IA64 and
        decode them.
@
text
@d1 4
@


1.1296
log
@Fix spelling typo in previous delta
@
text
@d1 11
@


1.1295
log
@* dwarf.c (print_dwarf_vma): Use mingw field type specified if necessary.
@
text
@d5 1
a5 1
	specified if necessary.
@


1.1294
log
@* dwarf.c (print_dwarf_vma): New function.  Display the value of a
  dwarf_vma type at a specified precision.
  (display_debug_loc): Use dwarf_vma type for begin and end values.
  Use print_dwarf_vma to display their values.  Use byte_get_signed
  in order to correctly detect the -1 escape value.
  (display_debug_aranges): Likewise.
  (display_debug_ranges): Likewise.
@
text
@d4 2
a5 1
	dwarf_vma type at a specified precision.
@


1.1293
log
@	* dwarf.c (display_debug_loc): Correct test for base address
	entry when 64-bit host dumping 32-bit object.
@
text
@d1 10
@


1.1292
log
@	* MAINTAINERS: Remove myself as ix86 maintainer.  Add for SPU.
@
text
@d3 5
@


1.1291
log
@PR binutils/5529
   * rclex.c (yylex): Also allow the hypen character.
@
text
@d1 4
@


1.1290
log
@Fix the last ChangeLog.
@
text
@d1 5
d86 1
d88 1
a88 1
	characters for name tokens. PR/5529.
@


1.1289
log
@binutils/

2008-01-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* dwarf.c: Include "elf/common.h".
	(eh_addr_size): Changed to int.
	(dwarf_regnames_i386): New.
	(dwarf_regnames_x86_64): Likewise.
	(dwarf_regnames): Likewise.
	(dwarf_regnames_count): Likewise.
	(init_dwarf_regnames): Likewise.
	(regname): Likewise.
	(frame_display_row): Properly support different address size.
	Call regname to get register name.
	(display_debug_frames): Call regname to get register name.
	Display DW_CFA_def_cfa_register as DW_CFA_def_cfa_register
	instead of DW_CFA_def_cfa_reg.

	* dwarf.h (init_dwarf_regnames): New.

	* objdump.c: Include "elf-bfd.h".
	(dump_dwarf): Call init_dwarf_regnames on ELF input.

	* readelf.c (guess_is_rela): Change argument to int.
	(parse_args): Remove the undocumented upper case options for
	-wX.
	(process_file_header): Call init_dwarf_regnames if
	do_dwarf_register is true.

gas/testsuite/

2008-01-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/cfi/cfi-alpha-1.d: Replace DW_CFA_def_cfa_reg with
	DW_CFA_def_cfa_register.
	* gas/cfi/cfi-alpha-3.d: Likewise.
	* gas/cfi/cfi-hppa-1.d: Likewise.
	* gas/cfi/cfi-i386.d: Likewise.
	* gas/cfi/cfi-m68k.d: Likewise.
	* gas/cfi/cfi-mips-1.d: Likewise.
	* gas/cfi/cfi-sh-1.d: Likewise.
	* gas/cfi/cfi-sparc-1.d: Likewise.
	* gas/cfi/cfi-sparc64-1.d: Likewise.
	* gas/cfi/cfi-x86_64.d: Likewise.

	* gas/cfi/cfi-common-1.d: Updated for i386/x86-64 register
	names.
	* gas/cfi/cfi-common-2.d: Likewise.
	* gas/cfi/cfi-common-5.d: Likewise.
	* gas/cfi/cfi-i386.d: Likewise.
	* gas/cfi/cfi-x86_64.d: Likewise.

ld/testsuite/

2008-01-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* ld-elf/eh1.d: Replace DW_CFA_def_cfa_reg with
	DW_CFA_def_cfa_register. Updated for i386/x86-64 register
	names.
	* ld-elf/eh2.d: Likewise.
	* ld-elf/eh3.d: Likewise.
	* ld-elf/eh4.d: Likewise.
	* ld-elf/eh5.d: Likewise.
@
text
@d25 1
a25 2
	(process_file_header): Call init_dwarf_regnames if
	do_dwarf_register is true.
@


1.1288
log
@* readelf.c (process_section_headers): Add m16c handler.
(is_16bit_abs_reloc): Recognize R_M32C_16.
@
text
@d1 27
@


1.1287
log
@Add mingw I64 support for printing long and long long values
@
text
@d1 5
@


1.1286
log
@* po/ru.po: Updated Russian translation.
@
text
@d1 6
@


1.1285
log
@binutils/

2008-01-17  H.J. Lu  <hjl.tools@@gmail.com>

	* MAINTAINERS: Update my email address.

gdb/

2008-01-17  H.J. Lu  <hjl.tools@@gmail.com>

	* MAINTAINERS: Update my email address.
@
text
@d1 4
@


1.1284
log
@        (DEBUG_INFO_UNAVAILABLE): Value stored in num_debug_info_entries
        when the .debug_info section could not be loaded/parsed.
        (process_debug_info): Display the length of the compilation unit
        in hex, so that it corresponds with the offsets that will follow.
        Tell the user if the length was 32-bit or 64-bit.
        If a DIE abbreviation could not be found, tell the user the offset
        of the DIE.
        (free_debug_memory): Do not attempt to free any entries in the
        debug_information array if num_debug_info_entries is set to
        DEBUG_INFO_UNAVAILABLE.
@
text
@d1 4
@


1.1283
log
@        * dwarf.c (process_debug_info): Include the CU offset and corrupt
        version value when reporting unrecognised DWARF version numbers.
        (load_debug_info): Remember a failed attempt to load and parse the
        .debug_info section and do not repeat such attempts.
        (display_debug_lines): Check the return value from load_debug_info
        and return whilst displaying a warning message if the load failed.
        (display_debug_loc): Likewise.
        (display_debug_ranges): Likewise.
@
text
@d11 10
@


1.1282
log
@* readelf.c (is_64bit_abs_reloc): Handle R_S390_64.
@
text
@d1 11
@


1.1281
log
@PR binutils/55326
   * bucomm.c (list_supported_architectures): Free architecture list after use.
   * windres.c (set_endianess): Likewise.
   * windmc.c (set_endianess): Likewise.
@
text
@d1 4
@


1.1280
log
@binutils/rclex.c: (yylex): Add ':', '_', '\\', and '/' to post characters
for name tokens. PR/5529.
@
text
@d1 8
@


1.1279
log
@        * prdbg.c (print_vma): Print as long long, if host supports it.
@
text
@d1 5
@


1.1278
log
@        * dwarf.c (read_and_display_attr_value): Prefix values that are
        displayed in hexadecimal with 0x.
        For the DW_AT_import attribute display the abbreviation number and
        tag of the imported DIE.
        (process_debug_info): Warn about lengths that reserved by the
        DWARF3 specification.
        Provide more information when corrupted DIEs are detected.
        Warn if DIE corruption makes the sibling level negative.
@
text
@d1 4
@


1.1277
log
@Move 2007 ChangeLog entries to ChangeLog-2007.
@
text
@d1 11
@


1.1276
log
@Updated Russian translation.
@
text
@d1 1
a1 1158
2007-12-24  Nick Clifton  <nickc@@redhat.com>

	* po/ru.po: Updated Russian translation.

2007-12-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* doc/binutils.texi: Document the new intel-mnemonic and
	intel-mnemonic options for i386 disassembler.

2007-12-07  Bob Wilson  <bob.wilson@@acm.org>

	* readelf.c (is_32bit_pcrel_reloc): Add Xtensa.
	
2007-12-04  Alan Modra  <amodra@@bigpond.net.au>

	* readelf.c (is_32bit_abs_reloc, is_32bit_pcrel_reloc): Add SPU.

2007-11-29  Mark Shinwell  <shinwell@@codesourcery.com>

	* readelf.c (get_machine_flags): Handle Loongson-2E and -2F
	flags.

2007-11-26  Alan Modra  <amodra@@bigpond.net.au>

	* cxxfilt.c (demangle_it): Don't call printf without format string.

2007-11-21  Hans-Peter Nilsson  <hp@@axis.com>

	* dwarf.c (display_debug_loc): Cast section_end - start to long
	for output format.

2007-11-20  Nick Clifton  <nickc@@redhat.com>

	* dwarf.c (display_debug_loc): Issue a warning if there are bytes
	at the end of the .debug_loc section which are not referenced by
	any attribute in the .debug_info section.

2007-11-19  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (is_32bit_abs_reloc): Add support for NIOS relocs.
	(is_64bit_abs_reloc): Add support for HPPA relocs.
	(is_16bit_abs_reloc): Add support for NIOS relocs.

2007-11-17  Thiemo Seufer  <ths@@mips.com>

	* readelf.c (display_mips_gnu_attribute): Recognize -mips32r2 -mfp64
	objects.

2007-11-16  Nick Clifton  <nickc@@redhat.com>

	* dwarf.c (process_extended_line_op): Add cases for HP extensions
	to the line ops.  Mention if an unknown op code is in the user
	defined range.
	(decode_location_expression): Add cases for HP extensions, the
	DW_OP_GNU_uninit extension and the DW_OP_call_frame_cfa and
	DW_OP_bit_piece DWARF3 operators.
	(read_and_display_attr): Correct list of attributes which can
	reference a location list.
	(read_and_display_attr_value): Add cases for DWARF3 values and HP
	extensions.
	Correct list of attributes which can reference a location list.
	(get_AT_name): Add cases for DWARF3 values and HP and PGI
	extensions.

2007-11-07  Karl Berry  <karl@@gnu.org>

	* doc/binutils.texi: Update to FDL 1.2.
	(Top): consistent punctuation in menu entries.
	(Index): Rename from Binutils Index.
	* doc/fdl.texi: Update from http://www.gnu.org/licenses/fdl.texi.

2007-10-31  Nick Clifton  <nickc@@redhat.com>

	* dwarf.c (is_relocatable): Remove definition.
	(display_debug_frames): Remove check in is_relocatable.
	* dwarf.h (is_relocatable): Remove declaration.
	* objdump.c (is_relocatable): New static definition.
	* readelf.c (dump_relocations): Make the function void.
	(is_32bit_abs_reloc): Add support for x86, Arc, Arm, D10V, Dlx,
	OR32 and Score.
	(is_32bit_pcrel_reloc): Add support for x86 and Arm.
	(is_16bit_abs_reloc): Add support for D10V.
	(debug_apply_rela_addends): Rename to debug_apply_relocations.
	Add code to support rel relocations.
	(load_debug_section): Fix call to debug_apply_relocations.
	(get_file_header): Remove setting of is_relocatable.

2007-10-31  Alan Modra  <amodra@@bigpond.net.au>

	* readelf.c (debug_apply_rela_addends): Clarify FIXME.

2007-10-29  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (is_32bit_abs_reloc): Add knowledge of reloc used by
	IA64.
	(is_64bit_abs_reloc): Likewise.

2007-10-28  Nick Clifton  <nickc@@redhat.com>

	* dwarf.c (process_debug_info): Check for corrupt lengths.
	* readelf.c (get_reloc_type): New function.  Returns the reloc
	number extracted from the info field of a reloc.
	(get_reloc_symindex): New function.  Returns the symbol index
	extracted from the info field of a reloc.
	(dump_relocations): Use the new functions.
	(slurp_ia64_unwind_table): Use the new functions.
	(slurp_hppa_unwind_table): Use the new functions.
	(dump_section_as_bytes): Use the new functions.
	(get_reloc_size): Delete function.
	(is_32bit_abs_reloc): New function.  Determines if a given reloc
	type is a 32-bit absolute relocation.
	(is_32bit_pcrel_reloc): New function.  Like is_32bit_abs_reloc but
	for pc-relative relocations.
	(is_64bit_abs_reloc): New function.  Like is_32bit_abs_reloc but
	for 64-bit absolute relocations.
	(is_16bit_abs_reloc): New function.  Like is_32bit_abs_reloc but
	for 32-bit absolute relocations.
	(debug_apply_rela_addends): Use the new functions.  Skip and warn
	about any unrecognised relocations.

2007-10-26  Karl Berry  <karl@@freefriends.org>

	* doc/binutils.texi: Move top stuff to the top.
	Use @@direntry/@@dircategory, format entries to play nicely with
	others.
	Avoid duplicate copying strings.
	Don't misspell "Texinfo".

2007-10-25  Daniel Jacobowitz  <dan@@codesourcery.com>

	* readelf.c (display_power_gnu_attribute): Add support for
	Tag_GNU_Power_ABI_Vector.

2007-10-25  Carlos Eduardo Seo  <cseo@@linux.vnet.ibm.com>

	* readelf.c (get_note_type): Handle NT_PPC_VMX.

2007-10-24  Alan Modra  <amodra@@bigpond.net.au>

	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.
	* po/POTFILES.in: Regenerate.

2007-10-24  Alan Modra  <amodra@@bigpond.net.au>

	* strings.c (print_strings): Don't use %L, use %ll in printf
	format strings.

2007-10-24  Tristan Gingold  <gingold@@adacore.com>
	    Alan Modra  <amodra@@bigpond.net.au>

	* readelf.c (process_program_headers): Use dynamic segment unless
	dynamic section is found.

2007-10-16  Bob Wilson  <bob.wilson@@acm.org>

	* doc/binutils.texi (objcopy, strip): Replace hyphens with em-dashes.
	(objdump, strip, c++filt): Correct punctuation for "e.g." and "i.e."
	and change to spell out "for example" in two places.

2007-10-16  Nick Clifton  <nickc@@redhat.com>

	* configure.in: Build windows tools for --enable-targets=all.
	* configure: Regenerate.

2007-10-15  Alan Modra  <amodra@@bigpond.net.au>

	* objdump.c (print_line): Check fwrite return value.
	* srconv.c (checksum, wr_tr, wr_cs): Likewise.
	* sysdump.c (fillup): Return zero on getc or fread EOF.  Return count
	read.

2007-10-10  Jim Blandy  <jimb@@codesourcery.com>

	* dwarf.c (process_debug_info): Line up section offsets of
	attribute values with those of dies.
	(read_and_display_attr): Reduce spacing here.

	* dwarf.c (display_debug_lines): Print the offset of each line
	number program header.

2007-10-09  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/4476
	* readelf.c (print_dynamic_symbol): New.
	(process_symbol_table): Handle DT_GNU_HASH for dynamic symbols.

2007-10-08  Carlos O'Donell  <carlos@@codesourcery.com>

	* resrc.c (read_rc_file): Rename e to edit, and c to dir.
	Pass dir to windres_add_include_dir.  Add comments.
	(close_input_stream): Check pclose error, and call fatal if
	the preprocessor failed.
	* windres.c (windres_add_include_dir): Assert that p is non-NULL,
	and not an empty string. 

2007-10-04  Nick Clifton  <nickc@@redhat.com>

	PR binutils/5098
	* dlltool.c: Fix spelling typos.

2007-10-03  Masaki Muranaka  <monaka@@monami-software.com>

	* readelf.c (dump_section_as_strings): Use %6tx instead of %6zx.

2007-09-25  Thien-Thi Nguyen  <ttn@@gnuvola.org>

	* MAINTAINERS: Fix typo.

2007-09-17  Shen Feng  <shen@@cn.fujitsu.com>

	* readelf.c (do_archive_index): New.
	(options): Add -c and --archive-index option.
	(usage): Add -c option.
	(parse_args): Add c option parsing.
	(process_archive): Dump archive index.
	* NEWS: Mention the new feature.
	* doc/binutils.texi: Document the new feature.

2007-09-17  Nick Clifton  <nickc@@redhat.com>

	* po/es.po: Updated Spanish translation.

2007-09-17  Nick Clifton  <nickc@@redhat.com>

	* doc/binutils.texi (objdump): Describe the output of the --syms
	option in more detail. 

2007-09-17  Alon Bar-Lev  <alon.barlev@@gmail.com>

	PR binutils/4987
        * resrc.c: (read_rc_file): Move 'filename' default initialization 
	to start of function.

2007-08-31  Michael Meissner  <michael.meissner@@amd.com>
	    Dwarakanath Rajagopal  <dwarak.rajagopal@@amd.com>

	* NEWS: Add note about SSE5 being added on i386.

2007-09-13  Alan Modra  <amodra@@bigpond.net.au>
	    Zhou Drangon <drangon.mail@@gmail.com>

	* nm.c (value_format_64bit, set_print_radix, print_value): Handle
	BFD_HOST_64BIT_LONG_LONG.
	* readelf.c (print_dec_vma): Don't define if BFD_HOST_64BIT_LONG_LONG.
	(print_vma): Handle BFD_HOST_64BIT_LONG_LONG.
	(dump_relocations): Likewise.  Expand _bfd_int64_low in a
	number of places.

2007-09-11  Kai Tietz  <kai.tietz@@onevision.com>

	* rcparse.y: (string_data): Removed ill token removal.

2007-09-10  Alan Modra  <amodra@@bigpond.net.au>

	PR 5011
	* readelf.c (process_version_sections): Don't read past end of
	various section buffers.

2007-08-31  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (INCLUDES): Remove -D_GNU_SOURCE.
	* Makefile.in: Regenerated.

	* sysdep.h: Include "config.h" first.

2007-08-31  Nick Clifton  <nickc@@redhat.com>

	* po/sk.po: New Slovakian translation.
	* configure.in (LINGUAS): Add sk.
	* configure: Regenerate.

2007-08-30  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (dump_type): New type used to classify the kinds of
	dump requested by the user.
	(dump_sects, cmdline_dump_sects): Use the new type.
	(options): Add --string-dump option.
	(request_dump): Rename to request_dump_bynumber.  Use dump_type.
	(request_dump_byname): Use dump_type.
	(parse_args): Parse --string-dump option.
	(process_section_headers): Fix calls to request_dump.
	(initialise_dumps_byname): Likewise.
	(dump_section): Rename to dump_section_as_bytes.
	(dump_section_as_strings): New function.  Display the contents of
	a section as printable strings.
	(process_section_contents): String dump the section if requested.
	(process_object): Use dump_type.
	(main): Likewise.
	* Makefile.am: Add dependency for readelf.c on safe-ctype.h.
	* Makefile.in: Regenerate.
	* NEWS: Mention the new feature.
	* doc/binutils.texi: Document the new feature.

2007-08-30  Nathan Sidwell  <nathan@@codesourcery.com>

	* bucomm.c (bfd_nonfatal_message): New.
	* bucomm.h (bfd_nonfatal_message): Declare.
	* objcopy.c (RETURN_NONFATAL): Take BFD not NAME, use
	bfd_nonfatal_message.
	(copy_unknown_object): Adjust bfd_nonfatal and RETURN_NONFATAL
	calls, or replace with bfd_nonfatal_message calls as appropriate.
	(copy_object, copy_archive, copy_file, setup_section,
	copy_section, write_debugging_info): Likewise.

2007-08-28  Nick Clifton  <nickc@@redhat.com>

	* NEWS: Mention Coverity's contribution.

2007-08-25  Ulrich Weigand  <uweigand@@de.ibm.com>

	* readelf.c (process_note): Recognize SPU core file notes.

2007-08-24  Daniel Jacobowitz  <dan@@codesourcery.com>

	* configure.in: Install embedspu on powerpc*-*-eabi* also.
	* configure: Regenerated.

2007-08-24  Daniel Jacobowitz  <dan@@codesourcery.com>

	* po/uk.po: Updated Ukrainian translation.

2007-08-22  Ben Elliston  <bje@@au.ibm.com>

	* doc/binutils.texi (objdump): Document -Mppcps.

2007-08-17  Alan Modra  <amodra@@bigpond.net.au>

	* po/Make-in: Add --msgid-bugs-address to xgettext invocation.

2007-08-16  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c: Revert last change.

2007-08-16  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (get_segment_type): Change PT_GNU_STACK to
	PT_GNU_ATTR.

2007-08-12  Daniel Jacobowitz  <dan@@codesourcery.com>

	* NEWS: Add a marker for the 2.18 features.

2007-08-12  Matthias Klose  <doko@@ubuntu.com>

	* doc/Makefile.am (AM_MAKEINFOFLAGS, TEXI2DVI): Include
	$(top_srcdir)/../../bfd/doc.
	* doc/Makefile.in: Regenerate.

2007-08-10  M R Swami Reddy <MR.Swami.Reddy@@nsc.com>

	* MAINTAINERS: Add myself as CR16 support maintainer and
	update myself as CRX support maintainer.

2007-08-10  Nick Clifton  <nickc@@redhat.com>

	* po/fi.po: Updated Finnish translation.
	* po/vi.po: Updated Vietnamese translation.

2007-08-10  Kai Tietz  <kai.tietz@@onevision.com>

	* doc/binutils.texi: (windmc): Correct incorrect desciption.

2007-08-04  Alan Modra  <amodra@@bigpond.net.au>

	PR 4888
	* objcopy.c (setup_section): Do modify section flags for ELF
	STRIP_NONDEBUG (reverting part of 2007-05-30 change).  Prevent
	header rewrite by twiddling input section flags instead.
	Simplify code setting SHT_NOBITS.

2007-07-28  Christopher Faylor  <me+binutils@@cgf.cx>

	* MAINTAINERS: Update my email address.

2007-07-26  Adam Nemet  <anemet@@caviumnetworks.com>

	* readelf.c (process_archive): Also skip Irix6-style archive symbol
	tables.

2007-07-24  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (NUM_ELEM): Remove redundant macro; replace references
	to it with references to ARRAY_SIZE.
	Add support for CR16.
	Fix formatting.

2007-07-19  Nick Clifton  <nickc@@redhat.com>

	PR binutils/4802
	* srconv.c (strip_suffix): Add const qualifier to argument.

2007-07-16  Nick Clifton  <nickc@@redhat.com>

	* po/uk.po: New Ukrainian translation.
	* configure.in (ALL_LINGUAS): Add 'uk'.
	* configure: Regenerate.

2007-07-10  Alan Modra  <amodra@@bigpond.net.au>

	* objdump.c (dump_dwarf): Correct setting of is_relocatable.

2007-07-09  Roland McGrath  <roland@@redhat.com>

	* readelf.c (get_gnu_elf_note_type): New function.
	(process_note): Use it for "GNU" name.

2007-07-08  Andreas Schwab  <schwab@@suse.de>

	* Makefile.am (HFILES): Add dwarf.h, sysdep.h and unwind-ia64.h.
	(CFILES): Add unwind-ia64.c.
	Regenerate dependencies.
	* Makefile.in: Regenerate.

2007-07-05  Nick Clifton  <nickc@@redhat.com>

	* addr2line.c: Update copyright notice to refer to GPLv3.
	* ar.c, arlex.l, arparse.y, arsup.c, arsup.h, bin2c.c, binemul.c,
	binemul.h, bucomm.c, bucomm.h, budbg.h, coffdump.c, coffgrok.c,
	coffgrok.h, cxxfilt.c, debug.c, debug.h, deflex.l, defparse.y,
	dlltool.c, dlltool.h, dllwrap.c, dwarf.c, dwarf.h, embedspu.sh,
	emul_aix.c, emul_vanilla.c, filemode.c, ieee.c, mclex.c,
	mcparse.y, nlmconv.c, nlmconv.h, nlmheader.y, nm.c, objcopy.c,
	objdump.c, prdbg.c, rclex.c, rcparse.y, rdcoff.c, rddbg.c,
	readelf.c, rename.c, resbin.c, rescoff.c, resrc.c, resres.c,
	size.c, srconv.c, stabs.c, strings.c, sysdep.h, sysdump.c,
	sysinfo.y, syslex.l, unwind-ia64.c, unwind-ia64.h, version.c,
	windint.h, windmc.c, windmc.h, windres.c, windres.h, winduni.c,
	winduni.h, wrstabs.c: Likewise.
	* is-ranlib.c, is-strip.c, maybe-ranlib.c, maybe-strip.c,
	not-ranlib.c, not-strip.c, ranlib.sh, sanity.sh: Add a copyright
	notice.
	* NEWS: Mention that the sources are now released under GPLv3.
	Add a marker for the changes that went into v2.17.
	* version.c (print_version): Specify that the program is released
	under version 3 of the GPL.

2007-07-05  Kai Tietz  <kai.tietz@@onevision.com>

	* resrc.c: (read_rc_file): Add include path of user passed rc
	input file.
	* windres.c: (windres_add_include_dir): New.
	(main): Use of windres_add_include_dir.
	* windres.h: (windres_add_include_dir): Add prototype.

2007-07-05  Alan Modra  <amodra@@bigpond.net.au>

	* doc/binutils.texi (size): Document --common.
	* size.c: Make a number of vars static.  Delete unnecessary
	function declarations.
	(show_common, common_size): New vars.
	(usage): Describe --common.
	(OPTION_FORMAT, OPTION_RADIX, OPTION_TARGET): Define and use.
	(long_options): Add common.
	(calculate_common_size): New function.
	(print_berkeley_format): Add common_size to bsssize.
	(sysv_one_line): New function split out from..
	(sysv_internal_printer): ..here.
	(print_sysv_format): Handle display of *COM*.
	(print_sizes): Call calculate_common_size.

2007-07-05  Alan Modra  <amodra@@bigpond.net.au>

	* emul_aix.c (ar_emul_aix_internal): Rename "next" to "archive_next".

2007-07-02  Alan Modra  <amodra@@bigpond.net.au>

	PR 4716
	* objcopy.c (filter_symbols): Correct relocatable file test.

2007-07-02  Alan Modra  <amodra@@bigpond.net.au>

	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.
	* aclocal.m4: Regenerate.
	* config.in: Regenerate.
	* doc/Makefile.in: Regenerate.
	* po/POTFILES.in: Regenerate.
	* po/binutils.pot: Regenerate.

2007-06-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* aclocal.m4: Regenerated.
	* doc/Makefile.in: Likewise.
	* Makefile.in: Likewise.

2007-06-29  Joseph Myers  <joseph@@codesourcery.com>

	* readelf.c (display_power_gnu_attribute, process_power_specific):
	New.
	(process_arch_specific): Call process_power_specific.

2007-06-29  Joseph Myers  <joseph@@codesourcery.com>

	* readelf.c (display_mips_gnu_attribute): New.
	(process_mips_specific): Call process_attributes.

2007-06-29  Joseph Myers  <joseph@@codesourcery.com>

	* readelf.c (display_gnu_attribute): New.
	(process_arm_specific): Rearrange as process_attributes.
	(process_arm_specific): Replace by wrapper of process_attributes.

2007-06-28  Roland McGrath  <roland@@frob.com>

	* objcopy.c (setup_section): Don't reset ELF section type to
	SHT_NOBITS when it is SHT_NOTE.
	* doc/binutils.texi (objcopy, strip): Mention under --only-keep-debug.

2007-06-27  Alan Modra  <amodra@@bigpond.net.au>

	* ar.c: Rename uses of bfd.next to bfd.archive_next throughout.
	* arsup.c: Likewise.
	* binemul.c: Likewise.
	* objcopy.c: Likewise.
	* dlltool.c: Likewise.

2007-06-26  Shantonu Sen  <ssen@@apple.com>

	PR binutils/4693
	* Makefile.am (windres_DEPENDENCIES, windmc_DEPENDENCIES): Move
	dependency on $(LIBICONV) to ...
	(windres_LDADD, windmc_LDADD) ... here.
	* Makefile.in: Regenerate.

2007-06-21  Alan Modra  <amodra@@bigpond.net.au>

	* embedspu.sh (relas): Correct sh_info parsing.

2007-06-19  Danny Smith  <dannysmith@@users.sourceforge.net>

	* objdump.c: Include sys/stat.h.

2007-06-19  Kai Tietz  <kai.tietz@@onevision.com>

	* Makefile.am: Add windmc tool.
	* Makefile.in: Regenerate.
	* configure.in: Add windmc tool.
	* configure: Regenerate.
	* mclex.c: New.
	* mcparse.y: New.
	* windmc.c: New.
	* windmc.h: New.
	* doc/Makefile.am: Add windmc tool.
	* doc/Makefile.in: Regenerate.
	* doc/binutils.texi: Add windmc documentation.
	* NEWS: Mention new tool.

2007-06-18  Andi Kleen  <ak@@suse.de>

	* objdump.c: Include sys/mman.h
	(print_file_list): Remove f, add map, mapsize, linemap, maxline,
	last_line, first fields.
	(slurp_file): Add.
	(index_file): Add.
	(print_file_open): Call slurp_file and index_file. Initialize new
	fields.
	(skip_to_line): Rename to print_line and write only single line.
	(dump_line): Add.
	(show_line): Change to new algorithm.

2007-06-18  Thomas Weidenmueller  <w3seek@@reactos.org>

	* resres.c (probe_binary): Fix test for badly formatted headers.

2007-06-18  Kai Tietz  <Kai.Tietz@@onevision.com>

	* rclex.c: (cpp_line): Add code_page pragma support.
	* windres.c: (usage, long_options, main): Add new option
	--codepage or -c.
	* winduni.c: (wind_default_codepage, wind_current_codepage): New.
	(unicode_from_ascii, ascii_from_unicode): Use
	wind_current_codepage as codepage parameter.
	(unicode_print): Print 4 characters for hexadecimal values in
	unicode strings.
	* winduni.h:  (wind_default_codepage, wind_current_codepage):
	Export.
	* doc/binutils.texi: Document new option.
	* NEWS: Mention new features of windres.

2007-06-18  Brian D. Watt  <bwatt@@us.ibm.com>

	* embedspu.sh: Parse _SPUEAR_ symbol values as hex.

2007-06-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (ACLOCAL_AMFLAGS): Add -I ../config -I ../bfd.

	* acinclude.m4: Removed.

	* Makefile.in: Regenerated.
	* aclocal.m4: Likewise.
	* configure: Likewise.

2007-06-11  Nathan Sidwell  <nathan@@codesourcery.com>

	* dwarf.c (decode_location_expression): Add DW_OP_form_tls_address.

2007-06-06  Kai Tietz  <Kai.Tietz@@onevision.com>

	PR binutils/4356 binutils/591
	* resrc.c (filename_need_quotes): New function.
	(look_for_default): If filename_need_quotes is true then quote the
	filename in the command line being created.
	(read_rc_file): Likewise.

2007-06-06  Ben Elliston  <bje@@au.ibm.com>

	* doc/binutils.texi (objdump): Fix capitalisation of "PowerPC".

2007-06-05  Kai Tietz  <Kai.Tietz@@onevision.com>

	* Makefile.am: Add LIBICONV to windres.
	* acinclude.m4: Added missing "lib-*.m4" and "lt*.m4" files.
	* configure.in: Add AC_CHECK_HEADER for iconv.h and use AM_ICONV.
	* config.in: Add ICONV defines.
	* aclocal.m4: Regenerate.
	* confugure: Regenerate.
	* winduni.c: (local_iconv_map codepages, wind_language_t,
	languages, unicode_is_valid_codepage, wind_find_language_by_id,
	wind_find_language_by_codepage, wind_find_codepage_info,
	unicode_from_codepage, codepage_from_unicode, iconv_onechar,
	wind_iconv_cp, wind_MultiByteToWideChar wind_WideCharToMultiByte):
	New.
	(ascii_from_unicode): Use codepage_from_unicode.
	(ascii_from_unicode): Use unicode_from_codepage.
	Use for cygwin windows API for unicode transformation.
	* winduni.h: (CP_ACP, CP_UTF7, CP_UTF8, CP_OEM, CP_UTF16): New
	macros.
	(wind_language_t, local_iconv_map): New types.
	(wind_find_language_by_id, wind_find_language_by_codepage,
	unicode_is_valid_codepage, wind_find_codepage_info,
	unicode_from_codepage, codepage_from_unicode): New
	prototypes.

2007-06-05  Alan Modra  <amodra@@bigpond.net.au>

	* embedspu.sh: Handle R_SPU_PPU* relocs with no symbol.

2007-05-30  Alan Modra  <amodra@@bigpond.net.au>

	* objcopy.c (copy_object): Revert 2007-05-11 change.  Don't
	avoid calling bfd_copy_private_bfd_data for ELF STRIP_NONDEBUG.
	(setup_section): Don't modify flags, and don't avoid calling
	bfd_copy_private_section_data for ELF STRIP_NONDEBUG.
	* readelf.c (process_program_headers): Ignore .dynamic of type
	SHT_NOBITS.

2007-05-29  Alan Modra  <amodra@@bigpond.net.au>

	* embedspu.sh: Emit SPU ELF image to .data.rel.ro.speelf if
	pic or pie and image needs relocs.

2007-05-24  Steve Ellcey  <sje@@cup.hp.com>

	* Makefile.in: Regenerate.
	* configure: Regenerate.
	* aclocal.m4: Regenerate.
	* doc/Makefile.in: Regenerate.

2007-05-24  Kai Tietz  <Kai.Tietz@@onevision.com>

	* rcparse.y: Join strings for elements having no side-effects in
	"rc"-grammar.

2007-05-23  Kai Tietz  <Kai.Tietz@@onevision.com>

	* rclex.c: New file replacing rclex.l.
	* rclex.l: Removed.
	* windint.h: New file holding common structure and type
	definitions.
	* Makefile.am: Added new header windint.h and exchanged rclex.l by
	rclex.c.
	* Makefile.in: Regenerate.
	* rcparse.y: Renamed some structures.
	Use in internal representation always bfd_vma instead of long or
	int.
	Removed from %union unused stringtable.
	Added to %union suni structure for unicode strings.
	Added new tokens for ANICURSOR, ANIICON, DLGINCLUDE,
	DLGINIT, FONTDIR, HTML, MANIFEST, PLUGPLAY, VXD,
	TOOLBAR, BUTTON, QUOTEDUNISTRING, and SIZEDUNISTRING.
	Added support for these new rc file tokens.
	* resbin.c: Rewrote using bfd and binary structures, and support
	new resource types.
	* rescoff.c: Likewise.
	* resres.c: Likewise.
	* resrc.c: Likewise. Dumps as RC are now recompilable.
	* windres.c: As above. Using bfd for res and provide target
	specific endianess support.
	* windres.h: Use windint.h as include. Additionally removed K&R
	syntax.
	* winduni.c: New printing and unichar support routines.
	* winduni.h: Prototypes for new unichar helpers.
	* windint.h: New file.

2007-05-22  Paul Brook  <paul@@codesourcery.com>

	* objdump.c (find_symbol_for_address): Merge section and target
	specific filtering code.

2007-05-22  Nick Clifton  <nickc@@redhat.com>

	* doc/binutils.texi: Use @@copying around the copyright notice.

2007-05-21  Richard Sandiford  <richard@@codesourcery.com>

	* objdump.c (disassemble_bytes): Ignore disassembler_needs_relocs
	for executables and shared libraries.

2007-05-18  Nathan Sidwell  <nathan@@codesourcery.com>

	* objcopy.c (strip_main): Detect identical input and output file
	names.
	(copy_main): Refactor tempname detection and use.

2007-05-17  Nick Clifton  <nickc@@redhat.com>

	* objdump.c (load_debug_section): Select bias for DWARF debug
	addresses based on the flavour of the bfd.

2007-05-11  Alan Modra  <amodra@@bigpond.net.au>

	PR 4479
	* objcopy.c (copy_object): Don't copy ELF program headers for
	--only-keep-debug.

2007-05-11  Alan Modra  <amodra@@bigpond.net.au>

	* embedspu.sh (find_prog): Prefer prog in same dir as embedspu
	over one found on the users path.
	(main): Generate .reloc for each R_SPU_PPU* reloc.

2007-04-28  Alan Modra  <amodra@@bigpond.net.au>

	* prdbg.c (tg_variable): Adjust for changed demangler.
	(tg_start_function): Likewise.

2007-04-27  Alan Modra  <amodra@@bigpond.net.au>

	* bucumm.h: Split off host dependencies to..
	* sysdep.h: ..here.
	Many files: Include sysdep.h.  Remove duplicate headers and reorder.
	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.

2007-04-24  Nick Clifton  <nickc@@redhat.com>

	* srconv.c (walk_tree_type_1): Initialise dpt.dunno.

2007-04-24  Nathan Froyd  <froydnj@@codesourcery.com>
	    Phil Edwards  <phil@@codesourcery.com>

	* objcopy.c (filter_symbols): Explicitly stripping a symbol
	used in relocations is an error.
	Retype 'keep' to bfd_boolean.

2007-04-24  Alan Modra  <amodra@@bigpond.net.au>

	* Makefile.in: Regenerate.
	* doc/Makefile.in: Regenerate.

2007-04-20  Nathan Froyd  <froydnj@@codesourcery.com>
	    Phil Edwards  <phil@@codesourcery.com>
	    Thomas de Lellis <tdel@@windriver.com>

	* objcopy.c (reverse_bytes):  New variable.
	(command_line_switch, copy_main):  Add OPTION_REVERSE_ENDIAN.
	(copy_options, copy_usage):  Add "reverse-bytes" entry.
	(copy_section):  Reverse bytes within output sections.
	* doc/binutils.texi:  Document new objcopy option.

2007-04-20  Nick Clifton  <nickc@@redhat.com>

	* rclex.l: Allow underscores at the start of identifiers.

2007-04-19  Alan Modra  <amodra@@bigpond.net.au>

	* budemang.c: Delete.
	* budemang.h: Delete.
	* addr2line.c (translate_addresses): Call bfd_demangle rather than
	demangle.
	* nm.c (print_symname): Likewise.
	* objdump.c (objdump_print_symname, dump_symbols): Likewise.
	(dump_bfd): Likewise.
	* prdbg.c (struct pr_handle <demangler>): Add int param.
	(tg_variable, tg_start_function): Adjust demangler calls.
	* Makefile.am: Remove mention of budemang.[ch].  Run "make dep-am".
	* Makefile.in: Regenerate.
	* po/POTFILES.in: Regenerate.

2007-04-14  Steve Ellcey  <sje@@cup.hp.com>

	* Makefile.am: Add ACLOCAL_AMFLAGS.
	* configure.in: Change macro call order.
	* Makefile.in: Regenerate.
	* configure: Regenerate.

2007-04-13  Nathan Sidwell  <nathan@@codesourcery.com>

	* Makefile.am (TOOL_PROGS): Add objcopy.
	* Makefile.in: Rebuilt.

2007-04-12  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/4348
	* objcopy.c (copy_object): Don't stop when there are no
	sections to be copied.

2007-04-10  Vladimir Prus  <vladimir@@codesourcery.com>

	* NEWS: Mention disjoint histograms support in
	gprof.

2007-04-09  Daniel Jacobowitz  <dan@@codesourcery.com>

	* dwarf.c (process_debug_info): Do not require DW_AT_frame_base for
	DW_TAG_inlined_subroutine.

2007-04-06  Matt Thomas  <matt@@netbsd.org>

	* MAINTAINERS: Add myself as VAX and NetBSD support maintainer.

2007-04-05  Alan Modra  <amodra@@bigpond.net.au>

	PR binutils/4292
	* nm.c (print_value): Cast bfd_vma to unsigned long to suit
	value_format_32bit.

2007-04-02  Nick Clifton  <nickc@@redhat.com>

	PR binutils/4292
	* nm.c (value_format): Replace with value_format_32bit and
	value_format_64bit.
	(set_radix): Update setting of value_format.
	(set_print_width): New function.  Compute the address size of a
	given bfd and set the print_width global appropriately.
	(display_archive): Use set_print_width.
	(display_file): Likewise,
	(print_object_filename_sysv): Update use of print_width.
	(print_archive_member_sysv): Likewise.
	(print_symbol_filename_posix): Likewise.
	(print_sumbol_info_bfd, print_symbol_info_sysv): Likewise.

2007-03-28  Richard Sandiford  <richard@@codesourcery.com>
	    Phil Edwards  <phil@@codesourcery.com>

	* doc/binutils.texi: Put the contents after the title page rather
	than at the end of the document.

2007-03-28  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (slurp_rela_relocs): Add newline to end of error
	messages.
	(slurp_rel_relocs, request_dump, request_dump_byname,
	process_program_headers, process_dynamic_section,
	process_symbol_table, process_mips_specific, main): Likewise.

2007-03-28  Alan Modra  <amodra@@bigpond.net.au>

	* MAINTAINERS: Update mailing list addresses.  Add myself
	as PPC maintainer.

2007-03-27  Alan Modra  <amodra@@bigpond.net.au>

	* embedspu.sh: Correct toe_addr quoting.

2007-03-27  Alan Modra  <amodra@@bigpond.net.au>

	* embedspu.sh: Combine "_EAR_" and "_EAR_*" patterns.  Tighten
	.toe section and .toe address checks.  Use .reloc for _EAR*
	symbols defined in non-BSS sections.  Build table for _SPUEAR_
	symbols.

2007-03-23  Kaz Kojima  <kkojima@@rr.iij4u.or.jp>

	PR gas/3811
	* readelf.c (debug_apply_rela_addends): Do nothing for SH.

2007-03-22  Joseph Myers  <joseph@@codesourcery.com>

	* doc/binutils.texi: Include VERSION_PACKAGE when reporting
	version.

2007-03-16  Kai Tietz  <Kai.Tietz@@onevision.com>

	* dlltool.c (make_one_lib_file): Use pc-relative relocation
	instead of an absolute relocation for x86_64-pc-mingw32 target.

2007-03-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (REPORT_BUGS_TO): Removed.
	(INCLUDES): Remove -DREPORT_BUGS_TO.
	* Makefile.in: Regenerated.

	* bucomm.c: Don't include bfdver.h.
	* objdump.c: Likewise.
	* version.c: Likewise.

	* bucomm.h: Include bfdver.h.

	* configure.in (--with-bugurl): Removed.
	* configure: Regenerated.

	* doc/Makefile.am (binutils_TEXINFOS): Removed.
	(AM_MAKEINFOFLAGS): Add -I ../../bfd/doc.
	(TEXI2DVI): Likewise.
	(config.texi): Removed.
	(MOSTLYCLEANFILES): Remove config.texi.
	* doc/Makefile.in: Regenerated.

	* doc/binutils.texi: Include bfdver.texi instead of
	config.texi.

2007-03-13  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (dump_section): Also test for SHT_REL sections when
	producing the warning about unapplied relocs.

2007-03-07  Joseph Myers  <joseph@@codesourcery.com>

	* configure.in (REPORT_BUGS_TEXI): Define to Texinfo version of
	bug-reporting URL.
	* doc/Makefile.am (config.texi): Define BUGURL.
	* doc/binutils.texi: Use BUGURL.  Remove text about large files
	and uuencoding.
	* Makefile.in, configure, doc/Makefile.in: Regenerate.

2007-03-01  Phil Edwards  <phil@@codesourcery.com>
	    Richard Sandiford  <richard@@codesourcery.com>

	* NEWS: Mention addition of --extract-symbol.
	* doc/binutils.texi: Document it.
	* objcopy.c (extract_symbol): New variable.
	(OPTION_EXTRACT_SYMBOLS): New command_line_switch.
	(copy_options): Add an entry for --extract-symbol.
	(copy_usage): Mention --extract-symbol.
	(copy_object): Set the start address to zero for --extract-symbol.
	Do not copy private BFD data in that case.
	(setup_section): Set the size, LMA and VMA to zero for
	--extract-symbol.  Do not copy private BFD data in that case.
	(copy_section): Do not copy section contents if --extract-symbol
	is passed.
	(copy_main): Set extract_symbol to TRUE if --extract-symbol
	is passed.

2007-03-01  Paul Brook  <paul@@codesourcery.com>

	* MAINTAINERS: Update my entry.

2007-03-01  Joseph Myers  <joseph@@codesourcery.com>

	* version.c: Update copyright date.

2007-03-01  Daniel Jacobowitz  <dan@@codesourcery.com>

	* Makefile.am (install-exec-local): Depend on $(noinst_PROGRAMS).
	Adjust $(EXEEXT) handling for $(RENAMED_PROGS).
	* Makefile.in, doc/Makefile.in: Regenerate.

2007-03-01  Alan Modra  <amodra@@bigpond.net.au>

	* embedspu.sh: Set type and size of global program handle symbol.

2007-02-28  Alan Modra  <amodra@@bigpond.net.au>

	* Makefile.am (PROGS): Delete.
	(RENAMED_PROGS): Define.  Extracted from..
	(noinst_PROGRAMS): ..here.  Add BUILD_MISC.
	(install-exec-local): Adjust.
	* Makefile.in: Regenerate.

2007-02-28  Alan Modra  <amodra@@bigpond.net.au>

	* Makefile.am (PROGS): Add BUILD_INSTALL_MISC.
	(bin_PROGRAMS): Replace BUILD_MISC with BUILD_INSTALL_MISC.
	(EXTRA_PROGRAMS): Remove bin2c.
	(bin2c$(EXEEXT_FOR_BUILD)): New rule.
	(bin2c_SOURCES): Delete.
	(DISTCLEANFILES): Remove sysinfo.
	(MOSTLYCLEANFILES): Add sysinfo$(EXEEXT_FOR_BUILD) and
	bin2c$(EXEEXT_FOR_BUILD).
	* configure.in (BUILD_MISC): Add $(EXEEXT_FOR_BUILD) to bin2c.
	Move embedspu to..
	(BUILD_INSTALL_MISC): ..here.
	* Makefile.in: Regenerate.
	* configure: Regenerate.

2007-02-27  Alan Modra  <amodra@@bigpond.net.au>

	* bin2c.c: New file.
	* Makefile.am (EXTRA_PROGRAMS): Add bin2c.
	(CFILES): Add bin2c.c.
	(bin2c_SOURCES): Define.
	(bin2c.o): Dependencies from "make dep-am".
	* configure.in (BUILD_MISC): Add bin2c.
	* version.c: Update year.
	* po/POTFILES.in: Regenerate.
	* Makefile.in: Regenerate.
	* configure: Regenerate.

2007-02-17  Mark Mitchell  <mark@@codesourcery.com>
	    Nathan Sidwell  <nathan@@codesourcery.com>
	    Vladimir Prus  <vladimir@@codesourcery.com
	    Joseph Myers  <joseph@@codesourcery.com>

	* configure.in (--with-bugurl): New option.
	* configure: Regenerate.
	* Makefile.am (REPORT_BUGS_TO): Define.
	(INCLUDES): Define REPORT_BUGS_TO.
	Regenerate dependencies.
	* Makefile.in: Regenerate.
	* doc/Makefile.in: Regenerate.
	* bucomm.h: Remove include of bin-bugs.h.
	* addr2line.c (usage): Don't print empty REPORT_BUGS_TO.
	* ar.c (usage): Pass s to list_supported_targets.  Don't print
	empty REPORT_BUGS_TO.
	* coffdump.c (show_usage): Don't print empty REPORT_BUGS_TO.
	* cxxfilt.c (usage): Print bug url when giving help.
	* dlltool.c (usage): Likewise.
	* dllwrap.c (usage): Likewise.
	* nlmconv.c (show_usage): Don't print empty REPORT_BUGS_TO.
	* nm.c (usage): Likewise.
	* objcopy.c (copy_usage, strip_usage): Likewise.
	* objdump.c (usage): Likewise.
	* readelf.c ((usage): Likewise. Add STREAM argument.  Adjust
	callers.
	* size.c (usage): Don't print empty REPORT_BUGS_TO.
	* srconv.c (show_usage): Likewise.
	* strings.c (usage): Likewise.
	* sysdymp.c (show_usage): Likewise.
	* windres.c (usage): Likewise.

2007-02-13  Alan Modra  <amodra@@bigpond.net.au>

	* embedspu.sh: Add -W to readelf invocation.

2007-02-06  Dave Brolley  <brolley@@redhat.com>

	* MAINTAINERS: Add myself as the maintainer of the MeP port.

2007-02-06  Nick Clifton  <nickc@@redhat.com>

	PR gas/3800
	* readelf.c: Include elf/h8.h twice.  The first time in order to
	get the reloc numbers, the second time in order to get the reloc
	decoder function.
	(dump_section): Tell the user if the section being displayed has
	unprocessed relocs associated with it.
	(get_reloc_size): New function - returns the size of a reloc.
	(debug_apply_rela_addends): Use get_reloc_size().
	* dwarf.c (read_and_display_attr_value): Extend number of
	languages known for the DW_AT_language attribute.
	(process_debug_info): Display the attribute offset before decoding
	the attribute, in case there are problems.

2007-02-05  Dave Brolley  <brolley@@redhat.com>

	* readelf.c (dump_relocations): Don't check for
	(rtype == NULL && type == R_RELC).

2007-02-05  Dave Brolley  <brolley@@redhat.com>

	* Makefile.am (readelf.o): Depends on $(INCDIR)/elf/mep.h.
	* Makefile.in: Regenerated.
	* Contribute the following changes:
	2003-10-29  Dave Brolley  <brolley@@redhat.com>

	* configure.in: Define SKIP_ZEROES and SKIP_ZEROES_AT_END for mep.
	* configure: Regenerated.

	2001-04-03  Ben Elliston  <bje@@redhat.com>

	* readelf.c: Include "elf/mep.h".
	(guess_is_rela): Handle EM_CYGNUS_MEP.
	(get_machine_name): Ditto.
	(dump_relocations): Ditto.

2007-02-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* MAINTAINERS: Add a space between H.J. and Lu.

2007-02-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* doc/binutils.texi (objdump): Document the new addr64 option
	for i386 disassembler.

2007-02-02  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/3945
	* configure.in (DLLTOOL_DEFAULT): New. Defined for the first PE
	target.
	(DLLTOOL_DEFS): Add $DLLTOOL_DEFAULT.
	* configure: Regenerated.

	* dlltool.c (mname): Defined with DLLTOOL_DEFAULT_XXX.

2007-02-02  Nick Clifton  <nickc@@redhat.com>

	* doc/binutils.texi (objdump): Document support for disassembling
	the 440 PowerPC architecture.

2007-01-31  Nathan Sidwell  <nathan@@codesourcery.com>

	* dwarf.c (process_debug_info): Protect against bogus length and
	abbrev offsets.

2007-01-25  Kazu Hirata  <kazu@@codesourcery.com>

	* ar.c (print_contents, extract_file): Cast the return value
	of fwrite to size_t.

2007-01-12  Alan Modra  <amodra@@bigpond.net.au>

	* ar.c (open_inarch): Check fwrite return.  Use size_t.
	(extract_file): Likewise.  Remove test for "negative" file size.
	* readelf.c (process_program_headers): Check fscanf return.

2007-01-11  H.J. Lu  <hongjiu.lu@@intel.com>

	* bucomm.c (template_in_dir): Fix typo.

2007-01-11  Alan Modra  <amodra@@bigpond.net.au>

	* embedspu.sh: New file.
	* Makefile.am (embedspu): Add rule.
	* configure.in (BUILD_MISC): Add embedspu for powerpc-linux.
	* Makefile.in: Regenerate.
	* configure: Regenerate.

2007-01-11  Alan Modra  <amodra@@bigpond.net.au>

	* bucomm.h (make_tempdir): Declare independently of HAVE_MKDTEMP.
	* bucomm.c (template_in_dir): New function, split out from..
	(make_tempname): ..here.  Open the file with O_EXCL if !HAVE_MKSTEMP.
	(make_tempdir): Use template_in_dir.  Handle directory creation
	when !HAVE_MKDTEMP.
	* objcopy.c (MKDIR): Don't define.
	(copy_archive): Use make_tempdir when !HAVE_MKDTEMP too.  Fix
	error message.

2007-01-08  Kazu Hirata  <kazu@@codesourcery.com>

	* readelf.c (get_machine_flags): Treat Fido as an architecture
	by itself.

2007-01-08  Kai Tietz	<kai.tietz@@onevision.com>

	* configure.in: Renamed target x86_64-*-mingw64 to
	x86_64-*-mingw*.
	* configure: Regenerated.

2007-01-05  Alan Modra  <amodra@@bigpond.net.au>

	* readelf.c (dump_section): Don't print 32-bit values, which
	were done incorrectly for little-endian.  Instead print bytes.

For older changes see ChangeLog-2006
@


1.1275
log
@binutils/

2007-12-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* doc/binutils.texi: Document the new intel-mnemonic and
	intel-mnemonic options for i386 disassembler.

gas/testsuite/

2007-12-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/compat-intel.d: New file.
	* gas/i386/compat.d: Likewise.
	* gas/i386/compat.s: Likewise.

	* gas/i386/i386.exp: Run compat.

opcodes/

2007-12-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (intel_mnemonic): New.
	(print_i386_disassembler_options): Display att-mnemonic and
	intel-mnemonic options.
	(print_insn): Handle att-mnemonic and intel-mnemonic.
	(float_reg): Replace SYSV386_COMPAT with "!M" and "M".
	(putop): Handle "!M" and "M".
@
text
@d1 4
@


1.1274
log
@	* readelf.c (is_32bit_pcrel_reloc): Add Xtensa.
@
text
@d1 5
@


1.1273
log
@	* readelf.c (is_32bit_abs_reloc, is_32bit_pcrel_reloc): Add SPU.
@
text
@d1 4
@


1.1272
log
@	bfd/
	* archures.c (bfd_mach_mips_loongson_2e): New.
	(bfd_mach_mips_loongson_2f): New.
	* bfd-in2.h (bfd_mach_mips_loongson_2e): New.
	(bfd_mach_mips_loongson_2f): New.
	* cpu-mips.c: Add I_loongson_2e and I_loongson_2f to
	anonymous enum.
	(arch_info_struct): Add Loongson-2E and Loongson-2F entries.
	* elfxx-mips.c (_bfd_elf_mips_mach): Handle Loongson-2E
	and Loongson-2F flags.
	(mips_set_isa_flags): Likewise.
	(mips_mach_extensions): Add Loongson-2E and Loongson-2F
	entries.

	binutils/
	* readelf.c (get_machine_flags): Handle Loongson-2E and -2F
	flags.

	gas/
	* config/tc-mips.c (mips_cpu_info_table): Add loongson2e
	and loongson2f entries.
	* doc/c-mips.texi: Document -march=loongson{2e,2f} options.

	gas/testsuite/
	* gas/mips/mips.exp: Add loongson-2e and -2f tests.
	* gas/mips/loongson-2e.d: New.
	* gas/mips/loongson-2e.s: New.
	* gas/mips/loongson-2f.d: New.
	* gas/mips/loongson-2f.s: New.

	include/elf/
	* mips.h (E_MIPS_MACH_LS2E): New.
	(E_MIPS_MACH_LS2F): New.

	include/opcode/
	* mips.h (INSN_LOONGSON_2E): New.
	(INSN_LOONGSON_2F): New.
	(CPU_LOONGSON_2E): New.
	(CPU_LOONGSON_2F): New.
	(OPCODE_IS_MEMBER): Update for Loongson-2E and -2F flags.

	opcodes/
	* mips-dis.c (mips_arch_choices): Add Loongson-2E and -2F
	entries.
	* mips-opc.c (IL2E): New.
	(IL2F): New.
	(mips_builtin_opcodes): Add Loongson-2E and -2F instructions.
	Allow movz and movn for Loongson-2E and -2F.  Add movnz entry.
	Move coprocessor encodings to the end of the table.  Allow
	certain MIPS V .ps instructions on the Loongson-2E and -2F.
@
text
@d1 4
@


1.1271
log
@	* cxxfilt.c (demangle_it): Don't call printf without format string.
@
text
@d1 5
@


1.1270
log
@	* dwarf.c (display_debug_loc): Cast section_end - start to long
	for output format.
@
text
@d1 4
@


1.1269
log
@* dwarf.c (display_debug_loc): Issue a warning if there are bytes at the end
  of the .debug_loc section which are not referenced by any attribute in the
  .debug_info section.
@
text
@d1 5
@


1.1268
log
@* readelf.c (is_32bit_abs_reloc): Add support for NIOS relocs.
   (is_64bit_abs_reloc): Add support for HPPA relocs.
   (is_16bit_abs_reloc): Add support for NIOS relocs.
@
text
@d1 6
@


1.1267
log
@	[ld/testsuite/ChangeLog]
	* ld-mips-elf/attr-gnu-4-14.d, ld-mips-elf/attr-gnu-4-41.d:
	Adjust warning message for -mfp64 flag.
	* ld-mips-elf/attr-gnu-4-5.s, ld-mips-elf/attr-gnu-4-04.d,
	ld-mips-elf/attr-gnu-4-51.d, ld-mips-elf/attr-gnu-4-05.d,
	ld-mips-elf/attr-gnu-4-15.d, ld-mips-elf/attr-gnu-4-24.d,
	ld-mips-elf/attr-gnu-4-25.d, ld-mips-elf/attr-gnu-4-34.d,
	ld-mips-elf/attr-gnu-4-35.d, ld-mips-elf/attr-gnu-4-42.d,
	ld-mips-elf/attr-gnu-4-43.d, ld-mips-elf/attr-gnu-4-44.d,
	ld-mips-elf/attr-gnu-4-45.d, ld-mips-elf/attr-gnu-4-40.d,
	ld-mips-elf/attr-gnu-4-14.d: New testcases files.
	* ld-mips-elf/mips-elf.exp: Run new testcases.

	[binutils/ChangeLog]
	* readelf.c (display_mips_gnu_attribute): Recognize -mips32r2 -mfp64
	objects.

	[include/ChangeLog]
	* elf/mips.h (Tag_GNU_MIPS_ABI_FP): Mention -mips32r2 -mfp64 variant
	in comment.

	[bfd/ChangeLog]
	* elfxx-mips.c (mips_elf_merge_obj_attributes): Handle -mips32r2
	-mfp64 attribute.

	[gas/ChangeLog]
	* doc/as.texinfo: Document the new attribute value.
@
text
@d1 6
@


1.1266
log
@* dwarf2.h: Mention the location of the DWARF3 spec on the web.
  (DW_AT_stride_size): Rename to DW_AT_bit_stride.
  (DW_AT_stride): Rename to DW_AT_byte_stride.
* dwarf.c (process_extended_line_op): Add cases for HP extensions to the line ops.
  Mention if an unknown op code is in the user defined range.
  (decode_location_expression): Add cases for HP extensions, the DW_OP_GNU_uninit extension and the DW_OP_call_frame_cfa and DW_OP_bit_piece DWARF3 operators.
  (read_and_display_attr): Correct list of attributes which can reference a location list.
  (read_and_display_attr_value): Add cases for DWARF3 values and HP extensions.
  Correct list of attributes which can reference a location list.
  (get_AT_name): Add cases for DWARF3 values and HP and PGI extensions.
@
text
@d1 5
@


1.1265
log
@* doc/binutils.texi: Update to FDL 1.2.
  (Top): consistent punctuation in menu entries.
  (Index): Rename from Binutils Index.
* doc/fdl.texi: Update from http://www.gnu.org/licenses/fdl.texi.
@
text
@d1 16
@


1.1264
log
@* dwarf.c (is_relocatable): Remove definition.
  (display_debug_frames): Remove check in is_relocatable.
* dwarf.h (is_relocatable): Remove declaration.
* objdump.c (is_relocatable): New static definition.
* readelf.c (dump_relocations): Make the function void.
  (is_32bit_abs_reloc): Add support for x86, Arc, Arm, D10V, Dlx, OR32 and Score.
  (is_32bit_pcrel_reloc): Add support for x86 and Arm.
  (is_16bit_abs_reloc): Add support for D10V.
  (debug_apply_rela_addends): Rename to debug_apply_relocations.
  Add code to support rel relocations.
  (load_debug_section): Fix call to debug_apply_relocations.
  (get_file_header): Remove setting of is_relocatable.
* gas/cfi/cfi-common-6.d: Allow for possible relocation of the .debug.eh_frame section.
@
text
@d1 7
@


1.1263
log
@	* readelf.c (debug_apply_rela_addends): Clarify FIXME.
@
text
@d1 16
@


1.1262
log
@* readelf.c (is_32bit_abs_reloc): Add knowledge of reloc used by IA64.
  (is_64bit_abs_reloc): Likewise.
@
text
@d1 4
@


1.1261
log
@* dwarf.c (process_debug_info): Check for corrupt lengths.
* readelf.c (get_reloc_type): New function.  Returns the reloc number extracted from the info field of a reloc.
  (get_reloc_symindex): New function.  Returns the symbol index
  (extracted from the info field of a reloc.
  (dump_relocations): Use the new functions.
  (slurp_ia64_unwind_table): Use the new functions.
  (slurp_hppa_unwind_table): Use the new functions.
  (dump_section_as_bytes): Use the new functions.
  (get_reloc_size): Delete function.
  (is_32bit_abs_reloc): New function.  Determines if a given reloc type is a 32-bit absolute relocation.
  (is_32bit_pcrel_reloc): New function.  Like is_32bit_abs_reloc but for pc-relative relocations.
  (is_64bit_abs_reloc): New function.  Like is_32bit_abs_reloc but for 64-bit absolute relocations.
  (is_16bit_abs_reloc): New function.  Like is_32bit_abs_reloc but for 32-bit absolute relocations.
  (debug_apply_rela_addends): Use the new functions.  Skip and warn about any unrecognised relocations.
@
text
@d1 6
@


1.1260
log
@* doc/binutils.texi: Move top stuff to the top.
  Use @@direntry/@@dircategory, format entries to play nicely with others.
  Avoid duplicate copying strings.
  Don't misspell "Texinfo".
@
text
@d1 23
@


1.1259
log
@	* elf32-ppc.c (ppc_elf_merge_obj_attributes): Add support for
	Tag_GNU_Power_ABI_Vector.

	* readelf.c (display_power_gnu_attribute): Add support for
	Tag_GNU_Power_ABI_Vector.

	* ppc.h (Tag_GNU_Power_ABI_Vector): New.

	* ld-powerpc/attr-gnu-8-1.s, ld-powerpc/attr-gnu-8-11.d,
	ld-powerpc/attr-gnu-8-2.s, ld-powerpc/attr-gnu-8-23.d,
	ld-powerpc/attr-gnu-8-3.s, ld-powerpc/attr-gnu-8-31.d: New.
	* ld-powerpc/powerpc.exp: Run new tests.
@
text
@d1 8
@


1.1258
log
@	* readelf.c (get_note_type): Handle NT_PPC_VMX.
@
text
@d1 5
@


1.1257
log
@	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.
	* po/POTFILES.in: Regenerate.
@
text
@d1 4
@


1.1256
log
@	* strings.c (print_strings): Don't use %L, use %ll in printf
	format strings.
@
text
@d3 6
@


1.1255
log
@	* readelf.c (process_program_headers): Use dynamic segment unless
	dynamic section is found.
@
text
@d1 5
@


1.1254
log
@	* doc/binutils.texi (objcopy, strip): Replace hyphens with em-dashes.
	(objdump, strip, c++filt): Correct punctuation for "e.g." and "i.e."
	and change to spell out "for example" in two places.
@
text
@d1 6
@


1.1253
log
@* configure.in: Build windows tools for --enable-targets=all.
* configure: Regenerate.
@
text
@d1 6
@


1.1252
log
@	* objdump.c (print_line): Check fwrite return value.
	* srconv.c (checksum, wr_tr, wr_cs): Likewise.
	* sysdump.c (fillup): Return zero on getc or fread EOF.  Return count
	read.
@
text
@d1 5
@


1.1251
log
@* dwarf.c (process_debug_info): Line up section offsets of
attribute values with those of dies.
(read_and_display_attr): Reduce spacing here.
@
text
@d1 7
@


1.1250
log
@* dwarf.c (display_debug_lines): Print the offset of each line
number program header.
@
text
@d3 4
@


1.1249
log
@binutils/

2007-10-09  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/4476
	* readelf.c (print_dynamic_symbol): New.
	(process_symbol_table): Handle DT_GNU_HASH for dynamic symbols.

ld/testsuite/

2007-10-09  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/4476
	* ld-elf/hash.d: Check "-s -D" for readelf.
@
text
@d1 5
@


1.1248
log
@*** empty log message ***
@
text
@d1 6
@


1.1247
log
@Fix spelling typos.
@
text
@d1 9
@


1.1246
log
@	* readelf.c (dump_section_as_strings): Use %6tx instead of %6zx.
@
text
@d1 5
@


1.1245
log
@Fix spelling typo
@
text
@d1 4
@


1.1244
log
@* readelf.c (do_archive_index): New.
  (options): Add -c and --archive-index option.
  (usage): Add -c option.
  (parse_args): Add c option parsing.
  (process_archive): Dump archive index.
* NEWS: Mention the new feature.
* doc/binutils.texi: Document the new feature.
@
text
@d1 4
@


1.1243
log
@Updated Spanish translation
@
text
@d1 10
@


1.1242
log
@* doc/binutils.texi (objdump): Describe the output of the --syms option in more detail.
@
text
@d3 4
@


1.1241
log
@PR binutils/4987
* resrc.c: (read_rc_file): Move 'filename' default initialization to start of function.
@
text
@d1 5
@


1.1240
log
@Add AMD SSE5 support
@
text
@d1 6
@


1.1239
log
@	* nm.c (value_format_64bit, set_print_radix, print_value): Handle
	BFD_HOST_64BIT_LONG_LONG.
	* readelf.c (print_dec_vma): Don't define if BFD_HOST_64BIT_LONG_LONG.
	(print_vma): Handle BFD_HOST_64BIT_LONG_LONG.
	(dump_relocations): Likewise.  Expand _bfd_int64_low in a
	number of places.
@
text
@d1 5
@


1.1238
log
@PR/5020: STRINGTABLE doesn't work in 2.18 windres.
@
text
@d1 10
@


1.1237
log
@	PR 5011
	* readelf.c (process_version_sections): Don't read past end of
	various section buffers.
@
text
@d1 4
@


1.1236
log
@2007-08-31  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (INCLUDES): Remove -D_GNU_SOURCE.
	* Makefile.in: Regenerated.

	* sysdep.h: Include "config.h" first.
@
text
@d1 6
@


1.1235
log
@* po/sk.po: New Slovakian translation.
* configure.in (LINGUAS): Add sk.
* configure: Regenerate.
@
text
@d1 7
@


1.1234
log
@* readelf.c (dump_type): New type used to classify the kinds of dump requested by the user.
  (dump_sects, cmdline_dump_sects): Use the new type.
  (options): Add --string-dump option.
  (request_dump): Rename to request_dump_bynumber.  Use dump_type.
  (request_dump_byname): Use dump_type.
  (parse_args): Parse --string-dump option.
  (process_section_headers): Fix calls to request_dump.
  (initialise_dumps_byname): Likewise.
  (dump_section): Rename to dump_section_as_bytes.
  (dump_section_as_strings): New function.  Display the contents of a section as printable strings.
  (process_section_contents): String dump the section if requested.
  (process_object): Use dump_type.
  (main): Likewise.
* Makefile.am: Add dependency for readelf.c on safe-ctype.h.
* Makefile.in: Regenerate.
* NEWS: Mention the new feature.
* doc/binutils.texi: Document the new feature.
* testsuite/binutils-all/dumptest.s: New test file.
* testsuite/binutils-all/readelf.exp: Add test of readelf's -p switch.
@
text
@d1 6
@


1.1233
log
@	* bucomm.c (bfd_nonfatal_message): New.
	* bucomm.h (bfd_nonfatal_message): Declare.
	* objcopy.c (RETURN_NONFATAL): Take BFD not NAME, use
	bfd_nonfatal_message.
	(copy_unknown_object): Adjust bfd_nonfatal and RETURN_NONFATAL
	calls, or replace with bfd_nonfatal_message calls as appropriate.
	(copy_object, copy_archive, copy_file, setup_section,
	copy_section, write_debugging_info): Likewise.
@
text
@d1 22
@


1.1232
log
@Mention Coverity's contribution to bfd
@
text
@d1 11
@


1.1231
log
@include/elf/
	* common.h (NT_SPU): Define.
bfd/
	* elf.c (elfcore_grok_spu_note): New function.
	(elf_parse_notes): Call it.
binutils/
	* readelf.c (process_note): Recognize SPU core file notes.
@
text
@d1 4
@


1.1230
log
@	* configure.in: Install embedspu on powerpc*-*-eabi* also.
	* configure: Regenerated.
@
text
@d1 4
@


1.1229
log
@Translation updates.
@
text
@d3 5
@


1.1228
log
@binutils/
	* doc/binutils.texi (objdump): Document -Mppcps.

gas/
	* config/tc-ppc.c (parse_cpu): Handle "750cl".
	(pre_defined_registers): Add "gqr0" to "gqr7", "gqr.0" to "gqr.7".
	(md_show_usage): Document -m750cl.
	(md_assemble): Handle two delimiters in succession (eg. `),').
	* doc/c-ppc.texi (PowerPC-Opts): Document -m750cl.
	* testsuite/gas/ppc/ppc.exp: Run ppc70ps dump tests.
	* testsuite/gas/ppc/ppc750ps.s: New file.
	* testsuite/gas/ppc/ppc750ps.d: Likewise.

include/opcode/
	* ppc.h (PPC_OPCODE_PPCPS): New.

opcodes/
	* ppc-opc.c (PSW, PSWM, PSQ, PSQM, PSD, MTMSRD_L): New.
	(XOPS, XOPS_MASK, XW, XW_MASK): Likewise.
	(PPCPS): Likewise.
	(powerpc_opcodes): Add all pair singles instructions.
	* ppc-dis.c (powerpc_dialect): Handle "ppcps".
	(print_ppc_disassembler_options): Document -Mppcps.
@
text
@d1 4
@


1.1227
log
@	* po/Make-in: Add --msgid-bugs-address to xgettext invocation.
@
text
@d1 4
@


1.1226
log
@bfd/

2007-08-16  H.J. Lu  <hongjiu.lu@@intel.com>

	* elf.c: Revert last change.

binutils/

2007-08-16  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c: Revert last change.

include/elf/

2007-08-16  H.J. Lu  <hongjiu.lu@@intel.com>

	* common.h: Revert last change.
@
text
@d1 4
@


1.1225
log
@bfd/

2007-08-16  H.J. Lu  <hongjiu.lu@@intel.com>

	* elf.c (get_segment_type): Change PT_GNU_STACK to PT_GNU_ATTR.
	(bfd_section_from_phdr): Likewise.
	(get_program_header_size): Likewise. Add a PT_GNU_ATTR segment
	if there is an attribute section.
	(_bfd_elf_map_sections_to_segments): Likewise.
	(IS_SECTION_IN_INPUT_SEGMENT): Likewise.

binutils/

2007-08-16  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (get_segment_type): Change PT_GNU_STACK to
	PT_GNU_ATTR.

include/elf/

2007-08-16  H.J. Lu  <hongjiu.lu@@intel.com>

	* common.h (PT_GNU_STACK): Renamed to ...
	(PT_GNU_ATTR): This.
	(PT_GNU_STACK): New.  Make an alias of PT_GNU_ATTR.
@
text
@d3 4
@


1.1224
log
@	* NEWS: Add a marker for the 2.18 features.
@
text
@d1 5
@


1.1223
log
@	* doc/Makefile.am (AM_MAKEINFOFLAGS, TEXI2DVI): Include
	$(top_srcdir)/../../bfd/doc.
	* doc/Makefile.in: Regenerate.
@
text
@d1 4
@


1.1222
log
@Add M R Swami Reddy as CR16/CRX support maintainer.
@
text
@d1 6
@


1.1221
log
@Updated Finnish, Irish and Vietnamese translations
@
text
@d1 5
@


1.1220
log
@patch: Correct documentation of windmc.
@
text
@d1 5
@


1.1219
log
@	PR 4888
	* objcopy.c (setup_section): Do modify section flags for ELF
	STRIP_NONDEBUG (reverting part of 2007-05-30 change).  Prevent
	header rewrite by twiddling input section flags instead.
	Simplify code setting SHT_NOBITS.
@
text
@d1 4
@


1.1219.2.1
log
@Regenerate translation files.
@
text
@a0 4
2007-08-06  Daniel Jacobowitz  <dan@@codesourcery.com>

	* po/POTFILES.in: Regenerate.

@


1.1219.2.2
log
@Updated Finish, Irish and Vietnamese translations
@
text
@a0 5
2007-08-10  Nick Clifton  <nickc@@redhat.com>

	* po/fi.po: Updated Finish translation.
	* po/vi.po: Updated Vietnamese translation.

@


1.1219.2.3
log
@	* doc/Makefile.am (AM_MAKEINFOFLAGS, TEXI2DVI): Include
	$(top_srcdir)/../../bfd/doc.
	* doc/Makefile.in: Regenerate.
@
text
@a0 6
2007-08-12  Matthias Klose  <doko@@ubuntu.com>

	* doc/Makefile.am (AM_MAKEINFOFLAGS, TEXI2DVI): Include
	$(top_srcdir)/../../bfd/doc.
	* doc/Makefile.in: Regenerate.

@


1.1219.2.4
log
@	* po/Make-in: Add --msgid-bugs-address to xgettext invocation.
@
text
@a0 4
2007-08-17  Alan Modra  <amodra@@bigpond.net.au>

	* po/Make-in: Add --msgid-bugs-address to xgettext invocation.

@


1.1219.2.5
log
@Translation updates.
@
text
@a0 4
2007-08-24  Daniel Jacobowitz  <dan@@codesourcery.com>

	* po/uk.po: Updated Ukrainian translation.

@


1.1219.2.6
log
@include/elf/
	* common.h (NT_SPU): Define.
bfd/
	* elf.c (elfcore_grok_spu_note): New function.
	(elfcore_read_notes): Call it.
binutils/
	* readelf.c (process_note): Recognize SPU core file notes.
@
text
@a0 4
2007-08-25  Ulrich Weigand  <uweigand@@de.ibm.com>

	* readelf.c (process_note): Recognize SPU core file notes.

@


1.1219.2.7
log
@Mention Coverity's contribution.
@
text
@a0 4
2007-08-28  Nick Clifton  <nickc@@redhat.com>

	* NEWS: Mention Coverity's contribution.

@


1.1218
log
@* MAINTAINERS: Update my email address.
@
text
@d1 8
@


1.1217
log
@	* readelf.c (process_archive): Also skip Irix6-style archive symbol
	tables.
@
text
@d1 4
@


1.1216
log
@* readelf.c (NUM_ELEM): Remove redundant macro; replace references to it
   with references to ARRAY_SIZE.
  Add support for CR16.
  Fix formatting.
@
text
@d1 5
@


1.1215
log
@PR binutils/4802
* srconv.c (strip_suffix): Add const qualifier to argument
@
text
@d1 7
@


1.1214
log
@Fix spelling typo
@
text
@d1 5
@


1.1213
log
@Update Dutch opcodes translation.
Add new Ukranian binutils translation.
@
text
@d3 1
a3 1
	* po/uk.po: New Ukranian translation.
@


1.1212
log
@	* objdump.c (dump_dwarf): Correct setting of is_relocatable.
@
text
@d1 6
@


1.1211
log
@.
@
text
@d1 4
d42 1
a42 1
        * resrc.c: (read_rc_file): Add include path of user passed rc
d44 3
a46 3
        * windres.c: (windres_add_include_dir): New.
        (main): Use of windres_add_include_dir.
        * windres.h: (windres_add_include_dir): Add prototype.
d134 1
a134 1
  	* objdump.c: Include sys/stat.h.
d138 11
a148 11
        * Makefile.am: Add windmc tool.
        * Makefile.in: Regenerate.
        * configure.in: Add windmc tool.
        * configure: Regenerate.
        * mclex.c: New.
        * mcparse.y: New.
        * windmc.c: New.
        * windmc.h: New.
        * doc/Makefile.am: Add windmc tool.
        * doc/Makefile.in: Regenerate.
        * doc/binutils.texi: Add windmc documentation.
@


1.1210
log
@	* Makefile.am (HFILES): Add dwarf.h, sysdep.h and unwind-ia64.h.
	(CFILES): Add unwind-ia64.c.
	Regenerate dependencies.
	* Makefile.in: Regenerate.
@
text
@d1 5
@


1.1209
log
@Change sources over to using GPLv3
@
text
@d1 7
@


1.1208
log
@* resrc.c: (read_rc_file): Add include path of user passed rc input file.
* windres.c: (windres_add_include_dir): New.
  (main): Use of windres_add_include_dir.
* windres.h: (windres_add_include_dir): Add prototype.
@
text
@d1 23
@


1.1207
log
@Add new --common option to size.
@
text
@d1 8
@


1.1206
log
@	* emul_aix.c (ar_emul_aix_internal): Rename "next" to "archive_next".
@
text
@d3 16
@


1.1205
log
@	PR 4716
	* objcopy.c (filter_symbols): Correct relocatable file test.
@
text
@d1 4
@


1.1204
log
@Regenerate files.
@
text
@d3 5
@


1.1203
log
@bfd/

2007-06-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* aclocal.m4: Regenerated.
	* Makefile.in: Likewise.

bfd/doc/

2007-06-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.in: Likewise.

binutils/

2007-06-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* aclocal.m4: Regenerated.
	* doc/Makefile.in: Likewise.
	* Makefile.in: Likewise.

gas/

2007-06-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* aclocal.m4: Regenerated.
	* doc/Makefile.in: Likewise.
	* Makefile.in: Likewise.

gprof/

2007-06-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* aclocal.m4: Regenerated.
	* Makefile.in: Likewise.

ld/

2007-06-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* aclocal.m4: Regenerated.
	* Makefile.in: Likewise.

opcodes/

2007-06-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* aclocal.m4: Regenerated.
	* Makefile.in: Likewise.
@
text
@d1 10
@


1.1202
log
@bfd:
	* elf32-ppc.c (ppc_elf_merge_obj_attributes): New.
	(ppc_elf_merge_private_bfd_data): Call it.

binutils:
	* readelf.c (display_power_gnu_attribute, process_power_specific):
	New.
	(process_arch_specific): Call process_power_specific.

include/elf:
	* ppc.h (Tag_GNU_Power_ABI_FP): Define.

ld/testsuite:
	* ld-powerpc/attr-gnu-4-0.s, ld-powerpc/attr-gnu-4-00.d,
	ld-powerpc/attr-gnu-4-01.d, ld-powerpc/attr-gnu-4-02.d,
	ld-powerpc/attr-gnu-4-1.s, ld-powerpc/attr-gnu-4-10.d,
	ld-powerpc/attr-gnu-4-11.d, ld-powerpc/attr-gnu-4-12.d,
	ld-powerpc/attr-gnu-4-13.d, ld-powerpc/attr-gnu-4-2.s,
	ld-powerpc/attr-gnu-4-20.d, ld-powerpc/attr-gnu-4-21.d,
	ld-powerpc/attr-gnu-4-22.d, ld-powerpc/attr-gnu-4-3.s,
	ld-powerpc/attr-gnu-4-31.d: New.
	* ld-powerpc/powerpc.exp: Run these new tests.
@
text
@d1 6
@


1.1201
log
@bfd:
	* elfxx-mips.c (mips_elf_merge_obj_attributes): New.
	(_bfd_mips_elf_merge_private_bfd_data): Call it.

binutils:
	* readelf.c (display_mips_gnu_attribute): New.
	(process_mips_specific): Call process_attributes.

include/elf:
	* mips.h (Tag_GNU_MIPS_ABI_FP): Define.

ld/testsuite:
	* ld-mips-elf/attr-gnu-4-0.s, ld-mips-elf/attr-gnu-4-00.d,
	ld-mips-elf/attr-gnu-4-01.d, ld-mips-elf/attr-gnu-4-02.d,
	ld-mips-elf/attr-gnu-4-03.d, ld-mips-elf/attr-gnu-4-1.s,
	ld-mips-elf/attr-gnu-4-10.d, ld-mips-elf/attr-gnu-4-11.d,
	ld-mips-elf/attr-gnu-4-12.d, ld-mips-elf/attr-gnu-4-13.d,
	ld-mips-elf/attr-gnu-4-14.d, ld-mips-elf/attr-gnu-4-2.s,
	ld-mips-elf/attr-gnu-4-20.d, ld-mips-elf/attr-gnu-4-21.d,
	ld-mips-elf/attr-gnu-4-22.d, ld-mips-elf/attr-gnu-4-23.d,
	ld-mips-elf/attr-gnu-4-3.s, ld-mips-elf/attr-gnu-4-30.d,
	ld-mips-elf/attr-gnu-4-31.d, ld-mips-elf/attr-gnu-4-32.d,
	ld-mips-elf/attr-gnu-4-33.d, ld-mips-elf/attr-gnu-4-4.s,
	ld-mips-elf/attr-gnu-4-41.d: New.
	* ld-mips-elf/mips-elf.exp: Run these new tests.
@
text
@d3 6
@


1.1200
log
@bfd:
	* elf-attrs.c: New.
	* Makefile.am (BFD32_BACKENDS): Add elf-attrs.lo.
	(BFD32_BACKENDS_CFILES): Add elf-attrs.c.
	(elf-attrs.lo): Generate dependencies.
	* Makefile.in: Regenerate.
	* configure.in (elf): Add elf-attrs.lo.
	* configure: Regenerate.
	* elf-bfd.h (struct elf_backend_data): Add entries for object
	attributes.
	(NUM_KNOWN_OBJ_ATTRIBUTES, obj_attribute, obj_attribute_list,
	OBJ_ATTR_PROC, OBJ_ATTR_GNU, OBJ_ATTR_FIRST, OBJ_ATTR_LAST,
	Tag_NULL, Tag_File, Tag_Section, Tag_Symbol, Tag_compatibility):
	New.
	(struct elf_obj_tdata): Add entries for object attributes.
	(elf_known_obj_attributes, elf_other_obj_attributes,
	elf_known_obj_attributes_proc, elf_other_obj_attributes_proc):
	New.
	(bfd_elf_obj_attr_size, bfd_elf_set_obj_attr_contents,
	bfd_elf_get_obj_attr_int, bfd_elf_add_obj_attr_int,
	bfd_elf_add_proc_attr_int, bfd_elf_add_obj_attr_string,
	bfd_elf_add_proc_attr_string, bfd_elf_add_obj_attr_compat,
	bfd_elf_add_proc_attr_compat, _bfd_elf_attr_strdup,
	_bfd_elf_copy_obj_attributes, _bfd_elf_obj_attrs_arg_type,
	_bfd_elf_parse_attributes, _bfd_elf_merge_object_attributes): New.
	* elf.c (_bfd_elf_copy_private_bfd_data): Copy object attributes.
	(bfd_section_from_shdr): Handle attributes sections.
	* elflink.c (bfd_elf_final_link): Handle attributes sections.
	* elfxx-target.h (elf_backend_obj_attrs_vendor,
	elf_backend_obj_attrs_section, elf_backend_obj_attrs_arg_type,
	elf_backend_obj_attrs_section_type): New.
	(elfNN_bed): Update.
	* elf32-arm.c (NUM_KNOWN_ATTRIBUTES, aeabi_attribute,
	aeabi_attribute_list): Remove.
	(struct elf32_arm_obj_tdata): Remove object attributes fields.
	(check_use_blx, bfd_elf32_arm_set_vfp11_fix, using_thumb2,
	elf32_arm_copy_private_bfd_data, elf32_arm_merge_eabi_attributes):
	Update for new object attributes interfaces.
	(uleb128_size, is_default_attr, eabi_attr_size,
	elf32_arm_eabi_attr_size, write_uleb128, write_eabi_attribute,
	elf32_arm_set_eabi_attr_contents, elf32_arm_bfd_final_link,
	elf32_arm_new_eabi_attr, elf32_arm_get_eabi_attr_int,
	elf32_arm_add_eabi_attr_int, attr_strdup,
	elf32_arm_add_eabi_attr_string, elf32_arm_add_eabi_attr_compat,
	copy_eabi_attributes, elf32_arm_parse_attributes): Remove.  Moved
	to generic code in elf-attrs.c.
	(elf32_arm_obj_attrs_arg_type): New.
	(elf32_arm_fake_sections): Do not handle .ARM.attributes.
	(elf32_arm_section_from_shdr): Do not handle SHT_ARM_ATTRIBUTES.
	(bfd_elf32_bfd_final_link): Remove.
	(elf_backend_obj_attrs_vendor, elf_backend_obj_attrs_section,
	elf_backend_obj_attrs_arg_type,
	elf_backend_obj_attrs_section_type): New.
	* elf32-bfin.c (bfin_elf_copy_private_bfd_data): Copy object
	attributes.
	* elf32-frv.c (frv_elf_copy_private_bfd_data): Likewise.
	* elf32-iq2000.c (iq2000_elf_copy_private_bfd_data): Likewise.
	* elf32-mep.c (mep_elf_copy_private_bfd_data): Likewise.
	* elf32-mt.c (mt_elf_copy_private_bfd_data): Likewise.
	* elf32-sh.c (sh_elf_copy_private_data): Likewise.
	* elf64-sh64.c (sh_elf64_copy_private_data_internal): Likewise.

binutils:
	* readelf.c (display_gnu_attribute): New.
	(process_arm_specific): Rearrange as process_attributes.
	(process_arm_specific): Replace by wrapper of process_attributes.

gas:
	* as.c (create_obj_attrs_section): New.
	(main): Call create_obj_attrs_section for ELF.
	* read.c (s_gnu_attribute, skip_whitespace, skip_past_char,
	skip_past_comma, s_vendor_attribute): New.
	(potable): Add gnu_attribute for ELF.
	* read.h (s_vendor_attribute): Declare.
	* config/tc-arm.c (s_arm_eabi_attribute): Replace by wrapper
	round s_vendor_attribute.
	(aeabi_set_public_attributes): Update for new attributes
	interfaces.
	(arm_md_end): Remove attributes contents setting now done
	generically.

include/elf:
	* arm.h (elf32_arm_add_eabi_attr_int,
	elf32_arm_add_eabi_attr_string, elf32_arm_add_eabi_attr_compat,
	elf32_arm_get_eabi_attr_int, elf32_arm_set_eabi_attr_contents,
	elf32_arm_eabi_attr_size, Tag_NULL, Tag_File, Tag_Section,
	Tag_Symbol, Tag_compatibility): Remove.
	* common.h (SHT_GNU_ATTRIBUTES): Define.

ld:
	* emulparams/armelf.sh (OTHER_SECTIONS): Remove .ARM.attributes.
	(ATTRS_SECTIONS): Define.
	* scripttempl/elf.sc, scripttempl/elf32sh-symbian.sc,
	scripttempl/elf_chaos.sc, scripttempl/elfi370.sc,
	scripttempl/elfxtensa.sc: Handle ATTRS_SECTIONS.
@
text
@d3 5
@


1.1199
log
@.
@
text
@d1 6
@


1.1198
log
@bfd/
	* bfd.c (struct bfd): Rename "next" to "archive_next".
	* archive.c: Rename uses throughout file.
	* archive64.c: Likewise.
	* coff-rs6000.c: Likewise.
	* ecoff.c: Likewise.
	* som.c: Likewise.
	* bfd-in2.h: Regenerate.
binutils/
	* ar.c: Rename uses of bfd.next to bfd.archive_next throughout.
	* arsup.c: Likewise.
	* binemul.c: Likewise.
	* objcopy.c: Likewise.
	* dlltool.c: Likewise.
ld/
	* pe-dll.c: Rename uses of bfd.next to bfd.archive_next throughout.
@
text
@d1 6
d28 1
a28 1
 
d48 1
a48 1
	* objdump.c: Include sys/mman.h 
@


1.1197
log
@PR binutils/4693
* Makefile.am (windres_DEPENDENCIES, windmc_DEPENDENCIES): Move dependency on $(LIBICONV) to ...
  (windres_LDADD, windmc_LDADD) ... here.
@
text
@d1 8
@


1.1196
log
@	* embedspu.sh (relas): Correct sh_info parsing.
@
text
@d1 8
d17 1
a17 1
2007-06-19  Kai Tietz   <kai.tietz@@onevision.com>
@


1.1195
log
@  	* objdump.c: Include sys/stat.h.
@
text
@d1 4
d56 1
a56 1
2007-06-18  Brian D. Watt <bwatt@@us.ibm.com>
@


1.1194
log
@* Makefile.am: Add windmc tool.
* Makefile.in: Regenerate.
* configure.in: Add windmc tool.
* configure: Regenerate.
* mclex.c: New.
* mcparse.y: New.
* windmc.c: New.
* windmc.h: New.
* doc/Makefile.am: Add windmc tool.
* doc/Makefile.in: Regenerate.
* doc/binutils.texi: Add windmc documentation.
* NEWS: Mention new tool.
@
text
@d1 4
@


1.1193
log
@* objdump.c: Include sys/mman.h
  (print_file_list): Remove f, add map, mapsize, linemap, maxline, last_line, first fields.
  (slurp_file): Add.
  (index_file): Add.
  (print_file_open): Call slurp_file and index_file. Initialize new fields.
  (skip_to_line): Rename to print_line and write only single line.
  (dump_line): Add.
  (show_line): Change to new algorithm.
@
text
@d1 15
d46 1
a46 1
	* NEWS: Mention new feature.
@


1.1192
log
@* resres.c (probe_binary): Fix test for badly formatted headers.
@
text
@d1 13
@


1.1191
log
@* rclex.c: (cpp_line): Add code_page pragma support.
* windres.c: (usage, long_options, main): Add new option --codepage or -c.
* winduni.c: (wind_default_codepage, wind_current_codepage): New.
  (unicode_from_ascii, ascii_from_unicode): Use wind_current_codepage as codepage parameter.
  (unicode_print): Print 4 characters for hexadecimal values in unicode strings.
* winduni.h:  (wind_default_codepage, wind_current_codepage): Export.
* doc/binutils.texi: Document new option.
* NEWS: Mention new feature.
@
text
@d1 4
@


1.1190
log
@	* embedspu.sh: Parse _SPUEAR_ symbol values as hex.
@
text
@d1 15
@


1.1189
log
@bfd/

2007-06-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (ACLOCAL_AMFLAGS): Add -I . -I ../config.

	* acinclude.m4: Don't include m4 files. Remove libtool
	kludge.

	* Makefile.in: Regenerated.
	* doc/Makefile.in: Likewise.
	* aclocal.m4: Likewise.
	* configure: Likewise.

binutils/

2007-06-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (ACLOCAL_AMFLAGS): Add -I ../config -I ../bfd.

	* acinclude.m4: Removed.

	* Makefile.in: Regenerated.
	* aclocal.m4: Likewise.
	* configure: Likewise.

gas/

2007-06-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (ACLOCAL_AMFLAGS): Add -I ../config -I ../bfd.

	* acinclude.m4: Don't include m4 files.
	(BFD_BINARY_FOPEN): Removed.
	Remove libtool kludge.

	* Makefile.in: Regenerated.
	* doc/Makefile.in: Likewise.
	* aclocal.m4: Likewise.
	* configure: Likewise.

gprof/

2007-06-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (ACLOCAL_AMFLAGS): Add -I ../config -I ../bfd.

	* acinclude.m4: Removed.

	* Makefile.in: Regenerated.
	* aclocal.m4: Likewise.
	* configure: Likewise.

ld/

2007-06-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (ACLOCAL_AMFLAGS): Add -I ../config -I ../bfd.

	* acinclude.m4: Removed.

	* Makefile.in: Regenerated.
	* aclocal.m4: Likewise.
	* configure: Likewise.

opcodes/

2007-06-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (ACLOCAL_AMFLAGS): Add -I ../config -I ../bfd.

	* acinclude.m4: Removed.

	* Makefile.in: Regenerated.
	* doc/Makefile.in: Likewise.
	* aclocal.m4: Likewise.
	* configure: Likewise.
@
text
@d1 4
@


1.1188
log
@	* dwarf.c (decode_location_expression): Add DW_OP_form_tls_address.
@
text
@d1 10
@


1.1187
log
@Cleanup white spaces and fix an entry.
@
text
@d1 4
@


1.1186
log
@PR binutils/4356 binutils/591
* resrc.c (filename_need_quotes): New function.
  (look_for_default): If filename_need_quotes is true then quote the filename in the command line being created.
  (read_rc_file): Likewise.
@
text
@d15 7
a21 7
        * Makefile.am: Add LIBICONV to windres.
        * acinclude.m4: Added missing "lib-*.m4" and "lt*.m4" files.
        * configure.in: Add AC_CHECK_HEADER for iconv.h and use AM_ICONV.
        * config.in: Add ICONV defines.
        * aclocal: Regenerate.
        * confugure: Regenerate.
        * winduni.c: (local_iconv_map codepages, wind_language_t,
d26 5
a30 5
        New.
        (ascii_from_unicode): Use codepage_from_unicode.
        (ascii_from_unicode): Use unicode_from_codepage.
        Use for cygwin windows API for unicode transformation.
        * winduni.h: (CP_ACP, CP_UTF7, CP_UTF8, CP_OEM, CP_UTF16): New
d32 5
a36 5
        (wind_language_t, local_iconv_map): New types.
        (wind_find_language_by_id, wind_find_language_by_codepage,
        unicode_is_valid_codepage, wind_find_codepage_info,
        unicode_from_codepage, codepage_from_unicode): New
        prototypes.
d405 3
a407 3
            Nathan Sidwell  <nathan@@codesourcery.com>
            Vladimir Prus  <vladimir@@codesourcery.com
            Joseph Myers  <joseph@@codesourcery.com>
@


1.1185
log
@	* doc/binutils.texi (objdump): Fix capitalisation of "PowerPC".
@
text
@d1 8
d13 1
a13 1
007-06-05  Kai Tietz  <Kai.Tietz@@onevision.com>
d21 1
a21 1
        * winduni.c: (local_iconv_map codepages, wind_language_t
@


1.1184
log
@* Makefile.am: Add LIBICONV to windres.
* acinclude.m4: Added missing "lib-*.m4" and "lt*.m4" files.
* configure.in: Add AC_CHECK_HEADER for iconv.h and use AM_ICONV.
* config.in: Add ICONV defines.
* aclocal: Regenerate.
* confugure: Regenerate.
* winduni.c: (local_iconv_map codepages, wind_language_t, languages, unicode_is$
  (ascii_from_unicode): Use codepage_from_unicode.
  (ascii_from_unicode): Use unicode_from_codepage.
  Use for cygwin windows API for unicode transformation.
* winduni.h: (CP_ACP, CP_UTF7, CP_UTF8, CP_OEM, CP_UTF16): New macros.
  (wind_language_t, local_iconv_map): New types.
  (wind_find_language_by_id, wind_find_language_by_codepage,
  (unicode_is_valid_codepage, wind_find_codepage_info, unicode_from_codepage, c$
@
text
@d1 4
@


1.1183
log
@	* embedspu.sh: Handle R_SPU_PPU* relocs with no symbol.
@
text
@d1 25
@


1.1182
log
@bfd/
	* elf.c (elf_fake_sections): Adjust test for SHT_NOBITS sections
	created by objcopy --only-keep-debug.
	(_bfd_elf_init_private_section_data): Only change elf_section_type
	if it is SHT_NULL.
binutils/
	* objcopy.c (copy_object): Revert 2007-05-11 change.  Don't
	avoid calling bfd_copy_private_bfd_data for ELF STRIP_NONDEBUG.
	(setup_section): Don't modify flags, and don't avoid calling
	bfd_copy_private_section_data for ELF STRIP_NONDEBUG.
	* readelf.c (process_program_headers): Ignore .dynamic of type
	SHT_NOBITS.
@
text
@d1 4
@


1.1181
log
@binutils/
	* embedspu.sh: Emit SPU ELF image to .data.rel.ro.speelf if
	pic or pie and image needs relocs.
ld/
	* emultempl/spuelf.em (base_name): New function, split out from..
	(embedded_spu_file) ..here.  Pass -fPIC or -fpie to embedspu
	invocation if we deduce a shared lib or position independent
	executable build by looking at ctrbegin* linker input files.
@
text
@d1 9
@


1.1180
log
@	* ltmain.sh: Update from GCC.
	* libtool.m4: Update from GCC.
	* ltsugar.m4: New. Update from GCC.
	* ltversion.m4: New. Update from GCC.
	* ltoptions.m4: New. Update from GCC.
	* ltconfig: Remove.
	* ltcf-c.sh: Remove.
	* ltcf-cxx.sh: Remove.
	* ltcf-gcj.sh: Remove.
	* src-release: Update with new libtool file list.
	* newlib/*/configure.in: invoke _LD_DECL_SED.
	* newlib/*/Makefile.am: Ensure toplevel is included in ACLOCAL_AMFLAGS.
	* Regenerate subdirectories
@
text
@d1 5
@


1.1179
log
@* rcparse.y: Join strings for elements having no side-effects in "rc"-grammar.
* testsuite/binutils-all/windres/version_cat.rc: New.
* testsuite/binutils-all/windres/version_cat.rsd: New.
@
text
@d1 7
@


1.1178
log
@Updated windres tool
@
text
@d1 5
@


1.1177
log
@2007-05-22  Paul Brook  <paul@@codesourcery.com>

	bunutils/
	* objdump.c (find_symbol_for_address): Merge section and target
	specific filtering code.

	ld/testsuite/
	* ld-arm-mixed-lib.d: Update expected output.
	* ld-arm/arm-app.d: Ditto.
	* ld-arm/mixed-app.d: Ditto.
	* ld-arm/arm-lib-plt32.d: Ditto.
	* ld-arm/arm-app-abs32.d: Ditto.
	* ld-arm/mixed-app-v5.d: Ditto.
	* ld-arm/armthumb-lib.d: Ditto.
	* ld-arm/arm-lib.d: Ditto.

	gas/testsuite/
	* gas/arm/backslash-at.d: Update expected output.
@
text
@d1 31
@


1.1176
log
@Use @@copying around copyright notices
@
text
@d1 5
@


1.1175
log
@binutils/
	* objdump.c (disassemble_bytes): Ignore disassembler_needs_relocs
	for executables and shared libraries.

ld/testsuite/
	* ld-arm/emit-relocs1.d, ld-arm/emit-relocs1.s,
	* ld-arm/emit-relocs1-vxworks.d: New tests.
	* ld-arm/arm-elf.exp: Run them.
	* ld-arm/vxworks1.dd: Expect proper branch targets.
@
text
@d1 4
@


1.1174
log
@	* objcopy.c (strip_main): Detect identical input and output file
	names.
	(copy_main): Refactor tempname detection and use.
@
text
@d1 5
@


1.1173
log
@* objdump.c (load_debug_section): Select bias for DWARF debug addresses based on the flavour of the bfd.
@
text
@d1 6
@


1.1172
log
@	PR 4479
	* objcopy.c (copy_object): Don't copy ELF program headers for
	--only-keep-debug.
@
text
@d1 5
@


1.1171
log
@include/elf/
	* spu.h (R_SPU_PPU32, R_SPU_PPU64): Define.
bfd/
	* reloc.c (BFD_RELOC_SPU_PPU32, BFD_RELOC_SPU_PPU64): Define.
	* elf-bfd.h (struct elf_backend_data): Change return type of
	elf_backend_relocate_section to int.
	* elf32-spu.c (elf_howto_table): Add howtos for R_SPU_PPU32 and
	R_SPU_PPU64.
	(spu_elf_bfd_to_reloc_type): Convert new relocs.
	(spu_elf_count_relocs): New function.
	(elf_backend_count_relocs): Define.
	(spu_elf_relocate_section): Arrange to emit R_SPU_PPU32 and
	R_SPU_PPU64 relocs.
	* elflink.c (elf_link_input_bfd): Emit relocs if relocate_section
	returns 2.
	* bfd-in2.h: Regenerate.
	* libbfd.h: Regenerate.
gas/
	* config/tc-spu.c (md_pseudo_table): Add int, long, quad.  Call
	spu_cons for word.
	(md_assemble): Tidy use of insn.flag.
	(get_imm): Likewise.  Handle uppercase input too.
	(spu_cons): New function.
	* config/tc-spu.h (tc_fix_adjustable): Don't adjust SPU_PPU relocs.
	(TC_FORCE_RELOCATION): Don't resolve them either.
binutils/
	* embedspu.sh (find_prog): Prefer prog in same dir as embedspu
	over one found on the users path.
	(main): Generate .reloc for each R_SPU_PPU* reloc.
@
text
@d3 6
@


1.1170
log
@	* prdbg.c (tg_variable): Adjust for changed demangler.
	(tg_start_function): Likewise.
@
text
@d1 6
@


1.1169
log
@bfd/
	* sysdep.h: Include config.h first.
	Many files: Include sysdep.h before bfd.h.
	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.
binutils/
	* bucumm.h: Split off host dependencies to..
	* sysdep.h: ..here.
	Many files: Include sysdep.h.  Remove duplicate headers and reorder.
	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.
ld/
	Many files: Include sysdep.h first.  Remove duplicate headers.
	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.
opcodes/
	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.
	* ns32k-dis.c: Include sysdep.h first.
@
text
@d1 5
@


1.1168
log
@* srconv.c (walk_tree_type_1): Initialise dpt.dunno.
@
text
@d1 8
@


1.1167
log
@* objcopy.c (filter_symbols): Explicitly stripping a symbol used in relocations is an error.
  Retype 'keep' to bfd_boolean.
* binutils-all/objcopy.exp: Add test for stripping a symbol used in a relocation.
* binutils-all/needed-by-reloc.s: New file.
@
text
@d1 4
@


1.1166
log
@	* Makefile.in: Regenerate.
	* doc/Makefile.in: Regenerate.
@
text
@d1 7
@


1.1165
log
@* objcopy.c (reverse_bytes):  New variable.
  (command_line_switch, copy_main):  Add OPTION_REVERSE_ENDIAN.
  (copy_options, copy_usage):  Add "reverse-bytes" entry.
  (copy_section):  Reverse bytes within output sections.
* doc/binutils.texi:  Document new objcopy option.
* testsuite/binutils-all/objcopy.exp: Add test for --reverse-bytes.
@
text
@d1 5
@


1.1164
log
@* rclex.l: Allow underscores at the start of identifiers.
@
text
@d1 10
@


1.1163
log
@	* budemang.c: Delete.
	* budemang.h: Delete.
	* addr2line.c (translate_addresses): Call bfd_demangle rather than
	demangle.
	* nm.c (print_symname): Likewise.
	* objdump.c (objdump_print_symname, dump_symbols): Likewise.
	(dump_bfd): Likewise.
	* prdbg.c (struct pr_handle <demangler>): Add int param.
	(tg_variable, tg_start_function): Adjust demangler calls.
	* Makefile.am: Remove mention of budemang.[ch].  Run "make dep-am".
	* Makefile.in: Regenerate.
	* po/POTFILES.in: Regenerate.
@
text
@d1 4
@


1.1162
log
@        * Makefile.am: Add ACLOCAL_AMFLAGS.
        * configure.in: Change macro call order.
        * Makefile.in: Regenerate.
        * configure: Regenerate.
@
text
@d1 15
@


1.1161
log
@	* Makefile.am (TOOL_PROGS): Add objcopy.
	* Makefile.in: Rebuilt.
@
text
@d1 7
@


1.1160
log
@2007-04-12  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/4348
	* objcopy.c (copy_object): Don't stop when there are no
	sections to be copied.

testsuite/

2007-04-12  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/4348
	* binutils-all/empty.s: New file.
	* binutils-all/strip-3.d: Likewise.

	* binutils-all/objcopy.exp: Run strip-3 for ELF target.
@
text
@d1 5
@


1.1159
log
@        * NEWS: Mention disjoint histograms support in
        gprof.
@
text
@d1 6
@


1.1158
log
@	* dwarf.c (process_debug_info): Do not require DW_AT_frame_base for
	DW_TAG_inlined_subroutine.
@
text
@d1 5
@


1.1157
log
@2007-04-06  Matt Thomas  <matt@@netbsd.org>

	* MAINTAINERS: Add myself as VAX and NetBSD support maintainer.
@
text
@d1 5
@


1.1156
log
@	PR binutils/4292
	* nm.c (print_value): Cast bfd_vma to unsigned long to suit
	value_format_32bit.
@
text
@d1 4
@


1.1155
log
@PR binutils/4292
* bfd.c (bfd_fprintf_vma): Do not print addresses of 32-bit
  targets as 64-bit values, even if running on a 64-bit host.
* coffgen.c (coff_print_symbol): Likewise.
* nm.c (value_format): Replace with value_format_32bit and
  value_format_64bit.
  (set_radix): Update setting of value_format.
  (set_print_width): New function.  Compute the address size of a
  given bfd and set the print_width global appropriately.
  (display_archive): Use set_print_width.
  (display_file): Likewise,
  (print_object_filename_sysv): Update use of print_width.
  (print_archive_member_sysv): Likewise.
  (print_symbol_filename_posix): Likewise.
  (print_sumbol_info_bfd, print_symbol_info_sysv): Likewise.
@
text
@d1 6
@


1.1154
log
@bfd/
200x-xx-xx  Richard Sandiford  <richard@@codesourcery.com>
	    Phil Edwards  <phil@@codesourcery.com>

	* doc/bfd.texinfo: Put the contents after the title page rather
	than at the end of the document.

binutils/
200x-xx-xx  Richard Sandiford  <richard@@codesourcery.com>
	    Phil Edwards  <phil@@codesourcery.com>

	* doc/binutils.texi: Put the contents after the title page rather
	than at the end of the document.

gas/
200x-xx-xx  Richard Sandiford  <richard@@codesourcery.com>
	    Phil Edwards  <phil@@codesourcery.com>

	* doc/as.texinfo: Put the contents after the title page rather
	than at the end of the document.

gprof/
200x-xx-xx  Richard Sandiford  <richard@@codesourcery.com>
	    Phil Edwards  <phil@@codesourcery.com>

	* gprof.texi: Put the contents after the title page rather
	than at the end of the document.

ld/
200x-xx-xx  Richard Sandiford  <richard@@codesourcery.com>
	    Phil Edwards  <phil@@codesourcery.com>

	* ld.texinfo: Put the contents after the title page rather
	than at the end of the document.
@
text
@d1 15
@


1.1153
log
@Add ChangeLog entry for delta 1.361->1.362 to readelf.c accidentally checked in with a previous commit.
@
text
@d1 6
@


1.1152
log
@	* MAINTAINERS: Update mailing list addresses.  Add myself
	as PPC maintainer.
@
text
@d1 8
@


1.1151
log
@	* embedspu.sh: Correct toe_addr quoting.
@
text
@d1 5
@


1.1150
log
@	* embedspu.sh: Combine "_EAR_" and "_EAR_*" patterns.  Tighten
	.toe section and .toe address checks.  Use .reloc for _EAR*
	symbols defined in non-BSS sections.  Build table for _SPUEAR_
	symbols.
@
text
@d3 4
@


1.1149
log
@	PR gas/3811
	* readelf.c (debug_apply_rela_addends): Do nothing for SH.
@
text
@d1 7
@


1.1148
log
@bfd:
	* Makefile.am (bfdver.h): Only set VERSION_PACKAGE in bfdver.texi
	if nonempty.
	* configure.in (REPORT_BUGS_TO): Do not use "URL:" prefix.
	* Makefile.in, configure, doc/Makefile.in: Regenerate.

binutils:
	* doc/binutils.texi: Include VERSION_PACKAGE when reporting
	version.

gas:
	* doc/as.texinfo: Include VERSION_PACKAGE when reporting version.

gprof:
	* Makefile.am (TEXI2POD): Include $(AM_MAKEINFOFLAGS).
	(AM_MAKEINFOFLAGS, TEXI2DVI): Define with -I ../bfd/doc.
	* Makefile.in: Regenerate.
	* gprof.texi: Include bfdver.texi.  Report both VERSION_PACKAGE
	and VERSION.

ld:
	* ld.texinfo: Include VERSION_PACKAGE when reporting version.
@
text
@d1 5
@


1.1147
log
@Use pc-relative relocation instead of an absolute relocation for x86_64-pc-mingw32 target.
@
text
@d1 5
@


1.1146
log
@bfd/

2007-03-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (bfdver.h): Substitute report_bugs_to.  Also
	create doc/bfdver.texi.
	* Makefile.in: Regenerated.

	* configure.in (--with-bugurl): New option.
	* configure: Regenerated.

	* version.h (REPORT_BUGS_TO): New.

binutils/

2007-03-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (REPORT_BUGS_TO): Removed.
	(INCLUDES): Remove -DREPORT_BUGS_TO.
	* Makefile.in: Regenerated.

	* bucomm.c: Don't include bfdver.h.
	* objdump.c: Likewise.
	* version.c: Likewise.

	* bucomm.h: Include bfdver.h.

	* configure.in (--with-bugurl): Removed.
	* configure: Regenerated.

	* doc/Makefile.am (binutils_TEXINFOS): Removed.
	(AM_MAKEINFOFLAGS): Add -I ../../bfd/doc.
	(TEXI2DVI): Likewise.
	(config.texi): Removed.
	(MOSTLYCLEANFILES): Remove config.texi.
	* doc/Makefile.in: Regenerated.

	* doc/binutils.texi: Include bfdver.texi instead of
	config.texi.

gas/

2007-03-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (REPORT_BUGS_TO): Removed.
	(INCLUDES): Remove -DREPORT_BUGS_TO.
	* Makefile.in: Regenerated.

	* configure.in (--with-bugurl): Removed.
	* configure: Regenerated.

	* doc/Makefile.am (as_TEXINFOS): Remove gasver.texi.
	(AM_MAKEINFOFLAGS): Add -I ../../bfd/doc.
	(TEXI2DVI): Likewise.
	(gasver.texi): Removed.
	(MOSTLYCLEANFILES): Remove gasver.texi.
	(as.1): Don't depend on gasver.texi.
	* doc/Makefile.in: Regenerated.

	* doc/as.texi: Include bfdver.texi instead of gasver.texi.

gprof/

2007-03-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (REPORT_BUGS_TO): Removed.
	(INCLUDES): Remove -DREPORT_BUGS_TO.
	* Makefile.in: Regenerated.

	* configure.in (--with-bugurl): Removed.
	* configure: Regenerated.

ld/

2007-03-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (ld_TEXINFOS): Remove ldver.texi.
	(AM_MAKEINFOFLAGS): Add -I ../../bfd/doc.
	(TEXI2DVI): Likewise.
	(REPORT_BUGS_TO): Removed.
	(INCLUDES): Remove -DREPORT_BUGS_TO.
	(ldver.texi): Likewise.
	(ld.1): Don't depend on ldver.texi.
	(MOSTLYCLEANFILES): Remove ldver.texi.
	* Makefile.in: Regenerated.

	* configure.in (--with-bugurl): Removed.
	* configure: Regenerated.

	* lexsup.c: Include bfdver.h.

	* ld.texinfo: Include bfdver.texi instead of ldver.texi.
@
text
@d1 5
@


1.1145
log
@* readelf.c (dump_section): Also test for SHT_REL sections when producing
  the warning about unapplied relocs.
@
text
@d1 25
@


1.1144
log
@binutils:
	* configure.in (REPORT_BUGS_TEXI): Define to Texinfo version of
	bug-reporting URL.
	* doc/Makefile.am (config.texi): Define BUGURL.
	* doc/binutils.texi: Use BUGURL.  Remove text about large files
	and uuencoding.
	* Makefile.in, configure, doc/Makefile.in: Regenerate.

gas:
	* configure.in (REPORT_BUGS_TEXI): Define to Texinfo version of
	bug-reporting URL.
	* doc/Makefile.am (gasver.texi): Define BUGURL.
	* doc/as.texinfo: Use BUGURL.
	* Makefile.in, configure, doc/Makefile.in: Regenerate.

ld:
	* configure.in (REPORT_BUGS_TEXI): Define to Texinfo version of
	bug-reporting URL.
	* Makefile.am (ldver.texi): Define BUGURL.
	* ld.texinfo: Use BUGURL.
	* Makefile.in, configure: Regenerate.
@
text
@d1 5
@


1.1143
log
@binutils/
200x-xx-xx  Phil Edwards  <phil@@codesourcery.com>
	    Richard Sandiford  <richard@@codesourcery.com>

	* NEWS: Mention addition of --extract-symbol.
	* doc/binutils.texi: Document it.
	* objcopy.c (extract_symbol): New variable.
	(OPTION_EXTRACT_SYMBOLS): New command_line_switch.
	(copy_options): Add an entry for --extract-symbol.
	(copy_usage): Mention --extract-symbol.
	(copy_object): Set the start address to zero for --extract-symbol.
	Do not copy private BFD data in that case.
	(setup_section): Set the size, LMA and VMA to zero for
	--extract-symbol.  Do not copy private BFD data in that case.
	(copy_section): Do not copy section contents if --extract-symbol
	is passed.
	(copy_main): Set extract_symbol to TRUE if --extract-symbol
	is passed.

ld/testsuite/
	* ld-elf/extract-symbol-1sym.d, ld-elf/extract-symbol-1sec.d,
	* ld-elf/extract-symbol-1.s, ld-elf/extract-symbol-1.ld: New tests.
	* ld-elf/binutils.exp: Run them.
@
text
@d1 9
@


1.1142
log
@2007-03-01  Paul Brook  <paul@@codesourcery.com>

	* MAINTAINERS: Update my entry.
@
text
@d1 18
@


1.1141
log
@bfd:
	* Makefile.am (bfdver.h): Use "." not " " between version number
	and date.
	* Makefile.in: Regenerate.
	* configure.in (PKGVERSION): Default to "(GNU Binutils) ".
	* configure: Regenerate.

binutils:
	* version.c (print_version): Update copyright date.

gas:
	* as.c (parse_args): Update copyright date.

gprof:
	* gprof.c: Include bfdver.h
	(main): Use BFD_VERSION_STRING for version number and package
	name.
	* Makefile.am (PKGVERSION): Remove.
	(INCLUDES): Update.
	Regenerate dependencies.
	* Makefile.in: Regenerate.
	* configure.in (PKGVERSION): Remove.
	* configure: Regenerate.

ld:
	* ldver.c (ldversion): Remove word "version" from output.  Update
	copyright date.
@
text
@d1 4
@


1.1140
log
@	* Makefile.am (install-exec-local): Depend on $(noinst_PROGRAMS).
	Adjust $(EXEEXT) handling for $(RENAMED_PROGS).
	* Makefile.in, doc/Makefile.in: Regenerate.
@
text
@d1 4
@


1.1139
log
@	* embedspu.sh: Set type and size of global program handle symbol.
@
text
@d1 6
@


1.1138
log
@	* Makefile.am (PROGS): Delete.
	(RENAMED_PROGS): Define.  Extracted from..
	(noinst_PROGRAMS): ..here.  Add BUILD_MISC.
	(install-exec-local): Adjust.
	* Makefile.in: Regenerate.
@
text
@d1 4
@


1.1137
log
@	* Makefile.am (PROGS): Add BUILD_INSTALL_MISC.
	(bin_PROGRAMS): Replace BUILD_MISC with BUILD_INSTALL_MISC.
	(EXTRA_PROGRAMS): Remove bin2c.
	(bin2c$(EXEEXT_FOR_BUILD)): New rule.
	(bin2c_SOURCES): Delete.
	(DISTCLEANFILES): Remove sysinfo.
	(MOSTLYCLEANFILES): Add sysinfo$(EXEEXT_FOR_BUILD) and
	bin2c$(EXEEXT_FOR_BUILD).
	* configure.in (BUILD_MISC): Add $(EXEEXT_FOR_BUILD) to bin2c.
	Move embedspu to..
	(BUILD_INSTALL_MISC): ..here.
	* Makefile.in: Regenerate.
	* configure: Regenerate.
@
text
@d3 8
@


1.1136
log
@	* bin2c.c: New file.
	* Makefile.am (EXTRA_PROGRAMS): Add bin2c.
	(CFILES): Add bin2c.c.
	(bin2c_SOURCES): Define.
	(bin2c.o): Dependencies from "make dep-am".
	* configure.in (BUILD_MISC): Add bin2c.
	* version.c: Update year.
	* po/POTFILES.in: Regenerate.
	* Makefile.in: Regenerate.
	* configure: Regenerate.
@
text
@d1 16
@


1.1135
log
@top level:
2007-02-17  Mark Mitchell  <mark@@codesourcery.com>
            Nathan Sidwell  <nathan@@codesourcery.com>
            Vladimir Prus  <vladimir@@codesourcery.com
            Joseph Myers  <joseph@@codesourcery.com>

	* configure.ac (TOPLEVEL_CONFIGURE_ARGUMENTS): Fix quoting.
	* configure: Regenerate.

bfd:
2007-02-17  Mark Mitchell  <mark@@codesourcery.com>
            Nathan Sidwell  <nathan@@codesourcery.com>
            Vladimir Prus  <vladimir@@codesourcery.com
            Joseph Myers  <joseph@@codesourcery.com>

	* configure.in (--with-pkgversion): New option.
	* configure: Regenerate.
	* Makefile.am (bfdver.h): Substitute for @@bfd_version_package@@.
	* Makefile.in: Regenerate.
	* version.h (BFD_VERSION_STRING): Define using
	@@bfd_version_package@@.

bfd/doc:
2007-02-17  Mark Mitchell  <mark@@codesourcery.com>
            Nathan Sidwell  <nathan@@codesourcery.com>
            Vladimir Prus  <vladimir@@codesourcery.com
            Joseph Myers  <joseph@@codesourcery.com>

	* Makefile.in: Regenerate.

binutils:
2007-02-17  Mark Mitchell  <mark@@codesourcery.com>
            Nathan Sidwell  <nathan@@codesourcery.com>
            Vladimir Prus  <vladimir@@codesourcery.com
            Joseph Myers  <joseph@@codesourcery.com>

	* configure.in (--with-bugurl): New option.
	* configure: Regenerate.
	* Makefile.am (REPORT_BUGS_TO): Define.
	(INCLUDES): Define REPORT_BUGS_TO.
	Regenerate dependencies.
	* Makefile.in: Regenerate.
	* doc/Makefile.in: Regenerate.
	* bucomm.h: Remove include of bin-bugs.h.
	* addr2line.c (usage): Don't print empty REPORT_BUGS_TO.
	* ar.c (usage): Pass s to list_supported_targets.  Don't print
	empty REPORT_BUGS_TO.
	* coffdump.c (show_usage): Don't print empty REPORT_BUGS_TO.
	* cxxfilt.c (usage): Print bug url when giving help.
	* dlltool.c (usage): Likewise.
	* dllwrap.c (usage): Likewise.
	* nlmconv.c (show_usage): Don't print empty REPORT_BUGS_TO.
	* nm.c (usage): Likewise.
	* objcopy.c (copy_usage, strip_usage): Likewise.
	* objdump.c (usage): Likewise.
	* readelf.c ((usage): Likewise. Add STREAM argument.  Adjust
	callers.
	* size.c (usage): Don't print empty REPORT_BUGS_TO.
	* srconv.c (show_usage): Likewise.
	* strings.c (usage): Likewise.
	* sysdymp.c (show_usage): Likewise.
	* windres.c (usage): Likewise.

gas:
2007-02-17  Mark Mitchell  <mark@@codesourcery.com>
            Nathan Sidwell  <nathan@@codesourcery.com>
            Vladimir Prus  <vladimir@@codesourcery.com
            Joseph Myers  <joseph@@codesourcery.com>

	* configure.in (--with-bugurl): New option.
	* configure: Regenerate.
	* dep-in.sed: Remove bin-bugs.h.
	* Makefile.am (REPORT_BUGS_TO): Define.
	(INCLUDES): Define REPORT_BUGS_TO.
	(DEP_INCLUDES): Likewise.
	($(OBJS)): No longer depend on bin-bugs.h.
	* Makefile.in: Regenerate.
	* doc/Makefile.in: Regenerate.
	* as.c (show_usage): Don't print empty REPORT_BUGS_TO.
	* as.h: Remove include of bin-bugs.h.

gprof:
2007-02-17  Mark Mitchell  <mark@@codesourcery.com>
            Nathan Sidwell  <nathan@@codesourcery.com>
            Vladimir Prus  <vladimir@@codesourcery.com
            Joseph Myers  <joseph@@codesourcery.com>

	* configure.in (--with-pkgversion, --with-bugurl): New options.
	* configure: Regenerate.
	* Makefile.am (PKGVERSION, REPORT_BUGS_TO): Define.
	(INCLUDES): Define PKGVERSION and REPORT_BUGS_TO.
	Regenerate dependencies.
	* Makefile.in: Regenerate.
	* gprof.c (usage): Don't print empty REPORT_BUGS_TO.
	(main): Include PKGVERSION in version output.
	* gprof.h: Remove include of bin-bugs.h.

include:
2007-02-17  Mark Mitchell  <mark@@codesourcery.com>
            Nathan Sidwell  <nathan@@codesourcery.com>
            Vladimir Prus  <vladimir@@codesourcery.com
            Joseph Myers  <joseph@@codesourcery.com>

	* bin-bugs.h: Remove.

ld:
2007-02-17  Mark Mitchell  <mark@@codesourcery.com>
            Nathan Sidwell  <nathan@@codesourcery.com>
            Vladimir Prus  <vladimir@@codesourcery.com
            Joseph Myers  <joseph@@codesourcery.com>

	* configure.in (--with-bugurl): New option.
	* configure: Regenerate.
	* Makefile.am (REPORT_BUGS_TO): Define.
	(INCLUDES): Define REPORT_BUGS_TO.
	Regenerate dependencies.
	* Makefile.in: Regenerate.
	* ld.h: Remove include of bin-bugs.h.
	* lexsup.c (help): Don't print empty REPORT_BUGS_TO.
@
text
@d1 13
@


1.1134
log
@	* embedspu.sh: Add -W to readelf invocation.
@
text
@d1 32
@


1.1133
log
@Add myself as maintainer of the MeP port.
@
text
@d1 4
@


1.1132
log
@Fix entries for MeP submission.
@
text
@d1 4
@


1.1131
log
@PR gas/3800
* readelf.c: Include elf/h8.h twice.  The first time in order to get the reloc
  numbers, the second time in order to get the reloc decoder function.
  (dump_section): Tell the user if the section being displayed has unprocessed
  relocs associated with it.
  (get_reloc_size): New function - returns the size of a reloc.
  (debug_apply_rela_addends): Use get_reloc_size().
* dwarf.c (read_and_display_attr_value): Extend number of languages known for
  the DW_AT_language attribute.
  (process_debug_info): Display the attribute offset before decoding the
  attribute, in case there are problems.
@
text
@d23 2
@


1.1130
log
@2007-02-05  Dave Brolley  <brolley@@redhat.com>

        * readelf.c (dump_relocations): Don't check for
        (rtype == NULL && type == R_RELC).

2007-02-05  Dave Brolley  <brolley@@redhat.com>

        * Contribute the following changes:
        2003-10-29  Dave Brolley  <brolley@@redhat.com>

        * configure.in: Define SKIP_ZEROES and SKIP_ZEROES_AT_END for mep.
        * configure: Regenerated.

        2001-04-03  Ben Elliston  <bje@@redhat.com>

        * readelf.c: Include "elf/mep.h".
        (guess_is_rela): Handle EM_CYGNUS_MEP.
        (get_machine_name): Ditto.
        (dump_relocations): Ditto.
@
text
@d1 15
@


1.1129
log
@Fix typos in year.
@
text
@d1 20
@


1.1128
log
@2076-02-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* MAINTAINERS: Add a space between H.J. and Lu.
@
text
@d1 1
a1 1
2076-02-02  H.J. Lu  <hongjiu.lu@@intel.com>
d5 1
a5 1
2076-02-02  H.J. Lu  <hongjiu.lu@@intel.com>
d10 1
a10 1
2076-02-02  H.J. Lu  <hongjiu.lu@@intel.com>
@


1.1127
log
@binutils/

2076-02-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* doc/binutils.texi (objdump): Document the new addr64 option
	for i386 disassembler.

include/

2076-02-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* dis-asm.h (print_i386_disassembler_options): New.

opcodes/

2076-02-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* disassemble.c (disassembler_usage): Call
	print_i386_disassembler_options for i386 disassembler.

	* i386-dis.c (print_i386_disassembler_options): New.
	(print_insn): Support the new addr64 option.
@
text
@d3 4
@


1.1126
log
@2076-02-02  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/3945
	* configure.in (DLLTOOL_DEFAULT): New. Defined for the first PE
	target.
	(DLLTOOL_DEFS): Add $DLLTOOL_DEFAULT.
	* configure: Regenerated.

	* dlltool.c (mname): Defined with DLLTOOL_DEFAULT_XXX.
@
text
@d3 5
@


1.1125
log
@* doc/binutils.texi (objdump): Document support for disassembling the 440 PowerPC architecture.
@
text
@d1 10
@


1.1124
log
@	* dwarf.c (process_debug_info): Protect against bogus length and
	abbrev offsets.
@
text
@d1 5
@


1.1123
log
@	* ar.c (print_contents, extract_file): Cast the return value
	of fwrite to size_t.
@
text
@d1 5
@


1.1122
log
@	* ar.c (open_inarch): Check fwrite return.  Use size_t.
	(extract_file): Likewise.  Remove test for "negative" file size.
	* readelf.c (process_program_headers): Check fscanf return.
@
text
@d1 5
@


1.1121
log
@2007-01-11  H.J. Lu  <hongjiu.lu@@intel.com>

	* bucomm.c (template_in_dir): Fix typo.
@
text
@d1 6
@


1.1120
log
@	* embedspu.sh: New file.
	* Makefile.am (embedspu): Add rule.
	* configure.in (BUILD_MISC): Add embedspu for powerpc-linux.
	* Makefile.in: Regenerate.
	* configure: Regenerate.
@
text
@d1 4
@


1.1119
log
@	* bucomm.h (make_tempdir): Declare independently of HAVE_MKDTEMP.
	* bucomm.c (template_in_dir): New function, split out from..
	(make_tempname): ..here.  Open the file with O_EXCL if !HAVE_MKSTEMP.
	(make_tempdir): Use template_in_dir.  Handle directory creation
	when !HAVE_MKDTEMP.
	* objcopy.c (MKDIR): Don't define.
	(copy_archive): Use make_tempdir when !HAVE_MKDTEMP too.  Fix
	error message.
@
text
@d3 8
@


1.1118
log
@Move 2006 ChangeLog entries to ChangeLog-2006.
@
text
@d1 11
@


1.1117
log
@bfd/
	* archures.c (bfd_mach_cpu32_fido): Rename to bfd_mach_fido.
	* bfd-in2.h: Regenerate.
	* cpu-m68k.c (arch_info_struct): Use bfd_mach_fido instead of
	bfd_mach_cpu32_fido.
	(m68k_arch_features): Use fido_a instead of cpu32.
	(bfd_m68k_compatible): Reject the combination of Fido and
	ColdFire.  Accept the combination of CPU32 and Fido with a
	warning.
	* elf32-m68k.c (elf32_m68k_object_p,
	elf32_m68k_merge_private_bfd_data,
	elf32_m68k_print_private_bfd_data): Treat Fido as an
	architecture by itself.

binutils/
	* readelf.c (get_machine_flags): Treat Fido as an architecture
	by itself.

gas/
	* config/tc-m68k.c (m68k_archs, m68k_cpus): Treat Fido as an
	architecture by itself.
	(m68k_ip): Don't issue a warning for tbl instructions on fido.
	(m68k_elf_final_processing): Treat Fido as an architecture by
	itself.

include/elf/
	* m68k.h (EF_M68K_FIDO): New.
	(EF_M68K_ARCH_MASK): OR EF_M68K_FIDO.
	(EF_M68K_CPU32_FIDO_A, EF_M68K_CPU32_MASK): Remove.

include/opcode/
	* m68k.h (m68010up): OR fido_a.

opcodes/
	* m68k-opc.c (m68k_opcodes): Replace cpu32 with
	cpu32 | fido_a except on tbl instructions.
@
text
@d17 1
a17 592
2006-12-25  Kazu Hirata  <kazu@@codesourcery.com>

	* readelf.c (get_machine_flags): Handle EF_M68K_CPU32_FIDO_A.

2006-12-11  J"orn Rennecke  <joern.rennecke@@arc.com>

	MAINTAINERS (SH): Remove my entry.

2006-12-11  Daniel Jacobowitz  <dan@@codesourcery.com>

	* configure.in: Define GENINSRC_NEVER.
	* doc/Makefile.am (MAINTAINERCLEANFILES): Add info file.
	(DISTCLEANFILES): Pretend to add info file.
	* po/Make-in (.po.gmo): Put gmo files in objdir.
	* configure, Makefile.in, doc/Makefile.in: Regenerated.

2006-12-07  Kazu Hirata  <kazu@@codesourcery.com>

	* readelf.c: Update uses of EF_M68K_*.

2006-10-30  Paul Brook  <paul@@codesourcery.com>

	* objdump.c (disassemble_section): Set info->symtab_pos.
	(disassemble_data): Set info->symtab and info->symtab_size.

2006-10-29  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/3384
	* configure.in (AC_CHECK_HEADERS): Add limits.h and sys/param.h.
	* configure: Regenerated.
	* config.in: Likewise.

	* readelf.c: Include <limits.h> and <sys/param.h> for PATH_MAX.
	(program_interpreter): Allocate PATH_MAX bytes instead of 64.
	(process_program_headers): Don't assume that program interpreter
	is shorter than 64 characters.

2006-10-25  Trevor Smigiel  <Trevor_Smigiel@@playstation.sony.com>
	    Yukishige Shibata  <shibata@@rd.scei.sony.co.jp>
	    Nobuhisa Fujinami  <fnami@@rd.scei.sony.co.jp>
	    Takeaki Fukuoka  <fukuoka@@rd.scei.sony.co.jp>
	    Alan Modra  <amodra@@bigpond.net.au>

	* readelf.c: Add SPU support.
	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.

2006-10-13  Robert Connolly  <robert@@linuxfromscratch.org>

	PR binutils/2876
	* configure.in: Check for the mkstemp and mkdtemp functions.
	* configure: Regenerate.
	* config.in (HAVE_MKDTEMP): New potential define.
	(MAKE_MKSTEMP): Likewise.
	* bucomm.c (make_tempname): Use mkstemp if it is available.
	(make_tempdir): New function: Create a temporary directory using
	mkdtemp, if it is available.
	* bucomm.h (make_tempdir): New prototype.
	* objcopy.c (copy_archive): Use make_tempdir if it is available.
	(strip_main): Produce an warning message if a temporary file could
	not be created.
	(copy_main): Likewise.
	* ar.c (write_archive): Likewise.

2006-10-10  Andreas Schwab  <schwab@@suse.de>

	* dwarf.c (display_debug_loc): Don't dereference loc_offsets when
	there are no location lists.
	(display_debug_ranges): Similar for range_lists.

2006-10-04  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (debug_apply_rela_addends): Don't ignore relocation
	against symbols without type.

2006-09-25 Pedro Alves <pedro_alves@@portugalmail.pt>

	* nlmconv.c (main) : Use LITMEMCPY.
	* prdbg.c (tg_class_static_member) : Use LITSTRCPY.

2006-09-26  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/3257
	* strings.c (main): Handle "-T format".

2006-09-26  Nick Clifton  <nickc@@redhat.com>

	* MAINTAINERS: Add Mei Ligang as maintainer of the Score port.

2006-09-26  Thiemo Seufer  <ths@@networkno.de>

	* configure.in: Remove broken changequote lines.

2006-09-20  Kai Tietz  <Kai.Tietz@@onevision.com>

	* configure.in: Add new target x86_64-pc-mingw64.
	* configure: Regenerate.
	* dlltool.c: Adjust include for this target.
	(DLLTOOL_MX86_64): Added macro to handle target specific code.
	(mname): Added default target static as "i386:x86-64".
	(MX86):	Added macro for target ident.
	(mtable): Added target specific definitions.
	(rvaafter): Add handling of MX86.
	(rvabefore): Add handling of MX86.
	(asmprefix): Add handling of MX86.

2006-09-17  Mei Ligang  <ligang@@sunnorth.com.cn>

	* readelf.c: Add support for Score binaries.
	* Makefile.am: Update readelf's dependencies.
	* Makefile.in: Regenerate.

2006-09-16  Nick Clifton  <nickc@@redhat.com>
	    Pedro Alves  <pedro_alves@@portugalmail.pt>

	* ar.c: Make use of new STRING_COMMA_LEN and CONST_STRNEQ
	macros defined in bfd.h.
	* dlltool.c: Likewise.
	* emul_aix.c: Likewise.
	* nlmconv.c: Likewise.
	* objdump.c: Likewise.
	* prdbg.c: Likewise.
	* stabs.c: Likewise.
	* readelf.c (const_strneq): New macro.
	(process_section_headers, slurp_ia64_unwind_table,
	slurp_hppa_unwind_table, display_debug_section, process_notes,
	process_archive): Use the new macro.

2006-09-14  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/3181
	* objcopy.c (group_signature): Return proper group signature.

2006-09-14  Alan Modra  <amodra@@bigpond.net.au>

	PR 3181
	* objcopy.c (group_signature): New function, split out from..
	(setup_section): ..here.
	(is_strip_section): Return true for SHT_GROUP sections that are
	going to lose their group signature symbol.

2006-09-14  Alan Modra  <amodra@@bigpond.net.au>

	PR 3181
	* objcopy.c (copy_object): Load symbols earlier.
	(setup_section): Mark group signature symbols with BSF_KEEP.

2006-09-09  Nick Clifton  <nickc@@redhat.com>

	PR binutils/3110
	* objcopy.c (copy_archive): Add new parameter:
	force_output_target.  If not true, then perserve the file formats
	of each copied archive element, otherwise force them to be one
	specific file format.
	(copy_file): Compute force_output_target parameter to pass to
	copy_archive. 

2006-09-05  Nick Clifton  <nickc@@redhat.com>

	PR binutils/3166
	* objcopy.c (is_strip_section): Do not treat group sections as
	debugging sections.
	* doc/binutils.texi (--only-keep-debug): Document that this switch
	is only intended for use on fully linked files.

2006-09-01  Nick Clifton  <nickc@@redhat.com>

	PR binutils/3146
	* readelf.c (dump_relocations): Check for a NULL value in rtype
	before using it.

2006-08-21  Pedro Alves  <pedro_alves@@portugalmail.pt>

	* configure.in: Split arm-pe and arm-wince-pe. Build dlltool
	with -DDLLTOOL_ARM_WINCE for Windows CE case.
	* configure: Regenerate.
	* dlltool.c: Add support for arm-wince.

2006-08-15  Nick Clifton  <nickc@@redhat.com>

	PR binutils/3039
	* wrstabs.c (stab_tag_type): Initialize 'size'.

2006-08-10  J"orn Rennecke  <joern.rennecke@@st.com>

	PR binutils/3017
	* doc/Makefile.am: Use single quotes inside backquotes for
	date command while generating config.texi.
	* doc/Makefile.in: Regenerate.

2006-08-08  Nick Clifton  <nickc@@redhat.com>

	PR binutils/2768
	* dwarf.c (display_debug_aranges): When the address size is
	greater than 4 display addresses and lengths as 16 hex digits,
	otherwise use 8 hex digits.

2006-08-06  Nick Clifton  <nickc@@redhat.com>

	PR binutils/3001
	* addr2line.c (process_file): Change function from void to
	returning an int.  Return 0 upon success, 1 otherwise.
	(main): Use return value from process_file as the exit value.
	* ar.c (ranlib_only):  Change function from void to returning an
	int.  Return 0 upon success, 1 otherwise.
	(ranlib_touch): Likewise.
	(main): Use return value from ranlib functions as exit value.
	* objcopy.c (add_specific_symbol): Set status to 1 if get_file_size
	fails.
	(copy_file): Likewise.
	(strip_main): Likewise.
	(copy_main): Likewise.
	* objdump.c (display_file): Set exit_status to 1 if get_file_size
	fails.
	* size.c (display_file): Set return_code to 1 if get_file_size
	fails.

2006-08-02  Thiemo Seufer  <ths@@mips.com>
            Nigel Stephens  <nigel@@mips.com>

	* readelf.c (dump_relocations): Handle MIPS-specific
	SHN_MIPS_SCOMMON and SHN_MIPS_SUNDEFINED. 
	(get_symbol_index_type): Similarly.

2006-07-24  Ralk Wildenhues  <Ralf.Wildenhues@@gmx.de>

	* doc/binutils.texinfo: Fix spelling mistakes.

2006-07-10  Jakub Jelinek  <jakub@@redhat.com>

	* readelf.c (get_dynamic_type): Handle DT_GNU_HASH.
	(get_section_type_name): Handle SHT_GNU_HASH.
	(dynamic_info_DT_GNU_HASH): New variable.
	(process_dynamic_section): Handle DT_GNU_HASH.
	(process_symbol_table): Print also DT_GNU_HASH histogram.

2006-07-06  Mohammed Adnne Trojette  <adn@@diwi.org>

	PR binutils/2879
	* doc/binutils.texi (Strings): Document -T shorthand for --target
	switch.
	* strings.c: Update comment to include -T option.

	PR binutils/2875
	* doc/binutils.texi (readelf): Fix spelling typo.

2006-06-30  Nick Clifton  <nickc@@redhat.com>

	* dwarf.c (display_debug_frames): Catch a corrupt length field
	generating an end of block address that is beyond the end of the
	section.
	When encountering a corrupt CIE pointer do not reset the start
	pointer as more data still has to be read.
	Do not warn about user defined call frame instructions.

2006-06-29  DJ Delorie  <dj@@redhat.com>

	* readelf.c (process_section_headers): Add H8/300 support.

2006-06-23  Richard Sandiford  <richard@@codesourcery.com>

	* objcopy.c (localize_hidden): New variable.
	(OPTION_LOCALIZE_HIDDEN): New command_line_switch value.
	(copy_options): Add --localize-hidden.
	(copy_usage): Mention --localize-hidden.
	(is_hidden_symbol): New function.
	(filter_symbols): Handle localize_hidden.
	(copy_object): Call filter_symbols if localize_hidden.
	(copy_main): Handle OPTION_LOCALIZE_HIDDEN.
	* doc/binutils.texi (--localize-hidden): Document new option.

2006-06-23  Daniel Jacobowitz  <dan@@codesourcery.com>

	* Makefile.am (ar_DEPENDENCIES, ranlib_DEPENDENCIES)
	(dlltool_DEPENDENCIES, windres_DEPENDENCIES): Remove @@LEXLIB@@.
	* Makefile.in: Regenerate.

2006-06-23  Alan Modra  <amodra@@bigpond.net.au>

	* Makefile.am (*_DEPENDENCIES): Add missing dependencies.
	* Makefile.in: Regenerate.

2006-06-07  Joseph S. Myers  <joseph@@codesourcery.com>

	* po/Make-in (pdf, ps): New dummy targets.

2006-06-05  Daniel Jacobowitz  <dan@@codesourcery.com>

	* po/Make-in (top_builddir): Define.

2006-06-05  Alan Modra  <amodra@@bigpond.net.au>

	* config.in: Regenerate.

2006-06-02  Joseph S. Myers  <joseph@@codesourcery.com>

	* doc/Makefile.am (TEXI2DVI): Define.
	* doc/Makefile.in: Regenerate.

2006-05-31  Daniel Jacobowitz  <dan@@codesourcery.com>

	* Makefile.am: Replace INTLLIBS with LIBINTL everywhere.  Add
	DEPENDENCIES variables for every program.
	(INTLLIBS): Remove.
	(INCLUDES): Use @@INCINTL@@.
	* acinclude.m4: Include new gettext macros.
	* configure.in: Use ZW_GNU_GETTEXT_SISTER_DIR and AM_PO_SUBDIRS.
	Remove local code for po/Makefile.
	* Makefile.in, configure, doc/Makefile.in: Regenerated.

2006-05-30  Nick Clifton  <nickc@@redhat.com>

	* po/es.po: Updated Spanish translation.

2006-05-25  J"orn Rennecke <joern.rennecke@@st.com>

	* MAINTAINERS: Update my email address.

2006-05-24  Nick Clifton  <nickc@@redhat.com>

	* po/fr.po: Updated French translation.

2006-05-23  Nick Clifton  <nickc@@redhat.com>

	* po/vi.po: Updated Vietnamese translation.

2006-05-22  Daniel Jacobowitz  <dan@@codesourcery.com>

	* po/ru.po: Updated translation.

2006-05-19  Andreas Schwab  <schwab@@suse.de>

	* doc/Makefile.am (addr2line.1): Depend on $(binutils_TEXINFOS).
	(ar.1): Likewise.
	(dlltool.1): Likewise.
	(nlmconv.1): Likewise.
	(nm.1): Likewise.
	(objcopy.1): Likewise.
	(objdump.1): Likewise.
	(ranlib.1): Likewise.
	(readelf.1): Likewise.
	(size.1): Likewise.
	(strings.1): Likewise.
	(strip.1): Likewise.
	(windres.1): Likewise.
	(cxxfilt.man): Likewise.
	* doc/Makefile.in: Regenerated.

2006-05-17  Carlos O'Donell  <carlos@@codesourcery.com>

	* doc/binutils.texi: Use "Binutils Index" for index name.

2006-05-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* dwarf.c (display_debug_frames): Don't return on ZERO
	terminator.

2006-05-02  Daniel Jacobowitz  <dan@@codesourcery.com>

	* doc/Makefile.am (AM_MAKEINFOFLAGS): New.
	(TEXI2POD): Use AM_MAKEINFOFLAGS.
	(config.texi): Don't set top_srcdir.
	* doc/binutils.texi: Don't use top_srcdir.
	* aclocal.m4, Makefile.in, doc/Makefile.in: Regenerated.

2006-04-26  Julian Brown  <julian@@codesourcery.com>

	* readelf.c (arm_attr_tag_VFP_arch): Add VFPv3.

2006-04-19  Alan Modra  <amodra@@bigpond.net.au>

	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.

2006-04-19  Alan Modra  <amodra@@bigpond.net.au>

	* configure: Regenerate.

2006-04-18  Nick Clifton  <nickc@@redhat.com>

	PR 2257
	* readelf.c (SECTION_NAME): Cope with a missing string table.
	(process_file_header): Cope with a corrupt e_shstrndx field.
	(process_section_headers): Correctly handle an e_shstrndx value of
	SHF_UNDEF.

2006-04-12  Nick Clifton  <nickc@@redhat.com>

	* objdump.c (objdump_symbol_at_address): Fix typo in comment.

2006-04-10  Ben Elliston  <bje@@gnu.org>

	* MAINTAINERS (CGEN Maintainers): Remove myself.

2006-04-06  Carlos O'Donell  <carlos@@codesourcery.com>

	* po/Make-in: Add install-html target.
	* Makefile.am: Add install-html and install-html-recursive targets.
	* Makefile.in: Regenerate.
	* configure.in: AC_SUBST datarootdir, docdir and htmldir.
	* configure: Regenerate.
	* doc/Makefile.am: Add install-html and install-html-am targets.
	* doc/Makefile.in: Regenerate.

2006-04-05  Eric Botcazou  <ebotcazou@@adacore.com>

	* addr2line.c (long_options): Add new option 'section'.
	(usage): Document new -j/--section option.
	(find_offset_in_section): New function.
	(translate_addresses): Add 'section' parameter.
	If it is non-null, call find_offset_in_section on it.
	(process_file): Add 'section_name' parameter.
	If it is non-null, look for the section in the BFD object.
	Pass the section to translate_addresses.
	(main): Handle new -j option.
	Pass the section name to process_file.
	* doc/binutils.texi (addr2line): Document new -j/--section option.

2006-03-29  Ben Elliston  <bje@@au.ibm.com>

	* resbin.c: Avoid duplicating constants in calls to reswr_alloc.

2006-03-20  Nathan Sidwell  <nathan@@codesourcery.com>

	* BRANCHES: Remove binutils-csl-arm-2006q1-branch.  Document
	binutils-csl-2_17-branch instead.

2006-03-20  Paul Brook  <paul@@codesourcery.com>

	* BRANCHES: Mention binutils-csl-arm-2006q1-branch.

2006-03-16  Alan Modra  <amodra@@bigpond.net.au>

	PR 2434
	* ieee.c (write_ieee_debugging_info): Adjust bfd_hash_table_init calls.
	* wrstabs.c (write_stabs_in_sections_debugging_info): Likewise.

2006-03-13  Ben Elliston  <bje@@au.ibm.com>

	* bucomm.c (display_target_list): Make local variable `a' to be of
	type enum bfd_architecture.  Thus no need to cast enums to int.
	(display_info_table): Likewise.

2006-03-10  Paul Brook  <paul@@codesourcery.com>

	* readelf.c (decode_ARM_machine_flags):  Handle EABIv5.

2006-03-10  Alan Modra  <amodra@@bigpond.net.au>

	* dwarf.c (process_extended_line_op): Remove pointer_size param.
	Use length instead to determine address size.
	(get_pointer_size_and_offset_of_comp_unit): Delete.
	(display_debug_lines): Adjust for above.
	(display_debug_aranges): Don't stop on finding two zeros.
	(display_debug_frames): For warning, print offset not pointer.

2006-03-09  Danny Smith  <dannysmith@@users.sourceforge.net>

	* dlltool.c: Update copyright year.
	* doc/binutils.texi: Likewise.

2006-03-09  Danny Smith  <dannysmith@@users.sourceforge.net>

	* dlltool.c (add_stdcall_underscore): New flag.
	(xlate): Also add underscore to stdcall symbol if
	add_stdcall_underscore set.
	(usage): Document --add-stdcall-underscore option.
	(OPTION_ADD_STDCALL_UNDERSCORE): New define.
	(long_options): Use it for --add-stdcall-underscore option.
	(main): Handle it.
	* doc/binutils.texi: Document --add-stdcall-underscore option
	and differentiate from --add-underscore.

2006-03-06  Nathan Sidwell  <nathan@@codesourcery.com>

	* readelf.c (get_machine_flags): Adjust.

2006-03-03  Jakub Jelinek  <jakub@@redhat.com>

	* dwarf.c (frame_display_row, display_debug_frames): Handle
	DW_CFA_val_offset, DW_CFA_val_offset_sf and DW_CFA_val_expression.

2006-02-28  Nick Clifton  <nickc@@redhat.com>

	* objcopy.c (use_alt_mach_code): Change type to unsigned long.
	(copy_object):  If bfd_alt_mach_code fails emit a more helpful
	message and if the target architecture is ELF use the alternative
	as replacement value for the e_machine number.
	(copy_main): Use strtoul to parse the number provided with the
	--alt-mach-code switch.
	* doc/binutils.texi (--alt-mach-code): Document that this switch
	can now set the absolute e_machine value.

2006-02-27  Carlos O'Donell  <carlos@@codesourcery.com>

	* po/Make-in: Add html target.

2006-02-17  Nick Hudson  <nick.hudson@@dsl.pipex.com>

	* readelf.c (get_machine_flags): Add logic for missing EF_SH flags.

2006-02-14  Jakub Jelinek  <jakub@@redhat.com>

	* config.in: Rebuilt.

2006-02-10  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/2258
	* readelf.c (process_program_headers): Use
	ELF_IS_SECTION_IN_SEGMENT_MEMORY.

2006-02-09  Eric Botcazou  <ebotcazou@@libertysurf.fr>

	* configure.in (CHECK_DECLS): Add snprintf and vsnprintf.
	* configure: Regenerate.
	* objdump.c (fprintf): Remove declaration.
	* bucomm.h (fprintf): Declare if not already declared.
	(snprintf): Likewise.
	(vsnprintf): Likewise.

2006-02-08  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (process_program_headers): Match PT_TLS segment
	only with SHT_TLS sections.

2006-02-07  Nathan Sidwell  <nathan@@codesourcery.com>

	* readelf.c (get_machine_flags): Add logic for EF_M68K flags.

2006-02-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (process_program_headers): Undo the last change.

2006-02-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (process_program_headers): Undo the change made on
	2004-09-22.  Match PT_DYNAMIC segment only with SHT_DYNAMIC
	sections.

2006-01-30  Nick Clifton  <nickc@@redhat.com>

	* objcopy.c (copy_object): Catch the case where an attempt is made
	to add a section that already exists and produce a more helpful
	warning message.

2006-01-26  Nick Clifton  <nickc@@redhat.com>

	* po/vi.po: New Vietnamese translation.
	* configure.in (ALL_LINGUAS): Add vi.
	* configure: Regenerate.

2006-01-18  Alexandre Oliva  <aoliva@@redhat.com>

	Introduce TLS descriptors for i386 and x86_64.
	* readelf.c (get_dynamic_type): Handle DT_TLSDESC_GOT and
	DT_TLSDESC_PLT.

2006-01-18  Nick Clifton  <nickc@@redhat.com>

	PR binutils/1391
	* objcopy.c (copy_object): For PE format targets set the VMA of a
	newly created gnu_debuglink section to a non-zero, aligned,
	contiguous value.
	* Makefile.am (objcopy.c): Add a dependency upon libbfd.h.
	* Makefile.in: Regenerate.

2006-01-17  Andreas Schwab  <schwab@@suse.de>

	PR binutils/1486
	* configure.in: Don't define DISASSEMBLER_NEEDS_RELOCS.
	* configure: Regenerate.
	* objdump.c (struct objdump_disasm_info): Don't check for
	DISASSEMBLER_NEEDS_RELOCS.
	(objdump_print_addr): Likewise.
	(disassemble_bytes): Check disassembler_needs_relocs from
	disassemble_info at run-time instead of DISASSEMBLER_NEEDS_RELOCS
	at compile-time.
	(disassemble_section): Likewise.
	(disassemble_data): Initialize it.

2006-01-11  Alan Modra  <amodra@@bigpond.net.au>

	* objcopy.c (copy_object): Fix thinko.

	* objcopy.c (copy_object): Set isympp and osympp to NULL after free.

2006-01-09  Mike Frysinger  <vapier@@gentoo.org>:

	* readelf.c (guess_is_rela): Add case for Nios/Nios II.
	(get_machine_name): Likewise.

For older changes see ChangeLog-2005
@


1.1116
log
@Renamed target x86_64-*-mingw64 to x86_64-*-mingw*.
@
text
@d1 5
@


1.1115
log
@	* readelf.c (dump_section): Don't print 32-bit values, which
	were done incorrectly for little-endian.  Instead print bytes.
@
text
@d1 6
@


1.1114
log
@bfd/
	* archures.c (bfd_mach_cpu32_fido): New.
	(bfd_mach_mcf_isa_a_nodiv, bfd_mach_mcf_isa_a,
	bfd_mach_mcf_isa_a_mac, bfd_mach_mcf_isa_a_emac,
	bfd_mach_mcf_isa_aplus, bfd_mach_mcf_isa_aplus_mac,
	bfd_mach_mcf_isa_aplus_emac, bfd_mach_mcf_isa_b_nousp,
	bfd_mach_mcf_isa_b_nousp_mac, bfd_mach_mcf_isa_b_nousp_emac,
	bfd_mach_mcf_isa_b, bfd_mach_mcf_isa_b_mac,
	bfd_mach_mcf_isa_b_emac, bfd_mach_mcf_isa_b_float,
	bfd_mach_mcf_isa_b_float_mac, bfd_mach_mcf_isa_b_float_emac):
	Increment the defined values.
	* bfd-in2.h: Regenerate.
	* cpu-m68k.c (arch_info_struct): Add en entry for
	bfd_mach_cpu32_fido.
	* elf32-m68k.c (elf32_m68k_object_p): Handle
	EF_M68K_CPU32_FIDO_A.
	(elf32_m68k_merge_private_bfd_data): Use EF_M68K_CPU32_MASK.
	(elf32_m68k_print_private_bfd_data): Handle
	EF_M68K_CPU32_FIDO_A.

binutils/
	* readelf.c (get_machine_flags): Handle EF_M68K_CPU32_FIDO_A.

gas/
	* config/tc-m68k.c (cpu_of_arch): Add fido.
	(m68k_archs, m68k_cpu): Add entries for fido.
	(m68k_elf_final_processing): Handle EF_M68K_CPU32_FIDO_A.

include/elf/
	* m68k.h (EF_M68K_CPU32_FIDO_A, EF_M68K_CPU32_MASK): New.

include/opcode/
	* m68k.h (fido_a): New.
@
text
@d1 5
@


1.1113
log
@	MAINTAINERS (SH): Remove my entry.
@
text
@d1 4
@


1.1112
log
@bfd/
	* configure.in: Define GENINSRC_NEVER.
	* doc/Makefile.am (bfd.info): Remove srcdir prefix.
	(MAINTAINERCLEANFILES): Add info file.
	(DISTCLEANFILES): Pretend to add info file.
	* po/Make-in (.po.gmo): Put gmo files in objdir.
	* configure, Makefile.in, doc/Makefile.in: Regenerated.
binutils/
	* configure.in: Define GENINSRC_NEVER.
	* doc/Makefile.am (MAINTAINERCLEANFILES): Add info file.
	(DISTCLEANFILES): Pretend to add info file.
	* po/Make-in (.po.gmo): Put gmo files in objdir.
	* configure, Makefile.in, doc/Makefile.in: Regenerated.
gas/
	* configure.in: Define GENINSRC_NEVER.
	* doc/Makefile.am (as.info): Remove srcdir prefix.
	(MAINTAINERCLEANFILES): Add info file.
	(DISTCLEANFILES): Pretend to add info file.
	* po/Make-in (.po.gmo): Put gmo files in objdir.
	* configure, Makefile.in, doc/Makefile.in: Regenerated.
gprof/
	* configure.in: Define GENINSRC_NEVER.
	* doc/Makefile.am (gprof.info): Remove srcdir prefix.
	(MAINTAINERCLEANFILES): Add info file.
	(DISTCLEANFILES): Pretend to add info file.
	* po/Make-in (.po.gmo): Put gmo files in objdir.
	* configure, Makefile.in: Regenerated.
ld/
	* configure.in: Define GENINSRC_NEVER.
	* doc/Makefile.am (ld.info): Remove srcdir prefix.
	(MAINTAINERCLEANFILES): Add info file.
	(DISTCLEANFILES): Pretend to add info file.
	* po/Make-in (.po.gmo): Put gmo files in objdir.
	* configure, Makefile.in: Regenerated.
opcodes/
	* po/Make-in (.po.gmo): Put gmo files in objdir.
@
text
@d1 4
@


1.1111
log
@bfd/
	* elf32-m68k.c: Update uses of EF_M68K_*.

binutils/
	* readelf.c: Update uses of EF_M68K_*.

gas/
	* config/tc-m68k.c: Update uses of EF_M68K_*.

include/elf
	* m68k.h (EF_M68K_ISA_MASK, EF_M68K_ISA_A_NODIV,
	EF_M68K_ISA_A, EF_M68K_ISA_A_PLUS, EF_M68K_ISA_B_NOUSP,
	EF_M68K_ISA_B, EF_M68K_ISA_C, EF_M68K_MAC_MASK, EF_M68K_MAC,
	EF_M68K_EMAC, EF_M68K_EMAC_B, EF_M68K_FLOAT): Rename to
	EF_M68K_CF_ISA_MASK, EF_M68K_CF_ISA_A_NODIV, EF_M68K_CF_ISA_A,
	EF_M68K_CF_ISA_A_PLUS, EF_M68K_CF_ISA_B_NOUSP,
	EF_M68K_CF_ISA_B, EF_M68K_CF_ISA_C, EF_M68K_CF_MAC_MASK,
	EF_M68K_CF_MAC, EF_M68K_CF_EMAC, EF_M68K_CF_EMAC_B,
	EF_M68K_CF_FLOAT, respectively.
@
text
@d1 8
@


1.1110
log
@2006-10-30  Paul Brook  <paul@@codesourcery.com>

	binutils/
	* objdump.c (disassemble_section): Set info->symtab_pos.
	(disassemble_data): Set info->symtab and info->symtab_size.

	include/
	* dis-asm.h (disassemble_info): Add symtab, symtab_pos and
	symtab_size.

	opcodes/
	* arm-dis.c (last_is_thumb, last_mapping_sym, last_mapping_addr): New.
	(get_sym_code_type): New function.
	(print_insn): Search for mapping symbols.
@
text
@d1 4
@


1.1109
log
@2006-10-29  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/3384
	* configure.in (AC_CHECK_HEADERS): Add limits.h and sys/param.h.
	* configure: Regenerated.
	* config.in: Likewise.

	* readelf.c: Include <limits.h> and <sys/param.h> for PATH_MAX.
	(program_interpreter): Allocate PATH_MAX bytes instead of 64.
	(process_program_headers): Don't assume that program interpreter
	is shorter than 64 characters.
@
text
@d1 5
@


1.1108
log
@New Cell SPU port.
@
text
@d1 12
@


1.1107
log
@PR binutils/2876
* configure.in: Check for the mkstemp and mkdtemp functions.
* configure: Regenerate.
* config.in (HAVE_MKDTEMP): New potential define.
(MAKE_MKSTEMP): Likewise.
* bucomm.c (make_tempname): Use mkstemp if it is available.
* make_tempdir): New function: Create a temporary directory using mkdtemp, if
it is available.
* bucomm.h (make_tempdir): New prototype.
* objcopy.c (copy_archive): Use make_tempdir if it is available.
  (strip_main): Produce an warning message if a temporary file could not be
  (copy_main): Likewise.
* ar.c (write_archive): Likewise.
@
text
@d1 10
@


1.1106
log
@	* dwarf.c (display_debug_loc): Don't dereference loc_offsets when
	there are no location lists.
	(display_debug_ranges): Similar for range_lists.
@
text
@d1 17
@


1.1105
log
@2006-10-04  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (debug_apply_rela_addends): Don't ignore relocation
	against symbols without type.
@
text
@d1 6
@


1.1104
log
@* bfd-in.h (CONST_STRNCPY) : Delete.
  (LITSTRCPY) : New.
  (LITMEMCPY) : New.
* bfd-in2.h : Regenerate.
* elflink.c  (bfd_elf_gc_sections) : Use LITMEMCPY. Don't manually calculate string lengths.
* nlmcode.h (nlm_swap_auxiliary_headers_in) : Use LITMEMCPY.
* nlmconv.c (main) : Use LITMEMCPY.
* prdbg.c (tg_class_static_member) : Use LITSTRCPY.
@
text
@d1 5
@


1.1103
log
@2006-09-26  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/3257
	* strings.c (main): Handle "-T format".
@
text
@d1 5
@


1.1102
log
@Add Mei Ligang as maintainer of the Score port.
@
text
@d1 5
@


1.1101
log
@	* configure.in: Remove broken changequote lines.
@
text
@d1 4
@


1.1100
log
@Add x86_64-mingw64 target
@
text
@d1 4
@


1.1099
log
@Add support for Score target.
@
text
@d1 13
@


1.1098
log
@* bfd-in.h (STRING_AND_COMMA): New macro.  Takes one constant string as its
  argument and emits the string followed by a comma and then the length of
  the string.
  (CONST_STRNEQ): New macro.  Checks to see if a variable string has a constant
  string as its initial characters.
  (CONST_STRNCPY): New macro.  Copies a constant string to the start of a
  variable string.
* bfd-in2.h: Regenerate.
* <remainign files>: Make use of the new macros.
@
text
@d1 6
@


1.1097
log
@Fix PR references.
@
text
@d1 16
@


1.1096
log
@binutils/

2006-09-14  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/3182
	* objcopy.c (group_signature): Return proper group signature.

binutils/testsuite/

2006-09-14  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/3182
	* binutils-all/objcopy.exp: Run strip-1 and strip-2 for ELF
	targets.

	* binutils-all/strip-1.d: New file.
	* binutils-all/strip-2.d: Likewise.

	* lib/utils-lib.exp (run_dump_test): Support strip.
@
text
@d3 1
a3 1
	PR binutils/3182
d8 1
a8 1
	PR 3182
d16 1
a16 1
	PR 3182
@


1.1095
log
@	PR 3182
	* elf.c (_bfd_elf_copy_private_header_data): Fix group members
	that have had their SHT_GROUP section removed.
	* objcopy.c (group_signature): New function, split out from..
	(setup_section): ..here.
	(is_strip_section): Return true for SHT_GROUP sections that are
	going to lose their group signature symbol.
@
text
@d1 5
@


1.1094
log
@	PR 3182
	* objcopy.c (copy_object): Load symbols earlier.
	(setup_section): Mark group signature symbols with BSF_KEEP.
@
text
@d4 8
@


1.1093
log
@PR binutils/3110
* objcopy.c (copy_archive): Add new parameter: force_output_target. If not
  true, then perserve the file formats of each copied archive element,
  otherwise force them to be one specific file format.
  (copy_file): Compute force_output_target parameter to pass to copy_archive.
@
text
@d1 6
@


1.1092
log
@PR binutils/3166
* objcopy.c (is_strip_section): Do not treat group sections as debugging sections.
* doc/binutils.texi (--only-keep-debug): Document that this switch is only intended for use on fully linked files.
@
text
@d1 10
@


1.1091
log
@PR binutils/3146
* readelf.c (dump_relocations): Check for a NULL value in rtype before using it.
@
text
@d1 8
@


1.1090
log
@bfd
* Makefile.am: Add rules to build pe-arm-wince.lo and pei-arm-wince.lo objects.
* Makefile.in: Regenerate.
* pe-arm-wince.c: New file.
* pei-arm-wince.c: New file.
* pei-arm.c: Remove ARM_WINCE block.
* pe-arm.c: Remove ARM_WINCE block. Rename
bfd_arm_pe_allocate_interworking_sections,
bfd_arm_pe_get_bfd_for_interworking, and
bfd_arm_pe_process_before_allocation to
bfd_armpe_allocate_interworking_sections,
bfd_armpe_get_bfd_for_interworking, and
bfd_armpe_process_before_allocation. Move them before including bfd.h.
* bfd.c: ARM wince bfd format names were renamed. Adjust.
* coff-arm.c [ARM_WINCE]: Adjust so Windows CE doesn't end up with unexpected/conflicting relocs.
* targets.c: The arm-wince-pe target got its own new vector.  Adjust.
* config.bfd: Likewise.
* configure.in: Likewise.
* configure: Regenerate.

binutils
* configure.in: Split arm-pe and arm-wince-pe. Build dlltool with -DDLLTOOL_ARM_WINCE for Windows CE case.
* configure: Regenerate.
* dlltool.c: Add support for arm-wince.

gas
* Makefile.am (TARG_ENV_HFILES): Add te-wince-pe.h.
* Makefile.in: Regenerate.
* config/tc-arm.h [TARGET_FORMAT]: ARM wince bfd names were  renamed. Adjust.

ld
* Makefile.am: Split arm-wince into its own emulation.
* Makefile.in: Regenerate.
* configure.tgt: Set targ_emul to arm_wince_pe for ARM Windows CE targets.
* pe-dll.c : Define PE_ARCH_arm_wince.
  (pe_detail_list): Add PE_ARCH_arm_wince case.
  (make_one): Handle PE_ARCH_arm_epoc and PE_ARCH_arm_wince cases.
* emulparams/arm_wince_pe.sh: New file.
* emultempl/pe.em: Handle new TARGET_IS_arm_wince_pe define.
  Remap bfd_arm_allocate_interworking_sections, bfd_arm_get_bfd_for_interworking and
  bfd_arm_process_before_allocation for arm-pe and arm-wince-pe targets too.
  (gld_${EMULATION_NAME}_recognized_file): Handle arm-wince and arm-epoc bfd format names.
@
text
@d1 6
@


1.1089
log
@PR binutils/3039
* wrstabs.c (stab_tag_type): Initialize 'size'.
@
text
@d1 7
@


1.1088
log
@	PR binutils/3017
	* doc/Makefile.am: Use single quotes inside backquotes for
	date command while generating config.texi.
	* doc/Makefile.in: Regenerate.
@
text
@d1 5
@


1.1087
log
@PR binutils/2768
* dwarf.c (display_debug_aranges): When the address size is greater than 4
  display addresses and lengths as 16 hex digits, otherwise use 8 hex digits.
@
text
@d1 7
@


1.1086
log
@ PR binutils/3001
* addr2line.c (process_file): Change function from void to returning an int.  Return 0 upon success, 1 otherwise.
 (main): Use return value from process_file as the exit value.
* ar.c (ranlib_only):  Change function from void to returning an int.  Return 0 upon success, 1 otherwise.
  (ranlib_touch): Likewise.
  (main): Use return value from ranlib functions as exit value.
* objcopy.c (add_specific_symbol): Set status to 1 if get_file_size fails.
  (copy_file): Likewise.
  (strip_main): Likewise.
  (copy_main): Likewise.
* objdump.c (display_file): Set exit_status to 1 if get_file_size fails.
* size.c (display_file): Set return_code to 1 if get_file_size fails.
@
text
@d1 7
@


1.1085
log
@	* readelf.c (dump_relocations): Handle MIPS-specific
	SHN_MIPS_SCOMMON and SHN_MIPS_SUNDEFINED.
	(get_symbol_index_type): Similarly.
@
text
@d1 20
@


1.1084
log
@Fix spelling typos
@
text
@d1 7
@


1.1083
log
@include/
	* bfdlink.h (struct bfd_link_info): Add emit_hash and
	emit_gnu_hash bitfields.
include/elf/
	* common.h (SHT_GNU_HASH, DT_GNU_HASH): Define.
ld/
	* scripttempl/elf.sc: Add .gnu.hash section.
	* emultempl/elf32.em (OPTION_HASH_STYLE): Define.
	(gld${EMULATION_NAME}_add_options): Register --hash-style option.
	(gld${EMULATION_NAME}_handle_option): Handle it.
	(gld${EMULATION_NAME}_list_options): Document it.
	* ldmain.c (main): Initialize emit_hash and emit_gnu_hash.
	* ld.texinfo: Document --hash-style option.
bfd/
	* elf.c (_bfd_elf_print_private_bfd_data): Handle DT_GNU_HASH.
	(bfd_section_from_shdr, elf_fake_sections, assign_section_numbers):
	Handle SHT_GNU_HASH.
	(special_sections_g): Include .gnu.hash section.
	(bfd_elf_gnu_hash): New function.
	* elf-bfd.h (bfd_elf_gnu_hash, _bfd_elf_hash_symbol): New prototypes.
	(struct elf_backend_data): Add elf_hash_symbol method.
	* elflink.c (_bfd_elf_link_create_dynamic_sections): Create .hash
	only if info->emit_hash, create .gnu.hash section if
	info->emit_gnu_hash.
	(struct collect_gnu_hash_codes): New type.
	(elf_collect_gnu_hash_codes, elf_renumber_gnu_hash_syms,
	_bfd_elf_hash_symbol): New functions.
	(compute_bucket_count): Don't compute HASHCODES array, instead add
	that and NSYMS as arguments.  Use bed->s->sizeof_hash_entry
	instead of bed->s->arch_size / 8.  Fix .hash size estimation.
	When not optimizing, use the number of hashed symbols rather than
	dynsymcount.
	(bfd_elf_size_dynamic_sections): Only add DT_HASH if info->emit_hash,
	and ADD DT_GNU_HASH if info->emit_gnu_hash.
	(bfd_elf_size_dynsym_hash_dynstr): Size .hash only if info->emit_hash,
	adjust compute_bucket_count caller.  Create and populate .gnu.hash
	section if info->emit_gnu_hash.
	(elf_link_output_extsym): Only populate .hash section if
	finfo->hash_sec != NULL.
	(bfd_elf_final_link): Adjust assertion.  Handle DT_GNU_HASH.
	* elfxx-target.h (elf_backend_hash_symbol): Define if not yet defined.
	(elfNN_bed): Add elf_backend_hash_symbol.
	* elf64-x86-64.c (elf64_x86_64_hash_symbol): New function.
	(elf_backend_hash_symbol): Define.
	* elf32-i386.c (elf_i386_hash_symbol): New function.
	(elf_backend_hash_symbol): Define.
binutils/
	* readelf.c (get_dynamic_type): Handle DT_GNU_HASH.
	(get_section_type_name): Handle SHT_GNU_HASH.
	(dynamic_info_DT_GNU_HASH): New variable.
	(process_dynamic_section): Handle DT_GNU_HASH.
	(process_symbol_table): Print also DT_GNU_HASH histogram.
ld/testsuite/
	* ld-powerpc/tlsso32.r: Adjust.
	* ld-powerpc/tlsso32.d: Adjust.
	* ld-powerpc/tlsso32.g: Adjust.
	* ld-powerpc/tlsso.r: Adjust.
	* ld-powerpc/tlsso.g: Adjust.
	* ld-powerpc/tlstocso.g: Adjust.
@
text
@d1 4
@


1.1082
log
@2006-07-06  Mohammed Adnne Trojette  <adn@@diwi.org>

PR binutils/2875
* doc/binutils.texi (readelf): Fix spelling typo.
@
text
@d1 8
@


1.1081
log
@PR binutils/2879
* doc/binutils.texi: Document -T shorthand for --target switch.
* strings.c: Update comment to include -T option.
@
text
@d4 2
a5 1
	* doc/binutils.texi: Document -T shorthand for --target switch.
d8 3
@


1.1080
log
@* dwarf.c (display_debug_frames): Catch a corrupt length field generating an
    end of block address that is beyond the end of the section.
  When encountering a corrupt CIE pointer do not reset the start pointer as
    more data still has to be read.
  Do not warn about user defined call frame instructions.
@
text
@d1 6
@


1.1079
log
@* readelf.c (process_section_headers): Add H8/300 support.
@
text
@d1 9
@


1.1078
log
@binutils/
	* objcopy.c (localize_hidden): New variable.
	(OPTION_LOCALIZE_HIDDEN): New command_line_switch value.
	(copy_options): Add --localize-hidden.
	(copy_usage): Mention --localize-hidden.
	(is_hidden_symbol): New function.
	(filter_symbols): Handle localize_hidden.
	(copy_object): Call filter_symbols if localize_hidden.
	(copy_main): Handle OPTION_LOCALIZE_HIDDEN.
	* doc/binutils.texi (--localize-hidden): Document new option.

binutils/testsuite/
	* binutils-all/localize-hidden-1.s,
	* binutils-all/localize-hidden-1.d,
	* binutils-all/localize-hidden-2.s,
	* binutils-all/localize-hidden-2.d: New tests.
	* binutils-all/objcopy.exp: Run them.
@
text
@d1 4
@


1.1077
log
@	* Makefile.am (ar_DEPENDENCIES, ranlib_DEPENDENCIES)
	(dlltool_DEPENDENCIES, windres_DEPENDENCIES): Remove @@LEXLIB@@.
	* Makefile.in: Regenerate.
@
text
@d1 12
@


1.1076
log
@	* Makefile.am (*_DEPENDENCIES): Add missing dependencies.
	* Makefile.in: Regenerate.
@
text
@d1 6
@


1.1075
log
@bfd/doc:
	* bfd.texinfo: Remove local @@tex code.

bfd:
	* po/Make-in (pdf, ps): New dummy targets.

binutils:
	* po/Make-in (pdf, ps): New dummy targets.

gas:
	* po/Make-in (pdf, ps): New dummy targets.

gprof:
	* po/Make-in (pdf, ps): New dummy targets.

ld:
	* po/Make-in (pdf, ps): New dummy targets.

opcodes:
	* po/Make-in (pdf, ps): New dummy targets.
@
text
@d1 5
@


1.1074
log
@bfd/, binutils/, gas/, gprof/, ld/, opcodes/
	* po/Make-in (top_builddir): Define.
@
text
@d1 4
@


1.1073
log
@	* config.in: Regenerate.
@
text
@d1 4
@


1.1072
log
@binutils:
	* doc/Makefile.am (TEXI2DVI): Define.
	* doc/Makefile.in: Regenerate.

gas:
	* doc/Makefile.am (TEXI2DVI): Define.
	* doc/Makefile.in: Regenerate.
	* doc/c-arc.texi: Fix typo.

ld:
	* Makefile.am (TEXI2DVI): Add -I $(top_srcdir)/../libiberty.
	* Makefile.in: Regenerate.
@
text
@d1 4
@


1.1071
log
@Configury changes: update src repository (binutils, gdb, and rda) to use
config/gettext-sister.m4 instead of the old gettext.m4.  Regenerate all
affected autotools files.  Include intl in gdb releases again.
@
text
@d1 5
@


1.1070
log
@Update Spanish translation
@
text
@d1 11
@


1.1069
log
@	* MAINTAINERS: Update my email address.
@
text
@d1 4
@


1.1068
log
@Updated Frewnch translation
@
text
@d1 4
@


1.1067
log
@Updated translation
@
text
@d1 4
d7 1
a7 1
	* po/vi.po: Updated translation.
@


1.1066
log
@	* po/ru.po: Updated translation.
@
text
@d1 4
@


1.1065
log
@Remove ChangeLog entries, since the template files were already up to date.
@
text
@d1 4
@


1.1064
log
@Update translation templates
@
text
@a0 4
2006-05-22  Nick Clifton  <nickc@@redhat.com>

	* po/binutils.pot: Revised template.

@


1.1063
log
@	* doc/Makefile.in: Regenerated.
@
text
@d1 4
@


1.1062
log
@	* doc/Makefile.am (addr2line.1): Depend on $(binutils_TEXINFOS).
	(ar.1): Likewise.
	(dlltool.1): Likewise.
	(nlmconv.1): Likewise.
	(nm.1): Likewise.
	(objcopy.1): Likewise.
	(objdump.1): Likewise.
	(ranlib.1): Likewise.
	(readelf.1): Likewise.
	(size.1): Likewise.
	(strings.1): Likewise.
	(strip.1): Likewise.
	(windres.1): Likewise.
	(cxxfilt.man): Likewise.
	* doc/Makefile.in: Regenerated.
@
text
@d17 1
@


1.1061
log
@
2006-05-17  Carlos O'Donell  <carlos@@codesourcery.com>

	* doc/binutils.texi: Use "Binutils Index" for index name.
@
text
@d1 17
@


1.1060
log
@2006-05-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* dwarf.c (display_debug_frames): Don't return on ZERO
	terminator.
@
text
@d1 4
@


1.1059
log
@binutils/
	* doc/Makefile.am (AM_MAKEINFOFLAGS): New.
	(TEXI2POD): Use AM_MAKEINFOFLAGS.
	(config.texi): Don't set top_srcdir.
	* doc/binutils.texi: Don't use top_srcdir.
	* aclocal.m4, Makefile.in, doc/Makefile.in: Regenerated.
gas/
	* doc/Makefile.am (AM_MAKEINFOFLAGS): New.
	(TEXI2POD): Use AM_MAKEINFOFLAGS.
	(asconfig.texi): Don't set top_srcdir.
	* doc/as.texinfo: Don't use top_srcdir.
	* aclocal.m4, Makefile.in, doc/Makefile.in: Regenerated.
ld/
	* Makefile.am (AM_MAKEINFOFLAGS): Add libiberty.
	(TEXI2POD): Use AM_MAKEINFOFLAGS.
	(configdoc.texi): Don't set top_srcdir.
	* ld.texinfo: Don't use top_srcdir.
	* aclocal.m4, Makefile.in: Regenerated.
@
text
@d1 5
@


1.1058
log
@	* readelf.c (arm_attr_tag_VFP_arch): Add VFPv3.
@
text
@d1 8
@


1.1057
log
@	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.
@
text
@d1 4
@


1.1056
log
@bfd/
	* warning.m4 (--enable-werror, -build-warnings): Format help messages.
	* configure: Regenerate.
binutils/
	* configure: Regenerate.
gas/
	* configure.in (--enable-targets): Indent help message.
	* configure: Regenerate.
gprof/
	* configure: Regenerate.
ld/
	* configure: Regenerate.
opcodes/
	* configure: Regenerate.
@
text
@d3 5
@


1.1055
log
@PR 2257
* elfcode.h (elf_object_p): Allow files with corrupt e_shstrndx fields to
  still be handled as ELF files.
* readelf.c (SECTION_NAME): Cope with a missing string table.
  (process_file_header): Cope with a corrupt e_shstrndx field.
  (process_section_headers): Correctly handle an e_shstrndx value of SHF_UNDEF.
@
text
@d1 4
@


1.1054
log
@oops - omitted from commit of typo fix
@
text
@d1 8
@


1.1054.2.1
log
@binutils/
	* doc/Makefile.am (AM_MAKEINFOFLAGS): New.
	(TEXI2POD): Use AM_MAKEINFOFLAGS.
	(config.texi): Don't set top_srcdir.
	* doc/binutils.texi: Don't use top_srcdir.
	* aclocal.m4, Makefile.in, doc/Makefile.in: Regenerated.
gas/
	* doc/Makefile.am (AM_MAKEINFOFLAGS): New.
	(TEXI2POD): Use AM_MAKEINFOFLAGS.
	(asconfig.texi): Don't set top_srcdir.
	* doc/as.texinfo: Don't use top_srcdir.
	* aclocal.m4, Makefile.in, doc/Makefile.in: Regenerated.
ld/
	* Makefile.am (AM_MAKEINFOFLAGS): Add libiberty.
	(TEXI2POD): Use AM_MAKEINFOFLAGS.
	(configdoc.texi): Don't set top_srcdir.
	* ld.texinfo: Don't use top_srcdir.
	* aclocal.m4, Makefile.in: Regenerated.
@
text
@a0 8
2006-05-02  Daniel Jacobowitz  <dan@@codesourcery.com>

	* doc/Makefile.am (AM_MAKEINFOFLAGS): New.
	(TEXI2POD): Use AM_MAKEINFOFLAGS.
	(config.texi): Don't set top_srcdir.
	* doc/binutils.texi: Don't use top_srcdir.
	* aclocal.m4, Makefile.in, doc/Makefile.in: Regenerated.

@


1.1054.2.2
log
@	* po/ru.po: Updated translation.
@
text
@a0 4
2006-05-22  Daniel Jacobowitz  <dan@@codesourcery.com>

	* po/ru.po: Updated translation.

@


1.1054.2.3
log
@Update translation
@
text
@a0 4
2006-05-23  Nick Clifton  <nickc@@redhat.com>

	* po/vi.po: Updated translation.

@


1.1054.2.4
log
@Updated French translation
@
text
@a0 4
2006-05-24  Nick Clifton  <nickc@@redhat.com>

	* po/fr.po: Updated French translation.

d3 1
a3 1
	* po/vi.po: Updated Vietnamese translation.
@


1.1054.2.5
log
@Updated Spanish translation
@
text
@a0 4
2006-05-30  Nick Clifton  <nickc@@redhat.com>

	* po/es.po: Updated Spanish translation.

@


1.1054.2.6
log
@	Backport:
	2006-05-19  Andreas Schwab  <schwab@@suse.de>
	* doc/Makefile.am (addr2line.1): Depend on $(binutils_TEXINFOS).
	(ar.1): Likewise.
	(dlltool.1): Likewise.
	(nlmconv.1): Likewise.
	(nm.1): Likewise.
	(objcopy.1): Likewise.
	(objdump.1): Likewise.
	(ranlib.1): Likewise.
	(readelf.1): Likewise.
	(size.1): Likewise.
	(strings.1): Likewise.
	(strip.1): Likewise.
	(windres.1): Likewise.
	(cxxfilt.man): Likewise.
	* doc/Makefile.in: Regenerated.
@
text
@a0 20
2006-06-01  Daniel Jacobowitz  <dan@@codesourcery.com>

	Backport:
	2006-05-19  Andreas Schwab  <schwab@@suse.de>
	* doc/Makefile.am (addr2line.1): Depend on $(binutils_TEXINFOS).
	(ar.1): Likewise.
	(dlltool.1): Likewise.
	(nlmconv.1): Likewise.
	(nm.1): Likewise.
	(objcopy.1): Likewise.
	(objdump.1): Likewise.
	(ranlib.1): Likewise.
	(readelf.1): Likewise.
	(size.1): Likewise.
	(strings.1): Likewise.
	(strip.1): Likewise.
	(windres.1): Likewise.
	(cxxfilt.man): Likewise.
	* doc/Makefile.in: Regenerated.

@


1.1054.2.7
log
@binutils:
	* doc/Makefile.am (TEXI2DVI): Define.
	* doc/Makefile.in: Regenerate.

gas:
	* doc/Makefile.am (TEXI2DVI): Define.
	* doc/Makefile.in: Regenerate.
	* doc/c-arc.texi: Fix typo.

ld:
	* Makefile.am (TEXI2DVI): Add -I $(top_srcdir)/../libiberty.
	* Makefile.in: Regenerate.
@
text
@a0 5
2006-06-02  Joseph S. Myers  <joseph@@codesourcery.com>

	* doc/Makefile.am (TEXI2DVI): Define.
	* doc/Makefile.in: Regenerate.

@


1.1054.2.8
log
@bfd/doc:
	* bfd.texinfo: Remove local @@tex code.

bfd:
	* po/Make-in (pdf, ps): New dummy targets.

binutils:
	* po/Make-in (pdf, ps): New dummy targets.

gas:
	* po/Make-in (pdf, ps): New dummy targets.

gprof:
	* po/Make-in (pdf, ps): New dummy targets.

ld:
	* po/Make-in (pdf, ps): New dummy targets.

opcodes:
	* po/Make-in (pdf, ps): New dummy targets.
@
text
@a0 4
2006-06-07  Joseph S. Myers  <joseph@@codesourcery.com>

	* po/Make-in (pdf, ps): New dummy targets.

@


1.1054.2.9
log
@PR binutils/3039
* wrstabs.c (stab_tag_type): Initialize 'size'.
@
text
@a0 5
2006-08-15  Nick Clifton  <nickc@@redhat.com>

	PR binutils/3039
	* wrstabs.c (stab_tag_type): Initialize 'size'.

@


1.1053
log
@	* MAINTAINERS (CGEN Maintainers): Remove myself.
@
text
@d1 4
@


1.1052
log
@
2006-04-06  Carlos O'Donell <carlos@@codesourcery.com>

	* Makefile.tpl: Add install-html target.
	* Makefile.def: Add install-html target.
	* Makefile.in: Regenerate.
	* configure.in: Add --with-datarootdir, --with-docdir,
	and --with-htmldir options.
	* configure: Regenerate.

bfd/

2006-04-06  Carlos O'Donell  <carlos@@codesourcery.com>

	* po/Make-in: Add install-html target.
	* Makefile.am: Rename docdir to bfddocdir. Add datarootdir, docdir
	htmldir. Add install-html and install-html-recursive targets.
	* Makefile.in: Regenerate.
	* configure.in: AC_SUBST for datarootdir, docdir and htmldir.
	* configure: Regenerate.

bfd/doc/

2006-04-06  Carlos O'Donell  <carlos@@codesourcery.com>

	* Makefile.am: Add install-html and install-html-am targets.
	Define datarootdir, docdir and htmldir.
	* Makefile.in: Regenerate.

binutils/

2006-04-06  Carlos O'Donell  <carlos@@codesourcery.com>

	* po/Make-in: Add install-html target.
	* Makefile.am: Add install-html and install-html-recursive targets.
	* Makefile.in: Regenerate.
	* configure.in: AC_SUBST datarootdir, docdir and htmldir.
	* configure: Regenerate.
	* doc/Makefile.am: Add install-html and install-html-am targets.
	* doc/Makefile.in: Regenerate.

etc/

2006-04-06  Carlos O'Donell  <carlos@@codesourcery.com>

	* Makefile.in: Add install-html target. Add htmldir,
	docdir and datarootdir.
	* configure.texi: Document install-html target.
	* configure.in: AC_SUBST datarootdir, docdir, htmldir.
	* configure: Regenerate.

gas/

2006-04-06  Carlos O'Donell  <carlos@@codesourcery.com>

	* po/Make-in: Add install-html target.
	* Makefile.am: Add install-html and install-html-recursive targets.
	* Makefile.in: Regenerate.
	* configure.in: AC_SUBST datarootdir, docdir, htmldir.
	* configure: Regenerate.
	* doc/Makefile.am: Add install-html and install-html-am targets.
	* doc/Makefile.in: Regenerate.

gprof/

2006-04-06  Carlos O'Donell  <carlos@@codesourcery.com>

	* po/Make-in: Add install-html target.
	* Makefile.am: Add install-html, install-html-am and
	install-html-recursive targets.
	* Makefile.in: Regenerate.
	* configure.in: AC_SUBST datarootdir, docdir, htmldir.
	* configure: Regenerate.

intl/

2006-04-06  Carlos O'Donell  <carlos@@codesourcery.com>

	* intl/Makefile.in: Add html info and dvi and install-html to .PHONY
	Add install-html target.

ld/

2006-04-06  Carlos O'Donell  <carlos@@codesourcery.com>

	* Makefile.am: Add install-html, install-html-am, and
	install-html-recursive targets.
	* Makefile.in: Regenerate.
	* configure.in: AC_SUBST datarootdir, docdir, htmldir.
	* configure: Regenerate.
	* po/Make-in: Add install-html target.

opcodes/

2006-04-06  Carlos O'Donell  <carlos@@codesourcery.com>

	* Makefile.am: Add install-html target.
	* Makefile.in: Regenerate.
@
text
@d1 4
@


1.1051
log
@	* addr2line.c (long_options): Add new option 'section'.
	(usage): Document new -j/--section option.
	(find_offset_in_section): New function.
	(translate_addresses): Add 'section' parameter.
	If it is non-null, call find_offset_in_section on it.
	(process_file): Add 'section_name' parameter.
	If it is non-null, look for the section in the BFD object.
	Pass the section to translate_addresses.
	(main): Handle new -j option.
	Pass the section name to process_file.
	* doc/binutils.texi (addr2line): Document new -j/--section option.
@
text
@d1 10
@


1.1050
log
@	* resbin.c: Avoid duplicating constants in calls to reswr_alloc.
@
text
@d1 14
@


1.1049
log
@	* BRANCHES: Remove binutils-csl-arm-2006q1-branch.  Document
	binutils-csl-2_17-branch instead.
@
text
@d1 4
@


1.1048
log
@2006-03-20  Paul Brook  <paul@@codesourcery.com>

	* BRANCHES: Mention binutils-csl-arm-2006q1-branch.
@
text
@d1 5
@


1.1048.2.1
log
@Merge changes between binutils-csl-2_17-branchpoint and
binutils-2_17, except for the addition of generated files to CVS.
@
text
@a0 94
2006-06-07  Joseph S. Myers  <joseph@@codesourcery.com>

	* po/Make-in (pdf, ps): New dummy targets.

2006-06-02  Joseph S. Myers  <joseph@@codesourcery.com>

	* doc/Makefile.am (TEXI2DVI): Define.
	* doc/Makefile.in: Regenerate.

2006-06-01  Daniel Jacobowitz  <dan@@codesourcery.com>

	Backport:
	2006-05-19  Andreas Schwab  <schwab@@suse.de>
	* doc/Makefile.am (addr2line.1): Depend on $(binutils_TEXINFOS).
	(ar.1): Likewise.
	(dlltool.1): Likewise.
	(nlmconv.1): Likewise.
	(nm.1): Likewise.
	(objcopy.1): Likewise.
	(objdump.1): Likewise.
	(ranlib.1): Likewise.
	(readelf.1): Likewise.
	(size.1): Likewise.
	(strings.1): Likewise.
	(strip.1): Likewise.
	(windres.1): Likewise.
	(cxxfilt.man): Likewise.
	* doc/Makefile.in: Regenerated.

2006-05-30  Nick Clifton  <nickc@@redhat.com>

	* po/es.po: Updated Spanish translation.

2006-05-24  Nick Clifton  <nickc@@redhat.com>

	* po/fr.po: Updated French translation.

2006-05-23  Nick Clifton  <nickc@@redhat.com>

	* po/vi.po: Updated Vietnamese translation.

2006-05-22  Daniel Jacobowitz  <dan@@codesourcery.com>

	* po/ru.po: Updated translation.

2006-05-02  Daniel Jacobowitz  <dan@@codesourcery.com>

	* doc/Makefile.am (AM_MAKEINFOFLAGS): New.
	(TEXI2POD): Use AM_MAKEINFOFLAGS.
	(config.texi): Don't set top_srcdir.
	* doc/binutils.texi: Don't use top_srcdir.
	* aclocal.m4, Makefile.in, doc/Makefile.in: Regenerated.

2006-04-12  Nick Clifton  <nickc@@redhat.com>

	* objdump.c (objdump_symbol_at_address): Fix typo in comment.

2006-04-10  Ben Elliston  <bje@@gnu.org>

	* MAINTAINERS (CGEN Maintainers): Remove myself.

2006-04-06  Carlos O'Donell  <carlos@@codesourcery.com>

	* po/Make-in: Add install-html target.
	* Makefile.am: Add install-html and install-html-recursive targets.
	* Makefile.in: Regenerate.
	* configure.in: AC_SUBST datarootdir, docdir and htmldir.
	* configure: Regenerate.
	* doc/Makefile.am: Add install-html and install-html-am targets.
	* doc/Makefile.in: Regenerate.

2006-04-05  Eric Botcazou  <ebotcazou@@adacore.com>

	* addr2line.c (long_options): Add new option 'section'.
	(usage): Document new -j/--section option.
	(find_offset_in_section): New function.
	(translate_addresses): Add 'section' parameter.
	If it is non-null, call find_offset_in_section on it.
	(process_file): Add 'section_name' parameter.
	If it is non-null, look for the section in the BFD object.
	Pass the section to translate_addresses.
	(main): Handle new -j option.
	Pass the section name to process_file.
	* doc/binutils.texi (addr2line): Document new -j/--section option.

2006-03-29  Ben Elliston  <bje@@au.ibm.com>

	* resbin.c: Avoid duplicating constants in calls to reswr_alloc.

2006-03-20  Nathan Sidwell  <nathan@@codesourcery.com>

	* BRANCHES: Remove binutils-csl-arm-2006q1-branch.  Document
	binutils-csl-2_17-branch instead.

@


1.1047
log
@	PR 2434
bfd/
	* elflink.c (struct elf_smash_syms_data, elf_smash_syms): Delete.
	(elf_link_add_object_symbols): Delete unnecessary locals.  Rename
	hash_table -> htab.  Formatting.  Save entire symbol table
	before loading as-needed syms, and restore afterwards if lib not
	needed.  Use bfd_hash_allocate rather than bfd_alloc for sym
	name.  Free some buffers earlier.
	* bfd-in.h (struct bfd_hash_table): Add entsize.
	(bfd_hash_table_init, bfd_hash_table_init_n): Adjust prototype.
	* elf-bfd.h (_bfd_elf_link_hash_table_init): Likewise
	* hash.c (bfd_hash_table_init_n): Add entsize param, save to
	hash table.
	(bfd_hash_table_init): Add param, adjust calls.
	* aoutx.h: Adjust all hash_table_init functions and calls.
	* bfd.c: Likewise.
	* coff-arm.c: Likewise.
	* coff-h8300.c: Likewise.
	* coff-ppc.c: Likewise.
	* cofflink.c: Likewise.
	* ecoff.c: Likewise.
	* ecofflink.c: Likewise.
	* elf-m10300.c: Likewise.
	* elf-strtab.c: Likewise.
	* elf.c: Likewise.
	* elf32-arm.c: Likewise.
	* elf32-bfin.c: Likewise.
	* elf32-cris.c: Likewise.
	* elf32-frv.c: Likewise.
	* elf32-hppa.c: Likewise.
	* elf32-i386.c: Likewise.
	* elf32-m32r.c: Likewise.
	* elf32-m68hc1x.c: Likewise.
	* elf32-m68k.c: Likewise.
	* elf32-ppc.c: Likewise.
	* elf32-s390.c: Likewise.
	* elf32-sh.c: Likewise.
	* elf32-vax.c: Likewise.
	* elf64-alpha.c: Likewise.
	* elf64-hppa.c: Likewise.
	* elf64-ppc.c: Likewise.
	* elf64-s390.c: Likewise.
	* elf64-sh64.c: Likewise.
	* elf64-x86-64.c: Likewise.
	* elfxx-ia64.c: Likewise.
	* elfxx-mips.c: Likewise.
	* elfxx-sparc.c: Likewise.
	* i386linux.c: Likewise.
	* libaout.h: Likewise.
	* libbfd-in.h: Likewise.
	* libcoff-in.h: Likewise.
	* linker.c: Likewise.
	* m68klinux.c: Likewise.
	* merge.c: Likewise.
	* opncls.c: Likewise.
	* pdp11.c: Likewise.
	* sparclinux.c: Likewise.
	* stabs.c: Likewise.
	* sunos.c: Likewise.
	* vms.c: Likewise.
	* xcofflink.c: Likewise.
	* section.c (struct section_hash_entry): Move to..
	* libbfd-in.h: ..here.
	* Makefile.am: Run "make dep-am"
	* Makefile.in: Regenerate.
	* bfd-in2.h: Regenerate.
	* libbfd.h: Regenerate.
	* libcoff.h: Regenerate.
binutils/
	* ieee.c (write_ieee_debugging_info): Adjust bfd_hash_table_init calls.
	* wrstabs.c (write_stabs_in_sections_debugging_info): Likewise.
ld/
	* ldcref.c (add_cref): Adjust bfd_hash_table_init calls.
	* ldlang.c (output_statement_table_init, lang_init): Likewise.
	* ldmain.c (add_ysym, add_wrap, add_keepsyms_file): Likewise.
	(undefined_symbol): Likewise.
@
text
@d1 4
@


1.1046
log
@	* bucomm.c (display_target_list): Make local variable `a' to be of
	type enum bfd_architecture.  Thus no need to cast enums to int.
	(display_info_table): Likewise.
@
text
@d1 6
@


1.1045
log
@2006-03-10  Paul Brook  <paul@@codesourcery.com>

bfd/
	* elf32-arm.c (INTERWORK_FLAG): Handle EABIv5.
	(elf32_arm_print_private_bfd_data): Ditto.
binutils/
	* readelf.c (decode_ARM_machine_flags):  Handle EABIv5.
gas/
	* config/tc-arm.c (md_begin): Handle EABIv5.
	(arm_eabis): Add EF_ARM_EABI_VER5.
	* doc/c-arm.texi: Document -meabi=5.
include/elf/
	* arm.h (EF_ARM_EABI_VER5): Define.
@
text
@d1 6
@


1.1044
log
@	* dwarf.c (process_extended_line_op): Remove pointer_size param.
	Use length instead to determine address size.
	(get_pointer_size_and_offset_of_comp_unit): Delete.
	(display_debug_lines): Adjust for above.
	(display_debug_aranges): Don't stop on finding two zeros.
	(display_debug_frames): For warning, print offset not pointer.
@
text
@d1 4
@


1.1043
log
@	* dlltool.c: Update copyright year.
	* doc/binutils.texi: Likewise.
@
text
@d1 9
@


1.1042
log
@	* dlltool.c (add_stdcall_underscore): New flag.
	(xlate): Also add underscore to stdcall symbol if
	add_stdcall_underscore set.
	(usage): Document --add-stdcall-underscore option.
	(OPTION_ADD_STDCALL_UNDERSCORE): New define.
	(long_options): Use it for --add-stdcall-underscore option.
	(main): Handle it.
	* doc/binutils.texi: Document --add-stdcall-underscore option
	and differentiate from --add-underscore.
@
text
@d3 5
@


1.1041
log
@	bfd:
	* archures.c (bfd_mach_mcf_isa_a_nodiv, bfd_mach_mcf_isa_b_nousp):
	New.  Adjust other variants.
	(bfd_default_scan): Update.
	* bfd-in2.h: Rebuilt.
	* cpu-m68k.c: Adjust.
	(bfd_m68k_compatible): New. Use it for architectures.
	* elf32-m68k.c (elf32_m68k_object_p): Adjust.
	(elf32_m68k_merge_private_bfd_data): Adjust.  Correct isa-a/b
	mismatch.
	(elf32_m68k_print_private_bfd_data): Adjust.
	* ieee.c (ieee_write_processor): Adjust.

	binutils:
	* readelf.c (get_machine_flags): Adjust.

	gas:
	* config/tc-m68k.c (m68k_extensions): Allow 'float' on both m68k
	and cf.
	(m68k_ip): <case 'J'> Check we have some control regs.
	(md_parse_option): Allow raw arch switch.
	(m68k_init_arch): Better detection of arch/cpu mismatch.  Detect
	whether 68881 or cfloat was meant by -mfloat.
	(md_show_usage): Adjust extension display.
	(m68k_elf_final_processing): Adjust.

	gas/testsuite:
	* gas/m68k/arch-cpu-1.s: Tweak.
	* gas/m68k/arch-cpu-1.d: Tweak.

	include/elf:
	* m68k.h (EF_M68K_ISA_MASK, EF_M68K_ISA_A,
	EF_M68K_ISA_A_PLUS, EF_M68K_ISA_B, EF_M68K_ISA_C): Adjust.
	(EF_M68K_ISA_A_NODIV, EF_M68K_ISA_B_NOUSP): New.
	(EF_M68K_HW_DIV, EF_M68K_USP): Remove.
	(EF_M68K_MAC, EF_M68K_EMAC, EF_M68K_FLOAT): Adjust.
	(EF_M68K_EMAC_B): New.

	ld/testsuite:
	* ld-m68k: New tests.
@
text
@d1 12
@


1.1040
log
@	* dwarf.c (frame_display_row, display_debug_frames): Handle
	DW_CFA_val_offset, DW_CFA_val_offset_sf and DW_CFA_val_expression.
@
text
@d1 4
@


1.1039
log
@* objcopy.c (use_alt_mach_code): Change type to unsigned long.
   (copy_object):  If bfd_alt_mach_code fails emit a more helpful message
   and if the target architecture is ELF use the alternative as replacement
   value for the e_machine number.
   (copy_main): Use strtoul to parse the number provided with the
   --alt-mach-code switch.
* doc/binutils.texi (--alt-mach-code): Document that this switch can now
    set the absolute e_machine value.
@
text
@d1 5
@


1.1038
log
@
bfd/doc/
2006-10-14  Carlos O'Donell  <carlos@@codesourcery.com>

       * Makefile.am: Add html target.
       * Makefile.in: Regenerate.

bfd/
2006-10-14  Carlos O'Donell  <carlos@@codesourcery.com>

       * po/Make-in: Add html target.

binutils/
2006-10-14  Carlos O'Donell  <carlos@@codesourcery.com>

       * po/Make-in: Add html target.

gas/
2006-10-14  Carlos O'Donell  <carlos@@codesourcery.com>

       * doc/Makefile.am: Add html target.
       * doc/Makefile.in: Regenerate.
       * po/Make-in: Add html target.

gprof/
2006-10-14  Carlos O'Donell  <carlos@@codesourcery.com>

       * po/Make-in: Add html target.

ld/
2006-10-14  Carlos O'Donell  <carlos@@codesourcery.com>

       * Makefile.am: Add html target.
       * Makefile.in: Regenerate.
       * po/Make-in: Add html target.

opcodes/
2006-10-14  Carlos O'Donell  <carlos@@codesourcery.com>

       * po/Make-in: Add html target.

etc/
2006-10-14  Carlos O'Donell  <carlos@@codesourcery.com>

       * Makefile.in: TEXI2HTML uses makeinfo. Define
       HTMLFILES. Add html targets.
       * configure.texi: Use ifnottex. Add alternative
       image format specifier as jpg.
       * standards.texi: Use ifnottex.

intl/
2006-10-14  Carlos O'Donell  <carlos@@codesourcery.com>

       * intl/Makefile.in: Add html target.
@
text
@d1 11
@


1.1037
log
@	* readelf.c (get_machine_flags): Add logic for missing EF_SH flags.
@
text
@d1 4
@


1.1036
log
@gas/
	* config.in: Rebuilt.
binutils/
	* config.in: Rebuilt.
@
text
@d1 4
@


1.1035
log
@bfd/

2006-02-10  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/2258
	* elf.c (copy_private_bfd_data): Renamed to ...
	(rewrite_elf_program_header): This.
	(copy_elf_program_header): New function.
	(copy_private_bfd_data): Likewise.

binutils/

2006-02-10  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/2258
	* readelf.c (process_program_headers): Use
	ELF_IS_SECTION_IN_SEGMENT_MEMORY.

include/elf/

2006-02-10  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/2258
	* internal.h (ELF_IS_SECTION_IN_SEGMENT_FILE): New.
	(ELF_IS_SECTION_IN_SEGMENT_MEMORY): Likewise.
@
text
@d1 4
@


1.1034
log
@	* configure.in (CHECK_DECLS): Add snprintf and vsnprintf.
	* configure: Regenerate.
	* objdump.c (fprintf): Remove declaration.
	* bucomm.h (fprintf): Declare if not already declared.
	(snprintf): Likewise.
	(vsnprintf): Likewise.
@
text
@d1 6
@


1.1033
log
@2006-02-08  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (process_program_headers): Match PT_TLS segment
	only with SHT_TLS sections.
@
text
@d1 9
@


1.1032
log
@	* bfd/archures.c (bfd_mach_mcf5200, bfd_mach_mcf5206e,
	bfd_mach_mcf5307, bfd_mach_mcf5407, bfd_mach_mcf528x,
	bfd_mach_mcfv4e, bfd_mach_mcf521x, bfd_mach_mcf5249,
	bfd_mach_mcf547x, bfd_mach_mcf548x): Remove.
	(bfd_mach_mcf_isa_a, bfd_mach_mcf_isa_a_div,
	bfd_mach_mcf_isa_a_div_mac, bfd_mach_mcf_isa_a_div_emac,
	bfd_mach_mcf_isa_aplus, bfd_mach_mcf_isa_aplus_mac,
	bfd_mach_mcf_isa_aplus_emac, bfd_mach_mcf_isa_aplus_usp,
	bfd_mach_mcf_isa_aplus_usp_mac, bfd_mach_mcf_isa_aplus_usp_emac,
	bfd_mach_mcf_isa_b, bfd_mach_mcf_isa_b_mac, bfd_mach_mcf_isa_b_emac,
	bfd_mach_mcf_isa_b_usp_float, bfd_mach_mcf_isa_b_usp_float_mac,
	bfd_mach_mcf_isa_b_usp_float_emac): New.
	(bfd_default_scan): Update coldfire mapping.
	* bfd/bfd-in.h (bfd_m68k_mach_to_features,
	bfd_m68k_features_to_mach): Declare.
	* bfd/bfd-in2.h: Rebuilt.
	* bfd/cpu-m68k.c (arch_info_struct): Add new coldfire machines,
	adjust legacy names.
	(m68k_arch_features): New.
	(bfd_m68k_mach_to_features,
	bfd_m68k_features_to_mach): Define.
	* bfd/elf32-m68k.c (elf32_m68k_object_p): New.
	(elf32_m68k_merge_private_bfd_data): Merge the CF EF flags.
	(elf32_m68k_print_private_bfd_data): Print the CF EF flags.
	(elf_backend_object_p): Define.
	* bfd/ieee.c (ieee_write_processor): Update coldfire machines.
	* bfd/libbfd.h: Rebuilt.

	* gas/config/tc-m68k.c (mcf5208_control_regs, mcf5213_control_regs,
	mcf5329_control_regs): New.
	(not_current_architecture, selected_arch, selected_cpu): New.
	(m68k_archs, m68k_extensions): New.
	(archs): Renamed to ...
	(m68k_cpus): ... here.  Adjust.
	(n_arches): Remove.
	(md_pseudo_table): Add arch and cpu directives.
	(find_cf_chip, m68k_ip): Adjust table scanning.
	(no_68851, no_68881): Remove.
	(md_assemble): Lazily initialize.
	(select_control_regs): Adjust cpu names. Add 5208, 5213, 5329.
	(md_init_after_args): Move functionality to m68k_init_arch.
	(mri_chip): Adjust table scanning.
	(md_parse_option): Reimplement 'm' processing to add -march & -mcpu
	options with saner parsing.
	(m68k_lookup_cpu, m68k_set_arch, m68k_set_cpu, m68k_set_extension,
	m68k_init_arch): New.
	(s_m68k_cpu, s_m68k_arch): New.
	(md_show_usage): Adjust.
	(m68k_elf_final_processing): Set CF EF flags.
	* gas/config/tc-m68k.h (m68k_init_after_args): Remove.
	(tc_init_after_args): Remove.
	* gas/doc/c-m68k.texi (M68K-Opts): Document -march, -mcpu options.
	(M68k-Directives): Document .arch and .cpu directives.

	* gas/testsuite/gas/m68k/all.exp: Add arch-cpu-1 test.
	* gas/testsuite/gas/m68k/arch-cpu-1.[sd]: New.

	* include/elf/m68k.h (EF_CPU32, EF_M68000, EF_CFV4E): Rename to ...
	(EF_M68K_CPU32, EF_M68K_M68000, EF_M68K_CFV4E): ... here.
	(EF_M68K_ISA_MASK, EF_M68K_ISA_A, EF_M68K_M68K_ISA_A_PLUS,
	EF_M68K_ISA_B, EF_M68K_HW_DIV, EF_M68K_MAC_MASK, EF_M68K_MAC,
	EF_M68K_EMAC, EF_M68K_USP, EF_M68K_FLOAT): New.

	* include/opcode/m68k.h (m68008, m68ec030, m68882): Remove.
	(m68k_mask): New.
	(cpu_m68k, cpu_cf): New.
	(mcf5200, mcf5206e, mcf521x, mcf5249, mcf528x, mcf5307, mcf5407,
	mcf5470, mcf5480): Rename to cpu_<foo>. Add m680x0 variants.

	* opcodes/m68k-dis.c (print_insn_m68k): Use
	bfd_m68k_mach_to_features.

	* binutils/readelf.c (get_machine_flags): Add logic for EF_M68K flags.
@
text
@d1 5
@


1.1031
log
@Updo the last change to binutils and ld/testsuite.
@
text
@d1 4
@


1.1030
log
@binutils/

2006-02-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (process_program_headers): Undo the change made on
	2004-09-22.  Match PT_DYNAMIC segment only with SHT_DYNAMIC
	sections.

ld/testsuite/

2006-02-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* ld-i386/tlsbin.rd: Update for changed segment map.
	* ld-i386/tlsnopic.rd: Likewise.
	* ld-i386/tlspic.rd: Likewise.
	* ld-powerpc/tlsexe.r: Likewise.
	* ld-powerpc/tlsexe32.r: Likewise.
	* ld-powerpc/tlsexetoc.r: Likewise.
	* ld-powerpc/tlsso.r: Likewise.
	* ld-powerpc/tlsso32.r: Likewise.
	* ld-powerpc/tlstocso.r: Likewise.
	* ld-s390/tlsbin.rd: Likewise.
	* ld-s390/tlsbin_64.rd: Likewise.
	* ld-s390/tlspic.rd: Likewise.
	* ld-s390/tlspic_64.rd: Likewise.
	* ld-sh/tlsbin-2.d: Likewise.
	* ld-sh/tlspic-2.d: Likewise.
	* ld-x86-64/tlsbin.rd: Likewise.
	* ld-x86-64/tlspic.rd: Likewise.
@
text
@d3 4
@


1.1029
log
@* objcopy.c (copy_object): Catch the case where an attempt is made to add a
    section that already exists and produce a more helpful warning message.
@
text
@d1 6
@


1.1028
log
@Add new Vietnamese translation
@
text
@d1 6
@


1.1027
log
@include/elf/ChangeLog:
Introduce TLS descriptors for i386 and x86_64.
* common.h (DT_TLSDESC_GOT, DT_TLSDESC_PLT): New.
* i386.h (R_386_TLS_GOTDESC, R_386_TLS_DESC_CALL, R_386_TLS_DESC):
New.
* x86-64.h (R_X86_64_GOTPC32_TLSDESC, R_X86_64_TLSDESC_CALL,
R_X86_64_TLSDESC): New.
bfd/ChangeLog:
Introduce TLS descriptors for i386 and x86_64.
* reloc.c (BFD_RELOC_386_TLS_GOTDESC, BFD_RELOC_386_TLS_DESC,
BFD_RELOC_386_TLS_DESC_CALL, BFD_RELOC_X86_64_GOTPC32_TLSDESC,
BFD_RELOC_X86_64_TLSDESC, BFD_RELOC_X86_64_TLSDESC_CALL): New.
* libbfd.h, bfd-in2.h: Rebuilt.
* elf32-i386.c (elf_howto_table): New relocations.
(R_386_tls): Adjust.
(elf_i386_reloc_type_lookup): Map new relocations.
(GOT_TLS_GDESC, GOT_TLS_GD_BOTH_P): New macros.
(GOT_TLS_GD_P, GOT_TLS_GDESC_P, GOT_TLS_GD_ANY_P): New macros.
(struct elf_i386_link_hash_entry): Add tlsdesc_got field.
(struct elf_i386_obj_tdata): Add local_tlsdesc_gotent field.
(elf_i386_local_tlsdesc_gotent): New macro.
(struct elf_i386_link_hash_table): Add sgotplt_jump_table_size.
(elf_i386_compute_jump_table_size): New macro.
(link_hash_newfunc): Initialize tlsdesc_got.
(elf_i386_link_hash_table_create): Set sgotplt_jump_table_size.
(elf_i386_tls_transition): Handle R_386_TLS_GOTDESC and
R_386_TLS_DESC_CALL.
(elf_i386_check_relocs): Likewise.  Allocate space for
local_tlsdesc_gotent.
(elf_i386_gc_sweep_hook): Handle R_386_TLS_GOTDESC and
R_386_TLS_DESC_CALL.
(allocate_dynrelocs): Count function PLT relocations.  Reserve
space for TLS descriptors and relocations.
(elf_i386_size_dynamic_sections): Reserve space for TLS
descriptors and relocations.  Set up sgotplt_jump_table_size.
Don't zero reloc_count in srelplt.
(elf_i386_always_size_sections): New.  Set up _TLS_MODULE_BASE_.
(elf_i386_relocate_section): Handle R_386_TLS_GOTDESC and
R_386_TLS_DESC_CALL.
(elf_i386_finish_dynamic_symbol): Use GOT_TLS_GD_ANY_P.
(elf_backend_always_size_sections): Define.
* elf64-x86-64.c (x86_64_elf_howto): Add R_X86_64_GOTPC32_TLSDESC,
R_X86_64_TLSDESC, R_X86_64_TLSDESC_CALL.
(R_X86_64_standard): Adjust.
(x86_64_reloc_map): Map new relocs.
(elf64_x86_64_rtype_to_howto): New, split out of...
(elf64_x86_64_info_to_howto): ... this function, and...
(elf64_x86_64_reloc_type_lookup): ... use it to map elf_reloc_val.
(GOT_TLS_GDESC, GOT_TLS_GD_BOTH_P): New macros.
(GOT_TLS_GD_P, GOT_TLS_GDESC_P, GOT_TLS_GD_ANY_P): New macros.
(struct elf64_x86_64_link_hash_entry): Add tlsdesc_got field.
(struct elf64_x86_64_obj_tdata): Add local_tlsdesc_gotent field.
(elf64_x86_64_local_tlsdesc_gotent): New macro.
(struct elf64_x86_64_link_hash_table): Add tlsdesc_plt,
tlsdesc_got and sgotplt_jump_table_size fields.
(elf64_x86_64_compute_jump_table_size): New macro.
(link_hash_newfunc): Initialize tlsdesc_got.
(elf64_x86_64_link_hash_table_create): Initialize new fields.
(elf64_x86_64_tls_transition): Handle R_X86_64_GOTPC32_TLSDESC and
R_X86_64_TLSDESC_CALL.
(elf64_x86_64_check_relocs): Likewise.  Allocate space for
local_tlsdesc_gotent.
(elf64_x86_64_gc_sweep_hook): Handle R_X86_64_GOTPC32_TLSDESC and
R_X86_64_TLSDESC_CALL.
(allocate_dynrelocs): Count function PLT relocations.  Reserve
space for TLS descriptors and relocations.
(elf64_x86_64_size_dynamic_sections): Reserve space for TLS
descriptors and relocations.  Set up sgotplt_jump_table_size,
tlsdesc_plt and tlsdesc_got.  Make room for them.  Don't zero
reloc_count in srelplt.  Add dynamic entries for DT_TLSDESC_PLT
and DT_TLSDESC_GOT.
(elf64_x86_64_always_size_sections): New.  Set up
_TLS_MODULE_BASE_.
(elf64_x86_64_relocate_section): Handle R_386_TLS_GOTDESC and
R_386_TLS_DESC_CALL.
(elf64_x86_64_finish_dynamic_symbol): Use GOT_TLS_GD_ANY_P.
(elf64_x86_64_finish_dynamic_sections): Set DT_TLSDESC_PLT and
DT_TLSDESC_GOT.  Set up TLS descriptor lazy resolver PLT entry.
(elf_backend_always_size_sections): Define.
binutils/ChangeLog:
Introduce TLS descriptors for i386 and x86_64.
* readelf.c (get_dynamic_type): Handle DT_TLSDESC_GOT and
DT_TLSDESC_PLT.
gas/ChangeLog:
Introduce TLS descriptors for i386 and x86_64.
* config/tc-i386.c (tc_i386_fix_adjustable): Handle
BFD_RELOC_386_TLS_GOTDESC, BFD_RELOC_386_TLS_DESC_CALL,
BFD_RELOC_X86_64_GOTPC32_TLSDESC, BFD_RELOC_X86_64_TLSDESC_CALL.
(optimize_disp): Emit fix up for BFD_RELOC_386_TLS_DESC_CALL and
BFD_RELOC_X86_64_TLSDESC_CALL immediately, and clear the
displacement bits.
(build_modrm_byte): Set up zero modrm for TLS desc calls.
(lex_got): Handle @@tlsdesc and @@tlscall.
(md_apply_fix, tc_gen_reloc): Handle the new relocations.
ld/testsuite/ChangeLog:
Introduce TLS descriptors for i386 and x86_64.
* ld-i386/i386.exp: Run on x86_64-*-linux* and amd64-*-linux*.
Add new tests.
* ld-i386/pcrel16.d: Add -melf_i386.
* ld-i386/pcrel8.d: Likewise.
* ld-i386/tlsbindesc.dd: New.
* ld-i386/tlsbindesc.rd: New.
* ld-i386/tlsbindesc.s: New.
* ld-i386/tlsbindesc.sd: New.
* ld-i386/tlsbindesc.td: New.
* ld-i386/tlsdesc.dd: New.
* ld-i386/tlsdesc.rd: New.
* ld-i386/tlsdesc.s: New.
* ld-i386/tlsdesc.sd: New.
* ld-i386/tlsdesc.td: New.
* ld-i386/tlsgdesc.dd: New.
* ld-i386/tlsgdesc.rd: New.
* ld-i386/tlsgdesc.s: New.
* ld-x86-64/x86-64.exp: Run new tests.
* ld-x86-64/tlsbindesc.dd: New.
* ld-x86-64/tlsbindesc.rd: New.
* ld-x86-64/tlsbindesc.s: New.
* ld-x86-64/tlsbindesc.sd: New.
* ld-x86-64/tlsbindesc.td: New.
* ld-x86-64/tlsdesc.dd: New.
* ld-x86-64/tlsdesc.pd: New.
* ld-x86-64/tlsdesc.rd: New.
* ld-x86-64/tlsdesc.s: New.
* ld-x86-64/tlsdesc.sd: New.
* ld-x86-64/tlsdesc.td: New.
* ld-x86-64/tlsgdesc.dd: New.
* ld-x86-64/tlsgdesc.rd: New.
* ld-x86-64/tlsgdesc.s: New.
@
text
@d1 6
@


1.1026
log
@PR binutils/1391
* objcopy.c (copy_object): For PE format targets set the VMA of a newly
  created gnu_debuglink section to a non-zero, aligned, contiguous value.
* Makefile.am (objcopy.c): Add a dependency upon libbfd.h.
* Makefile.in: Regenerate.
@
text
@d1 6
@


1.1025
log
@	PR binutils/1486
binutils/:
	* configure.in: Don't define DISASSEMBLER_NEEDS_RELOCS.
	* configure: Regenerate.
	* objdump.c (struct objdump_disasm_info): Don't check for
	DISASSEMBLER_NEEDS_RELOCS.
	(objdump_print_addr): Likewise.
	(disassemble_bytes): Check disassembler_needs_relocs from
	disassemble_info at run-time instead of DISASSEMBLER_NEEDS_RELOCS
	at compile-time.
	(disassemble_section): Likewise.
	(disassemble_data): Initialize it.

include/:
	* dis-asm.h (struct disassemble_info): Add
	disassembler_needs_relocs.

objdump/:
	* disassemble.c (disassemble_init_for_target): Set
	disassembler_needs_relocs for bfd_arch_arm.
@
text
@d1 9
@


1.1024
log
@split changelogs
@
text
@d1 14
@


1.1023
log
@	* objcopy.c (copy_object): Fix thinko.
@
text
@d12 1
a12 2128
2005-12-30  Jie Zhang  <jie.zhang@@analog.com>

	* readelf.c (get_machine_name): Add case for Blackfin.

2005-12-27  Alan Modra  <amodra@@bigpond.net.au>

	* Makefile.am: Run "make dep-am".
	(Makefile): Remove dependency.
	* Makefile.in: Regenerate.

2005-12-26  Jan-Benedict Glaw  <jbglaw@@lug-owl.de>

	* MAINTAINERS: Add myself as VAX maintainer.

2005-12-22  Randolph Chung  <tausq@@debian.org>

	* rddbg.c (read_section_stabs_debugging_info): Add $GDB_SYMBOLS$
	entry to names[] array for SOM binaries.

2005-12-21  H.J. Lu  <hjl@@gnu.org>

	* MAINTAINERS: Add myself as x86_64 maintainer.

2005-12-16  Nathan Sidwell  <nathan@@codesourcery.com>

	Second part of ms1 to mt renaming.
	* readelf.c (guess_is_rela): Use EM_MT.
	(dump_relocations, get_machine_name): Adjust.

2005-12-12  Nathan Sidwell  <nathan@@codesourcery.com>

	* Makefile.am: Replace ms1 files with mt files.
	* Makefile.in: Rebuilt.
	* readelf.c (elf/mt.h): Adjust #include.

2005-11-30  Nick Clifton  <nickc@@redhat.com>

	* configure.in (ALL_LINGUAS): Add fi.
	* configure: Regenerate.
	* po/fi.po: New file: Finnish translation.

2005-11-21  Arnold Metselaar <arnoldm@@sourceware.org>

	* MAINTAINERS: add myself as Z80 maintainer

2005-11-17  Andrew Haley  <aph@@redhat.com>

	* cxxfilt.c (main): Flush output at newline.

2005-11-16  Mark Mitchell  <mark@@codesourcery.com>

	* doc/binutils.texi: Include config.texi and @@file documentation
	for manual pages.

2005-11-15  Jan Beulich  <jbeulich@@novell.com>

	* objcopy.c (keep_file_symbols): New.
	(enum command_line_switch): Add OPTION_KEEP_FILE_SYMBOLS.
	(strip_options): Add --keep-file-symbols.
	(copy_options): Likewise.
	(copy_usage): Likewise.
	(strip_usage): Likewise.
	(filter_symbols): Act upon keep_file_symbols.
	(strip_main): Handle OPTION_KEEP_FILE_SYMBOLS.
	(copy_main): Likewise.
	* doc/binutils.texi: Document --keep-file-symbols for objcopy
	and strip.

2005-11-14  Daniel Jacobowitz  <dan@@codesourcery.com>

	* readelf.c (struct dump_list_entry, request_dump_byname)
	(initialise_dumps_byname): New.
	(parse_args): Call request_dump_byname.
	(process_section_contents): Call initialise_dumps_byname.
	* doc/binutils.texi (readelf): Mention -x NAME.
	* NEWS: Likewise.

2005-11-11  Nick Clifton  <nickc@@redhat.com>

	PR 1150
	* readelf.c (get_mips_symbol_other): New function.
	(get_symbol_other): New function.
	(process_symbol_table): Call get_symbol_other() to get a
	description of the st_other field if it contains more information
	than just the visibility.

2005-11-07  Steve Ellcey  <sje@@cup.hp.com>

	* configure: Regenerate after modifying bfd/warning.m4.

2005-10-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerated.

	* dep-in.sed: Replace " ./" with " ".

2005-10-25  Alan Modra  <amodra@@bigpond.net.au>

	* po/POTFILES.in: Regenerate.
	* po/binutils.pot: Regenerate.

2005-10-24  Bernd Schmidt  <bernd.schmidt@@analog.com>

	* MAINTAINERS: Add self as BFIN maintainer.

2005-10-18  Jie Zhang  <jie.zhang@@analog.com>

	* MAINTAINERS: Add self as BFIN maintainer.

2005-10-11  Danny Smith  <dannysmith@@users.sourceforge.net>

	* rclex.l (handle quotes): Stop parsing hex notation escaped
	chars after the first two digits,

2005-10-11  Nick Clifton  <nickc@@redhat.com>

	PR binutils/1437
	* cxxfilt.c (flags): Remove DMGL_TYPES;
	(long_options): Rename --no-types to --types.
	(usage): Likewise.
	(demangle_it): Add a comment describing why _ and $ prefixes are
	skipped.  Use printf rather than puts to emit the demangled output
	in order to avoid emitting a new line character.
	(main): Have the -t flag enable type demangling.
	Emit a newline after every demangled command line argument.
	Copy whitespace from stdin to stdout.
	* doc/binutils.texi (c++filt): Document the change to the -t
	switch.
	Document why demangling names on the command line is slightly
	different to demangling names read from the standard input.

2005-10-10  Mark Mitchell  <mark@@codesourcery.com>

	* doc/Makefile.am (config.texi): Set top_srcdir.
	* doc/Makefile.in: Regenerated.
	* doc/binutils.texi: Use at-file.texi from libiberty.

2005-10-10  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/1436
	* readelf.c (ABSADDR): New.
	(dump_ia64_unwind): Use ABSADDR to get the unwind info address.

2005-10-10  Thomas Weidenmueller  <w3seek@@reactos.com>

	* resbin.c (res_to_bin_accelerator): Place the terminating NUL at
	the correct location in the bindata structure.

2005-10-10  Bryce Schober  <bryce.schober@@dynonavionics.com>

	* doc/binutils.texi (objdump): Fix typo: -reg-name-std should be
	-reg-names-std.

2005-10-04  Nick Clifton  <nickc@@redhat.com>

	* cxxfilt.c: Treat mangled names specified on the command line in
	the same way as mangled names read from stdin.
	Add -i switch to disable the display of implementation details.
	Add -t switch to disable the demangling of types.
	* NEWS: Mention the new switches.
	* doc/binutils.texi (cxxfilt): Document the -i and -t switches.

2005-10-03  Mark Mitchell  <mark@@codesourcery.com>

	* addr2line.c (usage): Document @@file.
	* ar.c (usage): Likewise.
	* coffdump (usage): Likewise.
	* cxxfilt.c (usage): Likewise.
	* dlltool.c (usage): Likewise.
	* dllwrap.c (usage): Likewise.
	* nlmconv.c (usage): Likewise.
	* nm.c (usage): Likewise.
	* objcopy.c (usage): Likewise.
	* objdump.c (usage): Likewise.
	* readelf.c (usage): Likewise.
	* size.c (usage): Likeise.
	* srconv.c (usage): Likewise.
	* strings.c (usage): Likewise.
	* windres.c (usage): Likewise.
	* doc/binutils.texi: Add section on common options. 

2005-10-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* NEWS: Mention -W/--dwarf.

	* doc/binutils.texi: Document -W/--dwarf for objdump.

2005-10-01  Paul Brook  <paul@@codesourcery.com>

	* readelf.c (arm_attr_tag_CPU_arch, arm_attr_tag_ARM_ISA_use,
	arm_attr_tag_THUMB_ISA_use, arm_attr_tag_VFP_arch,
	arm_attr_tag_WMMX_arch, arm_attr_tag_NEON_arch,
	arm_attr_tag_ABI_PCS_config, arm_attr_tag_ABI_PCS_R9_use,
	arm_attr_tag_ABI_PCS_RW_data, arm_attr_tag_ABI_PCS_RO_DATA,
	arm_attr_tag_ABI_PCS_GOT_use, arm_attr_tag_ABI_PCS_wchar_t,
	arm_attr_tag_ABI_FP_rounding, arm_attr_tag_ABI_FP_denormal,
	arm_attr_tag_ABI_FP_exceptions, arm_attr_tag_ABI_FP_user_exceptions,
	arm_attr_tag_ABI_FP_number_model, arm_attr_tag_ABI_align8_needed,
	arm_attr_tag_ABI_align8_preserved, arm_attr_tag_ABI_enum_size,
	arm_attr_tag_ABI_HardFP_use, arm_attr_tag_ABI_VFP_args,
	arm_attr_tag_ABI_WMMX_args, arm_attr_tag_ABI_optimization_goals,
	arm_attr_tag_ABI_FP_optimization_goals, arm_attr_public_tags): New.
	(display_arm_attribute, process_arm_specific): New functions.
	(process_arch_specific): Add EM_ARM.

2005-09-30  Mark Mitchell  <mark@@codesourcery.com>

	* dlltool.c (main): Fix typo.
	* windres.c (main): Likewise.

2005-09-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.in: Regenerated.

2005-09-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* sysinfo.y (main): Undo last change.

2005-08-30  Mark Mitchell  <mark@@codesourcery.com>

	* addr2line.c (main): Use expandargv.
	* ar.c (main): Likewise.
	* coffdump.c (main): Likewise.
	* cxxfilt.c (main): Likewise.
	* dlltool.c (main): Likewise.
	* dllwrap.c (main): Likewise.
	* nlmconv.c (main): Likewise.
	* nm.c (main): Likewise.
	* objcopy.c (main): Likewise.
	* objdump.c (main): Likewise.
	* readelf.c (main): Likewise.
	* size.c (main): Likeiwse.
	* srcconv.c (main): Likewise.
	* strings.c (main): Likewise.
	* sysdump.c (main): Likewise.
	* sysinfo.y (main): Likewise.
	* windres.c (main): Likewise.
	
2005-09-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerated.
	* aclocal.m4: Likewise.

2005-09-30  Catherine Moore  <clm@@cm00re.com>

	* Makefile.am: Bfin support.
	* Makefile.in: Regenerated.
	* aclocal.m4: Regenerated.
	* readelf.c (elf/bfin.h): Include.
	(guess_is_rela): EM_BLACKFIN support.
	(dump_relocations): Likewise.

2005-09-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* dwarf.c (fetch_indirect_string): Adjust for section address.
	(process_debug_info): Likewise.
	(display_debug_loc): Likewise.
	(display_debug_ranges): Likewise.

	* objdump.c (mach_o_dwarf_sections): New.
	(generic_dwarf_sections): Likewise.
	(check_mach_o_dwarf): Likewise.
	(dump_dwarf): Call check_mach_o_dwarf.

2005-09-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (objdump_SOURCES): Add dwarf.c.
	* Makefile.in: Regenerated.

	* objdump.c: Include "dwarf.h".
	(usage): Add -W/--dwarf.
	(long_options): Likewise.
	(dump_dwarf_section_info): New.
	(load_debug_section): Likewise.
	(free_debug_section): Likewise.
	(dump_dwarf_section): Likewise.
	(dump_dwarf): Likewise.
	(dump_bfd): Load symbol table and call dump_dwarf if
	dump_dwarf_section_info isn't zero.
	(main): Handle -W/--dwarf.

2005-09-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c: Reordered.
	(is_relocatable): New.
	(dwarf_section): New structure for DWARF section.
	(load_debug_section): New.
	(free_debug_section): Likewise.
	(debug_str_section): Likewise.
	(debug_abbrev_section): Likewise.
	(debug_str_contents): Removed.
	(debug_str_size): Likewise.
	(debug_loc_contents): Likewise.
	(debug_loc_size): Likewise.
	(debug_range_contents): Likewise.
	(debug_range_size): Likewise.
	(load_debug_str): Likewise.
	(free_debug_str): Likewise.
	(load_debug_loc): Likewise.
	(free_debug_loc): Likewise.
	(load_debug_arange): Likewise.
	(free_debug_arange): Likewise.
	(load_debug_abbrev): Likewise.
	(free_debug_abbrev): Likewise.
	(fetch_indirect_string): Updated.
	(debug_apply_rela_addends): Likewise.
	(process_debug_info): Likewise.
	(get_debug_info): Likewise.
	(display_debug_lines): Likewise.
	(display_debug_pubnames): Likewise.
	(display_debug_macinfo): Likewise.
	(display_debug_abbrev): Likewise.
	(display_debug_loc): Likewise.
	(display_debug_str): Likewise.
	(display_debug_info): Likewise.
	(display_debug_aranges): Likewise.
	(display_debug_ranges): Likewise.
	(display_debug_frames): Likewise.
	(display_debug_not_supported): Likewise.
	(debug_displays): Likewise.
	(display_debug_section): Likewise.
	(get_file_header): Set is_relocatable.

2005-09-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (debug_apply_rela_addends): Relocate the whole
	section.
	(process_debug_info): Don't call debug_apply_rela_addends.
	(display_debug_frames): Likewise.
	(get_debug_info): Call debug_apply_rela_addends.
	(debug_displays): Add the "relocate" field.
	(display_debug_section): Call debug_apply_rela_addends if
	needed.

2005-09-30  Matthias Kurz  <mk@@baerlap.north.de>

	* bucomm.h: Prevent the inclusion of <libintl.h> from the Solaris
	version of <locale.h> when ENABLE_NLS is not defined.

2005-09-26  Mark Mitchell  <mark@@codesourcery.com>

	* BRANCHES: Mention binutils-csl-gxxpro-3_4-branch.

2005-09-20  Richard Henderson  <rth@@redhat.com>

	* readelf.c (display_debug_lines): Use unsigned long for address
	increments.  Use 0x prefix for all hex numbers.

2005-09-09  Richard Earnshaw  <richard.earnshaw@@arm.com>

	* readelf.c (get_arm_section_type_name): Add SHT_ARM_PREEMPTMAP and
	SHT_ARM_ATTRIBUTES.

2005-09-07  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (get_elf_section_flags): Handle 64bit sh_flags.

2005-09-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (debug_abbrev_contents): New.
	(debug_abbrev_size): Likewise.
	(load_debug_abbrev): Likewise.
	(free_debug_abbrev): Likewise.
	(process_debug_info): Use them.

2005-08-17  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/1179
	* objdump.c (disassemble_bytes): Don't adjust
	adjust_section_vma.
	(adjust_addresses): Don't adjust vma for debugging section.
	Adjust lma only for relocatable files.
	(dump_bfd): Tell adjust_addresses if it is a relocatable file.

2005-08-16  H.J. Lu  <hongjiu.lu@@intel.com>

	* bucomm.h (stpcpy): Declare if HAVE_DECL_STPCPY isn't defined.

	* configure.in (AC_GNU_SOURCE): Added.
	(AC_CHECK_DECLS): Add stpcpy.
	* configure: Regenerated.
	* config.in: Likewise.

2005-08-16  Jakub Jelinek  <jakub@@redhat.com>

	* unwind-ia64.c (UNW_DEC_SPILL_SPREL, UNW_DEC_SPILL_PSPREL,
	UNW_DEC_RESTORE, UNW_DEC_SPILL_REG): Increase {,ab,t}regname
	buffer sizes.

2005-08-15  Daniel Jacobowitz  <dan@@codesourcery.com>

	* doc/binutils.texi (objdump): Document -M e300.

2005-08-14  John David Anglin  <dave.anglin@@nrc-cnrc.gc.ca>

	* readelf.c (slurp_hppa_unwind_table): Fix entry size on hppa64-hpux.
	Don't access table entries past the end of the table.

2005-08-13  John David Anglin  <dave.anglin@@nrc-cnrc.gc.ca>

	* readelf.c (get_parisc_segment_type): Handle PT_PARISC_WEAKORDER.
	(get_parisc_section_type_name): Handle SHT_PARISC_DLKM.

2005-08-11  H.J. Lu  <hongjiu.lu@@intel.com>

	* NEWS: Mention "-t/--section-details" and
	"-N/--full-section-name".

	* doc/binutils.texi: Document "-t/--section-details". Remove
	"-N/--full-section-name".

	* readelf.c (do_full_section_name): Renamed to ...
	(do_section_details): This.
	(option): Rename "-N/--full-section-name" to
	"-t/--section-details".
	(usage): Likewise.
	(parse_args): Likewise.
	(get_elf_section_flags): Support do_section_details.
	(process_section_headers): Updated for do_section_details.

2005-08-04  John David Anglin  <dave.anglin@@nrc-cnrc.gc.ca>

	* readelf.c (get_parisc_dynamic_type): Add new dynamic types.
	(get_dynamic_type): Use old values for DT_LOOS and DT_HIOS when
	e_machine is EM_PARISC.
	(get_parisc_segment_type): Add new segment types.
	(get_parisc_section_type_name): Add new section names.
	(dynamic_section_parisc_val): Add new table entries.

2005-08-01  Filip Navara  <navaraf@@reactos.com>

	* dlltool.c (alphafunc): Remove and replace usage with nfunc.
	(nfunc): Fix sorting of fastcall symbols when --kill-at is used.

2005-07-25  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (dump_relocations): Handle SHN_X86_64_LCOMMON.
	(get_symbol_index_type): Likewise.
	(get_elf_section_flags): Handle SHF_X86_64_LARGE.

2005-07-21  Eric Christopher  <echristo@@apple.com>

	* MAINTAINERS: Change affiliation.

2005-07-19  Ben Elliston  <bje@@au.ibm.com>

	* readelf.c (read_and_display_attr_value): Remove comment adjacent
	to DW_ATE_decimal_float about it being a GNU extension.

2005-07-18  Nick Clifton  <nickc@@redhat.com>

	* binemul.c: Fix name of Red Hat.
	* binemul.h: Likewise.
	* emul_aix.c: Likewise.
	* emul_vanilla: Likewise.

2005-07-18  Ben Elliston  <bje@@au.ibm.com>

	* readelf.c (read_and_display_attr_value): Handle a DW_AT_encoding
	value of DW_ATE_decimal_float instead of DW_ATE_GNU_decimal_float.

2005-07-16  Alan Modra  <amodra@@bigpond.net.au>

	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.

2005-07-15  Eric Christopher  <echristo@@redhat.com>

	* MAINTAINERS: Change affiliation.

2005-07-14  Jim Blandy  <jimb@@redhat.com>

	* readelf.c: #include "elf/m32c.h"
	(guess_is_rela, dump_relocations, get_machine_name): Add cases for
	EM_M32C.
	* Makefile.am (readelf.o): Update dependencies.
	* Makefile.in: Regenerated.

2005-07-08  Ben Elliston  <bje@@au.ibm.com>

	* bucomm.h: Include <stdarg.h> unconditionally, not only when
	ANSI_PROTOTYPES is defined.  Remove #ifdef logic.
	* dlltool.c: Likewise.
	* dllwrap.c: Likewise.

2005-07-07  Kaveh R. Ghazi  <ghazi@@caip.rutgers.edu>

	* bucomm.h (report): Add format attribute.
	* dlltool.c (inform): Likewise.
	* dllwrap.c (display, inform, warn): Likewise.
	* objdump.c (objdump_sprintf): Likewise.
	* readelf.c (error, warn): Likewise.  Fix format bugs.

2005-07-05  Dmitry V. Levin  <ldv@@altlinux.org>
	    Nick Clifton  <nickc@@redhat.com>

	* strings.c (filename_and_size_t): New typedef.
	(strings_a_section): Skip sections with size greater or equal to
	the file size.  Cache the file size to avoid repeated stat()s.
	(strings_object_file): Pass filename_and_size_t argument to
	strings_a_section() via bfd_map_over_sections().

2005-07-04  Alan Modra  <amodra@@bigpond.net.au>

	PR 1004
	* objcopy.c (copy_object): Use bfd_make_section_with_flags.
	(write_debugging_info): Likewise.
	(setup_section): Use bfd_make_section_anyway_with_flags.

2005-07-01  Steve Ellcey  <sje@@cup.hp.com>

	* configure.in (AM_BINUTILS_WARNINGS): Add.
	(BFD_NEED_DECLARATION): Replace with AC_CHECK_DECLS.
	* configure: Regenerate.
	* config.in: Regenerate.
	* objdump.c (NEED_DECLARATION_*): Replace with !HAVE_DECL_*.
	* bucomm.h: (NEED_DECLARATION_*): Ditto.

2005-06-30  Ben Elliston  <bje@@gnu.org>

	* Makefile.am (check-DEJAGNU): Don't search for expect.
	* Makefile.in: Regenerate.

2005-06-30  Ben Elliston  <bje@@gnu.org>

	* Makefile.am (EXPECT): Set to expect.
	(RUNTEST): Likewise, set to runtest.
	* Makefile.in: Regenerate.

2005-06-17  Jakub Jelinek  <jakub@@redhat.com>

	* readelf.c (CHECK_ENTSIZE_VALUES, CHECK_ENTSIZE): Define.
	(process_section_headers): Use it.
	(process_relocs): Don't crash if symsec is not SHT_SYMTAB
	or SHT_DYNSYM.
	(process_version_sections): Use sizeof (Elf_External_Versym)
	instead of sh_entsize.

2005-06-16  Nick Clifton  <nickc@@redhat.com>

	* rename.c (simple_copy): Only define if it is going to be used.
	(smart_rename): Mark the preserve_dates parameter as possibly
	being unused.

	* resres.c (write_res_data): Prevent a potential compile time
	warning by casting the return value from fwrite.

2005-06-14  H.J. Lu  <hongjiu.lu@@intel.com>

	PR 995
	* ar.c (BUFSIZE): Moved to ...
	* bucomm.h (BUFSIZE): Here.

	* bucomm.c: Include <assert.h>.
	(bfd_get_archive_filename): New.
	* bucomm.h (bfd_get_archive_filename): New.

	* objcopy.c (copy_unknown_object): New.
	(copy_object): Use bfd_get_archive_filename when reporting input
	error. Don't call fatal on unknown arch.
	(copy_archive): Call copy_unknown_object on unknown format or
	arch.

2005-06-14  Jakub Jelinek  <jakub@@redhat.com>

	* readelf.c (cmalloc, xcmalloc, xcrealloc): New functions.
	(get_data): Add nmemb argument.  Return NULL if nmemb * size
	overflows.  If var == NULL, allocate one extra byte and
	clear it.
	(slurp_rela_relocs, slurp_rel_relocs, get_32bit_program_headers,
	get_64bit_program_headers, get_program_headers,
	get_32bit_section_headers, get_64bit_section_headers,
	get_32bit_elf_symbols, get_64bit_elf_symbols, process_section_headers,
	process_section_groups, process_relocs, slurp_ia64_unwind_table,
	ia64_process_unwind, slurp_hppa_unwind_table, hppa_process_unwind,
	get_32bit_dynamic_section, get_64bit_dynamic_section,
	process_dynamic_section, process_version_sections, get_dynamic_data,
	process_symbol_table, dump_section, load_debug_str, load_debug_loc,
	load_debug_range, read_and_display_attr_value, process_debug_info,
	get_debug_info, frame_need_space, display_debug_frames,
	display_debug_section, process_mips_specific, process_gnu_liblist,
	process_corefile_note_segment): Adjust get_data callers.  Use
	cmalloc, xcmalloc and xcrealloc instead of {m,xm,xre}alloc where
	passed size is a product of 2 numbers.

	* readelf.c (print_mode): Fix comment typo.
	(slurp_rela_relocs, slurp_rel_relocs): Fix memory leaks.
	(dump_relocations): Fix a thinko in check for invalid st_name.
	(process_program_headers): Don't crash if string_table is NULL.
	(process_section_headers): Don't crash if e_shstrndx is invalid.
	Ensure string_table_length is 0 if string_table == NULL.
	Don't return just because string_table is NULL.
	(process_section_groups): Don't crash if symtab's sh_link or
	symbol's st_name is invalid.  Fix a memory leak.  Fix check for
	invalid section number entry.
	(process_relocs): Don't crash if relocation or symbol section's
	sh_link is invalid.
	(slurp_ia64_unwind_table, slurp_hppa_unwind_table): Don't crash if
	relocation section's sh_info is invalid.
	(ia64_process_unwind, hppa_process_unwind): Don't crash if symbol
	table's sh_link is invalid.
	(process_version_sections): Don't crash on version or symbol
	section's sh_link is invalid.  Don't crash if symbol's st_shndx
	is invalid.
	(process_symbol_table): Don't crash if string table is corrupt
	or symbol's st_name, st_shndx, vna_name or vda_name is invalid.
	(debug_apply_rela_addends): Don't crash if relocation section's
	sh_info or sh_link is invalid.
	(display_debug_loc): Warn for unterminated .debug_loc section
	or start offsets not within .debug_loc section boundaries.
	(process_gnu_liblist): Don't crash if liblist section's sh_link
	or entry's l_name is invalid.

2005-06-09  Jakub Jelinek  <jakub@@redhat.com>

	* objdump.c (disassemble_bytes): Don't crash if q->howto == NULL.
	If q->howto->name == NULL, print q->howto->type as number instead.
	(dump_reloc_set): Likewise.

2005-06-07  Eric Christopher  <echristo@@redhat.com>

	* readelf.c (guess_is_rela): Support ms1.
	(dump_relocations): Ditto.
	(get_machine_name): Ditto.

2005-06-07  Aldy Hernandez  <aldyh@@redhat.com>
	    Michael Snyder  <msnyder@@redhat.com>
	    Stan Cox  <scox@@redhat.com>

	* Makefile.am (readelf.o): Depend on ms1.h.

	* Makefile.in: Regenerate.

	* readelf.c: Include ms1.h.

2005-06-06  H.J. Lu  <hongjiu.lu@@intel.com>

	PR 990
	* nm.c (print_symbol): Call bfd_find_line before
	bfd_find_nearest_line.

2005-06-06  Alan Modra  <amodra@@bigpond.net.au>

	* NEWS: Mention new powerpc ld support.

2005-06-03  Steve Ellcey  <sje@@cup.hp.com>

	* configure.in: Check for getc_unlocked prototype.
	* configure: Regenerate.
	* config.in: Regenerate.
	* strings.c (get_char): Only call getc_unlocked if we have seen a
	prototype.

2005-06-03  Nick Clifton  <nickc@@redhat.com>

	* configure.in (ALL_LINGUAS): Add zh_TW
	* configure: Regenerate.
	* po/zh_TW.po: New Chinese (traditional) translation.

2005-05-31  Richard Henderson  <rth@@redhat.com>

	* readelf.c (dump_relocations): Special case R_ALPHA_LITUSE.

2005-05-29  Richard Henderson  <rth@@redhat.com>

	* readelf.c (get_alpha_dynamic_type): New.
	(get_dynamic_type): Call it.

2005-05-24  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (process_section_groups): Report group section
	index. Check if the section member index is valid.

2005-05-23  Fred Fish  <fnf@@specifixinc.com>

	* addr2line.c (unwind_inlines): New flag for 'i' option.
	(usage): Document '-i' option.
	(long_options): Recognize '--inlines'.
	(translate_addresses): Loop, calling bfd_find_inliner_info as
	necessary and printing multiple output lines.
	(main): Handle 'i' option.
	* doc/binutils.texi (addr2line): Document '-i' option.
	* NEWS: Mention new addr2line '-i' option.

2005-05-23  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (fetch_indirect_string): Display a warning message
	when a corrupt DW_FORM_strp value is encountered.

	(process_debug_info): Mention that the compilation unit offset is
	being displayed in hexadecimal.

	(display_debug_lines): Fix typo in name of .debug_line section.

2005-05-19  Zack Weinberg  <zack@@codesourcery.com>

	* Makefile.am: Have 'all' depend on 'info'.
	* Makefile.in: Regenerate.

2005-05-19  Ben Elliston  <bje@@au.ibm.com>

	* readelf.c (read_and_display_attr_value): Handle a DW_AT_encoding
	value of DW_ATE_GNU_decimal_float.

2005-05-17  Daniel Jacobowitz  <dan@@codesourcery.com>

	* doc/Makefile.am (config.texi): Don't use $<.
	* doc/Makefile.in: Regenerated.

2005-05-15  Yitzchak Scott-Thoennes  <sthoenna@@efn.org>

	* deflex.l: Ignore CRs

2005-05-15  Daniel Jacobowitz  <dan@@codesourcery.com>

	* acinclude.m4: Remove obsolete code.
	* configure.in: Update AC_PREREQ.
	* doc/Makefile.am (binutils_TEXINFOS): Define.
	(config.texi): Depend on distributed files instead of built
	files.
	(binutils.dvi, binutils.info): Remove unnecessary rules.
	(DISTCLEANFILES): Remove.
	(install-data-local): Renamed from install.
	(info-local): Renamed from info.
	* Makefile.in, aclocal.m4, config.in, configure,
	doc/Makefile.in: Regenerated.

2005-05-14  Alan Modra  <amodra@@bigpond.net.au>

	* readelf.c (get_ppc_dynamic_type): Display DT_PPC_GOT, not
	DT_PPC_GLINK.

2005-05-13  Fred Fish  <fnf@@specifixinc.com>

	* readelf.c: Fix a couple of obvious comment typos,
	'debug_str' -> 'debug_ranges' and proecess' -> 'process'.

2005-05-13  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (dump_ia64_unwind): Get stamp with proper size.

2005-05-12  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (display_debug_lines): If pointer_size has not been
	found then assume that it is 4 in order to prevent a seg fault
	when process_extend_line_op attempts to read the line data.

2005-05-11  Alan Modra  <amodra@@bigpond.net.au>

	* readelf.c (get_ppc_dynamic_type): New function for DT_PPC_GLINK.
	(get_dynamic_type): Call the above.

2005-05-07  Nick Clifton  <nickc@@redhat.com>

	* Update the address and phone number of the FSF organization in
	the GPL notices in the following files:
	aclocal.m4, addr2line.c, ar.c, arlex.l, arparse.y, arsup.c,
	arsup.h, binemul.c, binemul.h, bucomm.c, bucomm.h, budbg.h,
	budemang.c, budemang.h, coffdump.c, coffgrok.c, coffgrok.h,
	cxxfilt.c, debug.c, debug.h, deflex.l, defparse.y, dlltool.c,
	dlltool.h, dllwrap.c, emul_aix.c, emul_vanilla.c, filemode.c,
	ieee.c, nlmconv.c, nlmconv.h, nlmheader.y, nm.c, objcopy.c,
	objdump.c, prdbg.c, rclex.l, rcparse.y, rdcoff.c, rddbg.c,
	readelf.c, rename.c, resbin.c, rescoff.c, resrc.c, resres.c,
	size.c, srconv.c, stabs.c, strings.c, sysdump.c, sysinfo.y,
	syslex.l, unwind-ia64.c, unwind-ia64.h, version.c, windres.c,
	windres.h, winduni.c, winduni.h wrstabs.c, doc/fdl.texi

2005-05-06  Jan Beulich  <jbeulich@@novell.com>

	* objcopy.c (copy_file): Don't delete output upon error here.
	(copy_main): Delete output upon error.

2005-05-02  Ben Elliston  <bje@@au.ibm.com>

	* dlltool.c (dtab): Remove empty function.
	(process_duplicates): Remove calls to dtab().

2005-05-01  Maciej W. Rozycki  <macro@@linux-mips.org>

	* doc/binutils.texi (strip, objcopy): Clarify the description of
	the "--strip-debug" option.  Fix a typo.

2005-04-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* bucomm.c: Undo the last change.
	* bucomm.h: Likewise.

2005-04-29  Ben Elliston  <bje@@au.ibm.com>

	* syslex.l (word, number, unit): Remove unused variables.
	* nlmheader.y (keyword_tokens): Make static.
	* coffdump.c (dump_coff_symbol, coff_dump): Make static.
	* coffgrok.c (lofile, last_function_symbol, last_function_type,
	last_struct, last_enum, cur_sfile): Make variables static.
	* sysdump.c (getCHARS, fillup, getBARRAY, getINT, getBITS,
	sysroff_swap_tr_in, sysroff_print_tr_out): Make static.
	* sysinfo.y (writecode, it, code, repeat, oldrepeat, name, rdepth,
	names, pnames): Likewise.

2005-04-29  Ben Elliston  <bje@@au.ibm.com>

	* ar.c (mri_mode): Make static.
	* arsup.c (obfd, real_name, outfile): Likewise.
	* binemul.c (ar_emul_create): Remove unused function.
	(ar_emul_default_create): Likewise.
	* binemul.h (ar_emul_create): Remove declaration.
	(ar_emul_default_create): Likewise.
	(struct bin_emulation_xfer_struct): Remove ar_create member.
	* bucomm.c (report): Make static.
	* bucomm.h (report): Remove declaration.
	* cxxfilt.c (mbuffer): Make static.
	(main): Use unsigned ints for some loop control variables.
	* readelf.c: Make many global variables static.
	* size.c (berkeley_format): Make static.
	(long_options): Likewise.
	* emul_aix.c (bin_aix_emulation): Remove ar_emul_default_create
	structure initialiser.
	(bin_aix5_emulation): Likewise.
	* emul_vanilla.c (bin_vanilla_emulation): Likewise.

2005-04-27  Ben Elliston  <bje@@au.ibm.com>

	* syslex.l: Adjust top-of-file comment: this file is part of GNU
	binutils, not GNU ld.

2005-04-25  Nick Clifton  <nickc@@redhat.com>

	PR872
	* objcopy.c (copy_archive): Initialise 'obfd' field of new
	name_list structure.

	* objcopy.c (copy_usage): Fix description of -K switch.

	* doc/binutils.texi (strip, objcopy): Fix description of -K
	switch.

2005-04-20  Daniel Jacobowitz  <dan@@codesourcery.com>

	* readelf.c (display_debug_frames): Use data factor for
	DW_CFA_def_cfa_sf and DW_CFA_def_cfa_offset_sf.

2005-04-19  H.J. Lu  <hongjiu.lu@@intel.com>

	* objdump.c (dump_section_header): Skip linker created section.

2005-04-17  H.J. Lu  <hongjiu.lu@@intel.com>

	* objdump.c (dump_section_header): Support SEC_GROUP.

2005-04-16  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (debug_apply_rela_addends): Remove redundant %s from
	printf string.

2005-04-15  Nick Clifton  <nickc@@redhat.com>

	* objcopy.c (copy_file): Issue an error message when attmepting to
	copy an empty input file.

2005-04-14  Alan Modra  <amodra@@bigpond.net.au>

	* Makefile.am (NO_WERROR): Define.  Use instead of -Wno-error.
	* configure.in: Include ../bfd/warning.m4 contents.
	* Makefile.in: Regenerate.
	* configure: Regenerate.
	* doc/Makefile.in: Regenerate.

2005-04-12  Alan Modra  <amodra@@bigpond.net.au>

	* Makefile.am: Run "make dep-am".
	(syslex.o, sysinfo.o, arparse.o, arlex.o): Add -Wno-error to command.
	(sysroff.o, defparse.o, deflex.o): Likewise.
	(nlmheader.o, rcparse.o, rclex.o): Likewise.
	* Makefile.in: Regenerate.
	* aclocal.m4: Regenerate.
	* config.in: Regenerate.
	* configure: Regenerate.

2005-04-11  Jan Beulich  <jbeulich@@novell.com>

	* MAINTAINERS: Add myself as ix86 Intel mode maintainer.

2005-04-06  Nick Clifton  <nickc@@redhat.com>
	    H.J. Lu  <hongjiu.lu@@intel.com>

	* po/rw.po: New translation: Kinyarwanda.
	* configure.in (ALL_LINGUAS): Add rw.
	* configure: Regenerate.

2005-04-04  Maciej W. Rozycki  <macro@@linux-mips.org>

	* readelf.c (debug_apply_rela_addends): Reorder r_info as
	necessary for 64-bit MIPS.

2005-04-04  Maciej W. Rozycki  <macro@@linux-mips.org>

	* doc/binutils.texi (readelf): Remove a duplicate paragraph.

2005-04-04  Ramana Radhakrishnan  <ramana.radhakrishnan@@codito.com>

	PR binutils/813
	* objdump.c (dump_symbols): Add a check to see if the section for
	the symbol is chosen using process_section_p.

2005-04-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* NEWS: Mention new readelf options, "-N/--full-section-name"
	and "-g/--section-groups".

	* doc/binutils.texi: Document new readelf options,
	"-N/--full-section-name" and "-g/--section-groups".

2005-03-31  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (do_full_section_name): New.
	(options): Add "--full-section-name"/'N'.
	(usage): Add -N/--full-section-name.
	(parse_args): Handle 'N'.
	(process_section_headers): Print out the full section name if
	do_full_section_name isn't 0.

2005-03-31  Nick Clifton  <nickc@@redhat.com>

	* configure.in: Add a check for <unistd.h> providing a prototype
	for getopt() which is compatible with the one in
	include/getopt.h.  If so then define HAVE_DECL_GETOPT.
	* configure: Regenerate.
	* config.in (HAVE_DECL_GETOPT): Add.
	* aclocal.m4: Regenerate.
	* addr2line.c: Include "config.h" before "bfd.h" so that
	HAVE_DECL_GETOPT is defined before getopt.h is included.

2005-03-21  Jan-Benedict Glaw  <jbglaw@@lug-owl.de>

	* doc/binutils.texi: Document new VAX disassembler-specific option
	-M entry:0xfooba8.
	* NEWS: Mention the new option.

2005-03-29  Anil Paranjpe  <anilp1@@kpitcummins.com>

	* MAINTAINERS: Add myself as H8300 maintainer.

2005-03-28  Aaron W. LaFramboise  <aaron98wiridge9@@aaronwl.com>

	* objdump.c (disassemble_bytes): Remove cast.

2005-03-25  Daniel Jacobowitz  <dan@@codesourcery.com>

	* BRANCHES: Add binutils-csl-arm-2005q1-branch and
	binutils-2_16-branch.

2005-03-25  Mark Kettenis  <kettenis@@gnu.org>

	* MAINTAINERS: Add myself as M88k maintainer.

2005-03-24  Danny Smith  <dannysmith@@users.sourceforge.net>

	* winduni.c (unicode_from_ascii): Don't declare variables
	's' and 'w' if _WIN32.  Use MultiByteToWideChar to set the unicode
	string len.

2005-03-24  Dmitry Diky   <diwil@@spec.ru>

	* MAINTAINERS: Add myself as MSP430 maintainer.

2005-03-23  Nick Clifton  <nickc@@redhat.com>

	* po/fr.po: Updated translation.

2005-03-22  Nick Clifton  <nickc@@redhat.com>

	* MAINTAINERS: Add Daniel Jacobwitz to the blanket write
	privileges list.

2005-03-17  Paul Brook <paul@@codesourcery.com>
	    Dan Jacobowitz <dan@@codesourcery.com>
	    Mark Mitchell  <mark@@codesourcery.com>

	* binutils/readelf.c (get_arm_segment_type): New function.
	(get_segment_type): Use it.

2005-03-18  Paul Brook  <paul@@codesourcery.com>

	* objdump.c (objdump_print_addr): Avoid uninitialized warning.

2005-03-17  Diego Novillo  <dnovillo@@redhat.com>

	* MAINTAINERS: Remove self as maintainer of x86 intel
	mode.

2005-03-16  Nick Clifton  <nickc@@redhat.com>
	    Ben Elliston  <bje@@au.ibm.com>

	* configure.in (werror): New switch: Add -Werror to the
	compiler command line.  Enabled by default.  Disable via
	--disable-werror.
	* configure: Regenerate.

2005-03-15  Daniel Marques  <marques@@cs.cornell.edu>
	    Nick Clifton  <nickc@@redhat.com>

	* objcopy.c (globalize_specific_list): New linked list of symbols
	to convert from local binding into global binding.
	(command_line_switch): Add OPTION_GLOBALIZE_SYMBOL and
	OPTION_GLOBALIZE_SYMBOLS.
	(copy_options): Add "globalize-symbol" and "globalize-symbols".
	(copy_usage): Document the new switches.
	(filter_symbols): Convert defined local symbols mentioned on the
	globalize_specific_list into global symbols.
	(copy_object): Perform actions if the globalize_specific_list is
	not empty.
	(copy_main): Handle new switches.
	* NEWS: Mention new feature.
	* doc/binutils.texi: Document new switches.

2005-03-15  Alan Modra  <amodra@@bigpond.net.au>

	* po/es.po: Commit new Spanish translation.

	* po/fr.po: Commit new French translation.

2005-03-14  Alan Modra  <amodra@@bigpond.net.au>

	* po/tr.po: Commit new Turkish translation.

2005-03-11  Nick Clifton  <nickc@@redhat.com>

	* po/fr.po: Updated French translation.

2005-03-10  Nick Clifton  <nickc@@redhat.com>

	* configure.in (ALL_LINGUAS): Add Romanian lingua "ro".
	* configure: Regenerate.
	* po/ro.po: New file.

	* po/ru.po: Updated file.

2005-03-05  Alan Modra  <amodra@@bigpond.net.au>

	* po/binutils.pot: Regenerate.

2005-03-02  Jan Beulich  <jbeulich@@novell.com>

	* ar.c (remove_output): Use unlink_if_ordinary instead of unlink.
	* objcopy.c (copy_file): Likewise.
	(strip_main): Likewise.

2005-03-01  Stig Petter Olsroed  <stigpo@@users.sourceforge.net>
	    Nick Clifton  <nickc@@redhat.com>

	* objdump.c: Fix coding for DISASSEMBLER_NEEDS_RELOC:
	(struct objdump_disasm_info): Add 'reloc' field.
	(disassemble_bytes): Fix check for when an insn has a reloc
	associated with it.  Improve comment explaining why the use of
	octets is wrong.  Set the 'reloc' field in objdump_disasm_info
	structure.
	(objdump_print_addr): Use new 'reloc' field to lookup the correct
	address for the symbol associated with the current instruction's
	relocation.
	(disassemble_info): Initialise 'reloc' field.

2005-02-28  Jakub Jelinek  <jakub@@redhat.com>

	* readelf.c (get_file_type, get_machine_name, get_osabi_name,
	get_segment_type, get_section_type_name, get_elf_class,
	get_data_encoding, get_group_flags, dynamic_section_mips_val,
	get_symbol_binding, get_symbol_type, get_TAG_name, get_FORM_name,
	get_AT_name, process_mips_specific, process_gnu_liblist,
	get_note_type, get_netbsd_elfcore_note_type): Use snprintf instead of
	sprintf where needed.
	(get_dynamic_type): Likewise.  Increase buff to 64 bytes.
	(get_elf_section_flags): Increase buff to 33 bytes.  Avoid
	using strcat.
	(get_dynamic_flags): Renamed to...
	(print_dynamic_flags): ... this.  Print the flags to stdout instead
	of returning them as string.
	(process_dynamic_section): Adjust caller.

2005-02-25  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (display_debug_ranges): Print out offset for end of
	list.

2005-02-23  Alan Modra  <amodra@@bigpond.net.au>

	* dlltool.c: Warning fixes.
	* objdump.c: Likewise.

2005-02-22  Alan Modra  <amodra@@bigpond.net.au>

	* Makefile.am (syslex.o, sysinfo.o): Pass AM_CFLAGS to compiler.
	(syslex.o, sysinfo.o, dlltool.o, rescoff.o): Remove duplicate
	dependencies.  Run "make dep-am".
	* nlmconv.c: Warning fixes.
	* readelf.c: Likewise.
	* srconv.c: Likewise.
	* sysdump.c: Likewise.
	* sysinfo.y: Likewise.
	* syslex.l: Likewise.  Use yyleng instead of strlen, memcpy instead
	of strcpy.
	* Makefile.in: Regenerate.

2005-02-21  H.J. Lu  <hongjiu.lu@@intel.com>

	* objcopy.c (parse_flags): Replace SEC_SHARED with
	SEC_COFF_SHARED.

	* objdump.c (dump_section_header): Dump SEC_TIC54X_BLOCK and
	SEC_TIC54X_CLINK for TI c54x only. Remove SEC_ARCH_BIT_0. Dump
	SEC_COFF_SHARED for COFF only.

2005-02-21  Alan Modra  <amodra@@bigpond.net.au>

	* Makefile.am: Run "make dep-am"
	* Makefile.in: Regenerate.
	* doc/Makefile.in: Regenerate.

2005-02-21  Alan Modra  <amodra@@bigpond.net.au>

	* readelf.c (BYTE_GET8): Delete.  Replace uses with BYTE_GET.
	(byte_get_little_endian): Don't handle size of -8.
	(byte_get_signed, byte_get_big_endian): Likewise.
	(print_dec_vma, print_hex_vma): New functions.
	(print_vma): Use them.  Return chars output.
	(get_dynamic_data): Return a bfd_vma array.  Add ent_size parm.
	(process_symbol_table): Handle alpha and s390 .hash.

2005-02-18  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (display_debug_loc): Print out offset for end of
	list.

2005-02-18  Joseph S. Myers  <joseph@@codesourcery.com>

	* Makefile.am (TOOL_PROGS): Add objdump.
	* Makefile.in: Regenerate.

2005-02-17  Alan Modra  <amodra@@bigpond.net.au>

	* deflex.l (YY_NO_UNPUT): Define.
	* rclex.l (YY_NO_UNPUT): Define.
	* rcparse.y (null_unichar): New static var.
	(res_null_text): Use it rather than attempting to init from wchar_t.
	* windres.c: Include assert.h and time.h before getopt.h.
	Include config.h and unistd.h too.

2005-02-15  Nick Clifton  <nickc@@redhat.com>

	* nlmconv.c: Provide a full prototype for the localtime() function
	in order to avoid a compile time warning.

2005-02-11  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (group_count): Don't initialize it.
	(process_section_groups): Reurn 1 if we won't do unwind nor
	section groups. Set group_count to 0 before counting group
	sections and return 1 if there are no group sections. Reread
	SHT_SYMTAB/SHT_STRTAB sections only when needed. Don't skip
	section 0.
	(process_object): Only set do_unwind to 0 if
	process_section_groups return 0.

2005-02-10  Ian Lance Taylor  <ian@@airs.com>

	* MAINTAINERS: Update my e-mail address.

2005-02-10  Mark Mitchell  <mark@@codesourcery.com>

	* MAINTAINERS: Add Paul Brook and Mark Mitchell as ARM (Symbian)
	maintainers.

2005-02-07  Inderpreet Singh <inderpreetb@@noida.hcltech.com>

	 * MAINTAINERS: Add self as maintainer of MAXQ.

2005-01-31  Richard Sandiford  <rsandifo@@redhat.com>

	* readelf.c (eh_addr_size): New variable.
	(find_section): Move earlier in file.  Return empty sections too.
	(process_program_headers): Use find_section to find .dynamic.
	(process_section_headers): Initialize eh_addr_size.
	(dump_ia64_unwind, slurp_ia64_unwind_table, ia64_process_unwind)
	(dump_hppa_unwind, slurp_hppa_unwind_table, hppa_process_unwind)
	(display_debug_frames): Use it instead of local addr_size variable.
	(size_of_encoded_value): Get pointer size from eh_addr_size rather
	than is_32bit_elf.

2005-01-31  Andrew Cagney  <cagney@@gnu.org>

	* configure: Regenerate to track ../gettext.m4.

2005-01-31  Nick Clifton  <nickc@@redhat.com>

	* version.c (print_version): Bump the copyright date to 2005.

2005-01-25  Alan Modra  <amodra@@bigpond.net.au>

	* nm.c (display_rel_file): Read dynamic syms before calling
	bfd_get_synthetic_symtab.

2005-01-21  Ben Elliston  <bje@@au.ibm.com>

	* dlltool.c (dump_iat): Remove unused function.
	(gen_exp_file): Remove #if 0'd code.
	(make_one_lib_file): Likewise.
	* srconv.c: Remove #if 0'd code throughout.
	* size.c (lprint_number): Remove.
	(print_berkeley_format): Remove #if 0'd code.
	* ar.c (do_quick_append): Remove declaration and definiton.
	(main): Remove #if 0'd code.
	* filemode.c (filemodestring): Remove #if 0'd function.
	* sysdump.c (unit_info_list): Remove function.
	(object_body_list): Likewise.
	(program_structure): Likewise.
	(debug_list): Likewise.
	(module): Remove #if 0'd code.

2005-01-20  Mark Mitchell  <mark@@codesourcery.com>

	* BRANCHES: Add binutils-2_15-branch.

	* MAINTAINERS: Document branch policy.
	* BRANCHES: New file.

2005-01-19  Fred Fish  <fnf@@specifixinc.com>

	* NEWS: Make note of the new MIPS disassembly option "no-aliases".
	* doc/binutils.texi (objdump): Document the "no-aliases"
	disassembly option.

2005-01-17   Eugene Kotlyarov  <ekot@@narod.ru>

	PR binutils/647
	* rcparse.y (RCDATA): Allow a filename to be supplied as the
	parameter.  Parse it with define_rcdata_file().
	* resrc.c (define_rcdata_file): New function.
	* windres.h: Provide a prototype for the new function.

	* resrc.c (define_user_file): Fix typo by replacing "font file"
	with "file".

2005-01-16  Jason Thorpe  <thorpej@@netbsd.org>

	* MAINTAINERS: Update my email address.

2005-01-16  Danny Smith  <dannysmith@@users.sourceforge.net>

	* dlltool.c (set_dll_name_from_def): New function.  Strip name
	to basename, with warning.
	(def_name): Use it.
	(def_library): Likwise.
	(main): Strip arg of --dllname to basename, with warning.
	Only use basename of exp_name when inferring dll_name.

2005-01-11  Nick Clifton  <nickc@@redhat.com>

	PR binutils/637
	* doc/binutils.texi (c++filt): Use uppercase CXXFILT in the
	footnote in order to prevent the sed script in the Makefile from
	converting it into c++filt.

2005-01-10  H.J. Lu  <hongjiu.lu@@intel.com>

	BZ 635
	readelf.c (saved_base_address): Removed.
	(decode_64bit_range): Likewise.
	(decode_range): Likewise.
	(display_64bit_debug_ranges): Likewise.
	(debug_info): Add range_lists, num_range_lists and
	max_range_lists.
	(read_and_display_attr_value): Handle do_debug_ranges.
	(process_debug_info): Likewise.
	(display_debug_ranges): Rewrite.
	(process_object): Free range_lists.

2005-01-10  Andreas Schwab  <schwab@@suse.de>

	* configure.in: Don't define SKIP_ZEROES.
	* configure: Regenerate.
	* objdump.c (disassemble_data): Set skip_zeroes and
	skip_zeroes_at_end in disasm_info to defaults.
	(DEFAULT_SKIP_ZEROES): Rename from SKIP_ZEROES and always define.
	(DEFAULT_SKIP_ZEROES_AT_END): Rename from SKIP_ZEROES_AT_END and
	always define.
	(disassemble_bytes): Use skip_zeroes and skip_zeroes_at_end from
	objdump_disasm_info.

2005-01-05  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (display_debug_loc): Display base address
	specifiers.  Always output <End of list>.

2005-01-05  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (have_frame_base): New.
	(need_base_address): Likewise.
	(saved_base_address): Likewise.
	(decode_location_expression): Return 1 if DW_AT_frame_base is
	needed.
	(debug_info): Add base_address and a have_frame_base pointer.
	(read_and_display_attr_value): Replace saved_DW_AT_low_pc with
	saved_base_address. Record base address. Set have_frame_base.
	Record if a location list has DW_AT_frame_base. Display if a
	location expression has no DW_AT_frame_base but needs one. Set
	saved_base_address only if needed.
	(process_debug_info): Clear have_frame_base, saved_base_address
	and set need_base_address.
	(display_debug_loc): Display if a location expression has no
	DW_AT_frame_base but needs one. Display if start >= end. Don't
	adjust for section address. Properly handle base address.
	(process_object): Free the have_frame_base pointer in
	debug_info.

2005-01-04  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (display_debug_loc): Display offsets for hole and
	overlap.
	(display_debug_str): Add a newline at the end.

2005-01-04  Armin Diehl  <diehl@@nordrhein.de>

	PR binutils/630
	* nlmconv.c (main): Only store the basename of the output filename
	in the module table.

2005-01-04  H.J. Lu  <hongjiu.lu@@intel.com>

	BZ 615
	* readelf.c (process_debug_info): New.
	(debug_info): Add num_loc_offsets, loc_offsets and
	last_loc_offset_p.
	(get_debug_info): Use process_debug_info.
	(display_debug_loc): Properly handle location list. Warn if bad
	location lists are encoutnered.
	(read_and_process_attr_value): New.
	(read_and_display_attr_value): Use "%lx" for DW_FORM_data4.
	(display_debug_info): Use process_debug_info.
	(process_object): Also free loc_offsets in debug_information.

2004-12-31  Alan Modra  <amodra@@bigpond.net.au>

	* objdump.c (remove_useless_symbols): Discard section symbols.

2004-12-27  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (read_leb128): Support 64bit host.

2004-12-23  Nick Clifton  <nickc@@redhat.com>

	PR binutils/616
	* readelf.c (debug_info): Add 'cu_offset' field.
	(get+pointer_size_of_comp_unit): Rename to
	'get_pointer_size_and_offset_of_comp_unit'.  Add code to return
	the offset of the comp_unit if requested.
	(get_debug_info): Record comp_unit offsets as well.
	(display_debug_lines): Call get_pointer_size_of_comp_unit.
	(decode_location_expression): Add an extra parameter - the offset
	of the current comp-unit.  Use this when decoding the DW_OP_call2
	and DW_OP_call4 operators.
	(display_debug_loc): Call get_pointer_size_of_comp_unit, pass the
	comp_unit offset on the decode_location_expression.
	(read_and_display_attr_value): Pass the	comp_unit offset on the
	decode_location_expression.
	(display_debug_frames): Pass 0 as the comp_unit offset to
	decode_location_expression.

2004-12-22  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (last_pointer_size, warned_about_missing_comp_units):
	New variables associated with obtaining the pointer size for a
	comp_unit.
	(get_pointer_size_of_comp_unit): Add an extra parameter - the name
	of the section requesting the pointer size.  Use this name in
	error messages.  If there are not enough comp_units available
	produce a warning message, but return the last known pointer size
	so that section dumping can continue.
	(get_debug_info): Reset the new variables.
	(display_debug_lines): Add extra parameter to invocation of
	get_pointer_size_of_comp_unit and remove error message when it
	returns 0.
	(display_debug_loc): Likewise.

2004-12-15 Jan Beulich  <jbeulich@@novell.com>

	* doc/binutils.texi: Document --strip-unneeded-symbol and
	--strip-unneeded-symbols.
	* objcopy.c (strip_unneeded_list): New.
	(enum command_line_switch): Add OPTION_STRIP_UNNEEDED_SYMBOL
	and OPTION_STRIP_UNNEEDED_SYMBOLS.
	(copy_options): Add  --strip-unneeded-symbol and
	--strip-unneeded-symbols.
	(copy_usage): Likewise.
	(filter_symbols): Suppress copying of symbol if in strip_unneeded_list
	and the symbol is not needed.
	(copy_main): Handle OPTION_STRIP_UNNEEDED_SYMBOL and
	OPTION_STRIP_UNNEEDED_SYMBOLS.

2004-12-09  Ian Lance Taylor  <ian@@wasabisystems.com>

	* readelf.c (get_machine_flags): Handle E_MIPS_MACH_9000.

2004-12-08  Ben Elliston  <bje@@au.ibm.com>

	* arlex.l: Fix formatting.

2004-12-08  Ben Elliston  <bje@@au.ibm.com>

	* doc/Makefile.am (config.texi): Emit a @@set UPDATED command to
	config.texi whose value is the current month and year.
	* doc/Makefile.in: Rebuild.
	* doc/binutils.texi: Set the document subtitle to be the value of
	the Texinfo UPDATED variable (obtained from config.texi).

2004-12-07  Ben Elliston  <bje@@au.ibm.com>

	PR binutils/249
	* doc/binutils.texi (def file format): New node.
	(dlltool): Use the tool name as the @@chapter name, like all the
	other binutils.  Use @@file{.def} throughout for consistency.

2004-12-06  Ben Elliston  <bje@@au.ibm.com>

	* dlltool.c: Comment fix.

2004-12-06  Ben Elliston  <bje@@au.ibm.com>

	* doc/binutils.texi: Update copyright years.

2004-12-03  Richard Sandiford  <rsandifo@@redhat.com>

	* MAINTAINERS: Remove mention of config.if.

2004-11-30  Tero Niemela  <tero_niemela@@yahoo.com>

	* Makefile.am: Change LOCALEDIR to $(datadir)/share.
	* Makefile.in: Regenerate.

2004-11-10  Ian Lance Taylor  <ian@@wasabisystems.com>

	PR binutils/536
	* stabs.c (stab_demangle_template): Call stab_demangle_count
	rather than stab_demangle_get_count to get the length of a pointer
	target.

2004-11-10  Danny Smith  <dannysmith@@users.sourceforge.net>

	* defparse.y: Remove unnecessary commas from token list.

2004-11-08  Aaron W. LaFramboise <aaron98wiridge9@@aaronwl.com>

	* doc/binutils.texi (nm): Update description of weak symbols.

2004-11-03  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (do_debug_ranges): New variable.
	(usage): Document new switch: -wR or --debug-dump=Ranges.
	(parse_args): Handle new switch.  Replace switch statement for the
	long options with a more compact table structure.
	(process_section_headers): Allow the dumping of .debug_ranges
	sections if so requested.
	(debug_displays): Likewise.
	(load_debug_range): New function: Grabs the contents of a
	.debug_ranges section.
	(free_debug_range): New function: Releases the grabbed
	.debug_ranges section.
	(decode_64bit_range): New function: Displays a 64-bit range in a
	.debug_ranges section.
	(decode_range): New function: Displays a 32-bit range in a
	.debug_ranges section.
	(read_and_display_attr_value): Record the value of DW_AT_low_pc
	attributes.  Use decode_ranges() to display a DW_AT_ranges
	attribute.
	(display_debug_info): Use load_debug_range() and
	free_debug_range().
	(display_64bit_debug_ranges): New function.  Displays the contents
	of a 64-bit format .debug_ranges section.
	(display_debug_ranges): New function: Displays the contents of a
	32-bit .debug_ranges section.

	(main): Move cmdline_dump_sects and num_cmdline_dump_sects into the
	global scope.
	(process_object): Initialise the dump_sects array from the
	cmdline_dump_sects array before processing each object file.

	(streq, strneq): New macros.  Use them to replace occurrences of
	strcmp() and strncmp().

	(debug_information): New structure array to replace
	debug_line_pointer_sizes array.
	(num_debug_info_entries): New variable to replace
	num_debug_line_pointers.
	(get_pointer_size_of_comp_unit): New function: Returns the pointer
	size of a given compilation unit.
	(get_debug_info): New function to replace
	get_debug_line_pointer_sizes.
	(display_debug_lines): Use the new functions.
	(display_debug_loc): Likewise.

	(disassemble_section): Change return type to int.
	(display_debug_lines): Move local variables to their
	innermost scope.
	(display_debug_section): Likewise.  Also record the return value
	of functions called and pass this back to the parent.  Also only
	warn about undumped sections when the user explicitly requested
	their dumping.

	(debug_apply_rela_addends): Allow relocations against STT_OBJECT
	types as well.

	* NEWS: Mention the support for decoding .debug_ranges sections.
	* doc/binutils.texi: Document the new command line switch to
	readelf.

2004-11-03  Randolph Chung  <tausq@@debian.org>

	* readelf.c (ia64_unw_aux_info, ia64_unw_table_entry): Rename from
	unw_aux_info and unw_table_entry.
	(find_symbol_for_address): Pass symtab and strtab info explicitly.
	(dump_ia64_unwind): Rename unw_{aux_info,table_entry} with ia64_
	prefix.
	(slurp_ia64_unwind_table): Likewise.
	(ia64_process_unwind): Rename from old process_unwind.
	(hppa_unw_aux_info): New.
	(dump_hppa_unwind): New.
	(slurp_hppa_unwind_table): New.
	(hppa_process_unwind): New.
	(process_unwind): Factor out common unwinding checks; dispatch to
	unwind handler based on machine type.

2004-11-02  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (display_debug_lines): Fix typo in error message.

2004-10-26  Mark Mitchell  <mark@@codesourcery.com>

	* readelf.c (get_note_type): Handle notes not in core files.
	(process_note_sections): New function.
	(process_corefile_contents): Rename to ...
	(process_notes): ... this.
	(process_object): Call process_notes, not
	process_corefile_contents.
	* doc/binutils.texi: Update readelf -n documentation.

2004-10-26  Jakub Jelinek  <jakub@@redhat.com>

	* ar.c (extract_file): Set atime to mtime for ar xo.

2004-10-25  Ian Lance Taylor  <ian@@wasabisystems.com>

	* stabs.c (stab_demangle_v3_arglist): New static function, broken
	out of stab_demangle_v3_argtypes.
	(stab_demangle_v3_argtypes): Call it.
	(stab_demangle_v3_arg): Handle DEMANGLE_COMPONENT_FUNCTION_TYPE.
	If we find an unrecognized component, print out its number.

2004-10-25  David Mosberger  <davidm@@hpl.hp.com>

	* readelf.c (slurp_ia64_unwind_table): Support relocations against
	non-section symbols by adding in the symbol value.

2004-10-25  Nick Clifton  <nickc@@redhat.com>

	PR 465
	* readelf.c (dynamic_strings_length): New global variable.
	(VALID_DYNAMIC_NAME, GET_DYNAMIC_NAME): New macros for accessing
	strings in the dynamic string table.
	(process_section_headers): Initialise dynamic_strings_length.
	(process_dynamic_section): Likewise.
	(process_object): Reset dynamic_string_length when the buffer is freed.
	(dynamic_sections_mips_val): Use the new macros.
	(process_dynamic_section): Likewise.
	(process_version_sections): Likewise.
	(process_symbol_table): Likewise.
	(process_syminfo): Likewise.
	(process_mips_specific): Likewise.
	(dump_relocations): Add a new parameter 'strtablen' and use this
	to verify that string offset in a given reloc is valid.  Print a
	suitable error message otherwise.
	(process_relocs): Pass the new argument to dump_relocations.

2004-10-23  Aaron W. LaFramboise  <aaron98wiridge9@@aaronwl.com>

	* dlltool.c: Include <assert.h>.
	(PREFIX_ALIAS_BASE): Define.
	(struct export): Add member import_name;
	(def_exports): Set import_name.
	(make_one_lib_file): Remove prefix alias code, use import_name
	in .idata$6.
	(gen_lib_file): Create and delete aliases.

2004-10-19  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (process_section_groups): Free symtab after use.

2004-10-18  Tommy Pettersson <ptp@@lysator.liu.se>
	    Nick Clifton  <nickc@@redhat.com>

	* strings.c (usage): Place radix values for -t option into the
	correct order.

	* objcopy.c (add_redefine_syms_file): Change error messages to use
	<filename>:<linenumber>: format for easier parsing by automatic
	tools.

	* srconv.c (show_usage): Fix spelling typo.

	* windres.c (format_from_filename): Suggest the use of -J instead
	of -I if the file type cannot be determined.

2004-10-18  Aaron W. LaFramboise  <aaron98wiridge9@@aaronwl.com>

	* strings.c: Include <sys/stat.h>.

2004-10-18  Alan Modra  <amodra@@bigpond.net.au>

	* budemang.c (demangle): Fix thinko.

	* budemang.c (demangle): Handle "@@plt" suffix.

2004-10-14  Nick Clifton  <nickc@@redhat.com>

	* nm.c (usage): Fix description of --special-syms switch.

2004-10-13  Jakub Jelinek  <jakub@@redhat.com>

	* strings.c (statbuf): New typedef.
	(file_stat): Define.
	(strings_object_file): Avoid using get_file_size, instead do the
	checks here, using file_stat.
	* configure.in (HAVE_STAT64): New test.
	* configure: Rebuilt.
	* config.in: Rebuilt.

2004-10-12  Paul Brook  <paul@@codesourcery.com>

	* readelf.c (decode_ARM_machine_flags): Support EABI version 4.

2004-10-11  Alan Modra  <amodra@@bigpond.net.au>

	* objdump.c (dump_symbols): Fix thinko last change.  Improve error
	messages.

2004-10-08  Nick Clifton  <nickc@@redhat.com>

	* nm.c: Add a new switch --special-syms which, if enabled, will
	include the ARM Mapping symbols in nm's output.
	(usage): Mention the switch.
	(filter_symbols): Handle the switch.
	* objdump.c: Add a similar switch.
	(usage): Mention the switch.
	(dump_symbols): Handle the switch.
	* doc/binutils.texi: Document the new switches.
	* NEWS: Mention the new switches.

2004-10-08  Daniel Jacobowitz  <dan@@debian.org>

	* readelf.c (get_x86_64_section_type_name): New function.
	(get_section_type_name): Use it.

2004-10-08  Aaron W. LaFramboise  <aaron98wiridge9@@aaronwl.com>

	* dlltool.c (make_one_lib_file): Revert 2004-09-02 and 2004-09-04
	patches.
	* doc/binutils.texi (dlltool): Revert 2004-09-06 patch.

2004-10-07  Alexandre Oliva  <aoliva@@redhat.com>

	* readelf.c (get_machine_flags): Don't fall through into m68k cpu
	types.

2004-10-01  Paul Brook  <paul@@codesourcery.com>

	* readelf.c (get_arm_section_type_name): New function.
	(get_section_type_name): Use it.

2004-09-28  Nick Clifton  <nickc@@redhat.com>

	* nm.c: Reorder functions to eliminate most of the static function
	prototypes.

2004-09-22  Alan Modra  <amodra@@bigpond.net.au>

	* readelf.c (process_program_headers): Don't include .tbss in non-TLS
	segments.

2004-09-17  Alan Modra  <amodra@@bigpond.net.au>

	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.
	* config.in: Regenerate.
	* configure: Regenerate.
	* doc/Makefile.in: Regenerate.
	* po/binutils.pot: Regenerate.

2004-09-12  Alan Modra  <amodra@@bigpond.net.au>

	* readelf.c (decode_location_expression): Sign extend value for
	DW_OP_const1s, DW_OP_const2s, DW_OP_const4s, DW_OP_bra, DW_OP_skip.

2004-09-09  Nick Clifton  <nickc@@redhat.com>

	PR 363
	* ar.c (replace_members): Do not use get_file_size as
	ar_emul_append correctly handles missing files.

2004-09-07  H.J. Lu  <hongjiu.lu@@intel.com>

	* configure: Regenerated with autconfig 2.13.

2004-09-06  Danny Smith  <dannysmith@@users.sourceforge.net>

	* doc/binutils.texi (dlltool): Update --add-underscore, --kill-at
	documentation.

2004-09-06  Michael Wardle  <mbw@@endbracket.net>

	* doc/binutils.texi (objdump): Document that the -x switch includes
	the effect of the -p switch.

2004-09-04  Danny Smith  <dannysmith@@users.sourceforge.net>

	* dlltool.c (make_one_lib_file): Test if internal_name was
	specified by user before using it.

2004-09-02  Carlo Wood  <carlo@@alinoe.com>

	PR binutils/351
	* dlltool.c (make_one_lib_file): For IDATA6 take the name from
	exp->internal_name if it is present.

2004-09-02  Alexandre Oliva  <aoliva@@redhat.com>

	* MAINTAINERS: Add self as co-maintainer of FR-V.
	* readelf.c (get_machine_flags): Print FR-V cpu types.

2004-08-28  Alan Modra  <amodra@@bigpond.net.au>

	* nm.c (show_synthetic): New var.
	(long_options): Add "synthetic".
	(usage): Here too.
	(display_rel_file): Handle show_synthetic.

2004-08-28  Alan Modra  <amodra@@bigpond.net.au>

	* objdump.c (dump_bfd): Pass both symbol tables to
	bfd_get_synthetic_symtab.

2004-08-17  Jakub Jelinek  <jakub@@redhat.com>

	* objdump.c (dump_bfd): For relocatable objects, pass syms instead
	of dynsyms to bfd_get_synthetic_symtab.

2004-08-16  Alan Modra  <amodra@@bigpond.net.au>

	* readelf.c (debug_apply_rela_addends): New function, extracted from..
	(display_debug_info): ..here.
	(display_debug_frames): Call debug_apply_rela_addends.  Don't do
	DW_EH_PE_pcrel adjustment for ET_REL.

2004-08-06  Andreas Schwab  <schwab@@suse.de>

	* readelf.c (dump_relocations): Fix typo when calculating
	sec_index.

2004-08-02  Jakub Bogusz  <qboosh@@pld-linux.org>

	* dllwrap.c (deduce_name): Fix typos introduced when program_name
	was renamed to prog_name.

2004-07-29  Alexandre Oliva  <aoliva@@redhat.com>

	* readelf.c (get_machine_flags <EM_SH>): Handle EF_SH2A and
	EF_SH2A_NOFPU.

2004-07-28  Alexandre Oliva  <aoliva@@redhat.com>

	2003-07-08  Alexandre Oliva  <aoliva@@redhat.com>
	* readelf.c (get_machine_flags <EM_SH)): Handle EF_SH4_NOFPU and
	EF_SH4A_NOFPU.
	2003-06-12  Alexandre Oliva  <aoliva@@redhat.com>
	* readelf.c (get_machine_flags <EM_SH>): Print SH ISA name.

2004-07-21  H.J. Lu  <hongjiu.lu@@intel.com>

	* objcopy.c (filter_symbols): Use bfd_coff_get_comdat_section
	to access comdat.
	* objdump.c (dump_section_header): Likewise.

2004-07-15  Aravinda PR  <aravindapr@@rediffmail.com>

	* nlmconv.c (main): Pass map_file argument to link_inputs.
	(link_inputs): Use map_file argument if it is defined.

2004-07-13  Nick Clifton  <nickc@@redhat.com>

	* dllwrap.c: Replace 'program_name' with 'prog_name' to avoid
	conflicts with exported global defined in bucomm.h.
	(deduce_name): Rename parameter 'program_name' to 'name' to avoid
	shadowing the global defined in bucomm.h.

2004-07-12  Aaron W. LaFramboise  <aaron98wiridge9@@aaronwl.com>

	* dlltool.c (ext_prefix_alias): New global variable.
	(make_one_lib_file): Add aliases with prefixes for external
	and import definitions.
	(usage): Document -p option.
	(long_options): Add --ext-prefix-alias option.
	(main): Handle -p.
	* doc/binutils.texi: Document new switch.
	* NEWS: Mention new switch.

2004-07-09  Aaron W. LaFramboise <aaron98wiridge9@@aaronwl.com>

	* binutils/dlltool.c (asm_prefix): Add parameter: name.
	No underscore for symbols beginning with ?.
	(ASM_PREFIX): Add parameter: NAME.
	(gen_exp_file): Use new parameter.
	(make_label): Likewise.
	(make_imp_label): Likewise.
	(make_one_lib_file): Likewise.

2004-07-07  Tomer Levi  <Tomer.Levi@@nsc.com>

	* MAINTAINERS: Added myself to the list.
	* readelf.c: Include "elf/crx.h".
	(guess_is_rela): Handle EM_CRX.
	(get_machine_name): Likewise.
	(dump_relocations): Likewise.

2004-07-03  Aaron W. LaFramboise  <aaron98wiridge9@@aaronwl.com>

	* doc/binutils.texi (nm): Clarify weak symbol description.

2004-06-24  Ben Elliston  <bje@@au.ibm.com>

	* readelf.c (get_segment_type): Display "GNU_STACK", not just
	"STACK", when a PT_GNU_STACK segment is encountered.

2004-06-24  Alan Modra  <amodra@@bigpond.net.au>

	* objcopy.c (copy_section): Don't set _cooked_size.

2004-06-22  Alan Modra  <amodra@@bigpond.net.au>

	* readelf.c (Elf32_Word): Delete.
	(get_32bit_dynamic_section): Handle SGI ELF dynamic segment.
	(get_64bit_dynamic_section): Likewise.

	* readelf.c (get_32bit_dynamic_section): Stop at first DT_NULL entry.
	(get_64bit_dynamic_section): Likewise.

	* readelf.c (dynamic_nent): New variable.
	(get_32bit_dynamic_section): Set it.
	(get_64bit_dynamic_section): Here too.
	(process_dynamic_section): Use it instead of dynamic_size.
	(process_syminfo): Likewise.

	* readelf.c (get_32bit_dynamic_section): Correct number of entries
	translated from external to internal form.
	(get_64bit_dynamic_section): Likewise.

2004-06-18  Jie Zhang  <zhangjie@@magima.com.cn>

	* readelf.c (process_program_headers): When locating the dynamic
	section use the section table if it is present.
	(dynamic_segment): Renamed to dynamic_section.
	Replace references to dynamic segment with references to dynamic
	section, except where appropriate.
	(dynamic_segment_mips_val): Rename to dynamic_section_mips_val.
	(dynamic_segment_parisc_val): Rename to dynamic_section_parisc_val.
	(dynamic_segment_ia64_val): Rename to dynamic_section_ia64_val.
	(get_32bit_dynamic_segment): Rename to get_32bit_dynamic_section.
	Remove tag counting code as it is no longer needed.
	(get_64bit_dynamic_segment): Rename to get_64bit_dynamic_section.
	Remove tag counting code as it is no longer needed.
	(process_dynamic_segment): Rename to process_dynamic_section.

2004-06-15  Alan Modra  <amodra@@bigpond.net.au>

	* objcopy.c (copy_section): Use bfd_get_section_size instead of
	_raw_size or bfd_get_section_size_before_reloc.  Don't set reloc_done.
	(compare_section_lma): Likewise.
	* addr2line.c (find_address_in_section): Likewise.
	* coffgrok.c (do_sections_p1): Likewise.
	* dlltool.c (scan_drectve_symbols): Likewise.
	* nlmconv.c (main): Likewise.
	(copy_sections): Likewise.
	(powerpc_mangle_relocs): Likewise.
	* objdump.c (disassemble_section): Likewise.
	* prdbg.c (find_address_in_section): Likewise.
	* size.c (berkeley_sum): Likewise.
	* srconv.c (wr_ob): Likewise.
	* strings.c (strings_a_section): Likewise.

2004-05-28  Ian Lance Taylor  <ian@@wasabisystems.com>

	* readelf.c (decode_ARM_machine_flags): Add EF_ARM_VFP_FLOAT.

2004-05-17  David Heine  <dlheine@@tensilica.com>

	* objcopy.c (setup_bfd_headers): New function.
	(copy_object): Call setup_bfd_headers.

2004-05-13  Paul Brook  <paul@@codesourcery.com>

	* readelf.c (display_debug_frames): Handle dwarf3 format CIE
	entries.

2004-05-13  Nick Clifton  <nickc@@redhat.com>

	* po/fr.po: Updated French translation.

2004-05-11  Jakub Jelinek  <jakub@@redhat.com>

	* readelf.c (get_segment_type): Handle PT_GNU_RELRO.

2004-05-07  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (section_groups): New.
	(group_count): New.
	(section_headers_groups): New.
	(process_section_groups): Populate group_count, section_groups
	and section_headers_groups.
	(process_unwind): Support section group.
	(process_object): Always call process_section_groups. Free
	section_groups and section_headers_groups.

2004-04-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (process_section_headers): Use %3lu on sh_info.

2004-04-30  Michael Deutschmann  <michael@@talamasca.ocis.net>

	* ranlib.sh: Quote $1 argument in case it contains spaces.

2004-04-27  John Paul Wallington  <jpw@@gnu.org>

	* objcopy.c (copy_usage, strip_usage): Fix spelling.

2004-04-26  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (do_section_groups): New.
	(options): Add --section-groups/-g.
	(usage): Mention --section-groups/-g.
	(parse_args): Support --section-groups/-g.
	(get_group_flags): New.
	(process_section_groups): New.
	(process_object): Call process_section_groups.

2004-04-24  Alan Modra  <amodra@@bigpond.net.au>

	* objdump.c (disassemble_section): Don't disassemble sections
	without SEC_HAS_CONTENTS.

2004-04-22  Jakub Jelinek  <jakub@@redhat.com>

	* objdump.c (synthsyms, synthcount): New variables.
	(disassemble_data): Use dynsyms for stripped binaries or libraries.
	Add synthetized symbols.
	(dump_bfd): For disassemble, initialize dynsyms always and
	also synthsyms.  Free synthsyms and clear {sym,dynsym,synth}count
	before returning.

2004-04-14  Alan Modra  <amodra@@bigpond.net.au>

	* strings.c (print_strings): Cast file_off to unsigned long in
	printf arg list.

2004-04-07  Benjamin Monate  <benjamin.monate@@cea.fr>

	PR 86
	* arsup.c (ar_save): Use smart_rename.

2004-04-01  Dean Luick <luick@@cray.com>

	* readelf.c (display_debug_pubnames): Align offset and data
	columns.
	(read_and_display_attr_value): Add missing break;
	(debug_displays): Enable the display of the .debug_pubtypes
	section.

2004-03-30  Stan Shebs  <shebs@@apple.com>

	* mpw-config.in, mpw-make.sed, mac-binutils.r: Remove MPW
	support files, no longer used.

2004-03-23  Paul Brook  <paul@@codesourcery.com>

	* readelf.c (decode_ARM_machine_flags): Add EABI v3.

2004-03-21  Richard Henderson  <rth@@redhat.com>

	* readelf.c (display_debug_frames): Don't crash for mismatched
	DW_CFA_restore_state.

2004-03-19  Alan Modra  <amodra@@bigpond.net.au>

	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.
	* aclocal.m4: Regenerate.
	* config.in: Regenerate.
	* configure: Regenerate.
	* po/binutils.pot: Regenerate.

2004-03-15  Nathan Sidwell  <nathan@@codesourcery.com>

	* objdump.c (struct SFILE): Replace current pointer with pos
	offset, rename size to alloc.
	(objdump_sprintf): Avoid unnecessary copies in the common case
	(disassemble_bytes): Keep sfile live throughout the
	function. Adjust usage appropriately.

2004-03-10  Ben Elliston  <bje@@gnu.org>

	* MAINTAINERS: Update my mail address.

2004-03-08  Danny Smith  <dannysmith@@users.sourceforge.net>

	* deflex.l: Handle "PRIVATE" string.
	* defparse.y (%token): Add PRIVATE.
	(%type): Add opt_PRIVATE.
	(expline): Pass opt_PRIVATE to def_exports.
	(opt_PRIVATE): Handle PRIVATE token.
	* dlltool.h (def_exports): Add 7th param for private flag to
	declaration.
	* dlltool.c: Add PRIVATE to comment on EXPORTS syntax.
	(struct export): Add 'private' field.
	(def_exports): Set 'private' field of struct exports.
	(scan_drectve_symbols): Adjust calls to def_exports.
	(scan_filtered_symbols): Likewise.
	(dump_def_info): Print 'private' field.
	(gen_def_file): Likewise.
	(gen_lib_file): Skip generation of lib object if private.
	Delete tmp object files in same order as they were generated.
	Don't delete non-existent private object files.

2004-02-27  Andreas Schwab  <schwab@@suse.de>

	* ar.c (main): Support POSIX-compatible argument parsing.

2004-02-23  Daniel Lucq  <daniel@@lucq.org>

	* readelf.c (process_mips_specific): Print conflictsno as an
	unsigned long.

2004-02-21  Dmitry Timoshkov  <dmitry@@baikal.ru>

	* dlltool.c (gen_exp_file): Always output names for forwarded symbols.

2004-02-19  Jakub Jelinek  <jakub@@redhat.com>

	* objcopy.c (copy_section): Avoid warnings.

2004-02-14  Andrew Cagney  <cagney@@redhat.com>

	* ar.c (remove_output): Use bfd_cache_close.
	* arsup.c (ar_end): Ditto.

2004-01-21  Roland McGrath  <roland@@redhat.com>

	* readelf.c (get_note_type): Match NT_AUXV.

2004-01-20  Nick Clifton  <nickc@@redhat.com>

	* version.c (print_version): Update copyright year to 2004.

2004-01-14  Maciej W. Rozycki  <macro@@ds2.pg.gda.pl>

	* acinclude.m4: Quote names of macros to be defined by AC_DEFUN
	throughout.
	* aclocal.m4: Regenerate.
	* configure: Regenerate.

2004-01-12  Jakub Jelinek  <jakub@@redhat.com>

	* objcopy.c: Include elf-bfd.h.
	(is_strip_section): Don't strip debugging sections if
	STRIP_NONDEBUG.
	(setup_section): If STRIP_NONDEBUG make SEC_ALLOC sections
	~(SEC_LOAD | SEC_HAS_CONTENTS) and on ELF targets also SHT_NOBITS.

	* objcopy.c (copy_section): Free relpp if relcount == 0.

2004-01-12  Ian Lance Taylor  <ian@@wasabisystems.com>

	* stabs.c (parse_stab_argtypes): Handle g++ ABI version 3 names.
	(stab_demangle_argtypes): Likewise.
	(stab_demangle_v3_argtypes): New static function.
	(stab_demangle_v3_arg): New static function.

2004-01-12  Nick Clifton  <nickc@@redhat.com>

	* objcopy.c (copy_object): Make the function boolean, returning
	FALSE upon failure.
	(copy_archive): Handle the return value from copy_object.
	(copy_file): Likewise.

2004-01-07  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (find_section): New function.  Locates a named
	section.
	(get_debug_line_pointer_sizes): New function:  Initialises the
	debug_line_pointer_sizes array.
	(display_debug_lines): Call get_debug_line_pointer_sizes.
	(display_debug_loc): Likewise.
	(load_debug_loc): Use find_section.
	(load_debug_str): Likewise.
	(display_debug_info): Likewise.
	(prescan_debug_info): Delete.
	(debug_displays): Remove prescan field.
	(process_section_contents): Do not perform prescans.

2004-01-03  Alan Modra  <amodra@@bigpond.net.au>

	* objcopy.c (filter_bytes): Delete.  Move code to..
	(copy_section): ..here.  Simplify size adjustment.  Divide
	section lma by interleave.

2004-01-02  Nick Clifton  <nickc@@redhat.com>

	* po/ru.po: New file: Russian translation.
	* configure.in (ALL_LINGUAS): Add ru
	* configure: Regenerate.

For older changes see ChangeLog-0203
@


1.1022
log
@	* objcopy.c (copy_object): Set isympp and osympp to NULL after free.
@
text
@d3 2
@


1.1021
log
@Define EM_ALTERA_NIOS2 and EM_NIOS32.
@
text
@d1 4
@


1.1020
log
@	* readelf.c (get_machine_name): Add case for Blackfin.
@
text
@d1 5
@


1.1019
log
@2005-12-26  Jan-Benedict Glaw  <jbglaw@@lug-owl.de>

	* MAINTAINERS: Add myself as VAX maintainer.
@
text
@d1 4
@


1.1018
log
@	* Makefile.am: Run "make dep-am".
	(Makefile): Remove dependency.
	* Makefile.in: Regenerate.
@
text
@d7 4
@


1.1017
log
@Use correct email address for Randolph Chung
@
text
@d1 6
@


1.1016
log
@(read_section_stabs_debugging_info): Add $GDB_SYMBOLS$ entry to names[]
 array for SOM binaries.
@
text
@d1 1
a1 1
2005-12-22  Randolph Chung  <randolph@@tausq.org>
@


1.1015
log
@2005-12-21  H.J. Lu  <hjl@@gnu.org>

	* MAINTAINERS: Add myself as x86_64 maintainer.
@
text
@d1 5
@


1.1014
log
@	Second part of ms1 to mt renaming.
	* bfd/archures.c (bfd_arch_mt): Renamed.
	(bfd_mt_arch): Renamed.
	(bfd_archures_list): Adjusted.
	* bfd/bfd-in2.h: Rebuilt.
	* bfd/config.bfd (mt): Remove special case targ_archs.
	(mt-*-elf): Rename bfd_elf32_mt_vec.
	* bfd/configure: Rebuilt.
	* bfd/configure.in (bfd_elf32_mt_vec): Renamed.
	(selarchs) Remove mt special case.
	* bfd/cpu-mt.c (arch_info_struct): Adjust.
	(bfd_mt_arch): Renamed, adjust.
	* bfd/elf32-mt.c (mt_reloc_type_lookup, mt_info_to_howto_rela,
	mt_elf_relocate_hi16, mt_final_link_relocate, mt_relocate_section,
	mt_elf_howto_table): Renamed, adjusted.
	(mt_elf_gc_mark_hook, mt_elf_gc_sweep_hook, mt_elf_check_relocs,
	elf32_mt_machine, mt_elf_object_p, mt_elf_set_private_flags,
	mt_elf_copy_private_bfd_data, mt_elf_merge_private_bfd_data,
	mt_elf_print_private_bfd_data): Renamed, adjusted.
	(TARGET_BIG_SYM, TARGET_BIG_NAME, ELF_ARCH, ELF_MACHINE_CODE,
	ELF_MAXPAGESIZE, elf_info_to_howto, elf_backend_relocate_section,
	bfd_elf32_bfd_reloc_type_lookup, elf_backend_gc_mark_hook,
	elf_backend_gc_sweep_hook, elf_backend_check_relocs,
	eld_backend_object_p, bfd_elf32_bfd_set_private_flags,
	bfd_elf32_bfd_copy_private_bfd_data,
	bfd_elf32_bfd_merge_private_bfd_data,
	bfd_elf32_bfd_print_private_bfd_data): Adjusted.
	* bfd/libbfd.h: Regenerated.
	* bfd/reloc.c (BFD_RELOC_MT_PC16, BFD_RELOC_MT_HI16,
	BFD_RELOC_MT_LO16, BFD_RELOC_MT_GNU_VTINHERIT,
	BFD_RELOC_MT_GNU_VTENTRY, BFD_RELOC_MT_PCINSN8): Renamed.
	* bfd/targets.c (bfd_elf32_mt_vec): Renamed.
	(_bfd_target_vector): Adjusted.
	* binutils/readelf.c (guess_is_rela): Use EM_MT.
	(dump_relocations, get_machine_name): Adjust.

	* cpu/mt.cpu (define-arch, define-isa): Set name to mt.
	(define-mach): Adjust.
	* cpu/mt.opc (CGEN_ASM_HASH): Update.
	(mt_asm_hash, mt_cgen_insn_supported): Renamed.
	(parse_loopsize, parse_imm16): Adjust.

	* gas/configure: Rebuilt.
	* gas/configure.in (mt): Remove special case.
	* gas/config/tc-mt.c (opcodes/mt-desc.h, opcodes/mt-opc.h): Change
	#includes.
	(mt_insn, mt_mach, mt_mach_bitmask, mt_flags, mt_architectures):
	Rename, adjust.
	(md_parse_option, md_show_usage, md_begin, md_assemble,
	md_cgen_lookup_reloc, md_atof): Adjust.
	(mt_force_relocation, mt_apply_fix, mt_fix_adjustable): Rename, adjust.
	* gas/config/tc-mt.h (TC_MT): Rename.
	(LISTING_HEADER, TARGET_ARCH, TARGET_FORMAT): Adjust.
	(md_apply_fix): Adjust.
	(mt_apply_fix, mt_fix_adjustable, mt_force_relocation): Rename.
	(TC_FORCE_RELOCATION, tc_fix_adjustable): Adjust.

	* gdb/mt-tdep.c (mt_arch_constants, mt_gdb_regnums): Rename, adjust.
	(mt_register_name, mt_register_type, mt_register_reggroup_p,
	mt_return_value, mt_skip_prologue, mt_breapoint_from_pc,
	mt_pseudo_register_read, mt_pseudo_register_write, mt_frame_align,
	mt_registers_info, mt_push_dummy_call, mt_unwind_cache,
	mt_frame_unwind_cache, mt_unwind_pc, mt_unwind_dummy_id,
	mt_frame_this_id, mt_frame_prev_register, mt_frame_base_address,
	mt_frame_unwind, mt_frame_sniffer, mt_frame_base, mt_gdbarch_init,
	_initialize_mt_tdep): Rename & adjust.

	* include/dis-asm.h (print_insn_mt): Renamed.

	* include/elf/common.h (EM_MT): Renamed.
	* include/elf/mt.h: Rename relocs, cpu & other defines.

	* ld/emulparams/elf32mt.sh (ARCH, OUTPUT_FORMAT): Adjust.

	* opcodes/Makefile.am (HFILES, CFILES, ALL_MACHINES): Adjust.
	(stamp-mt): Adjust rule.
	(mt-asm.lo, mt-desc.lo, mt-dis.lo, mt-ibld.lo, mt-opc.lo): Rename &
	adjust.
	* opcodes/Makefile.in: Rebuilt.
	* opcodes/configure: Rebuilt.
	* opcodes/configure.in (bfd_mt_arch): Rename & adjust.
	* opcodes/disassemble.c (ARCH_mt): Renamed.
	(disassembler): Adjust.
	* opcodes/mt-asm.c: Renamed, rebuilt.
	* opcodes/mt-desc.c: Renamed, rebuilt.
	* opcodes/mt-desc.h: Renamed, rebuilt.
	* opcodes/mt-dis.c: Renamed, rebuilt.
	* opcodes/mt-ibld.c: Renamed, rebuilt.
	* opcodes/mt-opc.c: Renamed, rebuilt.
	* opcodes/mt-opc.h: Renamed, rebuilt.

	* sid/Makefile.in: Rebuilt.
	* sid/aclocal.m4: Rebuilt.
	* sid/configure: Rebuilt.
	* sid/sid.spec: Adjust.
	* sid/bsp/Makefile.am: Adjust.
	* sid/bsp/Makefile.in: Rebuilt.
	* sid/bsp/aclocal.m4: Rebuilt.
	* sid/bsp/configrun-sid.in: Adjust.
	* sid/bsp/pregen/Makefile.in: Rebuilt.
	* sid/bsp/pregen/mt-gdb.conf: Renamed & rebuilt.
	* sid/bsp/pregen/mt-gloss.conf: Renamed & rebuilt.
	* sid/bsp/pregen/pregen-configs.in: Adjust.
	* sid/component/aclocal.m4: Rebuilt.
	* sid/component/configure: Rebuilt.
	* sid/component/tconfig.in: Adjust.
	* sid/component/bochs/aclocal.m4: Rebuilt.
	* sid/component/cache/Makefile.in: Rebuilt.
	* sid/component/cgen-cpu/Makefile.in: Rebuilt.
	* sid/component/cgen-cpu/aclocal.m4: Rebuilt.
	* sid/component/cgen-cpu/compCGEN.cxx: Adjust.
	* sid/component/cgen-cpu/configure: Rebuilt.
	* sid/component/cgen-cpu/configure.in: Rebult.
	* sid/component/cgen-cpu/mt/Makefile.am: Adjust.
	* sid/component/cgen-cpu/mt/Makefile.in: Rebuilt.
	* sid/component/cgen-cpu/mt/hw-cpu-mt.txt: Adjust.
	* sid/component/cgen-cpu/mt/mt-cpu.h: Rebuilt.
	* sid/component/cgen-cpu/mt/mt-decode.cxx: Rebuilt.
	* sid/component/cgen-cpu/mt/mt-decode.h: Rebuilt.
	* sid/component/cgen-cpu/mt/mt-defs.h: Rebuilt.
	* sid/component/cgen-cpu/mt/mt-desc.h: Rebuilt.
	* sid/component/cgen-cpu/mt/mt-sem.cxx: Rebuilt.
	* sid/component/cgen-cpu/mt/mt-write.cxx: Rebuilt.
	* sid/component/cgen-cpu/mt/mt.cxx: Adjust.
	* sid/component/cgen-cpu/mt/mt.h: Adjust.
	* sid/component/consoles/Makefile.in: Rebuilt.
	* sid/component/families/aclocal.m4: Rebuilt.
	* sid/component/families/configure: Rebuilt.
	* sid/component/gdb/Makefile.in: Rebuilt.
	* sid/component/gloss/Makefile.in: Rebuilt.
	* sid/component/glue/Makefile.in: Rebuilt.
	* sid/component/ide/Makefile.in: Rebuilt.
	* sid/component/interrupt/Makefile.in: Rebuilt.
	* sid/component/lcd/Makefile.in: Rebuilt.
	* sid/component/lcd/testsuite/Makefile.in: Rebuilt.
	* sid/component/loader/Makefile.am: Rebuilt.
	* sid/component/loader/Makefile.in: Rebuilt.
	* sid/component/mapper/Makefile.in: Rebuilt.
	* sid/component/mapper/testsuite/Makefile.in: Rebuilt.
	* sid/component/memory/Makefile.in: Rebuilt.
	* sid/component/mmu/Makefile.in: Rebuilt.
	* sid/component/parport/Makefile.in: Rebuilt.
	* sid/component/profiling/Makefile.in: Rebuilt.
	* sid/component/rtc/Makefile.in: Rebuilt.
	* sid/component/sched/Makefile.in: Rebuilt.
	* sid/component/testsuite/Makefile.in: Rebuilt.
	* sid/component/timers/aclocal.m4: Rebuilt.
	* sid/component/timers/configure: Rebuilt.
	* sid/component/uart/Makefile.in: Rebuilt.
	* sid/component/uart/testsuite/Makefile.in: Rebuilt.
	* sid/config/config.sub: Adjust.
	* sid/config/info.tcl.in: Adjust.
	* sid/config/sidtargets.m4: Adjust.
	* sid/doc/Makefile.in: Rebuilt.
	* sid/main/dynamic/Makefile.am: Rebuilt.
	* sid/main/dynamic/Makefile.in: Rebuilt.
	* sid/main/dynamic/aclocal.m4: Rebuilt.
	* sid/main/dynamic/configure: Rebuilt.
@
text
@d1 4
@


1.1013
log
@
	Rename ms1 to mt, part 1
	* config.sub: Replace ms1 arch with mt.  Allow ms1 as alias.
	* configure.in: Replace ms1 arch with mt.
	* configure: Rebuilt.

	* bfd/Makefile.am (ALL_MACHINES, ALL_MACHINES_CFILES,
	BFD32_BACKENDS, BFD32_BACKENDS_CFILES): Replace ms1 with mt.
	(cpu_mt.lo, elf32-mt.lo): Update target and dependency names.
	* bfd/Makefile.in: Rebuilt.
	* bfd/config.bfd: Replace ms1 arch with mt.
	* bfd/configure.in: Replace ms1 files with mt files.
	* bfd/configure: Rebuilt.
	* bfd/elf32-mt.c: Renamed from elf32-ms1.c.  Update include files.
	* bfd/cpu-mt.c: Renamed from cpu-ms1.c.

	* cpu/mt.cpu: Rename from ms1.cpu.
	* cpu/mt.opc: Rename from ms1.opc.

	* binutils/Makefile.am: Replace ms1 files with mt files.
	* binutils/Makefile.in: Rebuilt.
	* binutils/readelf.c (elf/mt.h): Adjust #include.

	* gas/configure.in: Replace ms1 arch with mt arch.
	* gas/configure: Rebuilt.
	* gas/configure.tgt: Replace ms1 arch with mt arch.
	* gas/config/tc-mt.c: Renamed from tc-ms1.c: Update include files.

	* gas/doc/Makefile.am (CPU_DOCS): Replace ms1 files with mt files.
	* gas/doc/Makefile.in: Rebuilt.

	* gas/testsuite/gas/mt: Renamed from ms1 dir.  Update file names as
	needed.
	* gas/testsuite/gas/mt/errors.exp: Replace ms1 arch with mt arch.
	* gas/testsuite/gas/mt/mt.exp: Replace ms1 arch with mt arch.
	* gas/testsuite/gas/mt/relocs.exp: Replace ms1 arch with mt arch.

	* gdb/configure.tgt: Replace ms1 arch with mt arch.
	* gdb/config/mt: Renamed from ms1 dir.  Update file names as needed.
	* gdb/config/mt/mt.mt (TDEPFILES): Replace ms1 file with mt file.

	* include/elf/mt.h: Renamed from ms1.h

	* ld/Makefile.am (ALL_EMULATIONS): Replace ms1 files with mt files.
	(eelf32mt.c): Update target name and dependencies.
	* ld/Makefile.in: Rebuilt.
	* ld/configure.tgt: Replace ms1 arch with mt arch.
	* ld/emulparams/elf32mt.sh: Renamed from elf32ms1.sh. Update
	comment.

	* libgloss/configure.in: Replace ms1 arch with mt arch.
	* libgloss/configure: Rebuilt.
	* libgloss/mt: Renamed from ms1 dir.

	* newlib/configure.host: Replace ms1 arch with mt arch.
	* newlib/libc/machine/mt: Renamed from ms1 dir.

	* opcodes/Makefile.am (CLEANFILES, CGEN_CPUS, MT_DEPS): Replace ms1
	with mt.
	* opcodes/Makefile.in: Rebuilt.
	* opcodes/configure.in: Replace ms1 files with mt files.
	* opcodes/configure: Rebuilt.

	* sid/component/cgen-cpu/mt: Renamed from ms1 dir.  Update file
	names as appropriate.
	* sid/component/cgen-cpu/mt/Makefile.am: Replace ms1 files with mt
	files.
	* sid/component/cgen-cpu/mt/Makefile.in: Rebuilt.
@
text
@d1 6
@


1.1012
log
@Add Finnish translation
@
text
@d1 6
@


1.1011
log
@add self as maintainer for target Z80
@
text
@d1 6
@


1.1010
log
@2005-11-17  Andrew Haley  <aph@@redhat.com>

        * cxxfilt.c (main): Flush ouput at newline.
@
text
@d1 4
d7 1
a7 1
	* cxxfilt.c (main): Flush ouput at newline.
@


1.1009
log
@	* doc/binutils.texi: Include config.texi and @@file documentation
	for manual pages.

	* Makefile.am (gprof.info, gprof.1): Depend on config.texi.
	(config.texi): New file.
	* Makefile.in: Regenerated.

	* Makefile.am (configdoc.texi): Set top_srcdir in configdoc.texi..
	* Makefile.in: Regenerated.
	* ld.texinfo: Include configdoc.texi and ldver.texi in man pages.
	Add @@file documentation.
@
text
@d1 4
@


1.1008
log
@binutils/
2005-11-15  Jan Beulich  <jbeulich@@novell.com>

	* objcopy.c (keep_file_symbols): New.
	(enum command_line_switch): Add OPTION_KEEP_FILE_SYMBOLS.
	(strip_options): Add --keep-file-symbols.
	(copy_options): Likewise.
	(copy_usage): Likewise.
	(strip_usage): Likewise.
	(filter_symbols): Act upon keep_file_symbols.
	(strip_main): Handle OPTION_KEEP_FILE_SYMBOLS.
	(copy_main): Likewise.
	* doc/binutils.texi: Document --keep-file-symbols for objcopy
	and strip.
@
text
@d1 5
@


1.1007
log
@	* readelf.c (struct dump_list_entry, request_dump_byname)
	(initialise_dumps_byname): New.
	(parse_args): Call request_dump_byname.
	(process_section_contents): Call initialise_dumps_byname.
	* doc/binutils.texi (readelf): Mention -x NAME.
	* NEWS: Likewise.
@
text
@d1 14
@


1.1006
log
@PR 1150
* readelf.c (get_mips_symbol_other): New function.
  (get_symbol_other): New function.
  (process_symbol_table): Call get_symbol_other() to get a description of the
    st_other field if it contains more information than just the visibility.
* elfxx-mips.c (mips_elf_calculate_relocation): Ignore an undefined symbol if
    it is optional.
  (_bfd_mips_elf_merge_symbol_attribute): Make sure that the optional flag is
    merged as well as the visibility.
* elfxx-mips.h (_bfd_mips_elf_merge_symbol_attribute): Prototype.
  (elf_backend_merge_symbol_attribute): Define.
* mips.h (STO_OPTIONAL): Define.
  (ELF_MIPS_IS_OPTIONAL): Define.
@
text
@d1 9
@


1.1005
log
@	* configure: Regenerate after modifying bfd/warning.m4.
@
text
@d1 9
@


1.1004
log
@ld/
binutils/
opcodes/

2005-10-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerated.

	* dep-in.sed: Replace " ./" with " ".
@
text
@d1 4
@


1.1003
log
@Regenerate
@
text
@d1 7
@


1.1002
log
@Add self as Blackfin maintainer.
@
text
@d1 5
@


1.1001
log
@	* MAINTAINERS: Add self as BFIN maintainer.
@
text
@d1 4
@


1.1000
log
@2005-10-11  Danny Smith  <dannysmith@@users.sourceforge.net>

	* rclex.l (handle quotes): Stop parsing hex notation escaped
	chars after the first two digits,
@
text
@d1 4
@


1.999
log
@PR binutils/1437
* cxxfilt.c (flags): Remove DMGL_TYPES;
  (long_options): Rename --no-types to --types.
  (usage): Likewise.
  (demangle_it): Add a comment describing why _ and $ prefixes are skipped.
  Use printf rather than puts to emit the demangled output in order to avoid
  emitting a new line character.
  (main): Have the -t flag enable type demangling.
  Emit a newline after every demangled command line argument.
  Copy whitespace from stdin to stdout.
* doc/binutils.texi (c++filt): Document the change to the -t switch.
  Document why demangling names on the command line is slightly different
  to demangling names read from the standard input.
@
text
@d1 5
@


1.998
log
@	* doc/Makefile.am (config.texi): Set top_srcdir.
	* doc/Makefile.in: Regenerated.
	* doc/binutils.texi: Use at-file.texi from libiberty.
@
text
@d1 17
@


1.997
log
@2005-10-10  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/1436
	* readelf.c (ABSADDR): New.
	(dump_ia64_unwind): Use ABSADDR to get the unwind info address.
@
text
@d1 6
@


1.996
log
@* resbin.c (res_to_bin_accelerator): Place the terminating NUL at the correct
  location in the bindata structure.
@
text
@d1 6
@


1.995
log
@* doc/binutils.texi (objdump): Fix typo: -reg-name-std should be -reg-names-std.
@
text
@d1 5
@


1.994
log
@* cxxfilt.c: Treat mangled names specified on the command line in the same way
  as mangled names read from stdin.
  Add -i switch to disable the display of implementation details.
  Add -t switch to disable the demangling of types.
* NEWS: Mention the new switches.
* doc/binutils.texi (cxxfilt): Document the -i and -t switches.
@
text
@d1 5
@


1.993
log
@	* addr2line.c (usage): Document @@file.
	* ar.c (usage): Likewise.
	* coffdump (usage): Likewise.
	* cxxfilt.c (usage): Likewise.
	* dlltool.c (usage): Likewise.
	* dllwrap.c (usage): Likewise.
	* nlmconv.c (usage): Likewise.
	* nm.c (usage): Likewise.
	* objcopy.c (usage): Likewise.
	* objdump.c (usage): Likewise.
	* readelf.c (usage): Likewise.
	* size.c (usage): Likeise.
	* srconv.c (usage): Likewise.
	* strings.c (usage): Likewise.
	* windres.c (usage): Likewise.
	* doc/binutils.texi: Add section on common options.
@
text
@d1 9
@


1.992
log
@2005-10-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* NEWS: Mention -W/--dwarf.

	* doc/binutils.texi: Document -W/--dwarf for objdump.
@
text
@d1 19
@


1.991
log
@2005-10-01  Paul Brook  <paul@@codesourcery.com>

	* readelf.c (arm_attr_tag_CPU_arch, arm_attr_tag_ARM_ISA_use,
	arm_attr_tag_THUMB_ISA_use, arm_attr_tag_VFP_arch,
	arm_attr_tag_WMMX_arch, arm_attr_tag_NEON_arch,
	arm_attr_tag_ABI_PCS_config, arm_attr_tag_ABI_PCS_R9_use,
	arm_attr_tag_ABI_PCS_RW_data, arm_attr_tag_ABI_PCS_RO_DATA,
	arm_attr_tag_ABI_PCS_GOT_use, arm_attr_tag_ABI_PCS_wchar_t,
	arm_attr_tag_ABI_FP_rounding, arm_attr_tag_ABI_FP_denormal,
	arm_attr_tag_ABI_FP_exceptions, arm_attr_tag_ABI_FP_user_exceptions,
	arm_attr_tag_ABI_FP_number_model, arm_attr_tag_ABI_align8_needed,
	arm_attr_tag_ABI_align8_preserved, arm_attr_tag_ABI_enum_size,
	arm_attr_tag_ABI_HardFP_use, arm_attr_tag_ABI_VFP_args,
	arm_attr_tag_ABI_WMMX_args, arm_attr_tag_ABI_optimization_goals,
	arm_attr_tag_ABI_FP_optimization_goals, arm_attr_public_tags): New.
	(display_arm_attribute, process_arm_specific): New functions.
	(process_arch_specific): Add EM_ARM.
@
text
@d1 6
@


1.990
log
@	* dlltool.c (main): Fix typo.
	* windres.c (main): Likewise.
@
text
@d1 18
@


1.989
log
@2005-09-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.in: Regenerated.
@
text
@d1 5
@


1.988
log
@2005-09-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* sysinfo.y (main): Undo last change.
@
text
@d3 4
@


1.987
log
@	* addr2line.c (main): Likewise.
	* ar.c (main): Likewise.
	* coffdump.c (main): Likewise.
	* cxxfilt.c (main): Likewise.
	* dlltool.c (main): Likewise.
	* dllwrap.c (main): Likewise.
	* nlmconv.c (main): Likewise.
	* nm.c (main): Likewise.
	* objcopy.c (main): Likewise.
	* objdump.c (main): Likewise.
	* readelf.c (main): Likewise.
	* size.c (main): Likeiwse.
	* srcconv.c (main): Likewise.
	* strings.c (main): Likewise.
	* sysdump.c (main): Likewise.
	* sysinfo.c (main): Likewise.
	* windres.c (main): Likewise.

	* ldmain.c (main): Use expandargv.

	* gprof.c (main): Use expandargv.

	* as.c (main): Use expandargv.
@
text
@d1 4
d7 1
a7 1
	* addr2line.c (main): Likewise.
d22 1
a22 1
	* sysinfo.c (main): Likewise.
@


1.986
log
@2005-09-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerated.
	* aclocal.m4: Likewise.
@
text
@d1 20
@


1.985
log
@	* Makefile.am: Bfin support.
	* Makefile.in: Regenerated.
	* aclocal.m4: Regenerated.
	* readelf.c (elf/bfin.h): Include.
	(guess_is_rela): EM_BLACKFIN support.
	(dump_relocations): Likewise.
@
text
@d1 6
@


1.984
log
@2005-09-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* dwarf.c (fetch_indirect_string): Adjust for section address.
	(process_debug_info): Likewise.
	(display_debug_loc): Likewise.
	(display_debug_ranges): Likewise.

	* objdump.c (mach_o_dwarf_sections): New.
	(generic_dwarf_sections): Likewise.
	(check_mach_o_dwarf): Likewise.
	(dump_dwarf): Call check_mach_o_dwarf.
@
text
@d1 9
@


1.983
log
@2005-09-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (objdump_SOURCES): Add dwarf.c.
	* Makefile.in: Regenerated.

	* objdump.c: Include "dwarf.h".
	(usage): Add -W/--dwarf.
	(long_options): Likewise.
	(dump_dwarf_section_info): New.
	(load_debug_section): Likewise.
	(free_debug_section): Likewise.
	(dump_dwarf_section): Likewise.
	(dump_dwarf): Likewise.
	(dump_bfd): Load symbol table and call dump_dwarf if
	dump_dwarf_section_info isn't zero.
	(main): Handle -W/--dwarf.
@
text
@d3 12
@


1.982
log
@2005-09-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c: Reordered.
	(is_relocatable): New.
	(dwarf_section): New structure for DWARF section.
	(load_debug_section): New.
	(free_debug_section): Likewise.
	(debug_str_section): Likewise.
	(debug_abbrev_section): Likewise.
	(debug_str_contents): Removed.
	(debug_str_size): Likewise.
	(debug_loc_contents): Likewise.
	(debug_loc_size): Likewise.
	(debug_range_contents): Likewise.
	(debug_range_size): Likewise.
	(load_debug_str): Likewise.
	(free_debug_str): Likewise.
	(load_debug_loc): Likewise.
	(free_debug_loc): Likewise.
	(load_debug_arange): Likewise.
	(free_debug_arange): Likewise.
	(load_debug_abbrev): Likewise.
	(free_debug_abbrev): Likewise.
	(fetch_indirect_string): Updated.
	(debug_apply_rela_addends): Likewise.
	(process_debug_info): Likewise.
	(get_debug_info): Likewise.
	(display_debug_lines): Likewise.
	(display_debug_pubnames): Likewise.
	(display_debug_macinfo): Likewise.
	(display_debug_abbrev): Likewise.
	(display_debug_loc): Likewise.
	(display_debug_str): Likewise.
	(display_debug_info): Likewise.
	(display_debug_aranges): Likewise.
	(display_debug_ranges): Likewise.
	(display_debug_frames): Likewise.
	(display_debug_not_supported): Likewise.
	(debug_displays): Likewise.
	(display_debug_section): Likewise.
	(get_file_header): Set is_relocatable.
@
text
@d3 17
@


1.981
log
@2005-09-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (debug_apply_rela_addends): Relocate the whole
	section.
	(process_debug_info): Don't call debug_apply_rela_addends.
	(display_debug_frames): Likewise.
	(get_debug_info): Call debug_apply_rela_addends.
	(debug_displays): Add the "relocate" field.
	(display_debug_section): Call debug_apply_rela_addends if
	needed.
@
text
@d3 42
@


1.980
log
@asintl.h/bucomm.h/ld.h: Prevent the inclusion of <libintl.h> from the Solaris
  version of <locale.h> when ENABLE_NLS is not defined.
gprof.c (main):Only invoke bindtextdomain() and textdomain() if ENABLE_NLS is
  defined.
@
text
@d1 11
@


1.979
log
@	* BRANCHES: Mention binutils-csl-gxxpro-3_4-branch.
@
text
@d1 5
@


1.978
log
@        * readelf.c (display_debug_lines): Use unsigned long for address
        increments.  Use 0x prefix for all hex numbers.
@
text
@d1 4
@


1.977
log
@	* readelf.c (get_arm_section_type_name): Add SHT_ARM_PREEMPTMAP and
	SHT_ARM_ATTRIBUTES.
@
text
@d1 5
@


1.976
log
@2005-09-07  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (get_elf_section_flags): Handle 64bit sh_flags.
@
text
@d1 5
@


1.975
log
@2005-09-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (debug_abbrev_contents): New.
	(debug_abbrev_size): Likewise.
	(load_debug_abbrev): Likewise.
	(free_debug_abbrev): Likewise.
	(process_debug_info): Use them.
@
text
@d1 4
@


1.974
log
@bfd/

2005-08-17  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/1179
	* dwarf2.c (_bfd_dwarf2_find_nearest_line): Use section lma
	instead of vma.
	(_bfd_dwarf2_find_line): Likewise.

binutils/

2005-08-17  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/1179
	* objdump.c (disassemble_bytes): Don't adjust
	adjust_section_vma.
	(adjust_addresses): Don't adjust vma for debugging section.
	Adjust lma only for relocatable files.
	(dump_bfd): Tell adjust_addresses if it is a relocatable file.
@
text
@d1 8
@


1.973
log
@2005-08-16  H.J. Lu  <hongjiu.lu@@intel.com>

	* bucomm.h (stpcpy): Declare if HAVE_DECL_STPCPY isn't defined.

	* configure.in (AC_GNU_SOURCE): Added.
	(AC_CHECK_DECLS): Add stpcpy.
	* configure: Regenerated.
	* config.in: Likewise.
@
text
@d1 9
@


1.972
log
@	* unwind-ia64.c (UNW_DEC_SPILL_SPREL, UNW_DEC_SPILL_PSPREL,
	UNW_DEC_RESTORE, UNW_DEC_SPILL_REG): Increase {,ab,t}regname
	buffer sizes.
@
text
@d1 9
@


1.971
log
@gas/
	* config/tc-ppc.c (parse_cpu): Add -me300 support.
	(md_show_usage): Likewise.
	* doc/c-ppc.texi (PowerPC-Opts): Document it.
include/opcode/
	* ppc.h (PPC_OPCODE_E300): Define.
opcodes/
	* ppc-dis.c (powerpc_dialect): Handle e300.
	(print_ppc_disassembler_options): Likewise.
	* ppc-opc.c (PPCE300): Define.
	(powerpc_opcodes): Mark icbt as available for the e300.
binutils/
	* doc/binutils.texi (objdump): Document -M e300.
@
text
@d1 6
@


1.970
log
@	* readelf.c (slurp_hppa_unwind_table): Fix entry size on hppa64-hpux.
	Don't access table entries past the end of the table.
@
text
@d1 4
@


1.969
log
@	* readelf.c (get_parisc_segment_type): Handle PT_PARISC_WEAKORDER.
	(get_parisc_section_type_name): Handle SHT_PARISC_DLKM.
@
text
@d1 5
@


1.968
log
@2005-08-11  H.J. Lu  <hongjiu.lu@@intel.com>

	* NEWS: Mention "-t/--section-details" and
	"-N/--full-section-name".

	* doc/binutils.texi: Document "-t/--section-details". Remove
	"-N/--full-section-name".

	* readelf.c (do_full_section_name): Renamed to ...
	(do_section_details): This.
	(option): Rename "-N/--full-section-name" to
	"-t/--section-details".
	(usage): Likewise.
	(parse_args): Likewise.
	(get_elf_section_flags): Support do_section_details.
	(process_section_headers): Updated for do_section_details.
@
text
@d1 5
@


1.967
log
@	* readelf.c (get_parisc_dynamic_type): Add new dynamic types.
	(get_dynamic_type): Use old values for DT_LOOS and DT_HIOS when
	e_machine is EM_PARISC.
	(get_parisc_segment_type): Add new segment types.
	(get_parisc_section_type_name): Add new section names.
	(dynamic_section_parisc_val): Add new table entries.
@
text
@d1 17
@


1.966
log
@(alphafunc): Remove and replace usage with nfunc.
(nfunc): Fix sorting of fastcall symbols when --kill-at is used.
@
text
@d1 9
@


1.965
log
@bfd/

2005-07-25  Jan Hubicka  <jh@@suse.cz>
	    H.J. Lu  <hongjiu.lu@@intel.com>

	* elf-bfd.h (_bfd_elf_large_com_section): New.
	* elf.c (_bfd_elf_large_com_section): New. Defined.

	* elf64-x86-64.c (elf64_x86_64_add_symbol_hook): New.
	(elf64_x86_64_elf_section_from_bfd_section): New.
	(elf64_x86_64_symbol_processing): New.
	(elf64_x86_64_common_definition): New.
	(elf64_x86_64_common_section_index): New.
	(elf64_x86_64_common_section): New.
	(elf64_x86_64_merge_symbol): New.
	(elf64_x86_64_additional_program_headers): New.
	(elf64_x86_64_special_sections): New.
	(elf_backend_section_from_bfd_section): New. Defined.
	(elf_backend_add_symbol_hook): Likewise.
	(elf_backend_common_section_index): Likewise.
	(elf_backend_common_section): Likewise.
	(elf_backend_common_definition): Likewise.
	(elf_backend_merge_symbol): Likewise.
	(elf_backend_special_sections): Likewise.
	(elf_backend_additional_program_headers): Likewise.

binutils/

2005-07-25  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (dump_relocations): Handle SHN_X86_64_LCOMMON.
	(get_symbol_index_type): Likewise.
	(get_elf_section_flags): Handle SHF_X86_64_LARGE.

gas/

2005-07-25  Jan Hubicka  <jh@@suse.cz>
	    H.J. Lu  <hongjiu.lu@@intel.com>

	* config/obj-elf.c: Include "elf/x86-64.h" if TC_I386 is
	defined.
	(elf_com_section_ptr): New.
	(elf_begin): Set elf_com_section_ptr to bfd_com_section_ptr.
	(elf_common_parse): Make it global. Use elf_com_section_ptr
	instead of bfd_com_section_ptr.
	(obj_elf_change_section): Handle x86-64 large bss sections.

	* config/obj-elf.h (elf_com_section_ptr): New.
	(elf_common_parse): New.

	* config/tc-i386.c (handle_large_common): New.
	(md_pseudo_table): Add "largecomm".
	(x86_64_section_letter): New.
	(x86_64_section_word): New.

	* config/tc-i386.h (x86_64_section_word): New.
	(x86_64_section_letter): New.
	(md_elf_section_letter): New. Defined.
	(md_elf_section_word): Likewise.

include/elf/

2005-07-25  Jan Hubicka  <jh@@suse.cz>

	* x86-64.h (SHN_X86_64_LCOMMON): New.
	(SHF_X86_64_LARGE): New.

ld/

2005-07-25  Jan Hubicka  <jh@@suse.cz>
	    H.J. Lu  <hongjiu.lu@@intel.com>

	* emulparams/elf_x86_64.sh (LARGE_SECTIONS): New.

	* scripttempl/elf.sc: Updated for large section support.
@
text
@d1 5
@


1.964
log
@2005-07-21  Eric Christopher  <echristo@@apple.com>

        * MAINTAINERS: Change affiliation.
@
text
@d1 6
@


1.963
log
@Add ChangeLog entries for yesterdays deltas (oops!)
@
text
@d1 4
@


1.962
log
@	* readelf.c (read_and_display_attr_value): Remove comment adjacent
	to DW_ATE_decimal_float about it being a GNU extension.
@
text
@d6 7
@


1.961
log
@binutils/
	* readelf.c (read_and_display_attr_value): Handle a DW_AT_encoding
	value of DW_ATE_decimal_float instead of DW_ATE_GNU_decimal_float.
include/elf/
	* dwarf2.h (enum dwarf_type): Remove DW_AT_GNU_decimal_float.
	Replace with DW_ATE_decimal_float (now in DWARF 3).
@
text
@d1 5
@


1.960
log
@bfd/
	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.
opcodes/
	* Makefile.am: Run "make dep-am".
	(stamp-m32c): Fix cpu dependencies.
	* Makefile.in: Regenerate.
	* ip2k-dis.c: Regenerate.
binutils/
	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.
gas/
	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.
ld/
	* Makefile.am: Run "make dep-am".
	(emipsidt.c, emipsidtl.c): Depend on generic.em.
	* Makefile.in: Regenerate.
@
text
@d1 5
@


1.959
log
@2005-07-15  Eric Christopher  <echristo@@redhat.com>

        * MAINTAINERS: Change affiliation.
@
text
@d1 5
@


1.958
log
@ChangeLog:
2005-07-14  Jim Blandy  <jimb@@redhat.com>

	* configure.in: Add cases for Renesas m32c.
	* configure: Regenerated.

bfd/ChangeLog:
2005-07-14  Jim Blandy  <jimb@@redhat.com>

	Add support for m32c-*-elf (Renesas m32c and m16c).
	* Makefile.am (ALL_MACHINES): Add cpu-m32c.lo.
	(ALL_MACHINES_CFILES): Add cpu-m32c.c.
	(BFD32_BACKENDS): Add elf32-m32c.lo.
	(BFD32_BACKENDS_CFILES): Add elf32-m32c.c.
	(cpu-m32c.lo, elf32-m32c.lo): New rules, generated by 'make dep-am'.
	* Makefile.in: Regenerated.
	* archures.c (bfd_arch_m32c, bfd_mach_m16c, bfd_mach_m32c): New
	arch and mach codes.
	(bfd_m32c_arch): New arch info object.
	(bfd_archures_list): List bfd_m32c_arch.
	* bfd-in2.h: Regenerated.
	* config.bfd: Add case for the m32c.
	* configure.in: Add case for the m32c.
	* configure: Regenerated.
	* cpu-m32c.c, elf32-m32c.c: New files.
	* libbfd.h: Regenerated.
	* targets.c (bfd_elf32_m32c_vec): Declare.
	(_bfd_target_vector): List bfd_elf32_m32c_vec.

binutils/ChangeLog:
2005-07-14  Jim Blandy  <jimb@@redhat.com>

	* readelf.c: #include "elf/m32c.h"
	(guess_is_rela, dump_relocations, get_machine_name): Add cases for
	EM_M32C.
	* Makefile.am (readelf.o): Update dependencies.
	* Makefile.in: Regenerated.

cpu/ChangeLog:
2005-07-14  Jim Blandy  <jimb@@redhat.com>

	* m32c.cpu, m32c.opc: Machine description for the Renesas M32C.

gas/ChangeLog:
2005-07-14  Jim Blandy  <jimb@@redhat.com>

	Add support for the Renesas M32C.
	* Makefile.am (CPU_TYPES): List m32c.
	(TARGET_CPU_CFILES): List config/tc-m32c.c.
	(TARGET_CPU_HFILES): List config/tc-m32c.h.
	* configure.in: Add case for m32c.
	* configure.tgt: Add cases for m32c and m32c-*-elf.
	* configure: Regenerated.
	* config/tc-m32c.c, config/tc-m32c.h: New files.
	* doc/Makefile.am (CPU_DOCS): Add c-m32c.texi.
	* doc/Makefile.in: Regenerated.
	* doc/all.texi: Set M32C.
	* doc/as.texinfo: Add text for the M32C-specific options and line
	comment characters, and refer to c-m32c.texi.
	* doc/c-m32c.texi: New file.

include/ChangeLog:
2005-07-14  Jim Blandy  <jimb@@redhat.com>

	* dis-asm.h (print_insn_m32c): New declaration.

include/elf/ChangeLog:
2005-07-14  Jim Blandy  <jimb@@redhat.com>

	Add support for Renesas M32C and M16C.
	* common.h (EM_M32C): New machine number.
	* m32c.h: New file.

ld/ChangeLog:
2005-07-14  Jim Blandy  <jimb@@redhat.com>

	Add support for the Renesas M32C and M16C.
	* Makefile.am (ALL_EMULATIONS): Add eelf32m32c.o.
	(eelf32m32c.c): New target.
	* Makefile.in: Regenerated.
	* configure.tgt: Add case for m32c-*-elf.
	* emulparams/elf32m32c.sh: New file.

opcodes/ChangeLog:
2005-07-14  Jim Blandy  <jimb@@redhat.com>

	Add support for the Renesas M32C and M16C.
	* m32c-asm.c, m32c-desc.c, m32c-dis.c, m32c-ibld.c, m32c-opc.c: New.
	* m32c-desc.h, m32c-opc.h: New.
	* Makefile.am (HFILES): List m32c-desc.h and m32c-opc.h.
	(CFILES): List m32c-asm.c, m32c-desc.c, m32c-dis.c, m32c-ibld.c,
	m32c-opc.c.
	(ALL_MACHINES): List m32c-asm.lo, m32c-desc.lo, m32c-dis.lo,
	m32c-ibld.lo, m32c-opc.lo.
	(CLEANFILES): List stamp-m32c.
	(M32C_DEPS): List stamp-m32c, if CGEN_MAINT.
	(CGEN_CPUS): Add m32c.
	(m32c-asm.c, m32c-desc.c, m32c-dis.c, m32c-ibld.c, m32c-opc.c)
	(m32c-desc.h, m32c-opc.h): Depend on M32C_DEPS.
	(m32c_opc_h): New variable.
	(stamp-m32c, m32c-asm.lo, m32c-desc.lo, m32c-dis.lo, m32c-ibld.lo)
	(m32c-opc.lo): New rules.
	* Makefile.in: Regenerated.
	* configure.in: Add case for bfd_m32c_arch.
	* configure: Regenerated.
	* disassemble.c (ARCH_m32c): New.
	[ARCH_m32c]: #include "m32c-desc.h".
	(disassembler) [ARCH_m32c]: Add case for bfd_arch_m32c.
	(disassemble_init_for_target) [ARCH_m32c]: Same.

	* cgen-ops.h, cgen-types.h: New files.
	* Makefile.am (HFILES): List them.
	* Makefile.in: Regenerated.
@
text
@d1 4
@


1.957
log
@	* bucomm.h: Include <stdarg.h> unconditionally, not only when
	ANSI_PROTOTYPES is defined.  Remove #ifdef logic.
	* dlltool.c: Likewise.
	* dllwrap.c: Likewise.
@
text
@d1 8
@


1.956
log
@Kaveh Ghazi's printf format attribute checking patch.
bfd:
	* elf32-xtensa.c (vsprint_msg): Add format attribute.  Fix
	format bugs.
	* vms.h (_bfd_vms_debug): Add format attribute.
	(_bfd_vms_debug, _bfd_hexdump): Fix typos.

binutils:
	* bucomm.h (report): Add format attribute.
	* dlltool.c (inform): Likewise.
	* dllwrap.c (display, inform, warn): Likewise.
	* objdump.c (objdump_sprintf): Likewise.
	* readelf.c (error, warn): Likewise.  Fix format bugs.

gas:
	* config/tc-tic30.c (debug): Add format attribute.  Fix format
	bugs.

include:
	* dis-asm.h (fprintf_ftype): Add format attribute.

opcodes:
	* arc-dis.c, arm-dis.c, cris-dis.c, crx-dis.c, d10v-dis.c,
	d30v-dis.c, fr30-dis.c, h8300-dis.c, h8500-dis.c, i860-dis.c,
	ia64-dis.c, ip2k-dis.c, m10200-dis.c, m10300-dis.c,
	m88k-dis.c, mcore-dis.c, mips-dis.c, ms1-dis.c, or32-dis.c,
	ppc-dis.c, sh64-dis.c, sparc-dis.c, tic4x-dis.c, tic80-dis.c,
	v850-dis.c: Fix format bugs.
	* ia64-gen.c (fail, warn): Add format attribute.
	* or32-opc.c (debug): Likewise.
@
text
@d1 7
@


1.955
log
@Add check to avoid corrupt input files whose section sizes are greater than
the size of the input file.
@
text
@d1 8
@


1.954
log
@	PR 1004
bfd/
	* elf-bfd.h (struct elf_backend_data): Add get_sec_type_attr.  Delete
	special_sections.
	(_bfd_elf_get_special_section): Declare.
	(bfd_elf_special_section): Update prototype.
	* elf.c (special_sections): Remove unused outer entries.
	(get_special_section): Delete.
	(_bfd_elf_get_special_section): New function.
	(_bfd_elf_get_sec_type_attr): Replace "name" arg with "sec".  Update
	special_sections indexing.
	(_bfd_elf_new_section_hook): Call backend get_sec_type_attr.
	* elf32-arm.c (symbian_special_sections_d): Delete.
	(symbian_special_sections_g, symbian_special_sections_h): Delete.
	(symbian_special_sections_i, symbian_special_sections_f): Delete.
	(symbian_special_sections_p): Delete.
	(elf32_arm_symbian_special_sections): Merge above to here.
	(elf32_arm_symbian_get_sec_type_attr): New function.
	(elf_backend_special_sections): Don't define.
	(elf_backend_get_sec_type_attr): Define.
	* elf32-m32r.c: Similarly to elf32-arm.c.
	* elf32-m68hc11.c: Likewise.
	* elf32-m68hc12.c: Likewise.
	* elf32-mcore.c: Likewise.
	* elf32-sh64.c: Likewise.
	* elf32-v850.c: Likewise.
	* elf32-xtensa.c: Likewise.
	* elf64-alpha.c: Likewise.
	* elf64-hppa.c: Likewise.
	* elf64-ppc.c: Likewise.
	* elf64-sh64.c: Likewise.
	* elfxx-ia64.c: Likewise.
	* elfxx-mips.c: Likewise.
	* elf32-ppc.c: Likewise.
	(bfd_elf_special_section ppc_alt_plt): New.  Use it if .plt loadable.
	* elfxx-mips.h (_bfd_mips_elf_get_sec_type_attr): Declare.
	(_bfd_mips_elf_special_sections, elf_backend_special_sections): Delete.
	(elf_backend_get_sec_type_attr): Define.
	* elfxx-target.h (elf_backend_get_sec_type_attr): Define.
	(elf_backend_special_sections): Don't define.
	(elfNN_bed): Update.

binutils/
	* objcopy.c (copy_object): Use bfd_make_section_with_flags.
	(write_debugging_info): Likewise.
	(setup_section): Use bfd_make_section_anyway_with_flags.
gas/
	* config/obj-elf.c (obj_elf_change_section): Use backend
	get_sec_type_attr.
@
text
@d1 9
@


1.953
log
@	* configure.in (AM_BINUTILS_WARNINGS): Add.
	(BFD_NEED_DECLARATION): Replace with AC_CHECK_DECLS.
	* configure: Regenerate.
	* config.in: Regenerate.
	* objdump.c (NEED_DECLARATION_*): Replace with !HAVE_DECL_*.
	* bucomm.h: (NEED_DECLARATION_*): Ditto.
@
text
@d1 7
@


1.952
log
@	* Makefile.am (check-DEJAGNU): Don't search for expect.
	* Makefile.in: Regenerate.
@
text
@d1 9
@


1.951
log
@	* Makefile.am (EXPECT): Set to expect.
	(RUNTEST): Likewise, set to runtest.
	* Makefile.in: Regenerate.
@
text
@d3 5
@


1.950
log
@	* elf/external.h (GRP_ENTRY_SIZE): Define.

	* readelf.c (CHECK_ENTSIZE_VALUES, CHECK_ENTSIZE): Define.
	(process_section_headers): Use it.
	(process_relocs): Don't crash if symsec is not SHT_SYMTAB
	or SHT_DYNSYM.
	(process_version_sections): Use sizeof (Elf_External_Versym)
	instead of sh_entsize.
@
text
@d1 6
@


1.949
log
@rename.c (simple_copy): Only define if it is going to be used.
  (smart_rename): Mark the preserve_dates parameter as possibly	being unused.

resres.c (write_res_data): Prevent a potential compile time warning by casting
  the return value from fwrite.
@
text
@d1 9
@


1.948
log
@2005-06-14  H.J. Lu  <hongjiu.lu@@intel.com>

	PR 995
	* ar.c (BUFSIZE): Moved to ...
	* bucomm.h (BUFSIZE): Here.

	* bucomm.c: Include <assert.h>.
	(bfd_get_archive_filename): New.
	* bucomm.h (bfd_get_archive_filename): New.

	* objcopy.c (copy_unknown_object): New.
	(copy_object): Use bfd_get_archive_filename when reporting input
	error. Don't call fatal on unknown arch.
	(copy_archive): Call copy_unknown_object on unknown format or
	arch.
@
text
@d1 9
@


1.947
log
@	* readelf.c (cmalloc, xcmalloc, xcrealloc): New functions.
	(get_data): Add nmemb argument.  Return NULL if nmemb * size
	overflows.  If var == NULL, allocate one extra byte and
	clear it.
	(slurp_rela_relocs, slurp_rel_relocs, get_32bit_program_headers,
	get_64bit_program_headers, get_program_headers,
	get_32bit_section_headers, get_64bit_section_headers,
	get_32bit_elf_symbols, get_64bit_elf_symbols, process_section_headers,
	process_section_groups, process_relocs, slurp_ia64_unwind_table,
	ia64_process_unwind, slurp_hppa_unwind_table, hppa_process_unwind,
	get_32bit_dynamic_section, get_64bit_dynamic_section,
	process_dynamic_section, process_version_sections, get_dynamic_data,
	process_symbol_table, dump_section, load_debug_str, load_debug_loc,
	load_debug_range, read_and_display_attr_value, process_debug_info,
	get_debug_info, frame_need_space, display_debug_frames,
	display_debug_section, process_mips_specific, process_gnu_liblist,
	process_corefile_note_segment): Adjust get_data callers.  Use
	cmalloc, xcmalloc and xcrealloc instead of {m,xm,xre}alloc where
	passed size is a product of 2 numbers.

	* readelf.c (print_mode): Fix comment typo.
	(slurp_rela_relocs, slurp_rel_relocs): Fix memory leaks.
	(dump_relocations): Fix a thinko in check for invalid st_name.
	(process_program_headers): Don't crash if string_table is NULL.
	(process_section_headers): Don't crash if e_shstrndx is invalid.
	Ensure string_table_length is 0 if string_table == NULL.
	Don't return just because string_table is NULL.
	(process_section_groups): Don't crash if symtab's sh_link or
	symbol's st_name is invalid.  Fix a memory leak.  Fix check for
	invalid section number entry.
	(process_relocs): Don't crash if relocation or symbol section's
	sh_link is invalid.
	(slurp_ia64_unwind_table, slurp_hppa_unwind_table): Don't crash if
	relocation section's sh_info is invalid.
	(ia64_process_unwind, hppa_process_unwind): Don't crash if symbol
	table's sh_link is invalid.
	(process_version_sections): Don't crash on version or symbol
	section's sh_link is invalid.  Don't crash if symbol's st_shndx
	is invalid.
	(process_symbol_table): Don't crash if string table is corrupt
	or symbol's st_name, st_shndx, vna_name or vda_name is invalid.
	(debug_apply_rela_addends): Don't crash if relocation section's
	sh_info or sh_link is invalid.
	(display_debug_loc): Warn for unterminated .debug_loc section
	or start offsets not within .debug_loc section boundaries.
	(process_gnu_liblist): Don't crash if liblist section's sh_link
	or entry's l_name is invalid.
@
text
@d1 16
@


1.946
log
@	* objdump.c (disassemble_bytes): Don't crash if q->howto == NULL.
	If q->howto->name == NULL, print q->howto->type as number instead.
	(dump_reloc_set): Likewise.
@
text
@d1 50
@


1.945
log
@2005-06-07  Eric Christopher  <echristo@@redhat.com>

        * Makefile.am (eelf32ms1.c): Use tab.
        * Makefile.in: Regenerate.

2005-06-07  Eric Christopher  <echristo@@redhat.com>

        * readelf.c (guess_is_rela): Support ms1.
        (dump_relocations): Ditto.
        (get_machine_name): Ditto.
@
text
@d1 6
@


1.944
log
@	* Makefile.am (readelf.o): Depend on ms1.h.

	* Makefile.in: Regenerate.

	* readelf.c: Include ms1.h.
@
text
@d1 6
@


1.943
log
@bfd/

2005-06-06  H.J. Lu  <hongjiu.lu@@intel.com>

	PR 990
	* bfd.c (bfd_find_line): New.

	* dwarf2.c (comp_unit): Add variable_table.
	(funcinfo): Add file, line, and sec.
	(varinfo): New.
	(lookup_symbol_in_function_table): New.
	(lookup_symbol_in_variable_table): New.
	(scan_unit_for_functions): Renamed to ...
	(scan_unit_for_symbols): This. Handle DW_TAG_entry_point and
	DW_TAG_variable.
	(comp_unit_find_nearest_line): Updated.
	(comp_unit_find_line): New.
	(_bfd_dwarf2_find_line): New.

	* elf-bfd.h (_bfd_elf_find_line): New.
	(_bfd_generic_find_line): New. Defined.

	* elf.c (_bfd_elf_find_line): New.

	* libbfd-in.h (_bfd_dwarf2_find_line): New.
	(_bfd_generic_find_line): New.

	* bfd-in2.h: Regenerated.
	* libbfd.h: Likewise.

	* libbfd.c (_bfd_generic_find_line): New.

	* targets.c (BFD_JUMP_TABLE_SYMBOLS): Initialize _bfd_find_line
	with _bfd_generic_find_line.
	(bfd_target): Add _bfd_find_line.

binutils/

2005-06-06  H.J. Lu  <hongjiu.lu@@intel.com>

	PR 990
	* nm.c (print_symbol): Call bfd_find_line before
	bfd_find_nearest_line.
@
text
@d1 10
@


1.942
log
@	* NEWS: Mention new powerpc ld support.
@
text
@d1 6
@


1.941
log
@Patch from Steve Ellcey for hpux build failure.
* configure.in: Check for getc_unlocked prototype.
* configure: Regenerate.
* config.in: Regenerate.
* strings.c (get_char): Only call getc_unlocked if we have seen a
prototype.
@
text
@d1 4
d48 1
a48 1
	
d51 1
a51 1
	
@


1.940
log
@* configure.in (ALL_LINGUAS): Add zh_TW
* configure: Regenerate.
* po/zh_TW.po: New Chinese (traditional) translation.
@
text
@d1 8
@


1.939
log
@        * readelf.c (dump_relocations): Special case R_ALPHA_LITUSE.
@
text
@d1 6
@


1.938
log
@        * readelf.c (get_alpha_dynamic_type): New.
        (get_dynamic_type): Call it.
@
text
@d1 4
@


1.937
log
@2005-05-24  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (process_section_groups): Report group section
	index. Check if the section member index is valid.
@
text
@d1 5
@


1.936
log
@Approved by nickc@@redhat.com:

	2005-05-23  Fred Fish  <fnf@@specifixinc.com>
	* addr2line.c (unwind_inlines): New flag for 'i' option.
	(usage): Document '-i' option.
	(long_options): Recognize '--inlines'.
	(translate_addresses): Loop, calling bfd_find_inliner_info as
	necessary and printing multiple output lines.
	(main): Handle 'i' option.
	* doc/binutils.texi (addr2line): Document '-i' option.
	* NEWS: Mention new addr2line '-i' option.
@
text
@d1 5
@


1.935
log
@(fetch_indirect_string): Display a warning message when a corrupt
  DW_FORM_strp value is encountered.

(process_debug_info): Mention that the compilation unit offset is being
  displayed in hexadecimal.

(display_debug_lines): Fix typo in name of .debug_line section.
@
text
@d1 11
@


1.934
log
@	* bfd/Makefile.am, binutils/Makefile.am, etc/Makefile.in
	* gas/Makefile.am: Have 'all' depend on 'info'.
	* ld/Makefile.am: Have 'all' depend on 'info' and 'ld.1'.
	* bfd/Makefile.in, binutils/Makefile.in, gas/Makefile.in
	* ld/Makefile.in: Regenerate.
@
text
@d1 10
@


1.933
log
@binutils/ChangeLog
	* readelf.c (read_and_display_attr_value): Handle a DW_AT_encoding
	value of DW_ATE_GNU_decimal_float.

include/elf/ChangeLog
	* dwarf2.h (enum dwarf_type): Assign DW_ATE_GNU_decimal_float from
	the user-defined encoding space pending inclusion in the standard.
@
text
@d1 5
d18 1
a18 1
        * deflex.l: Ignore CRs
@


1.932
log
@binutils/
	* doc/Makefile.am (config.texi): Don't use $<.
	* doc/Makefile.in: Regenerated.
ld/
	* Makefile.am (ldver.texi): Don't use $<.
	* Makefile.in: Regenerated.
gas/
	* doc/Makefile.am (gasver.texi): Don't use $<.
	* doc/Makefile.in: Regenerated.
@
text
@d1 5
@


1.931
log
@Ignore CRs
@
text
@d1 5
@


1.930
log
@./
	* ylwrap: Import from Automake 1.9.5.
binutils/
	* acinclude.m4: Remove obsolete code.
	* configure.in: Update AC_PREREQ.
	* doc/Makefile.am (binutils_TEXINFOS): Define.
	(config.texi): Depend on distributed files instead of built
	files.
	(binutils.dvi, binutils.info): Remove unnecessary rules.
	(DISTCLEANFILES): Remove.
	(install-data-local): Renamed from install.
	(info-local): Renamed from info.
	* Makefile.in, aclocal.m4, config.in, configure,
	doc/Makefile.in: Regenerated.
gas/
	* Makefile.am (m68k-parse.c, itbl-parse.c): Update ylwrap
	invocation.
	* Makefile.in: Regenerated.
ld/
	* Makefile.am (AM_MAKEINFOFLAGS): Define.
	(TEXI2DVI): Define.
	(ldver.texi): Depend on distributed files instead of built files.
	(ld.info): Include $(srcdir) in the rule target.  Remove actions.
	(ld.dvi): Remove actions.
	(MAINTAINERCLEANFILES): Add configdoc.texi.
	(CONFIG_STATUS_DEPENDENCIES): Add bfd/configure.in.
	(install-data-local): Renamed from install.
	(Makefile): Remove explicit dependency.
	* acinclude.m4: Remove obsolete code.
	* configure.in: Update AC_PREREQ.  Remove extra $CONFIG_SHELL.
	* Makefile.in, aclocal.m4, config.in, configure: Regenerated.
gdb/
	* Makefile.in (.y.c): Update ylwrap invocation.
@
text
@d1 4
@


1.929
log
@include/elf/
	* ppc.h (DT_PPC_GOT): Rename from DT_PPC_GLINK.
bfd/
	* elf32-ppc.c (ppc_elf_size_dynamic_sections): Set DT_PPC_GOT,
	not DT_PPC_GLINK.
	(ppc_elf_finish_dynamic_sections): Likewise.
binutils/
	* readelf.c (get_ppc_dynamic_type): Display DT_PPC_GOT, not
	DT_PPC_GLINK.
@
text
@d1 14
@


1.928
log
@	2005-05-13  Fred Fish  <fnf@@specifixinc.com>
	* readelf.c: Fix a couple of obvious comment typos,
	'debug_str' -> 'debug_ranges' and proecess' -> 'process'.
@
text
@d1 5
@


1.927
log
@2005-05-13  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (dump_ia64_unwind): Get stamp with proper size.
@
text
@d1 5
@


1.926
log
@If pointer_size has not been found then assume that it is 4 in order to
prevent a seg fault when process_extend_line_op attempts to read the line
data.
@
text
@d1 4
@


1.925
log
@	* readelf.c (get_ppc_dynamic_type): New function for DT_PPC_GLINK.
	(get_dynamic_type): Call the above.
@
text
@d1 6
@


1.924
log
@Update FSF address
@
text
@d1 5
d85 1
a85 1
	
d192 1
a192 1
	
d218 1
a218 1
	* MAINTAINERS: Add myself as MSP430 maintainer. 
d254 1
a254 1
            Nick Clifton  <nickc@@redhat.com>
@


1.923
log
@binutils/
2005-05-06  Jan Beulich  <jbeulich@@novell.com>

	* objcopy.c (copy_file): Don't delete output upon error here.
	(copy_main): Delete output upon error.
@
text
@d1 16
@


1.922
log
@	* dlltool.c (dtab): Remove empty function.
	(process_duplicates): Remove calls to dtab().
@
text
@d1 5
@


1.921
log
@* doc/binutils.texi (strip, objcopy): Clarify the description of
the "--strip-debug" option.  Fix a typo.
@
text
@d1 5
@


1.920
log
@2005-04-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* bucomm.c: Undo the last change.
	* bucomm.h: Likewise.
@
text
@d1 5
@


1.919
log
@* more static'ing.

	* syslex.l (word, number, unit): Remove unused variables.
	* nlmheader.y (keyword_tokens): Make static.
	* coffdump.c (dump_coff_symbol, coff_dump): Make static.
	* coffgrok.c (lofile, last_function_symbol, last_function_type,
	last_struct, last_enum, cur_sfile): Make variables static.
	* sysdump.c (getCHARS, fillup, getBARRAY, getINT, getBITS,
	sysroff_swap_tr_in, sysroff_print_tr_out): Make static.
	* sysinfo.y (writecode, it, code, repeat, oldrepeat, name, rdepth,
	names, pnames): Likewise.
@
text
@d1 5
@


1.918
log
@	* ar.c (mri_mode): Make static.
	* arsup.c (obfd, real_name, outfile): Likewise.
	* binemul.c (ar_emul_create): Remove unused function.
	(ar_emul_default_create): Likewise.
	* binemul.h (ar_emul_create): Remove declaration.
	(ar_emul_default_create): Likewise.
	(struct bin_emulation_xfer_struct): Remove ar_create member.
	* bucomm.c (report): Make static.
	* bucomm.h (report): Remove declaration.
	* cxxfilt.c (mbuffer): Make static.
	(main): Use unsigned ints for some loop control variables.
	* readelf.c: Make many global variables static.
	* size.c (berkeley_format): Make static.
	(long_options): Likewise.
	* emul_aix.c (bin_aix_emulation): Remove ar_emul_default_create
	structure initialiser.
	(bin_aix5_emulation): Likewise.
	* emul_vanilla.c (bin_vanilla_emulation): Likewise.
@
text
@d3 12
@


1.917
log
@	* syslex.l: Adjust top-of-file comment: this file is part of GNU
	binutils, not GNU ld.
@
text
@d1 21
@


1.916
log
@PR872
* objcopy.c (copy_archive): Initialise 'obfd' field of new name_list structure.
@
text
@d1 5
@


1.915
log
@* objcopy.c (copy_usage): Fix description of -K switch.
* doc/binutils.texi (strip, objcopy): Fix description of -K switch.
@
text
@d3 4
d8 1
@


1.914
log
@	* readelf.c (display_debug_frames): Use data factor for
	DW_CFA_def_cfa_sf and DW_CFA_def_cfa_offset_sf.
@
text
@d1 6
@


1.913
log
@2005-04-19  H.J. Lu  <hongjiu.lu@@intel.com>

	* objdump.c (dump_section_header): Skip linker created section.
@
text
@d1 5
@


1.912
log
@2005-04-17  H.J. Lu  <hongjiu.lu@@intel.com>

	* objdump.c (dump_section_header): Support SEC_GROUP.
@
text
@d1 4
@


1.911
log
@(debug_apply_rela_addends): Remove redundant %s from printf string.
@
text
@d1 4
@


1.910
log
@Issue an error message when attmepting to copy an empty input file.
@
text
@d1 5
@


1.909
log
@bfd/
	* Makefile.am (NO_WERROR): Define.
	* warning.m4: New file
	* acinclude.m4: Include warning.m4.
	* configure.in: Invoke AM_BINUTILS_WARNINGS.
	* Makefile.in: Regenerate.
	* configure: Regenerate.
bfd/doc/
	* Makefile.in: Regenerate.
binutils/
	* Makefile.am (NO_WERROR): Define.  Use instead of -Wno-error.
	* configure.in: Include ../bfd/warning.m4 contents.
	* Makefile.in: Regenerate.
	* configure: Regenerate.
	* doc/Makefile.in: Regenerate.
gas/
	* Makefile.am (NO_WERROR): Define.  Use instead of -Wno-error.
	* acinclude.m4: Include ../bfd/warning.m4.
	* configure.in: Invoke AM_BINUTILS_WARNINGS.
	* Makefile.in: Regenerate.
	* configure: Regenerate.
	* doc/Makefile.in: Regenerate.
gprof/
	* Makefile.am (NO_WERROR): Define.
	* acinclude.m4: Include ../bfd/warning.m4.
	* configure.in: Invoke AM_BINUTILS_WARNINGS.
	* Makefile.in: Regenerate.
	* aclocal.m4: Regenerate.
	* configure: Regenerate.
ld/
	* Makefile.am (NO_WERROR): Define.  Use instead of -Wno-error.
	* configure.in: Include ../bfd/warning.m4 contents.
	* Makefile.in: Regenerate.
	* configure: Regenerate.
opcodes/
	* Makefile.am (NO_WERROR): Define.
	* configure.in: Invoke AM_BINUTILS_WARNINGS.
	* Makefile.in: Regenerate.
	* aclocal.m4: Regenerate.
	* configure: Regenerate.
@
text
@d1 5
@


1.908
log
@bfd/
	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.
	* aclocal.m4: Regenerate.
	* libcoff.h: Regenerate.
bfd/doc/
	* Makefile.in: Regenerate.
binutils/
	* Makefile.am: Run "make dep-am".
	(syslex.o, sysinfo.o, arparse.o, arlex.o): Add -Wno-error to command.
	(sysroff.o, defparse.o, deflex.o): Likewise.
	(nlmheader.o, rcparse.o, rclex.o): Likewise.
	* Makefile.in: Regenerate.
	* aclocal.m4: Regenerate.
	* config.in: Regenerate.
	* configure: Regenerate.
gas/
	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.
ld/
	* Makefile.am: Run "make dep-am".
	(ldgram.o, ldlex.o, deffilep.o): Add -Wno-error to command.
	* Makefile.in: Regenerate.
	* config.in: Regenerate.
@
text
@d1 8
@


1.907
log
@binutils/
2005-04-11  Jan Beulich  <jbeulich@@novell.com>

	* MAINTAINERS: Add myself as ix86 Intel mode maintainer.
@
text
@d1 11
@


1.906
log
@2005-04-06  Nick Clifton  <nickc@@redhat.com>
	    H.J. Lu  <hongjiu.lu@@intel.com>

	* po/rw.po: New translation: Kinyarwanda.
	* configure.in (ALL_LINGUAS): Add rw.
	* configure: Regenerate.
@
text
@d1 4
@


1.905
log
@* readelf.c (debug_apply_rela_addends): Reorder r_info as
necessary for 64-bit MIPS.
@
text
@d1 7
@


1.904
log
@* doc/binutils.texi (readelf): Remove a duplicate paragraph.
@
text
@d3 5
@


1.903
log
@Add a check to see if the section for the symbol is chosen using
process_section_p.
@
text
@d1 4
@


1.902
log
@2005-04-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* NEWS: Mention new readelf options, "-N/--full-section-name"
	and "-g/--section-groups".

	* doc/binutils.texi: Document new readelf options,
	"-N/--full-section-name" and "-g/--section-groups".
@
text
@d1 6
@


1.901
log
@2005-03-31  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (do_full_section_name): New.
	(options): Add "--full-section-name"/'N'.
	(usage): Add -N/--full-section-name.
	(parse_args): Handle 'N'.
	(process_section_headers): Print out the full section name if
	do_full_section_name isn't 0.
@
text
@d1 8
@


1.900
log
@Add a check for <unistd.h> providing a prototype for getopt() which is compatible
with the one in	include/getopt.h.  If so then define HAVE_DECL_GETOPT.
@
text
@d1 9
@


1.899
log
@Add VAX specific disassembler option -Mentry: to specify a function entry
address, and add code to test this new option.
@
text
@d1 11
@


1.898
log
@2005-03-29  Anil Paranjpe  <anilp1@@kpitcummins.com>

       * MAINTAINERS: Add myself as H8300 maintainer.
@
text
@d1 6
@


1.897
log
@	* objdump.c (disassemble_bytes): Remove cast.
@
text
@d1 4
@


1.896
log
@	* BRANCHES: Add binutils-csl-arm-2005q1-branch and
	binutils-2_16-branch.
@
text
@d1 4
@


1.895
log
@* MAINTAINERS: Add myself as M88k maintainer.
@
text
@d1 5
@


1.894
log
@	* winduni.c (unicode_from_ascii): Don't declare variables
	's' and 'w' if _WIN32.  Use MultiByteToWideChar to set the unicode
	string len.
@
text
@d1 4
@


1.893
log
@Add Dmitry Diky to maintainers list as msp430 maintainer
@
text
@d1 6
@


1.892
log
@Update French translation
@
text
@d1 4
@


1.891
log
@Add Daniel Jacobwitz to the blanket write privileges list.
@
text
@d1 4
@


1.890
log
@	* elf32-arm.c (elf32_arm_modify_segment_map): New function.
	(elf32_arm_additional_program_headers): Likewise.
	(elf_backend_modify_segment_map): Define.
	(elf_backend_additional_program_headers): Likewise.
	(elf32_arm_symbian_modify_segment_map): Use
	elf32_arm_modify_segment_map.

	* binutils/readelf.c (get_arm_segment_type): New function.
	(get_segment_type): Use it.

	* arm.h (PT_ARM_EXIDX): Define.
@
text
@d1 5
@


1.889
log
@2005-03-18  Paul Brook  <paul@@codesourcery.com>

	* objdump.c (objdump_print_addr): Avoid uninitialized warning.
@
text
@d1 7
@


1.888
log
@
	* MAINTAINERS: Remove self as maintainer of x86 intel
	mode.
@
text
@d1 4
@


1.887
log
@Rename switch to enable/disable -Werror to --enable-werror/--disable-werror
for compatibility with gcc.
@
text
@d1 5
@


1.886
log
@Enable -Werror by default
@
text
@d4 1
a4 1
	* configure.in (error-on-warning): New switch: Add -Werror to the
d6 1
a6 1
	--disable-error-on-warning.
@


1.885
log
@Add new switch --globalize-symbol to convert local symbols into globals.
@
text
@d1 8
@


1.884
log
@Commit new Spanish translation.
@
text
@d1 17
@


1.883
log
@Commit new French translation.
@
text
@d3 2
@


1.882
log
@	* po/tr.po: Commit new Turkish translation.
@
text
@d1 4
@


1.881
log
@Updated French translation
@
text
@d1 4
@


1.880
log
@Import updated Russian translation from Translation Project's website.
@
text
@d1 4
@


1.879
log
@Add Romanian translation
@
text
@d4 1
d6 2
a7 1
	* configure: Regenerate.
@


1.878
log
@Regenerate .pot files
@
text
@d1 6
@


1.878.2.1
log
@Add Romanian translation
@
text
@a0 6
2005-03-10  Nick Clifton  <nickc@@redhat.com>

	* configure.in (ALL_LINGUAS): Add Romanian lingua "ro".
	* po/ro.po: New file.
	* configure: Regenerate.

@


1.878.2.2
log
@Updated Russian translation
@
text
@d4 1
a5 3
	* po/ro.po: New file.

	* po/ru.po: Updated file.
@


1.878.2.3
log
@Updated French translation
@
text
@a0 4
2005-03-11  Nick Clifton  <nickc@@redhat.com>

	* po/fr.po: Updated French translation.

@


1.878.2.4
log
@	* po/tr.po: Commit new Turkish translation.
@
text
@a0 4
2005-03-14  Alan Modra  <amodra@@bigpond.net.au>

	* po/tr.po: Commit new Turkish translation.

@


1.878.2.5
log
@Commit new French translation.
@
text
@a0 4
2005-03-15  Alan Modra  <amodra@@bigpond.net.au>

	* po/fr.po: Commit new French translation.

@


1.878.2.6
log
@Commit new Spanish translation.
@
text
@a2 2
	* po/es.po: Commit new Spanish translation.

@


1.878.2.7
log
@	* elf32-arm.c (elf32_arm_modify_segment_map): New function.
	(elf32_arm_additional_program_headers): Likewise.
	(elf_backend_modify_segment_map): Define.
	(elf_backend_additional_program_headers): Likewise.
	(elf32_arm_symbian_modify_segment_map): Use
	elf32_arm_modify_segment_map.

	* binutils/readelf.c (get_arm_segment_type): New function.
	(get_segment_type): Use it.

	* arm.h (PT_ARM_EXIDX): Define.
@
text
@a0 7
2005-03-17  Paul Brook <paul@@codesourcery.com>
	    Dan Jacobowitz <dan@@codesourcery.com>
	    Mark Mitchell  <mark@@codesourcery.com>

	* binutils/readelf.c (get_arm_segment_type): New function.
	(get_segment_type): Use it.

@


1.878.2.8
log
@Update the French translation
@
text
@a0 4
2005-03-23  Nick Clifton  <nickc@@redhat.com>

	* po/fr.po: Updated translation.

@


1.878.2.9
log
@PR binutils/813
Add a check to see if the section for the symbol is chosen using
process_section_p.
@
text
@a0 6
2005-04-04  Ramana Radhakrishnan  <ramana.radhakrishnan@@codito.com>

	PR binutils/813
	* objdump.c (dump_symbols): Add a check to see if the section for
	the symbol is chosen using process_section_p.

@


1.878.2.10
log
@* doc/binutils.texi (readelf): Remove a duplicate paragraph.
@
text
@a0 4
2005-04-04  Maciej W. Rozycki  <macro@@linux-mips.org>

	* doc/binutils.texi (readelf): Remove a duplicate paragraph.

@


1.878.2.11
log
@* readelf.c (debug_apply_rela_addends): Reorder r_info as
necessary for 64-bit MIPS.
@
text
@a2 5
	* readelf.c (debug_apply_rela_addends): Reorder r_info as
	necessary for 64-bit MIPS.

2005-04-04  Maciej W. Rozycki  <macro@@linux-mips.org>

@


1.878.2.12
log
@	* NEWS: Mention unsupported targets and new readelf option.
@
text
@a0 4
2005-04-20  Alan Modra  <amodra@@bigpond.net.au>

	* NEWS: Mention unsupported targets and new readelf option.

@


1.878.2.13
log
@2005-04-20  H.J. Lu  <hongjiu.lu@@intel.com>

	* doc/binutils.texi: Document new readelf option,
	"-g/--section-groups".
@
text
@a0 5
2005-04-20  H.J. Lu  <hongjiu.lu@@intel.com>

	* doc/binutils.texi: Document new readelf option,
	"-g/--section-groups".

@


1.878.2.14
log
@	* readelf.c (display_debug_frames): Use data factor for
	DW_CFA_def_cfa_sf and DW_CFA_def_cfa_offset_sf.
@
text
@a0 5
2005-04-20  Daniel Jacobowitz  <dan@@codesourcery.com>

	* readelf.c (display_debug_frames): Use data factor for
	DW_CFA_def_cfa_sf and DW_CFA_def_cfa_offset_sf.

@


1.877
log
@bfd/
2005-03-02  Jan Beulich  <jbeulich@@novell.com>

	* Makefile.am: Add dependency of cache.o on libiberty.h.
	* cache.c: Include libiberty.h.
	(bfd_open_file): Use unlink_if_ordinary instead of unlink.

binutils/
2005-03-02  Jan Beulich  <jbeulich@@novell.com>

	* ar.c (remove_output): Use unlink_if_ordinary instead of unlink.
	* objcopy.c (copy_file): Likewise.
	(strip_main): Likewise.

gas/
2005-03-02  Jan Beulich  <jbeulich@@novell.com>

	* as.c (main): Use unlink_if_ordinary instead of unlink.
	* messages.c (as_fatal): Likewise.

ld/
2005-03-02  Jan Beulich  <jbeulich@@novell.com>

	* ldmain.c (remove_output): Use unlink_if_ordinary instead of unlink.
	* pe-dll.c (pe_dll_generate_implib): Likewise.
@
text
@d1 4
@


1.876
log
@objdump.c: Fix coding for DISASSEMBLER_NEEDS_RELOC:
(struct objdump_disasm_info): Add 'reloc' field.
(disassemble_bytes): Fix check for when an insn has a reloc associated with it.
Improve comment explaining why the use of octets is wrong.  Set the 'reloc'
field in objdump_disasm_info structure.
(objdump_print_addr): Use new 'reloc' field to lookup the correct address for
the symbol associated with the current instruction's relocation.
(disassemble_info): Initialise 'reloc' field.

gas/arm/inst.d: Allow for ARM ports which decode the reloc associated with
branches and so show the exact symbolic destination address rather than an
offset from the start of the section.

gas/arm/pic.d: Likewise.
@
text
@d1 6
@


1.875
log
@	* readelf.c (get_file_type, get_machine_name, get_osabi_name,
	get_segment_type, get_section_type_name, get_elf_class,
	get_data_encoding, get_group_flags, dynamic_section_mips_val,
	get_symbol_binding, get_symbol_type, get_TAG_name, get_FORM_name,
	get_AT_name, process_mips_specific, process_gnu_liblist,
	get_note_type, get_netbsd_elfcore_note_type): Use snprintf instead of
	sprintf where needed.
	(get_dynamic_type): Likewise.  Increase buff to 64 bytes.
	(get_elf_section_flags): Increase buff to 33 bytes.  Avoid
	using strcat.
	(get_dynamic_flags): Renamed to...
	(print_dynamic_flags): ... this.  Print the flags to stdout instead
	of returning them as string.
	(process_dynamic_section): Adjust caller.
@
text
@d1 14
@


1.874
log
@2005-02-25  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (display_debug_ranges): Print out offset for end of
	list.
@
text
@d1 17
@


1.873
log
@	* dlltool.c: Warning fixes.
	* objdump.c: Likewise.
@
text
@d1 5
@


1.872
log
@	* Makefile.am (syslex.o, sysinfo.o): Pass AM_CFLAGS to compiler.
	(syslex.o, sysinfo.o, dlltool.o, rescoff.o): Remove duplicate
	dependencies.  Run "make dep-am".
	* nlmconv.c: Warning fixes.
	* readelf.c: Likewise.
	* srconv.c: Likewise.
	* sysdump.c: Likewise.
	* sysinfo.y: Likewise.
	* syslex.l: Likewise.  Use yyleng instead of strlen, memcpy instead
	of strcpy.
	* Makefile.in: Regenerate.
@
text
@d1 5
@


1.871
log
@bfd/

2005-02-21  H.J. Lu  <hongjiu.lu@@intel.com>

	* coffcode.h (sec_to_styp_flags): Replaced SEC_CLINK with
	SEC_TIC54X_CLINK. Replace SEC_BLOCK with SEC_TIC54X_BLOCK.
	Replace SEC_SHARED with SEC_COFF_SHARED.
	(styp_to_sec_flags): Likewise.

	* elfxx-target.h (TARGET_BIG_SYM): Remove SEC_ARCH_BIT_0.
	(TARGET_LITTLE_SYM): Likewise.

	* section.c (SEC_ARCH_BIT_0): Removed.
	(SEC_LINK_DUPLICATES_SAME_CONTENTS): Defined with
	SEC_LINK_DUPLICATES_ONE_ONLY and SEC_LINK_DUPLICATES_SAME_SIZE.
	(SEC_SHARED): Renamed to ...
	(SEC_COFF_SHARED): This.
	(SEC_BLOCK): Renamed to ...
	(SEC_TIC54X_BLOCK): This.
	(SEC_CLINK): Renamed to ...
	(SEC_TIC54X_CLINK): This.
	(SEC_XXX): Rearranged. Move SEC_COFF_SHARED_LIBRARY,
	SEC_COFF_SHARED, SEC_TIC54X_BLOCK and SEC_TIC54X_CLINK to the
	end.
	* bfd-in2.h: Regenerated.

binutils/

2005-02-21  H.J. Lu  <hongjiu.lu@@intel.com>

	* objcopy.c (parse_flags): Replace SEC_SHARED with
	SEC_COFF_SHARED.

	* objdump.c (dump_section_header): Dump SEC_TIC54X_BLOCK and
	SEC_TIC54X_CLINK for TI c54x only. Remove SEC_ARCH_BIT_0. Dump
	SEC_COFF_SHARED for COFF only.

gas/

2005-02-21  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/obj-coff.c (obj_coff_section): Replace SEC_SHARED with
	SEC_COFF_SHARED.

	* config/tc-tic54x.c (tic54x_bss): Replace SEC_BLOCK with
	SEC_TIC54X_BLOCK.
	(demand_empty_rest_of_line): Likewise.
	(tic54x_sblock): Likewise.
	(tic54x_clink): Replace with SEC_CLINK with SEC_TIC54X_CLINK.

ld/

2005-02-21  H.J. Lu  <hongjiu.lu@@intel.com>

	* ldlang.c (lang_add_section): Check SEC_TIC54X_BLOCK for TI
	tic54x input only.
	(lang_size_sections_1): Check SEC_COFF_SHARED_LIBRARY for COFF
	and ECOFF output only.
@
text
@d1 14
@


1.870
log
@	* Makefile.am: Run "make dep-am"
	* Makefile.in: Regenerate.
	* doc/Makefile.in: Regenerate.
@
text
@d1 9
@


1.869
log
@	* readelf.c (BYTE_GET8): Delete.  Replace uses with BYTE_GET.
	(byte_get_little_endian): Don't handle size of -8.
	(byte_get_signed, byte_get_big_endian): Likewise.
	(print_dec_vma, print_hex_vma): New functions.
	(print_vma): Use them.  Return chars output.
	(get_dynamic_data): Return a bfd_vma array.  Add ent_size parm.
	(process_symbol_table): Handle alpha and s390 .hash.
@
text
@d3 6
@


1.868
log
@2005-02-18  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (display_debug_loc): Print out offset for end of
	list.
@
text
@d1 10
@


1.867
log
@	* Makefile.am (TOOL_PROGS): Add objdump.
	* Makefile.in: Regenerate.
@
text
@d1 5
@


1.866
log
@	* deflex.l (YY_NO_UNPUT): Define.
	* rclex.l (YY_NO_UNPUT): Define.
	* rcparse.y (null_unichar): New static var.
	(res_null_text): Use it rather than attempting to init from wchar_t.
	* windres.c: Include assert.h and time.h before getopt.h.
	Include config.h and unistd.h too.
@
text
@d1 5
@


1.865
log
@Provide a full prototype for the localtime() function in order to avoid a
compile time warning.
@
text
@d1 9
@


1.864
log
@2005-02-10  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (group_count): Don't initialize it.
	(process_section_groups): Reurn 1 if we won't do unwind nor
	section groups. Set group_count to 0 before counting group
	sections and return 1 if there are no group sections. Reread
	SHT_SYMTAB/SHT_STRTAB sections only when needed. Don't skip
	section 0.
	(process_object): Only set do_unwind to 0 if
	process_section_groups return 0.
@
text
@d1 5
@


1.863
log
@	* MAINTAINERS: Update my e-mail address.
@
text
@d1 11
@


1.862
log
@	* MAINTAINERS: Add Paul Brook and Mark Mitchell as ARM (Symbian)
	maintainers.
@
text
@d1 4
@


1.861
log
@Add Inderpreet Singh as maintainer of MAXQ.
@
text
@d1 5
@


1.860
log
@	* readelf.c (eh_addr_size): New variable.
	(find_section): Move earlier in file.  Return empty sections too.
	(process_program_headers): Use find_section to find .dynamic.
	(process_section_headers): Initialize eh_addr_size.
	(dump_ia64_unwind, slurp_ia64_unwind_table, ia64_process_unwind)
	(dump_hppa_unwind, slurp_hppa_unwind_table, hppa_process_unwind)
	(display_debug_frames): Use it instead of local addr_size variable.
	(size_of_encoded_value): Get pointer size from eh_addr_size rather
	than is_32bit_elf.
@
text
@d1 4
@


1.859
log
@2005-01-31  Andrew Cagney  <cagney@@gnu.org>

	* gettext.m4: Only set ENABLE_NLS when gettext is present.
@
text
@d1 12
@


1.858
log
@Update reported copyright dates.
@
text
@d1 4
@


1.857
log
@bfd/
	* elf.c (_bfd_elf_get_dynamic_reloc_upper_bound): Only include
	loadable reloc sections.
	(_bfd_elf_canonicalize_dynamic_reloc): Likewise.
	(_bfd_elf_get_synthetic_symtab): Return 0 if no dynamic syms.
binutils/
	* nm.c (display_rel_file): Read dynamic syms before calling
	bfd_get_synthetic_symtab.
@
text
@d1 4
@


1.856
log
@	* dlltool.c (dump_iat): Remove unused function.
	(gen_exp_file): Remove #if 0'd code.
	(make_one_lib_file): Likewise.
	* srconv.c: Remove #if 0'd code throughout.
	* size.c (lprint_number): Remove.
	(print_berkeley_format): Remove #if 0'd code.
	* ar.c (do_quick_append): Remove declaration and definiton.
	(main): Remove #if 0'd code.
	* filemode.c (filemodestring): Remove #if 0'd function.
	* sysdump.c (unit_info_list): Remove function.
	(object_body_list): Likewise.
	(program_structure): Likewise.
	(debug_list): Likewise.
	(module): Remove #if 0'd code.
@
text
@d1 5
d55 1
a55 1
	(def_name): Use it. 
d171 1
a171 1
	
d284 1
a284 1
	
d303 1
a303 1
	
d314 1
a314 1
	
@


1.855
log
@	* BRANCHES: Add binutils-2_15-branch.
@
text
@d1 17
@


1.854
log
@	* MAINTAINERS: Document branch policy.
	* BRANCHES: New file.
@
text
@d3 2
@


1.853
log
@	2005-01-19  Fred Fish  <fnf@@specifixinc.com>
	* NEWS: Make note of the new MIPS disassembly option "no-aliases".
	* doc/binutils.texi (objdump): Document the "no-aliases"
	disassembly option.
@
text
@d1 5
@


1.852
log
@PR binutils/647
* rcparse.y (RCDATA): Allow a filename to be supplied as the parameter.
  Parse it with define_rcdata_file().
* resrc.c (define_rcdata_file): New function.
* windres.h: Provide a prototype for the new function.

* resrc.c (define_user_file): Fix typo by replacing "font file" with "file".
@
text
@d1 6
@


1.851
log
@2005-01-16  Jason Thorpe  <thorpej@@netbsd.org>

        * MAINTAINERS: Update my email address.
@
text
@d1 11
@


1.850
log
@	* dlltool.c (set_dll_name_from_def): New function.  Strip name
	to basename, with warning.
	(def_name): Use it.
	(def_library): Likwise.
	(main): Strip arg of --dllname to basename, with warning.
	Only use basename of exp_name when inferring dll_name.
@
text
@d1 4
@


1.849
log
@PR binutils/637
* doc/binutils.texi (c++filt): Use uppercase CXXFILT in the footnote in order
to prevent the sed script in the Makefile from converting it into c++filt.
@
text
@d1 9
@


1.848
log
@2005-01-10  H.J. Lu  <hongjiu.lu@@intel.com>

	BZ 635
	readelf.c (saved_base_address): Removed.
	(decode_64bit_range): Likewise.
	(decode_range): Likewise.
	(display_64bit_debug_ranges): Likewise.
	(debug_info): Add range_lists, num_range_lists and
	max_range_lists.
	(read_and_display_attr_value): Handle do_debug_ranges.
	(process_debug_info): Likewise.
	(display_debug_ranges): Rewrite.
	(process_object): Free range_lists.
@
text
@d1 7
@


1.847
log
@binutils/:
	* configure.in: Don't define SKIP_ZEROES.
	* configure: Regenerate.
	* objdump.c (disassemble_data): Set skip_zeroes and
	skip_zeroes_at_end in disasm_info to defaults.
	(DEFAULT_SKIP_ZEROES): Rename from SKIP_ZEROES and always define.
	(DEFAULT_SKIP_ZEROES_AT_END): Rename from SKIP_ZEROES_AT_END and
	always define.
	(disassemble_bytes): Use skip_zeroes and skip_zeroes_at_end from
	objdump_disasm_info.

include/:
	* dis-asm.h (struct disassemble_info): Add skip_zeroes and
	skip_zeroes_at_end.

opcodes/:
	* disassemble.c (disassemble_init_for_target) <case
	bfd_arch_ia64>: Set skip_zeroes to 16.
	<case bfd_arch_tic4x>: Set skip_zeroes to 32.
@
text
@d1 14
@


1.846
log
@2005-01-05  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (display_debug_loc): Display base address
	specifiers.  Always output <End of list>.
@
text
@d1 12
@


1.845
log
@2005-01-05  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (have_frame_base): New.
	(need_base_address): Likewise.
	(saved_base_address): Likewise.
	(decode_location_expression): Return 1 if DW_AT_frame_base is
	needed.
	(debug_info): Add base_address and a have_frame_base pointer.
	(read_and_display_attr_value): Replace saved_DW_AT_low_pc with
	saved_base_address. Record base address. Set have_frame_base.
	Record if a location list has DW_AT_frame_base. Display if a
	location expression has no DW_AT_frame_base but needs one. Set
	saved_base_address only if needed.
	(process_debug_info): Clear have_frame_base, saved_base_address
	and set need_base_address.
	(display_debug_loc): Display if a location expression has no
	DW_AT_frame_base but needs one. Display if start >= end. Don't
	adjust for section address. Properly handle base address.
	(process_object): Free the have_frame_base pointer in
	debug_info.
@
text
@d3 5
@


1.844
log
@2005-01-04  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (display_debug_loc): Display offsets for hole and
	overlap.
	(display_debug_str): Add a newline at the end.
@
text
@d1 21
@


1.843
log
@PR binutils/630
* nlmconv.c (main): Only store the basename of the output filename in the
module table.
@
text
@d1 6
@


1.842
log
@BZ 615
* readelf.c (process_debug_info): New.
(debug_info): Add num_loc_offsets, loc_offsets and
last_loc_offset_p.
(get_debug_info): Use process_debug_info.
(display_debug_loc): Properly handle location list. Warn if bad
location lists are encoutnered.
(read_and_process_attr_value): New.
(read_and_display_attr_value): Use "%lx" for DW_FORM_data4.
(display_debug_info): Use process_debug_info.
(process_object): Also free loc_offsets in debug_information.
@
text
@d1 6
@


1.841
log
@	* objdump.c (remove_useless_symbols): Discard section symbols.
@
text
@d1 14
d23 19
@


1.840
log
@2004-12-27  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (read_leb128): Support 64bit host.
@
text
@d1 4
@


1.839
log
@readelf.c (last_pointer_size, warned_about_missing_comp_units):
  New variables associated with obtaining the pointer size for a comp_unit.
  (get_pointer_size_of_comp_unit): Add an extra parameter - the name of the
  section requesting the pointer size.  Use this name in error messages.  If
  there are not enough comp_units available produce a warning message, but
  return the last known pointer size so that section dumping can continue.
  (get_debug_info): Reset the new variables.
  (display_debug_lines): Add extra parameter to invocation of
  get_pointer_size_of_comp_unit and remove error message when it returns 0.
  (display_debug_loc): Likewise.
@
text
@d1 4
@


1.838
log
@binutils/
2004-12-15 Jan Beulich  <jbeulich@@novell.com>

	* doc/binutils.texi: Document --strip-unneeded-symbol and
	--strip-unneeded-symbols.
	* objcopy.c (strip_unneeded_list): New.
	(enum command_line_switch): Add OPTION_STRIP_UNNEEDED_SYMBOL
	and OPTION_STRIP_UNNEEDED_SYMBOLS.
	(copy_options): Add  --strip-unneeded-symbol and
	--strip-unneeded-symbols.
	(copy_usage): Likewise.
	(filter_symbols): Suppress copying of symbol if in strip_unneeded_list
	and the symbol is not needed.
	(copy_main): Handle OPTION_STRIP_UNNEEDED_SYMBOL and
	OPTION_STRIP_UNNEEDED_SYMBOLS.
@
text
@d1 16
@


1.837
log
@	* readelf.c (get_machine_flags): Handle E_MIPS_MACH_9000.
@
text
@d1 15
@


1.836
log
@	* arlex.l: Fix formatting.
@
text
@d1 4
@


1.835
log
@	* doc/Makefile.am (config.texi): Emit a @@set UPDATED command to
	config.texi whose value is the current month and year.
	* doc/Makefile.in: Rebuild.
	* doc/binutils.texi: Set the document subtitle to be the value of
	the Texinfo UPDATED variable (obtained from config.texi).
@
text
@d3 4
@


1.834
log
@	PR binutils/249
	* doc/binutils.texi (def file format): New node.
	(dlltool): Use the tool name as the @@chapter name, like all the
	other binutils.  Use @@file{.def} throughout for consistency.
@
text
@d1 8
@


1.833
log
@	* dlltool.c: Comment fix.
@
text
@d1 7
@


1.832
log
@	* doc/binutils.texi: Update copyright years.
@
text
@d3 4
@


1.831
log
@Remove config.if.
@
text
@d1 4
@


1.830
log
@Change LOCALEDIR to $(datadir)/share.
@
text
@d1 4
@


1.829
log
@	PR binutils/536
	* stabs.c (stab_demangle_template): Call stab_demangle_count
	rather than stab_demangle_get_count to get the length of a pointer
	target.
@
text
@d1 5
@


1.828
log
@	* defparse.y: Remove unnecessary commas from token list.
@
text
@d1 7
@


1.827
log
@Fix support for PECOFF weak symbols
@
text
@d1 4
@


1.826
log
@Add support to readelf to decode and display the contents of .debug_ranges
sections.
@
text
@d1 4
@


1.825
log
@	* readelf.c (ia64_unw_aux_info, ia64_unw_table_entry): Rename from
	unw_aux_info and unw_table_entry.
	(find_symbol_for_address): Pass symtab and strtab info explicitly.
	(dump_ia64_unwind): Rename unw_{aux_info,table_entry} with ia64_
	prefix.
	(slurp_ia64_unwind_table): Likewise.
	(ia64_process_unwind): Rename from old process_unwind.
	(hppa_unw_aux_info): New.
	(dump_hppa_unwind): New.
	(slurp_hppa_unwind_table): New.
	(hppa_process_unwind): New.
	(process_unwind): Factor out common unwinding checks; dispatch to
	unwind handler based on machine type.
@
text
@d1 61
@


1.824
log
@(display_debug_lines): Fix typo in error message.
@
text
@d1 16
@


1.823
log
@readelf.c (get_note_type): Handle notes not in core files.
  (process_note_sections): New function.
  (process_corefile_contents): Rename to ...
  (process_notes): ... this.
  (process_object): Call process_notes, not process_corefile_contents.
doc/binutils.texi: Update readelf -n documentation.
@
text
@d1 4
@


1.822
log
@	* ar.c (extract_file): Set atime to mtime for ar xo.
@
text
@d1 10
@


1.821
log
@	* stabs.c (stab_demangle_v3_arglist): New static function, broken
	out of stab_demangle_v3_argtypes.
	(stab_demangle_v3_argtypes): Call it.
	(stab_demangle_v3_arg): Handle DEMANGLE_COMPONENT_FUNCTION_TYPE.
	If we find an unrecognized component, print out its number.
@
text
@d1 4
@


1.820
log
@2004-10-25  David Mosberger  <davidm@@hpl.hp.com>

	* readelf.c (slurp_ia64_unwind_table): Support relocations against
	non-section symbols by adding in the symbol value.
@
text
@d1 8
@


1.819
log
@PR 465
* readelf.c (dynamic_strings_length): New global variable.
(VALID_DYNAMIC_NAME, GET_DYNAMIC_NAME): New macros for accessing
strings in the dynamic string table.
(process_section_headers): Initialise dynamic_strings_length.
(process_dynamic_section): Likewise.
(process_object): Reset dynamic_string_length when the buffer is freed.
(dynamic_sections_mips_val): Use the new macros.
(process_dynamic_section): Likewise.
(process_version_sections): Likewise.
(process_symbol_table): Likewise.
(process_syminfo): Likewise.
(process_mips_specific): Likewise.
(dump_relocations): Add a new parameter 'strtablen' and use this to verify that
  string offset in a given reloc is valid.  Print a suitable error message
  otherwise.
(process_relocs): Pass the new argument to dump_relocations.
@
text
@d1 5
@


1.818
log
@* dlltool.c: Include <assert.h>.
(PREFIX_ALIAS_BASE): Define.
(struct export): Add member import_name;
(def_exports): Set import_name.
(make_one_lib_file): Remove prefix alias code, use import_name in .idata$6.
(gen_lib_file): Create and delete aliases.

* binutils-all/alias.def: New file.
* binutils-all/dlltool.exp: Two new -p tests.
* config/default.exp (dlltool_gas_flag): New variable.
Copy gas and lds executables into tmpdir/gas directory rather than making
symlinks which might not be supported by the host OS.
Attempt to handle the case where the host OS does not use the .exe extension
but the target OS does.
* lib/utils-lib.exp (exe_ext): New procedure.
@
text
@d1 20
@


1.817
log
@2004-10-19  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (process_section_groups): Free symtab after use.
@
text
@d1 10
@


1.816
log
@strings.c (usage): Place radix values for -t option into the correct order.

objcopy.c (add_redefine_syms_file): Change error messages to use
  <filename>:<linenumber>: format for easier parsing by automatic tools.

srconv.c (show_usage): Fix spelling typo.

windres.c (format_from_filename): Suggest the use of -J instead	of -I if the
  file type cannot be determined.
@
text
@d1 4
@


1.815
log
@strings.c: Include <sys/stat.h>.
@
text
@d1 15
@


1.814
log
@	* budemang.c (demangle): Fix thinko.
@
text
@d1 4
@


1.813
log
@	* budemang.c (demangle): Handle "@@plt" suffix.
@
text
@d3 2
@


1.812
log
@(usage): Fix description of --special-syms switch.
@
text
@d1 4
@


1.811
log
@	* strings.c (statbuf): New typedef.
	(file_stat): Define.
	(strings_object_file): Avoid using get_file_size, instead do the
	checks here, using file_stat.
	* configure.in (HAVE_STAT64): New test.
	* configure: Rebuilt.
	* config.in: Rebuilt.
@
text
@d1 4
@


1.810
log
@2004-10-12  Paul Brook  <paul@@codesourcery.com>

bfd/
	* elf32-arm.h: Support EABI version 4 objects.
binutils/
	* readelf.c (decode_ARM_machine_flags): Support EABI version 4.
gas/
	* config/tc-arm.c (md_begin): Change EF_ARM_EABI_VER3 to
	EF_ARM_EABI_VER4.
	(arm_eabis): Ditto.
	* doc/c-arm.texi: Document that we actually support -meabi=4, not
	-meabi=3.
include/
	* elf/arm.h (EF_ARM_EABI_VER4): Define.
@
text
@d1 10
@


1.809
log
@	* objdump.c (dump_symbols): Fix thinko last change.  Improve error
	messages.
@
text
@d1 4
@


1.808
log
@Implement a new BFD API function: bfd_is_target_special_symbol.  Use this in nm
and objdump to skip the displaying of ARM Mapping symbols unless specifically
requested.
@
text
@d1 5
@


1.807
log
@bfd/
	* config.bfd: Include 64-bit support for i[3-7]86-*-solaris2*.
	* elf64-x86-64.c (elf64_x86_64_section_from_shdr): New function.
	(elf_backend_section_from_shdr): Define.
binutils/
	* readelf.c (get_x86_64_section_type_name): New function.
	(get_section_type_name): Use it.
gas/
	* config/tc-i386.c: Include "elf/x86-64.h".
	(i386_elf_section_type): New function.
	* config/tc-i386.h (md_elf_section_type): Define.
	(i386_elf_section_type): New prototype.
gas/testsuite/
	* gas/i386/i386.exp: Don't run divide test for targets where '/'
	is a comment.  Run x86-64-unwind for 64-bit ELF targets.
	* gas/i386/x86-64-unwind.d, gas/i386/x86-64-unwind.s: New.
include/
	* elf/common.h (PT_SUNW_EH_FRAME): Define.
	* elf/x86-64.h (SHT_X86_64_UNWIND): Define.
ld/
	* configure.tgt: Include elf_x86_64 for i[3-7]86-*-solaris2*.
@
text
@d1 12
@


1.806
log
@dlltool.c (make_one_lib_file): Revert 2004-09-02 and 2004-09-04 patches.
doc/binutils.texi (dlltool): Revert 2004-09-06 patch.
@
text
@d1 5
@


1.805
log
@* readelf.c (get_machine_flags): Don't fall through into m68k cpu
types.
@
text
@d1 6
@


1.804
log
@The patch below adds binutils support for the SHT_ARM_EXIDX, as defined by
 the ARM EABI.
@
text
@d1 5
@


1.803
log
@fix spelling typo in ChangeLog entry
@
text
@d1 5
@


1.802
log
@Reoder functions to eliminate most of the static function prototypes.
@
text
@d3 1
a3 1
	* nm.c: Reoder functions to eliminate most of the static function
@


1.801
log
@binutils/
	* readelf.c (process_program_headers): Don't include .tbss in non-TLS
	segments.

ld/testsuite/
	* ld-i386/tlsbin.rd: Update for changed segment map.
	* ld-i386/tlsnopic.rd: Likewise.
	* ld-i386/tlspic.rd: Likewise.
	* ld-powerpc/tlsexe.r: Likewise.
	* ld-powerpc/tlsexe32.r: Likewise.
	* ld-powerpc/tlsexetoc.r: Likewise.
	* ld-powerpc/tlsso.r: Likewise.
	* ld-powerpc/tlsso32.r: Likewise.
	* ld-powerpc/tlstocso.r: Likewise.
	* ld-s390/tlsbin.rd: Likewise.
	* ld-s390/tlsbin_64.rd: Likewise.
	* ld-s390/tlspic.rd: Likewise.
	* ld-s390/tlspic_64.rd: Likewise.
	* ld-sh/tlsbin-2.d: Likewise.
	* ld-sh/tlspic-2.d: Likewise.
	* ld-x86-64/tlsbin.rd: Likewise.
	* ld-x86-64/tlspic.rd: Likewise.
@
text
@d1 5
@


1.800
log
@	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.
	* config.in: Regenerate.
	* configure: Regenerate.
	* doc/Makefile.in: Regenerate.
	* po/binutils.pot: Regenerate.
@
text
@d1 5
@


1.799
log
@	* readelf.c (decode_location_expression): Sign extend value for
	DW_OP_const1s, DW_OP_const2s, DW_OP_const4s, DW_OP_bra, DW_OP_skip.
@
text
@d1 9
@


1.798
log
@PR 363
* ar.c (replace_members): Do not use get_file_size as ar_emul_append correctly
handles missing files.
@
text
@d1 5
d18 2
a19 2
        * doc/binutils.texi (dlltool): Update --add-underscore, --kill-at
        documentation.
d31 1
a31 1
2004-09-02  Carlo Wood  <carlo@@alinoe.com> 
@


1.797
log
@binutils/

2004-09-07  H.J. Lu  <hongjiu.lu@@intel.com>

	* configure: Regenerated with autconfig 2.13.

ld/

2004-09-07  H.J. Lu  <hongjiu.lu@@intel.com>

	* configure: Regenerated with autconfig 2.13.
@
text
@d1 6
@


1.796
log
@        * doc/binutils.texi (dlltool): Update --add-underscore, --kill-at
        documentation.
@
text
@d1 4
@


1.795
log
@fix spelling typo in previous ChangeLog entry
@
text
@d1 5
d11 1
a11 1
2004-09-04   Danny Smith  <dannysmith@@users.sourceforge.net>
@


1.794
log
@Document that the -x switch includs the effect of the -p switch.
@
text
@d3 1
a3 1
	* doc/binutils.texi (objdump): Document that the -x switch includs
@


1.793
log
@	Correct pasto in ChangeLog
@
text
@d1 5
@


1.792
log
@	* dlltool.c (make_one_lib): Test if internal_name was specified
	by user before using it.
@
text
@d3 2
a4 2
	* dlltool.c (make_one_lib): Test if internal_name was specified
	by user before using it.
@


1.791
log
@update Carlo Wood's name
@
text
@d1 5
@


1.790
log
@(make_one_lib_file): For IDATA6 take the name from exp->internal_name if it
is present.
@
text
@d1 1
a1 1
2004-09-02  Carlo  <carlo@@alinoe.com> 
@


1.789
log
@* MAINTAINERS: Add self as co-maintainer of FR-V.
* readelf.c (get_machine_flags): Print FR-V cpu types.
@
text
@d1 6
@


1.788
log
@	* nm.c (show_synthetic): New var.
	(long_options): Add "synthetic".
	(usage): Here too.
	(display_rel_file): Handle show_synthetic.
@
text
@d1 5
@


1.787
log
@bfd/
	* bfd.c (bfd_get_synthetic_symtab): Pass counts and both symbol tables.
	* elf-bfd.h (_bfd_elf_get_synthetic_symtab): Adjust.
	* elf.c (_bfd_elf_get_synthetic_symtab): Adjust.
	* libbfd-in.h (_bfd_nodynamic_get_synthetic_symtab): Adjust.
	* targets.c (struct bfd_target <_bfd_get_synthetic_symtab>): Adjust.
	* elf64-ppc.c (ppc64_elf_get_synthetic_symtab): Don't read symbols.
	Use both symbol tables on non-relocatable objects.  Use a common
	error exit.  Fix "mid" warning.
	* libbfd.h: Regenerate.
	* bfd-in2.h: Regenerate.
binutils/
	* objdump.c (dump_bfd): Pass both symbol tables to
	bfd_get_synthetic_symtab.
@
text
@d3 7
@


1.786
log
@bfd/
	* elfxx-target.h (bfd_elfNN_get_synthetic_symtab): Only define
	if not yet defined.
	* elf64-ppc.c (bfd_elf64_get_synthetic_symtab): Define.
	(synthetic_opd, synthetic_relocatable): New variables.
	(compare_symbols, compare_relocs): New helper routines.
	(ppc64_elf_get_synthetic_symtab): New function.
	* bfd.c (bfd_get_synthetic_symtab): Rename dynsyms argument
	to relsyms.
	* bfd-in2.h: Regenerated.
	* elf.c (_bfd_elf_get_synthetic_symtab): Rename dynsyms argument
	to relsyms.  Return 0 if abfd is relocatable.
binutils/
	* objdump.c (dump_bfd): For relocatable objects, pass syms instead
	of dynsyms to bfd_get_synthetic_symtab.
@
text
@d1 5
@


1.785
log
@binutils/
	* readelf.c (debug_apply_rela_addends): New function, extracted from..
	(display_debug_info): ..here.
	(display_debug_frames): Call debug_apply_rela_addends.  Don't do
	DW_EH_PE_pcrel adjustment for ET_REL.
gas/testsuite/
	* gas/cfi/cfi-alpha-1.d: Adjust for readelf fix.
	* gas/cfi/cfi-alpha-3.d: Likewise.
	* gas/cfi/cfi-i386.d: Likewise.
	* gas/cfi/cfi-m68k.d: Likewise.
	* gas/cfi/cfi-ppc-1.d: Likewise.
	* gas/cfi/cfi-s390-1.d: Likewise.
	* gas/cfi/cfi-s390x-1.d: Likewise.
	* gas/cfi/cfi-sh-1.d: Likewise.
	* gas/cfi/cfi-sparc-1.d: Likewise.
	* gas/cfi/cfi-sparc64-1.d: Likewise.
	* gas/cfi/cfi-x86_64.d: Likewise.
@
text
@d1 5
@


1.784
log
@	* readelf.c (dump_relocations): Fix typo when calculating
	sec_index.
@
text
@d1 7
@


1.783
log
@(deduce_name): Fix typos introduced when program_name was renamed to prog_name.
@
text
@d1 5
@


1.782
log
@include/elf/ChangeLog:
Introduce SH2a support.
2004-02-18  Corinna Vinschen  <vinschen@@redhat.com>
* sh.h (EF_SH2A_NOFPU): New.
2003-12-01  Michael Snyder  <msnyder@@redhat.com>
* sh.h (EF_SH2A): New.
bfd/ChangeLog:
Introduce SH2a support.
2004-02-18  Corinna Vinschen  <vinschen@@redhat.com>
* archures.c (bfd_mach_sh2a_nofpu): New.
* bfd-in2.h: Rebuilt.
* cpu-sh.c (SH2A_NOFPU_NEXT): New.
(arch_info_struct): Add sh2a_nofpu.
* elf32-sh.c (sh_elf_set_mach_from_flags): Handle sh2a_nofpu.
2003-12-29  DJ Delorie  <dj@@redhat.com>
* reloc.c: Add relocs for sh2a.
* bfd-in2.h: Regenerate.
* libbfd.hh: Regenerate.
2003-12-01  Michael Snyder  <msnyder@@redhat.com>
* archures.c (bfd_mach_sh2a): New.
* bfd-in2.h: Rebuilt.
* cpu-sh.c (SH_NEXT, SH2_NEXT, etc.): Change defines to enums.
(SH2A_NEXT): New.
(arch_info_struct): Add sh2a.
* elf32-sh.c (sh_elf_set_mach_from_flags): Handle sh2a.
binutils/ChangeLog:
* readelf.c (get_machine_flags <EM_SH>): Handle EF_SH2A and
EF_SH2A_NOFPU.
gas/ChangeLog:
Introduce SH2a support.
2004-02-24  Corinna Vinschen  <vinschen@@redhat.com>
* config/tc-sh.c (get_specific): Change arch_sh2a_up to
arch_sh2a_nofpu_up.
2004-02-24  Corinna Vinschen  <vinschen@@redhat.com>
* config/tc-sh.c (md_parse_option): Add sh2a-nofpu ISA handling.
2004-02-20  Corinna Vinschen  <vinschen@@redhat.com>
* config/tc-sh.c (sh_elf_final_processing): Move sh2a recognition
to end of conditional expression.
2004-02-20  Corinna Vinschen  <vinschen@@redhat.com>
* config/tc-sh.c: Add sh2a-nofpu support.
2003-12-29  DJ Delorie  <dj@@redhat.com>
* tc-sh.c: Add sh2a support.
(parse_reg): Add tbr.
(parse_at): Support @@@@(disp,tbr).
(get_specific): Support sh2a opcodes.
(insert4): New, for 4 byte relocs.
(build_Mytes): Support sh2a opcodes.
(md_apply_fix3_Mytes): Support sh2a opcodes.
2003-12-02  Michael Snyder  <msnyder@@redhat.com>
* config/tc-sh.c (md_parse_option): Handle sh2a.
(sh_elf_final_processing): Ditto.
gas/testsuite/ChangeLog:
2003-12-30  DJ Delorie  <dj@@redhat.com>
* gas/sh/sh2a.s: New.
* gas/sh/sh2a.d: New.
* gas/sh/basic.exp: Add it.
@
text
@d1 5
@


1.781
log
@2003-07-08  Alexandre Oliva  <aoliva@@redhat.com>
* readelf.c (get_machine_flags <EM_SH)): Handle EF_SH4_NOFPU and
EF_SH4A_NOFPU.
2003-06-12  Alexandre Oliva  <aoliva@@redhat.com>
* readelf.c (get_machine_flags <EM_SH>): Print SH ISA name.
@
text
@d1 5
@


1.780
log
@bfd/

2004-07-21  H.J. Lu  <hongjiu.lu@@intel.com>

	* aout-adobe.c (aout_32_section_already_linked): Defined.
	* aout-target.h (MY_section_already_linked): Likewise.
	* aout-tic30.c (MY_section_already_linked): Likewise.
	* binary.c (binary_section_already_linked): Likewise.
	* bout.c (b_out_section_already_linked): Likewise.
	* coff-alpha.c (_bfd_ecoff_section_already_linked): Likewise.
	* coff-mips.c (_bfd_ecoff_section_already_linked): Likewise.
	* coffcode.h (coff_section_already_linked): Likewise.
	* i386msdos.c (msdos_section_already_linked): Likewise.
	* i386os9k.c (os9k_section_already_linked): Likewise.
	* ieee.c (ieee_section_already_linked): Likewise.
	* ihex.c (ihex_section_already_linked): Likewise.
	* mach-o.c (bfd_mach_o_section_already_linked): Likewise.
	* mmo.c (mmo_section_already_linked): Likewise.
	* nlm-target.h (nlm_section_already_linked): Likewise.
	* oasys.c (oasys_section_already_linked): Likewise.
	* pef.c (bfd_pef_section_already_linked): Likewise.
	* ppcboot.c (ppcboot_section_already_linked): Likewise.
	* som.c (som_bfd_discard_group): Likewise.
	* srec.c (srec_section_already_linked): Likewise.
	* tekhex.c (tekhex_section_already_linked): Likewise.
	* versados.c (versados_section_already_linked): Likewise.
	* vms.c (vms_section_already_linked): Likewise.
	* coff-target.h (_bfd_xcoff_section_already_linked): Likewise.
	* xsym.c (bfd_sym_section_already_linked): Likewise.

	* bfd-in.h (bfd_section_already_linked_table_init): New.
	(bfd_section_already_linked_table_free): Likewise.

	* coff-rs6000.c (rs6000coff_vec): Add
	_bfd_generic_section_already_linked.
	(pmac_xcoff_vec): Likewise.
	* coff64-rs6000.c (rs6000coff64_vec): Likewise.
	(aix5coff64_vec): Likewise.

	* elf-bfd.h (_bfd_elf_section_already_linked): New prototype.
	* elflink.c (_bfd_elf_section_already_linked): New function.

	* elfxx-target.h (bfd_elfNN_section_already_linked): Defined.

	* libbfd-in.h (_bfd_nolink_section_already_linked): Defined.
	(_bfd_generic_section_already_linked): New.
	(bfd_section_already_linked_hash_entry): Likewise.
	(bfd_section_already_linked): Likewise.
	(bfd_section_already_linked_table_lookup): Likewise.
	(bfd_section_already_linked_table_insert): Likewise.

	* linker.c (bfd_section_already_linked): New.
	(_bfd_section_already_linked_table): Likewise.
	(bfd_section_already_linked_table_lookup): Likewise.
	(bfd_section_already_linked_table_insert): Likewise.
	(already_linked_newfunc): Likewise.
	(bfd_section_already_linked_table_init): Likewise.
	(bfd_section_already_linked_table_free): Likewise.
	(_bfd_generic_section_already_linked): Likewise.

	* section.c (bfd_section): Remove comdat.
	(bfd_comdat_info): Moved to ...
	* bfd-in.h (coff_comdat_info): Here.
	(bfd_coff_get_comdat_section): New.
	* coffgen.c (bfd_coff_get_comdat_section): Likewise.
	* libcoff-in.h (coff_section_tdata): Add comdat.
	* coffcode.h (handle_COMDAT): Updated.
	* cofflink.c (coff_link_add_symbols): Likewise.
	* ecoff.c (bfd_debug_section): Likewise.

	* targets.c (bfd_target): Add _section_already_linked.
	(BFD_JUMP_TABLE_LINK): Updated.

	* bfd-in2.h: Regenerated.
	* libbfd.h: Likewise.
	* libcoff.h: Likewise.

binutils/

2004-07-21  H.J. Lu  <hongjiu.lu@@intel.com>

	* objcopy.c (filter_symbols): Use bfd_coff_get_comdat_section
	to access comdat.
	* objdump.c (dump_section_header): Likewise.

ld/

2004-07-21  H.J. Lu  <hongjiu.lu@@intel.com>

	* ldlang.c (already_linked_hash_entry): Removed.
	(already_linked): Likewise.
	(already_linked_table): Likewise.
	(section_already_linked): Call bfd_section_already_linked.
	(lang_process): Replace already_linked_table_init with
	bfd_section_already_linked_table_init and check return. Replace
	already_linked_table_free with bfd_section_already_linked_table_free.
@
text
@d1 8
@


1.779
log
@Support MAP directive
@
text
@d1 6
@


1.778
log
@* dllwrap.c: Replace 'program_name' with 'prog_name' to avoid conflicts with
  exported global defined in bucomm.h.
  (deduce_name): Rename parameter 'program_name' to 'name' to avoid shadowing
  the global defined in bucomm.h.
@
text
@d1 5
@


1.777
log
@dlltool.c (ext_prefix_alias): New global variable.
 (make_one_lib_file): Add aliases with prefixes for external and import
 definitions.
 (usage): Document -p option.
 (long_options): Add --ext-prefix-alias option.
 (main): Handle -p.
* doc/binutils.texi: Document new switch.
* NEWS: Mention new switch.
@
text
@d1 7
@


1.776
log
@ (asm_prefix): Add parameter: name. No underscore for symbols beginning with ?.
(ASM_PREFIX): Add parameter: NAME.
(gen_exp_file): Use new parameter.
(make_label): Likewise.
(make_imp_label): Likewise.
(make_one_lib_file): Likewise.
@
text
@d1 11
@


1.775
log
@Add new port: crx-elf
@
text
@d1 10
@


1.774
log
@2004-07-04  Aaron W. LaFramboise <aaron98wiridge9@@aaronwl.com>

* bfd/cofflink.c (_bfd_coff_generic_relocate_section): Resolve PE weak
externals properly.
* src/gas/config/obj-coff.c (obj_coff_weak): New .weak syntax for PE weak
externals.
* binutils/doc/binutils.texi (nm): Clarify weak symbol description.
* gas/config/tc-i386.c (tc_gen_reloc): Use addend for weak symbols in TE_PE.
* gas/doc/as.texinfo (Weak): Document PE weak symbols.
* ld/ld.texinfo (WIN32): Document PE weak symbols.
@
text
@d1 8
@


1.773
log
@	* readelf.c (get_segment_type): Display "GNU_STACK", not just
	"STACK", when a PT_GNU_STACK segment is encountered.
@
text
@d1 4
@


1.772
log
@bfd/
	* section.c (struct sec): Rename "_cooked_size" to "size".
	Rename "_raw_size" to "rawsize".
	(STD_SECTION): Adjust comments.
	(bfd_set_section_size, bfd_get_section_contents): Use size.
	(bfd_malloc_and_get_section): New function.
	* bfd-in.h (bfd_section_size, bfd_get_section_size): Use size.
	* coff-sh.c (sh_relax_section): Alloc coff_section_data struct early.
	Correctly free reloc and contents memory.
	* elf-eh-frame.c (_bfd_elf_discard_section_eh_frame): Delete FIXME
	and fake CIE now that we can shink section size to zero.
	(_bfd_elf_write_section_eh_frame): Likewise..
	* elf32-ppc.c (ppc_elf_relax_section): Delay reading section contents.
	* elf-m10300.c (mn10300_elf_final_link_relocate): Don't use
	_bfd_stab_section_offset.  Use _bfd_elf_section_offset.
	* stabs.c (_bfd_stab_section_offset_): Remove unused args and
	unneeded indirection.
	* elf.c (_bfd_elf_section_offset): .. and update call.
	* libbfd-in.h (_bfd_stab_section_offset): Update prototype.
	* libbfd.h: Regenerate.
	* bfd-in2.h: Regenerate.

	Replace occurrences of "_raw_size" and "_cooked_size" in most places
	with "size".  Set new "rawsize" for stabs, eh_frame, and SEC_MERGE
	sections.  Use "rawsize", if non-zero, for bfd_get_section_contents
	calls if the section might be a stabs, eh_frame, or SEC_MERGE section.
	Similarly use "rawsize", if non-zero, in reloc functions to validate
	reloc addresses.  Use new bfd_malloc_and_get_section in most places
	where bfd_get_section_contents was called.  Expand all occurrences of
	bfd_section_size and bfd_get_section_size.  Rename "raw_size" var in
	grok_prstatus and similar functions to "size".
	* aix386-core.c (aix386_core_file_p): ..
	* aix5ppc-core.c (xcoff64_core_p): ..
	* aout-adobe.c (aout_adobe_callback, aout_adobe_write_object_contents,
	aout_adobe_set_section_contents): ..
	* aout-target.h (callback): ..
	* aout-tic30.c (tic30_aout_callback, tic30_aout_final_link_relocate,
	MY_bfd_final_link): ..
	* aoutf1.h (sunos4_core_file_p): ..
	* aoutx.h (some_aout_object_p, adjust_o_magic, adjust_z_magic,
	adjust_n_magic, adjust_sizes_and_vmas, translate_from_native_sym_flags,
	final_link, aout_link_input_section): ..
	* binary.c (binary_object_p, binary_canonicalize_symtab,
	binary_set_section_contents): ..
	* bout.c (b_out_callback, b_out_write_object_contents,
	b_out_set_section_contents, b_out_bfd_relax_section,
	b_out_bfd_get_relocated_section_contents): ..
	* cisco-core.c (cisco_core_file_validate): ..
	* coff-alpha.c (alpha_ecoff_object_p,
	alpha_ecoff_get_relocated_section_conten, alpha_relocate_section): ..
	* coff-arm.c (coff_arm_relocate_section,
	bfd_arm_allocate_interworking_sections): ..
	* coff-h8300.c (h8300_reloc16_extra_cases,
	h8300_bfd_link_add_symbols): ..
	* coff-mips.c (mips_refhi_reloc, mips_gprel_reloc): ..
	* coff-ppc.c (coff_ppc_relocate_section, ppc_allocate_toc_section,
	ppc_bfd_coff_final_link): ..
	* coff-rs6000.c (xcoff_reloc_type_br, xcoff_ppc_relocate_section): ..
	* coff-sh.c (sh_relax_section, sh_relax_delete_bytes,
	sh_align_loads, sh_coff_get_relocated_section_contents): ..
	* coff64-rs6000.c (xcoff64_write_object_contents,
	xcoff64_reloc_type_br, xcoff64_ppc_relocate_section): ..
	* coffcode.h (coff_compute_section_file_positions,
	coff_write_object_contents): ..
	* coffgen.c (make_a_section_from_file, coff_write_symbols,
	coff_section_symbol, build_debug_section): ..
	* cofflink.c (coff_link_add_symbols, _bfd_coff_final_link,
	process_embedded_commands, _bfd_coff_link_input_bfd,
	_bfd_coff_write_global_sym): ..
	* cpu-arm.c (bfd_arm_update_notes, bfd_arm_get_mach_from_notes): ..
	* cpu-ns32k.c (do_ns32k_reloc, _bfd_ns32k_final_link_relocate): ..
	* dwarf1.c (parse_line_table, _bfd_dwarf1_find_nearest_line): ..
	* dwarf2.c (read_indirect_string, read_abbrevs, decode_line_info,
	_bfd_dwarf2_find_nearest_line): ..
	* ecoff.c (bfd_debug_section, ecoff_set_symbol_info,
	ecoff_compute_section_file_positions,
	_bfd_ecoff_write_object_contents, ecoff_indirect_link_order): ..
	* elf-eh-frame.c (_bfd_elf_discard_section_eh_frame,
	_bfd_elf_discard_section_eh_frame_hdr,
	_bfd_elf_maybe_strip_eh_frame_hdr, _bfd_elf_eh_frame_section_offset,
	_bfd_elf_write_section_eh_frame,
	_bfd_elf_write_section_eh_frame_hdr): ..
	* elf-hppa.h (elf_hppa_sort_unwind): ..
	* elf-m10200.c (mn10200_elf_relax_section,
	mn10200_elf_relax_delete_bytes,
	mn10200_elf_get_relocated_section_contents): ..
	* elf-m10300.c (_bfd_mn10300_elf_create_got_section,
	mn10300_elf_check_relocs, mn10300_elf_relax_section,
	mn10300_elf_relax_delete_bytes,
	mn10300_elf_get_relocated_section_contents,
	_bfd_mn10300_elf_adjust_dynamic_symbol,
	_bfd_mn10300_elf_discard_copies,
	_bfd_mn10300_elf_size_dynamic_sections,
	_bfd_mn10300_elf_finish_dynamic_sections): ..
	* elf.c (_bfd_elf_print_private_bfd_data, bfd_elf_get_bfd_needed_list,
	_bfd_elf_make_section_from_phdr, elf_fake_sections,
	bfd_elf_set_group_contents, map_sections_to_segments,
	elf_sort_sections, assign_file_positions_for_segments,
	SECTION_SIZE, copy_private_bfd_data,
	_bfd_elf_get_dynamic_reloc_upper_bound,
	_bfd_elf_canonicalize_dynamic_reloc, elfcore_maybe_make_sect,
	_bfd_elfcore_make_pseudosection, elfcore_grok_prstatus,
	elfcore_grok_lwpstatus, elfcore_grok_win32pstatus,
	elfcore_grok_note, elfcore_grok_nto_status, elfcore_grok_nto_gregs,
	_bfd_elf_rel_local_sym, _bfd_elf_get_synthetic_symtab): ..
	* elf32-arm.h (bfd_elf32_arm_allocate_interworking_sect,
	bfd_elf32_arm_process_before_allocation,
	elf32_arm_adjust_dynamic_symbol, allocate_dynrelocs,
	elf32_arm_size_dynamic_sections, elf32_arm_finish_dynamic_sections,
	elf32_arm_write_section): ..
	* elf32-cris.c (cris_elf_grok_prstatus,
	elf_cris_finish_dynamic_sections, cris_elf_gc_sweep_hook,
	elf_cris_adjust_gotplt_to_got, elf_cris_adjust_dynamic_symbol,
	cris_elf_check_relocs, elf_cris_size_dynamic_sections,
	elf_cris_discard_excess_dso_dynamics,
	elf_cris_discard_excess_program_dynamics): ..
	* elf32-d30v.c (bfd_elf_d30v_reloc, bfd_elf_d30v_reloc_21): ..
	* elf32-dlx.c (_bfd_dlx_elf_hi16_reloc): ..
	* elf32-frv.c (_frvfdpic_add_dyn_reloc, _frvfdpic_add_rofixup,
	_frv_create_got_section, _frvfdpic_assign_plt_entries,
	elf32_frvfdpic_size_dynamic_sections,
	elf32_frvfdpic_modify_segment_map,
	elf32_frvfdpic_finish_dynamic_sections): ..
	* elf32-h8300.c (elf32_h8_relax_section, elf32_h8_relax_delete_bytes,
	elf32_h8_get_relocated_section_contents): ..
	* elf32-hppa.c (hppa_build_one_stub, hppa_size_one_stub,
	elf32_hppa_adjust_dynamic_symbol, allocate_plt_static,
	allocate_dynrelocs, elf32_hppa_size_dynamic_sections, group_sections,
	elf32_hppa_size_stubs, elf32_hppa_set_gp, elf32_hppa_build_stubs,
	elf32_hppa_finish_dynamic_sections): ..
	* elf32-i370.c (i370_elf_adjust_dynamic_symbol,
	i370_elf_size_dynamic_sections, i370_elf_check_relocs,
	i370_elf_finish_dynamic_sections): ..
	* elf32-i386.c (elf_i386_grok_prstatus, elf_i386_adjust_dynamic_symbol,
	allocate_dynrelocs, elf_i386_size_dynamic_sections,
	elf_i386_relocate_section, elf_i386_finish_dynamic_sections): ..
	* elf32-i860.c (i860_howto_pc26_reloc, i860_howto_pc16_reloc,
	i860_howto_highadj_reloc, i860_howto_splitn_reloc): ..
	* elf32-ip2k.c (ip2k_is_switch_table_128,
	ip2k_relax_switch_table_128, ip2k_is_switch_table_256,
	ip2k_relax_switch_table_256, ip2k_elf_relax_section,
	adjust_all_relocations, ip2k_elf_relax_delete_bytes): ..
	* elf32-m32r.c (m32r_elf_do_10_pcrel_reloc, m32r_elf_hi16_reloc,
	m32r_elf_generic_reloc, m32r_elf_adjust_dynamic_symbol,
	allocate_dynrelocs, m32r_elf_size_dynamic_sections,
	m32r_elf_relocate_section, m32r_elf_finish_dynamic_sections,
	m32r_elf_relax_section, m32r_elf_relax_delete_bytes,
	m32r_elf_get_relocated_section_contents): ..
	* elf32-m68hc11.c (m68hc11_elf_build_one_stub,
	m68hc11_elf_size_one_stub, m68hc11_elf_relax_section,
	m68hc11_elf_relax_delete_bytes): ..
	* elf32-m68hc12.c (m68hc12_elf_build_one_stub,
	m68hc12_elf_size_one_stub): ..
	* elf32-m68hc1x.c (elf32_m68hc11_size_stubs,
	elf32_m68hc11_build_stubs, m68hc11_elf_special_reloc): ..
	* elf32-m68k.c (elf_m68k_check_relocs, elf_m68k_gc_sweep_hook,
	elf_m68k_adjust_dynamic_symbol, elf_m68k_size_dynamic_sections,
	elf_m68k_discard_copies, elf_m68k_finish_dynamic_sections): ..
	* elf32-mips.c (gprel32_with_gp, mips16_gprel_reloc,
	elf32_mips_grok_prstatus): ..
	* elf32-or32.c (or32_elf_consth_reloc): ..
	* elf32-ppc.c (ppc_elf_relax_section, ppc_elf_addr16_ha_reloc,
	elf_create_pointer_linker_section, ppc_elf_create_linker_section,
	ppc_elf_additional_program_headers, ppc_elf_adjust_dynamic_symbol,
	allocate_dynrelocs, ppc_elf_size_dynamic_sections,
	ppc_elf_finish_dynamic_sections, ppc_elf_grok_prstatus,
	ppc_elf_final_write_processing): ..
	* elf32-s390.c (s390_elf_ldisp_reloc, elf_s390_adjust_dynamic_symbol,
	allocate_dynrelocs, elf_s390_size_dynamic_sections,
	elf_s390_finish_dynamic_sections, elf_s390_grok_prstatus): ..
	* elf32-sh.c (sh_elf_reloc_loop, sh_elf_relax_section,
	sh_elf_relax_delete_bytes, sh_elf_align_loads,
	sh_elf_adjust_dynamic_symbol, allocate_dynrelocs,
	sh_elf_size_dynamic_sections, sh_elf_get_relocated_section_contents,
	sh_elf_finish_dynamic_sections, elf32_shlin_grok_prstatus): ..
	* elf32-sh64-com.c (sh64_address_in_cranges,
	sh64_get_contents_type): ..
	* elf32-sh64.c (sh64_find_section_for_address,
	sh64_elf_final_write_processing): ..
	* elf32-sparc.c (sparc_elf_wdisp16_reloc, sparc_elf_hix22_reloc,
	sparc_elf_lox10_reloc, elf32_sparc_adjust_dynamic_symbol,
	allocate_dynrelocs, elf32_sparc_size_dynamic_sections,
	elf32_sparc_relocate_section, elf32_sparc_finish_dynamic_sections): ..
	* elf32-v850.c (v850_elf_reloc, v850_elf_relax_section): ..
	* elf32-vax.c (elf_vax_check_relocs, elf_vax_adjust_dynamic_symbol,
	elf_vax_size_dynamic_sections, elf_vax_discard_copies,
	elf_vax_instantiate_got_entries, elf_vax_relocate_section,
	elf_vax_finish_dynamic_sections): ..
	* elf32-xstormy16.c (xstormy16_elf_24_reloc,
	xstormy16_elf_check_relocs, xstormy16_relax_plt_check,
	xstormy16_elf_relax_section, xstormy16_elf_always_size_sections,
	xstormy16_elf_finish_dynamic_sections): ..
	* elf32-xtensa.c (xtensa_read_table_entries,
	elf_xtensa_allocate_got_size, elf_xtensa_allocate_local_got_size,
	elf_xtensa_size_dynamic_sections, elf_xtensa_do_reloc,
	bfd_elf_xtensa_reloc, elf_xtensa_relocate_section,
	elf_xtensa_combine_prop_entries, elf_xtensa_finish_dynamic_sections,
	elf_xtensa_discard_info_for_section, elf_xtensa_grok_prstatus,
	get_relocation_opcode, retrieve_contents, find_relaxable_sections,
	collect_source_relocs, is_resolvable_asm_expansion, remove_literals,
	relax_section, shrink_dynamic_reloc_sections, relax_property_section,
	xtensa_callback_required_dependence): ..
	* elf64-alpha.c (elf64_alpha_reloc_gpdisp, elf64_alpha_relax_section,
	elf64_alpha_check_relocs, elf64_alpha_adjust_dynamic_symbol,
	elf64_alpha_calc_got_offsets_for_symbol, elf64_alpha_calc_got_offsets,
	elf64_alpha_size_plt_section, elf64_alpha_size_plt_section_1,
	elf64_alpha_always_size_sections, elf64_alpha_calc_dynrel_sizes,
	elf64_alpha_size_rela_got_section, elf64_alpha_size_rela_got_1,
	elf64_alpha_size_dynamic_sections, elf64_alpha_emit_dynrel,
	elf64_alpha_finish_dynamic_sections, elf64_alpha_final_link): ..
	* elf64-hppa.c (allocate_dynrel_entries,
	elf64_hppa_size_dynamic_sections,
	elf64_hppa_finish_dynamic_sections): ..
	* elf64-mips.c (mips_elf64_gprel32_reloc, mips16_gprel_reloc,
	mips_elf64_canonicalize_dynamic_reloc, mips_elf64_slurp_reloc_table,
	elf64_mips_grok_prstatus): ..
	* elf64-mmix.c (mmix_elf_perform_relocation, mmix_elf_reloc,
	mmix_elf_relocate_section, mmix_elf_final_link,
	mmix_set_relaxable_size, _bfd_mmix_after_linker_allocation,
	mmix_elf_relax_section, mmix_elf_get_section_contents): ..
	* elf64-ppc.c (ppc64_elf_object_p, ppc64_elf_grok_prstatus,
	ppc64_elf_check_relocs, ppc64_elf_func_desc_adjust,
	ppc64_elf_adjust_dynamic_symbol, ppc64_elf_edit_opd,
	allocate_dynrelocs, ppc64_elf_size_dynamic_sections,
	ppc_build_one_stub, ppc_size_one_stub, ppc64_elf_next_toc_section,
	toc_adjusting_stub_needed, group_sections, ppc64_elf_size_stubs,
	ppc64_elf_build_stubs, ppc64_elf_relocate_section,
	ppc64_elf_finish_dynamic_sections): ..
	* elf64-s390.c (s390_elf_ldisp_reloc, elf_s390_adjust_dynamic_symbol,
	allocate_dynrelocs, elf_s390_size_dynamic_sections,
	elf_s390_finish_dynamic_sections): ..
	* elf64-sh64.c (sh_elf64_get_relocated_section_contents,
	sh_elf64_check_relocs, sh64_elf64_adjust_dynamic_symbol,
	sh64_elf64_discard_copies, sh64_elf64_size_dynamic_sections,
	sh64_elf64_finish_dynamic_sections): ..
	* elf64-sparc.c (sparc64_elf_slurp_reloc_table, init_insn_reloc,
	sparc64_elf_check_relocs, sparc64_elf_adjust_dynamic_symbol,
	sparc64_elf_size_dynamic_sections, sparc64_elf_relocate_section,
	sparc64_elf_finish_dynamic_symbol,
	sparc64_elf_finish_dynamic_sections): ..
	* elf64-x86-64.c (elf64_x86_64_grok_prstatus,
	elf64_x86_64_adjust_dynamic_symbol, allocate_dynrelocs,
	elf64_x86_64_size_dynamic_sections, elf64_x86_64_relocate_section,
	elf64_x86_64_finish_dynamic_sections): ..
	* elfarm-nabi.c (elf32_arm_nabi_grok_prstatus): ..
	* elfcode.h (elf_slurp_reloc_table): ..
	* elflink.c (_bfd_elf_create_got_section, elf_add_dt_needed_tag,
	elf_finalize_dynstr, elf_link_add_object_symbols,
	bfd_elf_size_dynamic_sections, elf_link_sort_relocs,
	elf_link_input_bfd, bfd_elf_final_link, bfd_elf_discard_info): ..
	* elfn32-mips.c (gprel32_with_gp, mips16_gprel_reloc,
	elf32_mips_grok_prstatus): ..
	* elfxx-ia64.c (elfNN_ia64_relax_section, allocate_dynrel_entries,
	elfNN_ia64_size_dynamic_sections, elfNN_ia64_install_dyn_reloc,
	elfNN_ia64_choose_gp, elfNN_ia64_final_link,
	elfNN_ia64_finish_dynamic_sections): ..
	* elfxx-mips.c (mips_elf_create_procedure_table,
	mips_elf_check_mips16_stubs, _bfd_mips_elf_gprel16_with_gp,
	_bfd_mips_elf_hi16_reloc, _bfd_mips_elf_generic_reloc,
	mips_elf_global_got_index, mips_elf_multi_got,
	mips_elf_create_compact_rel_section, mips_elf_calculate_relocation,
	mips_elf_allocate_dynamic_relocations,
	mips_elf_create_dynamic_relocation, _bfd_mips_elf_fake_sections,
	_bfd_mips_relax_section, _bfd_mips_elf_adjust_dynamic_symbol,
	_bfd_mips_elf_always_size_sections,
	_bfd_mips_elf_size_dynamic_sections,
	_bfd_mips_elf_finish_dynamic_symbol,
	_bfd_mips_elf_finish_dynamic_sections,
	_bfd_mips_elf_modify_segment_map, _bfd_mips_elf_discard_info,
	_bfd_mips_elf_write_section, _bfd_mips_elf_set_section_contents,
	_bfd_elf_mips_get_relocated_section_contents,
	_bfd_mips_elf_final_link, _bfd_mips_elf_merge_private_bfd_data): ..
	* hp300hpux.c (callback): ..
	* hppabsd-core.c (make_bfd_asection): ..
	* hpux-core.c (make_bfd_asection): ..
	* i386linux.c (linux_link_create_dynamic_sections,
	bfd_i386linux_size_dynamic_sections, linux_finish_dynamic_link): ..
	* i386msdos.c (msdos_write_object_contents): ..
	* i386os9k.c (os9k_callback, os9k_write_object_contents,
	os9k_set_section_contents): ..
	* ieee.c (parse_expression, ieee_slurp_external_symbols,
	ieee_slurp_sections, ieee_slurp_debug, ieee_slurp_section_data,
	ieee_write_section_part, do_with_relocs, do_as_repeat,
	do_without_relocs, ieee_write_debug_part, init_for_output,
	ieee_set_section_contents): ..
	* ihex.c (ihex_scan, ihex_read_section, ihex_get_section_contents): ..
	* irix-core.c (do_sections, make_bfd_asection): ..
	* libaout.h (aout_section_merge_with_text_p): ..
	* libbfd.c (_bfd_generic_get_section_contents,
	_bfd_generic_get_section_contents_in_window): ..
	* linker.c (default_indirect_link_order): ..
	* lynx-core.c (make_bfd_asection): ..
	* m68klinux.c (linux_link_create_dynamic_sections,
	bfd_m68klinux_size_dynamic_sections, linux_finish_dynamic_link): ..
	* mach-o.c (bfd_mach_o_make_bfd_section,
	bfd_mach_o_scan_read_dylinker, bfd_mach_o_scan_read_dylib,
	bfd_mach_o_scan_read_thread, bfd_mach_o_scan_read_symtab,
	bfd_mach_o_scan_read_segment): ..
	* merge.c (_bfd_add_merge_section, record_section, merge_strings,
	_bfd_merge_sections): ..
	* mmo.c (mmo_find_sec_w_addr, mmo_get_spec_section, mmo_get_loc,
	mmo_map_set_sizes, mmo_canonicalize_symtab,
	mmo_internal_write_section, mmo_write_object_contents): ..
	* netbsd-core.c (netbsd_core_file_p): ..
	* nlm32-alpha.c (nlm_alpha_read_reloc, nlm_alpha_write_import,
	nlm_alpha_set_public_section): ..
	* nlm32-ppc.c (nlm_powerpc_read_reloc, nlm_powerpc_write_reloc): ..
	* nlm32-sparc.c (nlm_sparc_write_import): ..
	* nlmcode.h (add_bfd_section, nlm_swap_auxiliary_headers_in,
	nlm_compute_section_file_positions): ..
	* oasys.c (oasys_object_p, oasys_slurp_section_data,
	oasys_write_sections, oasys_write_data, oasys_set_section_contents): ..
	* opncls.c (get_debug_link_info): ..
	* osf-core.c (make_bfd_asection): ..
	* pdp11.c (some_aout_object_p, adjust_o_magic, adjust_z_magic,
	adjust_n_magic, adjust_sizes_and_vmas, squirt_out_relocs,
	final_link, aout_link_input_section): ..
	* peXXigen.c (_bfd_XXi_swap_sym_in, _bfd_XXi_swap_aouthdr_out,
	pe_print_idata, pe_print_edata, pe_print_pdata, pe_print_reloc): ..
	* pef.c (bfd_pef_make_bfd_section, bfd_pef_print_loader_section,
	bfd_pef_scan_start_address, bfd_pef_parse_symbols): ..
	* ppcboot.c (ppcboot_object_p, ppcboot_canonicalize_symtab): ..
	* ptrace-core.c (ptrace_unix_core_file_p): ..
	* reloc.c (bfd_perform_relocation, bfd_install_relocation,
	_bfd_final_link_relocate, bfd_generic_relax_section,
	bfd_generic_get_relocated_section_contents): ..
	* reloc16.c (bfd_coff_reloc16_relax_section,
	bfd_coff_reloc16_get_relocated_section_c): ..
	* riscix.c (riscix_some_aout_object_p): ..
	* rs6000-core.c (read_hdr, make_bfd_asection): ..
	* sco5-core.c (make_bfd_asection): ..
	* simple.c (bfd_simple_get_relocated_section_contents): ..
	* som.c (som_object_setup, setup_sections, som_prep_headers,
	som_write_fixups, som_begin_writing, bfd_section_from_som_symbol,
	som_set_reloc_info, som_get_section_contents,
	som_bfd_link_split_section): ..
	* sparclinux.c (linux_link_create_dynamic_sections,
	bfd_sparclinux_size_dynamic_sections, linux_finish_dynamic_link): ..
	* srec.c (srec_scan, srec_read_section, srec_get_section_contents): ..
	* stabs.c (_bfd_link_section_stabs, _bfd_discard_section_stabs,
	_bfd_write_stab_strings, _bfd_stab_section_offset): ..
	* sunos.c (sunos_read_dynamic_info, sunos_create_dynamic_sections,
	bfd_sunos_size_dynamic_sections, sunos_scan_std_relocs,
	sunos_scan_ext_relocs, sunos_scan_dynamic_symbol,
	sunos_write_dynamic_symbol, sunos_check_dynamic_reloc,
	sunos_finish_dynamic_link): ..
	* syms.c (_bfd_stab_section_find_nearest_line): ..
	* tekhex.c (first_phase, tekhex_set_section_contents,
	tekhex_write_object_contents): ..
	* trad-core.c (trad_unix_core_file_p): ..
	* versados.c (process_esd, process_otr, process_otr): ..
	* vms-gsd.c (_bfd_vms_slurp_gsd, _bfd_vms_write_gsd): ..
	* vms-misc.c (add_new_contents): ..
	* vms-tir.c (check_section, new_section, _bfd_vms_write_tir): ..
	* vms.c (vms_set_section_contents): ..
	* xcofflink.c (xcoff_get_section_contents, xcoff_link_add_symbols,
	xcoff_sweep, bfd_xcoff_size_dynamic_sections, xcoff_build_ldsyms,
	_bfd_xcoff_bfd_final_link, xcoff_link_input_bfd): ..
	* xsym.c (bfd_sym_scan): .. See above.

binutils/
	* objcopy.c (copy_section): Don't set _cooked_size.

include/
	* bfdlink.h (struct bfd_link_order): Update comment.

ld/
	* ldlang.c (print_output_section_statement): Don't print size before
	relaxation.
	(IGNORE_SECTION): Remove bfd arg.  Update all callers.

	* ldexp.c (fold_name): .. See below.
	* ldlang.c (section_already_linked, print_output_section_statement,
	print_input_section, insert_pad, size_input_section,
	lang_check_section_addresses, lang_size_sections_1,
	lang_size_sections, lang_do_assignments_1, lang_set_startof,
	lang_one_common, lang_reset_memory_regions, lang_process,
	lang_abs_symbol_at_end_of, lang_do_version_exports_section): ..
	* ldwrite.c (build_link_order, clone_section, ds, split_sections): ..
	* pe-dll.c (process_def_file, generate_reloc): ..
	* emultempl/elf32.em (gld${EMULATION_NAME}_find_statement_assignment,
	gld${EMULATION_NAME}_before_allocation): ..
	* emultempl/mmix-elfnmmo.em (mmix_after_allocation): ..
	* emultempl/sh64elf.em (sh64_elf_${EMULATION_NAME}_before_allocation,
	sh64_elf_${EMULATION_NAME}_after_allocation): ..
	* emultempl/sunos.em (gld${EMULATION_NAME}_before_allocation): ..
	* emultempl/xtensaelf.em (ld_assign_relative_paged_dot,
	ld_local_file_relocations_fit, ld_xtensa_insert_page_offsets): Use
	"size" instead of "_raw_size" and "_cooked_size".  Expand
	bfd_section_size macro invocations.
@
text
@d1 5
@


1.771
log
@	* readelf.c (Elf32_Word): Delete.
	(get_32bit_dynamic_section): Handle SGI ELF dynamic segment.
	(get_64bit_dynamic_section): Likewise.
@
text
@d1 4
d39 1
a39 1
	
d63 1
a63 1
        * objcopy.c (setup_bfd_headers): New function.
d257 2
a258 2
        (copy_archive): Handle the return value from copy_object.
        (copy_file): Likewise.
d266 8
a273 8
        (display_debug_lines): Call get_debug_line_pointer_sizes.
        (display_debug_loc): Likewise.
        (load_debug_loc): Use find_section.
        (load_debug_str): Likewise.
        (display_debug_info): Likewise.
        (prescan_debug_info): Delete.
        (debug_displays): Remove prescan field.
        (process_section_contents): Do not perform prescans.
@


1.770
log
@	* readelf.c (dynamic_nent): New variable.
	(get_32bit_dynamic_section): Set it.
	(get_64bit_dynamic_section): Here too.
	(process_dynamic_section): Use it instead of dynamic_size.
	(process_syminfo): Likewise.
@
text
@d3 7
@


1.769
log
@	* readelf.c (get_32bit_dynamic_section): Correct number of entries
	translated from external to internal form.
	(get_64bit_dynamic_section): Likewise.
@
text
@d3 6
@


1.768
log
@* readelf.c (process_program_headers): When locating the dynamic section use
  the section table if it is present.
(dynamic_segment): Renamed to dynamic_section.
Replace references to dynamic segment with references to dynamic
section, except where appropriate.
(dynamic_segment_mips_val): Rename to dynamic_section_mips_val.
(dynamic_segment_parisc_val): Rename to dynamic_section_parisc_val.
(dynamic_segment_ia64_val): Rename to dynamic_section_ia64_val.
(get_32bit_dynamic_segment): Rename to get_32bit_dynamic_section.
Remove tag counting code as it is no longer needed.
(get_64bit_dynamic_segment): Rename to get_64bit_dynamic_section.
Remove tag counting code as it is no longer needed.
(process_dynamic_segment): Rename to process_dynamic_section.
@
text
@d1 6
@


1.767
log
@	* objcopy.c (copy_section): Use bfd_get_section_size instead of
	_raw_size or bfd_get_section_size_before_reloc.  Don't set reloc_done.
	(compare_section_lma): Likewise.
	* addr2line.c (find_address_in_section): Likewise.
	* coffgrok.c (do_sections_p1): Likewise.
	* dlltool.c (scan_drectve_symbols): Likewise.
	* nlmconv.c (main): Likewise.
	(copy_sections): Likewise.
	(powerpc_mangle_relocs): Likewise.
	* objdump.c (disassemble_section): Likewise.
	* prdbg.c (find_address_in_section): Likewise.
	* size.c (berkeley_sum): Likewise.
	* srconv.c (wr_ob): Likewise.
	* strings.c (strings_a_section): Likewise.
@
text
@d1 16
@


1.766
log
@	* readelf.c (decode_ARM_machine_flags): Add EF_ARM_VFP_FLOAT.
@
text
@d1 17
@


1.765
log
@binutils ChangeLog:
	2004-05-17  David Heine  <dlheine@@tensilica.com>
	* objcopy.c (setup_bfd_headers): New function.
	(copy_object): Call setup_bfd_headers.
bfd ChangeLog:
	2004-05-17  David Heine  <dlheine@@tensilica.com>
	* aout-target.h (MY_bfd_copy_private_header_data): Define.
	* aout-tic30.c (MY_bfd_copy_private_header_data): Define.
	* bfd.c (bfd_copy_private_header_data): Define.
	* coff-rs6000.c (rs6000coff_vec, pmac_xcoff_vec): Add entries for new
	interface.
	* coff64-rs6000.c (rs6000coff64_vec, aix5coff64_vec): Likewise.
	* coffcode.h (coff_bfd_copy_private_header_data): Define.
	* elf-bfd.h (_bfd_elf_copy_private_header_data): Declare.
	* elf.c (_bfd_elf_copy_private_section_data): Remove code to set up
	segments by calling copy_private_bfd_data.
	(_bfd_elf_copy_private_header_data): Define.
	* elfxx-target.h (bfd_elfNN_bfd_copy_private_header_data): Define.
	* libbfd-in.h (_bfd_generic_bfd_copy_private_header_data): Define.
	* libecoff.h (_bfd_ecoff_bfd_copy_private_header_data): Define.
	* mach-o.c (bfd_mach_o_bfd_copy_private_header_data): Define.
	* mmo.c (mmo_bfd_copy_private_header_data): Define.
	* ppcboot.c (ppcboot_bfd_copy_private_header_data): Define.
	* som.c (som_bfd_copy_private_header_data): Define.
	* targets.c (BFD_JUMP_TABLE_COPY): Add _bfd_copy_private_header_data.
	* vms.c (vms_bfd_copy_private_header_data): Define.
	* bfd-in2.h: Regenerate.
	* libbfd.h: Regenerate.
@
text
@d1 4
@


1.764
log
@Handle dwarf3 format CIE entries.
@
text
@d1 5
@


1.763
log
@Updated French translations
@
text
@d1 5
@


1.762
log
@bfd/
	* elflink.c (elf_bfd_final_link): Don't output STT_SECTION symbol
	into .dynsym if elf_section_data (sec)->dynindx <= 0.
	Adjust counting of last_local.
	(_bfd_elf_link_renumber_dynsyms): Don't assign dynindx to sections
	other than SHT_PROGBITS/SHT_NOBITS and neither for .got/.got.plt/.plt
	created by the linker nor !SHF_ALLOC.

	* elf32-i386.c (elf_i386_finish_dynamic_sections): Point
	DT_PLTGOT to the start of the .got.plt section instead of the
	.got output section.  Set sh_entsize for .got section in addition
	to .got.plt.
	(elf_i386_relocate_section): Don't assume _GLOBAL_OFFSET_TABLE_
	is at sgot->output_section->vma.
	* elf64-x86-64.c (elf64_x86_64_finish_dynamic_sections): Point
	DT_PLTGOT to the start of the .got.plt section instead of the
	.got output section.
	(elf64_x86_64_relocate_section): Don't assume _GLOBAL_OFFSET_TABLE_
	is at sgot->output_section->vma.  Set sh_entsize for .got section
	in addition to .got.plt.
	* elf.c (_bfd_elf_print_private_bfd_data): Handle PT_GNU_RELRO.
	(bfd_section_from_phdr): Likewise.
	(map_sections_to_segments): Likewise.
	(assign_file_positions_for_segments): Likewise.
	(get_program_header_size): Likewise.
	* elflink.c (bfd_elf_size_dynamic_sections): Set
	elf_tdata (output_bfd)->relro from info->relro.
	* elf-bfd.h (struct elf_obj_tdata): Add relro field.
include/
	* bfdlink.h (struct bfd_link_info): Add relro, relro_start and
	relro_end fields.
	* elf/common.h (PT_GNU_EH_FRAME, PT_GNU_STACK): Add comments.
	(PT_GNU_RELRO): Define.
binutils/
	* readelf.c (get_segment_type): Handle PT_GNU_RELRO.
ld/
	* genscripts.sh: Generate -z combreloc -z now -z relro scripts
	for binaries, -shared and -pie.
	* emulparams/elf_i386.sh (SEPARATE_GOTPLT): Set.
	* emulparams/elf_x86_64.sh (SEPARATE_GOTPLT): Set.
	* emulparams/elf32ppc.sh (OTHER_READWRITE_SECTIONS): Rename to...
	(OTHER_RELRO_SECTIONS): ... this.
	* ldlex.l (DATA_SEGMENT_RELRO_END): Add.
	* emultempl/elf32.em (gld${EMULATION_NAME}_handle_option): Handle
	-z relro and -z norelro.
	(gld${EMULATION_NAME}_list_options): Add it to usage.
	(gld${EMULATION_NAME}_get_script): Return -z combreloc -z now
	-z relro scripts when appropriate.
	* scripttempl/elf.sc: Unset SEPARATE_GOTPLT if RELRO_NOW is set.
	Create separate .got.plt section if SEPARATE_GOTPLT.
	Move sections which are only written during relocation handling
	to the beginning of RW segment.  If NO_SMALL_DATA, move .got
	before .data.  Add DATA_SEGMENT_RELRO_END directive.
	Include OTHER_RELRO_SECTIONS.
	* ldgram.y (DATA_SEGMENT_RELRO_END): Add.
	* ldexp.c (exp_print_token): Handle DATA_SEGMENT_RELRO_END.
	(fold_unary): Likewise.
	(fold_binary): Handle -z relro.
	* ldexp.h (struct exp_data_seg): Add exp_dataseg_relro_seen and
	exp_dataseg_relro_adjust phases.  Add relro_end field.
	* ldmain.c (main): Initialize link_info.relro to FALSE.
	* ldlang.c (lang_size_sections): Handle -z relro.
ld/testsuite/
	* ld-i386/tlspic.rd: Adjust for section reordering changes
	and removal of unneeded STT_SECTION symbols from .dynsym.
	* ld-i386/tlspic.dd: Likewise.
	* ld-i386/tlspic.sd: Likewise.
	* ld-i386/tlsbin.rd: Likewise.
	* ld-i386/tlsbinpic.s: Likewise.
	* ld-i386/tlsbin.dd: Likewise.
	* ld-i386/tlsbin.sd: Likewise.
	* ld-i386/tlsnopic.rd: Likewise.
	* ld-i386/tlsnopic1.s: Likewise.
	* ld-i386/combreloc.d: Likewise.
	* ld-i386/tlsnopic.dd: Likewise.
	* ld-i386/tlsnopic.sd: Likewise.
	* ld-x86-64/tlspic.rd: Likewise.
	* ld-x86-64/tlspic.dd: Likewise.
	* ld-x86-64/tlsbin.dd: Likewise.
	* ld-x86-64/tlspic.sd: Likewise.
	* ld-x86-64/tlsbin.sd: Likewise.
	* ld-x86-64/tlspic.td: Likewise.
	* ld-x86-64/tlsbin.td: Likewise.
	* ld-x86-64/tlsbin.rd: Likewise.
	* ld-s390/tlspic1.s: Likewise.
	* ld-s390/tlsbinpic.s: Likewise.
	* ld-s390/tlspic.rd: Likewise.
	* ld-s390/tlsbin.rd: Likewise.
	* ld-s390/tlspic.dd: Likewise.
	* ld-s390/tlsbin.dd: Likewise.
	* ld-s390/tlsbin.sd: Likewise.
	* ld-s390/tlsbin.td: Likewise.
	* ld-s390/tlspic.sd: Likewise.
	* ld-s390/tlspic.td: Likewise.
	* ld-s390/tlspic1_64.s: Likewise.
	* ld-s390/tlsbinpic_64.s: Likewise.
	* ld-s390/tlspic_64.rd: Likewise.
	* ld-s390/tlsbin_64.rd: Likewise.
	* ld-s390/tlspic_64.dd: Likewise.
	* ld-s390/tlsbin_64.dd: Likewise.
	* ld-s390/tlspic_64.sd: Likewise.
	* ld-s390/tlspic_64.td: Likewise.
	* ld-s390/tlsbin_64.td: Likewise.
	* ld-s390/tlsbin_64.sd: Likewise.
	* ld-powerpc/tlsexe32.r: Likewise.
	* ld-powerpc/tlsso32.r: Likewise.
	* ld-powerpc/tlsso32.d: Likewise.
	* ld-powerpc/tlsso32.g: Likewise.
	* ld-powerpc/tlsso32.t: Likewise.
	* ld-powerpc/tlsexe.r: Likewise.
	* ld-powerpc/tlsso.r: Likewise.
	* ld-powerpc/tlsso.g: Likewise.
	* ld-powerpc/tlsexetoc.r: Likewise.
	* ld-powerpc/tlstocso.r: Likewise.
	* ld-powerpc/tlstocso.g: Likewise.
	* ld-ia64/tlspic.rd: Likewise.
	* ld-ia64/tlspic.dd: Likewise.
	* ld-ia64/tlspic.sd: Likewise.
	* ld-ia64/tlspic.td: Likewise.
	* ld-ia64/tlsbin.rd: Likewise.
	* ld-ia64/tlsbin.sd: Likewise.
	* ld-ia64/tlsbin.td: Likewise.
	* ld-elfvsb/elfvsb.exp: XFAIL non-PIC load offset tests on s390x.
	* ld-shared/shared.exp: Likewise.
@
text
@d1 4
@


1.761
log
@2004-05-07  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (section_groups): New.
	(group_count): New.
	(section_headers_groups): New.
	(process_section_groups): Populate group_count, section_groups
	and section_headers_groups.
	(process_unwind): Support section group.
	(process_object): Always call process_section_groups. Free
	section_groups and section_headers_groups.
@
text
@d1 4
@


1.760
log
@2004-04-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (process_section_headers): Use %3lu on sh_info.
@
text
@d1 11
@


1.759
log
@Fix bug in ranlib.sh script - quote the $1 argument in case it contains spaces
@
text
@d1 4
@


1.758
log
@	* objcopy.c (copy_usage, strip_usage): Fix spelling.
@
text
@d1 5
a5 1
2004-04-27  John Paul Wallington <jpw@@gnu.org>
@


1.757
log
@binutils/

2004-04-26  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (do_section_groups): New.
	(options): Add --section-groups/-g.
	(usage): Mention --section-groups/-g.
	(parse_args): Support --section-groups/-g.
	(get_group_flags): New.
	(process_section_groups): New.
	(process_object): Call process_section_groups.

gas/

2004-04-26  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/obj-elf.c (obj_elf_change_section): Check if the old
	group name is NULL before comparison.

gas/testsuite/

2004-04-26  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/elf/elf.exp: Add group0a, group0b and group1 for section
	group.

	* gas/elf/group0.s: New file.
	* gas/elf/group0a.d: Likewise.
	* gas/elf/group0b.d: Likewise.
	* gas/elf/group1.e: Likewise.
	* gas/elf/group1.s: Likewise.
@
text
@d1 4
@


1.756
log
@	* objdump.c (disassemble_section): Don't disassemble sections
	without SEC_HAS_CONTENTS.
@
text
@d1 10
@


1.755
log
@bfd/
	* bfd.c (bfd_get_synthetic_symtab): Define.
	* targets.c (BFD_JUMP_TABLE_DYNAMIC): Add
	NAME##_get_synthetic_symtab.
	(struct bfd_target): Add _bfd_get_synthetic_symtab.
	* libbfd-in.h (_bfd_nodynamic_get_synthetic_symtab): Define.
	* elf-bfd.h (struct elf_backend_data): Add plt_sym_val and
	relplt_name fields.
	(_bfd_elf_get_synthetic_symtab): New prototype.
	* elfcode.h (elf_get_synthetic_symtab): Define.
	* elf.c (_bfd_elf_get_synthetic_symtab): New function.
	* elfxx-target.h (bfd_elfNN_get_synthetic_symtab): Define.
	(elf_backend_plt_sym_val, elf_backend_relplt_name): Define.
	(elfNN_bed): Add elf_backend_plt_sym_val and elf_backend_relplt_name.
	* bfd-in2.h: Rebuilt.
	* libbfd.h: Rebuilt.
	* elf32-i386.c (elf_i386_plt_sym_val): New function.
	(elf_backend_plt_sym_val): Define.
	* elf64-x86-64.c (elf64_x86_64_plt_sym_val): New function.
	(elf_backend_plt_sym_val): Define.
	* elf32-s390.c (elf_s390_plt_sym_val): New function.
	(elf_backend_plt_sym_val): Define.
	* elf64-s390.c (elf_s390_plt_sym_val): New function.
	(elf_backend_plt_sym_val): Define.
	* elf32-sparc (elf32_sparc_plt_sym_val): New function.
	(elf_backend_plt_sym_val): Define.
	* elf64-sparc.c (sparc64_elf_plt_sym_val): New function.
	(elf_backend_plt_sym_val): Define.
	* elf32-ppc.c (ppc_elf_plt_sym_val): New function.
	(elf_backend_plt_sym_val): Define.
	* aout-target.h (MY_get_synthetic_symtab): Define.
	* aout-tic30.c (MY_get_synthetic_symtab): Define.
	* coff-rs6000.c (rs6000coff_vec): Add
	_bfd_nodynamic_get_synthetic_symtab.
	(pmac_xcoff_vec): Likewise.
	* coff64-rs6000.c (rs6000coff64_vec): Add
	_bfd_nodynamic_get_synthetic_symtab.
	(aix5coff64_vec): Likewise.
	* sunos.c (MY_get_synthetic_symtab): Define.
	* vms.c (vms_get_synthetic_symtab): Define.
binutils/
	* objdump.c (synthsyms, synthcount): New variables.
	(disassemble_data): Use dynsyms for stripped binaries or libraries.
	Add synthetized symbols.
	(dump_bfd): For disassemble, initialize dynsyms always and
	also synthsyms.  Free synthsyms and clear {sym,dynsym,synth}count
	before returning.
@
text
@d1 5
@


1.754
log
@	* strings.c (print_strings): Cast file_off to unsigned long in
	printf arg list.
@
text
@d1 9
@


1.753
log
@	PR 86
	* arsup.c (ar_save): Use smart_rename.
@
text
@d1 5
@


1.752
log
@(display_debug_pubnames): Align offset and data	columns.
(read_and_display_attr_value): Add missing break;
(debug_displays): Enable the display of the .debug_pubtypes section.
@
text
@d1 5
@


1.751
log
@        * mpw-config.in, mpw-make.sed, mac-binutils.r: Remove MPW
        support files, no longer used.
@
text
@d1 8
@


1.750
log
@	* bfd/elf32-arm.h (arm_print_private_bfd_data): Add EABI v3.
	* binutils/readelf.c (decode_ARM_machine_flags): Add EABI v3.
	* gas/config/tc-arm.c (meabi_flags): New variable.
	(arm_parse_eabi): New function.
	(md_begin): Set flags for EABI v3.
	(arm_eabis): Add.
	(arm_long_opts): Add meabi.
	* include/elf/arm.h (EF_ERM_BE8, EF_ARM_LE8, EF_ARM_EABI_VER3): Add.
	* doc/as.texinf <ARM>: Document -meabi.
	* doc/c-arm.texi: Ditto.
@
text
@d1 5
@


1.749
log
@        * readelf.c (display_debug_frames): Don't crash for mismatched
        DW_CFA_restore_state.
@
text
@d1 4
@


1.748
log
@	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.
	* aclocal.m4: Regenerate.
	* config.in: Regenerate.
	* configure: Regenerate.
	* po/binutils.pot: Regenerate.
@
text
@d1 5
@


1.747
log
@	* objdump.c (struct SFILE): Replace current pointer with pos
	offset, rename size to alloc.
	(objdump_sprintf): Avoid unnecessary copies in the common case
	(disassemble_bytes): Keep sfile live throughout the
	function. Adjust usage appropriately.
@
text
@d1 9
@


1.746
log
@	* MAINTAINERS: Update my mail address.
@
text
@d1 8
@


1.745
log
@Honour the PRIVATE keyword
@
text
@d1 4
@


1.744
log
@	* ar.c (main): Support POSIX-compatible argument parsing.

testsuite:
	* binutils-all/ar.exp (argument_parsing): New test.
@
text
@d1 20
@


1.743
log
@(process_mips_specific): Print conflictsno as an unsigned long.
@
text
@d1 4
@


1.742
log
@* dlltool.c (gen_exp_file): Always output names for forwarded symbols.
@
text
@d1 5
@


1.741
log
@gas/
	* stabs.c (generate_asm_file): Avoid warning about use of
	uninitialized variable.
binutils/
	* objcopy.c (copy_section): Avoid warnings.
@
text
@d1 4
@


1.740
log
@Use bfd_cache_close, instead of accessing bfd->iostream directly.
@
text
@d1 4
@


1.740.2.1
log
@Merge to 2.15 branch.
@
text
@a0 53
2004-04-09  Daniel Jacobowitz  <drow@@mvista.com>

	Merge from mainline:
	2004-04-07  Benjamin Monate  <benjamin.monate@@cea.fr>
	PR 86
	* arsup.c (ar_save): Use smart_rename.

	2004-04-01  Dean Luick <luick@@cray.com>
	* readelf.c (display_debug_pubnames): Align offset and data
	columns.
	(read_and_display_attr_value): Add missing break;
	(debug_displays): Enable the display of the .debug_pubtypes
	section.

	2004-03-21  Richard Henderson  <rth@@redhat.com>
	* readelf.c (display_debug_frames): Don't crash for mismatched
	DW_CFA_restore_state.

	2004-03-10  Ben Elliston  <bje@@gnu.org>
	* MAINTAINERS: Update my mail address.

	2004-03-08  Danny Smith  <dannysmith@@users.sourceforge.net>
	* deflex.l: Handle "PRIVATE" string.
	* defparse.y (%token): Add PRIVATE.
	(%type): Add opt_PRIVATE.
	(expline): Pass opt_PRIVATE to def_exports.
	(opt_PRIVATE): Handle PRIVATE token.
	* dlltool.h (def_exports): Add 7th param for private flag to
	declaration.
	* dlltool.c: Add PRIVATE to comment on EXPORTS syntax.
	(struct export): Add 'private' field.
	(def_exports): Set 'private' field of struct exports.
	(scan_drectve_symbols): Adjust calls to def_exports.
	(scan_filtered_symbols): Likewise.
	(dump_def_info): Print 'private' field.
	(gen_def_file): Likewise.
	(gen_lib_file): Skip generation of lib object if private.
	Delete tmp object files in same order as they were generated.
	Don't delete non-existent private object files.

	2004-02-27  Andreas Schwab  <schwab@@suse.de>
	* ar.c (main): Support POSIX-compatible argument parsing.

	2004-02-23  Daniel Lucq  <daniel@@lucq.org>
	* readelf.c (process_mips_specific): Print conflictsno as an
	unsigned long.

	2004-02-21  Dmitry Timoshkov  <dmitry@@baikal.ru>
	* dlltool.c (gen_exp_file): Always output names for forwarded symbols.

	2004-02-19  Jakub Jelinek  <jakub@@redhat.com>
	* objcopy.c (copy_section): Avoid warnings.

@


1.740.2.2
log
@Merge or32-rtems, French translation, and ARM mapping symbol testsuite fix
to 2.15.
@
text
@a0 4
2004-05-13  Nick Clifton  <nickc@@redhat.com>

	* po/fr.po: Updated French translation.

@


1.739
log
@.
@
text
@d1 5
@


1.738
log
@Update the copyright year
@
text
@d1 4
@


1.737
log
@* gettext.m4: Quote names of macros to be defined by AC_DEFUN
throughout.

* acinclude.m4: Quote names of macros to be defined by AC_DEFUN
throughout.
* aclocal.m4: Regenerate.
* configure: Regenerate.
@
text
@d1 4
@


1.736
log
@	* objcopy.c: Include elf-bfd.h.
	(is_strip_section): Don't strip debugging sections if
	STRIP_NONDEBUG.
	(setup_section): If STRIP_NONDEBUG make SEC_ALLOC sections
	~(SEC_LOAD | SEC_HAS_CONTENTS) and on ELF targets also SHT_NOBITS.

	* objcopy.c (copy_section): Free relpp if relcount == 0.
@
text
@d1 7
@


1.735
log
@	* stabs.c (parse_stab_argtypes): Handle g++ ABI version 3 names.
	(stab_demangle_argtypes): Likewise.
	(stab_demangle_v3_argtypes): New static function.
	(stab_demangle_v3_arg): New static function.
@
text
@d1 10
@


1.734
log
@Do not produce any output if the output file will be empty
@
text
@d1 7
@


1.733
log
@Fix initialisation of debug_line_pointer_sizes array so that it is done as needed
@
text
@d1 7
@


1.732
log
@	* objcopy.c (filter_bytes): Delete.  Move code to..
	(copy_section): ..here.  Simplify size adjustment.  Divide
	section lma by interleave.
@
text
@d1 15
@


1.731
log
@Add Russian translation
@
text
@d1 6
@


1.730
log
@Split ChangeLog files.
@
text
@d1 5
@


1.729
log
@	* MAINTAINERS: Rename CONFIGURE to BUILD SYSTEM and add myself.
@
text
@a0 1
2003-12-31  Daniel Jacobowitz  <drow@@mvista.com>
d2 1
a2 4224
	* MAINTAINERS: Rename CONFIGURE to BUILD SYSTEM and add myself.

2003-12-29  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (debug_line_pointer_size): Replace with an array
        called 'debug_line_pointer_sizes'.
        (num_debug_line_pointer_sizes): New variable.
        (display_debug_lines): Extract pointer size from the
        debug_line_pointer_sizes array.
        (display_debug_loc): Likewise.
        (prescan_debug_info): Fill in the debug_line_pointer_sizes
        array.

2003-12-23  Ralf Baechle  <ralf@@gnu.org>
	    Maciej W. Rozycki  <macro@@ds2.pg.gda.pl>

	* objcopy.c (bfd_flags_to_set, bfd_flags_to_clear): New variables
	to handle flags for tweaking.
	(copy_options): New options: impure, pure, readonly-text,
	writable-text.
	(copy_usage, copy_object, command_line_switch): Handle the new
	options.
	* doc/binutils.texi: Document the new options.

2003-12-22  Jakub Jelinek  <jakub@@redhat.com>

	* objdump.c (disassemble_bytes): Subtract rel_offset from printed
	reloc address.
	(disassemble_section): Set rel_offset to section->vma instead of
	pinfo->buffer_vma.

2003-12-19  Kazuhiro Inaoka  <inaoka.kazuhiro@@renesas.com>

	* readelf.c (guess_is_rela): Changed m32r's default type to RELA.

2003-12-11  Nick Clifton  <nickc@@redhat.com>

	* objcopy.c (strip_usage): Add --only-keep-debug.
	(copy_usage): Likewise.

2003-12-04  Nick Clifton  <nickc@@redhat.com>

	* objcopy.c (copy_object): Do not copy the object if the
	output file's format cannot be set to that of the input file.
	If the input file's format is unknown, fail.

2003-11-28  Ian Lance Taylor  <ian@@wasabisystems.com>

	* cxxfilt.c (usage): Mention new -p/--no-params options.

2003-11-28  Alan Modra  <amodra@@bigpond.net.au>

	* Makefile.am (install-exec-local): Remove common term from string
	comparison.
	* Makefile.in: Regenerate.
	* doc/Makefile.am: Don't use $<.
	* doc/Makefile.in: Regenerate.

2003-11-27  Nick Clifton  <nickc@@redhat.com>

	* rename.c (smart_rename): Make sure that we have write
	permission on the destination file before renaming.

2003-11-26  Daniel Jacobowitz <drow@@mvista.com>
	    Nick Clifton  <nickc@@redhat.com>

	* readelf.c: Add a comment describing the difference between
	readelf and objdump.
	* doc/binutils.texi (readelf): Likewise.

2003-11-25  Danny Smith  <dannysmith@@users.sourceforge.net>

	* doc/binutils.texi (dlltool): Document dlltool --temp-prefix
	option.
	* dlltool.c (usage): Likewise.

2003-11-22  Ian Lance Taylor  <ian@@wasabisystems.com>

	* cxxfilt.c (long_options): Add --no-params.
	(main): Handle -p/--no-params.
	* doc/binutils.texi (c++filt): Document -p/--no-params.

2003-11-19  Alan Modra  <amodra@@bigpond.net.au>

	* objdump.c: Wrap long lines, init vars separately from decl.
	(disassemble_section): Reset require_sec after call to
	find_symbol_for_address.

2003-11-14  Nick Clifton  <nickc@@redhat.com>

	* objdump.c (find_symbol_for_address): Change parameters so
	that the entire disassemble_info structure is passed, not just
	a few fields.  Use the symbol_is_valid field to check the
	validity of located symbols and continue searching if they are
	not valid.
	(objdump_print_addr): Alter parameters passed to
	find_symbol_for_address.
	(objdump_symbol_at_address): Likewise.
	(disassemble_section): Likewise.  Also use symbol_is_valid
	function to check the validity of located symbols.

2003-11-13  Tobias Burnus  <tobias.burnus@@physik.fu-berlin.de>

	* ar.c (open_inarch): Emit a warning when an archive is created
	(only shown with -v) in order to confrom to POSIX specification.

2003-11-11  Wang Li  <charles@@linux.net.cn>

	* objcopy.c (wildcard): New variable.  True if wildcard pattern
	matching is allowed in symbol names.
	(strip_options): Add -w option to enable wildcard pattern
	matching.
	(copy_options): Likewise.
	(copy_usage): Mention new switch.
	(strip_usage): Likewise.
	(is_specified_symbol): If performing wildcard matches use fnmatch
	to compare symbol names with entries on the symbol list.
	(strip_main): Accept -w switch.
	(copy_main): Likewise.
	* Makefile.am: Add dependency on fnmatch.h for objcopy.c
	* Makefile.in: Regenerate.
	* doc/binutils.texi: Document new switch.
	* NEWS: Mention new switch.

2003-11-11  Alan Modra  <amodra@@bigpond.net.au>

	* objdump.c: Revert rev 1.81 commit.

2003-11-10  Tobias Burnus <tobias.burnus@@physik.fu-berlin.de>

	* ar.c (print_contents): Remove "member" from verbose output in
	order to conform to POSIX specification.

2003-11-10  Alan Modra  <amodra@@bigpond.net.au>

	* README: Expand bug reporting information.

2003-11-07  Jonathan R. Grant  <jg-binutils@@jguk.org>

	* bucomm,c (get_file_size): New function.  Returns the size of a
	  file.
	* bucomm.h: Add prototype for get_file_size.
	* addr2line.c (process_file): Use new function.
	* ar.c (main, ranlib_only, ranlib_touch): Likewise.
	* nm.c (display_file): Likewise.
	* objcopy.c (add_specific_symbols, copy_file, strip_main,
	  copy_main): Likewise.
	* objdump.c (display_file): Likewise.
	* size.c (display_file): Likewise.
	* strings.c (strings_file): Likewise.
	* readelf.c (process_file): Use similar code to get_file_size.

2003-11-06  Bruno Rohee  <bruno@@rohee.com>

	* ieee.c: Fix "the the" typo.
	* stabs.c: Likewise.

2003-10-30  Marshall T. Vandegrift  <llasram@@wuli.nu>

	* readelf.c (dump_section): Do not dump the contents of SHT_NOBITS
	sections - they have no file space assigned to their contents.

2003-10-28  Segher Boessenkool  <segher@@kernel.crashing.org>

	* readelf.c (dump_section): Don't display DEL characters.

2003-10-27  Kazu Hirata  <kazu@@cs.umass.edu>

	* ChangeLog: Fix typos.
	* ChangeLog-9197: Likewise.
	* ChangeLog-9899: Likewise.
	* NEWS: Likewise.
	* ar.c: Fix comment typos.
	* arsup.c: Likewise.
	* coffgrok.c: Likewise.
	* debug.c: Likewise.
	* debug.h: Likewise.
	* dlltool.c: Likewise.
	* ieee.c: Likewise.
	* nm.c: Likewise.
	* objdump.c: Likewise.
	* prdbg.c: Likewise.
	* readelf.c: Likewise.
	* resrc.c: Likewise.
	* sysinfo.y: Likewise.
	* windres.c: Likewise.

2003-10-27  Nick Clifton  <nickc@@redhat.com>

	* objcopy.c (copy_section): Do not complain when a target does not
	support relocations.
	(mark_symbols_used_in_relocations): Likewise.

2003-10-14  Anil Paranjpe  <anilp1@@KPITCummins.com>

	* objcopy.c (copy_main): Reads machine flags from arch_info
	structure.

2003-10-20  Andrew Cagney  <cagney@@redhat.com>

	* coffgrok.h (coff_section): Replace 'struct sec" with "struct
	bfd_section".

2003-10-07  Nathan Sidwell  <nathan@@codesourcery.com>

	* objdump.c (read_section_stabs): Just read one section, return
	pointer to it. Add size parameter.
	(print_section_stabs): Add string offset parameter. Adjust.
	(struct stab_section_names): Add string offset member.
	(find_stabs_sections): Correct check for split section suffix,
	adjust read_section_stabs and print_section_stabs calls.
	(dump_stabs_section): Clear string_offset, free string table.

2003-10-01  Martin Fuchs  <martin-fuchs@@gmx.net>

	* resrc.c (define_icon): Fix storage of color attributes 'planes' and
	'bit count' in icon groups.

2003-09-30  Chris Demetriou  <cgd@@broadcom.com>

	* NEWS: Add an indication of the cutoff for 2.14.

2003-09-30  Chris Demetriou  <cgd@@broadcom.com>

	* readelf.c (get_machine_flags): Handle E_MIPS_ARCH_64R2.

2003-09-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (dump_relocations): Support SHN_IA_64_ANSI_COMMON.
	(get_symbol_index_type): Likewise.

2003-09-25  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (process_version_sections): Indent version names.

2003-09-15  Anthony Green  <green@@redhat.com>

	* dlltool.c (prefix_encode): Fix ISO C90 conversion.
	(dlltmp): Ditto.
	(dtab): Ditto.

2003-09-14  Andreas Jaeger  <aj@@suse.de>

	* addr2line.c: Convert to ISO C90 prototypes, change PTR, remove
	unneeded (void *) casts.
	* ar.c: Likewise.
	* arlex.l: Likewise.
	* arparse.y: Likewise.
	* arsup.c: Likewise.
	* binemul.c: Likewise.
	* binemul.h: Likewise.
	* bucomm.c: Likewise.
	* bucomm.h: Likewise.
	* budbg.h: Likewise.
	* budemang.c: Likewise.
	* budemang.h: Likewise.
	* coffdump.c: Likewise.
	* coffgrok.c: Likewise.
	* cxxfilt.c: Likewise.
	* debug.c: Likewise.
	* debug.h: Likewise.
	* deflex.l: Likewise.
	* dlltool.c: Likewise.
	* dlltool.h: Likewise.
	* dllwrap.c: Likewise.
	* emul_aix.c: Likewise.
	* filemode.c: Likewise.
	* ieee.c: Likewise.
	* nlmconv.c: Likewise.
	* nlmconv.h: Likewise.
	* nlmheader.y: Likewise.
	* nm.c: Likewise.
	* prdbg.c: Likewise.
	* rclex.l: Likewise.
	* rcparse.y: Likewise.
	* rdcoff.c: Likewise.
	* rddbg.c: Likewise.
	* rename.c: Likewise.
	* resbin.c: Likewise.
	* rescoff.c: Likewise.
	* resrc.c: Likewise.
	* size.c: Likewise.
	* srconv.c: Likewise.
	* stabs.c: Likewise.
	* strings.c: Likewise.
	* sysdump.c: Likewise.
	* sysinfo.y: Likewise.
	* syslex.l: Likewise.
	* unwind-ia64.c: Likewise.
	* unwind-ia64.h: Likewise.
	* version.c: Likewise.
	* windres.c: Likewise.
	* windres.h: Likewise.
	* winduni.c: Likewise.
	* wrstabs.c: Likewise.

2003-09-10  James E Wilson  <wilson@@specifixinc.com>

	* MAINTAINERS: Update my e-mail address.

2003-09-09  Ian Lance Taylor  <ian@@wasabisystems.com>

	* MAINTAINERS: Update my e-mail address.

2003-09-04  Nick Clifton  <nickc@@redhat.com>

	* MAINTAINERS: Make it clear what should be done with patches to
	the top level configure files (other than config.guess and
	config.sub).  Add binutils@@sources.redhat.com as an address to
	which patches can be sent.

2003-09-04  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (get_machine_flags): Recognise V850E1 machine type.

2003-09-03  Andrew Cagney  <cagney@@redhat.com>

	* objdump.c: Refer to init_disassemble_info in comments.
	(disassemble_data): Replace INIT_DISASSEMBLE_INFO with
	init_disassemble_info.

2003-09-03  Nick Clifton  <nickc@@redhat.com>

	* objdump.c (struct objdump_disasm_info): Add new fields
	'dynrelbuf', 'dynrelcount' and 'disassemble_fn'.
	(process_section_p): New function:  Returns TRUE if a section
	can be dumped.
	(disassemble_section): New function: Contains the body of
	disassemble_data(), but just for one section.
	(disassemble_data): Use bfd_map_over_sections to walk section
	chain.
	(find_stabs_section): New function: Find a stabs containing
	section and then dump it.
	(dump_stabs_section): New function: Use bfd_map_over_sections
	to find the section to dump.
	(dump_stabs): Use dump_stabs_section.
	(dump_section): New function: Display the contents of a
	section.
	(dump_data): Use bfd_map_over_sections to display section
	contents.
	(dump_relocs_in_section): Display the relocs in a given section.
	(dump_relocs): Use bfd_map_over_sections to display relocs.
	(adjust_addresses): New function: Adjust the vma and lma of
	sections.
	(dump_bfd): Use bfd_map_over_sections.
	* doc/binutils.texi: Document the "objdump -s" (no longer)
	dumps empty sections.

2003-08-24  Jonathan R. Grant  <jg-binutils@@jguk.org>

	* objdump.c: Improve comments/documentation.
	dump_data: Eliminate duplicate function calls to bfd_section_size.

2003-09-02  Alan Modra  <amodra@@bigpond.net.au>

	* MAINTAINERS: Move Dave Anglin's entry to where it belongs.

2003-08-21  Nick Clifton  <nickc@@redhat.com>

	* po/tr.po: Updated Turkish translation.

2003-08-14  Alan Modra  <amodra@@bigpond.net.au>

	* dep-in.sed: Remove libintl.h.
	* Makefile.am (POTFILES.in): Unset LC_COLLATE.
	Run "make dep-am".
	* Makefile.in: Regenerate.

2003-08-11  Ian Lance Taylor  <ian@@airs.com>

	* readelf.c (process_archive): Fix error handling.  Remove memory
	leak.

	* readelf.c: Add ability to read archives.
	(archive_file_offset): New variable.
	(archive_file_size): New variable.
	(get_data): Include archive_file_offset in file offset
	calculation when fseeking.
	(process_program_headers): Likewise.
	(process_symbol_table): Likewise.
	(process_dynamic_segment): Handle computation of end of file
	position when the file is in an archive.
	(process_object): New function.  Contains the body of
	process_file().
	(process_archive): New function.  Call process_object on each
	member of an archive.
	(process_file): Detect archives and handle appropriately.
	* Makefile.am: Add dependency on aout/ar.h for readelf.c
	* Makefile.in: Regenerate.
	* NEWS: Document readelf's new ability.
	* doc/binutils: Alter text to say that readelf supports archives
	and 64-bit ELF files.

2003-08-08  Nick Clifton  <nickc@@redhat.com>

	* po/fr.po: Updated French translation.

2003-08-05  Alan Modra  <amodra@@bigpond.net.au>

	* objcopy.c: Remove unnecessary prototypes and casts.
	* objdump.c: Remove unnecessary casts.
	* readelf.c: Convert to C90.  Remove unnecessary prototypes and casts.
	(get_osabi_name): Move so we don't need a forward declaration.

2003-08-04  Bradley Harrington  <bharring@@us.ibm.com>
	    Alan Modra  <amodra@@bigpond.net.au>

	* objdump.c (include_paths, include_path_count): New vars.
	(usage): Describe --include.
	(long_options): Add "include".
	(add_include_path): New function.
	(struct print_file_list): Make filename const.  Add modname.
	(try_print_file_open, update_source_path): New functions.
	(show_line): Use them.
	(main): Handle 'I' option.  Don't check for NULL xrealloc arg.

2003-07-30  Alan Modra  <amodra@@bigpond.net.au>

	* objdump.c: Remove unnecessary prototypes.
	(disassemble_bytes): Add rel_offset parameter.  Simplify reloc skipping
	code, and print relocs when dump_dynamic_reloc_info.
	(disassemble_data): Read and handle dynamic relocs.  Correct reloc
	skip code.  Formatting.
	(dump_bfd): Don't dump dynamic relocs when disassembling.

2003-07-29  Ben Elliston  <bje@@wasabisystems.com>

	* MAINTAINERS: Remove self as M88k maintainer.  Future M88k
	maintenance defaults to the blanket write privilege maintainers.

2003-07-29  Michael Meissner  <gnu@@the-meissners.org>

	* MAINTAINERS: Updated my email address.

2003-07-29  Nick Clifton  <nickc@@redhat.com>

	* objdump.c: Update to ISO C.

2003-07-24  Nick Clifton  <nickc@@redhat.com>

	* objdump.c (disassemble_data): Do not ignore sections without the
	LOAD flag when disassemble_all is true.  Only print a message
	about disassembling a section if it contains some data.

	* po/fr.po: Updated French translation.

2003-07-23  Nick Clifton  <nickc@@redhat.com>

	* objcopy.c: Switch to ISO C.  Remove debugging code accidentally
	left in.  Some formatting tidy ups.

2003-07-22  Salvador Eduardo Tropea <set@@computer.org>

	* objdump.c: New command line option --debugging-tags.
	* doc/binutils.texi: Document new command line option.
	* prdbg.c: Code to print the debug info as tags compatible
	with ctags.
	* budbg.h: Adjust prototype.
	* NEWS: Mention new switch

2003-07-18  Nick Clifton  <nickc@@redhat.com>

	* objdump.c (main) :Accept multiple -M switch.
	* doc/binutils.texi: Document that multiple -M switches are
	accepted and that a single -M switch can contain comma
	separated options.

2003-07-17  Nick Clifton  <nickc@@redhat.com>

	* objdump.c (main): Issue a warning message if multiple -M
	switches are used.

	* doc/binutils.texi (objdump): Update documentation about -M
	option.

2003-07-17  Nick Clifton  <nickc@@redhat.com>

	* po/es.po: New Spanish translation.

2003-07-11  Alan Modra  <amodra@@bigpond.net.au>

	* po/binutils.pot: Regenerate.

2003-07-05  Christopher Faylor  <cgf@@redhat.com>

	* dlltool.c (prefix_encode): Use a fixed length for alpha.

2003-07-04  Christopher Faylor  <cgf@@redhat.com>

	* dlltool.c (prefix_encode): New function.  Encode temp file prefix
	from pid.
	(dlltmp): Pass address of pointer being alloced or suffer neverending
	mallocs.
	(make_one_lib_file): Allocate enough space for new longer stub names.
	(gen_lib_file): Ditto.
	(main): Generate the temp file prefix from the pid if prefix was not
	specified on the command line.

2003-07-04  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (get_data): Print (unsigned) hex values for size and
	offset in error messages.
	(process_section_headers): If the string table could not be
	allocated, do not continue.

2003-07-01  Jakub Jelinek  <jakub@@redhat.com>

	* readelf.c (dynamic_segment_ia64_val): Print address and newline
	for sections by default.  Comment fix.

2003-06-28  Danny Smith  <dannysmith@@users.sourceforge.net>

	* rcparse.y (res_text_field): New res_id variable.
	(res_null_text): New static const struct res_id object,
	with empty unicode name field.
	(control): Pop parsing of optresidc up one level. Set
	res_text_field to $2 except for controls which do not accept
	a text field.  Set res_text_field to res_null_text for the
	special cases (viz. COMBOBOX, EDITTEXT, LISTBOX, SCROLLBAR).
	(control_params): Adjust to use res_text_field rather
	than optresidc.
	(COMBOBOX): Add comment about discrepency between documented
	vs. observed default style.
	* resrc.c (define_control): Make first param const.
	* windres.h (define_control): Adjust prototype.

2003-06-27  Nick Clifton  <nickc@@redhat.com>

	* objcopy.c (copy_object): Replace call to
	bfd_create_gnu_debuglink_section with separate calls to
	bfd_add_gnu_debuglink_section and
	bfd_fill_in_gnu_debuglink_section, separated by a walk over the
	symbol tables.

2003-06-26  Roland McGrath  <roland@@redhat.com>

	* readelf.c (loadaddr): Variable removed.
	(dynamic_info, version_info): Fix type long -> bfd_vma.
	(program_headers): New variable.
	(get_program_headers): New function, broken out of
	process_program_headers.
	(process_program_headers): Call it.  Don't set `loadaddr'.
	(slurp_ia64_unwind_table): Use get_program_headers.
	(process_corefile_note_segments):  Likewise.
	(offset_from_vma): New function.
	(process_relocs, process_dynamic_segment): Call that instead of
	subtracting `loadaddr'.
	(process_version_sections, process_symbol_table): Likewise.
	(process_mips_specific): Likewise.

2003-06-26  Nick Clifton  <nickc@@redhat.com>

	* objcopy (enum strip_action): Add STRIP_NONDEBUG.
	(OPTION_ONLY_KEEP_DEBUG): New.
	(strip_options): Add --only-keep-debug.
	(copy_options): Likewise.
	(is_strip_section): Invert return value if STRIP_NONDEBUG is
	active.
	(copy_object): Do not copy private data when STRIP_NONDEBUG is
	active.
	(setup_section): Likewise.
	(strip_main): Handle --only-keep-debug.
	(copy_main): Likewise.
	* NEWS: Mention new switch
	* doc/binutils.texi: Document new switch.

2003-06-25  Alan Modra  <amodra@@bigpond.net.au>

	* NEWS: Correct spelling of "relocatable".
	* objdump.c: Likewise.
	* sysroff.info: Likewise.

2003-06-19  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (print_vma): When printing DEC_5 values, if the
	number is bigger than 99999 switch to using hexadecimal
	notation.

2003-06-11  Nick Clifton  <nickc@@redhat.com>

	* objcopy.c (gnu_debuglink_filename): New variable.
	(OPTION_ADD_GNU_DEBUGLINK): New switch
	(copy_options): Describe --add-gnu-debuglink switch.
	Mention that --strip-debug removes sections as well.
	(is_strip_section): Process the sections removed and kept
	lists before checking for debugging sections.
	(add_redefine_syms_file): Make function static.
	(copy_object): Use is_strip_section.
	Check to see if a .gnu_debuglink section should be added.  If
	so, call bfd_add_gnu_debuglink.
	(setup_section): Use is_strip_section.
	(copy_section): Use is_strip_section.
	(copy_main): Handle OPTION_ADD_GNU_DEBUGLINK.
	* NEWS: Mention new objcopy switch.
	* doc/binutils.texi: Document new switch.

2003-06-11  H.J. Lu <hongjiu.lu@@intel.com>

	* po/Make-in (DESTDIR): New.
	(install-data-yes): Support $(DESTDIR).
	(uninstall): Likewise.

2003-06-11  Alan Modra  <amodra@@bigpond.net.au>

	* Makefile.in: Regenerate.

2003-05-23  Jakub Jelinek  <jakub@@redhat.com>

	* readelf.c (get_segment_type): Handle PT_GNU_STACK.

2003-06-03  Elias Athanasopoulos  <elathan@@phys.uoa.gr>

	* NEWS: Document the new BSD/POSIX single-character mapping for
	.comment/.note sections.

2003-06-02  Chris Demetriou  <cgd@@broadcom.com>
	    Jason Thorpe  <thorpej@@wasabisystems.com>

	* objcopy.c (redefine_list_append): Add an argument that
	indicates the context from which this function is being
	called.  Change all callers.
	(copy_options): Add a new option, --redefine-syms.
	(copy_usage): Document new option.
	(copy_main): Handle the --redefine-syms option.
	* doc/binutils.text (objcopy): Document new option.

2003-05-31  Richard Henderson  <rth@@redhat.com>

	* readelf.c (byte_get_signed): New.
	(get_encoded_value): New.
	(display_debug_frames): Use it.  Always pre-process opcodes.

2003-05-20  Michal Ludvig  <mludvig@@suse.cz>

	* readelf.c (display_debug_frames): Print both registers
	for DW_CFA_register.

2003-05-16  Kelley Cook  <kelleycook@@wideopenwest.com>

	* configure.in: Accept i[3-7]86 variants. Escape '[]' for
	i[3-7]86-*-interix.
	* configure.in: Regenerate.

2003-05-13  Michael Eager <eager@@mvista.com>

	* objcopy.c: Treat identical src/dst file names as if only one
	entered.  One Windows creating an output file of the same name as
	the input file will delete the input file before it is read.

2003-05-12  Salvador Eduardo Tropea  <salvador@@inti.gov.ar>

	* debug.c (debug_get_real_type): Extend test for circular debug
	references.

2003-05-12  Nick Clifton  <nickc@@redhat.com>

	* configure.in (ALL_LINGUAS): Add zh_CN.
	* configure: Regenerate.
	* po/zh_CN.po: New file: Chinese (simplified) translation.

2003-05-11  Jason Eckhardt  <jle@@rice.edu>

	* MAINTAINERS: Update my mail address.

2003-05-07  H.J. Lu <hongjiu.lu@@intel.com>

	* readelf.c (dump_relocations): Enlarge the type field in wide
	mode by one character.

2003-05-03  Richard Henderson  <rth@@redhat.com>

	* readelf.c (struct Frame_Chunk): Add cfa_exp.
	(frame_display_row): Just print "exp" for cfa or register
	defined by a location expression.
	(display_debug_frames): Handle DW_CFA_def_cfa_expression,
	DW_CFA_expression, DW_CFA_MIPS_advance_loc8.

2003-04-30  H.J. Lu <hjl@@gnu.org>

	* objdump.c (only): Change it to char **.
	(only_size): New.
	(only_used): New.
	(disassemble_data): Check only as an array.
	(dump_data): Likewise.
	(dump_relocs): Likewise.
	(main): Treat only as an array.

2003-04-24  Dimitrie O. Paun <dpaun@@rogers.com>

	* doc/binutils.texi: Fix the documentation for the -fo option.

2003-04-23  J"orn Rennecke <joern.rennecke@@superh.com>

	* readelf.c (get_machine_name) <EM_SH>: Amend return value
	to refer to SuperH.

	* readelf.c (decode_location_expression): Don't add a trailing ';'.

2003-04-23  Dimitrie O. Paun <dpaun@@rogers.com>
	    Nick Clifton  <nickc@@redhat.com>

	* windres.c (long_options): Move close to main, where it is used.
	Add 'input' and 'output' long options.
	(main): Accept "-fo" as an alias for "-o".  This is for rc
	comptibility.
	* doc/binutils.texi: Mention that -fo is accepted as an alias for
	-o, but discourage its use.

2003-04-22  Dimitrie O. Paun  <dpaun@@rogers.com>

	* windres.c (format_from_name): Make the exit on error
	behaviour optional.
	(main): Rename the -I option to -J. Introduce -I as a synonym
	for --include-dir.  For backwards compatibility also support the
	old -I behaviour, but issue a deprecation warning.
	* doc/binutils.texi: Rename -I to -J.  Document the new behaviour
	of the -I option.

2003-04-22  Kazuhiro Inaoka  <inaoka.kazuhiro@@renesas.com>

	* readelf.c: Replace references to Mitsubishi M32R with
	references to Renesas M32R.

2003-04-15  Rohit Kumar Srivastava <rohits@@kpitcummins.com>

	* readelf.c: Replace occurrances of 'Hitachi' with 'Renesas'.

2003-04-09  Alexandre Oliva  <aoliva@@redhat.com>

	* doc/binutils.texi (objdump) [--debugging]: Suggest readelf -w
	for debugging information types not supported by objdump.

2003-04-09  Bernd Jendrissek <berndj@@prism.co.za>

	* configure.in: Recognize canonical form of i[3-6]86-pe*.
	* configure: Regenerate.

2003-04-09  Alexandre Oliva  <aoliva@@redhat.com>

	* readelf.c (display_debug_info): Apply RELA relocations on the
	entire section.
	(byte_put_little_endian, byte_put_big_endian): New functions.
	(byte_put): New variable.
	(get_file_header): Initialize it.

2003-04-05  Dimitrie O. Paun <dpaun@@rogers.com>

	* windres.c: Add -l for compatibility with wrc, and rc.
	Use the short option as a key for long options that have
	a synonymous short option.
	* doc/binutils.texi: Added -l to the list of options.

2003-04-03  Dimitrie O. Paun <dpaun@@rogers.com>

	* windres.c: Add -U for compatibility with wrc, rc, and cpp.
	(main): Just pass the -U option down to the preprocessor.
	* doc/binutils.texi: Added -U to the list of options.

2003-04-01  Dimitrie O. Paun <dpaun@@rogers.com>

	* windres.c (usage): Report -r option.
	(main): Ignore the -r option.
	* doc/binutils.texi: Add -r to the list of options.

2003-04-01  Bob Wilson  <bob.wilson@@acm.org>

	* MAINTAINERS: Add myself as Xtensa maintainer.

2003-04-01  Bob Wilson  <bob.wilson@@acm.org>

	* readelf.c: Include "elf/xtensa.h".
	(guess_is_rela): Add EM_XTENSA and EM_XTENSA_OLD to list of
	targets that use RELA relocations.
	(dump_relocations): Call elf_xtensa_reloc_type for
	EM_XTENSA and EM_XTENSA_OLD.
	(get_machine_name): Handle EM_XTENSA and EM_XTENSA_OLD.

2003-04-01  Nick Clifton  <nickc@@redhat.com>

	* configure.in: Change "arm-pe*" to "arm-*-pe*".  Similarly for
	thumb-pe*, mcore-pe and mcore-*elf.
	* configure: Regenerate.

2003-03-31  Alexandre Oliva  <aoliva@@redhat.com>

	* objdump.c (dump_data): Don't truncate the address to long; make
	the width large enough, and uniform for all entries in a section.

2003-03-31  H.J. Lu <hjl@@gnu.org>

	* readelf.c: Include "libiberty.h".
	(dynamic_relocations): New.
	(process_relocs): Properly handle dynamic relocation.
	(process_dynamic_segment): Fill relocation elements in
	dynamic_info.

2003-03-31  Kevin Buettner <kevinb@@redhat.com>

	* readelf.c (read_and_display_attr, read_and_display_attr_value):
	Add new arguments ``offset_size'' and ``dwarf_version''.  Adjust
	all callers.
	(display_debug_lines, display_debug_pubnames, display_debug_info)
	(display_debug_aranges, display_debug_frames, read_and_display_attr)
	(read_and_display_attr_value): Add 64-bit DWARF support.

2003-03-31  Ian Lance Taylor <ian@@airs.com>

	* rcparse.y: Replace uses of 'optstringrc' with 'optresid'.
	(optresid): Handle a resource id that can be a string or a number.
	* resrc.c (define_control): Replace 'text' parameter with 'iid' a
	struct res_id.
	(define_icon_control): Pass a struct res_id to define_control.
	* windres.h (define_control): Change prototype.

2003-03-24  Elias Athanasopoulos  <elathan@@phys.uoa.gr>

	* objcopy (OPTION_FORMATS_INFO): Define.
	(strip_options): Add "info"/OPTION_FORMATS_INFO option.
	(copy_options): Likewise.
	(strip_usage): Add "--info" to usage.
	(copy_usage): Likewise.
	(strip_main): Declare formats_info. Iniatilize it to FALSE.
	Handle "info".
	(copy_main). Likewise.
	* doc/binutils.texi. Document the "--info" option for
	objcopy/strip.
	* NEWS: Mention the new command line switch.

	* objdump.c (endian_string): Move to bucomm.c.
	(display_info): Likewise.
	(display_target_list): Likewise.
	(display_info_table): Likewise.
	(display_target_tables): Likewise.
	(main): Assign the return value of display_info to exit_status.
	* bucomm.c: Include bfdver.h and libbfd.h
	(display_target_list): Call bfd_nonfatal instead of nonfatal and
	return 0 on a non-fatal error, 1 on success.
	(display_info_table): Likewise.
	* bucomm.h (display_info): Provide a prototype.
	* Makefile.am (bucomm.o): Add dependencies on bfdver.h and
	libbfd.h.
	* Makefile.in: Regenerate.

2003-03-22  Danny Smith  <dannysmith@@users.sourceforge.net>

	* dlltool.c (gen_def_file): Put demangled name comments on
	own line preceding export name.

2003-03-17  Nick Clifton  <nickc@@redhat.com>

	* objdump.c (disassemble_data): Use disasm_info.fprintf_func not
	printf for emitting new lines.

2003-03-16  Elias Athanasopoulos  <elathan@@phys.uoa.gr>

	* nm.c (print_symbol_info_bsd): Print the symbol's size instead of
	the symbol's value when --size-sort is used, unless -S is used.
	doc/binutils.texi (--size-sort): For non-bsd formats both the
	value and size of the symbols are displayed.

2003-03-13  Nick Clifton  <nickc@@redhat.com>

	* po/da.po: Update.

2003-03-12  Nick Clifton  <nickc@@redhat.com>

	* MAINTAINERS: Remove Peter Targett as ARC maintainer.

2003-03-10  Ben Elliston  <bje@@wasabisystems.com>

	* MAINTAINERS: Update my mail address.

2003-03-06  Elias Athanasopoulos  <elathan@@phys.uoa.gr>

	* stabs.c (BYTES_IN_WORD): Remove definition.
	* wrstabs.c (BYTES_IN_WORD): Likewise.

2003-03-04  Nick Clifton  <nickc@@redhat.com>

	* nm.c (main): Print a warning message if --size-sort and
	--undefined-only are used together.

2003-03-04  Elias Athanasopoulos  <elathan@@phys.uoa.gr>

	* nm.c (print_symbol): Remove check for undefined_only.

2003-03-03  Nick Clifton  <nickc@@redhat.com>

	* po/da.po: Installed latest translation.

2003-02-24  Nick Clifton  <nickc@@redhat.com>

	* README: Update binutils references to 2.13.
	Add paragraph about using --disable-nls.

2003-02-24  Elias Athanasopoulos  <elathan@@phys.uoa.gr>

	* doc/binutils.texi (nm --size-sort): Update.

2003-02-21  James E Wilson  <wilson@@tuliptree.org>

	* MAINTAINERS: Update email address.

2003-02-21  Ian Wienand  <ianw@@gelato.unsw.edu.au>

	* readelf.c (get_ia64_dynamic_type): New function.
	(dynamic_segment_ia64_val): New function.
	(get_dynamic_type): If machine type is EM_IA_64 call
	get_ia64_dynamic_val.
	(get_ia64_section_type_name): Handle sections with types in the
	SHT_IA_64_LOPSREG to SHT_IA_64_HIPSREG range.
	(get_dynamic_flags): If machine type is EM_IA_64 call
	dynamic_segment_ia64_val.

2003-02-21  Bob Wilson  <bob.wilson@@acm.org>

	* doc/binutils.texi: Fix typos and obvious texinfo mistakes.  Make
	section title capitalization more consistent.  Update descriptions
	of various options to be consistent with the code.  Fix errors and
	incomplete list in the description of c++filt format options.  Remove
	information about the linker.  Change to be more polite about poor
	bug reports.  Replace FDL appendix with include of fdl.texi.
	* doc/fdl.texi: New file.

2003-02-21  Roger Sayle  <roger@@eyesopen.com>

	* objcopy.c (filter_symbols): Fix compilation problems with
	HP-UX's C compiler.

2003-02-19  Christopher Faylor  <cgf@@redhat.com>

	* rclex.l (handle_quotes): Fix minor formatting problems introduced in
	previous change.

2003-02-19  Mark Blackburn  <marklist@@fangorn.ca>

	* rclex.l (handle_quotes): Handle strings spanning more than one line.

2003-02-12  Bob Wilson  <bob.wilson@@acm.org>

	* nm.c (usage): Add `java' and `gnat' demangle styles and make
	quotes consistent.
	* objdump.c (usage): Ditto.  Also fix some typos.

	* readelf.c (parse_args): Include 'H' option in call to getopt_long.

	* debug.c (debug_record_variable): Handle global register variables.

	* stabs.c (parse_stab): For N_SLINE only include
	function_start_offset if the symbol is within a function;
	otherwise, the value is absolute.

2003-02-10  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (decode_ARM_machine_flags): Handle the
	EF_ARM_MAVERICK_FLOAT flag.

2003-02-04  Andreas Schwab  <schwab@@suse.de>

	* rddbg.c (read_section_stabs_debugging_info): Cast ptrdiff_t to
	long and use %ld in printf format.

2003-01-28  Richard Sandiford  <rsandifo@@redhat.com>

	* readelf.c (dump_relocations): Reorder the r_info field for
	little-endian mips elf64.  Move #ifdef BFD64 to cover the new code.

2003-01-21  Daniel Berlin  <dan@@dberlin.org>

	* readelf.c (display_debug_loc): Skip address base changes.

2003-01-17  Fabio Alemagna  <falemagn@@aros.org>

	* readelf.c (get_osabi_name): Handle ELFOSABI_AROS, ELFOSABI_OPENVMS
	and ELFOSABI_NSK.

2003-01-16  Alan Modra  <amodra@@bigpond.net.au>

	* readelf.c: Include elf/ppc64.h.
	(dump_relocations <EM_PPC64>): Use elf_ppc64_reloc_type.
	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.

2003-01-02  Ben Elliston  <bje@@redhat.com>

	* readelf.c (guess_is_rela): Handle EM_IQ2000.
	(get_machine_name): Likewise.
	(dump_relocations): Likewise.
	* NEWS: Mention IQ2000 support.

2003-01-02  Richard Sandiford  <rsandifo@@redhat.com>

	* readelf.c (get_machine_flags): Handle E_MIPS_ARCH_32R2.

2002-12-30  Chris Demetriou  <cgd@@broadcom.com>

	* doc/binutils.texi (objdump): Note MIPS HWR (Hardware Register)
	changes in MIPS -M options.

2002-12-30    Dmitry Diky <diwil@@mail.ru>

	* Makefile.am: Add msp430 target.
	* Makefile.in: Regenerate.
	* readelf.c: Add support for msp430 target.

2002-12-27  Chris Demetriou  <cgd@@broadcom.com>

	* doc/binutils.texi (objdump): Document MIPS -M options.

2002-12-23  Andreas Schwab  <schwab@@suse.de>

	* readelf.c (main): Reset dump request after each file.

2002-12-23  Nick Clifton  <nickc@@redhat.com>

	* nlmconv.c (main): Pass TRUE as third argument to
	bfd_arch_get_compatible.

2002-12-23  Nick Clifton  <nickc@@redhat.com>

	* strings.c (isgraphic): Replace definition with STRING_ISGRAPHIC
	macro.  Handle 'S' encoding, accepting 8-bit characters.
	(main): Parse 'S' encoding.
	(get_char): Accept 'S' encoding.
	(print_strings): Use STRING_ISGRAPHIC.
	(usage): Document support of 'S' encoding.
	* doc/binutils.texi: Document support of 'S' encoding/
	* NEWS: Mention new feature.

2002-12-20  Alan Modra  <amodra@@bigpond.net.au>

	* README <building ar>: Don't use libibery's needed_list or
	required_list, instead link libiberty/*.o.

2002-12-19  Kazu Hirata  <kazu@@cs.umass.edu>

	* doc/binutils.texi: Fix typos.

2002-12-14  John David Anglin  <dave@@hiauly1.hia.nrc.ca>

	* doc/binutils.texi: Add missing parenthesis.

2002-12-15  Nick Kelsey  <nickk@@ubicom.com>

	* objcopy.c: Add --prefix-symbols=<prefix> option to rename all
	symbols by adding the given prefix to the begining of the symbol
	name. This is useful to provide name space separation regardless
	of how the object file was created. Added --prefix-sections=
	<prefix> and --prefix-alloc-sections=<prefix> options to rename all
	sections (or all sections with the alloc flag set) by adding the given
	prefix to the begining of the symbol name.
	* NEWS: Mention this new feature.
	* doc/binutils.texi: Document this new feature.

2002-12-13  Alan Modra  <amodra@@bigpond.net.au>

	* dlltool.c (mcore_elf_gen_out_file): Replace all occurrences of
	dyn_string_append with dyn_string_append_cstr.

	* emul_aix.c (ar_emul_aix_create): Remove unused function.

2002-12-10  James Cownie <jcownie@@etnus.com>

	* readelf.h (get_TAG_name, get_AT_name,
	read_and_display_attr_value): Add support for UPC extensions to
	DWARF2 spec.
	* NEWS: Mention this new support.

2002-12-08  Alan Modra  <amodra@@bigpond.net.au>

	* NEWS: Mention that bfd no longer declares a "boolean" type.

2002-12-07  Alan Modra  <amodra@@bigpond.net.au>

	* readelf.c (process_program_headers): When setting loadaddr, don't
	assume segment size is 4k.  Use p_align instead.
	(loadaddr): Change from int to long.
	(dynamic_addr, dynamic_info, version_info): Likewise.
	(process_dynamic_segment <syminsz>): Likewise.
	(process_dynamic_segment): Adjust print format string.
	(rela_addr, rela_size): Delete.
	(process_relocs): Formatting.

2002-12-05  Jim Wilson  <wilson@@redhat.com>

	* configure.in (OBJDUMP_DEFS): Define SKIP_ZEROES as 16 for IA-64.
	* configure: Regenerate.

2002-12-04  Ian Lance Taylor  <ian@@airs.com>

	* MAINTAINERS: Change e-mail address back to airs.com.

2002-12-04  Aldy Hernandez  <aldyh@@redhat.com>

	* MAINTAINERS: Add self.

2002-11-30  Alan Modra  <amodra@@bigpond.net.au>

	* addr2line.c, ar.c, arsup.c, binemul.c, binemul.h, bucomm.c, bucomm.h,
	budbg.h, debug.c, debug.h, dlltool.c, emul_aix.c, ieee.c, nlmconv.c,
	nlmconv.h, nlmheader.y, nm.c, objcopy.c, objdump.c, prdbg.c, rdcoff.c,
	rddbg.c, readelf.c, rename.c, size.c, stabs.c, strings.c,
	unwind-ia64.h, wrstabs.c: Replace boolean with bfd_boolean, true with
	TRUE, false with FALSE.  Simplify comparisons of bfd_boolean vars
	with TRUE/FALSE.  Formatting.

2002-11-29  Jakub Jelinek  <jakub@@redhat.com>

	* readelf.c Replace occurrences of Elf32_Internal_* and
	Elf64_Internal_* with Elf_Internal_*.
	(slurp_rel_relocs): Change Elf_Internal_Rel to Elf_Internal_Rela.
	Zero r_addend fields.
	(dump_relocations): Remove relas variable, change Elf_Internal_Rel to
	Elf_Internal_Rela.

2002-11-23  Nick Clifton  <nickc@@redhat.com>

	* size.c (usage): Fix typo describing switch for hex format.

2002-11-18  Svein E. Seldal  <Svein.Seldal@@solidas.com>

	* testsuite/binutils-all/objcopy.exp: Disable tic4x from test
	* testsuite/binutils-all/objdump.exp: Setup proper values for tic4x
	testcase

2002-11-14  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (process_program_headers): Add comment about return
	value.  Ensure that 0 is returned if the headers are not loaded.
	(process_file): If process_section_headers failed to load the
	headers disable any tests that rely upon them.  Similarly for
	process_program_headers.

2002-11-12  Nick Clifton  <nickc@@redhat.com>

	* po/da.po: Updated Danish translation.

2002-11-12  Klee Dienes  <kdienes@@apple.com>

	* rddbg.c (read_section_stabs_debugging_info): Also recognize
	LC_SYMTAB.stab/LC_SYMTAB.stabstr as a valid pair of sections.

2002-11-11  Christopher Faylor  <cgf@@redhat.com>

	* MAINTAINERS: Reinstate DJ Delorie as COFF maintainer.  Drop COFF from
	cgf maintainership.

2002-11-11  Christopher Faylor  <cgf@@redhat.com>

	* MAINTAINERS: Replace DJ Delorie as PE/COFF maintainer.

2002-11-07  Nick Clifton  <nickc@@redhat.com>

	* configure.in (ALL_LINGUAS): Add 'da'.
	* configure: Regenerate.
	* po/da.po: New Danish translation.

	* readelf.c (get_symbol_index_type): Revert part of previous
	patch: Display unknown symbol types in decimal, not hex.

2002-11-07  Danny Smith  <dannysmith@@users.sourceforge.net>

	* dlltool.c (add_excludes): Don't prefix excluded fastcall
	symbols	with underscore.
	(xlate): Ignore add_underscore for decorated fastcall symbols.

2002-11-07  Eric Kohl  <ekohl@@rz-online.de>

	* deflex.l: Accept '@@' as first character of an ID.
	* dlltool.c (gen_exp_file): Use existing '@@' prefix rather than
	ASM_PREFIX for fastcall symbols.
	(scan_drectve_symbols): Handle fastcall symbols when generating
	undecorated aliases for symbols in drectve section.
	(scan_filtered_symbols): Likewise, with export-all.
	(xlate): Likewise, with --kill-at.
	(make_imp_label): New function to handle fastcall symbols
	correctly.
	(make_one_lib_file): Use make_imp_label instead of make_label
	for imp	symbols.

2002-11-06  Svein E. Seldal  <Svein.Seldal@@solidas.com>

	* MAINTAINERS: Add self as TIC4X maintainer.

2002-11-06  Hiroyuki Machida  <machida@@sm.sony.co.jp>

	* readelf.c (get_symbol_index_type): Add hex number to
	PROCESSOR-specific, OS-specific, reserved and unknown symbol
	types.

2002-11-04  Alan Modra  <amodra@@bigpond.net.au>

	* readelf.c (byte_get_little_endian): Comment typo fix.
	(print_symbol): Constify "symbol" arg.  Don't pass "symbol" to printf
	as the format string.
	(dump_relocations): Correct section sym names.
	(process_section_headers): Clear symtab_shndx_hdr.
	(read_and_display_attr_value): Don't pass indirect string to printf
	as the format string.
	(display_debug_frames): Indicate when zero terminator found.  Decode
	DW_EH_PE_pcrel addresses.

2002-10-23  Svein E. Seldal  <Svein.Seldal@@solidas.com>

	* configure.in: Define SKIP_ZEROES as 32 for tic4x target in
	order to ensure proper disassembly of the valid 0-value opcode.
	* configure: Regenerate.
	* aclocal.m4: Regenerate.
	* config.in: Regenerate.
	* configure.in: Regenerate.
	* doc/Makefile.in: Regenerate.
	* po/binutils.pot: Regenerate.

2002-10-23  Kaz Kojima  <kkojima@@rr.iij4u.or.jp>

	* MAINTAINERS: Add self as SH maintainer.

2002-10-23  Ben Elliston  <bje@@redhat.com>

	* doc/binutils.texi (objdump): Document -z and move the entry for
	--disassemble-zeroes to the end of the options section (for `z').

2002-10-21  Nick Clifton  <nickc@@redhat.com>

	* MAINTAINERS: Discontinue Hans-Peter Nilsson as SH maintainer.

2002-10-21  Svein E. Seldal  <Svein.Seldal@@solidas.com>

	* objdump.c (dump_data): Correct addr_offset for opb != 1.

2002-10-15  Alan Modra  <amodra@@bigpond.net.au>

	* bucomm.c (list_supported_targets): Use bfd_target_list.

	* objcopy.c (copy_file): Report ambiguous bfd_object matches, and
	other object errors in preference to bfd_core errors.

2002-10-14  Alan Modra  <amodra@@bigpond.net.au>

	* Makefile.am: Run "make dep-am".
	* objdump.c: #include "bfdver.h".
	* version.c: Likewise.
	* Makefile.in: Regenerate.
	* config.in: Regenerate.
	* configure: Regenerate.
	* po/POTFILES.in: Regenerate.

2002-10-09  Daniel Jacobowitz  <drow@@mvista.com>

	* readelf.c (display_debug_info): Ignore empty .rela.debug_info
	sections.  Allow relocations against the absolute symbol.  Don't
	use the value in compunit.cu_abbrev_offset if we found a RELA
	relocation.

2002-10-07  Gordon Chaffee <chaffee@@netvmg.com>

	* addr2line.c (slurp_symtab): Read in dynamic symbols if no
	ordinary ones are available.

2002-09-30  H.J. Lu <hjl@@gnu.org>

	* readelf.c (get_machine_flags): Handle E_MIPS_MACH_4120,
	E_MIPS_MACH_5400 and E_MIPS_MACH_5500.

2002-09-17  Zack Weinberg  <zack@@codesourcery.com>

	* Makefile.am (CFILES): Add cxxfilt.c.
	(cxxfilt_SOURCES): Now just cxxfilt.c $(BULIBS).
	(cxxfilt_LDADD): Delete.
	Remove all references to underscore.c.
	Regen dependencies.
	* configure.in: Define TARGET_PREPENDS_UNDERSCORE in
	config.h from $UNDERSCORE, rather than AC_SUBSTing it.
	* binutils/cxxfilt.c: Moved here from gcc/cp, minor
	adjustments to fit into binutils framework.
	* configure, config.in, Makefile.in, doc/Makefile.in: Regenerate.

2002-09-12  Roland McGrath  <roland@@redhat.com>

	* readelf.c (decode_location_expression): DW_OP_calli -> DW_OP_call_ref
	Handle DW_OP_GNU_push_tls_address.

2002-09-11  Nick Clifton  <nickc@@redhat.com>

	* po/tr.po: Updated Turkish translation.

2002-09-10  Nick Clifton  <nickc@@redhat.com>

	* MAINTAINERS: Add Ben Elliston as a maintainer for configure and
	testsuite changes.  Add paragraphs about testsuite and config
	patches.

2002-08-29  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (get_machine_flags): Remove redundant reference to
	E_V850EA_ARCH.

2002-08-28  Alan Modra  <amodra@@bigpond.net.au>

	* objdump.c (dump_bfd): Restore lines accidentally deleted in
	last commit.

2002-08-28  Michael Hayes <m.hayes@@elec.canterbury.ac.nz>

	* objdump.c (dump_headers): Add printing of HAS_LOAD_PAGE flag.
	(dump_bfd_header): Likewise.

2002-08-27  Alan Modra  <amodra@@bigpond.net.au>

	* nm.c: Revert last change.

2002-08-26  Alan Modra  <amodra@@bigpond.net.au>

	* nm.c (display_rel_file): Don't report "no symbols" as an error.
	* objdump.c (slurp_symtab): Likewise.
	(slurp_dynamic_symtab): Likewise.
	(dump_symbols): Likewise.  Do print "no symbols" to stdout.

2002-08-24  Geoffrey Keating  <geoffk@@redhat.com>

	* MAINTAINERS: Change my mailing address.

2002-08-23  John David Anglin  <dave@@hiauly1.hia.nrc.ca>

	* MAINTAINERS: Add Dave Anglin as HPPA co-maintainer.

2002-08-22  Nick Clifton  <nickc@@redhat.com>

	* MAINTAINERS: Add Jeff Law as (maintainance) maintainer for
	HPPA.

2002-08-21  John David Anglin  <dave@@hiauly1.hia.nrc.ca>

	* readelf.c (parse_args): Change debug_dump_opt to static.

2002-08-16  Sivaguru Sankaridurg  <siva@@eternal-systems.com>

	* stabs.c (parse_stab_argtype): Pass length of physname to
	stab_demangle_argtypes.
	(stab_demangle_argtypes): Add new parameter - length of physname.
	Pass length of physname on to stab_demangle_prefix.
	(stab_demangle_prefix): Add new parameter - length of physname.
	Use length of physname (if supplied) to compute end of function
	name.

2002-08-15  Alan Modra  <amodra@@bigpond.net.au>

	* readelf.c: Include elf/i370.h.
	(dump_relocations): Handle EM_S370.
	(dynamic_segment_parisc_val): Print \n.
	(process_dynamic_segment <DT_BIND_NOW>): Here too.

2002-08-14  Nick Clifton  <nickc@@redhat.com>

	* nm.c (usage): Change 'gnu-new-abi' to 'gnu-v3'.
	* objdump.c (usage): Likewise.
	* doc/binutils.texi: Likewise.

2002-08-14  Luke Dunstan  <infidel@@users.sourceforge.net>

	* rcparse.y (acc_entry): Don't warn about ALT use with
	non-VIRTKEY.

2002-08-13  H.J. Lu <hjl@@gnu.org>

	* objcopy.c (copy_object): Don't warn about the unsupported
	architecture unless the input target is defaulted or the
	output architecture is different from the input.

2002-08-09  Nick Clifton  <nickc@@redhat.com>

	* po/sv.po: Updated Swedish translation.

2002-08-05  Alan Modra  <amodra@@bigpond.net.au>

	* prdbg.c (pr_fix_visibility): Remove assert.

2002-07-31  Nick Clifton  <nickc@@redhat.com>

	* addr2line.c (process_file): Rename parameter 'filename' to
	'file_name' in order to avoid shadowing global symbol of the
	same name.
	(main): Likewise.

2002-07-30  Jakub Jelinek  <jakub@@redhat.com>

	* readelf.c (OPTION_DEBUG_DUMP): Define.
	(options): Use it.
	(usage): Update help.
	(parse_args): Handle --debug-dump separately from -w.
	* doc/binutils.texi (readelf): Update documentation.

2002-07-25  Nick Clifton  <nickc@@redhat.com>

	* po/es.po: Updated Spanish translation.
	* po/fr.po: Updated French translation.

2002-07-24  Nick Clifton  <nickc@@redhat.com>

	* po/es.po: Updated Spanish translation.

2002-07-23  Alan Modra  <amodra@@bigpond.net.au>

	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.

2002-07-23  Nick Clifton  <nickc@@redhat.com>

	* po/fr.po: Updated French translation.

2002-07-23  Eric S. Raymond  <esr@@golux.thyrsus.com>

	* doc/binutils.texi (addr2line <man synopsis>): Correct brackets.

2002-07-20  Alan Modra  <amodra@@bigpond.net.au>

	* budemang.c: Include config.h and string.h/strings.h.

2002-07-18 Denis Chertykov  <denisc@@overta.ru>
	   Frank Ch. Eigler  <fche@@redhat.com>

	* readelf.c: Include "elf/ip2k.h".
	(guess_is_rela): Add support for EM_IP2K and EM_IP2K_OLD.
	(dump_relocations): Likewise.
	(get_machine_name): Likewise.
	* NEWS: Mention IP2K support.

2002-07-16  Nick Clifton  <nickc@@cambridge.redhat.com>

	* NEWS: Add 'Changes in 2.13'.

2002-07-10  Jakub Jelinek  <jakub@@redhat.com>

	* readelf.c (get_dynamic_type): Handle DT_GNU_PRELINKED,
	DT_GNU_CONFLICT* and DT_GNU_LIBLISZ*.
	(get_section_type_name): Handle SHT_GNU_LIBLIST.
	(process_dynamic_segment): Handle DT_GNU_CONFLICTSZ,
	DT_GNU_LIBLISTSZ and DT_GNU_PRELINKED.
	(process_gnu_liblist): New.
	(process_file): Call it.

2002-07-03  Alan Modra  <amodra@@bigpond.net.au>

	* Makefile.am (check-DEJAGNU): Revert 2002-06-25 change.
	* Makefile.in: Regenerate.

2002-07-02  Alan Modra  <amodra@@bigpond.net.au>

	* budemang.c: New file, "demangle" function.
	* budemang.h: New file.
	* addr2line.c (translate_addresses): Use "demangle".
	* nm.c (print_symname): Likewise.
	* objdump.c (objdump_print_symname): Likewise.
	(dump_symbols): Likewise.  Also, don't use bfd_asymbol_name macro
	here since that obfuscates.
	* rdcoff.c: Don't #include demangle.h.
	* Makefile.am (CFILES): Add budemang.c, emul_aix.c,
	emul_vanilla.c.  Remove emul_$(EMULATION).c.  Sort.
	(HFILES): Add budemang.h.  Sort.
	(nm_new_SOURCES, objdump_SOURCES, addr2line_SOURCES): Add budemang.c.
	Run "make dep-am".
	* Makefile.in: Regenerate.

2002-07-01  Matt Thomas  <matt@@3am-software.com>

	* readelf.c: Include "elf/vax.h".
	(guess_is_rela): Move EM_VAX from unknown to RELA case.
	(dump_relocations): Handle VAX relocations.
	(get_machine_flags): Handle VAX machine flags.

2002-06-29  Stephane Carrez  <stcarrez@@nerim.fr>

	* readelf.c (dump_relocations): Handle 68HC11/68HC12 relocations.

2002-06-26  Nick Clifton  <nickc@@cambridge.redhat.com>

	* MAINTAINERS: Remove Tom Rix from d10v and pcc maintainerships.

2002-06-26  Alan Modra  <amodra@@bigpond.net.au>

	* nm.c (print_symname): When demangling, strip leading dots from
	symbol names to avoid confusing the demangler.

2002-06-25  H.J. Lu <hjl@@gnu.org>

	* Makefile.am (check-DEJAGNU): Set LC_ALL=C and export it.
	* Makefile.in: Regenerated.

2002-06-21  Igor Schein  <igor@@txc.com>

	* configure.in: Quote bu_cv_have_fopen64.
	* configure: Regenerate.

2002-06-21  Mitsru Chinen  <chinen@@jp.ibm.com>

	* configure.in: Check for strcoll.
	* configure: Regenerate.
	* config.in: Regenerate.
	* nm.c (main): Set locale for LC_COLLATE category.
	(non_numeric_forward): Use strcoll if available.

2002-06-20  Dave Brolley  <brolley@@redhat.com>

	* MAINTAINERS: Add self as fr30 and frv maintainer.

2002-06-18  H.J. Lu  (hjl@@gnu.org)

	* nm.c: Include "elf/common.h".
	(extended_symbol_info): Add elfinfo, a pointer to
	elf_symbol_type.
	(SYM_SIZE): Use elfinfo if it is not NULL.
	(get_symbol_type): New function.
	(display_archive): Set print_width for each archive member.
	(display_file): Likewise.
	(display_rel_file): Don't set print_width here.
	(print_object_filename_sysv): Handle print_width.
	(print_archive_member_sysv): Likewise.
	(print_symbols): Pass (bfd_vma) 0 to print_symbol.
	(print_symbol): Set the elfinfo field in extended_symbol_info
	for ELF.
	(print_object_filename_sysv): Fix the output format.
	(print_symbol_info_sysv): Print type and section for ELF.

2002-06-18  Elias Athanasopoulos  <eathan@@otenet.gr>

	* nm.c (print_size_symbols): Remove assignment, which makes
	the symbol's size equal to its value when --size-sort is
	used.

2002-06-18  Dave Brolley  <brolley@@redhat.com>

	From Catherine Moore:
	* readelf.c (elf/frv.h): #include it.
	(guess_is_rela): Support EM_CYGNUS_FRV.
	(dump_relocations): Ditto.
	(get_machine_name): Ditto.
	* Makefile.am (readelf.o): add dependency on $(INCDIR)/elf/frv.h.

2002-06-18  Jakub Jelinek  <jakub@@redhat.com>

	* readelf.c (get_file_header): Only read the first section header if
	e_shoff is non-zero.

2002-06-15  H.J. Lu  (hjl@@gnu.org)

	* nm.c (print_size): New variable. Initialize to 0.
	(long_options): Add 'S'/"print-size".
	(main): Handle 'S'.
	(print_symbol_info_bsd): Print size only if print_size is not
	0.

	* doc/binutils.texi: Document -S/--print-size.

2002-6-13  Elias Athanasopoulos  <eathan@@otenet.gr>

	* nm.c (struct extended_symbol_info): New structure: Add the size
	of the symbols to the information provided by the symbol_info
	structure.
	(print_symbols): Pass the symbol size to print_symbol.
	(print_size_symbols): Pass the symbol size to print_symbol.
	(print_symbol): Extra argument: The size of the symbol.  Store
	this in the extended_symbol_info structure.
	(print_symbol_info): Change type of info parameter to
	extended_symbol_info.  Display the size, if known.
	(print_symbol_info_posix): Likewise.
	(print_symbol_info_sysv): Likewise.

2002-06-08  Alan Modra  <amodra@@bigpond.net.au>

	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.
	* doc/Makefile.in: Regnerate.

	* bucomm.c: Replace CONST with const.
	* nm.c: Likewise.
	* objdump.c: Likewise.

2002-06-07  H.J. Lu <hjl@@gnu.org>

	* readelf.c (DW_CFA_GNU_args_size): Don't define.
	(DW_CFA_GNU_negative_offset_extended): Likewise.
	(DW_CFA_GNU_window_save): Likewise.
	(display_debug_frames): Handle DW_CFA_offset_extended_sf,
	DW_CFA_def_cfa_sf and DW_CFA_def_cfa_offset_sf.

2002-06-07  Elias Athanasopoulos  <eathan@@otenet.gr>

	* nm.c: When computing size of symbols for an ELF target use the
	internal size field.

2002-06-06  John David Anglin  <dave@@hiauly1.hia.nrc.ca>

	* testsuite/binutils-all/objcopy.exp: clear xfail for
	"hppa*64*-*-hpux*".
	* testsuite/binutils-all/hppa/objdump.exp: Return if
	"*64*-*-*".

2002-06-05  Alan Modra  <amodra@@bigpond.net.au>

	* objcopy.c (copy_section): Don't copy SEC_GROUP sections.

2002-06-03  Elias Athanasopoulos  <eathan@@otenet.gr>

	* objdump.c: Fix formatting.

2002-05-29  Ben Elliston  <bje@@redhat.com>

	* MAINTAINERS: Add self as M68k maintainer.

2002-05-28  Kuang Hwa Lin <kuang@@sbcglobal.net>

	* readelf.c: Modified/Added DLX elf support.

2002-05-27  Nick Clifton  <nickc@@cambridge.redhat.com>

	* arsup.c: Fix formatting.
	* debug.c (debug_record_label): Add missing colon to error
	message.
	* ieee.c (parse_ieee_ty): Fix spelling typo.
	* readelf.c (process_program_headers): Remove English assumption
	about making a plural word.
	(process_section_headers): Likewise.
	(process_relocs): Allow quotes to be translated.
	(process_unwind): Likewise,
	(process_mips_specific): Improve error message.
	(get_note_type): Fix spelling typo.

	* configure.in (ALL_LINGUAS): Add sv
	* po/sv.po: New file.

2002-05-27  Alan Modra  <amodra@@bigpond.net.au>

	* unwind-ia64.c (unw_print_brmask): Don't use sprintf.
	(unw_print_grmask): Likewise.
	(unw_print_frmask): Likewise.

2002-05-26  Kazu Hirata  <kazu@@cs.umass.edu>

	* arsup.c: Remove ARGSUSED.
	* debug.c: Likewise.
	* ieee.c: Likewise.
	* nlmconv.c: Likewise.
	* prdbg.c: Likewise.
	* stabs.c: Likewise.
	* wrstabs.c: Likewise.

2002-05-25  Alan Modra  <amodra@@bigpond.net.au>

	* arlex.l: Use #include "" instead of <> for local header files.
	* coffdump.c: Likewise.
	* coffgrok.c: Likewise.
	* nlmconv.c: Likewise.
	* nlmheader.y: Likewise.
	* srconv.c: Likewise.
	* strings.c: Likewise.
	* sysdump.c: Likewise.
	* unwind-ia64.h: Likewise.
	* windres.h: Likewise.
	* winduni.h: Likewise.

2002-05-24  Tom Rix  <trix@@redhat.com>

	* MAINTAINERS: Add self as the d10v maintainer.

2002-05-24   TAMURA Kent <kent@@netbsd.org>

	* configure.in: Builds dlltool for i386-netbsdpe.
	* configure: Regenerate.

2002-05-23  Kazu Hirata  <kazu@@cs.umass.edu>

	* size.c: Fix formatting.
	* srconv.c: Likewise.
	* stabs.c: Likewise.
	* sysdump.c: Likewise.
	* unwind-ia64.c: Likewise.
	* wrstabs.c: Likewise.

2002-05-23  Jakub Jelinek  <jakub@@redhat.com>

	* readelf.c (get_segment_type): Add PT_TLS.
	(get_elf_section_flags): Add SHF_TLS.
	(get_dynamic_flags): Optimize.  Add DF_STATIC_TLS.
	(process_dynamic_segment): Use puts instead of printf.
	(get_symbol_type): Support STT_TLS.
	* objdump.c (dump_section_header): Remove SEC_CONSTRUCTOR_TEXT,
	SEC_CONSTRUCTOR_DATA, SEC_CONSTRUCTOR_BSS.
	Add SEC_THREAD_LOCAL.

2002-05-23  Kazu Hirata  <kazu@@cs.umass.edu>

	* rdcoff.c: Fix formatting.
	* rddbg.c: Likewise.
	* readelf.c: Likewise.
	* rename.c: Likewise.
	* resbin.c: Likewise.
	* resrc.c: Likewise.
	* resres.c: Likewise.

2002-05-21  Kazu Hirata  <kazu@@cs.umass.edu>

	* filemode.c: Fix formatting.
	* ieee.c: Likewise.
	* is-ranlib.c: Likewise.
	* is-strip.c: Likewise.
	* maybe-ranlib.c: Likewise.
	* maybe-strip.c: Likewise.
	* nlmconv.c: Likewise.
	* nm.c: Likewise.
	* not-ranlib.c: Likewise.
	* not-strip.c: Likewise.
	* objcopy.c: Likewise.
	* objdump.c: Likewise.

2002-05-21  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* objdump.c (dump_headers): Fix output formatting for ELF32
	architectures in a BFD64 enabled toolchain.

2002-05-20  Kazu Hirata  <kazu@@cs.umass.edu>

	* debug.c: Fix formatting.
	* debug.h: Likewise.
	* dlltool.c: Likewise.
	* dllwrap.c: Likewise.
	* emul_aix.c: Likewise.
	* emul_vanilla.c: Likewise.

2002-05-19  Kazu Hirata  <kazu@@cs.umass.edu>

	* addr2line.c: Fix formatting.
	* ar.c: Likewise.
	* arsup.c: Likewise.
	* arsup.h: Likewise.
	* binemul.c: Likewise.
	* binemul.h: Likewise.
	* bucomm.c: Likewise.
	* coffdump.c: Likewise.
	* coffgrok.c: Likewise.
	* coffgrok.h: Likewise.

2002-05-16  Marek Michalkiewicz  <marekm@@amelek.gda.pl>

	* MAINTAINERS: Add myself as the second AVR port maintainer.

2002-05-16  Stephane Carrez  <stcarrez@@nerim.fr>

	* MAINTAINERS: Update my email address.

2002-05-09  Nick Clifton  <nickc@@cambridge.redhat.com>

	* MAINTAINERS: Add Jason Thorpe as VAX maintainer.

2002-05-09  Alan Modra  <amodra@@bigpond.net.au>

	* configure.in: Replace `*pe' with `pe' throughout.
	* configure: Regenerate.

2002-05-07  Federico G. Schwindt <fgsch@@olimpo.com.br>

	* Makefile.am: Honour DESTDIR.
	* Makefile.in: Regenerate.

2002-05-06  Alan Modra  <amodra@@bigpond.net.au>

	* dlltool.c (process_def_file): Add missing prototype.
	(new_directive, assemble_file, main): Likewise.
	(process_def_file, new_directive): Make static.
	(inform): Rewrite using VA_FIXEDARG.
	* dllwrap.c (mybasename): Add missing prototype.
	(strhash, main): Likewise.
	(inform): Rewrite using VA_FIXEDARG.
	(warn): Likewise.
	(cleanup_and_exit): Use old style function definition.
	(strhash): Likewise.
	* windres.c (define_resource): Use one memset to clear all of
	struct res_resource.

	* rcparse.y: Remove newcmd rule.  Move rcparse_discard_strings
	call to rules that need no lookahead.  Check for no lookahead.

2002-05-06  Borut Razem  <borut.razem@@siol.net>

	* rclex.l (get_string): Correct "strings" list handling.
	* resrc.c (read_rc_file): Discard strings.

2002-05-04  Alan Modra  <amodra@@bigpond.net.au>

	* ar.c (replace_members): Remove unused var.  Formatting fix.
	* binemul.c (ar_emul_default_parse_arg): Add ATTRIBUTE_UNUSED.

	* MAINTAINERS: Sort port maintainers by CPU.

2002-05-04  Bob Byrnes  <byrnes@@curl.com>

	* size.c (display_archive): Add last_arfile and code to close archives.

2002-05-01  Alan Modra  <amodra@@bigpond.net.au>

	* nm.c (print_symbol): Check returned filename from
	bfd_find_nearest_line is non-NULL.

2002-04-25  Elena Zannoni <ezannoni@@redhat.com>

	* readelf.c (get_AT_name): Handle DW_AT_GNU_vector.

2002-04-24  Christian Groessler <chris@@groessler.org>

	* MAINTAINERS: Changed my email address.

2002-04-17  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* arparse.y: Fix syntax warning.

2002-04-16  Nick Clifton  <nickc@@cambridge.redhat.com>

	* readelf.c (fetch_location_list): Remove unused function.

	* readelf.c (process_corefile_note_segment): Catch corrupt notes
	and display a warning message, then exit the loop.

	* rcparse.y: Set MEMFLAG_DISCARDABLE by default.

2002-04-15  Nick Clifton  <nickc@@cambridge.redhat.com>

	* resrc.c (write_rc_dialog): If charset is non-default value
	display all of the DIALOGEX parameters.

2002-04-15  Eric Kohl <ekohl@@rz-online.de>

	* rcparse.y: Allow two to five parameter in FONT statement of
	DIALOGEX resources.
	* resbin.c (bin_to_res_dialog): Fixed read/write code for dialogex
	resource data.
	(res_to_bin_dialog): Likewise.
	* windres.h: Added misssing charset variable to dialog_ex
	structure.

2002-04-10  Nick Clifton  <nickc@@cambridge.redhat.com>

	* rcparse.y: Set MEMFLAG_PURE by default.

2002-04-09  Bernd Herd <info@@herdsoft.com>

	* rcparse.y: CLASS definitions in DIALOG resources
	are quoted.
	Fix typo in BEDIT warning.
	Don't add default dialog style when explicit style specified.
	Add WS_CAPTION dialog style if CAPTION is specified.

	* rclex.l (handle_quotes): "\xhex" encoding in strings corrected.
	(handle_quotes) "\a" escape (used for right justified key
	definitions in menus) is encodes as binary 8.

	* resrc.c (write_rc_dialog): Print style even if it is 0.
	(write_rc_directory): Fix overlooked sublang shift bug.
	(bin_to_res_dialog): Don't print empty dialog caption.

	* resbin.c (bin_to_res_dialog): Use signature to identify
	DIALOGEX.

	* windres.c (main): Set default LANGUAGE to english/us.

2002-04-09  Gunnar Degnbol <degnbol@@danbbs.dk>

	* resrc.c: print CLASS names in quotes

2002-04-09  J"orn Rennecke <joern.rennecke@@superh.com>

	* MAINTAINERS: Update my email address.

2002-04-04  Alan Modra  <amodra@@bigpond.net.au>

	* dep-in.sed: Cope with absolute paths.
	* Makefile.am (dep.sed): Subst TOPDIR.
	Run "make dep-am".
	* Makefile.in: Regenerate.

2002-03-27  Peter Targett  <peter.targett@@arc.com>

	* MAINTAINERS: Update my email address.

2002-03-21  Alan Modra  <amodra@@bigpond.net.au>

	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.
	* doc/Makefile.in: Regenerate.
	* po/POTFILES.in: Regenerate.
	* aclocal.m4: Regenerate.
	* config.in: Regenerate.
	* configure: Regenerate.

2002-03-20  Daniel Berlin  <dan@@dberlin.org>

	* readelf.c: Add support for displaying dwarf2 location lists.
	(do_debug_loc, debug_loc_section, debug_loc_size): New.
	(parse_args): Use 'O' as shorthand for displaying location list
	section.
	(process_section_headers): Handle debug_loc as well.
	(load_debug_loc): New.
	(free_debug_loc): New.
	(fetch_location_list): New.
	(display_debug_loc): New.
	(display_debug_info): Call load_debug_loc and free_debug_loc.
	(debug_displays): We can display .debug_loc now, too.
	(usage): Update usage string.
	(read_and_display_attr_value): Note location lists, but don't
	display them inline.

2002-03-18  Tom Rix  <trix@@redhat.com>

	* Makefile.am: Add binutils emulation support.
	* configure.in: Same.
	* configure.tgt: New file.  Same.
	* ar.c (main): Use ar_emul_parse_arg.
	(usage): Use ar_emul_usage.
	(replace_members): Use ar_emul_replace, ar_emul_append.
	* binemul.c: New file.  Define the binutils emulation
	layer. Define default methods.
	* binemul.h: New file.  Binutils emulation layer header file.
	* emul_aix.c: New file.  AIX binutils emulation.
	* emul_vanilla.c: New file. Default binutils emulation.
	* Makefile.in: Regenerate.
	* configure: Same.

2002-03-18  Nick Clifton  <nickc@@cambridge.redhat.com>

	* po/fr.po: Updated version.

2002-03-13  Nick Clifton  <nickc@@cambridge.redhat.com>

	* po/fr.po: Updated version.

2002-03-07  Daniel Jacobowitz  <drow@@mvista.com>

	* README: Update some version numbers.

2002-03-07  Daniel Jacobowitz  <drow@@mvista.com>

	* doc/binutils.texi (Target Selection): Fix LD crossreferences.
	(Architecture Selection): Likewise.

2002-03-01  Dmitry Timoshkov <dmitry@@baikal.ru>

	* dlltool.c (gen_exp_file): Take into account --kill-at (-k) while
	generating .exp file.

2002-02-21  Nick Clifton  <nickc@@cambridge.redhat.com>

	* readelf.c (dump_relocations): Fix typo.

2002-02-20  Nick Clifton  <nickc@@cambridge.redhat.com>

	* NEWS: Mark 2.12 branch.

2002-02-18  Timothy Daly  <remote_bob@@yahoo.com>

	* readelf.c (dump_relocations): Display 2nd and 3rd reloc
	types for 64-bit MIPS.  Narrow some fields for 80-char
	output.
	(dump_relocations): Change spelling from 'unrecognised'
	to 'unrecognized'.
	(decode_ARM_machine_flags): Likewise.
	(parse_args): Likewise.
	(read_and_display_attr_value): Likewise.
	(display_debug_section): Likewise.

2002-02-15  Hans-Peter Nilsson  <hp@@bitrange.com>

	* NEWS: Mention support for MMIX.

2002-02-13  Matt Fredette  <fredette@@netbsd.org>

	* readelf.c (get_machine_flags): Recognize EF_M68000.

2002-02-12  Alexandre Oliva  <aoliva@@redhat.com>

	* MAINTAINERS: Added self as MN10300 co-maintainer.

2002-02-12  Alan Modra  <amodra@@bigpond.net.au>

	* readelf.c (get_ppc64_dynamic_type): Handle DT_PPC64_OPD and
	DT_PPC64_OPDSZ.

2002-02-11  Daniel Jacobowitz  <drow@@mvista.com>

	* MAINTAINERS: List myself as branch maintainer.

2002-02-11  Alan Modra  <amodra@@bigpond.net.au>

	* configure: Regenerate.
	* objcopy.c: Update copyright date.
	* doc/Makefile.in: Regenerate.

2002-02-10  Daniel Jacobowitz  <drow@@mvista.com>

	* nlmconv.c: Back out localtime PARAMS change.

2002-02-11  Alan Modra  <amodra@@bigpond.net.au>

	* objcopy.c (MKDIR): Define.
	(copy_archive): Make name_list.name const.  Use MKDIR.
	Handle duplicate files in archives by making more temp dirs.

2002-02-10  Daniel Jacobowitz  <drow@@mvista.com>

	* coffdump.c: Include "getopt.h" after "bucomm.h"
	so that macros are defined correctly.
	* nlmconv.c: Add PARAMS ((const time_t *)) to localtime
	prototype.  Prototype main.
	* nlmheader.y: Add PARAMS ((int)) to strerror prototype.

2002-02-06  Alexandre Oliva  <aoliva@@redhat.com>

	* MAINTAINERS: Added self as SH co-maintainer.

2002-02-05  Nick Clifton <nickc@@redhat.com>

	* po/tr.po: Updated translation.

2002-02-01  Alan Modra  <amodra@@bigpond.net.au>

	* Makefile.am: Run "make dep-am"
	* Makefile.in: Regenerate.

2002-01-29  Daniel Jacobowitz  <drow@@mvista.com>

	* nm.c (print_value): Mark abfd unused.

2002-01-29  Daniel Jacobowitz  <drow@@mvista.com>

	* unwind-ia64.c (unw_decoder): Change second argument
	to unsigned int, to match function prototypes.

2002-01-29  Daniel Jacobowitz  <drow@@mvista.com>

	* objdump.c: Include "getopt.h" after "bucomm.h" so that
	__GNU_LIBRARY__ will be defined.
	* size.c: Likewise.

2002-01-27  Daniel Jacobowitz  <drow@@mvista.com>

	* configure: Regenerated.

2002-01-26  Hans-Peter Nilsson  <hp@@bitrange.com>

	* doc/Makefile.am (install): Depend on install-info.
	* doc/Makefile.in: Regenerate.

2002-01-25  Jason R. Thorpe <thorpej@@wasabisystems.com>

	* objcopy.c (strip_usage): Document -d as an alias
	--strip-debug.

	* size.c (usage): Document [-t | --totals] options.
	(long_options): Add --totals option.
	(main): If the [-t | --totals] option is specified and
	the output format is Berkeley-style, print the total
	text, data, and bss sizes of all objects listed.
	(print_berkeley_format): If the [-t | --totals] option
	is specified, track the total text, data, and bss
	sizes.
	* doc/binutils.texi (size): Document [-t | --totals] options.
	(strip): Document -d as an alias for --strip-debug.
	* NEWS: Mention new feature of size.

2002-01-25  Nick Clifton  <nickc@@cambridge.redhat.com>

	* po/fr.po: Updated version.
	* po/es.po: Updated version.

2002-01-23  Nick Clifton  <nickc@@cambridge.redhat.com>

	* addr2line.c (usage): Update text to provide verbose
	description of the command line options.
	* ar.c (usage): Update text to provide verbose
	description of the command line options.
	(main): Accept -h and -H when running as ranlib.
	* coffdump.c (show_usage): Update text to provide verbose
	description of the command line options.
	* dlltool.c (main): Accept -H as an alias for --help.
	* nlmconv.c (show_usage): Update text to provide verbose
	description of the command line options.
	* nm.c (usage): Replace OPTIONS with option(s).
	(main): Accept -H as an alias for --help.
	* objcopy.c (strip_main): Accept -H as an alias for --help.
	* objdump.c (main): Accept -v as an alias for --verbose.
	* readelf.c (usage): Adjust format to match style used in
	other binutils.
	* size.c (usage): Update text to provide verbose description
	of the command line options.
	(main): Accept -v, -h and -H as command line options.
	* srconv.c (show_usage): Update text to provide verbose
	description of the command line options.
	* strings.c (main): Accept -H and -v as command line options.
	(usage): Update text to provide verbose description of the
	command line options.
	* sysdump.c (show_usage): Update text to provide verbose
	description of the command line options.
	* windres.c (usage): Adjust format to match style used in
	other binutils.

	* coffdump.c: Fix formatting.
	* nlmconv.c: Fix formatting.
	* srconv.c: Fix formatting.
	* sysdump.c: Fix formatting.

2002-01-22  Alan Modra  <amodra@@bigpond.net.au>

	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.

2002-01-18  Andreas Jaeger  <aj@@suse.de>

	* version.c (print_version): Update year.

2002-01-17  Alan Modra  <amodra@@bigpond.net.au>

	* readelf.c (get_machine_name): Handle EM_PPC64.
	(guess_is_rela): Here too.

2002-01-17  Nick Clifton  <nickc@@cambridge.redhat.com>

	* po/binutils.pot: Regenerate.
	* po/fr.po: Regenerate.
	* po/tr.po: Regenerate.

2002-01-16  Nick Clifton  <nickc@@cambridge.redhat.com>

	* po/tr.po: Import new version.

2002-01-16  Alan Modra  <amodra@@bigpond.net.au>

	* readelf.c (get_ppc64_dynamic_type): New.
	(get_dynamic_type): Call it.

2002-01-15  Nick Clifton  <nickc@@cambridge.redhat.com>

	* objcopy.c (copy_usage): Use "options" instead of "switches".
	(strip_usage): Use "options" instead of "switches".
	* doc/binutils.texi (dlltool):  Refer to "options" instead of
	"switches".

2002-01-14  Richard Earnshaw  <rearnsha@@arm.com>

	* MAINTAINERS: Add self as co-maintainer for the ARM code.

2001-12-18  Nick Clifton  <nickc@@cambridge.redhat.com>

	* po/es.po: Import from translation project.
	* configure.in (ALL_LINGUAS): Add es.
	* configure: Regenerate.

2002-01-09  Jason Thorpe  <thorpej@@wasabisystems.com>

	* readelf.c (get_netbsd_elfcore_note_type): Use
	NT_NETBSDCORE_PROCINFO and NT_NETBSDCORE_FIRSTMACH.

2002-01-09  Jason Thorpe  <thorpej@@wasabisystems.com>

	* readelf.c: Update copyright years.
	(get_note_type): Return a const char *.
	(get_netbsd_elfcore_note_type): New function.
	(process_note): Use get_netbsd_elfcore_note_type to get
	the note type string for NetBSD ELF core files.

2002-01-06  Steve Ellcey  <sje@@cup.hp.com>

	* readelf.c (get_ia64_segment_type): Add support for macros.
	(get_segment_type): Add support for IA64 specific macros.

2001-12-20  Julian v. Bock  <julian@@wongr.net>

	* readelf.c (print_symbol): New function: Print a formatted symbol
	name.  If --wide is specified do not truncate it.
	(dump_relocations): Use print_symbol() to print symbol names.
	(process_symbol_table): Likewise.
	(process_syminfo): Likewise.
	(process_mips_specific): Likewise.
	(usage): Document new feature of --wide switch.
	* doc/binutils.texi (objdump): Document additional behaviour of
	--wide.

2001-12-18  Michael Snyder  <msnyder@@redhat.com>

	* objcopy.c (copy_file): Accept corefiles (format bfd_core).
	(copy_object): Don't set the start address or flags of a core file.
	(copy_section): Don't relocate a core file.  Don't copy contents
	if the input section has the contents flag set, but the output
	section does not (which happens with the fake 'note' pseudo-
	sections that BFD creates for corefiles).

2001-12-18  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* readelf.c (get_machine_flags): Recognize header flags for ABI and
	ASE extensions. More robust code for ISA checking. Ignore empty fields
	in header flags for GNU extensions.

2001-12-18  Alan Modra  <amodra@@bigpond.net.au>

	* objcopy.c (copy_archive): Set output bfd format outside the loop.

2001-12-18  Nick Clifton  <nickc@@cambridge.redhat.com>

	* po/ja.po: Import from translation project.
	* configure.in (ALL_LINGUAS): Add ja.
	* configure: Regenerate.

2001-12-18  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* addr2line.c (main): Protoype.
	* ar.c (main): Protoype.
	* nm.c (main): Protoype.
	* objcopy.c (main): Protoype.
	* objdump.c (main): Protoype.
	* size.c (main): Protoype.
	* strings.c (main): Protoype.

2001-12-17  Alan Modra  <amodra@@bigpond.net.au>

	* readelf.c (symtab_shndx_hdr): New global.
	(SECTION_HEADER_INDEX): Define.
	(SECTION_HEADER_NUM): Define.
	(SECTION_HEADER): Define.
	(GET_ELF_SYMBOLS): Pass two params rather than three.
	(get_32bit_elf_symbols): Take file and section args.  Read and
	use SHT_SYMTAB_SHNDX.
	(get_64bit_elf_symbols): Likewise.
	(dump_relocations): Use SECTION_HEADER to index "section_headers".
	(process_section_headers): Likewise.  Use SECTION_HEADER_NUM too.
	Remember symtab_shdx_hdr.
	(process_program_headers): Scan from index 1 for segment map.
	(slurp_ia64_unwind_table): Use SECTION_HEADER to index
	"section_headers".
	(process_relocs): Likewise.  Also adjust call to GET_ELF_SYMBOLS.
	(process_unwind): Likewise.
	(process_version_sections): Likewise.
	(process_symbol_table): Likewise.
	(display_debug_info): Likewise.
	(process_dynamic_segment): Fake up a symtab section for changed
	GET_ELF_SYMBOLS.
	(get_symbol_index_type): Check SHN_LOOS before SHN_LORESERVE.
	(process_program_headers): Kill signed/unsigned warning.
	(load_debug_str): Likewise.
	(display_debug_info): Likewise.

2001-12-13  Jakub Jelinek  <jakub@@redhat.com>

	* readelf.c (get_segment_type): Support PT_GNU_EH_FRAME.

2001-12-11  Alan Modra  <amodra@@bigpond.net.au>

	* readelf.c (process_file_header): Print extended e_shnum and
	e_shdtrndx values.  Set elf_header values for same.
	(get_32bit_section_headers): Add "num" arg to read "num" headers.
	(get_64bit_section_headers): Likewise.
	(process_section_headers): Update calls.
	(get_file_header): Call get_32bit_section_headers or 64bit variant.

2001-12-10  Jakub Jelinek  <jakub@@redhat.com>

	* objcopy.c (setup_section): Copy entsize.

2001-12-07  Geoffrey Keating  <geoffk@@redhat.com>

	* readelf.c (guess_is_rela): Add support for stormy16.
	(dump_relocations): Likewise.
	(get_machine_name): Likewise.

2001-12-05  Nick Clifton  <nickc@@cambridge.redhat.com>

	* dllwrap.c (main) Replace multiple strings describing a
	single error with a single, newline escaped sentence to permit
	better translation into foreign languages.

	* readelf.c (get_elf_class): Remove internalionalisation of ELF
	class names.

2001-12-04  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* strings.c (get_char): Initialize value.

2001-12-04  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* arlex.l: Silence compile warnings.
	* arsup.h: Likewise. Fix formatting.

2001-12-04  Jakub Jelinek  <jakub@@redhat.com>

	* strings.c: Include config.h before bfd.h.
	(file_off): New type.
	(file_open): Define.
	(print_strings): Use file_off instead of file_ptr.  Print addresses
	which don't fit into long correctly.
	(get_char): Use file_off instead of file_ptr.  Use getc_unlocked if
	available.
	(strings_file): Use file_off instead of file_ptr.  Use file_open.
	* configure.in: Check for getc_unlocked.
	Check for fopen64 and whether _LARGEFILE64_SOURCE needs to
	be defined for it.
	* configure: Rebuilt.
	* config.h.in: Rebuilt.

2001-11-29  H.J. Lu <hjl@@gnu.org>

	* bucomm.c (make_tempname): Revert the changes made on
	2001-11-14 and 2001-11-12. They won't work with directories.

2001-11-23  John David Anglin  <dave@@hiauly1.hia.nrc.ca>

	* binutils/Makefile.am (check-DEJAGNU): Pass CC_FOR_TARGET and
	CFLAGS_FOR_TARGET to runtest in environment.
	* Makefile.in: Rebuild.
	* doc/Makefile.in: Rebuild.

2001-11-28  Mike Stump  <mrs@@wrs.com>

	* objcopy.c (setup_section): Preserve SEC_RELOC when
	--set-section-flags is used.

2001-11-19  Nick Clifton  <nickc@@cambridge.redhat.com>

	* readelf.c (do_debug_str): New variable.
	(display_debug_str): New function: Display the contents of a
	.debug_str section.
	(load_debug_str): New function: Load in the contents of a
	.debug_str section.
	(free_debug_str): New function: Free the memory used by
	load_debug_str().
	(fetch_indirect_string): Retrieve a string from the .debug_str
	section.
	(usage): Add -ws.
	(parse_args): Accept -ws.
	(process_section_headers): Allow the display of the .debug_str
	section.
	(read_and_display_attr_value): Use fetch_indirect_string.  Show
	offset into .debug_str section.
	(display_debug_info): Use load_debug_str and free_debug_str.
	(debug_displays): Add .debug_str.
	* doc/binutils.texi: Document -ws.

2001-11-19  Andreas Jaeger  <aj@@suse.de>

	* testsuite/binutils-all/objdump.exp: Add x86-64.

2001-11-15  Andreas Schwab  <schwab@@suse.de>

	* readelf.c: Fix warnings without terminating newline.

2001-11-15  Alan Modra  <amodra@@bigpond.net.au>

	* doc/binutils.texi (objdump): Document ppc -M options.

2001-11-14  Andreas Jaeger  <aj@@suse.de>

	* doc/binutils.texi (objdump): Fix description to use x86-64.

2001-11-14  Nick Clifton  <nickc@@cambridge.redhat.com>

	* bucomm.c (make_tempname): Use mkstemps instead of mkstemp, since
	not all systems provide mkstemp.

2001-11-14  Alan Modra  <amodra@@bigpond.net.au>

	* doc/binutils.texi (objdump): Document x86 -M options.

2001-11-13  Keith Walker <keith.walker@@arm.com>

	* readelf.c (read_and_display_attr_value): New function to
	handle DW_FORM_indirect.
	(read_and_display_attr): Use it.

2001-11-13  Geoffrey Keating  <geoffk@@redhat.com>

	* readelf.c (display_debug_lines): Deal with unknown standard
	opcodes.  Handle DW_LNS_set_prologue_end, DW_LNS_set_epilogue_begin,
	DW_LNS_set_isa.

2001-11-13  Timothy Wall  <twall@@alum.mit.edu>

	* MAINTAINERS: Add self as tic54x maintainer.  This target
	includes the IBM C54XDSP clone.

2001-11-12  * Steven J. Hill <sjhill@@realitydiluted.com>

	* bucomm.c (make_tempname): Use mkstemp in place of mktemp.

2001-11-09  Jeffrey A Law  (law@@cygnus.com)

	* unwind-ia64.c (unw_print_brmask): Fix ISO C portability glitch.
	(unw_print_grmask, unw_print_frmask, unw_print_abreg): Likewise.
	(unw_print_xyreg, unw_decode_x1, unw_decode_x2): Likewise.
	(unw_decode_x3, unw_decode_r1, unw_decode_r2): Likewise.
	(unw_decode_r3, unw_decode_p1, unw_decode_p2_p5): Likewise.
	(unw_decode_p6, unw_decode_p7_p10, unw_decode_b1): Likewise.
	(unw_decode_b2, unw_decode_b3_b4): Likewise.

	* readelf.c (get_elf_class): Fix ISO portability glitch.
	(get_data_encoding, get_osabi_name, request_dump): Likewise.

2001-11-07  Jakub Jelinek  <jakub@@redhat.com>

	* readelf.c (debug_str, debug_str_size): New.
	(display_debug_abbrev): If no abbrevs were read, skip the CU.
	Call free_abbrevs.
	(read_and_display_addr): Handle DW_FORM_strp.
	(display_debug_info): Read .debug_str section if present,
	so that DW_FORM_strp can be handled.
	Fix test for non-existant .debug_abbrev section.

2001-11-05  Jakub Jelinek  <jakub@@redhat.com>

	* arlex.l: Accept `\' in filenames.  Patch by <earl_chew@@agilent.com>.

	* arsup.c (ar_open): Prepend tmp- to basename, not whole path.

2001-11-05  Martin Schwidefsky  <schwidefsky@@de.ibm.com>

	* MAINTAINERS: Add self as s390/s390x maintainer.

2001-11-02  Tom Rix  <trix@@bluey.cygnus.com>

	* MAINTAINERS: Add self as PPC XCOFF maintainer.

2001-11-02  Nick Clifton  <nickc@@cambridge.redhat.com>

	* configure.in (ALL_LINGUAS): Add "fr" and "tr".
	* configure: Regernate.
	* po/fr.po: New file.
	* po/tr.po: New file.

2001-10-30  Hans-Peter Nilsson  <hp@@bitrange.com>

	* MAINTAINERS: Add self as MMIX port maintainer.
	* readelf.c: Include elf/mmix.h.
	(guess_is_rela): MMIX is RELA.
	(dump_relocations): Handle MMIX relocations.
	* Makefile.am: Regenerate dependencies.
	* Makefile.in: Regenerate.

2001-10-13  Nick Clifton  <nickc@@cambridge.redhat.com>

	* readelf.c (parse_args): Handle multiple options to the -w
	switch.

2001-10-12  Jakub Jelinek  <jakub@@redhat.com>

	* readelf.c (get_section_type_name): Don't print SHT_ prefix for
	LOPROC, LOOS and LOUSER.

2001-10-11  J"orn Rennecke <amylaar@@onetel.net.uk>

	* MAINTAINERS: Update my email address.

2001-10-03  Alan Modra  <amodra@@bigpond.net.au>

	* doc/Makefile.in: Regenerate.
	* configure: Regenerate.

2001-10-02  Nick Clifton  <nickc@@cambridge.redhat.com>

	* readelf.c (display_debug_line, display_debug_pubnames,
	display_debug_info, display_debug_frames): Detect and warn
	about 64-bit format entries.
	(display_debug_aranges): Reword 64-bit warning.
	(debug_displays): Add .debug_pubtypes as a known, but not yet
	supported, debug section.

2001-10-02  Alan Modra  <amodra@@bigpond.net.au>

	* coffdump.c (PROGRAM_VERSION): Delete.
	(main <'V'>): Call print_version.
	* srconv.c: Likewise.
	* sysdump.c: Likewise.
	* version.c (program_version): Remove.
	(print_version): Use BFD_VERSION_STRING.  Just print the current
	year in copyright message.
	* addr2line.c (program_version): Remove unused declaration.
	* objdump.c (display_target_tables): Use BFD_VERSION_STRING in
	place of BFD_VERSION.
	* Makefile.am (Makefile): Depend on bfd/configure.in.
	(cplus-dem.o): Depend on Makefile.
	Run "make dep-am".
	* Makefile.in: Regenerate.

2001-10-01  Nick Clifton  <nickc@@cambridge.redhat.com>

	* readelf.c (display_debug_aranges): Detect and warn about DWARF64
	format .debug_arange sections.
	(main): Add missing prototype.

2001-09-30  Hans-Peter Nilsson  <hp@@bitrange.com>

	* Makefile.am: Update dependencies with "make dep-am".
	* Makefile.in: Regenerate.

2001-09-28  Richard Henderson  <rth@@redhat.com>

	* objdump.c (dump_section_header): Dump SEC_ARCH_BIT_0.

2001-09-26  Alan Modra  <amodra@@bigpond.net.au>

	* bucomm.c (fatal): Define using VPARAMS, VA_OPEN, VA_FIXEDARG,
	VA_CLOSE.
	(non_fatal): Likewise.
	* objdump.c (objdump_sprintf): Likewise.
	* readelf.c (error): Likewise.
	(warn): Likewise.

2001-09-25  Jakub Jelinek  <jakub@@redhat.com>

	* readelf.c (do_wide): New.
	(options): Add --wide.
	(usage, parse_args): Likewise.
	(process_program_headers): Put each segment on a single line if
	--wide is given.
	(process_section_headers): Put each section on a single line if
	--wide is given.
	* doc/binutils.texi: Document it.
	* NEWS: Likewise.

2001-09-25  Alan Modra  <amodra@@bigpond.net.au>

	* readelf.c (print_vma): Print 8 digits of low hex value.

2001-09-24  Andreas Jaeger  <aj@@suse.de>

	* nlmconv.c: Fix warnings about unused attributes and function
	prototypes.

	* strings.c: Add prototype for get_char.

2000-09-19  H.J. Lu  <hjl@@gnu.org>

	* doc/Makefile.am ($(DEMANGLER_NAME).1): Try cxxfilt.man and
	$(srcdir)/cxxfilt.man.
	* doc/Makefile.in: Rebuild.

2001-09-19  Alan Modra  <amodra@@bigpond.net.au>

	* objcopy.c (copy_main): Correct rename-section string parsing.
	Consolidate new_name parsing, and error messages.

2001-09-18  Bruno Haible  <haible@@clisp.cons.org>

	* addr2line.c: Don't include <ctype.h>.
	(main): For gettext, also set the LC_CTYPE locate facet.
	* ar.c (main): Likewise.
	* coffdump.c (main): Likewise.
	* dlltool.c: Include "safe-ctype.h" instead of <ctype.h>.
	(main): For gettext, also set the LC_CTYPE locate facet.
	Use ISALNUM instead of isalpha/isdigit.
	* dllwrap.c: Don't include <ctype.h>.
	(main): For gettext, also set the LC_CTYPE locate facet.
	* nlmconv.c: Include "safe-ctype.h" instead of <ctype.h>.
	(main): For gettext, also set the LC_CTYPE locate facet.
	Use TOUPPER instead of islower/toupper.
	* nlmheader.y: Include "safe-ctype.h" instead of <ctype.h>.
	(yylex): Use ISSPACE/ISALNUM instead of isspace/isalnum.
	Use TOUPPER instead of islower/toupper.
	* nm.c (main): For gettext, also set the LC_CTYPE locate facet.
	* objcopy.c (main): Likewise.
	* objdump.c: Include "safe-ctype.h" instead of <ctype.h>.
	(disassemble_bytes): Use ISPRINT instead of isprint.
	(dump_section_stabs): Use ISDIGIT instead of isdigit.
	(dump_data): Use ISPRINT instead of isprint.
	(main): For gettext, also set the LC_CTYPE locate facet.
	* rclex.l: Include "safe-ctype.h" instead of <ctype.h>.
	(cpp_line, handle_quotes): Use ISSPACE instead of isspace.
	* rcparse.y: Include "safe-ctype.h" instead of <ctype.h>.
	Use TOUPPER instead of islower/toupper.
	* readelf.c (main): For gettext, also set the LC_CTYPE locate facet.
	* resrc.c: Include "safe-ctype.h" instead of <ctype.h>.
	(write_rc_accelerators): Use ISPRINT instead of isprint.
	(write_rc_rcdata): Likewise.
	* size.c (main): For gettext, also set the LC_CTYPE locate facet.
	* srconv.c (main): Likewise.
	* stabs.c: Include "safe-ctype.h" instead of <ctype.h>.
	(parse_number): Use ISDIGIT/ISUPPER/ISLOWER instead of
	isdigit/isupper/islower.
	(parse_stab_string, parse_stab_type, parse_stab_argtypes,
	parse_stab_array_type, stab_demangle_count, stab_demangle_get_count,
	stab_demangle_prefix, stab_demangle_qualified,
	stab_demangle_template, stab_demangle_type,
	stab_demangle_fund_type): Use ISDIGIT instead of isdigit.
	* strings.c: Include "safe-ctype.h" instead of <ctype.h>.
	(isgraphic): Use ISPRINT instead of isascii/isprint.
	(main): Remove HAVE_LC_MESSAGES dependency.
	* sysdump.c: Include "safe-ctype.h" instead of <ctype.h>.
	(pbarray): Use ISPRINT instead of isprint.
	(main): For gettext, also set the LC_CTYPE locate facet.
	* windres.c: Include "safe-ctype.h" instead of <ctype.h>.
	(format_from_filename): Use ISPRINT instead of isprint.
	(main): For gettext, also set the LC_CTYPE locate facet.
	* winduni.c: Include "safe-ctype.h" instead of <ctype.h>.
	(unicode_print): Use ISPRINT instead of isprint.
	* wrstabs.c: Include "safe-ctype.h" instead of <ctype.h>.
	(stab_variable): Use ISDIGIT instead of isdigit.

2001-09-18  Alan Modra  <amodra@@bigpond.net.au>

	* ar.c (print_contents): Cast args of bfd_seek to the right types.
	Replace bfd_read call with call to bfd_bread.
	(extract_file): Likewise.

	* objdump.c (dump_section_header): Cast section->filepos to
	unsigned long to suit printf format string.
	* readelf.c (process_section_headers): Similarly for sh_offset.
	(process_unwind): Likewise.

2001-09-14  Nick Clifton  <nickc@@cambridge.redhat.com>

	* strings.c (encoding, encoding_bytes): New variables.
	(long_options): Add --encoding.
	(main): Accept -e and --encoding.
	(get_char): New function.  Read a, possibly wide, character from
	the input stream.
	(print_strings): Use get_char().
	(usage): Document new command line option.
	* doc/binutils.texi: Document new command line option.
	* NEWS: Announce new command line option.

2001-09-12  Alexandre Oliva  <aoliva@@redhat.com>

	* readelf.c (guess_is_rela, dump_relocations, get_machine_name,
	get_machine_flags): Added EM_M32R, EM_D10V, EM_V850, EM_D30V,
	EM_MN10200, EM_MN10300, EM_FR30, EM_AVR_OLD and EM_PJ_OLD.
	Removed EM_CYGNUS_ARC.

2001-09-04  Jeffrey A Law  (law@@cygnus.com)

	* readelf.c: Include elf/h8 for H8 series definitions.
	(guess_is_rela): H8 series if RELA.
	(dump_relocations): Handle H8 series relocations.

2001-08-31  Eric Christopher  <echristo@@redhat.com>

	* readelf.c (get_machine_flags): Remove E_MIPS_MACH_MIPS32_4K.

2001-08-29  Peter Targett  <peter.targett@@arccores.com>

	* MAINTAINERS: Include ARC Maintainer.

2001-08-29  Ben Elliston  <bje@@redhat.com>

	* stabs.c (stab_demangle_template): Initialise s4.

2001-08-27  Alan Modra  <amodra@@bigpond.net.au>

	* readelf.c (dump_relocations): Recognise EM_PPC64.

2001-08-26  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* readelf.c (get_machine_flags): Add detection of EF_MIPS_32BITMODE.

2001-08-25  H.J. Lu  <hjl@@gnu.org>

	* nm.c (print_width): New.
	(display_rel_file): Set `print_width' according to
	bfd_sprintf_vma.
	(print_symbol_info_bsd): Check `print_width' instead of BFD64.

2001-08-24  Alexandre Oliva  <aoliva@@redhat.com>

	* objcopy.c (use_alt_mach_code): New variable.
	(OPTION_ALT_MACH_CODE): Define.
	(copy_options): Added --alt-machine-code.
	(copy_main): Handle it.
	(copy_object): Switch to alternate machine code if requested.
	* doc/binutils.texi: Document new option.
	* NEWS: Likewise.

2001-08-22  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* readelf.c (get_machine_flags): Add detection of EF_MIPS_UCODE.

2001-08-21  H.J. Lu  <hjl@@gnu.org>

	* readelf.c (dump_relocations): Support ELF64 on 32bit hosts.
	(display_debug_info): Cast for 64bit hosts.
	(display_debug_frames): Likewise.
	(process_mips_specific): Likewise.

2001-08-21  Andreas Jaeger  <aj@@suse.de>

	* coffgrok.h: Add missing parameter for prototype of coff_grok.

	* sysdump.c: Add missing prototypes.
	* srconv.c: Likewise.
	* unwind-ia64.c: Likewise.
	* coffdump.c: Likewise.

	* sysinfo.y: Print prototypes, include <ansidecl.h>.

	* coffgrok.c: Add missing prototypes, include libiberty.h instead
	of declaring xcalloc.

2001-08-10  H.J. Lu  <hjl@@gnu.org>

	* nm.c (print_value): Add one arg, bfd *.
	(print_value): Replace fprintf_vma with bfd_fprintf_vma.
	(print_symbol_info_bsd): Also pass `abfd' to print_value ().
	(print_symbol_info_sysv): Likewise.
	(print_symbol_info_posix): Likewise.

	* objdump.c (dump_section_header): Replace printf_vma with
	bfd_printf_vma.
	(print_section_stabs): Likewise.
	(dump_bfd_header): Likewise.
	(objdump_print_value): Replace sprintf_vma with
	bfd_sprintf_vma.
	(disassemble_bytes): Likewise.
	(dump_reloc_set): Likewise.

2001-08-10  Andreas Jaeger  <aj@@suse.de>

	* configure.in: Add -Wstrict-prototypes and -Wmissing-prototypes
	to build warnings.
	* configure: Regenerate.

2001-08-09  Alan Modra  <amodra@@bigpond.net.au>

	* readelf.c: Add missing prototypes.
	* objdump.c: Likewise.  Format existing prototypes.

2001-08-08  Alexandre Oliva  <aoliva@@redhat.com>

	* readelf.c (display_debug_info): Add to abbrev_offset the addend
	of any RELA relocation for the abbrev_offset memory location that
	refers to the .debug_abbrev section symbol.

2001-08-07  H.J. Lu  <hjl@@gnu.org>

	* readelf.c (process_file): Return 0 if OK, otherwise return 1.
	(main): Return process_file ().

2001-08-05  Philip Blundell  <philb@@gnu.org>

	* doc/binutils.texi: Use "Thumb" not "THUMB".

2001-08-03  John Healy  <jhealy@@redhat.com>

	Patch suggested by Frank Eigler <fche@@redhat.com>.
	* objdump.c (disassemble_data): Fill in section member of the
	disasm_info structure.

2001-08-03  Tom Walsh  <tom@@cyberiansoftware.com>

	* configure.in: Added --with-windres option.
	* configure: Regenerated.

2001-07-11  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* doc/binutils.texi: Use @@command{name} for commands;
	use @@option{-opt} for options; use @@table @@env for list of options;
	remove spaces arround [ | ] in synopsis.

	* doc/Makefile.am (POD2MAN): Use 'GNU Development Tools' for the
	center title.

2001-07-31  Nick Clifton  <nickc@@cambridge.redhat.com>

	* objcopy.c: Fix formatting.
	(section_rename): New structure.
	(OPTION_RENAME_SECTION): New switch.
	(copy_usage): Document new switch.
	(add_section_rename): New function: Add a node to the section
	rename list.
	(find_section_rename): New function: Find the new name and
	flags for a section.
	(setup_section): Call find_section_name to determine the name
	of the output section.
	(copy_main): Handle OPTION_RENAME_SECTION.
	* binutils.texi: Document new switch.
	* NEWS: Mention new switch.

2001-07-30  Nick Clifton  <nickc@@cambridge.redhat.com>

	* README: Rename bug-gnu-utils@@gcc.org to bug-binutils@@gcc.org.
	* MAINTAINERS: Rename bug-gnu-utils@@gcc.org to
	bug-binutils@@gcc.org.

2001-07-28  Matthias Kramm  <kramm@@quiss.org>

	* bucomm.c (list_supported_architectures): New function.
	* bucomm.h (list_supported_architectures): Declare.
	* objdump.c (usage): Call the above.

2001-07-25  Dave Brolley  <brolley@@redhat.com>

	* objdump.c (SKIP_ZEROES): Only define it if it is not already defined.
	(SKIP_ZEROES_AT_END): Only define it if it is not already defined.

2001-07-19  Nick Clifton  <nickc@@cambridge.redhat.com>

	* README: Update for 2.11.  Change bug reporting email address.
	* MAINTAINERS: Tidy up.  Change bug reporting email address.

2001-07-16  DJ Delorie  <dj@@redhat.com>

	* resres.c (write_res_header): Align header size.
	(res_align_file): Calculate alignment correctly.

	* rcparse.y (styles): use SUBLANG_SHIFT instead of 8 (or the more
	correct 10).
	* resrc.c (write_rc_resource): Likewise.
	* windres.h (SUBLANG_SHIFT): Define - as 10.

2001-07-15  Nick Clifton  <nickc@@cambridge.redhat.com>

	* MAINTAINERS: Add Christian Groessler as maintainer for z8k port.

2001-07-11  Nick Clifton  <nickc@@cambridge.redhat.com>

	* MAINTAINERS: Add notes about branch checkins.

2001-07-05  Daniel Berlin  <dan@@cgsoftware.com>

	* readelf.c (display_debug_macinfo): New function, display
	.debug_macinfo section.
	(do_debug_macinfo): New variable.
	(parse_args): Handle "-w[mM]" to mean display macro info.
	(process_section_headers): Handle debug_macinfo.
	(debug_displays): Replace unsupported function with macinfo
	function for .debug_macinfo display.
	* doc/binutils.texi: Document new command line switch.
	* NEWS: Document new feature of readelf.

2001-07-05  H.J. Lu  <hjl@@gnu.org>

	* objcopy.c (filter_symbols): Don't turn undefined symbols
	into local.

2001-07-03  H.J. Lu <hjl@@gnu.org>

	* doc/Makefile.am (addr2line.1): Use addr2line.pod instead of
	$@@.pod.
	(ar.1): Likewise.
	(dlltool.1): Likewise.
	(nlmconv.1): Likewise.
	(nm.1): Likewise.
	(objcopy.1): Likewise.
	(objdump.1): Likewise.
	(ranlib.1): Likewise.
	(readelf.1): Likewise.
	(size.1): Likewise.
	(strings.1): Likewise.
	(strip.1): Likewise.
	(windres.1): Likewise.
	(cxxfilt.man): Use $(DEMANGLER_NAME).pod instead of $@@.pod.
	($(DEMANGLER_NAME).1): Also substitute cxxfilt with
	$(DEMANGLER_NAME).
	(as.1): Removed.
	* doc/Makefile.in: Regenerated.

2001-07-03  Nick Clifton  <nickc@@cambridge.redhat.com>

	* MAINTAINERS: Change MIPS maintainer to Eric Christopher.

2001-07-01  Daniel Berlin  <dan@@cgsoftware.com>

	* readelf.c: Support DWARF 2.1 tags, encodings, languages.

2001-06-29  James Cownie <jcownie@@etnus.com>

	* readelf.c: Support DWARF 2.1 attributes.

2001-06-28  Alan Modra  <amodra@@bigpond.net.au>

	* readelf.c (GET_DATA_ALLOC): Remove.
	(GET_DATA): Remove.
	(get_data): New function combining above macros, with an extra
	test for zero size.
	(slurp_rela_relocs): Use get_data, and catch error return.
	(slurp_rel_relocs): Likewise.
	(get_32bit_program_headers): Likewise.
	(get_64bit_program_headers): Likewise.
	(get_32bit_section_headers): Likewise.
	(get_64bit_section_headers): Likewise.
	(get_32bit_elf_symbols): Likewise.
	(get_64bit_elf_symbols): Likewise.
	(process_section_headers): Likewise.
	(process_relocs): Likewise.
	(slurp_ia64_unwind_table): Likewise.
	(process_unwind): Likewise.
	(get_32bit_dynamic_segment): Likewise.
	(get_64bit_dynamic_segment): Likewise.
	(process_dynamic_segment): Likewise.
	(process_version_sections): Likewise.
	(process_symbol_table): Likewise.
	(dump_section): Likewise.
	(display_debug_info): Likewise.
	(display_debug_section): Likewise.
	(process_section_contents): Likewise.
	(process_corefile_note_segment): Likewise.
	(process_mips_specific): Likewise.  Also free econf32, econf64.

2001-06-25  Alan Modra  <amodra@@bigpond.net.au>

	* readelf.c (dump_relocations): Print "bad symbol index" if
	symtab == NULL with non-zero symtab_index.
	(process_relocs): Don't bomb if reloc section has no symsec.

2001-06-24  H.J. Lu  <hjl@@gnu.org>

	* objcopy.c (strip_main): Revert the change made on 2001-05-30
	by accident.
	(copy_main): Apply the the change made to strip_main on
	2001-05-30 by accident.

2001-06-23  Andreas Jaeger  <aj@@suse.de>

	* unwind-ia64.c (unw_decode_x1): Add unused attribute for
	parameter 'code'.
	(unw_decode_x2): Likewise.
	(unw_decode_x3): Likewise.
	(unw_decode_x4): Likewise.

2001-06-23  Ben Elliston  <bje@@redhat.com>

	* MAINTAINERS: Add myself as M88k maintainer.

2001-06-22  Jocelyn Mayer  <jocelyn.mayer@@netgem.com>

	* objcopy.c (strip_main): Support -o or --output-file command lien
	switch.

2001-06-19  H.J. Lu <hjl@@gnu.org>

	* doc/Makefile.in: Regenerated.

2001-06-19  Nick Clifton  <nickc@@cambridge.redhat.com>

	* readelf.c: Restore formatting.

2001-06-18  H.J. Lu <hjl@@gnu.org> & Nick Clifton <nickc@@redhat.com>

	* Makefile.am: Move documentation into doc subdirectory.
	* Makefile.in: Regenerated.
	* binutils.texi: Move into doc subdirectory.
	* addr2line.1: Removed.
	* ar.1: Likewise.
	* dlltool.1: Likewise.
	* nlmconv.1: Likewise.
	* nm.1: Likewise.
	* objcopy.1: Likewise.
	* objdump.1: Likewise.
	* ranlib.1: Likewise.
	* readelf.1: Likewise.
	* size.1: Likewise.
	* strings.1: Likewise.
	* strip.1: Likewise.
	* windres.1: Likewise.
	* cxxfilt.man: Likewise.
	* doc: New Directory.
	* doc/Makefile.am: New file.
	* doc/Makefile.in: Generate.

2001-06-09  Alan Modra  <amodra@@bigpond.net.au>

	* NEWS: Fix a typo.  Mention hppa64-elf.  Add binutils-2.11 marker.

2001-06-01  Alan Modra  <amodra@@bigpond.net.au>

	* MAINTAINERS: Update my email address.

2001-05-30  Honda Hiroki  <hhonda@@kobe-catv.ne.jp>

	* objcopy.c: Add new switches: --keep-global-symbol,
	--keep-symbols, --localize-symbols, --keep-global-symbols and
	--weaken-symbols.
	* binutils.texi: Document new switches.
	* objcopy.1: Regenerate.
	* NEWS: Announce new feature.

2001-05-28  Andreas Jaeger  <aj@@suse.de>

	* readelf.c (display_debug_frames): Fix warnings: Remove unused
	variables, fix format strings.

2001-05-28  Nick Clifton  <nickc@@cambridge.redhat.com>

	* objdump.c (disassemble_bytes): Remove section VMA adjustment
	when computing the address of the line to show.

2001-05-16  Richard Henderson  <rth@@redhat.com>

	* readelf.c (do_debug_frames_interp): New.
	(byte_get_little_endian): If BFD64, always read entire 8-byte fields.
	(byte_get_big_endian): Likewise.
	(parse_args) ['F']: Set do_debug_frames_interp.
	(Frame_Chunk): Make data_factor signed, add fde_encoding.
	(frame_display_row): Don't trunc pc_begin to int.
	(size_of_encoded_value): New.
	(display_debug_frames): Handle 64-bit targets.  Print raw data
	unless do_debug_frames_interp.
	(debug_displays): Remove duplicate .debug_frame.

2001-05-15  Ralf Baechle  <ralf@@gnu.org>

	* readelf.c: Replace uses of EM_MIPS_RS4_BE with EM_MIPS_RS3_LE.
	The former constant was never in active use and is used otherwise
	by the ABI.

2001-05-11  Jakub Jelinek  <jakub@@redhat.com>

	* readelf.c (process_unwind): Print all unwind sections, not just
	one.

2001-05-07  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* readelf.c (process_unwind): Remove const specifier.

2001-04-27  Michal Svec <rebel@@atrey.karlin.mff.cuni.cz>

	* strings.c (isgraphic): Do not use isascii() unless it is needed
	for isprint() to work.
	(main): Set the locale domain to LC_ALL not just LC_MESSAGES.

2001-04-27  Johan Rydberg  <jrydberg@@opencores.org>

	* NEWS: Announce support for OpenRISC.

2001-04-17  Danny Smith  <dannysmith@@users.sourceforge.net>

	* dlltool.c (do_default_excludes): Initialise to true.

2001-04-10  Alan Modra  <amodra@@one.net.au>

	* MAINTAINERS: Update my email address
	* nm.c (print_symbol_info_bsd): Use a simple printf string.

2001-04-05  Hans-Peter Nilsson  <hp@@axis.com>

	* readelf.c (display_debug_lines): Fix typo for "Prologue".

2001-03-30  H.J. Lu  <hjl@@gnu.org>

	* readelf.c (process_unwind): Just return if do_unwind is 0.

2001-03-28  Roger Sayle  <roger@@metaphorics.com>

	* dlltool.c (make_one_lib_file): Fix section flags for
	.text, .data and .bss in stub ds*.o files to match those
	generated by gas.

2001-03-29  H.J. Lu  <hjl@@gnu.org>

	* readelf.c (process_unwind): Only do unwind sections for
	IA64.

2001-03-28  H.J. Lu  <hjl@@gnu.org>

	* Makefile.am ($(srcdir)/dlltool.1): Remove the extra target.
	* Makefile.in: Regenerate.

2001-03-26  Andreas Jaeger  <aj@@suse.de>

	* binutils.texi (nm): Fix texi syntax.

2001-03-25  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* binutils.texi: Put @@c man begin and @@c man end indications
	to generate man pages using texi2pod and pod2man. Put @@c man title
	to identify each man. Add SEEALSO entries.
	* Makefile.am (MANCONF, TEXI2POD, POD2MAN): New variable.
	(man_MANS): Add dlltool.1, nlmconv.1, readelf.1, windres.1,
	sort the list.
	(*.1): Build the man pages from binutils.texi.
	* Makefile.in: Regenerate.

2001-03-13  Eric Kohl  <ekohl@@rz-online.de>

	* defparse.y (opt_equal_name): allow "." in name.
	* dlltool.c (def_exports): Added ability to generate forwarded exports.
	(gen_exp_file): Likewise.

2001-03-12  Stefan Geuken <mail@@stefan-geuken.de>

	* NEWS: Document addition of -B switch to objcopy.
	* binutils.texi:  Document addition of -B switch to objcopy.
	* objcopy.c: (copy_options): Add --binary-architecture.
	(copy_usage): Document -B/--binary-architecture.
	(copy_main): Support -B/--binary-architecture.  Set
	bfd_external_binary_architecture.

2001-03-11  Andreas Jaeger  <aj@@suse.de>

	* readelf.c (guess_is_rela): Handle EM_S390_OLD.
	(dump_relocations): Likewise.
	(get_machine_name): Likewise.

2001-02-28  Nick Clifton  <nickc@@redhat.com>

	* readelf.c: (struct unw_aux_info): Remove const modifier for
	'strtab' field.
	(process_unwind): Remove non-K&R compliant LHS type cast in call
	to GET_DATA_ALLOC macro.

2001-02-28  Philip Blundell  <pb@@futuretv.com>

	* readelf.c (decode_ARM_machine_flags): Explicitly mention which
	ABI is in use; remove ambiguity between the "unknown" EABI and
	unrecognised ABIs.  Handle version 2 ARM EABI.  Update uses of
	renamed EF_xx constants.

2001-02-27  Alan Modra  <alan@@linuxcare.com.au>

	* configure.in (BFD_VERSION): New.
	(AM_INIT_AUTOMAKE): Use $BFD_VERSION.
	* configure: Regenerate.
	* Makefile.am: Run "make dep-am"
	* Makefile.in: Regenerate.

2001-02-14  Nick Clifton  <nickc@@redhat.com>

	* MAINTAINERS: Add "Obvious Fix" rule.

2001-02-11  Michael Sokolov  <msokolov@@ivan.Harhan.ORG>

	* unwind-ia64.c: Don't use ANSI C preprocessor stringisation and string
	literal concatenation.

2001-02-11  Michael Sokolov  <msokolov@@ivan.Harhan.ORG>

	* readelf.c (struct unw_aux_info): Remove const from the info member.
	(process_unwind): Don't type-cast the third argument to the
	GET_DATA_ALLOC macro.

2001-02-11  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (dump_relocations): Free corrected allocated
	array.
	(process_unwind): Fix compile time warning.

2001-02-10  Nick Clifton  <nickc@@redhat.com>

	* binutils.texi: Document new --unwind option to readelf.

2001-02-09  Martin Schwidefsky  <schwidefsky@@de.ibm.com>

	* readelf.c: Add linux target for S/390.

2001-02-10  Alan Modra  <alan@@linuxcare.com.au>

	* nm.c (print_symbol_info_bsd): Don't #ifdef inside printf in case
	printf is a macro.

2001-02-08  Hans-Peter Nilsson  <hp@@bitrange.com>

	* acinclude.m4 (AM_PROG_LEX): Override installed definition.
	* aclocal.m4: Regenerate.
	* configure: Regenerate.

2001-02-07  Todd Vierling  <tv@@wasabisystems.com>

	* bucomm.c (bfd_target_vector): Change extern array to pointer.
	* objdump.c (bfd_target_vector): Likewise.

2001-02-07  David Mosberger  <davidm@@hpl.hp.com>

	* readelf.c (process_unwind): New function.
	(slurp_ia64_unwind_table): Ditto.
	(dump_ia64_unwind): Ditto.
	(find_symbol_for_address): Ditto.
	(slurp_rela_relocs): New function (split off from dump_relocations()).
	(slurp_rel_relocs): Ditto.
	(parse_args): Handle '-u' option.

	* unwind-ia64.c: New file.
	* unwind-ia64.h: New file.
	* Makefile.am: Include unwind-ia64.c in readelf build.
	* Makefile.in: Regenerate.
	* po/binutils.pot: Regenerate.

2001-02-04  Philip Blundell  <philb@@gnu.org>

	* configure.in (OBJDUMP_DEFS): Match `arm*-*', not just `arm-*'.
	* configure: Regenerate.

2001-01-31  Steve deRosier  <sderosier@@vari-lite.com>

	* ieee.c (ieee_add_bb11): Don't check for backslashes
	unless HAVE_DOS_BASED_FILE_SYSTEM is defined.

2001-01-24  Mark Elbrecht  <snowball3@@bigfoot.com>

	* ieee.c: Update copyright.
	(ieee_start_compilation_unit): Don't check for backslashes
	unless HAVE_DOS_BASED_FILE_SYSTEM is defined.

	* stabs.c: Update copyright. Include "filenames.h".
	(parse_stab): Use IS_ABSOLUTE_PATH. Ignore N_WARNING stabs.

2001-01-23  Jakub Jelinek  <jakub@@redhat.com>

	* readelf.c (process_version_sections): Check if VERDEF or VERNEED
	sections are present before using them.  Remove code duplication.
	(process_symbol_table): Check if VERDEF or VERNEED sections are
	present before using them.

2001-01-17  Nick Clifton  <nickc@@redhat.com>

	* objcopy.c (copy_object): Fail if attempting to convert the
	endianness of the input object file.

	* binutils.texi: Explain that objcopy cannot convert endianness.

2001-01-16  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (string_table_length): New variable.
	(SECTION_NAME): Catch out of range indices and missing section
	pointers.
	(process_section_headers): Delete useless local variable
	string_table_offset.  Set the value of string_table_length
	after loading the string table.
	(process_mips_specific): Use SECTION_NAME macro.
	(process_file): Set string_table_length to 0 when it is freed.

2001-01-12  Nick Clifton  <nickc@@redhat.com>

	* version.c (print_version): Update copyright date.

2001-01-11  Peter Targett  <peter.targett@@arccores.com>

	* readelf.c (dump_relocations): Include selection with EM_ARC.
	(get_machine_name) Update name to "ARC".

2001-01-09  Nick Clifton  <nickc@@redhat.com>

	* Makefile.am: Add rule to build objdump.o from objdump.c and
	using OBJDUMP_DEFS.
	* Makefile.in: Regenerate.

	* configure.in: Define OBJDUMP_DEFS.  Default to empty.
	(arm, xscale, d10v): For these targets define OBJDUMP_DEFS to
	-DDISASSEMBLER_NEEDS_RELOCS.
	* configure: Regenerate.

	* objdump.c (disassemble_bytes): If DISASSEMBLER_NEEDS_RELOCS
	is defined read in the relocs even if dump_reloc_info is
	false.

2001-01-07  Philip Blundell  <philb@@gnu.org>

	* binutils.texi (Bug Reporting): Replace `bug-gnu-utils' with
	`bug-binutils'.
	* README: Likewise.

2000-12-19  Nick Clifton  <nickc@@redhat.com>

	* dlltool.c: Add missing support for arm-epoc-pe.
	* configure.in: Add missing support for arm-epoc-pe.
	* configure: Regenerate.

2000-12-15  Nick Clifton  <nickc@@redhat.com>

	* MAINTAINERS: Add Diego Novillo as a maintainer for the Intel
	Mode parts of the x86 port.

2000-12-04  Andreas Jaeger  <aj@@suse.de>

	* readelf.c (guess_is_rela): Add EM_X86_64.
	(dump_relocations): Add EM_X86_64.
	(get_machine_name): Add EM_X86_64.
	Include "elf/x86-64.h".

2000-12-12  Nick Clifton  <nickc@@redhat.com>

	* readelf.c: Fix formatting.

2000-12-11  Jan Hubicka  <jh@@suse.cz>

	* MAINTAINERS: Add myself and Andreas Jaeger as x86_64 maintainer.

2000-12-07  Andrew Haley  <aph@@redhat.com>

	* readelf.c (display_debug_frames): Only display columns that are
	referenced by the frame debug info.

2000-12-05  Nick Clifton  <nickc@@redhat.com>

	* MAINTAINERS: Add Jason Merrill as DWARF2 maintainer.

2000-12-04  Jason Merrill  <jason@@redhat.com>

	* readelf.c (process_section_headers): Handle linkonce.wi sections.
	(display_debug_section): Likewise.
	(display_debug_info): Display CU header before bailing.

2000-12-01  Chris Demetriou  <cgd@@sibyte.com>

	* readelf.c (get_machine_flags): Recognize MIPS32 ISA in
	EF_MIPS_ARCH.  Replace use of E_MIPS_MACH_MIPS32 with
	E_MIPS_MACH_MIPS32_4K and adjust printed CPU name similarly.

	* readelf.c (get_machine_flags): Add cases for E_MIPS_ARCH_5,
	and E_MIPS_ARCH_64.

	* readelf.c (get_machine_flags): Add case for
	E_MIPS_MACH_SB1.

2000-11-30  Richard Earnshaw  <rearnsha@@arm.com>

	* readelf.c (frame_display_row): Output 's' for DW_CFA_same_value.

2000-11-28  Hans-Peter Nilsson  <hp@@bitrange.com>

	* MAINTAINERS: Add Jrn Rennecke and self as SH maintainers.
	Change sourceware.cygnus.com to sources.redhat.com.
	Fix typo for "amongst".

2000-11-28  Nick Clifton  <nickc@@redhat.com>

	* strip.1 (COPYING): Mention that the GNU Free Documentation
	License is present in the sources, but not the output, and
	also available from the GNU website.
	(GNU Free Documentation License): Comment out this section.
	* strings.1: Ditto.
	* size.1: Ditto.
	* ranlib.1: Ditto.
	* objdump.1: Ditto.
	* objcopy.1: Ditto.
	* nm.1: Ditto.
	* nlmconv.1: Ditto.
	* ar.1: Ditto.
	* addr2line.1: Ditto.

2000-11-27  DJ Delorie  <dj@@redhat.com>

	* readelf.c (usage): Add -wf (--debug-dump=frames) option.
	(parse_args): Support -wf option.
	(process_section_headers): Ditto.
	(debug_displays): Ditto.
	(display_debug_frames): New, dump *_frame sections.
	(frame_need_space): Support for above.
	(frame_display_row): Ditto.
	* binutils.texi: Document it.

2000-11-24  Nick Clifton  <nickc@@redhat.com>

	* NEWS: Announce support for v5t, v5te and XScale.

2000-11-22  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (get_machine_name): Add EM_JAVELIN, EM_FIREPATH,
	EM_ZSP, EM_MMIX, EM_HUANY, EM_PRISM.
	(get_section_type_name): Add SHT_GROUP and SHT_SYMTAB_SHNDX.
	(get_elf_section_flags: Add SHF_GROUP.
	(process_section_headers): Adjust output for 32-bit binaries
	to look nice on an 80 column terminal.

2000-11-20  H.J. Lu  <hjl@@gnu.org>

	* readelf.c (get_osabi_name): Change ELFOSABI_MONTEREY to
	ELFOSABI_AIX.

2000-11-17  Richard Henderson  <rth@@redhat.com>

	* readelf.c (display_debug_lines): Adjust last change to
	use sizeof (external->li_length).

2000-11-17  Richard Henderson  <rth@@redhat.com>

	* readelf.c (display_debug_lines): Fix section length check
	and end_of_sequence computation.

2000-11-06  Nick Clifton  <nickc@@redhat.com>

	* binutils.texi: Add GNU Free Documentation License.
	* objcopy.1: Add GNU Free Documentation License.
	* objdump.1: Add GNU Free Documentation License.
	* addr2line.1: Add GNU Free Documentation License.
	* ar.1: Add GNU Free Documentation License.
	* nlmconv.1: Add GNU Free Documentation License.
	* nm.1: Add GNU Free Documentation License.
	* ranlib.1: Add GNU Free Documentation License.
	* size.1: Add GNU Free Documentation License.
	* strings.1: Add GNU Free Documentation License.
	* strip.1: Add GNU Free Documentation License.

2000-10-06  Luciano Gemme <ishitawa@@yahoo.com>

	* objcopy.c (--srec-len=nn): New parameter to set the
	maximum length of generated Srecords.
	(--srec-forceS3): New parameter that restricts the generation of
	Srecords to type S3 only.
	* binutils.texi: Document new command line switches.
	* objcopy.1: Docuemnt the new command line switches.
	* NEWS: Announce the existence of the new command line switches.

2000-10-31  Nick Clifton  <nickc@@redhat.com>

	* MAINTAINERS: Add Jim Wilson as the maintainer for the IA64
	code.  Add Eric Chrisopher as maintainer of MN10300 port.

2000-10-12  Roger Sayle  <roger@@metaphorics.com>

	* Make comma after string after icon/control optional.

2000-09-13  Anders Norlander  <anorland@@acc.umu.se>

	* readelf.c (get_machine_flags): Also print EF_MIPS_MACH field.

	* NEWS: Mention support for MIPS32.

2000-09-08  Nick Clifton  <nickc@@redhat.com>

	* MAINTAINERS: Add Stephane Carrez as maintainer for 68HC[11|12].

2000-09-07  H.J. Lu  <hjl@@gnu.org>

	* configure.in (AC_ISC_POSIX): Put after AC_CANONICAL_SYSTEM.
	* configure: Rebuild.

2000-09-06  Alexandre Oliva  <aoliva@@redhat.com>

	* configure: Rebuilt with new libtool.m4.

2000-09-05  Nick Clifton  <nickc@@redhat.com>

	* aclocal.m4: Regenerate.
	* config.in: Regenerate.
	* configure: Regenerate.

2000-09-04  Todd Vierling  <tv@@wasabisystems.com>

	* strip.1: Fix stray '\' in -o formatting.

2000-09-02  Nick Clifton  <nickc@@redhat.com>

	* configure.in: Increase version number to 2.10.91.
	* configure: Regenerate.
	* aclocal.m4: Regenerate.
	* config.in: Regenerate.
	* po/binutils.pot: Regenerate.

2000-08-31  Alexandre Oliva  <aoliva@@redhat.com>

	* acinclude.m4: Include libtool and gettext macros from the
	top level.
	* aclocal.m4, configure: Rebuilt.

2000-08-30  Jamie Guinan  <guinan@@bluebutton.com>

	* resrc.c (close_input_stream): Delete extraneous logic

2000-08-24  Hans-Peter Nilsson  <hp@@axis.com>

	* NEWS: Mention support for CRIS.

2000-08-21  Nick Clifton  <nickc@@redhat.com>

	* addr2line.c: Changed email address for Ulrich Lauther.

2000-08-17  Christopher C. Chimelis <chris@@debian.org>

	* objdump.c (LONGEST_ARCH): Set to sizeof("powerpc:common").

2000-08-17  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (display_debug_pubnames): Only issue warning
	message once.  Terminate message with a new line.
	(display_debug_aranges): Only display version 2 debug info.

2000-08-14  Todd Vierling <tv@@wasabisystems.com>

	* objcopy.c (strip_main): Silently accept -d as an alias for -g
	for compatibility with old BSD systems.

2000-08-14  Jason Eckhardt  <jle@@cygnus.com>

	* NEWS: Mention i860 support.

2000-08-11  Carlo Wood <carlo@@alinoe.com>

	* addr2line.c (main): Add const to char *.

2000-08-11  Geoff Keating  <geoffk@@cygnus.com>

	* ar.c (main): Don't crash if called with no arguments
	or only '-X32_64' as an argument.

2000-08-08  DJ Delorie  <dj@@redhat.com>

	* resrc.c: use "gcc -xc" instead of -xc-header

2000-08-05  Jason Eckhardt  <jle@@cygnus.com>

	* readelf.c (elf/i860.h): Include.
	(dump_relocations): Add recognition of i860 architecture.
	(guess_is_rela): Add recognition of i860 architecture.

2000-08-03  Nick Clifton  <nickc@@cygnus.com>

	* MAINTAINERS: Add information about CGEN maintainers.

2000-07-26  Geoff Keating  <geoffk@@cygnus.com>

	* nm.c (main): Ignore '-X32_64' as an option.
	* ar.c (main): Likewise.
	* binutils.texi (nm): Document new option.
	(ar): Likewise.

2000-07-23  Michael Sokolov  <msokolov@@ivan.Harhan.ORG>

	* rdcoff.c (external_coff_symbol_p): K&R-ise.

2000-07-20  H.J. Lu  <hjl@@gnu.org>

	* binutils.texi: Put back "@@end table" deleted by
	accident.

2000-07-05  Kenneth Block  <krblock@@computer.org>

	* nm.c: Add optional style to demangle switch.
	* objdump.c: Add optional style to demangle switch.
	* addr2line.c: Add optional style to demangle switch.
	* binutils.texi: Document optional style to demangle
	switch.

2000-07-20  Hans-Peter Nilsson  <hp@@axis.com>

	* MAINTAINERS: Add self as CRIS port maintainer.
	* readelf.c: Include elf/cris.h.
	(guess_is_rela): Handle EM_CRIS.
	(dump_relocations): Ditto.
	(get_machine_name): Ditto.
	* Makefile.am: Rebuild dependencies.
	* Makefile.in: Regenerate.
	* po/binutils.pot: Regenerate.

2000-07-19  H.J. Lu  <hjl@@gnu.org>

	* readelf.c (get_dynamic_type): Change "AUXILARY" to
	"AUXILIARY".
	(process_dynamic_segment): Print out strings for DT_CONFIG,
	DT_DEPAUDIT, DT_AUDIT and DT_RUNPATH.

2000-07-19  Mark Kettenis  <kettenis@@gnu.org>

	* nm.c (usage): Change output of `nm --help' to include a
	description of the purpose of the program and a detailed
	description of the accepted options.

2000-07-19  H.J. Lu  <hjl@@gnu.org>

	* readelf.c (process_dynamic_segment): Change DF_1_NODEPLIB
	to DF_1_NODEFLIB.

2000-07-19  H.J. Lu  <hjl@@gnu.org>

	* readelf.c (get_dynamic_type): Fix DT_CHECKSUM.

2000-07-19  H.J. Lu  <hjl@@gnu.org>

	* readelf.c (get_dynamic_type): Change DT_FEATURE_1 to
	DT_FEATURE.
	(process_dynamic_segment): Likewise.

	* readelf.c (get_dynamic_type): Handle DT_CONFIG, DT_DEPAUDIT,
	DT_AUDIT, DT_PLTPAD, DT_MOVETAB and DT_CHECKSUM.
	(process_dynamic_segment): Handle DTF_1_CONFEXP, DF_1_NODEPLIB,
	DF_1_NODUMP and DF_1_CONLFAT.

2000-07-18  Nick Clifton  <nickc@@cygnus.com>

	* binutils.texi (readelf): Fix spelling typo.

2000-07-11  Mark Kettenis  <kettenis@@gnu.org>

	* objdump.c (usage): Make output of `objdump --help' more
	consistent with the rest of the GNU world.  Add a line describing
	the purpose of the program.

2000-07-10  David Huggins-Daines  <dhd@@linuxcare.com>

	* stabs.c (parse_stab_range_type): Cast to proper type to fix
	warning.

2000-07-10  Ryan Bradetich  <rbradetich@@uswest.net>

	* readelf.c (get_dynamic_data): Add casts and use unsigned chars
	to fix warnings.
	(process_symbol_table): Ditto.
	(procesS_extended_line_op): Ditto.
	(display_debug_lines): Ditto.
	(display_debug_pubnames): Ditto.
	(read_and_display_attr): Ditto.

2000-07-09  Nick Clifton  <nickc@@cygnus.com>

	* MAINTAINERS: Add several more port specific maintainers.

2000-07-05  Nick Clifton  <nickc@@cygnus.com>

	* MAINTAINERS: Add blanket write privs for Michael Meissner.

2000-06-05  DJ Delorie  <dj@@redhat.com>

	* MAINTAINERS: New.

2000-07-01  Eric Fifer  <EFifer@@sanwaint.com>

	* dllwrap.c: Changed mistaken dyn_string_append() calls
	to dyn_string_append_cstr().

2000-07-01  Alexander Aganichev <AAganichev@@hypercom.com>

	* stabs.c (parse_stab_type): Divide size in bits by 8 as binutils
	struct debug_type stores size in bytes.

2000-07-01  Alan Modra  <alan@@linuxcare.com.au>

	* Makefile.am (DEP): Fix 2000-06-22.  grep after running dep.sed
	(CLEANFILES): Add DEPA.
	* Makefile.in: Regenerate.

2000-06-27  Alan Modra  <alan@@linuxcare.com.au>

	* ar.c: Revert incorrect 2000-06-25 patch.
	* bucomm.c: Likewise.

2000-06-25 Mark Elbrecht <snowball3@@bigfoot.com>

	* rdcoff (parse_coff_symbol): Treat GNU weak symbols as external.
	(external_coff_symbol_p): New function.
	(parse_coff): Use it.

2000-06-25  Alexander Aganichev <AAganichev@@hypercom.com>

	* ar.c (normalize): Advance past both characters in a DOS based
	<letter>: filepath prefix.
	(main): Likewise.
	* bucomm.c (make_tempname): Likewise.

2000-06-24  Nick Clifton  <nickc@@cygnus.com>

	* objdump.c (usage): Fix description of --stabs switch.

2000-06-22  Alan Modra  <alan@@linuxcare.com.au>

	* Makefile.am (DEP): grep for leading `/' in DEP1, and fail if we
	find one.
	* Makefile.in: Regenerate.

2000-06-20  Alexander Aganichev <AAganichev@@hypercom.com>

	* ar.c (normalize): Correct pointer comparison when checking for
	backslashes.
	(main): Likewise.
	* bucomm.c (make_tempname): Likewise.

	* ieee.c (ieee_start_compilation_unit): Correct pointer comparison
	and search for backslashes in the original pathname.
	(ieee_add_bb11): Likewise.

2000-06-18  Nick Clifton  <nickc@@redhat.com>

	* ar.c (print_contents): Improve verbose message.

2000-06-15  H.J. Lu  <hjl@@gnu.org>

	* dyn-string.c: Removed. Not needed with dyn-string.c in
	libiberty.
	* dyn-string.h: Likewise.

	* Makefile.am: Remove references to dyn-string.c and
	dyn-string.h. Rebuild dependency.
	* Makefile.in: Rebuild.

2000-06-15  H.J. Lu  <hjl@@gnu.org>

	* binutils.texi: Put a warning on copying relocatable object
	files between two different formats.

2000-06-13  DJ Delorie  <dj@@cygnus.com>

	* rcparse.y (control): ICON controls take an id as the first
	parameter, not an optional string.  Also, call new convenience
	function that takes res_id's.
	* resrc.c (define_control): missing text means zero-length string,
	not zero ID.
	(define_icon_control): New.
	* windres.h: declare define_icon_control.

2000-06-13  H.J. Lu  <hjl@@gnu.org>

	* configure: Regenerate.

2000-06-08  David O'Brien  <obrien@@FreeBSD.org>

	* configure.in (VERSION): Update to show this is the CVS mainline.

2000-06-02  David O'Brien  <obrien@@FreeBSD.org>

	* strings.c (isgraphic): Interpret <TAB> as a printable character,
	analogous to <SPACE>.

2000-05-30  Alan Modra  <alan@@linuxcare.com.au>

	* objdump.c (display_target_list): Use bfd_close_all_done, not
	bfd_close to fix crash caused by 2000-05-24 change.

2000-05-25  DJ Delorie  <dj@@cygnus.com>

	* resrc.c (close_input_stream): zero out cpp_pipe after closing it.

2000-05-26  Alan Modra  <alan@@linuxcare.com.au>

	* Makefile.am: Update dependencies with "make dep-am"
	* Makefile.in: Regenerate.

2000-05-26  Eli Zaretskii  <eliz@@is.elta.co.il>

	* ar.c: Include filenames.h.
	(normalize) [HAVE_DOS_BASED_FILE_SYSTEM]: Support backslashes
	and drive letters in file names.
	(main): Support backslashes and drive letters in argv[0].  Drop
	the .exe suffix, if any, in argv[0] if is_ranlib is negative.  Use
	FILENAME_CMP instead of strcmp to compare file names.
	(open_inarch) [__GO32__]: Don't ifdef errno != ENOENT test for
	DJGPP v2.
	(do_quick_append) [__GO32__]: Ditto.
	(get_pos_bfd, delete_members, move_members, replace_members):
	Compare file names with FILENAME_CMP.

	* bucomm.c: Include filenames.h.
	(make_tempname) [HAVE_DOS_BASED_FILE_SYSTEM]: Support mixed
	forward/backward slashes and drive letters in file names.

	* ieee.c (ieee_start_compilation_unit, ieee_add_bb11): Support
	mixed forward/backward slashes and drive letters in file names.

	* strings.c (O_BINARY, setmode, SET_BINARY): Define.
	(main) [SET_BINARY]: Use SET_BINARY to switch stdin into binary
	mode.

	* objcopy.c: Include filenames.h.
	(main) [HAVE_DOS_BASED_FILE_SYSTEM]: Drop the .exe suffix
	before comparing to "strip".
	Use FILENAME_CMP to compare file names.

	* arsup.c: Include filenames.h.
	(map_over_list, ar_delete, ar_replace, ar_extract): Use
	FILENAME_CMP to compare file names.
	(ar_open): Prepend "tmp-" instead of appending "-tmp", to create
	the temporary file name.

	* configure.in: Check for setmode.
	* configure: Regenerate.

2000-05-24  Alan Modra  <alan@@linuxcare.com.au>

	* objdump.c (display_target_list): Close the bfd.
	(display_info_table): Likewise.

2000-05-14  H.J. Lu  (hjl@@gnu.org)

	* objcopy.c (filter_symbols): Don't strip global symbols in
	relocatable object files.

2000-05-14  Alan Modra  <alan@@linuxcare.com.au>

	* size.c (usage): Associate short options with corresponding long
	option to give a clue as to their function.

2000-05-14  Philippe De Muyter  <phdm@@macqel.be>

	* size.c (main): Accept and ignore `-f' option.

2000-05-13  Alan Modra  <alan@@linuxcare.com.au>

	* bucomm.h (gettext, dgettext, dcgettext, textdomain,
	bindtextdomain): Replace defines with those from intl/libgettext.h
	to quieten gcc warnings.

2000-05-12  H.J. Lu  <hjl@@gnu.org>

	* nlmconv.c (temp_filename): Removed.

	* nlmconv.c (link_inputs): Use make_temp_file () instead of
	choose_temp_base ().
	* objdump.c (display_target_list): Likewise.
	(display_info_table): Likewise.

2000-05-08  Alan Modra  <alan@@linuxcare.com.au>

	* objcopy.c (setup_section): Add const and gettext calls for err.

2000-05-02  H.J. Lu  <hjl@@gnu.org>

	* readelf.c (get_osabi_name): Handle ELFOSABI_NONE instead of
	ELFOSABI_SYSV. Also handle ELFOSABI_NETBSD, ELFOSABI_HURD,
	ELFOSABI_SOLARIS, ELFOSABI_MONTEREY, ELFOSABI_IRIX,
	ELFOSABI_FREEBSD, ELFOSABI_TRU64, ELFOSABI_MODESTO
	and ELFOSABI_OPENBSD.

2000-05-02  Kazu Hirata  <kazu@@hxi.com>

	* coffgrok.c: Add ATTRIBUTE_UNUSED as appropriate.
	* srconv.c: Likewise.
	* sysdump.c: Likewise.

2000-04-23  Denis Chertykov  <denisc@@overta.ru>

	* readelf.c (guess_is_rela): AVR uses RELA relocations.
	(get_machine_name): machine name for EM_AVR added.

2000-04-21  Richard Henderson  <rth@@cygnus.com>
	    David Mosberger  <davidm@@hpl.hp.com>

	* Makefile.am (readelf.o): Add elf/ia64.h.
	* Makefile.in: Rebuild.
	* readelf.c: Include elf/ia64.h.
	(guess_is_rela, dump_relocations): Handle EM_IA_64.

2000-04-17  Timothy Wall  <twall@@cygnus.com>

	* objdump.c (disassemble_data): Set octets per byte *after*
	resolving arch/mach for binary files.

2000-04-14  Michael Sokolov  <msokolov@@ivan.Harhan.ORG>

	* arlex.l: Add directives to increase lex buffer size.

	* objdump.c, readelf.c: Don't include strarg.h or varargs.h. They are
	already included by bucomm.h.

2000-04-10  Philippe De Muyter  <phdm@@macqel.be>

	* readelf.c (dynamic_segment_mips_val): Call `sprintf', not
	`strftime' since strftime is not available on all systems.
	(process_mips_specific): Ditto.

2000-04-07  Andrew Cagney  <cagney@@b1.cygnus.com>

	* configure.in (WARN_CFLAGS): Set to -W -Wall by default.  Add
	--enable-build-warnings option.
	* Makefile.am (AM_CFLAGS, WARN_CFLAGS): Add definitions.
	* Makefile.in, configure: Re-generate.

2000-04-06  Alan Modra  <alan@@linuxcare.com.au>

	* addr2line.c: Update copyright.
	* objcopy.1: Likewise, and title.
	* strings.1: Likewise.

	* version.c (print_version): Add 2000.

	* rddbg.c (read_section_stabs_debugging_info): Don't use
	bfd_size_type for strx to avoid printf problems if BFD64.

	* bucomm.c: (report): Remove `static'.
	Move inclusion of stdarg.h/vararg.h from here.
	* bucomm.h: To here.
	(CONST): Change all occurences to const.
	(report): Declare it.
	(bfd_fatal): Add ATTRIBUTE_NORETURN.
	(fatal): Add ATTRIBUTE_PRINTF_1 ATTRIBUTE_NORETURN.
	(non_fatal): Add ATTRIBUTE_PRINTF_1.

	* ar.c (main): Use fatal or non_fatal instead of fprintf.
	Correct a typo in an error message.
	(do_quick_append): Use non_fatal instead of fprintf.
	(move_members): Use fatal instead of fprintf, exit.
	* coffdump.c (main): Same here.

	* dlltool.c (display): Delete.
	(warn): Delete.
	(inform): Use `report' instead of `display'.
	(rvaafter): Remove trailing \n from fatal error msg.
	(rvabefore): Ditto.
	(asm_prefix): Ditto.
	(yyerror): Replace `warn' with `non_fatal', and remove \n.
	(def_name): Likewise.
	(run): Likewise.
	(scan_all_symbols): Likewise.
	(gen_lib_file): Likewise.
	(def_library): Likewise.  Remove extra program_name too.
	(run): Remove \n from inform strings.
	(scan_drectve_symbols): Likewise.
	(add_excludes): Likewise.
	(scan_open_obj_file): Likewise.
	(gen_exp_file): Likewise.
	(gen_lib_file): Likewise.
	(process_duplicates): Likewise.

	* Makefile.am (dllwrap_SOURCES): Add version.c.
	* dllwrap.c (program_version): Delete.
	(print_version): Delete.
	(display): Always print trailing \n.
	(warn): New.
	(delete_temp_files): Use warn instead of fprintf.  Use gettext.
	(run): Here too.
	(main): And here.
	(usage): gettext'ify.
	(long_options): Add missing initialisers.

	* nlmconv.c (main): Use fatal/non_fatal instead of fprintf.
	(select_output_format): Likewise.
	(powerpc_mangle_relocs): Likewise.
	(link_inputs): Likewise.

	* nm.c (set_print_radix): Use fatal instead of fprintf, exit.
	(set_output_format): Likewise.
	(main): Use non_fatal instead of fprintf.
	(display_rel_file): Likewise.

	* objdump.c (slurp_symtab): Use non_fatal instead of fprintf.
	(slurp_dynamic_symtab): Same here.
	(disassemble_data): And here.
	(read_section_stabs): And here.
	(read_section_stabs): And here.
	(dump_bfd): And here.
	(main): And here.
	(objdump_sprintf): Use fatal instead of fprintf, exit.
	(disassemble_data): Same here.

	* rdcoff.c (parse_coff_type): Use non_fatal instead of fprintf.
	(parse_coff_struct_type): Same here.
	(parse_coff_enum_type): And here.
	(parse_coff): And here.
	* rddbg.c (read_debugging_info): And here.
	* size.c (main): And here.
	* windres.c (format_from_name): And here.
	* wrstabs.c (stab_write_symbol): Here too.
	(write_stabs_in_sections_debugging_info): And here.
	(stab_int_type): And here.
	(stab_struct_field): And here.
	(stab_typdef): And here.

	* rescoff.c (read_coff_rsrc): Use fatal instead of fprintf, exit.
	* srconv.c (main): Same here.
	* strings.c (main): And here.
	(integer_arg): And here.
	* sysdump.c (main): And here.

2000-04-06  Timothy Wall  <twall@@cygnus.com>

	* objdump.c (dump_section_header): Print CLINK and BLOCK flags.

2000-04-06  Jason Merrill  <jason@@yorick.cygnus.com>

	* readelf.c (decode_location_expression): Loop through multiple
	operations.
	(read_and_display_attr): Pass in length.

	* readelf.c (read_and_display_attr): Add CU offset to references.
	(display_debug_info): Pass it in.

2000-04-06  Nick Clifton  <nickc@@cygnus.com>

	* readelf.c (decode_ARM_machine_flags): New function.
	(get_machine_flags): Call decode_ARM_machine_flags for ARM
	targets.

	(get_machine_name): Catch EM_AVR

2000-04-05  Alan Modra  <alan@@linuxcare.com.au>

	* binutils.texi: Remove optional `=' from long options that have
	an `=' in the argument.
	* objcopy.1: Here too.  Remove extra space on discard-all.

	* binutils.texi (objcopy): Mention --redefine-sym.
	* objcopy.1: Here too.
	* NEWS: And here.

	* objcopy.c (parse_flags): Split off flag names from error message
	gettext as they are not translated.
	(copy_main): Similarly split off option name for --add-section,
	--set-section-flags, --change-section-vma, --change-section-lma
	error messages.
	Some white space changes.

	from Matthew Benjamin <matt@@linuxbox.nu>
	* objcopy.c (struct redefine_node): New.
	(redefine_sym_list): New.
	(redefine_list_append): New.
	(lookup_sym_redefinition): New.
	(OPTION_REDEFINE_SYM): New.
	(copy_options): Add --redefine-sym option.
	(copy_usage): Mention it.
	(filter_symbols): Rename symbols on redefine_sym_list.
	(copy_object): Call filter_symbols if redefine_sym_list != NULL.
	(copy_main): Handle OPTION_REDEFINE_SYM.

2000-04-04  H.J. Lu  <hjl@@gnu.org>

	* readelf.c (process_symbol_table): Correctly read in symbol
	versioning information.

2000-04-04  Alan Modra  <alan@@linuxcare.com.au>

	* po/binutils.pot: Regenerate.

	* addr2line.c (usage): Restore translated part of bug string.
	* ar.c (usage): Likewise.
	* nlmconv.c (show_usage): Likewise.
	* nm.c (usage): Likewise.
	* objcopy.c (copy_usage): Likewise.
	(strip_usage): Likewise.
	* objdump.c (usage): Likewise.
	* readelf.c (usage): Likewise.
	* size.c (usage): Likewise.
	* strings.c (usage): Likewise.
	* windres.c (usage): Likewise.

	* Makefile.am (MKDEP): Use gcc -MM rather than mkdep.
	(DEP): Quote when passing vars to sub-make.  Add warning
	message to end.
	(DEP1): Rewrite for "gcc -MM".
	(CLEANFILES): Add DEP2.
	Update dependencies.
	* Makefile.in: Regenerate.

2000-04-04  H.J. Lu  <hjl@@gnu.org>

	* Makefile.am (GENERATED_HFILES): Add rcparse.h
	(arparse.h): Depend on arparse.c
	(defparse.h, nlmheader.h, rcparse.h, sysinfo.h): Similarly.

2000-04-03  H.J. Lu  (hjl@@gnu.org)

	* size.c (usage): Use REPORT_BUGS_TO.

2000-04-03  Alan Modra  <alan@@linuxcare.com.au>

	* bucomm.h: #include "bin-bugs.h"
	* addr2line.c (usage): Use REPORT_BUGS_TO.
	* ar.c (usage): Likewise.
	* nlmconv.c (show_usage): Likewise.
	* nm.c (usage): Likewise.
	(OPTION_TARGET): Define.
	(long_options): Use OPTION_TARGET rather than 200.
	(main): Likewise.

	* objcopy.c (copy_usage): Use REPORT_BUGS_TO.
	(strip_usage): Likewise.
	* objdump.c (usage): Likewise.
	* readelf.c (usage): Likewise.
	* strings.c (usage): Likewise.
	* windres.c (usage): Likewise.

2000-03-31  John David Anglin  <dave@@hiauly1.hia.nrc.ca>

	* readelf.c: Include sys/types.h before sys/stat.h for ultrix.

2000-03-27  Nick Clifton  <nickc@@cygnus.com>

	* rddbg.c (read_section_stabs_debugging_info): Catch out of range
	string offsets in corrupt stabs entries.

2000-03-27  Alan Modra  <alan@@linuxcare.com.au>

	* readelf.c: Include elf/avr.h
	(dump_relocations): Add EM_AVR case.

2000-03-09  Tim Waugh  <twaugh@@redhat.com>

	* strings.1: Correct '-bytes' to '--bytes'.

2000-03-08  H.J. Lu  <hjl@@gnu.org>

	* Makefile.am (install-exec-local): Depend on
	install-binPROGRAMS for parallel make.
	* Makefile.in: Regenerated.

2000-02-27  Ian Lance Taylor  <ian@@zembu.com>

	From Brad Lucier <lucier@@math.purdue.edu>:
	* readelf.c (process_dynamic_segment): Add cast to make sure
	argument to %* is int.

2000-02-25  H.J. Lu  <hjl@@gnu.org>

	* configure.in (AC_SEARCH_LIBS): Pass m, not -lm.

2000-02-24  Nick Clifton  <nickc@@cygnus.com>

	* configure.in: Add arm-wince, mips-pe and sh-pe targets.
	* configure: Regenerate.

	* dlltool.c: Add support for sh-pe and mips-pe targets.
	* rescoff.c: Add support for sh-pe and mips-pe targets.

2000-02-23  H.J. Lu  <hjl@@gnu.org>

	* readelf.c (get_osabi_name): Handle ELFOSABI_LINUX.

2000-02-22  Nick Clifton  <nickc@@cygnus.com>

	* readelf.c (process_symbol_table): Remove use of ELF_ST_OTHER.

2000-02-22  Ian Lance Taylor  <ian@@zembu.com>

	From Brad Lucier <lucier@@math.purdue.edu>:
	* readelf.c (process_version_sections): Add casts to make sure
	argument to %* is an int.
	(process_mips_specific): Add casts to make printf arguments match
	format.

2000-02-21  Alan Modra  <alan@@spri.levels.unisa.edu.au>

	* objdump.c (dump_section_header): Change `opb' to unsigned.
	(find_symbol_for_address): Same here.
	(disassemble_data): And here.  Change `addr_offset',
	`stop_offset', `nextstop_offset' to unsigned long.
	(dump_data): Change opb to unsigned.

2000-02-18  Frank Ch. Eigler  <fche@@redhat.com>

	* resrc.c: Remove unmatched #if for cygwin.

2000-02-14  Fernando Nasser  <fnasser@@totem.to.cygnus.com>

	* binutils.texi: Document the change of flavor name from atpcs-special
	to special-atpcs to prevent name conflict in gdb.

2000-02-08  Timothy Wall  <twall@@redhat.com>

	* objdump.c (show_line): Fix bug preventing printing of the very
	first line (line zero) of a file when interlisting source and
	assembly.  Added option to print entire context from start of file
	when the first line from that file is encountered.

2000-02-03  Timothy Wall <twall@@redhat.com>

	* objdump.c (dump_section_header, find_symbol_for_address,
	show_line, disassemble_bytes, disassemble_data, dump_data):
	distinguish between octets and bytes.

2000-01-27  Thomas de Lellis  <tdel@@windriver.com>

	* nm.c (print_symbol_info_bsd): Use bfd_is_undefined_symclass to
	check to unresolved symbols.
	(print_symbol_info_sysv):  Ditto.
	(print_symbol_info_posix):  Ditto.

	* binutils.texi: Document new 'V' symclass flag for nm.

2000-01-27  Nick Clifton  <nickc@@redhat.com>

	* binutils.texi (objdump): Document new ARM specific
	disassembler options.

	* objdump.c (usage): Call disassembler_usage().

2000-01-27  Alan Modra  <alan@@spri.levels.unisa.edu.au>

	* readelf.c (get_dynamic_flags): Return buff.
	(process_dynamic_segment): Don't pass error strings to printf
	as format arg.
	(read_and_display_attr): Use lx and ld to print longs.
	(process_corefile_note_segment): Cast bfd_vma to unsigned long
	before printing.
	Update copyright.

2000-01-17  Nick Clifton  <nickc@@cygnus.com>

	* readelf.c (get_osabi_name): Recognise ELFOSABI_ARM.

2000-01-15  Alan Modra  <alan@@spri.levels.unisa.edu.au>

	* debug.c (debug_name_type): Return DEBUG_TYPE_NULL rather than
	false.
	(debug_tag_type): Here too.
	* ieee.c (ieee_builtin_type): And here.
	* stabs.c (parse_stab_type, parse_stab_array_type): And here.

2000-01-13  Nick Clifton  <nickc@@cygnus.com>

	* readelf.c (get_machine_name): Change EM_S370 to return "IBM
	System/370".

2000-01-11  Nick Clifton  <nickc@@cygnus.com>

	* readelf.c (get_dynamic_type): Remove DT_ENCODING.

2000-01-10  Nick Clifton  <nickc@@cygnus.com>

	* readelf.c (get_note_type): Display NT_WIN32PSTATUS notes.

2000-01-07  Mumit Khan  <khan@@xraylith.wisc.edu>

	* windres.c (long_options): Add --use-temp-file and
	--no-use-temp-file options.
	(usage): Document.
	(main): Handle.

	* windres.h: Update read_rc_file prototype.

	* resrc.c (cpp_temp_file): New static variable.
	(istream_type): New static variable.
	(close_pipe): Delete function.
	(run_cmd): New static function.
	(open_input_stream): New static function.
	(close_input_stream): New static function.
	(look_for_default): Handle DOS directory separator. Use
	open_input_stream instead of popen.
	(read_rc_file): Likewise.

	* binutils.texi: Document --use-temp-file, --no-use-temp-file
	options.

2000-01-04  Mumit Khan  <khan@@xraylith.wisc.edu>

	* dlltool.c (create_compat_implib): New variable.
	(gen_exp_file): Use.
	(make_one_lib_file): Use.
	(long_options): Add --compat-implib option.
	(usage): Handle.
	(main): Handle.

	* dllwrap.c (enum target_type): Rename MINGW32_TARGET to MINGW_TARGET.
	(main): Use. Don't look for "32" in cygwin and mingw target names.

2000-01-03  Nick Clifton  <nickc@@cygnus.com>

	* binutils.texi: Document new, ARM specific disassembler
	command line switch "-M force-thumb".

For older changes see ChangeLog-9899
@


1.728
log
@Update pointer_size patch
@
text
@d1 4
@


1.727
log
@* objcopy.c (bfd_flags_to_set, bfd_flags_to_clear): New variables
to handle flags for tweaking.
(copy_options): New options: impure, pure, readonly-text,
writable-text.
(copy_usage, copy_object, command_line_switch): Handle the new
options.
* doc/binutils.texi: Document the new options.
@
text
@d1 11
@


1.726
log
@	* objdump.c (disassemble_bytes): Subtract rel_offset from printed
	reloc address.
	(disassemble_section): Set rel_offset to section->vma instead of
	pinfo->buffer_vma.
@
text
@d1 11
@


1.725
log
@Add support for m32r-linux target, including a RELA ABI and PIC.
@
text
@d1 7
@


1.724
log
@Add --only-keep-debug to the --help output.
@
text
@d1 4
@


1.723
log
@Do not copy the object if the output file's format cannot be set to that of
the input file.	 If the input file's format is unknown, fail.
@
text
@d1 5
@


1.722
log
@	* cxxfilt.c (usage): Mention new -p/--no-params options.
@
text
@d1 6
@


1.721
log
@	* Makefile.am (install-exec-local): Remove common term from string
	comparison.
	* Makefile.in: Regenerate.
	* doc/Makefile.am: Don't use $<.
	* doc/Makefile.in: Regenerate.
@
text
@d1 4
@


1.720
log
@Ensure that we have write permission before overwriting a file.
@
text
@d1 8
d15 1
a15 1
            Nick Clifton  <nickc@@redhat.com>
d19 1
a19 1
        * doc/binutils.texi (readelf): Likewise.
d46 1
a46 1
        (objdump_print_addr): Alter parameters passed to
d48 2
a49 2
        (objdump_symbol_at_address): Likewise.
        (disassemble_section): Likewise.  Also use symbol_is_valid
d275 4
a278 4
        'dynrelbuf', 'dynrelcount' and 'disassemble_fn'.
        (process_section_p): New function:  Returns TRUE if a section
        can be dumped.
        (disassemble_section): New function: Contains the body of
d280 13
a292 13
        (disassemble_data): Use bfd_map_over_sections to walk section
        chain.
        (find_stabs_section): New function: Find a stabs containing
        section and then dump it.
        (dump_stabs_section): New function: Use bfd_map_over_sections
        to find the section to dump.
        (dump_stabs): Use dump_stabs_section.
        (dump_section): New function: Display the contents of a
        section.
        (dump_data): Use bfd_map_over_sections to display section
        contents.
        (dump_relocs_in_section): Display the relocs in a given section.
        (dump_relocs): Use bfd_map_over_sections to display relocs.
d294 5
a298 5
        sections.
        (dump_bfd): Use bfd_map_over_sections.
        * doc/binutils.texi: Document the "objdump -s" (no longer)
        dumps empty sections.
        
d343 1
a343 1
	
d406 1
a406 1
	* prdbg.c: Code to print the debug info as tags compatible 
d410 1
a410 1
        
d414 3
a416 3
        * doc/binutils.texi: Document that multiple -M switches are
        accepted and that a single -M switch can contain comma
        separated options.
d422 1
a422 1
	
d425 1
a425 1
	
d504 10
a513 10
        (OPTION_ONLY_KEEP_DEBUG): New.
        (strip_options): Add --only-keep-debug.
        (copy_options): Likewise.
        (is_strip_section): Invert return value if STRIP_NONDEBUG is
        active.
        (copy_object): Do not copy private data when STRIP_NONDEBUG is
        active.
        (setup_section): Likewise.
        (strip_main): Handle --only-keep-debug.
        (copy_main): Likewise.
d532 12
a543 12
        (OPTION_ADD_GNU_DEBUGLINK): New switch
        (copy_options): Describe --add-gnu-debuglink switch.
        Mention that --strip-debug removes sections as well.
        (is_strip_section): Process the sections removed and kept
        lists before checking for debugging sections.
        (add_redefine_syms_file): Make function static.
        (copy_object): Use is_strip_section.
        Check to see if a .gnu_debuglink section should be added.  If
        so, call bfd_add_gnu_debuglink.
        (setup_section): Use is_strip_section.
        (copy_section): Use is_strip_section.
        (copy_main): Handle OPTION_ADD_GNU_DEBUGLINK.
d545 1
a545 1
        * doc/binutils.texi: Document new switch.
d565 1
a565 1
	
d567 1
a567 1
            Jason Thorpe  <thorpej@@wasabisystems.com>
d640 1
a640 1
        * doc/binutils.texi: Fix the documentation for the -fo option.
d650 1
a650 1
            Nick Clifton  <nickc@@redhat.com>
d788 1
a788 1
	(display_info_table): Likewise.	
d810 1
a810 1
	
d836 1
a836 1
	
@


1.719
log
@Add a comment describing the difference between	readelf and objdump.
@
text
@d1 5
@


1.718
log
@	* doc/binutils.texi (dlltool): Document dlltool --temp-prefix
	option.
	* dlltool.c (usage): Likewise.
@
text
@d1 7
@


1.717
log
@	* cxxfilt.c (long_options): Add --no-params.
	(main): Handle -p/--no-params.
	* doc/binutils.texi (c++filt): Document -p/--no-params.
@
text
@d1 6
@


1.716
log
@	* objdump.c: Wrap long lines, init vars separately from decl.
	(disassemble_section): Reset require_sec after call to
	find_symbol_for_address.
@
text
@d1 6
@


1.715
log
@Add new field to disassemble_info structure: symbol_is_valid() and use it to
skip displaying arm elf mapping symbols in disassembly output.
@
text
@d1 6
d17 1
a17 1
        (disassemble_address): Likewise.  Also use symbol_is_valid
@


1.714
log
@Emit a warning when an archive is created (only shown with -v) in order to
confrom to POSIX specification.
@
text
@d1 13
@


1.713
log
@Add new feature to objcopy/strip.  The -w switch allows wildcards to be used
in symbol names.
@
text
@d1 5
@


1.712
log
@	* objdump.c: Revert rev 1.81 commit.
@
text
@d1 18
@


1.711
log
@Remove "member" from verbose output of "-dv" in order to conform to POSIX
specification.
@
text
@d1 4
@


1.710
log
@Expand and consolidate bug reporting details.
@
text
@d1 5
@


1.709
log
@Use consistent error messages for missing files.
Detect directories where an ordinary file is expected.
@
text
@d1 4
@


1.708
log
@Fix 'the the' typo
@
text
@d1 15
@


1.707
log
@Do not dump the contents of SHT_NOBITS sections - they have no file space
assigned to their contents.
@
text
@d1 6
a6 1
2003-10-30  Marshall T. Vandegrift <llasram at wuli dot nu>
@


1.706
log
@	* readelf.c (dump_section): Don't display DEL characters.
@
text
@d1 5
@


1.705
log
@	* ChangeLog: Fix typos.
	* ChangeLog-9197: Likewise.
	* ChangeLog-9899: Likewise.
	* NEWS: Likewise.
	* ar.c: Fix comment typos.
	* arsup.c: Likewise.
	* coffgrok.c: Likewise.
	* debug.c: Likewise.
	* debug.h: Likewise.
	* dlltool.c: Likewise.
	* ieee.c: Likewise.
	* nm.c: Likewise.
	* objdump.c: Likewise.
	* prdbg.c: Likewise.
	* readelf.c: Likewise.
	* resrc.c: Likewise.
	* sysinfo.y: Likewise.
	* windres.c: Likewise.
@
text
@d1 4
@


1.704
log
@Do not complain when copying a file format that does not support relocations.
@
text
@d1 21
d364 1
a364 1
	bfd_create_gnu_debuglink_section with seperate calls to
d366 1
a366 1
	bfd_fill_in_gnu_debuglink_section, seperated by a walk over the
d881 1
a881 1
	name. This is useful to provide name space seperation regardless
d1390 1
a1390 1
	* nm.c (struct extended_symbol_info): New strcuture: Add the size
d3303 1
a3303 1
	for compatability with old BSD systems.
@


1.703
log
@Set the machine number as well as the architecture when converting from a
binary file to another file type.
@
text
@d1 6
@


1.702
log
@2003-10-19  Andrew Cagney  <cagney@@redhat.com>

	* targets.c: Replace "struct sec" with "struct bfd_section"
	* syms.c, sparclynx.c, section.c, opncls.c: Ditto.
	* libcoff-in.h, libbfd-in.h, elfxx-target.h: Ditto.
	* elf.c, coffgen.c, bfd.c, bfd-in.h, aoutf1.h: Ditto.
	* aout-tic30.c, aout-target.h:
	* bfd-in2.h, libcoff.h, libbfd.h: Regenerate.

Index: binutils/ChangeLog
2003-10-19  Andrew Cagney  <cagney@@redhat.com>

	* coffgrok.h (coff_section): Replace 'struct sec" with "struct
	bfd_section".

Index: gdb/ChangeLog
2003-10-19  Andrew Cagney  <cagney@@redhat.com>

	* symtab.c: Replace "struct sec" with "struct bfd_section".
	* objfiles.c, linespec.c, blockframe.c, block.c: Ditto.

Index: ld/ChangeLog
2003-10-19  Andrew Cagney  <cagney@@redhat.com>

	* pe-dll.c: Replace "struct sec" with "struct bfd_section".

Index: sim/common/ChangeLog
2003-10-19  Andrew Cagney  <cagney@@redhat.com>

	* sim-base.h: Replace "struct sec" with "struct bfd_section".
@
text
@d1 5
@


1.701
log
@bfd/Changelog:
	* libbfd-in.h (_bfd_link_section_stabs): Add string offset
	parameter.
	* cofflink.c (coff_link_add_symbols): Deal with split stab
	sections.
	* elflink.h (elf_link_add_object_symbols): Deal with split stab
	sections.
	* stabs.c (_bfd_link_section_stabs): Add string offset parameter.
	* libbfd.h: Regenerated.
ld/ChangeLog:
	* ldwrite.c (unsplittable_name): New.
	(clone_section): Strip existing numeric suffix. Only truncate names
	for coff targets.
	(split_sections): Use unsplittable_name.
binutils/ChangeLog:
	* objdump.c (read_section_stabs): Just read one section, return
	pointer to it. Add size parameter.
	(print_section_stabs): Add string offset parameter. Adjust.
	(struct stab_section_names): Add string offset member.
	(find_stabs_sections): Correct check for split section suffix,
	adjust read_section_stabs and print_section_stabs calls.
	(dump_stabs_section): Clear string_offset, free string table.
@
text
@d1 5
@


1.700
log
@* resrc.c (define_icon): Fix storage of color attributes 'planes' and 'bit
count' in icon groups.
@
text
@d1 10
@


1.699
log
@[ binutils/ChangeLog ]
2003-09-30  Chris Demetriou  <cgd@@broadcom.com>

        * NEWS: Add an indication of the cutoff for 2.14.

[ gas/ChangeLog ]
2003-09-30  Chris Demetriou  <cgd@@broadcom.com>

        * NEWS: Add an indication of the cutoff for 2.14.

[ ld/ChangeLog ]
2003-09-30  Chris Demetriou  <cgd@@broadcom.com>

        * NEWS: Add an indication of the cutoff for 2.14.
@
text
@d1 5
@


1.698
log
@[ bfd/ChangeLog ]
2003-09-30  Chris Demetriou  <cgd@@broadcom.com>

	* archures.c (bfd_mach_mipsisa64r2): New define.
	* bfd-in2.h: Regenerate.
	* aoutx.h (NAME(aout,machine_type)): Handle bfd_mach_mipsisa64r2.
	* cpu-mips.c (I_mipsisa64r2): New enum value.
	(arch_info_struct): Add entry for I_mipsisa64r2.
	* elfxx-mips.c (_bfd_elf_mips_mach)
	(_bfd_mips_elf_print_private_bfd_data): Handle E_MIPS_ARCH_64R2.
	(mips_set_isa_flags): Add bfd_mach_mipsisa64r2 case.
	(mips_mach_extensions): Add entry for bfd_mach_mipsisa64r2.

[ binutils/ChangeLog ]
2003-09-30  Chris Demetriou  <cgd@@broadcom.com>

	* readelf.c (get_machine_flags): Handle E_MIPS_ARCH_64R2.

[ gas/Changelog ]
2003-09-30  Chris Demetriou  <cgd@@broadcom.com>

	* configure.in (mipsisa64r2, mipsisa64r2el, mipsisa64r2*): New CPUs.
	* configure: Regenerate.
	* config/tc-mips.c (imm2_expr): New variable.
	(md_assemble, mips16_ip): Initialize imm2_expr.
	(ISA_HAS_64BIT_REGS, ISA_HAS_DROR, ISA_HAS_ROR): Add ISA_MIPS64R2.
	(macro_build): Handle +A, +B, +C, +E, +F, +G, and +H format operands.
	(macro): Handle M_DEXT and M_DINS.
	(validate_mips_insn): Handle +E, +F, +G, +H, and +I format operands.
	(mips_ip): Likewise.
	(OPTION_MIPS64R2): New define.
	(md_longopts): New entry for -mips64r2 (OPTION_MIPS64R2).
	OPTION_ASE_BASE): Increase to compensate for OPTION_MIPS64R2.
	(md_parse_option): Handle OPTION_MIPS64R2.
	(s_mipsset): Handle setting "mips64r2" ISA.
	(mips_cpu_info_table): Add mips64r2.
	(md_show_usage): Document -mips64r2 option.
	* doc/as.texinfo: Docuemnt -mips64r2 option.
	* doc/c-mips.texi: Likewise.

[ gas/testsuite/ChangeLog ]
2003-09-30  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/cp0-names-mips64r2.d: New file.
	* gas/mips/cp0sel-names-mips64r2.d: New file.
	* gas/mips/elf_arch_mips64r2.d: New file.
	* gas/mips/hwr-names-mips64r2.d: New file.
	* gas/mips/mips32r2-ill-fp64.l: New file.
	* gas/mips/mips32r2-ill-fp64.s: New file.
	* gas/mips/mips64r2-ill.l: New file.
	* gas/mips/mips64r2-ill.s: New file.
	* gas/mips/mips64r2.d: New file.
	* gas/mips/mips64r2.s: New file.
	* gas/mips/mips.exp: Define "mips64r2" arch, and run new tests.

[ include/elf/ChangeLog ]
2003-09-30  Chris Demetriou  <cgd@@broadcom.com>

	* mips.h (E_MIPS_ARCH_64R2): New define.

[ include/opcode/ChangeLog ]
2003-09-30  Chris Demetriou  <cgd@@broadcom.com>

	* mips.h: Document +E, +F, +G, +H, and +I operand types.
	Update documentation of I, +B and +C operand types.
	(INSN_ISA64R2, ISA_MIPS64R2, CPU_MIPS64R2): New defines.
	(M_DEXT, M_DINS): New enum values.

[ ld/ChangeLog ]
2003-09-30  Chris Demetriou  <cgd@@broadcom.com>

	* ldmain.c (get_emulation): Ignore "-mips64r2".

[ ld/testsuite/ChangeLog ]
2003-09-30  Chris Demetriou  <cgd@@broadcom.com>

	* ld-mips-elf/mips-elf-flags.exp: Add tests for combinations
	with MIPS64r2.

[ opcodes/ChangeLog ]
2003-09-30  Chris Demetriou  <cgd@@broadcom.com>

	* mips-dis.c (mips_arch_choices): Add entry for "mips64r2"
	(print_insn_args): Add handing for +E, +F, +G, and +H.
	* mips-opc.c (I65): New define for MIPS64r2.
	(mips_builtin_opcodes): Add "dext", "dextm", "dextu", "dins",
	"dinsm", "dinsu", "drotl", "drotr", "drotr32", "drotrv", "dsbh",
	and "dshd" for MIPS64r2.  Adjust "dror", "dror32", and "drorv" to
	be supported on MIPS64r2.
@
text
@d3 4
@


1.697
log
@2003-09-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (dump_relocations): Support SHN_IA_64_ANSI_COMMON.
	(get_symbol_index_type): Likewise.

testsuites/

2003-09-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/readelf.exp: Use is_elf_format.

	* binutils-all/readelf.h: Support IA64/ILP32.
	* binutils-all/readelf.s: Likewise.
	* binutils-all/readelf.ss: Likewise.

	* lib/utils-lib.exp (proc is_elf_format): Copy from ld
	testsuite. Add ia64-*-hpux*.
@
text
@d1 4
@


1.696
log
@2003-09-25  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (process_version_sections): Indent version names.
@
text
@d1 5
@


1.695
log
@Fix C90 conversion
@
text
@d1 4
@


1.694
log
@	* addr2line.c: Convert to ISO C90 prototypes, change PTR, remove
	unneeded (void *) casts.
	* ar.c: Likewise.
	* arlex.l: Likewise.
	* arparse.y: Likewise.
	* arsup.c: Likewise.
	* binemul.c: Likewise.
	* binemul.h: Likewise.
	* bucomm.c: Likewise.
	* bucomm.h: Likewise.
	* budbg.h: Likewise.
	* budemang.c: Likewise.
	* budemang.h: Likewise.
	* coffdump.c: Likewise.
	* coffgrok.c: Likewise.
	* cxxfilt.c: Likewise.
	* debug.c: Likewise.
	* debug.h: Likewise.
	* deflex.l: Likewise.
	* dlltool.c: Likewise.
	* dlltool.h: Likewise.
	* dllwrap.c: Likewise.
	* emul_aix.c: Likewise.
	* filemode.c: Likewise.
	* ieee.c: Likewise.
	* nlmconv.c: Likewise.
	* nlmconv.h: Likewise.
	* nlmheader.y: Likewise.
	* nm.c: Likewise.
	* prdbg.c: Likewise.
	* rclex.l: Likewise.
	* rcparse.y: Likewise.
	* rdcoff.c: Likewise.
	* rddbg.c: Likewise.
	* rename.c: Likewise.
	* resbin.c: Likewise.
	* rescoff.c: Likewise.
	* resrc.c: Likewise.
	* size.c: Likewise.
	* srconv.c: Likewise.
	* stabs.c: Likewise.
	* strings.c: Likewise.
	* sysdump.c: Likewise.
	* sysinfo.y: Likewise.
	* syslex.l: Likewise.
	* unwind-ia64.c: Likewise.
	* unwind-ia64.h: Likewise.
	* version.c: Likewise.
	* windres.c: Likewise.
	* windres.h: Likewise.
	* winduni.c: Likewise.
	* wrstabs.c: Likewise.
@
text
@d1 6
@


1.693
log
@* MAINTAINERS: Update my e-mail address.
@
text
@d1 55
@


1.692
log
@	* MAINTAINERS: Update my e-mail address.
@
text
@d1 4
@


1.691
log
@Make it clear what should be done with patches to the top level configure files
(other than config.guess and config.sub).
Add binutils@@sources.redhat.com as an address to which patches can be sent.
@
text
@d1 4
@


1.690
log
@Add binutils support for v850e1 processor
@
text
@d3 7
@


1.689
log
@Index: opcodes/ChangeLog
2003-09-03  Andrew Cagney  <cagney@@redhat.com>

	* dis-init.c (init_disassemble_info): New file and function.
	* Makefile.am (CFILES): Add "dis-init.c".
	(libopcodes_la_SOURCES): Add "dis-init.c".
	(dis-init.lo): Specify dependencies.
	* Makefile.in: Regenerate.

Index: include/ChangeLog
2003-08-27  Andrew Cagney  <cagney@@redhat.com>

	* dis-asm.h (init_disassemble_info): Declare.
	(INIT_DISASSEMBLE_INFO): Redefine as a call to
	init_disassemble_info.
	(INIT_DISASSEMBLE_INFO_NO_ARCH): Ditto.

Index: binutils/ChangeLog
2003-09-03  Andrew Cagney  <cagney@@redhat.com>

	* objdump.c: Refer to init_disassemble_info in comments.
	(disassemble_data): Replace INIT_DISASSEMBLE_INFO with
	init_disassemble_info.
@
text
@d1 4
@


1.688
log
@Use bfd_map_over_sections to walk section chain.
Do not dump the contents of an empty section.
@
text
@d1 6
@


1.687
log
@	* MAINTAINERS: Move Dave Anglin's entry to where it belongs.
@
text
@d1 32
@


1.686
log
@Updated translations
@
text
@d1 4
@


1.685
log
@	* dep-in.sed: Remove libintl.h.
	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.
@
text
@d1 4
@


1.684
log
@	* Makefile.am (POTFILES.in): Unset LC_COLLATE.
	* Makefile.in: Regenerate.
@
text
@d3 1
d5 1
@


1.683
log
@	* readelf.c (process_archive): Fix error handling.  Remove memory
	leak.
@
text
@d1 5
@


1.682
log
@Add ability for readelf to parse archives
@
text
@d1 4
a4 1
2003-08-11  Ian Lance Taylor <ian@@airs.com>
@


1.681
log
@Updated French translation
@
text
@d1 22
@


1.680
log
@	* objcopy.c: Remove unnecessary prototypes and casts.
	* objdump.c: Remove unnecessary casts.
	* readelf.c: Convert to C90.  Remove unnecessary prototypes and casts.
	(get_osabi_name): Move so we don't need a forward declaration.
@
text
@d1 4
@


1.679
log
@	* objdump.c (include_paths, include_path_count): New vars.
	(usage): Describe --include.
	(long_options): Add "include".
	(add_include_path): New function.
	(struct print_file_list): Make filename const.  Add modname.
	(try_print_file_open, update_source_path): New functions.
	(show_line): Use them.
	(main): Handle 'I' option.  Don't check for NULL xrealloc arg.
@
text
@d1 7
@


1.678
log
@	* objdump.c: Remove unnecessary prototypes.
	(disassemble_bytes): Add rel_offset parameter.  Simplify reloc skipping
	code, and print relocs when dump_dynamic_reloc_info.
	(disassemble_data): Read and handle dynamic relocs.  Correct reloc
	skip code.  Formatting.
	(dump_bfd): Don't dump dynamic relocs when disassembling.
@
text
@d1 12
@


1.677
log
@	* MAINTAINERS: Remove self as M88k maintainer.  Future M88k
	maintenance defaults to the blanket write privilege maintainers.
@
text
@d1 9
@


1.676
log
@Update meissner email address
@
text
@d1 5
d12 1
a12 1
	* objdump.c: Update to Iso C.
@


1.675
log
@Update to Iso C.
@
text
@d1 4
@


1.674
log
@Do not ignore sections without the LOAD flag when disassemble_all is true.
Only print a message about disassembling a section if it contains some data.
@
text
@d1 4
@


1.673
log
@Updated French translations
@
text
@d3 4
@


1.672
log
@Tidy up code.  Switch to ISO C
@
text
@d1 4
@


1.671
log
@* objdump.c: New command line option --debugging-tags.
* doc/binutils.texi: Document new command line option.
* prdbg.c: Code to print the debug info as tags compatible with ctags.
* budbg.h: Adjust prototype.
* NEWS: Mention new switch
@
text
@d1 5
@


1.670
log
@* objdump.c (main) :Accept multiple -M switch.
* doc/binutils.texi: Document that multiple -M switches are accepted and that
  a single -M switch can contain comma separated options.
* arm-dis.c (parse_arm_disassembler_option): Do not expect option string to be
  NUL terminated.
  (parse_disassembler_options): Allow options to be space or comma separated.
@
text
@d1 9
@


1.669
log
@	* objdump.c (main): Issue a warning message if multiple -M
	switches are used.

	* doc/binutils.texi (objdump): Update documentation about -M
	option.
@
text
@d1 7
@


1.668
log
@Update translations
@
text
@d3 8
@


1.667
log
@Update pot files.
@
text
@d1 4
@


1.666
log
@* dlltool.c (prefix_encode): Use a fixed length for alpha.
@
text
@d1 4
@


1.665
log
@* dlltool.c (prefix_encode): New function.  Encode temp file prefix from pid.
(dlltmp): Pass address of pointer being alloced or suffer neverending mallocs.
(make_one_lib_file): Allocate enough space for new longer stub names.
(gen_lib_file): Ditto.
(main): Generate the temp file prefix from the pid if prefix was not specified
on the command line.
@
text
@d1 4
@


1.664
log
@* readelf.c (get_data): Print (unsigned) hex values for size and offset in
  error messages.
  (process_section_headers): If the string table could not be allocated, do
  not continue.
@
text
@d1 11
@


1.663
log
@	* readelf.c (dynamic_segment_ia64_val): Print address and newline
	for sections by default.  Comment fix.
@
text
@d1 7
@


1.662
log
@	* rcparse.y (res_text_field): New res_id variable.
	(res_null_text): New static const struct res_id object,
	with empty unicode name field.
	(control): Pop parsing of optresidc up one level. Set
	res_text_field to $2 except for controls which do not accept
	a text field.  Set res_text_field to res_null_text for the
	special cases (viz. COMBOBOX, EDITTEXT, LISTBOX, SCROLLBAR).
	(control_params): Adjust to use res_text_field rather
	than optresidc.
	(COMBOBOX): Add comment about discrepency between documented
	vs. observed default style.
	* resrc.c (define_control): Make first param const.
	* windres.h (define_control): Adjust prototype.

testsuite:

	* binutils-all/windres/checkbox.rc: New file.
	* binutils-all/windres/checkbox.rsd: New file.
	* binutils-all/windres/combobox.rc: New file.
	* binutils-all/windres/combobox.rsd: New file.
	* binutils-all/windres/edittext.rc: New file.
	* binutils-all/windres/edittext.rsd: New file.
	* binutils-all/windres/listbox.rc: New file.
	* binutils-all/windres/listbox.rsd: New file.
	* binutils-all/windres/scrollbar.rc: New file.
	* binutils-all/windres/scrollbar.rsd: New file.
@
text
@d1 5
@


1.661
log
@Fix --add-gnu-debuglink
@
text
@d1 16
@


1.660
log
@Fix misdirected ChangeLog entry.
@
text
@d1 8
@


1.659
log
@	* elfxx-mips.c (_bfd_mips_elf_fake_sections): Remove non-default
	relocation header setup.
	* binutils-all/readelf.ss-tmips: Adjust symbol indices.
@
text
@a0 4
2003-06-27  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* binutils-all/readelf.ss-tmips: Adjust symbol indices.

@


1.658
log
@Fix computation of offsets in PT_LOAD sections.
@
text
@d1 4
@


1.657
log
@Add --only-keep-debug switch
@
text
@d1 16
@


1.656
log
@Correct spelling of "relocatable".
@
text
@d1 16
@


1.655
log
@When printing DEC_5 values, if the number is bigger than 99999 switch to using
hexadecimal notation.
@
text
@d1 6
@


1.654
log
@Add new switch to objcopy: --add-gnu-debuglink=<file>
Allows packages to be shipped in two forms, a stripped executable and debug
info file.
@
text
@d1 6
@


1.653
log
@bfd/

2003-06-06  H.J. Lu <hongjiu.lu@@intel.com>

	* po/Make-in (DESTDIR): New.
	(install-data-yes): Support $(DESTDIR).
	(uninstall): Likewise.

binutils/

2003-06-06  H.J. Lu <hongjiu.lu@@intel.com>

	* po/Make-in (DESTDIR): New.
	(install-data-yes): Support $(DESTDIR).
	(uninstall): Likewise.

gas/

2003-06-06  H.J. Lu <hongjiu.lu@@intel.com>

	* po/Make-in (DESTDIR): New.
	(install-data-yes): Support $(DESTDIR).
	(uninstall): Likewise.

gprof/

2003-06-06  H.J. Lu <hongjiu.lu@@intel.com>

	* po/Make-in (DESTDIR): New.
	(install-data-yes): Support $(DESTDIR).
	(uninstall): Likewise.

ld/

2003-06-06  H.J. Lu <hongjiu.lu@@intel.com>

	* po/Make-in (DESTDIR): New.
	(install-data-yes): Support $(DESTDIR).
	(uninstall): Likewise.

opcodes/

2003-06-06  H.J. Lu <hongjiu.lu@@intel.com>

	* po/Make-in (DESTDIR): New.
	(install-data-yes): Support $(DESTDIR).
	(uninstall): Likewise.
@
text
@d1 18
@


1.652
log
@* bfd/Makefile.am (config.status): Depend on version.h.
Run "make dep-am" in bfd/ and elsewhere, and regen files.
@
text
@d1 6
@


1.651
log
@binutils/
	* readelf.c (get_segment_type): Handle PT_GNU_STACK.
bfd/
	* elf.c (_bfd_elf_print_private_bfd_data): Handle PT_GNU_STACK.
	(bfd_section_from_phdr): Likewise.
	(map_sections_to_segments): Create PT_GNU_STACK segment header.
	(get_program_header_size): Count with PT_GNU_STACK.
	* elf-bfd.h (struct elf_obj_tdata): Add stack_flags.
	* elflink.h (bfd_elfNN_size_dynamic_sections): Set stack_flags.
include/
	* bfdlink.h (struct bfd_link_info): Add execstack and noexecstack.
	* elf/common.h (PT_GNU_STACK): Define.
ld/
	* ldgram.y (phdr_type): Grok PT_GNU_STACK.
	* emultempl/elf32.em (gld${EMULATION_NAME}_handle_option): Add
	-z execstack and -z noexecstack.
	(gld${EMULATION_NAME}_list_options): Likewise.
	* scripttempl/elf.sc: If not -r, discard .note.GNU-stack section.
@
text
@d1 4
@


1.650
log
@Return 'n' if section flags are	SEC_HAS_CONTENTS && SEC_READONLY.
@
text
@d1 4
@


1.649
log
@* objcopy.c (redefine_list_append): Add an argument that
indicates the context from which this function is being
called.  Change all callers.
(copy_options): Add a new option, --redefine-syms.
(copy_usage): Document new option.
(copy_main): Handle the --redefine-syms option.
* doc/binutils.text (objcopy): Document new option.
@
text
@d1 5
@


1.648
log
@        * readelf.c (byte_get_signed): New.
        (get_encoded_value): New.
        (display_debug_frames): Use it.  Always pre-process opcodes.
@
text
@d1 11
@


1.647
log
@2003-05-20  Michal Ludvig  <mludvig@@suse.cz>

	* readelf.c (display_debug_frames): Print both registers
	for DW_CFA_register.
@
text
@d1 6
@


1.646
log
@Replace i[3456]86 with i[3-7]86
@
text
@d1 5
@


1.645
log
@Treat identical src/dst file names as if only one entered.  One Windows
creating an output file of the same name as the input file will delete
the input file before it is read.
@
text
@d1 6
@


1.644
log
@Extend test for circualr debug references.
@
text
@d1 6
@


1.643
log
@New (simplified) Chinese translation
@
text
@d1 5
@


1.642
log
@Update my email address.
@
text
@d1 6
@


1.641
log
@2003-05-07  H.J. Lu <hongjiu.lu@@intel.com>

	* readelf.c (dump_relocations): Enlarge the type field in wide
	mode by one character.
@
text
@d1 4
@


1.640
log
@        * readelf.c (struct Frame_Chunk): Add cfa_exp.
        (frame_display_row): Just print "exp" for cfa or register
        defined by a location expression.
        (display_debug_frames): Handle DW_CFA_def_cfa_expression,
        DW_CFA_expression, DW_CFA_MIPS_advance_loc8.
@
text
@d1 5
@


1.639
log
@2003-04-30  H.J. Lu <hjl@@gnu.org>

	* objdump.c (only): Change it to char **.
	(only_size): New.
	(only_used): New.
	(disassemble_data): Check only as an array.
	(dump_data): Likewise.
	(dump_relocs): Likewise.
	(main): Treat only as an array.
@
text
@d1 8
@


1.638
log
@Fix the documentation for the -fo option.
@
text
@d1 10
@


1.638.2.1
log
@	* readelf.c (struct Frame_Chunk): Add cfa_exp.
	(frame_display_row): Just print "exp" for cfa or register
	defined by a location expression.
	(display_debug_frames): Handle DW_CFA_def_cfa_expression,
	DW_CFA_expression, DW_CFA_MIPS_advance_loc8.
@
text
@a0 8
2003-05-03  Richard Henderson  <rth@@redhat.com>

	* readelf.c (struct Frame_Chunk): Add cfa_exp.
	(frame_display_row): Just print "exp" for cfa or register
	defined by a location expression.
	(display_debug_frames): Handle DW_CFA_def_cfa_expression,
	DW_CFA_expression, DW_CFA_MIPS_advance_loc8.

@


1.638.2.2
log
@	Merge from mainline:

	2003-05-13  Michael Eager <eager@@mvista.com>
	* objcopy.c: Treat identical src/dst file names as if only one
	entered.  One Windows creating an output file of the same name as
	the input file will delete the input file before it is read.

	2003-05-12  Salvador Eduardo Tropea  <salvador@@inti.gov.ar>
	* debug.c (debug_get_real_type): Extend test for circular debug
	references.

	2003-05-12  Nick Clifton  <nickc@@redhat.com>
	* configure.in (ALL_LINGUAS): Add zh_CN.
	* configure: Regenerate.
	* po/zh_CN.po: New file: Chinese (simplified) translation.

	2003-05-07  H.J. Lu <hongjiu.lu@@intel.com>
	* readelf.c (dump_relocations): Enlarge the type field in wide
	mode by one character.
@
text
@a0 22
2003-05-15  Daniel Jacobowitz  <drow@@mvista.com>

	Merge from mainline:

	2003-05-13  Michael Eager <eager@@mvista.com>
	* objcopy.c: Treat identical src/dst file names as if only one
	entered.  One Windows creating an output file of the same name as
	the input file will delete the input file before it is read.

	2003-05-12  Salvador Eduardo Tropea  <salvador@@inti.gov.ar>
	* debug.c (debug_get_real_type): Extend test for circular debug
	references.

	2003-05-12  Nick Clifton  <nickc@@redhat.com>
	* configure.in (ALL_LINGUAS): Add zh_CN.
	* configure: Regenerate.
	* po/zh_CN.po: New file: Chinese (simplified) translation.

	2003-05-07  H.J. Lu <hongjiu.lu@@intel.com>
	* readelf.c (dump_relocations): Enlarge the type field in wide
	mode by one character.

@


1.638.2.3
log
@	* arlex.c, deflex.c, rclex.c, syslex.c: Rebuild with flex 2.5.4.
	* itbl-lex.c: Rebuild with flex 2.5.4.
	* ldlex.c: Rebuild with flex 2.5.4.
@
text
@a0 4
2003-09-16  John David Anglin  <dave.anglin@@nrc-cnrc.gc.ca>

	* arlex.c, deflex.c, rclex.c, syslex.c: Rebuild with flex 2.5.4.

@


1.637
log
@bfd:
        * archures.c (enum bfd_architecture): Amend comment to refer to SuperH.
        * cpu-sh.c: Likewise.
        * elf32-sh.c: Likewise.
        * reloc.c (bfd_reloc_code_real): Likewise.
        * elf32-sh64-com.c: Change comment to refer to SuperH.
        * elf32-sh64.c: Likewise.
        * elf64-sh64.c: Likewise.
        * bfd-in2.h (enum bfd_architecture): Regenerate.
binutils:
        * readelf.c (get_machine_name) <EM_SH>: Amend return value
        to refer to SuperH.
gas:
        * config/tc-sh.c: Amend comment to refer to SuperH.
        * config/tc-sh.h: Likewise.
        (LISTING_HEADER): Amend to refer to SuperH.
        * config/tc-sh64.c: Change comment to refer to SuperH.
        * config/tc-sh64.h (LISTING_HEADER): Change to refer to SuperH.
        * doc/as.texinfo [SH, GENERIC]: Amend / Change to refer to SuperH.
        * doc/c-sh.texi: Amend to refer to SuperH.
        Add SuperH architecture documentation references.
        * doc/c-sh64.texi: Change to refer to SuperH.
include/elf:
        * common.h (EM_SH): Amend comment to refer to SuperH.
ld/testsuite:
        * ld-sh/sh64/crange3-cmpct.rd (Machine): Change to refer to SuperH.
        * ld-sh/sh64/crange3-media.rd (Machine): Likewise.
@
text
@d1 4
@


1.636
log
@Fix "readelf -wi" test
@
text
@d3 3
@


1.635
log
@Accept -fo as an alias for -o
@
text
@d1 4
@


1.634
log
@Rename -I to -J.   Deprecate old use of -I, but leave it enabled for now.
@
text
@d1 10
@


1.633
log
@Replace references to Mitsubishi M32R with references to Renesas M32R.
@
text
@d1 10
@


1.632
log
@Replace occurrances of 'Hitachi' with 'Renesas'.
@
text
@d1 5
@


1.631
log
@* doc/binutils.texi (objdump) [--debugging]: Suggest readelf -w
for debugging information types not supported by objdump.
@
text
@d1 4
@


1.630
log
@	* configure.in: Recognize canonical form of i[3-6]86-pe*.
	* configure: Regenerate.
@
text
@d1 5
@


1.629
log
@* readelf.c (display_debug_info): Apply RELA relocations on the
entire section.
(byte_put_little_endian, byte_put_big_endian): New functions.
(byte_put): New variable.
(get_file_header): Initialize it.
@
text
@d1 5
@


1.628
log
@Add -l for compatibility with wrc, and rc.  Use the short option as a key for
long options that have a synonymous short option.
@
text
@d1 8
@


1.627
log
@Add -U for compatibility with wrc, rc, and cpp.  Just pass the -U option down
to the preprocessor.
@
text
@d1 7
d10 3
a12 3
        * windres.c: Add -U for compatibility with wrc, rc, and cpp.
        (main): Just pass the -U option down to the preprocessor.
        * doc/binutils.texi: Added -U to the list of options.
d26 6
a31 6
        * readelf.c: Include "elf/xtensa.h".
        (guess_is_rela): Add EM_XTENSA and EM_XTENSA_OLD to list of
        targets that use RELA relocations.
        (dump_relocations): Call elf_xtensa_reloc_type for
        EM_XTENSA and EM_XTENSA_OLD.
        (get_machine_name): Handle EM_XTENSA and EM_XTENSA_OLD.
@


1.626
log
@* windres.c (usage): Report -r option.
(main): Ignore the -r option.
* doc/binutils.texi: Add -r to the list of options.
@
text
@d1 6
@


1.625
log
@        * MAINTAINERS: Add myself as Xtensa maintainer.
@
text
@d1 6
@


1.624
log
@Add Xtensa port (omitted from previous delta)
@
text
@d3 4
@


1.623
log
@Change "arm-pe*" to "arm-*-pe*".  Similarly for thumb-pe*, mcore-pe and
mcore-*elf.
@
text
@d1 9
@


1.622
log
@* objdump.c (dump_data): Don't truncate the address to long; make
the width large enough, and uniform for all entries in a section.
@
text
@d1 6
@


1.621
log
@2003-03-31  H.J. Lu <hjl@@gnu.org>

	* readelf.c: Include "libiberty.h".
	(dynamic_relocations): New.
	(process_relocs): Properly handle dynamic relocation.
	(process_dynamic_segment): Fill relocation elements in
	dynamic_info.
@
text
@d1 5
@


1.620
log
@Add some initial 64-bit DWARF support
@
text
@d1 8
@


1.619
log
@Allow resource IDs to be strings or numbers.
Add a test for this.
@
text
@d1 9
@


1.618
log
@Add --info command line switch
@
text
@d1 9
d39 1
a39 1
2003-03-22  Danny Smith  <dannysmith@@users.sourceforge,net>
@


1.617
log
@Move display_info() function into bucomm.c
@
text
@d3 12
@


1.616
log
@	* dlltool.c (gen_def_file): Put demangled name comments on
	own line preceding export name.
@
text
@d1 17
@


1.615
log
@(disassemble_data): Use disasm_info.fprintf_func not printf for emitting new
lines.
@
text
@d1 5
@


1.614
log
@nm.c (print_symbol_info_bsd): Print the symbol's size instead of the symbol's
value when --size-sort is used, unless -S is used.
doc/binutils.texi (--size-sort): For non-bsd formats both the value and size
of the symbols are displayed.
@
text
@d1 5
@


1.613
log
@Updated translation
@
text
@d1 7
@


1.612
log
@Update.
@
text
@d1 4
@


1.611
log
@2003-03-10  Ben Elliston  <bje@@wasabisystems.com>

	* MAINTAINERS: Update my mail address.
@
text
@d1 4
@


1.610
log
@Remove redundant defintions of BYTES_IN_WORD and add conditional defintion in
aout64.h.
@
text
@d1 4
@


1.609
log
@(print_symbol): Remove check for undefined_only.
(main): Print a warning message if --size-sort and --undefined-only are used
together.
@
text
@d1 5
@


1.608
log
@Installed latest Danish translation.
@
text
@d1 9
@


1.607
log
@Add paragraph about using --disable-nls
@
text
@d1 4
@


1.606
log
@(nm --size-sort): Update description.
@
text
@d1 5
@


1.605
log
@Update my address.
@
text
@d1 4
@


1.604
log
@Add SHT_IA_64_LOPSREG, SHT_IA_64_HIPSREG and SHT_IA_64_PRIORITY_INIT.
Add code to display these values in readelf.
@
text
@d1 4
@


1.603
log
@Apply Bob Wilson's documenation clean up patch
@
text
@d1 11
@


1.602
log
@	* objcopy.c (filter_symbols): Fix compilation problems with
	HP-UX's C compiler.
@
text
@d1 10
@


1.601
log
@* rclex.l (handle_quotes): Fix minor formatting problems introduced in previous
change.
@
text
@d1 5
@


1.600
log
@* rclex.l: Handle strings spanning more than one line.
@
text
@d1 5
d8 1
a8 1
	* rclex.l: Handle strings spanning more than one line.
@


1.599
log
@For N_SLINE only include function_start_offset if the symbol is within a
function; otherwise, the value is absolute.
@
text
@d1 4
@


1.598
log
@Handle global register vairables.
@
text
@d11 4
@


1.597
log
@Add 'H' to getlongopts so that "readelf -H" does not display "unknown option"
@
text
@d9 2
@


1.596
log
@Fix help messages about demangling styles
@
text
@d7 2
@


1.595
log
@Add support for marking ARM ELF binaries as support the Cirrus EP9312 Maverick
floating point co-processor.
@
text
@d1 6
@


1.594
log
@	* rddbg.c (read_section_stabs_debugging_info): Cast ptrdiff_t to
	long and use %ld in printf format.
@
text
@d1 5
@


1.593
log
@	* readelf.c (dump_relocations): Reorder the r_info field for
	little-endian mips elf64.  Move #ifdef BFD64 to cover the new code.
@
text
@d1 5
@


1.592
log
@(display_debug_loc): Skip address base changes.
@
text
@d1 5
@


1.591
log
@	* readelf.c (get_osabi_name): Handle ELFOSABI_AROS, ELFOSABI_OPENVMS
	and ELFOSABI_NSK.
@
text
@d1 4
@


1.590
log
@	* readelf.c: Include elf/ppc64.h.
	(dump_relocations <EM_PPC64>): Use elf_ppc64_reloc_type.
	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.
@
text
@d1 5
@


1.589
log
@	* readelf.c (guess_is_rela): Handle EM_IQ2000.
	(get_machine_name): Likewise.
	(dump_relocations): Likewise.
	* NEWS: Mention IQ2000 support.
@
text
@d1 7
@


1.588
log
@	* readelf.c (get_machine_flags): Handle E_MIPS_ARCH_32R2.
@
text
@d1 7
@


1.587
log
@[ bfd/ChangeLog ]
2002-12-30  Chris Demetriou  <cgd@@broadcom.com>

	* aoutx.h (NAME(aout,machine_type)): Add bfd_mach_mipsisa32r2 case.
	* archures.c (bfd_mach_mipsisa32r2): New define.
	* bfd-in2.h: Regenerate.
	* cpu-mips.c (I_mipsisa32r2): New enum value.
	(arch_info_struct): Add entry for I_mipsisa32r2.
	* elfxx-mips.c (elf_mips_isa, _bfd_elf_mips_mach)
	(_bfd_mips_elf_print_private_bfd_data): Handle E_MIPS_ARCH_32R2.
	(_bfd_mips_elf_final_write_processing): Add
	bfd_mach_mipsisa32r2 case.
	(_bfd_mips_elf_merge_private_bfd_data): Handle merging of
	binaries marked as using MIPS32 Release 2.

[ binutils/ChangeLog ]
2002-12-30  Chris Demetriou  <cgd@@broadcom.com>

	* doc/binutils.texi (objdump): Note MIPS HWR (Hardware Register)
	changes in MIPS -M options.

[ gas/ChangeLog ]
2002-12-30  Chris Demetriou  <cgd@@broadcom.com>

	* configure.in: Recognize mipsisa32r2, mipsisa32r2el, and
	CPU variants.
	* configure: Regenerate.
	* config/tc-mips.c (ISA_HAS_DROR, ISA_HAS_ROR): New defines.
	(macro_build): Handle "K" operand.
	(macro2): Use ISA_HAS_DROR and ISA_HAS_ROR in the places where
	CPU_HAS_DROR and CPU_HAS_ROR are currently used.
	(mips_ip): New variable "lastpos", and implement "+A", "+B",
	and "+C" operands for MIPS32 Release 2 ins/ext instructions.
	Implement "K" operand for MIPS32 Release 2 rdhwr instruction.
	(validate_mips_insn): Implement "+" as a way to extend the
	allowed operands, and implement "K", "+A", "+B", and "+C"
	operands.
	(OPTION_MIPS32R2): New define.
	(md_longopts): Add entry for OPTION_MIPS32R2.
	(OPTION_ELF_BASE): Adjust to accomodate OPTIONS_MIPS32R2.
	(md_parse_option): Handle OPTION_MIPS32R2.
	(s_mipsset): Reimplement handling of ".set mipsN" options
	and add support for ".set mips32r2".
	(mips_cpu_info_table): Add entry for "mips32r2" (MIPS32 Release 2).
	(md_show_usage): Document "-mips32r2" option.
	* doc/as.texinfo: Document "-mips32r2" option.
	* doc/c-mips.texi: Likewise.

[ gas/testsuite/ChangeLog ]
2002-12-30  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/cp0-names-mips32r2.d: New test.
	* gas/mips/hwr-names-mips32r2.d: New test.
	* gas/mips/hwr-names-numeric.d: New test.
	* gas/mips/hwr-names.s: New test source file.
	* gas/mips/mips32r2.d: New test.
	* gas/mips/mips32r2.s: New test source file.
	* gas/mips/mips32r2-ill.l: New test.
	* gas/mips/mips32r2-ill.s: New test source file.
	* gas/mips/mips.exp: Add mips32r2 architecture data array
	entry.  Run new tests mentioned above.

[ include/elf/ChangeLog ]
2002-12-30  Chris Demetriou  <cgd@@broadcom.com>

	* mips.h (E_MIPS_ARCH_32R2): New define.

[ include/opcode/ChangeLog ]
2002-12-30  Chris Demetriou  <cgd@@broadcom.com>

	* mips.h: Document "+" as the start of two-character operand
	type names, and add new "K", "+A", "+B", and "+C" operand types.
	(OP_MASK_INSMSB, OP_SH_INSMSB, OP_MASK_EXTMSB)
	(OP_SH_EXTMSB, INSN_ISA32R2, ISA_MIPS32R2, CPU_MIPS32R2): New
	defines.

[ opcodes/ChangeLog ]
2002-12-30  Chris Demetriou  <cgd@@broadcom.com>

	* mips-dis.c (mips_cp0_names_mips3264r2, mips_hwr_names_numeric)
	(mips_hwr_names_mips3264r2): New arrays.
	(mips_arch_choice): New "hwr_names" member.
	(mips_arch_choices): Adjust for structure change, and add a new
	entry for "mips32r2" ISA.
	(mips_hwr_names): New variable.
	(set_default_mips_dis_options): Set mips_hwr_names.
	(parse_mips_dis_option): New "hwr-names" option which sets
	mips_hwr_names, and adjust "reg-names=ARCH" to set mips_hwr_names.
	(print_insn_arg): Change return type to "int"
	and use that to indicate number of characters consumed.
	Add support for "+" operand extension character, "+A", "+B",
	"+C", and "K" operands.
	(print_insn_mips): Adjust for changes to print_insn_arg.
	(print_mips_disassembler_options): Adjust for "hwr-names"
	addition and "reg-names" change.
	* mips-opc (I33): New define (shorthand for INSN_ISA32R2).
	(mips_builtin_opcodes): Note that "nop" and "ssnop" are special
	forms of "sll".  Add new MIPS32 Release 2 instructions: ehb,
	di, ei, ext, ins, jr.hb, jalr.hb, mfhc1, mfhc2, mthc1, mthc2,
	rdhwr, rdpgpr, seb, seh, synci, wrpgpr, wsbh.
	Note that hardware rotate instructions (ror, rorv) can be
	used on MIPS32 Release 2, and add the official mnemonics
	for them (rotr, rotrv) and the similar "rotl" mnemonic for
	left-rotate.
@
text
@d1 4
@


1.586
log
@Add support for msp430.
@
text
@d1 5
@


1.585
log
@[ binutils/ChangeLog ]
2002-12-27  Chris Demetriou  <cgd@@broadcom.com>

        * doc/binutils.texi (objdump): Document MIPS -M options.

[ gas/testsuite/ChangeLog ]
2002-12-27  Chris Demetriou  <cgd@@broadcom.com>

        * gas/mips/cp0-names-mips32.d: New file.
        * gas/mips/cp0-names-mips64.d: New file.
        * gas/mips/cp0-names-numeric.d: New file.
        * gas/mips/cp0-names-sb1.d: New file.
        * gas/mips/cp0-names.s: New file.
        * gas/mips/fpr-names-32.d: New file.
        * gas/mips/fpr-names-64.d: New file.
        * gas/mips/fpr-names-n32.d: New file.
        * gas/mips/fpr-names-numeric.d: New file.
        * gas/mips/fpr-names.s: New file.
        * gas/mips/gpr-names-32.d: New file.
        * gas/mips/gpr-names-64.d: New file.
        * gas/mips/gpr-names-n32.d: New file.
        * gas/mips/gpr-names-numeric.d: New file.
        * gas/mips/gpr-names.s: New file.
        * gas/mips/mips.exp: Run new tests.

[ include/ChangeLog ]
2002-12-27  Chris Demetriou  <cgd@@broadcom.com>

        * dis-asm.h (print_mips_disassembler_options): Prototype.

[ include/opcode/ChangeLog ]
2002-12-19  Chris Demetriou  <cgd@@broadcom.com>

        * mips.h (OP_OP_COP0, OP_OP_COP1, OP_OP_COP2, OP_OP_COP3)
        (OP_OP_LWC1, OP_OP_LWC2, OP_OP_LWC3, OP_OP_LDC1, OP_OP_LDC2)
        (OP_OP_LDC3, OP_OP_SWC1, OP_OP_SWC2, OP_OP_SWC3, OP_OP_SDC1)
        (OP_OP_SDC2, OP_OP_SDC3): Define.

[ opcodes/ChangeLog ]
2002-12-27  Chris Demetriou  <cgd@@broadcom.com>

        * disassemble.c (disassembler_usage): Add invocation of
        print_mips_disassembler_options.
        * mips-dis.c (print_mips_disassembler_options)
        (set_default_mips_dis_options, parse_mips_dis_option)
        (parse_mips_dis_options, choose_abi_by_name, choose_arch_by_name)
        (choose_arch_by_number): New functions.
        (mips_abi_choice, mips_arch_choice): New structures.
        (mips32_reg_names, mips64_reg_names, reg_names): Remove.
        (mips_gpr_names_numeric, mips_gpr_names_oldabi)
        (mips_gpr_names_newabi, mips_fpr_names_numeric)
        (mips_fpr_names_32, mips_fpr_names_n32, mips_fpr_names_64)
        (mips_cp0_names_numeric, mips_cp0_names_mips3264)
        (mips_cp0_names_sb1, mips_abi_choices, mips_arch_choices)
        (mips_processor, mips_isa, mips_gpr_names, mips_fpr_names)
        (mips_cp0_names): New variables.
        (print_insn_args): Use new variables to print GPR, FPR, and CP0
        register names.
        (mips_isa_type): Remove.
        (print_insn_mips): Remove ISA and CPU setup since it is now done...
        (_print_insn_mips): Here.  Remove register setup code, and
        call set_default_mips_dis_options and parse_mips_dis_options
        instead.
        (print_mips16_insn_arg): Use mips_gpr_names instead of mips32_names.
@
text
@d1 6
@


1.584
log
@	* readelf.c (main): Reset dump request after each file.
@
text
@d1 4
@


1.583
log
@Change linker's default behaviour - it will now reject binary files whoes
architecture it does not recognise, unless it has explicitly told to accept
them.
@
text
@d1 4
@


1.582
log
@Add support for 'S' encoding to strings - display 8-bit characters.
@
text
@d3 5
@


1.581
log
@	* README <building ar>: Don't use libibery's needed_list or
	required_list, instead link libiberty/*.o.
@
text
@d1 11
@


1.580
log
@	* doc/binutils.texi: Fix typos.
@
text
@d1 5
@


1.579
log
@	* doc/binutils.texi: Add missing parenthesis.
@
text
@d1 4
@


1.578
log
@Added --prefix-symbols <prefix> option to rename all symbols by adding the
given prefix to the begining of the symbol name. This is useful to provide
name space seperation regardless of how the object file was created. Added
--prefix-sections <prefix> and --prefix-alloc-sections <prefix> options to
rename all sections (or all sections with the alloc flag set) by adding the
given prefix to the begining of the symbol name.
@
text
@d1 4
@


1.577
log
@	* dlltool.c (mcore_elf_gen_out_file): Replace all occurrences of
	dyn_string_append with dyn_string_append_cstr.

	* emul_aix.c (ar_emul_aix_create): Remove unused function.
@
text
@d1 12
@


1.576
log
@fix spelling typo
@
text
@d1 7
@


1.575
log
@Add support for displaying extension to DWARF2 used by Unified Parallel C
compiler.
@
text
@d4 1
a4 1
	read_and_display_attr_value): Add support for UPC extenstions to
@


1.574
log
@	* NEWS: Mention that bfd no longer declares a "boolean" type.
@
text
@d1 7
@


1.573
log
@	* readelf.c (process_program_headers): When setting loadaddr, don't
	assume segment size is 4k.  Use p_align instead.
	(loadaddr): Change from int to long.
	(dynamic_addr, dynamic_info, version_info): Likewise.
	(process_dynamic_segment <syminsz>): Likewise.
	(process_dynamic_segment): Adjust print format string.
	(rela_addr, rela_size): Delete.
	(process_relocs): Formatting.
@
text
@d1 4
@


1.572
log
@Fix IA-64 opc-d.x gas testsuite failure.
binutils/ChangeLog
	* configure.in (OBJDUMP_DEFS): Define SKIP_ZEROES as 16 for IA-64.
	* configure: Regenerate.
gas/testsuite/ChangeLog
	* gas/ia64/opc-x.d: Regenerate.
@
text
@d1 11
@


1.571
log
@	* MAINTAINERS: Change e-mail address back to airs.com.
@
text
@d1 5
@


1.570
log
@2002-12-04  Aldy Hernandez  <aldyh@@redhat.com>

	* MAINTAINERS: Add self.
@
text
@d1 4
@


1.569
log
@s/boolean/bfd_boolean/ s/true/TRUE/ s/false/FALSE/.  Simplify
comparisons of bfd_boolean vars with TRUE/FALSE.  Formatting.
@
text
@d1 4
@


1.568
log
@	* readelf.c Replace occurrences of Elf32_Internal_* and
	Elf64_Internal_* with Elf_Internal_*.
	(slurp_rel_relocs): Change Elf_Internal_Rel to Elf_Internal_Rela.
	Zero r_addend fields.
	(dump_relocations): Remove relas variable, change Elf_Internal_Rel to
	Elf_Internal_Rela.
@
text
@d1 10
@


1.567
log
@Fix typo describing switch for hex format.
@
text
@d1 9
@


1.566
log
@
TIC4X testcase commit

	* binutils/testsuite/binutils-all/objcopy.exp: Disable tic4x
	from test
	* binutils/testsuite/binutils-all/objdump.exp: Setup proper
	values for tic4x testcase
	* gas/testsuite/gas/all/gas.exp: Setup for tic4x testcase
	* gas/testsuite/gas/macros/macros.exp: Ditto
	* gas/testsuite/gas/all/gas.exp: Setup for tic4x testcase
	* gas/testsuite/gas/macros/macros.exp: Ditto
	* gas/testsuite/gas/tic4x: New tic4x gas testsuite directory
	* ld/testsuite/ld-scripts/script.exp: Setup for tic4x testcase
@
text
@d1 4
@


1.565
log
@Handle binaries with corrupt section or segment headers
@
text
@d1 6
@


1.564
log
@Add new/updated Danish translations
@
text
@d1 8
@


1.563
log
@	* rddbg.c (read_section_stabs_debugging_info): Also recognize
	LC_SYMTAB.stab/LC_SYMTAB.stabstr as a valid pair of sections.
@
text
@d1 4
d21 1
a21 1
	* configure.in (LINGUAS): Add 'da'.
@


1.562
log
@* MAINTAINERS: Reinstate DJ Delorie as COFF maintainer.  Drop COFF from cgf
maintainership.
@
text
@d1 5
@


1.561
log
@* MAINTAINERS: Replace DJ Delorie as PE/COFF maintainer.
@
text
@d3 5
@


1.560
log
@Added/Updated Danish translation.
@
text
@d1 4
@


1.559
log
@Revert part of previous patch: Display unknown symbol types in decimal, not hex.
@
text
@d3 4
@


1.558
log
@Adds support for fastcall symbols as used on Microsoft Windows platforms
(i386)
@
text
@d1 5
@


1.557
log
@
Added Svein Seldal as maintainer for the TIC4X target
@
text
@d1 20
@


1.556
log
@oops - omitted fix to display unknown symbol type in hex.
@
text
@d1 4
@


1.555
log
@Add hex number to PROCESSOR-specific, OS-specific, and reserved symbol types.
@
text
@d4 2
a5 1
	PROCESSOR-specific, OS-specific, and reserved symbol types.
@


1.554
log
@	* readelf.c (byte_get_little_endian): Comment typo fix.
	(print_symbol): Constify "symbol" arg.  Don't pass "symbol" to printf
	as the format string.
	(dump_relocations): Correct section sym names.
	(process_section_headers): Clear symtab_shndx_hdr.
	(read_and_display_attr_value): Don't pass indirect string to printf
	as the format string.
	(display_debug_frames): Indicate when zero terminator found.  Decode
	DW_EH_PE_pcrel addresses.
@
text
@d1 5
@


1.553
log
@Define SKIP_ZEROES as 32 for tic4x target in order to ensure proper
disassembly of the valid 0-value opcode.
@
text
@d1 12
@


1.552
log
@	* MAINTAINERS: Add Kaz Kojima as SH maintainer.
@
text
@d1 11
@


1.551
log
@	* doc/binutils.texi (objdump): Document -z and move the entry for
	--disassemble-zeroes to the end of the options section (for `z').
@
text
@d1 4
@


1.550
log
@Discontinue Hans-Peter Nilsson as SH maintainer.
@
text
@d1 5
@


1.549
log
@	* objdump.c (dump_data): Correct addr_offset for opb != 1.
@
text
@d1 4
@


1.548
log
@	* bucomm.c (list_supported_targets): Use bfd_target_list.
@
text
@d1 4
d27 1
a27 1
	relocation.   
@


1.547
log
@	* objcopy.c (copy_file): Report ambiguous bfd_object matches, and
	other object errors in preference to bfd_core errors.
@
text
@d3 2
@


1.546
log
@	* Makefile.am: Run "make dep-am".
	* objdump.c: #include "bfdver.h".
	* version.c: Likewise.
	* Makefile.in: Regenerate.
	* config.in: Regenerate.
	* configure: Regenerate.
	* po/POTFILES.in: Regenerate.
@
text
@d1 5
@


1.545
log
@        * readelf.c (display_debug_info): Ignore empty .rela.debug_info
        sections.  Allow relocations against the absolute symbol.  Don't
        use the value in compunit.cu_abbrev_offset if we found a RELA
        relocation.
@
text
@d1 10
@


1.544
log
@Read in dynamic symbols if no ordinary ones are available.
@
text
@d1 7
@


1.543
log
@2002-09-30  H.J. Lu <hjl@@gnu.org>

	* readelf.c (get_machine_flags): Handle E_MIPS_MACH_4120,
	E_MIPS_MACH_5400 and E_MIPS_MACH_5500.
@
text
@d1 5
@


1.542
log
@binutils:
	* Makefile.am (CFILES): Add cxxfilt.c.
	(cxxfilt_SOURCES): Now just cxxfilt.c $(BULIBS).
	(cxxfilt_LDADD): Delete.
	Remove all references to underscore.c.
	Regen dependencies.
	* configure.in: Define TARGET_PREPENDS_UNDERSCORE in
	config.h from $UNDERSCORE, rather than AC_SUBSTing it.
	* binutils/cxxfilt.c: Moved here from gcc/cp, minor
	adjustments to fit into binutils framework.
	* configure, config.in, Makefile.in, doc/Makefile.in: Regenerate.

gcc/cp:
	* Make-lang.in: Remove all references to the demangler.
	* cxxfilt.c: Moved to binutils.
@
text
@d1 5
@


1.541
log
@Handle DW_OP_GNU_push_tls_address.
Synch up with the gcc's dwarf2.h
@
text
@d1 13
d41 1
a41 1
	* objdump.c (dump_headers): Add printing of HAS_LOAD_PAGE flag. 
d135 1
a135 1
	
d263 1
a263 1
	the symbol's size equal to its value when --size-sort is 
d323 1
a323 1
	
d540 2
a541 2
    
        * readelf.c (get_AT_name): Handle DW_AT_GNU_vector.
d567 1
a567 1
	* rcparse.y: Allow two to five parameter in FONT statement of 
d571 1
a571 1
        (res_to_bin_dialog): Likewise.
d581 1
a581 1
	* rcparse.y: CLASS definitions in DIALOG resources 
d694 2
a695 2
	* readelf.c (dump_relocations): Display 2nd and 3rd reloc 
	types for 64-bit MIPS.  Narrow some fields for 80-char 
d697 1
a697 1
	(dump_relocations): Change spelling from 'unrecognised' 
d824 1
a824 1
        * readelf.c (usage): Adjust format to match style used in
d876 1
a876 1
        (strip_usage): Use "options" instead of "switches".
d878 1
a878 1
        "switches".
d1479 3
a1481 3
        Patch suggested by Frank Eigler <fche@@redhat.com>.
        * objdump.c (disassemble_data): Fill in section member of the
        disasm_info structure.
d1499 12
a1510 12
        * objcopy.c: Fix formatting.
        (section_rename): New structure.
        (OPTION_RENAME_SECTION): New switch.
        (copy_usage): Document new switch.
        (add_section_rename): New function: Add a node to the section
        rename list.
        (find_section_rename): New function: Find the new name and
        flags for a section.
        (setup_section): Call find_section_name to determine the name
        of the output section.
        (copy_main): Handle OPTION_RENAME_SECTION.
        * binutils.texi: Document new switch.
d1674 2
a1675 2
        * Makefile.am: Move documentation into doc subdirectory.
        * Makefile.in: Regenerated.
d1677 14
a1690 14
        * addr2line.1: Removed.
        * ar.1: Likewise.
        * dlltool.1: Likewise.
        * nlmconv.1: Likewise.
        * nm.1: Likewise.
        * objcopy.1: Likewise.
        * objdump.1: Likewise.
        * ranlib.1: Likewise.
        * readelf.1: Likewise.
        * size.1: Likewise.
        * strings.1: Likewise.
        * strip.1: Likewise.
        * windres.1: Likewise.
        * cxxfilt.man: Likewise.
d1758 1
a1758 1
        * NEWS: Announce support for OpenRISC.
@


1.540
log
@Update translations
@
text
@d1 5
@


1.539
log
@Add Ben Elliston as a maintainer for configure and testsuite changes.
Add paragraphs about testsuite and config patches.
@
text
@d1 4
@


1.538
log
@Remove redundant reference to E_V850EA_ARCH.
@
text
@d1 6
@


1.537
log
@	* objdump.c (dump_bfd): Restore lines accidentally deleted in
	last commit.
@
text
@d1 5
@


1.536
log
@Add TMS320C4x support
@
text
@d1 5
@


1.535
log
@Revert last change.
@
text
@d1 5
@


1.534
log
@	* nm.c (display_rel_file): Don't report "no symbols" as an error.
	* objdump.c (slurp_symtab): Likewise.
	(slurp_dynamic_symtab): Likewise.
	(dump_symbols): Likewise.  Do print "no symbols" to stdout.
@
text
@d1 4
@


1.533
log
@	* MAINTAINERS: Change my mailing address.
@
text
@d1 7
@


1.532
log
@	* MAINTAINERS: Add Dave Anglin as HPPA co-maintainer.
@
text
@d1 4
@


1.531
log
@Add Jeff Law as HPPA maintainer
@
text
@d1 4
@


1.530
log
@	* readelf.c (parse_args): Change debug_dump_opt to static.
@
text
@d1 5
@


1.529
log
@Revert previous delta - it was bogus.
@
text
@d1 4
@


1.528
log
@Put a newline after display an unknown dynamic type.
@
text
@a0 5
2002-08-16  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (process_dynamic_segment): Put a newline after display
	an unknown dynamic type.

@


1.527
log
@Cope with demangling  function names that include a double underscore.
@
text
@d1 5
@


1.526
log
@	* readelf.c: Include elf/i370.h.
	(dump_relocations): Handle EM_S370.
	(dynamic_segment_parisc_val): Print \n.
	(process_dynamic_segment <DT_BIND_NOW>): Here too.
@
text
@d1 10
@


1.525
log
@oops - omitted from previous delta
@
text
@d1 7
@


1.524
log
@Don't warn about ALT use with non-VIRTKEY.
@
text
@d1 6
@


1.523
log
@2002-08-13  H.J. Lu <hjl@@gnu.org>

	* objcopy.c (copy_object): Don't warn about the unsupported
	architecture unless the input target is defaulted or the
	output architecture is different from the input.
@
text
@d1 5
@


1.522
log
@Updated Swedish translation
@
text
@d1 6
@


1.521
log
@	* prdbg.c (pr_fix_visibility): Remove assert.
@
text
@d1 4
@


1.520
log
@Rename function arguments to avoid shadowing global symbols of the same name.
@
text
@d1 4
@


1.519
log
@	* readelf.c (OPTION_DEBUG_DUMP): Define.
	(options): Use it.
	(usage): Update help.
	(parse_args): Handle --debug-dump separately from -w.
	* doc/binutils.texi (readelf): Update documentation.
@
text
@d1 7
@


1.518
log
@New translations
@
text
@d1 8
@


1.517
log
@oops - omitted from previous delta
@
text
@d1 5
@


1.516
log
@	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.
@
text
@d1 4
d12 1
a12 1
	* po/fr.po: New French translation.
@


1.515
log
@update translations.
@
text
@d1 5
@


1.514
log
@	* doc/binutils.texi (addr2line <man synopsis>): Correct brackets.
@
text
@d1 4
@


1.513
log
@	* budemang.c: Include config.h and string.h/strings.h.
@
text
@d1 4
@


1.512
log
@	* budemang.c: Include string.h.
@
text
@d3 1
a3 1
	* budemang.c: Include string.h.
@


1.511
log
@Add IP2K support
@
text
@d1 4
@


1.510
log
@Add 'Chnages in 2.13' to NEWS files.
@
text
@d1 9
@


1.509
log
@	* readelf.c (get_dynamic_type): Handle DT_GNU_PRELINKED,
	DT_GNU_CONFLICT* and DT_GNU_LIBLISZ*.
	(get_section_type_name): Handle SHT_GNU_LIBLIST.
	(process_dynamic_segment): Handle DT_GNU_CONFLICTSZ,
	DT_GNU_LIBLISTSZ and DT_GNU_PRELINKED.
	(process_gnu_liblist): New.
	(process_file): Call it.

	* elf/common.h (SHT_GNU_LIBLIST, DT_GNU_PRELINKED,
	DT_GNU_CONFLICT*, DT_GNU_LIBLIST*): Define.
@
text
@d1 4
@


1.509.2.1
log
@Add 'Changes in 2.13' to NEWS files
@
text
@a0 4
2002-07-16  Nick Clifton  <nickc@@cambridge.redhat.com>

	* NEWS: Add 'Changes in 2.13'.

@


1.509.2.2
log
@	* budemang.c: Include config.h and string.h/strings.h.
@
text
@a0 4
2002-07-20  Alan Modra  <amodra@@bigpond.net.au>

	* budemang.c: Include config.h and string.h/strings.h.

@


1.509.2.3
log
@	* doc/binutils.texi (addr2line <man synopsis>): Correct brackets.
@
text
@a0 4
2002-07-23  Eric S. Raymond  <esr@@golux.thyrsus.com>

	* doc/binutils.texi (addr2line <man synopsis>): Correct brackets.

@


1.509.2.4
log
@Update transaltions.
@
text
@a0 4
2002-07-23  Nick Clifton  <nickc@@redhat.com>

	* po/fr.po: New French translation.

@


1.509.2.5
log
@Regenerated .pot files
@
text
@a0 4
2002-07-23  Daniel Jacobowitz  <drow@@mvista.com>

	* po/binutils.pot: Regenerated.

@


1.509.2.6
log
@Updated Spanish and Swedish translations
@
text
@a0 4
2002-07-24  Nick Clifton  <nickc@@redhat.com>
	
	* po/es.po: Updated Spanish translation.

d7 1
a7 1
	* po/fr.po: Updated French translation.
@


1.509.2.7
log
@New translations
@
text
@a0 5
2002-07-25  Nick Clifton  <nickc@@redhat.com>

	* po/es.po: Updated Spanish translation.
	* po/fr.po: Updated French translation.

@


1.509.2.8
log
@        Merge from mainline:
        2002-07-30  Jakub Jelinek  <jakub@@redhat.com>
        * readelf.c (OPTION_DEBUG_DUMP): Define.
        (options): Use it.
        (usage): Update help.
        (parse_args): Handle --debug-dump separately from -w.
        * doc/binutils.texi (readelf): Update documentation.
@
text
@a0 10
2002-07-30  Daniel Jacobowitz  <drow@@mvista.com>

	Merge from mainline:
	2002-07-30  Jakub Jelinek  <jakub@@redhat.com>
	* readelf.c (OPTION_DEBUG_DUMP): Define.
	(options): Use it.
	(usage): Update help.
	(parse_args): Handle --debug-dump separately from -w.
	* doc/binutils.texi (readelf): Update documentation.

@


1.509.2.9
log
@2002-09-23  Daniel Jacobowitz  <drow@@mvista.com>

	Merge from mainline:
	2002-09-11  Nick Clifton  <nickc@@redhat.com>
	* po/tr.po: Updated Turkish translation.

	2002-08-14  Luke Dunstan  <infidel@@users.sourceforge.net>
	* rcparse.y (acc_entry): Don't warn about ALT use with
	non-VIRTKEY.

	2002-08-09  Nick Clifton  <nickc@@redhat.com>
	* po/sv.po: Updated Swedish translation.

	2002-07-31  Nick Clifton  <nickc@@redhat.com>
	* addr2line.c (process_file): Rename parameter 'filename' to
	'file_name' in order to avoid shadowing global symbol of the
	same name.
	(main): Likewise.
@
text
@a0 19
2002-09-23  Daniel Jacobowitz  <drow@@mvista.com>

	Merge from mainline:
	2002-09-11  Nick Clifton  <nickc@@redhat.com>
	* po/tr.po: Updated Turkish translation.

	2002-08-14  Luke Dunstan  <infidel@@users.sourceforge.net>
	* rcparse.y (acc_entry): Don't warn about ALT use with
	non-VIRTKEY.

	2002-08-09  Nick Clifton  <nickc@@redhat.com>
	* po/sv.po: Updated Swedish translation.

	2002-07-31  Nick Clifton  <nickc@@redhat.com>
	* addr2line.c (process_file): Rename parameter 'filename' to
	'file_name' in order to avoid shadowing global symbol of the
	same name.
	(main): Likewise.

@


1.509.2.10
log
@	* objdump.c (dump_data): Correct addr_offset for opb != 1.
@
text
@a0 4
2002-10-21  Svein E. Seldal  <Svein.Seldal@@solidas.com>

	* objdump.c (dump_data): Correct addr_offset for opb != 1.

d36 1
a36 1

d154 1
a154 1
	the symbol's size equal to its value when --size-sort is
d214 1
a214 1

d431 2
a432 2

	* readelf.c (get_AT_name): Handle DW_AT_GNU_vector.
d458 1
a458 1
	* rcparse.y: Allow two to five parameter in FONT statement of
d462 1
a462 1
	(res_to_bin_dialog): Likewise.
d472 1
a472 1
	* rcparse.y: CLASS definitions in DIALOG resources
d585 2
a586 2
	* readelf.c (dump_relocations): Display 2nd and 3rd reloc
	types for 64-bit MIPS.  Narrow some fields for 80-char
d588 1
a588 1
	(dump_relocations): Change spelling from 'unrecognised'
d715 1
a715 1
	* readelf.c (usage): Adjust format to match style used in
d767 1
a767 1
	(strip_usage): Use "options" instead of "switches".
d769 1
a769 1
	"switches".
d1370 3
a1372 3
	Patch suggested by Frank Eigler <fche@@redhat.com>.
	* objdump.c (disassemble_data): Fill in section member of the
	disasm_info structure.
d1390 12
a1401 12
	* objcopy.c: Fix formatting.
	(section_rename): New structure.
	(OPTION_RENAME_SECTION): New switch.
	(copy_usage): Document new switch.
	(add_section_rename): New function: Add a node to the section
	rename list.
	(find_section_rename): New function: Find the new name and
	flags for a section.
	(setup_section): Call find_section_name to determine the name
	of the output section.
	(copy_main): Handle OPTION_RENAME_SECTION.
	* binutils.texi: Document new switch.
d1565 2
a1566 2
	* Makefile.am: Move documentation into doc subdirectory.
	* Makefile.in: Regenerated.
d1568 14
a1581 14
	* addr2line.1: Removed.
	* ar.1: Likewise.
	* dlltool.1: Likewise.
	* nlmconv.1: Likewise.
	* nm.1: Likewise.
	* objcopy.1: Likewise.
	* objdump.1: Likewise.
	* ranlib.1: Likewise.
	* readelf.1: Likewise.
	* size.1: Likewise.
	* strings.1: Likewise.
	* strip.1: Likewise.
	* windres.1: Likewise.
	* cxxfilt.man: Likewise.
d1649 1
a1649 1
	* NEWS: Announce support for OpenRISC.
@


1.509.2.11
log
@Merge from mainline.
@
text
@a0 12
2002-10-28  Daniel Jacobowitz  <drow@@mvista.com>

	Merge from mainline:
	2002-10-21  Alan Modra  <amodra@@bigpond.net.au>
	* bucomm.c (list_supported_targets): Use bfd_target_list.

	2002-10-09  Daniel Jacobowitz  <drow@@mvista.com>
	* readelf.c (display_debug_info): Ignore empty .rela.debug_info
	sections.  Allow relocations against the absolute symbol.  Don't
	use the value in compunit.cu_abbrev_offset if we found a RELA
	relocation.

@


1.509.2.12
log
@Regenerate generated files.
@
text
@a0 4
2002-10-30  Daniel Jacobowitz  <drow@@mvista.com>

	* po/binutils.pot: Regenerated.

@


1.509.2.13
log
@        * configure.in (LINGUAS): Add 'da'.
        * configure: Regenerate.
        * po/da.po: New Danish translation.
@
text
@a0 6
2002-11-07  Nick Clifton  <nickc@@redhat.com>

	* configure.in (LINGUAS): Add 'da'.
	* configure: Regenerate.
	* po/da.po: New Danish translation.

@


1.509.2.14
log
@Merge fixes from trunk.
@
text
@a0 4
2002-11-23  Nick Clifton  <nickc@@redhat.com>

	* size.c (usage): Fix typo describing switch for hex format.

@


1.509.2.15
log
@	* README <building ar>: Don't use libibery's needed_list or
	required_list, instead link libiberty/*.o.
@
text
@a0 5
2002-12-20  Alan Modra  <amodra@@bigpond.net.au>

	* README <building ar>: Don't use libibery's needed_list or
	required_list, instead link libiberty/*.o.

@


1.508
log
@	* Makefile.am (check-DEJAGNU): Revert 2002-06-25 change.
	* Makefile.in: Regenerate.
@
text
@d1 10
@


1.507
log
@	* budemang.c: New file, "demangle" function.
	* budemang.h: New file.
	* addr2line.c (translate_addresses): Use "demangle".
	* nm.c (print_symname): Likewise.
	* objdump.c (objdump_print_symname): Likewise.
	(dump_symbols): Likewise.  Also, don't use bfd_asymbol_name macro
	here since that obfuscates.
	* rdcoff.c: Don't #include demangle.h.
	* Makefile.am (CFILES): Add budemang.c, emul_aix.c,
	emul_vanilla.c.  Remove emul_$(EMULATION).c.  Sort.
	(HFILES): Add budemang.h.  Sort.
	(nm_new_SOURCES, objdump_SOURCES, addr2line_SOURCES): Add budemang.c.
	Run "make dep-am".
	* Makefile.in: Regenerate.
	* po/POTFILES.in: Regenerate.
@
text
@d1 5
@


1.506
log
@include/elf:

2002-07-01  Matt Thomas  <matt@@3am-software.com>

* Rename EF_* to EF_VAX_*.

bfd:

2002-07-01  Matt Thomas  <matt@@3am-software.com>

* elf32-vax.c (elf32_vax_print_private_bfd_data): Change EF_*
to EF_VAX_*.

binutils:

2002-07-01  Matt Thomas  <matt@@3am-software.com>

* readelf.c: Include "elf/vax.h".
(guess_is_rela): Move EM_VAX from unknown to RELA case.
(dump_relocations): Handle VAX relocations.
(get_machine_flags): Handle VAX machine flags.
@
text
@d1 17
@


1.505
log
@	* readelf.c (dump_relocations): Handle 68HC11/68HC12 relocations.
@
text
@d1 7
@


1.504
log
@Rescind Tom Rix's maintainerships.
@
text
@d1 4
@


1.503
log
@	* nm.c (print_symname): When demangling, strip leading dots from
	symbol names to avoid confusing the demangler.
@
text
@d1 4
@


1.502
log
@2002-06-25  H.J. Lu <hjl@@gnu.org>

	* Makefile.am (check-DEJAGNU): Set LC_ALL=C and export it.
	* Makefile.in: Regenerated.
@
text
@d1 5
@


1.501
log
@	* configure.in: Quote bu_cv_have_fopen64.
	* configure: Regenerate.
@
text
@d1 5
@


1.500
log
@	* configure.in: Check for strcoll.
	* configure: Regenerate.
	* config.in: Regenerate.
	* nm.c (main): Set locale for LC_COLLATE category.
	(non_numeric_forward): Use strcoll if available.
@
text
@d1 5
@


1.499
log
@2002-06-20  Dave Brolley  <brolley@@redhat.com>

	* MAINTAINERS: Add self as fr30 and frv maintainer.
@
text
@d1 8
@


1.498
log
@2002-06-18  H.J. Lu  (hjl@@gnu.org)

	* nm.c: Include "elf/common.h".
	(extended_symbol_info): Add elfinfo, a pointer to
	elf_symbol_type.
	(SYM_SIZE): Use elfinfo if it is not NULL.
	(get_symbol_type): New function.
	(display_archive): Set print_width for each archive member.
	(display_file): Likewise.
	(display_rel_file): Don't set print_width here.
	(print_object_filename_sysv): Handle print_width.
	(print_archive_member_sysv): Likewise.
	(print_symbols): Pass (bfd_vma) 0 to print_symbol.
	(print_symbol): Set the elfinfo field in extended_symbol_info
	for ELF.
	(print_object_filename_sysv): Fix the output format.
	(print_symbol_info_sysv): Print type and section for ELF.

2002-06-18  Elias Athanasopoulos  <eathan@@otenet.gr>

	* nm.c (print_size_symbols): Remove assignment, which makes
	the symbol's size equal to its value when --size-sort is
	used.
@
text
@d1 4
@


1.497
log
@2002-06-18  Dave Brolley  <brolley@@redhat.com>

	From Catherine Moore:
	* readelf.c (elf/frv.h): #include it.
	(guess_is_rela): Support EM_CYGNUS_FRV.
	(dump_relocations): Ditto.
	(get_machine_name): Ditto.
	* Makefile.am (readelf.o): add dependency on $(INCDIR)/elf/frv.h.
@
text
@d1 24
@


1.496
log
@binutils/
	* readelf.c (get_file_header): Only read the first section header if
	e_shoff is non-zero.

bfd/
	* elfcode.h (elf_object_p): Sanity check eh_shoff == 0 implies
	e_shnum == 0.
	Only read the first section header if e_shoff is non-zero.
	Don't consider e_shstrndx if there are no sections.
@
text
@d1 9
@


1.495
log
@2002-06-15  H.J. Lu  (hjl@@gnu.org)

	* nm.c (print_size): New variable. Initialize to 0.
	(long_options): Add 'S'/"print-size".
	(main): Handle 'S'.
	(print_symbol_info_bsd): Print size only if print_size is not
	0.

	* doc/binutils.texi: Document -S/--print-size.
@
text
@d1 5
@


1.494
log
@Display the symbol's size and use it for sorting.
@
text
@d1 10
@


1.493
log
@	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.
	* doc/Makefile.in: Regnerate.
@
text
@d1 14
@


1.492
log
@	* bucomm.c: Replace CONST with const.
	* nm.c: Likewise.
	* objdump.c: Likewise.
@
text
@d3 4
@


1.491
log
@2002-06-07  H.J. Lu <hjl@@gnu.org>

	* readelf.c (DW_CFA_GNU_args_size): Don't define.
	(DW_CFA_GNU_negative_offset_extended): Likewise.
	(DW_CFA_GNU_window_save): Likewise.
	(display_debug_frames): Handle DW_CFA_offset_extended_sf,
	DW_CFA_def_cfa_sf and DW_CFA_def_cfa_offset_sf.
@
text
@d1 6
@


1.490
log
@When computing size of symbols for an ELF target use the internal size field.
@
text
@d1 8
@


1.489
log
@        * testsuite/binutils-all/objcopy.exp: clear xfail for
        "hppa*64*-*-hpux*".
        * testsuite/binutils-all/hppa/objdump.exp: Return if
        "*64*-*-*".
@
text
@d1 5
@


1.488
log
@	* objcopy.c (copy_section): Don't copy SEC_GROUP sections.
@
text
@d1 7
@


1.487
log
@	* objdump.c: Fix formatting.
@
text
@d1 5
a5 1
2002-06-3  Elias Athanasopoulos  <eathan@@otenet.gr>
@


1.486
log
@	* MAINTAINERS: Add self as M68k maintainer.
@
text
@d1 4
@


1.485
log
@Add DLX target
@
text
@d1 4
@


1.484
log
@Fix transaltion problems.
@
text
@d1 4
@


1.483
log
@oops - omitted from previous delta
@
text
@d3 12
@


1.482
log
@	* unwind-ia64.c (unw_print_brmask): Don't use sprintf.
	(unw_print_grmask): Likewise.
	(unw_print_frmask): Likewise.
@
text
@d1 5
@


1.481
log
@	* arsup.c: Remove ARGSUSED.
	* debug.c: Likewise.
	* ieee.c: Likewise.
	* nlmconv.c: Likewise.
	* prdbg.c: Likewise.
	* stabs.c: Likewise.
	* wrstabs.c: Likewise.
@
text
@d1 6
@


1.480
log
@	* arlex.l: Use #include "" instead of <> for local header files.
	* coffdump.c: Likewise.
	* coffgrok.c: Likewise.
	* nlmconv.c: Likewise.
	* nlmheader.y: Likewise.
	* srconv.c: Likewise.
	* strings.c: Likewise.
	* sysdump.c: Likewise.
	* unwind-ia64.h: Likewise.
	* windres.h: Likewise.
	* winduni.h: Likewise.
@
text
@d1 10
@


1.479
log
@Add self as d10v maintainer.
@
text
@d1 14
@


1.478
log
@Add a target for i386-netbsdpe.
@
text
@d1 4
@


1.477
log
@	* size.c: Fix formatting.
	* srconv.c: Likewise.
	* stabs.c: Likewise.
	* sysdump.c: Likewise.
	* unwind-ia64.c: Likewise.
	* wrstabs.c: Likewise.
@
text
@d1 5
@


1.476
log
@	* elf.c (_bfd_elf_make_section_from_shdr): Set SEC_THREAD_LOCAL
	for symbols from SHF_TLS section.
	(_bfd_elf_print_private_bfd_data): Add PT_TLS.
	(elf_fake_sections): Set SHF_TLS for SEC_THREAD_LOCAL sections.
	(map_sections_to_segments): Build PT_TLS segment if necessary.
	(assign_file_positions_for_segments): Likewise.
	(get_program_header_size): Account for PT_TLS segment.
	(swap_out_syms): Set type of BSF_THREAD_LOCAL symbols and symbols from
	SEC_THREAD_LOCAL sections to STT_TLS.
	* reloc.c: Add 386 and IA-64 TLS relocs.
	* section.c (SEC_THREAD_LOCAL): Define.
	(SEC_CONSTRUCTOR_TEXT, SEC_CONSTRUCTOR_DATA, SEC_CONSTRUCTOR_BSS):
	Remove.
	* elflink.h (elf_link_add_object_symbols): Support .tcommon.
	(size_dynamic_sections): If DF_STATIC_TLS, set DF_FLAGS
	unconditionally.
	(struct elf_final_link_info): Add first_tls_sec.
	(elf_bfd_final_link): Set first_tls_sec.
	Compute elf_hash_table (info)->tls_segment.
	(elf_link_output_extsym): Handle STT_TLS symbols.
	(elf_link_input_bfd): Likewise.
	* syms.c (BSF_THREAD_LOCAL): Define.
	* bfd-in2.h: Rebuilt.
	* libbfd.h: Rebuilt.
	* elf32-i386.c (elf_i386_tls_transition, dtpoff_base, tpoff,
	elf_i386_mkobject, elf_i386_object_p): New functions.
	(elf_howto_table): Add TLS relocs.
	(elf_i386_reloc_type_lookup): Support TLS relocs.
	(elf_i386_info_to_howto_rel): Likewise.
	(struct elf_i386_link_hash_entry): Add tls_type.
	(struct elf_i386_obj_tdata): New.
	(elf_i386_hash_entry, elf_i386_tdata, elf_i386_local_got_tls_type):
	New macros.
	(struct elf_i386_link_hash_table): Add tls_ldm_got.
	(link_hash_newfunc): Clear tls_type.
	(elf_i386_check_relocs): Support TLS relocs.
	(elf_i386_gc_sweep_hook): Likewise.
	(allocate_dynrelocs): Likewise.
	(elf_i386_size_dynamic_sections): Likewise.
	(elf_i386_relocate_section): Likewise.
	(elf_i386_finish_dynamic_symbol): Likewise.
	(bfd_elf32_mkobject, elf_backend_object_p): Define.
	* elfxx-ia64.c (struct elfNN_ia64_dyn_sym_info): Add tprel_offset,
	dtpmod_offset, dtprel_offset, tprel_done, dtpmod_done, dtprel_done,
	want_tprel, want_dtpmod, want_dtprel.
	(elfNN_ia64_tprel_base, elfNN_ia64_dtprel_base): New functions.
	(ia64_howto_table): Add TLS relocs, rename R_IA64_LTOFF_TP22 to
	R_IA64_LTOFF_TPREL22.
	(elf_code_to_howto_index): Add TLS relocs.
	(elfNN_ia64_check_relocs): Support TLS relocs.
	(allocate_global_data_got): Account for TLS .got data.
	(allocate_dynrel_entries): Account for TLS dynamic relocations.
	(elfNN_ia64_install_value): Supprt TLS relocs.
	(set_got_entry): Support TLS relocs.
	(elfNN_ia64_relocate_section): Likewise.

	* config/obj-elf.c (elf_common): Renamed from obj_elf_common.
	(obj_elf_common): Call elf_common.
	(obj_elf_tls_common): New function.
	(elf_pseudo_tab): Support .tls_common.
	(special_sections): Add .tdata and .tbss.
	(obj_elf_change_section): Set SEC_THREAD_LOCAL for SHF_TLS
	sections.
	(obj_elf_parse_section_letters): Support T in section flags (SHF_TLS).
	(obj_elf_parse_section_letters): Include T in error message.
	* config/tc-ppc.c (ppc_section_letter): Likewise.
	* config/tc-alpha.c (alpha_elf_section_letter): Likewise.
	(tc_gen_reloc): Handle SEC_THREAD_LOCAL the same way as
	SEC_MERGE.
	* config/tc-sparc.c (md_apply_fix3): Likewise.
	* config/tc-i386.c (tc_i386_fix_adjustable): Add TLS relocs.
	Define them if not BFD_ASSEMBLER.
	(lex_got): Support @@TLSGD, @@TLSLDM, @@GOTTPOFF, @@TPOFF, @@DTPOFF
	and @@NTPOFF.
	(md_apply_fix3): Add TLS relocs.
	* config/tc-ia64.c (enum reloc_func): Add FUNC_DTP_MODULE,
	FUNC_DTP_RELATIVE, FUNC_TP_RELATIVE, FUNC_LT_DTP_MODULE,
	FUNC_LT_DTP_RELATIVE, FUNC_LT_TP_RELATIVE.
	(pseudo_func): Support @@dtpmod(), @@dtprel() and @@tprel().
	(ia64_elf_section_letter): Include T in error message.
	(md_begin): Support TLS operators.
	(md_operand): Likewise.
	(ia64_gen_real_reloc_type): Support TLS relocs.
	* testsuite/gas/i386/tlspic.s: New file.
	* testsuite/gas/i386/tlsd.s: New file.
	* testsuite/gas/i386/tlsnopic.s: New file.
	* testsuite/gas/i386/tlsd.d: New file.
	* testsuite/gas/i386/tlsnopic.d: New file.
	* testsuite/gas/i386/tlspic.d: New file.
	* testsuite/gas/i386/i386.exp: Add tlsd, tlsnopic and tlspic tests.
	* testsuite/gas/ia64/tls.s: New file.
	* testsuite/gas/ia64/tls.d: New file.
	* testsuite/gas/ia64/ia64.exp: Add tls test.
	* write.c (adjust_reloc_syms): Don't change symbols in
	SEC_THREAD_LOCAL sections to STT_SECTION + addend.

	* elf/common.h (PT_TLS, SHF_TLS, STT_TLS, DF_STATIC_TLS): Define.
	* elf/ia64.h (R_IA64_LTOFF_TPREL22): Renamed from R_IA64_LTOFF_TP22.
	* elf/i386.h: Add TLS relocs.

	* scripttempl/elf.sc: Add .rel{,a}.t{bss,data}, .tdata and .tbss.
	* ldlang.c (lang_add_section): Set SEC_THREAD_LOCAL for
	output section if necessary.  Handle .tbss.
	(lang_size_sections): Clear _raw_size for .tbss section
	(it allocates space in PT_TLS segment only).
	* ldwrite.c (build_link_order): Build link order for .tbss too.

	* readelf.c (get_segment_type): Add PT_TLS.
	(get_elf_section_flags): Add SHF_TLS.
	(get_dynamic_flags): Optimize.  Add DF_STATIC_TLS.
	(process_dynamic_segment): Use puts instead of printf.
	(get_symbol_type): Support STT_TLS.
	* objdump.c (dump_section_header): Remove SEC_CONSTRUCTOR_TEXT,
	SEC_CONSTRUCTOR_DATA, SEC_CONSTRUCTOR_BSS.
	Add SEC_THREAD_LOCAL.
@
text
@d1 9
@


1.475
log
@	* rdcoff.c: Fix formatting.
	* rddbg.c: Likewise.
	* readelf.c: Likewise.
	* rename.c: Likewise.
	* resbin.c: Likewise.
	* resrc.c: Likewise.
	* resres.c: Likewise.
@
text
@d1 11
@


1.474
log
@	* filemode.c: Fix formatting.
	* ieee.c: Likewise.
	* is-ranlib.c: Likewise.
	* is-strip.c: Likewise.
	* maybe-ranlib.c: Likewise.
	* maybe-strip.c: Likewise.
	* nlmconv.c: Likewise.
	* nm.c: Likewise.
	* not-ranlib.c: Likewise.
	* not-strip.c: Likewise.
	* objcopy.c: Likewise.
	* objdump.c: Likewise.
@
text
@d1 10
@


1.473
log
@	* objdump.c (dump_headers): Fix output formatting for ELF32
	architectures in a BFD64 enabled toolchain.
	* bfd/bfd.c (bfd_get_arch_size): Remove bfd_set_error call for
	non-ELF targets.
@
text
@d1 15
@


1.472
log
@	* debug.c: Fix formatting.
	* debug.h: Likewise.
	* dlltool.c: Likewise.
	* dllwrap.c: Likewise.
	* emul_aix.c: Likewise.
	* emul_vanilla.c: Likewise.
@
text
@d1 5
@


1.471
log
@	* addr2line.c: Fix formatting.
	* ar.c: Likewise.
	* arsup.c: Likewise.
	* arsup.h: Likewise.
	* binemul.c: Likewise.
	* binemul.h: Likewise.
	* bucomm.c: Likewise.
	* coffdump.c: Likewise.
	* coffgrok.c: Likewise.
	* coffgrok.h: Likewise.
@
text
@d1 9
@


1.470
log
@
	* MAINTAINERS: Add myself as the second AVR port maintainer.
@
text
@d1 13
@


1.469
log
@	* MAINTAINERS: Update my email address.
@
text
@d1 4
@


1.468
log
@Add Joasn Thorpe as VAX maintainer
@
text
@d1 4
@


1.467
log
@	* configure.in: Replace `*pe' with `pe' throughout.
@
text
@d1 4
@


1.466
log
@Honour DESTDIR
@
text
@d1 5
@


1.465
log
@oops, missing changelog entry
	* dlltool.c (process_def_file): Add missing prototype.
	(new_directive, assemble_file, main): Likewise.
	(process_def_file, new_directive): Make static.
	(inform): Rewrite using VA_FIXEDARG.
	* dllwrap.c (mybasename): Add missing prototype.
	(strhash, main): Likewise.
	(inform): Rewrite using VA_FIXEDARG.
	(warn): Likewise.
	(cleanup_and_exit): Use old style function definition.
	(strhash): Likewise.
	* windres.c (define_resource): Use one memset to clear all of
	struct res_resource.
@
text
@d1 5
@


1.464
log
@	* rcparse.y: Remove newcmd rule.  Move rcparse_discard_strings
	call to rules that need no lookahead.  Check for no lookahead.

	* rclex.l (get_string): Correct "strings" list handling.
	* resrc.c (read_rc_file): Discard strings.
@
text
@d3 13
d17 1
a17 1
	calls to rules that need no lookahead.  Check for no lookahead.
@


1.463
log
@	* ar.c (replace_members): Remove unused var.  Formatting fix.
	* binemul.c (ar_emul_default_parse_arg): Add ATTRIBUTE_UNUSED.
@
text
@d1 10
@


1.462
log
@	* MAINTAINERS: Sort port maintainers by CPU.
@
text
@d3 3
@


1.461
log
@	* size.c (display_archive): Add last_arfile and code to close archives.
@
text
@d1 4
@


1.460
log
@	* nm.c (print_symbol): Check returned filename from
	bfd_find_nearest_line is non-NULL.
@
text
@d1 4
@


1.459
log
@2002-04-25  Elena Zannoni <ezannoni@@redhat.com>

        * readelf.c (get_AT_name): Handle DW_AT_GNU_vector.
@
text
@d1 5
@


1.458
log
@The patch contains mostly fixes for the disassembler. It also fixes
a crash of the assembler with some malformed source input.
Long segmented addresses are now correctly relocated.
Finally it updates my email address in the MAINTAINERS file.
@
text
@d1 4
@


1.457
log
@	* arparse.y: Fix syntax warning.
	* ldgram.y: Fix syntax warning.
@
text
@d1 4
@


1.456
log
@Remove unused function fetch_location_list.
Catch corrupt core notes and display a warning message.
@
text
@d1 4
@


1.455
log
@Define MEMFLAGS_DISCARDABLE by default for dialogs.
Add a test for this.
@
text
@d3 5
@


1.454
log
@Allow two to five parameter in FONT statement of DIALOGEX resources.
@
text
@d1 4
@


1.453
log
@Regernated recently created expected output files using MSVC.
Set MEMFLAG_PURE by default - bug exposed by regenerated files.
@
text
@d1 15
@


1.452
log
@Add WS_CAPTION dialog style if CAPTION is specified.
Add testcase.
@
text
@d1 4
@


1.451
log
@Don't print empty dialog caption.
Add testcase.
@
text
@d7 1
@


1.450
log
@Fix overlooked sublang shift bug.
Add testcase.
@
text
@d14 1
@


1.449
log
@Set default LANGUAGE to english/us.
@
text
@d8 3
a10 3
	* rclex.l: "\xhex" encoding in strings corrected.
	"\a" escape (used for right justified key definitions in menus) is
	encodes as binary 8.
d12 2
a13 1
	* resrc.c: Print style even if it is 0.
d15 2
a16 1
	* resbin.c: Use signature to identify DIALOGEX.
d18 1
a18 1
	* windres.c: Set default LANGUAGE to english/us.
@


1.448
log
@Use signature to identify DIALOGEX.
Add testcase.
@
text
@d15 3
a17 1
	
@


1.447
log
@Don't add default dialog style when explicit style specified.
Print style even if it is 0.
Add testcase.
@
text
@d13 2
@


1.446
log
@"\a" escape (used for right justified key definitions in menus) is encodes as
binary 8.
@
text
@d6 1
d12 2
@


1.445
log
@Fix parsing hex constants in strings.  Add test for the fix.
@
text
@d8 2
@


1.444
log
@Fix typo in BEDIT warning.
@
text
@d5 3
a7 1
	Fix typo in BEDIT warning
@


1.443
log
@Apply patch from Bernd Herd to fix quoted class definitions inside dialogs.
@
text
@d5 1
@


1.442
log
@Tue Apr  9 15:13:10 2002  J"orn Rennecke <joern.rennecke@@superh.com>

	* MAINTAINERS: Update my email address.
@
text
@d1 10
a10 1
Tue Apr  9 15:13:10 2002  J"orn Rennecke <joern.rennecke@@superh.com>
@


1.441
log
@	* dep-in.sed: Cope with absolute paths.
	* Makefile.am (dep.sed): Subst TOPDIR.
	Run "make dep-am".
	* Makefile.in: Regenerate.
@
text
@d1 4
@


1.440
log
@	* MAINTAINERS: Update my email address.
@
text
@d1 7
@


1.439
log
@	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.
	* doc/Makefile.in: Regenerate.
	* po/POTFILES.in: Regenerate.
	* aclocal.m4: Regenerate.
	* config.in: Regenerate.
	* configure: Regenerate.
@
text
@d1 4
@


1.438
log
@2002-03-20  Daniel Berlin  <dan@@dberlin.org>

	* readelf.c: Add support for displaying dwarf2 location lists.
	(do_debug_loc, debug_loc_section, debug_loc_size): New.
	(parse_args): Use 'O' as shorthand for displaying location list
	section.
	(process_section_headers): Handle debug_loc as well.
	(load_debug_loc): New.
	(free_debug_loc): New.
	(fetch_location_list): New.
	(display_debug_loc): New.
	(display_debug_info): Call load_debug_loc and free_debug_loc.
	(debug_displays): We can display .debug_loc now, too.
	(usage): Update usage string.
	(read_and_display_attr_value): Note location lists, but don't
	display them inline.
@
text
@d1 10
@


1.437
log
@Add AIX 64 shared library support and emulation layer for binutils
@
text
@d1 17
@


1.436
log
@Updated French translations
@
text
@d1 16
@


1.435
log
@Updated French translations
@
text
@d1 4
@


1.434
log
@2002-03-07  Daniel Jacobowitz  <drow@@mvista.com>

        * README: Update some version numbers.
@
text
@d1 4
@


1.433
log
@2002-03-07  Daniel Jacobowitz  <drow@@mvista.com>

        * doc/binutils.texi (Target Selection): Fix LD crossreferences.
        (Architecture Selection): Likewise.
@
text
@d3 4
@


1.432
log
@Take into account --kill-at (-k) while generating .exp file.
@
text
@d1 5
@


1.431
log
@Fix typo.
@
text
@d1 5
@


1.430
log
@Mark 2.12 branch
@
text
@d1 4
@


1.429
log
@Display 2nd and 3rd reloc types for 64-bit MIPS.
Narrow some fields for 80-char output.
@
text
@d1 4
@


1.428
log
@	* NEWS: Mention support for MMIX.
@
text
@d1 12
@


1.427
log
@bfd:
2002-02-13  Matt Fredette  <fredette@@netbsd.org>

* elf32-m68k.c (elf32_m68k_print_private_bfd_data): Recognize
EF_M68000.


bintuls:
2002-02-13  Matt Fredette  <fredette@@netbsd.org>

* readelf.c (get_machine_flags): Recognize EF_M68000.


gas:
2002-02-13  Matt Fredette  <fredette@@netbsd.org>

* config/tc-m68k.c (md_show_usage): No longer display a
hard-coded "68020" for the default CPU, instead display the
canonical name of the true, configured default CPU.
(m68k_elf_final_processing): Mark objects for sub-68020
CPUs with the new EF_M68000 flag.


include/elf:
2002-02-13  Matt Fredette  <fredette@@netbsd.org>

* m68k.h (EF_M68000): Define.
@
text
@d1 4
@


1.426
log
@* MAINTAINERS: Added self as MN10300 co-maintainer.
@
text
@d1 4
@


1.425
log
@Add DT_PPC64_OPD and DT_PPC64_OPDSZ dynamic tags
@
text
@d1 4
@


1.424
log
@2002-02-11  Daniel Jacobowitz  <drow@@mvista.com>

	* MAINTAINERS: List myself as branch maintainer.
@
text
@d1 5
@


1.423
log
@	* configure: Regenerate.
	* objcopy.c: Update copyright date.
	* doc/Makefile.in: Regenerate.
@
text
@d1 4
@


1.422
log
@2002-02-10  Daniel Jacobowitz  <drow@@mvista.com>

        * nlmconv.c: Back out localtime PARAMS change.
@
text
@d1 6
@


1.421
log
@	* objcopy.c (MKDIR): Define.
	(copy_archive): Make name_list.name const.  Use MKDIR.
	Handle duplicate files in archives by making more temp dirs.
@
text
@d1 4
@


1.420
log
@2002-02-10  Daniel Jacobowitz  <drow@@mvista.com>

	* coffdump.c: Include "getopt.h" after "bucomm.h"
	so that macros are defined correctly.
	* nlmconv.c: Add PARAMS ((const time_t *)) to localtime
	prototype.  Prototype main.
	* nlmheader.y: Add PARAMS ((int)) to strerror prototype.
@
text
@d1 6
@


1.419
log
@* MAINTAINERS: Added self as SH co-maintainer.
@
text
@d1 8
@


1.419.2.1
log
@2002-02-10  Daniel Jacobowitz  <drow@@mvista.com>

	* coffdump.c: Include "getopt.h" after "bucomm.h"
	so that macros are defined correctly.
	* nlmconv.c: Add PARAMS ((const time_t *)) to localtime
	prototype.  Prototype main.
	* nlmheader.y: Add PARAMS ((int)) to strerror prototype.
@
text
@a0 8
2002-02-10  Daniel Jacobowitz  <drow@@mvista.com>

	* coffdump.c: Include "getopt.h" after "bucomm.h"
	so that macros are defined correctly.
	* nlmconv.c: Add PARAMS ((const time_t *)) to localtime
	prototype.  Prototype main.
	* nlmheader.y: Add PARAMS ((int)) to strerror prototype.

@


1.419.2.2
log
@2002-02-10  Daniel Jacobowitz  <drow@@mvista.com>

        * nlmconv.c: Back out localtime PARAMS change.
@
text
@a2 4
	* nlmconv.c: Back out localtime PARAMS change.

2002-02-10  Daniel Jacobowitz  <drow@@mvista.com>

@


1.419.2.3
log
@	* objcopy.c (MKDIR): Define.
	(copy_archive): Make name_list.name const.  Use MKDIR.
	Handle duplicate files in archives by making more temp dirs.
@
text
@a0 6
2002-02-11  Alan Modra  <amodra@@bigpond.net.au>

	* objcopy.c (MKDIR): Define.
	(copy_archive): Make name_list.name const.  Use MKDIR.
	Handle duplicate files in archives by making more temp dirs.

@


1.419.2.4
log
@2002-02-11  Daniel Jacobowitz  <drow@@mvista.com>

	* MAINTAINERS: List myself as branch maintainer.
@
text
@a0 4
2002-02-11  Daniel Jacobowitz  <drow@@mvista.com>

	* MAINTAINERS: List myself as branch maintainer.

@


1.419.2.5
log
@Add DT_PPC64_OPD and DT_PPC64_OPDSZ dynamic tags.

	* elf64-ppc.c (ppc64_elf_size_stubs): Correct test for crossing
	64k boundary.
@
text
@a0 5
2002-02-12  Alan Modra  <amodra@@bigpond.net.au>

	* readelf.c (get_ppc64_dynamic_type): Handle DT_PPC64_OPD and
	DT_PPC64_OPDSZ.

@


1.419.2.6
log
@* MAINTAINERS: Added self as MN10300 co-maintainer.
@
text
@a0 4
2002-02-12  Alexandre Oliva  <aoliva@@redhat.com>

	* MAINTAINERS: Added self as MN10300 co-maintainer.

@


1.419.2.7
log
@bfd:
2002-02-13  Matt Fredette  <fredette@@netbsd.org>

* elf32-m68k.c (elf32_m68k_print_private_bfd_data): Recognize
EF_M68000.

bintuls:
2002-02-13  Matt Fredette  <fredette@@netbsd.org>

* readelf.c (get_machine_flags): Recognize EF_M68000.

gas:
2002-02-13  Matt Fredette  <fredette@@netbsd.org>

* config/tc-m68k.c (md_show_usage): No longer display a
hard-coded "68020" for the default CPU, instead display the
canonical name of the true, configured default CPU.
(m68k_elf_final_processing): Mark objects for sub-68020
CPUs with the new EF_M68000 flag.

include/elf:
2002-02-13  Matt Fredette  <fredette@@netbsd.org>

* m68k.h (EF_M68000): Define.
@
text
@a0 4
2002-02-13  Matt Fredette  <fredette@@netbsd.org>

	* readelf.c (get_machine_flags): Recognize EF_M68000.

@


1.419.2.8
log
@	* NEWS: Mention support for MMIX.
@
text
@a0 4
2002-02-15  Hans-Peter Nilsson  <hp@@bitrange.com>

	* NEWS: Mention support for MMIX.

@


1.419.2.9
log
@2002-03-07  Daniel Jacobowitz  <drow@@mvista.com>

        * NEWS: Mark version 2.12.
@
text
@a0 4
2002-03-07  Daniel Jacobowitz  <drow@@mvista.com>

	* NEWS: Mark version 2.12.

@


1.419.2.10
log
@2002-03-07  Daniel Jacobowitz  <drow@@mvista.com>

        * doc/binutils.texi (Target Selection): Fix LD crossreferences.
        (Architecture Selection): Likewise.
@
text
@a2 5
	* doc/binutils.texi (Target Selection): Fix LD crossreferences.
	(Architecture Selection): Likewise.

2002-03-07  Daniel Jacobowitz  <drow@@mvista.com>

@


1.419.2.11
log
@2002-03-07  Daniel Jacobowitz  <drow@@mvista.com>

        * README: Update some version numbers.
@
text
@a2 4
	* README: Update some version numbers.

2002-03-07  Daniel Jacobowitz  <drow@@mvista.com>

@


1.419.2.12
log
@	* aclocal.m4: Regenerate.
	* configure: Regenerate.
@
text
@a0 5
2002-03-28  Alan Modra  <amodra@@bigpond.net.au>

	* aclocal.m4: Regenerate.
	* configure: Regenerate.

@


1.419.2.13
log
@Merge from mainline.
@
text
@a0 7
2002-04-04  Alan Modra  <amodra@@bigpond.net.au>

	* dep-in.sed: Cope with absolute paths.
	* Makefile.am (dep.sed): Subst TOPDIR.
	Run "make dep-am".
	* Makefile.in: Regenerate.

@


1.419.2.14
log
@	Merge from mainline
	2002-04-25  Elena Zannoni <ezannoni@@redhat.com>
        * readelf.c (get_AT_name): Handle DW_AT_GNU_vector.

	2002-04-16  Nick Clifton  <nickc@@cambridge.redhat.com>
	* readelf.c (fetch_location_list): Remove unused function.
	* readelf.c (process_corefile_note_segment): Catch corrupt notes
	and display a warning message, then exit the loop.

	2002-04-24  Christian Groessler <chris@@groessler.org>
	* MAINTAINERS: Changed my email address.

	2002-04-09  J"orn Rennecke <joern.rennecke@@superh.com>
	* MAINTAINERS: Update my email address.

	2002-03-27  Peter Targett  <peter.targett@@arc.com>
	* MAINTAINERS: Update my email address.

	2002-03-20  Daniel Berlin  <dan@@dberlin.org>
	* readelf.c: Add support for displaying dwarf2 location lists.
	(do_debug_loc, debug_loc_section, debug_loc_size): New.
	(parse_args): Use 'O' as shorthand for displaying location list
	section.
	(process_section_headers): Handle debug_loc as well.
	(load_debug_loc): New.
	(free_debug_loc): New.
	(fetch_location_list): New.
	(display_debug_loc): New.
	(display_debug_info): Call load_debug_loc and free_debug_loc.
	(debug_displays): We can display .debug_loc now, too.
	(usage): Update usage string.
	(read_and_display_attr_value): Note location lists, but don't
	display them inline.

	2002-03-01  Dmitry Timoshkov <dmitry@@baikal.ru>
	* dlltool.c (gen_exp_file): Take into account --kill-at (-k) while
	generating .exp file.

	2002-02-21  Nick Clifton  <nickc@@cambridge.redhat.com>
	* readelf.c (dump_relocations): Fix typo.

	2002-02-18  Timothy Daly  <remote_bob@@yahoo.com>
	* readelf.c (dump_relocations): Display 2nd and 3rd reloc
	types for 64-bit MIPS.  Narrow some fields for 80-char
	output.
	(dump_relocations): Change spelling from 'unrecognised'
	to 'unrecognized'.
	(decode_ARM_machine_flags): Likewise.
	(parse_args): Likewise.
	(read_and_display_attr_value): Likewise.
	(display_debug_section): Likewise.
@
text
@a0 54
2002-04-27  Alan Modra  <amodra@@bigpond.net.au>

	Merge from mainline
	2002-04-25  Elena Zannoni <ezannoni@@redhat.com>
        * readelf.c (get_AT_name): Handle DW_AT_GNU_vector.

	2002-04-16  Nick Clifton  <nickc@@cambridge.redhat.com>
	* readelf.c (fetch_location_list): Remove unused function.
	* readelf.c (process_corefile_note_segment): Catch corrupt notes
	and display a warning message, then exit the loop.

	2002-04-24  Christian Groessler <chris@@groessler.org>
	* MAINTAINERS: Changed my email address.

	2002-04-09  J"orn Rennecke <joern.rennecke@@superh.com>
	* MAINTAINERS: Update my email address.

	2002-03-27  Peter Targett  <peter.targett@@arc.com>
	* MAINTAINERS: Update my email address.

	2002-03-20  Daniel Berlin  <dan@@dberlin.org>
	* readelf.c: Add support for displaying dwarf2 location lists.
	(do_debug_loc, debug_loc_section, debug_loc_size): New.
	(parse_args): Use 'O' as shorthand for displaying location list
	section.
	(process_section_headers): Handle debug_loc as well.
	(load_debug_loc): New.
	(free_debug_loc): New.
	(fetch_location_list): New.
	(display_debug_loc): New.
	(display_debug_info): Call load_debug_loc and free_debug_loc.
	(debug_displays): We can display .debug_loc now, too.
	(usage): Update usage string.
	(read_and_display_attr_value): Note location lists, but don't
	display them inline.

	2002-03-01  Dmitry Timoshkov <dmitry@@baikal.ru>
	* dlltool.c (gen_exp_file): Take into account --kill-at (-k) while
	generating .exp file.

	2002-02-21  Nick Clifton  <nickc@@cambridge.redhat.com>
	* readelf.c (dump_relocations): Fix typo.

	2002-02-18  Timothy Daly  <remote_bob@@yahoo.com>
	* readelf.c (dump_relocations): Display 2nd and 3rd reloc 
	types for 64-bit MIPS.  Narrow some fields for 80-char 
	output.
	(dump_relocations): Change spelling from 'unrecognised' 
	to 'unrecognized'.
	(decode_ARM_machine_flags): Likewise.
	(parse_args): Likewise.
	(read_and_display_attr_value): Likewise.
	(display_debug_section): Likewise.

@


1.419.2.15
log
@Merge from mainline
@
text
@a0 74
2002-05-09  Alan Modra  <amodra@@bigpond.net.au>

	* configure.in: Replace `*pe' with `pe' throughout.
	* configure: Regenerate.

	Merge from mainline
	2002-05-06  Alan Modra  <amodra@@bigpond.net.au>
	* dlltool.c (process_def_file): Add missing prototype.
	(new_directive, assemble_file, main): Likewise.
	(process_def_file, new_directive): Make static.
	(inform): Rewrite using VA_FIXEDARG.
	* dllwrap.c (mybasename): Add missing prototype.
	(strhash, main): Likewise.
	(inform): Rewrite using VA_FIXEDARG.
	(warn): Likewise.
	(cleanup_and_exit): Use old style function definition.
	(strhash): Likewise.
	* windres.c (define_resource): Use one memset to clear all of
	struct res_resource.
	* rcparse.y: Remove newcmd rule.  Move rcparse_discard_strings
	call to rules that need no lookahead.  Check for no lookahead.

	2002-05-06  Borut Razem  <borut.razem@@siol.net>
	* rclex.l (get_string): Correct "strings" list handling.
	* resrc.c (read_rc_file): Discard strings.

	2002-05-04  Bob Byrnes  <byrnes@@curl.com>
	* size.c (display_archive): Add last_arfile and code to close archives.

	2002-05-01  Alan Modra  <amodra@@bigpond.net.au>
	* nm.c (print_symbol): Check returned filename from
	bfd_find_nearest_line is non-NULL.

	2002-04-17  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>
	* arparse.y: Fix syntax warning.

	2002-04-16  Nick Clifton  <nickc@@cambridge.redhat.com>
	* rcparse.y: Set MEMFLAG_DISCARDABLE by default.

	2002-04-15  Nick Clifton  <nickc@@cambridge.redhat.com>
	* resrc.c (write_rc_dialog): If charset is non-default value
	display all of the DIALOGEX parameters.

	2002-04-15  Eric Kohl <ekohl@@rz-online.de>
	* rcparse.y: Allow two to five parameter in FONT statement of 
	DIALOGEX resources.
	* resbin.c (bin_to_res_dialog): Fixed read/write code for dialogex
	resource data.
        (res_to_bin_dialog): Likewise.
	* windres.h: Added misssing charset variable to dialog_ex
	structure.

	2002-04-10  Nick Clifton  <nickc@@cambridge.redhat.com>
	* rcparse.y: Set MEMFLAG_PURE by default.

	2002-04-09  Bernd Herd <info@@herdsoft.com>
	* rcparse.y: CLASS definitions in DIALOG resources 
	are quoted.
	Fix typo in BEDIT warning.
	Don't add default dialog style when explicit style specified.
	Add WS_CAPTION dialog style if CAPTION is specified.
	* rclex.l (handle_quotes): "\xhex" encoding in strings corrected.
	(handle_quotes) "\a" escape (used for right justified key
	definitions in menus) is encodes as binary 8.
	* resrc.c (write_rc_dialog): Print style even if it is 0.
	(write_rc_directory): Fix overlooked sublang shift bug.
	(bin_to_res_dialog): Don't print empty dialog caption.
	* resbin.c (bin_to_res_dialog): Use signature to identify
	DIALOGEX.
	* windres.c (main): Set default LANGUAGE to english/us.

	2002-04-09  Gunnar Degnbol <degnbol@@danbbs.dk>
	* resrc.c: print CLASS names in quotes

@


1.418
log
@Updated Turkish translations
@
text
@d1 4
@


1.417
log
@Run "make dep-am"
@
text
@d1 4
@


1.416
log
@2002-01-29  Daniel Jacobowitz  <drow@@mvista.com>

        * nm.c (print_value): Mark abfd unused.
@
text
@d1 5
@


1.415
log
@2002-01-29  Daniel Jacobowitz  <drow@@mvista.com>

        * unwind-ia64.c (unw_decoder): Change second argument
        to unsigned int, to match function prototypes.
@
text
@d3 4
@


1.414
log
@2002-01-29  Daniel Jacobowitz  <drow@@mvista.com>

        * objdump.c: Include "getopt.h" after "bucomm.h" so that
        __GNU_LIBRARY__ will be defined.
        * size.c: Likewise.
@
text
@d3 5
@


1.413
log
@2002-01-27  Daniel Jacobowitz  <drow@@mvista.com>

        From Steve Ellcey <sje@@cup.hp.com>:
        * libtool.m4 (HPUX_IA64_MODE): Set to 32 or 64 based on ABI.
        (lt_cv_deplibs_check_method, lt_cv_file_magic_cmd,
        lt_cv_file_magic_test_file): Set to appropriate values for HP-UX
        IA64.
        * ltcf-c.sh (archive_cmds, hardcode_*): Ditto.
        * ltconfig (shlibpath_*, dynamic_linker, library_names_spec,
        soname_spec, sys_lib_search_path_spec): Ditto.


Various configure scripts regenerated.
@
text
@d1 6
@


1.412
log
@	* doc/Makefile.am (install): Depend on install-info.
	* doc/Makefile.in: Regenerate.
@
text
@d1 4
@


1.411
log
@Add --totals option to size
@
text
@d1 5
@


1.410
log
@Fix date in previous delta
@
text
@d1 17
@


1.409
log
@Updated Spanish translation
@
text
@d1 1
a1 1
2002-01-17  Nick Clifton  <nickc@@cambridge.redhat.com>
@


1.408
log
@Update French translation
@
text
@d3 2
a4 1
	* po/fr.po: New version.
@


1.407
log
@Missing ChangeLog entries for 2002-01-22 Makefile updates
@
text
@d1 4
@


1.406
log
@Tidy up formatting of --help output.
@
text
@d37 5
@


1.405
log
@gas:
2002-01-18  Andreas Jaeger  <aj@@suse.de>

	* as.c (parse_args): Update year.

binutils:
2002-01-18  Andreas Jaeger  <aj@@suse.de>

	* version.c (print_version): Update year.

ld:
2002-01-18  Andreas Jaeger  <aj@@suse.de>

	* ldver.c (ldversion): Update year.
@
text
@d1 36
@


1.404
log
@	* readelf.c (get_machine_name): Handle EM_PPC64.
	(guess_is_rela): Here too.
@
text
@d1 4
d71 1
a71 1
	
@


1.403
log
@fixed braino in changelog entry for replacement of "switches" with "options"
@
text
@d1 5
@


1.402
log
@Regenerate .pot and .po files
@
text
@d18 4
a21 4
	* objcopy.c (copy_usage): Use "switches" instead of "options".
        (strip_usage): Use "switches" instead of "options".
	* doc/binutils.texi (dlltool):  Refer to "switches" instead of
        "options".
@


1.401
log
@Import new Turkish translations.
@
text
@d1 6
@


1.400
log
@	* readelf.c (get_ppc64_dynamic_type): New.
	(get_dynamic_type): Call it.
@
text
@d1 4
@


1.399
log
@Refer to "options" not "switches"
@
text
@d1 5
@


1.398
log
@* MAINTAINERS: Add self as co-maintainer for the ARM code.
@
text
@d1 7
@


1.397
log
@Add Spanish Translation
@
text
@d1 4
@


1.396
log
@include/elf:
* common.h: Update copyright years.
(NT_NETBSDCORE_PROCINFO): Define.
(NT_NETBSDCORE_FIRSTMACH): Define.

bfd:
* elf.c: Update copyright years.
(elfcore_grok_netbsd_note): Use NT_NETBSDCORE_PROCINFO
and NT_NETBSDCORE_FIRSTMACH.  Improve a comment.

bintuils:
* readelf.c (get_netbsd_elfcore_note_type): Use
NT_NETBSDCORE_PROCINFO and NT_NETBSDCORE_FIRSTMACH.
@
text
@d1 6
@


1.395
log
@* readelf.c: Update copyright years.
(get_note_type): Return a const char *.
(get_netbsd_elfcore_note_type): New function.
(process_note): Use get_netbsd_elfcore_note_type to get
the note type string for NetBSD ELF core files.
@
text
@d3 5
@


1.394
log
@	* readelf.c (get_ia64_segment_type): Add support for macros.
	(get_segment_type): Add support for IA64 specific macros.
@
text
@d1 8
@


1.393
log
@When --wide is used, do not truncate symbol names.
@
text
@d1 5
@


1.392
log
@2001-12-18  Michael Snyder  <msnyder@@redhat.com>

        * objcopy.c (copy_file): Accept corefiles (format bfd_core).
        (copy_object): Don't set the start address or flags of a core file.
        (copy_section): Don't relocate a core file.  Don't copy contents
        if the input section has the contents flag set, but the output
        section does not (which happens with the fake 'note' pseudo-
        sections that BFD creates for corefiles).
@
text
@d1 12
@


1.391
log
@	* readelf.c (get_machine_flags): Recognize header flags for ABI and
	ASE extensions. More robust code for ISA checking. Ignore empty fields
	in header flags for GNU extensions.
@
text
@d1 9
@


1.390
log
@	* objcopy.c (copy_archive): Set output bfd format outside the loop.
@
text
@d1 6
@


1.389
log
@Import japanese translation from translation project.
@
text
@d1 4
@


1.388
log
@	* addr2line.c (main): Protoype.
	* ar.c (main): Protoype.
	* nm.c (main): Protoype.
	* objcopy.c (main): Protoype.
	* objdump.c (main): Protoype.
	* size.c (main): Protoype.
	* strings.c (main): Protoype.
	* gasp.c (main): Protoype.
@
text
@d1 6
@


1.387
log
@	Support for more than 64k ELF sections.
include/elf/ChangeLog
	* external.h (Elf_External_Sym_Shndx): Declare.
	* internal.h (struct elf_internal_sym <st_shndx>): Make it an
	unsigned int.
	* common.h (SHN_BAD): Define.

bfd/ChangeLog
	* configure.in: Bump bfd version.
	* configure: Regenerate.
	* elf-bfd.h (elf_size_info <swap_symbol_out>): Add shndx param.
	(bfd_elf32_swap_symbol_in): Likewise.
	(bfd_elf32_swap_symbol_out): Likewise.
	(bfd_elf64_swap_symbol_in): Likewise.
	(bfd_elf64_swap_symbol_out): Likewise.
	(elf_reloc_cookie): Add locsym_shndx field.  Make locsyms a PTR.
	(elf_obj_tdata): Add num_elf_sections, symtab_shndx_hdr and
	symtab_shndx_section.
	(elf_numsections): Define.
	(elf_symtab_shndx): Define.
	* elf.c (setup_group): Use elf_numsections rather than header e_shnum.
	(bfd_elf_find_section): Likewise.
	(bfd_section_from_elf_index): Likewise.
	(bfd_section_from_shdr): Likewise.  Handle SHT_SYMTAB_SHNDX.
	(bfd_section_from_r_symndx): Read symbol shndx extension, and
	translate st_shndx for > SHN_HIRESERVE.
	(assign_section_numbers): Skip reserved sections.  Assign
	symtab_shndx_section and elf_numsections.  Exclude reserved
	sections from e_shnum.  Set up symtab_shndx_hdr.
	(_bfd_elf_compute_section_file_positions): Handle symtab_shndx_hdr.
	(map_sections_to_segments): Don't map eh_frame_hdr unless required.
	(assign_file_positions_except_relocs): Use elf_numsections rather
	than header e_shnum.  Skip reserved sections and symtab_shndx_section.
	(prep_headers): Set name for symtab_shndx_hdr.
	(_bfd_elf_assign_file_positions_for_relocs): Use elf_numsections.
	(_bfd_elf_write_object_contents): Likewise.  Skip reserved sections.
	(_bfd_elf_section_from_bfd_section): Check bfd_{abs,com,und}_section
	first.  Use elf_section_data if available.  Use elf_numsections.
	Start scan at index 1.
	(copy_private_bfd_data ): Comment fixes.
	(MAP_ONESYMTAB): Define above SHN_HIOS.
	(MAP_DYNSYMTAB): Likewise.
	(MAP_STRTAB): Likewise.
	(MAP_SHSTRTAB): Likewise.
	(MAP_SYM_SHNDX): New define.
	(_bfd_elf_copy_private_symbol_data): Handle symtab_shndx_section.
	(swap_out_syms): Swap out SHT_SYMTAB_SHNDX section too.
	* elfcode.h (elf_swap_symbol_in): Add shndx param, and handle shndx
	extension.
	(elf_swap_symbol_out): Likewise.
	(elf_object_p): Set elf_numsections, and use instead of e_shnum.
	Initialialise reserved elf_elfsections to point at shdr[0].  Remove
	redundant bfd_release calls.
	(elf_slurp_symbol_table): Read symbol shndx extension, and use with
	elf_swap_symbol_in.  Translate st_shndx for > SHN_HIRESERVE too.
	* elflink.h (elf_link_is_defined_archive_symbol): Read symbol shndx
	extension, and use with elf_swap_symbol_in.
	(elf_link_record_local_dynamic_symbol): Likewise.
	(elf_link_add_object_symbols): Likewise.  Also translate st_shndx
	for elf sections > SHN_HIRESERVE.
	(NAME(bfd_elf,size_dynamic_sections)): Adjust elf_swap_symbol_out
	call.
	(struct elf_final_link_info): Add locsym_shndx and symshndxbuf.
	(elf_bfd_final_link): Allocate the above, and tidy code allocating
	other buffers.  Use elf_numsections instead of e_shnum.  Adjust
	elf_swap_symbol_out calls.
	(elf_link_output_sym): Swap out symbol shndx extension too.
	(elf_link_flush_output_syms): And flush them to disk.
	(elf_link_output_extsym): Use SHN_BAD.  Adjust elf_swap_symbol_out
	calls.
	(elf_gc_mark): Read symbol shndx extension, and use with
	elf_swap_symbol_in.
	(elf_link_input_bfd): Likewise,  Translate st_shndx for elf sections
	> SHN_HIRESERVE too.  Use SHN_BAD.
	(elf_reloc_symbol_deleted_p): Use symbol shndx extensions with
	elf_swap_symbol_in.  Translate st_shndx > SHN_HIRESERVE too.
	(elf_bfd_discard_info): Read symbol shndx extension.  Don't attempt
	to continue after a bfd error.
	* elf-m10200.c (mn10200_elf_relax_section): Only read local syms.
	Stash them immediately to symtab_hdr->contents rather than later
	in multiple places.  Clean up afterwards.  Read symbol shndx
	extension, and use with swap_symbol_in.  Translate SHN_UNDEF,
	SHN_ABS, SHN_COMMON and elf sections > SHN_HIRESERVE to bfd
	sections too.  Remove dead code.
	(mn10200_elf_relax_delete_bytes): Use symbol shndx extension
	when swapping in symbols.  Tidy code adjusting global syms.
	Don't swap in global syms.
	(mn10200_elf_symbol_address_p): Likewise.  Remove extsyms param.
	(mn10200_elf_get_relocated_section_contents): Read symbol shndx
	extension, and use with swap_symbol_in.  Rename "size" -> "amt"
	to maximize code in common with other files.  Translate st_shndx
	for > SHN_HIRESERVE too.  Remove dead code.
	* elf-m10300.c (mn10300_elf_relax_section): Only read local syms.
	Stash them immediately to symtab_hdr->contents rather than later
	in multiple places.  Clean up afterwards.  Read symbol shndx
	extension, and use with swap_symbol_in.  Remove dead code.
	(mn10300_elf_relax_delete_bytes): As for elf-m10200.c.
	(mn10300_elf_symbol_address_p): Likewise.
	(mn10300_elf_get_relocated_section_contents): Likewise.
	* elf32-h8300.c (elf32_h8_relax_section): As for elf-m10300.c.
	(elf32_h8_relax_delete_bytes): Likewise.
	(elf32_h8_symbol_address_p): Likewise.
	(elf32_h8_get_relocated_section_contents): Likewise.
	* elf32-hppa.c (elf32_hppa_size_stubs): Read symbol shndx
	extension, and use with swap_symbol_in.
	* elf64-hppa.c (elf64_hppa_check_relocs): Likewise.
	* elf32-i370.c (i370_elf_finish_dynamic_sections): Adjust call to
	bfd_elf32_swap_symbol_out.
	* elf32-m32r.c (m32r_elf_get_relocated_section_contents): Translate
	elf sections > SHN_HIRESERVE too.
	* elf32-m68k.c (bfd_m68k_elf32_create_embedded_relocs): Only read
	local syms.  Read symbol shndx extension, and use with swap_symbol_in.
	* elf32-mips.c (_bfd_mips_elf_final_write_processing): Use
	elf_numsections rather than header e_shnum.
	* elf32-sh.c (sh_elf_relax_section): As for elf-m10300.c.
	(sh_elf_relax_delete_bytes): Likewise.
	(sh_elf_get_relocated_section_contents): Likewise.  Only read local
	symbols.
	* elf32-v850.c (v850_elf_symbol_processing): Use an unsigned int to
	hold section index.  Use elf_numsections rather than e_shnum.
	Rename "index" -> "indx" to avoid shadowing warning.
	(v850_elf_add_symbol_hook): Likewise.
	* elf64-alpha.c (elf64_alpha_relax_section): Only read local syms.
	Read symbol shndx extension, and use with swap_symbol_in.
	* elf32-xstormy16.c (xstormy16_elf_relax_section): Likewise.
	Translate SHN_COMMON and elf sections > SHN_HIRESERVE too.
	* elfxx-ia64.c (elfNN_ia64_relax_section): Likewise.
	(elfNN_ia64_aix_add_symbol_hook): Use elf_numsections.

	* elf-m10300.c (mn10300_elf_gc_mark_hook): Remove unnecessary checks
	before calling bfd_section_from_elf_index on local syms.
	* elf32-arm.h (elf32_arm_gc_mark_hook): Likewise.
	* elf32-avr.c (elf32_avr_gc_mark_hook): Likewise.
	* elf32-cris.c (cris_elf_gc_mark_hook): Likewise.
	* elf32-d10v.c (elf32_d10v_gc_mark_hook): Likewise.
	* elf32-fr30.c (fr30_elf_gc_mark_hook): Likewise.
	* elf32-hppa.c (elf32_hppa_gc_mark_hook): Likewise.
	* elf32-i386.c (elf_i386_gc_mark_hook): Likewise.
	* elf32-m32r.c (m32r_elf_gc_mark_hook): Likewise.
	* elf32-m68k.c (elf_m68k_gc_mark_hook): Likewise.
	* elf32-mcore.c (mcore_elf_gc_mark_hook): Likewise.
	* elf32-mips.c (_bfd_mips_elf_gc_mark_hook): Likewise.
	* elf32-openrisc.c (openrisc_elf_gc_mark_hook): Likewise.
	* elf32-ppc.c (ppc_elf_gc_mark_hook): Likewise.
	* elf32-s390.c (elf_s390_gc_mark_hook): Likewise.
	* elf32-sh.c (sh_elf_gc_mark_hook): Likewise.
	* elf32-sparc.c (elf32_sparc_gc_mark_hook): Likewise.
	* elf32-v850.c (v850_elf_gc_mark_hook): Likewise.
	* elf32-xstormy16.c (xstormy16_elf_gc_mark_hook): Likewise.
	* elf64-mips.c (mips_elf64_gc_mark_hook): Likewise.
	* elf64-mmix.c (mmix_elf_gc_mark_hook): Likewise.
	* elf64-ppc.c (ppc64_elf_gc_mark_hook): Likewise.
	* elf64-s390.c (elf_s390_gc_mark_hook): Likewise.
	* elf64-x86-64.c (elf64_x86_64_gc_mark_hook): Likewise.

binutils/ChangeLog
	* readelf.c (symtab_shndx_hdr): New global.
	(SECTION_HEADER_INDEX): Define.
	(SECTION_HEADER_NUM): Define.
	(SECTION_HEADER): Define.
	(GET_ELF_SYMBOLS): Pass two params rather than three.
	(get_32bit_elf_symbols): Take file and section args.  Read and
	use SHT_SYMTAB_SHNDX.
	(get_64bit_elf_symbols): Likewise.
	(dump_relocations): Use SECTION_HEADER to index "section_headers".
	(process_section_headers): Likewise.  Use SECTION_HEADER_NUM too.
	Remember symtab_shdx_hdr.
	(process_program_headers): Scan from index 1 for segment map.
	(slurp_ia64_unwind_table): Use SECTION_HEADER to index
	"section_headers".
	(process_relocs): Likewise.  Also adjust call to GET_ELF_SYMBOLS.
	(process_unwind): Likewise.
	(process_version_sections): Likewise.
	(process_symbol_table): Likewise.
	(display_debug_info): Likewise.
	(process_dynamic_segment): Fake up a symtab section for changed
	GET_ELF_SYMBOLS.
	(get_symbol_index_type): Check SHN_LOOS before SHN_LORESERVE.
	(process_program_headers): Kill signed/unsigned warning.
	(load_debug_str): Likewise.
	(display_debug_info): Likewise.
@
text
@d1 10
@


1.386
log
@	* elf-bfd.h (enum elf_link_info_type): New.
	(struct bfd_elf_section_data): Remove stab_info and merge_info
	fields, add sec_info and sec_info_type.
	(struct elf_obj_tdata): Add eh_frame_hdr field.
	(_bfd_elf_discard_section_eh_frame): New prototype.
	(_bfd_elf_discard_section_eh_frame_hdr): Likewise.
	(_bfd_elf_eh_frame_section_offset): Likewise.
	(_bfd_elf_write_section_eh_frame): Likewise.
	(_bfd_elf_write_section_eh_frame_hdr): Likewise.
	* Makefile.am (BFD32_BACKENDS): Add elf-eh-frame.lo.
	(BFD32_BACKENDS_CFILES): Add elf-eh-frame.c.
	(elf-eh-frame.lo): New.
	* Makefile.in: Rebuilt.
	* configure.in (elf): Add elf-eh-frame.lo.
	* configure: Rebuilt.
	* elf.c (_bfd_elf_print_private_bfd_data): Support PT_GNU_EH_FRAME.
	(map_sections_to_segments): Create PT_GNU_EH_FRAME if requested.
	(get_program_header_size): Take into account PT_GNU_EH_FRAME
	segment.
	(_bfd_elf_rela_local_sym): Use sec_info_type and sec_info.
	(_bfd_elf_rel_local_sym): Likewise.
	(_bfd_elf_section_offset): Likewise.  Call
	_bfd_elf_eh_frame_section_offset too.
	* elfxx-ia64.c (elfNN_ia64_relocate_section): Use sec_info_type and
	sec_info.
	* elf64-alpha.c (elf64_alpha_relocate_section): Likewise.
	* elf-eh-frame.c: New file.
	* elflink.h (elf_link_add_object_symbols): Don't optimize SHF_MERGE
	.stab sections.  Set sec_info_type, use sec_info instead
	of merge_info and stab_info.
	(elf_link_create_dynamic_sections): Create .eh_frame_hdr section
	if --eh-frame-hdr.
	(elf_bfd_final_link): Write .eh_frame_hdr section.
	(elf_link_sec_merge_syms): Use sec_info_type and sec_info.
	(elf_link_input_bfd): Likewise.
	Call _bfd_elf_write_section_eh_frame to write .eh_frame sections.
	(elf_bfd_discard_info): Add output_bfd argument.
	Call _bfd_elf_discard_section_eh_frame and
	_bfd_elf_discard_section_eh_frame_hdr.
	(elf_section_ignore_discarded_relocs): Use sec_info_type, not section
	names.
	* bfd-in.h (bfd_elf32_discard_info, bfd_elf64_discard_info): Adjust
	prototypes.
	* bfd-in2.h (bfd_elf32_discard_info, bfd_elf64_discard_info): Likewise.

	* elf/common.h (PT_GNU_EH_FRAME): Define.
	* bfdlink.h (struct bfd_link_info): Add eh_frame_hdr field.

	* emultempl/elf32.em (finish): Supply output_bfd
	to bfd_elf*_discard_info.
	(OPTION_EH_FRAME_HDR): Define.
	(longopts): Add --eh-frame-hdr.
	(parse_args): Handle it.
	(list_options): Add --eh-frame-hdr to help.
	* emultempl/hppaelf.em (finish): Supply output_bfd
	to bfd_elf*_discard_info.
	* scripttempl/elf.sc (.eh_frame_hdr): Add.

	* readelf.c (get_segment_type): Support PT_GNU_EH_FRAME.
@
text
@d1 28
@


1.385
log
@	* readelf.c (process_file_header): Print extended e_shnum and
	e_shdtrndx values.  Set elf_header values for same.
	(get_32bit_section_headers): Add "num" arg to read "num" headers.
	(get_64bit_section_headers): Likewise.
	(process_section_headers): Update calls.
	(get_file_header): Call get_32bit_section_headers or 64bit variant.
@
text
@d1 4
@


1.384
log
@	* objcopy.c (setup_section): Copy entsize.
@
text
@d1 9
@


1.383
log
@Index: bfd/ChangeLog
2001-12-07  Geoffrey Keating  <geoffk@@redhat.com>
	    Richard Henderson  <rth@@redhat.com>
	    Corinna Vinschen  <vinschen@@redhat.com>

	* Makefile.am: Add support for xstormy16.
	* archures.c: Add support for xstormy16.
	* config.bfd: Add support for xstormy16.
	* configure.in: Add support for xstormy16.
	* reloc.c: Add support for xstormy16.
	* targets.c: Add support for xstormy16.
	* cpu-xstormy16.c: New file.
	* elf32-xstormy16.c: New file.
	* Makefile.in: Regenerated.
	* bfd-in2.h: Regenerated.
	* configure: Regenerated.
	* libbfd.h: Regenerated.

Index: binutils/ChangeLog
2001-12-07  Geoffrey Keating  <geoffk@@redhat.com>

	* readelf.c (guess_is_rela): Add support for stormy16.
	(dump_relocations): Likewise.
	(get_machine_name): Likewise.

Index: gas/ChangeLog
2001-12-07  Geoffrey Keating  <geoffk@@redhat.com>
	    Richard Henderson  <rth@@redhat.com>

	* configure.in: Add support for xstormy16.
	* configure: Regenerated.
	* Makefile.am: Add support for xstormy16.
	* Makefile.in: Regenerated.
	* config/tc-xstormy16.c: New file.
	* config/tc-xstormy16.h: New file.

Index: gas/testsuite/ChangeLog
2001-12-07  Geoffrey Keating  <geoffk@@redhat.com>
	    matthew green  <mrg@@redhat.com>

	* gas/xstormy16/allinsn.d: New file.
	* gas/xstormy16/allinsn.exp: New file.
	* gas/xstormy16/allinsn.s: New file.
	* gas/xstormy16/allinsn.sh: New file.
	* gas/xstormy16/gcc.d: New file.
	* gas/xstormy16/gcc.s: New file.
	* gas/xstormy16/gcc.sh: New file.
	* gas/xstormy16/reloc-1.d: New file.
	* gas/xstormy16/reloc-1.s: New file.
	* gas/xstormy16/reloc-2.d: New file.
	* gas/xstormy16/reloc-2.s: New file.

Index: ld/ChangeLog
2001-12-07  Geoffrey Keating  <geoffk@@redhat.com>
	    Richard Henderson  <rth@@redhat.com>

	* Makefile.am: Add support for xstormy16.
	* configure.tgt: Add support for xstormy16.
	* Makefile.in: Regenerate.
	* emulparams/elf32xstormy16.sh: New file.
	* scripttempl/xstormy16.sc: New file.

Index: opcodes/ChangeLog
2001-12-07  Geoffrey Keating  <geoffk@@redhat.com>

	* Makefile.am: Add support for xstormy16.
	* Makefile.in: Regenerate.
	* configure.in: Add support for xstormy16.
	* configure: Regenerate.
	* disassemble.c: Add support for xstormy16.
	* xstormy16-asm.c: New generated file.
	* xstormy16-desc.c: New generated file.
	* xstormy16-desc.h: New generated file.
	* xstormy16-dis.c: New generated file.
	* xstormy16-ibld.c: New generated file.
	* xstormy16-opc.c: New generated file.
	* xstormy16-opc.h: New generated file.

Index: include/ChangeLog
2001-12-07  Geoffrey Keating  <geoffk@@redhat.com>

	* dis-asm.h (print_insn_xstormy16): Declare.

Index: include/elf/ChangeLog
2001-12-07  Geoffrey Keating  <geoffk@@redhat.com>
	    Richard Henderson  <rth@@redhat.com>

	* common.h (EM_XSTORMY16): Define.
	* xstormy16.h: New file.
@
text
@d1 4
@


1.382
log
@Fixes to improve the ability to translate messages in the binutils tools
@
text
@d1 6
@


1.381
log
@	* config.bfd: Remove trailing blanks.
	* elf32-mips.c (gprel16_with_gp): Remove superfluous casts.
	* strings.c (get_char): Initialize value.
	* config/tc-mips.c (mips_cpreturn_offset): Better comment.
	(load_register): Better error message. Cast away signedness
	mismatches. Add casts needed for varargs.
	(load_address): Replace checks of HAVE_64BIT_ADDRESS with dbl.
	Remove superfluous casts.
	(macro): Cast away signedness mismatches. Remove superfluous casts.
	(s_cpload): Fix wrong comment.
	(s_mips_weakext): Standardize output message.
	(get_number): Likewise.
@
text
@d1 9
@


1.380
log
@	* arlex.l: Silence compile warnings.
	* arsup.h: Likewise. Fix formatting.
@
text
@d3 4
@


1.379
log
@	* strings.c: Include config.h before bfd.h.
	(file_off): New type.
	(file_open): Define.
	(print_strings): Use file_off instead of file_ptr.  Print addresses
	which don't fit into long correctly.
	(get_char): Use file_off instead of file_ptr.  Use getc_unlocked if
	available.
	(strings_file): Use file_off instead of file_ptr.  Use file_open.
	* configure.in: Check for getc_unlocked.
	Check for fopen64 and whether _LARGEFILE64_SOURCE needs to
	be defined for it.
	* configure: Rebuilt.
	* config.h.in: Rebuilt.
@
text
@d1 5
@


1.378
log
@2001-11-29  H.J. Lu <hjl@@gnu.org>

	* bucomm.c (make_tempname): Revert the changes made on
	2001-11-14 and 2001-11-12. They won't work with directories.
@
text
@d1 16
@


1.377
log
@Pass CC_FOR_TARGET and CFLAGS_FOR_TARGET to runtest in environment.
@
text
@d1 5
@


1.376
log
@	* objcopy.c (setup_section): Preserve SEC_RELOC when
	--set-section-flags is used.
@
text
@d1 7
@


1.375
log
@Add -ws switch to display contents of .debug_str sections
@
text
@d1 5
@


1.374
log
@
	* testsuite/binutils-all/objdump.exp: Add x86-64.
@
text
@d1 21
@


1.373
log
@	* readelf.c: Fix warnings without terminating newline.
@
text
@d1 4
d150 1
a150 1
	
@


1.372
log
@binutils/ChangeLog
	* doc/binutils.texi (objdump): Document ppc -M options.
gas/ChangeLog
	* config/tc-ppc.c (ppc_insert_operand): Pass (ppc_cpu | ppc_size)
	to operand->insert.
	(md_assemble): Likewise.
gas/testsuite/ChangeLog
	* gas/ppc/booke.d: Modify reloc and target matches for powerpc64.
include/opcode/ChangeLog
	* ppc.h (struct powerpc_operand <insert, extract>): Add dialect param.
opcodes/ChangeLog
	* ppc-opc.c (PPC64): Revert 2001-10-12. Do include PPC_OPCODE_PPC.
	(insert_bat, extract_bat, insert_bba, extract_bba,
	insert_bd, extract_bd, insert_bdm, extract_bdm,
	insert_bdp, extract_bdp, valid_bo,
	insert_bo, extract_bo, insert_boe, extract_boe,
	insert_ds, extract_ds, insert_de, extract_de,
	insert_des, extract_des, insert_li, extract_li,
	insert_mbe, extract_mbe, insert_mb6, extract_mb6,
	insert_nb, extract_nb, insert_nsi, extract_nsi,
	insert_ral, insert_ram, insert_ras,
	insert_rbs, extract_rbs, insert_sh6, extract_sh6,
	insert_spr, extract_spr, insert_tbr, extract_tbr): Add dialect param.
	(extract_bd, extract_bdm, extract_bdp,
	extract_ds, extract_des,
	extract_li, extract_nsi): Implement sign extension without conditional.
	(insert_bdm, extract_bdm,
	insert_bdp, extract_bdp, valid_bo): Handle 64 bit branch hints.
	(extract_bdm, extract_bdp): Correct 32 bit validation.
	(AT1_MASK, AT2_MASK): Define.
	(BBOAT_MASK): Define.
	(BBOATCB_MASK, BBOAT2CB_MASK, BBOATBI_MASK): Define.
	(BOFM64, BOFP64, BOTM64, BOTP64): Define.
	(BODNZM64, BODNZP64, BODZM64, BODZP64): Define.
	(PPCCOM32, PPCCOM64): Define.
	(powerpc_opcodes): Modify existing 32 bit insns with branch hints
	and add new patterns to implement 64 bit branches with hints.  Move
	booke instructions so they match before ppc64.
	* ppc-dis.c (powerpc_dialect): Set PPC_OPCODE_64 in dialect for
	64 bit default targets, and parse "32" and "64" in options.
	Formatting fixes.
	(print_insn_powerpc): Pass dialect to operand->extract.
@
text
@d1 4
@


1.371
log
@	* doc/binutils.texi (objdump): Fix description to use x86-64.
@
text
@d1 4
@


1.370
log
@Replace use of mkstemp with mkstemps, provided by libiberty.
@
text
@d1 4
@


1.369
log
@binutils/ChangeLog
	* doc/binutils.texi (objdump): Document x86 -M options.
include/ChangeLog
 	* dis-asm.h (print_insn_i386): Declare.
opcodes/ChangeLog
	* disassemble.c (disassembler): Call print_insn_i386.
	* i386-dis.c (SUFFIX_ALWAYS): Define.
	(struct dis_private): Add orig_sizeflag.
	(print_insn_i386): Make it a wrapper, calling..
	(print_insn): ..The old body of print_insn_i386.  Avoid longjmp
	warning without using volatile by moving orig_sizeflag to priv,
	and removing inbuf.  Parse disassembler_options.
	(print_insn_i386_att, print_insn_i386_intel): Move initialisation
	code to print_insn.
	(putop): Remove #ifdef SUFFIX_ALWAYS.
@
text
@d1 5
@


1.368
log
@        * readelf.c (read_and_display_attr_value): New function to
        handle DW_FORM_indirect.
        (read_and_display_attr): Use it.
@
text
@d1 4
@


1.367
log
@Index: bfd/ChangeLog
2001-11-11  Geoffrey Keating  <geoffk@@redhat.com>

	* dwarf2.c (decode_line_info): Properly deal with unknown standard
	opcodes.

Index: binutils/ChangeLog
2001-11-11  Geoffrey Keating  <geoffk@@redhat.com>

	* readelf.c (display_debug_lines): Deal with unknown standard
	opcodes.  Handle DW_LNS_set_prologue_end, DW_LNS_set_epilogue_begin,
	DW_LNS_set_isa.

Index: include/elf/ChangeLog
2001-11-11  Geoffrey Keating  <geoffk@@redhat.com>

	* dwarf2.h (dwarf_line_number_ops): Add DWARF 3 opcodes.
@
text
@d1 6
@


1.366
log
@Fix tic54x testsuite failures and Lmem disassembly bugs.
@
text
@d1 6
d8 1
d13 1
a13 1
	
@


1.365
log
@Use mkstemp in place of mktemp.
@
text
@d1 4
d6 1
a6 1

d930 1
a930 1
	* MAINTAINERS: Add Jrn Rennecke and self as SH maintainers.
@


1.364
log
@        * unwind-ia64.c (unw_print_brmask): Fix ISO C portability glitch.
        (unw_print_grmask, unw_print_frmask, unw_print_abreg): Likewise.
        (unw_print_xyreg, unw_decode_x1, unw_decode_x2): Likewise.
        (unw_decode_x3, unw_decode_r1, unw_decode_r2): Likewise.
        (unw_decode_r3, unw_decode_p1, unw_decode_p2_p5): Likewise.
        (unw_decode_p6, unw_decode_p7_p10, unw_decode_b1): Likewise.
        (unw_decode_b2, unw_decode_b3_b4): Likewise.
@
text
@d1 5
a5 1
Fri Nov  9 17:55:39 2001  Jeffrey A Law  (law@@cygnus.com)
d68 1
a68 1
Thu Oct 11 21:45:17 2001  J"orn Rennecke <amylaar@@onetel.net.uk>
d240 1
a240 1
Wed Sep 12 20:07:16 2001  Alexandre Oliva  <aoliva@@redhat.com>
d247 1
a247 1
Tue Sep  4 20:26:08 2001  Jeffrey A Law  (law@@cygnus.com)
d889 1
a889 1
Mon Dec 11 14:30:21 MET 2000  Jan Hubicka  <jh@@suse.cz>
d1422 1
a1422 1
Sun Apr 23 14:23:26 2000  Denis Chertykov  <denisc@@overta.ru>
d1427 2
a1428 2
Fri Apr 21 13:20:53 2000  Richard Henderson  <rth@@cygnus.com>
			  David Mosberger  <davidm@@hpl.hp.com>
d1453 1
a1453 1
Fri Apr  7 15:56:57 2000  Andrew Cagney  <cagney@@b1.cygnus.com>
@


1.363
log
@
        * readelf.c (get_elf_class): Fix ISO portability glitch.
        (get_data_encoding, get_osabi_name, request_dump): Likewise.
@
text
@d3 8
@


1.362
log
@	* readelf.c (debug_str, debug_str_size): New.
	(display_debug_abbrev): If no abbrevs were read, skip the CU.
	Call free_abbrevs.
	(read_and_display_addr): Handle DW_FORM_strp.
	(display_debug_info): Read .debug_str section if present,
	so that DW_FORM_strp can be handled.
	Fix test for non-existant .debug_abbrev section.
@
text
@d1 5
@


1.361
log
@	* arlex.l: Accept `\' in filenames.  Patch by <earl_chew@@agilent.com>.

	* arsup.c (ar_open): Prepend tmp- to basename, not whole path.
@
text
@d1 10
@


1.360
log
@Add self as s390/s390x maintainer.
@
text
@d1 6
@


1.359
log
@Add myself as the ppc xcoff maintainer
@
text
@d1 4
@


1.358
log
@Add translations
@
text
@d1 4
@


1.357
log
@	* MAINTAINERS: Add self as MMIX port maintainer.
@
text
@d1 7
@


1.356
log
@Add MMIX support
@
text
@d3 1
@


1.355
log
@support multiple options to the -w switch
@
text
@d1 8
@


1.354
log
@	* readelf.c (get_section_type_name): Don't print SHT_ prefix for
	LOPROC, LOOS and LOUSER.
@
text
@d1 5
@


1.353
log
@	* MAINTAINERS: Update my email address.
@
text
@d1 5
@


1.352
log
@Regenerate configure to include the gettext.m4 change.  Update
opcodes/po/POTFILES.in
@
text
@d1 4
@


1.351
log
@Add more detection of 64-bit DWARF sections
@
text
@d1 5
@


1.350
log
@	* coffdump.c (PROGRAM_VERSION): Delete.
	(main <'V'>): Call print_version.
	* srconv.c: Likewise.
	* sysdump.c: Likewise.
	* version.c (program_version): Remove.
	(print_version): Use BFD_VERSION_STRING.  Just print the current
	year in copyright message.
	* addr2line.c (program_version): Remove unused declaration.
	* objdump.c (display_target_tables): Use BFD_VERSION_STRING in
	place of BFD_VERSION.
	* Makefile.am (Makefile): Depend on bfd/configure.in
	(cplus-dem.o): Depend on Makefile.
	Run "make dep-am"
	* Makefile.in: Regenerate.
@
text
@d1 9
@


1.349
log
@Detect and warn about DWARF64 format .debug_arange sections
@
text
@d1 17
@


1.348
log
@	* Makefile.am: Update dependencies with "make dep-am".
	* Makefile.in: Regenerate.
@
text
@d1 6
@


1.347
log
@        * objdump.c (dump_section_header): Dump SEC_ARCH_BIT_0.
@
text
@d1 5
@


1.346
log
@	* bucomm.c (fatal): Define using VPARAMS, VA_OPEN, VA_FIXEDARG,
	VA_CLOSE.
	(non_fatal): Likewise.
	* objdump.c (objdump_sprintf): Likewise.
	* readelf.c (error): Likewise.
	(warn): Likewise.
@
text
@d1 4
@


1.345
log
@	* readelf.c (do_wide): New.
	(options): Add --wide.
	(usage, parse_args): Likewise.
	(process_program_headers): Put each segment on a single line if
	--wide is given.
	(process_section_headers): Put each section on a single line if
	--wide is given.
	* doc/binutils.texi: Document it.
	* NEWS: Likewise.
@
text
@d1 9
@


1.344
log
@	* readelf.c (print_vma): Print 8 digits of low hex value.
@
text
@d1 12
@


1.343
log
@	* nlmconv.c: Fix warnings about unused attributes and function
	prototypes.

	* strings.c: Add prototype for get_char.
@
text
@d1 4
@


1.342
log
@2000-09-19  H.J. Lu  <hjl@@gnu.org>

	* doc/Makefile.am ($(DEMANGLER_NAME).1): Try cxxfilt.man and
	$(srcdir)/cxxfilt.man.
	* doc/Makefile.in: Rebuild.
@
text
@d1 7
@


1.341
log
@	* objcopy.c (copy_main): Correct rename-section string parsing.
	Consolidate new_name parsing, and error messages.
@
text
@d1 6
@


1.340
log
@Locale changes from Bruno Haible  <haible@@clisp.cons.org>.
@
text
@d1 5
@


1.339
log
@	* ar.c (print_contents): Cast args of bfd_seek to the right types.
	Replace bfd_read call with call to bfd_bread.
	(extract_file): Likewise.

	* objdump.c (dump_section_header): Cast section->filepos to
	unsigned long to suit printf format string.
	* readelf.c (process_section_headers): Similarly for sh_offset.
	(process_unwind): Likewise.
@
text
@d1 56
@


1.338
log
@Add new command line option '--encoding' to strings
@
text
@d1 11
@


1.337
log
@* readelf.c (guess_is_rela, dump_relocations, get_machine_name,
get_machine_flags): Added EM_M32R, EM_D10V, EM_V850, EM_D30V,
EM_MN10200, EM_MN10300, EM_FR30, EM_AVR_OLD and EM_PJ_OLD.
Removed EM_CYGNUS_ARC.
@
text
@d1 12
@


1.336
log
@	* readelf.c: Include elf/h8 for H8 series definitions.
	(guess_is_rela): H8 series if RELA.
	(dump_relocations): Handle H8 series relocations.

	* testsuite/binutils/all/readelf.exp: Expect readelf -wi to
	fail for the H8 series.
@
text
@d1 7
@


1.335
log
@2001-08-31  Eric Christopher  <echristo@@redhat.com>
	    Jason Eckhardt    <jle@@redhat.com>

	* mips-dis.c: Add support for bfd_mach_mipsisa32 and
	bfd_mach_mipsisa64. Remove bfd_mach_mips32, bfd_mach_mips32_4k,
	bfd_mach_mips64.
@
text
@d1 6
@


1.334
log
@	* MAINTAINERS: Include ARC Maintainer.
@
text
@d1 4
@


1.333
log
@2001-08-29  Ben Elliston  <bje@@redhat.com>

	* stabs.c (stab_demangle_template): Initialise s4.
@
text
@d1 4
@


1.332
log
@	* readelf.c (dump_relocations): Recognise EM_PPC64.
@
text
@d1 4
@


1.331
log
@	* readelf.c (get_machine_flags): Add detection of EF_MIPS_32BITMODE.
@
text
@d1 4
@


1.330
log
@2001-08-25  H.J. Lu  <hjl@@gnu.org>

	* nm.c (print_width): New.
	(display_rel_file): Set `print_width' according to
	bfd_sprintf_vma.
	(print_symbol_info_bsd): Check `print_width' instead of BFD64.
@
text
@d1 4
@


1.329
log
@* objcopy.c (use_alt_mach_code): New variable.
(OPTION_ALT_MACH_CODE): Define.
(copy_options): Added --alt-machine-code.
(copy_main): Handle it.
(copy_object): Switch to alternate machine code if requested.
* doc/binutils.texi: Document new option.
* NEWS: Likewise.
@
text
@d1 7
@


1.328
log
@	* readelf.c (get_machine_flags): Add detection of EF_MIPS_UCODE.
@
text
@d1 10
@


1.327
log
@2001-08-21  H.J. Lu  <hjl@@gnu.org>

	* readelf.c (dump_relocations): Support ELF64 on 32bit hosts.
	(display_debug_info): Cast for 64bit hosts.
	(display_debug_frames): Likewise.
	(process_mips_specific): Likewise.
@
text
@d1 4
@


1.326
log
@	* coffgrok.h: Add missing parameter for prototype of coff_grok.

	* sysdump.c: Add missing prototypes.
	* srconv.c: Likewise.
	* unwind-ia64.c: Likewise.
	* coffdump.c: Likewise.

	* sysinfo.y: Print prototypes, include <ansidecl.h>.

	* coffgrok.c: Add missing prototypes, include libiberty.h instead
	of declaring xcalloc.
@
text
@d1 7
@


1.325
log
@2001-08-10  H.J. Lu  <hjl@@gnu.org>

	* nm.c (print_value): Add one arg, bfd *.
	(print_value): Replace fprintf_vma with bfd_fprintf_vma.
	(print_symbol_info_bsd): Also pass `abfd' to print_value ().
	(print_symbol_info_sysv): Likewise.
	(print_symbol_info_posix): Likewise.

	* objdump.c (dump_section_header): Replace printf_vma with
	bfd_printf_vma.
	(print_section_stabs): Likewise.
	(dump_bfd_header): Likewise.
	(objdump_print_value): Replace sprintf_vma with
	bfd_sprintf_vma.
	(disassemble_bytes): Likewise.
	(dump_reloc_set): Likewise.
@
text
@d1 14
@


1.324
log
@	* configure.in: Add -Wstrict-prototypes and -Wmissing-prototypes
	to build warnings.
	* configure: Regenerate.
@
text
@d1 17
@


1.323
log
@	* readelf.c: Add missing prototypes.
	* objdump.c: Likewise.  Format existing prototypes.
@
text
@d1 6
d111 1
a111 1
	function for .debug_macinfo display. 
d114 1
a114 1
	
@


1.322
log
@* readelf.c (display_debug_info): Add to abbrev_offset the addend
of any RELA relocation for the abbrev_offset memory location that
refers to the .debug_abbrev section symbol.
@
text
@d1 5
@


1.321
log
@2001-08-07  H.J. Lu  <hjl@@gnu.org>

	* readelf.c (process_file): Return 0 if OK, otherwise return 1.
	(main): Return process_file ().
@
text
@d1 6
@


1.320
log
@2001-08-05  Philip Blundell  <philb@@gnu.org>

	* doc/binutils.texi: Use "Thumb" not "THUMB".
@
text
@d1 5
@


1.319
log
@2001-08-03  John Healy  <jhealy@@redhat.com>

        Patch suggested by Frank Eigler <fche@@redhat.com>.
        * objdump.c (disassemble_data): Fill in section member of the
        disasm_info structure.
@
text
@d1 4
@


1.318
log
@* configure.in: Added --with-windres option.
* configure: Regenerated.
@
text
@d1 6
@


1.317
log
@Use @@command{name} for commands.  Use @@option{-opt} for options.
Use @@table @@env for list of options.  Remove spaces arround [ | ] in synopsis.
Use 'GNU Development Tools' for the center title.
@
text
@d1 5
@


1.316
log
@Implement new switch --rename-section
@
text
@d1 9
@


1.315
log
@Change bug-gnu-utils@@gcc.org to the mor obvious bug-binutils@@gcc.org
@
text
@d1 16
@


1.314
log
@	* bucomm.c (list_supported_architectures): New function.
	* bucomm.h (list_supported_architectures): Declare.
	* objdump.c (usage): Call the above.
@
text
@d1 6
@


1.313
log
@2001-07-25  Dave Brolley  <brolley@@redhat.com>

	* objdump.c (SKIP_ZEROES): Only define it if it is not already defined.
	(SKIP_ZEROES_AT_END): Only define it if it is not already defined.
@
text
@d1 6
@


1.312
log
@Change bug reporting email address.
@
text
@d1 5
@


1.311
log
@* resres.c (write_res_header): Align header size.
(res_align_file): Calculate alignment correctly.
@
text
@d1 5
@


1.310
log
@* rcparse.y (styles): use SUBLANG_SHIFT instead of 8 (or the more
correct 10).
* resrc.c (write_rc_resource): Likewise.
* windres.h (SUBLANG_SHIFT): Define - as 10.
@
text
@d3 3
@


1.309
log
@Add Christian Groessler as maintainer for z8k port.
@
text
@d1 7
@


1.308
log
@Add notes about branch checkins
@
text
@d1 4
@


1.307
log
@Display the contents of a .debug.macinfo section
@
text
@d1 4
@


1.306
log
@2001-07-05  H.J. Lu  <hjl@@gnu.org>

	* objcopy.c (filter_symbols): Don't turn undefined symbols
	into local.
@
text
@d1 12
@


1.305
log
@2001-07-03  H.J. Lu <hjl@@gnu.org>

	* doc/Makefile.am (addr2line.1): Use addr2line.pod instead of
	$@@.pod.
	(ar.1): Likewise.
	(dlltool.1): Likewise.
	(nlmconv.1): Likewise.
	(nm.1): Likewise.
	(objcopy.1): Likewise.
	(objdump.1): Likewise.
	(ranlib.1): Likewise.
	(readelf.1): Likewise.
	(size.1): Likewise.
	(strings.1): Likewise.
	(strip.1): Likewise.
	(windres.1): Likewise.
	(cxxfilt.man): Use $(DEMANGLER_NAME).pod instead of $@@.pod.
	($(DEMANGLER_NAME).1): Also substitute cxxfilt with
	$(DEMANGLER_NAME).
	(as.1): Removed.
	* doc/Makefile.in: Regenerated.
@
text
@d1 5
@


1.304
log
@Change MIPS maintainer to Erci Christopher
@
text
@d1 22
@


1.303
log
@Support DWARF 2.1 tags, encodings, languages.
@
text
@d1 4
@


1.302
log
@Add DWARF 2.1 attributes
@
text
@d1 4
@


1.301
log
@	* readelf.c (GET_DATA_ALLOC): Remove.
	(GET_DATA): Remove.
	(get_data): New function combining above macros, with an extra
	test for zero size.
	Use get_data, and catch error return throughout file.
@
text
@d1 4
@


1.300
log
@	* readelf.c (dump_relocations): Print "bad symbol index" if
	symtab == NULL with non-zero symtab_index.
	(process_relocs): Don't bomb if reloc section has no symsec.
@
text
@d1 30
@


1.299
log
@2001-06-24  H.J. Lu  <hjl@@gnu.org>

	* objcopy.c (strip_main): Revert the change made on 2001-05-30
	by accident.
	(copy_main): Apply the the change made to strip_main on
	2001-05-30 by accident.
@
text
@d1 6
@


1.298
log
@	* unwind-ia64.c (unw_decode_x1): Add unused attribute for
	parameter 'code'.
	(unw_decode_x2): Likewise.
	(unw_decode_x3): Likewise.
	(unw_decode_x4): Likewise.
@
text
@d1 7
@


1.297
log
@2001-06-23  Ben Elliston  <bje@@redhat.com>

	* MAINTAINERS: Add myself as M88k maintainer.
@
text
@d1 8
d115 3
a117 3
 
	* dlltool.c (do_default_excludes): Initialise to true. 
 
@


1.296
log
@Add missing support for -o option.
@
text
@d1 4
@


1.295
log
@2001-06-19  H.J. Lu <hjl@@gnu.org>

	* doc/Makefile.in: Regenerated.
@
text
@d1 5
@


1.294
log
@Remove auot generated man pages
@
text
@d1 4
@


1.293
log
@	* NEWS: Fix a typo.  Mention hppa64-elf.  Add binutils-2.11 marker.
@
text
@d1 27
@


1.292
log
@* MAINTAINERS: Update my email address.
@
text
@d1 4
d351 1
a351 1
	* MAINTAINERS: Add Jvrn Rennecke and self as SH maintainers.
@


1.291
log
@Add command line switches to objcopy to provide lists of symbols in files
@
text
@d1 4
@


1.290
log
@	* readelf.c (display_debug_frames): Fix warnings: Remove unused
	variables, fix format strings.
@
text
@d1 9
@


1.289
log
@Remove section VMA adjustment when computing the address of the line to show.
@
text
@d1 5
@


1.288
log
@        * readelf.c (do_debug_frames_interp): New.
        (byte_get_little_endian): If BFD64, always read entire 8-byte fields.
        (byte_get_big_endian): Likewise.
        (parse_args) ['F']: Set do_debug_frames_interp.
        (Frame_Chunk): Make data_factor signed, add fde_encoding.
        (frame_display_row): Don't trunc pc_begin to int.
        (size_of_encoded_value): New.
        (display_debug_frames): Handle 64-bit targets.  Print raw data
        unless do_debug_frames_interp.
        (debug_displays): Remove duplicate .debug_frame.
@
text
@d1 5
@


1.287
log
@Remove definition of EM_MIPS_RS4_BE.  The constant was never in active use
and is used otherwise by the ABI.
@
text
@d1 13
@


1.286
log
@	* elfxx-ia64.c (is_unwind_section_name): Consider linkonce unwind
	sections as well.
	(elfNN_ia64_final_write_processing): Map .gnu.linkonce.ia64unw.FOO
	to .gnu.linkonce.t.FOO text section.

	* readelf.c (process_unwind): Print all unwind sections, not just
	one.

	* config/tc-ia64.c (special_linkonce_name): New.
	(make_unw_section): Map .gnu.linkonce.t.FOO text section into
	.gnu.linkonce.ia64unw{,i}.FOO.
	(ia64_elf_section_type): Handle .gnu.linkonce.ia64unw{,i}.FOO.
	(dot_endp): Add comment about it.

	* elf/ia64.h (ELF_STRING_ia64_unwind_once): Define.
	(ELF_STRING_ia64_unwind_info_once): Define.

	* emulparams/elf64_ia64.sh (OTHER_READONLY_SECTIONS): Put
	.gnu.linkonce.ia64unw{,i} sections into corresponding .IA_64.unwind*
	output sections.
	* emulparams/elf64_aix.sh (OTHER_READONLY_SECTIONS): Likewise.
@
text
@d1 6
@


1.285
log
@	* readelf.c (process_unwind): Remove const specifier.
@
text
@d1 5
@


1.284
log
@Support printable characters outside of the ASCII range
@
text
@d1 4
@


1.283
log
@Add openRISC support in opcodes
@
text
@d1 6
@


1.282
log
@* dlltool.c (do_default_excludes): Initialise to true.
@
text
@d1 4
@


1.281
log
@	* MAINTAINERS: Update my email address
	* nm.c (print_symbol_info_bsd): Use a simple printf string.
@
text
@d1 4
@


1.280
log
@Fix address in ChangeLog entry
@
text
@d1 5
@


1.279
log
@	* readelf.c (display_debug_lines): Fix typo for "Prologue".
@
text
@d1 1
a1 1
2001-04-05  Hans-Peter Nilsson  <hp@@bitrange.com>
@


1.278
log
@2001-03-30  H.J. Lu  <hjl@@gnu.org>

	* readelf.c (process_unwind): Just return if do_unwind is 0.
@
text
@d1 4
@


1.277
log
@* dlltool.c (make_one_lib_file): Fix section flags for
.text, .data and .bss in stub ds*.o files to match those
generated by gas.
@
text
@d1 4
@


1.276
log
@2001-03-29  H.J. Lu  <hjl@@gnu.org>

	* readelf.c (process_unwind): Only do unwind sections for
	IA64.
@
text
@d1 6
@


1.275
log
@2001-03-28  H.J. Lu  <hjl@@gnu.org>

	* Makefile.am ($(srcdir)/dlltool.1): Remove the extra target.
	* Makefile.in: Regenerate.
@
text
@d1 5
@


1.274
log
@2001-03-26  Andreas Jaeger  <aj@@suse.de>

	* binutils.texi (nm): Fix texi syntax.

2001-03-26  Andreas Jaeger  <aj@@suse.de>

	* ld.texinfo (Overview): Fix syntax in texi code.
@
text
@d1 5
@


1.273
log
@Automate generate on man pages
@
text
@d1 4
d30 1
a30 1
	
@


1.272
log
@* defparse.y (opt_equal_name): allow "." in name.
* dlltool.c (def_exports): Added ability to generate forwarded exports.
(gen_exp_file): Likewise.
@
text
@d1 11
@


1.271
log
@Fix typos in ChangeLogs and update copyright notices
@
text
@d1 6
@


1.270
log
@Add --binary-architecture switch to objcopy to allow the output architecture
to be set when the input file type is binary.
@
text
@d434 1
a434 1
	* binutils/binutils.texi: Put back "@@end table" deleted by
d439 4
a442 4
	* binutils/nm.c: Add optional style to demangle switch.
	* binutils/objdump.c: Add optional style to demangle switch.
	* binutils/addr2line.c: Add optional style to demangle switch.
	* binutils/binutils.texi: Document optional style to demangle
d755 1
a755 1
	* readelf (dynamic_segment_mips_val): Call `sprintf', not
d1008 1
a1008 1
	* dlltoolc.: Add support for sh-pe and mips-pe targets.
d1053 1
a1053 1
	* binutils/objdump.c (dump_section_header, find_symbol_for_address,
@


1.269
log
@Handle EM_S390_OLD.
@
text
@d1 9
@


1.268
log
@Remove non-K&R compliant LHS type cast in call to GET_DATA_ALLOC macro.
@
text
@d1 6
@


1.267
log
@2001-02-28  Philip Blundell  <pb@@futuretv.com>

	* readelf.c (decode_ARM_machine_flags): Explicitly mention which
	ABI is in use; remove ambiguity between the "unknown" EABI and
	unrecognised ABIs.  Handle version 2 ARM EABI.  Update uses of
	renamed EF_xx constants.
@
text
@d1 7
@


1.266
log
@Bump version to 2.11.90, fix missing dependencies in bfd/,
and run "make dep-am".
@
text
@d1 7
@


1.265
log
@Add obvious fix rule
@
text
@d1 8
@


1.264
log
@	* unwind-ia64.c: Don't use ANSI C preprocessor stringisation and string
	literal concatenation.
@
text
@d1 4
@


1.263
log
@	* readelf.c (struct unw_aux_info): Remove const from the info member.
	(process_unwind): Don't type-cast the third argument to the
	GET_DATA_ALLOC macro.
@
text
@d3 5
@


1.262
log
@fix seg fault in reloc reading code
@
text
@d1 6
d186 1
a186 1
	* MAINTAINERS: Add Jrn Rennecke and self as SH maintainers.
@


1.261
log
@Document new --unwind option to readelf.
@
text
@d1 6
@


1.260
log
@Add s390 support
@
text
@d1 4
@


1.259
log
@Don't #ifdef inside printf in case printf is a macro.
@
text
@d1 4
@


1.258
log
@	* acinclude.m4 (AM_PROG_LEX): Override installed definition.
	* aclocal.m4: Regenerate.
	* configure: Regenerate.
@
text
@d1 5
@


1.257
log
@Change bfd_target_vector from an array to a pointer
@
text
@d1 6
@


1.256
log
@Add -u option toi readelf to display unwind info.
Add support to display unwind info for IA64 binaries.
@
text
@d1 5
d20 1
@


1.255
log
@2001-02-04  Philip Blundell  <philb@@gnu.org>

	* configure.in (OBJDUMP_DEFS): Match `arm*-*', not just `arm-*'.
	* configure: Regenerate.
@
text
@d1 15
@


1.254
log
@Another HAVE_DOS_BASED_FILE_SYSTEM check.
@
text
@d1 5
@


1.253
log
@Don't check for backslashes in file names
unless HAVE_DOS_BASED_FILE_SYSTEM is defined.
@
text
@d1 5
@


1.253.2.1
log
@Another HAVE_DOS_BASED_FILE_SYSTEM check.
@
text
@a0 5
2001-01-31  Steve deRosier  <sderosier@@vari-lite.com>

	* ieee.c (ieee_add_bb11): Don't check for backslashes
	unless HAVE_DOS_BASED_FILE_SYSTEM is defined.

@


1.253.2.2
log
@2001-02-04  Philip Blundell  <philb@@gnu.org>

	* configure.in (OBJDUMP_DEFS): Match `arm*-*', not just `arm-*'.
	* configure: Regenerate.
@
text
@a0 5
2001-02-04  Philip Blundell  <philb@@gnu.org>

	* configure.in (OBJDUMP_DEFS): Match `arm*-*', not just `arm-*'.
	* configure: Regenerate.

@


1.253.2.3
log
@Don't #ifdef inside printf in case printf is a macro.
@
text
@a0 5
2001-02-10  Alan Modra  <alan@@linuxcare.com.au>

	* nm.c (print_symbol_info_bsd): Don't #ifdef inside printf in case
	printf is a macro.

@


1.253.2.4
log
@	* acinclude.m4 (AM_PROG_LEX): Override installed definition.
	* aclocal.m4: Regenerate.
	* configure: Regenerate.
@
text
@a0 6
2001-02-13  Hans-Peter Nilsson  <hp@@bitrange.com>

	* acinclude.m4 (AM_PROG_LEX): Override installed definition.
	* aclocal.m4: Regenerate.
	* configure: Regenerate.

@


1.253.2.5
log
@Update version numbers.
@
text
@a0 4
2001-03-11  Philip Blundell  <philb@@gnu.org>

	* configure.in: Set version to 2.11.

@


1.253.2.6
log
@Update generated configure scripts.
@
text
@a0 4
2001-03-16  Philip Blundell  <philb@@gnu.org>

	* configure: Regenerate.

@


1.253.2.7
log
@	* readelf.c (display_debug_lines): Fix typo for "Prologue".
@
text
@a0 4
2001-04-06  Hans-Peter Nilsson  <hp@@axis.com>

	* readelf.c (display_debug_lines): Fix typo for "Prologue".

@


1.253.2.8
log
@2001-05-28  Philip Blundell  <philb@@gnu.org>

	From 2001-05-28  Andreas Jaeger  <aj@@suse.de>
	* readelf.c (display_debug_frames): Fix warnings: Remove unused
	variables, fix format strings.

	From 2001-05-16  Richard Henderson  <rth@@redhat.com>
	* readelf.c (do_debug_frames_interp): New.
	(byte_get_little_endian): If BFD64, always read entire 8-byte fields.
	(byte_get_big_endian): Likewise.
	(parse_args) ['F']: Set do_debug_frames_interp.
	(Frame_Chunk): Make data_factor signed, add fde_encoding.
	(frame_display_row): Don't trunc pc_begin to int.
	(size_of_encoded_value): New.
	(display_debug_frames): Handle 64-bit targets.  Print raw data
	unless do_debug_frames_interp.
	(debug_displays): Remove duplicate .debug_frame.

	From 2001-05-15  Ralf Baechle  <ralf@@gnu.org>
	* readelf.c: Replace uses of EM_MIPS_RS4_BE with EM_MIPS_RS3_LE.
	The former constant was never in active use and is used otherwise
	by the ABI.

	From 2001-05-11  Jakub Jelinek  <jakub@@redhat.com>
	* readelf.c (process_unwind): Print all unwind sections, not just
	one.

	From 2001-05-07  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>
	* readelf.c (process_unwind): Remove const specifier.

	From 2001-03-30  H.J. Lu  <hjl@@gnu.org>
	* readelf.c (process_unwind): Just return if do_unwind is 0.

	From 2001-03-29  H.J. Lu  <hjl@@gnu.org>
	* readelf.c (process_unwind): Only do unwind sections for
	IA64.

	From 2001-02-28  Nick Clifton  <nickc@@redhat.com>
	* readelf.c: (struct unw_aux_info): Remove const modifier for
	'strtab' field.
	(process_unwind): Remove non-K&R compliant LHS type cast in call
	to GET_DATA_ALLOC macro.

	From 2001-02-11  Michael Sokolov  <msokolov@@ivan.Harhan.ORG>
	* readelf.c (struct unw_aux_info): Remove const from the info member.
	(process_unwind): Don't type-cast the third argument to the
	GET_DATA_ALLOC macro.

	From 2001-02-11  Nick Clifton  <nickc@@redhat.com>
	* readelf.c (dump_relocations): Free corrected allocated
	array.
	(process_unwind): Fix compile time warning.

	From 2001-02-07  David Mosberger  <davidm@@hpl.hp.com>
	* readelf.c (process_unwind): New function.
	(slurp_ia64_unwind_table): Ditto.
	(dump_ia64_unwind): Ditto.
	(find_symbol_for_address): Ditto.
	(slurp_rela_relocs): New function (split off from dump_relocations()).
	(slurp_rel_relocs): Ditto.
	(parse_args): Handle '-u' option.
	* unwind-ia64.c: New file.
	* unwind-ia64.h: New file.
	* Makefile.am: Include unwind-ia64.c in readelf build.
	* Makefile.in: Regenerate.
	* po/binutils.pot: Regenerate.
@
text
@a0 67
2001-05-28  Philip Blundell  <philb@@gnu.org>

	From 2001-05-28  Andreas Jaeger  <aj@@suse.de>
	* readelf.c (display_debug_frames): Fix warnings: Remove unused
	variables, fix format strings.

	From 2001-05-16  Richard Henderson  <rth@@redhat.com>
	* readelf.c (do_debug_frames_interp): New.
	(byte_get_little_endian): If BFD64, always read entire 8-byte fields.
	(byte_get_big_endian): Likewise.
	(parse_args) ['F']: Set do_debug_frames_interp.
	(Frame_Chunk): Make data_factor signed, add fde_encoding.
	(frame_display_row): Don't trunc pc_begin to int.
	(size_of_encoded_value): New.
	(display_debug_frames): Handle 64-bit targets.  Print raw data
	unless do_debug_frames_interp.
	(debug_displays): Remove duplicate .debug_frame.

	From 2001-05-15  Ralf Baechle  <ralf@@gnu.org>
	* readelf.c: Replace uses of EM_MIPS_RS4_BE with EM_MIPS_RS3_LE.
	The former constant was never in active use and is used otherwise
	by the ABI.

	From 2001-05-11  Jakub Jelinek  <jakub@@redhat.com>
	* readelf.c (process_unwind): Print all unwind sections, not just
	one.

	From 2001-05-07  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>
	* readelf.c (process_unwind): Remove const specifier.

	From 2001-03-30  H.J. Lu  <hjl@@gnu.org>
	* readelf.c (process_unwind): Just return if do_unwind is 0.

	From 2001-03-29  H.J. Lu  <hjl@@gnu.org>
	* readelf.c (process_unwind): Only do unwind sections for
	IA64.

	From 2001-02-28  Nick Clifton  <nickc@@redhat.com>
	* readelf.c: (struct unw_aux_info): Remove const modifier for
	'strtab' field.
	(process_unwind): Remove non-K&R compliant LHS type cast in call
	to GET_DATA_ALLOC macro.

	From 2001-02-11  Michael Sokolov  <msokolov@@ivan.Harhan.ORG>
	* readelf.c (struct unw_aux_info): Remove const from the info member.
	(process_unwind): Don't type-cast the third argument to the
	GET_DATA_ALLOC macro.

	From 2001-02-11  Nick Clifton  <nickc@@redhat.com>
	* readelf.c (dump_relocations): Free corrected allocated
	array.
	(process_unwind): Fix compile time warning.

	From 2001-02-07  David Mosberger  <davidm@@hpl.hp.com>
	* readelf.c (process_unwind): New function.
	(slurp_ia64_unwind_table): Ditto.
	(dump_ia64_unwind): Ditto.
	(find_symbol_for_address): Ditto.
	(slurp_rela_relocs): New function (split off from dump_relocations()).
	(slurp_rel_relocs): Ditto.
	(parse_args): Handle '-u' option.
	* unwind-ia64.c: New file.
	* unwind-ia64.h: New file.
	* Makefile.am: Include unwind-ia64.c in readelf build.
	* Makefile.in: Regenerate.
	* po/binutils.pot: Regenerate.

@


1.253.2.9
log
@Add command line options to objcopy to specify symbols as lists in files
@
text
@a0 9
2001-05-30  Honda Hiroki  <hhonda@@kobe-catv.ne.jp>

	* objcopy.c: Add new switches: --keep-global-symbol,
	--keep-symbols, --localize-symbols, --keep-global-symbols and
	--weaken-symbols.
	* binutils.texi: Document new switches.
	* objcopy.1: Regenerate.
	* NEWS: Announce new feature.

@


1.253.2.10
log
@Update copyright notices.
@
text
@a0 4
2001-06-07  Alan Modra  <amodra@@bigpond.net.au>

	* Most files: Update copyright notices.

@


1.253.2.11
log
@	* NEWS: Mention hppa64-elf.  Add binutils-2.11 marker.

	* MAINTAINERS: Replace with mainline version.
@
text
@a0 6
2001-06-09  Alan Modra  <amodra@@bigpond.net.au>

	* NEWS: Mention hppa64-elf.  Add binutils-2.11 marker.

	* MAINTAINERS: Replace with mainline version.

d439 1
a439 1
	* binutils.texi: Put back "@@end table" deleted by
d444 4
a447 4
	* nm.c: Add optional style to demangle switch.
	* objdump.c: Add optional style to demangle switch.
	* addr2line.c: Add optional style to demangle switch.
	* binutils.texi: Document optional style to demangle
d760 1
a760 1
	* readelf.c (dynamic_segment_mips_val): Call `sprintf', not
d1013 1
a1013 1
	* dlltool.c: Add support for sh-pe and mips-pe targets.
d1058 1
a1058 1
	* objdump.c (dump_section_header, find_symbol_for_address,
@


1.253.2.12
log
@2001-06-10  Philip Blundell  <philb@@gnu.org>

	* configure.in: Set version to 2.11.1.
	* configure: Regenerate.
@
text
@a0 5
2001-06-10  Philip Blundell  <philb@@gnu.org>

	* configure.in: Set version to 2.11.1.
	* configure: Regenerate.

@


1.253.2.13
log
@Merge from mainline.
@
text
@a0 20
2001-06-11  Alan Modra  <amodra@@bigpond.net.au>

	Merge from mainline.
	2001-02-27  Alan Modra  <alan@@linuxcare.com.au>
	* configure.in (BFD_VERSION): New.
	(AM_INIT_AUTOMAKE): Use $BFD_VERSION.
	* configure: Regenerate.

	2001-04-27  Michal Svec <rebel@@atrey.karlin.mff.cuni.cz>
	* strings.c (isgraphic): Do not use isascii() unless it is needed
	for isprint() to work.
	(main): Set the locale domain to LC_ALL not just LC_MESSAGES.

	2001-04-10  Alan Modra  <amodra@@one.net.au>
	* nm.c (print_symbol_info_bsd): Use a simple printf string.

	2001-02-07  Todd Vierling  <tv@@wasabisystems.com>
	* bucomm.c (bfd_target_vector): Change extern array to pointer.
	* objdump.c (bfd_target_vector): Likewise.

@


1.253.2.14
log
@Restore ability of strip to accept -o command line switch
@
text
@a0 4
2001-06-27  Nick Clifton  <nickc@@cambridge.redhat.com>

	* objcopy.c (strip_main): Accept -o command line switch.

@


1.253.2.15
log
@Add DWARF 2.1 attributes
@
text
@a0 4
2001-06-29  James Cownie <jcownie@@etnus.com>

	* readelf.c: Support DWARF 2.1 attributes.

@


1.253.2.16
log
@2001-07-31  David O'Brien  <obrien@@FreeBSD.org>
	* readelf.1: New file.

Approved by:  Philip Blundell <philb@@gnu.org>
              <E15QZA4-0001Ez-00@@kings-cross.london.uk.eu.org>
@
text
@a0 4
2001-07-31  David O'Brien  <obrien@@FreeBSD.org>

	* readelf.1: New file.

@


1.253.2.17
log
@2001-08-05  Philip Blundell  <philb@@gnu.org>

	* binutils.texi (objdump): Fix typos.  Use "Thumb" not "THUMB".
@
text
@a0 4
2001-08-05  Philip Blundell  <philb@@gnu.org>

	* binutils.texi (objdump): Fix typos.  Use "Thumb" not "THUMB".

@


1.253.2.18
log
@Detect and warn about DWARF64 format .debug_arange sections
@
text
@a0 5
2001-10-01  Nick Clifton  <nickc@@cambridge.redhat.com>

	* readelf.c (display_debug_aranges): Warn about DWARF64 format
	.debug_arange sections.

@


1.253.2.19
log
@Detect and warna bout more 64bit DWARF debug sections
@
text
@a0 9
2001-10-02  Nick Clifton  <nickc@@cambridge.redhat.com>

	* readelf.c (display_debug_line, display_debug_pubnames,
	display_debug_info, display_debug_frames): Detect and warn
	about 64-bit format entries.
	(display_debug_aranges): Reword 64-bit warning.
	(debug_displays): Add .debug_pubtypes as a known, but not yet
	supported, debug section.

@


1.253.2.20
log
@Remove .TP from SYNOPSIS section
@
text
@a0 11
2001-10-17  Nick Clifton  <nickc@@cambridge.redhat.com>

	* addr2line.1: Remove .TP macro from SYNOPSIS section - it
	prevents successful translation to DocBook format.
	* nlmconv.1: As above.
	* nm.1: As above.
	* objdump.1: As above.
	* size.1: As above.
	* strings.1: As above.
	* strip.1: As above.

@


1.252
log
@* stabs.c: Update copyright. Include "filenames.h".
(parse_stab): Use IS_ABSOLUTE_PATH. Ignore N_WARNING stabs.
@
text
@d3 4
d23 1
a23 1
	
d206 1
a206 1
	
d221 1
a221 1
	
d252 1
a252 1
	
d331 4
a334 4
        * binutils/nm.c: Add optional style to demangle switch.
        * binutils/objdump.c: Add optional style to demangle switch.
        * binutils/addr2line.c: Add optional style to demangle switch.
        * binutils/binutils.texi: Document optional style to demangle
d632 1
a632 1
	
d643 1
a643 1
        already included by bucomm.h.
d652 1
a652 1
 
d654 1
a654 1
 	--enable-build-warnings option.
d772 1
a772 1
	
d948 1
a948 1
	
d951 1
a951 1
        * nm.c (print_symbol_info_bsd): Use bfd_is_undefined_symclass to
d953 2
a954 2
        (print_symbol_info_sysv):  Ditto.
        (print_symbol_info_posix):  Ditto.
d956 1
a956 1
        * binutils.texi: Document new 'V' symclass flag for nm.
d1002 1
a1002 1
	* windres.c (long_options): Add --use-temp-file and 
d1006 1
a1006 1
	
d1008 1
a1008 1
	
d1015 1
a1015 1
	(look_for_default): Handle DOS directory separator. Use 
d1018 1
a1018 1
	
d1020 1
a1020 1
	options. 
d1023 1
a1023 1
 
d1037 1
a1037 1
          command line switch "-M force-thumb".For older changes see ChangeLog-9697
@


1.251
log
@
s/11/01/
@
text
@d1 5
@


1.250
log
@	* readelf.c (process_version_sections): Check if VERDEF or VERNEED
	sections are present before using them.  Remove code duplication.
	(process_symbol_table): Check if VERDEF or VERNEED sections are
	present before using them.
@
text
@d1 1
a1 1
2001-11-23  Jakub Jelinek  <jakub@@redhat.com>
@


1.249
log
@Stop objcopy trying to convert endianness.
@
text
@d1 7
@


1.248
log
@oops - fix typo
@
text
@d1 7
@


1.247
log
@Update copyright date to 2001
@
text
@d1 11
@


1.246
log
@Updated ARC assembler from arccores.com
@
text
@d1 4
@


1.245
log
@Rotate ChangeLogs
@
text
@d1 5
@


1.244
log
@fix spelling typoi
@
text
@d994 1
a994 7112
          command line switch "-M force-thumb".

1999-12-28  Nick Clifton  <nickc@@cygnus.com>

	* readelf.c: Update with new constants added by Oct 4, 1999
	ELF ABI draft.
	(guess_is_rela): Add new machine codes, but leave
	rel type undetermined.
	(get_machine_name): Add new machine codes.
	(get_section_type_name): Add new section types.
	(get_elf_section_flags): New function: Decode section flags.
	(process_section_headers): Call get_elf_section_flags() in
	order to decode flags in section header.
	(get_dynamic_flags): New function: Decode dynamic section
	flags.
	(process_dynamic_section): Display flags (if present).
	(get_symbol_type): Add STT_COMMON.
	(get_symbol_visibility): New function: Decode a symbol's
	visibility.
	(process_symbol_table): Call get_symbol_visibility().
	(get_note_type): Add NT_PRXFPREGS.

1999-12-26  Ian Lance Taylor  <ian@@zembu.com>

	* strings.c (main): Correct handling of numeric argument.

1999-12-23  Andrew Haley  <aph@@cygnus.com>

	* dlltool.c (mtable): mcore how_jtab_roff is 4 bytes into the
	jtab; was 8.

1999-12-17  Nick Clifton  <nickc@@cygnus.com>

	* dlltool.c (mtable): Stop compile time warnings about missing
	initialisers.
	(yyerror): Stop compile time warnings about unused paramater.
	(INIT_SEC_DATA): New macro: initialise an entry in the secdata
	array.
	(secdata): Stop ccompile time warnings about uninitialised
	fields.
	(dtab): Stop compile time warnings about unused parameter.
	(long_options): Stop compile time warning about missing
	initialiser. 

1999-12-10  Nick Clifton  <nickc@@cygnus.com>

	* readelf.c (print_vma): Support native 64bit ELF systems.

1999-12-09  Nick Clifton  <nickc@@cygnus.com>

	* dlltool.c (mtable): Add epoc-arm specific entry.
	Make default arm entry pass -mpacs-26 to assembler.
	(flush_page): Do not mangle null entries.
	
1999-12-07  H . J . Lu  hjl@@valinux.com

	* readelf.c: Fix compile time warnings.  Support more than 999
	symbols.

1999-12-03  Nick Clifton  <nickc@@cygnus.com>

	* readelf.c (enum print_mode): New type.
	(print_vma): New function.
	(dump_relocations): Use print_vma to display bfd_vma values.
	(process_file_header): Use print_vma to display bfd_vma values.
	(process_program_headers): Use print_vma to display bfd_vma values.
	(process_section_headers): Use print_vma to display bfd_vma values.
	(dynamic_segment_parisc_val): Use print_vma to display bfd_vma values.
	(process_dynamic_segment): Use print_vma to display bfd_vma values.
	(process_symbol_table): Use print_vma to display bfd_vma values.
	(process_mips_specific): Use print_vma to display bfd_vma values.

1999-11-25  Fred Fish  <fnf@@cygnus.com>

	* readelf.c (process_note): Change arg from Elf_External_Note
	to Elf32_Internal_Note, which also turns the function body
	into little more than a call to printf.
	(process_corefile_note_segment):  Substantially rewritten
	to properly handle case where target and host are different
	endianness, handle note sections with padding, and add some
	cruft to handle notes with unterminated name data.

1999-11-22  Nick Clifton  <nickc@@cygnus.com>

	* objcopy.c (copy_usage): Reformat.
	(strip_usage): Reformat.

1999-11-21  Nick Clifton  <nickc@@cygnus.com>

	* objdump.c (usage): Overhaul output:  One line per switch.
	Textual description of each switch.  Distinguish between
	optional switches and required switches.
	(long_options): Add 'g', 'G' and 'z' short options.
	(main): Distinguish between optional switches and required
	switches.

	* binutils.texi: Add -g -G and -z short options for
	--debugging, --stabs and --disassemble-zeroes.

1999-11-03  Nick Clifton  <nickc@@cygnus.com>

	* dlltool.c (flush_page): Clip short values to prevent warnings
	from the assembler.
	Change default mcore machine name to 'mcore-le' and rename
	big-endian version to 'mcore-be'. 

1999-10-27  Fred Fish  <fnf@@cygnus.com>

	* objdump.c (display_bfd): Break into two functions.  The
	actual dumping code moves to dump_bfd.  If bfd is not
	unambiguously recognized as a bfd_object, attempt to dump
	it as a bfd_core.
	(dump_bfd): New function.

1999-10-26  Nick Clifton  <nickc@@cygnus.com>

	* dlltool.c (assemble_file): Remove spurious test of exp_name.

1999-10-22  Nick Clifton  <nickc@@cygnus.com>

	* dlltool.c (struct mac): Add new field 'how_default_as_switches'.
	(mtable): Initialise new field.  Some machines have a non empty
	string for this field.
	(HOW_BFD_TARGET): Undefine and replace with...
	(HOW_BFD_READ_TARGET): New macro: bfd target to use when opening a
	file for reading.  This is set to 0 so that any recognisable bfd
	format can be read.
	(HOW_BFD_WRITE_TARGET): New macro: bfd target to use when opening
	a file for writing.  This is set to the target machine type.
	(ASM_SWITCHES): New macro: default switches to use when assembling
	a file.
	(assemble_file): New function: Assemble a source file into a
	destination object file.
	(gen_exp_file): Use assemble_file to create the exp file.
	(make_one_lib_file): Use assemble_file to create the lib file.
	Open output file use HOW_BFD_WRITE_TARGET and input files using
	HOW_BFD_READ_TARGET.
	(make_head): Use assemble_file to create the head file.
	(make_tail): Use assemble_file to create the tail file.
	(gen_lib_file): Open output file use HOW_BFD_WRITE_TARGET.

1999-10-15  Ian Lance Taylor  <ian@@zembu.com>

	* ar.c (normalize): Fix full_pathname code.

1999-10-08  Ben Elliston  <bje@@cygnus.com>

        * binutils.texi: Some rewording and clarifications.

1999-09-15  Ulrich Drepper  <drepper@@cygnus.com>

	* readelf.c (dynamic_segment_parisc_val): Print 0 for DLD_FLAGS if
	the value is zero.
	(process_symbol_table): Don't print histogram if hash table is empty.

1999-09-15  Ulrich Drepper  <drepper@@cygnus.com>

	* readelf.c (get_parisc_dynamic_type): Handle DT_HP_GST_* values.

1999-09-02  Ulrich Drepper  <drepper@@cygnus.com>

	* readelf.c (get_symbol_type): Add support for HPUX and PARISC
	specific symbol types.

	* readelf.c: Add HPUX and PARISC extensions to dynamic and program
	header table printing.

	* readelf.c (get_machine_flags): Add handling of PARISC.

1999-09-29  Mumit Khan  <khan@@xraylith.wisc.edu>

	* dlltool.c (scan_drectve_symbols): Handle type tags in exported
	symbols.
	(scan_filtered_symbols): Likewise.

1999-09-19  Ian Lance Taylor  <ian@@zembu.com>

	* resrc.c (write_rc_rcdata): Fix local variable shadowing
	problem.  If RCDATA_BUFFER data can be read as strings, modify
	code to print the strings as comments.
	* resres.c: Add casts to avoid warnings.
	(write_res_data, read_res_data): Don't put the program name in the
	error message; fatal already puts it there.

1999-09-14  Michael Meissner  <meissner@@cygnus.com>

	* configure.in (Canonicalization of target names): Remove adding
	${CONFIG_SHELL} in front of $ac_config_sub, since autoconfig 2.14
	generates $ac_config_sub with a ${CONFIG_SHELL} already.
	* configure: Regenerate.

1999-09-12  Ian Lance Taylor  <ian@@zembu.com>

	* ar.c (main): Clear output_file if we don't change the archive.
	(delete_members, replace_members): Likewise.

1999-09-12  Donn Terry  <donn@@interix.com>

	* objdump.c (dump_headers): If wide_output, print Flags header.

	* objdump.c (dump_section_header): Print any comdat information.

	* objcopy.c (parse_flags): Handle "noload", "debug", and "share".
	* binutils.texi, objcopy.1: Document new flags.

	* ar.c (counted_name_mode): New static variable.
	(counted_name_counter): New static variable.
	(map_over_members): Handle counted mode.
	(usage): Mention N modifier.
	(main): Handle N modifier.
	(delete_members): Handle counted mode.
	* binutils.texi, ar.1: Document N modifier.

	* ar.c (print_contents): Change printing of member name for
	POSIX.2 conformance.

	* ar.c (output_filename): Make const.
	(open_inarch): If creating a new empty archive, set
	output_filename.

1999-09-12  Ian Lance Taylor  <ian@@zembu.com>

	* ar.c (full_pathname): New static variable.
	(map_over_members): Call normalize on command line parameter.
	(usage): Mention P modifier.
	(normalize): If full_pathname is true, don't do anything.
	(main): Accept P modifier.
	(delete_members): Call normalize on command line parameter.
	* binutils.texi, ar.1: Document P modifier.

1999-09-09  Andreas Schwab  <schwab@@suse.de>

	* binutils.texi: Add info dir entries for all programs described
	here.  Fix arguments of @@var to not contain punctuation.

1999-09-06  Donn Terry  <donn@@interix.com>

	* nm.c (print_symbol_info_bsd): Check for 'w' as well as 'U'.
	(print_symbol_info_sysv): Likewise.
	(print_symbol_info_posix): Likewise.

1999-09-04  Steve Chamberlain  <sac@@pobox.com>

	* readelf.c: Include "elf/pj.h".
	(dump_relocations): Handle EM_PJ.
	(get_machine_name): Likewise.
	(get_machine_flags): Likewise.

1999-08-31  Scott Bambrough <scottb@@netwinder.org>

	* readelf.c (get_note_type): New function:  Decode the e_type
	value of a note.
	(process_note): New function: Display the contents of a core note.
	(process_corefile_note_segment): New function.
	(process_corefile_note_segments): New function.
	(process_corefile_contents): New function.
	(process_file): Add call to process_corefile_contents.
	(parse_args): Add parsing of -n/--notes command line switch.
	(usage): Document new command line switch.

	* binutils.texi: Documemnt new command line switch to readelf.

1999-08-31  Ian Lance Taylor  <ian@@zembu.com>

	* binutils.texi (Bug Reporting): Clarify that large files should
	not be sent to bug-gnu-utils.

1999-08-28  Stephane Carrez  <stcarrez@@worldnet.fr>

	* readelf.c (process_extended_line_op): New parameter pointer_size,
	read the address according to pointer_size.
	(debug_line_pointer_size): New global to indicate the
	size of address in .debug_line section.
	(debug_displays, prescan_debug_info): Prescan the .debug_info section
	to record the size of address in `debug_line_pointer_size'.
	(process_section_contents): Before dumping any section, execute
	the pre-scan operation defined for some debug sections.

1999-08-27  Jim Wilson  <wilson@@cygnus.com>

	* readelf.c (display_debug_lines): Use i-1 not i in standard_opcodes
	access.
	(display_debug_aranges): New local excess.  Use for calculating padding
	and add that into ranges.  Break from loop only if length is also 0.

1999-08-27  Jim Wilson  <wilson@@cygnus.com>

	* readelf.c (display_debug_lines, case DW_LNS_const_add_pc): Multiply
	adv by info.li_min_insn_length.

1999-08-26  Jakub Jelinek  <jj@@ultra.linux.cz>

	* readelf.c (get_sparc64_dynamic_type): New function.
	(get_dynamic_type): Use it.

1999-08-26  Jim Wilson  <wilson@@cygnus.com>

	* readelf.c (display_debug_lines, case default): Change second line
	setting	adv to use = not +=.

1999-08-19  Nick Clifton  <nickc@@cygnus.com>

	* dlltool.c: Added more examples to the comment at the start.

1999-08-18  Nick Clifton  <nickc@@cygnus.com>

	* dlltool.c (make_head): Only emit interworking directive if
	necessary.

Thu Jul 15 22:44:21 1999  Hans-Peter Nilsson  <hp@@bitrange.com>

	* readelf.c (process_abbrev_section): Handle standard-conforming
	single zero at the end of the section.

1999-08-09  Ian Lance Taylor  <ian@@zembu.com>

	* objdump.c (exit_status): New static variable.
	(nonfatal): New static function.
	(disassemble_data): Set exit_status on error.
	(read_section_stabs): Likewise.
	(display_bfd): Likewise.  Call nonfatal rather than bfd_nonfatal.
	(display_file): Call nonfatal rather than bfd_nonfatal.
	(display_target_list, display_info_table): Likewise.
	(main): Return exit_status rather than 0.

1999-08-08  Ian Lance Taylor  <ian@@zembu.com>

	* objdump.c (dump_section_header): Update for renaming of
	SEC_SHORT to SEC_SMALL_DATA.  Print SEC_SHARED flag.

	From Eli Zaretskii <eliz@@gnu.org>:
	* binutils.texi: Document cxxfilt as MS-DOS name for c++filt.

	* configure.in: Define and substitute DEMANGLER_NAME.
	* Makefile.am (DEMANGLER_PROG): Set to cxxfilt.
	(man_MANS): Use DEMANGLER_NAME rather than DEMANGLER_PROG.
	(bin_PROGRAMS): Remove $(DEMANGLER_PROG).
	(noinst_PROGRAMS): Add $(DEMANGLER_PROG).
	(cxxfilt_SOURCES): Rename from c__filt_SOURCES.
	(cxxfilt_LDADD): Rename from c__filt_LDADD.
	($(DEMANGLER_NAME).1): Rename from $(DEMANGLER_PROG).1.  Use
	DEMANGLER_NAME rather than DEMANGLER_PROG in substitution.
	(MOSTLYCLEANFILES): Use DEMANGLER_NAME rather than
	DEMANGLER_PROG.
	(install-exec-local): When installing noinst_PROGRAMS, change
	cxxfilt to $(DEMANGLER_NAME).
	* configure, Makefile.in: Rebuild.

	* Makefile.am: Rename .dep* files to DEP*.  Change DEP variable to
	MKDEP.
	* Makefile.in: Rebuild.

1999-08-05  Donn Terry  <donn@@interix.com>

	* Makefile.am (YACC): If bison is not in the source tree, use
	@@YACC@@ rather than bison -y.
	(LEX): If flex is not in the source tree, use @@LEX@@ rather than
	flex.
	* configure.in: Build dlltool for i[3-6]86-*-interix.
	* Makefile.in, configure: Rebuild.

1999-07-21  Ian Lance Taylor  <ian@@zembu.com>

	From Mark Elbrecht:
	* configure.bat: Remove; obsolete.

1999-07-16  Jakub Jelinek  <jj@@ultra.linux.cz>

	* readelf.c (get_machine_flags): Print EF_SPARC_SUN_US3.

1999-07-15  Ian Lance Taylor  <ian@@zembu.com>

	* configure.in: Bump version number to 2.9.5.
	* configure: Rebuild.

1999-07-14  Richard Henderson  <rth@@cygnus.com>

	* objdump.c (dump_section_header): Print SEC_SHORT.

1999-07-11  Ian Lance Taylor  <ian@@zembu.com>

	* Many files: Changes to avoid gcc warnings: Add ATTRIBUTE_UNUSED
	as appropriate.  Add variable initializations.  Add casts.
	* objdump.c (disassemble_bytes): Change j to bfd_vma.
	* readelf.c (process_syminfo): Change i to unsigned int.
	(display_debug_info): Change abbrev_number to unsigned long.
	(process_mips_specific): Change fcnt to size_t.

1999-07-09  Nick Clifton  <nickc@@cygnus.com>

	* readelf.c: Only support decoding 64bit ELF files if the compiler
	supports a 64 bit data type.
	Add -I equivalent for --histogram.
	Add -A command-line option to display architecture specific information.

1999-07-08  Jakub Jelinek  <jj@@ultra.linux.cz>

	* readelf.c (guess_is_rela): Sparcv9 and v8plus use rela.
	(dump_relocations): Use ELF64_R_TYPE_ID for Sparc, for R_SPARC_OLO10
	print the secondary addend.
	(get_machine_flags): Print Sparc machine flags.
	(get_symbol_type): Print STT_REGISTER.

1999-07-08  Ian Lance Taylor  <ian@@zembu.com>

	* stabs.c (parse_stab_type): Fix handling of template names with
	template parameters containing `::'.
	(stab_demangle_type): Handle a qualified name in a pointer to
	member.

1999-06-23  Ian Lance Taylor  <ian@@zembu.com>

	* Makefile.am (dlltool_SOURCES): Add dyn-string.c.
	* Makefile.in: Rebuild.

1999-06-23  Mumit Khan  <khan@@xraylith.wisc.edu>

	* configure.in (HAVE_EXECUTABLE_SUFFIX): Define.
	* dlltool.c (look_for_prog): Use HAVE_EXECUTABLE_SUFFIX.
	* dllwrap.c (look_for_prog): Likewise.
	* resrc.c (look_for_default): Likewise.
	* configure, config.in: Rebuild.

1999-06-22  Ian Lance Taylor  <ian@@zembu.com>

	Based on patches from Mumit Khan <khan@@xraylith.wisc.EDU>:
	* configure.in: Define EXECUTABLE_SUFFIX.
	* dlltool.c: Include "dyn-string.h".  Include <stdarg.h> based on
	ANSI_PROTOTYPES, not __STDC__.
	(outfile): Remove.
	(gen_exp_file): Change uses of outfile to use alloca.
	(make_one_lib_file, make_head, make_tail): Likewise.
	(gen_lib_file): Likewise.
	(look_for_prog): New static function.
	(deduce_name): Rewrite to use look_for_prog.
	(mcore_elf_gen_out_file): Use dyn_string_t rather than outfile.
	* dllwrap.c: Don't include <stdio.h>, <errno.h>, <string.h>,
	<stdlib.h>, or <unistd.h>.  Include <sys/stat.h> and either
	<stdarg.h> or <varargs.h>.
	(driver_name): Initialize to NULL, not "gcc".
	(dlltool_name): Initialize to NULL, not "dlltool".
	(display, inform, look_for_prog, deduce_name): New static
	functions.
	(usage): Mention -mno-cygwin.
	(OPTION_MNO_CYGWIN): Define.
	(main): Handle -mno-cygwin.  Deduce driver_name and dlltool_name.
	* resrc.c (look_for_default): Make static.  Remove unused local
	path.  Check using EXECUTABLE_SUFFIX.
	(read_rc_file): Allocate enough space to hold EXECUTABLE_SUFFIX.
	* Makefile.am: Rebuild dependencies.
	(dllwrap_LDADD): Add $(INTLLIBS).
	* configure, Makefile.in, config.in: Rebuild.

Mon Jun 21 16:49:11 1999  Jeffrey A Law  (law@@cygnus.com)

        * readelf.c (dump_relocations): Use elf_hppa_reloc_type instead of
        elf32_hppa_reloc_type.

1999-06-17  Nick Clifton  <nickc@@cygnus.com>

	* dlltool.c (mcore_elf_gen_out_file): Link object files with the
	.exp file, not the .lib file.

Fri Jun 18 20:17:51 1999  Mumit Khan  <khan@@xraylith.wisc.edu>

	* deflex.l: Accept single-character symbol names.

1999-06-16  Nick Clifton  <nickc@@cygnus.com>

	* readelf.c (get_symbol_type): Detect ARM symbols typed as Thumb
	functions.

1999-06-14  Nick Clifton  <nickc@@cygnus.com>

	* objdump.c (disassembler_options): New variable.
	(usage): Document new -M/--disassembler-options option.
	(long_options): Add --disassembler-options.
	(disassemble_data): Initialise disassembler_options field of
	disassembler_info structure.
	(main): Add parsing of -M option.

	* binutils.texi: Document new command line switch to objdump.

	* NEWS: Describe new command line switch to objdump.


Mon Jun 14 10:27:54 1999  Andreas Schwab  <schwab@@issan.cs.uni-dortmund.de>

	* binutils.texi: Fix typos.

1999-06-13  Ian Lance Taylor  <ian@@zembu.com>

	* objdump.c (disassemble_bytes): If the disassembler returns an
	error, print out anything it may have printed to the buffer.  From
	H.J. Lu <hjl@@gnu.org>.

	* defparse.y (explist): Remove separate expline to eliminate
	shift/reduce conflict.

	From Kai-Uwe Rommel <rommel@@ars.de>:
	* defparse.y: Add tokens NONSHARED, SINGLE, MULTIPLE,
	INITINSTANCE, INITGLOBAL, TERMINSTANCE, and TERMGLOBAL.
	(command): Add option_list after LIBRARY.
	(attr): Accept and ignore NONSHARED, SINGLE, and MULTIPLE.
	(option_list, option): New nonterminals.
	* deflex.l: Recognize NONSHARED, SINGLE, MULTIPLE, INITINSTANCE,
	INITGLOBAL, TERMINSTANCE, and TERMGLOBAL.

1999-06-12  Ian Lance Taylor  <ian@@zembu.com>

	* ar.c (O_BINARY): Define as 0 if not defined.
	(ranlib_touch): Open file with O_BINARY.

	* rename.c (O_BINARY): Define as 0 if not defined.
	(simple_copy): Open files with O_BINARY.

	Based on patch from H. Peter Anvin <hpa@@transmeta.com>:
	* objcopy.c (struct section_list): Add copy field.
	(sections_copied): New static variable.
	(copy_options): Add "only-section".
	(copy_usage): Mention -j and --only-section.
	(find_section_list): Initialize copy field.
	(is_strip_section): Check for copying sections.
	(copy_object): Check sections_copied when calling filter_symbols.
	(setup_section): Check for copying sections.
	(copy_section): Likewise.
	(copy_main): Handle -j/--only-section.
	* binutils.texi, objcopy.1: Document -j/--only-section.

	* configure.in: If frexp is not available, check in -lm.
	* configure: Rebuild.

	* readelf.c (get_elf_class): Use correct printf format for type.
	(get_data_encoding): Likewise.
	(get_osabi_name): Likewise.
	(process_file_header): Don't pass an extra argument to printf.
	(process_dynamic_segment): Cast dynamic_size to long before
	printing.
	(decode_location_expression): Cast byte_get to long before
	printing.

Wed Jun  9 11:40:16 1999  Andreas Schwab  <schwab@@issan.cs.uni-dortmund.de>

	* readelf.c (dump_section): Cast values from byte_get to
 	[unsigned] long for printing, in case it is wider than long.
	(display_block): Likewise.
	(read_and_display_attr): Likewise.
	(decode_location_expression): Likewise.  Don't depend on
 	evaluation order.

Mon Jun  7 12:14:57 1999  Andreas Schwab  <schwab@@issan.cs.uni-dortmund.de>

	* windres.c (usage): Fix typo.

1999-06-04  Nick Clifton  <nickc@@cygnus.com>

	* readelf.c: Use 64bit wide fields in internal strcutures even if
	targetting a 32bit architecture.
	(dump_relocations): Take a new parameter - the number of symbols
	in the symbol table.

1999-06-04  Nick Clifton  <nickc@@cygnus.com>

	* readelf.c: Add support for 64bit ELF files.

1999-06-03  Nick Clifton  <nickc@@cygnus.com>

	* dlltool.c (mcore_elf_gen_out_file): Use constants for temporary
	file names.

Wed Jun  2 12:34:36 1999  Richard Henderson  <rth@@cygnus.com>

	* dlltool.c (gen_exp_file): Revert 19990411 change.

Mon May 31 09:56:22 1999  Andreas Schwab  <schwab@@issan.cs.uni-dortmund.de>

	* readelf.c (process_relocs): Determine type of reloc from
	DT_PLTREL and from section type.

1999-05-29  Nick Clifton  <nickc@@cygnus.com>

	* readelf.c (get_elf_class): Display unknown class number.
	(get_data_encoding): Display unknown encoding number.
	(get_osabi_name): Display unknown ABI number.
	(process_file_header): Display unknown version number.

1999-05-29  Nick Clifton  <nickc@@cygnus.com>

	* readelf.c (dump_relocations): Fix typo.

1999-05-28  Nick Clifton  <nickc@@cygnus.com>

	* readelf.c (dump_relocations): Add extra parameter: is_rela to
	specify the kind of relocations to be dumped.  Call guess_is_rela
	if this parameter has a value of UNKNOWN.
	(guess_is_rela): New function:  Guess the kind of reloc being used
	baced on the machine number.
	(process_relocs): Determine type of reloc before calling
	dump_relocations.

1999-05-28  Ian Lance Taylor  <ian@@zembu.com>

	* readelf.c: Include "elf/i960.h".
	(dump_relocations): Handle EM_960.

Thu May 27 11:58:33 1999  Andreas Schwab  <schwab@@issan.cs.uni-dortmund.de>

	* objcopy.c (copy_archive): Preserve dates of archive members if
	requested.

	* readelf.c (dump_relocations): Always print the addend on RELA
	systems even if there is no symbol.
	(process_program_headers): Reset dynamic_size before looping
	through the program headers.
	(process_version_sections): Cast sh_offset to unsigned long for
	printing in case bfd_vma is wider.
	(process_symbol_table): Use get_symbol_index_type when printing
	st_shndx.

1999-05-17  DJ Delorie  <dj@@cygnus.com>

	* windres.c: add verbose option
	(main): process verbose option
	* resrc.c (look_for_default): new.  Look for the default
	preprocessor in a given location.
	(read_rc_file): for foo/bar-windres, look for foo/bar-gcc,
	foo/gcc (in case of foo/windres), and then gcc (the old default).

1999-05-16  Nick Clifton  <nickc@@cygnus.com>

	* dlltool.c (deduce_name): New function: Deduce name of program to
	run.
	(mcore_elf_out_file): New variable: Name of mcore-elf output file.
	(mcore_elf_linker): New variable: Name of linker to use.
	(mcore_elf_linker_flags): New variable: Linker flags to pass.
	(scan_obj_file): Cache filenames if necessary.
	(usage): Document new command line options.
	(main): Support new command line options: -M (generate an
	mcore-elf output file) -L (name of linker to use) -F (flags to
	pass to linker).
	(mcore_elf_cache_filename): Store a filename in a cache.
	(mcore_elf_gen_out_file): New function: Generate an output file
	per the mcore-elf spec.

1999-05-15  Nick Clifton  <nickc@@cygnus.com>

	* configure.in (BUILD_MISC): Build dlltool for mcore
	* configure: Regenerate.
	* dlltool.c: Update example in comment.
	(DLLTOOL_MCORE): Define.
	(DLLTOOL_MCORE_ELF): Define.
	(DRECTVE_SECTION_NAME): Define.
	(mcore_be_jtab, mcore_le_jtab): Binary for performing an mcore
	jump to address.
	(mtable): Add entries for mcore variants.
	(rvaafter, rvabefore, asm_prefix): Add mcore suppport.
	(scan_drectve_symbols): Use DRECTVE_SECTION_NAME.
	(make_head, make_tail): Cope if file cannot be created.
	(usage): Improve layout.

1999-05-13  DJ Delorie  <dj@@cygnus.com>

	* rclex.l: add code to suppress certain output from cpp, replace
	all returns with MAYBE_RETURN
	(MAYBE_RETURN): new, implement the suppression by returning
	IGNORED_TOKEN as needed.
	(cpp_line): remember which file we're in, mark data from included
	*.h files for suppression.
	* rcparse.y (input): allow IGNORED_TOKEN outside of known constructs

1999-05-10  DJ Delorie  <dj@@cygnus.com>

	* windres.c (quot): Quote shell metacharacters in a string
	(main): quote parameters to cpp that might have metacharacters in
	them.  Allow -D as an alias for --define to allow for sharing make
	macros with gcc.

	* objdump.c (dump_reloc_set): don't core if howto->name is NULL

	* Makefile.am: Give rescoff.c a cpu-specific -D so it can set
	the correct BFD.
	* Makefile.in: ditto
	* rescoff.c (write_coff_file): Set the correct BFD

1999-05-06  Ian Lance Taylor  <ian@@zembu.com>

	* rename.c (smart_rename): Fix test of whether file exists.

1999-05-06  Nick Clifton  <nickc@@cygnus.com>

	* objdump.c (disassemble_data): Set display_endian based on target
	endianism.

1999-05-05  Catherine Moore  <clm@@cygnus.com>

	* dlltool.c (interwork): Remove.
	(arm_interwork_jtab): Use bx insn.
	(thumb_jtab): Likewise.
	(MARM_INTERWORK): New machine type.
	(rvaafter): Handle it.
	(rvabefore) Likewise.
	(asm_prefix): Likewise.
	(gen_exp_type): Check machine type instead of
	interwork flag.
	(make_one_lib_file): Likewise.
	(make_head): Likewise.
	(make_tail): Likewise.
	(usage): Update machine types.
	(main): Remove -interwork support.

1999-05-05  Catherine Moore  <clm@@cygnus.com>

	* readelf.c (get_machine_flags):  Check for EF_CPU32.
	(get_data_encoding): Fix typo.

1999-04-26  Tom Tromey  <tromey@@cygnus.com>

	* aclocal.m4, configure: Updated for new version of libtool.

1999-04-18  Ian Lance Taylor  <ian@@zembu.com>

	* stabs.c (parse_stab_range_type): Correct parenthesization in
	BFD64 case.

	* readelf.c (get_section_type_name): Use correct types in printf
	formats.
	(process_relocs): Likewise.
	(process_dynamic_segment): Likewise.
	(process_symbol_table): Likewise.
	(process_mips_specific): Likewise.

Tue Apr 13 21:22:00 1999  Catherine Moore  <clm@@cygnus.com>

	* dlltool.c (make_one_lib_file): Mark thumb functions as
	C_THUMBEXTFUNC.

1999-04-11  Richard Henderson  <rth@@cygnus.com>

	* bucomm.h (environ): Declare it, if needed.
	(alloca) [C_ALLOCA]: Don't use gcc's builtin or <alloca.h>.
	* configure.in (environ): Detect declaration.
	* nm.c (main): Don't declare environ.
	* configure, config.in: Rebuild.

	* dlltool.c (gen_exp_file): Pad out the .reloc section to a
	32-byte boundary with dummy relocations, to make the BeOS loader
	happy.  Patch from Bob Manson <manson@@charmed.cygnus.com>.

1999-04-08  Tom Tromey  <tromey@@cygnus.com>

	* binutils.texi (c++filt): Updated for -j/--java, and hp/edg
	formats.

1999-04-08  Nick Clifton  <nickc@@cygnus.com>

	* readelf.c: Add ability to decode new constants found in April 25
	1998 Draft of System V ABI spec.

1999-04-06  Ian Lance Taylor  <ian@@zembu.com>

	* bucomm.h (LC_MESSAGES): Never define.
	* addr2line.c (main): Don't pass LC_MESSAGES to setlocale if the
	system does not define it.
	* ar.c (main): Likewise.
	* coffdump.c (main): Likewise.
	* dlltool.c (main): Likewise.
	* nlmconv.c (main): Likewise.
	* nm.c (main): Likewise.
	* objcopy.c (main): Likewise.
	* objdump.c (main): Likewise.
	* size.c (main): Likewise.
	* srconv.c (main): Likewise.
	* strings.c (main): Likewise.
	* sysdump.c (main): Likewise.
	* windres.c (main): Likewise.
	* readelf.c (main): Call locale setting functions.

1999-04-05  Nick Clifton  <nickc@@cygnus.com>

	* readelf.c (decode_location_expression): Fix DW_OP_const8{s|u}
	decodes.

1999-04-04  Ian Lance Taylor  <ian@@zembu.com>

	* rename.c: New file, copied out of objcopy.c with a few changes.
	* bucomm.h (set_times, smart_rename): Declare.
	* ar.c: Don't include <utime.h>.
	(extract_file): Call set_times rather than utime.
	(write_archive): Call smart_rename rather than unlink and rename.
	* objcopy.c: Don't include <utime.h>.
	(simple_copy, smart_rename, set_times): Move to rename.c.
	(strip_main): Update smart_rename call for new parameter.
	(copy_main): Likewise.
	* Makefile.am: Rebuild dependencies.
	(CFILES): Add rename.c.
	(objcopy_SOURCES, strip_new_SOURCES): Add rename.c.
	(ar_SOURCES, ranlib_SOURCES): Add rename.c.
	* Makefile.in: Rebuild.

	* Makefile.am: Rebuild dependencies.
	(EXTRA_PROGRAMS): Remove backslash which troubles current version
	of automake.
	* Makefile.in: Rebuild.

	* dllwrap.c (main): Expect correct type in format string.
	* resres.c: Include "bfd.h", "bucomm.h", "libiberty.h", and
	<time.h>.  Don't include <stdio.h> and <errno.h>.
	(write_res_file): Remove unused locals e and i.
	(read_resource_entry): Remove unused locals rtype and n.
	(read_unistring): Remove unused local n.

1999-04-03  Ian Lance Taylor  <ian@@zembu.com>

	* arparse.y: Declare yylex.
	* objdump.c (disassemble_bytes): Initialize bytes.  Add comment
	for incorrect use of bytes.
	* readelf.c: Change many formats to avoid warnings.

1999-04-01  Nick Clifton  <nickc@@cygnus.com>

	* readelf.c (reset_state_machine): New function.  Resets the
	registers of the source line number state machine.
	(process_extended_line_op): Use state machine.
	(display_debug_lines): Use state machine.  Handle multiple line
	number blocks within the same section.

1999-03-29  Jason Merrill  <jason@@yorick.cygnus.com>

	* readelf.c (process_extended_line_op): end_sequence also resets
	the line number.
	(display_debug_lines): advance_line takes a signed operand.
	(read_and_display_attr): Print refs as <%x>, addresses as %#x,
	others as %d.  Handle other location expression attributes.
	(display_debug_info): Handle nesting.  Always print the	offset.

1999-03-23  Ian Lance Taylor  <ian@@zembu.com>

	* objcopy.c (filter_symbols): When checking whether to keep a
	symbol, check the BFD section symbol for a symbol with
	BSF_SECTION_SYM set.

1999-03-10  Ulrich Drepper  <drepper@@cygnus.com>

	* readelf.c (process_dynamic_segment): Print new Solaris dynamic
	section entries.  Correct printing of DT_POSFLAG_1 and DT_FLAGS_1.

1999-03-10  Nick Clifton  <nickc@@cygnus.com>

	* readelf.c (request_dump): New function.
	Removed arbitary limit on the number of sections that can be
	dumped.

Wed Mar 10 15:10:14 1999  Stan Cox  <scox@@cygnus.com>

	* dlltool.c (make_one_lib_file): Use %05d to output the stub name so
	order in the import library is preserved.

1999-02-19  Nick Clifton  <nickc@@cygnus.com>

	* readelf.c: Fix compile time warings.

1999-02-17  DJ Delorie  <dj@@cygnus.com>

	* resbin.c (res_to_bin_versioninfo): Instead of entering a value
	length of zero in a version info string, enter the appropriate
	length.

Tue Feb 16 16:00:33 1999  Ian Lance Taylor  <ian@@cygnus.com>

	* configure.in: Require autoconf 2.13.  Change AM_PROG_INSTALL to
	AC_PROG_INSTALL.  Add comments for AC_DEFINE calls.
	* acconfig.h: Remove.
	* aclocal.m4: Rebuild.
	* configure: Rebuild.
	* Makefile.in: Rebuild.
	* config.in: Rebuild.

1999-02-02  Nick Clifton  <nickc@@cygnus.com>

	* readelf.c (read_and_display_attr): Add display of basic type
	encodings.
	(display_debug_aranges): New function: Display the contents of a
	.debug_aranges section.
	(display_debug_info): Dump tags found after compunit entry.

	* binutils.texi: Fixed bug in readelf documentation.

Mon Feb  1 12:38:01 1999  Catherine Moore  <clm@@cygnus.com>

	* readelf.c (dump_relocations):  Handle EM_ARM as REL.

1999-01-29  Nick Clifton  <nickc@@cygnus.com>

	* readelf.c (process_symbol_table): Do not produce a histogram of
	bucket chains if none were found.

1999-01-27  Nick Clifton  <nickc@@cygnus.com>

	* version.c: Add 1999 copyright.

	* binutils.texi (readelf): Document new command line options
	--debug-dump and --histogram.

	* readelf.c: Add ability to display contents of some or all of the
	Dwarf2 debug sections.  {Work only partially completed}.
	(display_debug_section): New function.
	(display_debug_info): New function.
	(display_debug_not_supported): New function.
	(display_debug_line): New function.
	(display_debug_abbrev): New function.
	(process_abbrev_section): New function.
	(read_leb128): New function.
	(process_extended_line_op): New function.
	(get_TAG_name): New function.
	(get_AT_name): New function.
	(get_FORM_name): New function.
	(free_abbrevs): New function.
	(add_abbrev): New function.
	(add_abbrev_attr): New function.
	(read_and_display_attr): New function.
	(display_block): New function.

Thu Jan 14 23:36:11 1999  Jeffrey A Law  (law@@cygnus.com)

	* coffdump.c (xcalloc): Remove, in libiberty now.
	* srconv.c (xcalloc): Likewise.
	* sysdump.c (xcalloc): Likewise.

1999-01-14  Nick Clifton  <nickc@@cygnus.com>

	* readelf.c (process_section_headers): Omit trailing space at end
	of section header contents line.

Wed Dec 16 17:20:05 1998  Doug Evans  <devans@@canuck.cygnus.com>

	* aclocal.m4: Regenerate.

Mon Dec 14 12:55:36 1998  Jim Wilson  <wilson@@cygnus.com>

	* dllwrap.c: Include bfd.h and bucomm.h.  Move getopt.h include
	after libiberty.h include.

Tue Dec  8 16:29:43 1998  Ian Lance Taylor  <ian@@cygnus.com>

	* objdump.1: Fix typo (-d to -D).  From Nokubi Hirotaka
	<hnokubi@@yyy.or.jp>.

Sun Dec  6 13:28:09 1998  Ian Lance Taylor  <ian@@cygnus.com>

	* objdump.c (SFILE): Add size field.
	(objdump_sprintf): Merge both versions into one.  Increase buffer
	size as needed to avoid overflow.
	(disassemble_bytes): Change buf from 1000 bytes to 50.  Change
	initialization and use of sfile to match changes to
	objdump_sprintf.

	* strip.1: Fix typo (-V to -v).  From Issei Hirayama
	<iss@@mail.wbs.or.jp>.

1998-12-03  Ulrich Drepper  <drepper@@cygnus.com>

	* readelf.c (process_dynamic_segment): Improve output format for
	various DT_* values.

1998-12-02  Ulrich Drepper  <drepper@@cygnus.com>

	* readelf.c (process_mips_specific): Print .conflict section
	content.

	* readelf.c (process_mips_specific): Print l_flags in liblist in
	textual form.

1998-11-30  Nick Clifton  <nickc@@cygnus.com>

	* ar.c (extract_file): Add some paranoia checks for negatively
	sized files.

Tue Nov 24 09:39:24 1998  Nick Clifton  <nickc@@cygnus.com>

	* stabs.c (DIR_SEPARATOR): Define as '\\' if WIN32 is defined.

Tue Nov 17 10:25:26 1998  Nick Clifton  <nickc@@cygnus.com>

	* Makefile.in: Regenerate.

Mon Nov 16 19:17:23 1998  Dave Brolley  <brolley@@cygnus.com>

	* po/binutils.pot: Regenerate.

Mon Nov 16 10:18:53 1998  Nick Clifton  <nickc@@cygnus.com>

	* Makefile.am: Regernated dependencies.
	* aclocal.m4: Regenerated.
	* configure: Regenerated.

Sat Nov 14 14:50:56 1998  Ian Lance Taylor  <ian@@cygnus.com>

	* debug.c (debug_name_type): Correct return type from false to
	DEBUG_TYPE_NULL.

Sat Nov 14 14:48:21 1998  Andreas Schwab  <schwab@@issan.cs.uni-dortmund.de>

	* objdump.c (disassemble_data): Skip over relocs below start
	address.

Tue Nov 10 15:31:52 1998  Nick Clifton  <nickc@@cygnus.com>

	* Makefile.am: Add dependency of readelf.c on elf/fr30.h
	* Makefile.in: Regenerate.

Wed Nov  4 16:25:55 1998  Nick Clifton  <nickc@@cygnus.com>

	* readelf.c: Add support for the FR30.

Mon Nov  2 14:59:33 1998  Geoffrey Noer  <noer@@cygnus.com>

	* configure.in: detect cygwin* instead of cygwin32*
	* configure: regenerate

Fri Oct 30 15:14:49 1998  Geoffrey Noer  <noer@@cygnus.com>

        * dllwrap.c: change all references to cygwin32_ to cygwin_,
	change Cygwin target def to CYGWIN.

Wed Oct 28 10:31:19 1998  Nick Clifton  <nickc@@cygnus.com>

	* objdump.c (disassemble_data): Replace 'unsigned long' with
	'bfd_vma'.

Tue Oct 27 14:39:00 1998  Nick Clifton  <nickc@@cygnus.com>

	* objdump.c (disassemble_bytes): Applied this patch from Philip
	Blundell <pb@@nexus.co.uk>:  Make address variables unsigned to
	avoid problems when disassembling code at high-bit-set addresses.

Mon Oct 26 14:07:59 1998  Mumit Khan  <khan@@xraylith.wisc.edu>

        * dllwrap.c (strhash): New function.
        (main): Use it to supply image base if not supplied by user.
        (program_version): Up to 0.2.4.

Mon Oct 26 14:07:59 1998  Mumit Khan  <khan@@xraylith.wisc.edu>

        * dlltool.c (add_stdcall_alias): New global.
        (long_options): Add --add-stdcall-alias option.
        (main): Handle it.
        (scan_drectve_symbols): Add alias if --add-stdcall-alias is
        specified.
        (scan_filtered_symbols): Likewise.
        (gen_def_file): Output alias for stdcall syms if appropriate.

        * binutils.texi (dlltool): Document --add-stdcall-alias option.

        * dllwrap.c (long_options): Add --add-stdcall-alias option.
        (main): Handle it.

        * defparse.y (opt_name): Allow "." in name.
        * dlltool.c (def_name): Set dll_name from NAME entry in def file.
        (def_library): Set dll_name from LIBRARY entry in def file.

Mon Oct 26 14:07:59 1998  Mumit Khan  <khan@@xraylith.wisc.edu>

        * dllwrap.c (long_options): --implib synonym for --output-lib.
        (main): Pass --export-all to dlltool only if specified.
        (program_version): Up to 0.2.3.

Mon Oct 26 14:07:59 1998  Mumit Khan  <khan@@xraylith.wisc.edu>

        * dllwrap.c (mybasename): New function.
        (main): Run dlltool to create export definition file and import
        library file if necessary.
        Change exp_file_name so that it's based on the dll name.

Sun Oct 25 10:37:45 1998  Mumit Khan  <khan@@xraylith.wisc.edu>

        * dlltool.c (scan_all_symbols): Fix patch error.

Fri Oct 16 22:56:20 1998  Felix Lee  <flee@@cygnus.com>

	* nm.c (display_rel_file): fix "no symbols" messages.
	* objdump.c (slurp_symtab): ditto.
	* po/POTFILES.in, po/binutils.pot: rebuilt

Mon Oct 12 14:28:03 1998  Nick Clifton  <nickc@@cygnus.com>

	* readelf.c (dump_relocations): Rename field from Value to Info to
	match name of field in ELF structures.

Thu Oct  8 15:33:08 1998  Geoffrey Noer  <noer@@cygnus.com>

	* configure.in: call AC_EXEEXT instead of AM_EXEEXT and
	AM_CYGWIN32.
	* aclocal.m4: remove local AM_EXEEXT/AM_CYGWIN32 macros.
	* configure: regenerate

Thu Oct  8 15:33:08 1998  Geoffrey Noer  <noer@@cygnus.com>

	From Mumit Khan  <khan@@xraylith.wisc.edu>:
        * dlltool.c (scan_all_symbols): Don't re-export symbols exported
        by other DLLs.

Thu Oct  8 15:33:08 1998  Geoffrey Noer  <noer@@cygnus.com>

	* Makefile.am (BUILD_DLLWRAP): Add.
	(BUILD_DLLWRAP, DLLWRAP_PROG): Add.
	(bin_PROGRAMS): Add dllwrap.
	* Makefile.in: regenerate with automake

	From Mumit Khan  <khan@@xraylith.wisc.edu>:
        * dllwrap.c: New file from dllhelpers v0.2.1.
	(print_version): New function.
	(long_options): Add --version.
	(main): Handle.
        * dyn-string.h, dyn-string.c: New files from egcs-1.1/gcc.
        * configure.in (BUILD_DLLWRAP): Add.
        * configure: Regenerate.

Tue Oct  6 18:20:10 1998  Geoffrey Noer  <noer@@cygnus.com>

	* Makefile.am (windres_SOURCES): Add resres.c.
	(windres_OBJECTS): Add resres.o.
	* Makefile.in: regenerate with automake

        From Anders Norlander <anorland@@hem2.passagen.se>.
        * resres.c: New file.  Implementation of read_res_file and
        write_res_file functions for windres.
        * rcparse.y: Handle CONTROL's with named classes.
        * resbin.c: Bug in res_to_bin_dialog and bin_to_res_dialog
        when dialog is extended: The version and signature fields should
        be reversed (despite what the docs say). Id is 32 bits long in
        extended dialogs.
        * resrc.c (write_rc_dialog): properly print controls with named
        classes.
        * windres.c (read_res_file, write_res_file): Remove stubs.
        * resres.c (write_res): Rename RT_ACCELERATORS to RT_ACCELERATOR.

Sun Oct  4 20:34:42 1998  Ian Lance Taylor  <ian@@cygnus.com>

	From Nokubi Hirotaka <hnokubi@@yyy.or.jp>:
	* objcopy.1: Fix typo in --remove-leading-char docs.
	* objdump.1: Fix formatting in --stabs docs.

Sat Sep 19 23:33:56 1998  Ian Lance Taylor  <ian@@cygnus.com>

	* rcparse.y (memflags_move): Correct recursion.

1998-09-10  Ulrich Drepper  <drepper@@cygnus.com>

	* readelf.c (process_symbol_table): Print in histogram how many
	symbols are covered by the current chain length.

Sun Sep  6 16:15:47 1998  Nick Clifton  <nickc@@cygnus.com>

	* readelf.c (process_section_contents): Do not try to dump empty
	sections.

Sat Sep  5 19:17:10 1998  Mumit Khan  <khan@@xraylith.wisc.edu>

	* dlltool.c (scan_all_symbols): Don't re-export symbols exported
	by other DLLs.

1998-09-02 14:50  Ulrich Drepper  <drepper@@cygnus.com>

	* readelf.c (process_dynamic_segment): Print DT_* value only if
	do_dynamic.
	(do_histogram): New variable.
	(options): New long option histogram.  Set do_histogram if this
	option is used.
	(usage): Document --histogram.
	(parse_args): Handle 0 return value from getopt_long.  Enable
	do_histogram for -a.
	(process_symbol_table): Read hash table also if only do_histogram.
	Add code to print hash table histogram.

1998-08-25 16:45  Ulrich Drepper  <drepper@@cygnus.com>

	* readelf.c (process_dynamic_segment): Read syminfo section if
	available.
	(process_syminfo): New function.  Print syminfo information.
	(process_file): Call process_syminfo and free syminfo data at the end.

Wed Aug 19 16:19:51 1998  Ian Lance Taylor  <ian@@cygnus.com>

	* dlltool.c (usage): Add file parameter.  Change all callers.
	(main): Don't treat '?' as a special case in getopt return.

	* binutils.texi (dlltool): Document new options.  Add some uses of
	@@var.

Wed Aug 19 16:19:07 1998  Mumit Khan  <khan@@xraylith.wisc.edu>

	* dlltool.c (gen_def_file): Plug memory leak.  Don't print
	demangled name if it is NULL.

	Support for exporting all symbols to an output export def file:
	* dlltool.c ({export_all_symbols, no_default_excludes,
	no_default_excludes, excludes}): New file static variables.
	(struct string_list): Type to hold list of symbols to exclude.
	(scan_drectve_symbols): Renamed from scan_open_obj_file.
	(scan_filtered_symbols): New static function.
	(add_excludes): New static function.
	(match_exclude): New static function.
	(set_default_excludes): New static function.
	(filter_symbols): New static function.
	(scan_all_symbols): New static function.
	(scan_open_obj_file): New static function.
	(usage): Document new options.
	(long_options): Add new options.
	(main): Handle new options.

1998-07-31 21:24  Ulrich Drepper  <drepper@@cygnus.com>

	* readelf.c (process_program_headers): Print p_offset value with
	six hex digits.
	(dynamic_segment_mips_val): Add support for DT_MIPS_FLAGS,
	DT_MIPS_IVERSION, and DT_MIPS_TIME_STAMP.
	(process_mips_specific): Also print seconds of time stamp.

Fri Jul 31 10:04:23 1998  Catherine Moore  <clm@@cygnus.com>

        * readelf.c (dump_relocations):  EM_ARM uses rela relocs.

1998-07-30 16:25  Ulrich Drepper  <drepper@@cygnus.com>

	* readelf.c (get_dynamic_type): Don't used gettext on the names.
	Add new DT_* values from Solaris.  Don't print nuemric value in
	case of an unknown entry.
	(process_dynamic_segment): Handle new DT_* entries.  Print numeric
	values in decimal, not hex.

Fri Jul 24 16:28:57 1998  Jeff Holcomb  <jeffh@@cygnus.com>

	* readelf.c (get_dynamic_type): Remove empty default from switch
	statement.

Fri Jul 24 16:28:12 1998  Ian Lance Taylor  <ian@@cygnus.com>

	* Makefile.am (install-exec-local): Don't remove the file before
	checking whether $(bindir) == $(tooldir)/bin.  From Maciej
	W. Rozycki <macro@@ds2.pg.gda.pl>.
	* Makefile.in: Rebuild.

Fri Jul 24 09:38:59 1998  Nick Clifton  <nickc@@cygnus.com>

	* objcopy.c: Removed spurious inclusion of elf/internal.h and
	elf-bfd.h.

1998-07-22  Ulrich Drepper  <drepper@@cygnus.com>

	* readelf.c: Consistantly use elf_ prefix for *_reloc_type
	functions.

Wed Jul 22 16:29:12 1998  Nick Clifton  <nickc@@cygnus.com>

	* readelf.c (dump_relocations): Add dumps of HPPA and ARC
	relocations.

	(process_relocs): Do not abort if no string table can be found.

1998-07-22 14:58  Ulrich Drepper  <drepper@@cygnus.com>

	* readelf.c: Remove definition of functions to return relocation
	symbol strings.  They now get implicitly defined when include the
	system specific ELF header.

1998-07-22 13:51  Ulrich Drepper  <drepper@@cygnus.com>

	* readelf.c: Before include system specific ELF header define
	START_RELOC_NUMBERS, RELOC_NUMBER, and END_RELOC_NUMBERS.  For now
	used for ppc, mips, and mn10300.

Wed Jul 22 10:26:32 1998  Nick Clifton  <nickc@@cygnus.com>

	* readelf.c (dump_relocations): Display number of unrecognised
	relocations.

1998-07-21 13:13  Ulrich Drepper  <drepper@@cygnus.com>

	* readelf.c: Use symbolic names of relocation entries for the various
	architectures.  Correct more layout details.
	Print names of MIPS specific section types.  Print Alpha, ARM, and
	MIPS relocation type names.

1998-07-20  Vladimir N. Makarov  <vmakarov@@cygnus.com>

	* objcopy.c (filter_symbols): Add code for strip all symbols case.
        (copy_objects): Strip all case is now processed also through
	filter_symbols.  No marking symbols used in relocations when strip
	all symbols case.
	(copy_section): When strip all symbols case, remove relocations
	which are not in keep strip specific list.
	(strip_main): Remove guard `strip_specific_list == NULL' for
	setting up strip all symbols by default.

Mon Jul 20 12:51:16 1998  Andreas Schwab  <schwab@@issan.informatik.uni-dortmund.de>

	* addr2line.c (find_address_in_section): Only consider a section
	if the pc value is completely contained within it.
	(translate_addresses): Don't crash if functionname or filename are
	null.

1998-07-20 07:45  Ulrich Drepper  <drepper@@cygnus.com>

	* readelf.c (process_symbol_table): Fix little alignment problem
	in printed table header.

1998-07-20 07:14  Ulrich Drepper  <drepper@@cygnus.com>

	* readelf.c: Correct reading of .dynamic section.
	(dynamic_section): Now a global variable.
	(process_mips_fpe_exception, process_mips_specific,
	process_arch_specific): New functions.
	(get_file_header): Call process_arch_specific.

1998-07-19 15:15  Ulrich Drepper  <drepper@@cygnus.com>

	* readelf.c: Fix several versioning related bugs.  Produce nicer
	output.
	Add support for processor specific information on MIPS.

Fri Jul 10 15:57:58 1998  Nick Clifton  <nickc@@cygnus.com>

	* readelf.c: Switch prototypes from unsigned short to unsigned
	int.

Fri Jul 10 16:17:50 1998  Ian Lance Taylor  <ian@@cygnus.com>

	From Christian Holland <CHolland@@de.lucent.com>:
	* ieee.c (parse_ieee): Initialize info.global_vars and
	info.global_types.
	(parse_ieee_atn): Ignore register lifetime information reportedly
	emitted by MRI compiler.

Thu Jul  9 13:08:01 1998  Ian Lance Taylor  <ian@@cygnus.com>

	* Makefile.am (MAINTAINERCLEANFILES): Define.
	* Makefile.in: Rebuild.

Tue Jul  7 21:48:54 1998  Jeffrey A Law  (law@@cygnus.com)

	* readelf.c (byte_get): Use PARAMS in prototype.
	(error): Make it work with non-ANSI compilers.
	(warn): Likewise.
	(get_ver_flags): Don't use an ANSI prototype in the definition.

Tue Jul  7 13:26:13 1998  Ian Lance Taylor  <ian@@cygnus.com>

	* objcopy.c (filter_bytes): Set size correctly if the size of the
	section is not an even multiple of the interleave.  Based on patch
	from Brion Stone <Brion.Stone@@attws.com>.

Thu Jul  2 14:01:34 1998  Klaus Kaempf  <kkaempf@@rmi.de>

	* configure.com: Add vax/vms support.
	* makefile.vms-in: Renamed from makefile.vms.  Add substitutions
	now done by configure.com.

Wed Jul  1 20:43:52 1998  Ian Lance Taylor  <ian@@cygnus.com>

	* stabs.c (parse_stab_range_type): Handle 4 and 8 byte signed
 	integers with real upper bounds.  Handle a lower bound one larger
 	than the upper bound as a signed integer.  Handle 8 byte signed
	integers.
	(stab_demangle_template): Optionally return the demangled name of
	the template.
	(stab_demangle_qualified): Treat a template name as a tagged
	type.
	(stab_demangle_fund_type): Likewise.

Wed Jul  1 16:29:50 1998  Nick Clifton  <nickc@@cygnus.com>

	* objcopy.c: Minor formatting improvements.
	* readelf.c: Minor output formatting improvement.

Wed Jul  1 14:23:48 1998  Ian Lance Taylor  <ian@@cygnus.com>

	* rclex.l: Add casts and change types to avoid warnings.
	* rcparse.y: Likewise.
	* resbin.c: Likewise.
	* rescoff.c: Likewise.
	* resrc.c: Likewise.

	* Makefile.am: Rebuild dependencies.
 	(HFILES): Remove readelf.h.
	* Makefile.in: Rebuild.

	Based on patches from Andrew Kozin
	<Andrew.Kozin@@p14.f960.n5020.z2.fidonet.org>:
	* winduni.h: New file, from windres.h.
	* winduni.c: New file, from windres.c.
	* windres.c: Move Unicode functions into winduni.c.
	* windres.h: Move Unicode declarations into winduni.h.  Include
	winduni.h.
 	(RT_ACCELERATOR): Rename from RT_ACCELERATORS to match Windows
	macro.  Change all uses.
	(RT_PLUGPLAY, RT_VXD): Correct values.
	* Makefile.am (HFILES): Add windres.h.
	(CFILES): Add winduni.c.
	(windres_SOURCES): Add winduni.c.

Mon Jun 29 17:01:21 1998  Nick Clifton  <nickc@@cygnus.com>

	* readelf.c: Use BFD Internal and External Elf structures.
	* readelf.h: Removed - no longer needed.
	* Makefile.in: Remove readelf.c's dependency upon readelf.h.

1998-06-26  Vladimir N. Makarov  <vmakarov@@cygnus.com>

	* objcopy.c (strip_main): keep_specific_list == NULL as additional
	condition to set up strip all symbols by default.
	(copy_archive): don't change archive when error in object files of
	the archive.

Wed Jun 24 17:53:47 1998  Ian Lance Taylor  <ian@@cygnus.com>

	* stabs.c (parse_number): Sign extend negative values correctly if
	bfd_vma is larger than unsigned long.

Tue Jun 23 14:55:05 1998  Mike Stump  <mrs@@wrs.com>

	* Makefile.am (install-exec-local): Don't let EXEEXT interfere
	with the program transform name.
	* Makefile.in: Rebuild.

Tue Jun 23 11:08:53 1998  Nick Clifton  <nickc@@cygnus.com>

	* readelf.c: Rewrite to use fopen/fread ratehr than mmap.

	Add --section-headers command line switch, which is an alias for
	--sections.

	Incorporate improvemnts made by Andreas Schwab
	<schwab@@issan.informatik.uni-dortmund.de> including output
	formatting and version info display.

	* binutils.texi: Document --section-headers switch to readelf.

Mon Jun 22 18:28:19 1998  Ian Lance Taylor  <ian@@cygnus.com>

	* readelf.c: Include bfd.h and bucomm.h before system header
	files.
	(parse_args): Change type of c from char to int.

Sun Jun 14 14:26:28 1998  Nick Clifton  <nickc@@cygnus.com>

	* readelf.c (usage): Write to stdout, not stderr.

Fri Jun 12 13:33:51 1998  Tom Tromey  <tromey@@cygnus.com>

	* po/Make-in (all-yes): Depend on .pot file if maintainer mode
	enabled.
	($(PACKAGE).pot): Unconditionally depend on POTFILES.

Fri Jun 12 16:06:15 1998  Michael Meissner  <meissner@@cygnus.com>

	* readelf.c (get_ppc_rel_type): New PowerPC support.
	(dump_relocations): PowerPC uses RELA relocations.
	(get_machine_name): Spell PowerPC correctly.
	(get_file_type): Change unsigned short parameter to unsigned.
	(get_machine_name): Ditto.
	(get_machine_data): Return whether big endian or little endian.
	(get_machine_flags): Interpret PowerPC, M32R, and MIPS flags.
	(process_elf_header): Print endian-ess.  Convert all numeric
	formats to long or unsigned long.  Print out machine specific flag
	bits.
	(process_section_headers): Increase name by 3 columns and decrease
	type by the same so that .gcc_except_table fits in the space.

	* readelf.h: Include elf/ppc.h, elf/mips.h, and elf/m32r.h to get
	machine specific flag bits.

Thu Jun 11 17:54:26 1998  Nick Clifton  <nickc@@cygnus.com>

	* readelf.c: Remove extraneous #includes.  Fix warnings produced
	by -Wall when compiling under Linux.

	* Makefile.am (readelf_LDADD): Add $(LIBIBERTY).

Thu Jun 11 18:30:20 1998  Ian Lance Taylor  <ian@@cygnus.com>

	* stabs.c (struct stab_handle): Add self_crossref field.
	(parse_stab_string): If a tag is a cross reference to itself,
	don't define it in the tags list.
	(parse_stab_type): Set info->self_crossref.

	* debug.c (struct debug_type_real_list): Define.
	(debug_get_real_type): Add list parameter.  Change all callers.
	Check for circularity to avoid crashing when it occurs.

Thu Jun 11 14:48:32 1998  Nick Clifton  <nickc@@cygnus.com>

	* readelf.c: New file: Display contents of ELF format file.
	* readelf.h: New file: Header file for readelf.c
	* Makefile.am: Add rules to build readelf.
	* Makefile.in: Rebuilt.
	* binutils.texi: Document readelf.
	* NEWS: Mention inclusion of readelf into binutils.
	* po/POTFILES.in; Rebuilt.

Fri Jun  5 18:43:40 1998  Ian Lance Taylor  <ian@@cygnus.com>

	* objcopy.c (setup_section): Adjust the section size if copy_byte
	is >= 0.
	(copy_section): Do not call bfd_set_section_size.

Thu Jun  4 09:12:27 1998  Nick Clifton  <nickc@@cygnus.com>

	* objcopy.c (copy_usage): Add missing \n\ from help description.

Wed Jun  3 19:31:33 1998  Ian Lance Taylor  <ian@@cygnus.com>

	* Makefile.am (YACC): Correct bison -L option.
	* Makefile.in: Rebuild.

	* binutils.texi, objdump.1: Document -p/--private-headers.

Wed Jun  3 12:09:40 1998  Nick Clifton  <nickc@@cygnus.com>

	* objcopy.c: Add new command line options: --change-section-lma
	and --change-section-vma.  Rename old command line option
	--adjust-section-vma to --change-section-address.  Rename
	--adjust-vma to --change-addresses and --adjust-start to
	--change-start.  Provide aliases to support the old versions of
	these command line options.

	Change the names of macros and enum elements to upper case to
	match the GNU coding standard.

	Replace calls to fprintf (stderr,...) with calls to fatal () or
	non_fatal () as appropriate.

	* objcopy.1: Document command line option changes.
	* binutils.texi: Document command line option changes.

	* bucomm.h: New exported funtion from bucomm.c: non_fatal().
	* bucomm.c (non_fatal): New exported function.  Just like fatal()
	except that it returns rather than calling xexit().

	(bfd_check_format_matches): Call fatal() rather than bfd_fatal().

	(check_matching_formats): Fix C formating.

	(parse_vma): Call fatal().

Mon Jun  1 18:26:40 1998  Ian Lance Taylor  <ian@@cygnus.com>

	From Yuli Barcohen <yuli.barcohen@@telrad.co.il>:
	* debug.c (debug_type_samep): Avoid endless loops comparing
	function and method parameter types.

Fri May 22 14:02:42 1998  Ian Lance Taylor  <ian@@cygnus.com>

	* dlltool.c (dump_iat): Comment out; not used.
	(display): Rename from tell.  Change all callers.

Thu May 14 14:00:56 1998  Nick Clifton  <nickc@@cygnus.com>

	* dlltool.c: Add support for Thumb DLLs.  Add support for
	interworking between ARM and Thumb programs and DLLs.  Tidy the
	code.

	* binutils.texi: Document dlltool.

	* configure: Build dlltool for thumb-pe targets.

	* version.c (print_version): Include 1998 in copyright strings.

	* stabs.c (parse_stab): Support Win32 style directory separators.

Sun May 10 22:34:44 1998  Jeffrey A Law  (law@@cygnus.com)

	* po/Make-in (install-info): New target.

Fri May  8 10:33:13 1998  Nick Clifton  <nickc@@cygnus.com>

	* ar.c (usage): Extend information provided about command line
	options.

Wed May  6 15:28:51 1998  Klaus Kaempf  <kkaempf@@progis.de>

	* makefile.vms: Run dec c with /nodebug.  Pass CC value when
	calling make.

Tue May  5 15:19:00 1998  Nick Clifton  <nickc@@cygnus.com>

	* configure: Build dlltool for thumb-pe target.
	* configure.in: Build dlltool for thumb-pe target.

Sun May  3 22:04:49 1998  Ian Lance Taylor  <ian@@cygnus.com>

	* Makefile.am (EXTRA_PROGRAMS): Change $(SRCONV_PROG) to sysconf
	sysdump coffdump to avoid extra $(EXEEXT).
	* Makefile.in: Rebuild.

Wed Apr 29 22:22:55 1998  Geoffrey Noer <noer@@cygnus.com>

	* configure.in: Stop appending EXEEXT to the end of
	SRCONV_PROG (wrong because that variable may contain multiple
	programs)
	* Makefile.am: instead, add EXEEXTs to each SRCONV_PROG
	program
	* Makefile.in: regenerate
	* configure: regenerate

Tue Apr 28 19:14:34 1998  Tom Tromey  <tromey@@cygnus.com>

	* addr2line.c (main): Conditionally call setlocale.
	* windres.c (main): Likewise.
	* sysdump.c (main): Likewise.
	* strings.c (main): Likewise.
	* srconv.c (main): Likewise.
	* size.c (main): Likewise.
	* objdump.c (main): Likewise.
	* objcopy.c (main): Likewise.
	* nm.c (main): Likewise.
	* nlmconv.c (main): Likewise.
	* dlltool.c (main): Likewise.
	* coffdump.c (main): Likewise.
	* ar.c (main): Likewise.
	* bucomm.h: Include <locale.h> if HAVE_LOCALE_H.
	(LC_MESSAGES): Now can be defined even when ENABLE_NLS.

Tue Apr 28 10:33:07 1998  Bill Moyer  <ttk@@cygnus.com>

	Add support for IMPORTS:
	* defparse.y (impline): Add IMPORTS syntaxes.
	* dlltool.c (ifunctype, iheadtype): New typedefs.
	(import_list): New static variable.
	(append_import): New static function.
	(def_import): Add an entry to import_list.
	(generate_idata_ofile): New static function.
	(gen_exp_file): Call generate_idata_ofile.
	* dlltool.h (def_import): Update declaration.

Mon Apr 27 16:39:22 1998  Ian Lance Taylor  <ian@@cygnus.com>

	* configure.in: Change version number to 2.9.4
	* configure: Rebuild.

Wed Apr 22 16:00:35 1998  Tom Tromey  <tromey@@cygnus.com>

	* po/Make-in (MKINSTALLDIRS): Don't look in $(top_srcdir).

Wed Apr 22 00:33:56 1998  Tom Tromey  <tromey@@scribbles.cygnus.com>

	* Makefile.am (INCLUDES): Search intl dirs for headers; define
	LOCALEDIR.
	* addr2line.c (main): Call setlocale, bindtextdomain, textdomain.
	* ar.c (main): Likewise.
	* coffdump.c (main): Likewise.
	* dlltool.c (main): Likewise.
	* nlmconv.c (main): Likewise.
	* nm.c (main): Likewise.
	* objcopy.c (main): Likewise.
	* objdump.c (main): Likewise.
	* size.c (main): Likewise.
	* srconv.c (main): Likewise.
	* strings.c (main): Likewise.
	* sysdump.c (main): Likewise.
	* windres.c (main): Likewise.

Tue Apr 21 22:13:08 1998  Tom Tromey  <tromey@@scribbles.cygnus.com>

	* Many files: Added gettext invocations around user-visible
	strings.
	* bucomm.h: Added gettext-related includes and defines.
	* acconfig.h (ENABLE_NLS, HAVE_CATGETS, HAVE_GETTEXT, HAVE_STPCPY,
	HAVE_LC_MESSAGES): Define.
	* configure.in: Call CY_GNU_GETTEXT.  Create po/Makefile.in and
	po/Makefile.  Use AM_PROG_LEX.
	* Makefile.am (SUBDIRS): New macro.
	(POTFILES): Likewise.
	(po/POTFILES.in): New target.
	(LDADD): Added INTLLIBS.
	(objdump_LDADD): Likewise.
	(c__filt_LDADD): Likewise.
	(ar_LDADD): Likewise.
	(ranlib_LDADD): Likewise.
	(dlltool_LDADD): Likewise.
	(windres_LDADD): Likewise.
	* po/Make-in, po/POTFILES.in, po/binutils.pot: New files.

Tue Apr 21 16:07:18 1998  Stanislav Brabec  <utx@@k332.feld.cvut.cz>

	* objcopy.c (preserve_dates): New file static variable.
	(smart_rename): If preserve_dates, call set_times when copying.
	(strip_main): Remove preserve_dates local variable.
	(copy_main): Likewise.

Tue Apr  7 15:41:15 1998  Ian Lance Taylor  <ian@@cygnus.com>

	* Makefile.am (DISTSTUFF): Add defparse.h, defparse.c, rclex.c,
	rcparse.h, and rcparse.c
	* Makefile.in: Rebuild.

Mon Apr  6 16:24:35 1998  Ian Lance Taylor  <ian@@cygnus.com>

	* Makefile.am (PROGS): Move $(ADDR2LINE_PROG) to end, so that
	Makefile.in doesn't have an empty continuation line.
	(bin_PROGRAMS): Likewise.
	* Makefile.in: Rebuild.

Fri Apr  3 14:48:42 1998  Ian Lance Taylor  <ian@@cygnus.com>

	* Makefile.am (DISTCLEANFILES): Add site.exp and site.bak.
	(MOSTLYCLEANFILES): Add binutils.log, binutils.sum, and abcdefgh*.
	(mostlyclean-local): New target.
	* Makefile.in: Rebuild.

Wed Apr  1 15:54:16 1998  Ian Lance Taylor  <ian@@cygnus.com>

	From Zack Weinberg <zack@@rabi.phys.columbia.edu> and H.J. Lu
	<hjl@@gnu.org>:
	* ar.c (usage): Mention S modifier.
	(main): Add S modifier.
	* ar.1, binutils.texi: Document S modifier.

Wed Apr  1 13:11:23 1998  Andreas Schwab  <schwab@@issan.informatik.uni-dortmund.de>

	* binutils.texi: Use @@itemx for a secondary item in a table.

Tue Mar 31 18:44:13 1998  Ian Lance Taylor  <ian@@cygnus.com>

	* dep-in.sed: Add rule to remove @@OBJDIR@@.
	* Makefile.am (dep.sed): Substitute for @@OBJDIR@@.
	* Makefile.in: Rebuild.

Mon Mar 30 12:47:18 1998  Ian Lance Taylor  <ian@@cygnus.com>

	* configure.in: Set version to 2.9.1.
	* configure: Rebuild.

	* Branched binutils 2.9.

	* Makefile.am (DISTCLEANFILES): Remove defparse.h, arparse.h,
	rcparse.h, and nlmheader.h.
	* Makefile.in: Rebuild.

Sat Mar 28 17:39:27 1998  Ian Lance Taylor  <ian@@cygnus.com>

	* Makefile.am (MOSTLYCLEANFILES): Define.
	* Makefile.in: Rebuild.

	Fix some gcc -Wall warnings:
	* nlmconv.c (main): Add casts to avoid warnings.
	(alpha_mangle_relocs): Likewise.
	* objdump.c (dump_section_stabs): Likewise.
	* size.c (print_sysv_format): Likewise.
	* srcconv.c (wr_ob): Likewise.
	* wrstabs.c (stab_modify_type): Likewise.
	(stab_variable): Likewise.
	* nlmconv.c (main): Initialize variables to avoid warnings.
	* nm.c (sort_symbols_by_size): Likewise.
	* objdump.c (disassemble_bytes): Likewise.
	* wrstabs.c (stab_end_class_type): Likewise.
	* coffgrok.c (do_sections_p2): Change j to unsigned int.
	(do_lines): Change l to unsigned int.
	* nlmheader.y (yylex): Change i to unsigned int.
	* nm.c (print_symbol): Change j to long.
	* size.c (lprint_number): Comment out.
	* srconv.c (wr_ob): Change i to bfd_size_type.
	* sysdump.c (unit_info_list): Comment out.
	(object_body_list, program_structure, debug_list): Likewise.
	* sysinfo.y (yyerror): Return value.

Thu Mar 26 17:06:51 1998  Richard Henderson  <rth@@cygnus.com>

	* defparse.y (explist): Allow epsilon.
	Suggestion from Jonathan-Harris@@psion.com.

Thu Mar 26 16:59:09 1998  Richard Henderson  <rth@@cygnus.com>

	* coffgrok.c (do_sections_p1): Use the section's lma instead of vma
	for the benefit of prom loaders.

Wed Mar 25 13:05:39 1998  Ian Lance Taylor  <ian@@cygnus.com>

	Based on patch from H.J. Lu  <hjl@@gnu.org>:
	* Makefile.am (DISTSTUFF): New variable.
	(diststuff): New target.
	(DISTCLEANFILES): New variable.
	* Makefile.in: Rebuild.

Tue Mar 24 19:33:08 1998  Ian Lance Taylor  <ian@@cygnus.com>

	* rclex.l: Accept { and } as synonyms for BEGIN and END.

Fri Mar 20 19:18:08 1998  Ian Lance Taylor  <ian@@cygnus.com>

	* aclocal.m4, configure: Rebuild with libtool 1.2.

Tue Feb 24 13:07:50 1998  Doug Evans  <devans@@canuck.cygnus.com>

	* objdump.c (disassemble_data): Delete "++place" after call to
	find_symbol_for_address.  Set disasm_info.symbols to array of
	symbols at the current address.

Wed Feb 18 23:39:46 1998  Richard Henderson  <rth@@cygnus.com>

	* Makefile.am (install-exec-local): Install properly when ln
	fails or tooldir == prefix.

Tue Feb 17 18:40:55 1998  Richard Henderson  <rth@@cygnus.com>

	* objcopy.c (compare_section_lma): Rename from _vma.
        (copy_object): Gap fill based on LMA not VMA.
	* binutils.texi: Update and clarify.
	* objcopy.1: Likewise.

Tue Feb 17 20:34:11 1998  Ian Lance Taylor  <ian@@cygnus.com>

	* dlltool.c (gen_exp_file): Generate _imp__%s as well as __imp_%s,
	for Microsoft compatibility.
	(make_one_lib_file): Likewise.

	* dlltool.c (make_one_lib_file): Don't add 1 to hint.

Fri Feb 13 16:37:44 1998  Ian Lance Taylor  <ian@@cygnus.com>

	* Makefile.am (AUTOMAKE_OPTIONS): Define.
	* configure, Makefile.in, aclocal.m4: Rebuild with automake 1.2e.

Thu Feb 12 14:13:46 1998  Ian Lance Taylor  <ian@@cygnus.com>

	* deflex.l: Accept '?' in symbol names, for VC++ mangled names.
	From Mikey <jeffdb@@netzone.com>.

	* addr2line.c (usage): Update bug-gnu-utils address.
	* ar.c (usage): Likewise.
	* nlmconv.c (show_usage): Likewise.
	* nm.c (usage): Likewise.
	* objcopy.c (copy_usage): Likewise.
	(strip_usage): Likewise.
	* objdump.c (usage): Likewise.
	* size.c (usage): Likewise.
	* strings.c (usage): Likewise.
	* windres.c (usage): Likewise.
	* binutils.texi (Bug Reporting): Likewise.

Sat Feb  7 15:36:24 1998  Ian Lance Taylor  <ian@@cygnus.com>

	* configure, aclocal.m4: Rebuild with new libtool.

Thu Feb  5 12:21:13 1998  Ian Lance Taylor  <ian@@cygnus.com>

	* configure, Makefile.in, aclocal.m4: Rebuild with new libtool.

Fri Jan 30 19:16:28 1998  Doug Evans  <devans@@canuck.cygnus.com>

	* Makefile.am (CC_FOR_TARGET,nlmcomv.o): Change program_transform_name
	to transform.
	* Makefile.in: Regenerate.

Thu Jan 29 16:24:04 1998  Mumit Khan  <khan@@xraylith.wisc.edu>

	* dlltool.c: Define exit status macros for _WIN32 but not
	__CYGWIN32__.
	(gen_lib_file): Check for exit status of unlink.
	* resrc.c: Define popen and pclose if _WIN32 but not
	__CYGWIN32__.

Wed Jan 28 17:45:46 1998  Ian Lance Taylor  <ian@@cygnus.com>

	* configure.in: Remove vfork check.
	* nlmconv.c: Never include vfork.h.
	* aclocal.m4, configure, Makefile.in, config.in: Rebuild.

Wed Jan 28 17:43:02 1998  J.J. van der Heijden <J.J.vanderHeijden@@student.utwente.nl>

	* objcopy.c (copy_archive): Only pass one argument to mkdir if
	_WIN32 but not __CYGWIN32__.
	(smart_rename): Add code for _WIN32 (not __CYGWIN32__), to cope
	with different rename behaviour and lack of chown.

	* configure.in: Check for mingw32 when deciding whether to build
	dlltool.
	* dlltool.c: Never include vfork.h.
	(run): Use pexecute rather than vfork.
	(gen_lib_file): Check for errors from bfd_set_archive_head and
	bfd_close.  Close all the BFDs in the archive before deleting the
	temporary files.

Thu Jan 22 16:22:55 1998  Fred Fish  <fnf@@cygnus.com>

	* objdump.c (disassemble_bytes): Add flag INSN_HAS_RELOC to tell
	disassembly function there is a reloc on this line.

Wed Jan 14 15:29:43 1998  Richard Henderson  <rth@@cygnus.com>

	* srconv.c (sh, h8300): Delete variables.
	(addrsize, toolname, rnames): New variables.
	(writeINT): Use addrsize.
	(wr_un): Use toolname.
	(wr_hd): Set up addrsize et al properly for h8300[hs].
	(walk_tree_symbol): Zero dsy.  Use rnames.
	(wr_un, wr_hd, wr_ob, wr_du): Use proper bfd access macros.
	* sysdump.c (sh, h8300): Delete variables.
	(addrsize): New variable.
	(getINT): Use it.
	(getone): Initialize it.
	(getBITS): Range check on MAX.

Mon Dec 29 16:58:05 1997  Ian Lance Taylor  <ian@@cygnus.com>

	From Matthew Bellantoni <matthew@@chrysalis.com>:
	* ar.c (get_pos_bfd): Add default_posname parameter.  Change all
	callers.
	(replace_members): Default to replacing in the same position.

Mon Dec 22 11:27:22 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* rclex.l: Don't permit a comma in a STRING.
	* rcparse.y (acc_entry): Warn if an inappropriate modifier is used
	with a non VIRTKEY.
	(acc_event): For a control character, set VIRTKEY, and force the
	character to uppercase.
	(acc_options): Don't require a comma separator.

Tue Dec  9 13:25:42 1997  Michael Meissner  <meissner@@cygnus.com>

	* size.c (size_number): New function to provide size of field.
	({l,r}print_number): For octal and hex fields, print field using
	'0' and '0x' suffixes.  Do not include following tab.
	(sysv_internal_sizer): Size section name, section size, and vma
	address fields.
	(sysv_internal_printer): Use calculated sizes for the columns.
	(print_sysv_format): Size columns before printing.
	(print_berkeley_format): Print tabs between numbers now that
	{l,r}print_number doesn't.  Print fields right justified.

Mon Dec  8 11:22:04 1997  Nick Clifton  <nickc@@cygnus.com>

	* objdump.c (objdump_print_addr_with_sym): Remove call to
	disasm_symaddr() as this function no longer exists.

Tue Dec  2 10:23:50 1997  Nick Clifton  <nickc@@cygnus.com>

	* objdump.c (objdump_print_addr_with_sym): Call disasm_symaddr()
	to allow backend to know which symbol has just been displayed.

Tue Dec  2 13:06:46 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* windres.h (ESCAPE_*): Define standard escape sequences.
	* rclex.l (handle_quotes): Handle standard escape sequences.  Warn
	about an unrecognized escape character.
	* windres.c (unicode_print): Print standard escape sequences.
	* rcparse.y (acc_event): Initialize $$.next.
	* resbin.c (bin_to_res_menuitems): Don't set MENUITEM_POPUP or
	MENUITEM_ENDMENU in the menu item flags.
	(bin_to_res_accelerators): Allocate a structure (the old code
	never worked).
	(res_to_bin_accelerator): Correct the test for setting ACC_LAST.
	(res_to_bin_dialog): Save the extended style rather than saving
	the style twice.  Remove useless shadowing length variable.  Set
	the length of control data correctly.
	* resrc.c (write_rc_dialog): Don't print the class or menu if the
	string length is zero.

Mon Nov 24 18:52:43 1997  Andreas Schwab  <schwab@@issan.informatik.uni-dortmund.de>

	* stabs.c (parse_stab_argtypes): Don't try to parse the name of a
	destructor as mangled argument types.

Mon Nov 10 17:51:41 1997  Gavin Koch  <gavin@@cygnus.com>

	* addr2line.c (translate_addresses): Use bfd_scan_vma rather
	than strtol to scan addresses.

Sun Nov  9 11:01:31 1997  Jeffrey A Law  (law@@cygnus.com)

	* Makefile.am (bin_PROGRAMS): Don't use line continuations here.

Tue Nov  4 11:56:14 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* objcopy.c (copy_section): Don't crash if there is no particular
	information for a section.

Mon Nov  3 12:36:19 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* objcopy.c (parse_flags): Make flag check case insensitive.
	Check for `contents' flag.  Give an error for unrecognized flags.
	(copy_section): If the contents flag was set for a section that
	had no contents, zero out the new contents.
	* binutils.texi (objcopy): Document contents section flag.

Sun Nov  2 14:49:56 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* objcopy.c: Move new struct and variable definitions to top of
	file.  Remove obsolete add_strip_symbol and is_strip_symbol
	declarations.  Add prototype declarations for add_specific_symbol
	and is_specified_symbol.

Mon Oct 20 15:31:43 1997  Klaus K"ampf  <kkaempf@@progis.de>

	* configure.com (HAVE_SBRK): Undefine.

Tue Oct 14 16:14:35 1997  Nick Clifton  <nickc@@cygnus.com>

	* objdump.c (objdump_symbol_at_address): New function.  Returns
	true if a symbol can be found at the address passed in.
	(disassemble_data): Set the symbol_at_address_func field to point
	to objdump_symbol_at_address.

Fri Oct 10 14:13:09 1997  Richard Henderson  <rth@@cygnus.com>

	* objcopy.c, objcopy.1, binutils.texi: "localize" is a better name
	than "privatize".  Update all references.

Thu Oct  9 15:57:29 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* binutils.texi (strip): Remove duplicate --target.  From Marty
	Leisner <leisner@@sdsp.mc.xerox.com>.

	* nm.c (lineno_cache_bfd): New file static variable.
	(lineno_cache_rel_bfd): New file static variable.
	(display_archive): Clear lineno_cache_bfd and lineno_cache_rel_bfd
	when closing a BFD.
	(display_file): Likewise.
	(print_symbol): Use lineno_cache_bfd and lineno_cache_rel_bfd
	instead of cache_bfd and cache_rel_bfd.  Make seccount static, and
	only set it when setting relocs.

Wed Oct  8 21:19:11 1997  Richard Henderson  <rth@@cygnus.com>

	* objcopy.c (keep_specific_list, privatize_specific_list,
	weaken_specific_list): New variables.
	(keep_symbols): Removed.
	(add_specific_symbol): New function from the carcas of
	add_strip_symbol.  Takes a list as an argument.
	(is_specified_symbol): Likewise from is_strip_symbol.
	(filter_symbols): Honor the new privatize and weaken lists.
	Optimize bfd_asymbol_name handling.
	(copy_object, copy_options, copy_usage): Add privatize-symbol &
	weaken-symbol options.

	* objcopy.1, binutils.texi: Update docs.

Sun Oct  5 09:05:44 1997  Frank Ch. Eigler  <fche@@cygnus.com>

	* objdump.c (disassemble_data): Make "--prefix-addresses"
 	disassembly adjust to mixed-length instructions.
	(objdump_print_addr_with_sym): Add "0x" prefix for hexadecimal
 	symbol-offsets in disassembly.

Fri Oct  3 12:04:25 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* objcopy.c (set_times): New static function, replacing
	make_same_dates.
	(strip_main): If preserve_dates, stat the input file before
	copying it, and call set_times afterward.
	(copy_main): Likewise.

	* wrstabs.c (write_stabs_in_sections_debugging_info): Cast p to
	char * when calling strcpy and strlen.

Wed Sep 24 11:34:05 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* binutils.texi	(ar cmdline): Document that q now works like r.
	From Marty Leisner <leisner@@sdsp.mc.xerox.com>.

	* binutils.texi (size): The object file argument is optional.
	From Marty Leisner <leisner@@sdsp.mc.xerox.com>.

	* aclocal.m4: Rebuild with new libtool.
	* configure: Rebuild.

Tue Aug 26 17:48:34 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* Makefile.am (EXEEXT_FOR_BUILD): New variable.  Use it in all
	references to the sysinfo program.
	* configure.in: Rebuild with new bfd/acinclude.m4.
	* Makefile.in: Rebuild.

Fri Aug  8 15:32:49 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* windres.c: Include <time.h>.
	(define_resource): Set a timestamp for the resource.

Wed Aug  6 13:37:58 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* configure.in: Define TARGET in header file.
	* acconfig.h (TARGET): Add #undef.
	* Makefile.am (version.o, bucomm.o): Remove special targets.
	* bucomm.c (target): Remove.
	* nm.c (program_name): Don't declare.
	(target): Make static.
	* size.c (target): Make static.
	* configure, config.in, Makefile.in: Rebuild.

Tue Aug  5 00:01:41 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* Makefile.am (check-DEJAGNU): Export r.
	(.dep1): Use $(INCLUDES) rather than $(ALL_CFLAGS).
	* Makefile.in: Rebuild.

	* nlmheader.y: Use VERSIONK rather than VERSION.

	* Makefile.am (STRIP_PROG): Change from strip.new to strip-new.
	(NM_PROG): Change from nm.new to nm-new.
	(TOOL_PROGS, install-exec-local): Adjust accordingly.
	* Makefile.in: Rebuild.

Mon Aug  4 11:47:31 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* configure.in: Remove AC_ARG_PROGRAM; it's invoked by
	AM_INIT_AUTOMAKE.
	* configure: Rebuild.

	* Makefile.am (install-exec-local): Create $(tooldir)/bin before
	trying to install anything into it.
	* Makefile.in: Rebuild.

	* Makefile.am (TOOL_PROGS): Use an explicit $(EXEEXT).
	(install-exec-local): When handling $(noinst_PROGRAMS), only use
	$(EXEEXT) on the installed file.  When handling $(TOOL_PROGS),
	handle $(EXEEXT) correctly.
	* configure.in: Add an explicit $(EXEEXT) when substituting for
	the name of a program to build.
	* Makefile.in, configure: Rebuild.

	* aclocal.m4, configure, Makefile.in: Rebuild with new automake
	patches.

	* deflex.l, defparse.y: Use VERSIONK rather than VERSION.
	* rclex.l, rcparse.y: Likewise.
	* Makefile.am (windres_SOURCES): Add $(BULIBS).
	* Makefile.in: Rebuild.

Fri Aug  1 13:08:39 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* acinclude.m4: Include bfd/acinclude.m4, not bfd/acmacros.m4.
	* aclocal.m4, configure: Rebuild with new libtool.

Thu Jul 31 11:51:35 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* Makefile.am: New file, based on old Makefile.in.
	* acinclude.m4: New file, from old aclocal.m4.
	* configure.in: Call AM_INIT_AUTOMAKE and AM_PROG_LIBTOOL.  Remove
	shared library handling; now handled by libtool.  Replace
	AC_CONFIG_HEADER with AM_CONFIG_HEADER.  Call AC_PROG_YACC,
	AC_PROG_LEX, AC_DECL_YYTEST, AM_MAINTAINER_MODE, AM_CYGWIN32, and
	AM_EXEEXT.  Replace AC_PROG_INSTALL with AM_PROG_INSTALL.  Remove
	stamp-h handling in AC_OUTPUT.
	* acconfig.h: Mention PACKAGE and VERSION.
	* stamp-h.in: New file.
	* Makefile.in: Now built with automake.
	* aclocal.m4: Now built with aclocal.
	* config.in, configure: Rebuild.

	From Ton van Overbeek <tvoverbe@@wk.estec.esa.nl>:
	* rcparse.y (dialog): Default menu and class to be named.
	(styles): If FONT is seen, set DS_SETFONT in dialog style.
	* resbin.c (res_to_bin_dialog): Correct computation of font
	information length.

Wed Jul 30 11:21:06 1997  Ian Lance Taylor  <ian@@cygnus.com>

	From Ton van Overbeek <tvoverbe@@wk.estec.esa.nl>:
	* resbin.c (res_to_bin_menu): Correct computation of menu
	vs. menuex length.
	* resrc.c (define_stringtable): Add 1 to resource ID.

Tue Jul 29 11:06:03 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* resbin.c (bin_to_res_string): Correct adjustment of data and
	length.  From Ton van Overbeek <tvoverbe@@wk.estec.esa.nl>.

Tue Jul 22 18:01:23 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* nlmconv.c (link_inputs): Call libiberty pexecute function.
	(pexecute) [multiple versions]: Remove.

Tue Jul 22 16:19:34 1997  Robert Hoehne <robert.hoehne@@Mathematik.TU-Chemnitz.DE>

	* bucomm.c (make_tempname): If we might be using a DOS filesystem,
	check for a backslash as well as a slash.

Thu Jun 26 13:53:17 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* windres.c (main): Quit if we didn't get any resources.
	(usage): Fix --yydebug usage message.
	* rescoff.c (write_coff_file): Don't free the relocation array
	until after we've closed the BFD.
	(read_coff_rsrc): Quit rather than try to read standard input.
	(write_coff_file): Quit rather than try to write to standard
	output.
	* rcparse.y: Add a couple of missing semicolons (accepted by bison
	but not byacc).
	* binutils.texi: Document windres.

Wed Jun 25 20:57:06 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* resbin.c: New file.
	* rclex.l, rcparse.y, rescoff.c, resrc.c, windres.c, windres.h:
	Numerous fixes and improvements.
	* Makefile.in: Rebuild dependencies.
 	(CFILES): Add resbin.c.
	(WINDRES_OBJS): Add resbin.o.

Sun Jun 22 17:29:41 1997  Ian Lance Taylor  <ian@@cygnus.com>

	First stab at Windows resource compiler:
	* windres.h: New file.
	* windres.c: New file.
	* resrc.c: New file.
	* rcparse.y: New file.
	* rclex.l: New file.
	* rescoff.c: New file.
	* configure.in: Define and substitute BUILD_WINDRES.
	* configure: Rebuild.
	* Makefile.in: Rebuild dependencies.
 	(WINDRES_PROG): New variable.
	(PROGS): Add @@BUILD_WINDRES@@.
	(HFILES): Add dlltool.h and windres.h.
	(CFILES): Add windres.c and resrc.c.
	(GENERATED_CFILES): Add rcparse.c and rclex.c.
	(WINDRES_OBJS): New variable.
	$(WINDRES_PROG): New target.
	(rcparse.c, rcparse.h, rclex.c): New targets.

Thu Jun 12 12:27:51 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* dlltool.c (export_type): Add data field.
	(def_exports): Add data parameter.  Change all callers.
	(dump_def_info): Print data field.
	(gen_def_file): Likewise.
	(make_one_lib_file): Handle data field by not emitting simple
	label and not emitting anything in SEC_TEXT.
	(dtab): Print data field.
	(process_duplicates): Merge data field.
	* dlltool.h (def_exports): Update declaration.
	* defparse.y (expline): Accept opt_DATA.  Pass it to def_exports.
	(opt_DATA): New non-terminal.

Wed Jun 11 17:15:47 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* dlltool.h: New file.
	* deflex.l: Include dlltool.h and libiberty.h.  Don't declare
	strdup.  Use xstrdup rather than strdup.
	* defparse.y: Include bfd.h, bucomm.h, and dlltool.h.
	* dlltool.c: Include dlltool.h and time.h.  Make a lot of
	variables and functions static.  Make a lot of char * variables
	and parameters const.  Add declarations for static functions.  Do
	some reindenting.  Hide more PowerPC stuff inside DLLTOOL_PPC.

Wed Jun 11 12:05:52 1997  H.J. Lu  <hjl@@gnu.ai.mit.edu>

	* ar.c (bfd_special_undocumented_glue): Add const.

Mon May 12 22:09:35 1997  Bob Manson  <manson@@charmed.cygnus.com>

	* Makefile.in (check): Pass CC_FOR_TARGET and CFLAGS_FOR_TARGET
	to runtest.

Mon May 12 13:14:22 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* configure.in: Don't clear OPCODES when --enable-commonbfdlib is
	used on HP/UX.
	* configure: Rebuild.

Fri Apr 25 14:22:08 1997  H.J. Lu  <hjl@@gnu.ai.mit.edu>

	* Makefile.in (maintainer-clean realclean): Change *.info*
	to binutils.info* to save sysroff.info.

Tue Apr 15 13:42:22 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* Makefile.in (INSTALL): Set to @@INSTALL@@.
	(INSTALL_XFORM, INSTALL_XFORM1): Remove.
	(install): Depend upon installdirs.  Use $(program_transform_name)
	directly, rather than using $(INSTALL_XFORM) and
	$(INSTALL_XFORM1).
	(installdirs): New target.
	(install-info): Run mkinstalldirs.

Mon Apr 14 11:52:39 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* Makefile.in (INSTALL): Change install.sh to install-sh.

	From Thomas Graichen <graichen@@rzpd.de>:
	* Makefile.in: Always use $(SHELL) when running move-if-change.
	* configure.in: Use ${CONFIG_SHELL} when running $ac_config_sub.
	* configure: Rebuild.

Fri Apr  4 13:28:02 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* configure.in: Add AC_FUNC_ALLOCA.
	* configure, config.in: Rebuild.
	* bucomm.h: Add alloca handling, copied from gas/as.h.
	* dlltool.c: Add #pragma alloca for AIX to start of file.
	* nlmconv.c: Likewise.

	* Makefile.in (distclean): Remove site.exp and site.bak.  Remove
	everything that clean removes.

Thu Apr  3 13:18:39 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* Makefile.in (VERSION): Set to 2.8.1.

	* Branched binutils 2.8.

Tue Apr  1 16:21:44 1997  Klaus Kaempf  <kkaempf@@progis.de>

	* configure.com: New file.
	* config.h-vms: Remove file.
	* makefile.vms: Update for new configure scheme.

Mon Mar 31 15:30:43 1997  Philippe De Muyter  <phdm@@info.ucl.ac.be>

	* objcopy.c (make_same_dates): Use statbuf, not buf, if not
	HAVE_GOOD_UTIME_H.

Fri Mar 28 17:57:53 1997  Alan Modra  <alan@@spri.levels.unisa.edu.au>

	* Makefile.in ($(OBJDUMP_PROG)): Don't link against BFDLIB twice.
	* configure.in: Add AC_ARG_ENABLE for commonbfdlib.  If it is set,
	set OPCODES to empty.
	* configure: Rebuild.

Thu Mar 27 16:03:02 1997  Ian Lance Taylor  <ian@@cygnus.com>

	Based on patch from Marty Leisner <leisner@@sdsp.mc.xerox.com>:
	* objcopy.c: Include <utime.h> or <sys/time.h>.
	(strip_options): Add "preserve-dates".
	(copy_options): Likewise.
	(copy_usage): Mention -p and --preserve-dates.
	(strip_usage): Likewise.
	(make_same_dates): New static function.
	(strip_main): Handle -p.
	(copy_main): Likewise.
	* binutils.texi, strip.1, objcopy.1: Document new option.

	addr2line.c contributed by Ulrich Lauther
	<Ulrich.Lauther@@zfe.siemens.de>:
	* addr2line.c: New file.
	* Makefile.in: Rebuild dependencies.
 	(ADDR2LINE_PROG): New variable.
	(MANPAGES): Add addr2line.
	(PROGS): Add $(ADDR2LINE_PROG).
	(CFILES): Add addr2line.c.
	($(ADDR2LINE_PROG)): New target.
	* binutils.texi: Document addr2line.
	* addr2line.1: New file.

	* version.c (print_version): Update copyright date.

Mon Mar 24 10:52:45 1997  Andreas Schwab  <schwab@@issan.informatik.uni-dortmund.de>

	* objdump.c (disassemble_data): Don't exit if a file cannot be
	disassembled, instead just return.

Thu Mar 20 21:16:51 1997  Jeffrey A Law  (law@@cygnus.com)

	* size.c (usage): Make definition match its prototype.
	(display_bfd, lprint_number, rprint_number): Likewise.
	(print_berkeley_format, sysv_internal_printer): Likewise.
	(print_sysv_format): Likewise.
	* nm.c (set_print_radix, set_output_format): Likewise.
	* objcopy.c (filter_bytes): Likewise.

Tue Mar 18 16:39:55 1997  H.J. Lu  <hjl@@lucon.org>

	* Many files: Add function prototypes.
	* ar.c (mri_emul, get_pos_bfd): Make static.
	* arlex.l: Include "libiberty.h".  Don't declare strdup.  Use
	xstrdup rather than strdup.
	* arparse.y (yyerror): Make argument const.  Correct typo.
	* arsup.c (strdup): Don't declare.
	(ar_save): Use xstrdup rather than strdup.
	* filemode.c: Include "bucomm.h".
	* nm.c (usage): Make static.
	(print_symname): Make format and name const.
	* objcopy.c (cat): Remove.
	(copy_archive): Make output_target const.  Use concat, not cat.
	(copy_file, simple_copy, smart_rename): Make arguments const.
	* objdump.c (read_section_stabs): Likewise.
	(print_section_stabs): Likewise.
	(display_target_tables): Don't declare getenv.
	* strings.c (strings_object_file): Change file to const.
	(print_strings): Change filename to const.
	* Makefile.in: Rebuild dependencies.

Tue Mar 18 11:37:24 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* configure.in: Add BFD_NEED_DECLARATION(getenv).
	* acconfig.h: Add NEED_DECLARATION_GETENV.
	* bucomm.h (getenv): Declare if NEED_DECLARATION_GETENV.
	* configure, config.in: Rebuild.
	* nlmconv.c (getenv): Don't declare.

	* Makefile.in: Rebuild dependencies.

Sat Mar 15 15:35:56 1997  Ian Lance Taylor  <ian@@cygnus.com>

	Based on patches from Jamie Lokier <jamie@@rebellion.co.uk>:
	* objdump.c: Include "demangle.h".
	(do_demangle): New static variable.
	(usage): Mention -C/--demangle.
	(long_options): Add "demangle".
	(objdump_print_symname): New static function.
	(objdump_print_addr_with_sym): Use objdump_print_symname.
	(disassemble_bytes): Likewise.
	(dump_reloc_set): Likewise.
	(dump_symbols): Demangle symbol name.
	(main): Handle -C.
	* binutils.texi, objdump.1: Document -C/--demangle.

	* objdump.c (usage): Mention --no-show-raw-insn.
	(long_options): Add "no-show-raw-insn".
	(disassemble_bytes): Handle --no-show-raw-insn.
	* binutils.texi, objdump.1: Document --no-show-raw-insn.

Wed Mar 12 11:42:00 1997  Andreas Schwab  <schwab@@issan.informatik.uni-dortmund.de>

	* rddbg.c (free_saved_stabs): Set the strings to NULL after being
	freed.

Fri Feb 28 17:18:45 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* bucomm.c (set_default_bfd_target): New function.
	* bucomm.h (set_default_bfd_target): Declare.
	* ar.c (main): Call set_default_bfd_target.
	* nlmconv.c (main): Likewise.
	* nm.c (main): Likewise.
	* objcopy.c (main): Likewise.
	* objdump.c (main): Likewise.
	* size.c (main): Likewise.
	* strings.c (main): Likewise.
	* Makefile.in (bucomm.o): New target, to define TARGET.

Tue Feb 25 21:28:38 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* objdump.c (adjust_section_vma): New static variable.
	(usage): Mention --adjust-section-vma.
	(OPTION_ADJUST_VMA): Define.
	(long_options): Add "addjust-vma".
	(display_bfd): If adjust_section_vma is not 0, add it to all the
	section addresses.
	(main): Handle OPTION_ADJUST_VMA.
	* binutils.texi, objdump.1: Document --adjust-vma.

Fri Feb 14 18:46:47 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* nm.c (print_symbol): Cache the BFD as well as the symbols and
 	relocs, and don't try to use the symbols or relocs with a
 	different BFD.

Thu Feb 13 21:34:43 1997  Klaus Kaempf  (kkaempf@@progis.de)

	* config.h-vms: sbrk() is provided on openVMS/Alpha.
	* makefile.vms: allow compiling with current gcc snapshot.

Thu Feb 13 20:14:40 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* arsup.c, coffgrok.c, dlltool.c, nlmconv.c: Use xmalloc rather
	than malloc.

Wed Feb 12 16:12:02 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* objdump.c (disassemble_data): Correct VMA argument to
	find_symbol_for_address.  Improve handling of code with no symbol
	followed by code with a symbol.

Wed Feb 12 12:16:47 1997  Andreas Schwab  <schwab@@issan.informatik.uni-dortmund.de>

	* objdump.c (disassemble_bytes): Make output of raw instructions
	work better for non-standard values of bytes_per_chunk and
	bytes_per_line.

Thu Feb  6 14:14:59 1997  Martin M. Hunt  <hunt@@pizza.cygnus.com>

	* objdump.c (disassemble_bytes): Added code to allow some control
 	over the way raw instructions are displayed.

Thu Feb  6 12:36:03 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* stabs.c (struct bincl_file): Add next_stack field.
	(push_bincl): Put the new file on both bincl_list and
	bincl_stack.  Clear the file_types field.
	(pop_bincl): Use the next_stack field when popping the stack.
	Don't put the file on bincl_list.
	(find_excl): Include the file name when warning about an unfound
	N_EXCL.

	* debug.c (debug_type_samep): Don't crash if we are passed NULL.

Thu Feb  6 11:54:24 1997  Alan Modra  <alan@@spri.levels.unisa.edu.au>

	* objcopy.1: Add missing space after .B.

Fri Jan 31 10:33:07 1997  Andreas Schwab  <schwab@@issan.informatik.uni-dortmund.de>

	* objdump.c (disassemble_data): Initialize `aux.require_sec'.

Wed Jan 29 13:21:21 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* objdump.c (objdump_print_value): Add skip_zeroes parameter.
	Change all callers.
	(objdump_print_addr_with_sym): Likewise.  Call objdump_print_value
	to print address.
	(objdump_print_addr): New static function.
	(objdump_print_address): Just call objdump_print_addr.
	(disassemble_bytes): Print real address, not function offset.
	Skip a certain number of leading zeroes.

	* objdump.c (disassemble_zeroes): New static variable.
	(usage): Mention --disassemble-zeroes.
	(long_options): Add "disassemble-zeroes".
	(disassemble_bytes): Check disassemble_zeroes.

Tue Jan 28 16:47:26 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* objdump.c (disassemble_bytes): Don't skip zeroes if the
	disassembler has told us that we are in a branch delay slot.

Mon Jan 20 14:24:04 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* size.c (berkeley_sum): Rewrite.  Skip sections which are not
	SEC_ALLOC.  Count SEC_READONLY sections as text.

Tue Jan 14 15:14:14 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* Makefile.in (maintainer-clean realclean): Remove *.info*, not
	just *.info.  From H.J. Lu <hjl@@lucon.org>.

Tue Dec 31 15:42:54 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* Makefile.in (ALL_CFLAGS): Add -D_GNU_SOURCE.

Fri Dec 27 11:19:26 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* configure.in: Work around bug in AC_FUNC_VFORK in autoconf 2.12.
	* configure: Rebuild.

Thu Dec 19 13:11:20 1996  Ian Lance Taylor  <ian@@cygnus.com>

	Based on patch from Andrew J Klossner <andrew@@pogo.wv.tek.com>:
	* objcopy.c (OPTION_WEAKEN): Define.
	(copy_options): Add "weaken".
	(copy_usage): Mention --weaken.
	(weaken): New static variable.
	(filter_symbols): Handle weaken.
	(copy_object): Call filter_symbols if weaken.
	(copy_main): Handle OPTION_WEAKEN.
	* binutils.texi, objcopy.1: Document --weaken.

Wed Dec 18 22:49:13 1996  Stan Shebs  <shebs@@andros.cygnus.com>

	* mpw-make.sed: Use NewFolderRecursive for installation.

Sat Dec  7 10:17:25 1996  Jeffrey A Law  (law@@cygnus.com)

	* Makefile.in (install): Add "else true" clause to cater to
	broken "make" on some systems.

Fri Dec  6 17:21:41 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* ieee.c (parse_ieee_bb): Always initialize namcopy to avoid gcc
	warning about uninitialized variable.
	(ieee_read_cxx_class): Likewise, for pf.
	(ieee_enum_type): Likewise, for i.

Tue Nov 26 17:01:25 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* wrstabs.c (stab_array_type): Add casts when printing
	bfd_signed_vma values.

	* configure: Rebuild with autoconf 2.12.

Mon Nov 25 16:53:18 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* objdump.c (disassemble_data): Don't crash if there is no
	symbol.

Fri Nov 22 17:29:14 1996  Andreas Schwab  <schwab@@issan.informatik.uni-dortmund.de>

	* ar.c (open_inarch): Don't call bfd_openr with a null name.

Fri Nov  1 12:08:13 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* binutils.texi: Add section on reporting bugs.

Thu Oct 31 18:20:53 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* stabs.c (struct stab_handle): Add bincl_list field.
	(parse_stab): Pass value to push_bincl.  Call find_excl for
	N_EXCL.
	(struct bincl_file): Add hash, file and file_types fields.
	(push_bincl): Add hash parameter.  Save it in the new hash field.
	Save the file number in the new file field.
	(pop_bincl): Put the bincl_file on bincl_list, rather than freeing
	it.  Save the file types in the new file_types field.
	(find_excl): New static function.

	* ieee.c (ieee_lineno): Don't compare line number addresses to
	info->highaddr (undo part of October 28 patch).

Tue Oct 29 16:40:22 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* objdump.c (objdump_print_value): Don't print the empty string
	for zero.

Mon Oct 28 16:58:14 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* stabs.c (struct stab_handle): Add function_end field.
	(start_stab): Initialize function_end.
	(finish_stab): Pass info->function_end to debug_end_function.
	(parse_stab): If info->function_end is set, use it as the address
	which ends a function.

	* ieee.c (ieee_array_type): Remember the correct size.

	* ieee.c (ieee_finish_compilation_unit): Permit coalescing ranges
	that are up to 0x1000 bytes apart, not just 64.
	(ieee_add_bb11_blocks): Don't bother to emit a BB11 that is less
	than 0x100 bytes.
	(ieee_lineno): Only emit line numbers that are less than
	info->highaddr.

Fri Oct 25 12:12:17 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* ieee.c (struct ieee_defined_enum): Add defined field.
	(ieee_enum_type): If the enum tag has been seen before but not
	defined, reuse the same type index, and define it.
	(ieee_tag_type): If this enum has not been defined, add an
	undefined entry to the list of enums.

	* objdump.c (disassemble_bytes): Let the disassembler override the
	number of bytes printed on a line.

Thu Oct 24 16:42:10 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* objdump.c (prefix_addresses): New static variable.
	(long_options): Add "prefix-addresses".
	(compare_symbols): Sort BSF_FUNCTION symbols before other
	symbols.
	(find_symbol_for_address): New static function, broken out of
	objdump_print_address.
	(objdump_print_addr_with_sym): New static function, broken out of
	objdump_print_address.
	(objdump_print_address): Call new functions.
	(disassemble_bytes): New static function, broken out of
	disassemble_data.  Change disassembly format, unless
	prefix_addresses is set.
	(disassemble_data): Call disassemble_bytes.  Unless
	prefix_addresses is set, disassemble in chunks headed by a
	symbol.
	* binutils.texi, objdump.1: Document --prefix-addresses.

	* rddbg.c (read_section_stabs_debugging_info): Preserve the
	backslash when concatenating multiple stabs strings.

Thu Oct 10 11:36:31 1996  Doug Evans  <dje@@canuck.cygnus.com>

	* dlltool.c (scan_open_obj_file): Fix loop exit test.
	Add missing parameter to def_exports.

Tue Oct  8 12:06:17 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* Makefile.in (LEX_OPTIONS): Set to empty string.  -I -Cem is the
	default for flex, and is not recognized by lex.

Thu Oct  3 17:41:23 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* binutils.texi (Target Selection): Document that you can now
	specify targets using configuration triplets.

	* ar.c (usage): Declare.  Make sure all callers pass an argument.

Thu Oct  3 15:39:42 1996  Jason Molenda  (crash@@godzilla.cygnus.co.jp)

	* Makefile.in (clean): Remove config.log.

Wed Oct  2 15:49:16 1996  Klaus Kaempf  <kkaempf@@progis.de>

	* makefile.vms: Bump version date.

Tue Oct  1 15:00:59 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* version.c (print_version): New function.
	* bucomm.h (print_version): Declare.
	* ar.c (program_version): Don't declare.
	(do_show_version): Remove.
	(usage): Add help parameter.  Print bug report address.
	(main): Set is_ranlib at start.  Check for --help and --version.
	Call print_version, not do_show_version.
	* nlmconv.c (program_version): Don't declare.
	(main): Call print_version.
	(show_usage): Print bug report address.
	* nm.c (program_version, print_version): Don't declare.
	(usage): Print bug report address.
	(main): Call print_version.
	* objcopy.c (program_version): Don't declare.
	(copy_usage): Print bug report address.
	(strip_usage): Likewise.
	(strip_main): Call print_version.
	(copy_main): Likewise.
	* objdump.c (program_version): Don't declare.
	(usage): Print bug report address.
	(main): Call print_version.
	* size.c (program_version): Don't declare.
	(usage): Print bug report address.
	(main): Call print_version.
	* strings.c (program_version): Don't declare.
	(main): Call print_version.
	(usage): Print bug report address.
	* Makefile.in: Update dependencies.

Thu Sep 19 14:53:15 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* ieee.c: Revert Monday's reflocalp patch, and apply this patch
	instead:
 	(write_ieee_debugging_info): Write a dummy type at the end of the
	global type block.

Mon Sep 16 15:30:54 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* ieee.c (struct ieee_write_type): Add reflocalp field.
	(ieee_pointer_type): Set reflocalp after pushing type.
	(ieee_function_type): If reflocalp is set, make this type local.
	(ieee_range_type, ieee_array_type, ieee_set_type): Likewise.
	(ieee_const_type, ieee_volatile_type): Likewise.
	(ieee_struct_field, ieee_class_baseclass): Likewise.

	* ieee.c (struct ieee_info): Add global_types field.
	(parse_ieee_bb): When starting a BB1, initialize the types field
	to the global_types field.
	(parse_ieee_be): When ending a BB2, copy the types field to the
	global_types field.

Fri Sep 13 17:32:21 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* objcopy.c (change_leading_char): New static variable.
	(OPTION_CHANGE_LEADING_CHAR): Define.
	(copy_options): Add "change-leading-char".
	(copy_usage): Mention --change-leading-char.
	(filter_symbols): Add obfd parameter.  Change all callers.
	Implement change_leading_char.
	(copy_object): Call filter_symbols if change_leading_char.
	(copy_main): Handle OPTION_CHANGE_LEADING_CHAR.
	* binutils.texi, objcopy.1: Document --change-leading-char.

Tue Sep  3 14:05:29 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* ieee.c (ieee_enum_type): Don't check index into a NULL names
	array.
	* nm.c (sort_symbols_by_size): Always initialize next.
	* rdcoff.c (parse_coff_type): Warn about an incomprehensible
	type rather than crashing.
	* rddbg.c (read_symbol_stabs_debugging_info): Initialize f.
	* stabs.c (parse_stab_members): Set context in all cases.

Thu Aug 29 16:56:52 1996  Michael Meissner  <meissner@@tiktok.cygnus.com>

	* configure.in (i[345]86-*-*): Recognize i686 for pentium pro.
	* configure: Regenerate.

Thu Aug 29 11:29:20 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* objdump.c (L_tmpnam): Never define.
	(display_target_list): Use choose_temp_base instead of tmpnam.
	(display_info_table): Likewise.

Tue Aug 27 18:15:01 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* stabs.c (parse_stab): An N_FUN symbol with an empty string
	indicates the end of a function.

Thu Aug 22 17:08:00 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* wrstabs.c (struct string_hash_entry): Add next field.
	(struct stab_write_handle): Change strings to a pointer to
	string_hash_entry.  Add last_strings field.  Remove strings_alloc
	field.
	(string_hash_newfunc): Initialize next field.
	(stab_write_symbol): Copy string into hash table rather than into
	buffer.  Keep a list of hash table entries.
	(write_stabs_in_sections_debugging_info): Initialize last_string.
	Copy strings from list of hash table entries in memory.
	(stab_modify_type): If the entry on the stack is a definition,
	make a new definition rather than failing an assert.
	(stab_array_type): The size is only zero if high is strictly less
	than low.

	* ieee.c (struct ieee_info): Add saw_filename field.
	(parse_ieee): Initialize saw_filename.
	(parse_ieee_bb): Set saw_filename for a BB1 or BB2.  In a BB1,
	discard the current variables and types.  In a BB10, if no
	filename has been seen, call debug_set_filename.
	(parse_ieee_ty): In case 'g', the type is optional.

	* prdbg.c (pr_fix_visibility): Don't abort on
	DEBUG_VISIBILITY_IGNORE.

	* debug.c (debug_name_type): Correct error message.

	* configure.in: Substitute HLDENV.
	* configure: Rebuild.
	* Makefile.in (HLDENV): New variable.  Use it whenever linking a
	program.

Thu Aug 15 19:30:41 1996  Stan Shebs  <shebs@@andros.cygnus.com>

	* mpw-make.sed: Add symbolic doublequotes around the version
	number.

Thu Aug  8 12:27:52 1996  Klaus Kaempf  <kkaempf@@progis.de>

	* makefile.vms: Add better support for DEC C compilation.
	Add new macros as in Makefile.in.

Wed Aug  7 14:27:33 1996  Philippe De Muyter  <phdm@@info.ucl.ac.be>

	* configure.in: Call BFD_NEED_DECLARATION on strstr and sbrk.
	* acconfig.h (NEED_DECLARATION_STRSTR): New macro.
	(NEED_DECLARATION_SBRK): New macro.
	* configure, config.in: Rebuild.
	* bucomm.h (strstr): Declare if NEED_DECLARATION_STRSTR.
	(sbrk): Declare if HAVE_SBRK and NEED_DECLARATION_SBRK.

	* prdbg.c (pr_end_struct_type): Avoid using a string constant in
	assert, for the benefit of broken assert macros.

Fri Jul 26 14:06:50 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* objdump.c (disassemble_data): Set disasm_info.flavour from
	abfd.

Tue Jul 23 13:59:54 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* dlltool.c (secdata): In non DLLTOOL_PPC case, change alignment
	of .text section to 2.

Mon Jul 22 08:46:15 1996  Stu Grossman  (grossman@@lisa.cygnus.com)

	* objdump.c (dump_section_stabs):  Fix test for stabs sections
	ending with numbers.  This fixes a problem with .stab being
	confused with .stab.index.

Wed Jul 10 13:32:28 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* stabs.c (stab_demangle_fund_type): Return a void * for a
	template, rather than simply aborting.

Mon Jul  8 15:28:05 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* ar.c (open_inarch): Add file parameter.  Change all callers.  If
	this is a newly created archive, set the target based on the
	file.
	* arsup.h (open_inarch): Update declaration.

Thu Jul  4 12:00:55 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* Makefile.in (VERSION): Set to cygnus-2.7.1.

	* Released binutils 2.7.

	* rdcoff.c (parse_coff): Get address to pass to debug_end_function
	from function size, not value of .ef symbol.  From Ning
	Mosberger-Tang <ning@@AZStarNet.com>.

Sat Jun 29 21:18:09 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* objcopy.c (strip_main): Add -o option, and handle it.
	(strip_usage): Mention -o.
	* binutils.texi, strip.1: Mention -o.

Mon Jun 24 17:19:02 1996  Jason Molenda  (crash@@godzilla.cygnus.co.jp)

	* Makefile.in (bindir, libdir, datadir, mandir, infodir, includedir,
	INSTALL_PROGRAM, INSTALL_DATA): Use autoconf set values.
	(docdir): Removed.
	* configure.in (AC_PREREQ): Autoconf 2.5 or higher.

Mon Jun 24 11:59:13 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* objdump.c (endian): New static variable.
	(usage): Mention -EB/-EL/--endian.
	(long_options): Add "endian".
	(disassemble_data): If endianness was specified, replace
	abfd->xvec with a copy of itself with the given endianness.
	(main): Handle -EB/-EL/--endian.
	* binutils.texi, objdump.1: Mention -EB/-EL/--endian.

	* objdump.c: Make most variables and functions static.

	* configure.in: On alpha*-*-osf*, link against libbfd.a if not
	using shared libraries.
	* configure: Rebuild with autoconf 2.10.

Sun Jun 23 14:47:36 1996  Kim Knuttila  <krk@@cygnus.com>

	* dlltool.c (secdata): Changed .rdata to .reldata so .reloc will work.
	(make_one_lib_file): Removed cruft. (#if 1)

Wed Jun 19 14:46:38 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* objdump.c (stabs): Change from struct internal_nlist * to
	bfd_byte *.
	(print_section_stabs): Fetch stabs information directly, rather
	than assuming that struct internal_nlist is the right size.

	* binutils.texi: Document change to binary format: file position
	based on load address, not section VMA.

	* bucomm.h: Define SEEK_SET, SEEK_CUR, and SEEK_END if they are
	not already defined.

Tue Jun 18 18:25:00 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* Makefile.in (DISTSTUFF): Add deflex.c.

Tue Jun 18 15:03:44 1996  Klaus Kaempf  <kkaempf@@progis.de>

	* config.h-vms, makefile.vms: New files.

Mon Jun 17 09:47:31 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* dlltool.c (make_one_lib_file): Use BFD_RELOC_RVA rather than
	BFD_RELOC_32 in IDATA7.

Wed Jun 12 11:52:06 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* nm.c (struct get_relocs_info): Define.
	(line_numbers): New static variable.
	(long_options): Add "line-numbers".
	(usage): Mention -l and --line-numbers.
	(main): Handle -l.
	(print_symbol): Print line numbers if requested.
	(get_relocs): New static function.
	* binutils.texi, nm.1: Document -l/--line-numbers.

Tue Jun 11 20:12:15 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* objdump.c (dump_reloc_set): Add sec parameter.  Change all
	callers.  If with_line_numbers is set, display line numbers of
	relocation entries.
	* binutils.texi, objdump.1: Document -l with -r.

Mon Jun 10 23:42:59 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* ar.c (open_inarch): Report BFD error message if an archive can
	not be recognized.  List matching formats if the file is
	ambiguously recognized.
	(ranlib_touch): Likewise.

Thu Jun  6 13:56:14 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* README: Add notes on how to build if you don't have ar.

	* Makefile.in: Remove old incorrect setting of CC.

Tue Jun  4 10:52:49 1996  Tom Tromey  <tromey@@csk3.cygnus.com>

	* Makefile.in (install): Don't check to see if tooldir exists.
	Make $(tooldir) and $(tooldir)/bin.

Mon Jun  3 17:40:23 1996  Michael Meissner  <meissner@@tiktok.cygnus.com>

	* strings.c (main): Make main an int function, not void.

Fri May 31 13:59:24 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* nm.c (filter_symbols): Check for BSF_WEAK as well as
	BSF_GLOBAL.
	* objcopy.c (filter_symbols): Likewise.

Wed May  8 16:57:20 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* objcopy.c (copy_object): Make clear that it is only a warning
	when the output file can not represent the architecture.

Fri May  3 11:30:17 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* objdump.c (disassemble_data): Don't refer to bytes past the end
	of data.

Wed Apr 24 14:10:21 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* rddbg.c (read_symbol_stabs_debugging_info): Move call to
	free_saved_stabs outside the loop over the symbols.

Tue Apr 23 12:56:11 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* objdump.c (compare_symbols): Sort symbols whose names start with
 	`.' after other symbols.  If no other decision can be made, sort
	symbols by name.

Thu Apr 18 16:02:11 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* dep-in.sed: Substitute $(BFDDIR) for @@BFDDIR@@.
	* Makefile.in: Rebuild dependencies.
	(dep.sed): Substitute $(BFDDIR) for @@BFDDIR@@.

Tue Apr 16 13:50:22 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* rdcoff.c: New file.
	* rddbg.c (read_debugging_info): Read COFF symbols if COFF flavour
	and no stabs were found.
	* budbg.h (parse_coff): Declare.
	* Makefile.in: Rebuild dependencies.
	(CFILES): Add rdcoff.c.
	(DEBUG_OBJS): Add rdcoff.o.

Mon Apr 15 15:55:01 1996  Doug Evans  <dje@@canuck.cygnus.com>

	* nlmconv.c (choose_temp_base{,_try}): Delete, in libiberty now.
	(link_inputs): Update call to choose_temp_base.

Mon Apr  8 14:40:05 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* configure.in: Permit --enable-shared to specify a list of
	directories.
	* configure: Rebuild.

Fri Mar 29 16:11:33 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* objdump.c (dump_section_header): Print the SEC_LINK_ONCE flag
	and the SEC_LINK_DUPLICATES field.

Fri Mar 29 11:35:55 1996  J.T. Conklin  (jtc@@lisa.cygnus.com)

	* nlmconv.1: Changed to be recognized by catman -w on Solaris.

Thu Mar 28 14:17:02 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* wrstabs.c (stab_enum_type): Set buf before using it.

Fri Mar 22 15:49:08 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* stabs.c (struct stab_handle): Add field abfd.
	(start_stab): Add abfd parameter.
	(parse_stab_string): Skip the symbol leading char when searching
	for the value of a global symbol.
	* budbg.h (start_stab): Update declaration.
	* rddbg.c (read_section_stabs_debugging_info): Pass abfd to
	start_stab.
	(read_symbol_stabs_debugging_info): Likewise.

Thu Mar 21 12:40:48 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* wrstabs.c (stab_function_type): Output an empty typedef for an
	unused argument, rather than making up a meaningless name.
	(stab_variable): Use N_RSYM for a DEBUG_REGISTER variable.

	* ieee.c (struct ieee_info): Add global_vars field.
	(parse_ieee_be): When ending the global typedef block, copy the
	variables into info->global_vars.
	(parse_ieee_atn): Don't require an NN record for a pmisc ATN.
	(ieee_read_reference): Search the global variables after the local
	variables.

Wed Mar 20 18:08:19 1996  Andreas Schwab  <schwab@@issan.informatik.uni-dortmund.de>

	* objdump.c (disassemble_data): Make sure sym_name is always set.
	(dump_section_header): Always put a space after the section name.
	(dump_bfd_header): Terminate output with newline.

Wed Mar 20 16:35:20 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* wrstabs.c: New file.
	* budbg.h (write_stabs_in_sections_debugging_info): Declare.
	* objcopy.c (write_debugging_info): For COFF or ELF, output stabs
	in sections.
	* Makefile.in: Rebuild dependencies.
	(CFILES): Add wrstabs.c.
	(WRITE_DEBUG_OBJS): New variable.
	($(OBJCOPY_PROG)): Use $(WRITE_DEBUG_OBJS), not $(DEBUG_OBJS).
	($(STRIP_PROG)): Likewise.

	* stabs.c (parse_stab_members): Make type stub detection more like
	gdb.

	* ieee.c (struct ieee_handle): Add fields complex_float_index and
	complex_double_index.
	(ieee_complex_type): Cache type index in complex_float_index and
	complex_double_index, depending upon size.  Set size on type stack
	to size * 2.

	* ieee.c (ieee_empty_type): Use builtin_unknown, not 0.
	(ieee_void_type): Use builtin_void, not 1.

	* ieee.c (parse_ieee_ty): Handle 'V' type code.
	(parse_ieee_atn): Don't require two numbers for type 10.

	* ieee.c (parse_ieee_be): Add one to offset at end of function or
	block.

	* ieee.c (struct ieee_block): Add field skip.
	(parse_ieee_bb): Don't call debug_record_function for __XRYCPP
	function, and set skip field.
	(parse_ieee_be): Don't call debug_end_function if skip is set.

	* debug.c (struct debug_handle): Add fields current_write_lineno
	and current_write_lineno_index.
	(debug_write): Initialize current_write_lineno and
	current_write_lineno_index for each unit.  Call
	debug_write_linenos rather than writing out the line numbers
	directly.
	(debug_write_function): Call debug_write_linenos.
	(debug_write_block): Likewise.
	(debug_write_linenos): New static function.

	* debug.c (debug_write_type): For DEBUG_KIND_FUNCTION, push return
	type before arguments.

Mon Mar 18 18:05:33 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* configure.in: Add AC_FUNC_VFORK.
	* configure, config.in: Rebuild.
	* dlltool.c, nlmconv.c: Include <vfork.h> if HAVE_VFORK_H is
	defined.

	* stabs.c (parse_stab_range_type): A complex type is defined as a
	subrange of itself with the high bound zero.
	* ieee.c (ieee_complex_type): Don't crash on sizes of 12 or 16.

Tue Mar 12 12:09:43 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* ieee.c (ieee_write_undefined_tag): Switch to global_types even
	if it is not empty.
	(ieee_tag_type): For an enum, look through info->enums.

	* configure: Rebuild with autoconf 2.8.

	* debug.c (debug_type_samep): Don't loop endlessly in
	DEBUG_KIND_ENUM case.  From Eric Baur <ecb@@nexen.com>.

Mon Mar 11 12:35:03 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* rddbg.c (read_section_stabs_debugging_info): Call save_stab for
	each stab entry, call stab_context on an error, and call
	free_saved_stabs before rturning.
	(read_symbol_stabs_debugging_info): Likewise.
	(SAVE_STABS_COUNT): Define.
	(struct saved_stab): Define.
	(saved_stabs, saved_stabs_index): New static variables.
	(save_stab, stab_context, free_saved_stabs): New static functios.

	* objdump.c (stab_name): Remove.
	(struct stab_print): Remove.
	(stab_print): Remove.
	(dump_stabs): Don't initialize stab_name.
	(print_section_stabs): Call bfd_get_stab_name rather than using
	the stab_name array.

Tue Feb 27 19:52:01 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* prdbg.c (pr_int_constant): Initialize info correctly.
	(pr_float_constant): Likewise.

Mon Feb 26 18:11:37 1996  Stan Shebs  <shebs@@andros.cygnus.com>

	* mpw-make.sed: Update to handle shared library support.

Sat Feb 24 11:21:49 1996  Alan Modra  <alan@@spri.levels.unisa.edu.au>:

	* Makefile.in ($(OBJDUMP_PROG)): Search $(BFDLIB) before
	$(OPCODES).

Thu Feb 15 12:44:45 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* configure.in: Don't tamper with LDFLAGS.  Call AC_PROG_CC before
	configure.host.
	* configure: Rebuild.

	* configure.in: Substitute RPATH_ENVVAR.
	* configure: Rebuild.
	* Makefile.in (RPATH_ENVVAR): New variable.
	(check): Use $(RPATH_ENVVAR) rather than LD_LIBRARY_PATH.

	* objcopy.c (smart_rename): Rather than doing chmod then chown, do
	chmod without setuid, then chown, then chmod with setuid.

Wed Feb 14 16:46:42 1996  Martin Anantharaman  <martin@@mail.imech.uni-duisburg.de>

	* arsup.c (map_over_list): Reindent.  Don't assume that the
	function does not delete the BFD.
	(ar_addlib_doer): Don't set prev->next if prev is NULL.

Wed Feb 14 15:12:17 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* ieee.c (ieee_regno_to_genreg): Convert register numbers for m68k
	and i960.
	(ieee_genreg_to_regno): Likewise.

Mon Feb 12 14:19:59 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* ieee.c: Extensive changes to write code to put types in the
	global type block when possible, to output ranges for all memory
	occupied by the module, and to improve efficiency.

	* debug.c (struct debug_handle): Remove class_mark field.  Add
	id_list and compare_list fields.
	(struct debug_class_id): Define.
	(struct debug_type_compare_list): Define.
	(debug_write): Initialize info->id_list
	(debug_write_name): Remove reference to info->class_mark.
	(debug_write_type): Get id for all structs and classes.  Simplify
	test for whether struct has already been written.
	(debug_write_class_type): Get id for all classes.  Simplify test
	for whether class has already been written.
	(debug_write_block): Don't write out blocks other than the top
	level block if they have no local variables.
	(debug_set_class_id): New static function.
	(debug_type_samep): New static function.
	(debug_class_type_samep): New static function.
	* prdbg.c (pr_start_struct_type): Always print id.
	(pr_start_class_type): Likewise.
	(pr_tag_type): Likewise.

	* stabs.c (struct stab_handle): Add syms and symcount fields.
	(start_stab): Add syms and symcount parameters.  Change all
	callers.
	(parse_stab_string): Look up global variables in the symbol table
	to get the right value.
	* budbg.h (start_stab): Update declaration.
	* rddbg.c (read_section_stabs_debugging_info): Add syms and
	symcount parameters.  Change all callers.

	* stabs.c (parse_stab_array_type): If the index type is 0, use
	int.

Wed Feb  7 14:17:45 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* ieee.c (ieee_start_compilation_unit): Clear modified and
	modified_alloc fields of info.

	* configure.in: Check for --enable-shared.  Substitute new
	variables BFDLIB and OPCODES.
	* configure: Rebuild.
	* Makefile.in (BFDLIB): Set to @@BFDLIB@@.
	(OPCODES): Set to @@OPCODES@@.

Mon Feb  5 16:18:42 1996  Ian Lance Taylor  <ian@@cygnus.com>

	Support for building bfd and opcodes as shared libraries, based on
	patches from Alan Modra <alan@@spri.levels.unisa.edu.au>:
	* configure.in (HLDFLAGS): New substitution.
	* configure: Rebuild.
	* Makefile.in (HLDFLAGS): New variable.  Make all links use
	$(HLDFLAGS) before $(CFLAGS) and $(LDFLAGS).
	(BFDLIB_DEP): New variable.  Replace all occurrences of $(BFD) as
	a dependency with $(BFDLIB_DEP).  Remove $(BFD) as a dependency if
	there is also a dependency on $(ADDL_DEPS).
	(BFDLIB): Rename from BFD; change all uses; set to -L../bfd -lbfd.
	(OPCODES_DEP): New variable.  Replace all occurrends of $(OPCODES)
	as a dependency with $(OPCODES_DEP).
	(OPCODES): Set to -L../opcodes -lopcodes.
	(ADDL_DEPS): New variable.  Replace all occurrences of
	$(ADDL_LIBS) as a dependency with $(ADDL_DEPS).
	(check): Set LD_LIBRARY_PATH in the environment.
	(config.status): Depend upon BFD configure.host and config.bfd.

Fri Feb  2 17:02:59 1996  Doug Evans  <dje@@charmed.cygnus.com>

	* objdump.c: #include stdarg.h or varargs.h.
	(objdump_print_value): Change FILE* arg to struct disassemble_info*.
	All callers updated.  Use fprintf_func.
	(objdump_print_address): Consistently use fprintf_func.
	(objdump_sprintf): New function.
	(disassemble_data): Print insn into a buffer, print raw insn ourselves,
	then print insn mnemonic.

Fri Feb  2 16:48:55 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* configure: Regenerate.

Thu Feb  1 09:38:18 1996  Steve Chamberlain  <sac@@slash.cygnus.com>

	* configure.in (i[3-6]86-*-win32): Becomes i[3-6]86-*-cygwin32.
	(powerpc*-*-cygwin32): New.
	* configure: Regenerated.

Wed Jan 31 13:22:03 1996  Richard Henderson  <rth@@tamu.edu>

	* Makefile.in (distclean): Remove $(DEMANGLER_PROG).1.

Mon Jan 29 17:36:29 1996  Ian Lance Taylor  <ian@@cygnus.com>

	Based on patches from H J Lu <hjl@@zoom.com>:
	* objcopy.c (remove_leading_char): New static variable.
	(OPTION_REMOVE_LEADING_CHAR): Define.
	(copy_usage): Mention --remove-leading-char.
	(filter_symbols): If remove_leading_char, and the first character
	of a global symbol matches the symbol leading char of the BFD,
	remove the first character.
	(copy_object): Filter the symbols if remove_leading_char is set.
	(copy_main): Handle --remove-leading-char.
	* binutils.texi, objcopy.1: Document --remove-leading-char.

Sat Jan 27 15:40:13 1996  Michael Meissner  <meissner@@tiktok.cygnus.com>

	* objdump.c (fprintf): Add prototype to avoid compiler warning on
	SunOS.

Fri Jan 26 11:53:42 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* binutils.texi (nm): Improve documentation on symbol types.
	(objdump): Reference the stabs manual from the discussion of the
	--stabs option.

Thu Jan 25 11:21:46 1996  Raymond Jou  <rjou@@mexican.cygnus.com>

	* mpw-make.sed: Add a "stamps" target.

Thu Jan 25 13:51:44 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* objdump.c (dump_headers, dump_section_header): Change objdump -h
	output to be simpler and to include section file offsets.

Wed Jan 24 12:06:05 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* stabs.c (parse_stab_members): Don't adjust voffset.

	* ieee.c (ieee_read_cxx_class): Don't multiply voffset by 4.
	(struct ieee_write_type): Add name field.
	(struct ieee_type_class): Remove name field.  Change all uses to
	use new name field in type instead.
	(struct ieee_name_type): Likewise.
	(ieee_start_struct_type): Initialize name field of type.
	(ieee_start_class_type): Don't initialize classdef entry of tag.
	(ieee_class_method_var): Don't adjust voffset.
	(ieee_end_class_type): Likewise.
	(ieee_tag_type): Initialize new name field of type.
	(ieee_typdef): Set name after copying in type information.

	* debug.c (VOFFSET_STATIC_METHOD): Define as -1, not 1.

	* ieee.c (struct ieee_modified_type): Define.
	(struct ieee_handle): Add modified and modified_alloc fields.
	(ieee_get_modified_info): New static function.
	(ieee_pointer_type): Cache type index.
	(ieee_const_type): Likewise.
	(ieee_volatile_type): Likewise.

	* ieee.c (ieee_define_named_type): When creating a tag for an
	anonymous struct, copy the name into memory.
	(ieee_tag_type): Likewise.
	* debug.c (debug_write_type): Only check and set id field for an
	unnamed object.
	(debug_write_class_type): Likewise.

	* ieee.c: Various changes to write out types for functions and
	references, and to not write out unnecessary function types.

	* ieee.c (struct ieee_var): Remove variable field.  Add kind
	field, and define some enum constants for it.
	(parse_ieee_ty): Set kind field of variable for 'x' and 'X' types.
	(parse_ieee_atn): Make an indirect slot for an external variable,
	although we otherwise don't record it.  Set kind field rather than
	variable field of pvar.
	(ieee_read_cxx_class): Try to get the type of a static member.
	(ieee_read_reference): Check kind field rather than variable
	field.

Tue Jan 23 15:54:18 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* ieee.c: Various changes to handle reading C++ reference type
	information.

	* debug.h (enum debug_var_kind): Add DEBUG_VAR_ILLEGAL.
	(enum debug_parm_kind): Add DEBUG_PARM_ILLEGAL.
	* debug.c (debug_get_parameter_types): Handle DEBUG_KIND_FUNCTION.

	* ieee.c: Various changes to write out definitions of C++ classes.

	* debug.c (debug_append_filename): Remove.
	* debug.h (debug_append_filename): Don't declare.

	* stabs.c (struct stab_handle): Remove last_type field.  Add
	so_string and so_value fields.
	(finish_stab): Call stab_emit_pending_vars before calling
	debug_end_function.  Don't warn about pending variables.
	(parse_stab): Accumulate N_SO strings until a non N_SO symbol is
	seen, rather than calling debug_append_filename.  Call
	stab_emit_pending_vars before calling debug_end_function.  Don't
	set info->last_type.

Tue Jan 23 09:53:54 1996  Doug Evans  <dje@@charmed.cygnus.com>

	* objdump.c (disassemble_data): Handle unknown endianness.
	Pass fprintf to INIT_DISASSEMBLE_INFO.

Mon Jan 22 16:46:43 1996  Doug Evans  <dje@@charmed.cygnus.com>

	Add new option --show-raw-insn.
	* objdump.c (show_raw_insn): New global.
	(usage): Update.
	(long_options): Update.
	(disassemble_data): Set disasm_info.flags if --show-raw-insn.

	* objdump.c (disassemble_data): Set new arch,mach,endian fields in
	disasm_info.

Mon Jan 22 19:29:36 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* ieee.c: Extensive changes to pass a single info argument around
	in the reading routines, rather than several arguments.  Add code
	to read C++ debugging records.

	* debug.h (debug_get_type_size): Declare.
	(debug_get_field_name): Declare.
	(debug_get_field_bitpos): Declare.
	(debug_get_field_bitsize): Declare.
	(debug_get_field_visibility): Declare.
	(debug_get_field_physname): Declare.
	* debug.c (debug_get_real_type): Handle DEBUG_KIND_TAGGED.
	(debug_get_type_size): New function.
	(debug_get_field_name): New function.
	(debug_get_field_bitpos): New function.
	(debug_get_field_bitsize): New function.
	(debug_get_field_visibility): New function.
	(debug_get_field_physname): New function.
	(debug_write_type): Make sure we pass the real kind, not INDIRECT,
	to tag_type.  Pass the name recursively for INDIRECT.

Fri Jan 19 12:31:57 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* debug.h (struct debug_write_fns): Remove ellipsis_type.  Add int
	and boolean parameters to function_type.  Add boolean parameter to
	method_type.
	(debug_make_ellipsis_type): Don't declare.
	(debug_make_function_type): Add debug_type * and boolean
	parameters.  Change all callers.
	(debug_make_method_type): Add boolean parameter.  Change all
	callers.
	(debug_get_parameter_types): Add boolean * parameter.  Change all
	callers.
	(debug_get_target_type): Declare.
	* debug.c (struct debug_function_type): Add fields arg_types and
	varargs.
	(struct debug_method_type): Add field varargs.
	(debug_ellipsis_type, ELLIPSIS_P): Remove.
	(debug_make_ellipsis_type): Remove.
	(debug_make_function_type): Add arg_types and varargs parameters.
	(debug_make_method_type): Add varargs parameter.
	(debug_get_parameter_types): Add pvarargs parameter.
	(debug_get_target_type): New function.
	(debug_write_type): In case DEBUG_KIND_FUNCTION, push argument
	types and pass count to function_type.  In DEBUG_KIND_METHOD, use
	a signed int for the count, don't call ellipsis_type, and pass
	varargs to method_type.
	* stabs.c (struct stab_demangle_info): Add varargs field.
	(stab_demangle_argtypes): Add pvarargs parameter.  Change all
	callers.
	(stab_demangle_args): Likewise.
	(stab_demangle_type): In case 'F', pick up argument types.
	* prdbg.c (pr_ellipsis_type): Remove.
	(pr_function_type): Add argcount and varargs parameters.
	(pr_method_type): Add varargs parameter.
	* ieee.c (ieee_ellipsis_type): Remove.
	(ieee_function_type): Add argcount and varargs parameters.
	(ieee_method_type): Add varargs parameter.  Remove most of
	function body, and just call ieee_function_type.

	* stabs.c: Include "demangle.h".  Added several new static
	functions not listed below to demangle argument types; they are
	all called via stab_demangle_argtypes.
	(finish_stab): If the kind of an undefined tag is
	DEBUG_KIND_ILLEGAL, use DEBUG_KIND_STRUCT instead.  Warn if there
	are any pending variable.
	(parse_stab): Don't close the function when the block depth goes
	to zero.  Pass value to debug_end_function.
	(parse_stab_string): In case 'T', pass the name to
	parse_stab_type.
	(parse_stab_type): In case 'x', use stab_find_tagged_type.  In
	case '#', handle functions with variable numbers of arguments.
	(parse_stab_struct_type): Add tagname parameter.  Change all
	callers.
	(parse_stab_members): Add tagname and typenums parameters.  Change
	all callers.  If the type of a method is a stub, call
	parse_stab_argtypes to demangle the argument types and get the
	physical name of the function.
	(parse_stab_argtypes): New static function.
	(stab_record_variable): For a DEBUG_GLOBAL or DEBUG_STATIC
	variable, call debug_record_variable immediately.
	(stab_find_tagged_type): New static function.

	* debug.h (enum debug_type_kind): Add DEBUG_KIND_ILLEGAL.
	(struct debug_write_fns): Add field ellipsis_type.  Add id
	parameter to start_struct_type, start_class_type, and tag_type.
	(debug_make_ellipsis_type): Declare.
	(debug_find_named_type): Declare.
	(debug_get_type_kind): Declare.
	(debug_get_return_type): Declare.
	(debug_get_parameter_types): Declare.
	(debug_get_fields): Declare.
	(debug_get_field_type): Declare.
	* debug.c (struct debug_handle): Add fields class_id and base_id.
	(struct debug_class_type): Add field id.
	(struct debug_method_variant): Rename argtypes to physname.
	Change all uses.
	(debug_ellipsis_type): New static variable.
	(ELLIPSIS_P): New macro.
	(debug_make_ellipsis_type): New function.
	(debug_make_method_variant): Rename argtypes to physname.
	(debug_make_static_method_variant): Likewise.
	(debug_name_type): Always put types in the global namespace.
	(debug_find_named_type): New function.
	(debug_find_tagged_type): Treat DEBUG_KIND_ILLEGAL specially,
	rather than DEBUG_KIND_VOID.
	(debug_get_real_type): New static function.
	(debug_get_type_kind): New function.
	(debug_get_return_type): New function.
	(debug_get_parameter_types): New function.
	(debug_get_fields): New function.
	(debug_get_field_type): New function.
	(debug_write): Initialize base_id.
	(debug_write_type): Pass new id argument to tag_type.  Handle
	DEBUG_KIND_ILLEGAL.  Use id for	DEBUG_KIND_STRUCT and
	DEBUG_KIND_UNION.  Handle ellipsis for method arguments.
	(debug_write_class_type): Don't dereference kclass if it is NULL.
	Use id.
	* prdbg.c (pr_fns): Add pr_ellipsis_type.
	(pr_ellipsis_type): New static function.
	(pr_pointer_type): If this is a pointer to an array, parenthesize
	it correctly.
	(pr_start_struct_type): Add id parameter.
	(pr_start_class_type): Likewise.
	(pr_tag_type): Likewise.
	(pr_fix_visibility): Add the visibility to the top of the stack,
	not the second element on the stack.
	(pr_struct_field): Pop the stack before calling pr_fix_visibility.
	(pr_class_static_member): Likewise.
	(pr_class_start_method): Don't push a type, just set the method
	name in the type on the top of the stack.
	(pr_class_end_method): Don't pop the stack.
	(pr_class_method_variant): Rename argtypes parameter to physname.
	Append const and volatile rather than prepending them.  Add a
	space after the physname.
	(pr_class_static_method_variant): Likewise.
	* ieee.c (ieee_fns): Add ieee_ellipsis_type.
	(ieee_define_named_type): Use DEBUG_KIND_ILLEGAL rather than
	DEBUG_KIND_VOID.
	(write_ieee_debugging_info): Likewise.
	(ieee_typdef): Likewise.
	(ieee_ellipsis_type): New static function.
	(ieee_start_struct_type): Add id parameter.
	(ieee_start_class_type): Likewise.
	(ieee_tag_type): Likewise.
	(ieee_class_method_variant): Rename name to physname.
	(ieee_class_static_method_variant): Likewise.

	* Makefile.in (DEBUG_OBJS): Remove prdbg.o.
	($(OBJDUMP_PROG)): Depend upon, and link against, prdbg.o.

Thu Jan 18 17:35:06 1996  Kim Knuttila  <krk@@cygnus.com>

	* dlltool.c (make_tail): Changed the order of the sections to avoid
	an alignment problem.

Wed Jan 17 14:23:00 1996  J.T. Conklin  <jtc@@rtl.cygnus.com>

	* srconv.c (wr_du): Set du.stackfrmt to 0.
	(wr_un, wr_sc): Emit all sections, even those with 0 size.

Tue Jan 16 16:15:49 1996  J.T. Conklin  <jtc@@rtl.cygnus.com>

	* srconv.c (wr_hd): Space size within segment was being
	stored in segment identifier field.

Tue Jan 16 12:07:25 1996  Stan Shebs  <shebs@@andros.cygnus.com>

	* mpw-config.in (BUILD_NLMCONV, BUILD_SRCONV, SYSINFO_PROG,
	BUILD_DLLTOOL): Put definitions for these into makefile when
	configuring, instead of always clearing in mpw-make.sed.
	* mpw-make.sed: Edit out any host_alias or target_alias settings,
	fix pathname to BFD internal include files, remove dependency
	calculation rules.

Thu Jan 11 17:31:38 1996  Michael Meissner  <meissner@@tiktok.cygnus.com>

	* objdump.c (dump_section_header): Add new section flags
	SEC_{EXCLUDE,SORT_ENTRIES}.

Thu Jan 11 11:45:34 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* objcopy.c (filter_symbols): NULL terminate the output symbols.
	(copy_object): Allocate space for a possible extra NULL pointer.

	* debug.c (debug_make_undefined_tagged_type): Make sure we are
	given a kind of type we can handle.
	(debug_write_type): Handle undefined enums and structs.
	(debug_write_class_type): Handle undefined classes.
	* prdbg.c (pr_enum_type): Handle an undefined enum.
	* ieee.c (ieee_enum_type): Likewise.

Wed Jan 10 15:33:18 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* Makefile.in: Updated dependencies.
	(ALLOCA, MALLOC): Remove variables.
	(ADDL_LIBS): Remove $(MALLOC) from definition.
	* alloca.c, gmalloc.c: Remove.

Mon Jan  8 18:02:29 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* ieee.c: Add global function write_ieee_debugging_info and a
	bunch of static functions and structs used to write out IEEE
	debugging information.
	* budbg.h (write_ieee_debugging_info): Declare.

	* ieee.c (struct ieee_type): Add pslot field.
	(enum builtin_types): Define.
	(ieee_builtin_type): For a pointer, return a pointer to the named
	type.  Use enum values rather than numbers.
	(ieee_alloc_type): New static function.
	(ieee_read_type_index): Use ieee_alloc_type.
	(parse_ieee_bb): Likewise.
	(parse_ieee_ty): Likewise.  Use ieee_builtin_type for array range,
	rather than making a new integer type.  Store the new type in the
	slot, if there is one.
	(parse_ieee_atn): Treat ATN10 as defining a register variable.
	(ieee_regno_to_genreg): Rename from ieee_regno_to_gen.  Change all
	callers.
	(ieee_genreg_to_regno): New static function.

	* stabs.c (parse_stab_type): Add new typename parameter.  Change
	all callers.
	(parse_stab_range_type): Add new typename parameter.  Change all
	callers.

	* debug.h (struct debug_write_fns): Add tag parameter to
	enum_type, start_struct_type, and start_class_type.
	* debug.c (debug_write_type): Pass any tag name to
	start_struct_type, debug_write_class_type, and enum_type.  If
	DEBUG_KIND_TAGGED, pass the name in the recursive call.
	(debug_write_class_type): Accept a new tag parameter, and pass it
	to start_class_type.
	* prdbg.c (pop_type): Don't remove '+' character.
	(pr_enum_type): Accept and use tag parameter.
	(pr_start_struct_type): Likewise.
	(pr_start_class_type): Likewise.
	(pr_class_baseclass): Adjust algorithm used to find where to put
	the baseclass name.
	(pr_tag): Don't bother to insert the tag name.

	* objcopy.c: Include budbg.h.
	(convert_debugging): New static variable.
	(OPTION_DEBUGGING): Define.
	(copy_options): Add "debugging".
	(copy_usage): Mention --debugging.
	(is_strip_section): Skip debugging sections if convert_debugging.
	(setup_section, copy_section): Likewise.
	(filter_symbols): Skip debugging symbols if convert_debugging.
	(copy_object): If convert_debugging, read and write debugging
	information.
	(write_debugging_info): New static function.
	(copy_main): Handle --debugging.
	* Makefile.in (DEBUG_OBJS): New variable.
	($(OBJCOPY_PROG)): Depend upon and link against $(DEBUG_OBJS).
	($(STRIP_PROG)): Likewise.
	(OBJDUMP_OBJS): Remove variable.
	($(OBJDUMP_PROG)): Use objdump.o $(DEBUG_OBJS) rather than
	$(OBJDUMP_OBJS).
	* binutils.texi, objcopy.1: Document --debugging.

Thu Jan  4 16:31:21 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* ieee.c: New file with code to read IEEE debugging information.
	* budbg.h (parse_ieee): Declare.
	* rddbg.c (read_debugging_info): Handle IEEE flavour files.
	(read_ieee_debugging_info): New static function.
	* Makefile.in: Rebuild dependencies.
	(CFILES): Add ieee.c.
	(OBJDUMP_OBJS): Add ieee.o.

	* bucomm.h (xrealloc): Change type of first parameter from char *
	to PTR.

Tue Jan  2 17:44:07 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* Makefile.in: Add targets to automatically rebuild dependencies.
	Remove targets which just listed dependencies of .o files.
	(DEP): New variable.
	(HFILES, GENERATED_HFILES): New variables.
	(CFILES, GENERATED_CFILES): New variables.
	(underscore.c): Don't do anything, just depend upon stamp-under.
	(stamp-under): New target; do what underscore.c used to do.
	(nlmconv.o): Depend upon sym.h and ecoff.h.
	(.dep, .dep1, dep.sed, dep, dep-in): New targets.
	(stage1, stage2, stage3, against, comparison): Remove.
	(de-stage1, de-stage2, de-stage3): Remove.
	(clean, distclean): Remove stamp-under and dep.sed.
	* dep-in.sed: New file.

	Implement generic debugging support.  Implement a stabs reader and
	a generic printer.
	* budbg.h, debug.c, debug.h, prdbg.c, rddbg.c, stabs.c: New files.
	* objdump.c: Include "debug.h" and "budbg.h".
	(dump_debugging): New global variable.
	(usage): Mention --debugging.
	(long_options): Add "debugging".
	(display_bfd): Handle --debugging.
	* Makefile.in (OBJDUMP_OBJS): New variable.
	($(OBJDUMP_PROG)): Use $(OBJDUMP_OBJS).
	* binutils.texi, objdump.1: Document --debugging.

Sat Dec 30 09:59:51 1995  Jeffrey A Law  (law@@cygnus.com)

	* nm.c ( long_options): Add "--defined-only" option.
	(usage): Update for new "--defined-only" option.
	(filter_symbols): Handle "--defined-only".

Fri Dec 29 16:04:56 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* arparse.y: Include "bucomm.h", not <sysdep.h>.
	* nlmheader.y: Don't include "sysdep.h".

Tue Dec 26 18:23:18 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* nm.c (print_symdef_entry): Check return value of
	bfd_get_elt_at_index.

Sat Dec 23 11:03:16 1995  Michael Meissner  <meissner@@tiktok.cgynsu.com>

	* configure.in (DLLTOOL_DEFS): Build dlltool for PowerPC if target
	is powerpc*-*-win* in addition to powerpc*-*-*pe*.

Fri Dec 15 16:30:57 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* objdump.c (endian_string): New static function.
	(display_target_list): Use it.
	* nlmconv.c (main): Use new bfd_big_endian macro.

Fri Dec 15 07:51:34 1995  steve chamberlain  <sac@@slash.cygnus.com>

	* dlltool.c (fill_ordinals): Start from 1 if no other instructions
 	given.

Tue Dec 12 12:05:21 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* Makefile.in (clean): Remove $(DEMANGLER_PROG).1.  From Ronald
	F. Guilmette <rfg@@monkeys.com>.

Mon Dec 11 14:33:05 1995  Stan Shebs  <shebs@@andros.cygnus.com>

	* mac-binutils.r: Fix copyright and version strings.

	* Makefile.in (version): Remove, no longer used.

Fri Dec  1 14:41:56 1995  Stan Shebs  <shebs@@andros.cygnus.com>

	* mpw-make.sed (install, install-only): Edit in Mac-specific
	install procedure.

Thu Nov 30 20:26:02 1995  Kim Knuttila  <krk@@cygnus.com>

	* dlltool.c (ppc_jtab): The binary glue for PowerPC dll linkage,
	including the return instruction.
	sinfo: added a preferred alignment field.
	(secdata): section data for the PowerPC version.
	(make_one_lib_file): More symbols, More sections (pdata, rdata)
	(make_tail): Use idata$6 instead of idata$7 for ppc. Also added a
	NULL idata$3 descriptor (temporary).

Tue Nov 28 17:23:44 1995  Doug Evans  <dje@@canuck.cygnus.com>

	* dlltool.c (fill_ordinals): Don't reference d_export_vec if
	there are no exported functions.

Mon Nov 27 13:05:59 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* configure: Regenerate with autoconf 2.7.

Wed Nov 22 13:17:15 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* dlltool.c (fill_ordinals): Start assigning ordinals at 1.

	* Makefile.in (EXPECT): Use $$r, not $${rootme}.
	(check): Set r, not rootme.

Tue Nov 21 18:04:09 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* configure.in: Use BFD_NEED_DECLARATION.
	* acconfig.h: Put NEED_DECLARATION_FPRINTF in @@TOP@@ section.
	* configure, config.in: Rebuild with autoconf 2.6.

Fri Nov 17 10:34:37 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* Makefile.in (CC_FOR_TARGET): Use @@host@@ and @@target@@, not
	$(host_canonical) and $(target_canonical).

Thu Nov 16 03:39:20 1995  Ken Raeburn  <raeburn@@cygnus.com>

	Version 2.6 released.
	* Makefile.in (VERSION): Update to 2.6.

Wed Nov 15 12:14:17 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* Makefile.in (CC_FOR_TARGET): Define.
	(check): Pass CC and CFLAGS to runtest.

	* nm.c (display_rel_file): Don't require a DYNAMIC object when
	dumping the dynamic symbol table.

	* objdump.c (compare_symbols): Sort global symbols before local
	symbols before debugging symbols.
	(objdump_print_address): Don't futz around looking for a global
	symbol with the same value.

Tue Nov 14 17:19:11 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* dlltool.c: Use FOPEN_* macros rather than "r" or "w".

	* dlltool.c (fill_ordinals): Correct memset call.

Sun Nov 12 12:56:05 1995  Stan Shebs  <shebs@@andros.cygnus.com>

	* mpw-make.sed (DEMANGLER_PROG): Edit out attempts to do anything
 	with the man page.

Fri Nov 10 11:41:22 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* objcopy.c (setup_section): Copy the section lma independently of
	the vma.

Wed Nov  8 11:33:00 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* arsup.c (ar_open): Cast malloc return value.

Tue Nov  7 09:01:26 1995  Kim Knuttila  <krk@@cygnus.com>

	* configure.in, configure (DLLTOOL_DEFS): Added ppc target.
	* dlltool.c (MPPC): Added basic PPC definitions.

Tue Nov  7 14:02:57 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* configure.in: Don't treat rs6000-*-lynx* specially.
	* configure: Rebuild.
	* config/rslynx: Remove.
	* Makefile.in: Remove @@target_makefile_fragment@@.

Mon Nov  6 15:00:50 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* bucomm.h: Include <sys/types.h>.
	* ar.c: Don't include <sys/types.h> or <stdio.h>.
	* bucomm.c, dlltool.c, nlmconv.c, objcopy.c, objdump.c: Likewise.

Fri Nov  3 12:38:09 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* objdump.c: Include <sys/types.h>.

	Permit user to override DEMANGLER_PROG from command line.  From
	Manfred Hollstein <manfred@@lts.sel.alcatel.de>.
	* Makefile.in ($(DEMANGLER_PROG)): Depend upon
	$(DEMANGLER_PROG).1.
	(install): Don't depend upon $(DEMANGLER_PROG).1.  Only install
	$(DEMANGLER_PROG).1 if $(DEMANGLER_PROG) is not empty.

Wed Nov  1 15:04:57 1995  Manfred Hollstein KS/EF4A 60/1F/110 #40283  <manfred@@lts.sel.alcatel.de>

	* Makefile.in (syslex.o): add -I$(srcdir) if compiling in a
	separate directory.

Mon Oct 30 14:24:18 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* objdump.c (objdump_print_value): New static function.
	(objdump_print_address): Use it.  If we need the right section for
	the symbol, and we can't find it, print an offset from the section
	rather than using a symbol from some other section.

Thu Oct 26 10:23:14 1995  steve chamberlain  <sac@@slash.cygnus.com>

	* dlltool.c (no_idata4, no_idata5): New.
	(arm_jtab): Use correct encoding of jump instruction.
	(usage, main, make_head, make_tail): Act on no_idata4, no_idata5.

Wed Oct 25 12:10:07 1995  Stan Shebs  <shebs@@andros.cygnus.com>

	* mpw-make.sed: Edit paths to generated y.tab.[ch] files.

Fri Oct 20 18:40:34 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* binutils.texi: Change --with-targets to --enable-targets.

Thu Oct 19 17:47:41 1995  Fred Fish  <fnf@@cygnus.com>

	* Makefile.in:  Remove extraneous tab on otherwise empty line,
	which confuses many non-GNU versions of "make".

Wed Oct 18 16:31:58 1995  steve chamberlain  <sac@@slash.cygnus.com>

	* dlltool.c (i386_jtab, arm_jtab): New
	(gen_lib_file): Rewritten to use bfd.

Fri Oct 13 16:10:07 1995  Michael Meissner  <meissner@@tiktok.cygnus.com>

	* Makefile.in (install): Don't give error message if dlltool
	wasn't built.

Fri Oct 13 11:04:37 1995  steve chamberlain  <sac@@slash.cygnus.com>

	* deflex.l: Allow quoting of IDs.
	* defparse.y (%union): string deleted.
	(command): DESCRIPTION takes ID.
	* dlltool.c (gen_def_file): Quote outgoing name if
	necessary.  Preserve NONAME.
	(gen_lib_file): Run ranlib.
	(workout_prefix): Deleted.
	(main, usage, long_options): Add --as, --ranlib, --ar options.

Wed Oct 11 13:36:13 1995  steve chamberlain  <sac@@slash.cygnus.com>

	* dlltool.c (mtable): HOW_ALIGN_LONG, new.
	(d_ord): Deleted.
	(d_low_ord, d_high_ord, d_named_funcs): New.
	(gen_exp_file): Create noname entries correctly.
	(gen_lib_file): Dump exports alphabetically.
	(process_duplicates):  Count nonamed functions.
	(fill_ordinals): Keep track of highest ord too.
	(mangle_defs): Create alphabetically ordered list of names.

Tue Oct 10 09:39:09 1995  steve chamberlain  <sac@@slash.cygnus.com>

	* Makefile.in (TOOL_PROGS): Include DLLTOOL_PROG.

Mon Oct  9 13:06:31 1995  steve chamberlain  <sac@@slash.cygnus.com>

	* dlltool.c (add_underscore): New.
	(xlate): Use new name.
	(main, usage): Update.

Fri Oct  6 14:08:51 1995  Ken Raeburn  <raeburn@@cygnus.com>

	* sysinfo.y: Eliminate unused terminals "[" and "]" and unused
	nonterminal "name".  One s/r conflict remains.

	Mon Sep 25 22:49:32 1995  Andreas Schwab  <schwab@@issan.informatik.uni-dortmund.de>

	* nm.c (print_symname): Don't try to demangle an empty
	name.
	* objdump.c (slurp_symtab): Reset symcount if there are
	no symbols.
	(slurp_dynamic_symtab): Likewise, for dynsymcount.
	(disassemble_data): Fix memory leak: free sorted_syms when done.
	(display_bfd): Likewise, for syms and dynsyms.
	(dump_relocs): Don't print header before possibly generating an
	error message.
	(dump_dynamic_relocs): Likewise.

	* ar.1, nm.1, objdump.1, size.1, strings.1, strip.1: Fix typos and
	formatting bugs.

Fri Oct  6 12:00:25 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* ar.c (do_quick_append): Comment out.
	(replace_members): Add quick argument.
	(main): Don't call do_quick_append.
	(open_inarch): Don't call quick_append to create an empty archive.
	Instead call bfd_openw/bfd_set_format/bfd_close.

Thu Oct  5 20:53:08 1995  Ken Raeburn  <raeburn@@cygnus.com>

	* bucomm.c: Always include time.h.

Thu Oct  5 17:25:21 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* objdump.c (compare_symbols): Sort gnu_compiled and gcc2_compiled
	symbols after other symbols with the same value.  Likewise for
	symbols which look like file names.
	(objdump_print_address): Always chose the first reasonable symbol
	with a given value.

Tue Oct  3 22:38:55 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* arsup.c (ar_save): Use rename, not unlink/link/unlink.

Mon Oct  2 12:10:25 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* strings.c (main): Exit with zero status if no files are given
	and standard input is read.

Thu Sep 28 20:03:07 1995  Stan Shebs  <shebs@@andros.cygnus.com>

	* mpw-config.in: Calculate underscore and put into makefile
	fragment, generate config.h.
	* mpw-make.sed: New file, sed commands to edit Unix makefile
	into MPW syntax.
	* mpw-make.in: Remove.
	* mac-binutils.r: New file, Mac resources.

Thu Sep 28 15:49:00 1995  steve chamberlain  <sac@@slash.cygnus.com>

	* dlltool.c: (gen_exp_file): Always emit a .reloc section if
	relocatable.
	(imp_name_lab): New.
	(gen_def_file): New.
	(gen_lib_file): Use imp_name_lab.
	(main): Initialize imp_name_lab.

Mon Sep 25 12:05:34 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* configure.in: Call AC_HEADER_SYS_WAIT.
	* configure: Rebuild.
	* config.in: Rebuild.
	* dlltool.c: Include "libiberty.h" and "bucomm.h".  Don't include
	<stdio.h>, <stdlib.h>, or <string.h>.  Don't include <wait.h>.
	Include <sys/types.h>.  Use HAVE_SYS_WAIT_H to control whether to
	include <sys/wait.h> or define the wait macros by hand.  Don't
	declare xmalloc.
	(gen_lib_file): Don't assume that sprintf returns the number of
	characters; use strlen instead.

Fri Sep 22 17:16:41 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* objdump.c (disassemble_data): Don't use the old BFD based
	disassembler interface.  Make info a const pointer.

Wed Sep 13 18:33:44 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* objdump.c (start_address): New variable.
	(stop_address): New variable.
	(usage): Mention --start-address and --stop-address.
	(OPTION_START_ADDRESS, OPTION_STOP_ADDRESS): Define.
	(long_options): Add "start-address" and "stop-address".
	(disassemble_data): Handle start_address and stop_address.
	(dump_data, dump_reloc_set): Likewise.
	(main): Don't set seenflag for -l.  Handle OPTION_START_ADDRESS
	and OPTION_STOP_ADDRESS.
	* objcopy.c (parse_vma): Move to bucomm.c.
	* bucomm.c (parse_vma): New function, moved in from objcopy.c.
	* bucomm.h (parse_vma): Declare.
	* binutils.texi, objdump.1: Document new objdump options.

Tue Sep 12 12:37:39 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* Makefile.in (maintainer-clean): New target.

	* ar.c (replace_members): Don't call write_archive if nothing
	changed.

	* objdump.c (disassemble_data): Add casts to avoid gcc warnings.

Thu Sep  7 12:12:17 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* config.in: Rename from config.h.in.
	* configure.in: Call AC_CONFIG_HEADER with config.h:config.in.
	Check for config.h:config.in when creating stamp-h.
	* configure: Rebuild.
	* Makefile.in (stamp-h): Depend upon config.in rather than
	config.h.in.  Set CONFIG_HEADERS to config.h:config.in when
	calling config.status.

	* Makefile.in (distclean): Remove config.h, stamp-h, and
        config.log.

	* nm.c (value_format): Initialize based on BFD64 and
	BFD_HOST_64BIT_LONG.
	(print_radix): New static variable.
	(set_print_radix): Set print_radix.  Adjust changes to
	value_format.
	(print_value): New static function, to print 64 bit octal and
	decimal values correctly.
	(print_symbol_info_bsd): Check BFD64, not BFD_HOST_64_BIT.  Use
	print_value.
	(print_symbol_info_sysv): Use print_value.
	(print_symbol_info_posix): Likewise.

Wed Sep  6 15:02:55 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* Makefile.in (*.o): Remove incorrect dependencies on
	$(BFDDIR)/hosts/std-host.h.

	* Makefile.in (INSTALL_DATA): Add -m 644.
	(INSTALL_XFORM1): Likewise.
	(CC_FOR_BUILD): Set to @@CC_FOR_BUILD@@ rather than $(CC).
	(mostlyclean): Remove config.log.
	(distclean): Remove config.cache.

	* configure.in: Call BFD_CC_FOR_BUILD and BFD_BINARY_FOPEN.
	* configure: Rebuild.

Tue Sep  5 20:22:42 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* configure.in: Rewrite to use autoconf.
	* aclocal.m4: New file.
	* configure: New file, built by autoconf.
	* acconfig.h: New file.
	* config.h.in: New file, built by autoheader.
	* Makefile.in: Various changes for new configure script.  Also:
	(PROGS): Remove $(SYSINFO_PROG).
	(ALL_CFLAGS): Remove $(TDEFINES).
	(version.o): Use $(ALL_CFLAGS).
	(cplus-dem.o, dlltool.o, nlmconv.o): Likewise.
	(sysdump.o): Depend upon bucomm.h and config.h.
	(srconv.o, arsup.o, strings.o): Depend upon config.h.
	(filemode.o): Don't depend upon ../bfd/sysdep.h.
	(bucomm.o): Depend upon config.h, not ../bfd/sysdep.h.
	(size.o, objdump.o, nm.o, ar.o, objcopy.o): Likewise.
	(nlmheader.o, nlmconv.o): Likewise.
	(distclean): Don't remove sysdep.h.
	* bucomm.h: Include "ansidecl.h", <stdio.h>, and "config.h".
  	Include "fopen-same.h" or "fopen-bin.h", based on
 	USE_BINARY_FOPEN.  Include <errno.h>, and declare errno if it is
 	not a macro.  Include <unistd.h>, <string.h>, <strings.h>,
 	<stdlib.h>, and <fcntl.h> if they are present.  Declare strchr,
 	strrchr, and strstr if no string header file exists.  Include
	<sys/file.h> if it exists and <fcntl.h> does not.  Define
	O_RDONLY and O_RDWR if necessary.
	* ar.c:  Don't include "sysdep.h".  Do include <sys/types.h> and
	<sys/stat.h>.  Use HAVE_GOOD_UTIME_H rather than POSIX_UTIME.  Use
	HAVE_UTIMES rather than !USE_UTIME.  Don't include <errno.h>, and
	don't declare errno.
	* arsup.c: Don't include <sysdep.h>.
	* bucomm.c: Don't include "sysdep.h".  Include <stdio.h>,
	<sys/types.h>, and <sys/stat.h>.  Include <time.h> if it defines
	time_t.  Define time_t if necessary.
	* coffdump.c: Don't include "sysdep.h".
	* coffgrok.c, filemode.c, nlmconv.c, size.c: Likewise.
	* srconv.c, strings.c: Likewise.
	* nm.c: Don't include "sysdep.h".  Don't try to define HAVE_SBRK.
	* objcopy.c: Don't include "sysdep.h".  Include <sys/types.h> and
	<sys/stat.h>.
	(simple_copy): Use creat rather than assuming that O_CREAT is
	defined.
	* objdump.c: Don't include "sysdep.h".  Use
	NEED_DECLARATION_PRINTF rather than !FPRINTF_ALREADY_DECLARED.
	* sysdump.c: Include "bfd.h" and "bucomm.h".  Don't include
	"sysdep.h" or <stdlib.h>.
	(dump_symbol_info): Rename from symbol_info.  Change all callers.

Mon Sep  4 14:30:00 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* configure.in (host_makefile_frag): Don't set.  Substitute for
	@@CC@@, @@CFLAGS@@, @@HDEFINES@@ and @@LDFLAGS@@ in Makefile.
	* Makefile.in (AR_FLAGS): Set to rc rather than qv.
	(CC): Define as @@CC@@.
	(CFLAGS): Set to @@CFLAGS@@.
	(LDFLAGS): Define as @@LDFLAGS@@.
	(ALL_CFLAGS): Use @@HDEFINES@@ rather than $(HDEFINES).

	* configure.in: Don't bother to call config.bfd for each target.
	Just call it for the default target, and use the shell variable to
	decide whether underscores are used.

Thu Aug 31 19:21:48 1995  Jason Molenda    (crash@@phydeaux.cygnus.com)

	* configure.in: match i[3-6]86-*-win32, not just i386-*-win32.

Thu Aug 31 16:30:22 1995  steve chamberlain  <sac@@slash.cygnus.com>

	* dlltool.c (add_indirect): New.
	(asm_prefix): New
	(gen_exp_file): Timestamp should be 0. Insert prefix when
	needed. New code for indirection.
	(gen_lib_file): Timestamp should be 0. Insert prefix
	when needed.
	(usage): Document --add-indirect.
	(main): Cope with new option.

	* objdump.c (dump_private_headers): New.
	(usage): Document new option.
	(long_option): Add private-headers.
	(dump_bfd_private_header): New.
	(main): Cope with new option.

Thu Aug 31 04:09:16 1995  Doug Evans  <dje@@canuck.cygnus.com>

	* dlltool.c (run): Add missing 3rd arg to waitpid.

Wed Aug 30 11:02:11 1995  steve chamberlain  <sac@@slash.cygnus.com>

	* Makefile.in (TOOL_PROGS): Include dlltool if needed.

Tue Aug 29 13:25:21 1995  steve chamberlain  <sac@@slash.cygnus.com>

	* dlltool.c (rva): Deleted.
	(rvaafter, rva_before): Use new assembler pseudo.
	(flush_page, gen_exp_file, gen_lib_file): Use new way of RVAing.
	(gen_exp_file): Don't generate .edata if no need.
	(gen_lib_file): Don't make timestamp.
	Put _iname in idata$7.
	(workout_prefix): Fix memory initialization bug.
	(usage): Tidy up, delete many single char options.
	(main): rva option is gone.

Mon Aug 21 18:41:28 1995  steve chamberlain  <sac@@slash.cygnus.com>

	* dlltool.c (options): image-base is a synonym for rva.
	(gen_lib_file): Put dll name into ibase$7.

Sun Aug 20 09:59:00 1995  steve chamberlain  <sac@@slash.cygnus.com>

	Modified to generate archives and objects rather than .s files.
	* dlltool.c (run) New function.
 	(gen_exp_file, gen_lib_file): Use run.
	(workout_prefix): New.
	(usage): Document new options.
	(main): Parse new options.

Wed Aug 16 16:26:52 1995  steve chamberlain  <sac@@slash.cygnus.com>

	* dlltool.c (gen_exp_file): Fix RVA handling.
	(rva_s, rva_n): Delete.

Fri Aug 11 18:27:18 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* nm.c (main): Ignore -e.

Thu Aug 10 17:35:00 1995  Ken Raeburn  <raeburn@@cygnus.com>

	* Makefile.in (config.texi): New target.  Write out a setting for
	texinfo variable VERSION.
	(binutils.dvi, binutils.info): Depend on it.
	* binutils.texi: Include it, and reference @@value{VERSION} instead
	of explicitly specifying 2.2(!).

Thu Aug 10 16:07:53 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* coffgrok.c (do_type): Handle array dimensions the same way gdb
	does.

Tue Aug  8 17:10:42 1995  steve chamberlain  <sac@@slash.cygnus.com>

	* dlltool.c (mtable): New fields.
	(ASM_RVA_BEFORE, ASM_RVA_AFTER): New.
	(flush_page): Use new macros.

Sat Aug  5 00:16:37 1995  Jeff Law  (law@@snake.cs.utah.edu)

	* objcopy.c (mark_symbols_used_in_relocations): Handle sections
	with no relocations.
	* coffgrok.c (do_sections_p1): Likewise.

Mon Jul 31 12:51:06 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* strings.c (print_strings): For compatibility with existing
	strings programs, print strings which are not terminated with a
	null byte or a newline.
	* binutils.texi, strings.1: Update documentation accordingly.

	* ar.c (replace_members): For compatibility with existing ar
	programs, permit users to add the same file multiple times.

Tue Jul 25 11:21:53 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* strings.c (DATA_FLAGS): Remove SEC_DATA.
	(main): If no file names are given, scan standard input.
	* binutils.texi, strings.1: strings now scans non-data sections by
	default.

Mon Jul 24 13:52:28 1995  J.T. Conklin  <jtc@@rtl.cygnus.com>

	* srconv.c (wr_hd): Set afl field to 4 for bfd_arch_sh.
	(writeINT): When size == -2, use 2 bytes for the h8300 and 4 bytes
	for the	sh.

	* sysdump.c (fillup): Return size - 1, the last byte is a checksum
	and shouldn't be counted.
	* sysroff.info (hd): Changed segment identifier from a byte to a 1
	bit field.  The sysroff 2.0-01 specification seems to be in error
	here.  Reduce width of following "spare" field from 4 to 3 bits.
	(rl): Changed order and width of first 4 bitfields to correspond
	to sysroff specification.
	(dln_head, dln_inside, dln_tail): Removed.

Tue Jul 18 23:00:03 1995  Fred Fish  <fnf@@cygnus.com>

	* nm.c (sort_symbols_by_size):  Enclose expression being casted
	in parens so result is casted, not just first operand.  Can't
	do pointer arithmetic on void* pointers.

Fri Jul 14 13:42:42 1995  J.T. Conklin  <jtc@@rtl.cygnus.com>

	* sysdump.c (dh): Changed format of output to be 16 hex digits
	followed by 16 ascii characters, similar to Emacs' hexl-mode,
	to make it easier to read.
	(xcalloc): fix typo.

Thu Jul 13 15:27:44 1995  J.T. Conklin  <jtc@@rtl.cygnus.com>

	* srconv.c (wr_tr): Write out handcrafted tr block.
	(walk_tree_symbol): Use evallen and evalue instead of
	vallen & value because of corresponding changes in
	sysroff.info.

	* sysdump.c (sysroff_swap_tr_in, sysroff_print_tr_out): New
	functions.

	* sysroff.info (tr): the tr block is a special case --- a block
	without contents --- which can't be handled by generated code.
	(den, dpp): only first byte is present for DENend, DPPend.
	(dsy): describe a conditional portion of block, rename some fields.
	(dps): describe a conditional portion of block.
	(dfl): removed.

	* sysinfo.y (yyerror): write error message to standard error.

Thu Jul 13 10:43:59 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* Makefile.in (DISTSTUFF): Add arparse.h and sysinfo.h.
	(mostlyclean): Remove y.output.
	(clean): Remove sysroff, sysroff.c, sysroff.h, and sysinfo.

	* nlmconv.c (powerpc_mangle_relocs): Cast memset arg to size_t.
	* objcopy.c (copy_object): Likewise.

	* nm.c (HAVE_SBRK): Define execpt on amigados and WINDOWS_NT.
	(struct size_sym): Define.
	(show_stats): New static variable.
	(long_options): Add undocumented option "stats".
	(main): Print memory stats if requested.
	(sort_bfd, sort_dynamic, sort_x, sort_y): New static variables.
	(numeric_forward): Use minisymbols rather than asymbols.
	(non_numeric_forward): Likewise.
	(size_forward1): Rename from size_forward.  Use minisymbols.
	(size_forward2): New static function.
	(sort_symbols_by_size): Take new arguments dynamic, size, and
	symsizep.  Use minisymbols.  Don't store the size back in the
	symbol; store in a newly allocate struct size_sym array.
	(display_rel_file): Read minisymbols rather than asymbols.  Set
	sort_* variables.  Call print_size_symbols if sorting by size.
	(filter_symbols): Take new arguments dynamic and size.  Use
	minisymbols.
	(print_symbols): Likewise.  Call print_symbol for actual printing.
	(print_size_symbols): New static function.
	(print_symbol): New static function.

Wed Jul 12 10:43:05 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* objdump.c (dump_section_stabs): Only print each stabs section
	once.
	(compare_relocs): Make it clear to gcc that this always returns a
	value.

Wed Jul 12 10:40:23 1995  H.J. Lu  <hjl@@nynexst.com>

	* objcopy.c (simple_copy): Preserve errno on failure.
	(smart_rename): Print error mesage if simple_copy fails.

Tue Jul 11 13:10:52 1995  J.T. Conklin  <jtc@@rtl.cygnus.com>

	* sysdump.c: re-indented file.
	(module): read blocks sequentially instead of trying to parse
	them, as that would require changing the parser recognize the
	difference between a DPSstart and DPSend block.
	(getone): Add break's between switch blocks as appropriate.
	(object_body_list): parse blocks according to sysroff spec.

Mon Jul 10 12:37:25 1995  J.T. Conklin  <jtc@@poseidon.cygnus.com>

	* sysroff.info: re-indented file, prior formatting was confusing
	because it was indentation did not reflect nesting of conditional
	records.  Change "space size within segment" record in hd record
	from bit to byte.

	* sysinfo.y (cond_it_field): Use xcalloc instead of calloc.

	* srconv.c (wr_cs): Reformatted cs header array, tag each byte
	with a comment describing the field.
	(wr_unit_info): Use SEEK_SET macro instead of constant 0.
	(main): Use FOPEN_WB macro instead of literal "wb".
	* sysroff.info: Remove fdl (dfl) field from cs block.  Compare
	ptr->type with ED_TYPE_CONST instead of constant 2 in ed block.

Tue Jul  4 14:48:42 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* nm.c (size_forward): Check yf against yn, not xn.

	* objcopy.c (copy_archive): Record all output BFD's, and close
	them before unlinking them and removing the temporary directory,
	to avoid NFS problems.

	* ar.c (replace_members): In verbose messages, use 'r' when
        replacing a member, and 'a' when adding one.

	* ar.c (ar_truncate): New static variable.
	(normalize): Change return type to const char *.  Add abfd
	argument.  Change all callers.  If ar_truncate, chop the filename
	to abfd->ar_max_namelen.
	(main): For the 'f' modifier, set ar_truncate to true.  Don't
	change quick_append to replace if ar_truncate is true.
	(do_quick_append): If ar_truncate, set BFD_TRADITIONAL_FORMAT.
	(write_archive): Likewise.
	* binutils.texi, ar.1: Document 'f' modifier.

	* objcopy.c (enum strip_action): Define strip_unneeded.
	(OPTION_STRIP_UNNEEDED): Define.
	(strip_options): Add "strip-unneeded".
	(copy_options): Likewise.
	(copy_usage): Mention --strip-unneeded.
	(strip_usage): Likewise.
	(is_strip_section): Strip debugging sections if strip_unneeded.
	(filter_symbols): If strip_unneeded, only keep BSF_KEEP symbols.
	(copy_object): If strip_all, discard symbols without checking
	discard_locals.
	(copy_object): Call filter_symbols if strip_unneeded.
	(setup_section): Strip debugging sections if strip_unneeded.
	(copy_section): Likewise.
	(strip_main): Handle OPTION_STRIP_UNNEEDED.
	(copy_main): Likewise.
	* binutils.texi, objcopy.1, strip.1: Document --strip-unneeded.

Mon Jul  3 14:16:47 1995  Steve Chamberlain  <sac@@slash.cygnus.com>

	* configure.in (i386-*-win32): New configuration.
	* dlltool.c (killat, xlate, usage, long_options, main):
	Understand and cope with -k option.

Sat Jul  1 12:25:15 1995  Fred Fish  <fnf@@cygnus.com>

	* ar.c: (extract_file):  Change "#if POSIX_UTIME" to
	"#ifdef POSIX_UTIME" to match other tests of POSIX_UTIME
	and avoid lossage when POSIX_UTIME is not defined at all.

Wed Jun 28 17:51:24 1995  Steve Chamberlain  <sac@@slash.cygnus.com>

	* ar.c: (print_contents.c, extract_file, do_quick_append):
	Malloc buffers rather than allocate on stack (so it works
	on NT).
	* deflex.l: Names can have an @@ in them.
	* dlltool.c: Loads of stuff. Can now generate .imp files which
	work with NT .dlls.

Thu Jun 22 19:10:50 1995  Stan Shebs  <shebs@@andros.cygnus.com>

	* mpw-make.in (demangle.c.o): Remove.
	(arparse.h): Depend on arparse.c instead of arparse.y.

Wed Jun 21 17:32:45 1995  Ken Raeburn  <raeburn@@cujo.cygnus.com>

	* Makefile.in (DISTSTUFF): Don't include info here.
	(diststuff): Include it here.
	(realclean): Remove *.info.

	* objdump.c (compare_relocs): If relocation entries have the same
	address, keep them in file order.

Mon Jun 19 09:06:49 1995  Steve Chamberlain  <sac@@slash.cygnus.com>

	* dlltool.c: Change names of generated files. .*.s-> -*.s

	* objdump.c (dump_section_stabs):  Check for names
	which are supersets of selected names.

Wed Jun 14 19:43:52 1995  Doug Evans  <dje@@canuck.cygnus.com>

	* dlltool.c (mtable, ARM jump): Must redirect via pc offsetable ptr.

Wed Jun 14 13:27:22 1995  Steve Chamberlain  <sac@@slash.cygnus.com>

	* deflex.l, defparse.y, dlltool.c: New files.
	* Makefile.in, configure.in: Support for them.

Mon Jun 12 11:27:54 1995  Steve Chamberlain  <sac@@slash.cygnus.com>

	* sysdump.c: Include sysdep.h
	(main): Open input with FOPEN_RB.

Fri Jun  9 17:26:11 1995  Michael Meissner  <meissner@@tiktok.cygnus.com>

	* objdump.c (wide_output): New flag variable.
	(usage): Print new -w, --wide options.
	(long_options): Add --wide support.
	(dump_section_header): If --wide, don't print a newline between
	the section's first line and the flags.
	(objdump_print_address): Use unsigned comparisons for the binary
	search, not signed.
	(disassemble_data): If --wide, don't put a \n between the
	disassembly output and relocation information.
	(main): Support -w option being the same as --wide.

Thu Jun  1 17:09:27 1995  Ken Raeburn  <raeburn@@cujo.cygnus.com>

	Sat May  6 08:52:24 1995  H.J. Lu (hjl@@nynexst.com)

	* objcopy.c (smart_rename): make it smarter, clean up
	  if rename () fails.

Tue May 30 14:24:15 1995  Ken Raeburn  <raeburn@@cujo.cygnus.com>

	* Makefile.in: Delete lines with lots of #### because four or more
	indicate a point for makefile fragment substitution.

Tue May  9 17:17:05 1995  Michael Meissner  <meissner@@tiktok.cygnus.com>

	* configure.in: Don't build nlmconv on PowerPC eabi any more, it
	is not needed.

Thu Apr 27 20:21:24 1995  Doug Evans  <dje@@canuck.cygnus.com>

	* Makefile.in (EXPECT): Define.
	(RUNTEST): Use one in source tree if present.
	(check): Set `rootme' for $(EXPECT).

Wed Apr 26 18:26:21 1995  Steve Chamberlain  <sac@@slash.cygnus.com>

	* srconv.c (main): Add support for -n option which disables
	prescan of common symbols.
	(wr_ob): If reading past the end of a section, fill with zeros.

Tue Apr 25 19:14:37 1995  Ken Raeburn  <raeburn@@cujo.cygnus.com>

	* objdump.c (dump_section_header): Display load address after
	virtual memory (run-time) address.

Wed Apr 19 09:44:06 1995  Jason Merrill  <jason@@phydeaux.cygnus.com>

	* Makefile.in (cplus-dem.o): Pass -DVERSION='"$(VERSION)"' to the
        compile.
	(DEMANGLER_PROG): No longer uses version.o.

Mon Apr 10 13:29:49 1995  Stan Shebs  <shebs@@andros.cygnus.com>

	Merge in support for Mac MPW as a host.
	(Old change descriptions retained for informational value.)

	* mpw-config.in (TDEFINES): Define as empty in makefile frag.

	* mpw-config.in: Create mk.tmp, define ARCHDEFS in it.

	* mpw-config.in: New file, MPW configure fragment for binutils.
	* mpw-make.in (install-only): New target.
	(install): Also depend on install-only.

	* mpw-make.in (cplusfilt): Renamed from c++filt.
	(INCLUDES): Add more paths.

	* mpw-make.in: New file, MPW makefile fragment for binutils.
	(Normally automatically generated from Makefile.in.)

Mon Mar 27 11:52:57 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* ar.c (write_archive): Call make_tempname to get output file
	name, rather than using a fixed name based on the input file.

	* objcopy.c (make_tempname): Copy from here...
	* bucomm.c (make_tempname): ...to here, and make global.
	* bucomm.h (make_tempname): Declare.

Fri Mar 24 11:47:42 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* strings.c: Include "bfd.h" before other headers.  Include
	"sysdep.h".
	* bucomm.c (print_arelt_descr): Cast st_uid and st_gid to long,
	and print them with %ld.

Fri Mar 10 13:09:42 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* objcopy.c (strip_options): Add --keep-symbol.
	(copy_options): Likewise.
	(copy_usage): Mention --keep-symbol and -K.
	(strip_usage): Likewise.
	(keep_symbols): New static variable.
	(is_strip_symbol): Adjust the return value according to
	keep_symbols.
	(strip_main): Handle -K.  For -N, check that -K was not given.
	(copy_main): Likewise.
	* binutils.texi, objcopy.1, strip.1: Document -K.

Mon Mar  6 13:33:47 1995  Stan Shebs  <shebs@@andros.cygnus.com>

	* objcopy.c (copy_archive): Check result of mkdir.
	(copy_main): Cast an xmalloc result.

	* objdump.c (usage): Break long format string into shorter ones.

Mon Mar  6 13:46:12 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* bucomm.c (list_supported_targets): New function.
	* bucomm.h (list_supported_targets): Declare.
	* ar.c (usage): Call list_supported_targets.
	* nm.c (usage): Likewise.
	* objcopy.c (copy_usage, strip_usage): Likewise.
	* objdump.c (usage): Likewise.
	* size.c (usage): Likewise.
	* strings.c (usage): Likewise.

Tue Feb 28 15:13:58 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* bucomm.c (print_arelt_descr): Cast st_size to long before
	passing it to fprintf.

Fri Feb 17 13:36:45 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* objcopy.c (struct section_list): Add fields remove, set_flags,
	and flags.  Change adjust from boolean to enum.
	(remove_sections): Remove static variable.
	(sections_removed): New static variable.
	(copy_options): Add --set-section-flags.
	(copy_usage): Mention --set-section-flags.
	(parse_flags): New static function.
	(find_section_list): New static function.
	(is_strip_symbol): Change return type from int to boolean.
	(is_strip_section): New static function.
	(filter_symbols): Call is_strip_section.
	(copy_object): When adding sections, check for specified flags or
	VMA.  Call filter_symbols if any sections are being removed.
	(setup_section): Use find_section_list function rather than
	looking through remove_sections and adjust_sections.  Handle
	--set-section-flags.
	(copy_section): Use find_section_list rather than looking through
	remove_sections.
	(strip_main): Use find_section_list instead of adding items to
	sections_removed.
	(copy_main): Use find_section_list instead of adding items to
	sections_removed and adjust_sections.  Handle --set-section-flags.
	* binutils.texi, objcopy.1: Document --set-section-flags.

Tue Feb 14 18:03:03 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* objdump.c (with_source_code): New global variable.
	(usage): Mention -S/--source.
	(long_options): Add --source.
	(prev_functionname, prev_line): New static variables.
	(struct print_file_list): Define.
	(print_files): New static variable.
	(skip_to_line, show_line): New static functions.
	(disassemble_data): Call show_line to handle -l and -S.
	(main): Handle -S.
	* binutils.texi, objdump.1: Document -S/--source.

Thu Feb  9 16:11:53 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* objcopy.c (copy_usage): Rename parameter to avoid shadowing.
	(strip_usage): Likewise.

	* objcopy.c (struct section_add): Define.
	(add_sections): New static variable.
	(copy_options): Accept --add-section.
	(copy_usage): Mention --add-section.
	(copy_object): Add sections from the add_sections list.
	(copy_main): Handle --add-section.
	* binutils.texi, objcopy.1: Document --add-section.

Wed Feb  1 15:04:57 1995  Ken Raeburn  <raeburn@@cujo.cygnus.com>

	* objdump.c (disassemble_data): Pass section offset, not absolute
	address, to bfd_find_nearest_line.

	* nlmconv.c (powerpc_mangle_relocs): Don't use const with
	reloc_howto_type.

Thu Jan 26 18:50:06 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* objdump.c (compare_symbols): Use bfd_asymbol_value (VAR) rather
	than VAR->value.
	(objdump_print_address): Likewise.
	(disassemble_data): Don't change the symbol values.  It can
	confuse bfd_canonicalize_reloc.

Thu Jan 26 12:03:56 1995  Michael Meissner  <meissner@@tiktok.cygnus.com>

	* configure.in: Add support for powerpc-*-ebai.

Wed Jan 18 10:02:12 1995  Steve Chamberlain  <sac@@splat>

	* coffdump.c: Include sysdep.h.
	(dump_coff_type): Handle coff_secdef_type.
	* coffgrok.c : Include sysdep.h.
	* srconv.c: Include libiberty.h
	(absolute_p, dty_start, dty_end, dump_tree_structure): Remove.

Wed Jan 18 12:24:14 1995  Ian Lance Taylor  <ian@@sanguine.cygnus.com>

	* coffdump.c (dump_coff_scope): Cast pointer to unsigned long for
	printf.
	* coffgrok.c: Include bucomm.h.  Don't declare xmalloc.
	(push_scope): Declare type of parameter link.
	* size.c: Include libiberty.h.
	* srconv.c: Include bucomm.h.
	(find_base): Declare at top of file.
	(wr_hd): Add default case to architecture switch.
	(wr_dps_start): Declare type of parameter nest.
	(wr_du): Comment out variables used only in commented out blocks.
	(wr_dus): Remove unused variable i.
	(wr_sc): Remove unused variables myinfo, low, and high.
	* strings.c: Include libiberty.h.
	* sysdump.c: Include <ctype.h>.

Tue Dec 20 19:13:44 1994  Ian Lance Taylor  <ian@@sanguine.cygnus.com>

	* ar.c (main): Ignore 'f' modifier used on HP/UX 9.

Thu Dec 15 17:34:12 1994  Stan Shebs  <shebs@@andros.cygnus.com>

	* ar.c, nm.c, objcopy.c, objdump.c: Include progress.h.
	* ar.c, nm.c, objcopy.c, objdump.c (main): Add START_PROGRESS
	and END_PROGRESS.
	* ar.c (map_over_members, open_inarch): Call PROGRESS.
	* nm.c (main, display_archive, filter_symbols, print_symbols):
	Call PROGRESS.

	* objcopy.c (copy_usage): Break up long usage string.

Wed Dec 14 15:51:56 1994  Ken Raeburn  <raeburn@@cujo.cygnus.com>

	* objcopy.c (copy_object): Don't bother setting status after
	nonfatal() "call", because it won't return.

Fri Dec  9 00:22:54 1994  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* nlmconv.c (powerpc_mangle_relocs): Don't switch a reloc to use
	the section symbol if the symbol is undefined.

Thu Dec  8 14:45:50 1994  Ken Raeburn  <raeburn@@cujo.cygnus.com>

	* objcopy.c (add_strip_symbol): Cast return value of xmalloc.

Wed Nov 30 11:05:43 1994  Ian Lance Taylor  <ian@@rtl.cygnus.com>

	* ar.c (replace_members): Pass current->filename to normalize when
	checking for duplicates, because the filename of a newly added
	file will not have been normalized yet.

Thu Nov 17 15:00:13 1994  Ian Lance Taylor  <ian@@sanguine.cygnus.com>

	* ar.c (main): Don't call do_quick_append if any of the archive
	names are longer than 14 characters.

	* objcopy.c (main): Fix is_strip test.  From
	pirker@@eiunix.tuwien.ac.at (Martin Pirker).

Thu Nov 17 15:37:19 1994  Mark W. Eichin  <eichin@@cygnus.com>

	* objcopy.c (add_strip_symbol): New function, adds a name to an
	explicit list of symbols to strip.
	(is_strip_symbol): New function, reports whether the name argument
	is in the explicit list.
	(filter_symbols): Check against is_strip_symbol above all.
	(strip_main): Recognize -N option. If used, don't default to
	strip_all.
	(copy_main): Recognize -N option.
	(strip_usage): Document -N and --strip-symbol options.
	(copy_usage): Ditto.
	* objcopy.1, strip.1, binutils.texi: Document -N and
	--strip-symbol options.

Tue Nov  8 13:12:54 1994  Ian Lance Taylor  <ian@@sanguine.cygnus.com>

	* objdump.c (display_target_list, display_info_table): Pass an
	array to tmparg, rather than NULL, since some systems can't handle
	NULL.

	* objcopy.c (copy_archive): Keep a list of the names of the
        temporary files we created.  Close each input BFD after we open
        its successor.

Mon Nov  7 15:48:39 1994  Ken Raeburn  <raeburn@@cujo.cygnus.com>

	* Makefile.in (VERSION): Bump to 2.5.3.

Thu Nov  3 19:04:34 1994  Ken Raeburn  <raeburn@@cujo.cygnus.com>

	* Makefile.in (install-info): Install info files from whatever
	directory they were found in.

	Patch from DJ Delorie:
	* configure.bat: do c++filt -> cxxfilt right

	* sysinfo.y: Include system header files early, so any potential
	declaration of abort() occurs before its use.

	* strings.c (strings_file): Try opening the file in binary mode
	first.

Wed Nov  2 15:44:13 1994  Ian Lance Taylor  <ian@@sanguine.cygnus.com>

	* ar.c (main): Treat ar qs like ar rs.

Tue Oct 25 16:19:25 1994  Ian Lance Taylor  <ian@@sanguine.cygnus.com>

	* objcopy.c (gap_fill): Explicitly initialize, for clarity.
	(pad_to_set, pad_to): New static variables.
	(copy_options): Accept --pad-to.
	(copy_usage): Mention --pad-to.
	(copy_object): Support --pad-to.
	(compare_section_vma): Sort non loadable sections to the front.
	Sort sections with the same VMA by size.
	(copy_main): Handle --pad-to.
	* binutils.texi, objcopy.1: Document --pad-to.

Thu Oct 20 13:51:31 1994  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* objcopy.c (gap_fill_set, gap_fill): New static variables.
	(copy_options): Accept --gap-fill.
	(copy_usage): Mention --gap-fill.
	(copy_object): Support --gap-fill.
	(get_sections, compare_section_vma): New static functions.
	(copy_main): Handle --gap-fill.
	* binutils.texi, objcopy.1: Document --gap-fill.

Wed Oct 19 14:09:16 1994  Ian Lance Taylor  <ian@@sanguine.cygnus.com>

	* Makefile.in (check): Add a dummy else clause to the if
	statement.

	* objcopy.c (copy_object): Revert yesterday's change.
	* binutils.texi, objcopy.1: Remove special mention of --set-start
	and `binary' output format.

Tue Oct 18 11:12:01 1994  Ian Lance Taylor  <ian@@sanguine.cygnus.com>

	* objcopy.c (copy_object): If the output file format is `binary',
	and the start address was not set using --set-start, default the
	start address to zero.  This hack is because the `binary' output
	file format uses the start address to set the virtual address of
	the first byte in the file.
	* binutils.texi, objcopy.1: Add some notes on generating S-records
	and binary files.

	* nm.c (print_symdef_entry): Call print_symname to print the
	symbol name, so that --demangle works.

	* Makefile.in (mostlyclean): Remove tmpdir.

	* objcopy.c (struct section_list): Add fields used, adjust, val.
	(adjust_start, set_start_set, set_start): New static variables.
	(adjust_section_vma, adjust_sections): New static variables.
	(copy_options): Add --adjust-start, --adjust-vma,
	--adjust-section-vma, --adjust-warnings, --no-adjust-warnings,
	--set-start.
	(parse_vma): New static function.
	(copy_usage): Mention new options.
	(copy_object): Handle --set-start and --adjust-start.
	(setup_section): Correct type of last argument to PTR.  Set used
	field if section is removed.  Handle --adjust-vma and
	--adjust-section-vma.
	(copy_section): Correct type of last argument to PTR.
	(mark_symbols_used_in_relocations): Likewise.
	(strip_main): Clear used field when handling -R.
	(copy_main): Handle new options.
	* binutils.texi (objcopy): Document new options.
	* objcopy.1: Document new options.

Fri Oct 14 14:38:13 1994  Ian Lance Taylor  <ian@@sanguine.cygnus.com>

	* configure.in (configdirs): Remove definition--testsuite is no
	longer configured.
	* Makefile.in (testsuite): Remove target.
	(site.exp): New target.
	(check): Rewrite.
	(clean, distclean): Don't recur into testsuite directory.

Thu Oct 13 19:24:09 1994  Ken Raeburn  <raeburn@@cujo.cygnus.com>

	* Makefile.in (VERSION): Updated to 2.5.
	* Version 2.5 released.

Tue Oct 11 15:26:42 1994  Ian Lance Taylor  <ian@@sanguine.cygnus.com>

	* Makefile.in (sysdump.o): Depends upon sysroff.c.

Mon Oct 10 13:50:30 1994  J.T. Conklin  (jtc@@rtl.cygnus.com)

	* nlmconv.c (link_inputs): Pass -Ur flag to ld so that the
	  ctor/dtor tables needed by C++ programs are built.

Sun Oct  9 18:04:00 1994  Jim Wilson  (wilson@@sphagnum.cygnus.com)

	* Makefile.in (srconv.o): Add dependence on sysroff.c.

Tue Oct  4 12:19:51 1994  Ian Lance Taylor  <ian@@sanguine.cygnus.com>

	* configure.in: Use ${config_shell} when running config.bfd.

	* Makefile.in (sysroff.h): Split target away from sysroff.c.
	(srconv.o, sysdump.o): New targets.
	(srconv, sysdump): Don't depend upon sysroff.c.

Wed Sep 28 13:04:34 1994  Ian Lance Taylor  (ian@@sanguine.cygnus.com)

	* Makefile.in (arparse.c): Don't ignore errors from mv.
	(sysinfo.c): Likewise.  Also, depend upon arparse.c, to prevent a
	parallel make from trying to build both arparse.c and sysinfo.c
	simultaneously.
	(nlmheader.c): Similar change.
	(arparse.h): Separate target from arparse.c, so that a parallel
	make does not try to build both at once.  Depend upon arparse.c.
	(sysinfo.h): Similar change.

	* objdump.c (disassemble_data): Pass the reloc buffer to free, not
	the pointer used to loop over the relocs.

Sat Sep 24 16:16:57 1994  Stan Shebs  (shebs@@andros.cygnus.com)

	* objdump.c (disassemble_data): Cast result of xmalloc.

Wed Sep 21 19:30:35 1994  Ian Lance Taylor  (ian@@sanguine.cygnus.com)

	* objdump.c (sorted_syms, sorted_symcount): New global variables.
	(objdump_print_address): Use sorted_syms and sorted_symcount
	instead of syms and symcount.
	(disassemble_data): Don't bother to get the relocs before looping
	over the sections.  Before filtering and sorting the symbol table,
	copy it into sorted_syms.

Fri Sep 16 11:27:39 1994  Ian Lance Taylor  (ian@@sanguine.cygnus.com)

	* objdump.c (struct objdump_disasm_info): Add field require_sec.
	(objdump_print_address): If aux->require_sec, require that the
	symbol be in aux->sec even if HAS_RELOC is not set.  If we can't
	find a smaller symbol in the right section, look for a larger one.
	(disassemble_data): Set aux.require_sec around the
	objdump_print_address call for the instruction address.

Thu Sep 15 21:43:17 1994  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* ar.c: Call xexit rather than exit.
	(output_filename, output_file, output_bfd): New static variables.
	(remove_output): New static function.
	(main): Call xatexit (remove_output).  Call xexit rather than
	returning.
	(extract_file): Set output_filename and output_file while output
	file is open.
	(write_archive): Likewise, but use output_bfd, not output_file.
	* arsup.c: Include libiberty.h.  Call xexit rather than exit.
	* bucomm.c: Likewise.

	* objdump.c (disassemble_all): New global variable.
	(usage): Document --disassemble-all.
	(long_options): Add disassemble-all as a synonym for -D.
	(compare_symbols): Make pointers const.
	(compare_relocs): New static function.
	(disassemble_data): Rename disassemble to disassemble_fn to avoid
	shadowing.  If dump_reloc_info, print relocs along with
	disassembly.  Skip sections which are not SEC_CODE unless
	disassemble_all or only is set.
	(display_bfd): Don't call dump_relocs if disassemble is set.
	(main): Accept and handle -D.
	* binutils.texi: Document -D/--disassemble-all.
	* objdump.1: Likewise.

Wed Sep 14 12:19:07 1994  Ian Lance Taylor  (ian@@sanguine.cygnus.com)

	* objdump.c (disassemble_data): Initialize prevline to 0.  Make
	prev_function non const.  Copy functionname into an malloc buffer
	when setting prev_function, instead of assuming that the string
	will last forever.

	* nm.c: Include libiberty.h.
	(sort_by_size): New static variable.
	(long_options): Add --size-sort.
	(usage): Mention --size-sort.
	(numeric_forward): Make static.  Change from void * to PTR.
	(numeric_reverse): Likewise.
	(non_numeric_forward, non_numeric_reverse): Likewise.
	(sorters): Change declaration from void * to PTR.
	(size_forward, sort_symbol_by_size): New static functions.
	(display_rel_file): Handle sort_by_size.
	(filter_symbols): If sort_by_size, discard absolute and undefined
	symbols.
	* binutils.texi (nm): Document --size-sort.
	* nm.1: Document --size-sort.

Tue Sep 13 21:06:06 1994  Jeff Law  (law@@snake.cs.utah.edu)

	* objcopy.c (copy_main): Initialize input_filename and
	output_filename to NULL.

Tue Sep 13 14:17:24 1994  Ian Lance Taylor  (ian@@sanguine.cygnus.com)

	* Makefile.in (version.o): Depend upon Makefile, so that version.o
	gets rebuilt when make variable VERSION is changed.

	* objdump.c (dump_section_header): Print the SEC_NEVER_LOAD flag.

Wed Aug 24 12:40:09 1994  Ian Lance Taylor  (ian@@sanguine.cygnus.com)

	* configure.in: Change i[34]86 to i[345]86.

Tue Aug 23 11:00:40 1994  Ian Lance Taylor  (ian@@sanguine.cygnus.com)

	* ar.c (ranlib_touch): Don't update the archive map if there isn't
	one.

Mon Aug 22 16:02:18 1994  Ian Lance Taylor  (ian@@sanguine.cygnus.com)

	* ar.c: Include libiberty.h.
	(inarch): Remove variable.
	(map_over_members): Make static.  Add arch argument, and use it
	instead of inarch.  Change all callers.
	(main): Treat --version as -v.  Accept -t argument.  Accept any
	number of archive arguments.  Catch and use open_inarch return
	value, rather than using inarch.
	(open_inarch): Return newly opened BFD, rather than using inarch.
	(do_quick_append): Make archive_filename const.
	(write_archive): Add iarch argument, and use it instead of inarch.
	Change all callers.
	(delete_members, move_members, replace_members): Likewise.
	(ranlib_only): Don't exit on success.  Catch and use open_inarch
	return value.
	(ranlib_touch): New function.
	* arsup.h (map_over_members): Don't declare.
	(ar_end, ar_extract): Declare.
	(open_inarch): Change return value in declaration to bfd *.
	* arsup.c (map_over_list): Make static. Always pass two arguments
	to function.  Add arch argument, and use it instead of inarch.
	Change all callers.
	(ar_directory_doer): Make static.  Add ignored second argument.
	Change all callers.
	(ar_directory): Use open_inarch return value rather than inarch.
	(ar_addlib_doer): Make static.
	(ar_addlib): Use open_inarch return value rather than inarch.
	(ar_extract): Remove unused local variable abfd.

Thu Aug 11 14:55:57 1994  Ian Lance Taylor  (ian@@sanguine.cygnus.com)

	Add support for removing named sections to objcopy and strip.
	* objcopy.c (struct section_list): Define.
	(remove_sections): New static variable.
	(strip_options, copy_options): Add remove-section.
	(copy_usage, strip_usage): Mention -R and --remove-section.
	(setup_section): If section is in remove_sections list, ignore it.
	(copy_section): Likewise.
	(strip_main, copy_main): Handle -R.
	* binutils.texi, objcopy.1, strip.1: Document new options.

Wed Aug 10 10:19:55 1994  Stan Shebs  (shebs@@andros.cygnus.com)

	* nlmconv.c (powerpc_mangle_relocs): Rename symvalue to sym_value,
	so as not to conflict with the symvalue typedef in bfd.h.

Mon Aug  1 13:19:09 1994  Ian Lance Taylor  (ian@@sanguine.cygnus.com)

	* nlmheader.y: Per current NetWare docs, accept a revision number
	of 0 and treat a revision number greater than 26 as 0.

Mon Jul 25 12:58:36 1994  Ian Lance Taylor  (ian@@sanguine.cygnus.com)

	* objdump.c (objdump_print_address): Correct handling of end of
	symbols when looking for next symbol with a different value.

Fri Jul 22 16:48:34 1994  Ken Raeburn  (raeburn@@cujo.cygnus.com)

	* nm.c (numeric_forward): Treat undefined symbols as "less than"
	defined symbols with zero values.  If numeric values are equal, or
	both symbols are undefined, sort alphabetically.  Don't assume
	that the difference of two bfd_vma values will truncate to "int"
	and still have the same sign.
	(numeric_reverse): Call numeric_forward and negate the result.
	(print_symbol_info_bsd): For undefined symbols, print leading
	spaces equivalent to the width of a printed bfd_vma, rather than
	assuming that 8 will look right.

Fri Jul 22 10:36:50 1994  Steve Chamberlain  (sac@@jonny.cygnus.com)

	* coffgrok.c (doit):  Zero all fields of new structure.
	* srconv.c (sysroff_swap_*_out): Remove redundant trailing arg.
	* sysinfo.y: Generate sysroff_swap_*_out without requiring extra
	arg.

Fri Jul 22 10:09:53 1994  J.T. Conklin  (jtc@@phishhead.cygnus.com)

	* nlmheader.y: Make "stack" and "stacksize" synonyms in the lexer
	  rather than the parser.

Thu Jul 21 10:25:09 1994  Ian Lance Taylor  (ian@@sanguine.cygnus.com)

	* config/mh-alphaosf, config/mh-apollo68v, config/mh-delta88:
	Remove; obsolete.

Sat Jul 16 22:34:39 1994  Ian Lance Taylor  (ian@@sanguine.cygnus.com)

	* objdump.c (slurp_dynamic_symtab): Try to get the dynamic symbols
	even if the bfd is not marked DYNAMIC.  ELF executables are not
	marked DYNAMIC, but do have dynamic symbols.

Fri Jul 15 01:41:35 1994  Steve Chamberlain  (sac@@jonny.cygnus.com)

	* coffgrok.c (do_where): Make data with no type 'int'.
	(do_define):  Keep info on source file of a symbol.
	* coffgrok.h (coff_symbol): New field.
	* srconv.c (PROGRAM_VERSION): Now 1.3
	(wr_rl): Use external ref number for symbol.
	(wr_dus): Only keep one source file per debug unit.
	(wr_dln): Always emit line numbers for first source file,
	(wr_globals):  Emit globals in the du of their owning source file.

Mon Jul 11 15:59:03 1994  J.T. Conklin  (jtc@@phishhead.cygnus.com)

	* nlmheader.y: Null terminate var_hdr->threadName.

Fri Jul  8 17:33:22 1994  Ken Raeburn  (raeburn@@cujo.cygnus.com)

	* Makefile.in (syslex.o, sysinfo.o): Permit C source files to be
	in $(srcdir), as they will be for FSF releases.

Wed Jul  6 01:13:14 1994  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* nlmconv.c (setup_sections): Preserve existing section flags when
	copying in flags from a new section.

Tue Jul  5 15:56:01 1994  Ian Lance Taylor  (ian@@sanguine.cygnus.com)

	* objcopy.c: Include libiberty.h.
	(copy_file): If output_target is NULL, set it to the target of the
	input file.

Wed Jun 29 17:17:14 1994  J.T. Conklin  (jtc@@phishhead.cygnus.com)

	* nlmconv.c (link_inputs): Fixed memory allocation bug.

Thu Jun 23 12:52:46 1994  David J. Mackenzie  (djm@@rtl.cygnus.com)

	* configure.in: Change --with-targets to --enable-targets.

Tue Jun 21 12:53:21 1994  Ian Lance Taylor  (ian@@sanguine.cygnus.com)

	* Makefile.in (sysinfo): Does not depend upon $(ADDL_LIBS).

	* nlmconv.c (powerpc_build_stubs): Don't generate the PowerPC
	NetWare custom header; no longer needed.
	(powerpc_mangle_relocs): Convert relocs against the uninitialized
	data section into relocs against the data section.

	* configure.in: Set nlmconv_defs to -DNLMCONV_cputype for all the
	netware targets.  Write it into Makefile as NLMCONV_DEFS.
	* Makefile.in (nlmconv.o): Pass $(NLMCONV_DEFS) to $(CC).
	* nlmconv.c: Only compile code for specific CPU types if
	NLMCONV_cputype is defined.

	* nlmconv.c (main): Change uses of bfd_abs_section, etc., to use
	bfd_abs_section_ptr or bfd_is_abs_section, etc.
	(i386_mangle_relocs, alpha_mangle_relocs): Likewise.
	(powerpc_build_stubs): Likewise.
	* nm.c (filter_symbols, print_symbols): Likewise.
	* objcopy.c (filter_symbols): Likewise.
	(mark_symbols_used_in_relocations): Likewise.
	* objdump.c (remove_useless_symbols, dump_relocs): Likewise.
	* size.c (sysv_internal_printer): Likewise.

Mon Jun 20 16:43:03 1994  Ken Raeburn  (raeburn@@cujo.cygnus.com)

	* Makefile.in (MANPAGES): Remove $(DEMANGLER_PROG).
	(install): Install it explicitly, from build dir, not srcdir.

Mon Jun 20 16:29:54 1994  Ian Lance Taylor  (ian@@sanguine.cygnus.com)

	* objdump.c: Don't include elf/internal.h.
	(bfd_elf_find_section): Don't declare.
	(read_section_stabs): No special handling for ELF.  Always read
	using BFD sections.

Thu Jun 16 17:25:20 1994  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* configure.in: Set UNDERSCORE in Makefile based on result of
	invoking config.bfd with a second argument of ``_''.
	* Makefile.in (underscore.c): Depend upon Makefile.  Don't try to
	run $(CC) and $(NM), just use $(UNDERSCORE).  Create via temporary
	file.
	(demangle.o): Remove target.
	($(NM_PROG)): Don't depend upon demangle.o, and	don't link against
	demangle.o.  It's in libiberty anyhow.
	(cplus-dem.o): Don't depend upon demangle.o.
	* binutils.texi: Mention -n and --no-strip-underscores arguments
	to c++filt.

Wed Jun 15 12:10:31 1994  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* nm.c (long_options): Add --no-demangle to turn off --demangle,
	and --no-cplus for Linux compatibility.
	(usage): Mention --no-demangle.
	* binutils.texi: Document --no-demangle.

Fri Jun 10 15:41:25 1994  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* nm.c: HOST_64_BIT was renamed to BFD_HOST_64_BIT.

	* objcopy.c (copy_archive): Make the temporary directory in the
	same directory as the output BFD, since we may not have write
	permission on the current directory.  Set the permissions of the
	new directory to 0700, not 0777.

Mon Jun  6 21:36:43 1994  D. V. Henkel-Wallace  (gumby@@cygnus.com)

	* configure.in: if this is an rs6000 (and we're not building for
	any other bfd targets) then build only nm (collect needs it on
	rs6000-lynx).

	* Makefile.in: define TOOL_PROGS which the list of programes to
	install in $tooldir -- replaces a hard-coded list.

Fri Jun  3 10:59:18 1994  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* objdump.c (display_target_list): Remove unused local ok.

Thu May 26 18:05:52 1994  Ken Raeburn  (raeburn@@cujo.cygnus.com)

	* config/mh-alphaosf (CFLAGS): Don't specify both -g and -O;
	they're not compatible under native cc.  Use -O1 instead.

	* Makefile.in (VERSION): Updated to cygnus-2.4.1.

	Changes from binutils-2.4 net release:

	* Makefile.in (MANPAGES): Use $(DEMANGLER_PROG).
	($(DEMANGLER_PROG).1): Build from cxxfilt.man, using sed.
	* cxxfilt.man: Renamed from c++filt.1, replaced "c++filt" with
	magic token to be replaced by sed.

	Wed May 11 22:32:00 1994  DJ Delorie (dj@@ctron.com)

	* configure.bat: update for latest makefile.in

Fri May 13 23:25:13 1994  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* bucomm.c: Check ANSI_PROTOTYPES rather than __STDC__.

Tue May 10 18:22:06 1994  Jason Molenda    (crash@@sendai.cygnus.com)

	* objcopy.c (copy_section): Set section size correctly if using
	interleave.

Sat May  7 16:49:36 1994  Steve Chamberlain  (sac@@cygnus.com)

	* Makefile.in: Add rule for sysinfo.h

Fri May  6 12:18:33 1994  Steve Chamberlain  (sac@@cygnus.com)

	* Makefile.in (SRCONV_PROG): Define.
	(PROGS): Use $(SRCONV_PROG) too.

Thu May  5 19:41:43 1994  Ken Raeburn  (raeburn@@cujo.cygnus.com)

	* Makefile.in (DISTSTUFF): Add sysinfo.c, syslex.c, in case
	someone configures with `targets=all'.
	(distclean): Remove y.*.
	(syslex.o): Depend on sysinfo.h.
	(sysinfo.c): Rename y.tab.h to sysinfo.h.
	(install-info): Don't try to install into $(infodir)/$(srcdir).
	* syslex.l: Include sysinfo.h, not y.tab.h.

Thu May  5 11:50:55 1994  Ken Raeburn  (raeburn@@kr-pc.cygnus.com)

	* syslex.l (yywrap): Define as function if not defined as a macro.

	* Makefile.in (objdump.o): Deleted special rule.
	* configure.in: Don't bother building ARCHDEFS variable for
	Makefile.
	* objdump.c (ARCH_*): Deleted handling.
	(disassemble_data): Call `disassembler' from opcodes library.

Thu May  5 13:28:42 1994  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* Makefile.in (install): Correct handling of $(tooldir) and
	$(bindir) being on different devices.

Fri Apr 29 09:50:38 1994  Steve Chamberlain  (sac@@cygnus.com)

	* sysdump.c (h8300, sh): Add declarations.

Wed Apr 27 11:25:18 1994  Steve Chamberlain  (sac@@cygnus.com)

	* Makefile.in (syslex, sysinfo): Use CC_FOR_BUILD.
	* coffdump.c, coffgroc.c, coffgrog.h, srconv.c, sysdump.c,
	sysroff.info: Major changes.

Tue Apr 26 18:18:24 1994  Stan Shebs  (shebs@@andros.cygnus.com)

	* objdump.c (print_section_stabs): Indicate the stab header symbol
	more clearly, print numbers of unrecognized stab n_type values.

Tue Apr 26 16:22:55 1994  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* nlmconv.c (copy_sections): Copy arelent pointers, not arelents.

Mon Apr 25 16:14:32 1994  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* Makefile.in (distclean): Remove $(PROGS) and underscore.c.

Fri Apr 22 11:14:19 1994  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* nlmconv.c (setup_sections): Remove special handling of .reginfo
	section.
	(copy_sections): Likewise.
	(alpha_mangle_relocs): Use bfd_ecoff_get_gp_value rather than the
	special ECOFF .reginfo section.

	* objcopy.c (copy_object): Call bfd_copy_private_bfd_data after
	copying everything else, to let it fiddle with the file in its
	final state.

	* objdump.c: Include libiberty.h.
	(display_target_list): If a format fails, just go on to the next
	one.  Check return value of bfd_set_format.
	(display_info_table): Likewise.  Don't increment loop variable in
	for loop test, since that skips the first element.
	(display_target_tables): Rewrite loop for clarity.  Ensure that it
	always prints at least one element.

	* nlmconv.c (main): Use CyGnUsEx rather than CyGnUsSeCs for
	sections header.  Rename from cygnus_sections to cygnus_ext.

Thu Apr 21 12:12:26 1994  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* objdump.c (_DUMMY_NAME_): Don't define.
	(display_target_list): Use tmpnam to get a file name rather than
	using _DUMMY_NAME_.  Unlink it when done.
	(display_info_table): Likewise.

	* nlmconv.c (secsec): New static variable.
	(main): Create .nlmsections section in output BFD.  Store
	information about it in sections header.
	(setup_sections): Allocate space in sections header.
	(copy_sections): Copy zero sized sections.  Put information about
	each section in the sections header.

Wed Apr 20 14:34:51 1994  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* nlmconv.c (powerpc_build_stubs): Take new outbfd argument.
	Change caller.  Create custom header for new PowerPC NetWare
	format.

	* Makefile.in (nlmheader.o, nlmconv.o): Update dependencies.
	* nlmconv.c: Include bfd.h and libiberty.h with "", not <>.
	* nlmheader.y: Include bfd.h with "", not <>.

Wed Apr 13 10:52:50 1994  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* objdump.c: Do an ifdef on __GO32__, not unix.

Wed Apr  6 21:54:49 1994  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	Added -D (--dynamic) option to nm and -T (--dynamic-syms) and -R
	(--dynamic-reloc) arguments to objdump.
	* nm.c (dynamic): New static variable.
	(long_options): Added "dynamic".
	(usage): Mention -D and --dynamic.
	(main): Add D to getopt string.  Handle -D by setting dynamic.
	(display_rel_file): If dynamic is non-zero, read dynamic symbols
	rather than normal symbols.
	* nm.1: Updated for -D (--dynamic) option.
	* objdump.c (dump_dynamic_symtab): New global variable.
	(dump_dynamic_reloc_info): New global variable.
	(dynsyms, dynsymcount): New global variables.
	(usage): Mention -R, -T, --dynamic-syms and --dynamic-reloc.
	(long_options): Added "dynamic-reloc" and "dynamic-syms".
	(slurp_symtab): If no symbols, return rather than exit.
	(slurp_dynamic_symtab): New function.
	(display_bfd): Handle dump_dynamic_symtab and
	dump_dynamic_reloc_info.
	(dump_symbols): Take new dynamic argument, indicating whether to
	display dynamic symbols.
	(dump_relocs): Move most printing into dump_reloc_set.
	(dump_dynamic_relocs): New function.
	(dump_reloc_set): New function, extracted from dump_relocs.
	(main): Add R and T to getopt string.  Handle -T by setting
	dump_dynamic_symtab and -R by setting dump_dynamic_reloc_info.
	* objdump.1: Updated for -R (--dynamic-reloc) and -T
	(--dynamic-syms) options.
	* binutils.texi: Updated for new nm and objdump options.

Wed Mar 30 15:52:40 1994  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	Update for recent BFD changes to symbol and reloc reading.  Rename
	all uses of get_symtab_upper_bound to bfd_get_symtab_upper_bound.
	Also:
	* coffgrok.c (symcount): Change to long.
	(do_sections_p1): Check for error return from
	bfd_get_reloc_upper_bound.  Change relcount to long, and check for
	error from bfd_canonicalize_reloc.
	(coff_grok): Change storage to long.  Check for error from
	bfd_get_symtab_upper_bound and bfd_canonicalize_symtab.
	* nlmconv.c (main): Change symcount, newsymalloc, newsymcount, and
	i to long.  Check for error from bfd_get_symtab_upper_bound and
	bfd_canonicalize_symtab.
	(copy_sections): Change reloc_size and reloc_count to long.  Check
	for error from bfd_get_reloc_upper_bound and
	bfd_canonicalize_reloc.
	(mangle_relocs, i386_mangle_relocs, alpha_mangle_relocs): Change
	reloc_count_ptr argument to long *.  Make corresponding changes to
	variables loaded from *reloc_count_ptr.
	* nm.c (display_rel_file): Change storage and symcount to long.
	Check for errors from bfd_get_symtab_upper_bound and
	bfd_canonicalize_symtab.
	* objcopy.c (filter_symbols): Change symcount, src_count and
	dst_count to long.
	(copy_object): Change symcount to long.  Pass another argument to
	fprintf.  Check for errors from bfd_get_symtab_upper_bound and
	bfd_canonicalize_symtab.
	(copy_section): Change relcount to long.  Check for errors from
	bfd_get_reloc_upper_bound and bfd_canonicalize_reloc.
	(mark_symbols_used_in_relocations): Change relcount and i to long.
	Check for errors form bfd_get_reloc_upper_bound and
	bfd_canonicalize_reloc.
	* objdump.c (storage): Remove global variable.
	(symcount): Changed to long.
	(slurp_symtab): New local variable storage.  Check for errors from
	bfd_get_symtab_upper_bound and bfd_canonicalize_symtab.
	(remove_useless_symbols): Change return value and count to long.
	(objdump_print_address): Change min, max, thisplace and i to long.
	(disassemble_data): Change i to long.
	(dump_symbols): Change count to long.
	(dump_relocs): Change relcount to long.  Check for errors from
	bfd_ret_reloc_upper_bound and bfd_canonicalize_reloc.
	(display_info_table): Add casts when passing LONGEST_ARCH for
	printf %* argument.

Tue Mar 29 14:59:04 1994  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* nm.c (display_archive): Close each archive element after it has
	been displayed.
	* objdump.c (display_file): Likewise.

Mon Mar 28 13:04:08 1994  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* configure.in: Change error message to refer to bfd/config.bfd
	rather than bfd/configure.in.

Sun Mar 27 16:23:39 1994  Jeffrey A. Law  (law@@snake.cs.utah.edu)

	* More fixes for object formats which allow multiple sections
	with the same name:
	* objcopy.c (setup_section): Make a new output section even if
	one already exists with the given name.
	(copy_section): Use isection->output_section rather than trying
	to look the output section up by its (possibly non-unique) name.

	* Makefile.in (install-info): Look for binutils.info in the
	current directory, then in $(srcdir).  Don't use $<.

Mon Mar 21 12:55:45 1994  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* objdump.c (objdump_print_address): Make static.  Declare with
	prototype.  Change vardiff from int to bfd_signed_vma.  Correct
	binary search termination condition.  When looking for same
	section symbol in relocatable file, handle final symbol correctly.

Sun Mar 20 11:26:36 1994  Jeffrey A. Law  (law@@snake.cs.utah.edu)

	* Makefile.in: Avoid bug in hpux sed.

	* objcopy.c: Changes to keep it from stripping symbols used
	in output relocations.
	(mark_symbols_used_in_relocations): New function.  Mark symbols
	used in output relocations with BSF_KEEP.
	(filter_symbols): Do not strip symbols marked with BSF_KEEP.
	(copy_object): Reorder actions.  First setup sections, then
	build the output symbol table, then copy the section contents.

Fri Mar 18 10:53:55 1994  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* ar.c (write_archive): Allocate space for the null byte.  From
	Robert Lipe <robertl@@arnet.com>.

Thu Mar 17 16:20:28 1994  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* Makefile.in: Built nm.new and strip.new to avoid problems with
	collect when . is in PATH.
	(STRIP_PROG): Change from strip to strip.new.
	(NM_PROG): Change from nm to nm.new.
	(install): Remove the .new when installing.

Wed Mar 16 16:27:05 1994  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* nlmconv.c (powerpc_build_stubs): Set BSF_DYNAMIC flag for each
	symbol for which we build a stub.
	(powerpc_mangle_relocs): Only reset TOC pointer for a call to a
	symbol with BSF_DYNAMIC flag set.

Tue Mar 15 23:04:13 1994  Jeffrey A. Law  (law@@snake.cs.utah.edu)

	* objcopy.c (filter_symbols): Use bfd_is_local_label to determine
	if a symbol represents a compiler-generated local label.
	(copy_object): Give the BFD backends a chance to copy any private
	bfd data from the input BFD to the output BFD.
	(setup_section): Give the BFD backends a chance to copy any private
	section data from the input section to the output section.

Mon Mar 14 11:15:58 1994  Jeffrey A. Law  (law@@snake.cs.utah.edu)

	* objcopy.c (mangle_section): Delete unused function.
	(setup_section): Set osection here instead of calling
	mangle section to do it.

Mon Mar 14 12:11:01 1994  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* ar.c (write_archive): Close inarch before unlinking it.

Fri Mar 11 22:20:48 1994  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* nlmconv.c (main): For PowerPC, call powerpc_build_stubs and
	powerpc_resolve_stubs.  Use __GOT0, not __toc_start.  Handle it if
	the start and end symbols are not in the text section.
	(struct powerpc_stub): New struct definition.
	(powerpc_stubs, powerpc_stub_insns): New static variables.
	(powerpc_initial_got_size): New static variable.
	(powerpc_build_stubs): New function.
	(powerpc_resolve_stubs): New function.
	(powerpc_mangle_relocs): Clear extraneous data in .got section.
	Rearrange reloc handling to handle ELF relocs that are not
	partial_inplace.  Resolve PC relative relocs.

Wed Mar  9 13:48:11 1994  Steve Chamberlain  (sac@@jonny.cygnus.com)

	* ar.c (move_members): Fix it so that the abi positional modifiers
	don't delete all archive members following the insert point.

Tue Mar  8 13:14:43 1994  Steve Chamberlain  (sac@@jonny.cygnus.com)

	* coffgrok.[ch]: New files, understand coff objects.
	* coffdump.c: Uses coffgrok to dump out the debug info of a coff
	file.
	* sysroff.info: Description of a SYSROFF object file.
	* sysinfo.y, syslex.l: Parse info file, generate a reader, writer,
	header files and a printer.
	* srconv.c: Uses coffgrok.c and sysroff.info to convert a coff
	file to a SYSROFF file.

Sat Feb 26 13:35:26 1994  Stan Shebs  (shebs@@andros.cygnus.com)

	* ar.c (do_quick_append): Pad with a genuine character 10,
	rather than whatever '\n' might happen to be.

Tue Feb 22 18:25:52 1994  Ian Lance Taylor  (ian@@cygnus.com)

	* nlmconv.c (main): Ignore debugging symbols when looking for
	special symbols by name.

Sun Feb 20 18:47:42 1994  Ian Lance Taylor  (ian@@lisa.cygnus.com)

	* nlmconv.c: Include libiberty.h.

	Support for PowerPC NetWare.
	* nlmconv.c (main): For PowerPC NetWare, automatically define the
	special symbols __toc_start.
	(select_output_format): Handle bfd_arch_powerpc.
	(mangle_relocs): Likewise.
	(powerpc_mangle_relocs): New function.

Thu Feb 17 09:28:23 1994  David J. Mackenzie  (djm@@thepub.cygnus.com)

	* ar.c, bucomm.c, nlmconv.c, nm.c, objcopy.c, objdump.c,
	size.c: Use bfd_get_error and bfd_set_error and new error names.

Fri Feb 11 15:54:51 1994  David J. Mackenzie  (djm@@thepub.cygnus.com)

	* objcopy.c (strip_main, copy_main): Add missing 'break' in switch.

Mon Feb  7 19:45:52 1994  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* objdump.c (disassemble_data): Handle bfd_arch_powerpc.

Sun Feb  6 22:08:20 1994  David J. Mackenzie  (djm@@thepub.cygnus.com)

	* strings.c objdump.c nlmconv.c objcopy.c nm.c ar.c size.c (main):
	Call xmalloc_set_program_name.

Fri Feb  4 10:46:01 1994  David J. Mackenzie  (djm@@thepub.cygnus.com)

	* objcopy.c (filter_bytes): Make MEMHUNK a char *, not PTR, so we
	can do arithmetic on it.

Thu Feb  3 14:06:41 1994  David J. Mackenzie  (djm@@thepub.cygnus.com)

	* objdump.c (dump_section_stabs, read_section_stabs,
	print_section_stabs): Functions broken out of dump_stabs_1.
	Free the stabs and strings when done with them.

Wed Feb  2 13:42:23 1994  David J. Mackenzie  (djm@@thepub.cygnus.com)

	* nlmconv.c (main): Use bfd_get_flavour instead of struct member.
	* ar.c (print_contents, extract_file), size.c
	(print_berkeley_format, print_sysv_format): Use bfd_get_filename and
	bfd_my_archive instead of dereferencing the structs directly.

	* ar.c: Use bfd_fatal and bfd_nonfatal instead of bfd_perror and exit.
	Indent.  Remove DEFUNs.

	* nlmconv.c (main), objcopy.c (copy_file): Print matching formats
	if ambiguous match.
	* nm.c (display_file, display_archive), size.c (display_bfd):
	Eliminate gotos.
	Print matching formats if there is an ambiguous match.  Use
	bfd_nonfatal instead of hardcoded error message if nothing matches.

	* arsup.c, ar.c, objdump.c: Use bfd_get_filename instead of
	abfd->filename.

	* nm.c (display_archive): New function, from code in display_file.
	(display_rel_file): Renamed from do_one_rel_file.

	* size.c: Indent.
	(display_archive): New function from code in display_file.
	(display_file): Check bfd_close error return.

	* strings.c (strings_object_file): Check bfd_check_format
	error return.

	* strings.c, objdump.c, size.c: Use bfd_nonfatal instead of bfd_perror.

	* bucomm.c: Delete references to exit_handler.  It wasn't set
	anywhere, and now that we're using the libiberty xmalloc, it
	wouldn't always get called before exiting.
	(list_matching_formats): Function moved from objdump.c.
	* bucomm.h: Declare it.

	* objdump.c (disassemble_data): Move some variable decls closer to
	their use.  Add some comments.  Replace a nested block with a
	return.

Mon Jan 31 18:50:41 1994  Stan Shebs  (shebs@@andros.cygnus.com)

	* objdump.c (display_target_list, display_info_table): Check that
	the bfd of the dummy output file is not null.

Wed Jan 26 13:13:18 1994  David J. Mackenzie  (djm@@thepub.cygnus.com)

	* objcopy.c (filter_bytes): New function.
	(copy_section): Call it.
	(copy_options, copy_usage, copy_main): Add --byte option to
	activate it.  Appropriate the -b option (which was an undocumented
	synonym for -F) for it, also.  Add --interleave, -i option for
	additional control.
	(setup_section, copy_section, mangle_section): Renamed with no `s'
	on the end.
	* objcopy.1, binutils.texi: Document the new options.

	* objdump.c (display_target_tables, display_target_list):
	New functions broken out of display_info.
	Eliminate some magic constants.  Use more meaningful variable names.
	(dump_bfd_header): New function broken out of display_bfd.
	(dump_section_header): New function broken out of dump_headers.
	(remove_useless_symbols): Don't shadow global variable name with
	parameter.
	(objdump_print_address): Fix backward test.

Tue Jan 25 19:40:54 1994  Stan Shebs  (shebs@@andros.cygnus.com)

	* bucomm.c (print_arelt_descr): Change decl of `when' to time_t.
	* objdump.h: Removed.

Mon Jan 24 13:29:02 1994  David J. Mackenzie  (djm@@thepub.cygnus.com)

	* objdump.c (display_file): Remove call to list_matching_formats.
	It would never be called.
	(list_matching_formats): Take an arg giving the list of matching
	formats.
	(display_bfd): Pass the arg, and get it filled in by calling
	bfd_check_format_matches instead of bfd_check_format.
	(display_info, display_info_table): target_vector was renamed to
	bfd_target_vector.

	* binutils.texi (objdump): Note some limitations of -h section
	address printing.

Sat Jan 22 16:20:46 1994  Stan Shebs  (shebs@@andros.cygnus.com)

	* Makefile.in (MALLOC): Set to emptiness by default.
	(ALL_CFLAGS): Add and use.
	(arparse.h): Make it depend on arparse.y.
	* ar.c (libbfd.h): Don't require to be in ../bfd.
	* objdump.c (comp): Rename to compare_symbols.

Fri Jan 21 20:22:30 1994  David J. Mackenzie  (djm@@thepub.cygnus.com)

	* objdump.c (list_matching_formats): If the file format is ambiguous,
	print the matching names so the user can choose one.
	(display_bfd): Call it.
	(display_file): Call it.

Fri Jan 21 19:17:25 1994  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* objdump.c (disassemble_data): Support bfd_arch_rs6000.

Mon Jan 17 13:57:25 1994  Stan Shebs  (shebs@@andros.cygnus.com)

	* objdump.c (stab_name): Allocate dynamically.
	(stab_print): Use pointers to strings instead of char arrays.
	(dump_stabs): Change alloc and init of arrays appropriately.
	(dump_stabs_1): Always decide whether to print stab_name or
	the stab's type number, if unnamed.

Fri Jan 14 14:42:48 1994  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* objcopy.c (strip_main, copy_main): Don't clobber the input file
	if copy_file fails.

	* nlmconv.c (main): Warn about an attempt to use a shared library
	with uninitialized data.

	* nlmconv.c (setup_sections): Make sure that we align the
	output_offset of each input section appropriately.

Thu Jan 13 17:32:44 1994  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* objdump.c (dump_relocs): Don't crash if section name is NULL.

Tue Jan 11 19:46:33 1994  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* filemode.c (filemodestring): Commented out; not used.
	(mode_string): Use POSIX definitions.
	(ftypelet): Likewise.
	(rwx): Removed; no longer used.
	* bucomm.c: Include bucomm.h.
	(bfd_nonfatal, bfd_fatal): Argument is const.
	(fatal): Make __STDC__ version.
	* bucomm.h (mode_string): Declare.
	* Makefile.in (bucomm.o): Depend upon bucomm.h

Sun Jan  9 12:03:20 1994  Ken Raeburn  (raeburn@@rtl.cygnus.com)

	* bucomm.c (xmalloc, xrealloc): Deleted.
	* bucomm.h (xmalloc, xrealloc): Fix prototypes, to correspond to
	libiberty version of functions.

Thu Jan  6 06:18:15 1994  David J. Mackenzie  (djm@@thepub.cygnus.com)

	* binutils.texi: Add a chapter summarizing the ways to select
	aspects of the target for each program.

	* objdump.c (long_options, usage): Add long equivalents for all
	remaining short options that lacked them.
	* binutils.texi objdump.1: Document them.

	* size.c (usage): Tweak usage message.
	* size.1: Add missing `=' in examples.

	* binutils.texi strip.1 objcopy.1 nlmconv.1 objcopy.c nlmconv.c:
	Use "--target=bfdname" as the option to select the BFD target,
	like nm and size already do.
	Reserve "--format=format" for textual output selection options, but
	for now keep old option names as obsolete for backward compatibility.

	* strings.c (main, strings_object_file, usage): Add --target option.
	* binutils.texi strings.1: Document it.

Sat Jan  1 13:58:24 1994  David J. Mackenzie  (djm@@thepub.cygnus.com)

	* ar.c (main): Add \n in error message.

Thu Dec 23 12:23:11 1993  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	gcc -Wall lint:
	* ar.c (main): Put parens around assignment used as truth value.
	* objcopy.c (strip_main): Remove unused variables.  Return 0.
	(copy_main): Remove unused variables.  Return 0.
	* objdump.c (display_bfd): Declare return value as void.
	(stab_print): Use "" instead of 0 to initialize array.
	(dump_stabs_1): Print vma using printf_vma.
	(display_info): Put parens around assignment used as truth value.
	* strings.c (print_strings): Cast printf arguments.

	* objcopy.c (copy_main): Use copy_options, not strip_options.

	* nlmheader.y (command): Warn about illegal date values.

Wed Dec 15 11:18:03 1993  David J. MacKenzie  (djm@@frosty.eng.umd.edu)

	* bucomm.c bucomm.h: Run through indent.  De-ansidecl-ify.
	(bfd_nonfatal): New function.
	(bfd_fatal): Call it.

	* objcopy.c (smart_rename): Do a copy if the dest file has
	multiple hard links.  Remove source file on successful copy.
	Try to preserve mode and owner on successful rename.

	* objcopy.c: Run through indent.  Clean up a bit.
	Make global variables static.
	Make {input,output}_{target,filename}, show_version local
	to various functions.
	New global variable `status' for exit status.
	(strip_main, copy_main): New functions with code from main.
	(nonfatal): New macro.  Use it globally instead of bfd_perror and
	bfd_fatal.

	(copy_object): Call mangle_sections with bfd_map_over_sections.
	(mangle_sections): Adjust for new calling convention.

Fri Dec 10 11:28:11 1993  Ian Lance Taylor  (ian@@deneb.cygnus.com)

	* nlmheader.y (command): Accept MAP and FULLMAP without arguments.
	* nlmconv.c (main): Change error message for MAP and FULLMAP.

Thu Dec  9 17:47:19 1993  Ian Lance Taylor  (ian@@deneb.cygnus.com)

	* nlmconv.c (main): Warn about imported symbols that are not in
	the IMPORT list even if the IMPORT keyword is not used.

	* nlmconv.c (debug, unlink_on_exit): New static variables.
	(long_options): Add "debug" and "linker".
	(main): Handle -d and -l arguments.  Make command line input and
	output files optional.  Parse the command file before opening the
	BFD's, which requires storing more information in local variables.
	If INPUT names multiple files, link them together.  Use OUTPUT for
	the output file name if not named on command line.
	(show_usage): Changed for new options.
	(link_inputs): New function to automatically invoke linker to
	handle multiple INPUT files.
	(choose_temp_base_try, choose_temp_base, pexecute): New functions,
	mostly copied from gcc/gcc.c.
	* nlmconv.h (input_files, output_file): Declare.
	* nlmheader.y (input_files, output_file): Define.
	(command): Support INPUT with a string_list argument.  Support
	OUTPUT.
	(string_list): Renamed from module_list.
	* Makefile.in (nlmconv.o): Define LD_NAME based on
	program_transform_name.

Wed Dec  8 10:09:04 1993  Ian Lance Taylor  (ian@@deneb.cygnus.com)

	* nlmheader.y (nlmheader_identify): New function.  Use it to print
	the program name just once, instead of with every error message.

Mon Dec  6 16:11:32 1993  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* nlmconv.c (long_options): Changed --header-info to --header-file
	to match documentation and usage message.

Sun Dec  5 01:31:01 1993  Jeffrey A. Law  (law@@snake.cs.utah.edu)

	* objdump.c (dump_relocs): Avoid dereferencing a NULL sym_ptr_ptr
	in a relocation.

Thu Dec  2 16:00:06 1993  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* nlmconv.c (main): Change various types from bfd_size_type to
	size_t, since they have to be arguments to fread and fwrite.
	Change set from char * to unsigned char *.
	(select_output_format): Make mach argument unsigned.  Handle
	bfd_arch_alpha.
	(setup_sections): Don't copy the .reginfo section of an ECOFF
	file.  Call bfd_set_reloc to initialize the relocation fields.
	(copy_sections): Don't copy the .reginfo section of an ECOFF file.
	Combine all relocs for a section.
	(mangle_relocs): Change type of relocs to permit specific
	functions to change it.  Call alpha_mangle_relocs for alpha,
	default_mangle_relocs for other architectures.
	(default_mangle_relocs): New function.  Adjust the address of all
	relocs by the output_offset.
	(i386_mangle_relocs): Change type of relocs argument.  Cast length
	argument to memmove to size_t.
	(alpha_mangle_relocs): New function.

Wed Nov 17 17:38:58 1993  Sean Eric Fagan  (sef@@cygnus.com)

	* nlmconv.c (select_output_format): Use nlm32-sparc for
	bfd_arch_sparc.

Wed Nov 17 14:41:35 1993  Jeffrey Osier  (jeffrey@@thepub.cygnus.com)

        * nlmconv.1:   added man page
	* objcopy.1:   fixed format errors

Wed Nov 17 12:03:41 1993  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* Makefile.in: Use CFLAGS as well as LDFLAGS when linking.

Wed Nov 17 04:50:55 1993  David J. Mackenzie  (djm@@thepub.cygnus.com)

	* strings.1: Fix typo.

Mon Nov 15 12:03:20 1993  Ken Raeburn  (raeburn@@rtl.cygnus.com)

	* Makefile.in (DISTSTUFF): Build "info".
	(VERSION): Updated to cygnus-2.3.1; 2.3 has gone out.

Sun Nov 14 00:27:24 1993  Jeffrey A. Law  (law@@snake.cs.utah.edu)

	* objdump.c (dump_stabs): Handle stabs-in-som as implemented
	by the new BFD SOM assembler.

Sat Nov 13 07:14:05 1993  David J. Mackenzie  (djm@@rtl.cygnus.com)

	* ar.1 c++filt.1 nm.1 objcopy.1 objdump.1 ranlib.1 size.1
	strings.1 strip.1: Replace \(em in NAME section with \- so
	makewhatis can grok it.

Tue Nov  9 15:22:12 1993  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* nlmconv.c (i386_mangle_relocs): Adjust reloc address by
	section output_offset.

Fri Nov  5 12:11:52 1993  Jeffrey Osier  (jeffrey@@thepub.cygnus.com)

	* binutils.texi:  added nlmconv chapter

Wed Nov  3 16:10:50 1993  Jeffrey Wheat  (cassidy@@cygnus.com)

	* Makefile.in: Change RUNTESTFLAGS to RUNTEST_FLAGS

Wed Nov  3 15:09:23 1993  Ken Raeburn  (raeburn@@rover.cygnus.com)

	* Makefile.in (distclean): Don't get rid of dvi or info files.

Tue Nov  2 13:29:59 1993  David J. Mackenzie  (djm@@rtl.cygnus.com)

	* objcopy.c (S_ISLNK): Define as 0 if there's no S_IFLNK.

Fri Oct 29 16:02:34 1993  David J. Mackenzie  (djm@@thepub.cygnus.com)

	* binutils.texi: Move objcopy docs into alphabetical order.

	* objdump.c: Use xmalloc instead of malloc.

Fri Oct 29 11:11:14 1993  Stan Shebs  (shebs@@rtl.cygnus.com)

	* objdump.c (info): Rename to formats_info.
	(dump_stabs_1): Better comments and formatting.

Thu Oct 28 19:43:16 1993  Stan Shebs  (shebs@@rtl.cygnus.com)

	* ar.c (main): Always create the archive when quick appending,
	even if no input files have been given.

Wed Oct 27 12:03:06 1993  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* nlmconv.c (main): Set sharedDebugRecordOffset and
	sharedDebugRecordCount fields in extended header.

	* nlmconv.c (main): Force moduleName field to upper case.

Mon Oct 25 16:45:42 1993  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* objcopy.c (main): Give a usage message if there are too many
	arguments.

Mon Oct 25 10:37:08 1993  Ken Raeburn  (raeburn@@rover.cygnus.com)

	* Makefile.in (install-info): Rewrite to take advantage of VPATH,
	so FSF distributions (with info files in $(srcdir)) install
	properly.
	(DISTSTUFF): Build nlmheader.c too.

Fri Oct 22 11:43:23 1993  Ken Raeburn  (raeburn@@rover.cygnus.com)

	* ar.c (program_name): Don't define here.
	* objdump.c: Include "bucomm.h".
	(xmalloc): Don't declare here.
	(program_name): Don't define here.
	(program_version): Fixed type in declaration.
	* size.c: Include "bucomm.h".
	(program_name): Don't declare here.

Fri Oct 22 14:10:41 1993  Mark Eichin  (eichin@@cygnus.com)

	* objdump.c (fprintf): hide declaration in FPRINTF_ALREADY_DECLARED

Fri Oct  1 12:43:00 1993  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* nlmconv.c (i386_mangle_relocs): Resolve and remove PC relative
	relocs against defined symbols in the same section.

Thu Sep 30 16:46:26 1993  Roland H. Pesch  (pesch@@fowanton.cygnus.com)

	* Makefile.in (binutils.dvi): use TEXIDIR to find texinfo.tex

Sat Sep 25 18:09:29 1993  David J. Mackenzie  (djm@@thepub.cygnus.com)

	* objcopy.c (simple_copy, smart_rename): New functions.
	(main): Use them.

Fri Sep 24 15:38:29 1993  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* Makefile.in (clean, distclean): Recurse into testsuite.

Thu Sep 23 01:05:06 1993  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* objcopy.c (setup_sections, copy_sections): If stripping, don't
	copy SEC_DEBUGGING sections.
	* objdump.c (dump_headers): Print SEC_DEBUGGING flag.

	* objdump.c (usage): Mention --stabs.

	* objcopy.c (copy_object): Copy all applicable file flags.
	(copy_file): Don't copy EXEC_P specially here.

Mon Sep 20 19:28:57 1993  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* nlmconv.c (main): Adjust data section size to correspond to bss
	alignment adjustment.  Clear BSF_SECTION_SYM if symbol is moved to
	a different section.  Use time_t for time variable.
	(setup_sections): Only put sections with contents in output NLM.
	(i386_mangle_relocs): No symbols are common at this point.  Add
	casts to avoid warnings.

Fri Sep 10 11:00:40 1993  Stan Shebs  (shebs@@rtl.cygnus.com)

	* objdump.c: Made the --stabs option work for stabs-in-coff.
	(ELF_STAB_DISPLAY): Removed.
	(dump_elf_stabs): Renamed to dump_stabs, changed to run for
	any object file format.
	(dump_elf_stabs_1): Renamed to dump_stabs_1, added calls to
	generic BFD routines for non-ELF case, changed format of message
	for no-section-found case.
	(display_bfd): Always call dump_stabs if requested.
	(dump_data): Call bfd_section_size to get section size.

Fri Sep 10 08:12:23 1993  David J. Mackenzie  (djm@@thepub.cygnus.com)

	* Makefile.in (install): Don't put strings in tooldir/bin.

Mon Sep  6 15:39:04 1993  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* nlmconv.c (total_bss_size): Removed.
	(main): Set the bss vma to always follow the data section.  Move
	symbols into new sections, and adjust values by output_offset.
	(setup_sections): Don't copy all sections, but instead point all
	text sections to .text, all data sections to .data, and all bss
	sections to .bss.
	(copy_sections): Adjust accordingly.

Thu Sep  2 12:34:03 1993  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	Only build nlmconv if configured for a NetWare target.
	* configure.in: If we have some *-*-netware* target, or are using
	all targets, set BUILD_NLMCONV to $(NLMCONV_PROG) in Makefile.
	* Makefile.in (PROGS): Use $(BUILD_NLMCONV) rather than
	$(NLMCONV_PROG).

Tue Aug 31 14:13:35 1993  Ken Raeburn  (raeburn@@cambridge.cygnus.com)

	* objdump.c (ARCH_all): Define ARCH_hppa too.
	(dump_headers): Don't test for SEC_BALIGN if it's not defined by
	bfd.h.

Tue Aug 31 13:29:12 1993  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* nlmconv.c (main): Force creation of .bss section.  Set up the
	sections before looking at the symbols.  Move all common symbols
	into .bss section.  Automatically define _edata and _end.  Only
	export symbols in the export list, with multiple prefixes if
	necessary.  Warn if no version.  Always create extended header.
	Set date automatically if not already set.
	(setup_sections): Count size of bss sections.
	(mangle_relocs, i386_mangle_relocs): Accept section argument, and
	take reloc_count as a changeable pointer; changed callers.
	(i386_mangle_relocs): Remove PC relative relocs within a section,
	as they require no adjustment.
	* nlmheader.y: Fixed memory allocation throughout: token STRING is
	now allocated on the heap, and freed if not needed.  Null
	terminated copyright message.  Accept version with only two
	strings.
	(symbol_list_opt): New nonterminal, either symbol_list or empty.
	(symbol_list): Use left recursion to avoid overflowing parser
	stack.
	(yylex): Rearranged beginning of line check.  Accept quoted
	strings using single quotes.  End generic argument at comment
	character or parentheses.
	(string_list_append): Fixed.
	(string_list_append1): New function.

	* bucomm.h: The first argument to xrealloc is PTR, not char *.
	* bucomm.c (xrealloc): Use PTR rather than char *.
	* Makefile.in (objdump.o): Depend upon config.status to notice
	--with-targets changes.
	(nlmconv.o): Depend upon bucomm.h.

Tue Aug 17 09:46:01 1993  David J. Mackenzie  (djm@@thepub.cygnus.com)

	* configure.in: Don't pass cpu to config.bfd.

Thu Aug 12 16:43:04 1993  David J. Mackenzie  (djm@@thepub.cygnus.com)

	* Makefile.in ($(NM_PROG)): Depend on demangle.o.
	(demangle.o): New target.
	(cplus-dem.o): Depend on it, to force compilation order when doing
	parallel compiles.

	* nm.c (print_symbol_info_{bsd,sysv,posix}): Take a bfd arg.
	(struct output_fns print_symbol_info): Ditto.
	(long_options, usage, main): Add -C --demangle option.
	(print_symname): New function, demangling if requested.
	(print_symbols, print_symbol_info_{bsd,sysv,posix}): Use it.

Wed Aug 11 22:57:23 1993  David J. Mackenzie  (djm@@thepub.cygnus.com)

	* Makefile.in: Put CFLAGS last in compilation rules and omit from
	linking rules.  Use ARCHDEFS to compile objdump.c.
	Update dependencies.
	* configure.in: Construct ARCHDEFS based on the BFD target makefile
	fragments.
	* objdump.c: Conditionalize calls to the print_insn_ARCH functions
	according to ARCHDEFS.

Thu Aug 12 08:06:15 1993  Ian Lance Taylor  (ian@@cygnus.com)

	* ar.c: Removed obsolete and non-functional GNU960 code.

Wed Aug 11 13:08:26 1993  Ian Lance Taylor  (ian@@cygnus.com)

	* size.c (berkeley_sum): New function.
	(bsssize, datasize, textsize): New global variables.
	(bss_section_name, data_section_name, text_section_name): Removed.
	(print_berkeley_format): Map berkeley_sum over all the sections,
	rather than only reporting sizes of specifically named sections.
	* Makefile.in ($(OBJDUMP_PROG)): Removed dependency on size.o.

Tue Aug 10 10:46:01 1993  Ian Lance Taylor  (ian@@cygnus.com)

	* nlmconv.c, nlmconv.h, nlmheader.y: New files for program to
	convert object files into NetWare Loadable Modules.
	* Makefile.in (NLMCONV_PROG): New macro, define to be nlmconv.
	(PROGS): Add NLMCONV_PROG.
	(nlmheader.c, nlmheader.o, nlmconv.o, $(NLMCONV_PROG)): New
	targets.

Thu Aug  5 15:48:32 1993  david d `zoo' zuhn  (zoo@@rtl.cygnus.com)

	* Makefile.in: define MAKEOVERRIDES to an empty string

Wed Aug  4 17:08:08 1993  David J. Mackenzie  (djm@@thepub.cygnus.com)

	* objcopy.c (copy_file): Make failures to process a file nonfatal.

Mon Aug  2 11:28:23 1993  David J. Mackenzie  (djm@@thepub.cygnus.com)

	* nm.c: Add -B option, like --format=bsd.

Tue Jul 27 16:29:54 1993  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* objcopy.c (copy_file): If the file is neither an object nor an
	archive, give an error rather than returning success.

Mon Jul 19 16:13:40 1993  Ken Raeburn  (raeburn@@rtl.cygnus.com)

	* objdump.c (objdump_print_address): Prefer non-local symbols over
	local ones, and especially discriminate against debugging symbols.
	Also, for relocateable files, try to find a symbol in the current
	section, instead of picking one from some random section with a
	convenient value (read, section offset).
	(disassemble_data): Cast argument to malloc to size_t first.
	(dump_data): Likewise.
	(dump_relocs): If a single section name is specified, show relocs
	only for that section.  Otherwise, silently omit sections without
	relocs.  Format table nicely even if values are printed using 16
	digits instead of 8.

Fri Jul 16 15:19:59 1993  David J. Mackenzie  (djm@@thepub.cygnus.com)

	* nm.c: Changes for final version of POSIX.2.
	(print_symbol_filename_{bsd,sysv,posix}): New functions.
	(formats): Add an element for a pointer to them.
	(print_symbols): Call it.
	(print_object_filename_posix, print_archive_member_posix): Produce
	output according to new POSIX.2 spec.

	* strings.c (print_strings): Handle STREAM being NULL.
	(strings_a_section): Pass a NULL.
	(main): Don't open /dev/null.

Thu Jul 15 12:44:09 1993  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* objdump.c (disassemble_data): Handle the m88k.
	(display_bfd): Use bfd_errmsg, rather than just claiming that the
	bfd is not an object file.

Mon Jul 12 17:55:34 1993  K. Richard Pixley  (rich@@cygnus.com)

	* Makefile.in (TAGS): make work again by naming directories
	  explicitly rather than depending on undefined macros.
	  (INSTALL_XFORM): correct bad install target.

Fri Jul  2 16:58:34 1993  David J. Mackenzie  (djm@@thepub.cygnus.com)

	* strings.c: Doc fixes.

Sun Jun 27 13:35:24 1993  David J. Mackenzie  (djm@@thepub.cygnus.com)

	* Makefile.in: Note dependencies on bucomm.h.
	(cplus-dem.o): Link c++filt with version.o.

	* strings.c: Include bucomm.h and add prototypes to other decls.
	Remove -h option.

	* bucomm.h: Declare xrealloc.

	* nm.c, objcopy.c, objdump.c, size.c, strings.c (main, usage): Add
	--help option.  Put "GNU" in the version message.
	(usage): Take stream and exit status as args.
	(main): Pass new args to usage.

Fri Jun 25 23:12:12 1993  David J. Mackenzie  (djm@@thepub.cygnus.com)

	* strings.c, strings.1: New files.
	* binutils.texi: Document strings.
	* Makefile.in: Add rules for it.

Fri Jun 25 20:44:43 1993  Ken Raeburn  (raeburn@@poseidon.cygnus.com)

	* objdump.c: Use size-independent bfd elf section names.

Sun Jun 20 23:09:06 1993  Ken Raeburn  (raeburn@@poseidon.cygnus.com)

	* objdump.c (objdump_print_address): Handle wide offsets by
	calling sprintf_vma.

Fri Jun 18 14:29:12 1993  Per Bothner  (bothner@@deneb.cygnus.com)

	* objdump.c (syms2):  Removed unused variable.
	* objdump.c (remove_useless_symbols):  New function.
	* objdump.c (comp):  Simplify.
	* objdump.c (dis-assemble_data):  Make simpler and more
	efficient how we filter out useless symbols:  Just filter
	BEFORE the sort (using remove_useless_symbols).
	* objdump.c (objdump_print_address):  Simplify.
	Change output syntax to match gdb.

Thu Jun 17 16:53:56 1993  david d `zoo' zuhn (zoo@@cygnus.com)

	* Makefile.in: canonicalize install.sh; for use within
	this directory (and subdirs)

Mon Jun 14 12:13:22 1993  david d `zoo' zuhn  (zoo at rtl.cygnus.com)

	* Makefile.in (install, install-info): remove parentdir support,
	use INSTALL_XFORM; define INSTALL_XFORM

Thu Jun 10 17:29:21 1993  Per Bothner  (bothner@@cygnus.com)

	* objcopy.c (copy_object):  Fix bad size passed to xmalloc().

Mon Jun  7 12:41:12 1993  Per Bothner  (bothner@@rtl.cygnus.com)

	* Makefile.in (INCLUDES):  Add -I../bfd for sysdep.h and bfd.h.
	* configure.in:  No longer need to configure to get sysdep.h.
	* objcopy.c (copy_object):  Fix symbol table handling.

Fri Jun  4 17:20:03 1993  Per Bothner  (bothner@@cygnus.com)

	* objcopy.c (filter_symbols):  Cannot filter the symbols
	in place, because that confuses the relocs, so take separate
	parameter for output array.
	* objcopy.c (sympp):  Make two variables: isympp and osympp.
	* objcopy.c (copy_object):  Allocate separate array (osympp)
	for filtered symbols.

Fri Jun  4 10:51:44 1993  david d `zoo' zuhn  (zoo at cirdan.cygnus.com)

	* Makefile.in: change recursion test to presence of a configured
	testsuite directory

Thu Jun  3 14:05:57 1993  Ken Raeburn  (raeburn@@cambridge.cygnus.com)

	* Makefile.in (underscore.c): Hack the backquoted command so it
	doesn't cause Solaris make to bomb.

Thu Jun  3 10:40:19 1993  Jeffrey Osier  (jeffrey@@cygnus.com)

	* Makefile.in:  added c++filt and objcopy to MANPAGES variable

Thu Jun  3 00:32:52 1993  david d `zoo' zuhn  (zoo at cirdan.cygnus.com)

	* Makefile.in: rename LOADLIBES to EXTRALIBS

Wed Jun  2 18:30:24 1993  Jeffrey Osier  (jeffrey@@cygnus.com)

	* c++filt.1, objcopy.1:  new man pages

Fri May 28 15:01:24 1993  Per Bothner  (bothner@@rtl.cygnus.com)

	* Makefile.in (install):  Also install ar and ranlib in
	$(tooldir)/bin;  needed for building libgcc.a.
	* objdump.c (objdump_print_address):  Fix the check
	"coincidental" label matches by dis-allowing undefined
	or com symbols.

Thu May 27 16:58:31 1993  Jeffrey Osier  (jeffrey@@cygnus.com)

        * biutils.texi:  revised c++filt chapter

Wed May 26 17:24:17 1993  Ian Lance Taylor  (ian@@cygnus.com)

	* Makefile.in (FLAGS_TO_PASS): Pass down CC and CFLAGS.

Tue May 25 00:26:47 1993  Ken Raeburn  (raeburn@@cygnus.com)

	* objdump.c (slurp_symtab): Print warning for bad symbol table.
	(bfd_elf32_find_section, Elf32_Internal_Shdr): Updated
	declarations and uses.

	* Makefile.in (DISTSTUFF): Don't build binutils.mm.

Fri May 21 10:51:19 1993  David J. Mackenzie  (djm@@rtl.cygnus.com)

	* nm.c: Add -f/--format, -P/--portability, -t/--radix options.
	Make global variables static.
	(main): Make -v like -n, not -V, and make -A like -o, for POSIX.2.
	(set_print_radix, set_output_format,
	print_{object_filename,archive_filename,archive_member,symbol_info}
	{bsd,sysv,posix}): New functions.
	(display_file, print_symbols): Call them.

	* ar.c: Improve error messages.

	* nm.c (main): Handle long options that just set a flag.

	* nm.c (main), ar.c (do_show_version), objcopy.c (main), size.c
	(main): Exit after printing the version number, per the GNU coding
	standards.

Mon May 17 13:20:25 1993  Per Bothner  (bothner@@cygnus.com)

	* README, Makefile.in:  Minor updates for 2.2.

Fri May 14 11:12:26 1993  Per Bothner  (bothner@@cygnus.com)

	* Makefile.in (underscore.c):  Automatically generate
	(using nm) a file with the variable prepends_underscore.
	* Makefile.in (c++filt):  Link underscore.o with cplus-dem.o
	so that initial underscores get removed iff appropriate.
	* binutils.texi:  Preliminary documentation for c++filt.
	* Makefile.in, binutils.texi:  Set to version 2.2.

	* NEWS:  Mention copy->objcopy renaming and new c++filt program.

Wed May 12 12:05:36 1993  Ian Lance Taylor  (ian@@cygnus.com)

	* Makefile.in (cplus-dem.o, $(DEMANGLER_PROG)): Build the
	demangler via cplus-dem.o, rather than directly from the .c file.

	* objcopy.c: Renamed from copy.c, updated comments accordingly.
	* Makefile.in, binutils.texi: Renamed copy to objcopy.
	* is-strip.c, maybe-strip.c, not-strip.c: Updated comments for
	rename of copy to objcopy.

Mon May 10 17:20:18 1993  Per Bothner  (bothner@@cygnus.com)

	* binutils.texi (strip, -v option):  Fix typo.

Fri May  7 13:57:50 1993  Ian Lance Taylor  (ian@@cygnus.com)

	* Makefile.in (RUNTEST): Define.
	(FLAGS_TO_PASS): Pass down RUNTEST.

Tue May  4 10:06:50 1993  Ian Lance Taylor  (ian@@cygnus.com)

	* Makefile.in (DEMANGLER_PROG): Name it c++filt.
	(PROG): Also build and install COPY_PROG.

Mon May  3 19:11:48 1993  Per Bothner  (bothner@@cygnus.com)

	* Makefile.in:  Change definition of $(tooldir) to match FSF.

Wed Apr 28 23:41:32 1993  David J. Mackenzie  (djm@@rtl.cygnus.com)

	* size.c (usage): Add missing options.
	(main): Clean up option parser.

	* objdump.c (usage): Add missing options.
	(display_file): Print program name before calling
	bdf_perror.

	* nm.c (usage): Add missing options.
	(main): Clean up option parser.
	(display_file): Print program name before calling
	bdf_perror.

	* copy.c (copy_usage, strip_usage): Add missing options.

	* ar.c (usage): New function.
	(main): Call it.
	(open_inarch, do_quick_append): Print program name before calling
	bdf_perror.

Thu Apr 22 15:01:35 1993  Ian Lance Taylor  (ian@@cygnus.com)

	* nm.c (main): Accept and ignore -A and -B for MIPS compatibility.

Mon Apr 19 14:06:59 1993  Rob Savoye  (rob@@cygnus.com)

	* Makefile.in: Added FLAGS_TO_PASS so tests get run on freshly
	built binaries if they exist. (otherwise the path)

Wed Apr  7 22:22:50 1993  Rob Savoye  (rob@@cygnus.com)

	* Makefile.in: Changed check target to use DejaGnu.

Thu Apr  1 12:37:13 1993  Jim Kingdon  (kingdon@@cygnus.com)

	* Makefile.in: Remove am29k-pinsn.c, i960-pinsn.c.
	objdump.c: a29k and i960 are `disassemble' not `print'.

	* objdump.c: Rename print_address to objdump_print_address
	and change parameters.
	(disassemble_data): Use objdump_print_address.

Wed Mar 31 10:25:29 1993  Jim Kingdon  (kingdon@@lioth.cygnus.com)

	* objdump.c (disassemble_data): print_insn_sparc is now a
	`disassemble' not a `print'.
	Makefile.in: Remove sparc-pinsn.c (now in libopcodes.a).

	* objdump.c (disassemble_data): Use new read_memory_func stuff.

Thu Mar 25 10:38:11 1993  Ken Raeburn  (raeburn@@cambridge.cygnus.com)

	* objdump.c (fprintf): Declaration of variadic function had better
	be a prototype for ANSI C systems.

Mon Mar 22 23:19:46 1993  david d `zoo' zuhn  (zoo at cirdan.cygnus.com)

	* Makefile.in: rename test-install to install-check

Fri Mar 19 14:40:08 1993  Steve Chamberlain  (sac@@thepub.cygnus.com)

	* objdump.c (disassemble_data): Add H8500.

Fri Mar 19 10:56:51 1993  Jim Kingdon  (kingdon@@cygnus.com)

	* objdump.c (usage): Mention long options.

Thu Mar 18 14:22:17 1993  Per Bothner  (bothner@@rtl.cygnus.com)

	* nm.c:  Modify behavior of -o flag for archives to match
	BSD4.4 and Sunos 4:  Prefix archive name before each line.

	* m68k-pinsn.c:  Removed.  Subsumed by ../opcodes/m68k-dis.c.
	* i386-pinsn.c:  Removed.  Subsumed by ../opcodes/i386-dis.c.
	* Makefile.in:  Adjust accordingly.
	* objdump.c:  Support new-style disassemblers (ones that use
	the interface of ../include/dis-asm.h).

Thu Feb 25 15:57:00 1993  Per Bothner  (bothner@@rtl.cygnus.com)

	* Makefile.in:  When making tar file, remove texinfo/*,
	except for texinfo/texinfo.tex.
	* ardup.c:  Add extern declaration of strdup.
	* Makefile.in (testsuite):  Add 'else true' since otherwise
	Ultrix /bin/sh complains.

Wed Feb 24 19:44:18 1993  Per Bothner  (bothner@@rtl.cygnus.com)

	* Makefile.in:  Set VERSION to 2.1.
	* README, NEWS: Updates.
	* nm.c:  Add -v as a synonym for -V.

Tue Feb 23 19:00:50 1993  Mike Werner  (mtw@@poseidon.cygnus.com)

	* configure.in: added testsuite to configdirs.
	* Makefile.in: added support for building testsuite.

Mon Feb 22 22:52:10 1993  Per Bothner  (bothner@@rtl.cygnus.com)

	* objdump.c (disassemble_data):  Print function names when
	given by bfd_find_nearest_line.  If not - still print
	line numbers.

Mon Feb 22 07:54:03 1993  Mike Werner  (mtw@@poseidon.cygnus.com)

	* binutils/testsuite: made modifications to testcases, etc., to allow
        them to work properly  given the reorganization of deja-gnu and the
	relocation of the testcases from deja-gnu to a "tool" subdirectory.

Mon Feb 22 10:27:24 1993  Ken Raeburn  (raeburn@@cambridge.cygnus.com)

	* objdump.c (dump_data): Free up section contents each time
	through the loop.  Reported by minyard@@bnr.ca.

Sun Feb 21 10:55:55 1993  Mike Werner  (mtw@@poseidon.cygnus.com)

	* binutils/testsuite: Initial creation of binutils/testsuite.
	Migrated dejagnu testcases and support files for testing nm to
	binutils/testsuite from deja-gnu.  These files were moved "as is"
	with no modifications.	This migration is part of a major overhaul
	of dejagnu.  The modifications to these testcases, etc., which
	will allow them to work with the new version of dejagnu will be
	made in a future update.

Fri Feb 12 10:05:20 1993  Fred Fish  (fnf@@cygnus.com)

	* Makefile.in (LIBIBERTY_SRC_DIR, LIBIBERTY_BIN_DIR): New macros.
	* Makefile.in (LIBIBERTY):  Use LIBIBERTY_BIN_DIR.
	* Makefile.in (DEMANGLER_PROG):  New program to build.  Add macro
	and rule.
	* Makefile.in (PROGS):  Add DEMANGLER_PROG.

Tue Jan 26 11:56:33 1993  Ian Lance Taylor  (ian@@cygnus.com)

	* copy.c, nm.c, objdump.c, size.c: Use new bfd_is_com_section
	macro rather than checking for equality to bfd_com_section.

Fri Jan  8 15:50:05 1993  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* objdump.c (disassemble_data): Fix code to find first useless
	symbol.

Thu Jan  7 13:13:31 1993  Ian Lance Taylor  (ian@@tweedledumb.cygnus.com)

	* objdump.c (disassemble_data): Use mips_print_insn for MIPS.
	Don't core dump if bfd_find_nearest_line returns false.

Wed Jan  6 17:14:01 1993  Steve Chamberlain  (sac@@thepub.cygnus.com)

	* objdump.c (disassemble_data): know how to disassemble z8000s
	too.

Wed Jan  6 15:16:27 1993  Per Bothner  (bothner@@cygnus.com)

	* arsup.h (interactive), bucomm.h (program_name):  Prefix
	with 'extern', to avoid warnings from some compilers.

Wed Jan  6 15:14:11 1993  Per Bothner  (bothner@@rtl.cygnus.com)

	* arparse.y: fix unnecessary shift/reduce

Tue Dec 22 15:46:56 1992  Per Bothner  (bothner@@rtl.cygnus.com)

	* Makefile.in:  Make check depend on all.
	* Makefile.in (distclean): Remove sysdep.h.
	* size.c:  Use %u format where appropriate.
	* objdump.c:  Standardize:  L_SET -> SEEK_SET.
	* objdump.c:  Use new macro bfd_asymbol_bfd.
	* configure.in:  Allow std-host as the default ${mys_host}.

Thu Dec 17 19:38:19 1992  david d `zoo' zuhn  (zoo at cirdan.cygnus.com)

	* Makefile.in: added dvi target, define and use TEXI2DVI

Tue Dec 15 18:05:07 1992  Per Bothner  (bothner@@cygnus.com)

	* Makefile.in (dist):  Fix permissions before release.
	* size.c:  Use bfd_size_type (and long) where appropriate.
	* ar.c:  Make writing a map the default, to be compatible
	with SYSV and Posix.2.  Remove some bogus kludges that
	handled __.SYMDEF directly.
	* NEWS:  New file.

Mon Nov  9 13:36:53 1992  david d `zoo' zuhn  (zoo at cirdan.cygnus.com)

	* Makefile.in: flex no longer needs the -S flag

Sat Nov  7 15:06:13 1992  david d `zoo' zuhn  (zoo at cirdan.cygnus.com)

        * ar.c (extract_file): utime needs a pointer to a utimbuf

	* Makefile.in: handle -I includes better, adding $(BASEDIR)/bfd to
	the list (since some of the bfd/hosts/*.h files include other
	files from that directory)

Fri Nov  6 00:12:51 1992  John Gilmore  (gnu@@cygnus.com)

	* i960-pinsn.c (MEM_MAX, MEM_SIZ):  Set upper bound properly.

Thu Nov  5 03:37:15 1992  John Gilmore  (gnu@@cygnus.com)

	Clean up some old BFD ansification macros.

	* arsup.h, bucomm.h, objdump.h:  Remove EXFUN from binutils.
	It still remains as a local macro in gmalloc.c, which is derived
	from some other copy of GNU Malloc somewhere (FIXME).

	* ar.c, objdump.c, size.c:  Replace EXFUN with PROTO.  Make static
	fns really static.
	* arsup.h:  Declare extract_files.

Mon Nov  2 12:42:11 1992  Ian Lance Taylor  (ian@@cygnus.com)

	* ar.c (extract_file): instead of checking USG: if POSIX_UTIME,
	use utime and utimbuf structure, otherwise if USE_UTIME use utime
	and array of two longs, otherwise use utimes.

Thu Oct 15 13:57:35 1992  Per Bothner  (bothner@@cygnus.com)

	* binutils.tex:  Document yesterday's changes to strip and copy.

Wed Oct 14 13:22:14 1992  Per Bothner  (bothner@@cygnus.com)

	* copy.c:  Re-do command-line parsing to use getopt_long().
	Add long option names.  Re-think option letters to be more
	consistent.
	* copy.c:  New function filter_symbols() for stripping only
	debug-symbols and/or local symbols.  Use these to support
	the previously-missing options of the old FSF strip.

Tue Oct 13 01:24:20 1992  John Gilmore  (gnu@@cygnus.com)

	* configure.in (host):  Use ${srcdir}/../bfd/configure.host rather
	than repeating a copy of it here.

Wed Oct  7 12:53:52 1992  Ken Raeburn  (raeburn@@cygnus.com)

	* copy.c (main): Even if is_strip, accept -d argument indicating
	alternate output format.  Needed by gdb for Nindy.

	* m68k-pinsn.c (print_insn_arg): Handle new "`" operand type.

Tue Oct  6 16:33:56 1992  Jeffrey Osier  (jeffrey@@cygnus.com)

	* binutils.texi:  added documentation for "copy"

Tue Oct  6 14:22:56 1992  Per Bothner  (bothner at PersSony)

	* Makefile.in (*clean rules): Some cleaning up.
	* Makefile.in (dist): Make diststuff in gprof for a dist.

	* ar.c (do_show_version):  New function.
	* ar.c (main):  Fix so "ar -V" works.

Thu Oct  1 22:44:45 1992  david d `zoo' zuhn  (zoo at cirdan.cygnus.com)

	* configure.in: now uses the cpu-vendor-os triple instead of
	nested cases.

Fri Sep 25 22:41:08 1992  John Gilmore  (gnu@@cygnus.com)

	* i960-pinsn.c:  Change bzero to memset.
	* sparc-pinsn.c:  Change index to strchr.

Mon Sep 21 14:39:56 1992  Ian Lance Taylor  (ian@@cygnus.com)

	* m68k-pinsn (print_insn_arg, fetch_arg): added support for
	operands to memory management instructions, from WRS.

Tue Sep 15 15:26:38 1992  Ian Lance Taylor  (ian@@cygnus.com)

	* Makefile.in (install): if $(tooldir) exists, install nm and
	strip in $(tooldir)/bin.

Thu Sep  3 11:57:40 1992  Per Bothner  (bothner@@rtl.cygnus.com)

	* Makefile.in:  Let's call it version 2.0.

Wed Sep  2 00:25:13 1992  Per Bothner  (bothner@@rtl.cygnus.com)

	* Makefile.in:  Bump to version 0.98.
	* TODO, README:  Minor updates.

	* Makefile.in:  Added mostlyclean, distclean rules,
	and cleaned up clean, realclean.

Sun Aug 30 21:18:59 1992  Ian Lance Taylor  (ian@@cygnus.com)

	* Makefile.in: map program names through program_transform_name
	when installing.

Sun Aug 30 18:09:03 1992  Per Bothner  (bothner@@rtl.cygnus.com)

	* Makefile.in:  Bump to versions 1.97.90.
	* cplus-dem.c:  Removed.  Was nowhere used - and if some
	programs are changed to to demangling should now use the
	versions in libiberty.

Thu Aug 27 12:58:09 1992  Brendan Kehoe  (brendan@@cygnus.com)

	* configure.in: add we32k

Mon Aug 24 14:53:42 1992  Steve Chamberlain  (sac@@thepub.cygnus.com)

	* ar.c (map_over_members): if the element of the archive has a
	null name, fill it in.

	* nm.c (do_one_rel_file): only warn if a bfd's flags say there
	will be symbols and there aren't any.

Wed Aug 19 11:20:25 1992  Ian Lance Taylor  (ian@@cygnus.com)

	* m68k-pinsn.c: handle new operand type 'r', introduced for cas2.

Tue Aug 18 20:45:48 1992  Rob Savoye  (rob@@cygnus.com)

	* nm.c objdump.c: Added support for a +version (-V)
	to print the version number.

	* ar.c, copy.c: Added support for a -V option to print
	the version number.

Tue Aug 18 13:28:44 1992  Ian Lance Taylor  (ian@@cygnus.com)

	* config/mh-apollo68v: removed -g from CC definition.

	* Makefile.in: always create installation directories.

Mon Aug 17 18:33:41 1992  Per Bothner  (bothner@@rtl.cygnus.com)

	* m68k-pinsn.c:  Minor fix in style of output (don't use
	range to indicate floating point control registers).

Tue Aug 11 23:42:21 1992  Per Bothner  (bothner@@cygnus.com)

	* ar.c (main):  Don't *always* set the verbose flag!

Wed Aug  5 11:25:27 1992  Per Bothner  (bothner@@rtl.cygnus.com)

	* copy.c:  When is_strip (because it is invoked as the strip
	program), follow traditional argv processing:
	'strip file1 file2' now strips file1 and file2, rather
	than stripping file1 (as input), leaving output in file2.

Mon Jul 27 16:28:08 1992  Per Bothner  (bothner@@rtl.cygnus.com)

	* objdump.c (display_info, display_info_table):  Call
	bfd_set_format() on dummy bfd before using it (twice).
	* ar.c:  Make sure archive is created on command 'r'
	even when no elements are inserted.  (Clean up and
	simplify some non-working related code.)

Mon Jul 20 02:48:38 1992  D. V. Henkel-Wallace  (gumby@@cygnus.com)

	* configure.in: hppa support doesn't assume hp OS (from sef).

Sat Jul 18 14:35:22 1992  david d `zoo' zuhn  (zoo at cirdan.cygnus.com)

	* configure.in: recognize hppa hosts (bsd & hpux), error messages
	to stderr, not stdout

Fri Jul 17 18:39:44 1992  K. Richard Pixley  (rich@@rtl.cygnus.com)

	* ar.1, binutils.texi, i960-pinsn.c, nm.1, objdump.1, ranlib.1,
	  size.1, sparc-pinsn.c, strip.1: removed rcsid's.

Thu Jul 16 16:55:24 1992  K. Richard Pixley  (rich@@rtl.cygnus.com)

	* Makefile.dos: removed rcsid.

Thu Jul 16 08:23:07 1992  Steve Chamberlain  (sac@@thepub.cygnus.com)

	* objdump.c (display_bfd): print state of BFD_IS_RELAXABLE too

Tue Jun 30 20:26:15 1992  D. V. Henkel-Wallace  (gumby@@cygnus.com)

	* Makefile.in: Add program_suffix (parallel to program_prefix)

Thu Jun 25 04:52:45 1992  John Gilmore  (gnu at cygnus.com)

	* nm.c (sorters):  Lint.  Remove excess whitespace.

Wed Jun 24 13:48:07 1992  Per Bothner  (bothner@@cygnus.com)

	* nm.c (valueof macro):  Add missing parentheses.
	(Their lack screwed up numeric_forward().)

Sun Jun 14 10:33:27 1992  John Gilmore  (gnu at cygnus.com)

	* objdump.c (dump_elf_stabs):  Also dump .stab.index and
	.stab.excl sections.
	(dump_elf_stabs_1):  Split out main body of old dump_elf_stabs.
	* objdump.1, binutils.texi:  Document new sections dumped.

Fri Jun 12 22:23:35 1992  John Gilmore  (gnu at cygnus.com)

	* size.c, objdump.c, bucomm.c:  Lint.

Thu Jun 11 01:19:06 1992  John Gilmore  (gnu at cygnus.com)

	* objdump.c (dump_elf_stabs): New feature: --stabs prints out a
	.stab section from an ELF file.  Installed under #ifdef
	ELF_STAB_DISPLAY so it can be easily disabled, since it requires
	bfd-internals header files and such.
	* objdump.1, binutils.texi:  Update for --stabs.  Also fix
	objdump's doc to use -- rather than + for long options.
	(FIXME:  Not yet fixed everywhere in binutils.texinfo.)

Wed Jun 10 07:53:24 1992  Steve Chamberlain  (sac@@thepub.cygnus.com)

	* objdump.c(display_info), patches from
	mohring@@informatik.tu-muenchen.de to print the table much more
	nicely.

Thu May 28 13:36:16 1992  Per Bothner  (bothner@@rtl.cygnus.com)

	* objdump.c:  Add another enum->int cast, for the sake of
	old compilers (such as PCC).

Wed May 27 13:01:44 1992  Per Bothner  (bothner@@rtl.cygnus.com)

	* arlex.l:  Don't include <sysdep.h> (unneeded conflicts).
	Add declaration of strdup().

Fri May 22 13:40:37 1992  Per Bothner  (bothner@@cygnus.com)

	* Makefile.in:  Use srcdir instead of VPATH in ldgram/ldlex
	rules, since these are used when building a distribution.
	* Makefile.in (arlex.c):  Don't re-direct output, since that
	leaves a bogus output files if it fails.

	* arlex.l:  Make work with lex, for what it's worth.
	* Makefile.in:  Better lex support.
	* Makefile.in (dist):  Generate flex and bison outputs
	for distribution.

Thu May 14 17:17:59 1992  K. Richard Pixley  (rich@@rtl.cygnus.com)

	* Makefile.in: get BISON definition right.

Fri May  8 07:47:08 1992  K. Richard Pixley  (rich@@cygnus.com)

	* sanity.sh: default TMPDIR to ".".

Thu May  7 12:34:50 1992  Roland H. Pesch  (pesch@@fowanton.cygnus.com)

	* binutils.texi: add doc for ar command language.

Wed May  6 18:05:36 1992  Steve Chamberlain  (sac@@thepub.cygnus.com)

	* arparse.y: make END call ar_end
	* arsup.c (ar_end): added, deletes temp file if archive session
	aborted.


Wed May  6 11:08:53 1992  K. Richard Pixley  (rich@@rtl.cygnus.com)

	* Makefile.in: use bison & flex from ../ if they exist.  Also,
	  FLEX->LEX.

	* sanity.sh: remove temporary directory when finished.

Tue May  5 12:00:58 1992  Per Bothner  (bothner@@rtl.cygnus.com)

	* Makefile.in:  Bump to version 1.97.
	* ar.c:  Declare errno for machines that need it.

Mon May  4 23:29:51 1992  John Gilmore  (gnu@@cygnus.com)

	* objdump.c (display_info):  Handle error cases without coredump.
	Close the dummy temporary file we open in the loop.
	* Makefile.in (arsup.o):  Add kludge to build with Sun Make.

Fri May  1 16:20:23 1992  K. Richard Pixley  (rich@@cygnus.com)

	* Makefile.in: added test-install target.

	* sanity.sh: new file.

	* Makefile.in: use sanity test on make check.

Tue Apr 21 13:38:37 1992  K. Richard Pixley  (rich@@cygnus.com)

	* Makefile.in: rework CFLAGS so that they can be passed on the
	  command line to make.  Remove MINUS_G.  Default CFLAGS to -g.

Wed Apr 15 14:33:07 1992  Steve Chamberlain  (sac@@thepub.cygnus.com)

	* arsup.c, arsup.h, arparse.y, arlex.l: support for archive
	scripting language.

Fri Mar  6 21:54:53 1992  K. Richard Pixley  (rich@@cygnus.com)

	* Makefile.in: added check target.

Thu Mar  5 21:35:49 1992  K. Richard Pixley  (rich@@cygnus.com)

	* Makefile.in: added clean-info target.

Tue Mar  3 15:36:37 1992  K. Richard Pixley  (rich@@rtl.cygnus.com)

	* Makefile.in: remove $(COPY_PROG) from PROGS.  It shouldn't be
	  installed. added tooldir and program_prefix.

Wed Feb 26 18:04:40 1992  K. Richard Pixley  (rich@@cygnus.com)

	* Makefile.in, configure.in: removed traces of namesubdir,
	  -subdirs, $(subdir), $(unsubdir), some rcs triggers.  Forced
	  copyrights to '92, changed some from Cygnus to FSF.

Sun Feb 16 12:53:02 1992  Per Bothner  (bothner at cygnus.com)

	* Makefile.in:  Bump version to 1.96, and remove -beta
	suffix from distribution name.
	* m68k-pinsn.c:  New macro COERCE_SIGNED_CHAR to extract
	the signed value of a character (even if chars are unsigned).
	* sparc-pinsn.c:  Add new operand types.

Thu Feb  6 12:14:19 1992  Steve Chamberlain  (sac at rtl.cygnus.com)

	* objdump.c (disassemble_data): don't print a section's contents
	if it's not loadable (eg bss)

Tue Jan 28 11:11:06 1992  Steve Chamberlain  (sac at rtl.cygnus.com)

	* m68k-pinsn.c (print_insn_arg): fixed so that -ve branch
	displacements don't get printed as large +ve ones.

Fri Jan 24 14:47:53 1992  Steve Chamberlain  (sac at rtl.cygnus.com)

	* copy.c, nm.c, objdump.c, size.c : changed to use the
	new reloc scheme.


Mon Dec 30 18:34:41 1991  Per Bothner  (bothner at cygnus.com)

	* bucomm.c (print_arelt_descr):  Tweek the output format
	so that 'ar tv' output follows Posix 1003.2/D11.
	Output is now also identical to Sun's (except __.SYMDEF).

Mon Dec 30 06:09:53 1991  John Gilmore  (gnu at cygnus.com)

	* Makefile.in:  Make `make' output more readable.

Wed Dec 18 15:04:45 1991  Per Bothner  (bothner at cygnus.com)

	* Makefile.in:  Bump to version 1.94.

Wed Dec 11 16:48:09 1991  Steve Chamberlain  (sac at cygnus.com)

	* ar.c: added "b" to fopens for dos
	* configdj.bat, makefile.dos new files from DJ

Tue Dec 10 04:07:26 1991  K. Richard Pixley  (rich at rtl.cygnus.com)

	* Makefile.in: infodir belongs in datadir.

Sat Dec  7 17:09:37 1991  Steve Chamberlain  (sac at rtl.cygnus.com)

	* bucomm.h: created to hold prototypes of bucomm.c
	* objdump.h: created to hold prototyes of objdump.c
	* am29k-pinsn.c: include objdump.h
	* ar.c: include bucomm.h, get ar.h from the right place and
	include libbfd.h
	* bucomm.c: defunize bfd_fatal
	* copy.c: include bucomm.h, lint.
	* i960-pinsn.h: include bucomm.h
	* m68k-pinsn.h: lint
	* nm.c: include bucomm.h, lint
	* objdump.c: lint
	* sparc-pinsn.c: include objdump.h



Fri Dec  6 23:02:14 1991  K. Richard Pixley  (rich at rtl.cygnus.com)

	* Makefile.in: added standards.text support.  install using
	  INSTALL_PROGRAM and INSTALL_DATA.

	* configure.in: configure now does all of it's work from objdir so
	  make file existence tests against ${srcdir}.

Thu Dec  5 22:46:22 1991  K. Richard Pixley  (rich at rtl.cygnus.com)

	* Makefile.in: idestdir and ddestdir go away.  Added copyrights
	  and shift gpl to v2.  Added ChangeLog if it didn't exist. docdir
	  and mandir now keyed off datadir by default.

Wed Dec  4 22:42:03 1991  Per Bothner  (bothner at cygnus.com)

	* Makefile.in:  Bump to version 1.93.
	* Makefile.in:  Add make-strip.o:maybe-strip.c dependency
	for make versions that provide half-baked VPATH-support (e.g. Sun's).
	* size.c:  Improvements suggested by
	"david d [zoo] zuhn" <zoo@@aps1.spa.umn.edu>:
	- Don't emit (Berkeley) headers if no files were found.
	- Return a non-zero return code on failure.

Sat Nov 30 21:34:19 1991  Steve Chamberlain  (sac at rtl.cygnus.com)

	Changes due to include file renaming:
	* am29k-pinsn.c: a29k-opcode.h	-> opcode/a29k.h
	* sparc-pinsn.c: sparc-opcode.h	-> opcode/sparc.h
	* m68k-pinsn.c:	 m68k-opcode.h	-> opcode/m68k.h
	* nm.c:		 stab.gnu.h	-> aout/stab_gnu.h

Tue Nov 19 19:20:43 1991  Per Bothner  (bothner at cygnus.com)

	* README:  Mention MINIMIZE flag for bfd's make.

Mon Nov 18 12:05:37 1991  Per Bothner  (bothner at cygnus.com)

	* README:  Various improvements.

Sun Nov 17 23:40:59 1991  Per Bothner  (bothner at cygnus.com)

	* Makefile.in:  Bump to version 1.92.
	* version.c, Makefile.in:  Get version string from Makefile.
	* copy.c, is-strip.c, not-strip.c, maybe-strip.c, Makefile.in:
	Make the same change that we earlier did for ar/ranlib:
	Generate two different binaries for strip and copy and use
	a global variable with different values to distinguish
	ostrip from copy.  (-1 means to use argv[0] to decide,
	so you can get the old behavior, but it is no longer the default).
	* copy.c (copy_file):  Set EXEC_P of output bfd if input is so.
	* copy.c (main):  If is_strip==-1, compare last 5 chars
	of argv[0], not the whole path.
	* copy.c (main): Return 0, not 1.
	* copy.c (setup_sections):  Fix due to change in bfd_make_section
	now failing if asked for a duplicate section.
	* strip.c, ostrip.c:  Removed obsolete files.
	* ar.c, not-ranlib.c, maybe-ranlib.c:
	Change encoding of is_ranlib variable to be consistent
	with is_strip for strip.copy (i.e -1 to means use argv[0]).

Thu Nov 14 20:11:02 1991  Per Bothner  (bothner at cygnus.com)

	* version.c (program_version): Update to version 1.92.

Tue Nov 12 16:17:53 1991  Per Bothner  (bothner at cygnus.com)

	* ar.c (get_pos_bfd):  Previous fix was missing a "break".

Thu Nov  7 08:55:56 1991  Steve Chamberlain  (sac at cygnus.com)

	* am29k-pinsn.c: Fixed bug in mtacc, dmac and fmac instruction
	encodings. (Thaks to David Wood)

Sun Nov  3 14:50:23 1991  Per Bothner  (bothner at cygnus.com)

	* Makefile.in ($(DIST_NAME).tar.Z), TODO:  Various fixes.
	* ar.c (get_pos_bfd): Fix to handling of before/after
	positioning options.
	* bucomm.c (fatal):  MISSING_VFPRINTF is no longer an issue,
	since libiberty contains vfprintf etc if otherwise missing.
	* m68k-pinsn.c (print_insn_arg):  Support BB/BW/BL
	type operands, as used by branch instructions.
	* nm.c:  Delegate printing of symbols to BFD,
	by using bfd_print_symbol to do the formatting.

Mon Oct 28 11:20:47 1991  Steve Chamberlain  (steve at cygnus.com)

	* ar.c (write_archive.c): added unlink before rename since some
	systems can't rename onto an existant file.

Mon Oct 21 09:47:23 1991  Steve Chamberlain  (steve at rtl.cygnus.com)

	* nm.c: now doesn't crash if a symbol with no section and no
	SEC_ABS appears.

Thu Oct 17 15:25:50 1991  Per Bothner  (bothner at cygnus.com)

	* Makefile.in, version.c:  Bump to version 1.91.

Wed Oct 16 11:45:36 1991  Per Bothner  (bothner at cygnus.com)

	* Makefile.in, ar.c, bucomm.c, copy.c, cplus-dem.c, filemode.c,
	i960-pinsn.c, m68k-pinsn.c, nm.c, objdump.c, size.c, sparc-pinsn.c,
	* strip.c: Add or update Copyright notice.
	* TODO:  Add note on 'nm -a'.
	* version.c: Update version number to 1.90.
	* Makefile.in: Fix making of documentation for dist.

Tue Oct 15 00:17:17 1991  Per Bothner  (bothner at cygnus.com)

	* README: New file.
	* Makefile.in: New kludgy rules for making a tarfile.
	* Makefile.in: Fix bindir path.

Mon Oct 14 17:34:29 1991  Roland H. Pesch  (pesch at cygnus.com)

	* Makefile.in: add targets binutils.mm, binutils.me

Fri Oct 11 22:44:21 1991  John Gilmore  (gnu at cygnus.com)

	* Makefile.in:  Avoid Sun Make VPATH bugs by adding dependencies.

Fri Oct 11 12:51:33 1991  Roland H. Pesch  (pesch at cygnus.com)

	* Makefile.in: add target "binutils.ms"

	* binutils.texinfo: minor restructuring for texi2roff comfort.

Fri Oct 11 04:12:28 1991  John Gilmore  (gnu at cygnus.com)

	Restructure configuration scheme for bfd, binutils, ld.

	* include/sys/h-*.h:  Move to bfd/hosts/h-*.h.
	* configure.in:  Revise to symlink sysdep.h to ../bfd/hosts/h-xxx.h.
	Change some config names to match other dirs.
	* *.c:  Include bfd.h before sysdep.h, so ansidecl and PROTO()
	get defined first.
	* Makefile.in:  Use -I. to get sysdep.h.

Wed Oct  9 22:42:56 1991  Per Bothner  (bothner at cygnus.com)

	* nm.c (print_symbols):  Handle NULL name field of symbol.
	* Makefile.in: Removed spurious comment.

Tue Oct  8 16:55:03 1991  Roland H. Pesch  (pesch at cygnus.com)

	* binutils.texinfo: minor typos, phrasing, formatting fixes.

Tue Oct  8 15:13:20 1991  Per Bothner  (bothner at cygnus.com)

	* configure.in: Get host file from ../bfd/config, not config.
	* config/*: Remove config directory and its files.

Tue Oct  8 13:58:59 1991  Roland H. Pesch  (pesch at cygnus.com)

	* Makefile.in: new targets binutils.dvi, binutils.info

	* binutils.texinfo: remove most remaining FIXME's, delete
	references to __.SYMDEF by name


Tue Oct  8 10:23:44 1991  Steve Chamberlain  (steve at cygnus.com)

	* objdump.c (print_address) Print addresses nicely.

Mon Oct  7 11:31:05 1991  Per Bothner  (bothner at cygnus.com)

	* ar.c, Makefile.in, new files {is,not,maybe}-ranlib.c:
	Make two different binaries for ar and ranlib, instead of
	distinguishing them at run time using argv[0].
	(Old behavior is still available if you "make ar_with_ranlib",
	but it is not the default.)
	* ranlib.sh (new):  An alternative one-line
	shell implementation of ranlib.

Fri Oct  4 21:49:44 1991  John Gilmore  (gnu at cygnus.com)

	* objdump.c:  Cope with renames of a few BFD types & enums.

Fri Oct  4 19:08:09 1991  Roland H. Pesch  (pesch at cygnus.com)

	* binutils.texinfo: add new file (rudimentary docn)

Mon Sep 30 12:30:39 1991  Per Bothner  (bothner at cygnus.com)

	* config/hmake-news: Add new file (for Sony NEWSOS3).
	* bucomm.c (fatal):  Conditionally compile fatal() depending on
	MISSING_VFPRINTF, and don't confuse the issue with NO_VARARGS.
	* objdump.c (dump_headers):  Trivial output format change.
	* objdump.c (display_info): Loop over integers, not enums,
	to appease old compilers.

Mon May 20 16:14:07 1991  Steve Chamberlain  (steve at cygint.cygnus.com)

        *objdump.c *nm.c *copy.c: Changed some types to work with 64 bit
	object files.

Thu May 16 16:06:55 1991  Steve Chamberlain  (steve at cygint.cygnus.com)
     from bother
	* objdump.c (print_address): Make disasembled output more
	consistent with gdb and as: Add 0x when printing hex.
	Don't print extra leading zeros.
	Attempt to not print "filename.o".
	* objdump.c: Add some enum-to-int casts to accomodate old compilers.


Fri May  3 22:21:44 1991  John Gilmore  (gnu at cygint.cygnus.com)

	* copy.c:  Change =& constructs to = &, since they confuse older
	C compilers.
d996 1
@


1.243
log
@Add OBJDUMP_DEFS to configure and makefile
Check for DISASSEMBLER_NEEDS_RELOCS in objdump and read in relocs if set.
@
text
@d10 1
a10 1
	* confgiure: Regenerate.
@


1.242
log
@Update address for bug reports.
@
text
@d1 15
@


1.241
log
@Add missing support for arm-epoc-pe.
@
text
@d1 6
@


1.240
log
@Add Diego Novillo.
@
text
@d1 6
@


1.239
log
@Add EM_X86_64.
@
text
@d1 5
@


1.238
log
@Fix formatting.
@
text
@d1 7
@


1.237
log
@	* NEWS: Add note about x86_64 architecture.
	* MAINTAINERS: Add myself and Andreas Jaeger as x86_64 maintainer.
@
text
@d1 4
@


1.236
log
@2000-12-07  Andrew Haley  <aph@@redhat.com>

        * readelf.c (display_debug_frames): Only display columns that are
        referenced by the frame debug info.
@
text
@d1 4
@


1.235
log
@Add Jason Merrill as DWARF2 maintainer.
@
text
@d1 5
@


1.234
log
@        * readelf.c (process_section_headers): Handle linkonce.wi sections.
        (display_debug_section): Likewise.
        (display_debug_info): Display CU header before bailing.
@
text
@d1 4
@


1.233
log
@Add MIPS SB1 machine
@
text
@d1 6
d9 3
a11 3
        * readelf.c (get_machine_flags): Recognize MIPS32 ISA in
        EF_MIPS_ARCH.  Replace use of E_MIPS_MACH_MIPS32 with
        E_MIPS_MACH_MIPS32_4K and adjust printed CPU name similarly.
d13 2
a14 2
        * readelf.c (get_machine_flags): Add cases for E_MIPS_ARCH_5,
        and E_MIPS_ARCH_64.
d16 2
a17 2
        * readelf.c (get_machine_flags): Add case for
        E_MIPS_MACH_SB1.
@


1.232
log
@Add MIPS V and MIPS 64 machine numbers
@
text
@d10 3
@


1.231
log
@Add MIPS32 as a seperate MIPS architecture
@
text
@d7 3
@


1.230
log
@* readelf.c (frame_display_row): Output 's' for DW_CFA_same_value.
@
text
@d1 6
@


1.229
log
@	Change sourceware.cygnus.com to sources.redhat.com.
	Fix typo for "amongst".
@
text
@d1 4
@


1.228
log
@	* MAINTAINERS: Add Jrn Rennecke and self as SH maintainers.
@
text
@d4 2
@


1.227
log
@Move GNU Free Documentation License from the output into a comment
@
text
@d1 4
@


1.226
log
@* readelf.c (usage): Add -wf (--debug-dump=frames) option.
(parse_args): Support -wf option.
(process_section_headers): Ditto.
(debug_displays): Ditto.
(display_debug_frames): New, dump *_frame sections.
(frame_need_space): Support for above.
(frame_display_row): Ditto.
* binutils.texi: Document it.
@
text
@d1 16
@


1.225
log
@Add ARM v5t, v5te and XScale support
@
text
@d1 11
@


1.224
log
@Add new machien types and section flags
@
text
@d1 4
@


1.223
log
@2000-11-20  H.J. Lu  <hjl@@gnu.org>

	* readelf.c (get_osabi_name): Change ELFOSABI_MONTEREY to
	ELFOSABI_AIX.
@
text
@d1 9
@


1.222
log
@        * readelf.c (display_debug_lines): Adjust last change to
        use sizeof (external->li_length).
@
text
@d1 5
@


1.221
log
@        * readelf.c (display_debug_lines): Fix section length check
        and end_of_sequence computation.
@
text
@d3 5
@


1.220
log
@Add GNU Free Documentation License
@
text
@d1 5
@


1.219
log
@*** empty log message ***
@
text
@d1 14
@


1.218
log
@Add --srec-len and --srec-forceS3 switches to objcopy
@
text
@d7 4
a10 1

@


1.217
log
@Add Eric Christopher as maintainer for MN10300
@
text
@d1 7
@


1.216
log
@Add Jim Wilson as Maintainer for IA64 code.
@
text
@d4 1
a4 1
	code.
@


1.215
log
@* Make comma after string after icon/control optional.
@
text
@d1 5
d1543 2
a1544 2
        * readelf.c (get_machine_flags):  Check for EF_CPU32.
        (get_data_encoding): Fix typo.
d1694 1
a1694 1
        * resbin.c (res_to_bin_versioninfo): Instead of entering a value
d1720 1
a1720 1
        * readelf.c (dump_relocations):  Handle EM_ARM as REL.
d1847 2
a1848 2
        * configure.in: detect cygwin* instead of cygwin32*
        * configure: regenerate
@


1.214
log
@Add support for the MIPS32
@
text
@d1 4
@


1.213
log
@Add Stephane Carrez
@
text
@d1 6
@


1.212
log
@2000-09-07  H.J. Lu  <hjl@@gnu.org>

	* configure.in (AC_ISC_POSIX): Put after AC_CANONICAL_SYSTEM.
	* configure: Rebuild.
@
text
@d1 4
@


1.211
log
@* configure: Rebuilt with new libtool.m4.
@
text
@d1 5
@


1.210
log
@Regenerate files using fixed aclocal install.
@
text
@d1 4
@


1.209
log
@Fix capitalization
@
text
@d1 6
@


1.208
log
@2000-09-04  Todd Vierling  <tv@@wasabisystems.com>
* strip.1: Fix stray '\' in -o formatting.

Approved by:  Philip Blundell <pb@@tazenda.demon.co.uk>
              Message-Id: <E13W4RF-0002HU-00@@kings-cross.london.uk.eu.org>
@
text
@d21 1
a21 1
	* resrc.c (close_input_stream): delete extraneous logic
@


1.207
log
@Fix date ordering of entries
@
text
@d1 4
@


1.206
log
@Increase minor version number (to 2.10.91) to help tools detect the new
ability to support removal of duplciate DWARF@@ debug information.
@
text
@d55 4
a67 4

2000-08-08  DJ Delorie  <dj@@redhat.com>

	* resrc.c: use "gcc -xc" instead of -xc-header
@


1.205
log
@* acinclude.m4: Include libtool and gettext macros from the
top level.
* aclocal.m4, configure: Rebuilt.
@
text
@d1 8
@


1.204
log
@* resrc.c (close_input_stream): delete extraneous logic
@
text
@d1 6
@


1.203
log
@	* NEWS: Mention support for CRIS.
@
text
@d1 4
@


1.202
log
@Changed email address of Ulrich Lauther
@
text
@d1 4
@


1.201
log
@2000-08-17  Christopher C. Chimelis <chris@@debian.org>

	* objdump.c (LONGEST_ARCH): Set to sizeof("powerpc:common").
@
text
@d1 4
@


1.200
log
@Catch and warn about attempts to display debug information for version 1 aranges.
@
text
@d1 4
@


1.199
log
@Silently accept -d as an alias for -g for compatability with old BSD systems.
@
text
@d1 6
@


1.198
log
@2000-08-14  Jason Eckhardt  <jle@@cygnus.com>

        * NEWS: Mention i860 support.
@
text
@d1 5
@


1.197
log
@2000-08-11  Carlo Wood <carlo@@alinoe.com>

	* addr2line.c (main): Add const to char *.
@
text
@d1 4
@


1.196
log
@* ar.c (main): Don't crash if called with no arguments
or only '-X32_64' as an argument.
@
text
@d1 4
@


1.195
log
@2000-08-05  Jason Eckhardt  <jle@@cygnus.com>

        * readelf.c (elf/i860.h): Include.
        (dump_relocations): Add recognition of i860 architecture.
        (guess_is_rela): Add recognition of i860 architecture.
@
text
@d1 5
@


1.194
log
@Add info about CGEN maintainers
@
text
@d1 6
@


1.193
log
@* resrc.c: use "gcc -xc" instead of -xc-header
@
text
@d1 4
@


1.192
log
@* nm.c (main): Ignore '-X32_64' as an option.
* ar.c (main): Likewise.
* binutils.texi (nm): Document new option.
(ar): Likewise.
@
text
@d1 4
@


1.191
log
@(external_coff_symbol_p): K&R-ise.
@
text
@d1 7
@


1.190
log
@2000-07-20  H.J. Lu  <hjl@@gnu.org>

	* binutils/binutils.texi: Put back "@@end table" deleted by
	accident.
@
text
@d1 4
@


1.189
log
@Add optional style argument to --demangle switch.
@
text
@d1 5
@


1.188
log
@	* MAINTAINERS: Add self as CRIS port maintainer.
	* readelf.c: Include elf/cris.h.
	(guess_is_rela): Handle EM_CRIS.
	(dump_relocations): Ditto.
	(get_machine_name): Ditto.
	* Makefile.am: Rebuild dependencies.
	* Makefile.in: Regenerate.
	* po/binutils.pot: Regenerate.
@
text
@d1 8
@


1.187
log
@2000-07-19  H.J. Lu  <hjl@@gnu.org>

	* readelf.c (get_dynamic_type): Change "AUXILARY" to
	"AUXILIARY".
	(process_dynamic_segment): Print out strings for DT_CONFIG,
	DT_DEPAUDIT, DT_AUDIT and DT_RUNPATH.
@
text
@d1 11
@


1.186
log
@Change output of `nm --help' to include a description of the purpose of the
program and a detailed description of the accepted options.
@
text
@d1 7
@


1.185
log
@2000-07-19  H.J. Lu  <hjl@@gnu.org>

	* readelf.c (process_dynamic_segment): Change DF_1_NODEPLIB
	to DF_1_NODEFLIB.
@
text
@d1 6
@


1.184
log
@2000-07-19  H.J. Lu  <hjl@@gnu.org>

	* readelf.c (get_dynamic_type): Fix DT_CHECKSUM.
@
text
@d3 5
@


1.183
log
@2000-07-19  H.J. Lu  <hjl@@gnu.org>

	* readelf.c (get_dynamic_type): Change DT_FEATURE_1 to
	DT_FEATURE.
	(process_dynamic_segment): Likewise.

	* readelf.c (get_dynamic_type): Handle DT_CONFIG, DT_DEPAUDIT,
	DT_AUDIT, DT_PLTPAD, DT_MOVETAB and DT_CHECKSUM.
	(process_dynamic_segment): Handle DTF_1_CONFEXP, DF_1_NODEPLIB,
	DF_1_NODUMP and DF_1_CONLFAT.
@
text
@d3 4
@


1.182
log
@Fix spelling typo.
@
text
@d1 11
@


1.181
log
@* objdump.c (usage): Make output of `objdump --help' more
consistent with the rest of the GNU world.  Add a line describing
the purpose of the program.
@
text
@d1 4
@


1.180
log
@Warning fixes.
@
text
@d1 6
@


1.179
log
@Add several more port specific maintainers
@
text
@d1 15
@


1.178
log
@Add Mike Meissner
@
text
@d1 4
@


1.177
log
@add MAINTAINERS files
@
text
@d1 4
d7 1
a7 1
	* MAINTAINERS: new
@


1.176
log
@* dllwrap.c: Changed mistaken dyn_string_append() calls
to dyn_string_append_cstr().
@
text
@d1 4
@


1.175
log
@AAganichev's parse_stab_type size fix.
@
text
@d1 5
@


1.174
log
@Fix 2000-06-22.  grep after running dep.sed
@
text
@d1 5
@


1.173
log
@Revert incorrect 2000-06-25 patch.
@
text
@d1 6
@


1.172
log
@Fix spelling typo
@
text
@d1 5
@


1.171
log
@Treat GNU weak symbols as external.
@
text
@d609 1
a609 1
	(get_elf_section_flags): New funciton: Decode section flags.
@


1.170
log
@Advance past both parts of dos based <letter>: filepath prefix.
@
text
@d1 6
@


1.169
log
@Fix description of --stabs switch
@
text
@d1 7
@


1.168
log
@Check dependecies for leading `/' in this dir too.
@
text
@d1 4
@


1.167
log
@Correct pointer comparisons relying on NULL less than any other pointer.
Alexander Aganichev's fix for ieee.c
@
text
@d1 6
@


1.166
log
@Improve verbose message
@
text
@d1 11
@


1.165
log
@2000-06-15  H.J. Lu  <hjl@@gnu.org>

	* dyn-string.c: Removed. Not needed with dyn-string.c in
	libiberty.
	* dyn-string.h: Likewise.

	* Makefile.am: Remove references to dyn-string.c and
	dyn-string.h. Rebuild dependency.
	* Makefile.in: Rebuild.
@
text
@d1 4
@


1.164
log
@2000-06-15  H.J. Lu  <hjl@@gnu.org>

	* binutils.texi: Put a warning on copying relocatable object
	files between two different formats.
@
text
@d3 10
@


1.163
log
@* rcparse.y (control): ICON controls take an id as the first
parameter, not an optional string.  Also, call new convenience
function that takes res_id's.
* resrc.c (define_control): missing text means zero-length string,
not zero ID.
(define_icon_control): New.
* windres.h: declare define_icon_control.
@
text
@d1 5
@


1.162
log
@2000-06-13  H.J. Lu  <hjl@@gnu.org>

	* configure: Regenerate.
@
text
@d1 10
@


1.161
log
@* configure.in (VERSION): Update to show this is the CVS mainline.

Approved by:	Nick Clifton <nickc@@cygnus.com>
		Message-Id: <200005222205.PAA14565@@elmo.cygnus.com>
@
text
@d1 4
@


1.160
log
@	* strings.c (isgraphic): Interpret <TAB> as a printable character,
	analogous to <SPACE>.

Approved by:	Nick Clifton <nickc@@cygnus.com>
		<200005222243.PAA14590@@elmo.cygnus.com>
@
text
@d1 4
@


1.159
log
@Fix my inept 2000-05-24 change.
@
text
@d1 5
@


1.158
log
@* resrc.c (close_input_stream): zero out cpp_pipe after closing it.
@
text
@d1 5
@


1.157
log
@Update dependencies.
@
text
@d1 4
@


1.156
log
@Eli Zaretskii's DOSish file name patches.
@
text
@d1 5
@


1.155
log
@Ensure bfd_close after bfd_openw so we don't get multiple bfd_openw
calls for same file.
@
text
@d1 39
@


1.154
log
@2000-05-14  H.J. Lu  (hjl@@gnu.org)

	* objcopy.c (filter_symbols): Don't strip global symbols in
	relocatable object files.
@
text
@d1 5
@


1.153
log
@Accept and ignore -f command line option.
Improve usage message.
@
text
@d1 5
@


1.152
log
@Quell some gcc warnings by defining textdomain and bindtextdomain
as intl/libgettext.h does.
@
text
@d1 9
@


1.151
log
@2000-05-12  H.J. Lu  <hjl@@gnu.org>

	* nlmconv.c (temp_filename): Removed.

	* nlmconv.c (link_inputs): Use make_temp_file () instead of
	choose_temp_base ().
	* objdump.c (display_target_list): Likewise.
	(display_info_table): Likewise.
@
text
@d1 6
@


1.150
log
@(setup_section): Add const and gettext calls for err.
@
text
@d1 9
@


1.149
log
@2000-05-02  H.J. Lu  <hjl@@gnu.org>

	* readelf.c (get_osabi_name): Handle ELFOSABI_NONE instead of
	ELFOSABI_SYSV. Also handle ELFOSABI_NETBSD, ELFOSABI_HURD,
	ELFOSABI_SOLARIS, ELFOSABI_MONTEREY, ELFOSABI_IRIX,
	ELFOSABI_FREEBSD, ELFOSABI_TRU64, ELFOSABI_MODESTO
	and ELFOSABI_OPENBSD.
@
text
@d1 4
@


1.148
log
@fix gcc warnings
@
text
@d1 8
@


1.147
log
@	* readelf.c (guess_is_rela): AVR uses RELA relocations.
	(get_machine_name): machine name for EM_AVR added.
@
text
@d1 6
@


1.146
log
@IA-64 ELF support.
@
text
@d1 5
@


1.145
log
@Fix bug disassmbling binary files for non-octet byte targets.
@
text
@d1 8
@


1.144
log
@Portability fixes.
@
text
@d1 5
@


1.143
log
@Replace 'strftime' with 'sprintf'.
@
text
@d1 7
@


1.142
log
@Remove ``-W -Wall'' from top-level Makefile/configure.
Add ``-W -Wall'' to sub-directories bfd, binutils, gas gprof, ld and
opcodes by the addition of WARN_CFLAGS to Makefile.am and configury to
set it.  Add configure option --enable-build-warnings.
Re-generate all and sundry using auto*-000227.
@
text
@d1 6
@


1.141
log
@A mostly cosmetic tidy up of warnings and error message reporting.
@
text
@d1 7
@


1.140
log
@SEC_BLOCK, SEC_CLINK, and C_STATLAB added (TI COFF support).
@
text
@d1 96
d7476 2
a7477 1
        *objdump.c *nm.c *copy.c :hanged some types to work with 64 bit object files
@


1.139
log
@        * readelf.c (decode_location_expression): Loop through multiple
        operations.
        (read_and_display_attr): Pass in length.
@
text
@d1 4
@


1.138
log
@        * readelf.c (read_and_display_attr): Add CU offset to references.
        (display_debug_info): Pass it in.
@
text
@d1 5
a5 1
2000-04-06  Jason Merrill  <jason@@casey.cygnus.com>
@


1.137
log
@Detect EM_AVR machine number
@
text
@d1 5
@


1.136
log
@Add code to decode the e_flags field of an ARM ELF binary.
@
text
@d6 2
@


1.135
log
@Add --redefine-sym to objcopy.
@
text
@d1 6
@


1.134
log
@2000-04-04  H.J. Lu  <hjl@@gnu.org>

	* readelf.c (process_symbol_table): Correctly read in symbol
	versioning information.
@
text
@d1 29
@


1.133
log
@Move translated part of bug report string back into .c files so
xgettext can find it.  Regnerate .pot files.
@
text
@d1 5
@


1.132
log
@Use "gcc -MM" for dependencies, and update them.
@
text
@d3 14
@


1.131
log
@2000-04-03  H.J. Lu  (hjl@@gnu.org)

	* size.c (usage): Use REPORT_BUGS_TO.
@
text
@d1 16
d32 1
a32 1
	* objcopy.c (copy_usage): Likewise.
@


1.130
log
@Move bug report string to one place.
@
text
@d1 4
@


1.129
log
@Include sys/types.h before sys/stat.h for ultrix.
@
text
@d1 18
d28 1
a28 1
2000-03-27  Alan Modra  <alan@@linuxcare.com>
@


1.129.2.1
log
@This is a grab-bag of my stuff from the head branch.
Should have done it separately, I know.
- move bug report address to include file
- objcopy --redefine-sym
- update makefile dependencies (but use automake-000227)
- H.J. Lu's fix to readelf.c
@
text
@a0 86
2000-04-05  Alan Modra  <alan@@linuxcare.com.au>

	* binutils.texi: Remove optional `=' from long options that have
	an `=' in the argument.
	* objcopy.1: Here too.  Remove extra space on discard-all.

	* binutils.texi (objcopy): Mention --redefine-sym.
	* objcopy.1: Here too.
	* NEWS: And here.

	* objcopy.c (parse_flags): Split off flag names from error message
	gettext as they are not translated.
	(copy_main): Similarly split off option name for --add-section,
	--set-section-flags, --change-section-vma, --change-section-lma
	error messages.
	Some white space changes.

	from Matthew Benjamin <matt@@linuxbox.nu>
	* objcopy.c (struct redefine_node): New.
	(redefine_sym_list): New.
	(redefine_list_append): New.
	(lookup_sym_redefinition): New.
	(OPTION_REDEFINE_SYM): New.
	(copy_options): Add --redefine-sym option.
	(copy_usage): Mention it.
	(filter_symbols): Rename symbols on redefine_sym_list.
	(copy_object): Call filter_symbols if redefine_sym_list != NULL.
	(copy_main): Handle OPTION_REDEFINE_SYM.

2000-04-04  H.J. Lu  <hjl@@gnu.org>

	* readelf.c (process_symbol_table): Correctly read in symbol
	versioning information.

2000-04-04  Alan Modra  <alan@@linuxcare.com.au>

	* po/binutils.pot: Regenerate.

	* addr2line.c (usage): Restore translated part of bug string.
	* ar.c (usage): Likewise.
	* nlmconv.c (show_usage): Likewise.
	* nm.c (usage): Likewise.
	* objcopy.c (copy_usage): Likewise.
	(strip_usage): Likewise.
	* objdump.c (usage): Likewise.
	* readelf.c (usage): Likewise.
	* size.c (usage): Likewise.
	* strings.c (usage): Likewise.
	* windres.c (usage): Likewise.

	* Makefile.am (MKDEP): Use gcc -MM rather than mkdep.
	(DEP): Quote when passing vars to sub-make.  Add warning
	message to end.
	(DEP1): Rewrite for "gcc -MM".
	(CLEANFILES): Add DEP2.
	Update dependencies.
	* Makefile.in: Regenerate.

2000-04-04  H.J. Lu  <hjl@@gnu.org>

	* Makefile.am (GENERATED_HFILES): Add rcparse.h
	(arparse.h): Depend on arparse.c
	(defparse.h, nlmheader.h, rcparse.h, sysinfo.h): Similarly.

2000-04-03  H.J. Lu  (hjl@@gnu.org)

	* size.c (usage): Use REPORT_BUGS_TO.

2000-04-03  Alan Modra  <alan@@linuxcare.com.au>

	* bucomm.h: #include "bin-bugs.h"
	* addr2line.c (usage): Use REPORT_BUGS_TO.
	* ar.c (usage): Likewise.
	* nlmconv.c (show_usage): Likewise.
	* nm.c (usage): Likewise.
	(OPTION_TARGET): Define.
	(long_options): Use OPTION_TARGET rather than 200.
	(main): Likewise.

	* objcopy.c (copy_usage): Use REPORT_BUGS_TO.
	(strip_usage): Likewise.
	* objdump.c (usage): Likewise.
	* readelf.c (usage): Likewise.
	* strings.c (usage): Likewise.
	* windres.c (usage): Likewise.

d10 1
a10 1
2000-03-27  Alan Modra  <alan@@linuxcare.com.au>
@


1.129.2.2
log
@A mostly cosmetic tidy up of warnings and error message reporting.
@
text
@a0 96
2000-04-06  Alan Modra  <alan@@linuxcare.com.au>

	* addr2line.c: Update copyright.
	* objcopy.1: Likewise, and title.
	* strings.1: Likewise.

	* version.c (print_version): Add 2000.

	* rddbg.c (read_section_stabs_debugging_info): Don't use
	bfd_size_type for strx to avoid printf problems if BFD64.

	* bucomm.c: (report): Remove `static'.
	Move inclusion of stdarg.h/vararg.h from here.
	* bucomm.h: To here.
	(CONST): Change all occurences to const.
	(report): Declare it.
	(bfd_fatal): Add ATTRIBUTE_NORETURN.
	(fatal): Add ATTRIBUTE_PRINTF_1 ATTRIBUTE_NORETURN.
	(non_fatal): Add ATTRIBUTE_PRINTF_1.

	* ar.c (main): Use fatal or non_fatal instead of fprintf.
	Correct a typo in an error message.
	(do_quick_append): Use non_fatal instead of fprintf.
	(move_members): Use fatal instead of fprintf, exit.
	* coffdump.c (main): Same here.

	* dlltool.c (display): Delete.
	(warn): Delete.
	(inform): Use `report' instead of `display'.
	(rvaafter): Remove trailing \n from fatal error msg.
	(rvabefore): Ditto.
	(asm_prefix): Ditto.
	(yyerror): Replace `warn' with `non_fatal', and remove \n.
	(def_name): Likewise.
	(run): Likewise.
	(scan_all_symbols): Likewise.
	(gen_lib_file): Likewise.
	(def_library): Likewise.  Remove extra program_name too.
	(run): Remove \n from inform strings.
	(scan_drectve_symbols): Likewise.
	(add_excludes): Likewise.
	(scan_open_obj_file): Likewise.
	(gen_exp_file): Likewise.
	(gen_lib_file): Likewise.
	(process_duplicates): Likewise.

	* Makefile.am (dllwrap_SOURCES): Add version.c.
	* dllwrap.c (program_version): Delete.
	(print_version): Delete.
	(display): Always print trailing \n.
	(warn): New.
	(delete_temp_files): Use warn instead of fprintf.  Use gettext.
	(run): Here too.
	(main): And here.
	(usage): gettext'ify.
	(long_options): Add missing initialisers.

	* nlmconv.c (main): Use fatal/non_fatal instead of fprintf.
	(select_output_format): Likewise.
	(powerpc_mangle_relocs): Likewise.
	(link_inputs): Likewise.

	* nm.c (set_print_radix): Use fatal instead of fprintf, exit.
	(set_output_format): Likewise.
	(main): Use non_fatal instead of fprintf.
	(display_rel_file): Likewise.

	* objdump.c (slurp_symtab): Use non_fatal instead of fprintf.
	(slurp_dynamic_symtab): Same here.
	(disassemble_data): And here.
	(read_section_stabs): And here.
	(read_section_stabs): And here.
	(dump_bfd): And here.
	(main): And here.
	(objdump_sprintf): Use fatal instead of fprintf, exit.
	(disassemble_data): Same here.

	* rdcoff.c (parse_coff_type): Use non_fatal instead of fprintf.
	(parse_coff_struct_type): Same here.
	(parse_coff_enum_type): And here.
	(parse_coff): And here.
	* rddbg.c (read_debugging_info): And here.
	* size.c (main): And here.
	* windres.c (format_from_name): And here.
	* wrstabs.c (stab_write_symbol): Here too.
	(write_stabs_in_sections_debugging_info): And here.
	(stab_int_type): And here.
	(stab_struct_field): And here.
	(stab_typdef): And here.

	* rescoff.c (read_coff_rsrc): Use fatal instead of fprintf, exit.
	* srconv.c (main): Same here.
	* strings.c (main): And here.
	(integer_arg): And here.
	* sysdump.c (main): And here.

d7359 1
a7359 2
        *objdump.c *nm.c *copy.c: Changed some types to work with 64 bit
	object files.
@


1.129.2.3
log
@Replace 'strftime' with 'sprintf'
@
text
@a0 6
2000-04-10  Philippe De Muyter  <phdm@@macqel.be>

	* readelf (dynamic_segment_mips_val): Call `sprintf', not
	`strftime' since strftime is not available on all systems.
	(process_mips_specific): Ditto.

@


1.129.2.4
log
@2000-04-14  Michael Sokolov  <msokolov@@ivan.Harhan.ORG>

	* arlex.l: Add directives to increase lex buffer size.

	* objdump.c, readelf.c: Don't include strarg.h or varargs.h. They are
        already included by bucomm.h.
@
text
@a0 7
2000-04-14  Michael Sokolov  <msokolov@@ivan.Harhan.ORG>

	* arlex.l: Add directives to increase lex buffer size.

	* objdump.c, readelf.c: Don't include strarg.h or varargs.h. They are
        already included by bucomm.h.

@


1.129.2.5
log
@2000-05-23  Philip Blundell  <pb@@futuretv.com>

	* configure.in: Set version to 2.10.
	* configure: Regenerate.
@
text
@a0 5
2000-05-23  Philip Blundell  <pb@@futuretv.com>

	* configure.in: Set version to 2.10.
	* configure: Regenerate.

@


1.129.2.6
log
@H.J.'s ELFOSABI changes.
@
text
@a5 8
2000-05-02  H.J. Lu  <hjl@@gnu.org>

	* readelf.c (get_osabi_name): Handle ELFOSABI_NONE instead of
	ELFOSABI_SYSV. Also handle ELFOSABI_NETBSD, ELFOSABI_HURD,
	ELFOSABI_SOLARIS, ELFOSABI_MONTEREY, ELFOSABI_IRIX,
	ELFOSABI_FREEBSD, ELFOSABI_TRU64, ELFOSABI_MODESTO
	and ELFOSABI_OPENBSD.

@


1.129.2.7
log
@Ensure bfd_close after bfd_openw so we don't get multiple bfd_openw
calls for same file.
@
text
@a0 5
2000-05-24  Alan Modra  <alan@@linuxcare.com.au>

	* objdump.c (display_target_list): Close the bfd.
	(display_info_table): Likewise.

@


1.129.2.8
log
@Eli Zaretskii's DOSish file name patches.
@
text
@a0 39
2000-05-26  Eli Zaretskii  <eliz@@is.elta.co.il>

	* ar.c: Include filenames.h.
	(normalize) [HAVE_DOS_BASED_FILE_SYSTEM]: Support backslashes
	and drive letters in file names.
	(main): Support backslashes and drive letters in argv[0].  Drop
	the .exe suffix, if any, in argv[0] if is_ranlib is negative.  Use
	FILENAME_CMP instead of strcmp to compare file names.
	(open_inarch) [__GO32__]: Don't ifdef errno != ENOENT test for
	DJGPP v2.
	(do_quick_append) [__GO32__]: Ditto.
	(get_pos_bfd, delete_members, move_members, replace_members):
	Compare file names with FILENAME_CMP.

	* bucomm.c: Include filenames.h.
	(make_tempname) [HAVE_DOS_BASED_FILE_SYSTEM]: Support mixed
	forward/backward slashes and drive letters in file names.

	* ieee.c (ieee_start_compilation_unit, ieee_add_bb11): Support
	mixed forward/backward slashes and drive letters in file names.

	* strings.c (O_BINARY, setmode, SET_BINARY): Define.
	(main) [SET_BINARY]: Use SET_BINARY to switch stdin into binary
	mode.

	* objcopy.c: Include filenames.h.
	(main) [HAVE_DOS_BASED_FILE_SYSTEM]: Drop the .exe suffix
	before comparing to "strip".
	Use FILENAME_CMP to compare file names.

	* arsup.c: Include filenames.h.
	(map_over_list, ar_delete, ar_replace, ar_extract): Use
	FILENAME_CMP to compare file names.
	(ar_open): Prepend "tmp-" instead of appending "-tmp", to create
	the temporary file name.

	* configure.in: Check for setmode.
	* configure: Regenerate.

@


1.129.2.9
log
@Fix my inept 2000-05-24 change.
@
text
@a0 5
2000-05-30  Alan Modra  <alan@@linuxcare.com.au>

	* objdump.c (display_target_list): Use bfd_close_all_done, not
	bfd_close to fix crash caused by 2000-05-24 change.

@


1.129.2.10
log
@2000-09-04  Todd Vierling  <tv@@wasabisystems.com>
* strip.1: Fix stray '\' in -o formatting.

Approved by:  Philip Blundell <pb@@tazenda.demon.co.uk>
              Message-Id: <E13UkHe-0003xI-00@@kings-cross.london.uk.eu.org>
@
text
@a0 4
2000-09-04  Todd Vierling  <tv@@wasabisystems.com>

	* strip.1: Fix stray '\' in -o formatting.

@


1.129.2.11
log
@2000-09-05  Todd Vierling <tv@@wasabisystems.com>
	From 2000-08-14  Todd Vierling <tv@@wasabisystems.com>
	* objcopy.c (strip_main): Silently accept -d as an alias for -g
	for compatability with old BSD systems.

Approved by:  Philip Blundell <pb@@tazenda.demon.co.uk>
              Message-Id: <E13W4ea-0002M7-00@@kings-cross.london.uk.eu.org>
@
text
@a0 6
2000-09-05  Todd Vierling <tv@@wasabisystems.com>

	From 2000-08-14  Todd Vierling <tv@@wasabisystems.com>
	* objcopy.c (strip_main): Silently accept -d as an alias for -g
	for compatability with old BSD systems.

@


1.129.2.12
log
@Merge from mainline
@
text
@a0 31
2000-10-14  Philip Blundell  <philb@@gnu.org>

	From 2000-07-01  Alexander Aganichev <AAganichev@@hypercom.com>
	
	* stabs.c (parse_stab_type): Divide size in bits by 8 as binutils
	struct debug_type stores size in bytes.

	From 2000-08-17  Christopher C. Chimelis <chris@@debian.org>

	* objdump.c (LONGEST_ARCH): Set to sizeof("powerpc:common").

	From 2000-07-11  Mark Kettenis  <kettenis@@gnu.org>

	* objdump.c (usage): Make output of `objdump --help' more
	consistent with the rest of the GNU world.  Add a line describing
	the purpose of the program.
	
	From 2000-06-24  Nick Clifton  <nickc@@cygnus.com>

	* objdump.c (usage): Fix description of --stabs switch.

	From 2000-07-18  Nick Clifton  <nickc@@cygnus.com>

	* binutils.texi (readelf): Fix spelling typo.

	From 2000-07-19  Mark Kettenis  <kettenis@@gnu.org>

	* nm.c (usage): Change output of `nm --help' to include a
	description of the purpose of the program and a detailed
	description of the accepted options.

@


1.129.2.13
log
@Merge from mainline
@
text
@a2 40
	* config.sub, config.guess: Update from mainline sources.

	From 2000-09-07  H.J. Lu  <hjl@@gnu.org>

	* configure.in (AC_ISC_POSIX): Put after AC_CANONICAL_SYSTEM.
	* configure: Rebuild.

	From 2000-08-17  Nick Clifton  <nickc@@redhat.com>

	* readelf.c (display_debug_pubnames): Only issue warning
	message once.  Terminate message with a new line.
	(display_debug_aranges): Only display version 2 debug info.
	
	From 2000-07-19  H.J. Lu  <hjl@@gnu.org>

	* readelf.c (get_dynamic_type): Change "AUXILARY" to
	"AUXILIARY".
	(process_dynamic_segment): Print out strings for DT_CONFIG,
	DT_DEPAUDIT, DT_AUDIT and DT_RUNPATH.

	From 2000-07-19  H.J. Lu  <hjl@@gnu.org>

	* readelf.c (process_dynamic_segment): Change DF_1_NODEPLIB
	to DF_1_NODEFLIB.

	From 2000-07-19  H.J. Lu  <hjl@@gnu.org>

	* readelf.c (get_dynamic_type): Fix DT_CHECKSUM.

	From 2000-07-19  H.J. Lu  <hjl@@gnu.org>

	* readelf.c (get_dynamic_type): Change DT_FEATURE_1 to
	DT_FEATURE.
	(process_dynamic_segment): Likewise.

	* readelf.c (get_dynamic_type): Handle DT_CONFIG, DT_DEPAUDIT,
	DT_AUDIT, DT_PLTPAD, DT_MOVETAB and DT_CHECKSUM.
	(process_dynamic_segment): Handle DTF_1_CONFEXP, DF_1_NODEPLIB,
	DF_1_NODUMP and DF_1_CONLFAT.

@


1.129.2.14
log
@Update version numbers.
@
text
@a0 5
2000-10-16  Philip Blundell  <pb@@futuretv.com>

	* configure.in: Set version number to 2.10.1.
	* configure: Regenerate.

@


1.129.2.15
log
@Remove dyn-string
@
text
@a0 10
2000-11-01  Philip Blundell  <philb@@gnu.org>

	From 2000-06-15  H.J. Lu  <hjl@@gnu.org>
	* dyn-string.c: Removed. Not needed with dyn-string.c in
	libiberty.
	* dyn-string.h: Likewise.
	* Makefile.am: Remove references to dyn-string.c and
	dyn-string.h. Rebuild dependency.
	* Makefile.in: Rebuild.

@


1.128
log
@catch out of range string offset in corrupt stab entry
@
text
@d1 4
@


1.127
log
@ATMEL AVR microcontroller support.
@
text
@d1 5
@


1.126
log
@2000-03-09  Tim Waugh  <twaugh@@redhat.com>

	* strings.1: Correct '-bytes' to '--bytes'.
@
text
@d1 5
@


1.125
log
@2000-03-08  H.J. Lu  <hjl@@gnu.org>

	* Makefile.am (install-exec-local): Depend on
	install-binPROGRAMS for parallel make.
	* Makefile.in: Regenerated.
@
text
@d1 4
@


1.124
log
@	From Brad Lucier <lucier@@math.purdue.edu>:
	* readelf.c (process_dynamic_segment): Add cast to make sure
	argument to %* is int.
@
text
@d1 6
@


1.123
log
@2000-02-25  H.J. Lu  <hjl@@gnu.org>

	* configure.in (AC_SEARCH_LIBS): Pass m, not -lm.
@
text
@d1 6
@


1.122
log
@2000-02-25  H.J. Lu  <hjl@@gnu.org>

	* configure.in (AC_SEARCH_LIBS): Pass lm, not -lm.
@
text
@d3 1
a3 1
	* configure.in (AC_SEARCH_LIBS): Pass lm, not -lm.
@


1.121
log
@Add support for WinCE targeted toolchains.
@
text
@d1 4
@


1.120
log
@Teach get_osabi_name about Linux
@
text
@d1 8
@


1.119
log
@Remove use of ELF_ST_OTHER.
@
text
@d1 4
@


1.118
log
@	From Brad Lucier <lucier@@math.purdue.edu>:
	* readelf.c (process_version_sections): Add casts to make sure
	argument to %* is an int.
	(process_mips_specific): Add casts to make printf arguments match
	format.
@
text
@d1 4
@


1.117
log
@This lot mainly cleans up `comparison between signed and unsigned' gcc
warnings.  One usused var, and a macro parenthesis fix too.  Also check
input sections are elf when doing gc in elflink.h.
@
text
@d1 8
@


1.116
log
@* build fix

2000-02-18  Frank Ch. Eigler  <fche@@redhat.com>

	* resrc.c: Remove unmatched #if for cygwin.
@
text
@d1 8
@


1.115
log
@2000-02-14  Fernando Nasser  <fnasser@@totem.to.cygnus.com>

	* binutils.texi: Document the change of flavor name from atpcs-special
	to special-atpcs to prevent name conflict in gdb.
@
text
@d1 4
@


1.114
log
@Fix bug in interlisting option, added --file-start-context option.
@
text
@d1 5
@


1.113
log
@octets vs bytes changes for binutils
@
text
@d1 7
@


1.112
log
@Fix date.
@
text
@d1 6
@


1.111
log
@Apply patch from Thomas de Lellis to allow nm to distinguish between weak
function symbols and weak data symbols.
@
text
@d1 1
a1 1
2000-27-01  Thomas de Lellis  <tdel@@windriver.com>
@


1.110
log
@Add ATPCS support to ARM disassembler.
Document ARM disassembler options.
@
text
@d1 9
@


1.109
log
@Add support for documenting target specific disassembler options
@
text
@d3 3
@


1.108
log
@Most of these changes are really only cosmetic.  The readelf.c patch
fixes a thinko in get_dynamic_flags.  I found at least one message
string that included a `%' being passed to printf in the format
argument.
@
text
@d1 4
@


1.107
log
@Detect ELFOSABI_ARM.
@
text
@d1 10
@


1.106
log
@Correct function return types for new and fussy gcc.
@
text
@d1 4
@


1.105
log
@Fix description of EM_S370.
@
text
@d1 8
@


1.104
log
@Fix mistakes made about interpretation of ELF ABI spec
@
text
@d1 5
@


1.103
log
@Add NT_WIN32PSTATUS to list of recognised core notes
@
text
@d1 4
@


1.102
log
@Apply Mumit Khan's patch to allow temporary file for process interconnection
@
text
@d1 4
@


1.101
log
@Apply Mumit Khan's patch to remove 32 postfix from cygwin and mingw
@
text
@d1 22
@


1.100
log
@Apply Mumit Khan's patch to implement --compat-implib command line switch
@
text
@d10 3
@


1.99
log
@document --disassembler-options=force-thumb
@
text
@d1 9
@


1.98
log
@Add decoding of new constants defined in Oct 4, 1999 draft of ELF ABI spec.
@
text
@d1 5
@


1.97
log
@	* strings.c (main): Correct handling of numeric argument.
@
text
@d1 20
@


1.96
log
@1999-12-23  Andrew Haley  <aph@@cygnus.com>

	* dlltool.c (mtable): mcore how_jtab_roff is 4 bytes into the
	jtab; was 8.
@
text
@d1 4
@


1.95
log
@Fix compile time warnings
@
text
@d1 5
@


1.94
log
@Fix support for native 64bit ELF systems
@
text
@d1 13
@


1.93
log
@Pass -mpacs-26 by default to arm assembler.
Add arm-epoc target support.
Do no mangle null page entries.
@
text
@d1 4
@


1.92
log
@Fix compile time warnings & asupport more than 999 symbols
@
text
@d1 6
@


1.91
log
@Fix displaying 64bit ELF files.
@
text
@d1 5
@


1.90
log
@Applied Fred Fish's patch to fix decoding of core notes.
@
text
@d1 13
@


1.89
log
@Overhaul --help output.
@
text
@d1 10
@


1.88
log
@Overhaul --help output
@
text
@d1 5
@


1.87
log
@Chnage the default endianness for mcore to little
@
text
@d1 12
@


1.86
log
@clip shorts to prevent assembler warnings
@
text
@d5 2
@


1.85
log
@1999-10-27  Fred Fish  <fnf@@cygnus.com>

	* objdump.c (display_bfd): Break into two functions.  The
	actual dumping code moves to dump_bfd.  If bfd is not
	unambiguously recognized as a bfd_object, attempt to dump
	it as a bfd_core.
	(dump_bfd): New function.
@
text
@d1 5
@


1.84
log
@Remove spurious test of exp_name
@
text
@d1 8
@


1.83
log
@Add default assembler switchhes on a per machine basis.
Use machine target type when opening output bfd files.
@
text
@d1 4
@


1.82
log
@	* ar.c (normalize): Fix full_pathname code.
@
text
@d1 23
@


1.81
log
@1999-10-08  Ben Elliston  <bje@@cygnus.com>

        * binutils.texi: Some rewording and clarifications.
@
text
@d1 4
@


1.80
log
@1999-09-15  Ulrich Drepper  <drepper@@cygnus.com>

	* readelf.c (dynamic_segment_parisc_val): Print 0 for DLD_FLAGS if
	the value is zero.
	(process_symbol_table): Don't print histogram if hash table is empty.

1999-09-15  Ulrich Drepper  <drepper@@cygnus.com>

	* readelf.c (get_parisc_dynamic_type): Handle DT_HP_GST_* values.

1999-09-02  Ulrich Drepper  <drepper@@cygnus.com>

	* readelf.c (get_symbol_type): Add support for HPUX and PARISC
	specific symbol types.

	* readelf.c: Add HPUX and PARISC extensions to dynamic and program
	header table printing.

	* readelf.c (get_machine_flags): Add handling of PARISC.
@
text
@d1 4
@


1.79
log
@* dlltool.c (scan_drectve_symbols): Handle type tags in exported
symbols.
(scan_filtered_symbols): Likewise.
@
text
@d1 20
d23 3
a25 3
        * dlltool.c (scan_drectve_symbols): Handle type tags in exported
        symbols.
        (scan_filtered_symbols): Likewise.
d140 1
a140 1
	adv by info.li_min_insn_length. 
d159 1
a159 1
	necessary. 
d322 1
a322 1
	functions. 
d332 1
a332 1
	
d420 1
a420 1
	file names. 
d491 1
a491 1
	pass to linker). 
d511 1
a511 1
	
d563 1
a563 1
 
d566 1
a566 1
 
d632 1
a632 1
	decodes. 
@


1.78
log
@	* resrc.c (write_rc_rcdata): Fix local variable shadowing
	problem.  If RCDATA_BUFFER data can be read as strings, modify
	code to print the strings as comments.
	* resres.c: Add casts to avoid warnings.
	(write_res_data, read_res_data): Don't put the program name in the
	error message; fatal already puts it there.
@
text
@d1 6
@


1.77
log
@Fix problem with going to automake 2.14
@
text
@d1 9
@


1.76
log
@	* ar.c (main): Clear output_file if we don't change the archive.
	(delete_members, replace_members): Likewise.
@
text
@d1 7
@


1.75
log
@1999-09-12  Donn Terry  <donn@@interix.com>

	* objdump.c (dump_headers): If wide_output, print Flags header.
@
text
@d1 5
@


1.74
log
@1999-09-12  Donn Terry  <donn@@interix.com>

	* objdump.c (dump_section_header): Print any comdat information.
@
text
@d3 2
@


1.73
log
@1999-09-12  Donn Terry  <donn@@interix.com>

	* objcopy.c (parse_flags): Handle "noload", "debug", and "share".
	* binutils.texi, objcopy.1: Document new flags.
@
text
@d3 2
@


1.72
log
@1999-09-12  Donn Terry  <donn@@interix.com>

	* ar.c (counted_name_mode): New static variable.
	(counted_name_counter): New static variable.
	(map_over_members): Handle counted mode.
	(usage): Mention N modifier.
	(main): Handle N modifier.
	(delete_members): Handle counted mode.
	* binutils.texi, ar.1: Document N modifier.
@
text
@d3 3
@


1.71
log
@1999-09-12  Donn Terry  <donn@@interix.com>

	* ar.c (print_contents): Change printing of member name for
	POSIX.2 conformance.
@
text
@d3 8
d25 1
@


1.70
log
@1999-09-12  Donn Terry  <donn@@interix.com>

	* ar.c (output_filename): Make const.
	(open_inarch): If creating a new empty archive, set
	output_filename.
@
text
@d3 3
@


1.69
log
@	* ar.c (full_pathname): New static variable.
	(map_over_members): Call normalize on command line parameter.
	(usage): Mention P modifier.
	(normalize): If full_pathname is true, don't do anything.
	(main): Accept P modifier.
	* binutils.texi, ar.1: Document P modifier.
@
text
@d1 6
@


1.68
log
@	* binutils.texi: Add info dir entries for all programs described
	here.  Fix arguments of @@var to not contain punctuation.
@
text
@d1 9
@


1.67
log
@1999-09-06  Donn Terry  <donn@@interix.com>

	* nm.c (print_symbol_info_bsd): Check for 'w' as well as 'U'.
	(print_symbol_info_sysv): Likewise.
	(print_symbol_info_posix): Likewise.
@
text
@d1 5
@


1.66
log
@1999-09-04  Steve Chamberlain  <sac@@pobox.com>

	* readelf.c: Include "elf/pj.h".
	(dump_relocations): Handle EM_PJ.
	(get_machine_name): Likewise.
	(get_machine_flags): Likewise.
@
text
@d1 6
@


1.65
log
@fix typo.
@
text
@d1 7
@


1.64
log
@ooops - omitted from previous delta
@
text
@d9 1
a9 1
	(process_arch_specific): Add call to process_corefile_contents.
@


1.63
log
@Apply patch from Scott Bambrough to display the contents of a NOTES segment
in a core file.
@
text
@d13 2
@


1.62
log
@	* binutils.texi (Bug Reporting): Clarify that large files should
	not be sent to bug-gnu-utils.
@
text
@d1 12
@


1.61
log
@Applied patch from Stephane Carrez  <stcarrez@@worldnet.fr> to fix pointer size assumption.
@
text
@d1 5
@


1.60
log
@Patch from Jim Wilson - more bug fixes for line table decoding.
@
text
@d1 11
@


1.59
log
@(display_debug_lines, case DW_LNS_const_add_pc): Multiply adv by info.li_min_insn_length.
@
text
@d3 7
@


1.58
log
@        * readelf.c (get_sparc64_dynamic_type): New function.
        (get_dynamic_type): Use it.
@
text
@d1 5
@


1.57
log
@(display_debug_lines, case default): Change second line setting adv to use = not +=
@
text
@d1 5
@


1.56
log
@extend comment.
@
text
@d1 5
@


1.55
log
@only emit -mthumb-interowrk directive if really necessary.
@
text
@d1 4
@


1.54
log
@Hans-Peter Nilsson  <hp@@bitrange.com>

	* readelf.c (process_abbrev_section): Handle standard-conforming
	single zero at the end of the section.
@
text
@d1 5
@


1.53
log
@	* objdump.c (exit_status): New static variable.
	(nonfatal): New static function.
	(disassemble_data): Set exit_status on error.
	(read_section_stabs): Likewise.
	(display_bfd): Likewise.  Call nonfatal rather than bfd_nonfatal.
	(display_file): Call nonfatal rather than bfd_nonfatal.
	(display_target_list, display_info_table): Likewise.
	(main): Return exit_status rather than 0.
@
text
@d1 5
@


1.52
log
@	* objdump.c (dump_section_header): Update for renaming of
	SEC_SHORT to SEC_SMALL_DATA.  Print SEC_SHARED flag.
@
text
@d1 11
@


1.51
log
@	From Eli Zaretskii <eliz@@gnu.org>:
	* binutils.texi: Document cxxfilt as MS-DOS name for c++filt.
@
text
@d3 3
@


1.50
log
@	* configure.in: Define and substitute DEMANGLER_NAME.
	* Makefile.am (DEMANGLER_PROG): Set to cxxfilt.
	(man_MANS): Use DEMANGLER_NAME rather than DEMANGLER_PROG.
	(bin_PROGRAMS): Remove $(DEMANGLER_PROG).
	(noinst_PROGRAMS): Add $(DEMANGLER_PROG).
	(cxxfilt_SOURCES): Rename from c__filt_SOURCES.
	(cxxfilt_LDADD): Rename from c__filt_LDADD.
	($(DEMANGLER_NAME).1): Rename from $(DEMANGLER_PROG).1.  Use
	DEMANGLER_NAME rather than DEMANGLER_PROG in substitution.
	(MOSTLYCLEANFILES): Use DEMANGLER_NAME rather than
	DEMANGLER_PROG.
	(install-exec-local): When installing noinst_PROGRAMS, change
	cxxfilt to $(DEMANGLER_NAME).
	* configure, Makefile.in: Rebuild.
@
text
@d3 3
@


1.49
log
@	* Makefile.am: Rename .dep* files to DEP*.  Change DEP variable to
	MKDEP.
	* Makefile.in: Rebuild.
@
text
@d3 15
@


1.48
log
@1999-08-05  Donn Terry  <donn@@interix.com>

	* Makefile.am (YACC): If bison is not in the source tree, use
	@@YACC@@ rather than bison -y.
	(LEX): If flex is not in the source tree, use @@LEX@@ rather than
	flex.
	* configure.in: Build dlltool for i[3-6]86-*-interix.
	* Makefile.in, configure: Rebuild.
@
text
@d1 6
@


1.47
log
@	From Mark Elbrecht:
	* configure.bat: Remove; obsolete.
@
text
@d1 9
@


1.46
log
@Jakub Jelinek  <jj@@ultra.linux.cz>

        * readelf.c (get_machine_flags): Print EF_SPARC_SUN_US3.
@
text
@d1 5
@


1.45
log
@	* configure.in: Bump version number to 2.9.5.
	* configure: Rebuild.
@
text
@d1 4
@


1.44
log
@        * objdump.c (dump_section_header): Print SEC_SHORT.
@
text
@d1 5
@


1.43
log
@	* Many files: Changes to avoid gcc warnings: Add ATTRIBUTE_UNUSED
	as appropriate.  Add variable initializations.  Add casts.
	* objdump.c (disassemble_bytes): Change j to bfd_vma.
	* readelf.c (process_syminfo): Change i to unsigned int.
	(display_debug_info): Change abbrev_number to unsigned long.
	(process_mips_specific): Change fcnt to size_t.
@
text
@d1 4
@


1.42
log
@Only decode 64bit ELF files if the host compiler supports a 64bit data type.
@
text
@d1 9
@


1.41
log
@Jakub Jelinek  <jj@@ultra.linux.cz>
        * readelf.c (guess_is_rela): Sparcv9 and v8plus use rela.
        (dump_relocations): Use ELF64_R_TYPE_ID for Sparc, for R_SPARC_OLO10
        print the secondary addend.
        (get_machine_flags): Print Sparc machine flags.
        (get_symbol_type): Print STT_REGISTER.
@
text
@d1 7
@


1.40
log
@	* stabs.c (parse_stab_type): Fix handling of template names with
	template parameters containing `::'.
	(stab_demangle_type): Handle a qualified name in a pointer to
	member.
@
text
@d1 8
@


1.39
log
@	* Makefile.am (dlltool_SOURCES): Add dyn-string.c.
	* Makefile.in: Rebuild.
@
text
@d1 7
@


1.38
log
@1999-06-23  Mumit Khan  <khan@@xraylith.wisc.edu>
	* configure.in (HAVE_EXECUTABLE_SUFFIX): Define.
	* dlltool.c (look_for_prog): Use HAVE_EXECUTABLE_SUFFIX.
	* dllwrap.c (look_for_prog): Likewise.
	* resrc.c (look_for_default): Likewise.
	* configure, config.in: Rebuild.
@
text
@d1 5
@


1.37
log
@	Based on patches from Mumit Khan <khan@@xraylith.wisc.EDU>:
	* configure.in: Define EXECUTABLE_SUFFIX.
	* dlltool.c: Include "dyn-string.h".  Include <stdarg.h> based on
	ANSI_PROTOTYPES, not __STDC__.
	(outfile): Remove.
	(gen_exp_file): Change uses of outfile to use alloca.
	(make_one_lib_file, make_head, make_tail): Likewise.
	(gen_lib_file): Likewise.
	(look_for_prog): New static function.
	(deduce_name): Rewrite to use look_for_prog.
	(mcore_elf_gen_out_file): Use dyn_string_t rather than outfile.
	* dllwrap.c: Don't include <stdio.h>, <errno.h>, <string.h>,
	<stdlib.h>, or <unistd.h>.  Include <sys/stat.h> and either
	<stdarg.h> or <varargs.h>.
	(driver_name): Initialize to NULL, not "gcc".
	(dlltool_name): Initialize to NULL, not "dlltool".
	(display, inform, look_for_prog, deduce_name): New static
	functions.
	(usage): Mention -mno-cygwin.
	(OPTION_MNO_CYGWIN): Define.
	(main): Handle -mno-cygwin.  Deduce driver_name and dlltool_name.
	* resrc.c (look_for_default): Make static.  Remove unused local
	path.  Check using EXECUTABLE_SUFFIX.
	(read_rc_file): Allocate enough space to hold EXECUTABLE_SUFFIX.
	* Makefile.am: Rebuild dependencies.
	(dllwrap_LDADD): Add $(INTLLIBS).
	* configure, Makefile.in, config.in: Rebuild.
@
text
@d1 8
@


1.36
log
@m
        * readelf.c (dump_relocations): Use elf_hppa_reloc_type instead of
        elf32_hppa_reloc_type.
@
text
@d1 30
@


1.35
log
@Link object files with the .exp file, not the .lib file
@
text
@d1 5
@


1.34
log
@* deflex.l: Accept single-character symbol names.
@
text
@d1 5
@


1.33
log
@Detect symbols typed as thumb functions.
@
text
@d1 4
@


1.32
log
@Add -M command line switch to objdump - text of switch is passed on to disassembler
Add support for register name set selection ot ARM disassembler.
@
text
@d1 5
@


1.31
log
@Fix typos.
@
text
@d1 14
@


1.30
log
@	* objdump.c (disassemble_bytes): If the disassembler returns an
	error, print out anything it may have printed to the buffer.  From
	H.J. Lu <hjl@@gnu.org>.
@
text
@d1 4
@


1.29
log
@	* defparse.y (explist): Remove separate expline to eliminate
	shift/reduce conflict.
	From Kai-Uwe Rommel <rommel@@ars.de>:
	* defparse.y: Add tokens NONSHARED, SINGLE, MULTIPLE,
	INITINSTANCE, INITGLOBAL, TERMINSTANCE, and TERMGLOBAL.
	(command): Add option_list after LIBRARY.
	(attr): Accept and ignore NONSHARED, SINGLE, and MULTIPLE.
	(option_list, option): New nonterminals.
	* deflex.l: Recognize NONSHARED, SINGLE, MULTIPLE, INITINSTANCE,
	INITGLOBAL, TERMINSTANCE, and TERMGLOBAL.
@
text
@d3 4
@


1.28
log
@	* ar.c (O_BINARY): Define as 0 if not defined.
	(ranlib_touch): Open file with O_BINARY.
@
text
@d1 14
@


1.27
log
@	* rename.c (O_BINARY): Define as 0 if not defined.
	(simple_copy): Open files with O_BINARY.
@
text
@d3 3
@


1.26
log
@	Based on patch from H. Peter Anvin <hpa@@transmeta.com>:
	* objcopy.c (struct section_list): Add copy field.
	(sections_copied): New static variable.
	(copy_options): Add "only-section".
	(copy_usage): Mention -j and --only-section.
	(find_section_list): Initialize copy field.
	(is_strip_section): Check for copying sections.
	(copy_object): Check sections_copied when calling filter_symbols.
	(setup_section): Check for copying sections.
	(copy_section): Likewise.
	(copy_main): Handle -j/--only-section.
	* binutils.texi, objcopy.1: Document -j/--only-section.
@
text
@d3 3
@


1.25
log
@	* configure.in: If frexp is not available, check in -lm.
	* configure: Rebuild.
@
text
@d3 13
@


1.24
log
@	* readelf.c (get_elf_class): Use correct printf format for type.
	(get_data_encoding): Likewise.
	(get_osabi_name): Likewise.
	(process_file_header): Don't pass an extra argument to printf.
	(process_dynamic_segment): Cast dynamic_size to long before
	printing.
	(decode_location_expression): Cast byte_get to long before
	printing.
@
text
@d3 3
@


1.23
log
@	* readelf.c (dump_section): Cast bfd_vma values to [unsigned] long
	for printing, in case it is wider than long.
	(display_block): Likewise.
	(read_and_display_attr): Likewise.
	(decode_location_expression): Likewise.  Don't depend on
	evaluation order.
@
text
@d1 11
@


1.22
log
@	* windres.c (usage): Fix typo.
@
text
@d1 9
@


1.21
log
@Use 64bit wide values in internal fields.
Check symbol index against number of symbols when displaying relocations
@
text
@d1 4
@


1.20
log
@Add support for 64 bit ELF files.
@
text
@d3 7
@


1.19
log
@Use macros to hold names of temporary files.
@
text
@d1 4
@


1.18
log
@* dlltool.c (gen_exp_file): Revert 19990411 change.
@
text
@d1 5
@


1.17
log
@	* readelf.c (process_relocs): Determine type of reloc from
	DT_PLTREL and from section type.
@
text
@d1 4
@


1.16
log
@Display unknown values detected in ELF program header.
@
text
@d1 5
@


1.15
log
@fix typo.
@
text
@d3 7
@


1.14
log
@Better coping with different reloc types.
@
text
@d1 4
@


1.13
log
@	* readelf.c: Include "elf/i960.h".
	(dump_relocations): Handle EM_960.
@
text
@d1 10
@


1.12
log
@	* objcopy.c (copy_archive): Preserve dates of archive members if
	requested.
@
text
@d1 5
@


1.11
log
@	* readelf.c (dump_relocations): Always print the addend on RELA
	systems even if there is no symbol.
	(process_program_headers): Reset dynamic_size before looping
	through the program headers.
	(process_version_sections): Cast sh_offset to unsigned long for
	printing in case bfd_vma is wider.
	(process_symbol_table): Use get_symbol_index_type when printing
	st_shndx.
@
text
@d3 3
@


1.10
log
@* windres.c: add verbose option
(main): process verbose option
* resrc.c (look_for_default): new.  Look for the default
preprocessor in a given location.
(read_rc_file): for foo/bar-windres, look for foo/bar-gcc,
foo/gcc (in case of foo/windres), and then gcc (the old default).
@
text
@d1 11
@


1.9
log
@Add support for generating an mcore-elf dll.
@
text
@d1 9
@


1.8
log
@Add support for mcore to dlltool.
@
text
@d1 16
@


1.7
log
@	* rclex.l: add code to suppress certain output from cpp, replace
	all returns with MAYBE_RETURN
	(MAYBE_RETURN): new, implement the suppression by returning
	IGNORED_TOKEN as needed.
	(cpp_line): remember which file we're in, mark data from included
	*.h files for suppression.
	* rcparse.y (input): allow IGNORED_TOKEN outside of known constructs
@
text
@d1 16
@


1.6
log
@1999-05-10  DJ Delorie  <dj@@cygnus.com>
	* windres.c (quot): Quote shell metacharacters in a string
	(main): quote parameters to cpp that might have metacharacters in
	them.  Allow -D as an alias for --define to allow for sharing make
	macros with gcc.
	* objdump.c (dump_reloc_set): don't core if howto->name is NULL
	* Makefile.am: Give rescoff.c a cpu-specific -D so it can set
	the correct BFD.
	* Makefile.in: ditto
	* rescoff.c (write_coff_file): Set the correct BFD
@
text
@d1 10
@


1.5
log
@	* rename.c (smart_rename): Fix test of whether file exists.
@
text
@d1 14
@


1.4
log
@Set display_endian based on target endianism.
@
text
@d1 4
@


1.3
log
@        * dlltool.c (interwork): Remove.
        (arm_interwork_jtab): Use bx insn.
        (thumb_jtab): Likewise.
        (MARM_INTERWORK): New machine type.
        (rvaafter): Handle it.
        (rvabefore) Likewise.
        (asm_prefix): Likewise.
        (gen_exp_type): Check machine type instead of
        interwork flag.
        (make_one_lib_file): Likewise.
        (make_head): Likewise.
        (make_tail): Likewise.
        (usage): Update machine types.
        (main): Remove -interwork support.
@
text
@d1 5
@


1.2
log
@       * readelf.c (get_machine_flags):  Check for EF_CPU32.
        (get_data_encoding): Fix typo.
@
text
@d2 17
@


1.1
log
@Initial revision
@
text
@d1 5
@


1.1.1.1
log
@19990502 sourceware import
@
text
@@

