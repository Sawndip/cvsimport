head	1.118;
access;
symbols
	binutils-2_24-branch:1.118.0.2
	binutils-2_24-branchpoint:1.118
	binutils-2_21_1:1.100.2.1
	binutils-2_23_2:1.111.2.2
	binutils-2_23_1:1.111.2.2
	binutils-2_23:1.111
	binutils-2_23-branch:1.111.0.2
	binutils-2_23-branchpoint:1.111
	binutils-2_22_branch:1.103.0.4
	binutils-2_22:1.103
	binutils-2_22-branch:1.103.0.2
	binutils-2_22-branchpoint:1.103
	binutils-2_21:1.100
	binutils-2_21-branch:1.100.0.2
	binutils-2_21-branchpoint:1.100
	binutils-2_20_1:1.96
	binutils-2_20:1.96
	binutils-arc-20081103-branch:1.89.0.4
	binutils-arc-20081103-branchpoint:1.89
	binutils-2_20-branch:1.96.0.4
	binutils-2_20-branchpoint:1.96
	dje-cgen-play1-branch:1.96.0.2
	dje-cgen-play1-branchpoint:1.96
	arc-20081103-branch:1.89.0.2
	arc-20081103-branchpoint:1.89
	binutils-2_19_1:1.87
	binutils-2_19:1.87
	binutils-2_19-branch:1.87.0.2
	binutils-2_19-branchpoint:1.87
	binutils-2_18:1.81
	binutils-2_18-branch:1.81.0.2
	binutils-2_18-branchpoint:1.81
	binutils-csl-coldfire-4_1-32:1.60.2.4
	binutils-csl-sourcerygxx-4_1-32:1.60.2.4
	binutils-csl-innovasic-fido-3_4_4-33:1.60.2.4
	binutils-csl-sourcerygxx-3_4_4-32:1.45.2.1
	binutils-csl-coldfire-4_1-30:1.60.2.4
	binutils-csl-sourcerygxx-4_1-30:1.60.2.4
	binutils-csl-coldfire-4_1-28:1.60.2.4
	binutils-csl-sourcerygxx-4_1-29:1.60.2.4
	binutils-csl-sourcerygxx-4_1-28:1.60.2.4
	binutils-csl-arm-2006q3-27:1.60.2.3
	binutils-csl-sourcerygxx-4_1-27:1.60.2.3
	binutils-csl-arm-2006q3-26:1.60.2.3
	binutils-csl-sourcerygxx-4_1-26:1.60.2.3
	binutils-csl-sourcerygxx-4_1-25:1.60.2.3
	binutils-csl-sourcerygxx-4_1-24:1.60.2.2
	binutils-csl-sourcerygxx-4_1-23:1.60.2.2
	binutils-csl-sourcerygxx-4_1-21:1.60.2.2
	binutils-csl-arm-2006q3-21:1.60.2.2
	binutils-csl-sourcerygxx-4_1-22:1.60.2.2
	binutils-csl-palmsource-arm-prelinker-1_0-1:1.60.2.2
	binutils-csl-sourcerygxx-4_1-20:1.60.2.2
	binutils-csl-arm-2006q3-19:1.60.2.2
	binutils-csl-sourcerygxx-4_1-19:1.60.2.2
	binutils-csl-sourcerygxx-4_1-18:1.60.2.2
	binutils-csl-renesas-4_1-9:1.60.2.2
	binutils-csl-sourcerygxx-3_4_4-25:1.45.2.1
	binutils-csl-renesas-4_1-8:1.60.2.2
	binutils-csl-renesas-4_1-7:1.60.2.2
	binutils-csl-renesas-4_1-6:1.60.2.2
	binutils-csl-sourcerygxx-4_1-17:1.60.2.2
	binutils-csl-sourcerygxx-4_1-14:1.60.2.1
	binutils-csl-sourcerygxx-4_1-15:1.60.2.1
	binutils-csl-sourcerygxx-4_1-13:1.60.2.1
	binutils-2_17:1.61
	binutils-csl-sourcerygxx-4_1-12:1.60.2.1
	binutils-csl-sourcerygxx-3_4_4-21:1.60.2.1
	binutils-csl-wrs-linux-3_4_4-24:1.45.2.1
	binutils-csl-wrs-linux-3_4_4-23:1.45.2.1
	binutils-csl-sourcerygxx-4_1-9:1.60.2.1
	binutils-csl-sourcerygxx-4_1-8:1.60.2.1
	binutils-csl-sourcerygxx-4_1-7:1.60.2.1
	binutils-csl-arm-2006q1-6:1.60.2.1
	binutils-csl-sourcerygxx-4_1-6:1.60.2.1
	binutils-csl-wrs-linux-3_4_4-22:1.45.2.1
	binutils-csl-coldfire-4_1-11:1.60.2.1
	binutils-csl-sourcerygxx-3_4_4-19:1.60.2.1
	binutils-csl-coldfire-4_1-10:1.60.2.1
	binutils-csl-sourcerygxx-4_1-5:1.60.2.1
	binutils-csl-sourcerygxx-4_1-4:1.60.2.1
	binutils-csl-wrs-linux-3_4_4-21:1.45.2.1
	binutils-csl-morpho-4_1-4:1.60.2.1
	binutils-csl-sourcerygxx-3_4_4-17:1.60.2.1
	binutils-csl-wrs-linux-3_4_4-20:1.45.2.1
	binutils-2_17-branch:1.61.0.2
	binutils-2_17-branchpoint:1.61
	binutils-csl-2_17-branch:1.60.0.2
	binutils-csl-2_17-branchpoint:1.60
	binutils-csl-gxxpro-3_4-branch:1.45.2.1.0.4
	binutils-csl-gxxpro-3_4-branchpoint:1.45.2.1
	binutils-2_16_1:1.45.2.1
	binutils-csl-arm-2005q1b:1.45.2.1
	binutils-2_16:1.45.2.1
	binutils-csl-arm-2005q1a:1.45.2.1
	binutils-csl-arm-2005q1-branch:1.45.2.1.0.2
	binutils-csl-arm-2005q1-branchpoint:1.45.2.1
	binutils-2_16-branch:1.45.0.2
	binutils-2_16-branchpoint:1.45
	csl-arm-2004-q3d:1.44
	csl-arm-2004-q3:1.43
	binutils-2_15:1.43
	binutils-2_15-branchpoint:1.43
	csl-arm-2004-q1a:1.43
	csl-arm-2004-q1:1.43
	binutils-2_15-branch:1.43.0.6
	cagney_bfdfile-20040213-branch:1.43.0.4
	cagney_bfdfile-20040213-branchpoint:1.43
	cagney_bigcore-20040122-branch:1.43.0.2
	cagney_bigcore-20040122-branchpoint:1.43
	csl-arm-2003-q4:1.42
	binutils-2_14:1.40.2.1
	binutils-2_14-branch:1.40.0.2
	binutils-2_14-branchpoint:1.40
	binutils-2_13_2_1:1.34.2.1
	binutils-2_13_2:1.34.2.1
	binutils-2_13_1:1.34.2.1
	binutils-2_13:1.34
	binutils-2_13-branchpoint:1.34
	binutils-2_13-branch:1.34.0.2
	binutils-2_12_1:1.28.2.1
	binutils-2_12:1.28
	binutils-2_12-branch:1.28.0.2
	binutils-2_12-branchpoint:1.28
	cygnus_cvs_20020108_pre:1.27
	binutils-2_11_2:1.19.2.4
	binutils-2_11_1:1.19.2.4
	binutils-2_11:1.19.2.2
	x86_64versiong3:1.21
	binutils-2_11-branch:1.19.0.2
	binutils-2_10_1:1.12.2.4
	binutils-2_10:1.12.2.2
	binutils-2_10-branch:1.12.0.2
	binutils-2_10-branchpoint:1.12
	binutils_latest_snapshot:1.118
	repo-unification-2000-02-06:1.9
	binu_ss_19990721:1.6
	binu_ss_19990602:1.2
	binu_ss_19990502:1.1.1.1
	cygnus:1.1.1;
locks; strict;
comment	@# @;


1.118
date	2013.04.05.04.13.41;	author amodra;	state Exp;
branches;
next	1.117;

1.117
date	2013.03.05.11.52.12;	author corinna;	state Exp;
branches;
next	1.116;

1.116
date	2012.12.17.16.55.39;	author nickc;	state Exp;
branches;
next	1.115;

1.115
date	2012.11.05.12.26.11;	author amodra;	state Exp;
branches;
next	1.114;

1.114
date	2012.10.30.12.44.54;	author nickc;	state Exp;
branches;
next	1.113;

1.113
date	2012.10.26.15.27.18;	author nickc;	state Exp;
branches;
next	1.112;

1.112
date	2012.07.27.16.30.54;	author vapier;	state Exp;
branches;
next	1.111;

1.111
date	2012.05.17.15.13.28;	author nickc;	state Exp;
branches
	1.111.2.1;
next	1.110;

1.110
date	2012.05.11.14.25.29;	author nickc;	state Exp;
branches;
next	1.109;

1.109
date	2012.05.02.14.51.05;	author nickc;	state Exp;
branches;
next	1.108;

1.108
date	2012.04.06.16.48.56;	author roland;	state Exp;
branches;
next	1.107;

1.107
date	2012.04.05.08.43.39;	author nickc;	state Exp;
branches;
next	1.106;

1.106
date	2012.01.10.00.02.45;	author roland;	state Exp;
branches;
next	1.105;

1.105
date	2011.12.21.19.39.11;	author roland;	state Exp;
branches;
next	1.104;

1.104
date	2011.12.13.09.13.15;	author gingold;	state Exp;
branches;
next	1.103;

1.103
date	2011.05.31.08.54.46;	author amodra;	state Exp;
branches;
next	1.102;

1.102
date	2011.05.16.12.22.12;	author gingold;	state Exp;
branches;
next	1.101;

1.101
date	2011.04.06.17.09.50;	author jsm28;	state Exp;
branches;
next	1.100;

1.100
date	2010.04.22.14.37.05;	author nickc;	state Exp;
branches
	1.100.2.1;
next	1.99;

1.99
date	2009.11.11.04.54.32;	author jkratoch;	state Exp;
branches;
next	1.98;

1.98
date	2009.11.11.04.42.35;	author jkratoch;	state Exp;
branches;
next	1.97;

1.97
date	2009.09.28.12.48.16;	author amodra;	state Exp;
branches;
next	1.96;

1.96
date	2009.06.18.02.11.02;	author davek;	state Exp;
branches;
next	1.95;

1.95
date	2009.05.27.16.29.53;	author nickc;	state Exp;
branches;
next	1.94;

1.94
date	2009.05.26.14.12.03;	author nickc;	state Exp;
branches;
next	1.93;

1.93
date	2009.03.31.08.08.33;	author nickc;	state Exp;
branches;
next	1.92;

1.92
date	2009.03.14.09.11.38;	author rsandifo;	state Exp;
branches;
next	1.91;

1.91
date	2009.02.03.15.53.59;	author jsm28;	state Exp;
branches;
next	1.90;

1.90
date	2009.01.16.08.02.26;	author amodra;	state Exp;
branches;
next	1.89;

1.89
date	2008.10.31.02.52.14;	author amodra;	state Exp;
branches;
next	1.88;

1.88
date	2008.09.11.19.02.01;	author jkratoch;	state Exp;
branches;
next	1.87;

1.87
date	2008.08.24.03.13.05;	author amodra;	state Exp;
branches;
next	1.86;

1.86
date	2008.08.15.08.31.47;	author amodra;	state Exp;
branches;
next	1.85;

1.85
date	2008.07.10.01.32.23;	author csilvers;	state Exp;
branches;
next	1.84;

1.84
date	2007.10.16.16.05.41;	author nickc;	state Exp;
branches;
next	1.83;

1.83
date	2007.08.31.10.32.42;	author nickc;	state Exp;
branches;
next	1.82;

1.82
date	2007.08.24.15.37.37;	author drow;	state Exp;
branches;
next	1.81;

1.81
date	2007.07.16.10.11.01;	author nickc;	state Exp;
branches;
next	1.80;

1.80
date	2007.06.19.13.24.33;	author nickc;	state Exp;
branches;
next	1.79;

1.79
date	2007.06.05.13.10.29;	author nickc;	state Exp;
branches;
next	1.78;

1.78
date	2007.04.14.20.38.13;	author sje;	state Exp;
branches;
next	1.77;

1.77
date	2007.03.15.14.17.16;	author hjl;	state Exp;
branches;
next	1.76;

1.76
date	2007.03.07.22.49.59;	author jsm28;	state Exp;
branches;
next	1.75;

1.75
date	2007.02.28.01.29.32;	author amodra;	state Exp;
branches;
next	1.74;

1.74
date	2007.02.27.08.31.45;	author amodra;	state Exp;
branches;
next	1.73;

1.73
date	2007.02.17.13.33.54;	author jsm28;	state Exp;
branches;
next	1.72;

1.72
date	2007.02.05.19.56.32;	author brolley;	state Exp;
branches;
next	1.71;

1.71
date	2007.02.02.13.59.54;	author hjl;	state Exp;
branches;
next	1.70;

1.70
date	2007.01.11.06.24.40;	author amodra;	state Exp;
branches;
next	1.69;

1.69
date	2007.01.08.17.21.49;	author nickc;	state Exp;
branches;
next	1.68;

1.68
date	2006.12.11.15.09.41;	author drow;	state Exp;
branches;
next	1.67;

1.67
date	2006.10.29.19.07.54;	author hjl;	state Exp;
branches;
next	1.66;

1.66
date	2006.10.13.09.43.29;	author nickc;	state Exp;
branches;
next	1.65;

1.65
date	2006.09.25.23.37.12;	author ths;	state Exp;
branches;
next	1.64;

1.64
date	2006.09.20.11.35.11;	author nickc;	state Exp;
branches;
next	1.63;

1.63
date	2006.08.21.08.12.45;	author nickc;	state Exp;
branches;
next	1.62;

1.62
date	2006.05.31.15.14.35;	author drow;	state Exp;
branches;
next	1.61;

1.61
date	2006.04.06.21.49.29;	author carlos;	state Exp;
branches;
next	1.60;

1.60
date	2006.02.09.11.49.53;	author ebotcazou;	state Exp;
branches
	1.60.2.1;
next	1.59;

1.59
date	2006.01.26.14.43.55;	author nickc;	state Exp;
branches;
next	1.58;

1.58
date	2006.01.17.17.39.20;	author schwab;	state Exp;
branches;
next	1.57;

1.57
date	2005.11.30.21.02.04;	author nickc;	state Exp;
branches;
next	1.56;

1.56
date	2005.08.16.19.35.22;	author hjl;	state Exp;
branches;
next	1.55;

1.55
date	2005.07.01.15.19.47;	author sje;	state Exp;
branches;
next	1.54;

1.54
date	2005.06.03.21.33.48;	author wilson;	state Exp;
branches;
next	1.53;

1.53
date	2005.06.03.13.22.13;	author nickc;	state Exp;
branches;
next	1.52;

1.52
date	2005.05.15.18.19.38;	author drow;	state Exp;
branches;
next	1.51;

1.51
date	2005.04.14.05.26.27;	author amodra;	state Exp;
branches;
next	1.50;

1.50
date	2005.04.06.14.45.54;	author hjl;	state Exp;
branches;
next	1.49;

1.49
date	2005.03.31.14.40.41;	author nickc;	state Exp;
branches;
next	1.48;

1.48
date	2005.03.16.17.18.15;	author nickc;	state Exp;
branches;
next	1.47;

1.47
date	2005.03.16.16.17.03;	author nickc;	state Exp;
branches;
next	1.46;

1.46
date	2005.03.10.10.39.28;	author nickc;	state Exp;
branches;
next	1.45;

1.45
date	2005.01.10.09.54.50;	author schwab;	state Exp;
branches
	1.45.2.1;
next	1.44;

1.44
date	2004.10.13.14.33.51;	author jakub;	state Exp;
branches;
next	1.43;

1.43
date	2004.01.02.17.08.04;	author nickc;	state Exp;
branches;
next	1.42;

1.42
date	2003.05.16.16.30.26;	author nickc;	state Exp;
branches;
next	1.41;

1.41
date	2003.05.12.11.06.42;	author nickc;	state Exp;
branches;
next	1.40;

1.40
date	2003.04.09.05.14.35;	author amodra;	state Exp;
branches
	1.40.2.1;
next	1.39;

1.39
date	2003.04.01.10.52.43;	author nickc;	state Exp;
branches;
next	1.38;

1.38
date	2002.12.05.18.33.27;	author wilson;	state Exp;
branches;
next	1.37;

1.37
date	2002.11.07.08.45.24;	author nickc;	state Exp;
branches;
next	1.36;

1.36
date	2002.10.23.14.49.07;	author nickc;	state Exp;
branches;
next	1.35;

1.35
date	2002.09.17.07.09.46;	author zack;	state Exp;
branches;
next	1.34;

1.34
date	2002.06.21.02.41.51;	author amodra;	state Exp;
branches
	1.34.2.1;
next	1.33;

1.33
date	2002.06.21.02.34.37;	author amodra;	state Exp;
branches;
next	1.32;

1.32
date	2002.05.27.15.15.46;	author nickc;	state Exp;
branches;
next	1.31;

1.31
date	2002.05.24.09.26.51;	author nickc;	state Exp;
branches;
next	1.30;

1.30
date	2002.05.08.23.15.36;	author amodra;	state Exp;
branches;
next	1.29;

1.29
date	2002.03.18.12.45.55;	author nickc;	state Exp;
branches;
next	1.28;

1.28
date	2002.01.14.13.10.13;	author nickc;	state Exp;
branches
	1.28.2.1;
next	1.27;

1.27
date	2001.12.18.10.33.36;	author nickc;	state Exp;
branches;
next	1.26;

1.26
date	2001.12.04.10.11.22;	author jakub;	state Exp;
branches;
next	1.25;

1.25
date	2001.11.02.19.09.06;	author nickc;	state Exp;
branches;
next	1.24;

1.24
date	2001.08.10.10.56.44;	author aj;	state Exp;
branches;
next	1.23;

1.23
date	2001.08.03.16.27.22;	author dj;	state Exp;
branches;
next	1.22;

1.22
date	2001.06.19.11.57.27;	author nickc;	state Exp;
branches;
next	1.21;

1.21
date	2001.02.27.06.43.53;	author amodra;	state Exp;
branches;
next	1.20;

1.20
date	2001.02.04.16.37.03;	author pb;	state Exp;
branches;
next	1.19;

1.19
date	2001.01.09.20.25.31;	author nickc;	state Exp;
branches
	1.19.2.1;
next	1.18;

1.18
date	2000.12.19.22.22.02;	author nickc;	state Exp;
branches;
next	1.17;

1.17
date	2000.09.07.21.07.29;	author hjl;	state Exp;
branches;
next	1.16;

1.16
date	2000.09.02.21.35.45;	author nickc;	state Exp;
branches;
next	1.15;

1.15
date	2000.06.08.19.00.01;	author obrien;	state Exp;
branches;
next	1.14;

1.14
date	2000.05.26.13.11.56;	author amodra;	state Exp;
branches;
next	1.13;

1.13
date	2000.04.09.12.17.40;	author cagney;	state Exp;
branches;
next	1.12;

1.12
date	2000.02.26.00.59.51;	author hjl;	state Exp;
branches
	1.12.2.1;
next	1.11;

1.11
date	2000.02.26.00.47.52;	author hjl;	state Exp;
branches;
next	1.10;

1.10
date	2000.02.24.19.37.32;	author nickc;	state Exp;
branches;
next	1.9;

1.9
date	99.09.14.23.26.47;	author meissner;	state Exp;
branches;
next	1.8;

1.8
date	99.08.08.18.09.48;	author ian;	state Exp;
branches;
next	1.7;

1.7
date	99.08.05.15.35.10;	author ian;	state Exp;
branches;
next	1.6;

1.6
date	99.07.15.12.04.47;	author ian;	state Exp;
branches;
next	1.5;

1.5
date	99.06.22.22.50.18;	author ian;	state Exp;
branches;
next	1.4;

1.4
date	99.06.22.20.39.42;	author ian;	state Exp;
branches;
next	1.3;

1.3
date	99.06.12.15.20.20;	author ian;	state Exp;
branches;
next	1.2;

1.2
date	99.05.15.15.25.21;	author nickc;	state Exp;
branches;
next	1.1;

1.1
date	99.05.03.07.29.09;	author rth;	state Exp;
branches
	1.1.1.1;
next	;

1.111.2.1
date	2012.10.31.11.45.12;	author nickc;	state Exp;
branches;
next	1.111.2.2;

1.111.2.2
date	2012.11.05.12.39.44;	author amodra;	state Exp;
branches;
next	;

1.100.2.1
date	2011.05.31.08.55.55;	author amodra;	state Exp;
branches;
next	;

1.60.2.1
date	2006.04.03.15.44.46;	author carlos;	state Exp;
branches;
next	1.60.2.2;

1.60.2.2
date	2006.07.26.18.46.23;	author nathan;	state Exp;
branches;
next	1.60.2.3;

1.60.2.3
date	2006.10.16.20.21.23;	author nathan;	state Exp;
branches;
next	1.60.2.4;

1.60.2.4
date	2006.11.13.09.59.52;	author nathan;	state Exp;
branches;
next	;

1.45.2.1
date	2005.03.10.10.38.58;	author nickc;	state Exp;
branches;
next	;

1.40.2.1
date	2003.05.15.19.20.37;	author drow;	state Exp;
branches;
next	;

1.34.2.1
date	2002.11.07.17.04.37;	author drow;	state Exp;
branches;
next	;

1.28.2.1
date	2002.05.09.11.53.25;	author amodra;	state Exp;
branches;
next	;

1.19.2.1
date	2001.02.04.16.45.44;	author pb;	state Exp;
branches;
next	1.19.2.2;

1.19.2.2
date	2001.03.11.17.41.05;	author pb;	state Exp;
branches;
next	1.19.2.3;

1.19.2.3
date	2001.06.10.13.50.19;	author pb;	state Exp;
branches;
next	1.19.2.4;

1.19.2.4
date	2001.06.11.10.04.27;	author amodra;	state Exp;
branches;
next	;

1.12.2.1
date	2000.05.23.08.08.04;	author pb;	state Exp;
branches;
next	1.12.2.2;

1.12.2.2
date	2000.05.28.10.57.50;	author amodra;	state Exp;
branches;
next	1.12.2.3;

1.12.2.3
date	2000.10.14.20.43.13;	author pb;	state Exp;
branches;
next	1.12.2.4;

1.12.2.4
date	2000.10.16.11.27.24;	author pb;	state Exp;
branches;
next	;

1.1.1.1
date	99.05.03.07.29.09;	author rth;	state Exp;
branches;
next	;


desc
@@


1.118
log
@	PR binutils/15324
	* configure.in: Add strnlen to AC_CHECK_DECLS, sort.
	* dwarf.c (strnlen): Provide fallback decl.
	* config.in: Regnerate.
	* configure: Regenerate.
@
text
@dnl Process this file with autoconf to produce a configure script.
dnl
dnl   Copyright 2012 Free Software Foundation
dnl
dnl This file is free software; you can redistribute it and/or modify
dnl it under the terms of the GNU General Public License as published by
dnl the Free Software Foundation; either version 3 of the License, or
dnl (at your option) any later version.
dnl 
dnl This program is distributed in the hope that it will be useful,
dnl but WITHOUT ANY WARRANTY; without even the implied warranty of
dnl MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
dnl GNU General Public License for more details.
dnl 
dnl You should have received a copy of the GNU General Public License
dnl along with this program; see the file COPYING3.  If not see
dnl <http://www.gnu.org/licenses/>.
dnl

AC_PREREQ(2.59)
AC_INIT
AC_CONFIG_SRCDIR(ar.c)

AC_CANONICAL_TARGET
AC_ISC_POSIX

changequote(,)dnl
BFD_VERSION=`${srcdir}/../bfd/configure --version | sed -n -e '1s,.* ,,p'`
changequote([,])dnl
AM_INIT_AUTOMAKE(binutils, ${BFD_VERSION})

AC_PROG_CC
AC_GNU_SOURCE
AC_USE_SYSTEM_EXTENSIONS

ACX_LARGEFILE
LT_INIT

AC_ARG_ENABLE(targets,
[  --enable-targets        alternative target configurations],
[case "${enableval}" in
  yes | "") AC_MSG_ERROR(enable-targets option must specify target names or 'all')
            ;;
  no)       enable_targets= ;;
  *)        enable_targets=$enableval ;;
esac])dnl

AC_ARG_ENABLE(deterministic-archives,
[AS_HELP_STRING([--enable-deterministic-archives],
		[ar and ranlib default to -D behavior])], [
if test "${enableval}" = no; then
  default_ar_deterministic=0
else
  default_ar_deterministic=1
fi], [default_ar_deterministic=0])

AC_DEFINE_UNQUOTED(DEFAULT_AR_DETERMINISTIC, $default_ar_deterministic,
		   [Should ar and ranlib use -D behavior by default?])

AM_BINUTILS_WARNINGS

AC_CONFIG_HEADERS(config.h:config.in)

AH_VERBATIM([00_CONFIG_H_CHECK],
[/* Check that config.h is #included before system headers
   (this works only for glibc, but that should be enough).  */
#if defined(__GLIBC__) && !defined(__FreeBSD_kernel__) && !defined(__CONFIG_H__)
#  error config.h must be #included before system headers
#endif
#define __CONFIG_H__ 1])

if test -z "$target" ; then
    AC_MSG_ERROR(Unrecognized target system type; please check config.sub.)
fi
if test -z "$host" ; then
    AC_MSG_ERROR(Unrecognized host system type; please check config.sub.)
fi

AC_PROG_YACC
AM_PROG_LEX

ALL_LINGUAS="bg da es fi fr id it ja ro ru rw sk sv tr uk vi zh_CN zh_TW hr"
ZW_GNU_GETTEXT_SISTER_DIR
AM_PO_SUBDIRS

AM_MAINTAINER_MODE
AM_CONDITIONAL(GENINSRC_NEVER, false)
AC_EXEEXT
if test -n "$EXEEXT"; then
  AC_DEFINE(HAVE_EXECUTABLE_SUFFIX, 1,
	    [Does the platform use an executable suffix?])
fi
AC_DEFINE_UNQUOTED(EXECUTABLE_SUFFIX, "${EXEEXT}",
		   [Suffix used for executables, if any.])

# host-specific stuff:

HDEFINES=

. ${srcdir}/../bfd/configure.host

AC_SUBST(HDEFINES)
AR=${AR-ar}
AC_SUBST(AR)
AC_PROG_RANLIB
AC_PROG_INSTALL

BFD_CC_FOR_BUILD

DEMANGLER_NAME=c++filt
case "${host}" in
  *-*-go32* | *-*-msdos*)
    DEMANGLER_NAME=cxxfilt
esac
AC_SUBST(DEMANGLER_NAME)

AC_CHECK_HEADERS(string.h strings.h stdlib.h unistd.h fcntl.h sys/file.h limits.h locale.h sys/param.h wchar.h)
AC_HEADER_SYS_WAIT
ACX_HEADER_STRING
AC_FUNC_ALLOCA
AC_CHECK_FUNCS(sbrk utimes setmode getc_unlocked strcoll setlocale)
AC_CHECK_FUNC([mkstemp],
	      AC_DEFINE([HAVE_MKSTEMP], 1,
	      [Define to 1 if you have the `mkstemp' function.]))
AC_CHECK_FUNC([mkdtemp],
              AC_DEFINE([HAVE_MKDTEMP], 1,
              [Define to 1 if you have the `mkdtemp' function.]))
  AC_MSG_CHECKING([for mbstate_t])
  AC_TRY_COMPILE([#include <wchar.h>],
  [mbstate_t teststate;],
  have_mbstate_t=yes, have_mbstate_t=no)
  AC_MSG_RESULT($have_mbstate_t)
  if test x"$have_mbstate_t" = xyes; then
    AC_DEFINE(HAVE_MBSTATE_T,1,[Define if mbstate_t exists in wchar.h.])
  fi

# Some systems have frexp only in -lm, not in -lc.
AC_SEARCH_LIBS(frexp, m)

AM_LC_MESSAGES

AC_MSG_CHECKING(for time_t in time.h)
AC_CACHE_VAL(bu_cv_decl_time_t_time_h,
[AC_COMPILE_IFELSE([AC_LANG_PROGRAM([#include <time.h>], [time_t i;])],
bu_cv_decl_time_t_time_h=yes, bu_cv_decl_time_t_time_h=no)])
AC_MSG_RESULT($bu_cv_decl_time_t_time_h)
if test $bu_cv_decl_time_t_time_h = yes; then
  AC_DEFINE([HAVE_TIME_T_IN_TIME_H], 1,
	    [Is the type time_t defined in <time.h>?])
fi

AC_MSG_CHECKING(for time_t in sys/types.h)
AC_CACHE_VAL(bu_cv_decl_time_t_types_h,
[AC_COMPILE_IFELSE([AC_LANG_PROGRAM([#include <sys/types.h>], [time_t i;])],
bu_cv_decl_time_t_types_h=yes, bu_cv_decl_time_t_types_h=no)])
AC_MSG_RESULT($bu_cv_decl_time_t_types_h)
if test $bu_cv_decl_time_t_types_h = yes; then
  AC_DEFINE([HAVE_TIME_T_IN_TYPES_H], 1,
	    [Is the type time_t defined in <sys/types.h>?])
fi

AC_MSG_CHECKING(for a known getopt prototype in unistd.h)
AC_CACHE_VAL(bu_cv_decl_getopt_unistd_h,
[AC_COMPILE_IFELSE([AC_LANG_PROGRAM([#include <unistd.h>], [extern int getopt (int, char *const*, const char *);])],
bu_cv_decl_getopt_unistd_h=yes, bu_cv_decl_getopt_unistd_h=no)])
AC_MSG_RESULT($bu_cv_decl_getopt_unistd_h)
if test $bu_cv_decl_getopt_unistd_h = yes; then
  AC_DEFINE([HAVE_DECL_GETOPT], 1,
	    [Is the prototype for getopt in <unistd.h> in the expected format?])
fi

# Under Next 3.2 <utime.h> apparently does not define struct utimbuf
# by default.
AC_MSG_CHECKING([for utime.h])
AC_CACHE_VAL(bu_cv_header_utime_h,
[AC_COMPILE_IFELSE([AC_LANG_PROGRAM([#include <sys/types.h>
#ifdef HAVE_TIME_H
#include <time.h>
#endif
#include <utime.h>],
[struct utimbuf s;])],
bu_cv_header_utime_h=yes, bu_cv_header_utime_h=no)])
AC_MSG_RESULT($bu_cv_header_utime_h)
if test $bu_cv_header_utime_h = yes; then
  AC_DEFINE(HAVE_GOOD_UTIME_H, 1, [Does <utime.h> define struct utimbuf?])
fi

AC_CHECK_DECLS([environ, fprintf, getc_unlocked, getenv,
		sbrk, snprintf, stpcpy, strnlen, strstr, vsnprintf])

# Link in zlib if we can.  This allows us to read compressed debug
# sections.  This is used only by readelf.c (objdump uses bfd for
# reading compressed sections).
AM_ZLIB

BFD_BINARY_FOPEN

# target-specific stuff:

# Canonicalize the secondary target names.
if test -n "$enable_targets"; then
    for targ in `echo $enable_targets | sed 's/,/ /g'`
    do
	result=`$ac_config_sub $targ 2>/dev/null`
	if test -n "$result"; then
	    canon_targets="$canon_targets $result"
	else
	    # Allow targets that config.sub doesn't recognize, like "all".
	    canon_targets="$canon_targets $targ"
	fi
    done
fi

AC_CHECK_HEADER(iconv.h)
AM_ICONV

all_targets=false
BUILD_NLMCONV=
NLMCONV_DEFS=
BUILD_SRCONV=
BUILD_DLLTOOL=
DLLTOOL_DEFS=
DLLTOOL_DEFAULT=
BUILD_WINDRES=
BUILD_WINDMC=
BUILD_DLLWRAP=
BUILD_MISC=
BUILD_INSTALL_MISC=
OBJDUMP_DEFS=
OBJDUMP_PRIVATE_VECTORS=
OBJDUMP_PRIVATE_OFILES=
od_vectors=

for targ in $target $canon_targets
do
    if test "x$targ" = "xall"; then
        all_targets=true
	BUILD_NLMCONV='$(NLMCONV_PROG)$(EXEEXT)'
	BUILD_SRCONV='$(SRCONV_PROG)'
	NLMCONV_DEFS="-DNLMCONV_I386 -DNLMCONV_ALPHA -DNLMCONV_POWERPC -DNLMCONV_SPARC"
	BUILD_MISC="${BUILD_MISC} "'bin2c$(EXEEXT_FOR_BUILD)'
	BUILD_WINDRES='$(WINDRES_PROG)$(EXEEXT)'
	BUILD_WINDMC='$(WINDMC_PROG)$(EXEEXT)'
	BUILD_DLLTOOL='$(DLLTOOL_PROG)$(EXEEXT)'
	if test -z "$DLLTOOL_DEFAULT"; then
	  DLLTOOL_DEFAULT="-DDLLTOOL_DEFAULT_I386"
	fi
	DLLTOOL_DEFS="$DLLTOOL_DEFS -DDLLTOOL_I386"
	BUILD_DLLWRAP='$(DLLWRAP_PROG)$(EXEEXT)'
	od_vectors="$od_vectors objdump_private_desc_xcoff"
    else
	case $targ in
changequote(,)dnl
	i[3-7]86*-*-netware*)
changequote([,])dnl
	  BUILD_NLMCONV='$(NLMCONV_PROG)$(EXEEXT)'
	  NLMCONV_DEFS="$NLMCONV_DEFS -DNLMCONV_I386"
	  ;;
	alpha*-*-netware*)
	  BUILD_NLMCONV='$(NLMCONV_PROG)$(EXEEXT)'
	  NLMCONV_DEFS="$NLMCONV_DEFS -DNLMCONV_ALPHA"
	  ;;
	powerpc*-*-netware*)
	  BUILD_NLMCONV='$(NLMCONV_PROG)$(EXEEXT)'
	  NLMCONV_DEFS="$NLMCONV_DEFS -DNLMCONV_POWERPC"
	  ;;
	sparc*-*-netware*)
	  BUILD_NLMCONV='$(NLMCONV_PROG)$(EXEEXT)'
	  NLMCONV_DEFS="$NLMCONV_DEFS -DNLMCONV_SPARC"
	  ;;
	esac

	case $targ in
	*-*-hms*) BUILD_SRCONV='$(SRCONV_PROG)' ;;
	esac

	case $targ in
	arm-epoc-pe*)
  	  BUILD_DLLTOOL='$(DLLTOOL_PROG)$(EXEEXT)'
	  if test -z "$DLLTOOL_DEFAULT"; then
	    DLLTOOL_DEFAULT="-DDLLTOOL_DEFAULT_ARM_EPOC"
	  fi
	  DLLTOOL_DEFS="$DLLTOOL_DEFS -DDLLTOOL_ARM_EPOC -DDLLTOOL_ARM"
	  BUILD_WINDRES='$(WINDRES_PROG)$(EXEEXT)'
	  BUILD_WINDMC='$(WINDMC_PROG)$(EXEEXT)'
	  ;;
	arm-wince-pe* | arm-*-wince | arm*-*-cegcc* | arm*-*-mingw32ce*)
  	  BUILD_DLLTOOL='$(DLLTOOL_PROG)$(EXEEXT)'
	  if test -z "$DLLTOOL_DEFAULT"; then
	    DLLTOOL_DEFAULT="-DDLLTOOL_DEFAULT_ARM_WINCE"
	  fi
	  DLLTOOL_DEFS="$DLLTOOL_DEFS -DDLLTOOL_ARM_WINCE -DDLLTOOL_ARM"
	  BUILD_WINDRES='$(WINDRES_PROG)$(EXEEXT)'
	  BUILD_WINDMC='$(WINDMC_PROG)$(EXEEXT)'
	  ;;
	arm-*-pe*)
  	  BUILD_DLLTOOL='$(DLLTOOL_PROG)$(EXEEXT)'
	  if test -z "$DLLTOOL_DEFAULT"; then
	    DLLTOOL_DEFAULT="-DDLLTOOL_DEFAULT_ARM"
	  fi
	  DLLTOOL_DEFS="$DLLTOOL_DEFS -DDLLTOOL_ARM"
	  BUILD_WINDRES='$(WINDRES_PROG)$(EXEEXT)'
	  BUILD_WINDMC='$(WINDMC_PROG)$(EXEEXT)'
	  ;;
	x86_64-*-mingw* | x86_64-*-cygwin*)
  	  BUILD_DLLTOOL='$(DLLTOOL_PROG)$(EXEEXT)'
	  if test -z "$DLLTOOL_DEFAULT"; then
	    DLLTOOL_DEFAULT="-DDLLTOOL_DEFAULT_MX86_64"
	  fi
	  DLLTOOL_DEFS="$DLLTOOL_DEFS -DDLLTOOL_MX86_64"
	  BUILD_WINDRES='$(WINDRES_PROG)$(EXEEXT)'
	  BUILD_WINDMC='$(WINDMC_PROG)$(EXEEXT)'
	  BUILD_DLLWRAP='$(DLLWRAP_PROG)$(EXEEXT)'
	  ;;
changequote(,)dnl
	i[3-7]86-*-pe* | i[3-7]86-*-cygwin* | i[3-7]86-*-mingw32** | i[3-7]86-*-netbsdpe*)
changequote([,])dnl
  	  BUILD_DLLTOOL='$(DLLTOOL_PROG)$(EXEEXT)'
	  if test -z "$DLLTOOL_DEFAULT"; then
	    DLLTOOL_DEFAULT="-DDLLTOOL_DEFAULT_I386"
	  fi
	  DLLTOOL_DEFS="$DLLTOOL_DEFS -DDLLTOOL_I386"
	  BUILD_WINDRES='$(WINDRES_PROG)$(EXEEXT)'
	  BUILD_WINDMC='$(WINDMC_PROG)$(EXEEXT)'
	  BUILD_DLLWRAP='$(DLLWRAP_PROG)$(EXEEXT)'
	  ;;
changequote(,)dnl
	i[3-7]86-*-interix)
changequote([,])dnl
	  BUILD_DLLTOOL='$(DLLTOOL_PROG)'
	  if test -z "$DLLTOOL_DEFAULT"; then
	    DLLTOOL_DEFAULT="-DDLLTOOL_DEFAULT_I386"
	  fi
	  DLLTOOL_DEFS="$DLLTOOL_DEFS -DDLLTOOL_I386"
	  ;;
changequote(,)dnl
	powerpc*-aix5.[01])
changequote([,])dnl
	  ;;
changequote(,)dnl
	powerpc*-aix[5-9].*)
changequote([,])dnl
	  OBJDUMP_DEFS="-DAIX_WEAK_SUPPORT"
	  ;;
	powerpc*-*-pe* | powerpc*-*-cygwin*)
  	  BUILD_DLLTOOL='$(DLLTOOL_PROG)$(EXEEXT)'
	  if test -z "$DLLTOOL_DEFAULT"; then
	    DLLTOOL_DEFAULT="-DDLLTOOL_DEFAULT_PPC"
	  fi
	  DLLTOOL_DEFS="$DLLTOOL_DEFS -DDLLTOOL_PPC"
	  BUILD_WINDRES='$(WINDRES_PROG)$(EXEEXT)'
	  BUILD_WINDMC='$(WINDMC_PROG)$(EXEEXT)'
	  ;;
	powerpc*-*-linux* | powerpc*-*-elf* | powerpc*-*-eabi*)
	  case "$BUILD_INSTALL_MISC" in
	    *embedspu*) ;;
	    *) BUILD_INSTALL_MISC="${BUILD_INSTALL_MISC} embedspu"
	  esac
	  ;;
	sh*-*-pe)
  	  BUILD_DLLTOOL='$(DLLTOOL_PROG)$(EXEEXT)'
	  if test -z "$DLLTOOL_DEFAULT"; then
	    DLLTOOL_DEFAULT="-DDLLTOOL_DEFAULT_SH"
	  fi
	  DLLTOOL_DEFS="$DLLTOOL_DEFS -DDLLTOOL_SH"
	  BUILD_WINDRES='$(WINDRES_PROG)$(EXEEXT)'
	  BUILD_WINDMC='$(WINDMC_PROG)$(EXEEXT)'
	  ;;
	spu-*-*)
	  BUILD_MISC="${BUILD_MISC} "'bin2c$(EXEEXT_FOR_BUILD)'
	  ;;
	mips*-*-pe)
  	  BUILD_DLLTOOL='$(DLLTOOL_PROG)$(EXEEXT)'
	  if test -z "$DLLTOOL_DEFAULT"; then
	    DLLTOOL_DEFAULT="-DDLLTOOL_DEFAULT_MIPS"
	  fi
	  DLLTOOL_DEFS="$DLLTOOL_DEFS -DDLLTOOL_MIPS"
	  BUILD_WINDRES='$(WINDRES_PROG)$(EXEEXT)'
	  BUILD_WINDMC='$(WINDMC_PROG)$(EXEEXT)'
	  ;;
	mcore-*-pe)
  	  BUILD_DLLTOOL='$(DLLTOOL_PROG)$(EXEEXT)'
	  if test -z "$DLLTOOL_DEFAULT"; then
	    DLLTOOL_DEFAULT="-DDLLTOOL_DEFAULT_MCORE"
	  fi
	  DLLTOOL_DEFS="$DLLTOOL_DEFS -DDLLTOOL_MCORE"
	  BUILD_WINDRES='$(WINDRES_PROG)$(EXEEXT)'
	  BUILD_WINDMC='$(WINDMC_PROG)$(EXEEXT)'
	  ;;
	mcore-*-elf)
  	  BUILD_DLLTOOL='$(DLLTOOL_PROG)$(EXEEXT)'
	  if test -z "$DLLTOOL_DEFAULT"; then
	    DLLTOOL_DEFAULT="-DDLLTOOL_DEFAULT_MCORE_ELF"
	  fi
	  DLLTOOL_DEFS="$DLLTOOL_DEFS -DDLLTOOL_MCORE_ELF"
	  ;;
  	mep-*)
	  OBJDUMP_DEFS="-DSKIP_ZEROES=256 -DSKIP_ZEROES_AT_END=0"
	  ;;
	esac

	# Add objdump private vectors.
	case $targ in
	powerpc-*-aix*)
	  od_vectors="$od_vectors objdump_private_desc_xcoff"
	  ;;
        *-*-darwin*)
	  od_vectors="$od_vectors objdump_private_desc_mach_o"
	  ;;
	esac
    fi
done

# Uniq objdump private vector, build objdump target ofiles.
od_files=
f=""
for i in $od_vectors ; do
    case " $f " in
    *" $i "*) ;;
    *)
	f="$f $i"
	OBJDUMP_PRIVATE_VECTORS="$OBJDUMP_PRIVATE_VECTORS &$i,"
	case $i in
	objdump_private_desc_xcoff)
	    od_files="$od_files od-xcoff" ;;
	objdump_private_desc_mach_o)
	    od_files="$od_files od-macho" ;;
	*) AC_MSG_ERROR(*** unknown private vector $i) ;;
	esac
	;;
    esac
done

# Uniq objdump target ofiles
f=""
for i in $od_files ; do
    case " $f " in
    *" $i "*) ;;
    *)
	f="$f $i"
	OBJDUMP_PRIVATE_OFILES="$OBJDUMP_PRIVATE_OFILES $i.$objext"
	;;
    esac
done

DLLTOOL_DEFS="$DLLTOOL_DEFS $DLLTOOL_DEFAULT"

if test "${with_windres+set}" = set; then
	  BUILD_WINDRES='$(WINDRES_PROG)$(EXEEXT)'
fi

if test "${with_windmc+set}" = set; then
	  BUILD_WINDMC='$(WINDMC_PROG)$(EXEEXT)'
fi

OBJDUMP_DEFS="${OBJDUMP_DEFS} -DOBJDUMP_PRIVATE_VECTORS=\"${OBJDUMP_PRIVATE_VECTORS}\""

AC_SUBST(NLMCONV_DEFS)
AC_SUBST(BUILD_NLMCONV)
AC_SUBST(BUILD_SRCONV)
AC_SUBST(BUILD_DLLTOOL)
AC_SUBST(DLLTOOL_DEFS)
AC_SUBST(BUILD_WINDRES)
AC_SUBST(BUILD_WINDMC)
AC_SUBST(BUILD_DLLWRAP)
AC_SUBST(BUILD_MISC)
AC_SUBST(BUILD_INSTALL_MISC)
AC_SUBST(OBJDUMP_DEFS)
AC_SUBST(OBJDUMP_PRIVATE_OFILES)

AC_DEFINE_UNQUOTED(TARGET, "${target}", [Configured target name.])

targ=$target
. $srcdir/../bfd/config.bfd
if test "x$targ_underscore" = "xyes"; then
    UNDERSCORE=1
else
    UNDERSCORE=0
fi
AC_DEFINE_UNQUOTED(TARGET_PREPENDS_UNDERSCORE, $UNDERSCORE,
 [Define to 1 if user symbol names have a leading underscore, 0 if not.])

# Emulation
targ=$target
. ${srcdir}/configure.tgt
EMULATION=$targ_emul
EMULATION_VECTOR=$targ_emul_vector

AC_SUBST(EMULATION)
AC_SUBST(EMULATION_VECTOR)

# Required for html and install-html
AC_SUBST(datarootdir)
AC_SUBST(docdir)
AC_SUBST(htmldir)
AC_SUBST(pdfdir)

AC_CONFIG_FILES(Makefile doc/Makefile po/Makefile.in:po/Make-in)
AC_OUTPUT
@


1.117
log
@	* configure.in: Build DLL tools on x86_64-*-cygwin* as well.
	* configure: Regenerate.
@
text
@d188 2
a189 2
AC_CHECK_DECLS([fprintf, stpcpy, strstr, sbrk, getenv, environ, getc_unlocked,
		snprintf, vsnprintf])
@


1.116
log
@Add copyright notices
@
text
@d305 1
a305 1
	x86_64-*-mingw*)
@


1.115
log
@	* configure.in: Apply 2012-09-10 change to config.in here.  Add
	__CONFIG_H__ check.
	* config.in: Regenerate.
@
text
@d3 17
@


1.114
log
@
bfd:
        * elf32-arm.c (elf32_arm_print_private_bfd_data): Recognise and
        display the new ARM hard-float/soft-float ABI flags for EABI_VER5
        (elf32_arm_post_process_headers): Add the hard-float/soft-float
        ABI flag as appropriate for ET_DYN/ET_EXEC in EABI_VER5.

binutils:
        * readelf.c (decode_ARM_machine_flags): Recognise and display the
        new ARM hard-float/soft-float ABI flags for EABI_VER5. Split out
        the code for EABI_VER4 and EABI_VER5 to allow this.

elfcpp:
        * arm.h: New enum for EABI soft- and hard-float flags.

gold:
        * gold.cc (Target_arm::do_adjust_elf_header): Add the
        hard-float/soft-float ABI flag as appropriate for ET_DYN/ET_EXEC
        in EABI_VER5.

include:
        * elf/arm.h (EF_ARM_ABI_FLOAT_SOFT): New define.
        (EF_ARM_ABI_FLOAT_HARD): Likewise.

ld/testsuite:
        * ld-arm/eabi-hard-float.s: New test source.
        * ld-arm/eabi-soft-float.s: New test source.
        * ld-arm/eabi-hard-float.d: New test.
        * ld-arm/eabi-soft-float.d: New test.
        * ld-arm/eabi-soft-float-ABI4.d: New test.
        * ld-arm/eabi-soft-float-r.d: New test.
        * ld-arm/arm-elf.xp: Use the new tests.

binutils:
	PR binutils/14779
	* configure.in: Add checks for wchar.h and mbstate_t.
	* config.in: Regenerate.
	* configure: Regenerate.
	* readelf.c: Conditionally include wchar.h.
	(print_symbol): Conditionally use mbstate_t.
@
text
@d50 1
a50 1
#if defined(__GLIBC__)
d52 2
a53 1
#endif])
@


1.113
log
@	* po/hr.po: New Croation translation.
	* configure.in (ALL_LINGUAS): Add hr.
	* configure: Regenerate.

	* po/uk.po: Updated Ukranian translation.
@
text
@d99 1
a99 1
AC_CHECK_HEADERS(string.h strings.h stdlib.h unistd.h fcntl.h sys/file.h limits.h locale.h sys/param.h)
d110 8
@


1.112
log
@bfd: update to AC_INIT

Move the package name/version from AM_INIT_AUTOMAKE to AC_INIT per recent
autotools guidelines.  We use recent versions of both, so it shouldn't be
a problem.

This sets PACKAGE_xxx variables correctly, and makes the output of:
	./configure --version
actually useful:
	bfd configure 2.22.52

Changing the other dirs to use AC_INIT would require a bit of m4 trickery
that I don't feel like getting into, and they all use BFD_VERSION anyways,
so there isn't much point.

Signed-off-by: Mike Frysinger <vapier@@gentoo.org>
@
text
@d64 1
a64 1
ALL_LINGUAS="bg da es fi fr id it ja ro ru rw sk sv tr uk vi zh_CN zh_TW"
@


1.111
log
@	PR 14072
	* configure.in: Add check that sysdep.h has been included before
	any system header files.
	* configure: Regenerate.
	* config.in: Regenerate.
	* sysdep.h: Generate an error if included before config.h.
	* alpha-opc.c: Include sysdep.h before any other header file.
	* alpha-dis.c: Likewise.
	* avr-dis.c: Likewise.
	* cgen-opc.c: Likewise.
	* cr16-dis.c: Likewise.
	* cris-dis.c: Likewise.
	* crx-dis.c: Likewise.
	* d10v-dis.c: Likewise.
	* d10v-opc.c: Likewise.
	* d30v-dis.c: Likewise.
	* d30v-opc.c: Likewise.
	* h8500-dis.c: Likewise.
	* i370-dis.c: Likewise.
	* i370-opc.c: Likewise.
	* m10200-dis.c: Likewise.
	* m10300-dis.c: Likewise.
	* micromips-opc.c: Likewise.
	* mips-opc.c: Likewise.
	* mips61-opc.c: Likewise.
	* moxie-dis.c: Likewise.
	* or32-opc.c: Likewise.
	* pj-dis.c: Likewise.
	* ppc-dis.c: Likewise.
	* ppc-opc.c: Likewise.
	* s390-dis.c: Likewise.
	* sh-dis.c: Likewise.
	* sh64-dis.c: Likewise.
	* sparc-dis.c: Likewise.
	* sparc-opc.c: Likewise.
	* spu-dis.c: Likewise.
	* tic30-dis.c: Likewise.
	* tic54x-dis.c: Likewise.
	* tic80-dis.c: Likewise.
	* tic80-opc.c: Likewise.
	* tilegx-dis.c: Likewise.
	* tilepro-dis.c: Likewise.
	* v850-dis.c: Likewise.
	* v850-opc.c: Likewise.
	* vax-dis.c: Likewise.
	* w65-dis.c: Likewise.
	* xgate-dis.c: Likewise.
	* xtensa-dis.c: Likewise.
	* rl78-decode.opc: Likewise.
	* rl78-decode.c: Regenerate.
	* rx-decode.opc: Likewise.
	* rx-decode.c: Regenerate.

	* configure.in: Add check that sysdep.h has been included before
	any system header files.
	* configure: Regenerate.
	* config.in: Regenerate.
	* sysdep.h: Generate an error if included before config.h.

	* configure.in: Add check that sysdep.h has been included before
	any system header files.
	* configure: Regenerate.
	* config.in: Regenerate.
	* aclocal.m4: Regenerate.
	* bfd-in.h: Generate an error if included before config.h.
	* sysdep.h: Likewise.
	* bfd-in2.h: Regenerate.
	* compress.c: Remove #include "config.h".
	* plugin.c: Likewise.
	* elf32-m68hc1x.c: Include sysdep.h before alloca-conf.h.
	* elf64-hppa.c: Likewise.
	* som.c: Likewise.
	* xsymc.c: Likewise.

	* configure.in: Add check that sysdep.h has been included before
	any system header files.
	* configure: Regenerate.
	* config.in: Regenerate.

	* configure.in: Add check that sysdep.h has been included before
	any system header files.
	* configure: Regenerate.
	* config.in: Regenerate.
	* aclocal.m4: Regenerate.
	* Makefile.am: Use wrappers around C files generated by flex.
	* Makefile.in: Regenerate.
	* doc/Makefile.in: Regenerate.
	* itbl-lex-wrapper.c: New file.
	* config/bfin-lex-wrapper.c: New file.
	* cgen.c: Include as.h before setjmp.h.
	* config/tc-dlx.c: Include as.h before any other header.
	* config/tc-h8300.c: Likewise.
	* config/tc-lm32.c: Likewise.
	* config/tc-mep.c: Likewise.
	* config/tc-microblaze.c: Likewise.
	* config/tc-mmix.c: Likewise.
	* config/tc-msp430.c: Likewise.
	* config/tc-or32.c: Likewise.
	* config/tc-tic4x.c: Likewise.
	* config/tc-tic54x.c: Likewise.
	* config/tc-xtensa.c: Likewise.

	* configure.in: Add check that sysdep.h has been included before
	any system header files.
	* configure: Regenerate.
	* config.in: Regenerate.
	* unwind-ia64.h: Include config.h.
@
text
@d11 1
a11 1
BFD_VERSION=`sed -n -e 's/^.._INIT_AUTOMAKE.*,[ 	]*\([^ 	]*\)[ 	]*).*/\1/p' < ${srcdir}/../bfd/configure.in`
@


1.111.2.1
log
@	PR binutils/14779
	* configure.in: Add checks for wchar.h and mbstate_t.
	* config.in: Regenerate.
	* configure: Regenerate.
	* readelf.c: Conditionally include wchar.h.
	(print_symbol): Conditionally use mbstate_t.
@
text
@d99 1
a99 1
AC_CHECK_HEADERS(string.h strings.h stdlib.h unistd.h fcntl.h sys/file.h limits.h locale.h sys/param.h wchar.h)
a109 8
  AC_MSG_CHECKING([for mbstate_t])
  AC_TRY_COMPILE([#include <wchar.h>],
  [mbstate_t teststate;],
  have_mbstate_t=yes, have_mbstate_t=no)
  AC_MSG_RESULT($have_mbstate_t)
  if test x"$have_mbstate_t" = xyes; then
    AC_DEFINE(HAVE_MBSTATE_T,1,[Define if mbstate_t exists in wchar.h.])
  fi
@


1.111.2.2
log
@	* configure.in: Apply 2012-09-10 change to config.in here.
@
text
@d50 1
a50 1
#if defined(__GLIBC__) && !defined(__FreeBSD_kernel__) && !defined(__CONFIG_H__)
d52 1
a52 2
#endif
#define __CONFIG_H__ 1])
@


1.110
log
@	PR binutils/14028
	* configure.in: Invoke ACX_HEADER_STRING.
	* configure: Regenerate.
	* config.in: Regenerate.
	* sysdep.h: If STRINGS_WITH_STRING is defined then include both
	string.h and strings.h.
@
text
@d47 7
@


1.109
log
@	* po/vi.po: Updated Vietnamese translation.
	* po/it.po: New Italian translation.
	* configure.in (ALL_LINGUAS): Add it.
	* configure: Regenerate.
@
text
@d94 1
@


1.108
log
@binutils/
2012-04-06  Roland McGrath  <mcgrathr@@google.com>

	* configure.in (AC_CHECK_HEADERS): Add locale.h.
	* config.in: Regenerate.
	* configure: Regenerate.

gas/
2012-04-06  Roland McGrath  <mcgrathr@@google.com>

	* configure.in (AC_CHECK_HEADERS): Add locale.h.
	* config.in: Regenerate.
	* configure: Regenerate.

gold/
2012-04-06  Roland McGrath  <mcgrathr@@google.com>

	* configure.in (AC_CHECK_HEADERS): Add locale.h.
	* config.in: Regenerate.
	* configure: Regenerate.

ld/
2012-04-06  Roland McGrath  <mcgrathr@@google.com>

	* configure.in (AC_CHECK_HEADERS): Add locale.h.
	* config.in: Regenerate.
	* configure: Regenerate.
@
text
@d57 1
a57 1
ALL_LINGUAS="da es fi fr id ja ro ru rw sk sv tr uk vi zh_CN zh_TW bg"
@


1.107
log
@	* configure.in (AC_CHECK_FUNCS): Add setlocale.
	(AM_LC_MESSAGES): Add.
	* aclocal.m4: Regenerate.
	* config.in: Regenerate.
	* configure: Regenerate.
@
text
@d92 1
a92 1
AC_CHECK_HEADERS(string.h strings.h stdlib.h unistd.h fcntl.h sys/file.h limits.h sys/param.h)
@


1.106
log
@binutils/
	* configure.in: Use AM_ZLIB.
	* configure: Regenerated.

ld/
	* configure.in: Use AM_ZLIB.
	* configure: Regenerated.
@
text
@d95 1
a95 1
AC_CHECK_FUNCS(sbrk utimes setmode getc_unlocked strcoll)
d106 2
@


1.105
log
@	* configure.in (--enable-deterministic-archives): Grok new
	argument.  Set DEFAULT_AR_DETERMINISTIC to 1 or 0 accordingly.
	* configure: Regenerated.
	* config.in: Regenerated.
	* ar.c (deterministic): Initialize to -1.
	(decode_options, ranlib_main): Grok U option.
	(usage, ranlib_usage): Mention U; say for D and U which is the default.
	(default_deterministic): New function.
	(ranlib_main): Call it.
	(main): Likewise.  Make newer_only && deterministic error
	non-fatal if it was just DEFAULT_AR_DETERMINISTIC and not the D option.
	* doc/binutils.texi (ar cmdline, ranlib): Document U modifier and
	--enable-deterministic-archives behavior.
@
text
@d158 1
a158 1
AC_SEARCH_LIBS(zlibVersion, z, [AC_CHECK_HEADERS(zlib.h)])
@


1.104
log
@bfd/
2011-12-13  Tristan Gingold  <gingold@@adacore.com>

	* mach-o.c (bfd_mach_o_read_symtab_symbols): Make global.  Remove
	prototype.
	(bfd_mach_o_section_get_entry_size): Make global.
	(bfd_mach_o_section_get_nbr_indirect): Likewise.
	(bfd_mach_o_read_symtab_strtab): Likewise.
	(struct bfd_mach_o_xlat_name): Move to mach-o.h
	(bfd_mach_o_print_flags): Move to binutils/od-macho.c
	(bfd_mach_o_get_name_of_null, bfd_mach_o_get_name): Likewise.
	(bfd_mach_o_cpu_name, bfd_mach_o_filetype_name): Likewise.
	(bfd_mach_o_header_flags_name): Likewise.
	(bfd_mach_o_load_command_name): Likewise.
	(bfd_mach_o_print_private_header): Likewise.
	(bfd_mach_o_print_section_map, bfd_mach_o_print_section): Likwise.
	(bfd_mach_o_print_segment, bfd_mach_o_print_dysymtab): Likewise.
	(bfd_mach_o_print_dyld_info): Likewise.
	(bfd_mach_o_print_private_bfd_data): Remove.
	(bfd_mach_o_type_name): Make global.
	(bfd_mach_o_section_attribute_name): Likewise.
	* mach-o.h (bfd_mach_o_xlat_name): Added.
	(bfd_mach_o_section_get_nbr_indirect)
	(bfd_mach_o_section_get_entry_size)
	(bfd_mach_o_read_symtab_symbols)
	(bfd_mach_o_read_symtab_strtab)
	(bfd_mach_o_section_attribute_name)
	(bfd_mach_o_section_type_name): Likewise.
	* mach-o-target.c (bfd_mach_o_bfd_print_private_bfd_data): Define.

binutils/
2011-12-13  Tristan Gingold  <gingold@@adacore.com>

	* od-macho.c: New file.
	* objdump.h (objdump_private_desc_mach_o): Add.
	* configure.in: Add Mach-O od_vectors.
	* Makefile.am (CFILES): Add od-macho.c
	* configure: Regenerate.
	* Makefile.in: Regenerate.
@
text
@d31 12
d44 1
a44 1
		   
d218 1
a218 1
	i[3-7]86*-*-netware*) 
d447 1
a447 1
# Emulation 
d451 1
a451 1
EMULATION_VECTOR=$targ_emul_vector	
@


1.103
log
@	PR binutils/12820
	* configure.in (BUILD_INSTALL_MISC): Only add embedspu once.
	* configure: Regenerate.
@
text
@d357 4
a360 1
	od_vectors="$od_vectors objdump_private_desc_xcoff"
d378 2
@


1.102
log
@2011-05-16  Tristan Gingold  <gingold@@adacore.com>

	* od-xcoff.c: New file.
	* objdump.h: New file.
	* objdump.c: Include objdump.h
	(dump_private_options, objdump_private_vectors): New variables.
	(usage): Mention -P/--private.  Display handled options.
	(long_options): Add -P/--private.
	(dump_target_specific): New function.
	(dump_bfd): Handle dump_private_options.
	(main): Handle -P.
	* doc/binutils.texi (objdump): Document -P/--private.
	* configure.in (OBJDUMP_PRIVATE_VECTORS, OBJDUMP_PRIVATE_OFILES):
	New variables, compute them.
	(od_vectors): Add vectors for private dumpers. Make them uniq.
	(OBJDUMP_DEFS): Add OBJDUMP_PRIVATE_VECTORS.
	* Makefile.am (HFILES): Add objdump.h
	(CFILES): Add od-xcoff.c
	(OBJDUMP_PRIVATE_OFILES): New variable.
	(objdump_DEPENDENCIES): Append OBJDUMP_PRIVATE_OFILES.
	(objdump_LDADD): Ditto.
	(EXTRA_objdump_SOURCES): Define.
	* Makefile.in: Regenerate.
	* configure: Regenerate.
@
text
@d307 4
a310 1
	  BUILD_INSTALL_MISC="${BUILD_INSTALL_MISC} embedspu"
@


1.101
log
@bfd:
	* config.bfd (thumb-*-oabi): Don't handle in list of obsolete
	targets.
	(strongarm*, thumb*, xscale*): Remove architectures.
	(strongarm-*-kaos*, thumb-*-coff, thumb-*-elf, thumb-epoc-pe*,
	thumb-*-pe*, strongarm-*-elf, strongarm-*-coff, xscale-*-elf,
	xscale-*-coff): Remove targets.

binutils:
	* configure.in (thumb-*-pe*): Remove.
	* configure: Regenerate.

binutils/testsuite:
	* binutils-all/objcopy.exp (*arm*-*-coff): Change to arm*-*-coff.
	(xscale-*-coff, thumb*-*-coff, thumb*-*-pe): Don't handle.

gas:
	* configure.tgt (strongarm*be, strongarm*b, strongarm*,
	xscale*be|xscale*b, xscale*): Remove architectures.
	(thumb-*-coff, thumb-*-rtems*, thumb-*-elf, thumb-epoc-pe,
	thumb-*-pe, xscale-*-coff, xscale-*-elf): Remove targets.

gas/testsuite:
	* gas/all/gas.exp (*arm*-*-coff): Change to arm*-*-coff.
	(thumb*-*-coff, thumb*-*-pe*): Don;t handle.
	* gas/arm/arm.exp (*arm*-*-*): Change to arm*-*-*.
	(*xscale*-*-*): Don't handle.
	* gas/cfi/cfi.exp (xscale*-*): Don't handle.
	* gas/elf/elf.exp (*arm*-*-*): Change to arm*-*-*.
	(xscale*-*-*): Don't handle.

ld:
	* configure.tgt (thumb-*-linux-* | thumb-*-uclinux*,
	strongarm-*-coff, strongarm-*-elf, strongarm-*-kaos*,
	thumb-*-coff, thumb-*-elf, thumb-epoc-pe, thumb-*-pe,
	xscale-*-coff, xscale-*-elf): Remove targets.

ld/testsuite:
	* ld-selective/selective.exp (xscale-*-*): Don't handle.
	* ld-srec/srec.exp (strongarm*-*-*, xscale*-*-*, thumb-*-*): Don't
	handle.
	(*arm*-*-*): Change to arm*-*-*.
	(strongarm*-*-coff, xscale*-*-coff, thumb-*-coff*, thumb-*-pe*,
	thumb-*-elf*, strongarm*-*-*, thumb-*-*): Remove xfails.
	* ld-undefined/undefined.exp (thumb*-*-pe*, thumb*-*-pe*): Remove
	commented-out xfails.
	(thumb-elf): Remove reference in comment.
	* lib/ld-lib.exp (strongarm*-*-*, xscale*-*-*, thumb-*-*): Don't
	handle.
@
text
@d182 3
d202 1
d224 1
d228 1
d350 7
d360 30
d400 2
d413 1
@


1.100
log
@Updated translation templates.
Updated Bulgarian translation.
Updated Finnish translations.
Updated French translations.
Updated Vietnamese translations.
@
text
@a250 9
	thumb-*-pe*)
  	  BUILD_DLLTOOL='$(DLLTOOL_PROG)$(EXEEXT)'
	  if test -z "$DLLTOOL_DEFAULT"; then
	    DLLTOOL_DEFAULT="-DDLLTOOL_DEFAULT_ARM"
	  fi
	  DLLTOOL_DEFS="$DLLTOOL_DEFS -DDLLTOOL_ARM"
	  BUILD_WINDRES='$(WINDRES_PROG)$(EXEEXT)'
	  BUILD_WINDMC='$(WINDMC_PROG)$(EXEEXT)'
	  ;;
@


1.100.2.1
log
@	PR binutils/12820
	* configure.in (BUILD_INSTALL_MISC): Only add embedspu once.
	* configure: Regenerate.
@
text
@d310 1
a310 4
	  case "$BUILD_INSTALL_MISC" in
	    *embedspu*) ;;
	    *) BUILD_INSTALL_MISC="${BUILD_INSTALL_MISC} embedspu"
	  esac
@


1.99
log
@binutils/
	* configure.in: Stop checking for fopen64 and stat64.
	* strings.c (file_off, file_open, statbuf, file_stat): Remove.
	(strings_file): Change file_off to file_ptr, file_open to fopen,
	statbuf to struct stat and file_stat to stat.
	(get_char): Change parameter type file_off * to file_ptr *.
	(print_strings): Change parameter and variable `start' type file_off to
	file_ptr.
	* configure: Regenerate.
	* config.in: Regenerate.
@
text
@d45 1
a45 1
ALL_LINGUAS="da es fi fr id ja ro ru rw sk sv tr uk vi zh_CN zh_TW"
@


1.98
log
@bfd/
	* configure.in: Call ACX_LARGEFILE.  Stop calling AC_PLUGINS,
	AC_SYS_LARGEFILE and checking the Solaris largefile exception.
	* aclocal.m4: Regenerate.
	* configure: Regenerate.

binutils/
	* configure.in: Call ACX_LARGEFILE.  Stop calling AC_PLUGINS,
	AC_SYS_LARGEFILE and checking the Solaris largefile exception.
	* aclocal.m4: Regenerate.
	* configure: Regenerate.

gas/
	* configure.in: Call ACX_LARGEFILE.  Stop calling AC_SYS_LARGEFILE.
	* aclocal.m4: Regenerate.
	* configure: Regenerate.

gdb/
	* configure.ac: Call ACX_LARGEFILE.
	* aclocal.m4: Call m4_include for ../config/largefile.m4 and
	../config/plugins.m4.
	* configure: Regenerate.
	* config.in: Regenerate.

gprof/
	* configure.in: Call ACX_LARGEFILE.  Stop calling AC_SYS_LARGEFILE.
	* aclocal.m4: Regenerate.
	* configure: Regenerate.

ld/
	* configure.in: Call ACX_LARGEFILE.  Stop calling AC_SYS_LARGEFILE.
	* aclocal.m4: Regenerate.
	* configure: Regenerate.
@
text
@a90 39
# Check whether fopen64 is available and whether _LARGEFILE64_SOURCE
# needs to be defined for it
AC_MSG_CHECKING([for fopen64])
AC_CACHE_VAL(bu_cv_have_fopen64,
[AC_LINK_IFELSE([AC_LANG_PROGRAM([#include <stdio.h>], [FILE *f = fopen64 ("/tmp/foo","r");])],
bu_cv_have_fopen64=yes,
[saved_CPPFLAGS=$CPPFLAGS
 CPPFLAGS="$CPPFLAGS -D_LARGEFILE64_SOURCE"
 AC_LINK_IFELSE([AC_LANG_PROGRAM([#include <stdio.h>], [FILE *f = fopen64 ("/tmp/foo","r");])],
 bu_cv_have_fopen64="need -D_LARGEFILE64_SOURCE",
 bu_cv_have_fopen64=no)
 CPPFLAGS=$saved_CPPFLAGS])])
AC_MSG_RESULT($bu_cv_have_fopen64)
if test "$bu_cv_have_fopen64" != no; then
  AC_DEFINE([HAVE_FOPEN64], 1,
	    [Is fopen64 available?])
fi
AC_MSG_CHECKING([for stat64])
AC_CACHE_VAL(bu_cv_have_stat64,
[AC_LINK_IFELSE([AC_LANG_PROGRAM([#include <sys/stat.h>], [struct stat64 st; stat64 ("/tmp/foo", &st);])],
bu_cv_have_stat64=yes,
[saved_CPPFLAGS=$CPPFLAGS
 CPPFLAGS="$CPPFLAGS -D_LARGEFILE64_SOURCE"
 AC_LINK_IFELSE([AC_LANG_PROGRAM([#include <sys/stat.h>], [struct stat64 st; stat64 ("/tmp/foo", &st);])],
 bu_cv_have_stat64="need -D_LARGEFILE64_SOURCE",
 bu_cv_have_stat64=no)
 CPPFLAGS=$saved_CPPFLAGS])])
AC_MSG_RESULT($bu_cv_have_stat64)
if test "$bu_cv_have_stat64" != no; then
  AC_DEFINE([HAVE_STAT64], 1,
	    [Is stat64 available?])
fi
if test "$bu_cv_have_fopen64" = "need -D_LARGEFILE64_SOURCE" \
   || test "$bu_cv_have_stat64" = "need -D_LARGEFILE64_SOURCE"; then
  AC_DEFINE([_LARGEFILE64_SOURCE], 1,
	    [Enable LFS])
  CPPFLAGS="$CPPFLAGS -D_LARGEFILE64_SOURCE"
fi

@


1.97
log
@	* configure.in: Don't invoke configure.tgt on $enable_targets.
	* configure: Regenerate.
@
text
@d19 1
a19 19
AC_PLUGINS

case "${target}" in
changequote(,)dnl
  sparc-*-solaris*|i[3-7]86-*-solaris*)
changequote([,])dnl
    # See comment in bfd/configure.in for the reason for this test.
    # PR 9992/binutils: We have to duplicate the behaviour of bfd's
    # configure script so that the utilities in this directory agree
    # on the size of structures used to describe files.
    if test "${target}" = "${host}" -a "$enable_largefile" != 'yes'; then
      if test "$plugins" = "no"; then
        enable_largefile="no"
      fi
    fi
    ;;
esac

AC_SYS_LARGEFILE
@


1.96
log
@2009-06-18  Dave Korn  <dave.korn.cygwin@@gmail.com>

Merge cegcc and mingw32ce target name changes from CeGCC project,
replacing "arm-*-" by "arm*-*-" where needed.

  2008-09-24  Pedro Alves  <pedroalves@@users.sourceforge.net>

	ld/
	* configure.tgt (arm*-*-cegcc*): Set LIB_PATH to
	${tooldir}/lib/w32api.

  2007-12-25  Pedro Alves  <pedro_alves@@portugalmail.pt>

	bfd/
	* config.bfd: Add arm*-*-cegcc* target.

  2007-12-25  Pedro Alves  <pedro_alves@@portugalmail.pt>

	binutils/
	* configure.in: Add arm*-*-cegcc* and arm*-*-mingw32ce* targets.
	* configure: Regenerate.

  2007-12-25  Pedro Alves  <pedro_alves@@portugalmail.pt>

	gas/
	* configure.tgt: Add arm*-*-cegcc* target.

  2007-12-25  Pedro Alves  <pedro_alves@@portugalmail.pt>

	ld/
	* configure.tgt: Add arm*-*-cegcc* target.

  2007-12-17  Pedro Alves  <pedro_alves@@portugalmail.pt>

	bfd/
	* config.bfd: Add arm-*-mingw32ce* target.

  2007-12-17  Pedro Alves  <pedro_alves@@portugalmail.pt>

	gas/
	* configure.tgt: Add arm-*-mingw32ce* target.

  2007-12-17  Pedro Alves  <pedro_alves@@portugalmail.pt>

	ld/
	* configure.tgt: Add arm-*-mingw32ce* target.
@
text
@d448 4
a451 15
for targ_alias in `echo $target_alias $enable_targets | sed 's/,/ /g'`
do
  # Canonicalize the secondary target names.
 result=`$ac_config_sub $targ_alias 2>/dev/null`
 if test -n "$result"; then
   targ=$result
 else
   targ=$targ_alias
 fi

 . ${srcdir}/configure.tgt

  EMULATION=$targ_emul
  EMULATION_VECTOR=$targ_emul_vector	
done
@


1.95
log
@	* plugins.m4: New.

        * aclocal.m4: Include ../config/plugins.m4.
        * configure.in: Use AC_PLUGINS.
        * configure: Regenerate.
        * Makefile.in: Regenerate.
        * doc/Makefile.in: Regenerate.
@
text
@d290 1
a290 1
	arm-wince-pe* | arm-*-wince)
@


1.94
log
@        * Makefile.am: Run "make dep-am".
        (AM_CPPFLAGS): New.
        (LIBDL): New.
        (ALL_MACHINES): Add cpu-plugin.lo.
        (ALL_MACHINES_CFILES): Add cpu-plugin.c.
        (BFD32_BACKENDS): Add plugin.lo.
        (BFD32_BACKENDS_CFILES): Add plugin.c.
        (libbfd_la_LIBADD): Add LIBDL
        * archures.c (bfd_architecture): Add bfd_arch_plugin.
        (bfd_plugin_arch): Declare.
        * bfd-in.h (BFD_SUPPORTS_PLUGINS): New.
        * bfd.c (bfd): Add plugin_data.
        * config.bfd: Handle the plugin target.
        * configure.in: Check for --enable-plugins.
        (LT_INIT): Use the dlopen option.
        * cpu-plugin.c: New.
        * plugin.c: New.
        * plugin.h: New.
        * targets.c (plugin_vec): Declare.
        (_bfd_target_vector): Add plugin_vec.
        * Makefile.in: Regenerate.
        * bfd-in2.h: Regenerate.
        * configure: Regenerate.
        * ar.c: Include plugin.h.
        (main): Handle the --plugin option.
        * nm.c: Include plugin.h.
        (OPTION_PLUGIN): New.
        (long_options): Add plugin.
        (main): Handle OPTION_PLUGIN.
        * NEWS: Mention  the new feature.
        * doc/binutils: Documement the new command line options.
        * configure.in: Check for --enable-plugins.
        * configure: Regenerate.
@
text
@d19 1
a19 8
AC_ARG_ENABLE([plugins],
AS_HELP_STRING([--enable-plugins], [linker plugins (defaults no)]),
[case "${enableval}" in
  yes | "") plugins=yes ;;
  no) plugins=no ;;
  *) plugins=yes ;;
 esac],
[plugins=no])
@


1.93
log
@        PR 9992
        * configure.in: Import Solaris specific largefile test from
        bfd/configure.in.
        * configure: Regenerate.
@
text
@d19 9
d37 3
a39 1
      enable_largefile="no"
@


1.92
log
@bfd/
	* config.bfd: Treat AIX 6+ in the same way as AIX 5.
	* configure.in: Likewise.
	* configure: Regenerate.

binutils/
	* configure.tgt: Extend AIX 5 behavior to AIX 6 and above.
	* configure.in: Likewise.
	* configure: Regenerate.

gas/
	* configure.tgt: Extend AIX 5 behavior to AIX 6 and above.
	* configure.in: Likewise.
	* configure: Regenerate.

ld/
	* configure.tgt: Extend AIX 5 behavior to AIX 6 and above.
@
text
@d18 15
@


1.91
log
@bfd:
2009-02-03  Carlos O'Donell  <carlos@@codesourcery.com>

	* configure.in: AC_SUBST pdfdir.
	* Makefile.am: Add install-pdf, install-pdf-am
	and install-pdf-recursive targets. Define pdfdir.
	* doc/Makefile.am: Define pdf__strip_dir. Add
	install-pdf and install-pdf-am targets.
	* po/Make-in: Add install-pdf target.
	* configure: Regenerate.
	* Makefile.in: Regenerate
	* doc/Makefile.in: Regenerate.

binutils:
2009-02-03  Carlos O'Donell  <carlos@@codesourcery.com>

	* configure.in: AC_SUBST pdfdir.
	* Makefile.am: Add install-pdf, install-pdf-am,
	and install-pdf-recursive targets.
	* doc/Makefile.am: Define pdf__strip_dir. Add
	install-pdf and install-pdf-am targets.
	* po/Make-in: Add install-pdf target.
	* configure: Regenerate.
	* Makefile.in: Regenerate.
	* doc/Makefile.in: Regenerate.

etc:
2009-02-03  Carlos O'Donell  <carlos@@codesourcery.com>

	* configure.in: AC_SUBST pdfdir.
	* configure: Regenerate.

gas:
2009-02-03  Carlos O'Donell  <carlos@@codesourcery.com>

	* configure.in: AC_SUBST pdfdir.
	* Makefile.am: Add install-pdf, install-pdf-am,
	and install-pdf-recursive targets.
	* doc/Makefile.am: Define pdf__strip_dir. Add
	install-pdf and install-pdf-am targets.
	* po/Make-in: Add install-pdf target.
	* configure: Regenerate.
	* Makefile.in: Regenerate.
	* doc/Makefile.in: Regenerate.

gprof:
2009-02-03  Carlos O'Donell  <carlos@@codesourcery.com>

	* configure.in: AC_SUBST pdfdir.
	* Makefile.am: Add install-pdf, install-pdf-am,
	and install-pdf-recursive targets. Define pdf__strip_dir.
	* po/Make-in: Add install-pdf target.
	* configure: Regenerate.
	* Makefile.in: Regenerate.

ld:
2009-02-03  Carlos O'Donell  <carlos@@codesourcery.com>

	* configure.in: AC_SUBST pdfdir.
	* Makefile.am: Add install-pdf, install-pdf-am,
	and install-pdf-recursive targets. Define pdf__strip_dir.
	* po/Make-in: Add install-pdf target.
	* configure: Regenerate.
	* Makefile.in: Regenerate.

opcodes:
2009-02-03  Carlos O'Donell  <carlos@@codesourcery.com>

	* Makefile.am: Add install-pdf target.
	* po/Make-in: Add install-pdf target.
	* Makefile.in: Regenerate.
@
text
@d333 3
a335 1
	powerpc*-aix5.*)
@


1.90
log
@bfd/
	* Makefile.am (libbfd_la_LIBADD, libbfd_la_LDFLAGS): Substitute
	SHARED_LIBADD and SHARED_LDFLAGS rather than WIN32LIBADD, WIN32LDFLAGS.
	* configure.in (commonbfdlib): Delete.
	(SHARED_LDFLAGS): Rename from WIN32LDFLAGS/
	(SHARED_LIBADD): Rename from WIN32LIBADD.  Add pic libiberty if such
	is available, not just for linux.
	* po/SRC-POTFILES.in: Regenerate.
	* Makefile.in: Regenerate.
	* configure: Regenerate.
opcodes/
	* configure.in (commonbfdlib): Delete.
	(SHARED_LIBADD): Add pic libiberty if such is available.
	* configure: Regenerate.
	* po/POTFILES.in: Regenerate.
binutils/
	* configure.in (commonbfdlib): Delete.
	* configure: Regenerate.
gas/
	* configure.in (commonbfdlib): Delete.
	* configure: Regenerate.
	* po/POTFILES.in: Regenerate.
@
text
@d450 1
@


1.89
log
@	* configure.in (ALL_LINGUAS): Add id.
	* configure: Regenerate.
@
text
@a28 7
AC_ARG_ENABLE(commonbfdlib,
[  --enable-commonbfdlib   build shared BFD/opcodes/libiberty library],
[case "${enableval}" in
  yes) commonbfdlib=true ;;
  no)  commonbfdlib=false ;;
  *)   AC_MSG_ERROR([bad value ${enableval} for BFD commonbfdlib option]) ;;
esac])dnl
@


1.88
log
@bfd/
	Fix loading large elf64 binaries on 32bit hosts.
	* configure.in: Call AC_SYS_LARGEFILE.
	* config.in: Regenerate.
	* configure: Regenerate.

binutils/
	Fix loading large elf64 binaries on 32bit hosts.
	* configure.in: Call AC_SYS_LARGEFILE.
	* config.in: Regenerate.
	* configure: Regenerate.

gas/
	* configure.in: Call AC_SYS_LARGEFILE.
	* config.in: Regenerate.
	* configure: Regenerate.

gprof/
	* configure.in: Call AC_SYS_LARGEFILE.
	* gconfig.in: Regenerate.
	* configure: Regenerate.

ld/
	* configure.in: Call AC_SYS_LARGEFILE.
	* config.in: Regenerate.
	* configure: Regenerate.

libiberty/
	* configure.in: Call AC_SYS_LARGEFILE.
	* config.in: Regenerate.
	* configure: Regenerate.
@
text
@d51 1
a51 1
ALL_LINGUAS="fr tr ja es sv da zh_CN ru ro rw zh_TW fi vi uk sk"
@


1.87
log
@Update a number of obsolete autoconf macros.
@
text
@d18 1
@


1.86
log
@	PR 6526
	* configure.in: Invoke AC_USE_SYSTEM_EXTENSIONS.
@
text
@d3 3
a5 2
AC_PREREQ(2.57)
AC_INIT(ar.c)
d7 1
a7 1
AC_CANONICAL_SYSTEM
d18 1
a18 1
AC_PROG_LIBTOOL
d23 1
a23 1
  yes | "") AC_ERROR(enable-targets option must specify target names or 'all')
d38 1
a38 1
AM_CONFIG_HEADER(config.h:config.in)
d100 1
a100 1
[AC_TRY_LINK([#include <stdio.h>], [FILE *f = fopen64 ("/tmp/foo","r");],
d104 3
a106 3
 AC_TRY_LINK([#include <stdio.h>], [FILE *f = fopen64 ("/tmp/foo","r");],
bu_cv_have_fopen64="need -D_LARGEFILE64_SOURCE",
bu_cv_have_fopen64=no)
d115 1
a115 1
[AC_TRY_LINK([#include <sys/stat.h>], [struct stat64 st; stat64 ("/tmp/foo", &st);],
d119 3
a121 3
 AC_TRY_LINK([#include <sys/stat.h>], [struct stat64 st; stat64 ("/tmp/foo", &st);],
bu_cv_have_stat64="need -D_LARGEFILE64_SOURCE",
bu_cv_have_stat64=no)
d140 1
a140 1
[AC_TRY_COMPILE([#include <time.h>], [time_t i;],
d150 1
a150 1
[AC_TRY_COMPILE([#include <sys/types.h>], [time_t i;],
d160 1
a160 1
[AC_TRY_COMPILE([#include <unistd.h>], [extern int getopt (int, char *const*, const char *);],
d172 1
a172 1
[AC_TRY_COMPILE([#include <sys/types.h>
d177 1
a177 1
[struct utimbuf s;],
d457 2
a458 1
AC_OUTPUT(Makefile doc/Makefile po/Makefile.in:po/Make-in)
@


1.85
log
@bfd/
	* Makefile.am (BFD32_LIBS): Add compress.lo.
	(BFD32_LIBS_CFILES): Add compress.c.
	(BFD_H_FILES): Likewise.
	* Makefile.in: Regenerate.
	* bfd-in2.h: Regenerate.
	* config.in: Add HAVE_ZLIB_H
	* configure.in: Add test for libz and zlib.h
	* configure: Regenerate.
	* dwarf2.c (read_section): New function.
	(read_indirect_string): Call new function read_section.
	(read_abbrevs): Likewise.
	(decode_line_info): Likewise.
	(read_debug_ranges): Likewise.
	(find_line): Call new function read_section when just one
	.zdebug_info section is found, otherwise read and compress
	multiple sections.
	(_bfd_dwarf2_cleanup_debug_info): Free sec_info_ptr.
	* elf.c (_bfd_elf_make_section_from_shdr): Add zdebug prefix.
	(special_sections_z): New struct.
	(special_sections): Refer to special_sections_z.
	* elfxx-mips.c (_bfd_mips_elf_section_from_shdr): Recognize
	sections named .zdebug_*.
	(_bfd_mips_elf_fake_sections): Likewise.
	* compress.c: New file.
	(bfd_uncompress_section_contents): New function.
bfd/doc/
	* Makefile.am (BFD_H_DEP): Add ../compress.c.
	* Makefile.in: Regenerate.
binutils/
	* config.in: Add HAVE_ZLIB_H
	* configure.in: Add test for libz and zlib.h
	* configure: Regenerate.
	* dwarf.c (debug_displays): Add .zdebug_* strings.
	* dwarf.h (struct dwarf_section): Add fields uncompressed_namd
	and compressed_name.
	* objdump.c (load_debug_section): Call
	bfd_uncompress_section_contents when loading a compressed
	section.
	(dump_dwarf_section): Recognize compressed section name.
	(mach_o_dwarf_sections): Rename as
	mach_o_uncompressed_dwarf_sections.
	(mach_o_compressed_dwarf_sections): New variable.
	(generic_dwarf_section): Rename as
	generic_uncompressed_dwarf_sections.
	(generic_compressed_dwarf_sections): New variable.
	(check_mach_o_dwarf): Save and restore
	mach_o_compressed_dwarf_sections.
	* readelf.c: Add #include for config.h and zlib.h
	(process_section_headers): Recognize compressed section name.
	(uncompress_section_contents): New function.
	(load_debug_section): Call uncompress_section_contents when
	loading a compressed section.
	(display_debug_section): Recognize compressed section name.
binutils/testsuite:
	* binutils-all/objdump.exp: Add test for objdump -s on a file
	with a compressed debug section.  Add test for objdump -W on a
	file that contains a compressed debug section.
	* binutils-all/readelf.exp: Call readelf_compressed_wa_test.
	(readelf_compressed_wa_test): New function.
	* binutils-all/dw2-compressed.S: New file.
	* binutils-all/objdump.W: New file.
	* binutils-all/objdump.s: New file.
	* binutils-all/readelf.wa: New file.
@
text
@d16 1
@


1.84
log
@* configure.in: Build windows tools for --enable-targets=all.
* configure: Regenerate.
@
text
@d185 5
@


1.83
log
@* po/sk.po: New Slovakian translation.
* configure.in (LINGUAS): Add sk.
* configure: Regenerate.
@
text
@d228 8
@


1.82
log
@	* configure.in: Install embedspu on powerpc*-*-eabi* also.
	* configure: Regenerated.
@
text
@d48 1
a48 1
ALL_LINGUAS="fr tr ja es sv da zh_CN ru ro rw zh_TW fi vi uk"
@


1.81
log
@Update Dutch opcodes translation.
Add new Ukranian binutils translation.
@
text
@d336 1
a336 1
	powerpc*-*-linux* | powerpc*-*-elf*)
@


1.80
log
@* Makefile.am: Add windmc tool.
* Makefile.in: Regenerate.
* configure.in: Add windmc tool.
* configure: Regenerate.
* mclex.c: New.
* mcparse.y: New.
* windmc.c: New.
* windmc.h: New.
* doc/Makefile.am: Add windmc tool.
* doc/Makefile.in: Regenerate.
* doc/binutils.texi: Add windmc documentation.
* NEWS: Mention new tool.
@
text
@d48 1
a48 1
ALL_LINGUAS="fr tr ja es sv da zh_CN ru ro rw zh_TW fi vi"
@


1.79
log
@* Makefile.am: Add LIBICONV to windres.
* acinclude.m4: Added missing "lib-*.m4" and "lt*.m4" files.
* configure.in: Add AC_CHECK_HEADER for iconv.h and use AM_ICONV.
* config.in: Add ICONV defines.
* aclocal: Regenerate.
* confugure: Regenerate.
* winduni.c: (local_iconv_map codepages, wind_language_t, languages, unicode_is$
  (ascii_from_unicode): Use codepage_from_unicode.
  (ascii_from_unicode): Use unicode_from_codepage.
  Use for cygwin windows API for unicode transformation.
* winduni.h: (CP_ACP, CP_UTF7, CP_UTF8, CP_OEM, CP_UTF16): New macros.
  (wind_language_t, local_iconv_map): New types.
  (wind_find_language_by_id, wind_find_language_by_codepage,
  (unicode_is_valid_codepage, wind_find_codepage_info, unicode_from_codepage, c$
@
text
@d214 1
d260 1
d269 1
d278 1
d287 1
d296 1
d308 1
d334 1
d346 1
d358 1
d367 1
d389 4
d399 1
@


1.78
log
@        * Makefile.am: Add ACLOCAL_AMFLAGS.
        * configure.in: Change macro call order.
        * Makefile.in: Regenerate.
        * configure: Regenerate.
@
text
@d203 3
@


1.77
log
@bfd/

2007-03-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (bfdver.h): Substitute report_bugs_to.  Also
	create doc/bfdver.texi.
	* Makefile.in: Regenerated.

	* configure.in (--with-bugurl): New option.
	* configure: Regenerated.

	* version.h (REPORT_BUGS_TO): New.

binutils/

2007-03-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (REPORT_BUGS_TO): Removed.
	(INCLUDES): Remove -DREPORT_BUGS_TO.
	* Makefile.in: Regenerated.

	* bucomm.c: Don't include bfdver.h.
	* objdump.c: Likewise.
	* version.c: Likewise.

	* bucomm.h: Include bfdver.h.

	* configure.in (--with-bugurl): Removed.
	* configure: Regenerated.

	* doc/Makefile.am (binutils_TEXINFOS): Removed.
	(AM_MAKEINFOFLAGS): Add -I ../../bfd/doc.
	(TEXI2DVI): Likewise.
	(config.texi): Removed.
	(MOSTLYCLEANFILES): Remove config.texi.
	* doc/Makefile.in: Regenerated.

	* doc/binutils.texi: Include bfdver.texi instead of
	config.texi.

gas/

2007-03-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (REPORT_BUGS_TO): Removed.
	(INCLUDES): Remove -DREPORT_BUGS_TO.
	* Makefile.in: Regenerated.

	* configure.in (--with-bugurl): Removed.
	* configure: Regenerated.

	* doc/Makefile.am (as_TEXINFOS): Remove gasver.texi.
	(AM_MAKEINFOFLAGS): Add -I ../../bfd/doc.
	(TEXI2DVI): Likewise.
	(gasver.texi): Removed.
	(MOSTLYCLEANFILES): Remove gasver.texi.
	(as.1): Don't depend on gasver.texi.
	* doc/Makefile.in: Regenerated.

	* doc/as.texi: Include bfdver.texi instead of gasver.texi.

gprof/

2007-03-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (REPORT_BUGS_TO): Removed.
	(INCLUDES): Remove -DREPORT_BUGS_TO.
	* Makefile.in: Regenerated.

	* configure.in (--with-bugurl): Removed.
	* configure: Regenerated.

ld/

2007-03-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (ld_TEXINFOS): Remove ldver.texi.
	(AM_MAKEINFOFLAGS): Add -I ../../bfd/doc.
	(TEXI2DVI): Likewise.
	(REPORT_BUGS_TO): Removed.
	(INCLUDES): Remove -DREPORT_BUGS_TO.
	(ldver.texi): Likewise.
	(ld.1): Don't depend on ldver.texi.
	(MOSTLYCLEANFILES): Remove ldver.texi.
	* Makefile.in: Regenerated.

	* configure.in (--with-bugurl): Removed.
	* configure: Regenerated.

	* lexsup.c: Include bfdver.h.

	* ld.texinfo: Include bfdver.texi instead of ldver.texi.
@
text
@d14 3
a16 1
AM_PROG_LIBTOOL
a44 3
AC_PROG_CC
AC_GNU_SOURCE

@


1.76
log
@binutils:
	* configure.in (REPORT_BUGS_TEXI): Define to Texinfo version of
	bug-reporting URL.
	* doc/Makefile.am (config.texi): Define BUGURL.
	* doc/binutils.texi: Use BUGURL.  Remove text about large files
	and uuencoding.
	* Makefile.in, configure, doc/Makefile.in: Regenerate.

gas:
	* configure.in (REPORT_BUGS_TEXI): Define to Texinfo version of
	bug-reporting URL.
	* doc/Makefile.am (gasver.texi): Define BUGURL.
	* doc/as.texinfo: Use BUGURL.
	* Makefile.in, configure, doc/Makefile.in: Regenerate.

ld:
	* configure.in (REPORT_BUGS_TEXI): Define to Texinfo version of
	bug-reporting URL.
	* Makefile.am (ldver.texi): Define BUGURL.
	* ld.texinfo: Use BUGURL.
	* Makefile.in, configure: Regenerate.
@
text
@a31 19
# The location to which bugs should be reported.
AC_ARG_WITH(bugurl,
  AS_HELP_STRING([--with-bugurl=URL],
                 [Direct users to URL to report a bug]),
  [case "$withval" in
    yes) AC_MSG_ERROR([bug URL not specified]) ;;
    no)  REPORT_BUGS_TO="";
	 REPORT_BUGS_TEXI=""
	 ;;
    *)   REPORT_BUGS_TO="<URL:$withval>"
	 REPORT_BUGS_TEXI="@@uref{`echo $withval | sed 's/@@/@@@@/g'`}"
	 ;;
   esac],
   REPORT_BUGS_TO="<URL:http://www.sourceware.org/bugzilla/>"
   REPORT_BUGS_TEXI="@@uref{http://www.sourceware.org/bugzilla/}"
)
AC_SUBST(REPORT_BUGS_TO)
AC_SUBST(REPORT_BUGS_TEXI)

@


1.75
log
@	* Makefile.am (PROGS): Add BUILD_INSTALL_MISC.
	(bin_PROGRAMS): Replace BUILD_MISC with BUILD_INSTALL_MISC.
	(EXTRA_PROGRAMS): Remove bin2c.
	(bin2c$(EXEEXT_FOR_BUILD)): New rule.
	(bin2c_SOURCES): Delete.
	(DISTCLEANFILES): Remove sysinfo.
	(MOSTLYCLEANFILES): Add sysinfo$(EXEEXT_FOR_BUILD) and
	bin2c$(EXEEXT_FOR_BUILD).
	* configure.in (BUILD_MISC): Add $(EXEEXT_FOR_BUILD) to bin2c.
	Move embedspu to..
	(BUILD_INSTALL_MISC): ..here.
	* Makefile.in: Regenerate.
	* configure: Regenerate.
@
text
@d38 6
a43 2
    no)  REPORT_BUGS_TO="" ;;
    *)   REPORT_BUGS_TO="<URL:$withval>" ;;
d46 1
d49 1
@


1.74
log
@	* bin2c.c: New file.
	* Makefile.am (EXTRA_PROGRAMS): Add bin2c.
	(CFILES): Add bin2c.c.
	(bin2c_SOURCES): Define.
	(bin2c.o): Dependencies from "make dep-am".
	* configure.in (BUILD_MISC): Add bin2c.
	* version.c: Update year.
	* po/POTFILES.in: Regenerate.
	* Makefile.in: Regenerate.
	* configure: Regenerate.
@
text
@d227 1
d237 1
a237 1
	BUILD_MISC="${BUILD_MISC} bin2c"
d340 1
a340 1
	  BUILD_MISC="${BUILD_MISC} embedspu"
d351 1
a351 1
	  BUILD_MISC="${BUILD_MISC} bin2c"
d397 1
@


1.73
log
@top level:
2007-02-17  Mark Mitchell  <mark@@codesourcery.com>
            Nathan Sidwell  <nathan@@codesourcery.com>
            Vladimir Prus  <vladimir@@codesourcery.com
            Joseph Myers  <joseph@@codesourcery.com>

	* configure.ac (TOPLEVEL_CONFIGURE_ARGUMENTS): Fix quoting.
	* configure: Regenerate.

bfd:
2007-02-17  Mark Mitchell  <mark@@codesourcery.com>
            Nathan Sidwell  <nathan@@codesourcery.com>
            Vladimir Prus  <vladimir@@codesourcery.com
            Joseph Myers  <joseph@@codesourcery.com>

	* configure.in (--with-pkgversion): New option.
	* configure: Regenerate.
	* Makefile.am (bfdver.h): Substitute for @@bfd_version_package@@.
	* Makefile.in: Regenerate.
	* version.h (BFD_VERSION_STRING): Define using
	@@bfd_version_package@@.

bfd/doc:
2007-02-17  Mark Mitchell  <mark@@codesourcery.com>
            Nathan Sidwell  <nathan@@codesourcery.com>
            Vladimir Prus  <vladimir@@codesourcery.com
            Joseph Myers  <joseph@@codesourcery.com>

	* Makefile.in: Regenerate.

binutils:
2007-02-17  Mark Mitchell  <mark@@codesourcery.com>
            Nathan Sidwell  <nathan@@codesourcery.com>
            Vladimir Prus  <vladimir@@codesourcery.com
            Joseph Myers  <joseph@@codesourcery.com>

	* configure.in (--with-bugurl): New option.
	* configure: Regenerate.
	* Makefile.am (REPORT_BUGS_TO): Define.
	(INCLUDES): Define REPORT_BUGS_TO.
	Regenerate dependencies.
	* Makefile.in: Regenerate.
	* doc/Makefile.in: Regenerate.
	* bucomm.h: Remove include of bin-bugs.h.
	* addr2line.c (usage): Don't print empty REPORT_BUGS_TO.
	* ar.c (usage): Pass s to list_supported_targets.  Don't print
	empty REPORT_BUGS_TO.
	* coffdump.c (show_usage): Don't print empty REPORT_BUGS_TO.
	* cxxfilt.c (usage): Print bug url when giving help.
	* dlltool.c (usage): Likewise.
	* dllwrap.c (usage): Likewise.
	* nlmconv.c (show_usage): Don't print empty REPORT_BUGS_TO.
	* nm.c (usage): Likewise.
	* objcopy.c (copy_usage, strip_usage): Likewise.
	* objdump.c (usage): Likewise.
	* readelf.c ((usage): Likewise. Add STREAM argument.  Adjust
	callers.
	* size.c (usage): Don't print empty REPORT_BUGS_TO.
	* srconv.c (show_usage): Likewise.
	* strings.c (usage): Likewise.
	* sysdymp.c (show_usage): Likewise.
	* windres.c (usage): Likewise.

gas:
2007-02-17  Mark Mitchell  <mark@@codesourcery.com>
            Nathan Sidwell  <nathan@@codesourcery.com>
            Vladimir Prus  <vladimir@@codesourcery.com
            Joseph Myers  <joseph@@codesourcery.com>

	* configure.in (--with-bugurl): New option.
	* configure: Regenerate.
	* dep-in.sed: Remove bin-bugs.h.
	* Makefile.am (REPORT_BUGS_TO): Define.
	(INCLUDES): Define REPORT_BUGS_TO.
	(DEP_INCLUDES): Likewise.
	($(OBJS)): No longer depend on bin-bugs.h.
	* Makefile.in: Regenerate.
	* doc/Makefile.in: Regenerate.
	* as.c (show_usage): Don't print empty REPORT_BUGS_TO.
	* as.h: Remove include of bin-bugs.h.

gprof:
2007-02-17  Mark Mitchell  <mark@@codesourcery.com>
            Nathan Sidwell  <nathan@@codesourcery.com>
            Vladimir Prus  <vladimir@@codesourcery.com
            Joseph Myers  <joseph@@codesourcery.com>

	* configure.in (--with-pkgversion, --with-bugurl): New options.
	* configure: Regenerate.
	* Makefile.am (PKGVERSION, REPORT_BUGS_TO): Define.
	(INCLUDES): Define PKGVERSION and REPORT_BUGS_TO.
	Regenerate dependencies.
	* Makefile.in: Regenerate.
	* gprof.c (usage): Don't print empty REPORT_BUGS_TO.
	(main): Include PKGVERSION in version output.
	* gprof.h: Remove include of bin-bugs.h.

include:
2007-02-17  Mark Mitchell  <mark@@codesourcery.com>
            Nathan Sidwell  <nathan@@codesourcery.com>
            Vladimir Prus  <vladimir@@codesourcery.com
            Joseph Myers  <joseph@@codesourcery.com>

	* bin-bugs.h: Remove.

ld:
2007-02-17  Mark Mitchell  <mark@@codesourcery.com>
            Nathan Sidwell  <nathan@@codesourcery.com>
            Vladimir Prus  <vladimir@@codesourcery.com
            Joseph Myers  <joseph@@codesourcery.com>

	* configure.in (--with-bugurl): New option.
	* configure: Regenerate.
	* Makefile.am (REPORT_BUGS_TO): Define.
	(INCLUDES): Define REPORT_BUGS_TO.
	Regenerate dependencies.
	* Makefile.in: Regenerate.
	* ld.h: Remove include of bin-bugs.h.
	* lexsup.c (help): Don't print empty REPORT_BUGS_TO.
@
text
@d236 1
d339 1
a339 1
	  BUILD_MISC=embedspu
d349 3
@


1.72
log
@2007-02-05  Dave Brolley  <brolley@@redhat.com>

        * readelf.c (dump_relocations): Don't check for
        (rtype == NULL && type == R_RELC).

2007-02-05  Dave Brolley  <brolley@@redhat.com>

        * Contribute the following changes:
        2003-10-29  Dave Brolley  <brolley@@redhat.com>

        * configure.in: Define SKIP_ZEROES and SKIP_ZEROES_AT_END for mep.
        * configure: Regenerated.

        2001-04-03  Ben Elliston  <bje@@redhat.com>

        * readelf.c: Include "elf/mep.h".
        (guess_is_rela): Handle EM_CYGNUS_MEP.
        (get_machine_name): Ditto.
        (dump_relocations): Ditto.
@
text
@d32 13
@


1.71
log
@2076-02-02  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/3945
	* configure.in (DLLTOOL_DEFAULT): New. Defined for the first PE
	target.
	(DLLTOOL_DEFS): Add $DLLTOOL_DEFAULT.
	* configure: Regenerated.

	* dlltool.c (mname): Defined with DLLTOOL_DEFAULT_XXX.
@
text
@d358 3
@


1.70
log
@	* embedspu.sh: New file.
	* Makefile.am (embedspu): Add rule.
	* configure.in (BUILD_MISC): Add embedspu for powerpc-linux.
	* Makefile.in: Regenerate.
	* configure: Regenerate.
@
text
@d210 1
d250 3
d258 3
d266 3
d274 3
d282 3
d293 3
d304 3
d318 3
d329 3
d337 3
d345 3
d353 3
d362 2
@


1.69
log
@Renamed target x86_64-*-mingw64 to x86_64-*-mingw*.
@
text
@d299 3
@


1.68
log
@bfd/
	* configure.in: Define GENINSRC_NEVER.
	* doc/Makefile.am (bfd.info): Remove srcdir prefix.
	(MAINTAINERCLEANFILES): Add info file.
	(DISTCLEANFILES): Pretend to add info file.
	* po/Make-in (.po.gmo): Put gmo files in objdir.
	* configure, Makefile.in, doc/Makefile.in: Regenerated.
binutils/
	* configure.in: Define GENINSRC_NEVER.
	* doc/Makefile.am (MAINTAINERCLEANFILES): Add info file.
	(DISTCLEANFILES): Pretend to add info file.
	* po/Make-in (.po.gmo): Put gmo files in objdir.
	* configure, Makefile.in, doc/Makefile.in: Regenerated.
gas/
	* configure.in: Define GENINSRC_NEVER.
	* doc/Makefile.am (as.info): Remove srcdir prefix.
	(MAINTAINERCLEANFILES): Add info file.
	(DISTCLEANFILES): Pretend to add info file.
	* po/Make-in (.po.gmo): Put gmo files in objdir.
	* configure, Makefile.in, doc/Makefile.in: Regenerated.
gprof/
	* configure.in: Define GENINSRC_NEVER.
	* doc/Makefile.am (gprof.info): Remove srcdir prefix.
	(MAINTAINERCLEANFILES): Add info file.
	(DISTCLEANFILES): Pretend to add info file.
	* po/Make-in (.po.gmo): Put gmo files in objdir.
	* configure, Makefile.in: Regenerated.
ld/
	* configure.in: Define GENINSRC_NEVER.
	* doc/Makefile.am (ld.info): Remove srcdir prefix.
	(MAINTAINERCLEANFILES): Add info file.
	(DISTCLEANFILES): Pretend to add info file.
	* po/Make-in (.po.gmo): Put gmo files in objdir.
	* configure, Makefile.in: Regenerated.
opcodes/
	* po/Make-in (.po.gmo): Put gmo files in objdir.
@
text
@d267 1
a267 1
	x86_64-*-mingw64*)
@


1.67
log
@2006-10-29  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/3384
	* configure.in (AC_CHECK_HEADERS): Add limits.h and sys/param.h.
	* configure: Regenerated.
	* config.in: Likewise.

	* readelf.c: Include <limits.h> and <sys/param.h> for PATH_MAX.
	(program_interpreter): Allocate PATH_MAX bytes instead of 64.
	(process_program_headers): Don't assume that program interpreter
	is shorter than 64 characters.
@
text
@d54 1
@


1.66
log
@PR binutils/2876
* configure.in: Check for the mkstemp and mkdtemp functions.
* configure: Regenerate.
* config.in (HAVE_MKDTEMP): New potential define.
(MAKE_MKSTEMP): Likewise.
* bucomm.c (make_tempname): Use mkstemp if it is available.
* make_tempdir): New function: Create a temporary directory using mkdtemp, if
it is available.
* bucomm.h (make_tempdir): New prototype.
* objcopy.c (copy_archive): Use make_tempdir if it is available.
  (strip_main): Produce an warning message if a temporary file could not be
  (copy_main): Likewise.
* ar.c (write_archive): Likewise.
@
text
@d83 1
a83 1
AC_CHECK_HEADERS(string.h strings.h stdlib.h unistd.h fcntl.h sys/file.h)
@


1.65
log
@	* configure.in: Remove broken changequote lines.
@
text
@d87 6
@


1.64
log
@Add x86_64-mingw64 target
@
text
@a260 1
changequote([,])dnl
a266 1
changequote(,)dnl
@


1.63
log
@bfd
* Makefile.am: Add rules to build pe-arm-wince.lo and pei-arm-wince.lo objects.
* Makefile.in: Regenerate.
* pe-arm-wince.c: New file.
* pei-arm-wince.c: New file.
* pei-arm.c: Remove ARM_WINCE block.
* pe-arm.c: Remove ARM_WINCE block. Rename
bfd_arm_pe_allocate_interworking_sections,
bfd_arm_pe_get_bfd_for_interworking, and
bfd_arm_pe_process_before_allocation to
bfd_armpe_allocate_interworking_sections,
bfd_armpe_get_bfd_for_interworking, and
bfd_armpe_process_before_allocation. Move them before including bfd.h.
* bfd.c: ARM wince bfd format names were renamed. Adjust.
* coff-arm.c [ARM_WINCE]: Adjust so Windows CE doesn't end up with unexpected/conflicting relocs.
* targets.c: The arm-wince-pe target got its own new vector.  Adjust.
* config.bfd: Likewise.
* configure.in: Likewise.
* configure: Regenerate.

binutils
* configure.in: Split arm-pe and arm-wince-pe. Build dlltool with -DDLLTOOL_ARM_WINCE for Windows CE case.
* configure: Regenerate.
* dlltool.c: Add support for arm-wince.

gas
* Makefile.am (TARG_ENV_HFILES): Add te-wince-pe.h.
* Makefile.in: Regenerate.
* config/tc-arm.h [TARGET_FORMAT]: ARM wince bfd names were  renamed. Adjust.

ld
* Makefile.am: Split arm-wince into its own emulation.
* Makefile.in: Regenerate.
* configure.tgt: Set targ_emul to arm_wince_pe for ARM Windows CE targets.
* pe-dll.c : Define PE_ARCH_arm_wince.
  (pe_detail_list): Add PE_ARCH_arm_wince case.
  (make_one): Handle PE_ARCH_arm_epoc and PE_ARCH_arm_wince cases.
* emulparams/arm_wince_pe.sh: New file.
* emultempl/pe.em: Handle new TARGET_IS_arm_wince_pe define.
  Remap bfd_arm_allocate_interworking_sections, bfd_arm_get_bfd_for_interworking and
  bfd_arm_process_before_allocation for arm-pe and arm-wince-pe targets too.
  (gld_${EMULATION_NAME}_recognized_file): Handle arm-wince and arm-epoc bfd format names.
@
text
@d260 8
@


1.62
log
@Configury changes: update src repository (binutils, gdb, and rda) to use
config/gettext-sister.m4 instead of the old gettext.m4.  Regenerate all
affected autotools files.  Include intl in gdb releases again.
@
text
@d245 6
a250 1
	arm-*-pe* | arm-*-wince)
@


1.61
log
@
2006-04-06  Carlos O'Donell <carlos@@codesourcery.com>

	* Makefile.tpl: Add install-html target.
	* Makefile.def: Add install-html target.
	* Makefile.in: Regenerate.
	* configure.in: Add --with-datarootdir, --with-docdir,
	and --with-htmldir options.
	* configure: Regenerate.

bfd/

2006-04-06  Carlos O'Donell  <carlos@@codesourcery.com>

	* po/Make-in: Add install-html target.
	* Makefile.am: Rename docdir to bfddocdir. Add datarootdir, docdir
	htmldir. Add install-html and install-html-recursive targets.
	* Makefile.in: Regenerate.
	* configure.in: AC_SUBST for datarootdir, docdir and htmldir.
	* configure: Regenerate.

bfd/doc/

2006-04-06  Carlos O'Donell  <carlos@@codesourcery.com>

	* Makefile.am: Add install-html and install-html-am targets.
	Define datarootdir, docdir and htmldir.
	* Makefile.in: Regenerate.

binutils/

2006-04-06  Carlos O'Donell  <carlos@@codesourcery.com>

	* po/Make-in: Add install-html target.
	* Makefile.am: Add install-html and install-html-recursive targets.
	* Makefile.in: Regenerate.
	* configure.in: AC_SUBST datarootdir, docdir and htmldir.
	* configure: Regenerate.
	* doc/Makefile.am: Add install-html and install-html-am targets.
	* doc/Makefile.in: Regenerate.

etc/

2006-04-06  Carlos O'Donell  <carlos@@codesourcery.com>

	* Makefile.in: Add install-html target. Add htmldir,
	docdir and datarootdir.
	* configure.texi: Document install-html target.
	* configure.in: AC_SUBST datarootdir, docdir, htmldir.
	* configure: Regenerate.

gas/

2006-04-06  Carlos O'Donell  <carlos@@codesourcery.com>

	* po/Make-in: Add install-html target.
	* Makefile.am: Add install-html and install-html-recursive targets.
	* Makefile.in: Regenerate.
	* configure.in: AC_SUBST datarootdir, docdir, htmldir.
	* configure: Regenerate.
	* doc/Makefile.am: Add install-html and install-html-am targets.
	* doc/Makefile.in: Regenerate.

gprof/

2006-04-06  Carlos O'Donell  <carlos@@codesourcery.com>

	* po/Make-in: Add install-html target.
	* Makefile.am: Add install-html, install-html-am and
	install-html-recursive targets.
	* Makefile.in: Regenerate.
	* configure.in: AC_SUBST datarootdir, docdir, htmldir.
	* configure: Regenerate.

intl/

2006-04-06  Carlos O'Donell  <carlos@@codesourcery.com>

	* intl/Makefile.in: Add html info and dvi and install-html to .PHONY
	Add install-html target.

ld/

2006-04-06  Carlos O'Donell  <carlos@@codesourcery.com>

	* Makefile.am: Add install-html, install-html-am, and
	install-html-recursive targets.
	* Makefile.in: Regenerate.
	* configure.in: AC_SUBST datarootdir, docdir, htmldir.
	* configure: Regenerate.
	* po/Make-in: Add install-html target.

opcodes/

2006-04-06  Carlos O'Donell  <carlos@@codesourcery.com>

	* Makefile.am: Add install-html target.
	* Makefile.in: Regenerate.
@
text
@d50 2
a51 1
CY_GNU_GETTEXT
d355 1
a355 6
AC_OUTPUT(Makefile doc/Makefile po/Makefile.in:po/Make-in,
[
case "x$CONFIG_FILES" in
*) sed -e '/POTFILES =/r po/POTFILES' po/Makefile.in > po/Makefile ;;
esac
])
@


1.60
log
@	* configure.in (CHECK_DECLS): Add snprintf and vsnprintf.
	* configure: Regenerate.
	* objdump.c (fprintf): Remove declaration.
	* bucomm.h (fprintf): Declare if not already declared.
	(snprintf): Likewise.
	(vsnprintf): Likewise.
@
text
@d349 5
@


1.60.2.1
log
@
2006-04-03  Carlos O'Donell <carlos@@codesourcery.com>

	* Makefile.tpl: Add install-html target.
	* Makefile.def: Add install-html target.
	* Makefile.in: Regenerate.
	* configure.in: Add --with-datarootdir, --with-docdir,
	and --with-htmldir options.
	* configure: Regenerate.
	* opcodes/Makefile.am: Add install-html target.
	* opcodes/Makefile.in: Regenerate.
	* libiberty/Makefile.in: Add install-html, install-html-am, and
	install-html-recursive targets. Define mkdir_p and
	NORMAL_INSTALL.
	* libiberty/configure.ac: AC_SUBST datarootdir, docdir, htmldir.
	* libiberty/configure: Regenerate.
	* libiberty/testsuite/Makefile.in: Add install-html and html targets.
	* ld/Makefile.am: Add install-html, install-html-am, and
	install-html-recursive targets.
	* ld/Makefile.in: Regenerate.
	* ld/configure.in: AC_SUBST datarootdir, docdir, htmldir.
	* ld/configure: Regenerate.
	* ld/po/Make-in: Add install-html target.
	* intl/Makefile.in: Add html info and dvi and install-html to .PHONY
	Add install-html target.
	* gprof/po/Make-in: Add install-html target.
	* gprof/Makefile.am: Add install-html, install-html-am and
	install-html-recursive targets.
	* gprof/Makefile.in: Regenerate.
	* gprof/configure.in: AC_SUBST datarootdir, docdir, htmldir.
	* gprof/configure: Regenerate.
	* gas/po/Make-in: Add install-html target.
	* gas/Makefile.am: Add install-html and install-html-recursive targets.
	* gas/Makefile.in: Regenerate.
	* gas/configure.in: AC_SUBST datarootdir, docdir, htmldir.
	* gas/configure: Regenerate.
	* gas/doc/Makefile.am: Add install-html and install-html-am targets.
	* gas/doc/Makefile.in: Regenerate.
	* binutils/po/Make-in: Add install-html target.
	* binutils/Makefile.am: Add install-html and install-html-recursive targets.
	* binutils/Makefile.in: Regenerate.
	* binutils/configure.in: AC_SUBST datarootdir, docdir and htmldir.
	* binutils/configure: Regenerate.
	* binutils/doc/Makefile.am: Add install-html and install-html-am targets.
	* binutils/doc/Makefile.in: Regenerate.
	* bfd/po/Make-in: Add install-html target.
	* bfd/Makefile.am: Rename docdir to bfddocdir. Add datarootdir, docdir
	htmldir. Add install-html and install-html-recursive targets.
	* bfd/Makefile.in: Regenerate.
	* bfd/configure.in: AC_SUBST for datarootdir, docdir and htmldir.
	* bfd/configure: Regenerate.
	* bfd/doc/Makefile.am: Add install-html and install-html-am targets.
	Define datarootdir, docdir and htmldir.
	* bfd/doc/Makefile.in: Regenerate.
	* etc/Makefile.in: Add install-html target. Add htmldir,
	docdir and datarootdir.
	* etc/configure.texi: Document install-html target.
	* etc/configure.in: AC_SUBST datarootdir, docdir, htmldir.
	* etc/configure: Regenerate.
@
text
@a348 5
# Required for html and install-html
AC_SUBST(datarootdir)
AC_SUBST(docdir)
AC_SUBST(htmldir)

@


1.60.2.2
log
@	bfd/
	* Makefile.am: (VERSUFFIX_s): New. Pass it to compiler
	via -D.
	* Makefile.in: Regenerated.
	* configure: Regenerated.
	* configure.in: Add --with-versuffix option.
	* version.h: Add BFD_VERSION_SUFFIX, use it
	in BFD_VERSION_STRING.

	binutils/
	* Makefile.am: (REPORT_BUGS_TO_s): New. Pass it to compiler
	via -D.
	* Makefile.in: Regenerated.
	* configure: Regenerated.
	* configure.in: Add --with-bugurl option.

	gas/
	* Makefile.am: (REPORT_BUGS_TO_s): New. Pass it to compiler
	via -D.
	* Makefile.in: Regenerated.
	* configure: Regenerated.
	* configure.in: Add --with-bugurl option.

	gprof/
	* Makefile.am: (VERSUFFIX_s, REPORT_BUGS_TO_s): New. Pass
	them to compiler via -D.
	* Makefile.in: Regenerated.
	* configure: Regenerated.
	* configure.in: Add --with-versuffix and --with-bugurl option.
	* gprof.c: Print version suffix.

	ld/
	* Makefile.am: (REPORT_BUGS_TO_s): New. Pass it to compiler
	via -D.
	* Makefile.in: Regenerated.
	* configure: Regenerated.
	* configure.in: Add --with-bugurl option.
@
text
@a31 13
# The location to which bugs should be reported.
AC_ARG_WITH(bugurl,
  AS_HELP_STRING([--with-bugurl=URL],
                 [Direct users to URL to report a bug]),
  [case "$withval" in
    yes) AC_MSG_ERROR([bug URL not specified]) ;;
    no)  REPORT_BUGS_TO="" ;;
    *)   REPORT_BUGS_TO="<URL:$withval>" ;;
   esac],
   REPORT_BUGS_TO=""
)
AC_SUBST(REPORT_BUGS_TO)

@


1.60.2.3
log
@	binutils/
	* Makefile.am: Rebuild dependencies.
	(REPORT_BUGS_TO): Always defined.
	(INCLUDES): Adjust.
	* Makefile.in: Rebuilt.
	* configure.in (REPORT_BUGS_TO): Provide default value.
	* configure: Rebuilt.
	* bucomm.h: Remove bin-bugs.h.
	* addr2line.c (usage): Don't print empty REPORT_BUGS_TO.
	* coffdump.c (show_usage): Likewise.
	* cxxfilt.c (usage): Likewise.
	* nlmconv.c (show_usage): Likewise.
	* nm.c (usage): Likewise.
	* objcopy.c (copy_usage, strip_usage): Likewise.
	* objdump.c (usage): Likewise.
	* size.c (usage): Likewise.
	* srconv.c (show_usage): Likewise.
	* string.c (usage): Likewise.
	* sysdymp.c (show_usage): Likewise.
	* windres.c (usage): Likewise.
	* readelf (usage): Likewise. Add STREAM argument.  Adjust callers.

	gas/
	* Makefile.am: Rebuild dependencies.
	(REPORT_BUGS_TO): Always defined.
	(INCLUDES): Adjust.
	* Makefile.in: Rebuilt.
	* configure.in (REPORT_BUGS_TO): Provide default value.
	* configure: Rebuilt.
	* as.c (show_usage): Don't print empty REPORT_BUGS_TO.
	* as.h: Remove bin-bugs.h.

	ld/
	* Makefile.am: Rebuild dependencies.
	(REPORT_BUGS_TO): Always defined.
	(INCLUDES): Adjust.
	* Makefile.in: Rebuilt.
	* configure.in (REPORT_BUGS_TO): Provide default value.
	* configure: Rebuilt.
	* ld.h: Remove bin-bugs.h
	* lexsup.c (help):  Don't print empty REPORT_BUGS_TO.

	gprof/
	* Makefile.am: Rebuild dependencies.
	(REPORT_BUGS_TO): Always defined.
	(PKGVERSION): Define.
	(INCLUDES): Adjust.
	* Makefile.in: Rebuilt.
	* configure.in (REPORT_BUGS_TO): Provide default value.
	* configure: Rebuilt.
	* gprof.c (usage): Don't print empty REPORT_BUGS_TO.
	* gprof.h: Remove bin-bugs.h

	include/
	* bin-bugs.h: Remove.
@
text
@d41 1
a41 1
   REPORT_BUGS_TO="<URL:http://www.sourceware.org/bugzilla/>"
@


1.60.2.4
log
@	binutils/
	* Makefile.am (TOOL_PROGS): Set from @@TOOL_PROGS@@.
	(install-exec-local): Protect against TOOL_PROGS being empty.
	* configure.in (TOOL_PROGS): New, set it appropriately.
	* Makefile.in: Rebuilt.
	* configure: Rebuilt.
@
text
@a218 1
TOOL_PROGS="nm-new strip-new ar ranlib dlltool objdump"
a226 1
	TOOL_PROGS="$TOOL_PROGS objcopy"
a312 5
	case $targ in
	*-uclinux)
	  TOOL_PROGS="$TOOL_PROGS objcopy"
	  ;;
	esac
a319 3
# Remove duplicates from TOOL_PROGS
TOOL_PROGS="`echo $TOOL_PROGS | tr ' ' '\012' | sort -u | tr '\012' ' '`"

a328 1
AC_SUBST(TOOL_PROGS)
@


1.59
log
@Add new Vietnamese translation
@
text
@d175 2
a176 1
AC_CHECK_DECLS([fprintf, stpcpy, strstr, sbrk, getenv, environ, getc_unlocked])
@


1.58
log
@	PR binutils/1486
binutils/:
	* configure.in: Don't define DISASSEMBLER_NEEDS_RELOCS.
	* configure: Regenerate.
	* objdump.c (struct objdump_disasm_info): Don't check for
	DISASSEMBLER_NEEDS_RELOCS.
	(objdump_print_addr): Likewise.
	(disassemble_bytes): Check disassembler_needs_relocs from
	disassemble_info at run-time instead of DISASSEMBLER_NEEDS_RELOCS
	at compile-time.
	(disassemble_section): Likewise.
	(disassemble_data): Initialize it.

include/:
	* dis-asm.h (struct disassemble_info): Add
	disassembler_needs_relocs.

objdump/:
	* disassemble.c (disassemble_init_for_target): Set
	disassembler_needs_relocs for bfd_arch_arm.
@
text
@d49 1
a49 1
ALL_LINGUAS="fr tr ja es sv da zh_CN ru ro rw zh_TW fi"
@


1.57
log
@Add Finnish translation
@
text
@a252 3
  	arm*-* | xscale-* | strongarm-* | d10v-*)
	  OBJDUMP_DEFS="-DDISASSEMBLER_NEEDS_RELOCS"
	  ;;
@


1.56
log
@2005-08-16  H.J. Lu  <hongjiu.lu@@intel.com>

	* bucomm.h (stpcpy): Declare if HAVE_DECL_STPCPY isn't defined.

	* configure.in (AC_GNU_SOURCE): Added.
	(AC_CHECK_DECLS): Add stpcpy.
	* configure: Regenerated.
	* config.in: Likewise.
@
text
@d49 1
a49 1
ALL_LINGUAS="fr tr ja es sv da zh_CN ru ro rw zh_TW"
@


1.55
log
@	* configure.in (AM_BINUTILS_WARNINGS): Add.
	(BFD_NEED_DECLARATION): Replace with AC_CHECK_DECLS.
	* configure: Regenerate.
	* config.in: Regenerate.
	* objdump.c (NEED_DECLARATION_*): Replace with !HAVE_DECL_*.
	* bucomm.h: (NEED_DECLARATION_*): Ditto.
@
text
@d44 1
d175 1
a175 1
AC_CHECK_DECLS([fprintf, strstr, sbrk, getenv, environ, getc_unlocked])
@


1.54
log
@Patch from Steve Ellcey for hpux build failure.
* configure.in: Check for getc_unlocked prototype.
* configure: Regenerate.
* config.in: Regenerate.
* strings.c (get_char): Only call getc_unlocked if we have seen a
prototype.
@
text
@d32 1
a32 23
dnl FIXME: The following is bfd/warning.m4 contents expanded
dnl When converting to current autotools, please replace with
dnl AM_BINUTILS_WARNINGS
WARN_CFLAGS="-W -Wall -Wstrict-prototypes -Wmissing-prototypes"

AC_ARG_ENABLE(werror,
  [  --enable-werror    treat compile warnings as errors],
  [case "${enableval}" in
     yes | y) ERROR_ON_WARNING="yes" ;;
     no | n)  ERROR_ON_WARNING="no" ;;
     *) AC_MSG_ERROR(bad value ${enableval} for --enable-werror) ;;
   esac])

# Enable -Werror by default when using gcc
if test "${GCC}" = yes -a -z "${ERROR_ON_WARNING}" ; then
    ERROR_ON_WARNING=yes
fi

NO_WERROR=
if test "${ERROR_ON_WARNING}" = yes ; then
    WARN_CFLAGS="$WARN_CFLAGS -Werror"
    NO_WERROR="-Wno-error"
fi
a33 19
AC_ARG_ENABLE(build-warnings,
[  --enable-build-warnings Enable build-time compiler warnings],
[case "${enableval}" in
  yes)	;;
  no)	WARN_CFLAGS="-w";;
  ,*)   t=`echo "${enableval}" | sed -e "s/,/ /g"`
        WARN_CFLAGS="${WARN_CFLAGS} ${t}";;
  *,)   t=`echo "${enableval}" | sed -e "s/,/ /g"`
        WARN_CFLAGS="${t} ${WARN_CFLAGS}";;
  *)    WARN_CFLAGS=`echo "${enableval}" | sed -e "s/,/ /g"`;;
esac])

if test x"$silent" != x"yes" && test x"$WARN_CFLAGS" != x""; then
  echo "Setting warning flags = $WARN_CFLAGS" 6>&1
fi

AC_SUBST(WARN_CFLAGS)
AC_SUBST(NO_WERROR)

d174 1
a174 6
BFD_NEED_DECLARATION(fprintf)
BFD_NEED_DECLARATION(strstr)
BFD_NEED_DECLARATION(sbrk)
BFD_NEED_DECLARATION(getenv)
BFD_NEED_DECLARATION(environ)
AC_CHECK_DECLS(getc_unlocked)
@


1.53
log
@* configure.in (ALL_LINGUAS): Add zh_TW
* configure: Regenerate.
* po/zh_TW.po: New Chinese (traditional) translation.
@
text
@d220 1
@


1.52
log
@./
	* ylwrap: Import from Automake 1.9.5.
binutils/
	* acinclude.m4: Remove obsolete code.
	* configure.in: Update AC_PREREQ.
	* doc/Makefile.am (binutils_TEXINFOS): Define.
	(config.texi): Depend on distributed files instead of built
	files.
	(binutils.dvi, binutils.info): Remove unnecessary rules.
	(DISTCLEANFILES): Remove.
	(install-data-local): Renamed from install.
	(info-local): Renamed from info.
	* Makefile.in, aclocal.m4, config.in, configure,
	doc/Makefile.in: Regenerated.
gas/
	* Makefile.am (m68k-parse.c, itbl-parse.c): Update ylwrap
	invocation.
	* Makefile.in: Regenerated.
ld/
	* Makefile.am (AM_MAKEINFOFLAGS): Define.
	(TEXI2DVI): Define.
	(ldver.texi): Depend on distributed files instead of built files.
	(ld.info): Include $(srcdir) in the rule target.  Remove actions.
	(ld.dvi): Remove actions.
	(MAINTAINERCLEANFILES): Add configdoc.texi.
	(CONFIG_STATUS_DEPENDENCIES): Add bfd/configure.in.
	(install-data-local): Renamed from install.
	(Makefile): Remove explicit dependency.
	* acinclude.m4: Remove obsolete code.
	* configure.in: Update AC_PREREQ.  Remove extra $CONFIG_SHELL.
	* Makefile.in, aclocal.m4, config.in, configure: Regenerated.
gdb/
	* Makefile.in (.y.c): Update ylwrap invocation.
@
text
@d89 1
a89 1
ALL_LINGUAS="fr tr ja es sv da zh_CN ru ro rw"
@


1.51
log
@bfd/
	* Makefile.am (NO_WERROR): Define.
	* warning.m4: New file
	* acinclude.m4: Include warning.m4.
	* configure.in: Invoke AM_BINUTILS_WARNINGS.
	* Makefile.in: Regenerate.
	* configure: Regenerate.
bfd/doc/
	* Makefile.in: Regenerate.
binutils/
	* Makefile.am (NO_WERROR): Define.  Use instead of -Wno-error.
	* configure.in: Include ../bfd/warning.m4 contents.
	* Makefile.in: Regenerate.
	* configure: Regenerate.
	* doc/Makefile.in: Regenerate.
gas/
	* Makefile.am (NO_WERROR): Define.  Use instead of -Wno-error.
	* acinclude.m4: Include ../bfd/warning.m4.
	* configure.in: Invoke AM_BINUTILS_WARNINGS.
	* Makefile.in: Regenerate.
	* configure: Regenerate.
	* doc/Makefile.in: Regenerate.
gprof/
	* Makefile.am (NO_WERROR): Define.
	* acinclude.m4: Include ../bfd/warning.m4.
	* configure.in: Invoke AM_BINUTILS_WARNINGS.
	* Makefile.in: Regenerate.
	* aclocal.m4: Regenerate.
	* configure: Regenerate.
ld/
	* Makefile.am (NO_WERROR): Define.  Use instead of -Wno-error.
	* configure.in: Include ../bfd/warning.m4 contents.
	* Makefile.in: Regenerate.
	* configure: Regenerate.
opcodes/
	* Makefile.am (NO_WERROR): Define.
	* configure.in: Invoke AM_BINUTILS_WARNINGS.
	* Makefile.in: Regenerate.
	* aclocal.m4: Regenerate.
	* configure: Regenerate.
@
text
@d3 1
a3 1
AC_PREREQ(2.13)
@


1.50
log
@2005-04-06  Nick Clifton  <nickc@@redhat.com>
	    H.J. Lu  <hongjiu.lu@@intel.com>

	* po/rw.po: New translation: Kinyarwanda.
	* configure.in (ALL_LINGUAS): Add rw.
	* configure: Regenerate.
@
text
@d32 4
a35 1
build_warnings="-W -Wall -Wstrict-prototypes -Wmissing-prototypes"
d45 3
a47 5
# Enable -Werror by default, suppressing it only for --disable-werror
# or --disable-build-warnings.
if test "${ERROR_ON_WARNING}" != no
then
  build_warnings="$build_warnings -Werror"
d50 6
d57 1
a57 1
[  --enable-build-warnings Enable build-time compiler warnings if gcc is used],
d60 1
a60 1
  no)	build_warnings="-w";;
d62 1
a62 1
        build_warnings="${build_warnings} ${t}";;
d64 6
a69 9
        build_warnings="${t} ${build_warnings}";;
  *)    build_warnings=`echo "${enableval}" | sed -e "s/,/ /g"`;;
esac
if test x"$silent" != x"yes" && test x"$build_warnings" != x""; then
  echo "Setting warning flags = $build_warnings" 6>&1
fi])dnl
WARN_CFLAGS=""
if test "x${build_warnings}" != x -a "x$GCC" = xyes ; then
    WARN_CFLAGS="${build_warnings}"
d71 1
d73 1
@


1.49
log
@Add a check for <unistd.h> providing a prototype for getopt() which is compatible
with the one in	include/getopt.h.  If so then define HAVE_DECL_GETOPT.
@
text
@d83 1
a83 1
ALL_LINGUAS="fr tr ja es sv da zh_CN ru ro"
@


1.48
log
@Rename switch to enable/disable -Werror to --enable-werror/--disable-werror
for compatibility with gcc.
@
text
@d183 10
@


1.47
log
@Enable -Werror by default
@
text
@d34 2
a35 2
AC_ARG_ENABLE(error-on-warning,
  [  --enable-error-on-warning    treat compile warnings as errors],
d39 1
a39 1
     *) AC_MSG_ERROR(bad value ${enableval} for --enable-error-on-warning) ;;
d42 1
a42 1
# Enable -Werror by default, suppressing it only for --disable-error-on-warning
d48 1
a48 1
		   
@


1.46
log
@Add Romanian translation
@
text
@d33 16
@


1.45
log
@binutils/:
	* configure.in: Don't define SKIP_ZEROES.
	* configure: Regenerate.
	* objdump.c (disassemble_data): Set skip_zeroes and
	skip_zeroes_at_end in disasm_info to defaults.
	(DEFAULT_SKIP_ZEROES): Rename from SKIP_ZEROES and always define.
	(DEFAULT_SKIP_ZEROES_AT_END): Rename from SKIP_ZEROES_AT_END and
	always define.
	(disassemble_bytes): Use skip_zeroes and skip_zeroes_at_end from
	objdump_disasm_info.

include/:
	* dis-asm.h (struct disassemble_info): Add skip_zeroes and
	skip_zeroes_at_end.

opcodes/:
	* disassemble.c (disassemble_init_for_target) <case
	bfd_arch_ia64>: Set skip_zeroes to 16.
	<case bfd_arch_tic4x>: Set skip_zeroes to 32.
@
text
@d67 1
a67 1
ALL_LINGUAS="fr tr ja es sv da zh_CN ru"
@


1.45.2.1
log
@Add Romanian translation
@
text
@d67 1
a67 1
ALL_LINGUAS="fr tr ja es sv da zh_CN ru ro"
@


1.44
log
@	* strings.c (statbuf): New typedef.
	(file_stat): Define.
	(strings_object_file): Avoid using get_file_size, instead do the
	checks here, using file_stat.
	* configure.in (HAVE_STAT64): New test.
	* configure: Rebuilt.
	* config.in: Rebuilt.
@
text
@a312 6
        c4x-*-* | tic4x-*-*)
          OBJDUMP_DEFS="$OBJDUMP_DEFS -DSKIP_ZEROES=32"
          ;;
	ia64-*-*)
	  OBJDUMP_DEFS="$OBJDUMP_DEFS -DSKIP_ZEROES=16"
	  ;;
@


1.43
log
@Add Russian translation
@
text
@d121 21
a141 4
  if test "$bu_cv_have_fopen64" = "need -D_LARGEFILE64_SOURCE"; then
    AC_DEFINE([_LARGEFILE64_SOURCE], 1,
	      [Enable LFS])
  fi
@


1.42
log
@Replace i[3456]86 with i[3-7]86
@
text
@d67 1
a67 1
ALL_LINGUAS="fr tr ja es sv da zh_CN"
d264 7
@


1.41
log
@New (simplified) Chinese translation
@
text
@d211 1
a211 1
	i[3456]86*-*-netware*) 
d252 1
a252 1
	i[3-6]86-*-pe* | i[3-6]86-*-cygwin* | i[3-6]86-*-mingw32** | i[3-6]86-*-netbsdpe*)
d259 3
a261 1
	i[3-6]86-*-interix)
@


1.40
log
@	* configure.in: Recognize canonical form of i[3-6]86-pe*.
	* configure: Regenerate.
@
text
@d67 1
a67 1
ALL_LINGUAS="fr tr ja es sv da"
@


1.40.2.1
log
@	Merge from mainline:

	2003-05-13  Michael Eager <eager@@mvista.com>
	* objcopy.c: Treat identical src/dst file names as if only one
	entered.  One Windows creating an output file of the same name as
	the input file will delete the input file before it is read.

	2003-05-12  Salvador Eduardo Tropea  <salvador@@inti.gov.ar>
	* debug.c (debug_get_real_type): Extend test for circular debug
	references.

	2003-05-12  Nick Clifton  <nickc@@redhat.com>
	* configure.in (ALL_LINGUAS): Add zh_CN.
	* configure: Regenerate.
	* po/zh_CN.po: New file: Chinese (simplified) translation.

	2003-05-07  H.J. Lu <hongjiu.lu@@intel.com>
	* readelf.c (dump_relocations): Enlarge the type field in wide
	mode by one character.
@
text
@d67 1
a67 1
ALL_LINGUAS="fr tr ja es sv da zh_CN"
@


1.39
log
@Change "arm-pe*" to "arm-*-pe*".  Similarly for thumb-pe*, mcore-pe and
mcore-*elf.
@
text
@d252 1
a252 1
	i[3-6]86-pe* | i[3-6]86-*-cygwin* | i[3-6]86-*-mingw32** | i[3-6]86-*-netbsdpe*)
@


1.38
log
@Fix IA-64 opc-d.x gas testsuite failure.
binutils/ChangeLog
	* configure.in (OBJDUMP_DEFS): Define SKIP_ZEROES as 16 for IA-64.
	* configure: Regenerate.
gas/testsuite/ChangeLog
	* gas/ia64/opc-x.d: Regenerate.
@
text
@d238 1
a238 1
	arm-pe* | arm-*-wince)
d243 1
a243 1
	thumb-pe*)
d278 1
a278 1
	mcore-pe)
d283 1
a283 1
	mcore-*elf)
@


1.37
log
@Added/Updated Danish translation.
@
text
@d290 3
@


1.36
log
@Define SKIP_ZEROES as 32 for tic4x target in order to ensure proper
disassembly of the valid 0-value opcode.
@
text
@d67 1
a67 1
ALL_LINGUAS="fr tr ja es sv"
@


1.35
log
@binutils:
	* Makefile.am (CFILES): Add cxxfilt.c.
	(cxxfilt_SOURCES): Now just cxxfilt.c $(BULIBS).
	(cxxfilt_LDADD): Delete.
	Remove all references to underscore.c.
	Regen dependencies.
	* configure.in: Define TARGET_PREPENDS_UNDERSCORE in
	config.h from $UNDERSCORE, rather than AC_SUBSTing it.
	* binutils/cxxfilt.c: Moved here from gcc/cp, minor
	adjustments to fit into binutils framework.
	* configure, config.in, Makefile.in, doc/Makefile.in: Regenerate.

gcc/cp:
	* Make-lang.in: Remove all references to the demangler.
	* cxxfilt.c: Moved to binutils.
@
text
@d287 3
@


1.34
log
@	* configure.in: Quote bu_cv_have_fopen64.
	* configure: Regenerate.
@
text
@d314 2
a315 1
AC_SUBST(UNDERSCORE)
@


1.34.2.1
log
@        * configure.in (LINGUAS): Add 'da'.
        * configure: Regenerate.
        * po/da.po: New Danish translation.
@
text
@d67 1
a67 1
ALL_LINGUAS="fr tr ja es sv da"
@


1.33
log
@	* configure.in: Check for strcoll.
	* configure: Regenerate.
	* config.in: Regenerate.
	* nm.c (main): Set locale for LC_COLLATE category.
	(non_numeric_forward): Use strcoll if available.
@
text
@d118 1
a118 1
if test $bu_cv_have_fopen64 != no; then
d121 1
a121 1
  if test $bu_cv_have_fopen64 = "need -D_LARGEFILE64_SOURCE"; then
@


1.32
log
@New Swedish translation
@
text
@d103 1
a103 1
AC_CHECK_FUNCS(sbrk utimes setmode getc_unlocked)
@


1.31
log
@Add a target for i386-netbsdpe.
@
text
@d67 1
a67 1
ALL_LINGUAS="fr tr ja es"
@


1.30
log
@	* configure.in: Replace `*pe' with `pe' throughout.
@
text
@d252 1
a252 1
	i[3-6]86-pe* | i[3-6]86-*-cygwin* | i[3-6]86-*-mingw32*)
@


1.29
log
@Add AIX 64 shared library support and emulation layer for binutils
@
text
@d238 1
a238 1
	arm-*pe* | arm-*-wince)
d243 1
a243 1
	thumb-*pe*)
d252 1
a252 1
	i[3-6]86-*pe* | i[3-6]86-*-cygwin* | i[3-6]86-*-mingw32*)
d263 1
a263 1
	powerpc*-*-*pe* | powerpc*-*-cygwin*)
d268 1
a268 1
	sh*-*-*pe)
d273 1
a273 1
	mips*-*-*pe)
d278 1
a278 1
	mcore-*pe)
@


1.28
log
@Add Spanish Translation
@
text
@d316 20
@


1.28.2.1
log
@Merge from mainline
@
text
@d238 1
a238 1
	arm-pe* | arm-*-wince)
d243 1
a243 1
	thumb-pe*)
d252 1
a252 1
	i[3-6]86-pe* | i[3-6]86-*-cygwin* | i[3-6]86-*-mingw32*)
d263 1
a263 1
	powerpc*-*-pe* | powerpc*-*-cygwin*)
d268 1
a268 1
	sh*-*-pe)
d273 1
a273 1
	mips*-*-pe)
d278 1
a278 1
	mcore-pe)
@


1.27
log
@Import japanese translation from translation project.
@
text
@d67 1
a67 1
ALL_LINGUAS="fr tr ja"
@


1.26
log
@	* strings.c: Include config.h before bfd.h.
	(file_off): New type.
	(file_open): Define.
	(print_strings): Use file_off instead of file_ptr.  Print addresses
	which don't fit into long correctly.
	(get_char): Use file_off instead of file_ptr.  Use getc_unlocked if
	available.
	(strings_file): Use file_off instead of file_ptr.  Use file_open.
	* configure.in: Check for getc_unlocked.
	Check for fopen64 and whether _LARGEFILE64_SOURCE needs to
	be defined for it.
	* configure: Rebuilt.
	* config.h.in: Rebuilt.
@
text
@d67 1
a67 1
ALL_LINGUAS="fr tr"
@


1.25
log
@Add translations
@
text
@d103 23
a125 1
AC_CHECK_FUNCS(sbrk utimes setmode)
@


1.24
log
@	* configure.in: Add -Wstrict-prototypes and -Wmissing-prototypes
	to build warnings.
	* configure: Regenerate.
@
text
@d67 1
a67 1
ALL_LINGUAS=
@


1.23
log
@* configure.in: Added --with-windres option.
* configure: Regenerated.
@
text
@d32 1
a32 1
build_warnings="-W -Wall"
@


1.22
log
@Remove auot generated man pages
@
text
@d269 4
@


1.21
log
@Bump version to 2.11.90, fix missing dependencies in bfd/,
and run "make dep-am".
@
text
@d290 1
a290 1
AC_OUTPUT(Makefile po/Makefile.in:po/Make-in,
@


1.20
log
@2001-02-04  Philip Blundell  <philb@@gnu.org>

	* configure.in (OBJDUMP_DEFS): Match `arm*-*', not just `arm-*'.
	* configure: Regenerate.
@
text
@d9 4
a12 1
AM_INIT_AUTOMAKE(binutils, 2.10.91)
@


1.19
log
@Add OBJDUMP_DEFS to configure and makefile
Check for DISASSEMBLER_NEEDS_RELOCS in objdump and read in relocs if set.
@
text
@d223 1
a223 1
  	arm-* | xscale-* | strongarm-* | d10v-*)
@


1.19.2.1
log
@2001-02-04  Philip Blundell  <philb@@gnu.org>

	* configure.in (OBJDUMP_DEFS): Match `arm*-*', not just `arm-*'.
	* configure: Regenerate.
@
text
@d223 1
a223 1
  	arm*-* | xscale-* | strongarm-* | d10v-*)
@


1.19.2.2
log
@Update version numbers.
@
text
@d9 1
a9 1
AM_INIT_AUTOMAKE(binutils, 2.11)
@


1.19.2.3
log
@2001-06-10  Philip Blundell  <philb@@gnu.org>

	* configure.in: Set version to 2.11.1.
	* configure: Regenerate.
@
text
@d9 1
a9 1
AM_INIT_AUTOMAKE(binutils, 2.11.1)
@


1.19.2.4
log
@Merge from mainline.
@
text
@d9 1
a9 4
changequote(,)dnl
BFD_VERSION=`sed -n -e 's/^.._INIT_AUTOMAKE.*,[ 	]*\([^ 	]*\)[ 	]*).*/\1/p' < ${srcdir}/../bfd/configure.in`
changequote([,])dnl
AM_INIT_AUTOMAKE(binutils, ${BFD_VERSION})
@


1.18
log
@Add missing support for arm-epoc-pe.
@
text
@d174 1
d223 3
d274 1
@


1.17
log
@2000-09-07  H.J. Lu  <hjl@@gnu.org>

	* configure.in (AC_ISC_POSIX): Put after AC_CANONICAL_SYSTEM.
	* configure: Rebuild.
@
text
@d207 5
@


1.16
log
@Increase minor version number (to 2.10.91) to help tools detect the new
ability to support removal of duplciate DWARF@@ debug information.
@
text
@d7 1
@


1.15
log
@* configure.in (VERSION): Update to show this is the CVS mainline.

Approved by:	Nick Clifton <nickc@@cygnus.com>
		Message-Id: <200005222205.PAA14565@@elmo.cygnus.com>
@
text
@d8 1
a8 1
AM_INIT_AUTOMAKE(binutils, 2.10.90)
@


1.14
log
@Eli Zaretskii's DOSish file name patches.
@
text
@d8 1
a8 1
AM_INIT_AUTOMAKE(binutils, 2.9.5)
@


1.13
log
@Remove ``-W -Wall'' from top-level Makefile/configure.
Add ``-W -Wall'' to sub-directories bfd, binutils, gas gprof, ld and
opcodes by the addition of WARN_CFLAGS to Makefile.am and configury to
set it.  Add configure option --enable-build-warnings.
Re-generate all and sundry using auto*-000227.
@
text
@d99 1
a99 1
AC_CHECK_FUNCS(sbrk utimes)
@


1.12
log
@2000-02-25  H.J. Lu  <hjl@@gnu.org>

	* configure.in (AC_SEARCH_LIBS): Pass m, not -lm.
@
text
@d28 21
@


1.12.2.1
log
@2000-05-23  Philip Blundell  <pb@@futuretv.com>

	* configure.in: Set version to 2.10.
	* configure: Regenerate.
@
text
@d8 1
a8 1
AM_INIT_AUTOMAKE(binutils, 2.10)
@


1.12.2.2
log
@Eli Zaretskii's DOSish file name patches.
@
text
@d78 1
a78 1
AC_CHECK_FUNCS(sbrk utimes setmode)
@


1.12.2.3
log
@Merge from mainline
@
text
@a6 1
AC_ISC_POSIX
@


1.12.2.4
log
@Update version numbers.
@
text
@d9 1
a9 1
AM_INIT_AUTOMAKE(binutils, 2.10.1)
@


1.11
log
@2000-02-25  H.J. Lu  <hjl@@gnu.org>

	* configure.in (AC_SEARCH_LIBS): Pass lm, not -lm.
@
text
@d81 1
a81 1
AC_SEARCH_LIBS(frexp, lm)
@


1.10
log
@Add support for WinCE targeted toolchains.
@
text
@d81 1
a81 1
AC_SEARCH_LIBS(frexp, -lm)
@


1.9
log
@Fix problem with going to automake 2.14
@
text
@d185 1
a185 1
	arm-*pe*)
d210 10
@


1.8
log
@	* configure.in: Define and substitute DEMANGLER_NAME.
	* Makefile.am (DEMANGLER_PROG): Set to cxxfilt.
	(man_MANS): Use DEMANGLER_NAME rather than DEMANGLER_PROG.
	(bin_PROGRAMS): Remove $(DEMANGLER_PROG).
	(noinst_PROGRAMS): Add $(DEMANGLER_PROG).
	(cxxfilt_SOURCES): Rename from c__filt_SOURCES.
	(cxxfilt_LDADD): Rename from c__filt_LDADD.
	($(DEMANGLER_NAME).1): Rename from $(DEMANGLER_PROG).1.  Use
	DEMANGLER_NAME rather than DEMANGLER_PROG in substitution.
	(MOSTLYCLEANFILES): Use DEMANGLER_NAME rather than
	DEMANGLER_PROG.
	(install-exec-local): When installing noinst_PROGRAMS, change
	cxxfilt to $(DEMANGLER_NAME).
	* configure, Makefile.in: Rebuild.
@
text
@d133 1
a133 1
	result=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $targ 2>/dev/null`
@


1.7
log
@1999-08-05  Donn Terry  <donn@@interix.com>

	* Makefile.am (YACC): If bison is not in the source tree, use
	@@YACC@@ rather than bison -y.
	(LEX): If flex is not in the source tree, use @@LEX@@ rather than
	flex.
	* configure.in: Build dlltool for i[3-6]86-*-interix.
	* Makefile.in, configure: Rebuild.
@
text
@d68 7
@


1.6
log
@	* configure.in: Bump version number to 2.9.5.
	* configure: Rebuild.
@
text
@d182 1
a182 1
	 ;;
d187 1
a187 1
	 ;;
d195 5
a199 1
	 ;;
d204 1
a204 1
	 ;;
d209 1
a209 1
	 ;;
d213 1
a213 1
	 ;;
@


1.5
log
@1999-06-23  Mumit Khan  <khan@@xraylith.wisc.edu>
	* configure.in (HAVE_EXECUTABLE_SUFFIX): Define.
	* dlltool.c (look_for_prog): Use HAVE_EXECUTABLE_SUFFIX.
	* dllwrap.c (look_for_prog): Likewise.
	* resrc.c (look_for_default): Likewise.
	* configure, config.in: Rebuild.
@
text
@d8 1
a8 1
AM_INIT_AUTOMAKE(binutils, 2.9.4)
@


1.4
log
@	Based on patches from Mumit Khan <khan@@xraylith.wisc.EDU>:
	* configure.in: Define EXECUTABLE_SUFFIX.
	* dlltool.c: Include "dyn-string.h".  Include <stdarg.h> based on
	ANSI_PROTOTYPES, not __STDC__.
	(outfile): Remove.
	(gen_exp_file): Change uses of outfile to use alloca.
	(make_one_lib_file, make_head, make_tail): Likewise.
	(gen_lib_file): Likewise.
	(look_for_prog): New static function.
	(deduce_name): Rewrite to use look_for_prog.
	(mcore_elf_gen_out_file): Use dyn_string_t rather than outfile.
	* dllwrap.c: Don't include <stdio.h>, <errno.h>, <string.h>,
	<stdlib.h>, or <unistd.h>.  Include <sys/stat.h> and either
	<stdarg.h> or <varargs.h>.
	(driver_name): Initialize to NULL, not "gcc".
	(dlltool_name): Initialize to NULL, not "dlltool".
	(display, inform, look_for_prog, deduce_name): New static
	functions.
	(usage): Mention -mno-cygwin.
	(OPTION_MNO_CYGWIN): Define.
	(main): Handle -mno-cygwin.  Deduce driver_name and dlltool_name.
	* resrc.c (look_for_default): Make static.  Remove unused local
	path.  Check using EXECUTABLE_SUFFIX.
	(read_rc_file): Allocate enough space to hold EXECUTABLE_SUFFIX.
	* Makefile.am: Rebuild dependencies.
	(dllwrap_LDADD): Add $(INTLLIBS).
	* configure, Makefile.in, config.in: Rebuild.
@
text
@d47 4
@


1.3
log
@	* configure.in: If frexp is not available, check in -lm.
	* configure: Rebuild.
@
text
@d47 2
@


1.2
log
@Add support for mcore to dlltool.
@
text
@d67 3
@


1.1
log
@Initial revision
@
text
@d192 9
@


1.1.1.1
log
@19990502 sourceware import
@
text
@@

