head	1.30;
access;
symbols
	cygwin-1_7_35-release:1.30
	cygwin-1_7_34-release:1.30
	newlib-2_2_0:1.30.0.2
	cygwin-1_7_33-release:1.29
	cygwin-1_7_32-release:1.29
	cygwin-1_7_31-release:1.29
	cygwin-1_7_30-release:1.28
	cygwin-1_7_29-release:1.28
	cygwin-1_7_28-release:1.28
	newlib-2_1_0:1.28
	cygwin-1_7_27-release:1.27
	cygwin-1_7_26-release:1.27
	cygwin-1_7_25-release:1.26
	cygwin-1_7_24-release:1.26
	cygwin-1_7_23-release:1.26
	cygwin-1_7_22-release:1.26
	cygwin-1_7_21-release:1.26
	cygwin-1_7_20-release:1.23
	cygwin-1_7_19-release:1.23
	cygwin-64bit-postmerge:1.23
	cygwin-64bit-premerge-branch:1.23.0.2
	cygwin-64bit-premerge:1.23
	cygwin-1_7_18-release:1.23
	newlib-2_0_0:1.23
	cygwin-1_7_17-release:1.22
	cygwin-64bit-branch:1.21.0.2
	cygwin-1_7_16-release:1.21
	cygwin-1_7_15-release:1.21
	cygwin-1_7_14_2-release:1.21
	cygwin-1_7_14-release:1.21
	cygwin-1_7_12-release:1.21
	cygwin-1_7_11-release:1.21
	cygwin-1_7_10-release:1.21
	newlib-1_20_0:1.21
	cygwin-1_7_9-release:1.20
	cygwin-1_7_8-release:1.20
	newlib-1_19_0:1.20
	cygwin-1_7_7-release:1.19
	cygwin-1_7_5-release:1.19
	cygwin-1_7_4-release:1.19
	cygwin-1_7_3-release:1.19
	cygwin-1_7_2-release:1.19
	newlib-1_18_0:1.19
	cygwin-1_7_1-release:1.18
	newlib-1_17_0-arc:1.18.0.2
	binutils-arc-20080908-branch:1.17.0.2
	binutils-arc-20080908-branchpoint:1.17
	newlib-1_17_0:1.18
	newlib-1_16_0:1.17
	newlib-1_15_0:1.16
	newlib-csl-coldfire-4_1-32:1.14
	newlib-csl-sourcerygxx-4_1-32:1.14
	newlib-csl-innovasic-fido-3_4_4-33:1.14
	newlib-csl-coldfire-4_1-30:1.14
	newlib-csl-sourcerygxx-4_1-30:1.14
	newlib-csl-coldfire-4_1-28:1.14
	newlib-csl-sourcerygxx-4_1-28:1.14
	newlib-csl-arm-2006q3-27:1.14
	newlib-csl-sourcerygxx-4_1-27:1.14
	newlib-csl-arm-2006q3-26:1.14
	newlib-csl-sourcerygxx-4_1-26:1.14
	newlib-csl-sourcerygxx-4_1-24:1.14
	newlib-csl-sourcerygxx-4_1-23:1.14
	newlib-csl-sourcerygxx-4_1-21:1.14
	newlib-csl-arm-2006q3-21:1.14
	newlib-csl-arm-2006q3-19:1.14
	newlib-csl-sourcerygxx-4_1-19:1.14
	newlib-csl-sourcerygxx-4_1-18:1.14
	newlib-csl-sourcerygxx-3_4_4-25:1.14
	newlib-csl-sourcerygxx-4_1-17:1.14
	cr-0x5f1:1.14.0.6
	newlib-csl-sourcerygxx-4_1-14:1.14
	newlib-csl-sourcerygxx-4_1-13:1.14
	newlib-csl-sourcerygxx-4_1-12:1.14
	newlib-csl-sourcerygxx-4_1-9:1.14
	newlib-csl-sourcerygxx-4_1-8:1.14
	newlib-csl-sourcerygxx-4_1-7:1.14
	newlib-csl-arm-2006q1-6:1.14
	newlib-csl-sourcerygxx-4_1-6:1.14
	newlib-csl-sourcerygxx-4_1-5:1.14
	newlib-csl-sourcerygxx-4_1-4:1.14
	newlib-autotools-branch:1.14.0.4
	newlib-csl-20060320-branch:1.14.0.2
	newlib-csl-20060320-branchpoint:1.14
	newlib-1_14_0:1.14
	newlib-csl-arm-2005-q1b:1.13
	newlib-csl-arm-2005-q1a:1.13
	newlib-1_13_0:1.11
	csl-arm-2004-q3:1.10
	csl-arm-2004-q1a:1.10
	csl-arm-2004-q1:1.10
	newlib-1_12_0:1.10
	csl-arm-2003-q4:1.9
	w32api-2_2:1.8
	mingw-runtime-2_4:1.8
	newlib-1_11_0:1.8
	cygnus_cvs_20020108_pre:1.4
	newlib-1_10_0:1.4
	newlib-1_9_0:1.3
	newlib-2000-02-17:1.1.1.1
	SNAPSHOT:1.1.1;
locks; strict;
comment	@# @;
expand	@o@;


1.30
date	2014.12.18.20.28.43;	author jjohnstn;	state Exp;
branches;
next	1.29;

1.29
date	2014.07.04.17.21.41;	author jjohnstn;	state Exp;
branches;
next	1.28;

1.28
date	2013.12.23.20.44.59;	author jjohnstn;	state Exp;
branches;
next	1.27;

1.27
date	2013.10.18.08.43.05;	author corinna;	state Exp;
branches;
next	1.26;

1.26
date	2013.07.02.21.30.57;	author jjohnstn;	state Exp;
branches;
next	1.25;

1.25
date	2013.06.19.15.58.49;	author corinna;	state Exp;
branches;
next	1.24;

1.24
date	2013.06.13.11.43.44;	author corinna;	state Exp;
branches;
next	1.23;

1.23
date	2012.12.20.21.09.43;	author jjohnstn;	state Exp;
branches;
next	1.22;

1.22
date	2012.10.01.21.57.54;	author jjohnstn;	state Exp;
branches;
next	1.21;

1.21
date	2011.12.19.22.03.17;	author jjohnstn;	state Exp;
branches
	1.21.2.1;
next	1.20;

1.20
date	2010.12.16.21.58.39;	author jjohnstn;	state Exp;
branches;
next	1.19;

1.19
date	2009.12.17.20.40.05;	author jjohnstn;	state Exp;
branches;
next	1.18;

1.18
date	2008.12.22.19.45.40;	author jjohnstn;	state Exp;
branches;
next	1.17;

1.17
date	2007.12.19.22.36.26;	author jjohnstn;	state Exp;
branches;
next	1.16;

1.16
date	2006.12.18.22.21.47;	author jjohnstn;	state Exp;
branches;
next	1.15;

1.15
date	2006.10.27.19.22.57;	author jjohnstn;	state Exp;
branches;
next	1.14;

1.14
date	2005.12.16.20.49.37;	author jjohnstn;	state Exp;
branches;
next	1.13;

1.13
date	2005.01.10.16.24.12;	author jjohnstn;	state Exp;
branches;
next	1.12;

1.12
date	2005.01.06.19.38.30;	author jjohnstn;	state Exp;
branches;
next	1.11;

1.11
date	2004.12.17.22.47.49;	author jjohnstn;	state Exp;
branches;
next	1.10;

1.10
date	2004.02.02.22.51.24;	author jjohnstn;	state Exp;
branches;
next	1.9;

1.9
date	2003.05.30.21.47.40;	author jjohnstn;	state Exp;
branches;
next	1.8;

1.8
date	2002.12.21.01.41.47;	author jjohnstn;	state Exp;
branches;
next	1.7;

1.7
date	2002.07.22.16.40.48;	author fitzsim;	state Exp;
branches;
next	1.6;

1.6
date	2002.07.17.00.58.59;	author fitzsim;	state Exp;
branches;
next	1.5;

1.5
date	2002.04.25.18.12.38;	author fitzsim;	state Exp;
branches;
next	1.4;

1.4
date	2001.12.13.23.49.38;	author fitzsim;	state Exp;
branches;
next	1.3;

1.3
date	2000.12.14.22.15.19;	author jjohnstn;	state Exp;
branches;
next	1.2;

1.2
date	2000.06.22.22.38.08;	author ranjith;	state Exp;
branches;
next	1.1;

1.1
date	2000.02.17.19.39.46;	author cgf;	state Exp;
branches
	1.1.1.1;
next	;

1.21.2.1
date	2012.10.16.15.58.09;	author corinna;	state Exp;
branches;
next	;

1.1.1.1
date	2000.02.17.19.39.46;	author cgf;	state Exp;
branches;
next	;


desc
@@


1.30
log
@
2014-12-18  Jeff Johnston  <jjohnstn@@redhat.com>

        * NEWS: Update with 2.2.0 info.
        * README: Ditto.
        * acinclude.m4: Change version number to 2.2.0.
        * libc/libc.texinfo: Ditto.
        * libm/libm.texinfo: Ditto.
        * configure: Regenerated.
        * Makefile.in: Regenerated.
        * doc/configure: Ditto.
        * libc/*/configure: Ditto.
        * libm/*/configure: Ditto.
        * libc/sys/linux/shared.ld: Add VERS_2.2
@
text
@                        README for newlib-2.2.0 release
           (mostly cribbed from the README in the gdb-4.13 release)

This is `newlib', a simple ANSI C library, math library, and collection
of board support packages.

The newlib and libgloss subdirectories are a collection of software from
several sources, each wi6h their own copyright and license.  See the file
COPYING.NEWLIB for details.  The rest of the release tree is under either
the GNU GPL or LGPL licenses.

THIS SOFTWARE IS PROVIDED ``AS IS'' AND WITHOUT ANY EXPRESS OR
IMPLIED WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.


Unpacking and Installation -- quick overview
==========================

When you unpack the newlib-2.2.0.tar.gz file, you'll find a directory
called `newlib-2.2.0', which contains:

COPYING          config/          install-sh*      mpw-configure
COPYING.LIB      config-ml.in     libgloss/        mpw-install
COPYING.NEWLIB   config.guess*    mkinstalldirs*   newlib/
CYGNUS           config.sub*      move-if-change*  symlink-tree*
ChangeLog        configure*       mpw-README       texinfo/
Makefile.in      configure.in     mpw-build.in
README           etc/             mpw-config.in

To build NEWLIB, you must follow the instructions in the section entitled
"Compiling NEWLIB".

This will configure and build all the libraries and crt0 (if one exists).
If `configure' can't determine your host system type, specify one as its
argument, e.g., sun4 or sun4sol2.  NEWLIB is most often used in cross
environments.

NOTE THAT YOU MUST HAVE ALREADY BUILT AND INSTALLED GCC and BINUTILS.


More Documentation
==================

   Newlib documentation is available on the net via:
   http://sourceware.org/newlib/docs.html

   All the documentation for NEWLIB comes as part of the machine-readable
distribution.  The documentation is written in Texinfo format, which is
a documentation system that uses a single source file to produce both
on-line information and a printed manual.  You can use one of the Info
formatting commands to create the on-line version of the documentation
and TeX (or `texi2roff') to typeset the printed version.

   If you want to format these Info files yourself, you need one of the
Info formatting programs, such as `texinfo-format-buffer' or `makeinfo'.

   If you want to typeset and print copies of this manual, you need TeX,
a program to print its DVI output files, and `texinfo.tex', the Texinfo
definitions file.

   TeX is a typesetting program; it does not print files directly, but
produces output files called DVI files.  To print a typeset document,
you need a program to print DVI files.  If your system has TeX
installed, chances are it has such a program.  The precise command to
use depends on your system; `lpr -d' is common; another (for PostScript
devices) is `dvips'.  The DVI print command may require a file name
without any extension or a `.dvi' extension.

   TeX also requires a macro definitions file called `texinfo.tex'. 
This file tells TeX how to typeset a document written in Texinfo
format.  On its own, TeX cannot read, much less typeset a Texinfo file.
`texinfo.tex' is distributed with NEWLIB and is located in the
`newlib-VERSION-NUMBER/texinfo' directory.



Compiling NEWLIB
================

   To compile NEWLIB, you must build it in a directory separate from
the source directory.  If you want to run NEWLIB versions for several host 
or target machines, you need a different `newlib' compiled for each combination
of host and target.  `configure' is designed to make this easy by allowing 
you to generate each configuration in a separate subdirectory.
If your `make' program handles the `VPATH' feature correctly (like GNU `make')
running `make' in each of these directories builds the `newlib' libraries
specified there.

   To build `newlib' in a specific directory, run `configure' with the
`--srcdir' option to specify where to find the source. (You also need
to specify a path to find `configure' itself from your working
directory.  If the path to `configure' would be the same as the
argument to `--srcdir', you can leave out the `--srcdir' option; it
will be assumed.)

   For example, with version 2.2.0, you can build NEWLIB in a separate
directory for a Sun 4 cross m68k-aout environment like this:

     cd newlib-2.2.0
     mkdir ../newlib-m68k-aout
     cd ../newlib-m68k-aout
     ../newlib-2.2.0/configure --host=sun4 --target=m68k-aout
     make

   When `configure' builds a configuration using a remote source
directory, it creates a tree for the binaries with the same structure
(and using the same names) as the tree under the source directory.  In
the example, you'd find the Sun 4 library `libiberty.a' in the
directory `newlib-m68k-aout/libiberty', and NEWLIB itself in
`newlib-m68k-aout/newlib'.

   When you run `make' to build a program or library, you must run it
in a configured directory--whatever directory you were in when you
called `configure' (or one of its subdirectories).

   The `Makefile' that `configure' generates in each source directory
also runs recursively.  If you type `make' in a source directory such
as `newlib-2.2.0' (or in a separate configured directory configured with
`--srcdir=PATH/newlib-2.2.0'), you will build all the required libraries.

   When you have multiple hosts or targets configured in separate
directories, you can run `make' on them in parallel (for example, if
they are NFS-mounted on each of the hosts); they will not interfere
with each other.


Specifying names for hosts and targets
======================================

   The specifications used for hosts and targets in the `configure'
script are based on a three-part naming scheme, but some short
predefined aliases are also supported.  The full naming scheme encodes
three pieces of information in the following pattern:

     ARCHITECTURE-VENDOR-OS

   For example, you can use the alias `sun4' as a HOST argument or in a
`--target=TARGET' option.  The equivalent full name is
`sparc-sun-sunos4'.

   The `configure' script accompanying NEWLIB does not provide any query
facility to list all supported host and target names or aliases. 
`configure' calls the Bourne shell script `config.sub' to map
abbreviations to full names; you can read the script, if you wish, or
you can use it to test your guesses on abbreviations--for example:

     % sh config.sub sun4
     sparc-sun-sunos4.1.1
     % sh config.sub sun3
     m68k-sun-sunos4.1.1
     % sh config.sub decstation
     mips-dec-ultrix4.2
     % sh config.sub hp300bsd
     m68k-hp-bsd
     % sh config.sub i386v
     i386-pc-sysv
     % sh config.sub i786v
     Invalid configuration `i786v': machine `i786v' not recognized

The Build, Host and Target Concepts in newlib
=============================================

The build, host and target concepts are defined for gcc as follows:

build: the platform on which gcc is built.
host: the platform on which gcc is run.
target: the platform for which gcc generates code.

Since newlib is a library, the target concept does not apply to it, and the
build, host, and target options given to the top-level configure script must
be changed for newlib's use.

The options are shifted according to these correspondences:

gcc's build platform has no equivalent in newlib.
gcc's host platform is newlib's build platform.
gcc's target platform is newlib's host platform.
and as mentioned before, newlib has no concept of target.

`configure' options
===================

   Here is a summary of the `configure' options and arguments that are
most often useful for building NEWLIB.  `configure' also has several other
options not listed here.

     configure [--help]
               [--prefix=DIR]
               [--srcdir=PATH]
               [--target=TARGET] HOST

You may introduce options with a single `-' rather than `--' if you
prefer; but you may abbreviate option names if you use `--'.

`--help'
     Display a quick summary of how to invoke `configure'.

`--prefix=DIR'
     Configure the source to install programs and files in directory
     `DIR'.

`--exec-prefix=DIR'
     Configure the source to install host-dependent files in directory
     `DIR'.

`--srcdir=PATH'
     *Warning: using this option requires GNU `make', or another `make'
     that compatibly implements the `VPATH' feature.
     Use this option to make configurations in directories separate
     from the NEWLIB source directories.  Among other things, you can use
     this to build (or maintain) several configurations simultaneously,
     in separate directories.  `configure' writes configuration
     specific files in the current directory, but arranges for them to
     use the source in the directory PATH.  `configure' will create
     directories under the working directory in parallel to the source
     directories below PATH.

`--norecursion'
     Configure only the directory level where `configure' is executed;
     do not propagate configuration to subdirectories.

`--target=TARGET'
     Configure NEWLIB for running on the specified TARGET.

     There is no convenient way to generate a list of all available
     targets.

`HOST ...'
     Configure NEWLIB to be built using a cross compiler running on
     the specified HOST.

     There is no convenient way to generate a list of all available
     hosts.

To fit diverse usage models, NEWLIB supports a group of configuration
options so that library features can be turned on/off according to
target system's requirements.

One feature can be enabled by specifying `--enable-FEATURE=yes' or
`--enable-FEATURE'.  Or it can be disable by `--enable-FEATURE=no' or
`--disable-FEATURE'.

`--enable-newlib-io-pos-args'
     Enable printf-family positional arg support.
     Disabled by default, but some hosts enable it in configure.host.

`--enable-newlib-io-c99-formats'
     Enable C99 support in IO functions like printf/scanf.
     Disabled by default, but some hosts enable it in configure.host.

`--enable-newlib-register-fini'
     Enable finalization function registration using atexit.
     Disabled by default.

`--enable-newlib-io-long-long'
     Enable long long type support in IO functions like printf/scanf.
     Disabled by default, but many hosts enable it in configure.host.

`--enable-newlib-io-long-double'
     Enable long double type support in IO functions printf/scanf.
     Disabled by default, but some hosts enable it in configure.host.

`--enable-newlib-mb'
     Enable multibyte support.
     Disabled by default.

`--enable-newlib-iconv-encodings'
     Enable specific comma-separated list of bidirectional iconv
     encodings to be built-in.
     Disabled by default.

`--enable-newlib-iconv-from-encodings'
     Enable specific comma-separated list of \"from\" iconv encodings
     to be built-in.
     Disabled by default.

`--enable-newlib-iconv-to-encodings'
     Enable specific comma-separated list of \"to\" iconv encodings
     to be built-in.
     Disabled by default.

`--enable-newlib-iconv-external-ccs'
     Enable capabilities to load external CCS files for iconv.
     Disabled by default.

`--disable-newlib-atexit-dynamic-alloc'
     Disable dynamic allocation of atexit entries.
     Most hosts and targets have it enabled in configure.host.

`--enable-newlib-global-atexit'
     Enable atexit data structure as global variable.  By doing so it is
     move out of _reent structure, and can be garbage collected if atexit
     is not referenced.
     Disabled by default.

`--enable-newlib-reent-small'
     Enable small reentrant struct support.
     Disabled by default.

`--disable-newlib-fvwrite-in-streamio'
     NEWLIB implements the vector buffer mechanism to support stream IO
     buffering required by C standard.  This feature is possibly
     unnecessary for embedded systems which won't change file buffering
     with functions like `setbuf' or `setvbuf'.  The buffering mechanism
     still acts as default for STDIN/STDOUT/STDERR even if this option
     is specified.
     Enabled by default.

`--disable-newlib-fseek-optimization'
     Disable fseek optimization.  It can decrease code size of application
     calling `fseek`.
     Enabled by default.

`--disable-newlib-wide-orient'
     C99 states that each stream has an orientation, wide or byte.  This
     feature is possibly unnecessary for embedded systems which only do
     byte input/output operations on stream.  It can decrease code size
     by disable the feature.
     Enabled by default.

`--enable-newlib-nano-malloc'
     NEWLIB has two implementations of malloc family's functions, one in
     `mallocr.c' and the other one in `nano-mallocr.c'.  This options
     enables the nano-malloc implementation, which is for small systems
     with very limited memory.  Note that this implementation does not
     support `--enable-malloc-debugging' any more.
     Disabled by default.

`--disable-newlib-unbuf-stream-opt'
     NEWLIB does optimization when `fprintf to write only unbuffered unix
     file'.  It creates a temorary buffer to do the optimization that
     increases stack consumption by about `BUFSIZ' bytes.  This option
     disables the optimization and saves size of text and stack.
     Enabled by default.

`--enable-multilib'
     Build many library versions.
     Enabled by default.

`--enable-target-optspace'
     Optimize for space.
     Disabled by default.

`--enable-malloc-debugging'
     Indicate malloc debugging requested.
     Disabled by default.

`--enable-newlib-multithread'
     Enable support for multiple threads.
     Enabled by default.

`--enable-newlib-iconv'
     Enable iconv library support.
     Disabled by default.

`--enable-newlib-elix-level'
     Supply desired elix library level (1-4).  Please refer to HOWTO for
     more information about this option.
     Set to level 0 by default.

`--disable-newlib-io-float'
     Disable printf/scanf family float support.
     Enabled by default.

`--disable-newlib-supplied-syscalls'
     Disable newlib from supplying syscalls.
     Enabled by default.

`--enable-lite-exit'
     Enable lite exit, a size-reduced implementation of exit that doesn't
     invoke clean-up functions such as _fini or global destructors.
     Disabled by default.

`--enable-newlib-nano-formatted-io'
     This builds NEWLIB with a special implementation of formatted I/O
     functions, designed to lower the size of application on small systems
     with size constraint issues.  This option does not affect wide-char
     formatted I/O functions.  Some notes about the feature:
      1) The non-wide-char formatted I/O functions only support the C89
	 standard.  The only exception is the configuration option provides
	 limited support for long double.  Internally, the nano formatted I/O
	 functions use double so accuracy is only guaranteed to double
	 precision.
      2) Floating-point support is split out of the formatted I/O code into
	 weak functions which are not linked by default.  Programs that need
	 floating-point I/O support must explicitly request linking of one or
	 both of the floating-point functions: _printf_float or _scanf_float.
	 This can be done at link time using the -u option which can be passed
	 to either gcc or ld.  The -u option forces the link to resolve those
	 function references.  Floating-point format specifiers are recognized
	 by default, but if the floating-point functions are not explicitly
	 linked in, this may result in undefined behavior for programs that
	 need floating-point I/O support.
      3) Integer-only versions of the formatted I/O functions (the iprintf/
	 iscanf family) simply alias their regular counter-parts.
	 The affected functions are:

	  diprintf vdiprintf

	  siprintf fiprintf iprintf sniprintf asiprintf asniprintf

	  siscanf fiscanf iscanf

	  viprintf vfiprintf vsiprintf vsniprintf vasiprintf vasniprintf

	  viscanf vfiscanf vsiscanf

	  _diprintf_r _vdiprintf_r

	  _siprintf_r _fiprintf_r _iprintf_r _sniprintf_r _asiprintf_r
	  _asniprintf_r

	  _siscanf_r _fiscanf_r _iscanf_r

	  _viprintf_r _vfiprintf_r _vsiprintf_r _asniprintf_r _vasiprintf_r
	  _vasniprintf_r

	  _viscanf_r _vfiscanf_r _vsiscanf_r

      4) As mentioned, the option does not affect wide-char formatted I/O.
	 The following configuration options are ignored for non-wide-char
	 formatted I/O functions, and can be thought of as disabled.

	  enable-newlib-io-pos-args
	  enable-newlib-io-c99-formats
	  enable-newlib-io-long-long
	  enable-newlib-io-long-double
	  enable-newlib-mb

	 Additionally, "enable/disable-newlib-io-float" is supported in
	 this specific implementation, one can use "disable-newlib-io-float"
	 to further reduce code size.  In this case, the floating-point
	 specifiers will not be recognized or handled, and the -u option
	 will not work either.

      5) As a rule, no features from outside of C89 standard will be
	 considered in this implementation.

     Disabled by default.

Running the Testsuite
=====================

To run newlib's testsuite, you'll need a site.exp in your home
directory which points dejagnu to the proper baseboards directory and
the proper exp file for your target.

Before running make check-target-newlib, set the DEJAGNU environment
variable to point to ~/site.exp.

Here is a sample site.exp:

# Make sure we look in the right place for the board description files.
if ![info exists boards_dir] {
    set boards_dir {}
}
lappend boards_dir "your dejagnu/baseboards here"

verbose "Global Config File: target_triplet is $target_triplet" 2

global target_list
case "$target_triplet" in {

    { "mips-*elf*" } {
	set target_list "mips-sim"
    }

    default {
	set target_list { "unix" }
    }
}

mips-sim refers to an exp file in the baseboards directory.  You'll
need to add the other targets you're testing to the case statement.

Now type make check-target-newlib in the top-level build directory to
run the testsuite.

Shared newlib
=============

newlib uses libtool when it is being compiled natively (with
--target=i[34567]86-pc-linux-gnu) on an i[34567]86-pc-linux-gnu
host. This allows newlib to be compiled as a shared library.

To configure newlib, do the following from your build directory:

$(source_dir)/src/configure --with-newlib --prefix=$(install_dir)

configure will recognize that host == target ==
i[34567]86-pc-linux-gnu, so it will tell newlib to compile itself using
libtool. By default, libtool will build shared and static versions of
newlib.

To compile a program against shared newlib, do the following (where
target_install_dir = $(install_dir)/i[34567]86-pc-linux-gnu):

gcc -nostdlib $(target_install_dir)/lib/crt0.o progname.c -I $(target_install_dir)/include -L $(target_install_dir)/lib -lc -lm -lgcc

To run the program, make sure that $(target_install_dir)/lib is listed
in the LD_LIBRARY_PATH environment variable.

To create a static binary linked against newlib, do the following:

gcc -nostdlib -static $(target_install_dir)/lib/crt0.o progname.c -I $(target_install_dir)/include -L $(target_install_dir)/lib -lc -lm

libtool can be instructed to produce only static libraries. To build
newlib as a static library only, do the following from your build
directory:

$(source_dir)/src/configure --with-newlib --prefix=$(install_dir) --disable-shared

Regenerating Configuration Files
================================

At times you will need to make changes to configure.in and Makefile.am files.
This will mean that configure and Makefile.in files will need to be
regenerated.

At the top level of newlib is the file: acinclude.m4.  This file contains
the definition of the NEWLIB_CONFIGURE macro which is used by all configure.in
files in newlib.  You will notice that each directory in newlib containing
a configure.in file also contains an aclocal.m4 file.  This file is
generated by issuing: aclocal -I${relative_path_to_toplevel_newlib_dir}
-I${relative_path_to_toplevel_src_dir}
The first relative directory is to access acinclude.m4.  The second relative
directory is to access libtool information in the top-level src directory.

For example, to regenerate aclocal.m4 in newlib/libc/machine/arm:

  aclocal -I ../../.. -I ../../../..

Note that if the top level acinclude.m4 is altered, every aclocal.m4 file 
in newlib should be regenerated.

If the aclocal.m4 file is regenerated due to a change in acinclude.m4 or
if a configure.in file is modified, the corresponding configure file in the 
directory must be regenerated using autoconf.  No parameters are necessary.
In the previous example, we would issue:

  autoconf

from the newlib/libc/machine/arm directory.

If you have regenerated a configure file or if you have modified a Makefile.am
file, you will need to regenerate the appropriate Makefile.in file(s).
For newlib, automake is a bit trickier.  First of all, all Makefile.in
files in newlib (and libgloss) are generated using the --cygnus option
of automake.  

Makefile.in files are generated from the nearest directory up the chain
which contains a configure.in file.  In most cases, this is the same
directory containing configure.in, but there are exceptions.
For example, the newlib/libc directory has a number of
subdirectories that do not contain their own configure.in files (e.g. stdio).
For these directories, you must issue the automake command from newlib/libc
which is the nearest parent directory that contains a configure.in.
When you issue the automake command, you specify the subdirectory for
the Makefile.in you are regenerating.  For example:

   automake --cygnus stdio/Makefile stdlib/Makefile

Note how multiple Makefile.in files can be created in the same step.  You
would not specify machine/Makefile or sys/Makefile in the previous example
because both of these subdirectories contain their own configure.in files.
One would change to each of these subdirectories and in turn issue:

   automake --cygnus Makefile

Let's say you create a new machine directory XXXX off of newlib/libc/machine.
After creating a new configure.in and Makefile.am file, you would issue:

   aclocal -I ../../..
   autoconf
   automake --cygnus Makefile

from newlib/libc/machine/XXXX

It is strongly advised that you use an adequate version of autotools.
For this latest release, the following were used: autoconf 2.69, aclocal 1.13.4, and 
automake 1.13.4.

Reporting Bugs
==============

The correct address for reporting bugs found in NEWLIB is
"newlib@@sourceware.org".  Please email all bug reports to that
address.  Please include the NEWLIB version number (e.g., newlib-2.2.0),
and how you configured it (e.g., "sun4 host and m68k-aout target").
Since NEWLIB supports many different configurations, it is important
that you be precise about this.

Archives of the newlib mailing list are on-line, see
	http://sourceware.org/ml/newlib/
@


1.29
log
@2014-07-04  Bin Cheng  <bin.cheng@@arm.com>

        * README (--enable-newlib-nano-formatted-io): Describe.
        * acconfig.h (_NANO_FORMATTED_IO): Undef.
        * newlib.hin (_NANO_FORMATTED_IO): Undef.
        * configure.in (--enable-newlib-nano-formatted-io): New option.
        * configure: Regenerated.
        * libc/configure.in (--enable-newlib-nano-formatted-io): New option.
        * libc/configure: Regenerated.
        * libc/stdio/Makefile.am (NEWLIB_NANO_FORMATTED_IO): Support new
        configuration option.
        * libc/stdio/Makefile.in: Regenerated.
        * libc/stdio/asnprintf.c (_asniprintf_r, asniprintf): Use
        _NANO_FORMATTED_IO to declare alias prototypes.
        * libc/stdio/asprintf.c (_asiprintf_r, asiprintf): Ditto.
        * libc/stdio/dprintf.c (_diprintf_r, diprintf): Ditto.
        * libc/stdio/fprintf.c (_fiprintf_r, fiprintf): Ditto.
        * libc/stdio/fscanf.c (fiscanf, _fiscanf_r): Ditto.
        * libc/stdio/printf.c (_iprintf_r, iprintf): Ditto.
        * libc/stdio/scanf.c (iscanf, _iscanf_r): Ditto.
        * libc/stdio/snprintf.c (_sniprintf_r, sniprintf): Ditto.
        * libc/stdio/sprintf.c (_siprintf_r, siprintf): Ditto.
        * libc/stdio/sscanf.c (siscanf, _siscanf_r): Ditto.
        * libc/stdio/vasnprintf.c (_vasniprintf_r, vasniprintf): Ditto.
        * libc/stdio/vasprintf.c (vasiprintf, _vasiprintf_r): Ditto.
        * libc/stdio/vdprintf.c (_vdiprintf_r, vdiprintf): Ditto.
        * libc/stdio/vprintf.c (viprintf, _viprintf_r): Ditto.
        * libc/stdio/vscanf.c (viscanf, _viscanf_r): Ditto.
        * libc/stdio/vsnprintf.c (vsniprintf, _vsniprintf_r): Ditto.
        * libc/stdio/vsprintf.c (vsiprintf, _vsiprintf_r): Ditto.
        * libc/stdio/vsscanf.c (vsiscanf, _vsiscanf_r): Ditto.
        * libc/stdio/nano-vfprintf.c: New file.
        * libc/stdio/nano-vfprintf_float.c: New file.
        * libc/stdio/nano-vfprintf_i.c: New file.
        * libc/stdio/nano-vfprintf_local.h: New file.
        * libc/stdio/nano-vfscanf.c: New file.
        * libc/stdio/nano-vfscanf_float.c: New file.
        * libc/stdio/nano-vfscanf_i.c: New file.
        * libc/stdio/nano-vfscanf_local.h: New file.
@
text
@d1 1
a1 1
                        README for newlib-2.1.0 release
d20 2
a21 2
When you unpack the newlib-2.1.0.tar.gz file, you'll find a directory
called `newlib-2.1.0', which contains:
d97 1
a97 1
   For example, with version 2.1.0, you can build NEWLIB in a separate
d100 1
a100 1
     cd newlib-2.1.0
d103 1
a103 1
     ../newlib-2.1.0/configure --host=sun4 --target=m68k-aout
d119 2
a120 2
as `newlib-2.1.0' (or in a separate configured directory configured with
`--srcdir=PATH/newlib-2.1.0'), you will build all the required libraries.
d589 1
a589 1
address.  Please include the NEWLIB version number (e.g., newlib-2.1.0),
@


1.28
log
@2013-12-23  Jeff Johnston  <jjohnstn@@redhat.com>

        * NEWS: Update with 2.1.0 info.
        * README: Ditto.
        * acinclude.m4: Change version number to 2.1.0.
        * aclocal.m4: Regenerated.
        * configure: Ditto.
        * Makefile.in: Regenerated.
        * doc/aclocal.m4: Ditto.
        * doc/configure: Ditto.
        * libc/*/aclocal.m4: Ditto.
        * libc/*/configure: Ditto.
        * libc/libc.texinfo: Ditto.
        * libm/*/aclocal.m4: Ditto.
        * libm/*/configure: Ditto.
        * libm/libm.texinfo: Ditto.
        * libc/sys/linux/shared.ld: Add VERS_2.1
@
text
@d375 67
@


1.27
log
@	* configure.in (enable-newlib-global-atexit): New option.
	* configure: Regenerated.
	* newlib.hin (_REENT_GLOBAL_ATEXIT): Place-holder.
	* README (enable-newlib-global-atexit): Description for
	new option.
@
text
@d1 1
a1 1
                        README for newlib-2.0.0 release
d20 2
a21 2
When you unpack the newlib-2.0.0.tar.gz file, you'll find a directory
called `newlib-2.0.0', which contains:
d97 1
a97 1
   For example, with version 2.0.0, you can build NEWLIB in a separate
d100 1
a100 1
     cd newlib-2.0.0
d103 1
a103 1
     ../newlib-2.0.0/configure --host=sun4 --target=m68k-aout
d119 2
a120 2
as `newlib-2.0.0' (or in a separate configured directory configured with
`--srcdir=PATH/newlib-2.0.0'), you will build all the required libraries.
d514 2
a515 2
For this latest release, the following were used: autoconf 2.68, aclocal 1.11.6, and 
automake 1.11.6.
d522 1
a522 1
address.  Please include the NEWLIB version number (e.g., newlib-2.0.0),
@


1.26
log
@
2013-07-02  Joey Ye  <joey.ye@@arm.com>

        Lite exit support.
        * README: Add information about lite-exit.
        * acconfig.h (_LITE_EXIT): New macro.
        * configure.in (enable-lite-exit): New option.
        (_LITE_EXIT): Define new macro.
        * configure: Regenerated.
        * newlib.hin (_LITE_EXIT): New macro.
        * libc/stdlib/__atexit.c [_LITE_EXIT]: Add dummy explicit
        reference to __call_exitprocs.
        * libc/stdlib/cxa_atexit.c [_LITE_EXIT]: Make __register_exitproc a
        weak reference.
        * libc/stdlib/exit.c (exit)[_LITE_EXIT]: Remove TWS and weakly reference
        __call_exitprocs.
@
text
@d291 6
@


1.25
log
@	* acconfig.h (_UNBUF_STREAM_OPT): Undefine.
	* newlib.hin (_UNBUF_STREAM_OPT): Undefine.
	* configure.in (--enable-newlib-unbuf-stream-opt): New option.
	* configure: Regenerate.
	* libc/stdio/vfprintf.c (_VFPRINTF_R): Don't do optimization on
	unbuffered stream files.
	* libc/stdio/vfwprintf.c (_VFWPRINTF_R): Likewise.
	* README: Add description about the option.
	* newlib.hin (_UNBUF_STREAM_OPT): Undefine.
	* configure.in (--enable-newlib-unbuf-stream-opt): New option.
	* configure: Regenerate.
	* libc/stdio/vfprintf.c (_VFPRINTF_R): Don't do optimization on
	unbuffered stream files.
	* libc/stdio/vfwprintf.c (_VFWPRINTF_R): Likewise.
	* README: Add description about the option.
@
text
@d364 5
@


1.24
log
@	* README: Add description for NEWLIB's feature customizing
	configuration options.
@
text
@d324 7
@


1.23
log
@
2012-12-20  Jeff Johnston  <jjohnstn@@redhat.com>

        * NEWS: Update with 2.0.0 info.
        * README: Ditto.
        * acinclude.m4: Change version number to 2.0.0.
        * aclocal.m4: Regenerated.
        * configure: Ditto.
        * Makefile.in: Regenerated.
        * doc/aclocal.m4: Ditto.
        * doc/configure: Ditto.
        * libc/*/aclocal.m4: Ditto.
        * libc/*/configure: Ditto.
        * libc/libc.texinfo: Ditto.
        * libm/*/aclocal.m4: Ditto.
        * libm/*/configure: Ditto.
        * libm/libm.texinfo: Ditto.
        * libc/sys/linux/shared.ld: Add VERS_2.0
@
text
@d236 121
@


1.22
log
@
2012-10-01  Jeff Johnston  <jjohnstn@@redhat.com>

        * README: replace sources.redhat.com with sourceware.org.
        * HOWTO: Ditto.
@
text
@d1 1
a1 1
                        README for newlib-1.20.0 release
d20 2
a21 2
When you unpack the newlib-1.20.0.tar.gz file, you'll find a directory
called `newlib-1.20.0', which contains:
d97 1
a97 1
   For example, with version 1.20.0, you can build NEWLIB in a separate
d100 1
a100 1
     cd newlib-1.20.0
d103 1
a103 1
     ../newlib-1.20.0/configure --host=sun4 --target=m68k-aout
d119 2
a120 2
as `newlib-1.20.0' (or in a separate configured directory configured with
`--srcdir=PATH/newlib-1.20.0'), you will build all the required libraries.
d375 2
a376 2
For this latest release, the following were used: autoconf 2.68, aclocal 1.11.1, and 
automake 1.11.1.
d383 1
a383 1
address.  Please include the NEWLIB version number (e.g., newlib-1.20.0),
@


1.21
log
@
2011-12-19  Jeff Johnston  <jjohnstn@@redhat.com>

        * NEWS: Update with 1.20.0 info.
        * README: Ditto.
        * acinclude.m4: Change version number to 1.20.0.
        * aclocal.m4: Regenerated.
        * configure: Ditto.
        * Makefile.in: Regenerated.
        * doc/aclocal.m4: Ditto.
        * doc/configure: Ditto.
        * libc/*/aclocal.m4: Ditto.
        * libc/*/configure: Ditto.
        * libc/libc.texinfo: Ditto.
        * libm/*/aclocal.m4: Ditto.
        * libm/*/configure: Ditto.
        * libm/libm.texinfo: Ditto.
        * libc/sys/linux/shared.ld: Add VERS_1.20
@
text
@d46 1
a46 1
   http://sources.redhat.com/newlib/docs.html
d382 1
a382 1
"newlib@@sources.redhat.com".  Please email all bug reports to that
d389 1
a389 1
	http://sources.redhat.com/ml/newlib/
@


1.21.2.1
log
@	Pull in changes from HEAD
	Align ChangeLog with head
	New file ChangeLog.64bit
@
text
@d46 1
a46 1
   http://sourceware.org/newlib/docs.html
d382 1
a382 1
"newlib@@sourceware.org".  Please email all bug reports to that
d389 1
a389 1
	http://sourceware.org/ml/newlib/
@


1.20
log
@
2010-12-16  Jeff Johnston  <jjohnstn@@redhat.com>

        * NEWS: Update with 1.19.0 info.
        * README: Ditto.
        * MAINTAINERS: Update.
        * acinclude.m4: Change version number to 1.19.0.
        * aclocal.m4: Regenerated.
        * configure: Ditto.
        * Makefile.am: Fix stmp-targ-include target.
        * Makefile.in: Regenerated.
        * doc/aclocal.m4: Ditto.
        * doc/configure: Ditto.
        * libc/*/aclocal.m4: Ditto.
        * libc/*/configure: Ditto.
        * libc/libc.texinfo: Ditto.
        * libm/*/aclocal.m4: Ditto.
        * libm/*/configure: Ditto.
        * libm/libm.texinfo: Ditto.
        * libc/sys/linux/shared.ld: Add VERS_1.19
@
text
@d1 1
a1 1
                        README for newlib-1.19.0 release
d20 2
a21 2
When you unpack the newlib-1.19.0.tar.gz file, you'll find a directory
called `newlib-1.19.0', which contains:
d97 1
a97 1
   For example, with version 1.19.0, you can build NEWLIB in a separate
d100 1
a100 1
     cd newlib-1.19.0
d103 1
a103 1
     ../newlib-1.19.0/configure --host=sun4 --target=m68k-aout
d119 2
a120 2
as `newlib-1.19.0' (or in a separate configured directory configured with
`--srcdir=PATH/newlib-1.19.0'), you will build all the required libraries.
d375 1
a375 1
For this latest release, the following were used: autoconf 2.65, aclocal 1.11.1, and 
d383 1
a383 1
address.  Please include the NEWLIB version number (e.g., newlib-1.19.0),
@


1.19
log
@
2008-12-17  Jeff Johnston  <jjohnstn@@redhat.com>

        * NEWS: Update with 1.18.0 info.
        * README: Ditto.
        * acinclude.m4: Change version number to 1.18.0.
        * aclocal.m4: Regenerated.
        * configure: Ditto.
        * doc/aclocal.m4: Ditto.
        * doc/configure: Ditto.
        * libc/*/aclocal.m4: Ditto.
        * libc/*/configure: Ditto.
        * libc/libc.texinfo: Ditto.
        * libm/*/aclocal.m4: Ditto.
        * libm/*/configure: Ditto.
        * libm/libm.texinfo: Ditto.
        * libc/sys/linux/shared.ld: Add VERS_1.18
@
text
@d1 1
a1 1
                        README for newlib-1.18.0 release
d20 2
a21 2
When you unpack the newlib-1.18.0.tar.gz file, you'll find a directory
called `newlib-1.18.0', which contains:
d97 1
a97 1
   For example, with version 1.18.0, you can build NEWLIB in a separate
d100 1
a100 1
     cd newlib-1.18.0
d103 1
a103 1
     ../newlib-1.18.0/configure --host=sun4 --target=m68k-aout
d119 2
a120 2
as `newlib-1.18.0' (or in a separate configured directory configured with
`--srcdir=PATH/newlib-1.18.0'), you will build all the required libraries.
d375 2
a376 2
For this latest release, this would be: autoconf 2.59, aclocal 1.9.6, and 
automake 1.9.6.
d383 1
a383 1
address.  Please include the NEWLIB version number (e.g., newlib-1.18.0),
@


1.18
log
@
2008-12-19  Jeff Johnston  <jjohnstn@@redhat.com>

        * NEWS: Update with 1.17.0 info.
        * README: Ditto.
        * acinclude.m4: Change version number to 1.17.0.
        * aclocal.m4: Regenerated.
        * configure: Ditto.
        * doc/aclocal.m4: Ditto.
        * doc/configure: Ditto.
        * libc/*/aclocal.m4: Ditto.
        * libc/*/configure: Ditto.
        * libc/libc.texinfo: Ditto.
        * libm/*/aclocal.m4: Ditto.
        * libm/*/configure: Ditto.
        * libm/libm.texinfo: Ditto.
        * libc/sys/linux/shared.ld: Add VERS_1.17
@
text
@d1 1
a1 1
                        README for newlib-1.17.0 release
d20 2
a21 2
When you unpack the newlib-1.17.0.tar.gz file, you'll find a directory
called `newlib-1.17.0', which contains:
d97 1
a97 1
   For example, with version 1.17.0, you can build NEWLIB in a separate
d100 1
a100 1
     cd newlib-1.17.0
d103 1
a103 1
     ../newlib-1.17.0/configure --host=sun4 --target=m68k-aout
d119 2
a120 2
as `newlib-1.17.0' (or in a separate configured directory configured with
`--srcdir=PATH/newlib-1.17.0'), you will build all the required libraries.
d383 1
a383 1
address.  Please include the NEWLIB version number (e.g., newlib-1.17.0),
@


1.17
log
@
2007-12-19  Jeff Johnston  <jjohnstn@@redhat.com>

        * NEWS: Update with 1.16.0 info.
        * README: Ditto.
        * acinclude.m4: Change version number to 1.16.0.
        * aclocal.m4: Regenerated.
        * configure: Ditto.
        * doc/aclocal.m4: Ditto.
        * doc/configure: Ditto.
        * libc/*/aclocal.m4: Ditto.
        * libc/*/configure: Ditto.
        * libc/libc.texinfo: Ditto.
        * libm/*/aclocal.m4: Ditto.
        * libm/*/configure: Ditto.
        * libm/libm.texinfo: Ditto.
        * libc/sys/linux/shared.ld: Add VERS_1.16.
@
text
@d1 1
a1 1
                        README for newlib-1.16.0 release
d20 2
a21 2
When you unpack the newlib-1.16.0.tar.gz file, you'll find a directory
called `newlib-1.16.0', which contains:
d97 1
a97 1
   For example, with version 1.16.0, you can build NEWLIB in a separate
d100 1
a100 1
     cd newlib-1.16.0
d103 1
a103 1
     ../newlib-1.16.0/configure --host=sun4 --target=m68k-aout
d119 2
a120 2
as `newlib-1.16.0' (or in a separate configured directory configured with
`--srcdir=PATH/newlib-1.16.0'), you will build all the required libraries.
d383 1
a383 1
address.  Please include the NEWLIB version number (e.g., newlib-1.16.0),
@


1.16
log
@
2005-12-18  Jeff Johnston  <jjohnstn@@redhat.com>

        * NEWS: Update with 1.15.0 info.
        * README: Ditto.
        * acinclude.m4: Change version number to 1.15.0.
        * aclocal.m4: Regenerated.
        * configure: Ditto.
        * doc/aclocal.m4: Ditto.
        * doc/configure: Ditto.
        * libc/*/aclocal.m4: Ditto.
        * libc/*/configure: Ditto.
        * libc/libc.texinfo: Ditto.
        * libm/*/aclocal.m4: Ditto.
        * libm/*/configure: Ditto.
        * libm/libm.texinfo: Ditto.
        * libc/sys/linux/shared.ld: Add VERS_1.15.
@
text
@d1 1
a1 1
                        README for newlib-1.15.0 release
d8 1
a8 1
several sources, each with their own copyright and license.  See the file
d20 2
a21 2
When you unpack the newlib-1.15.0.tar.gz file, you'll find a directory
called `newlib-1.15.0', which contains:
d97 1
a97 1
   For example, with version 1.15.0, you can build NEWLIB in a separate
d100 1
a100 1
     cd newlib-1.15.0
d103 1
a103 1
     ../newlib-1.15.0/configure --host=sun4 --target=m68k-aout
d119 2
a120 2
as `newlib-1.15.0' (or in a separate configured directory configured with
`--srcdir=PATH/newlib-1.15.0'), you will build all the required libraries.
d320 4
d326 1
a326 1
  aclocal -I ../../..
d383 1
a383 1
address.  Please include the NEWLIB version number (e.g., newlib-1.15.0),
@


1.15
log
@
2006-10-27  Jeff Johnston  <jjohnstn@@redhat.com>

        * README: Add a brief section on how to regenerate
        configuration files in newlib.
@
text
@d1 1
a1 1
                        README for newlib-1.14.0 release
d20 2
a21 2
When you unpack the newlib-1.14.0.tar.gz file, you'll find a directory
called `newlib-1.14.0', which contains:
d97 1
a97 1
   For example, with version 1.14.0, you can build NEWLIB in a separate
d100 1
a100 1
     cd newlib-1.14.0
d103 1
a103 1
     ../newlib-1.14.0/configure --host=sun4 --target=m68k-aout
d119 2
a120 2
as `newlib-1.14.0' (or in a separate configured directory configured with
`--srcdir=PATH/newlib-1.14.0'), you will build all the required libraries.
d371 2
a372 2
For this latest release, this would be: autoconf 2.59, aclocal 1.9.5, and 
automake 1.9.5.
d379 1
a379 1
address.  Please include the NEWLIB version number (e.g., newlib-1.14.0),
@


1.14
log
@
2005-12-16  Jeff Johnston  <jjohnstn@@redhat.com>

        * NEWS: Update with 1.14.0 info.
        * README: Ditto.
        * acinclude.m4: Change version number to 1.14.0.
        * aclocal.m4: Regenerated.
        * configure: Ditto.
        * doc/aclocal.m4: Ditto.
        * doc/configure: Ditto.
        * libc/*/aclocal.m4: Ditto.
        * libc/*/configure: Ditto.
        * libc/libc.texinfo: Ditto.
        * libm/*/aclocal.m4: Ditto.
        * libm/*/configure: Ditto.
        * libm/libm.texinfo: Ditto.
        * libc/sys/linux/shared.ld: Add VERS_1.14.
@
text
@d308 66
@


1.13
log
@
Fix typo.
@
text
@d1 1
a1 1
                        README for newlib-1.13.0 release
d20 2
a21 2
When you unpack the newlib-1.13.0.tar.gz file, you'll find a directory
called `newlib-1.13.0', which contains:
d97 1
a97 1
   For example, with version 1.13.0, you can build NEWLIB in a separate
d100 1
a100 1
     cd newlib-1.13.0
d103 1
a103 1
     ../newlib-1.13.0/configure --host=sun4 --target=m68k-aout
d119 2
a120 2
as `newlib-1.13.0' (or in a separate configured directory configured with
`--srcdir=PATH/newlib-1.13.0'), you will build all the required libraries.
d313 1
a313 1
address.  Please include the NEWLIB version number (e.g., newlib-1.13.0),
@


1.12
log
@
2005-01-06  Hans-Peter Nilsson  <hp@@axis.com>

        * README: Fix typo of LGPL.  Change "license" to "copyright".
@
text
@d10 1
a10 1
the GNU GPL or LPGL licenses.
@


1.11
log
@
2004-12-17  Jeff Johnston  <jjohnstn@@redhat.com>

        * NEWS: Update with 1.13.0 info.
        * README: Ditto.
        * acinclude.m4: Change version number to 1.13.0.
        * aclocal.m4: Regenerated.
        * configure: Ditto.
        * doc/aclocal.m4: Ditto.
        * doc/configure: Ditto.
        * iconvdata/aclocal.m4: Ditto.
        * iconvdata/configure: Ditto.
        * libc/*/aclocal.m4: Ditto.
        * libc/*/configure: Ditto.
        * libc/libc.texinfo: Ditto.
        * libm/*/aclocal.m4: Ditto.
        * libm/*/configure: Ditto.
        * libm/libm.texinfo: Ditto.
        * libc/sys/linux/shared.ld: Add VERS_1.13.
@
text
@d8 3
a10 3
several sources, each with their own copyright.  See the file COPYING.NEWLIB
for details.  The rest of the release tree is under either the GNU GPL or
LPGL copyright.
@


1.10
log
@
2004-02-02  Jeff Johnston  <jjohnstn@@redhat.com>

        * NEWS: Update with 1.12.0 info.
        * README: Ditto.
        * acinclude.m4: Change version number to 1.12.0.
        * aclocal.m4: Regenerated.
        * configure: Ditto.
        * doc/aclocal.m4: Ditto.
        * doc/configure: Ditto.
        * libc/*/aclocal.m4: Ditto.
        * libc/*/configure: Ditto.
        * libc/libc.texinfo: Ditto.
        * libm/*/aclocal.m4: Ditto.
        * libm/*/configure: Ditto.
        * libm/libm.texinfo: Ditto.
        * libc/sys/linux/shared.ld: Add VERS_1.12.
@
text
@d1 1
a1 1
                        README for newlib-1.12.0 release
d20 2
a21 2
When you unpack the newlib-1.12.0.tar.gz file, you'll find a directory
called `newlib-1.12.0', which contains:
d97 1
a97 1
   For example, with version 1.12.0, you can build NEWLIB in a separate
d100 1
a100 1
     cd newlib-1.12.0
d103 1
a103 1
     ../newlib-1.12.0/configure --host=sun4 --target=m68k-aout
d119 2
a120 2
as `newlib-1.12.0' (or in a separate configured directory configured with
`--srcdir=PATH/newlib-1.12.0'), you will build all the required libraries.
d313 1
a313 1
address.  Please include the NEWLIB version number (e.g., newlib-1.12.0),
@


1.9
log
@
2003-05-30  Kelley Cook  <kelleycook@@wideopenwest.com>

        * configure.host:  Allow i[34567]86 variant.
        * configure.in: Likewise.
        * README: Likewise to the docs.
        * configure: Regenerated.
        * Makefile.in: Ditto.
@
text
@d1 1
a1 1
                        README for newlib-1.11.0 release
d20 2
a21 2
When you unpack the newlib-1.11.0.tar.gz file, you'll find a directory
called `newlib-1.11.0', which contains:
d97 1
a97 1
   For example, with version 1.11.0, you can build NEWLIB in a separate
d100 1
a100 1
     cd newlib-1.11.0
d103 1
a103 1
     ../newlib-1.11.0/configure --host=sun4 --target=m68k-aout
d119 2
a120 2
as `newlib-1.11.0' (or in a separate configured directory configured with
`--srcdir=PATH/newlib-1.11.0'), you will build all the required libraries.
d313 1
a313 1
address.  Please include the NEWLIB version number (e.g., newlib-1.11.0),
@


1.8
log
@
2002-12-20  Jeff Johnston  <jjohnstn@@redhat.com>

        * NEWS: Update with 1.11.0 info.
        * README: Ditto.
        * acinclude.m4: Change version number to 1.11.0.
        * aclocal.m4: Regenerated.
        * configure: Ditto.
        * doc/aclocal.m4: Ditto.
        * doc/configure: Ditto.
        * libc/*/aclocal.m4: Ditto.
        * libc/*/configure: Ditto.
        * libc/libc.texinfo: Ditto.
        * libm/*/aclocal.m4: Ditto.
        * libm/*/configure: Ditto.
        * libm/libm.texinfo: Ditto.
        * libc/sys/linux/shared.ld: Add VERS_1.11.
@
text
@d278 1
a278 1
--target=i[3456]86-pc-linux-gnu) on an i[3456]86-pc-linux-gnu
d286 1
a286 1
i[3456]86-pc-linux-gnu, so it will tell newlib to compile itself using
d291 1
a291 1
target_install_dir = $(install_dir)/i[3456]86-pc-linux-gnu):
@


1.7
log
@	* libc/libc.texinfo: Change copyright notices to Red Hat from
	Cygnus.
	* libm/libm.texinfo: Likewise.
	* README: Change docs URL to
	http://sources.redhat.com/newlib/docs.html.
@
text
@d1 1
a1 1
                        README for newlib-1.10.0 release
d20 2
a21 2
When you unpack the newlib-1.10.0.tar.gz file, you'll find a directory
called `newlib-1.10.0', which contains:
d97 1
a97 1
   For example, with version 1.10.0, you can build NEWLIB in a separate
d100 1
a100 1
     cd newlib-1.10.0
d103 1
a103 1
     ../newlib-1.10.0/configure --host=sun4 --target=m68k-aout
d119 2
a120 2
as `newlib-1.10.0' (or in a separate configured directory configured with
`--srcdir=PATH/newlib-1.10.0'), you will build all the required libraries.
d313 1
a313 1
address.  Please include the NEWLIB version number (e.g., newlib-1.10.0),
@


1.6
log
@	* README: Add Running the Testsuite section.
@
text
@d46 1
a46 1
   http://www.cygnus.com/pubs/gnupro
@


1.5
log
@	* configure.in (CC_FOR_BUILD): Set to gcc whether
	cross-compiling or not.
	(CC): Add -isystem's for targ-include and libc/include when they
	do not already appear in CC.
@
text
@d236 38
d277 3
a279 3
newlib now uses libtool when it is being compiled natively (with
--target=i[3456]86-pc-linux-gnu) on an i[3456]86-pc-linux-gnu host. This
allows newlib to be compiled as a shared library.
@


1.4
log
@	* Makefile.shared: New file.
	* libc/sys/linux/shared.ld: New file.
	* libm/machine/*: New files.
	* libm/machine/i386/*: New files.
	* Makefile.am: Add libtool support.  Change math and mathfp
	references to variables.
	* configure.host: Add variables for libtool support.  Add
	libm_machine_dir variable.
	* configure.in: Add objectlist variables, for libtool
	support.  Add CC_FOR_BUILD tests.
	* libc/Makefile.am: Add libtool support.  Change crt0.o
	reference to be a variable reference.
	* libc/configure.in: Add libtool support.  Change sublib
	names to be lib${subdir}.la when using libtool.
	* libc/ctype/Makefile.am: Add libtool support.
	* libc/errno/Makefile.am: Likewise.
	* libc/locale/Makefile.am: Likewise.
	* libc/machine/Makefile.am: Likewise.
	* libc/machine/configure.in: Likewise.
	* libc/machine/i386/Makefile.am: Likewise.
	* libc/machine/i386/configure.in: Likewise.
	* libc/misc/Makefile.am: Likewise.
	* libc/posix/Makefile.am: Likewise.
	* libc/reent/Makefile.am: Likewise.
	* libc/signal/Makefile.am: Likewise.
	* libc/stdio/Makefile.am: Likewise.
	* libc/stdlib/Makefile.am: Likewise.
	* libc/string/Makefile.am: Likewise.
	* libc/sys/Makefile.am: Likewise.
	* libc/sys/configure.in: Likewise.
	* libc/sys/linux/Makefile.am: Add libtool support.  Change
	awk reference to a variable reference.  Change signal.h
	reference to a variable reference.
	* libc/sys/linux/configure.in: Add libtool support.
	* libc/syscalls/Makefile.am: Likewise.
	* libc/time/Makefile.am: Likewise.
	* libc/unix/Makefile.am: Likewise.
	* libm/Makefile.am: Add libtool support.  Change math and
	mathfp references to variables.
	* libm/configure.in: Add libtool support.  Add
	LIBM_MACHINE_LIB variable.
	* libm/common/Makefile.am: Add libtool support.
	* libm/math/Makefile.am: Likewise.
	* libm/mathfp/Makefile.am: Likewise.
	Regenerate all Makefile.in, aclocal.m4, and configure.
@
text
@d161 19
@


1.3
log
@
Wed Dec 14  Jeff Johnston  <jjohnstn@@redhat.com>

        * MAINTAINERS: Removed Ranjith.
        * NEWS: Updated for 1.9.0.
        * README: Updated.
        * acinclude.m4: Updated to release 1.9.0.
        * aclocal.m4 configure
          doc/aclocal.m4 doc/configure libc/aclocal.m4 libc/configure
          libc/machine/aclocal.m4 libc/machine/configure
          libc/machine/a29k/aclocal.m4 libc/machine/a29k/configure
          libc/machine/arm/aclocal.m4 libc/machine/arm/configure
          libc/machine/d10v/aclocal.m4 libc/machine/d10v/configure
          libc/machine/d30v/aclocal.m4 libc/machine/d30v/configure
          libc/machine/fr30/aclocal.m4 libc/machine/fr30/configure
          libc/machine/h8300/aclocal.m4 libc/machine/h8300/configure
          libc/machine/h8500/aclocal.m4 libc/machine/h8500/configure
          libc/machine/hppa/aclocal.m4 libc/machine/hppa/configure
          libc/machine/i386/aclocal.m4 libc/machine/i386/configure
          libc/machine/i960/aclocal.m4 libc/machine/i960/configure
          libc/machine/m32r/aclocal.m4 libc/machine/m32r/configure
          libc/machine/m68k/aclocal.m4 libc/machine/m68k/configure
          libc/machine/m88k/aclocal.m4 libc/machine/m88k/configure
          libc/machine/mips/aclocal.m4 libc/machine/mips/configure
          libc/machine/mn10200/aclocal.m4 libc/machine/mn10200/configure
          libc/machine/mn10300/aclocal.m4 libc/machine/mn10300/configure
          libc/machine/necv70/aclocal.m4 libc/machine/necv70/configure
          libc/machine/powerpc/aclocal.m4 libc/machine/powerpc/configure
          libc/machine/sh/aclocal.m4 libc/machine/sh/configure
          libc/machine/sparc/aclocal.m4 libc/machine/sparc/configure
          libc/machine/tic80/aclocal.m4 libc/machine/tic80/configure
          libc/machine/v850/aclocal.m4 libc/machine/v850/configure
          libc/machine/w65/aclocal.m4 libc/machine/w65/configure
          libc/machine/xscale/aclocal.m4 libc/machine/xscale/configure
          libc/machine/z8k/aclocal.m4 libc/machine/z8k/configure
          libc/sys/aclocal.m4 libc/sys/configure
          libc/sys/a29khif/aclocal.m4 libc/sys/a29khif/configure
          libc/sys/arm/aclocal.m4 libc/sys/arm/configure
          libc/sys/cygwin/aclocal.m4 libc/sys/cygwin/configure
          libc/sys/d10v/aclocal.m4 libc/sys/d10v/configure
          libc/sys/decstation/aclocal.m4 libc/sys/decstation/configure
          libc/sys/go32/aclocal.m4 libc/sys/go32/configure
          libc/sys/h8300hms/aclocal.m4 libc/sys/h8300hms/configure
          libc/sys/h8500hms/aclocal.m4 libc/sys/h8500hms/configure
          libc/sys/linux/aclocal.m4 libc/sys/linux/configure
          libc/sys/m88kbug/aclocal.m4 libc/sys/m88kbug/configure
          libc/sys/netware/aclocal.m4 libc/sys/netware/configure
          libc/sys/rtems/aclocal.m4 libc/sys/rtems/configure
          libc/sys/sh/aclocal.m4 libc/sys/sh/configure
          libc/sys/sparc64/aclocal.m4 libc/sys/sparc64/configure
          libc/sys/sun4/aclocal.m4 libc/sys/sun4/configure
          libc/sys/sysmec/aclocal.m4 libc/sys/sysmec/configure
          libc/sys/sysnec810/aclocal.m4 libc/sys/sysnec810/configure
          libc/sys/sysnecv850/aclocal.m4 libc/sys/sysnecv850/configure
          libc/sys/sysvi386/aclocal.m4 libc/sys/sysvi386/configure
          libc/sys/sysvnecv70/aclocal.m4 libc/sys/sysvnecv70/configure
          libc/sys/tic80/aclocal.m4 libc/sys/tic80/configure
          libc/sys/w65/aclocal.m4 libc/sys/w65/configure
          libc/sys/z8ksim/aclocal.m4 libc/sys/z8ksim/configure
          libm/aclocal.m4 libm/configure: Regenerated.
@
text
@d1 1
a1 1
                        README for newlib-1.9.0 release
d20 2
a21 2
When you unpack the newlib-1.9.0.tar.gz file, you'll find a directory
called `newlib-1.9.0', which contains:
d97 1
a97 1
   For example, with version 1.9.0, you can build NEWLIB in a separate
d100 1
a100 1
     cd newlib-1.9.0
d103 1
a103 1
     ../newlib-1.9.0/configure --host=sun4 --target=m68k-aout
d119 2
a120 2
as `newlib-1.9.0' (or in a separate configured directory configured with
`--srcdir=PATH/newlib-1.9.0'), you will build all the required libraries.
d217 33
d256 1
a256 1
address.  Please include the NEWLIB version number (e.g., newlib-1.9.0),
@


1.2
log
@Thu Jun 22 18:35:00 2000  Ranjith Kumaran  <ranjith@@cygnus.com>

	* README: Newlib 1.8.2 must be built in a separate directory
	than the sources.
@
text
@d1 1
a1 1
                        README for newlib-1.8.2 release
d20 2
a21 2
When you unpack the newlib-1.8.2.tar.gz file, you'll find a directory
called `newlib-1.8.2', which contains:
d32 1
a32 1
"Compiling NEWLIB in another directory".
d78 2
a79 2
Compiling NEWLIB in another directory
=====================================
d81 8
a88 7
   If you want to run NEWLIB versions for several host or target machines,
you need a different `newlib' compiled for each combination of host and
target.  `configure' is designed to make this easy by allowing you to
generate each configuration in a separate subdirectory, rather than in
the source directory.  If your `make' program handles the `VPATH'
feature correctly (like GNU `make') running `make' in each of these
directories builds the `newlib' libraries specified there.
d90 1
a90 1
   To build `newlib' in a separate directory, run `configure' with the
d97 1
a97 1
   For example, with version 1.8.2, you can build NEWLIB in a separate
d100 1
a100 1
     cd newlib-1.8.2
d103 1
a103 1
     ../newlib-1.8.2/configure --host=sun4 --target=m68k-aout
d119 2
a120 2
as `newlib-1.8.2' (or in a separate configured directory configured with
`--srcdir=PATH/newlib-1.8.2'), you will build all the required libraries.
d222 2
a223 2
"newlib@@sourceware.cygnus.com".  Please email all bug reports to that
address.  Please include the NEWLIB version number (e.g., newlib-1.8.2),
d229 1
a229 1
	http://sourceware.cygnus.com/ml/newlib/
@


1.1
log
@Initial revision
@
text
@d31 2
a32 5
To build NEWLIB, you can just do:

	cd newlib-1.8.2
	./configure --target=<your target>
	make all install
@


1.1.1.1
log
@import newlib-2000-02-17 snapshot
@
text
@@
