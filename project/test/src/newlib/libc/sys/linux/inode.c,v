head	1.11;
access;
symbols
	cygwin-1_7_35-release:1.11
	cygwin-1_7_34-release:1.11
	newlib-2_2_0:1.11.0.8
	cygwin-1_7_33-release:1.11
	cygwin-1_7_32-release:1.11
	cygwin-1_7_31-release:1.11
	cygwin-1_7_30-release:1.11
	cygwin-1_7_29-release:1.11
	cygwin-1_7_28-release:1.11
	newlib-2_1_0:1.11
	cygwin-1_7_27-release:1.11
	cygwin-1_7_26-release:1.11
	cygwin-1_7_25-release:1.11
	cygwin-1_7_24-release:1.11
	cygwin-1_7_23-release:1.11
	cygwin-1_7_22-release:1.11
	cygwin-1_7_21-release:1.11
	cygwin-1_7_20-release:1.11
	cygwin-1_7_19-release:1.11
	cygwin-64bit-postmerge:1.11
	cygwin-64bit-premerge-branch:1.11.0.6
	cygwin-64bit-premerge:1.11
	cygwin-1_7_18-release:1.11
	newlib-2_0_0:1.11
	cygwin-1_7_17-release:1.11
	cygwin-64bit-branch:1.11.0.4
	cygwin-1_7_16-release:1.11
	cygwin-1_7_15-release:1.11
	cygwin-1_7_14_2-release:1.11
	cygwin-1_7_14-release:1.11
	cygwin-1_7_12-release:1.11
	cygwin-1_7_11-release:1.11
	cygwin-1_7_10-release:1.11
	newlib-1_20_0:1.11
	cygwin-1_7_9-release:1.11
	cygwin-1_7_8-release:1.11
	newlib-1_19_0:1.11
	cygwin-1_7_7-release:1.11
	cygwin-1_7_5-release:1.11
	cygwin-1_7_4-release:1.11
	cygwin-1_7_3-release:1.11
	cygwin-1_7_2-release:1.11
	newlib-1_18_0:1.11
	cygwin-1_7_1-release:1.11
	newlib-1_17_0-arc:1.11.0.2
	binutils-arc-20080908-branch:1.10.0.8
	binutils-arc-20080908-branchpoint:1.10
	newlib-1_17_0:1.11
	newlib-1_16_0:1.10
	newlib-1_15_0:1.10
	newlib-csl-coldfire-4_1-32:1.10
	newlib-csl-sourcerygxx-4_1-32:1.10
	newlib-csl-innovasic-fido-3_4_4-33:1.10
	newlib-csl-coldfire-4_1-30:1.10
	newlib-csl-sourcerygxx-4_1-30:1.10
	newlib-csl-coldfire-4_1-28:1.10
	newlib-csl-sourcerygxx-4_1-28:1.10
	newlib-csl-arm-2006q3-27:1.10
	newlib-csl-sourcerygxx-4_1-27:1.10
	newlib-csl-arm-2006q3-26:1.10
	newlib-csl-sourcerygxx-4_1-26:1.10
	newlib-csl-sourcerygxx-4_1-24:1.10
	newlib-csl-sourcerygxx-4_1-23:1.10
	newlib-csl-sourcerygxx-4_1-21:1.10
	newlib-csl-arm-2006q3-21:1.10
	newlib-csl-arm-2006q3-19:1.10
	newlib-csl-sourcerygxx-4_1-19:1.10
	newlib-csl-sourcerygxx-4_1-18:1.10
	newlib-csl-sourcerygxx-3_4_4-25:1.10
	newlib-csl-sourcerygxx-4_1-17:1.10
	cr-0x5f1:1.10.0.6
	newlib-csl-sourcerygxx-4_1-14:1.10
	newlib-csl-sourcerygxx-4_1-13:1.10
	newlib-csl-sourcerygxx-4_1-12:1.10
	newlib-csl-sourcerygxx-4_1-9:1.10
	newlib-csl-sourcerygxx-4_1-8:1.10
	newlib-csl-sourcerygxx-4_1-7:1.10
	newlib-csl-arm-2006q1-6:1.10
	newlib-csl-sourcerygxx-4_1-6:1.10
	newlib-csl-sourcerygxx-4_1-5:1.10
	newlib-csl-sourcerygxx-4_1-4:1.10
	newlib-autotools-branch:1.10.0.4
	newlib-csl-20060320-branch:1.10.0.2
	newlib-csl-20060320-branchpoint:1.10
	newlib-1_14_0:1.10
	newlib-csl-arm-2005-q1b:1.10
	newlib-csl-arm-2005-q1a:1.9
	newlib-1_13_0:1.9
	csl-arm-2004-q3:1.9
	csl-arm-2004-q1a:1.9
	csl-arm-2004-q1:1.9
	newlib-1_12_0:1.9
	csl-arm-2003-q4:1.9
	w32api-2_2:1.9
	mingw-runtime-2_4:1.9
	newlib-1_11_0:1.9
	cygnus_cvs_20020108_pre:1.1
	newlib-1_10_0:1.1
	newlib-1_9_0:1.1;
locks; strict;
comment	@ * @;


1.11
date	2008.11.28.17.15.46;	author jjohnstn;	state Exp;
branches;
next	1.10;

1.10
date	2005.04.07.23.40.42;	author jjohnstn;	state Exp;
branches;
next	1.9;

1.9
date	2002.08.26.18.56.08;	author jjohnstn;	state Exp;
branches;
next	1.8;

1.8
date	2002.07.26.21.44.34;	author jjohnstn;	state Exp;
branches;
next	1.7;

1.7
date	2002.07.24.20.38.32;	author jjohnstn;	state Exp;
branches;
next	1.6;

1.6
date	2002.07.20.01.03.08;	author jjohnstn;	state Exp;
branches;
next	1.5;

1.5
date	2002.07.15.20.16.30;	author jjohnstn;	state Exp;
branches;
next	1.4;

1.4
date	2002.07.04.23.25.06;	author jjohnstn;	state Exp;
branches;
next	1.3;

1.3
date	2002.07.04.22.51.08;	author jjohnstn;	state Exp;
branches;
next	1.2;

1.2
date	2002.04.03.22.46.14;	author jjohnstn;	state Exp;
branches;
next	1.1;

1.1
date	2000.12.09.01.20.32;	author jjohnstn;	state Exp;
branches;
next	;


desc
@@


1.11
log
@
2008-11-28  Jeff Johnston  <jjohnstn@@redhat.com>

        * libc/sys/linux/inode.c: Include <dirent.h> instead of
        <linux/dirent.h>.
        * libc/sys/linux/io64.c: Add weak alias for _stat64.
@
text
@/* libc/sys/linux/inode.c - Inode-related system calls */

/* Written 2000 by Werner Almesberger */


#include <unistd.h>
#include <fcntl.h>
#include <sys/types.h>
#include <sys/stat.h>
#include <sys/utime.h>
#include <dirent.h>
#include <machine/syscall.h>

#define _LIBC 1
#include <sys/lock.h>


#define __NR___umask __NR_umask

_syscall2(int,link,const char *,oldpath,const char *,newpath)
_syscall1(int,unlink,const char *,pathname)
_syscall1(int,chdir,const char *,path)
_syscall1(int,fchdir,int,fd)
_syscall2(int,access,const char *,filename,int,mode)
_syscall2(int,mkdir,const char *,pathname,mode_t,mode)
_syscall1(int,rmdir,const char *,pathname)
_syscall1(int,chroot,const char *,path)
_syscall2(int,stat,const char *,file_name,struct stat *,buf)
_syscall2(int,statfs,const char *,file_name,struct statfs *,buf)
_syscall2(int,fstat,int,filedes,struct stat *,buf)
_syscall2(int,fstatfs,int,filedes,struct statfs *,buf)
_syscall3(int,getdents,int,fd,struct dirent *,dirp,unsigned int,count)

#if !defined(_ELIX_LEVEL) || _ELIX_LEVEL >= 2
_syscall2(int,chmod,const char *,path,mode_t,mode)
_syscall3(int,chown,const char *,path,uid_t,owner,gid_t,group)
_syscall2(int,fchmod,int,filedes,mode_t,mode)
_syscall3(int,lchown,const char *,path,uid_t,owner,gid_t,group)
_syscall2(int,lstat,const char *,file_name,struct stat *,buf)
_syscall3(int,readlink,const char *,path,char *,buf,size_t,bufsiz)
_syscall2(int,symlink,const char *,oldpath,const char *,newpath)
_syscall2(int,utime,const char *,filename,const struct utimbuf *,buf)
#endif

#if !defined(_ELIX_LEVEL) || _ELIX_LEVEL >= 3
_syscall1(int,pipe,int *,filedes)
#endif

#if !defined(_ELIX_LEVEL) || _ELIX_LEVEL >= 4
_syscall3(int,mknod,const char *,pathname,mode_t,mode,dev_t,dev)
#endif

weak_alias(__libc_statfs,__statfs)
weak_alias(__libc_fstatfs,__fstatfs)

static _syscall3(int,fchown32,int,fd,uid_t,owner,gid_t,group)

int
fchown (int fd, uid_t owner, gid_t group)
{
  return __libc_fchown32 (fd, owner, group);
}

#if !defined(_ELIX_LEVEL) || _ELIX_LEVEL >= 2

__LOCK_INIT(static, umask_lock);

_syscall1(mode_t,__umask,mode_t,mask)

mode_t
umask (mode_t mask)
{
  mode_t old_mask;

  /* we need to lock so as to not interfere with getumask */
  __lock_acquire(umask_lock);
  old_mask = __umask (mask);
  __lock_release(umask_lock);

  return old_mask;
}

mode_t
getumask (void)
{
  mode_t mask;

  __lock_acquire(umask_lock);

  mask = __umask (0);
  mask = __umask (mask);

  __lock_release(umask_lock);

  return mask;
}

#endif /* !_ELIX_LEVEL || _ELIX_LEVEL >= 2 */
@


1.10
log
@
2005-04-07  Shaun Jackman  <sjackman@@gmail.com>

        * libc/sys/linux/inode.c (lchown): New function.
@
text
@d11 1
a11 1
#include <linux/dirent.h>
@


1.9
log
@
2002-08-26  Jeff Johnston  <jjohnstn@@redhat.com>

        * Makefile.am(LIBC_OBJECTLISTS): Add STDIO64_OBJECTLIST.
        * Makefile.in: Regenerated.
        * acinclude.m4: Add support for --enable-newlib-elix-level option.
        * aclocal.m4: Regenerated.
        * configure: Ditto.
        * configure.host: Add code to define _ELIX_LEVEL if
        --enable-newlib-elix-level option is used.
        * configure.in:
        * libc/aclocal.m4: Regenerated.
        * libc/configure: Ditto.
        * libc/argz/Makefile.am: Add EL/IX level checking.
        * libc/argz/Makefile.in: Regenerated.
        * libc/argz/dummy.c: New file.
        * libc/ctype/Makefile.am: Add EL/IX level checking.
        * libc/ctype/Makefile.in: Regenerated.
        * libc/locale/Makefile.am: Add EL/IX level checking.
        * libc/locale/Makefile.in: Regenerated.
        * libc/posix/Makefile.am: Add EL/IX level checking.
        * libc/posix/Makefile.in: Regenerated.
        * libc/posix/telldir.c: Add EL/IX level checking.
        * libc/reent/Makefile.am: Ditto.
        * libc/reent/fstat64r.c: Ditto.
        * libc/reent/lseek64r.c: Ditto.
        * libc/reent/open64r.c: Ditto.
        * libc/reent/Makefile.in: Regenerated.
        * libc/search/Makefile.am: Add EL/IX level checking.
        * libc/search/Makefile.in: Regenerated.
        * libc/stdio/Makefile.am: Add EL/IX level checking.
        * libc/stdio/Makefile.in: Regenerated.
        * libc/stdio64/Makefile.am: Add EL/IX level checking.
        * libc/stdio64/Makefile.in: Regenerated.
        * libc/stdio64/dummy.c: New file.
        * libc/stdio64/fgetpos64.c: Fix so _LARGEFILE_64 macro is checked
        after first include.
        * libc/stdio64/fopen64.c: Ditto.
        * libc/stdio64/freopen64.c: Ditto.
        * libc/stdio64/fseeko64.c: Ditto.
        * libc/stdio64/fsetpos64.c: Ditto.
        * libc/stdio64/ftello64.c: Ditto.
        * libc/stdio64/tmpfile64.c: Ditto.
        * libc/stdlib/Makefile.am: Add EL/IX level checking.
        * libc/stdlib/Makefile.in: Regenerated.
        * libc/stdlib/mstats.c: Add EL/IX level checking.
        * libc/string/Makefile.am: Ditto.
        * libc/string/Makefile.in: Regenerated.
        * libc/sys/linux/Makefile.am: Add EL/IX level checking.
        * libc/sys/linux/Makefile.in: Regenerated.
        * libc/sys/linux/aclocal.m4: Ditto.
        * libc/sys/linux/configure: Ditto.
        * libc/sys/linux/aio.c: Add EL/IX level checking.
        * libc/sys/linux/ftok.c: Ditto.
        * libc/sys/linux/getdate.c: Ditto.
        * libc/sys/linux/ids.c: Ditto.
        * libc/sys/linux/inode.c: Ditto.
        * libc/sys/linux/io.c: Ditto.
        * libc/sys/linux/process.c: Ditto.
        * libc/sys/linux/resource.c: Ditto.
        * libc/sys/linux/sched.c: Ditto.
        * libc/sys/linux/sig.c: Ditto.
        * libc/sys/linux/termios.c: Ditto.
        * libc/sys/linux/wait.c: Ditto plus add __waitpid and
        __libc___waitpid weak aliases.
        * libc/sys/linux/machine/i386/syscall.h: Add new _base macros
        that generate the code for a syscall, but do not create a
        weak alias.
        * libc/syscalls/Makefile.am: Add EL/IX level checking.
        * libc/syscalls/Makefile.in: Regenerated.
        * libc/time/tzset_r.c: Change to replace strdup with equivalent
        functionality.
        * libc/unix/Makefile.am: Add EL/IX level checking.
        * libc/unix/Makefile.in: Regenerated.
@
text
@d38 1
@


1.8
log
@
2002-07-26  Jeff Johnston  <jjohnstn@@redhat.com>

        *  libc/include/sys/param.h (MAX, MIN): Added macros.
        *  libc/sys/linux/Makefile.am: Add new files.
        *  libc/sys/linux/Makefile.in: Regenerated.
        *  libc/sys/linux/sys/stat.h: Add *stat64 prototypes.
        *  libc/sys/linux/inode.c (fchdir): Added syscall.
        *  libc/sys/linux/ftw.c: New file.
        *  libc/sys/linux/ftw64.c: Ditto.
        *  libc/sys/linux/getwd.c: Ditto.
        *  libc/sys/linux/scandir64.c: Ditto.
        *  libc/sys/linux/strverscmp.c: Ditto.
        *  libc/sys/linux/versionsort.c: Ditto.
        *  libc/sys/linux/versionsort64.c: Ditto.
@
text
@a16 1
__LOCK_INIT(static, umask_lock);
a23 5
_syscall3(int,mknod,const char *,pathname,mode_t,mode,dev_t,dev)
_syscall2(int,chmod,const char *,path,mode_t,mode)
_syscall2(int,fchmod,int,filedes,mode_t,mode)
_syscall3(int,chown,const char *,path,uid_t,owner,gid_t,group)
_syscall2(int,utime,const char *,filename,const struct utimbuf *,buf)
a26 1
_syscall1(int,pipe,int *,filedes)
a27 2
_syscall2(int,symlink,const char *,oldpath,const char *,newpath)
_syscall3(int,readlink,const char *,path,char *,buf,size_t,bufsiz)
a29 1
_syscall2(int,lstat,const char *,file_name,struct stat *,buf)
d33 18
a50 1
_syscall1(mode_t,__umask,mode_t,mask)
d63 6
d97 1
@


1.7
log
@
2002-07-24  Jeff Johnston  <jjohnstn@@redhat.com>

        * libc/sys/linux/Makefile.am: Add new files.
        * libc/sys/linux/Makefile.in: Regenerated.
        * libc/sys/linux/fstab.c: New file.
        * libc/sys/linux/fstatvfs.c: Ditto.
        * libc/sys/linux/fstatvfs64.c: Ditto.
        * libc/sys/linux/internal_statvfs.c: Ditto.
        * libc/sys/linux/mntent.c: Ditto.
        * libc/sys/linux/mntent_r.c: Ditto.
        * libc/sys/linux/statvfs.c: Ditto.
        * libc/sys/linux/statvfs64.c: Ditto.
        * libc/sys/linux/include/paths.h: Ditto.
        * libc/sys/linux/inode.c (statfs, fstatfs): New syscalls
        with double-underscore weak-aliases.
        * libc/sys/linux/sys/stat.h: Add *stat64 prototypes.
@
text
@d24 1
@


1.6
log
@
2002-07-19  Jeff Johnston  <jjohnstn@@redhat.com>

        * libc/sys/linux/Makefile.am: Add pathconf.c and fpathconf.c.
        * libc/sys/linux/Makefile.in: Regenerated.
        * libc/sys/linux/inode.c: Add chmod, fchmod, and chown syscalls.
        * libc/sys/linux/io.c: Add ftruncate syscall.
        * libc/sys/linux/fpathconf.c: New file.
        * libc/sys/linux/pathconf.c: Ditto.
        * libc/sys/linux/linux_fsinfo.h: Ditto.
        * libc/sys/linux/sys/unistd.h: Ditto.
@
text
@d37 1
d40 1
d43 3
@


1.5
log
@
2002-07-15  Jeff Johnston  <jjohnstn@@redhat.com>

        * libc/sys/linux/Makefile.am: Add new files.
        * libc/sys/linux/Makefile.in: Regenerated.
        * libc/sys/linux/bp-sym.h: Moved to include directory.
        * libc/sys/linux/mmap.c: Add weak aliases: __mmap, __munmap, __mremap.
        * libc/sys/linux/inode.c: Set _LIBC to 1.
        * libc/sys/linux/mq_close.c: Ditto.
        * libc/sys/linux/mq_getattr.c: Ditto.
        * libc/sys/linux/mq_open.c: Ditto.
        * libc/sys/linux/mq_receive.c: Ditto.
        * libc/sys/linux/mq_send.c: Ditto.
        * libc/sys/linux/mq_setattr.c: Ditto.
        * libc/sys/linux/mq_unlink.c: Ditto.
        * libc/sys/linux/calloc.c: New file.
        * libc/sys/linux/callocr.c: Ditto.
        * libc/sys/linux/cfreer.c: Ditto.
        * libc/sys/linux/config.h: Ditto.
        * libc/sys/linux/free.c: Ditto.
        * libc/sys/linux/freer.c: Ditto.
        * libc/sys/linux/msize.c: Ditto.
        * libc/sys/linux/msizer.c: Ditto.
        * libc/sys/linux/mstats.c: Ditto.
        * libc/sys/linux/mtrim.c: Ditto.
        * libc/sys/linux/mtrimr.c: Ditto.
        * libc/sys/linux/pvallocr.c: Ditto.
        * libc/sys/linux/realloc.c: Ditto.
        * libc/sys/linux/reallocr.c: Ditto.
        * libc/sys/linux/thread-m.h: Ditto.
        * libc/sys/linux/vallocr.c: Ditto.
        * libc/sys/linux/bp-checks.h: Ditto.
        * libc/sys/linux/libc-symbols.h: Ditto.
        * libc/sys/linux/libc-tsd.h: Ditto.
        * libc/sys/linux/libintl.h: Ditto.
        * libc/sys/linux/malign.c: Ditto.
        * libc/sys/linux/malignr.c: Ditto.
        * libc/sys/linux/mallinfor.c: Ditto.
        * libc/sys/linux/malloc.c: Ditto.
        * libc/sys/linux/mallocr.c: Ditto.
        * libc/sys/linux/malloptr.c: Ditto.
        * libc/sys/linux/mallstatsr.c: Ditto.
        * libc/sys/linux/mcheck.c: Ditto.
        * libc/sys/linux/mhooks.h: Ditto.
        * libc/sys/linux/include/bp-sym.h: Ditto.
        * libc/sys/linux/include/malloc.h: Ditto.
        * libc/sys/linux/include/mcheck.h: Ditto.
        * libc/sys/linux/machine/i386/getpagesize.c: New file.
        * libc/sys/linux/machine/i386/Makefile.am: Add getpagesize.c.
        * libc/sys/linux/machine/i386/Makefile.in: Regenerated.
        * libc/sys/linux/machine/i386/sysdep.h: New file.
        * libc/sys/linux/machine/i386/weakalias.h: Add weak_function support.
        * libc/sys/linux/sys/dirent.h: Set _LIBC to 1.
	* libc/sys/linux/sys/types.h: Add new types.
@
text
@d26 2
@


1.4
log
@
2002-07-04  Jeff Johnston  <jjohnstn@@redhat.com>

        * libc/sys/linux/inode.c: Fix utime prototype and add _LIBC
        define before including <sys/lock.h>.
@
text
@d14 1
a14 1
#define _LIBC
@


1.3
log
@
2002-07-04  Jeff Johnston  <jjohnstn@@redhat.com>

        * libc/include/utime.h: Add include of <_ansi.h>.
        * libc/sys/linux/Makefile.am: Add utimes.c.
        * libc/sys/linux/Makefile.in: Regenerated.
        * libc/sys/linux/inode.c(__umask): New static routine.
        (umask): Written to use __umask and attempt to thread lock.
        (getumask): New function written to use __umask and thread lock.
        * libc/sys/linux/utimes.c: New file.
        * libc/sys/linux/sys/time.h: Fix utimes prototype.
        * libc/sys/linux/sys/utime.h: New file.
@
text
@d12 3
a15 1
#include <machine/syscall.h>
d26 1
a26 1
_syscall2(int,utime,const char *,filename,struct utimbuf *,buf)
@


1.2
log
@
2002-04-03  Jeff Johnston  <jjohnstn@@redhat.com>

	* configure.host: Add support for machine subdirectory of
	sys subdirectory.
	* configure.in: Add check for sys machine subdirectory.
	* Makefile.am: Ditto.
	* configure: Regenerated.
	* Makefile.in: Ditto.
	* libc/sys/linux/crt0.c: Moved to machine/i386 directory.
	* libc/sys/linux/sys/syscall.h: Ditto.
	* libc/sys/linux/sleep.c: New file.
	* libc/sys/linux/socket.c: Ditto.
	* libc/sys/linux/sockops.h: Ditto.
	* libc/sys/linux/stack.c: Ditto.
	* libc/sys/linux/usleep.c: Ditto.
	* libc/sys/linux/machine/Makefile.am: Ditto.
	* libc/sys/linux/machine/Makefile.in: Ditto.
	* libc/sys/linux/machine/aclocal.m4: Ditto.
	* libc/sys/linux/machine/configure: Ditto.
	* libc/sys/linux/machine/configure.in: Ditto.
	* libc/sys/linux/machine/i386/Makefile.am: Ditto.
	* libc/sys/linux/machine/i386/Makefile.in: Ditto.
	* libc/sys/linux/machine/i386/aclocal.m4: Ditto.
	* libc/sys/linux/machine/i386/configure: Ditto.
	* libc/sys/linux/machine/i386/configure.in: Ditto.
	* libc/sys/linux/machine/i386/crt0.c: Ditto.
	* libc/sys/linux/machine/i386/sigset.c: Ditto.
	* libc/sys/linux/machine/i386/sigstack.h: Ditto.
	* libc/sys/linux/machine/i386/socketcall.h: Ditto.
	* libc/sys/linux/machine/i386/syscall.h: Ditto.
	* libc/sys/linux/sys/select.h: Ditto.
	* libc/sys/linux/configure.in: Add support for machine directory.
	* libc/sys/linux/Makefile.am: Ditto plus add new files above.
	* libc/sys/linux/Makefile.in: Regenerated.
	* libc/sys/linux/configure: Ditto.
	* libc/sys/linux/brk.c: Use machine/syscall.h instead of sys/syscall.h.
	* libc/sys/linux/inode.c: Ditto.
	* libc/sys/linux/linux.c: Ditto.
	* libc/sys/linux/process.c: Ditto.
	* libc/sys/linux/systat.c: Ditto.
	* libc/sys/linux/time.c: Ditto.
	* libc/sys/linux/wait.c: Ditto.
	* libc/sys/linux/ids.c: Change header plus add setfsgid/setfsuid.
	* libc/sys/linux/io.c: Change header plus add readv/writev.
	* libc/sys/linux/signal.c: Change header plus change sigsuspend to
	use __sigsuspend syscall.
	* libc/sys/linux/select.c: Change header plus change select to
	use _newselect syscall.
	* libc/sys/linux/sys/cdefs.h: Add a number of standard definitions
	used by glibc header files.
	* libc/sys/linux/sys/types.h: Add __socklen_t and __useconds_t
	types.
@
text
@d12 1
d15 3
a28 1
_syscall1(mode_t,umask,mode_t,mask)
d36 38
@


1.1
log
@
2000-12-08  Werner Almesberger  <Werner.Almesberger@@epfl.ch>

        * configure.host: Added x86 linux target.
        * libc/unix/getpass.c (_PATH_PASSWD, _PASSWORD_LEN): Default
        definitions provided if not already defined.
        * libc/sys/linux/crt0.c: New file.
        * libc/sys/linux/Makefile.am: Ditto.
        * libc/sys/linux/Makefile.in: Ditto.
        * libc/sys/linux/aclocal.m4: Ditto.
        * libc/sys/linux/brk.c: Ditto.
        * libc/sys/linux/configure: Ditto.
        * libc/sys/linux/configure.in: Ditto.
        * libc/sys/linux/getoptlong.c: Ditto.
        * libc/sys/linux/ids.c: Ditto.
        * libc/sys/linux/inode.c: Ditto.
        * libc/sys/linux/io.c: Ditto.
        * libc/sys/linux/linux.c: Ditto.
        * libc/sys/linux/process.c: Ditto.
        * libc/sys/linux/realpath.c: Ditto.
        * libc/sys/linux/select.c: Ditto.
        * libc/sys/linux/signal.c: Ditto.
        * libc/sys/linux/systat.c: Ditto.
        * libc/sys/linux/termios.c: Ditto.
        * libc/sys/linux/time.c: Ditto.
        * libc/sys/linux/wait.c: Ditto.
        * libc/sys/linux/include/alloca.h: Ditto.
        * libc/sys/linux/include/getopt.h: Ditto.
        * libc/sys/linux/include/stdint.h: Ditto.
        * libc/sys/linux/include/unistd.h: Ditto.
        * libc/sys/linux/sys/cdefs.h: Ditto.
        * libc/sys/linux/sys/dirent.h: Ditto.
        * libc/sys/linux/sys/errno.h: Ditto.
        * libc/sys/linux/sys/fcntl.h: Ditto.
        * libc/sys/linux/sys/file.h: Ditto.
        * libc/sys/linux/sys/ioctl.h: Ditto.
        * libc/sys/linux/sys/resource.h: Ditto.
        * libc/sys/linux/sys/signal.h: Ditto.
        * libc/sys/linux/sys/stat.h: Ditto.
        * libc/sys/linux/sys/syscall.h: Ditto.
        * libc/sys/linux/sys/termios.h: Ditto.
        * libc/sys/linux/sys/time.h: Ditto.
        * libc/sys/linux/sys/types.h: Ditto.
        * libc/sys/linux/sys/utmp.h: Ditto.
        * libc/sys/linux/sys/utsname.h: Ditto.
        * libc/sys/linux/sys/wait.h: Ditto.
@
text
@d12 1
a12 1
#include <sys/syscall.h>
@

