head	1.19;
access;
symbols
	cygwin-1_7_35-release:1.19
	cygwin-1_7_34-release:1.19
	newlib-2_2_0:1.19.0.6
	cygwin-1_7_33-release:1.19
	cygwin-1_7_32-release:1.19
	cygwin-1_7_31-release:1.19
	cygwin-1_7_30-release:1.19
	cygwin-1_7_29-release:1.19
	cygwin-1_7_28-release:1.19
	newlib-2_1_0:1.19
	cygwin-1_7_27-release:1.19
	cygwin-1_7_26-release:1.19
	cygwin-1_7_25-release:1.19
	cygwin-1_7_24-release:1.19
	cygwin-1_7_23-release:1.19
	cygwin-1_7_22-release:1.19
	cygwin-1_7_21-release:1.19
	cygwin-1_7_20-release:1.19
	cygwin-1_7_19-release:1.19
	cygwin-64bit-postmerge:1.19
	cygwin-64bit-premerge-branch:1.19.0.4
	cygwin-64bit-premerge:1.19
	cygwin-1_7_18-release:1.19
	newlib-2_0_0:1.19
	cygwin-1_7_17-release:1.19
	cygwin-64bit-branch:1.19.0.2
	cygwin-1_7_16-release:1.19
	cygwin-1_7_15-release:1.19
	cygwin-1_7_14_2-release:1.19
	cygwin-1_7_14-release:1.19
	cygwin-1_7_12-release:1.19
	cygwin-1_7_11-release:1.19
	cygwin-1_7_10-release:1.19
	newlib-1_20_0:1.19
	cygwin-1_7_9-release:1.19
	cygwin-1_7_8-release:1.19
	newlib-1_19_0:1.18
	cygwin-1_7_7-release:1.18
	cygwin-1_7_5-release:1.16
	cygwin-1_7_4-release:1.16
	cygwin-1_7_3-release:1.16
	cygwin-1_7_2-release:1.16
	newlib-1_18_0:1.15
	cygwin-1_7_1-release:1.15
	newlib-1_17_0-arc:1.14.0.4
	binutils-arc-20080908-branch:1.14.0.2
	binutils-arc-20080908-branchpoint:1.14
	newlib-1_17_0:1.14
	newlib-1_16_0:1.14
	newlib-1_15_0:1.12
	newlib-csl-coldfire-4_1-32:1.11
	newlib-csl-sourcerygxx-4_1-32:1.11
	newlib-csl-innovasic-fido-3_4_4-33:1.11
	newlib-csl-coldfire-4_1-30:1.11
	newlib-csl-sourcerygxx-4_1-30:1.11
	newlib-csl-coldfire-4_1-28:1.11
	newlib-csl-sourcerygxx-4_1-28:1.11
	newlib-csl-arm-2006q3-27:1.11
	newlib-csl-sourcerygxx-4_1-27:1.11
	newlib-csl-arm-2006q3-26:1.11
	newlib-csl-sourcerygxx-4_1-26:1.11
	newlib-csl-sourcerygxx-4_1-24:1.11
	newlib-csl-sourcerygxx-4_1-23:1.11
	newlib-csl-sourcerygxx-4_1-21:1.11
	newlib-csl-arm-2006q3-21:1.11
	newlib-csl-arm-2006q3-19:1.11
	newlib-csl-sourcerygxx-4_1-19:1.11
	newlib-csl-sourcerygxx-4_1-18:1.11
	newlib-csl-sourcerygxx-3_4_4-25:1.12
	newlib-csl-sourcerygxx-4_1-17:1.11
	cr-0x5f1:1.11.0.6
	newlib-csl-sourcerygxx-4_1-14:1.11
	newlib-csl-sourcerygxx-4_1-13:1.11
	newlib-csl-sourcerygxx-4_1-12:1.11
	newlib-csl-sourcerygxx-4_1-9:1.11
	newlib-csl-sourcerygxx-4_1-8:1.11
	newlib-csl-sourcerygxx-4_1-7:1.11
	newlib-csl-arm-2006q1-6:1.11
	newlib-csl-sourcerygxx-4_1-6:1.11
	newlib-csl-sourcerygxx-4_1-5:1.11
	newlib-csl-sourcerygxx-4_1-4:1.11
	newlib-autotools-branch:1.11.0.4
	newlib-csl-20060320-branch:1.11.0.2
	newlib-csl-20060320-branchpoint:1.11
	newlib-1_14_0:1.11
	newlib-csl-arm-2005-q1b:1.10
	newlib-csl-arm-2005-q1a:1.10
	newlib-1_13_0:1.10
	csl-arm-2004-q3:1.10
	csl-arm-2004-q1a:1.9
	csl-arm-2004-q1:1.9
	newlib-1_12_0:1.9
	csl-arm-2003-q4:1.8
	w32api-2_2:1.8
	mingw-runtime-2_4:1.8
	newlib-1_11_0:1.8
	cygnus_cvs_20020108_pre:1.2
	newlib-1_10_0:1.2
	newlib-1_9_0:1.1.1.1
	newlib-2000-02-17:1.1.1.1
	SNAPSHOT:1.1.1;
locks; strict;
comment	@# @;
expand	@o@;


1.19
date	2011.01.05.17.18.16;	author jjohnstn;	state Exp;
branches;
next	1.18;

1.18
date	2010.05.06.23.25.16;	author dj;	state Exp;
branches;
next	1.17;

1.17
date	2010.04.22.23.32.39;	author dj;	state Exp;
branches;
next	1.16;

1.16
date	2010.03.02.12.05.12;	author corinna;	state Exp;
branches;
next	1.15;

1.15
date	2009.08.19.12.38.09;	author ericb;	state Exp;
branches;
next	1.14;

1.14
date	2007.05.24.17.33.30;	author sje;	state Exp;
branches;
next	1.13;

1.13
date	2007.01.31.19.34.36;	author jjohnstn;	state Exp;
branches;
next	1.12;

1.12
date	2006.08.01.20.20.25;	author jjohnstn;	state Exp;
branches;
next	1.11;

1.11
date	2005.10.26.22.10.51;	author jjohnstn;	state Exp;
branches;
next	1.10;

1.10
date	2004.07.05.18.44.55;	author jjohnstn;	state Exp;
branches;
next	1.9;

1.9
date	2004.01.23.21.37.25;	author jjohnstn;	state Exp;
branches;
next	1.8;

1.8
date	2002.09.20.17.11.29;	author jjohnstn;	state Exp;
branches;
next	1.7;

1.7
date	2002.07.17.23.25.43;	author jjohnstn;	state Exp;
branches;
next	1.6;

1.6
date	2002.07.16.15.30.25;	author jjohnstn;	state Exp;
branches;
next	1.5;

1.5
date	2002.06.20.19.51.15;	author fitzsim;	state Exp;
branches;
next	1.4;

1.4
date	2002.06.14.20.51.08;	author fitzsim;	state Exp;
branches;
next	1.3;

1.3
date	2002.05.01.18.43.58;	author fitzsim;	state Exp;
branches;
next	1.2;

1.2
date	2001.12.13.23.49.39;	author fitzsim;	state Exp;
branches;
next	1.1;

1.1
date	2000.02.17.19.39.46;	author cgf;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.02.17.19.39.46;	author cgf;	state Exp;
branches;
next	;


desc
@@


1.19
log
@
2011-01-05  Ralf Corsepius  <ralf.corsepius@@rtems.org>

        * libc/Makefile.am (SUBDEFS): Remove redundant posix/stmp-def.
        * libc/Makefile.in: Regenerate.
@
text
@## Process this file with automake to generate Makefile.in

AUTOMAKE_OPTIONS = cygnus

if HAVE_POSIX_DIR
POSIX_SUBDIR = posix
endif

if HAVE_SIGNAL_DIR
SIGNAL_SUBDIR = signal
endif

if HAVE_SYSCALL_DIR
SYSCALLS_SUBDIR = syscalls
endif

if HAVE_UNIX_DIR
UNIX_SUBDIR = unix
endif

if HAVE_STDIO_DIR
STDIO_SUBDIR = stdio
endif

if HAVE_STDIO64_DIR
STDIO64_SUBDIR = stdio64
endif

if ENABLE_NEWLIB_ICONV
NEWLIB_ICONV_DIRS = iconv
NEWLIB_ICONV_LIBS = iconv/ces/lib.$(aext) iconv/ccs/lib.$(aext) iconv/lib/lib.$(aext)
else
NEWLIB_ICONV_DIRS =
NEWLIB_ICONV_LIBS =
endif

if HAVE_XDR_DIR
XDR_SUBDIR = xdr
endif

# The order of SUBDIRS is important for the integrated documentation.
# Do not change the order without considering the doc impact.
SUBDIRS = argz stdlib ctype search $(STDIO_SUBDIR) $(STDIO64_SUBDIR) string $(SIGNAL_SUBDIR) time locale sys reent \
	$(extra_dir) errno misc machine $(UNIX_SUBDIR) $(POSIX_SUBDIR) $(SYSCALLS_SUBDIR) $(NEWLIB_ICONV_DIRS) \
	$(XDR_SUBDIR) .

noinst_DATA = $(CRT0)

if USE_LIBTOOL
noinst_LTLIBRARIES = libc.la
SUBLIBS = \
	argz/libargz.$(aext) \
	stdlib/libstdlib.$(aext) \
	ctype/libctype.$(aext) \
	search/libsearch.$(aext) \
	$(LIBC_STDIO_LIB) \
	$(LIBC_STDIO64_LIB) \
	$(LIBC_XDR_LIB) \
	string/libstring.$(aext) \
	$(LIBC_SIGNAL_LIB) \
	time/libtime.$(aext) \
	locale/liblocale.$(aext) \
	reent/libreent.$(aext) \
	$(LIBC_EXTRA_LIB) \
	errno/liberrno.$(aext) \
	misc/libmisc.$(aext) \
	$(LIBC_UNIX_LIB) \
	$(LIBC_POSIX_LIB) \
	$(LIBC_SYSCALL_LIB) \
	$(LIBC_MACHINE_LIB) \
	$(LIBC_SYS_LIB)
else
noinst_LIBRARIES = libc.a
SUBLIBS = \
	argz/lib.$(aext) \
	stdlib/lib.$(aext) \
	ctype/lib.$(aext) \
	search/lib.$(aext) \
	$(LIBC_STDIO_LIB) \
	$(LIBC_STDIO64_LIB) \
	$(LIBC_XDR_LIB) \
	string/lib.$(aext) \
	$(LIBC_SIGNAL_LIB) \
	time/lib.$(aext) \
	locale/lib.$(aext) \
	reent/lib.$(aext) \
	$(LIBC_EXTRA_LIB) \
	errno/lib.$(aext) \
	misc/lib.$(aext) \
	$(LIBC_UNIX_LIB) \
	$(LIBC_POSIX_LIB) \
	$(LIBC_SYSCALL_LIB) \
        $(NEWLIB_ICONV_LIBS) \
	$(LIBC_MACHINE_LIB) \
	$(LIBC_SYS_LIB)
endif

libc_la_LDFLAGS = -Xcompiler -nostdlib

if USE_LIBTOOL
libc_la_SOURCES =
libc_la_LIBADD = $(SUBLIBS)
libc_la_DEPENDENCIES = $(SUBLIBS)
else
libc.a: $(SUBLIBS)
	rm -f $@@
	rm -rf tmp
	mkdir tmp
	cd tmp; \
	 for i in $(SUBLIBS); do \
	   $(AR) x ../$$i; \
	 done; \
	$(AR) $(AR_FLAGS) ../$@@ *.o
	$(RANLIB) $@@
	rm -rf tmp
endif # USE_LIBTOOL

$(SUBLIBS): ; @@true

crt0.o: sys/crt0.o
	rm -f $@@
	ln sys/crt0.o $@@ >/dev/null 2>/dev/null || cp sys/crt0.o $@@

sys/crt0.o: ; @@true

# This is a list of the stmp-def files in each subdirectory which
# builds .def files.  We don't list subdirectories which don't build
# .def files; if the list of subdirectories changes, we must change
# this as well.
SUBDEFS = \
	stdlib/stmp-def \
	ctype/stmp-def \
	$(LIBC_STDIO_DEF) \
	$(LIBC_STDIO64_DEF) \
	$(LIBC_POSIX_DEF) \
	$(LIBC_XDR_DEF) \
	string/stmp-def \
	$(LIBC_SIGNAL_DEF) \
	time/stmp-def \
	locale/stmp-def \
	reent/stmp-def \
	$(LIBC_EXTRA_DEF) \
	misc/stmp-def

libc.info: sigset.texi extra.texi stdio64.texi posix.texi iconvset.texi \
	targetdep.tex $(SUBDEFS)

libc.dvi: sigset.texi extra.texi stdio64.texi posix.texi iconvset.texi \
	targetdep.tex $(SUBDEFS)

stmp-sigset: config.status
	if test -n "$(LIBC_SIGNAL_LIB)"; then \
	  echo "@@set SIGNALS" >tmp-sigset.texi; \
	else \
	  echo "@@clear SIGNALS" >tmp-sigset.texi; \
	fi
	$(SHELL) $(newlib_basedir)/../move-if-change tmp-sigset.texi sigset.texi
	touch $@@

sigset.texi: stmp-sigset ; @@true

stmp-iconvset: config.status
	if test -n "$(NEWLIB_ICONV_LIBS)"; then \
	  echo "@@set ICONV" >tmp-iconvset.texi; \
	else \
	  echo "@@clear ICONV" >tmp-iconvset.texi; \
	fi
	$(SHELL) $(newlib_basedir)/../move-if-change tmp-iconvset.texi iconvset.texi
	touch $@@

iconvset.texi: stmp-iconvset ; @@true

stmp-extra: config.status
	if test -n "$(LIBC_EXTRA_LIB)"; then \
	  echo "@@set EXTRA" >tmp-extra.texi; \
	else \
	  echo "@@clear EXTRA" >tmp-extra.texi; \
	fi
	$(SHELL) $(newlib_basedir)/../move-if-change tmp-extra.texi extra.texi
	touch $@@

extra.texi: stmp-extra ; @@true

stmp-stdio64: config.status
	if test -n "$(LIBC_STDIO64_LIB)"; then \
	  echo "@@set STDIO64" >tmp-stdio64.texi; \
	else \
	  echo "@@clear STDIO64" >tmp-stdio64.texi; \
	fi
	$(SHELL) $(newlib_basedir)/../move-if-change tmp-stdio64.texi stdio64.texi
	touch $@@

stdio64.texi: stmp-stdio64 ; @@true

stmp-posix: config.status
	if test -n "$(LIBC_POSIX_LIB)"; then \
	  echo "@@set POSIX" >tmp-posix.texi; \
	else \
	  echo "@@clear POSIX" >tmp-posix.texi; \
	fi
	$(SHELL) $(newlib_basedir)/../move-if-change tmp-posix.texi posix.texi
	touch $@@

posix.texi: stmp-posix ; @@true

stmp-targetdep: force
	rm -f tmp-targetdep.texi
	targetdoc=`pwd`/tmp-targetdep.texi; \
	for d in $(SUBDIRS); do \
	  if test "$$d" != "."; then \
	    (cd $$d && $(MAKE) TARGETDOC=$${targetdoc} doc) || exit 1; \
	  fi; \
	done
	cat $(srcdir)/sys.tex >>tmp-targetdep.texi
	$(SHELL) $(newlib_basedir)/../move-if-change tmp-targetdep.texi targetdep.tex
	touch $@@

targetdep.tex: stmp-targetdep ; @@true

$(SUBDEFS): stmp-targetdep ; @@true

info_TEXINFOS = libc.texinfo
libc_TEXINFOS = sigset.texi extra.texi posix.texi stdio64.texi iconvset.texi \
	targetdep.tex $(SUBDEFS)

.PHONY: force
force:

CLEANFILES = $(CRT0) \
	sigset.texi stmp-sigset extra.texi stmp-extra \
	stdio64.texi stmp-stdio64 targetdep.tex stmp-targetdep \
	tmp-sigset.texi tmp-iconvset.texi tmp-extra.texi \
	tmp-stdio64.texi tmp-posix.texi tmp-targetdep.texi

ACLOCAL_AMFLAGS = -I .. -I ../..
CONFIG_STATUS_DEPENDENCIES = $(newlib_basedir)/configure.host
@


1.18
log
@* libc/Makefile.am (stmp-sigset, stmp-iconvset, stmp-extra,
stmp-stdio64, stmp-posix,stmp-targetdep): Use unique temporary
file names to allow for parallel installs.
(CLEANFILES): Add new temporary file names.
* libc/Makefile.in: Regenerate.
@
text
@d143 1
a143 2
	misc/stmp-def \
	posix/stmp-def
@


1.17
log
@* libc/Makefile.am (SUBDEFS): Add LIBC_POSIX_DEF.
(libc.info): Add posix.texi.
(libc.dvi): Likewise.
(stmp-posix): New.
(posix.texi): New.
(libc_TEXINFOS): Add posix.texi.
* libc/configure.in (LIBC_POSIX_LIB, LIBC_POSIX_DEF): Add
tests.
* libc/libc.texinfo: Include posix.texi
* libc/locale/locale.c: Fix texinfo typo.
* libc/time/strftime.c: Fix texinfo typo.

* libc/configure: Regenerate.
* libc/Makefile.in: Regenerate.
* libc/argz/Makefile.in: Regenerate.
* libc/ctype/Makefile.in: Regenerate.
* libc/errno/Makefile.in: Regenerate.
* libc/iconv/Makefile.in: Regenerate.
* libc/iconv/ccs/Makefile.in: Regenerate.
* libc/iconv/ccs/binary/Makefile.in: Regenerate.
* libc/iconv/ces/Makefile.in: Regenerate.
* libc/iconv/lib/Makefile.in: Regenerate.
* libc/locale/Makefile.in: Regenerate.
* libc/misc/Makefile.in: Regenerate.
* libc/posix/Makefile.in: Regenerate.
* libc/reent/Makefile.in: Regenerate.
* libc/search/Makefile.in: Regenerate.
* libc/signal/Makefile.in: Regenerate.
* libc/stdio/Makefile.in: Regenerate.
* libc/stdio64/Makefile.in: Regenerate.
* libc/stdlib/Makefile.in: Regenerate.
* libc/string/Makefile.in: Regenerate.
* libc/syscalls/Makefile.in: Regenerate.
* libc/time/Makefile.in: Regenerate.
* libc/unix/Makefile.in: Regenerate.
* libc/xdr/Makefile.in: Regenerate.
@
text
@d154 1
a154 1
	  echo "@@set SIGNALS" >tmp.texi; \
d156 1
a156 1
	  echo "@@clear SIGNALS" >tmp.texi; \
d158 1
a158 1
	$(SHELL) $(newlib_basedir)/../move-if-change tmp.texi sigset.texi
d165 1
a165 1
	  echo "@@set ICONV" >tmp.texi; \
d167 1
a167 1
	  echo "@@clear ICONV" >tmp.texi; \
d169 1
a169 1
	$(SHELL) $(newlib_basedir)/../move-if-change tmp.texi iconvset.texi
d176 1
a176 1
	  echo "@@set EXTRA" >tmp.texi; \
d178 1
a178 1
	  echo "@@clear EXTRA" >tmp.texi; \
d180 1
a180 1
	$(SHELL) $(newlib_basedir)/../move-if-change tmp.texi extra.texi
d187 1
a187 1
	  echo "@@set STDIO64" >tmp.texi; \
d189 1
a189 1
	  echo "@@clear STDIO64" >tmp.texi; \
d191 1
a191 1
	$(SHELL) $(newlib_basedir)/../move-if-change tmp.texi stdio64.texi
d198 1
a198 1
	  echo "@@set POSIX" >tmp.texi; \
d200 1
a200 1
	  echo "@@clear POSIX" >tmp.texi; \
d202 1
a202 1
	$(SHELL) $(newlib_basedir)/../move-if-change tmp.texi posix.texi
d208 2
a209 2
	rm -f tmp.texi
	targetdoc=`pwd`/tmp.texi; \
d215 2
a216 2
	cat $(srcdir)/sys.tex >>tmp.texi
	$(SHELL) $(newlib_basedir)/../move-if-change tmp.texi targetdep.tex
d232 3
a234 1
	stdio64.texi stmp-stdio64 tmp.texi targetdep.tex stmp-targetdep
@


1.16
log
@	Add eXtensible Data Record (XDR) support
	* configure.host: Build libc/xdr only on cygwin.
	* Makefile.am: Install xdr headers.
	* libc/configure.in: Support new libc/xdr subdirectory.
	* libc/Makefile.am: Support new libc/xdr subdirectory.
	* libc/include/rpc/types.h: New.
	* libc/include/rpc/xdr.h: New.
	* libc/xdr/README: New.
	* libc/xdr/Makefile.am: New.
	* libc/xdr/dummy.c: New.
	* libc/xdr/xdr.c: New.
	* libc/xdr/xdr_array.c: New.
	* libc/xdr/xdr_float.c: New.
	* libc/xdr/xdr_float_vax.c: New.
	* libc/xdr/xdr_mem.c: New.
	* libc/xdr/xdr_private.c: New.
	* libc/xdr/xdr_private.h: New.
	* libc/xdr/xdr_rec.c: New.
	* libc/xdr/xdr_reference.c: New.
	* libc/xdr/xdr_sizeof.c: New.
	* libc/xdr/xdr_stdio.c: New.

	Regenerate using ac-2.63 and am-1.11.1
	* libc/xdr/Makefile.in: New.
	* Makefile.in: Regenerate.
	* libc/configure: Regenerate.
	* libc/Makefile.in: Regenerate.
	* libc/argz/Makefile.in: Regenerate.
	* libc/ctype/Makefile.in: Regenerate.
	* libc/errno/Makefile.in: Regenerate.
	* libc/iconv/ccs/binary/Makefile.in: Regenerate.
	* libc/iconv/ccs/Makefile.in: Regenerate.
	* libc/iconv/ces/Makefile.in: Regenerate.
	* libc/iconv/lib/Makefile.in: Regenerate.
	* libc/iconv/Makefile.in: Regenerate.
	* libc/locale/Makefile.in: Regenerate.
	* libc/misc/Makefile.in: Regenerate.
	* libc/posix/Makefile.in: Regenerate.
	* libc/reent/Makefile.in: Regenerate.
	* libc/search/Makefile.in: Regenerate.
	* libc/signal/Makefile.in: Regenerate.
	* libc/stdio/Makefile.in: Regenerate.
	* libc/stdio64/Makefile.in: Regenerate.
	* libc/stdlib/Makefile.in: Regenerate.
	* libc/string/Makefile.in: Regenerate.
	* libc/syscalls/Makefile.in: Regenerate.
	* libc/time/Makefile.in: Regenerate.
	* libc/unix/Makefile.in: Regenerate.
@
text
@d135 1
d146 1
a146 1
libc.info: sigset.texi extra.texi stdio64.texi iconvset.texi \
d149 1
a149 1
libc.dvi: sigset.texi extra.texi stdio64.texi iconvset.texi \
d196 11
d224 1
a224 1
libc_TEXINFOS = sigset.texi extra.texi stdio64.texi iconvset.texi \
@


1.15
log
@Fix 'make info' to work again.

* libc/Makefile.am (SUBDEFS): Correctly build popen docs.
* libc/libc.texinfo (Top): Add posix node to menu.
@
text
@d37 4
d44 2
a45 1
	$(extra_dir) errno misc machine $(UNIX_SUBDIR) $(POSIX_SUBDIR) $(SYSCALLS_SUBDIR) $(NEWLIB_ICONV_DIRS) .
d58 1
d81 1
d135 1
@


1.14
log
@	* ltmain.sh: Update from GCC.
	* libtool.m4: Update from GCC.
	* ltsugar.m4: New. Update from GCC.
	* ltversion.m4: New. Update from GCC.
	* ltoptions.m4: New. Update from GCC.
	* ltconfig: Remove.
	* ltcf-c.sh: Remove.
	* ltcf-cxx.sh: Remove.
	* ltcf-gcj.sh: Remove.
	* src-release: Update with new libtool file list.
	* newlib/*/configure.in: invoke _LD_DECL_SED.
	* newlib/*/Makefile.am: Ensure toplevel is included in ACLOCAL_AMFLAGS.
	* Regenerate subdirectories
@
text
@d134 2
a135 1
	misc/stmp-def
@


1.13
log
@
2007-01-31  Kazunori Asayama <asayama@@sm.sony.co.jp>

	* configure.host: Define stdio directory as a variable.
	* libc/Makefile.am: Define stdio related names
	as macros.
	* libc/configure.in: Add detection routine of stdio directory.
	* libc/Makefile.in: Regenerated.
	* libc/configure: Ditto.
	* libc/argz/Makefile.in: Ditto.
	* libc/ctype/Makefile.in: Ditto.
	* libc/errno/Makefile.in: Ditto.
	* libc/iconv/Makefile.in: Ditto.
	* libc/iconv/ccs/Makefile.in: Ditto.
	* libc/iconv/ccs/binary/Makefile.in: Ditto.
	* libc/iconv/ces/Makefile.in: Ditto.
	* libc/iconv/lib/Makefile.in: Ditto.
	* libc/locale/Makefile.in: Ditto.
	* libc/misc/Makefile.in: Ditto.
	* libc/posix/Makefile.in: Ditto.
	* libc/reent/Makefile.in: Ditto.
	* libc/search/Makefile.in: Ditto.
	* libc/signal/Makefile.in: Ditto.
	* libc/stdio/Makefile.in: Ditto.
	* libc/stdio64/Makefile.in: Ditto.
	* libc/stdlib/Makefile.in: Ditto.
	* libc/string/Makefile.in: Ditto.
	* libc/syscalls/Makefile.in: Ditto.
	* libc/time/Makefile.in: Ditto.
	* libc/unix/Makefile.in: Ditto.
@
text
@d213 1
a213 1
ACLOCAL_AMFLAGS = -I ..
@


1.12
log
@
2006-08-01  Jeff Johnston  <jjohnstn@@redhat.com>

        * libc/Makefile.am: Add libc_TEXINFOS dependency on
        generated .texi files.
        * libm/Makefile.am: Add libm_TEXINFOS dependency on
        generated .texi files.
        * libc/Makefile.in: Regenerated.
        * libm/Makefile.in: Ditto.
@
text
@d21 4
d39 1
a39 1
SUBDIRS = argz stdlib ctype search stdio $(STDIO64_SUBDIR) string $(SIGNAL_SUBDIR) time locale sys reent \
d51 1
a51 1
	stdio/libstdio.$(aext) \
d73 1
a73 1
	stdio/lib.$(aext) \
d126 1
a126 1
	stdio/stmp-def \
@


1.11
log
@
2005-10-26  Jeff Johnston  <jjohnstn@@redhat.com>

        * libc/Makefile.am: Reorder SUBLIBS so machine and sys
        directories can override properly.
@
text
@a114 2
info_TEXINFOS = libc.texinfo

d198 4
@


1.10
log
@
2004-07-05  Jeff Johnston  <jjohnstn@@redhat.com>

        * libc/Makefile.am (libc.dvi): Add target and specify
        same dependencies as libc.info.
        * libc/Makefile.in: Regenerated.
        * libm/Makefile.am (libm.dvi): Add target and specify
        same dependencies as libm.info.
        * libm/Makefile.in: Regenerated.
@
text
@a52 1
	$(LIBC_SYS_LIB) \
a56 1
	$(LIBC_MACHINE_LIB) \
d59 3
a61 1
	$(LIBC_SYSCALL_LIB)
a74 1
	$(LIBC_SYS_LIB) \
a78 1
	$(LIBC_MACHINE_LIB) \
d82 3
a84 1
        $(NEWLIB_ICONV_LIBS)
@


1.9
log
@
2004-01-23  Artem B. Bityuckiy  <abitytsky@@softminecorp.com>

	* acinclude.m4 (--enable-newlib-iconv): New configuration option.
	(--enable-newlib-builtin-converters): Ditto.
	* configure.in: Add code to set _ICONV_ENABLED flag.
	Set _MB_LEN_MAX to 1 if not mb enabled.
	* configure: Regenerated.
	* aclocal.m4: Ditto.
	* Makefile.in: Ditto.
	* newlib.hin: Add _ICONV_ENABLED flag.
	* libc/Makefile.am: Add support for iconv.
	* libc/configure.in: Ditto.
	* libc/Makefile.in: Regenerated.
	* libc/aclocal.m4: Ditto.
	* libc/configure: Ditto.
	* libc/libc.texinfo: Add iconv documentation.
	* libc/iconv/AUTHORS, libc/iconv/COPYING, libc/iconv/Makefile.am,
	libc/iconv/Makefile.in, libc/iconv/README.ORIGINAL,
	libc/iconv/README.TODO, libc/iconv/charset.aliases,
	libc/iconv/iconv.tex, libc/iconv/ccs/Makefile.am,
	libc/iconv/ccs/Makefile.in, libc/iconv/ccs/README.CCS.SOURCES,
	libc/iconv/ccs/big5.c, libc/iconv/ccs/cns11643_plane1.c,
	libc/iconv/ccs/cns11643_plane14.c, libc/iconv/ccs/cns11643_plane2.c,
	libc/iconv/ccs/cp775.c, libc/iconv/ccs/cp850.c,
	libc/iconv/ccs/cp852.c, libc/iconv/ccs/cp855.c,
	libc/iconv/ccs/cp866.c, libc/iconv/ccs/gb_2312_80.c,
	libc/iconv/ccs/iconv_mktbl, libc/iconv/ccs/iso_8859_1.c,
	libc/iconv/ccs/iso_8859_15.c, libc/iconv/ccs/iso_8859_2.c,
	libc/iconv/ccs/iso_8859_4.c, libc/iconv/ccs/iso_8859_5.c,
	libc/iconv/ccs/jis_x0201.c, libc/iconv/ccs/jis_x0208_1983.c,
	libc/iconv/ccs/jis_x0212_1990.c, libc/iconv/ccs/koi8_r.c,
	libc/iconv/ccs/koi8_u.c, libc/iconv/ccs/ksx1001.c,
	libc/iconv/ccs/shift_jis.c, libc/iconv/ccs/us_ascii.c,
	libc/iconv/ccs/binary/Makefile.am, libc/iconv/ccs/binary/Makefile.in,
	libc/iconv/ccs/binary/big5.cct,
	libc/iconv/ccs/binary/cns11643_plane1.cct,
	libc/iconv/ccs/binary/cns11643_plane14.cct,
	libc/iconv/ccs/binary/cns11643_plane2.cct,
	libc/iconv/ccs/binary/cp775.cct, libc/iconv/ccs/binary/cp850.cct,
	libc/iconv/ccs/binary/cp852.cct, libc/iconv/ccs/binary/cp855.cct,
	libc/iconv/ccs/binary/cp866.cct, libc/iconv/ccs/binary/gb_2312_80.cct,
	libc/iconv/ccs/binary/iso_8859_1.cct,
	libc/iconv/ccs/binary/iso_8859_15.cct,
	libc/iconv/ccs/binary/iso_8859_2.cct,
	libc/iconv/ccs/binary/iso_8859_4.cct,
	libc/iconv/ccs/binary/iso_8859_5.cct,
	libc/iconv/ccs/binary/jis_x0201.cct,
	libc/iconv/ccs/binary/jis_x0208_1983.cct,
	libc/iconv/ccs/binary/jis_x0212_1990.cct,
	libc/iconv/ccs/binary/koi8_r.cct, libc/iconv/ccs/binary/koi8_u.cct,
	libc/iconv/ccs/binary/ksx1001.cct,
	libc/iconv/ccs/binary/shift_jis.cct,
	libc/iconv/ccs/binary/us_ascii.cct,
	libc/iconv/ces/Makefile.am, libc/iconv/ces/Makefile.in,
	libc/iconv/ces/euc-jp.c, libc/iconv/ces/euc-kr.c,
	libc/iconv/ces/euc-tw.c, libc/iconv/ces/gb2312.c,
	libc/iconv/ces/iso-10646-ucs-2.c, libc/iconv/ces/iso-10646-ucs-4.c,
	libc/iconv/ces/ucs-2-internal.c, libc/iconv/ces/ucs-4-internal.c,
	libc/iconv/ces/utf-16.c, libc/iconv/ces/utf-8.c,
	libc/iconv/lib/Makefile.am, libc/iconv/lib/Makefile.in,
	libc/iconv/lib/aliases.c, libc/iconv/lib/bialiasesi.c,
	libc/iconv/lib/biccs.c, libc/iconv/lib/bices.c,
	libc/iconv/lib/ccs.c, libc/iconv/lib/ces.c,
	libc/iconv/lib/ces_euc.c, libc/iconv/lib/ces_iso2022.c,
	libc/iconv/lib/ces_table.c, libc/iconv/lib/converter.c,
	libc/iconv/lib/deps.h, libc/iconv/lib/endian.h,
	libc/iconv/lib/iconv.c, libc/iconv/lib/loaddata.c,
	libc/iconv/lib/local.h, libc/include/iconv.h: New files.
	* libc/sys/linux/include/iconv.h: Ditto.
	* libc/include/sys/_types.h (_iconv_t): Added.
	* doc/aclocal.m4: Regenerated.
	* doc/configure: Ditto.
	* doc/Makefile.in: Ditto.
	* iconvdata/Makefile.in: Ditto.
	* iconvdata/aclocal.m4: Ditto.
	* iconvdata/configure: Ditto.
	* libc/*aclocal.m4: Ditto.
	* libc/*Makefile.in: Ditto.
	* libc/*configure: Ditto.
	* libm/*aclocal.m4: Ditto.
	* libm/*Makefile.in: Ditto.
	* libm/*configure: Ditto.
@
text
@d137 3
@


1.8
log
@
2002-09-20  Jeff Johnston  <jjohnstn@@redhat.com>

        * configure.host: Minor comment and formatting changes.
        * libc/Makefile.am: Add libc_la_DEPENDENCIES.
        * libc/Makefile.in: Regenerated.
        * libc/include/sys/config.h: Minor format change.
@
text
@d25 8
d36 1
a36 1
	$(extra_dir) errno misc machine $(UNIX_SUBDIR) $(POSIX_SUBDIR) $(SYSCALLS_SUBDIR) .
d83 2
a84 1
	$(LIBC_SYSCALL_LIB)
d134 2
a135 1
libc.info: sigset.texi extra.texi stdio64.texi targetdep.tex $(SUBDEFS)
d147 11
@


1.7
log
@
2002-07-17  Jeff Johnston  <jjohnstn@@redhat.com>

        * configure.host(stdio64_dir): New setting that is used to
        enable building of new stdio64 directory.
        * libc/Makefile.am[HAVE_STDIO64_DIR]: Add support for
        large files.
        (stmp-stdio64,stdio64.texi): New targets to optionally add in
        stdio64 info to info files.
        * libc/Makefile.in: Regenerated.
        * libc/configure: Ditto.
        * libc/configure.in: Add configuration variables that are set
        when stdio64 is selected as subdir in configure.host.
        * libc/libc.texinfo: Add optional menu item for Stdio64, based
        on whether STDIO64 flag is set or not.
        * libc/sys.tex: Add optional stdio64 syscalls based on whether
        STDIO64 flag is set or not.
        * libc/include/reent.h[__LARGE64_FILES]: Add new stdio64
        _r sycall routines.
        * libc/include/stdio.h[__LARGE64_FILES]: Add new stdio64 prototypes.
        (FILE): Typedef'd to __FILE instead of struct __sFILE directly.
        (__SL64): New file flag indicating file is opened via fopen64.
        * libc/include/sys/_types.h(_off64_t): Added.
        * libc/include/sys/config.h: For x86-linux, define __LARGE64_FILES.
        * libc/include/sys/reent.h(struct __sFILE64): New file structure
        for 64-bit offset large file support.
        (__FILE): New intermediate type either set to struct __sFILE64 or
        struct __sFILE, depending on whether __LARGE64_FILES is set or not.
        * libc/reent/Makefile.am[HAVE_STDIO64_DIR]: Add new files.
        * libc/reent/Makefile.in: Regenerated.
        * libc/reent/fstat64r.c: New file.
        * libc/reent/lseek64r.c: Ditto.
        * libc/reent/open64r.c: Ditto.
        * libc/reent/reent.tex: Optionally add stdio64 reentrant syscalls
        based on whether STDIO64 flag is set.
        * libc/stdio/stdio.tex: Add blank line.
        * libc/stdio64/Makefile.am: New file.
        * libc/stdio64/Makefile.in: Ditto.
        * libc/stdio64/fgetpos64.c: Ditto.
        * libc/stdio64/fopen64.: Ditto.
        * libc/stdio64/freopen64.c: Ditto.
        * libc/stdio64/fseeko64.c: Ditto.
        * libc/stdio64/fsetpos64.c: Ditto.
        * libc/stdio64/ftello64.c: Ditto.
        * libc/stdio64/local64.h: Ditto.
        * libc/stdio64/stdio64.c: Ditto.
        * libc/stdio64/stdio64.tex: Ditto.
        * libc/stdio64/tmpfile64.c: Ditto.
        * libc/sys/linux/io64.c: Add weak aliases for lseek64, fstat64, and
        open64.
@
text
@d83 1
@


1.6
log
@
2002-07-16  Jeff Johnston  <jjohnstn@@redhat.com>

        * libc/Makefile.am (stmp-extra): New target to set makeinfo flag
        if LIBC_EXTRA_LIB is present.
        * libc/Makefile.in: Regenerated.
        * libc/libc.texinfo: Add blank line.
        * libc/argz/Makefile.am: Add doc support.
        * libc/search/Makefile.am: Ditto.
        * libc/argz/Makefile.in: Regenerated.
        * libc/search/Makefile.in: Ditto.
        * libc/misc/misc.tex: Add ffs function.
        * libc/stdio/ftell.c: Fix missing doc delimeter in description.
@
text
@d21 4
d27 1
a27 1
SUBDIRS = argz stdlib ctype search stdio string $(SIGNAL_SUBDIR) time locale sys reent \
d40 1
d62 1
d115 1
d124 1
a124 1
libc.info: sigset.texi extra.texi targetdep.tex $(SUBDEFS)
d148 11
d179 2
a180 1
	sigset.texi stmp-sigset tmp.texi targetdep.tex stmp-targetdep
@


1.5
log
@	* Makefile.am (LIB_OBJECTLISTS): Add
	libc/search/objectlist.awk.in.
	* libc/Makefile.am (SUBDIRS): Add search.
	(SUBLIBS): Add search/libsearch.la.
	* libc/configure.in (AC_OUTPUT): Add search/Makefile.
	* libc/search: New directory.
	* libc/search/Makefile.am: New file.
	* libc/search/extern.h: New file.
	* libc/search/hash.c: New file.
	* libc/search/hash.h: New file.
	* libc/search/hash_bigkey.c: New file.
	* libc/search/hash_buf.c: New file.
	* libc/search/hash_func.c: New file.
	* libc/search/hash_log2.c: New file.
	* libc/search/hash_page.c: New file.
	* libc/search/hcreate.3: New file.
	* libc/search/hcreate.c: New file.
	* libc/search/hcreate.c~: New file.
	* libc/search/hcreate_r.c: New file.
	* libc/search/ndbm.c: New file.
	* libc/search/page.h: New file.
	* libc/search/tdelete.c: New file.
	* libc/search/tdestroy.c: New file.
	* libc/search/tfind.c: New file.
	* libc/search/tsearch.3: New file.
	* libc/search/tsearch.c: New file.
	* libc/search/twalk.c: New file.
	* libc/include/db.h: New file.
	* libc/include/ndbm.h: New file.
	* libc/include/search.h: New file.
	* libc/include/sys/queue.h: New file.
	* libc/include/sys/cdefs.h: New file.
	* libc/include/sys/param.h
	[__IEEE_LITTLE_ENDIAN,__IEEE_BIG_ENDIAN]: Set BYTE_ORDER to
	LITTLE_ENDIAN or BIG_ENDIAN.
	* libc/include/sys/errno.h (EFTYPE): New macro.
	* libc/search/bsearch.c: Move from libc/stdlib.
	* libc/search/qsort.c: Likewise.
	* libc/stdlib/Makefile.am (LIB_SOURCES): Remove bsearch.c and
	qsort.c.
	(CHEWOUT_FILES): Remove bsearch.def and qsort.def.
	* libc/stdlib/stdlib.tex: Remove references to bsearch and qsort.
@
text
@d117 1
a117 1
libc.info: sigset.texi targetdep.tex $(SUBDEFS)
d129 11
@


1.4
log
@	* libc/argz: New directory.
	* libc/argz/*: New files.
	* libc/argz/argz_add.c: New file.
	* libc/argz/argz_add_sep.c: New file.
	* libc/argz/argz_append.c: New file.
	* libc/argz/argz_count.c: New file.
	* libc/argz/argz_create.c: New file.
	* libc/argz/argz_create_sep.c: New file.
	* libc/argz/argz_delete.c: New file.
	* libc/argz/argz_extract.c: New file.
	* libc/argz/argz_insert.c: New file.
	* libc/argz/argz_next.c: New file.
	* libc/argz/argz_replace.c: New file.
	* libc/argz/argz_stringify.c: New file.
	* libc/argz/buf_findstr.c: New file.
	* libc/argz/envz_add.c: New file.
	* libc/argz/envz_entry.c: New file.
	* libc/argz/envz_get.c: New file.
	* libc/argz/envz_merge.c: New file.
	* libc/argz/envz_remove.c: New file.
	* libc/argz/envz_strip.c: New file.
	* libc/include/argz.h: New file.
	* libc/include/envz.h: New file.
	* Makefile.am (LIBC_OBJECTLISTS): Add
	libc/argz/objectlist.awk.in.
	* libc/Makefile.am (SUBDIRS): Add argz.
	(SUBLIBS): Add argz/libargz.la.
	* libc/configure.in (AC_OUTPUT): Add argz/Makefile.
	* libc/include/errno.h: Add error_t typedef.
@
text
@d23 1
a23 1
SUBDIRS = argz stdlib ctype stdio string $(SIGNAL_SUBDIR) time locale sys reent \
d34 1
d55 1
@


1.3
log
@	* libc/Makefile.am (SUBLIBS): Add LIBC_EXTRA_LIB.
	(SUBDEFS): Add LIBC_EXTRA_DEF.
	* libc/configure.in (LIBC_EXTRA_LIB): New variable.
	(LIBC_EXTRA_DEF): Likewise.
	(extra_dir): Likewise.
	* libc/machine/xscale/machine: New directory.
	* libc/machine/xscale/machine/profile.h: New file.

	* Makefile.am (site.exp): Remove newlib_cflags.  Add
	multibuildtop.
	* testsuite/newlib.locale/UTF-8.c: Change fprintf's to printf's.
	* testsuite/lib/flags.exp: New file.
	* testsuite/lib/newlib.exp: Load flags.exp.
	(newlib_target_compile): Remove libgloss directory references.
	(newlib_init): Remove newlib_cflags references.
@
text
@d23 1
a23 1
SUBDIRS = stdlib ctype stdio string $(SIGNAL_SUBDIR) time locale sys reent \
d31 1
d51 1
@


1.2
log
@	* Makefile.shared: New file.
	* libc/sys/linux/shared.ld: New file.
	* libm/machine/*: New files.
	* libm/machine/i386/*: New files.
	* Makefile.am: Add libtool support.  Change math and mathfp
	references to variables.
	* configure.host: Add variables for libtool support.  Add
	libm_machine_dir variable.
	* configure.in: Add objectlist variables, for libtool
	support.  Add CC_FOR_BUILD tests.
	* libc/Makefile.am: Add libtool support.  Change crt0.o
	reference to be a variable reference.
	* libc/configure.in: Add libtool support.  Change sublib
	names to be lib${subdir}.la when using libtool.
	* libc/ctype/Makefile.am: Add libtool support.
	* libc/errno/Makefile.am: Likewise.
	* libc/locale/Makefile.am: Likewise.
	* libc/machine/Makefile.am: Likewise.
	* libc/machine/configure.in: Likewise.
	* libc/machine/i386/Makefile.am: Likewise.
	* libc/machine/i386/configure.in: Likewise.
	* libc/misc/Makefile.am: Likewise.
	* libc/posix/Makefile.am: Likewise.
	* libc/reent/Makefile.am: Likewise.
	* libc/signal/Makefile.am: Likewise.
	* libc/stdio/Makefile.am: Likewise.
	* libc/stdlib/Makefile.am: Likewise.
	* libc/string/Makefile.am: Likewise.
	* libc/sys/Makefile.am: Likewise.
	* libc/sys/configure.in: Likewise.
	* libc/sys/linux/Makefile.am: Add libtool support.  Change
	awk reference to a variable reference.  Change signal.h
	reference to a variable reference.
	* libc/sys/linux/configure.in: Add libtool support.
	* libc/syscalls/Makefile.am: Likewise.
	* libc/time/Makefile.am: Likewise.
	* libc/unix/Makefile.am: Likewise.
	* libm/Makefile.am: Add libtool support.  Change math and
	mathfp references to variables.
	* libm/configure.in: Add libtool support.  Add
	LIBM_MACHINE_LIB variable.
	* libm/common/Makefile.am: Add libtool support.
	* libm/math/Makefile.am: Likewise.
	* libm/mathfp/Makefile.am: Likewise.
	Regenerate all Makefile.in, aclocal.m4, and configure.
@
text
@d24 1
a24 1
	errno misc machine $(UNIX_SUBDIR) $(POSIX_SUBDIR) $(SYSCALLS_SUBDIR) .
d40 1
d59 1
d110 1
@


1.1
log
@Initial revision
@
text
@a25 1
noinst_LIBRARIES = libc.a
d28 20
d49 4
a52 4
	stdlib/lib.a \
	ctype/lib.a \
	stdio/lib.a \
	string/lib.a \
d54 2
a55 2
	time/lib.a \
	locale/lib.a \
d57 3
a59 3
	reent/lib.a \
	errno/lib.a \
	misc/lib.a \
d64 3
d68 4
d83 1
d142 1
a142 1
CLEANFILES = crt0.o \
@


1.1.1.1
log
@import newlib-2000-02-17 snapshot
@
text
@@
