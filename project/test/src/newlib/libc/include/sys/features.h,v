head	1.32;
access;
symbols
	cygwin-1_7_35-release:1.32
	cygwin-1_7_34-release:1.32
	newlib-2_2_0:1.31.0.2
	cygwin-1_7_33-release:1.31
	cygwin-1_7_32-release:1.30
	cygwin-1_7_31-release:1.30
	cygwin-1_7_30-release:1.30
	cygwin-1_7_29-release:1.30
	cygwin-1_7_28-release:1.30
	newlib-2_1_0:1.30
	cygwin-1_7_27-release:1.30
	cygwin-1_7_26-release:1.30
	cygwin-1_7_25-release:1.30
	cygwin-1_7_24-release:1.30
	cygwin-1_7_23-release:1.30
	cygwin-1_7_22-release:1.30
	cygwin-1_7_21-release:1.30
	cygwin-1_7_20-release:1.30
	cygwin-1_7_19-release:1.30
	cygwin-64bit-postmerge:1.30
	cygwin-64bit-premerge-branch:1.29.0.2
	cygwin-64bit-premerge:1.29
	cygwin-1_7_18-release:1.28
	newlib-2_0_0:1.28
	cygwin-1_7_17-release:1.28
	cygwin-64bit-branch:1.27.0.2
	cygwin-1_7_16-release:1.27
	cygwin-1_7_15-release:1.27
	cygwin-1_7_14_2-release:1.27
	cygwin-1_7_14-release:1.27
	cygwin-1_7_12-release:1.27
	cygwin-1_7_11-release:1.27
	cygwin-1_7_10-release:1.27
	newlib-1_20_0:1.27
	cygwin-1_7_9-release:1.23
	cygwin-1_7_8-release:1.23
	newlib-1_19_0:1.22
	cygwin-1_7_7-release:1.22
	cygwin-1_7_5-release:1.21
	cygwin-1_7_4-release:1.21
	cygwin-1_7_3-release:1.21
	cygwin-1_7_2-release:1.21
	newlib-1_18_0:1.19
	cygwin-1_7_1-release:1.19
	newlib-1_17_0-arc:1.16.0.2
	binutils-arc-20080908-branch:1.13.0.2
	binutils-arc-20080908-branchpoint:1.13
	newlib-1_17_0:1.16
	newlib-1_16_0:1.13
	newlib-1_15_0:1.8
	newlib-csl-coldfire-4_1-32:1.7
	newlib-csl-sourcerygxx-4_1-32:1.7
	newlib-csl-innovasic-fido-3_4_4-33:1.7
	newlib-csl-coldfire-4_1-30:1.7
	newlib-csl-sourcerygxx-4_1-30:1.7
	newlib-csl-coldfire-4_1-28:1.7
	newlib-csl-sourcerygxx-4_1-28:1.7
	newlib-csl-arm-2006q3-27:1.7
	newlib-csl-sourcerygxx-4_1-27:1.7
	newlib-csl-arm-2006q3-26:1.7
	newlib-csl-sourcerygxx-4_1-26:1.7
	newlib-csl-sourcerygxx-4_1-24:1.7
	newlib-csl-sourcerygxx-4_1-23:1.7
	newlib-csl-sourcerygxx-4_1-21:1.7
	newlib-csl-arm-2006q3-21:1.7
	newlib-csl-arm-2006q3-19:1.7
	newlib-csl-sourcerygxx-4_1-19:1.7
	newlib-csl-sourcerygxx-4_1-18:1.7
	newlib-csl-sourcerygxx-3_4_4-25:1.7
	newlib-csl-sourcerygxx-4_1-17:1.7
	cr-0x5f1:1.7.0.6
	newlib-csl-sourcerygxx-4_1-14:1.7
	newlib-csl-sourcerygxx-4_1-13:1.7
	newlib-csl-sourcerygxx-4_1-12:1.7
	newlib-csl-sourcerygxx-4_1-9:1.7
	newlib-csl-sourcerygxx-4_1-8:1.7
	newlib-csl-sourcerygxx-4_1-7:1.7
	newlib-csl-arm-2006q1-6:1.7
	newlib-csl-sourcerygxx-4_1-6:1.7
	newlib-csl-sourcerygxx-4_1-5:1.7
	newlib-csl-sourcerygxx-4_1-4:1.7
	newlib-autotools-branch:1.7.0.4
	newlib-csl-20060320-branch:1.7.0.2
	newlib-csl-20060320-branchpoint:1.7
	newlib-1_14_0:1.7
	newlib-csl-arm-2005-q1b:1.6
	newlib-csl-arm-2005-q1a:1.6
	newlib-1_13_0:1.6
	csl-arm-2004-q3:1.6
	csl-arm-2004-q1a:1.6
	csl-arm-2004-q1:1.6
	newlib-1_12_0:1.5
	csl-arm-2003-q4:1.5
	w32api-2_2:1.5
	mingw-runtime-2_4:1.5
	newlib-1_11_0:1.5
	cygnus_cvs_20020108_pre:1.3
	newlib-1_10_0:1.3
	newlib-1_9_0:1.1;
locks; strict;
comment	@ * @;


1.32
date	2015.01.05.17.31.28;	author jjohnstn;	state Exp;
branches;
next	1.31;

1.31
date	2014.09.17.22.20.16;	author jjohnstn;	state Exp;
branches;
next	1.30;

1.30
date	2013.04.23.09.42.25;	author corinna;	state Exp;
branches;
next	1.29;

1.29
date	2013.04.22.10.28.05;	author corinna;	state Exp;
branches;
next	1.28;

1.28
date	2012.10.16.18.45.23;	author corinna;	state Exp;
branches;
next	1.27;

1.27
date	2011.07.20.19.41.15;	author yselkowitz;	state Exp;
branches
	1.27.2.1;
next	1.26;

1.26
date	2011.05.16.22.35.10;	author yselkowitz;	state Exp;
branches;
next	1.25;

1.25
date	2011.05.15.18.50.52;	author corinna;	state Exp;
branches;
next	1.24;

1.24
date	2011.05.02.16.05.06;	author yselkowitz;	state Exp;
branches;
next	1.23;

1.23
date	2011.01.27.11.55.01;	author corinna;	state Exp;
branches;
next	1.22;

1.22
date	2010.08.09.08.29.22;	author corinna;	state Exp;
branches;
next	1.21;

1.21
date	2010.03.17.17.13.00;	author corinna;	state Exp;
branches;
next	1.20;

1.20
date	2010.03.02.19.28.39;	author jjohnstn;	state Exp;
branches;
next	1.19;

1.19
date	2009.07.06.18.59.04;	author jjohnstn;	state Exp;
branches;
next	1.18;

1.18
date	2009.06.17.16.47.02;	author jjohnstn;	state Exp;
branches;
next	1.17;

1.17
date	2009.04.06.22.04.33;	author jjohnstn;	state Exp;
branches;
next	1.16;

1.16
date	2008.12.12.17.16.03;	author jjohnstn;	state Exp;
branches;
next	1.15;

1.15
date	2008.12.04.13.58.11;	author corinna;	state Exp;
branches;
next	1.14;

1.14
date	2008.10.16.21.53.58;	author jjohnstn;	state Exp;
branches;
next	1.13;

1.13
date	2007.12.19.18.51.19;	author jjohnstn;	state Exp;
branches;
next	1.12;

1.12
date	2007.06.13.17.44.24;	author jjohnstn;	state Exp;
branches;
next	1.11;

1.11
date	2007.02.14.10.07.02;	author corinna;	state Exp;
branches;
next	1.10;

1.10
date	2007.02.08.13.34.20;	author corinna;	state Exp;
branches;
next	1.9;

1.9
date	2007.02.07.17.19.35;	author corinna;	state Exp;
branches;
next	1.8;

1.8
date	2006.09.13.22.09.27;	author jjohnstn;	state Exp;
branches;
next	1.7;

1.7
date	2005.10.18.18.39.46;	author corinna;	state Exp;
branches;
next	1.6;

1.6
date	2004.02.09.02.22.01;	author cgf;	state Exp;
branches;
next	1.5;

1.5
date	2002.06.20.19.51.24;	author fitzsim;	state Exp;
branches;
next	1.4;

1.4
date	2002.03.28.04.26.49;	author cgf;	state Exp;
branches;
next	1.3;

1.3
date	2001.04.12.00.05.57;	author cgf;	state Exp;
branches;
next	1.2;

1.2
date	2001.01.12.02.41.33;	author dj;	state Exp;
branches;
next	1.1;

1.1
date	2000.12.12.01.24.08;	author jjohnstn;	state Exp;
branches;
next	;

1.27.2.1
date	2012.10.26.09.27.36;	author corinna;	state Exp;
branches;
next	1.27.2.2;

1.27.2.2
date	2013.03.27.11.15.02;	author corinna;	state Exp;
branches;
next	1.27.2.3;

1.27.2.3
date	2013.04.22.10.34.02;	author corinna;	state Exp;
branches;
next	;


desc
@@


1.32
log
@
2014-12-26  Freddie Chopin  <freddie_chopin@@op.pl>

	* libc/include/sys/features.h: update newlib version and copyright year
@
text
@/*
 *  Written by Joel Sherrill <joel@@OARcorp.com>.
 *
 *  COPYRIGHT (c) 1989-2014.
 *
 *  On-Line Applications Research Corporation (OAR).
 *
 *  Permission to use, copy, modify, and distribute this software for any
 *  purpose without fee is hereby granted, provided that this entire notice
 *  is included in all copies of any software which is or includes a copy
 *  or modification of this software.
 *
 *  THIS SOFTWARE IS BEING PROVIDED "AS IS", WITHOUT ANY EXPRESS OR IMPLIED
 *  WARRANTY.  IN PARTICULAR,  THE AUTHOR MAKES NO REPRESENTATION
 *  OR WARRANTY OF ANY KIND CONCERNING THE MERCHANTABILITY OF THIS
 *  SOFTWARE OR ITS FITNESS FOR ANY PARTICULAR PURPOSE.
 *
 *  $Id: features.h,v 1.31 2014/09/17 22:20:16 jjohnstn Exp $
 */

#ifndef _SYS_FEATURES_H
#define _SYS_FEATURES_H

#ifdef __cplusplus
extern "C" {
#endif

/* Macros to determine that newlib is being used.  Put in this header to 
 * be similar to where glibc stores its version of these macros.
 */
#define __NEWLIB__  		2
#define __NEWLIB_MINOR__  	2

/* Macro to test version of GCC.  Returns 0 for non-GCC or too old GCC. */
#ifndef __GNUC_PREREQ
# if defined __GNUC__ && defined __GNUC_MINOR__
#  define __GNUC_PREREQ(maj, min) \
	((__GNUC__ << 16) + __GNUC_MINOR__ >= ((maj) << 16) + (min))
# else
#  define __GNUC_PREREQ(maj, min) 0
# endif
#endif /* __GNUC_PREREQ */
/* Version with trailing underscores for BSD compatibility. */
#define	__GNUC_PREREQ__(ma, mi)	__GNUC_PREREQ(ma, mi)

/* RTEMS adheres to POSIX -- 1003.1b with some features from annexes.  */

#ifdef __rtems__
#define _POSIX_JOB_CONTROL     		1
#define _POSIX_SAVED_IDS       		1
#define _POSIX_VERSION			199309L
#define _POSIX_ASYNCHRONOUS_IO		1
#define _POSIX_FSYNC			1
#define _POSIX_MAPPED_FILES		1
#define _POSIX_MEMLOCK			1
#define _POSIX_MEMLOCK_RANGE		1
#define _POSIX_MEMORY_PROTECTION	1
#define _POSIX_MESSAGE_PASSING		1
#define _POSIX_MONOTONIC_CLOCK		200112L
#define _POSIX_PRIORITIZED_IO		1
#define _POSIX_PRIORITY_SCHEDULING	1
#define _POSIX_REALTIME_SIGNALS		1
#define _POSIX_SEMAPHORES		1
/* #define _POSIX_SHARED_MEMORY_OBJECTS	1 */
#define _POSIX_SYNCHRONIZED_IO		1
#define _POSIX_TIMERS			1
#define _POSIX_BARRIERS                 200112L
#define _POSIX_READER_WRITER_LOCKS      200112L
#define _POSIX_SPIN_LOCKS               200112L


/* In P1003.1b but defined by drafts at least as early as P1003.1c/D10  */
#define _POSIX_THREADS				1
#define _POSIX_THREAD_ATTR_STACKADDR		1
#define _POSIX_THREAD_ATTR_STACKSIZE		1
#define _POSIX_THREAD_PRIORITY_SCHEDULING	1
#define _POSIX_THREAD_PRIO_INHERIT		1
#define _POSIX_THREAD_PRIO_PROTECT		1
#define _POSIX_THREAD_PROCESS_SHARED		1
#define _POSIX_THREAD_SAFE_FUNCTIONS		1

/* P1003.4b/D8 defines the constants below this comment. */
#define _POSIX_SPAWN				1
#define _POSIX_TIMEOUTS				1
#define _POSIX_CPUTIME				1
#define _POSIX_THREAD_CPUTIME			1
#define _POSIX_SPORADIC_SERVER			1
#define _POSIX_THREAD_SPORADIC_SERVER		1
#define _POSIX_DEVICE_CONTROL			1
#define _POSIX_DEVCTL_DIRECTION			1
#define _POSIX_INTERRUPT_CONTROL		1
#define _POSIX_ADVISORY_INFO			1

/* UNIX98 added some new pthread mutex attributes */
#define _UNIX98_THREAD_MUTEX_ATTRIBUTES         1

#endif

/* XMK loosely adheres to POSIX -- 1003.1 */
#ifdef __XMK__
#define _POSIX_THREADS				1
#define _POSIX_THREAD_PRIORITY_SCHEDULING	1
#endif


#ifdef __svr4__
# define _POSIX_JOB_CONTROL     1
# define _POSIX_SAVED_IDS       1
# define _POSIX_VERSION 199009L
#endif

#ifdef __CYGWIN__

#if !defined(__STRICT_ANSI__) || defined(__cplusplus) || __STDC_VERSION__ >= 199901L
#define _POSIX_VERSION				200112L
#define _POSIX2_VERSION				200112L
#define _XOPEN_VERSION				   600

#define _POSIX_ADVISORY_INFO			200112L
/* #define _POSIX_ASYNCHRONOUS_IO		    -1 */
/* #define _POSIX_BARRIERS			    -1 */
#define _POSIX_CHOWN_RESTRICTED			     1
#define _POSIX_CLOCK_SELECTION			200112L
#define _POSIX_CPUTIME			    	200112L
#define _POSIX_FSYNC				200112L
#define _POSIX_IPV6				200112L
#define _POSIX_JOB_CONTROL			     1
#define _POSIX_MAPPED_FILES			200112L
/* #define _POSIX_MEMLOCK			    -1 */
#define _POSIX_MEMLOCK_RANGE			200112L
#define _POSIX_MEMORY_PROTECTION		200112L
#define _POSIX_MESSAGE_PASSING			200112L
#define _POSIX_MONOTONIC_CLOCK			200112L
#define _POSIX_NO_TRUNC				     1
/* #define _POSIX_PRIORITIZED_IO		    -1 */
#define _POSIX_PRIORITY_SCHEDULING		200112L
#define _POSIX_RAW_SOCKETS			200112L
#define _POSIX_READER_WRITER_LOCKS		200112L
#define _POSIX_REALTIME_SIGNALS			200112L
#define _POSIX_REGEXP				     1
#define _POSIX_SAVED_IDS			     1
#define _POSIX_SEMAPHORES			200112L
#define _POSIX_SHARED_MEMORY_OBJECTS		200112L 
#define _POSIX_SHELL				     1
/* #define _POSIX_SPAWN				    -1 */
#define _POSIX_SPIN_LOCKS			    200112L
/* #define _POSIX_SPORADIC_SERVER		    -1 */
#define _POSIX_SYNCHRONIZED_IO			200112L
#define _POSIX_THREAD_ATTR_STACKADDR		200112L
#define _POSIX_THREAD_ATTR_STACKSIZE		200112L
#define _POSIX_THREAD_CPUTIME			200112L
/* #define _POSIX_THREAD_PRIO_INHERIT		    -1 */
/* #define _POSIX_THREAD_PRIO_PROTECT		    -1 */
#define _POSIX_THREAD_PRIORITY_SCHEDULING	200112L
#define _POSIX_THREAD_PROCESS_SHARED		200112L
#define _POSIX_THREAD_SAFE_FUNCTIONS		200112L
/* #define _POSIX_THREAD_SPORADIC_SERVER	    -1 */
#define _POSIX_THREADS				200112L
/* #define _POSIX_TIMEOUTS			    -1 */
#define _POSIX_TIMERS				     1
/* #define _POSIX_TRACE				    -1 */
/* #define _POSIX_TRACE_EVENT_FILTER		    -1 */
/* #define _POSIX_TRACE_INHERIT			    -1 */
/* #define _POSIX_TRACE_LOG			    -1 */
/* #define _POSIX_TYPED_MEMORY_OBJECTS		    -1 */
#define _POSIX_VDISABLE				   '\0'
#define _POSIX2_C_BIND				200112L
#define _POSIX2_C_DEV				200112L
#define _POSIX2_CHAR_TERM			200112L
/* #define _POSIX2_FORT_DEV			    -1 */
/* #define _POSIX2_FORT_RUN			    -1 */
/* #define _POSIX2_LOCALEDEF			    -1 */
/* #define _POSIX2_PBS				    -1 */
/* #define _POSIX2_PBS_ACCOUNTING		    -1 */
/* #define _POSIX2_PBS_CHECKPOINT		    -1 */
/* #define _POSIX2_PBS_LOCATE			    -1 */
/* #define _POSIX2_PBS_MESSAGE			    -1 */
/* #define _POSIX2_PBS_TRACK			    -1 */
#define _POSIX2_SW_DEV				200112L
#define _POSIX2_UPE				200112L
#define _POSIX_V6_ILP32_OFF32			    -1
#ifdef __LP64__
#define _POSIX_V6_ILP32_OFFBIG			    -1
#define _POSIX_V6_LP64_OFF64			     1
#define _POSIX_V6_LPBIG_OFFBIG			     1
#else
#define _POSIX_V6_ILP32_OFFBIG			     1
#define _POSIX_V6_LP64_OFF64			    -1
#define _POSIX_V6_LPBIG_OFFBIG			    -1
#endif
#define _XBS5_ILP32_OFF32			_POSIX_V6_ILP32_OFF32
#define _XBS5_ILP32_OFFBIG			_POSIX_V6_ILP32_OFFBIG
#define _XBS5_LP64_OFF64			_POSIX_V6_LP64_OFF64
#define _XBS5_LPBIG_OFFBIG			_POSIX_V6_LPBIG_OFFBIG
#define _XOPEN_CRYPT				     1
#define _XOPEN_ENH_I18N				     1
/* #define _XOPEN_LEGACY			    -1 */
/* #define _XOPEN_REALTIME			    -1 */
/* #define _XOPEN_REALTIME_THREADS		    -1 */
#define _XOPEN_SHM				     1
/* #define _XOPEN_STREAMS			    -1 */
/* #define _XOPEN_UNIX				    -1 */

#endif /* !__STRICT_ANSI__ || __cplusplus || __STDC_VERSION__ >= 199901L */

/* The value corresponds to UNICODE version 4.0, which is the version
   supported by XP.  Newlib supports 5.2 (2011) but so far Cygwin needs
   the MS conversions for double-byte charsets. */
#define __STDC_ISO_10646__ 200305L

#endif /* __CYGWIN__ */

/* Per the permission given in POSIX.1-2008 section 2.2.1, define
 * _POSIX_C_SOURCE if _XOPEN_SOURCE is defined and _POSIX_C_SOURCE is not.
 * (_XOPEN_SOURCE indicates that XSI extensions are desired by an application.)
 * This permission is first granted in 2008, but use it for older ones, also.
 * Allow for _XOPEN_SOURCE to be empty (from the earliest form of it, before it
 * was required to have specific values).
 */
#if !defined(_POSIX_C_SOURCE)  &&  defined(_XOPEN_SOURCE) 
  #if (_XOPEN_SOURCE - 0) == 700	/* POSIX.1-2008 */
    #define _POSIX_C_SOURCE       200809L
   #elif (_XOPEN_SOURCE - 0) == 600	/* POSIX.1-2001 or 2004 */
    #define _POSIX_C_SOURCE       200112L
   #elif (_XOPEN_SOURCE - 0) == 500	/* POSIX.1-1995 */
    #define _POSIX_C_SOURCE       199506L
   #elif (_XOPEN_SOURCE - 0) < 500	/* really old */
    #define _POSIX_C_SOURCE       2
  #endif
#endif

#ifdef __cplusplus
}
#endif
#endif /* _SYS_FEATURES_H */
@


1.31
log
@
2014-09-17  Jeff Johnston  <jjohnstn@@redhat.com>

        * libc/include/sys/features.h: Add __NEWLIB__ and
        __NEWLIB_MINOR__ macros.
@
text
@d4 1
a4 1
 *  COPYRIGHT (c) 1989-2000.
d18 1
a18 1
 *  $Id: features.h,v 1.30 2013/04/23 09:42:25 corinna Exp $
d32 1
a32 1
#define __NEWLIB_MINOR__  	1
@


1.30
log
@	Port newlib to x86_64-pc-cygwin.
	* libc/include/sys/features.h: Redefine compilation environment
	definitions for Cygwin to cover 64 bit Cygwin.
	* libc/ctype/ctype_.c (_ctype_): Fix definition for 64 bit Cygwin.
	* libc/include/machine/setjmp.h: Change definition of _JBLEN to allow
	different values for 32 bit and 64 bit Cygwin.
	* libc/include/reent.h (stat64): Define as stat under Cygwin, instead
	of as __stat64.  Undef stat64 if not building Newlib.
	* libc/include/sys/stat.h (stat64): Define as stat under Cygwin.
@
text
@d18 1
a18 1
 *  $Id: features.h,v 1.27.2.3 2013/04/22 10:34:02 corinna Exp $
d28 6
@


1.29
log
@	* libc/include/sys/cdefs.h: Align with latest FreeBSD file header.
	* libc/include/sys/features.h (__GNUC_PREREQ__): Define.
@
text
@d18 1
a18 1
 *  $Id: features.h,v 1.28 2012/10/16 18:45:23 corinna Exp $
d176 9
a185 1
#define _POSIX_V6_ILP32_OFFBIG			     1
a186 1
#define _POSIX_V6_LP64_OFF64			    -1
a187 1
#define _POSIX_V6_LPBIG_OFFBIG			    -1
@


1.28
log
@	* libc/include/sys/features.h (__GNUC_PREREQ): Define.  Use
	throughout in place of explicit GNUC version checks.
	* libc/include/_ansi.h (_NOINLINE): Define.
	(_NOINLINE_STATIC): Define.
	* libc/stdio/vfprintf.c (__sbprintf): Define _NOINLINE_STATIC.
@
text
@d18 1
a18 1
 *  $Id: features.h,v 1.27 2011/07/20 19:41:15 yselkowitz Exp $
d37 2
@


1.27
log
@* libc/include/time.h [_POSIX_CLOCK_SELECTION] (clock_nanosleep):
Declare.
* libc/include/sys/features.h [__CYGWIN__] (_POSIX_CLOCK_SELECTION):
Define.
@
text
@d18 1
a18 1
 *  $Id: features.h,v 1.26 2011/05/16 22:35:10 yselkowitz Exp $
d28 10
@


1.27.2.1
log
@Pull in changes from HEAD
@
text
@d18 1
a18 1
 *  $Id: features.h,v 1.28 2012/10/16 18:45:23 corinna Exp $
a27 10
/* Macro to test version of GCC.  Returns 0 for non-GCC or too old GCC. */
#ifndef __GNUC_PREREQ
# if defined __GNUC__ && defined __GNUC_MINOR__
#  define __GNUC_PREREQ(maj, min) \
	((__GNUC__ << 16) + __GNUC_MINOR__ >= ((maj) << 16) + (min))
# else
#  define __GNUC_PREREQ(maj, min) 0
# endif
#endif /* __GNUC_PREREQ */

@


1.27.2.2
log
@	* libc/include/sys/features.h: Redefine compilation environment
	definitions for Cygwin to cover 64 bit Cygwin.
@
text
@d18 1
a18 1
 *  $Id: features.h,v 1.27.2.1 2012/10/26 09:27:36 corinna Exp $
d174 1
a174 5
#ifdef __LP64__
#define _POSIX_V6_ILP32_OFFBIG			    -1
#define _POSIX_V6_LP64_OFF64			     1
#define _POSIX_V6_LPBIG_OFFBIG			     1
#else
d176 1
d178 1
a179 4
#endif
#define _XBS5_ILP32_OFF32			_POSIX_V6_ILP32_OFF32
#define _XBS5_ILP32_OFFBIG			_POSIX_V6_ILP32_OFFBIG
#define _XBS5_LP64_OFF64			_POSIX_V6_LP64_OFF64
@


1.27.2.3
log
@Pull in changes from HEAD
@
text
@d18 1
a18 1
 *  $Id: features.h,v 1.27.2.2 2013/03/27 11:15:02 corinna Exp $
a36 2
/* Version with trailing underscores for BSD compatibility. */
#define __GNUC_PREREQ__(ma, mi) __GNUC_PREREQ(ma, mi)
@


1.26
log
@* libc/include/time.h (CLOCK_PROCESS_CPUTIME_ID): Rename from
CLOCK_PROCESS_CPUTIME.
(CLOCK_THREAD_CPUTIME_ID): Rename from CLOCK_THREAD_CPUTIME.
* libc/include/sys/features.h [__CYGWIN__] (_POSIX_CPUTIME): Define.
(_POSIX_THREAD_CPUTIME): Define.
@
text
@d18 1
a18 1
 *  $Id: features.h,v 1.25 2011/05/15 18:50:52 corinna Exp $
d105 1
a105 1
/* #define _POSIX_CLOCK_SELECTION		    -1 */
@


1.25
log
@	* libc/include/sys/features.h (_POSIX_THREAD_ATTR_STACKADDR): Define
	to 200112L for Cygwin.
@
text
@d18 1
a18 1
 *  $Id: features.h,v 1.24 2011/05/02 16:05:06 yselkowitz Exp $
d106 1
a106 1
/* #define _POSIX_CPUTIME			    -1 */
d133 1
a133 1
/* #define _POSIX_THREAD_CPUTIME		    -1 */
@


1.24
log
@* libc/include/sys/features.h [__CYGWIN__] (_POSIX_SPIN_LOCKS): Define.
* libc/include/sys/types.h: Cygwin provides its own pthread_spinlock_t
typedef.
@
text
@d18 1
a18 1
 *  $Id: features.h,v 1.23 2011/01/27 11:55:01 corinna Exp $
d131 1
a131 1
/* #define _POSIX_THREAD_ATTR_STACKADDR		    -1 */
@


1.23
log
@	* libc/include/sys/features.h: Define __STDC_ISO_10646__ for Cygwin.
	* libc/include/wchar.h: Include features.h.
@
text
@d18 1
a18 1
 *  $Id: features.h,v 1.22 2010/08/09 08:29:22 corinna Exp $
d128 1
a128 1
/* #define _POSIX_SPIN_LOCKS			    -1 */
@


1.22
log
@	* libc/include/sys/features.h: Define _POSIX_MONOTONIC_CLOCK for Cygwin.
@
text
@d18 1
a18 1
 *  $Id: features.h,v 1.21 2010/03/17 17:13:00 corinna Exp $
d181 6
@


1.21
log
@	* libc/include/sys/features.h:  Allow for _XOPEN_SOURCE to have an
	empty definition.  Also add support for values of 500 or less.
@
text
@d18 1
a18 1
 *  $Id: features.h,v 1.20 2010/03/02 19:28:39 jjohnstn Exp $
d115 1
a115 1
/* #define _POSIX_MONOTONIC_CLOCK		    -1 */
@


1.20
log
@
2010-03-02  Craig Howland <howland@@LGSInnovations.com>

        * libc/include/sys/features.h:  Add POSIX.1-permitted definition of
        _POSIX_C_SOURCE if not already defined and _XOPEN_SOURCE has an
        appropriate value.  Specifically, check for POSIX.1-2008 & 2001 values.
        * libc/include/sys/config.h:  Add #include <sys/features.h> so that all
        includes get the new check added to it.
@
text
@d18 1
a18 1
 *  $Id: features.h,v 1.19 2009/07/06 18:59:04 jjohnstn Exp $
d186 3
a188 1
 * This permission is first granted in 2008, but it is used for 2001, anyway.
d191 1
a191 1
  #if _XOPEN_SOURCE == 700	/* POSIX.1-2008 */
d193 1
a193 1
   #elif _XOPEN_SOURCE == 600	/* POSIX.1-2001 */
d195 4
@


1.19
log
@
2009-07-06  Joel Sherrill <joel.sherrill@@oarcorp.com>

        * libc/include/sys/features.h: Enable UNIX98 mutex attributes
        for RTEMS.
@
text
@d18 1
a18 1
 *  $Id: features.h,v 1.18 2009/06/17 16:47:02 jjohnstn Exp $
d183 13
@


1.18
log
@
2009-06-17  Michael Eager <eager@@eagercon.com>

        * libc/include/pthread.h: Support XMK (Xilinx) BSP, add RTEMS to
        PTHREAD_MUTEX_NORMAL.
        * libc/include/sys/features.h: Same.
        * libc/include/sys/types.h: Same.
@
text
@d18 1
a18 1
 *  $Id: features.h,v 1.17 2009/04/06 22:04:33 jjohnstn Exp $
d76 3
@


1.17
log
@
2009-04-06  Ken Werner  <ken.werner@@de.ibm.com>

        * libc/include/sys/features.h: Undefine _POSIX_TIMERS for spu.
        * libc/include/machine/time.h (nanosleep): Declare.
@
text
@d18 1
a18 1
 *  $Id: features.h,v 1.16 2008/12/12 17:16:03 jjohnstn Exp $
d78 7
@


1.16
log
@
2008-12-12  Ralf Corsepius  <ralf.corsepius@@rtems.org>

        * libc/include/sys/features.h: Set RTEMS's _POSIX_MONOTONIC_CLOCK to
        200112L (SUSv3 compliance).
        Comment out RTEMS's _POSIX_SHARED_MEMORY_OBJECTS (Unsupported).
@
text
@d18 1
a18 1
 *  $Id: features.h,v 1.15 2008/12/04 13:58:11 corinna Exp $
a172 5
#ifdef __SPU__
/* Not much for now! */
#define _POSIX_TIMERS				     1
#endif

@


1.15
log
@	* libc/include/sys/features.h (_POSIX_V6_ILP32_OFF32): Always define.
	(_POSIX_V6_LP64_OFF64): Ditto.
	(_POSIX_V6_LPBIG_OFFBIG): Ditto.
@
text
@d18 1
a18 1
 *  $Id: features.h,v 1.14 2008/10/16 21:53:58 jjohnstn Exp $
d41 1
a41 1
#define _POSIX_MONOTONIC_CLOCK		1
d46 1
a46 1
#define _POSIX_SHARED_MEMORY_OBJECTS	1
@


1.14
log
@2008-10-16  Joel Sherrill <joel.sherrill@@oarcorp.com>

   * libc/include/time.h: Add CLOCK_MONOTONIC.
   * libc/include/sys/features.h: Define
   _POSIX_MONOTONIC_CLOCK for RTEMS.
@
text
@d18 1
a18 1
 *  $Id: features.h,v 1.13 2007/12/19 18:51:19 jjohnstn Exp $
d153 1
a153 1
/* #define _POSIX_V6_ILP32_OFF32		    -1 */
d157 1
a157 1
/* #define _POSIX_V6_LP64_OFF64			    -1 */
d159 1
a159 1
/* #define _POSIX_V6_LPBIG_OFFBIG		    -1 */
@


1.13
log
@
2007-12-19  Jeff Johnston  <jjohnstn@@redhat.com>

        * libc/include/sys/features.h: Add checks for C90 compilers using
        -ansi.
@
text
@d18 1
a18 1
 *  $Id: features.h,v 1.12 2007/06/13 17:44:24 jjohnstn Exp $
d41 1
@


1.12
log
@
2007-06-13  Patrick Mansfield  <patmans@@us.ibm.com>

        * libc/include/sys/features.h: Define _POSIX_TIMERS for spu.
        * libc/include/sys/unistd.h: Change usleep prototype to Posix
        form and move outside of OS flag checks.
        * libc/machine/spu/Makefile.am: Add sleep and usleep.
        * libc/machine/spu/Makefile.in: Regenerate.
        * libc/machine/spu/sleep.c: Copy libc/posix/sleep.c.
        * libc/machine/spu/usleep.c: Copy libc/posix/usleep.c.
@
text
@d18 1
a18 1
 *  $Id: features.h,v 1.11 2007/02/14 10:07:02 corinna Exp $
d84 2
d169 2
a170 1
#endif
@


1.11
log
@	* libc/include/sys/features.h: Add _POSIX_MESSAGE_PASSING for
	Cygwin.
@
text
@d18 1
a18 1
 *  $Id: features.h,v 1.10 2007/02/08 13:34:20 corinna Exp $
d169 5
@


1.10
log
@	* libc/include/sys/features.h: Add _POSIX_SHARED_MEMORY_OBJECTS for
	Cygwin.  Fix value of _POSIX_SEMAPHORES.  Fix formatting.
@
text
@d18 1
a18 1
 *  $Id: features.h,v 1.9 2007/02/07 17:19:35 corinna Exp $
d101 1
a101 1
/* #define _POSIX_MESSAGE_PASSING		    -1 */
@


1.9
log
@	* libc/include/sys/features.h: Add definition of all supported
	_POSIX_xxx values for Cygwin.
	* libc/include/sys/types.h (pthread_rwlock_t): Omit definition
	on Cygwin.
	(pthread_rwlockattr_t): Ditto.
	* libc/include/sys/unistd.h: Define all _SC_xxx values as
	required by SUSv3.  Unify formatting.
@
text
@d18 1
a18 1
 *  $Id: features.h,v 1.8 2006/09/13 22:09:27 jjohnstn Exp $
d111 2
a112 2
#define _POSIX_SEMAPHORES			     1
/* #define _POSIX_SHARED_MEMORY_OBJECTS		    -1 */
d119 1
a119 1
#define _POSIX_THREAD_ATTR_STACKSIZE	200112L
@


1.8
log
@
2006-09-13  Joel Sherrill <joel@@oarcorp.com>

        * libc/include/pthread.h: Add pthread barriers,
        rwlocks, and spinlocks.  Change const to
        _CONST and prefix parameter names with
        an underscore.
        * libc/include/sys/types.h: Add id and attribute
        types for barriers, wrlocks, and spinlocks.
        * libc/include/sys/features.h: Enable barriers,
        wrlocks, and spinlocks for RTEMS.
@
text
@d18 1
a18 1
 *  $Id: features.h,v 1.7 2005/10/18 18:39:46 corinna Exp $
d84 83
a166 11
# define _POSIX_JOB_CONTROL			1
# define _POSIX_SAVED_IDS			0
# define _POSIX_VERSION				199009L
# define _POSIX_THREADS                         1
# define _POSIX_THREAD_PROCESS_SHARED           1
# define _POSIX_THREAD_SAFE_FUNCTIONS           1
# define _POSIX_THREAD_PRIORITY_SCHEDULING      1
# define _POSIX_THREAD_ATTR_STACKSIZE           1
# define _POSIX_SEMAPHORES                      1
# define _POSIX_TIMERS				1
# define _POSIX_MEMLOCK_RANGE			1
@


1.7
log
@	* libc/include/sys/features.h: Define _POSIX_MEMLOCK_RANGE for Cygwin.
@
text
@d18 1
a18 1
 *  $Id: features.h,v 1.6 2004/02/09 02:22:01 cgf Exp $
d48 3
@


1.6
log
@* libc/include/sys/features.h: Add _POSIX_TIMERS define for __CYGWIN__.
* libc/include/sys/reent.h (__getreent): Protect against possibly being
defined.
* libc/include/sys/unistd.h (fdatasync): Don't define for __CYGWIN__.
@
text
@d18 1
a18 1
 *  $Id: features.h,v 1.5 2002/06/20 19:51:24 fitzsim Exp $
d91 1
@


1.5
log
@	* Makefile.am (LIB_OBJECTLISTS): Add
	libc/search/objectlist.awk.in.
	* libc/Makefile.am (SUBDIRS): Add search.
	(SUBLIBS): Add search/libsearch.la.
	* libc/configure.in (AC_OUTPUT): Add search/Makefile.
	* libc/search: New directory.
	* libc/search/Makefile.am: New file.
	* libc/search/extern.h: New file.
	* libc/search/hash.c: New file.
	* libc/search/hash.h: New file.
	* libc/search/hash_bigkey.c: New file.
	* libc/search/hash_buf.c: New file.
	* libc/search/hash_func.c: New file.
	* libc/search/hash_log2.c: New file.
	* libc/search/hash_page.c: New file.
	* libc/search/hcreate.3: New file.
	* libc/search/hcreate.c: New file.
	* libc/search/hcreate.c~: New file.
	* libc/search/hcreate_r.c: New file.
	* libc/search/ndbm.c: New file.
	* libc/search/page.h: New file.
	* libc/search/tdelete.c: New file.
	* libc/search/tdestroy.c: New file.
	* libc/search/tfind.c: New file.
	* libc/search/tsearch.3: New file.
	* libc/search/tsearch.c: New file.
	* libc/search/twalk.c: New file.
	* libc/include/db.h: New file.
	* libc/include/ndbm.h: New file.
	* libc/include/search.h: New file.
	* libc/include/sys/queue.h: New file.
	* libc/include/sys/cdefs.h: New file.
	* libc/include/sys/param.h
	[__IEEE_LITTLE_ENDIAN,__IEEE_BIG_ENDIAN]: Set BYTE_ORDER to
	LITTLE_ENDIAN or BIG_ENDIAN.
	* libc/include/sys/errno.h (EFTYPE): New macro.
	* libc/search/bsearch.c: Move from libc/stdlib.
	* libc/search/qsort.c: Likewise.
	* libc/stdlib/Makefile.am (LIB_SOURCES): Remove bsearch.c and
	qsort.c.
	(CHEWOUT_FILES): Remove bsearch.def and qsort.def.
	* libc/stdlib/stdlib.tex: Remove references to bsearch and qsort.
@
text
@d18 1
a18 1
 *  $Id: features.h,v 1.4 2002/04/30 18:17:40 fitzsim Exp $
d81 10
a90 9
# define _POSIX_JOB_CONTROL	1
# define _POSIX_SAVED_IDS	0
# define _POSIX_VERSION		199009L
# define _POSIX_THREADS                          1
# define _POSIX_THREAD_PROCESS_SHARED            1
# define _POSIX_THREAD_SAFE_FUNCTIONS            1
# define _POSIX_THREAD_PRIORITY_SCHEDULING       1
# define _POSIX_THREAD_ATTR_STACKSIZE            1
# define _POSIX_SEMAPHORES                       1
@


1.4
log
@* libc/include/sys/features.h (_POSIX_SEMAPHORES): New Cygwin define.
@
text
@d18 1
a18 1
 *  $Id: features.h,v 1.3 2001/04/12 00:05:57 cgf Exp $
@


1.3
log
@* libc/include/sys/features.h: Add appropriate defines for Cygwin pthread
support.
* libc/include/sys/signal.h: Remove unneeded __CYGWIN__ protection.
* libc/include/sys/types.h: Protect __CYGWIN__ from the rtems pthreads types.
Include <cygwin/types.h> for the cygwin specific typedefs.
@
text
@d18 1
a18 1
 *  $Id: features.h,v 1.2 2001/01/12 02:41:33 dj Exp $
d89 1
@


1.2
log
@* libc/include/sys/features.h: __CYGWIN__ preferred over __CYGWIN32__
@
text
@d18 1
a18 1
 *  $Id: features.h,v 1.1 2000/12/12 01:24:08 jjohnstn Exp $
d84 5
@


1.1
log
@
2000-12-11  Joel Sherrill <joel@@OARcorp.com>

        * Merge RTEMS specific .h files into main libc/include.
        * libc/sys/rtems/include/signal.h: Removed.
        * libc/sys/rtems/include/time.h: Removed.
        * libc/sys/rtems/sys/features.h: Removed.
        * libc/sys/rtems/sys/sched.h: Removed.
        * libc/sys/rtems/sys/siginfo.h: Removed.
        * libc/sys/rtems/sys/signal.h: Removed.
        * libc/sys/rtems/sys/time.h: Removed.
        * libc/sys/rtems/sys/times.h: Removed.
        definitions for time_t and clock_t since these are
        no longer in time.h.
        * libc/include/pthread.h: New file.
        * libc/include/sys/sched.h: New file.
        * libc/include/sys/features.h: New file.
        * libc/include/time.h: Removed duplicate definition of clock_t
        and time_t, get them from <sys/types.h> instead.  Add prototypes        for POSIX clock and timer functionality.
        * libc/sys/linux/sys/types.h: Changed to include
        * libc/include/machine/types.h: Add _CLOCKID_T_ and _TIMER_T_.
        * libc/include/sys/signal.h: Add more complete set of POSIX
        signal functionality including real-time and threaded signals.
        * libc/include/sys/types.h: Add clock_t, time_t, struct
        timespec, and struct itimerspec.  Centralizing these makes
        things cleaner.  RTEMS uses 64-bit dev_t.
        Added numerous primitive definitions
        for pthreads including macros, pthread_attr_t,
        pthread_mutexattr_t, pthread_condattr_t, pthread_key_t,
        pthread_once_t, and pthread_t.
        * libc/include/sys/unistd.h: Added getlogin_r() prototype.
        If RTEMS follow POSIX on read(), write() and sbrk() prototype.
        Feature flags removed and moved to new file <sys/features.h>.
        Full set of POSIX sysconf() constants
@
text
@d18 1
a18 1
 *  $Id$
d80 1
a80 1
#ifdef __CYGWIN32__
@

