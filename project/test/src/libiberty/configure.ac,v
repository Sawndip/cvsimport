head	1.68;
access;
symbols
	sid-snapshot-20180601:1.68
	sid-snapshot-20180501:1.68
	sid-snapshot-20180401:1.68
	sid-snapshot-20180301:1.68
	sid-snapshot-20180201:1.68
	sid-snapshot-20180101:1.68
	sid-snapshot-20171201:1.68
	sid-snapshot-20171101:1.68
	sid-snapshot-20171001:1.68
	sid-snapshot-20170901:1.68
	sid-snapshot-20170801:1.68
	sid-snapshot-20170701:1.68
	sid-snapshot-20170601:1.68
	sid-snapshot-20170501:1.68
	sid-snapshot-20170401:1.68
	sid-snapshot-20170301:1.68
	sid-snapshot-20170201:1.68
	sid-snapshot-20170101:1.68
	sid-snapshot-20161201:1.68
	sid-snapshot-20161101:1.68
	sid-snapshot-20160901:1.68
	sid-snapshot-20160801:1.68
	sid-snapshot-20160701:1.68
	sid-snapshot-20160601:1.68
	sid-snapshot-20160501:1.68
	sid-snapshot-20160401:1.68
	sid-snapshot-20160301:1.68
	sid-snapshot-20160201:1.68
	sid-snapshot-20160101:1.68
	sid-snapshot-20151201:1.68
	sid-snapshot-20151101:1.68
	sid-snapshot-20151001:1.68
	sid-snapshot-20150901:1.68
	sid-snapshot-20150801:1.68
	sid-snapshot-20150701:1.68
	sid-snapshot-20150601:1.67
	sid-snapshot-20150501:1.67
	sid-snapshot-20150401:1.67
	sid-snapshot-20150301:1.67
	sid-snapshot-20150201:1.67
	sid-snapshot-20150101:1.67
	sid-snapshot-20141201:1.67
	sid-snapshot-20141101:1.66
	sid-snapshot-20141001:1.65
	sid-snapshot-20140901:1.65
	sid-snapshot-20140801:1.65
	sid-snapshot-20140701:1.65
	sid-snapshot-20140601:1.65
	sid-snapshot-20140501:1.64
	sid-snapshot-20140401:1.64
	sid-snapshot-20140301:1.64
	sid-snapshot-20140201:1.64
	sid-snapshot-20140101:1.63
	sid-snapshot-20131201:1.63
	sid-snapshot-20131101:1.63
	sid-snapshot-20131001:1.62
	binutils-2_24-branch:1.62.0.2
	binutils-2_24-branchpoint:1.62
	binutils-2_21_1:1.57
	sid-snapshot-20130901:1.62
	gdb_7_6_1-2013-08-30-release:1.61
	sid-snapshot-20130801:1.62
	sid-snapshot-20130701:1.62
	sid-snapshot-20130601:1.62
	sid-snapshot-20130501:1.61
	gdb_7_6-2013-04-26-release:1.61
	sid-snapshot-20130401:1.61
	binutils-2_23_2:1.60
	gdb_7_6-branch:1.61.0.2
	gdb_7_6-2013-03-12-branchpoint:1.61
	sid-snapshot-20130301:1.61
	sid-snapshot-20130201:1.61
	sid-snapshot-20130101:1.61
	sid-snapshot-20121201:1.61
	gdb_7_5_1-2012-11-29-release:1.60
	binutils-2_23_1:1.60
	sid-snapshot-20121101:1.61
	binutils-2_23:1.60
	sid-snapshot-20121001:1.60
	sid-snapshot-20120901:1.60
	gdb_7_5-2012-08-17-release:1.60
	sid-snapshot-20120801:1.60
	binutils-2_23-branch:1.60.0.10
	binutils-2_23-branchpoint:1.60
	gdb_7_5-branch:1.60.0.8
	gdb_7_5-2012-07-18-branchpoint:1.60
	sid-snapshot-20120701:1.60
	sid-snapshot-20120601:1.60
	sid-snapshot-20120501:1.60
	binutils-2_22_branch:1.60.0.6
	gdb_7_4_1-2012-04-26-release:1.60
	sid-snapshot-20120401:1.60
	sid-snapshot-20120301:1.60
	sid-snapshot-20120201:1.60
	gdb_7_4-2012-01-24-release:1.60
	sid-snapshot-20120101:1.60
	gdb_7_4-branch:1.60.0.4
	gdb_7_4-2011-12-13-branchpoint:1.60
	sid-snapshot-20111201:1.60
	binutils-2_22:1.60
	sid-snapshot-20111101:1.60
	sid-snapshot-20111001:1.60
	binutils-2_22-branch:1.60.0.2
	binutils-2_22-branchpoint:1.60
	gdb_7_3_1-2011-09-04-release:1.58
	sid-snapshot-20110901:1.60
	sid-snapshot-20110801:1.59
	gdb_7_3-2011-07-26-release:1.58
	sid-snapshot-20110701:1.58
	sid-snapshot-20110601:1.58
	sid-snapshot-20110501:1.58
	gdb_7_3-branch:1.58.0.2
	gdb_7_3-2011-04-01-branchpoint:1.58
	sid-snapshot-20110401:1.58
	sid-snapshot-20110301:1.58
	cygwin-1_7_8-release:1.58
	sid-snapshot-20110201:1.58
	sid-snapshot-20110101:1.58
	binutils-2_21:1.57
	sid-snapshot-20101201:1.58
	binutils-2_21-branch:1.57.0.2
	binutils-2_21-branchpoint:1.57
	sid-snapshot-20101101:1.55
	sid-snapshot-20101001:1.53
	binutils-2_20_1:1.48
	gdb_7_2-2010-09-02-release:1.52
	sid-snapshot-20100901:1.52
	cygwin-1_7_7-release:1.52
	sid-snapshot-20100801:1.52
	gdb_7_2-branch:1.52.0.2
	gdb_7_2-2010-07-07-branchpoint:1.52
	sid-snapshot-20100701:1.52
	sid-snapshot-20100601:1.51
	sid-snapshot-20100501:1.51
	sid-snapshot-20100401:1.51
	gdb_7_1-2010-03-18-release:1.51
	sid-snapshot-20100301:1.51
	gdb_7_1-branch:1.51.0.2
	gdb_7_1-2010-02-18-branchpoint:1.51
	sid-snapshot-20100201:1.51
	sid-snapshot-20100101:1.50
	gdb_7_0_1-2009-12-22-release:1.49
	sid-snapshot-20091201:1.50
	sid-snapshot-20091101:1.49
	binutils-2_20:1.48
	gdb_7_0-2009-10-06-release:1.49
	sid-snapshot-20091001:1.49
	gdb_7_0-branch:1.49.0.2
	gdb_7_0-2009-09-16-branchpoint:1.49
	arc-sim-20090309:1.37
	binutils-arc-20081103-branch:1.42.0.8
	binutils-arc-20081103-branchpoint:1.42
	binutils-2_20-branch:1.48.0.2
	binutils-2_20-branchpoint:1.48
	sid-snapshot-20090901:1.47
	sid-snapshot-20090801:1.46
	msnyder-checkpoint-072509-branch:1.46.0.4
	msnyder-checkpoint-072509-branchpoint:1.46
	sid-snapshot-20090701:1.46
	dje-cgen-play1-branch:1.46.0.2
	dje-cgen-play1-branchpoint:1.46
	sid-snapshot-20090601:1.46
	sid-snapshot-20090501:1.46
	sid-snapshot-20090401:1.44
	arc-20081103-branch:1.42.0.6
	arc-20081103-branchpoint:1.42
	arc-insight_6_8-branch:1.37.0.10
	arc-insight_6_8-branchpoint:1.37
	insight_6_8-branch:1.37.0.8
	insight_6_8-branchpoint:1.37
	sid-snapshot-20090301:1.43
	binutils-2_19_1:1.39
	sid-snapshot-20090201:1.43
	sid-snapshot-20090101:1.42
	reverse-20081226-branch:1.42.0.4
	reverse-20081226-branchpoint:1.42
	sid-snapshot-20081201:1.42
	multiprocess-20081120-branch:1.42.0.2
	multiprocess-20081120-branchpoint:1.42
	sid-snapshot-20081101:1.42
	binutils-2_19:1.39
	sid-snapshot-20081001:1.40
	reverse-20080930-branch:1.40.0.2
	reverse-20080930-branchpoint:1.40
	binutils-2_19-branch:1.39.0.6
	binutils-2_19-branchpoint:1.39
	sid-snapshot-20080901:1.39
	sid-snapshot-20080801:1.39
	reverse-20080717-branch:1.39.0.4
	reverse-20080717-branchpoint:1.39
	sid-snapshot-20080701:1.39
	msnyder-reverse-20080609-branch:1.39.0.2
	msnyder-reverse-20080609-branchpoint:1.39
	drow-reverse-20070409-branch:1.33.0.2
	drow-reverse-20070409-branchpoint:1.33
	sid-snapshot-20080601:1.39
	sid-snapshot-20080501:1.39
	sid-snapshot-20080403:1.38
	sid-snapshot-20080401:1.38
	gdb_6_8-2008-03-27-release:1.37
	sid-snapshot-20080301:1.37
	gdb_6_8-branch:1.37.0.6
	gdb_6_8-2008-02-26-branchpoint:1.37
	sid-snapshot-20080201:1.37
	sid-snapshot-20080101:1.37
	sid-snapshot-20071201:1.37
	sid-snapshot-20071101:1.37
	gdb_6_7_1-2007-10-29-release:1.37
	gdb_6_7-2007-10-10-release:1.37
	sid-snapshot-20071001:1.37
	gdb_6_7-branch:1.37.0.4
	gdb_6_7-2007-09-07-branchpoint:1.37
	binutils-2_18:1.37
	binutils-2_18-branch:1.37.0.2
	binutils-2_18-branchpoint:1.37
	insight_6_6-20070208-release:1.32
	binutils-csl-coldfire-4_1-32:1.30.6.2
	binutils-csl-sourcerygxx-4_1-32:1.30.6.2
	gdb_6_6-2006-12-18-release:1.32
	binutils-csl-innovasic-fido-3_4_4-33:1.30.6.2
	binutils-csl-sourcerygxx-3_4_4-32:1.12
	binutils-csl-coldfire-4_1-30:1.30.6.2
	binutils-csl-sourcerygxx-4_1-30:1.30.6.2
	binutils-csl-coldfire-4_1-28:1.30.6.2
	binutils-csl-sourcerygxx-4_1-29:1.30.6.2
	binutils-csl-sourcerygxx-4_1-28:1.30.6.2
	gdb_6_6-branch:1.32.0.2
	gdb_6_6-2006-11-15-branchpoint:1.32
	binutils-csl-arm-2006q3-27:1.30.6.2
	binutils-csl-sourcerygxx-4_1-27:1.30.6.2
	binutils-csl-arm-2006q3-26:1.30.6.2
	binutils-csl-sourcerygxx-4_1-26:1.30.6.2
	binutils-csl-sourcerygxx-4_1-25:1.30.6.2
	binutils-csl-sourcerygxx-4_1-24:1.30.6.2
	binutils-csl-sourcerygxx-4_1-23:1.30.6.2
	insight_6_5-20061003-release:1.31
	gdb-csl-symbian-6_4_50_20060226-12:1.30.2.1
	binutils-csl-sourcerygxx-4_1-21:1.30.6.2
	binutils-csl-arm-2006q3-21:1.30.6.2
	binutils-csl-sourcerygxx-4_1-22:1.30.6.2
	binutils-csl-palmsource-arm-prelinker-1_0-1:1.30.6.2
	binutils-csl-sourcerygxx-4_1-20:1.30.6.2
	binutils-csl-arm-2006q3-19:1.30.6.2
	binutils-csl-sourcerygxx-4_1-19:1.30.6.2
	binutils-csl-sourcerygxx-4_1-18:1.30.6.2
	binutils-csl-renesas-4_1-9:1.30.6.2
	gdb-csl-sourcerygxx-3_4_4-25:1.29
	binutils-csl-sourcerygxx-3_4_4-25:1.12
	nickrob-async-20060828-mergepoint:1.31
	gdb-csl-symbian-6_4_50_20060226-11:1.30.2.1
	binutils-csl-renesas-4_1-8:1.30.6.2
	binutils-csl-renesas-4_1-7:1.30.6.2
	binutils-csl-renesas-4_1-6:1.30.6.2
	gdb-csl-sourcerygxx-4_1-17:1.30.2.1
	binutils-csl-sourcerygxx-4_1-17:1.30.6.2
	gdb-csl-20060226-branch-local-2:1.30.2.1
	cr-0x5f1:1.31.0.12
	gdb-csl-sourcerygxx-4_1-14:1.30.2.1
	binutils-csl-sourcerygxx-4_1-14:1.30.6.2
	binutils-csl-sourcerygxx-4_1-15:1.30.6.2
	gdb-csl-sourcerygxx-4_1-13:1.30.2.1
	binutils-csl-sourcerygxx-4_1-13:1.30.6.2
	binutils-2_17:1.31
	gdb-csl-sourcerygxx-4_1-12:1.30.2.1
	binutils-csl-sourcerygxx-4_1-12:1.30.6.2
	gdb-csl-sourcerygxx-3_4_4-21:1.30.2.1
	binutils-csl-sourcerygxx-3_4_4-21:1.30.6.2
	gdb_6_5-20060621-release:1.31
	binutils-csl-wrs-linux-3_4_4-24:1.12
	binutils-csl-wrs-linux-3_4_4-23:1.12
	gdb-csl-sourcerygxx-4_1-9:1.30.2.1
	binutils-csl-sourcerygxx-4_1-9:1.30.6.2
	gdb-csl-sourcerygxx-4_1-8:1.30.2.1
	binutils-csl-sourcerygxx-4_1-8:1.30.6.2
	gdb-csl-sourcerygxx-4_1-7:1.30.2.1
	binutils-csl-sourcerygxx-4_1-7:1.30.6.2
	gdb-csl-arm-2006q1-6:1.30.2.1
	binutils-csl-arm-2006q1-6:1.30.6.2
	gdb-csl-sourcerygxx-4_1-6:1.30.2.1
	binutils-csl-sourcerygxx-4_1-6:1.30.6.2
	binutils-csl-wrs-linux-3_4_4-22:1.12
	gdb-csl-symbian-6_4_50_20060226-10:1.30.2.1
	gdb-csl-symbian-6_4_50_20060226-9:1.30.2.1
	gdb-csl-symbian-6_4_50_20060226-8:1.30.2.1
	gdb-csl-coldfire-4_1-11:1.30.2.1
	binutils-csl-coldfire-4_1-11:1.30.6.2
	gdb-csl-sourcerygxx-3_4_4-19:1.30.2.1
	binutils-csl-sourcerygxx-3_4_4-19:1.30.6.2
	gdb-csl-coldfire-4_1-10:1.30.2.1
	gdb_6_5-branch:1.31.0.10
	gdb_6_5-2006-05-14-branchpoint:1.31
	binutils-csl-coldfire-4_1-10:1.30.6.2
	gdb-csl-sourcerygxx-4_1-5:1.30.2.1
	binutils-csl-sourcerygxx-4_1-5:1.30.6.2
	nickrob-async-20060513-branch:1.31.0.8
	nickrob-async-20060513-branchpoint:1.31
	gdb-csl-sourcerygxx-4_1-4:1.30.2.1
	binutils-csl-sourcerygxx-4_1-4:1.30.6.2
	msnyder-reverse-20060502-branch:1.31.0.6
	msnyder-reverse-20060502-branchpoint:1.31
	binutils-csl-wrs-linux-3_4_4-21:1.12
	gdb-csl-morpho-4_1-4:1.30.2.1
	binutils-csl-morpho-4_1-4:1.30.6.2
	gdb-csl-sourcerygxx-3_4_4-17:1.30.2.1
	binutils-csl-sourcerygxx-3_4_4-17:1.30.6.2
	binutils-csl-wrs-linux-3_4_4-20:1.12
	readline_5_1-import-branch:1.31.0.4
	readline_5_1-import-branchpoint:1.31
	gdb-csl-20060226-branch-merge-to-csl-symbian-1:1.30.2.1
	binutils-2_17-branch:1.31.0.2
	binutils-2_17-branchpoint:1.31
	gdb-csl-symbian-20060226-branch:1.30.2.1.0.2
	gdb-csl-symbian-20060226-branchpoint:1.30.2.1
	gdb-csl-20060226-branch-merge-to-csl-local-1:1.30.2.1
	msnyder-reverse-20060331-branch:1.30.0.8
	msnyder-reverse-20060331-branchpoint:1.30
	binutils-csl-2_17-branch:1.30.0.6
	binutils-csl-2_17-branchpoint:1.30
	gdb-csl-available-20060303-branch:1.30.0.4
	gdb-csl-available-20060303-branchpoint:1.30
	gdb-csl-20060226-branch:1.30.0.2
	gdb-csl-20060226-branchpoint:1.30
	gdb_6_4-20051202-release:1.29
	msnyder-fork-checkpoint-branch:1.29.0.8
	msnyder-fork-checkpoint-branchpoint:1.29
	gdb-csl-gxxpro-6_3-branch:1.29.0.6
	gdb-csl-gxxpro-6_3-branchpoint:1.29
	gdb_6_4-branch:1.29.0.4
	gdb_6_4-2005-11-01-branchpoint:1.29
	gdb-csl-arm-20051020-branch:1.29.0.2
	gdb-csl-arm-20051020-branchpoint:1.29
	binutils-csl-gxxpro-3_4-branch:1.12.0.6
	binutils-csl-gxxpro-3_4-branchpoint:1.12
	binutils-2_16_1:1.12
	msnyder-tracepoint-checkpoint-branch:1.24.0.2
	msnyder-tracepoint-checkpoint-branchpoint:1.24
	gdb-csl-arm-20050325-2005-q1b:1.15
	binutils-csl-arm-2005q1b:1.12
	binutils-2_16:1.12
	gdb-csl-arm-20050325-2005-q1a:1.15
	binutils-csl-arm-2005q1a:1.12
	csl-arm-20050325-branch:1.15.0.2
	csl-arm-20050325-branchpoint:1.15
	binutils-csl-arm-2005q1-branch:1.12.0.4
	binutils-csl-arm-2005q1-branchpoint:1.12
	binutils-2_16-branch:1.12.0.2
	binutils-2_16-branchpoint:1.12
	csl-arm-2004-q3d:1.7
	gdb_6_3-20041109-release:1.7
	gdb_6_3-branch:1.7.0.2
	gdb_6_3-20041019-branchpoint:1.7
	csl-arm-2004-q3:1.7
	drow_intercu-merge-20040921:1.7
	drow_intercu-merge-20040915:1.7
	jimb-gdb_6_2-e500-branch:1.6.0.6
	jimb-gdb_6_2-e500-branchpoint:1.6
	gdb_6_2-20040730-release:1.6
	gdb_6_2-branch:1.6.0.2
	gdb_6_2-2004-07-10-gmt-branchpoint:1.6
	gdb_6_1_1-20040616-release:1.3
	binutils-2_15:1.3
	binutils-2_15-branchpoint:1.3
	csl-arm-2004-q1a:1.6
	csl-arm-2004-q1:1.4
	gdb_6_1-2004-04-05-release:1.3
	drow_intercu-merge-20040402:1.4
	drow_intercu-merge-20040327:1.4
	ezannoni_pie-20040323-branch:1.4.0.2
	ezannoni_pie-20040323-branchpoint:1.4
	cagney_tramp-20040321-mergepoint:1.4
	cagney_tramp-20040309-branch:1.3.0.12
	cagney_tramp-20040309-branchpoint:1.3
	gdb_6_1-branch:1.3.0.10
	gdb_6_1-2004-03-01-gmt-branchpoint:1.3
	drow_intercu-20040221-branch:1.3.0.8
	drow_intercu-20040221-branchpoint:1.3
	binutils-2_15-branch:1.3.0.6
	cagney_bfdfile-20040213-branch:1.3.0.4
	cagney_bfdfile-20040213-branchpoint:1.3
	drow-cplus-merge-20040208:1.3
	carlton_dictionary-branch:1.3.0.2
	carlton_dictionary-20040126-merge:1.3
	cagney_bigcore-20040122-branch:1.1.0.4
	cagney_bigcore-20040122-branchpoint:1.1
	drow-cplus-branch:1.1.0.2
	drow-cplus-merge-20040113:1.1
	binutils_latest_snapshot:1.65;
locks; strict;
comment	@# @;


1.68
date	2015.06.02.03.05.46;	author dj;	state Exp;
branches;
next	1.67;

1.67
date	2014.11.24.20.35.55;	author dj;	state Exp;
branches;
next	1.66;

1.66
date	2014.10.28.23.25.26;	author dj;	state Exp;
branches;
next	1.65;

1.65
date	2014.05.14.17.23.25;	author dj;	state Exp;
branches;
next	1.64;

1.64
date	2014.01.21.16.09.28;	author dj;	state Exp;
branches;
next	1.63;

1.63
date	2013.10.16.00.29.45;	author dj;	state Exp;
branches;
next	1.62;

1.62
date	2013.06.01.01.01.44;	author dj;	state Exp;
branches;
next	1.61;

1.61
date	2012.10.10.03.11.33;	author dj;	state Exp;
branches;
next	1.60;

1.60
date	2011.08.22.17.16.25;	author dj;	state Exp;
branches;
next	1.59;

1.59
date	2011.07.22.14.37.58;	author dj;	state Exp;
branches;
next	1.58;

1.58
date	2010.11.21.04.01.17;	author dj;	state Exp;
branches;
next	1.57;

1.57
date	2010.11.04.23.41.21;	author rth;	state Exp;
branches;
next	1.56;

1.56
date	2010.11.02.15.20.47;	author dj;	state Exp;
branches;
next	1.55;

1.55
date	2010.10.07.16.20.37;	author dj;	state Exp;
branches;
next	1.54;

1.54
date	2010.10.06.23.01.30;	author dj;	state Exp;
branches;
next	1.53;

1.53
date	2010.09.09.17.39.52;	author dj;	state Exp;
branches;
next	1.52;

1.52
date	2010.06.03.16.54.11;	author dj;	state Exp;
branches;
next	1.51;

1.51
date	2010.01.05.21.10.30;	author dj;	state Exp;
branches;
next	1.50;

1.50
date	2009.11.25.22.41.09;	author bje;	state Exp;
branches;
next	1.49;

1.49
date	2009.09.04.14.33.39;	author hjl;	state Exp;
branches;
next	1.48;

1.48
date	2009.09.03.16.46.55;	author hjl;	state Exp;
branches;
next	1.47;

1.47
date	2009.08.24.19.12.57;	author rwild;	state Exp;
branches;
next	1.46;

1.46
date	2009.04.14.18.05.58;	author dj;	state Exp;
branches;
next	1.45;

1.45
date	2009.04.08.16.42.57;	author dj;	state Exp;
branches;
next	1.44;

1.44
date	2009.03.27.23.07.30;	author dj;	state Exp;
branches;
next	1.43;

1.43
date	2009.01.18.23.12.15;	author davek;	state Exp;
branches;
next	1.42;

1.42
date	2008.10.07.16.44.52;	author hjl;	state Exp;
branches;
next	1.41;

1.41
date	2008.10.07.01.27.58;	author dj;	state Exp;
branches;
next	1.40;

1.40
date	2008.09.11.19.02.04;	author jkratoch;	state Exp;
branches;
next	1.39;

1.39
date	2008.04.21.22.30.17;	author dj;	state Exp;
branches;
next	1.38;

1.38
date	2008.03.27.14.16.54;	author bonzini;	state Exp;
branches;
next	1.37;

1.37
date	2007.07.17.18.05.02;	author dj;	state Exp;
branches;
next	1.36;

1.36
date	2007.06.14.14.41.45;	author bonzini;	state Exp;
branches;
next	1.35;

1.35
date	2007.06.14.08.17.50;	author bonzini;	state Exp;
branches;
next	1.34;

1.34
date	2007.06.07.18.43.51;	author geoffk;	state Exp;
branches;
next	1.33;

1.33
date	2007.02.26.22.14.03;	author dj;	state Exp;
branches;
next	1.32;

1.32
date	2006.08.30.13.08.27;	author corinna;	state Exp;
branches;
next	1.31;

1.31
date	2006.04.07.00.01.25;	author dj;	state Exp;
branches;
next	1.30;

1.30
date	2006.01.29.20.07.09;	author dj;	state Exp;
branches
	1.30.2.1
	1.30.6.1;
next	1.29;

1.29
date	2005.07.22.03.16.33;	author dj;	state Exp;
branches;
next	1.28;

1.28
date	2005.07.22.03.00.51;	author dj;	state Exp;
branches;
next	1.27;

1.27
date	2005.07.22.02.10.56;	author bje;	state Exp;
branches;
next	1.26;

1.26
date	2005.07.07.02.21.57;	author kcook;	state Exp;
branches;
next	1.25;

1.25
date	2005.06.21.00.28.25;	author geoffk;	state Exp;
branches;
next	1.24;

1.24
date	2005.05.28.19.49.24;	author dj;	state Exp;
branches;
next	1.23;

1.23
date	2005.05.24.21.01.30;	author dj;	state Exp;
branches;
next	1.22;

1.22
date	2005.05.07.02.00.41;	author dj;	state Exp;
branches;
next	1.21;

1.21
date	2005.04.16.01.05.05;	author dj;	state Exp;
branches;
next	1.20;

1.20
date	2005.04.12.15.04.41;	author dj;	state Exp;
branches;
next	1.19;

1.19
date	2005.04.11.19.32.04;	author dj;	state Exp;
branches;
next	1.18;

1.18
date	2005.04.02.20.20.01;	author dj;	state Exp;
branches;
next	1.17;

1.17
date	2005.03.29.02.15.21;	author ian;	state Exp;
branches;
next	1.16;

1.16
date	2005.03.28.02.09.00;	author dj;	state Exp;
branches;
next	1.15;

1.15
date	2005.03.25.04.57.08;	author dj;	state Exp;
branches;
next	1.14;

1.14
date	2005.03.10.01.06.06;	author dj;	state Exp;
branches;
next	1.13;

1.13
date	2005.03.09.21.28.10;	author ian;	state Exp;
branches;
next	1.12;

1.12
date	2005.03.06.18.48.16;	author dj;	state Exp;
branches;
next	1.11;

1.11
date	2004.12.27.21.39.28;	author dj;	state Exp;
branches;
next	1.10;

1.10
date	2004.12.20.04.20.34;	author dj;	state Exp;
branches;
next	1.9;

1.9
date	2004.12.18.16.46.03;	author hjl;	state Exp;
branches;
next	1.8;

1.8
date	2004.12.10.22.04.41;	author dj;	state Exp;
branches;
next	1.7;

1.7
date	2004.09.02.07.04.53;	author bonzini;	state Exp;
branches;
next	1.6;

1.6
date	2004.04.26.18.23.59;	author dj;	state Exp;
branches;
next	1.5;

1.5
date	2004.04.22.18.39.03;	author dj;	state Exp;
branches;
next	1.4;

1.4
date	2004.03.10.00.01.28;	author dj;	state Exp;
branches;
next	1.3;

1.3
date	2004.01.26.12.52.10;	author dj;	state Exp;
branches
	1.3.2.1
	1.3.8.1
	1.3.12.1;
next	1.2;

1.2
date	2004.01.22.19.34.11;	author dj;	state Exp;
branches;
next	1.1;

1.1
date	2004.01.10.04.04.05;	author dj;	state Exp;
branches
	1.1.2.1;
next	;

1.30.2.1
date	2006.03.31.00.32.32;	author mmitchel;	state Exp;
branches;
next	;

1.30.6.1
date	2006.03.31.01.17.06;	author mmitchel;	state Exp;
branches;
next	1.30.6.2;

1.30.6.2
date	2006.04.03.15.44.47;	author carlos;	state Exp;
branches;
next	;

1.3.2.1
date	2004.01.26.19.11.48;	author carlton;	state Exp;
branches;
next	;

1.3.8.1
date	2004.03.27.17.38.09;	author drow;	state Exp;
branches;
next	1.3.8.2;

1.3.8.2
date	2004.09.16.17.01.54;	author drow;	state Exp;
branches;
next	;

1.3.12.1
date	2004.03.21.23.57.43;	author cagney;	state Exp;
branches;
next	;

1.1.2.1
date	2004.01.13.16.12.17;	author drow;	state Exp;
branches;
next	1.1.2.2;

1.1.2.2
date	2004.02.09.19.43.59;	author drow;	state Exp;
branches;
next	;


desc
@@


1.68
log
@merge from gcc
@
text
@dnl Process this file with autoconf to produce a configure script

AC_PREREQ(2.64)
AC_INIT
AC_CONFIG_SRCDIR([xmalloc.c])

# This works around the fact that libtool configuration may change LD
# for this particular configuration, but some shells, instead of
# keeping the changes in LD private, export them just because LD is
# exported.  We don't use libtool yet, but some day we might, so...
ORIGINAL_LD_FOR_MULTILIBS=$LD

dnl We use these options to decide which functions to include.
AC_ARG_WITH(target-subdir,
[  --with-target-subdir=SUBDIR      Configuring in a subdirectory for target])
AC_ARG_WITH(build-subdir,
[  --with-build-subdir=SUBDIR       Configuring in a subdirectory for build])
AC_ARG_WITH(cross-host,
[  --with-cross-host=HOST           Configuring with a cross compiler])
AC_ARG_WITH(newlib,
[  --with-newlib                    Configuring with newlib])

if test "${srcdir}" = "."; then
  if test -n "${with_build_subdir}"; then
    libiberty_topdir="${srcdir}/../.."
    with_target_subdir=
  elif test -z "${with_target_subdir}"; then
    libiberty_topdir="${srcdir}/.."
  else
    if test "${with_target_subdir}" != "."; then
      libiberty_topdir="${srcdir}/${with_multisrctop}../.."
    else
      libiberty_topdir="${srcdir}/${with_multisrctop}.."
    fi
  fi
else
  libiberty_topdir="${srcdir}/.."
fi
AC_SUBST(libiberty_topdir)
AC_CONFIG_AUX_DIR($libiberty_topdir)

dnl Very limited version of automake's enable-maintainer-mode

AC_MSG_CHECKING([whether to enable maintainer-specific portions of Makefiles])
  dnl maintainer-mode is disabled by default
  AC_ARG_ENABLE(maintainer-mode,
[  --enable-maintainer-mode
                          enable make rules and dependencies not useful
                          (and sometimes confusing) to the casual installer],
      maintainer_mode=$enableval,
      maintainer_mode=no)

AC_MSG_RESULT($maintainer_mode)

if test "$maintainer_mode" = "yes"; then
  MAINT=''
  NOTMAINT='#'
else
  MAINT='#'
  NOTMAINT=''
fi
AC_SUBST(MAINT)dnl
AC_SUBST(NOTMAINT)dnl

# Do we have a single-tree copy of texinfo?  Even if we do, we can't
# rely on it - libiberty is built before texinfo.
AC_CHECK_PROG(MAKEINFO, makeinfo, makeinfo, )
if test "x$MAKEINFO" = "x"; then
    MAKEINFO="@@echo makeinfo missing; true"
    BUILD_INFO=
else
    BUILD_INFO=info
    case "$MAKEINFO" in
      */missing\ makeinfo*)
	BUILD_INFO=
	AC_MSG_WARN([
*** Makeinfo is missing. Info documentation will not be built.])
        ;;
      *)
	case x"`$MAKEINFO --version | grep 'GNU texinfo'`" in
	  x*\ [[1-3]].* )
	    MAKEINFO="@@echo $MAKEINFO is too old, 4.0 or newer required; true"
	    BUILD_INFO=
	    AC_MSG_WARN([
*** Makeinfo is too old. Info documentation will not be built.])
	  ;;
	esac
	;;
    esac
fi
AC_SUBST(MAKEINFO)
AC_SUBST(BUILD_INFO)

AC_CHECK_PROG(PERL, perl, perl, )
if test x"$PERL" = x""; then
  HAVE_PERL='#'
else
  HAVE_PERL=''
fi
AC_SUBST(HAVE_PERL)

AC_CANONICAL_HOST

dnl When we start using automake:
dnl AM_INIT_AUTOMAKE(libiberty, 1.0)

dnl These must be called before AM_PROG_LIBTOOL, because it may want
dnl to call AC_CHECK_PROG.
AC_CHECK_TOOL(AR, ar)
AC_CHECK_TOOL(RANLIB, ranlib, :)

dnl When switching to automake, replace the following with AM_ENABLE_MULTILIB.
# Add --enable-multilib to configure.
# Default to --enable-multilib
AC_ARG_ENABLE(multilib,
[  --enable-multilib       build many library versions (default)],
[case "$enableval" in
  yes) multilib=yes ;;
  no)  multilib=no ;;
  *)   AC_MSG_ERROR([bad value $enableval for multilib option]) ;;
 esac],
	      [multilib=yes])

# Even if the default multilib is not a cross compilation,
# it may be that some of the other multilibs are.
if test $cross_compiling = no && test $multilib = yes \
   && test "x${with_multisubdir}" != x ; then
   cross_compiling=maybe
fi

# We may wish to install the target headers somewhere.
AC_MSG_CHECKING([whether to install libiberty headers and static library])
dnl install-libiberty is disabled by default

AC_ARG_ENABLE(install-libiberty,
[  --enable-install-libiberty       Install headers and library for end users],
enable_install_libiberty=$enableval,
enable_install_libiberty=no)dnl

# Option parsed, now set things appropriately.
case x"$enable_install_libiberty" in
  xyes|x)
    target_header_dir=libiberty
    ;;
  xno)   
    target_header_dir=
    ;;
  *) 
    # This could be sanity-checked in various ways...
    target_header_dir="${enable_install_libiberty}"
    ;;
esac
AC_MSG_RESULT($enable_install_libiberty)
AC_MSG_NOTICE([target_header_dir = $target_header_dir])

GCC_NO_EXECUTABLES
AC_PROG_CC
AC_GNU_SOURCE
AC_SYS_LARGEFILE
AC_PROG_CPP_WERROR

ACX_PROG_CC_WARNING_OPTS([-W -Wall -Wwrite-strings -Wc++-compat \
			  -Wstrict-prototypes], [ac_libiberty_warn_cflags])
ACX_PROG_CC_WARNING_ALMOST_PEDANTIC([], [ac_libiberty_warn_cflags])

AC_PROG_CC_C_O
# autoconf is lame and doesn't give us any substitution variable for this.
if eval "test \"`echo '$ac_cv_prog_cc_'${ac_cc}_c_o`\" = no"; then
  NO_MINUS_C_MINUS_O=yes
else
  OUTPUT_OPTION='-o $@@'
fi
AC_SUBST(NO_MINUS_C_MINUS_O)
AC_SUBST(OUTPUT_OPTION)

AC_C_CONST
AC_C_INLINE
AC_C_BIGENDIAN

dnl When we start using libtool:
dnl Default to a non shared library.  This may be overridden by the
dnl configure option --enable-shared.
dnl AM_DISABLE_SHARED

dnl When we start using libtool:
dnl AM_PROG_LIBTOOL

dnl When we start using automake:
dnl AM_CONFIG_HEADER(config.h:config.in)
AC_CONFIG_HEADER(config.h:config.in)

dnl When we start using automake:
dnl AM_MAINTAINER_MODE
dnl AC_EXEEXT

dnl When we start using automake:
dnl AM_PROG_INSTALL
AC_PROG_INSTALL

# Don't build the shared library for build.
if [[ -n "${with_build_subdir}" ]]; then
  enable_shared=no
fi

frag=
case "${host}" in
  rs6000-ibm-aix3.1 | rs6000-ibm-aix)
                        frag=mh-aix ;;
  *-*-cxux7*)		frag=mh-cxux7 ;;
  *-*-freebsd2.1.*)	frag=mh-fbsd21 ;;
  *-*-freebsd2.2.[[012]])	frag=mh-fbsd21 ;;
  i370-*-opened*)       frag=mh-openedition ;;
  i[[34567]]86-*-windows*)	frag=mh-windows ;;
esac

if [[ -n "${frag}" ]]; then
  frag=${libiberty_topdir}/libiberty/config/$frag
fi

GCC_PICFLAG

# If they didn't specify --enable-shared, don't generate shared libs.
case "${enable_shared}" in
  yes) shared=yes ;;
  no) shared=no ;;
  "") shared=no ;;
  *) shared=yes ;;
esac

# ...unless --enable-host-shared was passed from top-level config:
if [[ "${enable_host_shared}" = "yes" ]]; then
  shared=yes
fi

if [[ "${shared}" != "yes" ]]; then
  PICFLAG=
fi
AC_SUBST(PICFLAG)

NOASANFLAG=
case " ${CFLAGS} " in
  *\ -fsanitize=address\ *) NOASANFLAG=-fno-sanitize=address ;;
esac
AC_SUBST(NOASANFLAG)

echo "# Warning: this fragment is automatically generated" > temp-frag

if [[ -n "${frag}" ]] && [[ -f "${frag}" ]]; then
  echo "Appending ${frag} to xhost-mkfrag"
  echo "# Following fragment copied from ${frag}" >> temp-frag
  cat ${frag} >> temp-frag
fi

# record if we want to build shared libs.
if [[ "${shared}" = "yes" ]]; then
  echo enable_shared = yes >> temp-frag
else
  echo enable_shared = no >> temp-frag
fi

frag=xhost-mkfrag
${CONFIG_SHELL-/bin/sh} ${libiberty_topdir}/move-if-change temp-frag xhost-mkfrag

host_makefile_frag=${frag}
AC_SUBST_FILE(host_makefile_frag)

# It's OK to check for header files.  Although the compiler may not be
# able to link anything, it had better be able to at least compile
# something.
AC_CHECK_HEADERS(sys/file.h sys/param.h limits.h stdlib.h malloc.h string.h unistd.h strings.h sys/time.h time.h sys/resource.h sys/stat.h sys/mman.h fcntl.h alloca.h sys/pstat.h sys/sysmp.h sys/sysinfo.h machine/hal_sysinfo.h sys/table.h sys/sysctl.h sys/systemcfg.h stdint.h stdio_ext.h process.h sys/prctl.h)
AC_HEADER_SYS_WAIT
AC_HEADER_TIME

libiberty_AC_DECLARE_ERRNO

# Determine sizes of some types.
AC_CHECK_SIZEOF([int])
AC_CHECK_SIZEOF([long])

# Check for presense of long long
AC_CHECK_TYPE([long long],
  [AC_DEFINE(HAVE_LONG_LONG, 1, [Define if you have the `long long' type.]) AC_CHECK_SIZEOF([long long])],
  [])

# Look for a 64-bit type.
AC_MSG_CHECKING([for a 64-bit type])
AC_CACHE_VAL(liberty_cv_uint64,
[AC_TRY_COMPILE(
[#ifdef HAVE_STDINT_H
#include <stdint.h>
#endif],
[extern uint64_t foo;],
liberty_cv_uint64=uint64_t,
[AC_TRY_COMPILE(
[#ifdef HAVE_LIMITS_H
#include <limits.h>
#endif
#ifndef CHAR_BIT
#define CHAR_BIT 8
#endif],
[extern char foo[sizeof(long) * CHAR_BIT >= 64 ? 1 : -1];],
liberty_cv_uint64="unsigned long",
[AC_TRY_COMPILE(
[#ifdef HAVE_LIMITS_H
#include <limits.h>
#endif
#ifndef CHAR_BIT
#define CHAR_BIT 8
#endif],
[extern char foo[sizeof(long long) * CHAR_BIT >= 64 ? 1 : -1];],
liberty_cv_uint64="unsigned long long", liberty_cv_uint64=none)])])])
AC_MSG_RESULT($liberty_cv_uint64)
if test "$liberty_cv_uint64" != none; then
  AC_DEFINE_UNQUOTED(UNSIGNED_64BIT_TYPE, $liberty_cv_uint64,
                     [Define to an unsigned 64-bit type available in the compiler.])
fi

AC_TYPE_INTPTR_T
AC_TYPE_UINTPTR_T
AC_TYPE_SSIZE_T

# Given the above check, we always have uintptr_t or a fallback
# definition.  So define HAVE_UINTPTR_T in case any imported code
# relies on it.
AC_DEFINE(HAVE_UINTPTR_T, 1, [Define if you have the \`uintptr_t' type.])

AC_TYPE_PID_T

# This is the list of functions which libiberty will provide if they
# are not available on the host.

funcs="asprintf"
funcs="$funcs atexit"
funcs="$funcs basename"
funcs="$funcs bcmp"
funcs="$funcs bcopy"
funcs="$funcs bsearch"
funcs="$funcs bzero"
funcs="$funcs calloc"
funcs="$funcs clock"
funcs="$funcs ffs"
funcs="$funcs getcwd"
funcs="$funcs getpagesize"
funcs="$funcs gettimeofday"
funcs="$funcs index"
funcs="$funcs insque"
funcs="$funcs memchr"
funcs="$funcs memcmp"
funcs="$funcs memcpy"
funcs="$funcs memmem"
funcs="$funcs memmove"
funcs="$funcs mempcpy"
funcs="$funcs memset"
funcs="$funcs mkstemps"
funcs="$funcs putenv"
funcs="$funcs random"
funcs="$funcs rename"
funcs="$funcs rindex"
funcs="$funcs setenv"
funcs="$funcs snprintf"
funcs="$funcs sigsetmask"
funcs="$funcs stpcpy"
funcs="$funcs stpncpy"
funcs="$funcs strcasecmp"
funcs="$funcs strchr"
funcs="$funcs strdup"
funcs="$funcs strncasecmp"
funcs="$funcs strndup"
funcs="$funcs strnlen"
funcs="$funcs strrchr"
funcs="$funcs strstr"
funcs="$funcs strtod"
funcs="$funcs strtol"
funcs="$funcs strtoul"
funcs="$funcs strtoll"
funcs="$funcs strtoull"
funcs="$funcs strverscmp"
funcs="$funcs tmpnam"
funcs="$funcs vasprintf"
funcs="$funcs vfprintf"
funcs="$funcs vprintf"
funcs="$funcs vsnprintf"
funcs="$funcs vsprintf"
funcs="$funcs waitpid"
funcs="$funcs setproctitle"

# Also in the old function.def file: alloca, vfork, getopt.

vars="sys_errlist sys_nerr sys_siglist"

checkfuncs="__fsetlocking canonicalize_file_name dup3 getrlimit getrusage \
 getsysinfo gettimeofday on_exit psignal pstat_getdynamic pstat_getstatic \
 realpath setrlimit sbrk spawnve spawnvpe strerror strsignal sysconf sysctl \
 sysmp table times wait3 wait4"

# These are neither executed nor required, but they help keep
# autoheader happy without adding a bunch of text to acconfig.h.
if test "x" = "y"; then
  AC_CHECK_FUNCS(asprintf atexit \
    basename bcmp bcopy bsearch bzero \
    calloc canonicalize_file_name clock \
    dup3 \
    ffs __fsetlocking \
    getcwd getpagesize getrlimit getrusage getsysinfo gettimeofday \
    index insque \
    memchr memcmp memcpy memmem memmove memset mkstemps \
    on_exit \
    psignal pstat_getdynamic pstat_getstatic putenv \
    random realpath rename rindex \
    sbrk setenv setproctitle setrlimit sigsetmask snprintf spawnve spawnvpe \
     stpcpy stpncpy strcasecmp strchr strdup \
     strerror strncasecmp strndup strnlen strrchr strsignal strstr strtod \
     strtol strtoul strtoll strtoull strverscmp sysconf sysctl sysmp \
    table times tmpnam \
    vasprintf vfprintf vprintf vsprintf \
    wait3 wait4 waitpid)
  AC_CHECK_DECLS([basename(char *), ffs, asprintf, vasprintf, snprintf, vsnprintf, strtol, strtoul, strtoll, strtoull])
  AC_DEFINE(HAVE_SYS_ERRLIST, 1, [Define if you have the sys_errlist variable.])
  AC_DEFINE(HAVE_SYS_NERR,    1, [Define if you have the sys_nerr variable.])
  AC_DEFINE(HAVE_SYS_SIGLIST, 1, [Define if you have the sys_siglist variable.])
fi

# For each of these functions, if the host does not provide the
# function we want to put FN.o in LIBOBJS, and if the host does
# provide the function, we want to define HAVE_FN in config.h.

setobjs=
CHECK=
if test -n "${with_target_subdir}"; then

  # We are being configured as a target library.  AC_REPLACE_FUNCS
  # may not work correctly, because the compiler may not be able to
  # link executables.  Note that we may still be being configured
  # native.

  # If we are being configured for newlib, we know which functions
  # newlib provide and which ones we will be expected to provide.

  if test "x${with_newlib}" = "xyes"; then
    AC_LIBOBJ([asprintf])
    AC_LIBOBJ([basename])
    AC_LIBOBJ([insque])
    AC_LIBOBJ([random])
    AC_LIBOBJ([strdup])
    AC_LIBOBJ([vasprintf])

    for f in $funcs; do
      case "$f" in
	asprintf | basename | insque | random | strdup | vasprintf)
	  ;;
	*)
	  n=HAVE_`echo $f | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
	  AC_DEFINE_UNQUOTED($n)
	  ;;
      esac
    done

    # newlib doesnt provide any of the variables in $vars, so we
    # dont have to check them here.

    # Of the functions in $checkfuncs, newlib only has strerror.
    AC_DEFINE(HAVE_STRERROR)

    setobjs=yes

  fi

  # If we are being configured for Mingw, we know which functions
  # Mingw provides and which ones we will be expected to provide.

  case "${host}" in
  *-*-mingw*)
    AC_LIBOBJ([asprintf])
    AC_LIBOBJ([basename])
    AC_LIBOBJ([bcmp])
    AC_LIBOBJ([bcopy])
    AC_LIBOBJ([bzero])
    AC_LIBOBJ([clock])
    AC_LIBOBJ([ffs])
    AC_LIBOBJ([getpagesize])
    AC_LIBOBJ([index])
    AC_LIBOBJ([insque])
    AC_LIBOBJ([mempcpy])
    AC_LIBOBJ([mkstemps])
    AC_LIBOBJ([random])
    AC_LIBOBJ([rindex])
    AC_LIBOBJ([sigsetmask])
    AC_LIBOBJ([stpcpy])
    AC_LIBOBJ([stpncpy])
    AC_LIBOBJ([strndup])
    AC_LIBOBJ([strnlen])
    AC_LIBOBJ([strverscmp])
    AC_LIBOBJ([vasprintf])
    AC_LIBOBJ([waitpid])

    for f in $funcs; do
      case "$f" in
	asprintf | basename | bcmp | bcopy | bzero | clock | ffs | getpagesize | index | insque | mempcpy | mkstemps | random | rindex | sigsetmask | stpcpy | stpncpy | strdup | strndup | strnlen | strverscmp | vasprintf | waitpid)
	  ;;
	*)
	  n=HAVE_`echo $f | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
	  AC_DEFINE_UNQUOTED($n)
	  ;;
      esac
    done

    # Mingw doesnt provide any of the variables in $vars, so we
    # dont have to check them here.

    # Of the functions in $checkfuncs, Mingw only has strerror.
    AC_DEFINE(HAVE_STRERROR)

    setobjs=yes
    ;;

  *-*-msdosdjgpp)
    AC_LIBOBJ([vasprintf])
    AC_LIBOBJ([vsnprintf])
    AC_LIBOBJ([snprintf])
    AC_LIBOBJ([asprintf])

    for f in atexit basename bcmp bcopy bsearch bzero calloc clock ffs \
             getcwd getpagesize getrusage gettimeofday \
             index insque memchr memcmp memcpy memmove memset psignal \
             putenv random rename rindex sbrk setenv stpcpy strcasecmp \
             strchr strdup strerror strncasecmp strrchr strstr strtod \
             strtol strtoul sysconf times tmpnam vfprintf vprintf \
             vsprintf waitpid
    do
      n=HAVE_`echo $f | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
      AC_DEFINE_UNQUOTED($n)
    done


    setobjs=yes
    ;;

  esac

else

   # Not a target library, so we set things up to run the test suite.
   CHECK=really-check

fi

AC_SUBST(CHECK)
AC_SUBST(target_header_dir)

case "${host}" in
  *-*-cygwin* | *-*-mingw*)
    AC_DEFINE(HAVE_SYS_ERRLIST)
    AC_DEFINE(HAVE_SYS_NERR)
    ;;
esac

if test -z "${setobjs}"; then
  case "${host}" in

  *-*-vxworks*)
    # Handle VxWorks configuration specially, since on VxWorks the
    # libraries are actually on the target board, not in the file
    # system.
    AC_LIBOBJ([basename])
    AC_LIBOBJ([getpagesize])
    AC_LIBOBJ([insque])
    AC_LIBOBJ([random])
    AC_LIBOBJ([strcasecmp])
    AC_LIBOBJ([strncasecmp])
    AC_LIBOBJ([strdup])
    AC_LIBOBJ([vfork])
    AC_LIBOBJ([waitpid])
    AC_LIBOBJ([vasprintf])
    for f in $funcs; do
      case "$f" in
	basename | getpagesize | insque | random | strcasecmp)
	  ;;
	strncasecmp | strdup | vfork | waitpid | vasprintf)
	  ;;
	*)
	  n=HAVE_`echo $f | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
	  AC_DEFINE_UNQUOTED($n)
	  ;;
      esac
    done

    # VxWorks doesn't provide any of the variables in $vars, so we
    # don't have to check them here.

    # Of the functions in $checkfuncs, VxWorks only has strerror.
    AC_DEFINE(HAVE_STRERROR)

    setobjs=yes
    ;;

  esac
fi

if test -z "${setobjs}"; then

  case "${host}" in

  *-*-mingw32*)
    # Under mingw32, sys_nerr and sys_errlist exist, but they are
    # macros, so the test below won't find them.
    libiberty_cv_var_sys_nerr=yes
    libiberty_cv_var_sys_errlist=yes
    ;;

  *-*-msdosdjgpp*)
    # vfork and fork are stubs.
    ac_cv_func_vfork_works=no
    ;;

  *-*-uwin*)
    # Under some versions of uwin, vfork is notoriously buggy and the test 
    # can hang configure; on other versions, vfork exists just as a stub.
    # FIXME: This should be removed once vfork in uwin's runtime is fixed.
    ac_cv_func_vfork_works=no
    # Under uwin 2.0+, sys_nerr and sys_errlist exist, but they are
    # macros (actually, these are imported from a DLL, but the end effect 
    # is the same), so the test below won't find them.
    libiberty_cv_var_sys_nerr=yes
    libiberty_cv_var_sys_errlist=yes
    ;;

  *-*-*vms*)
    # Under VMS, vfork works very different than on Unix. The standard test 
    # won't work, and it isn't easily adaptable. It makes more sense to
    # just force it.
    ac_cv_func_vfork_works=yes
    ;;

  esac

  # We haven't set the list of objects yet.  Use the standard autoconf
  # tests.  This will only work if the compiler works.
  AC_ISC_POSIX
  AC_REPLACE_FUNCS($funcs)
  libiberty_AC_FUNC_C_ALLOCA
  AC_FUNC_FORK
  if test $ac_cv_func_vfork_works = no; then
    AC_LIBOBJ([vfork])
  fi
  # We only need _doprnt if we might use it to implement v*printf.
  if test $ac_cv_func_vprintf != yes \
     || test $ac_cv_func_vfprintf != yes \
     || test $ac_cv_func_vsprintf != yes; then
    AC_REPLACE_FUNCS(_doprnt)
  else
    AC_CHECK_FUNCS(_doprnt)
  fi

  for v in $vars; do
    AC_MSG_CHECKING([for $v])
    AC_CACHE_VAL(libiberty_cv_var_$v,
      [AC_LINK_IFELSE([AC_LANG_PROGRAM([[int *p;]],[[extern int $v []; p = $v;]])],
		      [eval "libiberty_cv_var_$v=yes"],
		      [eval "libiberty_cv_var_$v=no"])])
    if eval "test \"`echo '$libiberty_cv_var_'$v`\" = yes"; then
      AC_MSG_RESULT(yes)
      n=HAVE_`echo $v | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
      AC_DEFINE_UNQUOTED($n)
    else
      AC_MSG_RESULT(no)
    fi
  done

  # special check for _system_configuration because AIX <4.3.2 do not
  # contain the `physmem' member.
  AC_MSG_CHECKING([for external symbol _system_configuration])
  AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[#include <sys/systemcfg.h>]],
			[[double x = _system_configuration.physmem;]])],
    [AC_MSG_RESULT([yes])
    AC_DEFINE(HAVE__SYSTEM_CONFIGURATION, 1,
	      [Define if you have the _system_configuration variable.])],
    [AC_MSG_RESULT([no])])

  AC_CHECK_FUNCS($checkfuncs)
  AC_CHECK_DECLS([basename(char *), ffs, asprintf, vasprintf, snprintf, vsnprintf])
  AC_CHECK_DECLS([calloc, getenv, getopt, malloc, realloc, sbrk])
  AC_CHECK_DECLS([strtol, strtoul, strtoll, strtoull])
  AC_CHECK_DECLS([strverscmp])
  libiberty_NEED_DECLARATION(canonicalize_file_name)
fi

# Figure out which version of pexecute to use.
case "${host}" in
     *-*-mingw* | *-*-winnt*)	pexecute=pex-win32  ;;
     *-*-msdosdjgpp*)		pexecute=pex-djgpp  ;;
     *-*-msdos*)		pexecute=pex-msdos  ;;
     *)				pexecute=pex-unix   ;;
esac
AC_SUBST(pexecute)

libiberty_AC_FUNC_STRNCMP

# Install a library built with a cross compiler in $(tooldir) rather
# than $(libdir).
if test -z "${with_cross_host}"; then
  INSTALL_DEST=libdir
else
  INSTALL_DEST=tooldir
fi
AC_SUBST(INSTALL_DEST)

m4_pattern_allow(LIBOBJS)
L=""
for l in x $LIBOBJS; do
  case $l in
    x) ;;
    *) L="$L ./$l" ;;
  esac
done
LIBOBJS="$L"

dnl Required by html and install-html
AC_SUBST(datarootdir)
AC_SUBST(docdir)
AC_SUBST(htmldir)

# We need multilib support, but only if configuring for the target.
AC_CONFIG_FILES([Makefile testsuite/Makefile])
AC_CONFIG_COMMANDS([default],
  [[test -z "$CONFIG_HEADERS" || echo timestamp > stamp-h
if test -n "$CONFIG_FILES"; then
  if test -n "${with_target_subdir}"; then
    # FIXME: We shouldn't need to set ac_file
    ac_file=Makefile
    LD="${ORIGINAL_LD_FOR_MULTILIBS}"
    . ${libiberty_topdir}/config-ml.in
  fi
fi]],
[[srcdir=${srcdir}
host=${host}
target=${target}
with_target_subdir=${with_target_subdir}
with_multisubdir=${with_multisubdir}
ac_configure_args="--enable-multilib ${ac_configure_args}"
CONFIG_SHELL=${CONFIG_SHELL-/bin/sh}
ORIGINAL_LD_FOR_MULTILIBS="${ORIGINAL_LD_FOR_MULTILIBS}"
libiberty_topdir=${libiberty_topdir}
]])
AC_OUTPUT
@


1.67
log
@merge from gcc
@
text
@d158 1
@


1.66
log
@merge from gcc
@
text
@d681 1
@


1.65
log
@merge from gcc
@
text
@d275 1
a275 1
# Determine the size of an int for struct fibnode.
d277 6
d374 2
d412 1
a412 1
     strtol strtoul strverscmp sysconf sysctl sysmp \
d416 1
a416 1
  AC_CHECK_DECLS([basename(char *), ffs, asprintf, vasprintf, snprintf, vsnprintf])
@


1.64
log
@merge from gcc
@
text
@d239 6
@


1.63
log
@merge from gcc
@
text
@a413 1
target_header_dir=
@


1.62
log
@merge from gcc
@
text
@d228 6
@


1.61
log
@merge from gcc
@
text
@d131 25
a519 21
  # We may wish to install the target headers somewhere.
  AC_ARG_ENABLE(install-libiberty,
  [  --enable-install-libiberty       Install headers for end users],
  enable_install_libiberty=$enableval,
  enable_install_libiberty=no)dnl
  
  # Option parsed, now set things appropriately.
  case x"$enable_install_libiberty" in
    xyes|x)
      target_header_dir=libiberty
      ;;
    xno)   
      target_header_dir=
      ;;
    *) 
      # This could be sanity-checked in various ways...
      target_header_dir="${enable_install_libiberty}"
      ;;
  esac


@


1.60
log
@merge from gcc
@
text
@d325 1
d366 2
a367 2
     strerror strncasecmp strndup strrchr strsignal strstr strtod strtol \
     strtoul strverscmp sysconf sysctl sysmp \
d446 1
d453 1
a453 1
	asprintf | basename | bcmp | bcopy | bzero | clock | ffs | getpagesize | index | insque | mempcpy | mkstemps | random | rindex | sigsetmask | stpcpy | stpncpy | strdup | strndup | strverscmp | vasprintf | waitpid)
@


1.59
log
@merge from gcc
@
text
@d194 2
d203 2
a204 21
if [[ "${shared}" = "yes" ]]; then
  case "${host}" in
    *-*-cygwin*)	;;
    alpha*-*-linux*)	PICFLAG=-fPIC ;;
    arm*-*-*)		PICFLAG=-fPIC ;;
    hppa*-*-*)		PICFLAG=-fPIC ;;
    i370-*-*)		PICFLAG=-fPIC ;;
    ia64-*-*)		PICFLAG=-fpic ;;
    i[[34567]]86-*-* | x86_64-*-*)
			PICFLAG=-fpic ;;
    m68k-*-*)		PICFLAG=-fpic ;;
    mips*-*-linux*)	PICFLAG=-fPIC ;;
    powerpc*-*-aix*)	;;
    powerpc*-*-*)	PICFLAG=-fPIC ;;
    sparc*-*-*)		case "${CFLAGS}" in
			  *-fpic* ) PICFLAG=-fpic ;;
			  * ) PICFLAG=-fPIC ;;
			esac ;;
    s390*-*-*)		PICFLAG=-fpic ;;
    sh*-*-*)		PICFLAG=-fPIC ;;
  esac
@


1.58
log
@merge from gcc
@
text
@d361 4
a364 4
checkfuncs="__fsetlocking canonicalize_file_name dup3 getrusage getsysinfo \
 gettimeofday on_exit psignal pstat_getdynamic pstat_getstatic realpath \
 sbrk spawnve spawnvpe strerror strsignal sysconf sysctl sysmp table \
 times wait3 wait4"
d374 1
a374 1
    getcwd getpagesize getrusage getsysinfo gettimeofday \
d380 1
a380 1
    sbrk setenv setproctitle sigsetmask snprintf spawnve spawnvpe \
@


1.57
log
@Use spawnve on cygwin.

	* configure.ac (AC_CHECK_HEADERS): Add process.h.
	(checkfuncs): Add dup3, spawnve, spawnvpe; sort the list.
	(AC_CHECK_FUNCS): Add dup3, spawnve, spawnvpe.
	* configure, config.in: Rebuild.
	* pex-unix.c [HAVE_SPAWNVE] (pex_unix_exec_child): New function.
	[HAVE_SPAWNVE] (save_and_install_fd, restore_fd): New functions.
@
text
@d249 1
a249 1
AC_CHECK_HEADERS(sys/file.h sys/param.h limits.h stdlib.h malloc.h string.h unistd.h strings.h sys/time.h time.h sys/resource.h sys/stat.h sys/mman.h fcntl.h alloca.h sys/pstat.h sys/sysmp.h sys/sysinfo.h machine/hal_sysinfo.h sys/table.h sys/sysctl.h sys/systemcfg.h stdint.h stdio_ext.h process.h)
a540 10
# check for prctl PR_SET_NAME
AC_LINK_IFELSE([AC_LANG_SOURCE([[
#include <sys/prctl.h>
int main()
{
  return (prctl(PR_SET_NAME, "foo") == 0) ? 0 : 1;
}
]])], AC_DEFINE(HAVE_PRCTL_SET_NAME, 1,
	[Define if you have prctl PR_SET_NAME]))

@


1.56
log
@merge from gcc
@
text
@d249 1
a249 1
AC_CHECK_HEADERS(sys/file.h sys/param.h limits.h stdlib.h malloc.h string.h unistd.h strings.h sys/time.h time.h sys/resource.h sys/stat.h sys/mman.h fcntl.h alloca.h sys/pstat.h sys/sysmp.h sys/sysinfo.h machine/hal_sysinfo.h sys/table.h sys/sysctl.h sys/systemcfg.h stdint.h stdio_ext.h)
d361 4
a364 3
checkfuncs="getrusage on_exit psignal strerror strsignal sysconf times sbrk gettimeofday"
checkfuncs="$checkfuncs realpath canonicalize_file_name pstat_getstatic pstat_getdynamic sysmp"
checkfuncs="$checkfuncs getsysinfo table sysctl wait3 wait4 __fsetlocking"
d372 1
d380 2
a381 2
    sbrk setenv setproctitle sigsetmask snprintf stpcpy stpncpy strcasecmp strchr \
    strdup \
@


1.55
log
@merge from gcc
@
text
@d293 1
@


1.54
log
@merge from gcc
@
text
@d539 1
a539 1
AC_RUN_IFELSE([AC_LANG_SOURCE([[
@


1.53
log
@merge from gcc
@
text
@d354 1
d377 2
a378 1
    sbrk setenv sigsetmask snprintf stpcpy stpncpy strcasecmp strchr strdup \
d538 10
@


1.52
log
@merge from gcc
@
text
@d674 4
a677 4
     *-*-mingw* | *-*-winnt*)	pexecute=./pex-win32.o  ;;
     *-*-msdosdjgpp*)		pexecute=./pex-djgpp.o  ;;
     *-*-msdos*)		pexecute=./pex-msdos.o  ;;
     *)				pexecute=./pex-unix.o   ;;
@


1.51
log
@merge from gcc
@
text
@d382 1
a382 1
  AC_CHECK_DECLS([basename, ffs, asprintf, vasprintf, snprintf, vsnprintf])
d666 1
a666 1
  AC_CHECK_DECLS([basename, ffs, asprintf, vasprintf, snprintf, vsnprintf])
@


1.50
log
@	* configure.ac (AC_CHECK_FUNCS): Sort into alphabetical order.
	* configure: Regenerate.
@
text
@d220 1
@


1.49
log
@2009-09-04  Ozkan Sezer  <sezeroz@@gmail.com>

	PR target/39065
	* configure.ac: Replace AC_CHECK_TYPE() for intptr_t and uintptr_t
	with AC_TYPE_INTPTR_T and AC_TYPE_UINTPTR_T.
	* config.in: Regenerated.
	* configure: Regenerated.
@
text
@d365 16
a380 9
  AC_CHECK_FUNCS(asprintf atexit basename bcmp bcopy bsearch bzero calloc clock \
  getcwd getpagesize gettimeofday index insque mkstemps memchr memcmp memcpy \
  memmem memmove mempcpy memset putenv random rename rindex sigsetmask \
  strcasecmp setenv stpcpy stpncpy strchr strdup strncasecmp strndup strrchr strstr \
  strtod strtol strtoul strverscmp tmpnam vasprintf vfprintf vprintf \
  vsprintf waitpid getrusage on_exit psignal strerror strsignal \
  sysconf times sbrk gettimeofday ffs snprintf vsnprintf \
  pstat_getstatic pstat_getdynamic sysmp getsysinfo table sysctl wait3 wait4 \
  realpath canonicalize_file_name __fsetlocking)
@


1.48
log
@2009-09-03  Ozkan Sezer  <sezeroz@@gmail.com>

	PR target/39065
	* configure.ac: Also check for intptr_t.
	* config.h.in: Regenerated.
	* configure: Regenerated.
	* hashtab.c (hash_pointer): Cast the pointer argument to intptr_t
	instead of of long.
@
text
@a256 3
AC_CHECK_TYPE(intptr_t, long)
AC_CHECK_TYPE(uintptr_t, unsigned long)

d290 3
@


1.47
log
@Sync from GCC: Update AC_PREREQ entries to 2.64.

/:
	* configure.ac (AC_PREREQ): Bump to 2.64.

intl/:
	* configure.ac (AC_PREREQ): Bump to 2.64.

libdecnumber/:
	* configure.ac (AC_PREREQ): Bump to 2.64.

libiberty/:
	* configure.ac (AC_PREREQ): Bump to 2.64.
@
text
@d257 1
@


1.46
log
@merge from gcc
@
text
@d3 1
a3 1
AC_PREREQ(2.59)
@


1.45
log
@merge from gcc
@
text
@d472 22
a572 17
  *-*-msdosdjgpp)
    for f in atexit basename bcmp bcopy bsearch bzero calloc clock ffs \
             getcwd getpagesize getrusage gettimeofday \
             index insque memchr memcmp memcpy memmove memset psignal \
             putenv random rename rindex sbrk setenv stpcpy strcasecmp \
             strchr strdup strerror strncasecmp strrchr strstr strtod \
             strtol strtoul sysconf times tmpnam vfprintf vprintf \
             vsprintf waitpid
    do
      n=HAVE_`echo $f | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
      AC_DEFINE_UNQUOTED($n)
    done


    setobjs=yes
    ;;

@


1.44
log
@merge from gcc
@
text
@d212 1
a212 1
    mips*-*-linux)	PICFLAG=-fPIC ;;
@


1.43
log
@	* configure.ac (funcs, vars, checkfuncs):  Don't munge on Cygwin,
	as it no longer shares libiberty object files.
	* configure:  Regenerated.
@
text
@d320 1
d366 1
a366 1
  memmove mempcpy memset putenv random rename rindex sigsetmask \
@


1.42
log
@2008-10-07  Jan Kratochvil  <jan.kratochvil@@redhat.com>

	* configure.ac: Call AC_SYS_LARGEFILE.
	* config.in: Regenerated.
	* configure: Likewise.
@
text
@a573 23
  *-*-cygwin*)
    # The Cygwin library actually uses a couple of files from
    # libiberty when it is built.  If we are building a native
    # Cygwin, and we run the tests, we will appear to have these
    # files.  However, when we go on to build winsup, we will wind up
    # with a library which does not have the files, since they should
    # have come from libiberty.

    # We handle this by removing the functions the winsup library
    # provides from our shell variables, so that they appear to be
    # missing.

    # DJ - only if we're *building* cygwin, not just building *with* cygwin
  
    if test -n "${with_target_subdir}"
    then
      funcs="`echo $funcs | sed -e 's/random//'`"
      AC_LIBOBJ([random])
      vars="`echo $vars | sed -e 's/sys_siglist//'`"
      checkfuncs="`echo $checkfuncs | sed -e 's/strsignal//' -e 's/psignal//'`"
    fi
    ;;

@


1.41
log
@merge from gcc
@
text
@d133 1
@


1.40
log
@bfd/
	Fix loading large elf64 binaries on 32bit hosts.
	* configure.in: Call AC_SYS_LARGEFILE.
	* config.in: Regenerate.
	* configure: Regenerate.

binutils/
	Fix loading large elf64 binaries on 32bit hosts.
	* configure.in: Call AC_SYS_LARGEFILE.
	* config.in: Regenerate.
	* configure: Regenerate.

gas/
	* configure.in: Call AC_SYS_LARGEFILE.
	* config.in: Regenerate.
	* configure: Regenerate.

gprof/
	* configure.in: Call AC_SYS_LARGEFILE.
	* gconfig.in: Regenerate.
	* configure: Regenerate.

ld/
	* configure.in: Call AC_SYS_LARGEFILE.
	* config.in: Regenerate.
	* configure: Regenerate.

libiberty/
	* configure.in: Call AC_SYS_LARGEFILE.
	* config.in: Regenerate.
	* configure: Regenerate.
@
text
@a132 1
AC_SYS_LARGEFILE
@


1.39
log
@merge from gcc
@
text
@d133 1
@


1.38
log
@2008-03-27  Paolo Bonzini  <bonzini@@gnu.org>

	* Makefile.tpl (PICFLAG, PICFLAG_FOR_TARGET): Remove.
	* Makefile.in: Regenerate.

config:
2008-03-27  Paolo Bonzini  <bonzini@@gnu.org>

	* extensions.m4: New.

2008-03-27  Paolo Bonzini  <bonzini@@gnu.org>

	* mh-armpic: Remove.
	* mh-i370pic: Remove.
	* mh-m68kpic: Remove.
	* mh-ppcpic: Remove.
	* mh-sparcpic: Remove.
	* mh-ia64pic: Remove.
	* mh-papic: Remove.
	* mh-s390pic: Remove.
	* mh-x86pic: Remove.

libiberty:
2008-03-27  Paolo Bonzini  <bonzini@@gnu.org>

	* configure.ac (frags): Don't set, use frag instead.
	(PICFLAG): Set here and substitute.
	* Makefile.in (PICFLAG): Substitute from autoconf.
	* configure: Regenerate.
@
text
@d211 1
@


1.37
log
@merge from gcc
@
text
@d190 1
a190 3
  frags=${libiberty_topdir}/libiberty/config/$frag
else
  frags=
a200 1
  frag=
d203 5
a207 3
    alpha*-*-linux*)	frag=mh-elfalphapic ;;
    arm*-*-*)		frag=mh-armpic ;;
    hppa*-*-*)		frag=mh-papic ;;
d209 2
a210 1
			frag=mh-x86pic ;;
d212 6
a217 4
    powerpc*-*-*)	frag=mh-ppcpic ;;
    sparc*-*-*)		frag=mh-sparcpic ;;
    s390*-*-*)		frag=mh-s390pic ;;
    *)			frag=mh-${host_cpu}pic ;;
a218 3
  if [[ -n "${frag}" ]]; then
    frags="${frags} ${libiberty_topdir}/config/${frag}"
  fi
d220 1
d224 5
a228 7
for frag in ${frags}; do
  if [[ -f ${frag} ]]; then
    echo "Appending ${frag} to xhost-mkfrag"
    echo "# Following fragment copied from ${frag}" >> temp-frag
    cat ${frag} >> temp-frag
  fi
done
@


1.36
log
@2007-06-14  Paolo Bonzini  <bonzini@@gnu.org>

	* configure.ac: Use ACX_PROG_CC_ALMOST_PEDANTIC too.
	* configure: Regenerate.
@
text
@d552 1
a552 1
             getcwd getpagesize getrusage gettimeofday gettimeofday \
@


1.35
log
@2007-06-14  Paolo Bonzini  <bonzini@@gnu.org>

	* aclocal.m4: Include config/warnings.m4.
	* configure.ac: Use ACX_PROG_CC_WARNING_OPTS.
	* configure: Regenerate.
@
text
@d135 1
a135 1
ACX_PROG_CC_WARNING_OPTS([-W -Wall -pedantic -Wwrite-strings -Wc++-compat \
d137 1
@


1.34
log
@	* configure.ac: Non-default multilibs can be cross compilations.
	* configure: Regenerate
@
text
@d135 2
a136 20
# Warn C++ incompatibilities if supported.
AC_CACHE_CHECK(
  [whether ${CC} accepts -Wc++-compat],
  [ac_cv_prog_cc_w_cxx_compat],
  [save_CFLAGS="$CFLAGS"
  CFLAGS="-Wc++-compat"
  AC_COMPILE_IFELSE([AC_LANG_SOURCE([[]])],
                    [ac_cv_prog_cc_w_cxx_compat=yes],
                    [ac_cv_prog_cc_w_cxx_compat=no])
  CFLAGS="$save_CFLAGS"
  ])


if test x$GCC = xyes; then
  ac_libiberty_warn_cflags='-W -Wall -pedantic -Wwrite-strings -Wstrict-prototypes'
fi
if test $ac_cv_prog_cc_w_cxx_compat = yes ; then
  ac_libiberty_warn_cflags="${ac_libiberty_warn_cflags} -Wc++-compat"
fi
AC_SUBST(ac_libiberty_warn_cflags)
@


1.33
log
@merge from gcc
@
text
@d112 19
@


1.32
log
@	* configure.ac: Add case for Mingw as host.
	* configure: Regenerate.
@
text
@d548 17
@


1.31
log
@merge from gcc
@
text
@d422 49
@


1.30
log
@merge from gcc
@
text
@d642 5
@


1.30.6.1
log
@	* libiberty/configure.ac: Add cygpath for mingw hosts.
	* libiberty.configure: Rebuilt.
	* libiberty/Makefile.in: Add cygpath.
	* libiberty/cygpath.c: New.

	* include/libiberty.h (pex_write_input): New declaration.

	* libiberty/pex-common.c (pex_write_input): New function.
	* libiberty/pexecute.txh (pex_write_input): Document it.
	* libiberty/pex-common.h (struct pex_funcs): New function ptr fdopenw.
	* libiberty/pex-unix.c (pex_unix_fdopenw): New function.
	(funcs): List it as our fdopenw function.
	* libiberty/pex-win32.c (pex_win32_fdopenw): New function.
	(funcs): List it as our fdopenw function.
	* libiberty/pex-djgpp.c (funcs): Leave fdopenw null.
	* libiberty/pex-msdos (funcs): Same.
	* libiberty/functions.texi: Regenerated.

	* libiberty/pex-common.h (struct pex_obj): Doc fixes.

	* libiberty/functions.texi: Regenerate.
@
text
@a620 7
# On MinGW, add support for Cygwin paths.
case "${host}" in
     *-*-mingw*)
	AC_LIBOBJ([cygpath])
	;;
esac

@


1.30.6.2
log
@
2006-04-03  Carlos O'Donell <carlos@@codesourcery.com>

	* Makefile.tpl: Add install-html target.
	* Makefile.def: Add install-html target.
	* Makefile.in: Regenerate.
	* configure.in: Add --with-datarootdir, --with-docdir,
	and --with-htmldir options.
	* configure: Regenerate.
	* opcodes/Makefile.am: Add install-html target.
	* opcodes/Makefile.in: Regenerate.
	* libiberty/Makefile.in: Add install-html, install-html-am, and
	install-html-recursive targets. Define mkdir_p and
	NORMAL_INSTALL.
	* libiberty/configure.ac: AC_SUBST datarootdir, docdir, htmldir.
	* libiberty/configure: Regenerate.
	* libiberty/testsuite/Makefile.in: Add install-html and html targets.
	* ld/Makefile.am: Add install-html, install-html-am, and
	install-html-recursive targets.
	* ld/Makefile.in: Regenerate.
	* ld/configure.in: AC_SUBST datarootdir, docdir, htmldir.
	* ld/configure: Regenerate.
	* ld/po/Make-in: Add install-html target.
	* intl/Makefile.in: Add html info and dvi and install-html to .PHONY
	Add install-html target.
	* gprof/po/Make-in: Add install-html target.
	* gprof/Makefile.am: Add install-html, install-html-am and
	install-html-recursive targets.
	* gprof/Makefile.in: Regenerate.
	* gprof/configure.in: AC_SUBST datarootdir, docdir, htmldir.
	* gprof/configure: Regenerate.
	* gas/po/Make-in: Add install-html target.
	* gas/Makefile.am: Add install-html and install-html-recursive targets.
	* gas/Makefile.in: Regenerate.
	* gas/configure.in: AC_SUBST datarootdir, docdir, htmldir.
	* gas/configure: Regenerate.
	* gas/doc/Makefile.am: Add install-html and install-html-am targets.
	* gas/doc/Makefile.in: Regenerate.
	* binutils/po/Make-in: Add install-html target.
	* binutils/Makefile.am: Add install-html and install-html-recursive targets.
	* binutils/Makefile.in: Regenerate.
	* binutils/configure.in: AC_SUBST datarootdir, docdir and htmldir.
	* binutils/configure: Regenerate.
	* binutils/doc/Makefile.am: Add install-html and install-html-am targets.
	* binutils/doc/Makefile.in: Regenerate.
	* bfd/po/Make-in: Add install-html target.
	* bfd/Makefile.am: Rename docdir to bfddocdir. Add datarootdir, docdir
	htmldir. Add install-html and install-html-recursive targets.
	* bfd/Makefile.in: Regenerate.
	* bfd/configure.in: AC_SUBST for datarootdir, docdir and htmldir.
	* bfd/configure: Regenerate.
	* bfd/doc/Makefile.am: Add install-html and install-html-am targets.
	Define datarootdir, docdir and htmldir.
	* bfd/doc/Makefile.in: Regenerate.
	* etc/Makefile.in: Add install-html target. Add htmldir,
	docdir and datarootdir.
	* etc/configure.texi: Document install-html target.
	* etc/configure.in: AC_SUBST datarootdir, docdir, htmldir.
	* etc/configure: Regenerate.
@
text
@a648 5
dnl Required by html and install-html
AC_SUBST(datarootdir)
AC_SUBST(docdir)
AC_SUBST(htmldir)

@


1.30.2.1
log
@	* libiberty/configure.ac: Add cygpath for mingw hosts.
	* libiberty.configure: Rebuilt.
	* libiberty/Makefile.in: Add cygpath.
	* libiberty/cygpath.c: New.
@
text
@a620 7
# On MinGW, add support for Cygwin paths.
case "${host}" in
     *-*-mingw*)
	AC_LIBOBJ([cygpath])
	;;
esac

@


1.29
log
@merge from gcc
@
text
@d116 13
d132 3
@


1.28
log
@merge from gcc
@
text
@d591 1
a591 1
  AC_CHECK_DECLS([calloc, getenv, malloc, realloc, sbrk])
@


1.27
log
@	* configure.ac: Check for a getopt(3) declaration.
	* configure, config.in: Regenerate.
@
text
@d591 1
a591 1
  AC_CHECK_DECLS([calloc, getenv, getopt, malloc, realloc, sbrk])
@


1.26
log
@2005-07-07  Kelley Cook  <kcook@@gcc.gnu.org>

	* config.table: Delete file.  Move former contents into ...
	* configure.ac: ... here and escape any brackets for m4.
	* Makefile.in (config.status): Remove dependency on config.table.
	* configure: Regenerate.
@
text
@d591 1
a591 1
  AC_CHECK_DECLS([calloc, getenv, malloc, realloc, sbrk])
@


1.25
log
@Index: include/ChangeLog
2005-06-20  Geoffrey Keating  <geoffk@@apple.com>

	* libiberty.h (strverscmp): Prototype.

Index: libiberty/ChangeLog
2005-06-20  Geoffrey Keating  <geoffk@@apple.com>

	* strverscmp.c: New.
	* Makefile.in (CFILES): Add strverscmp.c.
	(CONFIGURED_OFILES): Add strverscmp.o.
	(strverscmp.o): New rule.
	(stamp-functions): Add $(srcdir) to files in source directory.
	* configure.ac (funcs): Add strverscmp.
	(AC_CHECK_FUNCS): Add strverscmp.
	* configure: Regenerate.
	* functions.texi: Regenerate.
@
text
@d155 69
a223 1
. ${srcdir}/config.table
@


1.24
log
@merge from gcc
@
text
@d257 1
d281 1
a281 1
  strtod strtol strtoul tmpnam vasprintf vfprintf vprintf \
d524 1
@


1.23
log
@merge from gcc
@
text
@d285 1
a285 1
  AC_CHECK_DECLS([basename, ffs, asprintf, vasprintf])
d521 1
a521 1
  AC_CHECK_DECLS([basename, ffs, asprintf, vasprintf])
@


1.22
log
@merge from gcc
@
text
@d522 1
@


1.21
log
@merge from gcc
@
text
@d133 1
a133 1
AC_C_BIGENDIAN_CROSS
d331 1
a331 1
    AC_DEFINE_NOAUTOHEADER(HAVE_STRERROR)
d370 2
a371 2
    AC_DEFINE_NOAUTOHEADER(HAVE_SYS_ERRLIST)
    AC_DEFINE_NOAUTOHEADER(HAVE_SYS_NERR)
d409 1
a409 1
    AC_DEFINE_NOAUTOHEADER(HAVE_STRERROR)
@


1.20
log
@merge from gcc
@
text
@d521 1
@


1.19
log
@merge from gcc
@
text
@d285 1
@


1.18
log
@merge from gcc
@
text
@d162 1
a162 1
AC_CHECK_HEADERS(sys/file.h sys/param.h limits.h stdlib.h malloc.h string.h unistd.h strings.h sys/time.h time.h sys/resource.h sys/stat.h sys/mman.h fcntl.h alloca.h sys/pstat.h sys/sysmp.h sys/sysinfo.h machine/hal_sysinfo.h sys/table.h sys/sysctl.h sys/systemcfg.h stdint.h)
d271 1
a271 1
checkfuncs="$checkfuncs getsysinfo table sysctl wait3 wait4"
d284 1
a284 1
  realpath canonicalize_file_name)
@


1.17
log
@libiberty:
	* pex-common.c: New file.
	* pex-one.c: New file.
	* pexecute.c: New file.
	* pex-common.h: Include <stdio.h>.
	(struct pex_obj): Define.
	(struct pex_funcs): Define.
	(pex_init_common): Declare.
	* pex-unix.c: Rewrite.
	* pex-win32.c: Rewrite.
	* pex-djgpp.c: Rewrite.
	* pex-msdos.c: Rewrite.
	* testsuite/text-pexecute.c: New file.
	* pexecute.txh: Rewrite.
	* configure.ac: Check for wait3 and wait4.  Set CHECK to
	really-check rather than check-cplus-dem.
	* functions.texi: Rebuild.
	* Makefile.in: Rebuild dependencies.
	(CFILES): Add pexecute.c, pex-common.c, pex-one.c.
	(REQUIRED_OFILES): Add pexecute.o, pex-common.o, pex-one.o.
	* testsuite/Makefile.in (really-check): New target.
	(check-pexecute, test-pexecute): New targets.
	* configure: Rebuild.
include:
	* libiberty.h: Include <stdio.h>.
	(PEX_RECORD_TIMES, PEX_USE_PIPES, PEX_SAVE_TEMPS): Define.
	(PEX_LAST, PEX_SEARCH, PEX_SUFFIX, PEX_STDERR_TO_STDOUT): Define.
	(PEX_BINARY_INPUT, PEX_BINARY_OUTPUT): Define.
	(pex_init, pex_run, pex_read_output): Declare.
	(pex_get_status, pex_get_times, pex_free, pex_one): Declare.
	(struct pex_time): Define.
@
text
@d117 1
a117 1
  ac_libiberty_warn_cflags='-W -Wall -pedantic'
@


1.16
log
@merge from gcc
@
text
@d271 1
a271 1
checkfuncs="$checkfuncs getsysinfo table sysctl"
d283 1
a283 1
  pstat_getstatic pstat_getdynamic sysmp getsysinfo table sysctl \
d360 1
a360 1
   CHECK=check-cplus-dem
@


1.15
log
@merge from gcc
@
text
@d117 1
a117 1
  ac_libiberty_warn_cflags='-W -Wall -Wtraditional -pedantic'
@


1.14
log
@merge from gcc
@
text
@d251 1
d279 1
a279 1
  strcasecmp setenv stpcpy stpncpy strchr strdup strncasecmp strrchr strstr \
@


1.13
log
@	* pex-os2.c: Remove.
	* configure.ac: Remove *-*-os2-emx* case when setting pexecute.
	* Makefile.in (CFILES): Remove pex-os2.c.
	(CONFIGURED_OFILES): Remove pex-os2.o.
	(pex-os2.o): Remove target.
	* configure: Rebuild.
@
text
@d228 1
d276 1
a276 1
  getcwd getpagesize index insque mkstemps memchr memcmp memcpy \
@


1.12
log
@merge from gcc
@
text
@a525 1
     *-*-os2-emx*)		pexecute=./pex-os2.o    ;;
@


1.11
log
@merge from gcc
@
text
@d448 5
@


1.10
log
@merge from gcc
@
text
@a6 3
# FIXME: libiberty doesn't support --disable-static
enable_static=yes

d121 10
d135 1
d138 1
a138 1
AM_DISABLE_SHARED
d140 2
a141 1
AM_PROG_LIBTOOL
d518 5
a522 5
     *-*-mingw* | *-*-winnt*)	pex=./pex-win32  ;;
     *-*-msdosdjgpp*)		pex=./pex-djgpp  ;;
     *-*-msdos*)		pex=./pex-msdos  ;;
     *-*-os2-emx*)		pex=./pex-os2    ;;
     *)				pex=./pex-unix   ;;
a523 2
pexecute=${pex}.o
ltpexecute=${pex}.lo
a524 1
AC_SUBST(ltpexecute)
a536 1
# Add `./' to avoid VPATH.
a546 13
m4_pattern_allow(LTLIBOBJS)
L=""
for l in x $LTLIBOBJS; do
  case $l in
    x) ;;
    *) L="$L ./$l" ;;
  esac
done
LTLIBOBJS="$L"

dnl Delete it when we start creating shared library with libtool.
AC_SUBST(enable_shared)

@


1.9
log
@2004-12-18  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.in (top_builddir): Set to `.'.
	(OUTPUT_OPTION): Removed.
	(LIBTOOL): New.
	(LTLIBOBJS): New.
	(EXTRA_LTOFILES): New.
	(FLAGS_TO_PASS): Add EXTRA_LTOFILES.
	(all): Remove stamp-picdir.
	(LTCOMPILE): New.
	(.c.lo): New rule.
	(REQUIRED_LTOFILES): New.
	(CONFIGURED_LTOFILES): New.
	($(TARGETLIB)): Check .libs for PIC object files. Depend on
	$(REQUIRED_LTOFILES) $(EXTRA_LTOFILES) $(LTLIBOBJS).
	(stamp-picdir): Completely removed.
	(maint-missing): Pass $(REQUIRED_LTOFILES)
	$(CONFIGURED_LTOFILES) instead of (REQUIRED_OFILES)
	$(CONFIGURED_OFILES)
	(maint-buildall): Depend on $(REQUIRED_LTOFILES)
	$(CONFIGURED_LTOFILES).
	(mostlyclean): Also remove *.lo .libs.
	Run "make maint-deps".

	* aclocal.m4: Include ../libtool.m4.

	* config.table: Don't check --enable-shared.

	* configure.ac (AC_PROG_LIBTOOL): Add.
	(AC_PROG_CC_C_O): Removed.
	(OUTPUT_OPTION): Removed.
	(NO_MINUS_C_MINUS_O): Removed.
	(ltpexecute): New substitute.
	(LIBOBJS): Cleanup.
	* configure: Regenerated.

	* maint-tool: Updated for .lo/libtool.
@
text
@d7 3
a118 2
AC_PROG_LIBTOOL

a127 1
dnl When we start using libtool:
d130 1
a130 1
dnl AM_DISABLE_SHARED
d132 1
a132 2
dnl When we start using libtool:
dnl AM_PROG_LIBTOOL
d531 24
@


1.8
log
@merge from gcc
@
text
@d116 2
a122 10
AC_PROG_CC_C_O
# autoconf is lame and doesn't give us any substitution variable for this.
if eval "test \"`echo '$ac_cv_prog_cc_'${ac_cc}_c_o`\" = no"; then
  NO_MINUS_C_MINUS_O=yes
else
  OUTPUT_OPTION='-o $@@'
fi
AC_SUBST(NO_MINUS_C_MINUS_O)
AC_SUBST(OUTPUT_OPTION)

d510 5
a514 5
     *-*-mingw* | *-*-winnt*)	pexecute=./pex-win32.o  ;;
     *-*-msdosdjgpp*)		pexecute=./pex-djgpp.o  ;;
     *-*-msdos*)		pexecute=./pex-msdos.o  ;;
     *-*-os2-emx*)		pexecute=./pex-os2.o    ;;
     *)				pexecute=./pex-unix.o   ;;
d516 2
d519 1
a531 10
m4_pattern_allow(LIBOBJS)
L=""
for l in x $LIBOBJS; do
  case $l in
    x) ;;
    *) L="$L ./$l" ;;
  esac
done
LIBOBJS="$L"

@


1.7
log
@2004-09-02  Paolo Bonzini  <bonzini@@gnu.org>

	* configure.ac: Do not enable multilibs for build-side libiberty.
@
text
@d168 3
@


1.6
log
@merge from gcc
@
text
@d549 1
a549 1
  if test -n "${with_build_subdir}" || test -n "${with_target_subdir}"; then
a559 1
with_build_subdir=${with_build_subdir}
@


1.5
log
@merge from gcc
@
text
@d199 2
a200 2
  AC_DEFINE(UNSIGNED_64BIT_TYPE, $liberty_cv_uint64,
            [Define to an unsigned 64-bit type available in the compiler.])
@


1.4
log
@merge from gcc
@
text
@d162 1
a162 1
AC_CHECK_HEADERS(sys/file.h sys/param.h limits.h stdlib.h malloc.h string.h unistd.h strings.h sys/time.h time.h sys/resource.h sys/stat.h sys/mman.h fcntl.h alloca.h sys/pstat.h sys/sysmp.h sys/sysinfo.h machine/hal_sysinfo.h sys/table.h sys/sysctl.h sys/systemcfg.h)
d169 34
@


1.3
log
@merge from gcc
@
text
@d3 3
a5 2
AC_PREREQ(2.57)
AC_INIT(xmalloc.c)
d437 1
a437 1
  AC_FUNC_VFORK
d453 3
a455 3
      [AC_TRY_LINK([int *p;], [extern int $v []; p = $v;],
		   [eval "libiberty_cv_var_$v=yes"],
		   [eval "libiberty_cv_var_$v=no"])])
d468 2
a469 2
  AC_TRY_COMPILE([#include <sys/systemcfg.h>],
                 [double x = _system_configuration.physmem;],
d472 1
a472 1
              [Define if you have the _system_configuration variable.])],
d511 3
a513 2
AC_OUTPUT(Makefile testsuite/Makefile,
[test -z "$CONFIG_HEADERS" || echo timestamp > stamp-h
d521 2
a522 2
fi],
srcdir=${srcdir}
d532 2
a533 1
)
@


1.3.8.1
log
@Merge mainline to intercu branch.
@
text
@d3 2
a4 3
AC_PREREQ(2.59)
AC_INIT
AC_CONFIG_SRCDIR([xmalloc.c])
d436 1
a436 1
  AC_FUNC_FORK
d452 3
a454 3
      [AC_LINK_IFELSE([AC_LANG_PROGRAM([[int *p;]],[[extern int $v []; p = $v;]])],
		      [eval "libiberty_cv_var_$v=yes"],
		      [eval "libiberty_cv_var_$v=no"])])
d467 2
a468 2
  AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[#include <sys/systemcfg.h>]],
			[[double x = _system_configuration.physmem;]])],
d471 1
a471 1
	      [Define if you have the _system_configuration variable.])],
d510 2
a511 3
AC_CONFIG_FILES([Makefile testsuite/Makefile])
AC_CONFIG_COMMANDS([default],
  [[test -z "$CONFIG_HEADERS" || echo timestamp > stamp-h
d519 2
a520 2
fi]],
[[srcdir=${srcdir}
d530 1
a530 2
]])
AC_OUTPUT
@


1.3.8.2
log
@Merge mainline to intercu branch - 2004-09-15
@
text
@d162 1
a162 1
AC_CHECK_HEADERS(sys/file.h sys/param.h limits.h stdlib.h malloc.h string.h unistd.h strings.h sys/time.h time.h sys/resource.h sys/stat.h sys/mman.h fcntl.h alloca.h sys/pstat.h sys/sysmp.h sys/sysinfo.h machine/hal_sysinfo.h sys/table.h sys/sysctl.h sys/systemcfg.h stdint.h)
a168 34

# Look for a 64-bit type.
AC_MSG_CHECKING([for a 64-bit type])
AC_CACHE_VAL(liberty_cv_uint64,
[AC_TRY_COMPILE(
[#ifdef HAVE_STDINT_H
#include <stdint.h>
#endif],
[extern uint64_t foo;],
liberty_cv_uint64=uint64_t,
[AC_TRY_COMPILE(
[#ifdef HAVE_LIMITS_H
#include <limits.h>
#endif
#ifndef CHAR_BIT
#define CHAR_BIT 8
#endif],
[extern char foo[sizeof(long) * CHAR_BIT >= 64 ? 1 : -1];],
liberty_cv_uint64="unsigned long",
[AC_TRY_COMPILE(
[#ifdef HAVE_LIMITS_H
#include <limits.h>
#endif
#ifndef CHAR_BIT
#define CHAR_BIT 8
#endif],
[extern char foo[sizeof(long long) * CHAR_BIT >= 64 ? 1 : -1];],
liberty_cv_uint64="unsigned long long", liberty_cv_uint64=none)])])])
AC_MSG_RESULT($liberty_cv_uint64)
if test "$liberty_cv_uint64" != none; then
  AC_DEFINE_UNQUOTED(UNSIGNED_64BIT_TYPE, $liberty_cv_uint64,
                     [Define to an unsigned 64-bit type available in the compiler.])
fi

d515 1
a515 1
  if test -n "${with_target_subdir}"; then
d526 1
@


1.3.12.1
log
@Merge with mainline cagney_tramp-20040321-mergepoint.
@
text
@d3 2
a4 3
AC_PREREQ(2.59)
AC_INIT
AC_CONFIG_SRCDIR([xmalloc.c])
d436 1
a436 1
  AC_FUNC_FORK
d452 3
a454 3
      [AC_LINK_IFELSE([AC_LANG_PROGRAM([[int *p;]],[[extern int $v []; p = $v;]])],
		      [eval "libiberty_cv_var_$v=yes"],
		      [eval "libiberty_cv_var_$v=no"])])
d467 2
a468 2
  AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[#include <sys/systemcfg.h>]],
			[[double x = _system_configuration.physmem;]])],
d471 1
a471 1
	      [Define if you have the _system_configuration variable.])],
d510 2
a511 3
AC_CONFIG_FILES([Makefile testsuite/Makefile])
AC_CONFIG_COMMANDS([default],
  [[test -z "$CONFIG_HEADERS" || echo timestamp > stamp-h
d519 2
a520 2
fi]],
[[srcdir=${srcdir}
d530 1
a530 2
]])
AC_OUTPUT
@


1.3.2.1
log
@2004-01-26  David Carlton  <carlton@@kealia.com>

	* Merge with mainline; tag is carlton_dictionary-20040126-merge.
@
text
@@


1.2
log
@merge from gcc
@
text
@d499 1
@


1.1
log
@merge from gcc
@
text
@d480 5
a484 5
     *-*-mingw* | *-*-winnt*)	pexecute=pex-win32.o  ;;
     *-*-msdosdjgpp*)		pexecute=pex-djgpp.o  ;;
     *-*-msdos*)		pexecute=pex-msdos.o  ;;
     *-*-os2-emx*)		pexecute=pex-os2.o    ;;
     *)				pexecute=pex-unix.o   ;;
d498 9
@


1.1.2.1
log
@Merge mainline to branch.  GDB is broken until I update cp-names.y.
@
text
@@


1.1.2.2
log
@Merge drow-cplus-merge-20040208 to drow-cplus-branch.
@
text
@d480 5
a484 5
     *-*-mingw* | *-*-winnt*)	pexecute=./pex-win32.o  ;;
     *-*-msdosdjgpp*)		pexecute=./pex-djgpp.o  ;;
     *-*-msdos*)		pexecute=./pex-msdos.o  ;;
     *-*-os2-emx*)		pexecute=./pex-os2.o    ;;
     *)				pexecute=./pex-unix.o   ;;
a497 10

m4_pattern_allow(LIBOBJS)
L=""
for l in x $LIBOBJS; do
  case $l in
    x) ;;
    *) L="$L ./$l" ;;
  esac
done
LIBOBJS="$L"
@


