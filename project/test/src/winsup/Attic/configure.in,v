head	1.37;
access;
symbols
	cygwin-1_7_17-release:1.33
	cygwin-64bit-branch:1.33.0.2
	cygwin-1_7_16-release:1.33
	cygwin-1_7_15-release:1.33
	cygwin-1_7_14_2-release:1.33
	cygwin-1_7_14-release:1.33
	cygwin-1_7_12-release:1.33
	cygwin-1_7_11-release:1.33
	cygwin-1_7_10-release:1.33
	cygwin-1_7_9-release:1.33
	cygwin-1_7_8-release:1.33
	cygwin-1_7_7-release:1.32
	cygwin-1_7_5-release:1.32
	cygwin-1_7_4-release:1.32
	cygwin-1_7_3-release:1.32
	cygwin-1_7_2-release:1.32
	cygwin-1_7_1-release:1.32
	cv-branch-2:1.32.0.2
	cr-0x5f1:1.27.0.4
	cv-branch:1.27.0.2
	cr-0x3b58:1.26.0.2
	cr-0x9e:1.25.0.4
	cr-0x9d:1.25.0.2
	corinna-01:1.24
	cr-0x9c:1.24.0.6
	cr-0x9b:1.24.0.4
	cr-0x99:1.24
	Z-emcb-cygwin_daemon:1.24.0.2
	w32api-2_2:1.21
	mingw-runtime-2_4:1.21
	cygnus_cvs_20020108_pre:1.16
	Z-cygwin_daemon_merge-new_HEAD:1.13
	Z-cygwin_daemon_merge_HEAD:1.13
	cygwin_daemon:1.13.0.6;
locks; strict;
comment	@# @;
expand	@o@;


1.37
date	2012.11.26.19.50.44;	author cgf;	state dead;
branches;
next	1.36;

1.36
date	2012.11.23.13.22.42;	author cgf;	state Exp;
branches;
next	1.35;

1.35
date	2012.11.07.16.32.07;	author corinna;	state Exp;
branches;
next	1.34;

1.34
date	2012.10.24.10.11.15;	author yselkowitz;	state Exp;
branches;
next	1.33;

1.33
date	2011.01.29.06.41.28;	author cgf;	state Exp;
branches
	1.33.2.1;
next	1.32;

1.32
date	2009.01.21.17.14.36;	author corinna;	state Exp;
branches;
next	1.31;

1.31
date	2006.12.12.20.26.27;	author corinna;	state Exp;
branches;
next	1.30;

1.30
date	2006.11.27.13.01.36;	author corinna;	state Exp;
branches;
next	1.29;

1.29
date	2006.08.30.13.05.46;	author corinna;	state Exp;
branches;
next	1.28;

1.28
date	2006.07.25.19.18.04;	author corinna;	state Exp;
branches;
next	1.27;

1.27
date	2006.05.24.16.59.02;	author cgf;	state Exp;
branches
	1.27.2.1;
next	1.26;

1.26
date	2006.01.16.17.48.36;	author corinna;	state Exp;
branches;
next	1.25;

1.25
date	2003.11.20.19.31.52;	author cgf;	state Exp;
branches;
next	1.24;

1.24
date	2003.07.02.03.33.01;	author cgf;	state Exp;
branches;
next	1.23;

1.23
date	2003.07.01.20.51.03;	author cgf;	state Exp;
branches;
next	1.22;

1.22
date	2003.03.17.22.27.07;	author cgf;	state Exp;
branches;
next	1.21;

1.21
date	2003.02.07.03.45.15;	author cgf;	state Exp;
branches;
next	1.20;

1.20
date	2002.12.12.10.34.10;	author corinna;	state Exp;
branches;
next	1.19;

1.19
date	2002.06.02.05.54.33;	author cgf;	state Exp;
branches;
next	1.18;

1.18
date	2002.04.25.23.19.28;	author cgf;	state Exp;
branches;
next	1.17;

1.17
date	2002.02.19.21.59.19;	author cgf;	state Exp;
branches;
next	1.16;

1.16
date	2001.12.14.18.23.19;	author cgf;	state Exp;
branches;
next	1.15;

1.15
date	2001.11.04.03.48.36;	author cgf;	state Exp;
branches;
next	1.14;

1.14
date	2001.10.24.21.56.52;	author cgf;	state Exp;
branches;
next	1.13;

1.13
date	2001.05.05.04.18.16;	author cgf;	state Exp;
branches;
next	1.12;

1.12
date	2001.05.04.15.27.56;	author cgf;	state Exp;
branches;
next	1.11;

1.11
date	2001.05.04.13.18.51;	author corinna;	state Exp;
branches;
next	1.10;

1.10
date	2001.04.18.22.45.27;	author cgf;	state Exp;
branches;
next	1.9;

1.9
date	2000.12.03.05.40.45;	author cgf;	state Exp;
branches;
next	1.8;

1.8
date	2000.09.03.04.06.38;	author cgf;	state Exp;
branches;
next	1.7;

1.7
date	2000.08.10.22.24.58;	author cgf;	state Exp;
branches;
next	1.6;

1.6
date	2000.06.20.17.37.22;	author cgf;	state Exp;
branches;
next	1.5;

1.5
date	2000.06.17.17.51.31;	author cgf;	state Exp;
branches;
next	1.4;

1.4
date	2000.05.25.22.39.48;	author cgf;	state Exp;
branches;
next	1.3;

1.3
date	2000.05.25.22.28.43;	author cgf;	state Exp;
branches;
next	1.2;

1.2
date	2000.04.07.22.12.41;	author rdparker;	state Exp;
branches;
next	1.1;

1.1
date	2000.02.17.19.38.31;	author cgf;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.02.17.19.38.31;	author cgf;	state Exp;
branches;
next	;

1.27.2.1
date	2006.07.14.12.57.27;	author corinna;	state Exp;
branches;
next	;

1.33.2.1
date	2012.10.24.12.50.32;	author corinna;	state Exp;
branches;
next	1.33.2.2;

1.33.2.2
date	2012.11.07.16.39.43;	author corinna;	state Exp;
branches;
next	1.33.2.3;

1.33.2.3
date	2012.11.23.15.14.37;	author corinna;	state Exp;
branches;
next	1.33.2.4;

1.33.2.4
date	2012.11.27.08.56.06;	author corinna;	state dead;
branches;
next	;


desc
@@


1.37
log
@ChangeLog:
2012-11-26  Christopher Faylor  <me.cygwin2012@@cgf.cx>

	* configure.ac: Rename from configure.in.
	* configure.in: Delete.
	* configure: Regenerate.

cygserver/ChangeLog:
2012-11-26  Christopher Faylor  <me.cygwin2012@@cgf.cx>

	* configure.ac: Rename from configure.in.
	* configure.in: Delete.
	* configure: Regenerate.

cygwin/ChangeLog:
2012-11-26  Christopher Faylor  <me.cygwin2012@@cgf.cx>

	* configure.ac: Rename from configure.in.
	* configure.in: Delete.
	* configure: Regenerate.

doc/ChangeLog:
2012-11-26  Christopher Faylor  <me.cygwin2012@@cgf.cx>

	* configure.ac: Rename from configure.in.
	* configure.in: Delete.
	* configure: Regenerate.

lsaauth/ChangeLog:
2012-11-26  Christopher Faylor  <me.cygwin2012@@cgf.cx>

	* configure.ac: Rename from configure.in.
	* configure.in: Delete.
	* configure: Regenerate.

testsuite/ChangeLog:
2012-11-26  Christopher Faylor  <me.cygwin2012@@cgf.cx>

	* configure.ac: Rename from configure.in.
	* configure.in: Delete.
	* configure: Regenerate.

utils/ChangeLog:
2012-11-26  Christopher Faylor  <me.cygwin2012@@cgf.cx>

	* configure.ac: Rename from configure.in.
	* configure.in: Delete.
	* configure: Regenerate.
@
text
@dnl Autoconf configure script for Cygwin.
dnl Copyright 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2006,
dnl 2009, 2010, 2011, 2012 Red Hat, Inc.
dnl
dnl This file is part of Cygwin.
dnl
dnl This software is a copyrighted work licensed under the terms of the
dnl Cygwin license.  Please consult the file "CYGWIN_LICENSE" for
dnl details.
dnl
dnl Process this file with autoconf to produce a configure script.

AC_PREREQ(2.59)dnl
AC_INIT(Makefile.in)
AC_CONFIG_AUX_DIR(..)

. ${srcdir}/configure.cygwin

AC_WINDOWS_HEADERS
AC_WINDOWS_LIBS

AC_PROG_INSTALL
AC_NO_EXECUTABLES
AC_CANONICAL_SYSTEM

AC_PROG_CC
AC_PROG_CXX
AC_PROG_CPP
AC_LANG(C)
AC_LANG(C++)

AC_CYGWIN_INCLUDES

AC_CONFIG_SUBDIRS(cygwin utils cygserver lsaauth doc)
INSTALL_LICENSE="install-license"

AC_SUBST(INSTALL_LICENSE)

AC_PROG_MAKE_SET

AC_OUTPUT(Makefile)
@


1.36
log
@ChangeLog:
2012-11-12  Christopher Faylor  <me.cygwin2012@@cgf.cx>

	* Makefile.common: Revamp for new configury.  Add default compilation
	targets, include .E processing.  Add magic for allowing "CFLAGS" to
	control optimization options in "CXXFLAGS".
	* configure.cygwin: New include for Cygwin configure.in's.
	* acinclude.m4: Delete old definitions.  Implement AC_WINDOWS_HEADERS,
	AC_WINDOWS_LIBS, AC_CYGWIN_INCLUDES, target_builddir, winsup_srcdir.
	* aclocal.m4: Regenerate.
	* autogen.sh: New file.
	* ccwrap: New script.
	* c++wrap: New script.
	* config.guess: New script.
	* config.sub: New script.
	* configure: Regenerate.
	* configure.in: Eliminate LIB_AC_PROG_* calls in favor of standard.
	Delete ancient target test.
	* install-sh: New script.

cygserver/ChangeLog:
2012-11-12  Christopher Faylor  <me.cygwin2012@@cgf.cx>

	* Makefile.in: Revamp for new configury.
	* configure.in: Revamp for new configury.
	* aclocal.m4: Regenerate.
	* configure: Ditto.
	* autogen.sh: New script.

cygwin/ChangeLog:
2012-11-22  Christopher Faylor  <me.cygwin2012@@cgf.cx>

	* select.cc (select): Don't return -1 when we've timed out after
	looping.

2012-11-22  Christopher Faylor  <me.cygwin2012@@cgf.cx>

	* Makefile.in: Revamp for new configury.
	(datarootdir): Add variable setting.
	(winver_stamp): Accommodate changes to mkvers.sh setting.
	(libc.a): Fix race when libm.a might not have been built yet.
	* configure.in: Revamp for new configury.
	* aclocal.m4: Regenerate.
	* configure: Ditto.
	* autogen.sh: New script.
	* mkvers.sh: Find include directives via CFLAGS and friends rather than
	assuming that w32api lives nearby.

utils/ChangeLog:
2012-11-12  Christopher Faylor  <me.cygwin2012@@cgf.cx>

	* aclocal.m4: Regenerate.
	* configure: Ditto.
	* autogen.sh: New script.
	* configure.in: Revamp for new configury.
	* Makefile.in: Revamp for new configury.  Rename ALL_* to just *.
	Always use "VERBOSE" setting.
	(MINGW_CXX): Don't include CFLAGS in definition.
	(all): Define target first, before everything else so that it is the
	default.
	(ps.exe): Don't add useless -lcygwin.
	(ldh.exe): For consistency, add to existing MINGW_LDFLAGS rather than
	redefining them.
	(cygcheck.exe): Always include -lz for MINGW_LDFLAGS.  Don't try to
	figure out where to find it.
	(dumper.exe): Simplify check.  Assume libraries are installed rather
	than trying to retrieve from source tree.
	(install): Just use /bin/mkdir to create directories.
	(Makefile): Regenerate when standard dependencies change.
	* dump_setup.cc: Always include zlib.h.  Remove accommodations for it
	possibly not existing.
	* parse_pe.cc: Add define which allows building with installed
	binutils package.
	* dumper.cc: Ditto.
@
text
@@


1.35
log
@winsup:

	* Makefile.common (zlib_source): Remove.
	(zlib_build): Remove.
	(bz2lib_source): Remove.
	(bz2lib_build): Remove.
	(w32api_source): Remove.
	(w32api_build): Remove.
	(w32api_lib): Remove.
	(mingw_build): Remove.
	(mingw_source): Remove.
	($(w32api_lib)/%.a): Remove rule.
	* Makefile.in (ZLIB): Remove.
	($(SUBDIRS)): Drop mingw check.
	(mingw): Remove rule.
	(install_mingw): Ditto.
	* configure.in: Remove support for mingw as build target.
	* configure: Regenerate.

utils:

	* Makefile.in ($(MINGW_BINS)): Drop -B$(mingw_build)/ from build
	expression.
@
text
@d3 1
a3 1
dnl 2009 Red Hat, Inc.
d15 1
d17 4
a20 1
INSTALL=`cd $srcdir/..; echo $(pwd)/install-sh -c`
d23 1
d26 5
a30 6
GCC_NO_EXECUTABLES

LIB_AC_PROG_CC
LIB_AC_PROG_CXX

AC_LANG_C
d32 1
a32 1
INSTALL_LICENSE=
d34 2
a35 9
case "$target" in
  *cygwin*)
    if ! test -d $srcdir/cygwin; then
      AC_MSG_ERROR("No cygwin dir.  Can't build Cygwin.  Exiting...")
    fi
    AC_CONFIG_SUBDIRS(cygwin cygserver lsaauth utils doc)
    INSTALL_LICENSE="install-license"
    ;;
esac
@


1.34
log
@2012-10-24  Kai Tietz  <ktietz70@@googlemail.com>
	    Yaakov Selkowitz  <yselkowitz@@users.sourceforge.net>
	    Corinna Vinschen  <corinna@@vinschen.de>

	* configure.in [cygwin*]: Always build cygserver, lsaauth,
	utils, and doc.  Do not build mingw or w32api.
	[mingw*]: Build w32api if present.
	* configure: Regenerate.
	* Makefile.common: Remove references to mingw and w32api
	directories.
	(MINGW_LDFLAGS): Redefine as -static to force static linking
	with libgcc and libstdc++.
	* Makefile.in: Remove references to mingw and w32api directories
	from Cygwin targets.
@
text
@a37 9
  *mingw*)
    if ! test -d $srcdir/mingw; then
      AC_MSG_ERROR("No mingw dir.  Can't build Mingw.  Exiting...")
    fi
    AC_CONFIG_SUBDIRS(mingw)
    if test -d $srcdir/w32api; then
      AC_CONFIG_SUBDIRS(w32api)
    fi
    ;;
@


1.33
log
@winsup:
* configure.in: Configure winsup/cygserver regardless of cross_host.
* configure: Regenerate.
winsup/cygwin:
* configure.in: Define LIBSERVER regardless of cross_host.
* configure: Regenerate.
@
text
@d35 1
a35 1
    AC_CONFIG_SUBDIRS(cygwin)
d42 3
a44 18
    ;;
esac

if test -d $srcdir/mingw; then
  AC_CONFIG_SUBDIRS(mingw)
fi
AC_CONFIG_SUBDIRS(w32api cygserver)

case "$with_cross_host" in
  ""|*cygwin*)
    # if test -d $srcdir/bz2lib; then
    #  AC_CONFIG_SUBDIRS(bz2lib)
    # fi
    # if test -d $srcdir/zlib; then
    #   AC_CONFIG_SUBDIRS(zlib)
    # fi
    if test -d $srcdir/lsaauth; then
      AC_CONFIG_SUBDIRS(lsaauth)
a45 1
    AC_CONFIG_SUBDIRS(utils doc)
@


1.33.2.1
log
@Pull in changes from HEAD
@
text
@d35 1
a35 1
    AC_CONFIG_SUBDIRS(cygwin cygserver lsaauth utils doc)
d42 18
a59 3
    AC_CONFIG_SUBDIRS(mingw)
    if test -d $srcdir/w32api; then
      AC_CONFIG_SUBDIRS(w32api)
d61 1
@


1.33.2.2
log
@Pull in changes from HEAD
@
text
@d38 9
@


1.33.2.3
log
@Pull in changes from HEAD
@
text
@d3 1
a3 1
dnl 2009, 2010, 2011, 2012 Red Hat, Inc.
a14 1
AC_CONFIG_AUX_DIR(..)
d16 1
a16 4
. ${srcdir}/configure.cygwin

AC_WINDOWS_HEADERS
AC_WINDOWS_LIBS
a18 1
AC_NO_EXECUTABLES
d21 6
a26 5
AC_PROG_CC
AC_PROG_CXX
AC_PROG_CPP
AC_LANG(C)
AC_LANG(C++)
d28 1
a28 1
AC_CYGWIN_INCLUDES
d30 9
a38 2
AC_CONFIG_SUBDIRS(cygwin utils cygserver lsaauth doc)
INSTALL_LICENSE="install-license"
@


1.33.2.4
log
@Pull in changes from HEAD
@
text
@@


1.32
log
@ChangeLog:

	* configure.in: Remove --enable-server option.  Allways add the
	cygserver directory to $SUBDIRS.
	* configure: Regenerate.

cygwin/ChangeLog:

	Remove USE_SERVER define.  Accommodate throughout.
	* configure.in: Remove --enable-server option.
	* configure: Regenerate.
	* environ.cc: Remove CYGWIN=server setting.

cygserver/ChangeLog:

	* client.cc (allow_server): Remove variable.
	(client_request_get_version::client_request_get_version): Drop checking
	allow_server.

utils/ChangeLog:

	* passwd.c: Remove CYGWIN=server requirement from usage text.

doc/ChangeLog:

	* cygserver.sgml: Remove the "How to use the Cygserver services"
	section.
	* cygwinenv.sgml: Move "(no)server" to the removed options section.
	* faq-programming.xml: Remove CYGWIN=server requirement for running
	the Cygwin testsuite.
	* ntsec.sgml: Ditto for using `passwd -R'.
@
text
@d48 1
a48 1
AC_CONFIG_SUBDIRS(w32api)
d61 1
a61 1
    AC_CONFIG_SUBDIRS(cygserver utils doc)
@


1.31
log
@	* Makefile.in (subauth): Drop rule.
	* configure.in: Remove subauth related check.
	* configure: Regenerate.
@
text
@d2 2
a3 1
dnl Copyright 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003 Red Hat, Inc.
a27 9
use_cygserver='yes'
AC_ARG_ENABLE(server,
[ --enable-server		Build a cygwin DLL which can communicate with cygserver],
[case "${enableval}" in
yes)	;;
no)	use_cygserver=;;
esac
])

d61 1
a61 4
    if test -n "$use_cygserver" -a -d $srcdir/cygserver; then
      AC_CONFIG_SUBDIRS(cygserver)
    fi
    AC_CONFIG_SUBDIRS(utils doc)
@


1.30
log
@	* Makefile.in: Add dependencies for lsaauth.
	* configure.in: Disable building subauth.  Add building lsaauth.
	* configure: Regenerate.
@
text
@a68 3
    # if test -d $srcdir/subauth; then
    #   AC_CONFIG_SUBDIRS(subauth)
    # fi
@


1.29
log
@	* Makefile.in: Make installation of CYGWIN_LICENSE configurable.
	* aclocal.m4: Regenerate.
	* configure.in: Add GCC_NO_EXECUTABLES call. Add configuration for
	INSTALL_LICENSE.  Make cygwin subdirectory optional.  Add sanity
	check for cygwin resp. mingw subdirectories dependent of the target.
	* configure: Regenerate.
@
text
@d66 2
a67 2
    if test -d $srcdir/subauth; then
      AC_CONFIG_SUBDIRS(subauth)
d69 3
@


1.28
log
@	* configure.in: Reenable building the subauth subdir.
	* configure: Regenerate.
@
text
@d20 2
d36 17
a52 1
AC_CONFIG_SUBDIRS(cygwin w32api)
d56 1
d76 2
@


1.27
log
@update to newer autoconf
@
text
@d47 3
a49 3
    # if test -d $srcdir/subauth; then
    #   AC_CONFIG_SUBDIRS(subauth)
    # fi
@


1.27.2.1
log
@	* configure.in: Reenable building the subauth subdir.
	* configure: Regenerate.
@
text
@d47 3
a49 3
    if test -d $srcdir/subauth; then
      AC_CONFIG_SUBDIRS(subauth)
    fi
@


1.26
log
@	* configure.in: Add AC_PROG_INSTALL handling.
	* configure: Regenerate.
	* Makefile.in (install): Install CYGWIN_LICENSE.
@
text
@d12 1
a12 1
AC_PREREQ(2.12)dnl
a17 50

dnl FIXME: We temporarily define our own version of AC_PROG_CC.  This is
dnl copied from autoconf 2.12, but does not call AC_PROG_CC_WORKS.  We
dnl are probably using a cross compiler, which will not be able to fully
dnl link an executable.  This should really be fixed in autoconf
dnl itself.

AC_DEFUN(LIB_AC_PROG_CC,
[AC_BEFORE([$0], [AC_PROG_CPP])dnl
AC_CHECK_TOOL(CC, gcc, gcc)
if test -z "$CC"; then
  AC_CHECK_PROG(CC, cc, cc, , , /usr/ucb/cc)
  test -z "$CC" && AC_MSG_ERROR([no acceptable cc found in \$PATH])
fi

AC_PROG_CC_GNU

if test $ac_cv_prog_gcc = yes; then
  GCC=yes
dnl Check whether -g works, even if CFLAGS is set, in case the package
dnl plays around with CFLAGS (such as to build both debugging and
dnl normal versions of a library), tasteless as that idea is.
  ac_test_CFLAGS="${CFLAGS+set}"
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS=
  AC_PROG_CC_G
  if test "$ac_test_CFLAGS" = set; then
    CFLAGS="$ac_save_CFLAGS"
  elif test $ac_cv_prog_cc_g = yes; then
    CFLAGS="-g -O2"
  else
    CFLAGS="-O2"
  fi
else
  GCC=
  test "${CFLAGS+set}" = set || CFLAGS="-g"
fi
])

AC_DEFUN(LIB_AC_PROG_CXX,
[AC_BEFORE([$0], [AC_PROG_CPP])dnl
AC_CHECK_TOOL(CXX, g++, g++)
if test -z "$CXX"; then
  AC_CHECK_PROG(CXX, c++, c++, , , )
  test -z "$CC" && AC_MSG_ERROR([no acceptable cc found in \$PATH])
fi

CXXFLAGS='$(CFLAGS)'
])

d23 2
d34 4
a37 2
SUBDIRS='cygwin w32api'
test -d $srcdir/mingw && SUBDIRS="mingw $SUBDIRS"
d41 13
a53 5
    # test -d $srcdir/bz2lib && SUBDIRS="$SUBDIRS bz2lib"
    # test -d $srcdir/zlib && SUBDIRS="$SUBDIRS zlib"
    # test -d $srcdir/subauth && SUBDIRS="$SUBDIRS subauth"
    test -n "$use_cygserver" -a -d $srcdir/cygserver && SUBDIRS="$SUBDIRS cygserver"
    SUBDIRS="$SUBDIRS utils doc"
a56 2
AC_CONFIG_SUBDIRS($SUBDIRS)

a58 1
AC_SUBST(SUBDIRS)
@


1.25
log
@* configure.in: Make --use-server the default.
* configure: Regenerate.
@
text
@d15 4
@


1.24
log
@* configure.in: Add --enable-server option.
* configure: Regenerate.
@
text
@d69 1
a69 1
use_cygserver=''
d73 2
a74 3
yes)	 AC_DEFINE(USE_CYGSERVE)
	 use_cygserver=1 ;;
no)	 ;;
@


1.23
log
@* configure.in: Add cygserver subdir.
* Makefile.in: Ditto.
* configure: Regenerate.
* Makefile.common: Remove debugging statements.
@
text
@d69 10
d87 1
a87 1
    test -d $srcdir/cygserver && SUBDIRS="$SUBDIRS cygserver"
@


1.22
log
@* configure.in: w32api directory was already optional.  Semi-revert 2003-02-06
change.
* configure: Regenerate.
* Makefile.common: Don't specific -nostdinc if there is no w32api directory.
@
text
@d2 1
a2 1
dnl Copyright 1996, 1997, 1998, 1999, 2000 Red Hat, Inc.
d77 1
@


1.21
log
@* configure.in: Make w32api directory optional.
* configure: Regenerate.
@
text
@d69 1
a69 1
SUBDIRS='cygwin'
a70 1
test -d $srcdir/w32api && SUBDIRS="w32api $SUBDIRS"
d74 2
a75 2
    test -d $srcdir/bz2lib && SUBDIRS="$SUBDIRS bz2lib"
    test -d $srcdir/zlib && SUBDIRS="$SUBDIRS zlib"
@


1.20
log
@	* Makefile.common: Define MINGW_LDFLAGS.
	* configure.in: Reorder SUBDIRS to have mingw before cygwin.
	* configure: Regenerate from configure.in.
	* cygwin/Makefile.in: Add MINGW_LDFLAGS when linking cygrun.exe.
@
text
@d71 1
a71 6
if test -d $srcdir/w32api; then
    SUBDIRS="w32api $SUBDIRS"
else
    echo "*** missing w32api directory" 1>&2
    exit 1
fi
@


1.19
log
@* configure.in: Complain about lack of w32api directory.
* configure: Regenerate.
@
text
@d70 1
a76 1
test -d $srcdir/mingw && SUBDIRS="$SUBDIRS mingw"
@


1.18
log
@* configure.in: Remove cinstall target.
* Makefile.in: Ditto.
* configure: Regenerate.
@
text
@d70 6
a75 1
test -d $srcdir/w32api && SUBDIRS="w32api $SUBDIRS"
@


1.17
log
@* configure.in: Avoid building w32api or mingw if they don't exist.
* configure: Regenerate.
@
text
@a76 1
    test -d $srcdir/cinstall && SUBDIRS="$SUBDIRS cinstall"
@


1.16
log
@* Makefile.in: Exit immediately if a sub-make fails.
@
text
@d69 4
a72 1
SUBDIRS='w32api cygwin mingw'
@


1.15
log
@* configure.in: Disable subauth directory test.
* configure: Regenerate.
* Makefile.in: Use MAKE variable in directory builds.
@
text
@d73 1
@


1.14
log
@* Makefile.in: Only build testsuite directory on first 'make check'.
* configure.in: Remove testsuite from SUBDIRS.
* configure: Regenerate.
@
text
@d74 1
a74 1
    test -d $srcdir/subauth && SUBDIRS="$SUBDIRS subauth"
@


1.13
log
@* configure.in: Fix typo.
* configure: Regenerate.
@
text
@d75 1
a75 1
    SUBDIRS="$SUBDIRS utils doc testsuite"
@


1.12
log
@* configure.in: Make subauth configuration optional.
* configure: Regenerate.
@
text
@d74 1
a74 1
    test -d $srcdir/cinstall && SUBDIRS="$SUBDIRS subauth"
@


1.11
log
@        * subauth: New subdirectory.
        * configure.in: Add subauth to the list of subdirectories.
        * configure: Regenerated from configure.in.
@
text
@d74 2
a75 1
    SUBDIRS="$SUBDIRS utils doc testsuite subauth"
@


1.10
log
@* configure.in: Add bz2lib.
@
text
@d74 1
a74 1
    SUBDIRS="$SUBDIRS utils doc testsuite"
@


1.9
log
@* Makefile.common: Eliminate checks for libgcc.a and libstdc++.a.  Use CXX for
g++ compiles.
* configure.in: Find correct c++ compiler.
* configure: Regenerate.
@
text
@d72 1
@


1.8
log
@* Makefile.in: Add new goal "check"
* configure.in: When doing native build do configure in testsuite subdirectory
* configure: Regenerate.
@
text
@a46 3
  if test "$ac_test_CXXFLAGS" != set; then
    CXXFLAGS='$(CFLAGS)'
  fi
d53 11
d67 1
@


1.7
log
@Change comment.
@
text
@a62 1
    SUBDIRS="$SUBDIRS utils"
d64 1
a64 1
    SUBDIRS="$SUBDIRS doc"
@


1.6
log
@* configure.in: Bow to necessity and build w32api before anything else.
* configure: Regenerate.
@
text
@d2 1
a2 1
dnl Copyright 1996, 1997, 1998 Cygnus Solutions.
@


1.5
log
@* configure.in: Detect "cross-hosting" situation and add a subset of
directories to SUBDIRS.
* configure: Regenerate.
@
text
@d60 1
a60 1
SUBDIRS='cygwin w32api mingw'
@


1.4
log
@* configure.in: Don't assume that cinstall directory exists.
@
text
@d60 9
a68 2
SUBDIRS="cygwin w32api mingw utils doc"
test -d $srcdir/cinstall && SUBDIRS="$SUBDIRS cinstall"
d70 1
@


1.3
log
@* configure.in: Don't assume that cinstall directory exists.
@
text
@d61 1
a61 1
test -d cinstall && SUBDIRS="$SUBDIRS cinstall"
@


1.2
log
@Updated to build cinstall with mingw. See Changelog for numerous setup.c changes.
@
text
@d60 2
a61 1
SUBDIRS="cygwin w32api mingw utils doc cinstall"
@


1.1
log
@Initial revision
@
text
@d60 1
a60 1
SUBDIRS="cygwin w32api mingw utils doc"
@


1.1.1.1
log
@import winsup-2000-02-17 snapshot
@
text
@@
