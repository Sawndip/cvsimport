head	1.64;
access;
symbols
	cygwin-1_7_17-release:1.63
	cygwin-64bit-branch:1.63.0.2
	cygwin-1_7_16-release:1.63
	cygwin-1_7_15-release:1.63
	cygwin-1_7_14_2-release:1.63
	cygwin-1_7_14-release:1.63
	cygwin-1_7_12-release:1.63
	cygwin-1_7_11-release:1.63
	cygwin-1_7_10-release:1.63
	cygwin-1_7_9-release:1.54
	cygwin-1_7_8-release:1.51
	cygwin-1_7_7-release:1.51
	cygwin-1_7_5-release:1.49
	cygwin-1_7_4-release:1.49
	cygwin-1_7_3-release:1.49
	cygwin-1_7_2-release:1.49
	cygwin-1_7_1-release:1.49
	cv-branch-2:1.47.0.2
	cr-0x5f1:1.38.0.4
	cv-branch:1.38.0.2
	cr-0x3b58:1.36.0.2
	cr-0x9e:1.30.0.4
	cr-0x9d:1.30.0.2
	corinna-01:1.30
	cr-0x9c:1.29.0.6
	cr-0x9b:1.29.0.4
	cr-0x99:1.29
	Z-emcb-cygwin_daemon:1.29.0.2
	w32api-2_2:1.26
	mingw-runtime-2_4:1.26
	w32api-1_5:1.22
	cygnus_cvs_20020108_pre:1.15
	Z-cygwin_daemon_merge-new_HEAD:1.14
	Z-cygwin_daemon_merge_HEAD:1.14
	cygwin_daemon:1.14.0.2;
locks; strict;
comment	@# @;
expand	@o@;


1.64
date	2012.11.07.16.52.33;	author cgf;	state dead;
branches;
next	1.63;

1.63
date	2012.01.15.21.30.47;	author keithmarshall;	state Exp;
branches;
next	1.62;

1.62
date	2012.01.15.19.11.09;	author keithmarshall;	state Exp;
branches;
next	1.61;

1.61
date	2012.01.15.15.10.08;	author keithmarshall;	state Exp;
branches;
next	1.60;

1.60
date	2012.01.15.12.39.00;	author keithmarshall;	state Exp;
branches;
next	1.59;

1.59
date	2012.01.15.12.27.13;	author keithmarshall;	state Exp;
branches;
next	1.58;

1.58
date	2012.01.15.12.20.09;	author keithmarshall;	state Exp;
branches;
next	1.57;

1.57
date	2012.01.06.22.01.15;	author keithmarshall;	state Exp;
branches;
next	1.56;

1.56
date	2011.12.12.20.02.33;	author keithmarshall;	state Exp;
branches;
next	1.55;

1.55
date	2011.12.10.17.24.25;	author keithmarshall;	state Exp;
branches;
next	1.54;

1.54
date	2011.03.26.03.47.54;	author ironhead;	state Exp;
branches;
next	1.53;

1.53
date	2011.03.12.04.33.16;	author ironhead;	state Exp;
branches;
next	1.52;

1.52
date	2011.03.05.20.55.46;	author ironhead;	state Exp;
branches;
next	1.51;

1.51
date	2010.08.27.23.36.30;	author ironhead;	state Exp;
branches;
next	1.50;

1.50
date	2010.08.27.21.11.29;	author ironhead;	state Exp;
branches;
next	1.49;

1.49
date	2009.11.21.03.46.37;	author ironhead;	state Exp;
branches;
next	1.48;

1.48
date	2009.10.29.21.53.46;	author cwilson;	state Exp;
branches;
next	1.47;

1.47
date	2008.12.06.02.25.28;	author ironhead;	state Exp;
branches;
next	1.46;

1.46
date	2008.09.07.20.49.43;	author ironhead;	state Exp;
branches;
next	1.45;

1.45
date	2008.09.07.02.06.54;	author ironhead;	state Exp;
branches;
next	1.44;

1.44
date	2007.12.28.00.32.27;	author ironhead;	state Exp;
branches;
next	1.43;

1.43
date	2007.08.03.22.22.31;	author ironhead;	state Exp;
branches;
next	1.42;

1.42
date	2007.03.26.01.35.24;	author ironhead;	state Exp;
branches;
next	1.41;

1.41
date	2006.11.21.09.36.00;	author dannysmith;	state Exp;
branches;
next	1.40;

1.40
date	2006.11.18.22.39.52;	author ironhead;	state Exp;
branches;
next	1.39;

1.39
date	2006.09.10.22.55.43;	author ironhead;	state Exp;
branches;
next	1.38;

1.38
date	2006.04.14.12.52.50;	author ironhead;	state Exp;
branches;
next	1.37;

1.37
date	2006.01.17.18.56.12;	author ironhead;	state Exp;
branches;
next	1.36;

1.36
date	2005.10.30.00.07.58;	author ironhead;	state Exp;
branches;
next	1.35;

1.35
date	2005.10.27.23.28.21;	author ironhead;	state Exp;
branches;
next	1.34;

1.34
date	2005.08.11.02.13.36;	author ironhead;	state Exp;
branches;
next	1.33;

1.33
date	2005.01.02.13.48.13;	author earnie;	state Exp;
branches;
next	1.32;

1.32
date	2004.09.05.15.27.56;	author earnie;	state Exp;
branches;
next	1.31;

1.31
date	2004.02.15.09.46.16;	author earnie;	state Exp;
branches;
next	1.30;

1.30
date	2003.09.15.12.05.40;	author earnie;	state Exp;
branches;
next	1.29;

1.29
date	2003.03.26.23.50.25;	author earnie;	state Exp;
branches;
next	1.28;

1.28
date	2003.03.11.14.44.57;	author earnie;	state Exp;
branches;
next	1.27;

1.27
date	2003.02.10.14.14.01;	author earnie;	state Exp;
branches;
next	1.26;

1.26
date	2002.11.25.21.15.50;	author earnie;	state Exp;
branches;
next	1.25;

1.25
date	2002.10.14.19.59.04;	author earnie;	state Exp;
branches;
next	1.24;

1.24
date	2002.08.28.22.26.46;	author earnie;	state Exp;
branches;
next	1.23;

1.23
date	2002.06.14.13.46.09;	author earnie;	state Exp;
branches;
next	1.22;

1.22
date	2002.06.14.12.36.26;	author earnie;	state Exp;
branches;
next	1.21;

1.21
date	2002.05.28.13.24.25;	author earnie;	state Exp;
branches;
next	1.20;

1.20
date	2002.05.28.13.20.26;	author earnie;	state Exp;
branches;
next	1.19;

1.19
date	2002.05.21.16.50.13;	author earnie;	state Exp;
branches;
next	1.18;

1.18
date	2002.04.22.23.19.35;	author earnie;	state Exp;
branches;
next	1.17;

1.17
date	2002.04.09.23.49.10;	author earnie;	state Exp;
branches;
next	1.16;

1.16
date	2002.04.09.22.06.54;	author earnie;	state Exp;
branches;
next	1.15;

1.15
date	2001.12.07.21.29.30;	author earnie;	state Exp;
branches;
next	1.14;

1.14
date	2001.09.17.16.15.53;	author earnie;	state Exp;
branches;
next	1.13;

1.13
date	2001.09.12.20.24.06;	author earnie;	state Exp;
branches;
next	1.12;

1.12
date	2001.09.12.14.48.06;	author earnie;	state Exp;
branches;
next	1.11;

1.11
date	2001.06.06.19.02.59;	author earnie;	state Exp;
branches;
next	1.10;

1.10
date	2001.05.22.20.51.47;	author earnie;	state Exp;
branches;
next	1.9;

1.9
date	2001.03.01.20.32.34;	author earnie;	state Exp;
branches;
next	1.8;

1.8
date	2001.02.12.19.45.33;	author earnie;	state Exp;
branches;
next	1.7;

1.7
date	2001.01.31.22.41.21;	author earnie;	state Exp;
branches;
next	1.6;

1.6
date	2000.11.06.16.17.16;	author earnie;	state Exp;
branches;
next	1.5;

1.5
date	2000.11.01.00.37.23;	author earnie;	state Exp;
branches;
next	1.4;

1.4
date	2000.10.20.04.39.21;	author cgf;	state Exp;
branches;
next	1.3;

1.3
date	2000.10.19.20.56.51;	author earnie;	state Exp;
branches;
next	1.2;

1.2
date	2000.10.19.20.56.50;	author earnie;	state Exp;
branches;
next	1.1;

1.1
date	2000.02.17.19.38.31;	author cgf;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.02.17.19.38.31;	author cgf;	state Exp;
branches;
next	;


desc
@@


1.64
log
@* mingw: Delete obsolete directory.
* w32api: Ditto.
@
text
@# @@configure_input@@
#
#
# Makefile.in
#
# This file is part of a free library for the Win32 API.

PACKAGE = @@PACKAGE_TARNAME@@
VERSION = @@PACKAGE_VERSION@@
RELEASE = @@PACKAGE_RELEASE@@

# This library is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

SHELL = @@SHELL@@

srcdir = @@srcdir@@
VPATH = @@srcdir@@

target_alias = @@target@@
conf_prefix = @@prefix@@
# FIXME: this needs an appropriate AC_SUBST
host_os = mingw32

TAR = tar
TARFLAGS = --lzma -
TARFILEEXT = .tar.lzma

SUBDIRS = lib

DISTFILES = \
  ChangeLog aclocal.m4 configure.ac Makefile.in Makefile.comm.in configure \
  config.guess config.sub install-sh README.w32api TODO CONTRIBUTIONS

all: $(SUBDIRS)

%-subdirs:
	for dir in $(SUBDIRS); do \
	  $(MAKE) -C $$dir $*; \
	done

$(SUBDIRS):
	$(MAKE) -C $@@

check test:
	$(MAKE) -C lib $@@

install uninstall:
	for dir in $(SUBDIRS); do \
	  (cd $$dir; $(MAKE) $@@); \
	done

ifdef SNAPDATE
    distdir = $(PACKAGE)-$(VERSION)-$(SNAPDATE)-$(host_os)
else
   CYGRELEASE = $(RELEASE)
   ifneq (,$(findstring cygwin, $(target_alias)))
      distdir=$(PACKAGE)-$(VERSION)-$(CYGRELEASE)
   else
      distdir=$(PACKAGE)-$(VERSION)-$(CYGRELEASE)-$(host_os)
   endif
endif

ifneq (,$(findstring mingw, $(target_alias)))
    dist_prefix=
else
    dist_prefix=/$(conf_prefix)
endif

ifneq (,$(findstring cygwin, $(target_alias)))
  TARFLAGS = j
  TARFILEEXT = .tar.bz2
endif

dist: srcdist bindist

srcdist:
	rm -rf $(distdir)
	mkdir $(distdir)
	chmod 755 $(distdir)
	for file in $(DISTFILES); do \
		cp -p $(srcdir)/$$file $(distdir)/$$file ; \
	done
	for dir in $(SUBDIRS); do \
	  (cd $$dir; $(MAKE) distdir=../$(distdir) dist); \
	done
	rm -f $(distdir)-src$(TARFILEEXT)
	$(TAR) $(TARFLAGS)cf $(distdir)-src$(TARFILEEXT) $(distdir)

ifneq (,$(findstring cygwin, $(target_alias)))
bindist:
	rm -rf $(distdir)
	mkdir $(distdir)
	chmod 755 $(distdir)
	$(MAKE) install prefix=`pwd`/$(distdir)$(dist_prefix) exec_prefix=`pwd`/$(distdir)$(dist_prefix)
	rm -f $(distdir)$(TARFILEEXT)
	cd $(distdir); $(TAR) $(TARFLAGS)cf ../$(distdir)$(TARFILEEXT) *
else
bindist:
	rm -rf $(distdir)
	mkdir $(distdir)
	chmod 755 $(distdir)
	$(MAKE) install prefix=`pwd`/$(distdir)$(dist_prefix) exec_prefix=`pwd`/$(distdir)$(dist_prefix)
	rm -f $(distdir)$(TARFILEEXT)
	cd $(distdir); $(TAR) $(TARFLAGS)cf ../$(distdir)-dev$(TARFILEEXT) *
endif

snapshot:
	make dist SNAPDATE=$(shell date '+%Y%m%d')

# Makefile must be rebuilt if Makefile.in is modified,
# or if config.status is updated.
#
Makefile: Makefile.in config.status
	$(SHELL) config.status

# config.status itself must be updated if configure is modified;
# this requires a distinct invocation of itself.
#
config.status: configure
	$(SHELL) config.status --recheck

mostlyclean-top:
	rm -f *~

clean-top: mostlyclean-top
	rm -rf $(distdir)
	rm -f $(distdir)*$(TARFILEEXT)
maintainer-clean-top:

mostlyclean: mostlyclean-top mostlyclean-subdirs

clean: mostlyclean-top clean-subdirs

distclean: clean-top
	$(MAKE) -C lib/directx distclean
	$(MAKE) -C lib/ddk distclean
	$(MAKE) -C lib distclean
	rm -f Makefile config.status config.log config.cache TAGS *~

maintainer-clean: maintainer-clean-subdirs

.PHONY: lib check test 

# Makefile.in: end of file
@


1.63
log
@Add 'check' as GCS conforming alias for make's 'test' goal.
@
text
@@


1.62
log
@Add smart identification of auxiliary header file paths.
@
text
@d46 2
a47 2
test:
	$(MAKE) -C lib test
d144 1
a144 1
.PHONY: lib test 
@


1.61
log
@Update and correct makefile rebuilding rules.
@
text
@d33 1
a33 1
  ChangeLog configure.ac Makefile.in Makefile.comm.in configure \
@


1.60
log
@Improve self-documentation of 'for' loop commands.
@
text
@d112 4
a115 1
Makefile: Makefile.in config.status configure
d118 6
@


1.59
log
@Generalise 'all' rule to arbitrary prerequisite sub-directories.
@
text
@d39 2
a40 2
	for i in $(SUBDIRS); do \
	  $(MAKE) -C $$i $*; \
d50 2
a51 2
	for i in $(SUBDIRS); do \
		(cd $$i; $(MAKE) $@@); \
d82 2
a83 2
	for i in $(DISTFILES); do \
		cp -p $(srcdir)/$$i $(distdir)/$$i ; \
d85 2
a86 2
	for i in $(SUBDIRS); do \
		(cd $$i; $(MAKE) distdir=../$(distdir) dist); \
@


1.58
log
@Derive package release index from configure time specification.
@
text
@d36 1
a36 1
all: lib
d43 1
a43 1
lib:
@


1.57
log
@Ensure Makefile.comm source is included in distribution tarballs.
@
text
@d7 5
a11 1
# 
a15 2
# start config section

a20 2
build_alias = @@build@@
host_alias = @@host@@
a21 1
prefix = @@prefix@@
a25 22
program_transform_name = @@program_transform_name@@
exec_prefix = @@exec_prefix@@
bindir = @@bindir@@
libdir = @@libdir@@
tooldir = $(exec_prefix)/$(target_alias)
datadir = @@datadir@@
infodir = @@infodir@@
includedir = @@includedir@@

CC = @@CC@@
CC_FOR_TARGET = $(CC)
CFLAGS = @@CFLAGS@@

DLLTOOL = @@DLLTOOL@@
AS = @@AS@@
AS_FOR_TARGET = $(AS_FOR_TARGET)
WINDRES = @@WINDRES@@

RANLIB = @@RANLIB@@
AR = @@AR@@
LD = @@LD@@

a29 2
# end config section

a31 4
PACKAGE = w32api
VERSION = 3.17
CYGRELEASE = 2

d57 1
d117 1
d124 1
d126 1
d132 1
d136 2
@


1.56
log
@Correct makefile error; remove unnecessary FLAGS_TO_PASS macro
@
text
@d62 2
a63 2
  Makefile.in configure.ac configure config.guess config.sub \
  install-sh README.w32api ChangeLog TODO CONTRIBUTIONS
@


1.55
log
@Build system clean-up (phase 1)
@
text
@d1 1
a2 1
#	Makefile.in
d4 3
a6 1
#	This file is part of a free library for the Win32 API.
d8 3
a10 3
#	This library is distributed in the hope that it will be useful,
#	but WITHOUT ANY WARRANTY; without even the implied warranty of
#	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
a52 15
FLAGS_TO_PASS = \
	AS="$(AS)" \
	CC="$(CC)" \
	CPPFLAGS="$(CPPFLAGS)" \
	CFLAGS="$(CFLAGS)" \
	CXXFLAGS="$(CXXFLAGS)" \
	AR="$(AR)" \
	RANLIB="$(RANLIB)" \
	LD="$(LD)" \
	DLLTOOL="$(DLLTOOL)" \
	TAR="$(TAR)" \
	TARFLAGS="$(TARFLAGS)" \
	TARFILEEXT="$(TARFILEEXT)" \
	WINDRES="$(WINDRES)"

d69 1
a69 1
	  $(MAKE) $(FLAGS_TO_PASS) -C $$i $*; \
d73 1
a73 1
	$(MAKE) $(FLAGS_TO_PASS) -C $@@
d76 1
a76 1
	$(MAKE) -C lib test $(FLAGS_TO_PASS)
d80 1
a80 1
		(cd $$i; $(MAKE) $@@ $(FLAGS_TO_PASS)); \
@


1.54
log
@2011-03-25  Chris Sutcliffe  <ir0nh34d@@users.sf.net>

        * Makefile.in: Increment CYGRELEASE to 2.
@
text
@d74 3
a76 2
DIST_FILES = Makefile.in configure.in configure config.guess config.sub \
aclocal.m4 install-sh README.w32api ChangeLog TODO CONTRIBUTIONS
d123 1
a123 1
	for i in $(DIST_FILES); do \
@


1.53
log
@2011-03-11  Chris Sutcliffe  <ir0nh34d@@users.sf.net>

        * include/w32api.h: Increment version to 3.17.
        * Makefile.in: Ditto.
@
text
@d72 1
a72 1
CYGRELEASE = 1
@


1.52
log
@2011-03-05  Chris Sutcliffe  <ir0nh34d@@users.sf.net>

        * include/w32api.h: Increment version to 3.16.
        * Makefile.in: Ditto.
@
text
@d71 1
a71 1
VERSION = 3.16
@


1.51
log
@2010-08-26  Chris Sutcliffe  <ir0nh34d@@users.sf.net>

        * include/w32api.h: Increment version to 3.15.
        * Makefile.in: Ditto.
@
text
@d71 1
a71 1
VERSION = 3.15
@


1.50
log
@2010-08-26  Chris Sutcliffe  <ir0nh34d@@users.sourceforge.net>

        * Makefile.in: Update naming convention and compression format (lzma),
        leaving existing naming convention and compression format as is for Cygwin.
@
text
@d71 1
a71 1
VERSION = 3.14
@


1.49
log
@2009-20-10  Chris Sutcliffe  <ir0nh34d@@users.sf.net>

        * include/w32api.h: Increment version to 3.14.
        * Makefile.in: Ditto.
@
text
@d48 2
a49 2
TARFLAGS = z
TARFILEEXT = .tar.gz
d101 1
a101 1
      distdir=$(PACKAGE)-$(VERSION)-$(host_os)
@


1.48
log
@Honor DESTDIR for winsup/mingw and winsup/w32api
@
text
@d71 1
a71 1
VERSION = 3.13
@


1.47
log
@2008-12-05  Chris Sutcliffe  <ir0nh34d@@users.sf.net>

        * include/w32api.h: Increment version to 3.13.
        * Makefile.in: Ditto.
@
text
@d92 1
a92 1
		(cd $$i; $(MAKE) $@@); \
@


1.46
log
@2008-09-07  Chris Sutcliffe  <ir0nh34d@@users.sf.net>

        * include/w32api.h: Increment version to 3.12.
        * Makefile.in: Ditto.
@
text
@d71 1
a71 1
VERSION = 3.12
@


1.45
log
@2008-09-06  Chris Sutcliffe  <ir0nh34d@@users.sourceforge.net>

        * Makefile.in: Adjust to new naming standard for MinGW while maintaining old
        naming standard for Cygwin.
@
text
@d71 1
a71 1
VERSION = 3.11
@


1.44
log
@2007-12-27  Chris Sutcliffe  <ir0nh34d@@users.sf.net>

        * include/w32api.h: Increment version to 3.11.
        * Makefile.in: Ditto.
@
text
@d22 2
d96 1
a96 1
    distdir = $(PACKAGE)-$(VERSION)-$(SNAPDATE)
d101 1
a101 1
      distdir=$(PACKAGE)-$(VERSION)
d131 1
d139 9
@


1.43
log
@2007-08-03  Chris Sutcliffe  <ir0nh34d@@users.sf.net>

        * include/w32api.h: Increment version to 3.10.
        * Makefile.in: Ditto.
@
text
@d69 1
a69 1
VERSION = 3.10
@


1.42
log
@2007-03-25  Chris Sutcliffe  <ir0nh34d@@users.sf.net>

        * include/w32api.h: Increment version to 3.9.
        * Makefile.in: Ditto.
@
text
@d69 1
a69 1
VERSION = 3.9
@


1.41
log
@	* Makefile.in: Add aclocal.m4 to source release.
@
text
@d69 1
a69 1
VERSION = 3.8
@


1.40
log
@2006-11-18  Chris Sutcliffe  <ir0nh34d@@users.sf.net>

        * include/w32api.h: Increment version to 3.8.
        * Makefile.in: Ditto.
@
text
@d73 1
a73 1
install-sh README.w32api ChangeLog TODO CONTRIBUTIONS
@


1.39
log
@2006-09-10  Chris Sutcliffe  <ir0nh34d@@users.sourceforge.net>

        * Makefile.in: Remove files from lib directory with distclean target
@
text
@d69 1
a69 1
VERSION = 3.7
@


1.38
log
@2006-04-14  Chris Sutcliffe  <ir0nh34d@@users.sf.net>

        * include/w32api.h: Increment version to 3.7.
        * Makefile.in: Ditto.
@
text
@d153 3
a156 1
	$(MAKE) -C lib distclean
@


1.37
log
@2006-01-17  Chris Sutcliffe  <ir0nh34d@@users.sf.net>

        * include/w32api.h: Increment version to 3.6.
        * Makefile.in: Ditto.
@
text
@d69 1
a69 1
VERSION = 3.6
@


1.36
log
@2005-10-29      Chris Sutcliffe <ir0nh34d@@users.sf.net>

        * include/objbase.h: Fix typo.
        * include/w32api.h: Increment version to 3.5.
        * Makefile.in: Ditto.
@
text
@d69 1
a69 1
VERSION = 3.5
@


1.35
log
@2005-10-27  Chris Sutcliffe  <ir0nh34d@@users.sf.net>

	* include/w32api.h: Increment version to 3.4.
	* Makefile.in: Ditto.
@
text
@d69 1
a69 1
VERSION = 3.4
@


1.34
log
@        * include/w32api.h: Increment version to 3.3.
        * Makefile.in: Ditto.
@
text
@d69 1
a69 1
VERSION = 3.3
@


1.33
log
@
	* include/w32api.h: Increment version.
	* Makefile.in: Ditto.
@
text
@d69 1
a69 1
VERSION = 3.2
@


1.32
log
@
	* include/w32api.h: Increment version to 3.1.
	* Makefile.in: Ditto.
@
text
@d69 1
a69 1
VERSION = 3.1
@


1.31
log
@
	* include/w32api.h: Increment version to 3.0.
	* Makefile.in: Ditto.
	* README.win32api: Modify license to Public Domain per agreement as
	found in the mingw-dvlpr list archive.
@
text
@d69 1
a69 1
VERSION = 3.0
@


1.30
log
@
	* include/w32api.h: Increment version to 2.5.
	* Makefile.in: Ditto.
@
text
@d69 1
a69 1
VERSION = 2.5
@


1.29
log
@
	* include/w32api.h: Increment version to 2.4.
	* Makefile.in: Ditto.
@
text
@d69 1
a69 1
VERSION = 2.4
@


1.28
log
@
	* include/winsvc.h (SERVICE_NO_CHANGE): Use hex constant to avoid
	warnings.
	Thanks to Fabricio D. Rossi <gurusoda@@users.sf.net>.
	* Makefile.in (bindist): Correct process.
	* lib/Makefile.in (install): Ditto.
	Thanks to Jeff Bonnggren <jbon@@users.sf.net>.
@
text
@d69 1
a69 1
VERSION = 2.3
@


1.27
log
@
	* include/w32api.h: Increment version to 2.3.
	* Makefile.in: Ditto.
@
text
@d133 1
a133 1
	$(MAKE) install prefix=../$(distdir)$(dist_prefix) exec_prefix=../$(distdir)$(dist_prefix)
@


1.26
log
@
	* include/w32api.h: Increment to version 2.2
	* Makefile.in: Ditto.
@
text
@d69 1
a69 1
VERSION = 2.2
@


1.25
log
@
	* Makefile.in: Add components for lib/ddk.  Adjust for autoconf-2.53.
	* configure.in: Ditto.
	* lib/Makefile.in: Ditto.
	* lib/ddk/Makefile.in: Correct installation procedure.  Adjust for
	autoconf-2.53.
	* configure: Regenerate.
@
text
@d69 1
a69 1
VERSION = 2.1
@


1.24
log
@
	* include/w32api.h: Increment version to 2.1.
	* Makefile.in: Ditto.
@
text
@d17 3
a19 3
build_alias = @@build_alias@@
host_alias = @@host_alias@@
target_alias = @@target_alias@@
@


1.23
log
@
	* include/w32api.h: Change to version 2.0 to reflect the change
	in the license.
	* README: Renamed.
	* README.w32api: Renamed from README.  Modified license to remove
	the restriction of notifying the author based on the fact that the
	author is unreachable at the notified address.
	* Makefile.in (VERSION): Change to 2.0.
@
text
@d69 1
a69 1
VERSION = 2.0
@


1.22
log
@
	* Makefile.in (bindist): Correct the MinGW distribution.
@
text
@d69 1
a69 1
VERSION = 1.5
d73 1
a73 1
install-sh README ChangeLog TODO CONTRIBUTIONS
@


1.21
log
@
	* include/w32api.h: Increment version to 1.5
	* Makefile.in: Ditto.
@
text
@d103 6
d133 1
a133 1
	$(MAKE) install prefix=../$(distdir)/$(conf_prefix) exec_prefix=../$(distdir)/$(conf_prefix)
@


1.20
log
@Merging MinGW changes
@
text
@d69 2
a70 2
VERSION = 1.4
CYGRELEASE = 2
@


1.19
log
@
	* Makefile.in: Increment VERSION to 1.4.
	(conf_prefix): New variable.
	(bindist): Modify target to use $(conf_prefix).
@
text
@d70 1
a70 1
CYGRELEASE = 1
@


1.18
log
@
2002-04-22  José Fonseca  <jrfonseca@@users.sf.net>

	* include/GL/gl.h: New file.
	* include/GL/glext.h: Ditto.
	* include/GL/glu.h: Ditto.
@
text
@d21 1
d69 1
a69 1
VERSION = 1.3
d127 1
a127 1
	$(MAKE) install prefix=../$(distdir) exec_prefix=../$(distdir)
@


1.17
log
@
	* include/w32api.h: Increment version.
	* Makefile.in: Ditto.
@
text
@d68 1
a68 1
VERSION = 1.4
@


1.16
log
@
	* Makefile.in (bindist): Use * instead of . for file list for tar
	command.
@
text
@d68 1
a68 1
VERSION = 1.3
@


1.15
log
@	* Makefile.in: Increment VERSION.
	* include/w32api.h: Ditto.
@
text
@d128 1
a128 1
	cd $(distdir); $(TAR) $(TARFLAGS)cf ../$(distdir)$(TARFILEEXT) .
@


1.14
log
@
2001-09-17  Earnie Boyd  <earnie@@sf.net>

	* lib/Makefile.in (inst_includedir): Add FIXME and remove the usr/
	portion of the directory from the install.
	(inst_libdir): Ditto.
	* Makefile.in (VERSION): Increment.
	* include/w32api.h: Increment version.
@
text
@d68 1
a68 1
VERSION = 1.2
@


1.13
log
@
2001-09-12  Earnie Boyd  <earnie@@SF.net>

	* Makefile.in (TARFLAGS): New variable.
	(TARFILEEXT): Ditto.
@
text
@d68 1
a68 1
VERSION = 1.1
@


1.12
log
@
2001-09-12  Earnie Boyd  <earnie@@SF.net>

	* Makefile.in: Increment version.
	* include/w32api.h: Ditto.
	* lib/Makefile.in: Add usr/ to install directory special for cygwin.
@
text
@d45 2
d58 3
d102 5
d119 2
a120 2
	rm -f $(distdir)-src.tar.gz
	$(TAR) czf $(distdir)-src.tar.gz $(distdir)
d127 2
a128 2
	rm -f $(distdir).tar.gz
	cd $(distdir); $(TAR) czf ../$(distdir).tar.gz .
d140 1
a140 1
	rm -f $(distdir)*.tar.gz
@


1.11
log
@
	* Makefile.in (bindist): Reassign value of exec_prefix on make command
	line.
@
text
@d63 2
a64 1
VERSION = 1.0
d90 5
a94 1
    distdir = $(PACKAGE)-$(VERSION)
@


1.10
log
@
	* include/w32api.h: Update version.
	* Makefile.in: Ditto.
@
text
@d111 1
a111 1
	$(MAKE) install prefix=../$(distdir)
@


1.9
log
@
2001-03-01  Earnie Boyd  <earnie@@users.sourceforge.net

	* Makefile.in: (snapshot): Add target.
	* lib/Makefile.in: (install-headers): Use installdir variable.
	(installdir): Set value based on target-alias.
@
text
@d63 1
a63 1
VERSION = 0.5
@


1.8
log
@
	* lib/Makefile.in: (host_alias): Add variable.
	(host_build): Ditto:
	(xinstall): Removed
	(xinstall-libraries): Ditto.
	(xinstall-headers): Ditto.
	(xuninstall): Ditto.
	(xuninstall-libraries): Ditto.
	(xuninstall-headers): Ditto.
	* Makefile.in: (host_alias): Add variable.
	(build_alias): Ditto.
@
text
@d86 5
a90 1
distdir = $(PACKAGE)-$(VERSION)
d114 3
@


1.7
log
@
	* Makefile.in: Increment VERSION to 0.5
	* include/winnt.h: Change TEXT to _TEXT throughout.
	(SID_RELEASE): Define.
	Thanks to: Eric PAIRE <eric.paire@@ri.silicomp.com>
@
text
@d17 2
@


1.6
log
@
	* Makefile.in: increment VERSION.
	(dist:) Rename to srcdist.  Create new dist target to call
	srcdist and bindist targets.
	(srcdist:) New target.
	(clean-top:) add call to mostlyclean-top and add rm of distribution
	tarballs.
	* lib/Makefile.in: (uninstall:) modify to remove files from the
	new w32api subdirectory and to remove w32api subdirectory.
	(xuninstall:) Ditto.
	TODO: Add a task to redo the clean targets of Makefile.in
@
text
@d61 1
a61 1
VERSION = 0.4
@


1.5
log
@
	* include/basetyps.h: add comment for GUID_DEFINED
	* include/lm.h: add includes for lmerr.h and lmserver.h
	* include/lmcons.h: add W2K typedefs LMSTR, LMCSTR
	* include/lmerr.h:  add error codes
	* include/lmserver.h: replace LPTSTR with LPWSTR,
	LPTCSTR with LPWCSTR in structures and prototypes
	* include/lmshare.h: ditto
	* include/lmuse.h: ditto
	* include/lmstats.h: ditto
	* include/oleauto.h: add function prototype SystemTimeToVariantTime
	* include/winbase.h: change first argument of CommConfigDialog to const
	* include/windowsx.h: add macros  defining FAR versions of
	mem and string functions for porting from Win16 code
	* include/winioctl.h:  added IOCTL_STORAGE defines
	* include/winnetwk.h:  added WNNC_NET flags
	* include/winnt.h: add include of <basetsd.h>;
	add structs; add pointer typedefs  for TOKEN structs
	* include/winsock.h: add guard around BSD-ish typedefs
	* include/wtypes.h: new VARENUM enums, new WIN32/WIN64 compat. macros
	* include/basetsd.h: new file
	* include/raserror.h: ditto
	* include/rassapi.h: ditto
	* include/ras.h: ditto
	comment from Earnie: replaced original ras.h contribution with Danny's
	contribution as it is more complete.
	* include/rpcndr.h: add default definition for __RPCNDR_H_VERSION__
@
text
@d61 1
a61 1
VERSION = 0.3
d86 3
a88 1
dist:
d114 1
a114 1
clean-top:
d116 1
a122 2
	rm -f include/*~
	rm -f $(distdir)*.tar.gz
d126 1
a126 1
.PHONY: lib test
@


1.4
log
@Makefile.in shuffle.
@
text
@d64 1
a64 1
install-sh README ChangeLog TODO
@


1.3
log
@
        * Makefile.in: increment VERSION.  Change tar file name for dist and
	bindist targets to be more standard.
	* config.guess: Update with the currently published file.
	* config.sub: ditto.
	* configure.in: Use value of build_alias instead of testing for
	directory names to set BUILDENV.
	* configure: ditto.
	* lib/Makefile.in: Change the name of the targets install,
	install-headers and install-libraries to xinstall, xinstall-headers
	and xinstall-libraries for system target specified installation.
	Recreate targets install, install-headers and install-libraries for
	exec-prefix specified installation.  Ditto for the uninstall targets of
	the same name.
@
text
@d7 1
a7 1
#	but WITHOUT ANY WARANTY; without even the implied warranty of
a9 1

a28 5
INSTALL = @@INSTALL@@
INSTALL_DATA = @@INSTALL_DATA@@
INSTALL_PROGRAM = @@INSTALL_PROGRAM@@
mkinstalldirs = mkdir -p

d31 1
a33 1
DLLTOOL_FLAGS = --as=$(AS) -k
a37 20
# Depending on if we build as part of winsup or mingw we need to
# add additional include paths in order to get the correct headers
# from the C library.
BUILDENV = @@BUILDENV@@

ifeq ($(BUILDENV), cygwin)
# winsup/include
# winsup/../newlib/libc/include
# winsup/../newlib/libc/sys/cygwin
EXTRA_INCLUDES = -I$(srcdir)/../../include -I$(srcdir)/../../../newlib/libc/include -I$(srcdir)/../../../newlib/libc/sys/cygwin
endif
ifeq ($(BUILDENV), mingw)
EXTRA_INCLUDES = -I$(srcdir)/../../mingw/include
endif

INCLUDES = -I$(srcdir)/../include $(EXTRA_INCLUDES)

CFLAGS = @@CFLAGS@@
ALL_CFLAGS = $(CFLAGS) $(INCLUDES)

d42 1
a42 1
# end config section
d44 11
a54 1
# headers
d56 1
a56 1
HEADERS = $(notdir $(wildcard $(srcdir)/../include/*.h))
d58 1
a58 1
# libraries
d60 2
a61 7
DEF_FILES = $(notdir $(wildcard $(srcdir)/*.def))
IMPLIBS = $(addprefix lib,$(subst .def,.a,$(DEF_FILES)))
EXTRA_LIBS=libuuid.a libscrnsave.a libscrnsavw.a libdxguid.a liblargeint.a
LIBS = $(IMPLIBS) $(EXTRA_LIBS)
EXTRA_OBJS=uuid.o shell32.o dxguid.o scrnsave.o scrnsavw.o largeint.o $(UUID_OBJS) dinput.o
SOURCES = scrnsave.c shell32.c uuid.c largeint.c dinput.c dxguid.c \
res.rc test.c
d63 2
a64 1
DISTFILES = Makefile.in $(DEF_FILES) $(SOURCES)
d66 1
a66 2
# targets
all: $(LIBS) $(EXTRA_OBJS)
d68 3
a70 9
TEST_OPTIONS = $(ALL_CFLAGS) -Wall -c $(srcdir)/test.c -o test.o
.PHONY: test
test:
	@@echo "Testing w32api..."
	@@for lang in c c++ objective-c ; do \
		echo "$$lang..."; \
		$(CC) -x$$lang $(TEST_OPTIONS) ; \
		echo "$$lang UNICODE..."; \
		$(CC) -x$$lang -DUNICODE $(TEST_OPTIONS) ; \
a71 5
	@@echo "windres..."
	@@$(WINDRES) --include-dir $(INCDIR) -i $(srcdir)/res.rc -o test.o
	@@echo "windres UNICODE..."
	@@$(WINDRES) --define UNICODE --include-dir $(INCDIR) -i $(srcdir)/res.rc -o test.o
	@@rm -f test.o
d73 2
a74 2
scrnsavw.o: scrnsave.c
	$(CC) -c $(ALL_CFLAGS) -DUNICODE -o $@@ $<
d76 2
a77 64
# make rules

.SUFFIXES: .c .o .def .a

.c.o:
	$(CC) -c $(ALL_CFLAGS) -o $@@ $<

lib%.a : %.def %.o
	$(DLLTOOL) $(DLLTOOL_FLAGS) --output-lib $@@ --def $(srcdir)/$*.def
	$(AR) r $@@ $*.o
	$(RANLIB) $@@

lib%.a: %.def
	$(DLLTOOL) $(DLLTOOL_FLAGS) --output-lib $@@ --def $<

lib%.a: %.o
	$(AR) rc $@@ $*.o
	$(RANLIB) $@@

# install headers and libraries in a target specified directory.
xinstall: xinstall-libraries xinstall-headers

xinstall-libraries: all
	$(mkinstalldirs) $(tooldir)/lib
	for i in $(LIBS); do \
		$(INSTALL_DATA) $$i $(tooldir)/lib/$$i ; \
	done

xinstall-headers:
	$(mkinstalldirs) $(tooldir)/include
	for i in $(HEADERS); do \
		$(INSTALL_DATA) $(srcdir)/../include/$$i $(tooldir)/include/$$i ; \
	done

# uninstall headers and libraries from a target specified directory
xuninstall: xuninstall-libraries xuninstall-headers

xuninstall-libraries:
	@@for i in $(LIBS); do \
		rm -f $(tooldir)/lib/$$i ; \
	done

xuninstall-headers:
	@@for i in $(HEADERS); do \
		rm -f $(tooldir)/include/$$i ; \
	done

# install headers and libraries 
install: install-libraries install-headers

install-libraries: all
	$(mkinstalldirs) $(exec_prefix)/lib
	for i in $(LIBS); do \
		$(INSTALL_DATA) $$i $(exec_prefix)/lib/$$i ; \
	done

install-headers:
	$(mkinstalldirs) $(exec_prefix)/include
	for i in $(HEADERS); do \
		$(INSTALL_DATA) $(srcdir)/../include/$$i $(exec_prefix)/include/$$i ; \
	done

# uninstall headers and libraries 
uninstall: uninstall-libraries uninstall-headers
d79 3
a81 3
uninstall-libraries:
	@@for i in $(LIBS); do \
		rm -f $(exec_prefix)/lib/$$i ; \
d84 1
a84 4
uninstall-headers:
	@@for i in $(HEADERS); do \
		rm -f $(exec_prefix)/include/$$i ; \
	done
d87 37
a123 24
	mkdir $(distdir)/include
	chmod 755 $(distdir)/include
	@@for i in $(HEADERS); do \
		cp -p $(srcdir)/../include/$$i $(distdir)/include/$$i ; \
	done
	mkdir $(distdir)/lib
	chmod 755 $(distdir)/lib
	@@for i in $(DISTFILES); do \
		cp -p $(srcdir)/$$i $(distdir)/lib/$$i ; \
	done

Makefile: Makefile.in ../config.status ../configure
	cd ..; $(SHELL) config.status

# clean

mostlyclean:
	rm -f *~ *.o *.s

clean:
	rm -f *.o *.a *.s *~

distclean: clean
	rm -f config.cache config.status config.log Makefile
d125 1
a125 1
maintainer-clean: distclean
@


1.2
log
@
        * Makefile.in: increment VERSION.  Change tar file name for dist and
	bindist targets to be more standard.
	* config.guess: Update with the currently published file.
	* config.sub: ditto.
	* configure.in: Use value of build_alias instead of testing for
	directory names to set BUILDENV.
	* configure: ditto.
	* lib/Makefile.in: Change the name of the targets install,
	install-headers and install-libraries to xinstall, xinstall-headers
	and xinstall-libraries for system target specified installation.
	Recreate targets install, install-headers and install-libraries for
	exec-prefix specified installation.  Ditto for the uninstall targets of
	the same name.
@
text
@d7 1
a7 1
#	but WITHOUT ANY WARRANTY; without even the implied warranty of
d10 1
d30 5
a36 1
CFLAGS = @@CFLAGS@@
d39 1
d44 20
d68 43
a110 1
TAR = tar
d112 2
a113 11
FLAGS_TO_PASS = \
	AS="$(AS)" \
	CC="$(CC)" \
	CPPFLAGS="$(CPPFLAGS)" \
	CFLAGS="$(CFLAGS)" \
	CXXFLAGS="$(CXXFLAGS)" \
	AR="$(AR)" \
	RANLIB="$(RANLIB)" \
	LD="$(LD)" \
	DLLTOOL="$(DLLTOOL)" \
	WINDRES="$(WINDRES)"
d115 20
a134 1
# end config section
d136 5
a140 1
SUBDIRS = lib
d142 2
a143 2
PACKAGE = w32api
VERSION = 0.3
d145 9
a153 2
DIST_FILES = Makefile.in configure.in configure config.guess config.sub \
install-sh README ChangeLog TODO
d155 2
a156 1
all: lib
d158 4
a161 3
%-subdirs:
	for i in $(SUBDIRS); do \
	  $(MAKE) $(FLAGS_TO_PASS) -C $$i $*; \
d164 5
a168 2
lib:
	$(MAKE) $(FLAGS_TO_PASS) -C $@@
d170 2
a171 2
test:
	$(MAKE) -C lib test $(FLAGS_TO_PASS)
d173 3
a175 3
install uninstall:
	for i in $(SUBDIRS); do \
		(cd $$i; $(MAKE) $@@); \
d178 4
a181 1
distdir = $(PACKAGE)-$(VERSION)
d184 24
a207 37
	rm -rf $(distdir)
	mkdir $(distdir)
	chmod 755 $(distdir)
	for i in $(DIST_FILES); do \
		cp -p $(srcdir)/$$i $(distdir)/$$i ; \
	done
	for i in $(SUBDIRS); do \
		(cd $$i; $(MAKE) distdir=../$(distdir) dist); \
	done
	rm -f $(distdir)-src.tar.gz
	$(TAR) czf $(distdir)-src.tar.gz $(distdir)

bindist:
	rm -rf $(distdir)
	mkdir $(distdir)
	chmod 755 $(distdir)
	$(MAKE) install prefix=../$(distdir)
	rm -f $(distdir).tar.gz
	cd $(distdir); $(TAR) czf ../$(distdir).tar.gz .

Makefile: Makefile.in config.status configure
	$(SHELL) config.status

mostlyclean-top:
	rm -f *~
clean-top:
	rm -rf $(distdir)
maintainer-clean-top:

mostlyclean: mostlyclean-top mostlyclean-subdirs
clean: mostlyclean-top clean-subdirs
distclean: clean-top
	rm -f Makefile config.status config.log config.cache TAGS *~
	rm -f include/*~
	rm -f $(distdir)*.tar.gz
	$(MAKE) -C lib distclean
maintainer-clean: maintainer-clean-subdirs
d209 1
a209 1
.PHONY: lib test
@


1.1
log
@Initial revision
@
text
@d61 1
a61 1
VERSION = 0.2
d96 2
a97 2
	rm -f $(distdir).tar.gz
	$(TAR) czf $(distdir).tar.gz $(distdir)
d104 2
a105 1
	cd $(distdir); $(TAR) czf ../$(distdir)b.tar.gz .
@


1.1.1.1
log
@import winsup-2000-02-17 snapshot
@
text
@@
