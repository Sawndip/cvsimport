head	1.62;
access;
symbols
	cygwin-1_7_17-release:1.61
	cygwin-64bit-branch:1.61.0.2
	cygwin-1_7_16-release:1.60
	cygwin-1_7_15-release:1.60
	cygwin-1_7_14_2-release:1.59
	cygwin-1_7_14-release:1.59
	cygwin-1_7_12-release:1.59
	cygwin-1_7_11-release:1.59
	cygwin-1_7_10-release:1.59
	cygwin-1_7_9-release:1.49
	cygwin-1_7_8-release:1.48
	cygwin-1_7_7-release:1.48
	cygwin-1_7_5-release:1.47
	cygwin-1_7_4-release:1.47
	cygwin-1_7_3-release:1.47
	cygwin-1_7_2-release:1.47
	cygwin-1_7_1-release:1.47
	cv-branch-2:1.46.0.2
	cr-0x5f1:1.41.0.2
	cv-branch:1.40.0.2
	cr-0x3b58:1.32.0.2
	cr-0x9e:1.28.0.4
	cr-0x9d:1.28.0.2
	corinna-01:1.26
	cr-0x9c:1.26.0.6
	cr-0x9b:1.26.0.4
	cr-0x99:1.26
	Z-emcb-cygwin_daemon:1.26.0.2
	w32api-2_2:1.24
	mingw-runtime-2_4:1.24
	w32api-1_5:1.21
	cygnus_cvs_20020108_pre:1.19
	Z-cygwin_daemon_merge-new_HEAD:1.17
	Z-cygwin_daemon_merge_HEAD:1.17
	cygwin_daemon:1.17.0.2;
locks; strict;
comment	@# @;
expand	@o@;


1.62
date	2012.11.07.16.52.45;	author cgf;	state dead;
branches;
next	1.61;

1.61
date	2012.08.02.01.53.55;	author earnie;	state Exp;
branches;
next	1.60;

1.60
date	2012.04.29.02.43.40;	author ironhead;	state Exp;
branches;
next	1.59;

1.59
date	2012.01.16.20.37.24;	author keithmarshall;	state Exp;
branches;
next	1.58;

1.58
date	2012.01.16.20.26.49;	author keithmarshall;	state Exp;
branches;
next	1.57;

1.57
date	2012.01.15.21.30.47;	author keithmarshall;	state Exp;
branches;
next	1.56;

1.56
date	2012.01.15.20.56.25;	author keithmarshall;	state Exp;
branches;
next	1.55;

1.55
date	2012.01.15.15.31.11;	author keithmarshall;	state Exp;
branches;
next	1.54;

1.54
date	2012.01.15.15.10.08;	author keithmarshall;	state Exp;
branches;
next	1.53;

1.53
date	2012.01.15.14.20.35;	author keithmarshall;	state Exp;
branches;
next	1.52;

1.52
date	2012.01.15.12.39.00;	author keithmarshall;	state Exp;
branches;
next	1.51;

1.51
date	2011.12.13.20.46.53;	author keithmarshall;	state Exp;
branches;
next	1.50;

1.50
date	2011.12.12.20.02.33;	author keithmarshall;	state Exp;
branches;
next	1.49;

1.49
date	2011.03.26.03.41.23;	author ironhead;	state Exp;
branches;
next	1.48;

1.48
date	2010.07.08.23.14.54;	author ironhead;	state Exp;
branches;
next	1.47;

1.47
date	2009.10.29.21.53.46;	author cwilson;	state Exp;
branches;
next	1.46;

1.46
date	2008.01.29.21.18.49;	author nivenh;	state Exp;
branches;
next	1.45;

1.45
date	2006.11.02.00.54.46;	author dannysmith;	state Exp;
branches;
next	1.44;

1.44
date	2006.10.27.01.02.29;	author ironhead;	state Exp;
branches;
next	1.43;

1.43
date	2006.09.12.00.29.04;	author ironhead;	state Exp;
branches;
next	1.42;

1.42
date	2006.08.30.13.04.41;	author corinna;	state Exp;
branches;
next	1.41;

1.41
date	2006.07.22.12.06.11;	author ironhead;	state Exp;
branches;
next	1.40;

1.40
date	2006.06.13.17.32.01;	author ironhead;	state Exp;
branches;
next	1.39;

1.39
date	2006.06.10.20.48.15;	author ironhead;	state Exp;
branches;
next	1.38;

1.38
date	2006.06.10.12.31.17;	author ironhead;	state Exp;
branches;
next	1.37;

1.37
date	2006.06.10.11.45.41;	author ironhead;	state Exp;
branches;
next	1.36;

1.36
date	2006.06.09.23.53.06;	author ironhead;	state Exp;
branches;
next	1.35;

1.35
date	2006.06.08.21.16.20;	author ironhead;	state Exp;
branches;
next	1.34;

1.34
date	2006.06.07.17.09.44;	author ironhead;	state Exp;
branches;
next	1.33;

1.33
date	2006.06.04.15.37.31;	author ironhead;	state Exp;
branches;
next	1.32;

1.32
date	2005.12.22.07.47.10;	author dannysmith;	state Exp;
branches;
next	1.31;

1.31
date	2005.12.09.04.59.24;	author dannysmith;	state Exp;
branches;
next	1.30;

1.30
date	2004.03.29.22.39.46;	author dannysmith;	state Exp;
branches;
next	1.29;

1.29
date	2004.03.27.02.25.37;	author infidel;	state Exp;
branches;
next	1.28;

1.28
date	2003.11.27.23.34.18;	author cgf;	state Exp;
branches;
next	1.27;

1.27
date	2003.11.27.02.14.37;	author dannysmith;	state Exp;
branches;
next	1.26;

1.26
date	2003.03.29.21.31.15;	author dannysmith;	state Exp;
branches;
next	1.25;

1.25
date	2003.03.11.14.44.58;	author earnie;	state Exp;
branches;
next	1.24;

1.24
date	2002.11.25.18.14.24;	author earnie;	state Exp;
branches;
next	1.23;

1.23
date	2002.10.14.19.59.04;	author earnie;	state Exp;
branches;
next	1.22;

1.22
date	2002.09.06.03.24.06;	author dannysmith;	state Exp;
branches;
next	1.21;

1.21
date	2002.05.28.13.20.28;	author earnie;	state Exp;
branches;
next	1.20;

1.20
date	2002.05.02.08.41.03;	author dannysmith;	state Exp;
branches;
next	1.19;

1.19
date	2001.12.21.04.42.05;	author cgf;	state Exp;
branches;
next	1.18;

1.18
date	2001.11.04.20.38.00;	author cgf;	state Exp;
branches;
next	1.17;

1.17
date	2001.09.19.23.56.12;	author earnie;	state Exp;
branches;
next	1.16;

1.16
date	2001.09.17.16.15.54;	author earnie;	state Exp;
branches;
next	1.15;

1.15
date	2001.09.13.17.45.55;	author earnie;	state Exp;
branches;
next	1.14;

1.14
date	2001.09.13.12.06.28;	author earnie;	state Exp;
branches;
next	1.13;

1.13
date	2001.09.12.14.48.07;	author earnie;	state Exp;
branches;
next	1.12;

1.12
date	2001.09.04.20.56.23;	author earnie;	state Exp;
branches;
next	1.11;

1.11
date	2001.08.10.11.51.03;	author earnie;	state Exp;
branches;
next	1.10;

1.10
date	2001.04.25.03.51.06;	author cgf;	state Exp;
branches;
next	1.9;

1.9
date	2001.03.01.20.32.34;	author earnie;	state Exp;
branches;
next	1.8;

1.8
date	2001.02.12.19.45.33;	author earnie;	state Exp;
branches;
next	1.7;

1.7
date	2000.12.25.17.49.36;	author cgf;	state Exp;
branches;
next	1.6;

1.6
date	2000.12.25.17.23.29;	author cgf;	state Exp;
branches;
next	1.5;

1.5
date	2000.12.11.18.14.15;	author cgf;	state Exp;
branches;
next	1.4;

1.4
date	2000.11.06.16.17.16;	author earnie;	state Exp;
branches;
next	1.3;

1.3
date	2000.11.04.02.51.36;	author cgf;	state Exp;
branches;
next	1.2;

1.2
date	2000.10.20.04.39.21;	author cgf;	state Exp;
branches;
next	1.1;

1.1
date	2000.02.17.19.38.32;	author cgf;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.02.17.19.38.32;	author cgf;	state Exp;
branches;
next	;


desc
@@


1.62
log
@* mingw: Delete obsolete directory.
* w32api: Ditto.
@
text
@# @@configure_input@@
#
#
# Makefile.in
#
# This file is part of a free library for the Win32 API.
# 
# This library is distributed in the hope that it will be useful,
# but WITHOUT ANY WARANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

SUBDIRS = ddk directx

srcdir = @@srcdir@@
top_srcdir = @@top_srcdir@@
top_builddir = @@top_builddir@@

VPATH = @@srcdir@@

include ${top_builddir}/Makefile.comm

# Headers
#
HEADERS = $(notdir $(wildcard ${top_srcdir}/include/*.h))
GL_HEADERS = $(notdir $(wildcard ${top_srcdir}/include/GL/*.h))
GDIPLUS_HEADERS = $(notdir $(wildcard ${top_srcdir}/include/gdiplus/*.h))

# Libraries
#
DEF_FILES = $(notdir $(wildcard ${srcdir}/*.def))
MRI_FILES = $(notdir $(wildcard ${srcdir}/*.mri))
IMPLIBS = $(addprefix lib,$(subst .def,.a,$(DEF_FILES)))
MIMPLIBS = $(addprefix lib,$(subst .mri,.a,$(MRI_FILES)))

EXTRA_LIBS = libuuid.a libscrnsave.a libscrnsavw.a liblargeint.a

LIBS = $(IMPLIBS) $(MIMPLIBS) $(EXTRA_LIBS)

UUID_OBJS = \
  mshtml-uuid.o msxml-uuid.o unknwn-uuid.o \
  servprov-uuid.o oleidl-uuid.o oleacc-uuid.o ocidl-uuid.o \
  objsafe-uuid.o oaidl-uuid.o docobj-uuid.o comcat-uuid.o \
  exdisp-uuid.o mlang-uuid.o objidl-uuid.o cguid-uuid.o \
  olectlid-uuid.o ativscp-uuid.o urlmon-uuid.o hlink-uuid.o \
  hlguids-uuid.o extras-uuid.o devguid.o power-uuid.o shobjidl-uuid.o

EXTRA_OBJS = \
  shell32.o scrnsave.o scrnsavw.o largeint.o gdiplus.o \
  $(UUID_OBJS) ws2_32.o

UUID_SOURCES = \
  mshtml-uuid.c msxml-uuid.c unknwn-uuid.c \
  servprov-uuid.c oleidl-uuid.c oleacc-uuid.c ocidl-uuid.c \
  objsafe-uuid.c oaidl-uuid.c docobj-uuid.c comcat-uuid.c \
  exdisp-uuid.c mlang-uuid.c objidl-uuid.c cguid-uuid.c \
  olectlid-uuid.c ativscp-uuid.c urlmon-uuid.c hlink-uuid.c \
  hlguids-uuid.c extras-uuid.c devguid.c power-uuid.c shobjidl-uuid.c

SOURCES = \
  scrnsave.c shell32.c  largeint.c gdiplus.c $(UUID_SOURCES) \
  res.rc test.c ws2_32.c

DISTFILES = Makefile.in $(DEF_FILES) $(MRI_FILES) $(SOURCES)

.NOTPARALLEL:
.PHONY: install install-libraries install-headers install-ddk
.PHONY: check test $(SUBDIRS)

# Targets: (note that 'all-default' is a redirection from 'all',
# which is the primary default target identified in the included
# common makefile fragment, ${top_builddir}/Makefile.comm
#
all-default: $(EXTRA_OBJS) $(LIBS) $(SUBDIRS)

%-subdirs:
	for dir in $(SUBDIRS); do \
	  $(MAKE) -C $$dir $*; \
	done

$(SUBDIRS):
	cd $@@ && $(MAKE)

TEST_OPTIONS = \
  $(ALL_CFLAGS) -DWINVER=0x0666 -Wall -pedantic -Wsystem-headers \
  -c ${srcdir}/test.c -o test.o

check test:
	@@echo "Testing w32api..."
	@@for lang in c c++ objective-c ; do \
	  echo "$$lang..."; \
	  $(CC) -x$$lang $(TEST_OPTIONS); \
	  echo "$$lang UNICODE..."; \
	  $(CC) -x$$lang -DUNICODE $(TEST_OPTIONS); \
	done
	@@echo "windres..."
	$(WINDRES) --include-dir $(INCDIR) -i ${srcdir}/res.rc -o test.o
	@@echo "windres UNICODE..."
	$(WINDRES) --define UNICODE --include-dir $(INCDIR) -i ${srcdir}/res.rc -o test.o
	rm -f test.o

scrnsavw.o: scrnsave.c
	$(CC) -c $(ALL_CFLAGS) -DUNICODE -o $@@ $<

# Rules
#
libuuid.a: $(UUID_OBJS)
	$(AR) rc $@@ $(UUID_OBJS)
	$(RANLIB) $@@

# libvfw32.a contains import stubs for 3 dll's.  Using an MRI script
# seems to be the simplest way to combine them into one archive.
#
# NB: With older dlltool, the object file members will not have
#     unique names.
#
libvfw32.a: vfw32.mri libmsvfw32.a libavifil32.a libavicap32.a
	rm -f $@@
	$(AR) -M < ${word 1,$^}
	$(RANLIB) $@@

# Install headers and libraries in a target specified directory.
#
install: install-libraries install-headers install-ddk install-directx

install-libraries: all $(need-DESTDIR-compatibility)
	$(mkinstalldirs) $(DESTDIR)${inst_libdir}
	for file in $(LIBS); do \
	  $(INSTALL_DATA) $$file $(DESTDIR)${inst_libdir}; \
	done

install-headers: $(need-DESTDIR-compatibility)
	$(mkinstalldirs) $(DESTDIR)${inst_includedir}
	for file in $(HEADERS); do \
	  case $$file in \
	  amvideo.h | amaudio.h) \
	    echo Not installing $$file \
	    ;; \
	  *) \
	    $(INSTALL_DATA) ${top_srcdir}/include/$$file $(DESTDIR)${inst_includedir}; \
	    ;; \
	  esac \
	done
	$(mkinstalldirs) $(DESTDIR)${inst_includedir}/GL
	for file in $(GL_HEADERS); do \
	  $(INSTALL_DATA) ${top_srcdir}/include/GL/$$file $(DESTDIR)${inst_includedir}/GL; \
	done
	$(mkinstalldirs) $(DESTDIR)${inst_includedir}/gdiplus
	for file in $(GDIPLUS_HEADERS); do \
	  $(INSTALL_DATA) ${top_srcdir}/include/gdiplus/$$file $(DESTDIR)${inst_includedir}/gdiplus; \
	done

install-ddk: install-libraries install-headers
	cd ddk && $(MAKE) install

install-directx: install-libraries install-headers
	cd directx && $(MAKE) install

# Uninstall headers and libraries from a target specified directory
#
uninstall: uninstall-ddk uninstall-directx uninstall-libraries uninstall-headers

uninstall-libraries: $(need-DESTDIR-compatibility)
	for file in $(LIBS); do \
	  rm -f $(DESTDIR)${inst_libdir}/$$file; \
	done
	rmdir $(DESTDIR)${inst_libdir}

uninstall-headers: $(need-DESTDIR-compatibility)
	for file in $(HEADERS); do \
	  rm -f $(DESTDIR)${inst_includedir}/$$file; \
	done
	rmdir $(DESTDIR)${inst_includedir}

uninstall-ddk:
	cd ddk && $(MAKE) uninstall

uninstall-directx:
	cd directx && $(MAKE) uninstall

dist:
	mkdir ${distdir}/include
	chmod 755 ${distdir}/include
	for file in $(HEADERS); do \
	  cp -p ${top_srcdir}/include/$$file ${distdir}/include; \
	done
	mkdir ${distdir}/include/GL
	for file in $(GL_HEADERS); do \
	  cp -p ${top_srcdir}/include/GL/$$file ${distdir}/include/GL; \
	done
	mkdir ${distdir}/include/gdiplus
	for file in $(GDIPLUS_HEADERS); do \
	  cp -p ${top_srcdir}/include/gdiplus/$$file ${distdir}/include/gdiplus; \
	done
	mkdir ${distdir}/lib
	chmod 755 ${distdir}/lib
	for file in $(DISTFILES); do \
	  cp -p ${srcdir}/$$file ${distdir}/lib; \
	done
	for dir in $(SUBDIRS); do \
	  (cd $$dir; $(MAKE) distdir=../${distdir} dist); \
	done

# Makefile.in: end of file
@


1.61
log
@	* lib/Makefile.in (amvideo.h): Dependencies are not met making this file
	implementation incomplete.  Do not deliver it.
	(amaudio.h): Ditto.
@
text
@@


1.60
log
@2012-04-28  LRN  <l_r_nightmare@@users.sf.net>

        * include/shobjidl.h: New file.
        * lib/shobjidl-uuid.c: New file.
        * lib/Makefile.in: Reference shobjidl-uuid.c.
@
text
@d134 8
a141 1
	  $(INSTALL_DATA) ${top_srcdir}/include/$$file $(DESTDIR)${inst_includedir}; \
@


1.59
log
@Correct misused 'rm -r' command in uninstall rules.
@
text
@d45 1
a45 1
  hlguids-uuid.o extras-uuid.o devguid.o power-uuid.o
d57 1
a57 1
  hlguids-uuid.c extras-uuid.c devguid.c power-uuid.c
@


1.58
log
@Generalise makefile references to subdirectories of lib.
@
text
@d163 1
a163 1
	  rm -r $(DESTDIR)${inst_includedir}/$$file; \
@


1.57
log
@Add 'check' as GCS conforming alias for make's 'test' goal.
@
text
@d73 1
a73 1
all-default: $(EXTRA_OBJS) $(LIBS) ddk directx
d80 2
a81 5
ddk:
	$(MAKE) -C $@@

directx:
	$(MAKE) -C $@@
@


1.56
log
@More makefile code refactoring; remove redundant INCLUDES references.
@
text
@d67 1
a67 1
.PHONY: test $(SUBDIRS)
d90 1
a90 1
test:
@


1.55
log
@More makefile code refactoring; fix top_srcdir references.
@
text
@a21 2
INCLUDES = -I ${top_srcdir}/include $(EXTRA_INCLUDES)

@


1.54
log
@Update and correct makefile rebuilding rules.
@
text
@d22 1
a22 17
# Depending on if we build as part of winsup or mingw we need to
# add additional include paths in order to get the correct headers
# from the C library.
#
BUILDENV = @@BUILDENV@@

ifeq ($(BUILDENV), cygwin)
# winsup/include
# winsup/../newlib/libc/include
# winsup/../newlib/libc/sys/cygwin
EXTRA_INCLUDES = -I${srcdir}/../../include -I${srcdir}/../../../newlib/libc/include -I${srcdir}/../../../newlib/libc/sys/cygwin
endif
ifeq ($(BUILDENV), mingw)
EXTRA_INCLUDES = -I${srcdir}/../../mingw/include
endif

INCLUDES = -I${srcdir}/../include $(EXTRA_INCLUDES)
d26 3
a28 3
HEADERS = $(notdir $(wildcard ${srcdir}/../include/*.h))
GL_HEADERS = $(notdir $(wildcard ${srcdir}/../include/GL/*.h))
GDIPLUS_HEADERS = $(notdir $(wildcard ${srcdir}/../include/gdiplus/*.h))
d139 1
a139 1
	  $(INSTALL_DATA) ${srcdir}/../include/$$file $(DESTDIR)${inst_includedir}; \
d143 1
a143 1
	  $(INSTALL_DATA) ${srcdir}/../include/GL/$$file $(DESTDIR)${inst_includedir}/GL; \
d147 1
a147 1
	  $(INSTALL_DATA) ${srcdir}/../include/gdiplus/$$file $(DESTDIR)${inst_includedir}/gdiplus; \
d182 1
a182 1
	  cp -p ${srcdir}/../include/$$file ${distdir}/include; \
d186 1
a186 1
	  cp -p ${srcdir}/../include/GL/$$file ${distdir}/include/GL; \
d190 1
a190 1
	  cp -p ${srcdir}/../include/gdiplus/$$file ${distdir}/include/gdiplus; \
@


1.53
log
@Miscellaneous formatting adjustments.
@
text
@a216 3
Makefile: Makefile.in ../config.status ../configure
	cd ..; $(SHELL) config.status

@


1.52
log
@Improve self-documentation of 'for' loop commands.
@
text
@d12 2
a21 3
SUBDIRS := ddk directx
subdirs := ddk directx

d32 1
a32 1
EXTRA_INCLUDES = -I$(srcdir)/../../include -I$(srcdir)/../../../newlib/libc/include -I$(srcdir)/../../../newlib/libc/sys/cygwin
d35 1
a35 1
EXTRA_INCLUDES = -I$(srcdir)/../../mingw/include
d38 1
a38 1
INCLUDES = -I$(srcdir)/../include $(EXTRA_INCLUDES)
d42 3
a44 3
HEADERS = $(notdir $(wildcard $(srcdir)/../include/*.h))
GL_HEADERS = $(notdir $(wildcard $(srcdir)/../include/GL/*.h))
GDIPLUS_HEADERS = $(notdir $(wildcard $(srcdir)/../include/gdiplus/*.h))
d48 2
a49 2
DEF_FILES = $(notdir $(wildcard $(srcdir)/*.def))
MRI_FILES = $(notdir $(wildcard $(srcdir)/*.mri))
d56 24
a79 16
UUID_OBJS = mshtml-uuid.o msxml-uuid.o unknwn-uuid.o \
			servprov-uuid.o oleidl-uuid.o oleacc-uuid.o ocidl-uuid.o \
			objsafe-uuid.o oaidl-uuid.o docobj-uuid.o comcat-uuid.o \
			exdisp-uuid.o mlang-uuid.o objidl-uuid.o cguid-uuid.o \
			olectlid-uuid.o ativscp-uuid.o urlmon-uuid.o hlink-uuid.o \
			hlguids-uuid.o extras-uuid.o devguid.o power-uuid.o
EXTRA_OBJS = shell32.o scrnsave.o scrnsavw.o largeint.o gdiplus.o \
	$(UUID_OBJS) ws2_32.o
UUID_SOURCES = mshtml-uuid.c msxml-uuid.c unknwn-uuid.c \
			   servprov-uuid.c oleidl-uuid.c oleacc-uuid.c ocidl-uuid.c \
			   objsafe-uuid.c oaidl-uuid.c docobj-uuid.c comcat-uuid.c \
			   exdisp-uuid.c mlang-uuid.c objidl-uuid.c cguid-uuid.c \
			   olectlid-uuid.c ativscp-uuid.c urlmon-uuid.c hlink-uuid.c \
			   hlguids-uuid.c extras-uuid.c devguid.c power-uuid.c
SOURCES = scrnsave.c shell32.c  largeint.c gdiplus.c $(UUID_SOURCES) \
res.rc test.c ws2_32.c
d84 2
d104 4
a107 3
TEST_OPTIONS = $(ALL_CFLAGS) -DWINVER=0x0666  \
	-Wall -pedantic -Wsystem-headers -c $(srcdir)/test.c -o test.o
.PHONY: test ddk directx
a141 1
.PHONY: install install-libraries install-headers install-ddk
d147 1
a147 1
	$(mkinstalldirs) $(DESTDIR)$(inst_libdir)
d149 1
a149 1
	  $(INSTALL_DATA) $$file $(DESTDIR)$(inst_libdir)/$$file ; \
d153 1
a153 1
	$(mkinstalldirs) $(DESTDIR)$(inst_includedir)
d155 1
a155 1
	  $(INSTALL_DATA) $(srcdir)/../include/$$file $(DESTDIR)$(inst_includedir)/$$file ; \
d157 1
a157 1
	$(mkinstalldirs) $(DESTDIR)$(inst_includedir)/GL
d159 1
a159 1
	  $(INSTALL_DATA) $(srcdir)/../include/GL/$$file $(DESTDIR)$(inst_includedir)/GL/$$file ; \
d161 1
a161 1
	$(mkinstalldirs) $(DESTDIR)$(inst_includedir)/gdiplus
d163 1
a163 1
	  $(INSTALL_DATA) $(srcdir)/../include/gdiplus/$$file $(DESTDIR)$(inst_includedir)/gdiplus/$$file ; \
d178 1
a178 1
	  rm -f $(DESTDIR)$(inst_libdir)/$$file ; \
d180 1
a180 1
	rmdir $(DESTDIR)$(inst_libdir)
d184 1
a184 1
	  rm -r $(DESTDIR)$(inst_includedir)/$$file ; \
d186 1
a186 1
	rmdir $(DESTDIR)$(inst_includedir)
d195 2
a196 2
	mkdir $(distdir)/include
	chmod 755 $(distdir)/include
d198 1
a198 1
	  cp -p $(srcdir)/../include/$$file $(distdir)/include/$$file ; \
d200 1
a200 1
	mkdir $(distdir)/include/GL
d202 1
a202 1
	  cp -p $(srcdir)/../include/GL/$$file $(distdir)/include/GL/$$file ; \
d204 1
a204 1
	mkdir $(distdir)/include/gdiplus
d206 1
a206 1
	  cp -p $(srcdir)/../include/gdiplus/$$file $(distdir)/include/gdiplus/$$file ; \
d208 2
a209 2
	mkdir $(distdir)/lib
	chmod 755 $(distdir)/lib
d211 1
a211 1
	  cp -p $(srcdir)/$$file $(distdir)/lib/$$file ; \
d214 1
a214 1
	  (cd $$dir; $(MAKE) distdir=../$(distdir) dist); \
@


1.51
log
@Factor common code from subdirectory makefiles into Makefile.comm.in
@
text
@d85 2
a86 2
	for i in $(SUBDIRS); do \
	  $(MAKE) -C $$i $*; \
d101 4
a104 4
		echo "$$lang..."; \
		$(CC) -x$$lang $(TEST_OPTIONS) ; \
		echo "$$lang UNICODE..."; \
		$(CC) -x$$lang -DUNICODE $(TEST_OPTIONS) ; \
d107 1
a107 1
	@@$(WINDRES) --include-dir $(INCDIR) -i $(srcdir)/res.rc -o test.o
d109 2
a110 2
	@@$(WINDRES) --define UNICODE --include-dir $(INCDIR) -i $(srcdir)/res.rc -o test.o
	@@rm -f test.o
d139 2
a140 2
	for i in $(LIBS); do \
		$(INSTALL_DATA) $$i $(DESTDIR)$(inst_libdir)/$$i ; \
d145 2
a146 2
	for i in $(HEADERS); do \
		$(INSTALL_DATA) $(srcdir)/../include/$$i $(DESTDIR)$(inst_includedir)/$$i ; \
d149 2
a150 2
	for i in $(GL_HEADERS); do \
		$(INSTALL_DATA) $(srcdir)/../include/GL/$$i $(DESTDIR)$(inst_includedir)/GL/$$i ; \
d153 2
a154 2
	for i in $(GDIPLUS_HEADERS); do \
		$(INSTALL_DATA) $(srcdir)/../include/gdiplus/$$i $(DESTDIR)$(inst_includedir)/gdiplus/$$i ; \
d168 2
a169 2
	@@for i in $(LIBS); do \
		rm -f $(DESTDIR)$(inst_libdir)/$$i ; \
d174 2
a175 2
	@@for i in $(HEADERS); do \
		rm -r $(DESTDIR)$(inst_includedir)/$$i ; \
d188 2
a189 2
	@@for i in $(HEADERS); do \
		cp -p $(srcdir)/../include/$$i $(distdir)/include/$$i ; \
d192 2
a193 2
	@@for i in $(GL_HEADERS); do \
		cp -p $(srcdir)/../include/GL/$$i $(distdir)/include/GL/$$i ; \
d196 2
a197 2
	@@for i in $(GDIPLUS_HEADERS); do \
		cp -p $(srcdir)/../include/gdiplus/$$i $(distdir)/include/gdiplus/$$i ; \
d201 2
a202 2
	@@for i in $(DISTFILES); do \
		cp -p $(srcdir)/$$i $(distdir)/lib/$$i ; \
d204 2
a205 2
	for i in $(SUBDIRS); do \
		(cd $$i; $(MAKE) distdir=../$(distdir) dist); \
@


1.50
log
@Correct makefile error; remove unnecessary FLAGS_TO_PASS macro
@
text
@d12 3
d16 1
a16 3
# start config section

SHELL = @@SHELL@@
d18 1
a18 2
srcdir = @@srcdir@@
VPATH = @@srcdir@@
a22 49
host_alias = @@host@@
build_alias = @@build@@
target_alias = @@target@@
with_cross_host = @@with_cross_host@@
prefix = @@prefix@@
includedir:=@@includedir@@

program_transform_name = @@program_transform_name@@
exec_prefix = @@exec_prefix@@
libdir:=@@libdir@@
bindir = @@bindir@@
ifeq ($(target_alias),$(host_alias))
ifeq ($(build_alias),$(host_alias))
tooldir:=$(exec_prefix)
else
tooldir:=$(exec_prefix)/$(target_alias)
endif
else
tooldir:=$(exec_prefix)/$(target_alias)
endif
datadir = @@datadir@@
infodir = @@infodir@@
ifneq (,$(findstring cygwin,$(target_alias)))
inst_includedir:=$(tooldir)/include/w32api
inst_libdir:=$(tooldir)/lib/w32api
else
ifneq (,$(with_cross_host))
inst_includedir:=$(tooldir)/include/w32api
inst_libdir:=$(tooldir)/lib
else
inst_includedir:=$(includedir)
inst_libdir:=$(libdir)
endif
endif

INSTALL = @@INSTALL@@
INSTALL_DATA = @@INSTALL_DATA@@
INSTALL_PROGRAM = @@INSTALL_PROGRAM@@
mkinstalldirs = mkdir -p

CC = @@CC@@
CC_FOR_TARGET = $(CC)

DLLTOOL = @@DLLTOOL@@
DLLTOOL_FLAGS = --as=$(AS) -k
AS = @@AS@@
AS_FOR_TARGET = $(AS_FOR_TARGET)
WINDRES = @@WINDRES@@

d26 1
d41 2
a42 11
CFLAGS = @@CFLAGS@@
ALL_CFLAGS = $(CFLAGS) $(INCLUDES)

RANLIB = @@RANLIB@@
AR = @@AR@@
LD = @@LD@@

# end config section

# headers

d47 2
a48 2
# libraries

d53 3
a55 1
EXTRA_LIBS=libuuid.a libscrnsave.a libscrnsavw.a liblargeint.a
d78 5
a82 2
# targets
all: $(EXTRA_OBJS) $(LIBS) ddk directx
d115 3
a117 8
# make rules

.SUFFIXES: .c .o .def .a

.c.o:
	$(CC) -c $(ALL_CFLAGS) -o $@@ $<

libuuid.a : $(UUID_OBJS)
d123 5
a127 3
# NB: With older dlltool, the object file members will not have unique
# names.
libvfw32.a : vfw32.mri libmsvfw32.a libavifil32.a libavicap32.a
a131 24
lib%.a : %.def %.o
	$(DLLTOOL) $(DLLTOOL_FLAGS) --output-lib $@@ --def $(srcdir)/$*.def
	$(AR) r $@@ $*.o
	$(RANLIB) $@@

lib%.a: %.def
	$(DLLTOOL) $(DLLTOOL_FLAGS) --output-lib $@@ --def $<

lib%.a: %.o
	$(AR) rc $@@ $*.o
	$(RANLIB) $@@

need-DESTDIR-compatibility = prefix libdir includedir
.PHONY: $(need-DESTDIR-compatibility) fail-DESTDIR-compatibility

$(need-DESTDIR-compatibility):
	@@test -z "$(DESTDIR)" || case "$($@@)" in ?:*) \
	  $(MAKE) --no-print-directory reject="$@@" fail-DESTDIR-compatibility ;; \
	esac

fail-DESTDIR-compatibility:
	$(error DESTDIR is not supported when $(reject) contains Win32 path `$($(reject))'; \
	try `make install $(reject)=$(shell echo '$($(reject))' | sed s,:,:$(DESTDIR),) ...' instead)

d133 2
a134 1
# install headers and libraries in a target specified directory.
d163 2
a164 1
# uninstall headers and libraries from a target specified directory
d211 1
a211 13
# clean

mostlyclean:
	rm -f *~ *.o *.s

clean:
	rm -f *.o *.a *.s *~

distclean: clean
	rm -f config.cache config.status config.log Makefile

maintainer-clean: distclean

@


1.49
log
@2011-03-25  Chris Sutcliffe  <ir0nh34d@@users.sf.net>

        * lib/Makefile.in: Include GDIPLUS_HEADERS in dist target.
@
text
@d1 1
a2 1
#	Makefile.in
d4 3
a6 1
#	This file is part of a free library for the Win32 API.
d8 3
a10 3
#	This library is distributed in the hope that it will be useful,
#	but WITHOUT ANY WARANTY; without even the implied warranty of
#	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
a95 15
FLAGS_TO_PASS = \
	AS="$(AS)" \
	CC="$(CC)" \
	CPPFLAGS="$(CPPFLAGS)" \
	CFLAGS="$(CFLAGS)" \
	CXXFLAGS="$(CXXFLAGS)" \
	AR="$(AR)" \
	RANLIB="$(RANLIB)" \
	LD="$(LD)" \
	DLLTOOL="$(DLLTOOL)" \
	TAR="$(TAR)" \
	TARFLAGS="$(TARFLAGS)" \
	TARFILEEXT="$(TARFILEEXT)" \
	WINDRES="$(WINDRES)"

d138 1
a138 1
	  $(MAKE) $(FLAGS_TO_PASS) -C $$i $*; \
d142 1
a142 1
	$(MAKE) $(FLAGS_TO_PASS) -C $@@
d145 1
a145 1
	$(MAKE) $(FLAGS_TO_PASS) -C $@@
d236 1
a236 1
	cd ddk && $(MAKE) install $(FLAGS_TO_PASS)
d239 1
a239 1
	cd directx && $(MAKE) install $(FLAGS_TO_PASS)
d257 1
a257 1
	cd ddk && $(MAKE) -C uninstall $(FLAGS_TO_PASS)
d260 1
a260 1
	cd directx && $(MAKE) -C uninstall $(FLAGS_TO_PASS)
@


1.48
log
@2010-07-08  Markus Koenig  <basilo@@users.sourceforge.net>

        * include/gdiplus.h: New file.
        * include/gdiplus/gdiplus.h: New file.
        * include/gdiplus/gdiplusbase.h: New file.
        * include/gdiplus/gdiplusbrush.h: New file.
        * include/gdiplus/gdipluscolor.h: New file.
        * include/gdiplus/gdipluscolormatrix.h: New file.
        * include/gdiplus/gdipluseffects.h: New file.
        * include/gdiplus/gdiplusenums.h: New file.
        * include/gdiplus/gdiplusflat.h: New file.
        * include/gdiplus/gdiplusgpstubs.h: New file.
        * include/gdiplus/gdiplusgraphics.h: New file.
        * include/gdiplus/gdiplusheaders.h: New file.
        * include/gdiplus/gdiplusimageattributes.h: New file.
        * include/gdiplus/gdiplusimagecodec.h: New file.
        * include/gdiplus/gdiplusimaging.h: New file.
        * include/gdiplus/gdiplusimpl.h: New file.
        * include/gdiplus/gdiplusinit.h: New file.
        * include/gdiplus/gdipluslinecaps.h: New file.
        * include/gdiplus/gdiplusmatrix.h: New file.
        * include/gdiplus/gdiplusmem.h: New file.
        * include/gdiplus/gdiplusmetafile.h: New file.
        * include/gdiplus/gdiplusmetaheader.h: New file.
        * include/gdiplus/gdipluspath.h: New file.
        * include/gdiplus/gdipluspen.h: New file.
        * include/gdiplus/gdipluspixelformats.h: New file.
        * include/gdiplus/gdiplusstringformat.h: New file.
        * include/gdiplus/gdiplustypes.h: New file.
        * lib/gdiplus.c: New file containing GDI+ variable definitions
        and GUIDs.
        * lib/gdiplus.def: New file.
        * lib/Makefile.in: Add gdiplus.o to EXTRA_OBJS,
        add gdiplus.c to SOURCES.
        * lib/test.c: Include gdiplus.h.
@
text
@d285 4
@


1.47
log
@Honor DESTDIR for winsup/mingw and winsup/w32api
@
text
@d115 1
d131 1
a131 1
EXTRA_OBJS = shell32.o scrnsave.o scrnsavw.o largeint.o \
d139 1
a139 1
SOURCES = scrnsave.c shell32.c  largeint.c $(UUID_SOURCES)\
d243 4
@


1.46
log
@2008-01-29  Brandon Sneed  <nivenh@@sourceware.org>

	* include/winnt.h (SYSTEM_POWER_CONDITION): typedef.
	* include/winuser.h (PBT_POWERSETTINGCHANGE, DEVICE_NOTIFY_WINDOW_HANDLE,
	DEVICE_NOTIFY_SERVICE_HANDLE): define.
	* include/winuser.h (LPCGUID, HPOWERNOTIFY, POWERBROADCAST_SETTING): typedefs.
	* include/winuser.h (GUID_POWERSCHEME_PERSONALITY, GUID_MIN_POWER_SAVINGS,
	GUID_MAX_POWER_SAVINGS, GUID_TYPICAL_POWER_SAVINGS, GUID_ACDC_POWER_SOURCE,
	GUID_BATTERY_PERCENTAGE_REMAINING, GUID_IDLE_BACKGROUND_TASK,
	GUID_SYSTEM_AWAYMODE, GUID_MONITOR_POWER_ON): added externs for GUIDs.
	* include/winuser.h (RegisterPowerSettingNotification,
	UnregisterPowerSettingNotification): Add prototypes.
	* lib/user32.def: Added imports for the above prototypes.
	* lib/Makefile.in: Added build support for power-uuid.c.
	* lib/power-uuid.c: New file containing power GUID definitions.
@
text
@d211 12
d227 2
a228 2
install-libraries: all
	$(mkinstalldirs) $(inst_libdir)
d230 1
a230 1
		$(INSTALL_DATA) $$i $(inst_libdir)/$$i ; \
d233 2
a234 2
install-headers:
	$(mkinstalldirs) $(inst_includedir)
d236 1
a236 1
		$(INSTALL_DATA) $(srcdir)/../include/$$i $(inst_includedir)/$$i ; \
d238 1
a238 1
	$(mkinstalldirs) $(inst_includedir)/GL
d240 1
a240 1
		$(INSTALL_DATA) $(srcdir)/../include/GL/$$i $(inst_includedir)/GL/$$i ; \
d252 1
a252 1
uninstall-libraries:
d254 1
a254 1
		rm -f $(inst_libdir)/$$i ; \
d256 1
a256 1
	rmdir $(inst_libdir)
d258 1
a258 1
uninstall-headers:
d260 1
a260 1
		rm -r $(inst_includedir)/$$i ; \
d262 1
a262 1
	rmdir $(inst_includedir)
@


1.45
log
@	* include/winuser.h (LR_DEFAULTSIZE): Remove duplicate.

	C99 'extern inline' patrol.
	* include/winnt.h (GetCurrentFiber): Remove extern declaration.  Make
	inline static.
	(GetFiberData): Likewise.
	* lib/kernel32.c: Remove.
	* lib/Makefile.in: Remove reference to kernel32.[co].
@
text
@d129 1
a129 1
			hlguids-uuid.o extras-uuid.o devguid.o
d137 1
a137 1
			   hlguids-uuid.c extras-uuid.c devguid.c
@


1.44
log
@2006-10-26  Chris Sutcliffe  <ir0nh34d@@users.sourceforge.net>

        * lib/Makefile.in: Fix order for 'all' rule.
@
text
@d131 1
a131 1
	$(UUID_OBJS) kernel32.o ws2_32.o
d139 1
a139 1
res.rc test.c kernel32.c ws2_32.c
@


1.43
log
@2006-09-11  Chris Sutcliffe  <ir0n3h4d@@users.sourceforge.net>

        * lib/Makefile.in: fix typo.
        * lib/ddk/Makefile.in: fix typo.
        * lib/directx/Makefile.in: fix typo.

        Thanks to Keith Marshall (keithmarshall at users dot sourceforge dot net)
        for pointing it out.
@
text
@d146 1
a146 1
all: $(LIBS) $(EXTRA_OBJS) ddk directx
@


1.42
log
@	* configure.in: Substitute with_cross_host in depending files.
	* configure: Regenerate.
	* lib/Makefile.in: Add with_cross_host to allow more granular checks.
	Set installation directories accordingly.
	* lib/ddk/Makefile.in: Ditto.
	* lib/directx/Makefile.in: Ditto.
@
text
@d47 1
a47 1
ifneq (,$with_cross_host)
@


1.41
log
@2006-07-20  Elias Naur  <elias_naur@@users.sourceforge.net>

        * include/devguid.h: Add new file with missing GUID_DEVCLASS_*
        declarations. They were extracted from the registry with a script.
        * lib/devguid.c: Add new file with the implementation of the
        missing GUIDs.
        * lib/Makefile.in: Add devguid.c to UUID_SOURCES and UUID_OBJS.
@
text
@d24 1
d47 4
d54 1
@


1.40
log
@2006-06-13  Chris Sutcliffe  <ir0nh34d@@users.sourceforge.net>

* lib/Makefile.in: Added extras-uuid as an object and source.
* lib/uuid.c (IID_IClientSiteHandler, IID_IContinue, IID_IHttpNegotiate,
IID_IPersistMoniker, IID_IServerHandler, IID_ITargetEmbedding,
IID_ITargetFrame, IID_ITypeComp, IID_IUrlHistoryStg, IID_IWinInetHttpInfo,
IID_IWinInetInfo, IID_IEnumSTATPROPSETSTG, IID_IEnumSTATPROPSTG,
IID_IEnumSTATURL): Remove.  Moved to extras-uuid.c.
* lib/extras-uuid.c: New file.
Thank you to Julien Lecomte (julienlecomte at users dot sourceforge dot
net).
@
text
@d123 1
a123 1
			hlguids-uuid.o extras-uuid.o
d131 1
a131 1
			   hlguids-uuid.c extras-uuid.c
@


1.39
log
@2006-06-10  Chris Sutcliffe  <ir0nh34d@@users.sourceforge.net>

        * lib/Makefile.in:  Added hlguids-uuid as source and object.
@
text
@d123 1
a123 1
			hlguids-uuid.o
d131 1
a131 1
			   hlguids-uuid.c
@


1.38
log
@2006-06-10  Chris Sutcliffe  <ir0nh34d@@users.sourceforge.net>

        * lib/Makefile.in: Added urlmon-uuid and hlink-uuid as sources and
        objects.
        * lib/uuid.c (IID_IAuthenticate, IID_IBindHost, IID_IBindProtocol,
        IID_IBindStatusCallback, IID_IBindStatusCallbackMsg, IID_IBinding,
        IID_IHlink, IID_IHlinkBrowseContext, IID_IHlinkFrame, IID_IHlinkSite,
        IID_IHlinkTarget): Remove.  Moved to new files.
        * lib/urlmon-uuid.c: New file.
        * lib/hlink-uuid.c: New file.
@
text
@d122 2
a123 1
			olectlid-uuid.o ativscp-uuid.o urlmon-uuid.o hlink-uuid.o
d130 2
a131 1
			   olectlid-uuid.o ativscp-uuid.c urlmon-uuid.c hlink-uuid.c
@


1.37
log
@2006-06-10  Chris Sutcliffe  <ir0nh34d@@users.sourceforge.net>

        * lib/Makefile.in: Added ativscp-uuid as source and object.
        * lib/uuid.c (IID_IActiveScript, IID_IActiveScriptError,
        IID_IActiveScriptParse, IID_IActiveScriptSite,
        IID_IActiveScriptSiteWindow): Remove.  Moved to ativscp-uuid.c.
        * lib/ativscp-uuid.c: New file.
@
text
@d122 1
a122 1
			olectlid-uuid.o ativscp-uuid.o
d129 1
a129 1
			   olectlid-uuid.o ativscp-uuid.c
@


1.36
log
@2006-06-09  Chris Sutcliffe  <ir0nh34d@@users.sourceforge.net>

        * lib/Makefile.in: Add cguid-uuid and olectlid-uuid as sources and
        objects.
        * lib/uuid.c (CLSID_CColorPropPage, CLSID_CFontPropPage,
        CLSID_CPicturePropPage, CLSID_Picture_Dib, CLSID_Picture_Metafile,
        CLSID_StdFont, CLSID_StdPicture, GUID_NULL, IID_ICreateTypeInfo,
        IID_ICreateTypeInfo2, IID_ICreateTypeLib, IID_ICreateTypeLib2, IID_IDebug,
        IID_IDebugStream, IID_IDispatch, IID_IEnumFORMATETC,IID_IEnumMoniker,
        IID_IEnumOLEVERB, IID_IEnumSTATDATA, IID_IEnumSTATSTG, IID_IEnumString,
        IID_IEnumUnknown, IID_IEnumVARIANT, IID_IOleLink, IID_IPSFactory,
        IID_IRpcChannel, IID_IRpcProxy, IID_IRpcStub, IID_ITypeInfo,
        IID_ITypeInfo2, IID_ITypeLib, IID_ITypeLib2): Remove.  Moved to relevant
        files.
        * lib/oaidl-uuid.c (IID_ICreateTypeInfo, IID_ICreateTypeInfo2,
        IID_ICreateTypeLib, IID_ICreateTypeLib2, IID_ITypeInfo, IID_ITypeInfo2,
        IID_ITypeLib, IID_ITypeLib2, IID_IEnumVARIANT): Define.
        * lib/cguid-uuid.c: New file.
        * lib/olectlid-uuid.c: New file.
@
text
@d118 1
a118 1
UUID_OBJS = uuid.o mshtml-uuid.o msxml-uuid.o unknwn-uuid.o \
d122 1
a122 1
			olectlid-uuid.o
d125 1
a125 1
UUID_SOURCES = uuid.c mshtml-uuid.c msxml-uuid.c unknwn-uuid.c \
d129 1
a129 1
			   olectlid-uuid.o
@


1.35
log
@2006-06-08  Chris Sutcliffe  <ir0nh34d@@users.sourceforge.net>

        * lib/Makefile.in: Add objsafe-uuid oaidl-uuid docobj-uuid comcat-uuid
        exdisp-uuid mlang-uuid objidl-uuid as sources and objects.
        * lib/uuid.c (CATID_Control, CATID_DocObject, CATID_Insertable,
        CATID_PersistsToPropertyBag, CATID_PersistsToStorage, CATID_PersistsToStream,
        CATID_PersistsToStreamInit, CATID_Printable, CATID_Programmable,
        CLSID_CMultiLanguage, CLSID_StdComponentCategoriesMgr, CLSID_WebBrowser,
        DIID_DWebBrowserEvents, DIID_DWebBrowserEvents2, IID_IAdviseSink,
        IID_IAdviseSink2, IID_IBindCtx, IID_ICatInformation, IID_ICatRegister,
        IID_IClassActivator, IID_IContinueCallback, IID_ICreateErrorInfo,
        IID_IDataAdviseHolder, IID_IDataObject, IID_IEnumCATEGORYINFO,
        IID_IEnumGUID, IID_IEnumOleDocumentViews, IID_IErrorInfo,
        IID_IExternalConnection, IID_IFillLockBytes, IID_ILockBytes, IID_IMalloc,
        IID_IMarshal, IID_IMessageFilter, IID_IMoniker, IID_IObjectSafety,
        IID_IOleCommandTarget, IID_IOleDocument, IID_IOleDocumentSite,
        IID_IOleDocumentView, IID_IPSFactoryBuffer, IID_IPersist,
        IID_IPersistFile, IID_IPersistStorage, IID_IPersistStream, IID_IPrint,
        IID_IProgressNotify, IID_IPropertySetStorage, IID_IPropertyStorage,
        IID_IROTData, IID_IRootStorage, IID_IRpcChannelBuffer,
        IID_IRpcProxyBuffer, IID_IRpcStubBuffer, IID_IRunnableObject,
        IID_IRunningObjectTable, IID_ISequentialStream, IID_IStdMarshalInfo,
        IID_IStorage, IID_IStream, IID_ISupportErrorInfo, IID_IWebBrowser,
        IID_IWebBrowser2, IID_IWebBrowserApp): Remove. Moved to new files.
        * lib/comcat-uuid.c: New file.
        * lib/docobj-uuid.c: New File.
        * lib/exdisp-uuid.c: New file.
        * lib/mlang-uuid.c: New file.
        * lib/oaidl-uuid.c: New file.
        * lib/objidl-uuid.c: New file.
        * lib/objsafe-uuid.c: New file.
@
text
@d121 2
a122 1
			exdisp-uuid.o mlang-uuid.o objidl-uuid.o
d128 2
a129 1
			   exdisp-uuid.c mlang-uuid.c objidl-uuid.c
@


1.34
log
@2006-06-07  Chris Sutcliffe  <ir0nh34d@@users.sourceforge.net>

        * lib/Makefile.in: Add oleacc-uuid oleidl-uuid ocidl-uuid as sources and
        objects.
        * lib/uuid.c (IID_IOleCache, IID_IOleCache2, IID_IOleCacheControl, IID_IViewObject,
        IID_IViewObject2, IID_IDropSource, IID_IDropTarget, IID_IOleAdviseHolder,
        IID_IOleInPlaceUIWindow, IID_IOleInPlaceObject, IID_IOleInPlaceActiveObject,
        IID_IOleInPlaceFrame, IID_IOleInPlaceSite, IID_IOleContainer, IID_IOleItemContainer,
        IID_IOleClientSite, IID_IOleObject, IID_IOleWindow, IID_IParseDisplayName,
        IID_IAccessible, LIBID_Accessibility, IID_IQuickActivate, IID_IOleUndoManager,
        IID_IOleParentUndoUnit, IID_IOleUndoUnit, IID_IEnumOleUndoUnits, IID_IPointerInactive,
        IID_IAdviseSinkEx, IID_IOleInPlaceSiteEx, IID_IOleControl, IID_IOleControlSite,
        IID_IPersistPropertyBag, IID_IPersistPropertyBag2, IID_IPersistStreamInit,
        IID_IPersistMemory, IID_IPropertyBag, IID_IPropertyBag2, IID_IPropertyNotifySink,
        IID_IPropertyPage, IID_IPropertyPage2, IID_IPropertyPageSite, IID_IFont, IID_IFontDisp,
        IID_IPicture, IID_IPictureDisp, IID_IProvideClassInfo, IID_IProvideClassInfo2,
        IID_IEnumConnectionPoints, IID_IEnumConnections, IID_IConnectionPoint,
        IID_IConnectionPointContainer, IID_IClassFactory2, IID_IErrorLog,
        IID_IObjectWithSite, IID_IPerPropertyBrowsing, IID_ISimpleFrameSite,
        IID_ISpecifyPropertyPages): Remove. Moved to new files.
        * lib/oleidl-uuid.c: New file.
        * lib/oleacc-uuid.c: New file.
        * lib/ocidl-uuid.c: New file.
@
text
@d119 3
a121 1
			servprov-uuid.o oleidl-uuid.o oleacc-uuid.o ocidl-uuid.o
d125 3
a127 1
			   servprov-uuid.c oleidl-uuid.c oleacc-uuid.c ocidl-uuid.c
@


1.33
log
@2006-06-04      Chris Sutcliffe <ir0nh34d@@users.sourceforge.net>

        * lib/Makefile.in: Add unknwn-uuid and servprov-uuid as sources and
        objects.
        * lib/uuid.c (IID_IUnknown, IID_IClassFactory, IID_IServiceProvider):
        Remove.  Moved to unknwn-uuid and servprov-uuid.
        * lib/unknwn-uuid.c: New file.
        * lib/servprov-uuid.c: New file.
@
text
@d118 2
a119 1
UUID_OBJS = uuid.o mshtml-uuid.o msxml-uuid.o unknwn-uuid.o servprov-uuid.o
d122 2
a123 1
UUID_SOURCES = uuid.c mshtml-uuid.c msxml-uuid.c unknwn-uuid.c servprov-uuid.c
@


1.32
log
@	* lib/ws2_32.c: New file, defining IPv6 constants.
	* Makefile.in (SOURCES): Add ws2_32.c
	(EXTRA_OBJS): Add ws2_32.o.
@
text
@d118 1
a118 1
UUID_OBJS = uuid.o mshtml-uuid.o msxml-uuid.o
d121 1
a121 1
UUID_SOURCES = uuid.c mshtml-uuid.c msxml-uuid.c
@


1.31
log
@2005-12-09  Huw Davies <hdavies@@users.sourceforge.net>
	    Danny Smith <dannysmith@@users.sourceforge.net>

	* lib/msxml-uuid.c: New file to generate UUIDs for
	MSXML interfaces.
	* lib/Makefile.in (UUID_OBJS): Add msxml-uuid.o.

Add missing ChangeLog entries for 2005-12-07 commits.
@
text
@d120 1
a120 1
	$(UUID_OBJS) kernel32.o
d123 1
a123 1
res.rc test.c kernel32.c
@


1.30
log
@	* lib/Makefile,in; Add directx to .PHONY target.
	* lib/directx/dxerr.c: Remove dependence on mingw runtime.
	Don't include stdio.h or tchar.h.
	Replace _T() macro with TEXT() macro, throughout.
	Replace, _stprintf with wsprintf, throughout.
@
text
@d118 1
a118 1
UUID_OBJS = uuid.o mshtml-uuid.o
d121 1
a121 1
UUID_SOURCES = uuid.c mshtml-uuid.c
@


1.29
log
@2004-03-27  Filip Navara  <xnavara@@volny.cz>

	* include/directx: New subdir.
	* lib/directx: Ditto.
	* include/directx/(d3d9.h, d3d9caps.h, d3d9types.h, dxerr8.h,
	dxerr9.h): New files.
	* lib/ddk/(Makefile.in, d3d8.def, d3d9.def, d3dim.def, d3drm.def,
	d3dx8d.def, d3dx9d.def, d3dxof.def, ddraw.def, dinput.def,
	dinput_joy.c, dinput_joy2.c, dinput_kbd.c, dinput_mouse.c,
	dinput_mouse2.c, dinput_private.h, dinput8.def, dmoguids.c, dplayx.def,
	dpnaddr.def, dpnet.def, dpnlobby.def, dpvoice.def, dsetup.def,
	dsound.def, dxerr.c, dxerr8.c, dxerr8w.c, dxerr9.c, dxerr9w.c,
	dxguid.c, ksproxy.def, ksuser.c, ksuser.def, msdmo.def, quartz.def,
	strmiids.c, test.c): Ditto.
	* lib/(d3dim.def, d3drm.def, d3dxof.def, ddraw.def, dinput.c,
	dinput.def, dplayx.def, dsetup.def, dsound.def, dxguid.c): Removed.
@
text
@d145 1
a145 1
.PHONY: test ddk
@


1.28
log
@* lib/Makefile.in: Use make function to locate .mri file to allow building in
directory other than source directory.
@
text
@d18 2
a19 2
SUBDIRS := ddk
subdirs := ddk
d116 1
a116 1
EXTRA_LIBS=libuuid.a libscrnsave.a libscrnsavw.a libdxguid.a liblargeint.a
d119 2
a120 2
EXTRA_OBJS = shell32.o dxguid.o scrnsave.o scrnsavw.o largeint.o \
	$(UUID_OBJS) dinput.o kernel32.o
d122 2
a123 2
SOURCES = scrnsave.c shell32.c  largeint.c dinput.c $(UUID_SOURCES)\
dxguid.c res.rc test.c kernel32.c
d130 1
a130 1
all: $(LIBS) $(EXTRA_OBJS) ddk
d140 3
d197 1
a197 1
install: install-libraries install-headers install-ddk
d218 3
d222 1
a222 1
uninstall: uninstall-ddk uninstall-libraries uninstall-headers
d238 3
@


1.27
log
@	* lib/vfw32.def: Remove, replacing with ...
	* lib/msvfw32.def: New file.
	* lib/avicap32.def: New file.
	* lib/avifil32.def: New file.
	* lib/vfw32.mri: New file.
	* Makefile.in: (MRI_FILES, MIMPLIBS): New vars for
	import libs with multiple dll's.
	(LIBS): Add MIMPLIBS.
	(DISTFILES): Add MRI_FILES.
	(libvfw32.a): Build using mri script.
@
text
@d175 1
a175 1
libvfw32.a : libmsvfw32.a libavifil32.a libavicap32.a vfw32.mri
d177 1
a177 1
	$(AR) -M < vfw32.mri
@


1.26
log
@2003-03-30  Danny Smith  <dannysmith@@users.sourceforge.net>

	* lib/uuid.c (IID_IHTML*): Move definitions to...
	* lib/mshtml-uuid.c: New file.
	* lib/Makefile.in: Add mshtml-uuid.o to libuuid.a

2003-03-30  Michael Sazonov  <traip@@comset.net>

	* lib/uuid.c (IID_IHTML*): Add new GUID definitions.
	* include/mshtml.h (IHTMLElementCollection, IHTMLLinkElement,
	IHTMLImgElement): Add intetface definitions.
@
text
@d113 1
d115 1
d117 1
a117 1
LIBS = $(IMPLIBS) $(EXTRA_LIBS)
d125 1
a125 1
DISTFILES = Makefile.in $(DEF_FILES) $(SOURCES)
d169 9
@


1.25
log
@
	* include/winsvc.h (SERVICE_NO_CHANGE): Use hex constant to avoid
	warnings.
	Thanks to Fabricio D. Rossi <gurusoda@@users.sf.net>.
	* Makefile.in (bindist): Correct process.
	* lib/Makefile.in (install): Ditto.
	Thanks to Jeff Bonnggren <jbon@@users.sf.net>.
@
text
@d116 2
a117 1
EXTRA_OBJS=uuid.o shell32.o dxguid.o scrnsave.o scrnsavw.o largeint.o \
d119 3
a121 2
SOURCES = scrnsave.c shell32.c uuid.c largeint.c dinput.c dxguid.c \
res.rc test.c kernel32.c
d164 4
@


1.24
log
@
	* lib/Makefile.in (dist, install): Correct the install destinations.
	* lib/ddk/Makefile.in (dist, install): Ditto.
@
text
@d138 1
a138 1
.PHONY: test
d196 1
a196 1
	(cd ddk && $(MAKE) install $(FLAGS_TO_PASS) prefix=../$(prefix) exec_prefix=../$(exec_prefix))
@


1.23
log
@
	* Makefile.in: Add components for lib/ddk.  Adjust for autoconf-2.53.
	* configure.in: Ditto.
	* lib/Makefile.in: Ditto.
	* lib/ddk/Makefile.in: Correct installation procedure.  Adjust for
	autoconf-2.53.
	* configure: Regenerate.
@
text
@d175 1
a175 1
.PHONY: install install-libraries install-headers install-pdk
d196 1
a196 1
	(cd ddk; $(MAKE) install)
d199 1
a199 1
uninstall: uninstall-pdk uninstall-libraries uninstall-headers
d213 2
a214 2
uninstall-pdk:
	cd ddk && $(MAKE) -C uninstall
d222 4
d230 3
@


1.22
log
@	* lib/Makefile.in (TEST_OPTIONS): Define WINVER to 0x0666.
@
text
@d18 6
a23 3
host_alias = @@host_alias@@
build_alias = @@build_alias@@
target_alias = @@target_alias@@
d88 15
d126 9
a134 1
all: $(LIBS) $(EXTRA_OBJS)
d175 1
d177 1
a177 1
install: install-libraries install-headers
d195 3
d199 1
a199 1
uninstall: uninstall-libraries uninstall-headers
d213 2
d243 1
@


1.21
log
@Merging MinGW changes
@
text
@d110 2
a111 1
TEST_OPTIONS = $(ALL_CFLAGS) -Wall -pedantic -Wsystem-headers -c $(srcdir)/test.c -o test.o
@


1.20
log
@	* include/winnt.h (EVENT_*, SEMAPHORE_*, MUTEX_*): Remove
	more defines added in earlier 2002-05-02 change.
	* lib/Makefile.in (TEST_OPTIONS): Add -Wsystem-headers flag.
@
text
@d90 1
d161 4
@


1.19
log
@* lib/Makefile.in: Revert inst_installdir definitions to working versions.
@
text
@d109 1
a109 1
TEST_OPTIONS = $(ALL_CFLAGS) -Wall -pedantic -c $(srcdir)/test.c -o test.o
@


1.18
log
@* lib/Makefile.in: Add .NOTPARALLEL target since dlltool cannot run in parallel
invocations.
* lib/scrnsave.c (WinMain): Trivial change to avoid a compiler warning.
@
text
@a21 1
config_prefix = @@prefix@@
a38 3
#FIXME.  The inst_includedir and inst_libdir need to be modified to use
#$(tooldir)/usr/include/w32api and $(tooldir)/usr/lib/w32api for the dist 
#targets.
a39 5
ifeq ($(build_alias),$(host_alias))
ifeq ($(prefix),$(config_prefix))
inst_includedir:=$(tooldir)/include/w32api
inst_libdir:=$(tooldir)/lib/w32api
else
a41 5
endif
else
inst_includedir:=$(includedir)
inst_libdir:=$(libdir)
endif
@


1.17
log
@
2001-09-18  Danny Smith  <dannysmith@@users.sourceforge.net>

	* include/winnt.h (_[U]LARGE_INTEGER): Mark nameless structure
	field as _ANONYMOUS_STRUCT.
	* include/setupapi.h (SP_DEVINSTALL_PARAMS): Add missing typedef
	for UNICODE.
	* include/ipexport.h (icmp_echo_reply): Remove extra ';'.
	* lib/makefile.in: Add -pedantic switch to TEST_OPTIONS for header
	test.

2001-09-17  Mattia Barbon  <mbarbon@@dsi.unive.it>

	* include/commctrl.h: Add some ListView constants.

2001-09-17  Earnie Boyd  <earnie@@sf.net>

	* lib/Makefile.in (inst_includedir): Add FIXME and remove the usr/
	portion of the directory from the install.
	(inst_libdir): Ditto.
	* Makefile.in (VERSION): Increment.
	* include/w32api.h: Increment version.
@
text
@d118 2
@


1.16
log
@
2001-09-17  Earnie Boyd  <earnie@@sf.net>

	* lib/Makefile.in (inst_includedir): Add FIXME and remove the usr/
	portion of the directory from the install.
	(inst_libdir): Ditto.
	* Makefile.in (VERSION): Increment.
	* include/w32api.h: Increment version.
@
text
@d121 1
a121 1
TEST_OPTIONS = $(ALL_CFLAGS) -Wall -c $(srcdir)/test.c -o test.o
@


1.15
log
@
2001-09-13  Earnie Boyd  <earnie@@SF.net>

	* lib/Makefile.in (inst_includedir): Change to always use w32api
	subdirectory for target == cygwin.
	(inst_libdir): Ditto.
@
text
@d40 3
d49 2
a50 2
inst_includedir:=$(tooldir)/usr/include/w32api
inst_libdir:=$(tooldir)/usr/lib/w32api
@


1.14
log
@
2001-09-13  Earnie Boyd  <earnie@@SF.net>

	* lib/Makefile.in (config_prefix): New variable.
	(inst_includedir): Manipulate special value only if target == cygwin
	and build == target and prefix != config_prefix.
	(inst_libdir): Ditto.
@
text
@d43 2
a44 2
inst_includedir:=$(includedir)
inst_libdir:=$(libdir)
@


1.13
log
@
2001-09-12  Earnie Boyd  <earnie@@SF.net>

	* Makefile.in: Increment version.
	* include/w32api.h: Ditto.
	* lib/Makefile.in: Add usr/ to install directory special for cygwin.
@
text
@d22 1
d41 5
d48 5
@


1.12
log
@
2001-09-04  Earnie Boyd  <earnie@@SF.Net>

	* lib/Makefile.in: Move the setting of variable libdir to after the
	setting of exec_prefix since the value of libdir is dependant on it.
@
text
@d40 2
a41 2
inst_includedir:=$(tooldir)/include/w32api
inst_libdir:=$(tooldir)/lib/w32api
@


1.11
log
@
	* lib/test.c (Win32_Winsock): Replace with __USE_W32_SOCKETS.
	Add more includes of w32api headers.
	* include/winnt.h (GetCurrentFiber): Change __inline to __inline__.
	Swap asm code with that of GetFiberData.
	(GetFiberData): Ditto.
	* lib/kernels.c: New file, containing library versions of
	GetCurrentFiber and GetFiberData.
	* lib/makefile.in: Add kernel32.o as static object to libkernal32.a.
@
text
@a22 1
libdir:=@@libdir@@
d26 1
@


1.10
log
@* lib/Makefile.in: Install libraries in /usr/lib/w32api when building for
cygwin.
@
text
@d97 2
a98 1
EXTRA_OBJS=uuid.o shell32.o dxguid.o scrnsave.o scrnsavw.o largeint.o $(UUID_OBJS) dinput.o
d100 1
a100 1
res.rc test.c
@


1.9
log
@
2001-03-01  Earnie Boyd  <earnie@@users.sourceforge.net

	* Makefile.in: (snapshot): Add target.
	* lib/Makefile.in: (install-headers): Use installdir variable.
	(installdir): Set value based on target-alias.
@
text
@d22 2
a27 1
libdir = @@libdir@@
d40 2
a41 1
includedir = $(tooldir)/include/w32api
d43 2
a44 1
includedir = @@includedir@@
d148 1
a148 1
	$(mkinstalldirs) $(tooldir)/lib
d150 1
a150 1
		$(INSTALL_DATA) $$i $(tooldir)/lib/$$i ; \
d154 1
a154 1
	$(mkinstalldirs) $(includedir)
d156 1
a156 1
		$(INSTALL_DATA) $(srcdir)/../include/$$i $(includedir)/$$i ; \
d164 1
a164 1
		rm -f $(tooldir)/lib/$$i ; \
d166 1
d170 1
a170 1
		rm -r $(tooldir)/include/w32api/$$i ; \
d172 1
a172 1
	rmdir $(tooldir)/include/w32api
@


1.8
log
@
	* lib/Makefile.in: (host_alias): Add variable.
	(host_build): Ditto:
	(xinstall): Removed
	(xinstall-libraries): Ditto.
	(xinstall-headers): Ditto.
	(xuninstall): Ditto.
	(xuninstall-libraries): Ditto.
	(xuninstall-headers): Ditto.
	* Makefile.in: (host_alias): Add variable.
	(build_alias): Ditto.
@
text
@d38 3
d42 1
d151 1
a151 1
	$(mkinstalldirs) $(tooldir)/include/w32api
d153 1
a153 1
		$(INSTALL_DATA) $(srcdir)/../include/$$i $(tooldir)/include/w32api/$$i ; \
@


1.7
log
@missed a spot.
@
text
@d18 2
a137 29
xinstall: xinstall-libraries xinstall-headers

xinstall-libraries: all
	$(mkinstalldirs) $(tooldir)/lib
	for i in $(LIBS); do \
		$(INSTALL_DATA) $$i $(tooldir)/lib/$$i ; \
	done

xinstall-headers:
	$(mkinstalldirs) $(tooldir)/include/w32api
	for i in $(HEADERS); do \
		$(INSTALL_DATA) $(srcdir)/../include/$$i $(tooldir)/include/w32api/$$i ; \
	done

# uninstall headers and libraries from a target specified directory
xuninstall: xuninstall-libraries xuninstall-headers

xuninstall-libraries:
	@@for i in $(LIBS); do \
		rm -f $(tooldir)/lib/$$i ; \
	done

xuninstall-headers:
	@@for i in $(HEADERS); do \
		rm -r $(tooldir)/include/w32api/$$i ; \
	done
	rmdir $(tooldir)/include/w32api

# install headers and libraries 
d152 1
a152 1
# uninstall headers and libraries 
d162 1
a162 1
		rm -f $(tooldir)/include/w32api/$$i ; \
d165 1
@


1.6
log
@* lib/Makefile.in: Don't make "links" to include/w32api directory.
@
text
@a176 1
		echo "#include <w32api/$$i>" > $(tooldir)/include/$$i ; \
@


1.5
log
@* lib/Makefile.in: Install headers and libraries in tooldir.
@
text
@a147 1
		echo "#include <w32api/$$i>" > $(tooldir)/include/$$i ; \
@


1.4
log
@
	* Makefile.in: increment VERSION.
	(dist:) Rename to srcdist.  Create new dist target to call
	srcdist and bindist targets.
	(srcdist:) New target.
	(clean-top:) add call to mostlyclean-top and add rm of distribution
	tarballs.
	* lib/Makefile.in: (uninstall:) modify to remove files from the
	new w32api subdirectory and to remove w32api subdirectory.
	(xuninstall:) Ditto.
	TODO: Add a task to redo the clean targets of Makefile.in
@
text
@d25 9
a33 1
tooldir = $(exec_prefix)/$(target_alias)
d169 1
a169 1
	$(mkinstalldirs) $(exec_prefix)/lib
d171 1
a171 1
		$(INSTALL_DATA) $$i $(exec_prefix)/lib/$$i ; \
d175 1
a175 1
	$(mkinstalldirs) $(exec_prefix)/include/w32api
d177 2
a178 2
		$(INSTALL_DATA) $(srcdir)/../include/$$i $(exec_prefix)/include/w32api/$$i ; \
		echo "#include <w32api/$$i>" > $(exec_prefix)/include/$$i ; \
d186 1
a186 1
		rm -f $(exec_prefix)/lib/$$i ; \
d191 1
a191 1
		rm -f $(exec_prefix)/include/w32api/$$i ; \
d193 1
a193 1
	rmdir $(exec_prefix)/include/w32api
@


1.3
log
@* lib/Makefile.in: Install header files in w32api subdirectory.
@
text
@d153 1
a153 1
		rm -f $(tooldir)/include/$$i ; \
d155 1
d183 1
a183 1
		rm -f $(exec_prefix)/include/$$i ; \
d185 1
@


1.2
log
@Makefile.in shuffle.
@
text
@d137 1
a137 1
	$(mkinstalldirs) $(tooldir)/include
d139 2
a140 1
		$(INSTALL_DATA) $(srcdir)/../include/$$i $(tooldir)/include/$$i ; \
d166 1
a166 1
	$(mkinstalldirs) $(exec_prefix)/include
d168 2
a169 1
		$(INSTALL_DATA) $(srcdir)/../include/$$i $(exec_prefix)/include/$$i ; \
@


1.1
log
@Initial revision
@
text
@d127 2
a128 2
# install headers and libraries
install: install-libraries install-headers
d130 1
a130 1
install-libraries: all
d136 1
a136 1
install-headers:
d142 29
a170 1
# uninstall headers and libraries
d175 1
a175 1
		rm -f $(tooldir)/lib/$$i ; \
d180 1
a180 1
		rm -f $(tooldir)/include/$$i ; \
@


1.1.1.1
log
@import winsup-2000-02-17 snapshot
@
text
@@
