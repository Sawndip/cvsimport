head	1.39;
access;
symbols
	cygwin-1_7_35-release:1.39
	cygwin-1_7_34-release:1.39
	cygwin-1_7_33-release:1.36
	cygwin-1_7_32-release:1.36
	cygwin-1_7_31-release:1.36
	cygwin-1_7_30-release:1.36
	cygwin-1_7_29-release:1.36
	cygwin-1_7_29-release-branchpoint:1.36.0.2
	cygwin-1_7_28-release:1.36
	cygwin-1_7_27-release:1.36
	cygwin-1_7_26-release:1.36
	cygwin-1_7_25-release:1.35
	cygwin-1_7_24-release:1.35
	cygwin-1_7_23-release:1.35
	cygwin-1_7_22-release:1.35
	cygwin-1_7_21-release:1.33
	cygwin-1_7_20-release:1.33
	cygwin-1_7_19-release:1.33
	cygwin-64bit-postmerge:1.27
	cygwin-64bit-premerge-branch:1.27.0.4
	cygwin-64bit-premerge:1.27
	cygwin-1_7_18-release:1.27
	cygwin-1_7_17-release:1.27
	cygwin-64bit-branch:1.27.0.2
	cygwin-1_7_16-release:1.27
	cygwin-1_7_15-release:1.27
	cygwin-1_7_14_2-release:1.27
	cygwin-1_7_14-release:1.27
	cygwin-1_7_12-release:1.27
	cygwin-1_7_11-release:1.27
	cygwin-1_7_10-release:1.27
	cygwin-1_7_9-release:1.27
	cygwin-1_7_8-release:1.27
	cygwin-1_7_7-release:1.27
	cygwin-1_7_5-release:1.26
	cygwin-1_7_4-release:1.26
	cygwin-1_7_3-release:1.26
	cygwin-1_7_2-release:1.26
	cygwin-1_7_1-release:1.25
	cv-branch-2:1.24.0.2
	cr-0x5f1:1.22.0.4
	cv-branch:1.22.0.2
	cr-0x3b58:1.21.0.2
	cr-0x9e:1.13.0.4
	cr-0x9d:1.13.0.2
	corinna-01:1.12
	cr-0x9c:1.12.0.6
	cr-0x9b:1.12.0.4
	cr-0x99:1.12
	Z-emcb-cygwin_daemon:1.12.0.2
	w32api-2_2:1.12
	mingw-runtime-2_4:1.12
	cygnus_cvs_20020108_pre:1.12
	Z-cygwin_daemon_merge-new_HEAD:1.9
	Z-cygwin_daemon_merge_HEAD:1.9
	cygwin_daemon:1.9.0.4;
locks; strict;
comment	@# @;
expand	@o@;


1.39
date	2014.11.28.20.25.24;	author yselkowitz;	state Exp;
branches;
next	1.38;

1.38
date	2014.10.22.20.04.42;	author corinna;	state Exp;
branches;
next	1.37;

1.37
date	2014.08.14.19.44.28;	author corinna;	state Exp;
branches;
next	1.36;

1.36
date	2013.11.07.00.19.51;	author cgf;	state Exp;
branches;
next	1.35;

1.35
date	2013.07.21.10.16.53;	author corinna;	state Exp;
branches;
next	1.34;

1.34
date	2013.07.20.10.44.50;	author corinna;	state Exp;
branches;
next	1.33;

1.33
date	2013.06.04.11.50.41;	author corinna;	state Exp;
branches;
next	1.32;

1.32
date	2013.05.23.19.02.46;	author tangent;	state Exp;
branches;
next	1.31;

1.31
date	2013.05.03.20.41.12;	author cgf;	state Exp;
branches;
next	1.30;

1.30
date	2013.05.02.00.10.15;	author tangent;	state Exp;
branches;
next	1.29;

1.29
date	2013.05.01.23.30.20;	author tangent;	state Exp;
branches;
next	1.28;

1.28
date	2013.04.23.15.49.08;	author corinna;	state Exp;
branches;
next	1.27;

1.27
date	2010.06.27.21.32.19;	author yselkowitz;	state Exp;
branches;
next	1.26;

1.26
date	2010.01.26.16.16.19;	author cgf;	state Exp;
branches;
next	1.25;

1.25
date	2009.07.20.15.08.08;	author corinna;	state Exp;
branches;
next	1.24;

1.24
date	2009.02.11.16.44.13;	author corinna;	state Exp;
branches;
next	1.23;

1.23
date	2008.07.01.17.17.31;	author cgf;	state Exp;
branches;
next	1.22;

1.22
date	2006.01.19.02.44.17;	author joshuadfranklin;	state Exp;
branches;
next	1.21;

1.21
date	2005.08.27.01.32.36;	author joshuadfranklin;	state Exp;
branches;
next	1.20;

1.20
date	2005.08.06.05.14.41;	author joshuadfranklin;	state Exp;
branches;
next	1.19;

1.19
date	2005.01.29.22.35.17;	author joshuadfranklin;	state Exp;
branches;
next	1.18;

1.18
date	2004.12.27.19.03.56;	author joshuadfranklin;	state Exp;
branches;
next	1.17;

1.17
date	2004.06.15.03.23.23;	author joshuadfranklin;	state Exp;
branches;
next	1.16;

1.16
date	2004.02.22.23.49.15;	author joshuadfranklin;	state Exp;
branches;
next	1.15;

1.15
date	2004.02.05.05.00.34;	author joshuadfranklin;	state Exp;
branches;
next	1.14;

1.14
date	2004.01.20.17.20.34;	author joshuadfranklin;	state Exp;
branches;
next	1.13;

1.13
date	2004.01.11.08.32.09;	author joshuadfranklin;	state Exp;
branches;
next	1.12;

1.12
date	2002.01.01.20.28.29;	author cgf;	state Exp;
branches;
next	1.11;

1.11
date	2002.01.01.17.10.13;	author cgf;	state Exp;
branches;
next	1.10;

1.10
date	2001.12.04.04.20.30;	author cgf;	state Exp;
branches;
next	1.9;

1.9
date	2001.06.13.17.54.55;	author cgf;	state Exp;
branches;
next	1.8;

1.8
date	2001.05.30.01.30.38;	author cgf;	state Exp;
branches;
next	1.7;

1.7
date	2001.05.29.20.25.21;	author cgf;	state Exp;
branches;
next	1.6;

1.6
date	2000.05.31.15.19.47;	author davidsb;	state Exp;
branches;
next	1.5;

1.5
date	2000.05.16.15.13.49;	author davidsb;	state Exp;
branches;
next	1.4;

1.4
date	2000.04.19.02.35.06;	author dj;	state Exp;
branches;
next	1.3;

1.3
date	2000.04.19.02.31.45;	author dj;	state Exp;
branches;
next	1.2;

1.2
date	2000.04.19.00.55.19;	author dj;	state Exp;
branches;
next	1.1;

1.1
date	2000.02.17.19.38.31;	author cgf;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.02.17.19.38.31;	author cgf;	state Exp;
branches;
next	;


desc
@@


1.39
log
@* Makefile.in (XSLTPROC): Remove.
(cygwin-ug-net/cygwin-ug-net.pdf): Build with xmlto pdf.
(cygwin-api/cygwin-api.pdf): Ditto.
(faq/faq.html): Fix extraneous anchor removal.
@
text
@# -*- Makefile -*- for winsup/doc
# Copyright (c) 1998-2000, 2001, 2002, 2004, 2005, 2006, 2008, 2009, 2010,
# 2013, 2014 Red Hat, Inc.
#
# This file is part of Cygwin.
#
# This software is a copyrighted work licensed under the terms of the
# Cygwin license.  Please consult the file "CYGWIN_LICENSE" for
# details.

SHELL = @@SHELL@@
srcdir = @@srcdir@@
VPATH = @@srcdir@@

datarootdir:=@@datarootdir@@
docdir = @@docdir@@
htmldir = @@htmldir@@

override INSTALL:=@@INSTALL@@
override INSTALL_DATA:=@@INSTALL_DATA@@

MKDIRP:=$(INSTALL) -m 755 -d

CC:=@@CC@@
CC_FOR_TARGET:=@@CC@@

XMLTO:=xmlto --skip-validation --with-dblatex

include $(srcdir)/../Makefile.common

FAQ_SOURCES:= $(wildcard $(srcdir)/faq*.xml)

.SUFFIXES: .html .body

.html.body:
	$(srcdir)/bodysnatcher.pl $<

.PHONY: all clean install install-all install-pdf install-html tarball

all: Makefile Makefile.dep \
	cygwin-ug-net/cygwin-ug-net.html \
	cygwin-ug-net/cygwin-ug-net-nochunks.html.gz \
	cygwin-api/cygwin-api.html \
	faq/faq.body faq/faq.html \
	cygwin-ug-net/cygwin-ug-net.pdf \
	cygwin-api/cygwin-api.pdf

Makefile: $(srcdir)/Makefile.in
	/bin/sh ./config.status

clean:
	rm -f Makefile.dep
	rm -f *.html *.html.gz
	rm -Rf cygwin-api cygwin-ug cygwin-ug-net faq

install: install-all

install-all: install-pdf install-html

install-pdf: cygwin-ug-net/cygwin-ug-net.pdf cygwin-api/cygwin-api.pdf
	@@$(MKDIRP) $(DESTDIR)$(docdir)
	$(INSTALL_DATA) $^ $(DESTDIR)$(docdir)
	
install-html: cygwin-ug-net/cygwin-ug-net.html cygwin-api/cygwin-api.html
	@@$(MKDIRP) $(DESTDIR)$(htmldir)/cygwin-ug-net
	$(INSTALL_DATA) cygwin-ug-net/*.html $(DESTDIR)$(htmldir)/cygwin-ug-net
	$(INSTALL_DATA) cygwin-ug-net/cygwin-ug-net.html $(DESTDIR)$(htmldir)/cygwin-ug-net/index.html
	@@$(MKDIRP) $(DESTDIR)$(htmldir)/cygwin-api
	$(INSTALL_DATA) cygwin-api/*.html $(DESTDIR)$(htmldir)/cygwin-api
	$(INSTALL_DATA) cygwin-api/cygwin-api.html $(DESTDIR)$(htmldir)/cygwin-api/index.html

cygwin-ug-net/cygwin-ug-net-nochunks.html.gz : cygwin-ug-net.xml
	-$(XMLTO) html-nochunks -m $(srcdir)/cygwin.xsl $<
	-cp cygwin-ug-net.html cygwin-ug-net/cygwin-ug-net-nochunks.html
	-rm -f cygwin-ug-net/cygwin-ug-net-nochunks.html.gz
	-gzip cygwin-ug-net/cygwin-ug-net-nochunks.html

cygwin-ug-net/cygwin-ug-net.html : cygwin-ug-net.xml cygwin.xsl
	-$(XMLTO) html -o cygwin-ug-net/ -m $(srcdir)/cygwin.xsl $<

cygwin-ug-net/cygwin-ug-net.pdf : cygwin-ug-net.xml fo.xsl
	-$(XMLTO) pdf -o cygwin-ug-net/ $<

cygwin-api/cygwin-api.html : cygwin-api.xml cygwin.xsl
	-$(XMLTO) html -o cygwin-api/ -m $(srcdir)/cygwin.xsl $<

cygwin-api/cygwin-api.pdf : cygwin-api.xml fo.xsl
	-$(XMLTO) pdf -o cygwin-api/ $<

faq/faq.html : $(FAQ_SOURCES)
	-$(XMLTO) html -o faq -m $(srcdir)/cygwin.xsl $(srcdir)/faq.xml
	-sed -i 's;<a name="id[mp][0-9]*"></a>;;g' faq/faq.html

TBFILES = cygwin-ug-net.dvi cygwin-ug-net.rtf cygwin-ug-net.ps \
	  cygwin-ug-net.pdf cygwin-ug-net.xml \
	  cygwin-api.dvi cygwin-api.rtf cygwin-api.ps \
	  cygwin-api.pdf cygwin-api.xml
TBDIRS = cygwin-ug-net cygwin-api
TBDEPS = cygwin-ug-net/cygwin-ug-net.html cygwin-api/cygwin-api.html

tarball : cygwin-docs.tar.bz2
cygwin-docs.tar.bz2 : $(TBFILES) $(TBDEPS)
	find $(TBFILES) $(TBDIRS) \! -type d | sort | tar -T - -cf -  | bzip2 > cygwin-docs.tar.bz2

Makefile.dep: cygwin-ug-net.xml cygwin-api.xml
	cd $(srcdir) && ./xidepend $^ > "${CURDIR}/$@@"

-include Makefile.dep
@


1.38
log
@	* Makefile.in: Create install targets.
	(cygwin-ug-net/cygwin-ug-net.pdf): Create subdir to allow building PDF
	even if subdir is missing.
	(cygwin-api/cygwin-api.pdf): Ditto.
	* configure.ac: Add AC_PROG_INSTALL rule.
	* configure: Regenerate.
	* new-features.xml (ov-new1.7.33): Add installation of docs.
@
text
@a26 1
XSLTPROC:=xsltproc --xinclude
d82 1
a82 2
	@@$(MKDIRP) cygwin-ug-net
	-$(XSLTPROC) $(srcdir)/fo.xsl $< | fop -q -fo - $@@
d88 1
a88 2
	@@$(MKDIRP) cygwin-api
	-$(XSLTPROC) $(srcdir)/fo.xsl $< | fop -q -fo - $@@
d92 1
a92 1
	-sed -i 's;</a><a name="id[0-9]*"></a>;</a>;g' faq/faq.html
@


1.37
log
@	* Makefile.in: Throughout use parenthesis instead of braces where
	appropriate.
	(DBXDIRS): Remove.
	(XSLTPROC): Define for symmetry.  Use throughout.
	(clean): Drop removing cygwin-api.xml and doctool.*.
	(cygwin-api.xml): Drop rule.
	(doctool): Drop rule.
	(Makefile.dep): Add dependency to cygwin-api.xml.
	* cygwin-api.in.xml: Rename to cygwin-api.xml.  Convert includes to
	XML XInclude style.
	* doctool.c: Remove.
	* doctool.txt: Remove.
	* faq-programming.xml: Drop reference to local utils.xml file.
	* path.xml: Moved from ../cygwin and converted to XML.
	* posix.xml: Ditto.
	* using.xml: Drop relative path from utils.xml include.
	* utils.xml: Moved from ../utils.
@
text
@d3 1
a3 1
# 2013 Red Hat, Inc.
d15 9
d39 2
d57 15
a71 1
install: all
d83 1
d90 1
@


1.36
log
@winsup/ChangeLog:
2013-11-06  Christopher Faylor  <me.cygwin2013@@cgf.cx>

	* configure.ac: Detect windows headers/libs after we've figured out the
	C compiler.
	* configure: Regenerate.
	* aclocal.m4: Regenerate.
	* configure.cygwin: Default to '.' if can't find a winsup directory.

winsup/cygserver/ChangeLog:
2013-11-06  Christopher Faylor  <me.cygwin2013@@cgf.cx>

	* configure.ac: Detect windows headers/libs after we've figured out the
	C compiler.
	* configure: Regenerate.
	* aclocal.m4: Regenerate.

winsup/cygwin/ChangeLog:
2013-11-06  Christopher Faylor  <me.cygwin2013@@cgf.cx>

	* configure.ac: Detect windows headers/libs after we've figured out the
	C compiler.
	* configure: Regenerate.
	* aclocal.m4: Regenerate.

winsup/utils/ChangeLog:
2013-11-06  Christopher Faylor  <me.cygwin2013@@cgf.cx>

	* configure.ac: Detect windows headers/libs after we've figured out the
	C compiler.
	* configure: Regenerate.
	* aclocal.m4: Regenerate.
@
text
@a14 2
DBXDIRS =  -d $(srcdir) -d $(srcdir)/../utils -d $(srcdir)/../cygwin

d18 1
d23 1
a23 1
FAQ_SOURCES:= $(wildcard ${srcdir}/faq*.xml)
d38 1
a38 1
Makefile: ${srcdir}/Makefile.in
a42 2
	rm -f doctool.exe doctool.o
	rm -f cygwin-api.xml
d49 1
a49 1
	-${XMLTO} html-nochunks -m $(srcdir)/cygwin.xsl $<
d55 1
a55 1
	-${XMLTO} html -o cygwin-ug-net/ -m $(srcdir)/cygwin.xsl $<
d58 1
a58 1
	-xsltproc --xinclude $(srcdir)/fo.xsl $< | fop -q -fo - $@@
d61 1
a61 1
	-${XMLTO} html -o cygwin-api/ -m $(srcdir)/cygwin.xsl $<
d64 1
a64 4
	-xsltproc --xinclude $(srcdir)/fo.xsl $< | fop -q -fo - $@@

cygwin-api.xml : cygwin-api.in.xml doctool Makefile.in
	-./doctool -m $(DBXDIRS) -s $(srcdir) -o $@@ $<
d67 1
a67 1
	-${XMLTO} html -o faq -m $(srcdir)/cygwin.xsl $(srcdir)/faq.xml
a69 3
doctool : doctool.c
	gcc -g $< -o $@@

d81 1
a81 1
Makefile.dep: cygwin-ug-net.xml
@


1.35
log
@	* Makefile.in (cygwin-ug-net/cygwin-ug-net.html): Add dependency to
	cygwin.xsl.
	(cygwin-api/cygwin-api.html): Ditto.
	(cygwin-ug-net/cygwin-ug-net.pdf): Add dependency to fo.xsl.
	(cygwin-api/cygwin-api.pdf): Ditto.
	(cygwin-api.xml): Drop "." path component from doctool dependency.
	Change Makefile to Makefile.in dep.
	(doctool): Drop "." path component from target.
@
text
@a18 1
exeext:=@@build_exeext@@
d91 1
a91 3
	builddir=`pwd` \
	&& cd $(srcdir) \
	&& $(srcdir)/xidepend $^ > "$${builddir}/$@@"
@


1.34
log
@	* Makefile.in (cygwin-ug-net/cygwin-ug-net.pdf): Process input via
	xsltproc and fop.
	(cygwin-api/cygwin-api.pdf): Ditto.
	* fo.xsl: New file.
@
text
@d58 1
a58 1
cygwin-ug-net/cygwin-ug-net.html : cygwin-ug-net.xml
d61 1
a61 1
cygwin-ug-net/cygwin-ug-net.pdf : cygwin-ug-net.xml
d64 1
a64 1
cygwin-api/cygwin-api.html : cygwin-api.xml
d67 1
a67 1
cygwin-api/cygwin-api.pdf : cygwin-api.xml
d70 1
a70 1
cygwin-api.xml : cygwin-api.in.xml ./doctool Makefile
d77 1
a77 1
./doctool : doctool.c
@


1.33
log
@	* Makefile.in: Add rule to rebuild Makefile if Makefile.in changes.
	Include Makefile.dep last.
	(Makefile.dep): Run xidepend within source dir.  Temporarily drop
	faq.xml from dependencies.
	* xidepend: Fix creating base filename to accommodate VPATH.
@
text
@d50 1
a50 1
install:	all
a60 1
# Some versions of jw hang with the -o option
d62 1
a62 1
	-${XMLTO} pdf -o cygwin-ug-net/ $<
d68 1
a68 1
	-${XMLTO} pdf -o cygwin-api/ $<
@


1.32
log
@Created xidepend mechanism
@
text
@a23 1
-include $(srcdir)/Makefile.dep
d40 3
d92 6
a97 2
Makefile.dep: cygwin-ug-net.xml faq.xml
	$(srcdir)/xidepend $^ > $@@
@


1.31
log
@* Makefile (FAQ_SOURCES): Use wildcard function to find sources in srcdir.
@
text
@d24 1
d33 1
a33 1
all: Makefile \
d42 1
d89 3
@


1.30
log
@Generating faq/faq.body automatically from faq/faq.html whenever latter
is updated, using new bodysnatcher.pl script.
@
text
@d25 1
a25 1
FAQ_SOURCES:= faq*.xml
@


1.29
log
@Modernized user guide, API reference, and FAQ generation.  Overall
effect is to move away from DocBook SGML and DJ Delorie's doctool and
toward pure DocBook XSL.  (There remains just one use of doctool, and
we have plans for replacing it, too.)  See ChangeLog for details.
@
text
@d27 4
a30 1
.SUFFIXES:
d36 1
a36 1
	faq/faq.html \
@


1.28
log
@	* Makefile.in (SGMLDIRS): Accommodate dropping utils_source and
	cygwin_source from ../Makefile.common.
	* new-features.sgml (ov-new1.7.19): New section.  Document dropped
	support for pre-XP SP3 and added support for 64 bit Cygwin.
@
text
@d15 1
a15 1
SGMLDIRS =  -d $(srcdir) -d $(srcdir)/../utils -d $(srcdir)/../cygwin
d25 1
a25 8
TOCLEAN:=faq.txt ./*.html readme.txt doctool.o doctool.exe *.junk \
	 cygwin-ug.sgml cygwin-ug cygwin-ug-net.html.gz \
	 cygwin-ug-net.sgml cygwin-ug-net cygwin-ug-net.html \
	 cygwin-api.sgml cygwin-api cygwin-api-int.sgml cygwin-api-int \
	 faq

FAQ_SOURCES:= faq-api.xml faq-programming.xml faq-resources.xml \
	      faq-sections.xml faq-setup.xml faq-using.xml faq-what.xml faq.xml
d29 1
a29 1
all : \
d33 1
a33 1
	faq/faq.html faq/faq-nochunks.html \
d38 4
a41 1
	rm -Rf $(TOCLEAN)
d45 2
a46 2
cygwin-ug-net/cygwin-ug-net-nochunks.html.gz : cygwin-ug-net.sgml doctool
	-${XMLTO} html-nochunks -m $(srcdir)/cygwin.dsl $<
d51 2
a52 2
cygwin-ug-net/cygwin-ug-net.html : cygwin-ug-net.sgml doctool
	-${XMLTO} html -o cygwin-ug-net/ -m $(srcdir)/cygwin.dsl $<
d55 1
a55 1
cygwin-ug-net/cygwin-ug-net.pdf : cygwin-ug-net.sgml
d58 2
a59 5
cygwin-ug-net.sgml : cygwin-ug-net.in.sgml ./doctool Makefile
	-./doctool -m $(SGMLDIRS) -s $(srcdir) -o $@@ $<

cygwin-api/cygwin-api.html : cygwin-api.sgml
	-${XMLTO} html -o cygwin-api/ -m $(srcdir)/cygwin.dsl $<
d61 1
a61 1
cygwin-api/cygwin-api.pdf : cygwin-api.sgml
d64 2
a65 2
cygwin-api.sgml : cygwin-api.in.sgml ./doctool Makefile
	-./doctool -m $(SGMLDIRS) -s $(srcdir) -o $@@ $<
d68 2
a69 6
	-${XMLTO} html -o faq -m $(srcdir)/cygwin.dsl $(srcdir)/faq-sections.xml
	-sed -i 's;</a><a name="id[0-9]*"></a>;</a>;g' faq/faq.*.html

faq/faq-nochunks.html : $(FAQ_SOURCES)
	-${XMLTO} html -o faq -m $(srcdir)/cygwin.dsl $(srcdir)/faq.xml
	-sed -i 's;</a><a name="id[0-9]*"></a>;</a>;g' faq/faq-nochunks.html
d75 1
a75 1
	  cygwin-ug-net.pdf cygwin-ug-net.sgml \
d77 1
a77 1
	  cygwin-api.pdf cygwin-api.sgml
@


1.27
log
@* Makefile.in: Use "xmlto pdf" instead of docbook2pdf.
Force the dblatex backend, as the default passivetex does not work.
* README: Replace docbook-utils dependency with dblatex.
Update required docbook-xml version.
* faq-programming.xml: Ditto.
@
text
@d2 2
a3 1
# Copyright (c) 1998-2000,2001 Red Hat, Inc.
d15 1
a15 1
SGMLDIRS =  -d $(srcdir) -d $(utils_source) -d $(cygwin_source)
@


1.26
log
@* Makefile.in: Skip validation in xmlto step.
* overview.sgml: Clarify language in "A brief history of Cygwin".
@
text
@d20 1
a20 1
XMLTO:=xmlto --skip-validation
d59 1
a59 1
	-cd cygwin-ug-net && docbook2pdf ../$<
d68 1
a68 1
	-cd cygwin-api && docbook2pdf ../$<
@


1.25
log
@	* Makefile.in (all): Fix wrong target names.
	(cygwin-ug-net/cygwin-ug-net-nochunks.html.gz): Ditto.
	(cygwin-ug-net/cygwin-ug-net.pdf): Convert to use docbook2pdf.
	(cygwin-api/cygwin-api.pdf): Ditto.
@
text
@d20 2
d49 1
a49 1
	-xmlto html-nochunks -m $(srcdir)/cygwin.dsl $<
d55 1
a55 1
	-xmlto html -o cygwin-ug-net/ -m $(srcdir)/cygwin.dsl $<
d65 1
a65 1
	-xmlto html -o cygwin-api/ -m $(srcdir)/cygwin.dsl $<
d74 1
a74 1
	-xmlto html -o faq -m $(srcdir)/cygwin.dsl $(srcdir)/faq-sections.xml
d78 1
a78 1
	-xmlto html -o faq -m $(srcdir)/cygwin.dsl $(srcdir)/faq.xml
@


1.24
log
@	* Makefile.in (FAQ_SOURCES): Define FAQ sources.
	(faq/faq.html): Depend on FAQ sources.
	(faq/faq-nochunks.html): Ditto.
	* faq-api.xml: Revamp for Cygwin 1.7.
	* faq-problems.xml: Remove.
	* faq-sections.xml: Accommodate removal of faq-problems.xml.
	* faq.xml: Ditto.
@
text
@d35 1
a35 1
	cygwin-ug-net/cygwin-ug-net.html.gz \
d39 1
a39 1
	cygwin-api/cygwin-api.html
d46 1
a46 1
cygwin-ug-net/cygwin-ug-net.html.gz : cygwin-ug-net.sgml doctool
d55 3
a57 2
cygwin-ug-net/cygwin-ug-net.pdf : cygwin-ug-net.sgml doctool
	-xmlto --extension -v pdf -o cygwin-ug-net/ -m $(srcdir)/cygwin.dsl $<
d66 1
a66 1
	-xmlto --extension -v pdf -o cygwin-api/ -m $(srcdir)/cygwin.dsl $<
@


1.23
log
@* Makefile.in: Temporarily add ability to generate pdfs.
@
text
@d28 3
d70 1
a70 1
faq/faq.html :
d74 1
a74 1
faq/faq-nochunks.html :
@


1.22
log
@Remove references to and files from old texinfo FAQ.
@
text
@d34 3
a36 1
	faq/faq.html faq/faq-nochunks.html
d52 3
d61 3
@


1.21
log
@
2005-08-26  Joshua Daniel Franklin  <joshuadfranklin@@yahoo.com>

	* Makefile.in: Remove extra anchor to make NN4 happy.
	* faq.xml: Link to cygwin.com/license.html
	* faq-resources.xml: Link instead of duplicating info.
	* faq-using.xml: Split out services and network shares FAQ.
	* faq-what.xml: Link to cygwin.com/license.html
@
text
@a15 6
# These *.info targets don't actually work, so remove them for now.
# Put them back when we figure out what to do with them. (davisb)
#DOC=faq.txt faq.info readme.txt readme.info
DOC=faq.txt readme.txt
HTMLDOC=faq0.html faq.html readme.html

a19 4
MAKEINFO:=makeinfo
TEXI2DVI:=texi2dvi
TEXI2HTML:=texi2html

a69 44
%.dvi: %.sgml
	-db2dvi $<

%.rtf: %.sgml
	-db2rtf $<

%.ps: %.sgml
	-db2ps $<

%.pdf: %.ps
	-ps2pdf $< $@@

%.info: %.texinfo
	-$(MAKEINFO) -I $(srcdir) $<

%.txt: %.texinfo
	-$(MAKEINFO) -I $(srcdir) $<

%.html: %.texinfo
	-$(TEXI2HTML) -I $(srcdir) $<

readme.txt: $(srcdir)/readme.texinfo $(srcdir)/*.texinfo
	-$(MAKEINFO) -I$(srcdir) --no-split --no-headers $< -o - |\
	sed '/^Concept Index/,$$d' > $@@

#faq0.html: $(srcdir)/faq.texinfo $(srcdir)/*.texinfo
#	-rm -f faq_toc.html; \
#	for i in $(srcdir)/*.texinfo ; do \
#		sed < $$i -e 's?@@file{\([fth]*p://[^}]*\)}?@@strong{<A HREF="\1">\1</A>}?' \
#	    -e 's?\([.+a-zA-Z0-9-]*@@@@[.a-zA-Z0-9-]*[a-zA-Z0-9]\)?<A HREF="mailto:\1">\1</A>?' >./`basename $$i` ; done; \
#	$(TEXI2HTML) -monolithic ./faq.texinfo; \
#	rm -f *.texinfo; \
#	sed -e 's;"faq.html;"faq0.html;g' faq.html > faq0.html; \
#	rm -f faq.html; exit 0
#
#faq.html: $(srcdir)/faq.texinfo $(srcdir)/*.texinfo
#	-rm -f faq_toc.html; \
#	for i in $(srcdir)/*.texinfo ; do \
#		sed < $$i -e 's?@@file{\([fth]*p://[^}]*\)}?@@strong{<A HREF="\1">\1</A>}?' \
#	    -e 's?\([.+a-zA-Z0-9-]*@@@@[.a-zA-Z0-9-]*[a-zA-Z0-9]\)?<A HREF="mailto:\1">\1</A>?' >./`basename $$i` ; done; \
#	$(TEXI2HTML) -split_chapter ./faq.texinfo; \
#	rm -f *.texinfo; \
#	[ -r faq_toc.html ] && mv faq_toc.html faq.html; exit 0

@


1.20
log
@Update to switch FAQ from texinfo to DocBook.
@
text
@d71 1
d75 1
@


1.19
log
@
* ntsec.sgml: Add Pierre's Windows 2003 text.
@
text
@d33 1
a33 1
	 cygwin-ug.sgml cygwin-ug \
d35 2
a36 1
	 cygwin-api.sgml cygwin-api cygwin-api-int.sgml cygwin-api-int
d42 1
a42 1
	cygwin-ug-net.html \
d44 1
a44 1
	$(HTMLDOC)
d51 1
a51 1
cygwin-ug-net.html : cygwin-ug-net.sgml doctool
a58 1
	-mv cygwin-ug-net/index.html cygwin-ug-net/cygwin-ug-net.html
a64 1
	-mv cygwin-api/index.html cygwin-api/cygwin-api.html
d69 6
d103 18
a120 18
faq0.html: $(srcdir)/faq.texinfo $(srcdir)/*.texinfo
	-rm -f faq_toc.html; \
	for i in $(srcdir)/*.texinfo ; do \
		sed < $$i -e 's?@@file{\([fth]*p://[^}]*\)}?@@strong{<A HREF="\1">\1</A>}?' \
	    -e 's?\([.+a-zA-Z0-9-]*@@@@[.a-zA-Z0-9-]*[a-zA-Z0-9]\)?<A HREF="mailto:\1">\1</A>?' >./`basename $$i` ; done; \
	$(TEXI2HTML) -monolithic ./faq.texinfo; \
	rm -f *.texinfo; \
	sed -e 's;"faq.html;"faq0.html;g' faq.html > faq0.html; \
	rm -f faq.html; exit 0

faq.html: $(srcdir)/faq.texinfo $(srcdir)/*.texinfo
	-rm -f faq_toc.html; \
	for i in $(srcdir)/*.texinfo ; do \
		sed < $$i -e 's?@@file{\([fth]*p://[^}]*\)}?@@strong{<A HREF="\1">\1</A>}?' \
	    -e 's?\([.+a-zA-Z0-9-]*@@@@[.a-zA-Z0-9-]*[a-zA-Z0-9]\)?<A HREF="mailto:\1">\1</A>?' >./`basename $$i` ; done; \
	$(TEXI2HTML) -split_chapter ./faq.texinfo; \
	rm -f *.texinfo; \
	[ -r faq_toc.html ] && mv faq_toc.html faq.html; exit 0
@


1.18
log
@Update Makefile to use xmlto
@
text
@d53 1
@


1.17
log
@Fix faq-faq0 snafu.
@
text
@a42 1
	$(DOC) \
a49 7
# jw -d $(srcdir)/cygwin.dsl#html cygwin-ug-net.sgml
cygwin-ug/cygwin-ug.html : cygwin-ug.sgml doctool
	-db2html -d $(srcdir)/cygwin.dsl#html $<

cygwin-ug.sgml : cygwin-ug.in.sgml ./doctool Makefile
	-./doctool -m $(SGMLDIRS) -s $(srcdir) -o $@@ $<

d51 3
a53 1
	-jw -d $(srcdir)/cygwin.dsl#html -u $<
d56 2
a57 1
	-db2html -d $(srcdir)/cygwin.dsl#html $<
d63 2
a64 1
	-db2html -d $(srcdir)/cygwin.dsl#html $<
a68 6
cygwin-api-int/cygwin-api-int.html : cygwin-api-int.sgml
	-db2html -d $(srcdir)/cygwin.dsl#html $<

cygwin-api-int.sgml : cygwin-api.in.sgml ./doctool Makefile
	-./doctool -i -m $(SGMLDIRS) -s $(srcdir) -b cygwin-api-int -o $@@ $<

@


1.16
log
@2004-02-22  Joshua Daniel Franklin  <joshuadfranklin@@yahoo.com>
	* Makefile.in: Fix problem links in faq0.html file.
	* what.texinfo: Remove outdated 'recent' history.
@
text
@d114 1
a114 1
	sed -e 's;faq.html;faq0.html;g' faq.html > faq0.html; \
@


1.15
log
@
2004-02-04  Joshua Daniel Franklin  <joshuadfranklin@@yahoo.com>
	* Makefile.in: Generate monolithic faq0.html file.
@
text
@d114 2
a115 1
	[ -r faq.html ] && mv faq.html faq0.html; exit 0
@


1.14
log
@2004-01-20  Joshua Daniel Franklin <joshuadfranklin@@yahoo.com>

	* Makefile.in: Remove unused cygwin-ug and cygwin-api-int
	targets from default build.
	* how-using.texinfo: Add information about 8-bit character
	display to FAQ.
	* setup2.sgml: Add information about 8-bit character display
	to "Setting up Cygwin".
@
text
@d20 1
a20 1
HTMLDOC=faq.html readme.html
d106 9
@


1.13
log
@2004-01-11  Joshua Daniel Franklin <joshuadfranklin@@yahoo.com>

        * Makefile.in: Add new target for single-file User's Guide, use new
        cygwin.dsl for output.
        * cygwin.dsl: New file, DSSSL stylesheet for custom Cygwin output.
        * cygwin-api.in.sgml: Update to DocBook SGML 4.2 DTD.
        * cygwin-ug-net.in.sgml: Update to DocBook SGML 4.2 DTD.
        * cygwin-ug.in.sgml: Update to DocBook SGML 4.2 DTD.
        * cygwinenv.sgml: Correct some tags. Add description of default values
        to ntsec, export, and error_start items.
        * dll.sgml: Add explanation of cyg prefix for DLLs.
        * effectively.sgml: Use systemitem tag for names of Cygwin packages.
        * how-programming.texinfo: Add example to FAQ entry.
        * pathnames.sgml: Add discussion of /proc filesystem.
	* setup-net.sgml: Correct some typos and grammar.
@
text
@a39 1
	cygwin-ug/cygwin-ug.html \
a41 1
	cygwin-api-int/cygwin-api-int.html \
@


1.12
log
@* Makefile.in: Duh.  Actually use bzip2 to create the tarball.  Don't just
change the name.
@
text
@d32 4
a35 2
TOCLEAN:=faq.txt ./*.html readme.txt doctool.o doctool \
	 cygwin-ug.sgml cygwin-ug-net.sgml
a38 1
# You can add cygwin-api/cygwin-api.html if you want to.
d42 1
d49 1
a49 1
	rm -f $(TOCLEAN)
d53 1
d55 1
a55 1
	-db2html $<
d60 3
d64 1
a64 1
	-db2html $<
d70 1
a70 1
	-db2html $<
d76 1
a76 1
	-db2html $<
@


1.11
log
@* Makefile.in: Make .bz2 tarball.
@
text
@d121 1
a121 1
	tar cf - $(TBFILES) $(TBDIRS) | gzip -9 > cygwin-docs.tar.bz2
@


1.10
log
@Cleanup copyrights and Cygnus'isms throughout.
* setup.sgml: Nuke ancient instructions.
@
text
@d119 3
a121 3
tarball : cygwin-docs.tar.gz
cygwin-docs.tar.gz : $(TBFILES) $(TBDEPS)
	tar cf - $(TBFILES) $(TBDIRS) | gzip -9 > cygwin-docs.tar.gz
@


1.9
log
@* who.texinfo: Oops.  Add a couple of important folk.
@
text
@d2 1
a2 1
# Copyright (c) 1998-2000 Cygnus Solutions.
@


1.8
log
@* Makefile.in: Tweak to attempt to accomodate older texi2html.
@
text
@d42 1
@


1.7
log
@* Makefile.in: Accomodate newer versions of docbook and openjade.
@
text
@d107 1
a107 1
	$(TEXI2HTML) --split -v ./faq.texinfo; \
@


1.6
log
@Remove broken targets readme.info, faq.info
(at least until we know what to do with them)
@
text
@d32 1
a32 1
TOCLEAN:=faq.txt *.html readme.txt doctool.o doctool \
d90 1
a90 1
	-$(MAKEINFO) -I$(srcdir) $<
d93 1
a93 1
	-$(MAKEINFO) -I$(srcdir) $<
d96 1
a96 1
	-$(TEXI2HTML) -I$(srcdir) $<
d103 2
a104 1
	-for i in $(srcdir)/*.texinfo ; do \
d107 1
a107 1
	$(TEXI2HTML) -split_chapter  -v ./faq.texinfo; \
d109 1
a109 1
	cp faq_toc.html faq.html
@


1.5
log
@fix dependencies for readme.txt
@
text
@d16 4
a19 1
DOC=faq.txt faq.info readme.txt readme.info
@


1.4
log
@don't put api internals in general tarball
@
text
@d95 1
a95 1
readme.txt: readme.texinfo
@


1.3
log
@add commands for building a doc kitchen-sink-tarball
@
text
@d109 4
a112 4
	  cygwin-api-int.dvi cygwin-api-int.rtf cygwin-api-int.ps \
	  cygwin-api-int.pdf cygwin-api-int.sgml
TBDIRS = cygwin-ug-net cygwin-api-int
TBDEPS = cygwin-ug-net/cygwin-ug-net.html cygwin-api-int/cygwin-api-int.html
@


1.2
log
@clean up SGML for latest version of jade/docbook
@
text
@d74 12
d106 11
@


1.1
log
@Initial revision
@
text
@d14 2
d51 1
a51 1
	-./doctool -m -d $(srcdir) -d $(utils_source) -s $(srcdir) -o $@@ $<
d57 1
a57 1
	-./doctool -m -d $(srcdir) -d $(utils_source) -s $(srcdir) -o $@@ $<
d63 1
a63 1
	-./doctool -m -d $(srcdir) -d $(utils_source) -s $(srcdir) -o $@@ $<
d69 1
a69 1
	-./doctool -i -m -d $(srcdir) -d $(utils_source) -s $(srcdir) -b cygwin-api-int -o $@@ $<
@


1.1.1.1
log
@import winsup-2000-02-17 snapshot
@
text
@@
