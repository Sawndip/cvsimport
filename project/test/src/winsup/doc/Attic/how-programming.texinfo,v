head	1.43;
access;
symbols
	cr-0x3b58:1.42.0.2
	cr-0x9e:1.28.0.4
	cr-0x9d:1.28.0.2
	corinna-01:1.25
	cr-0x9c:1.25.0.6
	cr-0x9b:1.25.0.4
	cr-0x99:1.25
	Z-emcb-cygwin_daemon:1.25.0.2
	w32api-2_2:1.23
	mingw-runtime-2_4:1.23
	cygnus_cvs_20020108_pre:1.19
	Z-cygwin_daemon_merge-new_HEAD:1.19
	Z-cygwin_daemon_merge_HEAD:1.19
	cygwin_daemon:1.19.0.2;
locks; strict;
comment	@# @;


1.43
date	2006.01.19.02.44.17;	author joshuadfranklin;	state dead;
branches;
next	1.42;

1.42
date	2005.07.10.19.39.31;	author joshuadfranklin;	state Exp;
branches;
next	1.41;

1.41
date	2005.06.05.02.16.07;	author joshuadfranklin;	state Exp;
branches;
next	1.40;

1.40
date	2005.06.04.02.14.13;	author cgf;	state Exp;
branches;
next	1.39;

1.39
date	2005.05.08.19.43.35;	author joshuadfranklin;	state Exp;
branches;
next	1.38;

1.38
date	2005.03.26.04.01.52;	author joshuadfranklin;	state Exp;
branches;
next	1.37;

1.37
date	2005.03.19.23.33.04;	author joshuadfranklin;	state Exp;
branches;
next	1.36;

1.36
date	2005.01.22.23.39.37;	author joshuadfranklin;	state Exp;
branches;
next	1.35;

1.35
date	2005.01.22.19.12.33;	author joshuadfranklin;	state Exp;
branches;
next	1.34;

1.34
date	2005.01.22.03.53.38;	author cgf;	state Exp;
branches;
next	1.33;

1.33
date	2004.09.30.05.03.52;	author joshuadfranklin;	state Exp;
branches;
next	1.32;

1.32
date	2004.06.15.03.19.23;	author joshuadfranklin;	state Exp;
branches;
next	1.31;

1.31
date	2004.06.14.02.42.05;	author joshuadfranklin;	state Exp;
branches;
next	1.30;

1.30
date	2004.03.29.06.37.40;	author joshuadfranklin;	state Exp;
branches;
next	1.29;

1.29
date	2004.03.29.05.56.46;	author joshuadfranklin;	state Exp;
branches;
next	1.28;

1.28
date	2004.01.11.08.32.09;	author joshuadfranklin;	state Exp;
branches;
next	1.27;

1.27
date	2003.11.13.22.23.59;	author davidsb;	state Exp;
branches;
next	1.26;

1.26
date	2003.11.13.22.07.36;	author davidsb;	state Exp;
branches;
next	1.25;

1.25
date	2003.02.13.14.20.32;	author cgf;	state Exp;
branches;
next	1.24;

1.24
date	2003.02.13.14.18.23;	author cgf;	state Exp;
branches;
next	1.23;

1.23
date	2002.11.10.19.38.26;	author cgf;	state Exp;
branches;
next	1.22;

1.22
date	2002.06.02.06.18.53;	author cgf;	state Exp;
branches;
next	1.21;

1.21
date	2002.03.20.23.12.26;	author davidsb;	state Exp;
branches;
next	1.20;

1.20
date	2002.03.20.23.02.51;	author davidsb;	state Exp;
branches;
next	1.19;

1.19
date	2001.09.22.19.32.47;	author davidsb;	state Exp;
branches;
next	1.18;

1.18
date	2001.09.22.08.45.27;	author davidsb;	state Exp;
branches;
next	1.17;

1.17
date	2001.09.21.18.20.21;	author davidsb;	state Exp;
branches;
next	1.16;

1.16
date	2001.07.04.23.36.16;	author davidsb;	state Exp;
branches;
next	1.15;

1.15
date	2001.05.30.09.26.59;	author davidsb;	state Exp;
branches;
next	1.14;

1.14
date	2001.05.30.09.17.59;	author davidsb;	state Exp;
branches;
next	1.13;

1.13
date	2000.12.12.17.42.21;	author davidsb;	state Exp;
branches;
next	1.12;

1.12
date	2000.12.12.16.07.14;	author davidsb;	state Exp;
branches;
next	1.11;

1.11
date	2000.12.12.16.05.30;	author davidsb;	state Exp;
branches;
next	1.10;

1.10
date	2000.11.20.14.37.37;	author davidsb;	state Exp;
branches;
next	1.9;

1.9
date	2000.11.19.04.53.46;	author cgf;	state Exp;
branches;
next	1.8;

1.8
date	2000.11.17.13.32.28;	author davidsb;	state Exp;
branches;
next	1.7;

1.7
date	2000.10.31.16.58.09;	author davidsb;	state Exp;
branches;
next	1.6;

1.6
date	2000.10.18.15.32.50;	author davidsb;	state Exp;
branches;
next	1.5;

1.5
date	2000.10.18.15.16.45;	author davidsb;	state Exp;
branches;
next	1.4;

1.4
date	2000.10.18.13.43.56;	author davidsb;	state Exp;
branches;
next	1.3;

1.3
date	2000.09.14.15.58.56;	author davidsb;	state Exp;
branches;
next	1.2;

1.2
date	2000.09.13.15.27.20;	author davidsb;	state Exp;
branches;
next	1.1;

1.1
date	2000.09.13.15.13.17;	author davidsb;	state Exp;
branches;
next	;


desc
@@


1.43
log
@Remove references to and files from old texinfo FAQ.
@
text
@@@section Programming Questions

@@subsection How do I contribute a package?

If you are willing to be a package maintainer, great!  We urgently need
volunteers to prepare and maintain packages, because the priority of the
Cygwin Team is Cygwin itself.

The Cygwin Package Contributor's Guide at
@@file{http://cygwin.com/setup.html} details everything you need to know
about being a package maintainer. The quickest way to get started is to
read the @@emph{Initial packaging procedure, script-based} section on
that page.  The @@samp{generic-build-script} found there works well for
most packages. 

For questions about package maintenance, use the cygwin-apps mailing
list (start at @@file{http://cygwin.com/lists.html}) @@emph{after}
searching and browsing the cygwin-apps list archives, of course.  Be
sure to look at the @@emph{Submitting a package} checklist at
@@file{http://cygwin.com/setup.html} before sending an ITP (Intent To
Package) email to cygwin-apps.

You should also announce your intentions to the general cygwin list, in
case others were thinking the same thing.

@@subsection How do I contribute to Cygwin?

If you want to contribute to Cygwin itself, see
@@file{http://cygwin.com/contrib.html}.

@@subsection Why are compiled executables so huge?!?

By default, gcc compiles in all symbols.  You'll also find that gcc
creates large executables on UNIX.

If that bothers you, just use the 'strip' program, part of the binutils
package.  Or compile with the @@samp{-s} option to gcc.

@@subsection Where is glibc?

Cygwin does not provide glibc.  It uses newlib instead, which provides
much (but not all) of the same functionality.  Porting glibc to Cygwin
would be difficult.

@@subsection Where is Objective C?

Objective C is not distributed with the Cygwin version of gcc, and there
are no plans to do so.  The gcc package maintainer had difficulty
building it, and once built there were problems using it.  It appears
that there is only minimal support for the Objective C front-end in the
main GCC distribution, anyway.

@@subsection Why does my make fail on Cygwin with an execvp error? 

First of all, if you are using @@samp{make -j[N]}, then stop.  It doesn't
work well. Also beware of using non-portable shell features in your
Makefiles (see tips at @@file{http://cygwin.com/faq/faq_3.html#SEC46}).

Errors of @@samp{make: execvp: /bin/sh: Illegal Argument} or 
@@samp{make: execvp: /bin/sh: Argument list too long} are often
caused by the command-line being to long for the Windows execution model.
To circumvent this, mount the path of the executable using the -X switch
to enable cygexec for all executables in that folder; you will also need
to exclude non-cygwin executables with the -x switch. Enabling cygexec
causes cygwin executables to talk directly to one another, which increases
the command-line limit. To enable cygexec for @@samp{/bin} and 
@@samp{/usr/bin}, you can use these commands in a batch file:

@@example
mount -X -b -f c:\cygwin\bin /bin
mount -X -b -f c:\cygwin\bin /usr/bin
mount -x -b -f c:\cygwin\bin\strace.exe /usr/bin/strace.exe
mount -x -b -f c:\cygwin\bin\strace.exe /bin/strace.exe
mount -x -b -f c:\cygwin\bin\cygcheck.exe /usr/bin/cygcheck.exe
mount -x -b -f c:\cygwin\bin\cygcheck.exe /bin/cygcheck.exe
@@end example

Note that you must specifically exclude @@code{strace} and @@code{cygcheck},
which are not linked to the Cygwin DLL.

(See @@file{http://www.cygwin.com/cygwin-ug-net/using-utils.html#mount} 
for more information.)


@@subsection Why the undefined reference to @@samp{WinMain@@@@16}?

If you're using @@samp{gcc}, try adding an empty main() function to one
of your sources.  Or, perhaps you have @@samp{-lm} too early in the
link command line.  It should be at the end:

@@example
    bash$ gcc hello.c -lm
    bash$ ./a.exe
    Hello World!
@@end example

works, but

@@example
    bash$  gcc -lm hello.c
    /c/TEMP/ccjLEGlU.o(.text+0x10):hello.c: multiple definition of `main'
    /usr/lib/libm.a(libcmain.o)(.text+0x0):libcmain.c: first defined here
    /usr/lib/libm.a(libcmain.o)(.text+0x6a):libcmain.c: undefined reference to `WinMain@@@@16'
    collect2: ld returned 1 exit status
@@end example

If you're using GCJ, you need to pass a "--main" flag:

@@example
gcj --main=Hello Hello.java
@@end example

@@subsection How do I use Win32 API calls?

@@strong{(Please note: This section has not yet been updated for the latest
net release.)}

It's pretty simple actually.  Cygwin tools require that you explicitly
link the import libraries for whatever Win32 API functions that you
are going to use, with the exception of kernel32, which is linked
automatically (because the startup and/or built-in code uses it).

For example, to use graphics functions (GDI) you must link
with gdi32 like this:

gcc -o foo.exe foo.o bar.o -lgdi32

or (compiling and linking in one step):

gcc -o foo.exe foo.c bar.c -lgdi32

The following libraries are available for use in this way:

advapi32  largeint  ole32     scrnsave  vfw32
cap       lz32      oleaut32  shell32   win32spl
comctl32  mapi32    oledlg    snmp      winmm
comdlg32  mfcuia32  olepro32  svrapi    winserve
ctl3d32   mgmtapi   opengl32  tapi32    winspool
dlcapi    mpr       penwin32  th32      winstrm
gdi32     msacm32   pkpd32    thunk32   wow32
glaux     nddeapi   rasapi32  url       wsock32
glu32     netapi32  rpcdce4   user32    wst
icmp      odbc32    rpcndr    uuid
imm32     odbccp32  rpcns4    vdmdbg
kernel32  oldnames  rpcrt4    version

The regular setup allows you to use the option -mwindows on the
command line to include a set of the basic libraries (and also
make your program a GUI program instead of a console program),
including user32, gdi32 and, IIRC, comdlg32.

Note that you should never include -lkernel32 on your link line
unless you are invoking ld directly.  Do not include the same import
library twice on your link line.  Finally, it is a good idea to
put import libraries last on your link line, or at least after
all the object files and static libraries that reference them.

The first two are related to problems the linker has (as of b18 at least)
when import libraries are referenced twice.  Tables get messed up and
programs crash randomly.  The last point has to do with the fact that
gcc processes the files listed on the command line in sequence and
will only resolve references to libraries if they are given after
the file that makes the reference.

@@subsection How do I compile a Win32 executable that doesn't use Cygwin?

The -mno-cygwin flag to gcc makes gcc link against standard Microsoft
DLLs instead of Cygwin.  This is desirable for native Windows programs
that don't need a UNIX emulation layer.

This is not to be confused with 'MinGW' (Minimalist GNU for Windows),
which is a completely separate effort.  That project's home page is
@@file{http://www.mingw.org/index.shtml}.

@@subsection Can I build a Cygwin program that does not require cygwin1.dll at runtime?

No.  If your program uses the Cygwin API, then your executable cannot
run without cygwin1.dll.  In particular, it is not possible to
statically link with a Cygwin library to obtain an independent,
self-contained executable.

If this is an issue because you intend to distribute your Cygwin
application, then you had better read and understand
@@file{http://cygwin.com/licensing.html}, which explains the licensing
options.  Unless you purchase a special commercial license from Red
Hat, then your Cygwin application must be Open Source.

@@subsection Can I link with both MSVCRT*.DLL and cygwin1.dll?

No, you must use one or the other, they are mutually exclusive.

@@subsection How do I make the console window go away?

The default during compilation is to produce a console application.
It you are writing a GUI program, you should either compile with
-mwindows as explained above, or add the string
"-Wl,--subsystem,windows" to the GCC command line.

@@subsection Why does make complain about a "missing separator"?

This problem usually occurs as a result of someone editing a Makefile
with a text editor that replaces tab characters with spaces.  Command
lines must start with tabs.  This is not specific to Cygwin.

@@subsection Why can't we redistribute Microsoft's Win32 headers?

Subsection 2.d.f of the `Microsoft Open Tools License agreement' looks
like it says that one may not "permit further redistribution of the
Redistributables to their end users".  We take this to mean that we can
give them to you, but you can't give them to anyone else, which is
something that Red Hat can't agree to.  Fortunately, we
have our own Win32 headers which are pretty complete.

@@subsection How do I use @@samp{cygwin1.dll} with Visual Studio or MinGW?

Before you begin, note that Cygwin is licensed under the GNU GPL (as
indeed are all other Cygwin-based libraries).  That means that if your
code links against the cygwin dll (and if your program is calling
functions from Cygwin, it must, as a matter of fact, be linked against
it), you must apply the GPL to your source as well.  Of course, this
only matters if you plan to distribute your program in binary form.  For
more information, see @@file{http://gnu.org/licenses/gpl-faq.html}.  If
that is not a problem, read on.

If you want to load the DLL dynamically, read
@@code{winsup/cygwin/how-cygtls-works.txt} and the sample code in
@@code{winsup/testsuite/cygload} to understand how this works.
The short version is:

@@enumerate
@@item Make sure you have 4K of scratch space at the bottom of your stack.
@@item Invoke @@code{cygwin_dll_init()}:
@@example
HMODULE h = LoadLibrary("cygwin1.dll");
void (*init)() = GetProcAddress(h, "cygwin_dll_init");
init();
@@end example
@@end enumerate

If you want to link statically from Visual Studio, to my knowledge
none of the Cygwin developers have done this, but we have this report
from the mailing list that it can be done this way:

@@enumerate
@@item Use the impdef program to generate a .def file for the cygwin1.dll
(if you build the cygwin dll from source, you will already have a def
file)

@@example
impdef cygwin1.dll > cygwin1.def
@@end example

@@item Use the MS VS linker (lib) to generate an import library

@@example
lib /def=cygwin1.def /out=cygwin1.lib
@@end example

@@item Create a file "my_crt0.c" with the following contents

@@example
#include <sys/cygwin.h>
#include <stdlib.h>

typedef int (*MainFunc) (int argc, char *argv[], char **env);

void
  my_crt0 (MainFunc f)
  @@{
    cygwin_crt0(f);
  @@}
@@end example

@@item Use gcc in a Cygwin prompt to build my_crt0.c into a DLL
       (e.g. my_crt0.dll). Follow steps 1 and 2 to generate .def and
       .lib files for the DLL.

@@item  Download crt0.c from the cygwin website and include it in
       your sources. Modify it to call my_crt0() instead of
       cygwin_crt0().  

@@item  Build your object files using the MS VC compiler cl.

@@item  Link your object files, cygwin1.lib, and my_crt0.lib (or
       whatever you called it) into the executable.
@@end enumerate

Note that if you are using any other Cygwin based libraries
that you will probably need to build them as DLLs using gcc and
then generate import libraries for the MS VC linker.

Thanks to Alastair Growcott (alastair dot growcott at bakbone dot co
dot uk) for this tip.

@@subsection How do I link against a @@samp{.lib} file?

If your @@samp{.lib} file is a normal static or import library with
C-callable entry points, you can list @@samp{foo.lib} as an object file for
gcc/g++, just like any @@samp{*.o} file. Otherwise, here are some steps:

@@enumerate
@@item Build a C file with a function table.  Put all functions you intend
to use in that table.  This forces the linker to include all the object
files from the .lib.  Maybe there is an option to force LINK.EXE to
include an object file.
@@item Build a dummy 'LibMain'.
@@item Build a .def with all the exports you need.
@@item Link with your .lib using link.exe.
@@end enumerate

or

@@enumerate
@@item Extract all the object files from the .lib using LIB.EXE.
@@item Build a dummy C file referencing all the functions you need, either
      with a direct call or through an initialized function pointer.
@@item Build a dummy LibMain.
@@item Link all the objects with this file+LibMain.
@@item Write a .def.
@@item Link.
@@end enumerate

You can use these methods to use MSVC (and many other runtime libs)
with Cygwin development tools.

Note that this is a lot of work (half a day or so), but much less than
rewriting the runtime library in question from specs...

Thanks to Jacob Navia (root at jacob dot remcomp dot fr) for this explanation.

@@subsection How do I build Cygwin on my own?

First, you need to get the Cygwin source.  Ideally, you should check out
what you need from CVS (@@file{http://cygwin.com/cvs.html}).  This is the
@@emph{preferred method} for acquiring the sources.  Otherwise, you can
install the cygwin source package from the distribution.

If you are trying to duplicate a cygwin release then you should just
download the corresponding source package and use "tar xjf" to unpack
it.  This will unpack the sources into a directory named cygwin-x.y.z-n,
where x.y.z-n correspond to the version numbering of the tar.bz2
package.

@@example
tar xjf cygwin-1.5.12-1-src.tar.bz2
cd cygwin-1.5.12-1
@@end example

You @@emph{must} build cygwin in a separate directory from the source,
so create something like a @@samp{build/} directory.  You will also want
to install to a temporary location:

@@example
mkdir build
mkdir /install 
cd build
(../configure --prefix=/install -v; make) >& make.out
make install > install.log 2>&1
@@end example

Normally, this procedure ignore errors in building the documentation.
which requires the @@samp{docbook-xml}, @@samp{docbook-xsl}, and
@@samp{xmlto} packages.  For more information on building the
documentation, see the README included in the cygwin-doc package.

To check a cygwin1.dll, run "make check" in the winsup/testsuite
directory.  If that works, install everything @@emph{except} the dll (if
you can).  Then, close down all cygwin programs (including bash windows,
inetd, etc.), save your old dll, and copy the new dll to the correct
place.  Then start up a bash window, or  run a cygwin program from the
Windows command prompt, and see what happens.

If you get the error "shared region is corrupted" it means that two
different versions of cygwin1.dll are running on your machine at the
same time. Remove all but one. 

@@subsection I may have found a bug in Cygwin, how can I debug it (the symbols in gdb look funny)?

Debugging symbols are stripped from distibuted Cygwin binaries, so any
symbols that you see in gdb are basically meaningless. It is also a good
idea to use the latest code in case the bug has been fixed, so we
recommend trying the latest snapshot from
@@file{http://cygwin.com/snapshots/} or build the DLL from CVS.

To build a debugging version of the Cygwin DLL, you will need to follow
the instructions at @@file{http://cygwin.com/faq/faq_3.html#SEC102}. You
can also contact the mailing list for pointers (a simple test case that
demonstrates the bug is always welcome).

@@subsection How can I compile Cygwin for an unsupported platform (PowerPC, Alpha, ARM, Itanium)?

Unfortunately, this will be difficult.  Exception handling and signals
support semantics and args have been designed for x86 so you would need
to write specific support for your platform.  We don't know of any other
incompatibilities. Please send us patches if you do this work!

@@subsection How can I adjust the heap/stack size of an application?

If you need to change the maximum amount of memory available to Cygwin, see
@@file{http://cygwin.com/cygwin-ug-net/setup-maxmem.html}. Otherwise,
just pass heap/stack linker arguments to gcc.  To create foo.exe with
a heap size of 1024 and a stack size of 4096, you would invoke
gcc as:

@@code{gcc -Wl,--heap,1024,--stack,4096 -o foo foo.c}

@@subsection How can I find out which DLLs are needed by an executable?

@@samp{objdump -p} provides this information, but is rather verbose.

@@samp{cygcheck} will do this much more concisely, and operates
recursively, provided the command is in your path.

Note there is currently a bug in cygcheck in that it will not report
on a program in a Windows system dir (e.g., C:\Windows or C:\WINNT) even
if it's in your path.  To work around this, supply the full Win32 path
to the executable, including the .exe extension:

@@example
cygcheck c:\\winnt\\system32\\cmd.exe
@@end example

(Note the windows path separator must be escaped if this is typed in
bash.)

@@subsection How do I build a DLL?

There's documentation that explains the process in the Cygwin User's
Guide here: @@file{http://cygwin.com/cygwin-ug-net/dll.html}

@@subsection How can I set a breakpoint at MainCRTStartup?

@@strong{(Please note: This section has not yet been updated for the latest
net release.)}

Set a breakpoint at *0x401000 in gdb and then run the program in
question.

@@subsection How can I build a relocatable dll?

@@strong{(Please note: This section has not yet been updated for the
latest net release.  However, there was a discussion on the cygwin
mailing list recently that addresses this issue.  Read
@@file{http://cygwin.com/ml/cygwin/2000-06/msg00688.html} and
related messages.)}

You must execute the following sequence of five commands, in this
order:

@@example
$(LD) -s --base-file BASEFILE --dll -o DLLNAME OBJS LIBS -e ENTRY

$(DLLTOOL) --as=$(AS) --dllname DLLNAME --def DEFFILE \
        --base-file BASEFILE --output-exp EXPFILE

$(LD) -s --base-file BASEFILE EXPFILE -dll -o DLLNAME OBJS LIBS -e ENTRY

$(DLLTOOL) --as=$(AS) --dllname DLLNAME --def DEFFILE \
	--base-file BASEFILE --output-exp EXPFILE

$(LD) EXPFILE --dll -o DLLNAME OBJS LIBS -e ENTRY
@@end example

In this example, $(LD) is the linker, ld.

$(DLLTOOL) is dlltool.

$(AS) is the assembler, as.

DLLNAME is the name of the DLL you want to create, e.g., tcl80.dll.

OBJS is the list of object files you want to put into the DLL.

LIBS is the list of libraries you want to link the DLL against.  For
example, you may or may not want -lcygwin.  You may want -lkernel32.
Tcl links against -lcygwin -ladvapi32 -luser32 -lgdi32 -lcomdlg32
-lkernel32.

DEFFILE is the name of your definitions file.  A simple DEFFILE would
consist of ``EXPORTS'' followed by a list of all symbols which should
be exported from the DLL.  Each symbol should be on a line by itself.
Other programs will only be able to access the listed symbols.

BASEFILE is a temporary file that is used during this five stage
process, e.g., tcl.base.

EXPFILE is another temporary file, e.g., tcl.exp.

ENTRY is the name of the function which you want to use as the entry
point.  This function should be defined using the WINAPI attribute,
and should take three arguments:
        int WINAPI startup (HINSTANCE, DWORD, LPVOID)

This means that the actual symbol name will have an appended @@@@12, so if
your entry point really is named @@samp{startup}, the string you should
use for ENTRY in the above examples would be @@samp{startup@@@@12}.

If your DLL calls any Cygwin API functions, the entry function will need
to initialize the Cygwin impure pointer.  You can do that by declaring
a global variable @@samp{_impure_ptr}, and then initializing it in the
entry function.  Be careful not to export the global variable
@@samp{_impure_ptr} from your DLL; that is, do not put it in DEFFILE.

@@example
/* This is a global variable.  */
struct _reent *_impure_ptr;
extern struct _reent *__imp_reent_data;

int entry (HINSTANT hinst, DWORD reason, LPVOID reserved)
@@{
  _impure_ptr = __imp_reent_data;
  /* Whatever else you want to do.  */
@@}
@@end example

You may put an optional `--subsystem windows' on the $(LD) lines.  The
Tcl build does this, but I admit that I no longer remember whether
this is important.  Note that if you specify a --subsytem <x> flag to ld,
the -e entry must come after the subsystem flag, since the subsystem flag
sets a different default entry point.

You may put an optional `--image-base BASEADDR' on the $(LD) lines.
This will set the default image base.  Programs using this DLL will
start up a bit faster if each DLL occupies a different portion of the
address space.  Each DLL starts at the image base, and continues for
whatever size it occupies.

Now that you've built your DLL, you may want to build a library so
that other programs can link against it.  This is not required: you
could always use the DLL via LoadLibrary.  However, if you want to be
able to link directly against the DLL, you need to create a library.
Do that like this:

$(DLLTOOL) --as=$(AS) --dllname DLLNAME --def DEFFILE --output-lib LIBFILE

$(DLLTOOL), $(AS), DLLNAME, and DEFFILE are the same as above.  Make
sure you use the same DLLNAME and DEFFILE, or things won't work right.

LIBFILE is the name of the library you want to create, e.g.,
libtcl80.a.  You can then link against that library using something
like -ltcl80 in your linker command.

@@subsection How can I debug what's going on?

You can debug your application using @@code{gdb}.  Make sure you
compile it with the -g flag!  If your application calls functions in
MS DLLs, gdb will complain about not being able to load debug information
for them when you run your program.  This is normal since these DLLs
don't contain debugging information (and even if they did, that debug
info would not be compatible with gdb).

@@subsection Can I use a system trace mechanism instead?

Yes.  You can use the @@code{strace.exe} utility to run other cygwin
programs with various debug and trace messages enabled.  For information
on using @@code{strace}, see the Cygwin User's Guide or the file
@@code{winsup/utils/utils.sgml}.

@@subsection Why doesn't gdb handle signals?

Unfortunately, there is only minimal signal handling support in gdb
currently.  Signal handling only works with Windows-type signals.
SIGINT may work, SIGFPE may work, SIGSEGV definitely does.  You cannot
'stop', 'print' or 'nopass' signals like SIGUSR1 or SIGHUP to the
process being debugged.

@@subsection The linker complains that it can't find something.

A common error is to put the library on the command line before
the thing that needs things from it.

This is wrong @@code{gcc -lstdc++ hello.cc}.
This is right @@code{gcc hello.cc -lstdc++}.

@@subsection I use a function I know is in the API, but I still get a link error.

@@strong{(Please note: This section has not yet been updated for the latest
net release.)}

The function probably isn't declared in the header files, or
the UNICODE stuff for it isn't filled in.

@@subsection Can you make DLLs that are linked against libc ?

@@strong{(Please note: This section has not yet been updated for the latest
net release.)}

Yes.

@@subsection Where is malloc.h?

@@strong{(Please note: This section has not yet been updated for the latest
net release.)}

Include stdlib.h instead of malloc.h.

@@subsection Can I use my own malloc?

If you define a function called @@code{malloc} in your own code, and link
with the DLL, the DLL @@emph{will} call your @@code{malloc}.  Needless to
say, you will run into serious problems if your malloc is buggy.

If you run any programs from the DOS command prompt, rather than from in
bash, the DLL will try and expand the wildcards on the command line.
This process uses @@code{malloc} @@emph{before} your main line is started.
If you have written your own @@code{malloc} to need some initialization
to occur after @@code{main} is called, then this will surely break.

Moreover, there is an outstanding issue with @@code{_malloc_r} in
@@code{newlib}.  This re-entrant version of @@code{malloc} will be called
directly from within @@code{newlib}, by-passing your custom version, and
is probably incompatible with it.  But it may not be possible to replace
@@code{_malloc_r} too, because @@code{cygwin1.dll} does not export it and
Cygwin does not expect your program to replace it.  This is really a
newlib issue, but we are open to suggestions on how to deal with it.

@@subsection Can I mix objects compiled with msvc++ and gcc?

Yes, but only if you are combining C object files.  MSVC C++ uses a
different mangling scheme than GNU C++, so you will have difficulties
combining C++ objects.

@@subsection Can I use the gdb debugger to debug programs built by VC++?

No, not for full (high level source language) debugging.
The Microsoft compilers generate a different type of debugging
symbol information, which gdb does not understand.

However, the low-level (assembly-type) symbols generated by
Microsoft compilers are coff, which gdb DOES understand.
Therefore you should at least be able to see all of your
global symbols; you just won't have any information about
data types, line numbers, local variables etc.

@@subsection Where can I find info on x86 assembly?

CPU reference manuals for Intel's current chips are available in
downloadable PDF form on Intel's web site:

@@file{http://developer.intel.com/design/pro/manuals/}

@@subsection Shell scripts aren't running properly from my makefiles?

If your scripts are in the current directory, you must have @@samp{.}
(dot) in your $PATH.  (It is not normally there by default.)  Otherwise,
you would need to add /bin/sh in front of each and every shell script
invoked in your Makefiles.

@@subsection What preprocessor do I need to know about?

We use _WIN32 to signify access to the Win32 API and __CYGWIN__ for
access to the Cygwin environment provided by the dll.

We chose _WIN32 because this is what Microsoft defines in VC++ and
we thought it would be a good idea for compatibility with VC++ code
to follow their example.  We use _MFC_VER to indicate code that should
be compiled with VC++.

_WIN32 is only defined when you use either the -mno-cygwin or -mwin32
gcc command line options.  This is because Cygwin is supposed to be a
Unix emulation environment and defining _WIN32 confuses some programs
which think that they have to make special concessions for a Windows
environment which Cygwin handles automatically.

Note that using -mno-cygwin replaces __CYGWIN__ with __MINGW32__ as to
tell which compiler (or settings) you're running.
Check this out in detail by running, for example

@@example
       $ gcc  -dM -E -xc /dev/null >gcc.txt
       $ gcc -mno-cygwin -dM -E -xc /dev/null >gcc-mno-cygwin.txt
       $ gcc -mwin32 -dM -E -xc /dev/null >gcc-mwin32.txt
@@end example
Then use the diff and grep utilities to check
what the difference is.

@@subsection How should I port my Unix GUI to Windows?

There are two basic strategies for porting Unix GUIs to Windows.

The first is to use a portable graphics library such as tcl/tk, X11, or
V (and others?).  Typically, you will end up with a GUI on Windows that
requires some runtime support.  With tcl/tk, you'll want to include the
necessary library files and the tcl/tk DLLs.  In the case of X11, you'll
need everyone using your program to have an X11 server installed.

The second method is to rewrite your GUI using Win32 API calls (or MFC
with VC++).  If your program is written in a fairly modular fashion, you
may still want to use Cygwin if your program contains a lot of shared
(non-GUI-related) code.  That way you still gain some of the portability
advantages inherent in using Cygwin.

@@subsection Why not use DJGPP ?

DJGPP is a similar idea, but for DOS instead of Win32.  DJGPP uses a
"DOS extender" to provide a more reasonable operating interface for its
applications.   The Cygwin toolset doesn't have to do this since all of
the applications are native WIN32.   Applications compiled with the
Cygwin tools can access the Win32 API functions, so you can write
programs which use the Windows GUI.

You can get more info on DJGPP by following
@@file{http://www.delorie.com/}.
@


1.42
log
@
2005-07-10  Joshua Daniel Franklin  <joshuadfranklin@@yahoo.com>

	* cygwinenv.sgml: Update tty section to mention rxvt and xterm.
	* how-programming.texinfo: Update GPL section of VS FAQ.
	* how-using.texinfo: Expand FAQ about out of date pacakages.
	* setup-net.sgml: Add troubleshooting setup.exe section.
@
text
@@


1.41
log
@Slight rearragement
@
text
@d216 9
d280 1
a280 3
       cygwin_crt0().  Since you are using Cygwin source code, your
       resulting program will be licensed under the GNU GPL. For more
       information, see @@file{http://gnu.org/licenses/gpl-faq.html}.  
@


1.40
log
@* how-programming.texinfo: Add "How do I load cygwin1.dll dynamically from a
Visual Studio or MinGW application?"
@
text
@d214 1
a214 1
@@subsection How do I link against @@samp{cygwin1.dll} with Visual Studio?
d216 18
a233 2
To my knowledge, none of the Cygwin developers have done this, but we
have this report from the mailing list that it can be done this way:
a287 16
@@subsection How do I load @@samp{cygwin1.dll} dynamically from a Visual Studio or MinGW application?

Read @@code{how-cygtls-works.txt} and the sample code in
@@code{winsup/testsuite/cygload} if you want to understand how this works.
The short version is:

@@enumerate
@@item Make sure you have 4K of scratch space at the bottom of your stack.
@@item Invoke @@code{cygwin_dll_init()}:
@@example
HMODULE h = LoadLibrary("cygwin1.dll");
void (*init)() = GetProcAddress(h, "cygwin_dll_init");
init();
@@end example
@@end enumerate

@


1.39
log
@* how-programming.texinfo: Replace MAKE_MODE entry with FAQ about execvp errors and cygexec.
@
text
@d272 16
@


1.38
log
@Mention generic-build-script in packaging FAQ
@
text
@d53 1
a53 1
@@subsection Why is make behaving badly?
d56 2
a57 1
work well.
d59 21
a79 1
Otherwise, read on...
d81 2
a82 2
Make has two operating modes, UNIX and WIN32.  You need to make sure
that you are operating in the right mode.
a83 19
In UNIX mode, make uses sh.exe as a subshell.  The path list separator
is ':', '\' is the escape character, POSIX paths are expected, and
Cygwin mounts will be understood.  Use this for Makefiles written for
UNIX.

In WIN32 mode, make uses the "native" command shell (cmd.exe or
command.com), with all the restrictions that implies.  The path list
separator is ';', the path separator is '\', "copy" and "del" work, but
the Cygwin mount table is not understood.  Use this for nmake-style
Makefiles.

The default mode for the Net Release of make (the one installed by
@@code{setup.exe}) is UNIX.  The default mode for commercial releases to
Redhat (formerly Cygnus) customers is WIN32.

You can override the default by setting the environment variable
MAKE_MODE to "UNIX" (actually case is not significant) or "WIN32"
(actually anything other than "UNIX").  You can also specify the options
--unix or --win32 on the make command line.
@


1.37
log
@* how-programming.texinfo: Remove incorrect libm.a note.
@
text
@d5 1
a5 1
If you are willing to be a package maintainer, great.  We urgently need
d9 13
a21 9
The Cygwin Package Contributor's Guide is at
@@file{http://cygwin.com/setup.html}, which details everything you need
to know about being a package maintainer.  Use the cygwin-apps mailing
list (start at @@file{http://cygwin.com/lists.html}) for
questions about package maintenance, @@emph{after} searching and browsing the
cygwin-apps list archives, of course.  Charles Wilson posted a short
recipe of what is involved, using texinfo as an example, available at
@@file{http://cygwin.com/ml/cygwin-apps/2000-11/msg00055.html}.  This
should give you an idea of what is required.
d23 2
a24 2
You should announce your intentions to the general cygwin list, in case
others were thinking the same thing.
@


1.36
log
@
* install.texinfo: Add live CD, registry information.
@
text
@a100 2
This is an artifact of libm.a being a symbolic link to libcygwin.a.

@


1.35
log
@
* how-programming.texinfo: Add details about building a debugging version of the DLL.
* how-using.texinfo: Correct rxvt README location.
* install.texinfo: Add mount -m note to uninstall instructions.
@
text
@d359 1
a359 2
the instructions at @@file{http://cygwin.com/faq/faq_3.html#SEC102},
adding the @@samp{--enable-debugging} option to @@samp{../configure}.  You
@


1.34
log
@* how-programming.texinfo: Remove obsolete w32api instructions and add some
words about unpacking net release .tar.bz2.
@
text
@d304 1
a304 1
@@subsection How do I rebuild the tools on my NT box?
d306 4
a309 5
Install all required components in one directory (we'll call it /src).
Ideally, you should check out what you need from CVS
(@@file{http://cygwin.com/cvs.html}).  This is the @@emph{preferred
method} for acquiring the sources.  Otherwise, you can install the
appropriate source packages from the cygwin distribution.
d317 8
a324 3
You @@emph{must} build cygwin in a separate directory from the source.
So, create something like a /obj directory.  You'll be performing
your build in that directory:
d327 4
a330 4
bash
cd /obj
/src/configure --prefix=/install -v > configure.log 2>&1
make > make.log 2>&1
d334 11
a344 13
Normally, this procedure ignore errors in building the documentation,
which requires tools which are not included in the Cygwin distribution.
If you want to build the documentation on Linux, on most distributions a
package named docbook-utils should get you most of what you need. For
more information on building the documentation, see the README included
in the cygwin-doc package.

To check a cygwin1.dll, run "make check" in the winsup/testsuite directory.
If that works, install everything @@emph{except} the dll (if you can).
Then, close down all cygwin programs (including bash windows, inetd,
etc.), save your old dll, and copy the new dll to the correct place.
Then start up a bash window, or  run a cygwin program from the Windows
command prompt, and see what happens.
d350 1
a350 16
@@subsection How can I compile a powerpc NT toolchain?

@@strong{(Please note: This section has not yet been updated for the latest
net release.)}

Unfortunately, this will be difficult.  It hasn't been built for
some time (late 1996) since Microsoft has dropped development of
powerpc NT.  Exception handling/signals support semantics/args have been
changed for x86 and not updated for ppc so the ppc specific support would
have to be rewritten.  We don't know of any other incompatibilities.
Please send us patches if you do this work!

@@subsection How can I compile an Alpha NT toolchain?

@@strong{(Please note: This section has not yet been updated for the latest
net release.)}
d352 18
a369 3
We have not ported the tools to Alpha NT and do not have plans to
do so at the present time.  We would be happy to add support
for Alpha NT if someone contributes the changes to us.
d373 3
a375 4
@@strong{(Please note: This section has not yet been updated for the latest
net release.)}

Pass heap/stack linker arguments to gcc.  To create foo.exe with
d402 2
a403 5
@@strong{(Please note: This section has not yet been updated for the latest
net release.)}

There's documentation that explains the process on the main Cygwin
project web page (http://cygwin.com/).
a542 3
@@strong{(Please note: This section has not yet been updated for the latest
net release.)}

@


1.33
log
@2004-09-30  Joshua Daniel Franklin  <joshuadfranklin@@yahoo.com>

	* how-programming.texinfo: Add gcj note to WinMain@@16 FAQ.
	* how-using.texinfo: Add FAQ about network shares and authentication.
	* install.texinfo: Add "Where is make" to FAQ subtitle.
@
text
@d312 5
a316 9
As of this writing, you need to install at least the cygwin source
package and the w32api source package.  The winsup source package
should be extracted first and the w32api source directory should
be extracted into the resulting 'winsup' directory.  Then rename
w32api-whatever to w32api.

It is possible that the cygwin source package may require a newer
version of the w32api package since the release of the packages is
not always in lock step (another reason to just use CVS).
d337 1
a337 1
To check a cygwin1.dll, run "make check" in the winsup/cygwin directory.
@


1.32
log
@	* how-programming.texinfo: Add section about Visual Studio linking.
@
text
@d81 3
a83 4
Try adding an empty main() function to one of your sources.

Or, perhaps you have @@samp{-lm} too early in the link command line.  It
should be at the end:
d103 6
@


1.31
log
@
2004-06-13  Joshua Daniel Franklin  <joshuadfranklin@@yahoo.com>

	* faq.texinfo: Move outdated calls.texinfo to readme.texinfo.
	* how-api.texinfo: Fix typos.
	* how-programming.texinfo: Fix typos.
	* how-resources.texinfo: Fix typos.
	* how-using.texinfo: Fix typos.
	* install.texinfo: Fix typos.
	* readme.texinfo: Move outdated calls.texinfo to readme.texinfo.
@
text
@d205 58
d297 1
a297 1
(thanks to Jacob Navia (root@@@@jacob.remcomp.fr) for this explanation)
@


1.30
log
@2004-03-28  Joshua Daniel Franklin  <joshuadfranklin@@yahoo.com>
	* how-programming.texinfo: Make list in .lib FAQ enumerative.
@
text
@d46 1
a46 1
that there is only minimual support for the Objective C front-end in the
d188 1
a188 1
"-Wl,--subsystem,windows" to the GCC commandline.
d226 1
a226 1
      withth a direct call or through an initialized function pointer.
d321 1
a321 1
@@subsection How can I find out which dlls are needed by an executable?
d464 2
a465 2
MS dlls, gdb will complain about not being able to load debug information
for them when you run your program.  This is normal since these dlls
@


1.29
log
@2004-03-28  Joshua Daniel Franklin  <joshuadfranklin@@yahoo.com>

        * how-programming.texinfo: Add note about gcc .lib linking.
        * pathnames.sgml: Mention create_devices.sh for /dev/ creation.
@
text
@d211 2
a212 1
1. Build a C file with a function table.  Put all functions you intend
d216 4
a219 3
2. Build a dummy 'LibMain'.
3. Build a .def with all the exports you need.
4. Link with your .lib using link.exe.
d223 9
a231 7
1. Extract all the object files from the .lib using LIB.EXE.
2. Build a dummy C file referencing all the functions you need, either
with a direct call or through an initialized function pointer.
3. Build a dummy LibMain.
4. Link all the objects with this file+LibMain.
5. Write a .def.
6. Link.
@


1.28
log
@2004-01-11  Joshua Daniel Franklin <joshuadfranklin@@yahoo.com>

        * Makefile.in: Add new target for single-file User's Guide, use new
        cygwin.dsl for output.
        * cygwin.dsl: New file, DSSSL stylesheet for custom Cygwin output.
        * cygwin-api.in.sgml: Update to DocBook SGML 4.2 DTD.
        * cygwin-ug-net.in.sgml: Update to DocBook SGML 4.2 DTD.
        * cygwin-ug.in.sgml: Update to DocBook SGML 4.2 DTD.
        * cygwinenv.sgml: Correct some tags. Add description of default values
        to ntsec, export, and error_start items.
        * dll.sgml: Add explanation of cyg prefix for DLLs.
        * effectively.sgml: Use systemitem tag for names of Cygwin packages.
        * how-programming.texinfo: Add example to FAQ entry.
        * pathnames.sgml: Add discussion of /proc filesystem.
	* setup-net.sgml: Correct some typos and grammar.
@
text
@d202 1
a202 1
something that Cygnus (err... Red Hat) can't agree to.  Fortunately, we
d205 1
a205 1
@@subsection How do I link against .lib files?
d207 3
a209 2
@@strong{(Please note: This section has not yet been updated for the latest
net release.)}
d267 6
a272 4
Normally, this procedure will also attempt to build the documentation,
which additionally requires db2html, and possibly other tools, which are
not included in the Cygwin distribution.  You can get db2html as part of
docbook, from @@file{http://sources.redhat.com/docbook-tools/}.
d277 3
a279 4
etc.), save your old dll, and copy the new dll to @@emph{all} the
places where the old dll was (if there is more than one on your
machine).  Then start up a bash window and see what happens.  (Or better,
run a cygwin program from the Windows command prompt.)
d283 1
a283 1
same time.
@


1.27
log
@minor adjustments to Elfyn's contribution.
@
text
@d579 12
@


1.26
log
@Apply Elfyn's patches as supplied in <http://cygwin.com/ml/cygwin-patches/2003-q3/msg00156.html>.
@
text
@d9 7
a15 8
There's a Cygwin Contributor's Guide on the project web page available
here @@file{http://cygwin.com/setup.html}, which details everything you'll
need to know about being a package maintainer.  If you need any extra
help you can ask on cygwin-apps @@emph{at} cygwin @@emph{dot} com mailing
list, or alternatively you can search the cygwin-apps archives
(start at @@file{http://http://cygwin.com/lists.html}), as your question
may well have been asked before.  Charles Wilson posted a short recipe
of what's involved, using texinfo as an example, available at
@


1.25
log
@fix typo
@
text
@d9 9
a17 6
There will be a separate web page where all the details are documented,
but this is not prepared yet.  Meanwhile, pore through the cygwin-apps
mailing archives (start at @@file{http://cygwin.com/lists.html}), and
subscribe.  Charles Wilson posted a short recipe of what's involved,
using texinfo as an example,
at @@file{http://cygwin.com/ml/cygwin-apps/2000-11/msg00055.html}.  This
@


1.24
log
@* how.texinfo: Add more w32api words.
@
text
@d238 2
a239 2
(@@file{http://cygwin.com/cvs.html}).  This is the @@emph(preferred
method) for acquiring the sources.  Otherwise, you can install the
@


1.23
log
@* how-programming.texinfo: Document _WIN32 more fully.
@
text
@d237 4
a240 3
Ideally, you should check out what you need from CVS (@@file{http://cygwin.com/cvs.html}) but
otherwise, you can install the appropriate source packages from the
cygwin distribution.
d243 4
a246 1
package and the w32api source package.
@


1.22
log
@* how-programming.texinfo: Add more words to the "how to build".
@
text
@d567 6
@


1.21
log
@remove "not yet updated" for preprocessor, GUI programming entries.
@
text
@d236 4
a239 2
@@strong{Note:} You must build in a directory @@emph{outside} the source
tree.
d241 10
a250 2
Assuming that you have the src installed as /src, will build in
the directory /obj, and want to install the tools in /install:
d260 3
a262 3
Normally, this will also attempt to build the documentation, which
additionally requires db2html, and possibly other tools, which are not
included in the Cygwin distribution.  You can get db2html as part of
@


1.20
log
@remove "Where can I get f77 and objc components for B20 EGCS 1.1?"
(it can't possibly be relevant any more...)
@
text
@a548 3
@@strong{(Please note: This section has not yet been updated for the latest
net release.)}

a557 3

@@strong{(Please note: This section has not yet been updated for the latest
net release.)}
@


1.19
log
@again revise license terms
@
text
@a559 8
@@subsection Where can I get f77 and objc components for B20 EGCS 1.1?

@@strong{(Please note: This section has not yet been updated for the latest
net release.)}

B20-compatible versions of the f77 and objc components are available
from @@file{http://www.xraylith.wisc.edu/~khan/software/gnu-win32/}.

@


1.18
log
@revise license explanation
@
text
@d175 1
a175 2
Hat, then your software must comply with the Open Source Definition or
the GPL.
@


1.17
log
@new entry "Can I build a Cygwin program that does not require cygwin1.dll at runtime?"
@
text
@d174 3
a176 2
options.  Unless you purchase a special commercial license from
Red Hat, then your Cygwin application must conform to the GPL.
@


1.16
log
@"How do I rebuild the tools on my NT box?":  texi2html now provided.
@
text
@d164 13
@


1.15
log
@New entry "Where is Objective C?"
@
text
@d238 3
a240 10
additionally requires db2html, texi2html and possibly others.
These tools are not included in the Cygwin distribution, but are readily
obtainable:

@@table @@samp
@@item db2html
Part of docbook, from @@file{http://sources.redhat.com/docbook-tools/}.
@@item texi2html
From @@file{http://www.mathematik.uni-kl.de/~obachman/Texi2html/}.
@@end table
@


1.14
log
@New entry "How do I contribute to Cygwin?"
@
text
@d39 8
@


1.13
log
@new entries about contributing packages
@
text
@d20 5
@


1.12
log
@try again...
@
text
@d3 17
@


1.11
log
@add tip about -lm order to WinMail@@16 entry
@
text
@d66 1
a66 1
    /usr/lib/libm.a(libcmain.o)(.text+0x6a):libcmain.c: undefined reference to `WinMain@@16'
@


1.10
log
@sources.redhat.com -> cygwin.com where appropriate
@
text
@d47 1
a47 1
@@subsection Why the undefined reference to "WinMain@@@@16"?
d49 10
a58 2
@@strong{(Please note: This section has not yet been updated for the latest
net release.)}
d60 11
a70 1
Try adding an empty main() function to one of your sources.
@


1.9
log
@* cygwinenv.sgml: Remove CYGWIN=strace option.  Update CYGWIN options.
* how-programming.texinfo: Remove stuff about CYGWIN=strace.
* setup2.sgml: Remove CYGWIN=strace example.
@
text
@d270 1
a270 1
project web page (http://sources.redhat.com/cygwin/).
d285 1
a285 1
@@file{http://sources.redhat.com/ml/cygwin/2000-06/msg00688.html} and
@


1.8
log
@Update "Why is make behaving badly?", add warning about make -j[n].
@
text
@a399 10
Alternatively, you can set the @@code{STRACE} environment variable to
@@code{1}, and get a whole load of debug information on your screen
whenever a Cygwin app runs.  This is an especially useful tool to use
when tracking bugs down inside the Cygwin library.  @@code{STRACE} can be
set to different values to achieve different amounts of granularity.
You can set it to @@code{0x10} for information about syscalls or
@@code{0x800} for signal/process handling-related info, to name two.  The
strace mechanism is well documented in the Cygwin library sources in the
file @@code{winsup/cygwin/include/sys/strace.h}.

@


1.7
log
@Update section "Why is make behaving badly?"
@
text
@d19 5
@


1.6
log
@Update entry "Why are compiled executables so huge?!?", add bit about 'gcc -s'.
@
text
@d19 2
a20 2
@@strong{(Please note: This section has not yet been updated for the latest
net release.)}
d22 4
a25 6
Starting with the beta 19 release, make defaults to a win32 mode in
which backslashes in filenames are permitted and cmd.exe/command.com
is used as the sub-shell.  In this mode, escape characters aren't
allowed among other restrictions.  For this reason, you must set
the environment variable MAKE_MODE to UNIX to run make on ordinary Unix
Makefiles.  Here is the full scoop:
d27 5
a31 5
MAKE_MODE selects between native Win32 make mode (the default) and
a Unix mode where it behaves like a Unix make.  The Unix mode does
allow specifying Win32-style paths but only containing forward slashes
as the path separator.  The path list separator character is a colon
in Unix mode.
d33 8
a40 8
Win32 mode expects path separators to be either / or \.  Thus no
Unix-style \s as escape are allowed.  Win32 mode also uses
cmd.exe/command.com as the subshell which means "copy" and "del"
(and other shell builtins) will work.  The path list separator
character is semi-colon in Win32 mode.  People who want an nmake-like
make might want to use this mode but no one should expect Unix
Makefiles to compile in this mode.  That is why the default b19
install sets MAKE_MODE to UNIX.
@


1.5
log
@Minor update to "How can I find out which dlls are needed by an executable?",
indicate that cygcheck works recursively.
@
text
@d9 1
a9 1
package.
@


1.4
log
@Update entry "Shell scripts aren't running properly from my makefiles?",
remove old disclaimer.
@
text
@d246 2
a247 2
@@samp{cygcheck} will do this much more concisely, provided the command
is in your path.
@


1.3
log
@Update entry "How can I find out which dlls are needed by an executable?"
including information about cygcheck.
@
text
@d495 4
a498 6
@@strong{(Please note: This section has not yet been updated for the latest
net release.)}

You need to have . (dot) in your $PATH.  You should NOT need to add
/bin/sh in front of each and every shell script invoked in your
Makefiles.
@


1.2
log
@New entry "Can I link with both MSVCRT*.DLL and cygwin1.dll?"
@
text
@d244 1
a244 2
@@strong{(Please note: This section has not yet been updated for the latest
net release.)}
d246 14
a259 1
objdump -p provides this information.
@


1.1
log
@New files, contents of how.texinfo has been split into these.
@
text
@d113 4
@

