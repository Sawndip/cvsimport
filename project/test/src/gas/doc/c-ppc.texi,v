head	1.25;
access;
symbols
	binutils-2_24-branch:1.25.0.2
	binutils-2_24-branchpoint:1.25
	binutils-2_21_1:1.19.2.1
	binutils-2_23_2:1.23
	binutils-2_23_1:1.23
	binutils-2_23:1.23
	binutils-2_23-branch:1.23.0.2
	binutils-2_23-branchpoint:1.23
	binutils-2_22_branch:1.22.0.4
	binutils-2_22:1.22
	binutils-2_22-branch:1.22.0.2
	binutils-2_22-branchpoint:1.22
	binutils-2_21:1.19
	binutils-2_21-branch:1.19.0.2
	binutils-2_21-branchpoint:1.19
	binutils-2_20_1:1.15.2.3
	binutils-2_20:1.15.2.3
	binutils-arc-20081103-branch:1.13.0.6
	binutils-arc-20081103-branchpoint:1.13
	binutils-2_20-branch:1.15.0.2
	binutils-2_20-branchpoint:1.15
	dje-cgen-play1-branch:1.14.0.2
	dje-cgen-play1-branchpoint:1.14
	arc-20081103-branch:1.13.0.4
	arc-20081103-branchpoint:1.13
	binutils-2_19_1:1.13
	binutils-2_19:1.13
	binutils-2_19-branch:1.13.0.2
	binutils-2_19-branchpoint:1.13
	binutils-2_18:1.11
	binutils-2_18-branch:1.11.0.2
	binutils-2_18-branchpoint:1.11
	binutils-csl-coldfire-4_1-32:1.7
	binutils-csl-sourcerygxx-4_1-32:1.7
	binutils-csl-innovasic-fido-3_4_4-33:1.7
	binutils-csl-sourcerygxx-3_4_4-32:1.5
	binutils-csl-coldfire-4_1-30:1.7
	binutils-csl-sourcerygxx-4_1-30:1.7
	binutils-csl-coldfire-4_1-28:1.7
	binutils-csl-sourcerygxx-4_1-29:1.7
	binutils-csl-sourcerygxx-4_1-28:1.7
	binutils-csl-arm-2006q3-27:1.7
	binutils-csl-sourcerygxx-4_1-27:1.7
	binutils-csl-arm-2006q3-26:1.7
	binutils-csl-sourcerygxx-4_1-26:1.7
	binutils-csl-sourcerygxx-4_1-25:1.7
	binutils-csl-sourcerygxx-4_1-24:1.7
	binutils-csl-sourcerygxx-4_1-23:1.7
	binutils-csl-sourcerygxx-4_1-21:1.7
	binutils-csl-arm-2006q3-21:1.7
	binutils-csl-sourcerygxx-4_1-22:1.7
	binutils-csl-palmsource-arm-prelinker-1_0-1:1.7
	binutils-csl-sourcerygxx-4_1-20:1.7
	binutils-csl-arm-2006q3-19:1.7
	binutils-csl-sourcerygxx-4_1-19:1.7
	binutils-csl-sourcerygxx-4_1-18:1.7
	binutils-csl-renesas-4_1-9:1.7
	binutils-csl-sourcerygxx-3_4_4-25:1.5
	binutils-csl-renesas-4_1-8:1.7
	binutils-csl-renesas-4_1-7:1.7
	binutils-csl-renesas-4_1-6:1.7
	binutils-csl-sourcerygxx-4_1-17:1.7
	binutils-csl-sourcerygxx-4_1-14:1.7
	binutils-csl-sourcerygxx-4_1-15:1.7
	binutils-csl-sourcerygxx-4_1-13:1.7
	binutils-2_17:1.7
	binutils-csl-sourcerygxx-4_1-12:1.7
	binutils-csl-sourcerygxx-3_4_4-21:1.7
	binutils-csl-wrs-linux-3_4_4-24:1.5
	binutils-csl-wrs-linux-3_4_4-23:1.5
	binutils-csl-sourcerygxx-4_1-9:1.7
	binutils-csl-sourcerygxx-4_1-8:1.7
	binutils-csl-sourcerygxx-4_1-7:1.7
	binutils-csl-arm-2006q1-6:1.7
	binutils-csl-sourcerygxx-4_1-6:1.7
	binutils-csl-wrs-linux-3_4_4-22:1.5
	binutils-csl-coldfire-4_1-11:1.7
	binutils-csl-sourcerygxx-3_4_4-19:1.7
	binutils-csl-coldfire-4_1-10:1.7
	binutils-csl-sourcerygxx-4_1-5:1.7
	binutils-csl-sourcerygxx-4_1-4:1.7
	binutils-csl-wrs-linux-3_4_4-21:1.5
	binutils-csl-morpho-4_1-4:1.7
	binutils-csl-sourcerygxx-3_4_4-17:1.7
	binutils-csl-wrs-linux-3_4_4-20:1.5
	binutils-2_17-branch:1.7.0.4
	binutils-2_17-branchpoint:1.7
	binutils-csl-2_17-branch:1.7.0.2
	binutils-csl-2_17-branchpoint:1.7
	binutils-csl-gxxpro-3_4-branch:1.5.0.6
	binutils-csl-gxxpro-3_4-branchpoint:1.5
	binutils-2_16_1:1.5
	binutils-csl-arm-2005q1b:1.5
	binutils-2_16:1.5
	binutils-csl-arm-2005q1a:1.5
	binutils-csl-arm-2005q1-branch:1.5.0.4
	binutils-csl-arm-2005q1-branchpoint:1.5
	binutils-2_16-branch:1.5.0.2
	binutils-2_16-branchpoint:1.5
	csl-arm-2004-q3d:1.4
	csl-arm-2004-q3:1.4
	binutils-2_15:1.4
	binutils-2_15-branchpoint:1.4
	csl-arm-2004-q1a:1.4
	csl-arm-2004-q1:1.4
	binutils-2_15-branch:1.4.0.6
	cagney_bfdfile-20040213-branch:1.4.0.4
	cagney_bfdfile-20040213-branchpoint:1.4
	cagney_bigcore-20040122-branch:1.4.0.2
	cagney_bigcore-20040122-branchpoint:1.4
	csl-arm-2003-q4:1.4
	binutils-2_14:1.2
	binutils-2_14-branch:1.2.0.4
	binutils-2_14-branchpoint:1.2
	binutils-2_13_2_1:1.2
	binutils-2_13_2:1.2
	binutils-2_13_1:1.2
	binutils-2_13:1.2
	binutils-2_13-branchpoint:1.2
	binutils-2_13-branch:1.2.0.2
	binutils-2_12_1:1.1.2.1
	binutils-2_12:1.1.2.1
	binutils-2_12-branch:1.1.0.2
	binutils-2_12-branchpoint:1.1
	cygnus_cvs_20020108_pre:1.1
	binutils_latest_snapshot:1.25;
locks; strict;
comment	@# @;


1.25
date	2013.01.11.02.25.33;	author bergner;	state Exp;
branches;
next	1.24;

1.24
date	2012.09.05.18.01.00;	author jwlemke;	state Exp;
branches;
next	1.23;

1.23
date	2012.03.09.23.39.04;	author amodra;	state Exp;
branches;
next	1.22;

1.22
date	2011.02.10.22.50.09;	author amodra;	state Exp;
branches;
next	1.21;

1.21
date	2011.02.10.11.59.12;	author amodra;	state Exp;
branches;
next	1.20;

1.20
date	2011.01.18.13.37.39;	author nickc;	state Exp;
branches;
next	1.19;

1.19
date	2010.02.08.01.59.37;	author amodra;	state Exp;
branches
	1.19.2.1;
next	1.18;

1.18
date	2009.10.02.14.42.41;	author bergner;	state Exp;
branches;
next	1.17;

1.17
date	2009.10.01.19.24.47;	author bergner;	state Exp;
branches;
next	1.16;

1.16
date	2009.09.21.10.29.06;	author bje;	state Exp;
branches;
next	1.15;

1.15
date	2009.09.02.07.24.21;	author amodra;	state Exp;
branches
	1.15.2.1;
next	1.14;

1.14
date	2008.12.04.10.29.15;	author bje;	state Exp;
branches;
next	1.13;

1.13
date	2008.08.02.04.38.50;	author bergner;	state Exp;
branches
	1.13.2.1;
next	1.12;

1.12
date	2007.08.24.00.56.29;	author bje;	state Exp;
branches;
next	1.11;

1.11
date	2007.04.19.00.05.32;	author amodra;	state Exp;
branches;
next	1.10;

1.10
date	2006.10.24.01.27.28;	author amodra;	state Exp;
branches;
next	1.9;

1.9
date	2006.07.24.13.49.49;	author nickc;	state Exp;
branches;
next	1.8;

1.8
date	2006.06.07.05.23.59;	author amodra;	state Exp;
branches;
next	1.7;

1.7
date	2005.08.15.15.37.15;	author drow;	state Exp;
branches;
next	1.6;

1.6
date	2005.05.19.07.02.14;	author amodra;	state Exp;
branches;
next	1.5;

1.5
date	2005.03.03.01.29.54;	author amodra;	state Exp;
branches;
next	1.4;

1.4
date	2003.11.22.06.14.48;	author amodra;	state Exp;
branches;
next	1.3;

1.3
date	2003.08.19.07.09.44;	author amodra;	state Exp;
branches;
next	1.2;

1.2
date	2002.02.25.03.44.54;	author amodra;	state Exp;
branches;
next	1.1;

1.1
date	2001.10.13.01.59.08;	author mrg;	state Exp;
branches
	1.1.2.1;
next	;

1.19.2.1
date	2011.03.19.00.27.26;	author amodra;	state Exp;
branches;
next	;

1.15.2.1
date	2009.09.21.10.29.08;	author bje;	state Exp;
branches;
next	1.15.2.2;

1.15.2.2
date	2009.10.01.19.49.38;	author bergner;	state Exp;
branches;
next	1.15.2.3;

1.15.2.3
date	2009.10.02.14.51.22;	author bergner;	state Exp;
branches;
next	;

1.13.2.1
date	2009.03.02.13.43.14;	author amodra;	state Exp;
branches;
next	;

1.1.2.1
date	2002.02.25.05.05.34;	author amodra;	state Exp;
branches;
next	;


desc
@@


1.25
log
@include/opcode/
	* ppc.h (PPC_OPCODE_POWER8): New define.
	(PPC_OPCODE_HTM): Likewise.

opcodes/
	* ppc-dis.c (ppc_opts): Add "power8", "pwr8" and "htm" entries.
	* ppc-opc.c (HTM_R, HTM_SI, XRTRB_MASK, XRTRARB_MASK, XRTLRARB_MASK,
	XRTARARB_MASK, XRTBFRARB_MASK, XRCL, POWER8, PPCHTM): New defines.
	(SH6): Update.
	<"tabort.", "tabortdc.", "tabortdci.", "tabortwc.",
	"tabortwci.", "tbegin.", "tcheck", "tend.", "trechkpt.",
	"treclaim.", "tsr.">: Add POWER8 HTM opcodes.
	<"tendall.", "tresume.", "tsuspend.">: Add POWER8 HTM extended opcodes.

gas/
	* doc/as.texinfo (Target PowerPC): Document -mpower8 and -mhtm.
	* doc/c-ppc.texi (PowerPC-Opts):  Likewise.
	* config/tc-ppc.c (md_show_usage): Likewise.
	(ppc_handle_align): Handle power8's group ending nop.

gas/testsuite/
	* gas/ppc/htm.d: New test.
	* gas/ppc/htm.s: Likewise.
	* gas/ppc/power8.d: Likewise.
	* gas/ppc/power8.s: Likewise.
	* gas/ppc/ppc.exp: Run them.
@
text
@@@c Copyright 2001, 2002, 2003, 2005, 2006, 2007, 2008, 2009, 2010, 2011
@@c 2012 Free Software Foundation, Inc.
@@c This is part of the GAS manual.
@@c For copying conditions, see the file as.texinfo.
@@c man end
@@ifset GENERIC
@@page
@@node PPC-Dependent
@@chapter PowerPC Dependent Features
@@end ifset
@@ifclear GENERIC
@@node Machine Dependencies
@@chapter PowerPC Dependent Features
@@end ifclear

@@cindex PowerPC support
@@menu
* PowerPC-Opts::                Options
* PowerPC-Pseudo::              PowerPC Assembler Directives
* PowerPC-Syntax::              PowerPC Syntax
@@end menu

@@node PowerPC-Opts
@@section Options

@@cindex options for PowerPC
@@cindex PowerPC options
@@cindex architectures, PowerPC
@@cindex PowerPC architectures
The PowerPC chip family includes several successive levels, using the same
core instruction set, but including a few additional instructions at
each level.  There are exceptions to this however.  For details on what
instructions each variant supports, please see the chip's architecture
reference manual.

The following table lists all available PowerPC options.

@@c man begin OPTIONS
@@table @@gcctabopt
@@item -a32
Generate ELF32 or XCOFF32.

@@item -a64
Generate ELF64 or XCOFF64.

@@item -K PIC
Set EF_PPC_RELOCATABLE_LIB in ELF flags.

@@item -mpwrx | -mpwr2
Generate code for POWER/2 (RIOS2).

@@item -mpwr
Generate code for POWER (RIOS1)

@@item -m601
Generate code for PowerPC 601.

@@item -mppc, -mppc32, -m603, -m604
Generate code for PowerPC 603/604.

@@item -m403, -m405
Generate code for PowerPC 403/405.

@@item -m440
Generate code for PowerPC 440.  BookE and some 405 instructions.

@@item -m464
Generate code for PowerPC 464.

@@item -m476
Generate code for PowerPC 476.

@@item -m7400, -m7410, -m7450, -m7455
Generate code for PowerPC 7400/7410/7450/7455.

@@item -m750cl
Generate code for PowerPC 750CL.

@@item -mppc64, -m620
Generate code for PowerPC 620/625/630.

@@item -me500, -me500x2
Generate code for Motorola e500 core complex.

@@item -me500mc
Generate code for Freescale e500mc core complex.

@@item -me500mc64
Generate code for Freescale e500mc64 core complex.

@@item -me5500
Generate code for Freescale e5500 core complex.

@@item -me6500
Generate code for Freescale e6500 core complex.

@@item -mspe
Generate code for Motorola SPE instructions.

@@item -mtitan
Generate code for AppliedMicro Titan core complex.

@@item -mppc64bridge
Generate code for PowerPC 64, including bridge insns.

@@item -mbooke
Generate code for 32-bit BookE.

@@item -ma2
Generate code for A2 architecture.

@@item -me300
Generate code for PowerPC e300 family.

@@item -maltivec
Generate code for processors with AltiVec instructions.

@@item -mvle
Generate code for Freescale PowerPC VLE instructions.

@@item -mvsx
Generate code for processors with Vector-Scalar (VSX) instructions.

@@item -mhtm
Generate code for processors with Hardware Transactional Memory instructions.

@@item -mpower4, -mpwr4
Generate code for Power4 architecture.

@@item -mpower5, -mpwr5, -mpwr5x
Generate code for Power5 architecture.

@@item -mpower6, -mpwr6
Generate code for Power6 architecture.

@@item -mpower7, -mpwr7
Generate code for Power7 architecture.

@@item -mpower8, -mpwr8
Generate code for Power8 architecture.

@@item -mcell
@@item -mcell
Generate code for Cell Broadband Engine architecture.

@@item -mcom
Generate code Power/PowerPC common instructions.

@@item -many
Generate code for any architecture (PWR/PWRX/PPC).

@@item -mregnames
Allow symbolic names for registers.

@@item -mno-regnames
Do not allow symbolic names for registers.

@@item -mrelocatable
Support for GCC's -mrelocatable option.

@@item -mrelocatable-lib
Support for GCC's -mrelocatable-lib option.

@@item -memb
Set PPC_EMB bit in ELF flags.

@@item -mlittle, -mlittle-endian, -le
Generate code for a little endian machine.

@@item -mbig, -mbig-endian, -be
Generate code for a big endian machine.

@@item -msolaris
Generate code for Solaris.

@@item -mno-solaris
Do not generate code for Solaris.

@@item -nops=@@var{count}
If an alignment directive inserts more than @@var{count} nops, put a
branch at the beginning to skip execution of the nops.
@@end table
@@c man end


@@node PowerPC-Pseudo
@@section PowerPC Assembler Directives

@@cindex directives for PowerPC
@@cindex PowerPC directives
A number of assembler directives are available for PowerPC.  The
following table is far from complete.

@@table @@code
@@item .machine "string"
This directive allows you to change the machine for which code is
generated.  @@code{"string"} may be any of the -m cpu selection options
(without the -m) enclosed in double quotes, @@code{"push"}, or
@@code{"pop"}.  @@code{.machine "push"} saves the currently selected
cpu, which may be restored with @@code{.machine "pop"}.
@@end table

@@node PowerPC-Syntax
@@section PowerPC Syntax
@@menu
* PowerPC-Chars::                Special Characters
@@end menu

@@node PowerPC-Chars
@@subsection Special Characters

@@cindex line comment character, PowerPC
@@cindex PowerPC line comment character
The presence of a @@samp{#} on a line indicates the start of a comment
that extends to the end of the current line.

If a @@samp{#} appears as the first character of a line then the whole
line is treated as a comment, but in this case the line could also be
a logical line number directive (@@pxref{Comments}) or a preprocessor
control command (@@pxref{Preprocessing}).

If the assembler has been configured for the ppc-*-solaris* target
then the @@samp{!} character also acts as a line comment character.
This can be disabled via the @@option{-mno-solaris} command line
option.

@@cindex line separator, PowerPC
@@cindex statement separator, PowerPC
@@cindex PowerPC line separator
The @@samp{;} character can be used to separate statements on the same
line.
@


1.24
log
@* gas/doc/c-ppc.texi: Document -mvle.
This was missing from the initial VLE port commit.
Committed as obvious / trivial.
@
text
@d124 3
d139 4
@


1.23
log
@include/opcode/
	* ppc.h: Add PPC_OPCODE_ALTIVEC2, PPC_OPCODE_E6500, PPC_OPCODE_TMR.
opcodes/
	* ppc-dis.c (ppc_opts): Add entries for "e5500" and "e6500".
	* ppc-opc.c (insert_ls, TMR, ESYNC, XSYNCLE_MASK): New.
	(PPCVEC2, PPCTMR, E6500): New short names.
	(powerpc_opcodes): Add vabsdub, vabsduh, vabsduw, dni, mvidsplt,
	mviwsplt, icblq., mftmr, mttmr, dcblq., miso, lvexbx, lvexhx,
	lvexwx, stvexbx, stvexhx, stvexwx, lvepx, lvepxl, stvepx, stvepxl,
	lvtrx, lvtrxl, lvtlx, lvtlxl, stvfrx, stvfrxl, stvflx, stvflxl,
	lvswx, lvswxl, stvswx, stvswxl, lvsm mnemonics. Accept LS, ESYNC
	optional operands on sync instruction for E6500 target.
bfd/
	* archures.c: Add bfd_mach_ppc_e5500 and bfd_mach_ppc_e6500.
	* bfd-in2.h: Regenerate.
	* cpu-powerpc.c (bfd_powerpc_archs): Add entryies for
	bfd_mach_ppc_e5500 and bfd_mach_ppc_e6500.
gas/
	* config/tc-ppc.c (md_show_usage): Document -me5500 and -me6500.
	(ppc_handle_align): Add termination nop opcode for e500mc family.
	* doc/as.texinfo: Document options -me5500 and -me6500.
	* doc/c-ppc.texi: Likewise.
gas/testsuite/
	* gas/ppc/e500mc64_nop.s: New test case for e500mc family
	termination nops.
	* gas/ppc/e500mc64_nop.d: Likewise.
	* gas/ppc/e5500_nop.s: Likewise.
	* gas/ppc/e5500_nop.d: Likewise.
	* gas/ppc/e6500_nop.s: Likewise.
	* gas/ppc/e6500_nop.d: Likewise.
	* gas/ppc/e6500.s: New.
	* gas/ppc/e6500.d: Likewise.
	* gas/ppc/ppc.exp: Run e6500, e500mc64_nop, e5500_nop, and e6500_nop.
@
text
@d118 3
@


1.22
log
@	* doc/c-ppc.texi (PowerPC-Opts <-nops>): Clarify.
@
text
@d2 1
a2 1
@@c Free Software Foundation, Inc.
d91 6
@


1.21
log
@	* config/tc-ppc.c (md_show_usage): Remove -l and -b.  Add -K PIC.
	* doc/as.texinfo: Refer to and include c-ppc.texi for PowerPC options.
	(Overview <Target PowerPC options>): Add a number of missing options.
	* doc/c-ppc.texi: Likewise.  Add markup for use in manpage generation.
@
text
@d164 2
a165 1
When aligning, more than @@var{count} nops uses a branch.
@


1.20
log
@	PR gas/12390
	* doc/all.texi: Add NS32K
	* doc/as.texinfo: Remove target specific details of which
	characters act as comment initiators and statement separators into
	individual target specific files.
	* doc/c-alpha.texi (Alpha-Chars): Document special behaviour of
	the hash character at the start of a line.
	* doc/c-arm.texi (ARM-Chars): Likewise.
	* doc/c-avr.texi (AVR-Chars): Likewise.
	* doc/c-d10v.texi (D10V-Chars): Likewise.
	* doc/c-d30v.texi (D30V-Chars):	Likewise.
	* doc/c-mmix.texi (MMIX-Chars): Likewise.
	* doc/c-s390.texi (s390 characters): Likewise.
	* doc/c-sh.texi (SH-Chars): Likewise.
	* doc/c-sh64.texi (SH64-Chars): Likewise.
	* doc/c-sparc.texi (SPARC-Chars): Likewise.
	* doc/c-tic6x.texi (TIC6X Syntax): Likewise.
	* doc/c-xtensa.texi (Xtensa Syntax): Likewise.
	* doc/c-z80.texi (Z80-Chars): Likewise.
	* doc/c-z8k.texi (Z8000-Chars): Likewise.
	* doc/c-pdp11.texi (PDP11-Syntax): Document line separator character.
	* doc/c-arc.texi (ARC-Chars): Fill in this subsection.
	* doc/c-bfin.texi (Blackfin Syntax): Document line comment and
	line separator characters.
	* doc/c-cr16.texi (CR16 Syntax): Likewise.
	* doc/c-i386.texi (i386-Chars): Likewise.
	* doc/c-i860.texi (i860-Chars):	Likewise.
	* doc/c-i960.texi (i960-Chars):	Likewise.
	* doc/c-ip2k.texi (IP2K-Chars):	Likewise.
	* doc/c-lm32.texi (LM32-Chars):	likewise.
	* doc/c-m32c.texi (M32C-Chars): Likewise.
	* doc/c-m68hc11.texi (M68HC11-syntax): Likewise.
	* doc/c-m68k.texi (M68K-Chars): Likewise.
	* doc/c-microblaze.texi (MicroBlaze-Chars): Likewise.
	* doc/c-msp430.texi (MSP430-Chars): Likewise.
	* doc/c-mt.texi (MT-Chars): Likewise.
	* doc/c-ns32k.texi (NS32K-Chars): Likewise.
	* doc/c-pj.texi (PJ-Chars): Likewise.
	* doc/c-ppc.texi (PowerPC-Chars): Likewise.
	* doc/c-rx.texi (RX-Chars): Likewise.
	* doc/c-score.texi (SCORE-Chars): Likewise.
	* doc/c-tic54x.texi (TIC54X-Chars): Likewise.
	* doc/c-v850.texi (V850-Chars): Likewise.
	* doc/c-vax.texi (VAX-Chars): Likewise.
	* doc/c-xc16x.texi (xc16x-Chars): Likewise.
@
text
@d5 1
d38 11
a48 1
@@table @@code
d67 3
d85 6
d115 1
a115 1
@@item -mpower4
d118 1
a118 1
@@item -mpower5
d121 1
a121 1
@@item -mpower6
d124 1
a124 1
@@item -mpower7
d151 1
a151 1
@@item -mlittle, -mlittle-endian
d154 1
a154 1
@@item -mbig, -mbig-endian
d162 3
d166 1
@


1.19
log
@include/
	* opcode/ppc.h (PPC_OPCODE_TITAN): Define.
bfd/
	* archures.c (bfd_mach_ppc_titan): Define.
	* bfd-in2.h: Regenerate.
	* cpu-powerpc.c (bfd_powerpc_archs): Add titan entry.
opcodes/
	* ppc-dis.c (ppc_opts): Add titan entry.
	* ppc-opc.c (TITAN, MULHW): Define.
	(powerpc_opcodes): Support AppliedMicro Titan core (APM83xxx).
gas/
	* config/tc-ppc.c (md_show_usage): Mention -mtitan.  Don't use tabs.
	(ppc_mach): Handle titan.
	* doc/c-ppc.texi: Mention -mtitan.
gas/testsuite/
	* gas/ppc/titan.d, * gas/ppc/titan.s: New test.
	* gas/ppc/ppc.exp: Run it.
@
text
@d1 1
a1 1
@@c Copyright 2001, 2002, 2003, 2005, 2006, 2007, 2008, 2009, 2010
d19 1
d161 30
@


1.19.2.1
log
@	* config/tc-ppc.c (md_show_usage): Remove -l and -b.  Add -K PIC.
	* doc/as.texinfo (Overview <Target PowerPC options>): Add a number
	of missing options.
	* doc/c-ppc.texi: Likewise.
@
text
@d1 1
a1 1
@@c Copyright 2001, 2002, 2003, 2005, 2006, 2007, 2008, 2009, 2010, 2011
a36 9
@@item -a32
Generate ELF32 or XCOFF32.

@@item -a64
Generate ELF64 or XCOFF64.

@@item -K PIC
Set EF_PPC_RELOCATABLE_LIB in ELF flags.

a54 3
@@item -m464
Generate code for PowerPC 464.

a69 6
@@item -me500mc
Generate code for Freescale e500mc core complex.

@@item -me500mc64
Generate code for Freescale e500mc64 core complex.

d94 1
a94 1
@@item -mpower4, -mpwr4
d97 1
a97 1
@@item -mpower5, -mpwr5, -mpwr5x
d100 1
a100 1
@@item -mpower6, -mpwr6
d103 1
a103 1
@@item -mpower7, -mpwr7
d130 1
a130 1
@@item -mlittle, -mlittle-endian, -le
d133 1
a133 1
@@item -mbig, -mbig-endian, -be
a140 4

@@item -nops=@@var{count}
If an alignment directive inserts more than @@var{count} nops, put a
branch at the beginning to skip execution of the nops.
@


1.18
log
@gas/
	* config/tc-ppc.c (md_show_usage): Document -m476.
	* doc/c-ppc.texi (PowerPC-Opts): Document -m476.

gas/testsuite/
	* gas/ppc/476.s: New test.
	* gas/ppc/476.d: Likewise.
	* gas/ppc/ppc.exp: Run the 476 test.

include/opcode/
	* ppc.h (PPC_OPCODE_476): Define.

opcodes/
	* ppc-dis.c (ppc_opts): Add "476" entry.
	* ppc-opc.c (PPC476): Define.
	(powerpc_opcodes): Update mnemonics where required for 476.
@
text
@d1 1
a1 1
@@c Copyright 2001, 2002, 2003, 2005, 2006, 2007, 2008
d73 3
@


1.17
log
@gas/
	* config/tc-ppc.c (md_show_usage): Rename "ppca2" to "a2".
	* doc/c-ppc.texi (PowerPC-Opts): Likewise.

gas/testsuite/
	* gas/ppc/a2.d: Rename "ppca2" to "a2".

include/opcode/
	* ppc.h (PPC_OPCODE_A2): Rename from PPC_OPCODE_PPCA2.

opcodes/
	* ppc-opc.c (PPCA2): Use renamed mask PPC_OPCODE_A2.
	* ppc-dis.c (ppc_opts): Likewise.
	Rename "ppca2" to "a2".
@
text
@d55 3
@


1.16
log
@gas/
	* config/tc-ppc.c (md_show_usage): Document -mpcca2.
	* doc/c-ppc.texi (PowerPC-Opts): Document -mppca2.

gas/testsuite/
	* gas/ppc/a2.s: New.
	* gas/ppc/a2.d: Likewise.
	* gas/ppc/ppc.exp: Run the a2 dump test.

include/opcode/
	* ppc.h (PPC_OPCODE_PPCA2): New.

opcodes/
	* ppc-dis.c (ppc_opts): Add "ppca2" entry.
	* ppc-opc.c (powerpc_opcodes): Add eratilx, eratsx, eratsx.,
	eratre, wchkall, eratwe, ldawx., mdfcrx., mfdcr. mtdcrx., icswx,
	icswx., mtdcr., dci, wclrone, wclrall, wclr, erativax, tlbsrx.,
	ici mnemonics.
	(ERAT_T): New operand.
	(XWC_MASK): New mask.
	(XOPL2): New macro.
	(PPCA2): Define.
@
text
@d76 1
a76 1
@@item -mppca2
@


1.15
log
@update copyright dates
@
text
@d76 3
@


1.15.2.1
log
@gas/
	* config/tc-ppc.c (md_show_usage): Document -mpcca2.
	* doc/c-ppc.texi (PowerPC-Opts): Document -mppca2.

gas/testsuite/
	* gas/ppc/a2.s: New.
	* gas/ppc/a2.d: Likewise.
	* gas/ppc/ppc.exp: Run the a2 dump test.

include/opcode/
	* ppc.h (PPC_OPCODE_PPCA2): New.

opcodes/
	* ppc-dis.c (ppc_opts): Add "ppca2" entry.
	* ppc-opc.c (powerpc_opcodes): Add eratilx, eratsx, eratsx.,
	eratre, wchkall, eratwe, ldawx., mdfcrx., mfdcr. mtdcrx., icswx,
	icswx., mtdcr., dci, wclrone, wclrall, wclr, erativax, tlbsrx.,
	ici mnemonics.
	(ERAT_T): New operand.
	(XWC_MASK): New mask.
	(XOPL2): New macro.
	(PPCA2): Define.
@
text
@a75 3
@@item -mppca2
Generate code for A2 architecture.

@


1.15.2.2
log
@gas/
	* config/tc-ppc.c (md_show_usage): Rename "ppca2" to "a2".
	* doc/c-ppc.texi (PowerPC-Opts): Likewise.

gas/testsuite/
	* gas/ppc/a2.d: Rename "ppca2" to "a2".

include/opcode/
	* ppc.h (PPC_OPCODE_A2): Rename from PPC_OPCODE_PPCA2.

opcodes/
	* ppc-opc.c (PPCA2): Use renamed mask PPC_OPCODE_A2.
	* ppc-dis.c (ppc_opts): Likewise.
	Rename "ppca2" to "a2".
@
text
@d76 1
a76 1
@@item -ma2
@


1.15.2.3
log
@gas/
	* config/tc-ppc.c (md_show_usage): Document -m476.
	* doc/c-ppc.texi (PowerPC-Opts): Document -m476.

gas/testsuite/
	* gas/ppc/476.s: New test.
	* gas/ppc/476.d: Likewise.
	* gas/ppc/ppc.exp: Run the 476 test.

include/opcode/
	* ppc.h (PPC_OPCODE_476): Define.

opcodes/
	* ppc-dis.c (ppc_opts): Add "476" entry.
	* ppc-opc.c (PPC476): Define.
	(powerpc_opcodes): Update mnemonics where required for 476.
@
text
@a54 3
@@item -m476
Generate code for PowerPC 476.

@


1.14
log
@opcodes/
	* ppc-dis.c (powerpc_init_dialect): Do not set PPC_OPCODE_BOOKE
	for -Mbooke.
	(print_ppc_disassembler_options): Update usage.
	* ppc-opc.c (DE, DES, DEO, DE_MASK): Remove.
	(BOOKE64): Remove.
	(PPCCHLK64): Likewise.
	(powerpc_opcodes): Remove all BOOKE64 instructions.

gas/
	* config/tc-ppc.c (parse_cpu): Remove booke64 support. Update
	usage strings.
	(ppc_setup_opcodes): Likewise, remove booke64 support.
	* doc/c-ppc.texi (PowerPC-Opts): Remove -mbooke32 and -mbooke64.
	* doc/as.texinfo (Overview): Likewise.

binutils/
	* doc/binutils.texi (objdump): Update booke documentation.
	* NEWS: Document user-visible changes to command line options.
@
text
@d1 1
a1 1
@@c Copyright 2001, 2002, 2003, 2005, 2006
@


1.13
log
@gas/
	* config/tc-ppc.c (parse_cpu): Rename altivec_or_spe to retain_flags.
	Handle -mvsx and -mpower7.
	(md_show_usage): Document -mpower7 and -mvsx.
	* doc/as.texinfo (Target PowerPC): Document -mvsx.
	* doc/c-ppc.texi (PowerPC-Opts): Document -mvsx and -mpower7.

gas/testsuite/
	* gas/ppc/power7.d: New.
	* gas/ppc/power7.s: Likewise.
	* gas/ppc/ppc.exp: Run power7 test.

include/opcode/
	* ppc.h (PPC_OPCODE_VSX, PPC_OPERAND_VSR): New.

opcodes/
	* ppc-dis.c (powerpc_init_dialect): Handle power7 and vsx options.
	(print_insn_powerpc): Prepend 'vs' when printing VSX registers.
	(print_ppc_disassembler_options): Document -Mpower7 and -Mvsx.
	* ppc-opc.c (insert_xt6): New static function.
	(extract_xt6): Likewise.
	(insert_xa6): Likewise.
	(extract_xa6: Likewise.
	(insert_xb6): Likewise.
	(extract_xb6): Likewise.
	(insert_xb6s): Likewise.
	(extract_xb6s): Likewise.
	(XS6, XT6, XA6, XB6, XB6S, DM, XX3, XX3DM, XX1_MASK, XX3_MASK,
	XX3DM_MASK, PPCVSX): New.
	(powerpc_opcodes): Add opcodes "lxvd2x", "lxvd2ux", "stxvd2x",
	"stxvd2ux", "xxmrghd", "xxmrgld", "xxpermdi", "xvmovdp", "xvcpsgndp".
@
text
@d73 1
a73 4
@@item -mbooke64
Generate code for 64-bit BookE.

@@item -mbooke, mbooke32
@


1.13.2.1
log
@backport 2008-12-04  Ben Elliston  <bje@@au.ibm.com>
@
text
@d73 4
a76 1
@@item -mbooke
@


1.12
log
@binutils/
	* doc/binutils.texi (objdump): Document -Mppcps.

gas/
	* config/tc-ppc.c (parse_cpu): Handle "750cl".
	(pre_defined_registers): Add "gqr0" to "gqr7", "gqr.0" to "gqr.7".
	(md_show_usage): Document -m750cl.
	(md_assemble): Handle two delimiters in succession (eg. `),').
	* doc/c-ppc.texi (PowerPC-Opts): Document -m750cl.
	* testsuite/gas/ppc/ppc.exp: Run ppc70ps dump tests.
	* testsuite/gas/ppc/ppc750ps.s: New file.
	* testsuite/gas/ppc/ppc750ps.d: Likewise.

include/opcode/
	* ppc.h (PPC_OPCODE_PPCPS): New.

opcodes/
	* ppc-opc.c (PSW, PSWM, PSQ, PSQM, PSD, MTMSRD_L): New.
	(XOPS, XOPS_MASK, XW, XW_MASK): Likewise.
	(PPCPS): Likewise.
	(powerpc_opcodes): Add all pair singles instructions.
	* ppc-dis.c (powerpc_dialect): Handle "ppcps".
	(print_ppc_disassembler_options): Document -Mppcps.
@
text
@d85 3
d97 3
@


1.11
log
@	* doc/c-ppc.texi (PowerPC-Opts): Document -me500, -me500x2, -mspe.
@
text
@d58 3
@


1.10
log
@Add powerpc cell support.
@
text
@d61 6
@


1.9
log
@Fix spelling typos
@
text
@d85 3
@


1.8
log
@include/opcode/
	* ppc.h (PPC_OPCODE_POWER6): Define.
	Adjust whitespace.
gas/
	* config/tc-ppc.c (parse_cpu): Handle "-mpower6".
	(md_show_usage): Document it.
	(ppc_setup_opcodes): Test power6 opcode flag bits.
	* doc/c-ppc.texi (PowerPC-Opts): Document "-mpower6".
opcodes/
	* ppc-dis.c (powerpc_dialect): Handle power6 option.
	(print_ppc_disassembler_options): Mention power6.
@
text
@d98 1
a98 1
Support for GCC's -mrelocatble option.
d101 1
a101 1
Support for GCC's -mrelocatble-lib option.
@


1.7
log
@gas/
	* config/tc-ppc.c (parse_cpu): Add -me300 support.
	(md_show_usage): Likewise.
	* doc/c-ppc.texi (PowerPC-Opts): Document it.
include/opcode/
	* ppc.h (PPC_OPCODE_E300): Define.
opcodes/
	* ppc-dis.c (powerpc_dialect): Handle e300.
	(print_ppc_disassembler_options): Likewise.
	* ppc-opc.c (PPCE300): Define.
	(powerpc_opcodes): Mark icbt as available for the e300.
binutils/
	* doc/binutils.texi (objdump): Document -M e300.
@
text
@d1 1
a1 1
@@c Copyright 2001, 2002, 2003, 2005
d82 3
@


1.6
log
@	* config/tc-ppc.c (parse_cpu): Handle "-mpower5".
	(md_show_usage): Document it.
	(ppc_setup_opcodes): Insert POWER5 mnemonics.
	* doc/c-ppc.texi (PowerPC-Opts): Document "-mpower5".
@
text
@d1 1
a1 1
@@c Copyright 2001, 2002, 2003
d70 3
@


1.5
log
@update copyright dates
@
text
@d76 3
@


1.4
log
@	* doc/c-ppc.texi (PowerPC-Pseudo): Add section.
@
text
@d1 1
a1 1
@@c Copyright 2001, 2002
@


1.3
log
@	* config/tc-ppc.c (md_parse_option): Handle -m440.
	(md_apply_fix3): Warning fix.
	(md_show_usage): Add -m440.
	* doc/c-ppc.texi: Document -m440.
@
text
@d18 1
d108 18
@


1.2
log
@	* doc/c-ppc.texi (PowerPC-Opts): Add -mpower4 and -maltivec.
	Remove references to chip manufacturers.
	* config/tc-ppc.c (md_parse_option): Handle -mpower4 option.
	Correct comments.
	(md_show_usage): Remove references to chip manufacturers.  Mention
	-mpower4.
	(md_begin): Test power4 opcode flag bits.
@
text
@d51 3
@


1.1
log
@[gas/ChangeLog]
	* config/tc-ppc.c (md_parse_option): New -m7410, -m7450 and -m7455
	flags, equivalent to -m7400.  New -maltivec to enable AltiVec
	instructions.  New -mbook64 and -mbooke/-mbooke32 flags to enable
	64-bit and 32-bit BookE support, respectively.  Change -m403 and
	-m405 to set PPC403 option.
	(md_show_usage): Adjust for new options.
	* doc/all.texi: Set PPC.
	* doc/as.texinfo: Add PPC support and pull in c-ppc.texi.
	* doc/c-ppc.texi: New file.
	* doc/Makefile.am (CPU_DOCS): Add c-ppc.texi.
	* doc/Makefile.in: Regenerate.

[gas/testsuite/ChangeLog]
	* gas/ppc/booke.s: New test for Motorola BookE.
	* gas/ppc/booke.d: New file.
	* gas/ppc/ppc.exp: Test booke.s.

[include/opcode/ChangeLog]
	* ppc.h (PPC_OPCODE_BOOKE, PPC_OPCODE_403): New opcode flags for
	BookE and PowerPC403 instructions.

[opcodes/ChangeLog]
	* ppc-opc.c (insert_de, extract_de, insert_des, extract_des): New
	instruction field instruction/extraction functions for new BookE
	DE form instructions.
	(CT): New macro for CT field in an X form instruction.
	(DE, DES, DEO, DE_MASK): New macros for DE/DES fields in DE form
	instructions.
	(PPC64): Don't include PPC_OPCODE_PPC.
	(403): New opcode macro for PPC403 processors.
	(BOOKE): New opcode macro for BookE processors.
	(bce, bcel, bcea, bcela, bclre, bclrel: New BookE instructions.
	(bcctre, bcctrel, be, bel, bea, bela, icbt, icbte, lwzxe): Likewise.
	(dcbste, lwzuxe, luxe, dcbfe, lbzxe, lwarxe, lbzuxe): Likewise.
	(stwcxe, stwxe, stxe, stwuxe, stuxe, stbxe, dcbtste, stbuxe): Likewise.
	(mfapidi, dcbte, lhzxe, lhzuxe, lhaxe, lhauxe, subfe64): Likewise.
	(subfeo64, adde64, addeo64, sthxe, sthuxe, subfze64): Likewise.
	(subfzeo64, addze64, addzeo64, dcbie, subfme64, subfmeo64): Likewise.
	(addme64, addmeo64, stdcxe., mcrxr64, lwbrxe, lfsxe, lfsuxe): Likewise.
	(lfdxe, lfduxe, stwbrxe, stfsxe, stfsuxe, stfdxe, dcbae): Likewise.
	(stfduxe, tlbivax, tlbivaxe, lhbrxe, ldxe, lduxe, tlbsx): Likewise.
	(tlbsxe, sthbrxe, stdxe, stduxe, icbie, stfiwxe, dcbze, lbze): Likewise.
	(lbzue, ldue, lhze, lhzue, lhae, lhaue, lwze, lwzue): Likewise.
	(stbe, stbue, sthe, sthue, stwe, stwue, lfse, lfsue, lfde): Likewise.
	(lfdue, stde, stdue, stfse, stfsue, stfde, stfdue): Likewise.

	* ppc-dis.c (print_insn_big_powerpc, print_insn_little_powerpc): Look
	for a disassembler option of `booke', `booke32' or `booke64' to enable
	BookE support in the disassembler.
@
text
@d1 1
a1 1
@@c Copyright 2001
d37 1
a37 1
Generate code for IBM POWER/2 (RIOS2).
d40 1
a40 1
Generate code for IBM POWER (RIOS1)
d43 1
a43 1
Generate code for Motorola PowerPC 601.
d46 1
a46 1
Generate code for Motorola PowerPC 603/604.
d49 4
a52 1
Generate code for Motorola PowerPC 403/405.
d55 1
a55 1
Generate code for Motorola PowerPC 620.
d61 1
a61 1
Generate code for 64-bit Motorola BookE.
d64 7
a70 1
Generate code for 32-bit Motorola BookE.
@


1.1.2.1
log
@	* doc/c-ppc.texi (PowerPC-Opts): Add -mpower4, -maltivec and -m7400.
	Remove references to chip manufacturers.
	* config/tc-ppc.c (md_parse_option): Handle -mpower4 option.
	Correct comments.
	(md_show_usage): Remove references to chip manufacturers.  Mention
	-mpower4.
	(md_begin): Test power4 opcode flag bits.
@
text
@d1 1
a1 1
@@c Copyright 2001, 2002
d37 1
a37 1
Generate code for POWER/2 (RIOS2).
d40 1
a40 1
Generate code for POWER (RIOS1)
d43 1
a43 1
Generate code for PowerPC 601.
d46 1
a46 1
Generate code for PowerPC 603/604.
d49 1
a49 4
Generate code for PowerPC 403/405.

@@item -m7400, -m7410, -m7450, -m7455
Generate code for PowerPC 7400/7410/7450/7455.
d52 1
a52 1
Generate code for PowerPC 620/625/630.
d58 1
a58 1
Generate code for 64-bit BookE.
d61 1
a61 7
Generate code for 32-bit BookE.

@@item -maltivec
Generate code for processors with AltiVec instructions.

@@item -mpower4
Generate code for Power4 architecture.
@


