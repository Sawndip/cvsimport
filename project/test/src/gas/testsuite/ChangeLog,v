head	1.2310;
access;
symbols
	binutils-2_24-branch:1.2298.0.2
	binutils-2_24-branchpoint:1.2298
	binutils-2_21_1:1.1802.2.12
	binutils-2_23_2:1.2057.2.29
	binutils-2_23_1:1.2057.2.15
	binutils-2_23:1.2057.2.14
	binutils-2_23-branch:1.2057.0.2
	binutils-2_23-branchpoint:1.2057
	binutils-2_22_branch:1.1956.2.2.0.2
	binutils-2_22:1.1956.2.2
	binutils-2_22-branch:1.1956.0.2
	binutils-2_22-branchpoint:1.1956
	binutils-2_21:1.1802.2.3
	binutils-2_21-branch:1.1802.0.2
	binutils-2_21-branchpoint:1.1802
	binutils-2_20_1:1.1537.2.20
	binutils-2_20:1.1537.2.14
	binutils-arc-20081103-branch:1.1395.0.4
	binutils-arc-20081103-branchpoint:1.1395
	binutils-2_20-branch:1.1537.0.2
	binutils-2_20-branchpoint:1.1537
	dje-cgen-play1-branch:1.1496.0.2
	dje-cgen-play1-branchpoint:1.1496
	arc-20081103-branch:1.1395.0.2
	arc-20081103-branchpoint:1.1395
	binutils-2_19_1:1.1387.2.2
	binutils-2_19:1.1387.2.1
	binutils-2_19-branch:1.1387.0.2
	binutils-2_19-branchpoint:1.1387
	binutils-2_18:1.1205.2.2
	binutils-2_18-branch:1.1205.0.2
	binutils-2_18-branchpoint:1.1205
	binutils-csl-coldfire-4_1-32:1.996.2.1
	binutils-csl-sourcerygxx-4_1-32:1.996.2.1
	binutils-csl-innovasic-fido-3_4_4-33:1.996.2.1
	binutils-csl-sourcerygxx-3_4_4-32:1.807.2.9
	binutils-csl-coldfire-4_1-30:1.996.2.1
	binutils-csl-sourcerygxx-4_1-30:1.996.2.1
	binutils-csl-coldfire-4_1-28:1.996.2.1
	binutils-csl-sourcerygxx-4_1-29:1.996.2.1
	binutils-csl-sourcerygxx-4_1-28:1.996.2.1
	binutils-csl-arm-2006q3-27:1.996.2.1
	binutils-csl-sourcerygxx-4_1-27:1.996.2.1
	binutils-csl-arm-2006q3-26:1.996.2.1
	binutils-csl-sourcerygxx-4_1-26:1.996.2.1
	binutils-csl-sourcerygxx-4_1-25:1.996.2.1
	binutils-csl-sourcerygxx-4_1-24:1.996.2.1
	binutils-csl-sourcerygxx-4_1-23:1.996.2.1
	binutils-csl-sourcerygxx-4_1-21:1.996.2.1
	binutils-csl-arm-2006q3-21:1.996.2.1
	binutils-csl-sourcerygxx-4_1-22:1.996.2.1
	binutils-csl-palmsource-arm-prelinker-1_0-1:1.996.2.1
	binutils-csl-sourcerygxx-4_1-20:1.996.2.1
	binutils-csl-arm-2006q3-19:1.996.2.1
	binutils-csl-sourcerygxx-4_1-19:1.996.2.1
	binutils-csl-sourcerygxx-4_1-18:1.996.2.1
	binutils-csl-renesas-4_1-9:1.996.2.1
	binutils-csl-sourcerygxx-3_4_4-25:1.807.2.9
	binutils-csl-renesas-4_1-8:1.996
	binutils-csl-renesas-4_1-7:1.996
	binutils-csl-renesas-4_1-6:1.996
	binutils-csl-sourcerygxx-4_1-17:1.996
	binutils-csl-sourcerygxx-4_1-14:1.996
	binutils-csl-sourcerygxx-4_1-15:1.996
	binutils-csl-sourcerygxx-4_1-13:1.996
	binutils-2_17:1.1003.2.7
	binutils-csl-sourcerygxx-4_1-12:1.996
	binutils-csl-sourcerygxx-3_4_4-21:1.996
	binutils-csl-wrs-linux-3_4_4-24:1.807.2.5.2.1
	binutils-csl-wrs-linux-3_4_4-23:1.807.2.5.2.1
	binutils-csl-sourcerygxx-4_1-9:1.996
	binutils-csl-sourcerygxx-4_1-8:1.996
	binutils-csl-sourcerygxx-4_1-7:1.996
	binutils-csl-arm-2006q1-6:1.996
	binutils-csl-sourcerygxx-4_1-6:1.996
	binutils-csl-wrs-linux-3_4_4-22:1.807.2.5.2.1
	binutils-csl-coldfire-4_1-11:1.996
	binutils-csl-sourcerygxx-3_4_4-19:1.996
	binutils-csl-coldfire-4_1-10:1.996
	binutils-csl-sourcerygxx-4_1-5:1.996
	binutils-csl-sourcerygxx-4_1-4:1.996
	binutils-csl-wrs-linux-3_4_4-21:1.807.2.5.2.1
	binutils-csl-morpho-4_1-4:1.996
	binutils-csl-sourcerygxx-3_4_4-17:1.996
	binutils-csl-wrs-linux-3_4_4-20:1.807.2.5.2.1
	binutils-2_17-branch:1.1003.0.2
	binutils-2_17-branchpoint:1.1003
	binutils-csl-2_17-branch:1.996.0.2
	binutils-csl-2_17-branchpoint:1.996
	binutils-csl-gxxpro-3_4-branch:1.807.2.9.0.2
	binutils-csl-gxxpro-3_4-branchpoint:1.807.2.9
	binutils-2_16_1:1.807.2.9
	binutils-csl-arm-2005q1b:1.807.2.5.2.1
	binutils-2_16:1.807.2.7
	binutils-csl-arm-2005q1a:1.807.2.5.2.1
	binutils-csl-arm-2005q1-branch:1.807.2.5.0.2
	binutils-csl-arm-2005q1-branchpoint:1.807.2.5
	binutils-2_16-branch:1.807.0.2
	binutils-2_16-branchpoint:1.807
	csl-arm-2004-q3d:1.716
	csl-arm-2004-q3:1.697
	binutils-2_15:1.607.2.11
	binutils-2_15-branchpoint:1.607
	csl-arm-2004-q1a:1.643
	csl-arm-2004-q1:1.626
	binutils-2_15-branch:1.607.0.2
	cagney_bfdfile-20040213-branch:1.606.0.2
	cagney_bfdfile-20040213-branchpoint:1.606
	cagney_bigcore-20040122-branch:1.598.0.2
	cagney_bigcore-20040122-branchpoint:1.598
	csl-arm-2003-q4:1.586
	binutils-2_14:1.455.2.10
	binutils-2_14-branch:1.455.0.2
	binutils-2_14-branchpoint:1.455
	binutils-2_13_2_1:1.335.2.15
	binutils-2_13_2:1.335.2.15
	binutils-2_13_1:1.335.2.14
	binutils-2_13:1.335.2.6
	binutils-2_13-branchpoint:1.335
	binutils-2_13-branch:1.335.0.2
	binutils-2_12_1:1.288.2.8
	binutils-2_12:1.288.2.4
	binutils-2_12-branch:1.288.0.2
	binutils-2_12-branchpoint:1.288
	cygnus_cvs_20020108_pre:1.263
	binutils-2_11_2:1.130.2.17
	binutils-2_11_1:1.130.2.17
	binutils-2_11:1.130.2.9
	x86_64versiong3:1.136
	binutils-2_11-branch:1.130.0.2
	binutils-2_10_1:1.55.2.1
	binutils-2_10:1.55.2.1
	binutils-2_10-branch:1.55.0.2
	binutils-2_10-branchpoint:1.55
	binutils_latest_snapshot:1.2310
	repo-unification-2000-02-06:1.47
	binu_ss_19990721:1.12
	binu_ss_19990602:1.4
	binu_ss_19990502:1.1.1.1
	cygnus:1.1.1;
locks; strict;
comment	@# @;


1.2310
date	2013.10.18.21.16.57;	author chaoyingfu;	state Exp;
branches;
next	1.2309;

1.2309
date	2013.10.15.13.30.39;	author ramana;	state Exp;
branches;
next	1.2308;

1.2308
date	2013.10.14.19.06.20;	author chaoyingfu;	state Exp;
branches;
next	1.2307;

1.2307
date	2013.10.14.09.15.09;	author nickc;	state Exp;
branches;
next	1.2306;

1.2306
date	2013.10.14.00.42.28;	author sandra;	state Exp;
branches;
next	1.2305;

1.2305
date	2013.10.12.15.57.07;	author hjl;	state Exp;
branches;
next	1.2304;

1.2304
date	2013.10.11.01.41.49;	author seank;	state Exp;
branches;
next	1.2303;

1.2303
date	2013.10.08.08.55.41;	author jbeulich;	state Exp;
branches;
next	1.2302;

1.2302
date	2013.10.08.08.06.35;	author nickc;	state Exp;
branches;
next	1.2301;

1.2301
date	2013.10.07.18.03.24;	author chaoyingfu;	state Exp;
branches;
next	1.2300;

1.2300
date	2013.10.04.15.26.17;	author ktkachov;	state Exp;
branches;
next	1.2299;

1.2299
date	2013.09.30.17.02.07;	author sekanath;	state Exp;
branches;
next	1.2298;

1.2298
date	2013.09.17.09.02.37;	author rsandifo;	state Exp;
branches
	1.2298.2.1;
next	1.2297;

1.2297
date	2013.09.16.09.34.29;	author willnewton;	state Exp;
branches;
next	1.2296;

1.2296
date	2013.09.12.21.45.04;	author chaoyingfu;	state Exp;
branches;
next	1.2295;

1.2295
date	2013.09.12.09.14.46;	author nickc;	state Exp;
branches;
next	1.2294;

1.2294
date	2013.09.04.12.28.11;	author gingold;	state Exp;
branches;
next	1.2293;

1.2293
date	2013.09.04.07.59.33;	author nickc;	state Exp;
branches;
next	1.2292;

1.2292
date	2013.08.28.10.25.36;	author nickc;	state Exp;
branches;
next	1.2291;

1.2291
date	2013.08.23.14.12.58;	author macro;	state Exp;
branches;
next	1.2290;

1.2290
date	2013.08.23.07.54.18;	author nickc;	state Exp;
branches;
next	1.2289;

1.2289
date	2013.08.23.07.16.56;	author willnewton;	state Exp;
branches;
next	1.2288;

1.2288
date	2013.08.19.20.07.10;	author rsandifo;	state Exp;
branches;
next	1.2287;

1.2287
date	2013.08.19.19.54.41;	author rsandifo;	state Exp;
branches;
next	1.2286;

1.2286
date	2013.08.19.19.30.37;	author rsandifo;	state Exp;
branches;
next	1.2285;

1.2285
date	2013.08.19.19.26.11;	author rsandifo;	state Exp;
branches;
next	1.2284;

1.2284
date	2013.08.19.19.09.01;	author rsandifo;	state Exp;
branches;
next	1.2283;

1.2283
date	2013.08.06.19.27.07;	author rsandifo;	state Exp;
branches;
next	1.2282;

1.2282
date	2013.08.04.07.31.39;	author rsandifo;	state Exp;
branches;
next	1.2281;

1.2281
date	2013.08.03.10.41.13;	author rsandifo;	state Exp;
branches;
next	1.2280;

1.2280
date	2013.07.26.17.20.21;	author hjl;	state Exp;
branches;
next	1.2279;

1.2279
date	2013.07.25.19.11.39;	author rsandifo;	state Exp;
branches;
next	1.2278;

1.2278
date	2013.07.25.16.16.35;	author hjl;	state Exp;
branches;
next	1.2277;

1.2277
date	2013.07.24.15.47.24;	author hjl;	state Exp;
branches;
next	1.2276;

1.2276
date	2013.07.24.14.12.41;	author gingold;	state Exp;
branches;
next	1.2275;

1.2275
date	2013.07.19.16.25.54;	author yufeng;	state Exp;
branches;
next	1.2274;

1.2274
date	2013.07.14.14.16.03;	author rsandifo;	state Exp;
branches;
next	1.2273;

1.2273
date	2013.07.14.13.49.14;	author rsandifo;	state Exp;
branches;
next	1.2272;

1.2272
date	2013.07.12.15.58.14;	author macro;	state Exp;
branches;
next	1.2271;

1.2271
date	2013.07.09.17.15.13;	author rsandifo;	state Exp;
branches;
next	1.2270;

1.2270
date	2013.07.08.16.24.21;	author hjl;	state Exp;
branches;
next	1.2269;

1.2269
date	2013.07.08.08.39.32;	author rsandifo;	state Exp;
branches;
next	1.2268;

1.2268
date	2013.07.07.11.32.32;	author rsandifo;	state Exp;
branches;
next	1.2267;

1.2267
date	2013.07.07.10.36.53;	author rsandifo;	state Exp;
branches;
next	1.2266;

1.2266
date	2013.07.07.10.27.32;	author rsandifo;	state Exp;
branches;
next	1.2265;

1.2265
date	2013.07.07.10.15.09;	author rsandifo;	state Exp;
branches;
next	1.2264;

1.2264
date	2013.07.07.09.32.55;	author rsandifo;	state Exp;
branches;
next	1.2263;

1.2263
date	2013.07.05.09.45.44;	author krebbel;	state Exp;
branches;
next	1.2262;

1.2262
date	2013.07.03.17.26.36;	author mshawcroft;	state Exp;
branches;
next	1.2261;

1.2261
date	2013.06.26.10.47.05;	author yufeng;	state Exp;
branches;
next	1.2260;

1.2260
date	2013.06.25.18.02.33;	author macro;	state Exp;
branches;
next	1.2259;

1.2259
date	2013.06.24.23.13.00;	author roland;	state Exp;
branches;
next	1.2258;

1.2258
date	2013.06.24.21.05.30;	author roland;	state Exp;
branches;
next	1.2257;

1.2257
date	2013.06.22.16.57.42;	author rsandifo;	state Exp;
branches;
next	1.2256;

1.2256
date	2013.06.22.16.51.44;	author rsandifo;	state Exp;
branches;
next	1.2255;

1.2255
date	2013.06.22.16.44.16;	author rsandifo;	state Exp;
branches;
next	1.2254;

1.2254
date	2013.06.20.19.25.20;	author rsandifo;	state Exp;
branches;
next	1.2253;

1.2253
date	2013.06.18.19.23.40;	author rsandifo;	state Exp;
branches;
next	1.2252;

1.2252
date	2013.06.17.22.59.09;	author clm;	state Exp;
branches;
next	1.2251;

1.2251
date	2013.06.15.13.47.37;	author rsandifo;	state Exp;
branches;
next	1.2250;

1.2250
date	2013.06.14.13.30.28;	author rsandifo;	state Exp;
branches;
next	1.2249;

1.2249
date	2013.06.13.21.04.33;	author chaoyingfu;	state Exp;
branches;
next	1.2248;

1.2248
date	2013.06.12.23.11.57;	author sandra;	state Exp;
branches;
next	1.2247;

1.2247
date	2013.06.12.23.03.20;	author sandra;	state Exp;
branches;
next	1.2246;

1.2246
date	2013.06.10.18.15.48;	author macro;	state Exp;
branches;
next	1.2245;

1.2245
date	2013.06.10.01.04.42;	author sandra;	state Exp;
branches;
next	1.2244;

1.2244
date	2013.05.31.17.27.27;	author hjl;	state Exp;
branches;
next	1.2243;

1.2243
date	2013.05.31.17.04.52;	author clm;	state Exp;
branches;
next	1.2242;

1.2242
date	2013.05.29.16.22.14;	author macro;	state Exp;
branches;
next	1.2241;

1.2241
date	2013.05.29.00.39.32;	author ccoutant;	state Exp;
branches;
next	1.2240;

1.2240
date	2013.05.28.22.19.33;	author macro;	state Exp;
branches;
next	1.2239;

1.2239
date	2013.05.28.16.39.50;	author yufeng;	state Exp;
branches;
next	1.2238;

1.2238
date	2013.05.28.14.58.51;	author ktkachov;	state Exp;
branches;
next	1.2237;

1.2237
date	2013.05.28.09.43.42;	author mshawcroft;	state Exp;
branches;
next	1.2236;

1.2236
date	2013.05.24.17.13.49;	author rsandifo;	state Exp;
branches;
next	1.2235;

1.2235
date	2013.05.23.15.48.46;	author krebbel;	state Exp;
branches;
next	1.2234;

1.2234
date	2013.05.22.18.08.26;	author rsandifo;	state Exp;
branches;
next	1.2233;

1.2233
date	2013.05.21.03.26.17;	author amodra;	state Exp;
branches;
next	1.2232;

1.2232
date	2013.05.21.01.36.46;	author bergner;	state Exp;
branches;
next	1.2231;

1.2231
date	2013.05.16.15.37.50;	author gingold;	state Exp;
branches;
next	1.2230;

1.2230
date	2013.05.16.13.19.40;	author nickc;	state Exp;
branches;
next	1.2229;

1.2229
date	2013.05.13.22.33.54;	author yufeng;	state Exp;
branches;
next	1.2228;

1.2228
date	2013.05.10.01.08.48;	author pinskia;	state Exp;
branches;
next	1.2227;

1.2227
date	2013.05.04.10.11.30;	author rsandifo;	state Exp;
branches;
next	1.2226;

1.2226
date	2013.05.02.22.30.11;	author rsandifo;	state Exp;
branches;
next	1.2225;

1.2225
date	2013.05.02.21.06.14;	author nickc;	state Exp;
branches;
next	1.2224;

1.2224
date	2013.05.01.01.04.44;	author chaoyingfu;	state Exp;
branches;
next	1.2223;

1.2223
date	2013.04.29.13.38.58;	author nickc;	state Exp;
branches;
next	1.2222;

1.2222
date	2013.04.24.18.58.14;	author hjl;	state Exp;
branches;
next	1.2221;

1.2221
date	2013.04.15.10.30.22;	author jules;	state Exp;
branches;
next	1.2220;

1.2220
date	2013.04.11.10.54.13;	author jules;	state Exp;
branches;
next	1.2219;

1.2219
date	2013.04.10.13.20.04;	author jbeulich;	state Exp;
branches;
next	1.2218;

1.2218
date	2013.04.10.13.18.32;	author jbeulich;	state Exp;
branches;
next	1.2217;

1.2217
date	2013.04.09.11.07.06;	author jbeulich;	state Exp;
branches;
next	1.2216;

1.2216
date	2013.04.09.11.05.45;	author jbeulich;	state Exp;
branches;
next	1.2215;

1.2215
date	2013.04.09.11.04.24;	author jbeulich;	state Exp;
branches;
next	1.2214;

1.2214
date	2013.04.08.15.48.37;	author jbeulich;	state Exp;
branches;
next	1.2213;

1.2213
date	2013.04.06.22.22.02;	author davem;	state Exp;
branches;
next	1.2212;

1.2212
date	2013.03.28.09.25.11;	author nickc;	state Exp;
branches;
next	1.2211;

1.2211
date	2013.03.27.18.49.10;	author hjl;	state Exp;
branches;
next	1.2210;

1.2210
date	2013.03.27.11.43.36;	author nickc;	state Exp;
branches;
next	1.2209;

1.2209
date	2013.03.26.09.14.31;	author gingold;	state Exp;
branches;
next	1.2208;

1.2208
date	2013.03.26.09.13.17;	author gingold;	state Exp;
branches;
next	1.2207;

1.2207
date	2013.03.21.18.39.35;	author willnewton;	state Exp;
branches;
next	1.2206;

1.2206
date	2013.03.20.16.56.34;	author nickc;	state Exp;
branches;
next	1.2205;

1.2205
date	2013.03.20.16.36.33;	author nickc;	state Exp;
branches;
next	1.2204;

1.2204
date	2013.03.15.17.55.00;	author willnewton;	state Exp;
branches;
next	1.2203;

1.2203
date	2013.03.15.16.29.33;	author nickc;	state Exp;
branches;
next	1.2202;

1.2202
date	2013.03.15.15.53.38;	author willnewton;	state Exp;
branches;
next	1.2201;

1.2201
date	2013.03.12.21.34.58;	author sandra;	state Exp;
branches;
next	1.2200;

1.2200
date	2013.03.12.19.18.57;	author sandra;	state Exp;
branches;
next	1.2199;

1.2199
date	2013.03.12.02.41.25;	author sandra;	state Exp;
branches;
next	1.2198;

1.2198
date	2013.03.12.02.20.07;	author sandra;	state Exp;
branches;
next	1.2197;

1.2197
date	2013.03.12.01.41.41;	author sandra;	state Exp;
branches;
next	1.2196;

1.2196
date	2013.03.11.11.09.31;	author ktkachov;	state Exp;
branches;
next	1.2195;

1.2195
date	2013.03.05.16.31.40;	author yufeng;	state Exp;
branches;
next	1.2194;

1.2194
date	2013.03.02.01.55.19;	author hjl;	state Exp;
branches;
next	1.2193;

1.2193
date	2013.02.28.20.50.18;	author hjl;	state Exp;
branches;
next	1.2192;

1.2192
date	2013.02.28.19.18.38;	author yufeng;	state Exp;
branches;
next	1.2191;

1.2191
date	2013.02.28.18.51.04;	author yufeng;	state Exp;
branches;
next	1.2190;

1.2190
date	2013.02.19.19.10.27;	author hjl;	state Exp;
branches;
next	1.2189;

1.2189
date	2013.02.15.14.54.25;	author nickc;	state Exp;
branches;
next	1.2188;

1.2188
date	2013.02.15.10.07.46;	author nickc;	state Exp;
branches;
next	1.2187;

1.2187
date	2013.02.14.18.12.49;	author yufeng;	state Exp;
branches;
next	1.2186;

1.2186
date	2013.02.11.10.15.52;	author rearnsha;	state Exp;
branches;
next	1.2185;

1.2185
date	2013.02.09.10.24.20;	author rsandifo;	state Exp;
branches;
next	1.2184;

1.2184
date	2013.02.08.09.08.47;	author amodra;	state Exp;
branches;
next	1.2183;

1.2183
date	2013.02.06.23.22.14;	author sandra;	state Exp;
branches;
next	1.2182;

1.2182
date	2013.01.31.09.40.04;	author gingold;	state Exp;
branches;
next	1.2181;

1.2181
date	2013.01.30.15.43.29;	author yufeng;	state Exp;
branches;
next	1.2180;

1.2180
date	2013.01.30.13.21.00;	author nickc;	state Exp;
branches;
next	1.2179;

1.2179
date	2013.01.28.15.28.38;	author nickc;	state Exp;
branches;
next	1.2178;

1.2178
date	2013.01.24.11.14.00;	author nickc;	state Exp;
branches;
next	1.2177;

1.2177
date	2013.01.17.16.09.42;	author yufeng;	state Exp;
branches;
next	1.2176;

1.2176
date	2013.01.17.04.28.43;	author hjl;	state Exp;
branches;
next	1.2175;

1.2175
date	2013.01.16.06.13.13;	author amodra;	state Exp;
branches;
next	1.2174;

1.2174
date	2013.01.15.20.34.11;	author hjl;	state Exp;
branches;
next	1.2173;

1.2173
date	2013.01.15.08.45.42;	author nickc;	state Exp;
branches;
next	1.2172;

1.2172
date	2013.01.14.13.11.30;	author amodra;	state Exp;
branches;
next	1.2171;

1.2171
date	2013.01.14.11.22.05;	author nickc;	state Exp;
branches;
next	1.2170;

1.2170
date	2013.01.14.06.41.47;	author amodra;	state Exp;
branches;
next	1.2169;

1.2169
date	2013.01.11.02.25.35;	author bergner;	state Exp;
branches;
next	1.2168;

1.2168
date	2013.01.10.09.49.10;	author nickc;	state Exp;
branches;
next	1.2167;

1.2167
date	2013.01.08.18.17.08;	author yufeng;	state Exp;
branches;
next	1.2166;

1.2166
date	2013.01.07.12.49.12;	author nickc;	state Exp;
branches;
next	1.2165;

1.2165
date	2013.01.04.17.22.48;	author nickc;	state Exp;
branches;
next	1.2164;

1.2164
date	2013.01.04.14.59.32;	author yufeng;	state Exp;
branches;
next	1.2163;

1.2163
date	2013.01.04.13.32.06;	author nickc;	state Exp;
branches;
next	1.2162;

1.2162
date	2013.01.02.13.38.56;	author nickc;	state Exp;
branches;
next	1.2161;

1.2161
date	2012.12.20.16.31.15;	author rearnsha;	state Exp;
branches;
next	1.2160;

1.2160
date	2012.12.20.16.19.52;	author rearnsha;	state Exp;
branches;
next	1.2159;

1.2159
date	2012.12.18.16.01.02;	author eager;	state Exp;
branches;
next	1.2158;

1.2158
date	2012.12.17.16.55.46;	author nickc;	state Exp;
branches;
next	1.2157;

1.2157
date	2012.12.10.12.47.56;	author nickc;	state Exp;
branches;
next	1.2156;

1.2156
date	2012.12.06.15.45.38;	author yufeng;	state Exp;
branches;
next	1.2155;

1.2155
date	2012.11.28.16.53.00;	author jules;	state Exp;
branches;
next	1.2154;

1.2154
date	2012.11.27.17.26.09;	author roland;	state Exp;
branches;
next	1.2153;

1.2153
date	2012.11.23.03.28.12;	author amodra;	state Exp;
branches;
next	1.2152;

1.2152
date	2012.11.21.17.54.09;	author eager;	state Exp;
branches;
next	1.2151;

1.2151
date	2012.11.21.17.34.12;	author eager;	state Exp;
branches;
next	1.2150;

1.2150
date	2012.11.20.17.53.46;	author roland;	state Exp;
branches;
next	1.2149;

1.2149
date	2012.11.20.11.58.29;	author krebbel;	state Exp;
branches;
next	1.2148;

1.2148
date	2012.11.14.17.05.22;	author eager;	state Exp;
branches;
next	1.2147;

1.2147
date	2012.11.14.16.45.00;	author eager;	state Exp;
branches;
next	1.2146;

1.2146
date	2012.11.14.16.19.28;	author eager;	state Exp;
branches;
next	1.2145;

1.2145
date	2012.11.14.13.44.44;	author uweigand;	state Exp;
branches;
next	1.2144;

1.2144
date	2012.11.09.16.25.07;	author eager;	state Exp;
branches;
next	1.2143;

1.2143
date	2012.11.08.18.21.25;	author macro;	state Exp;
branches;
next	1.2142;

1.2142
date	2012.11.07.15.36.09;	author eager;	state Exp;
branches;
next	1.2141;

1.2141
date	2012.11.01.22.54.11;	author macro;	state Exp;
branches;
next	1.2140;

1.2140
date	2012.11.01.22.49.28;	author macro;	state Exp;
branches;
next	1.2139;

1.2139
date	2012.10.31.15.27.35;	author eager;	state Exp;
branches;
next	1.2138;

1.2138
date	2012.10.29.09.25.15;	author amodra;	state Exp;
branches;
next	1.2137;

1.2137
date	2012.10.27.07.55.57;	author iains;	state Exp;
branches;
next	1.2136;

1.2136
date	2012.10.26.09.41.55;	author krebbel;	state Exp;
branches;
next	1.2135;

1.2135
date	2012.10.26.08.14.07;	author cpg;	state Exp;
branches;
next	1.2134;

1.2134
date	2012.10.26.03.39.31;	author amodra;	state Exp;
branches;
next	1.2133;

1.2133
date	2012.10.24.21.41.29;	author roland;	state Exp;
branches;
next	1.2132;

1.2132
date	2012.10.22.16.04.27;	author bergner;	state Exp;
branches;
next	1.2131;

1.2131
date	2012.10.15.15.07.48;	author yufeng;	state Exp;
branches;
next	1.2130;

1.2130
date	2012.10.15.14.57.30;	author yufeng;	state Exp;
branches;
next	1.2129;

1.2129
date	2012.10.14.23.25.16;	author danglin;	state Exp;
branches;
next	1.2128;

1.2128
date	2012.10.13.22.12.17;	author danglin;	state Exp;
branches;
next	1.2127;

1.2127
date	2012.10.11.15.33.08;	author rearnsha;	state Exp;
branches;
next	1.2126;

1.2126
date	2012.10.11.15.26.17;	author rearnsha;	state Exp;
branches;
next	1.2125;

1.2125
date	2012.10.09.08.43.01;	author neggone;	state Exp;
branches;
next	1.2124;

1.2124
date	2012.10.05.14.06.18;	author bergner;	state Exp;
branches;
next	1.2123;

1.2123
date	2012.10.04.10.30.04;	author nickc;	state Exp;
branches;
next	1.2122;

1.2122
date	2012.10.04.10.20.48;	author krebbel;	state Exp;
branches;
next	1.2121;

1.2121
date	2012.10.04.08.47.31;	author krebbel;	state Exp;
branches;
next	1.2120;

1.2120
date	2012.09.25.13.12.32;	author hjl;	state Exp;
branches;
next	1.2119;

1.2119
date	2012.09.23.11.16.53;	author rsandifo;	state Exp;
branches;
next	1.2118;

1.2118
date	2012.09.23.11.14.27;	author rsandifo;	state Exp;
branches;
next	1.2117;

1.2117
date	2012.09.23.10.41.24;	author rsandifo;	state Exp;
branches;
next	1.2116;

1.2116
date	2012.09.20.14.43.19;	author hjl;	state Exp;
branches;
next	1.2115;

1.2115
date	2012.09.20.11.53.32;	author hjl;	state Exp;
branches;
next	1.2114;

1.2114
date	2012.09.18.14.52.42;	author rearnsha;	state Exp;
branches;
next	1.2113;

1.2113
date	2012.09.18.14.19.02;	author macro;	state Exp;
branches;
next	1.2112;

1.2112
date	2012.09.17.17.48.50;	author rearnsha;	state Exp;
branches;
next	1.2111;

1.2111
date	2012.09.12.16.25.45;	author rearnsha;	state Exp;
branches;
next	1.2110;

1.2110
date	2012.09.04.13.52.06;	author hjl;	state Exp;
branches;
next	1.2109;

1.2109
date	2012.09.01.18.09.26;	author hp;	state Exp;
branches;
next	1.2108;

1.2108
date	2012.08.24.19.00.15;	author hjl;	state Exp;
branches;
next	1.2107;

1.2107
date	2012.08.24.17.57.51;	author hjl;	state Exp;
branches;
next	1.2106;

1.2106
date	2012.08.24.17.42.54;	author hjl;	state Exp;
branches;
next	1.2105;

1.2105
date	2012.08.24.08.14.39;	author mgretton;	state Exp;
branches;
next	1.2104;

1.2104
date	2012.08.24.08.14.03;	author mgretton;	state Exp;
branches;
next	1.2103;

1.2103
date	2012.08.24.08.13.23;	author mgretton;	state Exp;
branches;
next	1.2102;

1.2102
date	2012.08.24.08.12.44;	author mgretton;	state Exp;
branches;
next	1.2101;

1.2101
date	2012.08.24.08.11.43;	author mgretton;	state Exp;
branches;
next	1.2100;

1.2100
date	2012.08.24.08.11.13;	author mgretton;	state Exp;
branches;
next	1.2099;

1.2099
date	2012.08.24.08.09.47;	author mgretton;	state Exp;
branches;
next	1.2098;

1.2098
date	2012.08.24.08.07.35;	author mgretton;	state Exp;
branches;
next	1.2097;

1.2097
date	2012.08.24.08.06.36;	author mgretton;	state Exp;
branches;
next	1.2096;

1.2096
date	2012.08.24.08.03.38;	author mgretton;	state Exp;
branches;
next	1.2095;

1.2095
date	2012.08.24.08.02.51;	author mgretton;	state Exp;
branches;
next	1.2094;

1.2094
date	2012.08.24.08.02.09;	author mgretton;	state Exp;
branches;
next	1.2093;

1.2093
date	2012.08.24.08.01.18;	author mgretton;	state Exp;
branches;
next	1.2092;

1.2092
date	2012.08.24.08.00.19;	author mgretton;	state Exp;
branches;
next	1.2091;

1.2091
date	2012.08.24.07.58.02;	author mgretton;	state Exp;
branches;
next	1.2090;

1.2090
date	2012.08.24.07.57.18;	author mgretton;	state Exp;
branches;
next	1.2089;

1.2089
date	2012.08.24.07.54.44;	author mgretton;	state Exp;
branches;
next	1.2088;

1.2088
date	2012.08.24.07.52.48;	author mgretton;	state Exp;
branches;
next	1.2087;

1.2087
date	2012.08.24.07.50.34;	author mgretton;	state Exp;
branches;
next	1.2086;

1.2086
date	2012.08.21.23.00.36;	author davem;	state Exp;
branches;
next	1.2085;

1.2085
date	2012.08.20.03.20.23;	author amodra;	state Exp;
branches;
next	1.2084;

1.2084
date	2012.08.17.17.12.31;	author hjl;	state Exp;
branches;
next	1.2083;

1.2083
date	2012.08.15.21.25.21;	author bergner;	state Exp;
branches;
next	1.2082;

1.2082
date	2012.08.15.15.33.24;	author bergner;	state Exp;
branches;
next	1.2081;

1.2081
date	2012.08.14.17.01.45;	author hjl;	state Exp;
branches;
next	1.2080;

1.2080
date	2012.08.14.02.29.30;	author hp;	state Exp;
branches;
next	1.2079;

1.2079
date	2012.08.13.14.52.45;	author nickc;	state Exp;
branches;
next	1.2078;

1.2078
date	2012.08.10.21.19.39;	author hjl;	state Exp;
branches;
next	1.2077;

1.2077
date	2012.08.07.18.22.03;	author roland;	state Exp;
branches;
next	1.2076;

1.2076
date	2012.08.07.16.57.49;	author jbeulich;	state Exp;
branches;
next	1.2075;

1.2075
date	2012.08.07.16.55.00;	author jbeulich;	state Exp;
branches;
next	1.2074;

1.2074
date	2012.08.07.16.51.32;	author jbeulich;	state Exp;
branches;
next	1.2073;

1.2073
date	2012.08.07.13.47.19;	author nickc;	state Exp;
branches;
next	1.2072;

1.2072
date	2012.08.06.22.08.25;	author roland;	state Exp;
branches;
next	1.2071;

1.2071
date	2012.08.06.21.28.44;	author macro;	state Exp;
branches;
next	1.2070;

1.2070
date	2012.08.06.21.05.52;	author macro;	state Exp;
branches;
next	1.2069;

1.2069
date	2012.08.06.20.33.00;	author macro;	state Exp;
branches;
next	1.2068;

1.2068
date	2012.08.06.20.19.33;	author roland;	state Exp;
branches;
next	1.2067;

1.2067
date	2012.08.03.21.45.15;	author roland;	state Exp;
branches;
next	1.2066;

1.2066
date	2012.08.02.13.42.58;	author hjl;	state Exp;
branches;
next	1.2065;

1.2065
date	2012.08.01.15.59.55;	author hjl;	state Exp;
branches;
next	1.2064;

1.2064
date	2012.08.01.13.46.56;	author jwlemke;	state Exp;
branches;
next	1.2063;

1.2063
date	2012.08.01.03.05.50;	author macro;	state Exp;
branches;
next	1.2062;

1.2062
date	2012.07.31.21.38.53;	author macro;	state Exp;
branches;
next	1.2061;

1.2061
date	2012.07.31.20.46.59;	author hjl;	state Exp;
branches;
next	1.2060;

1.2060
date	2012.07.31.20.46.06;	author hjl;	state Exp;
branches;
next	1.2059;

1.2059
date	2012.07.30.21.39.06;	author seank;	state Exp;
branches;
next	1.2058;

1.2058
date	2012.07.30.17.11.38;	author hjl;	state Exp;
branches;
next	1.2057;

1.2057
date	2012.07.24.16.38.34;	author sandra;	state Exp;
branches
	1.2057.2.1;
next	1.2056;

1.2056
date	2012.07.16.12.58.28;	author hjl;	state Exp;
branches;
next	1.2055;

1.2055
date	2012.07.02.18.12.26;	author roland;	state Exp;
branches;
next	1.2054;

1.2054
date	2012.07.02.17.06.52;	author hjl;	state Exp;
branches;
next	1.2053;

1.2053
date	2012.07.02.17.04.50;	author hjl;	state Exp;
branches;
next	1.2052;

1.2052
date	2012.06.30.12.35.51;	author hjl;	state Exp;
branches;
next	1.2051;

1.2051
date	2012.06.29.07.04.49;	author amodra;	state Exp;
branches;
next	1.2050;

1.2050
date	2012.06.28.15.38.14;	author nickc;	state Exp;
branches;
next	1.2049;

1.2049
date	2012.06.28.11.31.14;	author nickc;	state Exp;
branches;
next	1.2048;

1.2048
date	2012.06.27.01.17.11;	author amodra;	state Exp;
branches;
next	1.2047;

1.2047
date	2012.06.22.21.54.05;	author roland;	state Exp;
branches;
next	1.2046;

1.2046
date	2012.06.22.16.42.02;	author roland;	state Exp;
branches;
next	1.2045;

1.2045
date	2012.06.13.21.41.06;	author hjl;	state Exp;
branches;
next	1.2044;

1.2044
date	2012.06.11.08.20.41;	author schwab;	state Exp;
branches;
next	1.2043;

1.2043
date	2012.06.07.14.52.41;	author hjl;	state Exp;
branches;
next	1.2042;

1.2042
date	2012.06.07.13.47.14;	author hjl;	state Exp;
branches;
next	1.2041;

1.2041
date	2012.05.29.16.32.10;	author roland;	state Exp;
branches;
next	1.2040;

1.2040
date	2012.05.28.14.20.13;	author nickc;	state Exp;
branches;
next	1.2039;

1.2039
date	2012.05.24.15.36.32;	author amodra;	state Exp;
branches;
next	1.2038;

1.2038
date	2012.05.19.10.37.45;	author amodra;	state Exp;
branches;
next	1.2037;

1.2037
date	2012.05.17.16.36.15;	author hjl;	state Exp;
branches;
next	1.2036;

1.2036
date	2012.05.17.10.00.36;	author amodra;	state Exp;
branches;
next	1.2035;

1.2035
date	2012.05.17.07.03.20;	author amodra;	state Exp;
branches;
next	1.2034;

1.2034
date	2012.05.16.10.53.47;	author nickc;	state Exp;
branches;
next	1.2033;

1.2033
date	2012.05.15.12.55.35;	author nickc;	state Exp;
branches;
next	1.2032;

1.2032
date	2012.05.14.19.45.23;	author jwlemke;	state Exp;
branches;
next	1.2031;

1.2031
date	2012.05.14.12.23.13;	author hjl;	state Exp;
branches;
next	1.2030;

1.2030
date	2012.05.14.02.39.58;	author hjl;	state Exp;
branches;
next	1.2029;

1.2029
date	2012.05.12.13.46.24;	author hjl;	state Exp;
branches;
next	1.2028;

1.2028
date	2012.05.12.12.34.37;	author hjl;	state Exp;
branches;
next	1.2027;

1.2027
date	2012.05.10.03.25.15;	author hjl;	state Exp;
branches;
next	1.2026;

1.2026
date	2012.05.08.12.15.05;	author amodra;	state Exp;
branches;
next	1.2025;

1.2025
date	2012.05.06.10.56.25;	author arnoldm;	state Exp;
branches;
next	1.2024;

1.2024
date	2012.05.03.13.12.00;	author nickc;	state Exp;
branches;
next	1.2023;

1.2023
date	2012.04.27.20.43.35;	author davem;	state Exp;
branches;
next	1.2022;

1.2022
date	2012.04.27.18.03.59;	author davem;	state Exp;
branches;
next	1.2021;

1.2021
date	2012.04.27.18.03.13;	author davem;	state Exp;
branches;
next	1.2020;

1.2020
date	2012.04.27.18.02.34;	author davem;	state Exp;
branches;
next	1.2019;

1.2019
date	2012.04.12.16.26.06;	author davem;	state Exp;
branches;
next	1.2018;

1.2018
date	2012.04.12.13.01.14;	author nickc;	state Exp;
branches;
next	1.2017;

1.2017
date	2012.04.12.07.46.54;	author nickc;	state Exp;
branches;
next	1.2016;

1.2016
date	2012.04.07.14.16.34;	author davem;	state Exp;
branches;
next	1.2015;

1.2015
date	2012.04.03.16.01.29;	author roland;	state Exp;
branches;
next	1.2014;

1.2014
date	2012.04.03.03.01.57;	author dj;	state Exp;
branches;
next	1.2013;

1.2013
date	2012.03.20.11.55.06;	author nickc;	state Exp;
branches;
next	1.2012;

1.2012
date	2012.03.16.14.00.36;	author mgretton;	state Exp;
branches;
next	1.2011;

1.2011
date	2012.03.15.01.36.29;	author amodra;	state Exp;
branches;
next	1.2010;

1.2010
date	2012.03.13.17.01.34;	author roland;	state Exp;
branches;
next	1.2009;

1.2009
date	2012.03.13.16.59.56;	author roland;	state Exp;
branches;
next	1.2008;

1.2008
date	2012.03.09.23.39.05;	author amodra;	state Exp;
branches;
next	1.2007;

1.2007
date	2012.03.08.17.22.16;	author krebbel;	state Exp;
branches;
next	1.2006;

1.2006
date	2012.02.14.01.01.29;	author amodra;	state Exp;
branches;
next	1.2005;

1.2005
date	2012.02.13.02.31.17;	author amodra;	state Exp;
branches;
next	1.2004;

1.2004
date	2012.02.11.15.12.56;	author ktietz;	state Exp;
branches;
next	1.2003;

1.2003
date	2012.02.08.18.46.11;	author ktietz;	state Exp;
branches;
next	1.2002;

1.2002
date	2012.02.08.18.20.36;	author hjl;	state Exp;
branches;
next	1.2001;

1.2001
date	2012.01.20.20.53.50;	author hjl;	state Exp;
branches;
next	1.2000;

1.2000
date	2012.01.16.23.19.20;	author schwab;	state Exp;
branches;
next	1.1999;

1.1999
date	2012.01.13.22.19.31;	author hjl;	state Exp;
branches;
next	1.1998;

1.1998
date	2012.01.13.15.19.09;	author iains;	state Exp;
branches;
next	1.1997;

1.1997
date	2012.01.13.12.59.30;	author iains;	state Exp;
branches;
next	1.1996;

1.1996
date	2012.01.13.11.55.02;	author iains;	state Exp;
branches;
next	1.1995;

1.1995
date	2012.01.12.14.03.10;	author iains;	state Exp;
branches;
next	1.1994;

1.1994
date	2012.01.09.10.47.47;	author iains;	state Exp;
branches;
next	1.1993;

1.1993
date	2012.01.08.12.33.54;	author rsandifo;	state Exp;
branches;
next	1.1992;

1.1992
date	2012.01.08.12.11.41;	author rsandifo;	state Exp;
branches;
next	1.1991;

1.1991
date	2012.01.05.10.09.38;	author nickc;	state Exp;
branches;
next	1.1990;

1.1990
date	2012.01.04.11.25.11;	author iains;	state Exp;
branches;
next	1.1989;

1.1989
date	2012.01.04.10.59.54;	author iains;	state Exp;
branches;
next	1.1988;

1.1988
date	2012.01.03.10.54.01;	author iains;	state Exp;
branches;
next	1.1987;

1.1987
date	2011.12.29.10.53.09;	author iains;	state Exp;
branches;
next	1.1986;

1.1986
date	2011.12.19.15.42.37;	author iains;	state Exp;
branches;
next	1.1985;

1.1985
date	2011.12.15.10.56.48;	author gingold;	state Exp;
branches;
next	1.1984;

1.1984
date	2011.12.15.10.21.49;	author nickc;	state Exp;
branches;
next	1.1983;

1.1983
date	2011.12.15.04.25.09;	author jiez;	state Exp;
branches;
next	1.1982;

1.1982
date	2011.12.14.15.32.24;	author gingold;	state Exp;
branches;
next	1.1981;

1.1981
date	2011.12.14.13.27.34;	author gingold;	state Exp;
branches;
next	1.1980;

1.1980
date	2011.12.08.20.52.41;	author pinskia;	state Exp;
branches;
next	1.1979;

1.1979
date	2011.12.08.20.47.26;	author pinskia;	state Exp;
branches;
next	1.1978;

1.1978
date	2011.12.07.16.58.34;	author mgretton;	state Exp;
branches;
next	1.1977;

1.1977
date	2011.12.07.16.46.34;	author mgretton;	state Exp;
branches;
next	1.1976;

1.1976
date	2011.12.05.15.43.52;	author rearnsha;	state Exp;
branches;
next	1.1975;

1.1975
date	2011.12.05.14.51.53;	author mgretton;	state Exp;
branches;
next	1.1974;

1.1974
date	2011.12.03.10.29.53;	author rsandifo;	state Exp;
branches;
next	1.1973;

1.1973
date	2011.11.29.20.28.54;	author pinskia;	state Exp;
branches;
next	1.1972;

1.1972
date	2011.11.25.15.17.36;	author mgretton;	state Exp;
branches;
next	1.1971;

1.1971
date	2011.11.21.11.18.28;	author macro;	state Exp;
branches;
next	1.1970;

1.1970
date	2011.11.21.11.12.40;	author macro;	state Exp;
branches;
next	1.1969;

1.1969
date	2011.11.16.12.34.34;	author macro;	state Exp;
branches;
next	1.1968;

1.1968
date	2011.11.14.13.43.22;	author macro;	state Exp;
branches;
next	1.1967;

1.1967
date	2011.11.02.11.13.58;	author nickc;	state Exp;
branches;
next	1.1966;

1.1966
date	2011.10.25.11.18.09;	author nickc;	state Exp;
branches;
next	1.1965;

1.1965
date	2011.10.24.16.36.48;	author jules;	state Exp;
branches;
next	1.1964;

1.1964
date	2011.10.21.12.50.29;	author krebbel;	state Exp;
branches;
next	1.1963;

1.1963
date	2011.10.18.14.41.53;	author jules;	state Exp;
branches;
next	1.1962;

1.1962
date	2011.10.13.08.15.16;	author nickc;	state Exp;
branches;
next	1.1961;

1.1961
date	2011.10.06.09.22.57;	author jbeulich;	state Exp;
branches;
next	1.1960;

1.1960
date	2011.09.28.12.01.11;	author ktietz;	state Exp;
branches;
next	1.1959;

1.1959
date	2011.09.27.18.57.22;	author ktietz;	state Exp;
branches;
next	1.1958;

1.1958
date	2011.09.27.04.30.32;	author davem;	state Exp;
branches;
next	1.1957;

1.1957
date	2011.09.26.09.19.24;	author davem;	state Exp;
branches;
next	1.1956;

1.1956
date	2011.09.22.00.03.29;	author davem;	state Exp;
branches
	1.1956.2.1;
next	1.1955;

1.1955
date	2011.09.21.22.29.55;	author davem;	state Exp;
branches;
next	1.1954;

1.1954
date	2011.09.21.20.49.14;	author davem;	state Exp;
branches;
next	1.1953;

1.1953
date	2011.09.10.08.13.44;	author schwab;	state Exp;
branches;
next	1.1952;

1.1952
date	2011.09.08.19.03.16;	author davem;	state Exp;
branches;
next	1.1951;

1.1951
date	2011.09.08.19.01.10;	author davem;	state Exp;
branches;
next	1.1950;

1.1950
date	2011.09.08.16.56.08;	author davem;	state Exp;
branches;
next	1.1949;

1.1949
date	2011.09.08.16.40.47;	author davem;	state Exp;
branches;
next	1.1948;

1.1948
date	2011.09.08.12.18.28;	author rsandifo;	state Exp;
branches;
next	1.1947;

1.1947
date	2011.09.07.20.56.08;	author schwab;	state Exp;
branches;
next	1.1946;

1.1946
date	2011.09.05.19.19.01;	author rsandifo;	state Exp;
branches;
next	1.1945;

1.1945
date	2011.08.19.19.27.52;	author hjl;	state Exp;
branches;
next	1.1944;

1.1944
date	2011.08.10.22.52.02;	author macro;	state Exp;
branches;
next	1.1943;

1.1943
date	2011.08.10.22.28.40;	author macro;	state Exp;
branches;
next	1.1942;

1.1942
date	2011.08.09.15.20.02;	author macro;	state Exp;
branches;
next	1.1941;

1.1941
date	2011.08.09.14.25.28;	author macro;	state Exp;
branches;
next	1.1940;

1.1940
date	2011.08.05.16.52.50;	author davem;	state Exp;
branches;
next	1.1939;

1.1939
date	2011.08.05.14.11.42;	author hjl;	state Exp;
branches;
next	1.1938;

1.1938
date	2011.08.04.20.20.05;	author hjl;	state Exp;
branches;
next	1.1937;

1.1937
date	2011.08.03.11.35.56;	author nickc;	state Exp;
branches;
next	1.1936;

1.1936
date	2011.08.01.23.04.22;	author hjl;	state Exp;
branches;
next	1.1935;

1.1935
date	2011.08.01.19.25.47;	author hjl;	state Exp;
branches;
next	1.1934;

1.1934
date	2011.07.29.11.02.39;	author nickc;	state Exp;
branches;
next	1.1933;

1.1933
date	2011.07.28.16.35.46;	author nickc;	state Exp;
branches;
next	1.1932;

1.1932
date	2011.07.26.14.09.36;	author nickc;	state Exp;
branches;
next	1.1931;

1.1931
date	2011.07.24.14.20.15;	author rsandifo;	state Exp;
branches;
next	1.1930;

1.1930
date	2011.07.22.20.22.35;	author hjl;	state Exp;
branches;
next	1.1929;

1.1929
date	2011.07.04.19.27.28;	author macro;	state Exp;
branches;
next	1.1928;

1.1928
date	2011.06.30.15.44.52;	author hjl;	state Exp;
branches;
next	1.1927;

1.1927
date	2011.06.30.13.42.46;	author nickc;	state Exp;
branches;
next	1.1926;

1.1926
date	2011.06.30.13.07.21;	author nickc;	state Exp;
branches;
next	1.1925;

1.1925
date	2011.06.30.13.05.03;	author nickc;	state Exp;
branches;
next	1.1924;

1.1924
date	2011.06.29.20.39.00;	author rsandifo;	state Exp;
branches;
next	1.1923;

1.1923
date	2011.06.29.20.35.05;	author rsandifo;	state Exp;
branches;
next	1.1922;

1.1922
date	2011.06.26.09.19.17;	author rsandifo;	state Exp;
branches;
next	1.1921;

1.1921
date	2011.06.26.09.16.35;	author rsandifo;	state Exp;
branches;
next	1.1920;

1.1920
date	2011.06.26.08.32.50;	author rsandifo;	state Exp;
branches;
next	1.1919;

1.1919
date	2011.06.25.10.11.45;	author rsandifo;	state Exp;
branches;
next	1.1918;

1.1918
date	2011.06.23.20.21.37;	author rsandifo;	state Exp;
branches;
next	1.1917;

1.1917
date	2011.06.21.15.34.26;	author mgretton;	state Exp;
branches;
next	1.1916;

1.1916
date	2011.06.14.09.03.51;	author gingold;	state Exp;
branches;
next	1.1915;

1.1915
date	2011.06.13.15.18.48;	author nickc;	state Exp;
branches;
next	1.1914;

1.1914
date	2011.06.13.09.57.34;	author nickc;	state Exp;
branches;
next	1.1913;

1.1913
date	2011.06.13.02.41.24;	author hjl;	state Exp;
branches;
next	1.1912;

1.1912
date	2011.06.10.21.27.38;	author hjl;	state Exp;
branches;
next	1.1911;

1.1911
date	2011.06.09.09.59.34;	author rearnsha;	state Exp;
branches;
next	1.1910;

1.1910
date	2011.06.02.15.32.09;	author nathan;	state Exp;
branches;
next	1.1909;

1.1909
date	2011.05.31.14.12.54;	author pbrook;	state Exp;
branches;
next	1.1908;

1.1908
date	2011.05.31.14.10.07;	author pbrook;	state Exp;
branches;
next	1.1907;

1.1907
date	2011.05.31.14.04.13;	author pbrook;	state Exp;
branches;
next	1.1906;

1.1906
date	2011.05.24.16.13.28;	author krebbel;	state Exp;
branches;
next	1.1905;

1.1905
date	2011.05.24.13.33.55;	author krebbel;	state Exp;
branches;
next	1.1904;

1.1904
date	2011.05.20.10.09.58;	author bernds;	state Exp;
branches;
next	1.1903;

1.1903
date	2011.05.18.16.28.33;	author nickc;	state Exp;
branches;
next	1.1902;

1.1902
date	2011.05.18.07.58.36;	author gingold;	state Exp;
branches;
next	1.1901;

1.1901
date	2011.05.16.03.29.34;	author hp;	state Exp;
branches;
next	1.1900;

1.1900
date	2011.05.14.00.52.07;	author amodra;	state Exp;
branches;
next	1.1899;

1.1899
date	2011.05.13.04.16.22;	author amodra;	state Exp;
branches;
next	1.1898;

1.1898
date	2011.05.12.12.41.44;	author mgretton;	state Exp;
branches;
next	1.1897;

1.1897
date	2011.05.11.12.39.08;	author rsandifo;	state Exp;
branches;
next	1.1896;

1.1896
date	2011.05.11.11.50.40;	author rsandifo;	state Exp;
branches;
next	1.1895;

1.1895
date	2011.05.11.09.25.43;	author nickc;	state Exp;
branches;
next	1.1894;

1.1894
date	2011.05.10.22.02.26;	author qneill;	state Exp;
branches;
next	1.1893;

1.1893
date	2011.05.09.13.17.57;	author pbrook;	state Exp;
branches;
next	1.1892;

1.1892
date	2011.04.29.01.45.05;	author hp;	state Exp;
branches;
next	1.1891;

1.1891
date	2011.04.20.16.44.27;	author clm;	state Exp;
branches;
next	1.1890;

1.1890
date	2011.04.19.07.44.10;	author nickc;	state Exp;
branches;
next	1.1889;

1.1889
date	2011.04.19.07.27.29;	author nickc;	state Exp;
branches;
next	1.1888;

1.1888
date	2011.04.18.13.44.35;	author gingold;	state Exp;
branches;
next	1.1887;

1.1887
date	2011.04.18.13.43.20;	author gingold;	state Exp;
branches;
next	1.1886;

1.1886
date	2011.04.14.11.11.32;	author krebbel;	state Exp;
branches;
next	1.1885;

1.1885
date	2011.04.13.13.20.23;	author nickc;	state Exp;
branches;
next	1.1884;

1.1884
date	2011.04.12.16.01.48;	author nickc;	state Exp;
branches;
next	1.1883;

1.1883
date	2011.04.12.15.44.36;	author nickc;	state Exp;
branches;
next	1.1882;

1.1882
date	2011.04.12.06.21.24;	author amodra;	state Exp;
branches;
next	1.1881;

1.1881
date	2011.04.11.18.49.04;	author jules;	state Exp;
branches;
next	1.1880;

1.1880
date	2011.04.11.15.23.08;	author nickc;	state Exp;
branches;
next	1.1879;

1.1879
date	2011.04.06.17.09.51;	author jsm28;	state Exp;
branches;
next	1.1878;

1.1878
date	2011.03.31.08.58.23;	author bernds;	state Exp;
branches;
next	1.1877;

1.1877
date	2011.03.29.12.40.51;	author hjl;	state Exp;
branches;
next	1.1876;

1.1876
date	2011.03.29.05.54.40;	author vapier;	state Exp;
branches;
next	1.1875;

1.1875
date	2011.03.29.05.51.21;	author vapier;	state Exp;
branches;
next	1.1874;

1.1874
date	2011.03.29.05.44.54;	author vapier;	state Exp;
branches;
next	1.1873;

1.1873
date	2011.03.29.01.25.13;	author vapier;	state Exp;
branches;
next	1.1872;

1.1872
date	2011.03.28.22.47.59;	author hjl;	state Exp;
branches;
next	1.1871;

1.1871
date	2011.03.24.06.17.46;	author vapier;	state Exp;
branches;
next	1.1870;

1.1870
date	2011.03.24.04.34.32;	author vapier;	state Exp;
branches;
next	1.1869;

1.1869
date	2011.03.24.04.25.25;	author vapier;	state Exp;
branches;
next	1.1868;

1.1868
date	2011.03.24.04.20.04;	author vapier;	state Exp;
branches;
next	1.1867;

1.1867
date	2011.03.18.11.16.28;	author amodra;	state Exp;
branches;
next	1.1866;

1.1866
date	2011.03.17.13.16.43;	author hjl;	state Exp;
branches;
next	1.1865;

1.1865
date	2011.03.16.12.58.26;	author hjl;	state Exp;
branches;
next	1.1864;

1.1864
date	2011.03.07.05.42.53;	author hjl;	state Exp;
branches;
next	1.1863;

1.1863
date	2011.03.06.14.05.24;	author hjl;	state Exp;
branches;
next	1.1862;

1.1862
date	2011.03.05.04.31.40;	author hjl;	state Exp;
branches;
next	1.1861;

1.1861
date	2011.03.05.02.16.36;	author hjl;	state Exp;
branches;
next	1.1860;

1.1860
date	2011.02.28.16.34.36;	author macro;	state Exp;
branches;
next	1.1859;

1.1859
date	2011.02.28.16.26.46;	author macro;	state Exp;
branches;
next	1.1858;

1.1858
date	2011.02.28.15.52.25;	author macro;	state Exp;
branches;
next	1.1857;

1.1857
date	2011.02.28.15.44.53;	author macro;	state Exp;
branches;
next	1.1856;

1.1856
date	2011.02.28.15.33.24;	author macro;	state Exp;
branches;
next	1.1855;

1.1855
date	2011.02.25.19.19.45;	author hjl;	state Exp;
branches;
next	1.1854;

1.1854
date	2011.02.25.17.00.29;	author hjl;	state Exp;
branches;
next	1.1853;

1.1853
date	2011.02.13.18.55.22;	author vapier;	state Exp;
branches;
next	1.1852;

1.1852
date	2011.02.13.18.54.49;	author vapier;	state Exp;
branches;
next	1.1851;

1.1851
date	2011.02.13.18.53.15;	author vapier;	state Exp;
branches;
next	1.1850;

1.1850
date	2011.02.10.17.06.44;	author ktietz;	state Exp;
branches;
next	1.1849;

1.1849
date	2011.02.10.08.43.27;	author amodra;	state Exp;
branches;
next	1.1848;

1.1848
date	2011.02.10.05.06.19;	author amodra;	state Exp;
branches;
next	1.1847;

1.1847
date	2011.02.08.20.21.26;	author hjl;	state Exp;
branches;
next	1.1846;

1.1846
date	2011.02.08.18.12.24;	author hjl;	state Exp;
branches;
next	1.1845;

1.1845
date	2011.02.07.00.04.08;	author amodra;	state Exp;
branches;
next	1.1844;

1.1844
date	2011.02.03.23.20.25;	author bernds;	state Exp;
branches;
next	1.1843;

1.1843
date	2011.01.31.16.43.14;	author nickc;	state Exp;
branches;
next	1.1842;

1.1842
date	2011.01.18.18.55.58;	author hjl;	state Exp;
branches;
next	1.1841;

1.1841
date	2011.01.18.17.08.11;	author hjl;	state Exp;
branches;
next	1.1840;

1.1840
date	2011.01.18.16.39.48;	author hjl;	state Exp;
branches;
next	1.1839;

1.1839
date	2011.01.17.18.40.30;	author qneill;	state Exp;
branches;
next	1.1838;

1.1838
date	2011.01.16.17.06.12;	author hjl;	state Exp;
branches;
next	1.1837;

1.1837
date	2011.01.15.15.48.02;	author hjl;	state Exp;
branches;
next	1.1836;

1.1836
date	2011.01.14.23.07.09;	author hjl;	state Exp;
branches;
next	1.1835;

1.1835
date	2011.01.11.07.22.07;	author xmj;	state Exp;
branches;
next	1.1834;

1.1834
date	2011.01.10.08.40.18;	author nathan;	state Exp;
branches;
next	1.1833;

1.1833
date	2011.01.07.23.26.58;	author hjl;	state Exp;
branches;
next	1.1832;

1.1832
date	2011.01.07.17.44.30;	author qneill;	state Exp;
branches;
next	1.1831;

1.1831
date	2011.01.07.01.51.45;	author pkoning;	state Exp;
branches;
next	1.1830;

1.1830
date	2011.01.06.16.41.35;	author pkoning;	state Exp;
branches;
next	1.1829;

1.1829
date	2011.01.06.16.31.38;	author pkoning;	state Exp;
branches;
next	1.1828;

1.1828
date	2011.01.06.14.30.42;	author nathan;	state Exp;
branches;
next	1.1827;

1.1827
date	2011.01.05.00.16.52;	author hjl;	state Exp;
branches;
next	1.1826;

1.1826
date	2011.01.01.19.27.52;	author hjl;	state Exp;
branches;
next	1.1825;

1.1825
date	2011.01.01.16.44.48;	author hjl;	state Exp;
branches;
next	1.1824;

1.1824
date	2010.12.31.20.01.38;	author danglin;	state Exp;
branches;
next	1.1823;

1.1823
date	2010.12.31.18.40.22;	author danglin;	state Exp;
branches;
next	1.1822;

1.1822
date	2010.12.31.11.04.55;	author rsandifo;	state Exp;
branches;
next	1.1821;

1.1821
date	2010.12.31.11.01.00;	author rsandifo;	state Exp;
branches;
next	1.1820;

1.1820
date	2010.12.31.00.33.34;	author hjl;	state Exp;
branches;
next	1.1819;

1.1819
date	2010.12.27.02.05.13;	author danglin;	state Exp;
branches;
next	1.1818;

1.1818
date	2010.12.18.11.14.14;	author rsandifo;	state Exp;
branches;
next	1.1817;

1.1817
date	2010.12.12.14.49.25;	author hjl;	state Exp;
branches;
next	1.1816;

1.1816
date	2010.12.11.10.48.55;	author rsandifo;	state Exp;
branches;
next	1.1815;

1.1815
date	2010.12.09.23.57.22;	author macro;	state Exp;
branches;
next	1.1814;

1.1814
date	2010.12.09.23.39.46;	author macro;	state Exp;
branches;
next	1.1813;

1.1813
date	2010.12.09.23.33.24;	author macro;	state Exp;
branches;
next	1.1812;

1.1812
date	2010.12.09.22.04.42;	author macro;	state Exp;
branches;
next	1.1811;

1.1811
date	2010.12.09.18.59.59;	author macro;	state Exp;
branches;
next	1.1810;

1.1810
date	2010.12.02.13.25.13;	author rsandifo;	state Exp;
branches;
next	1.1809;

1.1809
date	2010.11.20.15.36.34;	author rsandifo;	state Exp;
branches;
next	1.1808;

1.1808
date	2010.11.20.15.36.10;	author rsandifo;	state Exp;
branches;
next	1.1807;

1.1807
date	2010.11.15.18.14.09;	author hjl;	state Exp;
branches;
next	1.1806;

1.1806
date	2010.11.15.10.03.04;	author mgretton;	state Exp;
branches;
next	1.1805;

1.1805
date	2010.11.13.11.59.21;	author rsandifo;	state Exp;
branches;
next	1.1804;

1.1804
date	2010.11.10.13.36.30;	author rsandifo;	state Exp;
branches;
next	1.1803;

1.1803
date	2010.11.08.06.43.34;	author tschwinge;	state Exp;
branches;
next	1.1802;

1.1802
date	2010.11.03.14.18.42;	author hjl;	state Exp;
branches
	1.1802.2.1;
next	1.1801;

1.1801
date	2010.11.02.14.36.36;	author jsm28;	state Exp;
branches;
next	1.1800;

1.1800
date	2010.10.29.16.47.53;	author jsm28;	state Exp;
branches;
next	1.1799;

1.1799
date	2010.10.29.12.10.35;	author hjl;	state Exp;
branches;
next	1.1798;

1.1798
date	2010.10.29.00.15.54;	author jsm28;	state Exp;
branches;
next	1.1797;

1.1797
date	2010.10.28.09.10.06;	author tschwinge;	state Exp;
branches;
next	1.1796;

1.1796
date	2010.10.28.06.12.16;	author amodra;	state Exp;
branches;
next	1.1795;

1.1795
date	2010.10.27.15.01.31;	author krebbel;	state Exp;
branches;
next	1.1794;

1.1794
date	2010.10.26.22.38.56;	author amodra;	state Exp;
branches;
next	1.1793;

1.1793
date	2010.10.26.22.18.38;	author amodra;	state Exp;
branches;
next	1.1792;

1.1792
date	2010.10.26.17.36.05;	author davek;	state Exp;
branches;
next	1.1791;

1.1791
date	2010.10.25.18.11.41;	author chaoyingfu;	state Exp;
branches;
next	1.1790;

1.1790
date	2010.10.25.09.17.11;	author hjl;	state Exp;
branches;
next	1.1789;

1.1789
date	2010.10.24.10.54.31;	author macro;	state Exp;
branches;
next	1.1788;

1.1788
date	2010.10.24.10.43.40;	author macro;	state Exp;
branches;
next	1.1787;

1.1787
date	2010.10.24.10.33.09;	author macro;	state Exp;
branches;
next	1.1786;

1.1786
date	2010.10.24.10.19.02;	author macro;	state Exp;
branches;
next	1.1785;

1.1785
date	2010.10.24.10.08.56;	author macro;	state Exp;
branches;
next	1.1784;

1.1784
date	2010.10.24.10.06.24;	author macro;	state Exp;
branches;
next	1.1783;

1.1783
date	2010.10.24.09.59.20;	author macro;	state Exp;
branches;
next	1.1782;

1.1782
date	2010.10.24.07.34.09;	author macro;	state Exp;
branches;
next	1.1781;

1.1781
date	2010.10.24.07.31.39;	author macro;	state Exp;
branches;
next	1.1780;

1.1780
date	2010.10.24.07.29.01;	author macro;	state Exp;
branches;
next	1.1779;

1.1779
date	2010.10.24.07.22.21;	author macro;	state Exp;
branches;
next	1.1778;

1.1778
date	2010.10.23.18.05.09;	author mmitchel;	state Exp;
branches;
next	1.1777;

1.1777
date	2010.10.22.08.13.58;	author nickc;	state Exp;
branches;
next	1.1776;

1.1776
date	2010.10.21.21.16.52;	author jsm28;	state Exp;
branches;
next	1.1775;

1.1775
date	2010.10.19.17.13.30;	author hjl;	state Exp;
branches;
next	1.1774;

1.1774
date	2010.10.18.05.50.30;	author ktietz;	state Exp;
branches;
next	1.1773;

1.1773
date	2010.10.18.01.35.05;	author macro;	state Exp;
branches;
next	1.1772;

1.1772
date	2010.10.18.00.55.23;	author macro;	state Exp;
branches;
next	1.1771;

1.1771
date	2010.10.18.00.44.18;	author macro;	state Exp;
branches;
next	1.1770;

1.1770
date	2010.10.18.00.15.34;	author macro;	state Exp;
branches;
next	1.1769;

1.1769
date	2010.10.16.21.53.16;	author hjl;	state Exp;
branches;
next	1.1768;

1.1768
date	2010.10.15.20.53.28;	author vapier;	state Exp;
branches;
next	1.1767;

1.1767
date	2010.10.15.20.52.36;	author vapier;	state Exp;
branches;
next	1.1766;

1.1766
date	2010.10.15.20.44.46;	author vapier;	state Exp;
branches;
next	1.1765;

1.1765
date	2010.10.15.20.43.15;	author vapier;	state Exp;
branches;
next	1.1764;

1.1764
date	2010.10.14.18.45.08;	author hjl;	state Exp;
branches;
next	1.1763;

1.1763
date	2010.10.14.13.31.13;	author hjl;	state Exp;
branches;
next	1.1762;

1.1762
date	2010.10.11.11.56.53;	author krebbel;	state Exp;
branches;
next	1.1761;

1.1761
date	2010.10.07.11.28.48;	author bernds;	state Exp;
branches;
next	1.1760;

1.1760
date	2010.10.04.15.24.48;	author daney;	state Exp;
branches;
next	1.1759;

1.1759
date	2010.09.29.06.49.32;	author amodra;	state Exp;
branches;
next	1.1758;

1.1758
date	2010.09.29.06.05.16;	author amodra;	state Exp;
branches;
next	1.1757;

1.1757
date	2010.09.27.15.52.39;	author bernds;	state Exp;
branches;
next	1.1756;

1.1756
date	2010.09.27.13.36.47;	author krebbel;	state Exp;
branches;
next	1.1755;

1.1755
date	2010.09.27.13.32.58;	author krebbel;	state Exp;
branches;
next	1.1754;

1.1754
date	2010.09.27.09.47.05;	author mgretton;	state Exp;
branches;
next	1.1753;

1.1753
date	2010.09.23.15.52.18;	author mgretton;	state Exp;
branches;
next	1.1752;

1.1752
date	2010.09.23.15.37.44;	author mgretton;	state Exp;
branches;
next	1.1751;

1.1751
date	2010.09.23.15.31.33;	author mgretton;	state Exp;
branches;
next	1.1750;

1.1750
date	2010.09.23.15.26.22;	author mgretton;	state Exp;
branches;
next	1.1749;

1.1749
date	2010.09.23.15.18.17;	author mgretton;	state Exp;
branches;
next	1.1748;

1.1748
date	2010.09.23.12.15.52;	author amodra;	state Exp;
branches;
next	1.1747;

1.1747
date	2010.09.23.00.11.21;	author macro;	state Exp;
branches;
next	1.1746;

1.1746
date	2010.09.22.21.29.41;	author vapier;	state Exp;
branches;
next	1.1745;

1.1745
date	2010.09.22.21.26.12;	author vapier;	state Exp;
branches;
next	1.1744;

1.1744
date	2010.09.22.20.37.24;	author vapier;	state Exp;
branches;
next	1.1743;

1.1743
date	2010.09.20.16.33.24;	author mgretton;	state Exp;
branches;
next	1.1742;

1.1742
date	2010.09.20.16.07.26;	author rth;	state Exp;
branches;
next	1.1741;

1.1741
date	2010.09.17.15.19.14;	author mgretton;	state Exp;
branches;
next	1.1740;

1.1740
date	2010.09.17.10.42.04;	author mgretton;	state Exp;
branches;
next	1.1739;

1.1739
date	2010.09.17.10.13.40;	author mgretton;	state Exp;
branches;
next	1.1738;

1.1738
date	2010.09.16.23.55.10;	author amodra;	state Exp;
branches;
next	1.1737;

1.1737
date	2010.09.16.00.39.10;	author amodra;	state Exp;
branches;
next	1.1736;

1.1736
date	2010.09.15.19.48.52;	author ktietz;	state Exp;
branches;
next	1.1735;

1.1735
date	2010.09.15.19.43.55;	author ktietz;	state Exp;
branches;
next	1.1734;

1.1734
date	2010.09.14.23.49.03;	author macro;	state Exp;
branches;
next	1.1733;

1.1733
date	2010.09.13.07.13.34;	author ktietz;	state Exp;
branches;
next	1.1732;

1.1732
date	2010.09.09.10.40.53;	author nickc;	state Exp;
branches;
next	1.1731;

1.1731
date	2010.09.09.10.37.46;	author nickc;	state Exp;
branches;
next	1.1730;

1.1730
date	2010.09.09.09.09.43;	author nickc;	state Exp;
branches;
next	1.1729;

1.1729
date	2010.09.03.17.38.37;	author hjl;	state Exp;
branches;
next	1.1728;

1.1728
date	2010.09.03.15.54.31;	author jkratoch;	state Exp;
branches;
next	1.1727;

1.1727
date	2010.09.03.14.57.55;	author rth;	state Exp;
branches;
next	1.1726;

1.1726
date	2010.09.02.22.43.45;	author rth;	state Exp;
branches;
next	1.1725;

1.1725
date	2010.08.31.21.56.56;	author hjl;	state Exp;
branches;
next	1.1724;

1.1724
date	2010.08.25.05.25.08;	author jiez;	state Exp;
branches;
next	1.1723;

1.1723
date	2010.08.17.20.03.41;	author roland;	state Exp;
branches;
next	1.1722;

1.1722
date	2010.08.06.18.22.49;	author hjl;	state Exp;
branches;
next	1.1721;

1.1721
date	2010.08.06.00.52.55;	author hjl;	state Exp;
branches;
next	1.1720;

1.1720
date	2010.08.03.10.30.52;	author amodra;	state Exp;
branches;
next	1.1719;

1.1719
date	2010.08.02.22.05.23;	author hjl;	state Exp;
branches;
next	1.1718;

1.1718
date	2010.08.02.20.10.45;	author hjl;	state Exp;
branches;
next	1.1717;

1.1717
date	2010.08.02.08.48.55;	author gingold;	state Exp;
branches;
next	1.1716;

1.1716
date	2010.08.02.08.38.45;	author amodra;	state Exp;
branches;
next	1.1715;

1.1715
date	2010.08.02.08.22.53;	author amodra;	state Exp;
branches;
next	1.1714;

1.1714
date	2010.07.28.16.17.06;	author hjl;	state Exp;
branches;
next	1.1713;

1.1713
date	2010.07.28.15.59.05;	author hjl;	state Exp;
branches;
next	1.1712;

1.1712
date	2010.07.24.01.51.53;	author macro;	state Exp;
branches;
next	1.1711;

1.1711
date	2010.07.24.01.43.32;	author macro;	state Exp;
branches;
next	1.1710;

1.1710
date	2010.07.24.01.39.21;	author macro;	state Exp;
branches;
next	1.1709;

1.1709
date	2010.07.24.01.36.16;	author macro;	state Exp;
branches;
next	1.1708;

1.1708
date	2010.07.23.14.52.50;	author nickc;	state Exp;
branches;
next	1.1707;

1.1707
date	2010.07.22.04.48.17;	author amodra;	state Exp;
branches;
next	1.1706;

1.1706
date	2010.07.19.15.11.02;	author schwab;	state Exp;
branches;
next	1.1705;

1.1705
date	2010.07.16.19.12.47;	author hjl;	state Exp;
branches;
next	1.1704;

1.1704
date	2010.07.15.14.34.41;	author nathan;	state Exp;
branches;
next	1.1703;

1.1703
date	2010.07.14.19.46.00;	author hjl;	state Exp;
branches;
next	1.1702;

1.1702
date	2010.07.14.14.22.48;	author hjl;	state Exp;
branches;
next	1.1701;

1.1701
date	2010.07.11.15.37.21;	author hjl;	state Exp;
branches;
next	1.1700;

1.1700
date	2010.07.11.08.45.51;	author ktietz;	state Exp;
branches;
next	1.1699;

1.1699
date	2010.07.08.22.40.27;	author rearnsha;	state Exp;
branches;
next	1.1698;

1.1698
date	2010.07.08.06.22.24;	author nathan;	state Exp;
branches;
next	1.1697;

1.1697
date	2010.07.06.00.12.42;	author macro;	state Exp;
branches;
next	1.1696;

1.1696
date	2010.07.05.23.57.27;	author macro;	state Exp;
branches;
next	1.1695;

1.1695
date	2010.07.05.23.55.24;	author macro;	state Exp;
branches;
next	1.1694;

1.1694
date	2010.07.05.23.46.20;	author macro;	state Exp;
branches;
next	1.1693;

1.1693
date	2010.07.05.23.38.01;	author macro;	state Exp;
branches;
next	1.1692;

1.1692
date	2010.07.05.23.35.29;	author macro;	state Exp;
branches;
next	1.1691;

1.1691
date	2010.07.05.23.31.53;	author macro;	state Exp;
branches;
next	1.1690;

1.1690
date	2010.07.05.17.14.19;	author hjl;	state Exp;
branches;
next	1.1689;

1.1689
date	2010.07.05.15.07.19;	author hjl;	state Exp;
branches;
next	1.1688;

1.1688
date	2010.07.05.07.59.12;	author jbeulich;	state Exp;
branches;
next	1.1687;

1.1687
date	2010.07.04.16.25.47;	author hjl;	state Exp;
branches;
next	1.1686;

1.1686
date	2010.07.03.22.15.58;	author hjl;	state Exp;
branches;
next	1.1685;

1.1685
date	2010.07.01.21.55.00;	author hjl;	state Exp;
branches;
next	1.1684;

1.1684
date	2010.07.01.10.02.45;	author mgretton;	state Exp;
branches;
next	1.1683;

1.1683
date	2010.06.29.04.17.25;	author amodra;	state Exp;
branches;
next	1.1682;

1.1682
date	2010.06.28.09.10.25;	author mgretton;	state Exp;
branches;
next	1.1681;

1.1681
date	2010.06.22.07.43.41;	author jbeulich;	state Exp;
branches;
next	1.1680;

1.1680
date	2010.06.18.22.44.20;	author jsm28;	state Exp;
branches;
next	1.1679;

1.1679
date	2010.06.16.16.27.36;	author nickc;	state Exp;
branches;
next	1.1678;

1.1678
date	2010.06.16.15.12.50;	author nickc;	state Exp;
branches;
next	1.1677;

1.1677
date	2010.06.16.00.36.03;	author jsm28;	state Exp;
branches;
next	1.1676;

1.1676
date	2010.06.14.14.48.04;	author amodra;	state Exp;
branches;
next	1.1675;

1.1675
date	2010.06.09.15.11.50;	author mgretton;	state Exp;
branches;
next	1.1674;

1.1674
date	2010.06.07.10.43.50;	author mgretton;	state Exp;
branches;
next	1.1673;

1.1673
date	2010.05.28.16.02.17;	author mgretton;	state Exp;
branches;
next	1.1672;

1.1672
date	2010.05.27.10.40.35;	author nickc;	state Exp;
branches;
next	1.1671;

1.1671
date	2010.05.26.21.49.26;	author clm;	state Exp;
branches;
next	1.1670;

1.1670
date	2010.05.26.12.59.55;	author clm;	state Exp;
branches;
next	1.1669;

1.1669
date	2010.05.25.14.12.40;	author nickc;	state Exp;
branches;
next	1.1668;

1.1668
date	2010.05.18.03.31.04;	author hjl;	state Exp;
branches;
next	1.1667;

1.1667
date	2010.05.13.08.15.03;	author nathan;	state Exp;
branches;
next	1.1666;

1.1666
date	2010.05.13.06.46.12;	author amodra;	state Exp;
branches;
next	1.1665;

1.1665
date	2010.05.13.06.30.09;	author amodra;	state Exp;
branches;
next	1.1664;

1.1664
date	2010.05.11.17.36.32;	author nickc;	state Exp;
branches;
next	1.1663;

1.1663
date	2010.05.05.14.17.49;	author nathan;	state Exp;
branches;
next	1.1662;

1.1662
date	2010.04.29.14.44.15;	author nickc;	state Exp;
branches;
next	1.1661;

1.1661
date	2010.04.27.23.43.25;	author jsm28;	state Exp;
branches;
next	1.1660;

1.1660
date	2010.04.24.17.41.04;	author hjl;	state Exp;
branches;
next	1.1659;

1.1659
date	2010.04.21.18.56.44;	author jsm28;	state Exp;
branches;
next	1.1658;

1.1658
date	2010.04.21.18.09.52;	author hjl;	state Exp;
branches;
next	1.1657;

1.1657
date	2010.04.20.15.54.48;	author nickc;	state Exp;
branches;
next	1.1656;

1.1656
date	2010.04.16.11.20.40;	author nickc;	state Exp;
branches;
next	1.1655;

1.1655
date	2010.04.15.10.56.37;	author mgretton;	state Exp;
branches;
next	1.1654;

1.1654
date	2010.04.07.10.39.05;	author jiez;	state Exp;
branches;
next	1.1653;

1.1653
date	2010.04.06.16.04.32;	author bergner;	state Exp;
branches;
next	1.1652;

1.1652
date	2010.03.25.21.12.29;	author jsm28;	state Exp;
branches;
next	1.1651;

1.1651
date	2010.03.23.16.00.53;	author jsm28;	state Exp;
branches;
next	1.1650;

1.1650
date	2010.03.23.02.56.23;	author spop;	state Exp;
branches;
next	1.1649;

1.1649
date	2010.03.19.14.43.09;	author jiez;	state Exp;
branches;
next	1.1648;

1.1648
date	2010.03.18.11.22.45;	author nickc;	state Exp;
branches;
next	1.1647;

1.1647
date	2010.03.17.23.20.41;	author hjl;	state Exp;
branches;
next	1.1646;

1.1646
date	2010.03.09.02.00.57;	author hjl;	state Exp;
branches;
next	1.1645;

1.1645
date	2010.02.26.17.26.59;	author devans;	state Exp;
branches;
next	1.1644;

1.1644
date	2010.02.26.15.57.58;	author jiez;	state Exp;
branches;
next	1.1643;

1.1643
date	2010.02.26.15.49.07;	author jiez;	state Exp;
branches;
next	1.1642;

1.1642
date	2010.02.25.11.15.47;	author nickc;	state Exp;
branches;
next	1.1641;

1.1641
date	2010.02.24.15.11.43;	author nickc;	state Exp;
branches;
next	1.1640;

1.1640
date	2010.02.23.18.04.13;	author dgutson;	state Exp;
branches;
next	1.1639;

1.1639
date	2010.02.23.16.46.43;	author nickc;	state Exp;
branches;
next	1.1638;

1.1638
date	2010.02.18.10.56.27;	author mgretton;	state Exp;
branches;
next	1.1637;

1.1637
date	2010.02.12.20.18.47;	author dgutson;	state Exp;
branches;
next	1.1636;

1.1636
date	2010.02.12.14.34.45;	author gingold;	state Exp;
branches;
next	1.1635;

1.1635
date	2010.02.11.05.06.13;	author spop;	state Exp;
branches;
next	1.1634;

1.1634
date	2010.02.09.14.44.50;	author clyon;	state Exp;
branches;
next	1.1633;

1.1633
date	2010.02.08.14.33.22;	author nickc;	state Exp;
branches;
next	1.1632;

1.1632
date	2010.02.08.01.59.37;	author amodra;	state Exp;
branches;
next	1.1631;

1.1631
date	2010.02.03.20.36.14;	author spop;	state Exp;
branches;
next	1.1630;

1.1630
date	2010.01.29.16.47.55;	author drow;	state Exp;
branches;
next	1.1629;

1.1629
date	2010.01.29.16.02.40;	author nickc;	state Exp;
branches;
next	1.1628;

1.1628
date	2010.01.28.19.00.03;	author davek;	state Exp;
branches;
next	1.1627;

1.1627
date	2010.01.28.15.33.22;	author hjl;	state Exp;
branches;
next	1.1626;

1.1626
date	2010.01.28.15.25.19;	author nickc;	state Exp;
branches;
next	1.1625;

1.1625
date	2010.01.27.22.01.37;	author davek;	state Exp;
branches;
next	1.1624;

1.1624
date	2010.01.27.14.34.39;	author hjl;	state Exp;
branches;
next	1.1623;

1.1623
date	2010.01.23.18.04.04;	author hjl;	state Exp;
branches;
next	1.1622;

1.1622
date	2010.01.23.12.05.33;	author rsandifo;	state Exp;
branches;
next	1.1621;

1.1621
date	2010.01.21.17.32.32;	author hjl;	state Exp;
branches;
next	1.1620;

1.1620
date	2010.01.21.17.30.11;	author hjl;	state Exp;
branches;
next	1.1619;

1.1619
date	2010.01.20.11.21.37;	author nickc;	state Exp;
branches;
next	1.1618;

1.1618
date	2010.01.15.21.24.12;	author spop;	state Exp;
branches;
next	1.1617;

1.1617
date	2010.01.13.19.07.31;	author drow;	state Exp;
branches;
next	1.1616;

1.1616
date	2010.01.13.19.01.09;	author drow;	state Exp;
branches;
next	1.1615;

1.1615
date	2010.01.13.14.08.52;	author nickc;	state Exp;
branches;
next	1.1614;

1.1614
date	2010.01.06.22.52.47;	author spop;	state Exp;
branches;
next	1.1613;

1.1613
date	2010.01.06.15.02.45;	author nickc;	state Exp;
branches;
next	1.1612;

1.1612
date	2010.01.04.23.31.03;	author dgutson;	state Exp;
branches;
next	1.1611;

1.1611
date	2010.01.04.22.19.03;	author dgutson;	state Exp;
branches;
next	1.1610;

1.1610
date	2010.01.04.00.39.28;	author dgutson;	state Exp;
branches;
next	1.1609;

1.1609
date	2010.01.01.18.06.07;	author hjl;	state Exp;
branches;
next	1.1608;

1.1608
date	2009.12.19.19.34.07;	author devans;	state Exp;
branches;
next	1.1607;

1.1607
date	2009.12.19.00.24.09;	author macro;	state Exp;
branches;
next	1.1606;

1.1606
date	2009.12.19.00.21.28;	author macro;	state Exp;
branches;
next	1.1605;

1.1605
date	2009.12.17.09.52.17;	author nickc;	state Exp;
branches;
next	1.1604;

1.1604
date	2009.12.14.16.38.23;	author nickc;	state Exp;
branches;
next	1.1603;

1.1603
date	2009.12.11.20.38.50;	author spop;	state Exp;
branches;
next	1.1602;

1.1602
date	2009.12.08.03.14.28;	author hjl;	state Exp;
branches;
next	1.1601;

1.1601
date	2009.12.04.07.51.40;	author hjl;	state Exp;
branches;
next	1.1600;

1.1600
date	2009.12.02.20.26.30;	author nickc;	state Exp;
branches;
next	1.1599;

1.1599
date	2009.11.25.15.15.30;	author spop;	state Exp;
branches;
next	1.1598;

1.1598
date	2009.11.19.15.26.40;	author hjl;	state Exp;
branches;
next	1.1597;

1.1597
date	2009.11.19.14.07.11;	author nickc;	state Exp;
branches;
next	1.1596;

1.1596
date	2009.11.19.07.08.38;	author spop;	state Exp;
branches;
next	1.1595;

1.1595
date	2009.11.18.20.28.58;	author spop;	state Exp;
branches;
next	1.1594;

1.1594
date	2009.11.18.20.04.46;	author hjl;	state Exp;
branches;
next	1.1593;

1.1593
date	2009.11.18.04.04.17;	author spop;	state Exp;
branches;
next	1.1592;

1.1592
date	2009.11.17.17.20.25;	author nickc;	state Exp;
branches;
next	1.1591;

1.1591
date	2009.11.17.16.31.50;	author pbrook;	state Exp;
branches;
next	1.1590;

1.1590
date	2009.11.17.10.36.47;	author nickc;	state Exp;
branches;
next	1.1589;

1.1589
date	2009.11.16.11.47.35;	author nickc;	state Exp;
branches;
next	1.1588;

1.1588
date	2009.11.14.06.04.34;	author hjl;	state Exp;
branches;
next	1.1587;

1.1587
date	2009.11.13.23.13.47;	author hjl;	state Exp;
branches;
next	1.1586;

1.1586
date	2009.11.13.20.42.08;	author hjl;	state Exp;
branches;
next	1.1585;

1.1585
date	2009.11.12.18.57.13;	author hjl;	state Exp;
branches;
next	1.1584;

1.1584
date	2009.11.12.14.49.44;	author drow;	state Exp;
branches;
next	1.1583;

1.1583
date	2009.11.12.02.13.06;	author hjl;	state Exp;
branches;
next	1.1582;

1.1582
date	2009.11.06.23.17.25;	author spop;	state Exp;
branches;
next	1.1581;

1.1581
date	2009.11.05.23.40.04;	author spop;	state Exp;
branches;
next	1.1580;

1.1580
date	2009.11.05.11.02.15;	author nickc;	state Exp;
branches;
next	1.1579;

1.1579
date	2009.11.04.18.52.03;	author hjl;	state Exp;
branches;
next	1.1578;

1.1578
date	2009.11.03.12.37.44;	author pbrook;	state Exp;
branches;
next	1.1577;

1.1577
date	2009.11.02.13.44.03;	author pbrook;	state Exp;
branches;
next	1.1576;

1.1576
date	2009.10.29.22.22.58;	author hjl;	state Exp;
branches;
next	1.1575;

1.1575
date	2009.10.29.18.01.12;	author pbrook;	state Exp;
branches;
next	1.1574;

1.1574
date	2009.10.28.08.21.45;	author amodra;	state Exp;
branches;
next	1.1573;

1.1573
date	2009.10.25.16.18.04;	author arnoldm;	state Exp;
branches;
next	1.1572;

1.1572
date	2009.10.20.22.18.18;	author hjl;	state Exp;
branches;
next	1.1571;

1.1571
date	2009.10.19.15.27.39;	author devans;	state Exp;
branches;
next	1.1570;

1.1570
date	2009.10.18.07.43.03;	author amodra;	state Exp;
branches;
next	1.1569;

1.1569
date	2009.10.15.10.58.34;	author amodra;	state Exp;
branches;
next	1.1568;

1.1568
date	2009.10.13.16.23.24;	author hjl;	state Exp;
branches;
next	1.1567;

1.1567
date	2009.10.13.08.55.31;	author nickc;	state Exp;
branches;
next	1.1566;

1.1566
date	2009.10.08.12.44.57;	author hjl;	state Exp;
branches;
next	1.1565;

1.1565
date	2009.10.07.20.02.05;	author hjl;	state Exp;
branches;
next	1.1564;

1.1564
date	2009.10.02.14.42.42;	author bergner;	state Exp;
branches;
next	1.1563;

1.1563
date	2009.10.01.19.24.47;	author bergner;	state Exp;
branches;
next	1.1562;

1.1562
date	2009.09.29.14.17.09;	author nickc;	state Exp;
branches;
next	1.1561;

1.1561
date	2009.09.29.13.19.10;	author bergner;	state Exp;
branches;
next	1.1560;

1.1560
date	2009.09.24.14.36.47;	author hjl;	state Exp;
branches;
next	1.1559;

1.1559
date	2009.09.24.05.08.23;	author hjl;	state Exp;
branches;
next	1.1558;

1.1558
date	2009.09.24.03.23.52;	author hjl;	state Exp;
branches;
next	1.1557;

1.1557
date	2009.09.23.03.12.23;	author amodra;	state Exp;
branches;
next	1.1556;

1.1556
date	2009.09.22.03.10.24;	author amodra;	state Exp;
branches;
next	1.1555;

1.1555
date	2009.09.21.13.15.28;	author macro;	state Exp;
branches;
next	1.1554;

1.1554
date	2009.09.21.13.13.04;	author macro;	state Exp;
branches;
next	1.1553;

1.1553
date	2009.09.21.13.10.07;	author macro;	state Exp;
branches;
next	1.1552;

1.1552
date	2009.09.21.13.08.36;	author macro;	state Exp;
branches;
next	1.1551;

1.1551
date	2009.09.21.10.29.06;	author bje;	state Exp;
branches;
next	1.1550;

1.1550
date	2009.09.21.01.58.00;	author bje;	state Exp;
branches;
next	1.1549;

1.1549
date	2009.09.15.18.41.23;	author hjl;	state Exp;
branches;
next	1.1548;

1.1548
date	2009.09.14.22.02.25;	author hjl;	state Exp;
branches;
next	1.1547;

1.1547
date	2009.09.14.14.44.58;	author hjl;	state Exp;
branches;
next	1.1546;

1.1546
date	2009.09.14.13.57.45;	author hjl;	state Exp;
branches;
next	1.1545;

1.1545
date	2009.09.13.19.18.11;	author rsandifo;	state Exp;
branches;
next	1.1544;

1.1544
date	2009.09.13.18.56.03;	author rsandifo;	state Exp;
branches;
next	1.1543;

1.1543
date	2009.09.10.22.32.10;	author hp;	state Exp;
branches;
next	1.1542;

1.1542
date	2009.09.10.14.31.23;	author amodra;	state Exp;
branches;
next	1.1541;

1.1541
date	2009.09.09.23.17.33;	author kkojima;	state Exp;
branches;
next	1.1540;

1.1540
date	2009.09.08.12.31.32;	author kkojima;	state Exp;
branches;
next	1.1539;

1.1539
date	2009.09.08.10.37.58;	author amodra;	state Exp;
branches;
next	1.1538;

1.1538
date	2009.09.08.02.54.55;	author amodra;	state Exp;
branches;
next	1.1537;

1.1537
date	2009.09.04.02.48.08;	author jiez;	state Exp;
branches
	1.1537.2.1;
next	1.1536;

1.1536
date	2009.09.03.16.50.38;	author jiez;	state Exp;
branches;
next	1.1535;

1.1535
date	2009.09.03.16.32.41;	author jiez;	state Exp;
branches;
next	1.1534;

1.1534
date	2009.09.03.16.17.36;	author jiez;	state Exp;
branches;
next	1.1533;

1.1533
date	2009.09.03.15.48.16;	author jiez;	state Exp;
branches;
next	1.1532;

1.1532
date	2009.09.03.15.36.01;	author jiez;	state Exp;
branches;
next	1.1531;

1.1531
date	2009.09.02.07.30.33;	author jiez;	state Exp;
branches;
next	1.1530;

1.1530
date	2009.09.01.23.59.10;	author hjl;	state Exp;
branches;
next	1.1529;

1.1529
date	2009.09.01.23.55.05;	author amodra;	state Exp;
branches;
next	1.1528;

1.1528
date	2009.09.01.23.17.45;	author hjl;	state Exp;
branches;
next	1.1527;

1.1527
date	2009.09.01.07.20.22;	author jiez;	state Exp;
branches;
next	1.1526;

1.1526
date	2009.09.01.00.24.01;	author jiez;	state Exp;
branches;
next	1.1525;

1.1525
date	2009.08.31.12.02.35;	author jbeulich;	state Exp;
branches;
next	1.1524;

1.1524
date	2009.08.29.10.38.33;	author kkojima;	state Exp;
branches;
next	1.1523;

1.1523
date	2009.08.28.21.42.16;	author hjl;	state Exp;
branches;
next	1.1522;

1.1522
date	2009.08.11.18.28.29;	author bernds;	state Exp;
branches;
next	1.1521;

1.1521
date	2009.08.11.09.53.39;	author nickc;	state Exp;
branches;
next	1.1520;

1.1520
date	2009.08.10.14.42.38;	author nickc;	state Exp;
branches;
next	1.1519;

1.1519
date	2009.08.09.16.45.04;	author bernds;	state Exp;
branches;
next	1.1518;

1.1518
date	2009.08.07.19.30.31;	author drow;	state Exp;
branches;
next	1.1517;

1.1517
date	2009.08.05.21.24.21;	author chaoyingfu;	state Exp;
branches;
next	1.1516;

1.1516
date	2009.08.04.14.56.10;	author nathan;	state Exp;
branches;
next	1.1515;

1.1515
date	2009.07.31.18.14.07;	author drow;	state Exp;
branches;
next	1.1514;

1.1514
date	2009.07.27.10.04.24;	author jbeulich;	state Exp;
branches;
next	1.1513;

1.1513
date	2009.07.25.14.58.54;	author hjl;	state Exp;
branches;
next	1.1512;

1.1512
date	2009.07.24.15.41.19;	author jbeulich;	state Exp;
branches;
next	1.1511;

1.1511
date	2009.07.23.13.00.28;	author nickc;	state Exp;
branches;
next	1.1510;

1.1510
date	2009.07.21.17.50.21;	author hjl;	state Exp;
branches;
next	1.1509;

1.1509
date	2009.07.16.17.37.26;	author hjl;	state Exp;
branches;
next	1.1508;

1.1508
date	2009.07.16.13.18.50;	author nathan;	state Exp;
branches;
next	1.1507;

1.1507
date	2009.07.14.15.47.13;	author nickc;	state Exp;
branches;
next	1.1506;

1.1506
date	2009.07.14.12.54.47;	author nickc;	state Exp;
branches;
next	1.1505;

1.1505
date	2009.07.09.07.52.35;	author nickc;	state Exp;
branches;
next	1.1504;

1.1504
date	2009.07.07.16.15.31;	author nickc;	state Exp;
branches;
next	1.1503;

1.1503
date	2009.07.07.13.57.46;	author hjl;	state Exp;
branches;
next	1.1502;

1.1502
date	2009.07.07.08.29.58;	author gingold;	state Exp;
branches;
next	1.1501;

1.1501
date	2009.07.06.19.34.30;	author dwarak;	state Exp;
branches;
next	1.1500;

1.1500
date	2009.07.01.16.36.28;	author nickc;	state Exp;
branches;
next	1.1499;

1.1499
date	2009.07.01.11.44.54;	author pbrook;	state Exp;
branches;
next	1.1498;

1.1498
date	2009.06.30.11.57.05;	author nickc;	state Exp;
branches;
next	1.1497;

1.1497
date	2009.06.29.08.08.14;	author nickc;	state Exp;
branches;
next	1.1496;

1.1496
date	2009.06.22.14.40.28;	author nickc;	state Exp;
branches;
next	1.1495;

1.1495
date	2009.06.18.23.16.05;	author amodra;	state Exp;
branches;
next	1.1494;

1.1494
date	2009.06.18.16.36.04;	author nickc;	state Exp;
branches;
next	1.1493;

1.1493
date	2009.06.18.10.31.20;	author nickc;	state Exp;
branches;
next	1.1492;

1.1492
date	2009.06.15.15.42.36;	author nickc;	state Exp;
branches;
next	1.1491;

1.1491
date	2009.06.09.15.12.45;	author jakub;	state Exp;
branches;
next	1.1490;

1.1490
date	2009.06.08.15.55.36;	author davek;	state Exp;
branches;
next	1.1489;

1.1489
date	2009.06.01.16.30.59;	author hjl;	state Exp;
branches;
next	1.1488;

1.1488
date	2009.05.28.20.56.14;	author hjl;	state Exp;
branches;
next	1.1487;

1.1487
date	2009.05.27.14.14.42;	author clm;	state Exp;
branches;
next	1.1486;

1.1486
date	2009.05.23.08.28.22;	author rsandifo;	state Exp;
branches;
next	1.1485;

1.1485
date	2009.05.23.08.24.52;	author rsandifo;	state Exp;
branches;
next	1.1484;

1.1484
date	2009.05.22.18.11.58;	author hjl;	state Exp;
branches;
next	1.1483;

1.1483
date	2009.05.22.17.55.55;	author hjl;	state Exp;
branches;
next	1.1482;

1.1482
date	2009.05.22.17.55.07;	author hjl;	state Exp;
branches;
next	1.1481;

1.1481
date	2009.05.22.15.57.23;	author dwarak;	state Exp;
branches;
next	1.1480;

1.1480
date	2009.05.19.16.08.06;	author davek;	state Exp;
branches;
next	1.1479;

1.1479
date	2009.05.05.22.03.34;	author hjl;	state Exp;
branches;
next	1.1478;

1.1478
date	2009.05.05.22.02.04;	author hjl;	state Exp;
branches;
next	1.1477;

1.1477
date	2009.05.05.21.55.18;	author hjl;	state Exp;
branches;
next	1.1476;

1.1476
date	2009.05.05.21.43.07;	author hjl;	state Exp;
branches;
next	1.1475;

1.1475
date	2009.05.05.11.41.32;	author ramana;	state Exp;
branches;
next	1.1474;

1.1474
date	2009.05.01.14.44.16;	author nathan;	state Exp;
branches;
next	1.1473;

1.1473
date	2009.04.20.06.31.49;	author jbeulich;	state Exp;
branches;
next	1.1472;

1.1472
date	2009.04.16.04.24.06;	author amodra;	state Exp;
branches;
next	1.1471;

1.1471
date	2009.04.15.13.33.02;	author jbeulich;	state Exp;
branches;
next	1.1470;

1.1470
date	2009.04.15.13.31.22;	author jbeulich;	state Exp;
branches;
next	1.1469;

1.1469
date	2009.04.11.14.42.17;	author hjl;	state Exp;
branches;
next	1.1468;

1.1468
date	2009.04.07.18.28.02;	author bergner;	state Exp;
branches;
next	1.1467;

1.1467
date	2009.04.01.14.02.56;	author nathan;	state Exp;
branches;
next	1.1466;

1.1466
date	2009.04.01.01.41.06;	author bergner;	state Exp;
branches;
next	1.1465;

1.1465
date	2009.03.30.14.41.26;	author jsm28;	state Exp;
branches;
next	1.1464;

1.1464
date	2009.03.26.13.59.28;	author ramana;	state Exp;
branches;
next	1.1463;

1.1463
date	2009.03.18.15.28.24;	author ams;	state Exp;
branches;
next	1.1462;

1.1462
date	2009.03.14.09.37.18;	author rsandifo;	state Exp;
branches;
next	1.1461;

1.1461
date	2009.03.14.09.16.31;	author rsandifo;	state Exp;
branches;
next	1.1460;

1.1460
date	2009.03.11.03.17.30;	author hp;	state Exp;
branches;
next	1.1459;

1.1459
date	2009.03.10.14.40.36;	author hp;	state Exp;
branches;
next	1.1458;

1.1458
date	2009.03.10.06.53.46;	author amodra;	state Exp;
branches;
next	1.1457;

1.1457
date	2009.03.05.15.27.59;	author jsm28;	state Exp;
branches;
next	1.1456;

1.1456
date	2009.03.02.10.33.07;	author nickc;	state Exp;
branches;
next	1.1455;

1.1455
date	2009.03.02.00.29.23;	author mmitchel;	state Exp;
branches;
next	1.1454;

1.1454
date	2009.02.26.22.07.32;	author bergner;	state Exp;
branches;
next	1.1453;

1.1453
date	2009.02.24.04.30.29;	author mmitchel;	state Exp;
branches;
next	1.1452;

1.1452
date	2009.02.19.21.18.46;	author bergner;	state Exp;
branches;
next	1.1451;

1.1451
date	2009.02.18.20.51.59;	author nemet;	state Exp;
branches;
next	1.1450;

1.1450
date	2009.02.16.09.19.31;	author nickc;	state Exp;
branches;
next	1.1449;

1.1449
date	2009.02.12.08.31.03;	author nathan;	state Exp;
branches;
next	1.1448;

1.1448
date	2009.02.06.12.20.12;	author nickc;	state Exp;
branches;
next	1.1447;

1.1447
date	2009.02.06.12.09.40;	author nickc;	state Exp;
branches;
next	1.1446;

1.1446
date	2009.02.06.01.50.53;	author bergner;	state Exp;
branches;
next	1.1445;

1.1445
date	2009.02.05.21.58.40;	author jsm28;	state Exp;
branches;
next	1.1444;

1.1444
date	2009.02.04.16.03.29;	author hjl;	state Exp;
branches;
next	1.1443;

1.1443
date	2009.02.03.21.58.20;	author dj;	state Exp;
branches;
next	1.1442;

1.1442
date	2009.02.03.18.16.03;	author jsm28;	state Exp;
branches;
next	1.1441;

1.1441
date	2009.02.03.14.36.46;	author nickc;	state Exp;
branches;
next	1.1440;

1.1440
date	2009.01.29.11.56.19;	author jsm28;	state Exp;
branches;
next	1.1439;

1.1439
date	2009.01.29.11.52.26;	author jsm28;	state Exp;
branches;
next	1.1438;

1.1438
date	2009.01.29.11.50.46;	author jsm28;	state Exp;
branches;
next	1.1437;

1.1437
date	2009.01.29.11.48.33;	author jsm28;	state Exp;
branches;
next	1.1436;

1.1436
date	2009.01.29.11.46.02;	author jsm28;	state Exp;
branches;
next	1.1435;

1.1435
date	2009.01.29.09.03.08;	author nickc;	state Exp;
branches;
next	1.1434;

1.1434
date	2009.01.27.15.20.10;	author nickc;	state Exp;
branches;
next	1.1433;

1.1433
date	2009.01.27.13.48.14;	author nickc;	state Exp;
branches;
next	1.1432;

1.1432
date	2009.01.26.14.36.43;	author ams;	state Exp;
branches;
next	1.1431;

1.1431
date	2009.01.26.09.27.30;	author nickc;	state Exp;
branches;
next	1.1430;

1.1430
date	2009.01.24.09.57.31;	author schwab;	state Exp;
branches;
next	1.1429;

1.1429
date	2009.01.23.14.45.48;	author schwab;	state Exp;
branches;
next	1.1428;

1.1428
date	2009.01.19.15.49.07;	author nickc;	state Exp;
branches;
next	1.1427;

1.1427
date	2009.01.19.15.46.31;	author nickc;	state Exp;
branches;
next	1.1426;

1.1426
date	2009.01.19.12.14.04;	author ams;	state Exp;
branches;
next	1.1425;

1.1425
date	2009.01.16.10.26.48;	author ams;	state Exp;
branches;
next	1.1424;

1.1424
date	2009.01.15.12.33.46;	author nickc;	state Exp;
branches;
next	1.1423;

1.1423
date	2009.01.15.04.27.28;	author bergner;	state Exp;
branches;
next	1.1422;

1.1422
date	2009.01.13.00.00.35;	author hjl;	state Exp;
branches;
next	1.1421;

1.1421
date	2009.01.12.16.53.07;	author hjl;	state Exp;
branches;
next	1.1420;

1.1420
date	2009.01.12.16.04.09;	author hjl;	state Exp;
branches;
next	1.1419;

1.1419
date	2009.01.10.17.25.51;	author hjl;	state Exp;
branches;
next	1.1418;

1.1418
date	2009.01.09.20.32.32;	author hjl;	state Exp;
branches;
next	1.1417;

1.1417
date	2009.01.06.19.24.28;	author chaoyingfu;	state Exp;
branches;
next	1.1416;

1.1416
date	2009.01.06.17.15.27;	author hjl;	state Exp;
branches;
next	1.1415;

1.1415
date	2009.01.06.01.03.26;	author hjl;	state Exp;
branches;
next	1.1414;

1.1414
date	2008.12.30.10.41.46;	author nickc;	state Exp;
branches;
next	1.1413;

1.1413
date	2008.12.23.19.10.21;	author nickc;	state Exp;
branches;
next	1.1412;

1.1412
date	2008.12.23.15.14.15;	author hjl;	state Exp;
branches;
next	1.1411;

1.1411
date	2008.12.23.09.01.48;	author nickc;	state Exp;
branches;
next	1.1410;

1.1410
date	2008.12.21.20.18.05;	author hp;	state Exp;
branches;
next	1.1409;

1.1409
date	2008.12.20.17.40.50;	author hjl;	state Exp;
branches;
next	1.1408;

1.1408
date	2008.12.20.00.28.57;	author hp;	state Exp;
branches;
next	1.1407;

1.1407
date	2008.12.18.22.47.27;	author hjl;	state Exp;
branches;
next	1.1406;

1.1406
date	2008.12.15.17.24.12;	author rearnsha;	state Exp;
branches;
next	1.1405;

1.1405
date	2008.12.04.10.29.16;	author bje;	state Exp;
branches;
next	1.1404;

1.1404
date	2008.12.03.14.50.58;	author nickc;	state Exp;
branches;
next	1.1403;

1.1403
date	2008.11.27.11.46.52;	author swami;	state Exp;
branches;
next	1.1402;

1.1402
date	2008.11.19.06.16.54;	author hp;	state Exp;
branches;
next	1.1401;

1.1401
date	2008.11.18.15.45.04;	author clm;	state Exp;
branches;
next	1.1400;

1.1400
date	2008.11.12.02.36.55;	author hp;	state Exp;
branches;
next	1.1399;

1.1399
date	2008.11.06.19.49.26;	author nemet;	state Exp;
branches;
next	1.1398;

1.1398
date	2008.11.06.19.43.00;	author chaoyingfu;	state Exp;
branches;
next	1.1397;

1.1397
date	2008.11.04.23.11.02;	author bwilson;	state Exp;
branches;
next	1.1396;

1.1396
date	2008.11.03.19.38.09;	author hjl;	state Exp;
branches;
next	1.1395;

1.1395
date	2008.10.12.12.37.09;	author hjl;	state Exp;
branches;
next	1.1394;

1.1394
date	2008.10.06.16.27.34;	author nickc;	state Exp;
branches;
next	1.1393;

1.1393
date	2008.10.04.17.23.44;	author hp;	state Exp;
branches;
next	1.1392;

1.1392
date	2008.09.26.13.44.32;	author krebbel;	state Exp;
branches;
next	1.1391;

1.1391
date	2008.09.15.13.53.46;	author amodra;	state Exp;
branches;
next	1.1390;

1.1390
date	2008.09.14.14.04.00;	author arnoldm;	state Exp;
branches;
next	1.1389;

1.1389
date	2008.09.11.23.15.59;	author hjl;	state Exp;
branches;
next	1.1388;

1.1388
date	2008.09.09.13.25.05;	author bergner;	state Exp;
branches;
next	1.1387;

1.1387
date	2008.09.06.08.47.00;	author rsandifo;	state Exp;
branches
	1.1387.2.1;
next	1.1386;

1.1386
date	2008.09.05.11.24.30;	author nickc;	state Exp;
branches;
next	1.1385;

1.1385
date	2008.09.05.11.19.13;	author nickc;	state Exp;
branches;
next	1.1384;

1.1384
date	2008.08.28.15.59.32;	author jbeulich;	state Exp;
branches;
next	1.1383;

1.1383
date	2008.08.28.15.30.29;	author jbeulich;	state Exp;
branches;
next	1.1382;

1.1382
date	2008.08.28.14.07.50;	author hjl;	state Exp;
branches;
next	1.1381;

1.1381
date	2008.08.28.09.42.11;	author jbeulich;	state Exp;
branches;
next	1.1380;

1.1380
date	2008.08.27.17.53.41;	author hjl;	state Exp;
branches;
next	1.1379;

1.1379
date	2008.08.26.10.03.24;	author jiez;	state Exp;
branches;
next	1.1378;

1.1378
date	2008.08.22.07.21.49;	author jiez;	state Exp;
branches;
next	1.1377;

1.1377
date	2008.08.21.19.49.02;	author rth;	state Exp;
branches;
next	1.1376;

1.1376
date	2008.08.20.23.38.38;	author bwilson;	state Exp;
branches;
next	1.1375;

1.1375
date	2008.08.20.18.38.39;	author hjl;	state Exp;
branches;
next	1.1374;

1.1374
date	2008.08.15.12.10.21;	author krebbel;	state Exp;
branches;
next	1.1373;

1.1373
date	2008.08.12.21.44.55;	author hjl;	state Exp;
branches;
next	1.1372;

1.1372
date	2008.08.08.19.24.49;	author drow;	state Exp;
branches;
next	1.1371;

1.1371
date	2008.08.06.19.44.46;	author rsandifo;	state Exp;
branches;
next	1.1370;

1.1370
date	2008.08.02.04.38.51;	author bergner;	state Exp;
branches;
next	1.1369;

1.1369
date	2008.08.01.14.21.27;	author hjl;	state Exp;
branches;
next	1.1368;

1.1368
date	2008.08.01.02.44.12;	author bergner;	state Exp;
branches;
next	1.1367;

1.1367
date	2008.07.24.18.51.33;	author hjl;	state Exp;
branches;
next	1.1366;

1.1366
date	2008.07.22.10.44.50;	author nickc;	state Exp;
branches;
next	1.1365;

1.1365
date	2008.07.14.03.54.27;	author jiez;	state Exp;
branches;
next	1.1364;

1.1364
date	2008.07.10.19.05.28;	author rsandifo;	state Exp;
branches;
next	1.1363;

1.1363
date	2008.07.09.10.28.11;	author ktietz;	state Exp;
branches;
next	1.1362;

1.1362
date	2008.07.07.19.28.02;	author nemet;	state Exp;
branches;
next	1.1361;

1.1361
date	2008.07.07.19.12.58;	author carlos;	state Exp;
branches;
next	1.1360;

1.1360
date	2008.06.27.18.30.11;	author chaoyingfu;	state Exp;
branches;
next	1.1359;

1.1359
date	2008.06.20.18.34.00;	author chaoyingfu;	state Exp;
branches;
next	1.1358;

1.1358
date	2008.06.16.15.05.55;	author hp;	state Exp;
branches;
next	1.1357;

1.1357
date	2008.06.12.21.44.53;	author nickc;	state Exp;
branches;
next	1.1356;

1.1356
date	2008.06.12.16.14.51;	author nickc;	state Exp;
branches;
next	1.1355;

1.1355
date	2008.06.03.17.31.52;	author hjl;	state Exp;
branches;
next	1.1354;

1.1354
date	2008.06.03.14.29.07;	author pbrook;	state Exp;
branches;
next	1.1353;

1.1353
date	2008.05.30.19.49.17;	author hjl;	state Exp;
branches;
next	1.1352;

1.1352
date	2008.05.27.12.52.44;	author sky;	state Exp;
branches;
next	1.1351;

1.1351
date	2008.05.23.00.18.52;	author hjl;	state Exp;
branches;
next	1.1350;

1.1350
date	2008.05.22.20.52.53;	author hjl;	state Exp;
branches;
next	1.1349;

1.1349
date	2008.05.21.21.40.57;	author hjl;	state Exp;
branches;
next	1.1348;

1.1348
date	2008.05.09.19.28.47;	author clm;	state Exp;
branches;
next	1.1347;

1.1347
date	2008.05.02.16.53.39;	author hjl;	state Exp;
branches;
next	1.1346;

1.1346
date	2008.04.28.17.10.18;	author nemet;	state Exp;
branches;
next	1.1345;

1.1345
date	2008.04.23.16.01.09;	author hjl;	state Exp;
branches;
next	1.1344;

1.1344
date	2008.04.23.14.33.56;	author hjl;	state Exp;
branches;
next	1.1343;

1.1343
date	2008.04.23.07.49.33;	author davem;	state Exp;
branches;
next	1.1342;

1.1342
date	2008.04.18.13.10.32;	author hjl;	state Exp;
branches;
next	1.1341;

1.1341
date	2008.04.16.15.31.33;	author dwarak;	state Exp;
branches;
next	1.1340;

1.1340
date	2008.04.16.08.52.15;	author davem;	state Exp;
branches;
next	1.1339;

1.1339
date	2008.04.15.15.53.23;	author ams;	state Exp;
branches;
next	1.1338;

1.1338
date	2008.04.14.11.01.38;	author amodra;	state Exp;
branches;
next	1.1337;

1.1337
date	2008.04.11.17.51.14;	author hjl;	state Exp;
branches;
next	1.1336;

1.1336
date	2008.04.10.17.53.40;	author hjl;	state Exp;
branches;
next	1.1335;

1.1335
date	2008.04.10.12.45.18;	author nickc;	state Exp;
branches;
next	1.1334;

1.1334
date	2008.04.10.08.59.46;	author krebbel;	state Exp;
branches;
next	1.1333;

1.1333
date	2008.04.07.13.07.16;	author hjl;	state Exp;
branches;
next	1.1332;

1.1332
date	2008.04.07.02.55.08;	author kkojima;	state Exp;
branches;
next	1.1331;

1.1331
date	2008.04.04.16.34.23;	author hjl;	state Exp;
branches;
next	1.1330;

1.1330
date	2008.04.03.14.03.18;	author hjl;	state Exp;
branches;
next	1.1329;

1.1329
date	2008.03.26.16.48.32;	author bernds;	state Exp;
branches;
next	1.1328;

1.1328
date	2008.03.26.16.33.33;	author bernds;	state Exp;
branches;
next	1.1327;

1.1327
date	2008.03.26.16.21.10;	author bernds;	state Exp;
branches;
next	1.1326;

1.1326
date	2008.03.26.15.58.27;	author bernds;	state Exp;
branches;
next	1.1325;

1.1325
date	2008.03.26.15.18.41;	author bernds;	state Exp;
branches;
next	1.1324;

1.1324
date	2008.03.26.14.50.52;	author bernds;	state Exp;
branches;
next	1.1323;

1.1323
date	2008.03.19.10.29.17;	author krebbel;	state Exp;
branches;
next	1.1322;

1.1322
date	2008.03.17.18.45.34;	author rsandifo;	state Exp;
branches;
next	1.1321;

1.1321
date	2008.03.13.10.51.33;	author nickc;	state Exp;
branches;
next	1.1320;

1.1320
date	2008.03.09.13.23.29;	author pbrook;	state Exp;
branches;
next	1.1319;

1.1319
date	2008.03.06.12.01.11;	author krebbel;	state Exp;
branches;
next	1.1318;

1.1318
date	2008.03.05.01.31.26;	author pbrook;	state Exp;
branches;
next	1.1317;

1.1317
date	2008.03.03.15.28.58;	author hjl;	state Exp;
branches;
next	1.1316;

1.1316
date	2008.03.01.23.30.50;	author hjl;	state Exp;
branches;
next	1.1315;

1.1315
date	2008.02.27.12.33.42;	author nickc;	state Exp;
branches;
next	1.1314;

1.1314
date	2008.02.26.16.18.16;	author hjl;	state Exp;
branches;
next	1.1313;

1.1313
date	2008.02.23.17.29.16;	author hjl;	state Exp;
branches;
next	1.1312;

1.1312
date	2008.02.22.15.33.31;	author nickc;	state Exp;
branches;
next	1.1311;

1.1311
date	2008.02.20.23.32.33;	author hjl;	state Exp;
branches;
next	1.1310;

1.1310
date	2008.02.18.21.05.07;	author hjl;	state Exp;
branches;
next	1.1309;

1.1309
date	2008.02.18.08.44.38;	author jbeulich;	state Exp;
branches;
next	1.1308;

1.1308
date	2008.02.14.16.35.51;	author nickc;	state Exp;
branches;
next	1.1307;

1.1307
date	2008.02.13.17.22.43;	author nemet;	state Exp;
branches;
next	1.1306;

1.1306
date	2008.02.13.13.41.25;	author jbeulich;	state Exp;
branches;
next	1.1305;

1.1305
date	2008.02.13.13.29.30;	author jbeulich;	state Exp;
branches;
next	1.1304;

1.1304
date	2008.02.13.10.14.38;	author jbeulich;	state Exp;
branches;
next	1.1303;

1.1303
date	2008.02.12.18.56.12;	author hjl;	state Exp;
branches;
next	1.1302;

1.1302
date	2008.02.12.15.35.29;	author hjl;	state Exp;
branches;
next	1.1301;

1.1301
date	2008.02.12.05.35.36;	author hjl;	state Exp;
branches;
next	1.1300;

1.1300
date	2008.02.12.00.04.44;	author hjl;	state Exp;
branches;
next	1.1299;

1.1299
date	2008.02.06.05.29.03;	author nemet;	state Exp;
branches;
next	1.1298;

1.1298
date	2008.02.04.19.19.43;	author nemet;	state Exp;
branches;
next	1.1297;

1.1297
date	2008.02.01.17.58.47;	author bwilson;	state Exp;
branches;
next	1.1296;

1.1296
date	2008.01.28.15.15.31;	author hjl;	state Exp;
branches;
next	1.1295;

1.1295
date	2008.01.24.15.11.35;	author hjl;	state Exp;
branches;
next	1.1294;

1.1294
date	2008.01.23.19.05.11;	author hjl;	state Exp;
branches;
next	1.1293;

1.1293
date	2008.01.23.08.57.11;	author gingold;	state Exp;
branches;
next	1.1292;

1.1292
date	2008.01.22.19.57.29;	author hjl;	state Exp;
branches;
next	1.1291;

1.1291
date	2008.01.22.19.16.44;	author hjl;	state Exp;
branches;
next	1.1290;

1.1290
date	2008.01.16.00.05.55;	author hjl;	state Exp;
branches;
next	1.1289;

1.1289
date	2008.01.15.18.50.43;	author hjl;	state Exp;
branches;
next	1.1288;

1.1288
date	2008.01.15.01.37.55;	author hjl;	state Exp;
branches;
next	1.1287;

1.1287
date	2008.01.12.16.05.41;	author hjl;	state Exp;
branches;
next	1.1286;

1.1286
date	2008.01.10.14.52.34;	author hjl;	state Exp;
branches;
next	1.1285;

1.1285
date	2008.01.09.17.30.58;	author bwilson;	state Exp;
branches;
next	1.1284;

1.1284
date	2008.01.08.08.37.13;	author nickc;	state Exp;
branches;
next	1.1283;

1.1283
date	2008.01.05.17.07.25;	author hjl;	state Exp;
branches;
next	1.1282;

1.1282
date	2008.01.04.18.03.02;	author hjl;	state Exp;
branches;
next	1.1281;

1.1281
date	2008.01.04.14.53.50;	author nickc;	state Exp;
branches;
next	1.1280;

1.1280
date	2008.01.04.01.05.43;	author hjl;	state Exp;
branches;
next	1.1279;

1.1279
date	2008.01.03.05.29.53;	author hjl;	state Exp;
branches;
next	1.1278;

1.1278
date	2008.01.03.03.28.35;	author hjl;	state Exp;
branches;
next	1.1277;

1.1277
date	2008.01.02.21.43.33;	author hjl;	state Exp;
branches;
next	1.1276;

1.1276
date	2008.01.02.21.41.00;	author hjl;	state Exp;
branches;
next	1.1275;

1.1275
date	2008.01.02.20.59.47;	author clm;	state Exp;
branches;
next	1.1274;

1.1274
date	2007.12.31.16.02.07;	author hjl;	state Exp;
branches;
next	1.1273;

1.1273
date	2007.12.31.15.42.21;	author hjl;	state Exp;
branches;
next	1.1272;

1.1272
date	2007.12.29.01.57.08;	author danglin;	state Exp;
branches;
next	1.1271;

1.1271
date	2007.12.28.16.04.40;	author hjl;	state Exp;
branches;
next	1.1270;

1.1270
date	2007.12.24.05.27.38;	author hjl;	state Exp;
branches;
next	1.1269;

1.1269
date	2007.12.22.14.06.30;	author hjl;	state Exp;
branches;
next	1.1268;

1.1268
date	2007.12.13.19.03.44;	author bwilson;	state Exp;
branches;
next	1.1267;

1.1267
date	2007.12.11.13.13.59;	author clm;	state Exp;
branches;
next	1.1266;

1.1266
date	2007.12.10.10.35.59;	author rsandifo;	state Exp;
branches;
next	1.1265;

1.1265
date	2007.12.07.22.52.10;	author bwilson;	state Exp;
branches;
next	1.1264;

1.1264
date	2007.11.30.23.47.55;	author bwilson;	state Exp;
branches;
next	1.1263;

1.1263
date	2007.11.29.12.23.44;	author shinwell;	state Exp;
branches;
next	1.1262;

1.1262
date	2007.11.29.09.34.14;	author sky;	state Exp;
branches;
next	1.1261;

1.1261
date	2007.11.27.15.31.58;	author krebbel;	state Exp;
branches;
next	1.1260;

1.1260
date	2007.11.19.18.15.53;	author bwilson;	state Exp;
branches;
next	1.1259;

1.1259
date	2007.11.14.22.31.54;	author hjl;	state Exp;
branches;
next	1.1258;

1.1258
date	2007.11.12.22.21.48;	author amodra;	state Exp;
branches;
next	1.1257;

1.1257
date	2007.11.12.00.29.12;	author amodra;	state Exp;
branches;
next	1.1256;

1.1256
date	2007.11.07.15.57.14;	author gingold;	state Exp;
branches;
next	1.1255;

1.1255
date	2007.11.07.14.32.53;	author nickc;	state Exp;
branches;
next	1.1254;

1.1254
date	2007.11.07.14.10.48;	author gingold;	state Exp;
branches;
next	1.1253;

1.1253
date	2007.11.06.22.17.00;	author pbrook;	state Exp;
branches;
next	1.1252;

1.1252
date	2007.11.06.17.15.10;	author nickc;	state Exp;
branches;
next	1.1251;

1.1251
date	2007.11.01.16.27.07;	author hjl;	state Exp;
branches;
next	1.1250;

1.1250
date	2007.10.31.16.09.53;	author nickc;	state Exp;
branches;
next	1.1249;

1.1249
date	2007.10.30.15.18.29;	author nickc;	state Exp;
branches;
next	1.1248;

1.1248
date	2007.10.27.17.45.53;	author hjl;	state Exp;
branches;
next	1.1247;

1.1247
date	2007.10.23.22.52.09;	author hjl;	state Exp;
branches;
next	1.1246;

1.1246
date	2007.10.19.17.31.24;	author nickc;	state Exp;
branches;
next	1.1245;

1.1245
date	2007.10.17.13.44.09;	author nathan;	state Exp;
branches;
next	1.1244;

1.1244
date	2007.10.16.14.42.15;	author nickc;	state Exp;
branches;
next	1.1243;

1.1243
date	2007.10.11.20.20.55;	author nickc;	state Exp;
branches;
next	1.1242;

1.1242
date	2007.10.08.19.22.01;	author hjl;	state Exp;
branches;
next	1.1241;

1.1241
date	2007.10.08.16.41.34;	author macro;	state Exp;
branches;
next	1.1240;

1.1240
date	2007.10.08.16.09.35;	author macro;	state Exp;
branches;
next	1.1239;

1.1239
date	2007.10.05.19.04.06;	author hjl;	state Exp;
branches;
next	1.1238;

1.1238
date	2007.10.04.22.02.09;	author hjl;	state Exp;
branches;
next	1.1237;

1.1237
date	2007.10.04.21.53.06;	author daney;	state Exp;
branches;
next	1.1236;

1.1236
date	2007.10.04.18.29.29;	author hjl;	state Exp;
branches;
next	1.1235;

1.1235
date	2007.10.04.17.05.37;	author nickc;	state Exp;
branches;
next	1.1234;

1.1234
date	2007.10.01.16.24.40;	author nickc;	state Exp;
branches;
next	1.1233;

1.1233
date	2007.09.30.21.27.16;	author hjl;	state Exp;
branches;
next	1.1232;

1.1232
date	2007.09.27.18.31.37;	author hjl;	state Exp;
branches;
next	1.1231;

1.1231
date	2007.09.27.11.14.09;	author kazu;	state Exp;
branches;
next	1.1230;

1.1230
date	2007.09.26.13.42.14;	author jbeulich;	state Exp;
branches;
next	1.1229;

1.1229
date	2007.09.26.13.40.57;	author jbeulich;	state Exp;
branches;
next	1.1228;

1.1228
date	2007.09.25.15.31.05;	author nickc;	state Exp;
branches;
next	1.1227;

1.1227
date	2007.09.24.22.08.21;	author carlos;	state Exp;
branches;
next	1.1226;

1.1226
date	2007.09.20.20.13.26;	author hjl;	state Exp;
branches;
next	1.1225;

1.1225
date	2007.09.20.17.38.37;	author hjl;	state Exp;
branches;
next	1.1224;

1.1224
date	2007.09.19.17.52.21;	author hjl;	state Exp;
branches;
next	1.1223;

1.1223
date	2007.09.17.14.46.12;	author hjl;	state Exp;
branches;
next	1.1222;

1.1222
date	2007.09.15.22.06.42;	author hjl;	state Exp;
branches;
next	1.1221;

1.1221
date	2007.09.14.19.31.50;	author hjl;	state Exp;
branches;
next	1.1220;

1.1220
date	2007.09.14.18.21.08;	author meissner;	state Exp;
branches;
next	1.1219;

1.1219
date	2007.09.12.13.20.31;	author jbeulich;	state Exp;
branches;
next	1.1218;

1.1218
date	2007.09.12.07.31.46;	author jbeulich;	state Exp;
branches;
next	1.1217;

1.1217
date	2007.09.06.12.28.11;	author hjl;	state Exp;
branches;
next	1.1216;

1.1216
date	2007.08.31.18.48.29;	author hjl;	state Exp;
branches;
next	1.1215;

1.1215
date	2007.08.30.15.13.45;	author hjl;	state Exp;
branches;
next	1.1214;

1.1214
date	2007.08.29.20.03.43;	author drow;	state Exp;
branches;
next	1.1213;

1.1213
date	2007.08.29.19.42.36;	author hjl;	state Exp;
branches;
next	1.1212;

1.1212
date	2007.08.29.19.36.10;	author hjl;	state Exp;
branches;
next	1.1211;

1.1211
date	2007.08.29.15.34.41;	author hjl;	state Exp;
branches;
next	1.1210;

1.1210
date	2007.08.28.17.36.34;	author hjl;	state Exp;
branches;
next	1.1209;

1.1209
date	2007.08.28.13.21.53;	author jsm28;	state Exp;
branches;
next	1.1208;

1.1208
date	2007.08.09.15.11.07;	author pbrook;	state Exp;
branches;
next	1.1207;

1.1207
date	2007.08.09.13.50.51;	author hjl;	state Exp;
branches;
next	1.1206;

1.1206
date	2007.08.09.11.25.58;	author amodra;	state Exp;
branches;
next	1.1205;

1.1205
date	2007.07.29.19.43.36;	author hjl;	state Exp;
branches
	1.1205.2.1;
next	1.1204;

1.1204
date	2007.07.29.18.37.21;	author hjl;	state Exp;
branches;
next	1.1203;

1.1203
date	2007.07.29.18.27.59;	author hjl;	state Exp;
branches;
next	1.1202;

1.1202
date	2007.07.28.23.34.13;	author hjl;	state Exp;
branches;
next	1.1201;

1.1201
date	2007.07.28.16.32.01;	author hjl;	state Exp;
branches;
next	1.1200;

1.1200
date	2007.07.23.20.25.46;	author hjl;	state Exp;
branches;
next	1.1199;

1.1199
date	2007.07.23.20.03.23;	author hjl;	state Exp;
branches;
next	1.1198;

1.1198
date	2007.07.23.14.03.33;	author rsandifo;	state Exp;
branches;
next	1.1197;

1.1197
date	2007.07.19.16.47.39;	author nickc;	state Exp;
branches;
next	1.1196;

1.1196
date	2007.07.16.19.16.43;	author hjl;	state Exp;
branches;
next	1.1195;

1.1195
date	2007.07.14.16.19.18;	author nickc;	state Exp;
branches;
next	1.1194;

1.1194
date	2007.07.04.15.44.11;	author hjl;	state Exp;
branches;
next	1.1193;

1.1193
date	2007.07.04.15.40.43;	author hjl;	state Exp;
branches;
next	1.1192;

1.1192
date	2007.07.04.15.32.45;	author hjl;	state Exp;
branches;
next	1.1191;

1.1191
date	2007.07.04.11.14.59;	author nickc;	state Exp;
branches;
next	1.1190;

1.1190
date	2007.07.03.11.17.31;	author nickc;	state Exp;
branches;
next	1.1189;

1.1189
date	2007.07.03.11.01.06;	author nickc;	state Exp;
branches;
next	1.1188;

1.1188
date	2007.07.03.07.54.18;	author nathan;	state Exp;
branches;
next	1.1187;

1.1187
date	2007.06.29.14.09.31;	author nickc;	state Exp;
branches;
next	1.1186;

1.1186
date	2007.06.26.21.36.37;	author pbrook;	state Exp;
branches;
next	1.1185;

1.1185
date	2007.06.26.12.58.55;	author nickc;	state Exp;
branches;
next	1.1184;

1.1184
date	2007.06.23.14.55.18;	author hjl;	state Exp;
branches;
next	1.1183;

1.1183
date	2007.06.18.16.10.26;	author kazu;	state Exp;
branches;
next	1.1182;

1.1182
date	2007.06.14.22.06.19;	author pbrook;	state Exp;
branches;
next	1.1181;

1.1181
date	2007.06.06.17.36.54;	author pbrook;	state Exp;
branches;
next	1.1180;

1.1180
date	2007.06.05.22.02.46;	author pbrook;	state Exp;
branches;
next	1.1179;

1.1179
date	2007.06.05.17.00.31;	author nickc;	state Exp;
branches;
next	1.1178;

1.1178
date	2007.05.29.13.18.59;	author jakub;	state Exp;
branches;
next	1.1177;

1.1177
date	2007.05.25.23.13.23;	author pbrook;	state Exp;
branches;
next	1.1176;

1.1176
date	2007.05.22.15.05.11;	author pbrook;	state Exp;
branches;
next	1.1175;

1.1175
date	2007.05.17.17.31.22;	author hjl;	state Exp;
branches;
next	1.1174;

1.1174
date	2007.05.15.10.06.03;	author shinwell;	state Exp;
branches;
next	1.1173;

1.1173
date	2007.05.15.09.21.23;	author nickc;	state Exp;
branches;
next	1.1172;

1.1172
date	2007.05.15.01.05.54;	author hjl;	state Exp;
branches;
next	1.1171;

1.1171
date	2007.05.04.15.45.21;	author kazu;	state Exp;
branches;
next	1.1170;

1.1170
date	2007.05.04.00.44.36;	author hjl;	state Exp;
branches;
next	1.1169;

1.1169
date	2007.05.03.21.07.15;	author hjl;	state Exp;
branches;
next	1.1168;

1.1168
date	2007.05.01.12.59.23;	author hjl;	state Exp;
branches;
next	1.1167;

1.1167
date	2007.04.27.04.21.59;	author hjl;	state Exp;
branches;
next	1.1166;

1.1166
date	2007.04.26.18.15.46;	author hjl;	state Exp;
branches;
next	1.1165;

1.1165
date	2007.04.24.14.49.47;	author sky;	state Exp;
branches;
next	1.1164;

1.1164
date	2007.04.23.07.51.26;	author nathan;	state Exp;
branches;
next	1.1163;

1.1163
date	2007.04.21.19.45.05;	author rearnsha;	state Exp;
branches;
next	1.1162;

1.1162
date	2007.04.20.14.08.59;	author nathan;	state Exp;
branches;
next	1.1161;

1.1161
date	2007.04.20.13.42.48;	author amodra;	state Exp;
branches;
next	1.1160;

1.1160
date	2007.04.19.23.59.45;	author rearnsha;	state Exp;
branches;
next	1.1159;

1.1159
date	2007.04.19.17.06.20;	author pbrook;	state Exp;
branches;
next	1.1158;

1.1158
date	2007.04.18.23.58.10;	author amodra;	state Exp;
branches;
next	1.1157;

1.1157
date	2007.04.18.16.15.55;	author hjl;	state Exp;
branches;
next	1.1156;

1.1156
date	2007.04.18.16.13.14;	author hjl;	state Exp;
branches;
next	1.1155;

1.1155
date	2007.04.18.13.49.34;	author pbrook;	state Exp;
branches;
next	1.1154;

1.1154
date	2007.04.04.19.21.24;	author pbrook;	state Exp;
branches;
next	1.1153;

1.1153
date	2007.03.31.22.28.06;	author cpg;	state Exp;
branches;
next	1.1152;

1.1152
date	2007.03.31.03.22.38;	author amodra;	state Exp;
branches;
next	1.1151;

1.1151
date	2007.03.30.14.51.25;	author pbrook;	state Exp;
branches;
next	1.1150;

1.1150
date	2007.03.27.22.45.19;	author hjl;	state Exp;
branches;
next	1.1149;

1.1149
date	2007.03.27.08.34.52;	author amodra;	state Exp;
branches;
next	1.1148;

1.1148
date	2007.03.26.14.43.07;	author jules;	state Exp;
branches;
next	1.1147;

1.1147
date	2007.03.24.01.28.58;	author pbrook;	state Exp;
branches;
next	1.1146;

1.1146
date	2007.03.23.16.17.21;	author hjl;	state Exp;
branches;
next	1.1145;

1.1145
date	2007.03.21.20.45.13;	author hjl;	state Exp;
branches;
next	1.1144;

1.1144
date	2007.03.21.19.33.06;	author hjl;	state Exp;
branches;
next	1.1143;

1.1143
date	2007.03.20.13.01.47;	author shinwell;	state Exp;
branches;
next	1.1142;

1.1142
date	2007.03.18.16.21.27;	author shinwell;	state Exp;
branches;
next	1.1141;

1.1141
date	2007.03.15.12.11.50;	author drow;	state Exp;
branches;
next	1.1140;

1.1140
date	2007.03.14.21.12.13;	author pbrook;	state Exp;
branches;
next	1.1139;

1.1139
date	2007.03.14.11.04.12;	author amodra;	state Exp;
branches;
next	1.1138;

1.1138
date	2007.03.11.11.22.52;	author hp;	state Exp;
branches;
next	1.1137;

1.1137
date	2007.03.06.13.19.08;	author sky;	state Exp;
branches;
next	1.1136;

1.1136
date	2007.03.06.02.08.24;	author hjl;	state Exp;
branches;
next	1.1135;

1.1135
date	2007.03.02.18.22.34;	author pbrook;	state Exp;
branches;
next	1.1134;

1.1134
date	2007.02.28.18.38.51;	author nickc;	state Exp;
branches;
next	1.1133;

1.1133
date	2007.02.28.14.39.15;	author nickc;	state Exp;
branches;
next	1.1132;

1.1132
date	2007.02.22.21.01.59;	author dj;	state Exp;
branches;
next	1.1131;

1.1131
date	2007.02.20.13.28.52;	author ths;	state Exp;
branches;
next	1.1130;

1.1130
date	2007.02.19.17.46.11;	author sky;	state Exp;
branches;
next	1.1129;

1.1129
date	2007.02.12.04.51.40;	author hjl;	state Exp;
branches;
next	1.1128;

1.1128
date	2007.02.06.15.13.26;	author nickc;	state Exp;
branches;
next	1.1127;

1.1127
date	2007.02.05.20.10.25;	author brolley;	state Exp;
branches;
next	1.1126;

1.1126
date	2007.02.05.19.49.22;	author hjl;	state Exp;
branches;
next	1.1125;

1.1125
date	2007.02.05.02.36.46;	author hjl;	state Exp;
branches;
next	1.1124;

1.1124
date	2007.02.02.13.10.58;	author nickc;	state Exp;
branches;
next	1.1123;

1.1123
date	2007.01.11.15.39.07;	author pbrook;	state Exp;
branches;
next	1.1122;

1.1122
date	2007.01.11.11.57.05;	author nickc;	state Exp;
branches;
next	1.1121;

1.1121
date	2007.01.11.11.16.58;	author nickc;	state Exp;
branches;
next	1.1120;

1.1120
date	2007.01.09.17.30.59;	author hjl;	state Exp;
branches;
next	1.1119;

1.1119
date	2007.01.08.17.21.49;	author nickc;	state Exp;
branches;
next	1.1118;

1.1118
date	2007.01.04.20.08.36;	author pbrook;	state Exp;
branches;
next	1.1117;

1.1117
date	2007.01.04.17.14.50;	author schwab;	state Exp;
branches;
next	1.1116;

1.1116
date	2007.01.04.15.32.26;	author jules;	state Exp;
branches;
next	1.1115;

1.1115
date	2007.01.04.04.39.53;	author pbrook;	state Exp;
branches;
next	1.1114;

1.1114
date	2006.12.29.21.48.48;	author hjl;	state Exp;
branches;
next	1.1113;

1.1113
date	2006.12.27.07.22.43;	author kazu;	state Exp;
branches;
next	1.1112;

1.1112
date	2006.12.19.08.51.15;	author nathan;	state Exp;
branches;
next	1.1111;

1.1111
date	2006.12.15.13.11.55;	author hjl;	state Exp;
branches;
next	1.1110;

1.1110
date	2006.12.14.20.13.27;	author hjl;	state Exp;
branches;
next	1.1109;

1.1109
date	2006.12.13.18.00.00;	author hjl;	state Exp;
branches;
next	1.1108;

1.1108
date	2006.12.08.21.56.03;	author cpg;	state Exp;
branches;
next	1.1107;

1.1107
date	2006.12.06.18.15.44;	author hjl;	state Exp;
branches;
next	1.1106;

1.1106
date	2006.12.04.08.53.28;	author jbeulich;	state Exp;
branches;
next	1.1105;

1.1105
date	2006.12.01.16.49.21;	author jbeulich;	state Exp;
branches;
next	1.1104;

1.1104
date	2006.12.01.16.42.26;	author pbrook;	state Exp;
branches;
next	1.1103;

1.1103
date	2006.12.01.15.17.32;	author jbeulich;	state Exp;
branches;
next	1.1102;

1.1102
date	2006.12.01.15.00.11;	author jbeulich;	state Exp;
branches;
next	1.1101;

1.1101
date	2006.12.01.14.56.11;	author jbeulich;	state Exp;
branches;
next	1.1100;

1.1100
date	2006.11.29.16.26.56;	author pbrook;	state Exp;
branches;
next	1.1099;

1.1099
date	2006.11.27.20.14.52;	author bwilson;	state Exp;
branches;
next	1.1098;

1.1098
date	2006.11.22.17.45.56;	author drow;	state Exp;
branches;
next	1.1097;

1.1097
date	2006.11.16.07.22.25;	author nathan;	state Exp;
branches;
next	1.1096;

1.1096
date	2006.11.15.15.59.25;	author jbeulich;	state Exp;
branches;
next	1.1095;

1.1095
date	2006.11.10.20.52.03;	author hjl;	state Exp;
branches;
next	1.1094;

1.1094
date	2006.11.10.14.15.52;	author ths;	state Exp;
branches;
next	1.1093;

1.1093
date	2006.11.10.09.32.42;	author nickc;	state Exp;
branches;
next	1.1092;

1.1092
date	2006.11.10.07.35.19;	author nickc;	state Exp;
branches;
next	1.1091;

1.1091
date	2006.11.09.23.29.19;	author hjl;	state Exp;
branches;
next	1.1090;

1.1090
date	2006.11.09.23.09.42;	author hjl;	state Exp;
branches;
next	1.1089;

1.1089
date	2006.11.07.23.55.36;	author daney;	state Exp;
branches;
next	1.1088;

1.1088
date	2006.11.03.07.29.37;	author jakub;	state Exp;
branches;
next	1.1087;

1.1087
date	2006.11.03.07.27.39;	author jakub;	state Exp;
branches;
next	1.1086;

1.1086
date	2006.11.02.15.20.30;	author ths;	state Exp;
branches;
next	1.1085;

1.1085
date	2006.11.01.10.29.49;	author nickc;	state Exp;
branches;
next	1.1084;

1.1084
date	2006.10.30.01.10.45;	author tausq;	state Exp;
branches;
next	1.1083;

1.1083
date	2006.10.24.01.27.28;	author amodra;	state Exp;
branches;
next	1.1082;

1.1082
date	2006.10.23.22.53.28;	author meissner;	state Exp;
branches;
next	1.1081;

1.1081
date	2006.10.22.01.19.06;	author kkojima;	state Exp;
branches;
next	1.1080;

1.1080
date	2006.10.20.14.47.05;	author ams;	state Exp;
branches;
next	1.1079;

1.1079
date	2006.10.16.21.24.00;	author hjl;	state Exp;
branches;
next	1.1078;

1.1078
date	2006.10.08.18.44.07;	author pbrook;	state Exp;
branches;
next	1.1077;

1.1077
date	2006.09.28.13.10.13;	author nickc;	state Exp;
branches;
next	1.1076;

1.1076
date	2006.09.26.12.04.45;	author jsm28;	state Exp;
branches;
next	1.1075;

1.1075
date	2006.09.23.23.10.13;	author hjl;	state Exp;
branches;
next	1.1074;

1.1074
date	2006.09.20.11.35.11;	author nickc;	state Exp;
branches;
next	1.1073;

1.1073
date	2006.09.19.09.27.31;	author bernds;	state Exp;
branches;
next	1.1072;

1.1072
date	2006.09.16.23.51.50;	author nickc;	state Exp;
branches;
next	1.1071;

1.1071
date	2006.09.16.16.24.28;	author pbrook;	state Exp;
branches;
next	1.1070;

1.1070
date	2006.09.08.17.08.05;	author kazu;	state Exp;
branches;
next	1.1069;

1.1069
date	2006.09.08.15.51.02;	author pbrook;	state Exp;
branches;
next	1.1068;

1.1068
date	2006.09.07.17.54.15;	author pbrook;	state Exp;
branches;
next	1.1067;

1.1067
date	2006.09.05.14.07.22;	author pbrook;	state Exp;
branches;
next	1.1066;

1.1066
date	2006.08.21.11.41.24;	author jsm28;	state Exp;
branches;
next	1.1065;

1.1065
date	2006.08.16.10.32.40;	author jules;	state Exp;
branches;
next	1.1064;

1.1064
date	2006.08.15.18.23.11;	author ths;	state Exp;
branches;
next	1.1063;

1.1063
date	2006.08.14.23.45.59;	author meissner;	state Exp;
branches;
next	1.1062;

1.1062
date	2006.08.12.23.00.35;	author ths;	state Exp;
branches;
next	1.1061;

1.1061
date	2006.08.08.19.09.34;	author bwilson;	state Exp;
branches;
next	1.1060;

1.1060
date	2006.08.06.15.15.36;	author nickc;	state Exp;
branches;
next	1.1059;

1.1059
date	2006.08.06.15.11.08;	author nickc;	state Exp;
branches;
next	1.1058;

1.1058
date	2006.08.03.15.59.00;	author jsm28;	state Exp;
branches;
next	1.1057;

1.1057
date	2006.08.03.15.57.04;	author jsm28;	state Exp;
branches;
next	1.1056;

1.1056
date	2006.08.01.17.54.28;	author hjl;	state Exp;
branches;
next	1.1055;

1.1055
date	2006.07.29.08.55.38;	author rsandifo;	state Exp;
branches;
next	1.1054;

1.1054
date	2006.07.20.23.09.32;	author meissner;	state Exp;
branches;
next	1.1053;

1.1053
date	2006.07.19.12.53.33;	author pbrook;	state Exp;
branches;
next	1.1052;

1.1052
date	2006.07.18.20.25.40;	author hjl;	state Exp;
branches;
next	1.1051;

1.1051
date	2006.07.18.16.44.47;	author pbrook;	state Exp;
branches;
next	1.1050;

1.1050
date	2006.07.18.14.06.10;	author ths;	state Exp;
branches;
next	1.1049;

1.1049
date	2006.07.13.22.25.44;	author meissner;	state Exp;
branches;
next	1.1048;

1.1048
date	2006.07.12.09.02.00;	author nickc;	state Exp;
branches;
next	1.1047;

1.1047
date	2006.07.05.17.08.08;	author jules;	state Exp;
branches;
next	1.1046;

1.1046
date	2006.07.04.16.39.08;	author ths;	state Exp;
branches;
next	1.1045;

1.1045
date	2006.06.23.21.47.36;	author hjl;	state Exp;
branches;
next	1.1044;

1.1044
date	2006.06.20.17.09.29;	author ths;	state Exp;
branches;
next	1.1043;

1.1043
date	2006.06.18.10.05.26;	author nickc;	state Exp;
branches;
next	1.1042;

1.1042
date	2006.06.15.11.03.01;	author shinwell;	state Exp;
branches;
next	1.1041;

1.1041
date	2006.06.14.18.04.44;	author ths;	state Exp;
branches;
next	1.1040;

1.1040
date	2006.06.14.08.29.42;	author ths;	state Exp;
branches;
next	1.1039;

1.1039
date	2006.06.12.18.59.35;	author hjl;	state Exp;
branches;
next	1.1038;

1.1038
date	2006.06.12.18.55.38;	author hjl;	state Exp;
branches;
next	1.1037;

1.1037
date	2006.06.09.11.53.38;	author ths;	state Exp;
branches;
next	1.1036;

1.1036
date	2006.06.08.21.42.50;	author ths;	state Exp;
branches;
next	1.1035;

1.1035
date	2006.06.07.14.31.51;	author jules;	state Exp;
branches;
next	1.1034;

1.1034
date	2006.06.07.14.08.18;	author pbrook;	state Exp;
branches;
next	1.1033;

1.1033
date	2006.06.06.10.49.48;	author ths;	state Exp;
branches;
next	1.1032;

1.1032
date	2006.06.05.16.28.36;	author ths;	state Exp;
branches;
next	1.1031;

1.1031
date	2006.05.25.08.09.02;	author rsandifo;	state Exp;
branches;
next	1.1030;

1.1030
date	2006.05.25.04.07.53;	author jiez;	state Exp;
branches;
next	1.1029;

1.1029
date	2006.05.23.15.37.20;	author ths;	state Exp;
branches;
next	1.1028;

1.1028
date	2006.05.22.08.58.08;	author nickc;	state Exp;
branches;
next	1.1027;

1.1027
date	2006.05.19.22.48.13;	author ths;	state Exp;
branches;
next	1.1026;

1.1026
date	2006.05.14.15.35.22;	author ths;	state Exp;
branches;
next	1.1025;

1.1025
date	2006.05.11.15.05.17;	author pbrook;	state Exp;
branches;
next	1.1024;

1.1024
date	2006.05.11.14.30.58;	author ths;	state Exp;
branches;
next	1.1023;

1.1023
date	2006.05.09.17.05.55;	author hjl;	state Exp;
branches;
next	1.1022;

1.1022
date	2006.05.09.16.05.40;	author hjl;	state Exp;
branches;
next	1.1021;

1.1021
date	2006.05.09.14.16.49;	author ths;	state Exp;
branches;
next	1.1020;

1.1020
date	2006.05.08.18.18.08;	author ths;	state Exp;
branches;
next	1.1019;

1.1019
date	2006.05.08.15.57.05;	author ths;	state Exp;
branches;
next	1.1018;

1.1018
date	2006.05.05.18.53.09;	author jules;	state Exp;
branches;
next	1.1017;

1.1017
date	2006.05.05.16.38.09;	author ths;	state Exp;
branches;
next	1.1016;

1.1016
date	2006.05.04.15.40.59;	author kazu;	state Exp;
branches;
next	1.1015;

1.1015
date	2006.05.04.10.47.05;	author ths;	state Exp;
branches;
next	1.1014;

1.1014
date	2006.05.03.20.59.19;	author ths;	state Exp;
branches;
next	1.1013;

1.1013
date	2006.05.02.14.42.29;	author jsm28;	state Exp;
branches;
next	1.1012;

1.1012
date	2006.04.30.00.21.26;	author hjl;	state Exp;
branches;
next	1.1011;

1.1011
date	2006.04.28.13.38.49;	author ths;	state Exp;
branches;
next	1.1010;

1.1010
date	2006.04.28.13.17.00;	author ths;	state Exp;
branches;
next	1.1009;

1.1009
date	2006.04.26.16.02.40;	author jules;	state Exp;
branches;
next	1.1008;

1.1008
date	2006.04.26.15.55.17;	author jules;	state Exp;
branches;
next	1.1007;

1.1007
date	2006.04.26.15.42.17;	author jules;	state Exp;
branches;
next	1.1006;

1.1006
date	2006.04.26.09.24.07;	author aj;	state Exp;
branches;
next	1.1005;

1.1005
date	2006.04.20.12.39.51;	author pbrook;	state Exp;
branches;
next	1.1004;

1.1004
date	2006.04.18.17.52.37;	author hjl;	state Exp;
branches;
next	1.1003;

1.1003
date	2006.04.16.11.52.59;	author nickc;	state Exp;
branches
	1.1003.2.1;
next	1.1002;

1.1002
date	2006.04.07.15.08.03;	author pbrook;	state Exp;
branches;
next	1.1001;

1.1001
date	2006.04.07.15.03.44;	author pbrook;	state Exp;
branches;
next	1.1000;

1.1000
date	2006.04.05.12.41.56;	author rsandifo;	state Exp;
branches;
next	1.999;

1.999
date	2006.03.24.05.07.52;	author hjl;	state Exp;
branches;
next	1.998;

1.998
date	2006.03.22.09.28.12;	author rsandifo;	state Exp;
branches;
next	1.997;

1.997
date	2006.03.21.14.35.26;	author pbrook;	state Exp;
branches;
next	1.996;

1.996
date	2006.03.20.15.38.02;	author pbrook;	state Exp;
branches
	1.996.2.1;
next	1.995;

1.995
date	2006.03.17.14.03.36;	author pbrook;	state Exp;
branches;
next	1.994;

1.994
date	2006.03.16.19.09.24;	author bernds;	state Exp;
branches;
next	1.993;

1.993
date	2006.03.16.15.08.47;	author pbrook;	state Exp;
branches;
next	1.992;

1.992
date	2006.03.09.23.05.59;	author pbrook;	state Exp;
branches;
next	1.991;

1.991
date	2006.03.07.20.18.04;	author hjl;	state Exp;
branches;
next	1.990;

1.990
date	2006.03.07.08.39.20;	author rsandifo;	state Exp;
branches;
next	1.989;

1.989
date	2006.03.06.13.42.04;	author nathan;	state Exp;
branches;
next	1.988;

1.988
date	2006.02.28.07.57.09;	author jbeulich;	state Exp;
branches;
next	1.987;

1.987
date	2006.02.28.07.55.36;	author jbeulich;	state Exp;
branches;
next	1.986;

1.986
date	2006.02.27.15.35.37;	author hjl;	state Exp;
branches;
next	1.985;

1.985
date	2006.02.25.01.36.11;	author davem;	state Exp;
branches;
next	1.984;

1.984
date	2006.02.24.15.36.36;	author pbrook;	state Exp;
branches;
next	1.983;

1.983
date	2006.02.23.21.36.17;	author hjl;	state Exp;
branches;
next	1.982;

1.982
date	2006.02.23.00.17.23;	author hjl;	state Exp;
branches;
next	1.981;

1.981
date	2006.02.22.15.03.30;	author pbrook;	state Exp;
branches;
next	1.980;

1.980
date	2006.02.17.14.36.25;	author nickc;	state Exp;
branches;
next	1.979;

1.979
date	2006.02.12.17.26.21;	author hjl;	state Exp;
branches;
next	1.978;

1.978
date	2006.02.11.18.08.35;	author hjl;	state Exp;
branches;
next	1.977;

1.977
date	2006.02.11.17.00.57;	author hjl;	state Exp;
branches;
next	1.976;

1.976
date	2006.02.07.19.01.10;	author nathan;	state Exp;
branches;
next	1.975;

1.975
date	2006.02.02.13.32.01;	author pbrook;	state Exp;
branches;
next	1.974;

1.974
date	2006.01.31.16.19.41;	author pbrook;	state Exp;
branches;
next	1.973;

1.973
date	2006.01.18.14.57.45;	author arnoldm;	state Exp;
branches;
next	1.972;

1.972
date	2006.01.18.14.52.11;	author arnoldm;	state Exp;
branches;
next	1.971;

1.971
date	2006.01.16.23.15.06;	author amodra;	state Exp;
branches;
next	1.970;

1.970
date	2006.01.16.16.23.29;	author pbrook;	state Exp;
branches;
next	1.969;

1.969
date	2006.01.11.17.39.49;	author nickc;	state Exp;
branches;
next	1.968;

1.968
date	2006.01.09.17.14.40;	author hjl;	state Exp;
branches;
next	1.967;

1.967
date	2006.01.03.05.52.15;	author hp;	state Exp;
branches;
next	1.966;

1.966
date	2005.12.22.17.05.40;	author jbeulich;	state Exp;
branches;
next	1.965;

1.965
date	2005.12.14.08.57.05;	author jbeulich;	state Exp;
branches;
next	1.964;

1.964
date	2005.12.12.11.25.04;	author nathan;	state Exp;
branches;
next	1.963;

1.963
date	2005.12.07.06.43.17;	author hp;	state Exp;
branches;
next	1.962;

1.962
date	2005.12.06.12.40.57;	author hjl;	state Exp;
branches;
next	1.961;

1.961
date	2005.12.05.23.26.22;	author hp;	state Exp;
branches;
next	1.960;

1.960
date	2005.11.25.02.11.40;	author danglin;	state Exp;
branches;
next	1.959;

1.959
date	2005.11.25.02.08.22;	author danglin;	state Exp;
branches;
next	1.958;

1.958
date	2005.11.23.14.04.17;	author drow;	state Exp;
branches;
next	1.957;

1.957
date	2005.11.23.00.28.57;	author danglin;	state Exp;
branches;
next	1.956;

1.956
date	2005.11.21.04.30.32;	author danglin;	state Exp;
branches;
next	1.955;

1.955
date	2005.11.20.22.03.25;	author danglin;	state Exp;
branches;
next	1.954;

1.954
date	2005.11.17.07.29.28;	author jbeulich;	state Exp;
branches;
next	1.953;

1.953
date	2005.11.16.22.00.31;	author rth;	state Exp;
branches;
next	1.952;

1.952
date	2005.11.15.14.29.58;	author drow;	state Exp;
branches;
next	1.951;

1.951
date	2005.11.14.11.03.15;	author ths;	state Exp;
branches;
next	1.950;

1.950
date	2005.11.14.02.25.39;	author ths;	state Exp;
branches;
next	1.949;

1.949
date	2005.11.10.16.06.27;	author jbeulich;	state Exp;
branches;
next	1.948;

1.948
date	2005.11.10.09.41.13;	author nickc;	state Exp;
branches;
next	1.947;

1.947
date	2005.11.08.16.23.31;	author nickc;	state Exp;
branches;
next	1.946;

1.946
date	2005.11.08.11.15.12;	author nathan;	state Exp;
branches;
next	1.945;

1.945
date	2005.11.07.08.04.53;	author jbeulich;	state Exp;
branches;
next	1.944;

1.944
date	2005.11.07.06.03.50;	author amodra;	state Exp;
branches;
next	1.943;

1.943
date	2005.11.06.23.04.53;	author amodra;	state Exp;
branches;
next	1.942;

1.942
date	2005.11.04.19.53.02;	author hjl;	state Exp;
branches;
next	1.941;

1.941
date	2005.11.04.19.45.23;	author aoliva;	state Exp;
branches;
next	1.940;

1.940
date	2005.11.04.13.25.59;	author jbeulich;	state Exp;
branches;
next	1.939;

1.939
date	2005.10.29.10.54.08;	author hp;	state Exp;
branches;
next	1.938;

1.938
date	2005.10.27.13.34.13;	author jbeulich;	state Exp;
branches;
next	1.937;

1.937
date	2005.10.27.07.40.07;	author jbeulich;	state Exp;
branches;
next	1.936;

1.936
date	2005.10.26.14.09.29;	author pbrook;	state Exp;
branches;
next	1.935;

1.935
date	2005.10.26.12.29.44;	author jbeulich;	state Exp;
branches;
next	1.934;

1.934
date	2005.10.26.01.32.24;	author hp;	state Exp;
branches;
next	1.933;

1.933
date	2005.10.25.17.40.18;	author nickc;	state Exp;
branches;
next	1.932;

1.932
date	2005.10.24.18.42.37;	author bernds;	state Exp;
branches;
next	1.931;

1.931
date	2005.10.24.17.51.41;	author aoliva;	state Exp;
branches;
next	1.930;

1.930
date	2005.10.24.07.42.49;	author jbeulich;	state Exp;
branches;
next	1.929;

1.929
date	2005.10.24.07.36.40;	author jbeulich;	state Exp;
branches;
next	1.928;

1.928
date	2005.10.19.18.47.09;	author davidu;	state Exp;
branches;
next	1.927;

1.927
date	2005.10.19.15.05.50;	author sky;	state Exp;
branches;
next	1.926;

1.926
date	2005.10.17.15.44.01;	author rearnsha;	state Exp;
branches;
next	1.925;

1.925
date	2005.10.13.02.26.34;	author danglin;	state Exp;
branches;
next	1.924;

1.924
date	2005.10.12.07.51.08;	author jbeulich;	state Exp;
branches;
next	1.923;

1.923
date	2005.10.11.11.16.17;	author nickc;	state Exp;
branches;
next	1.922;

1.922
date	2005.10.10.08.12.52;	author nickc;	state Exp;
branches;
next	1.921;

1.921
date	2005.10.08.17.07.16;	author pbrook;	state Exp;
branches;
next	1.920;

1.920
date	2005.10.06.11.44.06;	author nickc;	state Exp;
branches;
next	1.919;

1.919
date	2005.09.30.15.10.12;	author clm;	state Exp;
branches;
next	1.918;

1.918
date	2005.09.30.13.34.15;	author pbrook;	state Exp;
branches;
next	1.917;

1.917
date	2005.09.29.07.00.53;	author jbeulich;	state Exp;
branches;
next	1.916;

1.916
date	2005.09.28.15.34.50;	author jbeulich;	state Exp;
branches;
next	1.915;

1.915
date	2005.09.28.15.31.21;	author jbeulich;	state Exp;
branches;
next	1.914;

1.914
date	2005.09.28.14.44.23;	author jbeulich;	state Exp;
branches;
next	1.913;

1.913
date	2005.09.21.06.55.48;	author amodra;	state Exp;
branches;
next	1.912;

1.912
date	2005.09.20.17.58.33;	author rth;	state Exp;
branches;
next	1.911;

1.911
date	2005.09.08.12.49.24;	author pbrook;	state Exp;
branches;
next	1.910;

1.910
date	2005.09.07.19.22.41;	author rth;	state Exp;
branches;
next	1.909;

1.909
date	2005.09.07.19.08.51;	author rth;	state Exp;
branches;
next	1.908;

1.908
date	2005.09.07.18.46.15;	author rth;	state Exp;
branches;
next	1.907;

1.907
date	2005.09.07.11.41.24;	author rth;	state Exp;
branches;
next	1.906;

1.906
date	2005.09.06.18.56.20;	author chaoyingfu;	state Exp;
branches;
next	1.905;

1.905
date	2005.09.06.16.59.23;	author pbrook;	state Exp;
branches;
next	1.904;

1.904
date	2005.09.06.15.57.05;	author pbrook;	state Exp;
branches;
next	1.903;

1.903
date	2005.09.02.13.12.41;	author pbrook;	state Exp;
branches;
next	1.902;

1.902
date	2005.09.02.12.50.43;	author pbrook;	state Exp;
branches;
next	1.901;

1.901
date	2005.09.01.00.33.09;	author hp;	state Exp;
branches;
next	1.900;

1.900
date	2005.08.30.11.21.54;	author pbrook;	state Exp;
branches;
next	1.899;

1.899
date	2005.08.26.15.51.14;	author jbeulich;	state Exp;
branches;
next	1.898;

1.898
date	2005.08.26.15.33.41;	author jbeulich;	state Exp;
branches;
next	1.897;

1.897
date	2005.08.25.18.21.44;	author chaoyingfu;	state Exp;
branches;
next	1.896;

1.896
date	2005.08.22.12.37.36;	author jbeulich;	state Exp;
branches;
next	1.895;

1.895
date	2005.08.15.19.19.55;	author pbrook;	state Exp;
branches;
next	1.894;

1.894
date	2005.08.12.18.01.33;	author sky;	state Exp;
branches;
next	1.893;

1.893
date	2005.08.11.01.21.21;	author amodra;	state Exp;
branches;
next	1.892;

1.892
date	2005.08.05.18.05.16;	author danglin;	state Exp;
branches;
next	1.891;

1.891
date	2005.08.05.17.55.14;	author danglin;	state Exp;
branches;
next	1.890;

1.890
date	2005.08.05.12.28.23;	author pbrook;	state Exp;
branches;
next	1.889;

1.889
date	2005.08.05.12.26.29;	author pbrook;	state Exp;
branches;
next	1.888;

1.888
date	2005.08.03.09.50.43;	author nickc;	state Exp;
branches;
next	1.887;

1.887
date	2005.07.29.17.39.37;	author pbrook;	state Exp;
branches;
next	1.886;

1.886
date	2005.07.29.17.28.31;	author pbrook;	state Exp;
branches;
next	1.885;

1.885
date	2005.07.27.06.32.45;	author jbeulich;	state Exp;
branches;
next	1.884;

1.884
date	2005.07.26.15.34.10;	author jbeulich;	state Exp;
branches;
next	1.883;

1.883
date	2005.07.21.13.11.27;	author pbrook;	state Exp;
branches;
next	1.882;

1.882
date	2005.07.20.11.35.01;	author nickc;	state Exp;
branches;
next	1.881;

1.881
date	2005.07.19.04.11.18;	author hjl;	state Exp;
branches;
next	1.880;

1.880
date	2005.07.19.01.41.21;	author danglin;	state Exp;
branches;
next	1.879;

1.879
date	2005.07.18.06.27.23;	author jbeulich;	state Exp;
branches;
next	1.878;

1.878
date	2005.07.15.13.49.52;	author hjl;	state Exp;
branches;
next	1.877;

1.877
date	2005.07.14.07.30.52;	author nickc;	state Exp;
branches;
next	1.876;

1.876
date	2005.07.12.15.18.43;	author hp;	state Exp;
branches;
next	1.875;

1.875
date	2005.07.10.16.54.00;	author hjl;	state Exp;
branches;
next	1.874;

1.874
date	2005.07.08.03.53.11;	author hp;	state Exp;
branches;
next	1.873;

1.873
date	2005.07.07.11.37.10;	author nickc;	state Exp;
branches;
next	1.872;

1.872
date	2005.07.05.13.25.53;	author pbrook;	state Exp;
branches;
next	1.871;

1.871
date	2005.07.05.13.08.07;	author aldyh;	state Exp;
branches;
next	1.870;

1.870
date	2005.07.05.07.16.51;	author jbeulich;	state Exp;
branches;
next	1.869;

1.869
date	2005.07.04.14.55.52;	author pbrook;	state Exp;
branches;
next	1.868;

1.868
date	2005.07.01.06.51.37;	author jbeulich;	state Exp;
branches;
next	1.867;

1.867
date	2005.06.30.18.33.17;	author zack;	state Exp;
branches;
next	1.866;

1.866
date	2005.06.20.23.18.39;	author hjl;	state Exp;
branches;
next	1.865;

1.865
date	2005.06.17.08.03.56;	author jbeulich;	state Exp;
branches;
next	1.864;

1.864
date	2005.06.13.15.34.38;	author zack;	state Exp;
branches;
next	1.863;

1.863
date	2005.06.01.19.23.57;	author macro;	state Exp;
branches;
next	1.862;

1.862
date	2005.05.27.06.28.03;	author jbeulich;	state Exp;
branches;
next	1.861;

1.861
date	2005.05.26.00.41.41;	author wilson;	state Exp;
branches;
next	1.860;

1.860
date	2005.05.25.14.10.06;	author hjl;	state Exp;
branches;
next	1.859;

1.859
date	2005.05.25.06.59.34;	author jbeulich;	state Exp;
branches;
next	1.858;

1.858
date	2005.05.25.06.50.19;	author jbeulich;	state Exp;
branches;
next	1.857;

1.857
date	2005.05.25.06.30.23;	author hjl;	state Exp;
branches;
next	1.856;

1.856
date	2005.05.19.06.32.01;	author jbeulich;	state Exp;
branches;
next	1.855;

1.855
date	2005.05.18.06.12.06;	author jbeulich;	state Exp;
branches;
next	1.854;

1.854
date	2005.05.18.05.40.08;	author zack;	state Exp;
branches;
next	1.853;

1.853
date	2005.05.17.14.02.28;	author jbeulich;	state Exp;
branches;
next	1.852;

1.852
date	2005.05.17.11.56.12;	author nickc;	state Exp;
branches;
next	1.851;

1.851
date	2005.05.10.15.10.07;	author matz;	state Exp;
branches;
next	1.850;

1.850
date	2005.05.10.12.30.04;	author hp;	state Exp;
branches;
next	1.849;

1.849
date	2005.05.09.15.41.46;	author jbeulich;	state Exp;
branches;
next	1.848;

1.848
date	2005.05.07.22.19.37;	author hjl;	state Exp;
branches;
next	1.847;

1.847
date	2005.05.07.13.30.00;	author hjl;	state Exp;
branches;
next	1.846;

1.846
date	2005.05.06.08.20.06;	author nickc;	state Exp;
branches;
next	1.845;

1.845
date	2005.05.06.06.50.30;	author jbeulich;	state Exp;
branches;
next	1.844;

1.844
date	2005.05.06.06.38.10;	author jbeulich;	state Exp;
branches;
next	1.843;

1.843
date	2005.05.06.06.30.32;	author jbeulich;	state Exp;
branches;
next	1.842;

1.842
date	2005.05.05.14.37.20;	author pbrook;	state Exp;
branches;
next	1.841;

1.841
date	2005.05.05.10.29.15;	author nickc;	state Exp;
branches;
next	1.840;

1.840
date	2005.05.05.03.11.22;	author pbrook;	state Exp;
branches;
next	1.839;

1.839
date	2005.04.26.17.15.20;	author hjl;	state Exp;
branches;
next	1.838;

1.838
date	2005.04.25.06.43.46;	author jbeulich;	state Exp;
branches;
next	1.837;

1.837
date	2005.04.20.12.27.58;	author jbeulich;	state Exp;
branches;
next	1.836;

1.836
date	2005.04.19.18.11.10;	author hjl;	state Exp;
branches;
next	1.835;

1.835
date	2005.04.19.14.44.14;	author schwab;	state Exp;
branches;
next	1.834;

1.834
date	2005.04.18.13.35.45;	author jbeulich;	state Exp;
branches;
next	1.833;

1.833
date	2005.04.15.11.38.58;	author jbeulich;	state Exp;
branches;
next	1.832;

1.832
date	2005.04.15.06.06.41;	author amodra;	state Exp;
branches;
next	1.831;

1.831
date	2005.04.13.18.17.09;	author macro;	state Exp;
branches;
next	1.830;

1.830
date	2005.04.11.22.32.21;	author kettenis;	state Exp;
branches;
next	1.829;

1.829
date	2005.04.11.12.46.36;	author jbeulich;	state Exp;
branches;
next	1.828;

1.828
date	2005.04.07.00.53.20;	author hjl;	state Exp;
branches;
next	1.827;

1.827
date	2005.04.01.14.17.16;	author nickc;	state Exp;
branches;
next	1.826;

1.826
date	2005.04.01.14.08.55;	author nickc;	state Exp;
branches;
next	1.825;

1.825
date	2005.04.01.07.50.24;	author jbeulich;	state Exp;
branches;
next	1.824;

1.824
date	2005.04.01.07.46.06;	author jbeulich;	state Exp;
branches;
next	1.823;

1.823
date	2005.03.30.16.22.03;	author jules;	state Exp;
branches;
next	1.822;

1.822
date	2005.03.29.19.30.46;	author hjl;	state Exp;
branches;
next	1.821;

1.821
date	2005.03.29.16.54.21;	author drow;	state Exp;
branches;
next	1.820;

1.820
date	2005.03.28.22.34.17;	author hjl;	state Exp;
branches;
next	1.819;

1.819
date	2005.03.24.00.01.13;	author hp;	state Exp;
branches;
next	1.818;

1.818
date	2005.03.22.14.20.33;	author amodra;	state Exp;
branches;
next	1.817;

1.817
date	2005.03.21.15.19.51;	author nickc;	state Exp;
branches;
next	1.816;

1.816
date	2005.03.17.12.05.23;	author jbeulich;	state Exp;
branches;
next	1.815;

1.815
date	2005.03.15.20.37.59;	author zack;	state Exp;
branches;
next	1.814;

1.814
date	2005.03.15.05.28.15;	author echristo;	state Exp;
branches;
next	1.813;

1.813
date	2005.03.12.18.25.46;	author zack;	state Exp;
branches;
next	1.812;

1.812
date	2005.03.10.20.21.48;	author aldyh;	state Exp;
branches;
next	1.811;

1.811
date	2005.03.10.12.52.29;	author amodra;	state Exp;
branches;
next	1.810;

1.810
date	2005.03.09.09.39.30;	author rsandifo;	state Exp;
branches;
next	1.809;

1.809
date	2005.03.09.09.34.58;	author rsandifo;	state Exp;
branches;
next	1.808;

1.808
date	2005.03.08.22.41.05;	author bje;	state Exp;
branches;
next	1.807;

1.807
date	2005.03.08.08.27.01;	author jbeulich;	state Exp;
branches
	1.807.2.1;
next	1.806;

1.806
date	2005.03.08.08.23.31;	author jbeulich;	state Exp;
branches;
next	1.805;

1.805
date	2005.03.08.08.15.29;	author jbeulich;	state Exp;
branches;
next	1.804;

1.804
date	2005.03.08.02.26.18;	author hp;	state Exp;
branches;
next	1.803;

1.803
date	2005.03.05.00.01.40;	author ths;	state Exp;
branches;
next	1.802;

1.802
date	2005.03.04.15.28.34;	author nickc;	state Exp;
branches;
next	1.801;

1.801
date	2005.03.04.09.51.08;	author rsandifo;	state Exp;
branches;
next	1.800;

1.800
date	2005.03.03.17.25.35;	author nickc;	state Exp;
branches;
next	1.799;

1.799
date	2005.03.03.16.59.14;	author nickc;	state Exp;
branches;
next	1.798;

1.798
date	2005.03.03.15.13.38;	author nickc;	state Exp;
branches;
next	1.797;

1.797
date	2005.03.03.15.01.48;	author rsandifo;	state Exp;
branches;
next	1.796;

1.796
date	2005.03.03.14.41.34;	author nickc;	state Exp;
branches;
next	1.795;

1.795
date	2005.03.03.12.35.17;	author nickc;	state Exp;
branches;
next	1.794;

1.794
date	2005.03.03.12.13.16;	author ramana;	state Exp;
branches;
next	1.793;

1.793
date	2005.03.03.10.32.09;	author rsandifo;	state Exp;
branches;
next	1.792;

1.792
date	2005.03.03.05.31.40;	author ramana;	state Exp;
branches;
next	1.791;

1.791
date	2005.03.02.21.22.46;	author drow;	state Exp;
branches;
next	1.790;

1.790
date	2005.03.02.13.25.00;	author amodra;	state Exp;
branches;
next	1.789;

1.789
date	2005.03.02.08.01.26;	author jbeulich;	state Exp;
branches;
next	1.788;

1.788
date	2005.03.02.07.55.01;	author jbeulich;	state Exp;
branches;
next	1.787;

1.787
date	2005.03.01.22.24.14;	author amodra;	state Exp;
branches;
next	1.786;

1.786
date	2005.03.01.15.39.56;	author nickc;	state Exp;
branches;
next	1.785;

1.785
date	2005.03.01.15.18.43;	author nickc;	state Exp;
branches;
next	1.784;

1.784
date	2005.03.01.03.52.54;	author amodra;	state Exp;
branches;
next	1.783;

1.783
date	2005.02.22.23.37.26;	author echristo;	state Exp;
branches;
next	1.782;

1.782
date	2005.02.22.20.50.09;	author macro;	state Exp;
branches;
next	1.781;

1.781
date	2005.02.22.19.39.05;	author echristo;	state Exp;
branches;
next	1.780;

1.780
date	2005.02.22.12.32.25;	author macro;	state Exp;
branches;
next	1.779;

1.779
date	2005.02.21.10.07.04;	author amodra;	state Exp;
branches;
next	1.778;

1.778
date	2005.02.18.22.12.52;	author ths;	state Exp;
branches;
next	1.777;

1.777
date	2005.02.17.23.22.04;	author hjl;	state Exp;
branches;
next	1.776;

1.776
date	2005.02.17.07.43.11;	author jbeulich;	state Exp;
branches;
next	1.775;

1.775
date	2005.02.16.05.04.33;	author amodra;	state Exp;
branches;
next	1.774;

1.774
date	2005.02.15.19.57.52;	author macro;	state Exp;
branches;
next	1.773;

1.773
date	2005.02.15.08.11.13;	author jbeulich;	state Exp;
branches;
next	1.772;

1.772
date	2005.02.15.07.54.03;	author jbeulich;	state Exp;
branches;
next	1.771;

1.771
date	2005.02.15.07.50.22;	author jbeulich;	state Exp;
branches;
next	1.770;

1.770
date	2005.02.15.07.37.11;	author jbeulich;	state Exp;
branches;
next	1.769;

1.769
date	2005.02.15.07.30.07;	author jbeulich;	state Exp;
branches;
next	1.768;

1.768
date	2005.02.14.08.02.48;	author jbeulich;	state Exp;
branches;
next	1.767;

1.767
date	2005.02.14.07.47.51;	author jbeulich;	state Exp;
branches;
next	1.766;

1.766
date	2005.02.13.19.25.25;	author hjl;	state Exp;
branches;
next	1.765;

1.765
date	2005.02.11.21.01.18;	author hjl;	state Exp;
branches;
next	1.764;

1.764
date	2005.02.09.08.05.40;	author jbeulich;	state Exp;
branches;
next	1.763;

1.763
date	2005.02.07.16.00.08;	author nickc;	state Exp;
branches;
next	1.762;

1.762
date	2005.02.07.02.29.10;	author hp;	state Exp;
branches;
next	1.761;

1.761
date	2005.02.02.07.37.34;	author jbeulich;	state Exp;
branches;
next	1.760;

1.760
date	2005.01.31.22.00.31;	author drow;	state Exp;
branches;
next	1.759;

1.759
date	2005.01.31.14.30.34;	author jbeulich;	state Exp;
branches;
next	1.758;

1.758
date	2005.01.31.14.26.11;	author jbeulich;	state Exp;
branches;
next	1.757;

1.757
date	2005.01.31.10.01.00;	author jbeulich;	state Exp;
branches;
next	1.756;

1.756
date	2005.01.31.09.46.13;	author jbeulich;	state Exp;
branches;
next	1.755;

1.755
date	2005.01.31.09.17.11;	author jbeulich;	state Exp;
branches;
next	1.754;

1.754
date	2005.01.31.08.48.20;	author jbeulich;	state Exp;
branches;
next	1.753;

1.753
date	2005.01.27.09.12.49;	author jbeulich;	state Exp;
branches;
next	1.752;

1.752
date	2005.01.27.08.41.24;	author jbeulich;	state Exp;
branches;
next	1.751;

1.751
date	2005.01.24.15.32.18;	author nickc;	state Exp;
branches;
next	1.750;

1.750
date	2005.01.19.11.53.52;	author rsandifo;	state Exp;
branches;
next	1.749;

1.749
date	2005.01.17.14.08.11;	author nickc;	state Exp;
branches;
next	1.748;

1.748
date	2005.01.12.19.12.50;	author hjl;	state Exp;
branches;
next	1.747;

1.747
date	2005.01.09.14.12.05;	author schwab;	state Exp;
branches;
next	1.746;

1.746
date	2005.01.05.13.38.38;	author ebotcazou;	state Exp;
branches;
next	1.745;

1.745
date	2004.12.30.22.41.31;	author amodra;	state Exp;
branches;
next	1.744;

1.744
date	2004.12.21.16.26.54;	author tomerl;	state Exp;
branches;
next	1.743;

1.743
date	2004.12.21.13.09.50;	author hp;	state Exp;
branches;
next	1.742;

1.742
date	2004.12.20.15.35.51;	author nickc;	state Exp;
branches;
next	1.741;

1.741
date	2004.12.16.16.56.02;	author rsandifo;	state Exp;
branches;
next	1.740;

1.740
date	2004.12.16.13.23.21;	author jbeulich;	state Exp;
branches;
next	1.739;

1.739
date	2004.12.13.13.02.08;	author rsandifo;	state Exp;
branches;
next	1.738;

1.738
date	2004.12.11.04.32.35;	author amodra;	state Exp;
branches;
next	1.737;

1.737
date	2004.12.10.19.48.41;	author ian;	state Exp;
branches;
next	1.736;

1.736
date	2004.12.09.20.25.23;	author pbrook;	state Exp;
branches;
next	1.735;

1.735
date	2004.12.09.15.44.16;	author ian;	state Exp;
branches;
next	1.734;

1.734
date	2004.11.29.16.24.58;	author tomerl;	state Exp;
branches;
next	1.733;

1.733
date	2004.11.29.15.09.27;	author nickc;	state Exp;
branches;
next	1.732;

1.732
date	2004.11.27.11.12.17;	author rearnsha;	state Exp;
branches;
next	1.731;

1.731
date	2004.11.25.20.10.02;	author hjl;	state Exp;
branches;
next	1.730;

1.730
date	2004.11.25.08.42.53;	author jbeulich;	state Exp;
branches;
next	1.729;

1.729
date	2004.11.25.00.55.59;	author pbrook;	state Exp;
branches;
next	1.728;

1.728
date	2004.11.24.13.23.44;	author nickc;	state Exp;
branches;
next	1.727;

1.727
date	2004.11.24.12.03.29;	author nickc;	state Exp;
branches;
next	1.726;

1.726
date	2004.11.23.14.49.12;	author nickc;	state Exp;
branches;
next	1.725;

1.725
date	2004.11.22.17.44.01;	author nickc;	state Exp;
branches;
next	1.724;

1.724
date	2004.11.22.13.00.22;	author hp;	state Exp;
branches;
next	1.723;

1.723
date	2004.11.18.16.20.10;	author nickc;	state Exp;
branches;
next	1.722;

1.722
date	2004.11.17.17.50.24;	author drow;	state Exp;
branches;
next	1.721;

1.721
date	2004.11.12.12.27.03;	author nickc;	state Exp;
branches;
next	1.720;

1.720
date	2004.11.11.19.05.42;	author bwilson;	state Exp;
branches;
next	1.719;

1.719
date	2004.11.10.04.29.55;	author amodra;	state Exp;
branches;
next	1.718;

1.718
date	2004.11.08.13.17.23;	author nickc;	state Exp;
branches;
next	1.717;

1.717
date	2004.11.06.01.50.20;	author hjl;	state Exp;
branches;
next	1.716;

1.716
date	2004.11.04.15.03.05;	author hp;	state Exp;
branches;
next	1.715;

1.715
date	2004.11.04.14.39.11;	author hp;	state Exp;
branches;
next	1.714;

1.714
date	2004.11.04.09.16.04;	author jbeulich;	state Exp;
branches;
next	1.713;

1.713
date	2004.10.28.10.19.30;	author tomerl;	state Exp;
branches;
next	1.712;

1.712
date	2004.10.27.10.34.24;	author tomerl;	state Exp;
branches;
next	1.711;

1.711
date	2004.10.25.12.26.03;	author nickc;	state Exp;
branches;
next	1.710;

1.710
date	2004.10.25.09.39.13;	author tomerl;	state Exp;
branches;
next	1.709;

1.709
date	2004.10.14.16.04.07;	author pbrook;	state Exp;
branches;
next	1.708;

1.708
date	2004.10.08.13.55.05;	author drow;	state Exp;
branches;
next	1.707;

1.707
date	2004.10.08.02.47.11;	author amodra;	state Exp;
branches;
next	1.706;

1.706
date	2004.10.08.00.22.11;	author bwilson;	state Exp;
branches;
next	1.705;

1.705
date	2004.10.07.22.29.19;	author rsandifo;	state Exp;
branches;
next	1.704;

1.704
date	2004.10.07.19.15.28;	author rsandifo;	state Exp;
branches;
next	1.703;

1.703
date	2004.10.07.19.12.53;	author rsandifo;	state Exp;
branches;
next	1.702;

1.702
date	2004.10.07.15.18.10;	author nickc;	state Exp;
branches;
next	1.701;

1.701
date	2004.10.07.14.18.14;	author nickc;	state Exp;
branches;
next	1.700;

1.700
date	2004.10.06.23.59.03;	author aldyh;	state Exp;
branches;
next	1.699;

1.699
date	2004.10.05.14.03.10;	author nickc;	state Exp;
branches;
next	1.698;

1.698
date	2004.10.01.11.19.37;	author nickc;	state Exp;
branches;
next	1.697;

1.697
date	2004.09.30.16.21.45;	author nickc;	state Exp;
branches;
next	1.696;

1.696
date	2004.09.29.13.36.21;	author amodra;	state Exp;
branches;
next	1.695;

1.695
date	2004.09.19.22.51.04;	author pbrook;	state Exp;
branches;
next	1.694;

1.694
date	2004.09.17.12.34.59;	author pbrook;	state Exp;
branches;
next	1.693;

1.693
date	2004.09.13.14.14.28;	author pbrook;	state Exp;
branches;
next	1.692;

1.692
date	2004.09.03.14.31.41;	author nickc;	state Exp;
branches;
next	1.691;

1.691
date	2004.08.27.09.32.01;	author rsandifo;	state Exp;
branches;
next	1.690;

1.690
date	2004.08.27.08.08.59;	author nickc;	state Exp;
branches;
next	1.689;

1.689
date	2004.08.27.07.10.27;	author nickc;	state Exp;
branches;
next	1.688;

1.688
date	2004.08.25.17.05.10;	author hjl;	state Exp;
branches;
next	1.687;

1.687
date	2004.08.24.11.37.53;	author nickc;	state Exp;
branches;
next	1.686;

1.686
date	2004.08.18.15.58.11;	author ths;	state Exp;
branches;
next	1.685;

1.685
date	2004.08.18.07.23.46;	author nickc;	state Exp;
branches;
next	1.684;

1.684
date	2004.08.16.08.15.48;	author nickc;	state Exp;
branches;
next	1.683;

1.683
date	2004.08.16.00.09.19;	author amodra;	state Exp;
branches;
next	1.682;

1.682
date	2004.08.13.19.53.51;	author nickc;	state Exp;
branches;
next	1.681;

1.681
date	2004.08.11.02.11.57;	author mmitchel;	state Exp;
branches;
next	1.680;

1.680
date	2004.08.06.16.18.10;	author pbrook;	state Exp;
branches;
next	1.679;

1.679
date	2004.08.05.09.09.01;	author nickc;	state Exp;
branches;
next	1.678;

1.678
date	2004.08.01.19.59.51;	author ciceron;	state Exp;
branches;
next	1.677;

1.677
date	2004.07.30.12.36.36;	author mludvig;	state Exp;
branches;
next	1.676;

1.676
date	2004.07.30.00.29.21;	author kkojima;	state Exp;
branches;
next	1.675;

1.675
date	2004.07.29.05.17.35;	author aoliva;	state Exp;
branches;
next	1.674;

1.674
date	2004.07.27.11.37.09;	author nickc;	state Exp;
branches;
next	1.673;

1.673
date	2004.07.22.18.09.01;	author hjl;	state Exp;
branches;
next	1.672;

1.672
date	2004.07.22.16.52.40;	author nickc;	state Exp;
branches;
next	1.671;

1.671
date	2004.07.21.18.18.03;	author nickc;	state Exp;
branches;
next	1.670;

1.670
date	2004.07.21.16.09.42;	author nickc;	state Exp;
branches;
next	1.669;

1.669
date	2004.07.20.18.02.08;	author macro;	state Exp;
branches;
next	1.668;

1.668
date	2004.07.20.17.58.59;	author macro;	state Exp;
branches;
next	1.667;

1.667
date	2004.07.20.17.49.28;	author macro;	state Exp;
branches;
next	1.666;

1.666
date	2004.07.15.14.04.30;	author nickc;	state Exp;
branches;
next	1.665;

1.665
date	2004.07.13.17.31.14;	author nickc;	state Exp;
branches;
next	1.664;

1.664
date	2004.07.13.16.17.28;	author nickc;	state Exp;
branches;
next	1.663;

1.663
date	2004.07.09.16.32.01;	author nickc;	state Exp;
branches;
next	1.662;

1.662
date	2004.07.08.15.41.11;	author rsandifo;	state Exp;
branches;
next	1.661;

1.661
date	2004.07.08.15.39.42;	author rsandifo;	state Exp;
branches;
next	1.660;

1.660
date	2004.07.03.15.20.53;	author rsandifo;	state Exp;
branches;
next	1.659;

1.659
date	2004.07.03.15.17.42;	author rsandifo;	state Exp;
branches;
next	1.658;

1.658
date	2004.07.02.02.01.22;	author hjl;	state Exp;
branches;
next	1.657;

1.657
date	2004.06.30.18.14.37;	author wilson;	state Exp;
branches;
next	1.656;

1.656
date	2004.06.29.14.43.55;	author amodra;	state Exp;
branches;
next	1.655;

1.655
date	2004.06.28.14.08.07;	author amodra;	state Exp;
branches;
next	1.654;

1.654
date	2004.06.23.15.06.56;	author amodra;	state Exp;
branches;
next	1.653;

1.653
date	2004.06.08.20.40.55;	author jakub;	state Exp;
branches;
next	1.652;

1.652
date	2004.05.28.07.55.20;	author nickc;	state Exp;
branches;
next	1.651;

1.651
date	2004.05.28.05.02.19;	author hjl;	state Exp;
branches;
next	1.650;

1.650
date	2004.05.26.17.48.59;	author hjl;	state Exp;
branches;
next	1.649;

1.649
date	2004.05.24.14.33.18;	author nickc;	state Exp;
branches;
next	1.648;

1.648
date	2004.05.20.22.26.19;	author hjl;	state Exp;
branches;
next	1.647;

1.647
date	2004.05.12.03.06.09;	author bje;	state Exp;
branches;
next	1.646;

1.646
date	2004.05.11.15.53.47;	author nickc;	state Exp;
branches;
next	1.645;

1.645
date	2004.05.07.16.39.26;	author rsandifo;	state Exp;
branches;
next	1.644;

1.644
date	2004.05.06.02.46.07;	author aoliva;	state Exp;
branches;
next	1.643;

1.643
date	2004.04.30.16.47.46;	author hjl;	state Exp;
branches;
next	1.642;

1.642
date	2004.04.30.10.51.13;	author nickc;	state Exp;
branches;
next	1.641;

1.641
date	2004.04.30.06.46.53;	author bje;	state Exp;
branches;
next	1.640;

1.640
date	2004.04.27.03.59.09;	author hjl;	state Exp;
branches;
next	1.639;

1.639
date	2004.04.23.14.15.20;	author nickc;	state Exp;
branches;
next	1.638;

1.638
date	2004.04.23.02.47.38;	author kkojima;	state Exp;
branches;
next	1.637;

1.637
date	2004.04.22.20.27.40;	author kettenis;	state Exp;
branches;
next	1.636;

1.636
date	2004.04.22.18.13.55;	author ths;	state Exp;
branches;
next	1.635;

1.635
date	2004.04.22.16.18.29;	author pbrook;	state Exp;
branches;
next	1.634;

1.634
date	2004.04.22.10.33.16;	author nickc;	state Exp;
branches;
next	1.633;

1.633
date	2004.04.22.05.24.04;	author cgd;	state Exp;
branches;
next	1.632;

1.632
date	2004.04.20.12.17.14;	author nickc;	state Exp;
branches;
next	1.631;

1.631
date	2004.04.19.14.25.48;	author jakub;	state Exp;
branches;
next	1.630;

1.630
date	2004.04.14.07.48.49;	author rsandifo;	state Exp;
branches;
next	1.629;

1.629
date	2004.04.14.07.37.18;	author rsandifo;	state Exp;
branches;
next	1.628;

1.628
date	2004.04.13.16.57.50;	author nickc;	state Exp;
branches;
next	1.627;

1.627
date	2004.04.13.16.47.58;	author nickc;	state Exp;
branches;
next	1.626;

1.626
date	2004.04.02.01.39.30;	author kkojima;	state Exp;
branches;
next	1.625;

1.625
date	2004.04.01.08.22.47;	author nickc;	state Exp;
branches;
next	1.624;

1.624
date	2004.03.30.18.43.17;	author shebs;	state Exp;
branches;
next	1.623;

1.623
date	2004.03.27.10.43.57;	author amodra;	state Exp;
branches;
next	1.622;

1.622
date	2004.03.22.23.16.09;	author schwab;	state Exp;
branches;
next	1.621;

1.621
date	2004.03.21.23.47.53;	author hp;	state Exp;
branches;
next	1.620;

1.620
date	2004.03.18.00.49.22;	author kkojima;	state Exp;
branches;
next	1.619;

1.619
date	2004.03.16.00.58.42;	author amodra;	state Exp;
branches;
next	1.618;

1.618
date	2004.03.15.00.45.34;	author amodra;	state Exp;
branches;
next	1.617;

1.617
date	2004.03.12.13.37.36;	author mludvig;	state Exp;
branches;
next	1.616;

1.616
date	2004.03.12.13.06.49;	author amodra;	state Exp;
branches;
next	1.615;

1.615
date	2004.03.12.07.01.36;	author amodra;	state Exp;
branches;
next	1.614;

1.614
date	2004.03.08.19.12.30;	author aj;	state Exp;
branches;
next	1.613;

1.613
date	2004.03.07.23.02.01;	author rth;	state Exp;
branches;
next	1.612;

1.612
date	2004.03.07.10.04.42;	author aj;	state Exp;
branches;
next	1.611;

1.611
date	2004.03.07.08.51.21;	author rth;	state Exp;
branches;
next	1.610;

1.610
date	2004.03.04.01.24.21;	author kkojima;	state Exp;
branches;
next	1.609;

1.609
date	2004.03.01.10.11.36;	author rsandifo;	state Exp;
branches;
next	1.608;

1.608
date	2004.03.01.09.26.24;	author rsandifo;	state Exp;
branches;
next	1.607;

1.607
date	2004.02.18.16.28.18;	author nickc;	state Exp;
branches
	1.607.2.1;
next	1.606;

1.606
date	2004.02.09.12.45.51;	author kkojima;	state Exp;
branches;
next	1.605;

1.605
date	2004.02.06.16.00.20;	author nathan;	state Exp;
branches;
next	1.604;

1.604
date	2004.02.02.12.48.20;	author macro;	state Exp;
branches;
next	1.603;

1.603
date	2004.02.01.22.59.42;	author kkojima;	state Exp;
branches;
next	1.602;

1.602
date	2004.01.25.03.01.42;	author cgd;	state Exp;
branches;
next	1.601;

1.601
date	2004.01.23.16.28.15;	author drow;	state Exp;
branches;
next	1.600;

1.600
date	2004.01.23.13.01.06;	author rsandifo;	state Exp;
branches;
next	1.599;

1.599
date	2004.01.23.12.58.22;	author rsandifo;	state Exp;
branches;
next	1.598;

1.598
date	2004.01.21.11.17.51;	author nickc;	state Exp;
branches;
next	1.597;

1.597
date	2004.01.18.23.13.35;	author amodra;	state Exp;
branches;
next	1.596;

1.596
date	2004.01.16.03.16.06;	author aoliva;	state Exp;
branches;
next	1.595;

1.595
date	2004.01.14.18.01.08;	author macro;	state Exp;
branches;
next	1.594;

1.594
date	2004.01.14.03.06.01;	author ian;	state Exp;
branches;
next	1.593;

1.593
date	2004.01.12.09.30.49;	author rsandifo;	state Exp;
branches;
next	1.592;

1.592
date	2004.01.09.11.53.16;	author pbrook;	state Exp;
branches;
next	1.591;

1.591
date	2004.01.09.02.24.23;	author ian;	state Exp;
branches;
next	1.590;

1.590
date	2004.01.07.18.50.51;	author nickc;	state Exp;
branches;
next	1.589;

1.589
date	2004.01.06.19.19.05;	author aoliva;	state Exp;
branches;
next	1.588;

1.588
date	2004.01.02.17.26.10;	author nickc;	state Exp;
branches;
next	1.587;

1.587
date	2004.01.02.11.16.19;	author amodra;	state Exp;
branches;
next	1.586;

1.586
date	2003.12.22.09.01.48;	author nickc;	state Exp;
branches;
next	1.585;

1.585
date	2003.12.22.08.43.40;	author nickc;	state Exp;
branches;
next	1.584;

1.584
date	2003.12.19.11.44.01;	author nickc;	state Exp;
branches;
next	1.583;

1.583
date	2003.12.18.10.23.09;	author rsandifo;	state Exp;
branches;
next	1.582;

1.582
date	2003.12.17.09.41.06;	author nickc;	state Exp;
branches;
next	1.581;

1.581
date	2003.12.16.17.44.36;	author nickc;	state Exp;
branches;
next	1.580;

1.580
date	2003.12.15.22.03.19;	author cpg;	state Exp;
branches;
next	1.579;

1.579
date	2003.12.15.04.47.23;	author mmitchel;	state Exp;
branches;
next	1.578;

1.578
date	2003.12.13.23.32.25;	author amodra;	state Exp;
branches;
next	1.577;

1.577
date	2003.12.10.22.12.50;	author zack;	state Exp;
branches;
next	1.576;

1.576
date	2003.12.10.12.50.26;	author pbrook;	state Exp;
branches;
next	1.575;

1.575
date	2003.12.06.13.52.23;	author rsandifo;	state Exp;
branches;
next	1.574;

1.574
date	2003.12.06.01.25.29;	author mmitchel;	state Exp;
branches;
next	1.573;

1.573
date	2003.12.05.23.37.01;	author cpg;	state Exp;
branches;
next	1.572;

1.572
date	2003.12.03.17.38.46;	author nickc;	state Exp;
branches;
next	1.571;

1.571
date	2003.12.03.15.07.16;	author nickc;	state Exp;
branches;
next	1.570;

1.570
date	2003.12.01.11.59.12;	author kkojima;	state Exp;
branches;
next	1.569;

1.569
date	2003.11.27.02.30.17;	author aoliva;	state Exp;
branches;
next	1.568;

1.568
date	2003.11.26.21.23.43;	author cpg;	state Exp;
branches;
next	1.567;

1.567
date	2003.11.26.13.18.23;	author nickc;	state Exp;
branches;
next	1.566;

1.566
date	2003.11.25.16.13.36;	author nickc;	state Exp;
branches;
next	1.565;

1.565
date	2003.11.22.04.47.16;	author amodra;	state Exp;
branches;
next	1.564;

1.564
date	2003.11.21.15.05.55;	author amodra;	state Exp;
branches;
next	1.563;

1.563
date	2003.11.18.21.22.54;	author macro;	state Exp;
branches;
next	1.562;

1.562
date	2003.11.14.15.12.42;	author nickc;	state Exp;
branches;
next	1.561;

1.561
date	2003.11.13.14.19.00;	author nickc;	state Exp;
branches;
next	1.560;

1.560
date	2003.11.06.15.30.04;	author nickc;	state Exp;
branches;
next	1.559;

1.559
date	2003.11.05.01.14.25;	author hjl;	state Exp;
branches;
next	1.558;

1.558
date	2003.11.03.14.47.36;	author drow;	state Exp;
branches;
next	1.557;

1.557
date	2003.10.27.10.01.51;	author ciceron;	state Exp;
branches;
next	1.556;

1.556
date	2003.10.23.08.26.19;	author nickc;	state Exp;
branches;
next	1.555;

1.555
date	2003.10.23.06.12.17;	author hjl;	state Exp;
branches;
next	1.554;

1.554
date	2003.10.18.16.00.21;	author hp;	state Exp;
branches;
next	1.553;

1.553
date	2003.10.17.22.45.28;	author ian;	state Exp;
branches;
next	1.552;

1.552
date	2003.10.17.06.57.17;	author ian;	state Exp;
branches;
next	1.551;

1.551
date	2003.10.17.01.36.56;	author hjl;	state Exp;
branches;
next	1.550;

1.550
date	2003.10.10.19.31.17;	author brolley;	state Exp;
branches;
next	1.549;

1.549
date	2003.10.08.18.01.09;	author cgd;	state Exp;
branches;
next	1.548;

1.548
date	2003.10.06.10.18.41;	author nickc;	state Exp;
branches;
next	1.547;

1.547
date	2003.10.04.21.11.47;	author cpg;	state Exp;
branches;
next	1.546;

1.546
date	2003.10.01.02.07.48;	author ths;	state Exp;
branches;
next	1.545;

1.545
date	2003.09.30.21.02.08;	author cgd;	state Exp;
branches;
next	1.544;

1.544
date	2003.09.30.16.17.13;	author cgd;	state Exp;
branches;
next	1.543;

1.543
date	2003.09.29.20.16.52;	author brolley;	state Exp;
branches;
next	1.542;

1.542
date	2003.09.25.13.06.55;	author hp;	state Exp;
branches;
next	1.541;

1.541
date	2003.09.19.23.34.15;	author ths;	state Exp;
branches;
next	1.540;

1.540
date	2003.09.19.15.39.42;	author ths;	state Exp;
branches;
next	1.539;

1.539
date	2003.09.19.15.32.25;	author ths;	state Exp;
branches;
next	1.538;

1.538
date	2003.09.05.07.18.27;	author rsandifo;	state Exp;
branches;
next	1.537;

1.537
date	2003.09.04.11.04.36;	author nickc;	state Exp;
branches;
next	1.536;

1.536
date	2003.09.03.09.32.20;	author nickc;	state Exp;
branches;
next	1.535;

1.535
date	2003.09.03.08.26.49;	author nickc;	state Exp;
branches;
next	1.534;

1.534
date	2003.09.01.17.36.47;	author macro;	state Exp;
branches;
next	1.533;

1.533
date	2003.08.29.20.20.17;	author jakub;	state Exp;
branches;
next	1.532;

1.532
date	2003.08.19.13.05.42;	author nickc;	state Exp;
branches;
next	1.531;

1.531
date	2003.08.17.03.16.22;	author jle;	state Exp;
branches;
next	1.530;

1.530
date	2003.08.14.17.11.07;	author nickc;	state Exp;
branches;
next	1.529;

1.529
date	2003.08.08.14.46.41;	author schwab;	state Exp;
branches;
next	1.528;

1.528
date	2003.08.06.23.59.35;	author jle;	state Exp;
branches;
next	1.527;

1.527
date	2003.08.06.19.53.19;	author jle;	state Exp;
branches;
next	1.526;

1.526
date	2003.08.06.04.37.10;	author jle;	state Exp;
branches;
next	1.525;

1.525
date	2003.08.05.23.02.50;	author jle;	state Exp;
branches;
next	1.524;

1.524
date	2003.08.04.02.45.04;	author jle;	state Exp;
branches;
next	1.523;

1.523
date	2003.08.04.02.23.48;	author jle;	state Exp;
branches;
next	1.522;

1.522
date	2003.08.02.11.34.30;	author amodra;	state Exp;
branches;
next	1.521;

1.521
date	2003.08.02.04.27.50;	author jle;	state Exp;
branches;
next	1.520;

1.520
date	2003.07.29.07.06.07;	author nickc;	state Exp;
branches;
next	1.519;

1.519
date	2003.07.29.02.03.32;	author hjl;	state Exp;
branches;
next	1.518;

1.518
date	2003.07.26.10.22.01;	author amodra;	state Exp;
branches;
next	1.517;

1.517
date	2003.07.23.20.13.38;	author ciceron;	state Exp;
branches;
next	1.516;

1.516
date	2003.07.15.07.50.39;	author rsandifo;	state Exp;
branches;
next	1.515;

1.515
date	2003.07.10.16.46.38;	author jakub;	state Exp;
branches;
next	1.514;

1.514
date	2003.07.10.02.49.45;	author aoliva;	state Exp;
branches;
next	1.513;

1.513
date	2003.07.09.01.27.30;	author cgd;	state Exp;
branches;
next	1.512;

1.512
date	2003.07.07.09.33.01;	author rsandifo;	state Exp;
branches;
next	1.511;

1.511
date	2003.07.04.13.35.34;	author amodra;	state Exp;
branches;
next	1.510;

1.510
date	2003.07.02.00.40.12;	author ths;	state Exp;
branches;
next	1.509;

1.509
date	2003.06.29.19.41.33;	author ths;	state Exp;
branches;
next	1.508;

1.508
date	2003.06.25.15.31.59;	author rsandifo;	state Exp;
branches;
next	1.507;

1.507
date	2003.06.24.13.54.48;	author rsandifo;	state Exp;
branches;
next	1.506;

1.506
date	2003.06.23.20.15.33;	author hjl;	state Exp;
branches;
next	1.505;

1.505
date	2003.06.21.21.38.03;	author ths;	state Exp;
branches;
next	1.504;

1.504
date	2003.06.21.12.20.07;	author cpg;	state Exp;
branches;
next	1.503;

1.503
date	2003.06.18.17.58.48;	author jakub;	state Exp;
branches;
next	1.502;

1.502
date	2003.06.17.11.46.34;	author nickc;	state Exp;
branches;
next	1.501;

1.501
date	2003.06.17.11.16.16;	author nickc;	state Exp;
branches;
next	1.500;

1.500
date	2003.06.15.23.46.37;	author hp;	state Exp;
branches;
next	1.499;

1.499
date	2003.06.13.16.45.55;	author rearnsha;	state Exp;
branches;
next	1.498;

1.498
date	2003.06.12.05.45.50;	author rsandifo;	state Exp;
branches;
next	1.497;

1.497
date	2003.06.11.23.16.57;	author rth;	state Exp;
branches;
next	1.496;

1.496
date	2003.06.11.05.56.13;	author amodra;	state Exp;
branches;
next	1.495;

1.495
date	2003.06.10.19.45.23;	author ths;	state Exp;
branches;
next	1.494;

1.494
date	2003.06.10.13.31.59;	author amodra;	state Exp;
branches;
next	1.493;

1.493
date	2003.06.10.13.24.32;	author amodra;	state Exp;
branches;
next	1.492;

1.492
date	2003.06.10.09.23.46;	author amodra;	state Exp;
branches;
next	1.491;

1.491
date	2003.06.10.07.44.11;	author amodra;	state Exp;
branches;
next	1.490;

1.490
date	2003.06.10.07.33.46;	author rsandifo;	state Exp;
branches;
next	1.489;

1.489
date	2003.06.10.07.27.56;	author rsandifo;	state Exp;
branches;
next	1.488;

1.488
date	2003.06.10.07.22.21;	author rsandifo;	state Exp;
branches;
next	1.487;

1.487
date	2003.06.08.03.59.44;	author rth;	state Exp;
branches;
next	1.486;

1.486
date	2003.06.05.18.52.00;	author msnyder;	state Exp;
branches;
next	1.485;

1.485
date	2003.06.05.03.27.03;	author rth;	state Exp;
branches;
next	1.484;

1.484
date	2003.05.31.19.36.45;	author rth;	state Exp;
branches;
next	1.483;

1.483
date	2003.05.30.03.01.11;	author rth;	state Exp;
branches;
next	1.482;

1.482
date	2003.05.27.16.52.48;	author rth;	state Exp;
branches;
next	1.481;

1.481
date	2003.05.24.04.22.22;	author jle;	state Exp;
branches;
next	1.480;

1.480
date	2003.05.23.11.03.34;	author rearnsha;	state Exp;
branches;
next	1.479;

1.479
date	2003.05.22.12.13.42;	author ths;	state Exp;
branches;
next	1.478;

1.478
date	2003.05.21.19.40.54;	author danglin;	state Exp;
branches;
next	1.477;

1.477
date	2003.05.21.05.01.46;	author jle;	state Exp;
branches;
next	1.476;

1.476
date	2003.05.21.01.42.39;	author jle;	state Exp;
branches;
next	1.475;

1.475
date	2003.05.21.01.28.54;	author jle;	state Exp;
branches;
next	1.474;

1.474
date	2003.05.20.08.01.19;	author amodra;	state Exp;
branches;
next	1.473;

1.473
date	2003.05.19.19.22.25;	author ths;	state Exp;
branches;
next	1.472;

1.472
date	2003.05.16.16.30.25;	author nickc;	state Exp;
branches;
next	1.471;

1.471
date	2003.05.13.01.58.04;	author hp;	state Exp;
branches;
next	1.470;

1.470
date	2003.05.13.01.57.10;	author hp;	state Exp;
branches;
next	1.469;

1.469
date	2003.05.07.19.31.10;	author hjl;	state Exp;
branches;
next	1.468;

1.468
date	2003.05.07.05.08.20;	author aoliva;	state Exp;
branches;
next	1.467;

1.467
date	2003.05.04.06.52.38;	author hjl;	state Exp;
branches;
next	1.466;

1.466
date	2003.05.03.18.51.21;	author hjl;	state Exp;
branches;
next	1.465;

1.465
date	2003.05.03.16.04.12;	author hjl;	state Exp;
branches;
next	1.464;

1.464
date	2003.05.03.06.52.20;	author cgd;	state Exp;
branches;
next	1.463;

1.463
date	2003.05.02.05.29.12;	author cgd;	state Exp;
branches;
next	1.462;

1.462
date	2003.05.02.03.00.49;	author hjl;	state Exp;
branches;
next	1.461;

1.461
date	2003.05.02.02.46.36;	author hjl;	state Exp;
branches;
next	1.460;

1.460
date	2003.05.02.02.43.28;	author hjl;	state Exp;
branches;
next	1.459;

1.459
date	2003.05.01.01.00.30;	author hjl;	state Exp;
branches;
next	1.458;

1.458
date	2003.05.01.00.53.38;	author hjl;	state Exp;
branches;
next	1.457;

1.457
date	2003.04.30.21.38.55;	author hjl;	state Exp;
branches;
next	1.456;

1.456
date	2003.04.29.11.52.37;	author nickc;	state Exp;
branches;
next	1.455;

1.455
date	2003.04.24.17.04.22;	author nickc;	state Exp;
branches
	1.455.2.1;
next	1.454;

1.454
date	2003.04.23.17.51.41;	author nickc;	state Exp;
branches;
next	1.453;

1.453
date	2003.04.11.01.56.51;	author aoliva;	state Exp;
branches;
next	1.452;

1.452
date	2003.04.08.12.47.07;	author nickc;	state Exp;
branches;
next	1.451;

1.451
date	2003.04.08.09.50.07;	author nickc;	state Exp;
branches;
next	1.450;

1.450
date	2003.04.05.13.09.36;	author ciceron;	state Exp;
branches;
next	1.449;

1.449
date	2003.04.05.12.54.00;	author ciceron;	state Exp;
branches;
next	1.448;

1.448
date	2003.04.04.17.35.44;	author cgd;	state Exp;
branches;
next	1.447;

1.447
date	2003.04.03.00.25.01;	author pb;	state Exp;
branches;
next	1.446;

1.446
date	2003.04.02.18.43.16;	author cgd;	state Exp;
branches;
next	1.445;

1.445
date	2003.04.01.15.50.30;	author nickc;	state Exp;
branches;
next	1.444;

1.444
date	2003.03.25.20.55.59;	author nickc;	state Exp;
branches;
next	1.443;

1.443
date	2003.03.12.23.07.21;	author aoliva;	state Exp;
branches;
next	1.442;

1.442
date	2003.03.12.23.05.31;	author aoliva;	state Exp;
branches;
next	1.441;

1.441
date	2003.03.02.21.30.15;	author ths;	state Exp;
branches;
next	1.440;

1.440
date	2003.02.21.19.05.02;	author nickc;	state Exp;
branches;
next	1.439;

1.439
date	2003.02.21.10.28.27;	author rsandifo;	state Exp;
branches;
next	1.438;

1.438
date	2003.02.08.17.05.55;	author rsandifo;	state Exp;
branches;
next	1.437;

1.437
date	2003.02.07.15.06.33;	author rsandifo;	state Exp;
branches;
next	1.436;

1.436
date	2003.02.06.01.49.39;	author amodra;	state Exp;
branches;
next	1.435;

1.435
date	2003.02.04.00.01.52;	author hp;	state Exp;
branches;
next	1.434;

1.434
date	2003.02.02.19.37.20;	author rsandifo;	state Exp;
branches;
next	1.433;

1.433
date	2003.01.27.23.01.55;	author aoliva;	state Exp;
branches;
next	1.432;

1.432
date	2003.01.23.17.34.38;	author sky;	state Exp;
branches;
next	1.431;

1.431
date	2003.01.21.15.54.09;	author nickc;	state Exp;
branches;
next	1.430;

1.430
date	2003.01.20.11.50.37;	author sky;	state Exp;
branches;
next	1.429;

1.429
date	2003.01.07.21.26.28;	author dj;	state Exp;
branches;
next	1.428;

1.428
date	2003.01.03.21.38.49;	author scox;	state Exp;
branches;
next	1.427;

1.427
date	2003.01.02.20.03.08;	author cgd;	state Exp;
branches;
next	1.426;

1.426
date	2002.12.31.08.11.17;	author cgd;	state Exp;
branches;
next	1.425;

1.425
date	2002.12.31.07.42.20;	author cgd;	state Exp;
branches;
next	1.424;

1.424
date	2002.12.31.07.35.09;	author cgd;	state Exp;
branches;
next	1.423;

1.423
date	2002.12.31.07.29.28;	author cgd;	state Exp;
branches;
next	1.422;

1.422
date	2002.12.30.19.25.07;	author nickc;	state Exp;
branches;
next	1.421;

1.421
date	2002.12.27.23.51.48;	author cgd;	state Exp;
branches;
next	1.420;

1.420
date	2002.12.27.08.00.30;	author cgd;	state Exp;
branches;
next	1.419;

1.419
date	2002.12.21.02.50.46;	author cgd;	state Exp;
branches;
next	1.418;

1.418
date	2002.12.20.21.14.03;	author dj;	state Exp;
branches;
next	1.417;

1.417
date	2002.12.18.22.52.47;	author cgd;	state Exp;
branches;
next	1.416;

1.416
date	2002.12.18.21.11.30;	author cgd;	state Exp;
branches;
next	1.415;

1.415
date	2002.12.12.04.40.22;	author aoliva;	state Exp;
branches;
next	1.414;

1.414
date	2002.12.10.00.42.52;	author aldyh;	state Exp;
branches;
next	1.413;

1.413
date	2002.12.08.21.23.42;	author ciceron;	state Exp;
branches;
next	1.412;

1.412
date	2002.12.08.21.08.07;	author ciceron;	state Exp;
branches;
next	1.411;

1.411
date	2002.12.05.23.20.39;	author rth;	state Exp;
branches;
next	1.410;

1.410
date	2002.12.05.18.33.27;	author wilson;	state Exp;
branches;
next	1.409;

1.409
date	2002.12.05.11.47.15;	author amodra;	state Exp;
branches;
next	1.408;

1.408
date	2002.12.05.02.08.01;	author wilson;	state Exp;
branches;
next	1.407;

1.407
date	2002.12.03.18.15.45;	author rth;	state Exp;
branches;
next	1.406;

1.406
date	2002.12.03.11.28.33;	author amodra;	state Exp;
branches;
next	1.405;

1.405
date	2002.12.02.15.42.12;	author nickc;	state Exp;
branches;
next	1.404;

1.404
date	2002.12.01.14.32.48;	author ciceron;	state Exp;
branches;
next	1.403;

1.403
date	2002.12.01.13.46.07;	author ciceron;	state Exp;
branches;
next	1.402;

1.402
date	2002.11.30.14.09.11;	author kkojima;	state Exp;
branches;
next	1.401;

1.401
date	2002.11.29.21.00.50;	author nickc;	state Exp;
branches;
next	1.400;

1.400
date	2002.11.26.08.19.08;	author hp;	state Exp;
branches;
next	1.399;

1.399
date	2002.11.25.21.15.40;	author dj;	state Exp;
branches;
next	1.398;

1.398
date	2002.11.20.03.14.46;	author dj;	state Exp;
branches;
next	1.397;

1.397
date	2002.11.20.02.50.28;	author amodra;	state Exp;
branches;
next	1.396;

1.396
date	2002.11.18.14.00.42;	author sveinse;	state Exp;
branches;
next	1.395;

1.395
date	2002.11.12.04.04.13;	author amodra;	state Exp;
branches;
next	1.394;

1.394
date	2002.11.07.09.20.09;	author nickc;	state Exp;
branches;
next	1.393;

1.393
date	2002.11.06.19.36.19;	author nickc;	state Exp;
branches;
next	1.392;

1.392
date	2002.11.01.20.41.48;	author hjl;	state Exp;
branches;
next	1.391;

1.391
date	2002.10.23.03.11.46;	author hjl;	state Exp;
branches;
next	1.390;

1.390
date	2002.10.22.23.15.58;	author hp;	state Exp;
branches;
next	1.389;

1.389
date	2002.10.21.14.59.30;	author rsandifo;	state Exp;
branches;
next	1.388;

1.388
date	2002.10.12.05.23.45;	author aoliva;	state Exp;
branches;
next	1.387;

1.387
date	2002.10.11.14.42.50;	author kkojima;	state Exp;
branches;
next	1.386;

1.386
date	2002.10.09.19.40.40;	author sclarke;	state Exp;
branches;
next	1.385;

1.385
date	2002.10.03.23.53.09;	author cgd;	state Exp;
branches;
next	1.384;

1.384
date	2002.10.03.04.58.28;	author kkojima;	state Exp;
branches;
next	1.383;

1.383
date	2002.10.03.00.56.06;	author sclarke;	state Exp;
branches;
next	1.382;

1.382
date	2002.10.01.04.37.46;	author hjl;	state Exp;
branches;
next	1.381;

1.381
date	2002.10.01.00.12.25;	author hjl;	state Exp;
branches;
next	1.380;

1.380
date	2002.09.30.21.12.23;	author hjl;	state Exp;
branches;
next	1.379;

1.379
date	2002.09.30.20.59.11;	author hjl;	state Exp;
branches;
next	1.378;

1.378
date	2002.09.30.12.04.53;	author rsandifo;	state Exp;
branches;
next	1.377;

1.377
date	2002.09.28.00.41.26;	author drow;	state Exp;
branches;
next	1.376;

1.376
date	2002.09.27.23.36.00;	author thorpej;	state Exp;
branches;
next	1.375;

1.375
date	2002.09.27.14.53.15;	author hjl;	state Exp;
branches;
next	1.374;

1.374
date	2002.09.26.09.56.33;	author ths;	state Exp;
branches;
next	1.373;

1.373
date	2002.09.26.09.00.07;	author ths;	state Exp;
branches;
next	1.372;

1.372
date	2002.09.23.16.46.32;	author nickc;	state Exp;
branches;
next	1.371;

1.371
date	2002.09.21.07.27.42;	author nickc;	state Exp;
branches;
next	1.370;

1.370
date	2002.09.19.19.01.17;	author jakub;	state Exp;
branches;
next	1.369;

1.369
date	2002.09.19.16.13.38;	author rth;	state Exp;
branches;
next	1.368;

1.368
date	2002.09.18.21.33.07;	author cgd;	state Exp;
branches;
next	1.367;

1.367
date	2002.09.18.21.05.59;	author cgd;	state Exp;
branches;
next	1.366;

1.366
date	2002.09.18.20.50.45;	author cgd;	state Exp;
branches;
next	1.365;

1.365
date	2002.09.17.08.38.26;	author ths;	state Exp;
branches;
next	1.364;

1.364
date	2002.09.09.01.54.42;	author bje;	state Exp;
branches;
next	1.363;

1.363
date	2002.09.05.00.05.43;	author amodra;	state Exp;
branches;
next	1.362;

1.362
date	2002.08.27.23.51.46;	author amodra;	state Exp;
branches;
next	1.361;

1.361
date	2002.08.27.23.35.19;	author amodra;	state Exp;
branches;
next	1.360;

1.360
date	2002.08.26.11.42.12;	author amodra;	state Exp;
branches;
next	1.359;

1.359
date	2002.08.26.11.35.31;	author amodra;	state Exp;
branches;
next	1.358;

1.358
date	2002.08.26.11.27.02;	author amodra;	state Exp;
branches;
next	1.357;

1.357
date	2002.08.26.11.06.31;	author amodra;	state Exp;
branches;
next	1.356;

1.356
date	2002.08.26.10.44.11;	author amodra;	state Exp;
branches;
next	1.355;

1.355
date	2002.08.26.10.37.57;	author amodra;	state Exp;
branches;
next	1.354;

1.354
date	2002.08.22.16.10.04;	author nickc;	state Exp;
branches;
next	1.353;

1.353
date	2002.08.22.05.23.43;	author amodra;	state Exp;
branches;
next	1.352;

1.352
date	2002.08.20.08.28.34;	author rsandifo;	state Exp;
branches;
next	1.351;

1.351
date	2002.08.19.21.01.01;	author ezannoni;	state Exp;
branches;
next	1.350;

1.350
date	2002.08.16.18.19.00;	author sclarke;	state Exp;
branches;
next	1.349;

1.349
date	2002.08.16.18.15.20;	author sclarke;	state Exp;
branches;
next	1.348;

1.348
date	2002.08.16.00.06.03;	author amodra;	state Exp;
branches;
next	1.347;

1.347
date	2002.08.14.07.24.55;	author hjl;	state Exp;
branches;
next	1.346;

1.346
date	2002.08.13.22.45.21;	author ciceron;	state Exp;
branches;
next	1.345;

1.345
date	2002.08.12.08.30.50;	author rsandifo;	state Exp;
branches;
next	1.344;

1.344
date	2002.08.09.11.07.24;	author macro;	state Exp;
branches;
next	1.343;

1.343
date	2002.08.06.11.28.00;	author amodra;	state Exp;
branches;
next	1.342;

1.342
date	2002.08.02.02.33.48;	author hjl;	state Exp;
branches;
next	1.341;

1.341
date	2002.08.01.20.14.48;	author rsandifo;	state Exp;
branches;
next	1.340;

1.340
date	2002.07.29.21.07.11;	author cgd;	state Exp;
branches;
next	1.339;

1.339
date	2002.07.26.04.19.12;	author amodra;	state Exp;
branches;
next	1.338;

1.338
date	2002.07.25.09.48.07;	author rsandifo;	state Exp;
branches;
next	1.337;

1.337
date	2002.07.19.01.51.17;	author hp;	state Exp;
branches;
next	1.336;

1.336
date	2002.07.17.07.26.29;	author hjl;	state Exp;
branches;
next	1.335;

1.335
date	2002.07.08.10.40.35;	author amodra;	state Exp;
branches
	1.335.2.1;
next	1.334;

1.334
date	2002.07.02.23.50.13;	author amodra;	state Exp;
branches;
next	1.333;

1.333
date	2002.06.18.21.14.43;	author brolley;	state Exp;
branches;
next	1.332;

1.332
date	2002.06.17.15.25.39;	author amylaar;	state Exp;
branches;
next	1.331;

1.331
date	2002.06.14.14.08.53;	author drow;	state Exp;
branches;
next	1.330;

1.330
date	2002.06.12.16.10.08;	author trix;	state Exp;
branches;
next	1.329;

1.329
date	2002.06.06.06.49.46;	author law;	state Exp;
branches;
next	1.328;

1.328
date	2002.05.31.18.27.02;	author cgd;	state Exp;
branches;
next	1.327;

1.327
date	2002.05.31.16.48.04;	author cgd;	state Exp;
branches;
next	1.326;

1.326
date	2002.05.31.06.35.36;	author cgd;	state Exp;
branches;
next	1.325;

1.325
date	2002.05.31.01.17.16;	author cgd;	state Exp;
branches;
next	1.324;

1.324
date	2002.05.30.22.01.35;	author rth;	state Exp;
branches;
next	1.323;

1.323
date	2002.05.30.16.12.16;	author trix;	state Exp;
branches;
next	1.322;

1.322
date	2002.05.28.14.08.03;	author nickc;	state Exp;
branches;
next	1.321;

1.321
date	2002.05.24.03.05.47;	author trix;	state Exp;
branches;
next	1.320;

1.320
date	2002.05.23.17.25.19;	author hjl;	state Exp;
branches;
next	1.319;

1.319
date	2002.05.23.17.12.48;	author hjl;	state Exp;
branches;
next	1.318;

1.318
date	2002.05.22.18.14.34;	author hjl;	state Exp;
branches;
next	1.317;

1.317
date	2002.05.22.13.31.36;	author amylaar;	state Exp;
branches;
next	1.316;

1.316
date	2002.05.21.23.54.43;	author ths;	state Exp;
branches;
next	1.315;

1.315
date	2002.05.20.17.05.34;	author nickc;	state Exp;
branches;
next	1.314;

1.314
date	2002.05.13.01.24.54;	author amodra;	state Exp;
branches;
next	1.313;

1.313
date	2002.05.02.09.11.14;	author nickc;	state Exp;
branches;
next	1.312;

1.312
date	2002.04.23.17.20.20;	author hjl;	state Exp;
branches;
next	1.311;

1.311
date	2002.04.23.16.19.07;	author hjl;	state Exp;
branches;
next	1.310;

1.310
date	2002.04.22.22.29.46;	author cgd;	state Exp;
branches;
next	1.309;

1.309
date	2002.04.22.21.14.39;	author cgd;	state Exp;
branches;
next	1.308;

1.308
date	2002.04.19.09.40.33;	author nickc;	state Exp;
branches;
next	1.307;

1.307
date	2002.04.17.14.43.25;	author mrg;	state Exp;
branches;
next	1.306;

1.306
date	2002.04.04.08.23.29;	author nickc;	state Exp;
branches;
next	1.305;

1.305
date	2002.03.19.12.17.53;	author aj;	state Exp;
branches;
next	1.304;

1.304
date	2002.03.16.03.09.16;	author cgd;	state Exp;
branches;
next	1.303;

1.303
date	2002.03.16.02.09.36;	author cgd;	state Exp;
branches;
next	1.302;

1.302
date	2002.03.14.10.05.23;	author hp;	state Exp;
branches;
next	1.301;

1.301
date	2002.03.05.03.12.17;	author amodra;	state Exp;
branches;
next	1.300;

1.300
date	2002.03.01.08.10.03;	author nickc;	state Exp;
branches;
next	1.299;

1.299
date	2002.02.26.22.17.52;	author cgd;	state Exp;
branches;
next	1.298;

1.298
date	2002.02.25.13.21.36;	author ths;	state Exp;
branches;
next	1.297;

1.297
date	2002.02.25.05.10.44;	author amodra;	state Exp;
branches;
next	1.296;

1.296
date	2002.02.24.17.11.19;	author hp;	state Exp;
branches;
next	1.295;

1.295
date	2002.02.22.11.37.36;	author nickc;	state Exp;
branches;
next	1.294;

1.294
date	2002.02.21.03.57.33;	author trix;	state Exp;
branches;
next	1.293;

1.293
date	2002.02.18.23.44.11;	author drow;	state Exp;
branches;
next	1.292;

1.292
date	2002.02.14.22.41.02;	author trix;	state Exp;
branches;
next	1.291;

1.291
date	2002.02.13.09.00.17;	author bje;	state Exp;
branches;
next	1.290;

1.290
date	2002.02.13.08.59.25;	author bje;	state Exp;
branches;
next	1.289;

1.289
date	2002.02.12.11.09.40;	author amodra;	state Exp;
branches;
next	1.288;

1.288
date	2002.02.09.22.55.05;	author rth;	state Exp;
branches
	1.288.2.1;
next	1.287;

1.287
date	2002.02.09.07.18.54;	author cgd;	state Exp;
branches;
next	1.286;

1.286
date	2002.02.08.06.46.09;	author aoliva;	state Exp;
branches;
next	1.285;

1.285
date	2002.02.06.06.18.26;	author aoliva;	state Exp;
branches;
next	1.284;

1.284
date	2002.02.05.03.35.17;	author amodra;	state Exp;
branches;
next	1.283;

1.283
date	2002.02.04.12.29.31;	author aoliva;	state Exp;
branches;
next	1.282;

1.282
date	2002.02.04.04.01.31;	author hp;	state Exp;
branches;
next	1.281;

1.281
date	2002.02.01.16.29.20;	author amodra;	state Exp;
branches;
next	1.280;

1.280
date	2002.02.01.08.16.02;	author hp;	state Exp;
branches;
next	1.279;

1.279
date	2002.01.23.01.53.00;	author aoliva;	state Exp;
branches;
next	1.278;

1.278
date	2002.01.22.09.45.47;	author rth;	state Exp;
branches;
next	1.277;

1.277
date	2002.01.21.14.03.25;	author amodra;	state Exp;
branches;
next	1.276;

1.276
date	2002.01.19.14.25.47;	author rearnsha;	state Exp;
branches;
next	1.275;

1.275
date	2002.01.18.17.01.54;	author rearnsha;	state Exp;
branches;
next	1.274;

1.274
date	2002.01.17.17.41.24;	author twall;	state Exp;
branches;
next	1.273;

1.273
date	2002.01.15.16.05.34;	author rearnsha;	state Exp;
branches;
next	1.272;

1.272
date	2002.01.15.12.56.30;	author nickc;	state Exp;
branches;
next	1.271;

1.271
date	2002.01.15.12.27.52;	author nickc;	state Exp;
branches;
next	1.270;

1.270
date	2002.01.14.17.40.49;	author nickc;	state Exp;
branches;
next	1.269;

1.269
date	2002.01.14.17.39.01;	author rearnsha;	state Exp;
branches;
next	1.268;

1.268
date	2002.01.14.15.00.17;	author rearnsha;	state Exp;
branches;
next	1.267;

1.267
date	2002.01.11.18.00.15;	author rearnsha;	state Exp;
branches;
next	1.266;

1.266
date	2002.01.11.07.24.58;	author mrg;	state Exp;
branches;
next	1.265;

1.265
date	2002.01.09.16.59.05;	author rearnsha;	state Exp;
branches;
next	1.264;

1.264
date	2002.01.09.07.30.35;	author hjl;	state Exp;
branches;
next	1.263;

1.263
date	2002.01.05.19.06.52;	author drow;	state Exp;
branches;
next	1.262;

1.262
date	2002.01.02.18.59.30;	author cgd;	state Exp;
branches;
next	1.261;

1.261
date	2001.12.21.11.40.51;	author nickc;	state Exp;
branches;
next	1.260;

1.260
date	2001.12.20.17.28.20;	author aoliva;	state Exp;
branches;
next	1.259;

1.259
date	2001.12.18.10.40.12;	author hp;	state Exp;
branches;
next	1.258;

1.258
date	2001.12.10.12.33.42;	author schwab;	state Exp;
branches;
next	1.257;

1.257
date	2001.12.08.03.45.56;	author geoffk;	state Exp;
branches;
next	1.256;

1.256
date	2001.12.08.02.10.58;	author amodra;	state Exp;
branches;
next	1.255;

1.255
date	2001.12.08.00.25.26;	author amodra;	state Exp;
branches;
next	1.254;

1.254
date	2001.12.07.16.14.03;	author law;	state Exp;
branches;
next	1.253;

1.253
date	2001.12.05.11.58.38;	author rearnsha;	state Exp;
branches;
next	1.252;

1.252
date	2001.11.25.15.21.58;	author aj;	state Exp;
branches;
next	1.251;

1.251
date	2001.11.23.16.26.00;	author law;	state Exp;
branches;
next	1.250;

1.250
date	2001.11.23.16.18.12;	author law;	state Exp;
branches;
next	1.249;

1.249
date	2001.11.17.02.59.05;	author cgd;	state Exp;
branches;
next	1.248;

1.248
date	2001.11.15.01.08.51;	author amodra;	state Exp;
branches;
next	1.247;

1.247
date	2001.11.13.14.23.41;	author twall;	state Exp;
branches;
next	1.246;

1.246
date	2001.11.13.14.22.42;	author twall;	state Exp;
branches;
next	1.245;

1.245
date	2001.11.12.22.22.20;	author ths;	state Exp;
branches;
next	1.244;

1.244
date	2001.11.11.11.29.21;	author hp;	state Exp;
branches;
next	1.243;

1.243
date	2001.11.04.19.06.38;	author cgd;	state Exp;
branches;
next	1.242;

1.242
date	2001.11.02.17.07.51;	author nickc;	state Exp;
branches;
next	1.241;

1.241
date	2001.11.01.09.52.02;	author ciceron;	state Exp;
branches;
next	1.240;

1.240
date	2001.11.01.01.33.47;	author cgd;	state Exp;
branches;
next	1.239;

1.239
date	2001.10.31.08.58.59;	author nickc;	state Exp;
branches;
next	1.238;

1.238
date	2001.10.31.04.30.34;	author hp;	state Exp;
branches;
next	1.237;

1.237
date	2001.10.30.15.20.07;	author nickc;	state Exp;
branches;
next	1.236;

1.236
date	2001.10.25.01.22.19;	author cgd;	state Exp;
branches;
next	1.235;

1.235
date	2001.10.24.20.12.35;	author cgd;	state Exp;
branches;
next	1.234;

1.234
date	2001.10.23.19.20.28;	author cgd;	state Exp;
branches;
next	1.233;

1.233
date	2001.10.21.06.16.43;	author hjl;	state Exp;
branches;
next	1.232;

1.232
date	2001.10.18.01.42.16;	author cgd;	state Exp;
branches;
next	1.231;

1.231
date	2001.10.17.13.13.15;	author mrg;	state Exp;
branches;
next	1.230;

1.230
date	2001.10.16.02.39.43;	author hp;	state Exp;
branches;
next	1.229;

1.229
date	2001.10.14.01.19.08;	author mrg;	state Exp;
branches;
next	1.228;

1.228
date	2001.10.13.01.59.08;	author mrg;	state Exp;
branches;
next	1.227;

1.227
date	2001.10.09.12.25.48;	author nickc;	state Exp;
branches;
next	1.226;

1.226
date	2001.10.08.19.00.14;	author aldyh;	state Exp;
branches;
next	1.225;

1.225
date	2001.10.04.00.57.00;	author ths;	state Exp;
branches;
next	1.224;

1.224
date	2001.09.30.04.09.34;	author hjl;	state Exp;
branches;
next	1.223;

1.223
date	2001.09.18.15.41.33;	author nickc;	state Exp;
branches;
next	1.222;

1.222
date	2001.09.08.04.16.11;	author echristo;	state Exp;
branches;
next	1.221;

1.221
date	2001.09.08.02.34.56;	author echristo;	state Exp;
branches;
next	1.220;

1.220
date	2001.09.07.05.54.12;	author ths;	state Exp;
branches;
next	1.219;

1.219
date	2001.09.07.05.00.36;	author ths;	state Exp;
branches;
next	1.218;

1.218
date	2001.09.06.20.02.19;	author ths;	state Exp;
branches;
next	1.217;

1.217
date	2001.09.05.02.39.43;	author rth;	state Exp;
branches;
next	1.216;

1.216
date	2001.09.05.02.05.05;	author law;	state Exp;
branches;
next	1.215;

1.215
date	2001.08.30.21.08.43;	author amylaar;	state Exp;
branches;
next	1.214;

1.214
date	2001.08.29.18.11.19;	author law;	state Exp;
branches;
next	1.213;

1.213
date	2001.08.27.10.51.17;	author amodra;	state Exp;
branches;
next	1.212;

1.212
date	2001.08.25.00.48.49;	author ths;	state Exp;
branches;
next	1.211;

1.211
date	2001.08.17.20.37.05;	author hjl;	state Exp;
branches;
next	1.210;

1.210
date	2001.08.16.19.24.32;	author ths;	state Exp;
branches;
next	1.209;

1.209
date	2001.08.12.08.59.29;	author nickc;	state Exp;
branches;
next	1.208;

1.208
date	2001.08.10.20.38.32;	author hjl;	state Exp;
branches;
next	1.207;

1.207
date	2001.08.10.16.28.03;	author rsandifo;	state Exp;
branches;
next	1.206;

1.206
date	2001.08.10.02.46.48;	author amodra;	state Exp;
branches;
next	1.205;

1.205
date	2001.08.07.12.36.12;	author ths;	state Exp;
branches;
next	1.204;

1.204
date	2001.08.05.02.22.09;	author hjl;	state Exp;
branches;
next	1.203;

1.203
date	2001.08.05.00.53.27;	author hjl;	state Exp;
branches;
next	1.202;

1.202
date	2001.08.03.18.35.55;	author rsandifo;	state Exp;
branches;
next	1.201;

1.201
date	2001.08.02.10.16.49;	author rsandifo;	state Exp;
branches;
next	1.200;

1.200
date	2001.08.01.01.51.27;	author amodra;	state Exp;
branches;
next	1.199;

1.199
date	2001.07.30.13.59.00;	author rsandifo;	state Exp;
branches;
next	1.198;

1.198
date	2001.07.27.06.26.22;	author cgd;	state Exp;
branches;
next	1.197;

1.197
date	2001.07.26.04.14.44;	author amodra;	state Exp;
branches;
next	1.196;

1.196
date	2001.07.23.07.43.09;	author amodra;	state Exp;
branches;
next	1.195;

1.195
date	2001.07.16.19.06.09;	author pb;	state Exp;
branches;
next	1.194;

1.194
date	2001.07.14.15.50.41;	author nickc;	state Exp;
branches;
next	1.193;

1.193
date	2001.07.09.08.19.18;	author nickc;	state Exp;
branches;
next	1.192;

1.192
date	2001.07.04.09.49.28;	author rsandifo;	state Exp;
branches;
next	1.191;

1.191
date	2001.07.03.18.49.03;	author hjl;	state Exp;
branches;
next	1.190;

1.190
date	2001.07.01.06.16.55;	author bje;	state Exp;
branches;
next	1.189;

1.189
date	2001.06.29.21.27.42;	author echristo;	state Exp;
branches;
next	1.188;

1.188
date	2001.06.21.19.46.54;	author nickc;	state Exp;
branches;
next	1.187;

1.187
date	2001.06.20.13.34.09;	author trix;	state Exp;
branches;
next	1.186;

1.186
date	2001.06.13.13.42.42;	author aj;	state Exp;
branches;
next	1.185;

1.185
date	2001.06.12.10.35.23;	author nickc;	state Exp;
branches;
next	1.184;

1.184
date	2001.06.12.02.03.09;	author amodra;	state Exp;
branches;
next	1.183;

1.183
date	2001.06.11.01.07.02;	author hjl;	state Exp;
branches;
next	1.182;

1.182
date	2001.06.10.23.05.47;	author hjl;	state Exp;
branches;
next	1.181;

1.181
date	2001.06.10.18.16.50;	author hjl;	state Exp;
branches;
next	1.180;

1.180
date	2001.06.09.06.25.53;	author hjl;	state Exp;
branches;
next	1.179;

1.179
date	2001.06.09.04.54.16;	author hjl;	state Exp;
branches;
next	1.178;

1.178
date	2001.06.09.03.28.32;	author hjl;	state Exp;
branches;
next	1.177;

1.177
date	2001.06.08.15.27.24;	author amodra;	state Exp;
branches;
next	1.176;

1.176
date	2001.06.08.01.08.05;	author hjl;	state Exp;
branches;
next	1.175;

1.175
date	2001.06.07.18.06.59;	author hjl;	state Exp;
branches;
next	1.174;

1.174
date	2001.06.07.17.18.54;	author hjl;	state Exp;
branches;
next	1.173;

1.173
date	2001.06.07.16.48.18;	author hjl;	state Exp;
branches;
next	1.172;

1.172
date	2001.06.07.16.44.12;	author hjl;	state Exp;
branches;
next	1.171;

1.171
date	2001.06.07.00.57.10;	author hjl;	state Exp;
branches;
next	1.170;

1.170
date	2001.06.06.21.07.13;	author hjl;	state Exp;
branches;
next	1.169;

1.169
date	2001.06.04.18.19.59;	author hjl;	state Exp;
branches;
next	1.168;

1.168
date	2001.06.02.18.46.13;	author hjl;	state Exp;
branches;
next	1.167;

1.167
date	2001.05.28.09.23.54;	author nickc;	state Exp;
branches;
next	1.166;

1.166
date	2001.05.27.09.34.06;	author hp;	state Exp;
branches;
next	1.165;

1.165
date	2001.05.25.18.39.01;	author hjl;	state Exp;
branches;
next	1.164;

1.164
date	2001.05.24.20.08.04;	author hjl;	state Exp;
branches;
next	1.163;

1.163
date	2001.05.24.20.02.14;	author hjl;	state Exp;
branches;
next	1.162;

1.162
date	2001.05.23.05.33.31;	author amodra;	state Exp;
branches;
next	1.161;

1.161
date	2001.05.15.12.11.12;	author nickc;	state Exp;
branches;
next	1.160;

1.160
date	2001.05.14.22.37.31;	author rth;	state Exp;
branches;
next	1.159;

1.159
date	2001.05.12.15.14.52;	author amodra;	state Exp;
branches;
next	1.158;

1.158
date	2001.05.12.12.07.09;	author amodra;	state Exp;
branches;
next	1.157;

1.157
date	2001.05.12.09.52.38;	author amodra;	state Exp;
branches;
next	1.156;

1.156
date	2001.05.10.02.31.01;	author hp;	state Exp;
branches;
next	1.155;

1.155
date	2001.05.04.11.10.55;	author amodra;	state Exp;
branches;
next	1.154;

1.154
date	2001.05.02.18.14.30;	author nickc;	state Exp;
branches;
next	1.153;

1.153
date	2001.04.05.19.11.07;	author hp;	state Exp;
branches;
next	1.152;

1.152
date	2001.04.05.19.07.00;	author hp;	state Exp;
branches;
next	1.151;

1.151
date	2001.04.05.18.19.12;	author hp;	state Exp;
branches;
next	1.150;

1.150
date	2001.04.05.18.15.04;	author hp;	state Exp;
branches;
next	1.149;

1.149
date	2001.04.05.15.31.45;	author hp;	state Exp;
branches;
next	1.148;

1.148
date	2001.03.31.06.47.54;	author amodra;	state Exp;
branches;
next	1.147;

1.147
date	2001.03.30.17.52.10;	author hjl;	state Exp;
branches;
next	1.146;

1.146
date	2001.03.30.01.20.40;	author hjl;	state Exp;
branches;
next	1.145;

1.145
date	2001.03.27.19.33.52;	author nickc;	state Exp;
branches;
next	1.144;

1.144
date	2001.03.26.19.47.44;	author cgd;	state Exp;
branches;
next	1.143;

1.143
date	2001.03.24.06.29.16;	author amodra;	state Exp;
branches;
next	1.142;

1.142
date	2001.03.23.05.58.38;	author hp;	state Exp;
branches;
next	1.141;

1.141
date	2001.03.23.05.39.37;	author hp;	state Exp;
branches;
next	1.140;

1.140
date	2001.03.19.12.20.10;	author amodra;	state Exp;
branches;
next	1.139;

1.139
date	2001.03.19.10.02.06;	author schwab;	state Exp;
branches;
next	1.138;

1.138
date	2001.03.18.21.28.55;	author hjl;	state Exp;
branches;
next	1.137;

1.137
date	2001.03.18.10.18.24;	author ciceron;	state Exp;
branches;
next	1.136;

1.136
date	2001.02.26.17.40.07;	author hjl;	state Exp;
branches;
next	1.135;

1.135
date	2001.02.23.21.47.33;	author hjl;	state Exp;
branches;
next	1.134;

1.134
date	2001.02.18.01.57.20;	author cgd;	state Exp;
branches;
next	1.133;

1.133
date	2001.02.18.01.52.11;	author cgd;	state Exp;
branches;
next	1.132;

1.132
date	2001.02.08.18.55.29;	author ciceron;	state Exp;
branches;
next	1.131;

1.131
date	2001.02.04.13.53.49;	author ciceron;	state Exp;
branches;
next	1.130;

1.130
date	2001.01.12.03.34.48;	author amodra;	state Exp;
branches
	1.130.2.1;
next	1.129;

1.129
date	2001.01.11.21.20.18;	author nickc;	state Exp;
branches;
next	1.128;

1.128
date	2001.01.11.20.19.17;	author ciceron;	state Exp;
branches;
next	1.127;

1.127
date	2001.01.11.19.48.41;	author ciceron;	state Exp;
branches;
next	1.126;

1.126
date	2001.01.11.18.42.58;	author nickc;	state Exp;
branches;
next	1.125;

1.125
date	2001.01.10.14.32.32;	author hubicka;	state Exp;
branches;
next	1.124;

1.124
date	2001.01.09.22.08.41;	author nickc;	state Exp;
branches;
next	1.123;

1.123
date	2001.01.09.11.13.42;	author pb;	state Exp;
branches;
next	1.122;

1.122
date	2001.01.06.12.36.04;	author hubicka;	state Exp;
branches;
next	1.121;

1.121
date	2001.01.02.19.39.15;	author nickc;	state Exp;
branches;
next	1.120;

1.120
date	2001.01.01.13.43.05;	author pb;	state Exp;
branches;
next	1.119;

1.119
date	2000.12.22.21.03.24;	author hjl;	state Exp;
branches;
next	1.118;

1.118
date	2000.12.12.22.56.35;	author wilson;	state Exp;
branches;
next	1.117;

1.117
date	2000.12.12.19.32.55;	author nickc;	state Exp;
branches;
next	1.116;

1.116
date	2000.12.11.21.49.35;	author hjl;	state Exp;
branches;
next	1.115;

1.115
date	2000.12.09.22.55.51;	author nickc;	state Exp;
branches;
next	1.114;

1.114
date	2000.12.03.22.10.02;	author nickc;	state Exp;
branches;
next	1.113;

1.113
date	2000.12.03.21.34.08;	author nickc;	state Exp;
branches;
next	1.112;

1.112
date	2000.12.03.20.57.19;	author nickc;	state Exp;
branches;
next	1.111;

1.111
date	2000.12.03.20.51.44;	author nickc;	state Exp;
branches;
next	1.110;

1.110
date	2000.12.03.20.50.34;	author nickc;	state Exp;
branches;
next	1.109;

1.109
date	2000.12.01.23.52.12;	author nickc;	state Exp;
branches;
next	1.108;

1.108
date	2000.12.01.19.11.20;	author nickc;	state Exp;
branches;
next	1.107;

1.107
date	2000.12.01.18.57.08;	author nickc;	state Exp;
branches;
next	1.106;

1.106
date	2000.12.01.03.08.32;	author dnovillo;	state Exp;
branches;
next	1.105;

1.105
date	2000.11.28.23.39.18;	author hp;	state Exp;
branches;
next	1.104;

1.104
date	2000.11.26.21.18.14;	author ciceron;	state Exp;
branches;
next	1.103;

1.103
date	2000.11.25.00.21.40;	author nickc;	state Exp;
branches;
next	1.102;

1.102
date	2000.11.20.21.16.26;	author hjl;	state Exp;
branches;
next	1.101;

1.101
date	2000.11.16.22.25.13;	author hjl;	state Exp;
branches;
next	1.100;

1.100
date	2000.11.16.19.28.10;	author hjl;	state Exp;
branches;
next	1.99;

1.99
date	2000.11.13.21.36.14;	author hjl;	state Exp;
branches;
next	1.98;

1.98
date	2000.11.11.16.02.33;	author hp;	state Exp;
branches;
next	1.97;

1.97
date	2000.10.25.01.39.11;	author dnovillo;	state Exp;
branches;
next	1.96;

1.96
date	2000.10.19.03.19.51;	author amodra;	state Exp;
branches;
next	1.95;

1.95
date	2000.10.18.19.46.27;	author hjl;	state Exp;
branches;
next	1.94;

1.94
date	2000.10.15.06.17.36;	author dnovillo;	state Exp;
branches;
next	1.93;

1.93
date	2000.09.29.18.40.19;	author hp;	state Exp;
branches;
next	1.92;

1.92
date	2000.09.28.10.16.32;	author amodra;	state Exp;
branches;
next	1.91;

1.91
date	2000.09.28.08.43.21;	author amodra;	state Exp;
branches;
next	1.90;

1.90
date	2000.09.22.22.34.39;	author wilson;	state Exp;
branches;
next	1.89;

1.89
date	2000.09.22.19.43.47;	author wilson;	state Exp;
branches;
next	1.88;

1.88
date	2000.09.14.21.37.04;	author twall;	state Exp;
branches;
next	1.87;

1.87
date	2000.09.05.03.53.02;	author amodra;	state Exp;
branches;
next	1.86;

1.86
date	2000.08.29.12.15.50;	author twall;	state Exp;
branches;
next	1.85;

1.85
date	2000.08.22.19.11.55;	author hjl;	state Exp;
branches;
next	1.84;

1.84
date	2000.08.16.23.20.14;	author wilson;	state Exp;
branches;
next	1.83;

1.83
date	2000.08.16.19.02.00;	author nickc;	state Exp;
branches;
next	1.82;

1.82
date	2000.07.21.00.57.47;	author hp;	state Exp;
branches;
next	1.81;

1.81
date	2000.07.20.17.53.38;	author hp;	state Exp;
branches;
next	1.80;

1.80
date	2000.07.19.04.55.13;	author amodra;	state Exp;
branches;
next	1.79;

1.79
date	2000.07.18.22.07.53;	author nickc;	state Exp;
branches;
next	1.78;

1.78
date	2000.07.10.15.21.05;	author amodra;	state Exp;
branches;
next	1.77;

1.77
date	2000.07.05.22.28.06;	author nickc;	state Exp;
branches;
next	1.76;

1.76
date	2000.06.29.23.44.41;	author nickc;	state Exp;
branches;
next	1.75;

1.75
date	2000.06.27.18.21.39;	author nickc;	state Exp;
branches;
next	1.74;

1.74
date	2000.06.20.13.52.30;	author twall;	state Exp;
branches;
next	1.73;

1.73
date	2000.06.19.01.22.40;	author nickc;	state Exp;
branches;
next	1.72;

1.72
date	2000.06.17.12.09.58;	author amodra;	state Exp;
branches;
next	1.71;

1.71
date	2000.06.14.18.12.26;	author hjl;	state Exp;
branches;
next	1.70;

1.70
date	2000.06.14.18.08.24;	author nickc;	state Exp;
branches;
next	1.69;

1.69
date	2000.06.13.21.23.27;	author nickc;	state Exp;
branches;
next	1.68;

1.68
date	2000.06.04.23.14.30;	author amodra;	state Exp;
branches;
next	1.67;

1.67
date	2000.05.21.18.06.40;	author hp;	state Exp;
branches;
next	1.66;

1.66
date	2000.05.15.19.25.22;	author nickc;	state Exp;
branches;
next	1.65;

1.65
date	2000.05.11.01.55.11;	author amodra;	state Exp;
branches;
next	1.64;

1.64
date	2000.05.08.10.11.18;	author amodra;	state Exp;
branches;
next	1.63;

1.63
date	2000.05.01.23.56.49;	author amodra;	state Exp;
branches;
next	1.62;

1.62
date	2000.05.01.18.08.38;	author nickc;	state Exp;
branches;
next	1.61;

1.61
date	2000.04.25.07.19.46;	author amodra;	state Exp;
branches;
next	1.60;

1.60
date	2000.04.25.01.52.27;	author wilson;	state Exp;
branches;
next	1.59;

1.59
date	2000.04.24.23.53.53;	author wilson;	state Exp;
branches;
next	1.58;

1.58
date	2000.04.23.02.53.35;	author twall;	state Exp;
branches;
next	1.57;

1.57
date	2000.04.21.20.22.22;	author wilson;	state Exp;
branches;
next	1.56;

1.56
date	2000.04.03.12.20.55;	author amodra;	state Exp;
branches;
next	1.55;

1.55
date	2000.04.01.23.46.53;	author aoliva;	state Exp;
branches
	1.55.2.1;
next	1.54;

1.54
date	2000.03.31.18.54.24;	author aoliva;	state Exp;
branches;
next	1.53;

1.53
date	2000.03.29.18.25.37;	author nickc;	state Exp;
branches;
next	1.52;

1.52
date	2000.03.27.23.47.09;	author amodra;	state Exp;
branches;
next	1.51;

1.51
date	2000.03.11.02.16.25;	author geoffk;	state Exp;
branches;
next	1.50;

1.50
date	2000.02.26.00.49.26;	author hjl;	state Exp;
branches;
next	1.49;

1.49
date	2000.02.25.11.55.50;	author amodra;	state Exp;
branches;
next	1.48;

1.48
date	2000.02.25.11.41.12;	author amodra;	state Exp;
branches;
next	1.47;

1.47
date	2000.01.31.22.14.50;	author nickc;	state Exp;
branches;
next	1.46;

1.46
date	2000.01.21.22.58.04;	author amodra;	state Exp;
branches;
next	1.45;

1.45
date	2000.01.21.10.18.33;	author amodra;	state Exp;
branches;
next	1.44;

1.44
date	2000.01.15.12.06.02;	author amodra;	state Exp;
branches;
next	1.43;

1.43
date	2000.01.15.04.46.00;	author amodra;	state Exp;
branches;
next	1.42;

1.42
date	99.12.01.10.41.43;	author law;	state Exp;
branches;
next	1.41;

1.41
date	99.11.15.15.47.48;	author gavin;	state Exp;
branches;
next	1.40;

1.40
date	99.11.01.17.10.27;	author nickc;	state Exp;
branches;
next	1.39;

1.39
date	99.11.01.16.42.15;	author nickc;	state Exp;
branches;
next	1.38;

1.38
date	99.10.21.10.44.39;	author nickc;	state Exp;
branches;
next	1.37;

1.37
date	99.10.11.03.40.17;	author geoffk;	state Exp;
branches;
next	1.36;

1.36
date	99.10.07.06.17.03;	author dnovillo;	state Exp;
branches;
next	1.35;

1.35
date	99.10.07.02.57.32;	author geoffk;	state Exp;
branches;
next	1.34;

1.34
date	99.10.05.01.27.35;	author devans;	state Exp;
branches;
next	1.33;

1.33
date	99.09.18.00.44.45;	author amodra;	state Exp;
branches;
next	1.32;

1.32
date	99.09.12.05.32.03;	author ian;	state Exp;
branches;
next	1.31;

1.31
date	99.09.04.17.18.59;	author ian;	state Exp;
branches;
next	1.30;

1.30
date	99.09.02.10.11.09;	author nickc;	state Exp;
branches;
next	1.29;

1.29
date	99.09.01.21.17.35;	author clm;	state Exp;
branches;
next	1.28;

1.28
date	99.09.01.14.57.02;	author amodra;	state Exp;
branches;
next	1.27;

1.27
date	99.08.30.21.15.00;	author law;	state Exp;
branches;
next	1.26;

1.26
date	99.08.30.21.00.58;	author law;	state Exp;
branches;
next	1.25;

1.25
date	99.08.30.20.08.59;	author law;	state Exp;
branches;
next	1.24;

1.24
date	99.08.30.18.20.18;	author law;	state Exp;
branches;
next	1.23;

1.23
date	99.08.30.14.09.43;	author amodra;	state Exp;
branches;
next	1.22;

1.22
date	99.08.29.23.44.27;	author amodra;	state Exp;
branches;
next	1.21;

1.21
date	99.08.28.11.00.36;	author law;	state Exp;
branches;
next	1.20;

1.20
date	99.08.28.10.32.42;	author law;	state Exp;
branches;
next	1.19;

1.19
date	99.08.28.08.49.58;	author law;	state Exp;
branches;
next	1.18;

1.18
date	99.08.28.06.44.31;	author law;	state Exp;
branches;
next	1.17;

1.17
date	99.08.28.06.18.39;	author law;	state Exp;
branches;
next	1.16;

1.16
date	99.08.20.11.59.18;	author amodra;	state Exp;
branches;
next	1.15;

1.15
date	99.08.17.07.59.00;	author ian;	state Exp;
branches;
next	1.14;

1.14
date	99.08.09.04.40.59;	author ian;	state Exp;
branches;
next	1.13;

1.13
date	99.07.27.11.43.17;	author amodra;	state Exp;
branches;
next	1.12;

1.12
date	99.06.13.17.13.17;	author ian;	state Exp;
branches;
next	1.11;

1.11
date	99.06.12.10.43.38;	author ian;	state Exp;
branches;
next	1.10;

1.10
date	99.06.11.21.02.54;	author ian;	state Exp;
branches;
next	1.9;

1.9
date	99.06.10.21.14.55;	author ian;	state Exp;
branches;
next	1.8;

1.8
date	99.06.10.21.08.00;	author rth;	state Exp;
branches;
next	1.7;

1.7
date	99.06.10.13.48.14;	author rth;	state Exp;
branches;
next	1.6;

1.6
date	99.06.05.23.14.41;	author rth;	state Exp;
branches;
next	1.5;

1.5
date	99.06.04.07.12.37;	author nickc;	state Exp;
branches;
next	1.4;

1.4
date	99.05.27.21.58.09;	author ian;	state Exp;
branches;
next	1.3;

1.3
date	99.05.17.09.26.35;	author nickc;	state Exp;
branches;
next	1.2;

1.2
date	99.05.13.06.00.16;	author amodra;	state Exp;
branches;
next	1.1;

1.1
date	99.05.03.07.28.45;	author rth;	state Exp;
branches
	1.1.1.1;
next	;

1.2298.2.1
date	2013.10.12.17.11.39;	author hjl;	state Exp;
branches;
next	;

1.2057.2.1
date	2012.07.30.17.48.48;	author hjl;	state Exp;
branches;
next	1.2057.2.2;

1.2057.2.2
date	2012.08.16.09.21.45;	author nickc;	state Exp;
branches;
next	1.2057.2.3;

1.2057.2.3
date	2012.08.28.10.50.42;	author mgretton;	state Exp;
branches;
next	1.2057.2.4;

1.2057.2.4
date	2012.08.29.02.59.04;	author bergner;	state Exp;
branches;
next	1.2057.2.5;

1.2057.2.5
date	2012.09.04.13.57.44;	author gingold;	state Exp;
branches;
next	1.2057.2.6;

1.2057.2.6
date	2012.09.04.14.01.39;	author gingold;	state Exp;
branches;
next	1.2057.2.7;

1.2057.2.7
date	2012.09.04.14.37.56;	author gingold;	state Exp;
branches;
next	1.2057.2.8;

1.2057.2.8
date	2012.09.10.09.50.38;	author hp;	state Exp;
branches;
next	1.2057.2.9;

1.2057.2.9
date	2012.09.10.10.05.53;	author hp;	state Exp;
branches;
next	1.2057.2.10;

1.2057.2.10
date	2012.09.18.11.57.53;	author gingold;	state Exp;
branches;
next	1.2057.2.11;

1.2057.2.11
date	2012.09.18.12.21.52;	author gingold;	state Exp;
branches;
next	1.2057.2.12;

1.2057.2.12
date	2012.09.18.14.36.03;	author macro;	state Exp;
branches;
next	1.2057.2.13;

1.2057.2.13
date	2012.09.18.15.44.26;	author gingold;	state Exp;
branches;
next	1.2057.2.14;

1.2057.2.14
date	2012.09.18.15.47.01;	author gingold;	state Exp;
branches;
next	1.2057.2.15;

1.2057.2.15
date	2012.11.09.14.41.30;	author gingold;	state Exp;
branches;
next	1.2057.2.16;

1.2057.2.16
date	2012.11.20.17.58.30;	author roland;	state Exp;
branches;
next	1.2057.2.17;

1.2057.2.17
date	2012.11.29.23.29.14;	author roland;	state Exp;
branches;
next	1.2057.2.18;

1.2057.2.18
date	2012.12.06.16.28.15;	author yufeng;	state Exp;
branches;
next	1.2057.2.19;

1.2057.2.19
date	2012.12.20.16.30.18;	author rearnsha;	state Exp;
branches;
next	1.2057.2.20;

1.2057.2.20
date	2013.01.21.13.48.44;	author amodra;	state Exp;
branches;
next	1.2057.2.21;

1.2057.2.21
date	2013.02.12.14.27.37;	author yufeng;	state Exp;
branches;
next	1.2057.2.22;

1.2057.2.22
date	2013.02.12.14.31.10;	author yufeng;	state Exp;
branches;
next	1.2057.2.23;

1.2057.2.23
date	2013.02.12.14.34.35;	author yufeng;	state Exp;
branches;
next	1.2057.2.24;

1.2057.2.24
date	2013.02.12.14.37.22;	author yufeng;	state Exp;
branches;
next	1.2057.2.25;

1.2057.2.25
date	2013.02.12.14.39.55;	author yufeng;	state Exp;
branches;
next	1.2057.2.26;

1.2057.2.26
date	2013.02.12.15.31.34;	author yufeng;	state Exp;
branches;
next	1.2057.2.27;

1.2057.2.27
date	2013.02.15.18.40.39;	author yufeng;	state Exp;
branches;
next	1.2057.2.28;

1.2057.2.28
date	2013.03.05.17.46.23;	author yufeng;	state Exp;
branches;
next	1.2057.2.29;

1.2057.2.29
date	2013.03.08.16.53.52;	author cpg;	state Exp;
branches;
next	1.2057.2.30;

1.2057.2.30
date	2013.05.13.22.50.01;	author yufeng;	state Exp;
branches;
next	1.2057.2.31;

1.2057.2.31
date	2013.05.13.23.09.51;	author yufeng;	state Exp;
branches;
next	1.2057.2.32;

1.2057.2.32
date	2013.06.24.21.06.18;	author roland;	state Exp;
branches;
next	1.2057.2.33;

1.2057.2.33
date	2013.06.24.23.35.21;	author roland;	state Exp;
branches;
next	1.2057.2.34;

1.2057.2.34
date	2013.06.24.23.36.16;	author roland;	state Exp;
branches;
next	1.2057.2.35;

1.2057.2.35
date	2013.06.24.23.37.04;	author roland;	state Exp;
branches;
next	;

1.1956.2.1
date	2011.10.25.02.48.54;	author amodra;	state Exp;
branches;
next	1.1956.2.2;

1.1956.2.2
date	2011.11.14.13.46.17;	author macro;	state Exp;
branches;
next	1.1956.2.3;

1.1956.2.3
date	2012.01.08.12.34.31;	author rsandifo;	state Exp;
branches;
next	;

1.1802.2.1
date	2010.11.10.15.45.32;	author rsandifo;	state Exp;
branches;
next	1.1802.2.2;

1.1802.2.2
date	2010.11.15.15.40.07;	author mgretton;	state Exp;
branches;
next	1.1802.2.3;

1.1802.2.3
date	2010.11.15.21.56.50;	author rsandifo;	state Exp;
branches;
next	1.1802.2.4;

1.1802.2.4
date	2011.02.01.12.25.41;	author amodra;	state Exp;
branches;
next	1.1802.2.5;

1.1802.2.5
date	2011.02.07.00.04.44;	author amodra;	state Exp;
branches;
next	1.1802.2.6;

1.1802.2.6
date	2011.02.10.03.41.06;	author amodra;	state Exp;
branches;
next	1.1802.2.7;

1.1802.2.7
date	2011.02.10.08.44.56;	author amodra;	state Exp;
branches;
next	1.1802.2.8;

1.1802.2.8
date	2011.03.23.16.00.18;	author gingold;	state Exp;
branches;
next	1.1802.2.9;

1.1802.2.9
date	2011.04.27.07.17.41;	author amodra;	state Exp;
branches;
next	1.1802.2.10;

1.1802.2.10
date	2011.05.13.14.19.03;	author mgretton;	state Exp;
branches;
next	1.1802.2.11;

1.1802.2.11
date	2011.05.18.07.39.59;	author krebbel;	state Exp;
branches;
next	1.1802.2.12;

1.1802.2.12
date	2011.05.29.04.51.38;	author amodra;	state Exp;
branches;
next	;

1.1537.2.1
date	2009.09.08.02.56.27;	author amodra;	state Exp;
branches;
next	1.1537.2.2;

1.1537.2.2
date	2009.09.08.10.53.21;	author amodra;	state Exp;
branches;
next	1.1537.2.3;

1.1537.2.3
date	2009.09.08.12.35.32;	author kkojima;	state Exp;
branches;
next	1.1537.2.4;

1.1537.2.4
date	2009.09.09.23.20.03;	author kkojima;	state Exp;
branches;
next	1.1537.2.5;

1.1537.2.5
date	2009.09.10.14.33.15;	author amodra;	state Exp;
branches;
next	1.1537.2.6;

1.1537.2.6
date	2009.09.10.23.23.05;	author hp;	state Exp;
branches;
next	1.1537.2.7;

1.1537.2.7
date	2009.09.14.18.49.18;	author rsandifo;	state Exp;
branches;
next	1.1537.2.8;

1.1537.2.8
date	2009.09.21.10.29.08;	author bje;	state Exp;
branches;
next	1.1537.2.9;

1.1537.2.9
date	2009.09.21.13.18.00;	author macro;	state Exp;
branches;
next	1.1537.2.10;

1.1537.2.10
date	2009.09.21.19.32.47;	author rsandifo;	state Exp;
branches;
next	1.1537.2.11;

1.1537.2.11
date	2009.09.22.03.11.47;	author amodra;	state Exp;
branches;
next	1.1537.2.12;

1.1537.2.12
date	2009.09.29.13.33.13;	author bergner;	state Exp;
branches;
next	1.1537.2.13;

1.1537.2.13
date	2009.10.01.19.49.38;	author bergner;	state Exp;
branches;
next	1.1537.2.14;

1.1537.2.14
date	2009.10.02.14.51.22;	author bergner;	state Exp;
branches;
next	1.1537.2.15;

1.1537.2.15
date	2009.12.16.01.52.14;	author hjl;	state Exp;
branches;
next	1.1537.2.16;

1.1537.2.16
date	2010.01.27.22.08.24;	author davek;	state Exp;
branches;
next	1.1537.2.17;

1.1537.2.17
date	2010.01.29.11.49.46;	author davek;	state Exp;
branches;
next	1.1537.2.18;

1.1537.2.18
date	2010.01.30.09.58.03;	author rsandifo;	state Exp;
branches;
next	1.1537.2.19;

1.1537.2.19
date	2010.02.11.14.34.42;	author clyon;	state Exp;
branches;
next	1.1537.2.20;

1.1537.2.20
date	2010.02.11.15.10.31;	author clyon;	state Exp;
branches;
next	;

1.1387.2.1
date	2008.09.15.13.57.00;	author amodra;	state Exp;
branches;
next	1.1387.2.2;

1.1387.2.2
date	2009.01.09.00.16.12;	author nemet;	state Exp;
branches;
next	1.1387.2.3;

1.1387.2.3
date	2009.03.02.13.28.15;	author amodra;	state Exp;
branches;
next	1.1387.2.4;

1.1387.2.4
date	2009.03.02.13.43.14;	author amodra;	state Exp;
branches;
next	1.1387.2.5;

1.1387.2.5
date	2009.03.02.13.50.19;	author amodra;	state Exp;
branches;
next	1.1387.2.6;

1.1387.2.6
date	2009.03.02.13.54.21;	author amodra;	state Exp;
branches;
next	1.1387.2.7;

1.1387.2.7
date	2009.03.02.13.57.13;	author amodra;	state Exp;
branches;
next	1.1387.2.8;

1.1387.2.8
date	2009.03.02.13.59.36;	author amodra;	state Exp;
branches;
next	;

1.1205.2.1
date	2007.08.09.11.45.04;	author amodra;	state Exp;
branches;
next	1.1205.2.2;

1.1205.2.2
date	2007.08.13.00.30.22;	author drow;	state Exp;
branches;
next	;

1.1003.2.1
date	2006.05.02.14.45.00;	author jsm28;	state Exp;
branches;
next	1.1003.2.2;

1.1003.2.2
date	2006.05.04.11.47.52;	author ths;	state Exp;
branches;
next	1.1003.2.3;

1.1003.2.3
date	2006.05.11.14.57.17;	author ths;	state Exp;
branches;
next	1.1003.2.4;

1.1003.2.4
date	2006.05.19.22.44.15;	author ths;	state Exp;
branches;
next	1.1003.2.5;

1.1003.2.5
date	2006.05.22.14.58.24;	author drow;	state Exp;
branches;
next	1.1003.2.6;

1.1003.2.6
date	2006.05.26.03.37.46;	author rsandifo;	state Exp;
branches;
next	1.1003.2.7;

1.1003.2.7
date	2006.06.14.17.55.34;	author ths;	state Exp;
branches;
next	;

1.996.2.1
date	2006.08.22.15.08.38;	author jsm28;	state Exp;
branches;
next	;

1.807.2.1
date	2005.03.09.09.50.12;	author rsandifo;	state Exp;
branches;
next	1.807.2.2;

1.807.2.2
date	2005.03.09.09.53.19;	author rsandifo;	state Exp;
branches;
next	1.807.2.3;

1.807.2.3
date	2005.03.10.20.38.54;	author aldyh;	state Exp;
branches;
next	1.807.2.4;

1.807.2.4
date	2005.03.15.05.37.49;	author echristo;	state Exp;
branches;
next	1.807.2.5;

1.807.2.5
date	2005.03.22.14.29.06;	author amodra;	state Exp;
branches
	1.807.2.5.2.1;
next	1.807.2.6;

1.807.2.6
date	2005.04.13.13.47.07;	author jbeulich;	state Exp;
branches;
next	1.807.2.7;

1.807.2.7
date	2005.04.13.18.17.48;	author macro;	state Exp;
branches;
next	1.807.2.8;

1.807.2.8
date	2005.05.19.15.43.05;	author jbeulich;	state Exp;
branches;
next	1.807.2.9;

1.807.2.9
date	2005.06.12.18.30.57;	author drow;	state Exp;
branches;
next	;

1.807.2.5.2.1
date	2005.03.30.17.28.26;	author jules;	state Exp;
branches;
next	;

1.607.2.1
date	2004.03.12.13.44.57;	author mludvig;	state Exp;
branches;
next	1.607.2.2;

1.607.2.2
date	2004.03.15.01.08.24;	author amodra;	state Exp;
branches;
next	1.607.2.3;

1.607.2.3
date	2004.03.16.00.59.35;	author amodra;	state Exp;
branches;
next	1.607.2.4;

1.607.2.4
date	2004.03.18.01.17.33;	author kkojima;	state Exp;
branches;
next	1.607.2.5;

1.607.2.5
date	2004.03.22.00.06.24;	author hp;	state Exp;
branches;
next	1.607.2.6;

1.607.2.6
date	2004.04.09.18.28.13;	author drow;	state Exp;
branches;
next	1.607.2.7;

1.607.2.7
date	2004.04.14.07.41.33;	author rsandifo;	state Exp;
branches;
next	1.607.2.8;

1.607.2.8
date	2004.04.14.16.18.43;	author rsandifo;	state Exp;
branches;
next	1.607.2.9;

1.607.2.9
date	2004.05.06.02.42.53;	author aoliva;	state Exp;
branches;
next	1.607.2.10;

1.607.2.10
date	2004.05.07.06.32.33;	author drow;	state Exp;
branches;
next	1.607.2.11;

1.607.2.11
date	2004.05.11.13.58.04;	author drow;	state Exp;
branches;
next	1.607.2.12;

1.607.2.12
date	2004.07.30.13.35.49;	author mludvig;	state Exp;
branches;
next	1.607.2.13;

1.607.2.13
date	2004.08.18.18.30.50;	author ths;	state Exp;
branches;
next	1.607.2.14;

1.607.2.14
date	2004.09.07.07.12.15;	author ebotcazou;	state Exp;
branches;
next	1.607.2.15;

1.607.2.15
date	2004.10.07.00.00.36;	author aldyh;	state Exp;
branches;
next	1.607.2.16;

1.607.2.16
date	2005.03.10.20.22.52;	author aldyh;	state Exp;
branches;
next	;

1.455.2.1
date	2003.04.29.11.57.08;	author nickc;	state Exp;
branches;
next	1.455.2.2;

1.455.2.2
date	2003.05.02.05.31.49;	author cgd;	state Exp;
branches;
next	1.455.2.3;

1.455.2.3
date	2003.05.03.06.53.40;	author cgd;	state Exp;
branches;
next	1.455.2.4;

1.455.2.4
date	2003.05.06.01.15.56;	author drow;	state Exp;
branches;
next	1.455.2.5;

1.455.2.5
date	2003.05.13.03.03.44;	author hp;	state Exp;
branches;
next	1.455.2.6;

1.455.2.6
date	2003.05.15.19.19.35;	author drow;	state Exp;
branches;
next	1.455.2.7;

1.455.2.7
date	2003.05.19.19.39.45;	author ths;	state Exp;
branches;
next	1.455.2.8;

1.455.2.8
date	2003.05.24.19.30.29;	author ths;	state Exp;
branches;
next	1.455.2.9;

1.455.2.9
date	2003.06.10.19.51.28;	author ths;	state Exp;
branches;
next	1.455.2.10;

1.455.2.10
date	2003.06.12.06.03.58;	author rsandifo;	state Exp;
branches;
next	1.455.2.11;

1.455.2.11
date	2003.06.13.16.46.51;	author rearnsha;	state Exp;
branches;
next	1.455.2.12;

1.455.2.12
date	2003.07.23.20.17.27;	author ciceron;	state Exp;
branches;
next	;

1.335.2.1
date	2002.07.18.21.20.08;	author wilson;	state Exp;
branches;
next	1.335.2.2;

1.335.2.2
date	2002.07.19.02.55.31;	author hp;	state Exp;
branches;
next	1.335.2.3;

1.335.2.3
date	2002.07.26.04.23.36;	author amodra;	state Exp;
branches;
next	1.335.2.4;

1.335.2.4
date	2002.07.30.18.20.01;	author drow;	state Exp;
branches;
next	1.335.2.5;

1.335.2.5
date	2002.08.02.02.03.09;	author drow;	state Exp;
branches;
next	1.335.2.6;

1.335.2.6
date	2002.08.06.13.24.11;	author drow;	state Exp;
branches;
next	1.335.2.7;

1.335.2.7
date	2002.08.20.17.56.06;	author macro;	state Exp;
branches;
next	1.335.2.8;

1.335.2.8
date	2002.08.26.10.38.40;	author amodra;	state Exp;
branches;
next	1.335.2.9;

1.335.2.9
date	2002.08.26.10.44.34;	author amodra;	state Exp;
branches;
next	1.335.2.10;

1.335.2.10
date	2002.08.26.11.08.22;	author amodra;	state Exp;
branches;
next	1.335.2.11;

1.335.2.11
date	2002.08.26.11.27.58;	author amodra;	state Exp;
branches;
next	1.335.2.12;

1.335.2.12
date	2002.08.26.11.42.53;	author amodra;	state Exp;
branches;
next	1.335.2.13;

1.335.2.13
date	2002.09.23.22.13.38;	author drow;	state Exp;
branches;
next	1.335.2.14;

1.335.2.14
date	2002.10.28.18.45.50;	author drow;	state Exp;
branches;
next	1.335.2.15;

1.335.2.15
date	2002.12.15.22.31.47;	author drow;	state Exp;
branches;
next	;

1.288.2.1
date	2002.02.17.23.12.10;	author amodra;	state Exp;
branches;
next	1.288.2.2;

1.288.2.2
date	2002.02.18.23.42.55;	author drow;	state Exp;
branches;
next	1.288.2.3;

1.288.2.3
date	2002.02.25.10.14.28;	author ths;	state Exp;
branches;
next	1.288.2.4;

1.288.2.4
date	2002.02.26.22.24.42;	author cgd;	state Exp;
branches;
next	1.288.2.5;

1.288.2.5
date	2002.03.17.22.49.40;	author hp;	state Exp;
branches;
next	1.288.2.6;

1.288.2.6
date	2002.04.27.12.46.09;	author amodra;	state Exp;
branches;
next	1.288.2.7;

1.288.2.7
date	2002.04.30.21.42.05;	author cgd;	state Exp;
branches;
next	1.288.2.8;

1.288.2.8
date	2002.05.09.11.54.11;	author amodra;	state Exp;
branches;
next	;

1.130.2.1
date	2001.02.04.14.06.30;	author ciceron;	state Exp;
branches;
next	1.130.2.2;

1.130.2.2
date	2001.02.08.18.53.08;	author ciceron;	state Exp;
branches;
next	1.130.2.3;

1.130.2.3
date	2001.02.23.23.18.49;	author wilson;	state Exp;
branches;
next	1.130.2.4;

1.130.2.4
date	2001.03.17.22.38.21;	author pb;	state Exp;
branches;
next	1.130.2.5;

1.130.2.5
date	2001.03.18.10.17.03;	author ciceron;	state Exp;
branches;
next	1.130.2.6;

1.130.2.6
date	2001.03.19.10.03.36;	author schwab;	state Exp;
branches;
next	1.130.2.7;

1.130.2.7
date	2001.03.19.12.20.39;	author amodra;	state Exp;
branches;
next	1.130.2.8;

1.130.2.8
date	2001.03.24.07.06.07;	author amodra;	state Exp;
branches;
next	1.130.2.9;

1.130.2.9
date	2001.03.31.06.49.33;	author amodra;	state Exp;
branches;
next	1.130.2.10;

1.130.2.10
date	2001.05.04.11.15.51;	author amodra;	state Exp;
branches;
next	1.130.2.11;

1.130.2.11
date	2001.05.12.10.09.17;	author amodra;	state Exp;
branches;
next	1.130.2.12;

1.130.2.12
date	2001.05.12.12.12.18;	author amodra;	state Exp;
branches;
next	1.130.2.13;

1.130.2.13
date	2001.05.14.22.57.57;	author rth;	state Exp;
branches;
next	1.130.2.14;

1.130.2.14
date	2001.05.23.05.34.16;	author amodra;	state Exp;
branches;
next	1.130.2.15;

1.130.2.15
date	2001.05.28.15.17.51;	author nickc;	state Exp;
branches;
next	1.130.2.16;

1.130.2.16
date	2001.06.11.10.04.54;	author amodra;	state Exp;
branches;
next	1.130.2.17;

1.130.2.17
date	2001.06.18.19.22.37;	author pb;	state Exp;
branches;
next	1.130.2.18;

1.130.2.18
date	2001.06.20.14.45.52;	author trix;	state Exp;
branches;
next	1.130.2.19;

1.130.2.19
date	2001.07.16.21.44.13;	author pb;	state Exp;
branches;
next	1.130.2.20;

1.130.2.20
date	2001.09.04.02.00.08;	author amodra;	state Exp;
branches;
next	1.130.2.21;

1.130.2.21
date	2001.10.09.13.39.35;	author nickc;	state Exp;
branches;
next	1.130.2.22;

1.130.2.22
date	2001.11.01.09.53.17;	author ciceron;	state Exp;
branches;
next	;

1.55.2.1
date	2000.05.08.10.14.09;	author amodra;	state Exp;
branches;
next	;

1.1.1.1
date	99.05.03.07.28.45;	author rth;	state Exp;
branches;
next	;


desc
@@


1.2310
log
@2013-10-18  Chao-ying Fu  <Chao-ying.Fu@@imgtec.com>

	* gas/mips/micromips@@msa-branch.d, gas/mips/msa-branch.d,
	gas/mips/msa-branch.s: New.
	* gas/mips/mips.exp: Run new tests.
@
text
@2013-10-18  Chao-ying Fu  <Chao-ying.Fu@@imgtec.com>

	* gas/mips/micromips@@msa-branch.d, gas/mips/msa-branch.d,
	gas/mips/msa-branch.s: New.
	* gas/mips/mips.exp: Run new tests.

2013-10-15  Ramana Radhakrishnan  <ramana.radhakrishnan@@arm.com>

	* gas/arm/neon-cov.d: Adjust output.

2013-10-14  Chao-ying Fu  <Chao-ying.Fu@@imgtec.com>

	* gas/mips/micromips@@msa-relax.d, gas/mips/micromips@@msa.d,
	gas/mips/micromips@@msa64.d, gas/mips/msa-relax.d,
	gas/mips/msa-relax.l, gas/mips/msa-relax.s,
	gas/mips/msa.d, gas/mips/msa.s, gas/mips/msa64.d,
	gas/mips/msa64.s: New.
	* gas/mips/mips.exp: Run new tests.

2013-10-14  Nick Clifton  <nickc@@redhat.com>

	* gas/all/itbl-test.c (main): Close fas.

2013-10-13  Sandra Loosemore  <sandra@@codesourcery.com>

	* gas/nios2/warn_nobreak.l: Update text of warning messages.
	* gas/nios2/registers.s: Use "sstatus" rather than "ba"
	as the primary name of r30.
	* gas/nios2/registers.d: Likewise.

2013-10-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/mpx.s: Remove bndcl/bndcu/bndcn tests with AX.
	* gas/i386/x86-64-mpx.s: Likwise.

	* gas/i386/mpx.d: Updated.
	* gas/i386/x86-64-mpx.d: Likewise.

2013-10-10  Sean Keys  <skeys@@ipdatasys.com>

	* gas/xgate/all_insns.d: Add com macro insn test.
	* gas/xgate/all_insns.s: Add com macro insn test.

2013-10-08  Jan Beulich <jbeulich@@suse.com>

	* gas/arm/thumb-w-good.s: Add PUSH.W and POP.W tests.
	* gas/arm/thumb-w-good.d: Update accordingly.

2013-10-08  Nick Clifton  <nickc@@redhat.com>

	* gas/msp430/bad.s: New test: Checks erroneous size extensions.
	* gas/msp430/bad.d: New test command file.
	* gas/msp430/bad.l: New file: Expected error messages.
	* gas/msp430/msp430.exp: Run the new test.
	* gas/msp430/msp430x.s: Add "<foo>.a" aliases of "<foo>a"
	instructions.
	* gas/msp430/msp430x.d: Update expected disassembly.

2013-10-07  Chao-ying Fu  <Chao-ying.Fu@@imgtec.com>

	* gas/mips/micromips@@virt64.d: Fix dmfgc0 and dmtgc0.

2013-10-04  Kyrylo Tkachov  <kyrylo.tkachov@@arm.com>

	* gas/arm/thumb2_it.s: Add test for narrow tst.
	* gas/arm/thumb2_it.d: Update expected output.
	* gas/arm/thumb2_it_auto.d: Likewise.

2013-09-30  Saravanan Ekanathan <saravanan.ekanathan@@amd.com>

	* gas/i386/i386.exp: Run bdver4 test cases.
	* gas/i386/nops-1-bdver4.d: New.
	* gas/i386/arch-10-bdver4.d: New.
	* gas/i386/x86-64-nops-1-bdver4.d: New.
	* gas/i386/x86-64-arch-2-bdver4.d: New.

2013-09-17  Richard Sandiford  <rsandifo@@linux.vnet.ibm.com>

	* gas/s390/zarch-z196.s, gas/s390/zarch-z196.d: Test CLIH with
	4000000000.

2013-09-16  Will Newton  <will.newton@@linaro.org>

	* gas/arm/neon-ldst-es.d: Add VLD1.64 instructions.
	* gas/arm/neon-ldst-es.s: Likewise.
	* testsuite/gas/arm/neon-ldst-es-bad.d: New file.
	* testsuite/gas/arm/neon-ldst-es-bad.l: Likewise.
	* testsuite/gas/arm/neon-ldst-es-bad.s: Likewise.

2013-09-12  Chao-ying Fu  <Chao-ying.Fu@@imgtec.com>

	* gas/mips/bltzal.s: New file.
	* gas/mips/bltzal.l: New file.
	* gas/mips/mips.exp: Run the bltzal test.

2013-09-12  Nick Clifton  <nickc@@redhat.com>

	* gas/cfi/cfi-alpha-1.d: Update expected output to allow for
	64-bit addresses.
	* gas/cfi/cfi-alpha-3.d: Likewise.
	* gas/cfi/cfi-arm-1.d: Likewise.
	* gas/cfi/cfi-common-1.d: Likewise.
	* gas/cfi/cfi-common-2.d: Likewise.
	* gas/cfi/cfi-common-3.d: Likewise.
	* gas/cfi/cfi-common-4.d: Likewise.
	* gas/cfi/cfi-common-5.d: Likewise.
	* gas/cfi/cfi-common-6.d: Likewise.
	* gas/cfi/cfi-common-7.d: Likewise.
	* gas/cfi/cfi-hppa-1.d: Likewise.
	* gas/cfi/cfi-i386-2.d: Likewise.
	* gas/cfi/cfi-i386.d: Likewise.
	* gas/cfi/cfi-m68k.d: Likewise.
	* gas/cfi/cfi-mips-1.d: Likewise.
	* gas/cfi/cfi-ppc-1.d: Likewise.
	* gas/cfi/cfi-s390-1.d: Likewise.
	* gas/cfi/cfi-s390x-1.d: Likewise.
	* gas/cfi/cfi-sh-1.d: Likewise.
	* gas/cfi/cfi-sparc-1.d: Likewise.
	* gas/cfi/cfi-sparc64-1.d: Likewise.
	* gas/cfi/cfi-x86_64.d: Likewise.

2013-09-04  Tristan Gingold  <gingold@@adacore.com>

	* gas/ppc/aix.exp: Run xcoff-toc-1 test.
	* gas/ppc/xcoff-toc-1.s, gas/ppc/xcoff-toc-1.d: New test.

2013-09-04  Roland McGrath  <mcgrathr@@google.com>

	PR gas/15914
	* gas/arm/udf-bad.s: New file.
	* gas/arm/udf-bad.d: New file.
	* gas/arm/udf-bad.l: New file.
	* gas/arm/udf.s: New file.
	* gas/arm/udf.d: New file.
	* gas/arm/udf.l: New file.

2013-08-28  Nick Clifton  <nickc@@redhat.com>

	* gas/aarch64/illegal.s: Add illegal constant for logical
	operation.
	* gas/aarch64/illegal.l: Add expected error message.

2013-08-23  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/testsuite/gas/mips/micromips-insn32.d: Adjust for delay
	slot scheduling of ALNV.PS.
	* gas/testsuite/gas/mips/micromips-noinsn32.d: Likewise.
	* gas/testsuite/gas/mips/micromips-trap.d: Likewise.
	* gas/testsuite/gas/mips/micromips.d: Likewise.
	* gas/testsuite/gas/mips/micromips@@alnv_ps-swap.d: Likewise.

2013-08-23  Yuri Chornoivan  <yurchor@@ukr.net>

	PR binutils/15834
	* gas/d10v/instruction_packing.d: Fix typos.
	* gas/z80/atend.d: Likewise.

2013-08-23  Will Newton  <will.newton@@linaro.org>

	* testsuite/gas/arm/neon-addressing-bad.l: Add test for
	VLDn and VSTn instructions.
	* testsuite/gas/arm/neon-addressing-bad.s: Likewise.

2013-08-19  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/ase-errors-1.l, gas/mips/ase-errors-2.l,
	gas/mips/ase-errors-3.l, gas/mips/ase-errors-4.l, gas/mips/at-2.l,
	gas/mips/baddata1.l, gas/mips/elf-rel30.l, gas/mips/illegal.l,
	gas/mips/jalr.l, gas/mips/ldstla-32-1.l, gas/mips/ldstla-32-mips3-1.l,
	gas/mips/lui-1.l, gas/mips/macro-warn-1.l, gas/mips/macro-warn-1-n32.l,
	gas/mips/macro-warn-2.l, gas/mips/macro-warn-3.l,
	gas/mips/macro-warn-4.l, gas/mips/micromips-branch-delay.l,
	gas/mips/micromips-branch-relax.l,
	gas/mips/micromips-branch-relax-pic.l, gas/mips/micromips-ill.l,
	gas/mips/micromips.l, gas/mips/micromips-size-0.l,
	gas/mips/micromips-size-1.l, gas/mips/micromips-warn-branch-delay.l,
	gas/mips/micromips-warn.l, gas/mips/mips16e-64.l,
	gas/mips/mips16e-save-err.l, gas/mips/mips1-fp.l,
	gas/mips/mips32r2-fp32.l, gas/mips/mips32r2-ill.l,
	gas/mips/mips32-sf32.l, gas/mips/mips4-branch-likely.l,
	gas/mips/mips4-fp.l, gas/mips/mips5-fp.l, gas/mips/mips64-mips3d.l,
	gas/mips/mips-double-float-flag.l, gas/mips/mips-gp64-fp32.l,
	gas/mips/mips-gp64-fp64.l, gas/mips/mips-hard-float-flag.l,
	gas/mips/mips-macro-ill-nofp.l, gas/mips/mips-macro-ill-sfp.l,
	gas/mips/nan-error-1.l, gas/mips/nan-error-2.l, gas/mips/noat-2.l,
	gas/mips/noat-3.l, gas/mips/noat-4.l, gas/mips/noat-5.l,
	gas/mips/noat-6.l, gas/mips/noat-7.l, gas/mips/octeon-ill.l,
	gas/mips/r5900-error-vu0.l, gas/mips/r5900-nollsc.l,
	gas/mips/relax-bc1any.l, gas/mips/relax-bposge.l, gas/mips/relax.l,
	gas/mips/relax-swap1.l, gas/mips/relax-swap2.l, gas/mips/set-arch.l,
	gas/mips/tls-ill.l, gas/mips/vr5400-ill.l: Adjust expected output.

2013-08-19  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/ext-ill.l, gas/mips/mips64r2-ill.l: Expect DEXT and DINS
	error messages to have the same form as the EXT and INS ones.
	* gas/mips/micromips-insn32.d, gas/mips/micromips-noinsn32.d,
	gas/mips/micromips-trap.d, gas/mips/micromips.d,
	gas/mips/micromips@@mips64r2.d, gas/mips/mips64r2.d: Expect
	"dext" and "dins" instead of "dextm", "dextu", "dinsm" and "dinsu".

2013-08-19  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/octeon-ill.l: Adjust expected output.
	* gas/mips/lui-1.l, gas/mips/lui-1.s: Add more cases.

2013-08-19  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/ext-ill.l, gas/mips/lui-1.l, gas/mips/mips16e-64.l,
	gas/mips/mips32r2-ill-fp64.l, gas/mips/mips32r2-ill-nofp.l,
	gas/mips/mips32r2-ill.l, gas/mips/mips64r2-ill.l,
	gas/mips/octeon-ill.l, gas/mips/r5900-error-vu0.l,
	gas/mips/vr5400-ill.l: Adjust expected errors.
	* gas/mips/micromips-size-0.l,
	gas/mips/micromips-size-0.s: Likewise.  Add new tests.
	* gas/mips/mips16e-save-err.s, gas/mips/mips16e-save-err.l: New test.
	* gas/mips/mips.exp: Run it.

2013-08-19  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/micromips-ill.l: Expect "floating-point expression required"

2013-08-06  Jrgen Urban  <JuergenUrban@@gmx.de>

	* gas/mips/r5900-error-vu0.s, gas/mips/r5900-error-vu0.l,
	gas/mips/r5900-full-vu0.s, gas/mips/r5900-full-vu0.d: Allow
	single-channel suffixes to be elided.

2013-08-04  Jrgen Urban  <JuergenUrban@@gmx.de>

	* gas/mips/r5900-vu0.d: Expect $vfN and $viN instead of numeric
	coprocessor registers.
	* gas/mips/r5900-all-vu0.s, gas/mips/r5900-all-vu0.d,
	gas/mips/r5900-full-vu0.s, gas/mips/r5900-full-vu0.d,
	gas/mips/r5900-error-vu0.s, gas/mips/r5900-error-vu0.l: New tests.
	* gas/mips/mips.exp: Run them.

2013-08-03  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/mips16-macro.s, gas/mips/mips16-macro.d: New test.
	* gas/mips/mips.exp: Run it.

2013-07-26  Sergey Guriev  <sergey.s.guriev@@intel.com>
	    Alexander Ivchenko  <alexander.ivchenko@@intel.com>
	    Maxim Kuznetsov  <maxim.kuznetsov@@intel.com>
	    Sergey Lega  <sergey.s.lega@@intel.com>
	    Anna Tikhonova  <anna.tikhonova@@intel.com>
	    Ilya Tocar  <ilya.tocar@@intel.com>
	    Andrey Turetskiy  <andrey.turetskiy@@intel.com>
	    Ilya Verbin  <ilya.verbin@@intel.com>
	    Kirill Yukhin  <kirill.yukhin@@intel.com>
	    Michael Zolotukhin  <michael.v.zolotukhin@@intel.com>

	* gas/cfi/cfi-i386.s: Add tests for k0-k7.
	* gas/cfi/cfi-i386.d: Change to reflect above mentioned changes.
	* gas/cfi/cfi-x86_64.s: Add tests for xmm16-31, k0-7.
	* gas/cfi/cfi-x86_64.d: Change to reflect above mentioned changes.
	* gas/i386/ilp32/cfi/cfi-x86_64.d: Ditto.
	* gas/i386/intel-regs.s: Add tests for zmm0 and xmm16 registers.
	* gas/i386/intel-regs.d: Change correspondingly.
	* gas/i386/prefetch-intel.d: Reflect implementation of prefetchwt1.
	* gas/i386/prefetch.d: Ditto.
	* gas/i386/x86-64-prefetch-intel.d: Ditto.
	* gas/i386/x86-64-prefetch.d: Ditto.
	* gas/i386/avx512f-intel.d: New.
	* gas/i386/avx512f-nondef.d: New.
	* gas/i386/avx512f-nondef.s: New.
	* gas/i386/avx512f-opts-intel.d: New.
	* gas/i386/avx512f-opts.d: New.
	* gas/i386/avx512f-opts.s: New.
	* gas/i386/avx512f.d: New.
	* gas/i386/avx512f.s: New.
	* gas/i386/avx512cd-intel.d: New.
	* gas/i386/avx512cd.d: New.
	* gas/i386/avx512cd.s: New.
	* gas/i386/avx512er-intel.d: New.
	* gas/i386/avx512er.d: New.
	* gas/i386/avx512er.s: New.
	* gas/i386/avx512pf-intel.d: New.
	* gas/i386/avx512pf.d: New.
	* gas/i386/avx512pf.s: New.
	* gas/i386/evex-lig.s: New.
	* gas/i386/evex-lig256-intel.d: New.
	* gas/i386/evex-lig256.d: New.
	* gas/i386/evex-lig512-intel.d: New.
	* gas/i386/evex-lig512.d: New.
	* gas/i386/evex-wig.s: New.
	* gas/i386/evex-wig1-intel.d: New.
	* gas/i386/evex-wig1.d: New.
	* gas/i386/inval-avx512f.l: New.
	* gas/i386/inval-avx512f.s: New.
	* gas/i386/x86-64-avx512f-intel.d: New.
	* gas/i386/x86-64-avx512f-nondef.d: New.
	* gas/i386/x86-64-avx512f-nondef.s: New.
	* gas/i386/x86-64-avx512f-opts-intel.d: New.
	* gas/i386/x86-64-avx512f-opts.d: New.
	* gas/i386/x86-64-avx512f-opts.s: New.
	* gas/i386/x86-64-avx512f.d: New.
	* gas/i386/x86-64-avx512f.s: New.
	* gas/i386/x86-64-avx512cd-intel.d: New.
	* gas/i386/x86-64-avx512cd.d: New.
	* gas/i386/x86-64-avx512cd.s: New.
	* gas/i386/x86-64-avx512er-intel.d: New.
	* gas/i386/x86-64-avx512er.d: New.
	* gas/i386/x86-64-avx512er.s: New.
	* gas/i386/x86-64-avx512pf-intel.d: New.
	* gas/i386/x86-64-avx512pf.d: New.
	* gas/i386/x86-64-avx512pf.s: New.
	* gas/i386/x86-64-evex-lig.s: New.
	* gas/i386/x86-64-evex-lig256-intel.d: New.
	* gas/i386/x86-64-evex-lig256.d: New.
	* gas/i386/x86-64-evex-lig512-intel.d: New.
	* gas/i386/x86-64-evex-lig512.d: New.
	* gas/i386/x86-64-evex-wig.s: New.
	* gas/i386/x86-64-evex-wig1-intel.d: New.
	* gas/i386/x86-64-evex-wig1.d: New.
	* gas/i386/x86-64-inval-avx512f.l: New.
	* gas/i386/x86-64-inval-avx512f.s: New.
	* gas/i386/i386.exp: Run new AVX-512 tests.

2013-07-25  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/loongson-2f.d: Fix expected output for madd.ps,
	msub.ps, nmadd.ps and nmsub.ps.

2013-07-25  Michael Zolotukhin  <michael.v.zolotukhin@@intel.com>

	* gas/i386/sha.d: New.
	* gas/i386/sha.s: New.
	* gas/i386/x86-64-sha.d: New.
	* gas/i386/x86-64-sha.s: New.
	* gas/i386/i386.exp: Run new SHA tests.

2013-07-24  Anna Tikhonova  <anna.tikhonova@@intel.com>
	    Kirill Yukhin  <kirill.yukhin@@intel.com>
	    Michael Zolotukhin  <michael.v.zolotukhin@@intel.com>

	* gas/i386/mpx-add-bnd-prefix.s: New.
	* gas/i386/mpx-add-bnd-prefix.d: New.
	* gas/i386/mpx-inval-1.l: New.
	* gas/i386/mpx-inval-1.s: New.
	* gas/i386/mpx.d: New.
	* gas/i386/mpx.s: New.
	* gas/i386/x86-64-mpx-add-bnd-prefix.d: New.
	* gas/i386/x86-64-mpx-add-bnd-prefix.s: New.
	* gas/i386/x86-64-mpx-addr32.d: New.
	* gas/i386/x86-64-mpx-addr32.s: New.
	* gas/i386/x86-64-mpx-inval-1.l: New.
	* gas/i386/x86-64-mpx-inval-1.s: New.
	* gas/i386/x86-64-mpx-inval-2.l: New.
	* gas/i386/x86-64-mpx-inval-2.s: New.
	* gas/i386/x86-64-mpx.d: New.
	* gas/i386/x86-64-mpx.s: New.
	* gas/i386/nops.d: Adjust to MPX changes.
	* gas/i386/nops.s: Likewise.
	* gas/i386/x86-64-nops.d: Likewise.
	* gas/i386/x86-64-nops.s: Likewise.
	* gas/i386/ilp32/x86-64-nops.d: Likewise.
	* gas/i386/i386.exp: Run new MPX tests.

2013-07-24  Tristan Gingold  <gingold@@adacore.com>

	* gas/ppc/test2xcoff32.s, gas/ppc/test2xcoff32.d: New files
	* gas/ppc/ppc.exp: Add new test.
	* gas/ppc/xcoff-br16-1.s, gas/ppc/xcoff-br16-1.d,
	gas/ppc/xcoff-br16-2.s, gas/ppc/xcoff-br16-2.d: New files
	* gas/ppc/aix.exp: Add new tests.

2013-07-19  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* gas/aarch64/ilp32-basic.d (#as): Update to use -mabi=ilp32

2013-07-14  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/vr5400-ill.s, gas/mips/vr5400-ill.l: Add some more cases.
	* gas/mips/micromips-ill.s, gas/mips/micromips-ill.l: New test.
	* gas/mips/mips.exp: Run it.

2013-07-14  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/at-2.l: Remove duplicated $at warnings.
	* gas/mips/ext-ill.l, gas/mips/lui-1.l, gas/mips/mips32r2-ill.l,
	gas/mips/mips32r2-ill-nofp.l, gas/mips/mips32r2-ill-fp64.l,
	gas/mips/mips64r2-ill.l, gas/mips/octeon-ill.l: Update error
	messages.  Expect negative numbers to be printed as such,
	rather than as large unsigned positive numbers.

2013-07-12  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/nan-2008-1.d: New test.
	* gas/mips/nan-2008-2.d: New test.
	* gas/mips/nan-2008-3.d: New test.
	* gas/mips/nan-2008-4.d: New test.
	* gas/mips/nan-legacy-1.d: New test.
	* gas/mips/nan-legacy-2.d: New test.
	* gas/mips/nan-legacy-3.d: New test.
	* gas/mips/nan-legacy-4.d: New test.
	* gas/mips/nan-legacy-5.d: New test.
	* gas/mips/nan-error-1.l: New list test.
	* gas/mips/nan-error-2.l: New list test.
	* gas/mips/nan-2008-override.s: New test source.
	* gas/mips/nan-2008.s: New test source.
	* gas/mips/nan-legacy-override.s: New test source.
	* gas/mips/nan-legacy.s: New test source.
	* gas/mips/nan-error-1.s: New test source.
	* gas/mips/nan-error-2.s: New test source.
	* gas/mips/mips.exp: Run the new tests.

2013-07-09  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/la-reloc.s, gas/mips/la-reloc.d, gas/mips/dla-reloc.s,
	gas/mips/dla-reloc.d: Add files missing from earlier commit.

2013-07-08  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/13572
	* gas/i386/simd.s: Add a test for cvttps2pi.
	* gas/i386/simd-intel.d: Updated.
	* gas/i386/simd.d: Likewise.

2013-07-08  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/la.s, gas/mips/la.d, gas/mips/la-svr4pic.d,
	gas/mips/la-xgot.d: Add tests for bracketed addresses.

2013-07-07  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/ldstla-32.d: Avoid "lui at,0x0" sequences for
	truncated constants.
	* gas/mips/ldstla-32-shared.d: Likewise.
	* gas/mips/mcu.d: Use ADDIU in preference to LI+ADDU when adding
	16-bit constants to the base.
	* gas/mips/micromips@@mcu.d: Likewise.
	* gas/mips/micromips@@cache.d: Likewise.
	* gas/mips/micromips@@pref.d: Likewise.
	* gas/mips/micromips.d, gas/mips/micromips-insn32.d,
	gas/mips/micromips-noinsn32.d, gas/mips/micromips-trap.d: Likewise.
	Allow the full 16-bit offset range to be used for SB, LB and LBU in
	USH and ULH sequences.  Fix the expected output for LD and SD when
	the two LW and SW offsets need different high parts.
	* gas/mips/eva.s: Test PREFE with relocation operators.
	* gas/mips/eva.d: Use ADDIU in preference to LI+ADDU for 16-bit
	constants.  Update after eva.s change.
	* gas/mips/micromips@@eva.d: Likewise.
	* gas/mips/ld-reloc.s, gas/mips/ld-reloc.d, gas/mips/l_d-reloc.s,
	gas/mips/l_d-reloc.d, gas/mips/ulw-reloc.s, gas/mips/ulw-reloc.d,
	gas/mips/micromips@@ulw-reloc.d, gas/mips/ulh-reloc.s,
	gas/mips/ulh-reloc.d: New tests.
	* gas/mips/mips.exp: Run them.

2013-07-07  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/eva.d, gas/mips/micromips@@eva.d: Remove hard-coded
	addresses.  Use gpr-names=numeric.

2013-07-07  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/mips16.d, gas/mips/mips16-64.d: Remove trailing whitespace
	from ENTRY and EXIT lines.

2013-07-07  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/vr5400-ill.s, gas/mips/vr5400-ill.l: New test.
	* gas/mips/mips.exp: Run it.

2013-07-07  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/lb.d, gas/mips/sb.d: Use coprocessor register names
	for LWC0 and SWC0.

2013-07-05  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* gas/s390/zarch-zEC12.s: Change bprp second operand and add
	variants requiring relocations.
	* gas/s390/zarch-zEC12.d: Likewise.

2013-07-03  Marcus Shawcroft  <marcus.shawcroft@@arm.com>

	* gas/aarch64/reloc-insn.s (func): Replace :got_prel19: with :got:.

2013-06-26  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* gas/aarch64/ilp32-basic.d: New file.
	* gas/aarch64/ilp32-basic.s: New file.

2013-06-25  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/micromips-insn32.d: New test.
	* gas/mips/micromips-noinsn32.d: Likewise.
	* gas/mips/micromips.l: Rename to...
	* gas/mips/micromips-warn.l: ... this.
	* gas/mips/micromips.d: Update accordingly.
	* gas/mips/micromips-trap.d: Likewise.
	* gas/mips/micromips.l: New list test.
	* gas/mips/micromips.s: Add conditionals.
	* gas/mips/mips.exp: Run the new tests.

2013-06-24  Roland McGrath  <mcgrathr@@google.com>

	* gas/arm/macro-vld1.s: Add a case with whitespace before '}'.
	* gas/arm/macro-vld1.d: Update.

	* gas/arm/macro-pld.s: Add a 'push {r0}' case.
	* gas/arm/macro-pld.d: Update expected output.
	* gas/arm/macro-vld1.s: New file.
	* gas/arm/macro-vld1.d: New file.

2013-06-22  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/mips.exp: Remove "LOSE" comments.
	(run_dump_test_arch): Remove format selector support.
	(run_dump_test_arches): Remove associated upvars.
	(elf, ecoff, aout, no_mips16, no_micromips): Remove variables.
	Remove all conditions based on them, on the assumption that $elf
	is true and the others are false.  Rename "elf-jal" to "jal".
	(tmips): Set to "t" for *bsd targets.
	* gas/mips/elf-jal.d: Rename to...
	* gas/mips/jal.d: ...this, replacing the old file.
	* gas/mips/micromips@@elf-jal.d: Rename to...
	* gas/mips/micromips@@jal.d: ...this.
	* gas/mips/at-1.d, gas/mips/ld.d, gas/mips/l_d.d, gas/mips/lui.d,
	gas/mips/mips1@@l_d.d, gas/mips/mips1@@ld-forward.d, gas/mips/mips1@@ld.d,
	gas/mips/mips1@@s_d.d, gas/mips/s_d.d, gas/mips/sd.d: Remove ECOFF
	relocation names.  Do not allow any offset on the symbol.

2013-06-22  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/lineno.d: Remove ellipsis.

2013-06-22  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/all/gas.exp: Remove reference to mips-ecoff.
	* gas/mips/branch-misc-1.d, gas/mips/branch-misc-2.d,
	gas/mips/branch-misc-2-64.d, gas/mips/branch-misc-2pic.d,
	gas/mips/branch-misc-2pic-64.d, gas/mips/branch-swap.d: Remove
	skips for mips-*-ecoff.

2013-06-20  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/ase-errors-1.s, gas/mips/ase-errors-1.l,
	gas/mips/ase-errors-2.s, gas/mips/ase-errors-2.l,
	gas/mips/ase-errors-3.s, gas/mips/ase-errors-3.l,
	gas/mips/ase-errors-4.s, gas/mips/ase-errors-4.l: New tests.
	* gas/mips/mips.exp: Run them.

2013-06-18  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/eva.d: Use -32.

2013-06-17  Catherine Moore  <clm@@codesourcery.com>
	    Maciej W. Rozycki  <macro@@codesourcery.com>
	    Chao-Ying Fu  <fu@@mips.com>

	* gas/mips/mips.exp: Run new tests.
	* gas/mips/eva.d: New.
	* gas/mips/eva.s: New.
	* gas/mips/micromips@@eva.d: New.

2013-06-15  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/loc-swap-3.d: Require -32.

2013-06-14  Richard Sandiford  <rsandifo@@linux.vnet.ibm.com>

	* gas/mips/loc-swap-3.d, gas/mips/loc-swap-3.s: New test.
	* gas/mips/mips.exp: Run it.

2013-06-13  Chao-ying Fu  <Chao-ying.Fu@@imgtec.com>

	* gas/mips/micromips@@virt.d: New file.
	* gas/mips/micromips@@virt64.d: New file.
	* gas/mips/mips.exp: Enable virt and virt64 tests for micromips.

2013-06-12  Sandra Loosemore  <sandra@@codesourcery.com>

	* gas/nios2/movia.s: Add additional test case with negative
	constant value.
	* gas/nios2/movia.d: Likewise.

2013-06-12  Sandra Loosemore  <sandra@@codesourcery.com>

	* gas/nios2/tret.d: Correct eret encoding.

2013-06-10  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/relax-bc1any.l: New test.
	* gas/mips/relax-bc1any.s: New test source.
	* gas/mips/mips.exp: Run the new test.

2013-06-09  Sandra Loosemore  <sandra@@codesourcery.com>

	* gas/nios2/trap.s: Add additional test cases for optional
	argument.
	* gas/nios2/trap.d: Likewise.

2013-05-31  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/size-3.d: Updated for text/data/bss section alignment
	change.
	* gas/i386/x86-64-size-1.d: Likewise.
	* gas/i386/x86-64-unwind.d: Likewise.
	* gas/i386/ilp32/x86-64-size-1.d: Likewise.
	* gas/i386/ilp32/x86-64-size-5.d: Likewise.
	* gas/i386/ilp32/x86-64-unwind.d: Likewise.

2013-05-31  Catherine Moore  <clm@@codesourcery.com>

	gas/testsuite/
	* gas/mips/ehword.d: New.
	* gas/mips/ehword.s: New.
	* gas/mips/mips.exp: Run ehword test.

2013-05-29  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/jalr3.d: New test.
	* gas/mips/jalr3-n32.d: New test.
	* gas/mips/jalr3-n64.d: New test.
	* gas/mips/jalr3.s: New test source.
	* gas/mips/mips.exp: Run the new tests.

2013-05-28  Cary Coutant  <ccoutant@@google.com>

	* gas/cris/rd-dw2-1.d: Adjust expected output.
	* gas/cris/rd-dw2-10.d: Likewise.
	* gas/cris/rd-dw2-11.d: Likewise.
	* gas/cris/rd-dw2-12.d: Likewise.
	* gas/cris/rd-dw2-13.d: Likewise.
	* gas/cris/rd-dw2-14.d: Likewise.
	* gas/cris/rd-dw2-15.d: Likewise.
	* gas/cris/rd-dw2-2.d: Likewise.
	* gas/cris/rd-dw2-3.d: Likewise.
	* gas/cris/rd-dw2-4.d: Likewise.
	* gas/cris/rd-dw2-5.d: Likewise.
	* gas/cris/rd-dw2-6.d: Likewise.
	* gas/cris/rd-dw2-7.d: Likewise.
	* gas/cris/rd-dw2-8.d: Likewise.
	* gas/cris/rd-dw2-9.d: Likewise.
	* gas/elf/dwarf2-1.d: Likewise.
	* gas/elf/dwarf2-2.d: Likewise.
	* gas/elf/dwarf2-3.d: Likewise.
	* gas/i386/debug1.d: Likewise.
	* gas/i386/dw2-compress-1.d: Likewise.
	* gas/i386/ilp32/lns/lns-common-1.d: Likewise.
	* gas/i386/ilp32/lns/lns-duplicate.d: Likewise.
	* gas/ia64/pr13167.d: Likewise.
	* gas/lns/lns-big-delta.d: Likewise.
	* gas/lns/lns-common-1-alt.d: Likewise.
	* gas/lns/lns-common-1.d: Likewise.
	* gas/lns/lns-duplicate.d: Likewise.
	* gas/mips/loc-swap-2.d: Likewise.
	* gas/mips/loc-swap.d: Likewise.
	* gas/mips/micromips@@loc-swap-2.d: Likewise.
	* gas/mips/micromips@@loc-swap.d: Likewise.
	* gas/mips/mips16-dwarf2-n32.d: Likewise.
	* gas/mips/mips16-dwarf2.d: Likewise.
	* gas/mips/mips16@@loc-swap-2.d: Likewise.
	* gas/mips/mips16@@loc-swap.d: Likewise.

2013-05-28  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/ld-zero.d: New test.
	* gas/mips/ld-zero-2.d: New test.
	* gas/mips/ld-zero-3.d: New test.
	* gas/mips/ld-zero-q.d: New test.
	* gas/mips/ld-zero-u.d: New test.
	* gas/mips/ecoff@@ld-zero-3.d: New test.
	* gas/mips/micromips@@ld-zero-2.d: New test.
	* gas/mips/micromips@@ld-zero-3.d: New test.
	* gas/mips/ld-zero.s: New test source.
	* gas/mips/ld-zero-2.s: New test source.
	* gas/mips/ld-zero-3.s: New test source.
	* gas/mips/ld-zero-q.s: New test source.
	* gas/mips/ld-zero-u.s: New test source.
	* gas/mips/mips.exp: Run the new tests.

2013-05-28  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* gas/aarch64/tls.d: Update.
	* gas/aarch64/tls.s: Update.

2013-05-28  Kyrylo Tkachov  <kyrylo.tkachov@@arm.com>

	* gas/arm/armv8-a-bad.l: Update expected warning message.
	* gas/arm/armv8-a-it-bad.l: Likewise.

2013-05-28  Marcus Shawcroft  <marcus.shawcroft@@arm.com>

	* gas/aarch64/adr_1.d: New file.
	* gas/aarch64/adr_1.s: New file.
	* gas/aarch64/b_1.d: New file.
	* gas/aarch64/b_1.s: New file.
	* gas/aarch64/beq_1.d: New file.
	* gas/aarch64/beq_1.s: New file.
	* gas/aarch64/ldr_1.d: New file.
	* gas/aarch64/ldr_1.s: New file.
	* gas/aarch64/tbz_1.d: New file.
	* gas/aarch64/tbz_1.s: New file.

2013-05-24  Richard Sandiford  <rsandifo@@linux.vnet.ibm.com>

	* gas/s390/zarch-z9-109-err.s, gas/s390/zarch-z9-109-err.l: New test.
	* gas/s390/s390.exp: Run it.

2013-05-23  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* gas/s390/zarch-zEC12.d: Adjust length operands for cdzt, cxzt,
	czdt, and czxt.
	* gas/s390/zarch-zEC12.d: Likewise.

2013-05-22  Jrgen Urban  <JuergenUrban@@gmx.de>

	* gas/mips/r5900-full.s, gas/mips/r5900-full.d: Add tests for LQ
	and SQ macros.
	* gas/mips/r5900-vu0.s, gas/mips/r5900-vu0.d: New test.
	* gas/mips/mips.exp: Run it.

2013-05-21  Alan Modra  <amodra@@gmail.com>

	* gas/ppc/vsx2.d: Ignore trailing padding.

2013-05-20  Peter Bergner <bergner@@vnet.ibm.com>

	* gas/ppc/altivec2.d <bcdadd., bcdadd., vaddcuq, vaddecuq, vaddeuqm,
	vaddudm, vadduqm, vbpermq, vcipher, vcipherlast, vclzb, vclzd, vclzh,
	vclzw, vcmpequd, vcmpequd., vcmpgtsd, vcmpgtsd., vcmpgtud, vcmpgtud.,
	veqv, vgbbd, vmaxsd, vmaxud, vminsd, vminud, vmrgew, vmrgow, vmulesw,
	vmuleuw, vmulosw, vmulouw, vmuluwm, vnand, vncipher, vncipherlast,
	vorc, vpermxor, vpksdss, vpksdus, vpkudum, vpkudus, vpmsumb, vpmsumd,
	vpmsumh, vpmsumw, vpopcntb, vpopcntd, vpopcnth, vpopcntw, vrld, vsbox,
	vshasigmad, vshasigmaw, vsld, vsrad, vsrd, vsubcuq, vsubecuq, vsubeuqm,
	vsubudm, vsubuqm, vupkhsw, vupklsw>: Add new tests.
	* gas/ppc/altivec2.s: Likewise.
	* gas/ppc/power8.d <bcdadd., bcdsub., bctar, bctarl, clrbhrb, fmrgew,
	fmrgow, lqarx, lxsiwax, lxsiwzx, lxsspx, mfbhrbe, mfvsrd, mfvsrwz,
	msgclrp, msgsndp, mtsle, mtvsrd, mtvsrwa, mtvsrwz, pbt., rfebb,
	stqcx., stxsiwx, stxsspx, vaddcuq, vaddecuq, vaddeuqm, vaddudm,
	vadduqm, vbpermq, vcipher, vcipherlast, vclzb, vclzd, vclzh, vclzw,
	vcmpequd, vcmpequd., vcmpgtsd, vcmpgtsd., vcmpgtud, vcmpgtud., veqv,
	vgbbd, vmaxsd, vmaxud, vminsd, vminud, vmrgow, vmulesw, vmuleuw,
	vmulosw, vmulouw, vmuluwm, vnand, vncipher, vncipherlast, vorc,
	vpermxor, vpksdss, vpksdus, vpkudum, vpkudus, vpmsumb, vpmsumd,
	vpmsumh, vpmsumw, vpopcntb, vpopcntd, vpopcnth, vpopcntw, vrld, vsbox,
	vshasigmad, vshasigmaw, vsld, vsrad, vsrd, vsubcuq, vsubecuq, vsubeuqm,
	vsubuqm, vupkhsw, vupklsw, waitasec, xsaddsp, xscvdpspn, xscvspdpn,
	xscvsxdsp, xscvuxdsp, xsdivsp, xsmaddasp, xsmaddmsp, xsmsubasp,
	xsmsubmsp, xsmulsp, xsnmaddasp, xsnmaddmsp, xsnmsubasp, xsnmsubmsp,
	xsresp, xsrsp, xsrsqrtesp, xssqrtsp, xssubsp, xxleqv, xxlnand,
	xxlorc>: Add new tests.
	* gas/ppc/power8.s Likewise.
	* gas/ppc/vsx.d <lxvd2x, stxvd2x>: Add new tests.
	* gas/ppc/vsx.s Likewise.
	* gas/ppc/vsx2.d: New test file.
	* gas/ppc/vsx2.s: Likewise.
	* gas/ppc/ppc.exp: Run it.

2013-05-16  Tristan Gingold  <gingold@@adacore.com>

	* gas/ppc/ppc.exp: Do not run simpshft on aix.

2013-05-16  Nick Clifton  <nickc@@redhat.com>

	* gas/msp430/opcodes.s: Use correct value for .arch pseudo.
	* gas/msp430/msp430x.d: Use correct value for -mcpu option.

2013-05-13  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* gas/aarch64/diagnostic.s: Update.
	* gas/aarch64/diagnostic.l: Ditto.
	* gas/aarch64/movi.s: Add new tests.
	* gas/aarch64/movi.d: Update.

2013-05-09  Andrew Pinski  <apinski@@cavium.com>

	* gas/mips/mips.exp: Run virt and virt64 testcases.
	* gas/mips/virt.d: New file.
	* gas/mips/virt.s: New file.
	* gas/mips/virt64.d: New file.
	* gas/mips/virt64.s: New file.

2013-05-04  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/micromips-warn-branch-delay.d: Use numeric registers.

2013-05-02  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/mips16-stabs.s, gas/mips/mips16-stabs.d: New test.
	* gas/mips/mips.exp: Run it.

2013-05-02  Nick Clifton  <nickc@@redhat.com>

	* gas/all/gas.exp: Skip the DIFF1 test for the MSP430.
	Expect the FORWARD test to pass for the MSP430.
	Skip the REDEF tests for the MSP430.
	Expect the 930509A test to fail for the MSP430.
	* gas/all/sleb128-4.d: Skip for the MSP430.
	* gas/elf/elf.exp: Set target_machine to msp430 for the MSP430.
	Skip the EHOPT0 test for the MSP430.
	Skip the REDEF and EQU-RELOC tests for the MSP430.
	* gas/elf/section2.e-msp430: New file.
	* gas/lns/lns-big-delta.d: Remove expectation of 20-bit
	addresses.
	* gas/lns/lns.exp: Use alternate LNS COMMON test for the MSP430.
	* gas/msp430/msp430x.s: New test.
	* gas/msp430/msp430x.d: Expected disassembly.
	* gas/msp430/msp430.exp: Run new test.
	* gas/msp430/opcode.d: Update expected disassembly.

2013-04-30  Chao-ying Fu  <Chao-ying.Fu@@imgtec.com>

	* gas/mips/ext-ill.s: New file.
	* gas/mips/ext-ill.l: New file.
	* gas/mips/mips.exp: Run new tests.

2013-04-29  Nick Clifton  <nickc@@redhat.com>

	* gas/elf/dwarf2-3.d: Fix expected readelf output.

2013-04-24  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/rex.d: Skip x86_64-*-elf*.
	* gas/i386/ilp32/rex.d: Likewise.

2013-04-15  Julian Brown  <julian@@codesourcery.com>

	* gas/all/gas.exp (sleb128-7): Don't run for tic4x, tic54x.
	* gas/all/sleb128-2.s: Reformat, use _ at start of labels, remove
	cruft.
	* gas/all/sleb128-3.s: Likewise.
	* gas/all/sleb128-4.s: Likewise.
	* gas/all/sleb128-5.s: Likewise.
	* gas/all/sleb128-7.s: Likewise.
	* gas/all/sleb128-2.d: Handle data sections named $DATA$.
	* gas/all/sleb128-3.d: Likewise.
	* gas/all/sleb128-4.d: Likewise.
	* gas/all/sleb128-5.d: Likewise.
	* gas/all/sleb128-7.d: Likewise.

2013-04-10  Julian Brown  <julian@@codesourcery.com>

	* gas/all/sleb128-2.s: New test.
	* gas/all/sleb128-3.s: Likewise.
	* gas/all/sleb128-4.s: Likewise.
	* gas/all/sleb128-5.s: Likewise.
	* gas/all/sleb128-7.s: Likewise.
	* gas/all/sleb128-2.d: New.
	* gas/all/sleb128-3.d: New.
	* gas/all/sleb123-4.d: New.
	* gas/all/sleb123-5.d: New.
	* gas/all/sleb123-7.d: New.
	* gas/all/gas.exp (sleb128-2, sleb128-3, sleb128-4, sleb128-5)
	(sleb128-7): Run new tests.

2013-04-10  Jan Beulich <jbeulich@@suse.com>

	* gas/testsuite/gas/arm/ldst-pc.s: Add index, non-writeback
	forms of various loads and stores with PC as base.
	* gas/testsuite/gas/arm/ldst-pc.d: Update accordingly.

2013-04-10  Jan Beulich <jbeulich@@suse.com>

	* gas/arm/barrier-bad.d: Change title.
	* gas/arm/barrier-bad.s: Add immediate form of ISB and DSB as
	well as one symbolic form of DSB.
	* gas/arm/barrier-bad.l: Update accordingly.
	* gas/arm/barrier-bad-thumb.d: Adjust title. Use barrier-bad.s as
	source. Pass -mthumb to gas.
	* gas/arm/barrier-bad-thumb.l: Remove.
	* gas/arm/barrier-bad-thumb.s: Remove.
	* gas/arm/barrier-thumb.d: Adjust title. Use barrier.s as source.
	Pass -mthumb to gas.
	* gas/arm/barrier-thumb.s: Remove.

2013-04-09  Jan Beulich <jbeulich@@suse.com>

	* gas/arm/vfp1xD.s: Add VMRS/VMSR tests with FPINST, FPINST2,
	and C15.
	* gas/arm/vfp1xD.d: Update accordingly.

2013-04-09  Jan Beulich <jbeulich@@suse.com>

	* gas/arm/neon-omit.s: Add tests for suffix less VMOV.
	* gas/arm/neon-omit.d: Update accordingly.

2013-04-09  Jan Beulich <jbeulich@@suse.com>

	* gas/arm/neon-addressing-bad.s: Add test for further invalid VST
	operands.
	* gas/arm/neon-addressing-bad.l: Update accordingly.

2013-04-08  Jan Beulich <jbeulich@@suse.com>

	* gas/i386/x86-64-opcode.s: Flesh out LOOP and J*CXZ sections.
	Correct comments in Jcc section.
	* gas/i386/x86-64-opcode.d: Refresh.
	* gas/i386/ilp32/x86-64-opcode.d: Refresh.

2013-04-06  David S. Miller  <davem@@davemloft.net>

	* gas/sparc/cbcond.s: Add tests for new opcode aliases.
	* gas/sparc/cbcond.d: Updated.
	* gas/sparc/hpcvis3.s: Add tests for new opcode aliases.
	* gas/sparc/hpcvis3.d: Updated.
	* gas/sparc/v8-movwr-imm.d: Fix expected disassembly.
	* gas/sparc/edge.s: New test.
	* gas/sparc/edge.d: Expected disassembly.
	* gas/sparc/flush.s: New test.
	* gas/sparc/flush.d: Expected disassembly.
	* gas/sparc/ldd_std.s: New test.
	* gas/sparc/ldd_std.d: Expected disassembly.
	* gas/sparc/ldtw_sttw.s: New test.
	* gas/sparc/ldtw_sttw.d: Expected disassembly.
	* gas/sparc/sparc.exp: Run new tests.

2013-03-27  Alexis Deruelle  <alexis.deruelle@@gmail.com>

	PR binutils/15068
	* gas/tic6x/insns16-lsd-unit.s: Correct bit patterns for mvk, add
	and xor.
	* gas/tic6x/insns16-lsd-unit.d: Update expected output.

2013-03-27  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/addr32.s: Add an SIB test.
	* gas/i386/addr32.d: Updated.

2013-03-27  Alexis Deruelle  <alexis.deruelle@@gmail.com>

	PR binutils/15068
	* gas/tic6x/insns16-d-unit.s: New test.
	* gas/tic6x/insns16-d-unit.d: Expected disassembly.
	* gas/tic6x/insns16-ddec.s: New test.
	* gas/tic6x/insns16-ddec.d: Expected disassembly.
	* gas/tic6x/insns16-dinc.s: New test.
	* gas/tic6x/insns16-dinc.d: Expected disassembly.
	* gas/tic6x/insns16-dind.s: New test.
	* gas/tic6x/insns16-dind.d: Expected disassembly.
	* gas/tic6x/insns16-doff4.s: New test.
	* gas/tic6x/insns16-doff4.d: Expected disassembly.
	* gas/tic6x/insns16-l-unit.s: New test.
	* gas/tic6x/insns16-l-unit.d: Expected disassembly.
	* gas/tic6x/insns16-lsd-unit.s: New test.
	* gas/tic6x/insns16-lsd-unit.d: Expected disassembly.
	* gas/tic6x/insns16-m-unit.s: New test.
	* gas/tic6x/insns16-m-unit.d: Expected disassembly.
	* gas/tic6x/insns16-s-unit-pcrel.s: New test.
	* gas/tic6x/insns16-s-unit-pcrel.d: Expected disassembly.
	* gas/tic6x/insns16-s-unit: New test.
	* gas/tic6x/insns16-s-unit.d: Expected disassembly.

2013-03-26  Douglas B Rupp  <rupp@@adacore.com>

	* gas/ia64/ia64.exp: Add new test reloc-mlx
	* gas/ia64/reloc-mlx.[sd]: New test for X-unit reloc.
	* gas/ia64/pcrel.d: Fix output for X-unit reloc.

2013-03-21  Will Newton  <will.newton@@linaro.org>

	* gas/arm/thumb2_relax.d: Strip out invalid pc-relative strs.
	* gas/arm/thumb2_relax.s: Likewise.
	* gas/arm/thumb32.d: Likewise.
	* gas/arm/thumb32.l: Likewise.
	* gas/arm/thumb32.s: Likewise.
	* gas/arm/thumb2_str-bad.d: New file.
	* gas/arm/thumb2_str-bad.l: Likewise.
	* gas/arm/thumb2_str-bad.s: Likewise.

2013-03-20  Alexis Deruelle  <alexis.deruelle@@gmail.com>

	PR gas/15082
	* gas/tic6x/insns-bad-1.s: Remove test-case for mpydp with
	cross-path.
	* gas/tic6x/insns-bad-1.l: Update expected output.
	* gas/tic6x/insns-c674x.s: Add a test-case for mpydp with
	cross-path.
	* gas/tic6x/insns-c674x.d: Update expected output.

2013-03-20  Alexis Deruelle  <alexis.deruelle@@gmail.com>

	PR gas/15095
	* gas/tic6x/insns-c674x.s: Add test cases for the newly generated
	opcode.
	* gas/tic6x/insns-c674x.d: Update expected disassembly.

2013-03-15  Will Newton  <will.newton@@linaro.org>

	* gas/arm/any-idiv.d: Expand *-*eabi test to cover *-*eabi*.
	* gas/arm/arch4t-eabi.d: Likewise.
	* gas/arm/arch4t.d: Likewise.
	* gas/arm/attr-any-armv4t.d: Likewise.
	* gas/arm/attr-any-thumbv6.d: Likewise.
	* gas/arm/attr-cpu-directive.d: Likewise.
	* gas/arm/attr-default.d: Likewise.
	* gas/arm/attr-march-all.d: Likewise.
	* gas/arm/attr-march-armv1.d: Likewise.
	* gas/arm/attr-march-armv2.d: Likewise.
	* gas/arm/attr-march-armv2a.d: Likewise.
	* gas/arm/attr-march-armv2s.d: Likewise.
	* gas/arm/attr-march-armv3.d: Likewise.
	* gas/arm/attr-march-armv3m.d: Likewise.
	* gas/arm/attr-march-armv4.d: Likewise.
	* gas/arm/attr-march-armv4t.d: Likewise.
	* gas/arm/attr-march-armv4txm.d: Likewise.
	* gas/arm/attr-march-armv4xm.d: Likewise.
	* gas/arm/attr-march-armv5.d: Likewise.
	* gas/arm/attr-march-armv5t.d: Likewise.
	* gas/arm/attr-march-armv5te.d: Likewise.
	* gas/arm/attr-march-armv5tej.d: Likewise.
	* gas/arm/attr-march-armv5texp.d: Likewise.
	* gas/arm/attr-march-armv5txm.d: Likewise.
	* gas/arm/attr-march-armv6-m+os.d: Likewise.
	* gas/arm/attr-march-armv6-m.d: Likewise.
	* gas/arm/attr-march-armv6.d: Likewise.
	* gas/arm/attr-march-armv6j.d: Likewise.
	* gas/arm/attr-march-armv6k+sec.d: Likewise.
	* gas/arm/attr-march-armv6k.d: Likewise.
	* gas/arm/attr-march-armv6kt2.d: Likewise.
	* gas/arm/attr-march-armv6s-m.d: Likewise.
	* gas/arm/attr-march-armv6t2.d: Likewise.
	* gas/arm/attr-march-armv6z.d: Likewise.
	* gas/arm/attr-march-armv6zk.d: Likewise.
	* gas/arm/attr-march-armv6zkt2.d: Likewise.
	* gas/arm/attr-march-armv6zt2.d: Likewise.
	* gas/arm/attr-march-armv7-a+idiv.d: Likewise.
	* gas/arm/attr-march-armv7-a+mp.d: Likewise.
	* gas/arm/attr-march-armv7-a+sec+virt.d: Likewise.
	* gas/arm/attr-march-armv7-a+sec.d: Likewise.
	* gas/arm/attr-march-armv7-a+virt.d: Likewise.
	* gas/arm/attr-march-armv7-a.d: Likewise.
	* gas/arm/attr-march-armv7-m.d: Likewise.
	* gas/arm/attr-march-armv7-r+mp.d: Likewise.
	* gas/arm/attr-march-armv7-r.d: Likewise.
	* gas/arm/attr-march-armv7.d: Likewise.
	* gas/arm/attr-march-armv7a.d: Likewise.
	* gas/arm/attr-march-armv7em.d: Likewise.
	* gas/arm/attr-march-armv7m.d: Likewise.
	* gas/arm/attr-march-armv7r.d: Likewise.
	* gas/arm/attr-march-armv8-a+crypto.d: Likewise.
	* gas/arm/attr-march-armv8-a+fp.d: Likewise.
	* gas/arm/attr-march-armv8-a+simd.d: Likewise.
	* gas/arm/attr-march-armv8-a.d: Likewise.
	* gas/arm/attr-march-iwmmxt.d: Likewise.
	* gas/arm/attr-march-iwmmxt2.d: Likewise.
	* gas/arm/attr-march-xscale.d: Likewise.
	* gas/arm/attr-mcpu.d: Likewise.
	* gas/arm/attr-mfpu-arm1020e.d: Likewise.
	* gas/arm/attr-mfpu-arm1020t.d: Likewise.
	* gas/arm/attr-mfpu-arm1136jf-s.d: Likewise.
	* gas/arm/attr-mfpu-arm1136jfs.d: Likewise.
	* gas/arm/attr-mfpu-arm7500fe.d: Likewise.
	* gas/arm/attr-mfpu-fpa.d: Likewise.
	* gas/arm/attr-mfpu-fpa10.d: Likewise.
	* gas/arm/attr-mfpu-fpa11.d: Likewise.
	* gas/arm/attr-mfpu-fpe.d: Likewise.
	* gas/arm/attr-mfpu-fpe2.d: Likewise.
	* gas/arm/attr-mfpu-fpe3.d: Likewise.
	* gas/arm/attr-mfpu-maverick.d: Likewise.
	* gas/arm/attr-mfpu-neon-fp16.d: Likewise.
	* gas/arm/attr-mfpu-neon.d: Likewise.
	* gas/arm/attr-mfpu-softfpa.d: Likewise.
	* gas/arm/attr-mfpu-softvfp+vfp.d: Likewise.
	* gas/arm/attr-mfpu-softvfp.d: Likewise.
	* gas/arm/attr-mfpu-vfp.d: Likewise.
	* gas/arm/attr-mfpu-vfp10-r0.d: Likewise.
	* gas/arm/attr-mfpu-vfp10.d: Likewise.
	* gas/arm/attr-mfpu-vfp3.d: Likewise.
	* gas/arm/attr-mfpu-vfp9.d: Likewise.
	* gas/arm/attr-mfpu-vfpv2.d: Likewise.
	* gas/arm/attr-mfpu-vfpv3-d16.d: Likewise.
	* gas/arm/attr-mfpu-vfpv3.d: Likewise.
	* gas/arm/attr-mfpu-vfpv4-d16.d: Likewise.
	* gas/arm/attr-mfpu-vfpv4.d: Likewise.
	* gas/arm/attr-mfpu-vfpxd.d: Likewise.
	* gas/arm/attr-names.d: Likewise.
	* gas/arm/attr-order.d: Likewise.
	* gas/arm/attr-override-cpu-directive.d: Likewise.
	* gas/arm/attr-override-mcpu.d: Likewise.
	* gas/arm/got_prel.d: Likewise.
	* gas/arm/mapdir.d: Likewise.
	* gas/arm/mapmisc.d: Likewise.
	* gas/arm/mapsecs.d: Likewise.
	* gas/arm/mapshort-eabi.d: Likewise.
	* gas/arm/mapshort-elf.d: Likewise.
	* gas/arm/mov-highregs-any.d: Likewise.
	* gas/arm/mov-lowregs-any.d: Likewise.
	* gas/arm/pr12198-1.d: Likewise.
	* gas/arm/pr12198-2.d: Likewise.
	* gas/arm/thumb-eabi.d: Likewise.
	* gas/arm/thumb.d: Likewise.
	* gas/arm/thumbrel.d: Likewise.

2013-03-15  Nick Clifton  <nickc@@redhat.com>

	* gas/arm/arch7.d: Skip for non-ELF ARM targets.
	* gas/arm/arch7a-mp.d: Likewise.
	* gas/arm/arch7em.d: Likewise.
	* gas/arm/crc32-bad.d: Likewise.
	* gas/arm/crc32.d: Likewise.

2013-03-15  Will Newton  <will.newton@@linaro.org>

	* gas/arm/vstr-thumb-bad.d: Assemble with -mcpu=arm1156t2f-s.

2013-03-12  Sebastian Huber <sebastian.huber@@embedded-brains.de>

	* gas/nios2/nios2.exp: Use run_dump_tests.
	* gas/nios2/mov.d: Delete file.
	* gas/nios2/mov.s: Likewise.
	* gas/nios2/rol.d: Likewise.
	* gas/nios2/rol.s: Likewise.
	* gas/nios2/add.d: Check instruction values.
	* gas/nios2/align_fill.d: Likewise.
	* gas/nios2/and.d: Likewise.
	* gas/nios2/branch.d: Likewise.
	* gas/nios2/bret.d: Likewise.
	* gas/nios2/cache.d: Likewise.
	* gas/nios2/call.d: Likewise.
	* gas/nios2/call26.d: Likewise.
	* gas/nios2/cmp.d: Likewise.
	* gas/nios2/comments.d: Likewise.
	* gas/nios2/complex.d: Likewise.
	* gas/nios2/ctl.d: Likewise.
	* gas/nios2/custom.d: Likewise.
	* gas/nios2/etbt.d: Likewise.
	* gas/nios2/flushda.d: Likewise.
	* gas/nios2/jmp.d: Likewise.
	* gas/nios2/ldb.d: Likewise.
	* gas/nios2/ldh.d: Likewise.
	* gas/nios2/ldw.d: Likewise.
	* gas/nios2/lineseparator.d: Likewise.
	* gas/nios2/movi.d: Likewise.
	* gas/nios2/movia.d: Likewise.
	* gas/nios2/mul.d: Likewise.
	* gas/nios2/nor.d: Likewise.
	* gas/nios2/or.d: Likewise.
	* gas/nios2/registers.d: Likewise.
	* gas/nios2/ret.d: Likewise.
	* gas/nios2/rotate.d: Likewise.
	* gas/nios2/stb.d: Likewise.
	* gas/nios2/sth.d: Likewise.
	* gas/nios2/stw.d: Likewise.
	* gas/nios2/sub.d: Likewise.
	* gas/nios2/sync.d: Likewise.
	* gas/nios2/trap.d: Likewise.
	* gas/nios2/tret.d: Likewise.
	* gas/nios2/xor.d: Likewise.

2013-03-12  Sebastian Huber <sebastian.huber@@embedded-brains.de>

	* gas/nios2/break.d: Check instruction values.

2013-03-11  Sebastian Huber <sebastian.huber@@embedded-brains.de>

	* gas/nios2/nios2.exp: Run wrprs.
	* gas/nios2/wrprs.d: New file.
	* gas/nios2/wrprs.s: Likewise.

2013-03-11  Sebastian Huber <sebastian.huber@@embedded-brains.de>

	* gas/nios2/nios2.exp: Run rdprs.
	* gas/nios2/rdprs.d: New file.
	* gas/nios2/rdprs.s: Likewise.

2013-03-11  Sebastian Huber <sebastian.huber@@embedded-brains.de>

	* gas/nios2/nios2.exp: Run registers.
	* gas/nios2/registers.d: New file.
	* gas/nios2/registers.s: Likewise.

2013-03-11  Kyrylo Tkachov  <kyrylo.tkachov@@arm.com>

	* gas/arm/crc32-bad.d: New file.
	* gas/arm/crc32-bad.l: Likewise.
	* gas/arm/crc32-bad.s: Likewise.
	* gas/arm/crc32.d: Likewise.
	* gas/arm/crc32.s: Likewise.

2013-03-05  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* gas/aarch64/diagnostic.s: Add test.
	* gas/aarch64/diagnostic.l: Update.
	* gas/aarch64/illegal.s: Add test.
	* gas/aarch64/illegal.l: Update.
	* gas/aarch64/fpmov.s: New file.
	* gas/aarch64/fpmov.d: New file.

2013-03-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/inval.s: Add tests for invalid addresses and eiz.

	* gas/i386/x86-64-inval.s: Add tests for invalid addresses and
	riz/eiz.

	* gas/i386/inval.l: Updated.
	* gas/i386/x86-64-inval.l: Likewise.

2013-02-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run inval-rep and x86-64-inval-rep.

	* gas/i386/inval-rep.l: New file.
	* gas/i386/inval-rep.s: Likewise.
	* gas/i386/x86-64-inval-rep.l: Likewise.
	* gas/i386/x86-64-inval-rep.s: Likewise.

2013-02-28  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* gas/aarch64/crc32.s: New test.
	* gas/aarch64/crc32.d: Ditto.

2013-02-28  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* gas/aarch64/illegal.l: Delete the error message for
	msr S3_1_C13_C15_1,x7.
	* gas/aarch64/sysreg.s: Add new tests.
	* gas/aarch64/sysreg.d: Update.

2013-02-19  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/15159
	* gas/i386/i386.exp: Run smap and x86-64-smap.

	* gas/i386/smap.d: New file.
	* gas/i386/smap.s: likewise.
	* gas/i386/x86-64-smap.d: likewise.

2013-02-15  Markos Chandras  <markos.chandras@@imgtec.com>

	* gas/metag/labelarithmetic.d: Fix the expected disassembler
	output to be in little endian format
	* gas/metag/metacore12.d: likewise
	* gas/metag/metacore21.d: likewise
	* gas/metag/metacore21ext.d: likewise
	* gas/metag/metadsp21.d: likewise
	* gas/metag/metadsp21ext.d: likewise
	* gas/metag/metafpu.d: likewise
	* gas/metag/metafpuext.d: likewise
	* gas/metag/tls.d: likewise

2013-02-15  Kyrylo Tkachov  <kyrylo.tkachov@@arm.com>

	* gas/arm/neon-vmov-bad.d: New file.
	* gas/arm/neon-vmov-bad.s: Likewise.
	* gas/arm/neon-vmov-bad.l: Likewise.

2013-02-14  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* gas/aarch64/system.s: Add tests.
	* gas/aarch64/system.d: Update.

2013-02-11  Kyrylo Tkachov  <kyrylo.tkachov@@arm.com>

	* gas/arm/archv6t2.s: Add strht and ldrht tests.
	* gas/arm/archv6t2.d: Add disassembly patterns for the above.

2013-02-09  Jrgen Urban  <JuergenUrban@@gmx.de>

	* gas/mips/24k-triple-stores-2.d, gas/mips/24k-triple-stores-2.s,
	gas/mips/micromips@@24k-triple-stores-2.d: Move "sc" tests to...
	* gas/mips/24k-triple-stores-2-llsc.d,
	gas/mips/24k-triple-stores-2-llsc.s,
	gas/mips/micromips@@24k-triple-stores-2-llsc.d: ...these new tests.
	* gas/mips/r5900-full.d, gas/mips/r5900-full.s: Verify that the
	MIPS ISA level can be upgraded to support ll, sc, lld and scd.
	* gas/mips/l_d-single.d, gas/mips/s_d-single.d,
	gas/mips/r5900-nollsc.l, gas/mips/r5900-nollsc.s: New tests.
	* gas/mips/mips.exp: Update accordingly.  Add "nollsc" to r5900
	properties.

2013-02-08  Alan Modra  <amodra@@gmail.com>

	* gas/nios2/nios2.exp: Add copyright.
	(run_list_test): Delete.  Adjust callers to use standard version.

2013-02-06  Sandra Loosemore  <sandra@@codesourcery.com>
	    Andrew Jenner <andrew@@codesourcery.com>

	Based on patches from Altera Corporation.

	* gas/nios2/add.d: New.
	* gas/nios2/add.s: New.
	* gas/nios2/align_fill.d: New.
	* gas/nios2/align_fill.s: New.
	* gas/nios2/align_text.d: New.
	* gas/nios2/align_text.s: New.
	* gas/nios2/and.d: New.
	* gas/nios2/and.s: New.
	* gas/nios2/branch.d: New.
	* gas/nios2/branch.s: New.
	* gas/nios2/break.d: New.
	* gas/nios2/break.s: New.
	* gas/nios2/bret.d: New.
	* gas/nios2/bret.s: New.
	* gas/nios2/cache.d: New.
	* gas/nios2/cache.s: New.
	* gas/nios2/call26.d: New.
	* gas/nios2/call26.s: New.
	* gas/nios2/call.d: New.
	* gas/nios2/call.s: New.
	* gas/nios2/cmp.d: New.
	* gas/nios2/cmp.s: New.
	* gas/nios2/comments.d: New.
	* gas/nios2/comments.s: New.
	* gas/nios2/complex.d: New.
	* gas/nios2/complex.s: New.
	* gas/nios2/ctl.d: New.
	* gas/nios2/ctl.s: New.
	* gas/nios2/custom.d: New.
	* gas/nios2/custom.s: New.
	* gas/nios2/etbt.d: New.
	* gas/nios2/etbt.s: New.
	* gas/nios2/flushda.d: New.
	* gas/nios2/flushda.s: New.
	* gas/nios2/illegal.l: New.
	* gas/nios2/illegal.s: New.
	* gas/nios2/jmp.d: New.
	* gas/nios2/jmp.s: New.
	* gas/nios2/ldb.d: New.
	* gas/nios2/ldb.s: New.
	* gas/nios2/ldh.d: New.
	* gas/nios2/ldh.s: New.
	* gas/nios2/ldw.d: New.
	* gas/nios2/ldw.s: New.
	* gas/nios2/lineseparator.d: New.
	* gas/nios2/lineseparator.s: New.
	* gas/nios2/mov.d: New.
	* gas/nios2/movia.d: New.
	* gas/nios2/movia.s: New.
	* gas/nios2/movi.d: New.
	* gas/nios2/movi.s: New.
	* gas/nios2/mov.s: New.
	* gas/nios2/mul.d: New.
	* gas/nios2/mul.s: New.
	* gas/nios2/nios2.exp: New.
	* gas/nios2/nor.d: New.
	* gas/nios2/nor.s: New.
	* gas/nios2/or.d: New.
	* gas/nios2/or.s: New.
	* gas/nios2/ret.d: New.
	* gas/nios2/ret.s: New.
	* gas/nios2/rol.d: New.
	* gas/nios2/rol.s: New.
	* gas/nios2/rotate.d: New.
	* gas/nios2/rotate.s: New.
	* gas/nios2/stb.d: New.
	* gas/nios2/stb.s: New.
	* gas/nios2/sth.d: New.
	* gas/nios2/sth.s: New.
	* gas/nios2/stw.d: New.
	* gas/nios2/stw.s: New.
	* gas/nios2/sub.d: New.
	* gas/nios2/sub.s: New.
	* gas/nios2/sync.d: New.
	* gas/nios2/sync.s: New.
	* gas/nios2/trap.d: New.
	* gas/nios2/trap.s: New.
	* gas/nios2/tret.d: New.
	* gas/nios2/tret.s: New.
	* gas/nios2/warn_noat.l: New.
	* gas/nios2/warn_noat.s: New.
	* gas/nios2/warn_nobreak.l: New.
	* gas/nios2/warn_nobreak.s: New.
	* gas/nios2/xor.d: New.
	* gas/nios2/xor.s: New.

2013-01-31  Tristan Gingold  <gingold@@adacore.com>

	* gas/ppc/test1xcoff32.d: Updated.
	* gas/all/fwdexp.d: Adjusted for AIX.

2013-01-30  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* gas/aarch64/alias.s: Add new tests.
	* gas/aarch64/alias.d: Update.
	* gas/aarch64/no-aliases.d: Update.

2013-01-30  Markos Chandras  <markos.chandras@@imgtec.com>

	* gas/metag/metacore21-invalid.s: Add invalid SWAP testcases.
	* gas/metag/metacore21-invalid.l: Add expected output for invalid
	SWAP testcases.

2013-01-28  Alexis Deruelle  <alexis.deruelle@@gmail.com>

	PR gas/15069
	* gas/tic6x/insns-c674x-pcrel.s: Add test of BNOP instruction
	within header based fetch packet.
	* gas/tic6x/insns-c674x-pcrel.d: Update expected disassembly.

2013-01-24  Nick Clifton  <nickc@@redhat.com>

	* gas/elf/warn-2.s: Skip for all V850 variants.

2013-01-17  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* gas/aarch64/diagnostic.l: Update.
	* gas/aarch64/movi.s: Add tests.
	* gas/aarch64/movi.d: Update.
	* gas/aarch64/programmer-friendly.s: Add comment.

2013-01-16  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run size-1, size-2, size-3, size-4,
	x86-64-size-1, x86-64-size-2, x86-64-size-3, x86-64-size-4,
	x86-64-size-5 and x86-64-size-inval-1.

	* gas/i386/size-1.d: New file.
	* gas/i386/size-1.s: Likewise.
	* gas/i386/size-2.d: Likewise.
	* gas/i386/size-2.s: Likewise.
	* gas/i386/size-3.d: Likewise.
	* gas/i386/size-3.s: Likewise.
	* gas/i386/size-4.d: Likewise.
	* gas/i386/size-4.s: Likewise.
	* gas/i386/x86-64-size-1.d: Likewise.
	* gas/i386/x86-64-size-2.d: Likewise.
	* gas/i386/x86-64-size-3.d: Likewise.
	* gas/i386/x86-64-size-4.d: Likewise.
	* gas/i386/x86-64-size-5.d: Likewise.
	* gas/i386/x86-64-size-5.s: Likewise.
	* gas/i386/x86-64-size-inval-1.l: Likewise.
	* gas/i386/x86-64-size-inval-1.s: Likewise.
	* gas/i386/ilp32/x86-64-size-1.d: Likewise.
	* gas/i386/ilp32/x86-64-size-2.d: Likewise.
	* gas/i386/ilp32/x86-64-size-3.d: Likewise.
	* gas/i386/ilp32/x86-64-size-4.d: Likewise.
	* gas/i386/ilp32/x86-64-size-5.d: Likewise.

2013-01-16  Alan Modra  <amodra@@gmail.com>

	* gas/ppc/htm.d: Ignore padding at end of section.

2013-01-15  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/15019
	* gas/i386/reloc32.s: Add tests for "xtrn@@got -/+ 4".
	* gas/i386/reloc64.s: Likewise.
	* gas/i386/ilp32/reloc64.s: Likewise.

	* gas/i386/reloc32.d: Updated.
	* gas/i386/reloc64.d: Likewise.
	* gas/i386/ilp32/reloc64.d: Likewise.

2013-01-15  Nick Clifton  <nickc@@redhat.com>

	* gas/v850/basic.exp: Allow for variations in reloc names.
	* gas/v850/split-lo16.d: Likewise.

	* gas/v850/v850e1.s: Add more tests of the PREPARE insn.
	* gas/v850/v850e1.d: Update expected disassembly.

2013-01-14  Alan Modra  <amodra@@gmail.com>

	* gas/v850/basic.exp (reloc part 1): Pass -mgcc-abi to gas.
	* gas/v850/split-lo16.d: Likewise.

2013-01-14  Will Newton <will.newton@@imgtec.com>

	* gas/metag/metadsp21.d: Fix expected MMOV disassembly.

2013-01-14  Alan Modra  <amodra@@gmail.com>

	* gas/ppc/htm.s: Use .text rather than .section ".text".
	* gas/ppc/power8.s: Likewise.
	* gas/ppc/htm.d: Don't match file format.
	* gas/ppc/power8.d: Likewise.

2013-01-10  Peter Bergner <bergner@@vnet.ibm.com>

	* gas/ppc/htm.d: New test.
	* gas/ppc/htm.s: Likewise.
	* gas/ppc/power8.d: Likewise.
	* gas/ppc/power8.s: Likewise.
	* gas/ppc/ppc.exp: Run them.

2013-01-10  Will Newton <will.newton@@imgtec.com>

	* gas/metag/labelarithmetic.d: New file.
	* gas/metag/labelarithmetic.s: New file.
	* gas/metag/metacore12.d: New file.
	* gas/metag/metacore12.s: New file.
	* gas/metag/metacore21-invalid.l: New file.
	* gas/metag/metacore21-invalid.s: New file.
	* gas/metag/metacore21.d: New file.
	* gas/metag/metacore21.s: New file.
	* gas/metag/metacore21ext.d: New file.
	* gas/metag/metacore21ext.s: New file.
	* gas/metag/metadsp21-invalid.l: New file.
	* gas/metag/metadsp21-invalid.s: New file.
	* gas/metag/metadsp21.d: New file.
	* gas/metag/metadsp21.s: New file.
	* gas/metag/metadsp21ext.d: New file.
	* gas/metag/metadsp21ext.s: New file.
	* gas/metag/metafpu21.d: New file.
	* gas/metag/metafpu21.s: New file.
	* gas/metag/metafpu21ext.d: New file.
	* gas/metag/metafpu21ext.s: New file.
	* gas/metag/metag.exp: New file.
	* gas/metag/tls.d: New file.
	* gas/metag/tls.s: New file.

2013-01-08  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* gas/aarch64/diagnostic.s: Add test.
	* gas/aarch64/diagnostic.l: Update.

2013-01-07  Nick Clifton  <nickc@@redhat.com>

	PR gas/14887
	* gas/arm/neon-ldst-es.s: Add more whitespace.

2013-01-04  Juergen Urban <JuergenUrban@@gmx.de>

	* gas/mips/r5900-full.s: New test.
	* gas/mips/r5900-full.d: Expected disassembly.
	* gas/mips/r5900.s: New test.
	* gas/mips/r5900.d: Expected disassembly.
	* gas/mips/mips.exp: Run new tests.

2013-01-04  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* gas/aarch64/int-insns.d: Update.
	* gas/aarch64/mov.d: Update.
	* gas/aarch64/reloc-insn.d: Update.

2013-01-04  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* gas/aarch64/system.d: Update.

2013-01-02  Nick Clifton  <nickc@@redhat.com>

	PR gas/14987
	* gas/arm/neon-ldst-es.s: Add whitespace test.
	* gas/arm/neon-ldst-es.d: Update expected disassembly.

For older changes see ChangeLog-2012

Copyright (C) 2013 Free Software Foundation, Inc.

Copying and distribution of this file, with or without modification,
are permitted in any medium without royalty provided the copyright
notice and this notice are preserved.

Local Variables:
mode: change-log
left-margin: 8
fill-column: 74
version-control: never
End:
@


1.2309
log
@Fix neon vshll disassembly.

opcodes/
2013-10-15  Ramana Radhakrishnan  <ramana.radhakrishnan@@arm.com>

	* arm-dis.c (neon_opcodes): Adjust print string for vshll.

gas/testsuite/
2013-10-15  Ramana Radhakrishnan  <ramana.radhakrishnan@@arm.com>

	* gas/arm/neon-cov.d: Adjust output.
@
text
@d1 6
@


1.2308
log
@2013-10-14  Chao-ying Fu  <Chao-ying.Fu@@imgtec.com>

	* gas/mips/micromips@@msa-relax.d, gas/mips/micromips@@msa.d,
	gas/mips/micromips@@msa64.d, gas/mips/msa-relax.d,
	gas/mips/msa-relax.l, gas/mips/msa-relax.s,
	gas/mips/msa.d, gas/mips/msa.s, gas/mips/msa64.d,
	gas/mips/msa64.s: New.
	* gas/mips/mips.exp: Run new tests.
@
text
@d1 4
@


1.2307
log
@	* gen-aout.c (main): Fix formatting.  Close file.

	* emultempl/aix.em (_read_file): Close file at end of function.

	* gas/all/itbl-test.c (main): Close fas.

	* read.c (add_include_dir): Use xrealloc.
	* config/tc-score.c (do_macro_bcmp): Initialise inst_main.
	* config/tc-tic6x.c (tic6x_parse_operand): Initialise second_reg.

	* readelf.c (decode_arm_unwind): Initialise addr structure.
	(process_symbol_table): Free lengths.
	* srcconv.c (wr_sc): Free info.

	* chew.c (perform): Free next.
@
text
@d1 9
@


1.2306
log
@2013-10-13  Sandra Loosemore  <sandra@@codesourcery.com>

	opcodes/
	* nios2-opc.c (nios2_builtin_reg): Use "sstatus" rather than "ba"
	as the primary name of r30.

	gas/
	* config/tc-nios2.c (nios2_consume_arg): Make the "ba" warning
	also test/refer to "sstatus".  Reformat the warning message.

	gas/testsuite/
	* gas/nios2/warn_nobreak.l: Update text of warning messages.
	* gas/nios2/registers.s: Use "sstatus" rather than "ba"
	as the primary name of r30.
	* gas/nios2/registers.d: Likewise.
@
text
@d1 4
@


1.2305
log
@Only allow 32-bit/64-bit registers for bndcl/bndcu/bndcn

gas/testsuite/

	* gas/i386/mpx.s: Remove bndcl/bndcu/bndcn tests with AX.
	* gas/i386/x86-64-mpx.s: Likwise.

	* gas/i386/mpx.d: Updated.
	* gas/i386/x86-64-mpx.d: Likewise.

opcodes/

	* i386-dis.c (intel_operand_size): Move v_bnd_mode alongside the
	default case.
	(OP_E_register): Move v_bnd_mode alongside m_mode.
	* i386-opc.tbl (bndcl, bndcu, bndcn): Split 32- and 64-bit variants.
	Drop Reg16 and Disp16. Add NoRex64.
	(bndmk, bndmov, bndldx, bndstx): Drop Disp16.
	* i386-tbl.h: Re-generate.
@
text
@d1 7
@


1.2304
log
@	* gas/xgate/all_insns.d: Add com macro insn test.
	* gas/xgate/all_insns.s: Add com macro insn test.
@
text
@d1 8
@


1.2303
log
@gas/
2013-10-08  Jan Beulich <jbeulich@@suse.com>

	* gas/config/tc-arm.c (do_t_push_pop): Honor inst.size_req. Simplify
	LR/PC check.

gas/testsuite/
2013-10-08  Jan Beulich <jbeulich@@suse.com>

	* gas/arm/thumb-w-good.s: Add PUSH.W and POP.W tests.
	* gas/arm/thumb-w-good.d: Update accordingly.
@
text
@d1 5
@


1.2302
log
@	* config/tc-msp430.c (msp430_operands): Accept "<foo>.a" as an alias
	for "<foo>a".  Issue error messages for unrecognised or corrrupt
	size extensions.

	* gas/msp430/bad.s: New test: Checks erroneous size extensions.
	* gas/msp430/bad.d: New test command file.
	* gas/msp430/bad.l: New file: Expected error messages.
	* gas/msp430/msp430.exp: Run the new test.
	* gas/msp430/msp430x.s: Add "<foo>.a" aliases of "<foo>a"
	instructions.
	* gas/msp430/msp430x.d: Update expected disassembly.
@
text
@d1 5
@


1.2301
log
@2013-10-07  Chao-ying Fu  <Chao-ying.Fu@@imgtec.com>

	* gas/mips/micromips@@virt64.d: Fix dmfgc0 and dmtgc0.
@
text
@d1 10
@


1.2300
log
@[gas/]
2013-10-04  Kyrylo Tkachov  <kyrylo.tkachov@@arm.com>

	* config/tc-arm.c (do_t_mvn_tst): Use narrow form for tst when
	possible.


[gas/testsuite/]
2013-10-04  Kyrylo Tkachov  <kyrylo.tkachov@@arm.com>

	* gas/arm/thumb2_it.s: Add test for narrow tst.
	* gas/arm/thumb2_it.d: Update expected output.
	* gas/arm/thumb2_it_auto.d: Likewise.
@
text
@d1 4
@


1.2299
log
@Add AMD bdver4 support.

gas/
	* config/tc-i386.c (cpu_arch): Add CPU_BDVER4_FLAGS.
	* doc/c-i386.texi: Add -march=bdver4 option.

gas/testsuite/
	* gas/i386/i386.exp: Run bdver4 test cases.
	* gas/i386/nops-1-bdver4.d: New.
	* gas/i386/arch-10-bdver4.d: New.
	* gas/i386/x86-64-nops-1-bdver4.d: New.
	* gas/i386/x86-64-arch-2-bdver4.d: New.

opcodes/
	* i386-gen.c (cpu_flag_init): Add CPU_BDVER4_FLAGS.
	* i386-init.h: Regenerated.
@
text
@d1 6
@


1.2298
log
@opcodes/
	* s390-opc.txt (clih): Make the immediate unsigned.

gas/testsuite/
	* gas/s390/zarch-z196.s, gas/s390/zarch-z196.d: Test CLIH with
	4000000000.
@
text
@d1 8
@


1.2298.2.1
log
@Only allow 32-bit/64-bit registers for bndcl/bndcu/bndcn

gcc/

	PR target/58690
	* config/i386/i386.c (ix86_copy_addr_to_reg): New function.
	(ix86_expand_movmem): Replace copy_addr_to_reg with
	ix86_copy_addr_to_reg.
	(ix86_expand_setmem): Likewise.

gcc/testsuite/

	PR target/58690
	* gcc.target/i386/pr58690.c: New test
@
text
@a0 8
2013-10-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/mpx.s: Remove bndcl/bndcu/bndcn tests with AX.
	* gas/i386/x86-64-mpx.s: Likwise.

	* gas/i386/mpx.d: Updated.
	* gas/i386/x86-64-mpx.d: Likewise.

@


1.2297
log
@gas/config/tc-arm.c: Fix parsing of NEON load/store element sizes.

The existing code would accept VLD2.64 and similar undefined
instructions.

gas/ChangeLog:

2013-09-16  Will Newton  <will.newton@@linaro.org>

	* config/tc-arm.c (do_neon_ld_st_interleave): Add constraint
	disallowing element size 64 with interleave other than 1.

gas/testsuite/ChangeLog:

2013-09-16  Will Newton  <will.newton@@linaro.org>

	* gas/arm/neon-ldst-es.d: Add VLD1.64 instructions.
	* gas/arm/neon-ldst-es.s: Likewise.
	* testsuite/gas/arm/neon-ldst-es-bad.d: New file.
	* testsuite/gas/arm/neon-ldst-es-bad.l: Likewise.
	* testsuite/gas/arm/neon-ldst-es-bad.s: Likewise.
@
text
@d1 5
@


1.2296
log
@2013-09-12  Chao-ying Fu  <Chao-ying.Fu@@imgtec.com>

	* gas/mips/bltzal.s: New file.
	* gas/mips/bltzal.l: New file.
	* gas/mips/mips.exp: Run the bltzal test.
@
text
@d1 8
@


1.2295
log
@	* dwarf.c (dwarf_vmatoa): Rename to dwarf_vmatoa_1 and add a
	precision parameter.
	(dwarf_vmatoa): New wrapper for dwarf_vmatoa_1.
	(print_dwarf_vma): Use dwarf_vmatoa_1.
	(SAFE_BYTE_GET): Add check that VAL is big enough to contain
	AMOUNT bytes.
	(process_debug_info): Use an unsigned int for the offset size.
	(process_debug_pubnames): Likewise.
	(display_debug_aranges): Likewise.
	(struct Frame_Chunk): Use dwarf_vma type for pc_begin and pc_range
	fields.
	(frame_display_row): Use print_dwarf_vma to display dwarf_vma
	values.
	(display_debug_frames): Likewise.

	* binutils-all/x86-64/compressed-1a.d: Update expected output to
	allow for 64-bit addresses.

	* ld-elf/eh1.d: Update expected output to allow for
	64-bit addresses.
	* ld-elf/eh2.d: Likewise.
	* ld-elf/eh3.d: Likewise.
	* ld-elf/eh4.d: Likewise.
	* ld-elf/eh5.d: Likewise.
	* ld-elf/eh6.d: Likewise.
	* ld-mips-elf/eh-frame1-n64.d: Likewise.
	* ld-mips-elf/eh-frame2-n64.d: Likewise.
	* ld-mips-elf/eh-frame3.d: Likewise.

	* gas/cfi/cfi-alpha-1.d: Update expected output to allow for
	64-bit addresses.
	* gas/cfi/cfi-alpha-3.d: Likewise.
	* gas/cfi/cfi-arm-1.d: Likewise.
	* gas/cfi/cfi-common-1.d: Likewise.
	* gas/cfi/cfi-common-2.d: Likewise.
	* gas/cfi/cfi-common-3.d: Likewise.
	* gas/cfi/cfi-common-4.d: Likewise.
	* gas/cfi/cfi-common-5.d: Likewise.
	* gas/cfi/cfi-common-6.d: Likewise.
	* gas/cfi/cfi-common-7.d: Likewise.
	* gas/cfi/cfi-hppa-1.d: Likewise.
	* gas/cfi/cfi-i386-2.d: Likewise.
	* gas/cfi/cfi-i386.d: Likewise.
	* gas/cfi/cfi-m68k.d: Likewise.
	* gas/cfi/cfi-mips-1.d: Likewise.
	* gas/cfi/cfi-ppc-1.d: Likewise.
	* gas/cfi/cfi-s390-1.d: Likewise.
	* gas/cfi/cfi-s390x-1.d: Likewise.
	* gas/cfi/cfi-sh-1.d: Likewise.
	* gas/cfi/cfi-sparc-1.d: Likewise.
	* gas/cfi/cfi-sparc64-1.d: Likewise.
	* gas/cfi/cfi-x86_64.d: Likewise.
@
text
@d1 6
@


1.2294
log
@gas/
	* config/tc-ppc.c (md_apply_fix): Handle defined after use toc
	symbols.

gas/testsuite/
	* gas/ppc/aix.exp: Run xcoff-toc-1 test.
	* gas/ppc/xcoff-toc-1.s, gas/ppc/xcoff-toc-1.d: New test.
@
text
@d1 26
@


1.2293
log
@	PR gas/15914

	* config/tc-arm.c (T16_32_TAB): Add _udf.
	(do_t_udf): New function.
	(insns): Add "udf".

	* gas/arm/udf-bad.s: New file.
	* gas/arm/udf-bad.d: New file.
	* gas/arm/udf-bad.l: New file.
	* gas/arm/udf.s: New file.
	* gas/arm/udf.d: New file.
	* gas/arm/udf.l: New file.

	* arm-dis.c (arm_opcodes): Add udf.
	(thumb_opcodes): Use "udf" mnemonic rather than UNDEFINED_INSTRUCTION.
	(thumb32_opcodes): Add udf.w.
	(print_insn_thumb32): Handle %H as the thumb32_opcodes comment says.
@
text
@d1 5
@


1.2292
log
@	* aarch64-opc.c (aarch64_logical_immediate_p): Return FALSE if the
	immediate is not suitable for the 32-bit ABI.

	* gas/aarch64/illegal.s: Add illegal constant for logical
	operation.
	* gas/aarch64/illegal.l: Add expected error message.
@
text
@d1 10
@


1.2291
log
@	opcodes/
	* micromips-opc.c (micromips_opcodes): Use RD_4 for "alnv.ps",
	replacing NODS.

	gas/testsuite/
	* gas/testsuite/gas/mips/micromips-insn32.d: Adjust for delay
	slot scheduling of ALNV.PS.
	* gas/testsuite/gas/mips/micromips-noinsn32.d: Likewise.
	* gas/testsuite/gas/mips/micromips-trap.d: Likewise.
	* gas/testsuite/gas/mips/micromips.d: Likewise.
	* gas/testsuite/gas/mips/micromips@@alnv_ps-swap.d: Likewise.
@
text
@d1 6
@


1.2290
log
@	PR binutils/15834
	Fix typos:
---
 bfd/bfdio.c                                  |  2 +-
 bfd/elf32-spu.c                              |  2 +-
 bfd/elfnn-aarch64.c                          |  2 +-
 binutils/od-xcoff.c                          |  2 +-
 config/tcl.m4                                |  2 +-
 gas/config/tc-ia64.c                         |  2 +-
 gas/config/tc-sparc.c                        |  2 +-
 gas/config/tc-z80.c                          | 12 ++++++------
 gas/doc/c-i386.texi                          |  6 +++---
 gas/doc/c-m32r.texi                          |  2 +-
 gas/testsuite/gas/d10v/instruction_packing.d |  2 +-
 gas/testsuite/gas/z80/atend.d                |  2 +-
 gold/object.h                                |  2 +-
 include/gdb/remote-sim.h                     |  2 +-
 include/opcode/ChangeLog                     |  2 +-
 include/opcode/i960.h                        |  2 +-
 ld/testsuite/ld-mips-elf/mips16-pic-1.inc    |  2 +-
 opcodes/aarch64-asm.c                        |  2 +-
 opcodes/aarch64-dis.c                        |  2 +-
 opcodes/msp430-dis.c                         |  2 +-
@
text
@d1 9
@


1.2289
log
@gas/config/tc-arm.c: Improve validation of NEON addressing modes.

NEON vector load and store instructions do not accept immediates
or pre-indexed base plus offset addressing modes, so make sure that
the assembler enforces this.

gas/ChangeLog:

2013-08-23  Will Newton  <will.newton@@linaro.org>

	* config/tc-arm.c (do_neon_ldx_stx): Add extra constraints
	for pre-indexed addressing modes.
	* testsuite/gas/arm/neon-addressing-bad.l: Add test for
	VLDn and VSTn instructions.
	* testsuite/gas/arm/neon-addressing-bad.s: Likewise.

gas/testsuite/ChangeLog:

2013-08-23  Will Newton  <will.newton@@linaro.org>

	* testsuite/gas/arm/neon-addressing-bad.l: Add test for
	VLDn and VSTn instructions.
	* testsuite/gas/arm/neon-addressing-bad.s: Likewise.
@
text
@d1 6
@


1.2288
log
@gas/
	* config/tc-mips.c (mips_check_isa_supports_ase, reg_lookup)
	(mips_parse_argument_token, validate_micromips_insn, md_begin)
	(check_regno, match_float_constant, check_completed_insn, append_insn)
	(match_insn, match_mips16_insn, match_insns, macro_start)
	(macro_build_ldst_constoffset, load_register, macro, mips_ip)
	(mips16_ip, mips_set_option_string, md_parse_option)
	(mips_after_parse_args, mips_after_parse_args, md_pcrel_from)
	(md_apply_fix, s_align, s_option, s_mipsset, s_tls_rel_directive)
	(s_gpword, s_gpdword, s_ehword, s_nan, tc_gen_reloc, md_convert_frag)
	(s_mips_end, s_mips_ent, s_mips_frame, s_mips_mask, mips_parse_cpu):
	Start error messages with a lower-case letter.  Do not end error
	messages with a period.  Wrap long messages to 80 character-lines.
	Use "cannot" instead of "can't" and "can not".

gas/testsuite/
	* gas/mips/ase-errors-1.l, gas/mips/ase-errors-2.l,
	gas/mips/ase-errors-3.l, gas/mips/ase-errors-4.l, gas/mips/at-2.l,
	gas/mips/baddata1.l, gas/mips/elf-rel30.l, gas/mips/illegal.l,
	gas/mips/jalr.l, gas/mips/ldstla-32-1.l, gas/mips/ldstla-32-mips3-1.l,
	gas/mips/lui-1.l, gas/mips/macro-warn-1.l, gas/mips/macro-warn-1-n32.l,
	gas/mips/macro-warn-2.l, gas/mips/macro-warn-3.l,
	gas/mips/macro-warn-4.l, gas/mips/micromips-branch-delay.l,
	gas/mips/micromips-branch-relax.l,
	gas/mips/micromips-branch-relax-pic.l, gas/mips/micromips-ill.l,
	gas/mips/micromips.l, gas/mips/micromips-size-0.l,
	gas/mips/micromips-size-1.l, gas/mips/micromips-warn-branch-delay.l,
	gas/mips/micromips-warn.l, gas/mips/mips16e-64.l,
	gas/mips/mips16e-save-err.l, gas/mips/mips1-fp.l,
	gas/mips/mips32r2-fp32.l, gas/mips/mips32r2-ill.l,
	gas/mips/mips32-sf32.l, gas/mips/mips4-branch-likely.l,
	gas/mips/mips4-fp.l, gas/mips/mips5-fp.l, gas/mips/mips64-mips3d.l,
	gas/mips/mips-double-float-flag.l, gas/mips/mips-gp64-fp32.l,
	gas/mips/mips-gp64-fp64.l, gas/mips/mips-hard-float-flag.l,
	gas/mips/mips-macro-ill-nofp.l, gas/mips/mips-macro-ill-sfp.l,
	gas/mips/nan-error-1.l, gas/mips/nan-error-2.l, gas/mips/noat-2.l,
	gas/mips/noat-3.l, gas/mips/noat-4.l, gas/mips/noat-5.l,
	gas/mips/noat-6.l, gas/mips/noat-7.l, gas/mips/octeon-ill.l,
	gas/mips/r5900-error-vu0.l, gas/mips/r5900-nollsc.l,
	gas/mips/relax-bc1any.l, gas/mips/relax-bposge.l, gas/mips/relax.l,
	gas/mips/relax-swap1.l, gas/mips/relax-swap2.l, gas/mips/set-arch.l,
	gas/mips/tls-ill.l, gas/mips/vr5400-ill.l: Adjust expected output.
@
text
@d1 6
@


1.2287
log
@include/opcode/
	* mips.h (M_DEXT, M_DINS): Delete.

opcodes/
	* micromips-opc.c (micromips_opcodes): Replace "dext" and "dins"
	macro entries with "dextm", "dextu", "dinsm" and "dinsu" aliases.
	Use +H rather than +C for the real "dext".
	* mips-opc.c (mips_builtin_opcodes): Likewise.

gas/
	* config/tc-mips.c (report_bad_range, report_bad_field): Delete.
	(macro): Remove M_DEXT and M_DINS handling.

gas/testsuite/
	* gas/mips/ext-ill.l, gas/mips/mips64r2-ill.l: Expect DEXT and DINS
	error messages to have the same form as the EXT and INS ones.
	* gas/mips/micromips-insn32.d, gas/mips/micromips-noinsn32.d,
	gas/mips/micromips-trap.d, gas/mips/micromips.d,
	gas/mips/micromips@@mips64r2.d, gas/mips/mips64r2.d: Expect
	"dext" and "dins" instead of "dextm", "dextu", "dinsm" and "dinsu".
@
text
@d3 29
@


1.2286
log
@gas/
	* config/tc-mips.c (match_expression):  Report uses of registers here.
	Add a "must be an immediate expression" error.  Handle elided offsets
	here rather than...
	(match_int_operand): ...here.

gas/testsuite/
	* gas/mips/octeon-ill.l: Adjust expected output.
	* gas/mips/lui-1.l, gas/mips/lui-1.s: Add more cases.
@
text
@d3 9
@


1.2285
log
@gas/
	* config/tc-mips.c (mips_arg_info): Remove soft_match.
	(match_out_of_range, match_not_constant): New functions.
	(match_const_int): Remove fallback parameter and check for soft_match.
	Use match_not_constant.
	(match_mapped_int_operand, match_addiusp_operand)
	(match_perf_reg_operand, match_save_restore_list_operand)
	(match_mdmx_imm_reg_operand): Update accordingly.  Use
	match_out_of_range and set_insn_error* instead of as_bad.
	(match_int_operand): Likewise.  Use match_not_constant in the
	!allows_nonconst case.
	(match_float_constant): Report invalid float constants.
	(match_insn, match_mips16_insn): Remove soft_match code.  Rely on
	match_float_constant to check for invalid constants.  Fail the
	match if match_const_int or match_float_constant return false.
	(mips_ip): Update accordingly.
	(mips16_ip): Likewise.  Undo null termination of instruction name
	once lookup is complete.

gas/testsuite/
	* gas/mips/ext-ill.l, gas/mips/lui-1.l, gas/mips/mips16e-64.l,
	gas/mips/mips32r2-ill-fp64.l, gas/mips/mips32r2-ill-nofp.l,
	gas/mips/mips32r2-ill.l, gas/mips/mips64r2-ill.l,
	gas/mips/octeon-ill.l, gas/mips/r5900-error-vu0.l,
	gas/mips/vr5400-ill.l: Adjust expected errors.
	* gas/mips/micromips-size-0.l,
	gas/mips/micromips-size-0.s: Likewise.  Add new tests.
	* gas/mips/mips16e-save-err.s, gas/mips/mips16e-save-err.l: New test.
	* gas/mips/mips.exp: Run it.
@
text
@d3 5
@


1.2284
log
@gas/
	* config/tc-mips.c (mips_insn_error_format): New enum.
	(mips_insn_error): New struct.
	(insn_error): Change to a mips_insn_error.
	(clear_insn_error, set_insn_error_format, set_insn_error)
	(set_insn_error_i, set_insn_error_ss, report_insn_error): New
	functions.
	(mips_parse_argument_token, md_assemble, match_insn)
	(match_mips16_insn): Use them instead of manipulating insn_error
	directly.
	(mips_ip, mips16_ip): Likewise.  Simplify control flow.

gas/testsuite/
	* gas/mips/micromips-ill.l: Expect "floating-point expression required"
@
text
@d3 12
@


1.2283
log
@opcodes/
2013-08-06  Jrgen Urban  <JuergenUrban@@gmx.de>

	* mips-opc.c (mips_builtin_opcodes): Add a suffixless version of
	VCLIPW.

gas/
2013-08-06  Jrgen Urban  <JuergenUrban@@gmx.de>

	* config/tc-mips.c (match_vu0_suffix_operand): Allow single-channel
	suffixes to be elided too.
	(mips_lookup_insn): Don't reject INSN2_VU0_CHANNEL_SUFFIX here.
	(mips_ip): Assume .xyzw if no VU0 suffix is specified.  Allow +N
	to be omitted too.

gas/testsuite/
2013-08-06  Jrgen Urban  <JuergenUrban@@gmx.de>

	* gas/mips/r5900-error-vu0.s, gas/mips/r5900-error-vu0.l,
	gas/mips/r5900-full-vu0.s, gas/mips/r5900-full-vu0.d: Allow
	single-channel suffixes to be elided.
@
text
@d1 4
@


1.2282
log
@include/opcode/
2013-08-04  Jrgen Urban  <JuergenUrban@@gmx.de>
	    Richard Sandiford  <rdsandiford@@googlemail.com>

	* mips.h: Document new VU0 operand characters.
	(OP_VU0_SUFFIX, OP_VU0_MATCH_SUFFIX): New mips_operand_types.
	(OP_REG_VF, OP_REG_VI, OP_REG_R5900_I, OP_REG_R5900_Q, OP_REG_R5900_R)
	(OP_REG_R5900_ACC): New mips_reg_operand_types.
	(INSN2_VU0_CHANNEL_SUFFIX): New macro.
	(mips_vu0_channel_mask): Declare.

opcodes/
2013-08-04  Jrgen Urban  <JuergenUrban@@gmx.de>
	    Richard Sandiford  <rdsandiford@@googlemail.com>

	* mips-dis.c (print_reg): Handle OP_REG_VI, OP_REG_VF, OP_REG_R5900_I,
	OP_REG_R5900_Q, OP_REG_R5900_R and OP_REG_R5900_ACC.
	(print_vu0_channel): New function.
	(print_insn_arg): Handle OP_VU0_SUFFIX and OP_VU0_MATCH_SUFFIX.
	(print_insn_args): Handle '#'.
	(print_insn_mips): Handle INSN2_VU0_CHANNEL_SUFFIX.
	* mips-opc.c (mips_vu0_channel_mask): New constant.
	(decode_mips_operand): Handle new VU0 operand types.
	(VU0, VU0CH): New macros.
	(mips_builtin_opcodes): Add VU0 opcodes.  Use "+7" rather than "E"
	for LQC2 and SQC2.  Use "+9" rather than "G" for EE CFC2 and CTC2.
	Use "+6" rather than "G" for QMFC2 and QMTC2.

gas/
2013-08-04  Jrgen Urban  <JuergenUrban@@gmx.de>
	    Richard Sandiford  <rdsandiford@@googlemail.com>

	* config/tc-mips.c (MAX_OPERANDS): Bump to 6.
	(RWARN): Bump to 0x8000000.
	(RTYPE_VI, RTYPE_VF, RTYPE_R5900_I, RTYPE_R5900_Q, RTYPE_R5900_R)
	(RTYPE_R5900_ACC): New register types.
	(RTYPE_MASK): Include them.
	(R5900_I_NAMES, R5900_Q_NAMES, R5900_R_NAMES, R5900_ACC_NAMES): New
	macros.
	(reg_names): Include them.
	(mips_parse_register_1): New function, split out from...
	(mips_parse_register): ...here.  Add a channels_ptr parameter.
	Look for VU0 channel suffixes when nonnull.
	(reg_lookup): Update the call to mips_parse_register.
	(mips_parse_vu0_channels): New function.
	(OT_CHANNELS, OT_DOUBLE_CHAR): New mips_operand_token_types.
	(mips_operand_token): Add a "channels" field to the union.
	Extend the comment above "ch" to OT_DOUBLE_CHAR.
	(mips_parse_base_start): Match -- and ++.  Handle channel suffixes.
	(mips_parse_argument_token): Handle channel suffixes here too.
	(validate_mips_insn): Handle INSN2_VU0_CHANNEL_SUFFIX.
	Ignore OP_VU0_MATCH_SUFFIX when calculating the used bits.
	Handle '#' formats.
	(md_begin): Register $vfN and $vfI registers.
	(operand_reg_mask): Handle OP_VU0_SUFFIX and OP_VU0_MATCH_SUFFIX.
	(convert_reg_type): Handle OP_REG_VI, OP_REG_VF, OP_REG_R5900_I,
	OP_REG_R5900_Q, OP_REG_R5900_R and OP_REG_R5900_ACC.
	(match_vu0_suffix_operand): New function.
	(match_operand): Handle OP_VU0_SUFFIX and OP_VU0_MATCH_SUFFIX.
	(macro): Use "+7" rather than "E" for LDQ2 and STQ2.
	(mips_lookup_insn): New function.
	(mips_ip): Use it.  Allow "+K" operands to be elided at the end
	of an instruction.  Handle '#' sequences.

gas/testsuite/
2013-08-04  Jrgen Urban  <JuergenUrban@@gmx.de>

	* gas/mips/r5900-vu0.d: Expect $vfN and $viN instead of numeric
	coprocessor registers.
	* gas/mips/r5900-all-vu0.s, gas/mips/r5900-all-vu0.d,
	gas/mips/r5900-full-vu0.s, gas/mips/r5900-full-vu0.d,
	gas/mips/r5900-error-vu0.s, gas/mips/r5900-error-vu0.l: New tests.
	* gas/mips/mips.exp: Run them.
@
text
@d1 6
@


1.2281
log
@gas/
	* config/tc-mips.c (mips16_macro): Don't use move_register.
	(mips16_ip): Allow macros to use 'p'.

gas/testsuite/
	* gas/mips/mips16-macro.s, gas/mips/mips16-macro.d: New test.
	* gas/mips/mips.exp: Run it.
@
text
@d1 9
@


1.2280
log
@Add Intel AVX-512 support

binutils/

2013-07-26  Sergey Guriev  <sergey.s.guriev@@intel.com>
	    Alexander Ivchenko  <alexander.ivchenko@@intel.com>
	    Maxim Kuznetsov  <maxim.kuznetsov@@intel.com>
	    Sergey Lega  <sergey.s.lega@@intel.com>
	    Anna Tikhonova  <anna.tikhonova@@intel.com>
	    Ilya Tocar  <ilya.tocar@@intel.com>
	    Andrey Turetskiy  <andrey.turetskiy@@intel.com>
	    Ilya Verbin  <ilya.verbin@@intel.com>
	    Kirill Yukhin  <kirill.yukhin@@intel.com>
	    Michael Zolotukhin  <michael.v.zolotukhin@@intel.com>

	* dwarf.c (dwarf_regnames_i386): Add k0-k7 registers and
	numeration in comments.
	(dwarf_regnames_x86_64): Add xmm16-31 and k0-k7 registers to
	dwarf table.

gas/

2013-07-26  Sergey Guriev  <sergey.s.guriev@@intel.com>
	    Alexander Ivchenko  <alexander.ivchenko@@intel.com>
	    Maxim Kuznetsov  <maxim.kuznetsov@@intel.com>
	    Sergey Lega  <sergey.s.lega@@intel.com>
	    Anna Tikhonova  <anna.tikhonova@@intel.com>
	    Ilya Tocar  <ilya.tocar@@intel.com>
	    Andrey Turetskiy  <andrey.turetskiy@@intel.com>
	    Ilya Verbin  <ilya.verbin@@intel.com>
	    Kirill Yukhin  <kirill.yukhin@@intel.com>
	    Michael Zolotukhin  <michael.v.zolotukhin@@intel.com>

	* config/tc-i386-intel.c (O_zmmword_ptr): New.
	(i386_types): Add zmmword.
	(i386_intel_simplify_register): Allow regzmm.
	(i386_intel_simplify): Handle zmmwords.
	(i386_intel_operand): Handle RC/SAE, vector operations and
	zmmwords.
	* config/tc-i386.c (ZMMWORD_MNEM_SUFFIX): New.
	(struct RC_Operation): New.
	(struct Mask_Operation): New.
	(struct Broadcast_Operation): New.
	(vex_prefix): Size of bytes increased to 4 to support EVEX
	encoding.
	(enum i386_error): Add new error codes: unsupported_broadcast,
	broadcast_not_on_src_operand, broadcast_needed,
	unsupported_masking, mask_not_on_destination, no_default_mask,
	unsupported_rc_sae, rc_sae_operand_not_last_imm,
	invalid_register_operand, try_vector_disp8.
	(struct _i386_insn): Add new fields vrex, need_vrex, mask,
	rounding, broadcast, memshift.
	(struct RC_name): New.
	(RC_NamesTable): New.
	(evexlig): New.
	(evexwig): New.
	(extra_symbol_chars): Add '{'.
	(cpu_arch): Add AVX512F, AVX512CD, AVX512ER and AVX512PF.
	(i386_operand_type): Add regzmm, regmask and vec_disp8.
	(match_mem_size): Handle zmmwords.
	(operand_type_match): Handle zmm-registers.
	(mode_from_disp_size): Handle vec_disp8.
	(fits_in_vec_disp8): New.
	(md_begin): Handle {} properly.
	(type_names): Add "rZMM", "Mask reg" and "Vector d8".
	(build_vex_prefix): Handle vrex.
	(build_evex_prefix): New.
	(process_immext): Adjust to properly handle EVEX.
	(md_assemble): Add EVEX encoding support.
	(swap_2_operands): Correctly handle operands with masking,
	broadcasting or RC/SAE.
	(check_VecOperands): Support EVEX features.
	(VEX_check_operands): Properly handle 16 upper [xyz]mm registers.
	(match_template): Support regzmm and handle new error codes.
	(process_suffix): Handle zmmwords and zmm-registers.
	(check_byte_reg): Extend to zmm-registers.
	(process_operands): Extend to zmm-registers.
	(build_modrm_byte): Handle EVEX.
	(output_insn): Adjust to properly handle EVEX case.
	(disp_size): Handle vec_disp8.
	(output_disp): Support compressed disp8*N evex feature.
	(output_imm): Handle RC/SAE immediates properly.
	(check_VecOperations): New.
	(i386_immediate): Handle EVEX features.
	(i386_index_check): Handle zmmwords and zmm-registers.
	(RC_SAE_immediate): New.
	(i386_att_operand): Handle EVEX features.
	(parse_real_register): Add a check for ZMM/Mask registers.
	(OPTION_MEVEXLIG): New.
	(OPTION_MEVEXWIG): New.
	(md_longopts): Add mevexlig and mevexwig.
	(md_parse_option): Handle mevexlig and mevexwig options.
	(md_show_usage): Add description for mevexlig and mevexwig.
	* doc/c-i386.texi: Document avx512f/.avx512f, avx512cd/.avx512cd,
	avx512er/.avx512er, avx512pf/.avx512pf, mevexlig and mevexwig.

gas/testsuite/

2013-07-26  Sergey Guriev  <sergey.s.guriev@@intel.com>
	    Alexander Ivchenko  <alexander.ivchenko@@intel.com>
	    Maxim Kuznetsov  <maxim.kuznetsov@@intel.com>
	    Sergey Lega  <sergey.s.lega@@intel.com>
	    Anna Tikhonova  <anna.tikhonova@@intel.com>
	    Ilya Tocar  <ilya.tocar@@intel.com>
	    Andrey Turetskiy  <andrey.turetskiy@@intel.com>
	    Ilya Verbin  <ilya.verbin@@intel.com>
	    Kirill Yukhin  <kirill.yukhin@@intel.com>
	    Michael Zolotukhin  <michael.v.zolotukhin@@intel.com>

	* gas/cfi/cfi-i386.s: Add tests for k0-k7.
	* gas/cfi/cfi-i386.d: Change to reflect above mentioned changes.
	* gas/cfi/cfi-x86_64.s: Add tests for xmm16-31, k0-7.
	* gas/cfi/cfi-x86_64.d: Change to reflect above mentioned changes.
	* gas/i386/ilp32/cfi/cfi-x86_64.d: Ditto.
	* gas/i386/intel-regs.s: Add tests for zmm0 and xmm16 registers.
	* gas/i386/intel-regs.d: Change correspondingly.
	* gas/i386/prefetch-intel.d: Reflect implementation of prefetchwt1.
	* gas/i386/prefetch.d: Ditto.
	* gas/i386/x86-64-prefetch-intel.d: Ditto.
	* gas/i386/x86-64-prefetch.d: Ditto.
	* gas/i386/avx512f-intel.d: New.
	* gas/i386/avx512f-nondef.d: New.
	* gas/i386/avx512f-nondef.s: New.
	* gas/i386/avx512f-opts-intel.d: New.
	* gas/i386/avx512f-opts.d: New.
	* gas/i386/avx512f-opts.s: New.
	* gas/i386/avx512f.d: New.
	* gas/i386/avx512f.s: New.
	* gas/i386/avx512cd-intel.d: New.
	* gas/i386/avx512cd.d: New.
	* gas/i386/avx512cd.s: New.
	* gas/i386/avx512er-intel.d: New.
	* gas/i386/avx512er.d: New.
	* gas/i386/avx512er.s: New.
	* gas/i386/avx512pf-intel.d: New.
	* gas/i386/avx512pf.d: New.
	* gas/i386/avx512pf.s: New.
	* gas/i386/evex-lig.s: New.
	* gas/i386/evex-lig256-intel.d: New.
	* gas/i386/evex-lig256.d: New.
	* gas/i386/evex-lig512-intel.d: New.
	* gas/i386/evex-lig512.d: New.
	* gas/i386/evex-wig.s: New.
	* gas/i386/evex-wig1-intel.d: New.
	* gas/i386/evex-wig1.d: New.
	* gas/i386/inval-avx512f.l: New.
	* gas/i386/inval-avx512f.s: New.
	* gas/i386/x86-64-avx512f-intel.d: New.
	* gas/i386/x86-64-avx512f-nondef.d: New.
	* gas/i386/x86-64-avx512f-nondef.s: New.
	* gas/i386/x86-64-avx512f-opts-intel.d: New.
	* gas/i386/x86-64-avx512f-opts.d: New.
	* gas/i386/x86-64-avx512f-opts.s: New.
	* gas/i386/x86-64-avx512f.d: New.
	* gas/i386/x86-64-avx512f.s: New.
	* gas/i386/x86-64-avx512cd-intel.d: New.
	* gas/i386/x86-64-avx512cd.d: New.
	* gas/i386/x86-64-avx512cd.s: New.
	* gas/i386/x86-64-avx512er-intel.d: New.
	* gas/i386/x86-64-avx512er.d: New.
	* gas/i386/x86-64-avx512er.s: New.
	* gas/i386/x86-64-avx512pf-intel.d: New.
	* gas/i386/x86-64-avx512pf.d: New.
	* gas/i386/x86-64-avx512pf.s: New.
	* gas/i386/x86-64-evex-lig.s: New.
	* gas/i386/x86-64-evex-lig256-intel.d: New.
	* gas/i386/x86-64-evex-lig256.d: New.
	* gas/i386/x86-64-evex-lig512-intel.d: New.
	* gas/i386/x86-64-evex-lig512.d: New.
	* gas/i386/x86-64-evex-wig.s: New.
	* gas/i386/x86-64-evex-wig1-intel.d: New.
	* gas/i386/x86-64-evex-wig1.d: New.
	* gas/i386/x86-64-inval-avx512f.l: New.
	* gas/i386/x86-64-inval-avx512f.s: New.
	* gas/i386/i386.exp: Run new AVX-512 tests.

opcodes/

2013-07-26  Sergey Guriev  <sergey.s.guriev@@intel.com>
	    Alexander Ivchenko  <alexander.ivchenko@@intel.com>
	    Maxim Kuznetsov  <maxim.kuznetsov@@intel.com>
	    Sergey Lega  <sergey.s.lega@@intel.com>
	    Anna Tikhonova  <anna.tikhonova@@intel.com>
	    Ilya Tocar  <ilya.tocar@@intel.com>
	    Andrey Turetskiy  <andrey.turetskiy@@intel.com>
	    Ilya Verbin  <ilya.verbin@@intel.com>
	    Kirill Yukhin  <kirill.yukhin@@intel.com>
	    Michael Zolotukhin  <michael.v.zolotukhin@@intel.com>

	* i386-dis-evex.h: New.
	* i386-dis.c (OP_Rounding): New.
	(VPCMP_Fixup): New.
	(OP_Mask): New.
	(Rdq): New.
	(XMxmmq): New.
	(EXdScalarS): New.
	(EXymm): New.
	(EXEvexHalfBcstXmmq): New.
	(EXxmm_mdq): New.
	(EXEvexXGscat): New.
	(EXEvexXNoBcst): New.
	(VPCMP): New.
	(EXxEVexR): New.
	(EXxEVexS): New.
	(XMask): New.
	(MaskG): New.
	(MaskE): New.
	(MaskR): New.
	(MaskVex): New.
	(modes enum): Add evex_x_gscat_mode, evex_x_nobcst_mode,
	evex_half_bcst_xmmq_mode, xmm_mdq_mode, ymm_mode,
	evex_rounding_mode, evex_sae_mode, mask_mode.
	(USE_EVEX_TABLE): New.
	(EVEX_TABLE): New.
	(EVEX enum): New.
	(REG enum): Add REG_EVEX_0F72, REG_EVEX_0F73, REG_EVEX_0F38C6,
	REG_EVEX_0F38C7.
	(MOD enum): Add MOD_EVEX_0F10_PREFIX_1, MOD_EVEX_0F10_PREFIX_3,
	MOD_EVEX_0F11_PREFIX_1, MOD_EVEX_0F11_PREFIX_3,
	MOD_EVEX_0F12_PREFIX_0, MOD_EVEX_0F16_PREFIX_0, MOD_EVEX_0F38C6_REG_1,
	MOD_EVEX_0F38C6_REG_2, MOD_EVEX_0F38C6_REG_5, MOD_EVEX_0F38C6_REG_6,
	MOD_EVEX_0F38C7_REG_1, MOD_EVEX_0F38C7_REG_2,  MOD_EVEX_0F38C7_REG_5,
	MOD_EVEX_0F38C7_REG_6.
	(PREFIX enum): Add PREFIX_VEX_0F41, PREFIX_VEX_0F42, PREFIX_VEX_0F44,
	PREFIX_VEX_0F45, PREFIX_VEX_0F46, PREFIX_VEX_0F47, PREFIX_VEX_0F4B,
	PREFIX_VEX_0F90, PREFIX_VEX_0F91, PREFIX_VEX_0F92, PREFIX_VEX_0F93,
	PREFIX_VEX_0F98, PREFIX_VEX_0F3A30, PREFIX_VEX_0F3A32,
	PREFIX_VEX_0F3AF0, PREFIX_EVEX_0F10, PREFIX_EVEX_0F11,
	PREFIX_EVEX_0F12, PREFIX_EVEX_0F13, PREFIX_EVEX_0F14,
	PREFIX_EVEX_0F15, PREFIX_EVEX_0F16, PREFIX_EVEX_0F17,
	PREFIX_EVEX_0F28, PREFIX_EVEX_0F29, PREFIX_EVEX_0F2A,
	PREFIX_EVEX_0F2B, PREFIX_EVEX_0F2C, PREFIX_EVEX_0F2D,
	PREFIX_EVEX_0F2E, PREFIX_EVEX_0F2F, PREFIX_EVEX_0F51,
	PREFIX_EVEX_0F58, PREFIX_EVEX_0F59, PREFIX_EVEX_0F5A,
	PREFIX_EVEX_0F5B, PREFIX_EVEX_0F5C, PREFIX_EVEX_0F5D,
	PREFIX_EVEX_0F5E, PREFIX_EVEX_0F5F, PREFIX_EVEX_0F62,
	PREFIX_EVEX_0F66, PREFIX_EVEX_0F6A, PREFIX_EVEX_0F6C,
	PREFIX_EVEX_0F6D, PREFIX_EVEX_0F6E, PREFIX_EVEX_0F6F,
	PREFIX_EVEX_0F70, PREFIX_EVEX_0F72_REG_0, PREFIX_EVEX_0F72_REG_1,
	PREFIX_EVEX_0F72_REG_2, PREFIX_EVEX_0F72_REG_4,
	PREFIX_EVEX_0F72_REG_6, PREFIX_EVEX_0F73_REG_2,
	PREFIX_EVEX_0F73_REG_6, PREFIX_EVEX_0F76, PREFIX_EVEX_0F78,
	PREFIX_EVEX_0F79, PREFIX_EVEX_0F7A, PREFIX_EVEX_0F7B,
	PREFIX_EVEX_0F7E, PREFIX_EVEX_0F7F, PREFIX_EVEX_0FC2,
	PREFIX_EVEX_0FC6, PREFIX_EVEX_0FD2, PREFIX_EVEX_0FD3,
	PREFIX_EVEX_0FD4, PREFIX_EVEX_0FD6, PREFIX_EVEX_0FDB,
	PREFIX_EVEX_0FDF, PREFIX_EVEX_0FE2, PREFIX_EVEX_0FE6 PREFIX_EVEX_0FE7,
	PREFIX_EVEX_0FEB, PREFIX_EVEX_0FEF, PREFIX_EVEX_0FF2,
	PREFIX_EVEX_0FF3, PREFIX_EVEX_0FF4, PREFIX_EVEX_0FFA, PREFIX_EVEX_0FFB,
	PREFIX_EVEX_0FFE, PREFIX_EVEX_0F380C, PREFIX_EVEX_0F380D,
	PREFIX_EVEX_0F3811, PREFIX_EVEX_0F3812, PREFIX_EVEX_0F3813,
	PREFIX_EVEX_0F3814, PREFIX_EVEX_0F3815, PREFIX_EVEX_0F3816,
	PREFIX_EVEX_0F3818, PREFIX_EVEX_0F3819, PREFIX_EVEX_0F381A,
	PREFIX_EVEX_0F381B, PREFIX_EVEX_0F381E, PREFIX_EVEX_0F381F,
	PREFIX_EVEX_0F3821, PREFIX_EVEX_0F3822, PREFIX_EVEX_0F3823,
	PREFIX_EVEX_0F3824, PREFIX_EVEX_0F3825, PREFIX_EVEX_0F3827,
	PREFIX_EVEX_0F3828, PREFIX_EVEX_0F3829, PREFIX_EVEX_0F382A,
	PREFIX_EVEX_0F382C, PREFIX_EVEX_0F382D, PREFIX_EVEX_0F3831,
	PREFIX_EVEX_0F3832, PREFIX_EVEX_0F3833, PREFIX_EVEX_0F3834,
	PREFIX_EVEX_0F3835, PREFIX_EVEX_0F3836, PREFIX_EVEX_0F3837,
	PREFIX_EVEX_0F3839, PREFIX_EVEX_0F383A, PREFIX_EVEX_0F383B,
	PREFIX_EVEX_0F383D, PREFIX_EVEX_0F383F, PREFIX_EVEX_0F3840,
	PREFIX_EVEX_0F3842, PREFIX_EVEX_0F3843, PREFIX_EVEX_0F3844,
	PREFIX_EVEX_0F3845, PREFIX_EVEX_0F3846, PREFIX_EVEX_0F3847,
	PREFIX_EVEX_0F384C, PREFIX_EVEX_0F384D, PREFIX_EVEX_0F384E,
	PREFIX_EVEX_0F384F, PREFIX_EVEX_0F3858, PREFIX_EVEX_0F3859,
	PREFIX_EVEX_0F385A, PREFIX_EVEX_0F385B, PREFIX_EVEX_0F3864,
	PREFIX_EVEX_0F3865, PREFIX_EVEX_0F3876, PREFIX_EVEX_0F3877,
	PREFIX_EVEX_0F387C, PREFIX_EVEX_0F387E, PREFIX_EVEX_0F387F,
	PREFIX_EVEX_0F3888, PREFIX_EVEX_0F3889, PREFIX_EVEX_0F388A,
	PREFIX_EVEX_0F388B, PREFIX_EVEX_0F3890, PREFIX_EVEX_0F3891,
	PREFIX_EVEX_0F3892, PREFIX_EVEX_0F3893, PREFIX_EVEX_0F3896,
	PREFIX_EVEX_0F3897, PREFIX_EVEX_0F3898, PREFIX_EVEX_0F3899,
	PREFIX_EVEX_0F389A, PREFIX_EVEX_0F389B, PREFIX_EVEX_0F389C,
	PREFIX_EVEX_0F389D, PREFIX_EVEX_0F389E, PREFIX_EVEX_0F389F,
	PREFIX_EVEX_0F38A0, PREFIX_EVEX_0F38A1, PREFIX_EVEX_0F38A2,
	PREFIX_EVEX_0F38A3, PREFIX_EVEX_0F38A6, PREFIX_EVEX_0F38A7,
	PREFIX_EVEX_0F38A8, PREFIX_EVEX_0F38A9, PREFIX_EVEX_0F38AA,
	PREFIX_EVEX_0F38AB, PREFIX_EVEX_0F38AC, PREFIX_EVEX_0F38AD,
	PREFIX_EVEX_0F38AE, PREFIX_EVEX_0F38AF, PREFIX_EVEX_0F38B6,
	PREFIX_EVEX_0F38B7, PREFIX_EVEX_0F38B8, PREFIX_EVEX_0F38B9,
	PREFIX_EVEX_0F38BA, PREFIX_EVEX_0F38BB, PREFIX_EVEX_0F38BC,
	PREFIX_EVEX_0F38BD, PREFIX_EVEX_0F38BE, PREFIX_EVEX_0F38BF,
	PREFIX_EVEX_0F38C4, PREFIX_EVEX_0F38C6_REG_1,
	PREFIX_EVEX_0F38C6_REG_2, PREFIX_EVEX_0F38C6_REG_5,
	PREFIX_EVEX_0F38C6_REG_6, PREFIX_EVEX_0F38C7_REG_1,
	PREFIX_EVEX_0F38C7_REG_2, PREFIX_EVEX_0F38C7_REG_5,
	PREFIX_EVEX_0F38C7_REG_6, PREFIX_EVEX_0F38C8, PREFIX_EVEX_0F38CA,
	PREFIX_EVEX_0F38CB, PREFIX_EVEX_0F38CC, PREFIX_EVEX_0F38CD,
	PREFIX_EVEX_0F3A00,  PREFIX_EVEX_0F3A01, PREFIX_EVEX_0F3A03,
	PREFIX_EVEX_0F3A04, PREFIX_EVEX_0F3A05, PREFIX_EVEX_0F3A08,
	PREFIX_EVEX_0F3A09, PREFIX_EVEX_0F3A0A, PREFIX_EVEX_0F3A0B,
	PREFIX_EVEX_0F3A17, PREFIX_EVEX_0F3A18, PREFIX_EVEX_0F3A19,
	PREFIX_EVEX_0F3A1A, PREFIX_EVEX_0F3A1B, PREFIX_EVEX_0F3A1D,
	PREFIX_EVEX_0F3A1E, PREFIX_EVEX_0F3A1F, PREFIX_EVEX_0F3A21,
	PREFIX_EVEX_0F3A23, PREFIX_EVEX_0F3A25, PREFIX_EVEX_0F3A26,
	PREFIX_EVEX_0F3A27, PREFIX_EVEX_0F3A38, PREFIX_EVEX_0F3A39,
	PREFIX_EVEX_0F3A3A, PREFIX_EVEX_0F3A3B, PREFIX_EVEX_0F3A3E,
	PREFIX_EVEX_0F3A3F, PREFIX_EVEX_0F3A43, PREFIX_EVEX_0F3A54,
	PREFIX_EVEX_0F3A55.
	(VEX_LEN enum): Add VEX_LEN_0F41_P_0, VEX_LEN_0F42_P_0, VEX_LEN_0F44_P_0,
	VEX_LEN_0F45_P_0, VEX_LEN_0F46_P_0, VEX_LEN_0F47_P_0,
	VEX_LEN_0F4B_P_2, VEX_LEN_0F90_P_0, VEX_LEN_0F91_P_0,
	VEX_LEN_0F92_P_0, VEX_LEN_0F93_P_0, VEX_LEN_0F98_P_0,
	VEX_LEN_0F3A30_P_2, VEX_LEN_0F3A32_P_2, VEX_W_0F41_P_0_LEN_1,
	VEX_W_0F42_P_0_LEN_1, VEX_W_0F44_P_0_LEN_0, VEX_W_0F45_P_0_LEN_1,
	VEX_W_0F46_P_0_LEN_1, VEX_W_0F47_P_0_LEN_1, VEX_W_0F4B_P_2_LEN_1,
	VEX_W_0F90_P_0_LEN_0, VEX_W_0F91_P_0_LEN_0, VEX_W_0F92_P_0_LEN_0,
	VEX_W_0F93_P_0_LEN_0, VEX_W_0F98_P_0_LEN_0, VEX_W_0F3A30_P_2_LEN_0,
	VEX_W_0F3A32_P_2_LEN_0.
	(VEX_W enum): Add EVEX_W_0F10_P_0, EVEX_W_0F10_P_1_M_0,
	EVEX_W_0F10_P_1_M_1, EVEX_W_0F10_P_2, EVEX_W_0F10_P_3_M_0,
	EVEX_W_0F10_P_3_M_1, EVEX_W_0F11_P_0, EVEX_W_0F11_P_1_M_0,
	EVEX_W_0F11_P_1_M_1, EVEX_W_0F11_P_2, EVEX_W_0F11_P_3_M_0,
	EVEX_W_0F11_P_3_M_1, EVEX_W_0F12_P_0_M_0, EVEX_W_0F12_P_0_M_1,
	EVEX_W_0F12_P_1, EVEX_W_0F12_P_2, EVEX_W_0F12_P_3, EVEX_W_0F13_P_0,
	EVEX_W_0F13_P_2, EVEX_W_0F14_P_0, EVEX_W_0F14_P_2, EVEX_W_0F15_P_0,
	EVEX_W_0F15_P_2, EVEX_W_0F16_P_0_M_0, EVEX_W_0F16_P_0_M_1,
	EVEX_W_0F16_P_1, EVEX_W_0F16_P_2, EVEX_W_0F17_P_0, EVEX_W_0F17_P_2,
	EVEX_W_0F28_P_0, EVEX_W_0F28_P_2, EVEX_W_0F29_P_0, EVEX_W_0F29_P_2,
	EVEX_W_0F2A_P_1, EVEX_W_0F2A_P_3, EVEX_W_0F2B_P_0, EVEX_W_0F2B_P_2,
	EVEX_W_0F2E_P_0, EVEX_W_0F2E_P_2, EVEX_W_0F2F_P_0, EVEX_W_0F2F_P_2,
	EVEX_W_0F51_P_0, EVEX_W_0F51_P_1, EVEX_W_0F51_P_2, EVEX_W_0F51_P_3,
	EVEX_W_0F58_P_0, EVEX_W_0F58_P_1, EVEX_W_0F58_P_2, EVEX_W_0F58_P_3,
	EVEX_W_0F59_P_0, EVEX_W_0F59_P_1, EVEX_W_0F59_P_2, EVEX_W_0F59_P_3,
	EVEX_W_0F5A_P_0, EVEX_W_0F5A_P_1, EVEX_W_0F5A_P_2, EVEX_W_0F5A_P_3,
	EVEX_W_0F5B_P_0, EVEX_W_0F5B_P_1, EVEX_W_0F5B_P_2, EVEX_W_0F5C_P_0,
	EVEX_W_0F5C_P_1, EVEX_W_0F5C_P_2, EVEX_W_0F5C_P_3, EVEX_W_0F5D_P_0,
	EVEX_W_0F5D_P_1, EVEX_W_0F5D_P_2, EVEX_W_0F5D_P_3, EVEX_W_0F5E_P_0,
	EVEX_W_0F5E_P_1, EVEX_W_0F5E_P_2, EVEX_W_0F5E_P_3, EVEX_W_0F5F_P_0,
	EVEX_W_0F5F_P_1, EVEX_W_0F5F_P_2, EVEX_W_0F5F_P_3, EVEX_W_0F62_P_2,
	EVEX_W_0F66_P_2, EVEX_W_0F6A_P_2, EVEX_W_0F6C_P_2, EVEX_W_0F6D_P_2,
	EVEX_W_0F6E_P_2, EVEX_W_0F6F_P_1, EVEX_W_0F6F_P_2, EVEX_W_0F70_P_2,
	EVEX_W_0F72_R_2_P_2, EVEX_W_0F72_R_6_P_2, EVEX_W_0F73_R_2_P_2,
	EVEX_W_0F73_R_6_P_2, EVEX_W_0F76_P_2, EVEX_W_0F78_P_0,
	EVEX_W_0F79_P_0, EVEX_W_0F7A_P_1, EVEX_W_0F7A_P_3, EVEX_W_0F7B_P_1,
	EVEX_W_0F7B_P_3, EVEX_W_0F7E_P_1, EVEX_W_0F7E_P_2, EVEX_W_0F7F_P_1,
	EVEX_W_0F7F_P_2, EVEX_W_0FC2_P_0, EVEX_W_0FC2_P_1, EVEX_W_0FC2_P_2,
	EVEX_W_0FC2_P_3, EVEX_W_0FC6_P_0, EVEX_W_0FC6_P_2, EVEX_W_0FD2_P_2,
	EVEX_W_0FD3_P_2, EVEX_W_0FD4_P_2, EVEX_W_0FD6_P_2, EVEX_W_0FE6_P_1,
	EVEX_W_0FE6_P_2, EVEX_W_0FE6_P_3, EVEX_W_0FE7_P_2, EVEX_W_0FF2_P_2,
	EVEX_W_0FF3_P_2, EVEX_W_0FF4_P_2, EVEX_W_0FFA_P_2, EVEX_W_0FFB_P_2,
	EVEX_W_0FFE_P_2, EVEX_W_0F380C_P_2, EVEX_W_0F380D_P_2,
	EVEX_W_0F3811_P_1, EVEX_W_0F3812_P_1, EVEX_W_0F3813_P_1,
	EVEX_W_0F3813_P_2, EVEX_W_0F3814_P_1, EVEX_W_0F3815_P_1,
	EVEX_W_0F3818_P_2, EVEX_W_0F3819_P_2, EVEX_W_0F381A_P_2,
	EVEX_W_0F381B_P_2, EVEX_W_0F381E_P_2, EVEX_W_0F381F_P_2,
	EVEX_W_0F3821_P_1, EVEX_W_0F3822_P_1, EVEX_W_0F3823_P_1,
	EVEX_W_0F3824_P_1, EVEX_W_0F3825_P_1, EVEX_W_0F3825_P_2,
	EVEX_W_0F3828_P_2, EVEX_W_0F3829_P_2, EVEX_W_0F382A_P_1,
	EVEX_W_0F382A_P_2, EVEX_W_0F3831_P_1, EVEX_W_0F3832_P_1,
	EVEX_W_0F3833_P_1, EVEX_W_0F3834_P_1, EVEX_W_0F3835_P_1,
	EVEX_W_0F3835_P_2, EVEX_W_0F3837_P_2, EVEX_W_0F383A_P_1,
	EVEX_W_0F3840_P_2, EVEX_W_0F3858_P_2, EVEX_W_0F3859_P_2,
	EVEX_W_0F385A_P_2, EVEX_W_0F385B_P_2, EVEX_W_0F3891_P_2,
	EVEX_W_0F3893_P_2, EVEX_W_0F38A1_P_2, EVEX_W_0F38A3_P_2,
	EVEX_W_0F38C7_R_1_P_2, EVEX_W_0F38C7_R_2_P_2, EVEX_W_0F38C7_R_5_P_2,
	EVEX_W_0F38C7_R_6_P_2, EVEX_W_0F3A00_P_2, EVEX_W_0F3A01_P_2,
	EVEX_W_0F3A04_P_2, EVEX_W_0F3A05_P_2, EVEX_W_0F3A08_P_2,
	EVEX_W_0F3A09_P_2, EVEX_W_0F3A0A_P_2, EVEX_W_0F3A0B_P_2,
	EVEX_W_0F3A18_P_2, EVEX_W_0F3A19_P_2, EVEX_W_0F3A1A_P_2,
	EVEX_W_0F3A1B_P_2, EVEX_W_0F3A1D_P_2, EVEX_W_0F3A21_P_2,
	EVEX_W_0F3A23_P_2, EVEX_W_0F3A38_P_2, EVEX_W_0F3A39_P_2,
	EVEX_W_0F3A3A_P_2, EVEX_W_0F3A3B_P_2, EVEX_W_0F3A43_P_2.
	(struct vex): Add fields evex, r, v, mask_register_specifier,
	zeroing, ll, b.
	(intel_names_xmm): Add upper 16 registers.
	(att_names_xmm): Ditto.
	(intel_names_ymm): Ditto.
	(att_names_ymm): Ditto.
	(names_zmm): New.
	(intel_names_zmm): Ditto.
	(att_names_zmm): Ditto.
	(names_mask): Ditto.
	(intel_names_mask): Ditto.
	(att_names_mask): Ditto.
	(names_rounding): Ditto.
	(names_broadcast): Ditto.
	(x86_64_table): Add escape to evex-table.
	(reg_table): Include reg_table evex-entries from
	i386-dis-evex.h.  Fix prefetchwt1 instruction.
	(prefix_table): Add entries for new instructions.
	(vex_table): Ditto.
	(vex_len_table): Ditto.
	(vex_w_table): Ditto.
	(mod_table): Ditto.
	(get_valid_dis386): Properly handle new instructions.
	(print_insn): Handle zmm and mask registers, print mask operand.
	(intel_operand_size): Support EVEX, new modes and sizes.
	(OP_E_register): Handle new modes.
	(OP_E_memory): Ditto.
	(OP_G): Ditto.
	(OP_XMM): Ditto.
	(OP_EX): Ditto.
	(OP_VEX): Ditto.
	* i386-gen.c (cpu_flag_init): Update CPU_ANY_SSE_FLAGS and
	CPU_ANY_AVX_FLAGS.  Add CPU_AVX512F_FLAGS, CPU_AVX512CD_FLAGS,
	CPU_AVX512ER_FLAGS and CPU_AVX512PF_FLAGS.
	(cpu_flags): Add CpuAVX512F, CpuAVX512CD, CpuAVX512ER,
	CpuAVX512PF and CpuVREX.
	(operand_type_init): Add OPERAND_TYPE_REGZMM,
	OPERAND_TYPE_REGMASK and OPERAND_TYPE_VEC_DISP8.
	(opcode_modifiers): Add EVex, Masking, VecESize, Broadcast,
	StaticRounding, SAE, Disp8MemShift, NoDefMask.
	(operand_types): Add RegZMM, RegMask, Vec_Disp8, Zmmword.
	* i386-init.h: Regenerate.
	* i386-opc.h (CpuAVX512F): New.
	(CpuAVX512CD): New.
	(CpuAVX512ER): New.
	(CpuAVX512PF): New.
	(CpuVREX): New.
	(i386_cpu_flags): Add cpuavx512f, cpuavx512cd, cpuavx512er,
	cpuavx512pf and cpuvrex fields.
	(VecSIB): Add VecSIB512.
	(EVex): New.
	(Masking): New.
	(VecESize): New.
	(Broadcast): New.
	(StaticRounding): New.
	(SAE): New.
	(Disp8MemShift): New.
	(NoDefMask): New.
	(i386_opcode_modifier): Add evex, masking, vecesize, broadcast,
	staticrounding, sae, disp8memshift and nodefmask.
	(RegZMM): New.
	(Zmmword): Ditto.
	(Vec_Disp8): Ditto.
	(i386_operand_type): Add regzmm, regmask, zmmword and vec_disp8
	fields.
	(RegVRex): New.
	* i386-opc.tbl: Add AVX512 instructions.
	* i386-reg.tbl: Add 16 upper XMM and YMM registers, 32 new ZMM
	registers, mask registers.
	* i386-tbl.h: Regenerate.
@
text
@d1 5
@


1.2279
log
@opcodes/
2013-07-25  Aaro Koskinen  <aaro.koskinen@@iki.fi>

	PR gas/15220
	* mips-opc.c (mips_builtin_opcodes): Fix wrong opcodes for
	Loongson 2F madd.ps, msub.ps, nmadd.ps and nmsub.ps.

gas/testsuite/
	* gas/mips/loongson-2f.d: Fix expected output for madd.ps,
	msub.ps, nmadd.ps and nmsub.ps.
@
text
@d1 78
@


1.2278
log
@Support Intel SHA

gas/

2013-07-25  Michael Zolotukhin  <michael.v.zolotukhin@@intel.com>

	* config/tc-i386.c (cpu_arch): Add .sha.
	* doc/c-i386.texi: Document sha/.sha.

gas/testsuite/

2013-07-25  Michael Zolotukhin  <michael.v.zolotukhin@@intel.com>

	* gas/i386/sha.d: New.
	* gas/i386/sha.s: New.
	* gas/i386/x86-64-sha.d: New.
	* gas/i386/x86-64-sha.s: New.
	* gas/i386/i386.exp: Run new SHA tests.

opcodes/

2013-07-25  Michael Zolotukhin  <michael.v.zolotukhin@@intel.com>

	* i386-dis.c (PREFIX enum): Add PREFIX_0F38C8, PREFIX_0F38C9,
	PREFIX_0F38CA, PREFIX_0F38CB, PREFIX_0F38CC, PREFIX_0F38CD,
	PREFIX_0F3ACC.
	(prefix_table): Updated.
	(three_byte_table): Likewise.
	* i386-gen.c (cpu_flag_init): Add CPU_SHA_FLAGS.
	(cpu_flags): Add CpuSHA.
	(i386_cpu_flags): Add cpusha.
	* i386-init.h: Regenerate.
	* i386-opc.h (CpuSHA): New.
	(CpuUnused): Restored.
	(i386_cpu_flags): Add cpusha.
	* i386-opc.tbl: Add SHA instructions.
	* i386-tbl.h: Regenerate.
@
text
@d1 5
@


1.2277
log
@Support Intel MPX

gas/

2013-07-24  Anna Tikhonova  <anna.tikhonova@@intel.com>
	    Kirill Yukhin  <kirill.yukhin@@intel.com>
	    Michael Zolotukhin  <michael.v.zolotukhin@@intel.com>

	* config/tc-i386.c (BND_PREFIX): New.
	(struct _i386_insn): Add new field bnd_prefix.
	(add_bnd_prefix): New.
	(cpu_arch): Add MPX.
	(i386_operand_type): Add regbnd.
	(md_assemble): Handle BND prefixes.
	(parse_insn): Likewise.
	(output_branch): Likewise.
	(output_jump): Likewise.
	(build_modrm_byte): Handle regbnd.
	(OPTION_MADD_BND_PREFIX): New.
	(md_longopts): Add entry for 'madd-bnd-prefix'.
	(md_parse_option): Handle madd-bnd-prefix option.
	(md_show_usage): Add description for madd-bnd-prefix
	option.
	* doc/c-i386.texi: Document mpx/.mpx and -madd-bnd-prefix.

gas/testsuite/

2013-07-24  Anna Tikhonova  <anna.tikhonova@@intel.com>
	    Kirill Yukhin  <kirill.yukhin@@intel.com>
	    Michael Zolotukhin  <michael.v.zolotukhin@@intel.com>

	* gas/i386/mpx-add-bnd-prefix.s: New.
	* gas/i386/mpx-add-bnd-prefix.d: New.
	* gas/i386/mpx-inval-1.l: New.
	* gas/i386/mpx-inval-1.s: New.
	* gas/i386/mpx.d: New.
	* gas/i386/mpx.s: New.
	* gas/i386/x86-64-mpx-add-bnd-prefix.d: New.
	* gas/i386/x86-64-mpx-add-bnd-prefix.s: New.
	* gas/i386/x86-64-mpx-addr32.d: New.
	* gas/i386/x86-64-mpx-addr32.s: New.
	* gas/i386/x86-64-mpx-inval-1.l: New.
	* gas/i386/x86-64-mpx-inval-1.s: New.
	* gas/i386/x86-64-mpx-inval-2.l: New.
	* gas/i386/x86-64-mpx-inval-2.s: New.
	* gas/i386/x86-64-mpx.d: New.
	* gas/i386/x86-64-mpx.s: New.
	* gas/i386/nops.d: Adjust to MPX changes.
	* gas/i386/nops.s: Likewise.
	* gas/i386/x86-64-nops.d: Likewise.
	* gas/i386/x86-64-nops.s: Likewise.
	* gas/i386/ilp32/x86-64-nops.d: Likewise.
	* gas/i386/i386.exp: Run new MPX tests.

include/opcode/

2013-07-24  Anna Tikhonova  <anna.tikhonova@@intel.com>
	    Kirill Yukhin  <kirill.yukhin@@intel.com>
	    Michael Zolotukhin  <michael.v.zolotukhin@@intel.com>

	* i386.h (BND_PREFIX_OPCODE): New.

opcodes/

2013-07-24  Anna Tikhonova  <anna.tikhonova@@intel.com>
	    Kirill Yukhin  <kirill.yukhin@@intel.com>
	    Michael Zolotukhin  <michael.v.zolotukhin@@intel.com>

	* i386-dis.c (BND_Fixup): New.
	(Ebnd): New.
	(Ev_bnd): New.
	(Gbnd): New.
	(BND): New.
	(v_bnd_mode): New.
	(bnd_mode): New.
	(MOD enum): Add new entries.
	(PREFIX enum): Likewise.
	(dis tables): Replace XX with BND for near branch and call
	instructions.
	(prefix_table): Add new entries.
	(mod_table): Likewise.
	(names_bnd): New.
	(intel_names_bnd): New.
	(att_names_bnd): New.
	(BND_PREFIX): New.
	(prefix_name): Handle BND_PREFIX.
	(print_insn): Initialize names_bnd.
	(intel_operand_size): Handle new modes.
	(OP_E_register): Likewise.
	(OP_E_memory): Likewise.
	(OP_G): Likewise.
	* i386-gen.c (cpu_flag_init): Add CpuMPX.
	(cpu_flags): Add CpuMPX.
	(operand_type_init): Add RegBND.
	(opcode_modifiers): Add BNDPrefixOk.
	(operand_types): Add RegBND.
	* i386-init.h: Regenerate.
	* i386-opc.h (CpuMPX): New.
	(CpuUnused): Comment out.
	(i386_cpu_flags): Add cpumpx.
	(BNDPrefixOk): New.
	(i386_opcode_modifier): Add bndprefixok.
	(RegBND): New.
	(i386_operand_type): Add regbnd.
	* i386-opc.tbl: Add BNDPrefixOk to near jumps, calls and rets.
	Add MPX instructions and bnd prefix.
	* i386-reg.tbl: Add bnd0-bnd3 registers.
	* i386-tbl.h: Regenerate.
@
text
@d1 8
@


1.2276
log
@bfd/
2013-07-24  Tristan Gingold  <gingold@@adacore.com>

        * coff-rs6000.c (xcoff_howto_table): Fix masks and pc_relative for
        R_RBR.  Add numbers in comments.
        (_bfd_xcoff_reloc_type_lookup): Handle BFD_RELOC_PPC_B16.
        * coff64-rs6000.c: Likewise.

gas/
2013-07-24  Tristan Gingold  <gingold@@adacore.com>

        * config/tc-ppc.c (md_apply_fix): Adjust BFD_RELOC_PPC_B16 on
        xcoff targets.

gas/testsuite/
2013-07-24  Tristan Gingold  <gingold@@adacore.com>

        * gas/ppc/test2xcoff32.s, gas/ppc/test2xcoff32.d: New files
        * gas/ppc/ppc.exp: Add new test.
        * gas/ppc/xcoff-br16-1.s, gas/ppc/xcoff-br16-1.d,
        gas/ppc/xcoff-br16-2.s, gas/ppc/xcoff-br16-2.d: New files
        * gas/ppc/aix.exp: Add new tests.
@
text
@d1 27
@


1.2275
log
@[AArch64, ILP32] Retire -milp32 and -mlp64; use -mabi=ilp32 and -mabi=lp64.

gas/

	* config/tc-aarch64.c (enum aarch64_abi_type): New enumeration tag.
	(AARCH64_ABI_LP64, AARCH64_ABI_ILP32): New enumerators.
	(aarch64_abi): New variable.
	(ilp32_p): Change to be a macro.
	(aarch64_opts): Remove the support for option -milp32 and -mlp64.
	(struct aarch64_option_abi_value_table): New struct.
	(aarch64_abis): New table.
	(aarch64_parse_abi): New function.
	(aarch64_long_opts): Add entry for -mabi=.
	* doc/as.texinfo (Target AArch64 options): Document -mabi.
	* doc/c-aarch64.texi: Likewise.

gas/testsuite/

	* gas/aarch64/ilp32-basic.d (#as): Update to use -mabi=ilp32
@
text
@d1 8
@


1.2274
log
@gas/
	* config/tc-mips.c (mips_prefer_vec_regno, mips_parse_register):
	New functions, split out from...
	(reg_lookup): ...here.  Remove itbl support.
	(reglist_lookup): Delete.
	(mips_operand_token_type): New enum.
	(mips_operand_token): New structure.
	(mips_operand_tokens): New variable.
	(mips_add_token, mips_parse_base_start, mips_parse_argument_token)
	(mips_parse_arguments): New functions.
	(md_begin): Initialize mips_operand_tokens.
	(mips_arg_info): Add a token field.  Remove optional_reg field.
	(match_char, match_expression): New functions.
	(match_const_int): Use match_expression.  Remove "s" argument
	and return a boolean result.  Remove O_register handling.
	(match_regno, match_reg, match_reg_range): New functions.
	(match_int_operand, match_mapped_int_operand, match_msb_operand)
	(match_reg_operand, match_reg_pair_operand, match_perf_reg_operand)
	(match_addiusp_operand, match_clo_clz_dest_operand)
	(match_lwm_swm_list_operand, match_entry_exit_operand)
	(match_save_restore_list_operand, match_mdmx_imm_reg_operand)
	(match_tied_reg_operand): Remove "s" argument and return a boolean
	result.  Match tokens rather than text.  Update calls to
	match_const_int.  Rely on match_regno to call check_regno.
	(match_pcrel_operand, match_pc_operand): Replace "s" argument with
	"arg" argument.  Return a boolean result.
	(parse_float_constant): Replace with...
	(match_float_constant): ...this new function.
	(match_operand): Remove "s" argument and return a boolean result.
	Update calls to subfunctions.
	(mips_ip, mips16_ip): Call mips_parse_arguments.  Use match routines
	rather than string-parsing routines.  Update handling of optional
	registers for token scheme.

gas/testsuite/
	* gas/mips/vr5400-ill.s, gas/mips/vr5400-ill.l: Add some more cases.
	* gas/mips/micromips-ill.s, gas/mips/micromips-ill.l: New test.
	* gas/mips/mips.exp: Run it.
@
text
@d1 4
@


1.2273
log
@gas/
	* config/tc-mips.c: Enable functions commented out in previous patch.
	(SKIP_SPACE_TABS): Move further up file.
	(mips32_to_micromips_reg_b_map, mips32_to_micromips_reg_c_map)
	(mips32_to_micromips_reg_d_map, mips32_to_micromips_reg_e_map)
	(ips32_to_micromips_reg_f_map, mips32_to_micromips_reg_g_map)
	(mips32_to_micromips_reg_l_map, mips32_to_micromips_reg_m_map)
	(mips32_to_micromips_reg_q_map, mips32_to_micromips_reg_n_map)
	(micromips_imm_b_map, micromips_imm_c_map): Delete.
	(mips_lookup_reg_pair): Delete.
	(macro): Use report_bad_range and report_bad_field.
	(mips_immed, expr_const_in_range): Delete.
	(mips_ip): Rewrite main parsing loop to use new functions.

gas/testsuite/
	* gas/mips/at-2.l: Remove duplicated $at warnings.
	* gas/mips/ext-ill.l, gas/mips/lui-1.l, gas/mips/mips32r2-ill.l,
	gas/mips/mips32r2-ill-nofp.l, gas/mips/mips32r2-ill-fp64.l,
	gas/mips/mips64r2-ill.l, gas/mips/octeon-ill.l: Update error
	messages.  Expect negative numbers to be printed as such,
	rather than as large unsigned positive numbers.
@
text
@d3 6
@


1.2272
log
@	include/elf/
	* mips.h (EF_MIPS_NAN2008): New macro.

	bfd/
	* elfxx-mips.c (_bfd_mips_elf_merge_private_bfd_data): Handle
	EF_MIPS_NAN2008.
	(_bfd_mips_elf_print_private_bfd_data): Likewise.

	binutils/
	* readelf.c (get_machine_flags): Handle EF_MIPS_NAN2008.

	gas/
	* config/tc-mips.c (mips_flag_nan2008): New variable.
	(options): Add OPTION_NAN enum value.
	(md_longopts): Handle it.
	(md_parse_option): Likewise.
	(s_nan): New function.
	(mips_elf_final_processing): Handle EF_MIPS_NAN2008.
	(md_show_usage): Add -mnan.

	* doc/as.texinfo (Overview): Add -mnan.
	* doc/c-mips.texi (MIPS Opts): Document -mnan.
	(MIPS NaN Encodings): New node.  Document .nan directive.
	(MIPS-Dependent): List the new node.

	gas/testsuite/
	* gas/mips/nan-2008-1.d: New test.
	* gas/mips/nan-2008-2.d: New test.
	* gas/mips/nan-2008-3.d: New test.
	* gas/mips/nan-2008-4.d: New test.
	* gas/mips/nan-legacy-1.d: New test.
	* gas/mips/nan-legacy-2.d: New test.
	* gas/mips/nan-legacy-3.d: New test.
	* gas/mips/nan-legacy-4.d: New test.
	* gas/mips/nan-legacy-5.d: New test.
	* gas/mips/nan-error-1.l: New list test.
	* gas/mips/nan-error-2.l: New list test.
	* gas/mips/nan-2008-override.s: New test source.
	* gas/mips/nan-2008.s: New test source.
	* gas/mips/nan-legacy-override.s: New test source.
	* gas/mips/nan-legacy.s: New test source.
	* gas/mips/nan-error-1.s: New test source.
	* gas/mips/nan-error-2.s: New test source.
	* gas/mips/mips.exp: Run the new tests.

	ld/testsuite/
	* ld-mips-elf/nan-2008.d: New test.
	* ld-mips-elf/nan-legacy.d: New test.
	* ld-mips-elf/nan-mixed-1.d: New test.
	* ld-mips-elf/nan-mixed-2.d: New test.
	* ld-mips-elf/nan-2008.s: New test source.
	* ld-mips-elf/nan-legacy.s: New test source.
@
text
@d1 9
@


1.2271
log
@gas/testsuite/
	* gas/mips/la-reloc.s, gas/mips/la-reloc.d, gas/mips/dla-reloc.s,
	gas/mips/dla-reloc.d: Add files missing from earlier commit.
@
text
@d1 21
@


1.2270
log
@Replace Xmmword with Qword on cvttps2pi

gas/testsuite/

	PR gas/13572
	* gas/i386/simd.s: Add a test for cvttps2pi.
	* gas/i386/simd-intel.d: Updated.
	* gas/i386/simd.d: Likewise.

opcodes/

	PR gas/13572
	* i386-opc.tbl: Replace Xmmword with Qword on cvttps2pi.
	* i386-tbl.h: Regenerated.
@
text
@d1 5
@


1.2269
log
@gas/
	* config/tc-mips.c (mips_ip): Unconditionally parse an expression
	for 'A' and assume that the constant has been elided if the result
	is an O_register.

gas/testsuite/
	* gas/mips/la.s, gas/mips/la.d, gas/mips/la-svr4pic.d,
	gas/mips/la-xgot.d: Add tests for bracketed addresses.
@
text
@d1 7
@


1.2268
log
@include/opcode/
	* mips.h (M_ACLR_OB, M_ASET_OB, M_CACHE_OB, M_CACHEE_OB, M_L_DOB)
	(M_LB_A, M_LBE_OB, M_LBU_A, M_LBUE_OB, M_LD_A, M_LD_OB, M_LDC2_OB)
	(M_LDL_OB, M_LDM_OB, M_LDP_OB, M_LDR_OB, M_LH_A, M_LHE_OB, M_LHU_A)
	(M_LHUE_OB, M_LL_OB, M_LLD_OB, M_LLE_OB, M_LS_A, M_LW_A, M_LWE_OB)
	(M_LWC0_A, M_LWC1_A, M_LWC2_A, M_LWC2_OB, M_LWC3_A, M_LWL_A, M_LWL_OB)
	(M_LWLE_OB, M_LWM_OB, M_LWP_OB, M_LWR_A, M_LWR_OB, M_LWRE_OB, M_LWU_OB)
	(M_PREF_OB, M_PREFE_OB, M_S_DOB, M_SAA_OB, M_SAAD_OB, M_SC_OB)
	(M_SCD_OB, M_SCE_OB, M_SD_A, M_SD_OB, M_SDC2_OB, M_SDL_OB, M_SDM_OB)
	(M_SDP_OB, M_SDR_OB, M_SB_A, M_SBE_OB, M_SH_A, M_SHE_OB, M_SW_A)
	(M_SWE_OB, M_SWC0_A, M_SWC1_A, M_SWC2_A, M_SWC2_OB, M_SWC3_A, M_SWL_A)
	(M_SWL_OB, M_SWLE_OB, M_SWM_OB, M_SWP_OB, M_SWR_A, M_SWR_OB, M_SWRE_OB)
	(M_ULD, M_ULH, M_ULHU, M_ULW, M_USH, M_USW, M_USD): Delete.
	(M_ULD_A, M_ULH_A, M_ULHU_A, M_ULW_A, M_USH_A, M_USW_A, M_USD_A):
	Rename to...
	(M_ULD_AB, M_ULH_AB, M_ULHU_AB, M_ULW_AB, M_USH_AB, M_USW_AB)
	(M_USD_AB): ...these.

opcodes/
	* mips-opc.c (mips_builtin_opcodes): Remove o(b) macros.  Move LD
	and SD A(B) macros up.
	* micromips-opc.c (micromips_opcodes): Likewise.

gas/
	* config/tc-mips.c (gprel16_reloc_p): New function.
	(macro_read_relocs): Assume BFD_RELOC_LO16 if all relocs are
	BFD_RELOC_UNUSED.
	(offset_high_part, small_offset_p): New functions.
	(nacro): Use them.  Remove *_OB and *_DOB cases.  For single-
	register load and store macros, handle the 16-bit offset case first.
	If a 16-bit offset is not suitable for the instruction we're
	generating, load it into the temporary register using
	ADDRESS_ADDI_INSN.  Make the M_LI_DD code fall through into the
	M_L_DAB code once the address has been constructed.  For double load
	and store macros, again handle the 16-bit offset case first.
	If the second register cannot be accessed from the same high
	part as the first, load it into AT using ADDRESS_ADDI_INSN.
	Fix the handling of LD in cases where the first register is the
	same as the base.  Also handle the case where the offset is
	not 16 bits and the second register cannot be accessed from the
	same high part as the first.  For unaligned loads and stores,
	fuse the offbits == 12 and old "ab" handling.  Apply this handling
	whenever the second offset needs a different high part from the first.
	Construct the offset using ADDRESS_ADDI_INSN where possible,
	for offbits == 16 as well as offbits == 12.  Use offset_reloc
	when constructing the individual loads and stores.
	(mips_ip): Set up imm_expr, imm2_expr, offset_expr, imm_reloc
	and offset_reloc before matching against a particular opcode.
	Handle elided 'A' constants.  Allow 'A' constants to use
	relocation operators.

gas/testsuite/
	* gas/mips/ldstla-32.d: Avoid "lui at,0x0" sequences for
	truncated constants.
	* gas/mips/ldstla-32-shared.d: Likewise.
	* gas/mips/mcu.d: Use ADDIU in preference to LI+ADDU when adding
	16-bit constants to the base.
	* gas/mips/micromips@@mcu.d: Likewise.
	* gas/mips/micromips@@cache.d: Likewise.
	* gas/mips/micromips@@pref.d: Likewise.
	* gas/mips/micromips.d, gas/mips/micromips-insn32.d,
	gas/mips/micromips-noinsn32.d, gas/mips/micromips-trap.d: Likewise.
	Allow the full 16-bit offset range to be used for SB, LB and LBU in
	USH and ULH sequences.  Fix the expected output for LD and SD when
	the two LW and SW offsets need different high parts.
	* gas/mips/eva.s: Test PREFE with relocation operators.
	* gas/mips/eva.d: Use ADDIU in preference to LI+ADDU for 16-bit
	constants.  Update after eva.s change.
	* gas/mips/micromips@@eva.d: Likewise.
	* gas/mips/ld-reloc.s, gas/mips/ld-reloc.d, gas/mips/l_d-reloc.s,
	gas/mips/l_d-reloc.d, gas/mips/ulw-reloc.s, gas/mips/ulw-reloc.d,
	gas/mips/micromips@@ulw-reloc.d, gas/mips/ulh-reloc.s,
	gas/mips/ulh-reloc.d: New tests.
	* gas/mips/mips.exp: Run them.
@
text
@d1 5
@


1.2267
log
@gas/testsuite/
	* gas/mips/eva.d, gas/mips/micromips@@eva.d: Remove hard-coded
	addresses.  Use gpr-names=numeric.
@
text
@d3 25
@


1.2266
log
@opcodes/
	* mips16-opc.c: Add entries for argumentless "entry" and "exit"
	instructions.

gas/testsuite/
	* gas/mips/mips16.d, gas/mips/mips16-64.d: Remove trailing whitespace
	from ENTRY and EXIT lines.
@
text
@d3 5
@


1.2265
log
@include/opcode/
	* mips.h: Remove documentation of "[" and "]".  Update documentation
	of "k" and the MDMX formats.

opcodes/
	* mips-opc.c (mips_builtin_opcodes): Use "Q" for the INSN_5400
	MDMX-like instructions.
	* mips-dis.c (print_insn_arg): Use "$f" rather than "$v" when
	printing "Q" operands for INSN_5400 instructions.

gas/
	* config/tc-mips.c (validate_mips_insn): Remove "[" and "]" handling.
	(mips_ip): Likewise.  Do not set is_mdmx for INSN_5400 instructions.
	Check constraints on the VR5400 RZU.OB, SLL.OB and SRL.OB instructions.

gas/testsuite/
	* gas/mips/vr5400-ill.s, gas/mips/vr5400-ill.l: New test.
	* gas/mips/mips.exp: Run it.
@
text
@d3 5
@


1.2264
log
@include/opcode/
	* mips.h: Remove documentation of "+D" and "+T".

opcodes/
	* mips-opc.c (mips_builtin_opcodes): Remove "+D" and "+T" entries.
	* micromips-opc.c (micromips_opcodes): Likewise.
	* mips-dis.c (print_insn_args, print_insn_micromips): Remove "+D"
	and "+T" handling.  Check for a "0" suffix when deciding whether to
	use coprocessor 0 names.  In that case, also check for ",H" selectors.

gas/
	* config/tc-mips.c (validate_mips_insn, validate_micromips_insn)
	(mips_ip): Remove "+D" and "+T" handling.

gas/testsuite/
	* gas/mips/lb.d, gas/mips/sb.d: Use coprocessor register names
	for LWC0 and SWC0.
@
text
@d3 5
@


1.2263
log
@2013-07-05  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>
opcodes/
	    * s390-opc.c (J12_12, J24_24): New macros.
	    (INSTR_MII_UPI): Rename to INSTR_MII_UPP.
	    (MASK_MII_UPI): Rename to MASK_MII_UPP.
	    * s390-opc.txt: Rename MII_UPI to MII_UPP for bprp instruction.

include/elf/
	    * s390.h: Add new relocs R_390_PC12DBL, R_390_PLT12DBL,
	    R_390_PC24DBL, and R_390_PLT24DBL.

gas/testsuite/
	    * gas/s390/zarch-zEC12.s: Change bprp second operand and add
	    variants requiring relocations.
	    * gas/s390/zarch-zEC12.d: Likewise.

gas/
	    * config/tc-s390.c (md_gather_operands, md_apply_fix): Support new
	    relocs.
bfd/
	    * elf32-s390.c: Add new relocation definitions R_390_PC12DBL,
	    R_390_PLT12DBL, R_390_PC24DBL, and R_390_PLT24DBL.
	    (elf_s390_reloc_type_lookup, elf_s390_check_relocs)
	    (elf_s390_gc_sweep_hook, elf_s390_relocate_section): Support new
	    relocations.
	    * elf64-s390.c: See elf32-s390.c
	    * bfd-in2.h: Add new relocs to enum bfd_reloc_code_real.
	    * libbfd.h: Add new reloc strings.
@
text
@d1 5
@


1.2262
log
@[PATCH, COMMITTED] [AArch64] Replace the :got_prel19: address modifier with :got:
@
text
@d1 6
@


1.2261
log
@[AArch64, ILP32] 3/6 Support for ELF32 relocs and refactor reloc handling

bfd/

	* bfd-in2.h: Re-generated.
	* elfnn-aarch64.c (HOWTO64, HOWTO32): New define.
	(IS_AARCH64_TLS_RELOC): Change to be based on the
	bfd reloc enumerators.
	(IS_AARCH64_TLSDESC_RELOC): Likewise.
	(PG, PG_OFFSET): Cast literal to bfd_vma.
	(elf64_aarch64_howto_table): Removed.
	(elf64_aarch64_howto_dynrelocs): Removed.
	(elf64_aarch64_tls_howto_table): Removed.
	(elf64_aarch64_tlsdesc_howto_table): Removed.
	(elfNN_aarch64_howto_table): New table to host all howto entires..
	(R_AARCH64_*): Replaced by AARCH64_R (*) and AARCH64_R_STR (*).
	(elfNN_aarch64_bfd_reloc_from_howto): New function.
	(elfNN_aarch64_bfd_reloc_from_type): Ditto.
	(struct elf_aarch64_reloc_map): New.
	(elf_aarch64_reloc_map): New table.
	(elfNN_aarch64_howto_from_bfd_reloc): New function.
	(elfNN_aarch64_howto_from_type): Update to look up the new table
	elfNN_aarch64_howto_table.
	(struct elf64_aarch64_reloc_map): Remove.
	(elf64_aarch64_reloc_map): Remove.
	(elfNN_aarch64_reloc_type_lookup): Change to call
	elfNN_aarch64_howto_from_bfd_reloc.
	(elfNN_aarch64_reloc_name_lookup): Change to look up the new table
	elfNN_aarch64_howto_table.
	(aarch64_resolve_relocation): Refactor to switch on the bfd
	reloc enumerators.
	(bfd_elf_aarch64_put_addend): Likewise.
	(elfNN_aarch64_final_link_relocate): Likewise.
	(aarch64_tls_transition_without_check): Likewise.
	(aarch64_reloc_got_type): Likewise.
	(aarch64_can_relax_tls): Likewise.
	(aarch64_tls_transition): Likewise.
	(elfNN_aarch64_tls_relax): Likewise.
	(elfNN_aarch64_final_link_relocate): Likewise.
	(elfNN_aarch64_relocate_section): Likewise.
	(elfNN_aarch64_gc_sweep_hook): Likewise.
	(elfNN_aarch64_check_relocs): Likewise.
	(aarch64_tls_transition): Change to return a bfd reloc enumerator.
	* libbfd.h: Re-generated.
	* reloc.c: Re-order the AArch64 bfd reloc enumerators.
	(BFD_RELOC_AARCH64_RELOC_START)
	(BFD_RELOC_AARCH64_RELOC_END)
	(BFD_RELOC_AARCH64_LD_GOT_LO12_NC)
	(BFD_RELOC_AARCH64_LD32_GOT_LO12_NC)
	(BFD_RELOC_AARCH64_TLSDESC_LD_LO12_NC)
	(BFD_RELOC_AARCH64_TLSDESC_LD32_LO12_NC)
	(BFD_RELOC_AARCH64_TLSIE_LD_GOTTPREL_LO12_NC)
	(BFD_RELOC_AARCH64_TLSIE_LD32_GOTTPREL_LO12_NC)
	(BFD_RELOC_AARCH64_IRELATIVE): New relocs.

gas/

	* config/tc-aarch64.c (reloc_table): Replace
	BFD_RELOC_AARCH64_LD64_GOT_LO12_NC with
	BFD_RELOC_AARCH64_LD_GOT_LO12_NC; likewise to
	BFD_RELOC_AARCH64_TLSDESC_LD64_LO12_NC and
	BFD_RELOC_AARCH64_TLSIE_LD_GOTTPREL_LO12_NC.
	(md_apply_fix): Handle BFD_RELOC_AARCH64_LD_GOT_LO12_NC,
	BFD_RELOC_AARCH64_LD32_GOT_LO12_NC,
	BFD_RELOC_AARCH64_TLSDESC_LD_LO12_NC,
	BFD_RELOC_AARCH64_TLSDESC_LD32_LO12_NC,
	BFD_RELOC_AARCH64_TLSIE_LD_GOTTPREL_LO12_NC and
	BFD_RELOC_AARCH64_TLSIE_LD32_GOTTPREL_LO12_NC.
	(aarch64_force_relocation): Likewise.

gas/testsuite/

	* gas/aarch64/ilp32-basic.d: New file.
	* gas/aarch64/ilp32-basic.s: New file.

include/elf/

	* aarch64.h: Add ELF32 reloc codes and remove fake ELF64 ones.
	(R_AARCH64_IRELATIVE): New reloc.
@
text
@d1 4
@


1.2260
log
@	bfd/
	* elfxx-mips.h (_bfd_mips_elf_insn32): New prototype.
	* elfxx-mips.c (mips_elf_link_hash_table): Add insn32 member.
	(STUB_MOVE32_MICROMIPS, STUB_JALR32_MICROMIPS): New macros.
	(MICROMIPS_INSN32_FUNCTION_STUB_NORMAL_SIZE): Likewise.
	(MICROMIPS_INSN32_FUNCTION_STUB_BIG_SIZE): Likewise.
	(micromips_insn32_o32_exec_plt0_entry): New variable.
	(micromips_insn32_o32_exec_plt_entry): Likewise.
	(_bfd_mips_elf_adjust_dynamic_symbol): Handle insn32 mode.
	(mips_elf_estimate_stub_size): Likewise.
	(_bfd_mips_elf_size_dynamic_sections): Likewise.
	(_bfd_mips_elf_finish_dynamic_symbol): Likewise.
	(mips_finish_exec_plt): Likewise.
	(_bfd_mips_elf_relax_section): Likewise.
	(_bfd_mips_elf_insn32): New function.
	(_bfd_mips_elf_get_synthetic_symtab): Handle insn32 PLT.

	gas/
	* config/tc-mips.c (mips_set_options): Add insn32 member.
	(mips_opts): Initialize it.
	(NOP_INSN, NOP_INSN_SIZE): Handle insn32 mode.
	(options): Add OPTION_INSN32 and OPTION_NO_INSN32 enum values.
	(md_longopts): Add "minsn32" and "mno-insn32" options.
	(is_size_valid): Handle insn32 mode.
	(md_assemble): Pass instruction string down to macro.
	(brk_fmt): Add second dimension and insn32 mode initializers.
	(mfhl_fmt): Likewise.
	(BRK_FMT, MFHL_FMT): Handle insn32 mode.
	(macro_build) <'c'>: Handle microMIPS 32-bit BREAK encoding.
	(macro_build_jalr, move_register): Handle insn32 mode.
	(macro_build_branch_rs): Likewise.
	(macro): Handle insn32 mode.
	<M_JRADDIUSP>, <M_JRC>, <M_MOVEP>: New cases.
	(mips_ip): Handle insn32 mode.
	(md_parse_option): Handle OPTION_INSN32 and OPTION_NO_INSN32.
	(s_mipsset): Handle "insn32" and "noinsn32" pseudo-ops.
	(mips_handle_align): Handle insn32 mode.
	(md_show_usage): Add -minsn32 and -mno-insn32.

	* doc/as.texinfo (Target MIPS options): Add -minsn32 and
	-mno-insn32 options.
	(-minsn32, -mno-insn32): New options.
	* doc/c-mips.texi (MIPS Opts): Add -minsn32 and -mno-insn32
	options.
	(MIPS assembly options): New node.  Document .set insn32 and
	.set noinsn32.
	(MIPS-Dependent): List the new node.

	gas/testsuite/
	* gas/mips/micromips-insn32.d: New test.
	* gas/mips/micromips-noinsn32.d: Likewise.
	* gas/mips/micromips.l: Rename to...
	* gas/mips/micromips-warn.l: ... this.
	* gas/mips/micromips.d: Update accordingly.
	* gas/mips/micromips-trap.d: Likewise.
	* gas/mips/micromips.l: New list test.
	* gas/mips/micromips.s: Add conditionals.
	* gas/mips/mips.exp: Run the new tests.

	include/opcode/
	* mips.h: Add M_JRADDIUSP, M_JRC and M_MOVEP anonymous enum
	values.

	ld/
	* emultempl/mipself.em (insn32): New variable.
	(mips_create_output_section_statements): Handle insn32 mode.
	(PARSE_AND_LIST_PROLOGUE): New macro.
	(PARSE_AND_LIST_LONGOPTS): Likewise.
	(PARSE_AND_LIST_OPTIONS): Likewise.

	* gen-doc.texi: Set MIPS.
	* ld.texinfo: Likewise.
	(Options specific to MIPS targets): New section.
	(ld and MIPS family): New node.
	(Top, Machine Dependent): List the new node.

	opcodes/
	* micromips-opc.c (micromips_opcodes): Add "jraddiusp", "jrc"
	and "movep" macros.
@
text
@d1 5
@


1.2259
log
@gas/
	* config/tc-arm.c (parse_reg_list): Use skip_past_char for '}',
	so it skips whitespace before it.
	(s_arm_unwind_save_mmxwr, s_arm_unwind_save_mmxwcg): Likewise.

gas/testsuite/
	* gas/arm/macro-vld1.s: Add a case with whitespace before '}'.
	* gas/arm/macro-vld1.d: Update.
@
text
@d1 12
@


1.2258
log
@gas/
	* config/tc-arm.c (arm_symbol_chars): Include '{' and '}'.
	(arm_reg_parse_multi): Skip whitespace first.
	(parse_reg_list): Likewise.
	(parse_vfp_reg_list): Likewise.
	(s_arm_unwind_save_mmxwcg): Likewise.

gas/testsuite/
	* gas/arm/macro-pld.s: Add a 'push {r0}' case.
	* gas/arm/macro-pld.d: Update expected output.
	* gas/arm/macro-vld1.s: New file.
	* gas/arm/macro-vld1.d: New file.
@
text
@d3 3
@


1.2257
log
@gas/testsuite/
	* gas/mips/mips.exp: Remove "LOSE" comments.
	(run_dump_test_arch): Remove format selector support.
	(run_dump_test_arches): Remove associated upvars.
	(elf, ecoff, aout, no_mips16, no_micromips): Remove variables.
	Remove all conditions based on them, on the assumption that $elf
	is true and the others are false.  Rename "elf-jal" to "jal".
	(tmips): Set to "t" for *bsd targets.
	* gas/mips/elf-jal.d: Rename to...
	* gas/mips/jal.d: ...this, replacing the old file.
	* gas/mips/micromips@@elf-jal.d: Rename to...
	* gas/mips/micromips@@jal.d: ...this.
	* gas/mips/at-1.d, gas/mips/ld.d, gas/mips/l_d.d, gas/mips/lui.d,
	gas/mips/mips1@@l_d.d, gas/mips/mips1@@ld-forward.d, gas/mips/mips1@@ld.d,
	gas/mips/mips1@@s_d.d, gas/mips/s_d.d, gas/mips/sd.d: Remove ECOFF
	relocation names.  Do not allow any offset on the symbol.
@
text
@d1 7
d388 1
a388 1
	* gas/arm/neon-addressing-bad.l: Update accordingly. 
@


1.2256
log
@gas/testsuite/
	* gas/mips/lineno.d: Remove ellipsis.
@
text
@d3 18
@


1.2255
log
@	* configure.ac (mips*-*-bsd*, mips*-*-ultrix*, mips*-*-osf*)
	(mips*-*-ecoff*, mips*-*-pe*, mips*-*-irix* [v4 and earlier])
	(mips*-*-lnews*, mips*-*-riscos*): Add gas and ld to noconfigdirs.
	* configure: Regenerate.

gas/
	* NEWS: Note removal of ECOFF support.
	* doc/as.texinfo (--emulation): Update for the removal of MIPS ECOFF.
	* Makefile.am (TARG_ENV_HFILES): Remove config/te-lnews.h.
	(MULTI_CFILES): Remove config/e-mipsecoff.c.
	* Makefile.in: Regenerate.
	* configure.in: Remove MIPS ECOFF references.
	(mips-sony-bsd*, mips-*-bsd*, mips-*-lnews*-ecoff, mips-*-*-ecoff):
	Delete cases.
	(mips-*-irix5*-*, mips*-*-linux*-*, mips*-*-freebsd*)
	(mips*-*-kfreebsd*-gnu, mips-*-*-elf): Fold into...
	(mips-*-*): ...this single case.
	(mipsbecoff, mipslecoff, mipsecoff): Remove emulations.  Expect
	MIPS emulations to be e-mipself*.
	* configure: Regenerate.
	* configure.tgt (mips-sony-bsd*, mips-*-ultrix*, mips-*-osf*)
	(mips-*-ecoff*, mips-*-pe*, mips-*-irix*, ips-*-lnews*, mips-*-riscos*)
	(mips-*-sysv*): Remove coff and ecoff cases.
	* as.c (mipsbecoff, mipslecoff, mipsecoff): Remove.
	* ecoff.c: Remove reference to MIPS ECOFF.
	* config/e-mipsecoff.c, config/te-lnews.h: Delete files.
	* config/tc-mips.c (ECOFF_LITTLE_FORMAT): Delete.
	(RDATA_SECTION_NAME, mips_target_form): Remove COFF and ECOFF cases.
	(mips_hi_fixup): Tweak comment.
	(append_insn): Require a howto.
	(mips_after_parse_args): Remove OBJ_MAYBE_ECOFF code.

gas/testsuite/
	* gas/all/gas.exp: Remove reference to mips-ecoff.
	* gas/mips/branch-misc-1.d, gas/mips/branch-misc-2.d,
	gas/mips/branch-misc-2-64.d, gas/mips/branch-misc-2pic.d,
	gas/mips/branch-misc-2pic-64.d, gas/mips/branch-swap.d: Remove
	skips for mips-*-ecoff.

ld/
	* NEWS: Document the removal of MIPS ECOFF targets.
	* ld.texinfo (--gpsize=@@var{value}): Use MIPS ELF rather than
	MIPS ECOFF as an example of a target that supports small data.
	* ldmain.c (g_switch_value): Likewise.
	* configure.tgt (mips*-*-pe, mips*-dec-ultrix*, mips*-dec-osf*)
	(mips*-sgi-irix* [v4 and earlier], mips*el-*-ecoff*, mips*-*-ecoff*)
	(mips*-*-bsd*, mips*-*-lnews*): Remove cases.
	* Makefile.am (ALL_EMULATION_SOURCES): Remove emipsbig.c, emipsbsd.c,
	emipsidt.c, emipsidtl.c, emipslit.c, emipslnews.c and emipspe.c.
	(emipsbig.c, emipsbsd.c, emipsidt.c, emipsidtl.c, emipslit.c)
	(emipslnews.c, emipspe.c): Delete rules.
	* Makefile.in: Regenerate.
	* emulparams/mipsbig.sh, emulparams/mipsbsd.sh, emulparams/mipsidt.sh,
	emulparams/mipsidtl.sh, emulparams/mipslit.sh, emulparams/mipslnews.sh,
	emulparams/mipspe.sh, emultempl/mipsecoff.em: Delete.
	* emultempl/m68kcoff.em: Update comment to say that MIPS ECOFF support
	has now been removed.
	* emultempl/pe.em: Remove TARGET_IS_mipspe checks.
@
text
@d3 4
@


1.2254
log
@gas/
	* config/tc-mips.c (ISA_SUPPORTS_SMARTMIPS, ISA_SUPPORTS_DSP_ASE)
	(ISA_SUPPORTS_DSP64_ASE, ISA_SUPPORTS_DSPR2_ASE, ISA_SUPPORTS_EVA_ASE)
	(ISA_SUPPORTS_MT_ASE, ISA_SUPPORTS_MCU_ASE, ISA_SUPPORTS_VIRT_ASE)
	(ISA_SUPPORTS_VIRT64_ASE): Delete.
	(mips_ase): New structure.
	(mips_ases): New table.
	(FP64_ASES): New macro.
	(mips_ase_groups): New array.
	(mips_isa_rev, mips_ase_mask, mips_check_isa_supports_ase)
	(mips_check_isa_supports_ases, mips_set_ase, mips_lookup_ase): New
	functions.
	(is_opcode_valid): Use mips_ases to get the 64-bit ASE flags.
	(md_parse_option): Use mips_ases and mips_set_ase instead of
	separate case statements for each ASE option.
	(mips_after_parse_args): Use FP64_ASES.  Use
	mips_check_isa_supports_ases to check the ASEs against
	other options.
	(s_mipsset): Use mips_ases and mips_set_ase instead of
	separate if statements for each ASE option.  Use
	mips_check_isa_supports_ases, even when a non-ASE option
	is specified.

gas/testsuite/
	* gas/mips/ase-errors-1.s, gas/mips/ase-errors-1.l,
	gas/mips/ase-errors-2.s, gas/mips/ase-errors-2.l,
	gas/mips/ase-errors-3.s, gas/mips/ase-errors-3.l,
	gas/mips/ase-errors-4.s, gas/mips/ase-errors-4.l: New tests.
	* gas/mips/mips.exp: Run them.
@
text
@d1 8
@


1.2253
log
@gas/testsuite/
	* gas/mips/eva.d: Use -32.
@
text
@d1 8
@


1.2252
log
@2013-06-17  Catherine Moore  <clm@@codesourcery.com>
	    Maciej W. Rozycki  <macro@@codesourcery.com>
	    Chao-Ying Fu  <fu@@mips.com>

	gas/testsuite/
	* gas/mips/mips.exp: Run new tests.
	* gas/mips/eva.d: New.
	* gas/mips/eva.s: New.
	* gas/mips/micromips@@eva.d: New.

	gas/
	* config/tc-mips.c (mips_set_options): Add ase_eva.
	(mips_set_options mips_opts): Add ase_eva.
	(file_ase_eva): Declare.
	(ISA_SUPPORTS_EVA_ASE): Define.
	(IS_SEXT_9BIT_NUM): Define.
	(MIPS_CPU_ASE_EVA): Define.
	(is_opcode_valid): Add support for ase_eva.
	(macro_build): Likewise.
	(macro): Likewise.
	(validate_mips_insn): Likewise.
	(validate_micromips_insn): Likewise.
	(mips_ip): Likewise.
	(options): Add OPTION_EVA and OPTION_NO_EVA.
	(md_longopts): Add -meva and -mno-eva.
	(md_parse_option): Process new options.
	(mips_after_parse_args): Check for valid EVA combinations.
	(s_mipsset): Likewise.

	include/
	* opcode/mips.h (OP_SH_EVAOFFSET): Define.
	(OP_MASK_EVAOFFSET): Define.
	(INSN_ASE_MASK): Delete.
	(ASE_EVA): Define.
	(M_CACHEE_AB, M_CACHEE_OB): New.
	(M_LBE_OB, M_LBE_AB): New.
	(M_LBUE_OB, M_LBUE_AB): New.
	(M_LHE_OB, M_LHE_AB): New.
	(M_LHUE_OB, M_LHUE_AB): New.
	(M_LLE_AB, M_LLE_OB): New.
	(M_LWE_OB, M_LWE_AB): New.
	(M_LWLE_AB, M_LWLE_OB): New.
	(M_LWRE_AB, M_LWRE_OB): New.
	(M_PREFE_AB, M_PREFE_OB): New.
	(M_SCE_AB, M_SCE_OB): New.
	(M_SBE_OB, M_SBE_AB): New.
	(M_SHE_OB, M_SHE_AB): New.
	(M_SWE_OB, M_SWE_AB): New.
	(M_SWLE_AB, M_SWLE_OB): New.
	(M_SWRE_AB, M_SWRE_OB): New.
	(MICROMIPSOP_SH_EVAOFFSET): Define.
	(MICROMIPSOP_MASK_EVAOFFSET): Define.

	opcodes/
	* micromips-opc.c (EVA): Define.
	(TLBINV): Define.
	(micromips_opcodes): Add EVA opcodes.
	* mips-dis.c (mips_arch_choices): Update for ASE_EVA.
	(print_insn_args): Handle EVA offsets.
	(print_insn_micromips): Likewise.
	* mips-opc.c (EVA): Define.
	(TLBINV): Define.
	(mips_builtin_opcodes): Add EVA opcodes.
@
text
@d1 4
@


1.2251
log
@gas/testsuite/
	* gas/mips/loc-swap-3.d: Require -32.
@
text
@d1 9
@


1.2250
log
@gas/
	* dwarf2dbg.h (dwarf2_move_insn): Declare.
	* dwarf2dbg.c (line_subseg): Add pmove_tail.
	(get_line_subseg): Add create_p argument.  Initialize pmove_tail.
	(dwarf2_gen_line_info_1): Update call accordingly.
	(dwarf2_move_insn): New function.
	* config/tc-mips.c (append_insn): Use dwarf2_move_insn.

gas/testsuite/
	* gas/mips/loc-swap-3.d, gas/mips/loc-swap-3.s: New test.
	* gas/mips/mips.exp: Run it.
@
text
@d1 4
@


1.2249
log
@2013-06-13  Chao-ying Fu  <Chao-ying.Fu@@imgtec.com>

	* gas/mips/micromips@@virt.d: New file.
	* gas/mips/micromips@@virt64.d: New file.
	* gas/mips/mips.exp: Enable virt and virt64 tests for micromips.
@
text
@d1 5
@


1.2248
log
@2013-06-12  Sandra Loosemore  <sandra@@codesourcery.com>

	gas/
	* config/tc-nios2.c (md_apply_fix):  Mask constant
	BFD_RELOC_NIOS2_HIADJ16 value to 16 bits.

	gas/testsuite/
	* gas/nios2/movia.s: Add additional test case with negative
	constant value.
	* gas/nios2/movia.d: Likewise.
@
text
@d1 6
@


1.2247
log
@2013-06-12  Sandra Loosemore  <sandra@@codesourcery.com>

	include/opcode/
	* nios2.h (OP_MATCH_ERET): Correct eret encoding.

	gas/testsuite/
	* gas/nios2/tret.d: Correct eret encoding.
@
text
@d3 6
@


1.2246
log
@	gas/
	* config/tc-mips.c (append_insn): Don't do branch relaxation for
	MIPS-3D instructions either.
	(md_convert_frag): Update the COPx branch mask accordingly.

	* config/tc-mips.c (md_show_usage): Document --[no-]relax-branch
	option.
	* doc/as.texinfo (Overview): Add --relax-branch and
	--no-relax-branch.
	* doc/c-mips.texi (MIPS Opts): Document --relax-branch and
	--no-relax-branch.

	gas/testsuite/
	* gas/mips/relax-bc1any.l: New test.
	* gas/mips/relax-bc1any.s: New test source.
	* gas/mips/mips.exp: Run the new test.
@
text
@d1 4
@


1.2245
log
@2013-06-09  Sandra Loosemore  <sandra@@codesourcery.com>

	opcodes/
	* nios2-opc.c (nios2_builtin_opcodes): Give "trap" a type-"b"
	argument.

	gas/
	* config/tc-nios2.c (nios2_parse_args):  Allow trap argument to
	omitted.

	gas/testsuite/
	* gas/nios2/trap.s: Add additional test cases for optional
	argument.
	* gas/nios2/trap.d: Likewise.
@
text
@d1 6
@


1.2244
log
@Don't align text/data/bss sections for ELF

binutils/testsuite/

	* binutils-all/i386/compressed-1b.d: Updated for text/data/bss
	section alignment change.
	* binutils-all/i386/compressed-1c.d: Likewise.
	* binutils-all/x86-64/compressed-1b.d: Likewise.
	* binutils-all/x86-64/compressed-1c.d: Likewise.

gas/

	* config/tc-i386.c (md_begin): Don't align text/data/bss sections
	for ELF.

gas/testsuite/

	* gas/i386/size-3.d: Updated for text/data/bss section alignment
	change.
	* gas/i386/x86-64-size-1.d: Likewise.
	* gas/i386/x86-64-unwind.d: Likewise.
	* gas/i386/ilp32/x86-64-size-1.d: Likewise.
	* gas/i386/ilp32/x86-64-size-5.d: Likewise.
	* gas/i386/ilp32/x86-64-unwind.d: Likewise.

ld/testsuite/

	* ld-i386/pr12718.d: Updated for text/data/bss section alignment
	change.
	* ld-i386/tlsbindesc.dd: Likewise.
	* ld-i386/tlsbindesc.rd: Likewise.
	* ld-i386/tlsnopic.dd: Likewise.
	* ld-i386/tlspic.dd: Likewise.
	* ld-x86-64/ilp32-4.d: Likewise.
	* ld-x86-64/pr12718.d: Likewise.
	* ld-x86-64/split-by-file.rd: Likewise.
	* ld-x86-64/tlsbin.dd: Likewise.
	* ld-x86-64/tlsbin.rd: Likewise.
	* ld-x86-64/tlsbindesc.dd: Likewise.
	* ld-x86-64/tlsbindesc.rd: Likewise.
	* ld-x86-64/tlsdesc.dd: Likewise.
	* ld-x86-64/tlsdesc.rd: Likewise.
	* ld-x86-64/tlspic.dd: Likewise.
	* ld-x86-64/tlspic.rd: Likewise.
@
text
@d1 6
@


1.2243
log
@2013-05-31  Paul Brook  <paul@@codesourcery.com>

	gas/
	* config/tc-mips.c (s_ehword): New.


2013-05-31  Catherine Moore  <clm@@codesourcery.com>

	gas/testsuite/
	* gas/mips/ehword.d: New.
	* gas/mips/ehword.s: New.
	* gas/mips/mips.exp: Run ehword test.
@
text
@d1 10
@


1.2242
log
@	gas/
	* write.c (resolve_reloc_expr_symbols): On REL targets don't
	convert relocs who have no relocatable field either.  Rephrase
	the conditional so that the PC-relative check is only applied
	for REL targets.

	gas/testsuite/
	* gas/mips/jalr3.d: New test.
	* gas/mips/jalr3-n32.d: New test.
	* gas/mips/jalr3-n64.d: New test.
	* gas/mips/jalr3.s: New test source.
	* gas/mips/mips.exp: Run the new tests.

	ld/testsuite/
	* ld-mips-elf/jalr3.dd: New test.
	* ld-mips-elf/jalr3.ld: New test linker script.
	* ld-mips-elf/mips-elf.exp: Run the new test.
@
text
@d1 7
@


1.2241
log
@binutils/
	* dwarf.c (display_debug_lines_raw): Print section offsets.

binutils/testsuite/
	* binutils-all/dw2-1.W: Adjust expected output.
	* binutils-all/objdump.W: Likewise.
	* binutils-all/i386/compressed-1a.d: Likewise.
	* binutils-all/x86-64/compressed-1a.d: Likewise.

gas/testsuite/
	* gas/cris/rd-dw2-1.d: Adjust expected output.
	* gas/cris/rd-dw2-10.d: Likewise.
	* gas/cris/rd-dw2-11.d: Likewise.
	* gas/cris/rd-dw2-12.d: Likewise.
	* gas/cris/rd-dw2-13.d: Likewise.
	* gas/cris/rd-dw2-14.d: Likewise.
	* gas/cris/rd-dw2-15.d: Likewise.
	* gas/cris/rd-dw2-2.d: Likewise.
	* gas/cris/rd-dw2-3.d: Likewise.
	* gas/cris/rd-dw2-4.d: Likewise.
	* gas/cris/rd-dw2-5.d: Likewise.
	* gas/cris/rd-dw2-6.d: Likewise.
	* gas/cris/rd-dw2-7.d: Likewise.
	* gas/cris/rd-dw2-8.d: Likewise.
	* gas/cris/rd-dw2-9.d: Likewise.
	* gas/elf/dwarf2-1.d: Likewise.
	* gas/elf/dwarf2-2.d: Likewise.
	* gas/elf/dwarf2-3.d: Likewise.
	* gas/i386/debug1.d: Likewise.
	* gas/i386/dw2-compress-1.d: Likewise.
	* gas/i386/ilp32/lns/lns-common-1.d: Likewise.
	* gas/i386/ilp32/lns/lns-duplicate.d: Likewise.
	* gas/ia64/pr13167.d: Likewise.
	* gas/lns/lns-big-delta.d: Likewise.
	* gas/lns/lns-common-1-alt.d: Likewise.
	* gas/lns/lns-common-1.d: Likewise.
	* gas/lns/lns-duplicate.d: Likewise.
	* gas/mips/loc-swap-2.d: Likewise.
	* gas/mips/loc-swap.d: Likewise.
	* gas/mips/micromips@@loc-swap-2.d: Likewise.
	* gas/mips/micromips@@loc-swap.d: Likewise.
	* gas/mips/mips16-dwarf2-n32.d: Likewise.
	* gas/mips/mips16-dwarf2.d: Likewise.
	* gas/mips/mips16@@loc-swap-2.d: Likewise.
	* gas/mips/mips16@@loc-swap.d: Likewise.
@
text
@d1 8
@


1.2240
log
@	gas/
	* config/tc-mips.c (macro) <ld>: Don't use $zero for address
	calculation.

	gas/testsuite/
	* gas/mips/ld-zero.d: New test.
	* gas/mips/ld-zero-2.d: New test.
	* gas/mips/ld-zero-3.d: New test.
	* gas/mips/ld-zero-q.d: New test.
	* gas/mips/ld-zero-u.d: New test.
	* gas/mips/ecoff@@ld-zero-3.d: New test.
	* gas/mips/micromips@@ld-zero-2.d: New test.
	* gas/mips/micromips@@ld-zero-3.d: New test.
	* gas/mips/ld-zero.s: New test source.
	* gas/mips/ld-zero-2.s: New test source.
	* gas/mips/ld-zero-3.s: New test source.
	* gas/mips/ld-zero-q.s: New test source.
	* gas/mips/ld-zero-u.s: New test source.
	* gas/mips/mips.exp: Run the new tests.
@
text
@d1 38
@


1.2239
log
@Correct the relocation names for R_AARCH64_TLSDESC_LD_PREL19 and R_AARCH64_TLSDESC_ADR_PAGE21.
@
text
@d1 17
@


1.2238
log
@gas/
2013-05-28  Kyrylo Tkachov  <kyrylo.tkachov@@arm.com>

	* config/tc-arm.c (it_fsm_post_encode): Improve
	warning messages about deprecated IT block formats.

gas/testsuite
2013-05-28  Kyrylo Tkachov  <kyrylo.tkachov@@arm.com>

	* gas/arm/armv8-a-bad.l: Update expected warning message.
	* gas/arm/armv8-a-it-bad.l: Likewise.
@
text
@d1 5
@


1.2237
log
@[AArch64] Range check only resolved relocations.

2013-05-28  Marcus Shawcroft  <marcus.shawcroft@@arm.com>

        * config/tc-aarch64.c (md_apply_fix): Move value range checking
        inside fx_done condition.

2013-05-28  Marcus Shawcroft  <marcus.shawcroft@@arm.com>

        * gas/aarch64/adr_1.d: New file.
        * gas/aarch64/adr_1.s: New file.
        * gas/aarch64/b_1.d: New file.
        * gas/aarch64/b_1.s: New file.
        * gas/aarch64/beq_1.d: New file.
        * gas/aarch64/beq_1.s: New file.
        * gas/aarch64/ldr_1.d: New file.
        * gas/aarch64/ldr_1.s: New file.
        * gas/aarch64/tbz_1.d: New file.
        * gas/aarch64/tbz_1.s: New file.
@
text
@d1 5
@


1.2236
log
@opcodes/
	* s390-opc.txt (flogr): Require a register pair destination.

gas/testsuite/
	* gas/s390/zarch-z9-109-err.s, gas/s390/zarch-z9-109-err.l: New test.
	* gas/s390/s390.exp: Run it.
@
text
@d1 13
@


1.2235
log
@2013-05-23  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* s390-opc.c: Fix length operand in RSL_LRDFU and RSL_LRDFEU
	instruction format.

2013-05-23  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* gas/s390/zarch-zEC12.d: Adjust length operands for cdzt, cxzt,
	czdt, and czxt.
	* gas/s390/zarch-zEC12.d: Likewise.
@
text
@d1 5
@


1.2234
log
@include/opcode/
2013-05-22  Jrgen Urban  <JuergenUrban@@gmx.de>

	* mips.h (M_LQC2_AB, M_SQC2_AB): New macros.

opcodes/
2013-05-22  Jrgen Urban  <JuergenUrban@@gmx.de>

	* mips-opc.c (mips_builtin_opcodes): Add R5900 VU0 instructions.

gas/
2013-05-22  Jrgen Urban  <JuergenUrban@@gmx.de>

	* config/tc-mips.c (macro): Handle M_LQC2_AB and M_SQC2_AB.

gas/testsuite/
2013-05-22  Jrgen Urban  <JuergenUrban@@gmx.de>

	* gas/mips/r5900-full.s, gas/mips/r5900-full.d: Add tests for LQ
	and SQ macros.
	* gas/mips/r5900-vu0.s, gas/mips/r5900-vu0.d: New test.
	* gas/mips/mips.exp: Run it.
@
text
@d1 6
@


1.2233
log
@	* gas/ppc/vsx2.d: Ignore trailing padding.
@
text
@d1 7
@


1.2232
log
@opcodes/
	* ppc-dis.c (powerpc_init_dialect): Set default dialect to power8.
	* ppc-opc.c (BHRBE, ST, SIX, PS, SXL, VXPS_MASK, XX1RB_MASK,
	XLS_MASK, PPCVSX2): New defines.
	(powerpc_opcodes) <bcdadd., bcdsub., bctar, bctar, bctarl, clrbhrb,
	fmrgew, fmrgow, lqarx, lxsiwax, lxsiwzx, lxsspx, mfbhrbe,
	mffprd, mffprwz, mfvrd, mfvrwz, mfvsrd, mfvsrwz, msgclrp, msgsndp,
	mtfprd, mtfprwa, mtfprwz, mtsle, mtvrd, mtvrwa, mtvrwz, mtvsrd,
	mtvsrwa, mtvsrwz, pbt., rfebb, stqcx., stxsiwx, stxsspx,
	vaddcuq, vaddecuq, vaddeuqm, vaddudm, vadduqm, vbpermq, vcipher,
	vcipherlast, vclzb, vclzd, vclzh, vclzw, vcmpequd, vcmpequd.,
	vcmpgtsd, vcmpgtsd., vcmpgtud, vcmpgtud., veqv, vgbbd, vmaxsd,
	vmaxud, vminsd, vminud, vmrgew, vmrgow, vmulesw, vmuleuw, vmulosw,
	vmulouw, vmuluwm, vnand, vncipher, vncipherlast, vorc, vpermxor,
	vpksdss, vpksdus, vpkudum, vpkudus, vpmsumb, vpmsumd, vpmsumh,
	vpmsumw, vpopcntb, vpopcntd, vpopcnth, vpopcntw, vrld, vsbox,
	vshasigmad, vshasigmaw, vsld, vsrad, vsrd, vsubcuq, vsubecuq,
	vsubeuqm, vsubudm, vsubuqm, vupkhsw, vupklsw, waitasec, xsaddsp,
	xscvdpspn, xscvspdpn, xscvsxdsp, xscvuxdsp, xsdivsp, xsmaddasp,
	xsmaddmsp, xsmsubasp, xsmsubmsp, xsmulsp, xsnmaddasp, xsnmaddmsp,
	xsnmsubasp, xsnmsubmsp, xsresp, xsrsp, xsrsqrtesp, xssqrtsp,
	xssubsp, xxleqv, xxlnand, xxlorc>: New instructions.
	<lxvx, stxvx>: New extended mnemonics.

gas/
	* config/tc-ppc.c (ppc_setup_opcodes): Use new_seg to fix error
	and clean up warning when using PRINT_OPCODE_TABLE.

gas/testsuite/
	* gas/ppc/altivec2.d <bcdadd., bcdadd., vaddcuq, vaddecuq, vaddeuqm,
	vaddudm, vadduqm, vbpermq, vcipher, vcipherlast, vclzb, vclzd, vclzh,
	vclzw, vcmpequd, vcmpequd., vcmpgtsd, vcmpgtsd., vcmpgtud, vcmpgtud.,
	veqv, vgbbd, vmaxsd, vmaxud, vminsd, vminud, vmrgew, vmrgow, vmulesw,
	vmuleuw, vmulosw, vmulouw, vmuluwm, vnand, vncipher, vncipherlast,
	vorc, vpermxor, vpksdss, vpksdus, vpkudum, vpkudus, vpmsumb, vpmsumd,
	vpmsumh, vpmsumw, vpopcntb, vpopcntd, vpopcnth, vpopcntw, vrld, vsbox,
	vshasigmad, vshasigmaw, vsld, vsrad, vsrd, vsubcuq, vsubecuq, vsubeuqm,
	vsubudm, vsubuqm, vupkhsw, vupklsw>: Add new tests.
	* gas/ppc/altivec2.s: Likewise.
	* gas/ppc/power8.d <bcdadd., bcdsub., bctar, bctarl, clrbhrb, fmrgew,
	fmrgow, lqarx, lxsiwax, lxsiwzx, lxsspx, mfbhrbe, mfvsrd, mfvsrwz,
	msgclrp, msgsndp, mtsle, mtvsrd, mtvsrwa, mtvsrwz, pbt., rfebb,
	stqcx., stxsiwx, stxsspx, vaddcuq, vaddecuq, vaddeuqm, vaddudm,
	vadduqm, vbpermq, vcipher, vcipherlast, vclzb, vclzd, vclzh, vclzw,
	vcmpequd, vcmpequd., vcmpgtsd, vcmpgtsd., vcmpgtud, vcmpgtud., veqv,
	vgbbd, vmaxsd, vmaxud, vminsd, vminud, vmrgow, vmulesw, vmuleuw,
	vmulosw, vmulouw, vmuluwm, vnand, vncipher, vncipherlast, vorc,
	vpermxor, vpksdss, vpksdus, vpkudum, vpkudus, vpmsumb, vpmsumd,
	vpmsumh, vpmsumw, vpopcntb, vpopcntd, vpopcnth, vpopcntw, vrld, vsbox,
	vshasigmad, vshasigmaw, vsld, vsrad, vsrd, vsubcuq, vsubecuq, vsubeuqm,
	vsubuqm, vupkhsw, vupklsw, waitasec, xsaddsp, xscvdpspn, xscvspdpn,
	xscvsxdsp, xscvuxdsp, xsdivsp, xsmaddasp, xsmaddmsp, xsmsubasp,
	xsmsubmsp, xsmulsp, xsnmaddasp, xsnmaddmsp, xsnmsubasp, xsnmsubmsp,
	xsresp, xsrsp, xsrsqrtesp, xssqrtsp, xssubsp, xxleqv, xxlnand,
	xxlorc>: Add new tests.
	* gas/ppc/power8.s Likewise.
	* gas/ppc/vsx.d <lxvd2x, stxvd2x>: Add new tests.
	* gas/ppc/vsx.s Likewise.
	* gas/ppc/vsx2.d: New test file.
	* gas/ppc/vsx2.s: Likewise.
	* gas/ppc/ppc.exp: Run it.
@
text
@d1 4
@


1.2231
log
@2013-05-16  Tristan Gingold  <gingold@@adacore.com>

        * gas/ppc/ppc.exp: Do not run simpshft on aix.
@
text
@d1 35
@


1.2230
log
@	* config/tc-msp430.c: Make -mmcu recognise more part numbers.
	Add -mcpu command to specify core type.
	* doc/c-msp430.c: Update documentation.
	* gas/msp430/opcodes.s: Use correct value for .arch pseudo.
	* gas/msp430/msp430x.d: Use correct value for -mcpu option.
@
text
@d1 4
@


1.2229
log
@Corrected the changelog entry in the previous commit.
@
text
@d1 5
@


1.2228
log
@
binutils/ChangeLog:
* doc/binutils.texi: Document -Mvirt disassembler option.

gas/ChangeLog:
* config/tc-mips.c (struct mips_set_options): New ase_virt field.
(mips_opts): Update for the new field.
(file_ase_virt): New variable.
(ISA_SUPPORTS_VIRT_ASE): New macro.
(ISA_SUPPORTS_VIRT64_ASE): New macro.
(MIPS_CPU_ASE_VIRT): New define.
(is_opcode_valid): Handle ase_virt.
(macro_build): Handle "+J".
(validate_mips_insn): Likewise.
(mips_ip): Likewise.
(enum options): Add OPTION_VIRT and OPTION_NO_VIRT.
(md_longopts): Add mvirt and mnovirt
(md_parse_option): Handle OPTION_VIRT and OPTION_NO_VIRT.
(mips_after_parse_args): Handle ase_virt field.
(s_mipsset): Handle "virt" and "novirt".
(mips_elf_final_processing): Add a comment about virt ASE might need a new flag.
(md_show_usage): Print out the usage of -mvirt and mno-virt options.
* doc/c-mips.texi: Document -mvirt and -mno-virt.
Document ".set virt" and ".set novirt".

gas/testsuite/ChangeLog:
* gas/mips/mips.exp: Run virt and virt64 testcases.
* gas/mips/virt.d: New file.
* gas/mips/virt.s: New file.
* gas/mips/virt64.d: New file.
* gas/mips/virt64.s: New file.

include/opcode/ChangeLog:
* mips.h (OP_MASK_CODE10): Correct definition.
(OP_SH_CODE10): Likewise.
Add a comment that "+J" is used now for OP_*CODE10.
(INSN_ASE_MASK): Update.
(INSN_VIRT): New macro.
(INSN_VIRT64): New macro

opcodes/ChangeLog:
* mips-dis.c (mips_arch_choices): Add INSN_VIRT to mips32r2 .
Add INSN_VIRT and INSN_VIRT64 to mips64r2.
(parse_mips_dis_option): Handle the virt option.
(print_insn_args): Handle "+J".
(print_mips_disassembler_options): Print out message about virt64.
* mips-opc.c (IVIRT): New define.
(IVIRT64): New define.
(mips_builtin_opcodes): Add dmfgc0, dmtgc0, hypcall, mfgc0, mtgc0,
tlbgr, tlbgwi, tlbginv, tlbginvf, tlbgwr, tlbgp VIRT instructions.
Move rfe to the bottom as it conflicts with tlbgp.
@
text
@d1 7
@


1.2227
log
@gas/testsuite/
	* gas/mips/micromips-warn-branch-delay.d: Use numeric registers.
@
text
@d1 8
@


1.2226
log
@gas/
	* config/tc-mips.c (mips_pseudo_table): Add stabd and stabs entries.
	(s_mips_stab): Do not restrict to stabn only.

gas/testsuite/
	* gas/mips/mips16-stabs.s, gas/mips/mips16-stabs.d: New test.
	* gas/mips/mips.exp: Run it.
@
text
@d1 4
@


1.2225
log
@	* archures.c: Add some more MSP430 machine numbers.
	* config.bfd (msp430): Define targ_selvecs.
	* configure.in: Add bfd_elf32_msp430_ti_vec.
	* cpu-msp430.c: Add some more MSP430 machine numbers.
	* elf32-msp430.c Add support for MSP430X relocations.
	Add support for TI compiler generated relocations.
	Add support for sym_diff relocations.
	Add support for relaxing out of range short branches into long
	branches.
	Add support for MSP430 attribute section.
	* reloc.c: Add MSP430X relocations.
	* targets.c: Add bfd_elf32_msp430_ti_vec.
	* bfd-in2.h: Regenerate.
	* configure: Regenerate.
	* libbfd.h: Regenerate.

	* readelf.c: Add support for MSP430X architecture.

	* readelf.exp: Expect -wi test to fail for the MSP430.

	* config/tc-msp430.c: Add support for the MSP430X architecture.
	Add code to insert a NOP instruction after any instruction that
	might change the interrupt state.
	Add support for the LARGE memory model.
	Add code to initialise the .MSP430.attributes section.
	* config/tc-msp430.h: Add support for the MSP430X architecture.
	* doc/c-msp430.texi: Document the new -mL and -mN command line
	options.
	* NEWS: Mention support for the MSP430X architecture.

	* gas/all/gas.exp: Skip the DIFF1 test for the MSP430.
	Expect the FORWARD test to pass for the MSP430.
	Skip the REDEF tests for the MSP430.
	Expect the 930509A test to fail for the MSP430.
	* gas/all/sleb128-4.d: Skip for the MSP430.
	* gas/elf/elf.exp: Set target_machine to msp430 for the MSP430.
	Skip the EHOPT0 test for the MSP430.
	Skip the REDEF and EQU-RELOC tests for the MSP430.
	* gas/elf/section2.e-msp430: New file.
	* gas/lns/lns-big-delta.d: Remove expectation of 20-bit
	addresses.
	* gas/lns/lns.exp: Use alternate LNS COMMON test for the MSP430.
	* gas/msp430/msp430x.s: New test.
	* gas/msp430/msp430x.d: Expected disassembly.
	* gas/msp430/msp430.exp: Run new test.
	* gas/msp430/opcode.d: Update expected disassembly.

	* msp430.h: Add MSP430X relocs.
	Add some more MSP430 machine numbers.
	Add values used by .MSP430.attributes section.

	* msp430.h: Add patterns for MSP430X instructions.

	* Makefile.am: Add emsp430X.c
	* Makefine.in: Regenerate.
	* configure.tgt (msp430): Add msp430X emulation.
	* ldmain.c (multiple_definition): Only disable relaxation if it
	was enabled by the user.
	* ldmain.h (RELAXATION_ENABLED_BY_USER): New macro.
	* emulparams/msp430all.sh: Add support for MSP430X.
	* emultempl/generic.em: (before_parse): Enable relaxation for the
	MSP430.
	* scripttempl/msp430.sc: Reorganize sections.  Add .rodata
	section.
	* scripttempl/msp430_3.sc: Likewise.
	* NEWS: Mention support for MSP430X.

	* ld-elf/flags1.d: Expect this test to pass on the MSP430.
	* ld-elf/init-fini-arrays.d: Expect this test to fail on the
	MSP430.
	* ld-elf/merge.d: Expect this test to pass on the MSP430.
	* ld-elf/sec64k.exp: Skip these tests for the MSP430.
	* ld-gc/pr13683.d: Expect this test to fail on the MSP430.
	* ld-srec/srec.exp: Expect these tests to fail on the MSP430.
	* ld-undefined/undefined.exp: Expect the UNDEFINED LINE test to
	fail on the MSP430.

	* msp430-dis.c: Add support for MSP430X instructions.
@
text
@d1 5
@


1.2224
log
@2013-04-30  Chao-ying Fu  <Chao-ying.Fu@@imgtec.com>

	* gas/mips/ext-ill.s: New file.
	* gas/mips/ext-ill.l: New file.
	* gas/mips/mips.exp: Run new tests.
@
text
@d1 19
@


1.2223
log
@	* elflink.c (_bfd_elf_gc_mark_extra_sections): Remove mark from
	fragmented .debug_line sections associated with unmarked code
	sections.

	* dwarf.c (read_debug_line_header): New function.  Reads in a
	header in a .debug_line section.
	(display_debug_lines_raw): Use new function.  Handle fragmentary
	.debug_line sections.
	(display_debug_lines_decoded): Likewise.
	* readelf.c (process_section_headers): Handle fragmenatry
	.debug_line sections.
	(display_debug_section): Likewise.

	* as.c (Options): Add -gdwarf-sections.
	(parse_args): Likewise.
	* as.h (flag_dwarf_sections): Declare.
	* dwarf2dbg.c (emit_fixed_inc_line_addr): Skip section changes.
	(process_entries): When -gdwarf-sections is enabled generate
	fragmentary .debug_line sections.
	(out_debug_line): Set the section for the .debug_line section end
	symbol.
	* doc/as.texinfo: Document -gdwarf-sections.
	* NEWS: Mention -gdwarf-sections.

	* gas/elf/dwarf2-3.d: Fix expected readelf output.

	* scripttempl/DWARF.sc: Add support for .debug_line.* and
	.debug_line_end.
@
text
@d1 6
@


1.2222
log
@Enable x32 for x86_64-*-elf*

This patch enables x32 for x86_64-*-elf* for embedded target and disables
rex tests since it uses '/' as prefix separator which is `\' for
x86_64-*-elf*.

bfd/

	* config.bfd (targ_selvecs): Add bfd_elf32_x86_64_vec for
	x86_64-*-elf*.

gas/testsuite/

	* gas/i386/rex.d: Skip x86_64-*-elf*.
	* gas/i386/ilp32/rex.d: Likewise.

ld/

	* configure.tgt (targ_extra_emuls): Adds elf32_x86_64 for
	x86_64-*-elf*.
	(targ_extra_libpath): Likewise.
	(tdir_elf_i386): Replace x86_64 with i386 for x86_64-*-elf*.
@
text
@d1 4
@


1.2221
log
@    gas/
    * expr.c (add_to_result, subtract_from_result): Make global.
    * expr.h (add_to_result, subtract_from_result): Add prototypes.
    * config/tc-sh.c (sh_optimize_expr): Use add_to_result,
    subtract_from_result to handle extra bit of precision for .sleb128
    directive operands.

    gas/testsuite/
    * gas/all/gas.exp (sleb128-7): Don't run for tic4x, tic54x.
    * gas/all/sleb128-2.s: Reformat, use _ at start of labels, remove
    cruft.
    * gas/all/sleb128-3.s: Likewise.
    * gas/all/sleb128-4.s: Likewise.
    * gas/all/sleb128-5.s: Likewise.
    * gas/all/sleb128-7.s: Likewise.
    * gas/all/sleb128-2.d: Handle data sections named $DATA$.
    * gas/all/sleb128-3.d: Likewise.
    * gas/all/sleb128-4.d: Likewise.
    * gas/all/sleb128-5.d: Likewise.
    * gas/all/sleb128-7.d: Likewise.
@
text
@d1 5
@


1.2220
log
@    gas/
    * read.c (convert_to_bignum): Add sign parameter. Use it
    instead of X_unsigned to determine sign of resulting bignum.
    (emit_expr): Pass extra argument to convert_to_bignum.
    (emit_leb128_expr): Use X_extrabit instead of X_unsigned. Pass
    X_extrabit to convert_to_bignum.
    (parse_bitfield_cons): Set X_extrabit.
    * expr.c (make_expr_symbol, expr_build_uconstant, operand):
    Initialise X_extrabit field as appropriate.
    (add_to_result): New.
    (subtract_from_result): New.
    (expr): Use above.
    * expr.h (expressionS): Add X_extrabit field.

    gas/testsuite/
    * gas/all/sleb128-2.s: New test.
    * gas/all/sleb128-3.s: Likewise.
    * gas/all/sleb128-4.s: Likewise.
    * gas/all/sleb128-5.s: Likewise.
    * gas/all/sleb128-7.s: Likewise.
    * gas/all/sleb128-2.d: New.
    * gas/all/sleb128-3.d: New.
    * gas/all/sleb123-4.d: New.
    * gas/all/sleb123-5.d: New.
    * gas/all/sleb123-7.d: New.
    * gas/all/gas.exp (sleb128-2, sleb128-3, sleb128-4, sleb128-5)
    (sleb128-7): Run new tests.
@
text
@d1 15
@


1.2219
log
@gas/
2013-04-10  Jan Beulich <jbeulich@@suse.com>

	* gas/config/tc-arm.c (encode_arm_addr_mode_3): Only reject base
	register being PC when is_t or writeback, and use distinct
	diagnostic for the latter case.

gas/testsuite/
2013-04-10  Jan Beulich <jbeulich@@suse.com>

	* gas/testsuite/gas/arm/ldst-pc.s: Add index, non-writeback
	forms of various loads and stores with PC as base.
	* gas/testsuite/gas/arm/ldst-pc.d: Update accordingly.
@
text
@d1 15
@


1.2218
log
@gas/
2013-04-10  Jan Beulich <jbeulich@@suse.com>

	* gas/config/tc-arm.c (parse_operands): Re-write
	po_barrier_or_imm().
	(do_barrier): Remove bogus constraint().
	(do_t_barrier): Remove.

gas/testsuite/
2013-04-10  Jan Beulich <jbeulich@@suse.com>

	* gas/arm/barrier-bad.d: Change title.
	* gas/arm/barrier-bad.s: Add immediate form of ISB and DSB as
	well as one symbolic form of DSB.
	* gas/arm/barrier-bad.l: Update accordingly.
	* gas/arm/barrier-bad-thumb.d: Adjust title. Use barrier-bad.s as
	source. Pass -mthumb to gas.
	* gas/arm/barrier-bad-thumb.l: Remove.
	* gas/arm/barrier-bad-thumb.s: Remove.
	* gas/arm/barrier-thumb.d: Adjust title. Use barrier.s as source.
	Pass -mthumb to gas.
	* gas/arm/barrier-thumb.s: Remove.
@
text
@d3 6
@


1.2217
log
@gas/
2013-04-09  Jan Beulich <jbeulich@@suse.com>

	* gas/config/tc-arm.c (do_vmrs): Accept all control registers.
	Use local variable Rt in more places.
	(do_vmsr): Accept all control registers.

gas/testsuite/
2013-04-09  Jan Beulich <jbeulich@@suse.com>

	* gas/arm/vfp1xD.s: Add VMRS/VMSR tests with FPINST, FPINST2,
	and C15.
	* gas/arm/vfp1xD.d: Update accordingly.
@
text
@d1 14
@


1.2216
log
@gas/
2013-04-09  Jan Beulich <jbeulich@@suse.com>

	* gas/config/tc-arm.c (do_neon_mov): Fake an instruction suffix
	if there was none specified for moves between scalar and core
	register.

gas/testsuite/
2013-04-09  Jan Beulich <jbeulich@@suse.com>

	* gas/arm/neon-omit.s: Add tests for suffix less VMOV.
	* gas/arm/neon-omit.d: Update accordingly.
@
text
@d3 6
@


1.2215
log
@gas/
2013-04-09  Jan Beulich <jbeulich@@suse.com>

	* gas/config/tc-arm.c (do_neon_ldx_stx): Reject VSTn in the
	NEON_ALL_LANES case.

gas/testsuite/
2013-04-09  Jan Beulich <jbeulich@@suse.com>

	* gas/arm/neon-addressing-bad.s: Add test for further invalid VST
	operands.
	* gas/arm/neon-addressing-bad.l: Update accordingly.
@
text
@d3 5
@


1.2214
log
@gas/testsuite/
2013-04-08  Jan Beulich <jbeulich@@suse.com>

	* gas/i386/x86-64-opcode.s: Flesh out LOOP and J*CXZ sections.
	Correct comments in Jcc section.
	* gas/i386/x86-64-opcode.d: Refresh.
	* gas/i386/ilp32/x86-64-opcode.d: Refresh.

opcodes/
2013-04-08  Jan Beulich <jbeulich@@suse.com>

	* i386-opc.tbl: Fold 64-bit and non-64-bit jecxz entries.
	* i386-tbl.h: Re-generate.
@
text
@d1 6
@


1.2213
log
@Increase the accuracy of sparc instruction aliases.

Make current with UA2011 specification.

Add an F_PREFERRED opcode flag that indicates a preferred alias
when multiple aliases for the same opcode exists.

For 'lzd':

	Add 'lzcnt' as primary instruction, and make 'lzd' an alias.

Add 'ldtw', 'ldtwa', 'sttw', 'sttwa':

	The modern opcode for for 'ldd', 'ldda', 'std', and 'stda' on
	integer registers.  Mark the latter now as aliases.

For 'flush':

	Support "[address]" syntax as well as plain "address".

Rework 'mov' aliases for 'wr':

	Eliminate bogus three operand moves, and encode the
	instructions properly for the "mov REG, %ASR" cases,
	specifically we should encode the register in rs2 not rs1 as
	per The SPARC V8 Architecture Manual.

Add missing cbcond aliases:

	c{w,x}bz, c{w,x}blu, c{w,x}bnz, c{w,x}bgeu

Add 'd' suffix VIS logical ops:

	The primary opcode for 'fzero' is now 'fzerod' (compare with
	'fzeros'), for example.  And thus 'fzero' is now an alias.

Add modern opcodes for condition code setting edge instructions:

	They are now edgeN{,l}cc instead of plain edgeN{,l}.

Add modern opcodes for VIS comparisons:

	All VIS comparisons now start with prefix "fp", retain the
	older variants as aliases.

	The signed variants for equal and not-equal have "u" aliases
	to show that these comparisons are equally suited for unsigned
	compares.

Update existing test cases as needed, and add several new ones.

include/opcode/

	* sparc.h (F_PREFERRED): Define.
	(F_PREF_ALIAS): Define.

opcodes/

	* sparc-dis.c (compare_opcodes): When encountering multiple aliases
	of an opcode, prefer the one with F_PREFERRED set.
	* sparc-opc.c (sparc_opcodes): Add ldtw, ldtwa, sttw, sttwa,
	lzcnt, flush with '[address]' syntax, and missing cbcond pseudo
	ops.  Make 64-bit VIS logical ops have "d" suffix in their names,
	mark existing mnenomics as aliases.  Add "cc" suffix to edge
	instructions generating condition codes, mark existing mnenomics
	as aliases.  Add "fp" prefix to VIS compare instructions, mark
	existing mnenomics as aliases.

gas/testsuite/

	* gas/sparc/cbcond.s: Add tests for new opcode aliases.
	* gas/sparc/cbcond.d: Updated.
	* gas/sparc/hpcvis3.s: Add tests for new opcode aliases.
	* gas/sparc/hpcvis3.d: Updated.
	* gas/sparc/v8-movwr-imm.d: Fix expected disassembly.
	* gas/sparc/edge.s: New test.
	* gas/sparc/edge.d: Expected disassembly.
	* gas/sparc/flush.s: New test.
	* gas/sparc/flush.d: Expected disassembly.
	* gas/sparc/ldd_std.s: New test.
	* gas/sparc/ldd_std.d: Expected disassembly.
	* gas/sparc/ldtw_sttw.s: New test.
	* gas/sparc/ldtw_sttw.d: Expected disassembly.
	* gas/sparc/sparc.exp: Run new tests.
@
text
@d1 7
@


1.2212
log
@	PR binutils/15068
	* tic6x-opcode-table.h: Fix patterns for add, ldnw and xor.
	* gas/tic6x/insns16-lsd-unit.s: Correct bit patterns for mvk, add
	and xor.
	* gas/tic6x/insns16-lsd-unit.d: Update expected output.
@
text
@d1 17
@


1.2211
log
@Properly check address mode for SIB

gas/testsuite/

	* gas/i386/addr32.s: Add an SIB test.
	* gas/i386/addr32.d: Updated.

opcodes/

	* i386-dis.c (get_sib): Add the sizeflag argument.  Properly
	check address mode.
	(print_insn): Pass sizeflag to get_sib.
@
text
@d1 7
@


1.2210
log
@	PR binutils/15068
	* tic6x-dis.c: Add support for displaying 16-bit insns.
	* tic6xc-insn-formats.h (FLD): Add use of bitfield array.
	Add 16-bit opcodes.
	* tic6xc-opcode-table.h: Add 16-bit insns.
	* tic6x.h: Add support for 16-bit insns.
	* config/tc-tic6x.c (tic6x_try_encode): Add use of bitfields array.
	* gas/tic6x/insns16-d-unit.s: New test.
	* gas/tic6x/insns16-d-unit.d: Expected disassembly.
	* gas/tic6x/insns16-ddec.s: New test.
	* gas/tic6x/insns16-ddec.d: Expected disassembly.
	* gas/tic6x/insns16-dinc.s: New test.
	* gas/tic6x/insns16-dinc.d: Expected disassembly.
	* gas/tic6x/insns16-dind.s: New test.
	* gas/tic6x/insns16-dind.d: Expected disassembly.
	* gas/tic6x/insns16-doff4.s: New test.
	* gas/tic6x/insns16-doff4.d: Expected disassembly.
	* gas/tic6x/insns16-l-unit.s: New test.
	* gas/tic6x/insns16-l-unit.d: Expected disassembly.
	* gas/tic6x/insns16-lsd-unit.s: New test.
	* gas/tic6x/insns16-lsd-unit.d: Expected disassembly.
	* gas/tic6x/insns16-m-unit.s: New test.
	* gas/tic6x/insns16-m-unit.d: Expected disassembly.
	* gas/tic6x/insns16-s-unit-pcrel.s: New test.
	* gas/tic6x/insns16-s-unit-pcrel.d: Expected disassembly.
	* gas/tic6x/insns16-s-unit: New test.
	* gas/tic6x/insns16-s-unit.d: Expected disassembly.
@
text
@d1 5
@


1.2209
log
@Fix typo in added CL entry.
@
text
@d1 24
@


1.2208
log
@gas/
2013-03-26  Douglas B Rupp  <rupp@@gnat.com>

	* config/tc-ia64.c (emit_one_bundle): Move last_slot adjustment
	after fixup.

gas/testsuite/
2013-03-26  Douglas B Rupp  <rupp@@adacore.com

	* gas/ia64/ia64.exp: Add new test reloc-mlx
	* gas/ia64/reloc-mlx.[sd]: New test for X-unit reloc.
	* gas/ia64/pcrel.d: Fix output for X-unit reloc.
@
text
@d1 1
a1 1
2013-03-26  Douglas B Rupp  <rupp@@adacore.com
@


1.2207
log
@gas/ChangeLog:

2013-03-21  Will Newton  <will.newton@@linaro.org>

	* config/tc-arm.c (encode_thumb32_addr_mode): Emit an error for all
	pc-relative str instructions in Thumb mode.

gas/testsuite/ChangeLog:

2013-03-21  Will Newton  <will.newton@@linaro.org>

	* gas/arm/thumb2_relax.d: Strip out invalid pc-relative strs.
	* gas/arm/thumb2_relax.s: Likewise.
	* gas/arm/thumb32.d: Likewise.
	* gas/arm/thumb32.l: Likewise.
	* gas/arm/thumb32.s: Likewise.
	* gas/arm/thumb2_str-bad.d: New file.
	* gas/arm/thumb2_str-bad.l: Likewise.
	* gas/arm/thumb2_str-bad.s: Likewise.
@
text
@d1 6
@


1.2206
log
@	PR gas/15082
	* tic6x-opcode-table.h: Rename mpydp's specific operand type macro
	from ORREGD1324 to ORXREGD1324 and make it cross-path-able through
	tic6x_operand_xregpair operand coding type.
	Make mpydp instruction cross-path-able, ie: remove the FIXed 'x'
	opcode field, usu ORXREGD1324 for the src2 operand and remove the
	TIC6X_FLAG_NO_CROSS.

	* gas/tic6x/insns-bad-1.s: Remove test-case for mpydp with
	cross-path.
	* gas/tic6x/insns-bad-1.l: Update expected output.
	* gas/tic6x/insns-c674x.s: Add a test-case for mpydp with
	cross-path.
	* gas/tic6x/insns-c674x.d: Update expected output.
@
text
@d1 11
@


1.2205
log
@* include/opcode/tic6x.h: add tic6x_coding_dreg_(msb|lsb) field coding type in
order to encode separately the msb and lsb of a register pair ; this will be
needed to encode the opcodes the same
way as Ti assembler does.

* gas/config/tc-tic6x.c: handle tic6x_coding_dreg_(msb|lsb)  field coding types
and use it to encode register pair numbers when required.

* opcodes/tic6x-dis.c: decodes opcodes that have individual msb and lsb halves
in src1 & src2 fields ; discard the src1 (lsb) value and only use src2 (msb),
discarding bit 0, to follow what Ti SDK does in that case as any value in the
src1 field yields the same output with SDK disassembler.

* include/opcode/tic6x-opcode-table.h: modify absdp, dpint, dpsp, dptrunc,
rcpdp and rsqrdp opcodes to use the new field coding types.

* gas/testsuite/gas/tic6x/insns-c674x.d, gas/testsuite/gas/tic6x/insns-c674x.s
: add test case for the newly generated opcode but keep the old ones as they
seem legit as per Ti disassembler output.
@
text
@d3 10
@


1.2204
log
@gas/testsuite/ChangeLog:

2013-03-15  Will Newton  <will.newton@@linaro.org>

	* gas/arm/any-idiv.d: Expand *-*eabi test to cover *-*eabi*.
	* gas/arm/arch4t-eabi.d: Likewise.
	* gas/arm/arch4t.d: Likewise.
	* gas/arm/attr-any-armv4t.d: Likewise.
	* gas/arm/attr-any-thumbv6.d: Likewise.
	* gas/arm/attr-cpu-directive.d: Likewise.
	* gas/arm/attr-default.d: Likewise.
	* gas/arm/attr-march-all.d: Likewise.
	* gas/arm/attr-march-armv1.d: Likewise.
	* gas/arm/attr-march-armv2.d: Likewise.
	* gas/arm/attr-march-armv2a.d: Likewise.
	* gas/arm/attr-march-armv2s.d: Likewise.
	* gas/arm/attr-march-armv3.d: Likewise.
	* gas/arm/attr-march-armv3m.d: Likewise.
	* gas/arm/attr-march-armv4.d: Likewise.
	* gas/arm/attr-march-armv4t.d: Likewise.
	* gas/arm/attr-march-armv4txm.d: Likewise.
	* gas/arm/attr-march-armv4xm.d: Likewise.
	* gas/arm/attr-march-armv5.d: Likewise.
	* gas/arm/attr-march-armv5t.d: Likewise.
	* gas/arm/attr-march-armv5te.d: Likewise.
	* gas/arm/attr-march-armv5tej.d: Likewise.
	* gas/arm/attr-march-armv5texp.d: Likewise.
	* gas/arm/attr-march-armv5txm.d: Likewise.
	* gas/arm/attr-march-armv6-m+os.d: Likewise.
	* gas/arm/attr-march-armv6-m.d: Likewise.
	* gas/arm/attr-march-armv6.d: Likewise.
	* gas/arm/attr-march-armv6j.d: Likewise.
	* gas/arm/attr-march-armv6k+sec.d: Likewise.
	* gas/arm/attr-march-armv6k.d: Likewise.
	* gas/arm/attr-march-armv6kt2.d: Likewise.
	* gas/arm/attr-march-armv6s-m.d: Likewise.
	* gas/arm/attr-march-armv6t2.d: Likewise.
	* gas/arm/attr-march-armv6z.d: Likewise.
	* gas/arm/attr-march-armv6zk.d: Likewise.
	* gas/arm/attr-march-armv6zkt2.d: Likewise.
	* gas/arm/attr-march-armv6zt2.d: Likewise.
	* gas/arm/attr-march-armv7-a+idiv.d: Likewise.
	* gas/arm/attr-march-armv7-a+mp.d: Likewise.
	* gas/arm/attr-march-armv7-a+sec+virt.d: Likewise.
	* gas/arm/attr-march-armv7-a+sec.d: Likewise.
	* gas/arm/attr-march-armv7-a+virt.d: Likewise.
	* gas/arm/attr-march-armv7-a.d: Likewise.
	* gas/arm/attr-march-armv7-m.d: Likewise.
	* gas/arm/attr-march-armv7-r+mp.d: Likewise.
	* gas/arm/attr-march-armv7-r.d: Likewise.
	* gas/arm/attr-march-armv7.d: Likewise.
	* gas/arm/attr-march-armv7a.d: Likewise.
	* gas/arm/attr-march-armv7em.d: Likewise.
	* gas/arm/attr-march-armv7m.d: Likewise.
	* gas/arm/attr-march-armv7r.d: Likewise.
	* gas/arm/attr-march-armv8-a+crypto.d: Likewise.
	* gas/arm/attr-march-armv8-a+fp.d: Likewise.
	* gas/arm/attr-march-armv8-a+simd.d: Likewise.
	* gas/arm/attr-march-armv8-a.d: Likewise.
	* gas/arm/attr-march-iwmmxt.d: Likewise.
	* gas/arm/attr-march-iwmmxt2.d: Likewise.
	* gas/arm/attr-march-xscale.d: Likewise.
	* gas/arm/attr-mcpu.d: Likewise.
	* gas/arm/attr-mfpu-arm1020e.d: Likewise.
	* gas/arm/attr-mfpu-arm1020t.d: Likewise.
	* gas/arm/attr-mfpu-arm1136jf-s.d: Likewise.
	* gas/arm/attr-mfpu-arm1136jfs.d: Likewise.
	* gas/arm/attr-mfpu-arm7500fe.d: Likewise.
	* gas/arm/attr-mfpu-fpa.d: Likewise.
	* gas/arm/attr-mfpu-fpa10.d: Likewise.
	* gas/arm/attr-mfpu-fpa11.d: Likewise.
	* gas/arm/attr-mfpu-fpe.d: Likewise.
	* gas/arm/attr-mfpu-fpe2.d: Likewise.
	* gas/arm/attr-mfpu-fpe3.d: Likewise.
	* gas/arm/attr-mfpu-maverick.d: Likewise.
	* gas/arm/attr-mfpu-neon-fp16.d: Likewise.
	* gas/arm/attr-mfpu-neon.d: Likewise.
	* gas/arm/attr-mfpu-softfpa.d: Likewise.
	* gas/arm/attr-mfpu-softvfp+vfp.d: Likewise.
	* gas/arm/attr-mfpu-softvfp.d: Likewise.
	* gas/arm/attr-mfpu-vfp.d: Likewise.
	* gas/arm/attr-mfpu-vfp10-r0.d: Likewise.
	* gas/arm/attr-mfpu-vfp10.d: Likewise.
	* gas/arm/attr-mfpu-vfp3.d: Likewise.
	* gas/arm/attr-mfpu-vfp9.d: Likewise.
	* gas/arm/attr-mfpu-vfpv2.d: Likewise.
	* gas/arm/attr-mfpu-vfpv3-d16.d: Likewise.
	* gas/arm/attr-mfpu-vfpv3.d: Likewise.
	* gas/arm/attr-mfpu-vfpv4-d16.d: Likewise.
	* gas/arm/attr-mfpu-vfpv4.d: Likewise.
	* gas/arm/attr-mfpu-vfpxd.d: Likewise.
	* gas/arm/attr-names.d: Likewise.
	* gas/arm/attr-order.d: Likewise.
	* gas/arm/attr-override-cpu-directive.d: Likewise.
	* gas/arm/attr-override-mcpu.d: Likewise.
	* gas/arm/got_prel.d: Likewise.
	* gas/arm/mapdir.d: Likewise.
	* gas/arm/mapmisc.d: Likewise.
	* gas/arm/mapsecs.d: Likewise.
	* gas/arm/mapshort-eabi.d: Likewise.
	* gas/arm/mapshort-elf.d: Likewise.
	* gas/arm/mov-highregs-any.d: Likewise.
	* gas/arm/mov-lowregs-any.d: Likewise.
	* gas/arm/pr12198-1.d: Likewise.
	* gas/arm/pr12198-2.d: Likewise.
	* gas/arm/thumb-eabi.d: Likewise.
	* gas/arm/thumb.d: Likewise.
	* gas/arm/thumbrel.d: Likewise.

ld/testsuite/ChangeLog:

2013-03-15  Will Newton  <will.newton@@linaro.org>

	* ld-arm/arm-elf.exp: Expand *-*eabi test to cover *-*eabi*.
	* ld-arm/gc-hidden-1.d: Likewise.
	* ld-elfvsb/elfvsb.exp: Likewise.
	* ld-shared/shared.exp: Likewise.
@
text
@d1 7
@


1.2203
log
@	* gas/arm/arch7.d: Skip for non-ELF ARM targets.
	* gas/arm/arch7a-mp.d: Likewise.
	* gas/arm/arch7em.d: Likewise.
	* gas/arm/crc32-bad.d: Likewise.
	* gas/arm/crc32.d: Likewise.
@
text
@d1 107
@


1.2202
log
@
gas/ChangeLog:

2013-03-12  Will Newton  <will.newton@@linaro.org>

	* config/tc-arm.c (do_neon_ldr_str): Fix error check for PC register
	in vstr in Thumb mode for pre-ARMv7 cores.

gas/testsuite/ChangeLog:

2013-03-12  Will Newton  <will.newton@@linaro.org>

	* gas/arm/vstr-thumb-bad.d: Assemble with -mcpu=arm1156t2f-s.
@
text
@d1 8
@


1.2201
log
@2013-03-12  Sebastian Huber <sebastian.huber@@embedded-brains.de>

	gas/testsuite/
	* gas/nios2/nios2.exp: Use run_dump_tests.
	* gas/nios2/mov.d: Delete file.
	* gas/nios2/mov.s: Likewise.
	* gas/nios2/rol.d: Likewise.
	* gas/nios2/rol.s: Likewise.
	* gas/nios2/add.d: Check instruction values.
	* gas/nios2/align_fill.d: Likewise.
	* gas/nios2/and.d: Likewise.
	* gas/nios2/branch.d: Likewise.
	* gas/nios2/bret.d: Likewise.
	* gas/nios2/cache.d: Likewise.
	* gas/nios2/call.d: Likewise.
	* gas/nios2/call26.d: Likewise.
	* gas/nios2/cmp.d: Likewise.
	* gas/nios2/comments.d: Likewise.
	* gas/nios2/complex.d: Likewise.
	* gas/nios2/ctl.d: Likewise.
	* gas/nios2/custom.d: Likewise.
	* gas/nios2/etbt.d: Likewise.
	* gas/nios2/flushda.d: Likewise.
	* gas/nios2/jmp.d: Likewise.
	* gas/nios2/ldb.d: Likewise.
	* gas/nios2/ldh.d: Likewise.
	* gas/nios2/ldw.d: Likewise.
	* gas/nios2/lineseparator.d: Likewise.
	* gas/nios2/movi.d: Likewise.
	* gas/nios2/movia.d: Likewise.
	* gas/nios2/mul.d: Likewise.
	* gas/nios2/nor.d: Likewise.
	* gas/nios2/or.d: Likewise.
	* gas/nios2/registers.d: Likewise.
	* gas/nios2/ret.d: Likewise.
	* gas/nios2/rotate.d: Likewise.
	* gas/nios2/stb.d: Likewise.
	* gas/nios2/sth.d: Likewise.
	* gas/nios2/stw.d: Likewise.
	* gas/nios2/sub.d: Likewise.
	* gas/nios2/sync.d: Likewise.
	* gas/nios2/trap.d: Likewise.
	* gas/nios2/tret.d: Likewise.
	* gas/nios2/xor.d: Likewise.
@
text
@d1 4
@


1.2200
log
@2013-03-12  Sebastian Huber <sebastian.huber@@embedded-brains.de>

	include/
	* opcode/nios2.h: Edit comment.

	gas/
	* config/tc-nios2.c (nios2_consume_arg): Delete 'k' case.  Add 'o'
	case.  Add default BAD_CASE to switch.

	gas/testsuite/
	* gas/nios2/break.d: Check instruction values.
@
text
@d3 44
@


1.2199
log
@2013-03-11  Sebastian Huber <sebastian.huber@@embedded-brains.de>

	include/
	* opcode/nios2.h (OPX_WRPRS): New define.
	(OP_MATCH_WRPRS): Likewise.

	opcodes/
	* nios2-opc.c (nios2_builtin_opcodes): Add entry for wrprs.

	gas/
	* config/tc-nios2.c (nios2_assemble_args_ds): New function.
	(nios2_arg_info_structs): Add "d,s" and "d,s,E" entries.

	gas/testsuite/
	* gas/nios2/nios2.exp: Run wrprs.
	* gas/nios2/wrprs.d: New file.
	* gas/nios2/wrprs.s: Likewise.
@
text
@d1 4
@


1.2198
log
@2013-03-11  Sebastian Huber <sebastian.huber@@embedded-brains.de>

	include/
	* opcode/nios2.h (OP_RDPRS): New define.
	(OP_MATCH_RDPRS): Likewise.

	opcodes/
	* nios2-opc.c (nios2_builtin_opcodes): Add entry for rdprs.

	gas/testsuite/
	* gas/nios2/nios2.exp: Run rdprs.
	* gas/nios2/rdprs.d: New file.
	* gas/nios2/rdprs.s: Likewise.
@
text
@d3 6
@


1.2197
log
@2013-03-11  Sebastian Huber <sebastian.huber@@embedded-brains.de>

	opcodes/
	* nios2-opc.c (nios2_builtin_regs): Add sstatus alias for ba register.

	gas/testsuite/
	* gas/nios2/nios2.exp: Run registers.
	* gas/nios2/registers.d: New file.
	* gas/nios2/registers.s: Likewise.
@
text
@d3 6
@


1.2196
log
@Add support for AArch32 CRC instruction in ARMv8.

gas/ChangeLog
2013-03-11  Kyrylo Tkachov  <kyrylo.tkachov@@arm.com>

	* config/tc-arm.c (crc_ext_armv8): New feature set.
	(UNPRED_REG): New macro.
	(do_crc32_1): New function.
	(do_crc32b, do_crc32h, do_crc32w, do_crc32cb,
	do_crc32ch, do_crc32cw): Likewise.
	(TUEc): New macro.
	(insns): Add entries for crc32 mnemonics.
	(arm_extensions): Add entry for crc.

include/opcode/ChangeLog
2013-03-11  Kyrylo Tkachov  <kyrylo.tkachov@@arm.com>

	* arm.h (CRC_EXT_ARMV8): New constant.
	(ARCH_CRC_ARMV8): New macro.

opcodes/ChangeLog
2013-03-11  Kyrylo Tkachov  <kyrylo.tkachov@@arm.com>

	* arm-dis.c (arm_opcodes): Add entries for CRC instructions.
	(thumb32_opcodes): Likewise.
	(print_insn_thumb32): Handle 'S' control char.

gas/testsuite/ChangeLog
2013-03-11  Kyrylo Tkachov  <kyrylo.tkachov@@arm.com>

	* gas/arm/crc32-bad.d: New file.
	* gas/arm/crc32-bad.l: Likewise.
	* gas/arm/crc32-bad.s: Likewise.
	* gas/arm/crc32.d: Likewise.
	* gas/arm/crc32.s: Likewise.
@
text
@d1 6
@


1.2195
log
@Add to the AArch64 GAS the missing support for hexadecimal-format
floating-point literal in the FMOV instruction.

gas/

	* config/tc-aarch64.c (aarch64_imm_float_p): Rename 'e' to 'pattern';
	add comment.
	(aarch64_double_precision_fmovable): New function.
	(parse_aarch64_imm_float): Add parameter 'dp_p'; call the new
	function; handle hexadecimal representation of IEEE754 encoding.
	(parse_operands): Update the call to parse_aarch64_imm_float.

gas/testsuite/

	* gas/aarch64/diagnostic.s: Add test.
	* gas/aarch64/diagnostic.l: Update.
	* gas/aarch64/illegal.s: Add test.
	* gas/aarch64/illegal.l: Update.
	* gas/aarch64/fpmov.s: New file.
	* gas/aarch64/fpmov.d: New file.
@
text
@d1 8
@


1.2194
log
@Add tests for invalid addresses and riz/eiz

	* gas/i386/inval.s: Add tests for invalid addresses and eiz.

	* gas/i386/x86-64-inval.s: Add tests for invalid addresses and
	riz/eiz.

	* gas/i386/inval.l: Updated.
	* gas/i386/x86-64-inval.l: Likewise.
@
text
@d1 9
@


1.2193
log
@Optimize REP prefix check

gas/

	* config/tc-i386.c (_i386_insn): Add rep_prefix.
	(md_assemble): Check if REP prefix is OK.
	(parse_insn): Remove expecting_string_instruction.  Set
	i.rep_prefix.

gas/testsuite/

	* gas/i386/i386.exp: Run inval-rep and x86-64-inval-rep.

	* gas/i386/inval-rep.l: New file.
	* gas/i386/inval-rep.s: Likewise.
	* gas/i386/x86-64-inval-rep.l: Likewise.
	* gas/i386/x86-64-inval-rep.s: Likewise.
@
text
@d1 10
@


1.2192
log
@include/opcode/

	* aarch64.h (AARCH64_FEATURE_CRC): New macro.

opcodes/

	* aarch64-tbl.h (QL_I3SAMEW, QL_I3WWX): New macros.
	(aarch64_feature_crc): New static.
	(CRC): New macro.
	(aarch64_opcode_table): Add entries for the crc32b, crc32h, crc32w,
	crc32x, crc32cb, crc32ch, crc32cw and crc32cx instructions.
	* aarch64-asm-2.c: Re-generate.
	* aarch64-dis-2.c: Ditto.
	* aarch64-opc-2.c: Ditto.

gas/

	* config/tc-aarch64.c (aarch64_features): Add the 'crc' option.

gas/testsuite/

	* gas/aarch64/crc32.s: New test.
	* gas/aarch64/crc32.d: Ditto.
@
text
@d1 9
@


1.2191
log
@gas/

	* config/tc-aarch64.c (parse_sys_reg): Allow the full range of CRn
	for system registers.

gas/testsuite/

	* gas/aarch64/illegal.l: Delete the error message for
	msr S3_1_C13_C15_1,x7.
	* gas/aarch64/sysreg.s: Add new tests.
	* gas/aarch64/sysreg.d: Update.
@
text
@d3 5
@


1.2190
log
@Implement Intel SMAP instructions

gas/

	PR gas/15159
	* config/tc-i386.c (cpu_arch): Add ".smap".

	* doc/c-i386.texi: Document smap.

gas/testsuite/

	PR gas/15159
	* gas/i386/i386.exp: Run smap and x86-64-smap.

	* gas/i386/smap.d: New file.
	* gas/i386/smap.s: likewise.
	* gas/i386/x86-64-smap.d: likewise.

opcodes/

	PR gas/15159
	* i386-dis.c (rm_table): Add clac and stac to RM_0F01_REG_1.

	* i386-gen.c (cpu_flag_init): Add CPU_SMAP_FLAGS.
	(cpu_flags): Add CpuSMAP.

	* i386-opc.h (CpuSMAP): New.
	(i386_cpu_flags): Add cpusmap.

	* i386-opc.tbl: Add clac and stac.

	* i386-init.h: Regenerated.
	* i386-tbl.h: Likewise.
@
text
@d1 7
@


1.2189
log
@	* metag-dis.c: Initialize outf->bytes_per_chunk to 4
	which also makes the disassembler output be in little
	endian like it should be.

	* metag/labelarithmetic.d: Fix the expected disassembler
	output to be in little endian format
	* metag/metacore12.d: likewise
	* metag/metacore21.d: likewise
	* metag/metacore21ext.d: likewise
	* metag/metadsp21.d: likewise
	* metag/metadsp21ext.d: likewise
	* metag/metafpu.d: likewise
	* metag/metafpuext.d: likewise
	* metag/tls.d: likewise

	* ld-metag/pcrel.d: Fix the expected disassembler
	output to be in little endian format
	* ld-metag/shared.d: likewise
	* ld-metag/stub.d: likewise
	* ld-metag/stub_pic_app.d: likewise
	* ld-metag/stub_pic_shared.d: likewise
	* ld-metag/stub_shared.d: likewise
@
text
@d1 9
d25 3
a27 3
        * gas/arm/neon-vmov-bad.d: New file.
        * gas/arm/neon-vmov-bad.s: Likewise.
        * gas/arm/neon-vmov-bad.l: Likewise.
d59 1
a59 1
            Andrew Jenner <andrew@@codesourcery.com>
@


1.2188
log
@        * gas/arm/neon-vmov-bad.d: New file.
        * gas/arm/neon-vmov-bad.s: Likewise.
        * gas/arm/neon-vmov-bad.l: Likewise.

        * config/tc-arm.c (do_neon_mov): Break on NS_NULL.
@
text
@d1 13
@


1.2187
log
@opcodes/

	* aarch64-opc.c (aarch64_prfops): Change unnamed operation 'name'
	fields to NULL.
	(aarch64_print_operand): Adjust the printing for AARCH64_OPND_PRFOP.

gas/

	* config/tc-aarch64.c (md_begin): Change to check if 'name' is
	NULL.

gas/testsuite/

	* gas/aarch64/system.s: Add tests.
	* gas/aarch64/system.d: Update.
@
text
@d1 6
@


1.2186
log
@2013-02-11  Kyrylo Tkachov  <kyrylo.tkachov@@arm.com>

	* arm-dis.c: Update strht pattern.

	* gas/arm/archv6t2.s: Add strht and ldrht tests.
	* gas/arm/archv6t2.d: Add disassembly patterns for the above.
@
text
@d1 5
@


1.2185
log
@gas/
2013-02-09  Jrgen Urban  <JuergenUrban@@gmx.de>

	* config/tc-mips.c (CPU_HAS_LDC1_SDC1): New macro.
	(macro): Use it.  Assert that trunc.w.s is not used for r5900.

opcodes/
2013-02-09  Jrgen Urban  <JuergenUrban@@gmx.de>

	* mips-opc.c (mips_builtin_opcodes): Enable l.d and s.d macros for
	single-float.  Disable ll, lld, sc and scd for EE.  Disable the
	trunc.w.s macro for EE.

gas/testsuite/
2013-02-09  Jrgen Urban  <JuergenUrban@@gmx.de>

	* gas/mips/24k-triple-stores-2.d, gas/mips/24k-triple-stores-2.s,
	gas/mips/micromips@@24k-triple-stores-2.d: Move "sc" tests to...
	* gas/mips/24k-triple-stores-2-llsc.d,
	gas/mips/24k-triple-stores-2-llsc.s,
	gas/mips/micromips@@24k-triple-stores-2-llsc.d: ...these new tests.
	* gas/mips/r5900-full.d, gas/mips/r5900-full.s: Verify that the
	MIPS ISA level can be upgraded to support ll, sc, lld and scd.
	* gas/mips/l_d-single.d, gas/mips/s_d-single.d,
	gas/mips/r5900-nollsc.l, gas/mips/r5900-nollsc.s: New tests.
	* gas/mips/mips.exp: Update accordingly.  Add "nollsc" to r5900
	properties.
@
text
@d1 5
@


1.2184
log
@	* gas/nios2/nios2.exp: Add copyright.
	(run_list_test): Delete.  Adjust callers to use standard version.
@
text
@d1 14
@


1.2183
log
@2013-02-06  Sandra Loosemore  <sandra@@codesourcery.com>
            Andrew Jenner <andrew@@codesourcery.com>

	Based on patches from Altera Corporation.

	bfd/
	* Makefile.am (ALL_MACHINES): Add cpu-nios2.lo.
	(ALL_MACHINES_CFILES): Add cpu-nios2.c.
	(BFD_BACKENDS): Add elf32-nios2.lo.
	(BFD32_BACKENDS_CFILES): Add elf32-nios2.c.
	* Makefile.in: Regenerated.
	* configure.in: Add entries for bfd_elf32_bignios2_vec and
	bfd_elf32_littlenios2_vec.
	* configure: Regenerated.
	* config.bfd: Add cases for nios2.
	* archures.c (enum bfd_architecture): Add bfd_arch_nios2.
	(bfd_mach_nios2): Define.
	(bfd_nios2_arch): Declare.
	(bfd_archures_list): Add bfd_nios2_arch.
	* targets.c (bfd_elf32_bignios2_vec): Declare.
	(bfd_elf32_littlenios2_vec): Declare.
	(_bfd_target_vector): Add entries for bfd_elf32_bignios2_vec and
	bfd_elf32_littlenios2_vec.
	* elf-bfd.h (enum elf_target_id): Add NIOS2_ELF_DATA.
	* reloc.c (enum bfd_reloc_code_real): Add Nios II relocations.
	* bfd-in2.h: Regenerated.
	* libbfd.h: Regenerated.
	* cpu-nios2.c: New file.
	* elf32-nios2.c: New file.

	opcodes/
	* Makefile.am (TARGET_LIBOPCODES_CFILES): Add nios2-dis.c and
	nios2-opc.c.
	* Makefile.in: Regenerated.
	* configure.in: Add case for bfd_nios2_arch.
	* configure: Regenerated.
	* disassemble.c (ARCH_nios2): Define.
	(disassembler): Add case for bfd_arch_nios2.
	* nios2-dis.c: New file.
	* nios2-opc.c: New file.

	include/
	* dis-asm.h (print_insn_big_nios2): Declare.
	(print_insn_little_nios2): Declare.

	include/elf
	* nios2.h: New file.

	include/opcode/
	* nios2.h: New file.

	gas/
	* Makefile.am (TARGET_CPU_CFILES): Add config/tc-nios2.c.
	(TARGET_CPU_HFILES): Add config/tc-nios2.h.
	* Makefile.in: Regenerated.
	* configure.tgt: Add case for nios2*-linux*.
	* config/obj-elf.c: Conditionally include elf/nios2.h.
	* config/tc-nios2.c: New file.
	* config/tc-nios2.h: New file.
	* doc/Makefile.am (CPU_DOCS): Add c-nios2.texi.
	* doc/Makefile.in: Regenerated.
	* doc/all.texi: Set NIOSII.
	* doc/as.texinfo (Overview): Add Nios II options.
	(Machine Dependencies): Include c-nios2.texi.
	* doc/c-nios2.texi: New file.
	* NEWS: Note Altera Nios II support.

	gas/testsuite/
	* gas/nios2/add.d: New.
	* gas/nios2/add.s: New.
	* gas/nios2/align_fill.d: New.
	* gas/nios2/align_fill.s: New.
	* gas/nios2/align_text.d: New.
	* gas/nios2/align_text.s: New.
	* gas/nios2/and.d: New.
	* gas/nios2/and.s: New.
	* gas/nios2/branch.d: New.
	* gas/nios2/branch.s: New.
	* gas/nios2/break.d: New.
	* gas/nios2/break.s: New.
	* gas/nios2/bret.d: New.
	* gas/nios2/bret.s: New.
	* gas/nios2/cache.d: New.
	* gas/nios2/cache.s: New.
	* gas/nios2/call26.d: New.
	* gas/nios2/call26.s: New.
	* gas/nios2/call.d: New.
	* gas/nios2/call.s: New.
	* gas/nios2/cmp.d: New.
	* gas/nios2/cmp.s: New.
	* gas/nios2/comments.d: New.
	* gas/nios2/comments.s: New.
	* gas/nios2/complex.d: New.
	* gas/nios2/complex.s: New.
	* gas/nios2/ctl.d: New.
	* gas/nios2/ctl.s: New.
	* gas/nios2/custom.d: New.
	* gas/nios2/custom.s: New.
	* gas/nios2/etbt.d: New.
	* gas/nios2/etbt.s: New.
	* gas/nios2/flushda.d: New.
	* gas/nios2/flushda.s: New.
	* gas/nios2/illegal.l: New.
	* gas/nios2/illegal.s: New.
	* gas/nios2/jmp.d: New.
	* gas/nios2/jmp.s: New.
	* gas/nios2/ldb.d: New.
	* gas/nios2/ldb.s: New.
	* gas/nios2/ldh.d: New.
	* gas/nios2/ldh.s: New.
	* gas/nios2/ldw.d: New.
	* gas/nios2/ldw.s: New.
	* gas/nios2/lineseparator.d: New.
	* gas/nios2/lineseparator.s: New.
	* gas/nios2/mov.d: New.
	* gas/nios2/movia.d: New.
	* gas/nios2/movia.s: New.
	* gas/nios2/movi.d: New.
	* gas/nios2/movi.s: New.
	* gas/nios2/mov.s: New.
	* gas/nios2/mul.d: New.
	* gas/nios2/mul.s: New.
	* gas/nios2/nios2.exp: New.
	* gas/nios2/nor.d: New.
	* gas/nios2/nor.s: New.
	* gas/nios2/or.d: New.
	* gas/nios2/or.s: New.
	* gas/nios2/ret.d: New.
	* gas/nios2/ret.s: New.
	* gas/nios2/rol.d: New.
	* gas/nios2/rol.s: New.
	* gas/nios2/rotate.d: New.
	* gas/nios2/rotate.s: New.
	* gas/nios2/stb.d: New.
	* gas/nios2/stb.s: New.
	* gas/nios2/sth.d: New.
	* gas/nios2/sth.s: New.
	* gas/nios2/stw.d: New.
	* gas/nios2/stw.s: New.
	* gas/nios2/sub.d: New.
	* gas/nios2/sub.s: New.
	* gas/nios2/sync.d: New.
	* gas/nios2/sync.s: New.
	* gas/nios2/trap.d: New.
	* gas/nios2/trap.s: New.
	* gas/nios2/tret.d: New.
	* gas/nios2/tret.s: New.
	* gas/nios2/warn_noat.l: New.
	* gas/nios2/warn_noat.s: New.
	* gas/nios2/warn_nobreak.l: New.
	* gas/nios2/warn_nobreak.s: New.
	* gas/nios2/xor.d: New.
	* gas/nios2/xor.s: New.

	ld/
	* Makefile.am (enios2elf.c): New rule.
	* Makefile.in: Regenerated.
	* configure.tgt: Add case for nios2*-*-*.
	* emulparams/nios2elf.sh: New file.
	* NEWS: Note Altera Nios II support.

	ld/testsuite/
	* ld-nios2/emit-relocs-1a.s: New.
	* ld-nios2/emit-relocs-1b.s: New.
	* ld-nios2/emit-relocs-1.d: New.
	* ld-nios2/emit-relocs-1.ld: New.
	* ld-nios2/gprel.d: New.
	* ld-nios2/gprel.s: New.
	* ld-nios2/hilo16.d: New.
	* ld-nios2/hilo16.s: New.
	* ld-nios2/hilo16_symbol.s: New.
	* ld-nios2/imm5.d: New.
	* ld-nios2/imm5.s: New.
	* ld-nios2/imm5_symbol.s: New.
	* ld-nios2/nios2.exp: New.
	* ld-nios2/pcrel16.d: New.
	* ld-nios2/pcrel16_label.s: New.
	* ld-nios2/pcrel16.s: New.
	* ld-nios2/relax_callr.d: New.
	* ld-nios2/relax_callr.ld: New.
	* ld-nios2/relax_callr.s: New.
	* ld-nios2/relax_cjmp.d: New.
	* ld-nios2/relax_cjmp.s: New.
	* ld-nios2/relax_jmp.ld: New.
	* ld-nios2/relax_section.d: New.
	* ld-nios2/relax_section.s: New.
	* ld-nios2/relax_ujmp.d: New.
	* ld-nios2/relax_ujmp.s: New.
	* ld-nios2/reloc.d: New.
	* ld-nios2/reloc.s: New.
	* ld-nios2/reloc_symbol.s: New.
	* ld-nios2/s16.d: New.
	* ld-nios2/s16.s: New.
	* ld-nios2/s16_symbol.s: New.
	* ld-nios2/u16.d: New.
	* ld-nios2/u16.s: New.
	* ld-nios2/u16_symbol.s: New.
	* ld-elf/indirect.exp: Skip on targets that don't support
	-shared -fPIC.
	* ld-elfcomm/elfcomm.exp: Build with -G0 for nios2.
	* ld-plugin/lto.exp: Skip shared library tests on targets that
	don't support them.  Skip execution tests on non-native targets.

	binutils/
	* readelf.c: Include elf/nios2.h.
	(dump_relocations): Add case for EM_ALTERA_NIOS2.
	(get_nios2_dynamic_type): New.
	(get_dynamic_type): Add case for EM_ALTERA_NIOS2.
	(is_32bit_abs_reloc): Fix EM_ALTERA_NIOS2 case.
	(is_16bit_abs_reloc): Likewise.
	(is_none_reloc): Add EM_ALTERA_NIOS2 and EM_NIOS32 cases.
	* NEWS: Note Altera Nios II support.
	* MAINTAINERS: Add Nios II maintainers.
@
text
@d1 5
@


1.2182
log
@2013-01-31  Tristan Gingold  <gingold@@adacore.com>

	* gas/ppc/test1xcoff32.d: Updated.
	* gas/all/fwdexp.d: Adjusted for AIX.
@
text
@d1 91
@


1.2181
log
@include/opcode/

2013-01-30  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* aarch64.h (aarch64_op): Add OP_SXTL, OP_SXTL2, OP_UXTL and OP_UXTL2.

opcodes/

2013-01-30  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* aarch64-tbl.h (aarch64_opcode_table): Flag sshll, sshll2, ushll and
	ushll2 with F_HAS_ALIAS.  Add entries for sxtl, sxtl2, uxtl and uxtl2.
	* aarch64-asm.c (convert_xtl_to_shll): New function.
	(convert_to_real): Handle OP_SXTL, OP_SXTL2, OP_UXTL and OP_UXTL2 by
	calling convert_xtl_to_shll.
	* aarch64-dis.c (convert_shll_to_xtl): New function.
	(convert_to_alias): Handle OP_SXTL, OP_SXTL2, OP_UXTL and OP_UXTL2 by
	calling convert_shll_to_xtl.
	* aarch64-gen.c: Update copyright year.
	* aarch64-asm-2.c: Re-generate.
	* aarch64-dis-2.c: Re-generate.
	* aarch64-opc-2.c: Re-generate.

gas/testsuite/

2013-01-30  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* gas/aarch64/alias.s: Add new tests.
	* gas/aarch64/alias.d: Update.
	* gas/aarch64/no-aliases.d: Update.
@
text
@d1 5
@


1.2180
log
@  * config/tc-metag.c: Make SWAP instruction less permissive with its operands.

  * gas/metag/metacore21-invalid.s: Add invalid SWAP testcases
  * gas/metag/metacore21-invalid.l: Add expected output for invalid SWAP testcases
@
text
@d1 6
@


1.2179
log
@	PR gas/15069
	* tic6x-opcode-table.h: Fix encoding of BNOP instruction.

	* gas/tic6x/insns-c674x-pcrel.s: Add test of BNOP instruction
	within header based fetch packet.
	* gas/tic6x/insns-c674x-pcrel.d: Update expected disassembly.
@
text
@d1 6
@


1.2178
log
@Add support for V850E3V5 architecture
@
text
@d1 7
@


1.2177
log
@include/opcode/

2013-01-17  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* aarch64.h (aarch64_op): Remove OP_V_MOVI_B.

opcodes/

2013-01-17  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* aarch64-asm.c (aarch64_ins_advsimd_imm_modified): Handle 8-bit MOVI.
	* aarch64-dis.c (aarch64_ext_advsimd_imm_modified): Likewise.
	* aarch64-opc.c (operand_general_constraint_met_p): For
	AARCH64_MOD_LSL, move the range check on the shift amount before the
	alignment check; change to call set_sft_amount_out_of_range_error
	instead of set_imm_out_of_range_error.
	* aarch64-tbl.h (QL_SIMD_IMM_B): Replace NIL with LSL.
	(aarch64_opcode_table): Remove the OP enumerator from the asimdimm
	8-bit MOVI entry; change the 2nd operand from SIMD_IMM to
	SIMD_IMM_SFT.

gas/

2013-01-17  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* config/tc-aarch64.c (output_operand_error_record): Change to output
	the out-of-range error message as value-expected message if there is
	only one single value in the expected range.
	(programmer_friendly_fixup): Remove the handling of 8-bit MOVI with
	LSL #0 as a programmer-friendly feature.

gas/testsuite/

2013-01-17  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* gas/aarch64/diagnostic.l: Update.
	* gas/aarch64/movi.s: Add tests.
	* gas/aarch64/movi.d: Update.
	* gas/aarch64/programmer-friendly.s: Add comment.
@
text
@d1 4
@


1.2176
log
@Add x86 size relocation support to gas

gas/

	* config/tc-i386.c (reloc): Support BFD_RELOC_SIZE32.
	(tc_i386_fix_adjustable): Keep symbol for BFD_RELOC_32_SIZE and
	BFD_RELOC_64_SIZE relocations.
	(lex_got): Support "symbol@@SIZE" and don't create GOT symbol
	for it.
	(tc_gen_reloc): Resolve BFD_RELOC_SIZE32 and BFD_RELOC_SIZE64
	relocations against local symbols.

gas/testsuite/

	* gas/i386/i386.exp: Run size-1, size-2, size-3, size-4,
	x86-64-size-1, x86-64-size-2, x86-64-size-3, x86-64-size-4,
	x86-64-size-5 and x86-64-size-inval-1.

	* gas/i386/size-1.d: New file.
	* gas/i386/size-1.s: Likewise.
	* gas/i386/size-2.d: Likewise.
	* gas/i386/size-2.s: Likewise.
	* gas/i386/size-3.d: Likewise.
	* gas/i386/size-3.s: Likewise.
	* gas/i386/size-4.d: Likewise.
	* gas/i386/size-4.s: Likewise.
	* gas/i386/x86-64-size-1.d: Likewise.
	* gas/i386/x86-64-size-2.d: Likewise.
	* gas/i386/x86-64-size-3.d: Likewise.
	* gas/i386/x86-64-size-4.d: Likewise.
	* gas/i386/x86-64-size-5.d: Likewise.
	* gas/i386/x86-64-size-5.s: Likewise.
	* gas/i386/x86-64-size-inval-1.l: Likewise.
	* gas/i386/x86-64-size-inval-1.s: Likewise.
	* gas/i386/ilp32/x86-64-size-1.d: Likewise.
	* gas/i386/ilp32/x86-64-size-2.d: Likewise.
	* gas/i386/ilp32/x86-64-size-3.d: Likewise.
	* gas/i386/ilp32/x86-64-size-4.d: Likewise.
	* gas/i386/ilp32/x86-64-size-5.d: Likewise.

ld/testsuite/

	* ld-size/size.exp: New file.
	* ld-size/size32-1-i386.d: Likewise.
	* ld-size/size32-1-x32.d: Likewise.
	* ld-size/size32-1-x86-64.d: Likewise.
	* ld-size/size32-1.s: Likewise.
	* ld-size/size32-2-i386.d: Likewise.
	* ld-size/size32-2-x32.d: Likewise.
	* ld-size/size32-2-x86-64.d: Likewise.
	* ld-size/size32-2.s: Likewise.
	* ld-size/size64-1-x32.d: Likewise.
	* ld-size/size64-1-x86-64.d: Likewise.
	* ld-size/size64-1.s: Likewise.
	* ld-size/size64-2-x32.d: Likewise.
	* ld-size/size64-2-x86-64.d: Likewise.
	* ld-size/size64-2.s: Likewise.
	* ld-size/size-3.c: Likewise.
	* ld-size/size-3.out: Likewise.
	* ld-size/size-3a.c: Likewise.
	* ld-size/size-3b.c: Likewise.
	* ld-size/size-3c.c: Likewise.
	* ld-size/size-4.out: Likewise.
	* ld-size/size-4a.c: Likewise.
	* ld-size/size-4b.c: Likewise.
	* ld-size/size-5.out: Likewise.
	* ld-size/size-5a.c: Likewise.
	* ld-size/size-5b.c: Likewise.
	* ld-size/size-6.out: Likewise.
	* ld-size/size-6a.c: Likewise.
	* ld-size/size-6b.c: Likewise.
	* ld-size/size-7.rd: Likewise.
	* ld-size/size-7a.c: Likewise.
	* ld-size/size-7b.c: Likewise.
	* ld-size/size-8.rd: Likewise.
	* ld-size/size-8a.c: Likewise.
	* ld-size/size-8b.c: Likewise.
@
text
@d1 7
@


1.2175
log
@	* gas/ppc/htm.d: Ignore padding at end of section.
@
text
@d1 28
@


1.2174
log
@Increment length by 1 if the relocation token is removed

gas/

	PR gas/15019
	* config/tc-i386.c (lex_got): Increment length by 1 if the
	relocation token is removed.

gas/testsuite/

	PR gas/15019
	* gas/i386/reloc32.s: Add tests for "xtrn@@got -/+ 4".
	* gas/i386/reloc64.s: Likewise.
	* gas/i386/ilp32/reloc64.s: Likewise.

	* gas/i386/reloc32.d: Updated.
	* gas/i386/reloc64.d: Likewise.
	* gas/i386/ilp32/reloc64.d: Likewise.
@
text
@d1 4
@


1.2173
log
@	* config/tc-v850.c (md_assemble): Allow signed values for
	V850E_IMMEDIATE.

	* gas/v850/basic.exp: Allow for variations in reloc names.
	* gas/v850/split-lo16.d: Likewise.

	* gas/v850/v850e1.s: Add more tests of the PREPARE insn.
	* gas/v850/v850e1.d: Update expected disassembly.

	* v850-dis.c (get_operand_value): Sign extend V850E_IMMEDIATE
	values.
	* v850-opc.c (IMM16LO): Add V850_OPERAND_SIGNED attribute.
@
text
@d1 11
@


1.2172
log
@	* gas/v850/basic.exp (reloc part 1): Pass -mgcc-abi to gas.
	* gas/v850/split-lo16.d: Likewise.
@
text
@d1 8
@


1.2171
log
@	* metag-dis.c (REG_WIDTH): Increase to 64.

	* gas/metag/metadsp21.d: Fix expected MMOV disassembly.
@
text
@d1 5
@


1.2170
log
@	* gas/ppc/htm.s: Use .text rather than .section ".text".
	* gas/ppc/power8.s: Likewise.
	* gas/ppc/htm.d: Don't match file format.
	* gas/ppc/power8.d: Likewise.
@
text
@d1 4
@


1.2169
log
@include/opcode/
	* ppc.h (PPC_OPCODE_POWER8): New define.
	(PPC_OPCODE_HTM): Likewise.

opcodes/
	* ppc-dis.c (ppc_opts): Add "power8", "pwr8" and "htm" entries.
	* ppc-opc.c (HTM_R, HTM_SI, XRTRB_MASK, XRTRARB_MASK, XRTLRARB_MASK,
	XRTARARB_MASK, XRTBFRARB_MASK, XRCL, POWER8, PPCHTM): New defines.
	(SH6): Update.
	<"tabort.", "tabortdc.", "tabortdci.", "tabortwc.",
	"tabortwci.", "tbegin.", "tcheck", "tend.", "trechkpt.",
	"treclaim.", "tsr.">: Add POWER8 HTM opcodes.
	<"tendall.", "tresume.", "tsuspend.">: Add POWER8 HTM extended opcodes.

gas/
	* doc/as.texinfo (Target PowerPC): Document -mpower8 and -mhtm.
	* doc/c-ppc.texi (PowerPC-Opts):  Likewise.
	* config/tc-ppc.c (md_show_usage): Likewise.
	(ppc_handle_align): Handle power8's group ending nop.

gas/testsuite/
	* gas/ppc/htm.d: New test.
	* gas/ppc/htm.s: Likewise.
	* gas/ppc/power8.d: Likewise.
	* gas/ppc/power8.s: Likewise.
	* gas/ppc/ppc.exp: Run them.
@
text
@d1 7
@


1.2168
log
@	* common.h: Fix case of "Meta".
	* metag.h: New file.

	* dis-asm.h (print_insn_metag): New declaration.

	* metag.h: New file.

	* Makefile.am: Add Meta.
	* Makefile.in: Regenerate.
	* configure: Regenerate.
	* configure.in: Add Meta.
	* disassemble.c: Add Meta support.
	* metag-dis.c: New file.

	* Makefile.am: Add Meta.
	* Makefile.in: Regenerate.
	* archures.c (bfd_mach_metag): New.
	* bfd-in2.h: Regenerate.
	* config.bfd: Add Meta.
	* configure: Regenerate.
	* configure.in: Add Meta.
	* cpu-metag.c: New file.
	* elf-bfd.h: Add Meta.
	* elf32-metag.c: New file.
	* elf32-metag.h: New file.
	* libbfd.h: Regenerate.
	* reloc.c: Add Meta relocations.
	* targets.c: Add Meta.

	* Makefile.am: Add Meta.
	* Makefile.in: Regenerate.
	* config/tc-metag.c: New file.
	* config/tc-metag.h: New file.
	* configure.tgt: Add Meta.
	* doc/Makefile.am: Add Meta.
	* doc/Makefile.in: Regenerate.
	* doc/all.texi: Add Meta.
	* doc/as.texiinfo: Document Meta options.
	* doc/c-metag.texi: New file.

	* gas/metag/labelarithmetic.d: New file.
	* gas/metag/labelarithmetic.s: New file.
	* gas/metag/metacore12.d: New file.
	* gas/metag/metacore12.s: New file.
	* gas/metag/metacore21-invalid.l: New file.
	* gas/metag/metacore21-invalid.s: New file.
	* gas/metag/metacore21.d: New file.
	* gas/metag/metacore21.s: New file.
	* gas/metag/metacore21ext.d: New file.
	* gas/metag/metacore21ext.s: New file.
	* gas/metag/metadsp21-invalid.l: New file.
	* gas/metag/metadsp21-invalid.s: New file.
	* gas/metag/metadsp21.d: New file.
	* gas/metag/metadsp21.s: New file.
	* gas/metag/metadsp21ext.d: New file.
	* gas/metag/metadsp21ext.s: New file.
	* gas/metag/metafpu21.d: New file.
	* gas/metag/metafpu21.s: New file.
	* gas/metag/metafpu21ext.d: New file.
	* gas/metag/metafpu21ext.s: New file.
	* gas/metag/metag.exp: New file.
	* gas/metag/tls.d: New file.
	* gas/metag/tls.s: New file.

	* Makefile.am: Add Meta.
	* Makefile.in: Regenerate.
	* configure.tgt: Add Meta.
	* emulparams/elf32metag.sh: New file.
	* emultempl/metagelf.em: New file.

	* ld-elf/merge.d: Mark Meta as xfail.
	* ld-gc/start.d: Skip this test on Meta.
	* ld-gc/personality.d: Skip this test on Meta.
	* ld-metag/external.s: New file.
	* ld-metag/metag.exp: New file.
	* ld-metag/pcrel.d: New file.
	* ld-metag/pcrel.s: New file.
	* ld-metag/shared.d: New file.
	* ld-metag/shared.r: New file.
	* ld-metag/shared.s: New file.
	* ld-metag/stub.d: New file.
	* ld-metag/stub.s: New file.
	* ld-metag/stub_pic_app.d: New file.
	* ld-metag/stub_pic_app.r: New file.
	* ld-metag/stub_pic_app.s: New file.
	* ld-metag/stub_pic_shared.d: New file.
	* ld-metag/stub_pic_shared.s: New file.
	* ld-metag/stub_shared.d: New file.
	* ld-metag/stub_shared.r: New file.
	* ld-metag/stub_shared.s: New file.

	* binutils/readelf.c: (guess_is_rela): Add EM_METAG.
	(dump_relocations): Add EM_METAG.
	(get_machine_name): Correct case for Meta.
	(is_32bit_abs_reloc): Add support for Meta ADDR32 reloc.
	(is_none_reloc): Add support for Meta NONE reloc.
@
text
@d1 8
@


1.2167
log
@gas/

2013-01-08  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* config/tc-aarch64.c (parse_operands): Change to compare the result
	of function call 'parse_sys_reg' with 'PARSE_FAIL' instead of 'FALSE'.

gas/testsuite/

2013-01-08  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* gas/aarch64/diagnostic.s: Add test.
	* gas/aarch64/diagnostic.l: Update.
@
text
@d1 26
@


1.2166
log
@	PR gas/14887
	* config/tc-arm.c (skip_past_char): Skip whitespace before the
	anticipated character.
	* config/tc-arm.c (parse_address_main): Delete skip of whitespace
	here as it is no longer needed.

	PR gas/14887
	* gas/arm/neon-ldst-es.s: Add more whitespace.
@
text
@d1 5
@


1.2165
log
@	* archures.c: Add support for MIPS r5900
	* bfd-in2.h: Add support for MIPS r5900
	* config.bfd: Add support for Sony Playstation 2
	* cpu-mips.c: Add support for MIPS r5900
	* elfxx-mips.c: Add support for MIPS r5900 (extension of r4000)

	* config/tc-mips.c: Add support for MIPS r5900
	Add M_LQ_AB and M_SQ_AB to support large values for instructions lq and sq.
	* config/tc-mips.c (can_swap_branch_p, get_append_method): Detect some conditional short loops to fix a bug on the r5900 by NOP in the branch delay slot.
	* config/tc-mips.c (M_MUL): Support 3 operands in multu on r5900.
	* config/tc-mips.c (M_TRUNCWS): Support trunc.w.s on r5900 in MIPS ISA I.
	* config/tc-mips.c (s_mipsset): Force 32 bit floating point on r5900.
	* configure.in: Detect CPU type when target string contains r5900 (e.g. mips64r5900el-linux-gnu).

	* config/tc-mips.c (mips_ip): Check parameter range of instructions mfps and mtps on r5900.

	* elf/mips.h: Add MIPS machine variant number for r5900 which is compatible with old Playstation 2 software.
	* opcode/mips.h: Add support for r5900 instructions including lq and sq.

	* configure.tgt: Support ELF files for Sony Playstation 2 (for ps2dev and ps2sdk).
	* emulparams/elf32lr5900n32.sh: Create linker script for Sony Playstation 2 ELF files using MIPS ABI n32.
	* emulparams/elf32lr5900.sh: Create linker script for Sony Playstation 2 ELF files using MIPS ABI o32.
	* Makefile.am: Add linker scripts for Sony Playstation 2 ELF files.

	* opcodes/mips-dis.c: Add names for CP0 registers of r5900.
	* opcodes/mips-opc.c: Add M_SQ_AB and M_LQ_AB to support larger range for instructions sq and lq.

	* opcodes/mips-opc.c: Add support for MIPS r5900 CPU.
	Add support for 128 bit MMI (Multimedia Instructions).
	Add support for EE instructions (Emotion Engine).
	Disable unsupported floating point instructions (64 bit and undefined compare operations).
	Enable instructions of MIPS ISA IV which are supported by r5900.
	Disable 64 bit co processor instructions.
	Disable 64 bit multiplication and division instructions.
	Disable instructions for co-processor 2 and 3, because these are not supported (preparation for later VU0 support (Vector Unit)).
	Disable cvt.w.s because this behaves like trunc.w.s and the correct execution can't be ensured on r5900.
	Add trunc.w.s using the opcode encoding of cvt.w.s on r5900. This will confuse less developers and compilers.
@
text
@d1 5
@


1.2164
log
@opcodes/

2013-01-04  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* aarch64-opc.c (aarch64_print_operand): Change to print
	AARCH64_OPND_IMM_MOV in hexadecimal in the instruction and in decimal
	in comment.
	* aarch64-tbl.h (aarch64_opcode_table): Remove the 'F_PSEUDO' flag
	from the opcode entries of OP_MOV_IMM_LOG, OP_MOV_IMM_WIDEN and
	OP_MOV_IMM_WIDE.

gas/testsuite/

2013-01-04  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* gas/aarch64/int-insns.d: Update.
	* gas/aarch64/mov.d: Update.
	* gas/aarch64/reloc-insn.d: Update.

ld/testsuite/

2013-01-04  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* ld-aarch64/emit-relocs-264.d: Append the '-Mno-aliases' option to
	the objdump directive.
	* ld-aarch64/emit-relocs-266.d: Ditto.
	* ld-aarch64/emit-relocs-268.d: Ditto.
	* ld-aarch64/emit-relocs-269.d: Ditto.
	* ld-aarch64/emit-relocs-270.d: Ditto.
	* ld-aarch64/emit-relocs-271.d: Ditto.
	* ld-aarch64/emit-relocs-272.d: Ditto.
@
text
@d1 8
@


1.2163
log
@        * aarch64-opc.c (aarch64_prfops): Update to support PLIL1KEEP,
        PLIL1STRM, PLIL2KEEP, PLIL2STRM, PLIL3KEEP and PLIL3STRM.

        * gas/aarch64/system.d: Update.
@
text
@d3 7
a9 1
        * gas/aarch64/system.d: Update.
@


1.2162
log
@	PR gas/14987
	* gas/arm/neon-ldst-es.s: Add whitespace test.
	* gas/arm/neon-ldst-es.d: Update expected disassembly.

	* config/tc-arm.c (parse_address_main): Skip whitespace before a
	closing bracket.
@
text
@d1 4
@


1.2161
log
@Fix commit date in previous commit.
@
text
@d1 1
a1 1
2012-12-20  Greta Yorsh  <Greta.Yorsh@@arm.com>
d3 3
a5 6
	* gas/arm/srs-t2.s: Add tests for missing srs modes.
	* gas/arm/srs-t2.l: Update expected output.
	* gas/arm/srs-arm.s: Add tests for missing srs modes.
	* gas/arm/srs-arm.l: Update expected output.
	* gas/arm/archv6.s: Add tests for missing rfe modes.
	* gas/arm/archv6.d: Update expected output.
d7 1
a7 1775
2012-12-18  David Holsgrove  <david.holsgrove@@xilinx.com>

	* gas/microblaze/relax_size.exp: New file - test object size after
	linker relaxation.
	* gas/microblaze/relax_size.s: Likewise.
	* gas/microblaze/relax_size.elf: Likewise.
	* gas/microblaze/relax_size2.s: Likewise.
	* gas/microblaze/relax_size2.elf: Likewise.
	
2012-12-17  Nick Clifton  <nickc@@redhat.com>

	* config/default.exp: Add copyright notice.
	* gas/aarch64/aarch64.exp: Likewise.
	* gas/all/gas.exp: Likewise.
	* gas/alpha/alpha.exp: Likewise.
	* gas/arc/arc.exp: Likewise.
	* gas/arc/warn.exp: Likewise.
	* gas/arm/arm.exp: Likewise.
	* gas/bfin/bfin.exp: Likewise.
	* gas/bfin/error.exp: Likewise.
	* gas/cfi/cfi.exp: Likewise.
	* gas/cr16/cr16.exp: Likewise.
	* gas/cr16/pic.exp: Likewise.
	* gas/crx/allinsn.exp: Likewise.
	* gas/d10v/d10v.exp: Likewise.
	* gas/d30v/d30.exp: Likewise.
	* gas/dlx/alltests.exp: Likewise.
	* gas/elf/elf.exp: Likewise.
	* gas/epiphany/allinsn.exp: Likewise.
	* gas/fr30/allinsn.exp: Likewise.
	* gas/fr30/fr30.exp: Likewise.
	* gas/frv/allinsn.exp: Likewise.
	* gas/h8300/h8300-coff.exp: Likewise.
	* gas/h8300/h8300-elf.exp: Likewise.
	* gas/h8300/h8300.exp: Likewise.
	* gas/h8300/t01_mov.exp: Likewise.
	* gas/h8300/t02_mova.exp: Likewise.
	* gas/h8300/t03_add.exp: Likewise.
	* gas/h8300/t04_sub.exp: Likewise.
	* gas/h8300/t05_cmp.exp: Likewise.
	* gas/h8300/t06_ari2.exp: Likewise.
	* gas/h8300/t07_ari3.exp: Likewise.
	* gas/h8300/t08_or.exp: Likewise.
	* gas/h8300/t09_xor.exp: Likewise.
	* gas/h8300/t10_and.exp: Likewise.
	* gas/h8300/t11_logs.exp: Likewise.
	* gas/h8300/t12_bit.exp: Likewise.
	* gas/h8300/t13_otr.exp: Likewise.
	* gas/hppa/README: Likewise.
	* gas/i386/i386.exp: Likewise.
	* gas/i386/ilp32/ilp32.exp: Likewise.
	* gas/i386/ilp32/cfi/ilp32.exp: Likewise.
	* gas/i386/ilp32/elf/ilp32.exp: Likewise.
	* gas/i386/ilp32/lns/ilp32.exp: Likewise.
	* gas/i860/README.i860: Likewise.
	* gas/i860/i860.exp: Likewise.
	* gas/ia64/ia64.exp: Likewise.
	* gas/ieee-fp/x930509a.exp: Likewise.
	* gas/iq2000/allinsn.exp: Likewise.
	* gas/iq2000/load-hazards.exp: Likewise.
	* gas/iq2000/odd-ldw.exp: Likewise.
	* gas/iq2000/odd-sdw.exp: Likewise.
	* gas/iq2000/yield.exp: Likewise.
	* gas/lm32/all.exp: Likewise.
	* gas/lns/lns.exp: Likewise.
	* gas/m32r/allinsn.exp: Likewise.
	* gas/m32r/error.exp: Likewise.
	* gas/m32r/m32r2.exp: Likewise.
	* gas/m32r/m32rx.exp: Likewise.
	* gas/m32r/pic.exp: Likewise.
	* gas/m32r/rel32.exp: Likewise.
	* gas/m68hc11/m68hc11.exp: Likewise.
	* gas/m68k/all.exp: Likewise.
	* gas/m68k-coff/gas.exp: Likewise.
	* gas/mach-o/mach-o.exp: Likewise.
	* gas/macros/macros.exp: Likewise.
	* gas/mcore/allinsn.exp: Likewise.
	* gas/mep/allinsn.exp: Likewise.
	* gas/mep/complex-relocs.exp: Likewise.
	* gas/microblaze/allinsn.exp: Likewise.
	* gas/microblaze/endian.exp: Likewise.
	* gas/microblaze/reloc_sym.exp: Likewise.
	* gas/microblaze/special_reg.exp: Likewise.
	* gas/mips/mips.exp: Likewise.
	* gas/mri/mri.exp: Likewise.
	* gas/msp430/msp430.exp: Likewise.
	* gas/mt/errors.exp: Likewise.
	* gas/mt/mt.exp: Likewise.
	* gas/mt/relocs.exp: Likewise.
	* gas/openrisc/allinsn.exp: Likewise.
	* gas/pdp11/pdp11.exp: Likewise.
	* gas/pj/pj.exp: Likewise.
	* gas/ppc/ppc.exp: Likewise.
	* gas/rx/make-d: Likewise.
	* gas/rx/rx.exp: Likewise.
	* gas/score/relax.exp: Likewise.
	* gas/score/relax_32.exp: Likewise.
	* gas/sparc/mismatch.exp: Likewise.
	* gas/sparc/sparc.exp: Likewise.
	* gas/sparc-solaris/addend.exp: Likewise.
	* gas/sparc-solaris/gas.exp: Likewise.
	* gas/sun4/addend.exp: Likewise.
	* gas/symver/symver.exp: Likewise.
	* gas/tic4x/tic4x.exp: Likewise.
	* gas/tic54x/tic54x.exp: Likewise.
	* gas/tic6x/tic6x.exp: Likewise.
	* gas/vax/vax.exp: Likewise.
	* gas/xc16x/xc16x.exp: Likewise.
	* gas/xgate/xgate.exp: Likewise.
	* gas/xstormy16/allinsn.exp: Likewise.
	* gas/xtensa/all.exp: Likewise.
	* gas/z80/z80.exp: Likewise.
	* gas/z8k/z8k.exp: Likewise.
	* lib/gas-dg.exp: Likewise.

2012-12-06  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* gas/aarch64/illegal.s: Add test for unaccepted LDR literal.
	* gas/aarch64/illegal.l: Update.
	* gas/aarch64/programmer-friendly.s: Add tests for LDR literal with
	the auto-generation of literal in pool.
	* gas/aarch64/programmer-friendly.d: Update.

2012-11-28  Julian Brown  <julian@@codesourcery.com>

	* gas/arm/bl-local-2.s: New test.
	* gas/arm/bl-local-2.d: New.

2012-11-27  Roland McGrath  <mcgrathr@@google.com>

	* lib/gas-defs.exp (run_dump_test): If as options include
	--compress-debug-sections and zlib is not available, report
	the test as unsupported.

2012-11-23  Alan Modra  <amodra@@gmail.com>

	* gas/ppc/astest2.d: Pass -Mppc to objdump.

2012-11-21  David Holsgrove  <david.holsgrove@@xilinx.com>

	* gas/microblaze/allinsn.s: Add swapb, swaph
	* gas/microblaze/allinsn.d: Likewise

2012-11-21  David Holsgrove  <david.holsgrove@@xilinx.com>

	* gas/microblaze/allinsn.s: Test use of SHR, SLR
	* gas/microblaze/allinsn.d: Likewise

2012-11-20  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* gas/s390/zarch-z9-109.d: Fix srstu opcode.
	* gas/s390/zarch-z900.d: Replace lasp with strag.

2012-11-20  Roland McGrath  <mcgrathr@@google.com>

	* gas/arm/macro-pld.s: New file.
	* gas/arm/macro-pld.d: New file.

2012-11-14  David Holsgrove  <david.holsgrove@@xilinx.com>

	* gas/microblaze/allinsn.s: Add mbar and sleep
	* gas/microblaze/allinsn.d: Likewise

2012-11-14  David Holsgrove  <david.holsgrove@@xilinx.com>

	* gas/microblaze/allinsn.s: Add clz insn
	* gas/microblaze/allinsn.d: Likewise

2012-11-14  David Holsgrove  <david.holsgrove@@xilinx.com>

	* gas/microblaze/allinsn.exp: New file - test newly added opcodes
	* gas/microblaze/allinsn.s: Likewise
	* gas/microblaze/allinsn.d: Likewise

2012-11-14  Ulrich Weigand  <uweigand@@de.ibm.com>

	* gas/ppc/astest.d: Update for fixup changes.
	* gas/ppc/astest64.d: Likewise.
	* gas/ppc/astest2.d: Likewise.
	* gas/ppc/astest2_64.d: Likewise.
	* gas/ppc/test1elf32.d: Likewise.
	* gas/ppc/test1elf64.d: Likewise.

2012-11-09  David Holsgrove  <david.holsgrove@@xilinx.com>

	* gas/microblaze/endian.exp: New file - endian testcase for microblaze / microblazeel.
	* gas/microblaze/endian.s: Likewise.
	* gas/microblaze/endian_be.d: Likewise.
	* gas/microblaze/endian_le.d: Likewise.
	* gas/microblaze/endian_le_elf.d: Likewise.
	* gas/microblaze/reloc_sym.d: Update to accept targets other than elf32-microblaze.
	* gas/microblaze/special_reg.d: Likewise.

2012-11-08  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/lui.d: New test.
	* gas/mips/micromips@@lui.d: New test.
	* gas/mips/lui-1.l: New list test.
	* gas/mips/lui-2.l: New list test.
	* gas/mips/lui.s: New test source.
	* gas/mips/lui-1.s: New test source.
	* gas/mips/lui-2.s: New test source.
	* gas/mips/mips.exp: Run the new tests.

2012-11-07  David Holsgrove  <david.holsgrove@@xilinx.com>

	* testsuite/gas/microblaze/special_reg.exp: Add test case.
	* testsuite/gas/microblaze/special_reg.s: Likewise.
	* testsuite/gas/microblaze/special_reg.d: Likewise.

2012-11-01  Chao-ying Fu  <fu@@mips.com>

	* gas/mips/micromips-b16.d: New test.
	* gas/mips/micromips-b16.s: New test source.
	* gas/mips/mips.exp: Run the new test.

2012-11-01  Chao-ying Fu  <fu@@mips.com>
            Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/micromips-branch-delay.l: Update messages for 16-bit
	delay slot changes.
	* gas/mips/micromips-warn-branch-delay.d: New test.
	* gas/mips/micromips-warn-branch-delay.l: Stderr output for the
	new test.
	* gas/mips/micromips-warn-branch-delay-1.d: New test.
	* gas/mips/micromips-warn-branch-delay.s: New test source.
	* gas/mips/micromips-warn-branch-delay-1.s: New test source.
	* gas/mips/mips.exp: Run the new tests.

2012-10-31  David Holsgrove  <david.holsgrove@@xilinx.com>

	* gas/microblaze: New.
	* gas/microblaze/reloc_sym.exp: Add test case.
	* gas/microblaze/reloc_strongsym.s: Likewise.
	* gas/microblaze/reloc_weaksym.s: Likewise.
	* gas/microblaze/reloc_sym.d: Likewise.

2012-10-29  Alan Modra  <amodra@@gmail.com>

	* gas/cfi/cfi.exp: Remove redundant ppc test.  Exclude
	powerpc-pe targets from cfi-common-6 test.
	* gas/cfi/cfi-ppc-1.d: Use objdump to handle pe.
	* gas/cfi/cfi-ppc-1.s: Don't use .type and .size.
	* gas/ppc/ppc.exp: Exclude various tests for powerpc-pe.  Exclude
	vle tests for le targets.
	* gas/ppc/476.d, * gas/ppc/476.s: Update for le output.  Use .text
	rather than section directive with quotes.
	* gas/ppc/a2.d,	* gas/ppc/a2.s: Likewise.
	* gas/ppc/altivec.d, * gas/ppc/altivec.s: Likewise.
	* gas/ppc/altivec2.d: Likewise.
	* gas/ppc/altivec_and_spe.d: Likewise.
	* gas/ppc/astest.d: Likewise.
	* gas/ppc/astest2.d: Likewise.
	* gas/ppc/astest2_64.d: Likewise.
	* gas/ppc/astest64.d: Likewise.
	* gas/ppc/booke.d, * gas/ppc/booke.s: Likewise.
	* gas/ppc/cell.d, * gas/ppc/cell.s: Likewise.
	* gas/ppc/common.d, * gas/ppc/common.s: Likewise.
	* gas/ppc/e500.d, * gas/ppc/e500.s: Likewise.
	* gas/ppc/e500mc.d, * gas/ppc/e500mc.s: Likewise.
	* gas/ppc/e500mc64_nop.d, * gas/ppc/e500mc64_nop.s: Likewise.
	* gas/ppc/e5500_nop.d, * gas/ppc/e5500_nop.s: Likewise.
	* gas/ppc/e6500.d, * gas/ppc/e6500.s: Likewise.
	* gas/ppc/e6500_nop.d, * gas/ppc/e6500_nop.s: Likewise.
	* gas/ppc/machine.d: Likewise.
	* gas/ppc/power4.d, * gas/ppc/power4.s: Likewise.
	* gas/ppc/power4_32.d, * gas/ppc/power4_32.s: Likewise.
	* gas/ppc/power6.d, * gas/ppc/power6.s: Likewise.
	* gas/ppc/power7.d, * gas/ppc/power7.s: Likewise.
	* gas/ppc/ppc750ps.d, * gas/ppc/ppc750ps.s: Likewise.
	* gas/ppc/regnames.d: Likewise.
	* gas/ppc/simpshft.d: Likewise.
	* gas/ppc/test1elf32.d: Likewise.
	* gas/ppc/test1elf64.d: Likewise.
	* gas/ppc/titan.d, * gas/ppc/titan.s: Likewise.
	* gas/ppc/vle-reloc.s: Likewise.
	* gas/ppc/vle-simple-1.s: Likewise.
	* gas/ppc/vle-simple-2.s: Likewise.
	* gas/ppc/vle-simple-3.s: Likewise.
	* gas/ppc/vle-simple-4.s: Likewise.
	* gas/ppc/vle-simple-5.s: Likewise.
	* gas/ppc/vle-simple-6.s: Likewise.
	* gas/ppc/vle.s: Likewise.
	* gas/ppc/vsx.d, * gas/ppc/vsx.s: Likewise.

2012-10-27  James Lemke  <jwlemke@@codesourcery.com>

	* gas/m68k/all.exp: Exclude pr11676 for fido-*-*.

2012-10-26  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* gas/testsuite/gas/s390/zarch-z10.d: Refreshed.
	* gas/testsuite/gas/s390/zarch-z10.s: Refreshed.
	* gas/testsuite/gas/s390/zarch-z196.d: Refreshed.
	* gas/testsuite/gas/s390/zarch-z196.s: Refreshed.
	* gas/testsuite/gas/s390/zarch-z9-109.d: Refreshed.
	* gas/testsuite/gas/s390/zarch-z990.d: Refreshed.
	* gas/testsuite/gas/s390/zarch-z990.s: Refreshed.
	* gas/testsuite/gas/s390/zarch-zEC12.d: Refreshed.
	* gas/testsuite/gas/s390/zarch-zEC12.s: Refreshed.

2012-10-26  Christian Groessler  <chris@@groessler.org>

	* gas/z8k/z8k.exp: Run translate-ops test.
	* gas/z8k/translate-ops.s: New file.
	* gas/z8k/translate-ops.d: New file.

2012-10-26  Alan Modra  <amodra@@gmail.com>

	* gas/ppc/power4.s: Fix invalid lq offsets.
	* gas/ppc/power4.d: Update.

2012-10-24  Roland McGrath  <mcgrathr@@google.com>

	* gas/i386/rex.s: Add test of REX prefix before fsave (i.e. fwait).
	* gas/i386/rex.d: Update.

2012-10-22  Peter Bergner  <bergner@@vnet.ibm.com>

	* gas/ppc/altivec.s <vcfpsxws>: Fix opcode spelling.

2012-10-15  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* gas/aarch64/sysreg-1.s: Add tests of rmr_el1, rmr_el2 and rmr_el3.
	* gas/aarch64/sysreg-1.d: Update.
	* gas/aarch64/illegal.s: Add tests of daifset and daifclr.
	* gas/aarch64/illegal.d: Update.

2012-10-15  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* gas/aarch64/illegal-2.s: Add test case.
	* gas/aarch64/illegal-2.l: Update.

2012-10-14  John David Anglin  <dave.anglin@@nrc-cnrc.gc.ca>

	* gas/hppa/basic/fmemLRbug.s: Remove double load and store instructions
	which reference the right half of a floating point register.
	* gas/hppa/basic/basic.exp: Adjust expected results.

2012-10-13  John David Anglin  <dave.anglin@@nrc-cnrc.gc.ca>

	* gas/hppa/basic/unit.s: Remove uxor instructions with unit condition
	involving a carry.
	* gas/hppa/basic/unit2.s: Likewise.
	* gas/hppa/basic/basic.exp: Adjusted expected.

2012-10-11  Kyrylo Tkachov  <kyrylo.tkachov@@arm.com>

	* gas/arm/armv8-a+fp.d: Use preferred form of vrint instruction
	variants for disassembly.
	* gas/arm/armv8-a+fp.s: Likewise.
	* gas/arm/armv8-a+simd.d: Likewise.
	* gas/arm/armv8-a+simd.s: Likewise.

2012-10-11  Kyrylo Tkachov  <kyrylo.tkachov@@arm.com>

	* gas/arm/ldgesb-bad.d: New file.
	* gas/arm/ldgesb-bad.l: Likewise.
	* gas/arm/ldgesb-bad.s: Likewise.
	* gas/arm/ldgesh-bad.d: Likewise.
	* gas/arm/ldgesh-bad.l: Likewise.
	* gas/arm/ldgesh-bad.s: Likewise.
	* gas/arm/ldsgeb.d: Likewise.
	* gas/arm/ldsgeb.s: Likewise.
	* gas/arm/ldsgeb.l: Likewise.
	* gas/arm/ldsgeh.d: Likewise.
	* gas/arm/ldsgeh.s: Likewise.
	* gas/arm/ldsgeh.l: Likewise.

2012-10-09  Nagajyothi Eggone  <nagajyothi.eggone@@amd.com>

	* gas/i386/i386.exp: Run bdver3 test cases.
	* gas/i386/nops-1-bdver3.d: New.
	* gas/i386/arch-10-bdver3.d: New.
	* gas/i386/x86-64-nops-1-bdver3.d: New.
	* gas/i386/x86-64-arch-2-bdver3.d: New.

2012-10-05  Peter Bergner  <bergner@@vnet.ibm.com>

	* gas/ppc/power7.d: Add tests for mfppr, mfppr32, mtppr and mtppr32.
	* gas/ppc/power7.s: Likewise.
	* gas/ppc/altivec.d: Add tests for all legacy Altivec instructions.
	* gas/ppc/altivec.s: Likewise.
	* gas/ppc/altivec2.d: New test file.
	* gas/ppc/altivec2.s: Likewise.
	* gas/ppc/ppc.exp: Run it.

2012-10-04  Nick Clifton  <nickc@@redhat.com>

	* gas/v850/v850e1.d: Fix expected disassembly of clr1, not1, set1
	and tst1 insns.

2012-10-04  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* gas/s390/zarch-zEC12.d: Fix branch preload instructions.
	* gas/s390/zarch-zEC12.s: Likewise.

2012-10-04  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* gas/s390/s390.exp: Run zEC12 tests.
	* gas/s390/zarch-zEC12.d: New file.
	* gas/s390/zarch-zEC12.s: New file.

2012-09-25  Saravanan Ekanathan <saravanan.ekanathan@@amd.com>

	* gas/i386/arch-10-bdver1.d: New file to test bdver1 core.
	* gas/i386/x86-64-arch-2-bdver1.d: Likewise.
	* gas/i386/i386.exp: Run bdver1 testcases.
	* gas/i386/arch-10-bdver2.d: Updated -march flags.
	* gas/i386/arch-10-btver1.d: Likewise.
	* gas/i386/arch-10-btver2.d: Likewise.
	* gas/i386/x86-64-arch-2-bdver2.d: Likewise.
	* gas/i386/x86-64-arch-2-btver1.d: Likewise.
	* gas/i386/x86-64-arch-2-btver2.d: Likewise.

2012-09-23  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/hilo-diff-eb.d: New test.
	* gas/mips/hilo-diff-eb-n32.d: New test.
	* gas/mips/hilo-diff-eb-n64.d: New test.
	* gas/mips/hilo-diff-el.d: New test.
	* gas/mips/hilo-diff-el-n32.d: New test.
	* gas/mips/hilo-diff-el-n64.d: New test.
	* gas/mips/mips16@@hilo-diff-eb.d: New test.
	* gas/mips/mips16@@hilo-diff-eb-n32.d: New test.
	* gas/mips/mips16@@hilo-diff-eb-n64.d: New test.
	* gas/mips/mips16@@hilo-diff-el.d: New test.
	* gas/mips/mips16@@hilo-diff-el-n32.d: New test.
	* gas/mips/mips16@@hilo-diff-el-n64.d: New test.
	* gas/mips/micromips@@hilo-diff-eb.d: New test.
	* gas/mips/micromips@@hilo-diff-eb-n32.d: New test.
	* gas/mips/micromips@@hilo-diff-eb-n64.d: New test.
	* gas/mips/micromips@@hilo-diff-el.d: New test.
	* gas/mips/micromips@@hilo-diff-el-n32.d: New test.
	* gas/mips/micromips@@hilo-diff-el-n64.d: New test.
	* gas/mips/hilo-diff.s: New test source.
	* gas/mips/mips.exp: Run the new tests.

2012-09-23  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/elf-rel22.s, gas/mips/elf-rel22.d: Add more tests.
	* gas/mips/elf-rel29.s, gas/mips/elf-rel29.d,
	gas/mips/micromips@@elf-rel29.d, gas/mips/elf-rel30.s,
	gas/mips/elf-rel30.l: New tests.
	* gas/mips/mips.exp: Run them.

2012-09-23  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/dot-1.s, gas/mips/dot-1.d, gas/mips/micromips@@dot-1.d,
	gas/mips/mips16@@dot-1.d: New test.
	* gas/mips/mips.exp: Run it.

2012-09-20  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run x86-64-arch-2-1 and x86-64-arch-2-2.

	* gas/i386/x86-64-arch-2-1.l: New file.
	* gas/i386/x86-64-arch-2-1.s: Likewise.
	* gas/i386/x86-64-arch-2-2.l: Likewise.
	* gas/i386/x86-64-arch-2-2.s: Likewise.

2012-09-20  Michael Zolotukhin  <michael.v.zolotukhin@@intel.com>

	* gas/i386/x86-64-arch-2.s: Add test for cmpxchg16b.
	* gas/i386/x86-64-arch-2.d: Update correspondingly.
	* gas/i386/x86-64-arch-2-bdver2.d: Likewise.
	* gas/i386/x86-64-arch-2-btver1.d: Likewise.
	* gas/i386/x86-64-arch-2-btver2.d: Likewise.
	* gas/i386/x86-64-arch-2-lzcnt.d: Likewise.
	* gas/i386/x86-64-arch-2-prefetchw.d: Likewise.
	* gas/i386/ilp32/x86-64-arch-2.d: Likewise.

2012-09-18  Kyrylo Tkachov  <kyrylo.tkachov@@arm.com>

	* gas/arm/armv8-a-bad.l: Updated for changed mnemonics.
	* gas/arm/armv8-a-bad.s: Likewise.
	* gas/arm/armv8-a.d: Likewise.
	* gas/arm/armv8-a.s: Likewise.
	* gas/arm/inst.s: Added test for ldrt encoding compatibly with ldralt.
	* gas/arm/inst.d: Updated.

2012-09-18  Chao-ying Fu  <fu@@mips.com>

	* gas/mips/micromips.d: Correct the disassembly of SWXC1.
	* gas/mips/micromips-trap.d: Likewise.
	* gas/mips/micromips@@24k-triple-stores-1.d: Likewise.
	* gas/mips/micromips@@mips4-fp.d: Likewise.

2012-09-17  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* gas/aarch64/crypto.d (#as): Update for v8->v8-A change.
	* gas/aarch64/int-insns.d (#as): Likewise.
	* gas/aarch64/legacy_reg_names.s (.arch): Likewise.
	* gas/aarch64/neon-not.s (.arch): Likewise.
	* gas/aarch64/neon-vfp-reglist-post.s (.arch): Likewise.
	* gas/aarch64/neon-vfp-reglist.s (.arch): Likewise.

2012-09-12  Chris Schlumberger-Socha  <chris.schlumberger-socha@@arm.com>

	* gas/aarch64/reloc-insn.d
	(BFD_RELOC_AARCH64_GOT_LD_PREL19): Add expected asm for new reloc test.
	* gas/aarch64/reloc-insn.s
	(BFD_RELOC_AARCH64_GOT_LD_PREL19): Add test for reloc.

2012-09-04  Sergey A. Guriev  <sergey.a.guriev@@intel.com>

	* gas/testsuite/gas/ia64/psn.d: New file.
	* gas/testsuite/gas/ia64/psn.s: New file.
	* gas/testsuite/gas/ia64/ia64.exp: Add new testcase.
	* gas/testsuite/gas/ia64/opc-i.d: Fixed failing tests.
	* gas/testsuite/gas/ia64/opc-m.d: Ditto.

2012-09-01  Hans-Peter Nilsson  <hp@@bitrange.com>

	PR gas/14521
	* gas/mmix/group-1.d, gas/mmix/group-1.s: New test.

2012-08-24  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/elf/group0c.d: Skip Solaris.

2012-08-24  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/ilp32/ilp32.exp (gas_64_check): Renamed to ...
	(gas_x32_check): This.  Check elf32-x86-64.
	Remove Solaris check.
	* gas/i386/ilp32/cfi/ilp32.exp: Likewise.
	* gas/i386/ilp32/elf/ilp32.exp: Likewise.
	* gas/i386/ilp32/lns/ilp32.exp: Likewise.

2012-08-24  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/ilp32/ilp32.exp: Skip Solaris.
	* gas/i386/ilp32/cfi/ilp32.exp: Likewise.
	* gas/i386/ilp32/elf/ilp32.exp: Likewise.
	* gas/i386/ilp32/lns/ilp32.exp: Likewise.

2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	* gas/arm/armv8-a+crypto.s: Update testcase.
	* gas/arm/armv8-a+crypto.d: Likewise.

2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	* gas/arm/armv8-a+crypto.d: Update testcase.
	* gas/arm/armv8-a+crypto.s: Likewise.

2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	* gas/arm/armv8-a+crypto.d: Update testcase.
	* gas/arm/armv8-a+crypto.s: Likewise.

2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	* gas/arm/armv8-a+crypto.d: New testcase.
	* gas/arm/armv8-a+crypto.s: Likewise.

2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	* gas/arm/armv8-a+fp.d: Update testcase.
	* gas/arm/armv8-a+fp.s: Likewise.
	* gas/arm/half-prec-vfpv3.s: Likewise.

2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	* gas/arm/armv8-a+fpv5.d: Update testcase.
	* gas/arm/armv8-a+fpv5.s: Likewise.
	* gas/arm/armv8-a+simdv3.d: Likewise.
	* gas/arm/armv8-a+simdv3.s: Likewise.

2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	* gas/arm/armv8-a+fp.d: Update testcase.
	* gas/arm/armv8-a+fp.s: Likewise.
	* gas/arm/armv8-a+simd.d: Likewise.
	* gas/arm/armv8-a+simd.s: Likewise.

2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	* gas/testsuite/gas/armv8-a+fp.d: Update testcase.
	* gas/testsuite/gas/armv8-a+fp.s: Likewise.
	* gas/testsuite/gas/armv8-a+simd.d: New testcase.
	* gas/testsuite/gas/armv8-a+simd.s: Likewise.

2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	* gas/arm/armv8-a+fp.d: New testcase.
	* gas/arm/armv8-a+fp.s: Likewise.

2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	* gas/arm/armv8-a-bad.l: Update testcase.
	* gas/arm/armv8-a-bad.s: Likewise.
	* gas/arm/armv8-a.d: Likewise.
	* gas/arm/armv8-a.s: Likewise.

2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	* gas/arm/armv8-a-bad.l: Update for HLT.
	* gas/arm/armv8-a-bad.s: Likewise.
	* gas/arm/armv8-a.d: Likewise.
	* gas/arm/armv8-a.s: Likewise.

2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	* gas/arm/armv8-a.d: Update.
	* gas/arm/armv8-a.s: Likewise.

2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	* gas/arm/armv8-a.s: New testcase.
	* gas/arm/armv8-a.d: Likewise.

2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	* gas/arm/armv8-a-barrier.s: New testcase.
	* gas/arm/armv8-a-barrier-arm.d: Likewise.
	* gas/arm/armv8-a-barrier-thumb.d: Likewise.

2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	* gas/arm/armv8-a-bad.l: Update
	* gas/arm/armv8-a-bad.s: Likewise.

2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	* gas/arm/armv8-a-it-bad.d: New testcase.
	* gas/arm/armv8-a-it-bad.l: Likewise.
	* gas/arm/armv8-a-it-bad.s: Likewise.
	* gas/arm/ldr-t-bad.s: Update testcase.
	* gas/arm/ldr-t.d: Likewise.
	* gas/arm/ldr-t.s: Likewise.
	* gas/arm/neon-cond-bad-inc.s: Likewise.
	* gas/arm/sp-pc-validations-bad-t: Likewise.
	* gas/arm/vfp-fma-inc.s: Likewise.
	* gas/arm/vfp-neon-syntax-inc.s: Likewise.

2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	* gas/arm/armv8-a-bad.l: Update testcase.
	* gas/arm/armv8-a-bad.s: Likewise.

2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	* gas/arm/armv8-a-bad.d: New testcase.
	* gas/arm/armv8-a-bad.l: Likewise.
	* gas/arm/armv8-a-bad.s: Likewise.
	* gas/arm/depr-swp.l: Update for change in expected output.
	* gas/arm/depr-swp.s: Add additional test.

2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	* gas/arm/attr-march-all.d: Update for change in expected
	output.
	* gas/arm/attr-mfpu-vfpv4-d16.d: Likewise.
	* gas/arm/attr-mfpu-vfpv4.d: Likewise.
	* gas/arm/attr-march-armv8-a+crypto.d: New testcase.
	* gas/arm/attr-march-armv8-a+fp.d: Likewise.
	* gas/arm/attr-march-armv8-a+simd.d: Likewise.
	* gas/arm/attr-march-armv8-a.d: Likewise.

2012-08-21  David S. Miller  <davem@@davemloft.net>

	* gas/sparc/crypto.d: Fix opcodes for 4-arg crypto instructions.

2012-08-20  Edmar Wienskoski  <edmar@@freescale.com>

	* gas/ppc/e6500.d: Changed opcode for vabsdub, vabsduh, vabsduw,
	mviwsplt.

2012-08-17  Nagajyothi Eggone  <nagajyothi.eggone@@amd.com>

	* gas/i386/i386.exp: Run btver1 and btver2 test cases.

	* gas/i386/nops-1-btver1.d: New.
	* gas/i386/nops-1-btver2.d: New.
	* gas/i386/arch-10-btver1.d: New.
	* gas/i386/arch-10-btver2.d: New.
	* gas/i386/x86-64-nops-1-btver1.d: New.
	* gas/i386/x86-64-nops-1-btver2.d: New.
	* gas/i386/x86-64-arch-2-btver1.d: New.
	* gas/i386/x86-64-arch-2-btver2.d: New.

2012-08-15  Peter Bergner  <bergner@@vnet.ibm.com>

	* gas/ppc/power4.s <lq, stq>: Add more tests.
	* gas/ppc/power4.d: Likewise.

2012-08-15  Peter Bergner  <bergner@@vnet.ibm.com>

	* gas/ppc/common.d ("nop", "xnop"): Add tests.
	* gas/ppc/common.s: Likewise.
	* gas/ppc/power7.d ("yield", "mdoio", "mdoom"): Add tests.
	* gas/ppc/power7.s: Likewise.

2012-08-14  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/14457
	* gas/i386/i386.exp: Run reg-bad.

	* gas/i386/reg-bad.l: New.
	* gas/i386/reg-bad.s: Likewise.

2012-08-14  Hans-Peter Nilsson  <hp@@bitrange.com>

	* gas/mmix/err-fb-2.s: New test.

2012-08-13  Ian Bolton  <ian.bolton@@arm.com>
	    Laurent Desnogues  <laurent.desnogues@@arm.com>
	    Jim MacArthur  <jim.macarthur@@arm.com>
	    Marcus Shawcroft  <marcus.shawcroft@@arm.com>
	    Nigel Stephens  <nigel.stephens@@arm.com>
	    Ramana Radhakrishnan  <ramana.radhakrishnan@@arm.com>
	    Richard Earnshaw  <rearnsha@@arm.com>
	    Sofiane Naci  <sofiane.naci@@arm.com>
	    Tejas Belagod  <tejas.belagod@@arm.com>
	    Yufeng Zhang  <yufeng.zhang@@arm.com>

	* gas/aarch64: New directory.
	* gas/aarch64/aarch64.exp: New file.
	* gas/aarch64/addsub.d: New file.
	* gas/aarch64/addsub.s: New file.
	* gas/aarch64/advsimd-across.d: New file.
	* gas/aarch64/advsimd-across.s: New file.
	* gas/aarch64/advsimd-misc.d: New file.
	* gas/aarch64/advsimd-misc.s: New file.
	* gas/aarch64/advsisd-copy.d: New file.
	* gas/aarch64/advsisd-copy.s: New file.
	* gas/aarch64/advsisd-misc.d: New file.
	* gas/aarch64/advsisd-misc.s: New file.
	* gas/aarch64/alias.d: New file.
	* gas/aarch64/alias.s: New file.
	* gas/aarch64/bitfield-alias.d: New file.
	* gas/aarch64/bitfield-alias.s: New file.
	* gas/aarch64/bitfield-bfm.d: New file.
	* gas/aarch64/bitfield-bfm.s: New file.
	* gas/aarch64/bitfield-dump: New file.
	* gas/aarch64/bitfield-no-aliases.d: New file.
	* gas/aarch64/crypto.d: New file.
	* gas/aarch64/crypto.s: New file.
	* gas/aarch64/diagnostic.d: New file.
	* gas/aarch64/diagnostic.l: New file.
	* gas/aarch64/diagnostic.s: New file.
	* gas/aarch64/floatdp2.d: New file.
	* gas/aarch64/floatdp2.s: New file.
	* gas/aarch64/fp_cvt_int.d: New file.
	* gas/aarch64/fp_cvt_int.s: New file.
	* gas/aarch64/illegal-2.d: New file.
	* gas/aarch64/illegal-2.l: New file.
	* gas/aarch64/illegal-2.s: New file.
	* gas/aarch64/illegal.d: New file.
	* gas/aarch64/illegal.l: New file.
	* gas/aarch64/illegal.s: New file.
	* gas/aarch64/inst-directive.d: New file.
	* gas/aarch64/inst-directive.s: New file.
	* gas/aarch64/int-insns.d: New file.
	* gas/aarch64/int-insns.s: New file.
	* gas/aarch64/ldst-exclusive.d: New file.
	* gas/aarch64/ldst-exclusive.s: New file.
	* gas/aarch64/ldst-reg-imm-post-ind.d: New file.
	* gas/aarch64/ldst-reg-imm-post-ind.s: New file.
	* gas/aarch64/ldst-reg-imm-pre-ind.d: New file.
	* gas/aarch64/ldst-reg-imm-pre-ind.s: New file.
	* gas/aarch64/ldst-reg-pair.d: New file.
	* gas/aarch64/ldst-reg-pair.s: New file.
	* gas/aarch64/ldst-reg-reg-offset.d: New file.
	* gas/aarch64/ldst-reg-reg-offset.s: New file.
	* gas/aarch64/ldst-reg-uns-imm.d: New file.
	* gas/aarch64/ldst-reg-uns-imm.s: New file.
	* gas/aarch64/ldst-reg-unscaled-imm.d: New file.
	* gas/aarch64/ldst-reg-unscaled-imm.s: New file.
	* gas/aarch64/legacy_reg_names.d: New file.
	* gas/aarch64/legacy_reg_names.l: New file.
	* gas/aarch64/legacy_reg_names.s: New file.
	* gas/aarch64/mapmisc.d: New file.
	* gas/aarch64/mapmisc.dat: New file.
	* gas/aarch64/mapmisc.s: New file.
	* gas/aarch64/mapping.d: New file.
	* gas/aarch64/mapping.s: New file.
	* gas/aarch64/mapping2.d: New file.
	* gas/aarch64/mapping2.s: New file.
	* gas/aarch64/mapping3.d: New file.
	* gas/aarch64/mapping3.s: New file.
	* gas/aarch64/mapping4.d: New file.
	* gas/aarch64/mapping4.s: New file.
	* gas/aarch64/mov-no-aliases.d: New file.
	* gas/aarch64/mov.d: New file.
	* gas/aarch64/mov.s: New file.
	* gas/aarch64/movi.d: New file.
	* gas/aarch64/movi.s: New file.
	* gas/aarch64/msr.d: New file.
	* gas/aarch64/msr.s: New file.
	* gas/aarch64/neon-fp-cvt-int.d: New file.
	* gas/aarch64/neon-fp-cvt-int.s: New file.
	* gas/aarch64/neon-frint.d: New file.
	* gas/aarch64/neon-frint.s: New file.
	* gas/aarch64/neon-ins.d: New file.
	* gas/aarch64/neon-ins.s: New file.
	* gas/aarch64/neon-not.d: New file.
	* gas/aarch64/neon-not.s: New file.
	* gas/aarch64/neon-vfp-reglist-post.d: New file.
	* gas/aarch64/neon-vfp-reglist-post.s: New file.
	* gas/aarch64/neon-vfp-reglist.d: New file.
	* gas/aarch64/neon-vfp-reglist.s: New file.
	* gas/aarch64/no-aliases.d: New file.
	* gas/aarch64/optional.d: New file.
	* gas/aarch64/optional.s: New file.
	* gas/aarch64/programmer-friendly.d: New file.
	* gas/aarch64/programmer-friendly.s: New file.
	* gas/aarch64/reloc-data.d: New file.
	* gas/aarch64/reloc-data.s: New file.
	* gas/aarch64/reloc-insn.d: New file.
	* gas/aarch64/reloc-insn.s: New file.
	* gas/aarch64/shifted.d: New file.
	* gas/aarch64/shifted.s: New file.
	* gas/aarch64/symbol.d: New file.
	* gas/aarch64/symbol.s: New file.
	* gas/aarch64/sysreg-1.d: New file.
	* gas/aarch64/sysreg-1.s: New file.
	* gas/aarch64/sysreg.d: New file.
	* gas/aarch64/sysreg.s: New file.
	* gas/aarch64/system.d: New file.
	* gas/aarch64/system.s: New file.
	* gas/aarch64/tlbi_op.d: New file.
	* gas/aarch64/tlbi_op.s: New file.
	* gas/aarch64/tls.d: New file.
	* gas/aarch64/tls.s: New file.
	* gas/aarch64/verbose-error.d: New file.
	* gas/aarch64/verbose-error.l: New file.
	* gas/aarch64/verbose-error.s: New file.

2012-08-11  Saravanan Ekanathan <saravanan.ekanathan@@amd.com>

	PR gas/14423
	* gas/i386/arch-10-bdver2.d: New file.
	* gas/i386/x86-64-arch-2-bdver2.d: Likewise.
	* gas/i386/i386.exp: Run new test

2012-08-07  Roland McGrath  <mcgrathr@@google.com>

	* gas/i386/prefetch.s: New file.
	* gas/i386/prefetch.d: New file.
	* gas/i386/prefetch-intel.d: New file.
	* gas/i386/x86-64-prefetch.d: New file.
	* gas/i386/x86-64-prefetch-intel.d: New file.
	* gas/i386/i386.exp: Run them.

2012-08-07  Jan Beulich <jbeulich@@suse.com>

	* gas/i386/x86-64-segovr.{s,l}: New.
	* gas/i386/i386.exp: Run new test.

2012-08-07  Jan Beulich <jbeulich@@suse.com>

	* gas/i386/vgather-check-error.{s,l}: New.
	* gas/i386/vgather-check-none.{s,d}: New.
	* gas/i386/vgather-check-warn.{d,e}: New.
	* gas/i386/vgather-check.{s,d}: New.
	* gas/i386/x86-64-vgather-check-error.{s,l}: New.
	* gas/i386/x86-64-vgather-check-none.{s,d}: New.
	* gas/i386/x86-64-vgather-check-warn.{d,e}: New.
	* gas/i386/x86-64-vgather-check.{s,d}: New.
	* gas/i386/i386.exp: Run new tests.

2012-08-07  Jan Beulich <jbeulich@@suse.com>

	* gas/i386/x86-64-specific-reg.{s,l}: New.
	* gas/i386/i386.exp: Run new test.

2012-08-07  Nick Clifton  <nickc@@redhat.com>

	* gas/i386/secrel.s: Add test of <symbol>@@SECREL32.
	* gas/i386/secrel.d: Add expected disassembly.

2012-08-06  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/mips.exp: Set has_newabi for all Linux targets.
	* gas/mips/cfi-n64-1.d: Adjust for targets that do not infer the
	ISA from the ABI.
	* gas/mips/elf-rel-got-n32.d: Likewise.
	* gas/mips/elf-rel-got-n64.d: Likewise.
	* gas/mips/elf-rel-xgot-n32.d: Likewise.
	* gas/mips/elf-rel-xgot-n64.d: Likewise.
	* gas/mips/elf-rel18.d: Likewise.
	* gas/mips/elf-rel28-n32.d: Likewise.
	* gas/mips/elf-rel28-n64.d: Likewise.
	* gas/mips/jal-newabi.d: Likewise.
	* gas/mips/ldstla-n64-shared.d: Likewise.
	* gas/mips/ldstla-n64-sym32.d: Likewise.
	* gas/mips/ldstla-n64.d: Likewise.
	* gas/mips/macro-warn-1-n32.d: Likewise.
	* gas/mips/macro-warn-2-n32.d: Likewise.
	* gas/mips/n32-consec.d: Likewise.

2012-08-06  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/mips.exp: Set has_newabi for mips*-sde-elf* too.
	* gas/mips/elf-rel-got-n32.s: Adjust padding.
	* gas/mips/elf-rel-got-n64.s: Likewise.
	* gas/mips/elf-rel23.s: Likewise.
	* gas/mips/elf-rel28.s: Likewise.
	* gas/mips/n32-consec.s: Likewise.
	* gas/mips/elf-rel-xgot-n32.d: Adjust output expected.
	* gas/mips/elf-rel-xgot-n64.d: Likewise.
	* gas/mips/elf-rel23.d: Likewise.
	* gas/mips/elf-rel23a.d: Likewise.
	* gas/mips/elf-rel23b.d: Likewise.
	* gas/mips/elf-rel28-n32.d: Likewise.

2012-08-06  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/branch-swap-2.l: New list test.
	* gas/mips/branch-swap-2.s: New test source.
	* gas/mips/mips.exp: Run the new test.

2012-08-06  Roland McGrath  <mcgrathr@@google.com>

	* gas/i386/x86-64-stack.s: Add cases for push segment register.
	* gas/i386/x86-64-stack.d: Updated.
	* gas/i386/x86-64-stack-suffix.d: Updated.
	* gas/i386/x86-64-stack-intel.d: Updated.
	* gas/i386/ilp32/x86-64-stack.d: Updated.
	* gas/i386/ilp32/x86-64-stack-suffix.d: Updated.
	* gas/i386/ilp32/x86-64-stack-intel.d: Updated.

	* gas/i386/x86-64-stack.s: Add cases for push immediate.
	* gas/testsuite/gas/i386/ilp32/x86-64-stack-intel.d: Updated.
	* gas/testsuite/gas/i386/ilp32/x86-64-stack-suffix.d: Updated.
	* gas/testsuite/gas/i386/ilp32/x86-64-stack.d: Updated.
	* gas/testsuite/gas/i386/x86-64-stack-intel.d: Updated.
	* gas/testsuite/gas/i386/x86-64-stack-suffix.d: Updated.
	* gas/testsuite/gas/i386/x86-64-stack.d: Updated.

	* gas/i386/x86-64-stack.s (try): Also try just rex.W (0x48) prefix.
	* gas/testsuite/gas/i386/ilp32/x86-64-stack-intel.d: Updated.
	* gas/testsuite/gas/i386/ilp32/x86-64-stack-suffix.d: Updated.
	* gas/testsuite/gas/i386/ilp32/x86-64-stack.d: Updated.
	* gas/testsuite/gas/i386/x86-64-stack-intel.d: Updated.
	* gas/testsuite/gas/i386/x86-64-stack-suffix.d: Updated.
	* gas/testsuite/gas/i386/x86-64-stack.d: Updated.

2012-08-02  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/14420
	* gas/elf/dwarf2-1.d: Updated.
	* gas/elf/dwarf2-2.d: Likwise.
	* gas/i386/dw2-compress-1.d: Likwise.

2012-08-01  James Lemke  <jwlemke@@codesourcery.com>

	* gas/cfi/cfi-ppc-1.d: Allow for code alignment of 2 or 4.

2012-07-31  Catherine Moore  <clm@@codesourcery.com>
	    Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/micromips@@mips32-dsp.d: New test.
	* gas/mips/micromips@@mips32-dspr2.d: New test.
	* gas/mips/mips32-dsp.d: Remove -mips32r2.
	* gas/mips/mips32-dspr2.d: Likewise.
	* gas/mips/mips32-dsp.s: Update padding.
	* gas/mips/mips32-dspr2.s: Likewise.
	* gas/mips/mips.exp: Use run_dump_test_arches to run MIPS32 DSP
	tests.

2012-07-31  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/d30v/bittest.l: Updated.

2012-07-31  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/rdseed-intel.d: Append "#pass".

2012-07-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/inval-equ-2.l: Updated.

2012-07-27  Sean Keys  <skeys@@ipdatasys.com>

	* gas/xgate/xgate.exp: Added hi/lo test.
	* gas/xgate/hilo.d: New test file
	* gas/xgate/hilo.s: Net test source file.

2012-07-24  Sandra Loosemore  <sandra@@codesourcery.com>
	    Jie Zhang  <jzhang918@@gmail.com>

	* gas/arm/adr.d: New test.
	* gas/arm/adr.s: New test.

2012-07-16  Michael Zolotukhin  <michael.v.zolotukhin@@intel.com>

	* gas/i386/i386.exp: Run adx, rdseed and prefetchw tests.
	* gas/i386/x86-64-arch-2.s: Use prefetchw as 3dnow and Prfchw tests.
	* gas/i386/arch-10.s: Likewise.
	* gas/i386/arch-10-1.l: Changed correspondingly.
	* gas/i386/arch-10-2.l: Likewise.
	* gas/i386/arch-10-3.l: Likewise.
	* gas/i386/arch-10-4.l: Likewise.
	* gas/i386/arch-10.d: Likewise.
	* gas/i386/arch-10-lzcnt.d: Likewise.
	* gas/i386/x86-64-arch-2.d: Likewise.
	* gas/i386/x86-64-arch-2-lzcnt.d: Likewise.
	* gas/i386/ilp32/x86-64-arch-2.d: Likewise.
	* gas/i386/arch-10-prefetchw.d: New file.
	* gas/i386/x86-64-arch-2-prefetchw.d: Likewise.
	* gas/i386/rdseed.s: Likewise.
	* gas/i386/rdseed.d: Likewise.
	* gas/i386/rdseed-intel.d: Likewise.
	* gas/i386/adx.s: Likewise.
	* gas/i386/adx.d: Likewise.
	* gas/i386/adx-intel.d: Likewise.
	* gas/i386/x86-64-rdseed.s: Likewise.
	* gas/i386/x86-64-rdseed.d: Likewise.
	* gas/i386/x86-64-rdseed-intel.d: Likewise.
	* gas/i386/x86-64-adx.s: Likewise.
	* gas/i386/x86-64-adx.d: Likewise.
	* gas/i386/x86-64-adx-intel.d: Likewise.

2012-07-02  Roland McGrath  <mcgrathr@@google.com>

	* gas/i386/rep-suffix.s: Add 'rep nop' case.
	* gas/i386/x86-64-rep-suffix.s: Likewise.
	* gas/i386/rep-suffix.d: Updated.
	* gas/i386/x86-64-rep-suffix.d: Likewise.
	* gas/i386/ilp32/x86-64-rep-suffix.d: Likewise.

2012-07-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Don't run rep-bsf nor rep-ret.

	* gas/i386/rep-bsf.d: Removed.
	* gas/i386/rep-bsf.s: Likewise.
	* gas/i386/rep-ret.d: Likewise.
	* gas/i386/rep-ret.s: Likewise.

	* gas/i386/rep-suffix.d: Updated.
	* gas/i386/x86-64-rep-suffix.d: Likewise.
	* gas/i386/ilp32/x86-64-rep-suffix.d: Likewise.

	* gas/i386/rep-suffix.s: Add tests for bsf, bsr and ret.
	* gas/i386/x86-64-rep-suffix.s: Likewise.

2012-06-30  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/14315
	* gas/elf/common1.d: New file.
	* gas/elf/common1.l: Likewise.
	* gas/elf/common1.s: Likewise.
	* gas/elf/common2.d: Likewise.
	* gas/elf/common2.l: Likewise.
	* gas/elf/common2.s: Likewise.

	* gas/elf/elf.exp: Run common1 and common2.

2012-06-29  Alan Modra  <amodra@@gmail.com>

	* gas/lns/lns.exp (lns-common-1): Add crx to alt target list.

2012-06-28  Nick Clifton  <nickc@@redhat.com>

	PR gas/14260
	* gas/arm/ldr-t-bad.s: Add test of bogus use of literal pool
	addressing.
	* gas/arm/ldr-t-bad.l: Update expected assembler error message
	output.

2012-06-28  Nick Clifton  <nickc@@redhat.com>

	* gas/lns/lns.exp: Use alternate lns-common test for targets
	enabling linker relaxation.
	* gas/lns/lns-big-delta.d: Allow for output from architectures
	with 32-bit addresses.

2012-06-27  Alan Modra  <amodra@@gmail.com>

	* gas/i386/rep-ret.s: Zero pad section.
	* gas/i386/rep-ret.d: Update.

2012-06-22  Roland McGrath  <mcgrathr@@google.com>

	* gas/i386/rep-ret.d: New file.
	* gas/i386/rep-ret.s: New file.
	* gas/i386/i386.exp: Add the new test.

	* gas/i386/rep-bsf.d: New file.
	* gas/i386/rep-bsf.s: New file.
	* gas/i386/i386.exp: Add the new test.

2012-06-13  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/ilp32/x86-64-dc_a.d: New.
	* gas/i386/ilp32/x86-64-dc_a.s: Likewise.

2012-06-11  Andreas Schwab  <schwab@@linux-m68k.org>

	* gas/ppc/e500mc.d: Update.
	* gas/ppc/476.d: Update.

2012-06-07  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/all/gas.exp: Don't run rept.

	* gas/all/rept.d: Moved to ...
	* gas/i386/rept.d: Here.
	* gas/all/rept.s: Moved to ...
	* gas/i386/rept.s: Here.

	* gas/i386/i386.exp: Run rept.

2012-06-07  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/14201
	* gas/all/gas.exp: Run rept.

	* gas/all/rept.d: New file.
	* gas/all/rept.s: Likewise.

2012-05-29  Roland McGrath  <mcgrathr@@google.com>

	* gas/i386/bundle-bad.s: Remove nested .bundle_lock case.
	* gas/i386/bundle-bad.l: Remove expected error line.
	* gas/i386/bundle-lock.s: Add nested .bundle_lock case.
	* gas/i386/bundle-lock.d: Update expectations.

2012-05-28  Nick Clifton  <nickc@@redhat.com>

	* gas/elf/syms.s: New test - checks the generation of multibyte
	symbol names.
	* gas/elf/syms.d: New file - expected readelf output.
	* gas/elf/elf.exp: Add syms.

2012-05-25  Alan Modra  <amodra@@gmail.com>

	* gas/lns/lns-big-delta.s: Add nops.
	* gas/lns/lns-big-delta.d: Update.

2012-05-19  Alan Modra  <amodra@@gmail.com>

	* gas/tic6x/unwind-1.d: Update for readelf changes.
	* gas/tic6x/unwind-2.d: Likewise.
	* gas/tic6x/unwind-3.d: Likewise.

2012-05-17  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/all/weakref1.d: Expect addend as signed.
	* gas/arm/pic_vxworks.d: Likewise.
	* gas/arm/wince.d: Likewise.
	* gas/h8300/h8300.exp: Likewise.
	* gas/i386/sub.d: Likewise.
	* gas/mips/ecoff@@ld.d: Likewise.
	* gas/mips/ecoff@@sd.d: Likewise.
	* gas/mips/l_d-n32.d: Likewise.
	* gas/mips/l_d-n64.d: Likewise.
	* gas/mips/l_d.d: Likewise.
	* gas/mips/ld-n32.d: Likewise.
	* gas/mips/ld-n64.d: Likewise.
	* gas/mips/ld.d: Likewise.
	* gas/mips/mips1@@l_d.d: Likewise.
	* gas/mips/mips1@@ld-forward.d: Likewise.
	* gas/mips/mips1@@ld.d: Likewise.
	* gas/mips/mips1@@s_d.d: Likewise.
	* gas/mips/s_d-n32.d: Likewise.
	* gas/mips/s_d-n64.d: Likewise.
	* gas/mips/s_d.d: Likewise.
	* gas/mips/sd-n32.d: Likewise.
	* gas/mips/sd-n64.d: Likewise.
	* gas/mips/sd.d: Likewise.
	* gas/mmix/bz-c.d: Likewise.
	* gas/mmix/geta-c.d: Likewise.
	* gas/mmix/jump-c.d: Likewise.
	* gas/mmix/pushj-c.d: Likewise.
	* gas/mmix/pushj-cs.d: Likewise.
	* gas/mmix/reloc16-n.d: Likewise.
	* gas/mmix/reloc16-r.d: Likewise.
	* gas/mmix/reloc16.d: Likewise.
	* gas/mmix/reloc8-r.d: Likewise.
	* gas/mmix/reloc8.d: Likewise.
	* gas/mmix/relocxrn.d: Likewise.
	* gas/sh/sh64/case-1.d: Likewise.
	* gas/sh/sh64/mix-1.d: Likewise.
	* gas/sh/sh64/pt32-1.d: Likewise.
	* gas/sh/sh64/pt64-1.d: Likewise.
	* gas/sh/sh64/pt64-32-2.d: Likewise.
	* gas/sh/sh64/rel32-2.d: Likewise.
	* gas/sh/sh64/rel32-4.d: Likewise.
	* gas/sh/sh64/rel64-2.d: Likewise.
	* gas/sh/sh64/rel64-4.d: Likewise.
	* gas/tic6x/data-reloc.d: Likewise.
	* gas/tic6x/pcr-relocs.d: Likewise.
	* gas/xstormy16/allinsn.d: Likewise.
	* gas/xstormy16/reloc-1.d: Likewise.
	* gas/xstormy16/reloc-2.d: Likewise.

2012-05-17  Alan Modra  <amodra@@gmail.com>

	* gas/elf/dwarf2-1.d: Update.
	* gas/elf/dwarf2-2.d: Update.
	* gas/i386/dw2-compress-1.d: Update.

2012-05-17  Alan Modra  <amodra@@gmail.com>

	* gas/ppc/vle.d: Pass -a32 to assembler.
	* gas/ppc/vle-reloc.d: Likewise.
	* gas/ppc/vle-simple-1.d: Likewise, also match wider addresses.
	* gas/ppc/vle-simple-2.d: Likewise.
	* gas/ppc/vle-simple-3.d: Likewise.
	* gas/ppc/vle-simple-4.d: Likewise.
	* gas/ppc/vle-simple-5.d: Likewise.
	* gas/ppc/vle-simple-6.d: Likewise.

2012-05-16  Meador Inge  <meadori@@codesourcery.com>

	* gas/arm/stm-ldm.d: STMFD/LDMIA sp!, {reg} don't disassemble to
	PUSH/POP {reg} any longer.  Some new test cases have been added as well.
	* gas/arm/stm-ldm.s: Likewise.

2012-05-15  James Murray <jsm@@jsm-net.demon.co.uk>

	* gas/m68hc11/insns9s12x.s: New
	* gas/m68hc11/insns9s12x.d: New
	* gas/m68hc11/hexprefix.s: New
	* gas/m68hc11/hexprefix.d: New
	* gas/m68hc11/9s12x-exg-sex-tfr.s: New
	* gas/m68hc11/9s12x-exg-sex-tfr.d: New
	* gas/m68hc11/insns9s12xg.s: New
	* gas/m68hc11/insns9s12xg.d: New
	* gas/m68hc11/9s12x-mov.s: New
	* gas/m68hc11/9s12x-mov.d: New
	* gas/m68hc11/m68hc11.exp: Updated
	* gas/m68hc11/*.d: Brought in line with changed objdump output.
	* gas/all/gas.exp: XFAIL all hc11/12 targets for redef2,3.
	* gas/elf/elf.exp: XFAIL all hc11/12 targets for redef.

2012-05-14  Catherine Moore  <clm@@codesourcery.com>
	    Maciej W. Rozycki  <macro@@codesourcery.com>
	    Rhonda Wittels  <rhonda@@codesourcery.com>

	* gas/ppc/ppc.exp: Run new tests.
	* gas/ppc/vle-reloc.d: New test.
	* gas/ppc/vle-reloc.s: New test.
	* gas/ppc/vle-simple-1.d: New test.
	* gas/ppc/vle-simple-1.s: New test.
	* gas/ppc/vle-simple-2.d: New test.
	* gas/ppc/vle-simple-2.s: New test.
	* gas/ppc/vle-simple-3.d: New test.
	* gas/ppc/vle-simple-3.s: New test.
	* gas/ppc/vle-simple-4.d: New test.
	* gas/ppc/vle-simple-4.s: New test.
	* gas/ppc/vle-simple-5.d: New test.
	* gas/ppc/vle-simple-5.s: New test.
	* gas/ppc/vle-simple-6.d: New test.
	* gas/ppc/vle-simple-6.s: New test.
	* gas/ppc/vle.d: New test.
	* gas/ppc/vle.s: New test.

2012-05-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/cris/rd-pic-1.d: Expect addend as signed.
	* gas/cris/rd-tls-1.d: Likewise.
	* gas/cris/rd-tls-2.d: Likewise.

2012-05-13  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/all/fwdexp.d: Expect addend as signed.
	* gas/alpha/elf-reloc-1.d: Likewise.
	* gas/i386/mixed-mode-reloc64.d: Likewise.
	* gas/i386/reloc64.d: Likewise.
	* gas/i386/ilp32/mixed-mode-reloc64.d: Expect addend as signed.
	* gas/i386/ilp32/reloc64.d: Likewise.
	* gas/ia64/pcrel.d: Likewise.
	* gas/mips/branch-misc-2-64.d: Likewise.
	* gas/mips/branch-misc-2pic-64.d: Likewise.
	* gas/mips/branch-misc-4-64.d: Likewise.
	* gas/mips/ldstla-n64-sym32.d: Likewise.
	* gas/mips/micromips@@branch-misc-2-64.d: Likewise.
	* gas/mips/micromips@@branch-misc-2pic-64.d: Likewise.
	* gas/mips/micromips@@branch-misc-4-64.d: Likewise.
	* gas/mips/mips16-hilo-n32.d: Likewise.
	* gas/ppc/astest.d: Likewise.
	* gas/ppc/astest2.d: Likewise.
	* gas/ppc/astest2_64.d: Likewise.
	* gas/ppc/astest64.d: Likewise.
	* gas/ppc/test1elf32.d: Likewise.
	* gas/ppc/test1elf64.d: Likewise.
	* gas/sparc/reloc64.d: Likewise.

2012-05-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/mips/elf-rel10.d: Updated.
	* gas/mips/elf-rel22.d: Likewise.
	* gas/mmix/comment-1.d: Likewise.

2012-05-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/ilp32/ilp32.exp: Don't run reloc64-inval.

	* gas/i386/ilp32/reloc64.s: Add test for -4294967295 addend.
	* gas/i386/ilp32/reloc64.d: Updated.

	* gas/i386/ilp32/reloc64-inval.l: Removed.
	* gas/i386/ilp32/reloc64-inval.s: Likewise.

2012-05-09  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/ilp32/ilp32.exp: Run reloc64-inval.

	* gas/i386/ilp32/reloc64.s: Add tests for ".quad".
	* gas/i386/ilp32/reloc64.d: Updated.

	* gas/i386/ilp32/reloc64-inval.l: New file.
	* gas/i386/ilp32/reloc64-inval.s: Likewise.

2012-05-08  Alan Modra  <amodra@@gmail.com>

	* lib/gas-defs.exp (run_dump_test): Don't set LC_ALL here.

2012-05-06  Arnold Metselaar  <arnold_m@@operamail.com>

	* gas/z80/jr-forwf.s: New file, adapted from z8k version.
	* gas/z80/jr-backf.s: Likewise.
	* gas/z80/djnz-backf.s: Likewise.
	* gas/z80/ill_op: New file, with illegal operand.
	* gas/z80/z80.exp: Run new tests.

2012-05-03  Sean Keys  <skeys@@ipdatasys.com>

	* gas/all/gas.exp: Added xgate tex entry.
	* gas/xgate/abi-xgate-16-32.d: Simple ABI flag test.
	* gas/xgate/abi-xgate-16-64.d: Ditto
	* gas/xgate/abi-xgate-32-32.d: Ditto
	* gas/xgate/abi-xgate-32-64.d: Ditto
	* gas/xgate/abi.s: Source file for ABI tests.
	* gas/xgate/all_insns.d: Dump file for all instructions test.
	* gas/xgate/all_insns.s: Source file for all instructions test.
	* gas/xgate/insns-dwarf2.d: Dump file for dwarf2 test.
	* gas/xgate/insns.d: Dump file for instructions test.
	* gas/xgate/insns.s: Source file for instructions test.
	* gas/xgate/xgate.exp: XGATE tests file.

2012-04-27  David S. Miller  <davem@@davemloft.net>

	* gas/sparc/sparc.exp: Run cfr test.
	* gas/sparc/cfr.s: New testcase.
	* gas/sparc/cfr.d: Likewise.

	* gas/sparc/sparc.exp: Run pause test.
	* gas/sparc/pause.s: New testcase.
	* gas/sparc/pause.d: Likewise.

	* gas/sparc/cbcond.s: New file.
	* gas/sparc/cbcond.d: New file.
	* gas/sparc/sparc.exp: Run cbcond test.

	* gas/sparc/crypto.s: New file.
	* gas/sparc/crypto.d: New file.
	* gas/sparc/sparc.exp: Run crypto test.

2012-04-12  David S. Miller  <davem@@davemloft.net>

	* gas/sparc/reloc64.s: Add abs34 code model tests.
	* gas/sparc/reloc64.d: Update.

2012-04-12  Roland McGrath  <mcgrathr@@google.com>

	* gas/elf/elf.exp (run_elf_list_test): Treat arm-*-nacl* targets
	as -armeabi.

	* gas/arm/any-idiv.d: Match *-*-nacl* targets too.
	* gas/arm/arch4t.d: Likewise.
	* gas/arm/arch4t-eabi.d: Likewise.
	* gas/arm/attr-any-armv4t.d: Likewise.
	* gas/arm/attr-any-thumbv6.d: Likewise.
	* gas/arm/attr-cpu-directive.d: Likewise.
	* gas/arm/attr-default.d: Likewise.
	* gas/arm/attr-march-all.d: Likewise.
	* gas/arm/attr-march-armv1.d: Likewise.
	* gas/arm/attr-march-armv2a.d: Likewise.
	* gas/arm/attr-march-armv2.d: Likewise.
	* gas/arm/attr-march-armv2s.d: Likewise.
	* gas/arm/attr-march-armv3.d: Likewise.
	* gas/arm/attr-march-armv3m.d: Likewise.
	* gas/arm/attr-march-armv4.d: Likewise.
	* gas/arm/attr-march-armv4t.d: Likewise.
	* gas/arm/attr-march-armv4txm.d: Likewise.
	* gas/arm/attr-march-armv4xm.d: Likewise.
	* gas/arm/attr-march-armv5.d: Likewise.
	* gas/arm/attr-march-armv5t.d: Likewise.
	* gas/arm/attr-march-armv5te.d: Likewise.
	* gas/arm/attr-march-armv5tej.d: Likewise.
	* gas/arm/attr-march-armv5texp.d: Likewise.
	* gas/arm/attr-march-armv5txm.d: Likewise.
	* gas/arm/attr-march-armv6.d: Likewise.
	* gas/arm/attr-march-armv6j.d: Likewise.
	* gas/arm/attr-march-armv6k.d: Likewise.
	* gas/arm/attr-march-armv6k+sec.d: Likewise.
	* gas/arm/attr-march-armv6kt2.d: Likewise.
	* gas/arm/attr-march-armv6-m.d: Likewise.
	* gas/arm/attr-march-armv6-m+os.d: Likewise.
	* gas/arm/attr-march-armv6s-m.d: Likewise.
	* gas/arm/attr-march-armv6t2.d: Likewise.
	* gas/arm/attr-march-armv6z.d: Likewise.
	* gas/arm/attr-march-armv6zk.d: Likewise.
	* gas/arm/attr-march-armv6zkt2.d: Likewise.
	* gas/arm/attr-march-armv6zt2.d: Likewise.
	* gas/arm/attr-march-armv7-a.d: Likewise.
	* gas/arm/attr-march-armv7a.d: Likewise.
	* gas/arm/attr-march-armv7-a+idiv.d: Likewise.
	* gas/arm/attr-march-armv7-a+mp.d: Likewise.
	* gas/arm/attr-march-armv7-a+sec.d: Likewise.
	* gas/arm/attr-march-armv7-a+sec+virt.d: Likewise.
	* gas/arm/attr-march-armv7-a+virt.d: Likewise.
	* gas/arm/attr-march-armv7.d: Likewise.
	* gas/arm/attr-march-armv7em.d: Likewise.
	* gas/arm/attr-march-armv7-m.d: Likewise.
	* gas/arm/attr-march-armv7m.d: Likewise.
	* gas/arm/attr-march-armv7-r.d: Likewise.
	* gas/arm/attr-march-armv7r.d: Likewise.
	* gas/arm/attr-march-armv7-r+mp.d: Likewise.
	* gas/arm/attr-march-iwmmxt2.d: Likewise.
	* gas/arm/attr-march-iwmmxt.d: Likewise.
	* gas/arm/attr-march-xscale.d: Likewise.
	* gas/arm/attr-mcpu.d: Likewise.
	* gas/arm/attr-mfpu-arm1020e.d: Likewise.
	* gas/arm/attr-mfpu-arm1020t.d: Likewise.
	* gas/arm/attr-mfpu-arm1136jf-s.d: Likewise.
	* gas/arm/attr-mfpu-arm1136jfs.d: Likewise.
	* gas/arm/attr-mfpu-arm7500fe.d: Likewise.
	* gas/arm/attr-mfpu-fpa10.d: Likewise.
	* gas/arm/attr-mfpu-fpa11.d: Likewise.
	* gas/arm/attr-mfpu-fpa.d: Likewise.
	* gas/arm/attr-mfpu-fpe2.d: Likewise.
	* gas/arm/attr-mfpu-fpe3.d: Likewise.
	* gas/arm/attr-mfpu-fpe.d: Likewise.
	* gas/arm/attr-mfpu-maverick.d: Likewise.
	* gas/arm/attr-mfpu-neon.d: Likewise.
	* gas/arm/attr-mfpu-neon-fp16.d: Likewise.
	* gas/arm/attr-mfpu-softfpa.d: Likewise.
	* gas/arm/attr-mfpu-softvfp.d: Likewise.
	* gas/arm/attr-mfpu-softvfp+vfp.d: Likewise.
	* gas/arm/attr-mfpu-vfp10.d: Likewise.
	* gas/arm/attr-mfpu-vfp10-r0.d: Likewise.
	* gas/arm/attr-mfpu-vfp3.d: Likewise.
	* gas/arm/attr-mfpu-vfp9.d: Likewise.
	* gas/arm/attr-mfpu-vfp.d: Likewise.
	* gas/arm/attr-mfpu-vfpv2.d: Likewise.
	* gas/arm/attr-mfpu-vfpv3-d16.d: Likewise.
	* gas/arm/attr-mfpu-vfpv3.d: Likewise.
	* gas/arm/attr-mfpu-vfpv4-d16.d: Likewise.
	* gas/arm/attr-mfpu-vfpv4.d: Likewise.
	* gas/arm/attr-mfpu-vfpxd.d: Likewise.
	* gas/arm/attr-names.d: Likewise.
	* gas/arm/attr-order.d: Likewise.
	* gas/arm/attr-override-cpu-directive.d: Likewise.
	* gas/arm/attr-override-mcpu.d: Likewise.
	* gas/arm/got_prel.d: Likewise.
	* gas/arm/mapdir.d: Likewise.
	* gas/arm/mapmisc.d: Likewise.
	* gas/arm/mapsecs.d: Likewise.
	* gas/arm/mapshort-eabi.d: Likewise.
	* gas/arm/mapshort-elf.d: Likewise.
	* gas/arm/mov-highregs-any.d: Likewise.
	* gas/arm/mov-lowregs-any.d: Likewise.
	* gas/arm/pr12198-1.d: Likewise.
	* gas/arm/pr12198-2.d: Likewise.
	* gas/arm/thumb.d: Likewise.
	* gas/arm/thumb-eabi.d: Likewise.
	* gas/arm/thumbrel.d: Likewise.

2012-04-12  Jie Zhang  <jie@@codesourcery.com>
	    Meador Inge  <meadori@@codesourcery.com>

	* gas/arm/push-pop.d: New testcase.
	* gas/arm/push-pop.s: Ditto.
	* gas/arm/stm-ldm.d: Ditto.
	* gas/arm/stm-ldm.s: Ditto.

2012-04-07  David S. Miller  <davem@@davemloft.net>

	* gas/all/gas.exp: Sparc can handle BFD_RELOC_8 for constants.

2012-04-03  Roland McGrath  <mcgrathr@@google.com>

	* gas/i386/k1om.d: Add not-target match for *-*-nacl*.
	* gas/i386/l1om.d: Likewise.

2012-04-02  DJ Delorie  <dj@@redhat.com>

	* gas/rx/mov.d: Update patterns for fixed MOV.W encoding.

2012-03-20  Nick Clifton  <nickc@@redhat.com>

	* gas/arm/vfp1xD.s: Add tests of the VMSR ad VMRS instructions in
	priviledged modes.
	* gas/arm/vfp1xD.d: Update expected output.

2012-03-16  Matthew Gretton-Dann  <matther.gretton-dann@@arm.com>

	* gas/testsuite/gas/arm/any-idiv.d: New testcase.
	* gas/testsuite/gas/arm/any-idiv.s: Likewise.
	* gas/arm/attr-any-armv4t.d: Update expected output.
	* gas/arm/attr-any-thumbv6.d: Likewise.
	* gas/arm/attr-cpu-directive.d: Likewise.
	* gas/arm/attr-default.d: Likewise.
	* gas/arm/attr-march-armv1.d: Likewise.
	* gas/arm/attr-march-armv2.d: Likewise.
	* gas/arm/attr-march-armv2a.d: Likewise.
	* gas/arm/attr-march-armv2s.d: Likewise.
	* gas/arm/attr-march-armv3.d: Likewise.
	* gas/arm/attr-march-armv3m.d: Likewise.
	* gas/arm/attr-march-armv4.d: Likewise.
	* gas/arm/attr-march-armv4t.d: Likewise.
	* gas/arm/attr-march-armv4txm.d: Likewise.
	* gas/arm/attr-march-armv4xm.d: Likewise.
	* gas/arm/attr-march-armv5.d: Likewise.
	* gas/arm/attr-march-armv5t.d: Likewise.
	* gas/arm/attr-march-armv5te.d: Likewise.
	* gas/arm/attr-march-armv5tej.d: Likewise.
	* gas/arm/attr-march-armv5texp.d: Likewise.
	* gas/arm/attr-march-armv5txm.d: Likewise.
	* gas/arm/attr-march-armv6-m+os.d: Likewise.
	* gas/arm/attr-march-armv6-m.d: Likewise.
	* gas/arm/attr-march-armv6.d: Likewise.
	* gas/arm/attr-march-armv6j.d: Likewise.
	* gas/arm/attr-march-armv6k+sec.d: Likewise.
	* gas/arm/attr-march-armv6k.d: Likewise.
	* gas/arm/attr-march-armv6kt2.d: Likewise.
	* gas/arm/attr-march-armv6s-m.d: Likewise.
	* gas/arm/attr-march-armv6t2.d: Likewise.
	* gas/arm/attr-march-armv6z.d: Likewise.
	* gas/arm/attr-march-armv6zk.d: Likewise.
	* gas/arm/attr-march-armv6zkt2.d: Likewise.
	* gas/arm/attr-march-armv6zt2.d: Likewise.
	* gas/arm/attr-march-armv7-a+mp.d: Likewise.
	* gas/arm/attr-march-armv7-a+sec.d: Likewise.
	* gas/arm/attr-march-armv7-a.d: Likewise.
	* gas/arm/attr-march-armv7.d: Likewise.
	* gas/arm/attr-march-armv7a.d: Likewise.
	* gas/arm/attr-march-iwmmxt.d: Likewise.
	* gas/arm/attr-march-iwmmxt2.d: Likewise.
	* gas/arm/attr-march-xscale.d: Likewise.
	* gas/arm/attr-mcpu.d: Likewise.
	* gas/arm/attr-mfpu-arm1020e.d: Likewise.
	* gas/arm/attr-mfpu-arm1020t.d: Likewise.
	* gas/arm/attr-mfpu-arm1136jf-s.d: Likewise.
	* gas/arm/attr-mfpu-arm1136jfs.d: Likewise.
	* gas/arm/attr-mfpu-arm7500fe.d: Likewise.
	* gas/arm/attr-mfpu-fpa.d: Likewise.
	* gas/arm/attr-mfpu-fpa10.d: Likewise.
	* gas/arm/attr-mfpu-fpa11.d: Likewise.
	* gas/arm/attr-mfpu-fpe.d: Likewise.
	* gas/arm/attr-mfpu-fpe2.d: Likewise.
	* gas/arm/attr-mfpu-fpe3.d: Likewise.
	* gas/arm/attr-mfpu-maverick.d: Likewise.
	* gas/arm/attr-mfpu-neon-fp16.d: Likewise.
	* gas/arm/attr-mfpu-neon.d: Likewise.
	* gas/arm/attr-mfpu-softfpa.d: Likewise.
	* gas/arm/attr-mfpu-softvfp+vfp.d: Likewise.
	* gas/arm/attr-mfpu-softvfp.d: Likewise.
	* gas/arm/attr-mfpu-vfp.d: Likewise.
	* gas/arm/attr-mfpu-vfp10-r0.d: Likewise.
	* gas/arm/attr-mfpu-vfp10.d: Likewise.
	* gas/arm/attr-mfpu-vfp3.d: Likewise.
	* gas/arm/attr-mfpu-vfp9.d: Likewise.
	* gas/arm/attr-mfpu-vfpv2.d: Likewise.
	* gas/arm/attr-mfpu-vfpv3-d16.d: Likewise.
	* gas/arm/attr-mfpu-vfpv3.d: Likewise.
	* gas/arm/attr-mfpu-vfpv4-d16.d: Likewise.
	* gas/arm/attr-mfpu-vfpv4.d: Likewise.
	* gas/arm/attr-mfpu-vfpxd.d: Likewise.
	* gas/arm/attr-order.d: Likewise.
	* gas/arm/attr-override-cpu-directive.d: Likewise.
	* gas/arm/attr-override-mcpu.d: Likewise.
	* gas/arm/eabi_attr_1.d: Likewise.
	* gas/arm/mov-highregs-any.d: Likewise.
	* gas/arm/mov-lowregs-any.d: Likewise.
	* gas/arm/pr12198-1.d: Likewise.
	* gas/arm/pr12198-2.d: Likewise.

2012-03-15  Alan Modra  <amodra@@gmail.com>

	* gas/i386/bundle-lock.d: Ignore trailing nops.
	* gas/i386/bundle.d: Likewise.
	* gas/i386/x86-64-bundle.d: Likewise.

2012-03-13  Roland McGrath  <mcgrathr@@google.com>

	* gas/i386/bundle-bad.s: New file.
	* gas/i386/bundle-bad.d: New file.
	* gas/i386/bundle-bad.l: New file.
	* gas/i386/i386.exp: Run it.

	* gas/arm/bundle.s: New file.
	* gas/arm/bundle.d: New file.
	* gas/arm/bundle-lock.s: New file.
	* gas/arm/bundle-lock.d: New file.

	* gas/i386/bundle.s: New file.
	* gas/i386/bundle.d: New file.
	* gas/i386/x86-64-bundle.s: New file.
	* gas/i386/x86-64-bundle.d: New file.
	* gas/i386/bundle-lock.s: New file.
	* gas/i386/bundle-lock.d: New file.
	* gas/i386/i386.exp: Run them.

2012-03-10  Edmar Wienskoski  <edmar@@freescale.com>

	* gas/ppc/e500mc64_nop.s: New test case for e500mc family
	termination nops.
	* gas/ppc/e500mc64_nop.d: Likewise.
	* gas/ppc/e5500_nop.s: Likewise.
	* gas/ppc/e5500_nop.d: Likewise.
	* gas/ppc/e6500_nop.s: Likewise.
	* gas/ppc/e6500_nop.d: Likewise.
	* gas/ppc/e6500.s: New.
	* gas/ppc/e6500.d: Likewise.
	* gas/ppc/ppc.exp: Run e6500, e500mc64_nop, e5500_nop, and e6500_nop.

2012-03-08  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* gas/s390/esa-g5.d: Move length field to the second operand.
	* gas/s390/esa-g5.s: Likewise.

2012-02-14  Alan Modra  <amodra@@gmail.com>

	* gas/elf/bad-group.s: Add section attributes.
	* gas/elf/elf.exp (groupautoa, groupautob): Don't run for hppa64-hpux.
	(ifunc-1, type): Don't run for hpux.
	* gas/elf/type-noifunc.e: Accept ANSI_COM.
	* gas/elf/section7.s: Always have whitespace before directives.
	* gas/elf/warn-2.s: Likewise.
	* gas/i386/ifunc-3.s: Move .size directive.

2012-02-13  Alan Modra  <amodra@@gmail.com>

	* gas/all/gas.exp (redef2): xfail m6811 and m6812.
	* gas/elf/elf.exp: Use is_elf_format.
	* gas/symver/symver.exp: Likewise.
	* gas/m68hc11/m68hc11.exp: Simplify target test.
	Add -m68hc11 to error tests that pass for hc12.

2012-02-11  Kai Tietz  <ktietz@@redhat.com>

	* gas/i386/disp32.d: Adjust label pattern.

2012-02-08  Kai Tietz  <ktietz@@redhat.com>

	* gas/i386/x86-64-disp32.d: Fix lable-pattern.

2012-02-08  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/hle-intel.d: New.
	* gas/i386/hle.d: Likewise.
	* gas/i386/hle.s: Likewise.
	* gas/i386/hlebad.l: Likewise.
	* gas/i386/hlebad.s: Likewise.
	* gas/i386/rtm-intel.d: Likewise.
	* gas/i386/rtm.d: Likewise.
	* gas/i386/rtm.s: Likewise.
	* gas/i386/x86-64-hle-intel.d: Likewise.
	* gas/i386/x86-64-hle.d: Likewise.
	* gas/i386/x86-64-hle.s: Likewise.
	* gas/i386/x86-64-hlebad.l: Likewise.
	* gas/i386/x86-64-hlebad.s: Likewise.
	* gas/i386/x86-64-rtm-intel.d: Likewise.
	* gas/i386/x86-64-rtm.d: Likewise.
	* gas/i386/x86-64-rtm.s: Likewise.

	* gas/i386/i386.exp: Run hle, hle-intel, hlebad x86-64-hle, rtm,
	rtm-intel, x86-64-hle-intel, x86-64-hlebad, x86-64-rtm and
	x86-64-rtm-intel.

2012-01-20  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/disp32.s: Add tests for .d8 suffix.
	* gas/i386/x86-64-disp32.s: Likewise.

	* gas/i386/disp32.d: Updated.
	* gas/i386/x86-64-disp32.d: Likewise.

2012-01-17  Andreas Schwab  <schwab@@linux-m68k.org>

	* gas/m68k/pmove.s, gas/m68k/pmove.d: New test.
	* gas/m68k/all.exp: Run it.

2012-01-13  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run vmfunc and x86-64-vmfunc.

	* gas/i386/vmfunc.d: New.
	* gas/i386/vmfunc.s: Likewise.
	* gas/i386/x86-64-vmfunc.d: Likewise.

2012-01-13  Iain Sandoe  <idsandoe@@googlemail.com>

	* gas/all/redef2.d: Skip for Darwin.
	* gas/all/redef3.d: Likewise.
	* gas/all/weakref1.d: Likewise.
	* gas/macros/irp.d: Likewise.
	* gas/macros/repeat.d: Likewise.
	* gas/macros/rept.d: Likewise.
	* gas/macros/test2.d: Likewise.
	* gas/macros/vararg.d: Likewise.
	* gas/mach-o/macro-irp.d: New.
	* gas/mach-o/macro-repeat.d: New.
	* gas/mach-o/macro-rept.d: New.
	* gas/mach-o/macro-test2.d: New.
	* gas/mach-o/macro-vararg.d: New.
	* gas/mach-o/redef2.d: New.
	* gas/mach-o/redef3.d: New.

2012-01-13  Iain Sandoe  <idsandoe@@googlemail.com>

	* gas/mach-o/dysymtab-3.d: New.
	* gas/mach-o/symbols-7.s: New.

2012-01-13  Iain Sandoe  <idsandoe@@googlemail.com>

	* gas/mach-o/dysymtab-2.d: Update to include the set VMA.
	* gas/mach-o/symbols-1-64.d: Likewise.
	* gas/mach-o/symbols-1.d: Likewise.
	* gas/mach-o/symbols-6.d: Likewise.
	* gas/mach-o/zerofill-1.d: Likewise.
	* gas/mach-o/zerofill-2.d: Likewise.

2012-01-12  Iain Sandoe  <idsandoe@@googlemail.com>

	* gas/mach-o/dysymtab-2.d: New.
	* gas/mach-o/err-syms-4.s: New.
	* gas/mach-o/err-syms-5.s: New.
	* gas/mach-o/err-syms-6.s: New.
	* gas/mach-o/symbols-6-64.d: New.
	* gas/mach-o/symbols-6-64.s: New.
	* gas/mach-o/symbols-6.d: New.
	* gas/mach-o/symbols-6.s: New.

2012-01-09  Iain Sandoe  <idsandoe@@googlemail.com>

	* gas/mach-o/err-syms-1.s: New.
	* gas/mach-o/err-syms-2.s: New.
	* gas/mach-o/err-syms-3.s: New.
	* gas/mach-o/symbols-2.d: New.
	* gas/mach-o/symbols-2.s: New.
	* gas/mach-o/symbols-3.s: New.
	* gas/mach-o/symbols-4.s: New.
	* gas/mach-o/symbols-5.d: New.
	* gas/mach-o/symbols-5.s: New.

2012-01-08  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/tls-relw.s, gas/mips/tls-relw.d: New test.
	* gas/mips/mips.exp: Run it.

2012-01-08  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/align3.s, gas/mips/align3.d: New testcase.
	* gas/mips/mips.exp: Run it.

2012-01-04  Iain Sandoe  <idsandoe@@googlemail.com>

	* gas/mach-o/zerofill-2.d: New.

2012-01-04  Iain Sandoe  <idsandoe@@googlemail.com>

	* gas/mach-o/zerofill-1.d: New.
	* gas/mach-o/zerofill-1.s: New.

2012-01-03  Iain Sandoe  <idsandoe@@googlemail.com>

	* gas/mach-o/dysymtab-1-64.d: New.
	* gas/mach-o/dysymtab-1.d: New.
	* gas/mach-o/symbols-1-64.d: New.
	* gas/mach-o/symbols-1.d: New.
	* gas/mach-o/symbols-base-64.s: New.
	* gas/mach-o/symbols-base.s: New.

For older changes see ChangeLog-2011
d9 1
a9 1
Copyright (C) 2012 Free Software Foundation, Inc.
@


1.2160
log
@2012-12-20  Greta Yorsh  <Greta.Yorsh@@arm.com>

	* config/tc-arm.c (rfefa,rfeea,rfeed): Fix encoding.
	(rfe,srs,srsea,srsfa,srsed,srsfd): Add missing mnemonics.

	* gas/arm/srs-t2.s: Add tests for missing srs modes.
	* gas/arm/srs-t2.l: Update expected output.
	* gas/arm/srs-arm.s: Add tests for missing srs modes.
	* gas/arm/srs-arm.l: Update expected output.
	* gas/arm/archv6.s: Add tests for missing rfe modes.
	* gas/arm/archv6.d: Update expected output.
@
text
@d1 1
a1 1
2012-12-19  Greta Yorsh  <Greta.Yorsh@@arm.com>
@


1.2159
log
@PR ld/14736
bfd:
	* elf32-microblaze.c (calc_fixup): Add end range.
gas/testsuite:
	* gas/microblaze/relax_size.exp: New file - test object size after linker
	relaxation
	* gas/microblaze/relax_size.s: Likewise
	* gas/microblaze/relax_size.elf: Likewise
	* gas/microblaze/relax_size2.s: Likewise
	* gas/microblaze/relax_size2.elf: Likewise
@
text
@d1 9
d12 6
a17 6
	* gas/microblaze/relax_size.exp: New file - test object size after linker 
	relaxation
	* gas/microblaze/relax_size.s: Likewise
	* gas/microblaze/relax_size.elf: Likewise
	* gas/microblaze/relax_size2.s: Likewise
	* gas/microblaze/relax_size2.elf: Likewise
@


1.2158
log
@Add copyright notices
@
text
@d1 9
@


1.2157
log
@Add copyright notices
@
text
@d1 106
@


1.2156
log
@gas/

2012-12-06  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* config/tc-aarch64.c (exp_has_bignum_p): Remove.
	(my_get_expression): Not get rid of bignums.
	(s_ltorg): Increase the range of 'align'.
	(programmer_friendly_fixup): Allow bignum expression.

gas/testsuite/

2012-12-06  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* gas/aarch64/illegal.s: Add test for unaccepted LDR literal.
	* gas/aarch64/illegal.l: Update.
	* gas/aarch64/programmer-friendly.s: Add tests for LDR literal with
	the auto-generation of literal in pool.
	* gas/aarch64/programmer-friendly.d: Update.
@
text
@d1662 6
@


1.2155
log
@    gas/
    * config/tc-arm.c (md_apply_fix): Fix conversion of BL to BLX for
    local targets in Thumb mode.

    gas/testsuite/
    * gas/arm/bl-local-2.s: New test.
    * gas/arm/bl-local-2.d: New.
@
text
@d1 8
@


1.2154
log
@binutils/testsuite/
	* lib/binutils-common.exp (is_zlib_supported): New function.
	* lib/utils-lib.exp (run_dump_test): If as options include
	--compress-debug-sections and zlib is not available, report
	the test as unsupported.
	* binutils-all/compress.exp: Bail out if zlib is not available.
	* binutils-all/objdump.exp (objdump compressed debug):
	Mark unsupported if zlib is not available.
	* binutils-all/readelf.exp (readelf_compressed_wa_test): Likewise.

gas/testsuite/
	* lib/gas-defs.exp (run_dump_test): If as options include
	--compress-debug-sections and zlib is not available, report
	the test as unsupported.

ld/testsuite/
	* ld-elf/compress.exp: Bail out if zlib is not supported.
	* lib/ld-lib.exp (run_dump_test): If as options include
	--compress-debug-sections and zlib is not available, report
	the test as unsupported.
@
text
@d1 5
@


1.2153
log
@include/opcode/
	* ppc.h (ppc_parse_cpu): Update prototype.
opcodes/
	* ppc-dis.c (ppc_parse_cpu): Add "sticky" param.  Track bits
	set from ppc_opts.sticky in it.  Delete "retain_mask".
	(powerpc_init_dialect): Choose default dialect from info->mach
	before parsing -M options.  Handle more bfd_mach_ppc variants.
	Update common default to power7.
gas/
	* config/tc-ppc.c (sticky): New var.
	(md_parse_option, ppc_machine): Update ppc_parse_cpu calls.
gas/testsuite/
	* gas/ppc/astest2.d: Pass -Mppc to objdump.
ld/testsuite/
	* ld-powerpc/plt1.d: Update for default "at" branch hints.
	* ld-powerpc/tlsexe.d: Likewise.
	* ld-powerpc/tlsexetoc.d: Likewise.
	* ld-powerpc/tlsopt1.d: Likewise.
	* ld-powerpc/tlsopt1_32.d: Likewise.
	* ld-powerpc/tlsopt2.d: Likewise.
	* ld-powerpc/tlsopt2_32.d: Likewise.
	* ld-powerpc/tlsopt4.d: Likewise.
	* ld-powerpc/tlsopt4_32.d: Likewise.
	* ld-powerpc/tlsso.d: Likewise.
	* ld-powerpc/tlstocso.d: Likewise.
@
text
@d1 6
@


1.2152
log
@

Add swap byte (swapb) and swap halfword (swaph) opcodes.

binutils/opcodes
          * microblaze-opc.h (op_code_struct): Add swapb, swaph Increase MAX_OPCODES.
          * microblaze-opcm.h (microblaze_instr): Likewise
binutils/gas/testsuite
          * gas/microblaze/allinsn.s: Add swapb, swaph
          * gas/microblaze/allinsn.d: Likewise
@
text
@d1 4
@


1.2151
log
@
Add stack high register and stack low register for MicroBlaze
hardware assisted stack protection, stores stack low / stack high limits
for detecting stack overflow / underflow

binutils/opcodes
          * microblaze-opcm.h: Add REG_SLR_MASK, REG_SHR_MASK, REG_SHR and REG_SLR
          * microblaze-dis.c (get_field_special): Handle REG_SLR_MASK and REG_SHR_MASK
binutils/gas
          * config/tc-microblaze.c (parse_reg): Parse REG_SLR, REG_SHR
binutils/gas
          * gas/microblaze/allinsn.s: Test use of SHR, SLR
          * gas/microblaze/allinsn.d: Likewise
@
text
@d3 5
@


1.2150
log
@gas/
	* config/tc-arm.c (arm_symbol_chars): New variable.
	* config/tc-arm.h (tc_symbol_chars): New macro, defined to that.

gas/testsuite/
	* gas/arm/macro-pld.s: New file.
	* gas/arm/macro-pld.d: New file.
@
text
@d1 5
@


1.2149
log
@2012-11-20  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* s390-opc.txt: Fix srstu and strag opcodes.

2012-11-20  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* gas/s390/zarch-z9-109.d: Fix srstu opcode.
	* gas/s390/zarch-z900.d: Replace lasp with strag.
@
text
@d6 5
@


1.2148
log
@opcodes/
	* microblaze-opc.h: Define new instruction type INST_TYPE_IMM5,
	update OPCODE_MASK_H13S, add OPCODE_MASK_HN, define MIN_IMM5 / MAX_IMM5,
	and increase MAX_OPCODES.
	(op_code_struct):  add mbar and sleep
	* microblaze-opcm.h (microblaze_instr): add mbar
	Define IMM_MBAR and IMM5_MBAR_MASK
	* microblaze-dis.c: Add get_field_imm5_mbar
	(print_insn_microblaze): Add support for INST_TYPE_IMM5 and INST_TYPE_NONE

gas/
	* config/tc-microblaze.c (md_assemble): Add support for INST_TYPE_IMM5

gas/testsuite/
	* gas/microblaze/allinsn.s: Add mbar and sleep
	* gas/microblaze/allinsn.d: Likewise
@
text
@d1 5
@


1.2147
log
@Add clz opcode.

opcodes/
	* microblaze-opc.h: Increase MAX_OPCODES (op_code_struct):  add clz insn
	* microblaze-opcm.h (microblaze_instr): add clz

gas/testsuite/
	* gas/microblaze/allinsn.s: Add clz insn
	* gas/microblaze/allinsn.d: Likewise
@
text
@d1 6
a6 1
2012-11-08  David Holsgrove  <david.holsgrove@@xilinx.com>
@


1.2146
log
@Add the endian reversing versions of load/store instructions;

2012-11-14  Edgar E. Iglesias <edgar.iglesias@@gmail.com>

	* microblaze-opc.h: Increase MAX_OPCODES (op_code_struct):  add lbur,
	lhur, lwr, sbr, shr, swr
	* microblaze-opcm.h (microblaze_instr): add lbur, lhur, lwr, sbr, shr,
	swr

2012-11-14  David Holsgrove  <david.holsgrove@@xilinx.com>

	* gas/microblaze/allinsn.exp: New file - test newly added opcodes
	* gas/microblaze/allinsn.s: Likewise
	* gas/microblaze/allinsn.d: Likewise
@
text
@d1 5
@


1.2145
log
@gas/ChangeLog:

	* config/tc-ppc.c (md_apply_fix): Leave field zero when emitting
	an ELF reloc on data as well.

gas/testsuite/ChangeLog:

	* gas/ppc/astest.d: Update for fixup changes.
	* gas/ppc/astest64.d: Likewise.
	* gas/ppc/astest2.d: Likewise.
	* gas/ppc/astest2_64.d: Likewise.
	* gas/ppc/test1elf32.d: Likewise.
	* gas/ppc/test1elf64.d: Likewise.
@
text
@d1 6
@


1.2144
log
@Add microblazeel target support to bfd, gas and ld.

binutils/bfd/Changelog

 2012-11-09  Edgar E. Iglesias <edgar.iglesias@@gmail.com>

          * config.bfd: Add microblazeel-*-*
          * configure.in: Likewise.
          * configure: Regenerate.
          * elf32-microblaze.c (microblaze_elf_relocate_section):
            Add endian awareness.
            (microblaze_elf_merge_private_bfd_data): New.
            (microblaze_bfd_write_imm_value_32): New.
            (microblaze_bfd_write_imm_value_64): New.
            (microblaze_elf_relax_section): Add endian awareness.
            (microblaze_elf_add_symbol_hook): Define TARGET_LITTLE_NAME,
            TARGET_LITTLE_SYM and bfd_elf32_bfd_merge_private_bfd_data.
          * targets.c: Add bfd target bfd_elf32_microblazeel_vec.

binutils/gas/Changelog

 2012-11-09  Edgar E. Iglesias <edgar.iglesias@@gmail.com>

          * tc-microblaze.c (md_longopts): Define OPTION_EB and
            OPTION_EL for target.
            (md_parse_option): Likewise.
          * tc-microblaze.h: Set elf32-microblazeel if not
            target_big_endian for TARGET_FORMAT.
          * configure.tgt: Add microblazeel and set endian per target.

binutils/gas/testsuite/Changelog

 2012-11-09  David Holsgrove  <david.holsgrove@@xilinx.com>

          * gas/microblaze/endian.exp: New file - endian
            testcase for microblaze / microblazeel.
          * gas/microblaze/endian.s: Likewise.
          * gas/microblaze/endian_be.d: Likewise.
          * gas/microblaze/endian_le.d: Likewise.
          * gas/microblaze/endian_le_elf.d: Likewise.
          * gas/microblaze/reloc_sym.d: Update to accept targets
            other than elf32-microblaze.
          * gas/microblaze/special_reg.d: Likewise.

binutils/ld/Changelog

 2012-11-09  Edgar E. Iglesias <edgar.iglesias@@gmail.com>

          * Makefile.am: Add eelf32microblazeel.c and eelf32mbel_linux.c.
          * Makefile.in: Regenerated.
          * configure.tgt: Add microblazeel and set endian per target.
          * emulparams/elf32mb_linux.sh: Add OUTPUT_FORMAT.
          * emulparams/elf32microblaze.sh: Likewise.
          * emulparams/elf32mbel_linux.sh: New file.
          * emulparams/elf32microblazeel.sh: Likewise.
@
text
@d1 9
@


1.2143
log
@	gas/
	* config/tc-mips.c (mips_ip) <'u'>: Default to BFD_RELOC_LO16.

	gas/testsuite/
	* gas/mips/lui.d: New test.
	* gas/mips/micromips@@lui.d: New test.
	* gas/mips/lui-1.l: New list test.
	* gas/mips/lui-2.l: New list test.
	* gas/mips/lui.s: New test source.
	* gas/mips/lui-1.s: New test source.
	* gas/mips/lui-2.s: New test source.
	* gas/mips/mips.exp: Run the new tests.
@
text
@d1 10
@


1.2142
log
@2012-11-07  David Holsgrove  <david.holsgrove@@xilinx.com>

	* config/tc-microblaze.c: Remove special register condition check
	for INST_TYPE_RFSL related instructions.

2012-11-07  David Holsgrove  <david.holsgrove@@xilinx.com>

	* testsuite/gas/microblaze/special_reg.exp: Add test case.
	* testsuite/gas/microblaze/special_reg.s: Likewise.
	* testsuite/gas/microblaze/special_reg.d: Likewise.
@
text
@d1 11
@


1.2141
log
@	gas/
	* config/tc-mips.c (append_insn): Set fx_no_overflow for 16-bit
	microMIPS branch relocations.

	gas/testsuite/
	* gas/mips/micromips-b16.d: New test.
	* gas/mips/micromips-b16.s: New test source.
	* gas/mips/mips.exp: Run the new test.
@
text
@d1 6
@


1.2140
log
@	gas/
	* config/tc-mips.c (is_delay_slot_valid): Don't accept macros
	in 16-bit delay slots.
	(macro_build_jalr): Emit 32-bit JALR if placed in a 32-bit delay
	slot.
	(macro) <M_JAL_2>: Likewise

	gas/testsuite/
	* gas/mips/micromips-branch-delay.l: Update messages for 16-bit
	delay slot changes.
	* gas/mips/micromips-warn-branch-delay.d: New test.
	* gas/mips/micromips-warn-branch-delay.l: Stderr output for the
	new test.
	* gas/mips/micromips-warn-branch-delay-1.d: New test.
	* gas/mips/micromips-warn-branch-delay.s: New test source.
	* gas/mips/micromips-warn-branch-delay-1.s: New test source.
	* gas/mips/mips.exp: Run the new tests.
@
text
@d2 6
@


1.2139
log
@
2012-10-31  David Holsgrove  <david.holsgrove@@xilinx.com>

	* config/tc-microblaze.c: Check for weak symbols before
	emitting relocation.

2012-10-31  David Holsgrove  <david.holsgrove@@xilinx.com>

	* gas/microblaze: New.
	* gas/microblaze/reloc_sym.exp: Add test case.
	* gas/microblaze/reloc_strongsym.s: Likewise.
	* gas/microblaze/reloc_weaksym.s: Likewise.
	* gas/microblaze/reloc_sym.d: Likewise.
@
text
@d1 13
@


1.2138
log
@	* gas/cfi/cfi.exp: Remove redundant ppc test.  Exclude
	powerpc-pe targets from cfi-common-6 test.
	* gas/cfi/cfi-ppc-1.d: Use objdump to handle pe.
	* gas/cfi/cfi-ppc-1.s: Don't use .type and .size.
	* gas/ppc/ppc.exp: Exclude various tests for powerpc-pe.  Exclude
	vle tests for le targets.
	* gas/ppc/476.d, * gas/ppc/476.s: Update for le output.  Use .text
	rather than section directive with quotes.
	* gas/ppc/a2.d,	* gas/ppc/a2.s: Likewise.
	* gas/ppc/altivec.d, * gas/ppc/altivec.s: Likewise.
	* gas/ppc/altivec2.d: Likewise.
	* gas/ppc/altivec_and_spe.d: Likewise.
	* gas/ppc/astest.d: Likewise.
	* gas/ppc/astest2.d: Likewise.
	* gas/ppc/astest2_64.d: Likewise.
	* gas/ppc/astest64.d: Likewise.
	* gas/ppc/booke.d, * gas/ppc/booke.s: Likewise.
	* gas/ppc/cell.d, * gas/ppc/cell.s: Likewise.
	* gas/ppc/common.d, * gas/ppc/common.s: Likewise.
	* gas/ppc/e500.d, * gas/ppc/e500.s: Likewise.
	* gas/ppc/e500mc.d, * gas/ppc/e500mc.s: Likewise.
	* gas/ppc/e500mc64_nop.d, * gas/ppc/e500mc64_nop.s: Likewise.
	* gas/ppc/e5500_nop.d, * gas/ppc/e5500_nop.s: Likewise.
	* gas/ppc/e6500.d, * gas/ppc/e6500.s: Likewise.
	* gas/ppc/e6500_nop.d, * gas/ppc/e6500_nop.s: Likewise.
	* gas/ppc/machine.d: Likewise.
	* gas/ppc/power4.d, * gas/ppc/power4.s: Likewise.
	* gas/ppc/power4_32.d, * gas/ppc/power4_32.s: Likewise.
	* gas/ppc/power6.d, * gas/ppc/power6.s: Likewise.
	* gas/ppc/power7.d, * gas/ppc/power7.s: Likewise.
	* gas/ppc/ppc750ps.d, * gas/ppc/ppc750ps.s: Likewise.
	* gas/ppc/regnames.d: Likewise.
	* gas/ppc/simpshft.d: Likewise.
	* gas/ppc/test1elf32.d: Likewise.
	* gas/ppc/test1elf64.d: Likewise.
	* gas/ppc/titan.d, * gas/ppc/titan.s: Likewise.
	* gas/ppc/vle-reloc.s: Likewise.
	* gas/ppc/vle-simple-1.s: Likewise.
	* gas/ppc/vle-simple-2.s: Likewise.
	* gas/ppc/vle-simple-3.s: Likewise.
	* gas/ppc/vle-simple-4.s: Likewise.
	* gas/ppc/vle-simple-5.s: Likewise.
	* gas/ppc/vle-simple-6.s: Likewise.
	* gas/ppc/vle.s: Likewise.
	* gas/ppc/vsx.d, * gas/ppc/vsx.s: Likewise.
@
text
@d1 8
@


1.2137
log
@gas/testsuite:
2012-10-27  James Lemke  <jwlemke@@codesourcery.com>

	* gas/m68k/all.exp: Exclude pr11676 for fido-*-*.
@
text
@d1 48
@


1.2136
log
@2012-10-26  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* s390-mkopc.c: Accept empty lines in s390-opc.txt.
	* s390-opc.c: Add M_20OPT field. New instruction formats RRF_RURR2 and RRF_RMRR.
	* s390-opc.txt: Add new instructions.  New instruction type for lptea.

2012-10-26  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* gas/testsuite/gas/s390/zarch-z10.d: Refreshed.
	* gas/testsuite/gas/s390/zarch-z10.s: Refreshed.
	* gas/testsuite/gas/s390/zarch-z196.d: Refreshed.
	* gas/testsuite/gas/s390/zarch-z196.s: Refreshed.
	* gas/testsuite/gas/s390/zarch-z9-109.d: Refreshed.
	* gas/testsuite/gas/s390/zarch-z990.d: Refreshed.
	* gas/testsuite/gas/s390/zarch-z990.s: Refreshed.
	* gas/testsuite/gas/s390/zarch-zEC12.d: Refreshed.
	* gas/testsuite/gas/s390/zarch-zEC12.s: Refreshed.
@
text
@d1 4
@


1.2135
log
@gas/testsuite:

        * gas/z8k/z8k.exp: Run translate-ops test.
        * gas/z8k/translate-ops.s: New file.
        * gas/z8k/translate-ops.d: New file.

opcodes:

        * z8kgen.c (struct op): Fix encoding for translate opcodes (trdb,
        trdrb, trib, trirb, trtdb, trtdrb, trtib, trtirb).  Remove
        non-existing opcode trtrb.
        * z8k-opc.h: Regenerate.
@
text
@d1 12
@


1.2134
log
@	* gas/ppc/power4.s: Fix invalid lq offsets.
	* gas/ppc/power4.d: Update.
@
text
@d1 6
@


1.2133
log
@gas/testsuite/
	* gas/i386/rex.s: Add test of REX prefix before fsave (i.e. fwait).
	* gas/i386/rex.d: Update.

opcodes/
	* i386-dis.c (ckprefix): When bailing out for fwait with prefixes,
	set rex_used to rex.
@
text
@d1 5
@


1.2132
log
@opcodes/
	* ppc-opc.c (powerpc_opcodes) <vcfpsxws>: Fix opcode spelling.

gas/testsuite/
	* gas/ppc/altivec.s <vcfpsxws>: Fix opcode spelling.
@
text
@d1 5
@


1.2131
log
@Updated the system register table.

opcodes/

* aarch64-opc.c (aarch64_sys_regs): Add rmr_el1, rmr_el2 and
rmr_el3; remove daifset and daifclr.

gas/testsuite/

* gas/aarch64/sysreg-1.s: Add tests of rmr_el1, rmr_el2 and rmr_el3.
* gas/aarch64/sysreg-1.d: Update.
* gas/aarch64/illegal.s: Add tests of daifset and daifclr.
* gas/aarch64/illegal.d: Update.
@
text
@d1 4
@


1.2130
log
@Added the changelog for the previous commit.
@
text
@d3 7
@


1.2129
log
@	* gas/hppa/basic/fmemLRbug.s: Remove double load and store instructions
	which reference the right half of a floating point register.
	* gas/hppa/basic/basic.exp: Adjust expected results.
@
text
@d1 5
@


1.2128
log
@	* gas/hppa/basic/unit.s: Remove uxor instructions with unit condition
	involving a carry.
	* gas/hppa/basic/unit2.s: Likewise.
	* gas/hppa/basic/basic.exp: Adjusted expected.
@
text
@d1 6
@


1.2127
log
@2012-10-11  Kyrylo Tkachov  <kyrylo.tkachov@@arm.com>

	* arm-dis.c: Use preferred form of vrint instruction variants
	for disassembly.

2012-10-11  Kyrylo Tkachov  <kyrylo.tkachov@@arm.com>

	* gas/arm/armv8-a+fp.d: Use preferred form of vrint instruction
	variants for disassembly.
	* gas/arm/armv8-a+fp.s: Likewise.
	* gas/arm/armv8-a+simd.d: Likewise.
	* gas/arm/armv8-a+simd.s: Likewise.
@
text
@d1 7
@


1.2126
log
@2012-10-11  Kyrylo Tkachov  <kyrylo.tkachov@@arm.com>

	* config/tc-arm.c: Change condition code insertion for
	lds[hb] instructions from after the 2nd character to after the 3rd.
	(tCM): Remove macro.
	(TxCM): Likewise.
	(TxCM_): Likewise.
	(TCM): Likewise.

2012-10-11  Kyrylo Tkachov  <kyrylo.tkachov@@arm.com>

	* gas/arm/ldgesb-bad.d: New file.
	* gas/arm/ldgesb-bad.l: Likewise.
	* gas/arm/ldgesb-bad.s: Likewise.
	* gas/arm/ldgesh-bad.d: Likewise.
	* gas/arm/ldgesh-bad.l: Likewise.
	* gas/arm/ldgesh-bad.s: Likewise.
	* gas/arm/ldsgeb.d: Likewise.
	* gas/arm/ldsgeb.s: Likewise.
	* gas/arm/ldsgeb.l: Likewise.
	* gas/arm/ldsgeh.d: Likewise.
	* gas/arm/ldsgeh.s: Likewise.
	* gas/arm/ldsgeh.l: Likewise.
@
text
@d3 8
@


1.2125
log
@Add AMD bdver3 support.

gas/

	* config/tc-i386.c (cpu_arch): Add CPU_BDVER3_FLAGS.
	* doc/c-i386.texi: Add -march=bdver3 option.

gas/testsuite/

	* gas/i386/i386.exp: Run bdver3 test cases.
	* gas/i386/nops-1-bdver3.d: New.
	* gas/i386/arch-10-bdver3.d: New.
	* gas/i386/x86-64-nops-1-bdver3.d: New.
	* gas/i386/x86-64-arch-2-bdver3.d: New.

opcodes/

	* i386-gen.c (cpu_flag_init): Add CPU_BDVER3_FLAGS.
	* i386-init.h: Regenerated.
@
text
@d1 15
@


1.2124
log
@opcodes/
	* ppc-dis.c (ppc_opts) <altivec>: Use PPC_OPCODE_ALTIVEC2;
	* ppc-opc.c (VBA): New define.
	(powerpc_opcodes) <vcuxwfp, vcsxwfp, vcfpuxws, vcfpsxsw, vmr, vnot,
	mfppr, mfppr32, mtppr, mtppr32>: New extended mnemonics.

gas/testsuite/
	* gas/ppc/power7.d: Add tests for mfppr, mfppr32, mtppr and mtppr32.
	* gas/ppc/power7.s: Likewise.
	* gas/ppc/altivec.d: Add tests for all legacy Altivec instructions.
	* gas/ppc/altivec.s: Likewise.
	* gas/ppc/altivec2.d: New test file.
	* gas/ppc/altivec2.s: Likewise.
	* gas/ppc/ppc.exp: Run it.
@
text
@d1 8
@


1.2123
log
@	* v850-dis.c (disassemble): Place square parentheses around second
	register operand of clr1, not1, set1 and tst1 instructions.

	* config/tc-v850.c (v850_insert_operand): Use a static buffer for
	the error message.

	* gas/v850/v850e1.d: Fix expected disassembly of clr1, not1, set1
	and tst1 insns.
@
text
@d1 10
@


1.2122
log
@2012-10-04  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* gas/s390/zarch-zEC12.d: Fix branch preload instructions.
	* gas/s390/zarch-zEC12.s: Likewise.
@
text
@d1 5
@


1.2121
log
@2012-10-04  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* config/tc-s390.c (s390_parse_cpu): Add new option zEC12.
	* doc/as.texinfo: Document new option zEC12.
	* doc/c-s390.texi: Likewise.

2012-10-04  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* gas/s390/s390.exp: Run zEC12 tests.
	* gas/s390/zarch-zEC12.d: New file.
	* gas/s390/zarch-zEC12.s: New file.

2012-10-04  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* s390-mkopc.c: Support new option zEC12.
	* s390-opc.c: Add new instruction formats.
	* s390-opc.txt: Add new instructions for zEC12.

2012-10-04  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* s390.h (s390_opcode_cpu_val): Add S390_OPCODE_ZEC12.
@
text
@d3 5
@


1.2120
log
@Add missing Cpu flags in bd and bt cores

gas/testsuite/

2012-09-25  Saravanan Ekanathan <saravanan.ekanathan@@amd.com>

	* gas/i386/arch-10-bdver1.d: New file to test bdver1 core.
	* gas/i386/x86-64-arch-2-bdver1.d: Likewise.
	* gas/i386/i386.exp: Run bdver1 testcases.
	* gas/i386/arch-10-bdver2.d: Updated -march flags.
	* gas/i386/arch-10-btver1.d: Likewise.
	* gas/i386/arch-10-btver2.d: Likewise.
	* gas/i386/x86-64-arch-2-bdver2.d: Likewise.
	* gas/i386/x86-64-arch-2-btver1.d: Likewise.
	* gas/i386/x86-64-arch-2-btver2.d: Likewise.

opcodes/

2012-09-25  Saravanan Ekanathan <saravanan.ekanathan@@amd.com>

	* gas/i386/arch-10-bdver1.d: New file to test bdver1 core.
	* gas/i386/x86-64-arch-2-bdver1.d: Likewise.
	* gas/i386/i386.exp: Run bdver1 testcases.
	* gas/i386/arch-10-bdver2.d: Updated -march flags.
	* gas/i386/arch-10-btver1.d: Likewise.
	* gas/i386/arch-10-btver2.d: Likewise.
	* gas/i386/x86-64-arch-2-bdver2.d: Likewise.
	* gas/i386/x86-64-arch-2-btver1.d: Likewise.
	* gas/i386/x86-64-arch-2-btver2.d: Likewise.
@
text
@d1 6
@


1.2119
log
@gas/testsuite/
2012-09-23  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/hilo-diff-eb.d: New test.
	* gas/mips/hilo-diff-eb-n32.d: New test.
	* gas/mips/hilo-diff-eb-n64.d: New test.
	* gas/mips/hilo-diff-el.d: New test.
	* gas/mips/hilo-diff-el-n32.d: New test.
	* gas/mips/hilo-diff-el-n64.d: New test.
	* gas/mips/mips16@@hilo-diff-eb.d: New test.
	* gas/mips/mips16@@hilo-diff-eb-n32.d: New test.
	* gas/mips/mips16@@hilo-diff-eb-n64.d: New test.
	* gas/mips/mips16@@hilo-diff-el.d: New test.
	* gas/mips/mips16@@hilo-diff-el-n32.d: New test.
	* gas/mips/mips16@@hilo-diff-el-n64.d: New test.
	* gas/mips/micromips@@hilo-diff-eb.d: New test.
	* gas/mips/micromips@@hilo-diff-eb-n32.d: New test.
	* gas/mips/micromips@@hilo-diff-eb-n64.d: New test.
	* gas/mips/micromips@@hilo-diff-el.d: New test.
	* gas/mips/micromips@@hilo-diff-el-n32.d: New test.
	* gas/mips/micromips@@hilo-diff-el-n64.d: New test.
	* gas/mips/hilo-diff.s: New test source.
	* gas/mips/mips.exp: Run the new tests.
@
text
@d1 12
@


1.2118
log
@gas/
	* config/tc-mips.h (TC_FORCE_RELOCATION): Remove comment.
	* config/tc-mips.c (calculate_reloc): New function.
	(append_insn): Use it.  Do not resolve compound relocations here.
	(mips16_macro_build, mips16_ip): Use calculate_reloc.
	(mips16_immed_extend): New function, split out from...
	(mips16_immed): ...here.
	(mips_frob_file): Handle null symbols.
	(mips_force_relocation): Remove NEWABI handling.
	(read_reloc_insn, write_reloc_insn): New functions.
	(md_apply_fix): Report TLS relocations against constants.
	Use read_reloc_insn, calculate_reloc and write_reloc_insn.
	Report relocations against constants that can't be resolved
	at assembly time.

gas/testsuite/
	* gas/mips/elf-rel22.s, gas/mips/elf-rel22.d: Add more tests.
	* gas/mips/elf-rel29.s, gas/mips/elf-rel29.d,
	gas/mips/micromips@@elf-rel29.d, gas/mips/elf-rel30.s,
	gas/mips/elf-rel30.l: New tests.
	* gas/mips/mips.exp: Run them.
@
text
@d1 23
@


1.2117
log
@gas/
2012-09-23  Richard Sandiford  <rdsandiford@@googlemail.com>
	    Maciej W. Rozycki  <macro@@codesourcery.com>

	* config/tc-mips.h (mips_record_label): Delete.
	(mips_add_dot_label): Declare.
	(tc_new_dot_label): Use it.
	* config/tc-mips.c (mips_assembling_insn): New variable.
	(md_assemble): Call mips_mark_labels.  Set mips_assembling_insn
	while the main part of the function is executing.
	(mips_compressed_mark_label): New function, split out from...
	(mips_compressed_mark_labels): ...here.
	(append_insn): Don't call mips_mark_labels here.
	(mips_record_label): Make local.
	(mips_add_dot_label): New function.

gas/testsuite/
	* gas/mips/dot-1.s, gas/mips/dot-1.d, gas/mips/micromips@@dot-1.d,
	gas/mips/mips16@@dot-1.d: New test.
	* gas/mips/mips.exp: Run it.
@
text
@d3 8
@


1.2116
log
@Add x86-64-arch-2-1/x86-64-arch-2-2 tests

	* gas/i386/i386.exp: Run x86-64-arch-2-1 and x86-64-arch-2-2.

	* gas/i386/x86-64-arch-2-1.l: New file.
	* gas/i386/x86-64-arch-2-1.s: Likewise.
	* gas/i386/x86-64-arch-2-2.l: Likewise.
	* gas/i386/x86-64-arch-2-2.s: Likewise.
@
text
@d1 6
@


1.2115
log
@Replace CpuSSE3 with CpuCX16 for cmpxchg16b

gas/

	* config/tc-i386.c (cpu_arch): Add .cx16.
	* doc/c-i386.texi: Document .cx16.

gas/testsuite/

	* gas/i386/x86-64-arch-2.s: Add test for cmpxchg16b.
	* gas/i386/x86-64-arch-2.d: Update correspondingly.
	* gas/i386/x86-64-arch-2-bdver2.d: Likewise.
	* gas/i386/x86-64-arch-2-btver1.d: Likewise.
	* gas/i386/x86-64-arch-2-btver2.d: Likewise.
	* gas/i386/x86-64-arch-2-lzcnt.d: Likewise.
	* gas/i386/x86-64-arch-2-prefetchw.d: Likewise.
	* gas/i386/ilp32/x86-64-arch-2.d: Likewise.

opcodes/

	* i386-gen.c (cpu_flag_init): Add CpuCX16 to CPU_NOCONA_FLAGS,
	CPU_CORE_FLAGS, CPU_CORE2_FLAGS, CPU_COREI7_FLAGS,
	CPU_BDVER1_FLAGS, CPU_BDVER2_FLAGS, CPU_BTVER1_FLAGS,
	CPU_BTVER2_FLAGS.  Add CPU_CX16_FLAGS.
	(cpu_flags): Add CpuCX16.
	* i386-opc.h (CpuCX16): New.
	(i386_cpu_flags): Add cpucx16.
	* i386-opc.tbl: Replace CpuSSE3 with CpuCX16 for cmpxchg16b.
	* i386-tbl.h: Regenerate.
	* i386-init.h: Likewise.
@
text
@d1 9
@


1.2114
log
@2012-09-18  Kyrylo Tkachov  <kyrylo.tkachov@@arm.com>
opcodes:
	* arm-dis.c: Changed ldra and strl-form mnemonics
	to lda and stl-form.
gas:
	* config/tc-arm.c: Changed ldra and strl-form mnemonics
	to lda and stl-form for armv8.
gas/testsuite:
	* gas/arm/armv8-a-bad.l: Updated for changed mnemonics.
	* gas/arm/armv8-a-bad.s: Likewise.
	* gas/arm/armv8-a.d: Likewise.
	* gas/arm/armv8-a.s: Likewise.
	* gas/arm/inst.s: Added test for ldrt encoding compatibly with ldralt.
	* gas/arm/inst.d: Updated.
@
text
@d1 11
@


1.2113
log
@	opcodes/
	* micromips-opc.c (micromips_opcodes): Correct the encoding of
	the "swxc1" instruction.

	gas/testsuite/
	* gas/mips/micromips.d: Correct the disassembly of SWXC1.
	* gas/mips/micromips-trap.d: Likewise.
	* gas/mips/micromips@@24k-triple-stores-1.d: Likewise.
	* gas/mips/micromips@@mips4-fp.d: Likewise.
@
text
@d1 9
@


1.2112
log
@2012-09-17  Yufeng Zhang  <yufeng.zhang@@arm.com>

gas:
	* config/tc-aarch64.c (aarch64_archs): Rename 'armv8' to 'armv8-a'.

gas/testsuite:
	* gas/aarch64/crypto.d (#as): Update for v8->v8-A change.
	* gas/aarch64/int-insns.d (#as): Likewise.
	* gas/aarch64/legacy_reg_names.s (.arch): Likewise.
	* gas/aarch64/neon-not.s (.arch): Likewise.
	* gas/aarch64/neon-vfp-reglist-post.s (.arch): Likewise.
	* gas/aarch64/neon-vfp-reglist.s (.arch): Likewise.
@
text
@d1 7
@


1.2111
log
@2012-09-11  Chris Schlumberger-Socha  <chris.schlumberger-socha@@arm.com>

	bfd/

	* bfd-in2.h: Regenerated.
	* elf64-aarch64.c
	(elf64_aarch64_howto_table): Add R_AARCH64_GOT_LD_PREL19 reloc to HOWTO.
	(elf64_aarch64_reloc_map): Add reloc entry.
	(aarch64_resolve_relocation): Likewise.
	(bfd_elf_aarch64_put_addend): Likewise.
	(aarch64_reloc_got_type): Likewise.
	(elf64_aarch64_final_link_relocate): Likewise.
	(lf64_aarch64_check_relocs): Likewise.
	(elf64_aarch64_check_relocs): New case for R_AARCH64_ADR_PREL_LO21
	reloc.
	* libbfd.h: Regenerated.
	* reloc.c (R_AARCH64_GOT_LD_PREL19): New reloc.

	gas/

	* config/tc-aarch64.c
	(reloc_table): Add reloc to table entry.
	(parse_address_main): Add support for #:<reloc_op>:<symbol>.
	(parse_operands): Check for unused reloc.
	(md_apply_fix): New case for reloc.
	(aarch64_force_relocation): Likewise.

	gas/testsuite

	* gas/aarch64/reloc-insn.d
	(BFD_RELOC_AARCH64_GOT_LD_PREL19): Add expected asm for new reloc test.
	* gas/aarch64/reloc-insn.s
	(BFD_RELOC_AARCH64_GOT_LD_PREL19): Add test for reloc.

	include/

	* elf/aarch64.h (R_AARCH64_GOT_LD_PREL19): New reloc.

	ld/testsuite

	* ld-aarch64/aarch64-elf.exp: New reloc tests.
	* ld-aarch64/emit-relocs-309-low-bad.d: New file. Expected asm for test
	failure (lower bound overflow).
	* ld-aarch64/emit-relocs-309-low.d: New file. Expected asm for test
	success (lower bound).
	* ld-aarch64/emit-relocs-309-up-bad.d: New file. Expected asm for test
	failure (upper bound overflow).
	* ld-aarch64/emit-relocs-309-up.d: New file. Expected asm for test
	success (upper bound).
	* ld-aarch64/emit-relocs-309.s: New file. Asm for new reloc tests.
@
text
@d1 9
@


1.2110
log
@Add Intel Itanium Series 9500 support

bfd/

2012-09-04  Sergey A. Guriev <sergey.a.guriev@@intel.com>

	* cpu-ia64-opc.c (ins_cnt6a): New function.
	(ext_cnt6a): Ditto.
	(ins_strd5b): Ditto.
	(ext_strd5b): Ditto.
	(elf64_ia64_operands): Add new operand types.

gas/

2012-09-04  Sergey A. Guriev  <sergey.a.guriev@@intel.com>

	* config/tc-ia64.c (reg_symbol): Add a new register.
	(indirect_reg): Ditto.
	(pseudo_func): Add new symbolic constants.
	(operand_match): Add new operand types recognition.
	(operand_insn): Add new register recognition.
	(md_begin): Add new register definition.
	(specify_resource): Add new register recognition.

gas/testsuite/

2012-09-04  Sergey A. Guriev  <sergey.a.guriev@@intel.com>

	* gas/testsuite/gas/ia64/psn.d: New file.
	* gas/testsuite/gas/ia64/psn.s: New file.
	* gas/testsuite/gas/ia64/ia64.exp: Add new testcase.
	* gas/testsuite/gas/ia64/opc-i.d: Fixed failing tests.
	* gas/testsuite/gas/ia64/opc-m.d: Ditto.

include/opcode/

2012-09-04  Sergey A. Guriev <sergey.a.guriev@@intel.com>

	* ia64.h (ia64_opnd): Add new operand types.

opcodes/

2012-09-04  Sergey A. Guriev <sergey.a.guriev@@intel.com>

	* ia64-asmtab.h (completer_index): Extend bitfield to full uint.
	* ia64-gen.c: Promote completer index type to longlong.
	(irf_operand): Add new register recognition.
	(in_iclass_mov_x): Add an entry for the new mov_* instruction type.
	(lookup_specifier): Add new resource recognition.
	(insert_bit_table_ent): Relax abort condition according to the
	changed completer index type.
	(print_dis_table): Fix printf format for completer index.
	* ia64-ic.tbl: Add a new instruction class.
	* ia64-opc-i.c (ia64_opcodes_i): Define new I-instructions.
	* ia64-opc-m.c (ia64_opcodes_m): Define new M-instructions.
	* ia64-opc.h: Define short names for new operand types.
	* ia64-raw.tbl: Add new RAW resource for DAHR register.
	* ia64-waw.tbl: Add new WAW resource for DAHR register.
	* ia64-asmtab.c: Regenerate.
@
text
@d1 7
@


1.2109
log
@	PR gas/14521
	* gas/mmix/group-1.d, gas/mmix/group-1.s: New test.
@
text
@d1 8
@


1.2108
log
@Skip gas/elf/group0c.d for Solaris

	* gas/elf/group0c.d: Skip Solaris.
@
text
@d1 5
@


1.2107
log
@Properly check x32 support

	* gas/i386/ilp32/ilp32.exp (gas_64_check): Renamed to ...
	(gas_x32_check): This.  Check elf32-x86-64.
	Remove Solaris check.
	* gas/i386/ilp32/cfi/ilp32.exp: Likewise.
	* gas/i386/ilp32/elf/ilp32.exp: Likewise.
	* gas/i386/ilp32/lns/ilp32.exp: Likewise.
@
text
@d3 4
@


1.2106
log
@Skip x32 tests for Solaris

	* gas/i386/ilp32/ilp32.exp: Skip Solaris.
	* gas/i386/ilp32/cfi/ilp32.exp: Likewise.
	* gas/i386/ilp32/elf/ilp32.exp: Likewise.
	* gas/i386/ilp32/lns/ilp32.exp: Likewise.
@
text
@d3 9
@


1.2105
log
@	* gas/config/tc-arm.c (ARM_ENC_TAB): Add sha1h and sha2op entries.
	(do_sha1h): New function.
	(do_sha1su1): Likewise.
	(do_sha256su0): Likewise.
	(insns): Add 2 operand SHA instructions.
	* gas/testsuite/gas/arm/armv8-a+crypto.s: Update testcase.
	* gas/testsuite/gas/arm/armv8-a+crypto.d: Likewise.
	* opcodes/arm-dis.c (neon_opcodes): Add 2 operand sha instructions.
@
text
@d1 7
@


1.2104
log
@	* gas/config/tc-arm.c (NEON_ENC_TAB): Add sha3op entry.
	(do_crypto_3op_1): New function.
	(do_sha1c): Likewise.
	(do_sha1p): Likewise.
	(do_sha1m): Likewise.
	(do_sha1su0): Likewise.
	(do_sha256h): Likewise.
	(do_sha256h2): Likewise.
	(do_sha256su1): Likewise.
	(insns): Add SHA 3 operand instructions.
	* gas/testsuite/gas/arm/armv8-a+crypto.d: Update testcase.
	* gas/testsuite/gas/arm/armv8-a+crypto.s: Likewise.
	* opcodes/arm-dis.c (neon_opcodes): Add SHA 3-operand instructions.
@
text
@d3 5
@


1.2103
log
@	* gas/config/tc-arm.c (neon_type_mask): Add P64 type.
	(type_chk_of_el_type): Handle P64 type.
	(el_type_of_type_chk): Likewise.
	(do_neon_vmull): Handle VMULL.P64.
	* gas/testsuite/gas/arm/armv8-a+crypto.d: Update testcase.
	* gas/testsuite/gas/arm/armv8-a+crypto.s: Likewise.
	* opcodes/arm-dis.c (neon_opcodes): Handle VMULL.P64.
@
text
@d8 5
@


1.2102
log
@	* gas/config/tc-arm.c (NEON_ENC_TAB): Add aes entry.
	(neon_type_mask): Add N_UNT.
	(neon_check_type): Don't always decay typed to untyped sizes.
	(do_crypto_2op_1): New function.
	(do_aese): Likewise.
	(do_aesd): Likewise.
	(do_aesmc.8): Likewise.
	(do_aesimc.8): Likewise.
	(insns): Add AES instructions.
	* gas/testsuite/gas/arm/armv8-a+crypto.d: New testcase.
	* gas/testsuite/gas/arm/armv8-a+crypto.s: Likewise.
	* opcodes/arm-dis.c (neon_opcodes): Add support for AES instructions.
@
text
@d3 5
@


1.2101
log
@	* gas/config/tc-arm.c (el_type_type_check): Add handling for 16-bit
	floating point types.
	(do_neon_cvttb_2): New function.
	(do_neon_cvttb_1): Likewise.
	(do_neon_cvtb): Refactor to use do_neon_cvttb_1.
	(do_neon_cvtt): Likewise.
	* gas/testsuite/gas/arm/armv8-a+fp.d: Update testcase.
	* gas/testsuite/gas/arm/armv8-a+fp.s: Likewise.
	* gas/testsuite/gas/arm/half-prec-vfpv3.s: Likewise.
	* opcodes/arm-dis.c (coprocessor_opcodes): Add support for HP/DP
	conversions.
@
text
@d3 5
@


1.2100
log
@	* gas/config/tc-arm.c (NEON_ENC_TAB): Add vrint entries.
	(neon_cvt_mode): Add neon_cvt_mode_r.
	(do_vrint_1): New function.
	(do_vrint_x): Likewise.
	(do_vrint_z): Likewise.
	(do_vrint_r): Likewise.
	(do_vrint_a): Likewise.
	(do_vrint_n): Likewise.
	(do_vrint_p): Likewise.
	(do_vrint_m): Likewise.
	(insns): Add VRINT instructions.
	* gas/testsuite/gas/arm/armv8-a+fpv5.d: Update testcase.
	* gas/testsuite/gas/arm/armv8-a+fpv5.s: Likewise.
	* gas/testsuite/gas/arm/armv8-a+simdv3.d: Likewise.
	* gas/testsuite/gas/arm/armv8-a+simdv3.s: Likewise.
	* opcodes/arm-dis.c (coprocessor_opcodes): Add VRINT.
	(neon_opcodes): Likewise.
@
text
@d3 6
@


1.2099
log
@	* gas/config/tc-arm.c (NEON_ENC_TAB): Add vcvta entry.
	(neon_cvt_mode): New enumeration.
	(do_vfp_nsyn_cvt_fpv8): New function.
	(do_neon_cvt_1): Add support for new conversions.
	(do_neon_cvtr): Use neon_cvt_mode enumerator.
	(do_neon_cvt): Likewise.
	(do_neon_cvta): New function.
	(do_neon_cvtn): Likewise.
	(do_neon_cvtp): Likewise.
	(do_neon_cvtm): Likewise.
	(insns): Add new VCVT instructions.
	* gas/testsuite/gas/arm/armv8-a+fp.d: Update testcase.
	* gas/testsuite/gas/arm/armv8-a+fp.s: Likewise.
	* gas/testsuite/gas/arm/armv8-a+simd.d: Likewise.
	* gas/testsuite/gas/arm/armv8-a+simd.s: Likewise.
	* opcodes/arm-dis.c (coprocessor_opcodes): Add support for new VCVT
	variants.
	(neon_opcodes): Likewise.
@
text
@d3 7
@


1.2098
log
@	* gas/config/tc-arm.c (NEON_ENC_TAB): Add vmaxnm, vminnm entries.
	(vfp_or_neon_is_neon_bits): Add NEON_CHECK_ARCH8 enumerator.
	(vfp_or_neon_is_neon): Add check for SIMD for ARMv8.
	(do_maxnm): New function.
	(insns): Add vmaxnm, vminnm entries.
	* gas/testsuite/gas/testsuite/gas/armv8-a+fp.d: Update testcase.
	* gas/testsuite/gas/testsuite/gas/armv8-a+fp.s: Likewise.
	* gas/testsuite/gas/testsuite/gas/armv8-a+simd.d: New testcase.
	* gas/testsuite/gas/testsuite/gas/armv8-a+simd.s: Likewise.
	* opcodes/arm-dis.c (coprocessor_opcodes): Add VMAXNM/VMINNM.
	(neon_opcodes): Likewise.
@
text
@d3 7
@


1.2097
log
@	* gas/config/tc-arm.c (NEON_ENC_TAB): Add entries for VSEL.
	(NEON_ENC_FPV8_): New define.
	(do_vfp_nsyn_fpv8): New function.
	(do_vsel): Likewise.
	(insns): Add VSEL instructions.
	* gas/testsuite/gas/arm/armv8-a+fp.d: New testcase.
	* gas/testsuite/gas/arm/armv8-a+fp.s: Likewise.
	* opcodes/arm-dis.c (coprocessor_opcodes): Add VSEL.
	(print_insn_coprocessor): Add new %<>c bitfield format
	specifier.
@
text
@d3 7
@


1.2096
log
@	* gas/config/tc-arm.c (do_rm_rn): New function.
	(do_strlex): Likewise.
	(do_t_strlex): Likewise.
	(insns): Add support for LDRA/STRL instructions.
	* gas/testsuite/gas/arm/armv8-a-bad.l: Update testcase.
	* gas/testsuite/gas/arm/armv8-a-bad.s: Likewise.
	* gas/testsuite/gas/arm/armv8-a.d: Likewise.
	* gas/testsuite/gas/arm/armv8-a.s: Likewise.
	* opcodes/arm-dis.c (arm_opcodes): Add LDRA/STRL instructions.
	(thumb32_opcodes): Likewise.
	(print_arm_insn): Add support for %<>T formatter.
@
text
@d3 5
@


1.2095
log
@	* gas/config/tc-arm.c (do_t_bkpt_hlt1): New function.
	(do_t_hlt): New function.
	(do_t_bkpt): Use do_t_bkpt_hlt1.
	(insns): Add HLT.
	* gas/testsuite/gas/arm/armv8-a-bad.l: Update for HLT.
	* gas/testsuite/gas/arm/armv8-a-bad.s: Likewise.
	* gas/testsuite/gas/arm/armv8-a.d: Likewise.
	* gas/testsuite/gas/arm/armv8-a.s: Likewise.
	* opcodes/arm-dis.c (arm_opcodes): Add HLT.
	(thumb_opcodes): Likewise.
@
text
@d3 7
@


1.2094
log
@	* gas/config/tc-arm.c (insns): Add DCPS instruction.
	* gas/testsuite/gas/arm/armv8-a.d: Update.
	* gas/testsuite/gas/arm/armv8-a.s: Likewise.
	* opcodes/arm-dis.c (thumb32_opcodes): Add DCPS instruction.
@
text
@d3 7
@


1.2093
log
@	* gas/config/tc-arm.c (T16_32_TAB): Add _sevl.
	(insns): Add SEVL.
	* gas/testsuite/gas/arm/armv8-a.s: New testcase.
	* gas/testsuite/gas/arm/armv8-a.d: Likewise.
	* opcodes/arm-dis.c (arm_opcodes): Add SEVL.
	(thumb_opcodes): Likewise.
	(thumb32_opcodes): Likewise.
@
text
@d3 5
@


1.2092
log
@	* gas/config/tc-arm.c (asm_barrier_opt): Add arch field.
	(mark_feature_used): New function.
	(parse_barrier): Check specified option is valid for the
	specified architecture.
	(UL_BARRIER): New macro.
	(barrier_opt_names): Update for new barrier options.
	* gas/testsuite/gas/arm/armv8-a-barrier.s: New testcase.
	* gas/testsuite/gas/arm/armv8-a-barrier-arm.d: Likewise.
	* gas/testsuite/gas/arm/armv8-a-barrier-thumb.d: Likewise.
	* opcodes/arm-dis.c (data_barrier_option): New function.
	(print_insn_arm): Use data_barrier_option.
	(print_insn_thumb32): Use data_barrier_option.
@
text
@d3 5
@


1.2091
log
@	* gas/config/tc-arm.c (do_setend): Warn on deprecated SETEND.
	(do_t_setend): Likewise.
	* gas/testsuite/gas/arm/armv8-a-bad.l: Update
	* gas/testsuite/gas/arm/armv8-a-bad.s: Likewise.
@
text
@d3 6
@


1.2090
log
@	* gas/config/tc-arm.c (do_t_it): Fully initialise now_it.
	(new_automatic_it_block): Likewise.
	(handle_it_block): Record whether current instruction is
	conditionally executed.
	* gas/config/tc-arm.c (depr_insn_mask): New structure.
	(depr_it_insns): New variable.
	(it_fsm_post_encode): Warn on deprecated uses.
	* gas/config/tc-arm.h (current_it): Add new fields.
	* gas/testsuite/gas/arm/armv8-a-it-bad.d: New testcase.
	* gas/testsuite/gas/arm/armv8-a-it-bad.l: Likewise.
	* gas/testsuite/gas/arm/armv8-a-it-bad.s: Likewise.
	* gas/testsuite/gas/arm/ldr-t-bad.s: Update testcase.
	* gas/testsuite/gas/arm/ldr-t.d: Likewise.
	* gas/testsuite/gas/arm/ldr-t.s: Likewise.
	* gas/testsuite/gas/arm/neon-cond-bad-inc.s: Likewise.
	* gas/testsuite/gas/arm/sp-pc-validations-bad-t: Likewise.
	* gas/testsuite/gas/arm/vfp-fma-inc.s: Likewise.
	* gas/testsuite/gas/arm/vfp-neon-syntax-inc.s: Likewise.
@
text
@d3 5
@


1.2089
log
@	* gas/config/tc-arm.c (deprecated_coproc_regs_s): New structure.
	(deprecated_coproc_regs): New variable.
	(deprecated_coproc_reg_count): Likewise.
	(do_co_reg): Error on obsolete & warn on deprecated registers.
	* gas/testsuite/gas/arm/armv8-a-bad.l: Update testcase.
	* gas/testsuite/gas/arm/armv8-a-bad.s: Likewise.
@
text
@d3 13
@


1.2088
log
@	* gas/config/tc-arm.c (check_obsolete): New function.
	(do_rd_rm_rn): Check swp{b} for obsoletion.
	* gas/testsuite/gas/arm/armv8-a-bad.d: New testcase.
	* gas/testsuite/gas/arm/armv8-a-bad.l: Likewise.
	* gas/testsuite/gas/arm/armv8-a-bad.s: Likewise.
	* gas/testsuite/gas/arm/depr-swp.l: Update for change in expected output.
	* gas/testsuite/gas/arm/depr-swp.s: Add additional test.
	* include/opcode/arm.h (ARM_CPU_IS_ANY): New define.
@
text
@d3 5
@


1.2087
log
@	* bfd/elf32-arm.c (v8): New array.
	(tag_cpu_arch_combine): Add support for ARMv8 attributes.
	(elf32_arm_merge_eabi_attributes): Likewise.
	(VFP_VERSION_COUNT): New define.
	* binutils/readelf.c (arm_attr_tag_CPU_arch): Update for ARMv8.
	(arm_attr_tag_FP_arch): Likewise.
	(arm_attr_tag_Advanced_SIMD_arch): Likewise.
	* gas/config/tc-arm.h (arm_ext_v8): New variable.
	(fpu_vfp_ext_armv8): Likewise.
	(fpu_neon_ext_armv8): Likewise.
	(fpu_crypto_ext_armv8): Likewise.
	(arm_archs): Add armv8-a.
	(arm_extensions): Add crypto, fp, and simd.
	(arm_fpus): Add fp-armv8, neon-fp-armv8, crypto-neon-fp-armv8.
	(cpu_arch_ver): Add support for ARMv8.
	(aeabi_set_public_sttributes): Likewise.
	* gas/doc/c-arm.texi (ARM Options): Document new architecture and
	extension options for ARMv8.
	* gas/testsuite/gas/arm/attr-march-all.d: Update for change in expected
	output.
	* gas/testsuite/gas/arm/attr-mfpu-vfpv4-d16.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-vfpv4.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv8-a+crypto.d: New testcase.
	* gas/testsuite/gas/arm/attr-march-armv8-a+fp.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv8-a+simd.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv8-a.d: Likewise.
	* include/elf/arm.h (TAG_CPU_ARCH_V8): New define.
	(MAX_TAG_CPU_ARCH): Update.
	* include/opcode/arm.h (ARM_EXT_V8): New define.
	(FPU_VFP_EXT_ARMV8): Likewise.
	(FPU_NEON_EXT_ARMV8): Likewise.
	(FPU_CRYPTO_EXT_ARMV8): Likewise.
	(ARM_AEXT_V8A): Likewise.
	(FPU_VFP_ARMV8): Likwise.
	(FPU_NEON_ARMV8): Likewise.
	(FPU_CRYPTO_ARMV8): Likewise.
	(FPU_ARCH_VFP_ARMV8): Likewise.
	(FPU_ARCH_NEON_VFP_ARMV8): Likewise.
	(FPU_ARCH_CRYPTO_NEON_VFP_ARMV8): Likewise.
	(ARM_ARCH_V8A): Likwise.
	(ARM_ARCH_V8A_FP): Likewise.
	(ARM_ARCH_V8A_SIMD): Likewise.
	(ARM_ARCH_V8A_CRYPTO): Likewise.
	* ld/testsuite/ld-arm/arm-elf.exp: Add new testcases.
	* ld/testsuite/ld-arm/attr-merge-vfp-3.d: Update for change in expected
	output.
	* ld/testsuite/ld-arm/attr-merge-vfp-3r.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-4.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-4r.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-5.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-5r.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-7.d: New testcase.
	* ld/testsuite/ld-arm/attr-merge-vfp-7r.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-armv8-hard.s: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-armv8.s: Likewise.
@
text
@d3 8
@


1.2086
log
@Fix sparc opcode encoding for 4-arg crypto instructions.

include/opcode

	* sparc.h (F3F4): New macro.

opcodes

	* sparc-opc.c (4-argument crypto instructions): Fix encoding using
	F3F4 macro.

gas/testsuite

	* gas/sparc/crypto.d: Fix opcodes for 4-arg crypto instructions.
@
text
@d1 11
@


1.2085
log
@opcodes/ChangeLog
	* ppc-opc.c (powerpc_opcodes): Changed opcode for vabsdub,
	vabsduh, vabsduw, mviwsplt.
gas/testsuite/ChangeLog
	* gas/ppc/e6500.d: Changed opcode for vabsdub, vabsduh, vabsduw,
	mviwsplt.
@
text
@d1 4
@


1.2084
log
@Add AMD btver1 and btver2 support

gas/

2012-08-17  Nagajyothi Eggone  <nagajyothi.eggone@@amd.com>

	* config/tc-i386.c (cpu_arch): Add CPU_BTVER1_FLAGS and
	CPU_BTVER2_FLAGS.
	(i386_align_code): Add case for PROCESSOR_BT.

	* config/tc-i386.h (enum processor_type): Add PROCESSOR_BT.

	* doc/c-i386.texi: Add -march={btver1, btver2} options.

gas/testsuite/

2012-08-17  Nagajyothi Eggone  <nagajyothi.eggone@@amd.com>

	* gas/i386/i386.exp: Run btver1 and btver2 test cases.

	* gas/i386/nops-1-btver1.d: New.
	* gas/i386/nops-1-btver2.d: New.
	* gas/i386/arch-10-btver1.d: New.
	* gas/i386/arch-10-btver2.d: New.
	* gas/i386/x86-64-nops-1-btver1.d: New.
	* gas/i386/x86-64-nops-1-btver2.d: New.
	* gas/i386/x86-64-arch-2-btver1.d: New.
	* gas/i386/x86-64-arch-2-btver2.d: New.

opcodes/

2012-08-17  Nagajyothi Eggone  <nagajyothi.eggone@@amd.com>

	* i386-gen.c (cpu_flag_init): Add CPU_BTVER1_FLAGS and
	CPU_BTVER2_FLAGS.

	* i386-opc.h: Update CpuPRFCHW comment.

	* i386-opc.tbl: Enable prefetch instruction for CpuPRFCHW.
	* i386-init.h: Regenerated.
	* i386-tbl.h: Likewise.
@
text
@d1 5
d44 9
a52 9
            Laurent Desnogues  <laurent.desnogues@@arm.com>
            Jim MacArthur  <jim.macarthur@@arm.com>
            Marcus Shawcroft  <marcus.shawcroft@@arm.com>
            Nigel Stephens  <nigel.stephens@@arm.com>
            Ramana Radhakrishnan  <ramana.radhakrishnan@@arm.com>
            Richard Earnshaw  <rearnsha@@arm.com>
            Sofiane Naci  <sofiane.naci@@arm.com>
            Tejas Belagod  <tejas.belagod@@arm.com>
            Yufeng Zhang  <yufeng.zhang@@arm.com>
@


1.2083
log
@opcodes/
	* ppc-opc.c <RSQ, RTQ>: Use PPC_OPERAND_GPR.

gas/testsuite/
	* gas/ppc/power4.s <lq, stq>: Add more tests.
	* gas/ppc/power4.d: Likewise.
@
text
@d1 13
@


1.2082
log
@opcodes/
	* ppc-opc.c <xnop, yield, mdoio, mdoom>: New extended mnemonics.

gas/testsuite/
	* gas/ppc/common.d ("nop", "xnop"): Add tests.
	* gas/ppc/common.s: Likewise.
	* gas/ppc/power7.d ("yield", "mdoio", "mdoom"): Add tests.
	* gas/ppc/power7.s: Likewise.
@
text
@d3 5
@


1.2081
log
@Terminate register name when reporting bad register

gas/

	PR gas/14457
	* config/tc-i386.c (i386_att_operand): Terminate register name
	when reporting bad register.

gas/testsuite/

	PR gas/14457
	* gas/i386/i386.exp: Run reg-bad.

	* gas/i386/reg-bad.l: New.
	* gas/i386/reg-bad.s: Likewise.
@
text
@d1 7
@


1.2080
log
@	* gas/mmix/err-fb-2.s: New test.
@
text
@d1 8
@


1.2079
log
@Add support for 64-bit ARM architecture: AArch64
@
text
@d1 4
@


1.2078
log
@Enable FMA instructions for bdver2

gas/testsuite/

	PR gas/14423
	* gas/i386/arch-10-bdver2.d: New file.
	* gas/i386/x86-64-arch-2-bdver2.d: Likewise.
	* gas/i386/i386.exp: Run new test

opcodes/

2012-08-11  Saravanan Ekanathan <saravanan.ekanathan@@amd.com>

	PR gas/14423
	* i386-gen.c (cpu_flag_init): Add CpuFMA in CPU_BDVER2_FLAGS.
	* i386-init.h: Regenerated.
@
text
@d1 124
@


1.2077
log
@gas/testsuite/
	* gas/i386/prefetch.s: New file.
	* gas/i386/prefetch.d: New file.
	* gas/i386/prefetch-intel.d: New file.
	* gas/i386/x86-64-prefetch.d: New file.
	* gas/i386/x86-64-prefetch-intel.d: New file.
	* gas/i386/i386.exp: Run them.

opcodes/
	* i386-dis.c (reg_table): Fill out REG_0F0D table with
	AMD-reserved cases as "prefetch".
	(MOD_0F18_REG_4, MOD_0F18_REG_5): New enum constants.
	(MOD_0F18_REG_6, MOD_0F18_REG_7): Likewise.
	(reg_table): Use those under REG_0F18.
	(mod_table): Add those cases as "nop/reserved".
@
text
@d1 7
@


1.2076
log
@Despite them being ignored by the CPU, gas issues segment override
prefixes for other than FS/GS in 64-bit mode. If doing so at all, it
should clearly do this correctly. Determining the default segment,
however, requires to take into consideration RegRex (so far, RSP, RBP,
R12, and R13 were all treated equally here).

gas/
2012-08-07  Jan Beulich <jbeulich@@suse.com>

	* config/tc-i386-intel.c (build_modrm_byte): Split determining
	default segment from figuring out encoding. Honor RegRex for
	the former.

gas/testsuite/
2012-08-07  Jan Beulich <jbeulich@@suse.com>

	* gas/i386/x86-64-segovr.{s,l}: New.
	* gas/i386/i386.exp: Run new test.
@
text
@d1 9
@


1.2075
log
@The VGATHER group of instructions requires that all three involved
xmm/ymm registers are distinct. This patch adds code to check for this,
and at once eliminates a superfluous check for not using PC-relative
addressing for these instructions (the fact that an index register is
required here already excludes valid PC-relative addresses). The
severity of the resulting diagnostics can be controlled via command
line option or directive.

gas/
2012-08-07  Jan Beulich <jbeulich@@suse.com>

	* config/tc-i386.c (set_check): Renamed from set_sse_check.
	Generalize to also handle operand checking option.
	(enum i386_error): New enumerator 'invalid_vector_register_set'.
	(match_template): Handle it.
	(enum check_kind): Give it a tag. Drop sse_ prefixes from
	enumerators.
	(operand_check): New.
	(md_pseudo_table): Add "operand_check".
	(check_VecOperands): Don't special case RIP addressing. Check
	that vSIB operands use distinct vector registers unless no
	checking was requested.
	(OPTION_MOPERAND_CHECK): New.
	(md_parse_option): Handle it.
	(OPTION_MAVXSCALAR, OPTION_X32): Adjust.
	(md_longopts): Add "moperand-check".
	(md_show_usage): Add help text for it.

gas/testsuite/
2012-08-07  Jan Beulich <jbeulich@@suse.com>

	* gas/i386/vgather-check-error.{s,l}: New.
	* gas/i386/vgather-check-none.{s,d}: New.
	* gas/i386/vgather-check-warn.{d,e}: New.
	* gas/i386/vgather-check.{s,d}: New.
	* gas/i386/x86-64-vgather-check-error.{s,l}: New.
	* gas/i386/x86-64-vgather-check-none.{s,d}: New.
	* gas/i386/x86-64-vgather-check-warn.{d,e}: New.
	* gas/i386/x86-64-vgather-check.{s,d}: New.
	* gas/i386/i386.exp: Run new tests.
@
text
@d3 5
@


1.2074
log
@There were several cases where the registers in the REX encoded range
got treated identically to the ones in the base range, due to not
paying attention to the fact that reg_entry's reg_num field doesn't
fully specify the register number (reg_flags also needs to be checked
for RegRex). This patch introduces and uses a new (inline) function to
obtain the full register number, and uses it to fix all those cases.

It additionally adds the missing operand checks for SVME instructions
(which match the monitor/mwait ones).

gas/
2012-08-07  Jan Beulich <jbeulich@@suse.com>

	* config/tc-i386.c (register_number): New function.
	(build_vex_prefix, process_immext, process_operands,
	build_modrm_byte, i386_index_check): Use it.

gas/testsuite/
2012-08-07  Jan Beulich <jbeulich@@suse.com>

	* gas/i386/x86-64-specific-reg.{s,l}: New.
	* gas/i386/i386.exp: Run new test.

opcodes/
2012-08-07  Jan Beulich <jbeulich@@suse.com>

	* i386-opc.tbl: Remove "FIXME" comments from SVME instructions.
@
text
@d3 12
@


1.2073
log
@	* config/tc-i386.c (lex_got): Provide implementation for PE
	format.

	* gas/i386/secrel.s: Add test of <symbol>@@SECREL32.
	* gas/i386/secrel.d: Add expected disassembly.

	* scripttempl/pe.sc (R_TLS): Add .tls$AAA and .tls$ZZZ.
	* scripttempl/pep.sc (R_TLS): Add .tls$AAA and .tls$ZZZ.

	* archive.c (_bfd_delete_archive_data): New function.
	* libbfd-in.h (_bfd_delete_archive_data): Declare.
	* libbfd.h: Rebuild.
	* opncls.c (_bfd_delete_bfd): Call _bfd_delete_archive_data.
@
text
@d1 5
@


1.2072
log
@gas/testsuite/
	* gas/i386/x86-64-stack.s: Add cases for push segment register.
	* gas/i386/x86-64-stack.d: Updated.
	* gas/i386/x86-64-stack-suffix.d: Updated.
	* gas/i386/x86-64-stack-intel.d: Updated.
	* gas/i386/ilp32/x86-64-stack.d: Updated.
	* gas/i386/ilp32/x86-64-stack-suffix.d: Updated.
	* gas/i386/ilp32/x86-64-stack-intel.d: Updated.

opcodes/
	* i386-dis.c (print_insn): Print spaces between multiple excess
	prefixes.  Return actual number of excess prefixes consumed,
	not always one.

	* i386-dis.c (OP_REG): Ignore REX_B for segment register cases.
@
text
@d1 5
@


1.2071
log
@	gas/testsuite/
	* gas/mips/mips.exp: Set has_newabi for all Linux targets.
	* gas/mips/cfi-n64-1.d: Adjust for targets that do not infer the
	ISA from the ABI.
	* gas/mips/elf-rel-got-n32.d: Likewise.
	* gas/mips/elf-rel-got-n64.d: Likewise.
	* gas/mips/elf-rel-xgot-n32.d: Likewise.
	* gas/mips/elf-rel-xgot-n64.d: Likewise.
	* gas/mips/elf-rel18.d: Likewise.
	* gas/mips/elf-rel28-n32.d: Likewise.
	* gas/mips/elf-rel28-n64.d: Likewise.
	* gas/mips/jal-newabi.d: Likewise.
	* gas/mips/ldstla-n64-shared.d: Likewise.
	* gas/mips/ldstla-n64-sym32.d: Likewise.
	* gas/mips/ldstla-n64.d: Likewise.
	* gas/mips/macro-warn-1-n32.d: Likewise.
	* gas/mips/macro-warn-2-n32.d: Likewise.
	* gas/mips/n32-consec.d: Likewise.

	ld/testsuite/
	* ld-mips-elf/mips-elf.exp: Set has_newabi for all Linux targets.
	Adjust abi_asflags for targets that do not infer the ISA from the
	ABI.
	* ld-mips-elf/eh-frame1-n32.d: Adjust for targets that do not
	infer the ISA from the ABI.
	* ld-mips-elf/eh-frame1-n64.d: Likewise.
	* ld-mips-elf/eh-frame2-n32.d: Likewise.
	* ld-mips-elf/eh-frame2-n64.d: Likewise.
	* ld-mips-elf/elf-rel-got-n32-embed.d: Likewise.
	* ld-mips-elf/elf-rel-got-n32.d: Likewise.
	* ld-mips-elf/elf-rel-got-n64-embed.d: Likewise.
	* ld-mips-elf/elf-rel-got-n64-linux.d: Likewise.
	* ld-mips-elf/elf-rel-got-n64.d: Likewise.
	* ld-mips-elf/elf-rel-xgot-n32-embed.d: Likewise.
	* ld-mips-elf/elf-rel-xgot-n32.d: Likewise.
	* ld-mips-elf/elf-rel-xgot-n64-embed.d: Likewise.
	* ld-mips-elf/elf-rel-xgot-n64-linux.d: Likewise.
	* ld-mips-elf/elf-rel-xgot-n64.d: Likewise.
	* ld-mips-elf/emit-relocs-1.d: Likewise.
	* ld-mips-elf/got-page-2.d: Likewise.
	* ld-mips-elf/no-shared-1-n32.d: Likewise.
	* ld-mips-elf/no-shared-1-n64.d: Likewise.
	* ld-mips-elf/rel32-n32.d: Likewise.
	* ld-mips-elf/rel64.d: Likewise.
	* ld-mips-elf/relax-jalr-n32-shared.d: Likewise.
	* ld-mips-elf/relax-jalr-n32.d: Likewise.
	* ld-mips-elf/relax-jalr-n64-shared.d: Likewise.
	* ld-mips-elf/relax-jalr-n64.d: Likewise.
	* ld-mips-elf/reloc-1-n32.d: Likewise.
	* ld-mips-elf/reloc-1-n64.d: Likewise.
	* ld-mips-elf/textrel-1.d: Likewise.
@
text
@d44 8
@


1.2070
log
@	gas/testsuite/
	* gas/mips/mips.exp: Set has_newabi for mips*-sde-elf* too.
	* gas/mips/elf-rel-got-n32.s: Adjust padding.
	* gas/mips/elf-rel-got-n64.s: Likewise.
	* gas/mips/elf-rel23.s: Likewise.
	* gas/mips/elf-rel28.s: Likewise.
	* gas/mips/n32-consec.s: Likewise.
	* gas/mips/elf-rel-xgot-n32.d: Adjust output expected.
	* gas/mips/elf-rel-xgot-n64.d: Likewise.
	* gas/mips/elf-rel23.d: Likewise.
	* gas/mips/elf-rel23a.d: Likewise.
	* gas/mips/elf-rel23b.d: Likewise.
	* gas/mips/elf-rel28-n32.d: Likewise.

	ld/testsuite/
	* lib/ld-lib.exp (run_dump_test): Implement the EXTRA_OPTIONS
	argument and the "dump" keyword.
	* ld-mips-elf/emit-relocs-1a.s: Make section alignment uniform
	across targets.
	* ld-mips-elf/emit-relocs-1b.s: Likewise.
	* ld-mips-elf/jalbal.s: Adjust padding.
	* ld-mips-elf/elf-rel-got-n32-embed.d: New test.
	* ld-mips-elf/elf-rel-got-n64-embed.d: New test.
	* ld-mips-elf/elf-rel-xgot-n32-embed.d: New test.
	* ld-mips-elf/elf-rel-xgot-n64-embed.d: New test.
	* ld-mips-elf/elf-rel-got-n32.d: Remove -melf32btsmipn32.
	* ld-mips-elf/elf-rel-got-n64.d: Remove -melf64btsmip.  Adjust
	output.
	* ld-mips-elf/elf-rel-got-n64-linux.d: Remove -melf64btsmip.
	* ld-mips-elf/elf-rel-xgot-n32.d: Remove -melf32btsmipn32.
	Adjust output.
	* ld-mips-elf/elf-rel-xgot-n64.d: Remove -melf64btsmip.  Adjust
	output.
	* ld-mips-elf/elf-rel-xgot-n64-linux.d: Likewise.
	* ld-mips-elf/reloc-1-n64.d: Remove -melf64btsmip.
	* ld-mips-elf/mips-elf.exp: Set has_newabi for mips*-sde-elf*
	too.  Move tool flags from o32_as_flags and o32_ld_flags
	variables into abi_asflags and abi_ldflags arrays.  Adjust test
	cases run to use them.  Run the new tests.
@
text
@d3 20
@


1.2069
log
@	gas/
	* config/tc-mips.c (append_insn): Also handle moving delay-slot
	instruction across frags for fixed branches.

	gas/testsuite/
	* gas/mips/branch-swap-2.l: New list test.
	* gas/mips/branch-swap-2.s: New test source.
	* gas/mips/mips.exp: Run the new test.
@
text
@d3 15
@


1.2068
log
@gas/testsuite/
	* gas/i386/x86-64-stack.s: Add cases for push immediate.
	* gas/testsuite/gas/i386/ilp32/x86-64-stack-intel.d: Updated.
	* gas/testsuite/gas/i386/ilp32/x86-64-stack-suffix.d: Updated.
	* gas/testsuite/gas/i386/ilp32/x86-64-stack.d: Updated.
	* gas/testsuite/gas/i386/x86-64-stack-intel.d: Updated.
	* gas/testsuite/gas/i386/x86-64-stack-suffix.d: Updated.
	* gas/testsuite/gas/i386/x86-64-stack.d: Updated.

opcodes/
	* i386-dis.c (OP_sI): In b_T_mode and v_mode, REX_W trumps DFLAG.
	(putop): For 'T', 'U', and 'V', treat REX_W like DFLAG.
	(intel_operand_size): For stack_v_mode, treat REX_W like DFLAG.
	(OP_E_register): Likewise.
	(OP_REG): For low 8 whole registers, treat REX_W like DFLAG.
@
text
@d1 6
@


1.2067
log
@gas/testsuite/
* gas/i386/x86-64-stack.s (try): Also try just rex.W (0x48) prefix.
* gas/testsuite/gas/i386/ilp32/x86-64-stack-intel.d: Updated.
* gas/testsuite/gas/i386/ilp32/x86-64-stack-suffix.d: Updated.
* gas/testsuite/gas/i386/ilp32/x86-64-stack.d: Updated.
* gas/testsuite/gas/i386/x86-64-stack-intel.d: Updated.
* gas/testsuite/gas/i386/x86-64-stack-suffix.d: Updated.
* gas/testsuite/gas/i386/x86-64-stack.d: Updated.
@
text
@d1 9
a9 1
2012-08-03  Roland McGrath  <mcgrathr@@google.com>
@


1.2066
log
@Display null bytes in DWARF debug info

binutils/

	PR binutils/14420
	* dwarf.c (process_abbrev_section): Add attribute terminator.
	Warn missing section terminator.
	(get_FORM_name): Special check for 0 value.
	(get_AT_name): Likewise.
	(process_debug_info): Display zero abbrev number.  Check
	attribute terminator.

binutils/testsuite/

	PR binutils/14420
	* binutils-all/i386/compressed-1a.d: Updated.
	* binutils-all/objdump.W: Likewise.
	* binutils-all/readelf.wa: Likewise.
	* binutils-all/x86-64/compressed-1a.d: Likewise.

gas/testsuite/

	PR binutils/14420
	* gas/elf/dwarf2-1.d: Updated.
	* gas/elf/dwarf2-2.d: Likwise.
	* gas/i386/dw2-compress-1.d: Likwise.
@
text
@d1 10
@


1.2065
log
@Reformat ChangeLog files
@
text
@d1 7
@


1.2064
log
@gas/ChangeLog:
2012-08-01  James Lemke  <jwlemke@@codesourcery.com>

	* gas/dwarf2dbg.c (out_set_addr): Allow for non-constant value of
	DWARF2_LINE_MIN_INSN_LENGTH
	* gas/config/tc-ppc.c (ppc_dwarf2_line_min_insn_length): Declare
	and initialize.
	(md_apply_fix): Branch addr can be a multiple of 2 or 4.
	* gas/config/tc-ppc.h (DWARF2_LINE_MIN_INSN_LENGTH): Now a
	variable reference.

gas/testsuite/ChangeLog:
2012-08-01  James Lemke  <jwlemke@@codesourcery.com>

	* gas/cfi/cfi-ppc-1.d: Allow for code alignment of 2 or 4.

ld/ChangeLog:
2012-08-01  James Lemke  <jwlemke@@codesourcery.com>

	* ld/testsuite/ld-gc/pr13683.d: XFAIL for powerpc*-*-eabivle.
@
text
@d6 1
a6 1
            Maciej W. Rozycki  <macro@@codesourcery.com>
d31 3
a33 3
        * gas/xgate/xgate.exp: Added hi/lo test.
        * gas/xgate/hilo.d: New test file
        * gas/xgate/hilo.s: Net test source file.
d521 1
a521 1
            Meador Inge  <meadori@@codesourcery.com>
@


1.2063
log
@Correct ChangeLog.
@
text
@d1 4
@


1.2062
log
@	include/opcode/
	* mips.h: Document microMIPS DSP ASE usage.
	(MICROMIPSOP_MASK_DSPACC, MICROMIPSOP_SH_DSPACC): Update for
	microMIPS DSP ASE support.
	(MICROMIPSOP_MASK_DSPSFT, MICROMIPSOP_SH_DSPSFT): Likewise.
	(MICROMIPSOP_MASK_SA3, MICROMIPSOP_SH_SA3): Likewise.
	(MICROMIPSOP_MASK_SA4, MICROMIPSOP_SH_SA4): Likewise.
	(MICROMIPSOP_MASK_IMM8, MICROMIPSOP_SH_IMM8): Likewise.
	(MICROMIPSOP_MASK_IMM10, MICROMIPSOP_SH_IMM10): Likewise.
	(MICROMIPSOP_MASK_WRDSP, MICROMIPSOP_SH_WRDSP): Likewise.
	(MICROMIPSOP_MASK_BP, MICROMIPSOP_SH_BP): Likewise.

	gas/
	* config/tc-mips.c (macro_build) <'2'>: Handle microMIPS.
	(macro) <M_BALIGN>: Update error handling.
	(validate_micromips_insn) <'2', '3', '4', '5', '6'>: New cases.
	<'7', '8', '0', '@@', '^'>: Likewise.
	(mips_ip) <'2', '3', '4', '5', '6', '7', '8'>: Handle microMIPS.
	<'9'>: Fix formatting.
	<'0', '@@'>: Handle microMIPS.
	<'^'>: New case.

	gas/testsuite/
	* gas/mips/micromips@@mips32-dsp.d: New.
	* gas/mips/micromips@@mips32-dspr2.d: New.
	* gas/mips/mips32-dsp.d: Remove -mips32r2.
	* gas/mips/mips32-dspr2.d: Likewise.
	* gas/mips/mips.exp: (mips_create_arch): Use -mips64r2
	for micromips.  Use run_dump_test_arches to run dsp tests.

	opcodes/
	* micromips-opc.c (WR_a, RD_a, MOD_a): New macros.
	(DSP_VOLA): Likewise.
	(D32, D33): Likewise.
	(micromips_opcodes): Add DSP ASE instructions.
	* micromips-dis.c (print_insn_micromips) <'2', '3'>: New cases.
	<'4', '5', '6', '7', '8', '0', '^', '@@'>: Likewise.
@
text
@d4 2
a5 2
	* gas/mips/micromips@@mips32-dsp.d: New.
	* gas/mips/micromips@@mips32-dspr2.d: New.
d8 4
a11 2
	* gas/mips/mips.exp: (mips_create_arch): Use -mips64r2
	for micromips.  Use run_dump_test_arches to run dsp tests.
@


1.2061
log
@Update gas/d30v/bittest.l

	* gas/d30v/bittest.l: Updated.
@
text
@d1 10
@


1.2060
log
@Append "#pass" to gas/i386/rdseed-intel.d

	* gas/i386/rdseed-intel.d: Append "#pass".
@
text
@d3 4
@


1.2059
log
@2012-07-27  Sean Keys  <skeys@@ipdatasys.com>

        * gas/xgate/xgate.exp: Added hi/lo test.
        * gas/xgate/hilo.d: New test file
        * gas/xgate/hilo.s: Net test source file.
@
text
@d1 4
@


1.2058
log
@Update gas/i386/inval-equ-2.l

	* gas/i386/inval-equ-2.l: Updated.
@
text
@d5 6
@


1.2057
log
@2012-07-24  Sandra Loosemore  <sandra@@codesourcery.com>
	    Jie Zhang  <jzhang918@@gmail.com>

	gas/
	* config/tc-arm.c (md_apply_fix): Use encoding A2 of ADR
	if offset is negative.

	gas/testsuite/
	* gas/arm/adr.d: New test.
	* gas/arm/adr.s: New test.
@
text
@d1 4
@


1.2057.2.1
log
@Update gas/i386/inval-equ-2.l

	* gas/i386/inval-equ-2.l: Updated.
@
text
@a0 4
2012-07-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/inval-equ-2.l: Updated.

@


1.2057.2.2
log
@Add support for 64-bit ARM architecture: aarch64
@
text
@a0 124
2012-08-13  Ian Bolton  <ian.bolton@@arm.com>
            Laurent Desnogues  <laurent.desnogues@@arm.com>
            Jim MacArthur  <jim.macarthur@@arm.com>
            Marcus Shawcroft  <marcus.shawcroft@@arm.com>
            Nigel Stephens  <nigel.stephens@@arm.com>
            Ramana Radhakrishnan  <ramana.radhakrishnan@@arm.com>
            Richard Earnshaw  <rearnsha@@arm.com>
            Sofiane Naci  <sofiane.naci@@arm.com>
            Tejas Belagod  <tejas.belagod@@arm.com>
            Yufeng Zhang  <yufeng.zhang@@arm.com>

	* gas/aarch64: New directory.
	* gas/aarch64/aarch64.exp: New file.
	* gas/aarch64/addsub.d: New file.
	* gas/aarch64/addsub.s: New file.
	* gas/aarch64/advsimd-across.d: New file.
	* gas/aarch64/advsimd-across.s: New file.
	* gas/aarch64/advsimd-misc.d: New file.
	* gas/aarch64/advsimd-misc.s: New file.
	* gas/aarch64/advsisd-copy.d: New file.
	* gas/aarch64/advsisd-copy.s: New file.
	* gas/aarch64/advsisd-misc.d: New file.
	* gas/aarch64/advsisd-misc.s: New file.
	* gas/aarch64/alias.d: New file.
	* gas/aarch64/alias.s: New file.
	* gas/aarch64/bitfield-alias.d: New file.
	* gas/aarch64/bitfield-alias.s: New file.
	* gas/aarch64/bitfield-bfm.d: New file.
	* gas/aarch64/bitfield-bfm.s: New file.
	* gas/aarch64/bitfield-dump: New file.
	* gas/aarch64/bitfield-no-aliases.d: New file.
	* gas/aarch64/crypto.d: New file.
	* gas/aarch64/crypto.s: New file.
	* gas/aarch64/diagnostic.d: New file.
	* gas/aarch64/diagnostic.l: New file.
	* gas/aarch64/diagnostic.s: New file.
	* gas/aarch64/floatdp2.d: New file.
	* gas/aarch64/floatdp2.s: New file.
	* gas/aarch64/fp_cvt_int.d: New file.
	* gas/aarch64/fp_cvt_int.s: New file.
	* gas/aarch64/illegal-2.d: New file.
	* gas/aarch64/illegal-2.l: New file.
	* gas/aarch64/illegal-2.s: New file.
	* gas/aarch64/illegal.d: New file.
	* gas/aarch64/illegal.l: New file.
	* gas/aarch64/illegal.s: New file.
	* gas/aarch64/inst-directive.d: New file.
	* gas/aarch64/inst-directive.s: New file.
	* gas/aarch64/int-insns.d: New file.
	* gas/aarch64/int-insns.s: New file.
	* gas/aarch64/ldst-exclusive.d: New file.
	* gas/aarch64/ldst-exclusive.s: New file.
	* gas/aarch64/ldst-reg-imm-post-ind.d: New file.
	* gas/aarch64/ldst-reg-imm-post-ind.s: New file.
	* gas/aarch64/ldst-reg-imm-pre-ind.d: New file.
	* gas/aarch64/ldst-reg-imm-pre-ind.s: New file.
	* gas/aarch64/ldst-reg-pair.d: New file.
	* gas/aarch64/ldst-reg-pair.s: New file.
	* gas/aarch64/ldst-reg-reg-offset.d: New file.
	* gas/aarch64/ldst-reg-reg-offset.s: New file.
	* gas/aarch64/ldst-reg-uns-imm.d: New file.
	* gas/aarch64/ldst-reg-uns-imm.s: New file.
	* gas/aarch64/ldst-reg-unscaled-imm.d: New file.
	* gas/aarch64/ldst-reg-unscaled-imm.s: New file.
	* gas/aarch64/legacy_reg_names.d: New file.
	* gas/aarch64/legacy_reg_names.l: New file.
	* gas/aarch64/legacy_reg_names.s: New file.
	* gas/aarch64/mapmisc.d: New file.
	* gas/aarch64/mapmisc.dat: New file.
	* gas/aarch64/mapmisc.s: New file.
	* gas/aarch64/mapping.d: New file.
	* gas/aarch64/mapping.s: New file.
	* gas/aarch64/mapping2.d: New file.
	* gas/aarch64/mapping2.s: New file.
	* gas/aarch64/mapping3.d: New file.
	* gas/aarch64/mapping3.s: New file.
	* gas/aarch64/mapping4.d: New file.
	* gas/aarch64/mapping4.s: New file.
	* gas/aarch64/mov-no-aliases.d: New file.
	* gas/aarch64/mov.d: New file.
	* gas/aarch64/mov.s: New file.
	* gas/aarch64/movi.d: New file.
	* gas/aarch64/movi.s: New file.
	* gas/aarch64/msr.d: New file.
	* gas/aarch64/msr.s: New file.
	* gas/aarch64/neon-fp-cvt-int.d: New file.
	* gas/aarch64/neon-fp-cvt-int.s: New file.
	* gas/aarch64/neon-frint.d: New file.
	* gas/aarch64/neon-frint.s: New file.
	* gas/aarch64/neon-ins.d: New file.
	* gas/aarch64/neon-ins.s: New file.
	* gas/aarch64/neon-not.d: New file.
	* gas/aarch64/neon-not.s: New file.
	* gas/aarch64/neon-vfp-reglist-post.d: New file.
	* gas/aarch64/neon-vfp-reglist-post.s: New file.
	* gas/aarch64/neon-vfp-reglist.d: New file.
	* gas/aarch64/neon-vfp-reglist.s: New file.
	* gas/aarch64/no-aliases.d: New file.
	* gas/aarch64/optional.d: New file.
	* gas/aarch64/optional.s: New file.
	* gas/aarch64/programmer-friendly.d: New file.
	* gas/aarch64/programmer-friendly.s: New file.
	* gas/aarch64/reloc-data.d: New file.
	* gas/aarch64/reloc-data.s: New file.
	* gas/aarch64/reloc-insn.d: New file.
	* gas/aarch64/reloc-insn.s: New file.
	* gas/aarch64/shifted.d: New file.
	* gas/aarch64/shifted.s: New file.
	* gas/aarch64/symbol.d: New file.
	* gas/aarch64/symbol.s: New file.
	* gas/aarch64/sysreg-1.d: New file.
	* gas/aarch64/sysreg-1.s: New file.
	* gas/aarch64/sysreg.d: New file.
	* gas/aarch64/sysreg.s: New file.
	* gas/aarch64/system.d: New file.
	* gas/aarch64/system.s: New file.
	* gas/aarch64/tlbi_op.d: New file.
	* gas/aarch64/tlbi_op.s: New file.
	* gas/aarch64/tls.d: New file.
	* gas/aarch64/tls.s: New file.
	* gas/aarch64/verbose-error.d: New file.
	* gas/aarch64/verbose-error.l: New file.
	* gas/aarch64/verbose-error.s: New file.

@


1.2057.2.3
log
@	Apply mainline patches

bfd/:
	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* elf32-arm.c (v8): New array.
	(tag_cpu_arch_combine): Add support for ARMv8 attributes.
	(elf32_arm_merge_eabi_attributes): Likewise.
	(VFP_VERSION_COUNT): New define.

gas/:
	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* config/tc-arm.c (ARM_ENC_TAB): Add sha1h and sha2op entries.
	(do_sha1h): New function.
	(do_sha1su1): Likewise.
	(do_sha256su0): Likewise.
	(insns): Add 2 operand SHA instructions.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* config/tc-arm.c (NEON_ENC_TAB): Add sha3op entry.
	(do_crypto_3op_1): New function.
	(do_sha1c): Likewise.
	(do_sha1p): Likewise.
	(do_sha1m): Likewise.
	(do_sha1su0): Likewise.
	(do_sha256h): Likewise.
	(do_sha256h2): Likewise.
	(do_sha256su1): Likewise.
	(insns): Add SHA 3 operand instructions.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* config/tc-arm.c (neon_type_mask): Add P64 type.
	(type_chk_of_el_type): Handle P64 type.
	(el_type_of_type_chk): Likewise.
	(do_neon_vmull): Handle VMULL.P64.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* config/tc-arm.c (NEON_ENC_TAB): Add aes entry.
	(neon_type_mask): Add N_UNT.
	(neon_check_type): Don't always decay typed to untyped sizes.
	(do_crypto_2op_1): New function.
	(do_aese): Likewise.
	(do_aesd): Likewise.
	(do_aesmc.8): Likewise.
	(do_aesimc.8): Likewise.
	(insns): Add AES instructions.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* config/tc-arm.c (el_type_type_check): Add handling for 16-bit
	floating point types.
	(do_neon_cvttb_2): New function.
	(do_neon_cvttb_1): Likewise.
	(do_neon_cvtb): Refactor to use do_neon_cvttb_1.
	(do_neon_cvtt): Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* config/tc-arm.c (NEON_ENC_TAB): Add vrint entries.
	(neon_cvt_mode): Add neon_cvt_mode_r.
	(do_vrint_1): New function.
	(do_vrint_x): Likewise.
	(do_vrint_z): Likewise.
	(do_vrint_r): Likewise.
	(do_vrint_a): Likewise.
	(do_vrint_n): Likewise.
	(do_vrint_p): Likewise.
	(do_vrint_m): Likewise.
	(insns): Add VRINT instructions.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* config/tc-arm.c (NEON_ENC_TAB): Add vcvta entry.
	(neon_cvt_mode): New enumeration.
	(do_vfp_nsyn_cvt_fpv8): New function.
	(do_neon_cvt_1): Add support for new conversions.
	(do_neon_cvtr): Use neon_cvt_mode enumerator.
	(do_neon_cvt): Likewise.
	(do_neon_cvta): New function.
	(do_neon_cvtn): Likewise.
	(do_neon_cvtp): Likewise.
	(do_neon_cvtm): Likewise.
	(insns): Add new VCVT instructions.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm>
	* config/tc-arm.c (CVT_FLAVOUR_VAR): New define.
	(CVT_VAR): New helper define.
	(neon_cvt_flavour): New enumeration, function renamed...
	(get_neon_cvt_flavour): ...to this.
	(do_vfp_nsyn_cvt): Update to use new neon_cvt_flavour.
	(do_vfp_nsyn_cvtz): Likewise.
	(do_neon_cvt_1): Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* config/tc-arm.c (NEON_ENC_TAB): Add vmaxnm, vminnm entries.
	(vfp_or_neon_is_neon_bits): Add NEON_CHECK_ARCH8 enumerator.
	(vfp_or_neon_is_neon): Add check for SIMD for ARMv8.
	(do_maxnm): New function.
	(insns): Add vmaxnm, vminnm entries.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* config/tc-arm.c (NEON_ENC_TAB): Add entries for VSEL.
	(NEON_ENC_FPV8_): New define.
	(do_vfp_nsyn_fpv8): New function.
	(do_vsel): Likewise.
	(insns): Add VSEL instructions.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* config/tc-arm.c (do_rm_rn): New function.
	(do_strlex): Likewise.
	(do_t_strlex): Likewise.
	(insns): Add support for LDRA/STRL instructions.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* config/tc-arm.c (do_t_bkpt_hlt1): New function.
	(do_t_hlt): New function.
	(do_t_bkpt): Use do_t_bkpt_hlt1.
	(insns): Add HLT.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* config/tc-arm.c (insns): Add DCPS instruction.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* config/tc-arm.c (T16_32_TAB): Add _sevl.
	(insns): Add SEVL.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* config/tc-arm.c (asm_barrier_opt): Add arch field.
	(mark_feature_used): New function.
	(parse_barrier): Check specified option is valid for the
	specified architecture.
	(UL_BARRIER): New macro.
	(barrier_opt_names): Update for new barrier options.

	2012-08-24  Matthew Gretton-Dann <matthew.gretton-dann@@arm.com>
	* config/tc-arm.c (do_setend): Warn on deprecated SETEND.
	(do_t_setend): Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* config/tc-arm.c (do_t_it): Fully initialise now_it.
	(new_automatic_it_block): Likewise.
	(handle_it_block): Record whether current instruction is
	conditionally executed.
	* config/tc-arm.c (depr_insn_mask): New structure.
	(depr_it_insns): New variable.
	(it_fsm_post_encode): Warn on deprecated uses.
	* config/tc-arm.h (current_it): Add new fields.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* config/tc-arm.c (deprecated_coproc_regs_s): New structure.
	(deprecated_coproc_regs): New variable.
	(deprecated_coproc_reg_count): Likewise.
	(do_co_reg): Error on obsolete & warn on deprecated registers.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* config/tc-arm.c (check_obsolete): New function.
	(do_rd_rm_rn): Check swp{b} for obsoletion.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* config/tc-arm.h (arm_ext_v8): New variable.
	(fpu_vfp_ext_armv8): Likewise.
	(fpu_neon_ext_armv8): Likewise.
	(fpu_crypto_ext_armv8): Likewise.
	(arm_archs): Add armv8-a.
	(arm_extensions): Add crypto, fp, and simd.
	(arm_fpus): Add fp-armv8, neon-fp-armv8, crypto-neon-fp-armv8.
	(cpu_arch_ver): Add support for ARMv8.
	(aeabi_set_public_sttributes): Likewise.
	* doc/c-arm.texi (ARM Options): Document new architecture and
	extension options for ARMv8.

gas/testsuite/:
	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* gas/arm/armv8-a+crypto.s: Update testcase.
	* gas/arm/armv8-a+crypto.d: Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* gas/arm/armv8-a+crypto.d: Update testcase.
	* gas/arm/armv8-a+crypto.s: Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* gas/arm/armv8-a+crypto.d: Update testcase.
	* gas/arm/armv8-a+crypto.s: Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* gas/arm/armv8-a+crypto.d: New testcase.
	* gas/arm/armv8-a+crypto.s: Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* gas/arm/armv8-a+fp.d: Update testcase.
	* gas/arm/armv8-a+fp.s: Likewise.
	* gas/arm/half-prec-vfpv3.s: Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* gas/arm/armv8-a+fpv5.d: Update testcase.
	* gas/arm/armv8-a+fpv5.s: Likewise.
	* gas/arm/armv8-a+simdv3.d: Likewise.
	* gas/arm/armv8-a+simdv3.s: Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* gas/arm/armv8-a+fp.d: Update testcase.
	* gas/arm/armv8-a+fp.s: Likewise.
	* gas/arm/armv8-a+simd.d: Likewise.
	* gas/arm/armv8-a+simd.s: Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* gas/testsuite/gas/armv8-a+fp.d: Update testcase.
	* gas/testsuite/gas/armv8-a+fp.s: Likewise.
	* gas/testsuite/gas/armv8-a+simd.d: New testcase.
	* gas/testsuite/gas/armv8-a+simd.s: Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* gas/arm/armv8-a+fp.d: New testcase.
	* gas/arm/armv8-a+fp.s: Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* gas/arm/armv8-a-bad.l: Update testcase.
	* gas/arm/armv8-a-bad.s: Likewise.
	* gas/arm/armv8-a.d: Likewise.
	* gas/arm/armv8-a.s: Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* gas/arm/armv8-a-bad.l: Update for HLT.
	* gas/arm/armv8-a-bad.s: Likewise.
	* gas/arm/armv8-a.d: Likewise.
	* gas/arm/armv8-a.s: Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* gas/arm/armv8-a.d: Update.
	* gas/arm/armv8-a.s: Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* gas/arm/armv8-a.s: New testcase.
	* gas/arm/armv8-a.d: Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* gas/arm/armv8-a-barrier.s: New testcase.
	* gas/arm/armv8-a-barrier-arm.d: Likewise.
	* gas/arm/armv8-a-barrier-thumb.d: Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* gas/arm/armv8-a-bad.l: Update
	* gas/arm/armv8-a-bad.s: Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* gas/arm/armv8-a-it-bad.d: New testcase.
	* gas/arm/armv8-a-it-bad.l: Likewise.
	* gas/arm/armv8-a-it-bad.s: Likewise.
	* gas/arm/ldr-t-bad.s: Update testcase.
	* gas/arm/ldr-t.d: Likewise.
	* gas/arm/ldr-t.s: Likewise.
	* gas/arm/neon-cond-bad-inc.s: Likewise.
	* gas/arm/sp-pc-validations-bad-t: Likewise.
	* gas/arm/vfp-fma-inc.s: Likewise.
	* gas/arm/vfp-neon-syntax-inc.s: Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* gas/arm/armv8-a-bad.l: Update testcase.
	* gas/arm/armv8-a-bad.s: Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* gas/arm/armv8-a-bad.d: New testcase.
	* gas/arm/armv8-a-bad.l: Likewise.
	* gas/arm/armv8-a-bad.s: Likewise.
	* gas/arm/depr-swp.l: Update for change in expected output.
	* gas/arm/depr-swp.s: Add additional test.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* gas/arm/attr-march-all.d: Update for change in expected
	output.
	* gas/arm/attr-mfpu-vfpv4-d16.d: Likewise.
	* gas/arm/attr-mfpu-vfpv4.d: Likewise.
	* gas/arm/attr-march-armv8-a+crypto.d: New testcase.
	* gas/arm/attr-march-armv8-a+fp.d: Likewise.
	* gas/arm/attr-march-armv8-a+simd.d: Likewise.
	* gas/arm/attr-march-armv8-a.d: Likewise.

include/:
	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* opcode/arm.h (ARM_CPU_IS_ANY): New define.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* elf/arm.h (TAG_CPU_ARCH_V8): New define.
	(MAX_TAG_CPU_ARCH): Update.
	* opcode/arm.h (ARM_EXT_V8): New define.
	(FPU_VFP_EXT_ARMV8): Likewise.
	(FPU_NEON_EXT_ARMV8): Likewise.
	(FPU_CRYPTO_EXT_ARMV8): Likewise.
	(ARM_AEXT_V8A): Likewise.
	(FPU_VFP_ARMV8): Likwise.
	(FPU_NEON_ARMV8): Likewise.
	(FPU_CRYPTO_ARMV8): Likewise.
	(FPU_ARCH_VFP_ARMV8): Likewise.
	(FPU_ARCH_NEON_VFP_ARMV8): Likewise.
	(FPU_ARCH_CRYPTO_NEON_VFP_ARMV8): Likewise.
	(ARM_ARCH_V8A): Likwise.
	(ARM_ARCH_V8A_FP): Likewise.
	(ARM_ARCH_V8A_SIMD): Likewise.
	(ARM_ARCH_V8A_CRYPTO): Likewise.

ld/testsuite/:
	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* ld-arm/arm-elf.exp: Add new testcases.
	* ld-arm/attr-merge-vfp-3.d: Update for change in expected
	output.
	* ld-arm/attr-merge-vfp-3r.d: Likewise.
	* ld-arm/attr-merge-vfp-4.d: Likewise.
	* ld-arm/attr-merge-vfp-4r.d: Likewise.
	* ld-arm/attr-merge-vfp-5.d: Likewise.
	* ld-arm/attr-merge-vfp-5r.d: Likewise.
	* ld-arm/attr-merge-vfp-7.d: New testcase.
	* ld-arm/attr-merge-vfp-7r.d: Likewise.
	* ld-arm/attr-merge-vfp-armv8-hard.s: Likewise.
	* ld-arm/attr-merge-vfp-armv8.s: Likewise.

opcodes/
	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* arm-dis.c (neon_opcodes): Add 2 operand sha instructions.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* arm-dis.c (neon_opcodes): Add SHA 3-operand instructions.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* arm-dis.c (neon_opcodes): Handle VMULL.P64.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* arm-dis.c (neon_opcodes): Add support for AES instructions.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* arm-dis.c (coprocessor_opcodes): Add support for HP/DP
	conversions.

	2012-08-24  Matthew  Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* arm-dis.c (coprocessor_opcodes): Add VRINT.
	(neon_opcodes): Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* arm-dis.c (coprocessor_opcodes): Add support for new VCVT
	variants.
	(neon_opcodes): Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* arm-dis.c (coprocessor_opcodes): Add VMAXNM/VMINNM.
	(neon_opcodes): Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* arm-dis.c (coprocessor_opcodes): Add VSEL.
	(print_insn_coprocessor): Add new %<>c bitfield format
	specifier.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* arm-dis.c (arm_opcodes): Add LDRA/STRL instructions.
	(thumb32_opcodes): Likewise.
	(print_arm_insn): Add support for %<>T formatter.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* arm-dis.c (arm_opcodes): Add HLT.
	(thumb_opcodes): Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* arm-dis.c (thumb32_opcodes): Add DCPS instruction.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* arm-dis.c (arm_opcodes): Add SEVL.
	(thumb_opcodes): Likewise.
	(thumb32_opcodes): Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* arm-dis.c (data_barrier_option): New function.
	(print_insn_arm): Use data_barrier_option.
	(print_insn_thumb32): Use data_barrier_option.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com
	* arm-dis.c (COND_UNCOND): New constant.
	(print_insn_coprocessor): Add support for %u format specifier.
	(print_insn_neon): Likewise.
@
text
@d1 1
a1 109
2012-08-28  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	Apply mainline patches
	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* gas/arm/armv8-a+crypto.s: Update testcase.
	* gas/arm/armv8-a+crypto.d: Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* gas/arm/armv8-a+crypto.d: Update testcase.
	* gas/arm/armv8-a+crypto.s: Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* gas/arm/armv8-a+crypto.d: Update testcase.
	* gas/arm/armv8-a+crypto.s: Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* gas/arm/armv8-a+crypto.d: New testcase.
	* gas/arm/armv8-a+crypto.s: Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* gas/arm/armv8-a+fp.d: Update testcase.
	* gas/arm/armv8-a+fp.s: Likewise.
	* gas/arm/half-prec-vfpv3.s: Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* gas/arm/armv8-a+fpv5.d: Update testcase.
	* gas/arm/armv8-a+fpv5.s: Likewise.
	* gas/arm/armv8-a+simdv3.d: Likewise.
	* gas/arm/armv8-a+simdv3.s: Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* gas/arm/armv8-a+fp.d: Update testcase.
	* gas/arm/armv8-a+fp.s: Likewise.
	* gas/arm/armv8-a+simd.d: Likewise.
	* gas/arm/armv8-a+simd.s: Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* gas/testsuite/gas/armv8-a+fp.d: Update testcase.
	* gas/testsuite/gas/armv8-a+fp.s: Likewise.
	* gas/testsuite/gas/armv8-a+simd.d: New testcase.
	* gas/testsuite/gas/armv8-a+simd.s: Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* gas/arm/armv8-a+fp.d: New testcase.
	* gas/arm/armv8-a+fp.s: Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* gas/arm/armv8-a-bad.l: Update testcase.
	* gas/arm/armv8-a-bad.s: Likewise.
	* gas/arm/armv8-a.d: Likewise.
	* gas/arm/armv8-a.s: Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* gas/arm/armv8-a-bad.l: Update for HLT.
	* gas/arm/armv8-a-bad.s: Likewise.
	* gas/arm/armv8-a.d: Likewise.
	* gas/arm/armv8-a.s: Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* gas/arm/armv8-a.d: Update.
	* gas/arm/armv8-a.s: Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* gas/arm/armv8-a.s: New testcase.
	* gas/arm/armv8-a.d: Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* gas/arm/armv8-a-barrier.s: New testcase.
	* gas/arm/armv8-a-barrier-arm.d: Likewise.
	* gas/arm/armv8-a-barrier-thumb.d: Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* gas/arm/armv8-a-bad.l: Update
	* gas/arm/armv8-a-bad.s: Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* gas/arm/armv8-a-it-bad.d: New testcase.
	* gas/arm/armv8-a-it-bad.l: Likewise.
	* gas/arm/armv8-a-it-bad.s: Likewise.
	* gas/arm/ldr-t-bad.s: Update testcase.
	* gas/arm/ldr-t.d: Likewise.
	* gas/arm/ldr-t.s: Likewise.
	* gas/arm/neon-cond-bad-inc.s: Likewise.
	* gas/arm/sp-pc-validations-bad-t: Likewise.
	* gas/arm/vfp-fma-inc.s: Likewise.
	* gas/arm/vfp-neon-syntax-inc.s: Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* gas/arm/armv8-a-bad.l: Update testcase.
	* gas/arm/armv8-a-bad.s: Likewise.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* gas/arm/armv8-a-bad.d: New testcase.
	* gas/arm/armv8-a-bad.l: Likewise.
	* gas/arm/armv8-a-bad.s: Likewise.
	* gas/arm/depr-swp.l: Update for change in expected output.
	* gas/arm/depr-swp.s: Add additional test.

	2012-08-24  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* gas/arm/attr-march-all.d: Update for change in expected
	output.
	* gas/arm/attr-mfpu-vfpv4-d16.d: Likewise.
	* gas/arm/attr-mfpu-vfpv4.d: Likewise.
	* gas/arm/attr-march-armv8-a+crypto.d: New testcase.
	* gas/arm/attr-march-armv8-a+fp.d: Likewise.
	* gas/arm/attr-march-armv8-a+simd.d: Likewise.
	* gas/arm/attr-march-armv8-a.d: Likewise.

012-08-13  Ian Bolton  <ian.bolton@@arm.com>
@


1.2057.2.4
log
@opcodes/
	Backport from mainline
	2012-08-15  Peter Bergner  <bergner@@vnet.ibm.com>
	* ppc-opc.c <xnop, yield, mdoio, mdoom>: New extended mnemonics.

	2012-08-15  Peter Bergner  <bergner@@vnet.ibm.com>
	* ppc-opc.c <RSQ, RTQ>: Use PPC_OPERAND_GPR.

	2012-08-16  Peter Bergner  <bergner@@vnet.ibm.com>
	* ppc-opc.c (powerpc_opcodes) <"lswx">: Use RAX for the second and
	RBX for the third operand.
	<"lswi">: Use RAX for second and NBI for the third operand.

	2012-08-20  Edmar Wienskoski  <edmar@@freescale.com>
	* ppc-opc.c (powerpc_opcodes): Changed opcode for vabsdub,
	vabsduh, vabsduw, mviwsplt.

	2012-08-28  Peter Bergner  <bergner@@vnet.ibm.com>
	* ppc-opc.c (UIMM4, UIMM3, UIMM2, VXVA_MASK, VXVB_MASK, VXVAVB_MASK,
	VXVDVA_MASK, VXUIMM4_MASK, VXUIMM3_MASK, VXUIMM2_MASK): New defines.
	(powerpc_opcodes) <vexptefp, vlogefp, vrefp, vrfim, vrfin, vrfip,
	vrfiz, vrsqrtefp, vupkhpx, vupkhsb, vupkhsh, vupklpx, vupklsb,
	vupklsh>: Use VXVA_MASK.
	<vspltisb, vspltish, vspltisw>: Use VXVB_MASK.
	<mfvscr>: Use VXVAVB_MASK.
	<mtvscr>: Use VXVDVA_MASK.
	<vspltb>: Use VXUIMM4_MASK.
	<vsplth>: Use VXUIMM3_MASK.
	<vspltw>: Use VXUIMM2_MASK.

gas/testsuite/
	Backport from mainline
	2012-08-15  Peter Bergner  <bergner@@vnet.ibm.com>

	* gas/ppc/common.d ("nop", "xnop"): Add tests.
	* gas/ppc/common.s: Likewise.
	* gas/ppc/power7.d ("yield", "mdoio", "mdoom"): Add tests.
	* gas/ppc/power7.s: Likewise.

	2012-08-15  Peter Bergner  <bergner@@vnet.ibm.com>

	* gas/ppc/power4.s <lq, stq>: Add more tests.
	* gas/ppc/power4.d: Likewise.

	2012-08-20  Edmar Wienskoski  <edmar@@freescale.com>
	* gas/ppc/e6500.d: Changed opcode for vabsdub, vabsduh, vabsduw,
	mviwsplt.
@
text
@a0 19
2012-08-28  Peter Bergner  <bergner@@vnet.ibm.com>

	Backport from mainline
	2012-08-15  Peter Bergner  <bergner@@vnet.ibm.com>

	* gas/ppc/common.d ("nop", "xnop"): Add tests.
	* gas/ppc/common.s: Likewise.
	* gas/ppc/power7.d ("yield", "mdoio", "mdoom"): Add tests.
	* gas/ppc/power7.s: Likewise.

	2012-08-15  Peter Bergner  <bergner@@vnet.ibm.com>

	* gas/ppc/power4.s <lq, stq>: Add more tests.
	* gas/ppc/power4.d: Likewise.

	2012-08-20  Edmar Wienskoski  <edmar@@freescale.com>
	* gas/ppc/e6500.d: Changed opcode for vabsdub, vabsduh, vabsduw,
	mviwsplt.

@


1.2057.2.5
log
@bfd/
2012-09-04  Sergey A. Guriev <sergey.a.guriev@@intel.com>

	* cpu-ia64-opc.c (ins_cnt6a): New function.
	(ext_cnt6a): Ditto.
	(ins_strd5b): Ditto.
	(ext_strd5b): Ditto.
	(elf64_ia64_operands): Add new operand types.

gas/
2012-09-04  Sergey A. Guriev  <sergey.a.guriev@@intel.com>

	* config/tc-ia64.c (reg_symbol): Add a new register.
	(indirect_reg): Ditto.
	(pseudo_func): Add new symbolic constants.
	(operand_match): Add new operand types recognition.
	(operand_insn): Add new register recognition.
	(md_begin): Add new register definition.
	(specify_resource): Add new register recognition.

gas/
2012-09-04  Sergey A. Guriev  <sergey.a.guriev@@intel.com>

	* gas/testsuite/gas/ia64/psn.d: New file.
	* gas/testsuite/gas/ia64/psn.s: New file.
	* gas/testsuite/gas/ia64/ia64.exp: Add new testcase.
	* gas/testsuite/gas/ia64/opc-i.d: Fixed failing tests.
	* gas/testsuite/gas/ia64/opc-m.d: Ditto.

include/
2012-09-04  Sergey A. Guriev <sergey.a.guriev@@intel.com>

	* ia64.h (ia64_opnd): Add new operand types.

opcodes/
2012-09-04  Sergey A. Guriev <sergey.a.guriev@@intel.com>

	* ia64-asmtab.h (completer_index): Extend bitfield to full uint.
	* ia64-gen.c: Promote completer index type to longlong.
	(irf_operand): Add new register recognition.
	(in_iclass_mov_x): Add an entry for the new mov_* instruction type.
	(lookup_specifier): Add new resource recognition.
	(insert_bit_table_ent): Relax abort condition according to the
	changed completer index type.
	(print_dis_table): Fix printf format for completer index.
	* ia64-ic.tbl: Add a new instruction class.
	* ia64-opc-i.c (ia64_opcodes_i): Define new I-instructions.
	* ia64-opc-m.c (ia64_opcodes_m): Define new M-instructions.
	* ia64-opc.h: Define short names for new operand types.
	* ia64-raw.tbl: Add new RAW resource for DAHR register.
	* ia64-waw.tbl: Add new WAW resource for DAHR register.
	* ia64-asmtab.c: Regenerate.
@
text
@a0 8
2012-09-04  Sergey A. Guriev  <sergey.a.guriev@@intel.com>

	* gas/testsuite/gas/ia64/psn.d: New file.
	* gas/testsuite/gas/ia64/psn.s: New file.
	* gas/testsuite/gas/ia64/ia64.exp: Add new testcase.
	* gas/testsuite/gas/ia64/opc-i.d: Fixed failing tests.
	* gas/testsuite/gas/ia64/opc-m.d: Ditto.

@


1.2057.2.6
log
@gas/
	* config/tc-mips.c (ISA_SUPPORTS_DSP_ASE): Also set if microMIPS
	mode.
	(ISA_SUPPORTS_DSPR2_ASE): Likewise.
	(macro_build) <'2'>: Handle microMIPS.
2012-07-31  Maciej W. Rozycki  <macro@@codesourcery.com>
            Chao-Ying Fu  <fu@@mips.com>
            Catherine Moore  <clm@@codesourcery.com>

gas/
	* gas/mips/micromips@@mips32-dsp.d: New test.
	* gas/mips/micromips@@mips32-dspr2.d: New test.
	* gas/mips/mips32-dsp.s: Update padding.
	* gas/mips/mips32-dspr2.s: Likewise.
	* gas/mips/mips.exp: Use run_dump_test_arches to run MIPS32 DSP
	tests.
2012-07-31  Catherine Moore  <clm@@codesourcery.com>
            Maciej W. Rozycki  <macro@@codesourcery.com>

include/
2012-07-31  Chao-Ying Fu  <fu@@mips.com>
            Catherine Moore  <clm@@codesourcery.com>
            Maciej W. Rozycki  <macro@@codesourcery.com>

opcodes/
2012-08-01  Alan Modra  <amodra@@gmail.com>

	* h8300-dis.c: Fix printf arg warnings.
	* i960-dis.c: Likewise.
	* mips-dis.c: Likewise.
	* pdp11-dis.c: Likewise.
	* sh-dis.c: Likewise.
	* v850-dis.c: Likewise.
	* configure.in: Formatting.
	* configure: Regenerate.
	* rl78-decode.c: Regenerate.
	* po/POTFILES.in: Regenerate.
@
text
@a0 16
	* gas/mips/micromips@@mips32-dsp.d: New test.
	* gas/mips/micromips@@mips32-dspr2.d: New test.
	* gas/mips/mips32-dsp.s: Update padding.
	* gas/mips/mips32-dspr2.s: Likewise.
	* gas/mips/mips.exp: Use run_dump_test_arches to run MIPS32 DSP
	tests.
2012-07-31  Catherine Moore  <clm@@codesourcery.com>
            Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/micromips@@mips32-dsp.d: New.
	* gas/mips/micromips@@mips32-dspr2.d: New.
	* gas/mips/mips32-dsp.d: Remove -mips32r2.
	* gas/mips/mips32-dspr2.d: Likewise.
	* gas/mips/mips.exp: (mips_create_arch): Use -mips64r2
	for micromips.  Use run_dump_test_arches to run dsp tests.

@


1.2057.2.7
log
@bfd/
2012-08-09  Maciej W. Rozycki  <macro@@codesourcery.com>

	* elfxx-mips.c (LA25_LUI_MICROMIPS_1, LA25_LUI_MICROMIPS_2):
	Remove macros, folding them into...
	(LA25_LUI_MICROMIPS): ... this new macro.
	(LA25_J_MICROMIPS_1, LA25_J_MICROMIPS_2): Likewise into...
	(LA25_J_MICROMIPS): ... this new macro.
	(LA25_ADDIU_MICROMIPS_1, LA25_ADDIU_MICROMIPS_2): Likewise
	into...
	(LA25_ADDIU_MICROMIPS): ... this new macro.
	(bfd_put_micromips_32, bfd_get_micromips_32): New functions.
	(mips_elf_create_la25_stub): Use them.
	(check_br32_dslot, check_br32, check_relocated_bzc): Likewise.
	(_bfd_mips_elf_relax_section): Likewise.

gas/
	* config/tc-mips.c (NO_ISA_COP, COP_INSN): Remove macros.
	(is_opcode_valid): Remove coprocessor instruction exclusions.
	Replace OPCODE_IS_MEMBER with opcode_is_member.
	(is_opcode_valid_16): Replace OPCODE_IS_MEMBER with
	opcode_is_member.
	(macro): Remove coprocessor instruction exclusions.

gas/
	* gas/mips/mips.exp: Set has_newabi for all Linux targets.
	* gas/mips/cfi-n64-1.d: Adjust for targets that do not infer the
	ISA from the ABI.
	* gas/mips/elf-rel-got-n32.d: Likewise.
	* gas/mips/elf-rel-got-n64.d: Likewise.
	* gas/mips/elf-rel-xgot-n32.d: Likewise.
	* gas/mips/elf-rel-xgot-n64.d: Likewise.
	* gas/mips/elf-rel18.d: Likewise.
	* gas/mips/elf-rel28-n32.d: Likewise.
	* gas/mips/elf-rel28-n64.d: Likewise.
	* gas/mips/jal-newabi.d: Likewise.
	* gas/mips/ldstla-n64-shared.d: Likewise.
	* gas/mips/ldstla-n64-sym32.d: Likewise.
	* gas/mips/ldstla-n64.d: Likewise.
	* gas/mips/macro-warn-1-n32.d: Likewise.
	* gas/mips/macro-warn-2-n32.d: Likewise.
	* gas/mips/n32-consec.d: Likewise.

include/
2012-08-13  Richard Sandiford  <rdsandiford@@googlemail.com>
            Maciej W. Rozycki  <macro@@codesourcery.com>

	* mips.h (mips_opcode): Add the exclusions field.
	(OPCODE_IS_MEMBER): Remove macro.
	(cpu_is_member): New inline function.
	(opcode_is_member): Likewise.

ld/
	* emulparams/elf32bmip.sh: Make _gp hidden.
	* emulparams/elf32bmipn32-defs.sh: Likewise.
	* emulparams/elf32mipswindiss.sh: Likewise.
	* scripttempl/mips.sc: Likewise.

ld/
2012-08-28  Maciej W. Rozycki  <macro@@codesourcery.com>

	* ld-elf/export-class.sd: New test.
	* ld-elf/export-class.vd: New test.
	* ld-elf/export-class-def.s: New test source.
	* ld-elf/export-class-dep.s: New test source.
	* ld-elf/export-class-lib.s: New test source.
	* ld-elf/export-class-ref.s: New test source.
	* ld-elf/export-class-lib.ver: New test version script.
	* ld-elf/export-class.exp: New test script.
	* ld-arm/arm-export-class.rd: New test.
	* ld-arm/arm-export-class.xd: New test.
	* ld-arm/export-class.exp: New test script.
	* ld-i386/i386-export-class.rd: New test.
	* ld-i386/i386-export-class.xd: New test.
	* ld-i386/export-class.exp: New test script.
	* ld-mips-elf/mips-32-export-class.rd: New test.
	* ld-mips-elf/mips-32-export-class.xd: New test.
	* ld-mips-elf/mips-64-export-class.rd: New test.
	* ld-mips-elf/mips-64-export-class.xd: New test.
	* ld-mips-elf/export-class.exp: New test script.
	* ld-powerpc/powerpc-32-export-class.rd: New test.
	* ld-powerpc/powerpc-32-export-class.xd: New test.
	* ld-powerpc/powerpc-64-export-class.rd: New test.
	* ld-powerpc/powerpc-64-export-class.xd: New test.
	* ld-powerpc/export-class.exp: New test script.
	* ld-x86-64/x86-64-64-export-class.rd: New test.
	* ld-x86-64/x86-64-x32-export-class.rd: New test.
	* ld-x86-64/export-class.exp: New test script.

opcodes/
2012-08-14  Maciej W. Rozycki  <macro@@codesourcery.com>

	* mips-dis.c (print_insn_args): Add GET_OP and GET_OP_S local
	macros, use local variables for info struct member accesses,
	update the type of the variable used to hold the instruction
	word.
	(print_insn_mips, print_mips16_insn_arg): Likewise.
	(print_insn_mips16): Add GET_OP and GET_OP_S local macros, use
	local variables for info struct member accesses.
	(print_insn_micromips): Add GET_OP_S local macro.
	(_print_insn_mips): Update the type of the variable used to hold
	the instruction word.
@
text
@a0 41
	* gas/mips/mips.exp: Set has_newabi for all Linux targets.
	* gas/mips/cfi-n64-1.d: Adjust for targets that do not infer the
	ISA from the ABI.
	* gas/mips/elf-rel-got-n32.d: Likewise.
	* gas/mips/elf-rel-got-n64.d: Likewise.
	* gas/mips/elf-rel-xgot-n32.d: Likewise.
	* gas/mips/elf-rel-xgot-n64.d: Likewise.
	* gas/mips/elf-rel18.d: Likewise.
	* gas/mips/elf-rel28-n32.d: Likewise.
	* gas/mips/elf-rel28-n64.d: Likewise.
	* gas/mips/jal-newabi.d: Likewise.
	* gas/mips/ldstla-n64-shared.d: Likewise.
	* gas/mips/ldstla-n64-sym32.d: Likewise.
	* gas/mips/ldstla-n64.d: Likewise.
	* gas/mips/macro-warn-1-n32.d: Likewise.
	* gas/mips/macro-warn-2-n32.d: Likewise.
	* gas/mips/n32-consec.d: Likewise.

2012-08-06  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/mips.exp: Set has_newabi for mips*-sde-elf* too.
	* gas/mips/elf-rel-got-n32.s: Adjust padding.
	* gas/mips/elf-rel-got-n64.s: Likewise.
	* gas/mips/elf-rel23.s: Likewise.
	* gas/mips/elf-rel28.s: Likewise.
	* gas/mips/n32-consec.s: Likewise.
	* gas/mips/elf-rel-xgot-n32.d: Adjust output expected.
	* gas/mips/elf-rel-xgot-n64.d: Likewise.
	* gas/mips/elf-rel23.d: Likewise.
	* gas/mips/elf-rel23a.d: Likewise.
	* gas/mips/elf-rel23b.d: Likewise.
	* gas/mips/elf-rel28-n32.d: Likewise.

2012-08-06  Maciej W. Rozycki  <macro@@codesourcery.com>

2012-08-06  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/branch-swap-2.l: New list test.
	* gas/mips/branch-swap-2.s: New test source.
	* gas/mips/mips.exp: Run the new test.

@


1.2057.2.8
log
@	* gas/mmix/err-fb-2.s: New test.
@
text
@a0 6
2012-09-10  Hans-Peter Nilsson  <hp@@bitrange.com>

	* gas/mmix/err-fb-2.s: New test.

2012-09-10  Maciej W. Rozycki  <macro@@codesourcery.com>

@


1.2057.2.9
log
@	PR gas/14521
	* gas/mmix/group-1.d, gas/mmix/group-1.s: New test.
@
text
@a2 3
	PR gas/14521
	* gas/mmix/group-1.d, gas/mmix/group-1.s: New test.

@


1.2057.2.10
log
@gas/
2012-08-11  Saravanan Ekanathan <saravanan.ekanathan@@amd.com>

	PR gas/14423
	* gas/i386/arch-10-bdver2.d: New file.
	* gas/i386/x86-64-arch-2-bdver2.d: Likewise.
	* gas/i386/i386.exp: Run new test

opcodes/
2012-08-11  Saravanan Ekanathan <saravanan.ekanathan@@amd.com>

	PR gas/14423
	* i386-gen.c (cpu_flag_init): Add CpuFMA in CPU_BDVER2_FLAGS.
	* i386-init.h: Regenerated.
@
text
@a0 7
2012-08-11  Saravanan Ekanathan <saravanan.ekanathan@@amd.com>

	PR gas/14423
	* gas/i386/arch-10-bdver2.d: New file.
	* gas/i386/x86-64-arch-2-bdver2.d: Likewise.
	* gas/i386/i386.exp: Run new test

@


1.2057.2.11
log
@gas/
2012-08-17  Nagajyothi Eggone  <nagajyothi.eggone@@amd.com>

	* config/tc-i386.c (cpu_arch): Add CPU_BTVER1_FLAGS and
	CPU_BTVER2_FLAGS.
	(i386_align_code): Add case for PROCESSOR_BT.

	* config/tc-i386.h (enum processor_type): Add PROCESSOR_BT.

	* doc/c-i386.texi: Add -march={btver1, btver2} options.

gas/testsuite/
2012-08-17  Nagajyothi Eggone  <nagajyothi.eggone@@amd.com>

	* gas/i386/i386.exp: Run btver1 and btver2 test cases.

	* gas/i386/nops-1-btver1.d: New.
	* gas/i386/nops-1-btver2.d: New.
	* gas/i386/arch-10-btver1.d: New.
	* gas/i386/arch-10-btver2.d: New.
	* gas/i386/x86-64-nops-1-btver1.d: New.
	* gas/i386/x86-64-nops-1-btver2.d: New.
	* gas/i386/x86-64-arch-2-btver1.d: New.
	* gas/i386/x86-64-arch-2-btver2.d: New.

opcodes/
2012-08-17  Nagajyothi Eggone  <nagajyothi.eggone@@amd.com>

	* i386-gen.c (cpu_flag_init): Add CPU_BTVER1_FLAGS and
	CPU_BTVER2_FLAGS.

	* i386-opc.h: Update CpuPRFCHW comment.

	* i386-opc.tbl: Enable prefetch instruction for CpuPRFCHW.
	* i386-init.h: Regenerated.
	* i386-tbl.h: Likewise.
@
text
@a0 13
2012-08-17  Nagajyothi Eggone  <nagajyothi.eggone@@amd.com>

	* gas/i386/i386.exp: Run btver1 and btver2 test cases.

	* gas/i386/nops-1-btver1.d: New.
	* gas/i386/nops-1-btver2.d: New.
	* gas/i386/arch-10-btver1.d: New.
	* gas/i386/arch-10-btver2.d: New.
	* gas/i386/x86-64-nops-1-btver1.d: New.
	* gas/i386/x86-64-nops-1-btver2.d: New.
	* gas/i386/x86-64-arch-2-btver1.d: New.
	* gas/i386/x86-64-arch-2-btver2.d: New.

@


1.2057.2.12
log
@	opcodes/
	* micromips-opc.c (micromips_opcodes): Correct the encoding of
	the "swxc1" instruction.

	gas/testsuite/
	* gas/mips/micromips.d: Correct the disassembly of SWXC1.
	* gas/mips/micromips-trap.d: Likewise.
	* gas/mips/micromips@@24k-triple-stores-1.d: Likewise.
	* gas/mips/micromips@@mips4-fp.d: Likewise.
@
text
@a0 7
2012-09-18  Chao-ying Fu  <fu@@mips.com>

	* gas/mips/micromips.d: Correct the disassembly of SWXC1.
	* gas/mips/micromips-trap.d: Likewise.
	* gas/mips/micromips@@24k-triple-stores-1.d: Likewise.
	* gas/mips/micromips@@mips4-fp.d: Likewise.

@


1.2057.2.13
log
@gas/
2012-09-17  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* config/tc-aarch64.c (aarch64_archs): Rename 'armv8' to 'armv8-a'.

gas/testsuite/
2012-09-17  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* gas/aarch64/crypto.d (#as): Update for v8->v8-A change.
	* gas/aarch64/int-insns.d (#as): Likewise.
	* gas/aarch64/legacy_reg_names.s (.arch): Likewise.
	* gas/aarch64/neon-not.s (.arch): Likewise.
	* gas/aarch64/neon-vfp-reglist-post.s (.arch): Likewise.
	* gas/aarch64/neon-vfp-reglist.s (.arch): Likewise.
@
text
@a0 9
2012-09-17  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* gas/aarch64/crypto.d (#as): Update for v8->v8-A change.
	* gas/aarch64/int-insns.d (#as): Likewise.
	* gas/aarch64/legacy_reg_names.s (.arch): Likewise.
	* gas/aarch64/neon-not.s (.arch): Likewise.
	* gas/aarch64/neon-vfp-reglist-post.s (.arch): Likewise.
	* gas/aarch64/neon-vfp-reglist.s (.arch): Likewise.

@


1.2057.2.14
log
@gas/
2012-09-18  Kyrylo Tkachov  <kyrylo.tkachov@@arm.com>

	* config/tc-arm.c: Changed ldra and strl-form mnemonics
	to lda and stl-form for armv8.

gas/testsuite/
2012-09-18  Kyrylo Tkachov  <kyrylo.tkachov@@arm.com>

	* gas/arm/armv8-a-bad.l: Updated for changed mnemonics.
	* gas/arm/armv8-a-bad.s: Likewise.
	* gas/arm/armv8-a.d: Likewise.
	* gas/arm/armv8-a.s: Likewise.
	* gas/arm/inst.s: Added test for ldrt encoding compatibly with ldralt.
	* gas/arm/inst.d: Updated.

opcodes/
2012-09-18  Kyrylo Tkachov  <kyrylo.tkachov@@arm.com>

        * arm-dis.c: Changed ldra and strl-form mnemonics
	to lda and stl-form.
@
text
@a0 9
2012-09-18  Kyrylo Tkachov  <kyrylo.tkachov@@arm.com>

	* gas/arm/armv8-a-bad.l: Updated for changed mnemonics.
	* gas/arm/armv8-a-bad.s: Likewise.
	* gas/arm/armv8-a.d: Likewise.
	* gas/arm/armv8-a.s: Likewise.
	* gas/arm/inst.s: Added test for ldrt encoding compatibly with ldralt.
	* gas/arm/inst.d: Updated.

@


1.2057.2.15
log
@gas/
2012-10-09  Nagajyothi Eggone  <nagajyothi.eggone@@amd.com>

	* config/tc-i386.c (cpu_arch): Add CPU_BDVER3_FLAGS.
	* doc/c-i386.texi: Add -march=bdver3 option.

gas/testsuite/
2012-10-09  Nagajyothi Eggone  <nagajyothi.eggone@@amd.com>

	* gas/i386/i386.exp: Run bdver3 test cases.
	* gas/i386/nops-1-bdver3.d: New.
	* gas/i386/arch-10-bdver3.d: New.
	* gas/i386/x86-64-nops-1-bdver3.d: New.
	* gas/i386/x86-64-arch-2-bdver3.d: New.

opcodes/
2012-10-09  Nagajyothi Eggone  <nagajyothi.eggone@@amd.com>

	* i386-gen.c (cpu_flag_init): Add CPU_BDVER3_FLAGS.
	* i386-init.h: Regenerated.
@
text
@a0 8
2012-10-09  Nagajyothi Eggone  <nagajyothi.eggone@@amd.com>

	* gas/i386/i386.exp: Run bdver3 test cases.
	* gas/i386/nops-1-bdver3.d: New.
	* gas/i386/arch-10-bdver3.d: New.
	* gas/i386/x86-64-nops-1-bdver3.d: New.
	* gas/i386/x86-64-arch-2-bdver3.d: New.

@


1.2057.2.16
log
@gas/
	* config/tc-arm.c (arm_symbol_chars): New variable.
	* config/tc-arm.h (tc_symbol_chars): New macro, defined to that.

gas/testsuite/
	* gas/arm/macro-pld.s: New file.
	* gas/arm/macro-pld.d: New file.
@
text
@a0 5
2012-11-20  Roland McGrath  <mcgrathr@@google.com>

	* gas/arm/macro-pld.s: New file.
	* gas/arm/macro-pld.d: New file.

@


1.2057.2.17
log
@binutils/testsuite/
	* lib/binutils-common.exp (is_zlib_supported): New function.
	* lib/utils-lib.exp (run_dump_test): If as options include
	--compress-debug-sections and zlib is not available, report
	the test as unsupported.
	* binutils-all/compress.exp: Bail out if zlib is not available.
	* binutils-all/objdump.exp (objdump compressed debug):
	Mark unsupported if zlib is not available.
	* binutils-all/readelf.exp (readelf_compressed_wa_test): Likewise.

gas/testsuite/
	* lib/gas-defs.exp (run_dump_test): If as options include
	--compress-debug-sections and zlib is not available, report
	the test as unsupported.

ld/testsuite/
	* ld-elf/compress.exp: Bail out if zlib is not supported.
	* lib/ld-lib.exp (run_dump_test): If as options include
	--compress-debug-sections and zlib is not available, report
	the test as unsupported.
@
text
@a0 6
2012-11-27  Roland McGrath  <mcgrathr@@google.com>

	* lib/gas-defs.exp (run_dump_test): If as options include
	--compress-debug-sections and zlib is not available, report
	the test as unsupported.

@


1.2057.2.18
log
@gas/

2012-12-06  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* config/tc-aarch64.c (exp_has_bignum_p): Remove.
	(my_get_expression): Not get rid of bignums.
	(s_ltorg): Increase the range of 'align'.
	(programmer_friendly_fixup): Allow bignum expression.

gas/testsuite/

2012-12-06  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* gas/aarch64/programmer-friendly.s: Add tests for LDR literal with
	the auto-generation of literal in pool.
	* gas/aarch64/programmer-friendly.d: Update.
@
text
@a0 6
2012-12-06  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* gas/aarch64/programmer-friendly.s: Add tests for LDR literal with
	the auto-generation of literal in pool.
	* gas/aarch64/programmer-friendly.d: Update.

@


1.2057.2.19
log
@2012-12-20  Greta Yorsh  <Greta.Yorsh@@arm.com>

	* config/tc-arm.c (rfefa,rfeea,rfeed): Fix encoding.
	(rfe,srs,srsea,srsfa,srsed,srsfd): Add missing mnemonics.

	* gas/arm/srs-t2.s: Add tests for missing srs modes.
	* gas/arm/srs-t2.l: Update expected output.
	* gas/arm/srs-arm.s: Add tests for missing srs modes.
	* gas/arm/srs-arm.l: Update expected output.
	* gas/arm/archv6.s: Add tests for missing rfe modes.
	* gas/arm/archv6.d: Update expected output.
@
text
@a0 9
2012-12-20  Greta Yorsh  <Greta.Yorsh@@arm.com>

	* gas/arm/srs-t2.s: Add tests for missing srs modes.
	* gas/arm/srs-t2.l: Update expected output.
	* gas/arm/srs-arm.s: Add tests for missing srs modes.
	* gas/arm/srs-arm.l: Update expected output.
	* gas/arm/archv6.s: Add tests for missing rfe modes.
	* gas/arm/archv6.d: Update expected output.

@


1.2057.2.20
log
@	PR 12549
	PR 14493
	PR 14567
	PR 14662
	PR 14758
	PR 14813
	PR 14904
	PR 14915
	PR 14926
	PR 14950
	PR 14962
	Apply mainline patches
@
text
@a0 80
2013-01-22  Alan Modra  <amodra@@gmail.com>

	Apply mainline patches
	2012-11-23  Alan Modra  <amodra@@gmail.com>
	* gas/ppc/astest2.d: Pass -Mppc to objdump.

	2012-11-14  Ulrich Weigand  <uweigand@@de.ibm.com>
	* gas/ppc/astest.d: Update for fixup changes.
	* gas/ppc/astest64.d: Likewise.
	* gas/ppc/astest2.d: Likewise.
	* gas/ppc/astest2_64.d: Likewise.
	* gas/ppc/test1elf32.d: Likewise.
	* gas/ppc/test1elf64.d: Likewise.

	2012-10-29  Alan Modra  <amodra@@gmail.com>
	* gas/cfi/cfi.exp: Remove redundant ppc test.  Exclude
	powerpc-pe targets from cfi-common-6 test.
	* gas/cfi/cfi-ppc-1.d: Use objdump to handle pe.
	* gas/cfi/cfi-ppc-1.s: Don't use .type and .size.
	* gas/ppc/ppc.exp: Exclude various tests for powerpc-pe.  Exclude
	vle tests for le targets.
	* gas/ppc/476.d, * gas/ppc/476.s: Update for le output.  Use .text
	rather than section directive with quotes.
	* gas/ppc/a2.d,	* gas/ppc/a2.s: Likewise.
	* gas/ppc/altivec.d, * gas/ppc/altivec.s: Likewise.
	* gas/ppc/altivec2.d: Likewise.
	* gas/ppc/altivec_and_spe.d: Likewise.
	* gas/ppc/astest.d: Likewise.
	* gas/ppc/astest2.d: Likewise.
	* gas/ppc/astest2_64.d: Likewise.
	* gas/ppc/astest64.d: Likewise.
	* gas/ppc/booke.d, * gas/ppc/booke.s: Likewise.
	* gas/ppc/cell.d, * gas/ppc/cell.s: Likewise.
	* gas/ppc/common.d, * gas/ppc/common.s: Likewise.
	* gas/ppc/e500.d, * gas/ppc/e500.s: Likewise.
	* gas/ppc/e500mc.d, * gas/ppc/e500mc.s: Likewise.
	* gas/ppc/e500mc64_nop.d, * gas/ppc/e500mc64_nop.s: Likewise.
	* gas/ppc/e5500_nop.d, * gas/ppc/e5500_nop.s: Likewise.
	* gas/ppc/e6500.d, * gas/ppc/e6500.s: Likewise.
	* gas/ppc/e6500_nop.d, * gas/ppc/e6500_nop.s: Likewise.
	* gas/ppc/machine.d: Likewise.
	* gas/ppc/power4.d, * gas/ppc/power4.s: Likewise.
	* gas/ppc/power4_32.d, * gas/ppc/power4_32.s: Likewise.
	* gas/ppc/power6.d, * gas/ppc/power6.s: Likewise.
	* gas/ppc/power7.d, * gas/ppc/power7.s: Likewise.
	* gas/ppc/ppc750ps.d, * gas/ppc/ppc750ps.s: Likewise.
	* gas/ppc/regnames.d: Likewise.
	* gas/ppc/simpshft.d: Likewise.
	* gas/ppc/test1elf32.d: Likewise.
	* gas/ppc/test1elf64.d: Likewise.
	* gas/ppc/titan.d, * gas/ppc/titan.s: Likewise.
	* gas/ppc/vle-reloc.s: Likewise.
	* gas/ppc/vle-simple-1.s: Likewise.
	* gas/ppc/vle-simple-2.s: Likewise.
	* gas/ppc/vle-simple-3.s: Likewise.
	* gas/ppc/vle-simple-4.s: Likewise.
	* gas/ppc/vle-simple-5.s: Likewise.
	* gas/ppc/vle-simple-6.s: Likewise.
	* gas/ppc/vle.s: Likewise.
	* gas/ppc/vsx.d, * gas/ppc/vsx.s: Likewise.

	2012-10-26  Alan Modra  <amodra@@gmail.com>
	* gas/ppc/power4.s: Fix invalid lq offsets.
	* gas/ppc/power4.d: Update.

	2012-10-22  Peter Bergner  <bergner@@vnet.ibm.com>
	* gas/ppc/altivec.s <vcfpsxws>: Fix opcode spelling.

	2012-10-05  Peter Bergner  <bergner@@vnet.ibm.com>
	* gas/ppc/power7.d: Add tests for mfppr, mfppr32, mtppr and mtppr32.
	* gas/ppc/power7.s: Likewise.
	* gas/ppc/altivec.d: Add tests for all legacy Altivec instructions.
	* gas/ppc/altivec.s: Likewise.
	* gas/ppc/altivec2.d: New test file.
	* gas/ppc/altivec2.s: Likewise.
	* gas/ppc/ppc.exp: Run it.

	2012-08-01  James Lemke  <jwlemke@@codesourcery.com>
	* gas/cfi/cfi-ppc-1.d: Allow for code alignment of 2 or 4.

@


1.2057.2.21
log
@Add missing alignment check to load/store uimm12 immediate offset.

opcodes/

	* aarch64-opc.c (operand_general_constraint_met_p): Change to
	check the alignment of addr.offset.imm instead of that of
	shifter.amount for operand type AARCH64_OPND_ADDR_UIMM12.

gas/testsuite/

	* gas/aarch64/illegal-2.s: Add test case.
	* gas/aarch64/illegal-2.l: Likewise.
@
text
@a0 5
2013-02-12  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* gas/aarch64/illegal-2.s: Add test case.
	* gas/aarch64/illegal-2.l: Likewise.

@


1.2057.2.22
log
@opcodes/

	* aarch64-opc.c (aarch64_sys_regs): Add rmr_el1, rmr_el2 and
	rmr_el3; remove daifset and daifclr.

gas/testsuite/

	* gas/aarch64/sysreg-1.s: Add tests of rmr_el1, rmr_el2 and rmr_el3.
	* gas/aarch64/sysreg-1.d: Update.
	* gas/aarch64/illegal.s: Add tests of daifset and daifclr.
	* gas/aarch64/illegal.d: Update.
@
text
@a2 7
	* gas/aarch64/sysreg-1.s: Add tests of rmr_el1, rmr_el2 and rmr_el3.
	* gas/aarch64/sysreg-1.d: Update.
	* gas/aarch64/illegal.s: Add tests of daifset and daifclr.
	* gas/aarch64/illegal.d: Update.

2013-02-12  Yufeng Zhang  <yufeng.zhang@@arm.com>

@


1.2057.2.23
log
@Add missing support for a number of preload hints (PRFM <prfop> operand).

opcodes/

	* aarch64-opc.c (aarch64_prfops): Update to support PLIL1KEEP,
	PLIL1STRM, PLIL2KEEP, PLIL2STRM, PLIL3KEEP and PLIL3STRM.

gas/testsuite/

	* gas/aarch64/system.d: Update.
@
text
@a2 4
	* gas/aarch64/system.d: Update.

2013-02-12  Yufeng Zhang  <yufeng.zhang@@arm.com>

@


1.2057.2.24
log
@Fix the disassembler to display MOVZ and MOVN as MOV.

opcodes/

	* aarch64-opc.c (aarch64_print_operand): Change to print
	AARCH64_OPND_IMM_MOV in hexadecimal in the instruction and in decimal
	in comment.
	* aarch64-tbl.h (aarch64_opcode_table): Remove the 'F_PSEUDO' flag
	from the opcode entries of OP_MOV_IMM_LOG, OP_MOV_IMM_WIDEN and
	OP_MOV_IMM_WIDE.

gas/testsuite/

	* gas/aarch64/int-insns.d: Update.
	* gas/aarch64/mov.d: Update.
	* gas/aarch64/reloc-insn.d: Update.

ld/testsuite/

	* ld-aarch64/emit-relocs-264.d: Append the '-Mno-aliases' option to
	the objdump directive.
	* ld-aarch64/emit-relocs-266.d: Ditto.
	* ld-aarch64/emit-relocs-268.d: Ditto.
	* ld-aarch64/emit-relocs-269.d: Ditto.
	* ld-aarch64/emit-relocs-270.d: Ditto.
	* ld-aarch64/emit-relocs-271.d: Ditto.
	* ld-aarch64/emit-relocs-272.d: Ditto.
@
text
@a2 6
	* gas/aarch64/int-insns.d: Update.
	* gas/aarch64/mov.d: Update.
	* gas/aarch64/reloc-insn.d: Update.

2013-02-12  Yufeng Zhang  <yufeng.zhang@@arm.com>

@


1.2057.2.25
log
@Fix the incorrect diagnosics on illegal system registers.

gas/

	* config/tc-aarch64.c (parse_operands): Change to compare the result
	of function call 'parse_sys_reg' with 'PARSE_FAIL' instead of 'FALSE'.

gas/testsuite/

	* gas/aarch64/diagnostic.s: Add test.
	* gas/aarch64/diagnostic.l: Update.
@
text
@a2 5
	* gas/aarch64/diagnostic.s: Add test.
	* gas/aarch64/diagnostic.l: Update.

2013-02-12  Yufeng Zhang  <yufeng.zhang@@arm.com>

@


1.2057.2.26
log
@include/opcode/

2013-02-12  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* aarch64.h (aarch64_op): Add OP_SXTL, OP_SXTL2, OP_UXTL and OP_UXTL2.

opcodes/

2013-02-12  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* aarch64-tbl.h (aarch64_opcode_table): Flag sshll, sshll2, ushll and
	ushll2 with F_HAS_ALIAS.  Add entries for sxtl, sxtl2, uxtl and uxtl2.
	* aarch64-asm.c (convert_xtl_to_shll): New function.
	(convert_to_real): Handle OP_SXTL, OP_SXTL2, OP_UXTL and OP_UXTL2 by
	calling convert_xtl_to_shll.
	* aarch64-dis.c (convert_shll_to_xtl): New function.
	(convert_to_alias): Handle OP_SXTL, OP_SXTL2, OP_UXTL and OP_UXTL2 by
	calling convert_shll_to_xtl.
	* aarch64-gen.c: Update copyright year.
	* aarch64-asm-2.c: Re-generate.
	* aarch64-dis-2.c: Re-generate.
	* aarch64-opc-2.c: Re-generate.

gas/testsuite/

2013-02-12  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* gas/aarch64/alias.s: Add new tests.
	* gas/aarch64/alias.d: Update.
	* gas/aarch64/no-aliases.d: Update.
@
text
@a2 6
	* gas/aarch64/alias.s: Add new tests.
	* gas/aarch64/alias.d: Update.
	* gas/aarch64/no-aliases.d: Update.

2013-02-12  Yufeng Zhang  <yufeng.zhang@@arm.com>

@


1.2057.2.27
log
@opcodes/

	* aarch64-opc.c (aarch64_prfops): Change unnamed operation 'name'
	fields to NULL.
	(aarch64_print_operand): Adjust the printing for AARCH64_OPND_PRFOP.

gas/

	* config/tc-aarch64.c (md_begin): Change to check if 'name' is
	NULL.

gas/testsuite/

	* gas/aarch64/system.s: Add tests.
	* gas/aarch64/system.d: Update.
@
text
@a0 5
2013-02-15  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* gas/aarch64/system.s: Add tests.
	* gas/aarch64/system.d: Update.

@


1.2057.2.28
log
@Add to the AArch64 GAS the missing support for hexadecimal-format
floating-point literal in the FMOV instruction.

gas/

	* config/tc-aarch64.c (aarch64_imm_float_p): Rename 'e' to 'pattern';
	add comment.
	(aarch64_double_precision_fmovable): New function.
	(parse_aarch64_imm_float): Add parameter 'dp_p'; call the new
	function; handle hexadecimal representation of IEEE754 encoding.
	(parse_operands): Update the call to parse_aarch64_imm_float.

gas/testsuite/

	* gas/aarch64/diagnostic.s: Add test.
	* gas/aarch64/diagnostic.l: Update.
	* gas/aarch64/illegal.s: Add test.
	* gas/aarch64/illegal.l: Update.
	* gas/aarch64/fpmov.s: New file.
	* gas/aarch64/fpmov.d: New file.
@
text
@a0 9
2013-03-05  Yufeng Zhang  <yufeng.zhang@@arm.com>

	* gas/aarch64/diagnostic.s: Add test.
	* gas/aarch64/diagnostic.l: Update.
	* gas/aarch64/illegal.s: Add test.
	* gas/aarch64/illegal.l: Update.
	* gas/aarch64/fpmov.s: New file.
	* gas/aarch64/fpmov.d: New file.

@


1.2057.2.29
log
@Backport from mainline:

gas/testsuite:

2012-10-26  Christian Groessler  <chris@@groessler.org>

        * gas/z8k/z8k.exp: Run translate-ops test.
        * gas/z8k/translate-ops.s: New file.
        * gas/z8k/translate-ops.d: New file.

opcodes:

2012-10-26  Christian Groessler  <chris@@groessler.org>

        * z8kgen.c (struct op): Fix encoding for translate opcodes (trdb,
        trdrb, trib, trirb, trtdb, trtdrb, trtib, trtirb).  Remove
        non-existing opcode trtrb.
        * z8k-opc.h: Regenerate.
@
text
@a0 10
2013-03-08  Christian Groessler  <chris@@groessler.org>

	Backport from mainline:

	2012-10-26  Christian Groessler  <chris@@groessler.org>

	* gas/z8k/z8k.exp: Run translate-ops test.
	* gas/z8k/translate-ops.s: New file.
	* gas/z8k/translate-ops.d: New file.

@


1.2057.2.30
log
@gas/

	Backport from mainline:

	2013-02-27 Yufeng Zhang <yufeng.zhang@@arm.com>
	* config/tc-aarch64.c (parse_sys_reg): Allow the full range of CRn
	for system registers.

gas/testsuite/

	Backport from mainline:

	2013-02-27 Yufeng Zhang <yufeng.zhang@@arm.com>
	* gas/aarch64/illegal.l: Delete the error message for
	msr S3_1_C13_C15_1,x7.
	* gas/aarch64/sysreg.s: Add new tests.
	* gas/aarch64/sysreg.d: Update.
@
text
@a0 10
2013-05-13 Yufeng Zhang <yufeng.zhang@@arm.com>

	Backport from mainline:

	2013-02-27 Yufeng Zhang <yufeng.zhang@@arm.com>
	* gas/aarch64/illegal.l: Delete the error message for
	msr S3_1_C13_C15_1,x7.
	* gas/aarch64/sysreg.s: Add new tests.
	* gas/aarch64/sysreg.d: Update.

@


1.2057.2.31
log
@gas/testsuite/

	Backport from mainline:

	2013-05-13  Yufeng Zhang  <yufeng.zhang@@arm.com>
	* gas/aarch64/diagnostic.s: Update.
	* gas/aarch64/diagnostic.l: Ditto.
	* gas/aarch64/movi.s: Add new tests.
	* gas/aarch64/movi.d: Update.

opcodes/

	Backport from mainline:

	2013-05-13  Yufeng Zhang  <yufeng.zhang@@arm.com>
	* aarch64-asm.c (aarch64_ins_advsimd_imm_modified): Remove assertion.
	* aarch64-opc.c (operand_general_constraint_met_p): Relax the range
	check from [0, 255] to [-128, 255].
@
text
@a0 10
2013-05-13  Yufeng Zhang  <yufeng.zhang@@arm.com>

	Backport from mainline:

	2013-05-13  Yufeng Zhang  <yufeng.zhang@@arm.com>
	* gas/aarch64/diagnostic.s: Update.
	* gas/aarch64/diagnostic.l: Ditto.
	* gas/aarch64/movi.s: Add new tests.
	* gas/aarch64/movi.d: Update.

@


1.2057.2.32
log
@gas/
	* config/tc-arm.c (arm_symbol_chars): Include '{' and '}'.
	(arm_reg_parse_multi): Skip whitespace first.
	(parse_reg_list): Likewise.
	(parse_vfp_reg_list): Likewise.
	(s_arm_unwind_save_mmxwcg): Likewise.

gas/testsuite/
	* gas/arm/macro-pld.s: Add a 'push {r0}' case.
	* gas/arm/macro-pld.d: Update expected output.
	* gas/arm/macro-vld1.s: New file.
	* gas/arm/macro-vld1.d: New file.
@
text
@a0 7
2013-06-24  Roland McGrath  <mcgrathr@@google.com>

	* gas/arm/macro-pld.s: Add a 'push {r0}' case.
	* gas/arm/macro-pld.d: Update expected output.
	* gas/arm/macro-vld1.s: New file.
	* gas/arm/macro-vld1.d: New file.

@


1.2057.2.33
log
@gas/
	PR gas/14987
	* config/tc-arm.c (parse_address_main): Skip whitespace before a
	closing bracket.

gas/testsuite/
	PR gas/14987
	* gas/arm/neon-ldst-es.s: Add whitespace test.
	* gas/arm/neon-ldst-es.d: Update expected disassembly.
@
text
@a0 6
2013-01-02  Nick Clifton  <nickc@@redhat.com>

	PR gas/14987
	* gas/arm/neon-ldst-es.s: Add whitespace test.
	* gas/arm/neon-ldst-es.d: Update expected disassembly.

@


1.2057.2.34
log
@gas/
	PR gas/14887
	* config/tc-arm.c (skip_past_char): Skip whitespace before the
	anticipated character.
	* config/tc-arm.c (parse_address_main): Delete skip of whitespace
	here as it is no longer needed.

gas/testsuite/
	PR gas/14887
	* gas/arm/neon-ldst-es.s: Add more whitespace.
@
text
@a0 5
2013-01-07  Nick Clifton  <nickc@@redhat.com>

	PR gas/14887
	* gas/arm/neon-ldst-es.s: Add more whitespace.

@


1.2057.2.35
log
@gas/
	* config/tc-arm.c (parse_reg_list): Use skip_past_char for '}',
	so it skips whitespace before it.
	(s_arm_unwind_save_mmxwr, s_arm_unwind_save_mmxwcg): Likewise.

gas/testsuite/
	* gas/arm/macro-vld1.s: Add a case with whitespace before '}'.
	* gas/arm/macro-vld1.d: Update.
@
text
@a0 5
2013-06-24  Roland McGrath  <mcgrathr@@google.com>

	* gas/arm/macro-vld1.s: Add a case with whitespace before '}'.
	* gas/arm/macro-vld1.d: Update.

@


1.2056
log
@Implement RDRSEED, ADX and PRFCHW instructions

gas/

	* config/tc-i386.c: Add ADX, RDSEED and PRFCHW asm directives.
	* doc/c-i386.texi: Document the new directives.

gas/testsuite/

	* gas/i386/i386.exp: Run adx, rdseed and prefetchw tests.
	* gas/i386/x86-64-arch-2.s: Use prefetchw as 3dnow and Prfchw tests.
	* gas/i386/arch-10.s: Likewise.
	* gas/i386/arch-10-1.l: Changed correspondingly.
	* gas/i386/arch-10-2.l: Likewise.
	* gas/i386/arch-10-3.l: Likewise.
	* gas/i386/arch-10-4.l: Likewise.
	* gas/i386/arch-10.d: Likewise.
	* gas/i386/arch-10-lzcnt.d: Likewise.
	* gas/i386/x86-64-arch-2.d: Likewise.
	* gas/i386/x86-64-arch-2-lzcnt.d: Likewise.
	* gas/i386/ilp32/x86-64-arch-2.d: Likewise.
	* gas/i386/arch-10-prefetchw.d: New file.
	* gas/i386/x86-64-arch-2-prefetchw.d: Likewise.
	* gas/i386/rdseed.s: Likewise.
	* gas/i386/rdseed.d: Likewise.
	* gas/i386/rdseed-intel.d: Likewise.
	* gas/i386/adx.s: Likewise.
	* gas/i386/adx.d: Likewise.
	* gas/i386/adx-intel.d: Likewise.
	* gas/i386/x86-64-rdseed.s: Likewise.
	* gas/i386/x86-64-rdseed.d: Likewise.
	* gas/i386/x86-64-rdseed-intel.d: Likewise.
	* gas/i386/x86-64-adx.s: Likewise.
	* gas/i386/x86-64-adx.d: Likewise.
	* gas/i386/x86-64-adx-intel.d: Likewise.

opcodes/

	* i386-dis.c (PREFIX_0F38F6): New.
	(prefix_table): Add adcx, adox instructions.
	(three_byte_table): Use PREFIX_0F38F6.
	(mod_table): Add rdseed instruction.
	* i386-gen.c (cpu_flag_init): Add CpuADX, CpuRDSEED, CpuPRFCHW.
	(cpu_flags): Likewise.
	* i386-opc.h: Add CpuADX, CpuRDSEED, CpuPRFCHW.
	(i386_cpu_flags): Add fields cpurdseed, cpuadx, cpuprfchw.
	* i386-opc.tbl: Add instrcutions adcx, adox, rdseed. Extend
	prefetchw.
	* i386-tbl.h: Regenerate.
	* i386-init.h: Likewise.
@
text
@d1 6
@


1.2055
log
@gas/testsuite/
	* gas/i386/rep-suffix.s: Add 'rep nop' case.
	* gas/i386/x86-64-rep-suffix.s: Likewise.
	* gas/i386/rep-suffix.d: Updated.
	* gas/i386/x86-64-rep-suffix.d: Likewise.
	* gas/i386/ilp32/x86-64-rep-suffix.d: Likewise.

opcodes/
	* i386-opc.tbl: Add RepPrefixOk to nop.
	* i386-tbl.h: Regenerate.
@
text
@d1 29
@


1.2054
log
@Fix ChangeLog entry
@
text
@d1 8
@


1.2053
log
@Move rep tests for bsf/bsr/ret to rep-suffix

	* gas/i386/i386.exp: Don't run rep-bsf nor rep-ret.

	* gas/i386/rep-bsf.d: Removed.
	* gas/i386/rep-bsf.s: Likewise.
	* gas/i386/rep-ret.d: Likewise.
	* gas/i386/rep-ret.s: Likewise.

	* gas/i386/rep-suffix.d: Updated.
	* gas/i386/x86-64-rep-suffix.d: Likewise.
	* gas/i386/ilp32/x86-64-rep-suffix.d: Likewise.

	* gas/i386/rep-suffix.s: Add tests for bsf, bsr and ret.
	* i386/x86-64-rep-suffix.s: Likewise.
@
text
@d15 1
a15 1
	* i386/x86-64-rep-suffix.s: Likewise.
@


1.2052
log
@Add testcases for PR gas/14315

	PR gas/14315
	* gas/elf/common1.d: New file.
	* gas/elf/common1.l: Likewise.
	* gas/elf/common1.s: Likewise.
	* gas/elf/common2.d: Likewise.
	* gas/elf/common2.l: Likewise.
	* gas/elf/common2.s: Likewise.

	* gas/elf/elf.exp: Run common1 and common2.
@
text
@d1 16
@


1.2051
log
@	* gas/lns/lns.exp (lns-common-1): Add crx to alt target list.
@
text
@d1 12
@


1.2050
log
@	PR gas/14260
	* config/tc-arm.c (encode_arm_addr_mode_common): Generate an error
	message if literal pool addressing is used.

	* gas/arm/ldr-t-bad.s: Add test of bogus use of literal pool
	addressing.
	* gas/arm/ldr-t-bad.l: Update expected assembler error message
	output.
@
text
@d1 4
@


1.2049
log
@	* dwarf2dbg.c (DWARF2_USE_FIXED_ADVANCE_PC): Enable when using
	linker relaxation.
	(dwarf2_gen_line_info): Generate real, local, labels for line
	numbers.
	(dwarf2dbg_convert_frag): Do not finalize the computation of the
	frag's symbol value when linker relaxation is enabled.
	(ADDR_DELTA_LIMIT): Define.
	(size_fixed_inc_line_addr): Use ADDR_DELTA_LIMIT.
	(emit_fixed_inc_line_addr): Likewise.
	* write.c (fixup_segment): If the subtraction of two symbols
	cannot be resolved but is valid, then prevent bogus range warnings
	by pre-biasing add_number.
	* config/tc-h8300.h (DWARF2_USE_FIXED_ADVANCE_PC): Define to 0.

	* gas/lns/lns.exp: Use alternate lns-common test for targets
	enabling linker relaxation.
	* gas/lns/lns-big-delta.d: Allow for output from architectures
	with 32-bit addresses.
@
text
@d3 8
@


1.2048
log
@	* gas/i386/rep-ret.s: Zero pad section.
	* gas/i386/rep-ret.d: Update.
@
text
@d1 7
@


1.2047
log
@gas/
	* NEWS: Mention 'rep ret' too.

gas/testsuite/
	* gas/i386/rep-ret.d: New file.
	* gas/i386/rep-ret.s: New file.
	* gas/i386/i386.exp: Add the new test.

opcodes/
	* i386-opc.tbl: Add RepPrefixOk to ret.
	* i386-tbl.h: Regenerate.
@
text
@d1 5
@


1.2046
log
@gas/
	* config/tc-i386.c (parse_insn): Don't complain about REP prefix
	when the template has opcode_modifier.repprefixok set.
	* NEWS: Mention the change.

gas/testsuite/
	* gas/i386/rep-bsf.d: New file.
	* gas/i386/rep-bsf.s: New file.
	* gas/i386/i386.exp: Add the new test.

opcodes/
	* i386-opc.h (RepPrefixOk): New enum constant.
	(i386_opcode_modifier): New bitfield 'repprefixok'.
	* i386-gen.c (opcode_modifiers): Add RepPrefixOk.
	* i386-opc.tbl: Add RepPrefixOk to bsf, bsr, and to all
	instructions that have IsString.
	* i386-tbl.h: Regenerate.
@
text
@d3 4
@


1.2045
log
@Fix .dc.a for x32

gas/

	* config/tc-i386.c (x86_address_bytes): New.
	* config/tc-i386.h (TC_ADDRESS_BYTES): Likewise.
	(x86_address_bytes): Likewise.

gas/testsuite/

	* gas/i386/ilp32/x86-64-dc_a.d: New.
	* gas/i386/ilp32/x86-64-dc_a.s: Likewise.
@
text
@d1 6
@


1.2044
log
@opcodes/
* ppc-opc.c (lvsl, lvebx, isellt, icbt, ldepx, lwepx, lvsr, lvehx)
(iselgt, lvewx, iseleq, isel, dcbst, dcbstep, dcbfl, dcbf, lbepx)
(lvx, dcbfep, dcbtstls, stvebx, dcbtstlse, stdepx, stwepx, dcbtls)
(stvehx, dcbtlse, stvewx, stbepx, icblc, stvx, dcbtstt, dcbtst)
(dcbtst, dcbtstep, dcbtt, dcbt, dcbt, lhepx, eciwx, dcbtep)
(dcread, lxvdsx, lvxl, dcblc, sthepx, ecowx, dcbi, dcread, icbtls)
(stvxl, lxsdx, lfdepx, stxsdx, stfdepx, dcba, dcbal, lxvw4x)
(tlbivax, lfdpx, lxvd2x, tlbsrx., stxvw4x, tlbsx, tlbsx., stfdpx)
(stfqx, stxvd2x, icbi, icbiep, icread, dcbzep): Change RA to RA0.

gas/testsuite/
* gas/ppc/e500mc.d: Update.
* gas/ppc/476.d: Update.
@
text
@d1 5
@


1.2043
log
@Move gas/all/rept.[ds] to gas/i386

	* gas/all/gas.exp: Don't run rept.

	* gas/all/rept.d: Moved to ...
	* gas/i386/rept.d: Here.
	* gas/all/rept.s: Moved to ...
	* gas/i386/rept.s: Here.

	* gas/i386/i386.exp: Run rept.
@
text
@d1 5
@


1.2042
log
@Add a testcase for PR gas/14201

	PR gas/14201
	* gas/all/gas.exp: Run rept.

	* gas/all/rept.d: New file.
	* gas/all/rept.s: Likewise.
@
text
@d3 11
@


1.2041
log
@gas/
	* read.c [HANDLE_BUNDLE] (bundle_lock_depth): New variable.
	(read_a_source_file) [HANDLE_BUNDLE]: Reset it.
	[HANDLE_BUNDLE] (s_bundle_lock, s_bundle_unlock): Allow nested
	pairs.

gas/testsuite/
	* gas/i386/bundle-bad.s: Remove nested .bundle_lock case.
	* gas/i386/bundle-bad.l: Remove expected error line.
	* gas/i386/bundle-lock.s: Add nested .bundle_lock case.
	* gas/i386/bundle-lock.d: Update expectations.
@
text
@d1 8
@


1.2040
log
@	* read.c (read_symbol_name): New function.  Reads a symbol names.
	Allows escape codes in names.
	(s_comm_internal): Use read_symbol_name.
	(s_globl, s_lsym, s_set, s_weakref): Likewise.
	* doc/as.texinfo: Document support for multibyte characters in
	symbol names.

	* gas/elf/syms.s: New test - checks the generation of multibyte
	symbol names.
	* gas/elf/syms.d: New file - expected readelf output.
	* gas/elf/elf.exp: Add syms.

	* readelf.c (print_symbol): Display multibyte characters in symbol
	names.
	(process_section_headers): Use print_symbol.

	* ld-ifunc/ifunc-13a-i386.s: Fix use of .global directive.
	* ld-ifunc/ifunc-15a-i385.s: Likewise.
@
text
@d1 7
@


1.2039
log
@	* gas/lns/lns-big-delta.s: Add nops.
	* gas/lns/lns-big-delta.d: Update.
@
text
@d1 7
@


1.2038
log
@	* gas/tic6x/unwind-1.d: Update for readelf changes.
	* gas/tic6x/unwind-2.d: Likewise.
	* gas/tic6x/unwind-3.d: Likewise.
@
text
@d1 5
@


1.2037
log
@Expect addend as signed

binutils/testsuite/

	* binutils-all/hppa/objdump.exp: Expect addend as signed.

gas/testsuite/

	* gas/all/weakref1.d: Expect addend as signed.
	* gas/arm/pic_vxworks.d: Likewise.
	* gas/arm/wince.d: Likewise.
	* gas/h8300/h8300.exp: Likewise.
	* gas/i386/sub.d: Likewise.
	* gas/mips/ecoff@@ld.d: Likewise.
	* gas/mips/ecoff@@sd.d: Likewise.
	* gas/mips/l_d-n32.d: Likewise.
	* gas/mips/l_d-n64.d: Likewise.
	* gas/mips/l_d.d: Likewise.
	* gas/mips/ld-n32.d: Likewise.
	* gas/mips/ld-n64.d: Likewise.
	* gas/mips/ld.d: Likewise.
	* gas/mips/mips1@@l_d.d: Likewise.
	* gas/mips/mips1@@ld-forward.d: Likewise.
	* gas/mips/mips1@@ld.d: Likewise.
	* gas/mips/mips1@@s_d.d: Likewise.
	* gas/mips/s_d-n32.d: Likewise.
	* gas/mips/s_d-n64.d: Likewise.
	* gas/mips/s_d.d: Likewise.
	* gas/mips/sd-n32.d: Likewise.
	* gas/mips/sd-n64.d: Likewise.
	* gas/mips/sd.d: Likewise.
	* gas/mmix/bz-c.d: Likewise.
	* gas/mmix/geta-c.d: Likewise.
	* gas/mmix/jump-c.d: Likewise.
	* gas/mmix/pushj-c.d: Likewise.
	* gas/mmix/pushj-cs.d: Likewise.
	* gas/mmix/reloc16-n.d: Likewise.
	* gas/mmix/reloc16-r.d: Likewise.
	* gas/mmix/reloc16.d: Likewise.
	* gas/mmix/reloc8-r.d: Likewise.
	* gas/mmix/reloc8.d: Likewise.
	* gas/mmix/relocxrn.d: Likewise.
	* gas/sh/sh64/case-1.d: Likewise.
	* gas/sh/sh64/mix-1.d: Likewise.
	* gas/sh/sh64/pt32-1.d: Likewise.
	* gas/sh/sh64/pt64-1.d: Likewise.
	* gas/sh/sh64/pt64-32-2.d: Likewise.
	* gas/sh/sh64/rel32-2.d: Likewise.
	* gas/sh/sh64/rel32-4.d: Likewise.
	* gas/sh/sh64/rel64-2.d: Likewise.
	* gas/sh/sh64/rel64-4.d: Likewise.
	* gas/tic6x/data-reloc.d: Likewise.
	* gas/tic6x/pcr-relocs.d: Likewise.
	* gas/xstormy16/allinsn.d: Likewise.
	* gas/xstormy16/reloc-1.d: Likewise.
	* gas/xstormy16/reloc-2.d: Likewise.

ld/testsuite/

	* ld-arm/emit-relocs1-vxworks.d: Expect addend as signed.
	* ld-spu/pic.d: Likewise.
@
text
@d1 6
@


1.2036
log
@binutils/
	* dwarf.c (process_debug_info): Display abbrev offset in hex.
	(display_debug_abbrev): Show offset of abbrev.

binutils/testsuite/
	* binutils-all/objdump.W: Update.
	* binutils-all/readelf.wa: Update.
	* binutils-all/i386/compressed-1a.d: Update.
	* binutils-all/x86-64/compressed-1a.d: Update.

gas/testsuite/
	* gas/elf/dwarf2-1.d: Update.
	* gas/elf/dwarf2-2.d: Update.
	* gas/i386/dw2-compress-1.d: Update.
@
text
@d1 51
@


1.2035
log
@	* gas/ppc/vle.d: Pass -a32 to assembler.
	* gas/ppc/vle-reloc.d: Likewise.
	* gas/ppc/vle-simple-1.d: Likewise, also match wider addresses.
	* gas/ppc/vle-simple-2.d: Likewise.
	* gas/ppc/vle-simple-3.d: Likewise.
	* gas/ppc/vle-simple-4.d: Likewise.
	* gas/ppc/vle-simple-5.d: Likewise.
	* gas/ppc/vle-simple-6.d: Likewise.
@
text
@d3 6
@


1.2034
log
@	* arm-dis.c (arm_opcodes): Don't disassemble STMFD/LDMIA sp!, {reg}
	to PUSH/POP {reg}.

	* binutils-all/arm/objdump.exp:
	STMFD/LDMIA sp!, {reg} don't disassemble to PUSH/POP {reg} any longer.

	* gas/arm/stm-ldm.d: STMFD/LDMIA sp!, {reg} don't disassemble to
	PUSH/POP {reg} any longer.  Some new test cases have been added as well.
	* gas/arm/stm-ldm.s: Likewise.
@
text
@d1 11
@


1.2033
log
@	* config/tc-m68hc11.c: Add S12X and XGATE co-processor support.
	Add option to offset S12 addresses into XGATE memory space.
	Tweak target flags to match other tools. (i.e. -m m68hc11).
	* doc/as.texinfo: Mention new options.
	* doc/c-m68hc11.texi: Document new options.
	* NEWS: Mention new support.

	* archures.c: Add bfd_arch_m9s12x and bfd_arch_m9s12xg.
	* config.bfd: Likewise.
	* cpu-m9s12x.c: New.
	* cpu-m9s12xg.c: New.
	* elf32-m68hc12.c: Add S12X and XGATE co-processor support.
	Add option to offset S12 addresses into XGATE memory space.
	Fix carry bug in IMM16 (IMM8 low/high) relocate.
	* Makefile.am (ALL_MACHINES): Add cpu-m9s12x and cpu-m9s12xg.
	(ALL_MACHINES_CFILES): Likewise.
	* reloc.c: Add S12X relocs.
	* Makefile.in: Regenerate.
	* bfd-in2.h: Regenerate.
	* libbfd.h: Regenerate.

	* gas/m68hc11/insns9s12x.s: New
	* gas/m68hc11/insns9s12x.d: New
	* gas/m68hc11/hexprefix.s: New
	* gas/m68hc11/hexprefix.d: New
	* gas/m68hc11/9s12x-exg-sex-tfr.s: New
	* gas/m68hc11/9s12x-exg-sex-tfr.d: New
	* gas/m68hc11/insns9s12xg.s: New
	* gas/m68hc11/insns9s12xg.d: New
	* gas/m68hc11/9s12x-mov.s: New
	* gas/m68hc11/9s12x-mov.d: New
	* gas/m68hc11/m68hc11.exp: Updated
	* gas/m68hc11/*.d: Brought in line with changed objdump output.
	* gas/all/gas.exp: XFAIL all hc11/12 targets for redef2,3.
	* gas/elf/elf.exp: XFAIL all hc11/12 targets for redef.
	* gas/elf/dwarf2-1.d: Skip for hc11/12 targets.
	* gas/elf/dwarf2-2.d: Likewise.

	* ld-m68hc11/xgate-link.s: New.
	* ld-m68hc11/xgate-link.d: New.
	* ld-m68hc11/xgate-offset.s: New.
	* ld-m68hc11/xgate-offset.d: New.
	* ld-m68hc11/xgate1.s: New.
	* ld-m68hc11/xgate1.d: New.
	* ld-m68hc11/xgate2.s: New.
	* ld-m68hc11/m68hc11.exp: Updated.
	* ld-m68hc11/*.d: Brought in line with changed objdump output.
	* ld-gc/gc.exp: Update CFLAGS for m68hc11.
	* ld-plugin/plugin.exp: Likewise.
	* ld-srec/srec.exp: XFAIL for m68hc11 and m68hc12.

	* configure.in: Add S12X and XGATE co-processor support to m68hc11
	target.
	* disassemble.c: Likewise.
	* configure: Regenerate.
	* m68hc11-dis.c: Make objdump output more consistent, use hex
	instead of decimal and use 0x prefix for hex.
	* m68hc11-opc.c: Add S12X and XGATE opcodes.
	* dis-asm.h (print_insn_m9s12x): Prototype.
	(print_insn_m9s12xg): Prototype.

	* m68hc11.h (R_M68HC12_16B, R_M68HC12_PCREL_9, R_M68HC12_PCREL_10)
	R_M68HC12_HI8XG, R_M68HC12_LO8XG): New relocations.
	(E_M68HC11_XGATE_RAMOFFSET): Define.

	* m68hc11.h: Add XGate definitions.
	(struct m68hc11_opcode): Add xg_mask field.
@
text
@d1 6
@


1.2032
log
@
Add support for PowerPC VLE.

2012-05-14  Catherine Moore  <clm@@codesourcery.com>

	* NEWS:  Mention PowerPC VLE port.

2012-05-14  James Lemke <jwlemke@@codesourcery.com>
	    Catherine Moore  <clm@@codesourcery.com>

	bfd/
	* bfd.c (bfd_lookup_section_flags): Add section parm.
	* ecoff.c (bfd_debug_section): Remove flag_info initializer.
	* elf-bfd.h (bfd_elf_section_data): Move in section_flag_info.
	(bfd_elf_lookup_section_flags): Add section parm.
	* elf32-ppc.c (is_ppc_vle): New function.
	(ppc_elf_modify_segment_map): New function.
	(elf_backend_modify_segment_map): Define.
	(has_vle_insns): New define.
	* elf32-ppc.h (ppc_elf_modify_segment_map): Declare.
	* elflink.c (bfd_elf_lookup_section_flags): Add return value & parm.
	Move in logic to omit / include a section.
	* libbfd-in.h (bfd_link_info): Add section parm.
	(bfd_generic_lookup_section_flags): Likewise.
	* reloc.c (bfd_generic_lookup_section_flags): Likewise.
	* section.c (bfd_section): Move out section_flag_info.
	(BFD_FAKE_SECTION): Remove flag_info initializer.
	* targets.c (_bfd_lookup_section_flags): Add section parm.

2012-05-14  Catherine Moore  <clm@@codesourcery.com>

	bfd/
	* archures.c (bfd_mach_ppc_vle): New.
	* bfd-in2.h: Regenerated.
	* cpu-powerpc.c (bfd_powerpc_archs): New entry for vle.
	* elf32-ppc.c (split16_format_type): New enumeration.
	(ppc_elf_vle_split16): New function.
	(HOWTO): Add entries for R_PPC_VLE relocations.
	(ppc_elf_reloc_type_lookup): Handle PPC_VLE relocations.
	(ppc_elf_section_flags): New function.
	(ppc_elf_lookup_section_flags): New function.
	(ppc_elf_section_processing): New function.
	(ppc_elf_check_relocs): Handle PPC_VLE relocations.
	(ppc_elf_relocation_section): Likewise.
	(elf_backend_lookup_section_flags_hook): Define.
	(elf_backend_section_flags): Define.
	(elf_backend_section_processing): Define.
	* elf32-ppc.h (ppc_elf_section_processing): Declare.
	* libbfd.h: Regenerated.
	* reloc.c (BFD_RELOC_PPC_VLE_REL8, BFD_RELOC_PPC_VLE_REL15,
	BFD_RELOC_PPC_VLE_REL24, BFD_RELOC_PPC_VLE_LO16A,
	BFD_RELOC_PPC_VLE_LO16D, BFD_RELOC_PPC_VLE_HI16A,
	BFD_RELOC_PPC_VLE_HI16D, BFD_RELOC_PPC_VLE_HA16A,
	BFD_RELOC_PPC_VLE_HA16D, BFD_RELOC_PPC_VLE_SDA21,
	BFD_RELOC_PPC_VLE_SDA21_LO, BFD_RELOC_PPC_VLE_SDAREL_LO16A,
	BFD_RELOC_PPC_VLE_SDAREL_LO16D, BFD_RELOC_PPC_VLE_SDAREL_HI16A,
	BFD_RELOC_PPC_VLE_SDAREL_HI16D, BFD_RELOC_PPC_VLE_SDAREL_HA16A,
	BFD_RELOC_PPC_VLE_SDAREL_HA16D): New bfd relocations.

2012-05-14  James Lemke  <jwlemke@@codesourcery.com>

	gas/
	* config/tc-ppc.c (insn_validate): New func of existing code to call..
	(ppc_setup_opcodes): ..from 2 places here.
	Revise for second (VLE) opcode table.
	Add #ifdef'd code to print opcode tables.

2012-05-14  James Lemke  <jwlemke@@codesourcery.com>

	gas/
	* config/tc-ppc.c (ppc_setup_opcodes): Allow out-of-order
	for the VLE conditional branches.

2012-05-14  Catherine Moore  <clm@@codesourcery.com>
            Maciej W. Rozycki  <macro@@codesourcery.com>
	    Rhonda Wittels  <rhonda@@codesourcery.com>

	gas/
	* config/tc-ppc.c (PPC_VLE_SPLIT16A): New macro.
	(PPC_VLE_SPLIT16D): New macro.
	(PPC_VLE_LO16A): New macro.
	(PPC_VLE_LO16D): New macro.
	(PPC_VLE_HI16A): New macro.
	(PPC_VLE_HI16D): New macro.
	(PPC_VLE_HA16A): New macro.
	(PPC_VLE_HA16D): New macro.
	(PPC_APUINFO_VLE): New definition.
	(md_chars_to_number): New function.
	(md_parse_option): Check for combinations of little
	endian and -mvle.
	(md_show_usage): Document -mvle.
	(ppc_arch): Recognize VLE.
	(ppc_mach): Recognize bfd_mach_ppc_vle.
	(ppc_setup_opcodes): Print the opcode table if
	* config/tc-ppc.h (ppc_frag_check): Declare.
	* doc/c-ppc.texi: Document -mvle.
	* NEWS:  Mention PowerPC VLE port.

2012-05-14  Catherine Moore  <clm@@codesourcery.com>

	gas/
	* config/tc-ppc.h (ppc_dw2_line_min_insn_length): Declare.
	(DWARF2_LINE_MIN_INSN_LENGTH): Redefine.
	* config/tc-ppc.c (ppc_dw2_line_min_insn_length): New.
	* dwarf2dbg.c (scale_addr_delta): Handle values of 1
	for DWARF2_LINE_MIN_INSN_LENGTH.

2012-05-14  Catherine Moore  <clm@@codesourcery.com>
            Maciej W. Rozycki  <macro@@codesourcery.com>
	    Rhonda Wittels  <rhonda@@codesourcery.com>

	gas/testsuite/
	* gas/ppc/ppc.exp: Run new tests.
	* gas/ppc/vle-reloc.d: New test.
	* gas/ppc/vle-reloc.s: New test.
	* gas/ppc/vle-simple-1.d: New test.
	* gas/ppc/vle-simple-1.s: New test.
	* gas/ppc/vle-simple-2.d: New test.
	* gas/ppc/vle-simple-2.s: New test.
	* gas/ppc/vle-simple-3.d: New test.
	* gas/ppc/vle-simple-3.s: New test.
	* gas/ppc/vle-simple-4.d: New test.
	* gas/ppc/vle-simple-4.s: New test.
	* gas/ppc/vle-simple-5.d: New test.
	* gas/ppc/vle-simple-5.s: New test.
	* gas/ppc/vle-simple-6.d: New test.
	* gas/ppc/vle-simple-6.s: New test.
	* gas/ppc/vle.d: New test.
	* gas/ppc/vle.s: New test.

2012-05-14  James Lemke  <jwlemke@@codesourcery.com>
	include/elf/
	* ppc.h (SEC_PPC_VLE): Remove.

2012-05-14  Catherine Moore  <clm@@codesourcery.com>
	    James Lemke  <jwlemke@@codesourcery.com>

	include/elf/
	* ppc.h (R_PPC_VLE_REL8): New reloction.
	(R_PPC_VLE_REL15): Likewise.
	(R_PPC_VLE_REL24): Likewise.
	(R_PPC_VLE_LO16A): Likewise.
	(R_PPC_VLE_LO16D): Likewise.
	(R_PPC_VLE_HI16A): Likewise.
	(R_PPC_VLE_HI16D): Likewise.
	(R_PPC_VLE_HA16A): Likewise.
	(R_PPC_VLE_HA16D): Likewise.
	(R_PPC_VLE_SDA21): Likewise.
	(R_PPC_VLE_SDA21_LO): Likewise.
	(R_PPC_VLE_SDAREL_LO16A): Likewise.
	(R_PPC_VLE_SDAREL_LO16D): Likewise.
	(R_PPC_VLE_SDAREL_HI16A): Likewise.
	(R_PPC_VLE_SDAREL_HI16D): Likewise.
	(R_PPC_VLE_SDAREL_HA16A): Likewise.
	(R_PPC_VLE_SDAREL_HA16D): Likewise.
	(SEC_PPC_VLE): Remove.
	(PF_PPC_VLE): New program header flag.
	(SHF_PPC_VLE): New section header flag.
	(vle_opcodes, vle_num_opcodes): New.
	(VLE_OP): New macro.
	(VLE_OP_TO_SEG): New macro.

2012-05-14  Catherine Moore  <clm@@codesourcery.com>
            Maciej W. Rozycki  <macro@@codesourcery.com>
	    Rhonda Wittels  <rhonda@@codesourcery.com>

	include/opcode/
	* ppc.h (PPC_OPCODE_VLE): New definition.
	(PPC_OP_SA): New macro.
	(PPC_OP_SE_VLE): New macro.
	(PPC_OP): Use a variable shift amount.
	(powerpc_operand): Update comments.
	(PPC_OPSHIFT_INV): New macro.
	(PPC_OPERAND_CR): Replace with...
	(PPC_OPERAND_CR_BIT): ...this and
	(PPC_OPERAND_CR_REG): ...this.

2012-05-14  James Lemke  <jwlemke@@codesourcery.com>

	ld/
	* ldlang.c (walk_wild_consider_section): Don't copy section_flag_list.
	Pass it to callback.
	(walk_wild_section_general): Pass section_flag_list to callback.
	(lang_add_section): Add sflag_list parm.
	Move out logic to keep / omit a section & call bfd_lookup_section_flags.
	(output_section_callback_fast): Add sflag_list parm.
	Add new parm to lang_add_section calls.
	(output_section_callback): Likewise.
	(check_section_callback): Add sflag_list parm.
	(lang_place_orphans): Add new parm to lang_add_section calls.
	(gc_section_callback): Add sflag_list parm.
	(find_relro_section_callback): Likewise.
	* ldlang.h (callback_t): Add flag_info parm.
	(lang_add_section): Add sflag_list parm.
	* emultempl/armelf.em (elf32_arm_add_stub_section):
	Add lang_add_section parm.
	* emultempl/beos.em (gld*_place_orphan): Likewise.
	* emultempl/elf32.em (gld*_place_orphan): Likewise.
	* emultempl/hppaelf.em (hppaelf_add_stub_section): Likewise.
	* emultempl/m68hc1xelf.em (m68hc11elf_add_stub_section): Likewise.
	* emultempl/mipself.em (mips_add_stub_section): Likewise.
	* emultempl/mmo.em (mmo_place_orphan): Likewise.
	* emultempl/pe.em (gld_*_place_orphan): Likewise.
	* emultempl/pep.em (gld_*_place_orphan): Likewise.
	* emultempl/ppc64elf.em (ppc_add_stub_section): Likewise.
	* emultempl/spuelf.em (spu_place_special_section): Likewise.
	* emultempl/vms.em (vms_place_orphan): Likewise.

2012-05-14  James Lemke  <jwlemke@@codesourcery.com>

	ld/testsuite/
	* ld-powerpc/powerpc.exp: Create ppceabitests.
	* ld-powerpc/vle-multiseg.s: New.
	* ld-powerpc/vle-multiseg-1.d: New.
	* ld-powerpc/vle-multiseg-1.ld: New.
	* ld-powerpc/vle-multiseg-2.d: New.
	* ld-powerpc/vle-multiseg-2.ld: New.
	* ld-powerpc/vle-multiseg-3.d: New.
	* ld-powerpc/vle-multiseg-3.ld: New.
	* ld-powerpc/vle-multiseg-4.d: New.
	* ld-powerpc/vle-multiseg-4.ld: New.
	* ld-powerpc/vle-multiseg-5.d: New.
	* ld-powerpc/vle-multiseg-5.ld: New.
	* ld-powerpc/vle-multiseg-6.d: New.
	* ld-powerpc/vle-multiseg-6.ld: New.
	* ld-powerpc/vle-multiseg-6a.s: New.
	* ld-powerpc/vle-multiseg-6b.s: New.
	* ld-powerpc/vle-multiseg-6c.s: New.
	* ld-powerpc/vle-multiseg-6d.s: New.
	* ld-powerpc/powerpc.exp: Run new tests.

2012-05-14  Catherine Moore  <clm@@codesourcery.com>

	ld/
	* NEWS:  Mention PowerPC VLE port.

2012-05-14  Catherine Moore  <clm@@codesourcery.com>

	ld/testsuite/
	* ld-powerpc/apuinfo.rd: Update for VLE.
	* ld-powerpc/vle-reloc-1.d: New.
	* ld-powerpc/vle-reloc-1.s: New.
	* ld-powerpc/vle-reloc-2.d: New.
	* ld-powerpc/vle-reloc-2.s: New.
	* ld-powerpc/vle-reloc-3.d: New.
	* ld-powerpc/vle-reloc-3.s: New.
	* ld-powerpc/vle-reloc-def-1.s: New.
	* ld-powerpc/vle-reloc-def-2.s: New.
	* ld-powerpc/vle-reloc-def-3.s: New.

2012-05-14  James Lemke  <jwlemke@@codesourcery.com>

	opcodes/
	* ppc-dis.c (get_powerpc_dialect): Use is_ppc_vle.
	(PPC_OPCD_SEGS, VLE_OPCD_SEGS): New defines.
	(vle_opcd_indices): New array.
	(lookup_vle): New function.
	(disassemble_init_powerpc): Revise for second (VLE) opcode table.
	(print_insn_powerpc): Likewise.
	* ppc-opc.c: Likewise.

2012-05-14  Catherine Moore  <clm@@codesourcery.com>
            Maciej W. Rozycki  <macro@@codesourcery.com>
	    Rhonda Wittels  <rhonda@@codesourcery.com>
	    Nathan Froyd <froydnj@@codesourcery.com>

	opcodes/
	* ppc-opc.c (insert_arx, extract_arx): New functions.
	(insert_ary, extract_ary): New functions.
	(insert_li20, extract_li20): New functions.
	(insert_rx, extract_rx): New functions.
	(insert_ry, extract_ry): New functions.
	(insert_sci8, extract_sci8): New functions.
	(insert_sci8n, extract_sci8n): New functions.
	(insert_sd4h, extract_sd4h): New functions.
	(insert_sd4w, extract_sd4w): New functions.
	(insert_vlesi, extract_vlesi): New functions.
	(insert_vlensi, extract_vlensi): New functions.
	(insert_vleui, extract_vleui): New functions.
	(insert_vleil, extract_vleil): New functions.
 	(BI_MASK, BB_MASK, BT): Use PPC_OPERAND_CR_BIT.
 	(BI16, BI32, BO32, B8): New.
	(B15, B24, CRD32, CRS): New.
 	(CRD, OBF, BFA, CR, CRFS): Use PPC_OPERAND_CR_REG.
	(DB, IMM20, RD, Rx, ARX, RY, RZ): New.
	(ARY, SCLSCI8, SCLSCI8N, SE_SD, SE_SDH): New.
	(SH6_MASK): Use PPC_OPSHIFT_INV.
	(SI8, UI5, OIMM5, UI7, BO16): New.
	(VLESIMM, VLENSIMM, VLEUIMM, VLEUIMML): New.
	(XT6, XA6, XB6, XB6S, XC6): Use PPC_OPSHIFT_INV.
	(ALLOW8_SPRG): New.
	(insert_sprg, extract_sprg): Check ALLOW8_SPRG.
	(OPVUP, OPVUP_MASK OPVUP): New
	(BD8, BD8_MASK, BD8IO, BD8IO_MASK): New.
	(EBD8IO, EBD8IO1_MASK, EBD8IO2_MASK, EBD8IO3_MASK): New.
	(BD15, BD15_MASK, EBD15, EBD15_MASK, EBD15BI, EBD15BI_MASK): New.
	(BD24,BD24_MASK, C_LK, C_LK_MASK, C, C_MASK): New.
 	(IA16, IA16_MASK, I16A, I16A_MASK, I16L, I16L_MASK): New.
	(IM7, IM7_MASK, LI20, LI20_MASK, SCI8, SCI8_MASK): New.
	(SCI8BF, SCI8BF_MASK, SD4, SD4_MASK): New.
	(SE_IM5, SE_IM5_MASK): New.
	(SE_R, SE_R_MASK, SE_RR, SE_RR_MASK): New.
	(EX, EX_MASK, BO16F, BO16T, BO32F, BO32T): New.
	(BO32DNZ, BO32DZ): New.
	(NO371, PPCSPE, PPCISEL, PPCEFS, MULHW): Include PPC_OPCODE_VLE.
	(PPCVLE): New.
	(powerpc_opcodes): Add new VLE instructions.  Update existing
	instruction to include PPCVLE if supported.
	* ppc-dis.c (ppc_opts): Add vle entry.
	(get_powerpc_dialect): New function.
	(powerpc_init_dialect): VLE support.
	(print_insn_big_powerpc): Call get_powerpc_dialect.
	(print_insn_little_powerpc): Likewise.
	(operand_value_powerpc): Handle negative shift counts.
	(print_insn_powerpc): Handle 2-byte instruction lengths.
@
text
@d1 17
@


1.2031
log
@Expect addend as signed

	* gas/cris/rd-pic-1.d: Expect addend as signed.
	* gas/cris/rd-tls-1.d: Likewise.
	* gas/cris/rd-tls-2.d: Likewise.
@
text
@d1 22
@


1.2030
log
@Print addend as signed in objdump

binutils/

	* objdump.c (disassemble_bytes): Print addend as signed.
	(dump_reloc_set): Likewise.

gas/testsuite/

	* gas/all/fwdexp.d: Expect addend as signed.
	* gas/alpha/elf-reloc-1.d: Likewise.
	* gas/i386/mixed-mode-reloc64.d: Likewise.
	* gas/i386/reloc64.d: Likewise.
	* gas/i386/ilp32/mixed-mode-reloc64.d: Expect addend as signed.
	* gas/i386/ilp32/reloc64.d: Likewise.
	* gas/ia64/pcrel.d: Likewise.
	* gas/mips/branch-misc-2-64.d: Likewise.
	* gas/mips/branch-misc-2pic-64.d: Likewise.
	* gas/mips/branch-misc-4-64.d: Likewise.
	* gas/mips/ldstla-n64-sym32.d: Likewise.
	* gas/mips/micromips@@branch-misc-2-64.d: Likewise.
	* gas/mips/micromips@@branch-misc-2pic-64.d: Likewise.
	* gas/mips/micromips@@branch-misc-4-64.d: Likewise.
	* gas/mips/mips16-hilo-n32.d: Likewise.
	* gas/ppc/astest.d: Likewise.
	* gas/ppc/astest2.d: Likewise.
	* gas/ppc/astest2_64.d: Likewise.
	* gas/ppc/astest64.d: Likewise.
	* gas/ppc/test1elf32.d: Likewise.
	* gas/ppc/test1elf64.d: Likewise.
	* gas/sparc/reloc64.d: Likewise.
@
text
@d1 6
@


1.2029
log
@Adjust testcases for readelf addend change

gas/testsuite/

	* gas/mips/elf-rel10.d: Updated.
	* gas/mips/elf-rel22.d: Likewise.
	* gas/mmix/comment-1.d: Likewise.

ld/testsuite/

	* ld-alpha/tlspic.rd: Updated.
	* ld-powerpc/tlsso.r: Likewise.
	* ld-powerpc/tlsso32.r: Likewise.
	* ld-powerpc/vxworks1-lib.rd: Likewise.
	* ld-s390/tlspic.rd: Likewise.
	* ld-s390/tlspic_64.rd: Likewise.
	* ld-sh/shared-1.d: Likewise.
	* ld-sh/tlspic-2.d: Likewise.
	* ld-sparc/tlssunnopic32.rd: Likewise.
	* ld-sparc/tlssunnopic64.rd: Likewise.
	* ld-sparc/tlssunpic32.rd: Likewise.
	* ld-sparc/tlssunpic64.rd: Likewise.
@
text
@d1 25
@


1.2028
log
@Remove x32 addend overflow for BFD_RELOC_64

gas/

	* config/tc-i386.c (tc_gen_reloc): Remove x32 addend overflow
	for BFD_RELOC_64.

gas/testsuite/

	* gas/i386/ilp32/ilp32.exp: Don't run reloc64-inval.

	* gas/i386/ilp32/reloc64.s: Add test for -4294967295 addend.
	* gas/i386/ilp32/reloc64.d: Updated.

	* gas/i386/ilp32/reloc64-inval.l: Removed.
	* gas/i386/ilp32/reloc64-inval.s: Likewise.
@
text
@d3 6
@


1.2027
log
@Check 64-bit relocation addend overflow for x32

bfd/

	* elf64-x86-64.c (elf_x86_64_relocate_section): Check addend
	overflow for R_X86_64_RELATIVE64.

gas/

	* config/tc-i386.c (tc_gen_reloc): Check x32 addend overflow
	for BFD_RELOC_64.

gas/testsuite/

	* gas/i386/ilp32/ilp32.exp: Run reloc64-inval.

	* gas/i386/ilp32/reloc64.s: Add tests for ".quad".
	* gas/i386/ilp32/reloc64.d: Updated.

	* gas/i386/ilp32/reloc64-inval.l: New file.
	* gas/i386/ilp32/reloc64-inval.s: Likewise.

ld/testsuite/

	* ld-x86-64/ilp32-11.d: New file.
	* ld-x86-64/ilp32-11.s: Likewise.

	* ld-x86-64/x86-64.exp: Run ilp32-11.
@
text
@d1 10
@


1.2026
log
@	* lib/gas-defs.exp (run_dump_test): Don't set LC_ALL here.
@
text
@d1 10
@


1.2025
log
@2012-05-06  Arnold Metselaar  <arnold_m@@operamail.com>

	* gas/z80/jr-forwf.s: New file, adapted from z8k version.
	* gas/z80/jr-backf.s: Likewise.
	* gas/z80/djnz-backf.s: Likewise.
	* gas/z80/ill_op: New file, with illegal operand.
	* gas/z80/z80.exp: Run new tests.
@
text
@d1 4
@


1.2024
log
@Add support for Motorola XGATE embedded CPU
@
text
@d1 8
@


1.2023
log
@Add support for sparc %cfr ASR register.

opcodes/

	* sparc-dis.c (v9a_asr_reg_names): Add 'cfr'.
	* sparc-opc.c (sparc_opcodes): Add rd/wr cases for %cfr.

gas/

	* config/tc-sparc.c (v9a_asr_table): Add 'cfr'.

gas/testsuite/

	* gas/sparc/sparc.exp: Run cfr test.
	* gas/sparc/cfr.s: New testcase.
	* gas/sparc/cfr.d: Likewise.
@
text
@d1 15
@


1.2022
log
@Add support for sparc pause instruction.

opcodes/

	* sparc-opc.c (sparc_opcodes): Add 'wr X, %pause' and 'pause'.
	* sparc-dis.c (v9a_asr_reg_names): Add 'pause'.

gas/

	* config/tc-sparc.c (sparc_arch_table): Add HWCAP_PAUSE to sparc4,
	v8pluse, v8plusv, v9e, and v9v.
	(v9a_asr_table): Add 'pause'.

gas/testsuite/

	* gas/sparc/sparc.exp: Run pause test.
	* gas/sparc/pause.s: New testcase.
	* gas/sparc/pause.d: Likewise.
@
text
@d3 4
@


1.2021
log
@Add support for sparc compare-and-branch instructions.

opcodes/

	* sparc-opc.c (CBCOND): New define.
	(CBCOND_XCC): Likewise.
	(cbcond): New helper macro.
	(sparc_opcodes): Add compare-and-branch instructions.

gas/

	* config/tc-sparc.c (sparc_arch_table): Add HWCAP_CBCOND to
	sparc4, v8pluse, v8plusv, v9e, and v9v.
	(sparc_ip): Handle R_SPARC_5 of immediate constants inline in
	order to accomodate cbcond which otherwise would require two
	relocations to be handled in a single instruction..

gas/testsuite/

	* gas/sparc/cbcond.s: New file.
	* gas/sparc/cbcond.d: New file.
	* gas/sparc/sparc.exp: Run cbcond test.
@
text
@d3 4
@


1.2020
log
@Add support for SPARC T4 crypto instructions.

include/opcode/

	* sparc.h: Document new arg code' )' for crypto RS3
	immediates.

opcodes/

	* sparc-dis.c (print_insn_sparc): Handle ')'.
	* sparc-opc.c (sparc_opcodes): Add crypto instructions.

gas/

	* config/tc-sparc.c (sparc_ip): Likewise.  Accept instruction
	names containing "_".
	(sparc_arch_table): Add sparc4, v8pluse, and v9e.  Add crypto
	hwcap masks to v8plusv and v9v.

gas/testsuite/

	* gas/sparc/crypto.s: New file.
	* gas/sparc/crypto.d: New file.
	* gas/sparc/sparc.exp: Run crypto test.
@
text
@d3 4
@


1.2019
log
@Support R_SPARC_WDISP10 and R_SPARC_H34.

include/

	* elf/sparc.h (R_SPARC_WDISP10): New reloc.
	* opcode/sparc.h: Define '=' as generating R_SPARC_WDISP10.

opcodes/

	* sparc-dis.c (X_DISP10): Define.
	(print_insn_sparc): Handle '='.

bfd/

	* reloc.c (BFD_RELOC_SPARC_H34, BFD_RELOC_SPARC_SIZE32,
	BFD_RELOC_SPARC_SIZE64, BFD_RELOC_SPARC_WDISP10): New relocs.
	* libbfd.h: Regenerate.
	* bfd-in2.h: Likewise.
	* elfxx-sparc.c (sparc_elf_wdisp10_reloc): New function.
	(_bfd_sparc_elf_howto_table): Add entries for R_SPARC_H34,
	R_SPARC_SIZE32, R_SPARC_64, and R_SPARC_WDISP10.
	(_bfd_sparc_elf_reloc_type_lookup): Handle new relocs.
	(_bfd_sparc_elf_check_relocs): Likewise.
	(_bfd_sparc_elf_gc_sweep_hook): Likewise.
	(_bfd_sparc_elf_relocate_section): Likewise.

gas/

	* config/tc-sparc.c (sparc_ip): Handle '=', "%h34", "%l34", and
	BFD_RELOC_SPARC_H34.
	(md_apply_fix): Handle BFD_RELOC_SPARC_WDISP10 and BFD_RELOC_SPARC_H34.
	(tc_gen_reloc): Likewise.

gas/testsuite/

	* gas/sparc/reloc64.s: Add abs34 code model tests.
	* gas/sparc/reloc64.d: Update.

elfcpp/

	* sparc.h (R_SPARC_WDISP10): New relocation.

gold/

	* sparc.cc (Reloc::wdisp10): New relocation method.
	(Reloc::h34): Likewise.
	(Target_sparc::Scan::check_non_pic): Handle R_SPARC_H34.
	(Target_sparc::Scan::get_reference_flags): Handle R_SPARC_H34 and
	R_SPARC_WDISP10.
	(Target_sparc::Scan::local): Likewise.
	(Target_sparc::Scan::global): Likewise.
	(Target_sparc::Relocate::relocate): Likewise.
@
text
@d1 6
@


1.2018
log
@	* elf32-arm.c (elf32_arm_nacl_plt0_entry, elf32_arm_nacl_plt_entry):
	New variables.
	(struct elf32_arm_link_hash_table): New member `nacl_p'.
	(elf32_arm_link_hash_table_create): Initialize it.
	(elf32_arm_nacl_link_hash_table_create): New function.
	(arm_movw_immediate, arm_movt_immediate): New functions.
	(elf32_arm_populate_plt_entry): Test HTAB->nacl_p.
	(elf32_arm_finish_dynamic_sections): Likewise.
	(elf32_arm_output_plt_map_1): Likewise.
	(bfd_elf32_littlearm_nacl_vec, bfd_elf32_bigarm_nacl_vec):
	New backend vector stanza.
	(elf32_arm_nacl_modify_segment_map): New function.
	* config.bfd: Handle arm-*-nacl*, armeb-*-nacl*.
	* targets.c: Support bfd_elf32_{big,little}_nacl_vec.
	* configure.in: Likewise.
	(bfd_elf32_bigarm_nacl_vec): Add elf-nacl.lo here.
	(bfd_elf32_littlearm_nacl_vec): Likewise.
	(bfd_elf32_bigarm_vec, bfd_elf32_littlearm_vec): Likewise.
	(bfd_elf32_bigarm_symbian_vec): Likewise.
	(bfd_elf32_littlearm_symbian_vec): Likewise.
	(bfd_elf32_bigarm_vxworks_vec): Likewise.
	(bfd_elf32_littlearm_vxworks_vec): Likewise.
	* configure: Regenerated.

	* configure.tgt (arm-*-nacl*): Match it.
	* config/te-nacl.h (FPU_DEFAULT, EABI_DEFAULT): Define.
	(LOCAL_LABELS_DOLLAR): Define.
	* config/tc-arm.c (elf32_arm_target_format) [TE_NACL]:
	Use nacl format variants.

	* gas/elf/elf.exp (run_elf_list_test): Treat arm-*-nacl* targets
	as -armeabi.

	* gas/arm/any-idiv.d: Match *-*-nacl* targets too.
	* gas/arm/arch4t.d: Likewise.
	* gas/arm/arch4t-eabi.d: Likewise.
	* gas/arm/attr-any-armv4t.d: Likewise.
	* gas/arm/attr-any-thumbv6.d: Likewise.
	* gas/arm/attr-cpu-directive.d: Likewise.
	* gas/arm/attr-default.d: Likewise.
	* gas/arm/attr-march-all.d: Likewise.
	* gas/arm/attr-march-armv1.d: Likewise.
	* gas/arm/attr-march-armv2a.d: Likewise.
	* gas/arm/attr-march-armv2.d: Likewise.
	* gas/arm/attr-march-armv2s.d: Likewise.
	* gas/arm/attr-march-armv3.d: Likewise.
	* gas/arm/attr-march-armv3m.d: Likewise.
	* gas/arm/attr-march-armv4.d: Likewise.
	* gas/arm/attr-march-armv4t.d: Likewise.
	* gas/arm/attr-march-armv4txm.d: Likewise.
	* gas/arm/attr-march-armv4xm.d: Likewise.
	* gas/arm/attr-march-armv5.d: Likewise.
	* gas/arm/attr-march-armv5t.d: Likewise.
	* gas/arm/attr-march-armv5te.d: Likewise.
	* gas/arm/attr-march-armv5tej.d: Likewise.
	* gas/arm/attr-march-armv5texp.d: Likewise.
	* gas/arm/attr-march-armv5txm.d: Likewise.
	* gas/arm/attr-march-armv6.d: Likewise.
	* gas/arm/attr-march-armv6j.d: Likewise.
	* gas/arm/attr-march-armv6k.d: Likewise.
	* gas/arm/attr-march-armv6k+sec.d: Likewise.
	* gas/arm/attr-march-armv6kt2.d: Likewise.
	* gas/arm/attr-march-armv6-m.d: Likewise.
	* gas/arm/attr-march-armv6-m+os.d: Likewise.
	* gas/arm/attr-march-armv6s-m.d: Likewise.
	* gas/arm/attr-march-armv6t2.d: Likewise.
	* gas/arm/attr-march-armv6z.d: Likewise.
	* gas/arm/attr-march-armv6zk.d: Likewise.
	* gas/arm/attr-march-armv6zkt2.d: Likewise.
	* gas/arm/attr-march-armv6zt2.d: Likewise.
	* gas/arm/attr-march-armv7-a.d: Likewise.
	* gas/arm/attr-march-armv7a.d: Likewise.
	* gas/arm/attr-march-armv7-a+idiv.d: Likewise.
	* gas/arm/attr-march-armv7-a+mp.d: Likewise.
	* gas/arm/attr-march-armv7-a+sec.d: Likewise.
	* gas/arm/attr-march-armv7-a+sec+virt.d: Likewise.
	* gas/arm/attr-march-armv7-a+virt.d: Likewise.
	* gas/arm/attr-march-armv7.d: Likewise.
	* gas/arm/attr-march-armv7em.d: Likewise.
	* gas/arm/attr-march-armv7-m.d: Likewise.
	* gas/arm/attr-march-armv7m.d: Likewise.
	* gas/arm/attr-march-armv7-r.d: Likewise.
	* gas/arm/attr-march-armv7r.d: Likewise.
	* gas/arm/attr-march-armv7-r+mp.d: Likewise.
	* gas/arm/attr-march-iwmmxt2.d: Likewise.
	* gas/arm/attr-march-iwmmxt.d: Likewise.
	* gas/arm/attr-march-xscale.d: Likewise.
	* gas/arm/attr-mcpu.d: Likewise.
	* gas/arm/attr-mfpu-arm1020e.d: Likewise.
	* gas/arm/attr-mfpu-arm1020t.d: Likewise.
	* gas/arm/attr-mfpu-arm1136jf-s.d: Likewise.
	* gas/arm/attr-mfpu-arm1136jfs.d: Likewise.
	* gas/arm/attr-mfpu-arm7500fe.d: Likewise.
	* gas/arm/attr-mfpu-fpa10.d: Likewise.
	* gas/arm/attr-mfpu-fpa11.d: Likewise.
	* gas/arm/attr-mfpu-fpa.d: Likewise.
	* gas/arm/attr-mfpu-fpe2.d: Likewise.
	* gas/arm/attr-mfpu-fpe3.d: Likewise.
	* gas/arm/attr-mfpu-fpe.d: Likewise.
	* gas/arm/attr-mfpu-maverick.d: Likewise.
	* gas/arm/attr-mfpu-neon.d: Likewise.
	* gas/arm/attr-mfpu-neon-fp16.d: Likewise.
	* gas/arm/attr-mfpu-softfpa.d: Likewise.
	* gas/arm/attr-mfpu-softvfp.d: Likewise.
	* gas/arm/attr-mfpu-softvfp+vfp.d: Likewise.
	* gas/arm/attr-mfpu-vfp10.d: Likewise.
	* gas/arm/attr-mfpu-vfp10-r0.d: Likewise.
	* gas/arm/attr-mfpu-vfp3.d: Likewise.
	* gas/arm/attr-mfpu-vfp9.d: Likewise.
	* gas/arm/attr-mfpu-vfp.d: Likewise.
	* gas/arm/attr-mfpu-vfpv2.d: Likewise.
	* gas/arm/attr-mfpu-vfpv3-d16.d: Likewise.
	* gas/arm/attr-mfpu-vfpv3.d: Likewise.
	* gas/arm/attr-mfpu-vfpv4-d16.d: Likewise.
	* gas/arm/attr-mfpu-vfpv4.d: Likewise.
	* gas/arm/attr-mfpu-vfpxd.d: Likewise.
	* gas/arm/attr-names.d: Likewise.
	* gas/arm/attr-order.d: Likewise.
	* gas/arm/attr-override-cpu-directive.d: Likewise.
	* gas/arm/attr-override-mcpu.d: Likewise.
	* gas/arm/got_prel.d: Likewise.
	* gas/arm/mapdir.d: Likewise.
	* gas/arm/mapmisc.d: Likewise.
	* gas/arm/mapsecs.d: Likewise.
	* gas/arm/mapshort-eabi.d: Likewise.
	* gas/arm/mapshort-elf.d: Likewise.
	* gas/arm/mov-highregs-any.d: Likewise.
	* gas/arm/mov-lowregs-any.d: Likewise.
	* gas/arm/pr12198-1.d: Likewise.
	* gas/arm/pr12198-2.d: Likewise.
	* gas/arm/thumb.d: Likewise.
	* gas/arm/thumb-eabi.d: Likewise.
	* gas/arm/thumbrel.d: Likewise.

	* configure.tgt (arm*-*-nacl*, arm*b-*-nacl*): Handle them.
	* emulparams/armelf_nacl.sh: New file.
	* emulparams/armelfb_nacl.sh: New file.
	* Makefile.am (ALL_EMULATION_SOURCES): Add earmelf_nacl.c
	and earmelfb_nacl.c here.
	(earmelf_nacl.c, earmelfb_nacl.c): New targets.
	* Makefile.in: Regenerated.

	* ld-arm/arm-elf.exp (armelftests): Split out into ...
	(armelftests_common, armelftests_nonacl): ... these two.
	(armeabitests): Split out into ...
	(armeabitests_common, armeabitests_nonacl): ... these two.
	Omit _nonacl sets for arm*-*-nacl* targets.

	* ld-arm/farcall-mix.d: Don't match exact addresses, only symbolic ones.
	* ld-arm/farcall-mix2.d: Likewise.
	* ld-arm/farcall-group.d: Likewise.

	* ld-arm/tls-gdesc-got.d: Match variant file formats too.
	Accept some variation in exact addresses.

	* ld-arm/thumb2-b-interwork.d: Match variant file formats too.
	Fix regexps not to care about exact addresses where not relevant.

	* ld-arm/thumb2-bl-undefweak.d: Match any hex strings, not any
	strings of particular exact lengths.
	* ld-arm/thumb2-bl-undefweak1.d: Likewise.

	* ld-arm/arm-app.r: Match variant file formats too.
	* ld-arm/arm-app-abs32.r: Likewise.
	* ld-arm/arm-lib.d: Likewise.
	* ld-arm/arm-lib.r: Likewise.
	* ld-arm/arm-static-app.r: Likewise.
	* ld-arm/armv4-bx.d: Likewise.
	* ld-arm/data-only-map.d: Likewise.
	* ld-arm/group-relocs.d: Likewise.
	* ld-arm/jump19.d: Likewise.
	* ld-arm/reloc-boundaries.d: Likewise.
	* ld-arm/thumb1-bl.d: Likewise.
	* ld-arm/thumb2-bl.d: Likewise.
	* ld-arm/tls-app.d: Likewise.
	* ld-arm/tls-app.r: Likewise.
	* ld-arm/tls-gdierelax.d: Likewise.
	* ld-arm/tls-gdierelax2.d: Likewise.
	* ld-arm/tls-gdlerelax.d: Likewise.
	* ld-arm/tls-lib.d: Likewise.
	* ld-arm/tls-lib.r: Likewise.
	* ld-arm/tls-mixed.r: Likewise.
	* ld-arm/vfp11-fix-none.d: Likewise.
	* ld-arm/vfp11-fix-scalar.d: Likewise.
	* ld-arm/vfp11-fix-vector.d: Likewise.
	* ld-arm/arm-static-app.d: Likewise.
	Fix regexps not to care about exact number of leading spaces.
	* ld-arm/arm-app-abs32.d: Likewise.
	* ld-arm/fix-arm1176-off.d: Likewise.
	* ld-arm/fix-arm1176-on.d: Likewise.

	* ld-arm/arm-elf.exp: Treat nacl targets like eabi targets.
@
text
@d1 5
@


1.2017
log
@	* config/tc-arm.c (only_one_reg_in_list): New function.
	(encode_ldmstm): Ditto.
	(do_ldmstm): Use a different encoding when pushing or poping
	a single register.
	(A_COND_MASK): New macro.
	(A_PUSH_POP_OP_MASK): Ditto.
	(A1_OPCODE_PUSH): Ditto.
	(A2_OPCODE_PUSH): Ditto.
	(A2_OPCODE_POP): Ditto.

	* gas/arm/push-pop.d: New testcase.
	* gas/arm/push-pop.s: Ditto.
	* gas/arm/stm-ldm.d: Ditto.
	* gas/arm/stm-ldm.s: Ditto.
@
text
@d1 106
@


1.2016
log
@gas/testsuite/

	* gas/all/gas.exp: Sparc can handle BFD_RELOC_8 for constants.

ld/testsuite/

	* ld-sparc/tlssunbin32.rd: Fix regexp.
	* ld-sparc/tlssunbin64.rd: Likewise.
@
text
@d1 8
@


1.2015
log
@bfd/
2012-04-03  Roland McGrath  <mcgrathr@@google.com>

	* elf-nacl.c: New file.
	* elf-nacl.h: New file.
	* elf32-i386.c (elf_backend_modify_segment_map): Define for
	bfd_elf32_i386_nacl_vec.
	(elf_backend_modify_program_headers): Likewise.
	* elf64-x86-64.c (elf_backend_modify_segment_map): Define for
	bfd_elf64_x86_64_nacl_vec and bfd_elf32_x86_64_nacl_vec.
	(elf_backend_modify_program_headers): Likewise.
	* Makefile.am (BFD32_BACKENDS, BFD64_BACKENDS): Add elf-nacl.lo here.
	(BFD32_BACKENDS_CFILES, BFD64_BACKENDS_CFILES): Add elf-nacl.c here.
	* Makefile.in: Regenerated.
	* configure.in (bfd_elf64_x86_64_nacl_vec): Add elf-nacl.o to tb here.
	(bfd_elf32_x86_64_nacl_vec): Likewise.
	(bfd_elf64_x86_64_vec, bfd_elf32_x86_64_vec): Likewise.
	(bfd_elf64_x86_64_freebsd_vec, bfd_elf64_x86_64_sol2_vec): Likewise.
	(bfd_elf64_l1om_vec, bfd_elf64_l1om_freebsd_vec): Likewise.
	(bfd_elf64_k1om_vec, bfd_elf64_k1om_freebsd_vec): Likewise.
	(bfd_elf32_i386_nacl_vec): Likewise.
	(bfd_elf32_i386_sol2_vec, bfd_elf32_i386_freebsd_vec): Likewise.
	(bfd_elf32_i386_vxworks_vec, bfd_elf32_i386_vec): Likewise.
	* configure: Regenerated.

binutils/testsuite/
2012-04-03  Roland McGrath  <mcgrathr@@google.com>

	* lib/binutils-common.exp (is_elf_format): Consider *-*-nacl* to
	be ELF too.

	* binutils-all/elfedit-4.d: Add "#as: --64" option.

	* binutils-all/i386/i386.exp: Accept nacl targets too.
	* binutils-all/x86-64/x86-64.exp: Likewise.

gas/testsuite/
2012-04-03  Roland McGrath  <mcgrathr@@google.com>

	* gas/i386/k1om.d: Add not-target match for *-*-nacl*.
	* gas/i386/l1om.d: Likewise.

ld/
2012-04-03  Roland McGrath  <mcgrathr@@google.com>

	* configure.tgt (i[3-7]86-*-nacl*, x86_64-*-nacl*): Handle them.
	* emulparams/elf_nacl.sh: New file.
	* emulparams/elf_i386_nacl.sh: New file.
	* emulparams/elf32_x86_64_nacl.sh: New file.
	* emulparams/elf_x86_64_nacl.sh: New file.
	* Makefile.am (ALL_EMULATION_SOURCES): Add eelf_i386_nacl.c here.
	(ALL_64_EMULATION_SOURCES): Add eelf32_x86_64_nacl.c and
	eelf_x86_64_nacl.c here.
	(eelf_i386_nacl.c, eelf32_x86_64_nacl.c, eelf_x86_64_nacl.c):
	New targets.
	* Makefile.in: Regenerated.

	* scripttempl/elf.sc: Handle SEPARATE_CODE cases.

ld/testsuite/
2012-04-03  Roland McGrath  <mcgrathr@@google.com>

	* ld-x86-64/ilp32-4-nacl.d: New file.
	* ld-x86-64/x86-64.exp: Run it.

	* ld-discard/discard.exp: Accept nacl targets too.
	* ld-elf/binutils.exp: Likewise.
	* ld-elf/comm-data.exp: Likewise.
	* ld-elf/elf.exp: Likewise.
	* ld-elf/tls_common.exp: Likewise.
	* ld-elfvers/vers.exp: Likewise.
	* ld-elfvsb/elfvsb.exp: Likewise.
	* ld-elfweak/elfweak.exp: Likewise.
	* ld-gc/gc.exp: Likewise.
	* ld-ifunc/binutils.exp: Likewise.
	* ld-ifunc/ifunc.exp: Likewise.
	* ld-linkonce/linkonce.exp:Likewise.
	* ld-pie/pie.exp: Likewise.
	* ld-shared/shared.exp: Likewise.
	* ld-undefined/weak-undef.exp: Likewise.
	* ld-unique/unique.exp: Likewise.
	* ld-x86-64/dwarfreloc.exp: Likewise.
	* ld-x86-64/line.exp: Likewise.

	* lib/ld-lib.exp (slurp_options): Support global array
	options_regsub to apply substitutions to the contents
	of options lines read from the file.
	* ld-i386/emit-relocs.d: Renamed to ...
	* ld-i386/emit-relocs.rd: ... this.
	* ld-i386/i386.exp: Accept nacl targets too.
	For them, use options_regsub to replace elf_i386 with
	elf_i386_nacl in run_dump_test cases; apply the same
	substitution in $i386tests; replace foo.rd expectations
	files with foo-nacl.rd in $i386tests.
	(i386tests): Change emit-relocs.d to emit-relocs.rd here.
	* ld-i386/emit-relocs-nacl.rd: New file.
	* ld-i386/plt-nacl.pd: New file.
	* ld-i386/plt-pic-nacl.pd: New file.
	* ld-i386/tlsbin-nacl.rd: New file.
	* ld-i386/tlsbindesc-nacl.rd: New file.
	* ld-i386/tlsdesc-nacl.rd: New file.
	* ld-i386/tlsgdesc-nacl.rd: New file.
	* ld-i386/tlsnopic-nacl.rd: New file.
	* ld-i386/tlspic-nacl.rd: New file.
	* ld-x86-64/x86-64.exp: Accept nacl targets too.
	For them, use options_regsub to replace elf_x86_64 with
	elf_x86_64_nacl in run_dump_test cases; apply the same
	substitution in $x86_64tests; replace foo.rd expectations
	files with foo-nacl.rd in $x86_64tests.
	Add explicit -melf_x86_64 to ld options in tests that need it,
	in case the default emulation is x32 (as it is for x86_64-nacl).
	* ld/testsuite/ld-x86-64/plt-nacl.pd: New file.
	* ld/testsuite/ld-x86-64/split-by-file-nacl.rd: New file.
	* ld/testsuite/ld-x86-64/tlsbin-nacl.rd: New file.
	* ld/testsuite/ld-x86-64/tlsbindesc-nacl.rd: New file.
	* ld/testsuite/ld-x86-64/tlsdesc-nacl.pd: New file.
	* ld/testsuite/ld-x86-64/tlsdesc-nacl.rd: New file.
	* ld/testsuite/ld-x86-64/tlsgdesc-nacl.rd: New file.
	* ld/testsuite/ld-x86-64/tlspic-nacl.rd: New file.

	* ld-i386/hidden2.d: Loosen regexps to match any file format variant,
	and not to depend on exact addresses, displacements, etc. where
	they are irrelevant.
	* ld-i386/pcrel16.d: Likewise.
	* ld-i386/pcrel16abs.d: Likewise.
	* ld-i386/pr12718.d: Likewise.
	* ld-i386/pr12921.d: Likewise.
	* ld-i386/reloc.d: Likewise.
	* ld-i386/tlsbin.dd: Likewise.
	* ld-i386/tlsbin.sd: Likewise.
	* ld-i386/tlsbin.td: Likewise.
	* ld-i386/tlsbindesc.dd: Likewise.
	* ld-i386/tlsbindesc.sd: Likewise.
	* ld-i386/tlsbindesc.td: Likewise.
	* ld-i386/tlsdesc.dd: Likewise.
	* ld-i386/tlsdesc.sd: Likewise.
	* ld-i386/tlsdesc.td: Likewise.
	* ld-i386/tlsg.sd: Likewise.
	* ld-i386/tlsgdesc.dd: Likewise.
	* ld-i386/tlsindntpoff.dd: Likewise.
	* ld-i386/tlsnopic.dd: Likewise.
	* ld-i386/tlsnopic.sd: Likewise.
	* ld-i386/tlspic.dd: Likewise.
	* ld-i386/tlspic.sd: Likewise.
	* ld-i386/tlspic.td: Likewise.
	* ld-i386/tlspie2.d: Likewise.
	* ld-x86-64/hidden2.d: Likewise.
	* ld-x86-64/pcrel16.d: Likewise.
	* ld-x86-64/pr12718.d: Likewise.
	* ld-x86-64/pr12921.d: Likewise.
	* ld-x86-64/protected3.d: Likewise.
	* ld-x86-64/tlsbin.dd: Likewise.
	* ld-x86-64/tlsbin.sd: Likewise.
	* ld-x86-64/tlsbin.td: Likewise.
	* ld-x86-64/tlsbindesc.dd: Likewise.
	* ld-x86-64/tlsbindesc.sd: Likewise.
	* ld-x86-64/tlsbindesc.td: Likewise.
	* ld-x86-64/tlsdesc.dd: Likewise.
	* ld-x86-64/tlsdesc.sd: Likewise.
	* ld-x86-64/tlsdesc.td: Likewise.
	* ld-x86-64/tlsg.sd: Likewise.
	* ld-x86-64/tlsgd5.dd: Likewise.
	* ld-x86-64/tlsgd6.dd: Likewise.
	* ld-x86-64/tlsgdesc.dd: Likewise.
	* ld-x86-64/tlspic.dd: Likewise.
	* ld-x86-64/tlspic.sd: Likewise.
	* ld-x86-64/tlspic.td: Likewise.

	* ld-x86-64/ilp32-8.d: Match any file format variant.
	Use a -Ttext and adjust expected results, to handle variant layouts.
	* ld-x86-64/ilp32-9.d: Likewise.

	* ld-i386/alloc.t: Remove superfluous OUTPUT_FORMAT statement.
	* ld-i386/pr12627.t: Likewise.

	* ld-x86-64/abs-l1om.d: Add target: constraint.
	* ld-x86-64/protected2-l1om.d: Likewise.
	* ld-x86-64/protected3-l1om.d: Likewise.
	* ld-x86-64/ilp32-4.d: Likewise.

	* ld-x86-64/plt.s: New file.
	* ld-x86-64/pltlib.s: New file.
	* ld-x86-64/plt.pd: New file.
	* ld-x86-64/x86-64.exp (x86_64tests): Add them.

	* ld-i386/plt.s: New file.
	* ld-i386/pltlib.s: New file.
	* ld-i386/plt.pd: New file.
	* ld-i386/plt-pic.s: New file.
	* ld-i386/plt-pic.pd: New file.
	* ld-i386/i386.exp (i386tests): Add them.
@
text
@d1 4
@


1.2014
log
@* config/rx-parse.y: IMM->IMM_, take an extra parameter for the
transfer size.
(IMM): New, call IMM_ with the default 32.
(IMMW,IMMB): Likewise, for 16 and 8.
(NIMM, MBIMM): Add size parameter.
(immediate): Likewise.  Allow 32768..65535 for 16-bit transfers.
(MOV.W): Use IMMW instead of IMM.

* config/rx-parse.y (ADC,SBB): ADC and SBB only allow .L.
(op_dp20_rm_l): New.
(op_dp20_rim_l): New.

* config/rx-parse.y (op_dp20_rms): Rename to op_dp20_rr, don't allow mem.
(ABS, NEG, NOT): These only take REG or REG,REG (rr, not rms).


* gas/rx/mov.d: Update patterns for fixed MOV.W encoding.
@
text
@d1 5
@


1.2013
log
@	* config/tc-arm.c (do_vmrs): Accept priviledged mode VFP system
	registers.
	(do_vmsr): Likewise.
	(arm_opcode_insns): Do not default to using the FPSCR register in
	the VMRS and VMSR registers.

	* gas/arm/vfp1xD.s: Add tests of the VMSR ad VMRS instructions in
	priviledged modes.
	* gas/arm/vfp1xD.d: Update expected output.
@
text
@d1 4
@


1.2012
log
@	* gas/config/tc-arm.c (aeabi_set_public_attributes): Correct
	handling of Tag_DIV_use.
	* gas/testsuite/gas/testsuite/gas/arm/any-idiv.d: New testcase.
	* gas/testsuite/gas/testsuite/gas/arm/any-idiv.s: Likewise.
	* gas/testsuite/gas/arm/attr-any-armv4t.d: Update expected output.
	* gas/testsuite/gas/arm/attr-any-thumbv6.d: Likewise.
	* gas/testsuite/gas/arm/attr-cpu-directive.d: Likewise.
	* gas/testsuite/gas/arm/attr-default.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv1.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv2.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv2a.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv2s.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv3.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv3m.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv4.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv4t.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv4txm.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv4xm.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv5.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv5t.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv5te.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv5tej.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv5texp.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv5txm.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv6-m+os.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv6-m.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv6.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv6j.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv6k+sec.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv6k.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv6kt2.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv6s-m.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv6t2.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv6z.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv6zk.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv6zkt2.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv6zt2.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv7-a+mp.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv7-a+sec.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv7-a.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv7.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv7a.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-iwmmxt.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-iwmmxt2.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-xscale.d: Likewise.
	* gas/testsuite/gas/arm/attr-mcpu.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-arm1020e.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-arm1020t.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-arm1136jf-s.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-arm1136jfs.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-arm7500fe.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-fpa.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-fpa10.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-fpa11.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-fpe.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-fpe2.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-fpe3.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-maverick.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-neon-fp16.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-neon.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-softfpa.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-softvfp+vfp.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-softvfp.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-vfp.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-vfp10-r0.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-vfp10.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-vfp3.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-vfp9.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-vfpv2.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-vfpv3-d16.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-vfpv3.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-vfpv4-d16.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-vfpv4.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-vfpxd.d: Likewise.
	* gas/testsuite/gas/arm/attr-order.d: Likewise.
	* gas/testsuite/gas/arm/attr-override-cpu-directive.d: Likewise.
	* gas/testsuite/gas/arm/attr-override-mcpu.d: Likewise.
	* gas/testsuite/gas/arm/eabi_attr_1.d: Likewise.
	* gas/testsuite/gas/arm/mov-highregs-any.d: Likewise.
	* gas/testsuite/gas/arm/mov-lowregs-any.d: Likewise.
	* gas/testsuite/gas/arm/pr12198-1.d: Likewise.
	* gas/testsuite/gas/arm/pr12198-2.d: Likewise.
	* ld/testsuite/ld-arm/arm-elf.exp: Add new testcases.
	* ld/testsuite/ld-arm/attr-merge-2.attr: Update ouput.
	* ld/testsuite/ld-arm/attr-merge-2a.s: Remove Tag_DIV_use test.
	* ld/testsuite/ld-arm/attr-merge-2b.s: Likewise.
	* ld/testsuite/ld-arm/attr-merge-3.attr: Updated expected output.
	* ld/testsuite/ld-arm/attr-merge-4.attr: Likewise.
	* ld/testsuite/ld-arm/attr-merge-5.attr: Likewise.
	* ld/testsuite/ld-arm/attr-merge-6.attr: Likewise.
	* ld/testsuite/ld-arm/attr-merge-7.attr: Likewise.
	* ld/testsuite/ld-arm/attr-merge-arch-1.attr: Likewise.
	* ld/testsuite/ld-arm/attr-merge-arch-2.attr: Likewise.
	* ld/testsuite/ld-arm/attr-merge-unknown-2.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-unknown-2r.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-unknown-3.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-1.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-1r.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-2.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-2r.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-3.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-3r.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-4.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-4r.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-5.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-5r.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-6.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-6r.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-00-nowarn.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-00.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-02-nowarn.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-02.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-04-nowarn.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-04.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-20-nowarn.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-20.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-22-nowarn.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-22.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-24-nowarn.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-40-nowarn.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-40.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-42-nowarn.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-44-nowarn.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-44.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge.attr: Likewise.
	* ld/testsuite/ld-arm/attr-merge-div-0.s: New testcase.
	* ld/testsuite/ld-arm/attr-merge-div-00.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-div-01-m3.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-div-01.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-div-02.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-div-1.s: Likewise.
	* ld/testsuite/ld-arm/attr-merge-div-10-m3.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-div-10.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-div-11.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-div-12.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-div-120.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-div-2.s: Likewise.
	* ld/testsuite/ld-arm/attr-merge-div-20.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-div-21.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-div-22.d: Likewise.
@
text
@d1 6
@


1.2011
log
@	* gas/i386/bundle-lock.d: Ignore trailing nops.
	* gas/i386/bundle.d: Likewise.
	* gas/i386/x86-64-bundle.d: Likewise.
@
text
@d1 83
@


1.2010
log
@Fix up last commit.
@
text
@d1 6
@


1.2009
log
@gas/
2012-03-12  Roland McGrath  <mcgrathr@@google.com>

	* config/tc-arm.c (arm_frag_max_var): New function.
	* config/tc-arm.h: Declare it.
	(md_frag_max_var): New macro.

	* config/tc-i386.c (i386_frag_max_var): New function.
	* config/tc-i386.h: Declare it.
	(md_frag_max_var): New macro.

	* doc/as.texinfo (Bundle directives): New node.
	(Pseudo Ops): Add it to the menu.
	* NEWS: Mention new feature.
	* read.c [md_frag_max_var] (HANDLE_BUNDLE): New macro.
	[HANDLE_BUNDLE] (bundle_align_p2): New variable.
	[HANDLE_BUNDLE] (bundle_lock_frchain, bundle_lock_frag): New variables.
	[HANDLE_BUNDLE] (start_bundle, pending_bundle_size, finish_bundle):
	New functions.
	(assemble_one): New function if [HANDLE_BUNDLE], #define directly
	to md_assembly if not.
	(read_a_source_file): Call assemble_one in place of md_assemble.
	(read_a_source_file) [HANDLE_BUNDLE]: Check for unterminated
	.bundle_lock at end of processing.
	[HANDLE_BUNDLE] (s_bundle_align_mode, s_bundle_lock, s_bundle_unlock):
	New functions.
	[HANDLE_BUNDLE] (potable): Add their entries.
	* read.h: Declare new functions.

gas/testsuite/
2012-03-12  Roland McGrath  <mcgrathr@@google.com>

	* gas/i386/bundle-bad.s: New file.
	* gas/i386/bundle-bad.d: New file.
	* gas/i386/bundle-bad.l: New file.
	* gas/i386/i386.exp: Run it.

	* gas/arm/bundle.s: New file.
	* gas/arm/bundle.d: New file.
	* gas/arm/bundle-lock.s: New file.
	* gas/arm/bundle-lock.d: New file.

	* gas/i386/bundle.s: New file.
	* gas/i386/bundle.d: New file.
	* gas/i386/x86-64-bundle.s: New file.
	* gas/i386/x86-64-bundle.d: New file.
	* gas/i386/bundle-lock.s: New file.
	* gas/i386/bundle-lock.d: New file.
	* gas/i386/i386.exp: Run them.
@
text
@d1 1
a1 1
2012-03-12  Roland McGrath  <mcgrathr@@google.com>
@


1.2008
log
@include/opcode/
	* ppc.h: Add PPC_OPCODE_ALTIVEC2, PPC_OPCODE_E6500, PPC_OPCODE_TMR.
opcodes/
	* ppc-dis.c (ppc_opts): Add entries for "e5500" and "e6500".
	* ppc-opc.c (insert_ls, TMR, ESYNC, XSYNCLE_MASK): New.
	(PPCVEC2, PPCTMR, E6500): New short names.
	(powerpc_opcodes): Add vabsdub, vabsduh, vabsduw, dni, mvidsplt,
	mviwsplt, icblq., mftmr, mttmr, dcblq., miso, lvexbx, lvexhx,
	lvexwx, stvexbx, stvexhx, stvexwx, lvepx, lvepxl, stvepx, stvepxl,
	lvtrx, lvtrxl, lvtlx, lvtlxl, stvfrx, stvfrxl, stvflx, stvflxl,
	lvswx, lvswxl, stvswx, stvswxl, lvsm mnemonics. Accept LS, ESYNC
	optional operands on sync instruction for E6500 target.
bfd/
	* archures.c: Add bfd_mach_ppc_e5500 and bfd_mach_ppc_e6500.
	* bfd-in2.h: Regenerate.
	* cpu-powerpc.c (bfd_powerpc_archs): Add entryies for
	bfd_mach_ppc_e5500 and bfd_mach_ppc_e6500.
gas/
	* config/tc-ppc.c (md_show_usage): Document -me5500 and -me6500.
	(ppc_handle_align): Add termination nop opcode for e500mc family.
	* doc/as.texinfo: Document options -me5500 and -me6500.
	* doc/c-ppc.texi: Likewise.
gas/testsuite/
	* gas/ppc/e500mc64_nop.s: New test case for e500mc family
	termination nops.
	* gas/ppc/e500mc64_nop.d: Likewise.
	* gas/ppc/e5500_nop.s: Likewise.
	* gas/ppc/e5500_nop.d: Likewise.
	* gas/ppc/e6500_nop.s: Likewise.
	* gas/ppc/e6500_nop.d: Likewise.
	* gas/ppc/e6500.s: New.
	* gas/ppc/e6500.d: Likewise.
	* gas/ppc/ppc.exp: Run e6500, e500mc64_nop, e5500_nop, and e6500_nop.
@
text
@d1 20
@


1.2007
log
@2012-03-08  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* s390-opc.txt: Set instruction type of pku to SS_L2RDRD.

2012-03-08  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* gas/s390/esa-g5.d: Move length field to the second operand.
	* gas/s390/esa-g5.s: Likewise.
@
text
@d1 13
@


1.2006
log
@	* gas/elf/bad-group.s: Add section attributes.
	* gas/elf/elf.exp (groupautoa, groupautob): Don't run for hppa64-hpux.
	(ifunc-1, type): Don't run for hpux.
	* gas/elf/type-noifunc.e: Accept ANSI_COM.
	* gas/elf/section7.s: Always have whitespace before directives.
	* gas/elf/warn-2.s: Likewise.
	* gas/i386/ifunc-3.s: Move .size directive.
@
text
@d1 5
@


1.2005
log
@	* gas/all/gas.exp (redef2): xfail m6811 and m6812.
	* gas/elf/elf.exp: Use is_elf_format.
	* gas/symver/symver.exp: Likewise.
	* gas/m68hc11/m68hc11.exp: Simplify target test.
	Add -m68hc11 to error tests that pass for hc12.
@
text
@d1 10
@


1.2004
log
@        * gas/i386/disp32.d: Adjust lable-pattern.
@
text
@d1 8
d11 1
a11 1
	* gas/i386/disp32.d: Adjust lable-pattern.
@


1.2003
log
@        * gas/i386/x86-64-disp32.d: Fix lable-pattern.
@
text
@d1 4
@


1.2002
log
@Implement Intel Transactional Synchronization Extensions

gas/

2012-02-08  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (HLE_PREFIX): New.
	(check_hle): Likewise.
	(_i386_insn): Add have_hle.
	(cpu_arch): Add .hle and .rtm.
	(md_assemble): Call check_hle if i.have_hle isn't zero.
	(parse_insn): Set i.have_hle to 1 for HLE prefix.
	(output_jump): Support up to 2 byte opcode.

	* doc/c-i386.texi: Document hle/.hle and rtm/.rtm.

gas/testsuite/

2012-02-08  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/hle-intel.d: New.
	* gas/i386/hle.d: Likewise.
	* gas/i386/hle.s: Likewise.
	* gas/i386/hlebad.l: Likewise.
	* gas/i386/hlebad.s: Likewise.
	* gas/i386/rtm-intel.d: Likewise.
	* gas/i386/rtm.d: Likewise.
	* gas/i386/rtm.s: Likewise.
	* gas/i386/x86-64-hle-intel.d: Likewise.
	* gas/i386/x86-64-hle.d: Likewise.
	* gas/i386/x86-64-hle.s: Likewise.
	* gas/i386/x86-64-hlebad.l: Likewise.
	* gas/i386/x86-64-hlebad.s: Likewise.
	* gas/i386/x86-64-rtm-intel.d: Likewise.
	* gas/i386/x86-64-rtm.d: Likewise.
	* gas/i386/x86-64-rtm.s: Likewise.

	* gas/i386/i386.exp: Run hle, hle-intel, hlebad x86-64-hle, rtm,
	rtm-intel, x86-64-hle-intel, x86-64-hlebad, x86-64-rtm and
	x86-64-rtm-intel.

include/opcode/

2012-02-08  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386.h (XACQUIRE_PREFIX_OPCODE): New.
	(XRELEASE_PREFIX_OPCODE): Likewise.

opcodes/

2012-02-08  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (HLE_Fixup1): New.
	(HLE_Fixup2): Likewise.
	(HLE_Fixup3): Likewise.
	(Ebh1): Likewise.
	(Evh1): Likewise.
	(Ebh2): Likewise.
	(Evh2): Likewise.
	(Ebh3): Likewise.
	(Evh3): Likewise.
	(MOD_C6_REG_7): Likewise.
	(MOD_C7_REG_7): Likewise.
	(RM_C6_REG_7): Likewise.
	(RM_C7_REG_7): Likewise.
	(XACQUIRE_PREFIX): Likewise.
	(XRELEASE_PREFIX): Likewise.
	(dis386): Use Ebh1/Evh1 on add, adc, and, btc, btr, bts,
	cmpxchg, dec, inc, neg, not, or, sbb, sub, xor and xadd. Use
	Ebh2/Evh2 on xchg.  Use Ebh3/Evh3 on mov.
	(reg_table): Use Ebh1/Evh1 on add, adc, and, dec, inc, neg,
	not, or, sbb, sub and xor.  Use Ebh3/Evh3 on mov.  Use
	MOD_C6_REG_7 and MOD_C7_REG_7.
	(mod_table): Add MOD_C6_REG_7 and MOD_C7_REG_7.
	(rm_table): Add RM_C6_REG_7 and RM_C7_REG_7.  Add xend and
	xtest.
	(prefix_name): Handle XACQUIRE_PREFIX and XRELEASE_PREFIX.
	(CMPXCHG8B_Fixup): Handle HLE prefix on cmpxchg8b.

	* i386-gen.c (cpu_flag_init): Add CPU_HLE_FLAGS and
	CPU_RTM_FLAGS.
	(cpu_flags): Add CpuHLE and CpuRTM.
	(opcode_modifiers): Add HLEPrefixOk.

	* i386-opc.h (CpuHLE): New.
	(CpuRTM): Likewise.
	(HLEPrefixOk): Likewise.
	(i386_cpu_flags): Add cpuhle and cpurtm.
	(i386_opcode_modifier): Add hleprefixok.

	* i386-opc.tbl: Add HLEPrefixOk=3 to mov.  Add HLEPrefixOk to
	add, adc, and, btc, btr, bts, cmpxchg, dec, inc, neg, not, or,
	sbb, sub, xor and xadd.  Add HLEPrefixOk=2 to xchg with memory
	operand.  Add xacquire, xrelease, xabort, xbegin, xend and
	xtest.
	* i386-init.h: Regenerated.
	* i386-tbl.h: Likewise.
@
text
@d1 4
@


1.2001
log
@Add .d8 suffix support to x86 assembler

gas/

2012-01-20  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (_i386_insn): Replace disp32_encoding with
	disp_encoding.
	(md_assemble): Updated.
	(output_branch): Likewise.
	(parse_insn): Support .d8 suffix.
	(build_modrm_byte): Fake zero displacement for .d8 and .d32
	suffixes.

	* doc/c-i386.texi: Document .d8 suffix.

gas/testsuite/

2012-01-20  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/disp32.s: Add tests for .d8 suffix.
	* gas/i386/x86-64-disp32.s: Likewise.

	* gas/i386/disp32.d: Updated.
	* gas/i386/x86-64-disp32.d: Likewise.
@
text
@d1 23
@


1.2000
log
@* gas/testsuite/gas/m68k/pmove.s, gas/testsuite/gas/m68k/pmove.d: New test.
* gas/testsuite/gas/m68k/all.exp: Run it.

* opcodes/m68k-opc.c (m68k_opcodes): Fix entries for pmove with BADx/BACx
register and move them after pmove with PSR/PCSR register.
@
text
@d1 8
@


1.1999
log
@Add vmfunc

gas/

2012-01-13  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (cpu_arch): Add ".vmfunc".

	* doc/c-i386.texi: Document vmfunc.

gas/testsuite/

2012-01-13  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run vmfunc and x86-64-vmfunc.

	* gas/i386/vmfunc.d: New.
	* gas/i386/vmfunc.s: Likewise.
	* gas/i386/x86-64-vmfunc.d: Likewise.

opcodes/

2012-01-13  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (mod_table): Add vmfunc.

	* i386-gen.c (cpu_flag_init): Add CPU_VMFUNC_FLAGS.
	(cpu_flags): CpuVMFUNC.

	* i386-opc.h (CpuVMFUNC): New.
	(i386_cpu_flags): Add cpuvmfunc.

	* i386-opc.tbl: Add vmfunc.
	* i386-init.h: Regenerated.
	* i386-tbl.h: Likewise.
@
text
@d1 5
@


1.1998
log
@
reverse the order of relocs in mach-o gas output.

gas:

	* config/obj-macho.c (obj_mach_o_reorder_section_relocs): New.
	* config/obj-macho.h (SET_SECTION_RELOCS): Define.
	(obj_mach_o_reorder_section_relocs): Declare.

gas/testsuite:

	* gas/all/redef2.d: Skip for Darwin.
	* gas/all/redef3.d: Likewise.
	* gas/all/weakref1.d: Likewise.
	* gas/macros/irp.d: Likewise.
	* gas/macros/repeat.d: Likewise.
	* gas/macros/rept.d: Likewise.
	* gas/macros/test2.d: Likewise.
	* gas/macros/vararg.d: Likewise.
	* gas/mach-o/macro-irp.d: New.
	* gas/mach-o/macro-repeat.d: New.
	* gas/mach-o/macro-rept.d: New.
	* gas/mach-o/macro-test2.d: New.
	* gas/mach-o/macro-vararg.d: New.
	* gas/mach-o/redef2.d: New.
	* gas/mach-o/redef3.d: New.
@
text
@d1 8
@


1.1997
log
@
handle absolute indirect syms in mach-o

bfd:

	* mach-o.c (bfd_mach_o_build_dysymtab_command): Handle absolute
	indirect symbols.
gas:

	* config/obj-macho.c (obj_mach_o_set_indirect_symbols): Handle
	absolute indirect symbols.

gas/testsuite:

	* gas/mach-o/dysymtab-3.d: New.
	* gas/mach-o/symbols-7.s: New.
@
text
@d3 18
@


1.1996
log
@set vma on mach-o sections.

gas:

	* config/obj-macho.c (obj_mach_o_set_vma_data): New type.
	(obj_mach_o_set_section_vma): New.
	(obj_mach_o_post_relax_hook): New.
	* config/obj-macho.h (md_post_relax_hook): Define.
	(obj_mach_o_post_relax_hook): Declare.

gas/testsuite:

	* gas/mach-o/dysymtab-2.d: Update to include the set VMA.
	* gas/mach-o/symbols-1-64.d: Likewise.
	* gas/mach-o/symbols-1.d: Likewise.
	* gas/mach-o/symbols-6.d: Likewise.
	* gas/mach-o/zerofill-1.d: Likewise.
	* gas/mach-o/zerofill-2.d: Likewise.
@
text
@d3 5
@


1.1995
log
@
add indirect_symbol to mach-o port.

bfd:

	* mach-o.c (bfd_mach_o_count_indirect_symbols): New.
	(bfd_mach_o_build_dysymtab_command): Populate indirect symbol table.
	* mach-o.h (bfd_mach_o_asymbol): Move declaration to start of the
	file. (bfd_mach_o_section): Add indirect_syms field.

gas:

	* config/obj-macho.c (obj_mach_o_set_symbol_qualifier): Switch off
	lazy when the symbol is private_extern.
	(obj_mach_o_indirect_sym): New type.
	(obj_mach_o_indirect_symbol): New.
	(mach_o_pseudo_table): Use obj_mach_o_indirect_symbol.
	(obj_macho_frob_label): Adjust to avoid adding bsyms for locals.
	(obj_macho_frob_label): Likewise.  Adjust external and comm
	symbol tests.
	(obj_mach_o_set_indirect_symbols): New.
	(obj_mach_o_frob_file_after_relocs): New.
	*config/obj-macho.h (obj_frob_file_after_relocs): Define.
	(obj_mach_o_frob_file_after_relocs): Declare.

include/mach-o:

	* loader.h (BFD_MACH_O_INDIRECT_SYM_LOCAL): New.
	(BFD_MACH_O_INDIRECT_SYM_ABS): New

gas/testsuite:

	* gas/mach-o/dysymtab-2.d: New.
	* gas/mach-o/err-syms-4.s: New.
	* gas/mach-o/err-syms-5.s: New.
	* gas/mach-o/err-syms-6.s: New.
	* gas/mach-o/symbols-6-64.d: New.
	* gas/mach-o/symbols-6-64.s: New.
	* gas/mach-o/symbols-6.d: New.
	* gas/mach-o/symbols-6.s: New.
@
text
@d1 9
@


1.1994
log
@
add symbol qualifiers for mach-o to bfd/gas

bfd:

	* mach-o.c (bfd_mach_o_bfd_copy_private_symbol_data): Implement.
	(bfd_mach_o_write_symtab): Remove handling for indirect syms.
	(bfd_mach_o_primary_symbol_sort_key): Likewise.
	(bfd_mach_o_cf_symbols): Likewise.
	(bfd_mach_o_sort_symbol_table): Remove.
	(bfd_mach_o_mangle_symbols): Adjust arguments, remove handling
	for indirect and dysymtab counts.  Do the symbol sorting here.
	(bfd_mach_o_build_dysymtab_command): Count the symbol types here.
	Make the indirect symbols a TODO.
	(bfd_mach_o_build_commands): Adjust call to bfd_mach_o_mangle_symbols.
	(bfd_mach_o_make_empty_symbol): Specifically flag unset symbols with
	a non-zero value.
	(bfd_mach_o_read_symtab_symbol): Record the symbol index.
	(bfd_mach_o_read_symtab_symbol): Adjust recording of global status.
	* mach-o.h (mach_o_data_struct): Remove indirect and dysymtab entries.
	(IS_MACHO_INDIRECT): Remove.
	(SYM_MACHO_FIELDS_UNSET, SYM_MACHO_FIELDS_NOT_VALIDATED): New.

gas:

	* config/obj-macho.c (obj_mach_o_weak): Remove.
	(obj_mach_o_common_parse): Set symbol qualifiers.
	(LAZY, REFE): New macros.
	(obj_mach_o_symbol_type): New enum.
	(obj_mach_o_set_symbol_qualifier): New.
	(obj_mach_o_sym_qual): New.
	(mach_o_pseudo_table): Add symbol qualifiers, set indirect_symbol to
	a dummy function.
	(obj_mach_o_type_for_symbol): New.
	(obj_macho_frob_label): New.
	(obj_macho_frob_symbol): New.
	* config/obj-macho.h (S_SET_ALIGN): Amend temorary var name.
	(obj_frob_label, obj_macho_frob_label): Declare.
	(obj_frob_symbol, obj_macho_frob_symbol): Declare.

gas/testsuite:

	* gas/mach-o/err-syms-1.s: New.
	* gas/mach-o/err-syms-2.s: New.
	* gas/mach-o/err-syms-3.s: New.
	* gas/mach-o/symbols-2.d: New.
	* gas/mach-o/symbols-2.s: New.
	* gas/mach-o/symbols-3.s: New.
	* gas/mach-o/symbols-4.s: New.
	* gas/mach-o/symbols-5.d: New.
	* gas/mach-o/symbols-5.s: New.
@
text
@d1 11
@


1.1993
log
@gas/
	* config/tc-mips.c (s_tls_rel_directive): Call mips_clear_insn_labels.

gas/testsuite/
	* gas/mips/tls-relw.s, gas/mips/tls-relw.d: New test.
	* gas/mips/mips.exp: Run it.
@
text
@d1 12
@


1.1992
log
@gas/
2011-01-08  Andrew Pinski  <andrew.pinski@@caviumnetworks.com>
	    Richard Sandiford  <rdsandiford@@googlemail.com>

	* config/tc-mips.c (mips_move_labels): Take the list of labels and
	textness as parameters.
	(mips_move_text_labels): New function.
	(append_insn): Use it instead of mips_move_labels.
	(mips_emit_delays, start_noreorder): Likewise.
	(mips_align): Take the labels rather than just one label.
	Move all labels to after the .align.
	(s_align): Change the last argument to mips_align.
	(s_cons): Likewise.
	(s_float_cons): Likewise.
	(s_gpword): Likewise.
	(s_gpdword): Likewise.

gas/testsuite/
	* gas/mips/align3.s, gas/mips/align3.d: New testcase.
	* gas/mips/mips.exp: Run it.
@
text
@d3 5
@


1.1991
log
@Rotate ChangeLogs
@
text
@d1 5
@


1.1990
log
@
gas/testsuite:

	* gas/mach-o/zerofill-2.d: New.
@
text
@d19 1
a19 1458
2011-12-29  Iain Sandoe  <idsandoe@@googlemail.com>

	* gas/mach-o/sections-1.d: Amend to recognize that bss is not emitted
	by default.
	* gas/mach-o/sections-2.d: New.

2011-12-19  Iain Sandoe  <idsandoe@@googlemail.com>

	* gas/mach-o/err-sections-1.s: New.
	* gas/mach-o/err-sections-2.s: New.
	* gas/mach-o/sections-3.d: New.
	* gas/mach-o/sections-3.s: New.

2011-12-15  Iain Sandoe  <iains@@gcc.gnu.org>

	* gas/mach-o/subsect-via-symbols-0.d: New.
	* gas/mach-o/subsect-via-symbols-1.d: New.
	* gas/mach-o/subsect-via-symbols.s: New.

2011-12-15  Nick Clifton  <nickc@@redhat.com>

	* gas/frv/immediates.s: New test file - checks assembly of
	constant values.
	* gas/frv/immediates.d: Expected disassembly.
	* gas/frv/allinsn.exp: Run the new test.

2011-12-14  Stuart Henderson  <shenders@@gcc.gnu.org>

	* gas/bfin/move.d: Update SRCx field expectations.
	* gas/bfin/move2.d: Likewise.
	* gas/bfin/parallel.d: Likewise.
	* gas/bfin/parallel2.d: Likewise.
	* gas/bfin/parallel3.d: Likewise.
	* gas/bfin/parallel4.d: Likewise.
	* gas/bfin/video.d: Likewise.
	* gas/bfin/video2.d: Likewise.

2011-12-14  Iain Sandoe  <iains@@gcc.gnu.org>

	* gas/mach-o/comm-1.d: New.
	* gas/mach-o/comm-1.s: New.
	* gas/mach-o/lcomm-1.s: New.
	* gas/mach-o/mach-o.exp: Update to use run_dump_tests[].
	* gas/mach-o/sections-1.d: New.
	* gas/mach-o/sections-1.s: New.
	* gas/mach-o/warn-1.s: Add .comm alignment range warning.

2011-12-14  Iain Sandoe  <iains@@gcc.gnu.org>

	* gas/mach-o: New.
	* gas/mach-o/mach-o.exp: New.
	* gas/mach-o/warn-1.s: New.
	* gas/mach-o/lcomm-1.s: New.
	* gas/mach-o/lcomm-1.d: New.

2011-12-08  Andrew Pinski  <apinski@@cavium.com>

	* gas/mips/mips32-mt.d: Add pause instruction encoding to the end.
	* gas/mips/micromips@@mips32r2.d: Likewise.
	* gas/mips/mips32r2.d: Likewise.
	* gas/mips/mips32-mt.s: Add pause instruction to the end.
	* gas/mips/mips32r2.s: Likewise.

2011-12-08  Andrew Pinski  <apinski@@cavium.com>
            Adam Nemet  <anemet@@caviumnetworks.com>

	* gas/mips/mips.exp: Add Octeon2 for an architecture.
	Run octeon2 test.
	* gas/mips/octeon2.d: New file.
	* gas/mips/octeon2.s: New file.

2011-12-07  Sameera Deshpande  <sameera.deshpande@@arm.com>

	* gas/arm/thumb2_ldstd_unpredictable.d: New testcase.
	* gas/arm/thumb2_ldstd_unpredictable.l: Likewise.
	* gas/arm/thumb2_ldstd_unpredictable.s: Likewise.
	* gas/testsuite/gas/arm/sp-pc-validations-bad-t.l: Update
	testcase.
	* gas/testsuite/gas/arm/sp-pc-validations-bad-t.s: Likewise.

2011-11-07  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	* gas/arm/neon-suffix-bad.l: Add testcase.
	* gas/arm/neon-suffix-bad.s: Likewise.

2011-12-05  Richard Earnshaw  <rearnsha@@arm.com>

	* gas/arm/attr-any-armv4t.d: New test.
	* gas/arm/attr-any-armv4t.s: New file.
	* gas/arm/attr-any-thumbv6.d: New test.
	* gas/arm/attr-any-thumbv6.s: New file.

2011-11-30  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	* gas/arm/cmdline-bad-arch.d: New test case.
	* gas/arm/cmdline-bad-cpu.d: Likewise.

2011-12-03  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/mips.exp (run_dump_test_arch): Add an opts parameter.
	(run_dump_test_arches): Allow additional options to be passed.
	(run_list_test_arch): Add opts to the name.
	(run_list_test_arches): Allow the options to be elided.
	(mips4-fp, mips5-fp): Run twice, one with -32 and once with -mabi=o64.
	(mips64r2-ill, octeon-ill): Remove empty options string.

2011-11-29  Andrew Pinski  <apinski@@cavium.com>

	* gas/mips/mips.exp: Add octeon+ for an architecture.
	Run octeon-saa-saad test.
	(run_dump_test_arch): For Octeon architectures, also try octeon@@.
	* gas/mips/octeon-pref.d: Remove -march=octeon from command line.
	* gas/mips/octeon.d: Likewise.
	* gas/mips/octeon-saa-saad.d: New file.
	* gas/mips/octeon-saa-saad.s: New file

2011-11-25  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	* gas/arm/mov-highregs-any.d: New testcase.
	* gas/arm/mov-highregs-any.s: Likewise.
	* gas/arm/mov-lowregs-any.d: Likewise.
	* gas/arm/mov-lowregs-any.s: Likewise.

2011-11-21  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/micromips@@24k-branch-delay-1.d: New test.
	* gas/mips/micromips@@24k-triple-stores-1.d: New test.
	* gas/mips/micromips@@24k-triple-stores-2.d: New test.
	* gas/mips/micromips@@24k-triple-stores-3.d: New test.
	* gas/mips/micromips@@24k-triple-stores-4.d: New test.
	* gas/mips/micromips@@24k-triple-stores-5.d: New test.
	* gas/mips/micromips@@24k-triple-stores-6.d: New test.
	* gas/mips/micromips@@24k-triple-stores-7.d: New test.
	* gas/mips/micromips@@24k-triple-stores-8.d: New test.
	* gas/mips/micromips@@24k-triple-stores-9.d: New test.
	* gas/mips/micromips@@24k-triple-stores-10.d: New test.
	* gas/mips/micromips@@24k-triple-stores-11.d: New test.
	* gas/mips/24k-triple-stores-1.s: Adjust for microMIPS
	disassembly.
	* gas/mips/24k-triple-stores-2.s: Likewise.
	* gas/mips/24k-triple-stores-3.s: Likewise.
	* gas/mips/24k-triple-stores-4.s: Likewise.
	* gas/mips/24k-triple-stores-5.s: Likewise.
	* gas/mips/24k-triple-stores-6.s: Likewise.
	* gas/mips/24k-triple-stores-7.s: Likewise.
	* gas/mips/24k-triple-stores-8.s: Likewise.
	* gas/mips/24k-triple-stores-9.s: Likewise.
	* gas/mips/24k-triple-stores-10.s: Likewise.
	* gas/mips/24k-triple-stores-11.s: Likewise.
	* gas/mips/mips.exp: Run the new tests.

2011-11-21  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/micromips@@loc-swap-2.d: Correct test case.

2011-11-16  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/mips-double-float-flag.l: Adjust according to
	unsupported opcode message capitalization fix.
	* gas/mips/mips-hard-float-flag.l: Likewise.
	* gas/mips/mips-macro-ill-nofp.l: Likewise.
	* gas/mips/mips-macro-ill-sfp.l: Likewise.
	* gas/mips/mips1-fp.l: Likewise.
	* gas/mips/mips16e-64.l: Likewise.
	* gas/mips/mips32-sf32.l: Likewise.
	* gas/mips/mips32r2-fp32.l: Likewise.
	* gas/mips/mips4-branch-likely.l: Likewise.
	* gas/mips/mips4-fp.l: Likewise.
	* gas/mips/octeon-ill.l: Likewise.

2011-11-14  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/relax-swap3.d: New test.
	* gas/mips/mips16@@relax-swap3.d: Likewise.
	* gas/mips/micromips@@relax-swap3.d: Likewise.
	* gas/mips/relax-swap3.s: New test source.
	* gas/mips/mips.exp: Run the new tests.

2011-11-02  Nick Clifton  <nickc@@redhat.com>

	* gas/arm/pic.d: Update expected output.

2011-10-25  Joern Rennecke  <joern.rennecke@@embecosm.com>

	* gas/epiphany: New directory.
	* gas/testsuite/gas/epiphany/addr-syntax.d: New file.
	* gas/testsuite/gas/epiphany/addr-syntax.s: New file.
	* gas/testsuite/gas/epiphany/allinsn.d: New file.
	* gas/testsuite/gas/epiphany/allinsn.exp: New file.
	* gas/testsuite/gas/epiphany/allinsn.s: New file.
	* gas/testsuite/gas/epiphany/badpostmod.s: New file.
	* gas/testsuite/gas/epiphany/badrelax.d: New file.
	* gas/testsuite/gas/epiphany/badrelax.s: New file.
	* gas/testsuite/gas/epiphany/branch_lit.d: New file.
	* gas/testsuite/gas/epiphany/branch_lit.s: New file.
	* gas/testsuite/gas/epiphany/regression.d: New file.
	* gas/testsuite/gas/epiphany/regression.s: New file.
	* gas/testsuite/gas/epiphany/sample.d: New file.
	* gas/testsuite/gas/epiphany/sample.s: New file.

2011-10-24  Julian Brown  <julian@@codesourcery.com>

	* gas/m68k/all.exp (movem-offset): Add test.
	* gas/m68k/movem-offset.s: New test.
	* gas/m68k/movem-offset.d: New.

2011-10-21  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* gas/s390/zarch-z10.d: Add CPUMF instructions.
	* gas/s390/zarch-z10.s: Likewise.

2011-10-18  Jie Zhang  <jie@@codesourcery.com>
	    Julian Brown  <julian@@codesourcery.com>

	* gas/arm/adrl.d: Adjust.
	* gas/arm/immed2.d: New test.
	* gas/arm/immed2.s: New test.

2011-10-13  James Greenhalgh  <james.greenhalgh@@arm.com>

	* gas/arm/ldr-bad.s: New testcase.
	* gas/arm/ldr-bad.l: Likewise.
	* gas/arm/ldr-bad.d: Likewise.
	* gas/arm/ldr.s: Likewise.
	* gas/arm/ldr.d: Likewise.
	* gas/arm/ldr-t-bad.s: Likewise.
	* gas/arm/ldr-t-bad.l: Likewise.
	* gas/arm/ldr-t-bad.d: Likewise.
	* gas/arm/ldr-t.s: Likewise.
	* gas/arm/ldr-t.d: Likewise.
	* gas/arm/sp-pc-usage-t.s: Correct.
	* gas/arm/sp-pc-usage-t.d: Update accordingly.

2011-09-28  Jan Beulich  <jbeulich@@suse.com>

	* gas/ppc/476.s: Fix lswi first operand.
	* gas/ppc/476.d: Adjust expected output.
	* gas/ppc/a2.s: Fix lswi first operand.
	* gas/ppc/a2.d: Adjust expected output.
	* gas/ppc/power6.s: Fix lfdpx first operand.
	* gas/ppc/power6.d: Adjust expected output.

2011-09-28  Kai Tietz  <ktietz@@redhat.com>

	* gas/pe/section-exclude.d: Correct testcase.

2011-09-27  Kai Tietz  <ktietz@@redhat.com>

	* gas/pe/pe.exp: Add new testcase.
	* gas/pe/section-exclude.d: New file.
	* gas/pe/section-exclude.s: New file.

2011-09-27  David S. Miller  <davem@@davemloft.net>

	* gas/sparc/hpcvis3.s: Update to use float reg for random insn.
	* gas/sparc/hpcvis3.d: Likewise.

2011-09-26  David S. Miller  <davem@@davemloft.net>

	* gas/sparc/ima.d: New test.
	* gas/sparc/ima.s: New test source.
	* gas/sparc/sparc.exp: Run new test.

2011-09-21  David S. Miller  <davem@@davemloft.net>

	* gas/sparc/hpcvis3.s: Update for fixed fchksum16 mnemonic.
	* gas/sparc/hpcvis3.d: Likewise.

	* gas/sparc/imm-plus-rreg.d: Fix address regex for 64-bit.
	* gas/sparc/save-args.d: Likewise.
	* gas/sparc/ticc-imm-reg.d: Likewise, add -32 to options.
	* gas/sparc/v8-movwr-imm.d: Likewise.

	* gas/sparc/hpcvis3.d: Pass '-Av9v'.

2011-09-08  Mark Fortescue <mark@@mtfhpc.demon.co.uk>

	* gas/sparc/imm-plus-rreg.[sd]: New test.
	* gas/sparc/sparc.exp: Run new test.

	* gas/sparc/ticc-imm-reg.[sd]: New test.
	* gas/sparc/v8-movwr-imm.[sd]: New test.
	* gas/sparc/sparc.exp: Run new tests.

	* gas/sparc/save-args.[sd]: New test.
	* gas/sparc/sparc.exp: Run new test.

2011-09-08  David S. Miller  <davem@@davemloft.net>

	* gas/sparc/hpcvis3.s: Correct pdistn test.
	* gas/sparc/hpcvis3.d: Likewise.

2011-09-08  Richard Sandiford  <rdsandiford@@googlemail.com>

	PR gas/13167
	* gas/ia64/pr13167.d, gas/ia64/pr13167.s: New test.
	* gas/ia64/ia64.exp: Run it.

2011-09-07  Andreas Schwab  <schwab@@linux-m68k.org>

	PR gas/13145
	* gas/m68k/all.exp: Run "mode5" test also with -mcpu=5200.
	* gas/m68k/mode5.s: Add moveml testcases.
	* gas/m68k/mode5.d: Update.

2011-09-05  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/loc-swap-2.s, gas/mips/loc-swap-2.d,
	gas/mips/micromips@@loc-swap-2.d,
	gas/mips/mips16@@loc-swap-2.d: New test.
	* gas/mips/mips.exp: Run it.

2011-08-19  Sergey A. Guriev  <sergeya.a.guriev@@intel.com>

	* gas/i386/avx-gather-intel.d: Added missing vpgather tests.
	* gas/i386/avx-gather.d: Likewise.
	* gas/i386/x86-64-avx-gather-intel.d: Likewise.
	* gas/i386/x86-64-avx-gather.d: Likewise.

	* gas/i386/avx-intel.d: Added missing vpinsrd and removed
	duplicated vpinsrb instructions.
	* gas/i386/avx.d: Likewise.
	* gas/i386/avx.s: Likewise.
	* gas/i386/ilp32/x86-64-avx-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-avx.d: Likewise.
	* gas/i386/x86-64-avx-intel.d: Likewise.
	* gas/i386/x86-64-avx.d: Likewise.
	* gas/i386/x86-64-avx.s: Likewise.

2011-08-10  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/micromips@@mips5.d: Rename to...
	* gas/mips/micromips@@mips5-fp.d: ... this.
	* gas/mips/mips5.d: Rename to...
	* gas/mips/mips5-fp.d: ... this.
	* gas/mips/mips5.l: Rename to...
	* gas/mips/mips5-fp.l: ... this.
	* gas/mips/mips5.s: Rename to...
	* gas/mips/mips5-fp.s: ... this.
	* gas/mips/mips.exp: Update accordingly.

2011-08-10  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/mips.exp: Define new "fpisa3", "fpisa4" and "fpisa5"
	architecture properties adding them to "mips3", "mips4", "mips5"
	and "mips32r2" architectures.  Use the new properties for the
	"24k-triple-stores-1", "24k-triple-stores-3", "mips4-fp",
	"mips5" and "alnv_ps-swap" tests.

2011-08-09  Maciej W. Rozycki  <macro@@codesourcery.com>
            Chao-ying Fu  <fu@@mips.com>

	* gas/mips/micromips@@mcu.d: New test.
	* gas/mips/mcu.d: Likewise.
	* gas/mips/mcu.s: New test source.
	* gas/mips/mips.exp: Run the new tests.

2011-08-09  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/micromips.d: Update according to changes to enable
	microMIPS branch swapping.
	* gas/mips/micromips-trap.d: Likewise.
	* gas/mips/micromips@@jal-svr4pic.d: Likewise.
	* gas/mips/micromips@@loc-swap.d: Likewise.
	* gas/mips/micromips@@loc-swap-dis.d: Likewise.

2011-08-05  David S. Miller  <davem@@davemloft.net>

	* gas/sparc/hpcvis3.d: New test.
	* gas/sparc/hpcvis3.s: New test source.
	* gas/sparc/sparc.exp: Run new test.

2011-08-05  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/x86-64-branch.d: Pass -dw to objdump and support
	win64.

2011-08-04  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/elf/bad-group.d: New.
	* gas/elf/bad-group.err: Likewise.
	* gas/elf/bad-group.s: Likewise.

	* gas/elf/elf.exp: Run bad-group.

2011-08-03  James Greenhalgh  <james.greenhalgh@@arm.com>

	* gas/arm/strex-bad-t.d: New testcase.
	* gas/arm/strex-bad-t.s: Likewise.
	* gas/arm/strex-bad-t.l: Likewise.
	* gas/arm/strex-t.s: Likewise.
	* gas/arm/strex-t.d: Likewise.

2011-08-01  H.J. Lu  <hongjiu.lu@@intel.com>

	PR ld/13048
	* gas/i386/ilp32/ilp32.exp: Don't run inval.

	* gas/i386/ilp32/inval.l: Removed.
	* gas/i386/ilp32/inval.s: Likewise.

	* gas/i386/ilp32/quad.d: Expect R_X86_64_64 instead of
	R_X86_64_32.

	* gas/i386/ilp32/x86-64-pcrel.s: Add tests for movabs.
	* gas/i386/ilp32/x86-64-pcrel.d: Updated.

2011-08-01  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/13046
	* gas/i386/x86-64-branch.s: Add tests for direct branch.
	* gas/i386/x86-64-branch.d: Updated.
	* gas/i386/ilp32/x86-64-branch.d: Likewise.

2011-07-29  Nick Clifton  <nickc@@redhat.com>

	* gas/elf/warn-2.s: Add other types of NOP insn.

2011-07-27  Nathan Sidwell  <nathan@@codesourcery.com>

	* gas/elf/warn-2.s: New.
	* gas/elf/elf.exp: Run the new test.

2011-07-26  Kazuhiro Inaoka  <kazuhiro.inaoka.ud@@renesas.com>

	* gas/rx/r-bcc.d: Update expected disassembly of synthetic beq.a
	instruction.

2011-07-24  Maciej W. Rozycki  <macro@@codesourcery.com>
            Chao-ying Fu  <fu@@mips.com>
	    Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/micromips.d: New test.
	* gas/mips/micromips-branch-delay.d: Likewise.
	* gas/mips/micromips-branch-relax.d: Likewise.
	* gas/mips/micromips-branch-relax-pic.d: Likewise.
	* gas/mips/micromips-size-1.d: Likewise.
	* gas/mips/micromips-trap.d: Likewise.
	* gas/mips/micromips.l: New stderr output.
	* gas/mips/micromips-branch-delay.l: Likewise.
	* gas/mips/micromips-branch-relax.l: Likewise.
	* gas/mips/micromips-branch-relax-pic.l: Likewise.
	* gas/mips/micromips-size-0.l: New list test.
	* gas/mips/micromips-size-1.l: New stderr output.
	* gas/mips/micromips.s: New test source.
	* gas/mips/micromips-branch-delay.s: Likewise.
	* gas/mips/micromips-branch-relax.s: Likewise.
	* gas/mips/micromips-size-0.s: Likewise.
	* gas/mips/micromips-size-1.s: Likewise.
	* gas/mips/mips.exp: Run the new tests.

	* gas/mips/dli.s: Use .p2align.
	* gas/mips/elf_ase_micromips.d: New test.
	* gas/mips/elf_ase_micromips-2.d: Likewise.
	* gas/mips/micromips@@abs.d: Likewise.
	* gas/mips/micromips@@add.d: Likewise.
	* gas/mips/micromips@@alnv_ps-swap.d: Likewise.
	* gas/mips/micromips@@and.d: Likewise.
	* gas/mips/micromips@@beq.d: Likewise.
	* gas/mips/micromips@@bge.d: Likewise.
	* gas/mips/micromips@@bgeu.d: Likewise.
	* gas/mips/micromips@@blt.d: Likewise.
	* gas/mips/micromips@@bltu.d: Likewise.
	* gas/mips/micromips@@branch-likely.d: Likewise.
	* gas/mips/micromips@@branch-misc-1.d: Likewise.
	* gas/mips/micromips@@branch-misc-2-64.d: Likewise.
	* gas/mips/micromips@@branch-misc-2.d: Likewise.
	* gas/mips/micromips@@branch-misc-2pic-64.d: Likewise.
	* gas/mips/micromips@@branch-misc-2pic.d: Likewise.
	* gas/mips/micromips@@branch-misc-4-64.d: Likewise.
	* gas/mips/micromips@@branch-misc-4.d: Likewise.
	* gas/mips/micromips@@branch-self.d: Likewise.
	* gas/mips/micromips@@cache.d: Likewise.
	* gas/mips/micromips@@daddi.d: Likewise.
	* gas/mips/micromips@@dli.d: Likewise.
	* gas/mips/micromips@@elf-jal.d: Likewise.
	* gas/mips/micromips@@elf-rel2.d: Likewise.
	* gas/mips/micromips@@elfel-rel2.d: Likewise.
	* gas/mips/micromips@@elf-rel4.d: Likewise.
	* gas/mips/micromips@@jal-svr4pic.d: Likewise.
	* gas/mips/micromips@@jal-svr4pic-noreorder.d: Likewise.
	* gas/mips/micromips@@lb-svr4pic-ilocks.d: Likewise.
	* gas/mips/micromips@@li.d: Likewise.
	* gas/mips/micromips@@loc-swap-dis.d: Likewise.
	* gas/mips/micromips@@loc-swap.d: Likewise.
	* gas/mips/micromips@@mips1-fp.d: Likewise.
	* gas/mips/micromips@@mips32-cp2.d: Likewise.
	* gas/mips/micromips@@mips32-imm.d: Likewise.
	* gas/mips/micromips@@mips32-sf32.d: Likewise.
	* gas/mips/micromips@@mips32.d: Likewise.
	* gas/mips/micromips@@mips32r2-cp2.d: Likewise.
	* gas/mips/micromips@@mips32r2-fp32.d: Likewise.
	* gas/mips/micromips@@mips32r2-sync.d: Likewise.
	* gas/mips/micromips@@mips32r2.d: Likewise.
	* gas/mips/micromips@@mips4-branch-likely.d: Likewise.
	* gas/mips/micromips@@mips4-fp.d: Likewise.
	* gas/mips/micromips@@mips4.d: Likewise.
	* gas/mips/micromips@@mips5.d: Likewise.
	* gas/mips/micromips@@mips64-cp2.d: Likewise.
	* gas/mips/micromips@@mips64.d: Likewise.
	* gas/mips/micromips@@mips64r2.d: Likewise.
	* gas/mips/micromips@@pref.d: Likewise.
	* gas/mips/micromips@@relax-at.d: Likewise.
	* gas/mips/micromips@@relax.d: Likewise.
	* gas/mips/micromips@@rol-hw.d: Likewise.
	* gas/mips/micromips@@uld2-eb.d: Likewise.
	* gas/mips/micromips@@uld2-el.d: Likewise.
	* gas/mips/micromips@@ulh2-eb.d: Likewise.
	* gas/mips/micromips@@ulh2-el.d: Likewise.
	* gas/mips/micromips@@ulw2-eb-ilocks.d: Likewise.
	* gas/mips/micromips@@ulw2-el-ilocks.d: Likewise.
	* gas/mips/cache.d: Likewise.
	* gas/mips/daddi.d: Likewise.
	* gas/mips/mips32-imm.d: Likewise.
	* gas/mips/pref.d: Likewise.
	* gas/mips/elf-rel27.d: Handle microMIPS ASE.
	* gas/mips/l_d.d: Likewise.
	* gas/mips/l_d-n32.d: Likewise.
	* gas/mips/l_d-n64.d: Likewise.
	* gas/mips/ld.d: Likewise.
	* gas/mips/ld-n32.d: Likewise.
	* gas/mips/ld-n64.d: Likewise.
	* gas/mips/s_d.d: Likewise.
	* gas/mips/s_d-n32.d: Likewise.
	* gas/mips/s_d-n64.d: Likewise.
	* gas/mips/sd.d: Likewise.
	* gas/mips/sd-n32.d: Likewise.
	* gas/mips/sd-n64.d: Likewise.
	* gas/mips/mips32.d: Update immediates.
	* gas/mips/micromips@@mips32-cp2.s: New test source.
	* gas/mips/micromips@@mips32-imm.s: Likewise.
	* gas/mips/micromips@@mips32r2-cp2.s: Likewise.
	* gas/mips/micromips@@mips64-cp2.s: Likewise.
	* gas/mips/cache.s: Likewise.
	* gas/mips/daddi.s: Likewise.
	* gas/mips/mips32-imm.s: Likewise.
	* gas/mips/elf-rel4.s: Handle microMIPS ASE.
	* gas/mips/lb-pic.s: Likewise.
	* gas/mips/ld.s: Likewise.
	* gas/mips/mips32.s: Likewise.
	* gas/mips/mips.exp: Add the micromips arch.  Exclude mips16e
	from micromips.  Run mips32-imm.

	* gas/mips/jal-mask-11.d: New test.
	* gas/mips/jal-mask-12.d: Likewise.
	* gas/mips/micromips@@jal-mask-11.d: Likewise.
	* gas/mips/jal-mask-1.s: Source for the new tests.
	* gas/mips/jal-mask-21.d: New test.
	* gas/mips/jal-mask-22.d: Likewise.
	* gas/mips/micromips@@jal-mask-12.d: Likewise.
	* gas/mips/jal-mask-2.s: Source for the new tests.
	* gas/mips/mips.exp: Run the new tests.

	* gas/mips/mips16-e.d: Add --special-syms to `objdump'.
	* gas/mips/tmips16-e.d: Likewise.
	* gas/mips/mipsel16-e.d: Likewise.
	* gas/mips/tmipsel16-e.d: Likewise.

	* gas/mips/and.s: Adjust padding.
	* gas/mips/beq.s: Likewise.
	* gas/mips/bge.s: Likewise.
	* gas/mips/bgeu.s: Likewise.
	* gas/mips/blt.s: Likewise.
	* gas/mips/bltu.s: Likewise.
	* gas/mips/branch-misc-2.s: Likewise.
	* gas/mips/jal.s: Likewise.
	* gas/mips/li.s: Likewise.
	* gas/mips/mips4.s: Likewise.
	* gas/mips/mips4-fp.s: Likewise.
	* gas/mips/relax.s: Likewise.
	* gas/mips/and.d: Update accordingly.
	* gas/mips/elf-jal.d: Likewise.
	* gas/mips/jal.d: Likewise.
	* gas/mips/li.d: Likewise.
	* gas/mips/relax-at.d: Likewise.
	* gas/mips/relax.d: Likewise.

2011-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/k1om.d: New.
	* gas/i386/k1om-inval.l: Likewise.
	* gas/i386/k1om-inval.s: Likewise.

	* gas/i386/i386.exp: Run k1om-inval and k1om.

2011-07-04  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/loc-swap.d: New test case for DWARF-2 location with
	branch swapping.
	* gas/mips/loc-swap-dis.d: Likewise.
	* gas/mips/mips16@@loc-swap.d: Likewise, MIPS16 version.
	* gas/mips/mips16@@loc-swap-dis.d: Likewise.
	* gas/mips/loc-swap.s: Source for the new tests.
	* gas/mips/mips.exp: Run the new tests.

2011-06-30  H.J. Lu  <hongjiu.lu@@intel.com>

	AVX Programming Reference (June, 2011)
	* gas/i386/bmi2.s: Correct rorx tests.
	* gas/i386/x86-64-bmi2.s: Likewise.

	* gas/i386/bmi2-intel.d: Updated.
	* gas/i386/bmi2.d: Likewise.
	* gas/i386/x86-64-bmi2-intel.d: Likewise.
	* gas/i386/x86-64-bmi2.d: Likewise.

2011-06-30  Paul Carroll  <pcarroll@@codesourcery.com>

	* gas/arm/addthumb2err.s: New test file.
	* gas/arm/addthumb2err.d: Test control file.
	* gas/arm/addthumb2err.l: Expected error messages.

2011-06-30  Nick Clifton  <nickc@@redhat.com>

	PR gas/12931
	* gas/arm/blx-bad.d: Add exrta nop at end of disassembly.
	* gas/arm/inst-po-be.d: Add exrta nop at end of disassembly.
	* gas/arm/inst-po.d: Add exrta nop at end of disassembly.

2011-06-30  Nick Clifton  <nickc@@redhat.com>

	PR gas/12848
	* gas/arm/thumb-b-bad.s: New test.
	* gas/arm/thumb-b-bad.d: Test control file.
	* gas/arm/thumb-b-bad.l: Expected error output.

2011-06-29  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/mips16-e.d, gas/mips/mips16-f.d,
	gas/mips/mipsel16-e.d, gas/mips/mipsel16-f.d,
	gas/mips/tmips16-e.d, gas/mips/tmips16-f.d,
	gas/mips/tmipsel16-e.d, gas/mips/tmipsel16-f.d: Fix GPR mask.
	* gas/mips/reginfo-1.s, gas/mips/reginfo-1a.d,
	gas/mips/reginfo-1b.d: New tests.
	* gas/mips/mips.exp: Run them.

2011-06-29  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/24k-triple-stores-9.d: Add -z to dump options and
	explicitly match one nop.
	* gas/mips/24k-triple-stores-10.d: Likewise.
	* gas/mips/24k-triple-stores-11.d: Likewise.
	* gas/mips/lifloat.d: Likewise.
	* gas/mips/trunc.d: Likewise 1 extra nop.
	* gas/mips/vr4111.d: Likewise 2 nops.

2011-06-26  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/24k-branch-delay-1.d: Do not allow stores to be put
	into delay slots.
	* gas/mips/24k-triple-stores-1.d: Put the first nop after the
	second store, rather than the first.
	* gas/mips/24k-triple-stores-2.d: Likewise.
	* gas/mips/24k-triple-stores-4.d: Likewise.
	* gas/mips/24k-triple-stores-8.d: Likewise.
	* gas/mips/24k-triple-stores-3.d: Remove first nop.
	* gas/mips/24k-triple-stores-5.d: Likewise.
	* gas/mips/24k-triple-stores-6.d: Likewise.
	* gas/mips/24k-triple-stores-7.d: Likewise.
	* gas/mips/24k-triple-stores-9.d: Add a nop after the second store.
	Expect a nop at the end.
	* gas/mips/24k-triple-stores-10.d: Put the first nop after the
	second store, rather than the first.  Expect a nop at the end.

2011-06-25  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/vr4130.s: Add some more ".set noreorder" tests.
	* gas/mips/vr4130.d: Update accordingly.

2011-06-23  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/pr12915.s, gas/mips/pr12915.d: New test.
	* gas/mips/mips.exp: Run it.

2011-06-21  Sameera Deshpande  <sameera.deshpande@@arm.com>

	* gas/arm/vcvt-bad.d: New test.
	* gas/arm/vcvt-bad.l: Likewise.
	* gas/arm/vcvt-bad.s: Likewise.
	* gas/arm/vcvt.d: Likewise.
	* gas/arm/vcvt.s: Likewise.

2011-06-14  Tristan Gingold  <gingold@@adacore.com>

	* gas/ppc/test1xcoff32.d: Adjust for csect anchor.

2011-06-13  Walter Lee  <walt@@tilera.com>

	* gas/tilepro/t_constants.s: New file.
	* gas/tilepro/t_constants.d: Likewise.
	* gas/tilepro/t_insns.s: Likewise.
	* gas/tilepro/tilepro.exp: Likewise.
	* gas/tilepro/t_insns.d: Likewise.
	* gas/tilegx/tilegx.exp: Likewise.
	* gas/tilegx/t_insns.d: Likewise.
	* gas/tilegx/t_insns.s: Likewise.

2011-06-13  Nick Clifton  <nickc@@redhat.com>

	PR gas/12854
	* gas/arm/shift-bad.s: New test.
	* gas/arm/shift-bad.l: Expcted error output.
	* gas/arm/shift-bad.s: New control file.

2011-06-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/arch-10-lzcnt.d: Updated.
	* gas/i386/x86-64-arch-2-lzcnt.d: Likewise.

2011-06-10  H.J. Lu  <hongjiu.lu@@intel.com>

	AVX Programming Reference (June, 2011)
	* gas/i386/arch-10-1.l: Updated.
	* gas/i386/arch-10-2.l: Likewise.
	* gas/i386/arch-10-3.l: Likewise.
	* gas/i386/arch-10-4.l: Likewise.

	* gas/i386/arch-10.s: Add LZCNT to comments.
	* gas/i386/x86-64-arch-2.s: Likewise.

	* gas/i386/arch-10-lzcnt.d: New.
	* gas/i386/avx-gather-intel.d: Likewise.
	* gas/i386/avx-gather.d: Likewise.
	* gas/i386/avx-gather.s: Likewise.
	* gas/i386/avx2-intel.d: Likewise.
	* gas/i386/avx2.d: Likewise.
	* gas/i386/avx2.s: Likewise
	* gas/i386/avx256int-intel.d: Likewise.
	* gas/i386/avx256int.d: Likewise.
	* gas/i386/avx256int.s: Likewise.
	* gas/i386/bmi2-intel.d: Likewise.
	* gas/i386/bmi2.d: Likewise.
	* gas/i386/bmi2.s: Likewise.
	* gas/i386/inval-invpcid.l:Likewise.
	* gas/i386/inval-invpcid.s: Likewise.
	* gas/i386/invpcid-intel.d: Likewise.
	* gas/i386/invpcid.d: Likewise.
	* gas/i386/invpcid.s: Likewise.
	* gas/i386/x86-64-arch-2-lzcnt.d: Likewise.
	* gas/i386/x86-64-avx-gather-intel.d: Likewise.
	* gas/i386/x86-64-avx-gather.d: Likewise.
	* gas/i386/x86-64-avx-gather.s: Likewise.
	* gas/i386/x86-64-avx2-intel.d: Likewise.
	* gas/i386/x86-64-avx2.d: Likewise.
	* gas/i386/x86-64-avx2.s: Likewise.
	* gas/i386/x86-64-avx256int-intel.d: Likewise.
	* gas/i386/x86-64-avx256int.d: Likewise.
	* gas/i386/x86-64-avx256int.s: Likewise.
	* gas/i386/x86-64-bmi2-intel.d: Likewise.
	* gas/i386/x86-64-bmi2.d: Likewise.
	* gas/i386/x86-64-bmi2.s: Likewise.
	* gas/i386/x86-64-inval-invpcid.l: Likewise.
	* gas/i386/x86-64-inval-invpcid.s: Likewise.
	* gas/i386/x86-64-invpcid-intel.d: Likewise.
	* gas/i386/x86-64-invpcid.d: Likewise.
	* gas/i386/x86-64-invpcid.s: Likewise.

2011-06-09  James Greenhalgh  <james.greenhalgh@@arm.com>

	* gas/arm/ldrd-unpredicatble.d: New testcase.
	* gas/arm/ldrd-unpredicatble.s: Likewise.
	* gas/arm/ldrd-unpredicatble.l: Likewise.

2011-06-02  Jie Zhang <jie@@codesourcery.com>
	    Nathan Sidwell <nathan@@codesourcery.com>

	* gas/arm/inst.d: Adjust for signed zero offsets.
	* gas/arm/ldst-offset0.d: New test.
	* gas/arm/ldst-offset0.s: New test.
	* gas/arm/offset-1.d: New test.
	* gas/arm/offset-1.s: New test.

2011-05-31  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/arm-idiv-bad.d: New test.
	* gas/arm/arm-idiv-bad.s: New test.
	* gas/arm/arm-idiv-bad.l: New test.
	* gas/arm/arm-idiv.d: New test.
	* gas/arm/arm-idiv.s: New test.

2011-05-31  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/ldr-global.d: New test.
	* gas/arm/ldr-global.s: New test.

2011-05-31  Paul Brook  <paul@@codesourcery.com>

	* arm/t2-branch-global.d: New test.
	* arm/t2-branch-global.s: New test.

2011-05-24  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* gas/s390/esa-g5.d: Fix fp register pair operands.
	* gas/s390/esa-g5.s: Likewise.
	* gas/s390/zarch-z196.d: Likewise.
	* gas/s390/zarch-z196.s: Likewise.
	* gas/s390/zarch-z9-109.d: Likewise.
	* gas/s390/zarch-z9-109.s: Likewise.
	* gas/s390/zarch-z9-ec.d: Likewise.
	* gas/s390/zarch-z9-ec.s: Likewise.

2011-05-24  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* gas/s390/esa-g5.d: Fix register pair operands.
	* gas/s390/esa-g5.s: Likewise.
	* gas/s390/esa-z9-109.d: Likewise.
	* gas/s390/esa-z9-109.s: Likewise.
	* gas/s390/zarch-z196.d: Likewise.
	* gas/s390/zarch-z196.s: Likewise.
	* gas/s390/zarch-z9-109.d: Likewise.
	* gas/s390/zarch-z9-109.s: Likewise.
	* gas/s390/zarch-z900.d: Likewise.
	* gas/s390/zarch-z900.s: Likewise.
	* gas/s390/zarch-z990.d: Likewise.
	* gas/s390/zarch-z990.s: Likewise.

2011-05-20  Bernd Schmidt  <bernds@@codesourcery.com>

	* gas/tic6x/pcr-relocs.d: New test.
	* gas/tic6x/pcr-relocs.s: New test.
	* gas/tic6x/pcr-relocs-undef.d: New test.
	* gas/tic6x/pcr-relocs-undef.s: New test.
	* gas/tic6x/reloc-bad-2.s: Update for pcr_offset.
	* gas/tic6x/reloc-bad-2.l: Update for pcr_offset.

2011-05-18  Nick Clifton  <nickc@@redhat.com>

	* gas/arm/req.l: Updated expected warning message.

2011-05-18  Tristan Gingold  <gingold@@adacore.com>

	* gas/ppc/xcoff-dwsect-1-32.d: New test.
	* gas/ppc/xcoff-dwsect-1-64.d: Ditto.
	* gas/ppc/xcoff-dwsect-1.s: New file.
	* gas/ppc/aix.exp (do_align_test): Add tests.

2011-05-16  Hans-Peter Nilsson  <hp@@axis.com>

	* gas/cris/rd-brokw-pic-1.d, gas/cris/rd-brokw-pic-2.d,
	gas/cris/rd-fragtest-pic.d: Gate on targets cris-*-*elf* and
	cris-*-linux-gnu.
	* gas/cris/pic-err-2.s, gas/cris/pic-err-3.s: New tests.

2011-05-14  Alan Modra  <amodra@@gmail.com>

	* gas/all/gas.exp: Fix typo last change.

2011-05-13  Alan Modra  <amodra@@gmail.com>

	* gas/all/gas.exp: Remove some xfails on redef2 and redef3 tests.
	Update comments.
	* gas/hppa/unsorted/unsorted.exp: Run globalbug test on appropriate
	targets rather than xfailing.

2011-05-12  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	PR gas/12715
	* gas/arm/neon-const.s: Add testcase for 64-bit Neon constants.
	* gas/arm/neon-const.d: Likewise.

2011-05-11  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/24k-branch-delay-1.d: Allow 64-bit addresses.  Stub out
	function names.
	* gas/mips/24k-triple-stores-1.d: Likewise.
	* gas/mips/24k-triple-stores-2.d: Likewise.
	* gas/mips/24k-triple-stores-3.d: Likewise.
	* gas/mips/24k-triple-stores-4.d: Likewise.
	* gas/mips/24k-triple-stores-5.d: Likewise.
	* gas/mips/24k-triple-stores-7.d: Likewise.
	* gas/mips/24k-triple-stores-8.d: Likewise.
	* gas/mips/24k-triple-stores-9.d: Likewise.
	* gas/mips/24k-triple-stores-10.d: Likewise.
	* gas/mips/24k-triple-stores-11.d: Likewise.
	* gas/mips/24k-triple-stores-6.d: Likewise.  Add -EB.
	* gas/mips/mips.exp: Only run 24k-triple-stores-11.d on ELF targets.

2011-05-11  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/24k-branch-delay-1.d: Add -32 to assembler options.
	* gas/mips/24k-triple-stores-1.d: Likewise.
	* gas/mips/24k-triple-stores-2.d: Likewise.
	* gas/mips/24k-triple-stores-3.d: Likewise.
	* gas/mips/24k-triple-stores-4.d: Likewise.
	* gas/mips/24k-triple-stores-5.d: Likewise.
	* gas/mips/24k-triple-stores-6.d: Likewise.
	* gas/mips/24k-triple-stores-7.d: Likewise.
	* gas/mips/24k-triple-stores-8.d: Likewise.
	* gas/mips/24k-triple-stores-9.d: Likewise.
	* gas/mips/24k-triple-stores-10.d: Likewise.
	* gas/mips/24k-triple-stores-11.d: Likewise.

2011-05-11  Tejas Belagod  <tejas.belagod@@arm.com>

	* gas/arm/ld-sp-warn-cortex-m3.d: New test.
	* gas/arm/ld-sp-warn-cortex-m3.l: New test.
	* gas/arm/ld-sp-warn-cortex-m4.d: New test.
	* gas/arm/ld-sp-warn-cortex-m4.l: New test.
	* gas/arm/ld-sp-warn-v7.d: New test.
	* gas/arm/ld-sp-warn-v7.l: New test.
	* gas/arm/ld-sp-warn-v7a.d: New test.
	* gas/arm/ld-sp-warn-v7a.l: New test.
	* gas/arm/ld-sp-warn-v7e-m.l: New test.
	* gas/arm/ld-sp-warn-v7em.d: New test.
	* gas/arm/ld-sp-warn-v7m.d: New test.
	* gas/arm/ld-sp-warn-v7m.l: New test.
	* gas/arm/ld-sp-warn-v7r.d: New test.
	* gas/arm/ld-sp-warn-v7r.l: New test.
	* gas/arm/ld-sp-warn.s: New test.

2010-05-10  Quentin Neill  <quentin.neill@@amd.com>

	* gas/i386/i386.exp: Add new bdver2 test cases.
	* gas/i386/nops-1-bdver2.d: New.
	* gas/i386/x86-64-nops-1-bdver2.d: New.

2011-05-09  Paul Brook  <paul@@codesourcery.com>

	* gas/tic6x/unwind-1.d: New test.
	* gas/tic6x/unwind-1.s: New test.
	* gas/tic6x/unwind-2.d: New test.
	* gas/tic6x/unwind-2.s: New test.
	* gas/tic6x/unwind-3.d: New test.
	* gas/tic6x/unwind-3.s: New test.
	* gas/tic6x/unwind-bad-1.d: New test.
	* gas/tic6x/unwind-bad-1.s: New test.
	* gas/tic6x/unwind-bad-1.l: New test.
	* gas/tic6x/unwind-bad-2.d: New test.
	* gas/tic6x/unwind-bad-2.s: New test.
	* gas/tic6x/unwind-bad-2.l: New test.

2011-04-29  Hans-Peter Nilsson  <hp@@axis.com>

	* gas/elf/dwarf2-1.d, gas/elf/dwarf2-2.d: Adjust for change in
	output format.
	* gas/i386/dw2-compress-1.d: Ditto.

2011-04-20  Catherine Moore  <clm@@codesourcery.com>
            David Ung <davidu@@mips.com>

	* gas/mips/24k-branch-delay-1.d: New.
	* gas/mips/24k-branch-delay-1.s: New.
	* gas/mips/24k-triple-stores-1.d: New.
	* gas/mips/24k-triple-stores-1.s: New.
	* gas/mips/24k-triple-stores-2.d: New.
	* gas/mips/24k-triple-stores-2.s: New.
	* gas/mips/24k-triple-stores-3.d: New.
	* gas/mips/24k-triple-stores-3.s: New.
	* gas/mips/24k-triple-stores-4.s: New.
	* gas/mips/24k-triple-stores-4.d: New.
	* gas/mips/24k-triple-stores-5.d: New.
	* gas/mips/24k-triple-stores-5.s: New.
	* gas/mips/24k-triple-stores-6.d: New.
	* gas/mips/24k-triple-stores-6.s: New.
	* gas/mips/24k-triple-stores-7.d: New.
	* gas/mips/24k-triple-stores-7.s: New.
	* gas/mips/24k-triple-stores-8.d: New.
	* gas/mips/24k-triple-stores-8.s: New.
	* gas/mips/24k-triple-stores-9.d: New.
	* gas/mips/24k-triple-stores-9.s: New.
	* gas/mips/24k-triple-stores-10.d: New.
	* gas/mips/24k-triple-stores-10.s: New.
	* gas/mips/24k-triple-stores-11.d: New.
	* gas/mips/24k-triple-stores-11.s: New.
	* gas/mips/mips.exp: Invoke new tests.

2011-04-19  Nick Clifton  <nickc@@redhat.com>

	* gas/arm/mrs-msr-thumb-v7e-m.s: Restore name of basepri_max
	register.
	* gas/arm/mrs-msr-thumb-v7e-m.d: Likewise.
	* gas/arm/arch7.d: Likewise.
	* gas/arm/arch7.s: Likewise.

2011-04-18  Nick Clifton  <nickc@@redhat.com>

	* gas/arm/arch7.s: Fix typo basepri_max should be basepri_mask.
	* gas/arm/mrs-msr-thumb-v7e-m.s: Likewise.
	* gas/arm/arch7.d: Update expected disassembly.
	* gas/arm/attr-march-armv7.d: Remove Microcontroller tag.
	* gas/arm/blx-bad.d: Only run for ELF based targets.
	* gas/arm/mrs-msr-thumb-v6t2.d: Likewise.
	* gas/arm/vldm-arm.d: Likewise.
	* gas/arm/mrs-msr-thumb-v7-m.d: Likewise.
	Remove qualifiers from PSR and IAPSR regsiter names.
	* gas/arm/mrs-msr-thumb-v7e-m.d: Likewise.
	* gas/arm/thumb2_bcond.d: Update expected disassembly to allow for
	relaxing of branch insns.
	* gas/arm/thumb32.d: Fix whitespace problems in disassembly.

2011-04-18  Tristan Gingold  <gingold@@adacore.com>

	* gas/macros/app1.s: Export symbol
	* gas/macros/app2.s: Ditto
	* gas/macros/app3.s: Ditto
	* gas/macros/app4.s: Ditto
	* gas/macros/app4b.s: Ditto
	* gas/macros/app1.d: Adjust.
	* gas/macros/app2.d: Ditto.
	* gas/macros/app3.d: Ditto.
	* gas/macros/app4.d: Ditto.

2011-04-18  Tristan Gingold  <gingold@@adacore.com>

	* lib/gas-defs.exp (get_standard_section_names): Add names for
	alpha vms.
	* gas/all/gas.exp: Do not test diff1.s on alpha-vms.

2011-04-14  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* gas/s390/zarch-machine.s: New testcase.
	* gas/s390/zarch-machine.d: New testcase output.
	* gas/s390/s390.exp: Execute the new testcase.

2011-04-13  Nick Clifton  <nickc@@redhat.com>

	* gas/v850/v850e1.s: Add a insn using reg+offset addressing.
	* gas/v850/v850e1.d: Add expected disassembly.

2011-04-12  Nick Clifton  <nickc@@redhat.com>

	PR binutils/12534
	* gas/arm/thumb32.s: Add PC relative LDRD and STRD insns.
	* gas/arm/thumb32.l: Update expected output.
	* gas/arm/thumb32.d: Update expected disassembly.

	PR gas/12532
	* gas/arm/plt-1.d: Update expected disassembly.
	* gas/arm/thumb2_bcond.d: Likewise.
	* gas/arm/weakdef-1.d: Likewise.

2011-04-12  Alan Modra  <amodra@@gmail.com>

	* gas/all/gas.exp (do_930509a): Don't xfail h8300 and mn10200.

2011-04-11  Julian Brown  <julian@@codesourcery.com>

	* gas/arm/mrs-msr-thumb-v7-m.s: New.
	* gas/arm/mrs-msr-thumb-v7-m.d: New.
	* gas/arm/mrs-msr-thumb-v7-m-bad.d: New.
	* gas/arm/mrs-msr-thumb-v7-m-bad.l: New.
	* gas/arm/mrs-msr-thumb-v7-m-bad.s: New.
	* gas/arm/mrs-msr-thumb-v7e-m.d: New.
	* gas/arm/mrs-msr-thumb-v7e-m.s: New.
	* gas/arm/mrs-msr-arm-v7-a-bad.d: New.
	* gas/arm/mrs-msr-arm-v7-a-bad.l: New.
	* gas/arm/mrs-msr-arm-v7-a-bad.s: New.
	* gas/arm/mrs-msr-arm-v7-a.d: New.
	* gas/arm/mrs-msr-arm-v7-a.s: New.
	* gas/arm/mrs-msr-arm-v6.d: New.
	* gas/arm/mrs-msr-arm-v6.s: New.
	* gas/arm/mrs-msr-thumb-v6t2.d: New.
	* gas/arm/mrs-msr-thumb-v6t2.s: New.
	* gas/arm/arch7.d: Fix typo in disassembly for BASEPRI_MAX,
	bitmasks for IAPSR etc.
	* gas/arm/arch7.s: Specify bitmask for APSR writes.
	* gas/arm/archv6m.s: Likewise.
	* msr-imm-bad.l: Tweak expected disassembly in error message.
	* msr-reg-bad.l: Likewise.
	* msr-imm.d: Tweak expected disassembly.
	* msr-reg.d: Likewise.
	* msr-reg-thumb.d: Likewise.
	* msr-imm.s: Specify bitmask on APSR writes.
	* msr-reg.s: Add comment about deprecated usage.

2011-04-11  Dan McDonald  <dan@@wellkeeper.com>

	PR gas/12296
	* gas/arm/arch7.s: Add SVC insn.
	* gas/arm/arch7.d: Add disassembly of SVC insn.
	* gas/arm/attr-march-armv7.d: Add arch profile tag.

2011-04-06  Joseph Myers  <joseph@@codesourcery.com>

	* gas/all/gas.exp (*arm*-*-coff): Change to arm*-*-coff.
	(thumb*-*-coff, thumb*-*-pe*): Don;t handle.
	* gas/arm/arm.exp (*arm*-*-*): Change to arm*-*-*.
	(*xscale*-*-*): Don't handle.
	* gas/cfi/cfi.exp (xscale*-*): Don't handle.
	* gas/elf/elf.exp (*arm*-*-*): Change to arm*-*-*.
	(xscale*-*-*): Don't handle.

2011-03-31  Bernd Schmidt  <bernds@@codesourcery.com>

	* gas/tic6x/scomm-directive-1.s: New test.
	* gas/tic6x/scomm-directive-1.d: New test.
	* gas/tic6x/scomm-directive-2.s: New test.
	* gas/tic6x/scomm-directive-2.d: New test.
	* gas/tic6x/scomm-directive-3.s: New test.
	* gas/tic6x/scomm-directive-3.d: New test.
	* gas/tic6x/scomm-directive-4.s: New test.
	* gas/tic6x/scomm-directive-4.d: New test.
	* gas/tic6x/scomm-directive-5.s: New test.
	* gas/tic6x/scomm-directive-5.d: New test.
	* gas/tic6x/scomm-directive-6.s: New test.
	* gas/tic6x/scomm-directive-6.d: New test.
	* gas/tic6x/scomm-directive-7.s: New test.
	* gas/tic6x/scomm-directive-7.d: New test.
	* gas/tic6x/scomm-directive-8.s: New test.
	* gas/tic6x/scomm-directive-8.d: New test.

2011-03-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/ilp32/quad.d: Add tests for multiple operands.
	* gas/i386/ilp32/quad.s: Likewise.

2011-03-29  Mike Frysinger  <vapier@@gentoo.org>

	* gas/bfin/expected_errors.s: Add invalid BYTEUNPACK insn tests.
	* gas/bfin/expected_errors.l: Add new error messages.

2011-03-29  Mike Frysinger  <vapier@@gentoo.org>

	* gas/bfin/expected_errors.s: Add invalid BYTEOP16M insn tests.
	* gas/bfin/expected_errors.l: Add new error messages.

2011-03-29  Mike Frysinger  <vapier@@gentoo.org>

	* gas/bfin/expected_errors.s: Add invalid BYTEOP16P insn tests.
	* gas/bfin/expected_errors.l: Add new error messages.

2011-03-28  Mike Frysinger  <vapier@@gentoo.org>

	* gas/bfin/expected_errors.s: Add invalid 16bit acc add insn tests.
	* gas/bfin/expected_errors.l: Add new error messages.
	* testsuite/gas/bfin/video2.s: Drop invalid 16bit acc add insn.
	* testsuite/gas/bfin/video2.d: Updated disassembly output.

2011-03-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/ilp32/inval.s: Remove .quad.
	* gas/i386/ilp32/inval.l: Updated.

	* gas/i386/ilp32/quad.d: New.
	* gas/i386/ilp32/quad.s: Likewise.

2011-03-24  Mike Frysinger  <vapier@@gentoo.org>

	* gas/bfin/expected_errors.s: Add invalid vector add/sub insn tests.
	* gas/bfin/expected_errors.l: Add new error messages.

2011-03-24  Mike Frysinger  <vapier@@gentoo.org>

	* gas/bfin/16bit_illegals.d, gas/bfin/16bit_illegals.s: Delete.
	* gas/bfin/allinsn16.d, gas/bfin/allinsn16.s: New files.
	* gas/bfin/bfin.exp: Change 16bit_illegals to allinsn16.

2011-03-24  Mike Frysinger  <vapier@@gentoo.org>

	* gas/bfin/expected_errors.s: Add invalid dsp mult insn tests.
	* gas/bfin/expected_errors.l: Add new error messages.

2011-03-23  Mike Frysinger  <vapier@@gentoo.org>

	* gas/bfin/expected_errors.s: Add invalid SEARCH/BITMUX insns.
	* gas/bfin/expected_errors.l: Add expected errors.

2011-03-18  Alan Modra  <amodra@@gmail.com>

	* gas/elf/bad-size.err: Adjust expected error.
	* gas/i386/bad-size.warn: Likewise.
	* gas/i386/inval-equ-2.l: Likewise.
	* gas/symver/symver2.l: Likewise.

2011-03-17  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/12589
	* gas/i386/pr12589-1.d: New.
	* gas/i386/pr12589-1.s: Likewise.

	* gas/i386/i386.exp: Run pr12589-1.

2011-03-16  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/bad-size.d: New.
	* gas/i386/bad-size.s: Likewise.
	* gas/i386/bad-size.warn: Likewise.

	* gas/i386/i386.exp: Run bad-size for ELF targets.

2011-03-06  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/elf/bad-size.err: Revert the last change.

2011-03-05  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/elf/bad-size.err: Updated.

2011-02-28  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/alnv_ps-swap.d: New test for ALNV.PS instruction
	branch swapping.
	* gas/mips/alnv_ps-swap.s: Source for the new test.
	* gas/mips/mips.exp: Run the new test.

2011-02-28  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/relax-bposge.l: New test for DSP branch relaxation.
	* gas/mips/relax-bposge.s: Source for the new test.
	* gas/mips/mips.exp: Run the new test.

2011-02-28  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/relax-at.d: New test for branch relaxation with .set
	at.
	* gas/mips/relax.s: Update to support the new test.
	* gas/mips/relax.l: Update accordingly.
	* gas/mips/relax.d: Update for multi-arch invocation.
	* gas/mips/mips.exp: Run the new test.  Adjust to run "relax"
	across all applicable architectures.

2011-02-28  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/branch-misc-2.d: Adjust for relocation change.
	* gas/mips/branch-misc-2pic.d: Likewise.
	* gas/mips/branch-misc-4.d: New test for PC-relative relocation
	overflow.
	* gas/mips/branch-misc-4-64.d: Likewise.
	* gas/mips/branch-misc-4.s: Source for the new tests.
	* testsuite/gas/mips/mips.exp: Run the new tests.

2011-02-28  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/relax-swap1.l: Adjust for message capitalization
	correction.
	* gas/mips/relax-swap2.l: Likewise.
	* gas/mips/relax.l: Likewise.

2011-02-25  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/ilp32/ilp32.exp: Run reloc64.

	* gas/i386/ilp32/reloc64.s: Allow TLS relocations with 32bit
	register destinations.
	* gas/i386/ilp32/reloc64.d: Updated.

	* gas/i386/ilp32/reloc64.l: New.

2011-02-25  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/12519
	* gas/elf/bad-size.d: New.
	* gas/elf/bad-size.err: Likewise.
	* gas/elf/bad-size.s: Likewise.

	* gas/elf/elf.exp: Run bad-size.

2011-02-13  Mike Frysinger  <vapier@@gentoo.org>

	* gas/bfin/arithmetic.d, gas/bfin/parallel.d: Change A0 to A1.

2011-02-13  Mike Frysinger  <vapier@@gentoo.org>

	* gas/bfin/arithmetic.d, gas/bfin/parallel.d, gas/bfin/parallel3.d,
	gas/bfin/vector.d, gas/bfin/vector2.d: Add ".L" to dsp mult insns.

2011-02-13  Mike Frysinger  <vapier@@gentoo.org>

	* gas/bfin/video.d, gas/bfin/video.s, gas/bfin/video2.d,
	gas/bfin/video2.s: Remove BYTEOP2M insns.

2011-02-10  Kai Tietz  <kai.tietz@@onevision.com>

	* gas/cfi/cfi-x86_64.d: Adjust for x64 PE+.

2011-02-10  Vincent Rivire  <vincent.riviere@@freesbee.fr>

	* gas/m68k/cpu32.d: Set explicit architecture for objdump.
	* gas/m68k/mcf-coproc.d: Likewise.
	* gas/m68k/mcf-wdebug.d: Likewise.

2011-02-10  Alan Modra  <amodra@@gmail.com>

	* gas/elf/dwarf2-4.s: Don't use @@.

2011-02-08  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/6957
	* gas/i386/nops-1-i686.d: Updated.
	* gas/i386/nops-3-i686.d: Likewise.
	* gas/i386/nops-4-i686.d: Likewise.

2011-02-08  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run nops-4a-i686 and nops-6.

	* gas/i386/nops-4a-i686.d: New.
	* gas/i386/nops-6.d: Likewise.
	* gas/i386/nops-6.s: Likewise.

2011-02-07  Vincent Riviere  <vincent.riviere@@freesbee.fr>

	PR gas/3041
	* gas/m68k/p3041pcrel.s, * gas/m68k/p3041pcrel.d: New test.
	* gas/m68k/all.exp: Add "p3041pcrel" and enable p3041 tests for
	all m68k-aout targets.

2011-02-04  Bernd Schmidt  <bernds@@codesourcery.com>

	* gas/tic6x/dir-junk.l: Remove tests for .atomic and .noatomic.
	* gas/tic6x/dir-junk.s: Likewise.
	* gas/tic6x/insns-c674x-bad.d: Remove test.
	* gas/tic6x/insns-c674x-bad.l: Likewise.
	* gas/tic6x/insns-c674x-bad.s: Likewise.
	* gas/tic6x/insns-atomic.d: Remove "-matomic" switch.

2011-01-31  Nick Clifton  <nickc@@redhat.com>

	* gas/all/align.d: Skip for the RX.
	* gas/elf/group1a.d: Likewise.
	* gas/elf/groupautoa.d: Likewise.
	* gas/elf/elf.exp: Do not run section5 test for the RX port.
	* gas/elf/section4.d: Likewise.
	* gas/elf/section7.d: Likewise.
	* gas/macros/semi.s: Fill with a non-zero pattern.
	* gas/macros/semi.d: Expect non-zero fill value.
	* gas/rx/bcnd.d: Update expected disassembly.
	* gas/rx/bra.d: Likewise.
	* gas/rx/macros.inc: Add reg1 macro.
	* gas/rx/max.sm: Use reg1 macro to avoid generating illegal NOP
	instruction.
	* gas/rx/mov.sm: Likewise.
	* gas/rx/max.d: Update expected disassembly.
	* gas/rx/mov.d: Likewise.
	* gas/rx/rx-asm-good.s: Use Renesas section names.
	* gas/rx/rx-asm-good.d: Update expected disassembly.

2011-01-18  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/12409
	* gas/elf/dwarf2-4.d: New.
	* gas/elf/dwarf2-4.s: Likewise.

	* gas/elf/elf.exp: Run dwarf2-4.

2011-01-18  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/intel.d: Updated.
	* gas/i386/opcode-intel.d: Likewise.
	* gas/i386/opcode-suffix.d: Likewise.
	* gas/i386/opcode.d: Likewise.

2011-01-18  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/ilp32/x86-64-arch-2.d: Add tbm flag and TBM instruction
	pattern.

2011-01-17  Quentin Neill  <quentin.neill@@amd.com>

	* gas/i386/tbm.s: New.
	* gas/i386/tbm.d: New.
	* gas/i386/tbm-intel.d: New.
	* gas/i386/x86-64-tbm.s: New.
	* gas/i386/x86-64-tbm.d: New.
	* gas/i386/x86-64-tbm-intel.d: New.
	* gas/i386/arch-10.d: Add tbm flag and TBM instruction pattern.
	* gas/i386/arch-10.s: Add a TBM instruction.
	* gas/i386/arch-10-1.l: Add TBM instruction pattern.
	* gas/i386/arch-10-2.l: Likewise.
	* gas/i386/arch-10-3.l: Likewise.
	* gas/i386/arch-10-4.l: Likewise.
	* gas/i386/x86-64-arch-2.s: Likewise.
	* gas/i386/x86-64-arch-2.d: Likewise.

2011-01-16  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/ilp32/immed64.s: New.
	* gas/i386/ilp32/reloc64.s: Likewise.
	* gas/i386/ilp32/x86-64-pcrel.s: Likewise.

	* gas/i386/ilp32/inval.s: Add more tests.

	* gas/i386/ilp32/immed64.d: Updated.
	* gas/i386/ilp32/inval.l: Likewise.
	* gas/i386/ilp32/reloc64.d: Likewise.
	* gas/i386/ilp32/x86-64-pcrel.d: Likewise.

2011-01-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/ilp32/ilp32.exp: Run inval.

	* gas/i386/ilp32/inval.l: New.
	* gas/i386/ilp32/inval.s: Likewise.
	* gas/i386/ilp32/x86-64.s: Likewise.

	* gas/i386/ilp32/x86-64.d: Don't use ../x86_64.s.  Updated.

2011-01-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/ilp32/cfi/ilp32.exp: Replace --n32 with --x32.
	* gas/i386/ilp32/elf/ilp32.exp: Likewise.
	* gas/i386/ilp32/ilp32.exp: Likewise.
	* gas/i386/ilp32/lns/ilp32.exp: Likewise.

2011-01-11  Mingjie Xing  <mingjie.xing@@gmail.com>

	* mips/loongson-3a-2.s, mips/loongson-3a-2.d: Use the real offset
	value in assembly.

2011-01-10  Nathan Sidwell  <nathan@@codesourcery.com>
	    Glauber de Oliveira Costa  <glommer@@gmail.com>

	* gas/arm/tls.s: Add tlsdesc tests.
	* gas/arm/tls.d: Adjust.

2011-01-07  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/ilp32/x86-64-arch-2.d: Add bmi flag and BMI instruction
	pattern.

2011-01-07  Quentin Neill  <quentin.neill@@amd.com>

	* gas/i386/arch-10.s: Add a BMI instruction.
	* gas/i386/x86-64-arch-2.s: Likewise.
	* gas/i386/arch-10.d: Add bmi flag and BMI instruction pattern.
	* gas/i386/x86-64-arch-2.d: Likewise.
	* gas/i386/arch-10-1.l: Add BMI instruction pattern.
	* gas/i386/arch-10-2.l: Likewise.
	* gas/i386/arch-10-3.l: Likewise.
	* gas/i386/arch-10-4.l: Likewise.

2011-01-06  Paul Koning  <ni1d@@arrl.net>

	* gas/pdp11/pdp11.exp: Add run of absreloc.

2011-01-06  Paul Koning  <ni1d@@arrl.net>

	* gas/pdp11/absreloc.s: New.
	* gas/pdp11/absreloc.d: New.

2011-01-06  Paul Koning  <ni1d@@arrl.net>

	* gas/pdp11/opcode.d: Fix expected output for sec instruction.

2011-01-05  Nathan Sidwell  <nathan@@codesourcery.com>

	* gas/arm/blx-bad.s: New.
	* gas/arm/blx-bad.d: New.

2011-01-04  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/bmi-intel.d: New.
	* gas/i386/bmi.d: Likewise.
	* gas/i386/bmi.s: Likewise.
	* gas/i386/x86-64-bmi-intel.d: Likewise.
	* gas/i386/x86-64-bmi.d: Likewise.
	* gas/i386/x86-64-bmi.s: Likewise.

	* gas/i386/i386.exp: Run bmi, bmi-intel, x86-64-bmi and
	x86-64-bmi-intel.

2011-01-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/ilp32/lns/lns-common-1.d: Also expect .zdebug in
	section name.
	* gas/i386/ilp32/lns/lns-duplicate.d: Likewise.

For older changes see ChangeLog-2010
@


1.1989
log
@
add .zerofill to mach-o GAS.

gas:

	* config/obj-macho.c (obj_mach_o_segT_from_bfd_name): Tidy definition.
	(obj_mach_o_get_section_names): New (split from obj_mach_o_section).
	(obj_mach_o_make_or_get_sect): Likewise.
	(obj_mach_o_section): Split out the functionality shared with zerofill.
	(obj_mach_o_zerofill): New.
	(obj_mach_o_common_parse): Ensure whitespace is skipped.
	(mach_o_pseudo_table): Add .zerofill.

gas/testsuite:

	* gas/mach-o/zerofill-1.d: New.
	* gas/mach-o/zerofill-1.s: New.
@
text
@d1 5
a5 1
2012-01-03  Iain Sandoe  <idsandoe@@googlemail.com>
@


1.1988
log
@add dysymtab write support to bfd/mach-o.

bfd:

	* mach-o.c (bfd_mach_o_write_symtab): Fill in the string table index
	as the value of an indirect symbol.  Keep the string table index in
	non-indirect syms for reference.
	(bfd_mach_o_write_dysymtab): New.
	(bfd_mach_o_primary_symbol_sort_key): New.
	(bfd_mach_o_cf_symbols): New.
	(bfd_mach_o_sort_symbol_table): New.
	(bfd_mach_o_mangle_symbols): Return early if no symbols.  Sort symbols.
	If we are emitting a dysymtab, process indirect symbols and count the
	number of each other kind.
	(bfd_mach_o_mangle_sections): New.
	(bfd_mach_o_write_contents): Split out some pre-requisite code into
	the command builder. Write dysymtab if the command is present.
	(bfd_mach_o_count_sections_for_seg): New.
	(bfd_mach_o_build_seg_command): New.
	(bfd_mach_o_build_dysymtab_command): New.
	(bfd_mach_o_build_commands): Reorganize to support the fact that some
	commands are optional and should not be emitted if there are no
	sections or symbols.
	(bfd_mach_o_set_section_contents): Amend comment.
	* mach-o.h: Amend and add to comments.
	(mach_o_data_struct): Add fields for dysymtab symbols counts and a
	pointer to the indirects, when present.
	(bfd_mach_o_should_emit_dysymtab): New macro.
	(IS_MACHO_INDIRECT): Likewise.

gas/testsuite:

	* gas/mach-o/dysymtab-1-64.d: New.
	* gas/mach-o/dysymtab-1.d: New.
	* gas/mach-o/symbols-1-64.d: New.
	* gas/mach-o/symbols-1.d: New.
	* gas/mach-o/symbols-base-64.s: New.
	* gas/mach-o/symbols-base.s: New.
@
text
@d3 5
@


1.1987
log
@
adjust mach-o default GAS sections.

gas:

	* as.c (perform_an_assembly_pass): Do not create text, data and bss
	sections for MACH-O.  Do not switch to the text section.
	* config/obj-macho.c (obj_mach_o_segT_from_bfd_name): Forward decl.
	(mach_o_begin): Startup with only text section unless suppressed.
	* config/obj-macho.h (obj_begin): define to mach_o_begin ().

gas/testsuite:

	* gas/mach-o/sections-1.d: Amend to recognize that bss is not emitted
	by default.
	* gas/mach-o/sections-2.d: New.
@
text
@d1 9
@


1.1986
log
@bfd:

	* mach-o-i386.c (bfd_mach_o_section_type_valid_for_tgt): Define NULL.
	* mach-o-target.c (bfd_mach_o_backend_data): Initialize bfd_mach_o_section_type_valid_for_tgt
	* mach-o-x86-64.c (bfd_mach_o_section_type_valid_for_x86_64): New.
	(bfd_mach_o_section_type_valid_for_tgt): Set to bfd_mach_o_section_type_valid_for_x86_64.
	* mach-o.c (bfd_mach_o_section_type_name): Reorder and eliminate dup.
	(bfd_mach_o_section_attribute_name): Reorder.
	(bfd_mach_o_get_section_type_from_name): If the target has defined a validator for section
	types, then use it.
	* mach-o.h (bfd_mach_o_get_section_type_from_name): Alter declaration to include the bfd.

gas:

	* config/obj-macho.c (obj_mach_o_section): Account for target-dependent section
	types.  Improve error handling when wrong section types/attributes are specified.

gas/testsuite:

	* gas/mach-o/err-sections-1.s: New.
	* gas/mach-o/err-sections-2.s: New.
	* gas/mach-o/sections-3.d: New.
	* gas/mach-o/sections-3.s: New.
@
text
@d1 6
@


1.1985
log
@bfd/
2011-12-15  Iain Sandoe  <iains@@gcc.gnu.org>

	* mach-o-target.c (bfd_mach_o_bfd_set_private_flags): Use
	bfd_mach_o_bfd_set_private_flags.
	* mach-o.c (bfd_mach_o_bfd_set_private_flags): New.
	* mach-o.h (bfd_mach_o_bfd_set_private_flags): Declare.

gas/
2011-12-15  Iain Sandoe  <iains@@gcc.gnu.org>

	* config/obj-macho.c (obj_mach_o_subsections_by_symbols): New global.
	(obj_mach_o_file_properties): New enum.
	(obj_mach_o_subsections_via_symbols):  Generalize name to...
	... (obj_mach_o_fileprop) and use to set subsections_via_symbols.

gas/testsuite/
2011-12-15  Iain Sandoe  <iains@@gcc.gnu.org>

	* gas/mach-o/subsect-via-symbols-0.d: New.
	* gas/mach-o/subsect-via-symbols-1.d: New.
	* gas/mach-o/subsect-via-symbols.s: New.
@
text
@d1 7
@


1.1984
log
@	* frv.opc (parse_uhi16): Fix handling of %hi operator on 64-bit
	hosts.

	* cgen-asm.c (cgen_parse_signed_integer): Add code to handle the
	sign extension of negative values on a 64-bit host.
	* frv-asm.c: Regenerate.

	* gas/frv/immediates.s: New test file - checks assembly of
	constant values.
	* gas/frv/immediates.d: Expected disassmbly.
	* gas/frv/allinsn.exp: Run the new test.
@
text
@d1 6
@


1.1983
log
@gas/
2011-12-14  Stuart Henderson  <shenders@@gcc.gnu.org>

	* config/bfin-parse.y (asm_1): set SRCx fields to all 1s for
	dspalu32 instrs that don't use them.

gas/testsuite/
2011-12-14  Stuart Henderson  <shenders@@gcc.gnu.org>

	* gas/bfin/move.d: Update SRCx field expectations.
	* gas/bfin/move2.d: Likewise.
	* gas/bfin/parallel.d: Likewise.
	* gas/bfin/parallel2.d: Likewise.
	* gas/bfin/parallel3.d: Likewise.
	* gas/bfin/parallel4.d: Likewise.
	* gas/bfin/video.d: Likewise.
	* gas/bfin/video2.d: Likewise.
@
text
@d1 7
@


1.1982
log
@2011-12-14  Iain Sandoe  <iains@@gcc.gnu.org>

	* gas/mach-o/comm-1.d: New.
	* gas/mach-o/comm-1.s: New.
	* gas/mach-o/lcomm-1.s: New.
	* gas/mach-o/mach-o.exp: Update to use run_dump_tests[].
	* gas/mach-o/sections-1.d: New.
	* gas/mach-o/sections-1.s: New.
	* gas/mach-o/warn-1.s: Add .comm alignment range warning.
@
text
@d1 11
@


1.1981
log
@2011-12-14  Iain Sandoe  <iains@@gcc.gnu.org>

	* gas/mach-o: New.
	* gas/mach-o/mach-o.exp: New.
	* gas/mach-o/warn-1.s: New.
	* gas/mach-o/lcomm-1.s: New.
	* gas/mach-o/lcomm-1.d: New.
@
text
@d3 10
@


1.1980
log
@opcodes:
2011-12-08  Andrew Pinski  <apinski@@cavium.com>

	* mips-opc.c (mips_builtin_opcodes): Add "pause".
gas/testsuite:
2011-12-08  Andrew Pinski  <apinski@@cavium.com>

        * gas/mips/mips32-mt.d: Add pause instruction encoding to the end.
        * gas/mips/micromips@@mips32r2.d: Likewise.
        * gas/mips/mips32r2.d: Likewise.
        * gas/mips/mips32-mt.s: Add pause instruction to the end.
        * gas/mips/mips32r2.s: Likewise.
@
text
@d1 8
@


1.1979
log
@bfd:
2011-12-08  Andrew Pinski  <apinski@@cavium.com>
            Adam Nemet  <anemet@@caviumnetworks.com>

	* archures.c (bfd_mach_mips_octeon2): New macro
	* bfd-in2.h: Regenerate.
	* cpu-mips.c (I_mipsocteon2): New enum value.
	(arch_info_struct): Add bfd_mach_mips_octeon2.
	* elfxx-mips.c (_bfd_elf_mips_mach): Support E_MIPS_MACH_OCTEON2.
	(mips_set_isa_flags): Add bfd_mach_mips_octeon2.
	(mips_mach_extensions): Add bfd_mach_mips_octeon2.

gas:
2011-12-08  Andrew Pinski  <apinski@@cavium.com>
            Adam Nemet  <anemet@@caviumnetworks.com>

        * tc-mips.c (CPU_IS_OCTEON): Add Octeon2.
        (mips_cpu_info_table): Add Octeon2.
        * doc/c-mips.texi: Document octeon2 as an acceptable value for -march=.

gas/testsuite:
2011-12-08  Andrew Pinski  <apinski@@cavium.com>
            Adam Nemet  <anemet@@caviumnetworks.com>

        * gas/mips/mips.exp: Add Octeon2 for an architecture.
        Run octeon2 test.
        * gas/mips/octeon2.d: New file.
        * gas/mips/octeon2.s: New file.

include/opcode:
2011-12-08  Andrew Pinski  <apinski@@cavium.com>
            Adam Nemet  <anemet@@caviumnetworks.com>

        * mips.h (INSN_CHIP_MASK): Update according to INSN_OCTEON2.
        (INSN_OCTEON2): New macro.
        (CPU_OCTEON2): New macro.
        (OPCODE_IS_MEMBER): Add Octeon2.

opcodes:
2011-12-08  Andrew Pinski  <apinski@@cavium.com>
            Adam Nemet  <anemet@@caviumnetworks.com>

	* mips-dis.c (mips_arch_choices): Add Octeon2.
	For "octeon+", just include OcteonP for the insn.
	* mips-opc.c (IOCT): Include Octeon2.
	(IOCTP): Include Octeon2.
	(IOCT2): New macro.
	(mips_builtin_opcodes): Add "laa", "laad", "lac", "lacd", "lad",
	"ladd", "lai", "laid", "las", "lasd", "law", "lawd".
	Move "lbux", "ldx", "lhx", "lwx", and "lwux" up to where the standard
	loads are, and add IOCT2 to them.
	Add "lbx" and "lhux".
	Add "qmac.00", "qmac.01", "qmac.02", "qmac.03", "qmacs.00",
	"qmacs.01", "qmacs.01", "qmacs.02" and "qmacs.03".
	Add "zcb" and "zcbt".
@
text
@d2 8
@


1.1978
log
@2011-12-07  Sameera Deshpande  <sameera.deshpande@@arm.com>

	* gas/config/tc-arm.c (do_t_ldstd): Warn for unpredictable cases.
	* gas/testsuite/gas/arm/thumb2_ldstd_unpredictable.d: New testcase.
	* gas/testsuite/gas/arm/thumb2_ldstd_unpredictable.l: Likewise.
	* gas/testsuite/gas/arm/thumb2_ldstd_unpredictable.s: Likewise.
	* gas/testsuite/gas/testsuite/gas/arm/sp-pc-validations-bad-t.l: Update
	testcase.
	* gas/testsuite/gas/testsuite/gas/arm/sp-pc-validations-bad-t.s: Likewise.
@
text
@d1 8
@


1.1977
log
@	* gas/config/tc-arm.c (ARM_IT_MAX_OPERANDS): New define.
	(arm_it): Use ARM_IT_MAX_OPERANDS.
	(neon_select_shape): Ensure we have matched all	operands.
	* gas/testsuite/gas/arm/neon-suffix-bad.l: Add testcase.
	* gas/testsuite/gas/arm/neon-suffix-bad.s: Likewise.
@
text
@d1 9
@


1.1976
log
@	* tc-arm.c (aeabi_set_public_attributes): Correctly set
	Tag_ARM_ISA_use and Tag_Thumb_ISA_use.

	* gas/arm/attr-any-armv4t.d: New test.
	* gas/arm/attr-any-armv4t.s: New file.
	* gas/arm/attr-any-thumbv6.d: New test.
	* gas/arm/attr-any-thumbv6.s: New file.
@
text
@d1 5
@


1.1975
log
@	* gas/config/tc-arm.c (arm_cpu_option_table): Add name_len field.
	(arm_arch_option_table): Likewise.
	(arm_option_extension_value_table): Likewise.
	(ARM_CPU_OPT): New define.
	(ARM_ARCH_OPT): Likewise.
	(ARM_EXT_OPT): Likewise.
	(arm_cpus): Use ARM_CPU_OPT to initialize.
	(arm_archs): Use ARM_ARCH_OPT to initialize.
	(arm_extensions): Use ARM_EXT_OPT to initialize.
	(arm_parse_extension): Ensure option string matching matches
	the whole string.
	(arm_parse_cpu): Likewise.
	(arm_parse_arch): Likewise.
	* gas/testsuite/gas/arm/cmdline-bad-arch.d: New test case.
	* gas/testsuite/gas/arm/cmdline-bad-cpu.d: Likewise.
@
text
@d1 7
@


1.1974
log
@gas/testsuite/
	* gas/mips/mips.exp (run_dump_test_arch): Add an opts parameter.
	(run_dump_test_arches): Allow additional options to be passed.
	(run_list_test_arch): Add opts to the name.
	(run_list_test_arches): Allow the options to be elided.
	(mips4-fp, mips5-fp): Run twice, one with -32 and once with -mabi=o64.
	(mips64r2-ill, octeon-ill): Remove empty options string.
@
text
@d1 5
@


1.1973
log
@opcode/
2011-11-29  Andrew Pinski  <apinski@@cavium.com>

        * mips-dis.c (mips_arch_choices): Add Octeon+.
        * mips-opc.c (IOCT): Include Octeon+.
        (IOCTP): New macro.
        (mips_builtin_opcodes): Add "saa" and "saad".
bfd/
2011-11-29  Andrew Pinski  <apinski@@cavium.com>

        * archures.c (bfd_mach_mips_octeonp): New macro.
        * bfd-in2.h: Regenerate.
        * bfd/cpu-mips.c (I_mipsocteonp): New enum value.
        (arch_info_struct): Add bfd_mach_mips_octeonp.
        * elfxx-mips.c (mips_set_isa_flags): Add bfd_mach_mips_octeonp.
        (mips_mach_extensions): Add bfd_mach_mips_octeonp.
include/opcodes/
2011-11-29  Andrew Pinski  <apinski@@cavium.com>

        * mips.h (INSN_CHIP_MASK): Update according to INSN_OCTEONP.
        (INSN_OCTEONP): New macro.
        (CPU_OCTEONP): New macro.
        (OPCODE_IS_MEMBER): Add Octeon+.
        (M_SAA_AB, M_SAAD_AB, M_SAA_OB, M_SAAD_OB): New enum values.
gas/
2011-11-29  Andrew Pinski  <apinski@@cavium.com>

        * config/tc-mips.c (CPU_IS_OCTEON): New macro function.
        (CPU_HAS_SEQ): Change to use CPU_IS_OCTEON.
        (NO_ISA_COP): Likewise.
        (macro) <ld_st>: Add support when off0 is true.
        Add support for M_SAA_AB, M_SAA_OB, M_SAAD_OB and M_SAAD_AB.
        (mips_cpu_info_table): Add octeon+.
        * doc/c-mips.texi: Document octeon+ as an acceptable value for -march=.
gas/testsuite/
2011-11-29  Andrew Pinski  <apinski@@cavium.com>

        * gas/mips/mips.exp: Add octeon+ for an architecture.
        Run octeon-saa-saad test.
        (run_dump_test_arch): For Octeon architectures, also try octeon@@.
        * gas/mips/octeon-pref.d: Remove -march=octeon from command line.
        * gas/mips/octeon.d: Likewise.
        * gas/mips/octeon-saa-saad.d: New file.
        * gas/mips/octeon-saa-saad.s: New file
@
text
@d1 9
@


1.1972
log
@	* gas/config/tc-arm.c (do_t_mov_cmp): Allow MOV lowreg, lowreg when no CPU
	is specified.
	* gas/testsuite/gas/arm/mov-highregs-any.d: New testcase.
	* gas/testsuite/gas/arm/mov-highregs-any.s: Likewise.
	* gas/testsuite/gas/arm/mov-lowregs-any.d: Likewise.
	* gas/testsuite/gas/arm/mov-lowregs-any.s: Likewise.
@
text
@d1 10
@


1.1971
log
@	* gas/mips/micromips@@24k-branch-delay-1.d: New test.
	* gas/mips/micromips@@24k-triple-stores-1.d: New test.
	* gas/mips/micromips@@24k-triple-stores-2.d: New test.
	* gas/mips/micromips@@24k-triple-stores-3.d: New test.
	* gas/mips/micromips@@24k-triple-stores-4.d: New test.
	* gas/mips/micromips@@24k-triple-stores-5.d: New test.
	* gas/mips/micromips@@24k-triple-stores-6.d: New test.
	* gas/mips/micromips@@24k-triple-stores-7.d: New test.
	* gas/mips/micromips@@24k-triple-stores-8.d: New test.
	* gas/mips/micromips@@24k-triple-stores-9.d: New test.
	* gas/mips/micromips@@24k-triple-stores-10.d: New test.
	* gas/mips/micromips@@24k-triple-stores-11.d: New test.
	* gas/mips/24k-triple-stores-1.s: Adjust for microMIPS
	disassembly.
	* gas/mips/24k-triple-stores-2.s: Likewise.
	* gas/mips/24k-triple-stores-3.s: Likewise.
	* gas/mips/24k-triple-stores-4.s: Likewise.
	* gas/mips/24k-triple-stores-5.s: Likewise.
	* gas/mips/24k-triple-stores-6.s: Likewise.
	* gas/mips/24k-triple-stores-7.s: Likewise.
	* gas/mips/24k-triple-stores-8.s: Likewise.
	* gas/mips/24k-triple-stores-9.s: Likewise.
	* gas/mips/24k-triple-stores-10.s: Likewise.
	* gas/mips/24k-triple-stores-11.s: Likewise.
	* gas/mips/mips.exp: Run the new tests.
@
text
@d1 7
@


1.1970
log
@	* gas/mips/micromips@@loc-swap-2.d: Correct test case.
@
text
@d3 28
@


1.1969
log
@	gas/
	* config/tc-mips.c (macro): Fix unsupported opcode message
	capitalization.
	(mips_ip, mips16_ip): Likewise.

	gas/testsuite/
	* gas/mips/mips-double-float-flag.l: Adjust according to
	unsupported opcode message capitalization fix.
	* gas/mips/mips-hard-float-flag.l: Likewise.
	* gas/mips/mips-macro-ill-nofp.l: Likewise.
	* gas/mips/mips-macro-ill-sfp.l: Likewise.
	* gas/mips/mips1-fp.l: Likewise.
	* gas/mips/mips16e-64.l: Likewise.
	* gas/mips/mips32-sf32.l: Likewise.
	* gas/mips/mips32r2-fp32.l: Likewise.
	* gas/mips/mips4-branch-likely.l: Likewise.
	* gas/mips/mips4-fp.l: Likewise.
	* gas/mips/octeon-ill.l: Likewise.
@
text
@d1 4
@


1.1968
log
@	gas/
	* config/tc-mips.c (can_swap_branch_p): Exclude microMIPS
	variant frags too.

	gas/testsuite/
	* gas/mips/relax-swap3.d: New test.
	* gas/mips/mips16@@relax-swap3.d: Likewise.
	* gas/mips/micromips@@relax-swap3.d: Likewise.
	* gas/mips/relax-swap3.s: New test source.
	* gas/mips/mips.exp: Run the new tests.
@
text
@d1 15
@


1.1967
log
@	* config/tc-arm.c (md_begin): Remove ARM_PLT32 reloc associated
	with the (PLT) instruction suffix when operating in eabi mode.
	* doc/c-arm.texi (ARM_Relocations): Extend description of (PLT)
	suffix.

	* gas/arm/pic.d: Update expected output.
@
text
@d1 8
@


1.1966
log
@bfd:
	* Makefile.am (ALL_MACHINES): Add cpu-epiphany.lo .
	(ALL_MACHINES_CFILES): Add cpu-epiphany.c .
	(BFD32_BACKENDS): Add elf32-epiphany.lo .
	(BFD32_BACKENDS_CFILES): Add elf32-epiphany.c .
	* Makefile.in, bfd-in2.h, configure, libbfd.h: Regenerate.
	* archures.c (bfd_arch_epiphany): Add.
	(bfd_mach_epiphany16, bfd_mach_epiphany32): Define.
	(bfd_epiphany_arch): Declare.
	(bfd_archures_list): Add &bfd_epiphany_arch.
	* config.bfd (epiphany-*-elf): New target case.
	* configure.in (bfd_elf32_epiphany_vec): New target vector case.
	* reloc.c (BFD_RELOC_EPIPHANY_SIMM8): New relocation.
	(BFD_RELOC_EPIPHANY_SIMM24, BFD_RELOC_EPIPHANY_HIGH): Likewise.
	(BFD_RELOC_EPIPHANY_LOW, BFD_RELOC_EPIPHANY_SIMM11): Likewise.
	(BFD_RELOC_EPIPHANY_IMM11, BFD_RELOC_EPIPHANY_IMM8): Likewise.
	* targets.c (bfd_elf32_epiphany_vec): Declare.
	(_bfd_target_vector): Add bfd_elf32_epiphany_vec.
	* po/SRC-POTFILES.in, po/bfd.pot: Regenerate.
	* cpu-epiphany.c, elf32-epiphany.c: New files.
binutils:
	* readelf.c (include "elf/epiphany.h")
	(guess_is_rela, dump_relocation): Handle EM_ADAPTEVA_EPIPHANY.
	(get_machine_name, is_32bit_abs_reloc, is_32bit_pcrel_reloc): Likewise.
	(is_16bit_abs_reloc, is_none_reloc): Likewise.
	* po/binutils.pot: Regenerate.
cpu:
	* cpu/epiphany.cpu, cpu/epiphany.opc: New files.
gas:
	* NEWS: Mention addition of Adapteva Epiphany support.
	* config/tc-epiphany.c, config/tc-epiphany.h: New files.
	* Makefile.am (TARGET_CPU_CFILES): Add config/tc-epiphany.c .
	(TARGET_CPU_HFILES): Add config/tc-epiphany.h .
	* Makefile.in, configure, doc/Makefile.in, po/POTFILES.in: Regenerate.
	* configure.in: Also set using_cgen for epiphany.
	* configure.tgt: Handle epiphany.
	* doc/Makefile.am (CPU_DOCS): Add c-epiphany.texi .
	* doc/all.texi: Set EPIPHANY.
	* doc/as.texinfo: Add EPIPHANY-specific text.
	* doc/c-epiphany.texi: New file.
	* po/gas.pot: Regenerate.
gas/testsuite:
	* gas/epiphany: New directory.
include:
	* dis-asm.h (print_insn_epiphany): Declare.
	* elf/epiphany.h: New file.
	* elf/common.h (EM_ADAPTEVA_EPIPHANY): Define.
ld:
	* NEWS: Mention addition of Adapteva Epiphany support.
	* Makefile.am (ALL_EMULATION_SOURCES): Add eelf32epiphany.c .
	(eelf32epiphany.c): New rule.
	* Makefile.in: Regenerate.
	* configure.tgt: Handle epiphany-*-elf.
	* po/ld.pot: Regenerate.
	* testsuite/ld-srec/srec.exp: xfail epiphany.
	* emulparams/elf32epiphany.sh: New file.
opcodes:
	* Makefile.am (HFILES): Add epiphany-desc.h and epiphany-opc.h .
	(TARGET_LIBOPCODES_CFILES): Add  epiphany-asm.c, epiphany-desc.c,
	epiphany-dis.c, epiphany-ibld.c and epiphany-opc.c .
	(CLEANFILES): Add stamp-epiphany.
	(EPIPHANY_DEPS): Set.  Make CGEN-generated Epiphany files depend on it.
	(stamp-epiphany): New rule.
	* Makefile.in, configure, po/POTFILES.in, po/opcodes.pot: Regenerate.
	* configure.in: Handle bfd_epiphany_arch.
	* disassemble.c (ARCH_epiphany): Define.
	(disassembler): Handle bfd_arch_epiphany.
	* epiphany-asm.c, epiphany-desc.c, epiphany-desc.h: New files.
	* epiphany-dis.c, epiphany-ibld.c, epiphany-opc.c: Likewise.
	* epiphany-opc.h: Likewise.
@
text
@d1 4
@


1.1965
log
@    opcodes/
    * m68k-opc.c (m68k_opcodes): Fix entries for ColdFire moveml.

    gas/testsuite/
    * gas/m68k/all.exp (movem-offset): Add test.
    * gas/m68k/movem-offset.s: New test.
    * gas/m68k/movem-offset.d: New.
@
text
@d1 18
@


1.1964
log
@2011-10-21  Jan Glauber  <jang@@linux.vnet.ibm.com>

	* s390-opc.txt: Add CPUMF instructions.

2011-10-21  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* gas/s390/zarch-z10.d: Add CPUMF instructions.
	* gas/s390/zarch-z10.s: Likewise.
@
text
@d1 6
@


1.1963
log
@    Jie Zhang  <jie@@codesourcery.com>
    Julian Brown  <julian@@codesourcery.com>

    gas/
    * config/tc-arm.c (parse_shifter_operand): Fix handling
    of explicit rotation.
    (encode_arm_shifter_operand): Likewise.

    gas/testsuite/
    * gas/arm/adrl.d: Adjust.
    * gas/arm/immed2.d: New test.
    * gas/arm/immed2.s: New test.

    ld/testsuite/
    * ld-arm/cortex-a8-fix-b-plt.d: Adjust.
    * ld-arm/cortex-a8-fix-bcc-plt.d: Adjust.
    * ld-arm/cortex-a8-fix-bl-plt.d: Adjust.
    * ld-arm/cortex-a8-fix-bl-rel-plt.d: Adjust.
    * ld-arm/cortex-a8-fix-blx-plt.d: Adjust.
    * ld-arm/ifunc-1.dd: Adjust.
    * ld-arm/ifunc-2.dd: Adjust.
    * ld-arm/ifunc-3.dd: Adjust.
    * ld-arm/ifunc-4.dd: Adjust.
    * ld-arm/ifunc-5.dd: Adjust.
    * ld-arm/ifunc-6.dd: Adjust.
    * ld-arm/ifunc-7.dd: Adjust.
    * ld-arm/ifunc-8.dd: Adjust.
    * ld-arm/ifunc-9.dd: Adjust.
    * ld-arm/ifunc-10.dd: Adjust.
    * ld-arm/ifunc-14.dd: Adjust.
    * ld-arm/ifunc-15.dd: Adjust.
    * ld-arm/ifunc-16.dd: Adjust.

    opcodes/
    * arm-dis.c (print_insn_arm): Explicitly specify rotation
    if needed.
@
text
@d1 5
@


1.1962
log
@	* config/tc-arm.c (check_ldr_r15_aligned): New.
	(do_ldst): Warn in upredictable cases.
	(do_t_ldst): Likewise.
	(insns): Update accordingly.

	* gas/arm/ldr-bad.s: New testcase.
	* gas/arm/ldr-bad.l: Likewise.
	* gas/arm/ldr-bad.d: Likewise.
	* gas/arm/ldr.s: Likewise.
	* gas/arm/ldr.d: Likewise.
	* gas/arm/ldr-t-bad.s: Likewise.
	* gas/arm/ldr-t-bad.l: Likewise.
	* gas/arm/ldr-t-bad.d: Likewise.
	* gas/arm/ldr-t.s: Likewise.
	* gas/arm/ldr-t.d: Likewise.
	* gas/arm/sp-pc-usage-t.s: Correct.
	* gas/arm/sp-pc-usage-t.d: Update accordingly.
@
text
@d1 7
@


1.1961
log
@gas/testsuite/
2011-09-28  Jan Beulich  <jbeulich@@suse.com>

	* gas/ppc/476.s: Fix lswi first operand.
	* gas/ppc/476.d: Adjust expected output.
	* gas/ppc/a2.s: Fix lswi first operand.
	* gas/ppc/a2.d: Adjust expected output.
	* gas/ppc/power6.s: Fix lfdpx first operand.
	* gas/ppc/power6.d: Adjust expected output.

opcodes/
2011-09-28  Jan Beulich  <jbeulich@@suse.com>

	* ppc-opc.c (insert_nbi, insert_rbx, FRAp, FRBp, FRSp, FRTp, NBI, RAX,
	RBX): New.
	(insert_bo, insert_boe): Reject bcctr with bit 2 in bo unset.
	(powerpc_opcodes): Use RAX for second and RBXC for third operand of
	lswx. Use NBI for third operand of lswi. Use FRTp for first operand of
	lfdp and lfdpx. Use FRSp for first operand of stfdp and stfdpx, and
	mark them as invalid on POWER7. Use FRTp, FRAp, and FRBp repsectively
	on DFP quad instructions.
@
text
@d1 15
@


1.1960
log
@        * gas/pe/section-exclude.d: Correct testcase.
@
text
@d1 9
@


1.1959
log
@2011-09-27  Kai Tietz  <ktietz@@redhat.com>

       * config/obj-coff.c (obj_coff_section): Add 'e' as specifier
       for marking section SEC_EXCLUDE.

2011-09-27  Kai Tietz  <ktietz@@redhat.com>

       * gas/pe/pe.exp: Add new testcase.
       * gas/pe/section-exclude.d: New file.
       * gas/pe/section-exclude.s: New file.
@
text
@d1 4
@


1.1958
log
@opcodes/

	* sparc-opc.c (sparc_opcodes): Fix random instruction to write
	to a float instead of an integer register.

gas/testsuite/

	* gas/sparc/hpcvis3.s: Update to use float reg for random insn.
	* gas/sparc/hpcvis3.d: Likewise.
@
text
@d1 6
@


1.1957
log
@Add sparc integer multiply-add instructions.

opcodes/

	* sparc-opc.c (sparc_opcodes): Add integer multiply-add
	instructions.

gas/testsuite/

	* gas/sparc/ima.d: New test.
	* gas/sparc/ima.s: New test source.
	* gas/sparc/sparc.exp: Run new test.
@
text
@d1 5
@


1.1956
log
@Add new sparc options to control instruction availability.

gas/

	* config/tc-sparc.c (hwcap_allowed): New.
	(struct sparc_arch): New field 'hwcap_allowed' containing a bitmask
	of F_FOO flags which are enabled by the particular arch setting.
	Add new options that provide explicit access to new instructions.
	(md_parse_option): Only bump max_architecture if the requested one
	is larger, or this is the first explicit request.
	(get_hwcap_name): New function.
	(sparc_ip): Validate that hwcaps used by an instruction have actually
	been enabled.
	* doc/c-sparc.texi: Document new sparc options.
@
text
@d1 6
@


1.1956.2.1
log
@	Apply mainline patches
opcodes/
	2011-09-28  Jan Beulich  <jbeulich@@suse.com>
	* ppc-opc.c (insert_nbi, insert_rbx, FRAp, FRBp, FRSp, FRTp, NBI, RAX,
	RBX): New.
	(insert_bo, insert_boe): Reject bcctr with bit 2 in bo unset.
	(powerpc_opcodes): Use RAX for second and RBXC for third operand of
	lswx. Use NBI for third operand of lswi. Use FRTp for first operand of
	lfdp and lfdpx. Use FRSp for first operand of stfdp and stfdpx, and
	mark them as invalid on POWER7. Use FRTp, FRAp, and FRBp repsectively
	on DFP quad instructions.
gas/testsuite/
	2011-09-28  Jan Beulich  <jbeulich@@suse.com>
	* gas/ppc/476.s: Fix lswi first operand.
	* gas/ppc/476.d: Adjust expected output.
	* gas/ppc/a2.s: Fix lswi first operand.
	* gas/ppc/a2.d: Adjust expected output.
	* gas/ppc/power6.s: Fix lfdpx first operand.
	* gas/ppc/power6.d: Adjust expected output.
@
text
@a0 11
2011-10-25  Alan Modra  <amodra@@gmail.com>

	Apply mainline patches
	2011-09-28  Jan Beulich  <jbeulich@@suse.com>
	* gas/ppc/476.s: Fix lswi first operand.
	* gas/ppc/476.d: Adjust expected output.
	* gas/ppc/a2.s: Fix lswi first operand.
	* gas/ppc/a2.d: Adjust expected output.
	* gas/ppc/power6.s: Fix lfdpx first operand.
	* gas/ppc/power6.d: Adjust expected output.

@


1.1956.2.2
log
@	gas/
	Apply mainline patches
	2011-11-14  Maciej W. Rozycki  <macro@@codesourcery.com>
	* config/tc-mips.c (can_swap_branch_p): Exclude microMIPS
	variant frags too.

	gas/testsuite/
	Apply mainline patches
	2011-11-14  Maciej W. Rozycki  <macro@@codesourcery.com>
	* gas/mips/relax-swap3.d: New test.
	* gas/mips/mips16@@relax-swap3.d: Likewise.
	* gas/mips/micromips@@relax-swap3.d: Likewise.
	* gas/mips/relax-swap3.s: New test source.
	* gas/mips/mips.exp: Run the new tests.
@
text
@a0 10
2011-11-14  Maciej W. Rozycki  <macro@@codesourcery.com>

	Apply mainline patches
	2011-11-14  Maciej W. Rozycki  <macro@@codesourcery.com>
	* gas/mips/relax-swap3.d: New test.
	* gas/mips/mips16@@relax-swap3.d: Likewise.
	* gas/mips/micromips@@relax-swap3.d: Likewise.
	* gas/mips/relax-swap3.s: New test source.
	* gas/mips/mips.exp: Run the new tests.

@


1.1956.2.3
log
@gas/
	* config/tc-mips.c (s_tls_rel_directive): Call mips_clear_insn_labels.

gas/testsuite/
	* gas/mips/tls-relw.s, gas/mips/tls-relw.d: New test.
	* gas/mips/mips.exp: Run it.
@
text
@a0 5
2012-01-08  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/tls-relw.s, gas/mips/tls-relw.d: New test.
	* gas/mips/mips.exp: Run it.

@


1.1955
log
@Fix sparc testcases when building with 64-bit default.

gas/testsuite/

	* gas/sparc/imm-plus-rreg.d: Fix address regex for 64-bit.
	* gas/sparc/save-args.d: Likewise.
	* gas/sparc/ticc-imm-reg.d: Likewise, add -32 to options.
	* gas/sparc/v8-movwr-imm.d: Likewise.
@
text
@d11 2
@


1.1954
log
@Annotate sparc objects with cpu hardware capabilities used.

bfd/

	* elfxx-sparc.c (_bfd_sparc_elf_merge_private_bfd_data): New.
	* elfxx-sparc.h: Declare it.
	* elf32-sparc.c (elf32_sparc_merge_private_bfd_data): Call it.
	* elf64-sparc.c (elf64_sparc_merge_private_bfd_data): Likewise.

binutils/

	* readelf.c (display_sparc_hwcaps): New.
	(display_sparc_gnu_attribute): New.
	(process_sparc_specific): New.
	(process_arch_specific): When EM_SPARC, EM_SPARC32PLUS,
	or EM_SPARCV9 invoke process_sparc_specific.

gas/

	* config/tc-sparc.c (hwcap_seen): New bitmask, defined when
	not TE_SOLARIS.
	(sparc_ip): When not TE_SOLARIS, accumulate hwcap bits from
	sparc_opcode->flags of instruction into hwcap_seen.
	(sparc_md_end): Create Tag_GNU_Sparc_HWCAPS attribute if
	hwcap_seen is non-zero and not TE_SOLARIS.

gas/testsuite/

	* gas/sparc/hpcvis3.s: Update for fixed fchksum16 mnemonic.
	* gas/sparc/hpcvis3.d: Likewise.

include/elf/

	* sparc.h (Tag_GNU_Sparc_HWCAPS): New object attribute.
	(ELF_SPARC_HWCAP_*): New HWCAPS bitmask values.

include/opcode/

	* sparc.h (struct sparc_opcode): Expand 'flags' to unsigned int.
	(F_MUL32, F_DIV32, F_FSMULD, F_V8PLUS, F_POPC, F_VIS, F_VIS2,
	F_ASI_BLK_INIT, F_FMAF, F_VIS3, F_HPC, F_RANDOM, F_TRANS,
	F_FJFMAU, F_IMA, F_ASI_CACHE_SPARING): New flag bits.

opcodes/

	* sparc-opc.c (sparc_opcodes): Annotate table with HWCAP flag
	bits.  Fix "fchksm16" mnemonic.
@
text
@d6 5
@


1.1953
log
@Add PR markers
@
text
@d1 5
@


1.1952
log
@opcodes/

	* sparc-opc.c (sparc_opcodes): Add entry for 'save simm13,regrs1,regrd'
	This has been reported as being accepted by the Sun assmebler.

gas/testsuite/

	* gas/sparc/save-args.[sd]: New test.
	* gas/sparc/sparc.exp: Run new test.
@
text
@d26 1
@


1.1951
log
@opcodes/

	The changes below bring 'mov' and 'ticc' instructions into line
	with the V8 SPARC Architecture Manual.
	* sparc-opc.c (sparc_opcodes): Add entry for 'ticc imm + regrs1'.
	* sparc-opc.c (sparc_opcodes): Add alias entries for
	'mov regrs2,%asrX'; 'mov regrs2,%y'; 'mov regrs2,%prs';
	'mov regrs2,%wim' and 'mov regrs2,%tbr'.
	* sparc-opc.c (sparc_opcodes): Move/Change entries for
	'mov imm,%asrX'; 'mov imm,%y'; 'mov imm,%prs'; 'mov imm,%wim'
	and 'mov imm,%tbr'.
	* sparc-opc.c (sparc_opcodes): Add wr alias entries to match above
	mov aliases.

gas/testsuite/

	* gas/sparc/ticc-imm-reg.[sd]: New test.
	* gas/sparc/v8-movwr-imm.[sd]: New test.
	* gas/sparc/sparc.exp: Run new tests.
@
text
@d10 3
@


1.1950
log
@gas/

	* config/tc-sparc.c (sparc_ip): Handle 'i' + r<0..31>
	in addition to 'i' + [goli]<0..7>.

gas/testsuite/

	* gas/sparc/imm-plus-rreg.[sd]: New test.
	* gas/sparc/sparc.exp: Run new test.
@
text
@d6 4
@


1.1949
log
@opcodes/

	* sparc-opc.c (pdistn): Destination is integer not float register.

gas/testsuite/

	* gas/sparc/hpcvis3.s: Correct pdistn test.
	* gas/sparc/hpcvis3.d: Likewise.
@
text
@d1 5
@


1.1948
log
@gas/
	PR gas/13167
	* dwarf2dbg.c (dwarf2_flush_pending_lines): Use symbol_temp_new_now.

gas/testsuite/
	PR gas/13167
	* gas/ia64/pr13167.d, gas/ia64/pr13167.s: New test.
	* gas/ia64/ia64.exp: Run it.
@
text
@d1 5
@


1.1947
log
@* gas/testsuite/gas/m68k/all.exp: Run "mode5" test also with -mcpu=5200.
* gas/testsuite/gas/m68k/mode5.s: Add moveml testcases.
* gas/testsuite/gas/m68k/mode5.d: Update.

* opcodes/m68k-opc.c: Use "y" in moveml pattern for mcfisa_a.
@
text
@d1 6
@


1.1946
log
@gas/
	PR gas/13024
	* dwarf2dbg.c (pending_lines, pending_lines_tail): New variables.
	(dwarf2_gen_line_info_1): Delete.
	(dwarf2_push_line, dwarf2_flush_pending_lines): New functions.
	(dwarf2_gen_line_info, dwarf2_emit_label): Use them.
	(dwarf2_consume_line_info): Call dwarf2_flush_pending_lines.
	(dwarf2_directive_loc): Push previous .locs instead of generating
	them immediately.

gas/testsuite/
	* gas/mips/loc-swap-2.s, gas/mips/loc-swap-2.d,
	gas/mips/micromips@@loc-swap-2.d,
	gas/mips/mips16@@loc-swap-2.d: New test.
	* gas/mips/mips.exp: Run it.
@
text
@d1 6
@


1.1945
log
@Update AVX tests.

2011-08-19  Sergey A. Guriev  <sergeya.a.guriev@@intel.com>

	* gas/i386/avx-gather-intel.d: Added missing vpgather tests.
	* gas/i386/avx-gather.d: Likewise.
	* gas/i386/x86-64-avx-gather-intel.d: Likewise.
	* gas/i386/x86-64-avx-gather.d: Likewise.

	* gas/i386/avx-intel.d: Added missing vpinsrd and removed
	duplicated vpinsrb instructions.
	* gas/i386/avx.d: Likewise.
	* gas/i386/avx.s: Likewise.
	* gas/i386/ilp32/x86-64-avx-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-avx.d: Likewise.
	* gas/i386/x86-64-avx-intel.d: Likewise.
	* gas/i386/x86-64-avx.d: Likewise.
	* gas/i386/x86-64-avx.s: Likewise.
@
text
@d1 7
@


1.1944
log
@	* gas/mips/micromips@@mips5.d: Rename to...
	* gas/mips/micromips@@mips5-fp.d: ... this.
	* gas/mips/mips5.d: Rename to...
	* gas/mips/mips5-fp.d: ... this.
	* gas/mips/mips5.l: Rename to...
	* gas/mips/mips5-fp.l: ... this.
	* gas/mips/mips5.s: Rename to...
	* gas/mips/mips5-fp.s: ... this.
	* gas/mips/mips.exp: Update accordingly.
@
text
@d1 17
@


1.1943
log
@	* gas/mips/mips.exp: Define new "fpisa3", "fpisa4" and "fpisa5"
	architecture properties adding them to "mips3", "mips4", "mips5"
	and "mips32r2" architectures.  Use the new properties for the
	"24k-triple-stores-1", "24k-triple-stores-3", "mips4-fp",
	"mips5" and "alnv_ps-swap" tests.
@
text
@d3 12
@


1.1942
log
@	gas/
	* config/tc-mips.c (mips_set_options): Add ase_mcu.
	(mips_opts): Initialise ase_mcu to -1.
	(ISA_SUPPORTS_MCU_ASE): New macro.
	(MIPS_CPU_ASE_MCU): Likewise.
	(is_opcode_valid): Handle MCU.
	(macro_build, macro): Likewise.
	(validate_mips_insn, validate_micromips_insn): Likewise.
	(mips_ip): Likewise.
	(options): Add OPTION_MCU and OPTION_NO_MCU.
	(md_longopts): Add mmcu and mno-mcu.
	(md_parse_option): Handle OPTION_MCU and OPTION_NO_MCU.
	(mips_after_parse_args): Handle MCU.
	(s_mipsset): Likewise.
	(md_show_usage): Handle MCU options.

	* doc/as.texinfo: Document -mmcu and -mno-mcu options.
	* doc/c-mips.texi: Likewise, and document ".set mcu" and
	".set nomcu" directives.

	gas/testsuite/
	* gas/mips/micromips@@mcu.d: New test.
	* gas/mips/mcu.d: Likewise.
	* gas/mips/mcu.s: New test source.
	* gas/mips/mips.exp: Run the new tests.

	include/opcode/
	* mips.h (OP_MASK_3BITPOS, OP_SH_3BITPOS): New macros.
	(OP_MASK_OFFSET12, OP_SH_OFFSET12): Redefine.
	(INSN_ASE_MASK): Add the MCU bit.
	(INSN_MCU): New macro.
	(M_ACLR_AB, M_ACLR_OB, M_ASET_AB, M_ASET_OB): New enum values.
	(MICROMIPSOP_MASK_3BITPOS, MICROMIPSOP_SH_3BITPOS): New macros.

	opcodes/
	* mips-dis.c (mips_arch_choices): Enable MCU for "mips32r2"
	and "mips64r2".
	(print_insn_args, print_insn_micromips): Handle MCU.
	* micromips-opc.c (MC): New macro.
	(micromips_opcodes): Add "aclr", "aset" and "iret".
	* mips-opc.c (MC): New macro.
	(mips_builtin_opcodes): Add "aclr", "aset" and "iret".
@
text
@d1 8
@


1.1941
log
@	include/opcode/
	* mips.h (INSN_WRITE_GPR_S, INSN2_WRITE_GPR_MB): New macros.
	(INSN2_READ_GPR_MC, INSN2_READ_GPR_ME): Likewise.
	(INSN2_WRITE_GPR_MF, INSN2_READ_GPR_MG): Likewise.
	(INSN2_READ_GPR_MJ, INSN2_WRITE_GPR_MJ): Likewise.
	(INSN2_READ_GPR_MP, INSN2_WRITE_GPR_MP): Likewise.
	(INSN2_READ_GPR_MQ, INSN2_WRITE_GPR_MHI): Likewise.
	(INSN2_READ_GPR_MMN): Likewise.
	(INSN2_READ_FPR_D): Change the bit used.
	(INSN2_MOD_GPR_MD, INSN2_MOD_GPR_MF): Likewise.
	(INSN2_MOD_SP, INSN2_READ_GPR_31, INSN2_READ_GP): Likewise.
	(INSN2_READ_PC, INSN2_UNCOND_BRANCH): Likewise.
	(INSN2_COND_BRANCH): Likewise.
	(INSN2_WRITE_GPR_S, INSN2_MOD_GPR_MB): Remove macros.
	(INSN2_MOD_GPR_MC, INSN2_MOD_GPR_ME, INSN2_MOD_GPR_MG): Likewise.
	(INSN2_MOD_GPR_MJ, INSN2_MOD_GPR_MP, INSN2_MOD_GPR_MQ): Likewise.
	(INSN2_MOD_GPR_MHI, INSN2_MOD_GPR_MM): Likewise.
	(INSN2_MOD_GPR_MN): Likewise.

	gas/
	* config/tc-mips.c (gpr_mod_mask): Remove INSN2_MOD_GPR_MB,
	INSN2_MOD_GPR_MC, INSN2_MOD_GPR_ME, INSN2_MOD_GPR_MG,
	INSN2_MOD_GPR_MHI, INSN2_MOD_GPR_MJ, INSN2_MOD_GPR_MM,
	INSN2_MOD_GPR_MN, INSN2_MOD_GPR_MP and INSN2_MOD_GPR_MQ opcode
	register use checks.
	(gpr_read_mask): Add INSN2_READ_GPR_MC, INSN2_READ_GPR_ME
	INSN2_READ_GPR_MG, INSN2_READ_GPR_MJ, INSN2_READ_GPR_MMN,
	INSN2_READ_GPR_MP and INSN2_READ_GPR_MQ opcode register use
	checks.
	(gpr_write_mask): Replace INSN2_WRITE_GPR_S opcode register
	use flag with INSN_WRITE_GPR_S.  Add INSN2_WRITE_GPR_MB,
	INSN2_WRITE_GPR_MHI, INSN2_WRITE_GPR_MJ and INSN2_WRITE_GPR_MP
	opcode register use checks.
	(can_swap_branch_p): Enable microMIPS branch swapping.
	(append_insn): Likewise.

	gas/testsuite/
	* gas/mips/micromips.d: Update according to changes to enable
	microMIPS branch swapping.
	* gas/mips/micromips-trap.d: Likewise.
	* gas/mips/micromips@@jal-svr4pic.d: Likewise.
	* gas/mips/micromips@@loc-swap.d: Likewise.
	* gas/mips/micromips@@loc-swap-dis.d: Likewise.

	opcodes/
	* micromips-opc.c (MOD_mb, MOD_mc, MOD_md): Remove macros.
	(MOD_me, MOD_mf, MOD_mg, MOD_mhi, MOD_mj, MOD_ml): Likewise.
	(MOD_mm, MOD_mn, MOD_mp, MOD_mq, MOD_sp): Likewise.
	(WR_mb, RD_mc, RD_md, WR_md, RD_me, RD_mf, WR_mf): New macros.
	(RD_mg, WR_mhi, RD_mj, WR_mj, RD_ml, RD_mmn): Likewise.
	(RD_mp, WR_mp, RD_mq, RD_sp, WR_sp): Likewise.
	(WR_s): Update macro.
	(micromips_opcodes): Update register use flags of: "addiu",
	"addiupc", "addiur1sp", "addiur2", "addius5", "addiusp", "addu",
	"and", "andi", "beq", "beqz", "bne", "bnez", "di", "ei", "j",
	"jalr", "jalrs", "jr", "jraddiusp", "jrc", "lbu", "lhu", "li",
	"lui", "lw", "lwm", "mfhi", "mflo", "move", "movep", "not",
	"nor", "or", "ori", "sb", "sh", "sll", "srl", "subu", "sw",
	"swm" and "xor" instructions.
@
text
@d2 8
@


1.1940
log
@include/opcode/
	* sparc.h: Document new format codes '4', '5', and '('.
	(OPF_LOW4, RS3): New macros.
opcodes/
	* sparc-dis.c (v9a_ast_reg_names): Add "cps".
	(X_RS3): New macro.
	(print_insn_sparc): Handle '4', '5', and '(' format codes.
	Accept %asr numbers below 28.
	* sparc-opc.c (sparc_opcodes): Add entries for HPC and VIS3
	instructions.
gas/
	* config/tc-sparc.c (v9a_asr_table): Add "cps".
	(sparc_ip): Handle '4', '5' and '(' format codes.
gas/testsuite
	* gas/sparc/hpcvis3.d: New test.
	* gas/sparc/hpcvis3.s: New test source.
	* gas/sparc/sparc.exp: Run new test.
@
text
@d1 9
@


1.1939
log
@Update gas/i386/x86-64-branch.d to support win64.

2011-08-05  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/x86-64-branch.d: Pass -dw to objdump and support
	win64.
@
text
@d1 6
@


1.1938
log
@Add a testcase for group error.

2011-08-04  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/elf/bad-group.d: New.
	* gas/elf/bad-group.err: Likewise.
	* gas/elf/bad-group.s: Likewise.

	* gas/elf/elf.exp: Run bad-group.
@
text
@d1 5
@


1.1937
log
@	* config/tc-arm.c (do_t_strexbh): New.
	(insns): Update accordingly.

	* gas/arm/strex-bad-t.d: New testcase.
	* gas/arm/strex-bad-t.s: Likewise.
	* gas/arm/strex-bad-t.l: Likewise.
	* gas/arm/strex-t.s: Likewise.
	* gas/arm/strex-t.d: Likewise.
@
text
@d1 8
@


1.1936
log
@Check R_X86_64_32 overflow and allow R_X86_64_64 for x32.

bfd/

2011-08-01  H.J. Lu  <hongjiu.lu@@intel.com>

	PR ld/13048
	* archures.c (bfd_mach_i386_intel_syntax): New.
	(bfd_mach_i386_i8086): Updated.
	(bfd_mach_i386_i386): Likewise.
	(bfd_mach_x86_64): Likewise.
	(bfd_mach_x64_32): Likewise.
	(bfd_mach_i386_i386_intel_syntax): Likewise.
	(bfd_mach_x86_64_intel_syntax): Likewise.
	(bfd_mach_x64_32_intel_syntax): Likewise.
	(bfd_mach_l1om): Likewise.
	(bfd_mach_l1om_intel_syntax): Likewise.
	(bfd_mach_k1om): Likewise.
	(bfd_mach_k1om_intel_syntax): Likewise.

	* bfd-in2.h: Regenerated.

	* cpu-i386.c (bfd_i386_compatible): Check mach instead of
	bits_per_address.
	(bfd_x64_32_arch_intel_syntax): Set bits_per_address to 64.
	(bfd_x64_32_arch): Likewise.

	* elf64-x86-64.c: Include "libiberty.h".
	(x86_64_elf_howto_table): Append x32 R_X86_64_32.
	(elf_x86_64_rtype_to_howto): Support x32 R_X86_64_32.
	(elf_x86_64_reloc_type_lookup): Likewise.
	(elf_x86_64_reloc_name_lookup): Likewise.
	(elf_x86_64_relocate_section): Likewise.
	(elf_x86_64_check_relocs): Allow R_X86_64_64 relocations for x32.

gas/

2011-08-01  H.J. Lu  <hongjiu.lu@@intel.com>

	PR ld/13048
	* config/tc-i386.c (handle_quad): Removed.
	(md_pseudo_table): Remove "quad".
	(tc_gen_reloc): Don't check BFD_RELOC_64 for disallow_64bit_reloc.
	(x86_dwarf2_addr_size): New.

	* config/tc-i386.h (x86_dwarf2_addr_size): New.
	(DWARF2_ADDR_SIZE): Likewise.

gas/testsuite/

2011-08-01  H.J. Lu  <hongjiu.lu@@intel.com>

	PR ld/13048
	* gas/i386/ilp32/ilp32.exp: Don't run inval.

	* gas/i386/ilp32/inval.l: Removed.
	* gas/i386/ilp32/inval.s: Likewise.

	* gas/i386/ilp32/quad.d: Expect R_X86_64_64 instead of
	R_X86_64_32.

	* gas/i386/ilp32/x86-64-pcrel.s: Add tests for movabs.
	* gas/i386/ilp32/x86-64-pcrel.d: Updated.

ld/testsuite/

2011-08-01  H.J. Lu  <hongjiu.lu@@intel.com>

	PR ld/13048
	* ld-x86-64/ilp32-6.d: New.
	* ld-x86-64/ilp32-6.s: Likewise.
	* ld-x86-64/ilp32-7.d: Likewise.
	* ld-x86-64/ilp32-7.s: Likewise.
	* ld-x86-64/ilp32-8.d: Likewise.
	* ld-x86-64/ilp32-8.s: Likewise.
	* ld-x86-64/ilp32-9.d: Likewise.
	* ld-x86-64/ilp32-9.s: Likewise.

	* ld-x86-64/x86-64.exp: Run ilp32-6, ilp32-7, ilp32-8 and ilp32-9.

opcodes/

2011-08-01  H.J. Lu  <hongjiu.lu@@intel.com>

	PR ld/13048
	* i386-dis.c (print_insn): Optimize info->mach check.
@
text
@d1 8
d28 1
a28 1
	* gas/i386/ilp32/x86-64-branch.d: Likewise. 
@


1.1935
log
@Add Disp32S to 64bit call.

gas/testsuite/

2011-08-01  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/13046
	* gas/i386/x86-64-branch.s: Add tests for direct branch.
	* gas/i386/x86-64-branch.d: Updated.
	* gas/i386/ilp32/x86-64-branch.d: Likewise.

opcodes/

2011-08-01  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/13046
	* i386-opc.tbl: Add Disp32S to 64bit call.
	* i386-tbl.h: Regenerated.
@
text
@d3 14
@


1.1934
log
@	* gas/elf/warn-2.s: Add other types of NOP insn.
@
text
@d1 7
@


1.1933
log
@	* dwarf2dbg.c (out_debug_line): Ignore non-normal segments, with a
	warning.
	* doc/as.texinfo (Offset): Document .offset directive.

	testsuite/
	* gas/elf/warn-2.s: New.
@
text
@d1 4
@


1.1932
log
@	* config/tc-rx.c (md_convert_frag): Fix encoding of beq.a
	synthetic instruction.

	* gas/rx/r-bcc.d: Update expected disassembly of synthetic beq.a
	instruction.
@
text
@d1 5
@


1.1931
log
@bfd/
2011-02-25  Chao-ying Fu  <fu@@mips.com>
            Ilie Garbacea  <ilie@@mips.com>
            Maciej W. Rozycki  <macro@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>
            Catherine Moore  <clm@@codesourcery.com>
	    Richard Sandiford  <rdsandiford@@googlemail.com>

	* archures.c (bfd_mach_mips_micromips): New macro.
	* cpu-mips.c (I_micromips): New enum value.
	(arch_info_struct): Add bfd_mach_mips_micromips.
	* elfxx-mips.h (_bfd_mips_elf_is_target_special_symbol): New
	prototype.
	(_bfd_mips_elf_relax_section): Likewise.
	(_bfd_mips16_elf_reloc_unshuffle): Rename to...
	(_bfd_mips_elf_reloc_unshuffle): ... this.  Handle microMIPS
	ASE.
	(_bfd_mips16_elf_reloc_shuffle): Rename to...
	(_bfd_mips_elf_reloc_shuffle): ... this.  Handle microMIPS ASE.
	(gprel16_reloc_p): Handle microMIPS ASE.
	(literal_reloc_p): New function.
	* elf32-mips.c (elf_micromips_howto_table_rel): New variable.
	(_bfd_mips_elf32_gprel16_reloc): Handle microMIPS ASE.
	(mips16_gprel_reloc): Update for _bfd_mips_elf_reloc_unshuffle
	and _bfd_mips_elf_reloc_shuffle changes.
	(mips_elf_gprel32_reloc): Update comment.
	(micromips_reloc_map): New variable.
	(bfd_elf32_bfd_reloc_type_lookup): Handle microMIPS ASE.
	(mips_elf32_rtype_to_howto): Likewise.
	(mips_info_to_howto_rel): Likewise.
	(bfd_elf32_bfd_is_target_special_symbol): Define.
	(bfd_elf32_bfd_relax_section): Likewise.
	* elf64-mips.c (micromips_elf64_howto_table_rel): New variable.
	(micromips_elf64_howto_table_rela): Likewise.
	(mips16_gprel_reloc): Update for _bfd_mips_elf_reloc_unshuffle
	and _bfd_mips_elf_reloc_shuffle changes.
	(micromips_reloc_map): Likewise.
	(bfd_elf64_bfd_reloc_type_lookup): Handle microMIPS ASE.
	(bfd_elf64_bfd_reloc_name_lookup): Likewise.
	(mips_elf64_rtype_to_howto): Likewise.
	(bfd_elf64_bfd_is_target_special_symbol): Define.
	* elfn32-mips.c (elf_micromips_howto_table_rel): New variable.
	(elf_micromips_howto_table_rela): Likewise.
	(mips16_gprel_reloc): Update for _bfd_mips_elf_reloc_unshuffle
	and _bfd_mips_elf_reloc_shuffle changes.
	(micromips_reloc_map): Likewise.
	(bfd_elf32_bfd_reloc_type_lookup): Handle microMIPS ASE.
	(bfd_elf32_bfd_reloc_name_lookup): Likewise.
	(mips_elf_n32_rtype_to_howto): Likewise.
	(bfd_elf32_bfd_is_target_special_symbol): Define.
	* elfxx-mips.c (LA25_LUI_MICROMIPS_1): New macro.
	(LA25_LUI_MICROMIPS_2): Likewise.
	(LA25_J_MICROMIPS_1, LA25_J_MICROMIPS_2): Likewise.
	(LA25_ADDIU_MICROMIPS_1, LA25_ADDIU_MICROMIPS_2): Likewise.
	(TLS_RELOC_P): Handle microMIPS ASE.
	(mips_elf_create_stub_symbol): Adjust value of stub symbol if
	target is a microMIPS function.
	(micromips_reloc_p): New function.
	(micromips_reloc_shuffle_p): Likewise.
	(got16_reloc_p, call16_reloc_p): Handle microMIPS ASE.
	(got_disp_reloc_p, got_page_reloc_p): New functions.
	(got_ofst_reloc_p): Likewise.
	(got_hi16_reloc_p, got_lo16_reloc_p): Likewise.
	(call_hi16_reloc_p, call_lo16_reloc_p): Likewise.
	(hi16_reloc_p, lo16_reloc_p, jal_reloc_p): Handle microMIPS ASE.
	(micromips_branch_reloc_p): New function.
	(tls_gd_reloc_p, tls_ldm_reloc_p): Likewise.
	(tls_gottprel_reloc_p): Likewise.
	(_bfd_mips16_elf_reloc_unshuffle): Rename to...
	(_bfd_mips_elf_reloc_unshuffle): ... this.  Handle microMIPS
	ASE.
	(_bfd_mips16_elf_reloc_shuffle): Rename to...
	(_bfd_mips_elf_reloc_shuffle): ... this.  Handle microMIPS ASE.
	(_bfd_mips_elf_lo16_reloc): Handle microMIPS ASE.
	(mips_tls_got_index, mips_elf_got_page): Likewise.
	(mips_elf_create_local_got_entry): Likewise.
	(mips_elf_relocation_needs_la25_stub): Likewise.
	(mips_elf_calculate_relocation): Likewise.
	(mips_elf_perform_relocation): Likewise.
	(_bfd_mips_elf_symbol_processing): Likewise.
	(_bfd_mips_elf_add_symbol_hook): Likewise.
	(_bfd_mips_elf_link_output_symbol_hook): Likewise.
	(mips_elf_add_lo16_rel_addend): Likewise.
	(_bfd_mips_elf_check_relocs): Likewise.
	(mips_elf_adjust_addend): Likewise.
	(_bfd_mips_elf_relocate_section): Likewise.
	(mips_elf_create_la25_stub): Likewise.
	(_bfd_mips_vxworks_finish_dynamic_symbol): Likewise.
	(_bfd_mips_elf_gc_sweep_hook): Likewise.
	(_bfd_mips_elf_is_target_special_symbol): New function.
	(mips_elf_relax_delete_bytes): Likewise.
	(opcode_descriptor): New structure.
	(RA): New macro.
	(OP32_SREG, OP32_TREG, OP16_VALID_REG): Likewise.
	(b_insns_32, bc_insn_32, bz_insn_32, bzal_insn_32): New variables.
	(beq_insn_32): Likewise.
	(b_insn_16, bz_insn_16): New variables.
	(BZC32_REG_FIELD): New macro.
	(bz_rs_insns_32, bz_rt_insns_32): New variables.
	(bzc_insns_32, bz_insns_16):Likewise.
	(BZ16_REG, BZ16_REG_FIELD): New macros.
	(jal_insn_32_bd16, jal_insn_32_bd32): New variables.
	(jal_x_insn_32_bd32): Likewise.
	(j_insn_32, jalr_insn_32): Likewise.
	(ds_insns_32_bd16, ds_insns_32_bd32): Likewise.
	(jalr_insn_16_bd16, jalr_insn_16_bd32, jr_insn_16): Likewise.
	(JR16_REG): New macro.
	(ds_insns_16_bd16): New variable.
	(lui_insn): Likewise.
	(addiu_insn, addiupc_insn): Likewise.
	(ADDIUPC_REG_FIELD): New macro.
	(MOVE32_RD, MOVE32_RS): Likewise.
	(MOVE16_RD_FIELD, MOVE16_RS_FIELD): Likewise.
	(move_insns_32, move_insns_16): New variables.
	(nop_insn_32, nop_insn_16): Likewise.
	(MATCH): New macro.
	(find_match): New function.
	(check_br16_dslot, check_br32_dslot): Likewise.
	(check_br16, check_br32): Likewise.
	(IS_BITSIZE): New macro.
	(check_4byte_branch): New function.
	(_bfd_mips_elf_relax_section): Likewise.
	(_bfd_mips_elf_merge_private_bfd_data): Disallow linking MIPS16
	and microMIPS modules together.
	(_bfd_mips_elf_print_private_bfd_data):	Handle microMIPS ASE.
	* reloc.c (BFD_RELOC_MICROMIPS_7_PCREL_S1): New relocation.
	(BFD_RELOC_MICROMIPS_10_PCREL_S1): Likewise.
	(BFD_RELOC_MICROMIPS_16_PCREL_S1): Likewise.
	(BFD_RELOC_MICROMIPS_GPREL16): Likewise.
	(BFD_RELOC_MICROMIPS_JMP, BFD_RELOC_MICROMIPS_HI16): Likewise.
	(BFD_RELOC_MICROMIPS_HI16_S): Likewise.
	(BFD_RELOC_MICROMIPS_LO16): Likewise.
	(BFD_RELOC_MICROMIPS_LITERAL): Likewise.
	(BFD_RELOC_MICROMIPS_GOT16): Likewise.
	(BFD_RELOC_MICROMIPS_CALL16): Likewise.
	(BFD_RELOC_MICROMIPS_GOT_HI16): Likewise.
	(BFD_RELOC_MICROMIPS_GOT_LO16): Likewise.
	(BFD_RELOC_MICROMIPS_CALL_HI16): Likewise.
	(BFD_RELOC_MICROMIPS_CALL_LO16): Likewise.
	(BFD_RELOC_MICROMIPS_SUB): Likewise.
	(BFD_RELOC_MICROMIPS_GOT_PAGE): Likewise.
	(BFD_RELOC_MICROMIPS_GOT_OFST): Likewise.
	(BFD_RELOC_MICROMIPS_GOT_DISP): Likewise.
	(BFD_RELOC_MICROMIPS_HIGHEST): Likewise.
	(BFD_RELOC_MICROMIPS_HIGHER): Likewise.
	(BFD_RELOC_MICROMIPS_SCN_DISP): Likewise.
	(BFD_RELOC_MICROMIPS_JALR): Likewise.
	(BFD_RELOC_MICROMIPS_TLS_GD): Likewise.
	(BFD_RELOC_MICROMIPS_TLS_LDM): Likewise.
	(BFD_RELOC_MICROMIPS_TLS_DTPREL_HI16): Likewise.
	(BFD_RELOC_MICROMIPS_TLS_DTPREL_LO16): Likewise.
	(BFD_RELOC_MICROMIPS_TLS_GOTTPREL): Likewise.
	(BFD_RELOC_MICROMIPS_TLS_TPREL_HI16): Likewise.
	(BFD_RELOC_MICROMIPS_TLS_TPREL_LO16): Likewise.
	* bfd-in2.h: Regenerate.
	* libbfd.h: Regenerate.

binutils/
2011-02-25  Chao-ying Fu  <fu@@mips.com>
            Maciej W. Rozycki  <macro@@codesourcery.com>

	* readelf.c (get_machine_flags): Handle microMIPS ASE.
	(get_mips_symbol_other): Likewise.

gas/
2011-02-25  Maciej W. Rozycki  <macro@@codesourcery.com>
            Chao-ying Fu  <fu@@mips.com>
	    Richard Sandiford  <rdsandiford@@googlemail.com>

	* config/tc-mips.h (mips_segment_info): Add one bit for
	microMIPS.
	(TC_LABEL_IS_LOCAL): New macro.
	(mips_label_is_local): New prototype.
	* config/tc-mips.c (S0, S7): New macros.
	(emit_branch_likely_macro): New variable.
	(mips_set_options): Add micromips.
	(mips_opts): Initialise micromips to -1.
	(file_ase_micromips): New variable.
	(CPU_HAS_MICROMIPS): New macro.
	(hilo_interlocks): Set for microMIPS too.
	(gpr_interlocks): Likewise.
	(cop_interlocks): Likewise.
	(cop_mem_interlocks): Likewise.
	(HAVE_CODE_COMPRESSION): New macro.
	(micromips_op_hash): New variable.
	(micromips_nop16_insn, micromips_nop32_insn): New variables.
	(NOP_INSN): Handle microMIPS ASE.
	(mips32_to_micromips_reg_b_map): New macro.
	(mips32_to_micromips_reg_c_map): Likewise.
	(mips32_to_micromips_reg_d_map): Likewise.
	(mips32_to_micromips_reg_e_map): Likewise.
	(mips32_to_micromips_reg_f_map): Likewise.
	(mips32_to_micromips_reg_g_map): Likewise.
	(mips32_to_micromips_reg_l_map): Likewise.
	(mips32_to_micromips_reg_n_map): Likewise.
	(mips32_to_micromips_reg_h_map): New variable.
	(mips32_to_micromips_reg_m_map): Likewise.
	(mips32_to_micromips_reg_q_map): Likewise.
	(micromips_to_32_reg_h_map): New variable.
	(micromips_to_32_reg_i_map): Likewise.
	(micromips_to_32_reg_m_map): Likewise.
	(micromips_to_32_reg_q_map): Likewise.
	(micromips_to_32_reg_b_map): New macro.
	(micromips_to_32_reg_c_map): Likewise.
	(micromips_to_32_reg_d_map): Likewise.
	(micromips_to_32_reg_e_map): Likewise.
	(micromips_to_32_reg_f_map): Likewise.
	(micromips_to_32_reg_g_map): Likewise.
	(micromips_to_32_reg_l_map): Likewise.
	(micromips_to_32_reg_n_map): Likewise.
	(micromips_imm_b_map, micromips_imm_c_map): New macros.
	(RELAX_DELAY_SLOT_16BIT): New macro.
	(RELAX_DELAY_SLOT_SIZE_FIRST): Likewise.
	(RELAX_DELAY_SLOT_SIZE_SECOND): Likewise.
	(RELAX_MICROMIPS_ENCODE, RELAX_MICROMIPS_P): New macros.
	(RELAX_MICROMIPS_TYPE, RELAX_MICROMIPS_AT): Likewise.
	(RELAX_MICROMIPS_U16BIT, RELAX_MICROMIPS_UNCOND): Likewise.
	(RELAX_MICROMIPS_COMPACT, RELAX_MICROMIPS_LINK): Likewise.
	(RELAX_MICROMIPS_RELAX32, RELAX_MICROMIPS_TOOFAR16): Likewise.
	(RELAX_MICROMIPS_MARK_TOOFAR16): Likewise.
	(RELAX_MICROMIPS_CLEAR_TOOFAR16): Likewise.
	(RELAX_MICROMIPS_TOOFAR32): Likewise.
	(RELAX_MICROMIPS_MARK_TOOFAR32): Likewise.
	(RELAX_MICROMIPS_CLEAR_TOOFAR32): Likewise.
	(INSERT_OPERAND, EXTRACT_OPERAND): Handle microMIPS ASE.
	(mips_macro_warning): Add delay_slot_16bit_p, delay_slot_32bit_p,
	fsize and insns.
	(mips_mark_labels): New function.
	(mips16_small, mips16_ext): Remove variables, replacing with...
	(forced_insn_size): ... this.
	(append_insn, mips16_ip): Update accordingly.
	(micromips_insn_length): New function.
	(insn_length): Return the length of microMIPS instructions.
	(mips_record_mips16_mode): Rename to...
	(mips_record_compressed_mode): ... this.  Handle microMIPS ASE.
	(install_insn): Handle microMIPS ASE.
	(reglist_lookup): New function.
	(is_size_valid, is_delay_slot_valid): Likewise.
	(md_begin): Handle microMIPS ASE.
	(md_assemble): Likewise.  Update for append_insn interface change.
	(micromips_reloc_p): New function.
	(got16_reloc_p): Handle microMIPS ASE.
	(hi16_reloc_p): Likewise.
	(lo16_reloc_p): Likewise.
	(jmp_reloc_p): New function.
	(jalr_reloc_p): Likewise.
	(matching_lo_reloc): Handle microMIPS ASE.
	(insn_uses_reg, reg_needs_delay): Likewise.
	(mips_move_labels): Likewise.
	(mips16_mark_labels): Rename to...
	(mips_compressed_mark_labels): ... this.  Handle microMIPS ASE.
	(gpr_mod_mask): New function.
	(gpr_read_mask, gpr_write_mask): Handle microMIPS ASE.
	(fpr_read_mask, fpr_write_mask): Likewise.
	(insns_between, nops_for_vr4130, nops_for_insn): Likewise.
	(fix_loongson2f_nop, fix_loongson2f_jump): Likewise.
	(MICROMIPS_LABEL_CHAR): New macro.
	(micromips_target_label, micromips_target_name): New variables.
	(micromips_label_name, micromips_label_expr): New functions.
	(micromips_label_inc, micromips_add_label): Likewise.
	(mips_label_is_local): Likewise.
	(micromips_map_reloc): Likewise.
	(can_swap_branch_p): Handle microMIPS ASE.
	(append_insn): Add expansionp argument.  Handle microMIPS ASE.
	(start_noreorder, end_noreorder): Handle microMIPS ASE.
	(macro_start, macro_warning, macro_end): Likewise.
	(brk_fmt, cop12_fmt, jalr_fmt, lui_fmt): New variables.
	(mem12_fmt, mfhl_fmt, shft_fmt, trap_fmt): Likewise.
	(BRK_FMT, COP12_FMT, JALR_FMT, LUI_FMT): New macros.
	(MEM12_FMT, MFHL_FMT, SHFT_FMT, TRAP_FMT): Likewise.
	(macro_build): Handle microMIPS ASE.  Update for append_insn
	interface change.
	(mips16_macro_build): Update for append_insn interface change.
	(macro_build_jalr): Handle microMIPS ASE.
	(macro_build_lui): Likewise.  Simplify.
	(load_register): Handle microMIPS ASE.
	(load_address): Likewise.
	(move_register): Likewise.
	(macro_build_branch_likely): New function.
	(macro_build_branch_ccl): Likewise.
	(macro_build_branch_rs): Likewise.
	(macro_build_branch_rsrt): Likewise.
	(macro): Handle microMIPS ASE.
	(validate_micromips_insn): New function.
	(expr_const_in_range): Likewise.
	(mips_ip): Handle microMIPS ASE.
	(options): Add OPTION_MICROMIPS and OPTION_NO_MICROMIPS.
	(md_longopts): Add mmicromips and mno-micromips.
	(md_parse_option): Handle OPTION_MICROMIPS and
	OPTION_NO_MICROMIPS.
	(mips_after_parse_args): Handle microMIPS ASE.
	(md_pcrel_from): Handle microMIPS relocations.
	(mips_force_relocation): Likewise.
	(md_apply_fix): Likewise.
	(mips_align): Handle microMIPS ASE.
	(s_mipsset): Likewise.
	(s_cpload, s_cpsetup, s_cpreturn): Use relocation wrappers.
	(s_dtprel_internal): Likewise.
	(s_gpword, s_gpdword): Likewise.
	(s_insn): Handle microMIPS ASE.
	(s_mips_stab): Likewise.
	(relaxed_micromips_32bit_branch_length): New function.
	(relaxed_micromips_16bit_branch_length): New function.
	(md_estimate_size_before_relax): Handle microMIPS ASE.
	(mips_fix_adjustable): Likewise.
	(tc_gen_reloc): Handle microMIPS relocations.
	(mips_relax_frag): Handle microMIPS ASE.
	(md_convert_frag): Likewise.
	(mips_frob_file_after_relocs): Likewise.
	(mips_elf_final_processing): Likewise.
	(mips_nop_opcode): Likewise.
	(mips_handle_align): Likewise.
	(md_show_usage): Handle microMIPS options.
	* symbols.c (TC_LABEL_IS_LOCAL): New macro.
	(S_IS_LOCAL): Add a TC_LABEL_IS_LOCAL check.

	* doc/as.texinfo (Target MIPS options): Add -mmicromips and
	-mno-micromips.
	(-mmicromips, -mno-micromips): New options.
	* doc/c-mips.texi (-mmicromips, -mno-micromips): New options.
	(MIPS ISA): Document .set micromips and .set nomicromips.
	(MIPS insn): Update for microMIPS support.

gas/testsuite/
2011-02-25  Maciej W. Rozycki  <macro@@codesourcery.com>
            Chao-ying Fu  <fu@@mips.com>
	    Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/micromips.d: New test.
	* gas/mips/micromips-branch-delay.d: Likewise.
	* gas/mips/micromips-branch-relax.d: Likewise.
	* gas/mips/micromips-branch-relax-pic.d: Likewise.
	* gas/mips/micromips-size-1.d: Likewise.
	* gas/mips/micromips-trap.d: Likewise.
	* gas/mips/micromips.l: New stderr output.
	* gas/mips/micromips-branch-delay.l: Likewise.
	* gas/mips/micromips-branch-relax.l: Likewise.
	* gas/mips/micromips-branch-relax-pic.l: Likewise.
	* gas/mips/micromips-size-0.l: New list test.
	* gas/mips/micromips-size-1.l: New stderr output.
	* gas/mips/micromips.s: New test source.
	* gas/mips/micromips-branch-delay.s: Likewise.
	* gas/mips/micromips-branch-relax.s: Likewise.
	* gas/mips/micromips-size-0.s: Likewise.
	* gas/mips/micromips-size-1.s: Likewise.
	* gas/mips/mips.exp: Run the new tests.

	* gas/mips/dli.s: Use .p2align.
	* gas/mips/elf_ase_micromips.d: New test.
	* gas/mips/elf_ase_micromips-2.d: Likewise.
	* gas/mips/micromips@@abs.d: Likewise.
	* gas/mips/micromips@@add.d: Likewise.
	* gas/mips/micromips@@alnv_ps-swap.d: Likewise.
	* gas/mips/micromips@@and.d: Likewise.
	* gas/mips/micromips@@beq.d: Likewise.
	* gas/mips/micromips@@bge.d: Likewise.
	* gas/mips/micromips@@bgeu.d: Likewise.
	* gas/mips/micromips@@blt.d: Likewise.
	* gas/mips/micromips@@bltu.d: Likewise.
	* gas/mips/micromips@@branch-likely.d: Likewise.
	* gas/mips/micromips@@branch-misc-1.d: Likewise.
	* gas/mips/micromips@@branch-misc-2-64.d: Likewise.
	* gas/mips/micromips@@branch-misc-2.d: Likewise.
	* gas/mips/micromips@@branch-misc-2pic-64.d: Likewise.
	* gas/mips/micromips@@branch-misc-2pic.d: Likewise.
	* gas/mips/micromips@@branch-misc-4-64.d: Likewise.
	* gas/mips/micromips@@branch-misc-4.d: Likewise.
	* gas/mips/micromips@@branch-self.d: Likewise.
	* gas/mips/micromips@@cache.d: Likewise.
	* gas/mips/micromips@@daddi.d: Likewise.
	* gas/mips/micromips@@dli.d: Likewise.
	* gas/mips/micromips@@elf-jal.d: Likewise.
	* gas/mips/micromips@@elf-rel2.d: Likewise.
	* gas/mips/micromips@@elfel-rel2.d: Likewise.
	* gas/mips/micromips@@elf-rel4.d: Likewise.
	* gas/mips/micromips@@jal-svr4pic.d: Likewise.
	* gas/mips/micromips@@jal-svr4pic-noreorder.d: Likewise.
	* gas/mips/micromips@@lb-svr4pic-ilocks.d: Likewise.
	* gas/mips/micromips@@li.d: Likewise.
	* gas/mips/micromips@@loc-swap-dis.d: Likewise.
	* gas/mips/micromips@@loc-swap.d: Likewise.
	* gas/mips/micromips@@mips1-fp.d: Likewise.
	* gas/mips/micromips@@mips32-cp2.d: Likewise.
	* gas/mips/micromips@@mips32-imm.d: Likewise.
	* gas/mips/micromips@@mips32-sf32.d: Likewise.
	* gas/mips/micromips@@mips32.d: Likewise.
	* gas/mips/micromips@@mips32r2-cp2.d: Likewise.
	* gas/mips/micromips@@mips32r2-fp32.d: Likewise.
	* gas/mips/micromips@@mips32r2-sync.d: Likewise.
	* gas/mips/micromips@@mips32r2.d: Likewise.
	* gas/mips/micromips@@mips4-branch-likely.d: Likewise.
	* gas/mips/micromips@@mips4-fp.d: Likewise.
	* gas/mips/micromips@@mips4.d: Likewise.
	* gas/mips/micromips@@mips5.d: Likewise.
	* gas/mips/micromips@@mips64-cp2.d: Likewise.
	* gas/mips/micromips@@mips64.d: Likewise.
	* gas/mips/micromips@@mips64r2.d: Likewise.
	* gas/mips/micromips@@pref.d: Likewise.
	* gas/mips/micromips@@relax-at.d: Likewise.
	* gas/mips/micromips@@relax.d: Likewise.
	* gas/mips/micromips@@rol-hw.d: Likewise.
	* gas/mips/micromips@@uld2-eb.d: Likewise.
	* gas/mips/micromips@@uld2-el.d: Likewise.
	* gas/mips/micromips@@ulh2-eb.d: Likewise.
	* gas/mips/micromips@@ulh2-el.d: Likewise.
	* gas/mips/micromips@@ulw2-eb-ilocks.d: Likewise.
	* gas/mips/micromips@@ulw2-el-ilocks.d: Likewise.
	* gas/mips/cache.d: Likewise.
	* gas/mips/daddi.d: Likewise.
	* gas/mips/mips32-imm.d: Likewise.
	* gas/mips/pref.d: Likewise.
	* gas/mips/elf-rel27.d: Handle microMIPS ASE.
	* gas/mips/l_d.d: Likewise.
	* gas/mips/l_d-n32.d: Likewise.
	* gas/mips/l_d-n64.d: Likewise.
	* gas/mips/ld.d: Likewise.
	* gas/mips/ld-n32.d: Likewise.
	* gas/mips/ld-n64.d: Likewise.
	* gas/mips/s_d.d: Likewise.
	* gas/mips/s_d-n32.d: Likewise.
	* gas/mips/s_d-n64.d: Likewise.
	* gas/mips/sd.d: Likewise.
	* gas/mips/sd-n32.d: Likewise.
	* gas/mips/sd-n64.d: Likewise.
	* gas/mips/mips32.d: Update immediates.
	* gas/mips/micromips@@mips32-cp2.s: New test source.
	* gas/mips/micromips@@mips32-imm.s: Likewise.
	* gas/mips/micromips@@mips32r2-cp2.s: Likewise.
	* gas/mips/micromips@@mips64-cp2.s: Likewise.
	* gas/mips/cache.s: Likewise.
	* gas/mips/daddi.s: Likewise.
	* gas/mips/mips32-imm.s: Likewise.
	* gas/mips/elf-rel4.s: Handle microMIPS ASE.
	* gas/mips/lb-pic.s: Likewise.
	* gas/mips/ld.s: Likewise.
	* gas/mips/mips32.s: Likewise.
	* gas/mips/mips.exp: Add the micromips arch.  Exclude mips16e
	from micromips.  Run mips32-imm.

	* gas/mips/jal-mask-11.d: New test.
	* gas/mips/jal-mask-12.d: Likewise.
	* gas/mips/micromips@@jal-mask-11.d: Likewise.
	* gas/mips/jal-mask-1.s: Source for the new tests.
	* gas/mips/jal-mask-21.d: New test.
	* gas/mips/jal-mask-22.d: Likewise.
	* gas/mips/micromips@@jal-mask-12.d: Likewise.
	* gas/mips/jal-mask-2.s: Source for the new tests.
	* gas/mips/mips.exp: Run the new tests.

	* gas/mips/mips16-e.d: Add --special-syms to `objdump'.
	* gas/mips/tmips16-e.d: Likewise.
	* gas/mips/mipsel16-e.d: Likewise.
	* gas/mips/tmipsel16-e.d: Likewise.

	* gas/mips/and.s: Adjust padding.
	* gas/mips/beq.s: Likewise.
	* gas/mips/bge.s: Likewise.
	* gas/mips/bgeu.s: Likewise.
	* gas/mips/blt.s: Likewise.
	* gas/mips/bltu.s: Likewise.
	* gas/mips/branch-misc-2.s: Likewise.
	* gas/mips/jal.s: Likewise.
	* gas/mips/li.s: Likewise.
	* gas/mips/mips4.s: Likewise.
	* gas/mips/mips4-fp.s: Likewise.
	* gas/mips/relax.s: Likewise.
	* gas/mips/and.d: Update accordingly.
	* gas/mips/elf-jal.d: Likewise.
	* gas/mips/jal.d: Likewise.
	* gas/mips/li.d: Likewise.
	* gas/mips/relax-at.d: Likewise.
	* gas/mips/relax.d: Likewise.

include/elf/
2011-02-25  Chao-ying Fu  <fu@@mips.com>
            Maciej W. Rozycki  <macro@@codesourcery.com>

	* mips.h (R_MICROMIPS_min): New relocations.
	(R_MICROMIPS_26_S1): Likewise.
	(R_MICROMIPS_HI16, R_MICROMIPS_LO16): Likewise.
	(R_MICROMIPS_GPREL16, R_MICROMIPS_LITERAL): Likewise.
	(R_MICROMIPS_GOT16, R_MICROMIPS_PC7_S1): Likewise.
	(R_MICROMIPS_PC10_S1, R_MICROMIPS_PC16_S1): Likewise.
	(R_MICROMIPS_CALL16, R_MICROMIPS_GOT_DISP): Likewise.
	(R_MICROMIPS_GOT_PAGE, R_MICROMIPS_GOT_OFST): Likewise.
	(R_MICROMIPS_GOT_HI16, R_MICROMIPS_GOT_LO16): Likewise.
	(R_MICROMIPS_SUB, R_MICROMIPS_HIGHER): Likewise.
	(R_MICROMIPS_HIGHEST, R_MICROMIPS_CALL_HI16): Likewise.
	(R_MICROMIPS_CALL_LO16, R_MICROMIPS_SCN_DISP): Likewise.
	(R_MICROMIPS_JALR, R_MICROMIPS_HI0_LO16): Likewise.
	(R_MICROMIPS_TLS_GD, R_MICROMIPS_TLS_LDM): Likewise.
	(R_MICROMIPS_TLS_DTPREL_HI, R_MICROMIPS_TLS_DTPREL_LO): Likewise.
	(R_MICROMIPS_TLS_GOTTPREL): Likewise.
	(R_MICROMIPS_TLS_TPREL_HI16): Likewise.
	(R_MICROMIPS_TLS_TPREL_LO16): Likewise.
	(R_MICROMIPS_GPREL7_S2, R_MICROMIPS_PC23_S2): Likewise.
	(R_MICROMIPS_max): Likewise.
	(EF_MIPS_ARCH_ASE_MICROMIPS): New macro.
	(STO_MIPS_ISA, STO_MIPS_FLAGS): Likewise.
	(ELF_ST_IS_MIPS_PLT, ELF_ST_SET_MIPS_PLT): Likewise.
	(STO_MICROMIPS): Likewise.
	(ELF_ST_IS_MICROMIPS, ELF_ST_SET_MICROMIPS): Likewise.
	(ELF_ST_IS_COMPRESSED): Likewise.
	(STO_MIPS_PLT, STO_MIPS_PIC): Rework.
	(ELF_ST_IS_MIPS_PIC, ELF_ST_SET_MIPS_PIC): Likewise.
	(STO_MIPS16, ELF_ST_IS_MIPS16, ELF_ST_SET_MIPS16): Likewise.

include/opcode/
2011-02-25  Chao-ying Fu  <fu@@mips.com>
            Maciej W. Rozycki  <macro@@codesourcery.com>

	* mips.h (OP_MASK_EXTLSB, OP_SH_EXTLSB): New macros.
	(OP_MASK_STYPE, OP_SH_STYPE): Likewise.
	(OP_MASK_CODE10, OP_SH_CODE10): Likewise.
	(OP_MASK_TRAP, OP_SH_TRAP): Likewise.
	(OP_MASK_OFFSET12, OP_SH_OFFSET12): Likewise.
	(OP_MASK_OFFSET10, OP_SH_OFFSET10): Likewise.
	(OP_MASK_RS3, OP_SH_RS3): Likewise.
	(OP_MASK_MB, OP_SH_MB, OP_MASK_MC, OP_SH_MC): Likewise.
	(OP_MASK_MD, OP_SH_MD, OP_MASK_ME, OP_SH_ME): Likewise.
	(OP_MASK_MF, OP_SH_MF, OP_MASK_MG, OP_SH_MG): Likewise.
	(OP_MASK_MJ, OP_SH_MJ, OP_MASK_ML, OP_SH_ML): Likewise.
	(OP_MASK_MP, OP_SH_MP, OP_MASK_MQ, OP_SH_MQ): Likewise.
	(OP_MASK_IMMA, OP_SH_IMMA, OP_MASK_IMMB, OP_SH_IMMB): Likewise.
	(OP_MASK_IMMC, OP_SH_IMMC, OP_MASK_IMMF, OP_SH_IMMF): Likewise.
	(OP_MASK_IMMG, OP_SH_IMMG, OP_MASK_IMMH, OP_SH_IMMH): Likewise.
	(OP_MASK_IMMI, OP_SH_IMMI, OP_MASK_IMMJ, OP_SH_IMMJ): Likewise.
	(OP_MASK_IMML, OP_SH_IMML, OP_MASK_IMMM, OP_SH_IMMM): Likewise.
	(OP_MASK_IMMN, OP_SH_IMMN, OP_MASK_IMMO, OP_SH_IMMO): Likewise.
	(OP_MASK_IMMP, OP_SH_IMMP, OP_MASK_IMMQ, OP_SH_IMMQ): Likewise.
	(OP_MASK_IMMU, OP_SH_IMMU, OP_MASK_IMMW, OP_SH_IMMW): Likewise.
	(OP_MASK_IMMX, OP_SH_IMMX, OP_MASK_IMMY, OP_SH_IMMY): Likewise.
	(INSN_WRITE_GPR_S): New macro.
	(INSN2_BRANCH_DELAY_16BIT, INSN2_BRANCH_DELAY_32BIT): Likewise.
	(INSN2_READ_FPR_D): Likewise.
	(INSN2_MOD_GPR_MB, INSN2_MOD_GPR_MC): Likewise.
	(INSN2_MOD_GPR_MD, INSN2_MOD_GPR_ME): Likewise.
	(INSN2_MOD_GPR_MF, INSN2_MOD_GPR_MG): Likewise.
	(INSN2_MOD_GPR_MJ, INSN2_MOD_GPR_MP): Likewise.
	(INSN2_MOD_GPR_MQ, INSN2_MOD_SP): Likewise.
	(INSN2_READ_GPR_31, INSN2_READ_GP, INSN2_READ_PC): Likewise.
	(INSN2_UNCOND_BRANCH, INSN2_COND_BRANCH): Likewise.
	(INSN2_MOD_GPR_MHI, INSN2_MOD_GPR_MM, INSN2_MOD_GPR_MN): Likewise.
	(CPU_MICROMIPS): New macro.
	(M_BC1FL, M_BC1TL, M_BC2FL, M_BC2TL): New enum values.
	(M_BEQL, M_BGEZ, M_BGEZL, M_BGEZALL, M_BGTZ, M_BGTZL): Likewise.
	(M_BLEZ, M_BLEZL, M_BLTZ, M_BLTZL, M_BLTZALL, M_BNEL): Likewise.
	(M_CACHE_OB, M_JALS_1, M_JALS_2, M_JALS_A): Likewise.
	(M_LDC2_OB, M_LDL_OB, M_LDM_AB, M_LDM_OB): Likewise.
	(M_LDP_AB, M_LDP_OB, M_LDR_OB, M_LL_OB, M_LLD_OB): Likewise.
	(M_LWC2_OB, M_LWL_OB, M_LWM_AB, M_LWM_OB): Likewise.
	(M_LWP_AB, M_LWP_OB, M_LWR_OB): Likewise.
	(M_LWU_OB, M_PREF_OB, M_SC_OB, M_SCD_OB): Likewise.
	(M_SDC2_OB, M_SDL_OB, M_SDM_AB, M_SDM_OB): Likewise.
	(M_SDP_AB, M_SDP_OB, M_SDR_OB): Likewise.
	(M_SWC2_OB, M_SWL_OB, M_SWM_AB, M_SWM_OB): Likewise.
	(M_SWP_AB, M_SWP_OB, M_SWR_OB): Likewise.
	(MICROMIPSOP_MASK_MAJOR, MICROMIPSOP_SH_MAJOR): New macros.
	(MICROMIPSOP_MASK_IMMEDIATE, MICROMIPSOP_SH_IMMEDIATE): Likewise.
	(MICROMIPSOP_MASK_DELTA, MICROMIPSOP_SH_DELTA): Likewise.
	(MICROMIPSOP_MASK_CODE10, MICROMIPSOP_SH_CODE10): Likewise.
	(MICROMIPSOP_MASK_TRAP, MICROMIPSOP_SH_TRAP): Likewise.
	(MICROMIPSOP_MASK_SHAMT, MICROMIPSOP_SH_SHAMT): Likewise.
	(MICROMIPSOP_MASK_TARGET, MICROMIPSOP_SH_TARGET): Likewise.
	(MICROMIPSOP_MASK_EXTLSB, MICROMIPSOP_SH_EXTLSB): Likewise.
	(MICROMIPSOP_MASK_EXTMSBD, MICROMIPSOP_SH_EXTMSBD): Likewise.
	(MICROMIPSOP_MASK_INSMSB, MICROMIPSOP_SH_INSMSB): Likewise.
	(MICROMIPSOP_MASK_CODE, MICROMIPSOP_SH_CODE): Likewise.
	(MICROMIPSOP_MASK_CODE2, MICROMIPSOP_SH_CODE2): Likewise.
	(MICROMIPSOP_MASK_CACHE, MICROMIPSOP_SH_CACHE): Likewise.
	(MICROMIPSOP_MASK_SEL, MICROMIPSOP_SH_SEL): Likewise.
	(MICROMIPSOP_MASK_OFFSET12, MICROMIPSOP_SH_OFFSET12): Likewise.
	(MICROMIPSOP_MASK_3BITPOS, MICROMIPSOP_SH_3BITPOS): Likewise.
	(MICROMIPSOP_MASK_STYPE, MICROMIPSOP_SH_STYPE): Likewise.
	(MICROMIPSOP_MASK_OFFSET10, MICROMIPSOP_SH_OFFSET10): Likewise.
	(MICROMIPSOP_MASK_RS, MICROMIPSOP_SH_RS): Likewise.
	(MICROMIPSOP_MASK_RT, MICROMIPSOP_SH_RT): Likewise.
	(MICROMIPSOP_MASK_RD, MICROMIPSOP_SH_RD): Likewise.
	(MICROMIPSOP_MASK_FS, MICROMIPSOP_SH_FS): Likewise.
	(MICROMIPSOP_MASK_FT, MICROMIPSOP_SH_FT): Likewise.
	(MICROMIPSOP_MASK_FD, MICROMIPSOP_SH_FD): Likewise.
	(MICROMIPSOP_MASK_FR, MICROMIPSOP_SH_FR): Likewise.
	(MICROMIPSOP_MASK_RS3, MICROMIPSOP_SH_RS3): Likewise.
	(MICROMIPSOP_MASK_PREFX, MICROMIPSOP_SH_PREFX): Likewise.
	(MICROMIPSOP_MASK_BCC, MICROMIPSOP_SH_BCC): Likewise.
	(MICROMIPSOP_MASK_CCC, MICROMIPSOP_SH_CCC): Likewise.
	(MICROMIPSOP_MASK_COPZ, MICROMIPSOP_SH_COPZ): Likewise.
	(MICROMIPSOP_MASK_MB, MICROMIPSOP_SH_MB): Likewise.
	(MICROMIPSOP_MASK_MC, MICROMIPSOP_SH_MC): Likewise.
	(MICROMIPSOP_MASK_MD, MICROMIPSOP_SH_MD): Likewise.
	(MICROMIPSOP_MASK_ME, MICROMIPSOP_SH_ME): Likewise.
	(MICROMIPSOP_MASK_MF, MICROMIPSOP_SH_MF): Likewise.
	(MICROMIPSOP_MASK_MG, MICROMIPSOP_SH_MG): Likewise.
	(MICROMIPSOP_MASK_MH, MICROMIPSOP_SH_MH): Likewise.
	(MICROMIPSOP_MASK_MI, MICROMIPSOP_SH_MI): Likewise.
	(MICROMIPSOP_MASK_MJ, MICROMIPSOP_SH_MJ): Likewise.
	(MICROMIPSOP_MASK_ML, MICROMIPSOP_SH_ML): Likewise.
	(MICROMIPSOP_MASK_MM, MICROMIPSOP_SH_MM): Likewise.
	(MICROMIPSOP_MASK_MN, MICROMIPSOP_SH_MN): Likewise.
	(MICROMIPSOP_MASK_MP, MICROMIPSOP_SH_MP): Likewise.
	(MICROMIPSOP_MASK_MQ, MICROMIPSOP_SH_MQ): Likewise.
	(MICROMIPSOP_MASK_IMMA, MICROMIPSOP_SH_IMMA): Likewise.
	(MICROMIPSOP_MASK_IMMB, MICROMIPSOP_SH_IMMB): Likewise.
	(MICROMIPSOP_MASK_IMMC, MICROMIPSOP_SH_IMMC): Likewise.
	(MICROMIPSOP_MASK_IMMD, MICROMIPSOP_SH_IMMD): Likewise.
	(MICROMIPSOP_MASK_IMME, MICROMIPSOP_SH_IMME): Likewise.
	(MICROMIPSOP_MASK_IMMF, MICROMIPSOP_SH_IMMF): Likewise.
	(MICROMIPSOP_MASK_IMMG, MICROMIPSOP_SH_IMMG): Likewise.
	(MICROMIPSOP_MASK_IMMH, MICROMIPSOP_SH_IMMH): Likewise.
	(MICROMIPSOP_MASK_IMMI, MICROMIPSOP_SH_IMMI): Likewise.
	(MICROMIPSOP_MASK_IMMJ, MICROMIPSOP_SH_IMMJ): Likewise.
	(MICROMIPSOP_MASK_IMML, MICROMIPSOP_SH_IMML): Likewise.
	(MICROMIPSOP_MASK_IMMM, MICROMIPSOP_SH_IMMM): Likewise.
	(MICROMIPSOP_MASK_IMMN, MICROMIPSOP_SH_IMMN): Likewise.
	(MICROMIPSOP_MASK_IMMO, MICROMIPSOP_SH_IMMO): Likewise.
	(MICROMIPSOP_MASK_IMMP, MICROMIPSOP_SH_IMMP): Likewise.
	(MICROMIPSOP_MASK_IMMQ, MICROMIPSOP_SH_IMMQ): Likewise.
	(MICROMIPSOP_MASK_IMMU, MICROMIPSOP_SH_IMMU): Likewise.
	(MICROMIPSOP_MASK_IMMW, MICROMIPSOP_SH_IMMW): Likewise.
	(MICROMIPSOP_MASK_IMMX, MICROMIPSOP_SH_IMMX): Likewise.
	(MICROMIPSOP_MASK_IMMY, MICROMIPSOP_SH_IMMY): Likewise.
	(MICROMIPSOP_MASK_CODE, MICROMIPSOP_SH_CODE): Likewise.
	(MICROMIPSOP_MASK_CODE2, MICROMIPSOP_SH_CODE2): Likewise.
	(MICROMIPSOP_MASK_CACHE, MICROMIPSOP_SH_CACHE): Likewise.
	(MICROMIPSOP_MASK_CODE20, MICROMIPSOP_SH_CODE20): Likewise.
	(MICROMIPSOP_MASK_PERFREG, MICROMIPSOP_SH_PERFREG): Likewise.
	(MICROMIPSOP_MASK_CODE19, MICROMIPSOP_SH_CODE19): Likewise.
	(MICROMIPSOP_MASK_ALN, MICROMIPSOP_SH_ALN): Likewise.
	(MICROMIPSOP_MASK_VECBYTE, MICROMIPSOP_SH_VECBYTE): Likewise.
	(MICROMIPSOP_MASK_VECALIGN, MICROMIPSOP_SH_VECALIGN): Likewise.
	(MICROMIPSOP_MASK_DSPACC, MICROMIPSOP_SH_DSPACC): Likewise.
	(MICROMIPSOP_MASK_DSPACC_S, MICROMIPSOP_SH_DSPACC_S): Likewise.
	(MICROMIPSOP_MASK_DSPSFT, MICROMIPSOP_SH_DSPSFT): Likewise.
	(MICROMIPSOP_MASK_DSPSFT_7, MICROMIPSOP_SH_DSPSFT_7): Likewise.
	(MICROMIPSOP_MASK_SA3, MICROMIPSOP_SH_SA3): Likewise.
	(MICROMIPSOP_MASK_SA4, MICROMIPSOP_SH_SA4): Likewise.
	(MICROMIPSOP_MASK_IMM8, MICROMIPSOP_SH_IMM8): Likewise.
	(MICROMIPSOP_MASK_IMM10, MICROMIPSOP_SH_IMM10): Likewise.
	(MICROMIPSOP_MASK_WRDSP, MICROMIPSOP_SH_WRDSP): Likewise.
	(MICROMIPSOP_MASK_RDDSP, MICROMIPSOP_SH_RDDSP): Likewise.
	(MICROMIPSOP_MASK_BP, MICROMIPSOP_SH_BP): Likewise.
	(MICROMIPSOP_MASK_MT_U, MICROMIPSOP_SH_MT_U): Likewise.
	(MICROMIPSOP_MASK_MT_H, MICROMIPSOP_SH_MT_H): Likewise.
	(MICROMIPSOP_MASK_MTACC_T, MICROMIPSOP_SH_MTACC_T): Likewise.
	(MICROMIPSOP_MASK_MTACC_D, MICROMIPSOP_SH_MTACC_D): Likewise.
	(MICROMIPSOP_MASK_BBITIND, MICROMIPSOP_SH_BBITIND): Likewise.
	(MICROMIPSOP_MASK_CINSPOS, MICROMIPSOP_SH_CINSPOS): Likewise.
	(MICROMIPSOP_MASK_CINSLM1, MICROMIPSOP_SH_CINSLM1): Likewise.
	(MICROMIPSOP_MASK_SEQI, MICROMIPSOP_SH_SEQI): Likewise.
	(micromips_opcodes): New declaration.
	(bfd_micromips_num_opcodes): Likewise.

ld/testsuite/
2011-02-25  Catherine Moore  <clm@@codesourcery.com>
            Chao-ying Fu  <fu@@mips.com>
            Maciej W. Rozycki  <macro@@codesourcery.com>

	* lib/ld-lib.exp (run_dump_test): Support distinct assembler
	flags for the same source named multiple times.
	* ld-mips-elf/jalx-1.s: New test source.
	* ld-mips-elf/jalx-1.d: New test output.
	* ld-mips-elf/jalx-1.ld: New test linker script.
	* ld-mips-elf/jalx-2-main.s: New test source.
	* ld-mips-elf/jalx-2-ex.s: Likewise.
	* ld-mips-elf/jalx-2-printf.s: Likewise.
	* ld-mips-elf/jalx-2.dd: New test output.
	* ld-mips-elf/jalx-2.ld: New test linker script.
	* ld-mips-elf/mips16-and-micromips.d: New test.
	* ld-mips-elf/mips-elf.exp: Run the new tests

opcodes/
2011-02-25  Chao-ying Fu  <fu@@mips.com>
            Maciej W. Rozycki  <macro@@codesourcery.com>

	* micromips-opc.c: New file.
	* mips-dis.c (micromips_to_32_reg_b_map): New array.
	(micromips_to_32_reg_c_map, micromips_to_32_reg_d_map): Likewise.
	(micromips_to_32_reg_e_map, micromips_to_32_reg_f_map): Likewise.
	(micromips_to_32_reg_g_map, micromips_to_32_reg_l_map): Likewise.
	(micromips_to_32_reg_q_map): Likewise.
	(micromips_imm_b_map, micromips_imm_c_map): Likewise.
	(micromips_ase): New variable.
	(is_micromips): New function.
	(set_default_mips_dis_options): Handle microMIPS ASE.
	(print_insn_micromips): New function.
	(is_compressed_mode_p): Likewise.
	(_print_insn_mips): Handle microMIPS instructions.
	* Makefile.am (CFILES): Add micromips-opc.c.
	* configure.in (bfd_mips_arch): Add micromips-opc.lo.
	* Makefile.in: Regenerate.
	* configure: Regenerate.

	* mips-dis.c (micromips_to_32_reg_h_map): New variable.
	(micromips_to_32_reg_i_map): Likewise.
	(micromips_to_32_reg_m_map): Likewise.
	(micromips_to_32_reg_n_map): New macro.
@
text
@d1 5
@


1.1930
log
@Add initial Intel K1OM support.

bfd/

2011-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (ALL_MACHINES): Add cpu-k1om.lo.
	(ALL_MACHINES_CFILES): Add cpu-k1om.c.
	* Makefile.in: Regenerated.

	* archures.c (bfd_architecture): Add bfd_arch_k1om.
	(bfd_k1om_arch): New.
	(bfd_archures_list): Add &bfd_k1om_arch.
	* bfd-in2.h: Regenerated.

	* config.bfd (targ64_selvecs): Add bfd_elf64_k1om_vec if
	bfd_elf64_x86_64_vec is supported.  Add bfd_elf64_k1om_freebsd_vec
	if bfd_elf64_x86_64_freebsd_vec is supported.
	(targ_selvecs): Likewise.

	* configure.in: Support bfd_elf64_k1om_vec and
	bfd_elf64_k1om_freebsd_vec.
	* configure: Regenerated.

	* cpu-k1om.c: New.

	* elf64-x86-64.c (elf64_k1om_elf_object_p): New.
	(bfd_elf64_k1om_vec): Likewise.
	(bfd_elf64_k1om_freebsd_vec): Likewise.

	* targets.c (bfd_elf64_k1om_vec): New.
	(bfd_elf64_k1om_freebsd_vec): Likewise.
	(_bfd_target_vector): Add bfd_elf64_k1om_vec and
	bfd_elf64_k1om_freebsd_vec.

binutils/

2011-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* dwarf.c (init_dwarf_regnames): Handle EM_K1OM.

	* elfedit.c (elf_machine): Support EM_K1OM.
	(elf_class): Likewise.

	* readelf.c (guess_is_rela): Handle EM_K1OM.
	(dump_relocations): Likewise.
	(get_machine_name): Likewise.
	(get_section_type_name): Likewise.
	(get_elf_section_flags): Likewise.
	(process_section_headers): Likewise.
	(get_symbol_index_type): Likewise.
	(is_32bit_abs_reloc): Likewise.
	(is_32bit_pcrel_reloc): Likewise.
	(is_64bit_abs_reloc): Likewise.
	(is_64bit_pcrel_reloc): Likewise.
	(is_none_reloc): Likewise.

	* doc/binutils.texi: Mention K1OM for elfedit.

binutils/testsuite/

2011-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/elfedit.exp: Run elfedit-4.

	* binutils-all/elfedit-4.d: New.

gas/

2011-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (cpu_arch): Add k1om.
	(i386_align_code): Handle PROCESSOR_K1OM.
	(check_cpu_arch_compatible): Check EM_K1OM.
	(i386_arch): Handle Intel K1OM.
	(i386_mach): Return bfd_mach_k1om for Intel K1OM.
	(i386_target_format): Return ELF_TARGET_K1OM_FORMAT for Intel
	K1OM.

	* config/tc-i386.h (ELF_TARGET_K1OM_FORMAT): New.
	(processor_type): Add PROCESSOR_K1OM.

	* doc/c-i386.texi: Document k1om.

gas/testsuite/

2011-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/k1om.d: New.
	* gas/i386/k1om-inval.l: Likewise.
	* gas/i386/k1om-inval.s: Likewise.

	* gas/i386/i386.exp: Run k1om-inval and k1om.

include/elf/

2011-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* common.h (EM_K1OM): New.

ld/

2011-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (ALL_64_EMULATIONS): Add eelf_k1om.o and
	eelf_k1om_fbsd.o
	(eelf_k1om.c): New.
	(eelf_k1om_fbsd.c): Likewise.
	* Makefile.in: Regenerated.

	* configure.tgt (targ64_extra_emuls): Add elf_k1om if elf_x86_64
	is supported.  Add elf_k1om_fbsd if elf_x86_64_fbsd is supported.
	(targ_extra_emuls): Likewise.

	* emulparams/elf_k1om.sh: New.
	* emulparams/elf_k1om_fbsd.sh: Likewise.

ld/testsuite/

2011-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* ld-x86-64/abs-k1om.d: New.
	* ld-x86-64/protected2-k1om.d: Likewise.
	* ld-x86-64/protected3-k1om.d: Likewise.

	* ld-x86-64/x86-64.exp: Run abs-k1om, protected2-k1om and
	protected3-k1om.

opcodes/

2011-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* configure.in: Handle bfd_k1om_arch.
	* configure: Regenerated.

	* disassemble.c (disassembler): Handle bfd_k1om_arch.

	* i386-dis.c (print_insn): Handle bfd_mach_k1om and
	bfd_mach_k1om_intel_syntax.

	* i386-gen.c (cpu_flag_init): Set CPU_UNKNOWN_FLAGS to
	~(CpuL1OM|CpuK1OM).  Add CPU_K1OM_FLAGS.
	(cpu_flags): Add CpuK1OM.

	* i386-opc.h (CpuK1OM): New.
	(i386_cpu_flags): Add cpuk1om.

	* i386-init.h: Regenerated.
	* i386-tbl.h: Likewise.
@
text
@d1 149
@


1.1929
log
@	gas/
	* config/tc-mips.c (append_insn): Make sure DWARF-2 location
	information is properly adjusted for branches that get swapped.

	gas/testsuite/
	* gas/mips/loc-swap.d: New test case for DWARF-2 location with
	branch swapping.
	* gas/mips/loc-swap-dis.d: Likewise.
	* gas/mips/mips16@@loc-swap.d: Likewise, MIPS16 version.
	* gas/mips/mips16@@loc-swap-dis.d: Likewise.
	* gas/mips/loc-swap.s: Source for the new tests.
	* gas/mips/mips.exp: Run the new tests.
@
text
@d1 8
@


1.1928
log
@Fix rorx in BMI2.

gas/testsuite/

2011-06-30  H.J. Lu  <hongjiu.lu@@intel.com>

	AVX Programming Reference (June, 2011)
	* gas/i386/bmi2.s: Correct rorx tests.
	* gas/i386/x86-64-bmi2.s: Likewise.

	* gas/i386/bmi2-intel.d: Updated.
	* gas/i386/bmi2.d: Likewise.
	* gas/i386/x86-64-bmi2-intel.d: Likewise.
	* gas/i386/x86-64-bmi2.d: Likewise.

opcodes/

2011-06-30  H.J. Lu  <hongjiu.lu@@intel.com>

	AVX Programming Reference (June, 2011)
	* i386-dis.c (vex_len_table): Correct rorxS.

	* i386-opc.tbl: Correct rorx.
	* i386-tbl.h: Regenerated.
@
text
@d1 10
@


1.1927
log
@	* gas/arm/addthumb2err.s: New test file.
	* gas/arm/addthumb2err.d: Test control file.
	* gas/arm/addthumb2err.l: Expected error messages.

	* config/tc-arm.c (do_t_add_sub): Only allow LSL shifts of less
	than 4 in Thumb mode.
@
text
@d1 11
@


1.1926
log
@	PR gas/12931
	* gas/arm/blx-bad.d: Add exrta nop at end of disassembly.
	* gas/arm/inst-po-be.d: Add exrta nop at end of disassembly.
	* gas/arm/inst-po.d: Add exrta nop at end of disassembly.
@
text
@d1 6
@


1.1925
log
@	PR 12848
	* gas/arm/thumb-b-bad.s: New test.
	* gas/arm/thumb-b-bad.d: Test control file.
	* gas/arm/thumb-b-bad.l: Expected error output.
@
text
@d3 8
a10 1
	PR 12848
@


1.1924
log
@gas/
	* config/tc-mips.c (insn_uses_reg): Delete.
	(gpr_read_mask, gpr_write_mask): New functions.
	(fpr_read_mask, fpr_write_mask): Likewise.
	(insns_between, nops_for_vr4130, append_insn): Use them.

gas/testsuite/
	* gas/mips/mips16-e.d, gas/mips/mips16-f.d,
	gas/mips/mipsel16-e.d, gas/mips/mipsel16-f.d,
	gas/mips/tmips16-e.d, gas/mips/tmips16-f.d,
	gas/mips/tmipsel16-e.d, gas/mips/tmipsel16-f.d: Fix GPR mask.
	* gas/mips/reginfo-1.s, gas/mips/reginfo-1a.d,
	gas/mips/reginfo-1b.d: New tests.
	* gas/mips/mips.exp: Run them.
@
text
@d1 7
@


1.1923
log
@gas/
	* config/tc-mips.c (md_mips_end): Call mips_emit_delays.

gas/testsuite/
	* gas/mips/24k-triple-stores-9.d: Add -z to dump options and
	explicitly match one nop.
	* gas/mips/24k-triple-stores-10.d: Likewise.
	* gas/mips/24k-triple-stores-11.d: Likewise.
	* gas/mips/lifloat.d: Likewise.
	* gas/mips/trunc.d: Likewise 1 extra nop.
	* gas/mips/vr4111.d: Likewise 2 nops.
@
text
@d3 10
@


1.1922
log
@Remove previous patch, committed in error.
@
text
@d1 10
@


1.1921
log
@gas/
	* config/tc-mips.c (insn_uses_reg): Delete.
	(gpr_read_mask, gpr_write_mask): New functions.
	(fpr_read_mask, fpr_write_mask): Likewise.
	(insns_between, nops_for_vr4130, append_insn): Use them.

gas/testsuite/
	* gas/mips/mips16-e.d, gas/mips/mips16-f.d,
	gas/mips/mipsel16-e.d, gas/mips/mipsel16-f.d,
	gas/mips/tmips16-e.d, gas/mips/tmips16-f.d,
	gas/mips/tmipsel16-e.d, gas/mips/tmipsel16-f.d: Fix GPR mask.
@
text
@a2 7
	* gas/mips/mips16-e.d, gas/mips/mips16-f.d,
	gas/mips/mipsel16-e.d, gas/mips/mipsel16-f.d,
	gas/mips/tmips16-e.d, gas/mips/tmips16-f.d,
	gas/mips/tmipsel16-e.d, gas/mips/tmipsel16-f.d: Fix GPR mask.

2011-06-26  Richard Sandiford  <rdsandiford@@googlemail.com>

@


1.1920
log
@gas/
	* config/tc-mips.c (fix_24k_record_store_info): If the previous
	instruction was a store, and the next instructions are unknown,
	assume the worst.

gas/testsuite/
	* gas/mips/24k-branch-delay-1.d: Do not allow stores to be put
	into delay slots.
	* gas/mips/24k-triple-stores-1.d: Put the first nop after the
	second store, rather than the first.
	* gas/mips/24k-triple-stores-2.d: Likewise.
	* gas/mips/24k-triple-stores-4.d: Likewise.
	* gas/mips/24k-triple-stores-8.d: Likewise.
	* gas/mips/24k-triple-stores-3.d: Remove first nop.
	* gas/mips/24k-triple-stores-5.d: Likewise.
	* gas/mips/24k-triple-stores-6.d: Likewise.
	* gas/mips/24k-triple-stores-7.d: Likewise.
	* gas/mips/24k-triple-stores-9.d: Add a nop after the second store.
	Expect a nop at the end.
	* gas/mips/24k-triple-stores-10.d: Put the first nop after the
	second store, rather than the first.  Expect a nop at the end.
@
text
@d3 7
@


1.1919
log
@gas/
	PR gas/12915
	* config/tc-mips.c (nops_for_vr4130, nops_for_24k, nops_for_insn)
	(nops_for_sequence, nops_for_insn_or_target): Add ignore parameters.
	(mips_emit_delays, start_noreorder): Update accordingly.
	(append_insn): Likewise.  Revert original fix for this PR
	and use the ignore parameter instead.

gas/testsuite/
	* gas/mips/vr4130.s: Add some more ".set noreorder" tests.
	* gas/mips/vr4130.d: Update accordingly.
@
text
@d1 18
@


1.1918
log
@gas/
	PR gas/12915
	* config/tc-mips.c (append_insn): Only consider hazards between the
	pre-noreorder block and ip.

gas/testsuite/
	* gas/mips/pr12915.s, gas/mips/pr12915.d: New test.
	* gas/mips/mips.exp: Run it.
@
text
@d1 5
@


1.1917
log
@2011-06-21  Sameera Deshpande  <sameera.deshpande@@arm.com>
	* gas/config/tc-arm.c (vfp_conv): Add check on range of immediate operand
	in vcvt instruction between floating-point and fixed-point.
	(operand_parse_code): Add "OP_oI32z".
	(parse_operands): OP_oI32z case added.
	* gas/testsuite/gas/arm/vcvt-bad.d: New test.
	* gas/testsuite/gas/arm/vcvt-bad.l: Likewise.
	* gas/testsuite/gas/arm/vcvt-bad.s: Likewise.
	* gas/testsuite/gas/arm/vcvt.d: Likewise.
	* gas/testsuite/gas/arm/vcvt.s: Likewise.
@
text
@d1 5
@


1.1916
log
@gas/
2011-06-14  Tristan Gingold  <gingold@@adacore.com>

	* config/tc-ppc.h (struct ppc_tc_sy): Complete comment on within.
	(tc_new_dot_label): Define.
	(ppc_new_dot_label): Declare.
	* config/tc-ppc.c (ppc_frob_label): Set within target field.
	(ppc_fix_adjustable): Use this field to adjust the reloc.
	(ppc_new_dot_label): New function.


gas/testsuite/
2011-06-14  Tristan Gingold  <gingold@@adacore.com>

	* gas/ppc/test1xcoff32.d: Adjust for csect anchor.
@
text
@d1 8
@


1.1915
log
@    * Makefile.am (ALL_MACHINES): Add cpu-tilegx.lo and cpu-tilepro.lo.
    (ALL_MACHINE_CFILES): Add cpu-tilegx.c and cpu-tilepro.c.
    (BFD32_BACKENDS): Add elf32-tilegx.lo, elf32-tilepro.lo,
    and elfxx-tilegx.lo.
    (BFD32_BACKENDS_CFILES): Add elf32-tilegx.c elf32-tilepro.c, and
    elfxx-tilegx.c.
    (BFD64_BACKENDS): Add elf64-tilegx.lo.
    (BFD64_BACKENDS_CFILES): Add elf64-tilegx.c.
    * Makefile.in: Regenerate.
    * arctures.c (bfd_architecture): Define bfd_arch_tilepro,
    bfd_arch_tilegx, bfd_mach_tilepro, bfd_mach_tilegx.
    (bfd_arch_info): Add bfd_tilegx_arch, bfd_tilepro_arch.
    (bfd_archures_list): Add bfd_tilegx_arch, bfd_tilepro_arch.
    bfd-in2.h: Regenerate.
    * config.bfd: Handle tilegx-*-* and tilepro-*-*.
    * configure.in: Handle bfd_elf32_tilegx_vec, bfd_elf32_tilepro_vec,
    and bfd_elf64_tilegx_vec.
    * configure: Regenerate.
    * elf-bfd.h (enum elf_target_id): Define TILEGX_ELF_DATA and
    TILEPRO_ELF_DATA.
    * libbfd.h: Regenerate.
    * reloc.c: Add BFD_RELOC_TILEPRO_{COPY, GLOB_DAT, JMP_SLOT,
    RELATIVE, BROFF_X1, JOFFLONG_X1, JOFFLONG_X1_PLT, IMM8_X0,
    IMM8_Y0, IMM8_X1, IMM8_Y1, DEST_IMM8_X1, MT_IMM15_X1, MF_IMM15_X1,
    IMM16_X0, IMM16_X1, IMM16_X0_LO, IMM16_X1_LO, IMM16_X0_HI,
    IMM16_X1_HI, IMM16_X0_HA, IMM16_X1_HA, IMM16_X0_PCREL,
    IMM16_X1_PCREL, IMM16_X0_LO_PCREL, IMM16_X1_LO_PCREL,
    IMM16_X0_HI_PCREL, IMM16_X1_HI_PCREL, IMM16_X0_HA_PCREL,
    IMM16_X1_HA_PCREL, IMM16_X0_GOT, IMM16_X1_GOT, IMM16_X0_GOT_LO,
    IMM16_X1_GOT_LO, IMM16_X0_GOT_HI, IMM16_X1_GOT_HI,
    IMM16_X0_GOT_HA, IMM16_X1_GOT_HA, MMSTART_X0, MMEND_X0,
    MMSTART_X1, MMEND_X1, SHAMT_X0, SHAMT_X1, SHAMT_Y0, SHAMT_Y1,
    IMM16_X0_TLS_GD, IMM16_X1_TLS_GD, IMM16_X0_TLS_GD_LO,
    IMM16_X1_TLS_GD_LO, IMM16_X0_TLS_GD_HI, IMM16_X1_TLS_GD_HI,
    IMM16_X0_TLS_GD_HA, IMM16_X1_TLS_GD_HA, IMM16_X0_TLS_IE,
    IMM16_X1_TLS_IE, IMM16_X0_TLS_IE_LO, IMM16_X1_TLS_IE_LO,
    IMM16_X0_TLS_IE_HI, IMM16_X1_TLS_IE_HI, IMM16_X0_TLS_IE_HA,
    IMM16_X1_TLS_IE_HA, TLS_DTPMOD32, TLS_DTPOFF32, TLS_TPOFF32}
    Add BFD_RELOC_TILEGX_{HW0, HW1, HW2, HW3, HW0_LAST, HW1_LAST,
    HW2_LAST, COPY, GLOB_DAT, JMP_SLOT, RELATIVE, BROFF_X1,
    JUMPOFF_X1, JUMPOFF_X1_PLT, IMM8_X0, IMM8_Y0, IMM8_X1, IMM8_Y1,
    DEST_IMM8_X1, MT_IMM14_X1, MF_IMM14_X1, MMSTART_X0, MMEND_X0,
    SHAMT_X0, SHAMT_X1, SHAMT_Y0, SHAMT_Y1, IMM16_X0_HW0,
    IMM16_X1_HW0, IMM16_X0_HW1, IMM16_X1_HW1, IMM16_X0_HW2,
    IMM16_X1_HW2, IMM16_X0_HW3, IMM16_X1_HW3, IMM16_X0_HW0_LAST,
    IMM16_X1_HW0_LAST, IMM16_X0_HW1_LAST, IMM16_X1_HW1_LAST,
    IMM16_X0_HW2_LAST, IMM16_X1_HW2_LAST, IMM16_X0_HW0_PCREL,
    IMM16_X1_HW0_PCREL, IMM16_X0_HW1_PCREL, IMM16_X1_HW1_PCREL,
    IMM16_X0_HW2_PCREL, IMM16_X1_HW2_PCREL, IMM16_X0_HW3_PCREL,
    IMM16_X1_HW3_PCREL, IMM16_X0_HW0_LAST_PCREL,
    IMM16_X1_HW0_LAST_PCREL, IMM16_X0_HW1_LAST_PCREL,
    IMM16_X1_HW1_LAST_PCREL, IMM16_X0_HW2_LAST_PCREL,
    IMM16_X1_HW2_LAST_PCREL, IMM16_X0_HW0_GOT, IMM16_X1_HW0_GOT,
    IMM16_X0_HW1_GOT, IMM16_X1_HW1_GOT, IMM16_X0_HW2_GOT,
    IMM16_X1_HW2_GOT, IMM16_X0_HW3_GOT, IMM16_X1_HW3_GOT,
    IMM16_X0_HW0_LAST_GOT, IMM16_X1_HW0_LAST_GOT,
    IMM16_X0_HW1_LAST_GOT, IMM16_X1_HW1_LAST_GOT,
    IMM16_X0_HW2_LAST_GOT, IMM16_X1_HW2_LAST_GOT, IMM16_X0_HW0_TLS_GD,
    IMM16_X1_HW0_TLS_GD, IMM16_X0_HW1_TLS_GD, IMM16_X1_HW1_TLS_GD,
    IMM16_X0_HW2_TLS_GD, IMM16_X1_HW2_TLS_GD, IMM16_X0_HW3_TLS_GD,
    IMM16_X1_HW3_TLS_GD, IMM16_X0_HW0_LAST_TLS_GD,
    IMM16_X1_HW0_LAST_TLS_GD, IMM16_X0_HW1_LAST_TLS_GD,
    IMM16_X1_HW1_LAST_TLS_GD, IMM16_X0_HW2_LAST_TLS_GD,
    IMM16_X1_HW2_LAST_TLS_GD, IMM16_X0_HW0_TLS_IE,
    IMM16_X1_HW0_TLS_IE, IMM16_X0_HW1_TLS_IE, IMM16_X1_HW1_TLS_IE,
    IMM16_X0_HW2_TLS_IE, IMM16_X1_HW2_TLS_IE, IMM16_X0_HW3_TLS_IE,
    IMM16_X1_HW3_TLS_IE, IMM16_X0_HW0_LAST_TLS_IE,
    IMM16_X1_HW0_LAST_TLS_IE, IMM16_X0_HW1_LAST_TLS_IE,
    IMM16_X1_HW1_LAST_TLS_IE, IMM16_X0_HW2_LAST_TLS_IE,
    IMM16_X1_HW2_LAST_TLS_IE, TLS_DTPMOD64, TLS_DTPOFF64, TLS_TPOFF64,
    TLS_DTPMOD32, TLS_DTPOFF32, TLS_TPOFF32}
    * targets.c (bfd_elf32_tilegx_vec): Declare.
    (bfd_elf32_tilepro_vec): Declare.
    (bfd_elf64_tilegx_vec): Declare.
    (bfd_target_vector): Add bfd_elf32_tilegx_vec, bfd_elf32_tilepro_vec,
    and bfd_elf64_tilegx_vec.
    * cpu-tilegx.c: New file.
    * cpu-tilepro.c: New file.
    * elf32-tilepro.h: New file.
    * elf32-tilepro.c: New file.
    * elf32-tilegx.c: New file.
    * elf32-tilegx.h: New file.
    * elf64-tilegx.c: New file.
    * elf64-tilegx.h: New file.
    * elfxx-tilegx.c: New file.
    * elfxx-tilegx.h: New file.

	* Makefile.am (TARGET_CPU_CFILES): Add config/tc-tilegx.c and
	config/tc-tilepro.c.
	(TARGET_CPU_HFILES): Add config/tc-tilegx.h and
	config/tc-tilepro.h.
	* Makefile.in: Regenerate.
	* configure.tgt (tilepro-*-*): New.
	(tilegx-*-*): Likewise.
	* config/tc-tilegx.c: New file.
	* config/tc-tilegx.h: Likewise.
	* config/tc-tilepro.h: Likewise.
	* config/tc-tilepro.c: Likewise.
	* doc/Makefile.am (CPU_DOCS): Add c-tilegx.texi and
	c-tilepro.texi.
	* doc/Makefile.in: Regenerate.
	* doc/all.texi (TILEGX): Define.
	(TILEPRO): Define.
	* doc/as.texinfo: Add Tile-Gx and TILEPro documentation.  Include
	c-tilegx.texi and c-tilepro.texi.
	* doc/c-tilegx.texi: New.
	* doc/c-tilepro.texi: New.

        * gas/tilepro/t_constants.s: New file.
	* gas/tilepro/t_constants.d: Likewise.
	* gas/tilepro/t_insns.s: Likewise.
	* gas/tilepro/tilepro.exp: Likewise.
	* gas/tilepro/t_insns.d: Likewise.
	* gas/tilegx/tilegx.exp: Likewise.
	* gas/tilegx/t_insns.d: Likewise.
	* gas/tilegx/t_insns.s: Likewise.

	* dis-asm.h (print_insn_tilegx): Declare.
	(print_insn_tilepro): Likewise.

	* tilegx.h: New file.
	* tilepro.h: New file.

	* common.h: Add EM_TILEGX.
	* tilegx.h: New file.
	* tilepro.h: New file.

	* Makefile.am (ALL_EMULATION_SOURCES): Add eelf32tilegx.c and
	eelf32tilepro.c.
	(ALL_64_EMULATION_SOURCES): Add eelf64tilegx.c.
	(eelf32tilegx.c): New target.
	(eelf32tilepro.c): Likewise.
	(eelf64tilegx.c): Likewise.
	* Makefile.in: Regenerate.
	* configure.tgt: Handle tilegx-*-* and tilepro-*-*.
	* emulparams/elf32tilegx.sh: New file.
	* emulparams/elf64tilegx.sh: New file.
	* emulparams/elf32tilepro.sh: New file.

	* ld-elf/eh5.d: Don't run on tile*.
	* ld-srec/srec.exp: xfail on tile*.
	* ld-tilegx/external.s: New file.
	* ld-tilegx/reloc.d: New file.
	* ld-tilegx/reloc.s: New file.
	* ld-tilegx/tilegx.exp: New file.
	* ld-tilepro/external.s: New file.
	* ld-tilepro/reloc.d: New file.
	* ld-tilepro/reloc.s: New file.
	* ld-tilepro/tilepro.exp: New file.

	* Makefile.am (TARGET_LIBOPCODES_CFILES): Add tilegx-dis.c,
	tilegx-opc.c, tilepro-dis.c, and tilepro-opc.c.
	* Makefile.in: Regenerate.
	* configure.in: Handle bfd_tilegx_arch and bfd_tilepro_arch.
	* configure: Regenerate.
	* disassemble.c (disassembler): Add ARCH_tilegx and ARCH_tilepro.
	* po/POTFILES.in: Regenerate.
	* tilegx-dis.c: New file.
	* tilegx-opc.c: New file.
	* tilepro-dis.c: New file.
	* tilepro-opc.c: New file.
@
text
@d1 4
@


1.1914
log
@	PR gas/12854
	* gas/arm/shift-bad.s: New test.
	* gas/arm/shift-bad.l: Expcted error output.
	* gas/arm/shift-bad.s: New control file.

	* config/tc-arm.c (do_shift): Do not allow shift operations at the
	end of a register based shift insn.
	(do_t_shift): Likewise.
@
text
@d1 11
@


1.1913
log
@Update lzcnt testcases.

2011-06-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/arch-10-lzcnt.d: Updated.
	* gas/i386/x86-64-arch-2-lzcnt.d: Likewise.
@
text
@d1 7
@


1.1912
log
@Support AVX Programming Reference (June, 2011).

gas/

2011-06-10  H.J. Lu  <hongjiu.lu@@intel.com>

	AVX Programming Reference (June, 2011)
	* config/tc-i386.c (i386_error): Add invalid_vsib_address and
	unsupported_vector_index_register.
	(cpu_arch): Add .avx2, .bmi2, .lzcnt and .invpcid.
	(check_VecOperands): New.
	(match_template): Call check_VecOperands.  Handle
	invalid_vsib_address and unsupported_vector_index_register.
	(build_modrm_byte): Support VecSIB.  Check register-only source
	operand when two source operands are swapped.
	(i386_index_check): Allow Xmm/Ymm index registers.

	* doc/c-i386.texi: Document avx2/.avx2, bmi2/.bmi2, lzcnt/.lzcnt
	and invpcid./invpcid.

gas/testsuite/

2011-06-10  H.J. Lu  <hongjiu.lu@@intel.com>

	AVX Programming Reference (June, 2011)
	* gas/i386/arch-10-1.l: Updated.
	* gas/i386/arch-10-2.l: Likewise.
	* gas/i386/arch-10-3.l: Likewise.
	* gas/i386/arch-10-4.l: Likewise.

	* gas/i386/arch-10.s: Add LZCNT to comments.
	* gas/i386/x86-64-arch-2.s: Likewise.

	* gas/i386/arch-10-lzcnt.d: New.
	* gas/i386/avx-gather-intel.d: Likewise.
	* gas/i386/avx-gather.d: Likewise.
	* gas/i386/avx-gather.s: Likewise.
	* gas/i386/avx2-intel.d: Likewise.
	* gas/i386/avx2.d: Likewise.
	* gas/i386/avx2.s: Likewise
	* gas/i386/avx256int-intel.d: Likewise.
	* gas/i386/avx256int.d: Likewise.
	* gas/i386/avx256int.s: Likewise.
	* gas/i386/bmi2-intel.d: Likewise.
	* gas/i386/bmi2.d: Likewise.
	* gas/i386/bmi2.s: Likewise.
	* gas/i386/inval-invpcid.l:Likewise.
	* gas/i386/inval-invpcid.s: Likewise.
	* gas/i386/invpcid-intel.d: Likewise.
	* gas/i386/invpcid.d: Likewise.
	* gas/i386/invpcid.s: Likewise.
	* gas/i386/x86-64-arch-2-lzcnt.d: Likewise.
	* gas/i386/x86-64-avx-gather-intel.d: Likewise.
	* gas/i386/x86-64-avx-gather.d: Likewise.
	* gas/i386/x86-64-avx-gather.s: Likewise.
	* gas/i386/x86-64-avx2-intel.d: Likewise.
	* gas/i386/x86-64-avx2.d: Likewise.
	* gas/i386/x86-64-avx2.s: Likewise.
	* gas/i386/x86-64-avx256int-intel.d: Likewise.
	* gas/i386/x86-64-avx256int.d: Likewise.
	* gas/i386/x86-64-avx256int.s: Likewise.
	* gas/i386/x86-64-bmi2-intel.d: Likewise.
	* gas/i386/x86-64-bmi2.d: Likewise.
	* gas/i386/x86-64-bmi2.s: Likewise.
	* gas/i386/x86-64-inval-invpcid.l: Likewise.
	* gas/i386/x86-64-inval-invpcid.s: Likewise.
	* gas/i386/x86-64-invpcid-intel.d: Likewise.
	* gas/i386/x86-64-invpcid.d: Likewise.
	* gas/i386/x86-64-invpcid.s: Likewise.

opcodes/

2011-06-10  H.J. Lu  <hongjiu.lu@@intel.com>

	AVX Programming Reference (June, 2011)
	* i386-dis.c (XMGatherQ): New.
	* i386-dis.c (EXxmm_mb): New.
	(EXxmm_mb): Likewise.
	(EXxmm_mw): Likewise.
	(EXxmm_md): Likewise.
	(EXxmm_mq): Likewise.
	(EXxmmdw): Likewise.
	(EXxmmqd): Likewise.
	(VexGatherQ): Likewise.
	(MVexVSIBDWpX): Likewise.
	(MVexVSIBQWpX): Likewise.
	(xmm_mb_mode): Likewise.
	(xmm_mw_mode): Likewise.
	(xmm_md_mode): Likewise.
	(xmm_mq_mode): Likewise.
	(xmmdw_mode): Likewise.
	(xmmqd_mode): Likewise.
	(ymmxmm_mode): Likewise.
	(vex_vsib_d_w_dq_mode): Likewise.
	(vex_vsib_q_w_dq_mode): Likewise.
	(MOD_VEX_0F385A_PREFIX_2): Likewise.
	(MOD_VEX_0F388C_PREFIX_2): Likewise.
	(MOD_VEX_0F388E_PREFIX_2): Likewise.
	(PREFIX_0F3882): Likewise.
	(PREFIX_VEX_0F3816): Likewise.
	(PREFIX_VEX_0F3836): Likewise.
	(PREFIX_VEX_0F3845): Likewise.
	(PREFIX_VEX_0F3846): Likewise.
	(PREFIX_VEX_0F3847): Likewise.
	(PREFIX_VEX_0F3858): Likewise.
	(PREFIX_VEX_0F3859): Likewise.
	(PREFIX_VEX_0F385A): Likewise.
	(PREFIX_VEX_0F3878): Likewise.
	(PREFIX_VEX_0F3879): Likewise.
	(PREFIX_VEX_0F388C): Likewise.
	(PREFIX_VEX_0F388E): Likewise.
	(PREFIX_VEX_0F3890..PREFIX_VEX_0F3893): Likewise.
	(PREFIX_VEX_0F38F5): Likewise.
	(PREFIX_VEX_0F38F6): Likewise.
	(PREFIX_VEX_0F3A00): Likewise.
	(PREFIX_VEX_0F3A01): Likewise.
	(PREFIX_VEX_0F3A02): Likewise.
	(PREFIX_VEX_0F3A38): Likewise.
	(PREFIX_VEX_0F3A39): Likewise.
	(PREFIX_VEX_0F3A46): Likewise.
	(PREFIX_VEX_0F3AF0): Likewise.
	(VEX_LEN_0F3816_P_2): Likewise.
	(VEX_LEN_0F3819_P_2): Likewise.
	(VEX_LEN_0F3836_P_2): Likewise.
	(VEX_LEN_0F385A_P_2_M_0): Likewise.
	(VEX_LEN_0F38F5_P_0): Likewise.
	(VEX_LEN_0F38F5_P_1): Likewise.
	(VEX_LEN_0F38F5_P_3): Likewise.
	(VEX_LEN_0F38F6_P_3): Likewise.
	(VEX_LEN_0F38F7_P_1): Likewise.
	(VEX_LEN_0F38F7_P_2): Likewise.
	(VEX_LEN_0F38F7_P_3): Likewise.
	(VEX_LEN_0F3A00_P_2): Likewise.
	(VEX_LEN_0F3A01_P_2): Likewise.
	(VEX_LEN_0F3A38_P_2): Likewise.
	(VEX_LEN_0F3A39_P_2): Likewise.
	(VEX_LEN_0F3A46_P_2): Likewise.
	(VEX_LEN_0F3AF0_P_3): Likewise.
	(VEX_W_0F3816_P_2): Likewise.
	(VEX_W_0F3818_P_2): Likewise.
	(VEX_W_0F3819_P_2): Likewise.
	(VEX_W_0F3836_P_2): Likewise.
	(VEX_W_0F3846_P_2): Likewise.
	(VEX_W_0F3858_P_2): Likewise.
	(VEX_W_0F3859_P_2): Likewise.
	(VEX_W_0F385A_P_2_M_0): Likewise.
	(VEX_W_0F3878_P_2): Likewise.
	(VEX_W_0F3879_P_2): Likewise.
	(VEX_W_0F3A00_P_2): Likewise.
	(VEX_W_0F3A01_P_2): Likewise.
	(VEX_W_0F3A02_P_2): Likewise.
	(VEX_W_0F3A38_P_2): Likewise.
	(VEX_W_0F3A39_P_2): Likewise.
	(VEX_W_0F3A46_P_2): Likewise.
	(MOD_VEX_0F3818_PREFIX_2): Removed.
	(MOD_VEX_0F3819_PREFIX_2): Likewise.
	(VEX_LEN_0F60_P_2..VEX_LEN_0F6D_P_2): Likewise.
	(VEX_LEN_0F70_P_1..VEX_LEN_0F76_P_2): Likewise.
	(VEX_LEN_0FD1_P_2..VEX_LEN_0FD5_P_2): Likewise.
	(VEX_LEN_0FD7_P_2_M_1..VEX_LEN_0F3819_P_2_M_0): Likewise.
	(VEX_LEN_0F381C_P_2..VEX_LEN_0F3840_P_2): Likewise.
	(VEX_LEN_0F3A0E_P_2): Likewise.
	(VEX_LEN_0F3A0F_P_2): Likewise.
	(VEX_LEN_0F3A42_P_2): Likewise.
	(VEX_LEN_0F3A4C_P_2): Likewise.
	(VEX_W_0F3818_P_2_M_0): Likewise.
	(VEX_W_0F3819_P_2_M_0): Likewise.
	(prefix_table): Updated.
	(three_byte_table): Likewise.
	(vex_table): Likewise.
	(vex_len_table): Likewise.
	(vex_w_table): Likewise.
	(mod_table): Likewise.
	(putop): Handle "LW".
	(intel_operand_size): Handle xmm_mb_mode, xmm_mw_mode,
	xmm_md_mode, xmm_mq_mode, xmmdw_mode, xmmqd_mode, ymmxmm_mode,
	vex_vsib_d_w_dq_mode, vex_vsib_q_w_dq_mode.
	(OP_EX): Likewise.
	(OP_E_memory): Handle vex_vsib_d_w_dq_mode and
	vex_vsib_q_w_dq_mode.
	(OP_XMM): Handle vex_vsib_q_w_dq_mode.
	(OP_VEX): Likewise.

	* i386-gen.c (cpu_flag_init): Add CpuAVX2 to CPU_ANY_SSE_FLAGS
	and CPU_ANY_AVX_FLAGS.  Add CPU_BMI2_FLAGS, CPU_LZCNT_FLAGS,
	CPU_INVPCID_FLAGS and CPU_AVX2_FLAGS.
	(cpu_flags): Add CpuAVX2, CpuBMI2, CpuLZCNT and CpuINVPCID.
	(opcode_modifiers): Add VecSIB.

	* i386-opc.h (CpuAVX2): New.
	(CpuBMI2): Likewise.
	(CpuLZCNT): Likewise.
	(CpuINVPCID): Likewise.
	(VecSIB128): Likewise.
	(VecSIB256): Likewise.
	(VecSIB): Likewise.
	(i386_cpu_flags): Add cpuavx2, cpubmi2, cpulzcnt and cpuinvpcid.
	(i386_opcode_modifier): Add vecsib.

	* i386-opc.tbl: Add invpcid, AVX2 and BMI2 instructions.
	* i386-init.h: Regenerated.
	* i386-tbl.h: Likewise.
@
text
@d1 5
@


1.1911
log
@2011-06-09  James Greenhalgh  <james.greenhalgh@@arm.com>

	* config/tc-arm.c (do_ldrd): Warn in unpredictable cases.

2011-06-09  James Greenhalgh  <james.greenhalgh@@arm.com>

	* gas/arm/ldrd-unpredicatble.d: New testcase.
	* gas/arm/ldrd-unpredicatble.s: Likewise.
	* gas/arm/ldrd-unpredicatble.l: Likewise.
@
text
@d1 48
@


1.1910
log
@	gas/
	* config/tc-arm.c (parse_address_main): Handle -0 offsets.
	(encode_arm_addr_mode_2): Set default sign of zero here ...
	(encode_arm_addr_mode_3): ... and here.
	(encode_arm_cp_address): ... and here.
	(md_apply_fix): Use default sign of zero here.

	gas/testsuite/
	* gas/arm/inst.d: Adjust for signed zero offsets.
	* gas/arm/ldst-offset0.d: New test.
	* gas/arm/ldst-offset0.s: New test.
	* gas/arm/offset-1.d: New test.
	* gas/arm/offset-1.s: New test.

	ld/testsuite/
	Adjust tests for zero offset formatting.
	* ld-arm/cortex-a8-fix-bcc-plt.d: Adjust.
	* ld-arm/farcall-arm-arm-pic-veneer.d: Adjust.
	* ld-arm/farcall-arm-thumb.d: Adjust.
	* ld-arm/farcall-group-size2.d: Adjust.
	* ld-arm/farcall-group.d: Adjust.
	* ld-arm/farcall-mix.d: Adjust.
	* ld-arm/farcall-mix2.d: Adjust.
	* ld-arm/farcall-mixed-lib-v4t.d: Adjust.
	* ld-arm/farcall-mixed-lib.d: Adjust.
	* ld-arm/farcall-thumb-arm-blx-pic-veneer.d: Adjust.
	* ld-arm/farcall-thumb-arm-pic-veneer.d: Adjust.
	* ld-arm/farcall-thumb-thumb.d: Adjust.
	* ld-arm/ifunc-10.dd: Adjust.
	* ld-arm/ifunc-3.dd: Adjust.
	* ld-arm/ifunc-4.dd: Adjust.
	* ld-arm/ifunc-5.dd: Adjust.
	* ld-arm/ifunc-6.dd: Adjust.
	* ld-arm/ifunc-7.dd: Adjust.
	* ld-arm/ifunc-8.dd: Adjust.
	* ld-arm/jump-reloc-veneers-long.d: Adjust.
	* ld-arm/tls-longplt-lib.d: Adjust.
	* ld-arm/tls-thumb1.d: Adjust.

	opcodes/
	* arm-dis.c (print_insn_coprocessor): Explicitly print #-0
	as address offset.
	(print_arm_address): Likewise. Elide positive #0 appropriately.
	(print_insn_arm): Likewise.
@
text
@d1 6
@


1.1909
log
@2011-05-31  Paul Brook  <paul@@codesourcery.com>

	gas/
	* config/tc-arm.c (arm_cpus): Add Cortex-R5.
	(arm_extensions): Allow idiv on ARMv7-R.
	* doc/c-arm.text: Update idiv extension restrictions.

	gas/testsuite/
	* gas/arm/arm-idiv-bad.d: New test.
	* gas/arm/arm-idiv-bad.s: New test.
	* gas/arm/arm-idiv-bad.l: New test.
	* gas/arm/arm-idiv.d: New test.
	* gas/arm/arm-idiv.s: New test.

	include/
	* opcode/arm.h (ARM_ARCH_V7R_IDIV): Define.
@
text
@d1 9
@


1.1908
log
@2011-05-31  Paul Brook  <paul@@codesourcery.com>

	gas/
	* config/tc-arm.c (arm_force_relocation): Resolve all pc-relative
	loads.

	gas/testsuite/
	* gas/arm/ldr-global.d: New test.
	* gas/arm/ldr-global.s: New test.
@
text
@d3 8
@


1.1907
log
@2011-05-31  Paul Brook  <paul@@codesourcery.com>

	gas/
	* config/tc-arm.c (do_t_branch): Avoid relaxing branches to constant
	addresses.

	gas/testsuite/
	* arm/t2-branch-global.d: New test.
	* arm/t2-branch-global.s: New test.
@
text
@d3 5
@


1.1906
log
@2011-05-24  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	    * config/tc-s390.c (md_gather_operands): Fix check for floating
	    register pair operands.

2011-05-24  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	    * opcode/s390.h: Replace S390_OPERAND_REG_EVEN with
	    S390_OPERAND_REG_PAIR.

2011-05-24  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	    * s390-opc.c: Replace S390_OPERAND_REG_EVEN with
	    S390_OPERAND_REG_PAIR.  Fix INSTR_RRF_0UFEF instruction type.
	    * s390-opc.txt: Fix cxr instruction type.

2011-05-24  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	    * gas/s390/esa-g5.d: Fix fp register pair operands.
	    * gas/s390/esa-g5.s: Likewise.
	    * gas/s390/zarch-z196.d: Likewise.
	    * gas/s390/zarch-z196.s: Likewise.
	    * gas/s390/zarch-z9-109.d: Likewise.
	    * gas/s390/zarch-z9-109.s: Likewise.
	    * gas/s390/zarch-z9-ec.d: Likewise.
	    * gas/s390/zarch-z9-ec.s: Likewise.
@
text
@d1 5
@


1.1905
log
@2011-05-24  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* config/tc-s390.c (md_gather_operands): Emit an error for odd
	numbered registers used as register pair operand.

2011-05-24  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* opcode/s390.h: Add S390_OPCODE_REG_EVEN flag.

2011-05-24  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* s390-opc.c: Add new instruction types marking register pair
	operands.
	* s390-opc.txt: Match instructions having register pair operands
	to the new instruction types.

2011-05-24  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* gas/s390/esa-g5.d: Fix register pair operands.
	* gas/s390/esa-g5.s: Likewise.
	* gas/s390/esa-z9-109.d: Likewise.
	* gas/s390/esa-z9-109.s: Likewise.
	* gas/s390/zarch-z196.d: Likewise.
	* gas/s390/zarch-z196.s: Likewise.
	* gas/s390/zarch-z9-109.d: Likewise.
	* gas/s390/zarch-z9-109.s: Likewise.
	* gas/s390/zarch-z900.d: Likewise.
	* gas/s390/zarch-z900.s: Likewise.
	* gas/s390/zarch-z990.d: Likewise.
	* gas/s390/zarch-z990.s: Likewise.
@
text
@d3 11
@


1.1904
log
@	ld/testsuite/
	* ld-tic6x/pcr-reloc.d: New test.
	* ld-tic6x/pcr-reloc.s: New test.

	gas/testsuite/
	* gas/tic6x/pcr-relocs.d: New test.
	* gas/tic6x/pcr-relocs.s: New test.
	* gas/tic6x/pcr-relocs-undef.d: New test.
	* gas/tic6x/pcr-relocs-undef.s: New test.
	* gas/tic6x/reloc-bad-2.s: Update for pcr_offset.
	* gas/tic6x/reloc-bad-2.l: Update for pcr_offset.

	bfd/
	* elf32-tic6x.c (elf32_tic6x_howto_table): Add entries for
	R_C6000_PCR_H16 and R_C6000_PCR_L16.
	(elf32_tic6x_relocate_section): Handle them.

	gas/
	* config/tc-tic6x.c (tic6x_operators): Add "pcr_offset".
	(tic6x_parse_name): Handle it.
	(tic6x_fix_new_exp): Handle O_pcr_offset.
	(tic6x_fix_adjustable): Return 0 for the new relocs.
	(md_apply_fix): Handle them.
	(tc_gen_reloc): Likewise.
	* config/tc-tic6x.h (tic6x_fix_info): Add a fix_subsy member.
@
text
@d1 15
@


1.1903
log
@	* gas/arm/req.l: Updated expected warning message.
@
text
@d1 9
@


1.1902
log
@bfd
2011-05-18  Tristan Gingold  <gingold@@adacore.com>

	* libxcoff.h (struct xcoff_dwsect_name): New type.
	(XCOFF_DWSECT_NBR_NAMES): New macro.
	(xcoff_dwsect_names): Declare.
	* coffcode.h (sec_to_styp_flags): Handle xcoff dwarf sections.
	(styp_to_sec_flags): Ditto.
	(coff_new_section_hook): Ditto.
	(coff_slurp_symbol_table): Handle C_DWARF and C_INFO.
	* coff-rs6000.c (xcoff_dwsect_name): New variable.

gas
2011-05-18  Tristan Gingold  <gingold@@adacore.com>

	* config/tc-ppc.h (ppc_tc_sy): Reorder fields.
	Put size into an union with dw.
	(OBJ_COPY_SYMBOL_ATTRIBUTES): Adjust.
	(ppc_xcoff_end): Declare.
	(md_end): Define.
	* config/tc-ppc.c: Add includes for xcoff.
	(ppc_dwsect): New function.
	(md_pseudo_table): Add dwsect.
	(struct dw_subsection): New.
	(dw_sections): New.
	(ppc_change_debug_section): New function.
	(ppc_xcoff_end): Ditto.
	(ppc_function): Adjust for ppc_tc_sy.
	(ppc_symbol_new_hook): Ditto.
	(ppc_frob_symbol): Ditto.
	(ppc_frob_section): Do not set vma for debug sections.
	(ppc_fix_adjustable): Return true for debug sections.
	* config/obj-coff.c: Add includes for xcoff.
	(coff_frob_section): Handle dwarf section.

gas/testsuite
2011-05-18  Tristan Gingold  <gingold@@adacore.com>

	* gas/ppc/xcoff-dwsect-1-32.d: New test.
	* gas/ppc/xcoff-dwsect-1-64.d: Ditto.
	* gas/ppc/xcoff-dwsect-1.s: New file.
	* gas/ppc/aix.exp (do_align_test): Add tests.
@
text
@d1 4
@


1.1901
log
@	* gas/cris/rd-brokw-pic-1.d, gas/cris/rd-brokw-pic-2.d,
	gas/cris/rd-fragtest-pic.d: Gate on targets cris-*-*elf* and
	cris-*-linux-gnu.
	* gas/cris/pic-err-2.s, gas/cris/pic-err-3.s: New tests.
@
text
@d1 7
@


1.1900
log
@	* gas/all/gas.exp: Fix typo last change.
@
text
@d1 7
@


1.1899
log
@	* gas/all/gas.exp: Remove some xfails on redef2 and redef3 tests.
	Update comments.
	* gas/hppa/unsorted/unsorted.exp: Run globalbug test on appropriate
	targets rather than xfailing.
@
text
@d1 4
@


1.1898
log
@	PR gas/12715
	* gas/config/tc-arm.c (parse_big_immediate):  Fix parsing of 64-bit
	immediates on 32-bit hosts.
	* gas/testsuite/gas/arm/neon-const.s: Add testcase for 64-bit Neon constants.
	* gas/testsuite/gas/arm/neon-const.d: Likewise.
@
text
@d1 7
d578 1
a578 1
	
@


1.1897
log
@gas/testsuite/
	* gas/mips/24k-branch-delay-1.d: Allow 64-bit addresses.  Stub out
	function names.
	* gas/mips/24k-triple-stores-1.d: Likewise.
	* gas/mips/24k-triple-stores-2.d: Likewise.
	* gas/mips/24k-triple-stores-3.d: Likewise.
	* gas/mips/24k-triple-stores-4.d: Likewise.
	* gas/mips/24k-triple-stores-5.d: Likewise.
	* gas/mips/24k-triple-stores-7.d: Likewise.
	* gas/mips/24k-triple-stores-8.d: Likewise.
	* gas/mips/24k-triple-stores-9.d: Likewise.
	* gas/mips/24k-triple-stores-10.d: Likewise.
	* gas/mips/24k-triple-stores-11.d: Likewise.
	* gas/mips/24k-triple-stores-6.d: Likewise.  Add -EB.
	* gas/mips/mips.exp: Only run 24k-triple-stores-11.d on ELF targets.
@
text
@d1 6
@


1.1896
log
@gas/testsuite/
	* gas/mips/24k-branch-delay-1.d: Add -32 to assembler options.
	* gas/mips/24k-triple-stores-1.d: Likewise.
	* gas/mips/24k-triple-stores-2.d: Likewise.
	* gas/mips/24k-triple-stores-3.d: Likewise.
	* gas/mips/24k-triple-stores-4.d: Likewise.
	* gas/mips/24k-triple-stores-5.d: Likewise.
	* gas/mips/24k-triple-stores-6.d: Likewise.
	* gas/mips/24k-triple-stores-7.d: Likewise.
	* gas/mips/24k-triple-stores-8.d: Likewise.
	* gas/mips/24k-triple-stores-9.d: Likewise.
	* gas/mips/24k-triple-stores-10.d: Likewise.
	* gas/mips/24k-triple-stores-11.d: Likewise.
@
text
@d3 17
@


1.1895
log
@	* config/tc-arm.c(do_t_ldst): Warn on loading into sp with
	writeback for appropriate cores/arch.
	* testsuite/gas/arm/ld-sp-warn-cortex-m3.d: New test.
	* testsuite/gas/arm/ld-sp-warn-cortex-m3.l: New test.
	* testsuite/gas/arm/ld-sp-warn-cortex-m4.d: New test.
	* testsuite/gas/arm/ld-sp-warn-cortex-m4.l: New test.
	* testsuite/gas/arm/ld-sp-warn-v7.d: New test.
	* testsuite/gas/arm/ld-sp-warn-v7.l: New test.
	* testsuite/gas/arm/ld-sp-warn-v7a.d: New test.
	* testsuite/gas/arm/ld-sp-warn-v7a.l: New test.
	* testsuite/gas/arm/ld-sp-warn-v7e-m.l: New test.
	* testsuite/gas/arm/ld-sp-warn-v7em.d: New test.
	* testsuite/gas/arm/ld-sp-warn-v7m.d: New test.
	* testsuite/gas/arm/ld-sp-warn-v7m.l: New test.
	* testsuite/gas/arm/ld-sp-warn-v7r.d: New test.
	* testsuite/gas/arm/ld-sp-warn-v7r.l: New test.
	* testsuite/gas/arm/ld-sp-warn.s: New test.
@
text
@d1 15
@


1.1894
log
@2011-05-10  Quentin Neill  <quentin.neill@@amd.com>

gas/
	* config/tc-i386.c (cpu_arch): Add bdver2 and rename
	PROCESSOR_BDVER1 to PROCESSOR_BDVER.
	(i386_align_code): Rename PROCESSOR_BDVER1.
	(processor_type): Ditto.
	* doc/c-i386.texi: Add bdver2.

opcodes/
	* i386-gen.c (cpu_flag_init): Add new CPU_BDVER2_FLAGS.
	* i386-init.h: Regenerated.

gas/testsuite/
	* gas/i386/i386.exp: Add new bdver2 test cases.
	* gas/i386/nops-1-bdver2.d: New.
	* gas/i386/x86-64-nops-1-bdver2.d: New.
@
text
@d1 18
@


1.1893
log
@2011-05-09  Paul Brook  <paul@@codesourcery.com>

	bfd/
	* elf32-tic6x.c (is_tic6x_elf_unwind_section_name,
	elf32_tic6x_fake_sections): New functions.
	(elf_backend_fake_sections): Define.

	gas/
	* config/tc-tic6x.c (streq): Define.
	(tic6x_get_unwind): New.
	(s_tic6x_cantunwind, s_tic6x_handlerdata, s_tic6x_endp,
	s_tic6x_personalityindex, s_tic6x_personality): New functions.
	(md_pseudo_table): Add "endp", "handlerdata", "personalityindex",
	"personality" and "cantunwind".
	(tic6x_regname_to_dw2regnum, tic6x_frame_initial_instructions,
	tic6x_start_unwind_section, tic6x_unwind_frame_regs,
	tic6x_pop_rts_offset_little, tic6x_pop_rts_offset_big,
	tic6x_unwind_reg_from_dwarf, tic6x_flush_unwind_word,
	tic6x_unwind_byte, tic6x_unwind_2byte, tic6x_unwind_uleb,
	tic6x_cfi_startproc, output_exidx_entry, tic6x_output_unwinding,
	tic6x_cfi_endproc): New.
	* config/tc-tic6x.h (TIC6X_NUM_UNWIND_REGS): Define.
	(tic6x_unwind_info): New.
	(tic6x_segment_info_type): Add marked_pr_dependency, unwind and
	text_unwind.
	(TARGET_USE_CFIPOP, tc_regname_to_dw2regnum,
	tc_cfi_frame_initial_instructions, DWARF2_DEFAULT_RETURN_COLUMN,
	DWARF2_CIE_DATA_ALIGNMENT, tc_cfi_startproc, tc_cfi_endproc,
	tc_cfi_section_name): Define.
	* doc/c-tic6x.texi: Document new unwinding directives.
	* dw2gencfi.c (tc_cfi_startproc, tc_cfi_endproc): Add default
	definitions.
	(cfi_insn_data, fde_entry, CFI_adjust_cfa_offset, CFI_return_column,
	CFI_rel_offset, CFI_escape, CFI_signal_frame, CFI_val_encoded_addr):
	Move to dw2gencfi.h.
	(CFI_EMIT_target): Define.
	(dot_cfi_sections): Check tc_cfi_section_name.
	(dot_cfi_startproc): Use tc_cfi_startproc.
	(dot_cfi_endproc): Use tc_cfi_endproc.
	* dw2gencfi.h (cfi_insn_data, fde_entry, CFI_adjust_cfa_offset,
	CFI_return_column, CFI_rel_offset, CFI_escape, CFI_signal_frame,
	CFI_val_encoded_addr):  Move to here from dw2gencfi.c.

	gas/testsuite:
	* gas/tic6x/unwind-1.d: New test.
	* gas/tic6x/unwind-1.s: New test.
	* gas/tic6x/unwind-2.d: New test.
	* gas/tic6x/unwind-2.s: New test.
	* gas/tic6x/unwind-3.d: New test.
	* gas/tic6x/unwind-3.s: New test.
	* gas/tic6x/unwind-bad-1.d: New test.
	* gas/tic6x/unwind-bad-1.s: New test.
	* gas/tic6x/unwind-bad-1.l: New test.
	* gas/tic6x/unwind-bad-2.d: New test.
	* gas/tic6x/unwind-bad-2.s: New test.
	* gas/tic6x/unwind-bad-2.l: New test.

	include/
	* elf/tic6x.h (ELF_STRING_C6000_unwind,
	ELF_STRING_C6000_unwind_info, ELF_STRING_C6000_unwind_once,
	ELF_STRING_C6000_unwind_info_once): Define.
@
text
@d1 6
@


1.1892
log
@	* gas/elf/dwarf2-1.d, gas/elf/dwarf2-2.d: Adjust for change in
	output format.
	* gas/i386/dw2-compress-1.d: Ditto.
@
text
@d1 15
@


1.1891
log
@2011-04-20  Catherine Moore  <clm@@codesourcery.com>
            David Ung <davidu@@mips.com>

	* gas/mips/24k-branch-delay-1.d: New.
	* gas/mips/24k-branch-delay-1.s: New.
	* gas/mips/24k-triple-stores-1.d: New.
	* gas/mips/24k-triple-stores-1.s: New.
	* gas/mips/24k-triple-stores-2.d: New.
	* gas/mips/24k-triple-stores-2.s: New.
	* gas/mips/24k-triple-stores-3.d: New.
	* gas/mips/24k-triple-stores-3.s: New.
	* gas/mips/24k-triple-stores-4.s: New.
	* gas/mips/24k-triple-stores-4.d: New.
	* gas/mips/24k-triple-stores-5.d: New.
	* gas/mips/24k-triple-stores-5.s: New.
	* gas/mips/24k-triple-stores-6.d: New.
	* gas/mips/24k-triple-stores-6.s: New.
	* gas/mips/24k-triple-stores-7.d: New.
	* gas/mips/24k-triple-stores-7.s: New.
	* gas/mips/24k-triple-stores-8.d: New.
	* gas/mips/24k-triple-stores-8.s: New.
	* gas/mips/24k-triple-stores-9.d: New.
	* gas/mips/24k-triple-stores-9.s: New.
	* gas/mips/24k-triple-stores-10.d: New.
	* gas/mips/24k-triple-stores-10.s: New.
	* gas/mips/24k-triple-stores-11.d: New.
	* gas/mips/24k-triple-stores-11.s: New.
	* gas/mips/mips.exp: Invoke new tests.
@
text
@d1 6
@


1.1890
log
@	* config/tc-arm.c (v7m_psrs): Revert previous delta.

	* gas/arm/mrs-msr-thumb-v7e-m.s: Restore name of basepri_max
	register.
	* gas/arm/mrs-msr-thumb-v7e-m.d: Likewise.
	* gas/arm/arch7.d: Likewise.
	* gas/arm/arch7.s: Likewise.

	* arm-dis.c: Revert previous reversion.
@
text
@d1 29
@


1.1889
log
@	* gas/arm/arch7.s: Fix typo basepri_max should be basepri_mask.
	* gas/arm/mrs-msr-thumb-v7e-m.s: Likewise.
	* gas/arm/arch7.d: Update expected disassembly.
	* gas/arm/attr-march-armv7.d: Remove Microcontroller tag.
	* gas/arm/blx-bad.d: Only run for ELF based targets.
	* gas/arm/mrs-msr-thumb-v6t2.d: Likewise.
	* gas/arm/vldm-arm.d: Likewise.
	* gas/arm/mrs-msr-thumb-v7-m.d: Likewise.
	Remove qualifiers from PSR and IAPSR regsiter names.
	* gas/arm/mrs-msr-thumb-v7e-m.d: Likewise.
	* gas/arm/thumb2_bcond.d: Update expected disassembly to allow for
	relaxing of branch insns.
	* gas/arm/thumb32.d: Fix whitespace problems in disassembly.

	* config/tc-arm.c (parse_psr): Use selected_cpu not cpu_variant to
	detect M-profile targets.
	(do_t_swi): Exclude v7 and higher variants from arm_ext_os test.
	(v7m_psrs): Fix typo: basepri_max should be basepri_mask.

	* arm-dis.c (psr_name): Revert previous delta.

	* arm.h (ARM_AEXT_V7_ARM): Remove ARM_EXT_OS from bitmask.
@
text
@d1 8
@


1.1888
log
@2011-04-18  Tristan Gingold  <gingold@@adacore.com>

	* gas/macros/app1.s: Export symbol
	* gas/macros/app2.s: Ditto
	* gas/macros/app3.s: Ditto
	* gas/macros/app4.s: Ditto
	* gas/macros/app4b.s: Ditto
	* gas/macros/app1.d: Adjust.
	* gas/macros/app2.d: Ditto.
	* gas/macros/app3.d: Ditto.
	* gas/macros/app4.d: Ditto.
@
text
@d1 16
@


1.1887
log
@2011-04-18  Tristan Gingold  <gingold@@adacore.com>

	* lib/gas-defs.exp (get_standard_section_names): Add names for
	alpha vms.
	* gas/all/gas.exp: Do not test diff1.s on alpha-vms.
@
text
@d3 12
@


1.1886
log
@2011-04-14  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* config/tc-s390.c (s390_machine): New prototype.
	(md_pseudo_table): New pseudo-op .machine.
	(s390_opcode_hash): Initialize to NULL.
	(s390_parse_cpu): New function.
	(md_parse_option): Use s390_parse_cpu.
	(s390_setup_opcodes): New function.
	(md_begin): Use s390_setup_opcodes.
	(s390_machine): New hook handling the new .machine pseudo.

	* doc/c-s390.texi: Document the new pseudo op .machine.

2011-04-14  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* gas/s390/zarch-machine.s: New testcase.
	* gas/s390/zarch-machine.d: New testcase output.
	* gas/s390/s390.exp: Execute the new testcase.
@
text
@d1 6
@


1.1885
log
@	* v850-dis.c (disassemble): Always print a closing square brace if
	an opening square brace was printed.
@
text
@d1 6
@


1.1884
log
@	PR binutils/12534
	* arm-dis.c (thumb32_opcodes): Add %L suffix to LDRD and STRD insn
	patterns.
	(print_insn_thumb32): Handle %L.

	* gas/arm/thumb32.s: Add PC relative LDRD and STRD insns.
	* gas/arm/thumb32.l: Update expected output.
	* gas/arm/thumb32.d: Update expected disassembly.
@
text
@d1 5
@


1.1883
log
@	PR gas/12532
	* gas/arm/plt-1.d: Update expected disassembly.
	* gas/arm/thumb2_bcond.d: Likewise.
	* gas/arm/weakdef-1.d: Likewise.
@
text
@d3 5
@


1.1882
log
@	* gas/all/gas.exp (do_930509a): Don't xfail h8300 and mn10200.
@
text
@d1 7
@


1.1881
log
@    gas/
    * config/tc-arm.c (parse_psr): Add LHS argument. Improve support
    for *APSR bitmasks.
    (operand_parse_code): Replace OP_PSR with OP_wPSR and OP_rPSR.
    Remove OP_RVC_PSR.
    (parse_operands): Likewise.
    (do_mrs): Tweak error message for constraint.
    (do_t_mrs): Update constraints for changes to APSR support.
    (do_t_msr): Likewise. Don't set PSR_f flag here.
    (psrs): Remove "g", "nzcvq", "nzcvqg".
    (insns): Tweak entries for msr and mrs instructions.

    opcodes/
    * arm-dis.c (psr_name): Fix typo for BASEPRI_MAX.
    (print_insn_thumb32): Add APSR bitmask support.

    gas/testsuite/
    * gas/arm/mrs-msr-thumb-v7-m.s: New.
    * gas/arm/mrs-msr-thumb-v7-m.d: New.
    * gas/arm/mrs-msr-thumb-v7-m-bad.d: New.
    * gas/arm/mrs-msr-thumb-v7-m-bad.l: New.
    * gas/arm/mrs-msr-thumb-v7-m-bad.s: New.
    * gas/arm/mrs-msr-thumb-v7e-m.d: New.
    * gas/arm/mrs-msr-thumb-v7e-m.s: New.
    * gas/arm/mrs-msr-arm-v7-a-bad.d: New.
    * gas/arm/mrs-msr-arm-v7-a-bad.l: New.
    * gas/arm/mrs-msr-arm-v7-a-bad.s: New.
    * gas/arm/mrs-msr-arm-v7-a.d: New.
    * gas/arm/mrs-msr-arm-v7-a.s: New.
    * gas/arm/mrs-msr-arm-v6.d: New.
    * gas/arm/mrs-msr-arm-v6.s: New.
    * gas/arm/mrs-msr-thumb-v6t2.d: New.
    * gas/arm/mrs-msr-thumb-v6t2.s: New.
    * gas/arm/arch7.d: Fix typo in disassembly for BASEPRI_MAX,
    bitmasks for IAPSR etc.
    * gas/arm/arch7.s: Specify bitmask for APSR writes.
    * gas/arm/archv6m.s: Likewise.
    * msr-imm-bad.l: Tweak expected disassembly in error message.
    * msr-reg-bad.l: Likewise.
    * msr-imm.d: Tweak expected disassembly.
    * msr-reg.d: Likewise.
    * msr-reg-thumb.d: Likewise.
    * msr-imm.s: Specify bitmask on APSR writes.
    * msr-reg.s: Add comment about deprecated usage.
@
text
@d1 4
@


1.1880
log
@	PR gas/12296
	* arm.h (ARM_AEXT_V7_ARM): Add ARM_EXT_OS.

	* gas/arm/arch7.s: Add SVC insn.
	* gas/arm/arch7.d: Add disassembly of SVC insn.
	* gas/arm/attr-march-armv7.d: Add arch profile tag.
@
text
@d1 30
@


1.1879
log
@bfd:
	* config.bfd (thumb-*-oabi): Don't handle in list of obsolete
	targets.
	(strongarm*, thumb*, xscale*): Remove architectures.
	(strongarm-*-kaos*, thumb-*-coff, thumb-*-elf, thumb-epoc-pe*,
	thumb-*-pe*, strongarm-*-elf, strongarm-*-coff, xscale-*-elf,
	xscale-*-coff): Remove targets.

binutils:
	* configure.in (thumb-*-pe*): Remove.
	* configure: Regenerate.

binutils/testsuite:
	* binutils-all/objcopy.exp (*arm*-*-coff): Change to arm*-*-coff.
	(xscale-*-coff, thumb*-*-coff, thumb*-*-pe): Don't handle.

gas:
	* configure.tgt (strongarm*be, strongarm*b, strongarm*,
	xscale*be|xscale*b, xscale*): Remove architectures.
	(thumb-*-coff, thumb-*-rtems*, thumb-*-elf, thumb-epoc-pe,
	thumb-*-pe, xscale-*-coff, xscale-*-elf): Remove targets.

gas/testsuite:
	* gas/all/gas.exp (*arm*-*-coff): Change to arm*-*-coff.
	(thumb*-*-coff, thumb*-*-pe*): Don;t handle.
	* gas/arm/arm.exp (*arm*-*-*): Change to arm*-*-*.
	(*xscale*-*-*): Don't handle.
	* gas/cfi/cfi.exp (xscale*-*): Don't handle.
	* gas/elf/elf.exp (*arm*-*-*): Change to arm*-*-*.
	(xscale*-*-*): Don't handle.

ld:
	* configure.tgt (thumb-*-linux-* | thumb-*-uclinux*,
	strongarm-*-coff, strongarm-*-elf, strongarm-*-kaos*,
	thumb-*-coff, thumb-*-elf, thumb-epoc-pe, thumb-*-pe,
	xscale-*-coff, xscale-*-elf): Remove targets.

ld/testsuite:
	* ld-selective/selective.exp (xscale-*-*): Don't handle.
	* ld-srec/srec.exp (strongarm*-*-*, xscale*-*-*, thumb-*-*): Don't
	handle.
	(*arm*-*-*): Change to arm*-*-*.
	(strongarm*-*-coff, xscale*-*-coff, thumb-*-coff*, thumb-*-pe*,
	thumb-*-elf*, strongarm*-*-*, thumb-*-*): Remove xfails.
	* ld-undefined/undefined.exp (thumb*-*-pe*, thumb*-*-pe*): Remove
	commented-out xfails.
	(thumb-elf): Remove reference in comment.
	* lib/ld-lib.exp (strongarm*-*-*, xscale*-*-*, thumb-*-*): Don't
	handle.
@
text
@d1 7
@


1.1878
log
@include/elf/
	* tic6x.h (R_C6000_JUMP_SPLOT, R_C6000_EHTYPE,
	R_C6000_PCR_H16, R_C6000_PCR_L16): New relocs.
	(SHN_TIC6X_SCOMMON): Define.

bfd/
	* elf32-tic6x.h (struct elf32_tic6x_params): New.
	(elf32_tic6x_setup): Declare.
	* elf32-tic6x.c: Include <limits.h>.
	(ELF_DYNAMIC_LINKER, DEFAULT_STACK_SIZE, PLT_ENTRY_SIZE): Define.
	(struct elf32_tic6x_link_hash_table, struct elf32_link_hash_entry):
	New structures.
	(elf32_tic6x_link_hash_table, is_tic6x_elf): New macros.
	(tic6x_elf_scom_section, tic6x_elf_scom_symbol,
	tic6x_elf_scom_symbol_ptr): New static variables.
	(elf32_tic6x_howto_table, elf32_tic6x_howto_table_rel,
	elf32_tic6x_reloc_map): Add R_C6000_JUMP_SLOT, R_C6000_EHTYPE,
	R_C6000_PCR_H16 and R_C6000_PCR_L16.
	(elf32_tic6x_link_hash_newfunc, elf32_tic6x_link_hash_table_create,
	elf32_tic6x_link_hash_table_free, elf32_tic6x_setup,
	elf32_tic6x_using_dsbt, elf32_tic6x_install_rela,
	elf32_tic6x_create_dynamic_sections, elf32_tic6x_make_got_dynreloc,
	elf32_tic6x_finish_dynamic_symbol, elf32_tic6x_gc_sweep_hook,
	elf32_tic6x_adjust_dynamic_symbol): New static functions.
	(elf32_tic6x_relocate_section): For R_C6000_PCR_S21, convert branches
	to weak symbols as required by the ABI.
	Handle GOT and DSBT_INDEX relocs, and copy relocs to the output file
	as needed when generating DSBT output.
	(elf32_tic6x_check_relocs, elf32_tic6x_add_symbol_hook,
	elf32_tic6x_symbol_processing, elf32_tic6x_section_from_bfd_section,
	elf32_tic6x_allocate_dynrelocs, elf32_tic6x_size_dynamic_sections,
	elf32_tic6x_always_size_sections, elf32_tic6x_modify_program_headers,
	elf32_tic6x_finish_dynamic_sections, elf32_tic6x_plt_sym_val,
	elf32_tic6x_copy_private_data, elf32_tic6x_link_omit_section_dynsym):
	New static functions.
	(ELF_MAXPAGESIZE): Define to 0x1000.
	(bfd_elf32_bfd_copy_private_bfd_data,
	bfd_elf32_bfd_link_hash_table_create,
	bfd_elf32_bfd_link_hash_table_free, elf_backend_can_refcount,
	elf_backend_want_got_plt, elf_backend_want_dynbss,
	elf_backend_plt_readonly, elf_backend_got_header_size,
	elf_backend_gc_sweep_hook, elf_backend_modify_program_headers,
	elf_backend_create_dynamic_sections, elf_backend_adjust_dynamic_symbol,
	elf_backend_check_relocs, elf_backend_add_symbol_hook,
	elf_backend_symbol_processing, elf_backend_link_output_symbol_hook,
	elf_backend_section_from_bfd_section,
	elf_backend_finish_dynamic_symbol, elf_backend_always_size_sections,
	elf32_tic6x_size_dynamic_sections, elf_backend_finish_dynamic_sections,
	elf_backend_omit_section_dynsym, elf_backend_plt_sym_val): Define.

	* bfd/reloc.c (BFD_RELOC_C6000_JUMP_SLOT, BFD_RELOC_C6000_EHTYPE,
	BFD_RELOC_C6000_PCR_H16, BFD_RELOC_C6000_PCR_S16): Add.
	* bfd/bfd-in2.h: Regenerate.
	* bfd/libbfd.h: Regenerate.
	* config.bfd: Accept tic6x-*-* instead of tic6x-*-elf.

gas/
	* config/tc-tic6x.c (sbss_section, scom_section, scom_symbol): New
	static variables.
	(md_begin): Initialize them.
	(s_tic6x_scomm): New static function.
	(md_pseudo_table): Add "scomm".
	(tc_gen_reloc): Really undo all adjustments made by
	bfd_install_relocation.
	* doc/c-tic6x.texi: Document the .scomm directive.

gas/testsuite/
	* gas/tic6x/scomm-directive-1.s: New test.
	* gas/tic6x/scomm-directive-1.d: New test.
	* gas/tic6x/scomm-directive-2.s: New test.
	* gas/tic6x/scomm-directive-2.d: New test.
	* gas/tic6x/scomm-directive-3.s: New test.
	* gas/tic6x/scomm-directive-3.d: New test.
	* gas/tic6x/scomm-directive-4.s: New test.
	* gas/tic6x/scomm-directive-4.d: New test.
	* gas/tic6x/scomm-directive-5.s: New test.
	* gas/tic6x/scomm-directive-5.d: New test.
	* gas/tic6x/scomm-directive-6.s: New test.
	* gas/tic6x/scomm-directive-6.d: New test.
	* gas/tic6x/scomm-directive-7.s: New test.
	* gas/tic6x/scomm-directive-7.d: New test.
	* gas/tic6x/scomm-directive-8.s: New test.
	* gas/tic6x/scomm-directive-8.d: New test.

ld/
	* emulparams/elf32_tic6x_le.sh (BIG_OUTPUT_FORMAT, EXTRA_EM_FILE,
	GENERATE_SHLIB_SCRIPT): New defines.
	(TEXT_START_ADDR): Define differently depending on target.
	(.got): Redefine to include "*(.dsbt)".
	(SDATA_START_SYMBOLS): Remove, replace with
	(OTHER_GOT_SYMBOLS): New.
	(OTHER_BSS_SECTIONS): Define only for ELF targets.
	* emultempl/tic6xdsbt.em: New file.
	* gen-doc.texi: Set C6X.
	* ld.texinfo: Likewise.
	(Options specific to C6X uClinux targets): New section.

binutils/
	* readelf.c (get_symbol_index_type): Handle SCOM for TIC6X.
	(dump_relocations): Likewise.

binutils/testsuite/
	* lib/binutils-common.exp (is_elf_format): Accept tic6x*-*-uclinux*.

ld/testsuite/
	* ld-scripts/crossref.exp: Add CFLAGS for tic6x*-*-*.
	* ld-elf/sec-to-seg.exp: Remove tic6x from list of targets defining
	pagesize to 1.
	* ld-tic6x/tic6x.exp: Add support for DSBT shared library/executable
	linking tests.
	* ld-tic6x/dsbt.ld: New linker script.
	* ld-tic6x/dsbt-be.ld: New linker script.
	* ld-tic6x/dsbt-overflow.ld: New linker script.
	* ld-tic6x/dsbt-inrange.ld: New linker script.
	* ld-tic6x/shlib-1.s: New test.
	* ld-tic6x/shlib-2.s: New test.
	* ld-tic6x/shlib-app-1r.s: New test.
	* ld-tic6x/shlib-app-1.s: New test.
	* ld-tic6x/shlib-1.sd: New test.
	* ld-tic6x/shlib-1.dd: New test.
	* ld-tic6x/shlib-app-1.rd: New test.
	* ld-tic6x/shlib-app-1rb.rd: New test.
	* ld-tic6x/shlib-app-1.sd: New test.
	* ld-tic6x/static-app-1rb.od: New test.
	* ld-tic6x/shlib-app-1.dd: New test.
	* ld-tic6x/shlib-app-1rb.sd: New test.
	* ld-tic6x/static-app-1b.od: New test.
	* ld-tic6x/static-app-1r.od: New test.
	* ld-tic6x/shlib-1rb.rd: New test.
	* ld-tic6x/shlib-app-1rb.dd: New test.
	* ld-tic6x/shlib-1rb.sd: New test.
	* ld-tic6x/shlib-1rb.dd: New test.
	* ld-tic6x/shlib-app-1b.od: New test.
	* ld-tic6x/tic6x.exp: New test.
	* ld-tic6x/static-app-1rb.rd: New test.
	* ld-tic6x/shlib-app-1r.od: New test.
	* ld-tic6x/static-app-1.od: New test.
	* ld-tic6x/static-app-1b.rd: New test.
	* ld-tic6x/static-app-1r.rd: New test.
	* ld-tic6x/static-app-1rb.sd: New test.
	* ld-tic6x/static-app-1b.sd: New test.
	* ld-tic6x/static-app-1rb.dd: New test.
	* ld-tic6x/static-app-1r.sd: New test.
	* ld-tic6x/static-app-1b.dd: New test.
	* ld-tic6x/shlib-1b.rd: New test.
	* ld-tic6x/static-app-1r.dd: New test.
	* ld-tic6x/shlib-app-1b.rd: New test.
	* ld-tic6x/shlib-1r.rd: New test.
	* ld-tic6x/shlib-app-1r.rd: New test.
	* ld-tic6x/shlib-1b.sd: New test.
	* ld-tic6x/static-app-1.rd: New test.
	* ld-tic6x/shlib-app-1b.sd: New test.
	* ld-tic6x/shlib-1r.sd: New test.
	* ld-tic6x/shlib-1b.dd: New test.
	* ld-tic6x/shlib-app-1r.sd: New test.
	* ld-tic6x/shlib-app-1b.dd: New test.
	* ld-tic6x/shlib-1r.dd: New test.
	* ld-tic6x/static-app-1.sd: New test.
	* ld-tic6x/shlib-app-1r.dd: New test.
	* ld-tic6x/static-app-1.dd: New test.
	* ld-tic6x/shlib-noindex.rd: New test.
	* ld-tic6x/shlib-noindex.dd: New test.
	* ld-tic6x/shlib-noindex.sd: New test.
	* ld-tic6x/got-reloc-local-1.s: New test.
	* ld-tic6x/got-reloc-local-2.s: New test.
	* ld-tic6x/got-reloc-local-r.d: New test.
	* ld-tic6x/got-reloc-global.s: New test.
	* ld-tic6x/got-reloc-global-addend-1.d: New test.
	* ld-tic6x/got-reloc-global-addend-1.s: New test.
	* ld-tic6x/got-reloc-global-addend-2.d: New test.
	* ld-tic6x/got-reloc-inrange.d: New test.
	* ld-tic6x/got-reloc-overflow.d: New test.
	* ld-tic6x/got-reloc-global-addend-2.s: New test.
	* ld-tic6x/dsbt-index-error.d: New test.
	* ld-tic6x/dsbt-index.d: New test.
	* ld-tic6x/dsbt-index.s: New test.
	* ld-tic6x/shlib-app-1.od: New test.
	* ld-tic6x/shlib-app-1rb.od: New test.
	* ld-tic6x/shlib-1.rd: New test.
	* ld-tic6x/weak.d: New test.
	* ld-tic6x/weak-be.d: New test.
	* ld-tic6x/weak.s: New test.
 	* ld-tic6x/weak-data.d: New test.
	* ld-tic6x/common.d: New test.
	* ld-tic6x/common.ld: New test.
	* ld-tic6x/common.s: New test.
@
text
@d1 10
@


1.1877
log
@Properly handle multiple operands for x32 quad.

gas/

2011-03-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (handle_quad): Properly handle multiple
	operands.

gas/testsuite/

2011-03-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/ilp32/quad.d: Add tests for multiple operands.
	* gas/i386/ilp32/quad.s: Likewise.
@
text
@d1 19
@


1.1876
log
@gas: blackfin: gas: blackfin: reject invalid BYTEUNPACK insns

The destination registers must be different with BYTEUNPACK insns,
otherwise the hardware throws up an exception.  So reject them.

Signed-off-by: Mike Frysinger <vapier@@gentoo.org>
@
text
@d1 5
@


1.1875
log
@gas: blackfin: gas: blackfin: reject invalid BYTEOP16M insns

The destination registers must be different with BYTEOP16M insns,
otherwise the hardware throws up an exception.  So reject them.

Signed-off-by: Mike Frysinger <vapier@@gentoo.org>
@
text
@d3 5
@


1.1874
log
@gas: blackfin: gas: blackfin: reject invalid BYTEOP16P insns

The destination registers must be different with BYTEOP16P insns,
otherwise the hardware throws up an exception.  So reject them.

Signed-off-by: Mike Frysinger <vapier@@gentoo.org>
@
text
@d3 5
@


1.1873
log
@gas: blackfin: reject invalid 16bit acc add insns

The 16bit acc add insn cannot assign the two results to the same dreg,
so make sure gas rejects attempts to use this insn variant.

Signed-off-by: Mike Frysinger <vapier@@gentoo.org>
@
text
@d1 5
@


1.1872
log
@Support .quad for x32.

gas/

2011-03-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (handle_quad): New.
	(md_pseudo_table): Add "quad".

gas/testsuite/

2011-03-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/ilp32/inval.s: Remove .quad.
	* gas/i386/ilp32/inval.l: Updated.

	* gas/i386/ilp32/quad.d: New.
	* gas/i386/ilp32/quad.s: Likewise.
@
text
@d1 7
@


1.1871
log
@gas: blackfin: reject invalid register destinations for vector add/sub

The destination registers with vector add/sub insns must be different,
so make sure gas rejects attempt to write these.

Signed-off-by: Mike Frysinger <vapier@@gentoo.org>
@
text
@d1 8
@


1.1870
log
@gas: blackfin: test all 16bit insns

The current 16bit insn test doesn't actually cover all illegal insns
since it stops at 0xa000 instead of 0xc000.  But rather than address
that, replace it with a test that covers all 16bit insns.

Signed-off-by: Mike Frysinger <vapier@@gentoo.org>
@
text
@d3 5
@


1.1869
log
@gas: blackfin: catch invalid dest dregs in dsp mult insns

While we were catching a few mismatches in vectorized dsp mult insns,
the error we displayed was misleading.  Once we fix that up, we can
convert previously dead code into proper checking for destination
dreg matching.

Signed-off-by: Mike Frysinger <vapier@@gentoo.org>
@
text
@d3 6
@


1.1868
log
@gas: blackfin: catch invalid register combinations with SEARCH/BITMUX

The destination registers for SEARCH cannot be the same.  Same rule
for the source registers for BITMUX.

Signed-off-by: Mike Frsyinger <vapier@@gentoo.org>
@
text
@d1 5
@


1.1867
log
@gas/
	* input-scrub.c (line_numberT): Delete.
	(input_scrub_close): Reset line counters.
	* messages.c (as_show_where): Don't print invalid line number.
	(as_warn_internal, as_bad_internal): Likewise.
gas/testsuite/
	* gas/elf/bad-size.err: Adjust expected error.
	* gas/i386/bad-size.warn: Likewise.
	* gas/i386/inval-equ-2.l: Likewise.
	* gas/symver/symver2.l: Likewise.
@
text
@d1 5
@


1.1866
log
@Add a testase for PR gas/12589.

2011-03-17  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/12589
	* gas/i386/pr12589-1.d: New.
	* gas/i386/pr12589-1.s: Likewise.

	* gas/i386/i386.exp: Run pr12589-1.
@
text
@d1 7
@


1.1865
log
@Add --size-check=[error|warning].

gas/

2011-03-16  H.J. Lu  <hongjiu.lu@@intel.com>

	* as.c (show_usage): Add --size-check=.
	(parse_args): Add and handle OPTION_SIZE_CHECK.

	* as.h (flag_size_check): New.

	* config/obj-elf.c (elf_frob_symbol): Use as_bad to report
	bad .size directive only for --size-check=error.

	* doc/as.texinfo: Document --size-check=.

gas/testsuite/

2011-03-16  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/bad-size.d: New.
	* gas/i386/bad-size.s: Likewise.
	* gas/i386/bad-size.warn: Likewise.

	* gas/i386/i386.exp: Run bad-size for ELF targets.
@
text
@d1 8
@


1.1864
log
@Revert the last change on gas/elf/bad-size.err.

2011-03-06  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/elf/bad-size.err: Revert the last change.
@
text
@d1 8
@


1.1863
log
@Mention symbol name in non-constant .size expression.

gas/

2011-03-05  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/obj-elf.c (elf_frob_symbol): Mention symbol name in
	non-constant .size expression.

gas/testsuite/

2011-03-05  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/elf/bad-size.err: Updated.
@
text
@d1 4
@


1.1862
log
@Revert the last change.
@
text
@d1 4
@


1.1861
log
@Set x86_cie_data_alignment to -4 for x32.

gas/

2011-03-04  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (x86_cie_stack_alignment): New.
	(md_begin): Set x86_cie_data_alignment if it isn't set.  Set
	x86_cie_stack_alignment.
	(i386_target_format): Set x86_cie_data_alignment to -4 for x32.
	(tc_x86_frame_initial_instructions): Use x86_cie_stack_alignment
	instead of x86_cie_data_alignment on SP and RA.

gas/testsuite/

2011-03-04  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/ilp32/cfi/cfi-x86_64.d: Updated.
@
text
@a0 4
2011-03-04  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/ilp32/cfi/cfi-x86_64.d: Updated.

@


1.1860
log
@	opcodes/
	* mips-opc.c (mips_builtin_opcodes): Correct register use
	annotation of "alnv.ps".

	gas/testsuite/
	* gas/mips/alnv_ps-swap.d: New test for ALNV.PS instruction
	branch swapping.
	* gas/mips/alnv_ps-swap.s: Source for the new test.
	* gas/mips/mips.exp: Run the new test.
@
text
@d1 4
@


1.1859
log
@	gas/
	* config/tc-mips.c (append_insn): Disable branch relaxation for
	DSP instructions.

	gas/testsuite/
	* gas/mips/relax-bposge.l: New test for DSP branch relaxation.
	* gas/mips/relax-bposge.s: Source for the new test.
	* gas/mips/mips.exp: Run the new test.
@
text
@d3 7
@


1.1858
log
@	gas/
	* config/tc-mips.c (RELAX_BRANCH_ENCODE): Encode the temporary
	register to use.
	(RELAX_BRANCH_UNCOND): Adjust accordingly.
	(RELAX_BRANCH_LIKELY): Likewise.
	(RELAX_BRANCH_LINK): Likewise.
	(RELAX_BRANCH_TOOFAR): Likewise.
	(RELAX_BRANCH_AT): New macro.
	(append_insn): Encode the temporary register to use in standard
	MIPS branch relaxation.
	(relaxed_branch_length): Update according to changes to
	RELAX_BRANCH_ENCODE.
	(md_convert_frag): Use the encoded register as the temporary.

	gas/testsuite/
	* gas/mips/relax-at.d: New test for branch relaxation with .set
	at.
	* gas/mips/relax.s: Update to support the new test.
	* gas/mips/relax.l: Update accordingly.
	* gas/mips/relax.d: Update for multi-arch invocation.
	* gas/mips/mips.exp: Run the new test.  Adjust to run "relax"
	across all applicable architectures.
@
text
@d3 6
@


1.1857
log
@	gas/
	* config/tc-mips.c (mips_fix_adjustable): On REL targets also
	reject PC-relative relocations.

	gas/testsuite/
	* gas/mips/branch-misc-2.d: Adjust for relocation change.
	* gas/mips/branch-misc-2pic.d: Likewise.
	* gas/mips/branch-misc-4.d: New test for PC-relative relocation
	overflow.
	* gas/mips/branch-misc-4-64.d: Likewise.
	* gas/mips/branch-misc-4.s: Source for the new tests.
	* testsuite/gas/mips/mips.exp: Run the new tests.
@
text
@d3 10
@


1.1856
log
@	gas/
	* config/tc-mips.c (md_convert_frag): Correct message
	capitalization.

	gas/testsuite/
	* gas/mips/relax-swap1.l: Adjust for message capitalization
	correction.
	* gas/mips/relax-swap2.l: Likewise.
	* gas/mips/relax.l: Likewise.
@
text
@d3 10
@


1.1855
log
@Don't sign-checking 4-byte relocations for x32.

gas/

2011-02-25  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (reloc): Don't sign-checking 4-byte
	relocations if 64bit relocations aren't allowed.

gas/testsuite/

2011-02-25  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/ilp32/ilp32.exp: Run reloc64.

	* gas/i386/ilp32/reloc64.s: Allow TLS relocations with 32bit
	register destinations.
	* gas/i386/ilp32/reloc64.d: Updated.

	* gas/i386/ilp32/reloc64.l: New.
@
text
@d1 7
@


1.1854
log
@Add a testcase for PR gas/12519.

2011-02-25  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/12519
	* gas/elf/bad-size.d: New.
	* gas/elf/bad-size.err: Likewise.
	* gas/elf/bad-size.s: Likewise.

	* gas/elf/elf.exp: Run bad-size.
@
text
@d3 10
@


1.1853
log
@opcodes: blackfin: fix decoding of ABS

The single cycle dual mac ABS insn was incorrectly decoding the mac1
part of the insn.

Once we fix the decode, update the gas tests to have the correct output.

Signed-off-by: Mike Frysinger <vapier@@gentoo.org>
@
text
@d1 9
@


1.1852
log
@opcodes: blackfin: fix decoding of dsp mult insns

When assigning to a register half, the mac0 part of the mult insn
was not decoding properly.  It would always show a full dreg instead
of the dreg low half.

Once we fix the disassembler, we have to update a few of the gas
tests as their previous expected output was incorrect.

Signed-off-by: Mike Frysinger <vapier@@gentoo.org>
@
text
@d3 4
@


1.1851
log
@gas/opcodes: blackfin: punt BYTEOP2M insn support

The BYTEOP2M insn was part of the initial Blackfin designs, but never made
it into any actual silicon.  So punt support for it.

Signed-off-by: Mike Frysinger <vapier@@gentoo.org>
@
text
@d1 6
a6 1
2011-02-12  Mike Frysinger  <vapier@@gentoo.org>
@


1.1850
log
@2011-02-10  Kai Tietz  <kai.tietz@@onevision.com>

        * gas/cfi/cfi-x86_64.d: Adjust for x64 PE+.
@
text
@d1 5
@


1.1849
log
@	* gas/m68k/cpu32.d: Set explicit architecture for objdump.
	* gas/m68k/mcf-coproc.d: Likewise.
	* gas/m68k/mcf-wdebug.d: Likewise.
@
text
@d1 4
@


1.1848
log
@	* gas/elf/dwarf2-4.s: Don't use @@.
@
text
@d1 6
@


1.1847
log
@Use f32_patt in i386_align_code  when tuning for i686.

gas/

2011-02-08  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/6957
	* config/tc-i386.c (i386_align_code): Use f32_patt when tuning
	for i686.

gas/testsuite/

2011-02-08  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/6957
	* gas/i386/nops-1-i686.d: Updated.
	* gas/i386/nops-3-i686.d: Likewise.
	* gas/i386/nops-4-i686.d: Likewise.
@
text
@d1 4
@


1.1846
log
@Also update cpu_arch_isa_flags for ISA extensions.

gas/

2011-02-08  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (set_cpu_arch): Also update cpu_arch_isa_flags
	for ISA extensions.
	(md_parse_option): Likewise.

gas/testsuite/

2011-02-08  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run nops-4a-i686 and nops-6.

	* gas/i386/nops-4a-i686.d: New.
	* gas/i386/nops-6.d: Likewise.
	* gas/i386/nops-6.s: Likewise.
@
text
@d3 7
@


1.1845
log
@	PR gas/3041
	* gas/m68k/p3041pcrel.s, * gas/m68k/p3041pcrel.d: New test.
	* gas/m68k/all.exp: Add "p3041pcrel" and enable p3041 tests for
	all m68k-aout targets.
@
text
@d1 8
@


1.1844
log
@	gas/
	* doc/as.texinfo (Target TIC6X options): Don't mention "-matomic".
	* doc/c-tic6x.texi (TIC6X Directives): Don't mention ".atomic".
	(TIC6X Options): Don't mention "-matomic".
	* config/tc-tic6x.c (OPTION_MATOMIC, OPTION_MNO_ATOMIC): Delete.
	(md_longopts): Remove corresponding entries.
	(md_parse_option): Don't handle them.
	(md_show_usage): Don't document them.
	(tic6x_atomic): Delete variable.
	(tic6x_update_features): Always copy tic6x_arch_enable to
	tic6x_features.
	(tic6x_arch_enable): Remove references to TIC6X_INSN_ATOMIC.
	(s_tic6x_atomic, s_tic6x_noatomic): Remove functions.
	(md_pseudo_table): Remove ".atomic" and ".noatomic".

	gas/testsuite/
	* gas/tic6x/dir-junk.l: Remove tests for .atomic and .noatomic.
	* gas/tic6x/dir-junk.s: Likewise.
	* gas/tic6x/insns-c674x-bad.d: Remove test.
	* gas/tic6x/insns-c674x-bad.l: Likewise.
	* gas/tic6x/insns-atomic.d: Remove "-matomic" switch.

	include/opcode/
	* tic6x-opcode-table.h (cmtl, ll, sl): Available on C64XP.
	* tic6x.h (TIC6X_INSN_ATOMIC): Remove.
@
text
@d1 7
@


1.1843
log
@	* write.c (write_contents): Include output file name and bfd error
	value when reporting the inability to write to the output file.
	* config/tc-rx.c (rx_handle_align): Do not insert NOPs into align
	frag that has a non-zero fill value.

	* gas/all/align.d: Skip for the RX.
	* gas/elf/group1a.d: Likewise.
	* gas/elf/groupautoa.d: Likewise.
	* gas/elf/elf.exp: Do not run section5 test for the RX port.
	* gas/elf/section4.d: Likewise.
	* gas/elf/section7.d: Likewise.
	* gas/macros/semi.s: Fill with a non-zero pattern.
	* gas/macros/semi.d: Expect non-zero fill value.
	* gas/rx/bcnd.d: Update expected disassembly.
	* gas/rx/bra.d: Likewise.
	* gas/rx/macros.inc: Add reg1 macro.
	* gas/rx/max.sm: Use reg1 macro to avoid generating illegal NOP
	instruction.
	* gas/rx/mov.sm: Likewise.
	* gas/rx/max.d: Update expected disassembly.
	* gas/rx/mov.d: Likewise.
	* gas/rx/rx-asm-good.s: Use Renesas section names.
	* gas/rx/rx-asm-good.d: Update expected disassembly.
@
text
@d1 9
@


1.1842
log
@Don't compress empty debug sections.

gas/

2011-01-18  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/12409
	* write.c (compress_debug): Return if section size is 0.

gas/testsuite/

2011-01-18  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/12409
	* gas/elf/dwarf2-4.d: New.
	* gas/elf/dwarf2-4.s: Likewise.
@
text
@d1 21
@


1.1841
log
@Properly sign-extend byte.

gas/testsuite/

2011-01-18  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/intel.d: Updated.
	* gas/i386/opcode-intel.d: Likewise.
	* gas/i386/opcode-suffix.d: Likewise.
	* gas/i386/opcode.d: Likewise.

opcodes/

2011-01-18  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (sIbT): New.
	(b_T_mode): Likewise.
	(dis386): Replace sIb with sIbT on "pushT".
	(x86_64_table): Replace sIb with Ib on "aam" and "aad".
	(OP_sI): Handle b_T_mode.  Properly sign-extend byte.
@
text
@d3 8
@


1.1840
log
@Add tbm flag and TBM instruction pattern.

2011-01-18  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/ilp32/x86-64-arch-2.d: Add tbm flag and TBM instruction
	pattern.
@
text
@d3 7
@


1.1839
log
@Add support for TBM instructions.

gas/

2011-01-17  Quentin Neill  <quentin.neill@@amd.com>

	* config/tc-i386.c (cpu_arch): Add CPU_TBM_FLAGS.

	* doc/c-i386.texi (i386-TBM): New section.

opcodes/

2011-01-17  Quentin Neill  <quentin.neill@@amd.com>

	* i386-dis.c (REG_XOP_TBM_01): New.
	(REG_XOP_TBM_02): New.
	(reg_table): Add REG_XOP_TBM_01 and REG_XOP_TBM_02 tables.
	(xop_table): Redirect to REG_XOP_TBM_01 and REG_XOP_TBM_02
	entries, and add bextr instruction.

	* i386-gen.c (cpu_flag_init): Add CPU_TBM_FLAGS, CpuTBM.
	(cpu_flags): Add CpuTBM.

	* i386-opc.h (CpuTBM) New.
	(i386_cpu_flags): Add bit cputbm.

	* i386-opc.tbl: Add bextr, blcfill, blci, blcic, blcmsk,
	blcs, blsfill, blsic, t1mskc, and tzmsk.

	* i386-init.h: Regenerated.
	* i386-tbl.h: Regenerated

gas/testsuite

2011-01-17  Quentin Neill  <quentin.neill@@amd.com>

	* gas/i386/tbm.s: New.
	* gas/i386/tbm.d: New.
	* gas/i386/tbm-intel.d: New.
	* gas/i386/x86-64-tbm.s: New.
	* gas/i386/x86-64-tbm.d: New.
	* gas/i386/x86-64-tbm-intel.d: New.
	* gas/i386/arch-10.d: Add tbm flag and TBM instruction pattern.
	* gas/i386/arch-10.s: Add a TBM instruction.
	* gas/i386/arch-10-1.l: Add TBM instruction pattern.
	* gas/i386/arch-10-2.l: Likewise.
	* gas/i386/arch-10-3.l: Likewise.
	* gas/i386/arch-10-4.l: Likewise.
	* gas/i386/x86-64-arch-2.s: Likewise.
	* gas/i386/x86-64-arch-2.d: Likewise.
@
text
@d1 5
@


1.1838
log
@Disallow 64bit relocations in x32 mode.

gas/

2011-01-16  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (disallow_64bit_disp): Renamed to ...
	(disallow_64bit_reloc): This.
	(md_assemble): Don't check movabs for x32 mode here.
	(i386_target_format): Updated.
	(tc_gen_reloc): Check if 64bit relocations are allowed.

gas/testsuite/

2011-01-16  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/ilp32/immed64.s: New.
	* gas/i386/ilp32/reloc64.s: Likewise.
	* gas/i386/ilp32/x86-64-pcrel.s: Likewise.

	* gas/i386/ilp32/inval.s: Add more tests.

	* gas/i386/ilp32/immed64.d: Updated.
	* gas/i386/ilp32/inval.l: Likewise.
	* gas/i386/ilp32/reloc64.d: Likewise.
	* gas/i386/ilp32/x86-64-pcrel.d: Likewise.
@
text
@d1 17
@


1.1837
log
@Don't allow movabs with relocation in x32 mode.

gas/

2011-01-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (disallow_64bit_disp): New.
	(x86_elf_abi): Replace X86_64_LP64_ABI/X86_64_ILP32_ABI with
	X86_64_ABI/X86_64_X32_ABI.
	(md_assemble): Don't allow movabs with relocation in x32 mode.
	(i386_target_format): Updated.

gas/testsuite/

2011-01-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/ilp32/ilp32.exp: Run inval.

	* gas/i386/ilp32/inval.l: New.
	* gas/i386/ilp32/inval.s: Likewise.
	* gas/i386/ilp32/x86-64.s: Likewise.

	* gas/i386/ilp32/x86-64.d: Don't use ../x86_64.s.  Updated.
@
text
@d1 13
@


1.1836
log
@Rename --n32 to --x32.

gas/

2011-01-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (OPTION_N32): Renamed to ...
	(OPTION_X32): This.
	(md_longopts): Replace n32 with x32.
	(md_parse_option): Updated.
	(md_show_usage): Likewise.

	* doc/c-i386.texi: Replace n32 with x32.

gas/testsuite/

2011-01-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/ilp32/cfi/ilp32.exp: Replace --n32 with --x32.
	* gas/i386/ilp32/elf/ilp32.exp: Likewise.
	* gas/i386/ilp32/ilp32.exp: Likewise.
	* gas/i386/ilp32/lns/ilp32.exp: Likewise.

ld/testsuite/

2011-01-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* ld-x86-64/ilp32-1.d: Replace --n32 with --x32.
	* ld-x86-64/ilp32-2.d: Likewise.
	* ld-x86-64/ilp32-3.d: Likewise.
	* ld-x86-64/ilp32-4.d: Likewise.
	* ld-x86-64/ilp32-5.d: Likewise.
	* ld-x86-64/x86-64.exp: Likewise.
@
text
@d1 10
@


1.1835
log
@Take unadjusted offset for loongson3a specific instructions.
@
text
@d1 7
@


1.1834
log
@	bfd/
	* reloc.c (BFD_RELOC_ARM_TLS_GOTDESC, BFD_RELOC_ARM_TLS_CALL,
	BFD_RELOC_ARM_THM_TLS_CALL, BFD_RELOC_ARM_TLS_DESCSEQ,
	BFD_RELOC_ARM_THM_TLS_DESCSEQ, BFD_RELOC_ARM_TLS_DESC): New
	relocations.
	* libbfd.h: Rebuilt.
	* bfd-in2.h: Rebuilt.
	* elf32-arm.c (elf32_arm_howto_table_1): Add new relocations.
	(elf32_arm_reloc_map): Likewise.
	(tls_trampoline, dl_tlsdesc_lazy_trampoline): New PLT templates.
	(elf32_arm_stub_long_branch_any_tls_pic,
	elf32_arm_stub_long_branch_v4t_thumb_tls_pic): New stub templates.
	(DEF_STUBS): Add new stubs.
	(struct_elf_arm_obj_data): Add local_tlsdesc_gotent field.
	(elf32_arm_local_tlsdesc_gotent): New.
	(GOT_TLS_GDESC): New mask.
	(GOT_TLS_GD_ANY): Define.
	(struct elf32_arm_link_hash_entry): Add tlsdesc_got field.
	(elf32_arm_compute_jump_table_size): New.
	(struct elf32_arm_link_hash_table): Add next_tls_desc_index,
	num_tls_desc, dt_tlsdesc_plt, dt_tlsdesc_got, tls_trampoline,
	sgotplt_jump_table_size fields.
	(elf32_arm_link_hash_newfunc): Initialize tlsdesc_got field.
	(elf32_arm_link_hash_table_create): Initialize new fields.
	(arm_type_of_stub): Check TLS desc relocs too.
	(elf32_arm_stub_name): TLS desc relocs can be shared.
	(elf32_arm_tls_transition): Determine relaxation.
	(arm_stub_required_alignment): Add tls stubs.
	(elf32_arm_size_stubs): Likewise.
	(elf32_arm_tls_relax): Perform TLS relaxing.
	(elf32_arm_final_link_relocate): Process TLS DESC relocations.
	(IS_ARM_TLS_GNU_RELOC): New.
	(IS_ARM_TLS_RELOC): Use it.
	(elf32_arm_relocate_section): Perform TLS relaxing.
	(elf32_arm_check_relocs): Anticipate TLS relaxing, process tls
	desc relocations.
	(allocate_dynrelocs): Allocate tls desc relcoations.
	(elf32_arm_output_arch_local_syms): Emit tls trampoline mapping
	symbols.
	(elf32_arm_size_dynamic_sections): Allocate tls trampolines and
	got slots.
	(elf32_arm_always_size_sections): New. Create _TLS_MODULE_BASE
	symbol.
	(elf32_arm_finish_dynamic_symbol): Adjust.
	(arm_put_trampoline): New.
	(elf32_arm_finish_dynamic_sections): Emit new dynamic tags and tls
	trampolines.
	(elf_backend_always_size_sections): Define.

	include/elf/
	* arm.h (R_ARM_TLS_DESC, R_ARM_TLS_GOTDESC, R_ARM_TLS_CALL,
	R_ARM_TLS_DESCSEQ, T_ARM_THM_TLS_CALL, R_ARM_THM_TLS_DESCSEQ): New
	relocations.

	gas/
	* doc/c-arm.texi: Document TLSDESC and TLSCALL relocations, and
	.tlsdescseq directive.
	* config/tc-arm.c (arm_typed_reg_parse): Check for potential reloc
	following a symbol.
	(s_arm_tls_descseq): New directive.
	(md_pseudo_table): Add it.
	(encode_branch): Allow TLS_CALL relocs too.
	(do_t_blx, do_t_branch23): Use encode_branch.
	(reloc_names): Add tlsdesc and tlscall.
	(md_apply_fix): Process tls desc relocations.
	(tc_gen_reloc): Likewise.
	(arm_fix_adjustable): Likewise.

	gas/testsuite/
	* gas/arm/tls.s: Add tlsdesc tests.
	* gas/arm/tls.d: Adjust.

	ld/testsuite/
	* ld-arm/arm-elf.exp: Added tests for new TLS handling
	relocations.
	* ld-arm/tls-descrelax-be32.d: New.
	* ld-arm/tls-descrelax-be32.s: New.
	* ld-arm/tls-descrelax-be8.d: New.
	* ld-arm/tls-descrelax-be8.s: New.
	* ld-arm/tls-descrelax-v7.d: New.
	* ld-arm/tls-descrelax-v7.s: New.
	* ld-arm/tls-descrelax.d: New.
	* ld-arm/tls-descrelax.s: New.
	* ld-arm/tls-descseq.d: New.
	* ld-arm/tls-descseq.r: New.
	* ld-arm/tls-descseq.s: New.
	* ld-arm/tls-gdesc-got.d: New.
	* ld-arm/tls-gdesc-got.s: New.
	* ld-arm/tls-gdesc-nlazy.g: New.
	* ld-arm/tls-gdesc-nlazy.s: New.
	* ld-arm/tls-gdesc.d: New.
	* ld-arm/tls-gdesc.r: New.
	* ld-arm/tls-gdesc.s: New.
	* ld-arm/tls-gdierelax.d: New.
	* ld-arm/tls-gdierelax.s: New.
	* ld-arm/tls-gdierelax2.d: New.
	* ld-arm/tls-gdierelax2.s: New.
	* ld-arm/tls-gdlerelax.d: New.
	* ld-arm/tls-gdlerelax.s: New.
	* ld-arm/tls-lib-loc.d: New.
	* ld-arm/tls-lib-loc.r: New.
	* ld-arm/tls-lib-loc.s: New.
	* ld-arm/tls-longplt-lib.d: New.
	* ld-arm/tls-longplt-lib.s: New.
	* ld-arm/tls-longplt.d: New.
	* ld-arm/tls-longplt.s: New.
	* ld-arm/tls-mixed.r: New.
	* ld-arm/tls-mixed.s: New.
	* ld-arm/tls-thumb1.d: New.
	* ld-arm/tls-thumb1.s: New.
	* ld-arm/arm-elf.exp: New.
@
text
@d1 5
@


1.1833
log
@Update gas/i386/ilp32/x86-64-arch-2.d.

2011-01-07  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/ilp32/x86-64-arch-2.d: Add bmi flag and BMI instruction
	pattern.
@
text
@d1 6
@


1.1832
log
@Add docs and arch tests to BMI.

gas/
2011-01-07  Quentin Neill  <quentin.neill@@amd.com>

	* config/tc-i386.c (cpu_arch): Add CPU_BMI_FLAGS.

	* doc/c-i386.texi (i386-BMI): New section.

gas/testsuite/
2011-01-07  Quentin Neill  <quentin.neill@@amd.com>

	* gas/i386/arch-10.s: Add a BMI instruction.
	* gas/i386/x86-64-arch-2.s: Likewise.
	* gas/i386/arch-10.d: Add bmi flag and BMI instruction pattern.
	* gas/i386/x86-64-arch-2.d: Likewise.
	* gas/i386/arch-10-1.l: Add BMI instruction pattern.
	* gas/i386/arch-10-2.l: Likewise.
	* gas/i386/arch-10-3.l: Likewise.
	* gas/i386/arch-10-4.l: Likewise.
@
text
@d1 5
@


1.1831
log
@* gas/pdp11/pdp11.exp: Add run of absreloc.
@
text
@d1 11
@


1.1830
log
@* config/tc-pdp11.c (parse_op_no_deferred): Allow PC-relative
references to absolute addresses.
@
text
@d3 4
@


1.1829
log
@* gas/pdp11/opcode.d: Fix expected output for sec instruction.
@
text
@d3 5
@


1.1828
log
@	gas/testsuite/
	* gas/arm/blx-bad.s: New.
	* gas/arm/blx-bad.d: New.

	opcodes/
	* arm-dis.c (thumb32_opcodes): BLX must have bit zero clear.
@
text
@d1 4
@


1.1827
log
@Implement BMI instructions.
@
text
@d1 5
@


1.1826
log
@Also expect .zdebug in section name in ILP32 tests.

2011-01-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/ilp32/lns/lns-common-1.d: Also expect .zdebug in
	section name.
	* gas/i386/ilp32/lns/lns-duplicate.d: Likewise.
@
text
@d1 12
@


1.1825
log
@Rotate gas ChangeLogs.
@
text
@d1 6
@


1.1824
log
@	* gas/all/gas.exp (fwdexp): Run on hppa*64*-*-*.  Skip on 32-bit
	hppa*-*-hpux*.
	(octa): Likewise.
@
text
@d1 1
a1 1940
2010-12-31  John David Anglin  <dave.anglin@@nrc-cnrc.gc.ca>

	* gas/all/gas.exp (fwdexp): Run on hppa*64*-*-*.  Skip on 32-bit
	hppa*-*-hpux*.
	(octa): Likewise.

	* gas/cfi/cfi.exp: Skip cfi-common-6 on hppa64*-*.

2010-12-31  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/e32-rel2.d: Accept any file format.
	* gas/mips/e32el-rel2.d: Likewise.
	* gas/mips/elf-rel.d: Likewise.
	* gas/mips/elf-rel2.d: Likewise.
	* gas/mips/elf-rel3.d: Likewise.
	* gas/mips/elfel-rel.d: Likewise.
	* gas/mips/elfel-rel2.d: Likewise.
	* gas/mips/elfel-rel3.d: Likewise.
	* gas/mips/ldstla-32-mips3-shared.d: Likewise.
	* gas/mips/ldstla-32-mips3.d: Likewise.
	* gas/mips/ldstla-32-shared.d: Likewise.
	* gas/mips/ldstla-32.d: Likewise.
	* gas/mips/ldstla-n64-shared.d: Likewise.
	* gas/mips/ldstla-n64.d: Likewise.
	* gas/mips/noat-1.d: Likewise.
	* gas/mips/set-arch.d: Likewise.
	* gas/mips/tls-o32.d: Likewise.

2010-12-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/ilp32/lns/ilp32.exp: New.
	* gas/i386/ilp32/lns/lns-common-1.d: Likewise.
	* gas/i386/ilp32/lns/lns-duplicate.d: Likewise.

	* gas/i386/ilp32/cfi/cfi-common-1.d: New.
	* gas/i386/ilp32/cfi/cfi-common-2.d: Likewise.
	* gas/i386/ilp32/cfi/cfi-common-3.d: Likewise.
	* gas/i386/ilp32/cfi/cfi-common-4.d: Likewise.
	* gas/i386/ilp32/cfi/cfi-common-5.d: Likewise.
	* gas/i386/ilp32/cfi/cfi-common-6.d: Likewise.
	* gas/i386/ilp32/cfi/cfi-common-7.d: Likewise.
	* gas/i386/ilp32/cfi/cfi-x86_64.d: Likewise.
	* gas/i386/ilp32/cfi/ilp32.exp: Likewise.
	* gas/i386/ilp32/elf/ehopt0.d: Likewise.
	* gas/i386/ilp32/elf/equ-reloc.d: Likewise.
	* gas/i386/ilp32/elf/file.d: Likewise.
	* gas/i386/ilp32/elf/group0a.d: Likewise.
	* gas/i386/ilp32/elf/group0b.d: Likewise.
	* gas/i386/ilp32/elf/group1a.d: Likewise.
	* gas/i386/ilp32/elf/group1b.d: Likewise.
	* gas/i386/ilp32/elf/ifunc-1.d: Likewise.
	* gas/i386/ilp32/elf/ilp32.exp: Likewise.
	* gas/i386/ilp32/elf/redef.d: Likewise.
	* gas/i386/ilp32/elf/section0.d: Likewise.
	* gas/i386/ilp32/elf/section1.d: Likewise.
	* gas/i386/ilp32/elf/section3.d: Likewise.
	* gas/i386/ilp32/elf/section4.d: Likewise.
	* gas/i386/ilp32/elf/section6.d: Likewise.
	* gas/i386/ilp32/elf/section7.d: Likewise.
	* gas/i386/ilp32/elf/struct.d: Likewise.
	* gas/i386/ilp32/elf/symtab.d: Likewise.
	* gas/i386/ilp32/elf/symver.d: Likewise.

	* gas/i386/ilp32/ilp32.exp: New.
	* gas/i386/ilp32/immed64.d: Likewise.
	* gas/i386/ilp32/mixed-mode-reloc64.d: Likewise.
	* gas/i386/ilp32/reloc64.d: Likewise.
	* gas/i386/ilp32/rex.d: Likewise.
	* gas/i386/ilp32/rexw.d: Likewise.
	* gas/i386/ilp32/svme64.d: Likewise.
	* gas/i386/ilp32/x86-64-addr32.d: Likewise.
	* gas/i386/ilp32/x86-64-addr32-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-aes.d: Likewise.
	* gas/i386/ilp32/x86-64-aes-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-amdfam10.d: Likewise.
	* gas/i386/ilp32/x86-64-arch-1.d: Likewise.
	* gas/i386/ilp32/x86-64-arch-2.d: Likewise.
	* gas/i386/ilp32/x86-64-avx.d: Likewise.
	* gas/i386/ilp32/x86-64-avx-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-avx-swap.d: Likewise.
	* gas/i386/ilp32/x86-64-avx-swap-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-branch.d: Likewise.
	* gas/i386/ilp32/x86-64-cbw.d: Likewise.
	* gas/i386/ilp32/x86-64-cbw-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-clmul.d: Likewise.
	* gas/i386/ilp32/x86-64-clmul-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-crc32.d: Likewise.
	* gas/i386/ilp32/x86-64-crc32-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-crx.d: Likewise.
	* gas/i386/ilp32/x86-64-crx-suffix.d: Likewise.
	* gas/i386/ilp32/x86-64.d: Likewise.
	* gas/i386/ilp32/x86-64-disp.d: Likewise.
	* gas/i386/ilp32/x86-64-disp-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-drx.d: Likewise.
	* gas/i386/ilp32/x86-64-drx-suffix.d: Likewise.
	* gas/i386/ilp32/x86-64-ept.d: Likewise.
	* gas/i386/ilp32/x86-64-ept-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-fma4.d: Likewise.
	* gas/i386/ilp32/x86-64-fma.d: Likewise.
	* gas/i386/ilp32/x86-64-fma-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-gidt.d: Likewise.
	* gas/i386/ilp32/x86-64-ifunc.d: Likewise.
	* gas/i386/ilp32/x86-64-intel64.d: Likewise.
	* gas/i386/ilp32/x86-64-io.d: Likewise.
	* gas/i386/ilp32/x86-64-io-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-io-suffix.d: Likewise.
	* gas/i386/ilp32/x86-64-localpic.d: Likewise.
	* gas/i386/ilp32/x86-64-mem.d: Likewise.
	* gas/i386/ilp32/x86-64-mem-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-movbe.d: Likewise.
	* gas/i386/ilp32/x86-64-movbe-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-nops-1-core2.d: Likewise.
	* gas/i386/ilp32/x86-64-nops-1.d: Likewise.
	* gas/i386/ilp32/x86-64-nops-1-k8.d: Likewise.
	* gas/i386/ilp32/x86-64-nops-1-nocona.d: Likewise.
	* gas/i386/ilp32/x86-64-nops-1-pentium.d: Likewise.
	* gas/i386/ilp32/x86-64-nops-2.d: Likewise.
	* gas/i386/ilp32/x86-64-nops-3.d: Likewise.
	* gas/i386/ilp32/x86-64-nops-4-core2.d: Likewise.
	* gas/i386/ilp32/x86-64-nops-4.d: Likewise.
	* gas/i386/ilp32/x86-64-nops-4-k8.d: Likewise.
	* gas/i386/ilp32/x86-64-nops-5.d: Likewise.
	* gas/i386/ilp32/x86-64-nops-5-k8.d: Likewise.
	* gas/i386/ilp32/x86-64-nops.d: Likewise.
	* gas/i386/ilp32/x86-64-opcode.d: Likewise.
	* gas/i386/ilp32/x86-64-opcode-inval.d: Likewise.
	* gas/i386/ilp32/x86-64-opcode-inval-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-opts.d: Likewise.
	* gas/i386/ilp32/x86-64-opts-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-pcrel.d: Likewise.
	* gas/i386/ilp32/x86-64-reg.d: Likewise.
	* gas/i386/ilp32/x86-64-reg-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-rep.d: Likewise.
	* gas/i386/ilp32/x86-64-rep-suffix.d: Likewise.
	* gas/i386/ilp32/x86-64-rip.d: Likewise.
	* gas/i386/ilp32/x86-64-rip-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-sib.d: Likewise.
	* gas/i386/ilp32/x86-64-sib-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-simd.d: Likewise.
	* gas/i386/ilp32/x86-64-simd-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-simd-suffix.d: Likewise.
	* gas/i386/ilp32/x86-64-sse2avx.d: Likewise.
	* gas/i386/ilp32/x86-64-sse2avx-opts.d: Likewise.
	* gas/i386/ilp32/x86-64-sse2avx-opts-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-sse3.d: Likewise.
	* gas/i386/ilp32/x86-64-sse4_1.d: Likewise.
	* gas/i386/ilp32/x86-64-sse4_1-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-sse4_2.d: Likewise.
	* gas/i386/ilp32/x86-64-sse4_2-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-sse-check.d: Likewise.
	* gas/i386/ilp32/x86-64-sse-check-none.d: Likewise.
	* gas/i386/ilp32/x86-64-sse-check-warn.d: Likewise.
	* gas/i386/ilp32/x86-64-sse-noavx.d: Likewise.
	* gas/i386/ilp32/x86-64-ssse3.d: Likewise.
	* gas/i386/ilp32/x86-64-stack.d: Likewise.
	* gas/i386/ilp32/x86-64-stack-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-stack-suffix.d: Likewise.
	* gas/i386/ilp32/x86-64-unwind.d: Likewise.
	* gas/i386/ilp32/x86-64-vmx.d: Likewise.
	* gas/i386/ilp32/x86-64-xsave.d: Likewise.
	* gas/i386/ilp32/x86-64-xsave-intel.d: Likewise.

2010-12-26  John David Anglin  <dave.anglin@@nrc-cnrc.gc.ca>

	PR gas/11395
	* gas/hppa/basic/add2.s: Add test for a simple doubleword carry
	instruction.
	* gas/hppa/basic/sub2.s: Add tests for simple word and doubleword
	borrow instructions.
	* gas/hppa/basic/basic.exp: Update regexps for above.

2010-12-18  Mingjie Xing  <mingjie.xing@@gmail.com>

	* gas/mips/loongson-3a-2.s, gas/mips/loongson-3a-2.d,
	gas/mips/loongson-3a-3.s, gas/mips/loongson-3a-3.d: New tests.
	* gas/mips/mips.exp: Run them.

2010-12-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/elf/elf.exp: Run section9.

	* gas/elf/section9.d: New.
	* gas/elf/section9.s: Likewise.

2010-12-11  Mingming Sun  <mingm.sun@@gmail.com>

	* gas/mips/loongson-3a.s, gas/mips/loongson-3a.d: New test.
	* gas/mips/mips.exp: Run it.

2010-12-09  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/elf_ase_mips16.d: Update test for new MIPS16 ASE flag
	semantics.
	* gas/mips/elf_ase_mips16-2.d: New test.
	* gas/mips/nop.s: Source for the new test.
	* gas/mips/mips.exp: Run the new test.

2010-12-09  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/jal-svr4pic.d: Also use wildcard address matching in
	relocations.
	* gas/mips/mips1@@jal-svr4pic.d: Likewise.
	* gas/mips/jal-svr4pic-noreorder.d: Likewise.
	* gas/mips/mips1@@jal-svr4pic-noreorder.d: Likewise.

2010-12-09  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/ldstla-32.d: Update according to a 16-bit constant
	offset optimization.
	* gas/mips/ldstla-32-mips3.d: Likewise.
	* gas/mips/ldstla-32-shared.d: Likewise.
	* gas/mips/ldstla-32-mips3-shared.d: Likewise.

2010-12-09  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/at-2.l: Adjust according to message capitalization
	fixes.
	* gas/mips/illegal.l: Likewise.
	* gas/mips/jalr.l: Likewise.
	* gas/mips/octeon-ill.l: Likewise.
	* gas/mips/tls-ill.l: Likewise.

2010-12-09  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/ldstla-32.d: Use wildcard address matching.
	* gas/mips/ldstla-32-mips3.d: Likewise.
	* gas/mips/ldstla-32-shared.d: Likewise.
	* gas/mips/ldstla-32-mips3-shared.d: Likewise.

2010-12-02  Richard Sandiford  <richard.sandiford@@linaro.org>

	* gas/i386/ifunc-2.s, gas/i386/ifunc-2.l: New test.
	* gas/i386/ifunc-3.s, gas/i386/ifunc-3.d: Likeise.
	* gas/i386/i386.exp: Run them.

2010-11-20  Richard Sandiford  <rdsandiford@@googlemail.com>

	* lib/gas-defs.exp (regexp_diff): Delete.
	(run_dump_test): Remove final "" argument in call to regexp_diff.
	(run_list_test): Likewise.
	(run_list_test_stdin): Likewise.
	* gas/all/gas.exp (test_cond): Likewise.
	* gas/elf/elf.exp (run_elf_list_test): Likewise.
	* gas/m68k/all.exp: Likewise.
	* gas/mep/complex-relocs.exp (regexp_test): Likewise.
	* gas/mt/relocs.exp (regexp_test): Likewise.
	* gas/symver/symver.exp (run_error_test): Likewise.

2010-11-20  Richard Sandiford  <rdsandiford@@googlemail.com>

	* lib/gas-defs.exp (load_common_lib): New function.  Load
	binutils-common.exp.
	(is_elf_format, is_aout_format, is_pecoff_format): Delete.

2010-11-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/elf/dwarf2-3.d: Also expect .zdebug in section name.
	* gas/i386/debug1.d: Likewise.
	* gas/lns/lns-common-1.d: Likewise.
	* gas/lns/lns-duplicate.d: Likewise.

2010-11-15  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	PR gas/12198
	* gas/arm/pr12198-1.d: New test.
	* gas/arm/pr12918-1.s: Likewise.
	* gas/arm/pr12198-2.d: Likewise.
	* gas/arm/pr12918-2.s: Likewise.

2010-11-13  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/elf-rel28.s, gas/mips/elf-rel28-n32.d,
	gas/mips/elf-rel28-n64.d: New test.
	* gas/mips/mips.exp: Run it.

2010-11-10  Richard Sandiford  <richard.sandiford@@linaro.org>

	* gas/arm/plt-1.s, gas/arm/plt-1.d: New test.

2010-11-08  Thomas Schwinge  <thomas@@schwinge.name>

	* lib/gas-defs.exp (is_elf_format): Consider for *-*-gnu*, too.
	* gas/elf/elf.exp: Likewise.
	* gas/symver/symver.exp: Likewise.

2010-11-03  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/12186
	* gas/i386/gotpc.s: Add more _GLOBAL_OFFSET_TABLE_ test.
	* gas/i386/gotpc.d: Updated.

2010-11-02  Joseph Myers  <joseph@@codesourcery.com>

	* gas/tic6x/attr-array-directive-1.d,
	gas/tic6x/attr-array-directive-1.s,
	gas/tic6x/attr-array-directive-2.d,
	gas/tic6x/attr-array-directive-2.s,
	gas/tic6x/attr-array-directive-3.d,
	gas/tic6x/attr-array-directive-3.s,
	gas/tic6x/attr-array-directive-4.d,
	gas/tic6x/attr-array-directive-4.s,
	gas/tic6x/attr-conformance-directive-1.d,
	gas/tic6x/attr-conformance-directive-1.s,
	gas/tic6x/attr-conformance-directive-2.d,
	gas/tic6x/attr-conformance-directive-2.s,
	gas/tic6x/attr-pic-directive-1.d,
	gas/tic6x/attr-pic-directive-1.s,
	gas/tic6x/attr-pic-directive-2.d,
	gas/tic6x/attr-pic-directive-2.s,
	gas/tic6x/attr-pic-opts-mno-pic.d, gas/tic6x/attr-pic-opts-mpic.d,
	gas/tic6x/attr-pid-directive-1.d,
	gas/tic6x/attr-pid-directive-1.s,
	gas/tic6x/attr-pid-directive-2.d,
	gas/tic6x/attr-pid-directive-2.s,
	gas/tic6x/attr-pid-opts-mpid-far.d,
	gas/tic6x/attr-pid-opts-mpid-near.d,
	gas/tic6x/attr-pid-opts-mpid-no.d,
	gas/tic6x/attr-stack-directive-1.d,
	gas/tic6x/attr-stack-directive-1.s,
	gas/tic6x/attr-stack-directive-2.d,
	gas/tic6x/attr-stack-directive-2.s,
	gas/tic6x/attr-wchar-directive-1.d,
	gas/tic6x/attr-wchar-directive-1.s,
	gas/tic6x/attr-wchar-directive-2.d,
	gas/tic6x/attr-wchar-directive-2.s: New tests.

2010-10-29  Joseph Myers  <joseph@@codesourcery.com>

	* gas/tic6x/attr-compatibility-directive-1.d,
	gas/tic6x/attr-compatibility-directive-1.s,
	gas/tic6x/attr-compatibility-directive-2.d,
	gas/tic6x/attr-compatibility-directive-2.s: New tests.

2010-10-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* elf/dwarf2-1.s: Replace .zdebug_abbrev section with
	.debug_abbrev section.
	* elf/dwarf2-2.3: Likewise.

	* elf/dwarf2-1.d: Pass --compress-debug-sections to assembler.
	Updated.
	* elf/dwarf2-2.d: Likewise.

	* gas/i386/i386.exp: Remove xfail on dw2-compress-2 and
	x86-64-dw2-compress-2.

2010-10-29  Bernd Schmidt  <bernds@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* gas/tic6x/attr-dsbt-directive-1.d,
	gas/tic6x/attr-dsbt-directive-1.s,
	gas/tic6x/attr-dsbt-directive-2.d,
	gas/tic6x/attr-dsbt-directive-2.s,
	gas/tic6x/attr-dsbt-opts-mdsbt.d,
	gas/tic6x/attr-dsbt-opts-mno-dsbt.d: New tests.

2010-10-28  Thomas Schwinge  <thomas@@schwinge.name>

	* gas/iq2000/load-hazards.exp: Sort all filename globs.
	* gas/iq2000/yield.exp: Likewise.
	* gas/mt/errors.exp: Likewise.

2010-10-28  Alan Modra  <amodra@@gmail.com>

	* gas/elf/elf.exp (groupautob): Don't run on xtensa.
	* gas/elf/groupautoa.d: Change test name.
	* gas/elf/groupautob.d: Change test name.

2010-10-27  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* gas/all/gas.exp: Don't run byte test on s390.

2010-10-27  Alan Modra  <amodra@@gmail.com>

	* gas/i386/x86-64-relax-1.s: Use .balign. not .align.
	* gas/i386/x86-64-relax-1.d: Remove label match, match pe output.

	* gas/i386/relax-1.s: Use .p2align, not .align.
	* gas/i386/relax-2.s: Likewise.
	* gas/i386/relax-1.d: Remove label match.
	* gas/i386/relax-2.d: Likewise.  Correct test name.

2010-10-26  Dave Korn  <dave.korn.cygwin@@gmail.com>

	* gas/i386/relax-1.d: Generalize regexes a bit.
	* gas/i386/relax-2.d: Likewise.

2010-10-25  Chao-ying Fu  <fu@@mips.com>

	* gas/mips/mips32-dsp.d, gas/mips/mips32-dsp.s: Add madd, maddu, msub,
	msubu, mult, multu.

2010-10-25  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/12049
	* gas/i386/i386.exp: Run relax-1 and relax-2 for all 32bit
	targets.  Run x86-64-relax-1.

	* gas/i386/x86-64-relax-1.d: New.
	* gas/i386/x86-64-relax-1.s: Likewise.

2010-10-24  Maciej W. Rozycki  <macro@@linux-mips.org>

	* gas/mips/mips.exp: Simplify enabling of MIPS16 testing.

2010-10-24  Maciej W. Rozycki  <macro@@linux-mips.org>

	* gas/mips/at-1.d: Handle ECOFF relocations.
	* gas/mips/eret-1.d: Handle ECOFF.
	* gas/mips/eret-2.d: Likewise.
	* gas/mips/eret-3.d: Likewise.
	* gas/mips/mips.exp: Only run "aent" for ELF.

2010-10-24  Maciej W. Rozycki  <macro@@linux-mips.org>

	* gas/mips/ld.s: Adjust to let SD, L.D, S.D, LDC1 and SDC1
	macros to be tested, according to the "tsd", "tl_d", "ts_d",
	"tldc1" and "tsdc1" symbols.
	* gas/mips/sd.d: New test.
	* gas/mips/ecoff@@sd.d: Likewise, ECOFF version.
	* gas/mips/mips1@@ecoff@@sd.d: Likewise, MIPS I/ECOFF version.
	* gas/mips/r3000@@ecoff@@sd.d: Likewise, R3000/ECOFF version.
	* gas/mips/r3900@@ecoff@@sd.d: Likewise, R3900/ECOFF version.
	* gas/mips/mips2@@ecoff@@sd.d: Likewise, MIPS II/ECOFF version.
	* gas/mips/mips32@@ecoff@@sd.d: Likewise, MIPS32/ECOFF version.
	* gas/mips/mips32r2@@ecoff@@sd.d: Likewise, MIPS32r2/ECOFF
	version.
	* gas/mips/sd-forward.d: New test.
	* gas/mips/ecoff@@sd-forward.d: Likewise, ECOFF version.
	* gas/mips/mips1@@ecoff@@sd-forward.d: Likewise, MIPS I/ECOFF
	version.
	* gas/mips/r3000@@ecoff@@sd-forward.d: Likewise, R3000/ECOFF
	version.
	* gas/mips/r3900@@ecoff@@sd-forward.d: Likewise, R3900/ECOFF
	version.
	* gas/mips/mips2@@ecoff@@sd-forward.d: Likewise, MIPS II/ECOFF
	version.
	* gas/mips/mips32@@ecoff@@sd-forward.d: Likewise, MIPS32/ECOFF
	version.
	* gas/mips/mips32r2@@ecoff@@sd-forward.d: Likewise, MIPS32r2/ECOFF
	version.
	* gas/mips/l_d.d: New test.
	* gas/mips/mips1@@l_d.d: Likewise, MIPS I version.
	* gas/mips/r3000@@l_d.d: Likewise, R3000 version.
	* gas/mips/r3900@@l_d.d: Likewise, R3900 version.
	* gas/mips/l_d-forward.d: New test.
	* gas/mips/mips1@@l_d-forward.d: Likewise, MIPS I version.
	* gas/mips/r3000@@l_d-forward.d: Likewise, R3000 version.
	* gas/mips/r3900@@l_d-forward.d: Likewise, R3900 version.
	* gas/mips/s_d.d: New test.
	* gas/mips/mips1@@s_d.d: Likewise, MIPS I version.
	* gas/mips/r3000@@s_d.d: Likewise, R3000 version.
	* gas/mips/r3900@@s_d.d: Likewise, R3900 version.
	* gas/mips/s_d-forward.d: New test.
	* gas/mips/mips1@@s_d-forward.d: Likewise, MIPS I version.
	* gas/mips/r3000@@s_d-forward.d: Likewise, R3000 version.
	* gas/mips/r3900@@s_d-forward.d: Likewise, R3900 version.
	* gas/mips/ldc1.d: New test.
	* gas/mips/ldc1-forward.d: Likewise.
	* gas/mips/sdc1.d: Likewise.
	* gas/mips/sdc1-forward.d: Likewise.
	* gas/mips/sd-n32.d: Likewise.
	* gas/mips/sd-n64.d: Likewise.
	* gas/mips/sd-f-n32.d: Likewise.
	* gas/mips/sd-f-n64.d: Likewise.
	* gas/mips/l_d-n32.d: Likewise.
	* gas/mips/l_d-n64.d: Likewise.
	* gas/mips/l_d-f-n32.d: Likewise.
	* gas/mips/l_d-f-n64.d: Likewise.
	* gas/mips/s_d-n32.d: Likewise.
	* gas/mips/s_d-n64.d: Likewise.
	* gas/mips/s_d-f-n32.d: Likewise.
	* gas/mips/s_d-f-n64.d: Likewise.
	* gas/mips/ldc1-n32.d: Likewise.
	* gas/mips/ldc1-n64.d: Likewise.
	* gas/mips/ldc1-f-n32.d: Likewise.
	* gas/mips/ldc1-f-n64.d: Likewise.
	* gas/mips/sdc1-n32.d: Likewise.
	* gas/mips/sdc1-n64.d: Likewise.
	* gas/mips/sdc1-f-n32.d: Likewise.
	* gas/mips/sdc1-f-n64.d: Likewise.
	* gas/mips/mips.exp: Run the new tests.

2010-10-24  Maciej W. Rozycki  <macro@@linux-mips.org>

	* gas/mips/ld.s: Adjust to let data objects be only
	defined/declared (as appropriate) at the end of assembly, based
	on the presence or not of the "forward" symbol.
	* gas/mips/ld-forward.d: New test.
	* gas/mips/mips1@@ld-forward.d: Likewise. MIPS I version.
	* gas/mips/r3000@@ld-forward.d: Likewise, R3000 version.
	* gas/mips/ecoff@@ld-forward.d: Likewise, ECOFF version.
	* gas/mips/r3900@@ecoff@@ld-forward.d: Likewise, R3900/ECOFF
	version.
	* gas/mips/mips2@@ecoff@@ld-forward.d: Likewise, MIPS II/ECOFF
	version.
	* gas/mips/mips32@@ecoff@@ld-forward.d: Likewise, MIPS32/ECOFF
	version.
	* gas/mips/mips32r2@@ecoff@@ld-forward.d: Likewise, MIPS32r2/ECOFF
	version.
	* gas/mips/ld-n32-forward.d: New test.
	* gas/mips/ld-n64-forward.d: Likewise.
	* gas/mips/mips.exp: Run the new tests.

2010-10-24  Maciej W. Rozycki  <macro@@linux-mips.org>

	* gas/mips/ld-n32.d: New test.
	* gas/mips/ld-n64.d: Likewise.
	* gas/mips/mips.exp: Run the new tests.

2010-10-24  Maciej W. Rozycki  <macro@@linux-mips.org>

	* gas/mips/ld.d: Rename to...
	* gas/mips/mips1@@ld.d: ... this.
	* gas/mips/ld-ilocks.d: Rename to...
	* gas/mips/ld.d: ... this.
	* gas/mips/r3000@@ld.d: New test, R3000 version.
	* gas/mips/ecoff@@ld.d: Likewise, ECOFF version.
	* gas/mips/r3900@@ecoff@@ld.d: Likewise, R3900/ECOFF version.
	* gas/mips/mips2@@ecoff@@ld.d: Likewise, MIPS II/ECOFF version.
	* gas/mips/mips32@@ecoff@@ld.d: Likewise, MIPS32/ECOFF version.
	* gas/mips/mips32r2@@ecoff@@ld.d: Likewise, MIPS32r2/ECOFF version.
	* gas/mips/mips.exp: Remove "ld-ilocks" and run "ld" over all
	architectures matching "mips1".

2010-10-24  Maciej W. Rozycki  <macro@@linux-mips.org>
            Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/mips.exp (run_dump_test_arch): Check for the presence
	of a file-format-specific test too.
	(run_dump_test_arches): Pull elf, ecoff and aout variables for
	use by the above.

2010-10-24  Maciej W. Rozycki  <macro@@linux-mips.org>

	* gas/mips/ld.s: Remove "l.d", "s.d" and "sd" instructions.
	* gas/mips/ld.d: Adjust accordingly.
	* gas/mips/ld-ilocks.d: Likewise

2010-10-24  Maciej W. Rozycki  <macro@@linux-mips.org>

	* gas/mips/ld.s: Remove ".set mips1".
	* gas/mips/ld.d: Remove "-march=r4000" and "-mmips:4000" from
	gas/objdump options.
	* gas/mips/ld-ilocks.d: Add "-32" to gas options.
	* gas/mips/mips.exp: Run the two cases with run_dump_test_arches.

2010-10-24  Maciej W. Rozycki  <macro@@linux-mips.org>

	* gas/mips/ld.s: Remove MIPS III bits.
	* gas/mips/ld.d: Adjust accordingly.
	* gas/mips/ld-ilocks.d: Likewise.
	* gas/mips/ld-ilocks-addr32.d: Remove file.
	* gas/mips/mips.exp: Adjust accordingly.

2010-10-24  Maciej W. Rozycki  <macro@@linux-mips.org>

	* gas/mips/ld.d: Spell out reloc names.
	* gas/mips/ld-ilocks.d: Likewise.
	* gas/mips/ld-ilocks-addr32.d: Likewise.

2010-10-23  Mark Mitchell  <mark@@codesourcery.com>

	* gas/elf/elf.exp: Add group0c test.
	* gas/elf/group0c.d: New.
	* gas/elf/group0a.d: Expect ".group" for the name of group
	sections.
	* gas/elf/group0b.d: Likewise.
	* gas/elf/group1a.d: Likewise.
	* gas/elf/group1b.d: Likewise.
	* gas/elf/groupautoa.d: Likewise.
	* gas/elf/groupautob.d: Likewise.
	* gas/elf/section4.d: Likewise.
	* gas/ia64/group-1.d: Likewise.  Adjust hard-coded constants.

2010-10-22  Nick Clifton  <nickc@@redhat.com>

	* gas/all/fwdexp.d: Also look for f8ffffff.
	* gas/arm/msr-reg-thumb.d: Skip for non-ELF based targets.
	* gas/arm/vldr.d: Likewise.
	* gas/arm/thumb2_ldmstm.d: Allow for extra NOPs at the end of the disassembly.
	* gas/cfi/cfi.exp (cfi-arm-1): Only run for ELF based ARM targets.

2010-10-21  Joseph Myers  <joseph@@codesourcery.com>

	* gas/tic6x/attr-arch-directive-1.d,
	gas/tic6x/attr-arch-directive-2.d,
	gas/tic6x/attr-arch-directive-3.d,
	gas/tic6x/attr-arch-directive-4.d,
	gas/tic6x/attr-arch-directive-4.s,
	gas/tic6x/attr-arch-directive-5.d,
	gas/tic6x/attr-arch-directive-5.s,
	gas/tic6x/attr-arch-opts-c62x.d, gas/tic6x/attr-arch-opts-c64x+.d,
	gas/tic6x/attr-arch-opts-c64x.d, gas/tic6x/attr-arch-opts-c674x.d,
	gas/tic6x/attr-arch-opts-c67x+.d, gas/tic6x/attr-arch-opts-c67x.d,
	gas/tic6x/attr-arch-opts-none-1.d,
	gas/tic6x/attr-arch-opts-none-2.d,
	gas/tic6x/attr-arch-opts-override-1.d,
	gas/tic6x/attr-arch-opts-override-2.d: Update for attribute
	renaming and renumbering.

2010-10-19  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/12049
	* gas/i386/i386.exp: Run relax-1 and relax-2.

	* gas/i386/relax-1.d: New.
	* gas/i386/relax-1.s: Likewise.
	* gas/i386/relax-2.d: Likewise.
	* gas/i386/relax-2.s: Likewise.

2010-10-18  Kai Tietz  <kaI.tietz@@onevision.com>

	* gas/i386/disp32.d: Adjust initial symbol check.
	* gas/i386/x86-64-disp32.d: Likewise.

2010-10-18  Maciej W. Rozycki  <macro@@linux-mips.org>

	* gas/mips/ld.d: Spell out section offsets and addends
	explicitly.  Clean up some regexps.
	* gas/mips/ld-ilocks.d: Likewise.  Add missing "$" prefixes to
	the names of FP registers.
	* gas/mips/ld-ilocks-addr32.d: Likewise.
	* gas/mips/ld.s: Align sections to 4k, adjust padding.

2010-10-18  Maciej W. Rozycki  <macro@@linux-mips.org>

	* gas/mips/ld.d: Use wildcard address matching.
	* gas/mips/ld-ilocks.d: Likewise.
	* gas/mips/ld-ilocks-addr32.d: Likewise.

2010-10-18  Maciej W. Rozycki  <macro@@linux-mips.org>

	* gas/mips/mips.exp (run_dump_test_arch): Get the name of the
	architecture to check against for an architecture-specific test
	from the properties instead of the name passed.

2010-10-18  Maciej W. Rozycki  <macro@@linux-mips.org>

	* gas/mips/lineno.s: Convert to o32.
	* gas/mips/lineno.d: Adjust patterns accordingly.  Force the o32
	ABI.

2010-10-16  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run x86-64-nops-1-g64.

	* gas/i386/x86-64-nops-1.d: Remove -mtune=generic64.

	* gas/i386/x86-64-nops-1-g64.d: New.

2010-10-15  David Gibson  <david.gibson@@analog.com>

	* gas/bfin/loop_label.s, gas/bfin/loop_label.d,
	gas/bfin/loop_label2.s, gas/bfin/loop_label2.d,
	gas/bfin/loop_temps.s, gas/bfin/loop_temps.d: New tests.
	* gas/bfin/bfin.exp: Add loop_label, loop_label2, and loop_temps.

2010-10-15  Robin Getz  <robin.getz@@analog.com>

	* gas/bfin/16bit_illegals.s, gas/bfin/16bit_illegals.d,
	gas/bfin/parallel_illegal.s, gas/bfin/parallel_illegal.d: New tests.
	* gas/bfin/bfin.exp: Add 16bit_illegals and parallel_illegal.

2010-10-15  Mike Frysinger  <vapier@@gentoo.org>

	* gas/bfin/video.s: Add BYTEOP2M insns.
	* gas/bfin/video.d, gas/bfin/video2.s, gas/bfin/video2.d: Likewise.

2010-10-15  Mike Frysinger  <vapier@@gentoo.org>

	* gas/bfin/video.d: Change addresses to regexps.
	* gas/bfin/video2.d: Likewise.

2010-10-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run inval-reg.

	* gas/i386/inval-reg.l: New.
	* gas/i386/inval-reg.s: Likewise.

2010-10-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/disp32.d: New.
	* gas/i386/disp32.s: Likewise.
	* gas/i386/x86-64-disp32.d: Likewise.
	* gas/i386/x86-64-disp32.s: Likewise.

	* gas/i386/i386.exp: Run disp32 and x86-64-disp32.

2010-10-11  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* gas/s390/zarch-z196.d: Adjust the load/store on condition
	instructions.
	* gas/s390/zarch-z196.s: Likewise.

2010-10-07  Bernd Schmidt  <bernds@@codesourcery.com>

	* gas/tic6x/insns-c674x-sploop.d: Add two more sploop/spkernel tests.
	* gas/tic6x/insns-c674x-sploop.s: Likewise.

2010-10-04  David Daney  <ddaney@@caviumnetworks.com>

	* gas/mips/mips.exp (octeon-pref): Run the new test.
	* gas/mips/octeon-pref.s: New test.
	* gas/mips/octeon-pref.d: New expected results for the new test.

2010-09-29  Alan Modra  <amodra@@gmail.com>

	* gas/all/fwdexp.d, * gas/all/fwdexp.s: New test.
	* gas/all/gas.exp: Run it.

2010-09-29  Alan Modra  <amodra@@gmail.com>

	* lib/gas-defs.exp (is_elf_format): Merge with binutils and ld versions.
	(is_aout_format): Copy from ld testsuite.
	(is_pecoff_format): Merge with ld version.

2010-09-27  Bernd Schmidt  <bernds@@codesourcery.com>

	* gas/tic6x/got-reloc.s: New test.
	* gas/tic6x/got-reloc.d: New test.

2010-09-27  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* gas/s390/s390.exp: Run the zarch-z196 test.
	* gas/s390/zarch-z196.d: Add new instructions.
	* gas/s390/zarch-z196.s: Likewise.
	* gas/s390/zarch-z9-109.d: Likewise.
	* gas/s390/zarch-z9-109.s: Likewise.

2010-09-27  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* gas/s390/esa-g5.d: Adjust serveral instructions.
	* gas/s390/esa-reloc.d: Likewise.
	* gas/s390/esa-z990.d: Likewise.
	* gas/s390/zarch-reloc.d: Likewise.
	* gas/s390/zarch-z10.d: Likewise.
	* gas/s390/zarch-z9-ec.d: Likewise.
	* gas/s390/zarch-z900.d: Likewise.

2010-09-27  Tejas Belagod  <tejas.belagod@@arm.com>

	* gas/arm/vldr.s: New test for pc-relative VLDR disassembly comment.
	* gas/arm/vldr.d: Likewise.
	* gas/arm/vstr-bad.s: New test for PC-relative VSTR.
	* gas/arm/vstr-thumb-bad.l: Likewise.
	* gas/arm/vstr-thumb-bad.d: Likewise.
	* gas/arm/vstr-arm-bad.l: Likewise.
	* gas/arm/vstr-arm-bad.d: Likewise.

2010-09-23  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	* gas/arm/armv7-a+virt.d: New test.
	* gas/arm/armv7-a+virt.s: Likewise.
	* gas/arm/attr-march-all.d: Update for Virtualization Extensions.
	* gas/arm/attr-march-armv7-a+sec+virt.d: New test.
	* gas/arm/attr-march-armv7-a+virt.d: Likewise.

2010-09-23  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	* gas/arm/armv7-a+idiv.d: New test.
	* gas/arm/armv7-a+idiv.s: Likewise.
	* gas/arm/attr-march-all.d: Update for Integer divide extension.
	* gas/arm/attr-march-armv7-a+idiv.d: New test.

2010-09-23  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	* gas/arm/archv6s-m-bad.d: New test.
	* gas/arm/archv6s-m-bad.l: Likewise.
	* gas/arm/archv6s-m.d: Likewise.
	* gas/arm/archv6s-m.s: Likewise.
	* gas/arm/attr-march-armv6-m+os.d: Likewise.
	* gas/arm/attr-march-armv6s-m.d: Likewise.

2010-09-23  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	* gas/arm/attr-march-all.d: Update for Security Extensions..
	* gas/arm/attr-march-armv6k+sec.d: New test.
	* gas/arm/attr-march-armv6z.d: Update for Security Extensions.
	* gas/arm/attr-march-armv6zk.d: Likewise.
	* gas/arm/attr-march-armv6zkt2.d: Likewise.
	* gas/arm/attr-march-armv6zt2.d: Likewise.
	* gas/arm/attr-march-armv7-a+sec.d: New test.
	* gas/arm/attr-mcpu.d: Update for Security Extensions.
	* gas/arm/thumb32.d: Likewise.
	* gas/arm/thumb32.s: Likewise.

2010-09-23  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	* gas/arm/arch7a-mp.d: Add.
	* gas/arm/arch7ar-mp.s: Likewise.
	* gas/arm/arch7r-mp.d: Likewise.
	* gas/arm/armv2-mp-bad.d: Likewise.
	* gas/arm/armv2-mp-bad.l: Likewise.
	* gas/arm/attr-march-all.d: Update for MP extension.
	* gas/arm/attr-march-armv7-a+mp.d: Add.
	* gas/arm/attr-march-armv7-r+mp.d: Likewise.

2010-09-23  Alan Modra  <amodra@@gmail.com>

	* gas/all/gas.exp: Update "forward" and "redef3" xfails.
	* gas/m68k/all.exp: Don't xfail pcrel on uclinux.
	* gas/sh/arch/arch.exp: Don't pass dashes to send_log.

2010-09-23  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/jal.d: Remove duplicate pattern.

2010-09-22  Robin Getz  <robin.getz@@analog.com>

	* gas/bfin/expected_move_errors.l: Update error output.

2010-09-22  Robin Getz  <robin.getz@@analog.com>

	* gas/bfin/pseudo.d, gas/bfin/pseudo.s: New test.
	* gas/bfin/bfin.exp: Add new "pseudo" test.

2010-09-22  Mike Frysinger  <vapier@@gentoo.org>

	* gas/bfin/parallel2.d, gas/bfin/parallel3.d, gas/bfin/shift.d,
	gas/bfin/vector.2, gas/bfin/vector2.d: Change SHIFT to LSHIFT.

2010-09-20  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	* gas/arm/attr-cpu-directive.d: Update test for change in canonical
	CPU name.
	* gas/arm/attr-mcpu.d: Likewise.

2010-09-20  Richard Henderson  <rth@@redhat.com>

	* gas/elf/elf.exp: Disable symtab test for alpha.

2010-09-17  Tejas Belagod  <tejas.belagod@@arm.com>

	* gas/arm/thumb2_ldmstm.d: Change single-register stmia to use 16-bit
	str encoding instead of str.w.  Likewise for ldmia.
	* gas/arm/thumb2_ldmstm.s: Change stmia comment.  Add tests for T1
	ldmia-to-ldr.

2010-09-17  Tejas Belagod  <tejas.belagod@@arm.com>

	* gas/arm/msr-reg.s: New file.
	* gas/arm/msr-reg.d: Likewise.
	* gas/arm/msr-imm.s: Likewise.
	* gas/arm/msr-imm.d: Likewise.
	* gas/arm/msr-imm-bad.d: Likewise.
	* gas/arm/msr-imm-bad.l: Likewise.
	* gas/arm/msr-reg-bad.d: Likewise.
	* gas/arm/msr-imm-bad.d: Likewise.
	* gas/arm/msr-reg-thumb.d: Likewise.
	* gas/arm/arch7.s: Add tests for xpsr.
	* gas/arm/arch7.d: Likewise.

2010-09-17  Tejas Belagod  <tejas.belagod@@arm.com>

	* gas/arm/copro.s: Add test for APSR_nzcv as a MRC operand.
	* gas/arm/copro.d: Change pc in MRC to disassemble as APSR_nzcv.  Also
	add disassembly for test added in copro.s

2010-09-17  Andrew Burgess  <aburgess@@broadcom.com>

	PR gas/12011
	* gas/elf/bad-section-flag.d, * gas/elf/bad-section-flag.err,
	* gas/elf/bad-section-flag.s: New test.
	* gas/elf/elf.exp: Run it.

2010-09-16  Alan Modra  <amodra@@gmail.com>

	* gas/all/redef3.d: Don't run on arc.
	* gas/i386/i386.exp: Don't run intel-got32 on linuxaout.  Move
	x86_64 mingw exclusions to equivalent elf only block of tests.

2010-09-15  Kai Tietz  <kai.tietz@@onevision.com>

	* gas/pe/pe.exp: Add new test.
	* gas/pe/seh-x64-err-1.l: New.
	* gas/pe/seh-x64-err-1.s: New.

	* gas/pe/pe.exp: Add peseh-x64-4,5,6 tests.
	* gas/pe/peseh-x64-4.s: New.
	* gas/pe/peseh-x64-4.d: New.
	* gas/pe/peseh-x64-5.d: New.
	* gas/pe/peseh-x64-6.d: New.

2010-09-14  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/mips32r2-sync.d: New test for MIPS32r2 "sync"
	instruction variants.
	* gas/mips/octeon@@mips32r2-sync.d: Likewise, Octeon version.
	* gas/mips/mips32r2-sync.s: Source for the new test.
	* gas/mips/mips.exp: Run the new test.

2010-09-13  Kai Tietz  <kai.tietz@@onevision.com>

	* gas/pe/pe.exp: Add x64 SEH tests.
	* gas/pe/peseh-x64.s: New.
	* gas/pe/peseh-x64.d: New.
	* gas/pe/peseh-x64-2.s: New.
	* gas/pe/peseh-x64-2.d: New.
	* gas/pe/peseh-x64-3.s: New.
	* gas/pe/peseh-x64-3.d: New.

2010-09-09  Nick Clifton  <nickc@@redhat.com>

	PR gas/11973
	* gas/mn10300/pr11973.s: New file: Test case.
	* gas/mn10300/pr11973.d: New file: Expected output.
	* gas/mn10300/basic.exp: Run the new test.

2010-09-09 Tejas Belagod  <tejas.belagod@@arm.com>

	* gas/arm/addsw-bad.s: New file.
	* gas/arm/addsw-bad.l: New file.
	* gas/arm/addsw-bad.d: New file.

2010-09-03  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11974
	* gas/i386/immed64.s: Add more movabs tests.
	* gas/i386/immed64.d: Updated.

2010-09-03  Jan Kratochvil  <jan.kratochvil@@redhat.com>

	* gas/elf/dwarf2-1.d: Update DW_OP_reg5 expected output.
	* gas/elf/dwarf2-2.d: Likewise.
	* gas/i386/dw2-compress-1.d: Likewise.

2010-09-03  Kai Tietz  <kai.tietz@@onevision.com>

	* gas/cfi/cfi-i386.d: Use objdump -Wf instead of readelf.
	* gas/cfi/cfi-i386.s: Remove .type directives.
	* gas/cfi/reloc-pe-i386.d: Adjust test for i386.

2010-09-02  Richard Henderson  <rth@@redhat.com>

	* gas/cfi/cfi-common-1.d: Use objdump instead of readelf to dump.
	* gas/cfi/cfi-common-2.d, gas/cfi/cfi-common-3.d,
	gas/cfi/cfi-common-4.d, gas/cfi/cfi-common-6.d,
	gas/cfi/cfi-common-7.d, gas/cfi/cfi-x86_64.d: Likewise.
	* gas/cfi/cfi-x86_64.s: Remove .type directives.
	* gas/cfi/cfi.exp: Run for pecoff objects too.

	* gas/cfi/reloc-pe-i386.d, gas/cfi/reloc-pe-i386.s: New test.

2010-08-31  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/11960
	* gas/i386/opcode-intel.d: Updated.
	* gas/i386/x86-64-opcode.d: Likewise.

	* gas/i386/x86-64-opcode.s: Add a "pushw imm16" test.

2010-08-25  Jie Zhang  <jie@@codesourcery.com>

	* gas/arm/ldst-pc.d: New test.
	* gas/arm/ldst-pc.s: New test.
	* gas/arm/sp-pc-validations-bad.s: `str r0,[pc,#4]' is valid.
	* gas/arm/sp-pc-validations-bad.l: Adjust accordingly.

2010-08-17  Roland McGrath  <roland@@redhat.com>

	* gas/elf/groupauto.s: New file.
	* gas/elf/groupautoa.d: New file.
	* gas/elf/groupautob.d: New file.
	* gas/elf/elf.exp (run_elf_list_test): Use them.

2010-08-06  Quentin Neill <quentin.neill@@amd.com>

	* gas/i386/arch-10-1.l: Add nopl instruction.
	* gas/i386/arch-10-2.l: Likewise.
	* gas/i386/arch-10-3.l: Likewise.
	* gas/i386/arch-10-4.l: Likewise.
	* gas/i386/arch-10.s: Likewise.
	* gas/i386/arch-10.d: Add nopl instruction, and +nopl extension
	flag to as flags.
	* gas/i386/nops-5-i686.d: Change alignment code generated for
	-mtune=i686.
	* gas/i386/nops-5.d: Change alignment code generated for
	.arch i686.
	* gas/i386/x86-64-nops-5-k8.d: Likewise.
	* gas/i386/x86-64-nops-5.d: Likewise.

2010-08-05  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run arch-4.

	* gas/i386/arch-4.d: New.
	* gas/i386/arch-4.s: Likewise.

	* gas/i386/intel.d: Replace ud2a/ud2b with ud2/ud1.
	* gas/i386/opcode-intel.d: Likewise.
	* gas/i386/opcode-suffix.d: Likewise.
	* gas/i386/opcode.d: Likewise.

2010-08-03  Alan Modra  <amodra@@gmail.com>

	* gas/all/octa.s, * gas/all/octa.d: New test.
	* gas/all/gas.exp: Run octa.
	* gas/elf/data-1.s, * gas/elf/data-1.d: Delete.
	* gas/elf/elf.exp: Don't run data-1.

2010-08-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* elf/elf.exp: Run data-1 only for i*86, x86_64 and ia64.

2010-08-02  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11867
	* gas/elf/data-1.d: New.
	* gas/elf/data-1.s: Likewise.

	* elf/elf.exp: Run data-1.

2010-08-02  Tristan Gingold  <gingold@@adacore.com>

	* lib/gas-defs.exp (get_standard_section_names): New function.
	(run_dump_tests): Document the new behavior for objdump,
	document to new section-subst option.  Automatically perform
	substitutions for objdump.
	(objdump_finish): Add REF_SUBST argument.
	(run_list_test): Adjust call of regexp_diff.
	(run_list_test_stdin): Ditto.
	* gas/all/gas.exp (test_cond): Adjust call of regexp_diff.
	* gas/symver/symver.exp (run_error_test): Ditto.
	* gas/mt/relocs.exp (regexp_test): Ditto.
	* gas/mep/complex-relocs.exp (regexp_test): Ditto.
	* gas/m68k/all.exp: Ditto.
	* gas/elf/elf.exp (run_elf_list_test): Ditto.
	* gas/rx/rx-asm-good.d: Set section-subst to no.

2010-08-02  Alan Modra  <amodra@@gmail.com>

	* gas/i386/i386.exp (dw2-compress-1): Only run on ELF targets.
	(dw2-compress-2, x86-64-dw2-compress-2): Remove unnecessary linux
	target test.

2010-08-02  Alan Modra  <amodra@@gmail.com>

	* gas/ppc/power4.d: Update for ppc_fix_adjustable change.

2010-07-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Xfail dw2-compress-2 and
	x86-64-dw2-compress-2.

2010-07-24  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/jal-svr4pic-noreorder.d: New test case.
	* gas/mips/mips1@@jal-svr4pic-noreorder.d: New test
	subarchitecture.
	* gas/mips/r3000@@jal-svr4pic-noreorder.d: Likewise.
	* gas/mips/jal-svr4pic-noreorder.s: Source for the new test
	case.
	* gas/mips/mips.exp: Run the new test case.

2010-07-24  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/jal-svr4pic.d: Rename to...
	* gas/mips/mips1@@jal-svr4pic.d: ... this.
	* gas/mips/r3000@@jal-svr4pic.d: New test subarchitecture.
	* gas/mips/jal-svr4pic.d: New default subarchitecture patterns.
	* gas/mips/mips.exp: Run jal-svr4pic with run_dump_test_arches
	rather than run_dump_test.

2010-07-24  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/jal-svr4pic.d: Reformat.  Use --show-raw-insn with
	`objdump'.
	* gas/mips/jal-svr4pic.s: Reformat.  Fix up trailing zeroes.

2010-07-24  Maciej W. Rozycki  <macro@@codesourcery.com>

	* lib/gas-defs.exp (run_dump_test): Handle the "dump" option.

2010-07-23  Naveen.H.S  <naveen.S@@kpitcummins.com>
	    Ina Pandit  <ina.pandit@@kpitcummins.com>

	* gas/v850/split-lo16.d: Update the "ld" instructions with a space
	for second operand.
	* gas/v850/v850e1.d: Likewise.

2010-07-22  Alan Modra  <amodra@@gmail.com>

	* gas/arm/mapdir.s: Don't specify attr/type for .fini_array.
	* gas/elf/dwarf2-3.s: Don't specify attr for .init_array.
	* gas/elf/dwarf2-3.d: Don't run on h8300.

2010-07-19  Andreas Schwab  <schwab@@redhat.com>

	* gas/i386/x86-64-unwind.d: Ignore "Key to Flags" contents.
	* gas/ia64/alias-ilp32.d: Likewise.
	* gas/ia64/alias.d: Likewise.
	* gas/ia64/group-1.d: Likewise.
	* gas/ia64/group-2.d: Likewise.
	* gas/ia64/secname-ilp32.d: Likewise.
	* gas/ia64/secname.d: Likewise.
	* gas/ia64/unwind-ilp32.d: Likewise.
	* gas/ia64/unwind.d: Likewise.
	* gas/mmix/byte-1.d: Likewise.
	* gas/mmix/loc-1.d: Likewise.
	* gas/mmix/loc-2.d: Likewise.
	* gas/mmix/loc-3.d: Likewise.
	* gas/mmix/loc-4.d: Likewise.
	* gas/mmix/loc-5.d: Likewise.

2010-07-16  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run dw2-compress-2 only for 32bit.

2010-07-14  Rhonda Wittels  <rhonda@@codesourcery.com>

	* gas/elf/pseudo.s: New.
	* gas/elf/pseudo.l: New.
	* gas/elf/pseudo.d: New.
	* gas/elf/elf.exp: Run the new test.

2010-07-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/default.exp (ADDR2LINE): New.
	(ADDR2LINEFLAGS): Likewise.

	* gas/i386/i386.exp: Run dw2-compress-2 and x86-64-dw2-compress-2.

	* gas/i386/dw2-compress-2.d: New.
	* gas/i386/dw2-compress-2.s: Likewise.
	* gas/i386/x86-64-dw2-compress-2.d: Likewise.
	* gas/i386/x86-64-dw2-compress-2.s: Likewise.

	* lib/gas-defs.exp (run_dump_test): Support addr2line as dump
	program.
	(slurp_options): Allow numbers in options.

2010-07-14  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/elf/dwarf2-3.s: Replace .short and .long directives in
	.debug_info section with .2byte and .4byte respectively.

2010-07-11  Kai Tietz  <kai.tietz@@onevision.com>

	* gas/pe/aligncomm-b.d: Regenerated content dump.
	* gas/pe/aligncomm-d.d: Regenerated content dump.
	* gas/i386/i386.exp: Disable for mingw 64-bit the intel-got64 test.

2010-07-08 Tejas Belagod <tejas.belagod@@arm.com>

	* gas/arm/barrier.s: New file.
	* gas/arm/barrier.d: New file.
	* gas/arm/barrier-thumb.s: New file.
	* gas/arm/barrier-thumb.d: New file.
	* gas/arm/barrier-bad.s: New file.
	* gas/arm/barrier-bad.d: New file.
	* gas/arm/barrier-bad.l: New file.
	* gas/arm/barrier-bad-thumb.s: New file.
	* gas/arm/barrier-bad-thumb.d: New file.
	* gas/arm/barrier-bad-thumb.l: New file.

2010-07-08  Daniel Gutson  <dgutson@@codesourcery.com>

	* gas/arm/reloc-bad.d: New.
	* gas/arm/reloc-bad.s: New.
	* gas/arm/reloc-bad.l: New.

2010-07-06  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/elf-rel27.d: New test for HI16/LO16 relocation
	pairing.
	* gas/mips/elf-rel27.s: Source for the new test.
	* gas/mips/mips.exp: Create "mips16" architecture.  Adjust
	conditions involving negated properties throughout to require
	"mips1" as appropriate.  Run the new test.
	(mips_arch_destroy): New procedure.

2010-07-05  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/mips.exp (run_dump_test_arch): Check for the presence
	of an architecture-specific test first and use it if found,
	before falling back to the generic one.

2010-07-05  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/mips4-fp.d, gas/mips/mips4-fp.s: Remove checks for
	branch-likely instructions and place them...
	* gas/mips/mips4-branch-likely.d, gas/mips/mips4-branch-likely.s:
	... in this new test.
	* gas/mips/mips4-fp.l: Update accordingly.
	* gas/mips/mips4-branch-likely.l: New stderr output for the new
	test.
	* gas/mips/mips.exp (mips4-branch-likely): Run a dump test and
	a list test with mips4-branch-likely similarly to mips4-fp.

2010-07-05  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/beq.d, gas/mips/beq.s: Remove checks for
	branch-likely instructions.
	* gas/mips/bge.d, gas/mips/bge.s: Likewise.
	* gas/mips/bgeu.d, gas/mips/bgeu.s: Likewise.
	* gas/mips/blt.d, gas/mips/blt.s: Likewise.
	* gas/mips/bltu.d, gas/mips/bltu.s: Likewise.
	* gas/mips/branch-likely.d, gas/mips/branch-likely.s: New test,
	collecting checks for branch-likely instructions removed from
	the above.
	* gas/mips/mips.exp: Run the new test and update the
	constraints for the updated tests to include MIPS I.

2010-07-05  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/mips4-fp.d: Reformat.

2010-07-05  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/beq.d: Reformat.
	* gas/mips/bge.d, gas/mips/bgeu.d: Likewise.
	* gas/mips/blt.d, gas/mips/bltu.d: Likewise.

2010-07-05  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/beq.d: Remove leftover symbols/relocs from the
	change on 2009-02-06.

2010-07-05  H.J. Lu  <hongjiu.lu@@intel.com>

	AVX Programming Reference (June, 2010)
	* gas/i386/rdrnd.s: Replace rdrnd with rdrand.
	* gas/i386/rdrnd-intel.d: Likewise.
	* gas/i386/rdrnd.d: Likewise.
	* gas/i386/x86-64-rdrnd-intel.d: Likewise.
	* gas/i386/x86-64-rdrnd.d: Likewise.
	* gas/i386/x86-64-rdrnd.s: Likewise.

2010-07-05  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/10531
	PR gas/11789
	* gas/i386/dw2-compress-1.d: Remove bogus line debug info.

	* gas/elf/dwarf2-1.d: New.
	* gas/elf/dwarf2-1.s: Likewise.
	* gas/elf/dwarf2-2.d: Likewise.
	* gas/elf/dwarf2-2.s: Likewise.
	* gas/elf/dwarf2-3.d: Likewise.
	* gas/elf/dwarf2-3.s: Likewise.
	* gas/i386/debug1.d: Likewise.
	* gas/i386/debug1.s: Likewise.

	* gas/elf/elf.exp: Run dwarf2-1, dwarf2-2 and dwarf2-3.

	* gas/i386/i386.exp: Run debug1 for both 32bit and 64bit.

2010-07-04  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/dw2-compress-1.d: New.
	* gas/i386/dw2-compress-1.s: Likewise.

	* gas/i386/i386.exp: Run dw2-compress-1 for Linux.

2010-07-03  Jan Beulich  <jbeulich@@novell.com>

	PR gas/11732
	* gas/i386/i386.exp: Run new tests.
	* gas/i386/intel-got{32,64}.{s,d}: New.

2010-07-01  H.J. Lu  <hongjiu.lu@@intel.com>

	AVX Programming Reference (June, 2010)
	* gas/i386/arch-10.s: Add xsaveopt.
	* gas/i386/x86-64-arch-2.s: Likwise.

	* gas/i386/arch-10.d: Updated.
	* gas/i386/arch-10-1.l: Likewise.
	* gas/i386/arch-10-2.l: Likewise.
	* gas/i386/arch-10-3.l: Likewise.
	* gas/i386/arch-10-4.l: Likewise.
	* gas/i386/x86-64-arch-2.d: Likewise.

	* gas/i386/f16c-intel.d: New.
	* gas/i386/f16c.d: Likewise.
	* gas/i386/f16c.s: Likewise.
	* gas/i386/fsgs-intel.d: Likewise.
	* gas/i386/fsgs.d: Likewise.
	* gas/i386/fsgs.s: Likewise.
	* gas/i386/rdrnd-intel.d: Likewise.
	* gas/i386/rdrnd.d: Likewise.
	* gas/i386/rdrnd.s: Likewise.
	* gas/i386/x86-64-f16c-intel.d: Likewise.
	* gas/i386/x86-64-f16c.d: Likewise.
	* gas/i386/x86-64-f16c.s: Likewise.
	* gas/i386/x86-64-fsgs-intel.d: Likewise.
	* gas/i386/x86-64-fsgs.d: Likewise.
	* gas/i386/x86-64-fsgs.s: Likewise.
	* gas/i386/x86-64-rdrnd-intel.d: Likewise.
	* gas/i386/x86-64-rdrnd.d: Likewise.
	* gas/i386/x86-64-rdrnd.s: Likewise.

	* gas/i386/i386.exp: Run f16c, f16c-intel, fsgs, fsgs-intel,
	rdrnd, rdrnd-intel, x86-64-f16c, x86-64-f16c-intel, x86-64-fsgs,
	x86-64-fsgs-intel, x86-64-rdrnd, x86-64-rdrnd-intel.

	* gas/i386/x86-64-xsave.s: Add tests for xsaveopt64.

	* gas/i386/x86-64-xsave-intel.d: Updated.
	* gas/i386/x86-64-xsave.d: Likewise.

2010-07-01  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	* gas/arm/thumb2_bad_reg.s: Update mov register tests.
	* gas/arm/thumb2_bad_reg.l: Likewise.

2010-06-29  Alan Modra  <amodra@@gmail.com>

	* gas/maxq10/maxq10.exp: Delete file.
	* gas/maxq10/bits.d, * gas/maxq10/bits.s, * gas/maxq10/call.d,
	* gas/maxq10/call.s, * gas/maxq10/data.s, * gas/maxq10/data2.d,
	* gas/maxq10/data2.s, * gas/maxq10/data3.d, * gas/maxq10/data3.s,
	* gas/maxq10/err.s, * gas/maxq10/jump.d, * gas/maxq10/jump.s,
	* gas/maxq10/logical.d, * gas/maxq10/logical.s, * gas/maxq10/math.d,
	* gas/maxq10/math.s, * gas/maxq10/pmtest.d, * gas/maxq10/pmtest.s,
	* gas/maxq10/range.d, * gas/maxq10/range.s: Likewise.
	* gas/maxq20/maxq20.exp: Delete file.
	* gas/maxq20/bits.d, * gas/maxq20/bits.s, * gas/maxq20/call.d,
	* gas/maxq20/call.s, * gas/maxq20/data1.d, * gas/maxq20/data1.s,
	* gas/maxq20/data2.d, * gas/maxq20/data2.s, * gas/maxq20/data3.d,
	* gas/maxq20/data3.s, * gas/maxq20/jump.d, * gas/maxq20/jump.s,
	* gas/maxq20/jzimm.d, * gas/maxq20/jzimm.s, * gas/maxq20/logical.d,
	* gas/maxq20/logical.s, * gas/maxq20/math.d, * gas/maxq20/math.s,
	* gas/maxq20/pfx2.s, * gas/maxq20/pmtest.d, * gas/maxq20/pmtest.s,
	* gas/maxq20/pxf0.s, * gas/maxq20/range.d,
	* gas/maxq20/range.s: Likewise.
	* gas/all/gas.exp: Remove references to maxq.

2010-06-28  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	* gas/arm/neon-ldst-align-bad.l: Update for Neon alignment syntax fix.
	* gas/arm/neon-ldst-align-bad.s: Likewise.
	* gas/arm/neon-ldst-es.d: Likewise.
	* gas/arm/neon-ldst-es.s: Likewise.

2010-06-22  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/jump.d: Adjust.
	* gas/i386/jump.s: Add check for branch to 2+$.

2010-06-18  Joseph Myers  <joseph@@codesourcery.com>

	* gas/tic6x/resource-func-unit-1.d,
	gas/tic6x/resource-func-unit-1.l,
	gas/tic6x/resource-func-unit-1.s,
	gas/tic6x/resource-func-unit-2.d,
	gas/tic6x/resource-func-unit-2.l,
	gas/tic6x/resource-func-unit-2.s: New.

2010-06-16  Vincent Rivire  <vincent.riviere@@freesbee.fr>

	PR gas/11673
	* gas/m68k/p11673.s: New test.
	* gas/m68k/all.exp: Run the new test.

2010-06-16  Nick Clifton  <nickc@@redhat.com>

	PR binutils/11676
	* gas/m68k/pr11676.s: New test.
	* gas/m68k/pr11676.d: Expected disassembly.
	* gas/m68k/all.exp: Run the new test.

2010-06-15  Joseph Myers  <joseph@@codesourcery.com>

	* gas/elf/elf.exp: Set target_machine for tic6x-*-*.
	* gas/elf/section2.e-tic6x, gas/tic6x/attr-arch-directive-1.d,
	gas/tic6x/attr-arch-directive-1.s,
	gas/tic6x/attr-arch-directive-2.d,
	gas/tic6x/attr-arch-directive-2.s,
	gas/tic6x/attr-arch-directive-3.d,
	gas/tic6x/attr-arch-directive-3.s,
	gas/tic6x/attr-arch-directive-4.d,
	gas/tic6x/attr-arch-directive-4.s,
	gas/tic6x/attr-arch-directive-5.d,
	gas/tic6x/attr-arch-directive-5.s,
	gas/tic6x/attr-arch-opts-c62x.d, gas/tic6x/attr-arch-opts-c64x+.d,
	gas/tic6x/attr-arch-opts-c64x.d, gas/tic6x/attr-arch-opts-c674x.d,
	gas/tic6x/attr-arch-opts-c67x+.d, gas/tic6x/attr-arch-opts-c67x.d,
	gas/tic6x/attr-arch-opts-none-1.d,
	gas/tic6x/attr-arch-opts-none-2.d,
	gas/tic6x/attr-arch-opts-override-1.d,
	gas/tic6x/attr-arch-opts-override-2.d, gas/tic6x/empty.s: New.

2010-06-14  Sebastian Andrzej Siewior  <bigeasy@@linutronix.de>

	* gas/ppc/e500.s: Add eieio, mbar and lwsync
	* gas/ppc/e500.d: Likewise.

2010-06-09 Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	* gas/arm/vldm-arm.d: New test.
	* gas/arm/vldm-thumb-bad.d: Likewise.
	* gas/arm/vldm-thumb-bad.l: Likewise.
	* gas/arm/vldm.s: Likewise.
	* gas/arm/vldmw-arm-bad.d: Likewise.
	* gas/arm/vldmw-bad.l: Likewise.
	* gad/arm-vldmw-bad.s: Likewise.
	* gas/arm/vldmw-thumb-bad.d: Likewise.

2010-06-07  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	* gas/arm/thumb-eabi.d: Add case for divided syntax encoding of movs.
	* gas/arm/thumb.d: Likewise.
	* gas/arm/thumb.s: Likewise.
	* gas/arm/thumb2_it.d: Update for change in lsls/movs disassembly.
	* gas/arm/thumb2_it_auto.d: Liekwise.
	* gas/arm/thumb32.d: Likewise.

2010-05-28  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	* gas/arm/thumb2_it_auto.d: Update for change in movs encoding.
	gas/arm/thumb2_it.d: Likewise.
	gas/arm/thumb32.d: Likewise.

2010-05-27  Matthew Gretton-Dann <matthew.gretton-dann@@arm.com>

	* gas/arm/thumb2_ldmstm.d: Add new testcases.
	* gas/arm/thumb2_ldmstm.s: Likeiwse.
	* gas/arm/thumb2_ldmstm_bad.d: Add testcases to check for
	UNPREDICTABLE ldm/stm.
	* gas/arm/thumb2_ldmstm_bad.l: Likewise.
	* gas/arm/thumb2_ldmstm_bad.s: Likewise.

2010-05-26  Catherine Moore  <clm@@codesoucery.com>
	    Maxim Kuvyrkov  <maxim@@codesourcery.com>

	* gas/mips/set-arch.d: Expect ehb.

2010-05-26  Catherine Moore  <clm@@codesoucery.com>

	* gas/mips/mips-no-jalx.l: Delete.
	* gas/mips/mips-no-jalx.s: Delete.
	* gas/mips/mips-jalx-2.d: New.
	* gas/mips/mips-jalx-2.s: New.
	* gas/mips/mips.exp (mips-jalx-2): Run new test.
	(mips-no-jalx): Remove deleted test.

2010-05-25  Daniel Jacobowitz  <dan@@codesourcery.com>
	    Joseph Myers  <joseph@@codesourcery.com>
	    Andrew Stubbs  <ams@@codesourcery.com>

	* gas/sh/basic.exp: Run new tests.  Handle uClinux like Linux.
	* gas/sh/fdpic.d: New file.
	* gas/sh/fdpic.s: New file.
	* gas/sh/reg-prefix.d: Force big-endian.
	* gas/sh/sh2a-pic.d: New file.
	* gas/sh/sh2a-pic.s: New file.
	* lib/gas-defs.exp (is_elf_format): Include sh*-*-uclinux*.

2010-05-18  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11600
	* gas/elf/elf.exp: Run section8.

	* gas/elf/section8.d: New.
	* gas/elf/section8.s: Likewise.

2010-05-13  Nathan Sidwell  <nathan@@codesourcery.com>

	* gas/arm/armv1-bad.l: Adjust expected error text.
	* gas/arm/arch7em-bad.l: Likewise.
	* gas/arm/arch7m-bad.l: Likewise.
	* gas/arm/thumb-w-bad.l: Likewise.
	* gas/arm/arm7-bad.d: New.
	* gas/arm/arm7-bad.l: New.
	* gas/arm/arm7-bad.s: New.

2010-05-13  Alan Modra  <amodra@@gmail.com>

	* gas/all/gas.exp: Don't run byte test on powerpc.

	* gas/ppc/a2.d: Correct wclr encoding.

2010-05-11  Andrew Stubbs  <ams@@codesourcery.com>

	* gas/arm/attr-cpu-directive.d: Add Tag_DIV_use.
	* gas/arm/attr-default.d: Likewise.
	* gas/arm/attr-march-armv1.d: Likewise.
	* gas/arm/attr-march-armv2.d: Likewise.
	* gas/arm/attr-march-armv2a.d: Likewise.
	* gas/arm/attr-march-armv2s.d: Likewise.
	* gas/arm/attr-march-armv3.d: Likewise.
	* gas/arm/attr-march-armv3m.d: Likewise.
	* gas/arm/attr-march-armv4.d: Likewise.
	* gas/arm/attr-march-armv4t.d: Likewise.
	* gas/arm/attr-march-armv4txm.d: Likewise.
	* gas/arm/attr-march-armv4xm.d: Likewise.
	* gas/arm/attr-march-armv5.d: Likewise.
	* gas/arm/attr-march-armv5t.d: Likewise.
	* gas/arm/attr-march-armv5te.d: Likewise.
	* gas/arm/attr-march-armv5tej.d: Likewise.
	* gas/arm/attr-march-armv5texp.d: Likewise.
	* gas/arm/attr-march-armv5txm.d: Likewise.
	* gas/arm/attr-march-armv6-m.d: Likewise.
	* gas/arm/attr-march-armv6.d: Likewise.
	* gas/arm/attr-march-armv6j.d: Likewise.
	* gas/arm/attr-march-armv6k.d: Likewise.
	* gas/arm/attr-march-armv6kt2.d: Likewise.
	* gas/arm/attr-march-armv6t2.d: Likewise.
	* gas/arm/attr-march-armv6z.d: Likewise.
	* gas/arm/attr-march-armv6zk.d: Likewise.
	* gas/arm/attr-march-armv6zkt2.d: Likewise.
	* gas/arm/attr-march-armv6zt2.d: Likewise.
	* gas/arm/attr-march-armv7-a.d: Likewise.
	* gas/arm/attr-march-armv7.d: Likewise.
	* gas/arm/attr-march-armv7a.d: Likewise.
	* gas/arm/attr-march-iwmmxt.d: Likewise.
	* gas/arm/attr-march-iwmmxt2.d: Likewise.
	* gas/arm/attr-march-marvell-f.d: Likewise.
	* gas/arm/attr-march-xscale.d: Likewise.
	* gas/arm/attr-mcpu.d: Likewise.
	* gas/arm/attr-mfpu-arm1020e.d: Likewise.
	* gas/arm/attr-mfpu-arm1020t.d: Likewise.
	* gas/arm/attr-mfpu-arm1136jf-s.d: Likewise.
	* gas/arm/attr-mfpu-arm1136jfs.d: Likewise.
	* gas/arm/attr-mfpu-arm7500fe.d: Likewise.
	* gas/arm/attr-mfpu-fpa.d: Likewise.
	* gas/arm/attr-mfpu-fpa10.d: Likewise.
	* gas/arm/attr-mfpu-fpa11.d: Likewise.
	* gas/arm/attr-mfpu-fpe.d: Likewise.
	* gas/arm/attr-mfpu-fpe2.d: Likewise.
	* gas/arm/attr-mfpu-fpe3.d: Likewise.
	* gas/arm/attr-mfpu-maverick.d: Likewise.
	* gas/arm/attr-mfpu-neon-fp16.d: Likewise.
	* gas/arm/attr-mfpu-neon.d: Likewise.
	* gas/arm/attr-mfpu-softfpa.d: Likewise.
	* gas/arm/attr-mfpu-softvfp+vfp.d: Likewise.
	* gas/arm/attr-mfpu-softvfp.d: Likewise.
	* gas/arm/attr-mfpu-vfp.d: Likewise.
	* gas/arm/attr-mfpu-vfp10-r0.d: Likewise.
	* gas/arm/attr-mfpu-vfp10.d: Likewise.
	* gas/arm/attr-mfpu-vfp3.d: Likewise.
	* gas/arm/attr-mfpu-vfp9.d: Likewise.
	* gas/arm/attr-mfpu-vfpv2.d: Likewise.
	* gas/arm/attr-mfpu-vfpv3-d16.d: Likewise.
	* gas/arm/attr-mfpu-vfpv3.d: Likewise.
	* gas/arm/attr-mfpu-vfpv4-d16.d: Likewise.
	* gas/arm/attr-mfpu-vfpv4.d: Likewise.
	* gas/arm/attr-mfpu-vfpxd.d: Likewise.
	* gas/arm/attr-order.d: Likewise.
	* gas/arm/attr-override-cpu-directive.d: Likewise.
	* gas/arm/attr-override-mcpu.d: Likewise.
	* gas/arm/eabi_attr_1.d: Likewise.

2010-05-11  Jie Zhang  <jie@@codesourcery.com>

	* gas/arm/attr-mfpu-vfpxd.d: New test.

2010-05-11  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	* gas/arm/thumb32.d: Fix expected disassembly of ldmia
	instruction.

2010-05-05  Nathan Sidwell  <nathan@@codesourcery.com>

	* gas/all/byte.s: New.
	* gas/all/byte.l: New.
	* gas/all/byte.d: New.
	* gas/all/gas.exp: Add it.

2010-04-29  Nathan Sidwell  <nathan@@codesourcery.com>

	* gas/arm/weakdef-1.s: New.
	* gas/arm/weakdef-1.d: New.
	* gas/arm/weakdef-2.s: New.
	* gas/arm/weakdef-2.d: New.
	* gas/arm/weakdef-2.l: New.

2010-04-27  Joseph Myers  <joseph@@codesourcery.com>

	* gas/tic6x/align-1-be.d, gas/tic6x/align-1.d,
	gas/tic6x/align-1.s, gas/tic6x/align-2.d, gas/tic6x/align-2.s:
	New.

2010-04-24  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11535
	* gas/i386/intelok.s: Add tests for "call|jmp [xtrn]".
	* gas/i386/intelok.d: Updated.

2010-04-21  Joseph Myers  <joseph@@codesourcery.com>

	* gas/tic6x/insns-c674x.s, gas/tic6x/insns-c674x.d: Also test
	"b .S2 b3".

2010-04-21  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11509
	* gas/i386/equ.s: Add tests for ".equ symbol, reg + NUM".
	* gas/i386/equ.d: Updated.

2010-04-20  Nick Clifton  <nickc@@redhat.com>

	PR gas/11507
	* gas/macros/altmacro.s: New test.
	* gas/macros/altmacro.d: Expected output.

2010-04-16  Nick Clifton  <nickc@@redhat.com>

	PR gas/11395
	* gas/hppa/basic/add2.s: Add test of simple 32-bit instruction.
	* gas/hppa/basic/basic.exp (do_add2): Add grep for expected
	disassembly.

2010-04-15  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	* gas/arm/attr-mcpu.d: Update for new attribute tag names.
	* gas/arm/attr-mfpu-arm1020e.d: Likewise.
	* gas/arm/attr-mfpu-arm1020t.d: Likewise.
	* gas/arm/attr-mfpu-arm1136jf-s.d: Likewise.
	* gas/arm/attr-mfpu-arm1136jfs.d: Likewise.
	* gas/arm/attr-mfpu-neon-fp16.d: Likewise.
	* gas/arm/attr-mfpu-neon.d: Likewise.
	* gas/arm/attr-mfpu-softvfp+vfp.d: Likewise.
	* gas/arm/attr-mfpu-vfp.d: Likewise.
	* gas/arm/attr-mfpu-vfp10-r0.d: Likewise.
	* gas/arm/attr-mfpu-vfp10.d: Likewise.
	* gas/arm/attr-mfpu-vfp3.d: Likewise.
	* gas/arm/attr-mfpu-vfp9.d: Likewise.
	* gas/arm/attr-mfpu-vfpv2.d: Likewise.
	* gas/arm/attr-mfpu-vfpv3-d16.d: Likewise.
	* gas/arm/attr-mfpu-vfpv3.d: Likewise.
	* gas/arm/attr-mfpu-vfpv4-d16.d: Likewise.
	* gas/arm/attr-mfpu-vfpv4.d: Likewise.
	* gas/arm/attr-mfpu-vfpxd.d: Likewise.
	* gas/arm/attr-names.d: Add test to make sure all attribute names
	are recognised.
	* gas/arm/attr-names.s: Likewise.

2010-04-07  Jie Zhang  <jie@@codesourcery.com>

	* gas/arm/mapmisc.s: Test multiple mapping symbols have
	the same value 0.

2010-04-06  Peter Bergner  <bergner@@vnet.ibm.com>

	* gas/ppc/476.d ("dccci", "dci", "iccci"): Add tests.
	* gas/ppc/476.s: Likewise.
	* gas/ppc/a2.d ("dccci", "dci", "iccci", "ici"): Add tests.
	* gas/ppc/a2.s: Likewise.

2010-03-25  Joseph Myers  <joseph@@codesourcery.com>

	* gas/tic6x: New directory and testcases.

2010-03-23  Joseph Myers  <joseph@@codesourcery.com>

	* gas/macros/dot.s: Remove space in .byte operands.

2010-03-22  Sebastian Pop  <sebastian.pop@@amd.com>
	    Quentin Neill <quentin.neill@@amd.com>

	* testsuite/gas/i386/x86-64-lwp.s: Remove use of 16bit LWP insns.
	* testsuite/gas/i386/lwp.s: Same.
	* testsuite/gas/i386/x86-64-lwp.d: Updated.
	* testsuite/gas/i386/lwp.d: Updated.

2010-03-19  Jie Zhang  <jie@@codesourcery.com>

	* gas/arm/mapmisc.s: Add the test case for two mapping
	symbols having the same value.
	* gas/arm/mapmisc.d: Likewise.

2010-03-18  Wei Guozhi  <carrot@@google.com>

	PR gas/11323
	* gas/arm/got_prel.s: New test case.
	* gas/arm/got_prel.d: Expected disassembly.

2010-03-17  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run list-1, list-2 and list-3 only for
	ELF tagets.

2010-03-08  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/9966
	PR gas/11356
	* gas/i386/list-1.l: New.
	* gas/i386/list-1.s: Likewise.
	* gas/i386/list-2.l: Likewise.
	* gas/i386/list-2.s: Likewise.
	* gas/i386/list-3.l: Likewise.
	* gas/i386/list-3.s: Likewise.

	* gas/i386/i386.exp: Run list-1, list-2 and list-3.

	* lib/gas-defs.exp (gas_run_stdin): New.
	(run_list_test_stdin): Likewise.

2010-02-26  Doug Evans  <dje@@sebabeach.org>

	* gas/mep/allinsn.be.d: Renamed from allinsn.d.  Pass -EB.
	* gas/mep/allinsn.exp: branch1 is now bi-endian.
	* gas/mep/branch1.be.d: Renamed from branch1.d.  Pass -EB.
	* gas/mep/branch1.le.d: New file.
	* gas/mep/dj1.be.d: Renamed from dj1.d.  Pass -EB.
	* gas/mep/dj2.be.d: Renamed from dj2.d.  Pass -EB.

2010-02-26  Jie Zhang  <jie@@codesourcery.com>

	* gas/arm/thumb32.s, gas/arm/thumb32.d: Add a new test
	for strexd.
	* gas/arm/thumb32.l: Adjust.

2010-02-26  Jie Zhang  <jie@@codesourcery.com>

	* gas/arm/neon-ldst-align-bad.d: New test.
	* gas/arm/neon-ldst-align-bad.l: New test.
	* gas/arm/neon-ldst-align-bad.s: New test.

2010-02-25  Wu Zhangjin  <wuzhangjin@@gmail.com>

	* gas/mips/loongson-2f-2.s: New test of -mfix-loongson2f-nop.
	* gas/mips/loongson-2f-2.d: Likewise.
	* gas/mips/loongson-2f-3.s: New test of -mfix-loongson2f-jump.
	* gas/mips/loongson-2f-3.d: Likewise.
	* gas/mips/mips.exp: Run the new tests.

2010-02-24  Nick Clifton  <nickc@@redhat.com>

	PR binutils/6773
	* gas/arm/arch7em.d: Replace expected disassembly of
	<prefix>addsubx with <prefix>asx.  Also replace <prefix>subaddx
	with <prefix>sax.
	* gas/arm/archv6.d: Likewise.
	* gas/arm/thumb32.d: Likewise.

2010-02-23  Daniel Gutson  <dgutson@@codesourcery.com>

	* gas/arm/depr-swp.d: New test case.
	* gas/arm/depr-swp.s: New file.
	* gas/arm/depr-swp.l: New file.

2010-02-23  Nick Clifton  <nickc@@redhat.com>

	* gas/arm/thumb2_bcond.d: Allow for varying number of nops at the
	end of the section depending upon the target of the arm assembler
	being tested.

2010-02-18  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	* gas/arm/attr-order.d: Fix test for new names for attribute
	values.

2010-02-12  Daniel Gutson  <dgutson@@codesourcery.com>

	* gas/arm/sp-pc-validations-bad.d: New testcase.
	* gas/arm/sp-pc-validations-bad.l: New file.
	* gas/arm/sp-pc-validations-bad.s: New file.
	* gas/arm/sp-pc-validations-bad-t.d: New testcase.
	* gas/arm/sp-pc-validations-bad-t.l: New file.
	* gas/arm/sp-pc-validations-bad-t.s: New file.
	* gas/arm/sp-pc-usage-t.d: Removed invalid insns.
	* gas/arm/sp-pc-usage-t.s: Likewise.
	* gas/arm/unpredictable.d: Likewise.
	* gas/arm/unpredictable.s: Likewise.
	* gas/arm/thumb2_bcond.d: Added test.
	* gas/arm/thumb2_bcond.s: Likewise.

2010-02-12  Tristan Gingold  <gingold@@adacore.com>

	* gas/ia64/slotcount.s, gas/ia64/slotcount.s: New test.
	* gas/ia64/ia64.exp: Add slotcount test (vms only).

2010-02-10  Quentin Neill  <quentin.neill@@amd.com>
	    Sebastian Pop  <sebastian.pop@@amd.com>

	* gas/i386/x86-64-xop.d: Add vpermil2p[sd] tests.
	* gas/i386/x86-64-xop.s: Likewise.
	* gas/i386/xop.d: Likewise.
	* gas/i386/xop.s: Likewise.

2010-02-08  Christophe Lyon  <christophe.lyon@@st.com>

	* gas/arm/branch-reloc.s, gas/arm/branch-reloc.d,
	gas/arm/branch-reloc.l: New tests and expected results with all
	variants of call: ARM/Thumb, local/global, inter/intra-section,
	using BL/BLX.

2010-02-08  Christophe Lyon  <christophe.lyon@@st.com>

	* gas/arm/arm-it-auto.d: Update expected results.
	* gas/arm/bl-local-v4t.d: Likewise.
	* gas/arm/blx-local.d: Likewise.
	* gas/arm/thumb-w-good.d: Likewise.
	* gas/arm/wince.d: Likewise.

2010-02-08  Philipp Tomsich  <philipp.tomsich@@theobroma-systems.com>

	* gas/ppc/titan.d, * gas/ppc/titan.s: New test.
	* gas/ppc/ppc.exp: Run it.

2010-02-03  Quentin Neill  <quentin.neill@@amd.com>

	* gas/i386/i386.exp: Rename amdfam15 test cases to bdver1.
	* gas/i386/x86-64-nops-1-amdfam15.d: Renamed test case to
	gas/i386/x86-64-nops-1-bdver1.d.
	* gas/i386/nops-1-amdfam15.d: Renamed test case to
	gas/i386/nops-1-bdver1.d.

2010-01-29  Daniel Jacobowitz  <dan@@codesourcery.com>

	* gas/arm/dis-data.d: Update test name.  Do not expect
	.word output.
	* gas/arm/dis-data2.d, gas/arm/dis-data2.s,
	gas/arm/dis-data3.d, gas/arm/dis-data3.s: New tests.

2010-01-29  Nick Clifton  <nickc@@redhat.com>

	PR 11136
	* gas/arm/neon-omit.s: Add instruction that causes crash.
	* gas/arm/neon-omit.d: Add expected disassembly.

2010-01-28  Dave Korn  <dave.korn.cygwin@@gmail.com>

	* gas/pe/section-align-1.d: Don't test section flags.
	* gas/pe/section-align-2.d: Likewise.

2010-01-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/fma-scalar-intel.d: New.
	* gas/i386/fma-scalar.d: Likewise.
	* gas/i386/fma-scalar.s: Likewise.
	* gas/i386/x86-64-fma-scalar-intel.d: Likewise.
	* gas/i386/x86-64-fma-scalar.d: Likewise.
	* gas/i386/x86-64-fma-scalar.s: Likewise.

	* gas/i386/i386.exp: Run fma-scalar, fma-scalar-intel,
	x86-64-fma-scalar and x86-64-fma-scalar-intel.

2010-01-28  Nick Clifton  <nickc@@redhat.com>

	PR 11225
	* gas/pe/aligncomm-c.d: Dump all sections.

2010-01-27  Dave Korn  <dave.korn.cygwin@@gmail.com>

	* gas/pe/section-align-1.s: New test source file.
	* gas/pe/section-align-1.d: Likewise control script.
	* gas/pe/section-align-2.s: Likewise ...
	* gas/pe/section-align-2.d: ... and likewise.
	* gas/pe/pe.exp: Invoke new testcases.

2010-01-27  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/avx-scalar-intel.d: New.
	* gas/i386/avx-scalar.d: Likewise.
	* gas/i386/avx-scalar.s: Likewise.
	* gas/i386/x86-64-avx-scalar-intel.d: Likewise.
	* gas/i386/x86-64-avx-scalar.d: Likewise.
	* gas/i386/x86-64-avx-scalar.s: Likewise.

	* gas/i386/i386.exp: Run avx-scalar, avx-scalar-intel,
	x86-64-avx-scalar and x86-64-avx-scalar-intel.

2010-01-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/avx.s: Add more tests.
	* gas/i386/x86-64-avx.s: Likewise.

	* gas/i386/avx-intel.d: Updated.
	* gas/i386/avx.d: Likewise.
	* gas/i386/x86-64-avx-intel.d: Likewise.
	* gas/i386/x86-64-avx.d: Likewise.

2010-01-23  Richard Sandiford  <r.sandiford@@uk.ibm.com>

	* gas/ppc/xcoff-ref-1.s, gas/ppc/xcoff-ref-1.l: New test.
	* gas/ppc/aix.exp: Run it.

2010-01-21  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/x86-64-xsave.s: Add tests for xsave64 and xrstor64.

	* gas/i386/x86-64-xsave-intel.d: Updated.
	* gas/i386/x86-64-xsave.d: Likewise.

2010-01-20  Nick Clifton  <nickc@@redhat.com>

	PR 11109
	* gas/arm/vfp-neon-syntax.d: Update expected disassembly.
	* gas/arm/vfp-neon-syntax_t2.d: Likewise.

2010-01-15  Sebastian Pop  <sebastian.pop@@amd.com>

	* gas/i386/x86-64-xop.d: Add missing patterns.
	* gas/i386/x86-64-xop.s: Same.
	* gas/i386/xop.d: Same.
	* gas/i386/xop.s: Same.

2010-01-13  Daniel Jacobowitz  <dan@@codesourcery.com>

	* gas/arm/thumb-nop.s: Add .syntax unified.

2010-01-13  Daniel Jacobowitz  <dan@@codesourcery.com>

	* gas/arm/thumb-nop.d, gas/arm/thumb-nop.s: New test.
	* gas/arm/relax_branch_align.d: Expect a default NOP instruction.
	* gas/arm/vfp1_t2.d, gas/arm/vfp1xD_t2.d: Specify a CPU with
	Thumb-2.

2010-01-13  Nick Clifton  <nickc@@redhat.com>

	* gas/elf/section0.d: Skip this test for the h8300.
	* gas/elf/section1.d: Likewise.
	* gas/elf/section6.d: Likewise.
	* gas/elf/elf.exp: Skip section2 and section5 tests when the
	target is the h8300.

2010-01-06  Quentin Neill  <quentin.neill@@amd.com>

	* gas/i386/i386.exp: Add new amdfam15 test cases.
	* gas/i386/nops-1-amdfam15.d: New.
	* gas/i386/x86-64-nops-1-amdfam15.d: New.

2010-01-06  Daniel Gutson  <dgutson@@codesourcery.com>

	* gas/arm/dis-data.d: New test case.
	* gas/arm/dis-data.s: New file.

2010-01-04  Daniel Gutson  <dgutson@@codesourcery.com>

	* gas/arm/neon-logic.d: New test case.
	* gas/arm/neon-logic.s: New file.

2010-01-04  Daniel Gutson  <dgutson@@codesourcery.com>

	* gas/arm/neon-addressing-bad.d: New test case.
	* gas/arm/neon-addressing-bad.s: New file.
	* gas/arm/neon-addressing-bad.l: New file.

2010-01-03  Daniel Gutson  <dgutson@@codesourcery.com>

	* gas/arm/neon-suffix-bad.d: New test case.
	* gas/arm/neon-suffix-bad.s: New file.
	* gas/arm/neon-suffix-bad.l: New file.

For older changes see ChangeLog-2009
@


1.1823
log
@	* gas/cfi/cfi.exp: Skip cfi-common-6 on hppa64*-*.
@
text
@d3 4
@


1.1822
log
@Add change missing from previous commit, and fix misplaced changelog line.
@
text
@d1 4
@


1.1821
log
@bfd/
2010-12-23  Robert Millan  <rmh@@gnu.org>

	* config.bfd: Recognize mips-freebsd and mips-kfreebsd-gnu.
	* configure.host: Likewise.
	* configure.in: Support for `bfd_elf32_ntradbigmips_freebsd_vec',
	`bfd_elf32_ntradlittlemips_freebsd_vec',
	`bfd_elf32_tradbigmips_freebsd_vec',
	`bfd_elf32_tradlittlemips_freebsd_vec',
	`bfd_elf64_tradbigmips_freebsd_vec' and
	`bfd_elf64_tradlittlemips_freebsd_vec'.
	* configure: Regenerate.
	* elf32-mips.c: New target for FreeBSD support
	(same as traditional MIPS but overrides ELF_OSABI
	with ELFOSABI_FREEBSD).
	* elf64-mips.c: Likewise.
	* elfn32-mips.c: Likewise.
	* targets.c (_bfd_target_vector): Add
	`bfd_elf32_ntradbigmips_freebsd_vec',
	`bfd_elf32_ntradlittlemips_freebsd_vec',
	`bfd_elf32_tradbigmips_freebsd_vec',
	`bfd_elf32_tradlittlemips_freebsd_vec',
	`bfd_elf64_tradbigmips_freebsd_vec' and
	`bfd_elf64_tradlittlemips_freebsd_vec'.

ld/
2010-12-14  Robert Millan  <rmh@@gnu.org>

	* configure.tgt: Recognize mips-freebsd and mips-kfreebsd-gnu.

	* emulparams/elf32btsmip_fbsd.sh: New file.
	* emulparams/elf32btsmipn32_fbsd.sh: Likewise.
	* emulparams/elf32ltsmip_fbsd.sh: Likewise.
	* emulparams/elf32ltsmipn32_fbsd.sh: Likewise.
	* emulparams/elf64btsmip_fbsd.sh: Likewise.
	* emulparams/elf64ltsmip_fbsd.sh: Likewise.

	* Makefile.am: Add build rules for `eelf32btsmip_fbsd.c',
	`eelf32btsmipn32_fbsd.c', `eelf32ltsmip_fbsd.c',
	`eelf32ltsmipn32_fbsd.c', `eelf64btsmip_fbsd.c' and
	`eelf64ltsmip_fbsd.c'.
	* Makefile.in: Regenerate.

gas/
2010-12-19  Robert Millan  <rmh@@gnu.org>
	    Richard Sandiford  <rdsandiford@@googlemail.com>

	* config/tc-mips.c (ELF_TARGET): New macro.  Generates target
	names accordingly to whether TE_FreeBSD and whether TE_TMIPS
	are defined.
	(mips_target_format): Refactor code using ELF_TARGET().
	(support_64bit_objects): Likewise.

	* configure.in: Recognize mips-freebsd and mips-kfreebsd-gnu.
	* configure.tgt: Likewise.
	* configure: Regenerate.

binutils/testsuite/
	* binutils-all/readelf.exp: Handle MIPS FreeBSD targets.

gas/testsuite/
	* gas/mips/e32el-rel2.d: Accept any file format.
	* gas/mips/elf-rel.d: Likewise.
	* gas/mips/elf-rel2.d: Likewise.
	* gas/mips/elf-rel3.d: Likewise.
	* gas/mips/elfel-rel.d: Likewise.
	* gas/mips/elfel-rel2.d: Likewise.
	* gas/mips/elfel-rel3.d: Likewise.
	* gas/mips/ldstla-32-mips3-shared.d: Likewise.
	* gas/mips/ldstla-32-mips3.d: Likewise.
	* gas/mips/ldstla-32-shared.d: Likewise.
	* gas/mips/ldstla-32.d: Likewise.
	* gas/mips/ldstla-n64-shared.d: Likewise.
	* gas/mips/ldstla-n64.d: Likewise.
	* gas/mips/noat-1.d: Likewise.
	* gas/mips/set-arch.d: Likewise.
	* gas/mips/tls-o32.d: Likewise.

ld/testsuite/
	* ld-mips-elf/mips-elf-flags.exp: Handle FreeBSD targets.
	* ld-mips-elf/mips-elf.exp: Likewise.
	* ld-mips-elf/mips16-call-global.d: Accept any file format.
	* ld-mips-elf/mips16-intermix.d: Likewise.
@
text
@d3 2
a4 1
	* gas/mips/e32el-rel2.d: Accept any file format.
@


1.1820
log
@Add x86-64 ILP32 support.

bfd/

2010-12-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* archures.c (bfd_mach_x64_32): New.
	(bfd_mach_x64_32_intel_syntax): Likewise.
	* bfd-in2.h: Regenerated.

	* config.bfd (targ64_selvecs): Add bfd_elf32_x86_64_vec for
	i[3-7]86-*-linux-*.
	(targ_selvecs): Add bfd_elf32_x86_64_vec for x86_64-*-linux-*.

	* configure.in: Support bfd_elf32_x86_64_vec.
	* configure: Regenerated.

	* cpu-i386.c (bfd_x64_32_arch_intel_syntax): New.
	(bfd_x64_32_arch): Likewise.

	* elf-bfd.h (elf_append_rela): New prototype.
	(elf_append_rel): Likewise.
	(elf64_r_info): Likewise.
	(elf32_r_info): Likewise.
	(elf64_r_sym): Likewise.
	(elf32_r_sym): Likewise.

	* elf64-x86-64.c (ABI_64_P): New.
	(elf_x86_64_info_to_howto): Replace ELF64_R_TYPE with
	ELF32_R_TYPE.  Replace ELF64_ST_TYPE with ELF_ST_TYPE.
	(elf_x86_64_check_tls_transition):Likewise.
	(elf_x86_64_check_relocs): Likewise.
	(elf_x86_64_gc_mark_hook):Likewise.
	(elf_x86_64_gc_sweep_hook): Likewise.
	(elf_x86_64_relocate_section): Likewise.
	(elf_x86_64_reloc_type_class): Likewise.
	(ELF_DYNAMIC_INTERPRETER): Renamed to ...
	(ELF64_DYNAMIC_INTERPRETER): This.
	(ELF32_DYNAMIC_INTERPRETER): New.
	(elf_x86_64_link_hash_table): Add r_info, r_sym, swap_reloca_out,
	dynamic_interpreter and dynamic_interpreter_size.
	(elf_x86_64_get_local_sym_hash): Replace ELF64_R_SYM with
	htab->r_sym.  Replace ELF64_R_INFO with htab->r_info.
	(elf_x86_64_get_local_sym_hash): Likewise.
	(elf_x86_64_check_tls_transition):Likewise.
	(elf_x86_64_check_relocs): Likewise.
	(elf_x86_64_gc_mark_hook):Likewise.
	(elf_x86_64_gc_sweep_hook): Likewise.
	(elf_x86_64_relocate_section): Likewise.
	(elf_x86_64_finish_dynamic_symbol): Likewise.
	(elf_x86_64_finish_local_dynamic_symbol): Likewise.
	(elf_x86_64_link_hash_table_create): Initialize r_info, r_sym,
	swap_reloca_out, dynamic_interpreter and dynamic_interpreter_size.
	(elf_x86_64_check_relocs): Check ABI_64_P when requesting for
	PIC.
	(elf_x86_64_relocate_section): Likewise.
	(elf64_x86_64_adjust_dynamic_symbol): Replace sizeof
	(Elf64_External_Rela) with bed->s->sizeof_rela.
	(elf64_x86_64_allocate_dynrelocs): Likewise.
	(elf64_x86_64_size_dynamic_sections): Likewise.
	(elf64_x86_64_finish_dynamic_symbol): Likewise.
	(elf64_x86_64_append_rela): Removed.
	(elf32_x86_64_elf_object_p): New.
	Add bfd_elf32_x86_64_vec.

	* elf64-x86-64.c (elf64_x86_64_xxx): Renamed to ...
	(elf_x86_64_xxx): This.

	* elflink.c (bfd_elf_final_link): Check ELF file class on error.
	(elf_append_rela): New.
	(elf_append_rel): Likewise.
	(elf64_r_info): Likewise.
	(elf32_r_info): Likewise.
	(elf64_r_sym): Likewise.
	(elf32_r_sym): Likewise.

	* targets.c (bfd_elf32_x86_64_vec): New.
	(_bfd_target_vector): Add bfd_elf32_x86_64_vec.

gas/

2010-12-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (x86_elf_abi): New.
	(i386_mach): Return bfd_mach_x64_32 for ILP32.
	(OPTION_N32): Likewise.
	(md_longopts): Add "n32" for ELF.
	(md_parse_option): Handle OPTION_N32.
	(md_show_usage): Add --n32.
	(i386_target_format): Update and check x86_elf_abi.

	* config/tc-i386.h (ELF_TARGET_FORMAT32): New.

	* doc/as.texinfo: Document --n32.
	* doc/c-i386.texi: Likewise.

gas/testsuite/

2010-12-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/ilp32/lns/ilp32.exp: New.
	* gas/i386/ilp32/lns/lns-common-1.d: Likewise.
	* gas/i386/ilp32/lns/lns-duplicate.d: Likewise.

	* gas/i386/ilp32/cfi/cfi-common-1.d: New.
	* gas/i386/ilp32/cfi/cfi-common-2.d: Likewise.
	* gas/i386/ilp32/cfi/cfi-common-3.d: Likewise.
	* gas/i386/ilp32/cfi/cfi-common-4.d: Likewise.
	* gas/i386/ilp32/cfi/cfi-common-5.d: Likewise.
	* gas/i386/ilp32/cfi/cfi-common-6.d: Likewise.
	* gas/i386/ilp32/cfi/cfi-common-7.d: Likewise.
	* gas/i386/ilp32/cfi/cfi-x86_64.d: Likewise.
	* gas/i386/ilp32/cfi/ilp32.exp: Likewise.
	* gas/i386/ilp32/elf/ehopt0.d: Likewise.
	* gas/i386/ilp32/elf/equ-reloc.d: Likewise.
	* gas/i386/ilp32/elf/file.d: Likewise.
	* gas/i386/ilp32/elf/group0a.d: Likewise.
	* gas/i386/ilp32/elf/group0b.d: Likewise.
	* gas/i386/ilp32/elf/group1a.d: Likewise.
	* gas/i386/ilp32/elf/group1b.d: Likewise.
	* gas/i386/ilp32/elf/ifunc-1.d: Likewise.
	* gas/i386/ilp32/elf/ilp32.exp: Likewise.
	* gas/i386/ilp32/elf/redef.d: Likewise.
	* gas/i386/ilp32/elf/section0.d: Likewise.
	* gas/i386/ilp32/elf/section1.d: Likewise.
	* gas/i386/ilp32/elf/section3.d: Likewise.
	* gas/i386/ilp32/elf/section4.d: Likewise.
	* gas/i386/ilp32/elf/section6.d: Likewise.
	* gas/i386/ilp32/elf/section7.d: Likewise.
	* gas/i386/ilp32/elf/struct.d: Likewise.
	* gas/i386/ilp32/elf/symtab.d: Likewise.
	* gas/i386/ilp32/elf/symver.d: Likewise.

	* gas/i386/ilp32/ilp32.exp: New.
	* gas/i386/ilp32/immed64.d: Likewise.
	* gas/i386/ilp32/mixed-mode-reloc64.d: Likewise.
	* gas/i386/ilp32/reloc64.d: Likewise.
	* gas/i386/ilp32/rex.d: Likewise.
	* gas/i386/ilp32/rexw.d: Likewise.
	* gas/i386/ilp32/svme64.d: Likewise.
	* gas/i386/ilp32/x86-64-addr32.d: Likewise.
	* gas/i386/ilp32/x86-64-addr32-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-aes.d: Likewise.
	* gas/i386/ilp32/x86-64-aes-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-amdfam10.d: Likewise.
	* gas/i386/ilp32/x86-64-arch-1.d: Likewise.
	* gas/i386/ilp32/x86-64-arch-2.d: Likewise.
	* gas/i386/ilp32/x86-64-avx.d: Likewise.
	* gas/i386/ilp32/x86-64-avx-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-avx-swap.d: Likewise.
	* gas/i386/ilp32/x86-64-avx-swap-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-branch.d: Likewise.
	* gas/i386/ilp32/x86-64-cbw.d: Likewise.
	* gas/i386/ilp32/x86-64-cbw-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-clmul.d: Likewise.
	* gas/i386/ilp32/x86-64-clmul-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-crc32.d: Likewise.
	* gas/i386/ilp32/x86-64-crc32-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-crx.d: Likewise.
	* gas/i386/ilp32/x86-64-crx-suffix.d: Likewise.
	* gas/i386/ilp32/x86-64.d: Likewise.
	* gas/i386/ilp32/x86-64-disp.d: Likewise.
	* gas/i386/ilp32/x86-64-disp-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-drx.d: Likewise.
	* gas/i386/ilp32/x86-64-drx-suffix.d: Likewise.
	* gas/i386/ilp32/x86-64-ept.d: Likewise.
	* gas/i386/ilp32/x86-64-ept-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-fma4.d: Likewise.
	* gas/i386/ilp32/x86-64-fma.d: Likewise.
	* gas/i386/ilp32/x86-64-fma-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-gidt.d: Likewise.
	* gas/i386/ilp32/x86-64-ifunc.d: Likewise.
	* gas/i386/ilp32/x86-64-intel64.d: Likewise.
	* gas/i386/ilp32/x86-64-io.d: Likewise.
	* gas/i386/ilp32/x86-64-io-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-io-suffix.d: Likewise.
	* gas/i386/ilp32/x86-64-localpic.d: Likewise.
	* gas/i386/ilp32/x86-64-mem.d: Likewise.
	* gas/i386/ilp32/x86-64-mem-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-movbe.d: Likewise.
	* gas/i386/ilp32/x86-64-movbe-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-nops-1-core2.d: Likewise.
	* gas/i386/ilp32/x86-64-nops-1.d: Likewise.
	* gas/i386/ilp32/x86-64-nops-1-k8.d: Likewise.
	* gas/i386/ilp32/x86-64-nops-1-nocona.d: Likewise.
	* gas/i386/ilp32/x86-64-nops-1-pentium.d: Likewise.
	* gas/i386/ilp32/x86-64-nops-2.d: Likewise.
	* gas/i386/ilp32/x86-64-nops-3.d: Likewise.
	* gas/i386/ilp32/x86-64-nops-4-core2.d: Likewise.
	* gas/i386/ilp32/x86-64-nops-4.d: Likewise.
	* gas/i386/ilp32/x86-64-nops-4-k8.d: Likewise.
	* gas/i386/ilp32/x86-64-nops-5.d: Likewise.
	* gas/i386/ilp32/x86-64-nops-5-k8.d: Likewise.
	* gas/i386/ilp32/x86-64-nops.d: Likewise.
	* gas/i386/ilp32/x86-64-opcode.d: Likewise.
	* gas/i386/ilp32/x86-64-opcode-inval.d: Likewise.
	* gas/i386/ilp32/x86-64-opcode-inval-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-opts.d: Likewise.
	* gas/i386/ilp32/x86-64-opts-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-pcrel.d: Likewise.
	* gas/i386/ilp32/x86-64-reg.d: Likewise.
	* gas/i386/ilp32/x86-64-reg-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-rep.d: Likewise.
	* gas/i386/ilp32/x86-64-rep-suffix.d: Likewise.
	* gas/i386/ilp32/x86-64-rip.d: Likewise.
	* gas/i386/ilp32/x86-64-rip-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-sib.d: Likewise.
	* gas/i386/ilp32/x86-64-sib-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-simd.d: Likewise.
	* gas/i386/ilp32/x86-64-simd-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-simd-suffix.d: Likewise.
	* gas/i386/ilp32/x86-64-sse2avx.d: Likewise.
	* gas/i386/ilp32/x86-64-sse2avx-opts.d: Likewise.
	* gas/i386/ilp32/x86-64-sse2avx-opts-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-sse3.d: Likewise.
	* gas/i386/ilp32/x86-64-sse4_1.d: Likewise.
	* gas/i386/ilp32/x86-64-sse4_1-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-sse4_2.d: Likewise.
	* gas/i386/ilp32/x86-64-sse4_2-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-sse-check.d: Likewise.
	* gas/i386/ilp32/x86-64-sse-check-none.d: Likewise.
	* gas/i386/ilp32/x86-64-sse-check-warn.d: Likewise.
	* gas/i386/ilp32/x86-64-sse-noavx.d: Likewise.
	* gas/i386/ilp32/x86-64-ssse3.d: Likewise.
	* gas/i386/ilp32/x86-64-stack.d: Likewise.
	* gas/i386/ilp32/x86-64-stack-intel.d: Likewise.
	* gas/i386/ilp32/x86-64-stack-suffix.d: Likewise.
	* gas/i386/ilp32/x86-64-unwind.d: Likewise.
	* gas/i386/ilp32/x86-64-vmx.d: Likewise.
	* gas/i386/ilp32/x86-64-xsave.d: Likewise.
	* gas/i386/ilp32/x86-64-xsave-intel.d: Likewise.

ld/

2010-12-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* emulparams/elf32_x86_64.sh: New.

	* configure.tgt (targ64_extra_emuls): Add elf32_x86_64 for
	i[3-7]86-*-linux-*.
	(targ_extra_libpath): Likewise.
	(targ_extra_emuls): Add elf32_x86_64 for x86_64-*-linux-*.
	(targ_extra_libpath): Likewise.

	* Makefile.am (ALL_64_EMULATION_SOURCES): Add eelf32_x86_64.c.
	(eelf32_x86_64.c): New.
	* Makefile.in: Regenerated.

opcodes/

2010-12-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (print_insn): Support bfd_mach_x64_32 and
	bfd_mach_x64_32_intel_syntax.
@
text
@d1 19
@


1.1819
log
@	PR gas/11395
	* config/tc-hppa.c (pa_ip): Set doubleword carry/borrow bit when a
	doubleword completer or doubleword condition is found in an add/sub
	instruction.  Reject match for 'A'/'S' only if there is no condition
	and d bit is not set.

	* gas/hppa/basic/add2.s: Add test for a simple doubleword carry
	instruction.
	* gas/hppa/basic/sub2.s: Add tests for simple word and doubleword
	borrow instructions.
	* gas/hppa/basic/basic.exp: Update regexps for above.

	* opcode/hppa.h: Clear "d" bit in "add" and "sub" patterns.
@
text
@d1 134
@


1.1818
log
@include/opcode/
2010-12-14  Mingjie Xing  <mingjie.xing@@gmail.com>

	* mips.h (OP_*_OFFSET_A, OP_*_OFFSET_B, OP_*_OFFSET_C)
	(OP_*_RZ, OP_*_FZ, INSN2_M_FP_D, INSN2_WRITE_GPR_Z, INSN2_WRITE_FPR_Z)
	(INSN2_READ_GPR_Z, INSN2_READ_FPR_Z, INSN2_READ_GPR_D): Define.

opcodes/
2010-12-14  Mingjie Xing  <mingjie.xing@@gmail.com>

	* mips-opc.c (WR_z, WR_Z, RD_z, RD_Z, RD_d): Define.
	(mips_builtin_opcodes): Add loongson3a specific instructions.
	* mips-dis.c (print_insn_args): Handle the new arguments +a|b|c|z|Z.

gas/
2010-12-14  Mingjie Xing  <mingjie.xing@@gmail.com>

	* config/tc-mips.c (insn_uses_reg): Handle the new flags
	INSN2_READ_FPR_Z, INSN2_READ_GPR_D and INSN2_READ_GPR_Z.
	(append_insn): Handle delay-slot filling for the new flags.
	(validate_mips_insn): Handle the new arguments +a|b|c|z|Z.
	(mips_ip): Handle the new arguments +a|b|c|z|Z.

gas/testsuite/
2010-12-14  Mingjie Xing  <mingjie.xing@@gmail.com>

	* gas/mips/loongson-3a-2.s, gas/mips/loongson-3a-2.d,
	gas/mips/loongson-3a-3.s, gas/mips/loongson-3a-3.d: New tests.
	* gas/mips/mips.exp: Run them.
@
text
@d1 9
@


1.1817
log
@Mark .gnu.lto_* sections with SHF_EXCLUDE.

bfd/

2010-12-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* elf.c (special_sections_g): Add ".gnu.lto_".

gas/testsuite/

2010-12-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/elf/elf.exp: Run section9.

	* gas/elf/section9.d: New.
	* gas/elf/section9.s: Likewise.
@
text
@d1 6
@


1.1816
log
@opcodes/
2010-12-03 Mingming Sun <mingm.sun@@gmail.com>

	* mips-opc.c: (mips_builtin_opcodes): Add loongson3a mul/div and
	fixed point instructions.

gas/testsuite/
2010-12-03 Mingming Sun <mingm.sun@@gmail.com>

	* gas/mips/loongson-3a.s, gas/mips/loongson-3a.d: New test.
	* gas/mips/mips.exp: Run it.
@
text
@d1 8
a8 1
2010-12-11 Mingming Sun <mingm.sun@@gmail.com>
@


1.1815
log
@	gas/
	* config/tc-mips.c (file_ase_mips16): Adjust comment.
	(append_insn): Update file_ase_mips16.
	(mips_after_parse_args): Don't set file_ase_mips16 here.

	gas/testsuite/
	* gas/mips/elf_ase_mips16.d: Update test for new MIPS16 ASE flag
	semantics.
	* gas/mips/elf_ase_mips16-2.d: New test.
	* gas/mips/nop.s: Source for the new test.
	* gas/mips/mips.exp: Run the new test.

	binutils/testsuite/
	* lib/binutils-common.exp (regexp_diff): Implement inverse
	matching, requested by `!'.
@
text
@d1 5
@


1.1814
log
@	* gas/mips/jal-svr4pic.d: Also use wildcard address matching in
	relocations.
	* gas/mips/mips1@@jal-svr4pic.d: Likewise.
	* gas/mips/jal-svr4pic-noreorder.d: Likewise.
	* gas/mips/mips1@@jal-svr4pic-noreorder.d: Likewise.
@
text
@d3 8
@


1.1813
log
@	gas/
	* config/tc-mips.c (macro) <ld_st>: Don't load a zero into an
	auxiliary register when using a signed 16-bit constant offset.

	gas/testsuite/
	* gas/mips/ldstla-32.d: Update according to a 16-bit constant
	offset optimization.
	* gas/mips/ldstla-32-mips3.d: Likewise.
	* gas/mips/ldstla-32-shared.d: Likewise.
	* gas/mips/ldstla-32-mips3-shared.d: Likewise.
@
text
@d3 8
@


1.1812
log
@	gas/
	* config/tc-mips.c (macro, mips_ip): Correct message
	capitalization.

	gas/testsuite/
	* gas/mips/at-2.l: Adjust according to message capitalization
	fixes.
	* gas/mips/illegal.l: Likewise.
	* gas/mips/jalr.l: Likewise.
	* gas/mips/octeon-ill.l: Likewise.
	* gas/mips/tls-ill.l: Likewise.
@
text
@d3 8
@


1.1811
log
@	* gas/mips/ldstla-32.d: Use wildcard address matching.
	* gas/mips/ldstla-32-mips3.d: Likewise.
	* gas/mips/ldstla-32-shared.d: Likewise.
	* gas/mips/ldstla-32-mips3-shared.d: Likewise.
@
text
@d3 9
@


1.1810
log
@gas/
	* symbols.c (S_FORCE_RELOC): Return true for indirect functions
	even if !strict.
	* expr.c (operand): Don't convert absolute symbols to constants
	if S_FORCE_RELOC is true.
	(expr): Only reduce subtractions between different symbols if
	S_FORCE_RELOC is false for both of them.
	* write.c (fixup_segment): Don't remove symbols if S_FORCE_RELOC
	is true for them, regardless of their segment.

gas/testsuite/
	* gas/i386/ifunc-2.s, gas/i386/ifunc-2.l: New test.
	* gas/i386/ifunc-3.s, gas/i386/ifunc-3.d: Likeise.
	* gas/i386/i386.exp: Run them.
@
text
@d1 7
@


1.1809
log
@binutils/testsuite/
	* lib/binutils-common.exp (regexp_diff): New procedure.
	* lib/utils-lib.exp (regexp_diff): Delete.

gas/testsuite/
	* lib/gas-defs.exp (regexp_diff): Delete.
	(run_dump_test): Remove final "" argument in call to regexp_diff.
	(run_list_test): Likewise.
	(run_list_test_stdin): Likewise.
	* gas/all/gas.exp (test_cond): Likewise.
	* gas/elf/elf.exp (run_elf_list_test): Likewise.
	* gas/m68k/all.exp: Likewise.
	* gas/mep/complex-relocs.exp (regexp_test): Likewise.
	* gas/mt/relocs.exp (regexp_test): Likewise.
	* gas/symver/symver.exp (run_error_test): Likewise.

ld/testsuite/
	* lib/ld-lib.exp (regexp_diff, simple_diff): Delete.
@
text
@d1 6
@


1.1808
log
@binutils/testsuite/
	* lib/binutils-common.exp: New file.
	* lib/utils-lib.exp (load_common_lib): New function.  Load
	binutils-common.exp.
	(is_elf_format): Delete.

gas/testsuite/
	* lib/gas-defs.exp (load_common_lib): New function.  Load
	binutils-common.exp.
	(is_elf_format, is_aout_format, is_pecoff_format): Delete.

ld/testsuite/
	* lib/ld-lib.exp (load_common_lib): New function.  Load
	binutils-common.exp.
	(is_elf_format, is_elf64, is_aout_format, is_pecoff_format): Delete.
@
text
@d3 13
@


1.1807
log
@Also expect .zdebug in DWARF debug section name.

binutils/testsuite/

2010-11-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/compress.exp: Pass --nocompress-debug-sections to
	assembler for uncompressed debug sections.

	* binutils-all/testranges.d: Also expect .zdebug in section name.

gas/testsuite/

2010-11-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/elf/dwarf2-3.d: Also expect .zdebug in section name.
	* gas/i386/debug1.d: Likewise.
	* gas/lns/lns-common-1.d: Likewise.
	* gas/lns/lns-duplicate.d: Likewise.
@
text
@d1 6
@


1.1806
log
@	PR gas/12198
	* gas/config/tc-arm.c (arm_arch_v6m_only): New variable.
	(aeabi_set_public_attributes): Ensure we only set the Operating System
	Extension when we are on an M-profile core.
	* gas/testsuite/gas/arm/pr12198-1.d: New test.
	* gas/testsuite/gas/arm/pr12918-1.s: Likewise.
	* gas/testsuite/gas/arm/pr12198-2.d: Likewise.
	* gas/testsuite/gas/arm/pr12918-2.s: Likewise.
	* include/opcode/arm.h (ARM_AEXT_V6M_ONLY): New define.
	(ARM_AEXT_V6M): Rewrite in terms of ARM_AEXT_V6M_ONLY.
	(ARM_ARCH_V6M_ONLY): New define.
@
text
@d1 7
@


1.1805
log
@gas/
	* config/tc-mips.c (macro_build): Remove gas_assert from 'o' case.
	Use a restricted gas_assert for 'i' and 'j'.

gas/testsuite/
	* gas/mips/elf-rel28.s, gas/mips/elf-rel28-n32.d,
	gas/mips/elf-rel28-n64.d: New test.
	* gas/mips/mips.exp: Run it.
@
text
@d1 8
@


1.1804
log
@gas/
	* config/tc-arm.c (do_t_branch): Treat (PLT) branches as wide.

gas/testsuite/
	* gas/arm/plt-1.s, gas/arm/plt-1.d: New test.
@
text
@d1 6
@


1.1803
log
@Improve binutils testsuite coverage for GNU/Hurd.

binutils/testsuite/

	* lib/utils-lib.exp (is_elf_format): Consider for *-*-gnu*, too.
	* binutils-all/elfedit-2.d (target): Likewise.
	* binutils-all/elfedit-3.d (target): Likewise.
	* binutils-all/i386/i386.exp: Likewise.
	* binutils-all/objcopy.exp: Likewise.
	* binutils-all/strip-3.d (target): Likewise.

gas/testsuite/

	* lib/gas-defs.exp (is_elf_format): Consider for *-*-gnu*, too.
	* gas/elf/elf.exp: Likewise.
	* gas/symver/symver.exp: Likewise.

ld/

	* configure.host: Add stanza for *-*-gnu*.

ld/testsuite/

	* lib/ld-lib.exp (is_elf_format): Consider for *-*-gnu*, too.
	* ld-discard/discard.exp: Likewise.
	* ld-elf/binutils.exp: Likewise.
	* ld-elf/commonpage1.d (target): Likewise.
	* ld-elf/compress1c.d (target): Likewise.
	* ld-elf/discard1.d (target): Likewise.
	* ld-elf/discard2.d (target): Likewise.
	* ld-elf/discard3.d (target): Likewise.
	* ld-elf/dynsym1.d (target): Likewise.
	* ld-elf/eh6.d (target): Likewise.
	* ld-elf/elf.exp: Likewise.
	(array_tests): Move -static tests to...
	(array_tests_static): ... here, and handle it accordingly.
	* ld-elf/hash.d (target): Likewise.
	* ld-elf/header.d (target): Likewise.
	* ld-elf/loadaddr1.d (target): Likewise.
	* ld-elf/loadaddr2.d (target): Likewise.
	* ld-elf/loadaddr3a.d (target): Likewise.
	* ld-elf/loadaddr3b.d (target): Likewise.
	* ld-elf/local1.d (target): Likewise.
	* ld-elf/maxpage1.d (target): Likewise.
	* ld-elf/maxpage2.d (target): Likewise.
	* ld-elf/maxpage3a.d (target): Likewise.
	* ld-elf/multibss1.d (target): Likewise.
	* ld-elf/noload-2.d (target): Likewise.
	* ld-elf/seg.d (target): Likewise.
	* ld-elf/textaddr1.d (target): Likewise.
	* ld-elf/textaddr2.d (target): Likewise.
	* ld-elf/textaddr3.d (target): Likewise.
	* ld-elf/textaddr4.d (target): Likewise.
	* ld-elf/textaddr5.d (target): Likewise.
	* ld-elf/textaddr6.d (target): Likewise.
	* ld-elf/textaddr7.d (target): Likewise.
	* ld-elf/tls_common.exp: Likewise.
	* ld-elf/unknown2.d (target): Likewise.
	* ld-elfvers/vers.exp: Likewise.
	* ld-elfvsb/elfvsb.exp: Likewise.
	* ld-elfweak/elfweak.exp: Likewise.
	(setup_xfail_gnu_hurd): New function.  Use it where appropriate.
	* ld-gc/abi-note.d (target): Likewise.
	* ld-gc/gc.exp: Likewise.
	* ld-gc/pr11218.d (target): Likewise.
	* ld-gc/start.d (target): Likewise.
	* ld-i386/i386.exp: Likewise.
	* ld-ifunc/binutils.exp: Likewise.
	* ld-ifunc/ifunc.exp: Likewise.
	* ld-linkonce/linkonce.exp: Likewise.
	* ld-linkonce/zeroehl32.d (target): Likewise.
	* ld-pie/pie.exp: Likewise.
	* ld-scripts/phdrs2.exp: Likewise.
	* ld-scripts/rgn-at5.d (target): Likewise.
	* ld-shared/shared.exp: Likewise.
	* ld-undefined/entry-3.d (target): Likewise.
	* ld-undefined/entry-4.d (target): Likewise.
	* ld-undefined/weak-undef.exp: Likewise.
@
text
@d1 4
@


1.1802
log
@Properly fold _GLOBAL_OFFSET_TABLE_ in Intel syntax.

gas/

2010-11-03  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/12186
	* config/tc-i386-intel.c (i386_intel_fold): Properly fold
	_GLOBAL_OFFSET_TABLE_.

gas/testsuite/

2010-11-03  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/12186
	* gas/i386/gotpc.s: Add more _GLOBAL_OFFSET_TABLE_ test.
	* gas/i386/gotpc.d: Updated.
@
text
@d1 6
@


1.1802.2.1
log
@gas/
	* config/tc-arm.c (do_t_branch): Treat (PLT) branches as wide.

gas/testsuite/
	* gas/arm/plt-1.s, gas/arm/plt-1.d: New test.
@
text
@a0 4
2010-11-10  Richard Sandiford  <richard.sandiford@@linaro.org>

	* gas/arm/plt-1.s, gas/arm/plt-1.d: New test.

@


1.1802.2.2
log
@	PR gas/12198
	* gas/config/tc-arm.c (arm_arch_v6m_only): New variable.
	(aeabi_set_public_attributes): Ensure we only set the Operating System
	Extension when we are on an M-profile core.
	* gas/testsuite/gas/arm/pr12198-1.d: New test.
	* gas/testsuite/gas/arm/pr12918-1.s: Likewise.
	* gas/testsuite/gas/arm/pr12198-2.d: Likewise.
	* gas/testsuite/gas/arm/pr12918-2.s: Likewise.
	* include/opcode/arm.h (ARM_AEXT_V6M_ONLY): New define.
	(ARM_AEXT_V6M): Rewrite in terms of ARM_AEXT_V6M_ONLY.
	(ARM_ARCH_V6M_ONLY): New define.
@
text
@a0 8
2010-11-15  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	PR gas/12198
	* gas/arm/pr12198-1.d: New test.
	* gas/arm/pr12918-1.s: Likewise.
	* gas/arm/pr12198-2.d: Likewise.
	* gas/arm/pr12918-2.s: Likewise.

@


1.1802.2.3
log
@gas/
	* config/tc-mips.c (macro_build): Remove gas_assert from 'o' case.
	Use a restricted gas_assert for 'i' and 'j'.

gas/testsuite/
	* gas/mips/elf-rel28.s, gas/mips/elf-rel28-n32.d,
	gas/mips/elf-rel28-n64.d: New test.
	* gas/mips/mips.exp: Run it.
@
text
@a0 6
2010-11-15  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/elf-rel28.s, gas/mips/elf-rel28-n32.d,
	gas/mips/elf-rel28-n64.d: New test.
	* gas/mips/mips.exp: Run it.

@


1.1802.2.4
log
@backport from mainline
@
text
@a0 8
2011-02-01  Alan Modra  <amodra@@gmail.com>

	Backport from mainline
	2010-12-02  Richard Sandiford  <richard.sandiford@@linaro.org>
	* gas/i386/ifunc-2.s, gas/i386/ifunc-2.l: New test.
	* gas/i386/ifunc-3.s, gas/i386/ifunc-3.d: Likeise.
	* gas/i386/i386.exp: Run them.

@


1.1802.2.5
log
@	PR gas/3041
	* gas/m68k/p3041pcrel.s, * gas/m68k/p3041pcrel.d: New test.
	* gas/m68k/all.exp: Add "p3041pcrel" and enable p3041 tests for
	all m68k-aout targets.
@
text
@a0 7
2011-02-07  Vincent Riviere  <vincent.riviere@@freesbee.fr>

	PR gas/3041
	* gas/m68k/p3041pcrel.s, * gas/m68k/p3041pcrel.d: New test.
	* gas/m68k/all.exp: Add "p3041pcrel" and enable p3041 tests for
	all m68k-aout targets.

@


1.1802.2.6
log
@apply mainline testsuite fixes and tweaks
@
text
@a0 25
2011-02-10  Alan Modra  <amodra@@gmail.com>

	Apply from mainline
	2010-11-20  Richard Sandiford  <rdsandiford@@googlemail.com>
	* lib/gas-defs.exp (regexp_diff): Delete.
	(run_dump_test): Remove final "" argument in call to regexp_diff.
	(run_list_test): Likewise.
	(run_list_test_stdin): Likewise.
	* gas/all/gas.exp (test_cond): Likewise.
	* gas/elf/elf.exp (run_elf_list_test): Likewise.
	* gas/m68k/all.exp: Likewise.
	* gas/mep/complex-relocs.exp (regexp_test): Likewise.
	* gas/mt/relocs.exp (regexp_test): Likewise.
	* gas/symver/symver.exp (run_error_test): Likewise.

	2010-11-20  Richard Sandiford  <rdsandiford@@googlemail.com>
	* lib/gas-defs.exp (load_common_lib): New function.  Load
	binutils-common.exp.
	(is_elf_format, is_aout_format, is_pecoff_format): Delete.

	2010-11-08  Thomas Schwinge  <thomas@@schwinge.name>
	* lib/gas-defs.exp (is_elf_format): Consider for *-*-gnu*, too.
	* gas/elf/elf.exp: Likewise.
	* gas/symver/symver.exp: Likewise.

@


1.1802.2.7
log
@	* gas/m68k/cpu32.d: Set explicit architecture for objdump.
	* gas/m68k/mcf-coproc.d: Likewise.
	* gas/m68k/mcf-wdebug.d: Likewise.
@
text
@a0 6
2011-02-10  Vincent Rivire  <vincent.riviere@@freesbee.fr>

	* gas/m68k/cpu32.d: Set explicit architecture for objdump.
	* gas/m68k/mcf-coproc.d: Likewise.
	* gas/m68k/mcf-wdebug.d: Likewise.

@


1.1802.2.8
log
@Backport of:
Changes by:	hjl@@sourceware.org	2011-02-08 20:21:26

Modified files:
	gas            : ChangeLog
	gas/config     : tc-i386.c
	gas/testsuite  : ChangeLog
	gas/testsuite/gas/i386: nops-1-i686.d nops-3-i686.d
	                        nops-4-i686.d

Log message:
	Use f32_patt in i386_align_code  when tuning for i686.

	gas/

	2011-02-08  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/6957
	* config/tc-i386.c (i386_align_code): Use f32_patt when tuning
	for i686.

	gas/testsuite/

	2011-02-08  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/6957
	* gas/i386/nops-1-i686.d: Updated.
	* gas/i386/nops-3-i686.d: Likewise.
	* gas/i386/nops-4-i686.d: Likewise.
@
text
@a2 7
	PR gas/6957
	* gas/i386/nops-1-i686.d: Updated.
	* gas/i386/nops-3-i686.d: Likewise.
	* gas/i386/nops-4-i686.d: Likewise.

2011-02-08  H.J. Lu  <hongjiu.lu@@intel.com>

@


1.1802.2.9
log
@	PR ld/12696
	PR ld/12672
	PR ld/12507
	PR ld/12365
	PR 10549
Backport fixes for these PRs.
@
text
@a0 8
2011-04-27  Alan Modra  <amodra@@gmail.com>

	Apply from mainline.
	2010-12-12  H.J. Lu  <hongjiu.lu@@intel.com>
	* gas/elf/elf.exp: Run section9.
	* gas/elf/section9.d: New.
	* gas/elf/section9.s: Likewise.

@


1.1802.2.10
log
@	Apply from mainline.
	2011-05-12  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	PR gas/12715
	* gas/config/tc-arm.c (parse_big_immediate):  Fix parsing of 64-bit
	immediates on 32-bit hosts.
	* gas/testsuite/gas/arm/neon-const.s: Add testcase for 64-bit Neon constants.
	* gas/testsuite/gas/arm/neon-const.d: Likewise.
@
text
@a0 8
2011-05-13  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

	Apply from mainline. 
	2011-05-12  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>
	PR gas/12715
	* gas/arm/neon-const.s: Add testcase for 64-bit Neon constants.
	* gas/arm/neon-const.d: Likewise.

@


1.1802.2.11
log
@2011-05-18  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	Backported from mainline
	2011-03-18  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* config/tc-s390.c (md_parse_option): Add -march=all option which
	switches to the highest available CPU.

	2011-04-14  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* config/tc-s390.c (s390_machine): New prototype.
	(md_pseudo_table): New pseudo-op .machine.
	(s390_opcode_hash): Initialize to NULL.
	(s390_parse_cpu): New function.
	(md_parse_option): Use s390_parse_cpu.
	(s390_setup_opcodes): New function.
	(md_begin): Use s390_setup_opcodes.
	(s390_machine): New hook handling the new .machine pseudo.

	* doc/c-s390.texi: Document the new pseudo op .machine.

2011-05-18  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	Backported from mainline
	2011-04-14  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* gas/s390/zarch-machine.s: New testcase.
	* gas/s390/zarch-machine.d: New testcase output.
	* gas/s390/s390.exp: Execute the new testcase.
@
text
@a0 9
2011-05-18  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	Backported from mainline
	2011-04-14  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* gas/s390/zarch-machine.s: New testcase.
	* gas/s390/zarch-machine.d: New testcase output.
	* gas/s390/s390.exp: Execute the new testcase.

@


1.1802.2.12
log
@	PR 12365
	PR 12613
	PR 12632
	PR 12739
	PR 12753
	PR 12760
	PR 12763
Apply fix from mainline along with assorted other small fixes.
@
text
@a0 7
2011-05-29  Alan Modra  <amodra@@gmail.com>

	Apply from mainline
	2011-03-18  Alan Modra  <amodra@@gmail.com>
	* gas/i386/inval-equ-2.l: Adjust expected error.
	* gas/symver/symver2.l: Likewise.

d12 1
a12 1
	Apply from mainline.
@


1.1801
log
@bfd:
	* elf32-tic6x.c (elf32_tic6x_obj_attrs_arg_type): Except for
	Tag_ABI_compatibility, treat odd tags as strings and even ones as
	integers.
	(elf32_tic6x_obj_attrs_order, elf32_tic6x_tag_to_array_alignment,
	elf32_tic6x_array_alignment_to_tag): New.
	(elf32_tic6x_merge_attributes): Handle more attributes.  Set type
	for merged attributes.
	(elf_backend_obj_attrs_order): Define.

binutils:
	* readelf.c (display_tic6x_attribute): Handle more attributes.

gas:
	* config/tc-tic6x.c (OPTION_MPID, OPTION_MPIC, OPTION_MNO_PIC):
	New enum values.
	(md_longopts): Add options mpid, mpic and mno-pic.
	(tic6x_pid_type, tic6x_pid, tic6x_pic, tic6x_pid_type_table,
	tic6x_pid_types, tic6x_use_pid): New.
	(md_parse_option): Handle new options.
	(md_show_usage): Output help text for new options.
	(tic6x_set_attributes): Set PID and PIC attributes.
	* doc/as.texinfo: Document -mpid=, -mpic and -mno-pic.
	* doc/c-tic6x.texi (TIC6X Options): Likewise.

gas/testsuite:
	* gas/tic6x/attr-array-directive-1.d,
	gas/tic6x/attr-array-directive-1.s,
	gas/tic6x/attr-array-directive-2.d,
	gas/tic6x/attr-array-directive-2.s,
	gas/tic6x/attr-array-directive-3.d,
	gas/tic6x/attr-array-directive-3.s,
	gas/tic6x/attr-array-directive-4.d,
	gas/tic6x/attr-array-directive-4.s,
	gas/tic6x/attr-conformance-directive-1.d,
	gas/tic6x/attr-conformance-directive-1.s,
	gas/tic6x/attr-conformance-directive-2.d,
	gas/tic6x/attr-conformance-directive-2.s,
	gas/tic6x/attr-pic-directive-1.d,
	gas/tic6x/attr-pic-directive-1.s,
	gas/tic6x/attr-pic-directive-2.d,
	gas/tic6x/attr-pic-directive-2.s,
	gas/tic6x/attr-pic-opts-mno-pic.d, gas/tic6x/attr-pic-opts-mpic.d,
	gas/tic6x/attr-pid-directive-1.d,
	gas/tic6x/attr-pid-directive-1.s,
	gas/tic6x/attr-pid-directive-2.d,
	gas/tic6x/attr-pid-directive-2.s,
	gas/tic6x/attr-pid-opts-mpid-far.d,
	gas/tic6x/attr-pid-opts-mpid-near.d,
	gas/tic6x/attr-pid-opts-mpid-no.d,
	gas/tic6x/attr-stack-directive-1.d,
	gas/tic6x/attr-stack-directive-1.s,
	gas/tic6x/attr-stack-directive-2.d,
	gas/tic6x/attr-stack-directive-2.s,
	gas/tic6x/attr-wchar-directive-1.d,
	gas/tic6x/attr-wchar-directive-1.s,
	gas/tic6x/attr-wchar-directive-2.d,
	gas/tic6x/attr-wchar-directive-2.s: New tests.

include/elf:
	* tic6x-attrs.h (Tag_ABI_wchar_t, Tag_ABI_stack_align_needed,
	Tag_ABI_stack_align_preserved, Tag_ABI_PID, Tag_ABI_PIC,
	Tag_ABI_array_object_alignment,
	Tag_ABI_array_object_align_expected, Tag_ABI_conformance): Define.

ld/testsuite:
	* ld-tic6x/attr-array-16-16.d, ld-tic6x/attr-array-16-4.d,
	ld-tic6x/attr-array-16-416.d, ld-tic6x/attr-array-16-48.d,
	ld-tic6x/attr-array-16-8.d, ld-tic6x/attr-array-16-816.d,
	ld-tic6x/attr-array-16.s, ld-tic6x/attr-array-4-16.d,
	ld-tic6x/attr-array-4-4.d, ld-tic6x/attr-array-4-416.d,
	ld-tic6x/attr-array-4-48.d, ld-tic6x/attr-array-4-8.d,
	ld-tic6x/attr-array-4-816.d, ld-tic6x/attr-array-4.s,
	ld-tic6x/attr-array-416-16.d, ld-tic6x/attr-array-416-4.d,
	ld-tic6x/attr-array-416-416.d, ld-tic6x/attr-array-416-48.d,
	ld-tic6x/attr-array-416-8.d, ld-tic6x/attr-array-416-816.d,
	ld-tic6x/attr-array-416.s, ld-tic6x/attr-array-48-16.d,
	ld-tic6x/attr-array-48-4.d, ld-tic6x/attr-array-48-416.d,
	ld-tic6x/attr-array-48-48.d, ld-tic6x/attr-array-48-8.d,
	ld-tic6x/attr-array-48-816.d, ld-tic6x/attr-array-48.s,
	ld-tic6x/attr-array-8-16.d, ld-tic6x/attr-array-8-4.d,
	ld-tic6x/attr-array-8-416.d, ld-tic6x/attr-array-8-48.d,
	ld-tic6x/attr-array-8-8.d, ld-tic6x/attr-array-8-816.d,
	ld-tic6x/attr-array-8.s, ld-tic6x/attr-array-816-16.d,
	ld-tic6x/attr-array-816-4.d, ld-tic6x/attr-array-816-416.d,
	ld-tic6x/attr-array-816-48.d, ld-tic6x/attr-array-816-8.d,
	ld-tic6x/attr-array-816-816.d, ld-tic6x/attr-array-816.s,
	ld-tic6x/attr-conformance-10-10.d,
	ld-tic6x/attr-conformance-10-11.d,
	ld-tic6x/attr-conformance-10-none.d,
	ld-tic6x/attr-conformance-10.s, ld-tic6x/attr-conformance-11-10.d,
	ld-tic6x/attr-conformance-11-11.d,
	ld-tic6x/attr-conformance-11-none.d,
	ld-tic6x/attr-conformance-11.s,
	ld-tic6x/attr-conformance-none-10.d,
	ld-tic6x/attr-conformance-none-11.d,
	ld-tic6x/attr-conformance-none-none.d,
	ld-tic6x/attr-conformance-none.s, ld-tic6x/attr-pic-0.s,
	ld-tic6x/attr-pic-00.d, ld-tic6x/attr-pic-01.d,
	ld-tic6x/attr-pic-1.s, ld-tic6x/attr-pic-10.d,
	ld-tic6x/attr-pic-11.d, ld-tic6x/attr-pid-0.s,
	ld-tic6x/attr-pid-00.d, ld-tic6x/attr-pid-01.d,
	ld-tic6x/attr-pid-02.d, ld-tic6x/attr-pid-1.s,
	ld-tic6x/attr-pid-10.d, ld-tic6x/attr-pid-11.d,
	ld-tic6x/attr-pid-12.d, ld-tic6x/attr-pid-2.s,
	ld-tic6x/attr-pid-20.d, ld-tic6x/attr-pid-21.d,
	ld-tic6x/attr-pid-22.d, ld-tic6x/attr-stack-16-16.d,
	ld-tic6x/attr-stack-16-8.d, ld-tic6x/attr-stack-16-816.d,
	ld-tic6x/attr-stack-16.s, ld-tic6x/attr-stack-8-16.d,
	ld-tic6x/attr-stack-8-8.d, ld-tic6x/attr-stack-8-816.d,
	ld-tic6x/attr-stack-8.s, ld-tic6x/attr-stack-816-16.d,
	ld-tic6x/attr-stack-816-8.d, ld-tic6x/attr-stack-816-816.d,
	ld-tic6x/attr-stack-816.s, ld-tic6x/attr-wchar-0.s,
	ld-tic6x/attr-wchar-00.d, ld-tic6x/attr-wchar-01.d,
	ld-tic6x/attr-wchar-02.d, ld-tic6x/attr-wchar-1.s,
	ld-tic6x/attr-wchar-10.d, ld-tic6x/attr-wchar-11.d,
	ld-tic6x/attr-wchar-12.d, ld-tic6x/attr-wchar-2.s,
	ld-tic6x/attr-wchar-20.d, ld-tic6x/attr-wchar-21.d,
	ld-tic6x/attr-wchar-22.d: New tests.
@
text
@d1 6
@


1.1800
log
@bfd:
	* elf32-tic6x.c (elf32_tic6x_obj_attrs_arg_type): Check
	Tag_ABI_compatibility not Tag_compatibility.
	(elf32_tic6x_merge_attributes): Update compatibility attribute
	name in comment.  Return FALSE if merging common attributes fails.

binutils:
	* readelf.c (display_tic6x_attribute): Use Tag_ABI_compatibility
	not hardcoded 32.  Display name of this attribute.

gas:
	* doc/c-tic6x.texi (TIC6X Directives): Mention
	Tag_ABI_compatibility.

gas/testsuite:
	* gas/tic6x/attr-compatibility-directive-1.d,
	gas/tic6x/attr-compatibility-directive-1.s,
	gas/tic6x/attr-compatibility-directive-2.d,
	gas/tic6x/attr-compatibility-directive-2.s: New tests.

include/elf:
	* tic6x-attrs.h (Tag_ABI_compatibility): Define.

ld/testsuite:
	* ld-tic6x/attr-compatibility-gnu-gnu.d,
	ld-tic6x/attr-compatibility-gnu-other.d,
	ld-tic6x/attr-compatibility-gnu.s,
	ld-tic6x/attr-compatibility-other-gnu.d,
	ld-tic6x/attr-compatibility-other-other.d,
	ld-tic6x/attr-compatibility-other.s: New tests.
@
text
@d1 35
@


1.1799
log
@Add compressed debug section support to binutils and ld.

bfd/

2010-10-29  H.J. Lu  <hongjiu.lu@@intel.com>
	    Cary Coutant  <ccoutant@@google.com>

	* archive.c (bfd_openr_next_archived_file): Copy BFD_COMPRESS
	and BFD_DECOMPRESS.

	* bfd.c (BFD_COMPRESS): New.
	(BFD_DECOMPRESS): Likewise.
	(BFD_FLAGS_SAVED): Likewise.
	(bfd_preserve_save): Replace BFD_IN_MEMORY with BFD_FLAGS_SAVED.

	* compress.c (bfd_uncompress_section_contents): Removed.
	(get_uncompressed_size): New.
	(decompress_contents): Likewise.
	(bfd_compress_section_contents): Likewise.
	(bfd_get_full_section_contents): Likewise.
	(bfd_is_section_compressed): Likewise.
	(bfd_init_section_decompress_status): Likewise.
	(bfd_init_section_compress_status): Likewise.

	* dwarf2.c (dwarf_debug_sections): New.
	(dwarf_debug_section_enum): Likewise.
	(read_section): Remove section_name and compressed_section_name.
	Add dwarf_debug_section_enum.  Try compressed debug section.
	(read_indirect_string): Updated.
	(read_abbrevs): Likewise.
	(decode_line_info): Likewise.
	(read_debug_ranges): Likewise.
	(find_line): Updated.

	* ecoff.c (bfd_debug_section): Add compress_status and
	compressed_size.

	* elf.c (_bfd_elf_make_section_from_shdr): Call
	bfd_is_section_compressed to check if a DWARF debug section is
	compressed.  Call bfd_init_section_compress_status or
	bfd_init_section_decompress_status if needed.

	* elflink.c (elf_link_input_bfd): Replace bfd_get_section_contents
	with bfd_get_full_section_contents.
	* merge.c (_bfd_add_merge_section): Likewise.
	* reloc.c (bfd_generic_get_relocated_section_contents): Likewise.
	* simple.c (bfd_simple_get_relocated_section_contents): Likewise.

	* elfxx-target.h (TARGET_BIG_SYM): Allow BFD_COMPRESS and
	BFD_DECOMPRESS.
	(TARGET_LITTLE_SYM): Likewise.

	* libbfd-in.h (dwarf_debug_section): New.
	(dwarf_debug_sections): Likewise.

	* libbfd.c (_bfd_generic_get_section_contents): Issue an error
	when getting contents on compressed/decompressed section.

	* section.c (COMPRESS_SECTION_NONE): New.
	(COMPRESS_SECTION_DONE): Likewise.
	(DECOMPRESS_SECTION_SIZED): Likewise.
	(BFD_FAKE_SECTION): Add compress_status and compressed_size.
	(bfd_malloc_and_get_section): Replace bfd_get_section_contents
	with bfd_get_full_section_contents.

	* bfd-in2.h: Regenerated.
	* libbfd.h: Likewise.

binutils/

2010-10-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* addr2line.c (process_file): Set BFD_DECOMPRESS.

	* objcopy.c (do_debug_sections): New.
	(OPTION_COMPRESS_DEBUG_SECTIONS): New.
	(OPTION_DECOMPRESS_DEBUG_SECTIONS): Likewise.
	(copy_options): Add OPTION_COMPRESS_DEBUG_SECTIONS and
	OPTION_DECOMPRESS_DEBUG_SECTIONS.
	(copy_usage): Add --compress-debug-sections and
	--decompress-debug-sections.
	(copy_file): Set BFD_COMPRESS or BFD_DECOMPRESS.
	(copy_section): Replace bfd_get_section_contents with
	bfd_get_full_section_contents.
	(copy_main): Handle OPTION_COMPRESS_DEBUG_SECTIONS and
	OPTION_DECOMPRESS_DEBUG_SECTIONS.  Check do_debug_sections to
	rename DWARF debug sections.

	* objdump.c (load_specific_debug_section): Replace
	bfd_get_section_contents with bfd_get_full_section_contents.
	Remove bfd_uncompress_section_contents.
	(dump_section): Replace bfd_get_section_contents with
	bfd_get_full_section_contents.
	(display_file): Set BFD_DECOMPRESS if needed.

	* readelf.c (uncompress_section_contents): Set buffer to NULL
	to indiate decompression failure.
	(load_specific_debug_section): Always call
	uncompress_section_contents.

	* doc/binutils.texi: Document --compress-debug-sections and
	--decompress-debug-sections.

binutils/testsuite/

2010-10-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* binutils-all/compress.exp: New.
	* binutils-all/dw2-1.S: Likewise.
	* binutils-all/dw2-2.S: Likewise.
	* binutils-all/libdw2-compressed.out: Likewise.
	* binutils-all/libdw2.out: Likewise.

gas/

2010-10-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* write.c (compress_debug): Optimize section flags check.

gas/testsuite/

2010-10-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* elf/dwarf2-1.s: Replace .zdebug_abbrev section with
	.debug_abbrev section.
	* elf/dwarf2-2.3: Likewise.

	* elf/dwarf2-1.d: Pass --compress-debug-sections to assembler.
	Updated.
	* elf/dwarf2-2.d: Likewise.

	* gas/i386/i386.exp: Remove xfail on dw2-compress-2 and
	x86-64-dw2-compress-2.

ld/

2010-10-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* ldfile.c (ldfile_try_open_bfd): Set BFD_DECOMPRESS after
	bfd_openr returns.
	* emultempl/elf32.em (gld${EMULATION_NAME}_try_needed): Likewise.

	* scripttempl/elf.sc: Include compressed DWARF debug sections.

ld/testsuite/

2010-10-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* ld-elf/compress.exp: New.
	* ld-elf/compress1.s: Likewise.
	* ld-elf/compress1a.d: Likewise.
	* ld-elf/compress1b.d: Likewise.
	* ld-elf/compress1c.d: Likewise.
@
text
@d1 7
@


1.1798
log
@bfd:
2010-10-29  Bernd Schmidt  <bernds@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* elf32-tic6x.c (elf32_tic6x_merge_attributes): Check for mismatch
	of DSBT attributes.

binutils:
2010-10-29  Bernd Schmidt  <bernds@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* readelf.c (display_tic6x_attribute): Handle Tag_ABI_DSBT.

gas:
2010-10-29  Bernd Schmidt  <bernds@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* config/tc-tic6x.c (OPTION_MDSBT, OPTION_MNO_DSBT): New enum
	values.
	(md_longopts): Add mdsbt and mno-dsbt.
	(tic6x_dsbt): New static variable.
	(md_parse_option): Handle OPTION_MDSBT and OPTION_MNO_DSBT.
	(md_show_usage): Output help text for -mdsbt and -mno-dsbt.
	(TAG): Add comma at the end.
	(tic6x_set_attributes): Set Tag_ABI_DSBT.
	* doc/as.texinfo: Document -mdsbt and -mno-dsbt.
	* doc/c-tic6x.texi (TIC6X Options): Likewise.
	(TIC6X Directives): Mention Tag_ABI_DSBT.

gas/testsuite:
2010-10-29  Bernd Schmidt  <bernds@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* gas/tic6x/attr-dsbt-directive-1.d,
	gas/tic6x/attr-dsbt-directive-1.s,
	gas/tic6x/attr-dsbt-directive-2.d,
	gas/tic6x/attr-dsbt-directive-2.s,
	gas/tic6x/attr-dsbt-opts-mdsbt.d,
	gas/tic6x/attr-dsbt-opts-mno-dsbt.d: New tests.

include/elf:
2010-10-29  Bernd Schmidt  <bernds@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* tic6x-attrs.h (Tag_ABI_DSBT): New.

ld/testsuite:
2010-10-29  Bernd Schmidt  <bernds@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* ld-tic6x/attr-dsbt-0.s, ld-tic6x/attr-dsbt-00.d,
	ld-tic6x/attr-dsbt-01.d, ld-tic6x/attr-dsbt-1.s,
	ld-tic6x/attr-dsbt-10.d, ld-tic6x/attr-dsbt-11.d: New tests.
@
text
@d1 13
@


1.1797
log
@ld/testsuite/

	* ld-scripts/script.exp: Sort all filename globs.

gas/testsuite/

	* gas/iq2000/load-hazards.exp: Sort all filename globs.
	* gas/iq2000/yield.exp: Likewise.
	* gas/mt/errors.exp: Likewise.
@
text
@d1 10
@


1.1796
log
@	* gas/elf/elf.exp (groupautob): Don't run on xtensa.
	* gas/elf/groupautoa.d: Change test name.
	* gas/elf/groupautob.d: Change test name.
@
text
@d1 6
@


1.1795
log
@2010-10-27  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* gas/all/gas.exp: Don't run byte test on s390.
@
text
@d1 6
@


1.1794
log
@	* gas/i386/x86-64-relax-1.s: Use .balign. not .align.
	* gas/i386/x86-64-relax-1.d: Remove label match, match pe output.
@
text
@d1 4
@


1.1793
log
@	* gas/i386/relax-1.s: Use .p2align, not .align.
	* gas/i386/relax-2.s: Likewise.
	* gas/i386/relax-1.d: Remove label match.
	* gas/i386/relax-2.d: Likewise.  Correct test name.
@
text
@d3 3
@


1.1792
log
@	* i386/relax-1.d: Generalize regexes a bit.
	* i386/relax-2.d: Likewise.
@
text
@d1 7
@


1.1791
log
@2010-10-25  Chao-ying Fu  <fu@@mips.com>

	* gas/mips/mips32-dsp.d, gas/mips/mips32-dsp.s: Add madd, maddu, msub,
	msubu, mult, multu.
@
text
@d1 5
@


1.1790
log
@Add a new testcase for PR gas/12049.

2010-10-25  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/12049
	* gas/i386/i386.exp: Run relax-1 and relax-2 for all 32bit
	targets.  Run x86-64-relax-1.

	* gas/i386/x86-64-relax-1.d: New.
	* gas/i386/x86-64-relax-1.s: Likewise.
@
text
@d1 5
@


1.1789
log
@	* gas/mips/mips.exp: Simplify enabling of MIPS16 testing.
@
text
@d1 9
@


1.1788
log
@	* gas/mips/at-1.d: Handle ECOFF relocations.
	* gas/mips/eret-1.d: Handle ECOFF.
	* gas/mips/eret-2.d: Likewise.
	* gas/mips/eret-3.d: Likewise.
	* gas/mips/mips.exp: Only run "aent" for ELF.
@
text
@d3 4
@


1.1787
log
@	* gas/mips/ld.s: Adjust to let SD, L.D, S.D, LDC1 and SDC1
	macros to be tested, according to the "tsd", "tl_d", "ts_d",
	"tldc1" and "tsdc1" symbols.
	* gas/mips/sd.d: New test.
	* gas/mips/ecoff@@sd.d: Likewise, ECOFF version.
	* gas/mips/mips1@@ecoff@@sd.d: Likewise, MIPS I/ECOFF version.
	* gas/mips/r3000@@ecoff@@sd.d: Likewise, R3000/ECOFF version.
	* gas/mips/r3900@@ecoff@@sd.d: Likewise, R3900/ECOFF version.
	* gas/mips/mips2@@ecoff@@sd.d: Likewise, MIPS II/ECOFF version.
	* gas/mips/mips32@@ecoff@@sd.d: Likewise, MIPS32/ECOFF version.
	* gas/mips/mips32r2@@ecoff@@sd.d: Likewise, MIPS32r2/ECOFF
	version.
	* gas/mips/sd-forward.d: New test.
	* gas/mips/ecoff@@sd-forward.d: Likewise, ECOFF version.
	* gas/mips/mips1@@ecoff@@sd-forward.d: Likewise, MIPS I/ECOFF
	version.
	* gas/mips/r3000@@ecoff@@sd-forward.d: Likewise, R3000/ECOFF
	version.
	* gas/mips/r3900@@ecoff@@sd-forward.d: Likewise, R3900/ECOFF
	version.
	* gas/mips/mips2@@ecoff@@sd-forward.d: Likewise, MIPS II/ECOFF
	version.
	* gas/mips/mips32@@ecoff@@sd-forward.d: Likewise, MIPS32/ECOFF
	version.
	* gas/mips/mips32r2@@ecoff@@sd-forward.d: Likewise, MIPS32r2/ECOFF
	version.
	* gas/mips/l_d.d: New test.
	* gas/mips/mips1@@l_d.d: Likewise, MIPS I version.
	* gas/mips/r3000@@l_d.d: Likewise, R3000 version.
	* gas/mips/r3900@@l_d.d: Likewise, R3900 version.
	* gas/mips/l_d-forward.d: New test.
	* gas/mips/mips1@@l_d-forward.d: Likewise, MIPS I version.
	* gas/mips/r3000@@l_d-forward.d: Likewise, R3000 version.
	* gas/mips/r3900@@l_d-forward.d: Likewise, R3900 version.
	* gas/mips/s_d.d: New test.
	* gas/mips/mips1@@s_d.d: Likewise, MIPS I version.
	* gas/mips/r3000@@s_d.d: Likewise, R3000 version.
	* gas/mips/r3900@@s_d.d: Likewise, R3900 version.
	* gas/mips/s_d-forward.d: New test.
	* gas/mips/mips1@@s_d-forward.d: Likewise, MIPS I version.
	* gas/mips/r3000@@s_d-forward.d: Likewise, R3000 version.
	* gas/mips/r3900@@s_d-forward.d: Likewise, R3900 version.
	* gas/mips/ldc1.d: New test.
	* gas/mips/ldc1-forward.d: Likewise.
	* gas/mips/sdc1.d: Likewise.
	* gas/mips/sdc1-forward.d: Likewise.
	* gas/mips/sd-n32.d: Likewise.
	* gas/mips/sd-n64.d: Likewise.
	* gas/mips/sd-f-n32.d: Likewise.
	* gas/mips/sd-f-n64.d: Likewise.
	* gas/mips/l_d-n32.d: Likewise.
	* gas/mips/l_d-n64.d: Likewise.
	* gas/mips/l_d-f-n32.d: Likewise.
	* gas/mips/l_d-f-n64.d: Likewise.
	* gas/mips/s_d-n32.d: Likewise.
	* gas/mips/s_d-n64.d: Likewise.
	* gas/mips/s_d-f-n32.d: Likewise.
	* gas/mips/s_d-f-n64.d: Likewise.
	* gas/mips/ldc1-n32.d: Likewise.
	* gas/mips/ldc1-n64.d: Likewise.
	* gas/mips/ldc1-f-n32.d: Likewise.
	* gas/mips/ldc1-f-n64.d: Likewise.
	* gas/mips/sdc1-n32.d: Likewise.
	* gas/mips/sdc1-n64.d: Likewise.
	* gas/mips/sdc1-f-n32.d: Likewise.
	* gas/mips/sdc1-f-n64.d: Likewise.
	* gas/mips/mips.exp: Run the new tests.
@
text
@d3 8
@


1.1786
log
@	* gas/mips/ld.s: Adjust to let data objects be only
	defined/declared (as appropriate) at the end of assembly, based
	on the presence or not of the "forward" symbol.
	* gas/mips/ld-forward.d: New test.
	* gas/mips/mips1@@ld-forward.d: Likewise. MIPS I version.
	* gas/mips/r3000@@ld-forward.d: Likewise, R3000 version.
	* gas/mips/ecoff@@ld-forward.d: Likewise, ECOFF version.
	* gas/mips/r3900@@ecoff@@ld-forward.d: Likewise, R3900/ECOFF
	version.
	* gas/mips/mips2@@ecoff@@ld-forward.d: Likewise, MIPS II/ECOFF
	version.
	* gas/mips/mips32@@ecoff@@ld-forward.d: Likewise, MIPS32/ECOFF
	version.
	* gas/mips/mips32r2@@ecoff@@ld-forward.d: Likewise, MIPS32r2/ECOFF
	version.
	* gas/mips/ld-n32-forward.d: New test.
	* gas/mips/ld-n64-forward.d: Likewise.
	* gas/mips/mips.exp: Run the new tests.
@
text
@d3 70
@


1.1785
log
@	* gas/mips/ld-n32.d: New test.
	* gas/mips/ld-n64.d: Likewise.
	* gas/mips/mips.exp: Run the new tests.
@
text
@d3 21
@


1.1784
log
@	* gas/mips/ld.d: Rename to...
	* gas/mips/mips1@@ld.d: ... this.
	* gas/mips/ld-ilocks.d: Rename to...
	* gas/mips/ld.d: ... this.
	* gas/mips/r3000@@ld.d: New test, R3000 version.
	* gas/mips/ecoff@@ld.d: Likewise, ECOFF version.
	* gas/mips/r3900@@ecoff@@ld.d: Likewise, R3900/ECOFF version.
	* gas/mips/mips2@@ecoff@@ld.d: Likewise, MIPS II/ECOFF version.
	* gas/mips/mips32@@ecoff@@ld.d: Likewise, MIPS32/ECOFF version.
	* gas/mips/mips32r2@@ecoff@@ld.d: Likewise, MIPS32r2/ECOFF version.
	* gas/mips/mips.exp: Remove "ld-ilocks" and run "ld" over all
	architectures matching "mips1".
@
text
@d3 6
@


1.1783
log
@	* gas/mips/mips.exp (run_dump_test_arch): Check for the presence
	of a file-format-specific test too.
	(run_dump_test_arches): Pull elf, ecoff and aout variables for
	use by the above.
@
text
@d2 15
@


1.1782
log
@	* gas/mips/ld.s: Remove "l.d", "s.d" and "sd" instructions.
	* gas/mips/ld.d: Adjust accordingly.
	* gas/mips/ld-ilocks.d: Likewise
@
text
@d2 8
@


1.1781
log
@	* gas/mips/ld.s: Remove ".set mips1".
	* gas/mips/ld.d: Remove "-march=r4000" and "-mmips:4000" from
	gas/objdump options.
	* gas/mips/ld-ilocks.d: Add "-32" to gas options.
	* gas/mips/mips.exp: Run the two cases with run_dump_test_arches.
@
text
@d3 6
@


1.1780
log
@	* gas/mips/ld.s: Remove MIPS III bits.
	* gas/mips/ld.d: Adjust accordingly.
	* gas/mips/ld-ilocks.d: Likewise.
	* gas/mips/ld-ilocks-addr32.d: Remove file.
	* gas/mips/mips.exp: Adjust accordingly.
@
text
@d3 8
@


1.1779
log
@	* gas/mips/ld.d: Spell out reloc names.
	* gas/mips/ld-ilocks.d: Likewise.
	* gas/mips/ld-ilocks-addr32.d: Likewise.
@
text
@d3 8
@


1.1778
log
@2010-10-23  Mark Mitchell  <mark@@codesourcery.com>

	* config/obj-elf.c (elf_adjust_symtab): New.  Move group section
	processing here from elf_frob_file.  Ensure that group signature
	symbols have the name of the group.
	(elf_frob_file): Move group section processing to
	elf_adjust_symtab.
	* config/obj-elf.h (elf_adjust_symtab): Declare.
	(obj_adjust_symtab): Define.
	* config/tc-arm.c (arm_adjust_symtab): Call elf_adjust_symtab.

2010-10-23  Mark Mitchell  <mark@@codesourcery.com>

	* gas/elf/elf.exp: Add group0c test.
	* gas/elf/group0c.d: New.
	* gas/elf/group0a.d: Expect ".group" for the name of group
	sections.
	* gas/elf/group0b.d: Likewise.
	* gas/elf/group1a.d: Likewise.
	* gas/elf/group1b.d: Likewise.
	* gas/elf/groupautoa.d: Likewise.
	* gas/elf/groupautob.d: Likewise.
	* gas/elf/section4.d: Likewise.
	* gas/ia64/group-1.d: Likewise.  Adjust hard-coded constants.

2010-10-22  Mark Mitchell  <mark@@codesourcery.com>

	* binutils-all/group-5.d: Expect ".group" for the name of group
	sections.
	* binutils-all/strip-2.d: Likewise.

2010-10-23  Mark Mitchell  <mark@@codesourcery.com>

	* ld-elf/group10.d: Expect ".group" for the name of group
	sections.
	* ld-elf/group2.d: Likewise.
	* ld-elf/group7.d: Likewise.
@
text
@d1 6
@


1.1777
log
@        * gas/all/fwdexp.d: Also look for f8ffffff.
        * gas/arm/msr-reg-thumb.d: Skip for non-ELF based targets.
        * gas/arm/vldr.d: Likewise.
        * gas/arm/thumb2_ldmstm.d: Allow for extra NOPs at the end of the disassembly.
        * gas/cfi/cfi.exp (cfi-arm-1): Only run for ELF based ARM targets.
@
text
@d1 14
@


1.1776
log
@bfd:
	* elf32-tic6x.c (elf32_tic6x_merge_arch_attributes): Update for
	attribute renaming.
	(elf_backend_obj_attrs_section): Change to ".c6xabi.attributes".

binutils:
	* readelf.c (display_tic6x_attribute): Update for attribute
	renaming.

gas:
	* config/tc-tic6x.c (tic6x_arch_attribute, tic6x_arches,
	md_assemble, tic6x_set_attributes): Update for attribute renaming.
	* doc/c-tic6x.texi: Update for attribute renaming.

gas/testsuite:
	* gas/tic6x/attr-arch-directive-1.d,
	gas/tic6x/attr-arch-directive-2.d,
	gas/tic6x/attr-arch-directive-3.d,
	gas/tic6x/attr-arch-directive-4.d,
	gas/tic6x/attr-arch-directive-4.s,
	gas/tic6x/attr-arch-directive-5.d,
	gas/tic6x/attr-arch-directive-5.s,
	gas/tic6x/attr-arch-opts-c62x.d, gas/tic6x/attr-arch-opts-c64x+.d,
	gas/tic6x/attr-arch-opts-c64x.d, gas/tic6x/attr-arch-opts-c674x.d,
	gas/tic6x/attr-arch-opts-c67x+.d, gas/tic6x/attr-arch-opts-c67x.d,
	gas/tic6x/attr-arch-opts-none-1.d,
	gas/tic6x/attr-arch-opts-none-2.d,
	gas/tic6x/attr-arch-opts-override-1.d,
	gas/tic6x/attr-arch-opts-override-2.d: Update for attribute
	renaming and renumbering.

include/elf:
	* tic6x-attrs.h (Tag_C6XABI_Tag_CPU_arch): Change to Tag_ISA,
	value 4.
	* tic6x.h (Values for Tag_C6XABI_Tag_CPU_arch): Rename for
	attribute renaming.

ld:
	* emulparams/elf32_tic6x_le.sh (ATTRS_SECTIONS): Use
	.c6xabi.attributes, not __TI_build_attributes.

ld/testsuite:
	* ld-tic6x/attr-arch-c62x-c62x.d, ld-tic6x/attr-arch-c62x-c64x+.d,
	ld-tic6x/attr-arch-c62x-c64x.d, ld-tic6x/attr-arch-c62x-c674x.d,
	ld-tic6x/attr-arch-c62x-c67x+.d, ld-tic6x/attr-arch-c62x-c67x.d,
	ld-tic6x/attr-arch-c64x+-c62x.d, ld-tic6x/attr-arch-c64x+-c64x+.d,
	ld-tic6x/attr-arch-c64x+-c64x.d, ld-tic6x/attr-arch-c64x+-c674x.d,
	ld-tic6x/attr-arch-c64x+-c67x+.d, ld-tic6x/attr-arch-c64x+-c67x.d,
	ld-tic6x/attr-arch-c64x-c62x.d, ld-tic6x/attr-arch-c64x-c64x+.d,
	ld-tic6x/attr-arch-c64x-c64x.d, ld-tic6x/attr-arch-c64x-c674x.d,
	ld-tic6x/attr-arch-c64x-c67x+.d, ld-tic6x/attr-arch-c64x-c67x.d,
	ld-tic6x/attr-arch-c674x-c62x.d, ld-tic6x/attr-arch-c674x-c64x+.d,
	ld-tic6x/attr-arch-c674x-c64x.d, ld-tic6x/attr-arch-c674x-c674x.d,
	ld-tic6x/attr-arch-c674x-c67x+.d, ld-tic6x/attr-arch-c674x-c67x.d,
	ld-tic6x/attr-arch-c67x+-c62x.d, ld-tic6x/attr-arch-c67x+-c64x+.d,
	ld-tic6x/attr-arch-c67x+-c64x.d, ld-tic6x/attr-arch-c67x+-c674x.d,
	ld-tic6x/attr-arch-c67x+-c67x+.d, ld-tic6x/attr-arch-c67x+-c67x.d,
	ld-tic6x/attr-arch-c67x-c62x.d, ld-tic6x/attr-arch-c67x-c64x+.d,
	ld-tic6x/attr-arch-c67x-c64x.d, ld-tic6x/attr-arch-c67x-c674x.d,
	ld-tic6x/attr-arch-c67x-c67x+.d, ld-tic6x/attr-arch-c67x-c67x.d:
	Update for attribute renaming.
@
text
@d1 8
@


1.1775
log
@Add testcase for PR gas/12049.

2010-10-19  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/12049
	* gas/i386/i386.exp: Run relax-1 and relax-2.

	* gas/i386/relax-1.d: New.
	* gas/i386/relax-1.s: Likewise.
	* gas/i386/relax-2.d: Likewise.
	* gas/i386/relax-2.s: Likewise.
@
text
@d1 18
@


1.1774
log
@2010-10-18  Kai Tietz  <kaI.tietz@@onevision.com>

        * gas/i386/disp32.d: Adjust initial symbol check.
        * gas/i386/x86-64-disp32.d: Likewise.
@
text
@d1 10
@


1.1773
log
@	* gas/mips/ld.d: Spell out section offsets and addends
	explicitly.  Clean up some regexps.
	* gas/mips/ld-ilocks.d: Likewise.  Add missing "$" prefixes to
	the names of FP registers.
	* gas/mips/ld-ilocks-addr32.d: Likewise.
	* gas/mips/ld.s: Align sections to 4k, adjust padding.
@
text
@d1 5
@


1.1772
log
@	* gas/mips/ld.d: Use wildcard address matching.
	* gas/mips/ld-ilocks.d: Likewise.
	* gas/mips/ld-ilocks-addr32.d: Likewise.
@
text
@d3 9
@


1.1771
log
@	* gas/mips/mips.exp (run_dump_test_arch): Get the name of the
	architecture to check against for an architecture-specific test
	from the properties instead of the name passed.
@
text
@d3 6
@


1.1770
log
@	opcodes/
	* mips-opc.c (mips_builtin_opcodes): Move M_LD_OB and M_SD_OB
	macros before their corresponding MIPS III hardware instructions.

	gas/
	* config/tc-mips.c (macro)[M_LD_OB, M_SD_OB]: Handle 64-bit ABIs.

	gas/testsuite/
	* gas/mips/lineno.s: Convert to o32.
	* gas/mips/lineno.d: Adjust patterns accordingly.  Force the o32
	ABI.
@
text
@d3 6
@


1.1769
log
@Add CpuNop to CPU_GENERIC64_FLAGS.

gas/testsuite/

2010-10-16  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run x86-64-nops-1-g64.

	* gas/i386/x86-64-nops-1.d: Remove -mtune=generic64.

	* gas/i386/x86-64-nops-1-g64.d: New.

opcodes/

2010-10-16  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-gen.c (cpu_flag_init): Add CpuNop to CPU_GENERIC64_FLAGS.

	* i386-init.h: Regenerated.
@
text
@d1 6
@


1.1768
log
@gas: blackfin: add tests for recent loop label fixes

Signed-off-by: David Gibson <david.gibson@@analog.com>
Signed-off-by: Mike Frysinger <vapier@@gentoo.org>
@
text
@d1 8
@


1.1767
log
@gas: blackfin: add illegal insn tests

Make sure all illegal insns get assembled & decoded correctly.

Signed-off-by: Robin Getz <robin.getz@@analog.com>
Signed-off-by: Mike Frysinger <vapier@@gentoo.org>
@
text
@d1 7
@


1.1766
log
@gas: blackfin: fix encoding of BYTEOP2M insn

The BYTEOP2M parser incorrectly calls BYTEOP2P to generate the opcode.
Once we've fixed that, it's easy to see that the disassembler also likes
to decode this insn incorrectly.  So fix that and then add some tests.

Signed-off-by: Mike Frysinger <vapier@@gentoo.org>
@
text
@d1 6
@


1.1765
log
@gas: blackfin: generalize matching in the video tests

The exact symbol addresses are not important to these tests.  We only
care about the opcodes and the disassembly output.  This makes adding
more insns to these tests easier.

Signed-off-by: Mike Frysinger <vapier@@gentoo.org>
@
text
@d3 5
@


1.1764
log
@Add CheckRegSize to instructions which require register size check.

gas/

2010-10-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (match_template): Check checkregsize
	instead of w for register size check.

gas/testsuite/

2010-10-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run inval-reg.

	* gas/i386/inval-reg.l: New.
	* gas/i386/inval-reg.s: Likewise.

opcodes/

2010-10-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-gen.c (opcode_modifiers): Add CheckRegSize.

	* i386-opc.h (CheckRegSize): New.
	(i386_opcode_modifier): Add checkregsize.

	* i386-opc.tbl: Add CheckRegSize to instructions which
	require register size check.
	* i386-tbl.h: Regenerated.
@
text
@d1 5
@


1.1763
log
@Add .d32 encoding suffix.

gas/

2010-10-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (_i386_insn): Add disp32_encoding.
	(md_assemble): Don't call optimize_disp if disp32_encoding is
	set.
	(parse_insn): Support .d32 to force 32bit displacement.
	(output_branch): Use BIG if disp32_encoding is set.

	* doc/c-i386.texi: Document .d32 encoding suffix.

gas/testsuite/

2010-10-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/disp32.d: New.
	* gas/i386/disp32.s: Likewise.
	* gas/i386/x86-64-disp32.d: Likewise.
	* gas/i386/x86-64-disp32.s: Likewise.

	* gas/i386/i386.exp: Run disp32 and x86-64-disp32.
@
text
@d3 7
@


1.1762
log
@2010-10-11  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* s390-opc.c: Make the instruction masks for the load/store on
	condition instructions to cover the condition code mask as well.
	* s390-opc.txt: lgoc -> locg and stgoc -> stocg.

2010-10-11  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* gas/s390/zarch-z196.d: Adjust the load/store on condition
	instructions.
	* gas/s390/zarch-z196.s: Likewise.
@
text
@d1 9
@


1.1761
log
@gas/
	* config/tc-tic6x.c (tic6x_try_encode): Correct encoding of fstg field
	in SPKERNEL instructions.

opcodes/
	* tic6x-dis.c (print_insn_tic6x): Correct decoding of fstg field
	in SPKERNEL instructions.

gas/testsuite/
	* gas/tic6x/insns-c674x-sploop.d: Add two more sploop/spkernel tests.
	* gas/tic6x/insns-c674x-sploop.s: Likewise.
@
text
@d1 6
@


1.1760
log
@2010-10-04  David Daney  <ddaney@@caviumnetworks.com>

	* config/tc-mips.c (mips_fix_cn63xxp1): New variable.
	(mips_ip):  Add errata work around when mips_fix_cn63xxp1 set.
	(OPTION_FIX_CN63XXP1, OPTION_NO_FIX_CN63XXP1): New enum options
	enumerations.
	(md_longopts): Add options for -mfix-cn63xxp1 and -mno-fix-cn63xxp1.
	(md_parse_option): Handle OPTION_FIX_CN63XXP1 and
	OPTION_NO_FIX_CN63XXP1.
	(md_show_usage): Add documentation for -mfix-cn63xxp1.
	* doc/c-mips.texi (-mfix-cn63xxp1, -mno-fix-cn63xxp1): Document
	the new options.

2010-10-04  David Daney  <ddaney@@caviumnetworks.com>

	* gas/mips/mips.exp (octeon-pref): Run the new test.
	* gas/mips/octeon-pref.s: New test.
	* gas/mips/octeon-pref.d: New expected results for the new test.
@
text
@d1 5
@


1.1759
log
@	* gas/all/fwdexp.d, * gas/all/fwdexp.s: New test.
	* gas/all/gas.exp: Run it.
@
text
@d1 6
@


1.1758
log
@	* lib/gas-defs.exp (is_elf_format): Merge with binutils and ld versions.
	(is_aout_format): Copy from ld testsuite.
	(is_pecoff_format): Merge with ld version.
@
text
@d3 5
@


1.1757
log
@gas/
	* config/tc-tic6x.c (tic6x_fix_adjustable): New function.
	* config/tc-tic6x.h (tic6x_fix_adjustable): Declare.
	(tc_fix_adjustable): New macro.

gas/testsuite/
	* gas/tic6x/got-reloc.s: New test.
	* gas/tic6x/got-reloc.d: New test.
@
text
@d1 6
@


1.1756
log
@2010-09-27  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* s390-mkopc.c (enum s390_opcde_cpu_val): Add S390_OPCODE_Z196.
	(main): Recognize the new CPU string.
	* s390-opc.c: Add new instruction formats and masks.
	* s390-opc.txt: Add new z196 instructions.

2010-09-27  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* opcode/s390.h: Add S390_OPCODE_Z196 to enum s390_opcode_cpu_val.

2010-09-27  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* config/tc-s390.c: (md_parse_option): New option -march=z196.
	* doc/c-s390.texi: Document new option.

2010-09-27  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* gas/s390/s390.exp: Run the zarch-z196 test.
	* gas/s390/zarch-z196.d: Add new instructions.
	* gas/s390/zarch-z196.s: Likewise.
	* gas/s390/zarch-z9-109.d: Likewise.
	* gas/s390/zarch-z9-109.s: Likewise.
@
text
@d1 5
@


1.1755
log
@2010-09-27  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* s390-dis.c (print_insn_s390): Pick instruction with most
	specific mask.
	* s390-opc.c: Add unused bits to the insn mask.
	* s390-opc.txt: Reorder some instructions to prefer more recent
	versions.

2010-09-27  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* gas/s390/esa-g5.d: Adjust serveral instructions.
	* gas/s390/esa-reloc.d: Likewise.
	* gas/s390/esa-z990.d: Likewise.
	* gas/s390/zarch-reloc.d: Likewise.
	* gas/s390/zarch-z10.d: Likewise.
	* gas/s390/zarch-z9-ec.d: Likewise.
	* gas/s390/zarch-z900.d: Likewise.

2010-09-27  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* ld-s390/tlsbin.dd: bcr 0,%r7 -> nopr %r7.
	* ld-s390/tlsbin_64.dd: Likewise.
	* ld-s390/tlspic.dd: Likewise.
	* ld-s390/tlspic_64.dd: Likewise.
@
text
@d3 8
@


1.1754
log
@2010-09-27  Tejas Belagod  <tejas.belagod@@arm.com>

	* gas/config/tc-arm.c (do_neon_ldr_str): Deprecate ARM-mode PC-relative
	VSTR, issue an error in THUMB mode.
	* opcodes/arm_dis.c (print_insn_coprocessor): Apply off-by-alignment
	correction to unaligned PCs while printing comment.
	* gas/testsuite/gas/arm/vldr.s: New test for pc-relative VLDR disassembly comment.
	* gas/testsuite/gas/arm/vldr.d: Likewise.
	* gas/testsuite/gas/arm/vstr-bad.s: New test for PC-relative VSTR.
	* gas/testsuite/gas/arm/vstr-thumb-bad.l: Likewise.
	* gas/testsuite/gas/arm/vstr-thumb-bad.d: Likewise.
	* gas/testsuite/gas/arm/vstr-arm-bad.l: Likewise.
	* gas/testsuite/gas/arm/vstr-arm-bad.d: Likewise.
@
text
@d1 10
@


1.1753
log
@	* bfd/bfd-in2.h (BFD_RELOC_ARM_HVC): New enum value.
	* gas/config/tc-arm.c (arm_ext_virt): New variable.
	(arm_reg_type): Add REG_TYPE_RNB for banked registers.
	(reg_entry): Allow registers to be larger than a byte.
	(reg_alias): Fix type warning.
	(parse_operands): Parse banked registers when appropriate.
	(do_mrs): Add support for Virtualization Extensions.
	(do_hvc): New function.
	(do_t_mrs): Add support for Virtualization Extensions.
	(do_t_msr): Likewise.
	(do_t_hvc): New function.
	(SPLRBANK): New define.
	(reg_names): Add banked registers.
	(insns): Add support for Virtualization Extensions.
	(md_apply_fixup): Likewise.
	(arm_cpus): -mcpu=cortex-a15 implies the Virtualization Extensions.
	(arm_extensions): Add 'virt' extension.
	(aeabi_set_public_attributes): Add support for Virtualization
	Extensions.
	* gas/doc/c-arm.texi: Document 'virt' extension.
	* gas/testsuite/gas/arm/armv7-a+virt.d: New test.
	* gas/testsuite/gas/arm/armv7-a+virt.s: Likewise.
	* gas/testsuite/gas/arm/attr-march-all.d: Update for Virtualization Extensions.
	* gas/testsuite/gas/arm/attr-march-armv7-a+sec+virt.d: New test.
	* gas/testsuite/gas/arm/attr-march-armv7-a+virt.d: Likewise.
	* include/opcode/arm.h (ARM_EXT_VIRT): New define.
	(ARM_ARCH_V7A_IDIV_MP_SEC): Rename...
	(ARM_ARCH_V7A_IDIV_MP_SEC_VIRT): ...to this and include Virtualization
	Extensions.
	* opcodes/arm-dis.c (arm_opcodes): Add Virtualiztion Extensions support.
	(thumb32_opcodes): Likewise.
	(banked_regname): New function.
	(print_insn_arm): Add Virtualization Extensions support.
	(print_insn_thumb32): Likewise.
@
text
@d1 10
@


1.1752
log
@	* gas/config/tc-arm.c (arm_ext_adiv): New variable.
	(do_div): New function.
	(insns): Accept UDIV and SDIV in ARM state.
	(arm_cpus): The cortex-a15 option has all current v7-A extensions.
	(arm_extensions): Add 'idiv' extension.
	(aeabi_set_public_attributes): Update Tag_DIV_use values for the
	Integer Divide extension.
	* gas/doc/c-arm.texi: Document the idiv extension.
	* gas/testsuite/gas/arm/armv7-a+idiv.d: New test.
	* gas/testsuite/gas/arm/armv7-a+idiv.s: Likewise.
	* gas/testsuite/gas/arm/attr-march-all.d: Update for Integer divide extension.
	* gas/testsuite/gas/arm/attr-march-armv7-a+idiv.d: New test.
	* include/opcode/arm.h (ARM_AEXT_ADIV): New define.
	(ARM_ARCH_V7A_IDIV_MP_SEC): Likewise.
	* opcodes/arm-dis.c (arm_opcodes): Support disassembly of UDIV and SDIV in
	ARM state.
@
text
@d3 8
@


1.1751
log
@	* config/tc-arm.c (arm_ext_v6m): New variable.
	(arm_ext_m): Add support for OS extension.
	(arm_ext_os): New variable.
	(do_t_swi): In v6-M ensure we have the OS extension.
	(arm_cpus): The cortex-m1 and cortex-m0 options have the OS
	extension by default.
	(arm_archs): Add armv6s-m.
	(arm_extensions): Add 'os' extension.
	(cpu_arch_ver): Add support for v6S-M.
	* gas/doc/c-arm.texi: Document the OS Extension, and v6-m and v6s-m
	architecture options.
	* gas/testsuite/gas/arm/archv6s-m-bad.d: New test.
	* gas/testsuite/gas/arm/archv6s-m-bad.l: Likewise.
	* gas/testsuite/gas/arm/archv6s-m.d: Likewise.
	* gas/testsuite/gas/arm/archv6s-m.s: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv6-m+os.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv6s-m.d: Likewise.
	* include/opcode/arm.h (ARM_EXT_OS): New define.
	(ARM_AEXT_V6SM): Likewise.
	(ARM_ARCH_V6SM): Likewise.
@
text
@d3 7
@


1.1750
log
@	* gas/config/tc-arm.c (arm_ext_v6z): Remove.
	(arm_ext_sec): New variable.
	(do_t_smc): In Thumb state SMC requires v7-A.
	(insns): Make SMC depend on Security Extensions.
	(arm_cpus): All -mcpu=cortex-a* options have the Security Extensions.
	(arm_extensions): Add 'sec' extension.
	(cpu_arch_ver): Reorder.
	(aeabi_set_public_attributes): Emit Tag_Virtualization_use as
	appropriate.
	* gas/doc/c-arm.texi: Document Security Extensions.
	* gas/testsuite/gas/arm/attr-march-all.d: Update for Security Extensions..
	* gas/testsuite/gas/arm/attr-march-armv6k+sec.d: New test.
	* gas/testsuite/gas/arm/attr-march-armv6z.d: Update for Security Extensions.
	* gas/testsuite/gas/arm/attr-march-armv6zk.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv6zkt2.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv6zt2.d: Likewise.
	* gas/testsuite/gas/arm/attr-march-armv7-a+sec.d: New test.
	* gas/testsuite/gas/arm/attr-mcpu.d: Update for Security Extensions.
	* gas/testsuite/gas/arm/thumb32.d: Likewise.
	* gas/testsuite/gas/arm/thumb32.s: Likewise.
	* include/opcode/arm.h (ARM_EXT_V6Z): Remove.
	(ARM_EXT_SEC): New define.
	(ARM_AEXT_V6Z): Use Security Extensions.
	(ARM_AEXT_V6ZK): Likeiwse.
	(ARM_AEXT_V6ZT2): Likewise.
	(ARM_AEXT_V6ZKT2): Likewise.
	(ARM_AEXT_V7_ARM): Base v7 does not have Security Extensions.
	(ARM_ARCH_V7A_SEC): New define.
	(ARM_ARCH_V7A_MP): Rename...
	(ARM_ARCH_V7A_MP_SEC): ...to this and add Security Extensions.
	* ld/testsuite/ld-arm/attr-merge-6.attr: Update for Security Extensions.
	* ld/testsuite/ld-arm/attr-merge-7.attr: Likewise.
	* opcodes/arm-dis.c (arm_opcodes): SMC implies Security Extensions.
	(thumb32_opcodes): Likewise.
@
text
@d3 9
@


1.1749
log
@	* gas/config/tc-arm.c (arm_ext_mp): Add.
	(do_pld): Update comment.
	(insns): Add support for pldw.
	(arm_cpus): Update cortex-a5, cortex-a9, and cortex-a15 to support
	MP extension.
	(arm_extensions): Add 'mp' extension.
	(aeabi_set_public_attributes): Emit correct build attribute when
	MP extension is enabled.
	* gas/doc/c-arm.texi: Update for MP extensions.
	* gas/testsuite/gas/arm/arch7a-mp.d: Add.
	* gas/testsuite/gas/arm/arch7ar-mp.s: Likewise.
	* gas/testsuite/gas/arm/arch7r-mp.d: Likewise.
	* gas/testsuite/gas/arm/armv2-mp-bad.d: Likewise.
	* gas/testsuite/gas/arm/armv2-mp-bad.l: Likewise.
	* gas/testsuite/gas/arm/attr-march-all.d: Update for MP extension.
	* gas/testsuite/gas/arm/attr-march-armv7-a+mp.d: Add.
	* gas/testsuite/gas/arm/attr-march-armv7-r+mp.d: Likewise.
	* include/opcode/arm.h (ARM_EXT_MP): Add.
	(ARM_ARCH_V7A_MP): Likewise.
	* opcodes/arm-dis.c (arm_opcodes): Add support for pldw.
	(thumb32_opcodes): Likewise.
@
text
@d3 13
@


1.1748
log
@	* gas/all/gas.exp: Update "forward" and "redef3" xfails.
	* gas/m68k/all.exp: Don't xfail pcrel on uclinux.
	* gas/sh/arch/arch.exp: Don't pass dashes to send_log.
@
text
@d1 11
@


1.1747
log
@	* gas/mips/jal.d: Remove duplicate pattern.
@
text
@d1 6
@


1.1746
log
@gas: blackfin: clarify some errors with register usage in insns

Using "Register mismatch" everywhere can be a bit vague, so clarify
why exactly we're barfing on these unsupported insns.

Signed-off-by: Robin Getz <robin.getz@@analog.com>
Signed-off-by: Mike Frysinger <vapier@@gentoo.org>
@
text
@d1 4
@


1.1745
log
@gas: blackfin: fix DBG/DBGCMPLX insn encoding

Some extended registers when given to the DBG/DBGCMPLX pseudo insns are
not encoded properly.  So fix them, fix the display of them when being
disassembled, and add testcases.

Signed-off-by: Robin Getz <robin.getz@@analog.com>
Signed-off-by: Mike Frysinger <vapier@@gentoo.org>
@
text
@d3 4
@


1.1744
log
@opcodes: blackfin: fix decoding of LSHIFT insns

The Blackfin ISA does not have a "SHIFT" insn, it has either LSHIFT,
ASHIFT, or BXORSHIFT.  So be specific when disassembling.

As fall out of this change, we need to update some assembler tests.

Signed-off-by: Robin Getz <robin.getz@@analog.com>
Signed-off-by: Mike Frysinger <vapier@@gentoo.org>
@
text
@d1 5
@


1.1743
log
@	* gas/config/tc-arm.c (arm_cpus): Correct canonical names for Cortex CPUs.
	* gas/testsuite/gas/arm/attr-cpu-directive.d: Update test for change in canonical
	CPU name.
	* gas/testsuite/gas/arm/attr-mcpu.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-6.attr: Update tests for change in canonical
	CPU name.
	* ld/testsuite/ld-arm/attr-merge-7.attr: Likewise.
	* ld/testsuite/ld-arm/attr-merge-2.attr: Likewise.
	* ld/testsuite/ld-arm/attr-merge-arch-2.attr: Likewise.
@
text
@d1 5
@


1.1742
log
@	* gas/elf/elf.exp: Disable symtab test for alpha.
@
text
@d1 6
@


1.1741
log
@2010-09-17  Tejas Belagod  <tejas.belagod@@arm.com>

	* config/tc-arm.c (do_t_ldmstm): Add logic to handle single-register
	list for ldm/stm.

2010-09-17  Tejas Belagod  <tejas.belagod@@arm.com>

	* gas/arm/thumb2_ldmstm.d: Change single-register stmia to use 16-bit
	str encoding instead of str.w.  Likewise for ldmia.
	* gas/arm/thumb2_ldmstm.s: Change stmia comment.  Add tests for T1
	ldmia-to-ldr.
@
text
@d1 4
@


1.1740
log
@2010-09-17  Tejas Belagod  <tejas.belagod@@arm.com>

	* config/tc-arm.c (parse_psr): Add condition for matching "APSR" on
	non-M-arch cpus.
	(psrs): Add entry for PSR flags, g, nzcvq, nzcvqg.

2010-09-17  Tejas Belagod  <tejas.belagod@@arm.com>

	* gas/arm/msr-reg.s: New file.
	* gas/arm/msr-reg.d: Likewise.
	* gas/arm/msr-imm.s: Likewise.
	* gas/arm/msr-imm.d: Likewise.
	* gas/arm/msr-imm-bad.d: Likewise.
	* gas/arm/msr-imm-bad.l: Likewise.
	* gas/arm/msr-reg-bad.d: Likewise.
	* gas/arm/msr-imm-bad.d: Likewise.
	* gas/arm/msr-reg-thumb.d: Likewise.
	* gas/arm/arch7.s: Add tests for xpsr.
	* gas/arm/arch7.d: Likewise.
@
text
@d3 7
@


1.1739
log
@2010-09-17  Tejas Belagod  <tejas.belagod@@arm.com>

	* config/tc-arm.c (insns): Change MRC entry to accept APSR_RR instead
	of just RR.

2010-09-17  Tejas Belagod  <tejas.belagod@@arm.com>

	* gas/arm/copro.s: Add test for APSR_nzcv as a MRC operand.
	* gas/arm/copro.d: Change pc in MRC to disassemble as APSR_nzcv.  Also
	add disassembly for test added in copro.s

2010-09-17  Tejas Belagod  <tejas.belagod@@arm.com>

	* arm_dis.c (coprocessor_opcodes): Add MRC entry for APSR_nzcv.
@
text
@d3 14
@


1.1738
log
@	PR gas/12011
	* config/obj-elf.c (obj_elf_parse_section_letters): Correct test
	for error return from md_elf_section_letter.
	* config/tc-alpha.c (alpha_elf_section_letter): Correct error message.
	* config/tc-i386.c (x86_64_section_letter): Likewise.
	* config/tc-ia64.c (ia64_elf_section_letter): Likewise.
	* config/tc-mep.c (mep_elf_section_letter): Likewise.
	* gas/elf/bad-section-flag.d, * gas/elf/bad-section-flag.err,
	* gas/elf/bad-section-flag.s: New test.
	* gas/elf/elf.exp: Run it.
@
text
@d1 6
@


1.1737
log
@	* gas/all/redef3.d: Don't run on arc.
	* gas/i386/i386.exp: Don't run intel-got32 on linuxaout.  Move
	x86_64 mingw exclusions to equivalent elf only block of tests.
@
text
@d1 7
@


1.1736
log
@ChangeLog gas

2010-09-15  Kai Tietz  <kai.tietz@@onevision.com>

	* config/obj-coff-seh.c (seh_validate_seg): New funtion.
	(obj_coff_seh_endproc): Add check for segment.
	(obj_coff_seh_endprologue): Likewise.
	(obj_coff_seh_pushreg): Likewise.
	(obj_coff_seh_pushframe): Likewise.
	(obj_coff_seh_save): Likewise.
	(obj_coff_seh_setframe): Likewise.

ChangeLog gas/testsuite

2010-09-15  Kai Tietz  <kai.tietz@@onevision.com>

	* gas/pe/pe.exp: Add new test.
	* gas/pe/seh-x64-err-1.l: New.
	* gas/pe/seh-x64-err-1.s: New.
@
text
@d1 6
@


1.1735
log
@ChangeLog gas

2010-09-15  Kai Tietz  <kai.tietz@@onevision.com>

       * config/obj-coff-seh.h (seh_context): New member code_seg.
       * config/obj-coff-seh.c: Implementing xdata/pdata section cloning
       for link-once code-segment.

ChangeLog ld

2010-09-15  Kai Tietz  <kai.tietz@@onevision.com>

       * scripttempl/pep.sc: Add .xdata segment and
       put into .pdata all segments beginning with .pdata.

ChangeLog gas/testsuite
2010-09-15  Kai Tietz  <kai.tietz@@onevision.com>

       * gas/pe/pe.exp: Add peseh-x64-4,5,6 tests.
       * gas/pe/peseh-x64-4.s: New.
       * gas/pe/peseh-x64-4.d: New.
       * gas/pe/peseh-x64-5.d: New.
       * gas/pe/peseh-x64-6.d: New.
@
text
@d3 9
a11 5
       * gas/pe/pe.exp: Add peseh-x64-4,5,6 tests.
       * gas/pe/peseh-x64-4.s: New.
       * gas/pe/peseh-x64-4.d: New.
       * gas/pe/peseh-x64-5.d: New.
       * gas/pe/peseh-x64-6.d: New.
@


1.1734
log
@	opcodes/
	* mips-opc.c (mips_builtin_opcodes): Add "sync_acquire",
	"sync_mb", "sync_release", "sync_rmb" and "sync_wmb".

	gas/testsuite/
	* gas/mips/mips32r2-sync.d: New test for MIPS32r2 "sync"
	instruction variants.
	* gas/mips/octeon@@mips32r2-sync.d: Likewise, Octeon version.
	* gas/mips/mips32r2-sync.s: Source for the new test.
	* gas/mips/mips.exp: Run the new test.
@
text
@d1 8
@


1.1733
log
@2010-09-13  Kai Tietz  <kai.tietz@@onevision.com>

        * gas/pe/pe.exp: Add x64 SEH tests.
        * gas/pe/peseh-x64.s: New.
        * gas/pe/peseh-x64.d: New.
        * gas/pe/peseh-x64-2.s: New.
        * gas/pe/peseh-x64-2.d: New.
        * gas/pe/peseh-x64-3.s: New.
        * gas/pe/peseh-x64-3.d: New.
@
text
@d1 8
@


1.1732
log
@Fix PR number in previous delta.
@
text
@d1 10
@


1.1731
log
@        PR gas/11931
        * gas/mn10300/pr11931.s: New file: Test case.
        * gas/mn10300/pr11931.d: New file: Expected output.
        * gas/mn10300/basic.exp: Run the new test.
@
text
@d3 3
a5 3
	PR gas/11931
	* gas/mn10300/pr11931.s: New file: Test case.
	* gas/mn10300/pr11931.d: New file: Expected output.
@


1.1730
log
@        * config/tc-arm.c (md_apply_fix): Check if widened add, sub are
        flag-setting and handle accordingly.

        * gas/arm/addsw-bad.s: New file.
        * gas/arm/addsw-bad.l: New file.
        * gas/arm/addsw-bad.d: New file.
@
text
@d1 7
@


1.1729
log
@Check flag_code instead of use_rela_relocations for 64bit.

gas/

2010-09-03  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11974
	* config/tc-i386.c (i386_finalize_immediate): Check flag_code
	instead of use_rela_relocations for 64bit.

gas/testsuite/

2010-09-03  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11974
	* gas/i386/immed64.s: Add more movabs tests.
	* gas/i386/immed64.d: Updated.
@
text
@d1 6
@


1.1728
log
@binutils/
	* dwarf.c (regname): New declaration.
	(decode_location_expression): Print for registers also regname output.

binutils/testsuite/
	* binutils-all/objdump.W: Update DW_OP_reg5 expected output.

gas/testsuite/
	* gas/elf/dwarf2-1.d: Update DW_OP_reg5 expected output.
	* gas/elf/dwarf2-2.d: Likewise.
	* gas/i386/dw2-compress-1.d: Likewise.
@
text
@d1 6
@


1.1727
log
@        * gas/cfi/cfi-i386.d: Use objdump -Wf instead of readelf.
        * gas/cfi/cfi-i386.s: Remove .type directives.
        * gas/cfi/reloc-pe-i386.d: Adjust test for i386.
@
text
@d1 7
a7 1
2010-10-03  Kai Tietz  <kai.tietz@@onevision.com>
@


1.1726
log
@	* dw2gencfi.c (TC_DWARF2_EMIT_OFFSET): Provide default.
	(output_fde): Use it.  Make sure to fully init exp before using it.
testsuite/
	* gas/cfi/cfi-common-1.d: Use objdump instead of readelf to dump.
	* gas/cfi/cfi-common-2.d, gas/cfi/cfi-common-3.d,
	gas/cfi/cfi-common-4.d, gas/cfi/cfi-common-6.d,
	gas/cfi/cfi-common-7.d, gas/cfi/cfi-x86_64.d: Likewise.
	* gas/cfi/cfi-x86_64.s: Remove .type directives.
	* gas/cfi/cfi.exp: Run for pecoff objects too.
	* gas/cfi/reloc-pe-i386.d, gas/cfi/reloc-pe-i386.s: New test.
@
text
@d1 6
@


1.1725
log
@Fix "pushw imm16" for x86-64 disassembler.

gas/testsuite/

2010-08-31  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/11960
	* gas/i386/opcode-intel.d: Updated.
	* gas/i386/x86-64-opcode.d: Likewise.

	* gas/i386/x86-64-opcode.s: Add a "pushw imm16" test.

opcodes/

2010-08-31  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/11960
	* i386-dis.c (sIv): New.
	(dis386): Replace Iq with sIv on "pushT".
	(reg_table): Replace T with {T|} on callT, JcallT, jmpT and JjmpT.
	(x86_64_table): Replace {T|}/{P|} with P.
	(putop): Add 'w' to 'T'/'P' if needed for Intel syntax.
	(OP_sI): Update v_mode.  Remove w_mode.
@
text
@d1 11
@


1.1724
log
@	* config/tc-arm.c (encode_arm_addr_mode_2): Fix
	BAD_PC_ADDRESSING condition.

	testsuite/
	* gas/arm/ldst-pc.d: New test.
	* gas/arm/ldst-pc.s: New test.
	* gas/arm/sp-pc-validations-bad.s: `str r0,[pc,#4]' is valid.
	* gas/arm/sp-pc-validations-bad.l: Adjust accordingly.
@
text
@d1 8
@


1.1723
log
@Add "?" pseudo-flag to ELF .section/.pushsection directives.
@
text
@d1 7
@


1.1722
log
@Don't generate multi-byte NOPs for i686.

gas/

2010-08-06  Quentin Neill <quentin.neill@@amd.com>

	* config/tc-i386.c (arch_entry): Add negated bit to
	  disambiguate flag names starting with "no".
	  (cpu_arch): Add negated bit definitions.  Add
	  ".nop" CPU extension.
	  (i386_align_code): Use new .cpunop bit to decide
	  when to generate alignment using nops.
	  (set_cpu_arch): Use negated bit instead to decide
	  when to use cpu_flags or vs. cpu_flags_and_not.
	  (md_parse_option): Likewise.

gas/testsuite/

2010-08-06  Quentin Neill <quentin.neill@@amd.com>

	* gas/i386/arch-10-1.l: Add nopl instruction.
	* gas/i386/arch-10-2.l: Likewise.
	* gas/i386/arch-10-3.l: Likewise.
	* gas/i386/arch-10-4.l: Likewise.
	* gas/i386/arch-10.s: Likewise.
	* gas/i386/arch-10.d: Add nopl instruction, and +nopl extension
	flag to as flags.
	* gas/i386/nops-5-i686.d: Change alignment code generated for
	-mtune=i686.
	* gas/i386/nops-5.d: Change alignment code generated for
	.arch i686.
	* gas/i386/x86-64-nops-5-k8.d: Likewise.
	* gas/i386/x86-64-nops-5.d: Likewise.

opcodes/

2010-08-06  Quentin Neill <quentin.neill@@amd.com>

	* i386-gen.c (cpu_flag_init): Define CpuNop extension flag, add
	to processor flags for PENTIUMPRO processors and later.
	* i386-opc.h (enum): Add CpuNop.
	(i386_cpu_flags): Add cpunop bit.
	* i386-opc.tbl: Change nop cpu_flags.
	* i386-init.h: Regenerated.
	* i386-tbl.h: Likewise.
@
text
@d1 7
@


1.1721
log
@Add ud1 to x86.

gas/testsuite/

2010-08-05  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run arch-4.

	* gas/i386/arch-4.d: New.
	* gas/i386/arch-4.s: Likewise.

	* gas/i386/intel.d: Replace ud2a/ud2b with ud2/ud1.
	* gas/i386/opcode-intel.d: Likewise.
	* gas/i386/opcode-suffix.d: Likewise.
	* gas/i386/opcode.d: Likewise.

opcodes/

2010-08-05  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (dis386_twobyte): Replace ud2a/ud2b with ud2/ud1.

	* i386-opc.tbl: Add ud1.  Remove Cpu686 from ud2/ud2a/ud2b.
	* i386-tbl.h: Regenerated.
@
text
@d1 16
@


1.1720
log
@	* gas/all/octa.s, * gas/all/octa.d: New test.
	* gas/all/gas.exp: Run octa.
	* gas/elf/data-1.s, * gas/elf/data-1.d: Delete.
	* gas/elf/elf.exp: Don't run data-1.
@
text
@d1 12
@


1.1719
log
@Run data-1 only for i*86, x86_64 and ia64.

2010-08-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* elf/elf.exp: Run data-1 only for i*86, x86_64 and ia64.
@
text
@d1 7
@


1.1718
log
@Add a testcase for PR gas/11867.

2010-08-02  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11867
	* gas/elf/data-1.d: New.
	* gas/elf/data-1.s: Likewise.

	* elf/elf.exp: Run data-1.
@
text
@d3 4
@


1.1717
log
@2010-08-02  Tristan Gingold  <gingold@@adacore.com>

	* lib/gas-defs.exp (get_standard_section_names): New function.
	(run_dump_tests): Document the new behavior for objdump,
	document to new section-subst option.  Automatically perform
	substitutions for objdump.
	(objdump_finish): Add REF_SUBST argument.
	(run_list_test): Adjust call of regexp_diff.
	(run_list_test_stdin): Ditto.
	* gas/all/gas.exp (test_cond): Adjust call of regexp_diff.
	* gas/symver/symver.exp (run_error_test): Ditto.
	* gas/mt/relocs.exp (regexp_test): Ditto.
	* gas/mep/complex-relocs.exp (regexp_test): Ditto.
	* gas/m68k/all.exp: Ditto.
	* gas/elf/elf.exp (run_elf_list_test): Ditto.
	* gas/rx/rx-asm-good.d: Set section-subst to no.
@
text
@d1 8
@


1.1716
log
@	* gas/i386/i386.exp (dw2-compress-1): Only run on ELF targets.
	(dw2-compress-2, x86-64-dw2-compress-2): Remove unnecessary linux
	target test.
@
text
@d1 17
@


1.1715
log
@Update for ppc_fix_adjustable change.
@
text
@d3 6
@


1.1714
log
@Correct date.
@
text
@d1 4
@


1.1713
log
@Xfail dw2-compress-2 and x86-64-dw2-compress-2.

2010-07-27  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Xfail dw2-compress-2 and
	x86-64-dw2-compress-2.
@
text
@d1 1
a1 1
2010-07-27  H.J. Lu  <hongjiu.lu@@intel.com>
@


1.1712
log
@	gas/
	* config/tc-mips.c (macro)[M_JAL_1, M_JAL_2]: Handle the JALR
	delay slot in the noreorder mode with the o32 ABI.

	gas/testsuite/
	* gas/mips/jal-svr4pic-noreorder.d: New test case.
	* gas/mips/mips1@@jal-svr4pic-noreorder.d: New test
	subarchitecture.
	* gas/mips/r3000@@jal-svr4pic-noreorder.d: Likewise.
	* gas/mips/jal-svr4pic-noreorder.s: Source for the new test
	case.
	* gas/mips/mips.exp: Run the new test case.
@
text
@d1 5
@


1.1711
log
@	* gas/mips/jal-svr4pic.d: Rename to...
	* gas/mips/mips1@@jal-svr4pic.d: ... this.
	* gas/mips/r3000@@jal-svr4pic.d: New test subarchitecture.
	* gas/mips/jal-svr4pic.d: New default subarchitecture patterns.
	* gas/mips/mips.exp: Run jal-svr4pic with run_dump_test_arches
	rather than run_dump_test.
@
text
@d3 10
@


1.1710
log
@	* gas/mips/jal-svr4pic.d: Reformat.  Use --show-raw-insn with
	`objdump'.
	* gas/mips/jal-svr4pic.s: Reformat.  Fix up trailing zeroes.
@
text
@d3 9
@


1.1709
log
@	* lib/gas-defs.exp (run_dump_test): Handle the "dump" option.
@
text
@d3 6
@


1.1708
log
@Add support for v850E2 and v850E2V3
@
text
@d1 4
@


1.1707
log
@	* gas/arm/mapdir.s: Don't specify attr/type for .fini_array.
	* gas/elf/dwarf2-3.s: Don't specify attr for .init_array.
	* gas/elf/dwarf2-3.d: Don't run on h8300.
@
text
@d1 7
@


1.1706
log
@binutils/testsuite/:
* binutils-all/readelf.s: Ignore "Key to Flags" contents.
* binutils-all/readelf.s-64: Likewise.
* binutils-all/i386/compressed-1b.d: Likewise.
* binutils-all/i386/compressed-1c.d: Likewise.
* binutils-all/x86-64/compressed-1b.d: Likewise.
* binutils-all/x86-64/compressed-1c.d: Likewise.

gas/testsuite/:
* gas/i386/x86-64-unwind.d: Ignore "Key to Flags" contents.
* gas/ia64/alias-ilp32.d: Likewise.
* gas/ia64/alias.d: Likewise.
* gas/ia64/group-1.d: Likewise.
* gas/ia64/group-2.d: Likewise.
* gas/ia64/secname-ilp32.d: Likewise.
* gas/ia64/secname.d: Likewise.
* gas/ia64/unwind-ilp32.d: Likewise.
* gas/ia64/unwind.d: Likewise.
* gas/mmix/byte-1.d: Likewise.
* gas/mmix/loc-1.d: Likewise.
* gas/mmix/loc-2.d: Likewise.
* gas/mmix/loc-3.d: Likewise.
* gas/mmix/loc-4.d: Likewise.
* gas/mmix/loc-5.d: Likewise.

ld/testsuite/:
* ld-mmix/bspec1.d: Ignore "Key to Flags" contents.
* ld-mmix/bspec2.d: Likewise.
* ld-mmix/local1.d: Likewise.
* ld-mmix/local3.d: Likewise.
* ld-mmix/local5.d: Likewise.
* ld-mmix/local7.d: Likewise.
* ld-mmix/undef-3.d: Likewise.
* ld-sh/sh64/crange1.rd: Likewise.
* ld-sh/sh64/crange2.rd: Likewise.
* ld-sh/sh64/crange3-cmpct.rd: Likewise.
* ld-sh/sh64/crange3-media.rd: Likewise.
* ld-sh/sh64/crange3.rd: Likewise.
* ld-sh/sh64/crangerel1.rd: Likewise.
* ld-sh/sh64/crangerel2.rd: Likewise.
@
text
@d1 6
@


1.1705
log
@Run dw2-compress-2 only for 32bit.

2010-07-16  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run dw2-compress-2 only for 32bit.
@
text
@d1 18
@


1.1704
log
@	* config/obj-elf.c (get_sym_from_input_line_and_check): New
	function to catch missing pseudo-op arguments.
	(obj_elf_local): Call new function.
	(obj_elf_weak): Likewise.
	(obj_elf_visibility): Likewise.
	(obj_elf_vtable_entry): Likewise.
	(obj_elf_type): Likewise.

	testsuite/
	* gas/elf/pseudo.s: New.
	* gas/elf/pseudo.l: New.
	* gas/elf/pseudo.d: New.
	* gas/elf/elf.exp: Run the new test.
@
text
@d1 4
@


1.1703
log
@Add addr2line, objcopy and strip tests for compressed debug sections.

binutils/testsuite/

2010-07-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/default.exp (binutils_assemble): Use
	default_binutils_assemble_flags.
	(binutils_assemble_flags): New.

	* lib/utils-lib.exp (default_binutils_assemble): Renamed to ...
	(default_binutils_assemble_flags): This.  Add asflags and
	pass it to target_assemble.
	(run_dump_test): Support assembler flags.

	* binutils-all/i386/compressed-1.s: New.
	* binutils-all/i386/compressed-1a.d: Likewise.
	* binutils-all/i386/compressed-1b.d: Likewise.
	* binutils-all/i386/compressed-1c.d: Likewise.
	* binutils-all/i386/i386.exp: Likewise.
	* binutils-all/x86-64/compressed-1.s: Likewise.
	* binutils-all/x86-64/compressed-1a.d: Likewise.
	* binutils-all/x86-64/compressed-1b.d: Likewise.
	* binutils-all/x86-64/compressed-1c.d: Likewise.
	* binutils-all/x86-64/x86-64.exp: Likewise.

gas/testsuite/

2010-07-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/default.exp (ADDR2LINE): New.
	(ADDR2LINEFLAGS): Likewise.

	* gas/i386/i386.exp: Run dw2-compress-2 and x86-64-dw2-compress-2.

	* gas/i386/dw2-compress-2.d: New.
	* gas/i386/dw2-compress-2.s: Likewise.
	* gas/i386/x86-64-dw2-compress-2.d: Likewise.
	* gas/i386/x86-64-dw2-compress-2.s: Likewise.

	* lib/gas-defs.exp (run_dump_test): Support addr2line as dump
	program.
	(slurp_options): Allow numbers in options.
@
text
@d1 7
@


1.1702
log
@Use .2byte/.4byte instead of .short/.long.

2010-07-14  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/elf/dwarf2-3.s: Replace .short and .long directives in
	.debug_info section with .2byte and .4byte respectively.
@
text
@d1 16
@


1.1701
log
@Fix a typo.
@
text
@d1 5
@


1.1700
log
@2010-07-11  Kai Tietz  <kai.tietz@@onevision.com>

	PR ld/11612
	* config/obj-coff.c (obj_common_parse): Quote symbol-name.

2010-07-11  Kai Tietz  <kai.tietz@@onevision.com>

	* gas/pe/aligncomm-b.d: Regenerated content dump.
	* gas/pe/aligncomm-d,d: Regenerated content dump.
	* gas/i386/i386.exp: Disable for mingw 64-bit the intel-got64 test.
@
text
@d4 1
a4 1
	* gas/pe/aligncomm-d,d: Regenerated content dump.
@


1.1699
log
@2010-07-08 Tejas Belagod <tejas.belagod@@arm.com>

	gas/testsuite
	* gas/arm/barrier.s: New file.
	* gas/arm/barrier.d: New file.
	* gas/arm/barrier-thumb.s: New file.
	* gas/arm/barrier-thumb.d: New file.
	* gas/arm/barrier-bad.s: New file.
	* gas/arm/barrier-bad.d: New file.
	* gas/arm/barrier-bad.l: New file.
	* gas/arm/barrier-bad-thumb.s: New file.
	* gas/arm/barrier-bad-thumb.d: New file.
	* gas/arm/barrier-bad-thumb.l: New file.

	gas/config
	* tc-arm.c (OP_oBARRIER): Remove.
	(OP_oBARRIER_I15): Add.
	(po_barrier_or_imm): Add macro.
	(parse_operands): Improve OP_oBARRIER_I15 operand parsing.
	(do_barrier): Check correct immediate range.
	(do_t_barrier): Likewise.
	(barrier_opt_names): Add entries for more symbolic operands.
	(insns): Replace OP_oBARRIER with OP_oBARRIER_I15 for barriers.

	opcodes/
	* arm-dis.c (print_insn_arm): Add cases for printing more
	symbolic operands.
	(print_insn_thumb32): Likewise.
@
text
@d1 6
@


1.1698
log
@	* config/tc-arm.c (tc_gen_reloc): Add BFD_RELOC_ARM_T32_OFFSET_IMM
	error message.

	testsuite/
	* gas/arm/reloc-bad.d: New.
	* gas/arm/reloc-bad.s: New.
	* gas/arm/reloc-bad.l: New.
@
text
@d1 13
@


1.1697
log
@	gas/
	* config/tc-mips.c (mips_frob_file): Use symbol_same_p to match
	symbols.

	gas/testsuite/
	* gas/mips/elf-rel27.d: New test for HI16/LO16 relocation
	pairing.
	* gas/mips/elf-rel27.s: Source for the new test.
	* gas/mips/mips.exp: Create "mips16" architecture.  Adjust
	conditions involving negated properties throughout to require
	"mips1" as appropriate.  Run the new test.
	(mips_arch_destroy): New procedure.
@
text
@d1 6
@


1.1696
log
@	* gas/mips/mips.exp (run_dump_test_arch): Check for the presence
	of an architecture-specific test first and use it if found,
	before falling back to the generic one.
@
text
@d1 10
@


1.1695
log
@	* gas/mips/mips4-fp.d, gas/mips/mips4-fp.s: Remove checks for
	branch-likely instructions and place them...
	* gas/mips/mips4-branch-likely.d, gas/mips/mips4-branch-likely.s:
	... in this new test.
	* gas/mips/mips4-fp.l: Update accordingly.
	* gas/mips/mips4-branch-likely.l: New stderr output for the new
	test.
	* gas/mips/mips.exp (mips4-branch-likely): Run a dump test and
	a list test with mips4-branch-likely similarly to mips4-fp.
@
text
@d3 6
@


1.1694
log
@	* gas/mips/beq.d, gas/mips/beq.s: Remove checks for
	branch-likely instructions.
	* gas/mips/bge.d, gas/mips/bge.s: Likewise.
	* gas/mips/bgeu.d, gas/mips/bgeu.s: Likewise.
	* gas/mips/blt.d, gas/mips/blt.s: Likewise.
	* gas/mips/bltu.d, gas/mips/bltu.s: Likewise.
	* gas/mips/branch-likely.d, gas/mips/branch-likely.s: New test,
	collecting checks for branch-likely instructions removed from
	the above.
	* gas/mips/mips.exp: Run the new test and update the
	constraints for the updated tests to include MIPS I.
@
text
@d3 12
@


1.1693
log
@	* gas/mips/mips4-fp.d: Reformat.
@
text
@d3 14
@


1.1692
log
@	* gas/mips/beq.d: Reformat.
	* gas/mips/bge.d, gas/mips/bgeu.d: Likewise.
	* gas/mips/blt.d, gas/mips/bltu.d: Likewise.
@
text
@d3 4
@


1.1691
log
@	* gas/mips/beq.d: Remove leftover symbols/relocs from the
	change on 2009-02-06.
@
text
@d3 6
@


1.1690
log
@Replace rdrnd with rdrand.

gas/testsuite/

2010-07-05  H.J. Lu  <hongjiu.lu@@intel.com>

	AVX Programming Reference (June, 2010)
	* gas/i386/rdrnd.s: Replace rdrnd with rdrand.
	* gas/i386/rdrnd-intel.d: Likewise.
	* gas/i386/rdrnd.d: Likewise.
	* gas/i386/x86-64-rdrnd-intel.d: Likewise.
	* gas/i386/x86-64-rdrnd.d: Likewise.
	* gas/i386/x86-64-rdrnd.s: Likewise.

opcodes/

2010-07-05  H.J. Lu  <hongjiu.lu@@intel.com>

	AVX Programming Reference (June, 2010)
	* i386-dis.c (mod_table): Replace rdrnd with rdrand.
	* i386-opc.tbl: Likewise.
	* i386-tbl.h: Regenerated.
@
text
@d1 5
@


1.1689
log
@Don't generate .debug_line section if it isn't empty.

binutils/testsuite/

2010-07-05  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/10531
	PR gas/11789
	* binutils-all/objdump.W: Remove bogus line debug info.

gas/

2010-07-05  Jim Wilson  <wilson@@codesourcery.com>

	PR gas/10531
	PR gas/11789
	* dwarf2dbg.c (dwarf2_finish): Don't generate .debug_line section
	if it isn't empty.

gas/testsuite/

2010-07-05  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/10531
	PR gas/11789
	* gas/i386/dw2-compress-1.d: Remove bogus line debug info.

	* gas/elf/dwarf2-1.d: New.
	* gas/elf/dwarf2-1.s: Likewise.
	* gas/elf/dwarf2-2.d: Likewise.
	* gas/elf/dwarf2-2.s: Likewise.
	* gas/elf/dwarf2-3.d: Likewise.
	* gas/elf/dwarf2-3.s: Likewise.
	* gas/i386/debug1.d: Likewise.
	* gas/i386/debug1.s: Likewise.

	* gas/elf/elf.exp: Run dwarf2-1, dwarf2-2 and dwarf2-3.

	* gas/i386/i386.exp: Run debug1 for both 32bit and 64bit.
@
text
@d3 10
@


1.1688
log
@Remove bogus bugzilla references.
@
text
@d1 19
@


1.1687
log
@Add dw2-compress-1 for Linux/x86.

2010-07-04  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/dw2-compress-1.d: New.
	* gas/i386/dw2-compress-1.s: Likewise.

	* gas/i386/i386.exp: Run dw2-compress-1 for Linux.
@
text
@a90 1
	PR gas/11732
@


1.1686
log
@Don't call section_symbol() with expr_section.

gas/

2010-07-03  Jan Beulich  <jbeulich@@novell.com>

	PR gas/11732
	* config/tc-i386.c (i386_finalize_displacement): Don't call
	section_symbol() with expr_section.

gas/testsuite/

2010-07-03  Jan Beulich  <jbeulich@@novell.com>

	PR gas/11732
	* gas/i386/i386.exp: Run new tests.
	* gas/i386/intel-got{32,64}.{s,d}: New.
@
text
@d1 7
@


1.1685
log
@Support AVX Programming Reference (June, 2010)

gas/

2010-07-01  H.J. Lu  <hongjiu.lu@@intel.com>

	AVX Programming Reference (June, 2010)
	* config/tc-i386.c (cpu_arch): Add .xsaveopt, .fsgsbase, .rdrnd
	and .f16c.

	* doc/c-i386.texi: Document xsaveopt, fsgsbase, rdrnd and f16c.

gas/testsuite/

2010-07-01  H.J. Lu  <hongjiu.lu@@intel.com>

	AVX Programming Reference (June, 2010)
	* gas/i386/arch-10.s: Add xsaveopt.
	* gas/i386/x86-64-arch-2.s: Likwise.

	* gas/i386/arch-10.d: Updated.
	* gas/i386/arch-10-1.l: Likewise.
	* gas/i386/arch-10-2.l: Likewise.
	* gas/i386/arch-10-3.l: Likewise.
	* gas/i386/arch-10-4.l: Likewise.
	* gas/i386/x86-64-arch-2.d: Likewise.

	* gas/i386/f16c-intel.d: New.
	* gas/i386/f16c.d: Likewise.
	* gas/i386/f16c.s: Likewise.
	* gas/i386/fsgs-intel.d: Likewise.
	* gas/i386/fsgs.d: Likewise.
	* gas/i386/fsgs.s: Likewise.
	* gas/i386/rdrnd-intel.d: Likewise.
	* gas/i386/rdrnd.d: Likewise.
	* gas/i386/rdrnd.s: Likewise.
	* gas/i386/x86-64-f16c-intel.d: Likewise.
	* gas/i386/x86-64-f16c.d: Likewise.
	* gas/i386/x86-64-f16c.s: Likewise.
	* gas/i386/x86-64-fsgs-intel.d: Likewise.
	* gas/i386/x86-64-fsgs.d: Likewise.
	* gas/i386/x86-64-fsgs.s: Likewise.
	* gas/i386/x86-64-rdrnd-intel.d: Likewise.
	* gas/i386/x86-64-rdrnd.d: Likewise.
	* gas/i386/x86-64-rdrnd.s: Likewise.

	* gas/i386/i386.exp: Run f16c, f16c-intel, fsgs, fsgs-intel,
	rdrnd, rdrnd-intel, x86-64-f16c, x86-64-f16c-intel, x86-64-fsgs,
	x86-64-fsgs-intel, x86-64-rdrnd, x86-64-rdrnd-intel.

	* gas/i386/x86-64-xsave.s: Add tests for xsaveopt64.

	* gas/i386/x86-64-xsave-intel.d: Updated.
	* gas/i386/x86-64-xsave.d: Likewise.

opcodes/

2010-07-01  H.J. Lu  <hongjiu.lu@@intel.com>

	AVX Programming Reference (June, 2010)
	* i386-dis.c (PREFIX_0FAE_REG_0): New.
	(PREFIX_0FAE_REG_1): Likewise.
	(PREFIX_0FAE_REG_2): Likewise.
	(PREFIX_0FAE_REG_3): Likewise.
	(PREFIX_VEX_3813): Likewise.
	(PREFIX_VEX_3A1D): Likewise.
	(prefix_table): Add PREFIX_0FAE_REG_0, PREFIX_0FAE_REG_1,
	PREFIX_0FAE_REG_2, PREFIX_0FAE_REG_3, PREFIX_VEX_3813 and
	PREFIX_VEX_3A1D.
	(vex_table): Add PREFIX_VEX_3813 and PREFIX_VEX_3A1D.
	(mod_table): Add PREFIX_0FAE_REG_0, PREFIX_0FAE_REG_1,
	PREFIX_0FAE_REG_2, PREFIX_0FAE_REG_3 xsaveopt and rdrnd.

	* i386-gen.c (cpu_flag_init): Add CPU_XSAVEOPT_FLAGS,
	CPU_FSGSBASE_FLAGS, CPU_RDRND_FLAGS and CPU_F16C_FLAGS.
	(cpu_flags): Add CpuXsaveopt, CpuFSGSBase, CpuRdRnd and CpuF16C.

	* i386-opc.h (CpuXsaveopt): New.
	(CpuFSGSBase):Likewise.
	(CpuRdRnd): Likewise.
	(CpuF16C): Likewise.
	(i386_cpu_flags): Add cpuxsaveopt, cpufsgsbase, cpurdrnd and
	cpuf16c.

	* i386-opc.tbl: Add xsaveopt, rdfsbase, rdgsbase, rdrnd,
	wrfsbase, wrgsbase, vcvtph2ps and vcvtps2ph.
@
text
@d1 6
@


1.1684
log
@	* gas/config/tc-arm.c (do_t_mov_cmp): Fix reporting of unpredictable and
	deprecated mov register instructions.
	* gas/testsuite/gas/arm/thumb2_bad_reg.s: Update mov register tests.
	* gas/testsuite/gas/arm/thumb2_bad_reg.l: Likewise.
@
text
@d1 41
@


1.1683
log
@remove maxq-coff port
@
text
@d1 5
@


1.1682
log
@	* gas/config/tc-arm.c (parse_neon_alignment): New function.
	(parse_address_main): Fix Neon load/store alignment parsing.
	* gas/testsuite/gas/arm/neon-ldst-align-bad.l: Update for Neon alignment syntax fix.
	* gas/testsuite/gas/arm/neon-ldst-align-bad.s: Likewise.
	* gas/testsuite/gas/arm/neon-ldst-es.d: Likewise.
	* gas/testsuite/gas/arm/neon-ldst-es.s: Likewise.
	* opcodes/arm-disc.c (parse_insn_neon):  Fix Neon alignment syntax.
@
text
@d1 22
@


1.1681
log
@gas/
2010-06-22  Jan Beulich  <jbeulich@@novell.com>

	PR gas/11732
	* config/tc-i386-intel.c (i386_intel_parse_name): Handle pseudo
	symbols named "$".
	(i386_intel_operand): Remove bogus handling of pseudo symbols
	named "$".
	* expr.c (current_location): Remove 'static' and local
	declaration.
	* expr.h (current_location): Declare.

gas/testsuite/
2010-06-22  Jan Beulich  <jbeulich@@novell.com>

	PR gas/11732
	* gas/i386/jump.d: Adjust.
	* gas/i386/jump.s: Add check for branch to 2+$.
@
text
@d1 7
@


1.1680
log
@gas:
	* config/tc-tic6x.h (tic6x_segment_info_type): Add field
	func_units_used.
	* config/tc-tic6x.c (tic6x_cons_align: Clear func_units_used.
	(md_assemble): Clear func_units_used for new execute packet.
	Check for duplicate functional units and update func_units_used
	for instructions using a functional unit.

gas/testsuite:
	* gas/tic6x/resource-func-unit-1.d,
	gas/tic6x/resource-func-unit-1.l,
	gas/tic6x/resource-func-unit-1.s,
	gas/tic6x/resource-func-unit-2.d,
	gas/tic6x/resource-func-unit-2.l,
	gas/tic6x/resource-func-unit-2.s: New.
@
text
@d1 6
@


1.1679
log
@        PR gas/11673
        * m68k-opc.c (m68k_opcodes): Remove move.l for isab and later.

        * gas/m68k/p11673.s: New test.
        * gas/m68k/all.exp: Run the new test.
@
text
@d1 9
@


1.1678
log
@2010-06-16  Vincent Rivire  <vincent.riviere@@freesbee.fr>

        PR binutils/11676
        * m68k-dis.c (print_insn_arg): Prefix float constants with #0e.

2010-06-16  Nick Clifton  <nickc@@redhat.com>

        PR binutils/11676
        * gas/m68k/pr11676.s: New test.
        * gas/m68k/pr11676.d: Expected disassembly.
        * gas/m68k/all.exp: Run the new test.
@
text
@d1 6
@


1.1677
log
@bfd:
	* elf-bfd.h (LEAST_KNOWN_OBJ_ATTRIBUTE): Decrease to 2.
	* elf32-tic6x.c (elf32_tic6x_obj_attrs_arg_type,
	elf32_tic6x_merge_arch_attributes, elf32_tic6x_merge_attributes,
	elf32_tic6x_merge_private_bfd_data): New.
	(bfd_elf32_bfd_merge_private_bfd_data,
	elf_backend_obj_attrs_arg_type, elf_backend_obj_attrs_section,
	elf_backend_obj_attrs_section_type, elf_backend_obj_attrs_vendor):
	Define.
	* elf32-tic6x.h (elf32_tic6x_merge_arch_attributes): Declare.

binutils:
	* readelf.c (display_tic6x_attribute, process_tic6x_specific):
	New.
	(process_arch_specific): Call process_tic6x_specific for
	EM_TI_C6000.

gas:
	* config/tc-tic6x.c: Include elf/tic6x.h.
	(tic6x_arch_attribute, tic6x_seen_insns): New.
	(tic6x_arch_table, tic6x_arches): Add attribute values.
	(tic6x_use_arch): Handle attribute settings.
	(tic6x_attributes_set_explicitly, s_tic6x_c6xabi_attribute,
	tic6x_attribute_table, tic6x_attributes,
	tic6x_convert_symbolic_attribute): New.
	(md_pseudo_table): Add c6xabi_attribute.
	(md_assemble): Set tic6x_seen_insns and tic6x_arch_attribute.
	(tic6x_set_attribute_int, tic6x_set_attributes): New.
	(tic6x_end): Call tic6x_set_attributes.
	* config/tc-tic6x.h (CONVERT_SYMBOLIC_ATTRIBUTE): Define.
	(tic6x_convert_symbolic_attribute): Declare.

gas/testsuite:
	* gas/elf/elf.exp: Set target_machine for tic6x-*-*.
	* gas/elf/section2.e-tic6x, gas/tic6x/attr-arch-directive-1.d,
	gas/tic6x/attr-arch-directive-1.s,
	gas/tic6x/attr-arch-directive-2.d,
	gas/tic6x/attr-arch-directive-2.s,
	gas/tic6x/attr-arch-directive-3.d,
	gas/tic6x/attr-arch-directive-3.s,
	gas/tic6x/attr-arch-directive-4.d,
	gas/tic6x/attr-arch-directive-4.s,
	gas/tic6x/attr-arch-directive-5.d,
	gas/tic6x/attr-arch-directive-5.s,
	gas/tic6x/attr-arch-opts-c62x.d, gas/tic6x/attr-arch-opts-c64x+.d,
	gas/tic6x/attr-arch-opts-c64x.d, gas/tic6x/attr-arch-opts-c674x.d,
	gas/tic6x/attr-arch-opts-c67x+.d, gas/tic6x/attr-arch-opts-c67x.d,
	gas/tic6x/attr-arch-opts-none-1.d,
	gas/tic6x/attr-arch-opts-none-2.d,
	gas/tic6x/attr-arch-opts-override-1.d,
	gas/tic6x/attr-arch-opts-override-2.d, gas/tic6x/empty.s: New.

include/elf:
	* tic6x-attrs.h: New.
	* tic6x.h: Include elf/tic6x-attrs.h for attribute table.
	(C6XABI_Tag_CPU_arch_none, C6XABI_Tag_CPU_arch_C62X,
	C6XABI_Tag_CPU_arch_C67X, C6XABI_Tag_CPU_arch_C67XP,
	C6XABI_Tag_CPU_arch_C64X, C6XABI_Tag_CPU_arch_C64XP,
	C6XABI_Tag_CPU_arch_C674X): Define.

ld:
	* emulparams/elf32_tic6x_le.sh (ATTRS_SECTIONS): Define.

ld/testsuite:
	* ld-elf/orphan3.d: Allow section names starting '_'.
	* ld-tic6x/attr-arch-c62x-c62x.d, ld-tic6x/attr-arch-c62x-c64x+.d,
	ld-tic6x/attr-arch-c62x-c64x.d, ld-tic6x/attr-arch-c62x-c674x.d,
	ld-tic6x/attr-arch-c62x-c67x+.d, ld-tic6x/attr-arch-c62x-c67x.d,
	ld-tic6x/attr-arch-c62x.s, ld-tic6x/attr-arch-c64x+-c62x.d,
	ld-tic6x/attr-arch-c64x+-c64x+.d, ld-tic6x/attr-arch-c64x+-c64x.d,
	ld-tic6x/attr-arch-c64x+-c674x.d,
	ld-tic6x/attr-arch-c64x+-c67x+.d, ld-tic6x/attr-arch-c64x+-c67x.d,
	ld-tic6x/attr-arch-c64x+.s, ld-tic6x/attr-arch-c64x-c62x.d,
	ld-tic6x/attr-arch-c64x-c64x+.d, ld-tic6x/attr-arch-c64x-c64x.d,
	ld-tic6x/attr-arch-c64x-c674x.d, ld-tic6x/attr-arch-c64x-c67x+.d,
	ld-tic6x/attr-arch-c64x-c67x.d, ld-tic6x/attr-arch-c64x.s,
	ld-tic6x/attr-arch-c674x-c62x.d, ld-tic6x/attr-arch-c674x-c64x+.d,
	ld-tic6x/attr-arch-c674x-c64x.d, ld-tic6x/attr-arch-c674x-c674x.d,
	ld-tic6x/attr-arch-c674x-c67x+.d, ld-tic6x/attr-arch-c674x-c67x.d,
	ld-tic6x/attr-arch-c674x.s, ld-tic6x/attr-arch-c67x+-c62x.d,
	ld-tic6x/attr-arch-c67x+-c64x+.d, ld-tic6x/attr-arch-c67x+-c64x.d,
	ld-tic6x/attr-arch-c67x+-c674x.d,
	ld-tic6x/attr-arch-c67x+-c67x+.d, ld-tic6x/attr-arch-c67x+-c67x.d,
	ld-tic6x/attr-arch-c67x+.s, ld-tic6x/attr-arch-c67x-c62x.d,
	ld-tic6x/attr-arch-c67x-c64x+.d, ld-tic6x/attr-arch-c67x-c64x.d,
	ld-tic6x/attr-arch-c67x-c674x.d, ld-tic6x/attr-arch-c67x-c67x+.d,
	ld-tic6x/attr-arch-c67x-c67x.d, ld-tic6x/attr-arch-c67x.s: New.
@
text
@d1 7
@


1.1676
log
@gas/
	* config/tc-ppc.c (md_assemble): Emit APUinfo section for
	PPC_OPCODE_E500.
gas/testsuite/
	* gas/ppc/e500.s: Add eieio, mbar and lwsync
	* gas/ppc/e500.d: Likewise.
include/opcode/
	* ppc.h (PPC_OPCODE_E500): Define.
opcodes/
	* ppc-dis.c (ppc_opts):  Remove PPC_OPCODE_E500MC from e500 and
	e500x2. Add PPC_OPCODE_E500 to e500 and e500x2
	* ppc-opc.c (powerpc_opcodes): Deprecate all opcodes on EFS which
	touch floating point regs and are enabled by COM, PPC or PPCCOM.
	Treat sync as msync on e500.  Treat eieio as mbar 1 on e500.
	Treat lwsync as msync on e500.
@
text
@d1 21
@


1.1675
log
@	* gas/config/tc-arm.c (operand_parse_code): Add OP_RRnpctw enum
	value.
	(parse_operands): Add support for OP_RRnpctw.
	(insns): Update floating-point load/store multiples so the
	first register is of type OP_RRnpctw.
	* gas/testsuite/gas/arm/vldm-arm.d: New test.
	* gas/testsuite/gas/arm/vldm-thumb-bad.d: Likewise.
	* gas/testsuite/gas/arm/vldm-thumb-bad.l: Likewise.
	* gas/testsuite/gas/arm/vldm.s: Likewise.
	* gas/testsuite/gas/arm/vldmw-arm-bad.d: Likewise.
	* gas/testsuite/gas/arm/vldmw-bad.l: Likewise.
	* gas/testsuite/gad/arm-vldmw-bad.s: Likewise.
	* gas/testsuite/gas/arm/vldmw-thumb-bad.d: Likewise.
@
text
@d1 5
@


1.1674
log
@	* gas/testsuite/gas/arm/thumb-eabi.d: Add case for divided syntax encoding of movs.
	* gas/testsuite/gas/arm/thumb.d: Likewise.
	* gas/testsuite/gas/arm/thumb.s: Likewise.
	* gas/testsuite/gas/arm/thumb2_it.d: Update for change in lsls/movs disassembly.
	* gas/testsuite/gas/arm/thumb2_it_auto.d: Liekwise.
	* gas/testsuite/gas/arm/thumb32.d: Likewise.
	* ld/testsuite/ld-arm/arm-call.d: Handle change in lsls/movs disassembly.
	* ld/testsuite/ld-arm/farcall-thumb-arm-short.d: Likewise.
	* ld/testsuite/ld-arm/farcall-thumb-thumb-blx-pic-veneer.d: Likewise.
	* ld/testsuite/ld-arm/farcall-thumb-thumb-blx.d: Likewise.
	* ld/testsuite/ld-arm/farcall-thumb-thumb-m-pic-veneer.d: Likewise.
	* ld/testsuite/ld-arm/farcall-thumb-thumb-m.d: Likewise.
	* ld/testsuite/ld-arm/farcall-thumb-thumb-pic-veneer.d: Likewise.
	* ld/testsuite/ld-arm/farcall-thumb-thumb.d: Likewise.
	* ld/testsuite/ld-arm/thumb2-bl-as-thumb1-bad-noeabi.d: Likewise.
	* ld/testsuite/ld-arm/thumb2-bl-as-thumb1-bad.d: Likewise.
	* ld/testsuite/ld-arm/thumb2-bl-bad-noeabi.d: Likewise.
	* ld/testsuite/ld-arm/thumb2-bl-bad.d: Likewise.
	* opcodes/arm-dis.c (thumb-opcodes): Add disassembly for movs.
@
text
@d1 11
@


1.1673
log
@	* gas/config/tc-arm.c (do_t_mov_cmp): In unified syntax encode movs as
	lsls and not adds.
	* gas/testsuite/gas/arm/thumb2_it_auto.d: Update for change in movs encoding.
	gas/arm/thumb2_it.d: Likewise.
	gas/arm/thumb32.d: Likewise.
@
text
@d1 8
@


1.1672
log
@        * config/tc-arm.c (encode_thumb2_ldmstm): Make warning about
        writeback when base register is in register list an error, and
        correct check.
        (do_t_ldmstm): Change warnings.

        * gas/arm/thumb2_ldmstm.d: Add new testcases.
        * gas/arm/thumb2_ldmstm.s: Likeiwse.
        * gas/arm/thumb2_ldmstm_bad.d: Add testcases to check for
        UNPREDICTABLE ldm/stm.
        * gas/arm/thumb2_ldmstm_bad.l: Likewise.
        * gas/arm/thumb2_ldmstm_bad.s: Likewise.
@
text
@d1 6
@


1.1671
log
@2010-05-26  Catherine Moore <clm@@codesourcery.com>
            David Ung  <davidu@@mips.com>

        * mips-opc.c: Change membership to I1 for instructions ssnop and
        ehb.

2010-05-26  Catherine Moore  <clm@@codesoucery.com>
            Maxim Kuvyrkov  <maxim@@codesourcery.com>

        * gas/mips/set-arch.d: Expect ehb.
@
text
@d1 9
@


1.1670
log
@	gas/
	* config/tc-mips.c (is_opcode_valid): Remove expansionp.
	(macro_build): Change invocation of is_opcode_valid.
	(mips_ip): Likewise.

	gas/testsuite/
	* gas/mips/mips-no-jalx.l: Delete.
	* gas/mips/mips-no-jalx.s: Delete.
	* gas/mips/mips-jalx-2.d: New.
	* gas/mips/mips-jalx-2.s: New.
	* gas/mips/mips.exp (mips-jalx-2): Run new test.
	(mips-no-jalx): Remove deleted test.

	include/
	* opcode/mips.h (INSN_MIPS16): Remove.

	opcodes/
	* mips-dis.c (mips_arch): Remove INSN_MIPS16.
	* mips-opc.c (I16): Remove.
	(mips_builtin_op): Reclassify jalx.
@
text
@d2 5
@


1.1669
log
@2010-05-21  Daniel Jacobowitz  <dan@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>
            Andrew Stubbs  <ams@@codesourcery.com>

        bfd/
        * config.bfd (sh-*-uclinux* | sh[12]-*-uclinux*): Add
        bfd_elf32_shl_vec, and FDPIC vectors to targ_selvecs.
        * configure.in: Handle FDPIC vectors.
        * elf32-sh-relocs.h: Add FDPIC and movi20 relocations.
        * elf32-sh.c (DEFAULT_STACK_SIZE): Define.
        (SYMBOL_FUNCDESC_LOCAL): Define.  Use it instead of
        SYMBOL_REFERENCES_LOCAL for function descriptors.
        (fdpic_object_p): New.
        (sh_reloc_map): Add FDPIC and movi20 relocations.
        (sh_elf_info_to_howto, sh_elf_relocate_section): Handle new invalid
        range.
        (struct elf_sh_plt_info): Add got20 and short_plt.  Update all
        definitions.
        (FDPIC_PLT_ENTRY_SIZE, FDPIC_PLT_LAZY_OFFSET): Define.
        (fdpic_sh_plt_entry_be, fdpic_sh_plt_entry_le, fdpic_sh_plts): New.
        (FDPIC_SH2A_PLT_ENTRY_SIZE, FDPIC_SH2A_PLT_LAZY_OFFSET): Define.
        (fdpic_sh2a_plt_entry_be, fdpic_sh2a_plt_entry_le)
        (fdpic_sh2a_short_plt_be, fdpic_sh2a_short_plt_le, fdpic_sh2a_plts):
        New.
        (get_plt_info): Handle FDPIC.
        (MAX_SHORT_PLT): Define.
        (get_plt_index, get_plt_offset): Handle short_plt.
        (union gotref): New.
        (struct elf_sh_link_hash_entry): Add funcdesc, rename tls_type to
        got_type and adjust all uses.  Add GOT_FUNCDESC.
        (struct sh_elf_obj_tdata): Add local_funcdesc.  Rename
        local_got_tls_type to local_got_type.
        (sh_elf_local_got_type): Renamed from sh_elf_local_got_tls_type.  All
        users changed.
        (sh_elf_local_funcdesc): Define.
        (struct elf_sh_link_hash_table): Add sfuncdesc, srelfuncdesc, fdpic_p,
        and srofixup.
        (sh_elf_link_hash_newfunc): Initialize new fields.
        (sh_elf_link_hash_table_create): Set fdpic_p.
        (sh_elf_omit_section_dynsym): New.
        (create_got_section): Create .got.funcdesc, .rela.got.funcdesc
        and .rofixup.
        (allocate_dynrelocs): Allocate local function descriptors and space
        for R_SH_FUNCDESC-related relocations, and for rofixups.
        Handle GOT_FUNCDESC.  Create fixups.  Handle GOT entries which
        require function descriptors.
        (sh_elf_always_size_sections): Handle PT_GNU_STACK and __stacksize.
        (sh_elf_modify_program_headers): New.
        (sh_elf_size_dynamic_sections): Allocate function descriptors for
        local symbols.  Allocate .got.funcdesc contents.  Allocate rofixups.
        Handle local GOT entries of type GOT_FUNCDESC.  Create fixups for
        local GOT entries.  Ensure that FDPIC libraries always have a PLTGOT
        entry in the .dynamic section.
        (sh_elf_add_dyn_reloc, sh_elf_got_offset, sh_elf_initialize_funcdesc)
        (sh_elf_add_rofixup, sh_elf_osec_to_segment)
        (sh_elf_osec_readonly_p, install_movi20_field): New functions.
        (sh_elf_relocate_section): Handle new relocations, R_SH_FUNCDESC,
        R_SH_GOTFUNCDESC and R_SH_GOTOFFFUNCDESC.  Use sh_elf_got_offset
        and .got.plt throughout to find _GLOBAL_OFFSET_TABLE_.  Add rofixup
        read-only section warnings.  Handle undefined weak symbols.  Generate
        fixups for R_SH_DIR32 and GOT entries.  Check for cross-segment
        relocations and clear EF_SH_PIC.  Handle 20-bit relocations.
        Always generate R_SH_DIR32 for FDPIC instead of R_SH_RELATIVE.
        (sh_elf_gc_sweep_hook): Handle R_SH_FUNCDESC, R_SH_GOTOFF20,
        R_SH_GOTFUNCDESC, R_SH_GOTFUNCDESC20, and R_SH_GOTOFFFUNCDESC.
        Handle 20-bit relocations.
        (sh_elf_copy_indirect_symbol): Copy function descriptor reference
        counts.
        (sh_elf_check_relocs): Handle new relocations.  Make symbols
        dynamic for FDPIC relocs.  Account for rofixups.  Error for FDPIC
        symbol mismatches.  Allocate a GOT for R_SH_DIR32. Allocate fixups
        for R_SH_DIR32.
        (sh_elf_copy_private_data): Copy PT_GNU_STACK size.
        (sh_elf_merge_private_data): Copy initial flags.  Do not clobber
        non-mach flags.  Set EF_SH_PIC for FDPIC.  Reject FDPIC mismatches.
        (sh_elf_finish_dynamic_symbol): Do not handle got_funcdesc entries
        here.  Rename sgot to sgotplt and srel to srelplt.  Handle short_plt,
        FDPIC descriptors, and got20.  Create R_SH_FUNCDESC_VALUE for FDPIC.
        Use install_movi20_field.  Rename srel to srelgot.  Always generate
        R_SH_DIR32 for FDPIC instead of R_SH_RELATIVE.
        (sh_elf_finish_dynamic_sections): Fill in the GOT pointer in rofixup.
        Do not fill in reserved GOT entries for FDPIC.  Correct DT_PLTGOT.
        Rename sgot to sgotplt.  Assert that the right number of rofixups
        and dynamic relocations were allocated.
        (sh_elf_use_relative_eh_frame, sh_elf_encode_eh_address): New.
        (elf_backend_omit_section_dynsym): Use sh_elf_omit_section_dynsym.
        (elf_backend_can_make_relative_eh_frame)
        (elf_backend_can_make_lsda_relative_eh_frame)
        (elf_backend_encode_eh_address): Define.
        (TARGET_BIG_SYM, TARGET_BIG_NAME, TARGET_LITTLE_SYM)
        (TARGET_LITTLE_NAME, elf_backend_modify_program_headers, elf32_bed):
        Redefine for FDPIC vector.
        * reloc.c: Add SH FDPIC and movi20 relocations.
        * targets.c (_bfd_target_vector): Add FDPIC vectors.
        * configure, bfd-in2.h, libbfd.h: Regenerated.

        binutils/
        * readelf.c (get_machine_flags): Handle EF_SH_PIC and EF_SH_FDPIC.

        gas/
        * config/tc-sh.c (sh_fdpic): New.
        (sh_check_fixup): Handle relocations on movi20.
        (parse_exp): Do not reject PIC operators here.
        (build_Mytes): Check for unhandled PIC operators here.  Use
        sh_check_fixup for movi20.
        (enum options): Add OPTION_FDPIC.
        (md_longopts, md_parse_option, md_show_usage): Add --fdpic.
        (sh_fix_adjustable, md_apply_fix): Handle FDPIC and movi20 relocations.
        (sh_elf_final_processing): Handle --fdpic.
        (sh_uclinux_target_format): New.
        (sh_parse_name): Handle FDPIC relocation operators.
        * config/tc-sh.h (TARGET_FORMAT): Define specially for TE_UCLINUX.
        (sh_uclinux_target_format): Declare for TE_UCLINUX.
        * configure.tgt (sh-*-uclinux* | sh[12]-*-uclinux*): Set
        em=uclinux.
        * doc/c-sh.texi (SH Options): Document --fdpic.

        gas/testsuite/
        * gas/sh/basic.exp: Run new tests.  Handle uClinux like Linux.
        * gas/sh/fdpic.d: New file.
        * gas/sh/fdpic.s: New file.
        * gas/sh/reg-prefix.d: Force big-endian.
        * gas/sh/sh2a-pic.d: New file.
        * gas/sh/sh2a-pic.s: New file.
        * lib/gas-defs.exp (is_elf_format): Include sh*-*-uclinux*.

        include/elf/
        * sh.h (EF_SH_PIC, EF_SH_FDPIC): Define.
        (R_SH_FIRST_INVALID_RELOC_6, R_SH_LAST_INVALID_RELOC_6): New.  Adjust
        other invalid ranges.
        (R_SH_GOT20, R_SH_GOTOFF20, R_SH_GOTFUNCDESC, R_SH_GOTFUNCDESC20)
        (R_SH_GOTOFFFUNCDESC, R_SH_GOTOFFFUNCDESC20, R_SH_FUNCDESC)
        (R_SH_FUNCDESC_VALUE): New.

        ld/
        * Makefile.am (ALL_EMULATIONS): Add eshelf_fd.o and eshlelf_fd.o.
        (eshelf_fd.c, eshlelf_fd.c): New rules.
        * Makefile.in: Regenerate.
        * configure.tgt (sh-*-uclinux*): Add shelf_fd and shlelf_fd
        emulations.
        * emulparams/shelf_fd.sh: New file.
        * emulparams/shlelf_fd.sh: New file.
        * emulparams/shlelf_linux.sh: Update comment.

        ld/testsuite/
        * ld-sh/sh.exp: Handle uClinux like Linux.
        * lib/ld-lib.exp (is_elf_format): Include sh*-*-uclinux*.
        * ld-sh/fdpic-funcdesc-shared.d: New file.
        * ld-sh/fdpic-funcdesc-shared.s: New file.
        * ld-sh/fdpic-funcdesc-static.d: New file.
        * ld-sh/fdpic-funcdesc-static.s: New file.
        * ld-sh/fdpic-gotfuncdesc-shared.d: New file.
        * ld-sh/fdpic-gotfuncdesc-shared.s: New file.
        * ld-sh/fdpic-gotfuncdesc-static.d: New file.
        * ld-sh/fdpic-gotfuncdesc-static.s: New file.
        * ld-sh/fdpic-gotfuncdesci20-shared.d: New file.
        * ld-sh/fdpic-gotfuncdesci20-shared.s: New file.
        * ld-sh/fdpic-gotfuncdesci20-static.d: New file.
        * ld-sh/fdpic-gotfuncdesci20-static.s: New file.
        * ld-sh/fdpic-goti20-shared.d: New file.
        * ld-sh/fdpic-goti20-shared.s: New file.
        * ld-sh/fdpic-goti20-static.d: New file.
        * ld-sh/fdpic-goti20-static.s: New file.
        * ld-sh/fdpic-gotofffuncdesc-shared.d: New file.
        * ld-sh/fdpic-gotofffuncdesc-shared.s: New file.
        * ld-sh/fdpic-gotofffuncdesc-static.d: New file.
        * ld-sh/fdpic-gotofffuncdesc-static.s: New file.
        * ld-sh/fdpic-gotofffuncdesci20-shared.d: New file.
        * ld-sh/fdpic-gotofffuncdesci20-shared.s: New file.
        * ld-sh/fdpic-gotofffuncdesci20-static.d: New file.
        * ld-sh/fdpic-gotofffuncdesci20-static.s: New file.
        * ld-sh/fdpic-gotoffi20-shared.d: New file.
        * ld-sh/fdpic-gotoffi20-shared.s: New file.
        * ld-sh/fdpic-gotoffi20-static.d: New file.
        * ld-sh/fdpic-gotoffi20-static.s: New file.
        * ld-sh/fdpic-plt-be.d: New file.
        * ld-sh/fdpic-plt-le.d: New file.
        * ld-sh/fdpic-plt.s: New file.
        * ld-sh/fdpic-plti20-be.d: New file.
        * ld-sh/fdpic-plti20-le.d: New file.
        * ld-sh/fdpic-stack-default.d: New file.
        * ld-sh/fdpic-stack-size.d: New file.
        * ld-sh/fdpic-stack.s: New file.
@
text
@d1 9
@


1.1668
log
@Implement generic SHF_EXCLUDE.

bfd/

2010-05-18  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11600
	* elf.c (_bfd_elf_make_section_from_shdr): Handle SHF_EXCLUDE
	(elf_fake_sections): Likewise.

	* elf32-i370.c (i370_elf_section_from_shdr): Don't handle
	SHF_EXCLUDE here.
	* elf32-ppc.c (ppc_elf_fake_sections): Likewise.

binutils/

2010-05-18  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11600
	* readelf.c (get_elf_section_flags): Treat SHF_EXCLUDE as a
	generic flag.

binutils/testsuite/

2010-05-18  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11600
	* binutils-all/objcopy.exp: Run exclude-1a and exclude-1b for
	ELF targets.

	* binutils-all/exclude-1.s: New.
	* binutils-all/exclude-1a.d: Likewise.
	* binutils-all/exclude-1b.d: Likewise.

gas/

2010-05-18  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11600
	* obj-elf.c (obj_elf_change_section): Handle SHF_EXCLUDE.
	(obj_elf_parse_section_letters): Likewise.
	(obj_elf_section_word): Likewise.

	* config/tc-ppc.c (ppc_section_letter): Removed.
	(ppc_section_word): Likewise.
	* config/tc-ppc.h (ppc_section_letter): Likewise.
	(ppc_section_word): Likewise.
	(md_elf_section_letter): Likewise.
	(md_elf_section_word): Likewise.

	* doc/as.texinfo: Document `e' and `#exclude'.

gas/testsuite/

2010-05-18  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11600
	* gas/elf/elf.exp: Run section8.

	* gas/elf/section8.d: New.
	* gas/elf/section8.s: Likewise.

include/elf/

2010-05-18  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11600
	* common.h (SHF_EXCLUDE): New.

	* i370.h (SHF_EXCLUDE): Removed.
	* or32.h (SHF_EXCLUDE): Likewise.
	* ppc.h (SHF_EXCLUDE): Likewise.
	* sparc.h (SHF_EXCLUDE): Likewise.

ld/testsuite/

2010-05-18  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11600
	* ld-elf/exclude3.s: New.
	* ld-elf/exclude3a.d: Likewise.
	* ld-elf/exclude3b.d: Likewise.
	* ld-elf/exclude3c.d: Likewise.
@
text
@d1 12
@


1.1667
log
@	* config/tc-arm.c (md_assemble): Clarify current mode in error
	messages about unsupported instructions.
	(UT): Delete #define.
	(insns): Adjust cbnz, cbz appropriately.
testsuite:
	* gas/arm/armv1-bad.l: Adjust expected error text.
	* gas/arm/arch7em-bad.l: Likewise.
	* gas/arm/arch7m-bad.l: Likewise.
	* gas/arm/thumb-w-bad.l: Likewise.
	* gas/arm/arm7-bad.d: New.
	* gas/arm/arm7-bad.l: New.
	* gas/arm/arm7-bad.s: New.
@
text
@d1 8
@


1.1666
log
@	* gas/all/gas.exp: Don't run byte test on powerpc.
@
text
@d1 10
@


1.1665
log
@Correct wclr encoding.
@
text
@d3 2
@


1.1664
log
@2010-05-10  Andrew Stubbs  <ams@@codesourcery.com>

        gas/
        * config/tc-arm.c (aeabi_set_public_attributes): Set Tag_DIV_use.

        gas/testsuite/
        * gas/arm/attr-cpu-directive.d: Add Tag_DIV_use.
        * gas/arm/attr-default.d: Likewise.
        * gas/arm/attr-march-armv1.d: Likewise.
        * gas/arm/attr-march-armv2.d: Likewise.
        * gas/arm/attr-march-armv2a.d: Likewise.
        * gas/arm/attr-march-armv2s.d: Likewise.
        * gas/arm/attr-march-armv3.d: Likewise.
        * gas/arm/attr-march-armv3m.d: Likewise.
        * gas/arm/attr-march-armv4.d: Likewise.
        * gas/arm/attr-march-armv4t.d: Likewise.
        * gas/arm/attr-march-armv4txm.d: Likewise.
        * gas/arm/attr-march-armv4xm.d: Likewise.
        * gas/arm/attr-march-armv5.d: Likewise.
        * gas/arm/attr-march-armv5t.d: Likewise.
        * gas/arm/attr-march-armv5te.d: Likewise.
        * gas/arm/attr-march-armv5tej.d: Likewise.
        * gas/arm/attr-march-armv5texp.d: Likewise.
        * gas/arm/attr-march-armv5txm.d: Likewise.
        * gas/arm/attr-march-armv6-m.d: Likewise.
        * gas/arm/attr-march-armv6.d: Likewise.
        * gas/arm/attr-march-armv6j.d: Likewise.
        * gas/arm/attr-march-armv6k.d: Likewise.
        * gas/arm/attr-march-armv6kt2.d: Likewise.
        * gas/arm/attr-march-armv6t2.d: Likewise.
        * gas/arm/attr-march-armv6z.d: Likewise.
        * gas/arm/attr-march-armv6zk.d: Likewise.
        * gas/arm/attr-march-armv6zkt2.d: Likewise.
        * gas/arm/attr-march-armv6zt2.d: Likewise.
        * gas/arm/attr-march-armv7-a.d: Likewise.
        * gas/arm/attr-march-armv7.d: Likewise.
        * gas/arm/attr-march-armv7a.d: Likewise.
        * gas/arm/attr-march-iwmmxt.d: Likewise.
        * gas/arm/attr-march-iwmmxt2.d: Likewise.
        * gas/arm/attr-march-marvell-f.d: Likewise.
        * gas/arm/attr-march-xscale.d: Likewise.
        * gas/arm/attr-mcpu.d: Likewise.
        * gas/arm/attr-mfpu-arm1020e.d: Likewise.
        * gas/arm/attr-mfpu-arm1020t.d: Likewise.
        * gas/arm/attr-mfpu-arm1136jf-s.d: Likewise.
        * gas/arm/attr-mfpu-arm1136jfs.d: Likewise.
        * gas/arm/attr-mfpu-arm7500fe.d: Likewise.
        * gas/arm/attr-mfpu-fpa.d: Likewise.
        * gas/arm/attr-mfpu-fpa10.d: Likewise.
        * gas/arm/attr-mfpu-fpa11.d: Likewise.
        * gas/arm/attr-mfpu-fpe.d: Likewise.
        * gas/arm/attr-mfpu-fpe2.d: Likewise.
        * gas/arm/attr-mfpu-fpe3.d: Likewise.
        * gas/arm/attr-mfpu-maverick.d: Likewise.
        * gas/arm/attr-mfpu-neon-fp16.d: Likewise.
        * gas/arm/attr-mfpu-neon.d: Likewise.
        * gas/arm/attr-mfpu-softfpa.d: Likewise.
        * gas/arm/attr-mfpu-softvfp+vfp.d: Likewise.
        * gas/arm/attr-mfpu-softvfp.d: Likewise.
        * gas/arm/attr-mfpu-vfp.d: Likewise.
        * gas/arm/attr-mfpu-vfp10-r0.d: Likewise.
        * gas/arm/attr-mfpu-vfp10.d: Likewise.
        * gas/arm/attr-mfpu-vfp3.d: Likewise.
        * gas/arm/attr-mfpu-vfp9.d: Likewise.
        * gas/arm/attr-mfpu-vfpv2.d: Likewise.
        * gas/arm/attr-mfpu-vfpv3-d16.d: Likewise.
        * gas/arm/attr-mfpu-vfpv3.d: Likewise.
        * gas/arm/attr-mfpu-vfpv4-d16.d: Likewise.
        * gas/arm/attr-mfpu-vfpv4.d: Likewise.
        * gas/arm/attr-mfpu-vfpxd.d: Likewise.
        * gas/arm/attr-order.d: Likewise.
        * gas/arm/attr-override-cpu-directive.d: Likewise.
        * gas/arm/attr-override-mcpu.d: Likewise.
        * gas/arm/eabi_attr_1.d: Likewise.

        ld/testsuite/
        * ld-arm/attr-merge-2.attr: Add Tag_DIV_use.
        * ld-arm/attr-merge-2a.s: Likewise.
        * ld-arm/attr-merge-2b.s: Likewise.
        * ld-arm/attr-merge-3a.s: Likewise.
        * ld-arm/attr-merge-3b.s: Likewise.
        * ld-arm/attr-merge-4.attr: Likewise.
        * ld-arm/attr-merge-5.attr: Likewise.
        * ld-arm/attr-merge-6.attr: Likewise.
        * ld-arm/attr-merge-7.attr: Likewise.
        * ld-arm/attr-merge-arch-1.attr: Likewise.
        * ld-arm/attr-merge-arch-2.attr: Likewise.
        * ld-arm/attr-merge-unknown-2.d: Likewise.
        * ld-arm/attr-merge-unknown-2r.d: Likewise.
        * ld-arm/attr-merge-unknown-3.d: Likewise.
        * ld-arm/attr-merge-vfp-1.d: Likewise.
        * ld-arm/attr-merge-vfp-1r.d: Likewise.
        * ld-arm/attr-merge-vfp-2.d: Likewise.
        * ld-arm/attr-merge-vfp-2r.d: Likewise.
        * ld-arm/attr-merge-vfp-3.d: Likewise.
        * ld-arm/attr-merge-vfp-3r.d: Likewise.
        * ld-arm/attr-merge-vfp-4.d: Likewise.
        * ld-arm/attr-merge-vfp-4r.d: Likewise.
        * ld-arm/attr-merge-vfp-5.d: Likewise.
        * ld-arm/attr-merge-vfp-5r.d: Likewise.
        * ld-arm/attr-merge-wchar-00-nowarn.d: Likewise.
        * ld-arm/attr-merge-wchar-00.d: Likewise.
        * ld-arm/attr-merge-wchar-02-nowarn.d: Likewise.
        * ld-arm/attr-merge-wchar-02.d: Likewise.
        * ld-arm/attr-merge-wchar-04-nowarn.d: Likewise.
        * ld-arm/attr-merge-wchar-04.d: Likewise.
        * ld-arm/attr-merge-wchar-20-nowarn.d: Likewise.
        * ld-arm/attr-merge-wchar-20.d: Likewise.
        * ld-arm/attr-merge-wchar-22-nowarn.d: Likewise.
        * ld-arm/attr-merge-wchar-22.d: Likewise.
        * ld-arm/attr-merge-wchar-24-nowarn.d: Likewise.
        * ld-arm/attr-merge-wchar-40-nowarn.d: Likewise.
        * ld-arm/attr-merge-wchar-40.d: Likewise.
        * ld-arm/attr-merge-wchar-42-nowarn.d: Likewise.
        * ld-arm/attr-merge-wchar-44-nowarn.d: Likewise.
        * ld-arm/attr-merge-wchar-44.d: Likewise.
        * ld-arm/attr-merge.attr: Likewise.

2010-04-07  Jie Zhang  <jie@@codesourcery.com>

        gas/
        * config/tc-arm.c (aeabi_set_public_attributes): Set
        Tag_ABI_HardFP_use to 1 if a single precision FPU is selected.

        gas/testsuite/
        * gas/arm/attr-mfpu-vfpxd.d: New test.

        bfd/
        * elf32-arm.c (elf32_arm_merge_eabi_attributes): Merge
        Tag_ABI_HardFP_use correctly.

        ld/testsuite/
        * ld-arm/attr-merge-vfp-6.d: New test.
        * ld-arm/attr-merge-vfp-6r.d: New test.
        * ld-arm/attr-merge-vfpv3xd.s: New test.
        * ld-arm/arm-elf.exp: Add attr-merge-vfp-6 and attr-merge-vfp-6r.

2010-05-11  Matthew Gretton-Dann  <matthew.gretton-dann@@arm.com>

        * arm-dis.c (thumb_opcodes): Update ldmia entry to use new %W
        format.
        (print_insn_thumb16): Add support for new %W format.

        * gas/arm/thumb32.d: Fix expected disassembly of ldmia
          instruction.
@
text
@d1 4
@


1.1663
log
@	* read.c (cons_worker): Detect and reject unexpected string argument.

	testsuite/
	* gas/all/byte.s: New.
	* gas/all/byte.l: New.
	* gas/all/byte.d: New.
	* gas/all/gas.exp: Add it.
@
text
@d1 80
@


1.1662
log
@        * write.c (fixup_segment): Do not assume we know the section a
        defined weak symbol is in.
        * config/tc-arm.c (relax_adr, relax_branch, md_apply_fix): Treat
        weak symbols as not known to be in the same section, even if they
        are defined.

        * gas/arm/weakdef-1.s: New.
        * gas/arm/weakdef-1.d: New.
        * gas/arm/weakdef-2.s: New.
        * gas/arm/weakdef-2.d: New.
        * gas/arm/weakdef-2.l: New.
@
text
@d1 7
@


1.1661
log
@gas:
	* config/tc-tic6x.h (tic6x_label_list): New.
	(tic6x_segment_info_type): Keep a list of labels and a current
	frag instead of a boolean for whether labels seen and a count of
	instructions.
	(tic6x_frag_info, TC_FRAG_TYPE, TC_FRAG_INIT, tic6x_frag_init,
	md_do_align, tic6x_do_align, md_end, tic6x_end): New.
	* config/tc-tic6x.c (tic6x_frob_label): Put label on list.
	(tic6x_cleanup): Correct comment.
	(tic6x_free_label_list): New.
	(tic6x_cons_align): Free label list and update for
	tic6x_segment_info_type changes.
	(tic6x_do_align): New.
	(md_assemble): Handle list of labels and saved frag for execute
	packet.  Create machine-dependent frag for new execute packet and
	adjust labels accordingly.
	(tic6x_adjust_section, tic6x_frag_init, tic6x_end): New.
	(md_convert_frag, md_estimate_size_before_relax): Update comments.

gas/testsuite:
	* gas/tic6x/align-1-be.d, gas/tic6x/align-1.d,
	gas/tic6x/align-1.s, gas/tic6x/align-2.d, gas/tic6x/align-2.s:
	New.
@
text
@d1 8
@


1.1660
log
@Restore "call|jmp [xtrn]" in x86 assembler.

gas/

2010-04-24  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11535
	* config/tc-i386-intel.c (intel_state): Add is_indirect.
	(i386_intel_operand): Initialize intel_state.is_indirect.  Check
	intel_state.is_indirect for "call|jmp [symbol]".

gas/testsuite/

2010-04-24  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11535
	* gas/i386/intelok.s: Add tests for "call|jmp [xtrn]".
	* gas/i386/intelok.d: Updated.
@
text
@d1 6
@


1.1659
log
@gas/testsuite:
	* gas/tic6x/insns-c674x.s, gas/tic6x/insns-c674x.d: Also test
	"b .S2 b3".

include/opcode:
	* tic6x-insn-formats.h (s_branch): Correct typo in bitmask.
@
text
@d1 6
@


1.1658
log
@Properly handle ".equ symbol, reg + NUM" in x86 Intel syntax.

gas/

2010-04-21  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11509
	* config/tc-i386-intel.c (i386_intel_simplify_register): New.
	(i386_intel_simplify): Use i386_is_register and
	i386_intel_simplify_register. Set X_md for O_register and
	check X_md for O_constant.
	(i386_intel_operand): Use i386_is_register.

	* config/tc-i386.c (i386_is_register): New.
	(x86_cons): Initialize the X_md field.  Use i386_is_register.
	(parse_register): Use i386_is_register.
	(tc_x86_parse_to_dw2regnum): Likewise.

gas/testsuite/

2010-04-21  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11509
	* gas/i386/equ.s: Add tests for ".equ symbol, reg + NUM".
	* gas/i386/equ.d: Updated.
@
text
@d1 5
@


1.1657
log
@        PR gas/11507
        * macro.c (macro_expand_body): Do not treat LOCAL as a keyword in
        altmacro mode if found inside a quoted string.

        * gas/macros/altmacro.s: New test.
        * gas/macros/altmacro.d: Expected output.
@
text
@d1 6
@


1.1656
log
@        PR gas/11395
        * config/tc-hppa.c (pa_ip): Do not allow 64-bit add condition
        matcher to accept and unconditional 32-bit add instruction.
        (pa_build_unwind_subspace): Cope with error conditions not
        allowing the start symbol to be set.

        * gas/hppa/basic/add2.s: Add test of simple 32-bit instruction.
        * gas/hppa/basic/basic.exp (do_add2): Add grep for expected
        disassembly.
@
text
@d1 6
@


1.1655
log
@	* ld/testsuite/ld-arm/attr-merge-2.attr: Update for changes in attribute output.
	* ld/testsuite/ld-arm/attr-merge-3.attr: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-1.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-1r.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-2.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-2r.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-3.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-3r.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-4.d: Likeiwse.
	* ld/testsuite/ld-arm/attr-merge-vfp-4r.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-5.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-vfp-5r.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-00-nowarn.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-00.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-02-nowarn.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-02.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-04-nowarn.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-04.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-20-nowarn.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-20.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-22-nowarn.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-22.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-24-nowarn.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-40-nowarn.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-40.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-42-nowarn.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-44-nowarn.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge-wchar-44.d: Likewise.
	* ld/testsuite/ld-arm/attr-merge.attr: Likewise.
	* binutils/readelf.c (arm_attr_tag_FP_arch): Rename from arm_attr_tag_VFP_arch.
	(arm_attr_tag_ABI_align8_needed): Remove.
	(arm_attr_tag_ABI_align8_preserved): Remove.
	(arm_attr_tag_ABI_HardFP_use): Update text strings.
	(arm_attr_public_tags): Add strings for ABI v2.08 attribute tags.
	(display_arm_attribute): Add decoding of ABI v2.08 attributes.
	* include/elf/arm.h (Tag_FP_arch, Tag_ABI_align_needed, Tag_ABI_align_preserved,
	Tag_FP_HP_extension): Add new ABI attribute tags.
	* gas/config/tc-arm.c (arm_convert_symbolic_attribute): Add support for
	new tag names in v2.08 of ARM ABI.
	* gas/doc/c-arm.texi: Document new tag names in ABI.
	* gas/testsuite/gas/arm/attr-mcpu.d: Update for new attribute tag names.
	* gas/testsuite/gas/arm/attr-mfpu-arm1020e.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-arm1020t.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-arm1136jf-s.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-arm1136jfs.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-neon-fp16.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-neon.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-softvfp+vfp.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-vfp.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-vfp10-r0.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-vfp10.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-vfp3.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-vfp9.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-vfpv2.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-vfpv3-d16.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-vfpv3.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-vfpv4-d16.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-vfpv4.d: Likewise.
	* gas/testsuite/gas/arm/attr-mfpu-vfpxd.d: Likewise.
	* gas/testsuite/gas/arm/attr-names.d: Add test to make sure all attribute names
	are recognised.
	* gas/testsuite/gas/arm/attr-names.s: Likewise.
@
text
@d1 7
d29 1
a29 1
	* gas/arm/attr-names.d: Add test to make sure all attribute names 
@


1.1654
log
@	* config/tc-arm.c (make_mapping_symbol): Handle the case
	that multiple mapping symbols have the same value 0.

	testsuite/
	* gas/arm/mapmisc.s: Test multiple mapping symbols have
	the same value 0.
@
text
@d1 25
@


1.1653
log
@opcodes/
	* ppc-opc.c (RBOPT): New define.
	("dccci"): Enable for PPCA2.  Make operands optional.
	("iccci"): Likewise.  Do not deprecate for PPC476.

gas/testsuite/
	* gas/ppc/476.d ("dccci", "dci", "iccci"): Add tests.
	* gas/ppc/476.s: Likewise.
	* gas/ppc/a2.d ("dccci", "dci", "iccci", "ici"): Add tests.
	* gas/ppc/a2.s: Likewise.
@
text
@d1 5
@


1.1652
log
@bfd:
	* Makefile.am (ALL_MACHINES): Add cpu-tic6x.lo.
	(ALL_MACHINES_CFILES): Add cpu-tic6x.c.
	(BFD32_BACKENDS): Add elf32-tic6x.lo.
	(BFD32_BACKENDS_CFILES): Add elf32-tic6x.c.
	* Makefile.in: Regenerate.
	* archures.c (bfd_arch_tic6x, bfd_tic6x_arch): New.
	(bfd_archures_list): Update.
	* config.bfd (tic6x-*-elf): New.
	* configure.in (bfd_elf32_tic6x_be_vec, bfd_elf32_tic6x_le_vec):
	New.
	* configure: Regenerate.
	* cpu-tic6x.c, elf32-tic6x.c: New.
	* reloc.c (BFD_RELOC_C6000_PCR_S21, BFD_RELOC_C6000_PCR_S12,
	BFD_RELOC_C6000_PCR_S10, BFD_RELOC_C6000_PCR_S7,
	BFD_RELOC_C6000_ABS_S16, BFD_RELOC_C6000_ABS_L16,
	BFD_RELOC_C6000_ABS_H16, BFD_RELOC_C6000_SBR_U15_B,
	BFD_RELOC_C6000_SBR_U15_H, BFD_RELOC_C6000_SBR_U15_W,
	BFD_RELOC_C6000_SBR_S16, BFD_RELOC_C6000_SBR_L16_B,
	BFD_RELOC_C6000_SBR_L16_H, BFD_RELOC_C6000_SBR_L16_W,
	BFD_RELOC_C6000_SBR_H16_B, BFD_RELOC_C6000_SBR_H16_H,
	BFD_RELOC_C6000_SBR_H16_W, BFD_RELOC_C6000_SBR_GOT_U15_W,
	BFD_RELOC_C6000_SBR_GOT_L16_W, BFD_RELOC_C6000_SBR_GOT_H16_W,
	BFD_RELOC_C6000_DSBT_INDEX, BFD_RELOC_C6000_PREL31,
	BFD_RELOC_C6000_COPY, BFD_RELOC_C6000_ALIGN,
	BFD_RELOC_C6000_FPHEAD, BFD_RELOC_C6000_NOCMP): New.
	* targets.c (bfd_elf32_tic6x_be_vec, bfd_elf32_tic6x_le_vec): New.
	(_bfd_target_vector): Update.
	* bfd-in2.h, libbfd.h: Regenerate.

binutils:
	* MAINTAINERS: Add self as TI C6X maintainer.
	* NEWS: Add news entry for TI C6X support.
	* readelf.c: Include elf/tic6x.h.
	(guess_is_rela): Handle EM_TI_C6000.
	(dump_relocations): Likewise.
	(get_tic6x_dynamic_type): New.
	(get_dynamic_type): Call it.
	(get_machine_flags): Handle EF_C6000_REL.
	(get_osabi_name): Handle machine-specific values only for relevant
	machines.  Handle C6X values.
	(get_tic6x_segment_type): New.
	(get_segment_type): Call it.
	(get_tic6x_section_type_name): New.
	(get_section_type_name): Call it.
	(is_32bit_abs_reloc, is_16bit_abs_reloc, is_none_reloc): Handle
	EM_TI_C6000.

gas:
	* Makefile.am (TARGET_CPU_CFILES): Add config/tc-tic6x.c.
	(TARGET_CPU_HFILES): Add config/tc-tic6x.h.
	* Makefile.in: Regenerate.
	* NEWS: Add news entry for TI C6X support.
	* app.c (do_scrub_chars): Handle "||^" for TI C6X.  Handle
	TC_PREDICATE_START_CHAR and TC_PREDICATE_END_CHAR.  Keep spaces in
	operands if TC_KEEP_OPERAND_SPACES.
	* configure.tgt (tic6x-*-*): New.
	* config/tc-ia64.h (TC_PREDICATE_START_CHAR,
	TC_PREDICATE_END_CHAR): Define.
	* config/tc-tic6x.c, config/tc-tic6x.h: New.
	* doc/Makefile.am (CPU_DOCS): Add c-tic6x.texi.
	* doc/Makefile.in: Regenerate.
	* doc/all.texi (TIC6X): Define.
	* doc/as.texinfo: Add TI C6X documentation.  Include c-tic6x.texi.
	* doc/c-tic6x.texi: New.

gas/testsuite:
	* gas/tic6x: New directory and testcases.

include:
	* dis-asm.h (print_insn_tic6x): Declare.

include/elf:
	* common.h (ELFOSABI_C6000_ELFABI, ELFOSABI_C6000_LINUX): Define.
	* tic6x.h: New.

include/opcode:
	* tic6x-control-registers.h, tic6x-insn-formats.h,
	tic6x-opcode-table.h, tic6x.h: New.

ld:
	* Makefile.am (ALL_EMULATIONS): Add eelf32_tic6x_be.o and
	eelf32_tic6x_le.o.
	(eelf32_tic6x_be.c, eelf32_tic6x_le.c): New.
	* NEWS: Add news entry for TI C6X support.
	* configure.tgt (tic6x-*-*): New.
	* emulparams/elf32_tic6x_be.sh, emulparams/elf32_tic6x_le.sh: New.

ld/testsuite:
	* ld-elf/flags1.d, ld-elf/merge.d: XFAIL for tic6x-*-*.
	* ld-elf/sec-to-seg.exp: Set B_test_same_seg to 0 for tic6x-*-*.
	* ld-tic6x: New directory and testcases.

opcodes:
	* Makefile.am (TARGET_LIBOPCODES_CFILES): Add tic6x-dis.c.
	* Makefile.in: Regenerate.
	* configure.in (bfd_tic6x_arch): New.
	* configure: Regenerate.
	* disassemble.c (ARCH_tic6x): Define if ARCH_all.
	(disassembler): Handle TI C6X.
	* tic6x-dis.c: New.
@
text
@d1 7
@


1.1651
log
@	* gas/macros/dot.s: Remove space in .byte operands.
@
text
@d1 4
@


1.1650
log
@2010-03-22  Sebastian Pop  <sebastian.pop@@amd.com>
	    Quentin Neill <quentin.neill@@amd.com>

	opcodes/
	* i386-dis.c (OP_LWP_I): Removed.
	(reg_table): Do not use OP_LWP_I, use Iq.
	(OP_LWPCB_E): Remove use of names16.
	(OP_LWP_E): Same.
	* i386-opc.tbl: Removed 16bit LWP insns.  32bit LWP insns
	should not set the Vex.length bit.
	* i386-tbl.h: Regenerated.

	gas/
	* testsuite/gas/i386/x86-64-lwp.s: Remove use of 16bit LWP insns.
	* testsuite/gas/i386/lwp.s: Same.
	* testsuite/gas/i386/x86-64-lwp.d: Updated.
	* testsuite/gas/i386/lwp.d: Updated.
@
text
@d1 4
@


1.1649
log
@	* config/tc-arm.c (make_mapping_symbol): Hanle the case
	that two mapping symbols have the same value.

	testsuite/
	* gas/arm/mapmisc.s: Add the test case for two mapping
	symbols having the same value.
	* gas/arm/mapmisc.d: Likewise.
@
text
@d1 8
@


1.1648
log
@bfd/
2010-03-15  Wei Guozhi  <carrot@@google.com>

       PR gas/11323
       * bfd-in2.h (enum bfd_reloc_code_real): New BFD_RELOC_GOT_PREL type.
       * elf32-arm.c (elf32_arm_reloc_map): BFD_RELOC_GOT_PREL to
       R_ARM_GOT_PREL map.
       * libbfd.h (bfd_reloc_code_real_names): BFD_RELOC_GOT_PREL name.
       * reloc.c (comments): Document the new relocation.

gas/
2010-03-15  Wei Guozhi  <carrot@@google.com>

       PR gas/11323
       * config/tc-arm.c (reloc_names): New relocation names.
       (md_apply_fix): New case for BFD_RELOC_ARM_GOT_PREL.
       (tc_gen_reloc): New case for BFD_RELOC_ARM_GOT_PREL.
       * doc/c-arm.texi (ARM-Relocations): Document the new relocation.

gas/testsuite
2010-03-15  Wei Guozhi  <carrot@@google.com>

       PR gas/11323
       * gas/arm/got_prel.s: New test case.
       * gas/arm/got_prel.d: Likewise.
@
text
@d1 6
@


1.1647
log
@Run list-1, list-2 and list-3 only for ELF tagets.

2010-03-17  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run list-1, list-2 and list-3 only for
	ELF tagets.
@
text
@d1 6
@


1.1646
log
@Add tests for PR gas/9966 and PR gas/11356.

2010-03-08  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/9966
	PR gas/11356
	* gas/i386/list-1.l: New.
	* gas/i386/list-1.s: Likewise.
	* gas/i386/list-2.l: Likewise.
	* gas/i386/list-2.s: Likewise.
	* gas/i386/list-3.l: Likewise.
	* gas/i386/list-3.s: Likewise.

	* gas/i386/i386.exp: Run list-1, list-2 and list-3.

	* lib/gas-defs.exp (gas_run_stdin): New.
	(run_list_test_stdin): Likewise.
@
text
@d1 5
@


1.1645
log
@	* configure.tgt: Fix mep cpu case.

	testsuite/
	* gas/mep/allinsn.be.d: Renamed from allinsn.d.  Pass -EB.
	* gas/mep/allinsn.exp: branch1 is now bi-endian.
	* gas/mep/branch1.be.d: Renamed from branch1.d.  Pass -EB.
	* gas/mep/branch1.le.d: New file.
	* gas/mep/dj1.be.d: Renamed from dj1.d.  Pass -EB.
	* gas/mep/dj2.be.d: Renamed from dj2.d.  Pass -EB.
@
text
@d1 16
@


1.1644
log
@	* config/tc-arm.c (do_t_strexd): Remove
	operand[1] != operand[2] contraint.

	testsuite/
	* gas/arm/thumb32.s, gas/arm/thumb32.d: Add a new test
	for strexd.
	* gas/arm/thumb32.l: Adjust.
@
text
@d1 9
@


1.1643
log
@2010-02-26  Jie Zhang  <jie@@codesourcery.com>

	* config/tc-arm.c (do_neon_ld_st_interleave): Reject bad
	alignment.

	testsuite/
	* gas/arm/neon-ldst-align-bad.d: New test.
	* gas/arm/neon-ldst-align-bad.l: New test.
	* gas/arm/neon-ldst-align-bad.s: New test.
@
text
@d3 6
@


1.1642
log
@        * config/tc-mips.c (mips_fix_loongson2f, mips_fix_loongson2f_nop,
        mips_fix_loongson2f_jump): New variables.
        (md_longopts): Add New options -mfix-loongson2f-nop/jump,
        -mno-fix-loongson2f-nop/jump.
        (md_parse_option): Initialize variables via above options.
        (options): New enums for the above options.
        (md_begin): Initialize nop_insn from LOONGSON2F_NOP_INSN.
        (fix_loongson2f, fix_loongson2f_nop, fix_loongson2f_jump):
        New functions.
        (append_insn): call fix_loongson2f().
        (mips_handle_align): Replace the implicit nops.
        * config/tc-mips.h (MAX_MEM_FOR_RS_ALIGN_CODE): Modified
        for the new mips_handle_align().
        * doc/c-mips.texi: Document the new options.

        * gas/mips/loongson-2f-2.s: New test of -mfix-loongson2f-nop.
        * gas/mips/loongson-2f-2.d: Likewise.
        * gas/mips/loongson-2f-3.s: New test of -mfix-loongson2f-jump.
        * gas/mips/loongson-2f-3.d: Likewise.
        * gas/mips/mips.exp: Run the new tests.

        * opcode/mips.h (LOONGSON2F_NOP_INSN): New macro.
@
text
@d1 6
@


1.1641
log
@        PR binutils/6773
        * arm-dis.c (arm_opcodes): Replace <prefix>addsubx with
        <prefix>asx.  Replace <prefix>subaddx with <prefix>sax.
        (thumb32_opcodes): Likewise.

        * gas/arm/arch7em.d: Replace expected disassembly of
        <prefix>addsubx with <prefix>asx.  Also replace <prefix>subaddx
        with <prefix>sax.
        * gas/arm/archv6.d: Likewise.
        * gas/arm/thumb32.d: Likewise.
@
text
@d1 8
@


1.1640
log
@    gas/
    * config/tc-arm.c (do_rd_rm_rn): Added warning.

    gas/testsuite/
    * gas/arm/depr-swp.d: New test case.
    * gas/arm/depr-swp.s: New file.
    * gas/arm/depr-swp.l: New file.
@
text
@d1 9
d12 3
a14 3
    * gas/arm/depr-swp.d: New test case.
    * gas/arm/depr-swp.s: New file.
    * gas/arm/depr-swp.l: New file.
@


1.1639
log
@        * gas/arm/thumb2_bcond.d: Allow for varying number of nops at the
        end of the section depending upon the target of the arm assembler
        being tested.
@
text
@d1 6
@


1.1638
log
@	* bfd/elf32-arm.c (elf32_arm_merge_eabi_attributes): Add support for
	merging Tag_DIV_use, Tag_MPextension_use, and
	Tag_MPextension_use_legacy tags.
	* binutils/readelf.c (arm_attr_tag_Advanced_SIMD_arch): Add
	description of newly permitted attribute values.
	(arm_attr_tag_Virtualization_use): Likewise.
	(arm_attr_tag_DIV_use): Add description of new attribute.
	(arm_attr_tag_MPextension_use_legacy): Likewise.
	* gas/config/tc-arm.c (arm_convert_symbolic_attribute):
	Add Tag_DIV_use.
	* gas/doc/c-arm.texi: Likewise.
	* gas/testsuite/gas/arm/attr-order.d: Fix test for new names for
	attribute values.
	* include/elf/arm.h (Tag_MPextension_use): Renumber.
	(Tag_DIV_use): Add.
	(Tag_MPextension_use_legacy): Likewise.
	* ld/testsuite/ld-arm/attr-merge-3.attr: Fix test for new attribute
	values.
	* ld/testsuite/ld-arm/attr-merge-3b.s: Likewise.
	* ld/testsuite/ld-arm/attr-merge-unknown-1.d: Fix test now that 42
	is a recognised attribute ID.
	* ld/testsuite/ld-arm/attr-merge-unknown-1.s: Likewise.
	* ld/testsuite/ld-arm/attr-merge-6.attr: New test.
	* ld/testsuite/ld-arm/attr-merge-6a.s: Likewise.
	* ld/testsuite/ld-arm/attr-merge-6b.s: Likewise.
	* ld/testsuite/ld-arm/attr-merge-7.attr: Likewise.
	* ld/testsuite/ld-arm/attr-merge-7a.s: Likewise.
	* ld/testsuite/ld-arm/attr-merge-7b.s: Likewise.
	* ld/testsuite/ld-arm/arm-elf.exp: Run the new tests.
@
text
@d1 6
d9 1
a9 1
	* gas/arm/attr-order.d: Fix test for new names for attribute 
@


1.1637
log
@*** empty log message ***
@
text
@d1 5
@


1.1636
log
@gas/
2010-02-12  Tristan Gingold  <gingold@@adacore.com>
	    Douglas B Rupp  <rupp@@gnat.com>

	* config/tc-ia64.c (enum reloc_func): Add FUNC_SLOTCOUNT_RELOC.
	(DUMMY_RELOC_IA64_SLOTCOUNT): Added.
	(pseudo_func): Add an entry for slotcount.
	(md_begin): Initialize slotcount pseudo symbol.
	(ia64_parse_name): Handle @@slotcount parameter.
	(ia64_gen_real_reloc_type): Handle slotcount.
	(md_apply_fix): Ditto.
	* doc/c-ia64.texi (IA-64-Relocs): Document @@slotcount.

gas/testsuite/
2010-02-12  Tristan Gingold  <gingold@@adacore.com>

	* gas/ia64/slotcount.s, gas/ia64/slotcount.s: New test.
	* gas/ia64/ia64.exp: Add slotcount test (vms only).
@
text
@d1 15
@


1.1635
log
@2010-02-10  Quentin Neill  <quentin.neill@@amd.com>
            Sebastian Pop  <sebastian.pop@@amd.com>

gas:
        * config/tc-i386.c (vec_imm4) New operand type.
        (fits_in_imm4): New.
        (VEX_check_operands): New.
        (check_reverse): Call VEX_check_operands.
        (build_modrm_byte): Reintroduce code for 5
        operand insns.  Fix whitespace.

gas/testsuite:
        * gas/i386/x86-64-xop.d: Add vpermil2p[sd] tests.
        * gas/i386/x86-64-xop.s: Likewise.
        * gas/i386/xop.d: Likewise.
        * gas/i386/xop.s: Likewise.

opcodes:
        * i386-dis.c (OP_EX_VexImmW): Reintroduced
        function to handle 5th imm8 operand.
        (PREFIX_VEX_3A48): Added.
        (PREFIX_VEX_3A49): Added.
        (VEX_W_3A48_P_2): Added.
        (VEX_W_3A49_P_2): Added.
        (prefix table): Added entries for PREFIX_VEX_3A48
        and PREFIX_VEX_3A49.
        (vex table): Added entries for VEX_W_3A48_P_2 and
        and VEX_W_3A49_P_2.
        * i386-gen.c (operand_type_init): Added OPERAND_TYPE_VEC_IMM4
        for Vec_Imm4 operands.
        * i386-opc.h (enum): Added Vec_Imm4.
        (i386_operand_type): Added vec_imm4.
        * i386-opc.tbl: Add entries for vpermilp[ds].
        * i386-init.h: Regenerated.
        * i386-tbl.h: Regenerated.
@
text
@d1 5
@


1.1634
log
@2010-02-08  Christophe Lyon  <christophe.lyon@@st.com>

	gas/
	* config/tc-arm.c (md_pcrel_from_section): Keep base to zero for
	non-local branches (BFD_RELOC_THUMB_PCREL_BRANCH23,
	BFD_RELOC_THUMB_PCREL_BLX, BFD_RELOC_ARM_PCREL_BLX,
	BFD_RELOC_ARM_PCREL_CALL)

	gas/testsuite/
	* gas/arm/branch-reloc.s, gas/arm/branch-reloc.d,
	gas/arm/branch-reloc.l: New tests and expected results with all
	variants of call: ARM/Thumb, local/global, inter/intra-section,
	using BL/BLX.
@
text
@d1 8
@


1.1633
log
@        * objdump.c (disassemble_bytes): Clear aux->reloc before printing
        a new address, so as not to reuse a previous, non-related reloc.

        * gas/arm/arm-it-auto.d, gas/arm/bl-local-v4t.d,
        gas/arm/blx-local.d, gas/arm/thumb-w-good.d: Update expected
        results.
@
text
@d3 7
@


1.1632
log
@include/
	* opcode/ppc.h (PPC_OPCODE_TITAN): Define.
bfd/
	* archures.c (bfd_mach_ppc_titan): Define.
	* bfd-in2.h: Regenerate.
	* cpu-powerpc.c (bfd_powerpc_archs): Add titan entry.
opcodes/
	* ppc-dis.c (ppc_opts): Add titan entry.
	* ppc-opc.c (TITAN, MULHW): Define.
	(powerpc_opcodes): Support AppliedMicro Titan core (APM83xxx).
gas/
	* config/tc-ppc.c (md_show_usage): Mention -mtitan.  Don't use tabs.
	(ppc_mach): Handle titan.
	* doc/c-ppc.texi: Mention -mtitan.
gas/testsuite/
	* gas/ppc/titan.d, * gas/ppc/titan.s: New test.
	* gas/ppc/ppc.exp: Run it.
@
text
@d1 8
@


1.1631
log
@2010-02-03  Quentin Neill  <quentin.neill@@amd.com>

gas/
	* config/tc-i386.c (cpu_arch): Change amdfam15 to bdver1.
	(i386_align_code): Rename  PROCESSOR_AMDFAM15 to PROCESSOR_BDVER1.
	* config/tc-i386.h (processor_type): Same.
	* doc/c-i386.texi: Change amdfam15 to bdver1.

opcodes/
	* i386-gen.c (cpu_flag_init): Rename CPU_AMDFAM15_FLAGS
	to CPU_BDVER1_FLAGS
	* i386-init.h: Regenerated.

testsuite/
	* gas/i386/i386.exp: Rename amdfam15 test cases to bdver1.
	* gas/i386/x86-64-nops-1-amdfam15.d: Renamed test case to
	gas/i386/x86-64-nops-1-bdver1.d.
	* gas/i386/nops-1-amdfam15.d: Renamed test case to
	gas/i386/nops-1-bdver1.d.
@
text
@d1 5
@


1.1630
log
@	gas/testsuite/
	* gas/arm/dis-data.d: Update test name.  Do not expect
	.word output.
	* gas/arm/dis-data2.d, gas/arm/dis-data2.s,
	gas/arm/dis-data3.d, gas/arm/dis-data3.s: New tests.

	opcodes/
	* opcodes/arm-dis.c (struct arm_private_data): New.
	(print_insn_coprocessor, print_insn_arm): Update to use struct
	arm_private_data.
	(is_mapping_symbol, get_map_sym_type): New functions.
	(get_sym_code_type): Check the symbol's section.  Do not check
	mapping symbols.
	(print_insn): Default to disassembling ARM mode code.  Check
	for mapping symbols separately from other symbols.  Use
	struct arm_private_data.
@
text
@d1 8
@


1.1629
log
@        PR 11136
        * config/tc-arm.c (neon_check_type): Handle a neon_shape value of
        NS_NULL.
        * gas/arm/neon-omit.s: Add instruction that causes crash.
        * gas/arm/neon-omit.d: Add expected disassembly.
@
text
@d1 7
@


1.1628
log
@	* gas/pe/section-align-1.d: Don't test section flags.
	* gas/pe/section-align-2.d: Likewise.
@
text
@d1 6
@


1.1627
log
@Allow VL=1 on scalar FMA instructions.

gas/testsuite/

2010-01-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/fma-scalar-intel.d: New.
	* gas/i386/fma-scalar.d: Likewise.
	* gas/i386/fma-scalar.s: Likewise.
	* gas/i386/x86-64-fma-scalar-intel.d: Likewise.
	* gas/i386/x86-64-fma-scalar.d: Likewise.
	* gas/i386/x86-64-fma-scalar.s: Likewise.

	* gas/i386/i386.exp: Run fma-scalar, fma-scalar-intel,
	x86-64-fma-scalar and x86-64-fma-scalar-intel.

opcodes/

2010-01-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (EXVexWdqScalar): New.
	(vex_scalar_w_dq_mode): Likewise.
	(prefix_table): Update entries for PREFIX_VEX_3899,
	PREFIX_VEX_389B, PREFIX_VEX_389D, PREFIX_VEX_389F,
	PREFIX_VEX_38A9, PREFIX_VEX_38AB, PREFIX_VEX_38AD,
	PREFIX_VEX_38AF, PREFIX_VEX_38B9, PREFIX_VEX_38BB,
	PREFIX_VEX_38BD and PREFIX_VEX_38BF.
	(intel_operand_size): Handle vex_scalar_w_dq_mode.
	(OP_EX): Likewise.
@
text
@d1 5
@


1.1626
log
@        PR 11225
        * objdump.c (only): Replace with linked list.
        (only_size, only_used): Replace with only_list.
        (process_section_p): Set seen field on matches sections.
        (add_only): New function.
        (free_only_list): New function.
        (disassemble_section): Check only_list.
        (main): Use add_only and free_only_list.

        * gas/pe/aligncomm-c.d: Dump all sections.

        * ld-sh/refdbg-0-dso.d: Dump all sections.
@
text
@d1 12
@


1.1625
log
@gas/ChangeLog:

	* NEWS: Mention new feature.
	* config/obj-coff.c (obj_coff_section): Accept digits and use
	to override default section alignment power if specified.
	* doc/as.texinfo (.section directive): Update documentation.

gas/testsuite/ChangeLog:

	* gas/pe/section-align-1.s: New test source file.
	* gas/pe/section-align-1.d: Likewise control script.
	* gas/pe/section-align-2.s: Likewise ...
	* gas/pe/section-align-2.d: ... and likewise.
	* gas/pe/pe.exp: Invoke new testcases.
@
text
@d1 5
@


1.1624
log
@Allow VL=1 on AVX scalar instructions.

gas/

2010-01-27  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (avxscalar): New.
	(OPTION_MAVXSCALAR): Likewise.
	(build_vex_prefix): Select vector_length for scalar instructions
	based on avxscalar.
	(md_longopts): Add OPTION_MAVXSCALAR.
	(md_parse_option): Handle OPTION_MAVXSCALAR.
	(md_show_usage): Add -mavxscalar=.

	* doc/c-i386.texi: Document -mavxscalar=.

gas/testsuite/

2010-01-27  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/avx-scalar-intel.d: New.
	* gas/i386/avx-scalar.d: Likewise.
	* gas/i386/avx-scalar.s: Likewise.
	* gas/i386/x86-64-avx-scalar-intel.d: Likewise.
	* gas/i386/x86-64-avx-scalar.d: Likewise.
	* gas/i386/x86-64-avx-scalar.s: Likewise.

	* gas/i386/i386.exp: Run avx-scalar, avx-scalar-intel,
	x86-64-avx-scalar and x86-64-avx-scalar-intel.

opcodes/

2010-01-27  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (XMScalar): New.
	(EXdScalar): Likewise.
	(EXqScalar): Likewise.
	(EXqScalarS): Likewise.
	(VexScalar): Likewise.
	(EXdVexScalarS): Likewise.
	(EXqVexScalarS): Likewise.
	(XMVexScalar): Likewise.
	(scalar_mode): Likewise.
	(d_scalar_mode): Likewise.
	(d_scalar_swap_mode): Likewise.
	(q_scalar_mode): Likewise.
	(q_scalar_swap_mode): Likewise.
	(vex_scalar_mode): Likewise.
	(vex_len_table): Duplcate entries for VEX_LEN_10_P_1,
	VEX_LEN_10_P_3, VEX_LEN_11_P_1, VEX_LEN_11_P_3, VEX_LEN_2A_P_1,
	VEX_LEN_2A_P_3, VEX_LEN_2C_P_3, VEX_LEN_2D_P_1, VEX_LEN_2E_P_0,
	VEX_LEN_2E_P_2, VEX_LEN_2F_P_2, VEX_LEN_51_P_1, VEX_LEN_51_P_3,
	VEX_LEN_52_P_1, VEX_LEN_53_P_1, VEX_LEN_58_P_1, VEX_LEN_58_P_3,
	VEX_LEN_59_P_1, VEX_LEN_5A_P_1, VEX_LEN_5A_P_3, VEX_LEN_5C_P_1,
	VEX_LEN_5C_P_3, VEX_LEN_5D_P_1, VEX_LEN_5D_P_3, VEX_LEN_5E_P_1,
	VEX_LEN_5E_P_3, VEX_LEN_5F_P_1, VEX_LEN_5F_P_3, VEX_LEN_6E_P_2,
	VEX_LEN_7E_P_1, VEX_LEN_7E_P_2, VEX_LEN_D6_P_2, VEX_LEN_C2_P_1,
	VEX_LEN_C2_P_3, VEX_LEN_3A0A_P_2 and VEX_LEN_3A0B_P_2.
	(vex_w_table): Update entries for VEX_W_10_P_1, VEX_W_10_P_3,
	VEX_W_11_P_1, VEX_W_11_P_3, VEX_W_2E_P_0, VEX_W_2E_P_2,
	VEX_W_2F_P_0, VEX_W_2F_P_2, VEX_W_51_P_1, VEX_W_51_P_3,
	VEX_W_52_P_1, VEX_W_53_P_1, VEX_W_58_P_1, VEX_W_58_P_3,
	VEX_W_59_P_1, VEX_W_59_P_3, VEX_W_5A_P_1, VEX_W_5A_P_3,
	VEX_W_5C_P_1, VEX_W_5C_P_3, VEX_W_5D_P_1, VEX_W_5D_P_3,
	VEX_W_5E_P_1, VEX_W_5E_P_3, VEX_W_5F_P_1, VEX_W_5F_P_3,
	VEX_W_7E_P_1, VEX_W_D6_P_2  VEX_W_C2_P_1, VEX_W_C2_P_3,
	VEX_W_3A0A_P_2 and VEX_W_3A0B_P_2.
	(intel_operand_size): Handle d_scalar_mode, d_scalar_swap_mode,
	q_scalar_mode, q_scalar_swap_mode.
	(OP_XMM): Handle scalar_mode.
	(OP_EX): Handle d_scalar_mode, d_scalar_swap_mode, q_scalar_mode
	and q_scalar_swap_mode.
	(OP_VEX): Handle vex_scalar_mode.
@
text
@d1 8
@


1.1623
log
@Add more AVX tests.

2010-01-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/avx.s: Add more tests.
	* gas/i386/x86-64-avx.s: Likewise.

	* gas/i386/avx-intel.d: Updated.
	* gas/i386/avx.d: Likewise.
	* gas/i386/x86-64-avx-intel.d: Likewise.
	* gas/i386/x86-64-avx.d: Likewise.
@
text
@d1 12
@


1.1622
log
@bfd/
	* coff-rs6000.c (xcoff_howto_table): Change size to 0 and bitsize to 1.
	(_bfd_xcoff_reloc_type_lookup): Handle BFD_RELOC_NONE.
	* coff64-rs6000.c (xcoff64_howto_table): Change size to 0 and
	bitsize to 1.
	(xcoff64_reloc_type_lookup): Handle BFD_RELOC_NONE.

gas/
	* write.h (fix_at_start): Declare.
	* write.c (fix_new_internal): Add at_beginning parameter.
	Use it instead of REVERSE_SORT_RELOCS.  Fix the handling of
	seg_fix_tailP for the at_beginning/REVERSE_SORT_RELOCS case.
	(fix_new, fix_new_exp): Update accordingly.
	(fix_at_start): New function.
	* config/tc-ppc.c (md_pseudo_table): Add .ref to the OBJ_XCOFF section.
	(ppc_ref): New function, for OBJ_XCOFF.
	(md_apply_fix): Handle BFD_RELOC_NONE for OBJ_XCOFF.
	* config/te-i386aix.h (REVERSE_SORT_RELOCS): Remove #undef.

gas/testsuite/
	* gas/ppc/xcoff-ref-1.s, gas/ppc/xcoff-ref-1.l: New test.
	* gas/ppc/aix.exp: Run it.


ld/testsuite/
	* ld-powerpc/aix-ref-1-32.od, ld-powerpc/aix-ref-1-64.od,
	ld-powerpc/aix-ref-1.s: New tests.
	* ld-powerpc/aix52.exp: Run them.
@
text
@d1 10
@


1.1621
log
@Correct month.
@
text
@d1 5
@


1.1620
log
@Add xsave64 and xrstor64.

gas/testsuite/

2010-02-21  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/x86-64-xsave.s: Add tests for xsave64 and xrstor64.

	* gas/i386/x86-64-xsave-intel.d: Updated.
	* gas/i386/x86-64-xsave.d: Likewise.

opcodes/

2010-02-21  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (mod_table): Use FXSAVE on xsave and xrstor.

	* i386-opc.tbl: Add xsave64 and xrstor64.
	* i386-tbl.h: Regenerated.
@
text
@d1 1
a1 1
2010-02-21  H.J. Lu  <hongjiu.lu@@intel.com>
@


1.1619
log
@Add changelog entries for PR 11109.  Patch itself was accidentally committed earlier.
Remove Spurious whitespace in ChangeLog-2009.
@
text
@d1 7
@


1.1618
log
@2010-01-15  Sebastian Pop  <sebastian.pop@@amd.com>

gas/
	* config/tc-i386.c (md_assemble): Before accessing the IMM field
	check that it's not an XOP insn.

gas/testsuite/
	* gas/i386/x86-64-xop.d: Add missing patterns.
	* gas/i386/x86-64-xop.s: Same.
	* gas/i386/xop.d: Same.
	* gas/i386/xop.s: Same.

opcodes/
	* i386-opc.tbl: Support all the possible aliases for VPCOM* insns.
	* i386-tbl.h: Regenerated.
@
text
@d1 6
@


1.1617
log
@	gas/testsuite/
	* gas/arm/thumb-nop.s: Add .syntax unified.
@
text
@d1 7
@


1.1616
log
@	gas/
	* config/tc-arm.c (do_t_nop): Correct check for Thumb-2 NOP.

	gas/testsuite/
	* gas/arm/thumb-nop.d, gas/arm/thumb-nop.s: New test.
	* gas/arm/relax_branch_align.d: Expect a default NOP instruction.
	* gas/arm/vfp1_t2.d, gas/arm/vfp1xD_t2.d: Specify a CPU with
	Thumb-2.

	ld/testsuite/
	* ld-arm/arm-elf.exp (armelftests): Assemble Cortex-A8 tests with
	-mcpu=cortex-a8.
@
text
@d3 4
@


1.1615
log
@        * config/tc-h8300.c (h8300_elf_section): New function - issue a
        warning message if a new section is created without setting any
        attributes for it.
        (md_pseudo_table): Intercept section creation pseudos.
        (md_pcrel_from): Replace abort with an error message.
        * config/obj-elf.c (obj_elf_section_name): Export this function.
        * config/obj-elf.h (obj_elf_section_name): Prototype.

        * gas/elf/section0.d: Skip this test for the h8300.
        * gas/elf/section1.d: Likewise.
        * gas/elf/section6.d: Likewise.
        * gas/elf/elf.exp: Skip section2 and section5 tests when the
        target is the h8300.

        * ld-scrips/sort.exp: Skip these tests when the target is the
        h8300.
@
text
@d1 7
@


1.1614
log
@2010-01-06  Quentin Neill  <quentin.neill@@amd.com>

gas/
       * config/tc-i386.c (cpu_arch): Add amdfam15.
         (i386_align_code): Add PROCESSOR_AMDFAM15 cases.
       * config/tc-i386.h (processor_type): Add PROCESSOR_AMDFAM15.
       * doc/c-i386.texi: Add amdfam15.

opcodes/
       * i386-gen.c (cpu_flag_init): Add new CPU_AMDFAM15_FLAGS.
       * i386-init.h: Regenerated.

testsuite/
       * gas/i386/i386.exp: Add new amdfam15 test cases.
       * gas/i386/nops-1-amdfam15.d: New.
@
text
@d1 8
@


1.1613
log
@    * arm-dis.c (print_insn): Fixed search for next
    symbol and data dumping condition, and the
    initial mapping symbol state.

    * gas/arm/dis-data.d: New test case.
    * gas/arm/dis-data.s: New file.
@
text
@d1 6
@


1.1612
log
@2010-01-04  Daniel Gutson  <dgutson@@codesourcery.com>

        gas/
        * config/tc-arm.c (do_neon_logic): Accept imm value
        in the third operand too.
        (operand_parse_code): OP_RNDQ_IMVNb renamed to
        OP_RNDQ_Ibig.
        (parse_operands): OP_NILO case removed, applied renaming.
        (insns): Neon shape changed for some logic instructions.

        gas/testsuite/
        * gas/arm/neon-logic.d: New test case.
        * gas/arm/neon-logic.s: New file.
@
text
@d1 5
@


1.1611
log
@2010-01-04  Daniel Gutson  <dgutson@@codesourcery.com>
    gas/
    * config/tc-arm.c (do_neon_ldx_stx): Added
    validation for vector load/store insns.

    gas/testsuite/
    * gas/arm/neon-addressing-bad.d: New test case.
    * gas/arm/neon-addressing-bad.s: New file.
    * gas/arm/neon-addressing-bad.l: New file.
@
text
@d3 5
@


1.1610
log
@2010-01-03  Daniel Gutson  <dgutson@@codesourcery.com>

    gas/
    * config/tc-arm.c (struct arm_it): New flag 'is_neon'.
    (NEON_ENC_*): Macros renamed to _NEON_ENC_*.
    (NEON_ENCODE): New macro.
    (check_neon_suffixes): New macro.
    (do_vfp_cond_or_thumb): Set the 'is_neon' flag.
    (do_vfp_nsyn_opcode): Likewise.
    (do_vfp_nsyn_nmul): Use the new 'NEON_ENCODE' macro.
    (do_vfp_nsyn_cmp): Likewise.
    (do_neon_shl_imm): Likewise.
    (do_neon_qshl_imm): Likewise.
    (neon_dyadic_misc): Likewise.
    (do_neon_mac_maybe_scalar): Likewise.
    (do_neon_qdmulh): Likewise.
    (do_neon_qmovn): Likewise.
    (do_neon_qmovun): Likewise.
    (do_neon_movn): Likewise.
    (neon_mac_reg_scalar_long): Likewise.
    (do_neon_vmull): Likewise.
    (do_neon_trn): Likewise.
    (do_neon_ldx_stx): Likewise.
    (neon_dp_fixup): Changed signature and set the flag.
    (neon_three_same): Call the above with new signature.
    (neon_two_same): Likewise.
    (neon_imm_shift): Likewise.
    (neon_mul_mac): Likewise.
    (do_neon_abs_neg): Likewise.
    (neon_mixed_length): Likewise.
    (do_neon_ext): Likewise.
    (do_neon_mov): Likewise.
    (do_neon_tbl_tbx): Likewise.
    (do_neon_logic): Likewise, and use the new 'NEON_ENCODE' macro.
    (neon_compare): Likewise.
    (do_neon_shll): Likewise.
    (do_neon_cvt): Likewise.
    (do_neon_mvn): Likewise.
    (do_neon_dup): Likewise.
    (md_assemble): Call check_neon_suffixes ().

    gas/testsuite/
    * gas/arm/neon-suffix-bad.d: New test case.
    * gas/arm/neon-suffix-bad.s: New file.
    * gas/arm/neon-suffix-bad.l: New file.
@
text
@d1 6
@


1.1609
log
@Move 2009 binutils ChangeLog to ChangeLog-2009.
@
text
@d1 5
@


1.1608
log
@	* gas/xc16x/xc16x.exp (*): Add missing " in timeout cases.
@
text
@a0 1
2009-12-19  Doug Evans  <dje@@sebabeach.org>
d2 1
a2 1763
	* gas/xc16x/xc16x.exp (*): Add missing " in timeout cases.

2009-12-19  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/eret-2.s: Add an instruction to fill a branch delay
	slot.
	* gas/mips/eret-2.d: Adjust accordingly.

2009-12-19  Maciej W. Rozycki  <macro@@codesourcery.com>

	* gas/mips/aent.d: New test.
	* gas/mips/aent.s: Source for the new test.
	* gas/mips/mips.exp: Run it.

2009-12-17  Nick Clifton  <nickc@@redhat.com>

	PR binutils/10924
	* gas/arm/unpredictable.s: Add more unpredictable instructions.
	* gas/arm/unpredictable.d: Add expected disassemblies.

2009-12-14  Nick Clifton  <nickc@@redhat.com>

	PR binutils/10924
	* gas/arm/unpredictable.s: New test case - checks the disassembly
	of instructions with unpredictable behaviour.
	* gas/arm/unpredictable.d: New file - expected disassembly.

2009-12-11  Quentin Neill  <quentin.neill@@amd.com>

	* gas/i386/fma4.d: Add test cases.
	* gas/i386/fma4.s: Add test cases.
	* gas/i386/x86-64-fma4.d: Add test cases.
	* gas/i386/x86-64-fma4.s: Add test cases.

2009-12-07  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11037
	* gas/i386/intelpic.s: Add testcases.
	* gas/i386/intelpic.d: Updated.

2009-12-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run x86-64-fxsave and x86-64-fxsave-intel.

	* gas/i386/rex.d: Updated for fxsave64.

	* gas/i386/x86-64-fxsave-intel.d: New.
	* gas/i386/x86-64-fxsave.d: Likewise.
	* gas/i386/x86-64-fxsave.s: Likewise.

2009-12-02  Nick Clifton  <nickc@@redhat.com>
	    Richard Earnshaw  <rearnsha@@arm.com>

	PR gas/11013
	* gas/arm/arch7em.d: Update expected disassembly.
	* gas/arm/thumb32.d: Likewise.
	
2009-11-17  Quentin Neill  <quentin.neill@@amd.com>
	    Sebastian Pop  <sebastian.pop@@amd.com>

	* gas/i386/x86-64-fma4.d: Add new patterns.
	* gas/i386/x86-64-fma4.s: Same.
	* gas/i386/x86-64-xop.d: Adjusted.

2009-11-19  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/lock-1.s: Add cmpxchg16b test.
	* gas/i386/lock-1-intel.d: Updated.
	* gas/i386/lock-1.d: Likewise.

2009-11-19  Nick Clifton  <nickc@@redhat.com>

	PR binutils/10924
	* gas/arm/arch4t-eabi.d: Restore previous expected dissambly of
	instructions using Immediate Offset addressing with an offset of
	zero.
	* gas/arm/arch4t.d: Likewise.
	* gas/arm/arm7t.d: Likewise.
	* gas/arm/xscale.d: Likewise.
	* gas/arm/wince-inst.d: Remove 'p' suffix from cmp, cmn, teq and
	tst instructions.

2009-11-18  Sebastian Pop  <sebastian.pop@@amd.com>

	* gas/i386/x86-64-xop.d: Update patterns.

2009-11-18  Sebastian Pop  <sebastian.pop@@amd.com>

	* gas/i386/cvt16.d: Removed.
	* gas/i386/cvt16.s: Removed.
	* gas/i386/x86-64-cvt16.d: Removed.
	* gas/i386/x86-64-cvt16.s: Removed.
	* gas/i386/i386.exp: Remove cvt16 and x86-64-cvt16 tests.

2009-11-18  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/rex.d: Remove suffix on fxsave.

2009-11-17  Sebastian Pop  <sebastian.pop@@amd.com>
	    Quentin Neill  <quentin.neill@@amd.com>

	* gas/i386/i386.exp: Run xop and cvt16 in 32-bit mode.
	Run x86-64-xop and x86-64-cvt16 in 64-bit mode.
	* gas/i386/lwp.d: Update name of the testcase.
	* gas/i386/x86-64-xop.d: New.
	* gas/i386/x86-64-xop.s: New.
	* gas/i386/xop.d: New.
	* gas/i386/xop.s: New.
	* gas/i386/cvt16.d: New.
	* gas/i386/cvt16.s: New.

2009-11-17  Paul Brook  <paul@@codesourcery.com>
	    Daniel Jacobowitz  <dan@@codesourcery.com>

	* gas/arm/attr-march-armv7em.d: New test.
	* gas/arm/arch7em-bad.d: New test.
	* gas/arm/arch7em-bad.l: New test.
	* gas/arm/arch7em.d: New test.
	* gas/arm/arch7em.s: New test.

2009-11-17  Nick Clifton  <nickc@@redhat.com>

	* gas/arm/vfma1.d: Only run on ELF based targets.

2009-11-17  Nick Clifton  <nickc@@redhat.com>

	PR binutils/10924
	* gas/arm/arch4t-eabi.d: Update expected disassembly.
	* gas/arm/arch4t.d: Likewise.
	* gas/arm/archv6t2.d: Likewise.
	* gas/arm/arm7t.d: Likewise.
	* gas/arm/inst.d: Likewise.
	* gas/arm/xscale.d: Likewise.

2009-11-17  Nick Clifton  <nickc@@redhat.com>

	* gas/rx/macros.inc (creg): Remove cpen.
	* gas/rx/mvfc.d: Remove expected uses of cpen register.
	* gas/rx/mvtc.d: Likewise.
	* gas/rx/popc.d: Likewise.
	* gas/rx/pushc.d: Likewise.

2009-11-16  Viktor Kutuzov  <vkutuzov@@accesssoftek.com>

	* gas/arm/vfp1xD.s: Add vmrs and vmsr instructions.
	* gas/arm/vfp1xD.d: Update expected disassembly.

2009-11-13  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/lock-1-intel.d: Updated.
	* gas/i386/lock-1.d: Likewise.
	* gas/i386/lock-1.s: Likewise.
	* gas/i386/lockbad-1.l: Likewise.
	* gas/i386/lockbad-1.s: Likewise.
	* gas/i386/x86-64-lock-1-intel.d: Likewise.
	* gas/i386/x86-64-lock-1.d: Likewise.
	* gas/i386/x86-64-lock-1.s: Likewise.
	* gas/i386/x86-64-lockbad-1.l: Likewise.
	* gas/i386/x86-64-lockbad-1.s: Likewise.

2009-11-13  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/rex.s: Add a test for VEX insn.
	* gas/i386/rex.d: Updated.

2009-11-13  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run long-1, long-1-intel, x86-64-long-1,
	and x86-64-long-1-intel.

	* gas/i386/long-1-intel.d: New.
	* gas/i386/long-1.d: Likewise.
	* gas/i386/long-1.s: Likewise.
	* gas/i386/x86-64-long-1-intel.d: Likewise.
	* gas/i386/x86-64-long-1.d: Likewise.
	* gas/i386/x86-64-long-1.s: Likewise.

	* gas/i386/jump16.d: Updated for prefix processing.
	* gas/i386/naked.d: Likewise.
	* gas/i386/nops-1-core2.d: Likewise.
	* gas/i386/nops-1-i686.d: Likewise.
	* gas/i386/nops-3-i686.d: Likewise.
	* gas/i386/nops-4-i686.d: Likewise.
	* gas/i386/nops-5-i686.d: Likewise.
	* gas/i386/nops-5.d: Likewise.
	* gas/i386/prefix.d: Likewise.
	* gas/i386/rep.d: Likewise.
	* gas/i386/string-ok.d: Likewise.
	* gas/i386/x86-64-addr32-intel.d: Likewise.
	* gas/i386/x86-64-addr32.d: Likewise.
	* gas/i386/x86-64-cbw-intel.d: Likewise.
	* gas/i386/x86-64-cbw.d: Likewise.
	* gas/i386/x86-64-io-intel.d: Likewise.
	* gas/i386/x86-64-io-suffix.d: Likewise.
	* gas/i386/x86-64-io.d: Likewise.
	* gas/i386/x86-64-lwp.d: Likewise.
	* gas/i386/x86-64-nops-1-core2.d: Likewise.
	* gas/i386/x86-64-nops-1-nocona.d: Likewise.
	* gas/i386/x86-64-nops-1.d: Likewise.
	* gas/i386/x86-64-nops-2.d: Likewise.
	* gas/i386/x86-64-nops-3.d: Likewise.
	* gas/i386/x86-64-nops-4-core2.d: Likewise.
	* gas/i386/x86-64-nops-4.d: Likewise.
	* gas/i386/x86-64-nops-5-k8.d: Likewise.
	* gas/i386/x86-64-nops-5.d: Likewise.
	* gas/i386/x86-64-rep.d: Likewise.
	* gas/i386/x86-64-stack-intel.d: Likewise.
	* gas/i386/x86-64-stack-suffix.d: Likewise.
	* gas/i386/x86-64-stack.d: Likewise.

2009-11-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run lock-1, lock-1-intel, lockbad-1,
	x86-64-lock-1, x86-64-lock-1-intel and x86-64-lockbad-1.

	* gas/i386/lock-1-intel.d: New.
	* gas/i386/lock-1.d: Likewise.
	* gas/i386/lock-1.s: Likewise.
	* gas/i386/lockbad-1.l: Likewise.
	* gas/i386/lockbad-1.s: Likewise.
	* gas/i386/x86-64-lock-1-intel.d: Likewise.
	* gas/i386/x86-64-lock-1.d: Likewise.
	* gas/i386/x86-64-lock-1.s: Likewise.
	* gas/i386/x86-64-lockbad-1.l: Likewise.
	* gas/i386/x86-64-lockbad-1.s: Likewise.

2009-11-12  Daniel Jacobowitz  <dan@@codesourcery.com>

	* gas/arm/copro.d, gas/arm/fp-save.d, gas/arm/float.d,
	gas/arm/fpa-mem.d: Update for removed generic coprocessor instructions
	and expanded PC-relative offsets.

2009-11-11  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/prefix.d: Swap order of ADDR and REP prefixes.
	* gas/i386/rep.d: Likewise.
	* gas/i386/x86-64-rep.d: Likewise.

2009-11-06  Sebastian Pop  <sebastian.pop@@amd.com>

	* gas/i386/x86-64-lwp.s: Updated to also contain patterns
	with r[8-15] registers.
	* gas/i386/x86-64-lwp.d: Same.

2009-11-05  Sebastian Pop  <sebastian.pop@@amd.com>
	    Quentin Neill  <quentin.neill@@amd.com>

	* gas/i386/i386.exp: Run x86-64-lwp in 64-bit mode,
	run lwp in 32-bit mode.
	* gas/i386/x86-64-lwp.d: New.
	* gas/i386/x86-64-lwp.s: New.
	* gas/i386/lwp.d: New.
	* gas/i386/lwp.s: New.

2009-11-05  Nick Clifton  <nickc@@redhat.com>

	* gas/i386/i386.exp (space1): Move test inside check for x86
	target.

2009-11-04  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/876
	* gas/i386/i386.exp: Run space1.

	* gas/i386/space1.l: New.
	* gas/i386/space1.s: Likewise.

2009-11-03  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/vfp-neon-syntax.d: Update expected results.
	* gas/arm/vfp-neon-syntax_t2.d: Update expected results.

2009-11-02  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/attr-mfpu-vfpv4.d: New test.
	* gas/arm/attr-mfpu-vfpv4-d16.d: New test.
	* gas/arm/neon-fma-cov.d: New test.
	* gas/arm/neon-fma-cov.s: New test.
	* gas/arm/vfp-fma-inc.s: New test.
	* gas/arm/vfp-fma-arm.d: New test.
	* gas/arm/vfp-fma-arm.s: New test.
	* gas/arm/vfp-fma-thumb.d: New test.
	* gas/arm/vfp-fma-thumb.s: New test.
	* gas/arm/vfma1.d: New test.
	* gas/arm/vfma1.s: New test.
	* gas/arm/vfpv3xd.d: New test.
	* gas/arm/vfpv3xd.s: New test.

2009-10-29  Sebastian Pop  <sebastian.pop@@amd.com>

	* gas/i386/fma4.d: Updated patterns.
	* gas/i386/x86-64-fma4.d: Same.

2009-10-29  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/vfp-neon-syntax.d: Update expected results.
	* gas/arm/vfp-neon-syntax_t2.d: Update expected results.

2009-10-28  Alan Modra  <amodra@@bigpond.net.au>

	* gas/i386/intelpic.d: Correct.

2009-10-25  Arnold Metselaar  <arnold.metselaar@@planet.nl>

	* gas/z80/equ.d, gas/z80/equ.s: Added test of parsing equ directives.
	* gas/z80/z80.exp: Run it.

	* gas/z80/redef.d: Expect little endian output only.	

2009-10-20  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/10775
	* gas/i386/immed64.d: Updated.
	* gas/i386/l1om.d: Likewise.
	* gas/i386/x86-64-disp-intel.d: Likewise.
	* gas/i386/x86-64-disp.d: Likewise.
	* gas/i386/x86_64.d: Likewise.

2009-10-19  Doug Evans  <dje@@sebabeach.org>

	* gas/xc16x/shlrol.s: Specify constant shift amount.
	* gas/xc16x/xc16x.exp (do_xc16x_shlrol): Update expected output.

2009-10-18  Vincent Rivire  <vincent.riviere@@freesbee.fr>

	* gas/all/weakref1u.d: Exclude more aout targets.
	* gas/m68k/br-isaa.d: Likewise.
	* gas/m68k/br-isab.d: Likewise.
	* gas/m68k/br-isac.d: Likewise.

2009-10-15  Alan Modra  <amodra@@bigpond.net.au>

	PR gas/1491
	* gas/macros/dot.s: Don't start macro invocations is first column.
	* gas/macros/dot.l: Update.
	* gas/macros/macros.exp: Run dot test on more targets.

2009-10-13  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/10740
	* gas/i386/jump.s: Add new tests.
	* gas/i386/jump16.s: Likewise.

	* gas/i386/jump.d: Updated.
	* gas/i386/jump16.d: Likewise.

2009-10-13  Vincent Riviere  <vincent.riviere@@freesbee.fr>	

	PR gas/3041
	* gas/m68k/all.exp: Added "p3041data".
	* gas/m68k/p3041.d, gas/m68k/p3041.s: Added tests of weak references
	from text section to all possible sections.
	* gas/m68k/p3041data.d, gas/m68k/p3041data.s: New test. Check weak
	references from data section.

2009-10-08  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/10704
	* gas/i386/intelok.s: Move 2 PIC tests to ...
	* gas/i386/intelpic.s: Here.

	* gas/i386/intelok.d: Updated.
	* gas/i386/intelpic.d: Likewise.

2009-10-07  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/10704
	* gas/i386/intelok.s: Add 2 new tests.
	* gas/i386/intelok.d: Updated.

2009-10-02  Peter Bergner  <bergner@@vnet.ibm.com>

	* gas/ppc/476.s: New test.
	* gas/ppc/476.d: Likewise.
	* gas/ppc/ppc.exp: Run the 476 test.

2009-10-01  Peter Bergner  <bergner@@vnet.ibm.com>

	* gas/ppc/a2.d: Rename "ppca2" to "a2".

2009-09-29  DJ Delorie  <dj@@redhat.com>

	* gas/rx: New directory.
	* gas/rx/*: New set of test cases.
	* gas/elf/section2.e-rx: New expected output file.
	* gas/all/gas.exp: Add support for RX target.
	* gas/elf/elf.exp: Likewise.
	* gas/lns/lns.exp: Likewise.
	* gas/macros/macros.exp: Likewise.

2009-09-29  Peter Bergner  <bergner@@vnet.ibm.com>

	* gas/ppc/vsx.s ("lxsdux", "lxvd2ux", "lxvw4ux", "stxsdux", 
	"stxvd2ux", "stxvw4ux"): Remove tests.
	* gas/ppc/vsx.d: Likewise.
	* gas/ppc/power7.s: Likewise.
	* gas/ppc/power7.d: Likewise.

2009-09-24  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/10677
	* gas/i386/i386.exp: Run x86-64-localpic.

	* gas/i386/x86-64-localpic.d: New.
	* gas/i386/x86-64-localpic.s: Likewise.

2009-09-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/localpic.d: Updated.

2009-09-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run localpic.

	* gas/i386/localpic.d: New.
	* gas/i386/localpic.s: Likewise.

2009-09-23  Alan Modra  <amodra@@bigpond.net.au>

	* gas/arm/thumbver.d: Tolerate some whitespace differences.
	* gas/elf/elf.exp: Likewise.
	* gas/elf/section2.e: Likewise.
	* gas/elf/section2.e-armeabi: Likewise.
	* gas/elf/section2.e-armelf: Likewise.
	* gas/elf/section2.e-m32r: Likewise.
	* gas/elf/section2.e-mips: Likewise.
	* gas/elf/section2.e-miwmmxt: Likewise.
	* gas/elf/section2.e-score: Likewise.
	* gas/elf/section2.e-xtensa: Likewise.
	* gas/elf/type-noifunc.e: Likewise.
	* gas/elf/type.e: Likewise.
	* gas/ia64/alias-ilp32.d: Likewise.
	* gas/ia64/alias.d: Likewise.
	* gas/ia64/global.d: Likewise.
	* gas/mips/mips16-vis-1.d: Likewise.
	* gas/mmix/bspec-1.d: Likewise.
	* gas/mmix/byte-1.d: Likewise.
	* gas/mmix/comment-1.d: Likewise.
	* gas/mmix/loc-1.d: Likewise.
	* gas/mmix/loc-2.d: Likewise.
	* gas/mmix/loc-3.d: Likewise.
	* gas/mmix/loc-4.d: Likewise.
	* gas/mmix/loc-5.d: Likewise.
	* gas/mmix/loc-6.d: Likewise.
	* gas/mmix/loc-7.d: Likewise.

2009-09-22  Alan Modra  <amodra@@bigpond.net.au>

	* gas/ppc/a2.d: Match PPC64 relocs.

2009-09-21  Maciej W. Rozycki  <macro@@linux-mips.org>

	* lib/gas-defs.exp (gas_test_error): Mark internal error/assertion
	failures seen in output as fails.  Also record output being
	matched for fails.

2009-09-21  Maciej W. Rozycki  <macro@@linux-mips.org>

	* gas/mips/eret-1.d: Adjust regexps for robustness.
	* gas/mips/eret-2.d: Likewise.
	* gas/mips/eret-3.d: Likewise.
	* gas/mips/eret-1.s: Reformat for readability.  Add a label
	at the beginning.
	* gas/mips/eret-2.s: Add a label at the beginning.

2009-09-21  Maciej W. Rozycki  <macro@@linux-mips.org>

	* gas/mips/eret-1.s: Add trailing padding.
	* gas/mips/eret-2.s: Likewise.
	* gas/mips/eret-3.s: Likewise.
	* gas/mips/eret-1.d: Adjust accordingly.  Force a 32-bit ABI.
	* gas/mips/eret-2.d: Likewise.
	* gas/mips/eret-3.d: Likewise.

2009-09-21  Maciej W. Rozycki  <macro@@linux-mips.org>

	* gas/mips/mips.exp: Fix a typo.

2009-09-21  Ben Elliston  <bje@@au.ibm.com>
	    Peter Bergner  <bergner@@vnet.ibm.com>

	* gas/ppc/a2.s: New.
	* gas/ppc/a2.d: Likewise.
	* gas/ppc/ppc.exp: Run the a2 dump test.

2009-09-21  Ben Elliston  <bje@@au.ibm.com>

	* gas/ppc/e500mc.d: Remove blank line at the end of file.

2009-09-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/disp.s: Add an offset test.
	* gas/i386/x86-64-disp.s: Likewise.

	* gas/i386/intelbad.s: Comment out "byte ptr [1]" test.

	* gas/i386/disp.d: Updated.
	* gas/i386/disp-intel.d: Likewise.
	* gas/i386/intelbad.l: Likewise.
	* gas/i386/x86-64-disp.d: Likewise.
	* gas/i386/x86-64-disp-intel.d: Likewise.

2009-09-14  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/10637
	* gas/i386/disp.s: Add tests for Intel syntax.
	* gas/i386/x86-64-disp.s: Likewise.

	* gas/i386/disp.d: Updated.
	* gas/i386/intelok.d: Likewise.
	* gas/i386/x86-64-disp.d: Likewise.

	* gas/i386/disp-intel.d: New.
	* gas/i386/x86-64-disp-intel.d: Likewise.

	* gas/i386/i386.exp: Run disp-intel and x86-64-disp-intel.

2009-09-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/merom.[ds]: Renamed to ...
	* gas/i386/ssse3.[ds]: This.

	* gas/i386/nops-1-merom.d: Renamed to ...
	* gas/i386/nops-1-core2.d: This.

	* gas/i386/nops-2-merom.d: Renamed to ...
	* gas/i386/nops-2-core2.d: This.

	* gas/i386/prescott.[ds]: Renamed to ...
	* gas/i386/sse3.[ds]: This.

	* gas/i386/x86-64-merom.[ds]: Renamed to ...
	* gas/i386/x86-64-ssse3.[ds]: This.

	* gas/i386/x86-64-nops-1-merom.d: Renamed to ...
	* gas/i386/x86-64-nops-1-core2.d: This.

	* gas/i386/x86-64-prescott.[ds]: Renamed to ...
	* gas/i386/x86-64-sse3.[ds]: This.

	* gas/i386/i386.exp: Updated.

2009-09-14  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/10636
	* gas/i386/disp.d: New.
	* gas/i386/disp.s: Likewise.
	* gas/i386/x86-64-disp.d: Likewise.
	* gas/i386/x86-64-disp.s: Likewise.

	* gas/i386/i386.exp: Run disp and x86-64-disp.

	* gas/i386/x86-64-addr32.s: Add high 32bit displacement tests.

	* gas/i386/x86-64-addr32.d: Updated.
	* gas/i386/x86-64-addr32-intel.d: Likewise.
	* gas/i386/x86-64-inval.l: Likewise.
	* gas/i386/x86-64-prescott.d: Likewise.

	* gas/i386/x86-64-inval.s: Add invalid displacement tests.

	* gas/i386/x86-64-prescott.s: Replace 0x90909090 displacement
	with 0x909090.

2009-09-13  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/jalr2.s, gas/mips/jalr2.d: New test.
	* gas/mips/jal-svr4pic.d: Don't expect R_MIPS_JALRs to be reduced.
	* gas/mips/jal-xgot.d: Likewise.
	* gas/mips/mips-abi32-pic2.d: Likewise.
	* gas/mips/mips.exp: Run it.

2009-09-13  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/mips16-dwarf2-n32.d: Expect odd addresses.

2009-09-11  Hans-Peter Nilsson  <hp@@bitrange.com>

	PR gas/10623
	* gas/mmix/err-swym1.s, gas/mmix/swym-opreg1.d,
	gas/mmix/swym-opreg1.s, gas/mmix/swym-opreg2.d,
	gas/mmix/swym-opreg2.s: New tests.
	* gas/mmix/odd-1.d: Adjust for reloc change.

2009-09-11  Alan Modra  <amodra@@bigpond.net.au>

	* gas/lns/lns-common-1.s: Use two nops between each .loc.
	* gas/lns/lns.exp: Don't exclude d10v.

2009-09-09  Kaz Kojima  <kkojima@@rr.iij4u.or.jp>

	* gas/sh/sh64/syntax-1.s: Regenerate.

2009-09-08  Kaz Kojima  <kkojima@@rr.iij4u.or.jp>

	* gas/sh/basic.exp: Add -big to ASFLAGS for sh*l*-*-netbsdelf*.

2009-09-08  Alan Modra  <amodra@@bigpond.net.au>

	* gas/d30v/serial2.l: Adjust position of page break.
	* gas/lns/lns-common-1-alt.d: Match 2009-04-24 change.
	* gas/mt/ms1-16-003.d: Correct reloc name.
	* gas/mt/relocs.d: Elide incorrect file format strings.

2009-09-08  Alan Modra  <amodra@@bigpond.net.au>

	* gas/all/gas.exp (do_comment): Don't run on m32c.
	* gas/all/align.d: Likewise.
	* gas/all/incbin.d: Likewise.
	* gas/macros/semi.d: Likewise.
	* gas/elf/ifunc-1.d: Don't run on alpha.

2009-09-04  Jie Zhang  <jie.zhang@@analog.com>

	* gas/bfin/arithmetic.s, gas/bfin/arithmetic.d: Add check
	for (IU) option for multiply and multiply-accumulate to
	data register instructon.

2009-09-03  Jie Zhang  <jie.zhang@@analog.com>

	* gas/bfin/parallel5.s: New test.
	* gas/bfin/error.exp: New test.

2009-09-03  Jie Zhang  <jie.zhang@@analog.com>

	* gas/bfin/line_number.l, gas/bfin/line_number.s: New test.
	* gas/bfin/bfin.exp: Add the new test.

2009-09-03  Jie Zhang  <jie.zhang@@analog.com>

	* gas/bfin/expected_move_errors.s,
	gas/bfin/expected_move_errors.l: Add "LC1 = I0;".
	* gas/bfin/move.s, gas/bfin/move.d: Remove "CYCLES = A0.W".

2009-09-03  Jie Zhang  <jie.zhang@@analog.com>

	* gas/bfin/expected_comparison_errors.l: Expect error on Line 13.

2009-09-03  Jie Zhang  <jie.zhang@@analog.com>

	* gas/bfin/loop.s, gas/bfin/loop.d: New test.
	* gas/bfin/loop2.s, gas/bfin/loop2.d: New test.
	* gas/bfin/loop3.s, gas/bfin/loop3.d: New test.
	* gas/bfin/bfin.exp: Add the new tests.

2009-09-02  Jie Zhang  <jie.zhang@@analog.com>

	From  Bernd Schmidt  <bernd.schmidt@@analog.com>
	* gas/bfin/expected_errors.l, gas/bfin/expected_errors.s:
	Check error messages for invalid load/store insns.

2009-09-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/att-regs.s: Add ymm tests for 16bit and 64bit.
	* gas/i386/intel-regs.s: Likewise.

	* gas/i386/att-regs.d: Updated.
	* gas/i386/intel-regs.d: Likewise.

2009-09-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/att-regs.s: Remove a tab.

2009-09-01  Jie Zhang  <jie.zhang@@analog.com>

	* gas/bfin/expected_comparison_errors.s: Add more cases.
	* gas/bfin/expected_comparison_errors.l: Update accordingly.

2009-09-01  Jie Zhang  <jie.zhang@@analog.com>

	* gas/bfin/stack2.s: Add pop multiple instruction with a label
	on the same line.
	* gas/bfin/stack2.d: Adjust accordingly.

2009-08-31  Jan Beulich  <jbeulich@@novell.com>

	* gas/elf/section5.l: Remove no longer issued warning pattern.

2009-08-29  Matt Fleming  <matt@@console-pimps.org>

	* gas/sh/sign-extension.d: New file.
	* gas/sh/sign-extension.s: New file.
	* gas/sh/basic.exp: Run new test.

2009-08-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/l1om.d: Check elf64-l1om format.

2006-08-11  Bernd Schmidt  <bernd.schmidt@@analog.com>

	* gas/bfin/parallel.s: Add more test cases.
	* gas/bfin/parallel.d: Update accordingly.
	* gas/bfin/resource_conflict.l: New test.
	* gas/bfin/resource_conflict.s: New test.
	* gas/bfin/bfin.exp: Add resource_conflict.

2009-08-11  Nick Clifton  <nickc@@redhat.com>

	PR 10443
	* gas/arm/t16-bad.l: Update expected messages for moves with
	shifted operands.

2009-08-10  Daniel Gutson  <dgutson@@codesourcery.com>

	PR gas/10479
	* gas/arm/sp-pc-usage-t.d: New test case.
	* gas/arm/sp-pc-usage-t.s: New file.

2006-08-09  Bernd Schmidt  <bernd.schmidt@@analog.com>

	From Mike Frysinger <michael.frysinger@@analog.com>
	* gas/bfin/reloc.d: Adjust for the renamed relocations.

2009-08-07  Daniel Jacobowitz  <dan@@codesourcery.com>

	* gas/arm/mapping2.s: Test code after .ident.

2009-08-05  Chao-ying Fu  <fu@@mips.com>

	* gas/mips/jal-svr4pic.d, gas/mips/jal-xgot.d,
	gas/mips/mips-abi32-pic2.d: Add R_MIPS_JALR relocations after jalr.

2009-08-04  Nathan Sidwell  <nathan@@codesourcery.com>

	* gas/arm/missing.s: New.
	* gas/arm/missing.d: New.
	* gas/arm/missing.l: New.

2009-07-15  Daniel Gutson  <dgutson@@codesourcery.com>
	    Daniel Jacobowitz  <dan@@codesourcery.com>

	* gas/arm/mapdir.d, gas/arm/mapdir.s: New files.
	* gas/arm/mapping.d: Adapted to new symbols generation.
	* gas/arm/mapping2.d: New test case.
	* gas/arm/mapping2.s: New file.
	* gas/arm/mapping3.d: New test case.
	* gas/arm/mapping3.s: New file.
	* gas/arm/mapping4.d: New test case.
	* gas/arm/mapping4.s: New file.
	* gas/arm/mapshort-eabi.d: Adapted to new symbols generation.
	* gas/elf/section2.e-armeabi: Adapted to new symbols generation.

2009-07-27  Jan Beulich  <jbeulich@@novell.com>

	* gas/elf/file.[ds]: New.
	* gas/elf/elf.exp: Run new test.

2009-07-25  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/l1om.d: New.
	* gas/i386/l1om-inval.l: Likewise.
	* gas/i386/l1om-inval.s: Likewise.

	* gas/i386/i386.exp: Run l1om-inval and l1om.

2009-07-24  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/8087.[ds]: New.
	* gas/i386/287.[ds]: New.
	* gas/i386/387.[ds]: New.
	* gas/i386/no87.[ls]: New.
	* gas/i386/no87-2.[ls]: New.
	* gas/i386/i386.exp: Run new tests.
	* gas/i386/att-regs.s: Also check FPU register access.
	* gas/i386/intel-regs.s: Likewise.
	* gas/i386/att-regs.d: Adjust expectations.
	* gas/i386/intel-regs.d: Likewise.

2009-07-23  Ulrich Drepper  <drepper@@redhat.com>

	* gas/elf/type.s: Add unique global symbol definition.
	* gas/elf/type.e: Add expected readelf output for global unique
	symbol.

2009-07-21  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/10420
	* gas/i386/i386.exp: Run x86-64-nops-1-pentium.

	* gas/i386/x86-64-nops-1-pentium.d: New.

2009-07-16  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run ifunc and x86-64-ifunc.

	* gas/i386/ifunc.d: New,
	* gas/i386/ifunc.s: Likewise.
	* gas/i386/x86-64-ifunc.d: Likewise.

2009-07-16  Nathan Sidwell  <nathan@@codesourcery.com>

	* gas/arm/target-reloc-1.s: New.
	* gas/arm/target-reloc-1.d: New.

2009-07-14  Daniel Gutson  <dgutson@@codesourcery.com>

	* gas/arm/align64.s: New test case.
	* gas/arm/align64.d: Expected disassembly.

2009-07-14  Daniel Gutson  <dgutson@@codesourcery.com>

	* gas/arm/thumb-w-bad.d: New test case.
	* gas/arm/thumb-w-bad.l: New file.
	* gas/arm/thumb-w-bad.s: New file.
	* gas/arm/thumb-w-good.d: New test case.
	* gas/arm/thumb-w-good.s: New file.

2009-07-09  Daniel Gutson  <dgutson@@codesourcery.com>

	* gas/arm/inst-po.d: New testcase.
	* gas/arm/inst-po.s: New file.
	* gas/arm/inst-po-2.d: New testcase.
	* gas/arm/inst-po-2.s: New file.
	* gas/arm/inst-po-2.l: New file.
	* gas/arm/inst-po-3.d: New testcase.
	* gas/arm/inst-po-3.s: New file.
	* gas/arm/inst-po-be.d: New testcase.

2009-07-07  2009-07-04  Chung-Lin Tang  <cltang@@pllab.cs.nthu.edu.tw>

	* gas/arm/iwmmxt2.d: Fix insn pattern for torvsc,
	add patterns for waddsubhx.
	* gas/arm/iwmmxt2.s: Add tests for waddsubhx.

2009-07-07  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/fma4.d: Append "#pass".
	* gas/i386/x86-64-fma4.d: Likewise.

2009-07-07  Tristan Gingold  <gingold@@adacore.com>

	* gas/i386/jump.d: Adjust to be relocated offset for jump to
	external symbol.

2009-07-06  Dwarakanath Rajagopal  <dwarak.rajagopal@@amd.com>

	* gas/i386/i386.exp: Add FMA4 tests.
	* gas/i386/x86-64-fma4.d: Ditto.
	* gas/i386/fma4.d: Ditto.
	* gas/i386/x86-64-fma4.s: Ditto.
	* gas/i386/fma4.s: Ditto.	
	
2009-07-01  Nick Clifton  <nickc@@redhat.com>

	PR 10168
	* gas/arm/thumb32.d: Fix expected disassembly of PKHTB insn.

2009-07-01  Paul Brook <paul@@codesourcery.com>

	* gas/arm/fp-save.s: Add .fnstart and .fnend directives.

2009-06-30  Nick Clifton  <nickc@@redhat.com>

	PR 10288
	* gas/arm/adrl.d: Update expected disassembly.
	* gas/arm/arch4t-eabi.d: Likewise.
	* gas/arm/arch4t.d: Likewise.
	* gas/arm/arch6zk.d: Likewise.
	* gas/arm/archv6t2.d: Likewise.
	* gas/arm/arm-it.d: Likewise.
	* gas/arm/arm3.d: Likewise.
	* gas/arm/arm7dm.d: Likewise.
	* gas/arm/arm7t.d: Likewise.
	* gas/arm/backslash-at.d: Likewise.
	* gas/arm/bl-local-v4t.d: Likewise.
	* gas/arm/blx-local.d: Likewise.
	* gas/arm/copro.d: Likewise.
	* gas/arm/el_segundo.d: Likewise.
	* gas/arm/float.d: Likewise.
	* gas/arm/fp-save.d: Likewise.
	* gas/arm/fpa-mem.d: Likewise.
	* gas/arm/group-reloc-alu.d: Likewise.
	* gas/arm/group-reloc-ldr.d: Likewise.
	* gas/arm/group-reloc-ldrs.d: Likewise.
	* gas/arm/immed.d: Likewise.
	* gas/arm/inst.d: Likewise.
	* gas/arm/iwmmxt.d: Likewise.
	* gas/arm/ldconst.d: Likewise.
	* gas/arm/macro1.d: Likewise.
	* gas/arm/mapmisc.d: Likewise.
	* gas/arm/mapsecs.d: Likewise.
	* gas/arm/mapshort-eabi.d: Likewise.
	* gas/arm/mapshort-elf.d: Likewise.
	* gas/arm/movw-local.d: Likewise.
	* gas/arm/neon-ldst-rm.d: Likewise.
	* gas/arm/offset.d: Likewise.
	* gas/arm/reg-alias.d: Likewise.
	* gas/arm/relax_load_align.d: Likewise.
	* gas/arm/tcompat.d: Likewise.
	* gas/arm/tcompat2.d: Likewise.
	* gas/arm/thumb-eabi.d: Likewise.
	* gas/arm/thumb.d: Likewise.
	* gas/arm/thumb1_unified.d: Likewise.
	* gas/arm/thumb2_add.d: Likewise.
	* gas/arm/thumb2_it.d: Likewise.
	* gas/arm/thumb2_it_auto.d: Likewise.
	* gas/arm/thumb2_pool.d: Likewise.
	* gas/arm/thumb2_relax.d: Likewise.
	* gas/arm/thumb32.d: Likewise.
	* gas/arm/thumbv6.d: Likewise.
	* gas/arm/thumbv6k.d: Likewise.
	* gas/arm/tls.d: Likewise.
	* gas/arm/vfp1.d: Likewise.
	* gas/arm/vfp1_t2.d: Likewise.
	* gas/arm/vfp1xD.d: Likewise.
	* gas/arm/wince.d: Likewise.
	* gas/arm/wince_inst.d: Likewise.
	* gas/arm/xscale.d: Likewise.

2009-06-29  Nick Clifton  <nickc@@redhat.com>

	PR 10288
	* gas/arm/arch6zk.d: Update expected disassembly.
	* gas/arm/arch7.d: Likewise.
	* gas/arm/arm-it-auto-2.d: Likewise.
	* gas/arm/arm-it-auto.d: Likewise.
	* gas/arm/copro.d: Likewise.
	* gas/arm/float.d: Likewise.
	* gas/arm/fpa-mem.d: Likewise.
	* gas/arm/group-reloc-ldc.d: Likewise.
	* gas/arm/group-reloc-ldr.d: Likewise.
	* gas/arm/iwmmxt.d: Likewise.
	* gas/arm/maverick.d: Likewise.
	* gas/arm/neon-omit.d: Likewise.
	* gas/arm/svc.d: Likewise.
	* gas/arm/thumb-eabi.d: Likewise.
	* gas/arm/thumb.d: Likewise.
	* gas/arm/thumb1_unified.d: Likewise.
	* gas/arm/thumb2_add.d: Likewise.
	* gas/arm/thumb2_relax.d: Likewise.
	* gas/arm/thumb32.d: Likewise.
	* gas/arm/vfp-neon-syntax.d: Likewise.
	* gas/arm/vfp-neon-syntax_t2.d: Likewise.
	* gas/arm/vfp1xD.d: Likewise.
	* gas/arm/vfp1xD_t2.d: Likewise.
	* gas/arm/vfpv3-const-conv.d: Likewise.
	* gas/arm/xscale.d: Likewise.

2009-06-22  Daniel Gutson <dgutson@@codesourcery.com>

	* gas/arm/arm-it-auto.d: New test.
	* gas/arm/arm-it-auto.s: New file.
	* gas/arm/arm-it-auto-2.d: New test case.
	* gas/arm/arm-it-auto-2.s: New file.
	* gas/arm/arm-it-auto-3.d: New test case.
	* gas/arm/arm-it-auto-3.s: New file.
	* gas/arm/arm-it-bad.d: New test case.
	* gas/arm/arm-it-bad.l: New file.
	* gas/arm/arm-it-bad.s: New file.
	* gas/arm/arm-it-bad-2.d: New test case.
	* gas/arm/arm-it-bad-2.l: New file.
	* gas/arm/arm-it-bad-2.s: New file.
	* gas/arm/arm-it-bad-3.d: New test case.
	* gas/arm/arm-it-bad-3.l: New file.
	* gas/arm/arm-it-bad-3.s: New file.
	* gas/arm/thumb2_it_auto.d: New test.
	* gas/arm/thumb2_it_bad.l: Error message updated.
	* gas/arm/thumb2_it_bad_auto.d: New test.
	* gas/arm/thumb2_it.d: Comment added.
	* gas/arm/thumb2_it_bad.d: Comment added.

2009-06-19  Alan Modra  <amodra@@bigpond.net.au>

	PR gas/10255
	* gas/cfi/cfi-common-7.s: Skip a multiple of four.
	* gas/cfi/cfi-common-7.d: Adjust.

2009-06-18  Nick Clifton  <nickc@@redhat.com>

	PR 10169
	* gas/arm/thumb2_bad_reg.s: Add tests for SSAT and USAT with an
	out of range shift.
	* gas/arm/thumb2_bad_reg.l: Update expected error messages.

	PR 10288
	* gas/arm/align.s: Add labels so that COFF based targets can
	correctly locate THUMB code.
	* gas/arm/copro.d: Do not pass --architecture switch to objdump.

2009-06-15  Nick Clifton  <nickc@@redhat.com>

	PR gas/10186
	* gas/arm/thumb32.d: Fix expected binary value of SEV.W instruction.

2009-06-09  Jakub Jelinek  <jakub@@redhat.com>

	PR gas/10255
	* gas/cfi/cfi-common-7.d: New test.
	* gas/cfi/cfi-common-7.s: New.
	* gas/cfi/cfi.exp: Add cfi-common-7 test.

2009-06-08  Dave Korn  <dave.korn.cygwin@@gmail.com>

	* gas/i386/jump.d:  Tweak patterns to also match PE platform output.

2009-06-01  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/10198
	* gas/i386/jump.s: Add test for "jmp $+2".
	* gas/i386/jump16.s: Likewise.

	* gas/i386/jump.d: Updated.
	* gas/i386/jump16.d: Likewise.

2009-05-26  Catherine Moore  <clm@@codesourcery.com>

	* gas/mips/eret.s: Remove.
	* gas/mips/eret.d: Remove.
	* gas/mips/eret.l: Remove.
	* gas/mips/eret-1.s: New.
	* gas/mips/eret-1.d: New.
	* gas/mips/eret-2.s: New.
	* gas/mips/eret-2.d: New.
	* gas/mips/eret-3.s: New.
	* gas/mips/eret-3.d: New.
	* gas/mips/mips.exp: Run new tests.  Remove old tests.

2009-05-23  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/vr4130.s, gas/mips/vr4130.d: Expect part A to have nops.

2009-05-23  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/align.d: Use an nm test rather than an objdump one.

2009-05-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/elf/ifunc-1.d: New.
	* gas/elf/ifunc-1.s: Likewise.

	* gas/elf/elf.exp: Run ifunc-1.

2009-05-22  Dwarakanath Rajagopal  <dwarak.rajagopal@@amd.com>

	* gas/i386/i386.exp: Remove SSE5 tests.
	* gas/i386/x86-64-sse5.s: Delete. Remove SSE5 tests.
	* gas/i386/x86-64-sse5.d: Ditto.
	* gas/i386/arch-10-1.l: Remove SSE5 tests.
	* gas/i386/arch-10-2.l: Ditto.
	* gas/i386/arch-10-3.l: Ditto.
	* gas/i386/arch-10-4.l: Ditto.
	* gas/i386/arch-10.d: Ditto.
	* gas/i386/arch-10.s: Ditto.
	* gas/i386/arch-4.s: Delete. Remove SSE5 tests.
	* gas/i386/arch-4.d: Ditto.
	* gas/i386/arch-8.s: Ditto.
	* gas/i386/arch-8.d: Ditto.
	* gas/i386/arch-2.s: Remove SSE5 tests.
	* gas/i386/arch-2.d: Remove SSE5 tests.
	* gas/i386/x86-64-arch-2.s: Ditto.
	
2009-05-19  Dave Korn  <dave.korn.cygwin@@gmail.com>

	* gas/pe/:  New directory for PE format-specific tests.
	* gas/pe/aligncomm-a.d:  New test pattern file.
	* gas/pe/aligncomm-a.s:  New test source file.
	* gas/pe/aligncomm-b.d:  New test pattern file.
	* gas/pe/aligncomm-b.s:  New test source file.
	* gas/pe/aligncomm-c.d:  New test pattern file.
	* gas/pe/aligncomm-c.s:  New test source file.
	* gas/pe/aligncomm-d.d:  New test pattern file.
	* gas/pe/aligncomm-d.s:  New test source file.
	* gas/pe/pe.exp:  New test control script.
	* lib/gas-defs.exp (is_pecoff_format):  New function.

2009-05-05  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/lns/lns-common-1-ia64.s: Add test for discriminator.

2009-05-05  Ramana Radhakrishnan  <ramana.radhakrishnan@@arm.com>

	* gas/arm/bl-local-v4t.d: New file.
	* gas/arm/bl-local-v4t.s: New file.
	* gas/arm/blx-local.s: Update for branches and calls to local
	  functions.
	* gas/arm/blx-local.d: Likewise.
	* gas/arm/blx-local.l: New file.
	* gas/arm/blx-local-thumb.l: New file.
	* gas/arm/blx-local-thumb.s: New file.
	* gas/arm/blx-local-thumb.d: New file.

2009-05-01  Nathan Sidwell  <nathan@@codesourcery.com>
	    Daniel Jacobowitz  <dan@@codesourcery.com>

	* gas/arm/attr-mcpu.d: Add -mfpu=neon.
	* gas/arm/mapmisc.d: Correct expected output for .double and
	.dcb.d.

2009-04-30  Nick Clifton  <nickc@@redhat.com>

	* gas/elf/elf.exp: Extend type test to include an ifunc symbol.
	Provide an alternative test for targets which do not support ifunc
	symbols.
	gas/elf/type.s: Add entry for an ifunc symbol.
	gas/elf/type.e: Add ifunc entry to expected symbol dump.
	gas/elf/section2.e-armelf: Add  entry for ifunc symbol.
	gas/elf/type-noifunc.s: New file.
	gas/elf/type-noifunc.e: Likewise.

2009-04-24  Cary Coutant  <ccoutant@@google.com>

	* gas/lns/lns-common-1.d: Add test for discriminator.
	* gas/lns/lns-common-1.s: Likewise.

2009-04-20  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/equ.s: Adjust.
	* gas/i386/equ.d: Remove reference to equ.e.
	* gas/i386/equ.e: Delete.
	* gas/i386/intel-expr.s: New.
	* gas/i386/intel-expr.d: New.
	* gas/i386/i386.exp: Run new test.
	* gas/i386/intel.s: Adjust.
	* gas/i386/intel.e: Remove no longer valid warning messages.
	* gas/i386/intel16.s: Adjust.
	* gas/i386/intel16.d: Remove reference to intel16.e.
	* gas/i386/intel16.e: Delete.
	* gas/i386/intelbad.s: Add more tests.
	* gas/i386/intelbad.l: Adjust.
	* gas/i386/intelok.s: Remove now unneeded equates. Add more
	tests.
	* gas/i386/intelok.d: Remove reference to intelok.e. Adjust.
	* gas/i386/intelok.e: Delete.
	* gas/i386/x86_64.s: Adjust.
	* gas/i386/x86_64.d: Remove reference to x86_64.e.
	* gas/i386/x86_64.e: Delete.

2009-04-16  Alan Modra  <amodra@@bigpond.net.au>

	* gas/all/gas.exp: Disable assign and assign-ok tests on blackfin.
	* gas/all/p2425.s: Use "==" instead of "=".
	* gas/all/weakref1.s: Likewise.
	* gas/macros/and.s: Likewise.
	* gas/macros/test1.s: Likewise.
	* gas/hppa/parse/parse.exp: Remove xfail on block1.

2009-04-15  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/intel.e: Adjust expectations.

2009-04-15  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/x86-64-sse5.s: Add test of protd.
	* gas/i386/x86-64-sse5.d: Adjust expectations to match input.

2009-04-09  Catherine Moore  <clm@@codesourcery.com>

	* gas/mips/mips.exp: Run new tests.
	* gas/mips/eret.s: New test.
	* gas/mips/eret.d: New test output.
	* gas/mips/eret.l: New test output.

2009-04-07  Peter Bergner  <bergner@@vnet.ibm.com>

	* gas/ppc/e500mc.d: Update to match extended mnemonics.

2009-04-01  Nathan Sidwell  <nathan@@codesourcery.com>

	* gas/arm/align.s, gas/arm/align.d: New.
	* gas/arm/thumb32.d, gas/arm/arch6zk.d, gas/arm/arch6zk.s,
	arm/thumb2_relax.d: Adjust for align changes.

2009-03-31  Peter Bergner  <bergner@@vnet.ibm.com>

	* gas/ppc/power7.d ("ori", ".p2align"): Add tests for group ending nop.
	* gas/ppc/power7.s: Likewise.
	* gas/ppc/power6.d: Likewise.
	* gas/ppc/power6.s: Likewise.

2009-03-30  Joseph Myers  <joseph@@codesourcery.com>

	* gas/arm/mapsecs.d, gas/arm/mapsecs.s: New.

2009-03-26  Ramana Radhakrishnan  <ramana.radhakrishnan@@arm.com>

	* gas/arm/wince_inst.d: Convert to unified syntax.

2009-03-18  Andrew Stubbs  <ams@@codesourcery.com>

	* gas/arm/adr-invalid.d: New file.
	* gas/arm/adr-invalid.l: New file.
	* gas/arm/adr-invalid.s: New file.

2009-03-14  Richard Sandiford  <r.sandiford@@uk.ibm.com>

	* gas/ppc/textalign-xcoff-001.d: Expect the section VMAs to be
	properly aligned.
	* gas/ppc/textalign-xcoff-002.d: Likewise.

2009-03-14  Richard Sandiford  <r.sandiford@@uk.ibm.com>

	* gas/ppc/xcoff-branch-1.s, gas/ppc/xcoff-branch-1-32.d,
	gas/ppc/xcoff-branch-1-64.d: New tests.
	* gas/ppc/aix.exp: Run them.

2009-03-11  Hans-Peter Nilsson  <hp@@axis.com>

	* gas/cris/rd-bkw5.d, gas/cris/rd-bkw5.s, gas/cris/rd-bkw5b.d,
	gas/cris/rd-bkw5bpic.d, gas/cris/rd-bkw5bv32.d,
	gas/cris/rd-bkw5bv32pic.d, gas/cris/rd-bkw5pic.d,
	gas/cris/rd-bkw5v32.d, gas/cris/rd-bkw5v32pic.d: New tests.

2009-03-10  Hans-Peter Nilsson  <hp@@axis.com>

	* gas/cris/rd-bkw4.d, gas/cris/rd-bkw4v32.d, gas/cris/rd-bkw4.s:
	New test.

2009-03-10  Alan Modra  <amodra@@bigpond.net.au>

	* gas/ppc/altivec_and_spe.d (objdump): Add -Maltivec.
	* gas/ppc/common.d: Adjust for -Mcom not including -Mppc.

2009-03-05  Joseph Myers  <joseph@@codesourcery.com>

	* gas/arm/mapmisc.d, gas/arm/mapmisc.dat, gas/arm/mapmisc.s: New.

2009-03-02  Qinwei  <qinwei@@sunnorth.com.cn>

	* gas/score/arith_32-lt.d: New file.
	* gas/score/arith_32.d: New file.
	* gas/score/arith_32.s: New file.
	* gas/score/bit_32-lt.d: New file.
	* gas/score/bit_32.d: New file.
	* gas/score/bit_32.s: New file.
	* gas/score/branch_32-lt.d: New file.
	* gas/score/branch_32.d: New file.
	* gas/score/branch_32.s: New file.
	* gas/score/cmp_32-lt.d: New file.
	* gas/score/cmp_32.d: New file.
	* gas/score/cmp_32.s: New file.
	* gas/score/load_store_32-lt.d: New file.
	* gas/score/load_store_32.d: New file.
	* gas/score/load_store_32.s: New file.
	* gas/score/logical_32-lt.d: New file.
	* gas/score/logical_32.d: New file.
	* gas/score/logical_32.s: New file.
	* gas/score/mv_32-lt.d: New file.
	* gas/score/mv_32.d: New file.
	* gas/score/mv_32.s: New file.
	* gas/score/relax_32.exp: New file.
	* gas/score/relaxation_macro.h: New file.
	* gas/score/shift_32-lt.d: New file.
	* gas/score/shift_32.d: New file.
	* gas/score/shift_32.s: New file.
	* gas/score/syscontrol_32-lt.d: New file.
	* gas/score/syscontrol_32.d: New file.
	* gas/score/syscontrol_32.s: New file.

2009-03-01  Mark Mitchell  <mark@@codesourcery.com>

	* gas/arm/archv6m.s: Add dmb, dsb, and isb.
	* gas/arm/archv6m.d: Likewise.

2009-02-26  Peter Bergner  <bergner@@vnet.ibm.com>

	* gas/ppc/e500mc.d ("wait", "waitsrv", "waitimpl"): Add tests.
	* gas/ppc/e500mc.s: Likewise.
	* gas/ppc/power6.d ("cdtbcd", "cbcdtd", "addg6s"): Add tests.
	* gas/ppc/power6.s: Likewise.
	* gas/ppc/power7.d ("lfdpx", "mffgpr", "mftgpr"): Remove invalid tests.
	("wait", "waitsrv", "waitimpl", "divwe", "divwe.", "divweo", "divweo.",
	"divweu", "divweu.", "divweuo", "divweuo.", "bpermd", "popcntw",
	"popcntd", "ldbrx", "stdbrx", "lfiwzx", "lfiwzx", "fcfids", "fcfids.",
	"fcfidus", "fcfidus.", "fctiwu", "fctiwu.", "fctiwuz", "fctiwuz.",
	"fctidu", "fctidu.", "fctiduz", "fctiduz.", "fcfidu", "fcfidu.",
	"ftdiv", "ftdiv", "ftsqrt", "ftsqrt", "dcbtt", "dcbtstt", "dcffix",
	"dcffix.", "lbarx", "lbarx", "lbarx", "lharx", "lharx", "lharx",
	"stbcx.", "sthcx.", "fre", "fre.", "fres", "fres.", "frsqrte",
	"frsqrte.", "frsqrtes", "frsqrtes.", "isel"): Add tests.
	* gas/ppc/power7.s: Likewise.
	* gas/ppc/vsx.d: New test.
	* gas/ppc/vsx.s: Likewise.
	* gas/ppc/ppc.exp: Run it.

2009-02-23  Mark Mitchell  <mark@@codesourcery.com>

	* gas/arm/thumb2_bad_reg.s: Update to allow R13 as second argument
	for CMP.
	* gas/arm/thumb2_bad_reg.l: Adjust accordingly.

2009-02-19  Peter Bergner  <bergner@@vnet.ibm.com>

	* gas/ppc/e500mc.d ("lfdepx", "stfdepx"): Fix tests to expect a
	floating point register.

2009-02-18  Adam Nemet  <anemet@@caviumnetworks.com>

	* gas/mips/octeon.s: Add more tests for dmfc2 and dmtc2.
	* gas/mips/octeon.d: Update.
	* gas/mips/octeon-ill.l: Update error message.

2009-02-16  Nick Clifton  <nickc@@redhat.com>

	* gas/mips/e32-rel2.d: Adjust expected output to remove the 0x4000
	offset.
	* gas/mips/e32el-rel2.d: Likewise.
	* gas/mips/elf-rel2.d: Likewise.
	* gas/mips/elf-rel9-mips16.d: Likewise.
	* gas/mips/elf-rel9.d: Likewise.
	* gas/mips/elfel-rel2.d: Likewise.
	* gas/mips/lb.d: Likewise.
	* gas/mips/mips-abi32.d: Likewise.
	* gas/mips/mips-gp32-fp32.d: Likewise.
	* gas/mips/mips-gp32-fp64.d: Likewise.
	* gas/mips/mips-gp64-fp32.d: Likewise.
	* gas/mips/mips-gp64-fp64.d: Likewise.
	* gas/mips/mips32-sf32.d: Likewise.

2009-02-12  Nathan Sidwell  <nathan@@codesourcery.com>

	* m68k/br-isac.d, m68k/br-isac.s: Add stldsr test.

2009-02-06  Nick Clifton  <nickc@@redhat.com>

	* gas/mips/beq.d: Make no assumptions about the symbols used as
	branch targets in the disassembly, or the names of the relocs
	produced.
	* gas/mips/bge.d: Likewise.
	* gas/mips/bgeu.d: Likewise.
	* gas/mips/blt.d: Likewise.
	* gas/mips/bltu.d: Likewise.
	* gas/mips/mips32-sf32.d: Likewise.
	* gas/mips/mips1-fp.d: Likewise.
	* gas/mips/branch-misc-1.d: Skip for the mips-ecoff target.
	* gas/mips/branch-misc-2-64.d: Likewise.
	* gas/mips/branch-misc-2.d: Likewise.
	* gas/mips/branch-misc-2pic-64.d: Likewise.
	* gas/mips/branch-misc-2pic.d: Likewise.
	* gas/mips/branch-swap.d: Likewise.

2009-02-06  Nick Clifton  <nickc@@redhat.com>

	* gas/elf/symtab.d: But do not run the test for the Alpha or HPPA
	ports.
	
2009-02-05  Peter Bergner  <bergner@@vnet.ibm.com>

	* gas/ppc/booke.s ("dcbt", "dcbtst"): New tests.
	* gas/ppc/booke.d: Likewise.
	* gas/ppc/power4_32.s: Likewise.
	* gas/ppc/power4_32.d: Likewise.

2009-02-05  Catherine Moore  <clm@@codesourcery.com>

	* gas/elf/elf.exp: Really run the symtab test.

2009-02-04  H.J. Lu  <hongjiu.lu@@intel.com>

	AVX Programming Reference (January, 2009)
	* gas/i386/arch-avx-1-3.l: New.
	* gas/i386/arch-avx-1-3.s: Likewise.
	* gas/i386/arch-avx-1-4.l: Likewise.
	* gas/i386/arch-avx-1-4.s: Likewise.
	* gas/i386/arch-avx-1-5.l: Likewise.
	* gas/i386/arch-avx-1-5.s: Likewise.
	* gas/i386/arch-avx-1-6.l: Likewise.
	* gas/i386/arch-avx-1-6.s: Likewise.

	* gas/i386/arch-10.s: Add vpclmul instructions.
	* gas/i386/arch-avx-1.s: Likewise.
	* gas/i386/avx.s: Likewise.
	* gas/i386/x86-64-arch-2.s: Likewise.
	* gas/i386/x86-64-avx.s: Likewise.

	* gas/i386/sse2avx.s: Add pclmul instructions.
	* gas/i386/x86-64-sse2avx.s: Likewise.

	* gas/i386/arch-10.d: Updated.
	* gas/i386/arch-10-1.l: Likewise.
	* gas/i386/arch-10-2.l: Likewise.
	* gas/i386/arch-10-3.l: Likewise.
	* gas/i386/arch-10-4.l: Likewise.
	* gas/i386/arch-avx-1.d: Likewise.
	* gas/i386/arch-avx-1-1.l: Likewise.
	* gas/i386/arch-avx-1-2.l: Likewise.
	* gas/i386/avx.d: Likewise.
	* gas/i386/avx-intel.d: Likewise.
	* gas/i386/sse2avx.d: Likewise.
	* gas/i386/x86-64-arch-2.d: Likewise.
	* gas/i386/x86-64-avx.d: Likewise.
	* gas/i386/x86-64-avx-intel.d: Likewise.
	* gas/i386/x86-64-sse2avx.d: Likewise.

	* gas/i386/i386.exp: Run arch-avx-1-3, arch-avx-1-4,
	arch-avx-1-5 and arch-avx-1-6.

2009-02-03  DJ Delorie  <dj@@redhat.com>

	* gas/mep/relocs.d: Updated for new configuration.
	* gas/mep/complex-relocs.exp: Likewise.

2009-02-03  Sandip Matte  <sandip@@rmicorp.com>

	* gas/mips/mips.exp (xlr): New architecture.
	(xlr-ext): Run test.
	* gas/mips/xlr-ext.d, gas/mips/xlr-ext.s: New.

2009-02-03  Maxim Kuvyrkov  <maxim@@codesourcery.com>

	* gas/m68k/tls-gd-3.d, gas/m68k/tls-gd-3.s: New test.
	* gas/m68k/all.exp: Run it.

2009-01-29  Mark Mitchell  <mark@@codesourcery.com>

	* gas/arm/copro.s: Avoid using r15 where not permitted.
	* gas/arm/copro.d: Adjust accordingly.
	* gas/arm/thumb2_bad_reg.s: New.
	* gas/arm/thumb2_bad_reg.l: Likewise.
	* gas/arm/thumb2_bad_reg.d: Likewise.

2009-01-29  Mark Mitchell  <mark@@codesourcery.com>

	* gas/arm/thumb32.s: Add tests for orn and rrx.
	* gas/arm/thumb32.d: Adjust accordingly.
	* gas/arm/thumb32.l: Likewise.
	* gas/arm/thumb2_invert.s: Add tests for orn and orr.
	* gas/arm/thumb2_invert.d: Adjust accordingly.
	* gas/arm/tcompat.s: Add tests for rrx.
	* gas/arm/tcompat.d: Adjust accordingly.

2009-01-29  Mark Mitchell  <mark@@codesourcery.com>

	* gas/arm/thumb32.s (qadd): Add tests for them.
	* gas/arm/thumb32.d: Adjust accordingly.

2009-01-29  Mark Mitchell  <mark@@codesourcery.com>

	* gas/arm/thumb32.s (qadd): Add qadd, qdadd, qsub, and qdsub.
	* gas/arm/thumb32.d: Likewise.

2009-01-29  Paul Brook  <paul@@codesourcery.com>
            Mark Mitchell  <mark@@codesourcery.com>

	* gas/arm/thumb2_mul.s: New file.
	* gas/arm/thumb2_mul.d: Likewise.
	* gas/arm/thumb2_mul-bad.s: Likewise.
	* gas/arm/thumb2_mul-bad.d: Likewise.
	* gas/arm/thumb2_mul-bad.l: Likewise.
	* gas/arm/t16-bad.s: Add tests for"mul" with high registers.
	* gas/arm/t16-bad.l: Update accordingly.

2009-01-29  Nick Clifton  <nickc@@redhat.com>

	* gas/all/gas.exp: Expect forward test to fail for MeP.
	Expect relax test to fail for MeP.
	* gas/mep/relocs.d: Update expected disassembly.

2009-01-27  Nick Clifton  <nickc@@redhat.com>

	* gas/arm/attr-cpu-directive.d: Only run test for EABI targets.
	* gas/arm/attr-default.d : Likewise.
	* gas/arm/attr-march-all.d: Likewise.
	* gas/arm/attr-march-armv1.d: Likewise.
	* gas/arm/attr-march-armv2.d: Likewise.
	* gas/arm/attr-march-armv2a.d: Likewise.
	* gas/arm/attr-march-armv2s.d: Likewise.
	* gas/arm/attr-march-armv3.d: Likewise.
	* gas/arm/attr-march-armv3m.d: Likewise.
	* gas/arm/attr-march-armv4.d: Likewise.
	* gas/arm/attr-march-armv4t.d: Likewise.
	* gas/arm/attr-march-armv4txm.d: Likewise.
	* gas/arm/attr-march-armv4xm.d: Likewise.
	* gas/arm/attr-march-armv5.d: Likewise.
	* gas/arm/attr-march-armv5t.d: Likewise.
	* gas/arm/attr-march-armv5te.d: Likewise.
	* gas/arm/attr-march-armv5tej.d: Likewise.
	* gas/arm/attr-march-armv5texp.d: Likewise.
	* gas/arm/attr-march-armv5txm.d: Likewise.
	* gas/arm/attr-march-armv6-m.d: Likewise.
	* gas/arm/attr-march-armv6.d: Likewise.
	* gas/arm/attr-march-armv6j.d: Likewise.
	* gas/arm/attr-march-armv6k.d: Likewise.
	* gas/arm/attr-march-armv6kt2.d: Likewise.
	* gas/arm/attr-march-armv6t2.d: Likewise.
	* gas/arm/attr-march-armv6z.d: Likewise.
	* gas/arm/attr-march-armv6zk.d: Likewise.
	* gas/arm/attr-march-armv6zkt2.d: Likewise.
	* gas/arm/attr-march-armv6zt2.d: Likewise.
	* gas/arm/attr-march-armv7-a.d: Likewise.
	* gas/arm/attr-march-armv7-m.d: Likewise.
	* gas/arm/attr-march-armv7-r.d: Likewise.
	* gas/arm/attr-march-armv7.d: Likewise.
	* gas/arm/attr-march-armv7a.d: Likewise.
	* gas/arm/attr-march-armv7m.d: Likewise.
	* gas/arm/attr-march-armv7r.d: Likewise.
	* gas/arm/attr-march-iwmmxt.d: Likewise.
	* gas/arm/attr-march-iwmmxt2.d: Likewise.
	* gas/arm/attr-march-xscale.d: Likewise.
	* gas/arm/attr-mcpu.d: Likewise.
	* gas/arm/attr-mfpu-arm1020e.d: Likewise.
	* gas/arm/attr-mfpu-arm1020t.d: Likewise.
	* gas/arm/attr-mfpu-arm1136jf-s.d: Likewise.
	* gas/arm/attr-mfpu-arm1136jfs.d: Likewise.
	* gas/arm/attr-mfpu-arm7500fe.d: Likewise.
	* gas/arm/attr-mfpu-fpa.d: Likewise.
	* gas/arm/attr-mfpu-fpa10.d: Likewise.
	* gas/arm/attr-mfpu-fpa11.d: Likewise.
	* gas/arm/attr-mfpu-fpe.d: Likewise.
	* gas/arm/attr-mfpu-fpe2.d: Likewise.
	* gas/arm/attr-mfpu-fpe3.d: Likewise.
	* gas/arm/attr-mfpu-maverick.d: Likewise.
	* gas/arm/attr-mfpu-neon-fp16.d: Likewise.
	* gas/arm/attr-mfpu-neon.d: Likewise.
	* gas/arm/attr-mfpu-softfpa.d: Likewise.
	* gas/arm/attr-mfpu-softvfp+vfp.d: Likewise.
	* gas/arm/attr-mfpu-softvfp.d: Likewise.
	* gas/arm/attr-mfpu-vfp.d: Likewise.
	* gas/arm/attr-mfpu-vfp10-r0.d: Likewise.
	* gas/arm/attr-mfpu-vfp10.d: Likewise.
	* gas/arm/attr-mfpu-vfp3.d: Likewise.
	* gas/arm/attr-mfpu-vfp9.d: Likewise.
	* gas/arm/attr-mfpu-vfpv2.d: Likewise.
	* gas/arm/attr-mfpu-vfpv3-d16.d: Likewise.
	* gas/arm/attr-mfpu-vfpv3.d: Likewise.
	* gas/arm/attr-mfpu-vfpxd.d: Likewise.
	* gas/arm/attr-order.d: Likewise.
	* gas/arm/attr-override-cpu-directive.d: Likewise.
	* gas/arm/attr-override-mcpu.d: Likewise.

2009-01-27  Nick Clifton  <nickc@@redhat.com>

	* gas/lib/gas-defs.exp: Update description of run_dump_test proc.

	* gas/mips/dli.d: Pass -64 to gas.
	* gas/mips/mips64-mips3d-incl.d: Likewise.
	* gas/mips/octeon.d: Likewise.
	* gas/mips/sb1-ext-mdmx.d: Likewise.
	* gas/mips/sb1-ext-ps.d: Likewise.
	* gas/mips/e32el-rel2.s: Pass -march=mips3 to gas.
	Update expected relocs.
	* gas/mips/ld-ilocks-addr32.d: Do not run for tx39 targets.
	* gas/mips/mips.exp: Remove 'ilocks' variable.
	Add ecoff targets to 'addr32' variable.
	Set 'no_mips16' for ecoff targets.
	Do not run div-ilocks or mul-ilocks test variants.
	* gas/mips/mips16-intermix.d: Use nm instead of objdump so that
	the symbol table output is sorted.  Update expecetd output.

2009-01-26  Andrew Stubbs  <ams@@codesourcery.com>

	* gas/arm/attr-cpu-directive.d: New file.
	* gas/arm/attr-cpu-directive.s: New file.
	* gas/arm/attr-default.d: New file.
	* gas/arm/attr-march-all.d: New file.
	* gas/arm/attr-march-armv1.d: New file.
	* gas/arm/attr-march-armv2.d: New file.
	* gas/arm/attr-march-armv2a.d: New file.
	* gas/arm/attr-march-armv2s.d: New file.
	* gas/arm/attr-march-armv3.d: New file.
	* gas/arm/attr-march-armv3m.d: New file.
	* gas/arm/attr-march-armv4.d: New file.
	* gas/arm/attr-march-armv4t.d: New file.
	* gas/arm/attr-march-armv4txm.d: New file.
	* gas/arm/attr-march-armv4xm.d: New file.
	* gas/arm/attr-march-armv5.d: New file.
	* gas/arm/attr-march-armv5t.d: New file.
	* gas/arm/attr-march-armv5te.d: New file.
	* gas/arm/attr-march-armv5tej.d: New file.
	* gas/arm/attr-march-armv5texp.d: New file.
	* gas/arm/attr-march-armv5txm.d: New file.
	* gas/arm/attr-march-armv6-m.d: New file.
	* gas/arm/attr-march-armv6.d: New file.
	* gas/arm/attr-march-armv6j.d: New file.
	* gas/arm/attr-march-armv6k.d: New file.
	* gas/arm/attr-march-armv6kt2.d: New file.
	* gas/arm/attr-march-armv6t2.d: New file.
	* gas/arm/attr-march-armv6z.d: New file.
	* gas/arm/attr-march-armv6zk.d: New file.
	* gas/arm/attr-march-armv6zkt2.d: New file.
	* gas/arm/attr-march-armv6zt2.d: New file.
	* gas/arm/attr-march-armv7-a.d: New file.
	* gas/arm/attr-march-armv7-m.d: New file.
	* gas/arm/attr-march-armv7-r.d: New file.
	* gas/arm/attr-march-armv7.d: New file.
	* gas/arm/attr-march-armv7a.d: New file.
	* gas/arm/attr-march-armv7m.d: New file.
	* gas/arm/attr-march-armv7r.d: New file.
	* gas/arm/attr-march-iwmmxt.d: New file.
	* gas/arm/attr-march-iwmmxt2.d: New file.
	* gas/arm/attr-march-xscale.d: New file.
	* gas/arm/attr-mcpu.d: New file.
	* gas/arm/attr-mfpu-arm1020e.d: New file.
	* gas/arm/attr-mfpu-arm1020t.d: New file.
	* gas/arm/attr-mfpu-arm1136jf-s.d: New file.
	* gas/arm/attr-mfpu-arm1136jfs.d: New file.
	* gas/arm/attr-mfpu-arm7500fe.d: New file.
	* gas/arm/attr-mfpu-fpa.d: New file.
	* gas/arm/attr-mfpu-fpa10.d: New file.
	* gas/arm/attr-mfpu-fpa11.d: New file.
	* gas/arm/attr-mfpu-fpe.d: New file.
	* gas/arm/attr-mfpu-fpe2.d: New file.
	* gas/arm/attr-mfpu-fpe3.d: New file.
	* gas/arm/attr-mfpu-maverick.d: New file.
	* gas/arm/attr-mfpu-neon-fp16.d: New file.
	* gas/arm/attr-mfpu-neon.d: New file.
	* gas/arm/attr-mfpu-softfpa.d: New file.
	* gas/arm/attr-mfpu-softvfp+vfp.d: New file.
	* gas/arm/attr-mfpu-softvfp.d: New file.
	* gas/arm/attr-mfpu-vfp.d: New file.
	* gas/arm/attr-mfpu-vfp10-r0.d: New file.
	* gas/arm/attr-mfpu-vfp10.d: New file.
	* gas/arm/attr-mfpu-vfp3.d: New file.
	* gas/arm/attr-mfpu-vfp9.d: New file.
	* gas/arm/attr-mfpu-vfpv2.d: New file.
	* gas/arm/attr-mfpu-vfpv3-d16.d: New file.
	* gas/arm/attr-mfpu-vfpv3.d: New file.
	* gas/arm/attr-mfpu-vfpxd.d: New file.
	* gas/arm/attr-order.d: Update Tag_ARM_ISA_use and Tag_THUMB_ISA_use.
	* gas/arm/attr-override-cpu-directive.d: New file.
	* gas/arm/attr-override-cpu-directive.s: New file.
	* gas/arm/attr-override-mcpu.d: New file.
	* gas/arm/attr-override-mcpu.s: New file.
	* gas/arm/blank.s: New file.
	* gas/arm/eabi_attr_1.d: Update Tag_ARM_ISA_use and Tag_THUMB_ISA_use.

2009-01-26  Nick Clifton  <nickc@@redhat.com>

	* gas/arm/attr-order.d: Do not run this test for non-ELF based ARM
	targets.

2009-01-24  Andreas Schwab  <schwab@@suse.de>

	* gas/lns/lns.exp: Don't run lns-duplicate for d10v target.

2009-01-23  Andreas Schwab  <schwab@@suse.de>

	* gas/mips/mips16-e.d: Adjust for change in LOCAL_LABEL_PREFIX.
	* gas/mips/mipsel16-e.d: Likewise.
	* gas/mips/tmips16-e.d: Likewise.
	* gas/mips/tmipsel16-e.d: Likewise.

2009-01-19  Nick Clifton  <nickc@@redhat.com>

	* lib/gas-defs.exp (run_list_test): Fix typo in comment.

2009-01-19  Nick Clifton  <nickc@@redhat.com>

	* gas/arm/attr-syntax.d: Do not run for non-ELF based ARM
	targets.

2009-01-19  Andrew Stubbs  <ams@@codesourcery.com>

	* gas/arm/attr-order.d: New file.
	* gas/arm/attr-order.s: New file.

2009-01-16  Andrew Stubbs  <ams@@codesourcery.com>
	    Daniel Jacobowitz  <dan@@codesourcery.com>

	* gas/arm/attr-syntax.d: New file.
	* gas/arm/attr-syntax.s: New file.

2009-01-15  Nick Clifton  <nickc@@redhat.com>

	PR 9722
	* gas/arm/archv6m.d: Update expected NOP opcode.
	* gas/arm/pr9722.s: New test.
	* gas/arm/pr9722.d: Expected disassembly.

2009-01-14  Peter Bergner  <bergner@@vnet.ibm.com>

	* gas/ppc/power6.s ("mtfsf", "mtfsf.", "mtfsfi", "mtfsfi."): Add tests.
	* gas/ppc/power6.d: Likewise.

2009-01-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/sse-noavx.s: Add tests for lfence, mfence and movnti.
	* gas/i386/x86-64-sse-noavx.s: Likewise.

	* gas/i386/sse-noavx.d: Updated.
	* gas/i386/x86-64-sse-noavx.d: Likewise.

2009-01-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/opts.s: Add tests for add, adc, and, cmp, or, sbb,
	sub and xor.
	* gas/i386/x86-64-opts.s: Likewise.

	* gas/i386/opts.d: Updated.
	* gas/i386/opts-intel.d: Likewise.
	* gas/i386/sse2avx-opts.d: Likewise.
	* gas/i386/sse2avx-opts-intel.d: Likewise.
	* gas/i386/x86-64-opts.d: Likewise.
	* gas/i386/x86-64-opts-intel.d: Likewise.
	* gas/i386/x86-64-sse2avx-opts.d: Likewise.
	* gas/i386/x86-64-sse2avx-opts-intel.d: Likewise.

2009-01-10  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/arch-10.s: Add clflush and syscall.
	* gas/i386/x86-64-arch-2.s: Likewise.

	* gas/i386/arch-10.d: Updated.
	* gas/i386/arch-10-1.l: Likewise.
	* gas/i386/arch-10-2.l: Likewise.
	* gas/i386/arch-10-3.l: Likewise.
	* gas/i386/arch-10-4.l: Likewise.
	* gas/i386/x86-64-arch-2.d: Likewise.

2009-01-09  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/arch-10.s: Add rdtscp.
	* gas/i386/x86-64-arch-2.s: Likewise.

	* gas/i386/arch-10.d: Updated.
	* gas/i386/arch-10-1.l: Likewise.
	* gas/i386/arch-10-2.l: Likewise.
	* gas/i386/arch-10-3.l: Likewise.
	* gas/i386/arch-10-4.l: Likewise.
	* gas/i386/x86-64-arch-2.d: Likewise.

2009-01-06  Chao-ying Fu  <fu@@mips.com>

	* gas/mips/jalr.s, gas/mips/jalr.l: Add more tests for jalr
	and jalr.hb.

2009-01-06  H.J. Lu  <hongjiu.lu@@intel.com>

	AVX Programming Reference (December, 2008)
	* gas/i386/avx.s: Add tests for 256bit vmovntdq, vmovntpd and
	vmovntps.
	* gas/i386/x86-64-avx.s: Likewise.

	* gas/i386/avx.d: Updated.
	* gas/i386/avx-intel.d: Likewise.
	* gas/i386/x86-64-avx.d: Likewise.
	* gas/i386/x86-64-avx-intel.d: Likewise.

2009-01-05  H.J. Lu  <hongjiu.lu@@intel.com>

	AVX Programming Reference (December, 2008)
	* gas/i386/arch-10.s: Replace vfmaddpd with vfmadd132pd.
	* gas/i386/x86-64-arch-2.s: Likewise.

	* gas/i386/arch-10.d: Updated.
	* gas/i386/arch-10-1.l: Likewise.
	* gas/i386/arch-10-2.l: Likewise.
	* gas/i386/arch-10-3.l: Likewise.
	* gas/i386/arch-10-4.l: Likewise.
	* gas/i386/avx.d: Likewise.
	* gas/i386/avx-intel.d: Likewise.
	* gas/i386/inval-avx.l: Likewise.
	* gas/i386/x86-64-arch-2.d: Likewise.
	* gas/i386/x86-64-avx.d: Likewise.
	* gas/i386/x86-64-avx-intel.d: Likewise.
	* gas/i386/x86-64-inval-avx.l: Likewise.

	* gas/i386/avx.s: Remove vpermil2ps/vpermil2pd and FMA
	instructions.  Update tests.
	* gas/i386/inval-avx.s: Likewise.
	* gas/i386/x86-64-avx.s: Likewise.
	* gas/i386/x86-64-inval-avx.s: Likewise.

	* gas/i386/fma.d: New.
	* gas/i386/fma.s: Likewise.
	* gas/i386/fma-intel.d: Likewise.
	* gas/i386/x86-64-fma.d: Likewise.
	* gas/i386/x86-64-fma.s: Likewise.
	* gas/i386/x86-64-fma-intel.d: Likewise.

	* gas/i386/i386.exp: Run fma, fma-intel, x86-64-fma and
	x86-64-fma-intel.

For older changes see ChangeLog-2008
@


1.1607
log
@	* gas/mips/eret-2.s: Add an instruction to fill a branch delay
	slot.
	* gas/mips/eret-2.d: Adjust accordingly.
@
text
@d1 4
@


1.1606
log
@	gas/
	* config/tc-mips.c (s_mips_ent): Also set BSF_FUNCTION for
	".aent".

	gas/testsuite/
	* gas/mips/aent.d: New test.
	* gas/mips/aent.s: Source for the new test.
	* gas/mips/mips.exp: Run it.
@
text
@d3 6
@


1.1605
log
@        PR binutils/10924
        * config/tc-arm.c (do_ldstv4): Do not allow r15 as the destination
        register.
        (do_mrs): Likewise.
        (do_mul): Likewise.

        * arm-dis.c: Add support for %<>ru and %<>rU formats to enforce
        unique register numbers.  Extend support for %<>R format to
        thumb32 and coprocessor instructions.

        * gas/arm/unpredictable.s: Add more unpredictable instructions.
        * gas/arm/unpredictable.d: Add expected disassemblies.
@
text
@d1 6
@


1.1604
log
@        PR binutils/10924
        * arm-dis.c (arm_opcodes): Specify %R in cases where using r15
        results in unpredictable behaviour.
        (print_insn_arm): Handle %R.

        * gas/arm/unpredictable.s: New test case - checks the disassembly
        of instructions with unpredictable behaviour.
        * gas/arm/unpredictable.d: New file - expected disassembly.
@
text
@d1 6
@


1.1603
log
@2009-12-11  Quentin Neill  <quentin.neill@@amd.com>

	gas/testsuite/
	* gas/i386/fma4.d: Add test cases.
	* gas/i386/fma4.s: Add test cases.
	* gas/i386/x86-64-fma4.d: Add test cases.
	* gas/i386/x86-64-fma4.s: Add test cases.

	opcodes/
	* i386-dis.c (get_vex_imm8): Extend logic to apply in all
	cases, to avoid fetching ahead for the immediate bytes when
	OP_E_memory has already been called.  Fix indentation.
@
text
@d1 7
@


1.1602
log
@Call symbol_same_p to check to if 2 symbols are the same.

gas/

2009-12-07  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11037
	* expr.c (resolve_expression): Call symbol_same_p to check
	if 2 symbols are the same.

	* symbols.c (symbol_same_p): New.
	* symbols.h (symbol_same_p): Likewise.

gas/testsuite/

2009-12-07  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11037
	* gas/i386/intelpic.s: Add testcases.
	* gas/i386/intelpic.d: Updated.
@
text
@d1 7
@


1.1601
log
@Support fxsave64 and fxrstor64.

gas/testsuite/

2009-12-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run x86-64-fxsave and x86-64-fxsave-intel.

	* gas/i386/rex.d: Updated for fxsave64.

	* gas/i386/x86-64-fxsave-intel.d: New.
	* gas/i386/x86-64-fxsave.d: Likewise.
	* gas/i386/x86-64-fxsave.s: Likewise.

opcodes/

2009-12-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (FXSAVE_Fixup): New.
	(FXSAVE): Likewise.
	(mod_table): Use FXSAVE on fxsave and fxrstor.

	* i386-opc.tbl: Add fxsave64 and fxrstor64.
	* i386-tbl.h: Regenerated.
@
text
@d1 6
@


1.1600
log
@        PR gas/11013
        * arm-dis.c (thumb32_opc): Adjust disassembly of QADD, QDADD, QSUB
        and QDSUB.

        * gas/arm/arch7em.d: Update expected disassembly.
        * gas/arm/thumb32.d: Likewise.

        * config/tc-arm.c (do_t_simd2): New function.
        (insns): Use do_t_simd2 for QADD, QDADD, QSUB and QDSUB.
@
text
@d1 10
@


1.1599
log
@2009-11-17  Quentin Neill  <quentin.neill@@amd.com>
	    Sebastian Pop  <sebastian.pop@@amd.com>

	gas/testsuite/
	* gas/i386/x86-64-fma4.d: Add new patterns.
	* gas/i386/x86-64-fma4.s: Same.
	* gas/i386/x86-64-xop.d: Adjusted.

	opcodes/
	* i386-dis.c (get_vex_imm8): Increase bytes_before_imm when
	decoding the second source operand from the immediate byte.
	(OP_EX_VexW): Pass an extra integer to identify the second
	and third source arguments.
@
text
@d1 7
@


1.1598
log
@Allow lock on cmpxch16b.

gas/testsuite/

2009-11-19  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/lock-1.s: Add cmpxchg16b test.
	* gas/i386/lock-1-intel.d: Updated.
	* gas/i386/lock-1.d: Likewise.

opcodes/

2009-11-19  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-opc.tbl: Add IsLockable to cmpxch16b.
	* i386-tbl.h: Regenerated.
@
text
@d1 7
@


1.1597
log
@        PR binutils/10924
        * gas/arm/arch4t-eabi.d: Restore previous expected dissambly of
        instructions using Immediate Offset addressing with an offset of
        zero.
        * gas/arm/arch4t.d: Likewise.
        * gas/arm/arm7t.d: Likewise.
        * gas/arm/xscale.d: Likewise.
        * gas/arm/wince-inst.d: Remove 'p' suffix from cmp, cmn, teq and
        tst instructions.

        PR binutils/10924
        * arm-dis.c (print_insn_arm): Do not print an offset of zero when
        decoding Immediaate Offset addressing.
@
text
@d1 6
@


1.1596
log
@2009-11-18  Sebastian Pop  <sebastian.pop@@amd.com>

	opcodes/
	PR binutils/10973
	* i386-dis.c (get_vex_imm8): Do not increment codep.
	Avoid incrementing bytes_before_imm when OP_E_memory
	has already forwarded the codep pointer.
	(OP_EX_VexW): Increment codep to skip mod/rm byte.

	gas/testsuite/
	* gas/i386/x86-64-xop.d: Update patterns.
@
text
@d1 12
@


1.1595
log
@2009-11-18  Sebastian Pop  <sebastian.pop@@amd.com>

	gas/
	* config/tc-i386.c (cpu_arch): Remove cvt16.
	(md_show_usage): Same.
	* doc/c-i386.texi: Same.

	gas/testsuite/
	* gas/i386/cvt16.d: Removed.
	* gas/i386/cvt16.s: Removed.
	* gas/i386/x86-64-cvt16.d: Removed.
	* gas/i386/x86-64-cvt16.s: Removed.
	* gas/i386/i386.exp: Remove cvt16 and x86-64-cvt16 tests.

	opcodes/
	* i386-dis.c (VEX_LEN_XOP_08_A0): Removed.
	(VEX_LEN_XOP_08_A1): Removed.
	(xop_table): Remove entries for VEX_LEN_XOP_08_A0 and
	VEX_LEN_XOP_08_A1.
	(vex_len_table): Same.
	* i386-gen.c (CPU_CVT16_FLAGS): Removed.
	(cpu_flags): Remove field for CpuCVT16.
	* i386-opc.h (CpuCVT16): Removed.
	(i386_cpu_flags): Remove bitfield cpucvt16.
	(i386-opc.tbl): Remove CVT16 instructions.
	* i386-init.h: Regenerated.
	* i386-tbl.h: Regenerated.
@
text
@d3 4
@


1.1594
log
@Remove suffix on fxsave.

2009-11-18  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/rex.d: Remove suffix on fxsave.
@
text
@d1 8
@


1.1593
log
@2009-11-17  Sebastian Pop  <sebastian.pop@@amd.com>
	    Quentin Neill  <quentin.neill@@amd.com>

	gas/
	* config/tc-i386.c (cpu_arch): Added .xop and .cvt16.
	(build_vex_prefix): Handle xop08.
	(md_assemble): Don't special case the constant 3 for insns using MODRM.
	(build_modrm_byte): Handle vex2sources.
	(md_show_usage): Add xop and cvt16.
	* doc/c-i386.texi: Document fma4, xop, and cvt16.

	gas/testsuite/
	* gas/i386/i386.exp: Run xop and cvt16 in 32-bit mode.
	Run x86-64-xop and x86-64-cvt16 in 64-bit mode.
	* gas/i386/lwp.d: Update name of the testcase.
	* gas/i386/x86-64-xop.d: New.
	* gas/i386/x86-64-xop.s: New.
	* gas/i386/xop.d: New.
	* gas/i386/xop.s: New.
	* gas/i386/cvt16.d: New.
	* gas/i386/cvt16.s: New.

	opcodes/
	* i386-dis.c (OP_Vex_2src_1): New.
	(OP_Vex_2src_2): New.
	(Vex_2src_1): New.
	(Vex_2src_2): New.
	(XOP_08): Added.
	(VEX_LEN_XOP_08_A0): Added.
	(VEX_LEN_XOP_08_A1): Added.
	(VEX_LEN_XOP_09_80): Added.
	(VEX_LEN_XOP_09_81): Added.
	(xop_table): Added an entry for XOP_08.  Handle xop instructions.
	(vex_len_table): Added entries for VEX_LEN_XOP_08_A0,
	VEX_LEN_XOP_08_A1, VEX_LEN_XOP_09_80, VEX_LEN_XOP_09_81.
	(get_valid_dis386): Handle XOP_08.
	(OP_Vex_2src): New.
	* i386-gen.c (cpu_flag_init): Add CPU_XOP_FLAGS and CPU_CVT16_FLAGS.
	(cpu_flags): Add CpuXOP and CpuCVT16.
	(opcode_modifiers): Add XOP08, Vex2Sources.
	* i386-opc.h (CpuXOP): Added.
	(CpuCVT16): Added.
	(i386_cpu_flags): Add cpuxop and cpucvt16.
	(XOP08): Added.
	(Vex2Sources): Added.
	(i386_opcode_modifier): Add xop08, vex2sources.
	* i386-opc.tbl: Add entries for XOP and CVT16 instructions.
	* i386-init.h: Regenerated.
	* i386-tbl.h: Regenerated.
@
text
@d1 4
d19 1
a19 1
	Daniel Jacobowitz  <dan@@codesourcery.com>
@


1.1592
log
@        * gas/arm/vfma1.d: Only run on ELF based targets.

        PR binutils/10924
        * gas/arm/arch4t-eabi.d: Update expected disassembly.
        * gas/arm/arch4t.d: Likewise.
        * gas/arm/archv6t2.d: Likewise.
        * gas/arm/arm7t.d: Likewise.
        * gas/arm/inst.d: Likewise.
        * gas/arm/xscale.d: Likewise.

        PR binutils/10924
        * arm-dis.c (arm_opcodes): Add patterns to match undefined LDRB
        instruction variants.  Add pattern for MRS variant that was being
        confused with CMP.
        (arm_decode_shift): Place error message in a comment.
        (print_insn_arm): Note that writing back to the PC is
        unpredictable.
        Only print 'p' variants of cmp/cmn/teq/tst instructions if
        decoding for pre-V6 architectures.
@
text
@d1 13
d36 1
a36 1
	
@


1.1591
log
@2009-11-17  Paul Brook  <paul@@codesourcery.com>
	Daniel Jacobowitz  <dan@@codesourcery.com>

	gas/
	* doc/c-arm.texi: Document .arch armv7e-m.
	* config/tc-arm.c (arm_ext_v6_dsp, arm_ext_v7m): New.
	(insns): Put Thumb versions of v5TExP instructions into
	arm_ext_v5exp also.  Move some Thumb variants from
	arm_ext_v6_notm to arm_ext_v6_dsp.
	(arm_archs): Add armv7e-m architecture.
	(aeabi_set_public_attributes): Handle -march=armv7e-m.

	gas/testsuite/
	* gas/arm/attr-march-armv7em.d: New test.
	* gas/arm/arch7em-bad.d: New test.
	* gas/arm/arch7em-bad.l: New test.
	* gas/arm/arch7em.d: New test.
	* gas/arm/arch7em.s: New test.

	include/elf/
	* arm.h (TAG_CPU_ARCH_V7E_M): Define.

	include/opcode/
	* arm.h (ARM_EXT_V6_DSP): Define.
	(ARM_AEXT_V6T2, ARM_AEXT_NOTM): Include ARM_EXT_V6_DSP.
	(ARM_AEXT_V7EM, ARM_ARCH_V7EM): Define.

	binutils/
	* readelf.c (arm_attr_tag_CPU_arch): Add v7E-M.

	bfd/
	* elf32-arm.c (using_thumb_only, arch_has_arm_nop,
	arch_has_thumb2_nop): Handle TAG_CPU_ARCH_V7E_M.
	(tag_cpu_arch_combine): Ditto. Correct MAX_TAG_CPU_ARCH test.
@
text
@d12 14
@


1.1590
log
@        * gas/rx/macros.inc (creg): Remove cpen.
        * gas/rx/mvfc.d: Remove expected uses of cpen register.
        * gas/rx/mvtc.d: Likewise.
        * gas/rx/popc.d: Likewise.
        * gas/rx/pushc.d: Likewise.
@
text
@d1 9
@


1.1589
log
@        * config/tc-arm.c (parse_operands): Encode APSR_nzcv as r15.
        (do_vmrs): New function.
        (do_vmsr): New function.
        (insns): Add vmrs and vmsr.

        * gas/arm/vfp1xD.s: Add vmrs and vmsr instructions.
        * gas/arm/vfp1xD.d: Update expected disassembly.
@
text
@d1 8
@


1.1588
log
@Check destination operand for lockable instructions.

gas/

2009-11-13  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (md_assemble): Check destination operand
	for lockable instructions.

gas/testsuite/

2009-11-13  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/lock-1-intel.d: Updated.
	* gas/i386/lock-1.d: Likewise.
	* gas/i386/lock-1.s: Likewise.
	* gas/i386/lockbad-1.l: Likewise.
	* gas/i386/lockbad-1.s: Likewise.
	* gas/i386/x86-64-lock-1-intel.d: Likewise.
	* gas/i386/x86-64-lock-1.d: Likewise.
	* gas/i386/x86-64-lock-1.s: Likewise.
	* gas/i386/x86-64-lockbad-1.l: Likewise.
	* gas/i386/x86-64-lockbad-1.s: Likewise.
@
text
@d1 5
@


1.1587
log
@Check rex_ignored.

gas/testsuite/

2009-11-13  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/rex.s: Add a test for VEX insn.
	* gas/i386/rex.d: Updated.

opcodes/

2009-11-13  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (print_insn): Check rex_ignored.
@
text
@d3 13
@


1.1586
log
@Rewrite prefix processing.

gas/testsuite/

2009-11-13  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run long-1, long-1-intel, x86-64-long-1,
	and x86-64-long-1-intel.

	* gas/i386/long-1-intel.d: New.
	* gas/i386/long-1.d: Likewise.
	* gas/i386/long-1.s: Likewise.
	* gas/i386/x86-64-long-1-intel.d: Likewise.
	* gas/i386/x86-64-long-1.d: Likewise.
	* gas/i386/x86-64-long-1.s: Likewise.

	* gas/i386/jump16.d: Updated for prefix processing.
	* gas/i386/naked.d: Likewise.
	* gas/i386/nops-1-core2.d: Likewise.
	* gas/i386/nops-1-i686.d: Likewise.
	* gas/i386/nops-3-i686.d: Likewise.
	* gas/i386/nops-4-i686.d: Likewise.
	* gas/i386/nops-5-i686.d: Likewise.
	* gas/i386/nops-5.d: Likewise.
	* gas/i386/prefix.d: Likewise.
	* gas/i386/rep.d: Likewise.
	* gas/i386/string-ok.d: Likewise.
	* gas/i386/x86-64-addr32-intel.d: Likewise.
	* gas/i386/x86-64-addr32.d: Likewise.
	* gas/i386/x86-64-cbw-intel.d: Likewise.
	* gas/i386/x86-64-cbw.d: Likewise.
	* gas/i386/x86-64-io-intel.d: Likewise.
	* gas/i386/x86-64-io-suffix.d: Likewise.
	* gas/i386/x86-64-io.d: Likewise.
	* gas/i386/x86-64-lwp.d: Likewise.
	* gas/i386/x86-64-nops-1-core2.d: Likewise.
	* gas/i386/x86-64-nops-1-nocona.d: Likewise.
	* gas/i386/x86-64-nops-1.d: Likewise.
	* gas/i386/x86-64-nops-2.d: Likewise.
	* gas/i386/x86-64-nops-3.d: Likewise.
	* gas/i386/x86-64-nops-4-core2.d: Likewise.
	* gas/i386/x86-64-nops-4.d: Likewise.
	* gas/i386/x86-64-nops-5-k8.d: Likewise.
	* gas/i386/x86-64-nops-5.d: Likewise.
	* gas/i386/x86-64-rep.d: Likewise.
	* gas/i386/x86-64-stack-intel.d: Likewise.
	* gas/i386/x86-64-stack-suffix.d: Likewise.
	* gas/i386/x86-64-stack.d: Likewise.

ld/testsuite/

2009-11-13  H.J. Lu  <hongjiu.lu@@intel.com>

	* ld-x86-64/tlsbin.dd: Updated for prefix processing.
	* ld-x86-64/tlsgdesc.dd: Likewise.
	* ld-x86-64/tlsld1.dd: Likewise.
	* ld-x86-64/tlspic.dd: Likewise.

opcodes/

2009-11-13  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (ckprefix): Updated to return 0 if number of
	prefixes > 14 and record the last position for each prefix.
	(lock_prefix): Removed.
	(data_prefix): Likewise.
	(addr_prefix): Likewise.
	(repz_prefix): Likewise.
	(repnz_prefix): Likewise.
	(last_lock_prefix): New.
	(last_repz_prefix): Likewise.
	(last_repnz_prefix): Likewise.
	(last_data_prefix): Likewise.
	(last_addr_prefix): Likewise.
	(last_rex_prefix): Likewise.
	(last_seg_prefix): Likewise.
	(MAX_CODE_LENGTH): Likewise.
	(ADDR16_PREFIX): Likewise.
	(ADDR32_PREFIX): Likewise.
	(DATA16_PREFIX): Likewise.
	(DATA32_PREFIX): Likewise.
	(REP_PREFIX): Likewise.
	(seg_prefix): Likewise.
	(all_prefixes): Change size to MAX_CODE_LENGTH - 1.
	(prefix_name): Handle ADDR16_PREFIX, ADDR32_PREFIX,
	DATA16_PREFIX, DATA32_PREFIX and REP_PREFIX.
	(get_valid_dis386): Updated.
	(OP_C): Likewise.
	(OP_Monitor): Likewise.
	(REP_Fixup): Likewise.
	(print_insn): Display all prefixes.
	(putop): Set PREFIX_DATA on used_prefixes only if it is used.
	(intel_operand_size): Likewise.
	(OP_E_register): Likewise.
	(OP_G): Likewise.
	(OP_REG): Likewise.
	(OP_IMREG): Likewise.
	(OP_I): Likewise.
	(OP_I64): Likewise.
	(OP_sI): Likewise.
	(CRC32_Fixup): Likewise.
	(MOVBE_Fixup): Likewise.
	(OP_E_memory): Set REFIX_DATA on used_prefixes when it is used
	in 16bit mode.
	(OP_J): Set REX_W used if it is used. Set PREFIX_DATA on
	used_prefixes only if it is used.
@
text
@d3 5
@


1.1585
log
@gas/

2009-11-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (LOCKREP_PREFIX): Removed.
	(REP_PREFIX): New.
	(LOCK_PREFIX): Likewise.
	(PREFIX_GROUP): Likewise.
	(REX_PREFIX): Updated.
	(MAX_PREFIXES): Likewise.
	(add_prefix): Updated.  Return enum PREFIX_GROUP.
	(md_assemble): Check for lock without a lockable instruction.
	(parse_insn): Updated.
	(output_insn): Likewise.

gas/testsuite/

2009-11-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run lock-1, lock-1-intel, lockbad-1,
	x86-64-lock-1, x86-64-lock-1-intel and x86-64-lockbad-1.

	* gas/i386/lock-1-intel.d: New.
	* gas/i386/lock-1.d: Likewise.
	* gas/i386/lock-1.s: Likewise.
	* gas/i386/lockbad-1.l: Likewise.
	* gas/i386/lockbad-1.s: Likewise.
	* gas/i386/x86-64-lock-1-intel.d: Likewise.
	* gas/i386/x86-64-lock-1.d: Likewise.
	* gas/i386/x86-64-lock-1.s: Likewise.
	* gas/i386/x86-64-lockbad-1.l: Likewise.
	* gas/i386/x86-64-lockbad-1.s: Likewise.

opcodes/

2009-11-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-gen.c (opcode_modifiers): Add IsLockable.

	* i386-opc.h (IsLockable): New.
	(i386_opcode_modifier): Add islockable.

	* i386-opc.tbl: Add IsLockable to add, adc, and, btc, btr,
	bts, cmpxchg, cmpxch8b, dec, inc, neg, not, or, sbb, sub,
	xor, xadd and xchg.
	* i386-tbl.h: Regenerated.
@
text
@d1 45
@


1.1584
log
@	gas/testsuite/
	* gas/arm/copro.d, gas/arm/fp-save.d, gas/arm/float.d,
	gas/arm/fpa-mem.d: Update for removed generic coprocessor instructions
	and expanded PC-relative offsets.

	opcodes/
	* arm-dis.c (coprocessor_opcodes): Use %A instead of %C.  Remove
	generic coprocessor instructions for FPA loads and stores.
	(print_insn_coprocessor): Remove %C support.  Display address for
	PC-relative offsets in %A.
@
text
@d1 16
@


1.1583
log
@gas/testsuite/

2009-11-11  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/prefix.d: Swap order of ADDR and REP prefixes.
	* gas/i386/rep.d: Likewise.
	* gas/i386/x86-64-rep.d: Likewise.

opcodes/

2009-11-11  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (all_prefixes): New.
	(ckprefix): Set all_prefixes.
	(print_insn): Print all_prefixes instead of lock_prefix,
	repz_prefix, repnz_prefix, addr_prefix and data_prefix.
@
text
@d1 6
@


1.1582
log
@2009-11-06  Sebastian Pop  <sebastian.pop@@amd.com>

	* opcodes/i386-dis.c (reg_table): Add XOP_8F_TABLE (XOP_09) to
	reg_table[REG_8F][1]: for XOP instructions, ModRM.reg first points to
	B.mm in the RXB.mmmmm byte, and so when B is set, we still should use
	the xop_table.
	(get_valid_dis386): Removed unused condition (from cut/n/paste) for
	XOP instructions.

	* gas/testsuite/gas/i386/x86-64-lwp.s: Updated to also contain
	patterns with r[8-15] registers.
	* gas/testsuite/gas/i386/x86-64-lwp.d: Same.
@
text
@d1 6
@


1.1581
log
@2009-11-05  Sebastian Pop  <sebastian.pop@@amd.com>
	    Quentin Neill  <quentin.neill@@amd.com>

	* gas/config/tc-i386.c (cpu_arch): Add CPU_LWP_FLAGS.
	(build_vex_prefix): Handle xop09 and xop0a.
	(build_modrm_byte): Handle vexlwp.
	(md_show_usage): Add lwp.
	* gas/doc/c-i386.texi (i386-LWP): New section.

	* gas/testsuite/gas/i386/i386.exp: Run x86-64-lwp in 64-bit mode,
	run lwp in 32-bit mode.
	* gas/testsuite/gas/i386/x86-64-lwp.d: New.
	* gas/testsuite/gas/i386/x86-64-lwp.s: New.
	* gas/testsuite/gas/i386/lwp.d: New.
	* gas/testsuite/gas/i386/lwp.s: New.

	* opcodes/i386-dis.c (OP_LWPCB_E): New.
	(OP_LWP_E): New.
	(OP_LWP_I): New.
	(USE_XOP_8F_TABLE): New.
	(XOP_8F_TABLE): New.
	(REG_XOP_LWPCB): New.
	(REG_XOP_LWP): New.
	(XOP_09): New.
	(XOP_0A): New.
	(reg_table): Redirect REG_8F to XOP_8F_TABLE.
	Add entries for REG_XOP_LWPCB and REG_XOP_LWP.
	(xop_table): New.
	(get_valid_dis386): Handle USE_XOP_8F_TABLE.
	Use the offsets VEX_0F, VEX_0F38, and VEX_0F3A instead of their values
	to access to the vex_table.
	(OP_LWPCB_E): New.
	(OP_LWP_E): New.
	(OP_LWP_I): New.
	* opcodes/i386-gen.c (cpu_flag_init): Add CPU_LWP_FLAGS, CpuLWP.
	(cpu_flags): Add CpuLWP.
	(opcode_modifiers): Add VexLWP, XOP09, and XOP0A.
	* opcodes/i386-opc.h (CpuLWP): New.
	(i386_cpu_flags): Add bit cpulwp.
	(VexLWP): New.
	(XOP09): New.
	(XOP0A): New.
	(i386_opcode_modifier): Add vexlwp, xop09, and xop0a.
	* opcodes/i386-opc.tbl (llwpcb): Added.
	(lwpval): Added.
	(lwpins): Added.
@
text
@d1 6
@


1.1580
log
@        * gas/i386/i386.exp (space1): Move test inside check for x86
        target.
@
text
@d1 10
@


1.1579
log
@2009-11-04  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/876
	* gas/i386/i386.exp: Run space1.

	* gas/i386/space1.l: New.
	* gas/i386/space1.s: Likewise.
@
text
@d1 5
@


1.1578
log
@2009-11-03  Paul Brook  <paul@@codesourcery.com>

	gas/
	* config/tc-arm.c (do_vfp_nsyn_mla_mls): Fix vmls excoding.

	gas/testsuite/
	* gas/arm/vfp-neon-syntax.d: Update expected results.
	* gas/arm/vfp-neon-syntax_t2.d: Update expected results.
@
text
@d1 8
@


1.1577
log
@2009-11-02  Paul Brook  <paul@@codesourcery.com>

	ld/testsuite/
	* ld-arm/arm-elf.exp: Add new attr-merge-vfp tests.
	* ld-arm/attr-merge-vfp-1.d: New test.
	* ld-arm/attr-merge-vfp-1r.d: New test.
	* ld-arm/attr-merge-vfp-2.d: New test.
	* ld-arm/attr-merge-vfp-2r.d: New test.
	* ld-arm/attr-merge-vfp-3.d: New test.
	* ld-arm/attr-merge-vfp-3r.d: New test.
	* ld-arm/attr-merge-vfp-4.d: New test.
	* ld-arm/attr-merge-vfp-4r.d: New test.
	* ld-arm/attr-merge-vfp-5.d: New test.
	* ld-arm/attr-merge-vfp-5r.d: New test.
	* ld-arm/attr-merge-vfp-2.s: New test.
	* ld-arm/attr-merge-vfp-3.s: New test.
	* ld-arm/attr-merge-vfp-3-d16.s: New test.
	* ld-arm/attr-merge-vfp-4.s: New test.
	* ld-arm/attr-merge-vfp-4-d16.s: New test.

	gas/
	* doc/c-arm.texi: Document new -mfpu options.
	* config/tc-arm.c (fpu_vfp_ext_v3xd, fpu_vfp_fp16, fpu_neon_ext_fma,
	fpu_vfp_ext_fma): New.
	(NEON_ENC_TAB): Add vfma, vfms, vfnma and vfnms.
	(do_vfp_nsyn_fma_fms, do_neon_fmac): New functions.
	(insns): Move double precision load/store.  Split out double
	precision VFPv3 instrucitons.  Add VFPv4 instructions.
	(arm_fpus): Add VFPv3-FP16, VFPv3xD and VFPv4 variants.
	(aeabi_set_public_attributes): Set VFPv4 variants

	gas/testsuite/
	* gas/arm/attr-mfpu-vfpv4.d: New test.
	* gas/arm/attr-mfpu-vfpv4-d16.d: New test.
	* gas/arm/neon-fma-cov.d: New test.
	* gas/arm/neon-fma-cov.s: New test.
	* gas/arm/vfp-fma-inc.s: New test.
	* gas/arm/vfp-fma-arm.d: New test.
	* gas/arm/vfp-fma-arm.s: New test.
	* gas/arm/vfp-fma-thumb.d: New test.
	* gas/arm/vfp-fma-thumb.s: New test.
	* gas/arm/vfma1.d: New test.
	* gas/arm/vfma1.s: New test.
	* gas/arm/vfpv3xd.d: New test.
	* gas/arm/vfpv3xd.s: New test.

	include/opcode/
	* arm.h (FPU_VFP_EXT_V3xD, FPU_VFP_EXT_FP16, FPU_NEON_EXT_FMA,
	FPU_VFP_EXT_FMA, FPU_VFP_V3xD, FPU_VFP_V4D16, FPU_VFP_V4): Define.
	(FPU_ARCH_VFP_V3D16_FP16, FPU_ARCH_VFP_V3_FP16, FPU_ARCH_VFP_V3xD,
	FPU_ARCH_VFP_V3xD_FP16, FPU_ARCH_VFP_V4, FPU_ARCH_VFP_V4D16,
	FPU_ARCH_NEON_VFP_V4): Define.

	binutils/
	* readelf.c (arm_attr_tag_VFP_arch): Add VFPv4 and VFPv4-D16.

	bfd/
	* elf32-arm.c (elf32_arm_merge_eabi_attributes): Handle VFPv4
	attributes.

	opcodes/
	* arm-dis.c (coprocessor_opcodes): Update to use new feature flags.
	Add VFPv4 instructions.
@
text
@d1 5
@


1.1576
log
@gas/

2009-10-29  Sebastian Pop  <sebastian.pop@@amd.com>

	* config/tc-i386.c (build_modrm_byte): Do not swap REG and
	NDS operands for FMA4.

gas/testsuite/

2009-10-29  Sebastian Pop  <sebastian.pop@@amd.com>

	* gas/i386/fma4.d: Updated patterns.
	* gas/i386/x86-64-fma4.d: Same.

opcodes/

2009-10-29  Sebastian Pop  <sebastian.pop@@amd.com>

	* i386-dis.c (OP_VEX_FMA): Removed.
	(VexFMA): Removed.
	(Vex128FMA): Removed.
	(prefix_table): First source operand of FMA4 insns is decoded
	with Vex not with VexFMA.
	(OP_EX_VexW): Second source operand is decoded with get_vex_imm8
	when vex.w is set.  Third source operand is decoded with
	get_vex_imm8 when vex.w is cleared.
	(OP_VEX_FMA): Removed.
@
text
@d1 16
@


1.1575
log
@2009-10-29  Paul Brook  <paul@@codesourcery.com>

	gas/
	* config/tc-arm.c (neon_tab_entry): Fix VNMLA/VNMLS opcodes.

	gas/testsuite/
	* gas/arm/vfp-neon-syntax.d: Update expected results.
	* gas/arm/vfp-neon-syntax_t2.d: Update expected results.
@
text
@d1 5
@


1.1574
log
@	PR gas/10856
	* expr.c (resolve_expression): Only add "left" value to O_symbol
	expression when the symbol is undefined and different from the
	original symbol.  Simplify negative logic.

	* gas/i386/intelpic.d: Correct.
@
text
@d1 5
@


1.1573
log
@* gas/z80/equ.d, gas/z80/equ.s: Added test of parsing equ directives.
* gas/z80/z80.exp: Run it.

* gas/z80/redef.d: Expect little endian output only.
@
text
@d1 4
@


1.1572
log
@gas/

2009-10-20  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/10775
	* doc/c-i386.texi: Mention movabs.

gas/testsuite/

2009-10-20  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/10775
	* gas/i386/immed64.d: Updated.
	* gas/i386/l1om.d: Likewise.
	* gas/i386/x86-64-disp-intel.d: Likewise.
	* gas/i386/x86-64-disp.d: Likewise.
	* gas/i386/x86_64.d: Likewise.

opcodes/

2009-10-20  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/10775
	* i386-dis.c: Document LB, LS and LV macros.
	(dis386): Use mov%LB, mov%LS and mov%LV on mov instruction
	with the 64-bit displacement or immediate operand.
	(putop): Handle LB, LS and LV macros.
@
text
@d1 7
@


1.1571
log
@	* config/tc-xc16x.c (md_cgen_lookup_reloc): Ensure fix_size is set
	correctly for all 16 bit relocs.  Return BFD_RELOC_NONE if reloc
	isn't recognized, not BFD_RELOC_XC16X_SOF.

	testsuite:
	* gas/xc16x/shlrol.s: Specify constant shift amount.
	* gas/xc16x/xc16x.exp (do_xc16x_shlrol): Update expected output.
@
text
@d1 9
@


1.1570
log
@Exclude more aout targets.
@
text
@d1 5
@


1.1569
log
@	PR gas/1491
gas/
	* macro.c: Delete unnecessary function declarations.
	(buffer_and_nest): Support multiple labels per line for
	LABELS_WITHOUT_COLONS targets if the labels do have colons.
	(free_macro): Move so that we don't need forward declaration.
	* read.c (read_a_source_file): Take a copy of macro expansion line
	before we trim labels.
	* listing.c (listing_newline): Adjust stdin line save for
	input_line_pointer still at start of line.
gas/testsuite/
	* gas/macros/dot.s: Don't start macro invocations is first column.
	* gas/macros/dot.l: Update.
	* gas/macros/macros.exp: Run dot test on more targets.
@
text
@d1 7
@


1.1568
log
@gas/

2009-10-13  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/10740
	* config/tc-i386-intel.c (i386_intel_operand): Handle call
	and jump with 2 immediate operands.

	* config/tc-i386.c (i386_finalize_immediate): Don't generate
	error message if operand string is NULL.

gas/testsuite/

2009-10-13  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/10740
	* gas/i386/jump.s: Add new tests.
	* gas/i386/jump16.s: Likewise.

	* gas/i386/jump.d: Updated.
	* gas/i386/jump16.d: Likewise.
@
text
@d1 7
@


1.1567
log
@gas:
2009-10-07  Vincent Riviere  <vincent.riviere@@freesbee.fr>

        PR gas/3041
        * config/tc-m68k.c (tc_gen_reloc): Fix addend for relocations
        located in data section an referencing a weak symbol.

gas/testsuite:

2009-10-07  Vincent Riviere  <vincent.riviere@@freesbee.fr>

        PR gas/3041
        * gas/m68k/all.exp: Added "p3041data".
        * gas/m68k/p3041.d, gas/m68k/p3041.s: Added tests of weak references
        from text section to all possible sections.
        * gas/m68k/p3041data.d, gas/m68k/p3041data.s: New test. Check weak
        references from data section.
@
text
@d1 9
@


1.1566
log
@2009-10-08  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/10704
	* gas/i386/intelok.s: Move 2 PIC tests to ...
	* gas/i386/intelpic.s: Here.

	* gas/i386/intelok.d: Updated.
	* gas/i386/intelpic.d: Likewise.
@
text
@d1 9
@


1.1565
log
@2009-10-07  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/10704
	* gas/i386/intelok.s: Add 2 new tests.
	* gas/i386/intelok.d: Updated.
@
text
@d1 9
@


1.1564
log
@gas/
	* config/tc-ppc.c (md_show_usage): Document -m476.
	* doc/c-ppc.texi (PowerPC-Opts): Document -m476.

gas/testsuite/
	* gas/ppc/476.s: New test.
	* gas/ppc/476.d: Likewise.
	* gas/ppc/ppc.exp: Run the 476 test.

include/opcode/
	* ppc.h (PPC_OPCODE_476): Define.

opcodes/
	* ppc-dis.c (ppc_opts): Add "476" entry.
	* ppc-opc.c (PPC476): Define.
	(powerpc_opcodes): Update mnemonics where required for 476.
@
text
@d1 6
@


1.1563
log
@gas/
	* config/tc-ppc.c (md_show_usage): Rename "ppca2" to "a2".
	* doc/c-ppc.texi (PowerPC-Opts): Likewise.

gas/testsuite/
	* gas/ppc/a2.d: Rename "ppca2" to "a2".

include/opcode/
	* ppc.h (PPC_OPCODE_A2): Rename from PPC_OPCODE_PPCA2.

opcodes/
	* ppc-opc.c (PPCA2): Use renamed mask PPC_OPCODE_A2.
	* ppc-dis.c (ppc_opts): Likewise.
	Rename "ppca2" to "a2".
@
text
@d1 6
@


1.1562
log
@bfd
        * Makefile.am (ALL_MACHINES): Add cpu-rx.lo.
        (ALL_MACHINES_CFILES): Add cpu-rx.c.
        (BFD32_BACKENDS): Add elf32-rx.lo.
        (BFD32_BACKENDS_CFILES): Add elf32-rx.c.
        * archures.c (bfd_architecture): Add bfd_arch_rx and bfd_mach_rx.
        Export bfd_rx_arch.
        (bfd_archures_list): Add bfd_rx_arch.
        * config.bfd: Add entry for rx-*-elf.
        * configure.in: Add entries for bfd_elf32_rx_le_vec and
        bfd_elf32_rx_be_vec.
        * reloc.c: Add RX relocations.
        * targets.c: Add RX target vectors.
        * Makefile.in: Regenerate.
        * bfd-in2.h: Regenerate.
        * configure: Regenerate.
        * libbfd.h: Regenerate.
        * cpu-rx.c: New file.
        * elf32-rx.c: New file.

binutils
        * readelf.c: Add support for RX target.
        * MAINTAINERS: Add DJ and NickC as maintainers for RX.

gas
        * Makefile.am: Add RX target.
        * configure.in: Likewise.
        * configure.tgt: Likewise.
        * read.c (do_repeat_with_expander): New function.
        * read.h: Provide a prototype for do_repeat_with_expander.
        * doc/Makefile.am: Add RX target documentation.
        * doc/all.texi: Likewise.
        * doc/as.texinfo: Likewise.
        * Makefile.in: Regenerate.
        * NEWS: Mention support for RX architecture.
        * configure: Regenerate.
        * doc/Makefile.in: Regenerate.
        * config/rx-defs.h: New file.
        * config/rx-parse.y: New file.
        * config/tc-rx.h: New file.
        * config/tc-rx.c: New file.
        * doc/c-rx.texi: New file.

gas/testsuite
        * gas/rx: New directory.
        * gas/rx/*: New set of test cases.
        * gas/elf/section2.e-rx: New expected output file.
        * gas/all/gas.exp: Add support for RX target.
        * gas/elf/elf.exp: Likewise.
        * gas/lns/lns.exp: Likewise.
        * gas/macros/macros.exp: Likewise.

include
        * dis-asm.h: Add prototype for print_insn_rx.

include/elf
        * rx.h: New file.

include/opcode
        * rx.h: New file.

ld
        * Makefile.am: Add rules to build RX emulation.
        * configure.tgt: Likewise.
        * NEWS: Mention support for RX architecture.
        * Makefile.in: Regenerate.
        * emulparams/elf32rx.sh: New file.
        * emultempl/rxelf.em: New file.

opcodes
        * Makefile.am: Add RX files.
        * configure.in: Add support for RX target.
        * disassemble.c: Likewise.
        * Makefile.in: Regenerate.
        * configure: Regenerate.
        * opc2c.c: New file.
        * rx-decode.c: New file.
        * rx-decode.opc: New file.
        * rx-dis.c: New file.
@
text
@d1 4
@


1.1561
log
@opcodes/
	* ppc-opc.c (powerpc_opcodes): Remove support for the the "lxsdux",
	"lxvd2ux", "lxvw4ux", "stxsdux", "stxvd2ux" and "stxvw4ux" opcodes.

gas/testsuite/
	* gas/ppc/vsx.s ("lxsdux", "lxvd2ux", "lxvw4ux", "stxsdux",
	"stxvd2ux", "stxvw4ux"): Remove tests.
	* gas/ppc/vsx.d: Likewise.
	* gas/ppc/power7.s: Likewise.
	* gas/ppc/power7.d: Likewise.
@
text
@d1 10
@


1.1560
log
@gas/

2009-09-24  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/10677
	* config/tc-i386.h (TC_FORCE_RELOCATION_LOCAL): Return true
	for BFD_RELOC_X86_64_GOTPCREL.

gas/testsuite/

2009-09-24  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/10677
	* gas/i386/i386.exp: Run x86-64-localpic.

	* gas/i386/x86-64-localpic.d: New.
	* gas/i386/x86-64-localpic.s: Likewise.
@
text
@d1 8
@


1.1559
log
@2009-09-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/localpic.d: Updated.
@
text
@d1 8
@


1.1558
log
@gas/

2009-09-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.h (TC_FORCE_RELOCATION_LOCAL): Don't check
	BFD_RELOC_386_GOT32.

gas/testsuite/

2009-09-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run localpic.

	* gas/i386/localpic.d: New.
	* gas/i386/localpic.s: Likewise.
@
text
@d3 4
@


1.1557
log
@Tolerate some whitespace differences in readelf output.
@
text
@d1 7
@


1.1556
log
@	* gas/ppc/a2.d: Match PPC64 relocs.
@
text
@d1 29
d1238 3
a1240 3
	* gas/testsuite/gas/arm/archv6m.d: Update expected NOP opcode.
	* gas/testsuite/gas/arm/pr9722.s: New test.
	* gas/testsuite/gas/arm/pr9722.d: Expected disassembly.
@


1.1555
log
@	* lib/gas-defs.exp (gas_test_error): Mark internal error/assertion
	failures seen in output as fails.  Also record output being
	matched for fails.
@
text
@d1 4
@


1.1554
log
@	* gas/mips/eret-1.d: Adjust regexps for robustness.
	* gas/mips/eret-2.d: Likewise.
	* gas/mips/eret-3.d: Likewise.
	* gas/mips/eret-1.s: Reformat for readability.  Add a label
	at the beginning.
	* gas/mips/eret-2.s: Add a label at the beginning.
@
text
@d3 6
@


1.1553
log
@	* gas/mips/eret-1.s: Add trailing padding.
	* gas/mips/eret-2.s: Likewise.
	* gas/mips/eret-3.s: Likewise.
	* gas/mips/eret-1.d: Adjust accordingly.  Force a 32-bit ABI.
	* gas/mips/eret-2.d: Likewise.
	* gas/mips/eret-3.d: Likewise.
@
text
@d3 9
@


1.1552
log
@	* gas/mips/mips.exp: Fix a typo.
@
text
@d3 9
@


1.1551
log
@gas/
	* config/tc-ppc.c (md_show_usage): Document -mpcca2.
	* doc/c-ppc.texi (PowerPC-Opts): Document -mppca2.

gas/testsuite/
	* gas/ppc/a2.s: New.
	* gas/ppc/a2.d: Likewise.
	* gas/ppc/ppc.exp: Run the a2 dump test.

include/opcode/
	* ppc.h (PPC_OPCODE_PPCA2): New.

opcodes/
	* ppc-dis.c (ppc_opts): Add "ppca2" entry.
	* ppc-opc.c (powerpc_opcodes): Add eratilx, eratsx, eratsx.,
	eratre, wchkall, eratwe, ldawx., mdfcrx., mfdcr. mtdcrx., icswx,
	icswx., mtdcr., dci, wclrone, wclrall, wclr, erativax, tlbsrx.,
	ici mnemonics.
	(ERAT_T): New operand.
	(XWC_MASK): New mask.
	(XOPL2): New macro.
	(PPCA2): Define.
@
text
@d1 4
@


1.1550
log
@	* gas/ppc/e500mc.d: Remove blank line at the end of file.
@
text
@d2 7
@


1.1549
log
@gas/

2009-09-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386-intel.c (i386_intel_operand): Initialize
	intel_state.has_offset to 0.

gas/testsuite/

2009-09-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/disp.s: Add an offset test.
	* gas/i386/x86-64-disp.s: Likewise.

	* gas/i386/intelbad.s: Comment out "byte ptr [1]" test.

	* gas/i386/disp.d: Updated.
	* gas/i386/disp-intel.d: Likewise.
	* gas/i386/intelbad.l: Likewise.
	* gas/i386/x86-64-disp.d: Likewise.
	* gas/i386/x86-64-disp-intel.d: Likewise.
@
text
@d1 4
@


1.1548
log
@gas/

2009-09-14  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/10637
	* config/tc-i386-intel.c (intel_state): Add has_offset.
	(i386_intel_simplify): Set intel_state.has_offset to 1 for
	O_offset.
	(i386_intel_operand): Turn on intel_state.is_mem if
	intel_state.has_offset is 0 and the last char is ']'.

gas/testsuite/

2009-09-14  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/10637
	* gas/i386/disp.s: Add tests for Intel syntax.
	* gas/i386/x86-64-disp.s: Likewise.

	* gas/i386/disp.d: Updated.
	* gas/i386/intelok.d: Likewise.
	* gas/i386/x86-64-disp.d: Likewise.

	* gas/i386/disp-intel.d: New.
	* gas/i386/x86-64-disp-intel.d: Likewise.

	* gas/i386/i386.exp: Run disp-intel and x86-64-disp-intel.
@
text
@d1 13
@


1.1547
log
@2009-09-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/merom.[ds]: Renamed to ...
	* gas/i386/ssse3.[ds]: This.

	* gas/i386/nops-1-merom.d: Renamed to ...
	* gas/i386/nops-1-core2.d: This.

	* gas/i386/nops-2-merom.d: Renamed to ...
	* gas/i386/nops-2-core2.d: This.

	* gas/i386/prescott.[ds]: Renamed to ...
	* gas/i386/sse3.[ds]: This.

	* gas/i386/x86-64-merom.[ds]: Renamed to ...
	* gas/i386/x86-64-ssse3.[ds]: This.

	* gas/i386/x86-64-nops-1-merom.d: Renamed to ...
	* gas/i386/x86-64-nops-1-core2.d: This.

	* gas/i386/x86-64-prescott.[ds]: Renamed to ...
	* gas/i386/x86-64-sse3.[ds]: This.

	* gas/i386/i386.exp: Updated.
@
text
@d3 15
@


1.1546
log
@gas/

2009-09-14  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/10636
	* config/tc-i386.c (optimize_disp): Set disp32 for 64bit only
	if there is an ADDR_PREFIX.
	(i386_finalize_displacement): Repor error if signed 32bit
	displacement is out of range.

gas/testsuite/

2009-09-14  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/10636
	* gas/i386/disp.d: New.
	* gas/i386/disp.s: Likewise.
	* gas/i386/x86-64-disp.d: Likewise.
	* gas/i386/x86-64-disp.s: Likewise.

	* gas/i386/i386.exp: Run disp and x86-64-disp.

	* gas/i386/x86-64-addr32.s: Add high 32bit displacement tests.

	* gas/i386/x86-64-addr32.d: Updated.
	* gas/i386/x86-64-addr32-intel.d: Likewise.
	* gas/i386/x86-64-inval.l: Likewise.
	* gas/i386/x86-64-prescott.d: Likewise.

	* gas/i386/x86-64-inval.s: Add invalid displacement tests.

	* gas/i386/x86-64-prescott.s: Replace 0x90909090 displacement
	with 0x909090.
@
text
@d3 25
@


1.1545
log
@gas/
	* config/tc-mips.c (MIPS_JALR_HINT_P): Take an expr argument.
	Require the target to be a bare symbol on targets with
	in-place addends.
	(macro_build_jalr): Update accordingly.
	(mips_fix_adjustable): Don't reduce R_MIPS_JALRs on targets
	with in-place addends.

gas/testsuite/
	* gas/mips/jalr2.s, gas/mips/jalr2.d: New test.
	* gas/mips/jal-svr4pic.d: Don't expect R_MIPS_JALRs to be reduced.
	* gas/mips/jal-xgot.d: Likewise.
	* gas/mips/mips-abi32-pic2.d: Likewise.
	* gas/mips/mips.exp: Run it.
@
text
@d1 22
@


1.1544
log
@gas/testsuite/
	* gas/mips/mips16-dwarf2-n32.d: Expect odd addresses.

ld/testsuite/
	* ld-mips-elf/eh-frame1-n32.d: Change "the section \.eh_frame"
	to "the \.eh_frame section".
	* ld-mips-elf/eh-frame1-n64.d: Likewise.
	* ld-mips-elf/eh-frame2-n32.d: Likewise.
	* ld-mips-elf/eh-frame2-n64.d: Likewise.
	* ld-mips-elf/eh-frame3.d: Likewise.
	* ld-mips-elf/eh-frame4.d: Likewise.
	* ld-mips-elf/elf-rel-got-n32.d: Expect bals.
	* ld-mips-elf/elf-rel-xgot-n32.d: Likewise.
	* ld-mips-elf/mips-elf.exp: Force the MIPS16 PIC tests to use -mips1.
@
text
@d3 8
@


1.1543
log
@	PR gas/10623
	* gas/mmix/err-swym1.s, gas/mmix/swym-opreg1.d,
	gas/mmix/swym-opreg1.s, gas/mmix/swym-opreg2.d,
	gas/mmix/swym-opreg2.s: New tests.
	* gas/mmix/odd-1.d: Adjust for reloc change.
@
text
@d1 4
@


1.1542
log
@gas/
	* config/tc-d10v.c: Include dwarf2dbg.h.
	(write_long, write_1_short, write_2_short): Call dwarf2_emit_insn.
	(d10v_frob_label): New function.
	* config/tc-d10v.h (d10v_frob_label): Declare.
	(tc_frob_label): Define as d10v_frob_label.
gas/testsuite/
	* gas/lns/lns-common-1.s: Use two nops between each .loc.
	* gas/lns/lns.exp: Don't exclude d10v.
@
text
@d1 8
@


1.1541
log
@	* gas/sh/sh64/syntax-1.s: Regenerate.
@
text
@d1 5
@


1.1540
log
@	* configure.tgt (sh*-*-netbsdelf*): Set endian according to cpu.
	* gas/sh/basic.exp: Add -big to ASFLAGS for sh*l*-*-netbsdelf*.
@
text
@d1 4
@


1.1539
log
@	* gas/d30v/serial2.l: Adjust position of page break.
	* gas/lns/lns-common-1-alt.d: Match 2009-04-24 change.
	* gas/mt/ms1-16-003.d: Correct reloc name.
	* gas/mt/relocs.d: Elide incorrect file format strings.
@
text
@d1 4
@


1.1538
log
@	* gas/all/gas.exp (do_comment): Don't run on m32c.
	* gas/all/align.d: Likewise.
	* gas/all/incbin.d: Likewise.
	* gas/macros/semi.d: Likewise.
	* gas/elf/ifunc-1.d: Don't run on alpha.
@
text
@d3 7
@


1.1537
log
@	* gas/bfin/arithmetic.s, gas/bfin/arithmetic.d: Add check
	for (IU) option for multiply and multiply-accumulate to
	data register instructon.
@
text
@d1 8
@


1.1537.2.1
log
@	* gas/all/gas.exp (do_comment): Don't run on m32c.
	* gas/all/align.d: Likewise.
	* gas/all/incbin.d: Likewise.
	* gas/macros/semi.d: Likewise.
	* gas/elf/ifunc-1.d: Don't run on alpha.
@
text
@a0 8
2009-09-08  Alan Modra  <amodra@@bigpond.net.au>

	* gas/all/gas.exp (do_comment): Don't run on m32c.
	* gas/all/align.d: Likewise.
	* gas/all/incbin.d: Likewise.
	* gas/macros/semi.d: Likewise.
	* gas/elf/ifunc-1.d: Don't run on alpha.

@


1.1537.2.2
log
@gas/
	* read.c (emit_expr_fix): Handle size 3.
	* config/tc-avr.c (md_assemble): Call dwarf2_emit_insn.
	* config/tc-d30v.c (write_long, write_1_short,
	write_2_short, md_assemble): Likewise.
	* config/tc-dlx.c (md_assemble): Likewise.
	* config/tc-i860.c (md_assemble): Likewise.
	* config/tc-mn10200.c (md_assemble): Likewise.
	* config/tc-pj.c (md_assemble): Likewise.
	* config/tc-vax.c (md_assemble): Likewise.
gas/testsuite/
	* gas/d30v/serial2.l: Adjust position of page break.
	* gas/lns/lns-common-1-alt.d: Match 2009-04-24 change.
	* gas/mt/ms1-16-003.d: Correct reloc name.
	* gas/mt/relocs.d: Elide incorrect file format strings.
@
text
@a2 7
	* gas/d30v/serial2.l: Adjust position of page break.
	* gas/lns/lns-common-1-alt.d: Match 2009-04-24 change.
	* gas/mt/ms1-16-003.d: Correct reloc name.
	* gas/mt/relocs.d: Elide incorrect file format strings.

2009-09-08  Alan Modra  <amodra@@bigpond.net.au>

@


1.1537.2.3
log
@	* configure.tgt (sh*-*-netbsdelf*): Set endian according to cpu.
	* gas/sh/basic.exp: Add -big to ASFLAGS for sh*l*-*-netbsdelf*.
@
text
@a0 4
2009-09-08  Kaz Kojima  <kkojima@@rr.iij4u.or.jp>

	* gas/sh/basic.exp: Add -big to ASFLAGS for sh*l*-*-netbsdelf*.

@


1.1537.2.4
log
@	* gas/sh/sh64/syntax-1.s: Regenerate.
@
text
@a0 4
2009-09-09  Kaz Kojima  <kkojima@@rr.iij4u.or.jp>

	* gas/sh/sh64/syntax-1.s: Regenerate.

@


1.1537.2.5
log
@gas/
	* config/tc-d10v.c: Include dwarf2dbg.h.
	(write_long, write_1_short, write_2_short): Call dwarf2_emit_insn.
	(d10v_frob_label): New function.
	* config/tc-d10v.h (d10v_frob_label): Declare.
	(tc_frob_label): Define as d10v_frob_label.
gas/testsuite/
	* gas/lns/lns-common-1.s: Use two nops between each .loc.
	* gas/lns/lns.exp: Don't exclude d10v.
@
text
@a0 5
2009-09-11  Alan Modra  <amodra@@bigpond.net.au>

	* gas/lns/lns-common-1.s: Use two nops between each .loc.
	* gas/lns/lns.exp: Don't exclude d10v.

@


1.1537.2.6
log
@	PR gas/10623
	* gas/mmix/err-swym1.s, gas/mmix/swym-opreg1.d,
	gas/mmix/swym-opreg1.s, gas/mmix/swym-opreg2.d,
	gas/mmix/swym-opreg2.s: New tests.
	* gas/mmix/odd-1.d: Adjust for reloc change.
@
text
@a0 8
2009-09-11  Hans-Peter Nilsson  <hp@@bitrange.com>

	PR gas/10623
	* gas/mmix/err-swym1.s, gas/mmix/swym-opreg1.d,
	gas/mmix/swym-opreg1.s, gas/mmix/swym-opreg2.d,
	gas/mmix/swym-opreg2.s: New tests.
	* gas/mmix/odd-1.d: Adjust for reloc change.

@


1.1537.2.7
log
@gas/testsuite/
	* gas/mips/mips16-dwarf2-n32.d: Expect odd addresses.

ld/testsuite/
	* ld-mips-elf/eh-frame1-n32.d: Change "the section \.eh_frame"
	to "the \.eh_frame section".
	* ld-mips-elf/eh-frame1-n64.d: Likewise.
	* ld-mips-elf/eh-frame2-n32.d: Likewise.
	* ld-mips-elf/eh-frame2-n64.d: Likewise.
	* ld-mips-elf/eh-frame3.d: Likewise.
	* ld-mips-elf/eh-frame4.d: Likewise.
	* ld-mips-elf/elf-rel-got-n32.d: Expect bals.
	* ld-mips-elf/elf-rel-xgot-n32.d: Likewise.
	* ld-mips-elf/mips-elf.exp: Force the MIPS16 PIC tests to use -mips1.
@
text
@a0 4
2009-09-14  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/mips16-dwarf2-n32.d: Expect odd addresses.

@


1.1537.2.8
log
@gas/
	* config/tc-ppc.c (md_show_usage): Document -mpcca2.
	* doc/c-ppc.texi (PowerPC-Opts): Document -mppca2.

gas/testsuite/
	* gas/ppc/a2.s: New.
	* gas/ppc/a2.d: Likewise.
	* gas/ppc/ppc.exp: Run the a2 dump test.

include/opcode/
	* ppc.h (PPC_OPCODE_PPCA2): New.

opcodes/
	* ppc-dis.c (ppc_opts): Add "ppca2" entry.
	* ppc-opc.c (powerpc_opcodes): Add eratilx, eratsx, eratsx.,
	eratre, wchkall, eratwe, ldawx., mdfcrx., mfdcr. mtdcrx., icswx,
	icswx., mtdcr., dci, wclrone, wclrall, wclr, erativax, tlbsrx.,
	ici mnemonics.
	(ERAT_T): New operand.
	(XWC_MASK): New mask.
	(XOPL2): New macro.
	(PPCA2): Define.
@
text
@a0 7
2009-09-21  Ben Elliston  <bje@@au.ibm.com>
	    Peter Bergner  <bergner@@vnet.ibm.com>

	* gas/ppc/a2.s: New.
	* gas/ppc/a2.d: Likewise.
	* gas/ppc/ppc.exp: Run the a2 dump test.

@


1.1537.2.9
log
@	* lib/gas-defs.exp (gas_test_error): Mark internal error/assertion
	failures seen in output as fails.  Also record output being
	matched for fails.
@
text
@a0 6
2009-09-21  Maciej W. Rozycki  <macro@@linux-mips.org>

	* lib/gas-defs.exp (gas_test_error): Mark internal error/assertion
	failures seen in output as fails.  Also record output being
	matched for fails.

@


1.1537.2.10
log
@gas/
	* config/tc-mips.c (MIPS_JALR_HINT_P): Take an expr argument.
	Require the target to be a bare symbol on targets with
	in-place addends.
	(macro_build_jalr): Update accordingly.
	(mips_fix_adjustable): Don't reduce R_MIPS_JALRs on targets
	with in-place addends.

gas/testsuite/
	* gas/mips/jalr2.s, gas/mips/jalr2.d: New test.
	* gas/mips/jal-svr4pic.d: Don't expect R_MIPS_JALRs to be reduced.
	* gas/mips/jal-xgot.d: Likewise.
	* gas/mips/mips-abi32-pic2.d: Likewise.
	* gas/mips/mips.exp: Run it.
@
text
@a0 8
2009-09-21  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/jalr2.s, gas/mips/jalr2.d: New test.
	* gas/mips/jal-svr4pic.d: Don't expect R_MIPS_JALRs to be reduced.
	* gas/mips/jal-xgot.d: Likewise.
	* gas/mips/mips-abi32-pic2.d: Likewise.
	* gas/mips/mips.exp: Run it.

@


1.1537.2.11
log
@	* gas/ppc/a2.d: Match PPC64 relocs.
@
text
@a0 4
2009-09-22  Alan Modra  <amodra@@bigpond.net.au>

	* gas/ppc/a2.d: Match PPC64 relocs.

@


1.1537.2.12
log
@opcodes/
	* ppc-opc.c (powerpc_opcodes): Remove support for the the "lxsdux",
	"lxvd2ux", "lxvw4ux", "stxsdux", "stxvd2ux" and "stxvw4ux" opcodes.

gas/testsuite/
	* gas/ppc/vsx.s ("lxsdux", "lxvd2ux", "lxvw4ux", "stxsdux",
	"stxvd2ux", "stxvw4ux"): Remove tests.
	* gas/ppc/vsx.d: Likewise.
	* gas/ppc/power7.s: Likewise.
	* gas/ppc/power7.d: Likewise.
@
text
@a0 8
2009-09-29  Peter Bergner  <bergner@@vnet.ibm.com>

	* gas/ppc/vsx.s ("lxsdux", "lxvd2ux", "lxvw4ux", "stxsdux", 
	"stxvd2ux", "stxvw4ux"): Remove tests.
	* gas/ppc/vsx.d: Likewise.
	* gas/ppc/power7.s: Likewise.
	* gas/ppc/power7.d: Likewise.

@


1.1537.2.13
log
@gas/
	* config/tc-ppc.c (md_show_usage): Rename "ppca2" to "a2".
	* doc/c-ppc.texi (PowerPC-Opts): Likewise.

gas/testsuite/
	* gas/ppc/a2.d: Rename "ppca2" to "a2".

include/opcode/
	* ppc.h (PPC_OPCODE_A2): Rename from PPC_OPCODE_PPCA2.

opcodes/
	* ppc-opc.c (PPCA2): Use renamed mask PPC_OPCODE_A2.
	* ppc-dis.c (ppc_opts): Likewise.
	Rename "ppca2" to "a2".
@
text
@a0 4
2009-10-01  Peter Bergner  <bergner@@vnet.ibm.com>

	* gas/ppc/a2.d: Rename "ppca2" to "a2".

@


1.1537.2.14
log
@gas/
	* config/tc-ppc.c (md_show_usage): Document -m476.
	* doc/c-ppc.texi (PowerPC-Opts): Document -m476.

gas/testsuite/
	* gas/ppc/476.s: New test.
	* gas/ppc/476.d: Likewise.
	* gas/ppc/ppc.exp: Run the 476 test.

include/opcode/
	* ppc.h (PPC_OPCODE_476): Define.

opcodes/
	* ppc-dis.c (ppc_opts): Add "476" entry.
	* ppc-opc.c (PPC476): Define.
	(powerpc_opcodes): Update mnemonics where required for 476.
@
text
@a0 6
2009-10-02  Peter Bergner  <bergner@@vnet.ibm.com>

	* gas/ppc/476.s: New test.
	* gas/ppc/476.d: Likewise.
	* gas/ppc/ppc.exp: Run the 476 test.

@


1.1537.2.15
log
@Fix PR gas/11037.

gas/

2009-12-15  H.J. Lu  <hongjiu.lu@@intel.com>

	Backport from trunk:
	2009-12-07  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11037
	* expr.c (resolve_expression): Call symbol_same_p to check
	if 2 symbols are the same.

	* symbols.c (symbol_same_p): New.
	* symbols.h (symbol_same_p): Likewise.

gas/testsuite/

2009-12-15  H.J. Lu  <hongjiu.lu@@intel.com>

	Backport from trunk:
	2009-12-07  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11037
	* gas/i386/intelpic.s: Add testcases.
	* gas/i386/intelpic.d: Updated.

	2009-10-28  Alan Modra  <amodra@@bigpond.net.au>

	* gas/i386/intelpic.d: Correct.

	2009-10-08  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/10704
	* gas/i386/intelpic.s: Add 2 new tests.
	* gas/i386/intelpic.d: Updated.
@
text
@a0 19
2009-12-15  H.J. Lu  <hongjiu.lu@@intel.com>

	Backport from trunk:
	2009-12-07  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/11037
	* gas/i386/intelpic.s: Add testcases.
	* gas/i386/intelpic.d: Updated.

	2009-10-28  Alan Modra  <amodra@@bigpond.net.au>

	* gas/i386/intelpic.d: Correct.

	2009-10-08  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/10704
	* gas/i386/intelpic.s: Add 2 new tests.
	* gas/i386/intelpic.d: Updated.

@


1.1537.2.16
log
@Backported (actually more-or-less simultaneously applied) from trunk:

gas/ChangeLog:

	* NEWS: Mention new feature.
	* config/obj-coff.c (obj_coff_section): Accept digits and use
	to override default section alignment power if specified.
	* doc/as.texinfo (.section directive): Update documentation.

gas/testsuite/ChangeLog:

	* gas/pe/section-align-1.s: New test source file.
	* gas/pe/section-align-1.d: Likewise control script.
	* gas/pe/section-align-2.s: Likewise ...
	* gas/pe/section-align-2.d: ... and likewise.
	* gas/pe/pe.exp: Invoke new testcases.
@
text
@a0 9
2010-01-27  Dave Korn  <dave.korn.cygwin@@gmail.com>

	Backport from trunk:
	* gas/pe/section-align-1.s: New test source file.
	* gas/pe/section-align-1.d: Likewise control script.
	* gas/pe/section-align-2.s: Likewise ...
	* gas/pe/section-align-2.d: ... and likewise.
	* gas/pe/pe.exp: Invoke new testcases.

@


1.1537.2.17
log
@	* gas/pe/section-align-1.d: Generalise to pass on more targets.
	* gas/pe/section-align-2.d: Likewise.
@
text
@a0 5
2010-01-29  Dave Korn  <dave.korn.cygwin@@gmail.com>

	* gas/pe/section-align-1.d: Generalise to pass on more targets.
	* gas/pe/section-align-2.d: Likewise.

@


1.1537.2.18
log
@bfd/
	* coff-rs6000.c (xcoff_howto_table): Change size to 0 and bitsize to 1.
	(_bfd_xcoff_reloc_type_lookup): Handle BFD_RELOC_NONE.
	* coff64-rs6000.c (xcoff64_howto_table): Change size to 0 and
	bitsize to 1.
	(xcoff64_reloc_type_lookup): Handle BFD_RELOC_NONE.

gas/
	* write.h (fix_at_start): Declare.
	* write.c (fix_new_internal): Add at_beginning parameter.
	Use it instead of REVERSE_SORT_RELOCS.  Fix the handling of
	seg_fix_tailP for the at_beginning/REVERSE_SORT_RELOCS case.
	(fix_new, fix_new_exp): Update accordingly.
	(fix_at_start): New function.
	* config/tc-ppc.c (md_pseudo_table): Add .ref to the OBJ_XCOFF section.
	(ppc_ref): New function, for OBJ_XCOFF.
	(md_apply_fix): Handle BFD_RELOC_NONE for OBJ_XCOFF.
	* config/te-i386aix.h (REVERSE_SORT_RELOCS): Remove #undef.

gas/testsuite/
	* gas/ppc/xcoff-ref-1.s, gas/ppc/xcoff-ref-1.l: New test.
	* gas/ppc/aix.exp: Run it.


ld/testsuite/
	* ld-powerpc/aix-ref-1-32.od, ld-powerpc/aix-ref-1-64.od,
	ld-powerpc/aix-ref-1.s: New tests.
	* ld-powerpc/aix52.exp: Run them.
@
text
@a0 5
2010-01-30  Richard Sandiford  <r.sandiford@@uk.ibm.com>

	* gas/ppc/xcoff-ref-1.s, gas/ppc/xcoff-ref-1.l: New test.
	* gas/ppc/aix.exp: Run it.

@


1.1537.2.19
log
@2010-02-05  Christophe Lyon  <christophe.lyon@@st.com>

	binutils/
	* objdump.c (disassemble_bytes): Clear aux->reloc before printing
	a new address, so as not to reuse a previous, non-related reloc.

	gas/testsuite/
	* gas/arm/arm-it-auto.d, gas/arm/bl-local-v4t.d,
	gas/arm/blx-local.d, gas/arm/thumb-w-good.d: Update expected
	results.
@
text
@a0 6
2010-02-05  Christophe Lyon  <christophe.lyon@@st.com>

	* gas/arm/arm-it-auto.d, gas/arm/bl-local-v4t.d,
	gas/arm/blx-local.d, gas/arm/thumb-w-good.d: Update expected
	results.

@


1.1537.2.20
log
@2010-02-08  Christophe Lyon  <christophe.lyon@@st.com>

	gas/
	* config/tc-arm.c (md_pcrel_from_section): Keep base to zero for
	non-local branches (BFD_RELOC_THUMB_PCREL_BRANCH23,
	BFD_RELOC_THUMB_PCREL_BLX, BFD_RELOC_ARM_PCREL_BLX,
	BFD_RELOC_ARM_PCREL_CALL)

	gas/testsuite/
	* gas/arm/branch-reloc.s, gas/arm/branch-reloc.d,
	gas/arm/branch-reloc.l: New tests and expected results with all
	variants of call: ARM/Thumb, local/global, inter/intra-section,
	using BL/BLX.
@
text
@a0 7
2010-02-08  Christophe Lyon  <christophe.lyon@@st.com>

	* gas/arm/branch-reloc.s, gas/arm/branch-reloc.d,
	gas/arm/branch-reloc.l: New tests and expected results with all
	variants of call: ARM/Thumb, local/global, inter/intra-section,
	using BL/BLX.

@


1.1536
log
@	* config/bfin-parse.y (gen_multi_instr_1): Check anomaly
	05000074 only when both slot1 and slot2 are filled.

	testsuite/
	* gas/bfin/parallel5.s: New test.
	* gas/bfin/error.exp: New test.
@
text
@d1 6
@


1.1535
log
@	* config/tc-bfin.c (md_assemble): Bump line counters if there is
	EOL in the instruction.

	testsuite/
	* gas/bfin/line_number.l, gas/bfin/line_number.s: New test.
	* gas/bfin/bfin.exp: Add the new test.
@
text
@d3 5
@


1.1534
log
@	gas/
	* config/bfin-defs.h (IS_GENREG): Define.
	(IS_DAGREG): Define.
	(IS_SYSREG): Define.
	* config/bfin-parse.y (asm_1): Check illegal register move
	instructions.

	gas/testsuite/
	* gas/bfin/expected_move_errors.s,
	gas/bfin/expected_move_errors.l: Add "LC1 = I0;".
	* gas/bfin/move.s, gas/bfin/move.d: Remove "CYCLES = A0.W".

	opcodes/
	* bfin-dis.c (IS_DREG): Define.
	(IS_PREG): Define.
	(IS_AREG): Define.
	(IS_GENREG): Define.
	(IS_DAGREG): Define.
	(IS_SYSREG): Define.
	(decode_REGMV_0): Check illegal register move instructions.
@
text
@d3 5
@


1.1533
log
@	* config/bfin-parse.y (asm_1): Fix a typo.

	testsuite/
	* gas/bfin/expected_comparison_errors.l: Expect error on Line 13.
@
text
@d3 6
@


1.1532
log
@	* config/bfin-parse.y (asm_1): Add LOOP_BEGIN and LOOP_END.
	* config/tc-bfin.c (bfin_start_line_hook): Remove.
	(bfin_loop_beginend): New.
	* config/tc-bfin.h (bfin_start_line_hook): Don't declare.
	(md_start_line_hook): Don't define.
	* config/bfin-aux.h (bfin_loop_beginend): Declare.

	testsuite/
	* gas/bfin/loop.s, gas/bfin/loop.d: New test.
	* gas/bfin/loop2.s, gas/bfin/loop2.d: New test.
	* gas/bfin/loop3.s, gas/bfin/loop3.d: New test.
	* gas/bfin/bfin.exp: Add the new tests.
@
text
@d3 4
@


1.1531
log
@	From  Bernd Schmidt  <bernd.schmidt@@analog.com>
	* config/gas/bfin-parse.y (asm_1): Clean up and unify error handling
	for load and store insns.
	(neg_value): Delete function.

	testsuite/
	From  Bernd Schmidt  <bernd.schmidt@@analog.com>
	* gas/bfin/expected_errors.l, gas/bfin/expected_errors.s:
	Check error messages for invalid load/store insns.
@
text
@d1 7
@


1.1530
log
@2009-09-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/att-regs.s: Add ymm tests for 16bit and 64bit.
	* gas/i386/intel-regs.s: Likewise.

	* gas/i386/att-regs.d: Updated.
	* gas/i386/intel-regs.d: Likewise.
@
text
@d1 6
@


1.1529
log
@add missing pr number
@
text
@d3 8
@


1.1528
log
@2009-09-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/att-regs.s: Remove a tab.
@
text
@d305 1
@


1.1527
log
@	* config/bfin-parse.y (asm_1): Only PREG and DREG are allowed
	in comparison.

	testsuite/
	* gas/bfin/expected_comparison_errors.s: Add more cases.
	* gas/bfin/expected_comparison_errors.l: Update accordingly.
@
text
@d1 4
@


1.1526
log
@	* read.c (TC_START_LABEL): Add a new argument.
	(read_a_source_file): Pass the beginning of the symbol through
	the new argument of TC_START_LABEL.
	* config/tc-arm.h (TC_START_LABEL): Add a new argument.
	* config/tc-bfin.c (bfin_start_label): Only search '(' and '['
	from the beginning of the symbol.
	* config/tc-bfin.h (TC_START_LABEL): Add the new argument.
	* config/tc-d30v.h (TC_START_LABEL): Likewise.
	* config/tc-fr30.h (TC_START_LABEL): Likewise.
	* config/tc-m32c.h (TC_START_LABEL): Likewise.
	* config/tc-m32r.h (TC_START_LABEL): Likewise.
	* config/tc-mep.h (TC_START_LABEL): Likewise.

	testsuite/
	* gas/bfin/stack2.s: Add pop multiple instruction with a label
	on the same line.
	* gas/bfin/stack2.d: Adjust accordingly.
@
text
@d3 5
@


1.1525
log
@bfd/
2009-08-31  Jan Beulich  <jbeulich@@novell.com>

	* elf-bfd.h (bfd_elf_get_default_section_type): Declare.
	* elf.c (bfd_elf_get_default_section_type): New.
	(elf_fake_sections): Use bfd_elf_get_default_section_type.

gas/
2009-08-31  Jan Beulich  <jbeulich@@novell.com>

	* config/obj-elf.c (obj_elf_change_section): Set default type
	by calling bfd_elf_get_default_section_type.

gas/testsuite/
2009-08-31  Jan Beulich  <jbeulich@@novell.com>

	* gas/elf/section5.l: Remove no longer issued warning pattern.
@
text
@d1 6
@


1.1524
log
@	* config/tc-sh.c (md_apply_fix): Extend sign of the offset value
	for 64-bit host.
	* gas/sh/sign-extension.d: New file.
	* gas/sh/sign-extension.s: New file.
	* gas/sh/basic.exp: Run new test.
@
text
@d1 4
@


1.1523
log
@gas/

2009-08-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (cpu_arch): Use PROCESSOR_L1OM on "l1om".
	(i386_align_code): Handle PROCESSOR_L1OM.
	(check_cpu_arch_compatible): Fix a typo in comments.
	(set_cpu_arch): Check cpu_arch_isa instead of
	cpu_arch_isa_flags.bitfield.cpul1om.
	(i386_mach): Likewise.
	(i386_target_format): Likewise.

	* config/tc-i386.h (processor_type): Add PROCESSOR_L1OM.

gas/testsuite/

2009-08-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/l1om.d: Check elf64-l1om format.
@
text
@d1 6
@


1.1522
log
@gas/
	* config/bfin-parse.y (gen_multi_instr_1): New function.
	(asm): Use it instead of bfin_gen_multi_instr.
	(error): Add a format string when calling as_bad.
	* config/bfin-defs.h (insn_regmask): Declare.
	* config/tc-bfin.c (DREG_MASK, DREGH_MASK, DREGL_MASK, IREG_MASK): New
	macros.
	(decode_ProgCtrl_0, decode_LDSTpmod_0, decode_dagMODim_0,
	decode_dagMODik_0, decode_dspLDST_0, decode_LDST_0, decode_LDSTiiFP_0,
	decode_LDSTii_0, decode_dsp32mac_0, decode_dsp32mult_0,
	decode_dsp32alu_0, decode_dsp32shift_0, decode_dsp32shitimm_0,
	insn_regmask): New functions.
gas/testsuite/
	* gas/bfin/parallel.s: Add more test cases.
	* gas/bfin/parallel.d: Update accordingly.
	* gas/bfin/resource_conflict.l: New test.
	* gas/bfin/resource_conflict.s: New test.
	* gas/bfin/bfin.exp: Add resource_conflict.
@
text
@d1 4
@


1.1521
log
@        PR 10443
        * config/tc-arm.c (do_t_mov_cmp): Do not silently ignore shifted
        operands.
        * gas/arm/t16-bad.l: Update expected messages for moves with
        shifted operands.
@
text
@d1 8
@


1.1520
log
@        * config/tc-arm.c (do_t_add_sub_w): Fixed constraints.

        gas/testsuite/
        * gas/arm/sp-pc-usage-t.d: New test case.
        * gas/arm/sp-pc-usage-t.s: New file.
@
text
@d1 6
@


1.1519
log
@bfd/
	From Mike Frysinger <michael.frysinger@@analog.com>
	* elf32-bfin.c (bfin_howto_table, bfin_reloc_map, bfin_check_relocs,
	bfin_final_link_relocate, bfin_relocate_section, bfin_gc_sweep_hook,
	_bfinfdpic_emit_got_relocs_plt_entries, bfinfdpic_relocate_section,
	bfinfdpic_gc_sweep_hook, bfinfdpic_check_relocs,
	bfin_finish_dynamic_symbol, bfd_bfin_elf32_create_embedded_relocs):
	Adjust to match the renamed reloc definitions.

gas/testsuite/
	From Mike Frysinger <michael.frysinger@@analog.com>
	* gas/bfin/reloc.d: Adjust for the renamed relocations.

include/elf/
	From Mike Frysinger <michael.frysinger@@analog.com>
	* bfin.h (R_BFIN_UNUSED, R_BFIN_PCREL5M2, R_BFIN_UNUSED1,
	R_BFIN_PCREL10, R_BFIN_PCREL12_JUMP, R_BFIN_RIMM16,
	R_BFIN_LUIMM16, R_BFIN_HUIMM16, R_BFIN_PCREL12_JUMP_S,
	R_BFIN_PCREL24_JUMP_X, R_BFIN_PCREL24, R_BFIN_UNUSEDB,
	R_BFIN_UNUSEDC, R_BFIN_PCREL24_JUMP_L, R_BFIN_PCREL24_CALL_X,
	R_BFIN_VAR_EQ_SYMB, R_BFIN_BYTE_DATA, R_BFIN_BYTE2_DATA,
	R_BFIN_BYTE4_DATA, R_BFIN_PCREL11, R_BFIN_PUSH, R_BFIN_CONST,
	R_BFIN_ADD, R_BFIN_SUB, R_BFIN_MULT, R_BFIN_DIV, R_BFIN_MOD,
	R_BFIN_LSHIFT, R_BFIN_RSHIFT, R_BFIN_AND, R_BFIN_OR, R_BFIN_XOR,
	R_BFIN_LAND, R_BFIN_LOR, R_BFIN_LEN, R_BFIN_NEG, R_BFIN_COMP,
	R_BFIN_PAGE, R_BFIN_HWPAGE, R_BFIN_ADDR, R_BFIN_PLTPLC,
	R_BFIN_GOT, R_BFIN_MAX): Renamed from R_unused0, R_pcrel5ms,
	R_unused1, R_pcrel10, R_pcrel12_jump, R_rimm16, R_luimm16,
	R_huimm16, R_pcrel12_jump_s, R_pcrel24_jump_x, R_pcrel24,
	R_unusedb, R_unusedc, R_pcrel24_jump_l, R_pcrel24_call_x,
	R_var_eq_symb, R_byte_data, R_byte2_data, R_byte4_data, R_pcrel11,
	R_push, R_const, R_add, R_sub, R_mult, R_div, R_mod, R_lshift,
	R_rshift, R_and, R_or, R_xor, R_land, R_lor, R_len, R_neg, R_comp,
	R_page, R_hwpage, R_addr, R_pltpc, R_got.
@
text
@d1 6
@


1.1518
log
@	gas/
	* config/tc-arm.c (marked_pr_dependency, mapstate): Delete global
	variables.
	(mapping_state): Use the section's mapstate.
	(mapping_state_2): Likewise.  Skip special sections.
	(s_arm_unwind_fnend): Use the section's marked_pr_dependency.
	(arm_elf_change_section): Do not set deleted globals.
	* config/tc-arm.h (struct arm_segment_info_type): Document
	marked_pr_dependency.

	gas/testsuite/
	* gas/arm/mapping2.s: Test code after .ident.
@
text
@d1 5
@


1.1517
log
@2009-08-05  Chao-ying Fu  <fu@@mips.com>

	* gas/mips/jal-svr4pic.d, gas/mips/jal-xgot.d,
	gas/mips/mips-abi32-pic2.d: Add R_MIPS_JALR relocations after jalr.
@
text
@d1 4
@


1.1516
log
@	* config/tc-arm.c (my_get_expression): Detect missing expressions.

	testsuite/
	* gas/arm/missing.s: New.
	* gas/arm/missing.d: New.
	* gas/arm/missing.l: New.
@
text
@d1 5
@


1.1515
log
@	binutils/testsuite/
	* binutils-all/arm/thumb2-cond.s: Use instructions instead of
	.short.

	gas/
	* config/obj-elf.c (obj_elf_ident): Notify section change to the hook.
	* config/tc-arm.c (make_mapping_symbol): New function, from
	mapping_state.  Save mapping symbols in the frag.
	(insert_data_mapping_symbol): New.
	(mapping_state): Use make_mapping_symbol, improve state transitions.
	(mapping_state_2): New.  Provide dummy definition.
	(opcode_select): Do not call mapping_state.
	(s_bss): Call md_elf_section_change_hook instead of mapping_state.
	(output_inst): Update use of tc_frag_data.
	(new_automatic_it_block): Call mapping_state before emitting the
	IT instruction.
	(md_assemble): Move mapping_state to just before outputting the
	new instruction.
	(arm_handle_align): Update use of tc_frag_data.
	Call insert_data_mapping_symbol.
	(arm_init_frag): Update use of tc_frag_data.  Call
	mapping_state_2.
	(arm_elf_change_section): Always update the mapping symbol FSM state.
	(check_mapping_symbols): New function.
	(arm_adjust_symtab): Use check_mapping_symbols.
	* config/tc-arm.h (struct arm_frag_type): New.
	(TC_FRAG_TYPE): Change to struct arm_frag_type.
	(TC_FRAG_INIT): Pass max_chars.
	(arm_init_frag): Update prototype.

	gas/testsuite/
	* gas/arm/mapdir.d, gas/arm/mapdir.s: New files.
	* gas/arm/mapping.d: Adapted to new symbols generation.
	* gas/arm/mapping2.d: New test case.
	* gas/arm/mapping2.s: New file.
	* gas/arm/mapping3.d: New test case.
	* gas/arm/mapping3.s: New file.
	* gas/arm/mapping4.d: New test case.
	* gas/arm/mapping4.s: New file.
	* gas/arm/mapshort-eabi.d: Adapted to new symbols generation.
	* gas/elf/section2.e-armeabi: Adapted to new symbols generation.
@
text
@d1 6
@


1.1514
log
@gas/
2009-07-27  Jan Beulich  <jbeulich@@novell.com>

	* obj-elf.c (elf_file_symbol): Replace symbol name set up by
	symbol_new() with the passed in, unmodified one.

gas/testsuite/
2009-07-27  Jan Beulich  <jbeulich@@novell.com>

	* gas/elf/file.[ds]: New.
	* gas/elf/elf.exp: Run new test.
@
text
@d1 14
@


1.1513
log
@bfd/

2009-07-25  H.J. Lu  <hongjiu.lu@@intel.com>

	* archures.c (bfd_architecture): Add bfd_arch_l1om.
	(bfd_l1om_arch): New.
	(bfd_archures_list): Add &bfd_l1om_arch.
	* bfd-in2.h: Regenerated.

	* config.bfd (targ64_selvecs): Add bfd_elf64_l1om_vec if
	bfd_elf64_x86_64_vec is supported.  Add bfd_elf64_l1om_freebsd_vec
	if bfd_elf64_x86_64_freebsd_vec is supported.
	(targ_selvecs): Likewise.

	* configure.in: Support bfd_elf64_l1om_vec and
	bfd_elf64_l1om_freebsd_vec.
	* configure: Regenerated.

	* cpu-l1om.c: New.

	* elf64-x86-64.c (elf64_l1om_elf_object_p): New.
	(bfd_elf64_l1om_vec): Likewise.
	(bfd_elf64_l1om_freebsd_vec): Likewise.

	* Makefile.am (ALL_MACHINES): Add cpu-l1om.lo.
	(ALL_MACHINES_CFILES): Add cpu-l1om.c.
	* Makefile.in: Regenerated.

	* targets.c (bfd_elf64_l1om_vec): New.
	(bfd_elf64_l1om_freebsd_vec): Likewise.
	(_bfd_target_vector): Add bfd_elf64_l1om_vec and
	bfd_elf64_l1om_freebsd_vec.

binutils/

2009-07-25  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (guess_is_rela): Handle EM_L1OM.
	(dump_relocations): Likewise.
	(get_machine_name): Likewise.
	(get_section_type_name): Likewise.
	(get_elf_section_flags): Likewise.
	(get_symbol_index_type): Likewise.
	(is_32bit_abs_reloc): Likewise.
	(is_32bit_pcrel_reloc): Likewise.
	(is_64bit_abs_reloc): Likewise.
	(is_64bit_pcrel_reloc): Likewise.
	(is_none_reloc): Likewise.

gas/

2009-07-25  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (cpu_arch): Add l1om.
	(check_cpu_arch_compatible): New.
	(set_cpu_arch): Use it.
	(i386_arch): New.
	(i386_mach): Return bfd_mach_l1om for Intel L1OM.
	(md_show_usage): Display l1om.
	(i386_target_format): Return ELF_TARGET_L1OM_FORMAT if
	cpu_arch_isa_flags.bitfield.cpul1om is set.

	* config/tc-i386.h (TARGET_ARCH): Use (i386_arch ()).
	(i386_arch): New.
	(ELF_TARGET_L1OM_FORMAT): Likewise.

	* doc/c-i386.texi: Document l1om.

gas/testsuite/

2009-07-25  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/l1om.d: New.
	* gas/i386/l1om-inval.l: Likewise.
	* gas/i386/l1om-inval.s: Likewise.

	* gas/i386/i386.exp: Run l1om-inval and l1om.

include/elf/

2009-07-25  H.J. Lu  <hongjiu.lu@@intel.com>

	* common.h (EM_L1OM): New.

ld/

2009-07-25  H.J. Lu  <hongjiu.lu@@intel.com>

	* configure.tgt (targ64_extra_emuls): Add elf_l1om if elf_x86_64
	is supported.  Add elf_l1om_fbsd if elf_x86_64_fbsd is supported.
	(targ_extra_emuls): Likewise.

	* Makefile.am (ALL_64_EMULATIONS): Add eelf_l1om.o and
	eelf_l1om_fbsd.o
	(eelf_l1om.c): New.
	(eelf_l1om_fbsd.c): Likewise.
	* Makefile.in: Regenerated.

	* emulparams/elf_l1om.sh: New.
	* emulparams/elf_l1om_fbsd.sh: Likewise.

ld/testsuite/

2009-07-25  H.J. Lu  <hongjiu.lu@@intel.com>

	* ld-x86-64/abs-l1om.d: New.
	* ld-x86-64/protected2-l1om.d: Likewise.
	* ld-x86-64/protected3-l1om.d: Likewise.

	* ld-x86-64/x86-64.exp: Run abs-l1om, protected2-l1om and
	protected3-l1om.

opcodes/

2009-07-25  H.J. Lu  <hongjiu.lu@@intel.com>

	* configure.in: Handle bfd_l1om_arch.
	* disassemble.c (disassembler): Likewise.

	* configure: Regenerated.

	* i386-dis.c (print_insn): Handle bfd_mach_l1om and
	bfd_mach_l1om_intel_syntax.  Use 8 bytes per line for Intel L1OM.

	* i386-gen.c (cpu_flag_init): Set CPU_UNKNOWN_FLAGS to ~CpuL1OM.
	Add CPU_L1OM_FLAGS.
	(cpu_flags): Add CpuL1OM.
	(set_bitfield): Take an argument to set the value field.
	(process_i386_cpu_flag): Support ~CpuXXX and ~(CpuXXX|CpuYYY).
	(process_i386_opcode_modifier): Updated.
	(process_i386_operand_type): Likewise.
	* i386-init.h: Regenerated.
	* i386-tbl.h: Likewise.

	* i386-opc.h (CpuL1OM): New.
	(CpuXsave): Updated.
	(i386_cpu_flags): Add cpul1om.
@
text
@d1 5
@


1.1512
log
@gas/
2009-07-24  Jan Beulich  <jbeulich@@novell.com>

	* tc-i386.c (cpu_arch): Add .8087, .287, .387, .no87, .nommx,
	.nosse, and .noavx.
	(cpu_flags_and_not): New.
	(set_cpu_arch): Check whether sub-architecture specified is a
	feature disable.
	(md_parse_option): Likewise.
	(parse_real_register): Don't return floating point register
	when x87 functionality is disabled.
	(md_show_usage): Add new sub-options.
	* doc/c-i386.texi: Update with new command line sub-options.

gas/testsuite/
2009-07-24  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/8087.[ds]: New.
	* gas/i386/287.[ds]: New.
	* gas/i386/387.[ds]: New.
	* gas/i386/no87.[ls]: New.
	* gas/i386/no87-2.[ls]: New.
	* gas/i386/i386.exp: Run new tests.
	* gas/i386/att-regs.s: Also check FPU register access.
	* gas/i386/intel-regs.s: Likewise.
	* gas/i386/att-regs.d: Adjust expectations.
	* gas/i386/intel-regs.d: Likewise.

opcodes/
2009-07-24  Jan Beulich  <jbeulich@@novell.com>

	* i386-dis.c (fgrps): Correct annotation for feni/fdisi. Add
	frstpm.
	* i386-gen.c (cpu_flag_init): Add FP enabling flags where needed.
	(cpu_flags): Add Cpu8087, Cpu287, Cpu387, Cpu687, and CpuFISTTP.
	(set_bitfield): Expand CpuFP to Cpu8087|Cpu287|Cpu387.
	* i386-opc.h (Cpu8087, Cpu287, Cpu387, Cpu687, CpuFISTTP):
	Define.
	(union i386_cpu_flags): Add cpu8087, cpu287, cpu387, cpu687,
	and cpufisttp.
	* i386-opc.tbl: Qualify floating point instructions by their
	respective CpuXXX flag. Fix fucom{,p,pp}, fprem1, fsin, fcos,
	and fsincos to be avilable only on 387. Fix fstsw ax to be
	available only on 287+. Add f{,n}eni, f{,n}disi, f{,n}setpm,
	and frstpm.
	* i386-init.h, i386-tbl.h: Regenerate.
@
text
@d1 8
@


1.1511
log
@        * config/obj-elf.c (obj_elf_type): Add code to support a type of
        gnu_unique_object.
        * doc/as.texinfo: Document new feature of .type directive.
        * NEWS: Mention support for gnu_unique_object symbol type.

        * common.h (STB_GNU_UNIQUE): Define.

        * NEWS: Mention the linker's support for symbols with a binding of
        STB_GNU_UNIQUE.

        * gas/elf/type.s: Add unique global symbol definition.
        * gas/elf/type.e: Add expected readelf output for global unique
        symbol.

        * elfcpp.h (enum STB): Add STB_GNU_UNIQUE.

        * readelf.c (get_symbol_binding): For Linux targeted files return
        UNIQUE for symbols with the STB_GNU_UNIQUE binding.
        * doc/binutils.texi: Document the meaning of the 'u' symbol
        binding in the output of nm and objdump --syms.

        * elf-bfd.h (struct elf_link_hash_entry): Add unique_global field.
        * elf.c (swap_out_syms): Set binding to STB_GNU_UNIQUE for symbols
        with the BSF_GNU_UNIQUE flag bit set.
        * elfcode.h (elf_slurp_symbol_table): Set the BSF_GNU_UNIQUE flag
        for symbols with STB_GNU_UNIQUE binding.
        * elflink.c (_bfd_elf_merge_symbol): Set unique_global for symbols
        with the STB_GNU_UNIQUE binding.
        (elf_link_add_object_symbols): Set the BSF_GNU_UNIQUE flag for
        symbols with STB_GNU_UNIQUE binding.  Set STB_GNU_UNIQUE for
        symbols with the unique_global field set.
        (elf_link_output_extsym): Set unique_global field for symbols with
        the STB_GNU_UNIQUE binding.
        * syms.c (struct bfd_symbol): Define BSF_GNU_UNIQUE flag bit.
        (bfd_print_symbol_vandf): Print a 'u' character for BSF_GNU_UNIQUE
        symbols.
        (bfd_decode_symclass): Return a 'u' character for BSF_GNU_UNIQUE
        symbols.
        * bfd-in2.h: Regenerate.
@
text
@d1 13
@


1.1510
log
@gas/

2009-07-21  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/10420
	* config/tc-i386.c (i386_align_code): Tune for 32bit nops in
	64bit.
	(i386_target_format): Set cpu_arch_isa_flags.bitfield.cpulm
	for 64bit.

gas/testsuite/

2009-07-21  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/10420
	* gas/i386/i386.exp: Run x86-64-nops-1-pentium.

	* gas/i386/x86-64-nops-1-pentium.d: New.
@
text
@d1 6
@


1.1509
log
@gas/

2009-07-16  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (md_assemble): Only check i.operands for AX.
	(md_estimate_size_before_relax): Don't relax IFUNC symbols.

gas/testsuite/

2009-07-16  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run ifunc and x86-64-ifunc.

	* gas/i386/ifunc.d: New,
	* gas/i386/ifunc.s: Likewise.
	* gas/i386/x86-64-ifunc.d: Likewise.
@
text
@d1 7
@


1.1508
log
@	gas/
	* config/tc-arm.c (md_apply_fix <BFD_RELOC_ARM_TARGET2>): Write
	the offset for REL targets here.

	gas/testsuite/
	* gas/arm/target-reloc-1.s: New.
	* gas/arm/target-reloc-1.d: New.

	ld/testsuite/
	* ld-arm/arm-target2.s: Add addend cases.
	* ld-arm/arm-target2-rel.d: Adjust.
	* ld-arm/arm-target2-abs.d: Adjust.
	* ld-arm/arm-target2-got-rel.d: Adjust.
@
text
@d1 8
@


1.1507
log
@        * config/tc-arm.h (MAX_MEM_ALIGNMENT_BYTES): Define.
        (MAX_MEM_FOR_RS_ALIGN_CODE): Define in terms of
        MAX_MEM_ALIGNMENT_BYTES.
        * config/tc-arm.c (arm_frag_align_code): Replace hard coded
        constant with MAX_MEM_FOR_RS_ALIGN_CODE.

        * gas/arm/align64.s: New test case.
        * gas/arm/align64.d: Expected disassembly.
@
text
@d1 5
@


1.1506
log
@    gas/
    * config/tc-arm.c (md_assemble): Added validation.

    gas/testsuite
    * gas/arm/thumb-w-bad.d: New test case.
    * gas/arm/thumb-w-bad.l: New file.
    * gas/arm/thumb-w-bad.s: New file.
    * gas/arm/thumb-w-good.d: New test case.
    * gas/arm/thumb-w-good.s: New file.
@
text
@d3 5
@


1.1505
log
@        * config/tc-arm.c (it_fsm_post_encode): New forward declaration.
        (set_it_insn_type_nonvoid): New macro.
        (emit_thumb32_expr): New function.
        (thumb_insn_size): New function.
        (emit_insn): New function.
        (s_arm_elf_inst): New function.
        (md_pseudo_table): New pseudo-opcode entries added.
        * doc/c-arm.texi: New directive added.

        * gas/arm/inst-po.d: New testcase.
        * gas/arm/inst-po.s: New file.
        * gas/arm/inst-po-2.d: New testcase.
        * gas/arm/inst-po-2.s: New file.
        * gas/arm/inst-po-2.l: New file.
        * gas/arm/inst-po-3.d: New testcase.
        * gas/arm/inst-po-3.s: New file.
        * gas/arm/inst-po-be.d: New testcase.
@
text
@d1 8
@


1.1504
log
@gas/
    * config/tc-arm.c (insns): Fix encoding for torvsc.

gas/testsuite/
    * gas/arm/iwmmxt2.d: Fix insn pattern for torvsc,
    add patterns for waddsubhx.
    * gas/arm/iwmmxt2.s: Add tests for waddsubhx.

opcodes/
    * arm-dis.c (coprocessor_opcodes): Fix mask for waddbhus.
@
text
@d1 11
@


1.1503
log
@2009-07-07  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/fma4.d: Append "#pass".
	* gas/i386/x86-64-fma4.d: Likewise.
@
text
@d1 6
@


1.1502
log
@2009-07-07  Tristan Gingold  <gingold@@adacore.com>

	* gas/i386/jump.d: Adjust to be relocated offset for jump to external
	symbol.
@
text
@d1 5
d8 2
a9 2
	* gas/i386/jump.d: Adjust to be relocated offset for jump to external
	symbol.
@


1.1501
log
@<gas changes>
2009-07-06  Dwarakanath Rajagopal  <dwarak.rajagopal@@amd.com>

	* config/tc-i386.c (cpu_arch): Add .fma4 and CPU_FMA4_FLAGS.
	(build_modrm_byte): Add support to handle FMA4 instructions.
	(md_show_usage): Add fma4.

<gas/testsuite changes>
2009-07-06  Dwarakanath Rajagopal  <dwarak.rajagopal@@amd.com>

	* gas/i386/i386.exp: Add FMA4 tests.
	* gas/i386/x86-64-fma4.d: Ditto.
	* gas/i386/fma4.d: Ditto.
	* gas/i386/x86-64-fma4.s: Ditto.
	* gas/i386/fma4.s: Ditto.

<opcodes changes>
2009-07-06  Dwarakanath Rajagopal  <dwarak.rajagopal@@amd.com>

	* i386-opc.h (CpuFMA4): Add CpuFMA4.
	(i386_cpu_flags): New.
	* i386-gen.c: Add CPU_FMA4_FLAGS.
	* i386-opc.tbl: Add FMA4 instructions.
	* i386-tbl.h: Regenerate.
	* i386-init.h: Regenerate.
	* i386-dis.c (OP_VEX_FMA): New. Handle FMA4.
	(OP_XMM_VexW): Ditto.
	(OP_EX_VexW): Ditto.
	(VEXI4_Fixup): Ditto.
	(VexI4, VexFMA, Vex128FMA, EXVexW, EXdVexW, XMVexW): New Macros.
	(PREFIX_VEX_3A5C, PREFIX_VEX_3A5D, PREFIX_VEX_3A5E): New.
	(PREFIX_VEX_3A5F, PREFIX_VEX_3A60): New.
	(PREFIX_VEX_3A68, PREFIX_VEX_3A69, PREFIX_VEX_3A6A): New.
	(PREFIX_VEX_3A6B, PREFIX_VEX_3A6C, PREFIX_VEX_3A6D): New.
	(PREFIX_VEX_3A6E, PREFIX_VEX_3A6F, PREFIX_VEX_3A7A): New.
	(PREFIX_VEX_3A7B, PREFIX_VEX_3A7C, PREFIX_VEX_3A7D): New.
	(PREFIX_VEX_3A7E, PREFIX_VEX_3A7F): New.
	(VEX_LEN_3A6A_P_2,VEX_LEN_3A6B_P_2, VEX_LEN_3A6E_P_2): New.
	(VEX_LEN_3A6F_P_2,VEX_LEN_3A7A_P_2, VEX_LEN_3A7B_P_2): New.
	(VEX_LEN_3A7E_P_2,VEX_LEN_3A7F_P_2): New.
	(get_vex_imm8): New. handle FMA4.
	(OP_EX_VexReg): Ditto.
@
text
@d1 5
@


1.1500
log
@        PR 10168
        * config/tc-arm.c (do_t_pkhtb): Swap Rm and Rn when encoding as
        PKHBT.
        * gas/arm/thumb32.d: Fix expected disassembly of PKHTB insn.
@
text
@d1 8
@


1.1499
log
@2009-07-01  Paul Brook <paul@@codesourcery.com>

	gas/
	* config/tc-arm.c (MISSING_FNSTART): Define.
	(s_arm_unwind_fnstart): Diagnose duplicate directive.
	(s_arm_unwind_handlerdata, s_arm_unwind_fnend, s_arm_unwind_fnend,
	s_arm_unwind_cantunwind, s_arm_unwind_personalityindex,
	s_arm_unwind_personality, s_arm_unwind_save, s_arm_unwind_movsp,
	s_arm_unwind_pad, s_arm_unwind_setfp, s_arm_unwind_raw): Error if
	not inside function unwinding region.

	gas/testsuite/
	* gas/arm/fp-save.s: Add .fnstart and .fnend directives.
@
text
@d1 5
@


1.1498
log
@        PR 10288
        * arm-dis.c (coprocessor): Print the LDC and STC versions of the
        LFM and SFM instructions as comments,.
        Improve consistency of formatting for instructions displayed as
        comments and decimal values displayed with their hexadecimal
        equivalents.
        Formatting tidy ups.

        Updated expected disassembler regexps.
@
text
@d1 4
@


1.1497
log
@        PR 10288
        * arm-dis.c (enum opcode_sentinels): New:  Used to mark the
        boundary between variaant and generic coprocessor instuctions.
        (coprocessor): Use it.
        Fix architecture version of MCRR and MRRC instructions.
        (arm_opcdes): Fix patterns for STRB and STRH instructions.
        (print_insn_coprocessor): Check architecture and extension masks.
        Print a hexadecimal version of any decimal constant that is
        outside of the range of -16 to +32.
        (print_arm_address): Add a return value of the offset used in the
        adress, if it is worth printing a hexadecimal version of it.
        (print_insn_neon): Print a hexadecimal version of any decimal
        constant that is outside of the range of -16 to +32.
        (print_insn_arm): Likewise.
        (print_insn_thumb16): Likewise.
        (print_insn_thumb32): Likewise.

        PR 10297
        * arm-dis.c (UNDEFINED_INSTRUCTION): New macro for a description
        of an undefined instruction.
        (arm_opcodes): Use it.
        (thumb_opcod): Use it.
        (thumb32_opc): Use it.

        Update expected disassembly regrexps in GAS and LD testsuites.
@
text
@d1 58
@


1.1496
log
@        * config/tc-arm.c (implicit_it_mode): New enum.
        (implicit_it_mode): New global.
        (it_instruction_type): New enum.
        (arm_parse_it_mode): New function.
        (arm_long_opts): New option added.
        (arm_it): New field.
        (it_state): New enum.
        (now_it): New macro.
        (check_it_blocks_finished): New function.
        (insns[]): Use the IT Thumb opcodes for ARM too.
        (arm_cleanup): Call check_it_blocks_finished.
        (now_it_compatible): New function.
        (conditional_insn): New function.
        (set_it_insn_type): New macro.
        (set_it_insn_type_last): New macro.
        (do_it): Call automatic IT machinery functions.
        (do_t_add_sub): Likewise
        (do_t_arit3): Likewise.
        (do_t_arit3c): Likewise.
        (do_t_blx): Likewise.
        (do_t_branch): Likewise.
        (do_t_bkpt): Likewise.
        (do_t_branch23): Likewise.
        (do_t_bx): Likewise.
        (do_t_bxj): Likewise.
        (do_t_cps): Likewise.
        (do_t_cpsi): Likewise.
        (do_t_cbz): Likewise.
        (do_t_it): Likewise.
        (encode_thumb2_ldmstm): Likewise.
        (do_t_ldst): Likewise.
        (do_t_mov_cmp): Likewise.
        (do_t_mvn_tst): Likewise.
        (do_t_mul): Likewise.
        (do_t_neg): Likewise.
        (do_t_setend): Likewise.
        (do_t_shift): Likewise.
        (do_t_tb): Likewise.
        (output_it_inst): New function.
        (new_automatic_it_block): New function.
        (close_automatic_it_block): New function.
        (now_it_add_mask): New function.
        (it_fsm_pre_encode): New function.
        (handle_it_state): New function.
        (it_fsm_post_encode): New function.
        (force_automatic_it_block_close): New function.
        (in_it_block): New function.
        (md_assemble): Call automatic IT block machinery functions.
        (arm_frob_label): Likewise.
        (arm_opts): New element.
        * config/tc-arm.h (it_state): New enum.
        (current_it): New struct.
        (arm_segment_info_type): New member added.
        * doc/c-arm.texi: New option -mimplicit-it documented.

        * gas/arm/arm-it-auto.d: New test.
        * gas/arm/arm-it-auto.s: New file.
        * gas/arm/arm-it-auto-2.d: New test case.
        * gas/arm/arm-it-auto-2.s: New file.
        * gas/arm/arm-it-auto-3.d: New test case.
        * gas/arm/arm-it-auto-3.s: New file.
        * gas/arm/arm-it-bad.d: New test case.
        * gas/arm/arm-it-bad.l: New file.
        * gas/arm/arm-it-bad.s: New file.
        * gas/arm/arm-it-bad-2.d: New test case.
        * gas/arm/arm-it-bad-2.l: New file.
        * gas/arm/arm-it-bad-2.s: New file.
        * gas/arm/arm-it-bad-3.d: New test case.
        * gas/arm/arm-it-bad-3.l: New file.
        * gas/arm/arm-it-bad-3.s: New file.
        * gas/arm/thumb2_it_auto.d: New test.
        * gas/arm/thumb2_it_bad.l: Error message updated.
        * gas/arm/thumb2_it_bad_auto.d: New test.
        * gas/arm/thumb2_it.d: Comment added.
        * gas/arm/thumb2_it_bad.d: Comment added.
@
text
@d1 29
@


1.1495
log
@	* gas/cfi/cfi-common-7.s: Skip a multiple of four.
	* gas/cfi/cfi-common-7.d: Adjust.
@
text
@d1 23
@


1.1494
log
@        PR 10169
        * gas/tc-arm.c (do_t_ssat): Move common code from here...
        (do_t_usat): ... and here to...
        (do_t_ssat_usat): New function: ... here.  Add code to check that
        the shift value, if present, is in range.

        * gas/arm/thumb2_bad_reg.s: Add tests for SSAT and USAT with an
        out of range shift.
        * gas/arm/thumb2_bad_reg.l: Update expected error messages.
@
text
@d1 5
@


1.1493
log
@        PR 10288
        * arm-dis.c (print_insn_coprocessor): Check that a user specified
        ARM architecture supports the matched instruction.
        (print_insn_arm): Likewise.
        (select_arm_features): New function.  Fills in the fields of an
        arm_feature_set structure based on a given arm machine number.
        (print_insn): Initialise an arm_feature_set structure.

        * objdump.c (disassemble_bytes): Set the
        USER_SPECIFIED_MACHINE_TYPE flag in the disassemble_info structure
        if the user has invoked the -m switch.
        * doc/binutils.texi: Document the additional behaviour of
        objdump's -m switch for ARM targets.

        * dis-asm.h (USER_SPECIFIED_MACHINE_TYPE): New value for the flags
        field of struct disassemble_info.

        * gas/arm/align.s: Add labels so that COFF based targets can
        correctly locate THUMB code.
        * gas/arm/copro.d: Do not pass --architecture switch to objdump.
@
text
@d3 5
@


1.1492
log
@        PR 10186
        * arm-dis.c (thumb32_opcodes): Fix binary value of SEV.W
        instruction.

        * gas/arm/thumb32.d: Fix expected binary value of SEV.W instruction.

        * config/tc-arm.c (T16_32_TAB): Fix binary value of SEV.W
        instruction.
@
text
@d1 7
@


1.1491
log
@	* dw2gencfi.c (output_cfi_insn): Initialize fragment before rs_cfa
	to DW_CFA_advance_loc4.

	* gas/cfi/cfi-common-7.d: New test.
	* gas/cfi/cfi-common-7.s: New.
	* gas/cfi/cfi.exp: Add cfi-common-7 test.
@
text
@d1 5
@


1.1490
log
@	* gas/i386/jump.d:  Tweak patterns to also match PE platform output.
@
text
@d1 7
@


1.1489
log
@gas/

2009-06-01  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/10198
	* config/tc-i386-intel.c (i386_intel_operand): Check '$' as '.'.

gas/testsuite/

2009-06-01  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/10198
	* gas/i386/jump.s: Add test for "jmp $+2".
	* gas/i386/jump16.s: Likewise.

	* gas/i386/jump.d: Updated.
	* gas/i386/jump16.d: Likewise.
@
text
@d1 4
@


1.1488
log
@Remove a white space.
@
text
@d1 9
@


1.1487
log
@2009-05-26  Catherine Moore  <clm@@codesourcery.com>

            gas/
            * config/tc-mips.c (check_for_24k_errata): Remove.
            (md_mips_end): Remove call to check_for_24k_errata.
            (start_noreorder): Likewise.
            (s_change_sec): Likewise.
            (s_change_section): Likewise.
            (insns_between): Add 24k errata checks.
            (append_insn): Remove declaration and references to nhdx_24k.
            Remove calls to check_for_24k_errata.

            gas/testsuite:
            * eret.s, eret.d eret.l: Remove.
            * eret-1.s, eret-1.d: New.
            * eret-2.s, eret-2.d: New.
            * eret-3.s, eret-3.d: New.
            * mips.exp: Run new tests.  Remove old tests.
@
text
@d4 1
a4 1
	* gas/mips/ eret.d: Remove.
@


1.1486
log
@gas/
	* config/tc-mips.c (nops_for_vr4130): Don't check noreorder_p.
	(nops_for_insn): Likewise.

gas/testsuite/
	* gas/mips/vr4130.s, gas/mips/vr4130.d: Expect part A to have nops.
@
text
@d1 13
@


1.1485
log
@gas/testsuite/
	* gas/mips/align.d: Use an nm test rather than an objdump one.
@
text
@d3 4
@


1.1484
log
@gas/

2009-05-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* symbols.c (COPIED_SYMFLAGS): Add BSF_GNU_INDIRECT_FUNCTION.

gas/testsuite/gas/

2009-05-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/elf/ifunc-1.d: New.
	* gas/elf/ifunc-1.s: Likewise.

	* gas/elf/elf.exp: Run ifunc-1.
@
text
@d1 4
@


1.1483
log
@Fix a typo.
@
text
@d1 7
@


1.1482
log
@Add missing ChangeLog entries.
@
text
@d63 1
a63 1
	gas/elftype.e: Add ifunc entry to expected symbol dump.
@


1.1481
log
@<gas changes>
2009-05-22  Dwarakanath Rajagopal  <dwarak.rajagopal@@amd.com>

	* config/tc-i386.c (process_drex): Delete. Remove SSE5 support.
	(build_modrm_byte): Remove DREX handling support.
	(DREX_*): Delete.
	(drex_byte): Delete.
	(md_assemble): Remove DREX handling support.
	(process_operands): Remove DREX, SSE5 support.
	(i386_insn): Remove DREX.

<gas/testsuite changes>
2009-05-22  Dwarakanath Rajagopal  <dwarak.rajagopal@@amd.com>

	* gas/i386/i386.exp: Remove SSE5 tests.
	* gas/i386/x86-64-sse5.s: Delete. Remove SSE5 tests.
	* gas/i386/x86-64-sse5.d: Ditto.
	* gas/i386/arch-10-1.l: Remove SSE5 tests.
	* gas/i386/arch-10-2.l: Ditto.
	* gas/i386/arch-10-3.l: Ditto.
	* gas/i386/arch-10-4.l: Ditto.
	* gas/i386/arch-10.d: Ditto.
	* gas/i386/arch-10.s: Ditto.
	* gas/i386/arch-4.s: Delete. Remove SSE5 tests.
	* gas/i386/arch-4.d: Ditto.
	* gas/i386/arch-8.s: Ditto.
	* gas/i386/arch-8.d: Ditto.
	* gas/i386/arch-2.s: Remove SSE5 tests.
	* gas/i386/arch-2.d: Remove SSE5 tests.
	* gas/i386/x86-64-arch-2.s: Ditto.

<opcodes changes>
2009-05-22  Dwarakanath Rajagopal  <dwarak.rajagopal@@amd.com>

	* i386-opc.h (Cpusse5): Delete.
	(i386_cpu_flags): Delete.
	* i386-gen.c: Remove CpuSSE5, Drex, Drexv and Drexc.
	* i386-opc.tbl: Remove SSE5 instructions.
	* i386-tbl.h: Regenerate.
	* i386-init.h: Regenerate.
	* i386-dis.c (OP_E_memeory, OP_E_extended): Remove drex handling.
	(print_drex_arg): Delete.
	(OP_DREX4): Delete.
	(OP_DREX3): Delete.
	(OP_DREX_ICMP): Delete.
	(OP_DREX_FCMP): Delete.
	(DREX_*): Delete.
	(THREE_BYTE_0F24, THREE_BYTE_0F25, THREE_BYTE_0f7B): Delete.
@
text
@d57 11
@


1.1480
log
@==> bfd/ChangeLog <==
2009-05-19  Dave Korn  <dave.korn.cygwin@@gmail.com>

	* cofflink.c (process_embedded_commands):  Ignore "-aligncomm".

==> gas/ChangeLog <==
2009-05-19  Dave Korn  <dave.korn.cygwin@@gmail.com>

	* NEWS:  Mention new feature.
	* config/obj-coff.c (obj_coff_common_parse):  New function.
	(obj_coff_comm):  Likewise.
	(coff_pseudo_table):  Override default ".comm" definition on PE.
	* doc/as.texinfo:  Document new feature.

==> gas/testsuite/ChangeLog <==
2009-05-19  Dave Korn  <dave.korn.cygwin@@gmail.com>

	* gas/pe/:  New directory for PE format-specific tests.
	* gas/pe/aligncomm-a.d:  New test pattern file.
	* gas/pe/aligncomm-a.s:  New test source file.
	* gas/pe/aligncomm-b.d:  New test pattern file.
	* gas/pe/aligncomm-b.s:  New test source file.
	* gas/pe/aligncomm-c.d:  New test pattern file.
	* gas/pe/aligncomm-c.s:  New test source file.
	* gas/pe/aligncomm-d.d:  New test pattern file.
	* gas/pe/aligncomm-d.s:  New test source file.
	* gas/pe/pe.exp:  New test control script.
	* lib/gas-defs.exp (is_pecoff_format):  New function.

==> ld/ChangeLog <==
2009-05-19  Dave Korn  <dave.korn.cygwin@@gmail.com>

	* NEWS:  Mention new feature.
	* deffile.h (def_file_aligncomm):  Add new struct definition.
	(def_file):  Add new def_file_aligncomm member.
	* deffilep.y (%token):  Add new ALIGNCOMM token.
	(command):  Add production rule for ALIGNCOMM.
	(def_file_free):  Free any chained def_file_aligncomm structs.
	(diropts[]):  Add entry for '-aligncomm' .drectve command.
	(def_aligncomm):  New grammar function.
	* ld.texinfo:  Document new feature.
	* pe-dll.c (process_def_file):  Rename from this ...
	(process_def_file_and_drectve):  ... to this, updating all callers,
	and process any aligncomms chained to the def file after scanning
	all .drectve sections.
	(generate_edata):  Updated to match.
	(pe_dll_build_sections):  Likewise.

==> ld/testsuite/ChangeLog <==
2009-05-19  Dave Korn  <dave.korn.cygwin@@gmail.com>

	* ld-pe/aligncomm-1.c:  New test source file.
	* ld-pe/aligncomm-2.c:  Likewise.
	* ld-pe/aligncomm-3.c:  Likewise.
	* ld-pe/aligncomm-4.c:  Likewise.
	* ld-pe/aligncomm.d:  New test pattern file.

	* ld-pe/direct.exp:  Deleted, and content moved into ...
	* ld-pe/pe-run.exp:  ... New common file for all PE run tests.

	* ld-pe/vers-script.exp:  Deleted, and content merged into ...
	* ld-pe/pe-compile.exp:  ... New common file for PE tests needing
	a compiler, adding aligned common tests.

	* ld-pe/pe.exp:  Update header comment.
@
text
@d1 19
@


1.1479
log
@Correct pathname.
@
text
@d1 14
@


1.1478
log
@2009-05-05  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/lns/lns-common-1.d: Add test for discriminator.
@
text
@d3 1
a3 1
	* gas/lns/lns-common-1.d: Add test for discriminator.
@


1.1477
log
@Move ChangeLog entries.
@
text
@d1 4
@


1.1476
log
@Correct pathnames.
@
text
@d20 5
@


1.1475
log
@Fix local branches for bl and blx.
@
text
@d3 3
a5 3
	* gas\arm\bl-local-v4t.d: New file.
	* gas\arm\bl-local-v4t.s: New file.
	* gas\arm\blx-local.s: Update for branches and calls to local
d7 5
a11 5
	* gas\arm\blx-local.d: Likewise.
	* gas\arm\blx-local.l: New file.
	* gas\arm\blx-local-thumb.l: New file.
	* gas\arm\blx-local-thumb.s: New file.
	* gas\arm\blx-local-thumb.d: New file.
@


1.1474
log
@	* config/tc-armlinux-eabi.h (FPU_DEFAULT): Default to plain VFP.
	* config/tc-armeabi.h (FPU_DEFAULT): Likewise.
	* config/tc-arm.c (md_begin): If FPU_DEFAULT is set, don't infer
	the default FPU from the processor.
testsuite/
	* gas/arm/attr-mcpu.d: Add -mfpu=neon.
	* gas/arm/mapmisc.d: Correct expected output for .double and
	.dcb.d.
@
text
@d1 12
@


1.1473
log
@gas/
2009-04-20  Jan Beulich  <jbeulich@@novell.com>

	* Makefile.am: Add explicit dependency of tc-i386.o on
	tc-i386-intel.c.
	* Makefile.in: Likewise.
	* config/tc-i386.c (i386_finalize_immediate): Declare, broken
	out from i386_immediate.
	(i386_immediate): Slightly re-arrange, call
	i386_finalize_immediate.
	(i386_finalize_displacement): Declare, broken out from
	i386_displacement.
	(i386_displacement): Slightly re-arrange, call
	i386_finalize_displacement.
	(i386_intel_simplify, i386_intel_parse_name): Declare.
	(this_operand): Initialize to -1.
	(set_intel_syntax): Set expression rank for O_full_ptr.
	(md_assemble): Set this_operand back to -1 after parsing
	operands.
	(x86_cons): Negate intel_syntax to indicate state. Call
	i386_intel_simplify.
	(md_operand): Convert if to switch. Handle '[' for Intel
	syntax.
	(i386_intel_operand): Delete, including all helper functions
	and data.
	* config/tc-i386-intel.c: New file, all new code.
	* config/tc-i386.h (i386_operator): Declare.
	(md_operator): Define to i386_operator.
	(i386_need_index_operator): Declare.
	(md_need_index_operator): Define to i386_need_index_operator.
	(O_full_ptr): Define.

gas/testsuite/
2009-04-20  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/equ.s: Adjust.
	* gas/i386/equ.d: Remove reference to equ.e.
	* gas/i386/equ.e: Delete.
	* gas/i386/intel-expr.s: New.
	* gas/i386/intel-expr.d: New.
	* gas/i386/i386.exp: Run new test.
	* gas/i386/intel.s: Adjust.
	* gas/i386/intel.e: Remove no longer valid warning messages.
	* gas/i386/intel16.s: Adjust.
	* gas/i386/intel16.d: Remove reference to intel16.e.
	* gas/i386/intel16.e: Delete.
	* gas/i386/intelbad.s: Add more tests.
	* gas/i386/intelbad.l: Adjust.
	* gas/i386/intelok.s: Remove now unneeded equates. Add more
	tests.
	* gas/i386/intelok.d: Remove reference to intelok.e. Adjust.
	* gas/i386/intelok.e: Delete.
	* gas/i386/x86_64.s: Adjust.
	* gas/i386/x86_64.d: Remove reference to x86_64.e.
	* gas/i386/x86_64.e: Delete.
@
text
@d1 7
@


1.1472
log
@binutils/testsuite/
	* binutils-all/localize-hidden-1.s: Use "==" instead of ".set".
	* binutils-all/localize-hidden-2.s: Likewise.
gas/testsuite/
	* gas/all/gas.exp: Disable assign and assign-ok tests on blackfin.
	* gas/all/p2425.s: Use "==" instead of "=".
	* gas/all/weakref1.s: Likewise.
	* gas/macros/and.s: Likewise.
	* gas/macros/test1.s: Likewise.
	* gas/hppa/parse/parse.exp: Remove xfail on block1.
ld/testsuite/
	* ld-libs/lib-1.s: Use "==" instead of ".set".
	* ld-libs/lib-2.s: Likewise.
	* ld-scripts/defined.s: Likewise.
@
text
@d1 23
@


1.1471
log
@gas/
2009-04-15  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-i386.c (process_operands): Print operands in
	correct order depending on intel_syntax.

gas/testsuite/
2009-04-15  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/intel.e: Adjust expectations.
@
text
@d1 9
@


1.1470
log
@gas/testsuite/
2009-04-15  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/x86-64-sse5.s: Add test of protd.
	* gas/i386/x86-64-sse5.d: Adjust expectations to match input.

opcodes/
2009-04-15  Jan Beulich  <jbeulich@@novell.com>

	* i386-opc.tbl (protb, protw, protd, protq): Set opcode
	extension to None.
	(pshab, pshaw, pshad, pshaq): Likewise.
	* i386-tbl.h: Re-generate.
@
text
@d3 4
@


1.1469
log
@Move testsuite ChangeLog entries to testsuite/ChangeLog*.
@
text
@d1 5
@


1.1468
log
@opcodes/
	* ppc-opc.c (powerpc_opcodes) <"tlbilxlpid", "tlbilxpid", "tlbilxva",
	"tlbilx">: Use secondary opcode "18" as per the ISA 2.06 documentation.
	Reorder entries so the extended mnemonics are listed before tlbilx.

gas/testsuite/
	* gas/ppc/e500mc.d: Update to match extended mnemonics.
@
text
@d1 7
@


1.1467
log
@	* config/tc-arm.c (do_nop): Generate v6k nops whenever possible.
	(arm_handle_align): Generate v6k ARM, thumb2 wide & narrow nops
	whenever possible.

	testsuite/
	* gas/arm/align.s, gas/arm/align.d: New.
	* gas/arm/thumb32.d, gas/arm/arch6zk.d, gas/arm/arch6zk.s,
	arm/thumb2_relax.d: Adjust for align changes.
@
text
@d1 4
@


1.1466
log
@gas/
	* config/tc-ppc.c (ppc_handle_align): Handle power7's group ending nop.

gas/testsuite/
	* gas/ppc/power7.d ("ori", ".p2align"): Add tests for group ending nop.
	* gas/ppc/power7.s: Likewise.
	* gas/ppc/power6.d: Likewise.
	* gas/ppc/power6.s: Likewise.
@
text
@d1 6
@


1.1465
log
@gas/testsuite:
	* gas/arm/mapsecs.d, gas/arm/mapsecs.s: New.

opcodes:
	* arm-dis.c (print_insn): Also check section matches in backwards
	search for mapping symbol.
@
text
@d1 7
@


1.1464
log
@2009-03-26  Ramana Radhakrishnan  <ramana.radhakrishnan@@arm.com>

        * gas/arm/wince_inst.d: Convert to unified syntax.
@
text
@d1 4
@


1.1463
log
@2009-03-18  Andrew Stubbs  <ams@@codesourcery.com>

	gas/
	* config/tc-arm.c (md_apply_fix): Check BFD_RELOC_ARM_IMMEDIATE and
	BFD_RELOC_ARM_ADRL_IMMEDIATE value is in the correct section.
	Check BFD_RELOC_ARM_ADRL_IMMEDIATE has a defined symbol.

	gas/testsuites/
	* gas/arm/adr-invalid.d: New file.
	* gas/arm/adr-invalid.l: New file.
	* gas/arm/adr-invalid.s: New file.
@
text
@d1 4
@


1.1462
log
@gas/testsuite/
	* gas/ppc/textalign-xcoff-001.d: Expect the section VMAs to be
	properly aligned.
	* gas/ppc/textalign-xcoff-002.d: Likewise.
@
text
@d1 6
@


1.1461
log
@gas/
	* config/tc-ppc.c (md_apply_fix): On COFF targets, always reread
	"value" from fx_offset.  Manually resubtract md_pcrel_from_section
	where necessary.

gas/testsuite/
	* gas/ppc/xcoff-branch-1.s, gas/ppc/xcoff-branch-1-32.d,
	gas/ppc/xcoff-branch-1-64.d: New tests.
	* gas/ppc/aix.exp: Run them.
@
text
@d3 6
@


1.1460
log
@	* gas/cris/rd-bkw5.d, gas/cris/rd-bkw5.s, gas/cris/rd-bkw5b.d,
	gas/cris/rd-bkw5bpic.d, gas/cris/rd-bkw5bv32.d,
	gas/cris/rd-bkw5bv32pic.d, gas/cris/rd-bkw5pic.d,
	gas/cris/rd-bkw5v32.d, gas/cris/rd-bkw5v32pic.d: New tests.
@
text
@d1 6
@


1.1459
log
@	* gas/cris/rd-bkw4.d, gas/cris/rd-bkw4v32.d, gas/cris/rd-bkw4.s:
	New test.
@
text
@d1 7
@


1.1458
log
@include/opcode/
	* ppc.h (ppc_parse_cpu): Declare.
opcodes/
	* ppc-dis.c: Include "opintl.h".
	(struct ppc_mopt, ppc_opts): New.
	(ppc_parse_cpu): New function.
	(powerpc_init_dialect): Use it.
	(print_ppc_disassembler_options): Dump options from ppc_opts.
	Internationalize message.
gas/
	* config/tc-ppc.c (parse_cpu): Delete.
	(md_parse_option, ppc_machine): Use ppc_parse_cpu.
gas/testsuite/
	* gas/ppc/altivec_and_spe.d (objdump): Add -Maltivec.
	* gas/ppc/common.d: Adjust for -Mcom not including -Mppc.
@
text
@d1 5
@


1.1457
log
@gas:
	* read.c (s_fill, s_space, s_float_space, float_cons, stringer,
	s_incbin): Call md_cons_align (1).

gas/testsuite:
	* gas/arm/mapmisc.d, gas/arm/mapmisc.dat, gas/arm/mapmisc.s: New.
@
text
@d1 5
@


1.1456
log
@Add support for Score7 architecture.
@
text
@d1 4
@


1.1455
log
@	* config/tc-arm.c (md_assemble): Allow barrier instructions on
	ARMv6-M cores.

	* gas/arm/archv6m.s: Add dmb, dsb, and isb.
	* gas/arm/archv6m.d: Likewise.
@
text
@d1 32
@


1.1454
log
@gas/
	* config/tc-ppc.c (pre_defined_registers): Add "f32" to "f63",
	"f.32" to "f.63", "vs0" to "vs63" and "vs.0" to "vs.63".
	(parse_cpu): Extend -mpower7 to accept power7 and isel instructions.

gas/testsuite/
	* gas/ppc/e500mc.d ("wait", "waitsrv", "waitimpl"): Add tests.
	* gas/ppc/e500mc.s: Likewise.
	* gas/ppc/power6.d ("cdtbcd", "cbcdtd", "addg6s"): Add tests.
	* gas/ppc/power6.s: Likewise.
	* gas/ppc/power7.d ("lfdpx", "mffgpr", "mftgpr"): Remove invalid tests.
	("wait", "waitsrv", "waitimpl", "divwe", "divwe.", "divweo", "divweo.",
	"divweu", "divweu.", "divweuo", "divweuo.", "bpermd", "popcntw",
	"popcntd", "ldbrx", "stdbrx", "lfiwzx", "lfiwzx", "fcfids", "fcfids.",
	"fcfidus", "fcfidus.", "fctiwu", "fctiwu.", "fctiwuz", "fctiwuz.",
	"fctidu", "fctidu.", "fctiduz", "fctiduz.", "fcfidu", "fcfidu.",
	"ftdiv", "ftdiv", "ftsqrt", "ftsqrt", "dcbtt", "dcbtstt", "dcffix",
	"dcffix.", "lbarx", "lbarx", "lbarx", "lharx", "lharx", "lharx",
	"stbcx.", "sthcx.", "fre", "fre.", "fres", "fres.", "frsqrte",
	"frsqrte.", "frsqrtes", "frsqrtes.", "isel"): Add tests.
	* gas/ppc/power7.s: Likewise.
	* gas/ppc/vsx.d: New test.
	* gas/ppc/vsx.s: Likewise.
	* gas/ppc/ppc.exp: Run it.

include/opcode/
	* ppc.h (PPC_OPCODE_POWER7): New.

opcodes/
	* ppc-dis.c (powerpc_init_dialect): Extend -Mpower7 to disassemble
	the power7 and the isel instructions.
	* ppc-opc.c (insert_xc6, extract_xc6): New static functions.
	(insert_dm, extract_dm): Likewise.
	(XB6): Update comment to include XX2 form.
	(WC, XC6, SHW, DMEX, UIM, XX2, XX3RC, XX4, XX2_MASK, XX2UIM_MASK,
	XX2BF_MASK, XX3BF_MASK, XX3SHW_MASK, XX4_MASK, XWC_MASK, POWER7): New.
	(RemoveXX3DM): Delete.
	(powerpc_opcodes): <"lfdp", "lfdpx", "mcrxr", "mftb", "mffgpr",
	"mftgpr">: Deprecate for POWER7.
	<"fres", "fres.", "frsqrtes", "frsqrtes.", "fre", "fre.", "frsqrte",
	"frsqrte.">: Deprecate the three operand form and enable the two
	operand form for POWER7 and later.
	<"wait">: Extend to accept optional parameter.  Enable for POWER7.
	<"waitsrv", "waitimpl">: Add extended opcodes.
	<"ldbrx", "stdbrx">: Enable for POWER7.
	<"cdtbcd", "cbcdtd", "addg6s">: Add POWER6 opcodes.
	<"bpermd", "dcbtstt", "dcbtt", "dcffix.", "dcffix", "divde.", "divde",
	"divdeo.", "divdeo", "divdeu.", "divdeu", "divdeuo.", "divdeuo",
	"divwe.", "divwe", "divweo.", "divweo", "divweu.", "divweu", "divweuo.",
	"divweuo", "fcfids.", "fcfids", "fcfidu.", "fcfidu", "fcfidus.",
	"fcfidus", "fctidu.", "fctidu", "fctiduz.", "fctiduz", "fctiwu.",
	"fctiwu", "fctiwuz.", "fctiwuz", "ftdiv", "ftsqrt", "lbarx", "lfiwzx",
	"lharx", "popcntd", "popcntw", "stbcx.", "sthcx.">: Add POWER7 opcodes.
	<"lxsdux", "lxsdx", "lxvdsx", "lxvw4ux", "lxvw4x", "stxsdux", "stxsdx",
	"stxvw4ux", "stxvw4x", "xsabsdp", "xsadddp", "xscmpodp", "xscmpudp",
	"xscpsgndp", "xscvdpsp", "xscvdpsxds", "xscvdpsxws", "xscvdpuxds",
	"xscvdpuxws", "xscvspdp", "xscvsxddp", "xscvuxddp", "xsdivdp",
	"xsmaddadp", "xsmaddmdp", "xsmaxdp", "xsmindp", "xsmsubadp",
	"xsmsubmdp", "xsmuldp", "xsnabsdp", "xsnegdp", "xsnmaddadp",
	"xsnmaddmdp", "xsnmsubadp", "xsnmsubmdp", "xsrdpi", "xsrdpic",
	"xsrdpim", "xsrdpip", "xsrdpiz", "xsredp", "xsrsqrtedp", "xssqrtdp",
	"xssubdp", "xstdivdp", "xstsqrtdp", "xvabsdp", "xvabssp", "xvadddp",
	"xvaddsp", "xvcmpeqdp.", "xvcmpeqdp", "xvcmpeqsp.", "xvcmpeqsp",
	"xvcmpgedp.", "xvcmpgedp", "xvcmpgesp.", "xvcmpgesp", "xvcmpgtdp.",
	"xvcmpgtdp", "xvcmpgtsp.", "xvcmpgtsp", "xvcpsgnsp", "xvcvdpsp",
	"xvcvdpsxds", "xvcvdpsxws", "xvcvdpuxds", "xvcvdpuxws", "xvcvspdp",
	"xvcvspsxds", "xvcvspsxws", "xvcvspuxds", "xvcvspuxws", "xvcvsxddp",
	"xvcvsxdsp", "xvcvsxwdp", "xvcvsxwsp", "xvcvuxddp", "xvcvuxdsp",
	"xvcvuxwdp", "xvcvuxwsp", "xvdivdp", "xvdivsp", "xvmaddadp",
	"xvmaddasp", "xvmaddmdp", "xvmaddmsp", "xvmaxdp", "xvmaxsp",
	"xvmindp", "xvminsp", "xvmovsp", "xvmsubadp", "xvmsubasp", "xvmsubmdp",
	"xvmsubmsp", "xvmuldp", "xvmulsp", "xvnabsdp", "xvnabssp", "xvnegdp",
	"xvnegsp", "xvnmaddadp", "xvnmaddasp", "xvnmaddmdp", "xvnmaddmsp",
	"xvnmsubadp", "xvnmsubasp", "xvnmsubmdp", "xvnmsubmsp", "xvrdpi",
	"xvrdpic", "xvrdpim", "xvrdpip", "xvrdpiz", "xvredp", "xvresp",
	"xvrspi", "xvrspic", "xvrspim", "xvrspip", "xvrspiz", "xvrsqrtedp",
	"xvrsqrtesp", "xvsqrtdp", "xvsqrtsp", "xvsubdp", "xvsubsp", "xvtdivdp",
	"xvtdivsp", "xvtsqrtdp", "xvtsqrtsp", "xxland", "xxlandc", "xxlnor",
	"xxlor", "xxlxor", "xxmrghw", "xxmrglw", "xxsel", "xxsldwi", "xxspltd",
	"xxspltw", "xxswapd">: Add VSX opcodes.
@
text
@d1 5
@


1.1453
log
@	* config/tc-arm.c (warn_deprecated_sp): New macro.
	(do_t_mov_cmp): Permit R13 as the second
	argument to "cmp.n".

	* gas/arm/thumb2_bad_reg.s: Update to allow R13 as second argument
	for CMP.
	* gas/arm/thumb2_bad_reg.l: Adjust accordingly.
@
text
@d1 21
@


1.1452
log
@gas/testsuite/
	* gas/ppc/e500mc.d ("lfdepx", "stfdepx"): Fix tests to expect a
	floating point register.

opcodes/
	* ppc-opc.c (powerpc_opcodes) <"lfdepx", "stfdepx">: Fix the first
	operand to be a float point register (FRT/FRS).
@
text
@d1 6
@


1.1451
log
@opcodes/
	* mips-opc.c (mips_builtin_opcodes): Move the Octeon-specific
	dmfc2 and dmtc2 before the architecture-level variants.

gas/testsuite/
	* gas/mips/octeon.s: Add more tests for dmfc2 and dmtc2.
	* gas/mips/octeon.d: Update.
	* gas/mips/octeon-ill.l: Update error message.
@
text
@d1 5
@


1.1450
log
@        * gas/mips/e32-rel2.d: Adjust expected output to remove the 0x4000
        offset.
        * gas/mips/e32el-rel2.d: Likewise.
        * gas/mips/elf-rel2.d: Likewise.
        * gas/mips/elf-rel9-mips16.d: Likewise.
        * gas/mips/elf-rel9.d: Likewise.
        * gas/mips/elfel-rel2.d: Likewise.
        * gas/mips/lb.d: Likewise.
        * gas/mips/mips-abi32.d: Likewise.
        * gas/mips/mips-gp32-fp32.d: Likewise.
        * gas/mips/mips-gp32-fp64.d: Likewise.
        * gas/mips/mips-gp64-fp32.d: Likewise.
        * gas/mips/mips-gp64-fp64.d: Likewise.
        * gas/mips/mips32-sf32.d: Likewise.
@
text
@d1 6
@


1.1449
log
@	gas/
	* config/tc-m68k.c (mcf51qe_ctrl): Add CPUCR.
	(mcf52259_ctrl, mcf52277_ctrl, mcf53017_ctrl): New.
	(mcf5307_ctrl): Add VBR.
	(no_mac): New variable.
	(m68k_extensions): Refer to no_mac mask.
	(m68k_cpus): Add 51, 51ac, 51cn, 51em, 51jm, 52274, 52277,
	52252..52259, 53011..53017.
	(m68k_ip): Process CPUCR.
	(init_table): Add cpucr entry.
	(m68k_set_extension): Allow negated mask to refer to a variable.
	(md_show_usage): Use '%s' to silence fprintf warning.
	* config/m68k-parse.h (CPUCR): New control register.

	gas/testsuite/
	* m68k/br-isac.d, m68k/br-isac.s: Add stldsr test.

	opcodes/
	* m68k-opc.c (m68k_opcodes): Add stldsr instruction.
@
text
@d1 17
@


1.1448
log
@* gas/mips/beq.d: Make no assumptions about the symbols used as
        branch targets in the disassembly, or the names of the relocs
        produced.
        * gas/mips/bge.d: Likewise.
        * gas/mips/bgeu.d: Likewise.
        * gas/mips/blt.d: Likewise.
        * gas/mips/bltu.d: Likewise.
        * gas/mips/mips32-sf32.d: Likewise.
        * gas/mips/mips1-fp.d: Likewise.
        * gas/mips/branch-misc-1.d: Skip for the mips-ecoff target.
        * gas/mips/branch-misc-2-64.d: Likewise.
        * gas/mips/branch-misc-2.d: Likewise.
        * gas/mips/branch-misc-2pic-64.d: Likewise.
        * gas/mips/branch-misc-2pic.d: Likewise.
        * gas/mips/branch-swap.d: Likewise.
@
text
@d1 4
@


1.1447
log
@        * gas/elf/symtab.d: But do not run the test for the Alpha or HPPA
        ports.
@
text
@d3 18
d23 1
a23 1

@


1.1446
log
@gas/testsuite/
	* gas/ppc/booke.s ("dcbt", "dcbtst"): New tests.
	* gas/ppc/booke.d: Likewise.
	* gas/ppc/power4_32.s: Likewise.
	* gas/ppc/power4_32.d: Likewise.

opcodes/
        * ppc-opc.c: Update copyright year.
        (powerpc_opcodes) <"dcbt", "dcbtst">: Deprecate the Embedded operand
        ordering for POWER4 and later and use the correct Server ordering.
@
text
@d1 5
@


1.1445
log
@2009-02-05  Catherine Moore  <clm@@codesourcery.com>

	* gas/elf/elf.exp: Really run the symtab test.
@
text
@d1 7
@


1.1444
log
@gas/

2009-02-04  H.J. Lu  <hongjiu.lu@@intel.com>

	AVX Programming Reference (January, 2009)
	* config/tc-i386.c (CPU_FLAGS_PCLMUL_MATCH): New.
	(CPU_FLAGS_AVX_MATCH): Updated.
	(CPU_FLAGS_32BIT_MATCH): Likewise.
	(cpu_flags_match): Likewise.

gas/testsuite/

2009-02-04  H.J. Lu  <hongjiu.lu@@intel.com>

	AVX Programming Reference (January, 2009)
	* gas/i386/arch-avx-1-3.l: New.
	* gas/i386/arch-avx-1-3.s: Likewise.
	* gas/i386/arch-avx-1-4.l: Likewise.
	* gas/i386/arch-avx-1-4.s: Likewise.
	* gas/i386/arch-avx-1-5.l: Likewise.
	* gas/i386/arch-avx-1-5.s: Likewise.
	* gas/i386/arch-avx-1-6.l: Likewise.
	* gas/i386/arch-avx-1-6.s: Likewise.

	* gas/i386/arch-10.s: Add vpclmul instructions.
	* gas/i386/arch-avx-1.s: Likewise.
	* gas/i386/avx.s: Likewise.
	* gas/i386/x86-64-arch-2.s: Likewise.
	* gas/i386/x86-64-avx.s: Likewise.

	* gas/i386/sse2avx.s: Add pclmul instructions.
	* gas/i386/x86-64-sse2avx.s: Likewise.

	* gas/i386/arch-10.d: Updated.
	* gas/i386/arch-10-1.l: Likewise.
	* gas/i386/arch-10-2.l: Likewise.
	* gas/i386/arch-10-3.l: Likewise.
	* gas/i386/arch-10-4.l: Likewise.
	* gas/i386/arch-avx-1.d: Likewise.
	* gas/i386/arch-avx-1-1.l: Likewise.
	* gas/i386/arch-avx-1-2.l: Likewise.
	* gas/i386/avx.d: Likewise.
	* gas/i386/avx-intel.d: Likewise.
	* gas/i386/sse2avx.d: Likewise.
	* gas/i386/x86-64-arch-2.d: Likewise.
	* gas/i386/x86-64-avx.d: Likewise.
	* gas/i386/x86-64-avx-intel.d: Likewise.
	* gas/i386/x86-64-sse2avx.d: Likewise.

	* gas/i386/i386.exp: Run arch-avx-1-3, arch-avx-1-4,
	arch-avx-1-5 and arch-avx-1-6.

opcodes/

2009-02-04  H.J. Lu  <hongjiu.lu@@intel.com>

	AVX Programming Reference (January, 2009)
	* i386-dis.c (PREFIX_VEX_3A44): New.
	(VEX_LEN_3A44_P_2): Likewise.
	(PREFIX_VEX_3A48): Updated.
	(VEX_LEN_3A4C_P_2): Likewise.
	(prefix_table): Add PREFIX_VEX_3A44.
	(vex_table): Likewise.
	(vex_len_table): Add VEX_LEN_3A44_P_2.

	* i386-opc.tbl: Add PCLMUL + AVX instructions.
	* i386-tbl.h: Regenerated.
@
text
@d1 4
@


1.1443
log
@* gas/mep/relocs.d: Updated for new configuration.
* gas/mep/complex-relocs.exp: Likewise.
@
text
@d1 40
@


1.1442
log
@bfd:
2009-02-03  Sandip Matte  <sandip@@rmicorp.com>

	* aoutx.h (NAME (aout, machine_type)): Handle bfd_mach_mips_xlr.
	* archures.c (bfd_mach_mips_xlr): Define.
	* bfd-in2.h: Regenerate.
	* cpu-mips.c (I_xlr): Define.
	(arch_info_struct): Add XLR entry.
	* elfxx-mips.c (_bfd_elf_mips_mach): Handle E_MIPS_MACH_XLR.
	(mips_set_isa_flags): Handle bfd_mach_mips_xlr
	(mips_mach_extensions): Add XLR entry.

binutils:
2009-02-03  Sandip Matte  <sandip@@rmicorp.com>

	* readelf.c (get_machine_flags): Handle E_MIPS_MACH_XLR.

gas:
2009-02-03  Sandip Matte  <sandip@@rmicorp.com>

	* config/tc-mips.c (macro): Handle M_MSGSND, M_MSGLD, M_MSGLD_T,
	M_MSGWAIT and M_MSGWAIT_T.
	(mips_cpu_info_table): Add XLR entry.
	* doc/c-mips.texi (-march): Document xlr.

gas/testsuite:
2009-02-03  Sandip Matte  <sandip@@rmicorp.com>

	* gas/mips/mips.exp (xlr): New architecture.
	(xlr-ext): Run test.
	* gas/mips/xlr-ext.d, gas/mips/xlr-ext.s: New.

include/elf:
2009-02-03  Sandip Matte  <sandip@@rmicorp.com>

	* mips.h (E_MIPS_MACH_XLR): Define.

include/opcode:
2009-02-03  Sandip Matte  <sandip@@rmicorp.com>

	* mips.h (INSN_XLR): Define.
	(INSN_CHIP_MASK): Update.
	(CPU_XLR): Define.
	(OPCODE_IS_MEMBER): Update.
	(M_MSGSND, M_MSGLD, M_MSGLD_T, M_MSGWAIT, M_MSGWAIT_T): Define.

opcodes:
2009-02-03  Sandip Matte  <sandip@@rmicorp.com>

	* mips-dis.c (mips_cp0_names_xlr, mips_cp0sel_names_xlr): Define.
	(mips_arch_choices): Add XLR entry.
	* mips-opc.c (XLR): Define.
	(mips_builtin_opcodes): Add XLR instructions.
@
text
@d1 5
@


1.1441
log
@        M68K TLS support.

        ld/testsuite/
        * ld-m68k/got-multigot-12-13-14-34-35-ok.d: Update.
        * ld-m68k/got-multigot-14-ok.d: Update.
        * ld-m68k/m68k-got.exp: Update.
        * ld-m68k/got-negative-12-13-14-34-ok.d: Update.
        * ld-m68k/got-negative-14-ok.d: Update.
        * ld-m68k/tls-gd-1.d, ld-m68k/tls-gd-2.d: New tests.
        * ld-m68k/tls-gd-ie-1.d, ld-m68k/tls-ie-1.d: New tests.
        * ld-m68k/tls-ld-1.d, ld-m68k/tls-ld-2.d: New tests.
        * ld-m68k/tls-ld-1.s, ld-m68k/tls-ld-2.s, ld-m68k/tls-le-1.s:
        New test sources.
        * ld-m68k/tls-no-1.s, ld-m68k/tls-gd-ie-1.s, ld-m68k/tls-gd-1.s:
        New test sources.
        * ld-m68k/tls-gd-2.s, ld-m68k/tls-ie-1.s: New test sources.
        * ld-m68k/m68k.exp: Run new tests.
        (merge isa-a isa-a:nodiv): Fix.

        gas/testsuite/
        * gas/m68k/tls-gd-3.d, gas/m68k/tls-gd-3.s: New test.
        * gas/m68k/all.exp: Run it.

        gas/
        * config/m68k-parse.h (enum pic_relocation): Add values for TLS
        relocations.
        * config/m68k-parse.y (yylex): Parse TLS relocations.
        * config/tc-m68k.c (m68k_elf_cons): New static function.
        (md_pseudo_table): Use it.
        (get_reloc_code, tc_m68k_fix_adjustable, tc_gen_reloc): Handle TLS
        relocations.
        (md_apply_fix): Fix to set thread local flag.
        (m68k_elf_suffix): New static function; helper for m68k_elf_cons.

        include/elf/
        * m68k.h: Map TLS relocations to numbers.

        bfd/
        * bfd-in2.h: Regenerate.
        * elf32-m68k.c: Handle 2-slot GOT entries.  Rename variables and
        fields from n_entries to n_slots where appropriate, update comments.
        (HOWTO): Add TLS relocations.
        (reloc_map): Map BFD_RELOC_68K_TLS_* to R_68K_TLS_*.
        (enum elf_m68k_got_offset_size): New enum.
        (struct elf_m68k_got_entry.type): Move field to ...
        (struct elf_m68k_got_entry_key): ... here.  Update all uses.
        (elf_m68k_reloc_got_type, elf_m68k_reloc_got_offset_size): New static
        functions.
        (elf_m68k_reloc_got_n_entries, elf_m68k_reloc_tls_p): New static
        functions.
        (struct elf_m68k_got): merge rel_8o_n_entries and rel_8o_16o_n_entries
        fields into n_entries array.  Update comments.
        (elf_m68k_init_got): Simplify, update all uses.
        (elf_m68k_init_got_entry_key): Handle R_68K_TLS_LDM32 reloc, update.
        (ELF_M68K_REL_8O_MAX_N_ENTRIES_IN_GOT): Adjust to handle 2-slot
        GOT entries; update name, update all uses.
        (ELF_M68K_REL_8O_16O_MAX_N_ENTRIES_IN_GOT): Ditto.
        (elf_m68k_get_got_entry): Update.
        (elf_m68k_update_got_entry_type): Rewrite to handle TLS GOT entries,
        simplify.
        (elf_m68k_remove_got_entry_type): Simplify.
        (elf_m68k_add_entry_to_got, elf_m68k_can_merge_gots_1): Update.
        (elf_m68k_can_merge_gots): Update.
        (elf_m68k_merge_gots_1, elf_m68k_merge_gots): Update.
        (struct elf_m68k_finalize_got_offsets_arg): Rewrite to handle 2-slot
        GOT entries, simplify.
        (elf_m68k_finalize_got_offsets_1, elf_m68k_finalize_got_offsets): Same.
        (struct elf_m68k_partition_multi_got_arg): Add slots_relas_diff
        field, remove obsoleted local_n_entries field.
        (elf_m68k_partition_multi_got_2): New static function.
        (elf_m68k_partition_multi_got_1, elf_m68k_partition_multi_got): Use it;
        update.
        (elf_m68k_remove_got_entry_type): Update.
        (elf_m68k_install_rela, dtpoff_base, tpoff): New static functions.
        (elf_m68k_check_relocs): Handle TLS relocations.  Remove unnecessary
        update of sgot->size and srelgot->size.
        (elf_m68k_gc_sweep_hook): Update.
        (elf_m68k_install_rela, dtpoff_base, tpoff): New static functions.
        (elf_m68k_relocate_section, elf_m68k_finish_dynamic_symbol): Handle
        TLS relocations.
        * reloc.c (BFD_RELOC_68K_TLS_*): Declare TLS relocations.
        * libbfd.h (bfd_reloc_code_real_names): Add BFD_RELOC_68K_TLS_*.
@
text
@d1 6
@


1.1440
log
@gas:
2009-01-29  Mark Mitchell  <mark@@codesourcery.com>

	* config/tc-arm.c (BAD_SP): Define.
	(s_arm_unwind_fnstart): Use REG_SP.
	(s_arm_unwind_setfp): Likewise.
	(reject_bad_reg): New macro.
	(do_co_reg): Check for bad registers.
	(do_co_reg2c): Likewise.
	(do_srs): Use REG_SP.
	(do_t_add_sub): Check for bad registers.
	(do_t_adr): Likewise.
	(do_t_arit3): Likewise.
	(do_t_arit3c): Likewise.
	(do_t_bfc): Likewise.
	(do_t_bfi): Likewise.
	(do_t_bfx): Likewise.
	(do_t_blx): Likewise.
	(do_t_bx): Likewise.
	(do_t_bxj): Likewise.
	(do_t_clz): Likewise.
	(do_t_div): Likewise.
	(do_t_mla): Likewise.
	(do_t_mlal): Likewise.
	(do_t_mov_cmp): Likewise.
	(do_t_mov16): Likewise.
	(do_t_mvn_tst): Likewise.
	(do_t_mrs): Likewise.
	(do_t_msr): Likewise.
	(do_t_mul): Likewise.
	(do_t_mull): Likewise.
	(do_t_orn): Likewise.
	(do_t_pkhbt): Likewise.
	(do_t_pld): Likewise.
	(do_t_rbit): Likewise.
	(do_t_rev): Likewise.
	(do_t_rrx): Likewise.
	(do_t_rsb): Likewise.
	(do_t_shift): Likewise.
	(do_t_simd): Likewise.
	(do_t_ssat): Likewise.
	(do_t_ssat16): Likewise.
	(do_t_sxtah): Likewise.
	(do_t_sxth): Likewise.
	(do_t_tb): Likewise.
	(do_t_usat): Likewise.
	(do_t_usat16): Likewise.
	(nysn_insert_sp): Use REG_SP.

gas/testsuite:
2009-01-29  Mark Mitchell  <mark@@codesourcery.com>

	* gas/arm/copro.s: Avoid using r15 where not permitted.
	* gas/arm/copro.d: Adjust accordingly.
	* gas/arm/thumb2_bad_reg.s: New.
	* gas/arm/thumb2_bad_reg.l: Likewise.
	* gas/arm/thumb2_bad_reg.d: Likewise.
@
text
@d1 5
@


1.1439
log
@gas:
2009-01-29  Mark Mitchell  <mark@@codesourcery.com>

	* config/tc-arm.c (do_t_orn): New function.
	(do_t_rrx): Likewise.
	(insns): Add orn and rrx.

gas/testsuite:
2009-01-29  Mark Mitchell  <mark@@codesourcery.com>

	* gas/arm/thumb32.s: Add tests for orn and rrx.
	* gas/arm/thumb32.d: Adjust accordingly.
	* gas/arm/thumb32.l: Likewise.
	* gas/arm/thumb2_invert.s: Add tests for orn and orr.
	* gas/arm/thumb2_invert.d: Adjust accordingly.
	* gas/arm/tcompat.s: Add tests for rrx.
	* gas/arm/tcompat.d: Adjust accordingly.
@
text
@d3 8
@


1.1438
log
@gas:
2009-01-29  Mark Mitchell  <mark@@codesourcery.com>

	* config/tc-arm.c (insns): Add qasx, qsax, shasx, shsax, ssax,
	uasx, uhasx, uhsx, uqasx, uqsax, usax.

gas/testsuite:
2009-01-29  Mark Mitchell  <mark@@codesourcery.com>

	* gas/arm/thumb32.s (qadd): Add tests for them.
	* gas/arm/thumb32.d: Adjust accordingly.
@
text
@d3 10
@


1.1437
log
@gas:
2009-01-29  Mark Mitchell  <mark@@codesourcery.com>

	* config/tc-arm.c (insns): Correct encoding of qadd, qdadd, qsub,
	qdsub in Thumb-2 mode.

gas/testsuite:
2009-01-29  Mark Mitchell  <mark@@codesourcery.com>

	* gas/arm/thumb32.s (qadd): Add qadd, qdadd, qsub, and qdsub.
	* gas/arm/thumb32.d: Likewise.

opcodes:
2009-01-29  Mark Mitchell  <mark@@codesourcery.com>

	* arm-dis.c (thumb32_opcodes): Correct decoding for qadd, qdadd,
	qsub, and qdsub.
@
text
@d3 5
@


1.1436
log
@gas:
2009-01-29  Paul Brook  <paul@@codesourcery.com>
            Mark Mitchell  <mark@@codesourcery.com>

	* config/tc-arm.c (do_t_mul): In Thumb-2 mode, use 16-bit encoding
	of MUL when possible.

gas/testsuite:
2009-01-29  Paul Brook  <paul@@codesourcery.com>
            Mark Mitchell  <mark@@codesourcery.com>

	* gas/arm/thumb2_mul.s: New file.
	* gas/arm/thumb2_mul.d: Likewise.
	* gas/arm/thumb2_mul-bad.s: Likewise.
	* gas/arm/thumb2_mul-bad.d: Likewise.
	* gas/arm/thumb2_mul-bad.l: Likewise.
	* gas/arm/t16-bad.s: Add tests for"mul" with high registers.
	* gas/arm/t16-bad.l: Update accordingly.
@
text
@d1 5
@


1.1435
log
@        * config/tc-mep.h (DIFF_EXPR_OK): Do not define.

        * gas/all/gas.exp: Expect forward test to fail for MeP.
        Expect relax test to fail for MeP.
        * gas/mep/relocs.d: Update expected disassembly.

        * lib/ld-lib.exp (check_gc_sections_available): Add MeP to list of
        targets which do not support garbage collection.
        * ld-srec/srec.exp (run_srec_test): Expect tests to fail for MeP.
        * ld-elf/group8a.d: Likewise.
        * ld-elf/group8b.d: Likewise.
        * ld-elf/group9a.d: Likewise.
        * ld-elf/group9b.d: Likewise.

        * binutils-all/objdump.W: Do not assume that high and low PC
        addresses will have been computed.
@
text
@d1 11
@


1.1434
log
@        * gas/arm/attr-cpu-directive.d: Only run test for EABI targets.
        * gas/arm/attr-default.d : Likewise.
        * gas/arm/attr-march-all.d: Likewise.
        * gas/arm/attr-march-armv1.d: Likewise.
        * gas/arm/attr-march-armv2.d: Likewise.
        * gas/arm/attr-march-armv2a.d: Likewise.
        * gas/arm/attr-march-armv2s.d: Likewise.
        * gas/arm/attr-march-armv3.d: Likewise.
        * gas/arm/attr-march-armv3m.d: Likewise.
        * gas/arm/attr-march-armv4.d: Likewise.
        * gas/arm/attr-march-armv4t.d: Likewise.
        * gas/arm/attr-march-armv4txm.d: Likewise.
        * gas/arm/attr-march-armv4xm.d: Likewise.
        * gas/arm/attr-march-armv5.d: Likewise.
        * gas/arm/attr-march-armv5t.d: Likewise.
        * gas/arm/attr-march-armv5te.d: Likewise.
        * gas/arm/attr-march-armv5tej.d: Likewise.
        * gas/arm/attr-march-armv5texp.d: Likewise.
        * gas/arm/attr-march-armv5txm.d: Likewise.
        * gas/arm/attr-march-armv6-m.d: Likewise.
        * gas/arm/attr-march-armv6.d: Likewise.
        * gas/arm/attr-march-armv6j.d: Likewise.
        * gas/arm/attr-march-armv6k.d: Likewise.
        * gas/arm/attr-march-armv6kt2.d: Likewise.
        * gas/arm/attr-march-armv6t2.d: Likewise.
        * gas/arm/attr-march-armv6z.d: Likewise.
        * gas/arm/attr-march-armv6zk.d: Likewise.
        * gas/arm/attr-march-armv6zkt2.d: Likewise.
        * gas/arm/attr-march-armv6zt2.d: Likewise.
        * gas/arm/attr-march-armv7-a.d: Likewise.
        * gas/arm/attr-march-armv7-m.d: Likewise.
        * gas/arm/attr-march-armv7-r.d: Likewise.
        * gas/arm/attr-march-iwmmxt.d: Likewise.
        * gas/arm/attr-march-iwmmxt2.d: Likewise.
        * gas/arm/attr-march-xscale.d: Likewise.
        * gas/arm/attr-mcpu.d: Likewise.
        * gas/arm/attr-mfpu-arm1020e.d: Likewise.
        * gas/arm/attr-mfpu-arm1020t.d: Likewise.
        * gas/arm/attr-mfpu-arm1136jf-s.d: Likewise.
        * gas/arm/attr-mfpu-arm1136jfs.d: Likewise.
        * gas/arm/attr-mfpu-arm7500fe.d: Likewise.
        * gas/arm/attr-mfpu-fpa.d: Likewise.
        * gas/arm/attr-mfpu-fpa10.d: Likewise.
        * gas/arm/attr-mfpu-fpa11.d: Likewise.
        * gas/arm/attr-mfpu-fpe.d: Likewise.
        * gas/arm/attr-mfpu-fpe2.d: Likewise.
        * gas/arm/attr-mfpu-fpe3.d: Likewise.
        * gas/arm/attr-mfpu-maverick.d: Likewise.
        * gas/arm/attr-mfpu-neon-fp16.d: Likewise.
        * gas/arm/attr-mfpu-neon.d: Likewise.
        * gas/arm/attr-mfpu-softfpa.d: Likewise.
        * gas/arm/attr-mfpu-softvfp+vfp.d: Likewise.
        * gas/arm/attr-mfpu-softvfp.d: Likewise.
        * gas/arm/attr-mfpu-vfp.d: Likewise.
        * gas/arm/attr-mfpu-vfp10-r0.d: Likewise.
        * gas/arm/attr-mfpu-vfp10.d: Likewise.
        * gas/arm/attr-mfpu-vfp3.d: Likewise.
        * gas/arm/attr-mfpu-vfp9.d: Likewise.
        * gas/arm/attr-mfpu-vfpv2.d: Likewise.
        * gas/arm/attr-mfpu-vfpv3-d16.d: Likewise.
        * gas/arm/attr-mfpu-vfpv3.d: Likewise.
        * gas/arm/attr-mfpu-vfpxd.d: Likewise.
        * gas/arm/attr-order.d: Likewise.
        * gas/arm/attr-override-cpu-directive.d: Likewise.
        * gas/arm/attr-override-mcpu.d: Likewise.
@
text
@d1 6
@


1.1433
log
@        * config/tc-mips.c (append_insn): Cope with a complex reloc
        sequence containing an unsupported reloc type.
        (enum options): Replace computed #define's constants for option
        numbers with this enum.
        (struct md_longopts): Use the enum.  Allow OPTION_32 in a non-ELF
        environment.
        (md_parse_option): Allow -32 in a non-ELF environment.

        * gas/lib/gas-defs.exp: Update description of run_dump_test proc.

        * gas/mips/dli.d: Pass -64 to gas.
        * gas/mips/mips64-mips3d-incl.d: Likewise.
        * gas/mips/octeon.d: Likewise.
        * gas/mips/sb1-ext-mdmx.d: Likewise.
        * gas/mips/sb1-ext-ps.d: Likewise.
        * gas/mips/e32el-rel2.s: Pass -march=mips3 to gas.
        Update expected relocs.
        * gas/mips/ld-ilocks-addr32.d: Do not run for tx39 targets.
        * gas/mips/mips.exp: Remove 'ilocks' variable.
        Add ecoff targets to 'addr32' variable.
        Set 'no_mips16' for ecoff targets.
        Do not run div-ilocks or mul-ilocks test variants.
        * gas/mips/mips16-intermix.d: Use nm instead of objdump so that
        the symbol table output is sorted.  Update expecetd output.
@
text
@d3 72
@


1.1432
log
@2009-01-26  Andrew Stubbs  <ams@@codesourcery.com>

	gas/
	* config/tc-arm.c (attributes_set_explicitly): New array.
	(s_arm_eabi_attribute): Check return value from s_vendor_attribute.
	(cpu_arch): Add ARM_ARCH_V5T.
	(aeabi_set_attribute_int): New function.
	(aeabi_set_attribute_string): New function.
	(aeabi_set_public_attributes): Set attributes according to the user's
	intentions, rather than the actual state of the binary.
	Use aeabi_set_attribute_int and aeabi_set_attribute_string instead of
	bfd_elf_add_proc_attr_int and bfd_elf_add_proc_attr_string.
	Support WMMXv2. Use attribute names instead of numbers.
	* read.c (s_vendor_attribute): Change return type to int.
	Return the tag number that was set.
	* read.h (s_vendor_attribute): Change return type to int.

	gas/testsuite/
	* gas/arm/attr-cpu-directive.d: New file.
	* gas/arm/attr-cpu-directive.s: New file.
	* gas/arm/attr-default.d: New file.
	* gas/arm/attr-march-all.d: New file.
	* gas/arm/attr-march-armv1.d: New file.
	* gas/arm/attr-march-armv2.d: New file.
	* gas/arm/attr-march-armv2a.d: New file.
	* gas/arm/attr-march-armv2s.d: New file.
	* gas/arm/attr-march-armv3.d: New file.
	* gas/arm/attr-march-armv3m.d: New file.
	* gas/arm/attr-march-armv4.d: New file.
	* gas/arm/attr-march-armv4t.d: New file.
	* gas/arm/attr-march-armv4txm.d: New file.
	* gas/arm/attr-march-armv4xm.d: New file.
	* gas/arm/attr-march-armv5.d: New file.
	* gas/arm/attr-march-armv5t.d: New file.
	* gas/arm/attr-march-armv5te.d: New file.
	* gas/arm/attr-march-armv5tej.d: New file.
	* gas/arm/attr-march-armv5texp.d: New file.
	* gas/arm/attr-march-armv5txm.d: New file.
	* gas/arm/attr-march-armv6-m.d: New file.
	* gas/arm/attr-march-armv6.d: New file.
	* gas/arm/attr-march-armv6j.d: New file.
	* gas/arm/attr-march-armv6k.d: New file.
	* gas/arm/attr-march-armv6kt2.d: New file.
	* gas/arm/attr-march-armv6t2.d: New file.
	* gas/arm/attr-march-armv6z.d: New file.
	* gas/arm/attr-march-armv6zk.d: New file.
	* gas/arm/attr-march-armv6zkt2.d: New file.
	* gas/arm/attr-march-armv6zt2.d: New file.
	* gas/arm/attr-march-armv7-a.d: New file.
	* gas/arm/attr-march-armv7-m.d: New file.
	* gas/arm/attr-march-armv7-r.d: New file.
	* gas/arm/attr-march-armv7.d: New file.
	* gas/arm/attr-march-armv7a.d: New file.
	* gas/arm/attr-march-armv7m.d: New file.
	* gas/arm/attr-march-armv7r.d: New file.
	* gas/arm/attr-march-iwmmxt.d: New file.
	* gas/arm/attr-march-iwmmxt2.d: New file.
	* gas/arm/attr-march-xscale.d: New file.
	* gas/arm/attr-mcpu.d: New file.
	* gas/arm/attr-mfpu-arm1020e.d: New file.
	* gas/arm/attr-mfpu-arm1020t.d: New file.
	* gas/arm/attr-mfpu-arm1136jf-s.d: New file.
	* gas/arm/attr-mfpu-arm1136jfs.d: New file.
	* gas/arm/attr-mfpu-arm7500fe.d: New file.
	* gas/arm/attr-mfpu-fpa.d: New file.
	* gas/arm/attr-mfpu-fpa10.d: New file.
	* gas/arm/attr-mfpu-fpa11.d: New file.
	* gas/arm/attr-mfpu-fpe.d: New file.
	* gas/arm/attr-mfpu-fpe2.d: New file.
	* gas/arm/attr-mfpu-fpe3.d: New file.
	* gas/arm/attr-mfpu-maverick.d: New file.
	* gas/arm/attr-mfpu-neon-fp16.d: New file.
	* gas/arm/attr-mfpu-neon.d: New file.
	* gas/arm/attr-mfpu-softfpa.d: New file.
	* gas/arm/attr-mfpu-softvfp+vfp.d: New file.
	* gas/arm/attr-mfpu-softvfp.d: New file.
	* gas/arm/attr-mfpu-vfp.d: New file.
	* gas/arm/attr-mfpu-vfp10-r0.d: New file.
	* gas/arm/attr-mfpu-vfp10.d: New file.
	* gas/arm/attr-mfpu-vfp3.d: New file.
	* gas/arm/attr-mfpu-vfp9.d: New file.
	* gas/arm/attr-mfpu-vfpv2.d: New file.
	* gas/arm/attr-mfpu-vfpv3-d16.d: New file.
	* gas/arm/attr-mfpu-vfpv3.d: New file.
	* gas/arm/attr-mfpu-vfpxd.d: New file.
	* gas/arm/attr-order.d: Update Tag_ARM_ISA_use and Tag_THUMB_ISA_use.
	* gas/arm/attr-override-cpu-directive.d: New file.
	* gas/arm/attr-override-cpu-directive.s: New file.
	* gas/arm/attr-override-mcpu.d: New file.
	* gas/arm/attr-override-mcpu.s: New file.
	* gas/arm/blank.s: New file.
	* gas/arm/eabi_attr_1.d: Update Tag_ARM_ISA_use and Tag_THUMB_ISA_use.

	ld/testsuite/
	* ld-arm/attr-merge-3.attr: Update following gas change.
	* ld-arm/attr-merge-2.attr: Update Tag_ARM_ISA_use and
	Tag_THUMB_ISA_use following gas changes.
	* ld-arm/attr-merge-4.attr: Likewise.
	* ld-arm/attr-merge-5.attr: Likewise.
	* ld-arm/attr-merge-arch-1.attr: Likewise.
	* ld-arm/attr-merge-arch-2.attr: Likewise.
	* ld-arm/attr-merge-unknown-2.d: Likewise.
	* ld-arm/attr-merge-unknown-2r.d: Likewise.
	* ld-arm/attr-merge-unknown-3.d: Likewise.
	* ld-arm/attr-merge-wchar-00-nowarn.d: Likewise.
	* ld-arm/attr-merge-wchar-00.d: Likewise.
	* ld-arm/attr-merge-wchar-02-nowarn.d: Likewise.
	* ld-arm/attr-merge-wchar-02.d: Likewise.
	* ld-arm/attr-merge-wchar-04-nowarn.d: Likewise.
	* ld-arm/attr-merge-wchar-04.d: Likewise.
	* ld-arm/attr-merge-wchar-20-nowarn.d: Likewise.
	* ld-arm/attr-merge-wchar-20.d: Likewise.
	* ld-arm/attr-merge-wchar-22-nowarn.d: Likewise.
	* ld-arm/attr-merge-wchar-22.d: Likewise.
	* ld-arm/attr-merge-wchar-24-nowarn.d: Likewise.
	* ld-arm/attr-merge-wchar-40-nowarn.d: Likewise.
	* ld-arm/attr-merge-wchar-40.d: Likewise.
	* ld-arm/attr-merge-wchar-42-nowarn.d: Likewise.
	* ld-arm/attr-merge-wchar-44-nowarn.d: Likewise.
	* ld-arm/attr-merge-wchar-44.d: Likewise.
	* ld-arm/attr-merge.attr: Likewise.
@
text
@d1 19
d100 1
a100 1
	targets. 
@


1.1431
log
@* gas/arm/attr-order.d: Do not run this test for non-ELF based ARM
  targets.
@
text
@d1 77
@


1.1430
log
@* gas/lns/lns.exp: Don't run lns-duplicate for d10v target.
@
text
@d1 5
@


1.1429
log
@	* config/obj-elf.h (LOCAL_LABEL_PREFIX): Conditionally define.
	* config/tc-s390.h (LOCAL_LABEL_PREFIX): Don't define.

testsuite/:
	* gas/mips/mips16-e.d: Adjust for change in LOCAL_LABEL_PREFIX.
	* gas/mips/mipsel16-e.d: Likewise.
	* gas/mips/tmips16-e.d: Likewise.
	* gas/mips/tmipsel16-e.d: Likewise.
@
text
@d1 4
@


1.1428
log
@        * lib/gas-defs.exp (run_list_test): Fix typo in comment.
@
text
@d1 7
@


1.1427
log
@* gas/arm/attr-syntax.d: Do not run for non-ELF based ARM targets.
        * config/tc-arm.h (CONVERT_SYMBOLIC_ATTRIBUTE): Only define for
        ELF format ARM targets.
        * config/tc-arm.c (arm_convert_symbolic_attribute): Likewise.
@
text
@d3 4
@


1.1426
log
@2009-01-19  Andrew Stubbs  <ams@@codesourcery.com>

	bfd/
	* elf-attrs.c (vendor_set_obj_attr_contents): Support tag ordering.
	* elf-bfd.h (elf_backend_data): Add obj_attrs_order.
	* elf32-arm.c (elf32_arm_obj_attrs_order): New function.
	(elf_backend_obj_attrs_order): New define.
	* elfxx-target.h (elf_backend_obj_attrs_order): New define.
	(elfNN_bed): Add elf_backend_obj_attrs_order.

	gas/testsuite/
	* gas/arm/attr-order.d: New file.
	* gas/arm/attr-order.s: New file.
@
text
@d1 5
@


1.1425
log
@2009-01-16  Andrew Stubbs  <ams@@codesourcery.com>
	    Daniel Jacobowitz  <dan@@codesourcery.com>

	gas/
	* config/tc-arm.c (arm_copy_symbol_attributes): New function.
	* config/tc-arm.h (arm_copy_symbol_attributes): New prototype.
	(CONVERT_SYMBOLIC_ATTRIBUTE): New define.
	* read.c (s_vendor_attribute): Add support for symbolic tag names.
	Improve string parser.
	* doc/c-arm.texi (ARM Machine Directives): Document
	.eabi_attribute symbolic tag names.

	gas/testsuite/
	* gas/arm/attr-syntax.d: New file.
	* gas/arm/attr-syntax.s: New file.
@
text
@d1 5
@


1.1424
log
@        PR 9722
        * config/tc-arm.c (do_t_nop): Check for availability of Thumb2
        instructions before generating a Thumb2 nop.

        * gas/testsuite/gas/arm/archv6m.d: Update expected NOP opcode.
        * gas/testsuite/gas/arm/pr9722.s: New test.
        * gas/testsuite/gas/arm/pr9722.d: Expected disassembly.
@
text
@d1 6
@


1.1423
log
@opcodes/
	* ppc-dis.c (print_insn_powerpc): Skip insn if it is deprecated.
	* ppc-opc.c (powerpc_opcodes) <mtfsf, mtfsf.>: Deprecate the two
	operand form and enable the four operand form for POWER6 and later.
	<mtfsfi, mtfsfi.>: Deprecate the two operand form and enable the
	three operand form for POWER6 and later.

gas/testsuite/
	* gas/ppc/power6.s ("mtfsf", "mtfsf.", "mtfsfi", "mtfsfi."): Add tests.
	* gas/ppc/power6.d: Likewise.
@
text
@d1 7
@


1.1422
log
@gas/testsuite/

2009-01-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/sse-noavx.s: Add tests for lfence, mfence and movnti.
	* gas/i386/x86-64-sse-noavx.s: Likewise.

	* gas/i386/sse-noavx.d: Updated.
	* gas/i386/x86-64-sse-noavx.d: Likewise.

opcodes/

2009-01-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-opc.tbl: Add NoAVX to movnti, lfence and mfence.
	* i386-tbl.h: Regenerated.
@
text
@d1 5
@


1.1421
log
@Update gas/i386/sse2avx-opts.d, gas/i386/sse2avx-opts-intel.d,
gas/i386/x86-64-sse2avx-opts.d and gas/i386/x86-64-sse2avx-opts-intel.d.
@
text
@d3 8
@


1.1420
log
@gas/testsuite/

2009-01-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/opts.s: Add tests for add, adc, and, cmp, or, sbb,
	sub and xor.
	* gas/i386/x86-64-opts.s: Likewise.

	* gas/i386/opts.d: Updated.
	* gas/i386/opts-intel.d: Likewise.
	* gas/i386/x86-64-opts.d: Likewise.
	* gas/i386/x86-64-opts-intel.d: Likewise.

opcodes/

2009-01-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (dis386): Use EbS on addB, orB, adcB, sbbB, andB,
	subB, xorB and cmpB.  Use EvS on addS, orS, adcS, sbbS, andS,
	subS, xorS and cmpS.
@
text
@d9 2
d13 2
@


1.1419
log
@gas/

2009-01-10  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/config/tc-i386.c (cpu_arch): Add corei7, .clflush and
	.syscall.
	(i386_align_code): Handle PROCESSOR_COREI7.
	(md_show_usage): Add corei7, clflush and syscall.
	(i386_target_format): Replace cpup4 with cpuclflush.

	* gas/config/tc-i386.h (processor_type): Add PROCESSOR_COREI7.

	* doc/c-i386.texi: Document corei7, clflush and syscall.

gas/testsuite/

2009-01-10  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/arch-10.s: Add clflush and syscall.
	* gas/i386/x86-64-arch-2.s: Likewise.

	* gas/i386/arch-10.d: Updated.
	* gas/i386/arch-10-1.l: Likewise.
	* gas/i386/arch-10-2.l: Likewise.
	* gas/i386/arch-10-3.l: Likewise.
	* gas/i386/arch-10-4.l: Likewise.
	* gas/i386/x86-64-arch-2.d: Likewise.

opcodes/

2009-01-10  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-gen.c (cpu_flag_init): Replace CpuP4 and CpuK6 with
	CpuClflush and CpuSYSCALL, respectively. Remove CpuK8.  Add
	CPU_COREI7_FLAGS, CPU_CLFLUSH_FLAGS and CPU_SYSCALL_FLAGS.
	(cpu_flags): Remove CpuP4, CpuK6 and CpuK8.  Add CpuClflush
	and CpuSYSCALL.
	(lineno): Removed.
	(set_bitfield): Take an argument, lineno.  Don't report lineno
	on error if it is -1.
	(process_i386_cpu_flag): Take an argument, lineno.
	(process_i386_opcode_modifier): Likewise.
	(process_i386_operand_type): Likewise.
	(output_i386_opcode): Likewise.
	(opcode_hash_entry): Add lineno.
	(process_i386_opcodes): Updated.
	(process_i386_registers): Likewise.
	(process_i386_initializers): Likewise.

	* i386-opc.h (CpuP4): Removed.
	(CpuK6): Likewise.
	(CpuK8): Likewise.
	(CpuClflush): New.
	(CpuSYSCALL): Likewise.
	(CpuMMX): Updated.
	(i386_cpu_flags): Remove cpup4, cpuk6 and cpuk8.  Add
	cpuclflush and cpusyscall.

	* i386-opc.tbl: Update movnti, clflush, lfence, mfence, pause,
	syscall and sysret.
	* i386-init.h: Regenerated.
	* i386-tbl.h: Likewise.
@
text
@d1 11
@


1.1418
log
@gas/

2009-01-09  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (cpu_arch): Add .rdtscp.
	(md_show_usage): Display rdtscp.

	* doc/c-i386.texi: Document rdtscp.

gas/testsuite/

2009-01-09  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/arch-10.s: Add rdtscp.
	* gas/i386/x86-64-arch-2.s: Likewise.

	* gas/i386/arch-10.d: Updated.
	* gas/i386/arch-10-1.l: Likewise.
	* gas/i386/arch-10-2.l: Likewise.
	* gas/i386/arch-10-3.l: Likewise.
	* gas/i386/arch-10-4.l: Likewise.
	* gas/i386/x86-64-arch-2.d: Likewise.

opcodes/

2009-01-09  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-gen.c (cpu_flag_init): Add CpuRdtscp to CPU_K8_FLAGS
	and CPU_AMDFAM10_FLAGS.  Add CPU_RDTSCP_FLAGS.
	(cpu_flags): Add CpuRdtscp.
	(set_bitfield): Remove CpuSledgehammer check.

	* i386-opc.h (CpuRdtscp): New.
	(CpuLM): Updated.
	(i386_cpu_flags): Add cpurdtscp.

	* i386-opc.tbl: Replace CpuSledgehammer with CpuRdtscp.
	* i386-init.h: Regenerated.
	* i386-tbl.h: Likewise.
@
text
@d1 12
@


1.1417
log
@2009-01-06  Chao-ying Fu  <fu@@mips.com>

	* gas/mips/jalr.s, gas/mips/jalr.l: Add more tests for jalr
	and jalr.hb.
@
text
@d1 12
@


1.1416
log
@gas/testsuite/

2009-01-06  H.J. Lu  <hongjiu.lu@@intel.com>

	AVX Programming Reference (December, 2008)
	* gas/i386/avx.s: Add tests for 256bit vmovntdq, vmovntpd and
	vmovntps.
	* gas/i386/x86-64-avx.s: Likewise.

	* gas/i386/avx.d: Updated.
	* gas/i386/avx-intel.d: Likewise.
	* gas/i386/x86-64-avx.d: Likewise.
	* gas/i386/x86-64-avx-intel.d: Likewise.

opcodes/

2009-01-06  H.J. Lu  <hongjiu.lu@@intel.com>

	AVX Programming Reference (December, 2008)
	* i386-dis.c (VEX_LEN_2B_M_0): Removed.
	(VEX_LEN_E7_P_2_M_0): Likewise.
	(VEX_LEN_2C_P_1): Updated.
	(VEX_LEN_E8_P_2): Likewise.
	(vex_len_table): Remove VEX_LEN_2B_M_0 and VEX_LEN_E7_P_2_M_0.
	(mod_table): Likewise.

	* i386-opc.tbl: Add 256bit vmovntdq, vmovntpd and vmovntps.
	* i386-tbl.h: Regenerated.
@
text
@d1 5
@


1.1415
log
@gas/

2009-01-05  H.J. Lu  <hongjiu.lu@@intel.com>

	AVX Programming Reference (December, 2008)
	* config/tc-i386.c (build_modrm_byte): Remove 5 operand instruction
	support.  Don't swap REG and NDS for FMA.

gas/testsuite/

2009-01-05  H.J. Lu  <hongjiu.lu@@intel.com>

	AVX Programming Reference (December, 2008)
	* gas/i386/arch-10.s: Replace vfmaddpd with vfmadd132pd.
	* gas/i386/x86-64-arch-2.s: Likewise.

	* gas/i386/arch-10.d: Updated.
	* gas/i386/arch-10-1.l: Likewise.
	* gas/i386/arch-10-2.l: Likewise.
	* gas/i386/arch-10-3.l: Likewise.
	* gas/i386/arch-10-4.l: Likewise.
	* gas/i386/avx.d: Likewise.
	* gas/i386/avx-intel.d: Likewise.
	* gas/i386/inval-avx.l: Likewise.
	* gas/i386/x86-64-arch-2.d: Likewise.
	* gas/i386/x86-64-avx.d: Likewise.
	* gas/i386/x86-64-avx-intel.d: Likewise.
	* gas/i386/x86-64-inval-avx.l: Likewise.

	* gas/i386/avx.s: Remove vpermil2ps/vpermil2pd and FMA
	instructions.  Update tests.
	* gas/i386/inval-avx.s: Likewise.
	* gas/i386/x86-64-avx.s: Likewise.
	* gas/i386/x86-64-inval-avx.s: Likewise.

	* gas/i386/fma.d: New.
	* gas/i386/fma.s: Likewise.
	* gas/i386/fma-intel.d: Likewise.
	* gas/i386/x86-64-fma.d: Likewise.
	* gas/i386/x86-64-fma.s: Likewise.
	* gas/i386/x86-64-fma-intel.d: Likewise.

	* gas/i386/i386.exp: Run fma, fma-intel, x86-64-fma and
	x86-64-fma-intel.

opcodes/

2009-01-05  H.J. Lu  <hongjiu.lu@@intel.com>

	AVX Programming Reference (December, 2008)
	* i386-dis.c (OP_VEX_FMA): Removed.
	(OP_EX_VexW): Likewise.
	(OP_EX_VexImmW): Likewise.
	(OP_XMM_VexW): Likewise.
	(VEXI4_Fixup): Likewise.
	(VPERMIL2_Fixup): Likewise.
	(VexI4): Likewise.
	(VexFMA): Likewise.
	(Vex128FMA): Likewise.
	(EXVexW): Likewise.
	(EXdVexW): Likewise.
	(EXqVexW): Likewise.
	(EXVexImmW): Likewise.
	(XMVexW): Likewise.
	(VPERMIL2): Likewise.
	(PREFIX_VEX_3A48...PREFIX_VEX_3A4A): Likewise.
	(PREFIX_VEX_3A5C...PREFIX_VEX_3A5F): Likewise.
	(PREFIX_VEX_3A68...PREFIX_VEX_3A6F): Likewise.
	(PREFIX_VEX_3A78...PREFIX_VEX_3A7F): Likewise.
	(VEX_LEN_3A6A_P_2...VEX_LEN_3A6F_P_2): Likewise.
	(VEX_LEN_3A7A_P_2...VEX_LEN_3A7F_P_2): Likewise.
	(get_vex_imm8): Likewise.
	(OP_EX_VexReg): Likewise.
	vpermil2_op): Likewise.
	(EXVexWdq): New.
	(vex_w_dq_mode): Likewise.
	(PREFIX_VEX_3896...PREFIX_VEX_389F): Likewise.
	(PREFIX_VEX_38A6...PREFIX_VEX_38AF): Likewise.
	(PREFIX_VEX_38B6...PREFIX_VEX_38BF): Likewise.
	(es_reg): Updated.
	(PREFIX_VEX_38DB): Likewise.
	(PREFIX_VEX_3A4A): Likewise.
	(PREFIX_VEX_3A60): Likewise.
	(PREFIX_VEX_3ADF): Likewise.
	(VEX_LEN_3ADF_P_2): Likewise.
	(prefix_table): Remove PREFIX_VEX_3A48...PREFIX_VEX_3A4A,
	PREFIX_VEX_3A5C...PREFIX_VEX_3A5F,
	PREFIX_VEX_3A68...PREFIX_VEX_3A6F and
	PREFIX_VEX_3A78...PREFIX_VEX_3A7F.  Add
	PREFIX_VEX_3896...PREFIX_VEX_389F,
	PREFIX_VEX_38A6...PREFIX_VEX_38AF and
	PREFIX_VEX_38B6...PREFIX_VEX_38BF.
	(vex_table): Likewise.
	(vex_len_table): Remove VEX_LEN_3A6A_P_2...VEX_LEN_3A6F_P_2
	and VEX_LEN_3A7A_P_2...VEX_LEN_3A7F_P_2.
	(putop): Support "%XW".
	(intel_operand_size): Handle vex_w_dq_mode.

	* i386-opc.h (VexNDS): Add a comment for VEX NDS and VEX DDS.

	* i386-opc.tbl: Remove vpermil2pd/vpermil2ps and old FMA
	instructions.  Add new FMA instructions.
	* i386-tbl.h: Regenerated.
@
text
@d1 12
@


1.1414
log
@        * gas/ppc/ppc.exp: Do not run the booke_xcoff64 test.
        * gas/ppc/booke_xcoff64.s: Delete.
        * gas/ppc/booke_xcoff64.d: Delete.
@
text
@d1 1
a1 1
2008-12-30  Nick Clifton  <nickc@@redhat.com>
d3 2
a4 344
	* gas/ppc/ppc.exp: Do not run the booke_xcoff64 test.
	* gas/ppc/booke_xcoff64.s: Delete.
	* gas/ppc/booke_xcoff64.d: Delete.

2008-12-23  Jon Beniston <jon@@beniston.com>

	* gas/lm32: New directory.
	* gas/lm32/all.exp: New file.
	* gas/lm32/csr.d: New file.
	* gas/lm32/csr.s: New file.
	* gas/lm32/insn.d: New file.
	* gas/lm32/insn.s: New file.

2008-12-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run x86-64-avx-swap and x86-64-avx-swap-intel.

	* gas/i386/opts.s: Add tests for movsd, movss, vmovsd and
	vmovss.
	* gas/i386/x86-64-opts.s: Likewise.

	* gas/i386/opts.d: Updated.
	* gas/i386/opts-intel.d: Likewise.
	* gas/i386/sse2avx-opts.d: Likewise.
	* gas/i386/sse2avx-opts-intel.d: Likewise.
	* gas/i386/x86-64-opts.d: Likewise.
	* gas/i386/x86-64-opts-intel.d: Likewise.
	* gas/i386/x86-64-sse2avx-opts.d: Likewise.
	* gas/i386/x86-64-sse2avx-opts-intel.d: Likewise.

	* gas/i386/x86-64-avx-swap.d: New.
	* gas/i386/x86-64-avx-swap.s: Likewise.
	* gas/i386/x86-64-avx-swap-intel.d: Likewise.

2008-12-23  Nick Clifton  <nickc@@redhat.com>

	* gas/elf/type.s: Remove test of STT_IFUNC support.
	* gas/elf/type.e: Update expected output.

2008-12-21  Hans-Peter Nilsson  <hp@@axis.com>

	* gas/cris/rd-dtpoffd1.d, gas/cris/rd-dtpoffd1.s: New test.

2008-12-20  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run opts, opts-intel, sse2avx-opts,
	sse2avx-opts-intel, x86-64-opts, x86-64-opts-intel,
	x86-64-sse2avx-opts and x86-64-sse2avx-opts-intel.

	* gas/i386/opts.d: New.
	* gas/i386/opts-intel.d: Likewise.
	* gas/i386/opts.s: Likewise.
	* gas/i386/sse2avx-opts.d: Likewise.
	* gas/i386/sse2avx-opts-intel.d: Likewise.
	* gas/i386/x86-64-opts.d: Likewise.
	* gas/i386/x86-64-opts-intel.d: Likewise.
	* gas/i386/x86-64-opts.s: Likewise.
	* gas/i386/x86-64-sse2avx-opts.d: Likewise.
	* gas/i386/x86-64-sse2avx-opts-intel.d: Likewise.

2008-12-20  Hans-Peter Nilsson  <hp@@axis.com>

	* gas/cris/rd-tls-1.s, gas/cris/rd-tls-1.d: Test :IE and
	decoration on double-indirect.
	* gas/cris/tls-err-1.s: Test :IE on wrong-size operand.

2008-12-18  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/intel.d: Remove trailing white spaces after nop.
	* gas/i386/intelpic.d: Likewise.
	* gas/i386/nops16-1.d: Likewise.
	* gas/i386/nops-1-i686.d: Likewise.
	* gas/i386/nops-3.d: Likewise.
	* gas/i386/nops-3-i386.d: Likewise.
	* gas/i386/nops-3-i686.d: Likewise.
	* gas/i386/nops-4.d: Likewise.
	* gas/i386/nops-4-i386.d: Likewise.
	* gas/i386/nops-4-i686.d: Likewise.
	* gas/i386/opcode.d: Likewise.
	* gas/i386/opcode-suffix.d: Likewise.
	* gas/i386/reloc.d: Likewise.
	* gas/i386/tlsnopic.d: Likewise.
	* gas/i386/x86-64-nops-1.d: Likewise.
	* gas/i386/x86-64-nops-1-nocona.d: Likewise.
	* gas/i386/x86-64-nops-2.d: Likewise.
	* gas/i386/x86-64-nops-3.d: Likewise.
	* gas/i386/x86-64-nops-4-core2.d: Likewise.
	* gas/i386/x86-64-nops-4.d: Likewise.
	* gas/i386/x86-64-nops-4-k8.d: Likewise.
	* gas/i386/x86-64-opcode.d: Likewise.

2008-12-15  Richard Earnshaw  <rearnsha@@arm.com>

	* gas/arm/group-reloc-ldc.d: Disassembly of VFP instructions now uses
	unified syntax.
	* gas/arm/vfp-non-overlap.d: Likewise.
	* gas/arm/vfp-neon-syntax.d: Likewise.
	* gas/arm/vfp-neon-syntax_t2.d: Likewise.
	* gas/arm/vfp1.d: Likewise.
	* gas/arm/vfp1_t2.d: Likewise.
	* gas/arm/vfp1xD.d: Likewise.
	* gas/arm/vfp1xD_t2.d: Likewise.
	* gas/arm/vfp2.d: Likewise.
	* gas/arm/vfp2_t2.d: Likewise.
	* gas/arm/vfpv3-32drs.d: Likewise.
	* gas/arm/vfpv3-const-conv.d: Likewise.

2008-12-04  Ben Elliston  <bje@@au.ibm.com>

	* gas/ppc/booke.s: Remove booke64 instructions.
	* gas/ppc/booke.d: Update expected disassembly output.
	* gas/ppc/booke_xcoff.s: Use -mbooke/-Mbooke.
	* gas/ppc/booke_xcoff.d: Likewise.
	* gas/ppc/booke_xcoff64.d: Likewise.
	* gas/ppc/booke_xcoff64.s: Likewise.

2008-12-03  Nick Clifton  <nickc@@redhat.com>

	* gas/elf/type.s: Add test of STT_IFUNC symbol type.
	* gas/elf/type.e: Update expected disassembly.
	* gas/elf/elf.exp: Update grep of symbol types.

2008-11-27  M R Swami Reddy  <MR.Swami.Reddy@@nsc.com>

	* gas/cr16/pic-1.s: New.
	* gas/cr16/pic-1.d: New.
	* gas/cr16/pic-2.s: New.
	* gas/cr16/pic-2.d: New.
	* gas/cr16/pic.exp: Run pic tests.

2008-11-19  Hans-Peter Nilsson  <hp@@axis.com>

	* gas/cris/rd-tls-1.d, gas/cris/rd-tls-1.s: Use a local thread
	variable instead of .text location for :GD decoration test.

2008-11-18  Catherine Moore  <clm@@codesourcery.com>

	* gas/arm/half-prec-neon.d: New.
	* gas/arm/half-prec-neon.s: New.
	* gas/arm/half-prec-vfp3.d: New.
	* gas/arm/half-prec-vfp3.s: New.
	* gas/arm/half-prec-psyntax.d: New.
	* gas/arm/half-prec-psyntax.s: New.

2008-11-12  Hans-Peter Nilsson  <hp@@axis.com>

	* gas/cris/rd-bcnst2-pic.d, gas/cris/rd-bcnst2.d,
	gas/cris/rd-bcnst2.s: New tests.

2008-11-06  Adam Nemet  <anemet@@caviumnetworks.com>

	* gas/mips/mips1-fp.s, testsuite/gas/mips/mips1-fp.d,
	testsuite/gas/mips/mips1-fp.l: New tests.
	* gas/mips/mips.exp: Run them.

2008-11-06  Chao-ying Fu  <fu@@mips.com>

	* gas/mips/mips32-sync.d, gas/mip/mips32-sync.s: New tests.
	* gas/mips/mips.exp: Run them.

2008-11-04  Bob Wilson  <bob.wilson@@acm.org>

	* gas/xtensa/all.exp: Run jlong test.
	* gas/xtensa/jlong.d: New.
	* gas/xtensa/jlong.s: New.

2008-11-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/intel.s: Add tests for cmovpe and cmovpo.
	* gas/i386/opcode.s: Likewise.

	* gas/i386/intel.d: Updated.
	* gas/i386/opcode.d: Likewise.
	* gas/i386/opcode-intel.d: Likewise. 
	* gas/i386/opcode-suffix.d: Likewise.

2008-10-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run nops-5, nops-5-i686, x86-64-nops-5 and
	x86-64-nops-5-k8.

	* gas/i386/nops-5.d: New.
	* gas/i386/nops-5.s: Likewise.
	* gas/i386/nops-5-i686.d: Likewise.
	* gas/i386/x86-64-nops-5.d: Likewise.
	* gas/i386/x86-64-nops-5-k8.d: Likewise.

2008-10-06  Tom Tromey  <tromey@@redhat.com>

	* gas/cfi/cfi-alpha-1.d, gas/cfi/cfi-alpha-3.d,
	gas/cfi/cfi-arm-1.d, gas/cfi/cfi-common-1.d,
	gas/cfi/cfi-common-2.d, gas/cfi/cfi-common-3.d,
	gas/cfi/cfi-common-4.d, gas/cfi/cfi-common-5.d,
	gas/cfi/cfi-common-6.d, gas/cfi/cfi-hppa-1.d,
	gas/cfi/cfi-i386-2.d, gas/cfi/cfi-i386.d, gas/cfi/cfi-m68k.d,
	gas/cfi/cfi-mips-1.d, gas/cfi/cfi-ppc-1.d, gas/cfi/cfi-s390-1.d,
	gas/cfi/cfi-s390x-1.d, gas/cfi/cfi-sh-1.d, gas/cfi/cfi-sparc-1.d,
	gas/cfi/cfi-sparc64-1.d, gas/cfi/cfi-x86_64.d: Update for readelf
	change.

2008-10-04  Hans-Peter Nilsson  <hp@@axis.com>

	* gas/cris/rd-tls-1.s, gas/cris/rd-tls-1.d, gas/cris/rd-tls-2.s,
	gas/cris/rd-tls-2.d, gas/cris/tls-err-1.s, gas/cris/tls-err-2.s,
	gas/cris/tls-err-3.s: New tests.

2008-09-26  Andreas Krebbel  <krebbel1@@de.ibm.com>

	* gas/s390/esa-g5.d: Adjust according to the s390-opc changes.
	* gas/s390/esa-g5.s: Likewise.
	* gas/s390/esa-z990.d: Likewise.
	* gas/s390/esa-z990.s: Likewise.
	* gas/s390/zarch-z900.d: Likewise.
	* gas/s390/zarch-z900.s: Likewise.
	* gas/s390/zarch-z990.d: Likewise.
	* gas/s390/zarch-z990.s: Likewise.

2008-09-15  Alan Modra  <amodra@@bigpond.net.au>

	* gas/all/gas.exp: Don't run redef tests on a bunch of targets.
	* gas/elf/elf.exp: Likewise.

2008-09-14  Arnold Metselaar  <arnold.metselaar@@planet.nl>

	* gas/z80/ld-group.s, gas/z80/ld-group.d: New test.
	* gas/z80/block.s, gas/z80/block.d: New test
	* gas/z80/arith.s, gas/z80/arith.d: New test
	* gas/z80/rotate.s, gas/z80/rotate.d: New test
	* gas/z80/bit.s, gas/z80/bit.d: New test
	* gas/z80/branch.s, gas/z80/branch.d: New test
	* gas/z80/inout.s, gas/z80/inout.d: New test
	* gas/z80/misc.s, gas/z80/misc.d: New test
	* gas/z80/z80.exp: Run them.

2008-09-11  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/sse2avx.s: Remove pclmulXXX tests.  Add tests for
	Intel syntax.
	* gas/i386/x86-64-sse2avx.s: Likewise.

	* gas/i386/sse2avx.d: Updated.
	* gas/i386/x86-64-sse2avx.d: Likewise. 

2008-09-09  Peter Bergner  <bergner@@vnet.ibm.com>

	* gas/ppc/common.s: New test.
	* gas/ppc/common.d: Likewise.
	* gas/ppc/power4_32.s: Likewise.
	* gas/ppc/power4_32.d: Likewise.
	* gas/ppc/power6.s: Add attn, mtcr, mtcrf, mfcr, dcbz.
	* gas/ppc/power6.d: Likewise.
	* gas/ppc/ppc.exp: Run power4_32 test.

2008-09-06  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/cfi-n64-1.s, gas/mips/cfi-n64-1.d: New test.
	* gas/mips/mips.exp: Run it.

2008-09-05  Nick Clifton  <nickc@@redhat.com>

	* gas/arm/abs12.d: Update expected disassembly.
	* gas/arm/tls_vxworks.d: Likewise.
	* gas/arm/unwind_vxworks.d: Likewise.
	* gas/arm/group-reloc-alu-encoding-bad.d: Skip for vxworks
	targets.
	* gas/arm/group-reloc-alu.d: Likewise.
	* gas/arm/group-reloc-ldc-encoding-bad.d: Likewise.
	* gas/arm/group-reloc-ldc.d: Likewise.
	* gas/arm/group-reloc-ldr-encoding-bad.d: Likewise.
	* gas/arm/group-reloc-ldr.d: Likewise.
	* gas/arm/group-reloc-ldrs-encoding-bad.d: Likewise.
	* gas/arm/group-reloc-ldrs.d: Likewise.
	* gas/arm/local_function.d: Likewise.
	* gas/arm/mapshort-elf.d: Likewise.
	* gas/arm/undefined.d: Likewise.

2008-09-04  Christian Groessler  <chris@@groessler.org>

	* lib/gas-defs.exp (run_dump_test): If the test expects an error,
	fail the test if gas doesn't report an error.

2008-08-28  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/intel.s: Add retf.
	* gas/i386/intel.{d,e}: Adjust.
	* gas/i386/opcode-intel.d: Replace lret with retf.

2008-08-28  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/gas/i386/opcode-suffix.d: Add suffixes to cmovXX.

2008-08-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/ia64/dv-raw-err.s: Add tests for cr.iib0 and cr.iib1.
	* gas/ia64/dv-waw-err.s: Likewise.
	* gas/ia64/regs.s: Likewise.

	* gas/ia64/dv-raw-err.l: Updated.
	* gas/ia64/dv-waw-err.l: Likewise.
	* gas/ia64/regs.d: Likewise.

2008-08-28  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/string-bad.{l,s}, gas/i386/string-ok.{d,e,s}: New.
	* gas/i386/i386.exp: Run new tests.

2008-08-27  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/intel.s: Add tests for fidivr.

	* gas/i386/intel.d: Updated.

2008-08-26  Jie Zhang  <jie.zhang@@analog.com>

	* gas/bfin/arith_mode.d: New test.
	* gas/bfin/arith_mode.s: New test.
	* gas/bfin/invalid_arith_mode.l: New test.
	* gas/bfin/invalid_arith_mode.s: New test.
	* gas/bfin/bfin.exp: Add arith_mode and invalid_arith_mode.

2008-08-22  Jie Zhang  <jie.zhang@@analog.com>

	* gas/bfin/misc.s: New test.
	* gas/bfin/misc.d: New test.
	* gas/bfin/bfin.exp: Add misc test.

2008-08-21  Richard Henderson  <rth@@redhat.com>

	* gas/cfi/cfi-common-1.d: Allow for differing offsets, and
	for DW_CFA_offset_extended_sf results.  Allow for differing nops.
	* gas/cfi/cfi-hppa-1.d: Invert data alignment sign.  Change 
	offsets to match 64-bit offsets.
	* gas/cfi/cfi.exp: Don't run common tests on hppa64.

2008-08-20  Bob Wilson  <bob.wilson@@acm.org>

	* gas/all/gas.exp: Expect the redef test to fail on Xtensa.

2008-08-20  H.J. Lu  <hongjiu.lu@@intel.com>

	AVX Programming Reference (August, 2008)
	* gas/i386/avx.s: Add AES + AVX tests.
	* gas/i386/arch-10.s: Likewise.
	* gas/i386/sse2avx.s: Likewise.
a5 2
	* gas/i386/x86-64-avx.s: Likewise.
	* gas/i386/x86-64-sse2avx.s: Likewise.
d14 1
a14 1
	* gas/i386/sse2avx.d: Likewise.
d18 1
a18 23
	* gas/i386/x86-64-sse2avx.d: Likewise.

	* gas/i386/i386.exp: Run arch-avx-1, arch-avx-1-1 and
	arch-avx-1-2.

	* gas/i386/arch-avx-1.d: New.
	* gas/i386/arch-avx-1.s: Likewise.
	* gas/i386/arch-avx-1-1.l: Likewise.
	* gas/i386/arch-avx-1-1.s: Likewise.
	* gas/i386/arch-avx-1-2.l: Likewise.
	* gas/i386/arch-avx-1-2.s: Likewise.

2008-08-15  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* gas/s390/esa-g5.d: lxr operands are floating point.
	* gas/s390/esa-g5.s: Likewise.
	* gas/testsuite/gas/s390/zarch-z9-ec.d: rrdtr, rrxtr third
	operands is gpr.
	* gas/testsuite/gas/s390/zarch-z9-ec.s: Likewise.

2008-08-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/amd.s: Add syscall and sysret.  Remove padding.
d20 2
a21 452
	* gas/i386/amd.d: Updated.
	* gas/i386/x86-64-opcode.d: Likewise.

	* gas/i386/i386.exp: Run x86-64-intel64.

	* gas/i386/x86-64-intel64.d: New.
	* gas/i386/x86-64-intel64.s: Likewise.

	* gas/i386/x86-64-opcode.s: Add syscall and sysret.

2008-08-08  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/call-nonpic-1.s, gas/mips/call-nonpic-1.d: New test.
	* gas/mips/mips.exp: Run it.

2008-08-06  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/elf-rel8-mips16.d, gas/mips/elf-rel8-mips16.s,
	* gas/mips/elf-rel9-mips16.d, gas/mips/elf-rel9-mips16.s,
	* gas/mips/elf-rel13-mips16.d, gas/mips/elf-rel13-mips16.s: New tests.
	* gas/mips/mips.exp: Run them.

2008-08-01  Peter Bergner  <bergner@@vnet.ibm.com>

	* gas/ppc/power7.d: New.
	* gas/ppc/power7.s: Likewise.
	* gas/ppc/ppc.exp: Run power7 test.

2008-08-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/cfi/cfi-i386.s: Remove tests for AVX register maps.
	* gas/cfi/cfi-x86_64.s: Likewise.

	* gas/cfi/cfi-i386.d: Updated.
	* gas/cfi/cfi-x86_64.d: Likewise.

2008-07-31  Peter Bergner  <bergner@@vnet.ibm.com>

	* gas/ppc/cell.s: Add altivec instructions.
	* gas/ppc/cell.d: Update expected output.
	* gas/ppc/power6.d: New.
	* gas/ppc/power6.s: Likewise.
	* gas/ppc/ppc.exp (powerpc64*-*-*): Move cell from here to...
	(powerpc*-*-*): Here.  Run power6 test.

2008-07-24  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/nops-1.d: Add -mtune=generic32.
	* gas/i386/nops-2.d: Likewise.
	* gas/i386/nops-3.d: Likewise.

	* gas/i386/x86-64-nops-1.d: Add -mtune=generic64.
	* gas/i386/x86-64-nops-2.d: Likewise.
	* gas/i386/x86-64-nops-3.d: Likewise.
	* gas/i386/x86-64-nops-4.d: Likewise.

2008-07-22  Chao-ying Fu  <fu@@mips.com>

	* gas/mips/tls-ill.l: Update error message.
	* gas/mips/octeon-ill.l: Likewise.

2008-07-14  Jie Zhang  <jie.zhang@@analog.com>

	* gas/bfin/{bit2.s, cache2.s, control_code2.s, event2.s,
	logical2.s, move2.s, parallel.s, parallel2.s, parallel3.s,
	parallel4.s, shift2.s, stack2.s, video2.s}: Remove DOS line
	endings.

2008-07-10  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/mips16-vis-1.d, gas/mips/mips16-vis-1.s: New tests.
	* gas/mips/mips.exp: Run them.

2008-07-09  Kai Tietz  <kai.tietz@@onevision.com>

	* gas/i386/i386.exp (x86-64-pcrel): Disable for w64.
	(x86-64-sse5): Likewise.
	(x86-64-opcode-inval): Likewise.
	(x86-64-opcode-inval-intel): Likewise.
	(x86-64-w64-pcrel): New.
	* gas/i386/x86-64-w64-pcrel.d: New.

2008-07-07  Adam Nemet  <anemet@@caviumnetworks.com>

	* gas/mips/mips32.s: Move out coprocessor2 insns from here ...
	* gas/mips/mips32-cp2.s: ... to here.
	* gas/mips/mips32.d: Update.
	* gas/mips/mips32-cp2.d: New file.
	* gas/mips/mips32r2.s: Move out coprocessor2 insns from here ...
	* gas/mips/mips32r2-cp2.s: ... to here.
	* gas/mips/mips32r2.d: Update.
	* gas/mips/mips32r2-cp2.d: New file.
	* gas/mips/mips64.s: Move out coprocessor2 insns from here ...
	* gas/mips/mips64-cp2.s: ... to here.
	* gas/mips/mips64.d: Update.
	* gas/mips/mips64-cp2.d: New file.
	* gas/mips/mips.exp: Run mips32-cp2, mips32r2-cp2 and mips64-cp
	except for Octeon.
	* gas/mips/octeon.s: Add supported coprocessor insns.  Move pop
	down to keep alphabetical order.
	* gas/mips/octeon.d: Update.
	* gas/mips/octeon-ill.s: Add unsupported coprocessor insns.
	* gas/mips/octeon-ill.l: Update.

2008-07-07  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/movw-local.d: New test.
	* gas/arm/movw-local.s: New test. 

2008-06-27  Chao-ying Fu  <fu@@mips.com>

	* gas/mips/odd-float.d: Replace ... with #pass.
	* gas/mips/ldstla-32-shared.d: Add -march=mips1 for as.
	* gas/mips/ldstla-32.d: Likewise.
	* gas/mips/mips16-hilo-match.d: Add -mabi=32 -march=mips1 for as.
	
2008-06-19  Chao-ying Fu  <fu@@mips.com>

	* gas/mips/e32-rel2.d: Add -march=mips1 for as.

2008-06-16  Hans-Peter Nilsson  <hp@@bitrange.com>

	PR gas/6607
	* gas/mmix/err-loc-10.s, gas/mmix/err-loc-9.s, gas/mmix/loc-6.d,
	gas/mmix/loc-6.s, gas/mmix/loc-7.d, gas/mmix/loc-7.s: New tests.

2008-06-12  Adam Nemet  <anemet@@caviumnetworks.com>

	* gas/mips/octeon.s, gas/mips/octeon.d: Add tests for baddu,
	bbit*, cins*, dmul, pop, dpop, exts*, mtm*, mtp*, syncs, syncw,
	syncws, vm3mulu, vm0 and vmulu.
	* gas/mips/octeon-ill.s, gas/mips/octeon-ill.s: New test.
	* gas/mips/mips.exp: Run it.  Run octeon test with
	run_dump_test_arches.

	* gas/mips/octeon.s, gas/mips/octeon.d: Add tests for seq* and sne*.
	* gas/mips/octeon-ill.s, gas/mips/octeon-ill.s: Add tests for seqi
	and snei.

2008-06-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run sse-check-none and
	x86-64-sse-check-none.

	* gas/i386/sse-check-none.d: New.
	* gas/i386/sse-check-none.s: Likewise.
	* gas/i386/x86-64-sse-check-none.d: Likewise.

2008-06-03  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/thumb32.d: Update expected output.

2008-05-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/x86-64-avx.s: Add tests for vmovd on 64bit operands.

	* gas/i386/x86-64-sse2avx.s: Add tests for movd on 64bit
	operands.

	* gas/testsuite/gas/i386/x86-64-avx.d: Updated.
	* gas/testsuite/gas/i386/x86-64-avx-intel.d: Likewise.
	* gas/testsuite/gas/i386/x86-64-sse2avx.d: Likewise.

2008-05-27  Martin Schwidefsky  <schwidefsky@@de.ibm.com>

	* gas/s390/zarch-z990.d (idte): Fix operand format.

2008-05-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/sse-noavx.s: Add tests for cvtpd2pi, cvtpi2pd and
	cvttpd2pi.
	* gas/i386/x86-64-sse-noavx.s: Likewise.

	* gas/i386/sse-noavx.d: Updated.
	* gas/i386/x86-64-sse-noavx.d: Likewise.

2008-05-22  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/6517
	* gas/i386/avx.s: Add tests for unspecified memory operand
	size in Intel syntax.
	* gas/i386/x86-64-avx.s: Likewise.

	* gas/i386/simd.s: Add tests for cvtsi2ss and cvtsi2sd with
	unspecified memory operand size in Intel syntax.

	* gas/i386/avx.d: Updated.
	* gas/i386/avx-intel.d: Likewise.
	* gas/i386/simd.d: Likewise.
	* gas/i386/simd-intel.d: Likewise.
	* gas/i386/simd-suffix.d: Likewise.
	* gas/i386/x86-64-avx.d: Likewise.
	* gas/i386/x86-64-avx-intel.d: Likewise.

2008-05-21  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/sse-noavx.s: Add tests for movdq2q and movq2dq.
	* gas/i386/x86-64-sse-noavx.s: Likewise.

	* gas/i386/sse-noavx.d: Updated.
	* gas/i386/x86-64-sse-noavx.d: Likewise.

2008-05-09  Catherine Moore  <clm@@codesourcery.com>

	* gas/mips/mips16-hilo-match.s: New test.
	* gas/mips/mip16-hilo-match.d: New test output.

2008-05-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run movbe, movbe-intel, inval-movbe, ept,
	ept-intel, inval-ept, x86-64-movbe, x86-64-movbe-intel,
	x86-64-inval-movbe.  x86-64-ept, x86-64-ept-intel and
	x86-64-inval-ept.

	* gas/i386/arch-10.s: Add movbe and invept.
	* gas/i386/x86-64-arch-2.s: Likewise.

	* gas/i386/ept.d: New file
	* gas/i386/ept-intel.d: Likewise.
	* gas/i386/ept.s: Likewise.
	* gas/i386/inval-ept.l: Likewise.
	* gas/i386/inval-ept.s: Likewise.
	* gas/i386/inval-movbe.l: Likewise.
	* gas/i386/inval-movbe.s: Likewise.
	* gas/i386/movbe.d: Likewise.
	* gas/i386/movbe-intel.d: Likewise.
	* gas/i386/movbe.s: Likewise.
	* gas/i386/x86-64-inval-ept.l: Likewise.
	* gas/i386/x86-64-inval-ept.s: Likewise.
	* gas/i386/x86-64-inval-movbe.l: Likewise.
	* gas/i386/x86-64-inval-movbe.s: Likewise.
	* gas/i386/x86-64-ept.d: Likewise.
	* gas/i386/x86-64-ept-intel.d: Likewise.
	* gas/i386/x86-64-ept.s: Likewise.
	* gas/i386/x86-64-movbe.d: Likewise.
	* gas/i386/x86-64-movbe-intel.d: Likewise.
	* gas/i386/x86-64-movbe.s: Likewise.

	* gas/i386/arch-10.d: Updated.
	* gas/i386/arch-10-1.l: Likewise.
	* gas/i386/arch-10-2.l: Likewise.
	* gas/i386/arch-10-3.l: Likewise.
	* gas/i386/arch-10-4.l: Likewise.
	* gas/i386/x86-64-arch-2.d: Likewise.

2008-04-28  Adam Nemet  <anemet@@caviumnetworks.com>

	* gas/mips/mips4.s: Split out fp instruction from here ...
	* gas/mips/mips4-fp.s: ... to here.
	* gas/mips/mips4.d: Update.
	* gas/mips/mips4-fp.l: New file. Check error messages with
	-msoft-float.
	* gas/mips/mips4-fp.d: New file. Check disassembly with
	hard-float.

	* gas/mips/mips32r2.s: Split out fp instructions from here ...
	* gas/mips/mips32r2-fp32.s: ... to here.
	* gas/mips/mips32r2.d: Update.
	* gas/mips/mips32r2-fp32.l: New file.  Check error messages with
	-msoft-float.
	* gas/mips/mips32r2-fp32.d: New file.  Check disassembly with
	hard-float.

	* gas/mips/mips32r2-ill-nofp.s, gas/mips/mips32r2-ill-nofp.l: New
	test derived from mips32r2-ill.

	* gas/mips/mips32-sf32.l: New list test for mips32-sf32.s to check
	error messages for soft-float targets.

	* gas/mips/mips-macro-ill-sfp.s, gas/mips/mips-macro-ill-sfp.l:
	New test for -msingle-float.
	* gas/mips/mips-macro-ill-nofp.s, gas/mips/mips-macro-ill-nofp.l:
	New test for -msoft-float.
	* gas/mips/mips-hard-float-flag.s,
	gas/mips/mips-hard-float-flag.l: New test for -mhard-float.
	* gas/mips/mips-double-float-flag.s,
	gas/mips/mips-double-float-flag.l: New test for -mdouble-float.

	* gas/mips/mips.exp: Run new mips4-fp and mips32r2-fp dump tests.
	Run mips4-fp and mips32r2-fp list tests with -msoft-float.  Run
	new mips32r2-ill-nofp with -msoft-float.  Run new mips32-sf32 list
	test with -msoft-float.  Run new mips-macro-ill-sfp test with
	-msingle-float.  Run new mips-macro-ill-nofp test with
	-msoft-float.  Run new mips-hard-float-flag and
	mips-double-float-flag tests.

2008-04-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run sse-noavx and x86-64-sse-noavx.

	* gas/i386/sse-noavx.d: New.
	* gas/i386/sse-noavx.s: Likewise.
	* gas/i386/x86-64-sse-noavx.d: Likewise.
	* gas/i386/x86-64-sse-noavx.s: Likewise.

2008-04-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/sse2.s: Add tests for pmuludq, paddq and psubq.
	* gas/i386/x86-64-simd.s: Likewise.

	* gas/i386/sse2.d: Updated.
	* gas/i386/x86-64-simd.d: Likewise.
	* gas/i386/x86-64-simd-intel.d: Likewise.
	* gas/i386/x86-64-simd-suffix.d: Likewise.

2008-04-23  David S. Miller  <davem@@davemloft.net>

	* gas/sparc/pc2210.d: New file.
	* gas/sparc/pc2210.d: Likewise.
	* gas/sparc/sparc.exp: Run new %pc22/%pc10 relocation test.

2008-04-18  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/arch-10.d: Updated.
	* gas/i386/avx.d: Likewise.
	* gas/i386/avx-intel.d: Likewise.
	* gas/i386/x86-64-arch-2.d: Likewise.
	* gas/i386/x86-64-avx.d: Likewise.
	* gas/i386/x86-64-avx-intel.d: Likewise.

2008-04-16  Dwarakanath Rajagopal  <dwarak.rajagopal@@amd.com>
	    Michael Meissner  <michael.meissner@@amd.com>

	* gas/i386/x86-64-sse5.s: Add protX tests to allow memory in the
	middle operand.
	* gas/i386/x86-64-sse5.d: Likewise.
	
2008-04-16  David S. Miller  <davem@@davemloft.net>

	* gas/sparc/gotops32.d: New.
	* gas/sparc/gotops32.s: Likewise.
	* gas/sparc/gotops64.d: Likewise.
	* gas/sparc/gotops64.s: Likewise.
	* gas/sparc/sparc.exp: Run new gotdata tests.

2008-04-15  Andrew Stubbs  <andrew.stubbs@@st.com>

	* gas/sh/arch/arch.exp: Align PC-relative instructions in the gererated
	assembly files.
	* gas/sh/arch/sh-dsp.s: Regenerate.
	* gas/sh/arch/sh.s: Regenerate.
	* gas/sh/arch/sh2.s: Regenerate.
	* gas/sh/arch/sh2a-nofpu-or-sh3-nommu.s: Regenerate.
	* gas/sh/arch/sh2a-nofpu-or-sh4-nommu-nofpu.s: Regenerate.
	* gas/sh/arch/sh2a-nofpu.s: Regenerate.
	* gas/sh/arch/sh2a-or-sh3e.s: Regenerate.: Regenerate.
	* gas/sh/arch/sh2a-or-sh4.s: Regenerate.
	* gas/sh/arch/sh2a.s: Regenerate.
	* gas/sh/arch/sh2e.s: Regenerate.
	* gas/sh/arch/sh3-dsp.s: Regenerate.
	* gas/sh/arch/sh3-nommu.s: Regenerate.
	* gas/sh/arch/sh3.s: Regenerate.
	* gas/sh/arch/sh3e.s: Regenerate.
	* gas/sh/arch/sh4-nofpu.s: Regenerate.
	* gas/sh/arch/sh4-nommu-nofpu.s: Regenerate.
	* gas/sh/arch/sh4.s: Regenerate.
	* gas/sh/arch/sh4a-nofpu.s: Regenerate.
	* gas/sh/arch/sh4a.s: Regenerate.
	* gas/sh/arch/sh4al-dsp.s: Regenerate.
	* gas/sh/err-mova.s: New test.

2008-04-14  Edmar Wienskoski  <edmar@@freescale.com>

	* gas/ppc/e500mc.s, gas/ppc/e500mc.d: New test.
	* gas/ppc/ppc.exp: Run the new test

2008-04-11  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/lns/lns-big-delta.d: Updated.
	* gas/lns/lns-common-1.d: Likewise.
	* gas/lns/lns-common-1-alt.d: Likewise.
	* gas/lns/lns-duplicate.d: Likewise.

2008-04-10  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run sse-check, sse-check-warn,
	sse-check-error, x86-64-sse-check, x86-64-sse-check-warn and
	x86-64-sse-check-error.

	* gas/i386/sse-check.d: New.
	* gas/i386/sse-check.s: Likewise.
	* gas/i386/sse-check-error.l: Likewise.
	* gas/i386/sse-check-error.s: Likewise.
	* gas/i386/sse-check-warn.d: Likewise.
	* gas/i386/sse-check-warn.e: Likewise.
	* gas/i386/x86-64-sse-check.d: Likewise.
	* gas/i386/x86-64-sse-check-error.l: Likewise.
	* gas/i386/x86-64-sse-check-error.s: Likewise.
	* gas/i386/x86-64-sse-check-warn.d: Likewise.

2008-04-10  Santiago Uruea  <suruena@@gmail.com>

	* gas/all/gas.exp: Check the performance of the -ag command line
	switch.

2008-04-10  Andreas Krebbel  <krebbel1@@de.ibm.com>

	* gas/s390/zarch-z10.d: Map the compare and branch variants
	with odd condition code mask to version with an even mask.

2008-04-07  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/att-regs.s: Add AVX register test.
	* gas/i386/intel-regs.s: Likewise.

	* gas/i386/att-regs.d: Updated.
	* gas/i386/intel-regs.d: Likewise.

2008-04-07  Kaz Kojima  <kkojima@@rr.iij4u.or.jp>

	PR gas/6043
	* gas/sh/sh64/eh-1.d: New.
	* gas/sh/sh64/eh-1.d: Likewise.

2008-04-04  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/arch-10-1.l: Replace CLMUL with PCLMUL.
	* gas/i386/arch-10-2.l: Likewise.
	* gas/i386/arch-10-3.l: Likewise.
	* gas/i386/arch-10-4.l: Likewise.
	* gas/i386/arch-10.s: Likewise.
	* gas/i386/clmul-intel.d: Likewise.
	* gas/i386/clmul.d: Likewise.
	* gas/i386/clmul.s: Likewise.
	* gas/i386/x86-64-arch-2.s: Likewise.
	* gas/i386/x86-64-clmul-intel.d: Likewise.
	* gas/i386/x86-64-clmul.d: Likewise.
	* gas/i386/x86-64-clmul.s: Likewise.

	* gas/i386/arch-10.d: Replace clmul with pclmul.
	* gas/i386/x86-64-arch-2.d: Likewise.

2008-04-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run aes, aes-intel, x86-64-aes,
	x86-64-aes-intel, avx, avx-intel, inval-avx, x86-64-avx,
	x86-64-avx-intel and x86-64-inval-avx.

	* gas/cfi/cfi-i386.s: Add tests for AVX register maps.
	* gas/cfi/cfi-x86_64.s: Likewise.

	* gas/i386/aes.d: New.
	* gas/i386/aes.s: Likewise.
	* gas/i386/aes-intel.d: Likewise.
	* gas/i386/avx.d: Likewise.
	* gas/i386/avx.s: Likewise.
	* gas/i386/avx-intel.d: Likewise.
	* gas/i386/clmul.d: Likewise.
	* gas/i386/clmul-intel.d: Likewise.
	* gas/i386/clmul.s: Likewise.
	* gas/i386/i386.exp: Likewise.
	* gas/i386/inval-avx.l: Likewise.
a22 6
	* gas/i386/sse2avx.d: Likewise.
	* gas/i386/sse2avx.s: Likewise.
	* gas/i386/x86-64-aes.d: Likewise.
	* gas/i386/x86-64-aes.s: Likewise.
	* gas/i386/x86-64-aes-intel.d: Likewise.
	* gas/i386/x86-64-avx.d: Likewise.
a23 5
	* gas/i386/x86-64-avx-intel.d: Likewise.
	* gas/i386/x86-64-clmul.d: Likewise.
	* gas/i386/x86-64-clmul-intel.d: Likewise.
	* gas/i386/x86-64-clmul.s: Likewise.
	* gas/i386/x86-64-inval-avx.l: Likewise.
a24 491
	* gas/i386/x86-64-sse2avx.d: Likewise.
	* gas/i386/x86-64-sse2avx.s: Likewise.

	* gas/i386/arch-10.s: Add tests for AVX, AES, CLMUL and FMA.
	* gas/i386/x86-64-arch-2.s: Likewise.

	* gas/i386/rexw.s: Add AVX tests.

	* gas/i386/x86-64-opcode-inval.s: Remove lds/les test.

	* gas/cfi/cfi-i386.d: Updated.
	* gas/cfi/cfi-x86_64.d: Likewise.
	* gas/i386/arch-10.d:  Likewise.
	* gas/i386/arch-10-1.l: Likewise.
	* gas/i386/arch-10-2.l: Likewise.
	* gas/i386/arch-10-3.l: Likewise.
	* gas/i386/arch-10-4.l: Likewise.
	* gas/i386/rexw.d: Likewise.
	* gas/i386/x86-64-arch-2.d: Likewise.
	* gas/i386/x86-64-opcode-inval.d: Likewise.
	* gas/i386/x86-64-opcode-inval-intel.d: Likewise.

2008-03-26  Bernd Schmidt  <bernd.schmidt@@analog.com>

	From Jie Zhang  <jie.zhang@@analog.com>
	* gas/bfin/load.d: Update.
	* gas/bfin/expected_comparison_errors.l: New test.
	* gas/bfin/expected_comparison_errors.s: New test.
	* gas/bfin/bfin.exp: Add expected_comparison_errors.
	* gas/bfin/expected_errors.l, gas/bfin/expected_errors.s: Add
	tests for bad options of "multiply and multipy-accumulate to
	accumulator" instructions.  Add new vector instruction option
	mode tests.
	* gas/bfin/vector2.s: Add new vector instruction option mode test.
	* gas/bfin/vector2.d: Adjust accordingly.
	* gas/bfin/expected_errors.l, gas/bfin/expected_errors.s:
	Add check for mismatch of accumulator and data register.
	* gas/bfin/arithmetic.s, gas/bfin/arithmetic.d: Add check
	for IU option.

	* gas/bfin/flow.d: Adjust since the generated labels for LOOP_BEGIN
	and LOOP_END instruction are local now.
	* gas/bfin/flow2.d: Likewise.

	From  Mike Frysinger  <michael.frysinger@@analog.com>
	* gas/bfin/expected_errors.s, gas/bfin/expected_errors.l: Add test
	for mismatched half registers in vector multipy-accumulate
	instructions.

	From Robin Getz  <rgetz@@blackfin.uclinux.org>
	* gas/bfin/arithmetic.d: Update to reflect spaces/capitalization in
	recent changes in opcodes/bfin-dis.c.
	gas/bfin/arithmetic.s: Likewise.
	gas/bfin/bit.d: Likewise.
	gas/bfin/bit2.d: Likewise.
	gas/bfin/control_code.d: Likewise.
	gas/bfin/control_code2.d: Likewise.
	gas/bfin/event.d: Likewise.
	gas/bfin/event2.d: Likewise.
	gas/bfin/flow.d: Likewise.
	gas/bfin/flow2.d: Likewise.
	gas/bfin/load.d: Likewise.
	gas/bfin/logical.d: Likewise.
	gas/bfin/logical2.d: Likewise.
	gas/bfin/move.d: Likewise.
	gas/bfin/move2.d: Likewise.
	gas/bfin/parallel.d: Likewise.
	gas/bfin/parallel2.d: Likewise.
	gas/bfin/parallel3.d: Likewise.
	gas/bfin/parallel4.d: Likewise.
	gas/bfin/shift.d: Likewise.
	gas/bfin/shift2.d: Likewise.
	gas/bfin/stack.d: Likewise.
	gas/bfin/stack2.d: Likewise.
	gas/bfin/store.d: Likewise.
	gas/bfin/vector.d: Likewise.
	gas/bfin/vector2.d: Likewise.
	gas/bfin/video.d: Likewise.
	gas/bfin/video2.d: Likewise.

2008-03-19  Andreas Krebbel  <krebbel1@@de.ibm.com>

	* gas/s390/zarch-z10.d: New file.
	* gas/s390/zarch-z10.s: New file.
	* gas/s390/s390.exp: Run the z10 testcases.

2008-03-17  Richard Sandiford  <rsandifo@@nildram.co.uk>

	* gas/mips/elf-rel26.d: Add -32.
	* gas/mips/mips16-intermix.d: Likewise.

2008-03-13  Nick Clifton  <nickc@@redhat.com>

	PR gas/5895
	* gas/macros/exit.s: New test case.
	* gas/macros/macros.exp: Run the new test, expect it to produce an
	error result.

2008-03-09  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/vfpv3-d16-bad.d: New test.
	* gas/arm/vfpv3-d16-bad.l: New test.

2008-03-06  Andreas Krebbel  <krebbel1@@de.ibm.com>

	* gas/s390/esa-g5.d (cdfbr, cdfr, cefbr, cefr, cxfbr, cxfr,
	dxr, fidr, fier, fixr, lzdr, lzer, lzxr, sqdr, sqer, tp): Fix
	operand format.
	* gas/s390/esa-g5.s: Likewise.
	* gas/s390/zarch-z900.d (cdgbr, cdgr, cegbr, cegr, cxgbr,
	cxgr): Likewise.
	* gas/s390/zarch-z900.s: Likewise.
	* gas/s390/zarch-z9-109.d (cu41, cu42): Remove mask operand.
	* gas/s390/zarch-z9-109.s: Likewise.

2008-03-04  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/archv6m.d: New test.
	* gas/arm/archv6m.s: New test.
	* gas/arm/t16-bad.s: Test low register non flag setting add.
	* gas/arm/t16-bad.l: Update expected output.

2008-03-03  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/5543
	* gas/i386/i386.exp: Run inval-equ-1 and inval-equ-2.

	* gas/i386/inval-equ-1.l: New.
	* gas/i386/inval-equ-1.s: Likewise.
	* gas/i386/inval-equ-2.l: Likewise.
	* gas/i386/inval-equ-2.s: Likewise.

2008-03-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/x86-64-branch.s: Add tests for 16-bit near indirect
	branches.

	* gas/i386/x86-64-inval.s: Remove tests for 16-bit near indirect
	branches.

	* gas/i386/x86-64-branch.d: Updated.
	* gas/i386/x86-64-inval.l: Likewise.

2008-02-27  Nick Clifton  <nickc@@redhat.com>

	PR 3134
	* gas/h8300/pr3134.s: New test.
	* gas/h8300/pr3134.d: Expected disassembly
	* gas/h8300/h8300.exp: Run the new test.

	* gas/h8300/h8300-coff.exp: Fix test for COFF based ports to
	accept h8300-rtemscoff not just h8300-rtems.

2008-02-26  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/jump.d: Updated for COFF.

2008-02-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/jump.s: Add tests for far branches.
	* gas/i386/jump16.s: Likewise.

	* gas/i386/jump.d: Updated.
	* gas/i386/jump16.d: Likewise.
	* gas/i386/x86-64-inval.l: Likewise.

	* gas/i386/x86-64-inval.s: Add tests for 16-bit near indirect
	branches.

2008-02-22  Nick Clifton  <nickc@@redhat.com>

	* gas/m68hc11/bug-1825.d: Update to match changes in the
	information generated with source-in-disassembly listings.
	* gas/m68hc11/indexed12.d: Likewise.
	* gas/m68hc11/insns-dwarf2.d: Likewise.
	* gas/m68hc11/lbranch-dwarf2.d: Likewise.

2008-02-18  H.J. Lu  <hongjiu.lu@@intel.com>

	* cfi/cfi.exp (gas_x86_64_check): New.
	(gas_x86_32_check): Likewise.
	Run 32bit and 64bit tests for x86 targets if they are supportd.

2008-02-18  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/att-regs.s, gas/i386/att-regs.d,
	gas/i386/intel-regs.s, gas/i386/intel-regs.d: New.
	* gas/i386/i386.exp: Run new tests.

2008-02-14  Nick Clifton  <nickc@@redhat.com>

	PR gas/5712
	* gas/arm/fp-save.s: New test.
	* gas/arm/fp-save.d: Expected disassembly.

2008-02-13  Adam Nemet  <anemet@@caviumnetworks.com>

	* gas/mips/branch-misc-2pic-64.d (#name): Have a unique name
	different from the branch-misc-2-64.d test.

2008-02-13  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/intelok.s: Replace invalid offset expression with
	valid ones.
	* gas/i386/x86_64.s: Likewise.

2008-02-13  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/intelbad.s, gas/i386/intelok.s: Add 'bound' tests.
	* gas/i386/intelbad.l, gas/i386/intelok.l, gas/i386/intelok.e,
	gas/i386/opcode-intel.d: Adjust.

2008-02-13  Jan Beulich  <jbeulich@@novell.com>

	* gas/cfi/cfi-i386.s: Add code testing use of all registers.
	Fix a few comments.
	* gas/cfi/cfi-x86_64.s: Likewise.
	* gas/cfi/cfi-i386.d, gas/cfi/cfi-x86_64.d: Adjust.

2008-02-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run x86-64-arch-2 instead of
	x86-64-arch-10.

	* gas/i386/x86-64-arch-10.d: Removed.

	* gas/i386/x86-64-arch-2.d: New.
	* gas/i386/x86-64-arch-2.s: Likewise.

2008-02-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/x86-64-xsave.d: Remove prefix.

2008-02-11  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/arch-10.s: Add xgetbv.

	* gas/i386/arch-10.d: Updated.
	* gas/i386/arch-10-1.l: Likewise.
	* gas/i386/arch-10-2.l: Likewise.
	* gas/i386/arch-10-3.l: Likewise.
	* gas/i386/arch-10-4.l: Likewise.
	* gas/i386/x86-64-arch-10.d: Likewise.

2002-02-11  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run xsave, xsave-intel, x86-64-xsave
	and x86-64-xsave-intel.

	* gas/i386/x86-64-xsave-intel.d: New file.
	* gas/i386/x86-64-xsave.d: Likewise.
	* gas/i386/x86-64-xsave.s: Likewise.
	* gas/i386/xsave-intel.d: Likewise.
	* gas/i386/xsave.d: Likewise.
	* gas/i386/xsave.s: Likewise.

2008-02-05  Adam Nemet  <anemet@@caviumnetworks.com>

	* gas/mips/mips.exp: Invoke the tests smartmips, mips32-dsp,
	mips32-dspr2, mips64-dsp and mips32-mt with run_dump_test instead
	of run_dump_test_arches.
	* gas/mips/smartmips.d: Pass -mips32.
	* gas/mips/mips64-dsp.d: Pass -mips64r2.
	* gas/mips/mips32-dsp.d: Pass -mips32r2.
	* gas/mips/mips32-dspr2.d: Likewise.
	* gas/mips/mips32-mt.d: Likewise.

2008-02-04  Adam Nemet  <anemet@@caviumnetworks.com>

	* gas/mips/mips.exp: Call mips_arch_create for Octeon.  Invoke
	Octeon tests.
	* gas/mips/octeon.s, gas/mips/octeon.d: New test.

2008-01-31  Marc Gauthier  <marc@@tensilica.com>

	* gas/all/gas.exp: Recognize Xtensa processor variants.
	* gas/elf/elf.exp: Likewise.
	* gas/lns/lns.exp: Likewise.

2008-01-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/cfi/cfi-alpha-1.d: Replace DW_CFA_def_cfa_reg with
	DW_CFA_def_cfa_register.
	* gas/cfi/cfi-alpha-3.d: Likewise.
	* gas/cfi/cfi-hppa-1.d: Likewise.
	* gas/cfi/cfi-i386.d: Likewise.
	* gas/cfi/cfi-m68k.d: Likewise.
	* gas/cfi/cfi-mips-1.d: Likewise.
	* gas/cfi/cfi-sh-1.d: Likewise.
	* gas/cfi/cfi-sparc-1.d: Likewise.
	* gas/cfi/cfi-sparc64-1.d: Likewise.
	* gas/cfi/cfi-x86_64.d: Likewise.

	* gas/cfi/cfi-common-1.d: Updated for i386/x86-64 register
	names.
	* gas/cfi/cfi-common-2.d: Likewise.
	* gas/cfi/cfi-common-5.d: Likewise.
	* gas/cfi/cfi-i386.d: Likewise.
	* gas/cfi/cfi-x86_64.d: Likewise.

2008-01-24  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/x86-64-sib.s: Add tests for r12.

	* gas/i386/x86-64-sib-intel.d: Updated.
	* gas/i386/x86-64-sib.d: Likewise.

2008-01-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp : Run x86-64-arch-1 and x86-64-arch-10.

	* gas/i386/x86-64-arch-1.d: New.
	* gas/i386/x86-64-arch-1.s: Likewise.
	* gas/i386/x86-64-arch-10.d: Likewise.

2008-01-23  Tristan Gingold  <gingold@@adacore.com>

	* gas/ia64/regs.d: Updated as the ia64 disassembler now displays
	symbolic names for all ar registers.

2008-01-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/arch-10.d: New.
	* gas/i386/arch-11.s: Likewise.
	* gas/i386/arch-12.d: Likewise.
	* gas/i386/arch-12.s: Likewise.

	* gas/i386/i386.exp: Run arch-11 and arch-12.

2008-01-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/arch-10-1.l: New.
	* gas/i386/arch-10-1.s: Likewise.
	* gas/i386/arch-10-2.l: Likewise.
	* gas/i386/arch-10-2.s: Likewise.
	* gas/i386/arch-10-3.l: Likewise.
	* gas/i386/arch-10-3.s: Likewise.
	* gas/i386/arch-10-4.l: Likewise.
	* gas/i386/arch-10-4.s: Likewise.
	* gas/i386/arch-10.d: Likewise.
	* gas/i386/arch-10.s: Likewise.

	* gas/i386/i386.exp: Run arch-10, arch-10-1, arch-10-2,
	arch-10-3 and arch-10-4.

	* gas/i386/nops-2.s: Use movsbl instead of cmove.
	* gas/i386/nops-2-i386.d: Updated.
	* gas/i386/nops-2-merom.d: Likewise.
	* gas/i386/nops-2.d: Likewise.
	* gas/i386/x86-64-nops-2.d: Likewise.

2008-01-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/prescott.s: Add tests for movddup in Intel syntax.
	* gas/i386/x86-64-prescott.s: Likewise.

	* gas/i386/prescott.d: Updated.
	* gas/i386/x86-64-prescott.d: Likewise.

2008-01-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.s: Add more tests for movsx and movzx.
	* gas/i386/x86_64.s: Likewise.

	* gas/i386/inval.s: Remove tests for movsxw and movzxw.

	* gas/i386/x86-64-inval.s: Remove tests for movsxb, movsxw,
	movsxl, movzxb and movzxw.

	* gas/i386/i386.d: Updated.
	* gas/i386/inval.l: Likewise.
	* gas/i386/x86_64.d: Likewise.
	* gas/i386/x86-64-inval.l: Likewise.

2008-01-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.s: Add tests for movsx, movzx and movnti.
	* gas/i386/inval.s: Likewise. 
	* gas/i386/x86_64.s: Likewise.
	* gas/i386/x86-64-inval.s: Likewise.

	* gas/i386/i386.d: Updated.
	* gas/i386/inval.l: Likewise.
	* gas/i386/x86_64.d: Likewise.
	* gas/i386/x86-64-inval.l: Likewise.

2008-01-12  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/5534
	* gas/i386/i386.s: Add tests for fnstsw and fstsw.
	* gas/i386/inval.s: Likewise. 
	* gas/i386/x86_64.s: Likewise.

	* gas/i386/intel.s: Use word instead of dword on ss.

	* gas/i386/x86-64-inval.s: Add tests for fnstsw, fstsw, in
	and out.

	* gas/i386/prefix.s: Remove invalid fstsw.

	* gas/i386/inval.l: Updated.
	* gas/i386/intelbad.l: Likewise.
	* gas/i386/i386.d: Likewise.
	* gas/i386/x86_64.d: Likewise.
	* gas/i386/x86-64-inval.l: Likewise.
	* gas/i386/prefix.d: Updated.

2008-01-10  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/nops.s: Add more tests with opcodes from 0x0f19
	to 0x0f1f.
	* gas/i386/x86-64-nops.s: Likewise.

	* gas/i386/nops.d: Updated.
	* gas/i386/x86-64-nops.d: Likewise.

2008-01-09  Bob Wilson  <bob.wilson@@acm.org>
	
	* gas/lns/lns.exp: Run new lns-big-delta test for targets that set
	DWARF2_USE_FIXED_ADVANCE_PC.
	* gas/lns/lns-big-delta.s: New.
	* gas/lns/lns-big-delta.d: New.
	
2008-01-08  John David Anglin  <dave.anglin@@nrc-cnrc.gc.ca>

	PR gas/5322
	* lib/gas-defs.exp (gas_host_run): Add fourth argument to regsub
	command.

2008-01-05  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/intel.s: Add tests for fadd, faddp, fdiv, fdivp,
	fdivr, fdivrp, fmul, fmulp, fsub, fsubp, fsubr and fsubrp.

	* gas/i386/intel.d: Updated.
	* gas/i386/intel.e: Likewise.

2008-01-04  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/rexw.d: New.
	* gas/i386/rexw.s: Likewise.

	* gas/i386/x86-64-sse4_1-intel.d: Updated.
	* gas/i386/x86-64-sse4_1.d: Likewise.

2008-01-04  Nick Clifton  <nickc@@redhat.com>

	* gas/ppc/altivec_and_spe.s: New test - checks that ISA extension
	command line options (-maltivec, -mspe) can be specified before
	CPU selection command line options.
	* gas/ppc/altivec_and_spe.d: Expected disassembly.
	* gas/ppc/ppc.exp: Run the new test

2008-01-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/arch-9.d: New file.
	* gas/i386/arch-9.s: Likewise.

	* gas/i386/i386.exp: Run arch-9.

2008-01-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/arch-5.d: New file.
	* gas/i386/arch-5.s: Likewise.
	* gas/i386/arch-6.d: Likewise.
	* gas/i386/arch-6.s: Likewise.
	* gas/i386/arch-7.d: Likewise.
	* gas/i386/arch-7.s: Likewise.
	* gas/i386/arch-8.d: Likewise.
	* gas/i386/arch-8.s: Likewise.

	* gas/i386/i386.exp: Run arch-5, arch-6, arch-7 and arch-8.

2008-01-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.s: Add tests for movq.
	* gas/i386/x86_64.s: Likewise.

	* gas/i386/i386.d Updated.
	* gas/i386/x86_64.d: Likewise.

2008-01-02  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/5534
	* gas/i386/intel.s: Use QWORD on movq instead of DWORD.

	* gas/i386/inval.s: Add tests for movq.
	* gas/i386/x86-64-inval.s: Likewise.

	* gas/i386/inval.l: Updated.
	* gas/i386/x86-64-inval.l: Likewise.
d26 6
a31 1
2008-01-02  Catherine Moore  <clm@@codesourcery.com>
d33 2
a34 3
	* gas/mips/jalr.s: New test.
	* gas/mips/jalr.l: New test output.
	* gas/mips/mips.exp: Run new test.
d36 1
a36 1
For older changes see ChangeLog-2007
@


1.1413
log
@Add LM32 port.
@
text
@d1 6
@


1.1412
log
@gas/

2008-12-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (match_template): Changed to return
	 const template *.  Handle i.swap_operand for 3 operands.
	 (build_vex_prefix): Take const template *.  Swap operand for
	 2-byte VEX prefix if possible.
	 (md_assemble): Updated.
	 (build_modrm_byte): Handle RegMem bit for SSE2AVX.

gas/testsuite/

2008-12-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run x86-64-avx-swap and x86-64-avx-swap-intel.

	* gas/i386/opts.s: Add tests for movsd, movss, vmovsd and
	vmovss.
	* gas/i386/x86-64-opts.s: Likewise.

	* gas/i386/opts.d: Updated.
	* gas/i386/opts-intel.d: Likewise.
	* gas/i386/sse2avx-opts.d: Likewise.
	* gas/i386/sse2avx-opts-intel.d: Likewise.
	* gas/i386/x86-64-opts.d: Likewise.
	* gas/i386/x86-64-opts-intel.d: Likewise.
	* gas/i386/x86-64-sse2avx-opts.d: Likewise.
	* gas/i386/x86-64-sse2avx-opts-intel.d: Likewise.

	* gas/i386/x86-64-avx-swap.d: New.
	* gas/i386/x86-64-avx-swap.s: Likewise.
	* gas/i386/x86-64-avx-swap-intel.d: Likewise.

opcodes/

2008-12-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (EXdS): New.
	(EXdVexS): Likewise.
	(EXqVexS): Likewise.
	(d_swap_mode): Likewise.
	(q_mode): Updated.
	(prefix_table): Use EXdS on movss and EXqS on movsd.
	(vex_len_table): Use EXdVexS on vmovss and EXqVexS on vmovsd.
	(intel_operand_size): Handle d_swap_mode.
	(OP_EX): Likewise.

	* i386-opc.h (S): Update comments.

	* i386-opc.tbl: Add S to movss, movsd, vmovss and vmovsd.
	* i386-tbl.h: Regenerated.
@
text
@d1 9
@


1.1411
log
@Remove STT_IFUNC support.
@
text
@d1 21
@


1.1410
log
@	* gas/cris/rd-dtpoffd1.d, gas/cris/rd-dtpoffd1.s: New test.
@
text
@d1 5
@


1.1409
log
@gas/

2008-12-20  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (_i386_insn): Add swap_operand.
	(parse_insn): Handle ".s".
	(match_template): Handle swap_operand.

	* doc/c-i386.texi: Document .s suffix.

gas/testsuite/

2008-12-20  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run opts, opts-intel, sse2avx-opts,
	sse2avx-opts-intel, x86-64-opts, x86-64-opts-intel,
	x86-64-sse2avx-opts and x86-64-sse2avx-opts-intel.

	* gas/i386/opts.d: New.
	* gas/i386/opts-intel.d: Likewise.
	* gas/i386/opts.s: Likewise.
	* gas/i386/sse2avx-opts.d: Likewise.
	* gas/i386/sse2avx-opts-intel.d: Likewise.
	* gas/i386/x86-64-opts.d: Likewise.
	* gas/i386/x86-64-opts-intel.d: Likewise.
	* gas/i386/x86-64-opts.s: Likewise.
	* gas/i386/x86-64-sse2avx-opts.d: Likewise.
	* gas/i386/x86-64-sse2avx-opts-intel.d: Likewise.

opcodes/

2008-12-20  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (EbS): New.
	(EvS): Likewise.
	(EMS): Likewise.
	(EXqS): Likewise.
	(EXxS): Likewise.
	(b_swap_mode): Likewise.
	(v_swap_mode): Likewise.
	(q_swap_mode): Likewise.
	(x_swap_mode): Likewise.
	(v_mode): Updated.
	(w_mode): Likewise.
	(t_mode): Likewise.
	(xmm_mode): Likewise.
	(swap_operand): Likewise.
	(dis386): Use EbS on movB.  Use EvS on moveS.
	(dis386_twobyte): Use EXxS on movapX.
	(prefix_table): Use EXxS on movups, movupd, movdqu, movdqa,
	vmovups, vmovdqu, vmovdqa. Use EMS and EXqS on movq.
	(vex_table): Use EXxS on vmovapX.
	(vex_len_table): Use EXqS on vmovq.
	(intel_operand_size): Handle b_swap_mode, v_swap_mode,
	q_swap_mode and x_swap_mode.
	(OP_E_register): Handle b_swap_mode and v_swap_mode.
	(OP_EM): Handle v_swap_mode.
	(OP_EX): x_swap_mode and q_swap_mode.

	* i386-gen.c (opcode_modifiers): Add S.

	* i386-opc.h (S): New.
	(Modrm): Updated.
	(i386_opcode_modifier): Add s.

	* i386-opc.tbl: Add S to movapd, movaps, movdqa, movdqu, movq,
	movupd, movups, vmovapd, vmovaps, vmovdqa, vmovdqu and vmovq.
	* i386-tbl.h: Regenerated.
@
text
@d1 4
@


1.1408
log
@	* gas/cris/rd-tls-1.s, gas/cris/rd-tls-1.d: Test :IE and
	decoration on double-indirect.
	* gas/cris/tls-err-1.s: Test :IE on wrong-size operand.
@
text
@d1 17
@


1.1407
log
@gas/testsuite/

2008-12-18  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/intel.d: Remove trailing white spaces after nop.
	* gas/i386/intelpic.d: Likewise.
	* gas/i386/nops16-1.d: Likewise.
	* gas/i386/nops-1-i686.d: Likewise.
	* gas/i386/nops-3.d: Likewise.
	* gas/i386/nops-3-i386.d: Likewise.
	* gas/i386/nops-3-i686.d: Likewise.
	* gas/i386/nops-4.d: Likewise.
	* gas/i386/nops-4-i386.d: Likewise.
	* gas/i386/nops-4-i686.d: Likewise.
	* gas/i386/opcode.d: Likewise.
	* gas/i386/opcode-suffix.d: Likewise.
	* gas/i386/reloc.d: Likewise.
	* gas/i386/tlsnopic.d: Likewise.
	* gas/i386/x86-64-nops-1.d: Likewise.
	* gas/i386/x86-64-nops-1-nocona.d: Likewise.
	* gas/i386/x86-64-nops-2.d: Likewise.
	* gas/i386/x86-64-nops-3.d: Likewise.
	* gas/i386/x86-64-nops-4-core2.d: Likewise.
	* gas/i386/x86-64-nops-4.d: Likewise.
	* gas/i386/x86-64-nops-4-k8.d: Likewise.
	* gas/i386/x86-64-opcode.d: Likewise.

ld/testsuite/

2008-12-18  H.J. Lu  <hongjiu.lu@@intel.com>

	* ld-i386/tlsld1.dd: Remove trailing white spaces after nop.

opcodes/

2008-12-18  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (mnemonicendp): New.
	(op): Likewise.
	(print_insn): Use mnemonicendp.
	(OP_3DNowSuffix): Likewise.
	(CMP_Fixup): Likewise.
	(CMPXCHG8B_Fixup): Likewise.
	(CRC32_Fixup): Likewise.
	(OP_DREX_FCMP): Likewise.
	(OP_DREX_ICMP): Likewise.
	(VZERO_Fixup): Likewise.
	(VCMP_Fixup): Likewise.
	(PCLMUL_Fixup): Likewise.
	(VPERMIL2_Fixup): Likewise.
	(MOVBE_Fixup): Likewise.
	(putop): Update mnemonicendp.
	(oappend): Use stpcpy.
	(simd_cmp_op): Changed to struct op.
	(vex_cmp_op): Likewise.
	(pclmul_op): Likewise.
	(vpermil2_op): Likewise.
@
text
@d1 6
@


1.1406
log
@opcodes:
	* arm-dis.c (coprocessor_opcodes): Disassemble VFP instructions using
	unified syntax.
gas/testsuite:
	* gas/arm/group-reloc-ldc.d: Disassembly of VFP instructions now uses
	unified syntax.
	* gas/arm/vfp-non-overlap.d: Likewise.
	* gas/arm/vfp-neon-syntax.d: Likewise.
	* gas/arm/vfp-neon-syntax_t2.d: Likewise.
	* gas/arm/vfp1.d: Likewise.
	* gas/arm/vfp1_t2.d: Likewise.
	* gas/arm/vfp1xD.d: Likewise.
	* gas/arm/vfp1xD_t2.d: Likewise.
	* gas/arm/vfp2.d: Likewise.
	* gas/arm/vfp2_t2.d: Likewise.
	* gas/arm/vfpv3-32drs.d: Likewise.
	* gas/arm/vfpv3-const-conv.d: Likewise.
ld/testsuite:
	* ld-arm/vfp11-fix-scalar.d: Disassembly of VFP instructions now uses
	unified syntax.
	* ld-arm/vfp11-fix-vector.d: Likewise.
@
text
@d1 25
@


1.1405
log
@opcodes/
	* ppc-dis.c (powerpc_init_dialect): Do not set PPC_OPCODE_BOOKE
	for -Mbooke.
	(print_ppc_disassembler_options): Update usage.
	* ppc-opc.c (DE, DES, DEO, DE_MASK): Remove.
	(BOOKE64): Remove.
	(PPCCHLK64): Likewise.
	(powerpc_opcodes): Remove all BOOKE64 instructions.

gas/
	* config/tc-ppc.c (parse_cpu): Remove booke64 support. Update
	usage strings.
	(ppc_setup_opcodes): Likewise, remove booke64 support.
	* doc/c-ppc.texi (PowerPC-Opts): Remove -mbooke32 and -mbooke64.
	* doc/as.texinfo (Overview): Likewise.

binutils/
	* doc/binutils.texi (objdump): Update booke documentation.
	* NEWS: Document user-visible changes to command line options.
@
text
@d1 16
@


1.1404
log
@include/elf/
            * common.h (STT_IFUNC): Define.
elfcpp/
            * elfcpp.h (enum STT): Add STT_IFUNC.
bfd/
            * syms.c (struct bfd_symbol): Add new flag BSF_INDIRECT_FUNCTION.
            Remove redundant flag BFD_FORT_COMM_DEFAULT_VALUE.  Renumber flags
            to remove gaps.
            (bfd_print_symbol_vandf): Return 'i' for BSF_INDIRECT_FUNCTION.
            (bfd_decode_symclass): Likewise.
            * elf.c (swap_out_syms): Translate BSF_INDIRECT_FUNCTION into
            STT_IFUNC.
            (elf_find_function): Treat STT_IFUNC in the same way as STT_FUNC.
            (_bfd_elf_is_function_type): Likewise.
            * elf32-arm.c (arm_elf_find_function): Likewise.
            (elf32_arm_adjust_dynamic_symbol): Likewise.
            (elf32_arm_swap_symbol_in): Likewise.
            (elf32_arm_additional_program_headers): Likewise.
            * elf32-i386.c (is_indirect_symbol): New function.
            (elf_i386_check_relocs): Also generate dynamic relocs for
            relocations against STT_IFUNC symbols.
            (allocate_dynrelocs): Likewise.
            (elf_i386_relocate_section): Likewise.
            * elf64-x86-64.c (is_indirect_symbol): New function.
            (elf64_x86_64_check_relocs): Also generate dynamic relocs for
            relocations against STT_IFUNC symbols.
            (allocate_dynrelocs): Likewise.
            (elf64_x86_64_relocate_section): Likewise.
            * elfcode.h (elf_slurp_symbol_table): Translate STT_IFUNC into
            BSF_INDIRECT_FUNCTION.
            * elflink.c (_bfd_elf_adjust_dynamic_reloc_section): Add support
            for STT_IFUNC symbols.
            (get_ifunc_reloc_section_name): New function.
            (_bfd_elf_make_ifunc_reloc_section): New function.
            * elf-bfd.h (struct bfd_elf_section_data): Add indirect_relocs field.
            * bfd-in2.h: Regenerate.
gas/
            * config/obj-elf.c (obj_elf_type): Add support for STT_IFUNC type.
            * doc/as.texinfo: Document new feature.
            * NEWS: Mention new feature.
gas/testsuite/
            * gas/elf/type.s: Add test of STT_IFUNC symbol type.
            * gas/elf/type.e: Update expected disassembly.
            * gas/elf/elf.exp: Update grep of symbol types.
ld/
            * NEWS: Mention new feature.
            * pe-dll.c (process_def_file): Replace use of redundant
            BFD_FORT_COMM_DEFAULT_VALUE with 0.
            * scripttempl/elf.sc: Add .rel.ifunc.dyn and .rela.ifunc.dyn
            sections.
ld/testsuite/
            * ld-mips-elf/reloc-1-n32.d: Updated expected output for reloc
            descriptions.
            * ld-mips-elf/reloc-1-n64.d: Likewise.
            * ld-i386/ifunc.d: New test.
            * ld-i386/ifunc.s: Source file for the new test.
            * ld-i386/i386.exp: Run the new test.
@
text
@d1 9
@


1.1403
log
@

        * gas/cr16/pic-1.s: New.
        * gas/cr16/pic-1.d: New.
        * gas/cr16/pic-2.s: New.
        * gas/cr16/pic-2.d: New.
        * gas/cr16/pic.exp: Run pic tests.
@
text
@d1 6
@


1.1402
log
@	* gas/cris/rd-tls-1.d, gas/cris/rd-tls-1.s: Use a local thread
	variable instead of .text location for :GD decoration test.
@
text
@d1 8
@


1.1401
log
@Add support for ARM half-precision conversion instructions.
@
text
@d1 5
@


1.1400
log
@	* gas/cris/rd-bcnst2-pic.d, gas/cris/rd-bcnst2.d,
	gas/cris/rd-bcnst2.s: New tests.
@
text
@d1 9
@


1.1399
log
@	* config/tc-mips.c (COP_INSN): Change logic to always return false
	for FP instructions.

testsuite/
	* gas/mips/mips1-fp.s, testsuite/gas/mips/mips1-fp.d,
	testsuite/gas/mips/mips1-fp.l: New tests.
	* gas/mips/mips.exp: Run them.
@
text
@d1 5
@


1.1398
log
@2008-11-06  Chao-ying Fu  <fu@@mips.com>

	* gas/mips/mips32-sync.d, gas/mip/mips32-sync.s: New tests.
	* gas/mips/mips.exp: Run them.
@
text
@d1 6
@


1.1397
log
@2008-11-04  Sterling Augustine  <sterling@@tensilica.com>
	* config/tc-xtensa.c (xtensa_j_opcode): New.
	(xg_instruction_matches_option_term): Handle "FREEREG" option.
	(xg_build_to_insn): Likewise.  Update renamed tls_reloc reference.
	(md_begin): Initialize xtensa_j_opcode.
	(md_assemble): Update renamed tls_reloc reference.  Handle "j.l".
	(xg_assemble_vliw_tokens): Save free_reg info in the frag.
	(tinsn_immed_from_frag): Get free_reg info back out of the frag.
	(vinsn_to_insnbuf): Update renamed tls_reloc references.
	Distinguish extra argument for "FREEREG" from extra TLS argument.
	* config/tc-xtensa.h (struct xtensa_frag_type): Add free_reg field.
	* config/xtensa-istack.h (struct tinsn_struct): Rename tls_reloc
	field to extra_arg.
	* config/xtensa-relax.c (widen_spec_list): Add rules to relax "j.l".
	(build_transition): Handle "FREEREG" operand.
	* config/xtensa-relax.h (enum op_type): Add OP_FREEREG.
2008-11-04  Bob Wilson  <bob.wilson@@acm.org>
	* gas/xtensa/all.exp: Run jlong test.
	* gas/xtensa/jlong.d: New.
	* gas/xtensa/jlong.s: New.
@
text
@d1 5
@


1.1396
log
@gas/testsuite/

2008-11-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/intel.s: Add tests for cmovpe and cmovpo.
	* gas/i386/opcode.s: Likewise.

	* gas/i386/intel.d: Updated.
	* gas/i386/opcode.d: Likewise.
	* gas/i386/opcode-intel.d: Likewise.
	* gas/i386/opcode-suffix.d: Likewise.

opcodes/

2008-11-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-opc.tbl: Add cmovpe and cmovpo.
	* i386-tbl.h: Regenerated.
@
text
@d1 6
@


1.1395
log
@gas/

2008-10-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (processor_type): Moved to tc-i386.h.
	(cpu_arch_tune): Make it global.
	(cpu_arch_isa): Likewise.
	(cpu_arch_isa_flags): Likewise.
	(i386_align_code): Check fragP->tc_frag_data.isa,
	fragP->tc_frag_data.isa_flags and cpu_arch_tune instead of
	cpu_arch_isa, cpu_arch_isa_flags and cpu_arch_tune,
	respectively.

	* config/tc-i386.h (processor_type): Moved from tc-i386.c.
	(cpu_arch_tune): New.
	(cpu_arch_isa): Likewise.
	(cpu_arch_isa_flags): Likewise.
	(i386_tc_frag_data): Likewise.
	(TC_FRAG_TYPE): Likewise.
	(TC_FRAG_INIT): Likewise.

gas/testsuite/

2008-10-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run nops-5, nops-5-i686, x86-64-nops-5 and
	x86-64-nops-5-k8.

	* gas/i386/nops-5.d: New.
	* gas/i386/nops-5.s: Likewise.
	* gas/i386/nops-5-i686.d: Likewise.
	* gas/i386/x86-64-nops-5.d: Likewise.
	* gas/i386/x86-64-nops-5-k8.d: Likewise.
@
text
@d1 10
@


1.1394
log
@            * dwarf.c (display_debug_frames): Change text for uniformity.
            (process_debug_info): Likewise.
            (display_debug_aranges): Likewise.  Indent address output.
            (display_debug_pubnames): Print offset in hex.

            * binutils-all/objdump.W: Update.

            * gas/cfi/cfi-alpha-1.d, gas/cfi/cfi-alpha-3.d,
            gas/cfi/cfi-arm-1.d, gas/cfi/cfi-common-1.d,
            gas/cfi/cfi-common-2.d, gas/cfi/cfi-common-3.d,
            gas/cfi/cfi-common-4.d, gas/cfi/cfi-common-5.d,
            gas/cfi/cfi-common-6.d, gas/cfi/cfi-hppa-1.d,
            gas/cfi/cfi-i386-2.d, gas/cfi/cfi-i386.d, gas/cfi/cfi-m68k.d,
            gas/cfi/cfi-mips-1.d, gas/cfi/cfi-ppc-1.d, gas/cfi/cfi-s390-1.d,
            gas/cfi/cfi-s390x-1.d, gas/cfi/cfi-sh-1.d, gas/cfi/cfi-sparc-1.d,
            gas/cfi/cfi-sparc64-1.d, gas/cfi/cfi-x86_64.d: Update for readelf
            change.

            * ld-elf/eh1.d, ld-elf/eh2.d, ld-elf/eh3.d, ld-elf/eh4.d,
            ld-elf/eh5.d, ld-elf/eh6.d, ld-mips-elf/eh-frame1-n32.d,
            ld-mips-elf/eh-frame1-n64.d, ld-mips-elf/eh-frame2-n32.d,
            ld-mips-elf/eh-frame2-n64.d, ld-mips-elf/eh-frame3.d,
            ld-mips-elf/eh-frame4.d: Update for readelf change.
@
text
@d1 11
@


1.1393
log
@	* gas/cris/rd-tls-1.s, gas/cris/rd-tls-1.d, gas/cris/rd-tls-2.s,
	gas/cris/rd-tls-2.d, gas/cris/tls-err-1.s, gas/cris/tls-err-2.s,
	gas/cris/tls-err-3.s: New tests.
@
text
@d1 13
@


1.1392
log
@2008-09-26  Florian Krohm  <fkrohm@@us.ibm.com>

	* s390-opc.txt (thder, thdr): Change RRE_RR to RRE_FF.
	(cfxr, cfdr, cfer, clclu): Add esa flag.
	(sqd): Instruction added.
	(qadtr, qaxtr): Change RRF_FFFU to RRF_FUFF.
	* s390-opc.c: (INSTR_RRF_FFFU, MASK_RRF_FFFU): Removed.

2008-09-26  Andreas Krebbel  <krebbel1@@de.ibm.com>

	* gas/s390/esa-g5.d: Adjust according to the s390-opc changes.
	* gas/s390/esa-g5.s: Likewise.
	* gas/s390/esa-z990.d: Likewise.
	* gas/s390/esa-z990.s: Likewise.
	* gas/s390/zarch-z900.d: Likewise.
	* gas/s390/zarch-z900.s: Likewise.
	* gas/s390/zarch-z990.d: Likewise.
	* gas/s390/zarch-z990.s: Likewise.
@
text
@d1 6
@


1.1391
log
@	* gas/all/gas.exp: Don't run redef tests on a bunch of targets.
	* gas/elf/elf.exp: Likewise.
@
text
@d1 11
@


1.1390
log
@Add new tests for z80
@
text
@d1 5
@


1.1389
log
@gas/testsuite/

2008-09-11  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/sse2avx.s: Remove pclmulXXX tests.  Add tests for
	Intel syntax.
	* gas/i386/x86-64-sse2avx.s: Likewise.

	* gas/i386/sse2avx.d: Updated.
	* gas/i386/x86-64-sse2avx.d: Likewise.

opcodes/

2008-09-11  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-opc.tbl: Fix memory operand size for cmpXXXs[sd].
	* i386-tbl.h: Regenerated.
@
text
@d1 12
@


1.1388
log
@gas/
	* config/tc-ppc.c (ppc_setup_opcodes): Simplify POWER4/NOPOWER4 test.
	Remove POWER5 and POWER6 tests.

gas/testsuite/
	* gas/ppc/common.s: New test.
	* gas/ppc/common.d: Likewise.
	* gas/ppc/power4_32.s: Likewise.
	* gas/ppc/power4_32.d: Likewise.
	* gas/ppc/power6.s: Add attn, mtcr, mtcrf, mfcr, dcbz.
	* gas/ppc/power6.d: Likewise.
	* gas/ppc/ppc.exp: Run power4_32 test.
@
text
@d1 9
@


1.1387
log
@gas/
	* config/tc-mips.h (DWARF2_FDE_RELOC_SIZE): Define.

gas/testsuite/
	* gas/mips/cfi-n64-1.s, gas/mips/cfi-n64-1.d: New test.
	* gas/mips/mips.exp: Run it.
@
text
@d1 10
@


1.1387.2.1
log
@	* gas/all/gas.exp: Don't run redef tests on a bunch of targets.
	* gas/elf/elf.exp: Likewise.
@
text
@a0 5
2008-09-15  Alan Modra  <amodra@@bigpond.net.au>

	* gas/all/gas.exp: Don't run redef tests on a bunch of targets.
	* gas/elf/elf.exp: Likewise.

@


1.1387.2.2
log
@	* config/tc-mips.c (NO_ISA_COP): New macro.
	(COP_INSN): New macro.
	(is_opcode_valid): Use them.
	(macro) <ld_st>: Use them.  Don't accept coprocessor load store
	insns based on the ISA if CPU is NO_ISA_COP.
	<copz>: Likewise for coprocessor operations.

testsuite/
	* gas/mips/mips1-fp.s, gas/mips/mips1-fp.d, gas/mips/mips1-fp.l:
	New tests.
	* gas/mips/mips.exp: Run them.
@
text
@a0 6
2009-01-08  Adam Nemet  <anemet@@caviumnetworks.com>

	* gas/mips/mips1-fp.s, gas/mips/mips1-fp.d, gas/mips/mips1-fp.l:
	New tests.
	* gas/mips/mips.exp: Run them.

@


1.1387.2.3
log
@backport 2008-09-09  Peter Bergner  <bergner@@vnet.ibm.com>
@
text
@a0 11
2009-03-02  Alan Modra  <amodra@@bigpond.net.au>

	2008-09-09  Peter Bergner  <bergner@@vnet.ibm.com>
	* gas/ppc/common.s: New test.
	* gas/ppc/common.d: Likewise.
	* gas/ppc/power4_32.s: Likewise.
	* gas/ppc/power4_32.d: Likewise.
	* gas/ppc/power6.s: Add attn, mtcr, mtcrf, mfcr, dcbz.
	* gas/ppc/power6.d: Likewise.
	* gas/ppc/ppc.exp: Run power4_32 test.

@


1.1387.2.4
log
@backport 2008-12-04  Ben Elliston  <bje@@au.ibm.com>
@
text
@a2 8
	2008-12-04  Ben Elliston  <bje@@au.ibm.com>
	* gas/ppc/booke.s: Remove booke64 instructions.
	* gas/ppc/booke.d: Update expected disassembly output.
	* gas/ppc/booke_xcoff.s: Use -mbooke/-Mbooke.
	* gas/ppc/booke_xcoff.d: Likewise.
	* gas/ppc/booke_xcoff64.d: Likewise.
	* gas/ppc/booke_xcoff64.s: Likewise.

@


1.1387.2.5
log
@backport 2009-01-14  Peter Bergner  <bergner@@vnet.ibm.com>
@
text
@a2 4
	2009-01-14  Peter Bergner  <bergner@@vnet.ibm.com>
	* gas/ppc/power6.s ("mtfsf", "mtfsf.", "mtfsfi", "mtfsfi."): Add tests.
	* gas/ppc/power6.d: Likewise.

@


1.1387.2.6
log
@backport 2009-02-05  Peter Bergner  <bergner@@vnet.ibm.com>
@
text
@a2 6
	2009-02-05  Peter Bergner  <bergner@@vnet.ibm.com>
	* gas/ppc/booke.s ("dcbt", "dcbtst"): New tests.
	* gas/ppc/booke.d: Likewise.
	* gas/ppc/power4_32.s: Likewise.
	* gas/ppc/power4_32.d: Likewise.

@


1.1387.2.7
log
@backport 2009-02-19  Peter Bergner  <bergner@@vnet.ibm.com>
@
text
@a2 4
	2009-02-19  Peter Bergner  <bergner@@vnet.ibm.com>
	* gas/ppc/e500mc.d ("lfdepx", "stfdepx"): Fix tests to expect a
	floating point register.

@


1.1387.2.8
log
@backport 2009-02-26  Peter Bergner  <bergner@@vnet.ibm.com>
@
text
@a2 20
	2009-02-26  Peter Bergner  <bergner@@vnet.ibm.com>
	* gas/ppc/e500mc.d ("wait", "waitsrv", "waitimpl"): Add tests.
	* gas/ppc/e500mc.s: Likewise.
	* gas/ppc/power6.d ("cdtbcd", "cbcdtd", "addg6s"): Add tests.
	* gas/ppc/power6.s: Likewise.
	* gas/ppc/power7.d ("lfdpx", "mffgpr", "mftgpr"): Remove invalid tests.
	("wait", "waitsrv", "waitimpl", "divwe", "divwe.", "divweo", "divweo.",
	"divweu", "divweu.", "divweuo", "divweuo.", "bpermd", "popcntw",
	"popcntd", "ldbrx", "stdbrx", "lfiwzx", "lfiwzx", "fcfids", "fcfids.",
	"fcfidus", "fcfidus.", "fctiwu", "fctiwu.", "fctiwuz", "fctiwuz.",
	"fctidu", "fctidu.", "fctiduz", "fctiduz.", "fcfidu", "fcfidu.",
	"ftdiv", "ftdiv", "ftsqrt", "ftsqrt", "dcbtt", "dcbtstt", "dcffix",
	"dcffix.", "lbarx", "lbarx", "lbarx", "lharx", "lharx", "lharx",
	"stbcx.", "sthcx.", "fre", "fre.", "fres", "fres.", "frsqrte",
	"frsqrte.", "frsqrtes", "frsqrtes.", "isel"): Add tests.
	* gas/ppc/power7.s: Likewise.
	* gas/ppc/vsx.d: New test.
	* gas/ppc/vsx.s: Likewise.
	* gas/ppc/ppc.exp: Run it.

@


1.1386
log
@        * gas/arm/abs12.d: Update expected disassembly.
        * gas/arm/tls_vxworks.d: Likewise.
        * gas/arm/unwind_vxworks.d: Likewise.
        * gas/arm/group-reloc-alu-encoding-bad.d: Skip for vxworks
        targets.
        * gas/arm/group-reloc-alu.d: Likewise.
        * gas/arm/group-reloc-ldc-encoding-bad.d: Likewise.
        * gas/arm/group-reloc-ldc.d: Likewise.
        * gas/arm/group-reloc-ldr-encoding-bad.d: Likewise.
        * gas/arm/group-reloc-ldr.d: Likewise.
        * gas/arm/group-reloc-ldrs-encoding-bad.d: Likewise.
        * gas/arm/group-reloc-ldrs.d: Likewise.
        * gas/arm/local_function.d: Likewise.
        * gas/arm/mapshort-elf.d: Likewise.
        * gas/arm/undefined.d: Likewise.
@
text
@d1 5
@


1.1385
log
@        * lib/gas-defs.exp (run_dump_test): If the test expects an error,
        fail the test if gas doesn't report an error.
@
text
@d1 18
@


1.1384
log
@gas/testsuite/
2008-08-28  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/intel.s: Add retf.
	* gas/i386/intel.{d,e}: Adjust.
	* gas/i386/opcode-intel.d: Replace lret with retf.

opcodes/
2008-08-28  Jan Beulich  <jbeulich@@novell.com>

	* i386-dis.c (dis386): Adjust far return mnemonics.
	* i386-opc.tbl: Add retf.
	* i386-tbl.h: Re-generate.
@
text
@d1 5
@


1.1383
log
@gas/testsuite/
2008-08-28  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/gas/i386/opcode-suffix.d: Add suffixes to cmovXX.

opcodes/
2008-08-28  Jan Beulich  <jbeulich@@novell.com>

	* i386-dis.c (dis386_twobyte): Adjust cmovXX mnemonics.
@
text
@d3 6
@


1.1382
log
@gas/

2008-08-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-ia64.c (CR_IIB0): New.
	(CR_IIB1): Likewise.
	(cr): Add cr.iib0 and cr.iib1.
	(specify_resource): Handle IA64_RS_CR_IIB and CR_IIB0/CR_IIB1.

gas/testsuite/

2008-08-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/ia64/dv-raw-err.s: Add tests for cr.iib0 and cr.iib1.
	* gas/ia64/dv-waw-err.s: Likewise.
	* gas/ia64/regs.s: Likewise.

	* gas/ia64/dv-raw-err.l: Updated.
	* gas/ia64/dv-waw-err.l: Likewise.
	* gas/ia64/regs.d: Likewise.

include/opcode/

2008-08-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* ia64.h (ia64_resource_specifier): Add IA64_RS_CR_IIB.  Update
	IA64_RS_CR.

opcodes/

2008-08-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* ia64-dis.c (print_insn_ia64): Handle cr.iib0 and cr.iib1.
	* ia64-gen.c (lookup_specifier): Likewise.

	* ia64-ic.tbl: Add support for cr.iib0 and cr.iib1.
	* ia64-raw.tbl: Likewise.
	* ia64-waw.tbl: Likewise.
	* ia64-asmtab.c: Regenerated.
@
text
@d1 4
@


1.1381
log
@gas/
2008-08-28  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-i386.c (md_assemble): Force number of displacement
	operands to zero when processing string instruction.
	(i386_index_check): Special-case string instruction operands. Don't
	fudge address prefix if there already was a memory operand. Fix
	error message to correctly reflect the addressing mode used.
	(i386_att_operand): Fix comment.
	(i386_intel_operand): Snapshot, clear, and restore base and index
	reg for each operand processed. Increment count of memory operands
	later.

gas/testsuite/
2008-08-28  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/string-bad.{l,s}, gas/i386/string-ok.{d,e,s}: New.
	* gas/i386/i386.exp: Run new tests.
@
text
@d1 10
@


1.1380
log
@gas/testsuite/

2008-08-27  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/intel.s: Add tests for fidivr.

	* gas/i386/intel.d: Updated.

opcodes/

2008-08-27  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-opc.tbl: Correct fidivr operand size.

	* i386-tbl.h: Regenerated.
@
text
@d1 5
@


1.1379
log
@	* config/bfin-parse.y (check_macfunc_option): Fix instruction
	mode checking.
	(asm_1): Check mode for 16-bit multiply instructions.

	testsuite/
	* gas/bfin/arith_mode.d: New test.
	* gas/bfin/arith_mode.s: New test.
	* gas/bfin/invalid_arith_mode.l: New test.
	* gas/bfin/invalid_arith_mode.s: New test.
	* gas/bfin/bfin.exp: Add arith_mode and invalid_arith_mode.
@
text
@d1 6
@


1.1378
log
@	* config/bfin-lex.l (NUMBER): Protect special `.'.

	testsuite/
	* gas/bfin/misc.s: New test.
	* gas/bfin/misc.d: New test.
	* gas/bfin/bfin.exp: Add misc test.
@
text
@d1 8
@


1.1377
log
@        * gas/cfi/cfi-common-1.d: Allow for differing offsets, and
        for DW_CFA_offset_extended_sf results.  Allow for differing nops.
        * gas/cfi/cfi-hppa-1.d: Invert data alignment sign.  Change
        offsets to match 64-bit offsets.
        * gas/cfi/cfi.exp: Don't run common tests on hppa64.
@
text
@d1 6
@


1.1376
log
@2008-08-20  Bob Wilson  <bob.wilson@@acm.org>
        * gas/all/gas.exp: Expect the redef test to fail on Xtensa.
@
text
@d1 8
@


1.1375
log
@gas/

2008-08-20  H.J. Lu  <hongjiu.lu@@intel.com>

	AVX Programming Reference (August, 2008)
	* config/tc-i386.c (CPU_FLAGS_AES_MATCH): New.
	(CPU_FLAGS_AVX_MATCH): Likewise.
	(CPU_FLAGS_32BIT_MATCH): Updated.
	(cpu_flags_match): Likewise.

gas/testsuite/

2008-08-20  H.J. Lu  <hongjiu.lu@@intel.com>

	AVX Programming Reference (August, 2008)
	* gas/i386/avx.s: Add AES + AVX tests.
	* gas/i386/arch-10.s: Likewise.
	* gas/i386/sse2avx.s: Likewise.
	* gas/i386/x86-64-arch-2.s: Likewise.
	* gas/i386/x86-64-avx.s: Likewise.
	* gas/i386/x86-64-sse2avx.s: Likewise.

	* gas/i386/arch-10.d: Updated.
	* gas/i386/arch-10-1.l: Likewise.
	* gas/i386/arch-10-2.l: Likewise.
	* gas/i386/arch-10-3.l: Likewise.
	* gas/i386/arch-10-4.l: Likewise.
	* gas/i386/avx.d: Likewise.
	* gas/i386/avx-intel.d: Likewise.
	* gas/i386/sse2avx.d: Likewise.
	* gas/i386/x86-64-arch-2.d: Likewise.
	* gas/i386/x86-64-avx.d: Likewise.
	* gas/i386/x86-64-avx-intel.d: Likewise.
	* gas/i386/x86-64-sse2avx.d: Likewise.

	* gas/i386/i386.exp: Run arch-avx-1, arch-avx-1-1 and
	arch-avx-1-2.

	* gas/i386/arch-avx-1.d: New.
	* gas/i386/arch-avx-1.s: Likewise.
	* gas/i386/arch-avx-1-1.l: Likewise.
	* gas/i386/arch-avx-1-1.s: Likewise.
	* gas/i386/arch-avx-1-2.l: Likewise.
	* gas/i386/arch-avx-1-2.s: Likewise.

opcodes/

2008-08-20  H.J. Lu  <hongjiu.lu@@intel.com>

	AVX Programming Reference (August, 2008)
	* i386-dis.c (PREFIX_VEX_38DB): New.
	(PREFIX_VEX_38DC): Likewise.
	(PREFIX_VEX_38DD): Likewise.
	(PREFIX_VEX_38DE): Likewise.
	(PREFIX_VEX_38DF): Likewise.
	(PREFIX_VEX_3ADF): Likewise.
	(VEX_LEN_38DB_P_2): Likewise.
	(VEX_LEN_38DC_P_2): Likewise.
	(VEX_LEN_38DD_P_2): Likewise.
	(VEX_LEN_38DE_P_2): Likewise.
	(VEX_LEN_38DF_P_2): Likewise.
	(VEX_LEN_3ADF_P_2): Likewise.
	(PREFIX_VEX_3A04): Updated.
	(VEX_LEN_3A06_P_2): Likewise.
	(prefix_table): Add PREFIX_VEX_38DB, PREFIX_VEX_38DC,
	PREFIX_VEX_38DD, PREFIX_VEX_38DE and PREFIX_VEX_3ADF.
	(x86_64_table): Likewise.
	(vex_len_table): Add VEX_LEN_38DB_P_2, VEX_LEN_38DC_P_2,
	VEX_LEN_38DD_P_2, VEX_LEN_38DE_P_2, VEX_LEN_38DF_P_2 and
	VEX_LEN_3ADF_P_2.

	* i386-opc.tbl: Add AES + AVX instructions.
	* i386-init.h: Regenerated.
	* i386-tbl.h: Likewise.
@
text
@d1 4
@


1.1374
log
@2008-08-15  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* s390-opc.c (INSTR_RRF_FFRU, MASK_RRF_FFRU): New instruction format.
	* s390-opc.txt (lxr, rrdtr, rrxtr): Fix instruction format.

2008-08-15  Andreas Krebbel  <Andreas.Krebbel@@de.ibm.com>

	* gas/s390/esa-g5.d: lxr operands are floating point.
	* gas/s390/esa-g5.s: Likewise.
	* gas/testsuite/gas/s390/zarch-z9-ec.d: rrdtr, rrxtr third
	operands is gpr.
	* gas/testsuite/gas/s390/zarch-z9-ec.s: Likewise.
@
text
@d1 33
@


1.1373
log
@gas/testsuite/

2008-08-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/amd.s: Add syscall and sysret.  Remove padding.

	* gas/i386/amd.d: Updated.
	* gas/i386/x86-64-opcode.d: Likewise.

	* gas/i386/i386.exp: Run x86-64-intel64.

	* gas/i386/x86-64-intel64.d: New.
	* gas/i386/x86-64-intel64.s: Likewise.

	* gas/i386/x86-64-opcode.s: Add syscall and sysret.

opcodes/

2008-08-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-opc.tbl: Add syscall and sysret for Cpu64.

	* i386-tbl.h: Regenerated.
@
text
@d1 8
@


1.1372
log
@2008-08-08  Richard Sandiford  <rdsandiford@@googlemail.com>
	    Daniel Jacobowitz  <dan@@codesourcery.com>
	    Catherine Moore  <clm@@codesourcery.com>
	    Mark Shinwell  <shinwell@@codesourcery.com>
	    Maxim Kuvyrkov  <maxim@@codesourcery.com>

	* elf32-mips.c (mips_vxworks_copy_howto_rela): Replace with...
	(elf_mips_copy_howto): ...this howto.  Clear the size fields.
	(mips_vxworks_jump_slot_howto_rela): Replace with...
	(elf_mips_jump_slot_howto): ...this howto.
	(bfd_elf32_bfd_reloc_type_lookup): Handle BFD_RELOC_MIPS_COPY
	and BFD_RELOC_MIPS_JUMP_SLOT.
	(bfd_elf32_bfd_reloc_name_lookup): Handle "R_MIPS_COPY" and
	"R_MIPS_JUMP_SLOT".
	(mips_elf32_rtype_to_howto): Handle R_MIPS_COPY and R_MIPS_JUMP_SLOT.
	(elf_backend_plt_readonly): Define.
	(elf_backend_plt_sym_val): Define for non-VxWorks targets.
	(mips_vxworks_bfd_reloc_type_lookup): Delete.
	(mips_vxworks_bfd_reloc_name_lookup): Likewise.
	(mips_vxworks_rtype_to_howto): Likewise.
	(elf_backend_want_dynbss): Don't define for VxWorks.
	(elf_backend_plt_readonly): Likewise.
	(bfd_elf32_bfd_reloc_type_lookup): Likewise.
	(bfd_elf32_bfd_reloc_name_lookup): Likewise.
	(elf_backend_mips_rtype_to_howto): Likewise.
	(elf_backend_adjust_dynamic_symbol): Likewise.
	(elf_backend_got_symbol_offset): Don't define.
	* elfn32-mips.c (elf_mips_copy_howto, elf_mips_jump_slot_howto): New.
	(bfd_elf32_bfd_reloc_type_lookup): Handle BFD_RELOC_MIPS_COPY
	and BFD_RELOC_MIPS_JUMP_SLOT.
	(bfd_elf32_bfd_reloc_name_lookup): Handle "R_MIPS_COPY" and
	"R_MIPS_JUMP_SLOT".
	(mips_elf32_n32_rtype_to_howto): Handle R_MIPS_COPY and
	R_MIPS_JUMP_SLOT.
	(elf_backend_rela_plts_and_copies_p, elf_backend_plt_readonly)
	(elf_backend_plt_sym_val): Define.
	* elf64-mips.c (elf_mips_copy_howto, elf_mips_jump_slot_howto): New.
	(bfd_elf64_bfd_reloc_type_lookup): Handle BFD_RELOC_MIPS_COPY
	and BFD_RELOC_MIPS_JUMP_SLOT.
	(bfd_elf64_bfd_reloc_name_lookup): Handle "R_MIPS_COPY" and
	"R_MIPS_JUMP_SLOT".
	(mips_elf64_rtype_to_howto): Handle R_MIPS_COPY and R_MIPS_JUMP_SLOT.
	(elf_backend_rela_plts_and_copies_p, elf_backend_plt_readonly)
	(elf_backend_plt_sym_val): Define.
	* elfxx-mips.h (_bfd_mips_vxworks_adjust_dynamic_symbol): Delete.
	(_bfd_mips_elf_use_plts_and_copy_relocs, _bfd_mips_elf_init_stubs)
	(_bfd_mips_elf_plt_sym_val, _bfd_mips_post_process_headers): Declare.
	* elfxx-mips.c (mips_elf_la25_stub): New structure.
	(LA25_LUI, LA25_J, LA25_ADDIU): New macros.
	(mips_elf_link_hash_entry): Add "la25_stubs", "has_static_relocs"
	and "has_nonpic_branches" fields.  Remove "is_relocation_target" and
	"is_branch_target".
	(mips_elf_link_hash_table): Add blank lines.  Add
	"use_plts_and_copy_relocs", "reserved_gotno", "strampoline",
	"la25_stubs" and "add_stub_section" fields.
	(mips_htab_traverse_info): New structure.
	(PIC_OBJECT_P, MIPS_ELF_LOAD_WORD): New macros.
	(MIPS_RESERVED_GOTNO): Delete.
	(mips_o32_exec_plt0_entry, mips_n32_exec_plt0_entry)
	(mips_n64_exec_plt0_entry, mips_exec_plt_entry): New tables.
	(mips_elf_link_hash_newfunc): Update after the changes to
	mips_elf_link_hash_entry.
	(mips_elf_check_mips16_stubs): Replace the DATA parameter with
	an INFO parameter.  Don't look through warnings symbols here;
	do it in mips_elf_check_symbols instead.
	(mips_elf_create_stub_symbol): New function.
	(mips_elf_la25_stub_hash, mips_elf_la25_stub_eq): New functions.
	(_bfd_mips_elf_init_stubs, mips_elf_local_pic_function_p): Likewise.
	(mips_elf_add_la25_intro, mips_elf_add_la25_trampoline): Likewise.
	(mips_elf_add_la25_stub, mips_elf_check_symbols): New functions.
	(mips_elf_gotplt_index): Check for VxWorks.
	(mips_elf_output_dynamic_relocation): Take the relocation index
	as an extra parameter.  Do not increment reloc_count here.
	(mips_elf_initialize_tls_slots): Update the calls to
	mips_elf_output_dynamic_relocation accordingly.
	(mips_elf_multi_got): Use htab->reserved_gotno instead of
	MIPS_RESERVED_GOTNO.
	(mips_elf_create_got_section): Don't allocate reserved GOT
	entries here.  Unconditionally create .got.plt, but don't
	set its alignment here.
	(mips_elf_relocation_needs_la25_stub): New function.
	(mips_elf_calculate_relocation): Redirect branches and jumps to
	a non-PIC stub if one exists.  Check !h->has_static_relocs instead
	of !htab->is_vxworks when deciding whether to create dynamic
	relocations for R_MIPS_32, R_MIPS_REL32 and R_MIPS_64.
	(_bfd_mips_elf_create_dynamic_sections): Unconditionally call
	_bfd_elf_create_dynamic_sections.  Unconditionally set up
	htab->splt and htab->sdynbss.  Set htab->srelplt to ".rel.plt"
	if !htab->is_vxworks.  Add non-VxWorks values of
	htab->plt_header_size and htab->plt_entry_size.
	(_bfd_mips_elf_check_relocs): Set pointer_equality_needed for
	non-branch static relocations.  Set has_nonpic_branches when an la25
	stub might be required.  Set can_make_dynamic_p to TRUE if R_MIPS_32,
	R_MIPS_REL32 and R_MIPS_64 relocations can be made dynamic,
	rather than duplicating the condition.  Do not make them dynamic
	for read-only sections in non-PIC executable objects.
	Do not protect this code with dynobj == NULL || htab->sgot == NULL;
	handle each group of cases separately.  Add a default case that
	sets has_static_relocs for non-GOT relocations that cannot be
	made dynamic.  Don't set is_relocation_target and is_branch_target.
	Reject non-PIC static relocations in shared objects.
	(_bfd_mips_vxworks_adjust_dynamic_symbol): Fold into...
	(_bfd_mips_elf_adjust_dynamic_symbol): ...here, using
	htab->use_plts_and_copy_relocs instead of htab->is_vxworks
	to select PLT and copy-reloc handling.  Set the alignment of
	.plt and .got.plt when allocating the first entry.  Generalize
	code to handle REL as well as RELA sections and 64-bit as well as
	32-bit GOT entries.  Complain if we find a static-only reloc
	against an externally-defined symbol and if we cannot create
	dynamic relocations for it.  Allocate copy relocs using
	mips_elf_allocate_dynamic_relocations on non-VxWorks targets.
	Set possibly_dynamic_relocs to 0 when using PLTs or copy relocs.
	Skip reserved .got.plt entries.
	(_bfd_mips_elf_always_size_sections): Use mips_elf_check_symbols
	instead of mips_elf_check_mips16_stubs to process each symbol.
	Do the traversal for relocatable objects too.
	(mips_elf_lay_out_got): Use htab->reserved_gotno instead of
	MIPS_RESERVED_GOTNO.
	(_bfd_mips_elf_size_dynamic_sections): Exclude sdynbss if it
	is empty.  Extend the DT_PLTREL, DT_JMPREL and DT_PLTRELSZ handling
	to non-VxWorks targets.  Only add DT_REL{,A}, DT_REL{,A}SZ and
	DT_REL{,A}ENT if .rel.dyn is nonempty.  Create a symbol for the
	PLT.  Allocate a nop at the end of the PLT.  Allocate DT_MIPS_PLTGOT.
	(mips_elf_create_la25_stub_info): New function.
	(_bfd_mips_elf_finish_dynamic_symbol): Write out PLT entries
	and copy relocs where necessary.  Check pointer_equality_needed.
	(mips_finish_exec_plt): New function.
	(_bfd_mips_elf_finish_dynamic_sections): Always set DT_PLTGOT
	to the beginning of htab->sgot.  Use htab->reserved_gotno instead
	of MIPS_RESERVED_GOTNO.  Assert htab->use_plts_and_copy_relocs
	instead of htab->is_vxworks for DT_PLTREL, DT_PLTRELSZ and DT_JMPREL.
	Set DT_PLTREL to DT_REL instead of DT_RELA on non-VxWorks targets.
	Use mips_finish_exec_plt to create non-VxWorks PLT headers.  Set
	DT_MIPS_PLTGOT.
	(_bfd_mips_elf_copy_indirect_symbol): Copy has_static_relocs
	from the indirect symbol to the direct symbol.  Also copy
	has_nonpic_branches for indirect symbols.
	(_bfd_mips_elf_get_target_dtag): Handle DT_MIPS_PLTGOT and
	DT_MIPS_RWPLT.
	(_bfd_mips_elf_link_hash_table_create): Initialize the new
	mips_elf_link_hash_table fields.
	(_bfd_mips_vxworks_link_hash_table_create): Set
	use_plts_and_copy_relocs to TRUE.  Use TRUE rather than 1
	when setting is_vxworks.
	(_bfd_mips_elf_use_plts_and_copy_relocs): New function.
	(_bfd_mips_elf_final_link): Call mips_elf_create_la25_stub for
	each la25_stub.
	(_bfd_mips_elf_merge_private_bfd_data): Treat dynamic objects
	as PIC.  Generalize message about linking PIC and non-PIC.
	(_bfd_mips_elf_plt_sym_val, _bfd_mips_post_process_headers): New
	functions.
	* reloc.c: Update comment near BFD_RELOC_MIPS_JUMP_SLOT.
	* bfd-in2.h: Regenerated.

2008-08-08  Richard Sandiford  <rdsandiford@@googlemail.com>
	    Daniel Jacobowitz  <dan@@codesourcery.com>
	    Catherine Moore  <clm@@codesourcery.com>
	    Mark Shinwell  <shinwell@@codesourcery.com>

	* readelf.c (get_mips_symbol_other): Handle STO_MIPS_PLT and
	STO_MIPS_PIC.
	(slurp_rela_relocs, slurp_rel_relocs): Handle MIPS ELF64 here.
	(dump_relocations, debug_apply_relocations): Don't handle it here.
	(get_mips_dynamic_type): Handle DT_MIPS_PLTGOT and DT_MIPS_RWPLT.
	(print_mips_pltgot_entry): New function.
	(process_mips_specific): Dump the PLT GOT.

2008-08-08  Richard Sandiford  <rdsandiford@@googlemail.com>
	    Daniel Jacobowitz  <dan@@codesourcery.com>

	* config/tc-mips.c (OPTION_CALL_NONPIC): New macro.
	(OPTION_NON_SHARED, OPTION_XGOT, OPTION_MABI, OPTION_32)
	(OPTION_N32, OPTION_64, OPTION_MDEBUG, OPTION_NO_MDEBUG)
	(OPTION_PDR, OPTION_NO_PDR, OPTION_MVXWORKS_PIC): Bump by 1.
	(md_longopts): Add -call_nonpic.
	(md_parse_option): Handle OPTION_CALL_NONPIC.
	(md_show_usage): Add -call_nonpic.

2008-08-08  Richard Sandiford  <rdsandiford@@googlemail.com>

	* gas/mips/call-nonpic-1.s, gas/mips/call-nonpic-1.d: New test.
	* gas/mips/mips.exp: Run it.

2008-08-08  Richard Sandiford  <rdsandiford@@googlemail.com>
	    Daniel Jacobowitz  <dan@@codesourcery.com>
	    Catherine Moore  <clm@@codesourcery.com>
	    Mark Shinwell  <shinwell@@codesourcery.com>

	* mips.h (STO_MIPS_PLT, ELF_ST_IS_MIPS_PLT, ELF_ST_SET_MIPS_PLT)
	(STO_MIPS_PIC, DT_MIPS_PLTGOT, DT_MIPS_RWPLT): New macros.

2008-08-08  Richard Sandiford  <rdsandiford@@googlemail.com>
	    Daniel Jacobowitz  <dan@@codesourcery.com>

	* emulparams/elf32bmip.sh (GOT): Define, moving .got.plt to...
	(OTHER_RELRO_SECTIONS, OTHER_READWRITE_SECTIONS): ...one of these
	two variables.
	* emulparams/elf32bmipn32-defs.sh: Likewise.
	* emultempl/mipself.em: Include ldctor.h, elf/mips.h and elfxx-mips.h.
	(is_mips_elf): New macro.
	(stub_file, stub_bfd): New variables.
	(hook_stub_info): New structure.
	(hook_in_stub): New function.
	(mips_add_stub_section): Likewise.
	(mips_create_output_section_statements): Likewise.
	(mips_before_allocation): Likewise.
	(real_func): New variable.
	(mips_for_each_input_file_wrapper): New function.
	(mips_lang_for_each_input_file): Likewise.
	(lang_for_each_input_file): Define.
	(LDEMUL_BEFORE_ALLOCATION): Likewise.
	(LDEMUL_CREATE_OUTPUT_SECTION_STATEMENTS): Likewise.

2008-08-08  Richard Sandiford  <rdsandiford@@googlemail.com>
	    Daniel Jacobowitz  <dan@@codesourcery.com>

	* ld-mips-elf/mips16-pic-3a.s,
	ld-mips-elf/mips16-pic-3b.s,
	ld-mips-elf/mips16-pic-3.dd,
	ld-mips-elf/mips16-pic-3.gd,
	ld-mips-elf/mips16-pic-3.rd,
	ld-mips-elf/mips16-pic-3.inc,
	ld-mips-elf/pic-and-nonpic-1a.s,
	ld-mips-elf/pic-and-nonpic-1b.s,
	ld-mips-elf/pic-and-nonpic-1.ld,
	ld-mips-elf/pic-and-nonpic-1.dd,
	ld-mips-elf/pic-and-nonpic-1.nd,
	ld-mips-elf/pic-and-nonpic-1-rel.dd,
	ld-mips-elf/pic-and-nonpic-1-rel.nd,
	ld-mips-elf/pic-and-nonpic-2a.s,
	ld-mips-elf/pic-and-nonpic-2b.s,
	ld-mips-elf/pic-and-nonpic-2.d,
	ld-mips-elf/pic-and-nonpic-3a.s,
	ld-mips-elf/pic-and-nonpic-3a.ld,
	ld-mips-elf/pic-and-nonpic-3a.dd,
	ld-mips-elf/pic-and-nonpic-3a.gd,
	ld-mips-elf/pic-and-nonpic-3a.sd,
	ld-mips-elf/pic-and-nonpic-3b.s,
	ld-mips-elf/pic-and-nonpic-3b.ld,
	ld-mips-elf/pic-and-nonpic-3b.ad,
	ld-mips-elf/pic-and-nonpic-3b.dd,
	ld-mips-elf/pic-and-nonpic-3b.gd,
	ld-mips-elf/pic-and-nonpic-3b.nd,
	ld-mips-elf/pic-and-nonpic-3b.pd,
	ld-mips-elf/pic-and-nonpic-3b.rd,
	ld-mips-elf/pic-and-nonpic-3b.sd,
	ld-mips-elf/pic-and-nonpic-3-error.d,
	ld-mips-elf/pic-and-nonpic-4a.s,
	ld-mips-elf/pic-and-nonpic-4b.s,
	ld-mips-elf/pic-and-nonpic-4b.ld,
	ld-mips-elf/pic-and-nonpic-4b.ad,
	ld-mips-elf/pic-and-nonpic-4b.dd,
	ld-mips-elf/pic-and-nonpic-4b.gd,
	ld-mips-elf/pic-and-nonpic-4b.nd,
	ld-mips-elf/pic-and-nonpic-4b.rd,
	ld-mips-elf/pic-and-nonpic-4b.sd,
	ld-mips-elf/pic-and-nonpic-4-error.d,
	ld-mips-elf/pic-and-nonpic-5a.s,
	ld-mips-elf/pic-and-nonpic-5b.s,
	ld-mips-elf/pic-and-nonpic-5b.ld,
	ld-mips-elf/pic-and-nonpic-5b.ad,
	ld-mips-elf/pic-and-nonpic-5b.dd,
	ld-mips-elf/pic-and-nonpic-5b.gd,
	ld-mips-elf/pic-and-nonpic-5b.nd,
	ld-mips-elf/pic-and-nonpic-5b.rd,
	ld-mips-elf/pic-and-nonpic-5b.sd,
	ld-mips-elf/pic-and-nonpic-5b.pd,
	ld-mips-elf/pic-and-nonpic-6.ld,
	ld-mips-elf/pic-and-nonpic-6-o32a.s,
	ld-mips-elf/pic-and-nonpic-6-o32b.s,
	ld-mips-elf/pic-and-nonpic-6-o32c.s,
	ld-mips-elf/pic-and-nonpic-6-o32.ad,
	ld-mips-elf/pic-and-nonpic-6-o32.dd,
	ld-mips-elf/pic-and-nonpic-6-o32.gd,
	ld-mips-elf/pic-and-nonpic-6-o32.nd,
	ld-mips-elf/pic-and-nonpic-6-o32.pd,
	ld-mips-elf/pic-and-nonpic-6-o32.rd,
	ld-mips-elf/pic-and-nonpic-6-o32.sd,
	ld-mips-elf/pic-and-nonpic-6-n32a.s,
	ld-mips-elf/pic-and-nonpic-6-n32b.s,
	ld-mips-elf/pic-and-nonpic-6-n32c.s,
	ld-mips-elf/pic-and-nonpic-6-n32.ad,
	ld-mips-elf/pic-and-nonpic-6-n32.dd,
	ld-mips-elf/pic-and-nonpic-6-n32.gd,
	ld-mips-elf/pic-and-nonpic-6-n32.nd,
	ld-mips-elf/pic-and-nonpic-6-n32.pd,
	ld-mips-elf/pic-and-nonpic-6-n32.rd,
	ld-mips-elf/pic-and-nonpic-6-n32.sd,
	ld-mips-elf/pic-and-nonpic-6-n64a.s,
	ld-mips-elf/pic-and-nonpic-6-n64b.s,
	ld-mips-elf/pic-and-nonpic-6-n64c.s,
	ld-mips-elf/pic-and-nonpic-6-n64.ad,
	ld-mips-elf/pic-and-nonpic-6-n64.dd,
	ld-mips-elf/pic-and-nonpic-6-n64.gd,
	ld-mips-elf/pic-and-nonpic-6-n64.nd,
	ld-mips-elf/pic-and-nonpic-6-n64.pd,
	ld-mips-elf/pic-and-nonpic-6-n64.rd,
	ld-mips-elf/pic-and-nonpic-6-n64.sd: New tests.
	* ld-mips-elf/mips-elf.exp: Run them.
@
text
@d1 14
@


1.1371
log
@bfd/
	* reloc.c (BFD_RELOC_MIPS16_GOT16, BFD_RELOC_MIPS16_CALL16): Declare.
	* libbfd.h, bfd-in2.h: Regenerate.
	* elf32-mips.c (elf_mips16_howto_table_rel): Fill in reserved
	R_MIPS16_GOT16 and R_MIPS16_CALL16 entries.
	(mips16_reloc_map): Add mappings.
	* elf64-mips.c (mips16_elf64_howto_table_rel): Fill in reserved
	R_MIPS16_GOT16 and R_MIPS16_CALL16 entries.
	(mips16_elf64_howto_table_rela): Likewise.
	(mips16_reloc_map): Add mappings.
	* elfn32-mips.c (elf_mips16_howto_table_rel): Fill in reserved
	R_MIPS16_GOT16 and R_MIPS16_CALL16 entries.
	(elf_mips16_howto_table_rela): Likewise.
	(mips16_reloc_map): Add mappings.
	* elfxx-mips.c (mips_elf_create_shadow_symbol): New function.
	(section_allows_mips16_refs_p): Likewise.
	(mips16_stub_symndx): Likewise.
	(mips_elf_check_mips16_stubs): Treat the data argument as a
	bfd_link_info.  Mark every dynamic symbol as needing MIPS16 stubs
	and create a "shadow" symbol for the original MIPS16 definition.
	(mips16_reloc_p, got16_reloc_p, call16_reloc_p, hi16_reloc_p)
	(lo16_reloc_p, mips16_call_reloc_p): New functions.
	(_bfd_mips16_elf_reloc_unshuffle): Use mips16_reloc_p to generalize
	relocation checks.
	(_bfd_mips16_elf_reloc_shuffle): Likewise.
	(_bfd_mips_elf_lo16_reloc): Handle R_MIPS16_GOT16.
	(mips_elf_got16_entry): Add comment.
	(mips_elf_calculate_relocation): Use hi16_reloc_p,
	lo16_reloc_p, mips16_call_reloc_p, call16_reloc_p and got16_reloc_p
	to generalize relocation checks.  Use section_allows_mips16_refs_p
	instead of mips16_stub_section_p.   Handle R_MIPS16_CALL16 and
	R_MIPS16_GOT16, allowing the former to refer directly to a
	MIPS16 function if its stub is not needed.
	(mips16_stub_section_p): Delete.
	(_bfd_mips_elf_symbol_processing): Convert odd-valued function
	symbols into even MIPS16 symbols.
	(mips_elf_add_lo16_rel_addend): Use mips16_reloc_p to generalize
	a relocation check.
	(_bfd_mips_elf_check_relocs): Calculate "bed" and "rel_end"
	earlier in the function.  Use mips16_stub_symndx to identify
	the target function.  Avoid out-of-bounds accesses when the
	stub has no relocations; report an error instead.  Use
	section_allows_mips16_refs_p instead of mips16_stub_section_p.
	Use mips16_call_reloc_p and got16_reloc_p to generalize relocation
	checks.  Handle R_MIPS16_CALL16 and R_MIPS16_GOT16.  Don't create
	dynamic relocations for absolute references to __gnu_local_gp.
	(_bfd_mips_elf_always_size_sections): Pass a bfd_link_info as
	the argument to mips_elf_check_mips16_stubs.  Generalize comment.
	(_bfd_mips_elf_relocate_section): Use hi16_reloc_p and got16_reloc_p
	to generalize relocation checks.
	(_bfd_mips_elf_finish_dynamic_symbol): If a dynamic MIPS16 function
	symbol has a non-MIPS16 stub, redirect the symbol to the stub.
	Fix an overly long line.  Don't give dynamic symbols type STO_MIPS16.
	(_bfd_mips_elf_gc_sweep_hook): Handle R_MIPS16_CALL16 and
	R_MIPS16_GOT16.

gas/
	* config/tc-mips.c (mips16_reloc_p, got16_reloc_p, hi16_reloc_p)
	(lo16_reloc_p): New functions.
	(reloc_needs_lo_p): Use hi16_reloc_p and got16_reloc_p to
	generalize relocation checks.
	(matching_lo_reloc): New function.
	(fixup_has_matching_lo_p): Use it.
	(mips16_mark_labels): Don't clobber a symbol's visibility.
	(append_insn): Use hi16_reloc_p and lo16_reloc_p.
	(mips16_ip): Handle BFD_RELOC_MIPS16_GOT16 and BFD_RELOC_MIPS16_CALL16.
	(md_apply_fix): Likewise.
	(mips16_percent_op): Add %got and %call16.
	(mips_frob_file): Use got16_reloc_p to generalize relocation checks.
	Use matching_lo_reloc.
	(mips_force_relocation): Use hi16_reloc_p and lo16_reloc_p to
	generalize relocation checks.
	(mips_fix_adjustable): Use lo16_reloc_p to generalize relocation
	checks.

gas/testsuite/
	* gas/mips/elf-rel8-mips16.d, gas/mips/elf-rel8-mips16.s,
	* gas/mips/elf-rel9-mips16.d, gas/mips/elf-rel9-mips16.s,
	* gas/mips/elf-rel13-mips16.d, gas/mips/elf-rel13-mips16.s: New tests.
	* gas/mips/mips.exp: Run them.

ld/testsuite/
	* ld-mips-elf/mips16-local-stubs-1.d: Remove stub_for_h3,
	which was only referenced by the .pdr section, and was not
	actually needed by code.
	* ld-mips-elf/mips16-intermix.d: Remove unused static function stubs.
	* ld-mips-elf/mips16-pic-1a.s,
	ld-mips-elf/mips16-pic-1b.s,
	ld-mips-elf/mips16-pic-1-dummy.s,
	ld-mips-elf/mips16-pic-1.dd,
	ld-mips-elf/mips16-pic-1.gd,
	ld-mips-elf/mips16-pic-1.inc,
	ld-mips-elf/mips16-pic-1.ld,
	ld-mips-elf/mips16-pic-2a.s,
	ld-mips-elf/mips16-pic-2b.s,
	ld-mips-elf/mips16-pic-2.ad,
	ld-mips-elf/mips16-pic-2.dd,
	ld-mips-elf/mips16-pic-2.gd,
	ld-mips-elf/mips16-pic-2.nd,
	ld-mips-elf/mips16-pic-2.rd: New tests.
	* ld-mips-elf/mips-elf.exp: Run them.
@
text
@d1 5
@


1.1370
log
@gas/
	* config/tc-ppc.c (parse_cpu): Rename altivec_or_spe to retain_flags.
	Handle -mvsx and -mpower7.
	(md_show_usage): Document -mpower7 and -mvsx.
	* doc/as.texinfo (Target PowerPC): Document -mvsx.
	* doc/c-ppc.texi (PowerPC-Opts): Document -mvsx and -mpower7.

gas/testsuite/
	* gas/ppc/power7.d: New.
	* gas/ppc/power7.s: Likewise.
	* gas/ppc/ppc.exp: Run power7 test.

include/opcode/
	* ppc.h (PPC_OPCODE_VSX, PPC_OPERAND_VSR): New.

opcodes/
	* ppc-dis.c (powerpc_init_dialect): Handle power7 and vsx options.
	(print_insn_powerpc): Prepend 'vs' when printing VSX registers.
	(print_ppc_disassembler_options): Document -Mpower7 and -Mvsx.
	* ppc-opc.c (insert_xt6): New static function.
	(extract_xt6): Likewise.
	(insert_xa6): Likewise.
	(extract_xa6: Likewise.
	(insert_xb6): Likewise.
	(extract_xb6): Likewise.
	(insert_xb6s): Likewise.
	(extract_xb6s): Likewise.
	(XS6, XT6, XA6, XB6, XB6S, DM, XX3, XX3DM, XX1_MASK, XX3_MASK,
	XX3DM_MASK, PPCVSX): New.
	(powerpc_opcodes): Add opcodes "lxvd2x", "lxvd2ux", "stxvd2x",
	"stxvd2ux", "xxmrghd", "xxmrgld", "xxpermdi", "xvmovdp", "xvcpsgndp".
@
text
@d1 7
@


1.1369
log
@binutils/

2008-08-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* dwarf.c (dwarf_regnames_i386): Remove AVX registers.
	(dwarf_regnames_x86_64): Likewise.

gas/testsuite/

2008-08-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/cfi/cfi-i386.s: Remove tests for AVX register maps.
	* gas/cfi/cfi-x86_64.s: Likewise.

	* gas/cfi/cfi-i386.d: Updated.
	* gas/cfi/cfi-x86_64.d: Likewise.

opcodes/

2008-08-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-reg.tbl: Use Dw2Inval on AVX registers.
	* i386-tbl.h: Regenerated.
@
text
@d1 6
@


1.1368
log
@gas/
	* config/tc-ppc.c (parse_cpu) <power6>: Accept Altivec instructions.
	<cell>: Likewise.

gas/testsuite/
	* gas/ppc/cell.s: Add altivec instructions.
	* gas/ppc/cell.d: Update expected output.
	* gas/ppc/power6.d: New.
	* gas/ppc/power6.s: Likewise.
	* gas/ppc/ppc.exp (powerpc64*-*-*): Move cell from here to...
	(powerpc*-*-*): Here.  Run power6 test.
@
text
@d1 8
@


1.1367
log
@2008-07-24  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/nops-1.d: Add -mtune=generic32.
	* gas/i386/nops-2.d: Likewise.
	* gas/i386/nops-3.d: Likewise.

	* gas/i386/x86-64-nops-1.d: Add -mtune=generic64.
	* gas/i386/x86-64-nops-2.d: Likewise.
	* gas/i386/x86-64-nops-3.d: Likewise.
	* gas/i386/x86-64-nops-4.d: Likewise.
@
text
@d1 9
@


1.1366
log
@        * config/tc-mips.c (mips_ip): Reset s to argsStart.
        * gas/mips/tls-ill.l: Update error message.
        * gas/mips/octeon-ill.l: Likewise.
@
text
@d1 11
@


1.1365
log
@	* gas/bfin/{bit2.s, cache2.s, control_code2.s, event2.s,
	logical2.s, move2.s, parallel.s, parallel2.s, parallel3.s,
	parallel4.s, shift2.s, stack2.s, video2.s}: Remove DOS line
	endings.
@
text
@d1 5
@


1.1364
log
@include/elf/
	* mips.h (ELF_ST_IS_MIPS16, ELF_ST_SET_MIPS16): New macros.

bfd/
	* elfxx-mips.c (mips_elf_check_mips16_stubs): Use ELF_ST_IS_MIPS16.
	(mips_elf_calculate_relocation): Likewise.
	(_bfd_mips_elf_add_symbol_hook): Likewise.
	(_bfd_mips_elf_finish_dynamic_symbol): Likewise.
	(_bfd_mips_vxworks_finish_dynamic_symbol): Likewise.

opcodes/
	* mips-dis.c (_print_insn_mips): Use ELF_ST_IS_MIPS16.

gas/
	* config/tc-mips.c (mips16_mark_labels): Use ELF_ST_SET_MIPS16.
	(mips_fix_adjustable): Likewise.
	(mips_frob_file_after_relocs): Likewise.

gas/testsuite/
	* gas/mips/mips16-vis-1.d, gas/mips/mips16-vis-1.s: New tests.
	* gas/mips/mips.exp: Run them.
@
text
@d1 7
@


1.1363
log
@2008-07-09  Kai Tietz  <kai.tietz@@onevision.com>

	* gas/i386/i386.exp (x86-64-pcrel): Disable for w64.
	(x86-64-sse5): Likewise.
	(x86-64-opcode-inval): Likewise.
	(x86-64-opcode-inval-intel): Likewise.
	(x86-64-w64-pcrel): New.
	* gas/i386/x86-64-w64-pcrel.d: New.
@
text
@d1 5
@


1.1362
log
@	* gas/mips/mips32.s: Move out coprocessor2 insns from here ...
	* gas/mips/mips32-cp2.s: ... to here.
	* gas/mips/mips32.d: Update.
	* gas/mips/mips32-cp2.d: New file.
	* gas/mips/mips32r2.s: Move out coprocessor2 insns from here ...
	* gas/mips/mips32r2-cp2.s: ... to here.
	* gas/mips/mips32r2.d: Update.
	* gas/mips/mips32r2-cp2.d: New file.
	* gas/mips/mips64.s: Move out coprocessor2 insns from here ...
	* gas/mips/mips64-cp2.s: ... to here.
	* gas/mips/mips64.d: Update.
	* gas/mips/mips64-cp2.d: New file.
	* gas/mips/mips.exp: Run mips32-cp2, mips32r2-cp2 and mips64-cp
	except for Octeon.
	* gas/mips/octeon.s: Add supported coprocessor insns.  Move pop
	down to keep alphabetical order.
	* gas/mips/octeon.d: Update.
	* gas/mips/octeon-ill.s: Add unsupported coprocessor insns.
	* gas/mips/octeon-ill.l: Update.
@
text
@d1 9
@


1.1361
log
@
gas/

2008-07-07  Paul Brook  <paul@@codesourcery.com>

	* config/tc-arm.c (arm_fix_adjustable): Don't adjust MOVW/MOVT
	relocations.

gas/testsuite/

2008-07-07  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/movw-local.d: New test.
	* gas/arm/movw-local.s: New test.
@
text
@d1 22
@


1.1360
log
@* gas/mips/odd-float.d: Replace ... with #pass.
* gas/mips/ldstla-32-shared.d: Add -march=mips1 for as.
* gas/mips/ldstla-32.d: Likewise.
* gas/mips/mips16-hilo-match.d: Add -mabi=32 -march=mips1 for as.
@
text
@d1 5
@


1.1359
log
@* gas/mips/e32-rel2.d: Add -march=mips1 for as.
@
text
@d1 7
@


1.1358
log
@	PR gas/6607
	* gas/mmix/err-loc-10.s, gas/mmix/err-loc-9.s, gas/mmix/loc-6.d,
	gas/mmix/loc-6.s, gas/mmix/loc-7.d, gas/mmix/loc-7.s: New tests.
@
text
@d1 4
@


1.1357
log
@        * mips.h: Document new field descriptors +Q.
        (OP_SH_SEQI, OP_MASK_SEQI): New bit mask and shift count for SEQI.

opcodes/

        * mips-dis.c (print_insn_args): Handle field descriptor +Q.
        * mips-opc.c (mips_builtin_opcodes): Add Octeon instructions seq,
        seqi, sne and snei.

gas/

        * config/tc-mips.c (validate_mips_insn): Handle field descriptor +Q.
        (mips_ip): Likewise.
        (macro_build): Likewise.
        (CPU_HAS_SEQ): New macro.
        (macro2) <M_SEQ_I, M_SNE_I>: Use it.  Emit seq/sne and seqi/snei.

gas/testsuite/

        * gas/mips/octeon.s, gas/mips/octeon.d: Add tests for seq* and sne*.
        * gas/mips/octeon-ill.s, gas/mips/octeon-ill.s: Add tests for seqi
        and snei.
@
text
@d1 6
@


1.1356
log
@include/opcode/

        * mips.h: Document new field descriptors +x, +X, +p, +P, +s, +S.
        Update comment before MIPS16 field descriptors to mention MIPS16.
        (OP_SH_BBITIND, OP_MASK_BBITIND): New bit mask and shift count for
        BBIT.
        (OP_SH_CINSPOS, OP_MASK_CINSPOS, OP_SH_CINSLM1, OP_MASK_CINSLM1):
        New bit masks and shift counts for cins and exts.

gas/

        * config/tc-mips.c (validate_mips_insn): Handle field descriptors
        +x, +X, +p, +P, +s, +S.
        (mips_ip): Likewise.

opcodes/

        * mips-dis.c (print_insn_args): Handle field descriptors +x, +p,
        +s, +S.
        * mips-opc.c (mips_builtin_opcodes): Add Octeon instructions
        baddu, bbit*, cins*, dmul, pop, dpop, exts*, mtm*, mtp*, syncs,
        syncw, syncws, vm3mulu, vm0 and vmulu.

gas/testsuite/

        * gas/mips/octeon.s, gas/mips/octeon.d: Add tests for baddu,
        bbit*, cins*, dmul, pop, dpop, exts*, mtm*, mtp*, syncs, syncw,
        syncws, vm3mulu, vm0 and vmulu.
        * gas/mips/octeon-ill.s, gas/mips/octeon-ill.s: New test.
        * gas/mips/mips.exp: Run it.  Run octeon test with
        run_dump_test_arches.
@
text
@d10 4
@


1.1355
log
@gas/

2008-06-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (set_sse_check): New.
	(md_pseudo_table): Add "sse_check".

gas/testsuite/

2008-06-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run sse-check-none and
	x86-64-sse-check-none.

	* gas/i386/sse-check-none.d: New.
	* gas/i386/sse-check-none.s: Likewise.
	* gas/i386/x86-64-sse-check-none.d: Likewise.
@
text
@d1 9
@


1.1354
log
@2008-06-03  Paul Brook  <paul@@codesourcery.com>

	gas/
	* config/tc-arm.c (do_t_rbit): Populate both rm fields.
	gas/testsuite/
	* gas/arm/thumb32.d: Update expected output.
@
text
@d1 9
@


1.1353
log
@gas/testsuite/

2008-05-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/x86-64-avx.s: Add tests for vmovd on 64bit operands.

	* gas/i386/x86-64-sse2avx.s: Add tests for movd on 64bit
	operands.

	* gas/testsuite/gas/i386/x86-64-avx.d: Updated.
	* gas/testsuite/gas/i386/x86-64-avx-intel.d: Likewise.
	* gas/testsuite/gas/i386/x86-64-sse2avx.d: Likewise.

opcodes/

2008-05-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-opc.tbl: Add vmovd with 64bit operand.
	* i386-tbl.h: Regenerated.
@
text
@d1 4
@


1.1352
log
@2008-05-27  Martin Schwidefsky  <schwidefsky@@de.ibm.com>

	* s390-opc.c (INSTR_RRF_R0RR): Fix RRF_R0RR operand format.

2008-05-27  Martin Schwidefsky  <schwidefsky@@de.ibm.com>

	* gas/s390/zarch-z990.d (idte): Fix operand format.
@
text
@d1 11
@


1.1351
log
@gas/testsuite/

2008-05-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/sse-noavx.s: Add tests for cvtpd2pi, cvtpi2pd and
	cvttpd2pi.
	* gas/i386/x86-64-sse-noavx.s: Likewise.

	* gas/i386/sse-noavx.d: Updated.
	* gas/i386/x86-64-sse-noavx.d: Likewise.

opcodes/

2008-05-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-opc.tbl: Add NoAVX to cvtpd2pi, cvtpi2pd and cvttpd2pi.
	* i386-tbl.h: Regenerated.
@
text
@d1 4
@


1.1350
log
@gas/testsuite/

2008-05-22  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/6517
	* gas/i386/avx.s: Add tests for unspecified memory operand
	size in Intel syntax.
	* gas/i386/x86-64-avx.s: Likewise.

	* gas/i386/simd.s: Add tests for cvtsi2ss and cvtsi2sd with
	unspecified memory operand size in Intel syntax.

	* gas/i386/avx.d: Updated.
	* gas/i386/avx-intel.d: Likewise.
	* gas/i386/simd.d: Likewise.
	* gas/i386/simd-intel.d: Likewise.
	* gas/i386/simd-suffix.d: Likewise.
	* gas/i386/x86-64-avx.d: Likewise.
	* gas/i386/x86-64-avx-intel.d: Likewise.

opcodes/

2008-05-22  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/6517
	* i386-opc.tbl: Break cvtsi2ss/cvtsi2sd/vcvtsi2sd/vcvtsi2ss
	into 32bit and 64bit.  Remove Reg64|Qword and add
	IgnoreSize|No_qSuf on 32bit version.
	* i386-tbl.h: Regenerated.
@
text
@d3 9
@


1.1349
log
@gas/testsuite/

2008-05-21  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/sse-noavx.s: Add tests for movdq2q and movq2dq.
	* gas/i386/x86-64-sse-noavx.s: Likewise.

	* gas/i386/sse-noavx.d: Updated.
	* gas/i386/x86-64-sse-noavx.d: Likewise.

opcodes/

2008-05-21  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-opc.tbl: Add NoAVX to movdq2q and movq2dq.
	* i386-tbl.h: Regenerated.
@
text
@d1 18
@


1.1348
log
@	gas/
        * config/tc-mips.c (mips_frob_file): Don't match MIPS16 relocs
        with non-MIPS16 relocs.


        gas/testsuite/
        * gas/mips/mips16-hilo-match.s: New test.
        * gas/mips/mip16-hilo-match.d: New test output.Index: config/tc-mips.c
@
text
@d1 8
@


1.1347
log
@gas/

2008-05-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* NEWS: Mention XSAVE, EPT and MOVBE.

	* config/tc-i386.c (cpu_arch): Add .movbe and .ept.
	(md_show_usage): Add .movbe and .ept.

	* doc/c-i386.texi: Add movbe and ept to -march=.  Document
	.movbe and .ept.

gas/testsuite/

2008-05-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run movbe, movbe-intel, inval-movbe, ept,
	ept-intel, inval-ept, x86-64-movbe, x86-64-movbe-intel,
	x86-64-inval-movbe.  x86-64-ept, x86-64-ept-intel and
	x86-64-inval-ept.

	* gas/i386/arch-10.s: Add movbe and invept.
	* gas/i386/x86-64-arch-2.s: Likewise.

	* gas/i386/ept.d: New file
	* gas/i386/ept-intel.d: Likewise.
	* gas/i386/ept.s: Likewise.
	* gas/i386/inval-ept.l: Likewise.
	* gas/i386/inval-ept.s: Likewise.
	* gas/i386/inval-movbe.l: Likewise.
	* gas/i386/inval-movbe.s: Likewise.
	* gas/i386/movbe.d: Likewise.
	* gas/i386/movbe-intel.d: Likewise.
	* gas/i386/movbe.s: Likewise.
	* gas/i386/x86-64-inval-ept.l: Likewise.
	* gas/i386/x86-64-inval-ept.s: Likewise.
	* gas/i386/x86-64-inval-movbe.l: Likewise.
	* gas/i386/x86-64-inval-movbe.s: Likewise.
	* gas/i386/x86-64-ept.d: Likewise.
	* gas/i386/x86-64-ept-intel.d: Likewise.
	* gas/i386/x86-64-ept.s: Likewise.
	* gas/i386/x86-64-movbe.d: Likewise.
	* gas/i386/x86-64-movbe-intel.d: Likewise.
	* gas/i386/x86-64-movbe.s: Likewise.

	* gas/i386/arch-10.d: Updated.
	* gas/i386/arch-10-1.l: Likewise.
	* gas/i386/arch-10-2.l: Likewise.
	* gas/i386/arch-10-3.l: Likewise.
	* gas/i386/arch-10-4.l: Likewise.
	* gas/i386/x86-64-arch-2.d: Likewise.

opcodes/

2008-05-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (MOVBE_Fixup): New.
	(Mo): Likewise.
	(PREFIX_0F3880): Likewise.
	(PREFIX_0F3881): Likewise.
	(PREFIX_0F38F0): Updated.
	(prefix_table): Add PREFIX_0F3880 and PREFIX_0F3881.  Update
	PREFIX_0F38F0 and PREFIX_0F38F1 for movbe.
	(three_byte_table): Use PREFIX_0F3880 and PREFIX_0F3881.

	* i386-gen.c (cpu_flag_init): Add CPU_MOVBE_FLAGS and
	CPU_EPT_FLAGS.
	(cpu_flags): Add CpuMovbe and CpuEPT.

	* i386-opc.h (CpuMovbe): New.
	(CpuEPT): Likewise.
	(CpuLM): Updated.
	(i386_cpu_flags): Add cpumovbe and cpuept.

	* i386-opc.tbl: Add entries for movbe and EPT instructions.
	* i386-init.h: Regenerated.
	* i386-tbl.h: Likewise.
@
text
@d1 5
@


1.1346
log
@	* gas/mips/mips4.s: Split out fp instruction from here ...
	* gas/mips/mips4-fp.s: ... to here.
	* gas/mips/mips4.d: Update.
	* gas/mips/mips4-fp.l: New file. Check error messages with
	-msoft-float.
	* gas/mips/mips4-fp.d: New file. Check disassembly with
	hard-float.

	* gas/mips/mips32r2.s: Split out fp instructions from here ...
	* gas/mips/mips32r2-fp32.s: ... to here.
	* gas/mips/mips32r2.d: Update.
	* gas/mips/mips32r2-fp32.l: New file.  Check error messages with
	-msoft-float.
	* gas/mips/mips32r2-fp32.d: New file.  Check disassembly with
	hard-float.

	* gas/mips/mips32r2-ill-nofp.s, gas/mips/mips32r2-ill-nofp.l: New
	test derived from mips32r2-ill.

	* gas/mips/mips32-sf32.l: New list test for mips32-sf32.s to check
	error messages for soft-float targets.

	* gas/mips/mips-macro-ill-sfp.s, gas/mips/mips-macro-ill-sfp.l:
	New test for -msingle-float.
	* gas/mips/mips-macro-ill-nofp.s, gas/mips/mips-macro-ill-nofp.l:
	New test for -msoft-float.
	* gas/mips/mips-hard-float-flag.s,
	gas/mips/mips-hard-float-flag.l: New test for -mhard-float.
	* gas/mips/mips-double-float-flag.s,
	gas/mips/mips-double-float-flag.l: New test for -mdouble-float.

	* gas/mips/mips.exp: Run new mips4-fp and mips32r2-fp dump tests.
	Run mips4-fp and mips32r2-fp list tests with -msoft-float.  Run
	new mips32r2-ill-nofp with -msoft-float.  Run new mips32-sf32 list
	test with -msoft-float.  Run new mips-macro-ill-sfp test with
	-msingle-float.  Run new mips-macro-ill-nofp test with
	-msoft-float.  Run new mips-hard-float-flag and
	mips-double-float-flag tests.
@
text
@d1 38
@


1.1345
log
@2008-04-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run sse-noavx and x86-64-sse-noavx.

	* gas/i386/sse-noavx.d: New.
	* gas/i386/sse-noavx.s: Likewise.
	* gas/i386/x86-64-sse-noavx.d: Likewise.
	* gas/i386/x86-64-sse-noavx.s: Likewise.
@
text
@d1 41
@


1.1344
log
@2008-04-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/sse2.s: Add tests for pmuludq, paddq and psubq.
	* gas/i386/x86-64-simd.s: Likewise.

	* gas/i386/sse2.d: Updated.
	* gas/i386/x86-64-simd.d: Likewise.
	* gas/i386/x86-64-simd-intel.d: Likewise.
	* gas/i386/x86-64-simd-suffix.d: Likewise.
@
text
@d3 9
@


1.1343
log
@opcodes/

	* sparc-opc.c (asi_table): Add UltraSPARC and Niagara
	extended values.
	(prefetch_table): Add missing values.

gas/

	* config/tc-sparc.c (v9a_asr_table): Add missing
	'stick' and 'stick_cmpr', and document ordering rules
	of table.
	(tc_gen_reloc): Accept BFD_RELOC_SPARC_PC22 and
	BFD_RELOC_SPARC_PC10.
	* doc/c-sparc.texi: New section on Sparc constants.
	Add documentation for %stick and %stick_cmpr.

gas/testsuite/

	* gas/sparc/pc2210.d: New file.
	* gas/sparc/pc2210.d: Likewise.
	* gas/sparc/sparc.exp: Run new %pc22/%pc10 relocation test.
@
text
@d1 10
@


1.1342
log
@gas/

2008-04-18  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (build_modrm_byte): Swap REG and NDS for
	FMA.

gas/testsuite/

2008-04-18  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/arch-10.d: Updated.
	* gas/i386/avx.d: Likewise.
	* gas/i386/avx-intel.d: Likewise.
	* gas/i386/x86-64-arch-2.d: Likewise.
	* gas/i386/x86-64-avx.d: Likewise.
	* gas/i386/x86-64-avx-intel.d: Likewise.

opcodes/

2008-04-18  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (OP_VEX_FMA): New.
	(OP_EX_VexImmW): Likewise.
	(VexFMA): Likewise.
	(Vex128FMA): Likewise.
	(EXVexImmW): Likewise.
	(get_vex_imm8): Likewise.
	(OP_EX_VexReg): Likewise.
	(vex_i4_done): Renamed to ...
	(vex_w_done): This.
	(prefix_table): Replace EXVexW with EXVexImmW on vpermil2ps
	and vpermil2pd.  Replace Vex/Vex128 with VexFMA/Vex128FMA on
	FMA instructions.
	(print_insn): Updated.
	(OP_EX_VexW): Rewrite to swap register in VEX with EX.
	(OP_REG_VexI4): Check invalid high registers.
@
text
@d1 6
@


1.1341
log
@<opcode changes>
2008-04-16  Dwarakanath Rajagopal  <dwarak.rajagopal@@amd.com>
            Michael Meissner  <michael.meissner@@amd.com>

        * i386-opc.tbl: Fix protX to allow memory in the middle operand.
        * i386-tbl.h: Regenerate from i386-opc.tbl.

<gas/testsuite changes>
2008-04-16  Dwarakanath Rajagopal  <dwarak.rajagopal@@amd.com>
            Michael Meissner  <michael.meissner@@amd.com>

        * gas/i386/x86-64-sse5.s: Add protX tests to allow memory in the middle
        operand.
        * gas/i386/x86-64-sse5.d: Likewise.
@
text
@d1 9
d13 2
a14 2
	* gas/i386/x86-64-sse5.s: Add protX tests to allow memory in the middle 
	operand.
@


1.1340
log
@Sorry, missed this ChangeLog updat in previous commit.
@
text
@d1 7
@


1.1339
log
@2008-04-15  Andrew Stubbs  <andrew.stubbs@@st.com>

gas/

	* config/tc-sh.c (md_apply_fix): Make sure BFD_RELOC_SH_PCRELIMM8BY4
	relocations are properly aligned, and not negative.

gas/testsuite/

	* gas/sh/arch/arch.exp: Align PC-relative instructions in the gererated
	assembly files.
	* gas/sh/arch/sh-dsp.s: Regenerate.
	* gas/sh/arch/sh.s: Regenerate.
	* gas/sh/arch/sh2.s: Regenerate.
	* gas/sh/arch/sh2a-nofpu-or-sh3-nommu.s: Regenerate.
	* gas/sh/arch/sh2a-nofpu-or-sh4-nommu-nofpu.s: Regenerate.
	* gas/sh/arch/sh2a-nofpu.s: Regenerate.
	* gas/sh/arch/sh2a-or-sh3e.s: Regenerate.: Regenerate.
	* gas/sh/arch/sh2a-or-sh4.s: Regenerate.
	* gas/sh/arch/sh2a.s: Regenerate.
	* gas/sh/arch/sh2e.s: Regenerate.
	* gas/sh/arch/sh3-dsp.s: Regenerate.
	* gas/sh/arch/sh3-nommu.s: Regenerate.
	* gas/sh/arch/sh3.s: Regenerate.
	* gas/sh/arch/sh3e.s: Regenerate.
	* gas/sh/arch/sh4-nofpu.s: Regenerate.
	* gas/sh/arch/sh4-nommu-nofpu.s: Regenerate.
	* gas/sh/arch/sh4.s: Regenerate.
	* gas/sh/arch/sh4a-nofpu.s: Regenerate.
	* gas/sh/arch/sh4a.s: Regenerate.
	* gas/sh/arch/sh4al-dsp.s: Regenerate.
	* gas/sh/err-mova.s: New test.

ld/testsuite/

	* ld-sh/arch/sh-dsp.s: Regenerate.
	* ld-sh/arch/sh.s: Regenerate.
	* ld-sh/arch/sh2.s: Regenerate.
	* ld-sh/arch/sh2a-nofpu-or-sh3-nommu.s: Regenerate.
	* ld-sh/arch/sh2a-nofpu-or-sh4-nommu-nofpu.s: Regenerate.
	* ld-sh/arch/sh2a-nofpu.s: Regenerate.
	* ld-sh/arch/sh2a-or-sh3e.s: Regenerate.: Regenerate.
	* ld-sh/arch/sh2a-or-sh4.s: Regenerate.
	* ld-sh/arch/sh2a.s: Regenerate.
	* ld-sh/arch/sh2e.s: Regenerate.
	* ld-sh/arch/sh3-dsp.s: Regenerate.
	* ld-sh/arch/sh3-nommu.s: Regenerate.
	* ld-sh/arch/sh3.s: Regenerate.
	* ld-sh/arch/sh3e.s: Regenerate.
	* ld-sh/arch/sh4-nofpu.s: Regenerate.
	* ld-sh/arch/sh4-nommu-nofpu.s: Regenerate.
	* ld-sh/arch/sh4.s: Regenerate.
	* ld-sh/arch/sh4a-nofpu.s: Regenerate.
	* ld-sh/arch/sh4a.s: Regenerate.
	* ld-sh/arch/sh4al-dsp.s: Regenerate.
@
text
@d1 8
@


1.1338
log
@ppc e500mc support
@
text
@d1 26
@


1.1337
log
@2008-04-11  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/lns/lns-big-delta.d: Updated.
	* gas/lns/lns-common-1.d: Likewise.
	* gas/lns/lns-common-1-alt.d: Likewise.
	* gas/lns/lns-duplicate.d: Likewise.
@
text
@d1 5
@


1.1336
log
@gas/

2008-04-10  H.J. Lu  <hongjiu.lu@@intel.com>

	* NEWS: Mention -msse-check=[none|error|warning].

	* config/tc-i386.c (sse_check): New.
	(OPTION_MSSE_CHECK): Likewise.
	(md_assemble): Check SSE instructions if needed.
	(md_longopts): Add -msse-check.
	(md_parse_option): Handle OPTION_MSSE_CHECK.
	(md_show_usage): Show -msse-check=[none|error|warning].

	* doc/c-i386.texi: Document -msse-check=[none|error|warning].

gas/testsuite/

2008-04-10  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run sse-check, sse-check-warn,
	sse-check-error, x86-64-sse-check, x86-64-sse-check-warn and
	x86-64-sse-check-error.

	* gas/i386/sse-check.d: New.
	* gas/i386/sse-check.s: Likewise.
	* gas/i386/sse-check-error.l: Likewise.
	* gas/i386/sse-check-error.s: Likewise.
	* gas/i386/sse-check-warn.d: Likewise.
	* gas/i386/sse-check-warn.e: Likewise.
	* gas/i386/x86-64-sse-check.d: Likewise.
	* gas/i386/x86-64-sse-check-error.l: Likewise.
	* gas/i386/x86-64-sse-check-error.s: Likewise.
	* gas/i386/x86-64-sse-check-warn.d: Likewise.
@
text
@d1 7
@


1.1335
log
@        * listing.c: Add -ag listing flag to show general information in
        listings such as gas version, passed options, and time stamp.
        (listing_general_info): New function.
        (print_options): New function.
        (print_single_option): New function.
        (print_timestamp): New function.
        (MAX_DATELEN): Define.
        (listing_print): Add call to listing_general_info.
        * listing.h (LISTING_GENERAL): Define.
        (listing_print): Add new parameter.
        * as.c (show_usage): Print new switch.
        (parse_args): Parse new switch.
        (main): Pass command line on to listing_print.
        * NEWS: Mention this new feature.
        * doc/as.texinfo: Document the new sub-option.

        * gas/all/gas.exp: Check the performance of the -ag command line
        switch.
@
text
@d1 17
@


1.1334
log
@2008-04-10  Andreas Krebbel  <krebbel1@@de.ibm.com>

	* s390-mkopc.c (s390_cond_ext_format): Add back the mnemonic
	extensions for conditional jumps (o, p, m, nz, z, nm, np, no).
	(s390_crb_extensions): New extensions table.
	(insertExpandedMnemonic): Handle '$' tag.
	* s390-opc.txt: Remove conditional jump variants which can now
	be expanded automatically.
	Replace '*' tag with '$' in the compare and branch instructions.

2008-04-10  Andreas Krebbel  <krebbel1@@de.ibm.com>

	* gas/s390/zarch-z10.d: Map the compare and branch variants
	with odd condition code mask to version with an even mask.
@
text
@d1 5
@


1.1333
log
@gas/

2008-04-07  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (parse_real_register): Return AVX register
	only if AVX is enabled.

gas/testsuite/

2008-04-07  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/att-regs.s: Add AVX register test.
	* gas/i386/intel-regs.s: Likewise.

	* gas/i386/att-regs.d: Updated.
	* gas/i386/intel-regs.d: Likewise.
@
text
@d1 5
@


1.1332
log
@	PR gas/6043
	* config/tc-sh64.c (shmedia_md_pcrel_from_section): Use
	md_pcrel_from_section for BFD_RELOC_64 and BFD_RELOC_64_PCREL.

	* gas/sh/sh64/eh-1.d: New.
	* gas/sh/sh64/eh-1.d: Likewise.
@
text
@d1 8
@


1.1331
log
@gas/

2008-04-04  H.J. Lu  <hongjiu.lu@@intel.com>

	* NEWS: Mention XSAVE.  Change CLMUL to PCLMUL.

	* config/tc-i386.c (cpu_arch): Add .pclmul.
	(md_show_usage): Replace clmul with pclmul.
	* doc/c-i386.texi: Likewise.

gas/testsuite/

2008-04-04  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/arch-10-1.l: Replace CLMUL with PCLMUL.
	* gas/i386/arch-10-2.l: Likewise.
	* gas/i386/arch-10-3.l: Likewise.
	* gas/i386/arch-10-4.l: Likewise.
	* gas/i386/arch-10.s: Likewise.
	* gas/i386/clmul-intel.d: Likewise.
	* gas/i386/clmul.d: Likewise.
	* gas/i386/clmul.s: Likewise.
	* gas/i386/x86-64-arch-2.s: Likewise.
	* gas/i386/x86-64-clmul-intel.d: Likewise.
	* gas/i386/x86-64-clmul.d: Likewise.
	* gas/i386/x86-64-clmul.s: Likewise.

	* gas/i386/arch-10.d: Replace clmul with pclmul.
	* gas/i386/x86-64-arch-2.d: Likewise.

opcodes/

2008-04-04  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-gen.c (cpu_flag_init): Replace CPU_CLMUL_FLAGS/CpuCLMUL
	with CPU_PCLMUL_FLAGS/CpuPCLMUL.
	(cpu_flags): Replace CpuCLMUL with CpuPCLMUL.
	* i386-opc.tbl: Likewise.

	* i386-opc.h (CpuCLMUL): Renamed to ...
	(CpuPCLMUL): This.
	(CpuFMA): Updated.
	(i386_cpu_flags): Replace cpuclmul with cpupclmul.

	* i386-init.h: Regenerated.
@
text
@d1 6
@


1.1330
log
@binutils/

2008-04-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* dwarf.c (dwarf_regnames_i386): Add AVX registers.
	(dwarf_regnames_x86_64): Likewise.

gas/

2008-04-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* NEWS: Mention AES, CLMUL, AVX/FMA and -msse2avx.

	* doc/c-i386.texi: Add avx, aes, clmul and fma to -march=.
	Document -msse2avx, .avx, .aes, .clmul and .fma.

	* config/tc-i386.c (YMMWORD_MNEM_SUFFIX): New.
	(vex_prefix): Likewise.
	(sse2avx): Likewise.
	(CPU_FLAGS_ARCH_MATCH): Likewise.
	(CPU_FLAGS_64BIT_MATCH): Likewise.
	(CPU_FLAGS_32BIT_MATCH): Likewise.
	(CPU_FLAGS_PERFECT_MATCH): Likewise.
	(regymm): Likewise.
	(vex_imm4): Likewise.
	(fits_in_imm4): Likewise.
	(build_vex_prefix): Likewise.
	(VEX_check_operands): Likewise.
	(bad_implicit_operand): Likewise.
	(OPTION_MSSE2AVX): Likewise.
	(T_YMMWORD): Likewise.
	(_i386_insn): Add vex.
	(cpu_arch): Add .avx, .aes, .clmul and .fma.
	(cpu_flags_match): Changed to take a pointer to const template.
	Enable encoding SSE instructions with VEX prefix for -msse2avx.
	(match_mem_size): Also check ymmword.
	(operand_type_match): Clear ymmword.
	(md_begin): Allow '_' in mnemonic.
	(type_names): Add OPERAND_TYPE_VEX_IMM4.
	(process_immext): Update assert.
	(md_assemble): Don't call process_immext if sse2avx and immext
	are true.  Call build_vex_prefix if vex is true.
	(parse_insn): Updated for cpu_flags_match.
	(swap_operands): Handle 5 operands.
	(match_template): Handle 5 operands. Updated for cpu_flags_match.
	Check regymm.  Call VEX_check_operands. Handle YMMWORD_MNEM_SUFFIX.
	(process_suffix): Handle YMMWORD_MNEM_SUFFIX.
	(check_byte_reg): Check regymm.
	(process_operands): Duplicate the destination register for
	-msse2avx if needed.
	(build_modrm_byte): Updated for instructions with VEX encoding.
	(output_insn): Output VEX prefix if needed.
	(md_longopts): Add msse2avx.
	(md_parse_option): Handle OPTION_MSSE2AVX.
	(md_show_usage): Add avx, aes, clmul, fma and -msse2avx.
	(intel_e09): Support YMMWORD.
	(intel_e11): Likewise.
	(intel_get_token): Likewise.

gas/testsuite/

2008-04-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run aes, aes-intel, x86-64-aes,
	x86-64-aes-intel, avx, avx-intel, inval-avx, x86-64-avx,
	x86-64-avx-intel and x86-64-inval-avx.

	* gas/cfi/cfi-i386.s: Add tests for AVX register maps.
	* gas/cfi/cfi-x86_64.s: Likewise.

	* gas/i386/aes.d: New.
	* gas/i386/aes.s: Likewise.
	* gas/i386/aes-intel.d: Likewise.
	* gas/i386/avx.d: Likewise.
	* gas/i386/avx.s: Likewise.
	* gas/i386/avx-intel.d: Likewise.
	* gas/i386/clmul.d: Likewise.
	* gas/i386/clmul-intel.d: Likewise.
	* gas/i386/clmul.s: Likewise.
	* gas/i386/i386.exp: Likewise.
	* gas/i386/inval-avx.l: Likewise.
	* gas/i386/inval-avx.s: Likewise.
	* gas/i386/sse2avx.d: Likewise.
	* gas/i386/sse2avx.s: Likewise.
	* gas/i386/x86-64-aes.d: Likewise.
	* gas/i386/x86-64-aes.s: Likewise.
	* gas/i386/x86-64-aes-intel.d: Likewise.
	* gas/i386/x86-64-avx.d: Likewise.
	* gas/i386/x86-64-avx.s: Likewise.
	* gas/i386/x86-64-avx-intel.d: Likewise.
	* gas/i386/x86-64-clmul.d: Likewise.
	* gas/i386/x86-64-clmul-intel.d: Likewise.
	* gas/i386/x86-64-clmul.s: Likewise.
	* gas/i386/x86-64-inval-avx.l: Likewise.
	* gas/i386/x86-64-inval-avx.s: Likewise.
	* gas/i386/x86-64-sse2avx.d: Likewise.
	* gas/i386/x86-64-sse2avx.s: Likewise.

	* gas/i386/arch-10.s: Add tests for AVX, AES, CLMUL and FMA.
	* gas/i386/x86-64-arch-2.s: Likewise.

	* gas/i386/rexw.s: Add AVX tests.

	* gas/i386/x86-64-opcode-inval.s: Remove lds/les test.

	* gas/cfi/cfi-i386.d: Updated.
	* gas/cfi/cfi-x86_64.d: Likewise.
	* gas/i386/arch-10.d:  Likewise.
	* gas/i386/arch-10-1.l: Likewise.
	* gas/i386/arch-10-2.l: Likewise.
	* gas/i386/arch-10-3.l: Likewise.
	* gas/i386/arch-10-4.l: Likewise.
	* gas/i386/rexw.d: Likewise.
	* gas/i386/x86-64-arch-2.d: Likewise.
	* gas/i386/x86-64-opcode-inval.d: Likewise.
	* gas/i386/x86-64-opcode-inval-intel.d: Likewise.

include/opcode/

2008-04-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386.h (MAX_OPERANDS): Set to 5.
	(MAX_MNEM_SIZE): Changed to 20.

opcodes/

2008-04-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (OP_E_register): New.
	(OP_E_memory): Likewise.
	(OP_VEX): Likewise.
	(OP_EX_Vex): Likewise.
	(OP_EX_VexW): Likewise.
	(OP_XMM_Vex): Likewise.
	(OP_XMM_VexW): Likewise.
	(OP_REG_VexI4): Likewise.
	(PCLMUL_Fixup): Likewise.
	(VEXI4_Fixup): Likewise.
	(VZERO_Fixup): Likewise.
	(VCMP_Fixup): Likewise.
	(VPERMIL2_Fixup): Likewise.
	(rex_original): Likewise.
	(rex_ignored): Likewise.
	(Mxmm): Likewise.
	(XMM): Likewise.
	(EXxmm): Likewise.
	(EXxmmq): Likewise.
	(EXymmq): Likewise.
	(Vex): Likewise.
	(Vex128): Likewise.
	(Vex256): Likewise.
	(VexI4): Likewise.
	(EXdVex): Likewise.
	(EXqVex): Likewise.
	(EXVexW): Likewise.
	(EXdVexW): Likewise.
	(EXqVexW): Likewise.
	(XMVex): Likewise.
	(XMVexW): Likewise.
	(XMVexI4): Likewise.
	(PCLMUL): Likewise.
	(VZERO): Likewise.
	(VCMP): Likewise.
	(VPERMIL2): Likewise.
	(xmm_mode): Likewise.
	(xmmq_mode): Likewise.
	(ymmq_mode): Likewise.
	(vex_mode): Likewise.
	(vex128_mode): Likewise.
	(vex256_mode): Likewise.
	(USE_VEX_C4_TABLE): Likewise.
	(USE_VEX_C5_TABLE): Likewise.
	(USE_VEX_LEN_TABLE): Likewise.
	(VEX_C4_TABLE): Likewise.
	(VEX_C5_TABLE): Likewise.
	(VEX_LEN_TABLE): Likewise.
	(REG_VEX_XX): Likewise.
	(MOD_VEX_XXX): Likewise.
	(PREFIX_0F38DB..PREFIX_0F38DF): Likewise.
	(PREFIX_0F3A44): Likewise.
	(PREFIX_0F3ADF): Likewise.
	(PREFIX_VEX_XXX): Likewise.
	(VEX_OF): Likewise.
	(VEX_OF38): Likewise.
	(VEX_OF3A): Likewise.
	(VEX_LEN_XXX): Likewise.
	(vex): Likewise.
	(need_vex): Likewise.
	(need_vex_reg): Likewise.
	(vex_i4_done): Likewise.
	(vex_table): Likewise.
	(vex_len_table): Likewise.
	(OP_REG_VexI4): Likewise.
	(vex_cmp_op): Likewise.
	(pclmul_op): Likewise.
	(vpermil2_op): Likewise.
	(m_mode): Updated.
	(es_reg): Likewise.
	(PREFIX_0F38F0): Likewise.
	(PREFIX_0F3A60): Likewise.
	(reg_table): Add REG_VEX_71...REG_VEX_73 and REG_VEX_AE.
	(prefix_table): Add PREFIX_0F38DB..PREFIX_0F38DF, PREFIX_0F3ADF
	and PREFIX_VEX_XXX entries.
	(x86_64_table): Use VEX_C4_TABLE and VEX_C5_TABLE.
	(three_byte_table): Use PREFIX_0F38DB..PREFIX_0F38DF and
	PREFIX_0F3ADF.
	(mod_table): Use VEX_C4_TABLE, VEX_C5_TABLE and VEX_LEN_TABLE.
	Add MOD_VEX_XXX entries.
	(ckprefix): Initialize rex_original and rex_ignored.  Store the
	REX byte in rex_original.
	(get_valid_dis386): Handle the implicit prefix in VEX prefix
	bytes and USE_VEX_LEN_TABLE/USE_VEX_C4_TABLE/USE_VEX_C5_TABLE.
	(print_insn): Set need_vex/need_vex_reg/vex_i4_done to 0 before
	calling get_valid_dis386.  Use rex_original and rex_ignored when
	printing out REX.
	(putop): Handle "XY".
	(intel_operand_size): Handle VEX, xmm_mode, xmmq_mode and
	ymmq_mode.
	(OP_E_extended): Updated to use OP_E_register and
	OP_E_memory.
	(OP_XMM): Handle VEX.
	(OP_EX): Likewise.
	(XMM_Fixup): Likewise.
	(CMP_Fixup): Use ARRAY_SIZE.

	* i386-gen.c (cpu_flag_init): Add CpuAES, CPU_CLMUL_FLAGS,
	CPU_FMA_FLAGS and CPU_AVX_FLAGS.
	(operand_type_init): Add OPERAND_TYPE_REGYMM and
	OPERAND_TYPE_VEX_IMM4.
	(cpu_flags): Add CpuAVX, CpuAES, CpuCLMUL and CpuFMA.
	(opcode_modifiers): Add Implicit1stXmm0, Vex, Vex256, VexNDD,
	VexNDS, VexW0, VexW1, Vex0F, Vex0F38, Vex0F3A, Vex3Sources,
	VexImmExt and SSE2AVX.
	(operand_types): Add RegYMM, Ymmword and Vex_Imm4.

	* i386-opc.h (CpuAVX): New.
	(CpuAES): Likewise.
	(CpuCLMUL): Likewise.
	(CpuFMA): Likewise.
	(Vex): Likewise.
	(Vex256): Likewise.
	(VexNDS): Likewise.
	(VexNDD): Likewise.
	(VexW0): Likewise.
	(VexW1): Likewise.
	(Vex0F): Likewise.
	(Vex0F38): Likewise.
	(Vex0F3A): Likewise.
	(Vex3Sources): Likewise.
	(VexImmExt): Likewise.
	(SSE2AVX): Likewise.
	(RegYMM): Likewise.
	(Ymmword): Likewise.
	(Vex_Imm4): Likewise.
	(Implicit1stXmm0): Likewise.
	(CpuXsave): Updated.
	(CpuLM): Likewise.
	(ByteOkIntel): Likewise.
	(OldGcc): Likewise.
	(Control): Likewise.
	(Unspecified): Likewise.
	(OTMax): Likewise.
	(i386_cpu_flags): Add cpuavx, cpuaes, cpuclmul and cpufma.
	(i386_opcode_modifier): Add implicit1stxmm0, vex, vex256,
	vexnds, vexndd, vexw0, vexw1, vex0f, vex0f38, vex0f3a,
	vex3sources, veximmext and sse2avx.
	(i386_operand_type): Add regymm, ymmword and vex_imm4.

	* i386-opc.tbl: Add AES, CLMUL, AVX and FMA new instructions.

	* i386-reg.tbl: Add AVX registers, ymm0..ymm15.

	* i386-init.h: Regenerated.
	* i386-tbl.h: Likewise.
@
text
@d1 18
@


1.1329
log
@gas/testsuite/:
	From Robin Getz  <rgetz@@blackfin.uclinux.org>
	* gas/bfin/arithmetic.d: Update to reflect spaces/capitalization in
	recent changes in opcodes/bfin-dis.c.
	gas/bfin/arithmetic.s: Likewise.
	gas/bfin/bit.d: Likewise.
	gas/bfin/bit2.d: Likewise.
	gas/bfin/control_code.d: Likewise.
	gas/bfin/control_code2.d: Likewise.
	gas/bfin/event.d: Likewise.
	gas/bfin/event2.d: Likewise.
	gas/bfin/flow.d: Likewise.
	gas/bfin/flow2.d: Likewise.
	gas/bfin/load.d: Likewise.
	gas/bfin/logical.d: Likewise.
	gas/bfin/logical2.d: Likewise.
	gas/bfin/move.d: Likewise.
	gas/bfin/move2.d: Likewise.
	gas/bfin/parallel.d: Likewise.
	gas/bfin/parallel2.d: Likewise.
	gas/bfin/parallel3.d: Likewise.
	gas/bfin/parallel4.d: Likewise.
	gas/bfin/shift.d: Likewise.
	gas/bfin/shift2.d: Likewise.
	gas/bfin/stack.d: Likewise.
	gas/bfin/stack2.d: Likewise.
	gas/bfin/store.d: Likewise.
	gas/bfin/vector.d: Likewise.
	gas/bfin/vector2.d: Likewise.
	gas/bfin/video.d: Likewise.
	gas/bfin/video2.d: Likewise.

opcodes/:
	* bfin-dis.c: (c_uimm4s4d, c_imm5d, c_imm7d, c_imm16d, c_uimm16s4d,
	c_imm32, c_huimm32e): Define.
	(constant_formats): Add flags for printing decimal, leading spaces, and
	exact symbols.
	(comment, parallel): Add global flags in all disassembly.
	(fmtconst): Take advantage of new flags, and print default in hex.
	(fmtconst_val): Likewise.
	(decode_macfunc): Be consistant with spaces, tabs, comments,
	capitalization in disassembly, fix minor coding style issues.
	(reg_names, amod0, amod1, amod0amod2, aligndir, get_allreg): Likewise.
	(decode_ProgCtrl_0, decode_PushPopMultiple_0, decode_CCflag_0,
	decode_CC2dreg_0, decode_CC2stat_0, decode_BRCC_0, decode_UJUMP_0,
	decode_REGMV_0, decode_ALU2op_0, decode_PTR2op_0, decode_LOGI2op_0,
	decode_COMP3op_0, decode_COMPI2opD_0, decode_COMPI2opP_0,
	decode_LDSTpmod_0, decode_dagMODim_0, decode_dagMODik_0,
	decode_dspLDST_0, decode_LDST_0, decode_LDSTiiFP_0, decode_LDSTii_0,
	decode_LoopSetup_0, decode_LDIMMhalf_0, decode_CALLa_0,
	decode_LDSTidxI_0, decode_linkage_0, decode_dsp32alu_0,
	decode_dsp32shift_0, decode_dsp32shiftimm_0, decode_pseudodbg_assert_0,
	_print_insn_bfin, print_insn_bfin): Likewise.
@
text
@d1 56
@


1.1328
log
@gas/:
	* config/tc-bfin.c (bfin_start_line_hook): Localize the labels
	generated for LOOP_BEGIN and LOOP_END instructions.
	(bfin_gen_loop): Likewise.

gas/testsuite/:
	* gas/bfin/flow.d: Adjust since the generated labels for LOOP_BEGIN
	and LOOP_END instruction are local now.
	* gas/bfin/flow2.d: Likewise.
@
text
@d28 31
@


1.1327
log
@gas/
	* config/bfin-parse.y (check_macfunc_option): Allow (IU)
	option for multiply and multiply-accumulate to data register
	instruction.
	(check_macfuncs): Don't check if accumulator matches the data register
	here.
	(assign_macfunc): Check if accumulator matches the
	data register in each rule that moves to the data
	register.

gas/testsuite/
	* gas/bfin/arithmetic.s, gas/bfin/arithmetic.d: Add check
	for IU option.
	* gas/bfin/expected_errors.l, gas/bfin/expected_errors.s:
	Add check for mismatch of accumulator and data register.

opcodes/
	* bfin-dis.c (decode_dsp32mac_0): Decode (IU) option for
	multiply and multiply-accumulate to data register instruction.
@
text
@d18 5
a22 1
	
@


1.1326
log
@gas/:
	* config/bfin-parse.y (check_macfunc_option): New.
 	(check_macfuncs): Check option by calling check_macfunc_option.
	Fix comparison always true warnings.  Both scalar instructions
	of vector instruction must share the same mode option.  Only allow
	option mode at the end of the second instruction of the vector.
 	(asm_1): Check option by calling check_macfunc_option.

gas/testsuite/:
	* gas/bfin/expected_errors.l, gas/bfin/expected_errors.s: Add
	tests for bad options of "multiply and multipy-accumulate to
	accumulator" instructions.  Add new vector instruction option
	mode tests.
	* gas/bfin/vector2.s: Add new vector instruction option mode test.
	* gas/bfin/vector2.d: Adjust accordingly.

	* gas/bfin/expected_errors.s, gas/bfin/expected_errors.l: Add test
	for mismatched half registers in vector multipy-accumulate
	instructions.
@
text
@d14 5
a18 1

@


1.1325
log
@gas/
	From Jie Zhang  <jie.zhang@@analog.com>
	* config/bfin-parse.y (asm_1): Check AREGS in comparison
	instructions. And call yyerror () when comparing PREG with
	DREG.

gas/testsuite/:
	* gas/bfin/expected_comparison_errors.l: New test.
	* gas/bfin/expected_comparison_errors.s: New test.
	* gas/bfin/bfin.exp: Add expected_comparison_errors.
@
text
@d8 11
@


1.1324
log
@opcodes:
	From  Robin Getz  <robin.getz@@analog.com>
	* bfin-dis.c (bu32): Typedef.
	(enum const_forms_t): Add c_uimm32 and c_huimm32.
	(constant_formats[]): Add uimm32 and huimm16.
	(fmtconst_val): New.
	(uimm32): Define.
	(huimm32): Define.
	(imm16_val): Define.
	(luimm16_val): Define.
	(struct saved_state): Define.
	(GREG, DPREG, DREG, PREG, SPREG, FPREG, IREG, MREG, BREG, LREG,
	A0XREG, A0WREG, A1XREG, A1WREG,CCREG, LC0REG, LT0REG, LB0REG,
	LC1REG, LT1REG, LB1REG, RETSREG, PCREG): Define.
	(get_allreg): New.
	(decode_LDIMMhalf_0): Print out the whole register value.

gas/testsuite:
	From Jie Zhang  <jie.zhang@@analog.com>
	* gas/bfin/load.d: Update.
@
text
@d5 3
@


1.1323
log
@2008-03-19  Andreas Krebbel  <krebbel1@@de.ibm.com>

	* opcodes/s390-mkopc.c (s390_opcode_cpu_val): S390_OPCODE_Z10 added.
	(s390_cond_extensions): Reduced extensions to the compare related.
	(main): z10 cpu type option added.
	(expandConditionalJump): Renamed to ...
	(insertExpandedMnemonic): ... this.

	* opcodes/s390-opc.c: Re-group the operand format makros.
	(INSTR_RIE_RRPU, INSTR_RIE_RRP0, INSTR_RIE_RUPI,
	INSTR_RIE_R0PI, INSTR_RIE_RUPU, INSTR_RIE_R0PU, INSTR_RIE_R0IU,
	INSTR_RIE_R0I0, INSTR_RIE_R0UU, INSTR_RIE_R0U0,
	INSTR_RIE_RRUUU, INSTR_RIS_RURDI, INSTR_RIS_R0RDI, INSTR_RIS_RURDU,
	INSTR_RIS_R0RDU, INSTR_RRF_U0RR, INSTR_RRF_00RR, INSTR_RRS_RRRDU,
	INSTR_RRS_RRRD0, INSTR_RXY_URRD, INSTR_SIY_IRD, INSTR_SIL_RDI,
	INSTR_SIL_RDU): New instruction formats added.
	(MASK_RIE_RRPU, MASK_RIE_RRP0, MASK_RIE_RUPI, MASK_RIE_R0PI,
	MASK_RIE_RUPU, MASK_RIE_R0PU, MASK_RIE_R0IU, MASK_RIE_R0I0,
	MASK_RIE_R0UU, MASK_RIE_R0U0, MASK_RIE_RRUUU, MASK_RIS_RURDI,
	MASK_RIS_R0RDI, MASK_RIS_RURDU, MASK_RIS_R0RDU, MASK_RRF_U0RR,
	MASK_RRF_00RR, MASK_RRS_RRRDU, MASK_RRS_RRRD0, MASK_RXY_URRD,
	MASK_SIY_IRD, MASK_SIL_RDI, MASK_SIL_RDU): New instruction format
	masks added.
	(s390_opformats): New formats added "ris", "rrs", "sil".
	* opcodes/s390-opc.txt: Add the conditional jumps with the
	extensions removed from automatic expansion in s390-mkopc.c manually.
	(asi - trtre): Add new System z10 EC instructions.
	* include/opcode/s390.h (s390_opcode_cpu_val): S390_OPCODE_Z10 added.

2008-03-19  Andreas Krebbel  <krebbel1@@de.ibm.com>

	* config/tc-s390.c (md_parse_option): z10 option added.

2008-03-19  Andreas Krebbel  <krebbel1@@de.ibm.com>

	* gas/s390/zarch-z10.d: New file.
	* gas/s390/zarch-z10.s: New file.
	* gas/s390/s390.exp: Run the z10 testcases.
@
text
@d1 5
@


1.1322
log
@gas/testsuite/
	* gas/mips/elf-rel26.d: Add -32.
	* gas/mips/mips16-intermix.d: Likewise.

ld/testsuite/
	* ld-mips-elf/mips-elf.exp (o32_as_flags, o32_ld_flags): New variables.
	(mips16_call_global_test, mips16_intermix_test): Use them.
@
text
@d1 6
@


1.1321
log
@PR gas/5895
   * read.c (s_mexit): Warn if attempting to exit a macro when not
   inside a macro definition.

   * gas/macros/exit.s: New test case.
   * gas/macros/macros.exp: Run the new test, expect it to produce an
   error result.
@
text
@d1 5
@


1.1320
log
@2008-03-09  Paul Brook  <paul@@codesourcery.com>

	bfd/
	* elf32-arm.c (elf32_arm_merge_eabi_attributes): Handle new
	Tag_VFP_arch values.

	binutils/
	* readelf.c (arm_attr_tag_VFP_arch): Add "VFPv3-D16".

	gas/
	* config/tc-arm.c (fpu_vfp_ext_d32): New vairable.
	(parse_vfp_reg_list, encode_arm_vfp_reg): Use it.
	(arm_option_cpu_value): Add vfpv3-d16, vfpv2 and vfpv3.
	(aeabi_set_public_attributes): Handle Tag_VFP_arch=VFPV3-D16.
	* doc/c-arm.texi: Document new ARM FPU variants.

	gas/testsuite/
	* gas/arm/vfpv3-d16-bad.d: New test.
	* gas/arm/vfpv3-d16-bad.l: New test.

	include/opcode/
	* arm.h (FPU_VFP_EXT_D32, FPU_VFP_V3D16, FPU_ARCH_VFP_V3D16): Define.
@
text
@d1 7
@


1.1319
log
@2008-03-06  Florian Krohm  <fkrohm@@us.ibm.com>

	* s390-opc.c (INSTR_RSL_R0RD): Fix operands.
	* s390-opc.txt (cmpsc): Duplicate entry removed.
	(dxr, sqdr, sqer, cxfbr, cdfbr, cefbr, lzer, lzdr, lzxr,
	cegbr, cdgbr, cxgbr, cegr, cdgr, cxgr, cxfr, cdfr, cefr, fixr, fidr,
	fier, cu42, cu41): Fix operand format.

2008-03-06  Andreas Krebbel  <krebbel1@@de.ibm.com>

	* gas/s390/esa-g5.d (cdfbr, cdfr, cefbr, cefr, cxfbr, cxfr,
	dxr, fidr, fier, fixr, lzdr, lzer, lzxr, sqdr, sqer, tp): Fix
	operand format.
	* gas/s390/esa-g5.s: Likewise.
	* gas/s390/zarch-z900.d (cdgbr, cdgr, cegbr, cegr, cxgbr,
	cxgr): Likewise.
	* gas/s390/zarch-z900.s: Likewise.
	* gas/s390/zarch-z9-109.d (cu41, cu42): Remove mask operand.
	* gas/s390/zarch-z9-109.s: Likewise.
@
text
@d1 5
@


1.1318
log
@2008-03-04  Paul Brook  <paul@@codesourcery.com>

	gas/
	* config/tc-arm.c (arm_ext_barrier, arm_ext_msr): New.
	(arm_ext_v7m): Rename...
	(arm_ext_m): ... to this.  Include v6-M.
	(do_t_add_sub): Allow narrow low-reg non flag setting adds.
	(do_t_mrs, do_t_msr, aeabi_set_public_attributes): Use arm_ext_m.
	(md_assemble): Allow wide msr instructions.
	(insns): Add classifications for v6-m instructions.
	(arm_cpu_option_table): Add cortex-m1.
	(arm_arch_option_table): Add armv6-m.
	(cpu_arch): Add ARM_ARCH_V6M.  Fix numbering of other v6 variants.

	gas/testsuite/
	* gas/arm/archv6m.d: New test.
	* gas/arm/archv6m.s: New test.
	* gas/arm/t16-bad.s: Test low register non flag setting add.
	* gas/arm/t16-bad.l: Update expected output.

	include/opcode/
	* arm.h (ARM_EXT_V6M, ARM_EXT_BARRIER, ARM_EXT_THUMB_MSR): Define.
	(ARM_AEXT_V6T2, ARM_AEXT_V7_ARM, ARM_AEXT_V7M): Use new flags.
	(ARM_AEXT_V6M, ARM_ARCH_V6M): Define.
@
text
@d1 12
@


1.1317
log
@gas/

2008-03-03  Denys Vlasenko <vda.linux@@googlemail.com>
	    H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/5543
	* read.c (pseudo_set): Don't allow global register symbol.

	* symbols.c (S_SET_EXTERNAL): Don't allow register symbol
	global.

2008-03-03  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/5543
	* write.c (write_object_file): Don't allow symbols which were
	equated to register.  Stop if there is an error.

gas/testsuite/

2008-03-03  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/5543
	* gas/i386/i386.exp: Run inval-equ-1 and inval-equ-2.

	* gas/i386/inval-equ-1.l: New.
	* gas/i386/inval-equ-1.s: Likewise.
	* gas/i386/inval-equ-2.l: Likewise.
	* gas/i386/inval-equ-2.s: Likewise.
@
text
@d1 7
@


1.1316
log
@gas/testsuite/

2008-03-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/x86-64-branch.s: Add tests for 16-bit near indirect
	branches.

	* gas/i386/x86-64-inval.s: Remove tests for 16-bit near indirect
	branches.

	* gas/i386/x86-64-branch.d: Updated.
	* gas/i386/x86-64-inval.l: Likewise.

opcodes/

2008-03-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-opc.tbl: Allow 16-bit near indirect branches for x86-64.
	* i386-tbl.h: Regenerated.
@
text
@d1 9
@


1.1315
log
@   PR 3134
   * h8300.h (h8_opcodes): Add an encoding for a mov.l instruction
   with a 32-bit displacement but without the top bit of the 4th byte
   set.

   * gas/h8300/pr3134.s: New test.
   * gas/h8300/pr3134.d: Expected disassembly
   * gas/h8300/h8300.exp: Run the new test.

   * gas/h8300/h8300-coff.exp: Fix test for COFF based ports to
   accept h8300-rtemscoff not just h8300-rtems.
@
text
@d1 12
@


1.1314
log
@2008-02-26  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/jump.d: Updated for COFF.
@
text
@d1 10
@


1.1313
log
@gas/testsuite/

2008-02-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/jump.s: Add tests for far branches.
	* gas/i386/jump16.s: Likewise.

	* gas/i386/jump.d: Updated.
	* gas/i386/jump16.d: Likewise.
	* gas/i386/x86-64-inval.l: Likewise.

	* gas/i386/x86-64-inval.s: Add tests for 16-bit near indirect
	branches.

opcodes/

2008-02-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-opc.tbl: Disallow 16-bit near indirect branches for
	x86-64.
	* i386-tbl.h: Regenerated.
@
text
@d1 4
@


1.1312
log
@* gas/m68hc11/bug-1825.d: Update to match changes in the
  information generated with source-in-disassembly listings.
  * gas/m68hc11/indexed12.d: Likewise.
  * gas/m68hc11/insns-dwarf2.d: Likewise.
  * gas/m68hc11/lbranch-dwarf2.d: Likewise.
@
text
@d1 12
@


1.1311
log
@Correct year.
@
text
@d1 8
@


1.1310
log
@2008-02-18  H.J. Lu  <hongjiu.lu@@intel.com>

	* cfi/cfi.exp (gas_x86_64_check): New.
	(gas_x86_32_check): Likewise.
	Run 32bit and 64bit tests for x86 targets if they are supportd.
@
text
@d43 1
a43 1
2002-02-12  H.J. Lu  <hongjiu.lu@@intel.com>
@


1.1309
log
@gas/
2008-02-18  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-i386.c (match_template): Disallow 'l' suffix when
	currently selected CPU has no 32-bit support.
	(parse_real_register): Do not return registers not available on
	currently selected CPU.

gas/testsuite/
2008-02-18  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/att-regs.s, gas/i386/att-regs.d,
	gas/i386/intel-regs.s, gas/i386/intel-regs.d: New.
	* gas/i386/i386.exp: Run new tests.
@
text
@d1 6
@


1.1308
log
@        PR gas/5712
        * config/tc-arm.c (s_arm_unwind_save): Advance the input line
        pointer past the comma after parsing a floating point register
        name.

        * gas/arm/fp-save.s: New test.
        * gas/arm/fp-save.d: Expected disassembly.
@
text
@d1 6
@


1.1307
log
@	* gas/mips/branch-misc-2pic-64.d (#name): Have a unique name
	different from the branch-misc-2-64.d test.
@
text
@d1 6
@


1.1306
log
@gas/
2008-02-13  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-i386.c (parse_real_register): Don't return 'FLAT'
	if not in Intel mode.
	(i386_intel_operand): Ignore segment overrides in immediate and
	offset operands.
	(intel_e11): Range-check i.mem_operands before use as array
	index. Filter out FLAT for uses other than as segment override.
	(intel_get_token): Remove broken promotion of "FLAT:" to mean
	"offset FLAT:".

gas/testsuite/
2008-02-13  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/intelok.s: Replace invalid offset expression with
	valid ones.
	* gas/i386/x86_64.s: Likewise.

opcodes/
2008-02-13  Jan Beulich  <jbeulich@@novell.com>

	* i386-opc.h (RegFlat): New.
	* i386-reg.tbl (flat): Add.
	* i386-tbl.h: Re-generate.
@
text
@d1 5
@


1.1305
log
@gas/
2008-02-13  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-i386.c (intel_e09): Also special-case 'bound'.

gas/testsuite/
2008-02-13  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/intelbad.s, gas/i386/intelok.s: Add 'bound' tests.
	* gas/i386/intelbad.l, gas/i386/intelok.l, gas/i386/intelok.e,
	gas/i386/opcode-intel.d: Adjust.

opcodes/
2008-02-13  Jan Beulich  <jbeulich@@novell.com>

	* i386-dis.c (a_mode): New.
	(cond_jump_mode): Adjust.
	(Ma): Change to a_mode.
	(intel_operand_size): Handle a_mode.
	* i386-opc.tbl: Allow Dword and Qword for bound.
	* i386-tbl.h: Re-generate.
@
text
@d3 6
@


1.1304
log
@gas/
2008-02-13  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-i386.c (allow_pseudo_reg): New.
	(parse_real_register): Check for NULL just once. Allow all
	register table entries when allow_pseudo_reg is non-zero.
	Don't allow any registers without type when allow_pseudo_reg
	is zero.
	(tc_x86_regname_to_dw2regnum): Replace with ...
	(tc_x86_parse_to_dw2regnum): ... this.
	(tc_x86_frame_initial_instructions): Adjust for above change.
	* config/tc-i386.h (tc_regname_to_dw2regnum): Remove.
	(tc_parse_to_dw2regnum): New.
	(tc_x86_regname_to_dw2regnum): Replace with ...
	(tc_x86_parse_to_dw2regnum): ... this.
	* dw2gencfi.c (tc_parse_to_dw2regnum): New, broken out of ...
	(cfi_parse_reg): ... this. Use tc_parse_to_dw2regnum. Adjust
	error handling.

gas/testsuite/
2008-02-13  Jan Beulich  <jbeulich@@novell.com>

	* gas/cfi/cfi-i386.s: Add code testing use of all registers.
	Fix a few comments.
	* gas/cfi/cfi-x86_64.s: Likewise.
	* gas/cfi/cfi-i386.d, gas/cfi/cfi-x86_64.d: Adjust.

opcodes/
2008-02-13  Jan Beulich  <jbeulich@@novell.com>

	* i386-gen.c (process_i386_registers): Process new fields.
	* i386-opc.h (reg_entry): Shrink reg_flags and reg_num to
	unsigned char. Add dw2_regnum and Dw2Inval.
	* i386-reg.tbl: Provide initializers for dw2_regnum. Add pseudo
	register names.
	* i386-tbl.h: Re-generate.
@
text
@d3 6
@


1.1303
log
@2002-02-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run x86-64-arch-2 instead of
	x86-64-arch-10.

	* gas/i386/x86-64-arch-10.d: Removed.

	* gas/i386/x86-64-arch-2.d: New.
	* gas/i386/x86-64-arch-2.s: Likewise.
@
text
@d1 7
@


1.1302
log
@2008-02-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/x86-64-xsave.d: Remove prefix.
@
text
@d1 10
@


1.1301
log
@gas/

2008-02-11  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (cpu_arch): Add .xsave.
	(md_show_usage): Add .xsave.

	* doc/c-i386.texi: Add xsave to -march=.

gas/testsuite/

2008-02-11  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/arch-10.s: Add xgetbv.

	* gas/i386/arch-10.d: Updated.
	* gas/i386/arch-10-1.l: Likewise.
	* gas/i386/arch-10-2.l: Likewise.
	* gas/i386/arch-10-3.l: Likewise.
	* gas/i386/arch-10-4.l: Likewise.
	* gas/i386/x86-64-arch-10.d: Likewise.

opcodes/

2008-02-11  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-gen.c  (cpu_flag_init): Add CPU_XSAVE_FLAGS.
	* i386-init.h: Updated.
@
text
@d1 4
@


1.1300
log
@gas/testsuite/

2002-02-11  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run xsave, xsave-intel, x86-64-xsave
	and x86-64-xsave-intel.

	* gas/i386/x86-64-xsave-intel.d: New file.
	* gas/i386/x86-64-xsave.d: Likewise.
	* gas/i386/x86-64-xsave.s: Likewise.
	* gas/i386/xsave-intel.d: Likewise.
	* gas/i386/xsave.d: Likewise.
	* gas/i386/xsave.s: Likewise.

opcodes/

2008-02-11  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-gen.c (cpu_flags): Add CpuXsave.

	* i386-opc.h (CpuXsave): New.
	(Cpu64): Updated.
	(i386_cpu_flags): Add cpuxsave.

	* i386-dis.c (MOD_0FAE_REG_4): New.
	(RM_0F01_REG_2): Likewise.
	(MOD_0FAE_REG_5): Updated.
	(RM_0F01_REG_3): Likewise.
	(reg_table): Use MOD_0FAE_REG_4.
	(mod_table): Use RM_0F01_REG_2.  Add MOD_0FAE_REG_4.  Updated
	for xrstor.
	(rm_table): Add RM_0F01_REG_2.

	* i386-opc.tbl: Add xsave, xrstor, xgetbv and xsetbv.
	* i386-init.h: Regenerated.
	* i386-tbl.h: Likewise.
@
text
@d1 11
@


1.1299
log
@	* gas/mips/mips.exp: Invoke the tests smartmips, mips32-dsp,
	mips32-dspr2, mips64-dsp and mips32-mt with run_dump_test instead
	of run_dump_test_arches.
	* gas/mips/smartmips.d: Pass -mips32.
	* gas/mips/mips64-dsp.d: Pass -mips64r2.
	* gas/mips/mips32-dsp.d: Pass -mips32r2.
	* gas/mips/mips32-dspr2.d: Likewise.
	* gas/mips/mips32-mt.d: Likewise.
@
text
@d1 12
@


1.1298
log
@	* gas/mips/mips.exp: Call mips_arch_create for Octeon.  Invoke
	Octeon tests.
	* gas/mips/octeon.s, gas/mips/octeon.d: New test.
@
text
@d1 11
@


1.1297
log
@2008-01-31  Marc Gauthier  <marc@@tensilica.com>
bfd/
	* config.bfd (xtensa*-*-*): Recognize processor variants.
gas/
	* configure.tgt (xtensa*-*-*): Recognize processor variants.
gas/testsuite/
	* gas/all/gas.exp: Recognize Xtensa processor variants.
	* gas/elf/elf.exp: Likewise.
	* gas/lns/lns.exp: Likewise.
ld/
	* configure.tgt (xtensa*-*-*): Recognize processor variants.
ld/testsuite/
	* ld-elf/merge.d: Recognize Xtensa processor variants.
	* ld-xtensa/coalesce.exp: Likewise.
	* ld-xtensa/lcall.exp: Likewise.
@
text
@d1 6
@


1.1296
log
@binutils/

2008-01-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* dwarf.c: Include "elf/common.h".
	(eh_addr_size): Changed to int.
	(dwarf_regnames_i386): New.
	(dwarf_regnames_x86_64): Likewise.
	(dwarf_regnames): Likewise.
	(dwarf_regnames_count): Likewise.
	(init_dwarf_regnames): Likewise.
	(regname): Likewise.
	(frame_display_row): Properly support different address size.
	Call regname to get register name.
	(display_debug_frames): Call regname to get register name.
	Display DW_CFA_def_cfa_register as DW_CFA_def_cfa_register
	instead of DW_CFA_def_cfa_reg.

	* dwarf.h (init_dwarf_regnames): New.

	* objdump.c: Include "elf-bfd.h".
	(dump_dwarf): Call init_dwarf_regnames on ELF input.

	* readelf.c (guess_is_rela): Change argument to int.
	(parse_args): Remove the undocumented upper case options for
	-wX.
	(process_file_header): Call init_dwarf_regnames if
	do_dwarf_register is true.

gas/testsuite/

2008-01-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/cfi/cfi-alpha-1.d: Replace DW_CFA_def_cfa_reg with
	DW_CFA_def_cfa_register.
	* gas/cfi/cfi-alpha-3.d: Likewise.
	* gas/cfi/cfi-hppa-1.d: Likewise.
	* gas/cfi/cfi-i386.d: Likewise.
	* gas/cfi/cfi-m68k.d: Likewise.
	* gas/cfi/cfi-mips-1.d: Likewise.
	* gas/cfi/cfi-sh-1.d: Likewise.
	* gas/cfi/cfi-sparc-1.d: Likewise.
	* gas/cfi/cfi-sparc64-1.d: Likewise.
	* gas/cfi/cfi-x86_64.d: Likewise.

	* gas/cfi/cfi-common-1.d: Updated for i386/x86-64 register
	names.
	* gas/cfi/cfi-common-2.d: Likewise.
	* gas/cfi/cfi-common-5.d: Likewise.
	* gas/cfi/cfi-i386.d: Likewise.
	* gas/cfi/cfi-x86_64.d: Likewise.

ld/testsuite/

2008-01-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* ld-elf/eh1.d: Replace DW_CFA_def_cfa_reg with
	DW_CFA_def_cfa_register. Updated for i386/x86-64 register
	names.
	* ld-elf/eh2.d: Likewise.
	* ld-elf/eh3.d: Likewise.
	* ld-elf/eh4.d: Likewise.
	* ld-elf/eh5.d: Likewise.
@
text
@d1 6
@


1.1295
log
@gas/testsuite/

2008-01-24  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/x86-64-sib.s: Add tests for r12.

	* gas/i386/x86-64-sib-intel.d: Updated.
	* gas/i386/x86-64-sib.d: Likewise.

opcodes/

2008-01-24  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (OP_E_extended): Handle r12 like rsp.
@
text
@d1 21
@


1.1294
log
@gas/

2008-01-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (md_show_usage): Replace tabs with spaces.

gas/testsuite/

2008-01-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp : Run x86-64-arch-1 and x86-64-arch-10.

	* gas/i386/x86-64-arch-1.d: New.
	* gas/i386/x86-64-arch-1.s: Likewise.
	* gas/i386/x86-64-arch-10.d: Likewise.

opcodes/

2008-01-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-gen.c (cpu_flag_init): Add CpuLM to CPU_GENERIC64_FLAGS.
	* i386-init.h: Regenerated.
@
text
@d1 7
@


1.1293
log
@2008-01-23  Tristan Gingold  <gingold@@adacore.com>

        * gas/ia64/regs.d: Updated as the ia64 disassembler now displays
        symbolic names for all ar registers.
@
text
@d1 8
@


1.1292
log
@gas/

2008-01-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (i386_target_format): Remove cpummx2.

gas/testsuite/

2008-01-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/arch-10.d: New.
	* gas/i386/arch-11.s: Likewise.
	* gas/i386/arch-12.d: Likewise.
	* gas/i386/arch-12.s: Likewise.

	* gas/i386/i386.exp: Run arch-11 and arch-12.

opcodes/

2008-01-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-gen.c (cpu_flag_init): Remove CpuMMX2.
	(cpu_flags): Likewise.

	* i386-opc.h (CpuMMX2): Removed.
	(CpuSSE): Updated.

	* i386-opc.tbl: Replace CpuMMX2 with CpuSSE|Cpu3dnowA.
	* i386-init.h: Regenerated.
	* i386-tbl.h: Likewise.
@
text
@d1 5
@


1.1291
log
@gas/

2008-01-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (XXX_PREFIX): Moved from tc-i386.h.
	(XXX_MNEM_SUFFIX): Likewise.
	(END_OF_INSN): Likewise.
	(templates): Likewise.
	(modrm_byte): Likewise.
	(rex_byte): Likewise.
	(DREX_XXX): Likewise.
	(drex_byte): Likewise.
	(sib_byte): Likewise.
	(processor_type): Likewise.
	(arch_entry): Likewise.
	(cpu_sub_arch_name): Remove const.
	(cpu_arch): Add .vmx and .smx.
	(set_cpu_arch): Append cpu_sub_arch_name.
	(md_parse_option): Support -march=CPU[,+EXTENSION...].
	(md_show_usage): Updated.

	* config/tc-i386.h (XXX_PREFIX): Moved to tc-i386.c.
	(XXX_MNEM_SUFFIX): Likewise.
	(END_OF_INSN): Likewise.
	(templates): Likewise.
	(modrm_byte): Likewise.
	(rex_byte): Likewise.
	(DREX_XXX): Likewise.
	(drex_byte): Likewise.
	(sib_byte): Likewise.
	(processor_type): Likewise.
	(arch_entry): Likewise.

	* doc/as.texinfo: Update i386 -march option.

	* doc/c-i386.texi: Update -march= for ISA.

gas/testsuite/

2008-01-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/arch-10-1.l: New.
	* gas/i386/arch-10-1.s: Likewise.
	* gas/i386/arch-10-2.l: Likewise.
	* gas/i386/arch-10-2.s: Likewise.
	* gas/i386/arch-10-3.l: Likewise.
	* gas/i386/arch-10-3.s: Likewise.
	* gas/i386/arch-10-4.l: Likewise.
	* gas/i386/arch-10-4.s: Likewise.
	* gas/i386/arch-10.d: Likewise.
	* gas/i386/arch-10.s: Likewise.

	* gas/i386/i386.exp: Run arch-10, arch-10-1, arch-10-2,
	arch-10-3 and arch-10-4.

	* gas/i386/nops-2.s: Use movsbl instead of cmove.
	* gas/i386/nops-2-i386.d: Updated.
	* gas/i386/nops-2-merom.d: Likewise.
	* gas/i386/nops-2.d: Likewise.
	* gas/i386/x86-64-nops-2.d: Likewise.

opcodes/

2008-01-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-gen.c (cpu_flag_init): Add CPU_VMX_FLAGS and
	CPU_SMX_FLAGS.
	* i386-init.h: Regenerated.
@
text
@d3 9
@


1.1290
log
@gas/testsuite/

2008-01-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/prescott.s: Add tests for movddup in Intel syntax.
	* gas/i386/x86-64-prescott.s: Likewise.

	* gas/i386/prescott.d: Updated.
	* gas/i386/x86-64-prescott.d: Likewise.

opcodes/

2008-01-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-opc.tbl: Use Qword on movddup.
	* i386-tbl.h: Regenerated.
@
text
@d1 22
@


1.1289
log
@gas/

2008-01-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (md_assemble): Also zap movzx and movsx
	suffix for AT&T syntax.

gas/testsuite/

2008-01-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.s: Add more tests for movsx and movzx.
	* gas/i386/x86_64.s: Likewise.

	* gas/i386/inval.s: Remove tests for movsxw and movzxw.

	* gas/i386/x86-64-inval.s: Remove tests for movsxb, movsxw,
	movsxl, movzxb and movzxw.

	* gas/i386/i386.d: Updated.
	* gas/i386/inval.l: Likewise.
	* gas/i386/x86_64.d: Likewise.
	* gas/i386/x86-64-inval.l: Likewise.

opcodes/

2008-01-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-opc.tbl: Put back 16bit movsx/movzx for AT&T syntax.
	* i386-tbl.h: Regenerated.
@
text
@d3 8
@


1.1288
log
@gas/

2008-01-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (match_reg_size): New.
	(match_mem_size): Likewise.
	(operand_size_match): Likewise.
	(operand_type_match): Also clear all size fields.
	(match_template): Skip Intel syntax when in AT&T syntax.
	Call operand_size_match to check operand size.
	(i386_att_operand): Set the mem field to 1 for memory
	operand.
	(i386_intel_operand): Likewise.

gas/testsuite/

2008-01-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.s: Add tests for movsx, movzx and movnti.
	* gas/i386/inval.s: Likewise.
	* gas/i386/x86_64.s: Likewise.
	* gas/i386/x86-64-inval.s: Likewise.

	* gas/i386/i386.d: Updated.
	* gas/i386/inval.l: Likewise.
	* gas/i386/x86_64.d: Likewise.
	* gas/i386/x86-64-inval.l: Likewise.

opcodes/

2008-01-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-gen.c (opcode_modifiers): Add IntelSyntax.
	(operand_types): Add Mem.

	* i386-opc.h (IntelSyntax): New.
	* i386-opc.h (Mem): New.
	(Byte): Updated.
	(Opcode_Modifier_Max): Updated.
	(i386_opcode_modifier): Add intelsyntax.
	(i386_operand_type): Add mem.

	* i386-opc.tbl: Remove Reg16 from movnti.  Add sizes to more
	instructions.

	* i386-reg.tbl: Add size for accumulator.

	* i386-init.h: Regenerated.
	* i386-tbl.h: Likewise.
@
text
@d1 15
@


1.1287
log
@gas/testsuite/

2008-01-12  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/5534
	* gas/i386/i386.s: Add tests for fnstsw and fstsw.
	* gas/i386/inval.s: Likewise.
	* gas/i386/x86_64.s: Likewise.

	* gas/i386/intel.s: Use word instead of dword on ss.

	* gas/i386/x86-64-inval.s: Add tests for fnstsw, fstsw, in
	and out.

	* gas/i386/prefix.s: Remove invalid fstsw.

	* gas/i386/inval.l: Updated.
	* gas/i386/intelbad.l: Likewise.
	* gas/i386/i386.d: Likewise.
	* gas/i386/x86_64.d: Likewise.
	* gas/i386/x86-64-inval.l: Likewise.
	* gas/i386/prefix.d: Updated.

gas/

2008-01-12  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/5534
	* config/tc-i386.c (_i386_insn): Update comment.
	(operand_type_match): Also clear unspecified.
	(operand_type_register_match): Likewise.
	(parse_operands): Initialize unspecified.
	(i386_intel_operand): Likewise.
	(match_template): Check memory and accumulator operand size.
	(i386_att_operand): Clear unspecified on register operand.
	(intel_e11): Likewise.
	(intel_e09): Set operand size and clean unspecified for
	"XXX PTR".

opcodes/

2008-01-12  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/5534
	* i386-gen.c (operand_type_init): Add Dword to
	OPERAND_TYPE_ACC32.  Add Qword to OPERAND_TYPE_ACC64.
	(opcode_modifiers): Remove CheckSize, Byte, Word, Dword,
	Qword and Xmmword.
	(operand_types): Add Byte, Word, Dword, Fword, Qword, Tbyte,
	Xmmword, Unspecified and Anysize.
	(set_bitfield): Make Mmword an alias of Qword.  Make Oword
	an alias of Xmmword.

	* i386-opc.h (CheckSize): Removed.
	(Byte): Updated.
	(Word): Likewise.
	(Dword): Likewise.
	(Qword): Likewise.
	(Xmmword): Likewise.
	(FWait): Updated.
	(OTMax): Likewise.
	(i386_opcode_modifier): Remove checksize, byte, word, dword,
	qword and xmmword.
	(Fword): New.
	(TBYTE): Likewise.
	(Unspecified): Likewise.
	(Anysize): Likewise.
	(i386_operand_type): Add byte, word, dword, fword, qword,
	tbyte xmmword, unspecified and anysize.

	* i386-opc.tbl: Updated to use Byte, Word, Dword, Fword, Qword,
	Tbyte, Xmmword, Unspecified and Anysize.

	* i386-reg.tbl: Add size for accumulator.

	* i386-init.h: Regenerated.
	* i386-tbl.h: Likewise.
@
text
@d1 12
@


1.1286
log
@gas/testsuite/

2008-01-10  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/nops.s: Add more tests with opcodes from 0x0f19
	to 0x0f1f.
	* gas/i386/x86-64-nops.s: Likewise.

	* gas/i386/nops.d: Updated.
	* gas/i386/x86-64-nops.d: Likewise.

opcodes/

2008-01-10  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (REG_0F0E): Renamed to REG_0F0D.
	(REG_0F18): Updated.
	(reg_table): Updated.
	(dis386_twobyte): Updated.  Use "nopQ" on 0x19 to 0x1e.
	(twobyte_has_modrm): Set 1 for 0x19 to 0x1e.
@
text
@d1 21
@


1.1285
log
@gas/
	* dwarf2dbg.c (out_sleb128): Delete.
	(size_fixed_inc_line_addr, emit_fixed_inc_line_addr): New.
	(out_fixed_inc_line_addr): Delete.
	(relax_inc_line_addr, dwarf2dbg_estimate_size_before_relax): Call new
	size_fixed_inc_line_addr if DWARF2_USE_FIXED_ADVANCE_PC is set.
	(dwarf2dbg_convert_frag): Likewise for emit_fixed_inc_line_addr.
	(process_entries): Remove calls to out_fixed_inc_line_addr.  When
	DWARF2_USE_FIXED_ADVANCE_PC is set, call relax_inc_line_addr.
	* read.h (emit_expr_fix): New prototype.
	* read.c (emit_expr): Move code to emit_expr_fix and use it here.
	(emit_expr_fix): New.
testsuite/
	* gas/lns/lns.exp: Run new lns-big-delta test for targets that set
	DWARF2_USE_FIXED_ADVANCE_PC.
	* gas/lns/lns-big-delta.s: New.
	* gas/lns/lns-big-delta.d: New.
@
text
@d1 9
@


1.1284
log
@  PR gas/5322
* lib/gas-defs.exp (gas_host_run): Add fourth argument to regsub command.
@
text
@d1 7
@


1.1283
log
@gas/

2008-01-05  H.J. Lu  <hongjiu.lu@@intel.com>

	* doc/c-i386.texi: Update .att_mnemonic and .intel_mnemonic.

	* config/tc-i386.c (set_intel_mnemonic): Set intel_mnemonic
	only.
	(md_assemble): Remove Intel mode workaround.
	(match_template): Check support for old gcc, AT&T mnemonic
	and Intel Syntax.
	(md_parse_option): Don't set intel_mnemonic to 0 for
	OPTION_MOLD_GCC.

gas/testsuite/

2008-01-05  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/intel.s: Add tests for fadd, faddp, fdiv, fdivp,
	fdivr, fdivrp, fmul, fmulp, fsub, fsubp, fsubr and fsubrp.

	* gas/i386/intel.d: Updated.
	* gas/i386/intel.e: Likewise.

opcodes/

2008-01-05  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-gen.c (opcode_modifiers): Rename IntelMnemonic to
	ATTSyntax.

	* i386-opc.h (IntelMnemonic): Renamed to ..
	(ATTSyntax): This
	(Opcode_Modifier_Max): Updated.
	(i386_opcode_modifier): Remove intelmnemonic. Add attsyntax
	and intelsyntax.

	* i386-opc.tbl: Remove IntelMnemonic and update with ATTSyntax
	on fsub, fubp, fsubr, fsubrp, div, fdivp, fdivr and fdivrp.
	* i386-tbl.h: Regenerated.
@
text
@d1 6
@


1.1282
log
@gas/testsuite/

2008-01-04  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/rexw.d: New.
	* gas/i386/rexw.s: Likewise.

	* gas/i386/x86-64-sse4_1-intel.d: Updated.
	* gas/i386/x86-64-sse4_1.d: Likewise.

opcodes/

2008-01-04  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-opc.tbl: Add NoRex64 to extractps, movmskpd, movmskps,
	pextrb, pextrw, pinsrb, pinsrw and pmovmskb.
	* i386-tbl.h: Regenerated.
@
text
@d1 8
@


1.1281
log
@* config/tc-ppc.c (parse_cpu): Preserve the settings of the
  PPC_OPCODE_ALTIVEC and PPC_OPCODE_SPE flags.

* gas/ppc/altivec_and_spe.s: New test - checks that ISA extension
  command line options (-maltivec, -mspe) can be specified before
  CPU selection command line options.
* gas/ppc/altivec_and_spe.d: Expected disassembly.
* gas/ppc/ppc.exp: Run the new test
@
text
@d1 8
@


1.1280
log
@gas/

2008-01-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/config/tc-i386.c (cpu_arch_flags_not): Removed.
	(cpu_flags_not): Likewise.
	(cpu_flags_match): Updated to check 64bit and arch.
	(set_code_flag): Remove cpu_arch_flags_not.
	(set_16bit_gcc_code_flag): Likewise.
	(set_cpu_arch): Likewise.
	(md_begin): Likewise.
	(parse_insn): Call cpu_flags_match to check 64bit and arch.
	(match_template): Likewise.

gas/testsuite/

2008-01-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/arch-9.d: New file.
	* gas/i386/arch-9.s: Likewise.

	* gas/i386/i386.exp: Run arch-9.

opcodes/

2008-01-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-gen.c (cpu_flag_init): Remove CpuSSE4_1_Or_5 and
	CpuSSE4_2_Or_ABM.
	(cpu_flags): Likewise.

	* i386-opc.h (CpuSSE4_1_Or_5): Removed.
	(CpuSSE4_2_Or_ABM): Likewise.
	(CpuLM): Updated.
	(i386_cpu_flags): Remove cpusse4_1_or_5 and cpusse4_2_or_abm.

	* i386-opc.tbl: Replace CpuSSE4_1_Or_5, CpuSSE4_2_Or_ABM and
	Cpu686|CpuPadLock with CpuSSE4_1|CpuSSE5, CpuABM|CpuSSE4_2
	and CpuPadLock, respectively.
	* i386-init.h: Regenerated.
	* i386-tbl.h: Likewise.
@
text
@d1 8
@


1.1279
log
@gas/testsuite/

2008-01-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/arch-5.d: New file.
	* gas/i386/arch-5.s: Likewise.
	* gas/i386/arch-6.d: Likewise.
	* gas/i386/arch-6.s: Likewise.
	* gas/i386/arch-7.d: Likewise.
	* gas/i386/arch-7.s: Likewise.
	* gas/i386/arch-8.d: Likewise.
	* gas/i386/arch-8.s: Likewise.

	* gas/i386/i386.exp: Run arch-5, arch-6, arch-7 and arch-8.

opcodes/

2008-01-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-gen.c (cpu_flag_init): Add CpuSSE4_2_Or_ABM to
	CPU_AMDFAM10_FLAGS, CPU_SSE4_2_FLAGS, CpuABM and
	CPU_SSE5_FLAGS.
	(cpu_flags): Add CpuSSE4_2_Or_ABM.

	* i386-opc.h (CpuSSE4_2_Or_ABM): New.
	(CpuLM): Updated.
	(i386_cpu_flags): Add cpusse4_2_or_abm.

	* i386-opc.tbl: Use CpuSSE4_2_Or_ABM instead of
	CpuABM|CpuSSE4_2 on popcnt.
	* i386-init.h: Regenerated.
	* i386-tbl.h: Likewise.
@
text
@d1 7
@


1.1278
log
@gas/testsuite/

2008-01-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.s: Add tests for movq.
	* gas/i386/x86_64.s: Likewise.

	* gas/i386/i386.d Updated.
	* gas/i386/x86_64.d: Likewise.

opcodes/

2008-01-02  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-opc.h: Update comments.
@
text
@d3 13
@


1.1277
log
@gas/

2008-01-02  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/5534
	* config/tc-i386.c (match_template): Handle XMMWORD_MNEM_SUFFIX.
	Check memory size in Intel mode.
	(process_suffix): Handle XMMWORD_MNEM_SUFFIX.
	(intel_e09): Likewise.

	* config/tc-i386.h (XMMWORD_MNEM_SUFFIX): New.

gas/testsuite/

2008-01-02  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/5534
	* gas/i386/intel.s: Use QWORD on movq instead of DWORD.

	* gas/i386/inval.s: Add tests for movq.
	* gas/i386/x86-64-inval.s: Likewise.

	* gas/i386/inval.l: Updated.
	* gas/i386/x86-64-inval.l: Likewise.

opcodes/

2008-01-02  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/5534
	* i386-gen.c (opcode_modifiers): Add No_xSuf, CheckSize,
	Byte, Word, Dword, QWord and Xmmword.

	* i386-opc.h (No_xSuf): New.
	(CheckSize): Likewise.
	(Byte): Likewise.
	(Word): Likewise.
	(Dword): Likewise.
	(QWord): Likewise.
	(Xmmword): Likewise.
	(FWait): Updated.
	(i386_opcode_modifier): Add No_xSuf, CheckSize, Byte, Word,
	Dword, QWord and Xmmword.

	* i386-opc.tbl: Add CheckSize|QWord to movq if IgnoreSize is
	used.
	* i386-tbl.h: Regenerated.
@
text
@d3 8
@


1.1276
log
@Move 2007 ChangeLog entries to ChangeLog-2007.
@
text
@d1 11
@


1.1275
log
@    * gas/mips/jalr.s: New test.
    * gas/mips/jalr.l: New test output.
    * gas/mips/mips.exp: Run new test.
@
text
@d7 1
a7 1320
2007-12-31  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/inval.s: Add test for cvtsi2ss/cvtsi2sd.
	* gas/i386/simd.s: Likewise.
	* gas/i386/x86-64-simd.s: Likewise.

	* gas/i386/inval.l: Updated.
	* gas/i386/katmai.d: Likewise.
	* gas/i386/simd-intel.d: Likewise.
	* gas/i386/simd-suffix.d: Likewise.
	* gas/i386/simd.d: Likewise.
	* gas/i386/sse2.d: Likewise.
	* gas/i386/x86-64-opcode.d: Likewise.
	* gas/i386/x86-64-simd-intel.d: Likewise.
	* gas/i386/x86-64-simd-suffix.d: Likewise.
	* gas/i386/x86-64-simd.d: Likewise.

2007-12-28  John David Anglin  <dave.anglin@@nrc-cnrc.gc.ca>

	* gas/all/gas.exp: Skip relax test on hppa*-*-hpux*.

2007-12-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/arch-1.d: New file.
	* gas/i386/arch-1.s: Likewise.
	* gas/i386/arch-2.d: Likewise.
	* gas/i386/arch-2.s: Likewise.
	* gas/i386/arch-3.d: Likewise.
	* gas/i386/arch-3.s: Likewise.
	* gas/i386/arch-4.d: Likewise.
	* gas/i386/arch-4.s: Likewise.

	* gas/i386/i386.exp: Run arch-1, arch-2, arch-3 and arch-4.

2007-12-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/compat-intel.d: Pass -mmnemonic=att to assembler.
	* gas/i386/compat.d: Likewise.

	* gas/i386/i386.exp: Pass -mmnemonic=att to assembler for
	"float".  Pass -mold-gcc to assembler for  "general".

2007-12-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/compat-intel.d: New file.
	* gas/i386/compat.d: Likewise.
	* gas/i386/compat.s: Likewise.

	* gas/i386/i386.exp: Run compat.

2007-12-13  Bob Wilson  <bob.wilson@@acm.org>

	* gas/xtensa/all.exp: Run new weak-call test.
	* gas/xtensa/weak-call.d: New.
	* gas/xtensa/weak-call.s: New.

2007-12-11  Catherine Moore  <clm@@codesourcery.com>

	* gas/elf/symtab.s: New test.
	* gas/elf/symtab.d: New expected output.
	* gas/elf/elf.exp: Run the new symbtab test.

2007-12-10  Richard Sandiford  <rsandifo@@nildram.co.uk>

	* gas/mips/align2.s, gas/mips/align2.d, gas/mips/align2-el.d: New
	tests.
	* gas/mips/mips.exp: Run them.

2007-12-07  Bob Wilson  <bob.wilson@@acm.org>

	* gas/xtensa/all.exp: Run new pcrel test.
	* gas/xtensa/err-pcrel.s: New.
	* gas/xtensa/pcrel.d: New.
	* gas/xtensa/pcrel.s: New.
	* gas/xtensa/xtensa-err.exp: New.
	
2007-11-30  Bob Wilson  <bob.wilson@@acm.org>

	* gas/elf/elf.exp: Disable ehopt test for Xtensa.

2007-11-29  Mark Shinwell  <shinwell@@codesourcery.com>

	* config/tc-mips.c (mips_cpu_info_table): Add loongson2e
	and loongson2f entries.
	* doc/c-mips.texi: Document -march=loongson{2e,2f} options.

2007-11-29  Martin Schwidefsky  <schwidefsky@@de.ibm.com>

	* gas/s390/esa-z9-109.d: Add check for old version of sske.
	* gas/s390/esa-z9-109.s: Likewise.

2007-11-27  Andreas Krebbel  <krebbel1@@de.ibm.com>

	* gas/s390/zarch-z9-ec.d: ("tcet", "tcdt", "tcxt", "tget",
	"tgdt", "tgxt"): Removed.
        ("tdcet", "tdcdt", "tdcxt", "tdget", "tdgdt", "tdgxt"): Added.
	* gas/s390/zarch-z9-ec.s: Likewise.

2007-11-19  Bob Wilson  <bob.wilson@@acm.org>
	
	* gas/lns/lns.exp: Run lns-common-1 with alternate source for ia64.
	* gas/lns/lns-common-1-ia64.s: New file.
	
2007-11-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/ia64/dv-raw-err.s: Add tests for ar.ruc.
	* gas/ia64/dv-waw-err.s: Likewise.
	* gas/ia64/invalid-ar.s: Likewise.

	* gas/ia64/regs.s: Add tests for ar.ruc and ar44.

	* gas/ia64/dv-raw-err.l: Updated.
	* gas/ia64/dv-waw-err.l: Likewise.
	* gas/ia64/invalid-ar.l: Likewise.
	* gas/ia64/regs.d: Likewise.

2007-11-13  Alan Modra  <amodra@@bigpond.net.au>

	* gas/macros/purge.s: Delete irpc loops.

2007-11-12  Tristan Gingold  <gingold@@adacore.com>

	* gas/ppc/regnames.d: New.
	* gas/ppc/regnames.s: Likewise.
	* gas/ppc/ppc.exp: Run it.

2007-11-07  Tristan Gingold  <gingold@@adacore.com>

	* ia64-dis.c (print_insn_ia64): Generate symbolic names for cr
	registers instead of register number.

2007-11-07  Tristan Gingold  <gingold@@adacore.com>

	* gas/elf/elf.exp (run_elf_list_test): Fix typo.

2007-11-07  Tristan Gingold  <gingold@@adacore.com>

	* gas/ppc/test1xcoff32.d: Updated to match RTOC bug fix.

2007-11-06  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/mul-overlap.s: Add umull and smlal.
	* gas/arm/mul-overlap.l: Update expected results.

2007-11-06  Nick Clifton  <nickc@@redhat.com>

	* gas/elf/elf.exp: Disable ehopt test for mn10300.

2007-11-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.d: New.
	* gas/i386/i386.s: Likewise.

	* gas/i386/i386.exp: Run i386.

	* gas/i386/x86_64.s: Add tests for movsx, movsbl, movsbq,
	movsbw, movswl, movswq, movzx, movzb, movzbl, movzbq,
	movzbw, movzwl and movzwq.
	* gas/i386/x86_64.d: Updated.

2007-10-31  Nick Clifton  <nickc@@redhat.com>

	* gas/cfi/cfi-common-6.d: Allow for possible relocation of the
	.debug.eh_frame section.

2007-10-30  Nick Clifton  <nickc@@redhat.com>

	* gas/all/gas.exp: Do not run diff1.s test for mn10300.

2007-10-27  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/5221
	* gas/elf/elf.exp: Run section7.

	* gas/elf/section7.d: New.
	* gas/elf/section7.s: Likewise.

2007-10-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/katmai.s: Remove cmpps opcode test.

	* gas/i386/simd.s: Add tests for cmpss and cmpsd.
	* gas/i386/x86-64-simd.s: Likewise.

	* gas/i386/katmai.d: Updated.
	* gas/i386/simd-intel.d: Likewise.
	* gas/i386/simd-suffix.d: Likewise.
	* gas/i386/simd.d: Likewise.
	* gas/i386/x86-64-simd-intel.d: Likewise.
	* gas/i386/x86-64-simd-suffix.d: Likewise.
	* gas/i386/x86-64-simd.d: Likewise.

2007-10-19  Nick Clifton  <nickc@@redhat.com>

	* gas/mn10300/basic.exp: Run pr997 test.
	* gas/mn10300/pr997.s: New test.
	* gas/mn10300/pr887.l: Expected output.

2007-10-17  Nathan Sidwell  <nathan@@codesourcery.com>

	* gas/m68k/mcf-movsr.s: New.
	* gas/m68k/mcf-movsr.d: New.
	* gas/m68k/all.exp: Add mcf-movsr test.

2007-10-16  Nick Clifton  <nickc@@redhat.com>

	* gas/elf/elf.exp: Accept COMMON in readelf's output.
	* gas/elf/type.s: Add test of common type.
	* gas/elf/type.e: Extend expected output.

2007-10-11  Nick Clifton  <nickc@@redhat.com>

	* gas/elf/elf.exp (run_elf_list_test): Run section6 test.
	* gas/elf/section6.s: New file: Check behaviour of .pushsection
	with a subsection argument.
	* gas/elf/section6.d: New file: Expected disassembly.

2007-10-08  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run simd-suffix and x86-64-simd-suffix.

	* gas/i386/simd-suffix.d: New.
	* gas/i386/x86-64-simd-suffix.d: Likewise.

	* gas/i386/x86-64-opcode.d: Updated.
	* gas/i386/x86-64-simd.d: Likewise.

2007-10-08  Maciej W. Rozycki  <macro@@linux-mips.org>

	* gas/mips/cp0-names-r3000.d: New test for R3000 CP0 symbolic
	disassembly.
	* gas/mips/cp0-names-r4000.d: New test for R4000/R4400 symbolic
	CP0 disassembly.
	* mips/mips.exp: Run the new tests.

2007-10-08  Maciej W. Rozycki  <macro@@linux-mips.org>

	* gas/mips/at-1.d, gas/mips/at-2.l: New tests to check the ".set
	at=REG" directive.
	* gas/mips/at-1.s, gas/mips/at-2.s: Sources for the new tests.
	* gas/mips/mips.exp: Run the new tests.

2007-10-05  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run smx.

	* gas/i386/smx.d: New.
	* gas/i386/smx.s: Likewise.

2007-10-04  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/simd.s: Add tests for unpckhpd and unpckhps.
	* gas/i386/x86-64-simd.s: Likewise.

	* gas/i386/simd-intel.d: Updated.
	* gas/i386/simd.d: Likewise.
	* gas/i386/x86-64-simd-intel.d: Likewise.
	* gas/i386/x86-64-simd.d: Likewise.

2007-10-04  David Daney  <ddaney@@avtrex.com>

	* gas/mips/odd-float.d, gas/mips/odd-float.s: New test.
	* gas/mips/mips.exp: Run it.

2007-10-04  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/5109
	* gas/i386/simd-intel.d: Updated.
	* gas/i386/simd.d: Likewise.
	* gas/i386/x86-64-simd-intel.d: Likewise.
	* gas/i386/x86-64-simd.d: Likewise.

	* gas/i386/simd.s: Add more tests.
	* gas/i386/x86-64-simd.s: Likewise.

2007-10-04  Helge Deller  <deller@@gmx.de>

	* gas/all/gas.exp: Include new test "strings".
	* gas/all/string.s: New
	* gas/all/string.d: New.

2007-10-01  Tristan Gingold  <gingold@@adacore.com>

	* gas/ppc/altivec_xcoff.s: Do not use .machine pseudo-ops as it
	overrides gas options.
	* gas/ppc/altivec_xcoff64.s: Likewise.
	* gas/ppc/booke_xcoff64.s: Likewise.
	* gas/ppc/altivec_xcoff.d: Accept 32bits offsets.
	* gas/ppc/booke_xcoff.s: Do not use .machine pseudo-op and remove
	booke64 opcodes.
	* gas/ppc/booke_xcoff.d: Accept 32bits offsets and renumber.
	* gas/ppc/booke_xcoff64.d: Use booke opcodes.

2007-09-30  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/5080
	* gas/i386/simd-intel.d: Updated.
	* gas/i386/simd.d: Likewise.
	* gas/i386/x86-64-simd-intel.d: Likewise.
	* gas/i386/x86-64-simd.d: Likewise.

	* gas/i386/simd.s: Add new tests for cvttsd2si and cvttss2si.
	* gas/i386/x86-64-simd.s: Likewise.

2007-09-27  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/5072
	* gas/i386/i386.exp: Run x86-64-opcode-inval and
	x86-64-opcode-inval-intel.

	* gas/i386/x86-64-opcode-inval-intel.d: New.
	* gas/i386/x86-64-opcode-inval.d: Likewise.
	* gas/i386/x86-64-opcode-inval.s: Likewise.

2007-09-27  Kazu Hirata  <kazu@@codesourcery.com>

	* gas/m68k/fido.s: Add tests for %mbo.
	* gas/m68k/fido.d: Update accordingly.

2007-09-26  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/x86-64-addr32.d: Adjust expectations.

2007-09-26  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/reloc64.s: Adjust for %eip-relative addressing no
	longer generating errors.
	* gas/i386/reloc64.d, gas/i386/reloc64.l: Update.
	* gas/i386/x86-64-addr32.s: Remove explicit addr32 prefix
	for %eip-realtive addressing case.

2007-09-25  Nathan Sidwell  <nathan@@codesourcery.com>

	* gas/m68k/br-isaa.d: Dump relocs too.
	* gas/m68k/br-isab.d: Likewise.
	* gas/m68k/br-isac.d: Likewise.  Adjust for long branch relaxation.

2007-09-24  Carlos O'Donell  <carlos@@codesourcery.com>

	* gas/mips/align.s, gas/mips/align.d: New test.
	* gas/mips/mips.exp: Run it.

2007-09-20  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/sib.s: Add more eiz tests.
	* gas/i386/x86-64-sib.s: Add more riz tests.

	* gas/i386/sib-intel.d: Updated.
	* gas/i386/sib.d: Likewise.
	* gas/i386/x86-64-sib-intel.d: Likewise.
	* gas/i386/x86-64-sib.d: Likewise.

2007-09-20  H.J. Lu  <hongjiu.lu@@intel.com>

	PR 658
	* gas/i386/i386.exp: Run sib-intel, x86-64-sib and
	x86-64-sib-intel.

	* gas/i386/nops-1-i386-i686.d: Updated.
	* gas/i386/nops-1-i386.d: Likewise.
	* gas/i386/nops-1.d: Likewise.
	* gas/i386/nops-2-i386.d: Likewise.
	* gas/i386/nops-2-merom.d: Likewise.
	* gas/i386/nops-2.d: Likewise.
	* gas/i386/nops-3-i386.d: Likewise.
	* gas/i386/nops-3.d : Likewise.
	* gas/i386/sib.d: Likewise.

	* gas/i386/sib.s: Use %eiz in testcases.

	* gas/i386/sib-intel.d: New.
	* gas/i386/x86-64-sib-intel.d: Likewise.
	* gas/i386/x86-64-sib.d: Likewise.
	* gas/i386/x86-64-sib.s: Likewise.

2007-09-19  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/intelok.s: Add tests for memory without base.
	* gas/i386/intelok.d: Updated.
	* gas/i386/intelok.e: Likewise.

2007-09-17  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/x86-64-rip.s: Revert the last change.
	* gas/i386/x86-64-rip-intel.d: Likewise.
	* gas/i386/x86-64-rip.d: Likewise.

2007-09-15  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/5034
	* gas/i386/x86-64-rip.s: Add Intel mode testcases.
	* gas/i386/x86-64-rip-intel.d: Updated.
	* gas/i386/x86-64-rip.d: Likewise.

2007-09-14  Michael Meissner  <michael.meissner@@amd.com>
	    Dwarakanath Rajagopal  <dwarak.rajagopal@@amd.com>
	    Tony Linthicum  <tony.linthicum@@amd.com>

	* gas/i386/i386.exp (x86-64-sse5): Run SSE5 64-bit tests.

	* gas/i386/x86-64-sse5.s: New file for SSE5 support.
	* gas/i386/x86-64-sse5.d: Ditto.

2007-09-12  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/sse4_1.s, gas/i386/x86-64-sse4_1.s: Add two-operand forms
	of blendvps, blendvpd, and pblendvb.
	* gas/i386/sse4_1.d, gas/i386/sse4_1-intel.d,
	gas/i386/x86-64-sse4_1.d, gas/i386/x86-64-sse4_1-intel.d: Adjust,
	making last/first operand of blendvps, blendvpd, and pblendvb
	optional.

2007-09-12  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/amdfam10.s, gas/i386/x86-64-amdfam10.s: Add Intel syntax
	code.
	* gas/i386/amdfam10.d, gas/i386/x86-64-amdfam10.d: Adjust.

2007-09-06  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/svme.s: Updated to allow eax in 64bit.
	* gas/i386/svme.d: Updated.
	* gas/i386/svme64.d: Likewise.

2007-08-31  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/svme.s: Updated to accept eax in 32bit and rax in
	64bit.
	* gas/i386/svme.d: Updated.
	* gas/i386/svme64.d: Likewise.

2007-08-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/amd.s: Add rdtscp.
	* gas/i386/amd.d: Updated.

	* gas/i386/mem-intel.d: Update invlpg for BYTE PTR.
	* gas/i386/x86-64-mem-intel.d: Likewise.

	* gas/i386/x86-64-opcode.s: Add swapgs.
	* gas/i386/x86-64-opcode.d: Updated.

2007-08-29  Daniel Jacobowitz  <dan@@codesourcery.com>

	* gas/lns/lns-duplicate.d, gas/lns/lns-duplicate.s: New.
	* gas/lns/lns.exp: Run lns-duplicate.

2007-08-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run x86-64-reg and x86-64-reg-intel.

	* gas/i386/x86-64-reg.s: New. Add tests for instructions
	with one register operand.
	* gas/i386/x86-64-reg-intel.d: Likewise.
	* gas/i386/x86-64-reg.d: Likewise.

2007-08-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run reg and reg-intel.

	* gas/i386/katmai.d: Update bad instructions.

	* gas/i386/reg.s: New. Add tests for instructions with one
	register operand.
	* gas/i386/reg-intel.d: Likewise.
	* gas/i386/reg.d: Likewise.

2007-08-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run mem, mem-intel, x86-64-mem and
	x86-64-mem-intel.

	* gas/i386/mem.s: New. Add tests for instructions with one
	memory operand.
	* gas/i386/x86-64-mem.s: Likewise.
	* gas/i386/mem-intel.d: Likewise.
	* gas/i386/mem.d: Likewise.
	* gas/i386/x86-64-mem-intel.d: Likewise.
	* gas/i386/x86-64-mem.d: Likewise.

2007-08-28  Mark Shinwell  <shinwell@@codesourcery.com>
	    Joseph Myers  <joseph@@codesourcery.com>

	* lib/gas-defs.exp (gas_version): Use remote_* functions instead
	of exec.
	(gas_host_run): New.
	(gas_run): Use gas_host_run.
	(gas_start): Likewise.
	(run_dump_test): Likewise.
	(objdump): Use gas_host_run.
	(objdump_start_no_subdir): Likewise.
	* lib/gas-dg.exp (gas-dg-test): Use "remote_file host delete".
	* lib/run: Remove.
	* gas/macros/macros.exp: Download app4b.s to host.
	* gas/i386/i386.exp (gas_64_check): Use gas_host_run.
	(gas_32_check): Likewise.
	* gas/maxq10/maxq10.exp (gas_64_check): Likewise
	(gas_32_check): Likewise.
	* gas/maxq20/maxq20.exp (gas_64_check): Likewise
	(gas_32_check): Likewise.
	* gas/sparc/sparc.exp (gas_64_check): Likewise.
	* gas/cfi/cfi.exp: Likewise.
	* gas/elf/elf.exp (run_list_test): Likewise.  Use temporary file
	for readelf output in place of pipe.
	* gas/all/gas.exp: Download incbin.dat to host.
	(do_comment): Allow \r\r\n.

2007-08-09  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/relax_load_align.d: new test.
	* gas/arm/relax_load_align.s: new test.

2007-08-09  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run sse4_1-intel, sse4_2-intel,
	x86-64-sse4_1-intel and x86-64-sse4_2-intel.

	* gas/i386/sse4_1-intel.d: New file.
	* gas/i386/sse4_2-intel.d: Likewise.
	* gas/i386/x86-64-sse4_1-intel.d: Likewise.
	* gas/i386/x86-64-sse4_2-intel.d: Likewise.

	* gas/i386/sse4_1.s: Add tests for Intel syntax.
	* gas/i386/sse4_2.s: Likewise.
	* gas/i386/x86-64-sse4_1.s: Likewise.
	* gas/i386/x86-64-sse4_2.s: Likewise.

	* gas/i386/sse4_1.d: Updated.
	* gas/i386/sse4_2.d: Likewise.
	* gas/i386/x86-64-sse4_1.d: Likewise.
	* gas/i386/x86-64-sse4_2.d: Likewise.

2007-08-09  Alan Modra  <amodra@@bigpond.net.au>

	* gas/all/weakref1u.d (not-target): Match *-*-*aout.

2007-07-29  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/4834
	* gas/i386/simd-intel.d: Updated.
	* gas/i386/simd.d: Likewise.
	* gas/i386/x86-64-simd-intel.d: Likewise.
	* gas/i386/x86-64-simd.d: Likewise.

	* gas/i386/simd.s: Add tests for SSE4 instructions.
	* gas/i386/x86-64-simd.s: Likewise.

2007-07-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/simd.s: Add tests for cvtss2si/cvtsd2si in Intel
	mode.
	* gas/i386/x86-64-simd.s: Likewise.

	* gas/i386/simd-intel.d: Updated.
	* gas/i386/simd.d: Likewise.
	* gas/i386/x86-64-simd-intel.d: Likewise.
	* gas/i386/x86-64-simd.d: Likewise.

2007-07-28  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/4834
	* gas/i386/simd-intel.d: Updated.
	* gas/i386/simd.d: Likewise.
	* gas/i386/x86-64-simd-intel.d: Likewise.
	* gas/i386/x86-64-simd.d: Likewise.

	* gas/i386/simd.s: Add new tests.
	* gas/i386/x86-64-simd.s: Likewise.

2007-07-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/x86-64-opcode.d: Updated.
	* gas/i386/x86-64-simd-intel.d: Likewise.
	* gas/i386/x86-64-simd.d: Likewise.

	* gas/i386/x86-64-simd.s: Add movq.

2007-07-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run nops16-1, nops-1-i386-i686, nops-1-k8,
	nops-3-i386, nops-4, nops-4-i386, x86-64-nops-2, x86-64-nops-3,
	x86-64-nops-4, x86-64-nops-4-core2 and x86-64-nops-4-k8.

	* gas/i386/nops-1-i386-i686.d: New.
	* gas/i386/nops-1-k8.d: Likewise.
	* gas/i386/nops-3-i386.d : Likewise.
	* gas/i386/nops-3-i686.d: Likewise.
	* gas/i386/nops-4-i386.d: Likewise.
	* gas/i386/nops-4.d: Likewise.
	* gas/i386/nops16-1.d: Likewise.
	* gas/i386/nops16-1.s: Likewise.
	* gas/i386/x86-64-nops-1-k8.d: Likewise.
	* gas/i386/x86-64-nops-2.d: Likewise.
	* gas/i386/x86-64-nops-3.d: Likewise.
	* gas/i386/x86-64-nops-4-core2.d: Likewise.
	* gas/i386/x86-64-nops-4-k8.d: Likewise.
	* gas/i386/x86-64-nops-4.d: Likewise.

	* gas/i386/nops-1-i386.d: Updated.
	* gas/i386/nops-1-i686.d: Likewise.
	* gas/i386/nops-1.d: Likewise.
	* gas/i386/nops-2-i386.d: Likewise.
	* gas/i386/nops-2-merom.d : Likewise.
	* gas/i386/nops-2.d: Likewise.
	* gas/i386/nops-3.d: Likewise.
	* gas/i386/x86-64-nops-1-merom.d: Likewise.
	* gas/i386/x86-64-nops-1-nocona.d: Likewise.
	* gas/i386/x86-64-nops-1.d: Likewise.

	* gas/i386/x86-64-nops-1.s: Removed.

2007-07-23  Evandro Menezes  <evandro.menezes@@amd.com>
	    H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Don't run x86-64-nops-1-k8. Run
	nops-3-i686 and nops-4-i686.

	* gas/i386/nops-3-i686.d: New.
	* gas/i386/nops-4-i686.d: Likewise.
	* gas/i386/nops-4.s: Likewise.

2007-07-23  Richard Sandiford  <richard@@codesourcery.com>

	* lib/gas-defs.exp (run_list_test): Make the options optional.
	* gas/cr16/cr16.exp (run_list_test): Delete.

2007-07-19  Nick Clifton  <nickc@@redhat.com>

	PR gas/4804
	* gas/elf/elf.exp (target_machine): Treat the arm-linux-gnu target
	in the same way as the arm-eabi target.
	* gas/arm/mapshort-eabi.d: Use this file for the arm-linux-gnu
	target.
	* gas/arm/mapshort-elf.d: Do not use this file for the
	arm-linux-gnu target.

2007-07-16  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/simd.s: Add tests for punpcklbw, punpckldq,
	punpcklwd and punpcklqdq.
	* gas/i386/x86-64-simd.s: Likewise.

	* gas/i386/simd-intel.d: Updated.
	* gas/i386/simd.d: Likewise.
	* gas/i386/x86-64-simd-intel.d: Likewise.
	* gas/i386/x86-64-simd.d: Likewise.

2007-07-14  Nick Clifton  <nickc@@redhat.com>

	* gas/arm/arm.s: Add tests for re-aliasing a previously removed
	alias.
	* gas/arm/arm.l: Add new expected warning message.

2007-07-04  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/ssemmx2.d: Ignore padding.

2007-07-04  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/rex.s: Avoid the last rex prefix becoming the
	rex prefix for the padding.

2007-07-04  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run x86-64-nops-1 for x86_64-*-mingw*.

2007-07-04  Nick Clifton  <nickc@@redhat.com>

	* gas/mep/relocs.d: Fix expected disassembly to work on 64-bit
	hosts.

2007-07-03  M R Swami Reddy  <MR.Swami.Reddy@@nsc.com>

	* gas/elf/elf.exp: Expect redef test to fail for CR16.
	* gas/all/gas.exp: Expect forward and do_930509a tests to fail for
	the CR16.
	* gas/cr16/cinv_test.d: Remove whitespace dependencies.

2007-07-03  Nick Clifton  <nickc@@redhat.com>

	* lib/gas-defs.exp: Update copyright notice to refer to GPLv3.
	* gas/all/itbl-test.c, gas/all/test-example.c, gas/all/test-gen.c,
	gas/arm/maverick.c, gas/cris/cris.exp, gas/hppa/basic/basic.exp,
	gas/hppa/parse/parse.exp, gas/hppa/reloc/reloc.exp,
	gas/hppa/unsorted/unsorted.exp, gas/mmix/mmix-err.exp,
	gas/mmix/mmix-list.exp, gas/mmix/mmix.exp, gas/mn10200/basic.exp,
	gas/mn10300/am33-2.c, gas/mn10300/basic.exp, gas/pdp11/opcode.s,
	gas/ppc/aix.exp, gas/sh/arch/arch.exp, gas/sh/sh64/sh64.exp,
	gas/sh/basic.exp, gas/sh/err.exp, gas/v850/basic.exp: Likewise.

2007-07-03  Nathan Sidwell  <nathan@@codesourcery.com>

	* gas/m68k/mcf-coproc.d: New.
	* gas/m68k/mcf-coproc.s: New.
	* gas/m68k/all.exp: Add it.

2007-06-29  M R Swami Reddy  <MR.Swami.Reddy@@nsc.com>

	* gas/cr16: New directory
	* gas/cr16.exp: New file
	* add_test.d and  add_test.s: New files
	* and_test.d and and_test.s: New files
	* ash_test.d and ash_test.s: New files
	* bal_test.d and bal_test.s: New files
	* bcc_test.d and bcc_test.s: New files
	* beq0_test.d and beq0_test.s: New files
	* cbitb_test.d and cbitb_test.s: New files
	* cbitw_test.d and cbitw_test.s: New files
	* cinv_test.d and cinv_test.s: New files
	* cmp_test.d and cmp_test.s: New files
	* excp_test.d and excp_test.s: New files
	* jal_test.d and jal_test.s: New files
	* jcc_test.d and jcc_test.s: New files
	* loadb_test.d and loadb_test.s: New files
	* loadd_test.d and loadd_test.s: New files
	* loadm_test.d and loadm_test.s: New files
	* loadw_test.d and loadw_test.s: New files
	* lpsp_test.d and lpsp_test.s: New files
	* lsh_test.d and lsh_test.s: New files
	* mov_test.d and mov_test.s: New files
	* mul_test.d and mul_test.s: New files
	* or_test.d and or_test.s: New files
	* popret_test.d and popret_test.s: New files
	* pop_test.d and pop_test.s: New files
	* push_test.d and push_test.s: New files
	* sbitb_test.d and sbitb_test.s: New files
	* sbitw_test.d and sbitw_test.s: New files
	* scc_test.d and scc_test.s: New files
	* storb_test.d and storb_test.s: New files
	* stord_test.d and stord_test.s: New files
	* storm_test.d and storm_test.s: New files
	* storw_test.d and storw_test.s: New files
	* sub_test.d and sub_test.s: New files
	* tbitb_test.d and tbitb_test.s: New files
	* tbit_test.d and tbit_test.s: New files
	* tbitw_test.d and tbitw_test.s: New files
	* xor_test.d and xor_test.s: New files

2007-06-26  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/vfp1xD.d: Add new fmrx/fmxr tests.
	* gas/arm/vfp1xD.s: Ditto.
	* gas/arm/vfp1xD_t2.d: Ditto.
	* gas/arm/vfp1xD_t2.s: Ditto.

2007-06-24  Nick Clifton  <nickc@@redhat.com>

	* gas/arm/backslash-at.d: Fix for non-ELF arm targets.

2007-06-23  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/4667
	* gas/i386/i386.exp: Run simd, simd-intel, x86-64-simd
	and x86-64-simd-intel.

	* gas/i386/opcode-intel.d: Updated.

	* gas/i386/simd-intel.d: New.
	* gas/i386/simd.d: Likewise.
	* gas/i386/simd.s: Likewise.
	* gas/i386/x86-64-simd-intel.d: Likewise.
	* gas/i386/x86-64-simd.d: Likewise.
	* gas/i386/x86-64-simd.s: Likewise.

2007-06-18  Kazu Hirata  <kazu@@codesourcery.com>

	* gas/m68k/all.exp: Run mcf-wdebug.
	* gas/testsuite/gas/m68k/mcf-wdebug.d,
	gas/testsuite/gas/m68k/mcf-wdebug.s: New.

2007-06-14  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/thumb32.s: Add tests for shift instructions.
	* gas/arm/thumb32.d: Ditto.

2007-06-06  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/thumb.d: Update expected output.
	* gas/arm/thumb2_relax.d: Ditto.

2007-06-05  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/thumb32.d: Add writeback addressing mode tests.
	* gas/arm/thumb32.s: Update expected output.

2007-06-05  Nick Clifton  <nickc@@redhat.com>

	PR gas/4587
	* gas/sparc/sparc.exp: Run pr4587 list test.
	* gas/sparc/pr4587.s: New test case.
	* gas/sparc/pr4587.l: Expected assembler output.

2007-06-05  Nick Clifton  <nickc@@redhat.com>

	* lib/gas-defs.exp (run_list_test): New proc.
	* gas/alpha/alpha.exp: Delete proc run_list_test.
	* gas/bfin/bfin.exp : Likewise.
	* gas/cfi/cfi.exp : Likewise.
	* gas/crx/allinsn.exp : Likewise.
	* gas/d10v/d10v.exp : Likewise.
	* gas/d30v/d30v.exp : Likewise.
	* gas/frv/allinsn.exp : Likewise.
	* gas/i386/i386.exp : Likewise.
	* gas/i860.i860.exp : Likewise.
	* gas/ia64/ia64.exp : Likewise.
	* gas/lns/lns.exp : Likewise.
	* gas/macros/macros.exp : Likewise.
	* gas/maxq10/maxq10.exp : Likewise.
	* gas/maxq20/maxq20.exp : Likewise.
	* gas/mips/mips.exp : Likewise.
	* gas/mmix/mmix-list.exp : Likewise.
	* gas/mn10300/basic.exp : Likewise.
	* gas/msp430/msp430.exp : Likewise.
	* gas/pdp11/pdp11.exp : Likewise.
	* gas/ppc/ppc.exp : Likewise.
	* gas/s390/s390.exp : Likewise.
	* gas/elf/elf.exp (proc run_list_test): Rename to run_elf_list_test.

2007-05-29  Jakub Jelinek  <jakub@@redhat.com>

	PR gas/4558
	* gas/sparc/sparc.exp: Add v9branch{1,2,3,4,5} tests.
	* gas/sparc/v9branch1.d: New test.
	* gas/sparc/v9branch1.s: New.
	* gas/sparc/v9branch2.d: New test.
	* gas/sparc/v9branch2.s: New.
	* gas/sparc/v9branch3.d: New test.
	* gas/sparc/v9branch3.s: New.
	* gas/sparc/v9branch4.d: New test.
	* gas/sparc/v9branch4.s: New.
	* gas/sparc/v9branch5.d: New test.
	* gas/sparc/v9branch5.s: New.

2007-03-25  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/thumb32.s: Add tests for subs pc, lr.
	* gas/arm/thumb32.d: Change error-output: to stderr:.
	Update expected output.

2007-05-22  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/backslash-at.d: Update expected output.

2007-05-17  H.J. Lu  <hongjiu.lu@@intel.com>

	2003-06-05  Michal Ludvig  <mludvig@@suse.cz>
	* gas/cfi/cfi-x86_64.s: Test new directives
	and different writings of registers and numbers.
	* gas/cfi/cfi-x86_64.d: Updated pattern to
	match the above change.

2007-05-15  Mark Shinwell  <shinwell@@codesourcery.com>

	* gas/arm/backslash-at.d: New.
	* gas/arm/backslash-at.s: New.

2007-05-15  Vincent Riviere  <vincent.riviere@@freesbee.fr>
	    Nick Clifton  <nickc@@redhat.com>

	PR gas/3041
	* gas/m68k/p3041.s: New test case.
	* gas/m68k/p3041.d: New expected disassembly.
	* gas/m68k/all.exp: Run new test for m68k-*-netbsd toolchains.
	Only run arch-cpu-1 test for ELF based toolchains.

	Tidy ups for m68k-netbsd gas toolchain:
	* gas/m68k/cpu32.d: Allow for extra text after expected
	disassembly.
	* gas/m68k/mcf-trap.d: Allow for alternative trap mnemonics.
	* gas/m68k/br-isab.d: Fix name of test.
	* gas/m68k/br-isac.d: Fix name of test.

2007-05-14  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/4502
	* gas/i386/amd.d: Replace "pfmulhrw" with "pmulhrw".

2007-05-04  Kazu Hirata  <kazu@@codesourcery.com>

	* gas/m68k/all.exp: Skip fmoveml on fido.

2007-05-03  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/4460
	* gas/i386/gotpc.s: Add a new test.
	* gas/i386/reloc64.s: Likewise.

	* gas/i386/gotpc.d: Updated.
	* gas/i386/reloc64.d: Likewise.

2007-05-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/crc32-intel.d: Updated.
	* gas/i386/crc32.d: Likewise.
	* gas/i386/sse4_2.d: Likewise.
	* gas/i386/x86-64-crc32-intel.d: Likewise.
	* gas/i386/x86-64-crc32.d: Likewise.
	* gas/i386/x86-64-sse4_2.d: Likewise.

	* gas/i386/crc32.s: Remove crc32 instructions with ambiguous
	operand size and suffix in crc32 instructions in Intel mode.
	* gas/i386/x86-64-crc32.s: Likewise.

	* gas/i386/sse4_2.s: Remove crc32 instructions with ambiguous
	operand size.
	* gas/i386/x86-64-sse4_2.s: Likewise.

	* gas/i386/i386.exp: Run inval-crc32 and x86-64-inval-crc32.

	* gas/i386/inval-crc32.l: New.
	* gas/i386/inval-crc32.s: Likewise.
	* gas/i386/x86-64-inval-crc32.l: Likewise.
	* gas/i386/x86-64-inval-crc32.s: Likewise.

2007-05-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/crc32-intel.d: New file.
	* gas/i386/crc32.d:Likewise.
	* gas/i386/crc32.s:Likewise.
	* gas/i386/x86-64-crc32-intel.d:Likewise.
	* gas/i386/x86-64-crc32.d:Likewise.
	* gas/i386/x86-64-crc32.s:Likewise.

	* gas/i386/i386.exp: Run crc32, crc32-intel, x86-64-crc32
	and x86-64-crc32-intel.

2007-04-26  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/4430
	* gas/i386/amd.d: Updated.
	* gas/i386/immed32.d: Likewise.
	* gas/i386/intel.d: Likewise.
	* gas/i386/intel16.d: Likewise.
	* gas/i386/intelok.d: Likewise.
	* gas/i386/jump16.d: Likewise.
	* gas/i386/naked.d: Likewise.
	* gas/i386/opcode-suffix.d: Likewise.
	* gas/i386/opcode.d: Likewise.
	* gas/i386/prescott.d: Likewise.
	* gas/i386/ssemmx2.d: Likewise.
	* gas/i386/tlsd.d: Likewise.
	* gas/i386/tlspic.d: Likewise.
	* gas/i386/x86-64-addr32.d: Likewise.
	* gas/i386/x86-64-prescott.d: Likewise.
	* gas/i386/x86-64-rip.d: Likewise.
	* gas/i386/x86_64.d: Likewise.

2007-04-26  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/4429
	* gas/i386/i386.exp: Run "x86-64-addr32-intel" and
	"x86-64-rip-intel".

	* gas/i386/intelok.d: Updated.

	* gas/i386/x86-64-addr32-intel.d: New file.
	* gas/i386/x86-64-rip-intel.d: Likewise.

2007-04-24  Andreas Krebbel  <krebbel1@@de.ibm.com>

	* gas/s390/zarch-z9-ec.d: Add pfpo, ectg and csst.
	* gas/s390/zarch-z9-ec.s: Likewise.

2007-04-23  Nathan Sidwell  <nathan@@codesourcery.com>

	* gas/m68k/br-isaa.s: New.
	* gas/m68k/br-isaa.d: New.
	* gas/m68k/br-isab.s: New.
	* gas/m68k/br-isab.d: New.
	* gas/m68k/br-isac.s: New.
	* gas/m68k/br-isac.d: New.
	* gas/m68k/all.exp: Adjust.

2007-04-21  Richard Earnshaw  <rearnsha@@arm.com>

	* gas/arm/arch4t.d: Convert to unified syntax.
	* gas/arm/archv6.d: Likewise.
	* gas/arm/archv6t2.d: Likewise.
	* gas/arm/arch3.d: Likewise.
	* gas/arm/arch7dm.d: Likewise.
	* gas/arm/arch7t.d: Likewise.
	* gas/arm/archv1.d: Likewise.
	* gas/arm/copro.d: Likewise.
	* gas/arm/inst.d: Likewise.
	* gas/arm/macro1.d: Likewise.
	* gas/arm/tcompat.d: Likewise.
	* gas/arm/wince_inst.d: Likewise.
	* gas/arm/xscale.d: Likewise.

	* gas/arm/thumb.d: White space cleanup.
	* gas/arm/thumb2_relax.d: Likewise.
	* gas/arm/thumb32.d: Likewise.

2007-04-20  Nathan Sidwell  <nathan@@codesourcery.com>

	* gas/m68k/ctrl-1.d, gas/m68k/ctrl-1.s: New.
	* gas/m68k/ctrl-2.d, gas/m68k/ctrl-2.s: New.
	* gas/m68k/all.exp: Add them.

2007-04-20  Alan Modra  <amodra@@bigpond.net.au>

	* gas/ppc/range64.s: New.
	* gas/ppc/range64.l: New.
	* gas/ppc/range.s: New.
	* gas/ppc/range.l: New.
	* gas/ppc/ppc.exp (run_list_test): New.  Use to run new tests.

2007-04-20  Richard Earnshaw  <rearnsha@@arm.com>

	* gas/arm/mapshort.s: Add a small .data section.
	* gas/arm/mapshort-eabi.d: Check the data section doesn't confuse
	disassembly.
	* gas/arm/mapshort-elf.d: Likewise.

2007-04-19  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/thumb1_unified.d: New test.
	* gas/arm/thumb1_unified.s: New test.

2007-04-19  Nathan Froyd <froydnj@@codesourcery.com>

	* gas/ppc/booke.s: Add tlbsx, tlbsxe.
	* gas/ppc/booke.d: Update.

2007-04-18  H.J. Lu <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Add sse4.2 and x86-64-sse4.2.

	* gas/i386/sse4_2.d: New file.
	* gas/i386/sse4_2.s: Likewise.
	* gas/i386/x86-64-sse4_2.d: Likewise.
	* gas/i386/x86-64-sse4_2.s: Likewise.

2007-04-18  H.J. Lu <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Add sse4.1 and x86-64-sse4.1.

	* gas/i386/sse4_1.d: New file.
	* gas/i386/sse4_1.s: Likewise.
	* gas/i386/x86-64-sse4_1.d: Likewise.
	* gas/i386/x86-64-sse4_1.s: Likewise.

2007-04-18  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/thumb2_add.s: Add rsb #0 test.
	* gas/arm/thumb2_add.d: Update expected output.

2007-04-04  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/neon-cov.s: Add new vext test.
	* gas/arm/neon-cov.d: Ditto.

2007-04-01  Christian Groessler  <chris@@groessler.org>

	* gas/z8k/calr.d: Fix for 64bit bfd.
	* gas/z8k/djnz.d: Likewise.
	* gas/z8k/inout.d: Likewise.
	* gas/z8k/jmp-cc.d: Likewise.
	* gas/z8k/jr-back.d: Likewise.
	* gas/z8k/jr-forw.d: Likewise.
	* gas/z8k/reglabel.d: Likewise.
	* gas/z8k/ctrl-names.d: Fix name.  Fix for 64bit bfd.
	* gas/z8k/ret-cc.d: Likewise.

2007-03-31  Alan Modra  <amodra@@bigpond.net.au>

	* gas/i386/nops-3.s: Don't use .align.

2007-03-30  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/thumb2_ldmstm.d: New test.
	* gas/arm/thumb2_ldmstm.s: New test.

2007-03-27  Alan Modra  <amodra@@bigpond.net.au>

	* gas/ppc/reloc.s: New.
	* gas/ppc/reloc.d: New.

2007-03-26  Julian Brown  <julian@@codesourcery.com>

	* gas/arm/neon-const.s: Use FP syntax for 0/-0.
	* gas/arm/vfp-neon-syntax-inc.s: Likewise, for 1.
	* gas/arm/neon-cov.s: Use float syntax for FP immediate.

2007-03-24  Paul Brook  <paul@@codesourcery.com>
	Mark Shinwell  <shinwell@@codesourcery.com>

	* gas/arm/archv6.s: Add new SRS tests.
	* gas/arm/archv6.d: Update expected output.
	* gas/arm/thumb32.s: Add new SRS tests.
	* gas/arm/thumb32.d: Update expected output.
	* gas/arm/srs-t2.d: New.
	* gas/arm/srs-t2.l: New.
	* gas/arm/srs-t2.s: New.
	* gas/arm/srs-arm.d: New.
	* gas/arm/srs-arm.l: New.
	* gas/arm/srs-arm.s: New.

2007-03-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/rex.s: Add tests for rex.WRXB.
	* gas/i386/rex.d: Updated.

	* gas/i386/rex.d: Replace rex64XYZ with rex.WRXB.
	* gas/i386/x86-64-io-intel.d : Likewise.
	* gas/i386/x86-64-io-suffix.d: Likewise.
	* gas/i386/x86-64-io.d: Likewise.
	* gas/i386/x86-64-opcode.d: Likewise.

2007-03-21  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/4218
	* gas/i386/nops.s: Add testcases for nop r/m.
	* gas/i386/x86-64-nops.s: Likewise.

	* gas/i386/x86-64-opcode.s: Add testcases for xchg with %ax,
	%eax and %rax.

	* gas/i386/nops.d: Updated.
	* gas/i386/x86-64-nops.d: Likewise.
	* gas/i386/x86-64-opcode.d: Likewise.

2007-03-21  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run nops-3.

	* gas/i386/nops-3.d: New file.
	* gas/i386/nops-3.s: Likewise.

2007-03-20  Mark Shinwell  <shinwell@@codesourcery.com>

	* gas/arm/mul-overlap.s: Don't use %type.
	* gas/arm/mul-overlap.l: Update line numbers.
	* gas/arm/mul-overlap-v6.s: Don't use %type.

2007-03-18  Mark Shinwell  <shinwell@@codesourcery.com>

	* gas/arm/mul-overlap.s: New.
	* gas/arm/mul-overlap.d: New.
	* gas/arm/mul-overlap.l: New.
	* gas/arm/mul-overlap-v6.s: New.
	* gas/arm/mul-overlap-v6.d: New.

2007-03-14  Daniel Jacobowitz  <dan@@codesourcery.com>

	* gas/arm/thumbver.d, gas/arm/thumbver.s: New test.

2007-03-14  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/thumb2_add.d: Add tests using sp.
	* gas/arm/thumb2_add.s: Ditto.

2007-03-14  Alan Modra  <amodra@@bigpond.net.au>

	PR 4029
	* gas/all/relax.s: New.
	* gas/all/relax.d: New.
	* gas/all/gas.exp: Run it.

2007-03-11  Hans-Peter Nilsson  <hp@@bitrange.com>

	* gas/mmix/comment-1.d, gas/mmix/bspec-1.d, gas/mmix/bspec-2.d:
	Adjust for change in readelf output.

2007-03-06  Andreas Krebbel  <krebbel1@@de.ibm.com>

	* gas/s390/zarch-z9-ec.d: New file.
	* gas/s390/zarch-z9-ec.s: New file.
	* gas/s390/s390.exp: Run the z9-ec testcases.

2007-03-05  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/3918
	* lib/gas-defs.exp (gas_started): New variable. Initialized to
	0.
	(gas_start): Set gas_started to 1.
	(gas_finish): Skip if gas_started is 0.  Reset gas_started to 0.

2007-03-02  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/relax_branch_align.d: New test.
	* gas/arm/relax_branch_align.s: New test.

2007-02-28  Nick Clifton  <nickc@@redhat.com>

	PR gas/3797
	* gas/lns/lns.exp: Do not run the lns-common test for the d10v
	port.
	* gas/d10v/address-002.l: Update expected assembler output.
	* gas/d10v/address-003.l, gas/d10v/address-004.l,
	gas/d10v/address-005.l, gas/d10v/address-006.l,
	gas/d10v/address-007.l, gas/d10v/address-008.l,
	gas/d10v/address-009.l, gas/d10v/address-010.l,
	gas/d10v/address-011.l, gas/d10v/address-012.l,
	gas/d10v/address-013.l, gas/d10v/address-014.l,
	gas/d10v/address-015.l, gas/d10v/address-016.l,
	gas/d10v/address-017.l, gas/d10v/address-018.l,
	gas/d10v/address-019.l, gas/d10v/address-020.l,
	gas/d10v/address-021.l, gas/d10v/address-022.l,
	gas/d10v/address-023.l, gas/d10v/address-024.l,
	gas/d10v/address-025.l, gas/d10v/address-026.l,
	gas/d10v/address-027.l, gas/d10v/address-030.l,
	gas/d10v/address-031.l, gas/d10v/address-032.l,
	gas/d10v/address-033.l, gas/d10v/address-034.l,
	gas/d10v/address-035.l, gas/d10v/address-036.l,
	gas/d10v/address-037.l, gas/d10v/address-038.l,
	gas/d10v/address-039.l, gas/d10v/address-040.l,
	gas/d10v/address-041.l: Likewise.

2007-02-28  Nick Clifton  <nickc@@redhat.com>

	PR gas/3975
	* gas/arm/mapshort.d: Split into two new files...
	* gas/arm/mapshort-eabi.d: The one and...
	* gas/arm/mapshort-elf.d: This one.
	* gas/arm/arch7.d: Remove 32-bit host expectation.
	* gas/arm/arm7t.d: Replace ".word 0x00000000" with ".*" as some
	arm targets will disassemble this value as an instruction.
	* gas/arm/neon-ldst-rm.d: Likewise.
	* gas/arm/thumb2_pool.d: Only run this test for ELF based arm
	ports.
	* gas/arm/thumbrel.d: Only run this test for EABI based arm
	ports.
	* gas/arm/wince_inst.d: Fix expected branch targets.

2007-02-22  DJ Delorie  <dj@@redhat.com>

	* gas/s390/esa-g5.s: Adjust for corrected PKA syntax.
	* gas/s390/esa-g5.d: Adjust for corrected PKA syntax.

2007-02-20  Thiemo Seufer  <ths@@mips.com>
            Chao-Ying Fu  <fu@@mips.com>

	* gas/mips/mips32-dspr2.s, gas/mips/mips32-dspr2.d: New test for
	DSP R2.
	* gas/mips/mips.exp: Run new test.

2007-02-19  Andreas Krebbel  <krebbel1@@de.ibm.com>

	* gas/s390/esa-g5.d (cfxbr, cfebr, cfdbr): Exchanged floating
	point and fixed point operands.
	* gas/s390/esa-g5.s: Likewise.
	* gas/s390/zarch-z900.d (cfdr, cfer, cfxr, cgdbr, cgebr, cgxbr,
	cgdr, cger, cgxr): Likewise.
	* gas/s390/zarch-z900.s: Likewise.

2007-02-11  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/4027
	* gas/i386/opcode.s: Add more tests for "test".
	* i386/opcode-intel.d: Updated.
	* gas/i386/opcode-suffix.d: Likewise.
	* gas/i386/opcode.d: Likewise.

2007-02-06  Nick Clifton  <nickc@@redhat.com>

	PR gas/3810 gas/3800
	* gas/elf/elf.exp: Expect the redef test to fail on targets which
	do not convert fixups against ordinary symbols into relocs against
	section symbols.
	* gas/all/gas.exp: Likewise.

2007-02-05  Dave Brolley  <brolley@@redhat.com>

	* gas/mep/relocs-junk1.s: Add a .data section.
	* gas/mep/relocs.d: Updated to match above.

2007-02-04  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/3961
	* gas/i386/secrel.d: Support 64bit host.

2007-02-02  Nick Clifton  <nickc@@redhat.com>

	PR gas/3812
	* gas/v850/v850e1.d: Correct expected disassembly of cmov insn to
	account for sign extension.

2007-01-11  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/thumb2_add.d: Add test for missing operand.
	* gas/arm/thumb2_add.s: Ditto.

2007-01-11  Nick Clifton  <nickc@@redhat.com>

	* gas/mcore/allinsn.s: Remove use of '#' before numbers - it is a
	line comment character.
	* gas/mcore/allinsn.d: Adjust expected disassembly to match real
	output.

	* gas/lns/lns.exp: Run the alternative version of the lns-common-1
	test for the MCore target.

2007-01-08  Kai Tietz	<kai.tietz@@onevision.com>

	* gas/all/gas.exp: Renamed target x86_64-*-mingw64 to x86_64-*-mingw*.
	* gas/i386/i386.exp: Ditto.

2007-01-04  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/archv6.s: Add more cpsie tests.
	* gas/arm/archv6.d: Ditto.

2007-01-04  Andreas Schwab  <schwab@@suse.de>

	* gas/m68k/cpu32.[sd]: New test.
	* gas/m68k/all.exp: Run it.

2007-01-04  Julian Brown  <julian@@codesourcery.com>

	* gas/arm/neon-omit.d: Fix expected encodings for vshl, vqshl.

2007-01-04  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/neon-cov.d: Adjust expected output.
	* gas/arm/neon-omit.s: Add tests for vcgt and vcle.  Reorder vacle
	and vacle.
	* gas/arm/neon-omit.d: Adjust expected output.

For older changes see ChangeLog-2006
@


1.1274
log
@Expect cvtsi2ssl instead of cvtsi2ss.
@
text
@d1 6
@


1.1273
log
@gas/testsuite/

2007-12-31  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/inval.s: Add test for cvtsi2ss/cvtsi2sd.
	* gas/i386/simd.s: Likewise.
	* gas/i386/x86-64-simd.s: Likewise.

	* gas/i386/inval.l: Updated.
	* gas/i386/simd-intel.d: Likewise.
	* gas/i386/simd-suffix.d: Likewise.
	* gas/i386/simd.d: Likewise.
	* gas/i386/sse2.d: Likewise.
	* gas/i386/x86-64-opcode.d: Likewise.
	* gas/i386/x86-64-simd-intel.d: Likewise.
	* gas/i386/x86-64-simd-suffix.d: Likewise.
	* gas/i386/x86-64-simd.d: Likewise.

opcodes/

2007-12-31  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (prefix_table): Use "%LQ" on cvtpi2ps/cvtsi2sd.
	(putop): Handle '%' and "LQ".

	* i386-opc.tbl: Remove IgnoreSize from cvtpi2ps/cvtsi2sd.
	* i386-tbl.h: Regenerated.
@
text
@d8 1
@


1.1272
log
@	* gas/all/gas.exp: Skip relax test on hppa*-*-hpux*.
@
text
@d1 16
@


1.1271
log
@gas/testsuite/

2007-12-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/arch-1.d: New file.
	* gas/i386/arch-1.s: Likewise.
	* gas/i386/arch-2.d: Likewise.
	* gas/i386/arch-2.s: Likewise.
	* gas/i386/arch-3.d: Likewise.
	* gas/i386/arch-3.s: Likewise.
	* gas/i386/arch-4.d: Likewise.
	* gas/i386/arch-4.s: Likewise.

	* gas/i386/i386.exp: Run arch-1, arch-2, arch-3 and arch-4.

opcodes/

2007-12-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-gen.c (cpu_flag_init): Add CpuSSE4_1_Or_5 to
	CPU_SSE4_1_FLAGS, CPU_SSE4_2_FLAGS and CPU_SSE5_FLAGS.
	(cpu_flags): Add CpuSSE4_1_Or_5.

	* i386-init.h: Regenerated.
	* i386-tbl.h: Likewise.

	* i386-opc.h (CpuSSE4_1_Or_5): New.
	(CpuLM): Updated.
	(i386_cpu_flags): Add cpusse4_1_or_5.

	* i386-opc.tbl: Use CpuSSE4_1_Or_5 instead of CpuSSE4_1|CpuSSE5
	on ptest roundpd, roundps, roundsd and roundss.
@
text
@d1 4
@


1.1270
log
@gas/

2007-12-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (set_intel_mnemonic): New.
	(intel_mnemonic): Likewise.
	(old_gcc): Likewise.
	(OPTION_MMNEMONIC): Likewise.
	(OPTION_MSYNTAX): Likewise.
	(OPTION_MINDEX_REG): Likewise.
	(OPTION_MNAKED_REG): Likewise.
	(OPTION_MOLD_GCC): Likewise.
	(md_pseudo_table): Add .intel_mnemonic and .att_mnemonic.
	(match_template): Don't allow AT&T/Intel mnemonic if Intel/AT&T
	mnemonic is specified.  Don't allow old gcc support if old_gcc
	is 0.
	(md_longopts): Add -mmnemonic, -msyntax, -mindex-reg,
	-mmnaked-reg and -mold-gcc.
	(md_parse_option): Handle OPTION_MMNEMONIC, OPTION_MSYNTAX,
	OPTION_MINDEX_REG, OPTION_MNAKED_REG and OPTION_MOLD_GCC.

	* doc/c-i386.texi: Docoument -mmnemonic, -msyntax, --mnaked-reg
	and AT&T mnemonic vs. Intel mnemonic.

gas/testsuite/

2007-12-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/compat-intel.d: Pass -mmnemonic=att to assembler.
	* gas/i386/compat.d: Likewise.

	* gas/i386/i386.exp: Pass -mmnemonic=att to assembler for
	"float".  Pass -mold-gcc to assembler for  "general".

opcodes/

2007-12-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-gen.c (opcode_modifiers): Add OldGcc, ATTMnemonic and
	IntelMnemonic.

	* i386-opc.h (OldGcc): New.
	(ATTMnemonic): Likewise.
	(IntelMnemonic): Likewise.
	(Opcode_Modifier_Max): Updated.
	(i386_opcode_modifier): Add oldgcc, attmnemonic and
	intelmnemonic.

	* i386-opc.tbl: Update fadd, fdiv, fdivp, fdivr, fdivrp, fmul,
	fsub, fsubp, fsubr and fsubrp with OldGcc, ATTMnemonic and
	IntelMnemonic.
	* i386-tbl.h: Regeneratd.
@
text
@d1 13
@


1.1269
log
@binutils/

2007-12-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* doc/binutils.texi: Document the new intel-mnemonic and
	intel-mnemonic options for i386 disassembler.

gas/testsuite/

2007-12-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/compat-intel.d: New file.
	* gas/i386/compat.d: Likewise.
	* gas/i386/compat.s: Likewise.

	* gas/i386/i386.exp: Run compat.

opcodes/

2007-12-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (intel_mnemonic): New.
	(print_i386_disassembler_options): Display att-mnemonic and
	intel-mnemonic options.
	(print_insn): Handle att-mnemonic and intel-mnemonic.
	(float_reg): Replace SYSV386_COMPAT with "!M" and "M".
	(putop): Handle "!M" and "M".
@
text
@d1 8
@


1.1268
log
@gas/
	* config/tc-xtensa.c (xg_symbolic_immeds_fit): Relax for weak
	references but not weak definitions.
gas/testsuite/
	* gas/xtensa/all.exp: Run new weak-call test.
	* gas/xtensa/weak-call.d: New.
	* gas/xtensa/weak-call.s: New.
@
text
@d1 8
d17 3
a19 3
        gas/elf/symtab.s: New test.
	gas/elf/symtab.d: New expected output.
	gas/elf/elf.exp: Run the new symbtab test.
@


1.1267
log
@        * bfd/elf.c (_bfd_elf_copy_private_symbol_data): Don't copy shndx if
        the symbol's section is the undefined section.
        * gas/testsuite/gas/elf/symtab.s: New test.
        gas/testsuite/gas/elf/symtab.d: New expected output.
        gas/testsuite/gas/elf/elf.exp: Run the new symbtab test.
@
text
@d1 6
@


1.1266
log
@gas/
	* config/tc-mips.h (mips_nop_opcode): Declare.
	(NOP_OPCODE): Define.
	(mips_segment_info): New structure.
	(TC_SEGMENT_INFO_TYPE): Use it instead of insn_label_list.
	* config/tc-mips.c (label_list): Adjust for new TC_SEGMENT_INFO_TYPE.
	(mips_record_mips16_mode): New function.
	(install_insn): Call it.
	(mips_align): Likewise.  Turn the fill argument into an "int *".
	Use frag_align_code for code segments if no fill data is given.
	(s_align): Adjust call accordingly.
	(mips_nop_opcode): New function.
	(mips_handle_align): Use the first variable byte to decide which
	nop sequence is needed.  Use md_number_to_chars and mips16_nop_insn.

gas/testsuite/
	* gas/mips/align2.s, gas/mips/align2.d, gas/mips/align2-el.d: New
	tests.
	* gas/mips/mips.exp: Run them.
@
text
@d1 6
@


1.1265
log
@2007-12-07  Bob Wilson  <bob.wilson@@acm.org>

include/elf/
	* xtensa.h (R_XTENSA_32_PCREL): New.

bfd/
	* elf32-xtensa.c (elf_howto_table): Add R_XTENSA_32_PCREL.
	(elf_xtensa_reloc_type_lookup): Handle BFD_RELOC_32_PCREL.
	(elf_xtensa_check_relocs): Use default case for all relocations that
	need nothing done here.
	(elf_xtensa_do_reloc): Compute self_address for all relocation types.
	Handle R_XTENSA_32_PCREL.
	(elf_xtensa_relocate_section): Check for R_XTENSA_32_PCREL for dynamic
	symbols.
	(check_section_ebb_pcrels_fit): Ignore R_XTENSA_32_PCREL relocations.

gas/
	* config/tc-xtensa.c (O_pcrel): Define.
	(suffix_relocs): Add pcrel suffix.
	(md_pseudo_table): Add 4byte and 2byte directives.
	(xtensa_elf_cons): Pass correct pcrel argument to fix_new_exp.
	(xg_assemble_literal): Likewise.  Check for O_pcrel.
	(expression_maybe_register): Reorganize.  Handle BFD_RELOC_32_PCREL.
	(xg_valid_literal_expression): Allow O_pcrel.
	(md_pcrel_from, md_apply_fix): Handle BFD_RELOC_32_PCREL.
	(tc_gen_reloc): Fix punctuation in error message.

gas/testsuite/
	* gas/xtensa/all.exp: Run new pcrel test.
	* gas/xtensa/err-pcrel.s: New.
	* gas/xtensa/pcrel.d: New.
	* gas/xtensa/pcrel.s: New.
	* gas/xtensa/xtensa-err.exp: New.
@
text
@d1 6
@


1.1264
log
@gas/
	* config/tc-xtensa.h (md_allow_eh_opt): Define.
gas/testsuite/
	* gas/elf/elf.exp: Disable ehopt test for Xtensa.
@
text
@d1 8
@


1.1263
log
@	bfd/
	* archures.c (bfd_mach_mips_loongson_2e): New.
	(bfd_mach_mips_loongson_2f): New.
	* bfd-in2.h (bfd_mach_mips_loongson_2e): New.
	(bfd_mach_mips_loongson_2f): New.
	* cpu-mips.c: Add I_loongson_2e and I_loongson_2f to
	anonymous enum.
	(arch_info_struct): Add Loongson-2E and Loongson-2F entries.
	* elfxx-mips.c (_bfd_elf_mips_mach): Handle Loongson-2E
	and Loongson-2F flags.
	(mips_set_isa_flags): Likewise.
	(mips_mach_extensions): Add Loongson-2E and Loongson-2F
	entries.

	binutils/
	* readelf.c (get_machine_flags): Handle Loongson-2E and -2F
	flags.

	gas/
	* config/tc-mips.c (mips_cpu_info_table): Add loongson2e
	and loongson2f entries.
	* doc/c-mips.texi: Document -march=loongson{2e,2f} options.

	gas/testsuite/
	* gas/mips/mips.exp: Add loongson-2e and -2f tests.
	* gas/mips/loongson-2e.d: New.
	* gas/mips/loongson-2e.s: New.
	* gas/mips/loongson-2f.d: New.
	* gas/mips/loongson-2f.s: New.

	include/elf/
	* mips.h (E_MIPS_MACH_LS2E): New.
	(E_MIPS_MACH_LS2F): New.

	include/opcode/
	* mips.h (INSN_LOONGSON_2E): New.
	(INSN_LOONGSON_2F): New.
	(CPU_LOONGSON_2E): New.
	(CPU_LOONGSON_2F): New.
	(OPCODE_IS_MEMBER): Update for Loongson-2E and -2F flags.

	opcodes/
	* mips-dis.c (mips_arch_choices): Add Loongson-2E and -2F
	entries.
	* mips-opc.c (IL2E): New.
	(IL2F): New.
	(mips_builtin_opcodes): Add Loongson-2E and -2F instructions.
	Allow movz and movn for Loongson-2E and -2F.  Add movnz entry.
	Move coprocessor encodings to the end of the table.  Allow
	certain MIPS V .ps instructions on the Loongson-2E and -2F.
@
text
@d1 4
@


1.1262
log
@2007-11-29  Martin Schwidefsky  <schwidefsky@@de.ibm.com>

	* config/tc-s390.c (md_begin): If the -mesa option is specified
	add zarch opcodes to the hash table only if there is no variant
	that is available for the esa mode as well.

2007-11-29  Martin Schwidefsky  <schwidefsky@@de.ibm.com>

	* gas/s390/esa-z9-109.d: Add check for old version of sske.
	* gas/s390/esa-z9-109.s: Likewise.
@
text
@d1 6
@


1.1261
log
@2007-11-27  Andreas Krebbel  <krebbel1@@de.ibm.com>

	* s390-opc.txt ("tcet", "tcdt", "tcxt", "tget", "tgdt",
	"tgxt"): Removed.
	("tdcet", "tdcdt", "tdcxt", "tdget", "tdgdt", "tdgxt"): Added.

2007-11-27  Andreas Krebbel  <krebbel1@@de.ibm.com>

	* gas/s390/zarch-z9-ec.d: ("tcet", "tcdt", "tcxt", "tget",
	"tgdt", "tgxt"): Removed.
        ("tdcet", "tdcdt", "tdcxt", "tdget", "tdgdt", "tdgxt"): Added.
	* gas/s390/zarch-z9-ec.s: Likewise.
@
text
@d1 5
@


1.1260
log
@	* dwarf2dbg.c (dwarf2_consume_line_info): New.
	(dwarf2_emit_insn): Use it here.
	(dwarf2_directive_loc): Fix check for consecutive .loc directives
	when debug_type is DEBUG_DWARF2.
	* dwarf2dbg.h (dwarf2_consume_line_info): New prototype.
	* config/tc-ia64.c (ia64_flush_insns): Call dwarf2_consume_line_info.
	(md_assemble): Likewise.
testsuite/
	* gas/lns/lns.exp: Run lns-common-1 with alternate source for ia64.
	* gas/lns/lns-common-1-ia64.s: New file.
@
text
@d1 7
@


1.1259
log
@gas/

2007-11-14  Tristan Gingold  <gingold@@adacore.com>

	* config/tc-ia64.c (AR_RUC): Defined.
	(ar): Add "ar.ruc".
	(specify_resource): Handle AR_RUC like AR_ITC.

gas/testsuite/

2007-11-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/ia64/dv-raw-err.s: Add tests for ar.ruc.
	* gas/ia64/dv-waw-err.s: Likewise.
	* gas/ia64/invalid-ar.s: Likewise.

	* gas/ia64/regs.s: Add tests for ar.ruc and ar44.

	* gas/ia64/dv-raw-err.l: Updated.
	* gas/ia64/dv-waw-err.l: Likewise.
	* gas/ia64/invalid-ar.l: Likewise.
	* gas/ia64/regs.d: Likewise.

opcodes/

2007-11-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* ia64-ic.tbl: Updated for Itanium 9100 series.
	* ia64-raw.tbl: Likewise.
	* ia64-waw.tbl: Likewise.
	* ia64-asmtab.c: Regenerated.

2007-11-14  Tristan Gingold  <gingold@@adacore.com>

	* ia64-dis.c (print_insn_ia64): Handle ar.ruc.
	* ia64-gen.c (lookup_regindex): Likewise.
@
text
@d1 5
@


1.1258
log
@	* gas/macros/purge.s: Delete irpc loops.
@
text
@d1 13
@


1.1257
log
@	* gas/ppc/regnames.d: New.
	* gas/ppc/regnames.s: Likewise.
	* gas/ppc/ppc.exp: Run it.
@
text
@d1 4
d22 1
a22 1
        * gas/ppc/test1xcoff32.d: Updated to match RTOC bug fix.
d756 1
a756 1
	
d877 1
a877 1
	
@


1.1256
log
@* ia64-dis.c (print_insn_ia64): Generate symbolic names for cr
 registers instead of register number.

* gas/ia64/regs.d: Expect symbolic names for cr registers due to
 improved disassembler.
@
text
@d1 6
@


1.1255
log
@* gas/elf/elf.exp (run_elf_list_test): Fix typo.
@
text
@d3 5
@


1.1254
log
@* config/tc-ppc.c (md_apply_fix): For PPC_TOC16 on XCOFF, uses offset
  within the TOC instead of the VMA.

* gas/ppc/test1xcoff32.d: Updated to match RTOC bug fix.
@
text
@d3 4
@


1.1253
log
@2007-11-06  Paul Brook  <paul@@codesourcery.com>

	gas/
	* config/tc-arm.c (do_mull): Allow overlapping Rm for armv6.

	gas/testsuite/
	* gas/arm/mul-overlap.s: Add umull and smlal.
	* gas/arm/mul-overlap.l: Update expected results.
@
text
@d1 4
@


1.1252
log
@* ehopt.c (check_eh_frame): If md_allow_eh_opt is defined, invoke it to see if the optimizations should be applied.
* config/tc-mn10300.h (md_allow_eh_opt): Define.  Only allow call frame optimization if linker relaxation is not enabled.
* gas/elf/elf.exp: Disable ehopt test for mn10300.
@
text
@d1 5
@


1.1251
log
@gas/

2007-11-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (process_suffix): Check addrprefixop0 to
	see if the address size override prefix changes the size of the
	first operand.
	(check_byte_reg): Don't warn if byteokintel is set.
	(check_long_reg): Set i.suffix to QWORD_MNEM_SUFFIX if toqword
	is set.
	(check_qword_reg): Set i.suffix to LONG_MNEM_SUFFIX if todword
	is set.

gas/testsuite/

2007-11-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.d: New.
	* gas/i386/i386.s: Likewise.

	* gas/i386/i386.exp: Run i386.

	* gas/i386/x86_64.s: Add tests for movsx, movsbl, movsbq,
	movsbw, movswl, movswq, movzx, movzb, movzbl, movzbq,
	movzbw, movzwl and movzwq.
	* gas/i386/x86_64.d: Updated.

opcodes/

2007-11-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-gen.c (opcode_modifiers): Add ByteOkIntel, ToDword,
	ToQword and AddrPrefixOp0.

	* i386-opc.h (ByteOkIntel): New.
	(ToDword): Likewise.
	(ToQword): Likewise.
	(AddrPrefixOp0): Likewise.
	(IsPrefix): Updated.
	(i386_opcode_modifier): Add byteokintel, todword, toqword
	and addrprefixop0.

	* i386-opc.tbl (cvtss2si): Add ToQword.
	(cvttss2si): Likewise.
	(cvtsd2si): Add ToDword.
	(cvttsd2si): Likewise.
	(monitor): Add AddrPrefixOp0.
	(invlpga): Likewise.
	(vmload): Likewise.
	(vmrun): Likewise.
	(vmsave): Likewise.
	(pextrb): Add ByteOkIntel.
	(pinsrb): Likewise.
	* i386-tbl.h: Regenerated.
@
text
@d1 4
@


1.1250
log
@* dwarf.c (is_relocatable): Remove definition.
  (display_debug_frames): Remove check in is_relocatable.
* dwarf.h (is_relocatable): Remove declaration.
* objdump.c (is_relocatable): New static definition.
* readelf.c (dump_relocations): Make the function void.
  (is_32bit_abs_reloc): Add support for x86, Arc, Arm, D10V, Dlx, OR32 and Score.
  (is_32bit_pcrel_reloc): Add support for x86 and Arm.
  (is_16bit_abs_reloc): Add support for D10V.
  (debug_apply_rela_addends): Rename to debug_apply_relocations.
  Add code to support rel relocations.
  (load_debug_section): Fix call to debug_apply_relocations.
  (get_file_header): Remove setting of is_relocatable.
* gas/cfi/cfi-common-6.d: Allow for possible relocation of the .debug.eh_frame section.
@
text
@d1 12
@


1.1249
log
@* mn10300.h (R_MN10300_ALIGN): Define.
* reloc.c (BFD_RELOC_MN10300_ALIGN): Add.
* bfd-in2.h: Regenerate.
* libbfd.h: Regenerate.
* elf-m10300.h: Handle R_MN10300_ALIGN relocs.
* mn10300_elf_relax_delete_bytes): Honour R_MN10300_ALIGN relocs.
  Re-fix off by one error in comparisons.
* config/tc-mn10300.c (tc_gen_reloc): Fix test that decides when
  sym_diff relocs should be generated.
  (md_apply_fix): Skip R_MN10300_ALIGN relocs.
  (mn10300_fix_adjustable): Do not adjust R_MN10300_ALIGN relocs.
  (mn10300_handle_align): New function.  Generate R_MN10300_ALIGN
  relocs to record alignment requests.
* config/tc-mn10300.h (TC_FORCE_RELOCATION_SUB_SAME): Also force
  R_MN10300_ALIGN relocs.
  (HANDLE_ALIGN): Define.  Call mn10300_handle_align.
* gas/all/gas.exp: Do not run diff1.s test for mn10300.
* ld-mn10300/mn10300.exp: Run new tests.  Skip i126256 test if
  a compiler is not available.
* ld-mn10300/i112045-3.s: New test.
* ld-mn10300/i112045-3.d: Expected disassembly.
* ld-mn10300/i135409.s: Rename to i135409-1.s.
* ld-mn10300/i135409.d: Rename to i135409-1.d
* ld-mn10300/i135409-2.s: New test.
* ld-mn10300/i135409-2.d: Expected symbol table.
* ld-mn10300/i36434.d: Adjust expected disassembly.
@
text
@d1 5
@


1.1248
log
@gas/

2007-10-27  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/5221
	* config/obj-elf.c (obj_elf_section): Handle optional
	parameters for .pushsection.

	* doc/as.texinfo: Document optional parameters for
	.pushsection.

gas/testsuite/

2007-10-27  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/5221
	* gas/elf/elf.exp: Run section7.

	* gas/elf/section7.d: New.
	* gas/elf/section7.s: Likewise.
@
text
@d1 4
@


1.1247
log
@gas/testsuite/

2007-10-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/katmai.s: Remove cmpps opcode test.

	* gas/i386/simd.s: Add tests for cmpss and cmpsd.
	* gas/i386/x86-64-simd.s: Likewise.

	* gas/i386/katmai.d: Updated.
	* gas/i386/simd-intel.d: Likewise.
	* gas/i386/simd-suffix.d: Likewise.
	* gas/i386/simd.d: Likewise.
	* gas/i386/x86-64-simd-intel.d: Likewise.
	* gas/i386/x86-64-simd-suffix.d: Likewise.
	* gas/i386/x86-64-simd.d: Likewise.

opcodes/

2007-10-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (OP_SIMD_Suffix): Renamed to ...
	(CMP_Fixup): This.  Rewrite.
	(OPSIMD): Renamed to ...
	(CMP): This. Updated.
	(prefix_table): Update PREFIX_0FC2 entry.
@
text
@d1 8
@


1.1246
log
@Add MN10300 linker relaxation support for symbol differences
@
text
@d1 15
@


1.1245
log
@	opcodes/
	* m68k-opc.c (m68k_opcodes): Correct move sr and ccr masks for
	coldfire.

	gas/testsuite/
	* gas/m68k/mcf-movsr.s: New.
	* gas/m68k/mcf-movsr.d: New.
	* gas/m68k/all.exp: Add mcf-movsr test.
@
text
@d1 6
@


1.1244
log
@Support the use of the STT_COMMON type.  (In source and object files only at the moment)
@
text
@d1 6
@


1.1243
log
@* config/obj-elf.c (obj_elf_section): When pushing a section, if there is a
  comma then the following argument must be a subsection number.
* testsuite/gas/elf/elf.exp (run_elf_list_test): Run section6 test.
* testsuite/gas/elf/section6.s: New file: Check behaviour of .pushsection with a subsection argument.
* testsuite/gas/elf/section6.d: New file: Expected disassembly.
@
text
@d1 6
@


1.1242
log
@gas/testsuite/

2007-10-08  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run simd-suffix and x86-64-simd-suffix.

	* gas/i386/simd-suffix.d: New.
	* gas/i386/x86-64-simd-suffix.d: Likewise.

	* gas/i386/x86-64-opcode.d: Updated.
	* gas/i386/x86-64-simd.d: Likewise.

opcodes/

2007-10-08  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c: Updated comments for 'Y'.
	(putop): Don't add 'q' for 'Y' if suffix_always isn't true.
@
text
@d1 7
@


1.1241
log
@opcodes/:
* opcodes/mips-dis.c (mips_cp0_names_r3000): New definition.
(mips_cp0_names_r4000): Likewise.
(mips_arch_choices): Link to the above as appropriate.

gas/testsuite/:
* gas/mips/cp0-names-r3000.d: New test for R3000 CP0 symbolic
disassembly.
* gas/mips/cp0-names-r4000.d: New test for R4000/R4400 symbolic
CP0 disassembly.
* mips/mips.exp: Run the new tests.
@
text
@d1 10
@


1.1240
log
@gas/:
* config/tc-mips.c (AT): Rename to...
(ATREG): ... this.
(AT): New definition.
(mips_set_options): Rename "noat" to "at"; change the type.
(mips_opts): Update accordingly.
(append_insn): Likewise.
(macro_build_ldst_constoffset): Likewise.
(load_address): Likewise.
(macro, macro2): Likewise.
(s_mipsset): Handle ".set at=REG".  Update handling of ".set at"
and ".set noat".

gas/testsuite/:
* gas/mips/at-1.d, gas/mips/at-2.l: New tests to check the ".set
at=REG" directive.
* gas/mips/at-1.s, gas/mips/at-2.s: Sources for the new tests.
* gas/mips/mips.exp: Run the new tests.
@
text
@d1 9
a9 1
2007-10-01  Maciej W. Rozycki  <macro@@linux-mips.org>
@


1.1239
log
@gas/testsuite/

2007-10-05  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run smx.

	* gas/i386/smx.d: New.
	* gas/i386/smx.s: Likewise.

opcodes/

2007-10-05  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (dis386_twobyte): Add getsec.

	* i386-gen.c (cpu_flags): Add CpuSMX.

	* i386-opc.h (CpuSMX): New.
	(CpuSSSE3): Updated.
	(i386_cpu_flags): Add cpusmx.

	* i386-opc.tbl: Add getsec.
	* i386-init.h: Regenerated.
	* i386-tbl.h: Likewise.
@
text
@d1 7
@


1.1238
log
@gas/testsuite/

2007-10-04  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/simd.s: Add tests for unpckhpd and unpckhps.
	* gas/i386/x86-64-simd.s: Likewise.

	* gas/i386/simd-intel.d: Updated.
	* gas/i386/simd.d: Likewise.
	* gas/i386/x86-64-simd-intel.d: Likewise.
	* gas/i386/x86-64-simd.d: Likewise.

opcodes/

2007-10-04  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (dis386_twobyte): Use EXx instead of EXq on
	unpckhpX and unpckhpX.
@
text
@d1 7
@


1.1237
log
@opcodes/
2007-10-04  David Daney  <ddaney@@avtrex.com>

	* mips-opc.c (mips_builtin_opcodes): Mark lwxc1 as working on FP_S
	registers.

gas/testsuite/
2007-10-04  David Daney  <ddaney@@avtrex.com>

	* gas/mips/odd-float.d, gas/mips/odd-float.s: New test.
	* gas/mips/mips.exp: Run it.
@
text
@d1 10
@


1.1236
log
@gas/

2007-10-04  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/5109
	* config/tc-i386.c (process_suffix): Clear QWORD suffix if it
	is ignored in Intel mode.

gas/testsuite/

2007-10-04  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/5109
	* gas/i386/simd-intel.d: Updated.
	* gas/i386/simd.d: Likewise.
	* gas/i386/x86-64-simd-intel.d: Likewise.
	* gas/i386/x86-64-simd.d: Likewise.

	* gas/i386/simd.s: Add more tests.
	* gas/i386/x86-64-simd.s: Likewise.
@
text
@d1 5
@


1.1235
log
@* read.c (potable): Add string8, string16, string32 and string64. Add bit size for stringer function.
 (stringer_append_char): New.
 (stringer): Use stringer_append_char().
* config/obj-coff.c (obj_coff_ident): Add bit size for stringer function.
* config/obj-elf.c (obj_elf_ident): Likewise.
* config/tc-alpha.c (s_alpha_stringer): Likewise.
* config/tc-dlx.c (dlx_pseudo_table): Likewise.
* config/tc-hppa.c (pa_stringer): Likewise.
* config/tc-ia64.c (md_pseudo_table, pseudo_opcode): Likewise.
* config/tc-m68hc11.c (md_pseudo_table): Likewise.
* config/tc-mcore.c (md_pseudo_table): Likewise.
* config/tc-mips.c (mips_pseudo_table): Likewise.
* config/tc-spu.c (md_pseudo_table): Likewise.
* config/tc-s390.c (md_pseudo_table): Likewise. Replace '2' by '1'.
* doc/as.texinfo (ABORT): Fix identing.
  (String): Document new string8, string16, string32, string64 functions.
* NEWS: Mention the new feature.

* testsuite/gas/all/gas.exp: Include new test "strings".
* testsuite/gas/all/string.s: New
* testsuite/gas/all/string.d: New.
@
text
@d1 11
@


1.1234
log
@* gas/ppc/altivec_xcoff.s: Do not use .machine pseudo-ops as it overrides gas options.
* gas/ppc/altivec_xcoff64.s: Likewise.
* gas/ppc/booke_xcoff64.s: Likewise.
* gas/ppc/altivec_xcoff.d: Accept 32bits offsets.
* gas/ppc/booke_xcoff.s: Do not use .machine pseudo-op and remove
* booke64 opcodes.
* gas/ppc/booke_xcoff.d: Accept 32bits offsets and renumber.
* gas/ppc/booke_xcoff64.d: Use booke opcodes.
@
text
@d1 6
@


1.1233
log
@gas/

2007-09-30  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/5080
	* config/tc-i386.c (check_long_reg): Also handle cvttss2si.
	(check_qword_reg): Also handle cvttsd2si.

gas/testsuite/

2007-09-30  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/5080
	* gas/i386/simd-intel.d: Updated.
	* gas/i386/simd.d: Likewise.
	* gas/i386/x86-64-simd-intel.d: Likewise.
	* gas/i386/x86-64-simd.d: Likewise.

	* gas/i386/simd.s: Add new tests for cvttsd2si and cvttss2si.
	* gas/i386/x86-64-simd.s: Likewise.
@
text
@d1 12
@


1.1232
log
@gas/testsuite/gas/

2007-09-27  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/5072
	* gas/i386/i386.exp: Run x86-64-opcode-inval and
	x86-64-opcode-inval-intel.

	* gas/i386/x86-64-opcode-inval-intel.d: New.
	* gas/i386/x86-64-opcode-inval.d: Likewise.
	* gas/i386/x86-64-opcode-inval.s: Likewise.

opcodes/

2007-09-27  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/5072
	* i386-dis.c: Update comments on '{', '}' and '|' to support
	only AT&T and Intel modes.
	(X86_64_4...X86_64_27): New.
	(dis386): Updated.  Use X86_64_4...X86_64_21.
	(dis386_twobyte): Updated.
	(float_mem): Likewise.
	(x86_64_table): Add X86_64_4...X86_64_27.
	(opc_ext_table): Updated.  Use X86_64_22 and X86_64_27.
	(putop): Updated handling of '{', '}' and '|' to support only
	AT&T and Intel modes.
@
text
@d1 11
@


1.1231
log
@gas/
	* config/m68k-parse.h (m68k_register): Use MBO instead of MBB.
	(last_movec_reg): Change to MBO.
	* config/tc-m68k.c (fido_ctrl): Use MBO instead of MBB.
	(m68k_ip): Use MBO instead of MBO.
	(init_table): Use MBO instead of MBO.  Add an entry for mbo.

gas/testsuite/
	* gas/m68k/fido.s: Add tests for %mbo.
	* gas/m68k/fido.d: Update accordingly.

opcodes/
	* m68k-dis.c (print_insn_arg): Use %mbo instead of %mbb.
@
text
@d1 10
@


1.1230
log
@gas/testsuite/
2007-09-26  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/x86-64-addr32.d: Adjust expectations.

opcodes/
2007-09-26  Jan Beulich  <jbeulich@@novell.com>

	* i386-dis.c (OP_E_extended): Distinguish rip- and eip-
	relative addressing. Update used_prefixes based on whether any
	base or index register was printed.
@
text
@d1 5
@


1.1229
log
@gas/
2007-09-26  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-i386.c (build_modrm_byte): Also check for RegEip
	when considering IP-relative addressing.

gas/testsuite/
2007-09-26  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/reloc64.s: Adjust for %eip-relative addressing no
	longer generating errors.
	* gas/i386/reloc64.d, gas/i386/reloc64.l: Update.
	* gas/i386/x86-64-addr32.s: Remove explicit addr32 prefix
	for %eip-realtive addressing case.

opcodes/
2007-09-26  Jan Beulich  <jbeulich@@novell.com>

	* i386-opc.h (RegEip): Define.
	(RegEiz): Adjust.
	* i386-reg.tbl: Add eip. Mark rip and eip with RegRex64.
	* i386-tbl.h: Re-generate.
@
text
@d3 4
@


1.1228
log
@* config/tc-m68k.c (LONG_BRANCH_VIA_COND): New.
  (BRANCHBWPL, FRAG_VAR_SIZE): New.
  (md_relax_table): Add BRANCHBWPL entries.
  (m68k_ip): Choose BRANCHBWPL relaxation if necessary.
  (md_assemble): Use FRAG_VAR_SIZE.
  (md_convert_frag_1): Add BRANCHBWPL cases.
  (md_estimate_size_before_relaz): Likewise.
* gas/m68k/br-isaa.d: Dump relocs too.
* gas/m68k/br-isab.d: Likewise.
* gas/m68k/br-isac.d: Likewise.  Adjust for long branch relaxation.
Index: gas/config/tc-m68k.c
@
text
@d1 8
@


1.1227
log
@gas/

2007-09-24  Carlos O'Donell  <carlos@@codesourcery.com>

	* config/tc-mips.c (s_align): Set max_alignment to 28.

gas/testsuite/

2007-09-24  Carlos O'Donell  <carlos@@codesourcery.com>

	* gas/mips/align.s, gas/mips/align.d: New test.
	* gas/mips/mips.exp: Run it.
@
text
@d1 6
@


1.1226
log
@gas/testsuite/

2007-09-20  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/sib.s: Add more eiz tests.
	* gas/i386/x86-64-sib.s: Add more riz tests.

	* gas/i386/sib-intel.d: Updated.
	* gas/i386/sib.d: Likewise.
	* gas/i386/x86-64-sib-intel.d: Likewise.
	* gas/i386/x86-64-sib.d: Likewise.

opcodes/

2007-09-20  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (OP_E_extended): Display eiz for [eiz*1 + offset].
@
text
@d1 5
@


1.1225
log
@gas/

2007-09-20  H.J. Lu  <hongjiu.lu@@intel.com>

	PR 658
	* config/tc-i386.c (SCALE1_WHEN_NO_INDEX): Removed.
	(set_allow_index_reg): New.
	(allow_index_reg): Likewise.
	(md_pseudo_table): Add "allow_index_reg" and
	"disallow_index_reg".
	(build_modrm_byte): Set i.sib.index to NO_INDEX_REGISTER for
	fake index registers.
	(i386_scale): Updated.
	(i386_index_check): Support fake index registers.
	(parse_real_register): Return NULL on eiz/riz if fake index
	registers aren't allowed.

gas/testsuite/

2007-09-20  H.J. Lu  <hongjiu.lu@@intel.com>

	PR 658
	* gas/i386/i386.exp: Run sib-intel, x86-64-sib and
	x86-64-sib-intel.

	* gas/i386/nops-1-i386-i686.d: Updated.
	* gas/i386/nops-1-i386.d: Likewise.
	* gas/i386/nops-1.d: Likewise.
	* gas/i386/nops-2-i386.d: Likewise.
	* gas/i386/nops-2-merom.d: Likewise.
	* gas/i386/nops-2.d: Likewise.
	* gas/i386/nops-3-i386.d: Likewise.
	* gas/i386/nops-3.d : Likewise.
	* gas/i386/sib.d: Likewise.

	* gas/i386/sib.s: Use %eiz in testcases.

	* gas/i386/sib-intel.d: New.
	* gas/i386/x86-64-sib-intel.d: Likewise.
	* gas/i386/x86-64-sib.d: Likewise.
	* gas/i386/x86-64-sib.s: Likewise.

ld/testsuite/

2007-09-20  H.J. Lu  <hongjiu.lu@@intel.com>

	PR 658
	* ld-i386/tlsbin.dd: Updated.
	* ld-i386/tlsld1.dd: Likewise.

opcodes/

2007-09-20  H.J. Lu  <hongjiu.lu@@intel.com>

	PR 658
	* 386-dis.c (index64): New.
	(index32): Likewise.
	(intel_index64): Likewise.
	(intel_index32): Likewise.
	(att_index64): Likewise.
	(att_index32): Likewise.
	(print_insn): Set index64 and index32.
	(OP_E_extended): Use index64/index32 for index register for
	SIB with INDEX == 4.

	* i386-opc.h (RegEiz): New.
	(RegRiz): Likewise.

	* i386-reg.tbl: Add eiz and riz.
	* i386-tbl.h: Regenerated.
@
text
@d3 10
@


1.1224
log
@gas/testsuite/gas/

2007-09-19  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/intelok.s: Add tests for memory without base.
	* gas/i386/intelok.d: Updated.
	* gas/i386/intelok.e: Likewise.

opcodes/

2007-09-19  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (OP_E_extended): Always display scale for memory.
@
text
@d1 23
@


1.1223
log
@gas/

2007-09-17  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (intel_e04): Revert the last change.

gas/testsuite/

2007-09-17  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/x86-64-rip.s: Revert the last change.
	* gas/i386/x86-64-rip-intel.d: Likewise.
	* gas/i386/x86-64-rip.d: Likewise.
@
text
@d1 6
@


1.1222
log
@gas/

2007-09-15  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/5034
	* config/tc-i386.c (intel_e04): Return 1 if cur_token.code is
	T_NIL.

gas/testsuite/

2007-09-15  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/5034
	* gas/i386/x86-64-rip.s: Add Intel mode testcases.
	* gas/i386/x86-64-rip-intel.d: Updated.
	* gas/i386/x86-64-rip.d: Likewise.
@
text
@d1 6
@


1.1221
log
@Update dates.
@
text
@d1 7
@


1.1220
log
@Add AMD SSE5 support
@
text
@d1 1
a1 1
2007-08-31  Michael Meissner  <michael.meissner@@amd.com>
a5 1
	(sse5): Do not currently run 32-bit  tests.
d11 1
d20 1
@


1.1219
log
@gas/testsuite/
2007-09-12  Jan Beulich  <jbeulich@@novell.com>
	* gas/i386/sse4_1.s, gas/i386/x86-64-sse4_1.s: Add two-operand forms
	of blendvps, blendvpd, and pblendvb.
	* gas/i386/sse4_1.d, gas/i386/sse4_1-intel.d,
	gas/i386/x86-64-sse4_1.d, gas/i386/x86-64-sse4_1-intel.d: Adjust,
	making last/first operand of blendvps, blendvpd, and pblendvb
	optional.

opcodes/
2007-09-12  Jan Beulich  <jbeulich@@novell.com>

	* i386-opc.tbl: Add two-operand forms of blendvps, blendvpd, and
	pblendvb.
	* i386-tbl.h: Regenerate.
@
text
@d1 10
@


1.1218
log
@gas/
2007-09-12  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-i386.c (md_assemble): Move handling of extrq/insertq
	after generic operand swapping, and swap only the immediate operands.

gas/testsuite/
2007-09-12  Jan Beulich  <jbeulich@@novell.com>
	* gas/i386/amdfam10.s, gas/i386/x86-64-amdfam10.s: Add Intel syntax
	code.
	* gas/i386/amdfam10.d, gas/i386/x86-64-amdfam10.d: Adjust.
@
text
@d2 8
@


1.1217
log
@gas/

2007-09-06  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (match_template): Handle invlpga, vmload,
	vmrun and vmsave in SVME.
	(process_suffix): Likewise.

gas/testsuite/

2007-09-06  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/svme.s: Updated to allow eax in 64bit.
	* gas/i386/svme.d: Updated.
	* gas/i386/svme64.d: Likewise.

opcodes/

2007-09-06  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-opc.tbl: Correct SVME instructions to allow 32bit register
	operand in 64bit mode.
	* i386-tbl.h: Regenerated.
@
text
@d1 5
@


1.1216
log
@gas/testsuite/

2007-08-31  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/svme.s: Updated to accept eax in 32bit and rax in
	64bit.
	* gas/i386/svme.d: Updated.
	* gas/i386/svme64.d: Likewise.

opcodes/

2007-08-31  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (SVME_Fixup): Removed.
	(OPC_EXT_39): New.
	(OPC_EXT_RM_6): Likewise.
	(grps): Use OPC_EXT_39.
	(opc_ext_table): Add OPC_EXT_39.
	(opc_ext_rm_table): Add OPC_EXT_RM_6.

	* i386-opc.tbl: Correct SVME instructions to take register
	operand only.
	* i386-tbl.h: Regenerated.
@
text
@d1 6
@


1.1215
log
@gas/testsuite/

2007-08-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/amd.s: Add rdtscp.
	* gas/i386/amd.d: Updated.

	* gas/i386/mem-intel.d: Update invlpg for BYTE PTR.
	* gas/i386/x86-64-mem-intel.d: Likewise.

	* gas/i386/x86-64-opcode.s: Add swapgs.
	* gas/i386/x86-64-opcode.d: Updated.

opcodes/

2007-08-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (INVLPG_Fixup): Removed.
	(OPC_EXT_38): New.
	(OPC_EXT_RM_5): Likewise.
	(grps): Use OPC_EXT_38.
	(opc_ext_table): Add OPC_EXT_38.
	(opc_ext_rm_table): Add OPC_EXT_RM_5.
@
text
@d1 7
@


1.1214
log
@	* dwarf2dbg.c (dwarf2_directive_loc): Emit duplicate .loc directives.

	* gas/lns/lns-duplicate.d, gas/lns/lns-duplicate.s: New.
	* gas/lns/lns.exp: Run lns-duplicate.
@
text
@d1 11
@


1.1213
log
@2007-08-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run x86-64-reg and x86-64-reg-intel.

	* gas/i386/x86-64-reg.s: New. Add tests for instructions
	with one register operand.
	* gas/i386/x86-64-reg-intel.d: Likewise.
	* gas/i386/x86-64-reg.d: Likewise.
@
text
@d1 5
@


1.1212
log
@Correct ChangeLog entries.
@
text
@d3 9
@


1.1211
log
@gas/testsuite/

2007-08-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run reg and reg-intel.

	* gas/i386/katmai.d: Update bad instructions.

	* gas/i386/reg.s: New. Add tests for instructions with one
	register operand.
	* gas/i386/reg-intel.d: Likewise.
	* gas/i386/reg.d: Likewise.

opcodes/

2007-08-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (OP_Skip_MODRM): New.
	(OP_Monitor): Likewise.
	(OP_Mwait): Likewise.
	(Mb): Likewise.
	(Skip_MODRM): Likewise.
	(USE_OPC_EXT_TABLE): Likewise.
	(USE_OPC_EXT_RM_TABLE): Likewise.
	(PREGRP98...PREGRP100): Likewise.
	(OPC_EXT_0...OPC_EXT_24): Likewise.
	(OPC_EXT_RM_0...OPC_EXT_RM_4): Likewise.
	(lock_prefix): Likewise.
	(data_prefix): Likewise.
	(addr_prefix): Likewise.
	(repz_prefix): Likewise.
	(repnz_prefix): Likewise.
	(opc_ext_table): Likewise.
	(opc_ext_rm_table): Likewise.
	(get_valid_dis386): Likewise.
	(OP_VMX): Removed.
	(OP_0fae): Likewise.
	(PNI_Fixup): Likewise.
	(VMX_Fixup): Likewise.
	(VM): Likewise.
	(twobyte_uses_DATA_prefix): Likewise.
	(twobyte_uses_REPNZ_prefix): Likewise.
	(twobyte_uses_REPZ_prefix): Likewise.
	(threebyte_0x38_uses_DATA_prefix): Likewise.
	(threebyte_0x38_uses_REPNZ_prefix): Likewise.
	(threebyte_0x38_uses_REPZ_prefix): Likewise.
	(threebyte_0x3a_uses_DATA_prefix): Likewise.
	(threebyte_0x3a_uses_REPNZ_prefix): Likewise.
	(threebyte_0x3a_uses_REPZ_prefix): Likewise.
	(grps): Use OPC_EXT_0...OPC_EXT_24.
	(prefix_user_table): Use PREGRP98.
	(print_insn): Remove uses_DATA_prefix, uses_LOCK_prefix,
	uses_REPNZ_prefix and uses_REPZ_prefix.  Initialize
	repz_prefix, repnz_prefix, lock_prefix, addr_prefix and
	data_prefix based on prefixes.  Call get_valid_dis386 to
	get a pointer to the valid dis386.  Print out prefixes if
	they aren't NULL.
	(OP_C): Clear lock_prefix if PREFIX_LOCK is used.
	(REP_Fixup): Set repz_prefix to "rep " when seeing
	PREFIX_REPZ.
@
text
@d14 3
d20 1
a20 2

	* gas/i386/mem-intel.d: Updated.
@


1.1210
log
@gas/

2007-08-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (process_suffix): Handle cmpxchg8b in
	Intel mode.

gas/testsuite/

2007-08-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/mem.s: New. Add tests for instructions with one
	memory operand.
	* gas/i386/x86-64-mem.s: Likewise.

	* gas/i386/mem-intel.d: Updated.
	* gas/i386/mem.d: Likewise.
	* gas/i386/x86-64-mem-intel.d: Likewise.
	* gas/i386/x86-64-mem.d: Likewise.

opcodes/

2007-08-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (Md): New.
	(grps): Use 0 on invlpg.  Use M on fxsave and fxrstor.  Use
	Md on ldmxcsr and stmxcsr.  Use b_mode on clflush.
	(OP_0fae): Clear bytemode for sfence.
@
text
@d1 11
@


1.1209
log
@bfd:
2007-08-28  Mark Shinwell  <shinwell@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* elf32-arm.c (elf32_arm_compare_mapping): Compare first on vma,
	then on type.

binutils/testsuite:
2007-08-28  Mark Shinwell  <shinwell@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* binutils-all/ar.exp (long_filenames): Delete temporary files on
	the host.
	* binutils-all/arm/objdump.exp: Only check "which $OBJDUMP" if
	host is local.
	* binutils-all/objcopy.exp: Use ${srecfile} to get the name of the
	srec file to be passed to binutils_run.
	(objcopy_test_readelf): Use remote_exec.
	* binutils-all/readelf.exp (readelf_find_size): Use remote_exec.
	(readelf_test): Likewise.
	(readelf_wi_test): Likewise.
	* lib/utils-lib.exp (run_dump_test): Only check "which $binary" if
	host is local.  Use remote_exec.  Use $tempfile not
	tmpdir/bintest.o.

gas:
2007-08-28  Mark Shinwell  <shinwell@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* as.c (main): Flush stderr before printing listings to ensure
	consistent output order across platforms.

gas/testsuite:
2007-08-28  Mark Shinwell  <shinwell@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* lib/gas-defs.exp (gas_version): Use remote_* functions instead
	of exec.
	(gas_host_run): New.
	(gas_run): Use gas_host_run.
	(gas_start): Likewise.
	(run_dump_test): Likewise.
	(objdump): Use gas_host_run.
	(objdump_start_no_subdir): Likewise.
	* lib/gas-dg.exp (gas-dg-test): Use "remote_file host delete".
	* lib/run: Remove.
	* gas/macros/macros.exp: Download app4b.s to host.
	* gas/i386/i386.exp (gas_64_check): Use gas_host_run.
	(gas_32_check): Likewise.
	* gas/maxq10/maxq10.exp (gas_64_check): Likewise
	(gas_32_check): Likewise.
	* gas/maxq20/maxq20.exp (gas_64_check): Likewise
	(gas_32_check): Likewise.
	* gas/sparc/sparc.exp (gas_64_check): Likewise.
	* gas/cfi/cfi.exp: Likewise.
	* gas/elf/elf.exp (run_list_test): Likewise.  Use temporary file
	for readelf output in place of pipe.
	* gas/all/gas.exp: Download incbin.dat to host.
	(do_comment): Allow \r\r\n.

ld:
2007-08-28  Mark Shinwell  <shinwell@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* ldlang.c (sort_sections_by_lma): Sort by internal id after lma
	for stable sort.

ld/testsuite:
2007-08-28  Mark Shinwell  <shinwell@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* ld-elfcomm/elfcomm.exp: Use run_host_cmd.  Only check "which
	$CC" if host is local.
	* ld-checks/checks.exp: Use run_host_cmd.
	* ld-elf/exclude.exp: Likewise.
	* ld-elf/elf.exp: Download merge.ld if host is remote.
	* ld-elf/binutils.exp (binutils_test): Use remote_exec.
	* ld-elf/tls_common.exp: Use run_host_cmd.
	* lib/ld-lib.exp (ld_version): Only check "which $ld" if host is
	local.  Use remote_exec.
	(run_host_cmd): New.
	(run_host_cmd_yesno): New.
	(default_ld_relocate): Use run_host_cmd_yesno.
	(default_ld_link): Likewise.
	(default_ld_simple_link): Use run_host_cmd.
	(default_ld_compile): Only check "which $ccprog" if host is local.
	Use remote_file and remote_exec.
	(default_ld_assemble): Only check "which $as" if host is local.
	Use run_host_cmd.
	(default_ld_nm): Use remote_exec, remote_upload and remote_file.
	(run_dump_test): Use remote_exec, remote_upload and remote_file.
	Only check "which $binary" if host is local.
	(run_ld_link_tests): Use remote_exec, remote_upload and
	remote_file.
	* ld-selective/selective.exp: Only check "which $CXX" if host is
	local.  Use remote_exec.
	* ld-scripts/phdrs.exp: Only check "which $objdump" if host is
	local.  Use run_host_cmd.
	* ld-scripts/phdrs2.exp: Likewise.
	* ld-scripts/weak.exp: Likewise.
	* ld-undefined/weak-undef.exp: Likewise.
	* ld-scripts/crossref.exp: Only check "which $CC" if host is local.
	Use run_host_cmd.
	* ld-scripts/map-address.exp: Upload map_address.map if host is
	remote.
	* ld-srec/srec.exp (run_srec_tests): Use run_host_cmd.  Only check
	"which $CC" and "which $CXX" if host is local.
	* ld-undefined/undefined.exp: Only check "which $CC" if host is
	local.  Use remote_file and run_host_cmd.
	* config/default.exp: Use remote_exec to create tmpdir.
@
text
@d1 11
d13 1
a13 1
            Joseph Myers  <joseph@@codesourcery.com>
@


1.1208
log
@2007-08-09  Paul Brook  <paul@@codesourcery.com>

	gas/
	* config/tc-arm.c (relaxed_symbol_addr): Compensate for alignment.

	gas/testsuite/
	* gas/arm/relax_load_align.d: new test.
	* gas/arm/relax_load_align.s: new test.
@
text
@d1 27
@


1.1207
log
@gas/

2007-08-09  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (check_byte_reg): Support pextrb and pinsrb.

gas/testsuite/

2007-08-09  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run sse4_1-intel, sse4_2-intel,
	x86-64-sse4_1-intel and x86-64-sse4_2-intel.

	* gas/i386/sse4_1-intel.d: New file.
	* gas/i386/sse4_2-intel.d: Likewise.
	* gas/i386/x86-64-sse4_1-intel.d: Likewise.
	* gas/i386/x86-64-sse4_2-intel.d: Likewise.

	* gas/i386/sse4_1.s: Add tests for Intel syntax.
	* gas/i386/sse4_2.s: Likewise.
	* gas/i386/x86-64-sse4_1.s: Likewise.
	* gas/i386/x86-64-sse4_2.s: Likewise.

	* gas/i386/sse4_1.d: Updated.
	* gas/i386/sse4_2.d: Likewise.
	* gas/i386/x86-64-sse4_1.d: Likewise.
	* gas/i386/x86-64-sse4_2.d: Likewise.

opcodes/

2007-08-09  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-opc.tbl: Add NoRex64 to pmovsxbw, pmovsxwd, pmovsxdq,
	pmovzxbw, pmovzxwd, pmovzxdq and roundsd.
	* i386-tbl.h: Regenerated.
@
text
@d1 5
@


1.1206
log
@binutils/testsuite/
	* binutils-all/copy-2.d (not-target): Match *-*-*aout.
	* binutils-all/copy-3.d (not-target): Likewise.
	* binutils-all/objcopy.exp (objcopy_test): Remove extraneous
	setup_xfail.
gas/testsuite/
	* gas/all/weakref1u.d (not-target): Match *-*-*aout.
@
text
@d1 20
@


1.1205
log
@gas/testsuite/

2007-07-29  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/4834
	* gas/i386/simd-intel.d: Updated.
	* gas/i386/simd.d: Likewise.
	* gas/i386/x86-64-simd-intel.d: Likewise.
	* gas/i386/x86-64-simd.d: Likewise.

	* gas/i386/simd.s: Add tests for SSE4 instructions.
	* gas/i386/x86-64-simd.s: Likewise.

opcodes/

2007-07-29  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/4834
	* i386-dis.c (EXw): New.
	(prefix_user_table): Updated to use EXw, EXd and EXq for SSE4
	instructions when appropriated.
@
text
@d1 4
@


1.1205.2.1
log
@binutils/testsuite/
	* binutils-all/copy-2.d (not-target): Match *-*-*aout.
	* binutils-all/copy-3.d (not-target): Likewise.
	* binutils-all/objcopy.exp (objcopy_test): Remove extraneous
	setup_xfail.
	* windres/windres.exp: Return unsupported rather than fail if
	windows.h not found.
gas/testsuite/
	* gas/all/weakref1u.d (not-target): Match *-*-*aout.
@
text
@a0 4
2007-08-09  Alan Modra  <amodra@@bigpond.net.au>

	* gas/all/weakref1u.d (not-target): Match *-*-*aout.

@


1.1205.2.2
log
@2007-08-09  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (check_byte_reg): Support pextrb and pinsrb.

	* gas/i386/i386.exp: Run sse4_1-intel, sse4_2-intel,
	x86-64-sse4_1-intel and x86-64-sse4_2-intel.

	* gas/i386/sse4_1-intel.d: New file.
	* gas/i386/sse4_2-intel.d: Likewise.
	* gas/i386/x86-64-sse4_1-intel.d: Likewise.
	* gas/i386/x86-64-sse4_2-intel.d: Likewise.

	* gas/i386/sse4_1.s: Add tests for Intel syntax.
	* gas/i386/sse4_2.s: Likewise.
	* gas/i386/x86-64-sse4_1.s: Likewise.
	* gas/i386/x86-64-sse4_2.s: Likewise.

	* gas/i386/sse4_1.d: Updated.
	* gas/i386/sse4_2.d: Likewise.
	* gas/i386/x86-64-sse4_1.d: Likewise.
	* gas/i386/x86-64-sse4_2.d: Likewise.

	* i386-opc.tbl: Add NoRex64 to pmovsxbw, pmovsxwd, pmovsxdq,
	pmovzxbw, pmovzxwd, pmovzxdq and roundsd.
	* i386-tbl.h: Regenerated.
@
text
@a0 20
2007-08-09  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run sse4_1-intel, sse4_2-intel,
	x86-64-sse4_1-intel and x86-64-sse4_2-intel.

	* gas/i386/sse4_1-intel.d: New file.
	* gas/i386/sse4_2-intel.d: Likewise.
	* gas/i386/x86-64-sse4_1-intel.d: Likewise.
	* gas/i386/x86-64-sse4_2-intel.d: Likewise.

	* gas/i386/sse4_1.s: Add tests for Intel syntax.
	* gas/i386/sse4_2.s: Likewise.
	* gas/i386/x86-64-sse4_1.s: Likewise.
	* gas/i386/x86-64-sse4_2.s: Likewise.

	* gas/i386/sse4_1.d: Updated.
	* gas/i386/sse4_2.d: Likewise.
	* gas/i386/x86-64-sse4_1.d: Likewise.
	* gas/i386/x86-64-sse4_2.d: Likewise.

@


1.1204
log
@The fix is for PR 4834, not PR 4835.
@
text
@d3 11
@


1.1203
log
@gas/

2007-07-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (check_long_reg): Allow cvtss2si to convert
	DWORD memory to Reg64 in Intel synax.
	(check_qword_reg): Allow cvtsd2si to convert QWORD memory to
	Reg32 in Intel syntax.

gas/testsuite/

2007-07-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/simd.s: Add tests for cvtss2si/cvtsd2si in Intel
	mode.
	* gas/i386/x86-64-simd.s: Likewise.

	* gas/i386/simd-intel.d: Updated.
	* gas/i386/simd.d: Likewise.
	* gas/i386/x86-64-simd-intel.d: Likewise.
	* gas/i386/x86-64-simd.d: Likewise.
@
text
@d14 1
a14 1
	PR binutils/4835
@


1.1202
log
@gas/testsuite/

2007-07-28  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/4835
	* gas/i386/simd-intel.d: Updated.
	* gas/i386/simd.d: Likewise.
	* gas/i386/x86-64-simd-intel.d: Likewise.
	* gas/i386/x86-64-simd.d: Likewise.

	* gas/i386/simd.s: Add new tests.
	* gas/i386/x86-64-simd.s: Likewise.

opcodes/

2007-07-28  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/4835
	* i386-dis.c (Eq): New.
	(EMC): Renamed to ...
	(EMCq): This.  Use q_mode instead of v_mode.
	(prefix_user_table): Updated to use EXd, EXq, EMCq, Ed and Eq
	when appropriated.
@
text
@d1 11
@


1.1201
log
@gas/testsuite/

2007-07-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/x86-64-opcode.d: Updated.
	* gas/i386/x86-64-simd-intel.d: Likewise.
	* gas/i386/x86-64-simd.d: Likewise.

	* gas/i386/x86-64-simd.s: Add movq.

opcodes/

2007-07-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (dis386_twobyte): Change "movd" to "movK".
	(prefix_user_table): Likewise.  Use EXq instead of EXx on
	"movq".
@
text
@d3 11
@


1.1200
log
@Don't remove gas/i386/x86-64-nops-1-k8.d.
@
text
@d1 8
@


1.1199
log
@gas/

2007-07-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (cpu_arch): Change i386 to PROCESSOR_I386.
	(f32_15): Removed.
	(jump_31): New.
	(f32_patt): Remove f32_15.
	(f16_patt): Likewise.
	(i386_align_code): Updated to alt_long_patt for 64bit by
	default.

	* config/tc-i386.h (processor_type): Add PROCESSOR_I386.

2007-07-23  Evandro Menezes  <evandro.menezes@@amd.com>

	* config/tc-i386.c (i386_align_code): Enable alignment up to
	MAX_MEM_FOR_RS_ALIGN_CODE bytes.  Remove special treatment
	for K8.

	* config/tc-i386.h (MAX_MEM_FOR_RS_ALIGN_CODE): Changed to
	31.

gas/testsuite/

2007-07-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run nops16-1, nops-1-i386-i686, nops-1-k8,
	nops-3-i386, nops-4, nops-4-i386, x86-64-nops-2, x86-64-nops-3,
	x86-64-nops-4, x86-64-nops-4-core2 and x86-64-nops-4-k8.

	* gas/i386/nops-1-i386-i686.d: New.
	* gas/i386/nops-1-k8.d: Likewise.
	* gas/i386/nops-3-i386.d : Likewise.
	* gas/i386/nops-3-i686.d: Likewise.
	* gas/i386/nops-4-i386.d: Likewise.
	* gas/i386/nops-4.d: Likewise.
	* gas/i386/nops16-1.d: Likewise.
	* gas/i386/nops16-1.s: Likewise.
	* gas/i386/x86-64-nops-1-k8.d: Likewise.
	* gas/i386/x86-64-nops-2.d: Likewise.
	* gas/i386/x86-64-nops-3.d: Likewise.
	* gas/i386/x86-64-nops-4-core2.d: Likewise.
	* gas/i386/x86-64-nops-4-k8.d: Likewise.
	* gas/i386/x86-64-nops-4.d: Likewise.

	* gas/i386/nops-1-i386.d: Updated.
	* gas/i386/nops-1-i686.d: Likewise.
	* gas/i386/nops-1.d: Likewise.
	* gas/i386/nops-2-i386.d: Likewise.
	* gas/i386/nops-2-merom.d : Likewise.
	* gas/i386/nops-2.d: Likewise.
	* gas/i386/nops-3.d: Likewise.
	* gas/i386/x86-64-nops-1-merom.d: Likewise.
	* gas/i386/x86-64-nops-1-nocona.d: Likewise.
	* gas/i386/x86-64-nops-1.d: Likewise.

	* gas/i386/x86-64-nops-1.s: Removed.

2007-07-23  Evandro Menezes  <evandro.menezes@@amd.com>
	    H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Don't run x86-64-nops-1-k8. Run
	nops-3-i686 and nops-4-i686.

	* gas/i386/nops-3-i686.d: New.
	* gas/i386/nops-4-i686.d: Likewise.
	* gas/i386/nops-4.s: Likewise.

	* gas/i386/x86-64-nops-1-k8.d: Removed.
@
text
@a44 2
	* gas/i386/x86-64-nops-1-k8.d: Removed.

@


1.1198
log
@gas/testsuite/
	* lib/gas-defs.exp (run_list_test): Make the options optional.
	* gas/cr16/cr16.exp (run_list_test): Delete.
@
text
@d1 46
@


1.1197
log
@PR gas/4804
* gas/elf/elf.exp (target_machine): Treat the arm-linux-gnu target in the same way as the arm-eabi target.
* gas/arm/mapshort-eabi.d: Use this file for the arm-linux-gnu target.
* gas/arm/mapshort-elf.d: Do not use this file for the arm-linux-gnu target.
@
text
@d1 5
@


1.1196
log
@gas/testsuite/

2007-07-16  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/simd.s: Add tests for punpcklbw, punpckldq,
	punpcklwd and punpcklqdq.
	* gas/i386/x86-64-simd.s: Likewise.

	* gas/i386/simd-intel.d: Updated.
	* gas/i386/simd.d: Likewise.
	* gas/i386/x86-64-simd-intel.d: Likewise.
	* gas/i386/x86-64-simd.d: Likewise.

opcodes/

2007-07-16  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (EMq): Removed.
	(EMx): New.
	(prefix_user_table): Replace EMq with EMx.
@
text
@d1 10
@


1.1195
log
@* config/tc-arm.c (create_register_alias): Return a boolean rather than an integer.
  Check the return value of insert_reg_alias and do not continue to create aliases once an insertion has failed.
  (s_unreq): Delete the all-upper-case and all-lower-case alternatives as well.
* testsuite/gas/arm/arm.s: Add tests for re-aliasing a previously removed alias.
* testsuite/gas/arm/arm.l: Add new expected warning message.
@
text
@d1 11
@


1.1194
log
@2007-07-04  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/ssemmx2.d: Ignore padding.
@
text
@d1 6
@


1.1193
log
@2007-07-04  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/rex.s: Avoid the last rex prefix becoming the
	rex prefix for the padding.
@
text
@d3 4
@


1.1192
log
@gas/

2007-07-04  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/obj-coff.h (x86_64_target_format): Renamed to ...
	(i386_target_format): This
	(TARGET_FORMAT): Use i386_target_format.

	* config/tc-i386.c (x86_64_target_format): Removed.
	(i386_target_format): Handle PE formats.

gas/testsuite/

2007-07-04  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run x86-64-nops-1 for x86_64-*-mingw*.
@
text
@d3 5
@


1.1191
log
@* symbols.c (symbol_relc_make_value): Use bfd_sprintf_vma in order to get the
  right length of printed value.
@
text
@d1 4
@


1.1190
log
@Add expected failures for CR16 tests
@
text
@d1 5
@


1.1189
log
@Switch to GPLv3
@
text
@d1 7
@


1.1188
log
@	gas/testsuite/
	* gas/m68k/mcf-coproc.d: New.
	* gas/m68k/mcf-coproc.s: New.
	* gas/m68k/all.exp: Add it.

	gas/
	* config/tc-m68k.c (m68k_ip): Add j & K operand types.
	(install_operand): Add E encoding.
	(md_begin): Check and skip initial '.' arg character.
	(get_num): Add 0..511 case.

	include/
	* opcode/m68k.h: Document j K & E.

	opcodes/
	* m68k-dis.c (fetch_arg): Add E.  Replace length switch with
	direct masking.
	(print_ins_arg): Add j & K operand types.
	(match_insn_m68k): Check and skip initial '.' arg character.
	(m68k_scan_mask): Likewise.
	* m68k-opc.c (m68k_opcodes): Add coprocessor instructions.
@
text
@d1 12
@


1.1187
log
@New port: National Semiconductor's CR16
@
text
@d1 6
@


1.1186
log
@2007-06-26  Paul Brook  <paul@@codesourcery.com>

	gas/
	* config/tc-arm.c (parse_operands): Accept generic coprocessor regs
	for OP_RVC.
	(reg_names): Add fpinst, pfinst2, mvfr0 and mvfr1.

	gas/testsuite/
	* gas/arm/vfp1xD.d: Add new fmrx/fmxr tests.
	* gas/arm/vfp1xD.s: Ditto.
	* gas/arm/vfp1xD_t2.d: Ditto.
	* gas/arm/vfp1xD_t2.s: Ditto.

	opcodes/
	* arm-dis.c (coprocessor_opcodes): Add fmxr/fmrx mvfr0/mvfr1.
@
text
@d1 42
@


1.1185
log
@* gas/arm/backslash-at.d: Fix for non-ELF arm targets.
@
text
@d1 7
@


1.1184
log
@gas/testsuite/

2007-06-23  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/4667
	* gas/i386/i386.exp: Run simd, simd-intel, x86-64-simd
	and x86-64-simd-intel.

	* gas/i386/opcode-intel.d: Updated.

	* gas/i386/simd-intel.d: New.
	* gas/i386/simd.d: Likewise.
	* gas/i386/simd.s: Likewise.
	* gas/i386/x86-64-simd-intel.d: Likewise.
	* gas/i386/x86-64-simd.d: Likewise.
	* gas/i386/x86-64-simd.s: Likewise.

opcodes/

2007-06-23  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/4667
	* i386-dis.c (EX): Removed.
	(EMd): New.
	(EMq): Likewise.
	(EXd): Likewise.
	(EXq): Likewise.
	(EXx): Likewise.
	(PREGRP93...PREGRP97): Likewise.
	(dis386_twobyte): Updated.
	(prefix_user_table): Updated. Add PREGRP93...PREGRP97.
	(OP_EX): Remove Intel syntax handling.
@
text
@d1 4
@


1.1183
log
@opcodes/
	* m68k-opc.c (m68k_opcodes): Add wdebugl variants.

gas/testsuite/
	* gas/m68k/all.exp: Run mcf-wdebug.
	* gas/testsuite/gas/m68k/mcf-wdebug.d,
	gas/testsuite/gas/m68k/mcf-wdebug.s: New.
@
text
@d1 15
@


1.1182
log
@2007-06-14  Paul Brook  <paul@@codesourcery.com>

	gas/
	* config/tc-arm.c (do_t_mov_cmp): Handle shift by register and
	narrow shift by immediate.

	gas/testsuite/
	* gas/arm/thumb32.s: Add tests for shift instructions.
	* gas/arm/thumb32.d: Ditto.
@
text
@d1 6
@


1.1181
log
@2007-06-06  Paul Brook  <paul@@codesourcery.com>

	gas/
	* config/tc-arm.c (s_align): Pad code sections appropriately.

	gas/testsuite/
	* gas/arm/thumb.d: Update expected output.
	* gas/arm/thumb2_relax.d: Ditto.
@
text
@d1 5
@


1.1180
log
@2007-06-05  Paul Brook  <paul@@codesourcery.com>

	gas/
	* config/tc-arm.c (insns): Correct Thumb-2 ldrd/strd opcodes.

	gas/testsuite/
	* gas/arm/thumb32.d: Add writeback addressing mode tests.
	* gas/arm/thumb32.s: Update expected output.

	opcodes/
	* arm-dis.c (thumb32_opcodes): Display writeback ldrd/strd addresses.
@
text
@d1 5
@


1.1179
log
@Patch for PR4587 + move proc run_list_test into gas-defs.exp
@
text
@d1 5
@


1.1178
log
@gas/
2007-05-29  David S. Miller  <davem@@davemloft.net>
	    Jakub Jelinek  <jakub@@redhat.com>

	PR gas/4558
	* config/tc-sparc.c (md_apply_fix): Fix relocation overflow checks
	for BFD_RELOC_SPARC_WDISP16 and BFD_RELOC_SPARC_WDISP19.

gas/testsuite/
2007-05-29  Jakub Jelinek  <jakub@@redhat.com>

	PR gas/4558
	* gas/sparc/sparc.exp: Add v9branch{1,2,3,4,5} tests.
	* gas/sparc/v9branch1.d: New test.
	* gas/sparc/v9branch1.s: New.
	* gas/sparc/v9branch2.d: New test.
	* gas/sparc/v9branch2.s: New.
	* gas/sparc/v9branch3.d: New test.
	* gas/sparc/v9branch3.s: New.
	* gas/sparc/v9branch4.d: New test.
	* gas/sparc/v9branch4.s: New.
	* gas/sparc/v9branch5.d: New test.
	* gas/sparc/v9branch5.s: New.
@
text
@d1 33
@


1.1177
log
@2007-03-25  Paul Brook  <paul@@codesourcery.com>

	gas/
	* config/tc-arm.c (T2_SUBS_PC_LR): Define.
	(do_t_add_sub): Correctly encode subs pc, lr, #const.
	(do_t_mov_cmp): Correctly encode movs pc, lr.

	gas/testsulte/
	* gas/arm/thumb32.s: Add tests for subs pc, lr.
	* gas/arm/thumb32.d: Change error-output: to stderr:.
	Update expected output.
@
text
@d1 15
@


1.1176
log
@2007-05-22  Paul Brook  <paul@@codesourcery.com>

	bunutils/
	* objdump.c (find_symbol_for_address): Merge section and target
	specific filtering code.

	ld/testsuite/
	* ld-arm-mixed-lib.d: Update expected output.
	* ld-arm/arm-app.d: Ditto.
	* ld-arm/mixed-app.d: Ditto.
	* ld-arm/arm-lib-plt32.d: Ditto.
	* ld-arm/arm-app-abs32.d: Ditto.
	* ld-arm/mixed-app-v5.d: Ditto.
	* ld-arm/armthumb-lib.d: Ditto.
	* ld-arm/arm-lib.d: Ditto.

	gas/testsuite/
	* gas/arm/backslash-at.d: Update expected output.
@
text
@d1 6
@


1.1175
log
@Move testsuite entries to testsuite/ChangeLog.
@
text
@d1 4
@


1.1174
log
@	gas/
	* app.c (do_scrub_chars): Don't damage \@@ pseudo-variables.

	gas/testsuite/
	* gas/arm/backslash-at.d: New.
	* gas/arm/backslash-at.s: New.
@
text
@d1 8
@


1.1173
log
@    PR gas/3041
* config/tc-m68k.c (relaxable_symbol): Make sure that the correct addend is stored for relocs against weak symbols.
    (md_apply_fix): So not loose track of addend for relocs against weak symbols.
* testsuite/gas/m68k/p3041.s: New test case.
* testsuite/gas/m68k/p3041.d: New expected disassembly.
* testsuite/gas/m68k/all.exp: Run new test for m68k-*-netbsd toolchains.
    Only run arch-cpu-1 test for ELF based toolchains.

    Tidy ups for m68k-netbsd gas toolchain:
* testsuite/gas/m68k/cpu32.d: Allow for extra text after expected disassembly.
* testsuite/gas/m68k/mcf-trap.d: Allow for alternative trap mnemonics.
* testsuite/gas/m68k/br-isab.d: Fix name of test.
* testsuite/gas/m68k/br-isac.d: Fix name of test.
@
text
@d1 5
@


1.1172
log
@gas/testsuite/

2007-05-14  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/4502
	* gas/i386/amd.d: Replace "pfmulhrw" with "pmulhrw".

opcodes/

2007-05-14  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/4502
	* i386-dis.c (Suffix3DNow): Replace "pfmulhrw" with "pmulhrw".
@
text
@d1 16
@


1.1171
log
@	* gas/m68k/all.exp: Skip fmoveml on fido.
@
text
@d1 5
@


1.1170
log
@2007-05-03  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/4460
	* gas/i386/gotpc.s: Add a new test.
	* gas/i386/reloc64.s: Likewise.

	* gas/i386/gotpc.d: Updated.
	* gas/i386/reloc64.d: Likewise.
@
text
@d1 4
@


1.1169
log
@gas/

2007-05-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (match_template): Don't explicitly check
	suffix for crc32 in Intel mode.
	(process_suffix): Issue an error for crc32 if the operand size
	is ambiguous.

gas/testsuite/

2007-05-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/crc32-intel.d: Updated.
	* gas/i386/crc32.d: Likewise.
	* gas/i386/sse4_2.d: Likewise.
	* gas/i386/x86-64-crc32-intel.d: Likewise.
	* gas/i386/x86-64-crc32.d: Likewise.
	* gas/i386/x86-64-sse4_2.d: Likewise.

	* gas/i386/crc32.s: Remove crc32 instructions with ambiguous
	operand size and suffix in crc32 instructions in Intel mode.
	* gas/i386/x86-64-crc32.s: Likewise.

	* gas/i386/sse4_2.s: Remove crc32 instructions with ambiguous
	operand size.
	* gas/i386/x86-64-sse4_2.s: Likewise.

	* gas/i386/i386.exp: Run inval-crc32 and x86-64-inval-crc32.

	* gas/i386/inval-crc32.l: New.
	* gas/i386/inval-crc32.s: Likewise.
	* gas/i386/x86-64-inval-crc32.l: Likewise.
	* gas/i386/x86-64-inval-crc32.s: Likewise.

opcodes/

2007-05-03  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (CRC32_Fixup): Don't print suffix in Intel mode.

	* i386-opc.c (i386_optab): Remove IgnoreSize and correct operand
	type for crc32.
@
text
@d3 9
@


1.1168
log
@gas/config/

2007-05-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (match_template): Check suffix for crc32 in
	Intel mdoe.
	(process_suffix): Default the suffix of 8bit crc32 to
	BYTE_MNEM_SUFFIX.
	(check_byte_reg): Skip check for 8bit crc32.

gas/testsuite/

2007-05-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/crc32-intel.d: New file.
	* gas/i386/crc32.d:Likewise.
	* gas/i386/crc32.s:Likewise.
	* gas/i386/x86-64-crc32-intel.d:Likewise.
	* gas/i386/x86-64-crc32.d:Likewise.
	* gas/i386/x86-64-crc32.s:Likewise.

	* gas/i386/i386.exp: Run crc32, crc32-intel, x86-64-crc32
	and x86-64-crc32-intel.

opcodes/

2007-05-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (CRC32_Fixup): Properly handle Intel mode and
	check data size prefix in 16bit mode.

	* i386-opc.c (i386_optab): Default crc32 to non-8bit and
	support Intel mode.
@
text
@d1 24
@


1.1167
log
@gas/testsuite/

2007-04-26  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/4430
	* gas/i386/amd.d: Updated.
	* gas/i386/immed32.d: Likewise.
	* gas/i386/intel.d: Likewise.
	* gas/i386/intel16.d: Likewise.
	* gas/i386/intelok.d: Likewise.
	* gas/i386/jump16.d: Likewise.
	* gas/i386/naked.d: Likewise.
	* gas/i386/opcode-suffix.d: Likewise.
	* gas/i386/opcode.d: Likewise.
	* gas/i386/prescott.d: Likewise.
	* gas/i386/ssemmx2.d: Likewise.
	* gas/i386/tlsd.d: Likewise.
	* gas/i386/tlspic.d: Likewise.
	* gas/i386/x86-64-addr32.d: Likewise.
	* gas/i386/x86-64-prescott.d: Likewise.
	* gas/i386/x86-64-rip.d: Likewise.
	* gas/i386/x86_64.d: Likewise.

ld/testsuite/

2007-04-26  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/4430
	* ld-i386/tlsbin.dd: Updated.
	* ld-i386/tlsbindesc.dd: Likewise
	* ld-i386/tlsdesc.dd: Likewise
	* ld-i386/tlsgdesc.dd: Likewise
	* ld-i386/tlsnopic.dd: Likewise
	* ld-i386/tlspic.dd: Likewise
	* ld-x86-64/tlsbin.dd: Likewise
	* ld-x86-64/tlsbindesc.dd: Likewise
	* ld-x86-64/tlsdesc.dd: Likewise
	* ld-x86-64/tlsgdesc.dd: Likewise
	* ld-x86-64/tlspic.dd: Likewise

opcodes/

2007-04-26  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/4430
	* i386-dis.c (print_displacement): New.
	(OP_E): Call print_displacement instead of print_operand_value
	to output displacement when either base or index exist.  Print
	the explicit zero displacement in 16bit mode.
@
text
@d1 12
@


1.1166
log
@gas/testsuite/

2007-04-26  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/4429
	* gas/i386/i386.exp: Run "x86-64-addr32-intel" and
	"x86-64-rip-intel".

	* gas/i386/intelok.d: Updated.

	* gas/i386/x86-64-addr32-intel.d: New file.
	* gas/i386/x86-64-rip-intel.d: Likewise.

opcodes/

2007-04-26  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/4429
	* i386-dis.c (print_insn): Also swap the order of op_riprel
	when swapping op_index.  Break when the RIP relative address
	is printed.
	(OP_E): Properly handle RIP relative addressing and print the
	explicit zero displacement for Intel mode.
@
text
@d3 21
@


1.1165
log
@2007-04-24  Andreas Krebbel  <krebbel1@@de.ibm.com>

	* opcodes/s390-opc.c (MASK_SSF_RRDRD): Fourth nybble belongs to the
	opcode.
	* opcodes/s390-opc.txt (pfpo, ectg, csst): New z9-ec instructions added.


2007-04-24  Andreas Krebbel  <krebbel1@@de.ibm.com>

	* gas/s390/zarch-z9-ec.d: Add pfpo, ectg and csst.
	* gas/s390/zarch-z9-ec.s: Likewise.
@
text
@d1 11
@


1.1164
log
@	gas/testsuite/
	* gas/m68k/br-isaa.s: New.
	* gas/m68k/br-isaa.d: New.
	* gas/m68k/br-isab.s: New.
	* gas/m68k/br-isab.d: New.
	* gas/m68k/br-isac.s: New.
	* gas/m68k/br-isac.d: New.
	* gas/m68k/all.exp: Adjust.

	gas/
	* config/tc-m68k.c (mcf54455_ctrl): New.
	(HAVE_LONG_DISP, HAVE_LONG_CALL, HAVE_LONG_COND): New.
	(m68k_archs): Add isac.
	(m68k_cpus): Add 54455 family.
	(m68k_ip): Split Bg into Bb, Bs, Bg.
	(m68k_elf_final_processing): Add ISA_C.
	* doc/c-m68k.texi (M680x0 Options): Add isac.

	include/opcode/
	* m68k.h (mcfisa_c): New.
	(mcfusp, mcf_mask): Adjust.

	bfd/
	* archures.c (bfd_mach_mcf_isa_c, bfd_mach_mcf_isa_c_mac,
	bfd_mach_mcf_isa_c_emac): New.
	* elf32-m68k.c (ISAC_PLT_ENTRY_SIZE, elf_isac_plt0_entry,
	elf_isac_plt_entry, elf_isac_plt_info): New.
	(elf32_m68k_object_p): Add ISA_C.
	(elf32_m68k_print_private_bfd_data): Print ISA_C.
	(elf32_m68k_get_plt_info): Detect ISA_C.
	* cpu-m68k.c (arch_info): Add ISAC.
	(m68k_arch_features): Likewise,
	(bfd_m68k_compatible): ISAs B & C are not compatible.

	opcodes/
	* m68k-opc.c: Mark mcfisa_c instructions.
@
text
@d1 5
@


1.1163
log
@	* gas/arm/arch4t.d: Convert to unified syntax.
	* gas/arm/archv6.d: Likewise.
	* gas/arm/archv6t2.d: Likewise.
	* gas/arm/arch3.d: Likewise.
	* gas/arm/arch7dm.d: Likewise.
	* gas/arm/arch7t.d: Likewise.
	* gas/arm/archv1.d: Likewise.
	* gas/arm/copro.d: Likewise.
	* gas/arm/inst.d: Likewise.
	* gas/arm/macro1.d: Likewise.
	* gas/arm/tcompat.d: Likewise.
	* gas/arm/wince_inst.d: Likewise.
	* gas/arm/xscale.d: Likewise.

	* gas/arm/thumb.d: White space cleanup.
	* gas/arm/thumb2_relax.d: Likewise.
	* gas/arm/thumb32.d: Likewise.
@
text
@d1 10
@


1.1162
log
@	gas/
	* config/m68k-parse.h (RAMBAR_ALT): New.
	* config/tc-m68k.c (mcf5206_ctrl, mcf5307_ctrl): New.
	(mcf_ctrl, mcf5208_ctrl, mcf5210a_ctrl, mcf5213_ctrl, mcf52235_ctrl,
	mcf5225_ctrl, mcf5235_ctrl, mcf5271_ctrl, mcf5275_ctrl,
	mcf5282_ctrl, mcf5329_ctrl, mcf5373_ctrl, mcfv4e_ctrl,
	mcf5475_ctrl, mcf5485_ctrl): Add RAMBAR synonym for
	RAMBAR1.
	(mcf5272_ctrl): Add RAMBAR0, replace add RAMBAR with RAMBAR_ALT.
	(m68k_cpus): Adjust 5206, 5206e & 5307 entries.
	(m68k_ip) <Case J>: Detect when RAMBAR_ALT should be used.  Add it
	to control register mapping.

	gas/testsuite/
	* gas/m68k/ctrl-1.d, gas/m68k/ctrl-1.s: New.
	* gas/m68k/ctrl-2.d, gas/m68k/ctrl-2.s: New.
	* gas/m68k/all.exp: Add them.

	opcodes/
	* m68k-dis.c (print_insn_arg): Show c04 as rambar0 and c05 as
	rambar1.
@
text
@d1 20
@


1.1161
log
@	* gas/ppc/range64.s: New.
	* gas/ppc/range64.l: New.
	* gas/ppc/range.s: New.
	* gas/ppc/range.l: New.
	* gas/ppc/ppc.exp (run_list_test): New.  Use to run new tests.
@
text
@d1 6
@


1.1160
log
@	* gas/arm/mapshort.s: Add a small .data section.
	* gas/arm/mapshort-eabi.d: Check the data section doesn't confuse
	disassembly.
	* gas/arm/mapshort-elf.d: Likewise.
@
text
@d1 8
@


1.1159
log
@2007-04-19  Paul Brook  <paul@@codesourcery.com>

	gas/testsuite/
	* gas/arm/thumb1_unified.d: New test.
	* gas/arm/thumb1_unified.s: New test.

	gas/
	* config/tc-arm.c (md_assemble): Only allow 16-bit instructions on
	Thumb-1.  Add sanity check for bogus relaxations.
@
text
@d1 7
@


1.1158
log
@	* gas/ppc/booke.s: Add tlbsx, tlbsxe.
	* gas/ppc/booke.d: Update.
@
text
@d1 5
@


1.1157
log
@gas/

2007-04-18  H.J. Lu <hongjiu.lu@@intel.com>

	* config/tc-i386.c (cpu_arch): Add .sse4.2 and .sse4.
	(match_template): Handle operand size for crc32 in SSE4.2.
	(process_suffix): Handle operand type for crc32 in SSE4.2.
	(output_insn): Support SSE4.2.

gas/testsuite/

2007-04-18  H.J. Lu <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Add sse4.2 and x86-64-sse4.2.

	* gas/i386/sse4_2.d: New file.
	* gas/i386/sse4_2.s: Likewise.
	* gas/i386/x86-64-sse4_2.d: Likewise.
	* gas/i386/x86-64-sse4_2.s: Likewise.

opcodes/

2007-04-18  H.J. Lu <hongjiu.lu@@intel.com>

	* i386-dis.c (CRC32_Fixup): New.
	(PREGRP85, PREGRP86, PREGRP87, PREGRP88, PREGRP89, PREGRP90,
	 PREGRP91): New.
	(threebyte_0x38_uses_DATA_prefix): Updated for SSE4.2.
	(threebyte_0x3a_uses_DATA_prefix): Likewise.
	(prefix_user_table): Add PREGRP85, PREGRP86, PREGRP87,
	PREGRP88, PREGRP89, PREGRP90 and PREGRP91.
	(three_byte_table): Likewise.

	* i386-opc.c (i386_optab): Add SSE4.2 opcodes.

	* gas/config/tc-i386.h (CpuSSE4_2): New.
	(CpuSSE4): Likewise.
	(CpuUnknownFlags): Add CpuSSE4_2.
@
text
@d1 5
@


1.1156
log
@gas/

2007-04-18  H.J. Lu <hongjiu.lu@@intel.com>

	* config/tc-i386.c (cpu_arch): Add .sse4.1.
	(process_operands): Adjust implicit operand for blendvpd,
	blendvps and pblendvb in SSE4.1.
	(output_insn): Support SSE4.1.

gas/testsuite/

2007-04-18  H.J. Lu <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Add sse4.1 and x86-64-sse4.1.

	* gas/i386/sse4_1.d: New file.
	* gas/i386/sse4_1.s: Likewise.
	* gas/i386/x86-64-sse4_1.d: Likewise.
	* gas/i386/x86-64-sse4_1.s: Likewise.

opcodes/

2007-04-18  H.J. Lu <hongjiu.lu@@intel.com>

	* i386-dis.c (XMM_Fixup): New.
	(Edqb): New.
	(Edqd): New.
	(XMM0): New.
	(dqb_mode): New.
	(dqd_mode): New.
	(PREGRP39 ... PREGRP85): New.
	(threebyte_0x38_uses_DATA_prefix): Updated for SSE4.
	(threebyte_0x3a_uses_DATA_prefix): Likewise.
	(prefix_user_table): Add PREGRP39 ... PREGRP85.
	(three_byte_table): Likewise.
	(putop): Handle 'K'.
	(intel_operand_size): Handle dqb_mode, dqd_mode):
	(OP_E): Likewise.
	(OP_G): Likewise.

	* i386-opc.c (i386_optab): Add SSE4.1 opcodes.

	* i386-opc.h (CpuSSE4_1): New.
	(CpuUnknownFlags): Add CpuSSE4_1.
	(regKludge): Update comment.
@
text
@d3 9
@


1.1155
log
@2007-04-18  Paul Brook  <paul@@codesourcery.com>

	gas/testsuite/
	* gas/arm/thumb2_add.s: Add rsb #0 test.
	* gas/arm/thumb2_add.d: Update expected output.

	gas/
	* config/tc-arm.c (do_t_rsb): Use 16-bit encoding when possible.
@
text
@d1 9
@


1.1154
log
@2007-04-04  Paul Brook  <paul@@codesourcery.com>

	gas/
	* config/tc-arm.c (do_neon_ext): Enforce immediate range.
	(insns): Use I15 for vext.

	gas/testsute/
	* gas/arm/neon-cov.s: Add new vext test.
	* gas/arm/neon-cov.d: Ditto.
@
text
@d1 5
@


1.1153
log
@	* gas/z8k/calr.d: Fix for 64bit bfd.
	* gas/z8k/djnz.d: Likewise.
	* gas/z8k/inout.d: Likewise.
	* gas/z8k/jmp-cc.d: Likewise.
	* gas/z8k/jr-back.d: Likewise.
	* gas/z8k/jr-forw.d: Likewise.
	* gas/z8k/reglabel.d: Likewise.
	* gas/z8k/ctrl-names.d: Fix name.  Fix for 64bit bfd.
	* gas/z8k/ret-cc.d: Likewise.
@
text
@d1 5
@


1.1152
log
@	* gas/i386/nops-3.s: Don't use .align.
@
text
@d1 12
@


1.1151
log
@2007-03-30  Paul Brook  <paul@@codesourcery.com>

	gas/
	* config/tc-arm.c (encode_thumb2_ldmstm): New function.
	(do_t_ldmstm): Generate 16-bit push/pop.  Use encode_thumb2_ldmstm.
	(do_t_push_pop):  Use encode_thumb2_ldmstm.

	gas/testsuite/
	* gas/arm/thumb2_ldmstm.d: New test.
	* gas/arm/thumb2_ldmstm.s: New test.
@
text
@d1 4
d143 1
a143 1
	gas/d10v/address-039.l, gas/d10v/address-040.l, 
@


1.1150
log
@Fix year.
@
text
@d1 5
@


1.1149
log
@New test
@
text
@d26 1
a26 1
2003-03-23  H.J. Lu  <hongjiu.lu@@intel.com>
d37 1
a37 1
2003-03-21  H.J. Lu  <hongjiu.lu@@intel.com>
d50 1
a50 1
2003-03-21  H.J. Lu  <hongjiu.lu@@intel.com>
@


1.1148
log
@	* gas/arm/neon-const.s: Use FP syntax for 0/-0.
	* gas/arm/vfp-neon-syntax-inc.s: Likewise, for 1.
	* gas/arm/neon-cov.s: Use float syntax for FP immediate.
@
text
@d1 5
@


1.1147
log
@2007-03-24  Paul Brook  <paul@@codesourcery.com>
	Mark Shinwell  <shinwell@@codesourcery.com>

	gas/
	* config/tc-arm.c (operand_parse_code): Add OP_oRRw.
	(parse_operands): Don't expect comma if first operand missing.
	Handle OP_oRRw.
	(do_srs): Encode register number, checking it is r13.  Update comment.
	(insns): Update SRS entries to take a register.

	gas/testsuite/
	* gas/arm/archv6.s: Add new SRS tests.
	* gas/arm/archv6.d: Update expected output.
	* gas/arm/thumb32.s: Add new SRS tests.
	* gas/arm/thumb32.d: Update expected output.
	* gas/arm/srs-t2.d: New.
	* gas/arm/srs-t2.l: New.
	* gas/arm/srs-t2.s: New.
	* gas/arm/srs-arm.d: New.
	* gas/arm/srs-arm.l: New.
	* gas/arm/srs-arm.s: New.

	opcodes/
	* arm-dis.c (arm_opcodes): Print SRS base register.
@
text
@d1 6
@


1.1146
log
@gas/

2003-03-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (md_begin): Allow '.' in mnemonic.

gas/testsuite/

2003-03-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/rex.s: Add tests for rex.WRXB.
	* gas/i386/rex.d: Updated.

	* gas/i386/rex.d: Replace rex64XYZ with rex.WRXB.
	* gas/i386/x86-64-io-intel.d : Likewise.
	* gas/i386/x86-64-io-suffix.d: Likewise.
	* gas/i386/x86-64-io.d: Likewise.
	* gas/i386/x86-64-opcode.d: Likewise.

opcodes/

2003-03-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (prefix_name): Replace rex64XYZ with rex.WRXB.

	* i386-opc.c (i386_optab): Add rex.wrxb.
@
text
@d1 14
@


1.1145
log
@gas/

2003-03-21  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/4218
	* config/tc-i386.c (match_template): Properly handle 64bit mode
	"xchg %eax, %eax".

gas/testsuite/

2003-03-21  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/4218
	* gas/i386/nops.s: Add testcases for nop r/m.
	* gas/i386/x86-64-nops.s: Likewise.

	* gas/i386/x86-64-opcode.s: Add testcases for xchg with %ax,
	%eax and %rax.

	* gas/i386/nops.d: Updated.
	* gas/i386/x86-64-nops.d: Likewise.
	* gas/i386/x86-64-opcode.d: Likewise.

opcodes/

2003-03-21  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/4218
	* i386-dis.c (PREGRP38): New.
	(dis386): Use PREGRP38 for 0x90.
	(prefix_user_table): Add PREGRP38.
	(print_insn): Set uses_REPZ_prefix to 1 for pause.
	(NOP_Fixup1): Properly handle REX bits.
	(NOP_Fixup2): Likewise.

	* i386-opc.c (i386_optab): Allow %eax with xchg in 64bit.
	Allow register with nop.
@
text
@d1 11
@


1.1144
log
@2003-03-21  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run nops-3.

	* gas/i386/nops-3.d: New file.
	* gas/i386/nops-3.s: Likewise.
@
text
@d3 13
@


1.1143
log
@	gas/testsuite/
	* gas/arm/mul-overlap.s: Don't use %type.
	* gas/arm/mul-overlap.l: Update line numbers.
	* gas/arm/mul-overlap-v6.s: Don't use %type.
@
text
@d1 7
@


1.1142
log
@	gas/
	* config/tc-arm.c (do_mul): Don't warn about overlapping
	Rd and Rm operands when assembling for v6 or above.
	Correctly capitalize register names in the messages.
	(do_mlas): Likewise.  Delete spurious blank line.

	gas/testsuite/
	* gas/arm/mul-overlap.s: New.
	* gas/arm/mul-overlap.d: New.
	* gas/arm/mul-overlap.l: New.
	* gas/arm/mul-overlap-v6.s: New.
	* gas/arm/mul-overlap-v6.d: New.
@
text
@d1 6
@


1.1141
log
@	gas/
	* config/tc-arm.c (arm_copy_symbol_attributes): New.
	* config/tc-arm.h (arm_copy_symbol_attributes): Declare.
	(TC_COPY_SYMBOL_ATTRIBUTES): Define.
	* gas/symbols.c (copy_symbol_attributes): Use
	TC_COPY_SYMBOL_ATTRIBUTES.

	gas/testsuite/
	* gas/arm/thumbver.d, gas/arm/thumbver.s: New test.
@
text
@d1 8
@


1.1140
log
@2007-03-14  Paul Brook  <paul@@codesourcery.com>

	gas/
	* config/tc-arm.c (T16_32_TAB): Fix dec_sp encoding.

	gas/testsuite/
	* gas/arm/thumb2_add.d: Add tests using sp.
	* gas/arm/thumb2_add.s: Ditto.
@
text
@d1 4
@


1.1139
log
@	PR 4029
	* gas/all/relax.s: New.
	* gas/all/relax.d: New.
	* gas/all/gas.exp: Run it.
@
text
@d1 5
@


1.1138
log
@	* gas/mmix/comment-1.d, gas/mmix/bspec-1.d, gas/mmix/bspec-2.d:
	Adjust for change in readelf output.
@
text
@d1 7
@


1.1137
log
@2007-03-06  Andreas Krebbel  <krebbel1@@de.ibm.com>

	* opcodes/s390-opc.c (INSTR_RRE_FR, INSTR_RRF_F0FF2, INSTR_RRF_F0FR,
	INSTR_RRF_UUFF, INSTR_RRF_0UFF, INSTR_RRF_FFFU,	INSTR_RRR_F0FF): New
	instruction formats added.
	(MASK_RRE_FR, MASK_RRF_F0FF2, MASK_RRF_F0FR, MASK_RRF_UUFF,
	MASK_RRF_0UFF, MASK_RRF_FFFU, MASK_RRR_F0FF): New instruction format
	masks added.
	* opcodes/s390-opc.txt (lpdfr - tgxt): Decimal floating point
	instructions added.
	* opcodes/s390-mkopc.c (s390_opcode_cpu_val): S390_OPCODE_Z9_EC added.
	(main): z9-ec cpu type option added.
	* include/opcode/s390.h (s390_opcode_cpu_val): S390_OPCODE_Z9_EC added.

2007-03-06  Andreas Krebbel  <krebbel1@@de.ibm.com>

	* config/tc-s390.c (md_parse_option): z9-ec option added.

2007-03-06  Andreas Krebbel  <krebbel1@@de.ibm.com>

	* gas/s390/zarch-z9-ec.d: New file.
	* gas/s390/zarch-z9-ec.s: New file.
	* gas/s390/s390.exp: Run the z9-ec testcases.
@
text
@d1 5
@


1.1136
log
@2007-03-05  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/3918
	* lib/gas-defs.exp (gas_started): New variable. Initialized to
	0.
	(gas_start): Set gas_started to 1.
	(gas_finish): Skip if gas_started is 0.  Reset gas_started to 0.
@
text
@d1 6
@


1.1135
log
@2007-03-02  Paul Brook  <paul@@codesourcery.com>

	gas/
	* config/tc-arm.c (relax_immediate): Always return positive values.
	(relaxed_symbol_addr): New function.
	(relax_adr, relax_branch): Use it.
	(arm_relax_frag): Pass stretch argument.  Adjust infinite loop check.

	gas/testsuite/
	* gas/arm/relax_branch_align.d: New test.
	* gas/arm/relax_branch_align.s: New test.
@
text
@d1 8
@


1.1134
log
@PR gas/3797
* config/tc-d10v.c (do_assemble): Do not generate error messages, just return -1 whenever a problem is encoun$
 (md_assemble): If do_assemble returns -1 generate a non-fatal error message and return.
* gas/lns/lns.exp: Do not run the lns-common test for the d10v port.
* gas/d10v/address-002.l: Update expected assembler output.
* gas/d10v/address-003.l, gas/d10v/address-004.l,
  gas/d10v/address-005.l, gas/d10v/address-006.l,
  gas/d10v/address-007.l, gas/d10v/address-008.l,
  gas/d10v/address-009.l, gas/d10v/address-010.l,
  gas/d10v/address-011.l, gas/d10v/address-012.l,
  gas/d10v/address-013.l, gas/d10v/address-014.l,
  gas/d10v/address-015.l, gas/d10v/address-016.l,
  gas/d10v/address-017.l, gas/d10v/address-018.l,
  gas/d10v/address-019.l, gas/d10v/address-020.l,
  gas/d10v/address-021.l, gas/d10v/address-022.l,
  gas/d10v/address-023.l, gas/d10v/address-024.l,
  gas/d10v/address-025.l, gas/d10v/address-026.l,
  gas/d10v/address-027.l, gas/d10v/address-030.l,
  gas/d10v/address-031.l, gas/d10v/address-032.l,
  gas/d10v/address-033.l, gas/d10v/address-034.l,
  gas/d10v/address-035.l, gas/d10v/address-036.l,
  gas/d10v/address-037.l, gas/d10v/address-038.l,
  gas/d10v/address-039.l, gas/d10v/address-040.l,
  gas/d10v/address-041.l: Likewise.
@
text
@d1 5
@


1.1133
log
@PR 3729: Fix unexpected failures in ARM GAS testsuite results.
@
text
@d3 27
@


1.1132
log
@* s390-opc.c (INSTR_SS_L2RDRD): New.
(MASK_SS_L2RDRD): New.
* s390-opc.txt (pka): Use it.

* gas/s390/esa-g5.s: Adjust for corrected PKA syntax.
* gas/s390/esa-g5.d: Adjust for corrected PKA syntax.
@
text
@d1 15
@


1.1131
log
@	[ gas/ChangeLog ]
	* config/tc-mips.c (mips_set_options, mips_opts, file_ase_dspr2,
	ISA_SUPPORTS_DSPR2_ASE, MIPS_CPU_ASE_DSPR2): Add DSP R2 ASE support.
	(macro_build): Add case '2'.
	(macro): Expand M_BALIGN to nop, packrl.ph or balign.
	(validate_mips_insn): Add support for balign instruction.
	(mips_ip): Handle DSP R2 instructions. Support balign instruction.
	(OPTION_DSPR2, OPTION_NO_DSPR2, OPTION_COMPAT_ARCH_BASE,
	md_parse_option, mips_after_parse_args): Add -mdspr2 and -mno-dspr2
	command line options.
	(s_mipsset): Add support for .set dspr2 and .set nodspr2 directives.
	(md_show_usage): Add -mdspr2 and -mno-dspr2 help output.
	* doc/c-mips.texi, doc/as.texinfo: Document -mdspr2, -mno-dspr2,
	.set dspr2, .set nodspr2.

	[ gas/testsuite/ChangeLog ]
	* gas/mips/mips32-dspr2.s, gas/mips/mips32-dspr2.d: New test for
	DSP R2.
	* gas/mips/mips.exp: Run new test.

	[ include/opcode/Changelog ]
	* mips.h (OP_SH_BP, OP_MASK_BP): Add support for balign instruction.
	(INSN_DSPR2): Add flag for DSP R2 instructions.
	(M_BALIGN): New macro.

	[ opcodes/ChangeLog ]
	* mips-dis.c (mips_arch_choices): Add DSP R2 support.
	(print_insn_args): Add support for balign instruction.
	* mips-opc.c (D33): New shortcut for DSP R2 instructions.
	(mips_builtin_opcodes): Add DSP R2 instructions.

	[ sim/mips/ChangeLog ]
	* Makefile.in (IGEN_INCLUDE): Add dsp2.igen.
	* configure.ac (mips*-sde-elf*, mipsisa32r2*-*-*, mipsisa64r2*-*-*):
	Add dsp2 to sim_igen_machine.
	* configure: Regenerate.
	* dsp.igen (do_ph_op): Add MUL support when op = 2.
	(do_ph_mulq): New function to support mulq_rs.ph and mulq_s.ph.
	(mulq_rs.ph): Use do_ph_mulq.
	(MFHI, MFLO, MTHI, MTLO): Move these instructions to mips.igen.
	* mips.igen: Add dsp2 model and include dsp2.igen.
	(MFHI, MFLO, MTHI, MTLO): Extend these instructions for
	for *mips32r2, *mips64r2, *dsp.
	(MADD, MADDU, MSUB, MSUBU, MULT, MULTU): Extend these instructions
	for *mips32r2, *mips64r2, *dsp2.
	* dsp2.igen: New file for MIPS DSP REV 2 ASE.

	[ sim/testsuite/sim/mips/ChangeLog ]
	* basic.exp: Run the dsp2 test.
	* utils-dsp.inc (dspckacc_astio, dspck_tsimm): New macro.
	* mips32-dsp2.s: New test.
@
text
@d1 5
@


1.1130
log
@2007-02-19  Andreas Krebbel  <krebbel1@@de.ibm.com>

        * s390-opc.c (INSTR_RRF_U0FR, MASK_RRF_U0FR): Removed.
	(INSTR_RRF_U0RF, MASK_RRF_U0RF): Added.
	* s390-opc.txt (cfxbr, cfdbr, cfebr, cgebr, cgdbr, cgxbr, cger, cgdr,
	cgxr, cfxr, cfdr, cfer): Instruction type set to INSTR_RRF_U0RF.

2007-02-19  Andreas Krebbel  <krebbel1@@de.ibm.com>

        * gas/s390/esa-g5.d (cfxbr, cfebr, cfdbr): Exchanged floating
	point and fixed point operands.
	* gas/s390/esa-g5.s: Likewise.
	* gas/s390/zarch-z900.d (cfdr, cfer, cfxr, cgdbr, cgebr, cgxbr,
	cgdr, cger, cgxr): Likewise.
	* gas/s390/zarch-z900.s: Likewise.
@
text
@d1 7
@


1.1129
log
@gas/testsuite/

2007-02-11  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/4027
	* gas/i386/opcode.s: Add more tests for "test".
	* i386/opcode-intel.d: Updated.
	* gas/i386/opcode-suffix.d: Likewise.
	* gas/i386/opcode.d: Likewise.

include/opcode/

2007-02-11  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/4027
	* i386.h (i386_optab): Put the real "test" before the pseudo
	one.
@
text
@d1 9
@


1.1128
log
@PR gas/3810 gas/3800
* gas/elf/elf.exp: Expect the redef test to fail on targets which do not
  convert fixups against ordinary symbols into relocs against section symbols.
* gas/all/gas.exp: Likewise.
@
text
@d1 8
@


1.1127
log
@Support for Toshiba MeP and for complex relocations.
@
text
@d1 8
@


1.1126
log
@Fix year.
@
text
@d1 5
@


1.1125
log
@2076-02-04  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/3961
	* gas/i386/secrel.d: Support 64bit host.
@
text
@d1 1
a1 1
2076-02-04  H.J. Lu  <hongjiu.lu@@intel.com>
@


1.1124
log
@PR gas/3812
* gas/v850/v850e1.d: Correct expected disassembly of cmov insn to account for sign extension.
@
text
@d1 5
@


1.1123
log
@2007-01-11  Paul Brook  <paul@@codesourcery.com>

	gas/
	* config/tc-arm.c (do_t_add_sub): Use Rd and Rs.

	gas/testsuite/
	* gas/arm/thumb2_add.d: Add test for missing operand.
	* gas/arm/thumb2_add.s: Ditto.
@
text
@d1 6
@


1.1122
log
@* gas/mcore/allinsn.s: Remove use of '#' before numbers - it is a line comment character.
* gas/mcore/allinsn.d: Adjust expected disassembly to match real output.
@
text
@d1 5
@


1.1121
log
@Run the alternative version of the lns-common-1 test for the MCore target.
@
text
@d3 7
a9 2
	* gas/lns/lns.exp (run_list_test): Run the alternative version of
	the lns-common-1 test for the MCore target.
@


1.1120
log
@Move 2006 ChangeLog entries to ChangeLog-2006.
@
text
@d1 5
@


1.1119
log
@Renamed target x86_64-*-mingw64 to x86_64-*-mingw*.
@
text
@d27 1
a27 1087
2006-12-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/intel.s: Add tests for "shrd %cl,%edx,%eax" and
	"shld %cl,%edx,%eax".
	* gas/i386/opcode.s: Likewise.

	* gas/i386/intel.d: Updated.
	* gas/i386/opcode-intel.d: Likewise.
	* gas/i386/opcode-suffix.d: Likewise.
	* gas/i386/opcode.d: Likewise.

2006-12-27  Kazu Hirata  <kazu@@codesourcery.com>

	* gas/m68k/all.exp: Add support for fido.
	* gas/m68k/fido.d, gas/m68k/fido.s: New.

2006-12-19  Nathan Sidwell  <nathan@@codesourcery.com>

	* gas/cfi/cfi-common-6.s: Do not use |.

2006-12-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/x86-64-inval.s: cmpxchg16b needs oword ptr, instead
	of xmmword ptr.
	* gas/i386/x86_64.s: Likewise.
	* gas/i386/x86-64-inval.l: Updated.

2006-12-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/x86-64-inval.s: Add cmpxchg16b.
	* gas/i386/x86_64.s: Likewise.
	* gas/i386/x86-64-inval.l: Updated.
	* gas/i386/x86_64.d: Likewise.

2006-12-13  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/3712
	* gas/i386/inval.s: Add invalid insertq.
	* gas/i386/x86-64-inval.s: Likewise.

	* gas/i386/inval.l: Updated.
	* gas/i386/x86-64-inval.l: Likewise.

2006-12-08  Christian Groessler  <chris@@groessler.org>

	* gas/z8k/reglabel.d: New test.
	* gas/z8k/reglabel.s: New test.
	* gas/z8k/z8k.exp: Run new test.

2006-12-06  H.J. Lu <hjl@@gnu.org>

	* gas/i386/amdfam10.d: Updated for operand/address-size override
	prefix position change.
	* gas/i386/naked.d: Likewise.
	* gas/i386/rep-suffix.d: Likewise.
	* gas/i386/rep.d: Likewise.
	* gas/i386/white.l: Likewise.
	* gas/i386/x86-64-amdfam10.d: Likewise.
	* gas/i386/x86-64-rep-suffix.d: Likewise.
	* gas/i386/x86-64-rep.d: Likewise.
	* gas/i386/x86_64.d: Likewise.

2006-12-04  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/opcode-intel.d: Fix wrong expectation. Make white space
	expectations more consistent.

2006-12-01  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/opcode.d: Adjust name.
	* gas/i386/opcode-intel.d: New.
	* gas/i386/opcode-suffix.d: New.
	* gas/i386/i386.exp: Run new tests.

2006-12-01  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/thumbrel.s: New test.
	* gas/arm/thumbrel.d: New test.

2006-11-30  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/intel.d: Adjust.
	* gas/i386/naked.d: Adjust.
	* gas/i386/opcode.d: Adjust.

2006-11-30  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/x86-64-io.[sd]: New.
	* gas/i386/x86-64-io-intel.d: New.
	* gas/i386/x86-64-io-suffix.d: New.
	* gas/i386/i386.exp: Run new tests.

2006-11-30  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/intel.s: Use Intel syntax in Intel syntax test.
	* gas/i386/x86-64-cbw.[sd]: New.
	* gas/i386/x86-64-cbw-intel.d: New.
	* gas/i386/i386.exp: Run new tests.

2006-11-29  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/vfpv3-const-conv.s: Improve test coverage.
	* gas/arm/vfpv3-const-conv.d: Adjust expected output.
	* gas/arm/vfp-neon-syntax_t2.d: Ditto.
	* gas/arm/vfp-neon-syntax.d: Ditto.

2006-11-27  Bob Wilson  <bob.wilson@@acm.org>

	* gas/elf/section2.e-xtensa: New file.
	* gas/elf/elf.exp: Use it.

2006-11-22  Daniel Jacobowitz  <dan@@codesourcery.com>

	* gas/arm/arm7t.d, gas/arm/neon-ldst-rm.d, gas/arm/thumb2_pool.d,
	gas/arm/tls.d: Update for $d support.
	* gas/arm/mapshort.d, gas/arm/mapshort.s: New test.
	* gas/elf/section2.e-armeabi: Update.
	* gas/elf/section2.e-armelf: New file.
	* gas/elf/elf.exp: Use it.

2006-11-16  Nathan Sidwell  <nathan@@codesourcery.com>

	* gas/m68k/all.exp: Add mcf-trap.
	* gas/m68k/mcf-trap.[sd]: New.

2006-11-15  Jan Beulich  <jbeulich@@novell.com>

	* gas/elf/equ-reloc.[sd]: New.
	* gas/elf/elf.exp: Run new test.

2006-11-10  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/merom.d: Use "#pass" instead of "#..." to skip the
	rest of output.
	* gas/i386/x86-64-merom.d: Likewise.

2006-11-10  Thiemo Seufer  <ths@@mips.com>

	* gas/cfi/cfi.exp: Don't run cfi-common-6 for mips*-*.

2006-11-10  Pedro Alves  <pedro_alves@@portugalmail.pt>

	* gas/arm/undefined.d: Run test on Windows CE.
	* gas/arm/undefined_coff.d: Don't run test on Windows CE.

	* gas/arm/local_label_coff.s: New test.
	* gas/arm/local_label_coff.d: New test.
	* gas/arm/local_label_elf.s: New test.
	* gas/arm/local_label_elf.d: New test.
	* gas/arm/local_label_wince.s: New test.
	* gas/arm/local_label_wince.d: New test.

2006-11-09  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/sse2.s: Test movdqa with memory destination.
	* gas/i386/sse2.d: Updated.

2006-11-09  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/sse2.s: Test movdqu with memory destination.
	* gas/i386/sse2.d: Updated.

2006-11-06  David Daney  <ddaney@@avtrex.com>

	* gas/mips/elf-rel26.s: New test.
	* gas/mips/elf-rel26.d: Ditto.
	* gas/mips/mips.exp: Run it.

2006-11-03  Jakub Jelinek  <jakub@@redhat.com>

	* gas/cfi/cfi-common-6.d: New test.
	* gas/cfi/cfi-common-6.s: New.
	* gas/cfi/cfi.exp: Add cfi-common-6 test.

	* gas/cfi/cfi-common-5.d: New test.
	* gas/cfi/cfi-common-5.s: New.
	* gas/cfi/cfi.exp: Add cfi-common-5 test.

2006-11-01  Thiemo Seufer  <ths@@mips.com>

	* gas/mips/mips16-intermix.d, gas/mips/mips16-intermix.s: New
	testcase.
	* gas/mips/mips.exp: Run new testcase.

2006-11-01  Mei Ligang  <ligang@@sunnorth.com.cn>

	* gas/score/rD_rA.d: Correct not! and not.c instruction disassembly.
	* gas/score/b.d: Correct b! and b instruction disassembly.

2006-10-29  Randolph Chung  <tausq@@debian.org>

	* gas/cfi/cfi.exp [hppa*-linux*]: Run hppa CFI test.
	* gas/cfi/cfi-hppa-1.s: New file.
	* gas/cfi/cfi-hppa-1.h: New file.

2006-10-24  Andrew Pinski  <andrew_pinski@@playstation.sony.com>

	* gas/ppc/cell.s: New file.
	* gas/ppc/cell.d: New file.
	* gas/ppc/ppc.exp: Test cell.s.

2006-10-23  Dwarakanath Rajagopal  <dwarak.rajagopal@@amd.com>

	* gas/i386/amdfam10.d : Modify to support for the change in POPCNT
	opcode in amdfam10 architecture.
	* gas/i386/x86-64-amdfam10.d : Ditto.

2006-10-21  Kaz Kojima  <kkojima@@rr.iij4u.or.jp>

	* gas/sh/sh64/syntax-1.d: Update.

2006-10-20  Andrew Stubbs  <andrew.stubbs@@st.com>

	* gas/sh/pcrel-coff.d: Update patterns (remove 0x on addresses).
	* gas/sh/pcrel-hms.d: Likewise.
	* gas/sh/pcrel.d: Likewise.
	* gas/sh/pcrel2.d: Likewise.
	* gas/sh/pic.d: Likewise.
	* gas/sh/tlsd.d: Likewise.
	* gas/sh/tlsdnopic.d: Likewise.
	* gas/sh/tlsdpic.d: Likewise.

2006-10-16  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Indent "x86-64-nops-1".

2006-10-08  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/neon-cov.s: Test pseudo-instruction forms of
	vmov, vmvn and logic immediate instructions.
	* gas/arm/neon-cov.d: ditto.

2006-09-28  Bridge Wu  <mingqiao.wu@@gmail.com>

	* gas/arm/iwmmxt-wldstbh.s: New file.
	* gas/arm/iwmmxt-wldstbh.d: New file.

2006-09-26  Mark Shinwell  <shinwell@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>
            Ian Lance Taylor  <ian@@wasabisystems.com>
            Ben Elliston  <bje@@wasabisystems.com>

	* gas/arm/iwmmxt2.s: New file.
	* gas/arm/iwmmxt2.d: New file.

2006-09-23  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/3235
	* gas/i386/addr16.d: New file.
	* gas/i386/addr16.s: Likewise.
	* gas/i386/addr32.d: Likewise.
	* gas/i386/addr32.s: Likewise.

	* gas/i386/i386.exp: Add "addr16" and "addr32".

	* gas/i386/x86-64-addr32.s: Add tests for "add32 mov".
	* gas/i386/x86-64-addr32.d: Updated.

2006-09-20  Kai Tietz  <Kai.Tietz@@onevision.com>

	* gas/all/gas.exp: Add support for x86_64-*-mingw64.
	* gas/i386/immed64.d: Add #pass for avoid proplems with alignment paddings.
	* gas/i386/rex.d: Changed for x86_64-mingw32 target matching and padding.
	* gas/i386/i386.d: Likewise.
	* gas/i386/x86-64-addr32.d: Likewise.
	* gas/i386/x86-64-branch.d: Likewise.
	* gas/i386/x86-64-crx-suffix.d: Likewise.
	* gas/i386/x86-64-crx.d: Likewise.
	* gas/i386/x86-64-drx-suffix.d: Likewise.
	* gas/i386/x86-64-crx-suffix.d: Likewise.
	* gas/i386/x86-64-opcode.d: Likewise.
	* gas/i386/x86-64-pcrel.d: Likewise.

2006-09-19  Bernd Schmidt  <bernd.schmidt@@analog.com>

	* gas/bfin/load.s, gas/bfin/load.d: Add constant folding tests.

2006-09-17  Mei Ligang  <ligang@@sunnorth.com.cn>

	* gas/score: New directory.
	* gas/elf/section2.e-score: New file.
	* gas/elf/elf.exp: Add special case for Score target.

2006-09-16  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/unwind.s: Test two argument form of .movsp.
	* gas/arm/unwind.d: Update expected output.
	* gas/arm/unwind_vxworks.d: Ditto.

2006-09-08  Kazu Hirata  <kazu@@codesourcery.com>

	* lib/gas-dg.exp (gas-dg-test): Treat $dir as a literal.

2006-09-08  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/arm-it.s: New test.
	* gas/arm/arm-it.d: New test.

2006-09-07  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/neon-omit.s: Test three-argument variants.
	* gas/arm/neon-omit.d: Update expected output.

2006-09-04  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/neon-cov.s: Test .u and .s aliases for .i suffixes.
	* gas/arm/neon-cov.d: Adjust expected output.

2006-08-21  Joseph Myers  <joseph@@codesourcery.com>

	* gas/arm/unwind.s: Test not merging iWMMXt register save with
	previous long opcode.
	* gas/arm/unwind.d, gas/arm/unwind_vxworks.d: Update.

2006-08-16  Julian Brown  <julian@@codesourcery.com>

	* gas/arm/noarm.s: Add test for disabled ARM insns.
	* gas/arm/noarm.d: Drive test for above.
	* gas/arm/noarm.l: Expected error output.

2006-08-15  Thiemo Seufer  <ths@@mips.com>
            Nigel Stephens  <nigel@@mips.com>
            David Ung  <davidu@@mips.com>

	* gas/mips/mips.exp: Handle mips*-sde-elf*.

2006-08-04  Dwarakanath Rajagopal  <dwarak.rajagopal@@amd.com>

	* sse2.d: Fixed the correct result for cvtpi2pd, cvtpd2pi 
	and cvttpd2pi.

2006-08-12  Thiemo Seufer  <ths@@networkno.de>

	* gas/mips/mips16-save.d: Fix testcase.

2006-08-08  Bob Wilson  <bob.wilson@@acm.org>

	* gas/lns/lns-common-1-alt.d: New file.
	* gas/lns/lns.exp: Use lns-common-1-alt.d for xtensa targets.

2006-08-04 Pedro Alves <pedro_alves@@portugalmail.pt>

	* gas/arm/wince.s: New test.
	* gas/arm/wince.d: New test.

	* gas/arm/thumb2_add.s: Don't use elf specific ".type"
	pseudo-op.

2006-08-03  Joseph Myers  <joseph@@codesourcery.com>

	* gas/arm/iwmmxt-bad.s: Test invalid register names for wldrw and
	wstrw.
	* gas/arm/iwmmxt-bad.l: Update.

2006-08-03  Joseph Myers  <joseph@@codesourcery.com>

	* gas/arm/iwmmxt.s: Test tmcr and tmrc with wcgr registers.
	* gas/arm/iwmmxt.d: Update.

2006-08-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/nops-2-i386.d: Updated.
	* gas/i386/nops-2-merom.d: Likewise.
	* gas/i386/nops-2.d: Likewise.

2006-07-29  Richard Sandiford  <richard@@codesourcery.com>

	* gas/m68k/mcf-fpu.s: Add tests for all addressing modes.
	* gas/m68k/mcf-fpu.d: Update accordingly.

2006-07-20 Dwarakanath Rajagopal	<dwarak.rajagopal@@amd.com>
	   Michael Meissner		<michael.meissner@@amd.com>

	* gas/i386/amdfam10.s: Add .p2align 4,0 to make sure segment is
	aligned on all systems.
	* gas/i386/x86-64-amdfam10.s: Likewise.
	* gas/i386/amdfam10.d: Adjust output for alignment.
	* gas/i386/x86-64-amdfam10.d: Likewise.

2006-07-19  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/archv6t2.d: Adjust expected output for rbit.

2006-07-18  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/opcode.s: Add sldt, smsw and str.
	* gas/i386/x86-64-opcode.s: Likewise.

	* gas/i386/opcode.d: Updated.
	* gas/i386/x86-64-opcode.d: Likewise.

2006-07-18  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/thumb2_add.d: New test.
	* gas/arm/thumb2_add.s: New test.

2006-07-18  Maciej W. Rozycki  <macro@@mips.com>

	* gas/mips/mips4.s, gas/mips/mips4.d: Enable the "pref" test.  Change
	arguments for "madd.s" so that the instruction is correct for mips1
	and still matches "bc3*".

2006-07-13 Dwarakanath Rajagopal	<dwarak.rajagopal@@amd.com>
	   Michael Meissner		<michael.meissner@@amd.com>

	* gas/i386/amdfam10.s: New file for amdfam10 instructions.
	* gam/i386/amdfam10.d: Ditto.
	* gas/i386/x86-64-amdfam10.s: Ditto.
	* gam/i386/x86-64-amdfam10.d: Ditto.

2006-07-12  Nick Clifton  <nickc@@redhat.com>

	* gas/sh/basic.exp: Run "too_large" dump test.
	* gas/sh/too_large.s: New test file.  Check that .byte directives
	do not generate a bogus overflow message.
	* gas/sh/too_large.s: New test control file.

2006-07-05  Julian Brown  <julian@@codesourcery.com>

	* gas/arm/vfp-neon-syntax.d: Tweak expected fmsrr syntax.
	* gas/arm/vfp-neon-syntax_t2.d: Likewise.
	* gas/arm/vfp2.d: Likewise.
	* gas/arm/vfp2_t2.d: Likewise.

2006-07-04  Thiemo Seufer  <ths@@mips.com>

	* gas/mips/e32-rel2.d, gas/mips/e32-rel4.d: Use -mabi=32 for as.
	* gas/mips/mips.exp: Move mips16e testcase to ELF only tests.
	Run elf{el}-rel2 and elf-rel4 for all arches with gpr64. Run
	e32-rel2 and e32-rel4 also for 64 bit configurations.

2006-06-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run nops-1, nops-1-i386, nops-1-i686,
	nops-1-merom, nops-2, nops-2-i386, nops-2-merom, x86-64-nops-1,
	x86-64-nops-1-k8, x86-64-nops-1-nocona and x86-64-nops-1-merom.

	* gas/i386/nops-1.s: New file.
	* gas/i386/nops-2.s: Likewise.
	* gas/i386/nops-1-i386.d: Likewise.
	* gas/i386/nops-1-i686.d: Likewise.
	* gas/i386/nops-1-merom.d: Likewise.
	* gas/i386/nops-1.d: Likewise.
	* gas/i386/nops-2-i386.d: Likewise.
	* gas/i386/nops-2-merom.d: Likewise.
	* gas/i386/nops-2.d: Likewise.
	* gas/i386/x86-64-nops-1.s: Likewise.
	* gas/i386/x86-64-nops-1-k8.d: Likewise.
	* gas/i386/x86-64-nops-1-merom.d: Likewise.
	* gas/i386/x86-64-nops-1-nocona.d: Likewise.
	* gas/i386/x86-64-nops-1.d: Likewise.

	* gas/i386/sse2.d: Updated to expect xchg %ax,%ax as 2 byte
	nop.

2006-06-20  Thiemo Seufer  <ths@@networkno.de>

	* gas/mips/mips.exp: Explicitly specify o32 ABI.
	* gas/mips/mips64-dsp.d: Dump o32 register names.
	* gas/mips/smartmips.d: Explicitly specify o32 ABI.

2006-06-18  Nick Clifton  <nickc@@redhat.com>

	* gas/arm/group-reloc-alu-encoding-bad.d: Skip for non-ELF
	targets.
	* gas/arm/group-reloc-alu-parsing-bad.d: Likewise.
	* gas/arm/group-reloc-ldc-encoding-bad.d: Likewise.
	* gas/arm/group-reloc-ldc-parsing-bad.d: Likewise.
	* gas/arm/group-reloc-ldc.d: Likewise.
	* gas/arm/group-reloc-ldr-encoding-bad.d: Likewise.
	* gas/arm/group-reloc-ldr-parsing-bad.d: Likewise.
	* gas/arm/group-reloc-ldr.d: Likewise.
	* gas/arm/group-reloc-ldrs-encoding-bad.d: Likewise.
	* gas/arm/group-reloc-ldrs-parsing-bad.d: Likewise.
	* gas/arm/group-reloc-ldrs.d: Likewise.
	
2006-06-15  Mark Shinwell  <shinwell@@codesourcery.com>

	* gas/arm/group-reloc-alu.d: New test.
	* gas/arm/group-reloc-alu-encoding-bad.d: New test.
	* gas/arm/group-reloc-alu-encoding-bad.l: New test.
	* gas/arm/group-reloc-alu-encoding-bad.s: New test.
	* gas/arm/group-reloc-alu-parsing-bad.d: New test.
	* gas/arm/group-reloc-alu-parsing-bad.l: New test.
	* gas/arm/group-reloc-alu-parsing-bad.s: New test.
	* gas/arm/group-reloc-alu.s: New test.
	* gas/arm/group-reloc-ldc.d: New test.
	* gas/arm/group-reloc-ldc-encoding-bad.d: New test.
	* gas/arm/group-reloc-ldc-encoding-bad.l: New test.
	* gas/arm/group-reloc-ldc-encoding-bad.s: New test.
	* gas/arm/group-reloc-ldc-parsing-bad.d: New test.
	* gas/arm/group-reloc-ldc-parsing-bad.l: New test.
	* gas/arm/group-reloc-ldc-parsing-bad.s: New test.
	* gas/arm/group-reloc-ldc.s: New test.
	* gas/arm/group-reloc-ldr.d: New test.
	* gas/arm/group-reloc-ldr-encoding-bad.d: New test.
	* gas/arm/group-reloc-ldr-encoding-bad.l: New test.
	* gas/arm/group-reloc-ldr-encoding-bad.s: New test.
	* gas/arm/group-reloc-ldr-parsing-bad.d: New test.
	* gas/arm/group-reloc-ldr-parsing-bad.l: New test.
	* gas/arm/group-reloc-ldr-parsing-bad.s: New test.
	* gas/arm/group-reloc-ldr.s: New test.
	* gas/arm/group-reloc-ldrs.d: New test.
	* gas/arm/group-reloc-ldrs-encoding-bad.d: New test.
	* gas/arm/group-reloc-ldrs-encoding-bad.l: New test.
	* gas/arm/group-reloc-ldrs-encoding-bad.s: New test.
	* gas/arm/group-reloc-ldrs-parsing-bad.d: New test.
	* gas/arm/group-reloc-ldrs-parsing-bad.l: New test.
	* gas/arm/group-reloc-ldrs-parsing-bad.s: New test.
	* gas/arm/group-reloc-ldrs.s: New test.

2006-06-14  Thiemo Seufer  <ths@@mips.com>
            Maciej W. Rozycki  <macro@@mips.com>

	* gas/mips/elf-rel6.d, gas/mips/elf-rel6.s: Extend testcase.
	* gas/mips/elf-rel6.d-n32.d, gas/mips/elf-rel6-n64.d: New files.
	* gas/mips/mips.exp: Run new testcases.

2006-06-14  Thiemo Seufer  <ths@@mips.com>

	* gas/mips/mips16e-jrc.d, gas/mips/mips16e-save.d,
	gas/mips/mips32-dsp.d, gas/mips/mips32-mt.d: Explicitly specify
	o32 ABI.

2006-06-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run nops and x86-64-nops.

	* gas/i386/nops.d: New file.
	* gas/i386/nops.s: Likewise.
	* gas/i386/x86-64-nops.d: Likewise.
	* gas/i386/x86-64-nops.s: Likewise.

2006-06-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/opcode.s: Add "xchg %ax,%ax".
	* gas/i386/opcode.d: Updated.

	* gas/i386/x86-64-opcode.s: Add xchg %ax,%ax, xchg %eax,%eax,
	xchg %rax,%rax, rex64 xchg %rax,%rax and xchg %rax,%r8.
	* gas/i386/x86-64-opcode.d: Updated.

2006-06-09  Thiemo Seufer  <ths@@mips.com>
            Nigel Stephens  <nigel@@mips.com>

	* gas/mips/mips32-sf32.s, gas/mips/mips32-sf32.d: New test for odd
	single precision FPRs on MIPS32.
	* gas/mips/mips.exp: Run them.

2006-06-08  Thiemo Seufer  <ths@@mips.com>
            Nigel Stephens  <nigel@@mips.com>

	* gas/mips/mips32.s: Added cop2 branches with explicit condition
	code register numbers.
	* gas/mips/mips32.d: Likewise.

2006-06-07  Julian Brown  <julian@@codesourcery.com>

	* gas/arm/itblock.s: New file. Helper macro for making all-true IT
	blocks.
	* gas/arm/neon-cond-bad-inc.s: New test. Make sure unconditional
	Neon instructions are rejected...
	* gas/arm/neon-cond-bad.s: In ARM mode, and...
	* gas/arm/neon-cond-bad_t2.s: Accepted in Thumb mode (with IT).
	* gas/arm/neon-cond-bad.l: Expected error output in ARM mode.
	* gas/arm/neon-cond-bad.d: Control ARM mode test.
	* gas/arm/neon-cond-bad_t2.d: Expected output in Thumb mode.
	* gas/arm/vfp-neon-syntax-inc.s: Test VFP Neon-style syntax.
	* gas/arm/vfp-neon-syntax.s: ...in ARM mode.
	* gas/arm/vfp-neon-syntax_t2.s: ...and Thumb mode.
	* gas/arm/vfp-neon-syntax.d: Expected output in ARM mode.
	* gas/arm/vfp-neon-syntax_t2.d: Expected output in Thumb mode.

2006-06-06  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/thumb2_bcond.d: Update expected output.
	* gas/arm/thumb32.d: Ditto.
	* gas/arm/vfp1_t2.d: Ditto.
	* gas/arm/vfp1xD_t2.d: Ditto.

2006-06-06  Thiemo Seufer  <ths@@mips.com>
            Chao-ying Fu  <fu@@mips.com>

	* gas/mips/mips64-dsp.s, gas/mips/mips64-dsp.d: New DSP64 tests.
	* gas/mips/mips.exp: Run DSP64 tests.

2006-06-05  Thiemo Seufer  <ths@@mips.com>

	* gas/mips/mips32-dsp.d, gas/mips/mips32-dsp.s, gas/mips/mips32-mt.d,
	gas/mips/mips32-mt.s: Remove instructions with invalid arguments.
	* gas/mips/mips32-dsp.l, gas/mips/mips32-mt.l: Delete file.

2006-05-25  Richard Sandiford  <richard@@codesourcery.com>

	* gas/m68k/mcf-fpu.s: Add fmovemd and fmovem instructions.
	* gas/m68k/mcf-fpu.d: Adjust accordingly.

2006-05-25  Jie Zhang  <jie.zhang@@analog.com>
	
	* gas/bfin/vector2.s, gas/bfin/vector2.d: Test to ensure (m) is not
	thrown away.

2006-05-23  Thiemo Seufer  <ths@@mips.com>

	* gas/mips/mips-gp32-fp64-pic.d, mips/mips-gp32-fp64.d,
	gas/mips/mips-gp64-fp32-pic.d, gas/mips/mips-gp64-fp32.l,
	gas/mips/mips-gp64-fp64.d: Adjust test cases to the changes assembler
	output.
	* gas/mips/mips-gp32-fp64.l, gas/mips/mips-gp64-fp32-pic.l: New files,
	catch assembler warnings.

2006-05-22  Nick Clifton  <nickc@@redhat.com>

	* gas/mips/mips32-dsp.l: Fix expected unsigned decoding of -1 in
	warning messages.
	* gas/mips/mips32-mt.l: Likewise.

2006-05-19  Thiemo Seufer  <ths@@mips.com>

	* gas/mips/vxworks1-el.d, gas/mips/vxworks1-xgot-el.d: Add little
	endian testcases.
	* gas/mips/vxworks1.d, gas/mips/vxworks1-xgot.d: Build as big endian.
	* gas/mips/mips.exp: Run new testcases.

2006-05-14  Thiemo Seufer  <ths@@mips.com>
            Nigel Stephens  <nigel@@mips.com>

	* gas/mips/mips.exp: Run new tests.
	* gas/mips/mips16e.s, gas/mips/mips16e.d, gas/mips/mips16e-64.s,
	gas/mips/mips16e-64.d, gas/mips/mips16e-64.l: New tests.

2006-05-11  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/local_function.d: New test.
	* gas/arm/local_function.s: New test.

2006-05-11  Thiemo Seufer  <ths@@mips.com>

	* gas/mips/jal-range.l: Don't check the range of j or jal
	addresses.

2006-05-09  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/x86-64-gidt.d: Adjusted.

2006-05-09  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run x86-64-gidt.

	* gas/i386/x86-64-gidt.d: New file.
	* gas/i386/x86-64-gidt.s: Likewise.

2006-05-09  David Ung  <davidu@@mips.com>

	* gas/mips/jal-range.l: Only warn about an out-of-range j or jal
	address.

2006-05-08  Thiemo Seufer  <ths@@mips.com>

	* gas/mips/mips32.s, gas/mips/mips32.d: Extend testcase to check
	larger offset arguments for cache instructions.

2006-05-08  Thiemo Seufer  <ths@@mips.com>
            Nigel Stephens  <nigel@@mips.com>
            David Ung  <davidu@@mips.com>

	* gas/mips/smartmips.s, gas/mips/smartmips.d: New smartmips test.
	* gas/mips/mips.exp: Run smartmips test.

2006-05-05  Julian Brown  <julian@@codesourcery.com>

	* gas/arm/vfp-neon-overlap.s: New test. Overlapping VFP/Neon
	instructions.
	* gas/arm/vfp-neon-overlap.d: Expected output of above.
	* gas/arm/vfp1xD.d: Test for fldmx/fstmx.
	* gas/arm/vfp1xD_t2.d: Likewise.
	* gas/arm/vfpv3-32drs.d: Likewise.

2006-05-05  Nigel Stephens  <nigel@@mips.com>

	* gas/mips/noreorder.s, gas/mips/noreorder.d: New test for
	reorder/noreorder corner case.
	* gas/mips/mips.exp: Run new test.
	
2006-05-04  Kazu Hirata  <kazu@@codesourcery.com>

	* gas/arm/armv1.d (error-output): New.
	* gas/arm/armv1.l: New.
	* gas/arm/thumb32.d (error-output): New.
	* gas/arm/thumb32.l: New.

2006-05-04  Thiemo Seufer  <ths@@mips.com>
            Nigel Stephens  <nigel@@mips.com>

	* gas/mips/mips.exp: Run mips32-dsp tests only for mips32r2.
	* gas/mips/set-arch.d: Adjust according to opcode table changes.

2006-05-03  Thiemo Seufer  <ths@@mips.com>

	* gas/mips/mips32-mt.d: Fix mftr argument order.

2006-05-02  Joseph Myers  <joseph@@codesourcery.com>

	* gas/arm/iwmmxt.s: Increase offsets for wstrb and wstrh.
	* gas/arm/iwmmxt.d: Update expected results.
	* gas/arm/iwmmxt-bad2.s: Test wstrb, wstrh, wldrb and wldrh.
	* gas/arm/iwmmxt-bad2.l: Update expected error messages.

2006-04-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/fp.d: New file.
	* gas/i386/fp.s: Likewise.

	* gas/i386/i386.exp: Run "fp".

2006-04-28  Thiemo Seufer  <ths@@mips.com>
            David Ung  <davidu@@mips.com>
	    Nigel Stephens  <nigel@@mips.com>

	* gas/mips/cp0sel-names-mips32r2.d,
	gas/mips/cp0sel-names-mips64r2.d: Update for MT register names.

2006-04-26  Julian Brown  <julian@@codesourcery.com>

	* gas/arm/neon-const.s: New testcase. Neon floating-point constants.
	* gas/arm/neon-const.d: Expected output of above.
	* gas/arm/neon-cov.d: Expect floating-point disassembly for VMOV.F32.

2006-04-26  Julian Brown  <julian@@codesourcery.com>

	* gas/arm/neon-psyn.s: Basic test of programmers syntax.
	* gas/arm/neon-psyn.d: Expected output of above.

2006-04-26  Julian Brown  <julian@@codesourcery.com>

	* gas/arm/copro.s: Avoid ldcl which encodes as a bad Neon instruction.
	* gas/arm/copro.d: Update accordingly.
	* gas/arm/neon-cond.s: New test. Conditional Neon opcodes in ARM mode.
	* gas/arm/neon-cond.d: Expected results of above.
	* gas/arm/neon-cov.s: New test. Coverage of Neon instructions.
	* gas/arm/neon-cov.d: Expected results of above.
	* gas/arm/neon-ldst-es.s: New test. Element and structure loads and
	stores.
	* gas/arm/neon-ldst-es.d: Expected results of above.
	* gas/arm/neon-ldst-rm.s: New test. Single and multiple register loads
	and stores.
	* gas/arm/neon-ldst-rm.d: Expected results of above.
	* gas/arm/neon-omit.s: New test. Omission of optional operands.
	* gas/arm/neon-omit.d: Expected results of above.
	* gas/arm/vfp1.d: Expect Neon syntax for some VFP instructions.
	* gas/arm/vfp1_t2.d: Likewise.
	* gas/arm/vfp1xD.d: Likewise.
	* gas/arm/vfp1xD_t2.d: Likewise.
	* gas/arm/vfp2.d: Likewise.
	* gas/arm/vfp2_t2.d: Likewise.
	* gas/arm/vfp3-32drs.s: New test. Extended D register range for VFP
	instructions.
	* gas/arm/vfp3-32drs.d: Expected results of above.
	* gas/arm/vfp3-const-conv.s: New test. VFPv3 constant-load and
	conversion instructions.
	* gas/arm/vfp3-const-conv.d: Expected results of above.

2005-04-20  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/arch7.d: Remove skip.
	* gas/arm/svc.d: Ditto.
	* gas/arm/thumb2_bcond.d: Ditto.
	* gas/arm/thumb2_it_bad.d: Ditto.

2006-04-18  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/2533
	* gas/i386/inval.s: Add test for illegal immediate register
	operand.
	* gas/i386/inval.l: Updated.

2006-04-16  Nick Clifton  <nickc@@redhat.com>

	* gas/arm/arch7.d: Skip test for non-ELF targets.
	* gas/arm/blx-local.d: Likewise.
	* gas/arm/svc.d: Likewise.
	* gas/arm/thumb2_bcond.d: Likewise.
	* gas/arm/thumb2_it_bad.d: Likewise.

2006-04-07  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/blx-local.d: New test.
	* gas/arm/blx-local.d: New test.

2006-04-07  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/thumb2_pool.d: New test.
	* gas/arm/thumb2_pool.s: New test.

2006-04-05  Richard Sandiford  <richard@@codesourcery.com>

	* gas/sparc/vxworks-pic.s, gas/sparc/vxworks-pic.d: New test.
	* gas/sparc/sparc.exp: Run it.  Remove sparc*-*-vxworks* XFAILs.

2006-03-23  Michael Matz  <matz@@suse.de>

	* gas/i386/reloc64.s: Accept 64-bit forms.
	* gas/i386/reloc64.d: Adjust.
	* gas/i386/reloc64.l: Adjust.

2006-03-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/rep.s: Pad with .p2align.
	* gas/i386/rep.d: Adjust.

2006-03-22  Richard Sandiford  <richard@@codesourcery.com>

	* gas/mips/vxworks1.s, gas/mips/vxworks1.d,
	* gas/mips/vxworks1-xgot.d: New tests.
	* gas/mips/mips.exp: Run them.  Do not run other tests on VxWorks.
	
2006-03-21  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/thumb32.d: Correct expected output.

2006-03-20  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/thumb2_bcond.d: New test.
	* gas/arm/thumb2_bcond.s: New test.
	* gas/arm/thumb2_it_bad.d: New test.
	* gas/arm/thumb2_it_bad.l: New test.
	* gas/arm/thumb2_it_bad.s: New test.

2006-03-17  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/thumb32.d: Add ldm and stm tests.
	* gas/arm/thumb32.s: Ditto.

2006-03-16  Bernd Schmidt  <bernd.schmidt@@analog.com>

	* gas/bfin/shift2.s: Add new tests.
	* gas/bfin/shift.d: Match changed disassembler behaviour.
	* gas/bfin/parallel2.d: Likewise.
	* gas/bfin/shift2.d: Likewise; also match new tests.

2006-03-16  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/svc.d: New test.
	* gas/arm/svc.s: New test.
	* gas/arm/inst.d: Accept svc mnemonic.
	* gas/arm/thumb.d: Ditto.
	* gas/arm/wince_inst.d: Ditto.

2006-03-09  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/nomapping.d: New test.
	* gas/arm/nomapping.s: New test.

2006-03-07  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/2428
	* gas/i386/i386.exp: Add rep, rep-suffix, x86-64-rep and
	x86-64-rep-suffix.

	* gas/i386/naked.d: Replace repz with rep.
	* gas/i386/x86_64.d: Likewise.

	* gas/i386/rep-suffix.d: New file. 
	* gas/i386/rep-suffix.s: Likewise.
	* gas/i386/rep.d: Likewise.
	* gas/i386/rep.s: Likewise.
	* gas/i386/x86-64-rep-suffix.d: Likewise.
	* gas/i386/x86-64-rep-suffix.s: Likewise.
	* gas/i386/x86-64-rep.d: Likewise.
	* gas/i386/x86-64-rep.s: Likewise.

2006-03-07  Richard Sandiford  <richard@@codesourcery.com>

	* gas/arm/abs12.s, gas/arm/abs12.d: New test.
	* gas/arm/pic.d: Skip for *-*-vxworks*...
	* gas/arm/pic_vxworks.d: ...use this version instead.
	* gas/arm/unwind_vxworks.d: Fix expected output.

2006-03-06  Nathan Sidwell  <nathan@@codesourcery.com>

	* gas/m68k/arch-cpu-1.s: Tweak.
	* gas/m68k/arch-cpu-1.d: Tweak.

2006-02-28  Jan Beulich  <jbeulich@@novell.com>

	* gas/all/altmacro.s: Adjust.
	* gas/all/altmac2.s: Adjust.

2006-02-28  Jan Beulich  <jbeulich@@novell.com>

	* gas/macros/paren[sd]: New.
	* gas/macros/macros.exp: Run new test.

2006-02-27  H.J. Lu <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Add merom and x86-64-merom.

	* gas/i386/merom.d: New file.
	* gas/i386/merom.s: Likewise.
	* gas/i386/x86-64-merom.d: Likewise.
	* gas/i386/x86-64-merom.s: Likewise.

2006-02-24  David S. Miller  <davem@@sunset.davemloft.net>

	* gas/sparc/rdhpr.s: New test.
	* gas/sparc/rdhpr.d: New test.
	* gas/sparc/wrhpr.s: New test.
	* gas/sparc/wrhpr.d: New test.
	* gas/sparc/window.s: New test.
	* gas/sparc/window.d: New test.
	* gas/sparc/rdpr.s: Add case for reading %gl register.
	* gas/sparc/rdpr.d: Likewise.
	* gas/sparc/wrpr.s: Add case for writing %gl register.
	* gas/sparc/wrpr.d: Likewise.
	* gas/sparc/sparc.exp: Update for new tests.
	
2006-02-24  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/thumb32.d: Fix expected msr and mrs output.
	* gas/arm/arch7.d: New test.
	* gas/arm/arch7.s: New test.
	* gas/arm/arch7m-bad.l: New test.
	* gas/arm/arch7m-bad.d: New test.
	* gas/arm/arch7m-bad.s: New test.

2006-02-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/ia64/opc-i.s: Add tests for tf.
	* gas/ia64/pseudo.s: Likewise.
	* gas/ia64/opc-i.d: Updated.
	* gas/ia64/pseudo.d: Likewise.

2006-02-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/ia64/dv-raw-err.s: Add check for vmsw.0.
	* gas/ia64/dv-raw-err.l: Updated.

	* gas/ia64/opc-b.s: Add vmsw.0 and vmsw.1.
	* gas/ia64/opc-b.d: Updated.

2005-02-22  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/thumb32.d: Fix expected pld opcode.

2006-02-17  Shrirang Khisti  <shrirangk@@kpitcummins.com>
            Anil Paranjape   <anilp1@@kpitcummins.com>
            Shilin Shakti    <shilins@@kpitcummins.com>

	* gas/xc16x: New directory.
	* gas/xc16x/xc16x.exp: New file
	* gas/xc16x/add.s: New file
	* gas/xc16x/add_test.s: New file
	* gas/xc16x/addb.s: New file
	* gas/xc16x/addc.s: New file
	* gas/xc16x/addcb.s: New file   
	* gas/xc16x/and.s: New file
	* gas/xc16x/andb.s: New file
	* gas/xc16x/bfldl.s: New file
	* gas/xc16x/bit.s: New file
	* gas/xc16x/calla.s: New file
	* gas/xc16x/calli.s: New file
	* gas/xc16x/cmp.s: New file  
	* gas/xc16x/cmp_test.s: New file
	* gas/xc16x/cmpb.s: New file
	* gas/xc16x/cmpi.s: New file
	* gas/xc16x/cpl.s: New file
	* gas/xc16x/div.s: New file
	* gas/xc16x/jmpa.s: New file
	* gas/xc16x/jmpi.s: New file
	* gas/xc16x/jmpr.s: New file
	* gas/xc16x/mov.s: New file
	* gas/xc16x/mov_test.s: New file 
	* gas/xc16x/movb.s: New file
	* gas/xc16x/movbs.s: New file
	* gas/xc16x/movbz.s: New file  
	* gas/xc16x/mul.s: New file
	* gas/xc16x/neg.s: New file
	* gas/xc16x/nop.s: New file
	* gas/xc16x/or.s: New file
	* gas/xc16x/orb.s: New file
	* gas/xc16x/prior.s: New file
	* gas/xc16x/pushpop.s: New file
	* gas/xc16x/ret.s: New file
	* gas/xc16x/scxt.s: New file
	* gas/xc16x/shlrol.s: New file
	* gas/xc16x/sub.s: New file
	* gas/xc16x/sub_test.s: New file 
	* gas/xc16x/subb.s: New file
	* gas/xc16x/subcb.s: New file
	* gas/xc16x/syscontrol1.s: New file
	* gas/xc16x/syscontrol2.s: New file
	* gas/xc16x/trap.s: New file
	* gas/xc16x/xor.s: New file
	* gas/xc16x/xorb.s: New file

2006-02-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/x86-64-crx-suffix.d: Undo the last change.

2006-02-11  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Add "x86-64-drx" and "x86-64-drx-suffix".

	* gas/i386/x86-64-crx-suffix.d: Minor update.

	* gas/i386/x86-64-drx-suffix.d: New file.
	* gas/i386/x86-64-drx.d: Likewise.
	* gas/i386/x86-64-drx.s: Likewise.

2006-02-11  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Add "x86-64-crx" and "x86-64-crx-suffix".

	* gas/i386/x86-64-crx-suffix.d: New file.
	* gas/i386/x86-64-crx.d: Likewise.
	* gas/i386/x86-64-crx.s: Likewise.

2006-02-07  Nathan Sidwell  <nathan@@codesourcery.com>

	* gas/m68k/all.exp: Add arch-cpu-1 test.
	* gas/m68k/arch-cpu-1.[sd]: New.

2005-02-02  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/thumb2_invert.d: New test.
	* gas/arm/thumb2_invert.s: New test.

2006-01-31  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/iwmmxt-bad.s: Add check for bad register name.
	* gas/arm/iwmmxt-bad.l: Ditto.

2006-01-18  Arnold Metselaar  <arnoldm@@sourceware.org>

	* gas/z80/z80.exp: Add offset.
	* gas/z80/offset.d: New file.
	* gas/z80/offset.s: New file.

2006-01-16  Paul Brook  <paul@@codesourcery.com>

	* gas/m68k/all.exp: Add mcf-fpu.
	* gas/m68k/mcf-fpu.d: New file.
	* gas/m68k/mcf-fpu.s: New file.

2006-01-11  Nick Clifton  <nickc@@redhat.com>

	* gas/tic54x/address.d: Work with 64bit hosts.
	* gas/tic54x/addrfar.d: Likewise.
	* gas/tic54x/align.d: Likewise.
	* gas/tic54x/all-opcodes.d: Likewise.
	* gas/tic54x/asg.d: Likewise.
	* gas/tic54x/cons.d: Likewise.
	* gas/tic54x/consfar.d: Likewise.
	* gas/tic54x/extaddr.d: Likewise.
	* gas/tic54x/field.d: Likewise.
	* gas/tic54x/labels.d: Likewise.
	* gas/tic54x/loop.d: Likewise.
	* gas/tic54x/lp.d: Likewise.
	* gas/tic54x/macro.d: Likewise.
	* gas/tic54x/math.d: Likewise.
	* gas/tic54x/opcodes.d: Likewise.
	* gas/tic54x/sections.d: Likewise.
	* gas/tic54x/set.d: Likewise.
	* gas/tic54x/struct.d: Likewise.
	* gas/tic54x/subsym.d: Likewise.

2006-01-09  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/2117
	* gas/ia64/ia64.exp: Add ltoff22x-2, ltoff22x-3, ltoff22x-4 and
	ltoff22x-5.

	* gas/ia64/ltoff22x-2.d: New file.
	* gas/ia64/ltoff22x-2.s: Likewise.
	* gas/ia64/ltoff22x-3.d: Likewise.
	* gas/ia64/ltoff22x-3.s: Likewise.
	* gas/ia64/ltoff22x-4.d: Likewise.
	* gas/ia64/ltoff22x-4.s: Likewise.
	* gas/ia64/ltoff22x-5.d: Likewise.
	* gas/ia64/ltoff22x-5.s: Likewise.

2006-01-03  Hans-Peter Nilsson  <hp@@bitrange.com>

	PR gas/2101
	* gas/mmix/hex2.s, gas/mmix/hex2.d: New test.

For older changes see ChangeLog-2005
@


1.1118
log
@2007-01-04  Paul Brook  <paul@@codesourcery.com>

	gas/
	* config/tc-arm.c (do_cpsi): Set mmod bit for 2 argument form.
	gas/testsuite/
	* gas/arm/archv6.s: Add more cpsie tests.
	* gas/arm/archv6.d: Ditto.
	opcodes/
	* arm-dis.c (arm_opcodes): Fix cpsie and cpsid entries.
@
text
@d1 5
@


1.1117
log
@gas/testsuite/:
	* gas/m68k/cpu32.[sd]: New test.
	* gas/m68k/all.exp: Run it.

opcodes/:
	* m68k-opc.c: Fix encoding of signed bit in the cpu32 tbls insns.
@
text
@d1 5
@


1.1116
log
@	* gas/arm/neon-omit.d: Fix expected encodings for vshl, vqshl.
@
text
@d1 5
@


1.1115
log
@2007-01-04  Paul Brook  <paul@@codesourcery.com>

	gas/
	* config/tc-arm.c (NEON_ENC_TAB): Fix encoding of vclt, vcle, vaclt
	and vacle.

	gas/testsuite/
	* gas/arm/neon-cov.d: Adjust expected output.
	* gas/arm/neon-omit.s: Add tests for vcgt and vcle.  Reorder vacle
	and vacle.
	* gas/arm/neon-omit.d: Adjust expected output.
@
text
@d1 4
@


1.1114
log
@gas/

2006-12-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (build_modrm_byte): Handle shift count
	register with 3 operands.

gas/testsuite/

2006-12-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/intel.s: Add tests for "shrd %cl,%edx,%eax" and
	"shld %cl,%edx,%eax".
	* gas/i386/opcode.s: Likewise.

	* gas/i386/intel.d: Updated.
	* gas/i386/opcode-intel.d: Likewise.
	* gas/i386/opcode-suffix.d: Likewise.
	* gas/i386/opcode.d: Likewise.
@
text
@d1 7
@


1.1113
log
@	* gas/m68k/all.exp: Add support for fido.
	* gas/m68k/fido.d, gas/m68k/fido.s: New.
@
text
@d1 11
@


1.1112
log
@	* gas/cfi/cfi-common-6.s: Do not use |.
@
text
@d1 5
@


1.1111
log
@gas/testsuite/

2006-12-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/x86-64-inval.s: cmpxchg16b needs oword ptr, instead
	of xmmword ptr.
	* gas/i386/x86_64.s: Likewise.
	* gas/i386/x86-64-inval.l: Updated.

opcodes/

2006-12-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (o_mode): New for 16-byte operand.
	(intel_operand_size): Generate "OWORD PTR " for o_mode.
	(CMPXCHG8B_Fixup): Set bytemode to o_mode instead of x_mode.
@
text
@d1 4
@


1.1110
log
@gas/testsuite/

2006-12-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/x86-64-inval.s: Add cmpxchg16b.
	* gas/i386/x86_64.s: Likewise.
	* gas/i386/x86-64-inval.l: Updated.
	* gas/i386/x86_64.d: Likewise.

opcodes/

2006-12-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (CMPXCHG8B_Fixup): New.
	(grps): Use CMPXCHG8B_Fixup for cmpxchg8b.
@
text
@d1 7
@


1.1109
log
@gas/

2006-12-13  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/3712
	* config/tc-i386.c (match_template): Use MAX_OPERANDS for the
	number of operands. Issue an error if MAX_OPERANDS != 4. Add
	the 4th operand check.

gas/testsuite/

2006-12-13  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/3712
	* gas/i386/inval.s: Add invalid insertq.
	* gas/i386/x86-64-inval.s: Likewise.

	* gas/i386/inval.l: Updated.
	* gas/i386/x86-64-inval.l: Likewise.
@
text
@d1 7
@


1.1108
log
@        * gas/z8k/reglabel.d: New test.
        * gas/z8k/reglabel.s: New test.
        * gas/z8k/z8k.exp: Run new test.
@
text
@d1 9
@


1.1107
log
@gas/

2006-12-06  H.J. Lu <hjl@@gnu.org>

	* config/tc-i386.h: Change the prefix order to SEG_PREFIX,
	ADDR_PREFIX, DATA_PREFIX, LOCKREP_PREFIX.

gas/testsuite/

2006-12-06  H.J. Lu <hjl@@gnu.org>

	* gas/i386/amdfam10.d: Updated for operand/address-size override
	prefix position change.
	* gas/i386/naked.d: Likewise.
	* gas/i386/rep-suffix.d: Likewise.
	* gas/i386/rep.d: Likewise.
	* gas/i386/white.l: Likewise.
	* gas/i386/x86-64-amdfam10.d: Likewise.
	* gas/i386/x86-64-rep-suffix.d: Likewise.
	* gas/i386/x86-64-rep.d: Likewise.
	* gas/i386/x86_64.d: Likewise.
@
text
@d1 6
@


1.1106
log
@opcodes/
2006-12-04  Jan Beulich  <jbeulich@@novell.com>

	* i386-dis.c (OP_J): Update used_prefixes in v_mode.

gas/testsuite/
2006-12-04  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/opcode-intel.d: Fix wrong expectation. Make white space
	expectations more consistent.
@
text
@d1 13
@


1.1105
log
@gas/testsuite/
2006-12-01  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/opcode.d: Adjust name.
	* gas/i386/opcode-intel.d: New.
	* gas/i386/opcode-suffix.d: New.
	* gas/i386/i386.exp: Run new tests.
@
text
@d1 5
@


1.1104
log
@2006-12-01  Paul Brook  <paul@@codesourcery.com>

	gas/
	* config/tc-arm.c (arm_force_relocation): Return 1 for relocs against
	function symbols.

	gas/testsuite/
	* gas/arm/thumbrel.s: New test.
	* gas/arm/thumbrel.d: New test.
@
text
@d1 7
@


1.1103
log
@opcodes/
2006-11-30  Jan Beulich  <jbeulich@@novell.com>

	* i386-dis.c (SEG_Fixup): Delete.
	(Sv): Use OP_SEG.
	(putop): New suffix character 'D'.
	(dis386): Use it.
	(grps): Likewise.
	(OP_SEG): Handle bytemode other than w_mode.

gas/testsuite/
2006-11-30  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/intel.d: Adjust.
	* gas/i386/naked.d: Adjust.
	* gas/i386/opcode.d: Adjust.
@
text
@d1 5
@


1.1102
log
@opcodes/
2006-11-30  Jan Beulich  <jbeulich@@novell.com>

	* i386-dis.c (zAX): New.
	(Xz): New.
	(Yzr): New.
	(z_mode): New.
	(z_mode_ax_reg): New.
	(putop): New suffix character 'G'.
	(dis386): Use it for in, out, ins, and outs.
	(intel_operand_size): Handle z_mode.
	(OP_REG): Delete unreachable case indir_dx_reg.
	(OP_IMREG): Fix Intel syntax output for case indir_dx_reg. Handle
	z_mode_ax_reg.
	(OP_ESreg): Fix Intel syntax operand size handling.
	(OP_DSreg): Likewise.

gas/testsuite/
2006-11-30  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/x86-64-io.[sd]: New.
	* gas/i386/x86-64-io-intel.d: New.
	* gas/i386/x86-64-io-suffix.d: New.
	* gas/i386/i386.exp: Run new tests.
@
text
@d3 6
@


1.1101
log
@opcodes/
2006-11-30  Jan Beulich  <jbeulich@@novell.com>

	* i386-dis.c (dis386): Use 'R' and 'O' for cbw/cwd unconditionally.
	(putop): For 'O' suffix, print 'q' in Intel mode, and mark data prefix
	used. For 'R' and 'W' suffix, simplify and fix Intel mode.

gas/testsuite/
2006-11-30  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/intel.s: Use Intel syntax in Intel syntax test.
	* gas/i386/x86-64-cbw.[sd]: New.
	* gas/i386/x86-64-cbw-intel.d: New.
	* gas/i386/i386.exp: Run new tests.
@
text
@d3 7
@


1.1100
log
@2006-11-29  Paul Brook  <paul@@codesourcery.com>

	gas/
	* config/tc-arm.c (do_vfp_sp_const, do_vfp_dp_const): Fix operans
	encoding.

	gas/testsuite/
	* gas/arm/vfpv3-const-conv.s: Improve test coverage.
	* gas/arm/vfpv3-const-conv.d: Adjust expected output.
	* gas/arm/vfp-neon-syntax_t2.d: Ditto.
	* gas/arm/vfp-neon-syntax.d: Ditto.

	opcodes/
	* arm-dis.c (coprocessor_opcodes): Fix bitfields for fconstd/fconstd.
@
text
@d1 7
@


1.1099
log
@bfd/
	* elf32-xtensa.c (elf_xtensa_special_sections): Add .xtensa.info.
gas/
	* config/tc-xtensa.c (XSHAL_ABI): Add default definition.
	(directive_state): Disable scheduling by default.
	(xtensa_add_config_info): New.
	(xtensa_end): Call xtensa_add_config_info.
gas/testsuite/
	* gas/elf/section2.e-xtensa: New file.
	* gas/elf/elf.exp: Use it.
include/
	* xtensa-config.h (XSHAL_ABI): New.
	(XTHAL_ABI_WINDOWED, XTHAL_ABI_CALL0): New.
ld/
	* emultempl/xtensaelf.em (XSHAL_ABI): Add default definition.
	(replace_insn_sec_with_prop_sec): Use bfd_make_section_with_flags.
	Delete redundant code to set sections flags and alignment.
	(xt_config_info_unpack_and_check, check_xtensa_info): New.
	(elf_xtensa_after_open): Iterate over input statements instead of
	link_info.input_bfds.
	(elf_xtensa_before_allocation): Likewise.  Call check_xtensa_info for
	each input, and write a new .xtensa.info section in the output.
@
text
@d1 7
@


1.1098
log
@opcodes/
	* arm-dis.c (last_is_thumb): Delete.
	(enum map_type, last_type): New.
	(print_insn_data): New.
	(get_sym_code_type): Take MAP_TYPE argument.  Check the type of
	the right symbol.  Handle $d.
	(print_insn): Check for mapping symbols even without a normal
	symbol.  Adjust searching.  If $d is found see how much data
	to print.  Handle data.
gas/
	* config/tc-arm.h (md_cons_align): Define.
	(mapping_state): New prototype.
	* config/tc-arm.c (mapping_state): Make global.
gas/testsuite/
	* gas/arm/arm7t.d, gas/arm/neon-ldst-rm.d, gas/arm/thumb2_pool.d,
	gas/arm/tls.d: Update for $d support.
	* gas/arm/mapshort.d, gas/arm/mapshort.s: New test.
	* gas/elf/section2.e-armeabi: Update.
	* gas/elf/section2.e-armelf: New file.
	* gas/elf/elf.exp: Use it.
ld/testsuite/
	* ld-arm/mixed-app.d, ld-arm/tls-app.d, ld-arm/tls-lib.d: Update
	for $d support.
@
text
@d1 5
@


1.1097
log
@gas/
	* config/tc-m68k.c (m68k_ip):  Correct output of cpu aliases.
gas/testsuite/
	* gas/m68k/all.exp: Add mcf-trap.
	* gas/m68k/mcf-trap.[sd]: New.
opcodes/
	* m68k-opc.c (m68k_opcodes): Place trap instructions before set
	conditionals.  Add tpf coldfire instruction as alias for trapf.
@
text
@d1 9
@


1.1096
log
@gas/
2006-11-15  Jan Beulich  <jbeulich@@novell.com>

	PR/3469
	* symbols.c (symbol_clone): Mark symbol ending up not on symbol
	chain by linking it to itself.
	(resolve_symbol_value): Also check symbol_shadow_p().
	(symbol_shadow_p): New.
	* symbols.h (symbol_shadow_p): Declare.

gas/testsuite/
2006-11-15  Jan Beulich  <jbeulich@@novell.com>

	* gas/elf/equ-reloc.[sd]: New.
	* gas/elf/elf.exp: Run new test.
@
text
@d1 5
@


1.1095
log
@2006-11-10  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/merom.d: Use "#pass" instead of "#..." to skip the
	rest of output.
	* gas/i386/x86-64-merom.d: Likewise.
@
text
@d1 5
@


1.1094
log
@	* gas/cfi/cfi.exp: Don't run cfi-common-6 for mips*-*.
@
text
@d1 6
@


1.1093
log
@* config/tc-arm.c (arm_fix_adjustable) [OBJ_COFF]: Delete.
  (arm_fix_adjustable) [OBJ_ELF]: Use it on coff targets too.
* gas/arm/local_label_coff.s: New test.
* gas/arm/local_label_coff.d: New test.
* gas/arm/local_label_elf.s: New test.
* gas/arm/local_label_elf.d: New test.
* gas/arm/local_label_wince.s: New test.
* gas/arm/local_label_wince.d: New test.
@
text
@d1 4
@


1.1092
log
@ * pe-arm-wince.c (LOCAL_LABEL_PREFIX): Define as ".".
 * pei-arm-wince.c (LOCAL_LABEL_PREFIX): Likewise.
 * coff-arm.c (LOCAL_LABEL_PREFIX): Only define if not defined before.
 * gas/arm/undefined.d: Run test on Windows CE.
 * gas/arm/undefined_coff.d: Don't run test on Windows CE.
@
text
@d6 7
@


1.1091
log
@2006-11-09  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/sse2.s: Test movdqa with memory destination.
	* gas/i386/sse2.d: Updated.
@
text
@d1 5
@


1.1090
log
@2006-11-09  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/sse2.s: Test movdqu with memory destination.
	* gas/i386/sse2.d: Updated.
@
text
@d3 5
@


1.1089
log
@gas:
	* config/tc-mips.c (pic_need_relax): Return true for section symbols.

gas/testsuite:
	* gas/mips/elf-rel26.s: New test.
	* gas/mips/elf-rel26.d: Ditto.
	* gas/mips/mips.exp: Run it.
@
text
@d1 5
@


1.1088
log
@	* dw2gencfi.c (struct fde_entry): Add per_encoding, lsda_encoding,
	personality and lsda.
	(struct cie_entry): Add per_encoding, lsda_encoding and personality.
	(alloc_fde_entry): Initialize per_encoding and lsda_encoding.
	(cfi_pseudo_table): Handle .cfi_personality and .cfi_lsda.
	(dot_cfi_personality, dot_cfi_lsda, encoding_size): New functions.
	(output_cie): Output personality including its encoding and LSDA encoding.
	(output_fde): Output LSDA.
	(select_cie_for_fde): Don't share CIE if personality, its encoding or
	LSDA encoding are different.  Copy the 3 fields from fde_entry to
	cie_entry.
	* doc/as.texinfo (.cfi_personality, .cfi_lsda): Document.

	* gas/cfi/cfi-common-6.d: New test.
	* gas/cfi/cfi-common-6.s: New.
	* gas/cfi/cfi.exp: Add cfi-common-6 test.
@
text
@d1 6
@


1.1087
log
@	* subsegs.h (struct frchain): Add frch_cfi_data field.
	* dw2gencfi.c: Include subsegs.h.
	(cur_fde_data, last_address, cur_cfa_offset, cfa_save_stack): Removed.
	(struct frch_cfi_data): New type.
	(unused_cfi_data): New variable.
	(alloc_fde_entry): Move cur_fde_data, last_address, cur_cfa_offset
	and cfa_save_stack static vars into a structure pointed from
	each frchain.
	(alloc_cfi_insn_data, cfi_new_fde, cfi_end_fde, cfi_set_return_column,
	cfi_add_advance_loc, cfi_add_CFA_def_cfa, cfi_add_CFA_def_cfa_offset,
	cfi_add_CFA_remember_state, cfi_add_CFA_restore_state, dot_cfi,
	dot_cfi_escape, dot_cfi_startproc, dot_cfi_endproc, cfi_finish):
	Likewise.

	* gas/cfi/cfi-common-5.d: New test.
	* gas/cfi/cfi-common-5.s: New.
	* gas/cfi/cfi.exp: Add cfi-common-5 test.
@
text
@d3 4
@


1.1086
log
@	[ bfd/ChangeLog ]
	* elf-bfd.h (local_call_stubs): New member.
	* elfxx-mips.c (FN_STUB_P, CALL_STUB_P, CALL_FP_STUB_P): New macros.
	(mips_elf_calculate_relocation): Handle local mips16 call stubs.
	(mips16_stub_section_p): Rename from mips_elf_stub_section_p, use
	the new stub macros.
	(_bfd_mips_elf_check_relocs): Handle call stubs for code which
	mixes mips16 and mips32 functions. Use mips16_stub_section_p. Mark
	used stubs with SEC_KEEP. Use the new stub macros.

	[ gas/testsuite/ChangeLog ]
	* gas/mips/mips16-intermix.d, gas/mips/mips16-intermix.s: New
	testcase.
	* gas/mips/mips.exp: Run new testcase.

	[ ld/testsuite/ChangeLog ]
	* ld-mips-elf/mips16-intermix-1.s, ld-mips-elf/mips16-intermix-2.s,
	ld-mips-elf/mips16-intermix.d: New testcase.
	* ld-mips-elf/mips-elf.exp (mips16_intermix_test): Run new testcases.
@
text
@d1 6
@


1.1085
log
@* tc-score.c (do16_rdrs): Handle not! instruction especially.
* score-opc.h (score_opcodes): Delete modifier '0x'.
* gas/score/rD_rA.d: Correct not! and not.c instruction disassembly.
* gas/score/b.d: Correct b! and b instruction disassembly.
@
text
@d1 6
@


1.1084
log
@2006-10-29  Randolph Chung  <tausq@@debian.org>

	* gas/cfi/cfi.exp [hppa*-linux*]: Run hppa CFI test.
	* gas/cfi/cfi-hppa-1.s: New file.
	* gas/cfi/cfi-hppa-1.h: New file.
@
text
@d1 5
d45 1
a45 1
	* testsuite/gas/arm/neon-cov.s: Test pseudo-instruction forms of
d47 1
a47 1
	* testsuite/gas/arm/neon-cov.d: ditto.
d836 2
a837 2
	* testsuite/gas/m68k/all.exp: Add arch-cpu-1 test.
	* testsuite/gas/m68k/arch-cpu-1.[sd]: New.
d846 2
a847 2
	* gas/testsuite/gas/arm/iwmmxt-bad.s: Add check for bad register name.
	* gas/testsuite/gas/arm/iwmmxt-bad.l: Ditto.
@


1.1083
log
@Add powerpc cell support.
@
text
@d1 6
@


1.1082
log
@Fix AMDFAM10 POPCNT instruction
@
text
@d1 6
@


1.1081
log
@	* gas/sh/sh64/syntax-1.d: Update.

	* ld-sh/sh64/abi32.xd, ld-sh/sh64/abi64.xd, ld-sh/sh64/cmpct1.xd,
	* ld-sh/sh64/crange1.rd, ld-sh/sh64/crange2.rd,
	* ld-sh/sh64/crange3-cmpct.rd, ld-sh/sh64/crange3-media.rd,
	* ld-sh/sh64/crange3.rd, ld-sh/sh64/crangerel1.rd,
	* ld-sh/sh64/crangerel2.rd, ld-sh/sh64/mix1.xd,
	* ld-sh/sh64/mix2.xd, ld-sh/sh64/rel32.xd, ld-sh/sh64/rel64.xd,
	* ld-sh/sh64/reldl32.rd, ld-sh/sh64/reldl64.rd,
	* ld-sh/sh64/shdl32.xd, ld-sh/sh64/shdl64.xd: Update.
@
text
@d1 6
@


1.1080
log
@2006-10-20  Andrew Stubbs  <andrew.stubbs@@st.com>

opcodes/

	* sh-dis.c (print_insn_sh): Remove 0x from output to prevent GDB
	duplicating it.

gas/testsuite/

	* gas/sh/pcrel-coff.d: Update patterns (remove 0x on addresses).
	* gas/sh/pcrel-hms.d: Likewise.
	* gas/sh/pcrel.d: Likewise.
	* gas/sh/pcrel2.d: Likewise.
	* gas/sh/pic.d: Likewise.
	* gas/sh/tlsd.d: Likewise.
	* gas/sh/tlsdnopic.d: Likewise.
	* gas/sh/tlsdpic.d: Likewise.
@
text
@d1 4
@


1.1079
log
@2006-10-16  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Indent "x86-64-nops-1".
@
text
@d1 11
@


1.1078
log
@2006-10-08  Paul Brook  <paul@@codesourcery.com>

	gas/
	* config/tc-arm.c (parse_big_immediate): 64-bit host fix.
	(parse_operands): Use parse_big_immediate for OP_NILO.
	(neon_cmode_for_logic_imm): Try smaller element sizes.
	(neon_cmode_for_move_imm): Ditto.
	(do_neon_logic): Handle .i64 pseudo-op.

	gas/testsuite/
	* testsuite/gas/arm/neon-cov.s: Test pseudo-instruction forms of
	vmov, vmvn and logic immediate instructions.
	* testsuite/gas/arm/neon-cov.d: ditto.
@
text
@d1 4
@


1.1077
log
@* config/tc-arm.c (md_apply_fix): do not clear write_back bit
* gas/arm/iwmmxt-wldstbh.s: New file.
* gas/arm/iwmmxt-wldstbh.d: New file.
@
text
@d1 6
@


1.1076
log
@bfd/
2006-09-26  Mark Shinwell  <shinwell@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>
            Ian Lance Taylor  <ian@@wasabisystems.com>
            Ben Elliston  <bje@@wasabisystems.com>

	* archures.c: Add definition for bfd_mach_arm_iWMMXt2.
	* cpu-arm.c (processors): Add bfd_mach_arm_iWMMXt2.
	(arch_info_struct, bfd_arm_update_notes): Likewise.
	(architectures): Likewise.
	(bfd_arm_merge_machines): Check for iWMMXt2.
	* bfd-in2.h: Rebuild.

gas/
2006-09-26  Mark Shinwell  <shinwell@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>
            Ian Lance Taylor  <ian@@wasabisystems.com>
            Ben Elliston  <bje@@wasabisystems.com>

	* config/tc-arm.c (arm_cext_iwmmxt2): New.
	(enum operand_parse_code): New code OP_RIWR_I32z.
	(parse_operands): Handle OP_RIWR_I32z.
	(do_iwmmxt_wmerge): New function.
	(do_iwmmxt_wldstd): Handle iwmmxt2 case where second operand is
	a register.
	(do_iwmmxt_wrwrwr_or_imm5): New function.
	(insns): Mark instructions as RIWR_I32z as appropriate.
	Also add torvsc<b,h,w>, wabs<b,h,w>, wabsdiff<b,h,w>,
	waddbhus<l,m>, waddhc, waddwc, waddsubhx, wavg4{r}, wmaddu{x,n},
	wmadds{x,n}, wmerge, wmiaxy{n}, wmiawxy{n}, wmul<sm,um>{r},
	wmulw<um,sm,l>{r}, wqmiaxy{n}, wqmulm{r}, wqmulwm{r}, wsubaddhx.
	(md_begin): Handle IWMMXT2.
	(arm_cpus): Add iwmmxt2.
	(arm_extensions): Likewise.
	(arm_archs): Likewise.

gas/testsuite/
2006-09-26  Mark Shinwell  <shinwell@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>
            Ian Lance Taylor  <ian@@wasabisystems.com>
            Ben Elliston  <bje@@wasabisystems.com>

	* gas/arm/iwmmxt2.s: New file.
	* gas/arm/iwmmxt2.d: New file.

include/opcode/
2006-09-26  Mark Shinwell  <shinwell@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>
            Ian Lance Taylor  <ian@@wasabisystems.com>
            Ben Elliston  <bje@@wasabisystems.com>

	* arm.h (ARM_CEXT_IWMMXT2, ARM_ARCH_IWMMXT2): Define.

opcodes/
2006-09-26  Mark Shinwell  <shinwell@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>
            Ian Lance Taylor  <ian@@wasabisystems.com>
            Ben Elliston  <bje@@wasabisystems.com>

	* arm-dis.c (coprocessor_opcodes): The X-qualifier to WMADD may
	only be used with the default multiply-add operation, so if N is
	set, don't bother printing X.  Add new iwmmxt instructions.
	(IWMMXT_INSN_COUNT): Update.
	(iwmmxt_wwssnames): Qualify "wwss" names at index 2, 6, 10 and 14
	with a 'c' suffix.
	(print_insn_coprocessor): Check for iWMMXt2.  Handle format
	specifiers 'r', 'i'.
@
text
@d1 5
@


1.1075
log
@gas/

2006-09-23  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/3235
	* config/tc-i386.c (match_template): Check address size prefix
	to turn Disp64/Disp32/Disp16 operand into Disp32/Disp16/Disp32
	operand.

gas/testsuite/

2006-09-23  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/3235
	* gas/i386/addr16.d: New file.
	* gas/i386/addr16.s: Likewise.
	* gas/i386/addr32.d: Likewise.
	* gas/i386/addr32.s: Likewise.

	* gas/i386/i386.exp: Add "addr16" and "addr32".

	* gas/i386/x86-64-addr32.s: Add tests for "add32 mov".
	* gas/i386/x86-64-addr32.d: Updated.

opcodes/

2006-09-23  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/3235
	* i386-dis.c (OP_OFF64): Get 32bit offset if there is an
	address size prefix.
@
text
@d1 8
@


1.1074
log
@Add x86_64-mingw64 target
@
text
@d1 13
@


1.1073
log
@	* gas/bfin/load.s, gas/bfin/load.d: Add constant folding tests.
@
text
@d1 15
@


1.1072
log
@Add support for Score target.
@
text
@d1 4
@


1.1071
log
@2006-09-16  Paul Brook  <paul@@codesourcery.com>

	gas/
	* config/tc-arm.c (s_arm_unwind_movsp): Add offset argument.
	* doc/c-arm.texi (movsp): Document offset argument.

	gas/testsuite/
	* gas/arm/unwind.s: Test two argument form of .movsp.
	* gas/arm/unwind.d: Update expected output.
	* gas/arm/unwind_vxworks.d: Ditto.
@
text
@d1 6
@


1.1070
log
@	* lib/gas-dg.exp (gas-dg-test): Treat $dir as a literal.
@
text
@d1 6
@


1.1069
log
@2006-09-08  Paul Brook  <paul@@codesourcery.com>

	gas/
	* config/tc-arm.c (insns): Allow ARM IT pseudo-insn on all cores.

	gas/testsuite/
	* gas/arm/arm-it.s: New test.
	* gas/arm/arm-it.d: New test.
@
text
@d1 4
@


1.1068
log
@2006-09-07  Paul Brook  <paul@@codesourcery.com>

	gas/
	* config/tc-arm.c (parse_operands): Mark operand as present.

	gas/testsuite/
	* gas/arm/neon-omit.s: Test three-argument variants.
	* gas/arm/neon-omit.d: Update expected output.
@
text
@d1 5
@


1.1067
log
@2006-09-04  Paul Brook  <paul@@codesourcery.com>

	gas/
	* config/tc-arm.c (do_neon_dyadic_if_i): Remove.
	(do_neon_dyadic_if_i_d): Avoid setting U bit.
	(do_neon_mac_maybe_scalar): Ditto.
	(do_neon_dyadic_narrow): Force operand type to NT_integer.
	(insns): Remove out of date comments.

	gas/testsuite/
	* gas/arm/neon-cov.s: Test .u and .s aliases for .i suffixes.
	* gas/arm/neon-cov.d: Adjust expected output.

	opcodes/
	* arm-dis.c (neon_opcode): Fix suffix on VMOVN.
@
text
@d1 5
@


1.1066
log
@gas:
	* config/tc-arm.c (s_arm_unwind_save_mmxwr): Correct condition for
	merging with previous long opcode.

gas/testsuite:
	* gas/arm/unwind.s: Test not merging iWMMXt register save with
	previous long opcode.
	* gas/arm/unwind.d, gas/arm/unwind_vxworks.d: Update.
@
text
@d1 5
@


1.1065
log
@	* gas/arm/noarm.s: Add test for disabled ARM insns.
	* gas/arm/noarm.d: Drive test for above.
	* gas/arm/noarm.l: Expected error output.
@
text
@d1 6
@


1.1064
log
@	[ ChangeLog ]
	* config.sub: Add support for sde as alias of mipsisa32-sde-elf.

	[ bfd/ChangeLog ]
	* config.bfd: Add configurations for mips*el-sde-elf* and
	mips*-sde-elf*.

	[ binutils/testsuite/ChangeLog ]
	* binutils-all/readelf.exp (readelf_test): Handle mips*-sde-elf*.

	[ gas/ChangeLog ]
	* configure.tgt: Handle mips*-sde-elf*.

	[ gas/testsuite/ChangeLog ]
	* gas/mips/mips.exp: Handle mips*-sde-elf*.
@
text
@d1 6
@


1.1063
log
@Fix bug 3000
@
text
@d1 7
a7 1
2006-08-04	Dwarakanath Rajagopal	<dwarak.rajagopal@@amd.com>
d9 1
a9 1
	* sse2.d : Fixed the correct result for cvtpi2pd,cvtpd2pi 
@


1.1062
log
@	[ gas/ChangeLog ]
	* config/tc-mips.c (mips16_ip): Fix argument register handling
	for restore instruction.

	[ gas/testsuite/ChangeLog ]
	* gas/mips/mips16-save.d: Fix testcase.
@
text
@d1 5
@


1.1061
log
@gas/ChangeLog:
	* dwarf2dbg.c (DWARF2_USE_FIXED_ADVANCE_PC): New.
	(out_sleb128): New.
	(out_fixed_inc_line_addr): New.
	(process_entries): Use out_fixed_inc_line_addr when
	DWARF2_USE_FIXED_ADVANCE_PC is set.
	* config/tc-xtensa.h (DWARF2_USE_FIXED_ADVANCE_PC): Define.
gas/testsuite/ChangeLog:
	* gas/lns/lns-common-1-alt.d: New file.
	* gas/lns/lns.exp: Use lns-common-1-alt.d for xtensa targets.
@
text
@d1 4
@


1.1060
log
@* gas/arm/thumb2_add.s: Don't use elf specific ".type" pseudo-op.
@
text
@d1 5
@


1.1059
log
@* gas/arm/wince.s: New test.
* gas/arm/wince.d: New test.
@
text
@d6 3
@


1.1058
log
@gas:
	* config/tc-arm.c (parse_operands): Handle invalid register name
	for OP_RIWR_RIWC.

gas/testsuite:
	* gas/arm/iwmmxt-bad.s: Test invalid register names for wldrw and
	wstrw.
	* gas/arm/iwmmxt-bad.l: Update.
@
text
@d1 5
@


1.1057
log
@gas:
	* config/tc-arm.c (enum operand_parse_code): Add OP_RIWC_RIWG.
	(parse_operands): Handle it.
	(insns): Use it for tmcr and tmrc.

gas/testsuite:
	* gas/arm/iwmmxt.s: Test tmcr and tmrc with wcgr registers.
	* gas/arm/iwmmxt.d: Update.
@
text
@d3 6
@


1.1056
log
@gas/

2006-08-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (md_assemble): Don't update
	cpu_arch_isa_flags.

gas/testsuite/

2006-08-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/nops-2-i386.d: Updated.
	* gas/i386/nops-2-merom.d: Likewise.
	* gas/i386/nops-2.d: Likewise.
@
text
@d1 5
@


1.1055
log
@opcodes/
	* m68k-opc.c (m68k_opcodes): Fix operand specificer in the Coldfire
	"fdaddl" entry.

gas/testsuite/
	* gas/m68k/mcf-fpu.s: Add tests for all addressing modes.
	* gas/m68k/mcf-fpu.d: Update accordingly.
@
text
@d1 6
@


1.1054
log
@Update amd family 10 instructions to add appropriate alignment for cygwin
@
text
@d1 5
@


1.1053
log
@2006-07-19  Paul Brook  <paul@@codesourcery.com>

	gas/
	* config/tc-arm.c (insns): Fix rbit Arm opcode.
	gas/testsuite/
	* gas/arm/archv6t2.d: Adjust expected output for rbit.
	opcodes/
	* armd-dis.c (arm_opcodes): Fix rbit opcode.
@
text
@d1 9
@


1.1052
log
@gas/testsuite/

2006-07-18  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/opcode.s: Add sldt, smsw and str.
	* gas/i386/x86-64-opcode.s: Likewise.

	* gas/i386/opcode.d: Updated.
	* gas/i386/x86-64-opcode.d: Likewise.

opcodes/

2006-07-18  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (grps): Change "sldtQ", "strQ" and "smswQ" to
	"sldt", "str" and "smsw".
@
text
@d1 4
@


1.1051
log
@2006-07-18  Paul Brook  <paul@@codesourcery.com>

	bfd/
	* bfd-in2.h: Regenerate.
	* libbfd.h: Regenerate.
	* reloc.c: Add BFD_RELOC_ARM_T32_ADD_IMM.

	gas/
	* tc-arm.c (do_t_add_sub): Use addw/subw when source is PC.
	(md_convert_frag): Use correct reloc for add_pc.  Use
	BFD_RELOC_ARM_T32_ADD_IMM for normal add/sum.
	(md_apply_fix): Handle BFD_RELOC_ARM_T32_ADD_IMM.
	(arm_force_relocation): Handle BFD_RELOC_ARM_T32_ADD_IMM.

	gas/testsuite/
	* gas/arm/thumb2_add.d: New test.
	* gas/arm/thumb2_add.s: New test.
@
text
@d1 8
@


1.1050
log
@	* gas/mips/mips4.s, gas/mips/mips4.d: Enable the "pref" test.  Change
	arguments for "madd.s" so that the instruction is correct for mips1
	and still matches "bc3*".
@
text
@d1 5
@


1.1049
log
@Add amdfam10 instructions
@
text
@d1 6
@


1.1048
log
@* config/tc-sh.c (md_apply_fix): Do not allow the generic code in
  fixup_segment() to repeat a range check on a value that have already
  been checked here.
* gas/sh/basic.exp: Run "too_large" dump test.
* gas/sh/too_large.s: New test file.  Check that .byte directives do not
  generate a bogus overflow message.
* gas/sh/too_large.s: New test control file.
@
text
@d1 8
@


1.1047
log
@    * gas/arm/vfp-neon-syntax.d: Tweak expected fmsrr syntax.
    * gas/arm/vfp-neon-syntax_t2.d: Likewise.
    * gas/arm/vfp2.d: Likewise.
    * gas/arm/vfp2_t2.d: Likewise.
@
text
@d1 7
@


1.1046
log
@	* gas/mips/e32-rel2.d, gas/mips/e32-rel4.d: Use -mabi=32 for as.
	* gas/mips/mips.exp: Move mips16e testcase to ELF only tests.
	Run elf{el}-rel2 and elf-rel4 for all arches with gpr64. Run
	e32-rel2 and e32-rel4 also for 64 bit configurations.
@
text
@d1 7
@


1.1045
log
@gas/

2006-06-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (cpu_arch_tune_set): New.
	(cpu_arch_isa): Likewise.
	(i386_align_code): Use xchg %ax,%ax for 2 byte nop. Optimize
	nops with short or long nop sequences based on -march=/.arch
	and -mtune=.
	(set_cpu_arch): Set cpu_arch_isa.  If cpu_arch_tune_set is 0,
	set cpu_arch_tune and cpu_arch_tune_flags.
	(md_parse_option): For -march=, set cpu_arch_isa and set
	cpu_arch_tune and cpu_arch_tune_flags if cpu_arch_tune_set is
	0.  Set cpu_arch_tune_set to 1 for -mtune=.
	(i386_target_format): Don't set cpu_arch_tune.

gas/testsuite/

2006-06-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run nops-1, nops-1-i386, nops-1-i686,
	nops-1-merom, nops-2, nops-2-i386, nops-2-merom, x86-64-nops-1,
	x86-64-nops-1-k8, x86-64-nops-1-nocona and x86-64-nops-1-merom.

	* gas/i386/nops-1.s: New file.
	* gas/i386/nops-2.s: Likewise.
	* gas/i386/nops-1-i386.d: Likewise.
	* gas/i386/nops-1-i686.d: Likewise.
	* gas/i386/nops-1-merom.d: Likewise.
	* gas/i386/nops-1.d: Likewise.
	* gas/i386/nops-2-i386.d: Likewise.
	* gas/i386/nops-2-merom.d: Likewise.
	* gas/i386/nops-2.d: Likewise.
	* gas/i386/x86-64-nops-1.s: Likewise.
	* gas/i386/x86-64-nops-1-k8.d: Likewise.
	* gas/i386/x86-64-nops-1-merom.d: Likewise.
	* gas/i386/x86-64-nops-1-nocona.d: Likewise.
	* gas/i386/x86-64-nops-1.d: Likewise.

	* gas/i386/sse2.d: Updated to expect xchg %ax,%ax as 2 byte
	nop.
@
text
@d1 7
@


1.1044
log
@	* gas/mips/mips.exp: Explicitly specify o32 ABI.
	* gas/mips/mips64-dsp.d: Dump o32 register names.
	* gas/mips/smartmips.d: Explicitly specify o32 ABI.
@
text
@d1 24
@


1.1043
log
@Skip for non-ELF targets.
@
text
@d1 6
@


1.1042
log
@	* include/elf/arm.h: Correct names of R_ARM_LDC_G{0,1,2}
	to R_ARM_LDC_SB_G{0,1,2} respectively.

bfd/
	* bfd-in2.h: Regenerate.
	* elf32-arm.c (R_ARM_ALU_PC_G0_NC, R_ARM_ALU_PC_G0,
	R_ARM_ALU_PC_G1_NC, R_ARM_ALU_PC_G1, R_ARM_ALU_PC_G2,
	R_ARM_LDR_PC_G1, R_ARM_LDR_PC_G2, R_ARM_LDRS_PC_G0,
	R_ARM_LDRS_PC_G1, R_ARM_LDRS_PC_G2, R_ARM_LDC_PC_G0,
	R_ARM_LDC_PC_G1, R_ARM_LDC_PC_G2, R_ARM_ALU_SB_G0_NC,
	R_ARM_ALU_SB_G0, R_ARM_ALU_SB_G1_NC, R_ARM_ALU_SB_G1,
	R_ARM_ALU_SB_G2, R_ARM_LDR_SB_G0, R_ARM_LDR_SB_G1,
	R_ARM_LDR_SB_G2, R_ARM_LDRS_SB_G0, R_ARM_LDRS_SB_G1,
	R_ARM_LDRS_SB_G2, R_ARM_LDC_SB_G0, R_ARM_LDC_SB_G1,
	R_ARM_LDC_SB_G2): New relocation types.
	(R_ARM_PC13): Rename to AAELF name R_ARM_LDR_PC_G0 and
	adjust HOWTO entry to be consistent with R_ARM_LDR_PC_G1
	and friends.
	(elf32_arm_howto_table_3): Delete; contents merged into
	elf32_arm_howto_table_2.
	(elf32_arm_howto_from_type): Adjust correspondingly.
	(elf32_arm_reloc_map): Extend with the above relocations.
	(calculate_group_reloc_mask): New function.
	(identify_add_or_sub): New function.
	(elf32_arm_final_link_relocate): Support for the above
	relocations.
	* reloc.c: Add enumeration entries for BFD_RELOC_ARM_...
	codes to correspond to the above relocations.

gas/
	* config/tc-arm.c (enum parse_operand_result): New.
	(struct group_reloc_table_entry): New.
	(enum group_reloc_type): New.
	(group_reloc_table): New array.
	(find_group_reloc_table_entry): New function.
	(parse_shifter_operand_group_reloc): New function.
	(parse_address_main): New function, incorporating code
	from the old parse_address function.  To be used via...
	(parse_address): wrapper for parse_address_main; and
	(parse_address_group_reloc): new function, likewise.
	(enum operand_parse_code): New codes OP_SHG, OP_ADDRGLDR,
	OP_ADDRGLDRS, OP_ADDRGLDC.
	(parse_operands): Support for these new operand codes.
	New macro po_misc_or_fail_no_backtrack.
	(encode_arm_cp_address): Preserve group relocations.
	(insns): Modify to use the above operand codes where group
	relocations are permitted.
	(md_apply_fix): Handle the group relocations
	ALU_PC_G0_NC through LDC_SB_G2.
	(tc_gen_reloc): Likewise.
	(arm_force_relocation): Leave group relocations for the linker.
	(arm_fix_adjustable): Likewise.

gas/testsuite/
	* gas/arm/group-reloc-alu.d: New test.
	* gas/arm/group-reloc-alu-encoding-bad.d: New test.
	* gas/arm/group-reloc-alu-encoding-bad.l: New test.
	* gas/arm/group-reloc-alu-encoding-bad.s: New test.
	* gas/arm/group-reloc-alu-parsing-bad.d: New test.
	* gas/arm/group-reloc-alu-parsing-bad.l: New test.
	* gas/arm/group-reloc-alu-parsing-bad.s: New test.
	* gas/arm/group-reloc-alu.s: New test.
	* gas/arm/group-reloc-ldc.d: New test.
	* gas/arm/group-reloc-ldc-encoding-bad.d: New test.
	* gas/arm/group-reloc-ldc-encoding-bad.l: New test.
	* gas/arm/group-reloc-ldc-encoding-bad.s: New test.
	* gas/arm/group-reloc-ldc-parsing-bad.d: New test.
	* gas/arm/group-reloc-ldc-parsing-bad.l: New test.
	* gas/arm/group-reloc-ldc-parsing-bad.s: New test.
	* gas/arm/group-reloc-ldc.s: New test.
	* gas/arm/group-reloc-ldr.d: New test.
	* gas/arm/group-reloc-ldr-encoding-bad.d: New test.
	* gas/arm/group-reloc-ldr-encoding-bad.l: New test.
	* gas/arm/group-reloc-ldr-encoding-bad.s: New test.
	* gas/arm/group-reloc-ldr-parsing-bad.d: New test.
	* gas/arm/group-reloc-ldr-parsing-bad.l: New test.
	* gas/arm/group-reloc-ldr-parsing-bad.s: New test.
	* gas/arm/group-reloc-ldr.s: New test.
	* gas/arm/group-reloc-ldrs.d: New test.
	* gas/arm/group-reloc-ldrs-encoding-bad.d: New test.
	* gas/arm/group-reloc-ldrs-encoding-bad.l: New test.
	* gas/arm/group-reloc-ldrs-encoding-bad.s: New test.
	* gas/arm/group-reloc-ldrs-parsing-bad.d: New test.
	* gas/arm/group-reloc-ldrs-parsing-bad.l: New test.
	* gas/arm/group-reloc-ldrs-parsing-bad.s: New test.
	* gas/arm/group-reloc-ldrs.s: New test.

ld/testsuite/
	* ld-arm/group-relocs-alu-bad.d: New test.
	* ld-arm/group-relocs-alu-bad.s: New test.
	* ld-arm/group-relocs.d: New test.
	* ld-arm/group-relocs-ldc-bad.d: New test.
	* ld-arm/group-relocs-ldc-bad.s: New test.
	* ld-arm/group-relocs-ldr-bad.d: New test.
	* ld-arm/group-relocs-ldr-bad.s: New test.
	* ld-arm/group-relocs-ldrs-bad.d: New test.
	* ld-arm/group-relocs-ldrs-bad.s: New test.
	* ld-arm/group-relocs.s: New test.
	* ld-arm/arm-elf.exp: Wire in new tests.
@
text
@d1 15
@


1.1041
log
@	* gas/mips/elf-rel6.d, gas/mips/elf-rel6.s: Extend testcase.
	* gas/mips/elf-rel6.d-n32.d, gas/mips/elf-rel6-n64.d: New files.
	* gas/mips/mips.exp: Run new testcases.
@
text
@d1 35
@


1.1040
log
@	* gas/mips/mips16e-jrc.d, gas/mips/mips16e-save.d,
	gas/mips/mips32-dsp.d, gas/mips/mips32-mt.d: Explicitly specify
	o32 ABI.
@
text
@d2 7
@


1.1039
log
@gas/testsuite/

2006-06-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run nops and x86-64-nops.

	* gas/i386/nops.d: New file.
	* gas/i386/nops.s: Likewise.
	* gas/i386/x86-64-nops.d: Likewise.
	* gas/i386/x86-64-nops.s: Likewise.

include/opcode/

2006-06-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386.h (i386_optab): Add "nop" with memory reference.

opcodes/

2006-06-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (dis386_twobyte): Use "nopQ" for 0x1f.
	(twobyte_has_modrm): Set 1 for 0x1f.
@
text
@d1 6
@


1.1038
log
@gas/

2006-06-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (process_suffix): Don't add rex64 for
	"xchg %rax,%rax".

gas/testsuite/

2006-06-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/opcode.s: Add "xchg %ax,%ax".
	* gas/i386/opcode.d: Updated.

	* gas/i386/x86-64-opcode.s: Add xchg %ax,%ax, xchg %eax,%eax,
	xchg %rax,%rax, rex64 xchg %rax,%rax and xchg %rax,%r8.
	* gas/i386/x86-64-opcode.d: Updated.

include/opcode/

2006-06-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386.h (i386_optab): Update comment for 64bit NOP.

opcodes/

2006-06-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (NOP_Fixup): Removed.
	(NOP_Fixup1): New.
	(NOP_Fixup2): Likewise.
	(dis386): Use NOP_Fixup1 and NOP_Fixup2 on 0x90.
@
text
@d3 9
@


1.1037
log
@	[ gas/ChangeLog ]
	* config/tc-mips.c (mips_ip): Maintain argument count.

	[ gas/testsuite/ChangeLog ]
	* gas/mips/mips32-sf32.s, gas/mips/mips32-sf32.d: New test for odd
	single precision FPRs on MIPS32.
	* gas/mips/mips.exp: Run them.
@
text
@d1 9
@


1.1036
log
@	* gas/mips/mips32.s: Added cop2 branches with explicit condition
	code register numbers.
	* gas/mips/mips32.d: Likewise.
@
text
@d1 7
@


1.1035
log
@    * gas/arm/itblock.s: New file. Helper macro for making all-true IT
    blocks.
    * gas/arm/neon-cond-bad-inc.s: New test. Make sure unconditional
    Neon instructions are rejected...
    * gas/arm/neon-cond-bad.s: In ARM mode, and...
    * gas/arm/neon-cond-bad_t2.s: Accepted in Thumb mode (with IT).
    * gas/arm/neon-cond-bad.l: Expected error output in ARM mode.
    * gas/arm/neon-cond-bad.d: Control ARM mode test.
    * gas/arm/neon-cond-bad_t2.d: Expected output in Thumb mode.
    * gas/arm/vfp-neon-syntax-inc.s: Test VFP Neon-style syntax.
    * gas/arm/vfp-neon-syntax.s: ...in ARM mode.
    * gas/arm/vfp-neon-syntax_t2.s: ...and Thumb mode.
    * gas/arm/vfp-neon-syntax.d: Expected output in ARM mode.
    * gas/arm/vfp-neon-syntax_t2.d: Expected output in Thumb mode.
@
text
@d1 7
@


1.1034
log
@2006-06-06  Paul Brook  <paul@@codesourcery.com>

opcodes/
	* arm-dis.c (coprocessor_opcodes): Add %c to unconditional arm
	instructions.
	(neon_opcodes): Add conditional execution specifiers.
	(thumb_opcodes): Ditto.
	(thumb32_opcodes): Ditto.
	(arm_conditional): Change 0xe to "al" and add "" to end.
	(ifthen_state, ifthen_next_state, ifthen_address): New.
	(IFTHEN_COND): Define.
	(print_insn_coprocessor, print_insn_neon): Print thumb conditions.
	(print_insn_arm): Change %c to use new values of arm_conditional.
	(print_insn_thumb16): Print thumb conditions.  Add %I.
	(print_insn_thumb32): Print thumb conditions.
	(find_ifthen_state): New function.
	(print_insn): Track IT block state.
gas/testsuite/
	* gas/arm/thumb2_bcond.d: Update expected output.
	* gas/arm/thumb32.d: Ditto.
	* gas/arm/vfp1_t2.d: Ditto.
	* gas/arm/vfp1xD_t2.d: Ditto.
binutils/testsuite/
	* binutils-all/arm/objdump.exp: New file.
	* binutils-all/arm/thumb2-cond.s: New test.
@
text
@d1 17
@


1.1033
log
@	[ gas/ChangeLog ]
	* config/tc-mips.c (ISA_SUPPORTS_DSP64): New macro.
	(CPU_HAS_MIPS3D, CPU_HAS_MDMX, CPU_HAS_DSP, CPU_HAS_MT): Delete.
	(macro_build): Update comment.
	(mips_ip): Allow DSP64 instructions for MIPS64R2.
	(mips_after_parse_args): Remove uses of CPU_HAS_MIPS3D and
	CPU_HAS_MDMX.
	(mips_cpu_info): Fix formatting. Add MIPS_CPU_ASE_MIPS3D and
	MIPS_CPU_ASE_MDMX flags for sb1.

	[ gas/testsuite/ChangeLog ]
	* gas/mips/mips64-dsp.s, gas/mips/mips64-dsp.d: New DSP64 tests.
	* gas/mips/mips.exp: Run DSP64 tests.

	[ opcodes/ChangeLog ]
	* mips-dis.c: Disassemble DSP64 instructions for MIPS64R2.
	* mips-opc.c: Add DSP64 instructions.
@
text
@d1 7
@


1.1032
log
@	[ gas/ChangeLog ]
	* config/tc-mips.c (macro_build): Use INSERT_OPERAND wherew
	appropriate.
	(mips16_macro_build): Use MIPS16_INSERT_OPERAND where appropriate.
	(mips_ip): Make overflowed/underflowed constant arguments in DSP
	and MT instructions a fatal error. Use INSERT_OPERAND where
	appropriate. Improve warnings for break and wait code overflows.
	Use symbolic constant of OP_MASK_COPZ.
	(mips16_ip): Use MIPS16_INSERT_OPERAND where appropriate.

	[ gas/testsuite/ChangeLog ]
	* gas/mips/mips32-dsp.d, gas/mips/mips32-dsp.s, gas/mips/mips32-mt.d,
	gas/mips/mips32-mt.s: Remove instructions with invalid arguments.
	* gas/mips/mips32-dsp.l, gas/mips/mips32-mt.l: Delete file.

	[ include/opcode/ChangeLog ]
	* mips.h: Improve description of MT flags.
@
text
@d1 6
@


1.1031
log
@include/opcodes/
	* m68k.h (mcf_mask): Define.

opcodes/
	* m68k-opc.c (m68k_opcodes): Fix the masks of the Coldfire fmovemd
	and fmovem entries.  Put register list entries before immediate
	mask entries.  Use "l" rather than "L" in the fmovem entries.
	* m68k-dis.c (match_insn_m68k): Remove the PRIV argument and work it
	out from INFO.
	(m68k_scan_mask): New function, split out from...
	(print_insn_m68k): ...here.  If no architecture has been set,
	first try printing an m680x0 instruction, then try a Coldfire one.

gas/testsuite/
	* gas/m68k/mcf-fpu.s: Add fmovemd and fmovem instructions.
	* gas/m68k/mcf-fpu.d: Adjust accordingly.
@
text
@d1 6
@


1.1030
log
@	* gas/bfin/vector2.s, gas/bfin/vector2.d: Test to ensure (m) is not
	thrown away.
@
text
@d1 5
@


1.1029
log
@	[ gas/ChangeLog ]
	* config/tc-mips.c (ISA_SUPPORTS_SMARTMIPS): Rename.
	(ISA_SUPPORTS_DSP_ASE, ISA_SUPPORTS_MT_ASE, ISA_HAS_64BIT_FPRS,
	ISA_HAS_MXHC1): New macros.
	(HAVE_32BIT_FPRS): Use ISA_HAS_64BIT_FPRS instead of
	ISA_HAS_64BIT_REGS.  Formatting fixes.  Improved comments.
	(mips_cpu_info): Change to use combined ASE/IS_ISA flag.
	(MIPS_CPU_IS_ISA, MIPS_CPU_ASE_SMARTMIPS, MIPS_CPU_ASE_DSP,
	MIPS_CPU_ASE_MT, MIPS_CPU_ASE_MIPS3D, MIPS_CPU_ASE_MDMX): New defines.
	(mips_after_parse_args): Change default handling of float register
	size to account for 32bit code with 64bit FP. Better sanity checking
	of ISA/ASE/ABI option combinations.
	(s_mipsset): Support switching of GPR and FPR sizes via
	.set {g,f}p={32,64,default}. Better sanity checking for .set ASE
	options.
	(mips_elf_final_processing): We should record the use of 64bit FP
	registers in 32bit code but we don't, because ELF header flags are
	a scarce ressource.
	(mips_cpu_info_table): Add ASE flags for CPUs with mandatory ASE
	extensions. Add 4ksc, 4kec, 4kem, 4kep, 4ksd, m4kp, 24kec, 24kef,
	24kex, 34kc, 34kf, 34kx, 25kf CPU definitions.
	(mips_cpu_info_from_isa): Use MIPS_CPU_IS_ISA.
	* doc/c-mips.texi: Document .set {g,f}p={32,64,default}. Document
	missing -march options. Document .set arch=CPU. Move .set smartmips
	to ASE page. Use @@code for .set FOO examples.

	[ gas/testsuite/Changelog ]
	* gas/mips/mips-gp32-fp64-pic.d, mips/mips-gp32-fp64.d,
	gas/mips/mips-gp64-fp32-pic.d, gas/mips/mips-gp64-fp32.l,
	gas/mips/mips-gp64-fp64.d: Adjust test cases to the changes assembler
	output.
	* gas/mips/mips-gp32-fp64.l, gas/mips/mips-gp64-fp32-pic.l: New files,
	catch assembler warnings.
@
text
@d1 5
@


1.1028
log
@* gas/mips/mips32-dsp.l: Fix expected unsigned decoding of -1 in warning messages.
* gas/mips/mips32-mt.l: Likewise.
@
text
@d1 9
@


1.1027
log
@	* gas/mips/vxworks1-el.d, gas/mips/vxworks1-xgot-el.d: Add little
	endian testcases.
	* gas/mips/vxworks1.d, gas/mips/vxworks1-xgot.d: Build as big endian.
	* gas/mips/mips.exp: Run new testcases.
@
text
@d1 6
@


1.1026
log
@	[ gas/ChangeLog ]
	* config/tc-mips.c (macro_build): Test for currently active
	mips16 option.
	(mips16_ip): Reject invalid opcodes.

	[ opcodes/ChangeLog ]
	* mips16-opc.c (I1, I32, I64): New shortcut defines.
	(mips16_opcodes): Change membership of instructions to their
	lowest baseline ISA.

	[ gas/testsuite/ChangeLog ]
	* gas/mips/mips.exp: Run new tests.
	* gas/mips/mips16e.s, gas/mips/mips16e.d, gas/mips/mips16e-64.s,
	gas/mips/mips16e-64.d, gas/mips/mips16e-64.l: New tests.
@
text
@d1 7
@


1.1025
log
@2006-05-11  Paul Brook  <paul@@codesourcery.com>

gas/
	* config/tc-arm.c (arm_fix_adjustable): Return 0 for function symbols.
gas/testsuite/
	* gas/arm/local_function.d: New test.
	* gas/arm/local_function.s: New test.
@
text
@d1 7
@


1.1024
log
@	[ gas/ChangeLog ]
	* config/tc-mips.c (append_insn): Don't check the range of j or
	jal addresses.

	[ gas/testsuite/ChangeLog ]
	* gas/mips/jal-range.l: Don't check the range of j or jal
	addresses.
@
text
@d1 5
@


1.1023
log
@2006-05-09  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/x86-64-gidt.d: Adjusted.
@
text
@d1 5
@


1.1022
log
@gas/testsuite/

2006-05-09  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run x86-64-gidt.

	* gas/i386/x86-64-gidt.d: New file.
	* gas/i386/x86-64-gidt.s: Likewise.

opcodes/

2006-05-09  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (grps): Update sgdt/sidt for 64bit.
@
text
@d3 4
@


1.1021
log
@	[ gas/ChangeLog ]
	* config/tc-mips.c (append_insn): Only warn about an out-of-range
	j or jal address.

	[ gas/testsuite/ChangeLog ]
	* gas/mips/jal-range.l: Only warn about an out-of-range j or jal
        address.
@
text
@d1 7
@


1.1020
log
@	* gas/mips/mips32.s, gas/mips/mips32.d: Extend testcase to check
	larger offset arguments for cache instructions.
@
text
@d1 5
@


1.1019
log
@	[ gas/ChangeLog ]
	* config/tc-mips.c (mips_set_options): Add ase_smartmips flag.
	(mips_opts): Likewise.
	(file_ase_smartmips): New variable.
	(ISA_HAS_ROR): SmartMIPS implements rotate instructions.
	(macro_build): Handle SmartMIPS instructions.
	(mips_ip): Likewise.
	(md_longopts): Add argument handling for smartmips.
	(md_parse_options, mips_after_parse_args): Likewise.
	(s_mipsset): Add .set smartmips support.
	(md_show_usage): Document -msmartmips/-mno-smartmips.
	* doc/as.texinfo: Document -msmartmips/-mno-smartmips and
	.set smartmips.
	* doc/c-mips.texi: Likewise.

	[ gas/testsuite/ChangeLog ]
	* gas/mips/smartmips.s, gas/mips/smartmips.d: New smartmips test.
	* gas/mips/mips.exp: Run smartmips test.
@
text
@d2 5
@


1.1018
log
@	* gas/arm/vfp-neon-overlap.s: New test. Overlapping VFP/Neon
	instructions.
	* gas/arm/vfp-neon-overlap.d: Expected output of above.
	* gas/arm/vfp1xD.d: Test for fldmx/fstmx.
	* gas/arm/vfp1xD_t2.d: Likewise.
	* gas/arm/vfpv3-32drs.d: Likewise.
@
text
@d1 7
@


1.1017
log
@	* gas/mips/noreorder.s, gas/mips/noreorder.d: New test for
	reorder/noreorder corner case.
	* gas/mips/mips.exp: Run new test.
-------------------------------------------------------------------
@
text
@d1 9
@


1.1016
log
@gas/
	* config/tc-arm.c (opcode_tag): Add OT_cinfix3_deprecated.
	(opcode_lookup): Issue a warning for opcode with
	OT_cinfix3_deprecated.  Otherwise treat OT_cinfix3_deprecated
	identical to OT_cinfix3.
	(TxC3w, TC3w, tC3w): New.
	(insns): Use tC3w and TC3w for comparison instructions with
	's' suffix.

gas/testsuite
	* gas/arm/armv1.d (error-output): New.
	* gas/arm/armv1.l: New.
	* gas/arm/thumb32.d (error-output): New.
	* gas/arm/thumb32.l: New.
@
text
@d1 6
@


1.1015
log
@[ gas/testsuite/ChangeLog ]
2006-05-04  Thiemo Seufer  <ths@@mips.com>
            Nigel Stephens  <nigel@@mips.com>

        * gas/mips/mips.exp: Run mips32-dsp tests only for mips32r2.
        * gas/mips/set-arch.d: Adjust according to opcode table changes.

[ include/opcode/ChangeLog ]
2006-05-04  Thiemo Seufer  <ths@@mips.com>
            Nigel Stephens  <nigel@@mips.com>
            David Ung  <davidu@@mips.com>

        * mips.h: Add INSN_SMARTMIPS define.

[ opcodes/ChangeLog ]
2006-05-04  Thiemo Seufer  <ths@@mips.com>
            Nigel Stephens  <nigel@@mips.com>
            David Ung  <davidu@@mips.com>

        * mips-dis.c (mips_arch_choices): Add smartmips instruction
        decoding to MIPS32 and MIPS32R2.  Limit DSP decoding to release
        2 ISAs.  Add MIPS3D decoding to MIPS32R2.  Add MT decoding to
        MIPS64R2.
        * mips-opc.c: fix random typos in comments.
        (INSN_SMARTMIPS): New defines.
        (mips_builtin_opcodes): Add paired single support for MIPS32R2.
        Move bc3f, bc3fl, bc3t, bc3tl downwards.  Move flushi, flushd,
        flushid, wb upwards.  Move cfc3, ctc3 downwards.  Rework the
        FP_S and FP_D flags to denote single and double register
        accesses separately.  Move dmfc3, dmtc3, mfc3, mtc3 downwards.
        Allow jr.hb and jalr.hb for release 1 ISAs.  Allow luxc1, suxc1
        for MIPS32R2.  Add SmartMIPS instructions.  Add two-argument
        variants of bc2f, bc2fl, bc2t, bc2tl.  Add mfhc2, mthc2 to
        release 2 ISAs.
        * mips16-opc.c (mips16_opcodes): Add sdbbp instruction.
@
text
@d1 7
@


1.1014
log
@2006-05-03  Thiemo Seufer  <ths@@mips.com>

        [ opcodes/ChangeLog ]
        * mips-opc.c (mips_builtin_opcodes): Fix mftr argument order.

        [ gas/testsuite/ChangeLog ]
        * gas/mips/mips32-mt.d: Fix mftr argument order.
@
text
@d1 6
@


1.1013
log
@	* config/tc-arm.c (do_iwmmxt_wldstbh): Don't multiply offset by 4
	here.
	(md_apply_fix3): Multiply offset by 4 here for
	BFD_RELOC_ARM_CP_OFF_IMM_S2 and BFD_RELOC_ARM_T32_CP_OFF_IMM_S2.

testsuite:
	* gas/arm/iwmmxt.s: Increase offsets for wstrb and wstrh.
	* gas/arm/iwmmxt.d: Update expected results.
	* gas/arm/iwmmxt-bad2.s: Test wstrb, wstrh, wldrb and wldrh.
	* gas/arm/iwmmxt-bad2.l: Update expected error messages.
@
text
@d1 4
@


1.1012
log
@2006-04-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/fp.d: New file.
	* gas/i386/fp.s: Likewise.

	* gas/i386/i386.exp: Run "fp".
@
text
@d1 7
@


1.1011
log
@Don't mis-spell your boss' name...
@
text
@d1 7
@


1.1010
log
@[ opcodes/ChangeLog ]
2006-04-28  Thiemo Seufer  <ths@@mips.com>
            David Ung  <davidu@@mips.com>
            Nigel Stevens  <nigel@@mips.com>

	* mips-dis.c (mips_cp0sel_names_mips3264r2): Add MT register
        names.

[ gas/testsuite/ChangeLog ]
2006-04-28  Thiemo Seufer  <ths@@mips.com>
            David Ung  <davidu@@mips.com>
            Nigel Stevens  <nigel@@mips.com>

	* gas/mips/cp0sel-names-mips32r2.d,
	gas/mips/cp0sel-names-mips64r2.d: Update for MT register names.
@
text
@d3 1
a3 1
	    Nigel Stevens  <nigel@@mips.com>
@


1.1009
log
@	* gas/testsuite/gas/arm/neon-const.s: New testcase. Neon floating-point
	constants.
	* gas/testsuite/gas/arm/neon-const.d: Expected output of above.
	* gas/testsuite/gas/arm/neon-cov.d: Expect floating-point disassembly
	for VMOV.F32.
@
text
@d1 7
d10 3
a12 5
	* gas/testsuite/gas/arm/neon-const.s: New testcase. Neon floating-point
	constants.
	* gas/testsuite/gas/arm/neon-const.d: Expected output of above.
	* gas/testsuite/gas/arm/neon-cov.d: Expect floating-point disassembly
	for VMOV.F32.
@


1.1008
log
@	* gas/arm/neon-psyn.s: Basic test of programmers syntax.
	* gas/arm/neon-psyn.d: Expected output of above.
@
text
@d3 8
@


1.1007
log
@	* gas/arm/copro.s: Avoid ldcl which encodes as a bad Neon instruction.
	* gas/arm/copro.d: Update accordingly.
	* gas/arm/neon-cond.s: New test. Conditional Neon opcodes in ARM mode.
	* gas/arm/neon-cond.d: Expected results of above.
	* gas/arm/neon-cov.s: New test. Coverage of Neon instructions.
	* gas/arm/neon-cov.d: Expected results of above.
	* gas/arm/neon-ldst-es.s: New test. Element and structure loads and
	stores.
	* gas/arm/neon-ldst-es.d: Expected results of above.
	* gas/arm/neon-ldst-rm.s: New test. Single and multiple register loads
	and stores.
	* gas/arm/neon-ldst-rm.d: Expected results of above.
	* gas/arm/neon-omit.s: New test. Omission of optional operands.
	* gas/arm/neon-omit.d: Expected results of above.
	* gas/arm/vfp1.d: Expect Neon syntax for some VFP instructions.
	* gas/arm/vfp1_t2.d: Likewise.
	* gas/arm/vfp1xD.d: Likewise.
	* gas/arm/vfp1xD_t2.d: Likewise.
	* gas/arm/vfp2.d: Likewise.
	* gas/arm/vfp2_t2.d: Likewise.
	* gas/arm/vfp3-32drs.s: New test. Extended D register range for VFP
	instructions.
	* gas/arm/vfp3-32drs.d: Expected results of above.
	* gas/arm/vfp3-const-conv.s: New test. VFPv3 constant-load and
	conversion instructions.
	* gas/arm/vfp3-const-conv.d: Expected results of above.
@
text
@d1 6
a6 1
2005-04-26  Julian Brown  <julian@@codesourcery.com>
@


1.1006
log
@Add missing changelog entry
@
text
@d1 29
@


1.1005
log
@2005-04-20  Paul Brook  <paul@@codesourcery.com>

gas/
	* config/tc-arm.c (s_arm_arch, s_arm_cpu, s_arm_fpu): Enable for
	all targets.
	(md_pseudo_table): Enable .arch, .cpu and .fpu for all targets.
gas/testsuite/
	* gas/arm/arch7.d: Remove skip.
	* gas/arm/svc.d: Ditto.
	* gas/arm/thumb2_bcond.d: Ditto.
	* gas/arm/thumb2_it_bad.d: Ditto.
@
text
@d38 6
@


1.1004
log
@gas/

2006-04-18  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/2533
	* config/tc-i386.c (i386_immediate): Check illegal immediate
	register operand.

gas/testsuite/

2006-04-18  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/2533
	* gas/i386/inval.s: Add test for illegal immediate register
	operand.
	* gas/i386/inval.l: Updated.
@
text
@d1 7
@


1.1003
log
@Skip ELF specific tests on non-ELF ARM targets
@
text
@d1 7
@


1.1003.2.1
log
@	* config/tc-arm.c (do_iwmmxt_wldstbh): Don't multiply offset by 4
	here.
	(md_apply_fix3): Multiply offset by 4 here for
	BFD_RELOC_ARM_CP_OFF_IMM_S2 and BFD_RELOC_ARM_T32_CP_OFF_IMM_S2.

testsuite:
	* gas/arm/iwmmxt.s: Increase offsets for wstrb and wstrh.
	* gas/arm/iwmmxt.d: Update expected results.
	* gas/arm/iwmmxt-bad2.s: Test wstrb, wstrh, wldrb and wldrh.
	* gas/arm/iwmmxt-bad2.l: Update expected error messages.
@
text
@a0 7
2006-05-02  Joseph Myers  <joseph@@codesourcery.com>

	* gas/arm/iwmmxt.s: Increase offsets for wstrb and wstrh.
	* gas/arm/iwmmxt.d: Update expected results.
	* gas/arm/iwmmxt-bad2.s: Test wstrb, wstrh, wldrb and wldrh.
	* gas/arm/iwmmxt-bad2.l: Update expected error messages.

@


1.1003.2.2
log
@	[ opcodes/ChangeLog ]
        * mips-opc.c (mips_builtin_opcodes): Fix mftr argument order.

	[ gs/testsuite/ChangeLog ]
        * gas/mips/mips32-mt.d: Fix mftr argument order.
@
text
@a0 4
2006-05-04  Thiemo Seufer  <ths@@mips.com>

	* gas/mips/mips32-mt.d: Fix mftr argument order.

@


1.1003.2.3
log
@	[ gas/ChangeLog ]
	* config/tc-mips.c (append_insn): Don't check the range of j or
	jal addresses.

	[ gas/testsuite/ChangeLog ]
	* gas/mips/jal-range.l: Don't check the range of j or jal
	addresses.
@
text
@a0 5
2006-05-11  Thiemo Seufer  <ths@@mips.com>

	* gas/mips/jal-range.l: Don't check the range of j or jal
	addresses.

@


1.1003.2.4
log
@	* gas/mips/vxworks1-el.d, gas/mips/vxworks1-xgot-el.d: Add little
	endian testcases.
	* gas/mips/vxworks1.d, gas/mips/vxworks1-xgot.d: Build as big endian.
	* gas/mips/mips.exp: Run new testcases.
-------------------------------------------------------------------
@
text
@a0 7
2006-05-19  Thiemo Seufer  <ths@@mips.com>

	* gas/mips/vxworks1-el.d, gas/mips/vxworks1-xgot-el.d: Add little
	endian testcases.
	* gas/mips/vxworks1.d, gas/mips/vxworks1-xgot.d: Build as big endian.
	* gas/mips/mips.exp: Run new testcases.

@


1.1003.2.5
log
@Backport testsuite patch.
@
text
@a0 6
2006-05-22  Nick Clifton  <nickc@@redhat.com>

	* gas/mips/mips32-dsp.l: Fix expected unsigned decoding of -1 in
	warning messages.
	* gas/mips/mips32-mt.l: Likewise.

@


1.1003.2.6
log
@include/opcodes/
	* m68k.h (mcf_mask): Define.

opcodes/
	* m68k-opc.c (m68k_opcodes): Fix the masks of the Coldfire fmovemd
	and fmovem entries.  Put register list entries before immediate
	mask entries.  Use "l" rather than "L" in the fmovem entries.
	* m68k-dis.c (match_insn_m68k): Remove the PRIV argument and work it
	out from INFO.
	(m68k_scan_mask): New function, split out from...
	(print_insn_m68k): ...here.  If no architecture has been set,
	first try printing an m680x0 instruction, then try a Coldfire one.

gas/testsuite/
	* gas/m68k/mcf-fpu.s: Add fmovemd and fmovem instructions.
	* gas/m68k/mcf-fpu.d: Adjust accordingly.
@
text
@a0 5
2006-05-26  Richard Sandiford  <richard@@codesourcery.com>

	* gas/m68k/mcf-fpu.s: Add fmovemd and fmovem instructions.
	* gas/m68k/mcf-fpu.d: Adjust accordingly.

@


1.1003.2.7
log
@	* gas/mips/mips16e-jrc.d, gas/mips/mips16e-save.d,
	gas/mips/mips32-dsp.d, gas/mips/mips32-mt.d: Explicitly specify
	o32 ABI.
@
text
@a0 6
2006-06-14  Thiemo Seufer  <ths@@mips.com>

	* gas/mips/mips16e-jrc.d, gas/mips/mips16e-save.d,
	gas/mips/mips32-dsp.d, gas/mips/mips32-mt.d: Explicitly specify
	o32 ABI.

@


1.1002
log
@2006-04-07  Paul Brook  <paul@@codesourcery.com>

gas/
	* config/tc-arm.c (md_apply_fix): Set H bit on blx instruction.
gas/testsuite/
	* gas/arm/blx-local.d: New test.
	* gas/arm/blx-local.d: New test.
@
text
@d1 8
@


1.1001
log
@2006-04-07  Paul Brook  <paul@@codesourcery.com>

gas/
	* config/tc-arm.c (THUMB2_LOAD_BIT): Define.
	(move_or_literal_pool): Handle Thumb-2 instructions.
	(do_t_ldst): Call move_or_literal_pool for =N addressing modes.
gas/testsuite/
	* gas/arm/thumb2_pool.d: New test.
	* gas/arm/thumb2_pool.s: New test.
@
text
@d3 5
@


1.1000
log
@bfd/
	* config.bfd (sparc-*-vxworks*): New stanza.
	* configure.in (bfd_elf32_sparc_vxworks_vec): New stanza.
	(bfd_elf32_sparc_vec, bfd_elf64_sparc_vec): Add elf-vxworks.lo.
	* configure: Regenerate.
	* elf32-sparc.c: Include elf-vxworks.h.
	(elf32_sparc_vxworks_link_hash_table_create: New.
	(elf32_sparc_vxworks_final_write_processing): New.
	(TARGET_BIG_SYM): Override for VxWorks.
	(TARGET_BIG_NAME, ELF_MINPAGESIZE): Likewise.
	(bfd_elf32_bfd_link_hash_table_create): Likewise.
	(elf_backend_want_got_plt, elf_backend_plt_readonly): Likewise.
	(elf_backend_got_header_size, elf_backend_add_symbol_hook): Likewise.
	(elf_backend_link_output_symbol_hook): Likewise.
	(elf_backend_emit_relocs): Likewise.
	(elf_backend_final_write_processing, elf32_bed): Likewise.
	* elfxx-sparc.c: Include libiberty.h and elf-vxworks.h.
	(sparc_vxworks_exec_plt0_entry, sparc_vxworks_exec_plt_entry): New.
	(sparc_vxworks_shared_plt0_entry, sparc_vxworks_shared_plt_entry): New.
	(_bfd_sparc_elf_link_hash_table_create): Don't initialize
	build_plt_entry here.
	(create_got_section): Initialize sgotplt for VxWorks.
	(_bfd_sparc_elf_create_dynamic_sections): Initialize build_plt_entry,
	plt_header_size and plt_entry_size, with new VxWorks-specific settings.
	Call elf_vxworks_create_dynamic_sections for VxWorks.
	(allocate_dynrelocs): Use plt_header_size and plt_entry_size.
	Allocate room for .got.plt and .rela.plt.unloaded entries on VxWorks.
	(_bfd_sparc_elf_size_dynamic_sections): Don't allocate a nop in .plt
	for VxWorks.  Check for the .got.plt section.
	(sparc_vxworks_build_plt_entry): New function.
	(_bfd_sparc_elf_finish_dynamic_symbol): Add handling of VxWorks PLTs.
	Don't make _GLOBAL_OFFSET_TABLE_ and _PROCEDURE_LINKAGE_TABLE_
	absolute on VxWorks.
	(sparc32_finish_dyn): Add special handling for DT_RELASZ
	and DT_PLTGOT on VxWorks.
	(sparc_vxworks_finish_exec_plt): New.
	(sparc_vxworks_finish_shared_plt): New.
	(_bfd_sparc_elf_finish_dynamic_sections): Call them.
	Use plt_header_size and plt_entry_size.
	* elfxx-sparc.h (_bfd_sparc_elf_link_hash_table): Add is_vxworks,
	srelplt2, sgotplt, plt_header_size and plt_entry_size fields.
	* Makefile.am (elfxx-sparc.lo): Depend on elf-vxworks.h.
	(elf32-sparc.lo): Likewise.
	* Makefile.in: Regenerate.
	* targets.c (bfd_elf32_sparc_vxworks_vec): Declare.
	(_bfd_target_vector): Add a pointer to it.

gas/
	* config/tc-sparc.c (sparc_target_format): Handle TE_VXWORKS.
	(GOTT_BASE, GOTT_INDEX): New.
	(tc_gen_reloc): Don't alter relocations against GOTT_BASE and
	GOTT_INDEX when generating VxWorks PIC.
	* configure.tgt (sparc*-*-vxworks*): Remove this special case;
	use the generic *-*-vxworks* stanza instead.

gas/testsuite/
	* gas/sparc/vxworks-pic.s, gas/sparc/vxworks-pic.d: New test.
	* gas/sparc/sparc.exp: Run it.  Remove sparc*-*-vxworks* XFAILs.

ld/
	* configure.tgt (sparc*-*-vxworks*): New stanza.
	* emulparams/elf32_sparc_vxworks.sh: New file.
	* Makefile.am (ALL_EMULATIONS): Add eelf32_sparc_vxworks.o.
	(eelf32_sparc_vxworks.c): New rule.
	* Makefile.in: Regenerate.

ld/testsuite/
	* ld-sparc/vxworks1.dd, ld-sparc/vxworks1.ld, ld-sparc/vxworks1-lib.dd,
	* ld-sparc/vxworks1-lib.nd, ld-sparc/vxworks1-lib.rd,
	* ld-sparc/vxworks1-lib.s, ld-sparc/vxworks1.rd, ld-sparc/vxworks1.s,
	* ld-sparc/vxworks1-static.d, ld-sparc/vxworks2.s,
	* ld-sparc/vxworks2.sd, ld-sparc/vxworks2-static.sd: New tests.
	* ld-sparc/sparc.exp: Run them.
@
text
@d1 5
@


1.999
log
@2006-03-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/rep.s: Pad with .p2align.
	* gas/i386/rep.d: Adjust.
@
text
@d1 5
@


1.998
log
@	Richard Sandiford  <richard@@codesourcery.com>
	Daniel Jacobowitz  <dan@@codesourcery.com>
	Phil Edwards  <phil@@codesourcery.com>
	Zack Weinberg  <zack@@codesourcery.com>
	Mark Mitchell  <mark@@codesourcery.com>
	Nathan Sidwell  <nathan@@codesourcery.com>

bfd/
	* bfd-in2.h: Regenerate.
	* config.bfd (mips*-*-vxworks*, mips*el-*-vxworks*): New stanzas.
	* configure.in (bfd_elf32_bigmips_vxworks_vec): New stanza.
	(bfd_elf32_littlemips_vxworks_vec): Likewise.
	(bfd_elf32_bigmips_vec): Add elf-vxworks.lo.
	(bfd_elf32_littlemips_vec): Likewise.
	(bfd_elf32_nbigmips_vec): Likewise.
	(bfd_elf32_nlittlemips_vec): Likewise.
	(bfd_elf32_ntradbigmips_vec): Likewise.
	(bfd_elf32_ntradlittlemips_vec): Likewise.
	(bfd_elf32_tradbigmips_vec): Likewise.
	(bfd_elf32_tradlittlemips_vec): Likewise.
	(bfd_elf64_bigmips_vec): Likewise.
	(bfd_elf64_littlemips_vec): Likewise.
	(bfd_elf64_tradbigmips_vec): Likewise.
	(bfd_elf64_tradlittlemips_vec): Likewise.
	* elf32-mips.c: Include elf-vxworks.h.
	(mips_info_to_howto_rel): Use elf_backend_mips_rtype_to_howto
	instead of calling mips_elf32_rtype_to_howto directly.
	(mips_vxworks_copy_howto_rela): New reloc howto.
	(mips_vxworks_jump_slot_howto_rela): Likewise.
	(mips_vxworks_bfd_reloc_type_lookup): New function.
	(mips_vxworks_rtype_to_howto): Likewise.
	(mips_vxworks_final_write_processing): Likewise.
	(TARGET_LITTLE_SYM, TARGET_LITTLE_NAME): Override for VxWorks.
	(TARGET_BIG_SYM, TARGET_BIG_NAME, elf_bed, ELF_MAXPAGESIZE): Likewise.
	(elf_backend_want_got_plt): Likewise.
	(elf_backend_want_plt_sym): Likewise.
	(elf_backend_got_symbol_offset): Likewise.
	(elf_backend_want_dynbss): Likewise.
	(elf_backend_may_use_rel_p): Likewise.
	(elf_backend_may_use_rela_p): Likewise.
	(elf_backend_default_use_rela_p): Likewise.
	(elf_backend_got_header_size: Likewise.
	(elf_backend_plt_readonly): Likewise.
	(bfd_elf32_bfd_reloc_type_lookup): Likewise.
	(elf_backend_mips_rtype_to_howto): Likewise.
	(elf_backend_adjust_dynamic_symbol): Likewise.
	(elf_backend_finish_dynamic_symbol): Likewise.
	(bfd_elf32_bfd_link_hash_table_create): Likewise.
	(elf_backend_add_symbol_hook): Likewise.
	(elf_backend_link_output_symbol_hook): Likewise.
	(elf_backend_emit_relocs): Likewise.
	(elf_backend_final_write_processing: Likewise.
	(elf_backend_additional_program_headers): Likewise.
	(elf_backend_modify_segment_map): Likewise.
	(elf_backend_symbol_processing): Likewise.
	* elfxx-mips.c: Include elf-vxworks.h.
	(mips_elf_link_hash_entry): Add is_relocation_target and
	is_branch_target fields.
	(mips_elf_link_hash_table): Add is_vxworks, srelbss, sdynbss, srelplt,
	srelplt2, sgotplt, splt, plt_header_size and plt_entry_size fields.
	(MIPS_ELF_RELA_SIZE, MIPS_ELF_REL_DYN_NAME): New macros.
	(MIPS_RESERVED_GOTNO): Take a mips_elf_link_hash_table argument.
	Return 3 for VxWorks.
	(ELF_MIPS_GP_OFFSET): Change the argument from a bfd to a
	mips_elf_link_hash_table.  Return 0 for VxWorks.
	(MIPS_ELF_GOT_MAX_SIZE): Change the argument from a bfd to a
	mips_elf_link_hash_table.  Update the call to ELF_MIPS_GP_OFFSET.
	(mips_vxworks_exec_plt0_entry): New variable.
	(mips_vxworks_exec_plt_entry): Likewise.
	(mips_vxworks_shared_plt0_entry): Likewise.
	(mips_vxworks_shared_plt_entry): Likewise.
	(mips_elf_link_hash_newfunc): Initialize the new hash_entry fields.
	(mips_elf_rel_dyn_section): Change the bfd argument to a
	mips_elf_link_hash_table.  Use MIPS_ELF_REL_DYN_NAME to get
	the name of the section.
	(mips_elf_initialize_tls_slots): Update the call to
	mips_elf_rel_dyn_section.
	(mips_elf_gotplt_index): New function.
	(mips_elf_local_got_index): Add an input_section argument.
	Update the call to mips_elf_create_local_got_entry.
	(mips_elf_got_page): Likewise.
	(mips_elf_got16_entry): Likewise.
	(mips_elf_create_local_got_entry): Add bfd_link_info and input_section
	arguments.  Create dynamic relocations for each entry on VxWorks.
	(mips_elf_merge_gots): Update the use of MIPS_ELF_GOT_MAX_SIZE.
	(mips_elf_multi_got): Update the uses of MIPS_ELF_GOT_MAX_SIZE
	and MIPS_RESERVED_GOTNO.
	(mips_elf_create_got_section): Update the uses of
	MIPS_ELF_GOT_MAX_SIZE.  Create .got.plt on VxWorks.
	(is_gott_symbol): New function.
	(mips_elf_calculate_relocation): Use a dynobj local variable.
	Update the calls to mips_elf_local_got_index, mips_elf_got16_entry and
	mips_elf_got_page_entry.  Set G to the .got.plt entry when calculating
	VxWorks R_MIPS_CALL* relocations.  Calculate and use G for all GOT
	relocations on VxWorks.  Add dynamic relocations for references
	to the VxWorks __GOTT_BASE__ and __GOTT_INDEX__ symbols.  Don't
	create dynamic relocations for R_MIPS_32, R_MIPS_REL32 or R_MIPS_64
	in VxWorks executables.
	(mips_elf_allocate_dynamic_relocations): Add a bfd_link_info argument.
	Use MIPS_ELF_RELA_SIZE to calculate the size of a VxWorks entry.
	Don't allocate a null entry on VxWorks.
	(mips_elf_create_dynamic_relocation): Update the call to
	mips_elf_rel_dyn_section.  Use absolute rather than relative
	relocations for VxWorks, and make them RELA rather than REL.
	(_bfd_mips_elf_create_dynamic_sections): Don't make .dynamic
	read-only on VxWorks.  Update the call to mips_elf_rel_dyn_section.
	Create the .plt, .rela.plt, .dynbss and .rela.bss sections on
	VxWorks.  Likewise create the _PROCEDURE_LINKAGE_TABLE symbol.
	Call elf_vxworks_create_dynamic_sections for VxWorks and
	initialize the plt_header_size and plt_entry_size fields.
	(_bfd_mips_elf_check_relocs): Don't allow GOT relocations to be
	used in VxWorks executables.  Don't allocate dynamic relocations
	for R_MIPS_32, R_MIPS_REL32 or R_MIPS_64 in VxWorks executables.
	Set is_relocation_target for each symbol referenced by a relocation.
	Allocate .rela.dyn entries for relocations against the special
	VxWorks __GOTT_BASE__ and __GOTT_INDEX__ symbols.  Create GOT
	entries for all VxWorks R_MIPS_GOT16 relocations.  Don't allocate
	a global GOT entry for symbols mentioned in VxWorks R_MIPS_CALL*,
	R_MIPS_32, R_MIPS_REL32 or R_MIPS_64 relocations.  Update the calls
	to mips_elf_rel_dyn_section and mips_elf_allocate_dynamic_relocations.
	Set is_branch_target for symbols mentioned in R_MIPS_PC16 or R_MIPS_26
	relocations.  Don't set no_fn_stub on VxWorks.
	(_bfd_mips_elf_adjust_dynamic_symbol): Update the call to
	mips_elf_allocate_dynamic_relocations.
	(_bfd_mips_vxworks_adjust_dynamic_symbol): New function.
	(_bfd_mips_elf_always_size_sections): Do not allocate GOT page
	entries for VxWorks, and do not create multiple GOTs.
	(_bfd_mips_elf_size_dynamic_sections): Use MIPS_ELF_REL_DYN_NAME.
	Handle .got specially for VxWorks.  Update the uses of
	MIPS_RESERVED_GOTNO and mips_elf_allocate_dynamic_relocations.
	Check for sgotplt and splt.  Allocate the .rel(a).dyn contents last,
	once its final size is known.  Set DF_TEXTREL for VxWorks.  Add
	DT_RELA, DT_RELASZ, DT_RELAENT, DT_PLTREL, DT_PLTRELSZ and DT_JMPREL
	tags on VxWorks.  Do not add the MIPS-specific tags for VxWorks.
	(_bfd_mips_vxworks_finish_dynamic_symbol): New function.
	(mips_vxworks_finish_exec_plt): Likewise.
	(mips_vxworks_finish_shared_plt): Likewise.
	(_bfd_mips_elf_finish_dynamic_sections): Remove an unncessary call
	to mips_elf_rel_dyn_section.  Use a VxWorks-specific value of
	DT_PLTGOT.  Handle DT_RELA, DT_RELASZ, DT_RELAENT, DT_PLTREL,
	DT_PLTRELSZ and DT_JMPREL.  Update the uses of MIPS_RESERVED_GOTNO
	and mips_elf_rel_dyn_section.  Use a different GOT header for
	VxWorks.  Don't sort .rela.dyn on VxWorks.  Finish the PLT on VxWorks.
	(_bfd_mips_elf_link_hash_table_create): Initialize the new
	mips_elf_link_hash_table fields.
	(_bfd_mips_vxworks_link_hash_table_create): New function.
	(_bfd_mips_elf_final_link): Set the GP value to _GLOBAL_OFFSET_TABLE_
	on VxWorks.  Update the call to ELF_MIPS_GP_OFFSET.
	* elfxx-mips.h (_bfd_mips_vxworks_adjust_dynamic_symbol): Declare.
	(_bfd_mips_vxworks_finish_dynamic_symbol): Likewise.
	(_bfd_mips_vxworks_link_hash_table_create): Likewise.
	* libbfd.h: Regenerate.
	* Makefile.am (elfxx-mips.lo): Depend on elf-vxworks.h.
	(elf32-mips.lo): Likewise.
	* Makefile.in: Regenerate.
	* reloc.c (BFD_RELOC_MIPS_COPY, BFD_RELOC_MIPS_JUMP_SLOT): Declare.
	* targets.c (bfd_elf32_bigmips_vxworks_vec): Declare.
	(bfd_elf32_littlemips_vxworks_vec): Likewise.
	(_bfd_target_vector): Add entries for them.

gas/
	* config/tc-mips.c (mips_target_format): Handle vxworks targets.
	(md_begin): Complain about -G being used for PIC.  Don't change
	the text, data and bss alignments on VxWorks.
	(reloc_needs_lo_p): Don't return true for R_MIPS_GOT16 when
	generating VxWorks PIC.
	(load_address): Extend SVR4_PIC handling to VXWORKS_PIC.
	(macro): Likewise, but do not treat la $25 specially for
	VxWorks PIC, and do not handle jal.
	(OPTION_MVXWORKS_PIC): New macro.
	(md_longopts): Add -mvxworks-pic.
	(md_parse_option): Don't complain about using PIC and -G together here.
	Handle OPTION_MVXWORKS_PIC.
	(md_estimate_size_before_relax): Always use the first relaxation
	sequence on VxWorks.
	* config/tc-mips.h (VXWORKS_PIC): New.

gas/testsuite/
	* gas/mips/vxworks1.s, gas/mips/vxworks1.d,
	* gas/mips/vxworks1-xgot.d: New tests.
	* gas/mips/mips.exp: Run them.  Do not run other tests on VxWorks.

include/elf/
	* mips.h (R_MIPS_COPY, R_MIPS_JUMP_SLOT): New relocs.

ld/
	* configure.tgt (mips*el-*-vxworks*, mips*-*-vxworks*): Use
	separate VxWorks emulations.
	* emulparams/elf32ebmipvxworks.sh: New file.
	* emulparams/elf32elmipvxworks.sh: New file.
	* Makefile.am (ALL_EMULATIONS): Add eelf32ebmipvxworks.o and
	eelf32elmipvxworks.o.
	(eelf32ebmipvxworks.c, eelf32elmipvxworks.c): New rules.
	* Makefile.in: Regenerate.

ld/testsuite/
	* ld-mips/vxworks1.dd, ld-mips/vxworks1.ld, ld-mips/vxworks1-lib.dd,
	* ld-mips/vxworks1-lib.nd, ld-mips/vxworks1-lib.rd,
	* ld-mips/vxworks1-lib.s, ld-mips/vxworks1.rd, ld-mips/vxworks1.s,
	* ld-mips/vxworks1-static.d, ld-mips/vxworks2.s, ld-mips/vxworks2.sd,
	* ld-mips/vxworks2-static.sd: New tests.
	* ld-mips/mips-elf.exp: Run them.
@
text
@d1 5
@


1.997
log
@2006-03-21  Paul Brook  <paul@@codesourcery.com>

gas/
	* config/tc-arm.c (insns): Correct opcodes for ldrbt and strbt.
gas/testsuite/
	* gas/arm/thumb32.d: Correct expected output.
@
text
@d1 6
@


1.996
log
@2006-03-20  Paul Brook  <paul@@codesourcery.com>

gas/
	* config/tc-arm.c (BAD_BRANCH, BAD_NOT_IT): Define.
	(do_t_branch): Encode branches inside IT blocks as unconditional.
	(do_t_cps): New function.
	(do_t_blx, do_t_bkpt, do_t_branch23, do_t_bx, do_t_bxj, do_t_cpsi,
	do_t_czb, do_t_it, do_t_setend, do_t_tb): Add IT constaints.
	(opcode_lookup): Allow conditional suffixes on all instructions in
	Thumb mode.
	(md_assemble): Advance condexec state before checking for errors.
	(insns): Use do_t_cps.
gas/testsuite/
	* gas/arm/thumb2_bcond.d: New test.
	* gas/arm/thumb2_bcond.s: New test.
	* gas/arm/thumb2_it_bad.d: New test.
	* gas/arm/thumb2_it_bad.l: New test.
	* gas/arm/thumb2_it_bad.s: New test.
@
text
@d1 4
@


1.996.2.1
log
@Merge changes between binutils-csl-2_17-branchpoint and
binutils-2_17, except for the addition of generated files to CVS.
@
text
@a0 78
2006-06-14  Thiemo Seufer  <ths@@mips.com>

	* gas/mips/mips16e-jrc.d, gas/mips/mips16e-save.d,
	gas/mips/mips32-dsp.d, gas/mips/mips32-mt.d: Explicitly specify
	o32 ABI.

2006-05-26  Richard Sandiford  <richard@@codesourcery.com>

	* gas/m68k/mcf-fpu.s: Add fmovemd and fmovem instructions.
	* gas/m68k/mcf-fpu.d: Adjust accordingly.

2006-05-22  Nick Clifton  <nickc@@redhat.com>

	* gas/mips/mips32-dsp.l: Fix expected unsigned decoding of -1 in
	warning messages.
	* gas/mips/mips32-mt.l: Likewise.

2006-05-19  Thiemo Seufer  <ths@@mips.com>

	* gas/mips/vxworks1-el.d, gas/mips/vxworks1-xgot-el.d: Add little
	endian testcases.
	* gas/mips/vxworks1.d, gas/mips/vxworks1-xgot.d: Build as big endian.
	* gas/mips/mips.exp: Run new testcases.

2006-05-11  Thiemo Seufer  <ths@@mips.com>

	* gas/mips/jal-range.l: Don't check the range of j or jal
	addresses.

2006-05-04  Thiemo Seufer  <ths@@mips.com>

	* gas/mips/mips32-mt.d: Fix mftr argument order.

2006-05-02  Joseph Myers  <joseph@@codesourcery.com>

	* gas/arm/iwmmxt.s: Increase offsets for wstrb and wstrh.
	* gas/arm/iwmmxt.d: Update expected results.
	* gas/arm/iwmmxt-bad2.s: Test wstrb, wstrh, wldrb and wldrh.
	* gas/arm/iwmmxt-bad2.l: Update expected error messages.

2006-04-16  Nick Clifton  <nickc@@redhat.com>

	* gas/arm/arch7.d: Skip test for non-ELF targets.
	* gas/arm/blx-local.d: Likewise.
	* gas/arm/svc.d: Likewise.
	* gas/arm/thumb2_bcond.d: Likewise.
	* gas/arm/thumb2_it_bad.d: Likewise.

2006-04-07  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/blx-local.d: New test.
	* gas/arm/blx-local.d: New test.

2006-04-07  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/thumb2_pool.d: New test.
	* gas/arm/thumb2_pool.s: New test.

2006-04-05  Richard Sandiford  <richard@@codesourcery.com>

	* gas/sparc/vxworks-pic.s, gas/sparc/vxworks-pic.d: New test.
	* gas/sparc/sparc.exp: Run it.  Remove sparc*-*-vxworks* XFAILs.

2006-03-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/rep.s: Pad with .p2align.
	* gas/i386/rep.d: Adjust.

2006-03-22  Richard Sandiford  <richard@@codesourcery.com>

	* gas/mips/vxworks1.s, gas/mips/vxworks1.d,
	* gas/mips/vxworks1-xgot.d: New tests.
	* gas/mips/mips.exp: Run them.  Do not run other tests on VxWorks.
	
2006-03-21  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/thumb32.d: Correct expected output.

@


1.995
log
@2006-03-17  Paul Brook  <paul@@codesourcery.com>

gas/
	* config/tc-arm.c (insns): Add ldm and stm.
gas/testsuite/
	* gas/arm/thumb32.d: Add ldm and stm tests.
	* gas/arm/thumb32.s: Ditto.
@
text
@d1 8
@


1.994
log
@	* gas/bfin/shift2.s: Add new tests.
	* gas/bfin/shift.d: Match changed disassembler behaviour.
	* gas/bfin/parallel2.d: Likewise.
	* gas/bfin/shift2.d: Likewise; also match new tests.
@
text
@d1 5
@


1.993
log
@2006-03-16  Paul Brook  <paul@@codesourcery.com>

gas/
	* config/tc-arm.c (insns): Add "svc".
gas/testsuite/
	* gas/arm/svc.d: New test.
	* gas/arm/svc.s: New test.
	* gas/arm/inst.d: Accept svc mnemonic.
	* gas/arm/thumb.d: Ditto.
	* gas/arm/wince_inst.d: Ditto.
opcodes/
	* arm-dis.c (arm_opcodes): Rename swi to svc.
	(thumb_opcodes): Ditto.
@
text
@d1 7
@


1.992
log
@2006-03-09  Paul Brook  <paul@@codesourcery.com>

bfd/
	* cpu-arm.c (bfd_is_arm_mapping_symbol_name): Recognise additional
	mapping symbols.
gas/testsuite/
	* gas/arm/nomapping.d: New test.
	* gas/arm/nomapping.s: New test.
@
text
@d1 8
@


1.991
log
@gas/testsuite/

2006-03-07  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/2428
	* gas/i386/i386.exp: Add rep, rep-suffix, x86-64-rep and
	x86-64-rep-suffix.

	* gas/i386/naked.d: Replace repz with rep.
	* gas/i386/x86_64.d: Likewise.

	* gas/i386/rep-suffix.d: New file.
	* gas/i386/rep-suffix.s: Likewise.
	* gas/i386/rep.d: Likewise.
	* gas/i386/rep.s: Likewise.
	* gas/i386/x86-64-rep-suffix.d: Likewise.
	* gas/i386/x86-64-rep-suffix.s: Likewise.
	* gas/i386/x86-64-rep.d: Likewise.
	* gas/i386/x86-64-rep.s: Likewise.

opcodes/

2006-03-07  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/2428
	* i386-dis.c (REP_Fixup): New function.
	(AL): Remove duplicate.
	(Xbr): New.
	(Xvr): Likewise.
	(Ybr): Likewise.
	(Yvr): Likewise.
	(indirDXr): Likewise.
	(ALr): Likewise.
	(eAXr): Likewise.
	(dis386): Updated entries of ins, outs, movs, lods and stos.
@
text
@d1 5
@


1.990
log
@bfd/
	* configure.in (bfd_elf32_bigarm_vec): Include elf-vxworks.lo.
	(bfd_elf32_bigarm_symbian_vec): Likewise.
	(bfd_elf32_bigarm_vxworks_vec): Likewise.
	(bfd_elf32_littlearm_vec): Likewise.
	(bfd_elf32_littlearm_symbian_vec): Likewise.
	(bfd_elf32_littlearm_vxworks_vec): Likewise.
	* configure: Regenerate.
	* elf32-arm.c: Include libiberty.h and elf-vxworks.h.
	(RELOC_SECTION, RELOC_SIZE, SWAP_RELOC_IN, SWAP_RELOC_OUT): New macros.
	(elf32_arm_vxworks_bed): Add forward declaration.
	(elf32_arm_howto_table_1): Fix the masks for R_ASM_ABS12.
	(elf32_arm_vxworks_exec_plt0_entry): New table.
	(elf32_arm_vxworks_exec_plt_entry): Likewise.
	(elf32_arm_vxworks_shared_plt_entry): Likewise.
	(elf32_arm_link_hash_table): Add vxworks_p and srelplt2 fields.
	(reloc_section_p): New function.
	(create_got_section): Use RELOC_SECTION.
	(elf32_arm_create_dynamic_sections): Likewise.  Call
	elf_vxworks_create_dynamic_sections for VxWorks targets.
	Choose between the two possible values of plt_header_size
	and plt_entry_size.
	(elf32_arm_link_hash_table_create): Initialize vxworks_p and srelplt2.
	(elf32_arm_abs12_reloc): New function.
	(elf32_arm_final_link_relocate): Call it.  Allow the creation of
	dynamic R_ARM_ABS12 relocs on VxWorks.  Use reloc_section_p,
	RELOC_SIZE, SWAP_RELOC_OUT and RELOC_SECTION.  Initialize the
	r_addend fields of relocs.  On rela targets, skip any code that
	adjusts in-place addends.  When using _bfd_link_final_relocate
	to perform a final relocation, pass rel->r_addend as the addend
	argument.
	(elf32_arm_merge_private_bfd_data): If one of the bfds is a VxWorks
	object, ignore flags that are not standard on VxWorks.
	(elf32_arm_check_relocs): Allow the creation of dynamic R_ARM_ABS12
	relocs on VxWorks.  Use reloc_section_p.
	(elf32_arm_adjust_dynamic_symbol): Use RELOC_SECTION and RELOC_SIZE.
	(allocate_dynrelocs): Use RELOC_SIZE.  Account for the size of
	.rela.plt.unloaded relocs on VxWorks targets.
	(elf32_arm_size_dynamic_sections): Use RELOC_SIZE.  Check for
	.rela.plt.unloaded as well as .rel(a).plt.  Add DT_RELA* tags
	instead of DT_REL* tags on RELA targets.
	(elf32_arm_finish_dynamic_symbol): Use RELOC_SECTION, RELOC_SIZE
	and SWAP_RELOC_OUT.  Initialize r_addend fields.  Handle VxWorks
	PLT entries.  Do not make _GLOBAL_OFFSET_TABLE_ absolute on VxWorks.
	(elf32_arm_finish_dynamic_sections): Use RELOC_SECTION, RELOC_SIZE
	and SWAP_RELOC_OUT.  Initialize r_addend fields.  Handle DT_RELASZ
	like DT_RELSZ.  Handle the VxWorks form of initial PLT entry.
	Correct the .rela.plt.unreloaded symbol indexes.
	(elf32_arm_output_symbol_hook): Call the VxWorks version of this
	hook on VxWorks targets.
	(elf32_arm_vxworks_link_hash_table_create): Set vxworks_p to true.
	Minor formatting tweak.
	(elf32_arm_vxworks_final_write_processing): New function.
	(elf_backend_add_symbol_hook): Override for VxWorks and reset
	for Symbian.
	(elf_backend_final_write_processing): Likewise.
	(elf_backend_emit_relocs): Likewise.
	(elf_backend_want_plt_sym): Likewise.
	(ELF_MAXPAGESIZE): Likewise.
	(elf_backend_may_use_rel_p): Minor formatting tweak.
	(elf_backend_may_use_rela_p): Likewise.
	(elf_backend_default_use_rela_p): Likewise.
	(elf_backend_rela_normal): Likewise.
	* Makefile.in (elf32-arm.lo): Depend on elf-vxworks.h.

gas/
	* config/tc-arm.c (md_apply_fix): Install a value of zero into a
	BFD_RELOC_ARM_OFFSET_IMM field if we're going to generate a RELA
	R_ARM_ABS12 reloc.
	(tc_gen_reloc): Keep the original fx_offset for RELA pc-relative
	relocs, but adjust by md_pcrel_from_section.  Create R_ARM_ABS12
	relocations for BFD_RELOC_ARM_OFFSET_IMM on RELA targets.

gas/testsuite/
	* gas/arm/abs12.s, gas/arm/abs12.d: New test.
	* gas/arm/pic.d: Skip for *-*-vxworks*...
	* gas/arm/pic_vxworks.d: ...use this version instead.
	* gas/arm/unwind_vxworks.d: Fix expected output.

ld/
	* emulparams/armelf_vxworks.sh: Include vxworks.sh.
	(MAXPAGESIZE): Define.
	* emulparams/vxworks.sh: Undefine.
	* Makefile.am (earmelf_vxworks.c): Depend on vxworks.sh and vxworks.em.
	* Makefile.in: Regenerate.

ld/testsuite/
	* ld-arm/vxworks1.dd, ld-arm/vxworks1.ld, ld-arm/vxworks1-lib.dd,
	* ld-arm/vxworks1-lib.nd, ld-arm/vxworks1-lib.rd,
	* ld-arm/vxworks1-lib.s, ld-arm/vxworks1.rd, ld-arm/vxworks1.s,
	* ld-arm/vxworks1-static.d, ld-arm/vxworks2.s, ld-arm/vxworks2.sd,
	* ld-arm/vxworks2-static.sd: New tests.
	* ld-arm/arm-elf.exp: Run them.
@
text
@d1 18
@


1.989
log
@	bfd:
	* archures.c (bfd_mach_mcf_isa_a_nodiv, bfd_mach_mcf_isa_b_nousp):
	New.  Adjust other variants.
	(bfd_default_scan): Update.
	* bfd-in2.h: Rebuilt.
	* cpu-m68k.c: Adjust.
	(bfd_m68k_compatible): New. Use it for architectures.
	* elf32-m68k.c (elf32_m68k_object_p): Adjust.
	(elf32_m68k_merge_private_bfd_data): Adjust.  Correct isa-a/b
	mismatch.
	(elf32_m68k_print_private_bfd_data): Adjust.
	* ieee.c (ieee_write_processor): Adjust.

	binutils:
	* readelf.c (get_machine_flags): Adjust.

	gas:
	* config/tc-m68k.c (m68k_extensions): Allow 'float' on both m68k
	and cf.
	(m68k_ip): <case 'J'> Check we have some control regs.
	(md_parse_option): Allow raw arch switch.
	(m68k_init_arch): Better detection of arch/cpu mismatch.  Detect
	whether 68881 or cfloat was meant by -mfloat.
	(md_show_usage): Adjust extension display.
	(m68k_elf_final_processing): Adjust.

	gas/testsuite:
	* gas/m68k/arch-cpu-1.s: Tweak.
	* gas/m68k/arch-cpu-1.d: Tweak.

	include/elf:
	* m68k.h (EF_M68K_ISA_MASK, EF_M68K_ISA_A,
	EF_M68K_ISA_A_PLUS, EF_M68K_ISA_B, EF_M68K_ISA_C): Adjust.
	(EF_M68K_ISA_A_NODIV, EF_M68K_ISA_B_NOUSP): New.
	(EF_M68K_HW_DIV, EF_M68K_USP): Remove.
	(EF_M68K_MAC, EF_M68K_EMAC, EF_M68K_FLOAT): Adjust.
	(EF_M68K_EMAC_B): New.

	ld/testsuite:
	* ld-m68k: New tests.
@
text
@d1 7
@


1.988
log
@gas/
2006-02-28  Jan Beulich  <jbeulich@@novell.com>

	* macro.c (get_any_string): Don't insert quotes for <>-quoted input.

gas/testsuite/
2006-02-28  Jan Beulich  <jbeulich@@novell.com>

	* gas/all/altmacro.s: Adjust.
	* gas/all/altmac2.s: Adjust.
@
text
@d1 5
@


1.987
log
@gas/
2006-02-28  Jan Beulich  <jbeulich@@novell.com>

	PR/1070
	* macro.c (getstring): Don't treat parentheses special anymore.
	(get_any_string): Don't consider '(' and ')' as quoting anymore.
	Special-case '(', ')', '[', and ']' when dealing with non-quoting
	characters.

gas/testsuite/
2006-02-28  Jan Beulich  <jbeulich@@novell.com>

	* gas/macros/paren[sd]: New.
	* gas/macros/macros.exp: Run new test.
@
text
@d3 5
@


1.986
log
@gas/

2006-02-27  H.J. Lu <hongjiu.lu@@intel.com>

	* gas/config/tc-i386.c (output_insn): Support Intel Merom New
	Instructions.

	* gas/config/tc-i386.h (CpuMNI): New.
	(CpuUnknownFlags): Add CpuMNI.

gas/testsuite/

2006-02-27  H.J. Lu <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Add merom and x86-64-merom.

	* gas/i386/merom.d: New file.
	* gas/i386/merom.s: Likewise.
	* gas/i386/x86-64-merom.d: Likewise.
	* gas/i386/x86-64-merom.s: Likewise.

include/opcode/

2006-02-27  H.J. Lu <hongjiu.lu@@intel.com>

	* i386.h (i386_optab): Support Intel Merom New Instructions.

opcodes/

2006-02-27  H.J. Lu <hongjiu.lu@@intel.com>

	* i386-dis.c (IS_3BYTE_OPCODE): New for 3-byte opcodes used by
	Intel Merom New Instructions.
	(THREE_BYTE_0): Likewise.
	(THREE_BYTE_1): Likewise.
	(three_byte_table): Likewise.
	(dis386_twobyte): Use THREE_BYTE_0 for entry 0x38. Use
	THREE_BYTE_1 for entry 0x3a.
	(twobyte_has_modrm): Updated.
	(twobyte_uses_SSE_prefix): Likewise.
	(print_insn): Handle 3-byte opcodes used by Intel Merom New
	Instructions.
@
text
@d1 5
@


1.985
log
@2006-02-24  David S. Miller  <davem@@sunset.davemloft.net>

	* gas/sparc/rdhpr.s: New test.
	* gas/sparc/rdhpr.d: New test.
	* gas/sparc/wrhpr.s: New test.
	* gas/sparc/wrhpr.d: New test.
	* gas/sparc/window.s: New test.
	* gas/sparc/window.d: New test.
	* gas/sparc/rdpr.s: Add case for reading %gl register.
	* gas/sparc/rdpr.d: Likewise.
	* gas/sparc/wrpr.s: Add case for writing %gl register.
	* gas/sparc/wrpr.d: Likewise.
	* gas/sparc/sparc.exp: Update for new tests.
@
text
@d1 9
@


1.984
log
@2006-02-24  Paul Brook  <paul@@codesourcery.com>

gas/
	* config/arm/tc-arm.c (arm_ext_v6_notm, arm_ext_div, arm_ext_v7,
	arm_ext_v7a, arm_ext_v7r, arm_ext_v7m): New variables.
	(struct asm_barrier_opt): Define.
	(arm_v7m_psr_hsh, arm_barrier_opt_hsh): New variables.
	(parse_psr): Accept V7M psr names.
	(parse_barrier): New function.
	(enum operand_parse_code): Add OP_oBARRIER.
	(parse_operands): Implement OP_oBARRIER.
	(do_barrier): New function.
	(do_dbg, do_pli, do_t_barrier, do_t_dbg, do_t_div): New functions.
	(do_t_cpsi): Add V7M restrictions.
	(do_t_mrs, do_t_msr): Validate V7M variants.
	(md_assemble): Check for NULL variants.
	(v7m_psrs, barrier_opt_names): New tables.
	(insns): Add V7 instructions.  Mark V6 instructions absent from V7M.
	(md_begin): Initialize arm_v7m_psr_hsh and arm_barrier_opt_hsh.
	(arm_cpu_option_table): Add Cortex-M3, R4 and A8.
	(arm_arch_option_table): Add armv7, armv7a, armv7r and armv7m.
	(struct cpu_arch_ver_table): Define.
	(cpu_arch_ver): New.
	(aeabi_set_public_attributes): Use cpu_arch_ver.  Set
	Tag_CPU_arch_profile.
	* doc/c-arm.texi: Document new cpu and arch options.
gas/testsuite/
	* gas/arm/thumb32.d: Fix expected msr and mrs output.
	* gas/arm/arch7.d: New test.
	* gas/arm/arch7.s: New test.
	* gas/arm/arch7m-bad.l: New test.
	* gas/arm/arch7m-bad.d: New test.
	* gas/arm/arch7m-bad.s: New test.
include/opcode/
	* arm.h: Add V7 feature bits.
opcodes/
	* arm-dis.c (arm_opcodes): Add V7 instructions.
	(thumb32_opcodes): Ditto.  Handle V7M MSR/MRS variants.
	(print_arm_address): New function.
	(print_insn_arm): Use it.  Add 'P' and 'U' cases.
	(psr_name): New function.
	(print_insn_thumb32): Add 'U', 'C' and 'D' cases.
@
text
@d1 14
@


1.983
log
@bfd/

2006-02-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* cpu-ia64-opc.c (ins_immu5b): New.
	(ext_immu5b): Likewise.
	(elf64_ia64_operands): Add IMMU5b.

gas/

2006-02-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-ia64.c (operand_match): Handle IA64_OPND_IMMU5b.

gas/testsuite/

2006-02-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/ia64/opc-i.s: Add tests for tf.
	* gas/ia64/pseudo.s: Likewise.
	* gas/ia64/opc-i.d: Updated.
	* gas/ia64/pseudo.d: Likewise.

include/opcode/

2006-02-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* ia64.h (ia64_opnd): Add IA64_OPND_IMMU5b.

opcodes/

2006-02-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* ia64-opc-i.c (bXc): New.
	(mXc): Likewise.
	(OpX2TaTbYaXcC): Likewise.
	(TF). Likewise.
	(TFCM). Likewise.
	(ia64_opcodes_i): Add instructions for tf.

	* ia64-opc.h (IMMU5b): New.

	* ia64-asmtab.c: Regenerated.
@
text
@d1 9
@


1.982
log
@gas/

2006-02-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-ia64.c (specify_resource): Add the rule 17 from
	SDM 2.2.

gas/testsuite/

2006-02-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/ia64/dv-raw-err.s: Add check for vmsw.0.
	* gas/ia64/dv-raw-err.l: Updated.

	* gas/ia64/opc-b.s: Add vmsw.0 and vmsw.1.
	* gas/ia64/opc-b.d: Updated.

opcodes/

2006-02-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* ia64-gen.c (lookup_regindex): Handle ".vm".
	(print_dependency_table): Handle '\"'.

	* ia64-ic.tbl: Updated from SDM 2.2.
	* ia64-raw.tbl: Likewise.
	* ia64-waw.tbl: Likewise.
	* ia64-asmtab.c: Regenerated.

	* ia64-opc-b.c (ia64_opcodes_b): Add vmsw.0 and vmsw.1.
@
text
@d1 7
@


1.981
log
@2005-02-22  Paul Brook  <paul@@codesourcery.com>

gas/
	* config/tc-arm.c (do_pld): Remove incorrect write to
	inst.instruction.
	(encode_thumb32_addr_mode): Use correct operand.
gas/testsuite/
	* gas/arm/thumb32.d: Fix expected pld opcode.
@
text
@d1 8
@


1.980
log
@Add support for the Infineon XC16X.
@
text
@d1 4
@


1.979
log
@2006-02-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/x86-64-crx-suffix.d: Undo the last change.
@
text
@d1 51
@


1.978
log
@gas/testsuite/

2006-02-11  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Add "x86-64-drx" and "x86-64-drx-suffix".

	* gas/i386/x86-64-crx-suffix.d: Minor update.

	* gas/i386/x86-64-drx-suffix.d: New file.
	* gas/i386/x86-64-drx.d: Likewise.
	* gas/i386/x86-64-drx.s: Likewise.

opcodes/

2006-02-11  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (dis386_twobyte): Use "movZ" for debug register
	moves.
@
text
@d1 4
@


1.977
log
@gas/testsuite/

2006-02-11  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Add "x86-64-crx" and "x86-64-crx-suffix".

	* gas/i386/x86-64-crx-suffix.d: New file.
	* gas/i386/x86-64-crx.d: Likewise.
	* gas/i386/x86-64-crx.s: Likewise.

opcodes/

2006-02-11  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c ('Z'): Add a new macro.
	(dis386_twobyte): Use "movZ" for control register moves.
@
text
@d3 10
@


1.976
log
@	* bfd/archures.c (bfd_mach_mcf5200, bfd_mach_mcf5206e,
	bfd_mach_mcf5307, bfd_mach_mcf5407, bfd_mach_mcf528x,
	bfd_mach_mcfv4e, bfd_mach_mcf521x, bfd_mach_mcf5249,
	bfd_mach_mcf547x, bfd_mach_mcf548x): Remove.
	(bfd_mach_mcf_isa_a, bfd_mach_mcf_isa_a_div,
	bfd_mach_mcf_isa_a_div_mac, bfd_mach_mcf_isa_a_div_emac,
	bfd_mach_mcf_isa_aplus, bfd_mach_mcf_isa_aplus_mac,
	bfd_mach_mcf_isa_aplus_emac, bfd_mach_mcf_isa_aplus_usp,
	bfd_mach_mcf_isa_aplus_usp_mac, bfd_mach_mcf_isa_aplus_usp_emac,
	bfd_mach_mcf_isa_b, bfd_mach_mcf_isa_b_mac, bfd_mach_mcf_isa_b_emac,
	bfd_mach_mcf_isa_b_usp_float, bfd_mach_mcf_isa_b_usp_float_mac,
	bfd_mach_mcf_isa_b_usp_float_emac): New.
	(bfd_default_scan): Update coldfire mapping.
	* bfd/bfd-in.h (bfd_m68k_mach_to_features,
	bfd_m68k_features_to_mach): Declare.
	* bfd/bfd-in2.h: Rebuilt.
	* bfd/cpu-m68k.c (arch_info_struct): Add new coldfire machines,
	adjust legacy names.
	(m68k_arch_features): New.
	(bfd_m68k_mach_to_features,
	bfd_m68k_features_to_mach): Define.
	* bfd/elf32-m68k.c (elf32_m68k_object_p): New.
	(elf32_m68k_merge_private_bfd_data): Merge the CF EF flags.
	(elf32_m68k_print_private_bfd_data): Print the CF EF flags.
	(elf_backend_object_p): Define.
	* bfd/ieee.c (ieee_write_processor): Update coldfire machines.
	* bfd/libbfd.h: Rebuilt.

	* gas/config/tc-m68k.c (mcf5208_control_regs, mcf5213_control_regs,
	mcf5329_control_regs): New.
	(not_current_architecture, selected_arch, selected_cpu): New.
	(m68k_archs, m68k_extensions): New.
	(archs): Renamed to ...
	(m68k_cpus): ... here.  Adjust.
	(n_arches): Remove.
	(md_pseudo_table): Add arch and cpu directives.
	(find_cf_chip, m68k_ip): Adjust table scanning.
	(no_68851, no_68881): Remove.
	(md_assemble): Lazily initialize.
	(select_control_regs): Adjust cpu names. Add 5208, 5213, 5329.
	(md_init_after_args): Move functionality to m68k_init_arch.
	(mri_chip): Adjust table scanning.
	(md_parse_option): Reimplement 'm' processing to add -march & -mcpu
	options with saner parsing.
	(m68k_lookup_cpu, m68k_set_arch, m68k_set_cpu, m68k_set_extension,
	m68k_init_arch): New.
	(s_m68k_cpu, s_m68k_arch): New.
	(md_show_usage): Adjust.
	(m68k_elf_final_processing): Set CF EF flags.
	* gas/config/tc-m68k.h (m68k_init_after_args): Remove.
	(tc_init_after_args): Remove.
	* gas/doc/c-m68k.texi (M68K-Opts): Document -march, -mcpu options.
	(M68k-Directives): Document .arch and .cpu directives.

	* gas/testsuite/gas/m68k/all.exp: Add arch-cpu-1 test.
	* gas/testsuite/gas/m68k/arch-cpu-1.[sd]: New.

	* include/elf/m68k.h (EF_CPU32, EF_M68000, EF_CFV4E): Rename to ...
	(EF_M68K_CPU32, EF_M68K_M68000, EF_M68K_CFV4E): ... here.
	(EF_M68K_ISA_MASK, EF_M68K_ISA_A, EF_M68K_M68K_ISA_A_PLUS,
	EF_M68K_ISA_B, EF_M68K_HW_DIV, EF_M68K_MAC_MASK, EF_M68K_MAC,
	EF_M68K_EMAC, EF_M68K_USP, EF_M68K_FLOAT): New.

	* include/opcode/m68k.h (m68008, m68ec030, m68882): Remove.
	(m68k_mask): New.
	(cpu_m68k, cpu_cf): New.
	(mcf5200, mcf5206e, mcf521x, mcf5249, mcf528x, mcf5307, mcf5407,
	mcf5470, mcf5480): Rename to cpu_<foo>. Add m680x0 variants.

	* opcodes/m68k-dis.c (print_insn_m68k): Use
	bfd_m68k_mach_to_features.

	* binutils/readelf.c (get_machine_flags): Add logic for EF_M68K flags.
@
text
@d1 8
@


1.975
log
@2005-02-02  Paul Brook  <paul@@codesourcery.com>

gas/
	* config/tc-arm.c (T2_OPCODE_MASK, T2_DATA_OP_SHIFT, T2_OPCODE_AND,
	T2_OPCODE_BIC, T2_OPCODE_ORR, T2_OPCODE_ORN, T2_OPCODE_EOR,
	T2_OPCODE_ADD, T2_OPCODE_ADC, T2_OPCODE_SBC, T2_OPCODE_SUB,
	T2_OPCODE_RSB): Define.
	(thumb32_negate_data_op): New function.
	(md_apply_fix): Use it.
gas/testsuite/
	* gas/arm/thumb2_invert.d: New test.
	* gas/arm/thumb2_invert.s: New test.
@
text
@d1 5
@


1.974
log
@2006-01-31  Paul Brook  <paul@@codesourcery.com>

gas/
	* config/tc-arm.c (arm_reg_parse): Check if reg is non-NULL.
gas/testsuite/
	* gas/testsuite/gas/arm/iwmmxt-bad.s: Add check for bad register name.
	* gas/testsuite/gas/arm/iwmmxt-bad.l: Ditto.
@
text
@d1 5
@


1.973
log
@fix typo
@
text
@d1 5
@


1.972
log
@Add tests for instructions with offsets.
@
text
@d4 2
a5 2
	* gas/z80/ofseet.d: New file.
	* gas/z80/ofseet.s: New file.
@


1.971
log
@split changelogs
@
text
@d1 6
@


1.970
log
@2006-01-16  Paul Brook  <paul@@codesourcery.com>

opcodes/
	* m68k-opc.c(m68k_opcodes): Fix opcodes for ColdFire f?abss,
	f?add?, and f?sub? instructions.

gas/testsuite/
	* gas/m68k/all.exp: Add mcf-fpu.
	* gas/m68k/mcf-fpu.d: New file.
	* gas/m68k/mcf-fpu.s: New file.
@
text
@d49 1
a49 2820
2005-12-22  Jan Beulich  <jbeulich@@novell.com>

	* gas/all/cond.s: Also check .if works on equates to undefined
	when the expression value can be known without knowing the
	value of the symbol.
	* gas/all/cond.l: Adjust.
	* gas/i386/equ.s: Also check .if works on (equates to)
	registers when the expression value can be known without
	knowing the value of the register.
	* gas/i386/equ.e: Adjust.

2005-12-14  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/rex.[sd]: New.
	* gas/i386/i386.exp: Run new test.

2005-12-12  Nathan Sidwell  <nathan@@codesourcery.com>

	* gas/mt: Renamed from ms1 dir.  Update file names as needed.
	* gas/mt/errors.exp: Replace ms1 arch with mt arch.
	* gas/mt/mt.exp: Replace ms1 arch with mt arch.
	* gas/mt/relocs.exp: Replace ms1 arch with mt arch.

2005-12-07  Hans-Peter Nilsson  <hp@@axis.com>

	* gas/cris/rd-bcnst-pic.d, gas/cris/rd-branch-pic.d,
	gas/cris/rd-brokw-pic-1.d, gas/cris/rd-brokw-pic-2.d,
	gas/cris/rd-brokw-pic-3.d, gas/cris/rd-fragtest-pic.d: New tests.

2005-12-06  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/1874
	* gas/i386/i386.exp: Add x86-64-prescott for 64bit.

	* gas/i386/prescott.s: Test address size override for monitor.
	* gas/i386/prescott.d: Updated.

	* gas/i386/x86-64-prescott.d: New file.
	* gas/i386/x86-64-prescott.s: Likewise.

2005-12-06  Hans-Peter Nilsson  <hp@@axis.com>

	* gas/cris/rd-pcplus.s, gas/cris/rd-pcplus.d: New test.

2005-11-24  John David Anglin  <dave.anglin@@nrc-cnrc.gc.ca>

	* gas/macros/purge.l: Increment line numbers.
	* gas/macros/purge.s: Add ".data" line.

	Bug gas/1896
	* gas/all/redef2.d: Allow "$DATA$" as well as ".data" in matches.
	* gas/all/weakref1.d: Allow "$CODE$" as well as ".text" in matches.
	* gas/hppa/reloc/reloc.exp: Adjust regexp for new output.

2005-11-23  Daniel Jacobowitz  <dan@@codesourcery.com>
	    Thiemo Seufer <ths@@networkno.de>

	* gas/mips/bge.d, gas/mips/bge.s, gas/mips/bgeu.d, gas/mips/bgeu.s,
	gas/mips/blt.d, gas/mips/blt.s, gas/mips/bltu.d,
	gas/mips/bltu.s: Reactivate external branch tests.
	* gas/mips/branch-misc-2.d, gas/mips/branch-misc-2pic.d,
	gas/mips/branch-misc-2-64.d, gas/mips/branch-misc-2pic-64.d: New
	tests.
	* gas/mips/branch-misc-2.l, gas/mips/branch-misc-2pic.l,
	gas/testsuite/gas/mips/branch-misc-2pic.s: Remove.
	* gas/mips/mips.exp: Adjust branch-misc-2 tests.  Add 64-bit
	variants.

2005-11-22  John David Anglin  <dave.anglin@@nrc-cnrc.gc.ca>

	* gas/all/quad.d: Add -j "\$DATA\$".  Modify regexp to check for
	"$DATA$" as well as ".data".
	* gas/all/sleb128.d: Likewise.

2005-11-20  John David Anglin  <dave.anglin@@nrc-cnrc.gc.ca>

	Bug gas/1894 Bug gas/1895
	* gas/all/gas.exp (redef3): xfail on hppa*-*-hpux*.
	* gas/all/redef.d: Add -j "\$DATA\$".  Modify regexp to check for
	"$DATA$" as well as ".data".
	* gas/all/redef2.d: Likewise.

	Bug gas/1879
	* gas/all/weakref1.d: Check for "$CODE$" as well as ".text".
	* gas/all/weakref1.s: Indent "-ld1 = l".
	* gas/all/weakref1g.d: Remove --no-sort option.
	* gas/all/weakref1l.d: Likewise.
	* gas/all/weakref1u.d: Likewise.  Sort expected results.
	* gas/all/weakref1w.d: Likewise.
	* gas/all/weakref2.s: Indent directives.
	* gas/all/weakref3.s: Likewise.

2005-11-17  Jan Beulich  <jbeulich@@novell.com>

	* gas/all/cond.s: Also check ifdef works on equates and
	commons.
	* gas/all/cond.l: Adjust.
	* gas/all/redef2.s: Also test redefining equate to label.
	* gas/all/redef2.d: Adjust.
	* gas/all/redef3.[sd]: New.
	* gas/all/redef4.s: New.
	* gas/all/redef5.s: New.
	* gas/elf/redef.s: New, copied from original gas/all/redef2.s.
	* gas/elf/redef.d: Remove #source.
	* gas/all/gas.exp: Remove exclusion of iq2000-*-* from and
	adjust xfails for redefinition tests. Run new tests. Exclude
	alpha*-*-*, mips*-*-*, *c54x*-*-* from weakref tests.

2005-11-16  Richard Henderson  <rth@@redhat.com>

	* gas/all/weakref1.s: Use "=" instead of ".set" for equivalence.

2005-11-15  Daniel Jacobowitz  <dan@@codesourcery.com>

	* gas/arm/unwind.s, gas/arm/unwind.d, gas/arm/unwind_vxworks.d: Add
	a test for saving only the low registers.

2005-11-14  Thiemo Seufer  <ths@@networkno.de>

	* gas/testsuite/gas/mips/mips16e-jrc.d: Tighten file format
	check, relax whitespace checking.

2005-11-14  David Ung  <davidu@@mips.com>

	* gas/mips/mips.exp: Run new save/restore tests.
	* gas/testsuite/gas/mips/mips16e-save.s: New test for generating
	different styles of save/restore instructions.
	* gas/testsuite/gas/mips/mips16e-save.d: New.

2005-11-10  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/intelbad.d: Add tests for ill registers in brackets.
	* gas/i386/intelbad.l: Adjust.

2005-11-10  Nick Clifton  <nickc@@redhat.com>

	* gas/arm/archv6t2-bad.s: Add tests of badly composed ldrex and
	strex instructions.
	* gas/arm/archv6t2-bad.l: Add expected error messages.
	* gas/arm/r15-bad.l: Adjust error messages for r15 usage in ldrex
	and strex instructions.

2005-11-08  Arnold Metselaar  <arnold.metselaar@@planet.nl>

	* gas/all/cofftag.s: Convert numbers in .type 
	directives to decimal.
	* gas/all/gas.exp: enable cofftag-test for z80-*-coff.

2005-11-08  Nathan Sidwell  <nathan@@codesourcery.com>

	Add ms2.
	* gas/ms1/allinsn.d: Adjust pcrel disassembly.
	* gas/ms1/errors.exp: Fix target triplet.
	* gas/ms1/ms1-16-003.d: Adjust pcrel disassembly.
	* gas/ms1/ms1-16-003.s: Tweak label.
	* gas/ms1/ms1.exp: Adjust target triplet.  Add ms2 test.
	* gas/ms1/ms2.d, gas/ms1/ms2.s: New.
	* gas/ms1/relocs.d: Adjust expected machine name and pcrel
	disassembly. 
	* gas/ms1/relocs.exp: Adjust target triplet.

2005-11-07  Jan Beulich  <jbeulich@@novell.com>

	* gas/all/redef2.[sd]: New.
	* gas/all/gas.exp: Run new test.
	* gas/elf/redef.d: New.
	* gas/elf/elf.exp: Run new test.

2005-11-07  Alan Modra  <amodra@@bigpond.net.au>

	* gas/i386/divide.s: Test line comment starting with '/'.
	* gas/i386/divide.d: Pass --divide to gas.
	* gas/i386/intelok.d: Likewise.
	* gas/i386/i386.exp (divide): Run for all targets.

2005-11-07  Arnold Metselaar <arnold.metselaar@@planet.nl>

	* gas/z80/z80.exp: Added "suffix" test.
	* gas/z80/suffix.s: New file.
	* gas/z80/suffix.d: New file.

2005-11-04  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/padlock.d: Support 64bit BFD.

2005-11-04  Alexandre Oliva  <aoliva@@redhat.com>

	* gas/all/gas.exp: Remove weakref xfail.  Run weakref4.s.
	* gas/all/weakref1.s: Move redefinition bits to...
	* gas/all/weakref4.s: ... new file.
	* gas/all/weakref1.d: Remove command moved to weakref1u.  Adjust
	remaining command for leading tabs.  Regenerate.
	* gas/all/weakref1l.d: Regenerate.
	* gas/all/weakref1u.d: Likewise.
	* gas/all/wealref1w.d: Likewise.

2005-11-04  Jan Beulich  <jbeulich@@novell.com>

	* gas/all/gas.exp: xfail weakref dump tests for all targets.

2005-10-29  Hans-Peter Nilsson  <hp@@axis.com>

	PR gas/1630
	* gas/all/gas.exp <weakref1, weakref1g, weakref1l, weakref1u,
	weakref1w>: Xfail for cris-*-* and mmix-*-*.

2005-10-27  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/equ.d: Fix typo.
	* gas/i386/equ.s: Don't globalize r.

2005-10-27  Jan Beulich  <jbeulich@@novell.com>

	* gas/all/gas.exp: Don't xfail equiv1 test anymore.

2005-10-26  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/archv6.d: Adjust expected output.

2005-10-26  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/intel.s: Replace register used in offset expression.
	* gas/i386/intel.e: Adjust.
	* gas/i386/intelbad.l: Adjust.
	* gas/i386/equ.[sed]: New.
	* gas/i386/i386.exp: Run new test.

2005-10-26  Hans-Peter Nilsson  <hp@@bitrange.com>

	* gas/z80/z80.exp: Fix misplaced-open-brace typo.

2005-10-25  Arnold Metselaar  <arnold.metselaar@@planet.nl>

	* gas/all/gas.exp: Exclude Z80-*-* from floating point, string,
	and cofftag test.
	* gas/macros/macros.exp: Expect z80-*-* to fail the strings test
	because it has no string escapes.
	* gas/z80/quotes.d: New file
	* gas/z80/quotes.d: New file
	* gas/z80/quotes.s: New file
	* gas/z80/redef.d: New file
	* gas/z80/redef.s: New file
	* gas/z80/z80.exp: New file
	
2005-10-24  Bernd Schmidt  <bernd.schmidt@@analog.com>

	* gas/bfin/flow2.d: Match changed assembler behaviour.
	* gas/bfin/reloc.d: Likewise.

2005-10-24  Alexandre Oliva  <aoliva@@redhat.com>

	* gas/all/weakref1.s, gas/all/weakref1.d: New test.
	* gas/all/weakref1g.d, gas/all/weakref1l.d: New tests.
	* gas/all/weakref1u.d, gas/all/weakref1w.d: New tests.
	* gas/all/weakref2.s, gas/all/weakref3.s: New tests.
	* gas/all/gas.exp: Run new tests.

2005-10-24  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/index.[sl]: New.
	* gas/ia64/rotX.[sl]: New.
	* gas/ia64/ia64.exp: Run new tests.

2005-10-24  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/regs.pl: Also check tp alias of r13.
	* gas/ia64/regs.s: Regenerate.
	* gas/ia64/regs.d: Adjust.

2005-10-19  David Ung  <davidu@@mips.com>

	* gas/mips/mips.exp: Run new test.
	* gas/testsuite/gas/mips/mips16e-jrc.s: New test for converting
	jalr/jr to the compact jalrc/jrc instructions.
	* gas/testsuite/gas/mips/mips16e-jrc.d: New.

2005-10-19  Martin Schwidefsky  <schwidefsky@@de.ibm.com>

	* gas/s390/zarch-z9-109.s: Add tests for unnormalized hfp multiply
	and multiply-and-add instructions.
	* gas/s390/zarch-z9-109.d: Update expected result.

2005-10-17  Richard Earnshaw  <richard.earnshaw@@arm.com>

	* gas/arm/copro.d: 'mcrlt' instruction should not be disassembled as
	'cfsh64lt'.

2005-10-12  John David Anglin  <dave.anglin@@nrc-cnrc.gc.ca>

	* gas/hppa/basic/basic.exp (do_system): Adjust for removal of lha
	instructions from system.s.
	* gas/hppa/basic/system.s (lha): Remove.

2005-10-12  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/forward.[sd]: New.
	* gas/ia64/ia64.exp: Run new test.

2005-10-11  Jan Beulich  <jbeulich@@novell.com>

	* gas/all/cond.s: Add test for resolution of fully resolvable
	forward references in .if/.endif.
	* gas/all/cond.d: Rename to:
	* gas/all/cond.l: New.
	* gas/all/assign-bad.s: New.
	* gas/all/assign-ok.s: New.
	* gas/all/equ-bad.s: New.
	* gas/all/equ-ok.s: New.
	* gas/all/equiv1.s: New.
	* gas/all/equiv2.s: New.
	* gas/all/eqv-bad.s: New.
	* gas/all/eqv-ok.s: New.
	* gas/all/eval.[sd]: New.
	* gas/all/forward.[sd]: New.
	* gas/all/redef.[sd]: New.
	* gas/all/gas.exp: Run new tests, but xfail equiv1 (PR/1387).

2005-10-10  Nick Clifton  <nickc@@redhat.com>

	* gas/sh/reg-prefix.s: Use mov.l instruction in preference to
	movli.l.
	* gas/sh/reg-prefix.d: Force little endian assembly.

2005-10-08  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/eabi_attr_1.s: New test.
	* gas/arm/eabi_attr_1.d: New test.
	* gas/arm/arm7t.d: Only disassemble code sections.
	* gas/arm/bignum1.d: Ignore Arm object attribute sections.
	* gas/arm/mapping.d: Ditto.
	* gas/arm/unwind.d: Ditto.
	* gas/elf/section0.d: Ditto.
	* gas/elf/section1.d: Ditto.
	* gas/elf/elf.exp: Set target_machine for Arm EABI based targets.
	* gas/elf/section2.e-armeabi: New file.

2005-10-06  Khem Raj  <kraj@@mvista.com>
            NIIBE Yutaka  <gniibe@@m17n.org>

	* gas/sh/basic.exp:  Run reg-prefix test.
	* gas/sh/reg-prefix.s: New
	* gas/sh/reg-prefix.d: New 

2005-09-30  Catherine Moore  <clm@@cm00re.com>

	* gas/bfin: New testsuite for bfin.
	* gas/all/gas.exp (bfin-*-*): Expected failure for alternate
	macro syntax.

2005-09-30  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/fpa-mem.s: Remove incorrect comments.
	* gas/arm/fpa-mem.d: Update expected results.

2005-09-29  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/alloc.[sl]: New.
	* gas/ia64/ia64.exp: Run new test.

2005-09-28  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/x86-64-stack.s, gas/i386/x86-64-stack.d,
	gas/i386/x86-64-stack-suffix.d, gas/i386/x86-64-stack-intel.d: New.
	* gas/i386/i386.exp: Run new tests.

2005-09-28  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/mixed-mode-reloc.s: Enable all insns.
	* gas/i386/mixed-mode-reloc32.d: Adjust.
	* gas/i386/mixed-mode-reloc64.d: Adjust.

2005-09-28  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/reloc64.s: Also test .slong.
	* gas/i386/reloc64.l: Adjust.
	* gas/i386/reloc64.d: Adjust.

2005-09-21  Alan Modra  <amodra@@bigpond.net.au>

	* gas/lns/lns.exp (lns-common-1): Don't run on targets without
	a bare nop insn.

2005-09-20  Richard Henderson  <rth@@redhat.com>

	* gas/cris/rd-dw2-1.d, gas/cris/rd-dw2-10.d, gas/cris/rd-dw2-11.d,
	gas/cris/rd-dw2-12.d, gas/cris/rd-dw2-13.d, gas/cris/rd-dw2-14.d,
	gas/cris/rd-dw2-15.d, gas/cris/rd-dw2-2.d, gas/cris/rd-dw2-3.d,
	gas/cris/rd-dw2-4.d, gas/cris/rd-dw2-5.d, gas/cris/rd-dw2-6.d,
	gas/cris/rd-dw2-7.d, gas/cris/rd-dw2-8.d, gas/cris/rd-dw2-9.d,
	gas/mips/mips16-dwarf2-n32.d, gas/mips/mips16-dwarf2.d: Add 0x
	prefix in "Advance PC" lines.

2005-09-08  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/arch6zk.d: Rename smi to smc.
	* gas/arm/arch6zk.s: Ditto.
	* gas/arm/thumb32.d: Ditto.
	* gas/arm/thumb32.s: Ditto.

2005-09-07  Richard Henderson  <rth@@redhat.com>

	* gas/lns/lns-common-1.d: Don't match header or special opcode numbers.
	* gas/lns/lns-common-1.s: Update for syntax change.
	* gas/lns/lns-diag-1.[sl]: Likewise.

2005-09-07  Richard Henderson  <rth@@redhat.com>

	* gas/mips/mips16-dwarf2.d: Don't match anything but address and line
	number increments.  Adjust relocation address.
	* gas/mips/mips16-dwarf2-n32.d: Likewise.  Add "N32" to test name.

2005-09-07  Richard Henderson  <rth@@redhat.com>

	* gas/cris/rd-dw2-1.d: Don't match anything but address and line
	number increments.
	* gas/cris/rd-dw2-10.d, gas/cris/rd-dw2-11.d, gas/cris/rd-dw2-12.d,
	gas/cris/rd-dw2-13.d, gas/cris/rd-dw2-14.d, gas/cris/rd-dw2-15.d,
	gas/cris/rd-dw2-2.d, gas/cris/rd-dw2-3.d, gas/cris/rd-dw2-4.d,
	gas/cris/rd-dw2-5.d, gas/cris/rd-dw2-6.d, gas/cris/rd-dw2-7.d,
	gas/cris/rd-dw2-8.d, gas/cris/rd-dw2-9.d: Likewise.

2005-09-07  Richard Henderson  <rth@@redhat.com>

	* gas/lns/lns.exp: New file.
	* gas/lns/lns-common-1.[sd]: New test.
	* gas/lns/lns-diag-1.[sl]: New test.

2005-09-06  Chao-ying Fu  <fu@@mips.com>

	* gas/mips/mips.exp: Run MT test for mips32r2 only.
	* gas/mips/mips32-mt.[sdl]: New test.

2005-09-06  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/thumb2_relax.d: New test.
	* gas/arm/thumb2_relax.s: New test.
	* gas/arm/thumb32.d: Adjust expected results to include relaxation.
	* gas/arm/thumb32.s: Tweak for better coverage of relaxable
	instructions.  Remove load/store tests.

2005-09-02  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/arm3-bad.s: New test.
	* gas/arm/arm3-bad.d: New test.
	* gas/arm/arm3.s: Avoid illegal instructions.
	* gas/arm/arm3.d: Ditto.

2005-09-02  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/vfp-bad_t2.d, gas/arm/vfp-bad_t2.l, arm/vfp-bad_t2.s,
	gas/arm/vfp1_t2.d, gas/arm/vfp1_t2.s, gas/arm/vfp1xD_t2.d,
	gas/arm/vfp1xD_t2.s, gas/arm/vfp2_t2.d, gas/arm/vfp2_t2.s): New files.

2005-09-02  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/fpa-mem.d: Test "stfpls".
	* gas/arm/fpa-mem.s: Ditto.

2005-09-01  Hans-Peter Nilsson  <hp@@axis.com>

	* gas/cris: Adjust all files for testing target
	cris-axis-linux-gnu.

2005-08-30  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/thumb.d: Change "sub rn, rn, rn" to "subs rn, rn, rn".
	* gas/arm/thumb32.d: Ditto.

2005-08-26  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/intel.s: Adjust.
	* gas/i386/intelok.s: Add two more insns.
	* gas/i386/intelok.d: Adjust.

2005-08-26  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/intelok.d: Adjust.

2005-08-25  Chao-ying Fu  <fu@@mips.com>

	* gas/mips/mips.exp: Run DSP test.
	* gas/mips/mips32-dsp.[sdl]: New test.

2005-08-22  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/mixed-mode-reloc.s, gas/i386/mixed-mode-reloc32.d,
	gas/i386/mixed-mode-reloc64.d: New.
	* gas/i386/i386.exp: Run new tests.

2005-08-15  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/thumb2_it.s: Add more instruction variants.
	* gas/arm/thumb2_it.d: Ditto.

2005-08-12 Martin Schwidefsky  <schwidefsky@@de.ibm.com>

	* gas/testsuite/gas/s390/s390.exp: Reorganize gas testsuite for s390
	and add tests for new cpu type z9-109.
	* gas/testsuite/gas/s390/esa-g5.d: New.
	* gas/testsuite/gas/s390/esa-g5.s: New.
	* gas/testsuite/gas/s390/esa-operands.d: New.
	* gas/testsuite/gas/s390/esa-operands.s: New.
	* gas/testsuite/gas/s390/esa-reloc.d: New.
	* gas/testsuite/gas/s390/esa-reloc.s: New.
	* gas/testsuite/gas/s390/esa-z9-109.d: New.
	* gas/testsuite/gas/s390/esa-z9-109.s: New.
	* gas/testsuite/gas/s390/esa-z900.d: New.
	* gas/testsuite/gas/s390/esa-z900.s: New.
	* gas/testsuite/gas/s390/esa-z990.d: New.
	* gas/testsuite/gas/s390/esa-z990.s: New.
	* gas/testsuite/gas/s390/zarch-operands.d: New.
	* gas/testsuite/gas/s390/zarch-operands.s: New.
	* gas/testsuite/gas/s390/zarch-reloc.d: New.
	* gas/testsuite/gas/s390/zarch-reloc.s: New.
	* gas/testsuite/gas/s390/zarch-z9-109.d: New.
	* gas/testsuite/gas/s390/zarch-z9-109.s: New.
	* gas/testsuite/gas/s390/zarch-z900.d: New.
	* gas/testsuite/gas/s390/zarch-z900.s: New.
	* gas/testsuite/gas/s390/zarch-z990.d: New.
	* gas/testsuite/gas/s390/zarch-z990.s: New.
	* gas/testsuite/gas/s390/opcode.d: Delete.
	* gas/testsuite/gas/s390/opcode.s: Delete.
	* gas/testsuite/gas/s390/opcode64.d: Delete.
	* gas/testsuite/gas/s390/opcode64.s: Delete.
	* gas/testsuite/gas/s390/operands.d: Delete.
	* gas/testsuite/gas/s390/operands.s: Delete.
	* gas/testsuite/gas/s390/operands64.d: Delete.
	* gas/testsuite/gas/s390/operands64.s: Delete.
	* gas/testsuite/gas/s390/reloc.d: Likewise.
	* gas/testsuite/gas/s390/reloc.s: Likewise.
	* gas/testsuite/gas/s390/reloc64.d: Likewise.
	* gas/testsuite/gas/s390/reloc64.s: Likewise.

2005-08-11  Alan Modra  <amodra@@bigpond.net.au>

	* gas/all/gas.exp: Remove a29k and m88k support.
	* gas/m88k/allinsn.d: Delete.
	* gas/m88k/allinsn.s: Delete.
	* gas/m88k/init.d: Delete.
	* gas/m88k/init.s: Delete.
	* gas/m88k/m88k.exp: Delete.
	* gas/tic80/add.d: Delete.
	* gas/tic80/add.lst: Delete.
	* gas/tic80/add.s: Delete.
	* gas/tic80/align.d: Delete.
	* gas/tic80/align.lst: Delete.
	* gas/tic80/align.s: Delete.
	* gas/tic80/bitnum.d: Delete.
	* gas/tic80/bitnum.lst: Delete.
	* gas/tic80/bitnum.s: Delete.
	* gas/tic80/ccode.d: Delete.
	* gas/tic80/ccode.lst: Delete.
	* gas/tic80/ccode.s: Delete.
	* gas/tic80/cregops.d: Delete.
	* gas/tic80/cregops.lst: Delete.
	* gas/tic80/cregops.s: Delete.
	* gas/tic80/endmask.d: Delete.
	* gas/tic80/endmask.lst: Delete.
	* gas/tic80/endmask.s: Delete.
	* gas/tic80/float.d: Delete.
	* gas/tic80/float.lst: Delete.
	* gas/tic80/float.s: Delete.
	* gas/tic80/regops.d: Delete.
	* gas/tic80/regops.lst: Delete.
	* gas/tic80/regops.s: Delete.
	* gas/tic80/regops2.d: Delete.
	* gas/tic80/regops2.lst: Delete.
	* gas/tic80/regops2.s: Delete.
	* gas/tic80/regops3.d: Delete.
	* gas/tic80/regops3.lst: Delete.
	* gas/tic80/regops3.s: Delete.
	* gas/tic80/regops4.d: Delete.
	* gas/tic80/regops4.lst: Delete.
	* gas/tic80/regops4.s: Delete.
	* gas/tic80/relocs1.c: Delete.
	* gas/tic80/relocs1.d: Delete.
	* gas/tic80/relocs1.lst: Delete.
	* gas/tic80/relocs1.s: Delete.
	* gas/tic80/relocs1b.d: Delete.
	* gas/tic80/relocs2.c: Delete.
	* gas/tic80/relocs2.d: Delete.
	* gas/tic80/relocs2.lst: Delete.
	* gas/tic80/relocs2.s: Delete.
	* gas/tic80/relocs2b.d: Delete.
	* gas/tic80/tic80.exp: Delete.

2005-08-05  John David Anglin  <dave.anglin@@nrc-cnrc.gc.ca>

	* gas/hppa/reloc/reloc.exp (do_function_reloc_bug): Add "L%" to regexp.

2005-08-05  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/thumb32.s: Use correct conditional suffixes inside IT
	blocks.
	* gas/arm/thumb2_it.d, gas/arm/thumb2_it.s: New test.

2005-08-05  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/thumb32.d: Update ldm/stm dests.
	* gas/arm/thumb32.s: Ditto.

2005-08-03  Nick Clifton  <nickc@@redhat.com>

	* gas/arm/iwmmxt-bad2.s: New file: Check for error messages about
	erroneous offsets in iwmmxt instructions.  Cannot be part of
	iwmmxt-bad.s because the errors there stop the assembler before it
	gets to check the offsets in instructions.
	* gas/arm/iwmmxt-bad2.d: New file.
	* gas/arm/iwmmxt-bad2.l: New file: Expected error messages.

2005-08-02  Khem Raj  <kraj@@mvista.com>

	* gas/arm/iwmmxt.s: Change the offset values of the WLDRD, WSTRD
	and WSTRW instructions to be larger than +/-255.
	* gas/arm/iwmmxt.d: Fix the expected results for these
	instructions.

2005-07-29  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/thumb32.d: Fix expected output for writeback addressing
	modes.  Add single high reg push/pop test.
	* gas/asm/thumb32.s: Add single high reg push/pop test.

2005-07-29  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/thumb32.s: Add tests for addw, subw, tbb and tbh.
	* gas/arm/thumb32.d: Ditto.

2005-07-27  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/unwind-bad.l: Uncomment patterns matching new warnings.
	* gas/ia64/unwind-ok.d: Correct expectations.

2005-07-26  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/immed32.[sd]: New.
	* gas/i386/immed64.[sd]: New.
	* gas/i386/i386.exp: Run new tests.

2005-07-21  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/thumb32.s: Add tests for [pc, #imm] addressing modes.
	* gas/arm/thumb32.d: Ditto.

2005-07-20  Kazuhiro Inaoka  <inaoka.kazuhiro@@renesas.com>

	* gas/m32r/rel32.exp: New file. 
	* gas/m32r/rel32.s: New file. 
	* gas/m32r/rel32.d: New file. 
	* gas/m32r/rel32-pic.s: New file. 
	* gas/m32r/rel32-pic.d: New file. 
	* gas/m32r/rel32-err.s: New file. 
	* gas/m32r/error.exp: Added rel32-err. 

2005-07-18  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Add suffix.

	* gas/i386/suffix.d: New file.
	* gas/i386/suffix.s: Likewise.

2005-07-18  John David Anglin  <dave.anglin@@nrc-cnrc.gc.ca>

	* gas/hppa/basic/fp_comp.s: Add level 1.1 directive.
	* gas/hppa/basic/special.s, gas/hppa/basic/system.s: Likewise.

2005-07-18  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/reloc32.[sdl]: New.
	* gas/i386/reloc64.[sdl]: New.
	* gas/i386/i386.exp: Run new tests.

2007-07-15  H.J. Lu <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Add vmx and x86-64-vmx.

	* gas/i386/vmx.d: New file.
	* gas/i386/vmx.s: Likewise.
	* gas/i386/x86-64-vmx.d: Likewise.
	* gas/i386/x86-64-vmx.s: Likewise.

2005-07-14  Nick Clifton  <nickc@@redhat.com>

	PR 1063
	* gas/crx/gas-segfault.d: New file.
	* gas/crx/gas-segfault.s: New file.

2005-07-12  Hans-Peter Nilsson  <hp@@bitrange.com>

	* gas/mmix/relax1-n.d, gas/mmix/relax1-rn.d: Avoid "# FIXME: "
	first on a line, adjusting for testsuite framework change.

2005-07-10  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386/x86_64.s: Add absolute siged 32bit addressing tests for
	mov.
	* i386/x86_64.d: Updated.

2005-07-08  Hans-Peter Nilsson  <hp@@axis.com>

	PR gas/1049
	* gas/cris/rd-pic-2.d, gas/cris/rd-pic-2.s: New test.
	* gas/cris/rd-abs32-1.d: Tweak for not emitting reloc-related
	garbage for global symbols.

2005-07-07  Nick Clifton  <nickc@@redhat.com>

	* gas/arm/vfp1xD.d: Adjust expected fadds disassemblies now that
	the dissassembler has been fixed.

2005-05-07  Paul Brook  <paul@@codesourcery.com>

	* gas/ppc/altivec.d: Match all powerpc target vecs.
	* gas/ppc/booke.d: Ditto.
	* gas/ppc/e500.d: Ditto.

2005-07-05  Aldy Hernandez  <aldyh@@redhat.com>

	* gas/ms1: New directory.
	* gas/ms1/allinsn.d: New.
	* gas/ms1/allinsn.s: New.
	* gas/ms1/badinsn.s: New.
	* gas/ms1/badinsn1.s: New.
	* gas/ms1/badoffsethigh.s: New.
	* gas/ms1/badoffsetlow.s: New.
	* gas/ms1/badorder.s: New.
	* gas/ms1/badreg.s: New.
	* gas/ms1/badsignedimmhigh.s: New.
	* gas/ms1/badsignedimmlow.s: New.
	* gas/ms1/badsyntax.s: New.
	* gas/ms1/badsyntax1.s: New.
	* gas/ms1/badunsignedimmhigh.s: New.
	* gas/ms1/badunsignedimmlow.s: New.
	* gas/ms1/errors.exp: New.
	* gas/ms1/ldst.s: New.
	* gas/ms1/misc.d: New.
	* gas/ms1/misc.s: New.
	* gas/ms1/ms1-16-003.d: New.
	* gas/ms1/ms1-16-003.s: New.
	* gas/ms1/ms1.exp: New.
	* gas/ms1/msys.d: New.
	* gas/ms1/msys.s: New.
	* gas/ms1/relocs.d: New.
	* gas/ms1/relocs.exp: New.
	* testsuite/gas/ms1/relocs1.s: New.
	* testsuite/gas/ms1/relocs2.s: New.

2005-07-05  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/svme.d: New.
	* gas/i386/svme.s: New.
	* gas/i386/svme64.d: New.
	* gas/i386/i386.exp: Run new tests.

2005-07-04  Zack Weinberg  <zack@@codesourcery.com>

	* lib/gas-defs.exp (run_dump_tests): New proc.
	(run_dump_test): Add support for new options: target, not-target,
	skip, not-skip, error-output.  Document stderr.  Tidy a
	little.
	(slurp_options): If a line doesn't match the option regexp, but
	does begin with #, ignore it; don't stop parsing options.
	* gas/arm/arm.exp: Remove most code.  Use run_dump_tests.

	* gas/arm/archv6t2-bad.d, gas/arm/armv1.d, gas/arm/iwmmxt-bad.d
	* gas/arm/r15-bad.d, gas/arm/req.d, gas/arm/t16-bad.d
	* gas/arm/undefined.d, gas/arm/undefined_coff.d, gas/arm/vfp-bad.d:
	New files.
	* gas/arm/bignum1.d, gas/arm/mapping.d, gas/arm/pic.d:
	Only run on ELF targets.
	* gas/arm/tls.d, gas/arm/unwind.d: Only run on ELF targets.
	Skip on VxWorks.
	* gas/arm/tls_vxworks.d, gas/arm/unwind_vxworks.d: New files.
	* gas/arm/thumb.d, gas/arm/thumb32.d: Don't run on aout or pe.
	* gas/arm/le-fpconst.d: Only run on *-*-pe.
	* gas/arm/inst.d: Skip on WinCE.
	* gas/arm/wince_inst.d: Skip unless WinCE.
	* gas/arm/el_segundo.d: Mark up for actual use; adjust
	expectations.
	* gas/arm/el_segundo.s: Remove irrelevant junk.  Add padding
	for a.out's sake.

2005-07-01  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/group-2.s: Use register as second operand of .prologue.
	* gas/ia64/unwind-err.s: Add check for .vframesp.
	* gas/ia64/unwind-err.l: Adjust.
	* gas/ia64/strange.[sd]: New.
	* gas/ia64/unwind-bad.[sl]: New.
	* gas/ia64/unwind-ok.[sd]: New.
	* gas/ia64/ia64.exp: Run new tests.

2005-06-30  Zack Weinberg  <zack@@codesourcery.com>

	* gas/arm/arm.exp: Don't special case ldconst, arm7t, or copro
	for *-wince-*.
	* gas/arm/wince_arm7t.d, gas/arm/wince_copro.d
	* gas/arm/wince_ldconst.d: Delete.

2005-06-20  H.J. Lu  <hongjiu.lu@@intel.com>

	PR 1013
	* i386/x86_64.s: Add absolute 64bit addressing tests for mov.
	* i386/x86_64.d: Updated.

2005-06-17  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/x86-64-pcrel.s: Add insn requiring 64-bit pc-relative
	relocation. Add insns for all widths of non-pc-relative relocations.
	* gas/i386/x86-64-pcrel.d: Adjust.

2005-06-13  Zack Weinberg  <zack@@codesourcery.com>

	* gas/arm/thumb.s: Only branch to labels defined in this file.
	* gas/arm/thumb.d, gas/arm/thumb32.d: Adjust expected output.

2005-06-01  Maciej W. Rozycki  <macro@@linux-mips.org>

	* gas/mips/ldstla-32-1.l: Update to handle leading zeroes.
	* gas/mips/ldstla-32-mips3-1.l: Likewise.

2005-05-27  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/proc.l: Adjust.

2005-05-25  Steve Ellcey  <sje@@cup.hp.com>

	* gas/ia64/global.d: Change --sym to --syms.

2005-05-25  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/ia64/group-1.d: Updated.
	* gas/ia64/group-2.d: Likewise.

2005-05-25  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/radix.s: New.
	* gas/ia64/radix.l: New.
	* gas/ia64/ia64.exp: Run new test.

2005-05-25  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/intelok.d: Account for 32-bit displacements being shown
	in hex.

2005-05-24  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/elf/group0b.d: Updated.
	* gas/elf/group1b.d: Likewise.

2005-05-19  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/reloc-uw.s: New.
	* gas/ia64/reloc-uw.d: New.
	* gas/ia64/reloc-uw-ilp32.d: New.
	* gas/ia64/ia64.exp: Run new test.

2005-05-18  Jan Beulich  <jbeulich@@novell.com>

	* gas/all/altmacro.s: Parenthesize operand of %.

2005-05-17  Zack Weinberg  <zack@@codesourcery.com>

	* gas/arm/arm.exp: Convert all existing "gas_test" tests to
	"run_dump_test" tests.  Run more tests unconditionally.  Run new tests.
	* gas/arm/arch4t.s, gas/arm/arch6zk.s, gas/arm/arm3.s, gas/arm/arm6.s
	* gas/arm/arm7dm.s, gas/arm/bignum1.s, gas/arm/float.s
	* gas/arm/immed.s, gas/arm/iwmmxt.s, gas/arm/offset.s, gas/arm/thumb.s:
	Adjust to work as a dump test.
	* gas/arm/arch4t.d, gas/arm/arch6zk.d, gas/arm/arm3.d, gas/arm/arm6.d
	* gas/arm/arm7dm.d, gas/arm/bignum1.d, gas/arm/float.d
	* gas/arm/immed.d, gas/arm/iwmmxt.d, gas/arm/offset.d, gas/arm/thumb.d:
	New files.

	* gas/arm/armv1-bad.l, gas/arm/armv1-bad.s: Remove tests for
	diagnostics that don't happen in the first pass anymore.

	* gas/arm/iwmmxt-bad.l, gas/arm/r15-bad.l, gas/arm/req.l
	* gas/arm/vfp-bad.l:
	Update expected diagnostics.
	* gas/arm/pic.d: Update expected reloc name.
	* gas/arm/thumbv6.d: CPY no longer appears in disassembly.
	* gas/arm/r15-bad.s: Avoid two-argument mul.
	* gas/arm/req.s: Adjust comments.
	* gas/arm/maverick.d, gas/arm/maverick.s: Avoid inappropriate
	use of PC.

	* gas/arm/macro-1.d, gas/arm/macro1.s
	* gas/arm/t16-bad.l, gas/arm/t16-bad.s
	* gas/arm/tcompat.d, gas/arm/tcompat.s
	* gas/arm/tcompat2.d, gas/arm/tcompat2.s
	* gas/arm/thumb32.d, gas/arm/thumb32.s
	New test pair.

2005-05-17  Jan Beulich  <jbeulich@@novell.com>

	* gas/mmix/err-byte1.s: Adjust expected error text on line 10.

2005-05-17  Nick Clifton  <nickc@@redhat.com>

	* gas/v850/split-lo16.s: Add test for a lo() pseudo reloc
	corrupting an ld.w instruction.
	* gas/v850/split-lo16.d: Add expected, correct (ie not corrupt)
	output.

2005-05-10  Michael Matz  <matz@@suse.de>

	* gas/hppa/parse/block1.s: Use official limit (0x3fffffff) for
	.block.

2005-05-10  Hans-Peter Nilsson  <hp@@bitrange.com>

	* gas/mmix/relax2.s: Drop ":" off label definitions.

2005-05-09  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/tlsd.[sd]: Adjust to not assume zero displacement will
	actually be present in memory addressing.
	* gas/i386/tlspic.[sd]: Likewise.

2005-05-07  H.J. Lu  <hongjiu.lu@@intel.com>

	PR 940
	* gas/ia64/group-2.d: New.
	* gas/ia64/group-2.s: New.

	* gas/ia64/ia64.exp: Add "group-2".

2005-05-07  H.J. Lu  <hongjiu.lu@@intel.com>

	PR 843
	* gas/i386/i386.exp: Add x86-64-branch.

	* gas/i386/x86-64-branch.d: New.
	* gas/i386/x86-64-branch.s: New.

2005-05-06  Jan Beulich  <jbeulich@@novell.com>

	* gas/macros/badarg.s: Add check for bad qualifier specification.
	* gas/macros/badarg.l: Adjust.
	* gas/macros/vararg.[sd]: New.
	* gas/macros/macros.exp: Run new test.

2005-05-06  Jan Beulich  <jbeulich@@novell.com>

	* gas/all/cond.s: Also test .ifb/.ifnb.
	* gas/all/cond.d: Adjust.

2005-05-06  Jan Beulich  <jbeulich@@novell.com>

	* gas/macros/dot.s: Don't use pseudo-ops in first column.
	* gas/macros/dot.l: Match broader range of possible outputs.
	* gas/macros/purge.l: Likewise.
	* gas/macros/purge.s: Start generated macro names with an underscore.

2005-05-05  Paul Brook  <paul@@codesourcery.com>

	* gas/i386/i386.exp: Don't run divide test on vxworks.

2005-05-05  Nick Clifton  <nickc@@redhat.com>

	* Update the address and phone number of the FSF organization in
	the GPL notices in the following files:
	gas/all/itbl-test.c, gas/all/test-example.c, gas/all/test-gen.c,
	gas/arm/maverick.c, gas/cris/cris.exp, gas/hppa/basic/basic.exp,
	gas/hppa/parse/parse.exp, gas/hppa/reloc/reloc.exp,
	gas/hppa/unsorted/unsorted.exp, gas/m88k/m88k.exp,
	gas/mmix/mmix-err.exp, gas/mmix/mmix-list.exp, gas/mmix/mmix.exp,
	gas/mn10200/basic.exp, gas/mn10300/am33-2.c,
	gas/mn10300/basic.exp, gas/pdp11/opcode.s, gas/ppc/aix.exp,
	gas/sh/basic.exp, gas/sh/err.exp, gas/sh/arch/arch.exp,
	gas/sh/sh64/sh64.exp, gas/v850/basic.exp, lib/gas-defs.exp

2005-05-05  Mike Frysinger  <vapier@@gentoo.org>

	* gas/sh/basic.exp: Replace linux-gnu with linux-* to allow for
	versions of Linux which do not use glibc.
	* gas/vax/vax.exp: Likewise.

2005-05-05  Paul Brook  <paul@@codesourcery.com>

	* lib/gas-defs.exp (regexp_diff): Pass test if last line is "#...".

2005-04-26  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/all/assign.s: Make `x' and `y' global.

2005-04-25  Jan Beulich  <jbeulich@@novell.com>

	* gas/macros/badarg.s: Add tests for collisions between/among macro
	parameters and local symbols.
	* gas/macros/badarg.l: Adjust.

2005-04-20  Jan Beulich  <jbeulich@@novell.com>

	* gas/elf/struct.s: Adjust to not get into alignment issues.
	* gas/elf/struct.d: Adjust for the above and the test's name.

2005-04-19  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/padlock.d: Updated.

2005-04-19  Andreas Schwab  <schwab@@suse.de>

	* gas/ia64/invalid-ar.l: Adapt to changed error message.

2005-04-18  Jan Beulich  <jbeulich@@novell.com>

	* gas/macros/purge.[ls]: New.
	* gas/macros/macros.exp: Run new test.

2005-04-15  Jan Beulich  <jbeulich@@novell.com>

	* gas/elf/struct.[sd]: New.
	* gas/elf/elf.exp: Run new test.

2005-04-15  Alan Modra  <amodra@@bigpond.net.au>

	* gas/all/assign.s: New.
	* gas/all/assign.d: New.
	* gas/all/gas.exp: Run it.

2005-04-13  Maciej W. Rozycki  <macro@@linux-mips.org>

	* gas/mips/ldstla-32.s: Exclude offsets that are now meant to fail
	and include more instructions/offsets that are meant to succeed.
	Use $4 instead $3 to avoid register dependencies.
	* gas/mips/ldstla-32.d: Update accordingly.
	* gas/mips/ldstla-32-shared.d: Likewise.
	* gas/mips/ldstla-32-mips3.d: New test based on the above, except
	for mips3.
	* gas/mips/ldstla-32-mips3-shared.d: Similarly, for PIC.
	* gas/mips/ldstla-32-mips3.s: Source for the new tests.
	* gas/mips/ldstla-32-1.s: New test for offsets that are meant to
	fail.
	* gas/mips/ldstla-32-mips3-1.s: Likewise, for mips3.
	* gas/mips/ldstla-32-1.l: Stderr output for the new test.
	* gas/mips/ldstla-32-mips3-1.l: Likewise.
	* gas/mips/mips.exp: Run the new tests.

2005-04-11  Mark Kettenis  <kettenis@@gnu.org>

	* gas/all/gas.exp: Don't run fastcall labels test on
	i*86-*-openbsd*.

2005-04-11  Jan Beulich  <jbeulich@@novell.com>

	* gas/macros/dot.[ls]: New.
	* gas/macros/macros.exp: Run new test.

2005-04-06  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/x86-64-pcrel.s: Test R_X86_64_32S.
	* gas/i386/x86-64-pcrel.d: Updated.

2005-04-01  Jan-Benedict Glaw  <jbglaw@@lug-owl.de>

	* gas/vax/flonum.s: New testcase: Encode some flonums.
	* gas/vax/flonum.d: Expected result of new testcase.
	* gas/vax/vax.exp: Call the new testcase.

	* gas/vax/elf-rel.d: Call gas with -k. Thanks to Matt Thomas for
	figuring out.
	* gas/vax/vax.exp: Run elf-rel.[sd] for NetBSD-ELF and Linux.

2005-04-01  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/bss.[sd]: New.
	* gas/i386/i386.exp: Run new test.

2005-04-01  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/x86-64-pcrel.[sd]: New.
	* gas/i386/i386.exp: Run new test.

2005-03-30  Julian Brown  <julian@@codesourcery.com>

	* gas/arm/mapping.d: Update expected output due to mapping symbols
	being untyped.

2005-03-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run segment and inval-seg for i386. Run
	x86-64-segment and x86-64-inval-seg for x86-64.

	* gas/i386/intel.d: Expect movw for moving between memory and
	segment register.
	* gas/i386/naked.d: Likewise.
	* gas/i386/opcode.d: Likewise.
	* gas/i386/x86-64-opcode.d: Likewise.

	* gas/i386/opcode.s: Use movw for moving between memory and
	segment register.
	* gas/i386/x86-64-opcode.s: Likewise.

	* : Likewise.

	* gas/i386/inval-seg.l: New.
	* gas/i386/inval-seg.s: New.
	* gas/i386/segment.l: New.
	* gas/i386/segment.s: New.
	* gas/i386/x86-64-inval-seg.l: New.
	* gas/i386/x86-64-inval-seg.s: New.
	* gas/i386/x86-64-segment.l: New.
	* gas/i386/x86-64-segment.s: New.

2005-03-29  Daniel Jacobowitz  <dan@@codesourcery.com>

	* gas/arm/tls.s, gas/arm/tls.d: New files.
	* gas/arm/arm.exp: Run TLS test.

2005-03-29  Julian Brown  <julian@@codesourcery.com>

	* gas/arm/unwind.d: Update expected output.

2005-03-28  H.J. Lu  <hongjiu.lu@@intel.com>

	PR 803
	* gas/ia64/dv-imply.d: Pass -mtune=itanium1 to as.
	* gas/ia64/dv-mutex.d : Likewise.
	* gas/ia64/dv-safe.d: Likewise.
	* gas/ia64/dv-srlz.d.nop: Likewise.
	* gas/ia64/ldxmov-1.d: Likewise.
	* gas/ia64/opc-b.d: Likewise.
	* gas/ia64/opc-f.d: Likewise.
	* gas/ia64/opc-i.d: Likewise.
	* gas/ia64/opc-m.d: Likewise.
	* gas/ia64/operand-or.d: Likewise.
	* gas/ia64/pcrel.d: Likewise.
	* gas/ia64/pseudo.d: Likewise.
	* gas/ia64/tls.d: Likewise.

2005-03-24  Hans-Peter Nilsson  <hp@@axis.com>

	* gas/cris/range-err-1.s: Adjust expected messages for hosts with
	64-bit longs.

2005-03-23  Alan Modra  <amodra@@bigpond.net.au>

	* gas/elf/section5.s: Don't start directives in first column.

2005-03-21  Nick Clifton  <nickc@@redhat.com>

	* gas/arm/iwmmxt.s: Update instructions that use the "never" value
	in the conditional field to use "le" instead.  This is so that the
	disassembler will disassemble them.
	* gas/arm/iwmmxt.d: Update expected disassemblies.

2005-03-17  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/intel.d: Add stderr directive.
	* gas/i386/intel.e: New.
	* gas/i386/intel16.d: Add stderr directive. Adjust for changed
	source.
	* gas/i386/intel16.e: New.
	* gas/i386/intel16.s: Add instances of addressing forms with base
	and index specified in reverse order.
	* gas/i386/intelbad.l: Adjust for changed source.
	* gas/i386/intelbad.s: Add more operand forms to check.
	* gas/i386/intelok.d: Remove -r from objdump options. Add stderr
	directive. Adjust for changed source.
	* gas/i386/intelok.e: New.
	* gas/i386/intelok.s: Define MASM constants byte, word, etc. Add
	more operand forms to check.
	* gas/i386/x86_64.d: Add stderr directive.
	* gas/i386/x86_64.e: New.
	* gas/i386/x86_64.s: Adjust for parser changes.

2005-03-15  Zack Weinberg  <zack@@codesourcery.com>

	* gas/arm/archv6t2.d, gas/arm/archv6t2.s: New dump test.
	* gas/arm/archv6t2-bad.l, gas/arm/archv6t2-bad.l: New errors test.
	* gas/arm/arm.exp: Run them.

2005-03-14  Eric Christopher  <echristo@@redhat.com>

	* gas/cfi/cfi-mips-1.d, gas/cfi/cfi-mips-1.s: New dump test.
	* gas/cfi/cfi.exp: Run it.
	* gas/cfi/cfi-common-1.d: Update.
	* gas/cfi/cfi-common-2.d: Ditto.
	* gas/cfi/cfi-common-3.d: Ditto.
	* gas/cfi/cfi-common-4.d: Ditto.

2005-03-12  Zack Weinberg  <zack@@codesourcery.com>

	* gas/arm/thumbv6k.d, gas/arm/thumbv6k.s: New dump test.
	* gas/arm/arm.exp: Run it.

2005-03-10  Aldy Hernandez  <aldyh@@redhat.com>

	* gas/ppc/e500.d: Fix encoding of efscfd.

2005-03-10  Jeff Baker  <jbaker@@qnx.com>
	    Alan Modra  <amodra@@bigpond.net.au>

	* gas/ppc/booke.s: Add new m[t,f]sprg testcases.
	* gas/ppc/booke.d: Likewise.

2005-03-09  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/mips/vr4130.[sd]: New test.
	* gas/mips/mips.exp: Run it.

2005-03-09  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/mips/relax-swap1-mips[12].d: Expect the delay slots of
	bc1f and bc1t to be filled.
	* gas/mips/branch-misc-3.[sd]: New test.
	* gas/mips/mips.exp: Run it.

2005-03-09  Ben Elliston  <bje@@au.ibm.com>

	* gas/maxq10/maxq10.exp: Remove stray semicolons.
	* gas/maxq20/maxq20.exp: Likewise.

2005-03-08  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/no-fit.[ls]: New.
	* gas/ia64/ia64.exp: Run new test.

2005-03-08  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/xdata.[sd], gas/ia64/xdata-ilp32.d: New.
	* gas/ia64/ia64.exp: Run new tests.

2005-03-08  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/pcrel.d: Account for big endian target.
	* gas/ia64/reloc-bad.s: Enforce 64-bit ABI.

2005-03-08  Hans-Peter Nilsson  <hp@@axis.com>

	Adjust testsuite for cris-axis-aout.
	* gas/cris/rd-bcnst.d, gas/cris/rd-usp-1.d: Adjust regexps for a.out output.
	* gas/cris/mulbug-err-1.s, gas/cris/rd-arch-1.d,
	gas/cris/rd-arch-2.d, gas/cris/rd-arch-3.d, gas/cris/rd-break32.d,
	gas/cris/rd-pcrel2.d, gas/cris/rd-ppv1032.d, gas/cris/rd-ppv32.d,
	gas/cris/rd-usp-1b.d, gas/cris/v32-err-7.s: Pass --em=criself.

2005-03-04  David Daney  <ddaney@@avtrex.com>

	* gas/mips/elf-rel23b.d: Use '__gnu_local_gp' instead of '_gp'
	for -mno-shared optimization.
	* gas/mips/elf-rel25a.d: Ditto.

2005-03-04  Nick Clifton  <nickc@@redhat.com>

	* gas/arm/arm.exp: Fix test for running the "undefined" to catch
	more non-ELF cases.
	* gas/arm/pic.d: Fix for vxworks target.
	* gas/arm/basic.d: Likewise.
	* gas/arm/unwind.d: Likewise.

2005-03-04  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/mips/ldstla-{n32.s, n32.d, n32-shared.d}: Delete.
	* gas/mips/ldstla-{n64.d, n64-shared.d}: Adjust expected output
	for loads and stores from constant addresses.
	* gas/mips/ldstla-{sym32.s, eabi64.d, n64-sym32.d}: New tests.
	* gas/mips/mips.exp: Run them.

2005-03-03  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/mips/mips.exp: Move tls tests to main $elf block.

2005-03-03  Nick Clifton  <nickc@@redhat.com>

	* gas/macros/macros.exp (and.s): Expect this test to fail for the
	tic4x-coff target because it uses the '&' character as a line
	separator.

	* gas/sh/basic.exp: Add an sh-hms version of the pcrel test.
	* gas/sh/pcrel-hms.d: New file.  Adjusted form of pcrel-coff.d for
	the sh-hms target.
	* gas/sh/arch/arch.exp: Expect the same failures for sh-hms port
	as for the sh-coff port.

	* gas/macros/macros.exp (run_list_test): Also expect the msp430
	port to fail the strings test because it defines
	ONLY_STANDARD_ESCAPES.

	* gas/arm/arch6zk.s: Add three nop instructions in order to pad
	the .text section out to a 32-byte boundary as will automatically
	be done by the arm-aout target.
	* gas/arm/arch6zk.d: Add expected nop disassemblies.

	* gas/d30v/serial.l: Remove listing lines that are no longer
	emitted and fix up expected binary encoding.
	* gas/d30v/serial2.l: Likewise.
	* gas/d30v/serial2O.l: Likewise.

2005-03-03  Ramana Radhakrishnan  <ramana.radhakrishnan@@codito.com>

	* gas/arc/extensions.s: Add tests for extcoreregister.
	* gas/arc/extensions.d: Likewise.
	* gas/arc/warn.s: Warnings for readonly core registers accessed.
	* gas/arc/warn.d: Likewise.
	* gas/arc/arc.exp: Run extensions testcase.

2005-03-03  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/mips/noat-1.d: Add -mips1 to assembler options.

2005-03-03  Ramana Radhakrishnan  <ramana.radhakrishnan@@codito.com>

	* gas/arc/ld.s: Add checks for short immediates with ld.
	* gas/arc/ld.d: Likewise.

2005-03-02  Daniel Jacobowitz  <dan@@codesourcery.com>

	* gas/mips/tls-o32.d, gas/mips/tls-o32.s, gas/mips/tls-ill.l,
	gas/mips/tls-ill.s: New files.
	* gas/mips/mips.exp: Run TLS tests.

2005-03-02  Alan Modra  <amodra@@bigpond.net.au>

	* gas/ppc/astest.d: Adjust for relocs reduced to section sym.
	* gas/ppc/astest2.d: Likewise.
	* gas/ppc/astest2_64.d: Likewise.
	* ppc/astest64.d: Likewise.
	* ppc/booke.d: Likewise.
	* ppc/power4.d: Likewise.
	* ppc/test1elf32.d: Likewise.
	* ppc/test1elf64.d: Likewise.

2005-03-02  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/cr-err.[ls]: New.
	* gas/i386/crx.[ds]: New.
	* gas/i386/i386.exp: Run new tests.

2005-03-02  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/intelok.d: Add -r to objdump options. Adjust expectations.
	* gas/i386/intelok.s: Add checks for various special memory operands.

2005-03-01  Ramana Radhakrishnan  <ramana.radhakrishnan@@codito.com>

	* gas/arc/extensions.s: New file.
	* gas/arc/extensions.d: New file.

2005-03-01  Nick Clifton  <nickc@@redhat.com>

	* gas/arm/arm.exp (undefined): Run a COFF variant of this test for
	COFF based ports.
	* gas/arm/undefined_coff.s: New file: Variant of undefined.s but
	with a COFF formated local label name.
	* gas/arm/undefined_coff.l: New file.  Variant of undefined.l.

2005-03-01  Stig Petter Olsroed  <stigpo@@users.sourceforge.net>
	    Nick Clifton  <nickc@@redhat.com>

	* gas/arm/inst.d: Allow for ARM ports which decode the reloc
	associated with branches and so show the exact symbolic
	destination address rather than an offset from the start of the
	section.
	* gas/arm/pic.d: Likewise.

2005-03-01  Alan Modra  <amodra@@bigpond.net.au>

	* gas/m68k/mcf-emac.d: Allow for 64-bit addresses.
	* gas/m68k/mcf-mac.d: Likewise.
	* gas/m68k/mcf-mov3q.d: Likewise.
	* gas/m68k/mode5.d: Likewise.

2005-02-22  Eric Christopher  <echristo@@redhat.com>

	* gas/mips/elf-rel10.d: Update for label change.

2005-02-22  Maciej W. Rozycki  <macro@@mips.com>

	* gas/mips/mips16-dwarf2.d: Pass -mabi=32.  Include relocation
	information.
	* gas/mips/mips16-dwarf2-n32.d: New test to check DWARF2 line
	information for MIPS16 for the n32 ABI.
	* gas/mips/mips.exp. Run the new test.

2005-02-22  Eric Christopher  <echristo@@redhat.com>

	* gas/mips/elf-rel10.s: Add label for frob.

2005-02-22  Maciej W. Rozycki  <macro@@mips.com>

	* gas/mips/mips16-dwarf2.d: New test to check DWARF2 line
	information for MIPS16.
	* gas/mips/mips16-dwarf2.s: Source for the new test.
	* gas/mips/mips.exp: Run the new test.

2005-02-21  Alan Modra  <amodra@@bigpond.net.au>

	* gas/d10v/instruction_packing-005.d: Adjust.
	* gas/d10v/instruction_packing-008.d: Ignore disassembled stabs.
	* gas/d10v/instruction_packing-009.d: Likewise.
	* gas/d10v/instruction_packing-010.d: Likewise.
	* gas/d10v/warning-001.d: Use #warning instead of #error.
	* gas/d10v/warning-002.d: Likewise.
	* gas/d10v/warning-003.d: Likewise.
	* gas/d10v/warning-004.d: Likewise.
	* gas/d10v/warning-005.d: Likewise.
	* gas/d10v/warning-006.d: Likewise.
	* gas/d10v/warning-007.d: Likewise.
	* gas/d10v/warning-008.d: Likewise.
	* gas/d10v/warning-009.d: Likewise.
	* gas/d10v/warning-010.d: Likewise.
	* gas/d10v/warning-011.d: Likewise.
	* gas/d10v/warning-012.d: Likewise.
	* gas/d10v/warning-013.d: Likewise.
	* gas/d10v/warning-015.d: Likewise.
	* gas/d10v/warning-016.d: Likewise.
	* gas/d10v/warning-017.d: Likewise.
	* gas/d10v/warning-018.d: Likewise.
	* gas/d10v/warning-019.d: Likewise.
	* lib/gas-defs.exp (run_dump_test): Don't require a dump program if
	#warning given.  Rearrange to allow $program to remain unset.
	Fail the test if warning not found when expected.  Conversely fail
	the test if assembler errors or warnings given when not expected.

2005-02-18  Thiemo Seufer  <seufer@@csv.ica.uni-stuttgart.de>

	* gas/mips/noat-1.s, gas/mips/noat-1.d, gas/mips/noat-2.s,
	gas/mips/noat2.l, gas/mips/noat-3.s, gas/mips/noat-3.l,
	gas/mips/noat-4.s, gas/mips/noat-4.l, gas/mips/noat-5.s,
	gas/mips/noat-5.l, gas/mips/noat-6.s, gas/mips/noat-6.l,
	gas/mips/noat-7.s, gas/mips/noat-7.l: New files, testcases for
	.set noat in macro expansions.
	* gas/mips/mips.exp: Run new testcases.
	* gas/mips/rol-hw.d, gas/mips/rol-hw.l, gas/mips/rol.d,
	gas/mips/rol.l, gas/mips/rol.s, gas/mips/rol64-hw.d,
	gas/mips/rol64-hw.l, gas/mips/rol64.d, gas/mips/rol64.l,
	gas/mips/rol64.s, gas/mips/uld2-eb.d, gas/mips/uld2-el.d,
	gas/mips/uld2.l, gas/mips/uld2.s, gas/mips/ulh2-eb.d,
	gas/mips/ulh2-el.d, gas/mips/ulh2.l, gas/mips/ulh2.s,
	gas/mips/ulw2-eb-ilocks.d, gas/mips/ulw2-eb.d,
	gas/mips/ulw2-el-ilocks.d, gas/mips/ulw2-el.d, gas/mips/ulw2.l,
	gas/mips/ulw2.s: Don't try to test .set noat.

2005-02-17  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/ia64/hint.b-err.l: New file.
	* gas/ia64/hint.b-err.s: Likewise.
	* gas/ia64/hint.b-warn.l: Likewise.
	* gas/ia64/hint.b-warn.s: Likewise.

	* gas/ia64/ia64.exp: Run hint.b-err and hint.b-warn.

	* gas/ia64/opc-b.d: Pass -mhint.b=ok to as.

2005-02-17  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/nostkreg.[ds]: New.
	* gas/ia64/ia64.exp: Run new test.

2005-02-16  Alan Modra  <amodra@@bigpond.net.au>

	* gas/all/gas.exp (quad): Don't run on i960.

2005-02-15  Nigel Stephens  <nigel@@mips.com>
	    Maciej W. Rozycki  <macro@@mips.com>

	* gas/mips/mips16-hilo.d: New test for the R_MIPS16_HI16 and
	R_MIPS16_LO16 relocs.
	* gas/mips/mips16-hilo-n32.d: Likewise, for the n32 ABI.
	* gas/mips/mips16-hilo.s: Source for the new tests.
	* gas/mips/mips.exp: Run the new tests.

2005-02-15  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/pcrel.[ds]: New.
	* gas/ia64/ia64.exp: Run new test.

2005-02-15  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/dv-raw-err.l: Expect specific resource for RAW
	violation on b0.
	* gas/ia64/regval.[ls]: New.
	* gas/ia64/ia64.exp: Run new test.

2005-02-15  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/dv-raw-err.s: Don't use r0 or f0 as output operand.
	* gas/ia64/dv-waw-err.s: Likewise.
	* gas/ia64/reg-err.[ls]: New.
	* gas/ia64/ia64.exp: Run new test.

2005-02-15  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/reloc.[ds]: New.
	* gas/ia64/reloc-bad.[ls]: New.
	* gas/ia64/ia64.exp: Run new tests.

2005-02-15  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/operand-or.d: Pass -xnone to assembler.

2005-02-13  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/label.l: Adjust line numbers.
	* gas/ia64/label.s: Add .explicit.
	* gas/ia64/nop_x.s: Likewise.
	* gas/ia64/opc-a.d: Add assembler option -xnone.
	* gas/ia64/opc-b.d: Likewise.
	* gas/ia64/opc-f.d: Likewise.
	* gas/ia64/opc-i.d: Likewise.
	* gas/ia64/opc-m.d: Likewise.
	* gas/ia64/opc-x.d: Likewise.
	* gas/ia64/pseudo.d: Likewise.
	* gas/ia64/regs.d: Likewise.
	* gas/ia64/tls.d: Likewise.
	* gas/ia64/unwind-err.l: Adjust line numbers.
	* gas/ia64/unwind-err.s: Remove explicit stops.

2005-02-13  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/pound.[ls]: New.
	* gas/ia64/ia64.exp: Run new test.

2005-02-13  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/ia64/ia64.exp: Add "operand-or".

	* gas/ia64/operand-or.d: New file.
	* gas/ia64/operand-or.s: Likewise.

2005-02-11  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/ia64/ia64.exp: Pass -munwind-check=error for unwind-err
	and proc.

2005-02-10  Julian Brown  <julian@@codesourcery.com>

	* gas/arm/unwind.d: Alter expected output to include dependency on
	__aeabi_unwind_cpp_pr[01].

2005-02-09  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/intelok.s: Remove comments disabling alternative forms of
	fbld, fbstp, and fldcw.
	* gas/i386/intelok.d: Expect two instances of fbld, fbstp, and fldcw.

2005-02-07  Inderpreet Singh <inderpreetb@@noida.hcltech.com>

	* gas/maxq10/jump.d: Fixed relative jump offset.
	* gas/maxq10/call.d: Likewise.
	* gas/maxq20/jump.d: Likewise.
	* gas/maxq20/call.d: Likewise.

2005-02-07  Hans-Peter Nilsson  <hp@@axis.com>

	* lib/gas-defs.exp: Support new directive "warning".

2005-02-02  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/pred-rel.s: New.
	* gas/ia64/ia64.exp: Run new test.

2005-01-31  Daniel Jacobowitz  <dan@@codesourcery.com>

	* gas/mips/elf-rel23.d, gas/mips/elf-rel23a.d: Accept little-endian.
	* gas/mips/tmipsel16-e.d, gas/mips/tmipsel16-f.d: Accept section
	symbol names.

2005-01-31  Jan Beulich  <jbeulich@@novell.com>

	* gas/macros/repeat.[ds]: New.
	* gas/macros/macros.exp: Run new test.

2005-01-31  Jan Beulich  <jbeulich@@novell.com>

	* gas/macros/badarg.[ls]: New.
	* gas/macros/end.[ls]: New.
	* gas/macros/redef.[ls]: New.
	* gas/macros/macros.exp (run_list_test): Copy from elsewhere.
	Run new tests.

2005-01-31  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/operands.[ls]: New.
	* gas/ia64/ia64.exp: Run new test.

2005-01-31  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/proc.[ls]: New.
	* gas/ia64/unwind-err.[ls]: New.
	* gas/ia64/ia64.exp: Run new tests.

2005-01-31  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/bundling.[ds]: New.
	* gas/ia64/label.[ls]: New.
	* gas/ia64/last.[ls]: New.
	* gas/ia64/slot2.[ls]: New.
	* gas/ia64/ia64.exp: Run new tests.

2005-01-31  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/pseudo.[ds]: New.
	* gas/ia64/ia64.exp: Run new test.

2005-01-27  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/nop_x.[ds]: New.
	* gas/ia64/ia64.exp: Run new test.

2005-01-27  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/dv-waw-err.l: Don't expect ar112 move warning to refer to
	M-unit.
	* gas/ia64/mov-ar.[ds]: New.
	* gas/ia64/ia64.exp: Run new test.

2005-01-24  Nick Clifton  <nickc@@redhat.com>

	* gas/all/sleb128.d: Do not assume an 8-bit byte.
	* gas/all/quad.d: Likewise.  Also allow for ports which order
	bytes within words in other than simple big-endian or
	little-endian fashions.

2005-01-19  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/all/sleb128.[sd]: New test.
	* gas/all/quad.[sd]: New test.
	* gas/all/gas.exp: Run them.

2005-01-17  Andrew Stubbs  <andrew.stubbs@@st.com>

	* gas/sh/arch/arch.exp: Correct the email address.
	Correct a few comment typos.
	Add new tests to ensure that the assembler will only accept
	instructions valid in each architecture and vice-versa.
	* gas/sh/arch/arch_expected.txt: Update/Correct the test results.
	* gas/sh/arch/sh2a-nofpu-or-sh3-nommu.s: Regenerate.
	* gas/sh/arch/sh2a-nofpu-or-sh4-nommu-nofpu.s: Regenerate.
	* gas/sh/arch/sh2a-nofpu.s: Generate new file.
	* gas/sh/arch/sh2a-or-sh3e.s: Regenerate.
	* gas/sh/arch/sh2a-or-sh4.s: Regenerate.
	* gas/sh/arch/sh2a.s: Generate new file.
	* gas/sh/arch/sh2e.s: Regenerate.
	* gas/sh/arch/sh2.s: Regenerate.
	* gas/sh/arch/sh3-dsp.s: Regenerate.
	* gas/sh/arch/sh3e.s: Regenerate.
	* gas/sh/arch/sh3-nommu.s: Regenerate.
	* gas/sh/arch/sh3.s: Regenerate.
	* gas/sh/arch/sh4al-dsp.s: Regenerate.
	* gas/sh/arch/sh4a-nofpu.s: Regenerate.
	* gas/sh/arch/sh4a.s: Regenerate.
	* gas/sh/arch/sh4-nofpu.s: Regenerate.
	* gas/sh/arch/sh4-nommu-nofpu.s: Regenerate.
	* gas/sh/arch/sh4.s: Regenerate.
	* gas/sh/arch/sh-dsp.s: Regenerate.
	* gas/sh/arch/sh.s: Regenerate.

2005-01-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386/i386.exp: Run "sib".

	* gas/i386/sib.d: New file.
	* gas/i386/sib.s: Likewise.

2005-01-09  Andreas Schwab  <schwab@@suse.de>

	* gas/i386/intel16.d: Ignore trailing text with #pass.
	* gas/i386/intelok.d: Likewise.
	* gas/i386/prefix.d: Likewise.
	* gas/i386/sub.d: Likewise.
	* gas/i386/padlock.d: Likewise.
	* gas/i386/x86_64.d: Likewise.

2005-01-05  Eric Botcazou  <ebotcazou@@libertysurf.fr>

	* gas/elf/elf.exp (section5): Use 0-9 instead of [:digit:].

2004-12-31  Alan Modra  <amodra@@bigpond.net.au>

	* gas/elf/elf.exp: Don't list reloc sections.
	* gas/elf/section5.e: Remove reloc sections.

2004-12-21  Tomer Levi  <Tomer.Levi@@nsc.com>

	* gas/crx/beq_insn.d: Update reference file according to
	disassembler printing method.
	* gas/crx/bit_insn.d: Likewise.
	* gas/crx/br_insn.d: Likewise.
	* gas/crx/cmpbr_insn.d: Likewise.
	* gas/crx/cop_insn.d: Likewise.
	* gas/crx/load_stor_insn.d: Likewise.

2004-12-21  Hans-Peter Nilsson  <hp@@axis.com>

	* gas/elf/section5.e, gas/elf/section5.l: Replace [:digit:],
	[:xdigit:] and {N} in regexps with [0-9], [0-9a-fA-F] and N
	copies, to cater to tcl versions before Tcl 8.2.3.

2004-12-20  Nick Clifton  <nickc@@redhat.com>

	* gas/elf/section5.[ls]: Use % instead of @@ in .section
	directives.

2004-12-16  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/v850/split-lo16.{s,d}: New test.
	* gas/v850/v850.exp: Run it.

2004-12-15 Jan Beulich  <jbeulich@@novell.com>

	* gas/elf/section5.[els]: New.

2004-12-13  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/mips/elf-rel25.d, gas/mips/elf-rel25a.d: Cope with different
	.text alignments.

2004-12-11  Alan Modra  <amodra@@bigpond.net.au>

	* gas/alpha/elf-usepv-1.d: Update for changed section syms.
	* gas/arm/mapping.d: Likewise.
	* gas/mips/tmips16-e.d: Likewise.
	* gas/mips/tmips16-f.d: Likewise.
	* gas/mmix/align-1.d: Likewise.
	* gas/mmix/basep-10.d: Likewise.
	* gas/mmix/basep-11.d: Likewise.
	* gas/mmix/basep-7.d: Likewise.
	* gas/mmix/basep-8.d: Likewise.
	* gas/mmix/basep-9.d: Likewise.
	* gas/mmix/builtin1.d: Likewise.
	* gas/mmix/builtin2.d: Likewise.
	* gas/mmix/builtin3.d: Likewise.
	* gas/mmix/bz-c.d: Likewise.
	* gas/mmix/comment-2.d: Likewise.
	* gas/mmix/comment-3.d: Likewise.
	* gas/mmix/cons-2.d: Likewise.
	* gas/mmix/fb-1.d: Likewise.
	* gas/mmix/fb-2.d: Likewise.
	* gas/mmix/geta-c.d: Likewise.
	* gas/mmix/greg1.d: Likewise.
	* gas/mmix/greg1a.d: Likewise.
	* gas/mmix/greg2.d: Likewise.
	* gas/mmix/greg2a.d: Likewise.
	* gas/mmix/greg3.d: Likewise.
	* gas/mmix/greg4.d: Likewise.
	* gas/mmix/greg5.d: Likewise.
	* gas/mmix/greg6.d: Likewise.
	* gas/mmix/greg7.d: Likewise.
	* gas/mmix/greg8.d: Likewise.
	* gas/mmix/is-1.d: Likewise.
	* gas/mmix/jump-c.d: Likewise.
	* gas/mmix/local-1.d: Likewise.
	* gas/mmix/locall1.d: Likewise.
	* gas/mmix/odd-1.d: Likewise.
	* gas/mmix/op-0-1.d: Likewise.
	* gas/mmix/op-0-1s.d: Likewise.
	* gas/mmix/op-0-2.d: Likewise.
	* gas/mmix/prefix1.d: Likewise.
	* gas/mmix/prefix2.d: Likewise.
	* gas/mmix/prefix3.d: Likewise.
	* gas/mmix/pseudo-1.d: Likewise.
	* gas/mmix/pushj-c.d: Likewise.
	* gas/mmix/pushj-cs.d: Likewise.
	* gas/mmix/sym-1.d: Likewise.
	* gas/mmix/weak1-s.d: Likewise.
	* gas/mmix/weak1.d: Likewise.
	* gas/mmix/zerop-1.d: Likewise.
	* gas/ppc/power4.d: Likewise.
	* gas/ppc/test1elf32.d: Likewise.
	* gas/ppc/test1elf64.d: Likewise.
	* gas/sh/sh64/datal32-3.d: Likewise.
	* gas/sh/sh64/datal64-3.d: Likewise.
	* gas/sh/sh64/localcom-1.d: Likewise.

2004-12-10  Ian Lance Taylor  <ian@@wasabisystems.com>

	* gas/mips/elf-rel23a.d: New test.
	* gas/mips/elf-rel23b.d: New test.
	* gas/mips/elf-rel25.s: New test.
	* gas/mips/elf-rel25.d: New test.
	* gas/mips/elf-rel25a.d: New test.
	* gas/mips/mips.exp: Run new tests.

2004-12-09  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/unwind.d: Expect R_ARM_PREL31 relocations.

2004-12-09  Ian Lance Taylor  <ian@@wasabisystems.com>

	* gas/mips/branch-swap.d: Pass -32 to as.

2004-11-29  Tomer Levi  <Tomer.Levi@@nsc.com>

	* gas/crx/br_insn.d: Fix error in expected disassembly.

2004-11-29  Kazuhiro Inaoka <inaoka.kazuhiro@@renesas.com>

	* gas/m32r/rela-1.s: New test.
	* gas/m32r/rela-1.d: Expected disassembly.
	* gas/m32r/m32r.exp: Run the new test.
	* gas/m32r/relax-1.d: Update for fixed pcrel reloc
	generation.

2004-11-27  Richard Earnshaw  <rearnsha@@arm.com>

	* gas/arm/thumbv6.d (setend): Remove stray tab at end
	of dump pattern.

2004-11-25  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/ia64/group-1.d: Adjust expected secion ordering.

2004-11-25 Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/x86-64-inval.[sl]: Remove sahf/lahf.

2004-11-24  Paul Brook  <paul@@codesourcery.com>

	* gas/elf/group0a.d: Adjust expected secion ordering.
	* gas/elf/group1a.d: Ditto.
	* gas/elf/section4.d: Ditto.

2004-11-24  Nick Clifton  <nickc@@redhat.com>

	* gas/iq2000/allinsn.exp: Remove IQ10 tests.
	* gas/iq2000/q10allinsn.d: Delete.
	* gas/iq2000/q10allinsn.s: Delete.
	* gas/iq2000/q10hazard4.s: Delete.
	* gas/iq2000/q10hazard5.s: Delete.
	* gas/iq2000/q10load-hazards.exp: Delete.
	* gas/iq2000/q10nohazard.s: Delete.
	* gas/iq2000/q10noyield.s: Delete.
	* gas/iq2000/q10test0.d: Delete.
	* gas/iq2000/q10test0.s: Delete.
	* gas/iq2000/q10test1.d: Delete.
	* gas/iq2000/q10test1.s: Delete.
	* gas/iq2000/q10test10.d: Delete.
	* gas/iq2000/q10test10.s: Delete.
	* gas/iq2000/q10test11.d: Delete.
	* gas/iq2000/q10test11.s: Delete.
	* gas/iq2000/q10test12.d: Delete.
	* gas/iq2000/q10test12.s: Delete.
	* gas/iq2000/q10test2.d: Delete.
	* gas/iq2000/q10test2.s: Delete.
	* gas/iq2000/q10test3.d: Delete.
	* gas/iq2000/q10test3.s: Delete.
	* gas/iq2000/q10test4.d: Delete.
	* gas/iq2000/q10test4.s: Delete.
	* gas/iq2000/q10test5.d: Delete.
	* gas/iq2000/q10test5.s: Delete.
	* gas/iq2000/q10test6.d: Delete.
	* gas/iq2000/q10test6.s: Delete.
	* gas/iq2000/q10test7.d: Delete.
	* gas/iq2000/q10test7.s: Delete.
	* gas/iq2000/q10test8.d: Delete.
	* gas/iq2000/q10test8.s: Delete.
	* gas/iq2000/q10test9.d: Delete.
	* gas/iq2000/q10test9.s: Delete.
	* gas/iq2000/q10yield.exp: Delete.
	* gas/iq2000/test.exp: Delete.

2004-11-24  Ramana Radhakrishnan  <ramana.radhakrishnan@@codito.com>

	* gas/arc/st.s: Add checks for other variants of the sr and st
	instruction.
	* gas/arc/st.d: Update the expected disassembly.

2004-11-23  Nick Clifton  <nickc@@redhat.com>

	* gas/mn10300/relax.s: Add further tests of the relaxing of branch
	instructions.
	* gas/mn10300/relax.d: Add expected relocations.

2004-11-22  Ravi Ramaseshan  <ravi.ramaseshan@@codito.com>

	* gas/arc/ld.s: Add check of load of a long immediate.
	* gas/arc/ld.d: Add expected disassembly.

2004-11-22  Hans-Peter Nilsson  <hp@@axis.com>

	* gas/all/gas.exp: Run dg-runtest for all err-*.s and warn-*.s.
	* gas/all/err-1.s, gas/all/warn-1.s: New tests.

2004-11-18  Inderpreet Singh   <inderpreetb@@nioda.hcltech.com>

	* gas/maxq10/call.d: Fix expected results now that bfd assembler
	support is enabled by default.
	* gas/maxq10/range.d: Likewise.
	* gas/maxq20/call.d: Likewise.

2004-11-17  Daniel Jacobowitz  <dan@@codesourcery.com>

	* gas/arm/mapping.d: Expect F markers for Thumb code.
	* gas/arm/unwind.d: Update big-endian pattern.

2004-11-12  Nick Clifton  <nickc@@redhat.com>

	* gas/mn10300/basic.exp: Add relax test.
	* gas/mn10300/relax.s: New test.
	* gas/mn10300/relax.d: Expected results.  Make sure that the
	correct size of instruction has been selected.

2004-11-11  Bob Wilson  <bob.wilson@@acm.org>

	* gas/xtensa/short_branch_offset.s: New.
	* gas/xtensa/short_branch_offset.d: New.
	* gas/xtensa/all.exp: Run new test.

2004-11-10  Alan Modra  <amodra@@bigpond.net.au>

	* gas/i386/opcode.s: Pad section.
	* gas/i386/intelok.s: Likewise.
	* gas/i386/opcode.d: Update.
	* gas/i386/intelok.d: Update.

2004-11-08  Inderpreet Singh   <inderpreetb@@nioda.hcltech.com>
	    Vineet Sharma      <vineets@@noida.hcltech.com>

	* gas/maxq10: New directory.  Contains tests for maxq port.
	* gas/maxq20: Likewise.

2004-11-05  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/general.s: Add movzb.
	* gas/i386/general.l: Updated.

2004-11-04  Hans-Peter Nilsson  <hp@@axis.com>

	* gas/all/gas.exp: Exclude float.s for crisv32-*-*.
	* gas/cris/operand-err-1.s (test.m constant): Remove xfail marker
	and update rationale.  Mark "ba [external_symbol]" and "ba [r3]"
	as invalid.
	* gas/ieee-fp/x930509a.exp: setup_xfail for crisv32-*-*.
	* gas/macros/macros.exp: setup_xfail strings for crisv32-*-*.
	* gas/cris/abs32-1.s, gas/cris/arch-err-1.s,
	gas/cris/arch-err-2.s, gas/cris/arch-err-3.s,
	gas/cris/arch-err-4.s, gas/cris/arch-err-5.s,
	gas/cris/bound-err-1.s, gas/cris/brokw-3b.s,
	gas/cris/march-err-1.s, gas/cris/march-err-2.s,
	gas/cris/push-err-1.s, gas/cris/push-err-2.s,
	gas/cris/pushpopv32.s, gas/cris/rd-abs32-1.d,
	gas/cris/rd-abs32-2.d, gas/cris/rd-arch-1.d, gas/cris/rd-arch-2.d,
	gas/cris/rd-arch-3.d, gas/cris/rd-bkw1b.d, gas/cris/rd-bkw2b.d,
	gas/cris/rd-bkw3b.d, gas/cris/rd-bound1.d, gas/cris/rd-bound1.s,
	gas/cris/rd-bound2.d, gas/cris/rd-bound3.d, gas/cris/rd-bound4.d,
	gas/cris/rd-break32.d, gas/cris/rd-ppv1032.d, gas/cris/rd-ppv32.d,
	gas/cris/rd-spr-1.d, gas/cris/rd-spr-1.s, gas/cris/rd-usp-1.d,
	gas/cris/rd-usp-1b.d, gas/cris/rd-v10_32o-1.d,
	gas/cris/rd-v10_32o-2.d, gas/cris/rd-v10_32o-2.s,
	gas/cris/rd-v32-b1.d, gas/cris/rd-v32-b1.s, gas/cris/rd-v32-b2.d,
	gas/cris/rd-v32-b2.s, gas/cris/rd-v32-b3.d, gas/cris/rd-v32-b3.s,
	gas/cris/rd-v32-f1.d, gas/cris/rd-v32-f1.s, gas/cris/rd-v32-i1.d,
	gas/cris/rd-v32-i1.s, gas/cris/rd-v32-l1.d, gas/cris/rd-v32-l1.s,
	gas/cris/rd-v32-l3.d, gas/cris/rd-v32-l3.s, gas/cris/rd-v32-l4.d,
	gas/cris/rd-v32-l4.s, gas/cris/rd-v32o-1.d, gas/cris/rd-v32s-1.d,
	gas/cris/rd-v32s-2.d, gas/cris/rd-v32s-2.s, gas/cris/rd-v32s-3.d,
	gas/cris/rd-v32s-3.s, gas/cris/rd-v32s-4.d, gas/cris/rd-v32s-4.s,
	gas/cris/rd-vao-1.d, gas/cris/v32-err-1.s, gas/cris/v32-err-10.s,
	gas/cris/v32-err-11.s, gas/cris/v32-err-2.s, gas/cris/v32-err-3.s,
	gas/cris/v32-err-4.s, gas/cris/v32-err-5.s, gas/cris/v32-err-6.s,
	gas/cris/v32-err-7.s, gas/cris/v32-err-8.s, gas/cris/v32-err-9.s:
	New tests.

2004-11-04 Jan Beulich <jbeulich@@novell.com>

	* gas/i386/i386.exp: Execute new tests intelbad and intelok.
	* gas/i386/intelbad.[sl]: New test to check for various things not
	permitted in Intel mode.
	* gas/i386/intel.d, gas/i386/opcode.d, gas/i386/x86-64-opcode.d:
	Adjust for change to segment register store.
	* gas/i386/intelok.[sd]: New test to check various Intel mode specific
	things get handled correctly.
	* gas/i386/x86_64.[sd]: Remove unsupported constructs referring to
	'high' and 'low' parts of an operand, which the parser previously
	accepted while neither telling that it's not supported nor that it
	ignored the remainder of the line following these supposed keywords.

2004-10-28  Tomer Levi  <Tomer.Levi@@nsc.com>

	* gas/crx/cop_insn.d: Regenerate (after a bug fix in Assembler).

2004-10-27  Tomer Levi  <Tomer.Levi@@nsc.com>

	* gas/crx/cop_insn.s: Test new Co-Processor instruction 'cpi'.
	* gas/crx/list_insn.s: Add hi/lo/u<N> registers tests, fix test bugs.
	* gas/crx/cop_insn.d: Regenerate.
	* gas/crx/list_insn.d: Likewise.

2004-10-23  Daniel Jacobowitz  <dan@@debian.org>

	* gas/cfi/cfi-arm-1.d, gas/cfi/cfi-arm-1.s: New files.
	* gas/cfi/cfi.exp: Run cfi-arm-1 test.

2004-10-21  Tomer Levi  <Tomer.Levi@@nsc.com>

	* gas/crx/cop_insn.s: Reverse operands order in store co-processor
	instructions.
	* gas/crx/list_insn.s: Remove test for unsupported 'popa' instruction.
	* gas/crx/cop_insn.d: Regenerate.
	* gas/crx/list_insn.d: Likewise.

2004-10-14  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/mapping.d: Pass --special-syms to objdump.

2004-10-08  Daniel Jacobowitz  <dan@@debian.org>

	* gas/i386/i386.exp: Don't run divide test for targets where '/'
	is a comment.  Run x86-64-unwind for 64-bit ELF targets.
	* gas/i386/x86-64-unwind.d, gas/i386/x86-64-unwind.s: New.

2004-10-08  Alan Modra  <amodra@@bigpond.net.au>

	* gas/cfi/cfi-common-4.d: Correct for 64 bit targets.

2004-10-07  Bob Wilson  <bob.wilson@@acm.org>

	* gas/xtensa/all.exp: Adjust expected error message for j_too_far.
	Change entry_align test to expect an error.
	* gas/xtensa/entry_misalign2.s: Use no-transform instead of
	no-generics directives.

2004-10-07  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/mips/elf-rel{23,24}.[sd]: New tests.
	* gas/mips/mips.exp: New test.

2004-10-07  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/mips/elf-rel22.[sd]: New test.
	* gas/mips/mips.exp: Run it.

2004-10-07  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/mips/elf-rel21.[sd]: New test.
	* gas/mips/mips.exp: Run it.

2004-10-07  Jan Beulich  <jbeulich@@novell.com>

	* gas/cfi/cfi-common-4.[ds]: New.
	* gas/cfi/cfi.exp: Run new test.

2004-10-07  Tomer Levi  <Tomer.Levi@@nsc.com>

	* gas/crx/cop_insn.s: New file.
	* gas/crx/cop_insn.d: Likewise.
	* gas/crx/load_stor_insn.s: Move Co-processor insns to a separate
	test.
	* gas/crx/misc_insn.s: Likewise.
	* gas/crx/load_stor_insn.d: Regenerate.
	* gas/crx/misc_insn.d: Likewise.

2004-10-06  Aldy Hernandez  <aldyh@@redhat.com>

	* gas/ppc/e500.s: Add double-precision instructions.
	* gas/ppc/e500.d: Same.

2004-10-05  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/arm.exp: Add unwind table test.  Recognise
	arm-symbian-symbianelf and arm-none-eabi.
	* gas/arm/unwind.s: New file.
	* gas/arm/unwind.d: New file.

2004-10-01  Bill Farmer  <Bill@@the-farmers.freeserve.co.uk>

	* gas/pdp11/opcode.d: Fix sob opcode value.

2004-09-30  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/arch6zk.d: New file.
	* gas/arm/arch6zk.s: New file.
	* gas/arm/arm.exp: Add them.

2004-09-29  Alan Modra  <amodra@@bigpond.net.au>

	* gas/i386/secrel.s: Pad .rdata out to 16 byte boundary.
	* gas/i386/secrel.d: Adjust to suit.

2004-09-19  Paul Brook  <paul@@codesourcery.com>

	* gas/elf/elf.exp: Recognise additional arm elf targets.

2004-09-17  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/pic.s: Add (target2).
	* gas/arm/pic.d: Ditto.

2004-09-13  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/pic.d: Rename RELABS to TARGET1.
	* gas/arm/pic.s: Ditto.

2004-09-03  Tomer Levi  <Tomer.Levi@@nsc.com>

	* gas/crx: New directory.
	* gas/crx/allinsn.exp: New test script.
	* gas/crx/arith_insn.s: New file.
	* gas/crx/arith_insn.d: Likewise.
	* gas/crx/beq_insn.s: Likewise.
	* gas/crx/beq_insn.d: Likewise.
	* gas/crx/bit_insn.s: Likewise.
	* gas/crx/bit_insn.d: Likewise.
	* gas/crx/br_insn.s: Likewise.
	* gas/crx/br_insn.d: Likewise.
	* gas/crx/cmov_insn.s: Likewise.
	* gas/crx/cmov_insn.d: Likewise.
	* gas/crx/cmpbr_insn.s: Likewise.
	* gas/crx/cmpbr_insn.d: Likewise.
	* gas/crx/jscond_insn.s: Likewise.
	* gas/crx/jscond_insn.d: Likewise.
	* gas/crx/list_insn.s: Likewise.
	* gas/crx/list_insn.d: Likewise.
	* gas/crx/load_stor_insn.s: Likewise.
	* gas/crx/load_stor_insn.d: Likewise.
	* gas/crx/misc_insn.s: Likewise.
	* gas/crx/misc_insn.d: Likewise.
	* gas/crx/no_op_insn.s: Likewise.
	* gas/crx/no_op_insn.d: Likewise.
	* gas/crx/shift_insn.s: Likewise.
	* gas/crx/shift_insn.d: Likewise.

2004-08-27  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/frv/fr550-pack1.[sd]: New test.
	* gas/frv/allinsn.exp: Run it.

2004-08-27  Nick Clifton  <nickc@@redhat.com>

	* gas/i386/i386.exp: Allow pcrel test for COFF targets as well,
	but not for PE targets.  Similarly for the absrel test.

2004-08-26  Nick Clifton  <nickc@@redhat.com>

	* gas/i386/i386.exp: Group ELF specific tests together.  Move the
	pcrel test into the ELF only section.  Use is_elf_format to test
	for ELF based toolchains.

2004-08-25  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/all/gas.exp: Use `string match ""' instead of `eq ""'.

2004-08-24  Jan Beulich  <jbeulich@@novell.com>

	* gas/all/altmacro.[sd]: Split out part from here...
	* gas/all/altmac2.[sd]: ... to here.
	* gas/all/excl.s: New.
	* gas/all/gas.exp: Suppress both tests for a few targets known to
	break. Run the new (split out) test only when the target doesn't
	use '!' as a comment character.

2004-08-18  Thiemo Seufer  <seufer@@csv.ica.uni-stuttgart.de>

	* gas/mips/branch-swap.s: New testcase.
	* gas/mips/branch-swap.d: New testcase.
	* gas/mips/mips.exp: Run the testcase.

2004-08-18  Nick Clifton  <nickc@@redhat.com>

	* gas/macros/strings.s: Remove #NO_APP, accidentally committed as
	part of another patch.

2004-08-15  Nick Clifton  <nickc@@redhat.com>

	* gas/all/altmacro.d: Allow for rest of frag being padded to an
	alignment boundary.

	* gas/arm/arm.exp: Run bignum test for ELF based targets only.

2004-08-16  Alan Modra  <amodra@@bigpond.net.au>

	* gas/cfi/cfi-alpha-1.d: Adjust for readelf fix.
	* gas/cfi/cfi-alpha-3.d: Likewise.
	* gas/cfi/cfi-i386.d: Likewise.
	* gas/cfi/cfi-m68k.d: Likewise.
	* gas/cfi/cfi-ppc-1.d: Likewise.
	* gas/cfi/cfi-s390-1.d: Likewise.
	* gas/cfi/cfi-s390x-1.d: Likewise.
	* gas/cfi/cfi-sh-1.d: Likewise.
	* gas/cfi/cfi-sparc-1.d: Likewise.
	* gas/cfi/cfi-sparc64-1.d: Likewise.
	* gas/cfi/cfi-x86_64.d: Likewise.

2004-08-13 Jan Beulich <jbeulich@@novell.com>

	* gas/all/altmacro.[sd]: New test.
	* gas/all/gas.exp: Run the new test.

2004-08-10  Mark Mitchell  <mark@@codesourcery.com>

	* gas/arm/bignum1.s: New test.
	* gas/arm/arm.exp: Run it.

2004-08-06  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/pic.s,d: Test RELABS and SBREL relocations.

2004-08-05  Nitin Yewale  <nitiny@@kpitcummins.com>

	* h8300/h8300.exp: Addition of new test case to check rx
	generation with adds and subs instruction for plain H8/300 target.
	* h8300/addsubrxcheck.s: New test source file.

2004-08-01  Stephane Carrez  <stcarrez@@nerim.fr>

	* gas/m68hc11/m68hc11.exp: Fix tests for 2.15
	* gas/elf/elf.exp: Test obj-elf for m6811-* and m6812-*
	* gas/symver/symver.exp: Likewise for symver tests.

2004-07-30  Michal Ludvig  <mludvig@@suse.cz>

	* gas/i386/padlock.s, gas/i386/padlock.d: New tests for
	VIA PadLock instructions.

2004-07-29  Kaz Kojima  <kkojima@@rr.iij4u.or.jp>

	* gas/sh/basic.exp: Don't do sh2a test for sh5.
	* gas/sh/sh2a.d: Match elf32-sh* format too.

2004-07-29  Alexandre Oliva  <aoliva@@redhat.com>

	2003-12-30  DJ Delorie  <dj@@redhat.com>
	* gas/sh/sh2a.s: New.
	* gas/sh/sh2a.d: New.
	* gas/sh/basic.exp: Add it.

2004-07-27  Tomer Levi  <Tomer.Levi@@nsc.com>

	* gas/all/gas.exp (do_930509a): Disable test for crx.

2004-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/x86-64-inval.l: Remove the leading `+'.

2004-07-22  Nick Clifton  <nickc@@redhat.com>

	PR/280
	* gas/h8300/ffxx1-coff.d: Remove duplicated raw insn values.
	* gas/h8300/ffxx1-elf.d: Likewise.
	* gas/h8300/h8sx_disp2.d: Likewise.
	* gas/h8300/h8sx_mov_imm.d: Likewise.
	* gas/h8300/h8sx_rtsl.d: Likewise.
	* gas/h8300/ffxx1-coff.s: Remove inappropriate insn width specifier.
	* gas/h8300/ffxx1-elf.s: Likewise.

2004-07-21  Jan Beulich <jbeulich@@novell.com>

	* gas/i386/x86-64-addr32.[ds]: New test for x86-64 32-bit
	addressing in 64-bit mode.
	* gas/i386/x86-64-rip.[ds]: New test for x86-64 rip-relative
	addressing.
	* gas/i386/i386.exp: Run the two new tests.

	* gas/cfi/cfi-x86_64.d: Adjust expectation for leave to	not have a
	rex prefix.
	* gas/i386/x86-64-inval.[ls]: Add a bunch of instructions illegal
	in 64-bit mode.

2004-07-20  Maciej W. Rozycki  <macro@@linux-mips.org>

	* gas/mips/elf-rel19.d: Pass -march=mips1 to gas as the test
	expects load delay slots.

2004-07-20  Maciej W. Rozycki  <macro@@linux-mips.org>

	* gas/mips/vr5400.d: Update for a correct disassembly of
	"racm.ob".

2004-07-20  Maciej W. Rozycki  <macro@@linux-mips.org>

	* gas/mips/mips32.s: Adjust for the unified "break" syntax.  Add
	another "break" case.  Update the comment accordingly.
	* gas/mips/set-arch.s: Likewise.
	* gas/mips/mips32.d: Adjust for the new output.
	* gas/mips/set-arch.d: Likewise.

2004-07-15  Nitin Yewale <nitiny@@kpitcummins.com>

	* gas/h8300/h8300.exp (do_h8300hn_addressgen): Addition of
	new test case for H8300H normal target to check symbol
	address generation.
	* gas/h8300/symaddgen.s: New test.

2004-07-13  Nick Clifton  <nickc@@redhat.com>

	* gas/i386/intel.s: Add test of newly expand arithmetic support
	for Intel mode assembler.
	* gas/i386/intel.d: Add expected disassmbly.

2004-07-13  Nick Clifton  <nickc@@redhat.com>

	* gas/vtable: Delete directory.  These tests are no longer needed
	as the VTABLE_ reloc support is obsolete.

2004-07-08  Kazuhiro Inaoka  <inaoka.kazuhiro@@renesas.com>

	* gas/m32r/pic.exp: Add New Test case for @@GOTOFF, @@GOT, @@PLT.
	* gas/m32r/pic2.s: New file: Test case for @@GOTOFF, @@GOT, @@PLT.
	* gas/m32r/pic2.d: New file: Expected results.

2004-07-08  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/mips/elf-rel7.d: Expect relocations against bar to refer to bar.
	* gas/mips/elf-refl19.d: Likewise L2.

2004-07-03  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/mips/elf{,el}-rel.d: Adjust so that the earliest %hi() matches
	the earliest %lo().
	* gas/mips/elf-rel11.d: Don't expect the relocs to be reordered.
	* gas/mips/elf-rel20.[sd]: New test.
	* gas/mips/mips.exp: Run it.

2004-07-03  Maciej W. Rozycki  <macro@@linux-mips.org>

	* gas/mips/elf-rel9.[sd]: Fix typo in %lo() expression.

2004-07-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/ia64/group-1.d: New.
	* gas/ia64/group-1.s: Likewise.

	* gas/ia64/ia64.exp: Add group-1 to test comdat group.

2004-06-30  James E Wilson  <wilson@@specifixinc.com>

	* gas/ia64/dv-imply.d: Update.
	* gas/ia64/dv-mutex.d: Likewise.
	* gas/ia64/dv-safe.d: Likewise.

2004-06-29  Alan Modra  <amodra@@bigpond.net.au>

	* gas/m68k/mode5.s: Pad section.
	* gas/m68k/mode5.d: Update.

2004-06-28  Alan Modra  <amodra@@bigpond.net.au>

	* gas/ppc/power4.d: Update.

2004-06-24  Alan Modra  <amodra@@bigpond.net.au>

	* gas/i386/prescott.s: Remove fisttpd and fisttpq.
	* gas/i386/prescott.d: Update.

2004-06-08  Jakub Jelinek  <jakub@@redhat.com>

	* gas/ia64/dv-raw-err.s: Add some new postinc tests.
	* gas/ia64/dv-raw-err.l: Updated.

2004-05-28  Peter Barada <peter@@the-baradas.com>

	* gas/m68k/mode5.s: New test file.  Checks conversion of mode 5
	addressing with zero offset into mode 2 addressing.
	* gas/m68k/mode5.d: New file: Expected disassmbly.
	* gas/m68k/all.exp: Run new test.

2004-05-28  Andrew Stubbs <andrew.stubbs@@superh.com>

	* gas/sh/arch: New directory.
	* gas/sh/arch/arch.exp: New test script.
	* gas/sh/arch/arch_expected.txt: New file.
	* gas/sh/arch/sh.s: New file.
	* gas/sh/arch/sh2.s: New file.
	* gas/sh/arch/sh-dsp.s: New file.
	* gas/sh/arch/sh2e.s: New file.
	* gas/sh/arch/sh3-nommu.s: New file.
	* gas/sh/arch/sh3.s: New file.
	* gas/sh/arch/sh3-dsp.s: New file.
	* gas/sh/arch/sh3e.s: New file.
	* gas/sh/arch/sh4-nommu-nofpu.s: New file.
	* gas/sh/arch/sh4-nofpu.s: New file.
	* gas/sh/arch/sh4.s: New file.
	* gas/sh/arch/sh4a-nofpu.s: New file.
	* gas/sh/arch/sh4al-dsp.s: New file.
	* gas/sh/arch/sh4a.s: New file.

2004-05-27  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/ia64/regs.d: Updated.

2004-05-26  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/ia64/ia64.exp: Run invalid-ar.

	* gas/ia64/invalid-ar.l: New file. Test invalid AR access.
	* gas/ia64/invalid-ar.s: Likewise.

2004-05-24  Peter Barada  <peter@@the-baradas.com>

	* gas/m68k/mcf-emac.d: Provide correct disassembler results.
	* gas/m68k/mcf-mac.d: Provide correct disassembler results.

2004-05-20  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/ia64/dv-srlz.d: Fix a typo.

2004-05-12  Ben Elliston  <bje@@au.ibm.com>

	* gas/h8300/t03_add.exp: Remove stray semicolons.
	* gas/h8300/t04_sub.exp: Likewise.
	* gas/h8300/t05_cmp.exp: Likewise.
	* gas/h8300/t08_or.exp: Likewise.
	* gas/h8300/t09_xor.exp: Likewise.
	* gas/h8300/t10_and.exp: Likewise.
	* gas/hppa/reloc/reloc.exp: Likewise.
	* gas/hppa/unsorted/unsorted.exp: Likewise.
	* gas/i386/i386.exp: Likewise.
	* gas/m68hc11/m68hc11.exp: Likewise.
	* gas/mips/mips.exp: Likewise.
	* gas/sparc/sparc.exp: Likewise.
	* lib/gas-defs.exp: Likewise.

2004-05-11  Nick Clifton  <nickc@@redhat.com>

	* gas/elf/section4.s: New test.  Checks label arithmetic when
	multiple same-name sections exist.
	* gas/elf/section4.d: New file: Expected section list
	* gas/elf/elf.exp: Run the new test.
	* gas/elf/group0.s: Use % instead of @@ for type argument to
	.section directive (for compatability with ARM port).
	* gas/elf/group1.s: Likewise.

2004-05-07  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/mips/vr4122.[sd]: Rename to...
	* gas/mips/vr4120-2.[sd]: ...and add tests for VR4181A errata
	MD(1) and MD(4).
	* gas/mips/mips.exp: Update accordingly.

2004-05-05  Alexandre Oliva  <aoliva@@redhat.com>

	* gas/frv/reloc1.d: Match elf32-frvfdpic as well.
	* gas/frv/fr405-insn.d: Likewise.
	* gas/frv/fr450-insn.d: Likewise.

2004-04-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/elf/elf.exp: Remove group1, add group1a and group1b for
	section group.

	* gas/elf/group1a.d: New file.
	* gas/elf/group1b.d: Likewise.

	* gas/elf/group1.e: Removed.

2004-04-30  Nick Clifton  <nickc@@redhat.com>

	* gas/arm/reg-alias.s: New file: Test case sensitive register
	aliases.
	* gas/arm/reg-alias.d: New file: Expected test output.
	* gas/arm/arm.exp: Run reg-alias test.
	Arrange tests in a more orderly fashion.

2004-04-30  Ben Elliston  <bje@@au.ibm.com>

	* gas/ppc/power4.s: Add dcbz and dcbzl test cases.
	* gas/ppc/power4.d: Update accordingly.

2004-04-26  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/elf/elf.exp: Add group0a, group0b and group1 for section
	group.

	* gas/elf/group0.s: New file.
	* gas/elf/group0a.d: Likewise.
	* gas/elf/group0b.d: Likewise.
	* gas/elf/group1.e: Likewise.
	* gas/elf/group1.s: Likewise.

2004-04-23  Nick Clifton  <nickc@@redhat.com>

	* gas/symver/symver1.d: Cope with extra symbols inserted by
	arm-elf toolchains.
	* gas/symver/symver0.d: Likewise
	* gas/elf/symver.d: Likewise.

2004-04-22  Kaz Kojima  <kkojima@@rr.iij4u.or.jp>

	* gas/sh/pcrel2.d: Update.
	* gas/sh/tlsd.d: Update.
	* gas/sh/tlsnopic.d: Update.
	* gas/sh/tlspic.d: Update.

2004-04-22  Mark Kettenis  <kettenis@@gnu.org>

	* lib/gas-defs.exp (is_elf_format): Add OpenBSD support.

2004-04-22  Atsushi Nemoto  <anemo@@mba.ocn.ne.jp>

	* gas/mips/lb-xgot-ilocks.d: Remove nops in load delay slot.
	* gas/mips/mips-abi32-pic.d: Likewise.
	* gas/mips/mips-abi32-pic2.d: Likewise.
	* gas/mips/mips-gp32-fp32-pic.d: Likewise.
	* gas/mips/mips-gp32-fp64-pic.d: Likewise.
	* gas/mips/mips-gp64-fp32-pic.d: Likewise.
	* gas/mips/mips-gp64-fp64-pic.d: Likewise.
	* gas/mips/relax-swap1-mips2.d: Likewise.
	* gas/mips/lb-svr4pic-ilocks.d: New test.
	* gas/mips/mips.exp: Run it.

2004-04-22  Paul Brook  <paul@@codesourcery.com>

	* maverick.c (off8s): Test full shifted operand range.
	(MCC2): Define.
	(MVDSPACC, MVACCDSP): Use it.
	* maverick.d, maverick.s: Regenerate.

2004-04-22  Peter Barada <peter@@the-baradas.com>

	* gas/m68k/mcf-mac.s: New test: Check ColdFire MAC instructions.
	* gas/m68k/mcf-emac.s: New test: Similar checks.
	* gas/m68k/mcf-mac.d: New test: Expected output.
	* gas/m68k/mcf-emac.d: New test: Likewise.
	* gas/m68k/all.exp: Run new tests.

2004-04-21  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/elempic.d: File removed as part of -membedded-pic removal.
	* gas/mips/empic.d: Likewise.
	* gas/mips/empic.l: Likewise.
	* gas/mips/empic.s: Likewise.
	* gas/mips/empic2.d: Likewise.
	* gas/mips/empic2.s: Likewise.
	* gas/mips/empic3_e.d: Likewise.
	* gas/mips/empic3_e.s: Likewise.
	* gas/mips/empic3_g1.d: Likewise.
	* gas/mips/empic3_g1.s: Likewise.
	* gas/mips/empic3_g2.d: Likewise.
	* gas/mips/empic3_g2.s: Likewise.
	* gas/mips/jal-empic-elf-2.d: Likewise.
	* gas/mips/jal-empic-elf-2.s: Likewise.
	* gas/mips/jal-empic-elf-3.d: Likewise.
	* gas/mips/jal-empic-elf-3.s: Likewise.
	* gas/mips/jal-empic-elf.d: Likewise.
	* gas/mips/jal-empic.d: Likewise.
	* gas/mips/la-empic.d: Likewise.
	* gas/mips/la-empic.s: Likewise.
	* gas/mips/lb-empic.d: Likewise.
	* gas/mips/ld-empic.d: Likewise.
	* gas/mips/lif-empic.d: Likewise.
	* gas/mips/telempic.d: Likewise.
	* gas/mips/tempic.d: Likewise.
	* gas/mips/ulh-empic.d: Likewise.
	* gas/mips/ld-pic.s: Remove code conditional on EMPIC.
	* gas/mips/lifloat.s: Likewise.
	* gas/mips/mips.exp: Remove -membedded-pic tests and related comments.

2004-04-20  Brian Ford  <ford@@vss.fsi.com>
	    DJ Delorie  <dj@@redhat.com>

	* gas/i386/secrel.s: New test for .secrel32.
	* gas/i386/secrel.d: Likewise.
	* gas/i386/i386.exp: Call it for PE targets.

2004-04-19  Jakub Jelinek  <jakub@@redhat.com>

	* gas/cfi/cfi-sparc64-1.d: Update.

2004-04-14  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/mips/vr4122.[sd]: Change option to -mfix-vr4120.

2004-04-14  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/elf/section2.e-mips: Allow named section symbols.
	* gas/mips/{,el}empic.d, gas/mips/mips{,el}16-[ef].d: Likewise.

2004-04-13  Kazuhiro Inaoka  <inaoka.kazuhiro@@renesas.com>

	* gas/m32r/parallel-2.s: New file: Test	case for parallel code.
	* gas/m32r/parallel-2.d: New file: Expected results.
	* gas/m32r/m32r2.exp: Run the test.

	* gas/m32r/seth.s: New file: Test for seth.
	* gas/m32r/seth.d: New file: Expected results.
	* gas/m32r/m32r.exp: Run the new test.

2004-04-01  Asgari Jinia  <asgarij@@kpitcummins.com>

	* gas/sh/renesas-1.s, gas/sh/renesas-1.d: New test for -renesas
	option.
	* gas/sh/basic.exp: Run the new test.

2004-04-01  Dave Korn  <dk@@artimi.com>

	* gas/dlx/alltests.exp: Execute new lohi test.
	* gas/dlx/lohi.s: New test for spurious lo16/hi16
	reloc overflow checking.
	* gas/dlx/lohi.d: New file: expected output.
	* gas/dlx/lhi.d: Updated to properly expect lo16
	relocations where asked for.
	* gas/dlx/itype.d: Likewise.
	* gas/dlx/lhi.d: Corrected cut+paste error in test name.

2004-03-30  Stan Shebs  <shebs@@apple.com>

	* gas/macros/macros.exp: Remove mention of MPW config.

2004-03-27  Alan Modra  <amodra@@bigpond.net.au>

	* gas/i860/dir-intel03-err.l: Update for junk at end line becoming
	an error.
	* gas/m68hc11/m68hc11.exp: Likewise.

2004-03-23  Andreas Schwab  <schwab@@suse.de>

	* gas/cfi/cfi-m68k.d: Adjust offsets.

2004-03-22  Hans-Peter Nilsson  <hp@@axis.com>

	* gas/cris/regreg.d: Assemble with --no-mul-bug-abort.
	* gas/cris/mulbug-err-1.s, gas/cris/rd-mulbug-1.d: New tests.

2004-03-17  Kaz Kojima  <kkojima@@rr.iij4u.or.jp>

	* gas/cfi/cfi-sh-1.d: New file.
	* gas/cfi/cfi-sh-1.s: Likewise.
	* gas/cfi/cfi.exp: Add SH case.

2004-03-16  Alan Modra  <amodra@@bigpond.net.au>

	* gas/ppc/altivec.d: Update.
	* gas/ppc/altivec_xcoff.d: Update.
	* gas/ppc/altivec_xcoff64.d: Update.
	* gas/ppc/astest.d: Update.
	* gas/ppc/astest2.d: Update.
	* gas/ppc/astest2_64.d: Update.
	* gas/ppc/astest64.d: Update.
	* gas/ppc/booke.d: Update.
	* gas/ppc/booke_xcoff.d: Update.
	* gas/ppc/booke_xcoff64.d: Update.
	* gas/ppc/e500.d: Update.
	* gas/ppc/power4.d: Update.
	* gas/ppc/test1elf32.d: Update.
	* gas/ppc/test1elf64.d: Update.
	* gas/ppc/test1xcoff32.d: Update.

2004-03-15  Alan Modra  <amodra@@bigpond.net.au>

	* gas/i386/padlock.s: Pad with .p2align.
	* gas/i386/padlock.d: Adjust.

2004-03-12  Michal Ludvig  <mludvig@@suse.cz>

	* gas/i386/padlock.s, gas/i386/padlock.d: New tests for
	VIA PadLock instructions.
	* gas/i386/i386.exp: Run padlock tests.

2004-03-12  Alan Modra  <amodra@@bigpond.net.au>

	* gas/i386/katmai.d: Revert last change.

	* gas/i386/katmai.d: Adjust for clflush change.

2004-03-08  Andreas Jaeger  <aj@@suse.de>

	* gas/cfi/cfi-s390x-1.d: Adjust offsets.

2004-03-07  Richard Henderson  <rth@@redhat.com>

	* gas/cfi/cfi-common-2.d, gas/cfi/cfi-i386.d: Adjust offsets.

2004-03-07  Andreas Jaeger  <aj@@suse.de>

	* gas/cfi/cfi-x86_64.d: Adjust offsets.

2004-03-07  Richard Henderson  <rth@@redhat.com>

	* gas/alpha/elf-reloc-8.d, gas/cfi/cfi-alpha-1.d,
	gas/cfi/cfi-alpha-2.d, gas/cfi/cfi-alpha-3.d, gas/cfi/cfi-common-1.d,
	gas/cfi/cfi-common-2.d, gas/cfi/cfi-common-3.d: Adjust offsets.

2004-03-03  Kaz Kojima  <kkojima@@rr.iij4u.or.jp>

	* gas/sh/sh64/err-dsp.s: Fix expected error message.

2004-03-01  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/frv/fr405-insn.[sdl]: New test.
	* gas/frv/fr450-spr.[sd]: New test.
	* gas/frv/fr450-insn.[sdl]: New test.
	* gas/frv/fr450-media-issue.[sl]: New test.
	* gas/frv/allinsn.exp: Run new tests.  Ensure fr405 instructions
	aren't accepted for -mcpu=fr400 or -mcpu=fr500.  Ensure fr450
	instructions aren't accepted for -mcpu=fr400, -mcpu=fr405 or
	-mcpu=fr500.

2004-03-01  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/frv/allinsn.s (rstb, rsth, rst, rstd, rstq): Replace with nops.
	(rstbf, rsthf, rstf, rstdf, rstqf): Likewise.
	* gas/frv/allinsn.d: Update accordingly.

2004-02-17  Petko Manolov  <petkan@@nucleusys.com>

	* gas/arm/maverick.c: DSPSC to/from opcode fixes.
	* gas/arm/maverick.d: Likewise.
	* gas/arm/maverick.s: Likewise.

2004-02-09  Kaz Kojima  <kkojima@@rr.iij4u.or.jp>

	* gas/sh/basic.exp: Don't do sh4a tests for sh5.

2004-02-06  Nathan Sidwell  <nathan@@codesourcery.com>

	* gas/macros/test2.s: Lowercase it.

2004-02-02  Maciej W. Rozycki  <macro@@ds2.pg.gda.pl>

	* gas/mips/div.d: Update to accomodate changes in macro
	expansions.
	gas/mips/elf-rel-got-n32.d: Likewise.
	gas/mips/elf-rel-got-n64.d: Likewise.
	gas/mips/elf-rel-xgot-n32.d: Likewise.
	gas/mips/elf-rel-xgot-n64.d: Likewise.
	gas/mips/la-svr4pic.d: Likewise.
	gas/mips/la-xgot.d: Likewise.
	gas/mips/lca-svr4pic.d: Likewise.
	gas/mips/lca-xgot.d: Likewise.

2004-02-01  Kaz Kojima  <kkojima@@rr.iij4u.or.jp>

	* gas/sh/sh4a-fp.d: Fix opcode name fssra to fsrra.
	* gas/sh/sh4a-fp.s: Likewise.
	* gas/sh/err-sh4a-fp.s: Likewise.

2004-01-24  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/relax-swap1.s: Add extra space at end, so the
	disassembly will consistently have "..." at its end.
	* gas/mips/relax-swap2.s: Likewise.
	* gas/mips/relax-swap1-mips2.d: Expect "..." at end of disassembly.

2004-01-23  Daniel Jacobowitz  <drow@@mvista.com>

	* gas/arm/arm.exp: Add "undefined" test.
	* gas/arm/undefined.s, gas/arm/undefined.l: New files.

2004-01-23  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/mips/macro-warn-[1234].[sdl]: New tests.
	* gas/mips/macro-warn-[12]-n32.[dl]: New tests.
	* gas/mips/mips.exp: Run them.

2004-01-23  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/mips/elf-rel19.[sd]: New test.
	* gas/mips/mips.exp: Run it.

2004-01-11 Tom Rix   <tcrix@@worldnet.att.net>

	* gas/m68hc11/movb.s: Add m68hc12 movb and movw dump test.
	* gas/m68hc11/movb.d: Likewise.
	* gas/m68hc11/m68hc11.exp: Likewise.  Add more movb failure tests.

2004-01-19  Alan Modra  <amodra@@bigpond.net.au>

	* gas/i386/katmai.d: Adjust for changed sib printing.
	* gas/i386/prescott.d: Likewise.
	* gas/i386/sse2.d: Likewise.
	* gas/i386/ssemmx2.d: Likewise.

2004-01-16  Alexandre Oliva  <aoliva@@redhat.com>

	* gas/mn10300/mov5.s: New.
	* gas/mn10300/basic.exp (do_mov5): New.

2004-01-14  Maciej W. Rozycki  <macro@@ds2.pg.gda.pl>

	* gas/mips/relax-swap1-mips1.d: New test for branch relaxation
	with swapping for MIPS1.
	* gas/mips/relax-swap1-mips2.d: New test for branch relaxation
	with swapping for MIPS2.
	* gas/mips/relax-swap1.l: Stderr output for the new tests.
	* gas/mips/relax-swap1.s: Source for the new tests.
	* gas/mips/relax-swap2.d: New test for branch likely relaxation
	with swapping.
	* gas/mips/relax-swap2.l: Stderr output for the new test.
	* gas/mips/relax-swap2.s: Source for the new test.
	* gas/mips/mips.exp: Run the new tests.

2004-01-13  Ian Lance Taylor  <ian@@wasabisystems.com>

	* gas/mips/mips16-64.d: New test.
	* gas/mips/mips.exp: Run it.

2004-01-12  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/mips/elf-rel18.[sd]: New test.
	* gas/mips/mips.exp: Run it.

2004-01-09  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/vfp2.s, gas/arm/vfp2.d: New test.
	* gas/arm/arm.exp: Add them.

2004-01-08  Ian Lance Taylor  <ian@@wasabisystems.com>

	* gas/mips/ldstla-n64.d: Pass -64 to assembler, not -n64.
	* gas/mips/ldstla-n64-shared.d: Likewise.

2004-01-07  Nick Clifton  <nickc@@redhat.com>

	* gas/cris/rd-dw2-1.d: Expect a pointer size from readelf.

2004-01-06  Alexandre Oliva  <aoliva@@redhat.com>

	2003-11-05  Alexandre Oliva  <aoliva@@redhat.com>
	* lib/gas-defs.exp (is_elf_format): Match frv-uclinux.
	2003-09-18  Alexandre Oliva  <aoliva@@redhat.com>
	* gas/frv/fdpic.s, gas/frv/fdpic.d: Renamed from ucpic*.
	2003-09-15  Alexandre Oliva  <aoliva@@redhat.com>
	* gas/frv/ucpic.s, gas/frv/ucpic.d: Use gr15 as PIC register.  Use
	gprel12 for rodata symbol and gotoff12 for sdata symbol.
	2003-08-08  Alexandre Oliva  <aoliva@@redhat.com>
	* gas/frv/ucpic.d: Test gotoff and gotofffuncdesc.
	2003-08-04  Alexandre Oliva  <aoliva@@redhat.com>
	* gas/frv/ucpic.d, gas/frv/ucpic.s: New.
	* gas/frv/allinsns.exp: Run it.

2004-01-02  Albert Bartoszko  <albar@@nt.kegel.com.pl>

	* gas/msp430/opcode.s: Add test for an 'add' instruction which
	looks similar to an 'rla' instruction.

For older changes see ChangeLog-9303
@


1.969
log
@Fixes for building on 64-bit hosts:
        * config/tc-avr.c (mod_index): New union to allow conversion
        between pointers and integers.
        (md_begin, avr_ldi_expression): Use it.
        * config/tc-i370.c (md_assemble): Add cast for argument to print
        statement.
        * config/tc-tic54x.c (subsym_substitute): Likewise.
        * config/tc-mn10200.c (md_assemble): Use a union to convert the
        opindex field of fr_cgen structure into a pointer so that it can
        be stored in a frag.
        * config/tc-mn10300.c (md_assemble): Likewise.
        * config/tc-frv.c (frv_debug_tomcat): Use %p to print pointer
        types.
        * config/tc-v850.c: Replace uses of (int) casts with correct
        types.
        * gas/tic54x/address.d: Work with 64bit hosts.
        * gas/tic54x/addrfar.d: Likewise.
        * gas/tic54x/align.d: Likewise.
        * gas/tic54x/all-opcodes.d: Likewise.
        * gas/tic54x/asg.d: Likewise.
        * gas/tic54x/cons.d: Likewise.
        * gas/tic54x/consfar.d: Likewise.
        * gas/tic54x/extaddr.d: Likewise.
        * gas/tic54x/field.d: Likewise.
        * gas/tic54x/labels.d: Likewise.
        * gas/tic54x/loop.d: Likewise.
        * gas/tic54x/lp.d: Likewise.
        * gas/tic54x/macro.d: Likewise.
        * gas/tic54x/math.d: Likewise.
        * gas/tic54x/opcodes.d: Likewise.
        * gas/tic54x/sections.d: Likewise.
       * gas/tic54x/set.d: Likewise.
       * gas/tic54x/struct.d: Likewise.
       * gas/tic54x/subsym.d: Likewise.
@
text
@d1 6
@


1.968
log
@gas/

2006-01-09  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/2117
	* symbols.c (snapshot_symbol): Don't change a defined symbol.

gas/testsuite/

2006-01-09  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/2117
	* gas/ia64/ia64.exp: Add ltoff22x-2, ltoff22x-3, ltoff22x-4 and
	ltoff22x-5.

	* gas/ia64/ltoff22x-2.d: New file.
	* gas/ia64/ltoff22x-2.s: Likewise.
	* gas/ia64/ltoff22x-3.d: Likewise.
	* gas/ia64/ltoff22x-3.s: Likewise.
	* gas/ia64/ltoff22x-4.d: Likewise.
	* gas/ia64/ltoff22x-4.s: Likewise.
	* gas/ia64/ltoff22x-5.d: Likewise.
	* gas/ia64/ltoff22x-5.s: Likewise.
@
text
@d1 22
@


1.967
log
@	PR gas/2101
	* gas/mmix/hex2.s, gas/mmix/hex2.d: New test.
@
text
@d1 15
@


1.966
log
@gas/
2005-12-22  Jan Beulich  <jbeulich@@novell.com>

	* symbols.h (snapshot_symbol): First parameter is now pointer
	to pointer to symbolS.
	* symbols.c (snapshot_symbol): Likewise. Store resulting symbol
	there. Use symbol_equated_p.
	* expr.c (resolve_expression): Change first argument to
	snapshot_symbol. Track possibly changed add_symbol consistently
	across function. Resolve more special cases with known result.
	Also update final_val when replacing add_symbol.

gas/testsuite/
2005-12-22  Jan Beulich  <jbeulich@@novell.com>

	* gas/all/cond.s: Also check .if works on equates to undefined
	when the expression value can be known without knowing the
	value of the symbol.
	* gas/all/cond.l: Adjust.
	* gas/i386/equ.s: Also check .if works on (equates to)
	registers when the expression value can be known without
	knowing the value of the register.
	* gas/i386/equ.e: Adjust.
@
text
@d1 5
@


1.965
log
@gas/
2005-12-14  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-i386.c (add_prefix): More fine-grained handling of
	REX prefixes. Or new prefix value into i.prefix instead of
	assigning.

gas/testsuite/
2005-12-14  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/rex.[sd]: New.
	* gas/i386/i386.exp: Run new test.
@
text
@d1 11
@


1.964
log
@
	Rename ms1 to mt, part 1
	* config.sub: Replace ms1 arch with mt.  Allow ms1 as alias.
	* configure.in: Replace ms1 arch with mt.
	* configure: Rebuilt.

	* bfd/Makefile.am (ALL_MACHINES, ALL_MACHINES_CFILES,
	BFD32_BACKENDS, BFD32_BACKENDS_CFILES): Replace ms1 with mt.
	(cpu_mt.lo, elf32-mt.lo): Update target and dependency names.
	* bfd/Makefile.in: Rebuilt.
	* bfd/config.bfd: Replace ms1 arch with mt.
	* bfd/configure.in: Replace ms1 files with mt files.
	* bfd/configure: Rebuilt.
	* bfd/elf32-mt.c: Renamed from elf32-ms1.c.  Update include files.
	* bfd/cpu-mt.c: Renamed from cpu-ms1.c.

	* cpu/mt.cpu: Rename from ms1.cpu.
	* cpu/mt.opc: Rename from ms1.opc.

	* binutils/Makefile.am: Replace ms1 files with mt files.
	* binutils/Makefile.in: Rebuilt.
	* binutils/readelf.c (elf/mt.h): Adjust #include.

	* gas/configure.in: Replace ms1 arch with mt arch.
	* gas/configure: Rebuilt.
	* gas/configure.tgt: Replace ms1 arch with mt arch.
	* gas/config/tc-mt.c: Renamed from tc-ms1.c: Update include files.

	* gas/doc/Makefile.am (CPU_DOCS): Replace ms1 files with mt files.
	* gas/doc/Makefile.in: Rebuilt.

	* gas/testsuite/gas/mt: Renamed from ms1 dir.  Update file names as
	needed.
	* gas/testsuite/gas/mt/errors.exp: Replace ms1 arch with mt arch.
	* gas/testsuite/gas/mt/mt.exp: Replace ms1 arch with mt arch.
	* gas/testsuite/gas/mt/relocs.exp: Replace ms1 arch with mt arch.

	* gdb/configure.tgt: Replace ms1 arch with mt arch.
	* gdb/config/mt: Renamed from ms1 dir.  Update file names as needed.
	* gdb/config/mt/mt.mt (TDEPFILES): Replace ms1 file with mt file.

	* include/elf/mt.h: Renamed from ms1.h

	* ld/Makefile.am (ALL_EMULATIONS): Replace ms1 files with mt files.
	(eelf32mt.c): Update target name and dependencies.
	* ld/Makefile.in: Rebuilt.
	* ld/configure.tgt: Replace ms1 arch with mt arch.
	* ld/emulparams/elf32mt.sh: Renamed from elf32ms1.sh. Update
	comment.

	* libgloss/configure.in: Replace ms1 arch with mt arch.
	* libgloss/configure: Rebuilt.
	* libgloss/mt: Renamed from ms1 dir.

	* newlib/configure.host: Replace ms1 arch with mt arch.
	* newlib/libc/machine/mt: Renamed from ms1 dir.

	* opcodes/Makefile.am (CLEANFILES, CGEN_CPUS, MT_DEPS): Replace ms1
	with mt.
	* opcodes/Makefile.in: Rebuilt.
	* opcodes/configure.in: Replace ms1 files with mt files.
	* opcodes/configure: Rebuilt.

	* sid/component/cgen-cpu/mt: Renamed from ms1 dir.  Update file
	names as appropriate.
	* sid/component/cgen-cpu/mt/Makefile.am: Replace ms1 files with mt
	files.
	* sid/component/cgen-cpu/mt/Makefile.in: Rebuilt.
@
text
@d1 5
@


1.963
log
@	* gas/cris/rd-bcnst-pic.d, gas/cris/rd-branch-pic.d,
	gas/cris/rd-brokw-pic-1.d, gas/cris/rd-brokw-pic-2.d,
	gas/cris/rd-brokw-pic-3.d, gas/cris/rd-fragtest-pic.d: New tests.
@
text
@d1 7
@


1.962
log
@gas/

2005-12-06  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/1874
	* config/tc-i386.c (match_template): Handle monitor.
	(process_suffix): Likewise.

gas/testsuite/

2005-12-06  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/1874
	* gas/i386/i386.exp: Add x86-64-prescott for 64bit.

	* gas/i386/prescott.s: Test address size override for monitor.
	* gas/i386/prescott.d: Updated.

	* gas/i386/x86-64-prescott.d: New file.
	* gas/i386/x86-64-prescott.s: Likewise.

include/opcode/

2005-12-06  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/1874
	* i386.h (i386_optab): Add 64bit support for monitor and mwait.

opcodes/

2005-12-06  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/1874
	* i386-dis.c (address_mode): New enum type.
	(address_mode): New variable.
	(mode_64bit): Removed.
	(ckprefix): Updated to check address_mode instead of mode_64bit.
	(prefix_name): Likewise.
	(print_insn): Likewise.
	(putop): Likewise.
	(print_operand_value): Likewise.
	(intel_operand_size): Likewise.
	(OP_E): Likewise.
	(OP_G): Likewise.
	(set_op): Likewise.
	(OP_REG): Likewise.
	(OP_I): Likewise.
	(OP_I64): Likewise.
	(OP_OFF): Likewise.
	(OP_OFF64): Likewise.
	(ptr_reg): Likewise.
	(OP_C): Likewise.
	(SVME_Fixup): Likewise.
	(print_insn): Set address_mode.
	(PNI_Fixup): Add 64bit and address size override support for
	monitor and mwait.
@
text
@d1 6
@


1.961
log
@	* gas/cris/rd-pcplus.s, gas/cris/rd-pcplus.d: New test.
@
text
@d1 11
@


1.960
log
@	* gas/macros/purge.l: Increment line numbers.
	* gas/macros/purge.s: Add ".data" line.
@
text
@d1 4
@


1.959
log
@	Bug gas/1896
	* config/tc-hppa.c (hppa_fix_adjustable): Don't reject for reduction
	R_HPPA relocations that are 32-bits wide.
	* gas/all/redef2.d: Allow "$DATA$" as well as ".data" in matches.
	* gas/all/weakref1.d: Allow "$CODE$" as well as ".text" in matches.
	* gas/hppa/reloc/reloc.exp: Adjust regexp for new output.
@
text
@d3 3
@


1.958
log
@bfd/
	* elf32-mips.c (elf_mips_howto_table_rel): Use rightshift 2 for
	R_MIPS_PC16.
	(mips_reloc_map): Map BFD_RELOC_16_PCREL_S2 to R_MIPS_PC16.
	(bfd_elf32_bfd_reloc_type_lookup): Don't handle
	BFD_RELOC_16_PCREL_S2.
	* elf64-mips.c (mips_elf64_howto_table_rel): Use rightshift 2 for
	R_MIPS_PC16.
	(mips_elf64_howto_table_rela): Likewise.
	(mips_reloc_map): Map BFD_RELOC_16_PCREL_S2 to R_MIPS_PC16.
	(bfd_elf64_bfd_reloc_type_lookup): Don't handle
	BFD_RELOC_16_PCREL_S2.
	* elfn32-mips.c (elf_mips_howto_table_rel): Use rightshift 2 for
	R_MIPS_PC16.
	(elf_mips_howto_table_rela): Likewise.
	(mips_reloc_map): Map BFD_RELOC_16_PCREL_S2 to R_MIPS_PC16.
	(bfd_elf32_bfd_reloc_type_lookup): Don't handle
	BFD_RELOC_16_PCREL_S2.
	* elfxx-mips.c: Formatting fixes.
	(mips_elf_calculate_relocation): Handle R_MIPS_GNU_REL16_S2
	and R_MIPS_PC16 identically.
gas/
	* config/tc-mips.c (append_insn): Handle BFD_RELOC_16_PCREL_S2.
	(macro_build): Complain for invalid branch displacements.
	(mips_validate_fix): Delete.
	(md_apply_fix): Re-add pcrel support for branches.  Use consistent
	text for misaligned branch targets.
	(tc_gen_reloc: Re-add pcrel support for branches.  Handle strange
	BFD pcrel processing.  Remove error for unresolved branches.
	* config/tc-mips.h (TC_VALIDATE_FIX, mips_validate_fix): Delete.
gas/testsuite/
	* gas/mips/bge.d, gas/mips/bge.s, gas/mips/bgeu.d, gas/mips/bgeu.s,
	gas/mips/blt.d, gas/mips/blt.s, gas/mips/bltu.d,
	gas/mips/bltu.s: Reactivate external branch tests.
	* gas/mips/branch-misc-2.d, gas/mips/branch-misc-2pic.d,
	gas/mips/branch-misc-2-64.d, gas/mips/branch-misc-2pic-64.d: New
	tests.
	* gas/mips/branch-misc-2.l, gas/mips/branch-misc-2pic.l,
	gas/testsuite/gas/mips/branch-misc-2pic.s: Remove.
	* gas/mips/mips.exp: Adjust branch-misc-2 tests.  Add 64-bit
	variants.
@
text
@d1 7
@


1.957
log
@	* gas/all/quad.d: Add -j "\$DATA\$".  Modify regexp to check for
	"$DATA$" as well as ".data".
	* gas/all/sleb128.d: Likewise.
@
text
@d1 14
@


1.956
log
@	Bug gas/1894 Bug gas/1895
	* gas/all/gas.exp (redef3): xfail on hppa*-*-hpux*.
	* gas/all/redef.d: Add -j "\$DATA\$".  Modify regexp to check for
	"$DATA$" as well as ".data".
	* gas/all/redef2.d: Likewise.
@
text
@d1 6
@


1.955
log
@	Bug gas/1879
	* gas/all/weakref1.d: Check for "$CODE$" as well as ".text".
	* gas/all/weakref1.s: Indent "-ld1 = l".
	* gas/all/weakref1g.d: Remove --no-sort option.
	* gas/all/weakref1l.d: Likewise.
	* gas/all/weakref1u.d: Likewise.  Sort expected results.
	* gas/all/weakref1w.d: Likewise.
	* gas/all/weakref2.s: Indent directives.
	* gas/all/weakref3.s: Likewise.
@
text
@d3 6
@


1.954
log
@gas/
2005-11-17  Jan Beulich  <jbeulich@@novell.com>


	* symbols.h (S_CLEAR_VOLATILE): Declare.
	* symbols.c (colon): Also accept redefinable symbols for
	redefinition. Clone them before modifying.
	(S_CLEAR_VOLATILE): Define.
	* cond.c (s_ifdef): Also test for equated symbols.
	* read.c (s_comm_internal): Also exclude non-redefinable
	equated symbols. Clone redefinable ones before modifying.
	(s_weakref): Clone redefinable symbols before modifying.
	* doc/internals.texi: Document sy_volatile, sy_forward_ref,
	S_IS_VOLATILE, S_SET_VOLATILE, S_CLEAR_VOLATILE,
	S_IS_FORWARD_REF, and S_SET_FORWARD_REF.

gas/testsuite/
2005-11-17  Jan Beulich  <jbeulich@@novell.com>

	* gas/all/cond.s: Also check ifdef works on equates and
	commons.
	* gas/all/cond.l: Adjust.
	* gas/all/redef2.s: Also test redefining equate to label.
	* gas/all/redef2.d: Adjust.
	* gas/all/redef3.[sd]: New.
	* gas/all/redef4.s: New.
	* gas/all/redef5.s: New.
	* gas/elf/redef.s: New, copied from original gas/all/redef2.s.
	* gas/elf/redef.d: Remove #source.
	* gas/all/gas.exp: Remove exclusion of iq2000-*-* from and
	adjust xfails for redefinition tests. Run new tests. Exclude
	alpha*-*-*, mips*-*-*, *c54x*-*-* from weakref tests.
@
text
@d1 12
@


1.953
log
@        * gas/all/weakref1.s: Use "=" instead of ".set" for equivalence.
@
text
@d1 16
@


1.952
log
@gas/
	* config/tc-arm.c (s_arm_unwind_save_core): Don't emit an extra
	opcode if r4-r15 are not saved.
gas/testsuite/
	* gas/arm/unwind.s, gas/arm/unwind.d, gas/arm/unwind_vxworks.d: Add
	a test for saving only the low registers.
@
text
@d1 4
@


1.951
log
@	* gas/testsuite/gas/mips/mips16e-jrc.d: Tighten file format
	check, relax whitespace checking.
@
text
@d1 5
@


1.950
log
@        * mips.h: Assign 'm'/'M' codes to MIPS16e save/restore
        instructions.  Define MIPS16_ALL_ARGS and MIPS16_ALL_STATICS for
        save/restore encoding of the args field.

        * mips16-opc.c: Add MIPS16e save/restore opcodes.
        * mips-dis.c (print_mips16_insn_arg): Handle printing of 'm'/'M'
        codes for save/restore.

        * config/tc-mips.c (mips16_ip): Add handling of 'm' and 'M' codes
        for the MIPS16e save/restore instructions.

        * gas/mips/mips.exp: Run new save/restore tests.
        * gas/testsuite/gas/mips/mips16e-save.s: New test for generating
        different styles of save/restore instructions.
        * gas/testsuite/gas/mips/mips16e-save.d: New.
@
text
@d1 5
@


1.949
log
@gas/
2005-11-10  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-i386.c (intel_e11): Don't special-case segment
	registers in brackets.

gas/testsuite/
2005-11-10  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/intelbad.d: Add tests for ill registers in brackets.
	* gas/i386/intelbad.l: Adjust.
@
text
@d1 7
@


1.948
log
@* config/tc-arm.c (BAD_ADDR_MODE): Define.
  (arm_reg_parse_multi): Return NULL rather than FAIL.
  (arm_reg_parse): Fix comment, the function returns FAIL rather than NULL if
    it is unable to parse the register name.
  (do_ldrex): Use BAD_ADDR_MODE.
    Change error message for PC-relative addressing.
  (do_strex): Likewise.
  (do_t_ldrex): Use BAD_ADDR_MODE.
  (do_t_strex): Likewise.
* gas/arm/archv6t2-bad.s: Add tests of badly composed ldrex and	strex
    instructions.
* gas/arm/archv6t2-bad.l: Add expected error messages.
* gas/arm/r15-bad.l: Adjust error messages for r15 usage in ldrex and strex
    instructions.
@
text
@d1 5
@


1.947
log
@* gas/all/cofftag.s: Convert numbers in .type directives to decimal.
* gas/all/gas.exp: enable cofftag-test for z80-*-coff.
@
text
@d1 8
@


1.946
log
@bfd:
	Add ms2.
	* archures.c (bfd_mach_ms2): Define.
	* cpu-ms1.c (arch_info_struct): Add ms2 stanza.
	* elf32-ms1.c (elf32_ms1_machine): Add ms2 case.
	(ms1_elf_merge_private_bfd_data): Remove unused variables.  Add
	correct merging logic, with workaround.
	(ms1_elf_print_private_bfd_data): Add ms2 case.
	* reloc.c (BFD_RELOC_MS1_PCINSN8): Add ms2 specific reloc.
	* libbfd.h: Regenerated.
	* bfd-in2.h: Regenerated.

cpu:
	Add ms2
	* ms1.cpu (ms2, ms2bf): New architecture variant, cpu, machine and
	model.
	(f-uu8, f-uu1, f-imm16l, f-loopo, f-cb1sel, f-cb2sel, f-cb1incr,
	f-cb2incr, f-rc3): New fields.
	(LOOP): New instruction.
	(JAL-HAZARD): New hazard.
	(imm16o, loopsize, imm16l, rc3, cb1sel, cb2sel, cb1incr, cb2incr):
	New operands.
	(mul, muli, dbnz, iflush): Enable for ms2
	(jal, reti): Has JAL-HAZARD.
	(ldctxt, ldfb, stfb): Only ms1.
	(fbcb): Only ms1,ms1-003.
	(wfbinc, mefbinc, wfbincr, mwfbincr, fbcbincs, mfbcbincs,
	fbcbincrs, mfbcbincrs): Enable for ms2.
	(loop, loopu, dfbc, dwfb, fbwfb, dfbr): New ms2 insns.
	* ms1.opc (parse_loopsize): New.
	(parse_imm16): hi16/lo16 relocs are applicable to IMM16L.
	(print_pcrel): New.

gas:
	Add ms2.
	* config/tc-ms1.c (ms1_mach_bitmask): Initialize to MS1.
	(ms1_architectures): Add ms2.
	(md_parse_option): Add ms2.
	(md_show_usage): Add ms2.
	(md_assemble): Add JAL_HAZARD detection logic.
	(md_cgen_lookup_reloc): Add MS1_OPERAND_LOOPSIZE case.
	* doc/c-ms1.texi: New.
	* doc/all.texi: Add MS1.
	* doc/Makefile.am (CPU_DOCS): Add c-ms1.texi.
	* doc/Makefile.in: Rebuilt.
	* doc/Makefile: Rebuilt.

gas/testsuite:
	Add ms2.
	* gas/ms1/allinsn.d: Adjust pcrel disassembly.
	* gas/ms1/errors.exp: Fix target triplet.
	* gas/ms1/ms1-16-003.d: Adjust pcrel disassembly.
	* gas/ms1/ms1-16-003.s: Tweak label.
	* gas/ms1/ms1.exp: Adjust target triplet.  Add ms2 test.
	* gas/ms1/ms2.d, gas/ms1/ms2.s: New.
	* gas/ms1/relocs.d: Adjust expected machine name and pcrel
	disassembly.
	* gas/ms1/relocs.exp: Adjust target triplet.

include:
	Add ms2.
	* elf/ms1.h (EF_MS1_CPU_MS2): New.


opcodes:
	Add ms2.
	* ms1-asm.c, ms1-desc.c, ms1-desc.h, ms1-dis.c, ms1-ibld.c,
	ms1-opc.c, ms1-opc.h: Regenerated.
@
text
@d1 6
@


1.945
log
@gas/testsuite/
2005-11-07  Jan Beulich  <jbeulich@@novell.com>

	* gas/all/redef2.[sd]: New.
	* gas/all/gas.exp: Run new test.
	* gas/elf/redef.d: New.
	* gas/elf/elf.exp: Run new test.
@
text
@d1 13
@


1.944
log
@	* gas/i386/divide.s: Test line comment starting with '/'.
	* gas/i386/divide.d: Pass --divide to gas.
	* gas/i386/intelok.d: Likewise.
	* gas/i386/i386.exp (divide): Run for all targets.
@
text
@d1 7
@


1.943
log
@	* gas/z80/z80.exp: Added "suffix" test.
	* gas/z80/suffix.s: New file.
	* gas/z80/suffix.d: New file.
@
text
@d1 7
@


1.942
log
@2005-11-04  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/padlock.d: Support 64bit BFD.
@
text
@d1 6
@


1.941
log
@gas/ChangeLog:
* read.c (s_weakref): Do not permit redefinitions.
* symbols.c (colon): Do not permit redefinitions of equated
symbols.
gas/testsuite/ChangeLog:
* gas/all/gas.exp: Remove weakref xfail.  Run weakref4.s.
* gas/all/weakref1.s: Move redefinition bits to...
* gas/all/weakref4.s: ... new file.
* gas/all/weakref1.d: Remove command moved to weakref1u.  Adjust
remaining command for leading tabs.  Regenerate.
* gas/all/weakref1l.d: Regenerate.
* gas/all/weakref1u.d: Likewise.
* gas/all/wealref1w.d: Likewise.
@
text
@d1 4
@


1.940
log
@gas/testsuite/
2005-11-04  Jan Beulich  <jbeulich@@novell.com>

	* gas/all/gas.exp: xfail weakref dump tests for all targets.
@
text
@d1 11
@


1.939
log
@	PR gas/1630
	* gas/all/gas.exp <weakref1, weakref1g, weakref1l, weakref1u,
	weakref1w>: Xfail for cris-*-* and mmix-*-*.
@
text
@d1 4
@


1.938
log
@gas/testsuite/
2005-10-27  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/equ.d: Fix typo.
	* gas/i386/equ.s: Don't globalize r.
@
text
@d1 6
@


1.937
log
@gas/
2005-10-27  Jan Beulich  <jbeulich@@novell.com>

	* read.c (assign_symbol): Also consider equates already defined.
	* symbols.c (symbol_clone): Also clone the underlying BFD symbol.
	* config/obj-coff.h (obj_symbol_clone_hook): New.
	(coff_obj_symbol_clone_hook): Declare.
	* config/obj-coff.c (coff_obj_symbol_clone_hook): New.

gas/testsuite/
2005-10-27  Jan Beulich  <jbeulich@@novell.com>

	* gas/all/gas.exp: Don't xfail equiv1 test anymore.
@
text
@d3 5
@


1.936
log
@2005-10-26  Paul Brook  <paul@@codesourcery.com>

gas/
	* config/tc-arm.c (insns): Correct "sel" entry.
gas/testsuite/
	* gas/arm/archv6.d: Adjust expected output.
opcodes/
	* arm-dis.c (arm_opcodes): Correct "sel" entry.
@
text
@d1 4
@


1.935
log
@gas/
2005-10-26  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-i386.c (i386_operand): Don't check register prefix here.
	(parse_real_register): Rename from parse_register.
	(parse_register): New.
	(i386_parse_name): New.
	(md_operand): New.
	(intel_e11): Don't tolerate registers in offset expressions anymore.
	(intel_get_token): Don't check register prefix here. Copy the actual
	register token, not the canonical register name.
	* config/tc-i386.h (md_operand): Delete.
	(i386_parse_name): Declare.
	(md_parse_name): Define.

gas/testsuite/
2005-10-26  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/intel.s: Replace register used in offset expression.
	* gas/i386/intel.e: Adjust.
	* gas/i386/intelbad.l: Adjust.
	* gas/i386/equ.[sed]: New.
	* gas/i386/i386.exp: Run new test.
@
text
@d1 4
@


1.934
log
@	* gas/z80/z80.exp: Fix misplaced-open-brace typo.
@
text
@d1 8
@


1.933
log
@Add support for the Z80 processor family
@
text
@d1 4
@


1.932
log
@	* gas/bfin/flow2.d: Match changed assembler behaviour.
	* gas/bfin/reloc.d: Likewise.
@
text
@d1 13
@


1.931
log
@gas/ChangeLog:
* read.c (potable): Add weakref.
(s_weakref): New.
* read.h (s_weakref): Declare.
* struc-symbol.h (struct symbol): Add sy_weakrefr and sy_weakrefd.
* symbols.c (colon): Clear weakrefr.
(symbol_find_exact): Rename to, and reimplement in terms of...
(symbol_find_exact_noref): ... new function.
(symbol_find): Likewise...
(symbol_find_noref): ... ditto.
(resolve_symbol_value): Resolve weakrefr without setting their
values.
(S_SET_WEAK): Call hook.
(S_GET_VALUE): Follow weakref link.
(S_SET_VALUE): Clear weakrefr.
(S_IS_WEAK): Follow weakref link.
(S_IS_WEAKREFR, S_SET_WEAKREFR, S_CLEAR_WEAKREFR): New.
(S_IS_WEAKREFD, S_SET_WEAKREFD, S_CLEAR_WEAKREFD): New.
(symbol_set_value_expression, symbol_set_frag): Clear weakrefr.
(symbol_mark_used): Follow weakref link.
(print_symbol_value_1): Print weak, weakrefr and weakrefd.
* symbols.h (symbol_find_noref, symbol_find_exact_noref): Declare.
(S_IS_WEAKREFR, S_SET_WEAKREFR, S_CLEAR_WEAKREFR): Declare.
(S_IS_WEAKREFD, S_SET_WEAKREFD, S_CLEAR_WEAKREFD): Declare.
* write.c (adust_reloc_syms): Follow weakref link.  Do not
complain if target is undefined.
(write_object_file): Likewise.  Remove weakrefr symbols.  Drop
unreferenced weakrefd symbols.
* config/obj-coff.c (obj_frob_symbol): Do not force WEAKREFD
symbols EXTERNAL.
(pecoff_obj_set_weak_hook, pecoff_obj_clear_weak_hook): New.
* config/obj-coff.h (obj_set_weak_hook, obj_clear_weak_hook): Define.
* doc/as.texinfo: Document weakref.
* doc/internals.texi: Document new struct members, internal
functions and hooks.
gas/testsuite/ChangeLog:
* gas/all/weakref1.s, gas/all/weakref1.d: New test.
* gas/all/weakref1g.d, gas/all/weakref1l.d: New tests.
* gas/all/weakref1u.d, gas/all/weakref1w.d: New tests.
* gas/all/weakref2.s, gas/all/weakref3.s: New tests.
* gas/all/gas.exp: Run new tests.
@
text
@d1 5
@


1.930
log
@include/opcode/
2005-10-24  Jan Beulich  <jbeulich@@novell.com>

	* ia64.h (enum ia64_opnd): Move memory operand out of set of
	indirect operands.

bfd/
2005-10-24  Jan Beulich  <jbeulich@@novell.com>

	* cpu-ia64-opc.c (elf64_ia64_operands): Move memory operand out of
	set of indirect operands.

gas/
2005-10-24  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-ia64.c (enum reg_symbol): Delete IND_MEM.
	(dot_rot): Change type of num_* variables. Check for positive count.
	(ia64_optimize_expr): Re-structure.
	(md_operand): Check for general register.

gas/testsuite/
2005-10-24  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/index.[sl]: New.
	* gas/ia64/rotX.[sl]: New.
	* gas/ia64/ia64.exp: Run new tests.

opcodes/
2005-10-24  Jan Beulich  <jbeulich@@novell.com>

	* ia64-asmtab.c: Regenerate.
@
text
@d1 8
@


1.929
log
@gas/
2005-10-24  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-ia64.c (declare_register): Call symbol_create.
	(md_begin): Remove local variables total, ar_base, and cr_base.
	Start loops for registers at their respective first one. Don't
	update md.regsym for alias names. Generate alias name tp for r13.

gas/testsuite/
2005-10-24  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/regs.pl: Also check tp alias of r13.
	* gas/ia64/regs.s: Regenerate.
	* gas/ia64/regs.d: Adjust.
@
text
@d3 6
@


1.928
log
@* config/tc-mips.c (append_insn): Convert MIPS16 jr/jalr jumps
into jrc/jalrc versions if ISA_MIPS32+ and not doing the swap,
hence avoiding to emit a nop.

* gas/mips/mips.exp: Run new test.
* gas/testsuite/gas/mips/mips16e-jrc.s: New test for converting
jalr/jr to the compact jalrc/jrc instructions.
* gas/testsuite/gas/mips/mips16e-jrc.d: New.
@
text
@d1 6
@


1.927
log
@	* gas/s390/zarch-z9-109.s: Add tests for unnormalized hfp multiply
	and multiply-and-add instructions.
	* gas/s390/zarch-z9-109.d: Update expected result.
@
text
@d1 7
@


1.926
log
@	* gas/arm/copro.d: 'mcrlt' instruction should not be disassembled as
	'cfsh64lt'.
@
text
@d1 6
@


1.925
log
@	* gas/hppa/basic/basic.exp (do_system): Adjust for removal of lha
	instructions from system.s.
	* gas/hppa/basic/system.s (lha): Remove.

	* hppa.h (pa_opcodes): Remove lha entries.
@
text
@d1 5
@


1.924
log
@gas/
2005-10-12  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-ia64.c (dot_reg_val): Use expression_and_evaluate.
	(dot_pred_rel): Likewise.
	(parse_operand): Likewise.
	(ia64_unrecognized_line): Likewise.
	(md_operand): Likewise.

gas/testsuite/
2005-10-12  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/forward.[sd]: New.
	* gas/ia64/ia64.exp: Run new test.
@
text
@d1 6
@


1.923
log
@This adjusts equate handling by
- allowing true forward references (which will always assume the referenced
  symbols have at the point of use) through the new .eqv pseudo-op and the
  new == operator
- disallowing changing .equiv-generated equates (so that the protection this
  provides is both forward and backward)
- snapshotting equates when their value gets changed so that previous uses
  don't get affected by the new value.
- allowing expressions in places where absolute expressions (or register
  names) are needed which were not completely resolvable at the point of
  their definition but which are fully resolvable at the point of use

In addition it fixes PR/288.
@
text
@d1 5
@


1.922
log
@* gas/sh/reg-prefix.s: Use mov.l instruction in preference to movli.l.
* gas/sh/reg-prefix.d: Force little endian assembly.
@
text
@d1 19
@


1.921
log
@2005-10-08  Paul Brook  <paul@@codesourcery.com>

bfd/
	* elf32-arm.c: Move #include "elf/arm.h" after libbfd.h.
	(NUM_KNOWN_ATTRIBUTES): Define.
	(aeabi_attribute, aeabi_attribute_list): Define.
	(elf32_arm_obj_tdata): Add known_eabi_attributes and
	other_eabi_attributes.
	(uleb128_size, is_default_attr, eabi_attr_size,
	elf32_arm_eabi_attr_size, write_uleb128, write_eabi_attribute,
	elf32_arm_set_eabi_attr_contents, elf32_arm_bfd_final_link,
	elf32_arm_new_eabi_attr, attr_strdup, elf32_arm_add_eabi_attr_int,
	elf32_arm_add_eabi_attr_compat, copy_eabi_attributes,
	elf32_arm_merge_eabi_attributes): New functions.
	(elf32_arm_copy_private_bfd_data): Copy EABI object attributes.
	(elf32_arm_fake_sections): Handle .ARM.attributes.
	(elf32_arm_parse_attributes): New function.
	(elf32_arm_section_from_shdr): Use it.
	(bfd_elf32_bfd_final_link): Define.
gas/
	* config/tc-arm.c: Don't provide fallback default for CPU_DEFAULT.
	(arm_arch_used, thumb_arch_used, selected_cpu, selected_cpu_name):
	New variables.
	(arm_cpu_option_table): Add canonical_name.
	(arm_cpus): Populate canonical_name field.
	(s_arm_eabi_attribute, s_arm_arch, s_arm_cpu, s_arm_fpu,
	aeabi_set_public_attributes, arm_md_end): New functions.
	(md_pseudo_table): Add "cpu", "arch", "fpu" and "eabi_attribute".
	(md_assemble): Set thumb_arch_used and arm_arch_used.
	(md_begin): Set defaut cpu if CPU_DEFAULT not defined.
	* config/tc-arm.h (md_end): Define.
	* doc/c-arm.texi: Document .cpu, .arch, .fpu and .eabi_attribute.
gas/testsuite/
	* gas/arm/eabi_attr_1.s: New test.
	* gas/arm/eabi_attr_1.d: New test.
	* gas/arm/arm7t.d: Only disassemble code sections.
	* gas/arm/bignum1.d: Ignore Arm object attribute sections.
	* gas/arm/mapping.d: Ditto.
	* gas/arm/unwind.d: Ditto.
	* gas/elf/section0.d: Ditto.
	* gas/elf/section1.d: Ditto.
	* gas/elf/elf.exp: Set target_machine for Arm EABI based targets.
	* gas/elf/section2.e-armeabi: New file.
include/elf/
	* arm.h: Add prototypes for BFD object attribute routines.
ld/testsuite/
	* ld-arm/arm-rel31.d: Ignore Arm object attribute sections.
	* ld-arm/arm-target1-abs.d: Ditto.
	* ld-arm/arm-target1-rel.d: Ditto.
	* ld-arm/arm-target2-abs.d: Ditto.
	* ld-arm/arm-target2-got-rel.d: Ditto.
	* ld-arm/arm-target2-rel.d: Ditto.
@
text
@d1 6
@


1.920
log
@* config/tc-sh.c (allow_dollar_register_prefix): New variable.
  (parse_reg_without_prefix): New function.
  (parse_reg): Check for '$' register prefix if --allow-reg-prefix is set.
  (option md_longopts): Add allow-reg-prefix option.
* doc/c-sh.texi: Document --allow-reg-prefix option.
* NEWS: Mention the new switch.

* gas/sh/basic.exp:  Run reg-prefix test.
* gas/sh/reg-prefix.s: New
* gas/sh/reg-prefix.d: New
@
text
@d1 13
@


1.919
log
@	* gas/bfin: New testsuite for bfin.
	* gas/all/gas.exp (bfin-*-*): Expected failure for alternate
	macro syntax.
@
text
@d1 7
@


1.918
log
@2005-09-30  Paul Brook  <paul@@codesourcery.com>

gas/
	* config/tc-arm.c (opcode_tag): Add OT_cinfix3_legacy.
	(opcode_lookup): Handle OT_cinfix3_legacy.  Revert earlier change for
	normal infix conditions.
	(C3E): Include Thumb-2 definition.
	(CL, cCL): Define.
	(insns): Use them for legacy mnemonics.
gas/testsuite/
	* gas/arm/fpa-mem.s: Remove incorrect comments.
	* gas/arm/fpa-mem.d: Update expected results.
@
text
@d1 6
@


1.917
log
@gas/
2005-09-29  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-ia64.c (parse_operands): Always parse first operand of
	alloc.

gas/testsuite/
2005-09-29  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/alloc.[sl]: New.
	* gas/ia64/ia64.exp: Run new test.
@
text
@d1 5
@


1.916
log
@gas/testsuite/
2005-09-28  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/x86-64-stack.s, gas/i386/x86-64-stack.d,
	gas/i386/x86-64-stack-suffix.d, gas/i386/x86-64-stack-intel.d: New.
	* gas/i386/i386.exp: Run new tests.

ld/testsuite/
2005-09-28  Jan Beulich  <jbeulich@@novell.com>

	* ld-x86-64/tlspic.dd: Adjust.

opcodes/
2005-09-28  Jan Beulich  <jbeulich@@novell.com>

	* i386-dis.c (stack_v_mode): Renamed from branch_v_mode.
	(indirEv): Use it.
	(stackEv): New.
	(Ob64, Ov64): Rename to Ob, Ov. Delete unused original definitions.
	(dis386): Document and use new 'V' meta character. Use it for
	single-byte push/pop opcode forms. Use stackEv for mod-r/m push/pop
	opcode forms. Correct typo in 'pop ss'. Replace Ob64/Ov64 by Ob/Ov.
	(putop): 'q' suffix for 'T' and 'U' meta depends on DFLAG. Mark
	data prefix as used whenever DFLAG was examined. Handle 'V'.
	(intel_operand_size): Use stack_v_mode.
	(OP_E): Use stack_v_mode, but handle only the special case of
	64-bit mode without operand size override here; fall through to
	v_mode case otherwise.
	(OP_REG): Special case rAX_reg ... rDI_reg only when 64-bit mode
	and no operand size override is present.
	(OP_J): Use get32s for obtaining the displacement also when rex64
	is present.
@
text
@d1 5
@


1.915
log
@gas/
2005-09-28  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-i386.c (reloc): Disable signedness check for 4-byte
	relocations in 16- and 32-bit modes.
	(i386_displacement): Make pc-relative branch handling dependent
	upon operand (rather than address) size.

gas/testsuite/
2005-09-28  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/mixed-mode-reloc.s: Enable all insns.
	* gas/i386/mixed-mode-reloc32.d: Adjust.
	* gas/i386/mixed-mode-reloc64.d: Adjust.
@
text
@d3 6
@


1.914
log
@gas/
2005-09-28  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-i386.h (x86_cons_fix_new): Declare unconditionally.
	(TC_CONS_FIX_NEW): Define unconditionally.
	(x86_pe_cons_fix_new): Remove.
	* config/tc-i386.c (signed_cons): New.
	(md_pseudo_table): Add slong.
	(x86_cons_fix_new): Declare unconditionally.
	(x86_pe_cons_fix_new): Merge into x86_cons_fix_new.
	(tc_gen_reloc): Also consider BFD_RELOC_X86_64_32S for gotpc
	conversion.

gas/testsuite/
2005-09-28  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/reloc64.s: Also test .slong.
	* gas/i386/reloc64.l: Adjust.
	* gas/i386/reloc64.d: Adjust.
@
text
@d3 6
@


1.913
log
@	* gas/lns/lns.exp (lns-common-1): Don't run on targets without
	a bare nop insn.
@
text
@d1 6
@


1.912
log
@	* gas/cris/rd-dw2-1.d, gas/cris/rd-dw2-10.d, gas/cris/rd-dw2-11.d,
        gas/cris/rd-dw2-12.d, gas/cris/rd-dw2-13.d, gas/cris/rd-dw2-14.d,
        gas/cris/rd-dw2-15.d, gas/cris/rd-dw2-2.d, gas/cris/rd-dw2-3.d,
        gas/cris/rd-dw2-4.d, gas/cris/rd-dw2-5.d, gas/cris/rd-dw2-6.d,
        gas/cris/rd-dw2-7.d, gas/cris/rd-dw2-8.d, gas/cris/rd-dw2-9.d,
        gas/mips/mips16-dwarf2-n32.d, gas/mips/mips16-dwarf2.d: Add 0x
        prefix in "Advance PC" lines.
@
text
@d1 5
@


1.911
log
@2005-09-08  Paul Brook  <paul@@codesourcery.com>

bfd/
	* reloc.c: Rename BFD_RELOC_ARM_SMI to BFD_RELOC_ARM_SMC.
	* bfd-in2.h: Regenerate.
	* libbfd.h: Regenerate.
opcodes/
	* arm-dis.c (arm_opcodes, thumb32_opcodes): Rename smi to smc.
gas/
	* config/tc-arm.c (do_smi, do_t_smi): Rename ...
	(do_smc, do_t_smc): ... to this.
	(insns): Remane smi to smc.
	(md_apply_fix, tc_gen_reloc): Rename BFD_RELOC_ARM_SMI to
	BFD_RELOC_ARM_SMC.
gas/testsuite/
	* gas/arm/arch6zk.d: Rename smi to smc.
	* gas/arm/arch6zk.s: Ditto.
	* gas/arm/thumb32.d: Ditto.
	* gas/arm/thumb32.s: Ditto.
@
text
@d1 10
@


1.910
log
@        * dwarf2dbg.c (dwarf2_where): Set line->isa.
        (dwarf2_set_isa): New.
        (dwarf2_directive_loc): Rearrange to allow all options on one line.
        * dwarf2dbg.h (dwarf2_set_isa): Declare.
        * doc/as.texinfo: Update .loc documentation.

        * gas/lns/lns-common-1.d: Don't match header or special opcode numbers.
        * gas/lns/lns-common-1.s: Update for syntax change.
        * gas/lns/lns-diag-1.[sl]: Likewise.
@
text
@d1 7
d17 1
a17 1
        number increments.  Adjust relocation address.
@


1.909
log
@        * gas/mips/mips16-dwarf2.d: Don't match anything but address and line
        number increments.  Adjust relocation address.
        * gas/mips/mips16-dwarf2-n32.d: Likewise.  Add "N32" to test name.
@
text
@d3 6
@


1.908
log
@        * gas/cris/rd-dw2-1.d: Don't match anything but address and line
        number increments.
        * gas/cris/rd-dw2-10.d, gas/cris/rd-dw2-11.d, gas/cris/rd-dw2-12.d,
        gas/cris/rd-dw2-13.d, gas/cris/rd-dw2-14.d, gas/cris/rd-dw2-15.d,
        gas/cris/rd-dw2-2.d, gas/cris/rd-dw2-3.d, gas/cris/rd-dw2-4.d,
        gas/cris/rd-dw2-5.d, gas/cris/rd-dw2-6.d, gas/cris/rd-dw2-7.d,
        gas/cris/rd-dw2-8.d, gas/cris/rd-dw2-9.d: Likewise.
@
text
@d3 6
@


1.907
log
@        * dwarf2dbg.c: Include safe-ctype.h.
        (DWARF2_LINE_OPCODE_BASE): Bump to 13.
        (current): Initialize.
        (dwarf2_emit_insn): Clear DWARF2_FLAG_BASIC_BLOCK,
        DWARF2_FLAG_PROLOGUE_END, DWARF2_FLAG_EPILOGUE_BEGIN.
        (dwarf2_directive_file): Cope with invalid filename.
        (dwarf2_directive_loc): Add handling for basic_block, prologue_end,
        epilogue_begin, is_stmt, isa.
        (emit_inc_line_addr): Move line_delta == 0, addr_delta == 0 special
        case down lower.
        (process_entries): Handle isa, DWARF2_FLAG_PROLOGUE_END,
        and DWARF2_FLAG_EPILOGUE_BEGIN.
        (out_debug_line): Emit sizes for DW_LNS_set_prologue_end,
        DW_LNS_set_epilogue_begin, DW_LNS_set_isa.
        * dwarf2dbg.h (DWARF2_FLAG_IS_STMT): Rename from DWARF2_FLAG_BEGIN_STMT.        (DWARF2_FLAG_BASIC_BLOCK): Rename from DWARF2_FLAG_BEGIN_BLOCK.
        (DWARF2_FLAG_PROLOGUE_END, DWARF2_FLAG_EPILOGUE_BEGIN): New.
        (struct dwarf2_line_info): Add isa member.
        * doc/as.texinfo (LNS directives): New node.
@
text
@d3 10
@


1.906
log
@* gas/mips/mips.exp: Run MT test for mips32r2 only.
* gas/mips/mips32-mt.[sdl]: New test.
@
text
@d1 6
@


1.905
log
@2005-09-06  Paul Brook  <paul@@codesourcery.com>

gas/
	* config/tc-arm.c (arm_it): Add relax field.
	(T16_32_TAB): Add addi, addis, add_pc, add_sp, dec_sp, inc_sp,
	b, bcond, ldr_pc, ldr_pc2, ldr_sp, str_sp, subi, subis.
	(do_t_add_sub, do_t_addr, do_t_branch, do_t_ldst,
	do_t_mov_cmp): Allow relaxation.
	(output_relax_insn): New function.
	(put_thumb32_insn): New function.
	(output_inst): Use new functions.
	(md_assemble): Don't throw error on relaxable instructions.
	(insns): Change "b" entry from TCE(...) to tCE(...).
	(md_estimate_size_before_relax): Return 2.
	(md_convert_frag, relax_immediate, relax_adr, relax_addsub,
	relax_branch, arm_relax_frag): New functions.
	(arm_force_relocation): Return 0 for Thumb-2 immediate operand
	relocations.
	* config/tc-arm.h (md_convert_frag): Remove definition.
	(md_relax_frag): Define.
	(arm_relax_frag): Add prototype.
gas/testsuite/
	* gas/arm/thumb2_relax.d: New test.
	* gas/arm/thumb2_relax.s: New test.
	* gas/arm/thumb32.d: Adjust expected results to include relaxation.
	* gas/arm/thumb32.s: Tweak for better coverage of relaxable
	instructions.  Remove load/store tests.
@
text
@d1 5
@


1.904
log
@2005-09-02  Paul Brook  <paul@@codesourcery.com>

gas/
	* config/tc-arm.c (do_rn_rd): Enforce SWP operand constraints.
gas/testsuite/
	* gas/arm/arm3-bad.s: New test.
	* gas/arm/arm3-bad.d: New test.
	* gas/arm/arm3.s: Avoid illegal instructions.
	* gas/arm/arm3.d: Ditto.
@
text
@d1 8
@


1.903
log
@2005-09-02  Paul Brook  <paul@@codesourcery.com>

bfd/
	* libbdf.h: Regenerate.
	* bfd-in2.h: Regenerate.
	* reloc.c: Add BFD_RELOC_ARM_T32_CP_OFF_IMM and
	BFD_RELOC_ARM_T32_CP_OFF_IMM_S2.
gas/
	* config/tc-arm.c (encode_arm_cp_address): Use
	BFD_RELOC_ARM_T32_CP_OFF_IMM in thumb mode.
	(do_iwmmxt_wldstbh): Use BFD_RELOC_ARM_T32_CP_OFF_IMM_S2 in thumb
	mode.
	(md_assemble): Only allow coprocessor instructions when Thumb-2 is
	available.
	(cCE, cC3): Define.
	(insns): Use them for coprocessor instructions.
	(md_pcrel_from_section): Handle BFD_RELOC_ARM_T32_CP_OFF_IMM.
	(get_thumb32_insn): New function.
	(put_thumb32_insn): New function.
	(md_apply_fix): Handle BFD_RELOC_ARM_T32_CP_OFF_IMM and
	BFD_RELOC_ARM_T32_CP_OFF_IMM_S2.
gas/testsuite/
	* gas/arm/vfp-bad_t2.d, gas/arm/vfp-bad_t2.l, arm/vfp-bad_t2.s,
	gas/arm/vfp1_t2.d, gas/arm/vfp1_t2.s, gas/arm/vfp1xD_t2.d,
	gas/arm/vfp1xD_t2.s, gas/arm/vfp2_t2.d, gas/arm/vfp2_t2.s): New files.
opcodes/
	* arm-dis.c (coprocessor_opcodes): New.
	(arm_opcodes, thumb32_opcodes): Remove coprocessor insns.
	(print_insn_coprocessor): New function.
	(print_insn_arm): Use print_insn_coprocessor.  Remove coprocessor
	format characters.
	(print_insn_thumb32): Use print_insn_coprocessor.
@
text
@d3 7
@


1.902
log
@2005-09-02  Paul Brook  <paul@@codesourcery.com>

gas/
	* config/tc-arm.c (opcode_lookup): Look for infix opcode when
	incorrect suffix matches.
gas/testsuite/
	* gas/arm/fpa-mem.d: Test "stfpls".
	* gas/arm/fpa-mem.s: Ditto.
@
text
@d3 6
@


1.901
log
@	* gas/cris: Adjust all files for testing target
	cris-axis-linux-gnu.
@
text
@d1 5
@


1.900
log
@2005-08-30  Paul Brook  <paul@@codesourcery.com>

opcodes/
	* arm-dis.c (thumb_opcodes): Disassemble sub(3) as subs.
gas/testsuite/
	* gas/arm/thumb.d: Change "sub rn, rn, rn" to "subs rn, rn, rn".
	* gas/arm/thumb32.d: Ditto.
@
text
@d1 5
@


1.899
log
@gas/
2005-08-26  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-i386.c (intel_e09): Set JumpAbsolute when seeing a PTR-
	qualified operand of a branch.
	(intel_bracket_expr): Set JumpAbsolute here...
	(intel_e11): ... rather than here.

gas/testsuite/
2005-08-26  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/intel.s: Adjust.
	* gas/i386/intelok.s: Add two more insns.
	* gas/i386/intelok.d: Adjust.
@
text
@d1 5
@


1.898
log
@opcodes/
2005-08-26  Jan Beulich  <jbeulich@@novell.com>

	* i386-dis.c (intel_operand_size): New, broken out from OP_E for
	re-use.
	(OP_E): Call intel_operand_size, move call site out of mode
	dependent code.
	(OP_OFF): Call intel_operand_size if suffix_always. Remove
	ATTRIBUTE_UNUSED from parameters.
	(OP_OFF64): Likewise.
	(OP_ESreg): Call intel_operand_size.
	(OP_DSreg): Likewise.
	(OP_DIR): Use colon rather than semicolon as separator of far
	jump/call operands.

gas/testsuite/
2005-08-26  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/intelok.d: Adjust.
@
text
@d3 6
@


1.897
log
@* gas/mips/mips.exp: Run DSP test.
* gas/mips/mips32-dsp.[sdl]: New test.
@
text
@d1 4
@


1.896
log
@gas/
2005-08-22  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-i386.c (object_64bit): New.
	(i386_target_format): Initialize it.
	(output_disp): Use object_64bit for relocation type determination.
	(output_imm): Likewise.
	(i386_validate_fix): Likewise.
	(tc_gen_reloc): Likewise.
	(lex_got): Likewise. Remove static mode_name. Change array size
	of gotrel's rel field, and adjust its initializer. Adjust diagnostic.
	(x86_cons): Use object_64bit for deciding whether quad fields can
	have relocations.

gas/testsuite/
2005-08-22  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/mixed-mode-reloc.s, gas/i386/mixed-mode-reloc32.d,
	gas/i386/mixed-mode-reloc64.d: New.
	* gas/i386/i386.exp: Run new tests.
@
text
@d1 5
@


1.895
log
@2005-08-15  Paul Brook  <paul@@codesourcery.com>

gas/
	* config/tc-arm.c (do_t_mov_cmp): Fix encoding of i16-bit conditional
	instructions.
	(do_t_mvn_tst, do_t_neg, do_t_shift): Ditto.
gas/testsuite/
	* gas/arm/thumb2_it.s: Add more instruction variants.
	* gas/arm/thumb2_it.d: Ditto.
@
text
@d1 6
@


1.894
log
@	* gas/testsuite/gas/s390/s390.exp: Reorganize gas testsuite for s390
	and add tests for new cpu type z9-109.
	* gas/testsuite/gas/s390/esa-g5.d: New.
	* gas/testsuite/gas/s390/esa-g5.s: New.
	* gas/testsuite/gas/s390/esa-operands.d: New.
	* gas/testsuite/gas/s390/esa-operands.s: New.
	* gas/testsuite/gas/s390/esa-reloc.d: New.
	* gas/testsuite/gas/s390/esa-reloc.s: New.
	* gas/testsuite/gas/s390/esa-z9-109.d: New.
	* gas/testsuite/gas/s390/esa-z9-109.s: New.
	* gas/testsuite/gas/s390/esa-z900.d: New.
	* gas/testsuite/gas/s390/esa-z900.s: New.
	* gas/testsuite/gas/s390/esa-z990.d: New.
	* gas/testsuite/gas/s390/esa-z990.s: New.
	* gas/testsuite/gas/s390/zarch-operands.d: New.
	* gas/testsuite/gas/s390/zarch-operands.s: New.
	* gas/testsuite/gas/s390/zarch-reloc.d: New.
	* gas/testsuite/gas/s390/zarch-reloc.s: New.
	* gas/testsuite/gas/s390/zarch-z9-109.d: New.
	* gas/testsuite/gas/s390/zarch-z9-109.s: New.
	* gas/testsuite/gas/s390/zarch-z900.d: New.
	* gas/testsuite/gas/s390/zarch-z900.s: New.
	* gas/testsuite/gas/s390/zarch-z990.d: New.
	* gas/testsuite/gas/s390/zarch-z990.s: New.
	* gas/testsuite/gas/s390/opcode.d: Delete.
	* gas/testsuite/gas/s390/opcode.s: Delete.
	* gas/testsuite/gas/s390/opcode64.d: Delete.
	* gas/testsuite/gas/s390/opcode64.s: Delete.
	* gas/testsuite/gas/s390/operands.d: Delete.
	* gas/testsuite/gas/s390/operands.s: Delete.
	* gas/testsuite/gas/s390/operands64.d: Delete.
	* gas/testsuite/gas/s390/operands64.s: Delete.
	* gas/testsuite/gas/s390/reloc.d: Likewise.
	* gas/testsuite/gas/s390/reloc.s: Likewise.
	* gas/testsuite/gas/s390/reloc64.d: Likewise.
	* gas/testsuite/gas/s390/reloc64.s: Likewise.
@
text
@d1 5
@


1.893
log
@	* gas/all/gas.exp: Remove a29k and m88k support.
	* gas/m88k/*: Delete.
	* gas/tic80/*: Delete.
@
text
@d1 39
@


1.892
log
@	* ChangeLog: Fix typo in last change.
@
text
@d1 53
@


1.891
log
@	* gas/hppa/reloc/reloc.exp (do_function_reloc_bug): Add "L%" to regexp.
@
text
@d1 1
a1 1
2005-08-05  John Davind Anglin  <dave.anglin@@nrc-cnrc.gc.ca>
@


1.890
log
@2005-08-05  Paul Brook  <paul@@codesourcery.com>

gas/
	* config/tc-arm.c (current_it_mask, current_cc): New variables.
	(do_t_add_sub): Use correct encodings inside IT block.
	(do_t_arit3c): Ditto.
	(do_t_it): Simplify logic.  Set current_it_mask and current_cc.
	(md_assemble): Verify conditional suffixes agains IT blocks.
gas/testsuite/
	* gas/arm/thumb32.s: Use correct conditional suffixes inside IT
	blocks.
	* gas/arm/thumb2_it.d, gas/arm/thumb2_it.s: New test.
@
text
@d1 4
@


1.889
log
@2005-08-05  Paul Brook  <paul@@codesourcery.com>

gas/
	* config/tc-arm.c (encode_thumb32_immediate): Only accept shifted
	constants.
	(encode_thumb32_shifted_operand): Prohibit register shifts.
	(encode_thumb32_addr_mode): Fix typo.
	(insns): Correct thumb2 ldm and stm opcodes.
gas/testsuite/
	* gas/arm/thumb32.d: Update ldm/stm dests.
	* gas/arm/thumb32.s: Ditto.
@
text
@d3 6
@


1.888
log
@config/tc-arm.c (do_iwmmxt_wldstd): Correct the offset range for WLDRD/WSTRD
  instruction.
gas/arm/iwmmxt-bad2.s: New file: Check for error messages about erroneous
  offsets in iwmmxt instructions.  Cannot be part of iwmmxt-bad.s because
  the errors there stop the assembler before it gets to check the offsets
  in instructions.
gas/arm/iwmmxt-bad2.d: New file.
gas/arm/iwmmxt-bad2.l: New file: Expected error messages.
gas/arm/iwmmxt.s: Change the offset values of the WLDRD, WSTRD and WSTRW
  instructions to be larger than +/-255.
gas/arm/iwmmxt.d: Fix the expected results for these instructions.
@
text
@d1 5
@


1.887
log
@2005-07-29  Paul Brook  <paul@@codesourcery.com>

bfd/
	* reloc.c: Add BFD_RELOC_ARM_T32_ADD_PC12.
	* bfd-in2.h: Regenerate.
	* libbfd.h: Regenerate.
gas/
	* config/tc-arm.c (T16_32_TAB): Add "addr". Fix encoding of push and
	pop.
	(do_t_addr): Implement 32-bit variant.
	(do_t_push_pop): Make some errors warnings.  Handle single register
	32-bit case.
	(insns): Use tCE for adr.
	(md_pcrel_from_section): Handle BFD_RELOC_ARM_T32_ADD_PC12.
	(md_apply_fix): Ditto.
gas/testsuite/
	* gas/arm/thumb32.d: Fix expected output for writeback addressing
	modes.  Add single high reg push/pop test.
	* gas/asm/thumb32.s: Add single high reg push/pop test.
opcodes/
	* arm-dis.c: Fix disassebly of thumb2 writeback addressing modes.
@
text
@d1 16
@


1.886
log
@2005-07-29  Paul Brook  <paul@@codesourcery.com>

bfd/
	* reloc.c (BFD_RELOC_ARM_T32_IMM12): Add.
	* bfd-in2.h: Regeenrate.
	* libbfd.h: Regenerate.
gas/
	* config/tc-arm.c (parse_tb): New function.
	(enum operand_parse_code): Add OP_TB.
	(parse_operands): Handle OP_TB.
	(do_t_add_sub_w, do_t_tb): New functions.
	(insns): Add entries for addw, subw, tbb and tbh.
	(md_apply_fix): Handle BFD_RELOC_ARM_T32_IMM12.
gas/testsuite/
	* gas/arm/thumb32.s: Add tests for addw, subw, tbb and tbh.
	* gas/arm/thumb32.d: Ditto.
opcodes/
	* arm-dis.c (thumb32_opc): Fix addressing mode for tbh.
	(print_insn_thumb32): Fix decoding of thumb2 'I' operands.
@
text
@d3 6
@


1.885
log
@gas/
2005-07-27  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-ia64.h (unw_r_record): Change type of fr_mem to unsigned
	int.
	(unw_p_record): Remove unused/redundant fields imask and rmask.
	Combine spoff and pspoff into a union. Combine gr and br into a
	union. Change type of grmask and brmask to unsigned char. Change type
	of frmask to unsigned int.
	(unw_x_record): Combine spoff, pspoff, and treg into a union.
	* config/tc-ia64.c (unwind): New field 'pending_saves'.
	(check_pending_save): New.
	(alloc_record): Clear out entire record.
	(output_psp_gr): Use renamed structure fields.
	(output_psp_sprel): Likewise.
	(output_rp_gr): Likewise.
	(output_rp_br): Likewise.
	(output_rp_psprel): Likewise.
	(output_rp_sprel): Likewise.
	(output_pfs_gr): Likewise.
	(output_pfs_psprel): Likewise.
	(output_pfs_sprel): Likewise.
	(output_preds_gr): Likewise.
	(output_preds_psprel): Likewise.
	(output_preds_sprel): Likewise.
	(output_spill_base): Likewise.
	(output_unat_gr): Likewise.
	(output_unat_psprel): Likewise.
	(output_unat_sprel): Likewise.
	(output_lc_gr): Likewise.
	(output_lc_psprel): Likewise.
	(output_lc_sprel): Likewise.
	(output_fpsr_gr): Likewise.
	(output_fpsr_psprel): Likewise.
	(output_fpsr_sprel): Likewise.
	(output_priunat_gr): Likewise.
	(output_priunat_psprel): Likewise.
	(output_priunat_sprel): Likewise.
	(output_bsp_gr): Likewise.
	(output_bsp_psprel): Likewise.
	(output_bsp_sprel): Likewise.
	(output_bspstore_gr): Likewise.
	(output_bspstore_psprel): Likewise.
	(output_bspstore_sprel): Likewise.
	(output_rnat_gr): Likewise.
	(output_rnat_psprel): Likewise.
	(output_rnat_sprel): Likewise.
	(output_spill_psprel): Likewise.
	(output_spill_sprel): Likewise.
	(output_spill_reg): Likewise.
	(output_fr_mem): Likewise. Allocate one unwind record per set mask
	bit.
	(output_frgr_mem): Likewise.
	(output_gr_mem): Likewise.
	(output_br_mem): Likewise.
	(output_gr_gr): Likewise.
	(output_br_gr): Likewise.
	(fixup_unw_records): Likewise.
	(process_one_record): Use renamed structure fields. For gr_gr and
	br_gr, collect mask from chain of records before output.
	(in_prologue): Simplify and eliminate early returns. Call
	check_pending_save.
	(in_body): Simplify and eliminate early returns.
	(dot_body): Call check_pending_save.
	(md_assemble): Update comment. Deal with pending saves.

gas/testsuite/
2005-07-27  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/unwind-bad.l: Uncomment patterns matching new warnings.
	* gas/ia64/unwind-ok.d: Correct expectations.
@
text
@d1 5
@


1.884
log
@gas/
2005-07-26  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-i386.c (optimize_imm): Calculate candidate immediates
	mask from guessed suffix, but mask out other immediate types only
	if at least on candidate is valid for the insn.

gas/testsuite/
2005-07-26  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/immed32.[sd]: New.
	* gas/i386/immed64.[sd]: New.
	* gas/i386/i386.exp: Run new tests.
@
text
@d1 5
@


1.883
log
@2005-07-21  Paul Brook  <paul@@codesourcery.com>

gas/
	* config/tc-arm.c (encode_thumb32_addr_mode): Don't set
	inst.reloc.pc_rel.
gas/testsuite/
	* gas/arm/thumb32.s: Add tests for [pc, #imm] addressing modes.
	* gas/arm/thumb32.d: Ditto.
@
text
@d1 6
@


1.882
log
@Add support for a 32bit PC relative reloc
@
text
@d1 5
@


1.881
log
@gas/testsuite/

2005-07-18  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Add suffix.

	* gas/i386/suffix.d: New file.
	* gas/i386/suffix.s: Likewise.

opcodes/

2005-07-18  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (PNI_Fixup): Update comment.
	(VMX_Fixup): Properly handle the suffix check.
@
text
@d1 10
@


1.880
log
@	* gas/hppa/basic/fp_comp.s: Add level 1.1 directive.
	* gas/hppa/basic/special.s, gas/hppa/basic/system.s: Likewise.
@
text
@d1 7
@


1.879
log
@gas/
2005-07-18  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-i386.c (reloc): Convert to ISO C90. Change first
	parameter to unsigned. Parameter sign now is tristate - zero/
	positive mean unsigned/signed, negative means signedness doesn't
	matter. Check field size,
	signedness, and pcrel-ness are in agreement between relocated field
	and relocation type. Adjust diagnostics.
	(optimize_imm): And type mask of operand instead of overwriting it.
	(lex_got): Convert to ISO C90. Add third parameter. Add new field to
	local structure and initialize gotrel accordingly. Pass caller as
	mask of types that the operator can match.
	(x86_cons_fix_new): Let reloc know that signedness of relocation
	doesn't matter.
	(x86_pe_cons_fix_new): Likewise.
	(x86_cons): Pass additional argument to lex_got.
	(i386_immediate): New local variable 'types'. Pass its address as
	additional argument to lex_got. Mask out operand types not supported
	befoe returning.
	(i386_displacement): Likewise. Set bigdisp to all types supported in
	64-bit mode, combining the previously split initialization.

gas/testsuite/
2005-07-18  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/reloc32.[sdl]: New.
	* gas/i386/reloc64.[sdl]: New.
	* gas/i386/i386.exp: Run new tests.
@
text
@d1 5
@


1.878
log
@gas/

2007-07-15  H.J. Lu <hongjiu.lu@@intel.com>

	* gas/config/tc-i386.h (CpuVMX): New.
	(CpuUnknownFlags): Add CpuVMX.

gas/testsuite/

2007-07-15  H.J. Lu <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Add vmx and x86-64-vmx.

	* gas/i386/vmx.d: New file.
	* gas/i386/vmx.s: Likewise.
	* gas/i386/x86-64-vmx.d: Likewise.
	* gas/i386/x86-64-vmx.s: Likewise.

include/opcode/

2007-07-15  H.J. Lu <hongjiu.lu@@intel.com>

	* i386.h (i386_optab): Support Intel VMX Instructions.

opcodes/

2007-07-15  H.J. Lu <hongjiu.lu@@intel.com>

	* i386-dis.c (OP_VMX): New. Handle Intel VMX Instructions.
	(VMX_Fixup): New. Fix up Intel VMX Instructions.
	(Em): New.
	(Gm): New.
	(VM): New.
	(dis386_twobyte): Updated entries 0x78 and 0x79.
	(twobyte_has_modrm): Likewise.
	(grps): Use OP_VMX in the "sgdtIQ" entry. Updated GRP9.
	(OP_G): Handle m_mode.
@
text
@d1 6
@


1.877
log
@Add testcase for PR 1063
@
text
@d1 9
@


1.876
log
@	* gas/mmix/relax1-n.d, gas/mmix/relax1-rn.d: Avoid "# FIXME: "
	first on a line, adjusting for testsuite framework change.
@
text
@d1 6
@


1.875
log
@gas/

2005-07-10  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (optimize_disp): Optimize signed 32bit
	displacements.

testsuite/gas/

2005-07-10  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386/x86_64.s: Add absolute siged 32bit addressing tests for
	mov.
	* i386/x86_64.d: Updated.
@
text
@d1 5
@


1.874
log
@	PR gas/1049
	* gas/cris/rd-pic-2.d, gas/cris/rd-pic-2.s: New test.
	* gas/cris/rd-abs32-1.d: Tweak for not emitting reloc-related
	garbage for global symbols.
@
text
@d1 6
d112 1
a112 1
	* i386/x86_64.s: Updated.
@


1.873
log
@arm-dis.c (opcode32 arm_opcodes): Fix ARM VFP fadds instruction disassembly
  pattern.
vfp1xD.d: Adjust expected fadds disassemblies now that the dissassembler has
  been fixed.
@
text
@d1 7
@


1.872
log
@2005-05-07  Paul Brook  <paul@@codesourcery.com>

bfd/
	* config.bfd: Add separate case for ppc-vxworks.
	* configure: Regenerate.
	* configure.in: Include elf-vxworks.lo on ppc targets.
	* elf-vxworks.c (elf_vxworks_final_write_processing): Handle
	.rela.plt.unloaded.
	* elf32-ppc.c: Add VxWorks target vec.	Include elf-vxworks.h.
	(PLT_ENTRY_SIZE, PLT_INITIAL_ENTRY_SIZE, PLT_SLOT_SIZE): Remove.
	(VXWORKS_PLT_ENTRY_SIZE, ppc_elf_vxworks_plt_entry,
	ppc_elf_vxworks_pic_plt_entry, VXWORKS_PLT_INITIAL_ENTRY_SIZE,
	ppc_elf_vxworks_plt0_entry, ppc_elf_vxworks_pic_plt0_entry,
	VXWORKS_PLT_NON_JMP_SLOT_RELOCS, VXWORKS_PLTRESOLVE_RELOCS,
	VXWORKS_PLTRESOLVE_RELOCS_SHLIB): New.
	(ppc_elf_link_hash_table): Add srelplt2, sgotplt, hgot, hplt,
	is_vxworks, plt_entry_size, plt_slot_size, plt_initial_entry_size.
	(ppc_elf_link_hash_table_create): Initialize hadtab plt fields.
	(ppc_elf_create_got): Create .got.plt for VxWorks.
	(ppc_elf_create_dynamic_sections): Create unloaded plt relocation
	section for VxWorks.
	(ppc_elf_select_plt_layout): Handle VxWorks plt format.
	(allocate_got): VxWorks does not need a got header.
	(allocate_dynrelocs): Handle VxWorks plt format.
	(ppc_elf_size_dynamic_sections): Save _G_O_T_ and _P_L_T_ symbols for
	VxWorks.  Handle VxWorks plt/got.
	(ppc_elf_finish_dynamic_sections): Fill in VxWorks plt.
	(ppc_elf_vxworks_special_sections): New.
	(ppc_elf_vxworks_link_hash_table_create,
	ppc_elf_vxworks_add_symbol_hook,
	elf_i386_vxworks_link_output_symbol_hook,
	ppc_elf_vxworks_final_write_processing): New functions.
	* targets.c (bfd_elf32_powerpc_vxworks_vec): Declare.
	(_bfd_target_vector): Use it.
gas/
	* config/tc-ppc.c (ppc_target_format): Add VxWorks.
gas/testsuite/
	* gas/ppc/altivec.d: Match all powerpc target vecs.
	* gas/ppc/booke.d: Ditto.
	* gas/ppc/e500.d: Ditto.
ld/
	* Makefile.am (ALL_EMULATIONS): Add eelf32ppcvxworks.o.
	(eelf32ppcvxworks.o): Add dependencies.
	* Makefile.in: Regenerate.
	* configure.tgt: Add entry for powerpc-vxworks.
	* emulparams/elf32-ppc.c: Mention elf32ppcvxworks.sh in comment.
	* emulparams/elf32ppcvxworks.sh: New file.
	* emultempl/ppc32elf.em (bfd_elf32_powerpc_vxworks_vec): Declare.
	(is_ppc_elf32_vec): New function.
	(ppc_after_open, ppc_before_allocation,
	gld${EMULATION_NAME}_after_allocation): Use it.
@
text
@d1 5
@


1.871
log
@	* config/tc-ms1.c: New.
	* config/tc-ms1.h: New.
	* testsuite/gas/ms1/allinsn.d: New.
	* testsuite/gas/ms1/allinsn.s: New.
	* testsuite/gas/ms1/badinsn.s: New.
	* testsuite/gas/ms1/badinsn1.s: New.
	* testsuite/gas/ms1/badoffsethigh.s: New.
	* testsuite/gas/ms1/badoffsetlow.s: New.
	* testsuite/gas/ms1/badorder.s: New.
	* testsuite/gas/ms1/badreg.s: New.
	* testsuite/gas/ms1/badsignedimmhigh.s: New.
	* testsuite/gas/ms1/badsignedimmlow.s: New.
	* testsuite/gas/ms1/badsyntax.s: New.
	* testsuite/gas/ms1/badsyntax1.s: New.
	* testsuite/gas/ms1/badunsignedimmhigh.s: New.
	* testsuite/gas/ms1/badunsignedimmlow.s: New.
	* testsuite/gas/ms1/errors.exp: New.
	* testsuite/gas/ms1/ldst.s: New.
	* testsuite/gas/ms1/misc.d: New.
	* testsuite/gas/ms1/misc.s: New.
	* testsuite/gas/ms1/ms1-16-003.d: New.
	* testsuite/gas/ms1/ms1-16-003.s: New.
	* testsuite/gas/ms1/ms1.exp: New.
	* testsuite/gas/ms1/msys.d: New.
	* testsuite/gas/ms1/msys.s: New.
	* testsuite/gas/ms1/relocs.d: New.
	* testsuite/gas/ms1/relocs.exp: New.
	* testsuite/gas/ms1/relocs1.s: New.
	* testsuite/gas/ms1/relocs2.s: New.
@
text
@d1 6
@


1.870
log
@gas/
2005-07-05  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-i386.h (CpuSVME): New.
	(CpuUnknownFlags): Include CpuSVME.
	* config/tc-i386.c (cpu_arch): Add .pacifica and .svme. Add opteron
	as alias of sledgehammer.
	(md_assemble): Include invlpga in the check for insns with two source
	operands.
	(process_operands): Include SVME insns in the check for ignored
	segment overrides. Adjust diagnostic.
	(i386_index_check): Special-case SVME insns with memory operands.

gas/testsuite/
2005-07-05  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/svme.d: New.
	* gas/i386/svme.s: New.
	* gas/i386/svme64.d: New.
	* gas/i386/i386.exp: Run new tests.

include/opcode/
2005-07-05  Jan Beulich  <jbeulich@@novell.com>

	* i386.h (i386_optab): Add new insns.

opcodes/
2005-07-05  Jan Beulich  <jbeulich@@novell.com>

	* i386-dis.c (SVME_Fixup): New.
	(grps): Use it for the lidt entry.
	(PNI_Fixup): Call OP_M rather than OP_E.
	(INVLPG_Fixup): Likewise.
@
text
@d1 31
@


1.869
log
@2005-07-04  Zack Weinberg  <zack@@codesourcery.com>

	* lib/gas-defs.exp (run_dump_tests): New proc.
	(run_dump_test): Add support for new options: target, not-target,
	skip, not-skip, error-output.  Document stderr.  Tidy a
	little.
	(slurp_options): If a line doesn't match the option regexp, but
	does begin with #, ignore it; don't stop parsing options.
	* gas/arm/arm.exp: Remove most code.  Use run_dump_tests.

	* gas/arm/archv6t2-bad.d, gas/arm/armv1.d, gas/arm/iwmmxt-bad.d
	* gas/arm/r15-bad.d, gas/arm/req.d, gas/arm/t16-bad.d
	* gas/arm/undefined.d, gas/arm/undefined_coff.d, gas/arm/vfp-bad.d:
	New files.
	* gas/arm/bignum1.d, gas/arm/mapping.d, gas/arm/pic.d:
	Only run on ELF targets.
	* gas/arm/tls.d, gas/arm/unwind.d: Only run on ELF targets.
	Skip on VxWorks.
	* gas/arm/tls_vxworks.d, gas/arm/unwind_vxworks.d: New files.
	* gas/arm/thumb.d, gas/arm/thumb32.d: Don't run on aout or pe.
	* gas/arm/le-fpconst.d: Only run on *-*-pe.
	* gas/arm/inst.d: Skip on WinCE.
	* gas/arm/wince_inst.d: Skip unless WinCE.
	* gas/arm/el_segundo.d: Mark up for actual use; adjust
	expectations.
	* gas/arm/el_segundo.s: Remove irrelevant junk.  Add padding
	for a.out's sake.
@
text
@d1 7
@


1.868
log
@gas/
2005-07-01  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-ia64.c (line_separator_chars): Add '{' and '}'.
	(output_spill_psprel, output_spill_psprel_p): Combine.
	(output_spill_sprel, output_spill_sprel_p): Combine.
	(output_spill_reg, output_spill_regp_p): Combine.
	(process_one_record): Handle psp_psprel.
	(parse_predicate_and_operand): New.
	(convert_expr_to_ab_reg): Two new parameters. Return void. Always
	initialize output values. Emit diagnostic case here.
	(convert_expr_to_xy_reg): Likewise. Don't allow r0, f0, and f1.
	(add_unwind_entry): New second parameter. Allow first parameter to
	be NULL. Parse optional tag, emit warning about further support for
	it otherwise being missing. Check end-of-line when requested.
	(dot_fframe): Clear operand when wrong. Allow tag.
	(dot_vframe): Likewise.
	(dot_vframesp): Likewise. Rename parameter, issue warning when psp
	relative.
	(dot_vframepsp): Remove.
	(dot_altrp): Clear operand when wrong. Allow tag.
	(dot_save): Likewise. Let default case also go through
	add_unwind_entry.
	(dot_savemem): Likewise.
	(dot_restore): Don't return when wrong operand. Allow tag.
	(dot_spillreg, dot_spillreg_p): Combine. Simplify by using
	parse_predicate_and_operand and the new arguments to
	convert_expr_to_ab_reg and convert_expr_to_xy_reg. Don't return
	when wrong operand. Allow tag.
	(dot_restorereg, dot_restorereg_p): Likewise.
	(dot_spillmem, dot_spillmem_p): Likewise.
	(dot_saveg): Clear operand when wrong. Perform tighter operand
	checks. Allow tag.
	(dot_savef): Likewise.
	(dot_saveb): Likewise.
	(dot_savegf): Likewise.
	(dot_spill): Remove end-of-line check. 	Combine. Simplify by using
	parse_predicate_and_operand and the new arguments to
	convert_expr_to_ab_reg and convert_expr_to_xy_reg. Don't return
	when wrong operand. Allow tag.
	(popcount): New.
	(dot_label_state): Don't return when wrong operand.
	(dot_copy_state): Likewise.
	(dot_unwabi): Likewise. Check if in prologue.
	(dot_body): Don't call demand_empty_rest_of_line.
	(dot_prologue): Type of mask and grsave is unsigned. Perform tighter
	operand checks.
	(md_pseudo_table): Also use dot_restorereg for .restorereg.p. Also
	use dot_spillreg for .spillreg.p. Also use dot_spillmem for
	.spillpsp.p and .spillsp.p. Also use dot_vframesp for .vframepsp.
	(parse_operand): New second parameter. Don't deal with '}' here
	anymore. Don't advance past end-of-line.
	(parse_operands): Pass second argument to parse_operand.
	(ia64_start_line): Prevent out-of-bounds access through
	input_line_pointer. Deal with '}' here.
	(ia64_unrecognized_line): Don't deal with '}' here.
	(dot_alias): Use ignore_rest_of_line not its deprecated alias
	discard_rest_of_line.

gas/testsuite/
2005-07-01  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/group-2.s: Use register as second operand of .prologue.
	* gas/ia64/unwind-err.s: Add check for .vframesp.
	* gas/ia64/unwind-err.l: Adjust.
	* gas/ia64/strange.[sd]: New.
	* gas/ia64/unwind-bad.[sl]: New.
	* gas/ia64/unwind-ok.[sd]: New.
	* gas/ia64/ia64.exp: Run new tests.
@
text
@d1 28
@


1.867
log
@gas:
	* config/tc-arm.c (T_OPCODE_BRANCH, encode_arm_addr_mode_2)
	(encode_arm_addr_mode_3, encode_arm_cp_address, do_blx, do_t_blx)
	(do_t_branch, insns [b, bl]): Don't encode pipeline offset.
	(s_arm_elf_cons): Disallow use of (plt) suffix.
	(do_adrl): Adjust X_add_number unconditionally.
	(md_pcrel_from): Rename md_pcrel_from_section, add second segT
	argument.  Handle all adjustment for pipeline offset here.
	(md_apply_fix): No need to undo work of md_pcrel_from.  No
	need to extract pre-encoded pipeline adjustments from various
	branch instructions.  Generally, assume instructions are already
	all-bits-zero in the field being fixed up.  Remove all OBJ_ELF
	special cases.  Handle BFD_RELOC_ARM_PLT32 like
	BFD_RELOC_ARM_PCREL_BRANCH.
	(tc_gen_reloc): Remove OBJ_ELF special case.
	* config/tc-arm.c: Define MD_PCREL_FROM_SECTION.

gas/testsuite:
	* gas/arm/arm.exp: Don't special case ldconst, arm7t, or copro
	for *-wince-*.
	* gas/arm/wince_arm7t.d, gas/arm/wince_copro.d
	* gas/arm/wince_ldconst.d: Delete.
@
text
@d1 10
@


1.866
log
@gas/

2005-06-20  H.J. Lu  <hongjiu.lu@@intel.com>

	PR 1013
	* config/tc-i386.c (md_assemble): Don't call optimize_disp on
	movabs.
	(optimize_disp): Optimize only if possible. Don't use 64bit
	displacement on non-constants and do same on constants if
	possible.

gas/testsuite/

2005-06-20  H.J. Lu  <hongjiu.lu@@intel.com>

	PR 1013
	* i386/x86_64.s: Add absolute 64bit addressing tests for mov.
	* i386/x86_64.s: Updated.

include/opcode/

2005-06-20  H.J. Lu  <hongjiu.lu@@intel.com>

	PR 1013
	* i386.h (i386_optab): Update comments for 64bit addressing on
	mov. Allow 64bit addressing for mov and movq.
@
text
@d1 7
@


1.865
log
@bfd/
2005-06-17  Jan Beulich  <jbeulich@@novell.com>

	* bfd-in2.h (elf_x86_64_reloc_type): Add BFD_RELOC_X86_64_GOTOFF64
	and BFD_RELOC_X86_64_GOTPC32.
	* libbfd.h (bfd_reloc_code_real_names): Likewise.
	* elf64-x86-64.c (x86_64_elf_howto_table): Add entries for
	R_X86_64_PC64, R_X86_64_GOTOFF64, and R_X86_64_GOTPC32.
	(x86_64_reloc_map): Add entries for R_X86_64_PC64, R_X86_64_GOTOFF64,
	and R_X86_64_GOTPC32.
	(elf64_x86_64_info_to_howto): Adjust bounding relocation type.
	(elf64_x86_64_check_relocs): Also handle R_X86_64_PC64,
	R_X86_64_GOTOFF64, and R_X86_64_GOTPC32.
	(elf64_x86_64_relocate_section): Likewise.
	(elf64_x86_64_gc_sweep_hook): Also handle R_X86_64_PC64.

gas/
2005-06-17  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-i386.c (reloc): Also handle BFD_RELOC_64_PCREL.
	(tc_i386_fix_adjustable): Include BFD_RELOC_X86_64_GOTOFF64,
	BFD_RELOC_X86_64_DTPOFF64, and BFD_RELOC_X86_64_TPOFF64.
	(output_disp): Do GOTPC conversion also for BFD_RELOC_X86_64_32S
	and BFD_RELOC_32_PCREL. Use BFD_RELOC_X86_64_GOTPC32 instead of
	aborting.
	(output_imm): Do GOTPC conversion also for BFD_RELOC_X86_64_32S.
	Use BFD_RELOC_X86_64_GOTPC32 instead of aborting.
	(tc_gen_reloc): Do GOTPC conversion also for BFD_RELOC_32_PCREL.
	Use BFD_RELOC_X86_64_GOTPC32 instead of aborting. Also handle
	BFD_RELOC_X86_64_GOTOFF64, BFD_RELOC_X86_64_GOTPC32,
	BFD_RELOC_X86_64_DTPOFF64, and BFD_RELOC_X86_64_TPOFF64. Also
	convert 8-byte pc-relative relocations.
	(lex_got): Use BFD_RELOC_X86_64_GOTOFF64 for 64-bit @@gotoff.
	(i386_validate_fix): Likewise.
	(x86_cons): Also handle quad values in 64-bit mode.
	(i386_displacement): Also handle BFD_RELOC_X86_64_GOTOFF64.
	(md_apply_fix): Include BFD_RELOC_X86_64_DTPOFF64 and
	BFD_RELOC_X86_64_TPOFF64 in the TLS check. Also convert BFD_RELOC_64
	to pc-relative variant. Also check for BFD_RELOC_64_PCREL.

gas/testsuite/
2005-06-17  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/x86-64-pcrel.s: Add insn requiring 64-bit pc-relative
	relocation. Add insns for all widths of non-pc-relative relocations.
	* gas/i386/x86-64-pcrel.d: Adjust.

include/elf/
2005-06-17  Jan Beulich  <jbeulich@@novell.com>

	* x86-64.h (elf_x86_64_reloc_type): Adjust comment for
	R_X86_64_GOTPCREL. Add R_X86_64_PC64, R_X86_64_GOTOFF64, and
	R_X86_64_GOTPC32.
@
text
@d1 6
@


1.864
log
@gas:
	* config/tc-arm.c (find_real_start): Check S_IS_LOCAL on
	symbolP as well as for names with a leading dot.  Use ACONCAT.
	(md_apply_fix): For branch relocations, only replace value
	with fixP->fx_offset (under #ifdef OBJ_ELF) when !fixP->fx_done.
	(arm_force_relocation): Remove #ifdef OBJ_ELF case.
	* config/tc-arm.h (LOCAL_LABEL): Remove unnecessary parentheses.
	(LOCAL_LABEL_PREFIX): Don't define.
gas/testsuite:
	* gas/arm/thumb.s: Only branch to labels defined in this file.
	* gas/arm/thumb.d, gas/arm/thumb32.d: Adjust expected output.
@
text
@d1 6
@


1.863
log
@gas/:
* config/tc-mips.c (load_register): Add leading "0x" to the
output of sprintf_vma().
(macro): Likewise.

gas/testsuite/:
* gas/mips/ldstla-32-1.l: Update to handle leading zeroes.
* gas/mips/ldstla-32-mips3-1.l: Likewise.
@
text
@d1 5
@


1.862
log
@gas/
2005-05-27  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-ia64.c (struct proc_pending): New.
	(unwind): Replace proc_start with proc_pending.
	(unwind_diagnostic): Check unwind.proc_pending.sym.
	(dot_proc): Replace unwind.proc_start with unwind.proc_pending.sym.
	Check if previous proc not closed. Record all entry points.
	(dot_endp): Replace unwind.proc_start with unwind.proc_pending.sym.
	Set symbol sizes for entry points recorded in dot_proc. Check
	arguments for consistency with respective .proc's.
	(md_assemble): Replace unwind.proc_start with
	unwind.proc_pending.sym.

gas/testsuite/
2005-05-27  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/proc.l: Adjust.
@
text
@d1 5
@


1.861
log
@Patch from Steve Ellcey for ia64-hpux testsuite failure.
gas/ia64/global.d: Change --sym to --syms.
@
text
@d1 4
@


1.860
log
@2005-05-25  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/ia64/group-1.d: Updated.
	* gas/ia64/group-2.d: Likewise.
@
text
@d1 4
@


1.859
log
@gas/
2005-05-25  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-ia64.c (dot_radix): Rewrite.

gas/testsuite/
2005-05-25  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/radix.s: New.
	* gas/ia64/radix.l: New.
	* gas/ia64/ia64.exp: Run new test.
@
text
@d1 5
@


1.858
log
@gas/testsuite/
2005-05-25  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/intelok.d: Account for 32-bit displacements being shown
	in hex.

opcodes/
2005-05-25  Jan Beulich  <jbeulich@@novell.com>

	* i386-dis.c (OP_E): In Intel mode, display 32-bit displacements in
	hex (but retain it being displayed as signed). Remove redundant
	checks. Add handling of displacements for 16-bit addressing in Intel
	mode.
@
text
@d3 6
@


1.857
log
@2005-05-24  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/elf/group0b.d: Updated.
	* gas/elf/group1b.d: Likewise.
@
text
@d1 5
@


1.856
log
@gas/
2005-05-19  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-ia64.c (dot_endp): Don't use global symbol for unwind
	relocations in unwind section.

gas/testsuite/
2005-05-19  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/reloc-uw.s: New.
	* gas/ia64/reloc-uw.d: New.
	* gas/ia64/reloc-uw-ilp32.d: New.
	* gas/ia64/ia64.exp: Run new test.
@
text
@d1 5
@


1.855
log
@gas/testsuite/
2005-05-18  Jan Beulich  <jbeulich@@novell.com>

	* gas/all/altmacro.s: Parenthesize operand of %.
@
text
@d1 7
@


1.854
log
@include/elf:
	* arm.h: Import complete list of official relocation names
	and numbers from AAELF.  Define FAKE_RELOCs for old names.
	Remove a few old names no longer used anywhere.

bfd:
	* elf32-arm.c: Wherever possible, use official reloc names
	from AAELF.
	(elf32_arm_howto_table, elf32_arm_tls_gd32_howto)
	(elf32_arm_tls_ldo32_howto, elf32_arm_tls_ldm32_howto)
	(elf32_arm_tls_le32_howto, elf32_arm_tls_ie32_howto)
	(elf32_arm_vtinherit_howto, elf32_arm_vtentry_howto)
	(elf32_arm_pc11_howto, elf32_arm_thm_pc9_howto, elf32_arm_got_prel)
	(elf32_arm_r_howto): Replace with elf32_arm_howto_table_1,
	elf32_arm_howto_table_2, and elf32_arm_howto_table_3.
	Add many new relocations from AAELF.
	(elf32_arm_howto_from_type): Update to match.
	(elf32_arm_reloc_map): Add entries for R_ARM_THM_JUMP24,
	R_ARM_THM_JUMP11, R_ARM_THM_JUMP19, R_ARM_THM_JUMP8,
	R_ARM_THM_JUMP6, R_ARM_GNU_VTINHERIT, and R_ARM_GNU_VTENTRY.
	(elf32_arm_reloc_type_lookup): Use elf32_arm_howto_from_type.
	(elf32_arm_final_link_relocate): Add support for
	R_ARM_THM_JUMP24, R_ARM_THM_JUMP19, R_ARM_THM_JUMP6.  Remove
	case entries redundant with default.

	* reloc.c: Reorganize ARM relocations.  Add Thumb
	assembler-internal relocations BFD_RELOC_ARM_T32_OFFSET_U8,
	BFD_RELOC_ARM_T32_OFFSET_IMM, BFD_RELOC_ARM_T32_IMMEDIATE.
	Add visible relocations BFD_RELOC_THUMB_PCREL_BRANCH7,
	BFD_RELOC_THUMB_BRANCH20, BFD_RELOC_THUMB_BRANCH25.
	Delete unused relocations BFD_RELOC_ARM_GOT12, BFD_RELOC_ARM_COPY.
	* bfd-in2.h, libbfd.h: Regenerate.

opcodes:
	* arm-dis.c (thumb_opcodes): Add disassembly for V6T2 16-bit
	instructions.  Adjust disassembly of some opcodes to match
	unified syntax.
	(thumb32_opcodes): New table.
	(print_insn_thumb): Rename print_insn_thumb16; don't handle
	two-halfword branches here.
	(print_insn_thumb32): New function.
	(print_insn): Choose among print_insn_arm, print_insn_thumb16,
	and print_insn_thumb32.  Be consistent about order of
	halfwords when printing 32-bit instructions.

gas:
	* hash.c (hash_lookup): Add len parameter.  All callers changed.
	(hash_find_n): New interface.
	* hash.h: Prototype hash_find_n.
	* sb.c: Include as.h.
	(scrub_from_sb, sb_to_scrub, scrub_position): New statics.
	(sb_scrub_and_add_sb): New interface.
	* sb.h: Prototype sb_scrub_and_add_sb.
	* input-scrub.c (input_scrub_include_sb): Use sb_scrub_and_add_sb.

	* config/tc-arm.h (TC_FORCE_RELOCATION_LOCAL): Remove
	reference to BFD_RELOC_ARM_GOT12 which is never generated.
	* config/tc-arm.c: Rewrite, adding Thumb-2 support.

gas/testsuite:
	* gas/arm/arm.exp: Convert all existing "gas_test" tests to
	"run_dump_test" tests.  Run more tests unconditionally.  Run new tests.
	* gas/arm/arch4t.s, gas/arm/arch6zk.s, gas/arm/arm3.s, gas/arm/arm6.s
	* gas/arm/arm7dm.s, gas/arm/bignum1.s, gas/arm/float.s
	* gas/arm/immed.s, gas/arm/iwmmxt.s, gas/arm/offset.s, gas/arm/thumb.s:
	Adjust to work as a dump test.
	* gas/arm/arch4t.d, gas/arm/arch6zk.d, gas/arm/arm3.d, gas/arm/arm6.d
	* gas/arm/arm7dm.d, gas/arm/bignum1.d, gas/arm/float.d
	* gas/arm/immed.d, gas/arm/iwmmxt.d, gas/arm/offset.d, gas/arm/thumb.d:
	New files.

	* gas/arm/armv1-bad.l, gas/arm/armv1-bad.s: Remove tests for
	diagnostics that don't happen in the first pass anymore.

	* gas/arm/iwmmxt-bad.l, gas/arm/r15-bad.l, gas/arm/req.l
	* gas/arm/vfp-bad.l:
	Update expected diagnostics.
	* gas/arm/pic.d: Update expected reloc name.
	* gas/arm/thumbv6.d: CPY no longer appears in disassembly.
	* gas/arm/r15-bad.s: Avoid two-argument mul.
	* gas/arm/req.s: Adjust comments.
	* gas/arm/maverick.d, gas/arm/maverick.s: Avoid inappropriate
	use of PC.

	* gas/arm/macro-1.d, gas/arm/macro1.s
	* gas/arm/t16-bad.l, gas/arm/t16-bad.s
	* gas/arm/tcompat.d, gas/arm/tcompat.s
	* gas/arm/tcompat2.d, gas/arm/tcompat2.s
	* gas/arm/thumb32.d, gas/arm/thumb32.s
	New test pair.

ld/testsuite:
	* ld-arm/mixed-app.d: Adjust expected disassembly a little.
@
text
@d1 4
@


1.853
log
@gas/
2005-05-17  Jan Beulich  <jbeulich@@novell.com>

	* read.c (_find_end_of_line): New.
	(find_end_of_line): New.
	(HANDLE_CONDITIONAL_ASSEMBLY): Use it.
	(read_a_source_file): Use it.
	(s_globl): Use it.
	(s_macro): Use it.
	(get_line_sb): Use it.
	(s_errwarn): Replace discard_rest_of_line by ignore_rest_of_line.
	(s_comm_internal): Likewise.
	(s_lsym): Likewise.
	(s_macro): Likewise.
	(s_ignore): Use ignore_rest_of_line.
	* read.h (find_end_of_line): Prototype.
	(discard_rest_of_line): Remove prototype. #define to
	ignore_rest_of_line.

gas/testsuite/
2005-05-17  Jan Beulich  <jbeulich@@novell.com>

	* gas/mmix/err-byte1.s: Adjust expected error text on line 10.
@
text
@d1 33
@


1.852
log
@* config/tc-v850,h (TC_FIX_TYPE): Define. (TC_INIT_FIX_TYPE): Define.
* config/tc-v850.c (md_assemble): When creating a fix record the operand in the
    tc_fix_data field.
    (md_apply_fix3): When applying a resolved fix use the operand's insertion
    procedure to store the value, if the operand has been recorded.
* gas/v850/split-lo16.s: Add test for a lo() pseudo reloc corrupting an ld.w
    instruction.
* gas/v850/split-lo16.d: Add expected, correct (ie not corrupt) output.
@
text
@d1 4
@


1.851
log
@gas/
        * frags.c (frag_grow): Don't be too greedy in allocating memory.
        * config/tc-hppa.c (pa_block): Check arguments to .block[z].

gas/testsuite/
        * gas/hppa/parse/block1.s: Use official limit (0x3fffffff) for
        .block.
@
text
@d1 7
@


1.850
log
@	* gas/mmix/relax2.s: Drop ":" off label definitions.
@
text
@d1 5
@


1.849
log
@gas/
2005-05-09  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-i386.c (optimize_disp): Discard displacement entirely when zero and
	not required by encoding constraints.

gas/testsuite/
2005-05-09  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/tlsd.[sd]: Adjust to not assume zero displacement will
	actually be present in memory addressing.
	* gas/i386/tlspic.[sd]: Likewise.
@
text
@d1 4
@


1.848
log
@gas/

2005-05-07  H.J. Lu  <hongjiu.lu@@intel.com>

	PR 940
	* config/tc-ia64.c (start_unwind_section): Properly check
	comdat group with SHF_GROUP.

gas/testsuite/

2005-05-07  H.J. Lu  <hongjiu.lu@@intel.com>

	PR 940
	* gas/ia64/group-2.d: New.
	* gas/ia64/group-2.s: New.

	* gas/ia64/ia64.exp: Add "group-2".
@
text
@d1 6
@


1.847
log
@gas/testsuite/

2005-05-07  H.J. Lu  <hongjiu.lu@@intel.com>

	PR 843
	* gas/i386/i386.exp: Add x86-64-branch.

	* gas/i386/x86-64-branch.d: New.
	* gas/i386/x86-64-branch.s: New.

opcodes/

2005-05-07  H.J. Lu  <hongjiu.lu@@intel.com>

	PR 843
	* i386-dis.c (branch_v_mode): New.
	(indirEv): Use branch_v_mode instead of v_mode.
	(OP_E): Handle branch_v_mode.
@
text
@d3 8
@


1.846
log
@Move testsuite specific entries from gas/ChangeLog to gas/testsuite/ChangeLog
@
text
@d1 8
@


1.845
log
@gas/
2005-05-06  Jan Beulich  <jbeulich@@novell.com>

	* macro.c (new_formal, del_formal): New.
	(do_formals): Use new_formal. Check for and parse qualifier. Warn if
	required argument has default value. Stop looking for more formal
	when there was a vararg one.
	(macro_expand_body): Use new_formal and del_formal.
	(macro_expand): Likewise. Initialize local variable err. Don't
	return immediately when encountering an error. Warn when keyword
	argument already had a value assigned. Eliminate duplicate clearing
	of argument value. When current positional argument matches parameter
	of vararg type, assign to it all the remaining arguments. Issue error
	when required parameter does not have value.
	(free_macro): Use del_formal.
	(expand_irp): Initialize formal type. Free buffers associated with
	formal prior to returning.
	* macro.h (struct formal_struct): Add new field 'type' with new
	enumeration type 'formal_type'.
	* doc/as.texinfo: Document macro parameter qualifiers.
	* NEWS: Mention new functionality.

gas/testsuite/
2005-05-06  Jan Beulich  <jbeulich@@novell.com>

	* gas/macros/badarg.s: Add check for bad qualifier specification.
	* gas/macros/badarg.l: Adjust.
	* gas/macros/vararg.[sd]: New.
	* gas/macros/macros.exp: Run new test.
@
text
@d24 14
d176 4
d362 1
a362 1
	* testsuite/gas/arc/arc.exp: Run extensions testcase.
d593 5
d856 4
a859 4
	* testsuite/gas/m32r/rela-1.s: New test.
	* testsuite/gas/m32r/rela-1.d: Expected disassembly.
	* testsuite/gas/m32r/m32r.exp: Run the new test.
	* testsuite/gas/m32r/relax-1.d: Update for fixed pcrel reloc
d864 1
a864 1
	* gas/testsuite/arm/thumbv6.d (setend): Remove stray tab at end
d1415 20
@


1.844
log
@gas/
2005-05-06  Jan Beulich  <jbeulich@@novell.com>

	* cond.c (s_ifb): New.
	* read.c (potable): Add s_ifb as handler for .ifb and .ifnb.
	* read.h (s_ifb): Prototype.
	* doc/as.texinfo: Document .ifb and .ifnb.

gas/testsuite/
2005-05-06  Jan Beulich  <jbeulich@@novell.com>

	* gas/all/cond.s: Also test .ifb/.ifnb.
	* gas/all/cond.d: Adjust.
@
text
@d3 7
@


1.843
log
@gas/testsuite/
2005-05-06  Jan Beulich  <jbeulich@@novell.com>

	* gas/macros/dot.s: Don't use pseudo-ops in first column.
	* gas/macros/dot.l: Match broader range of possible outputs.
	* gas/macros/purge.l: Likewise.
	* gas/macros/purge.s: Start generated macro names with an underscore.
@
text
@d3 5
@


1.842
log
@2005-05-05  Paul Brook  <paul@@codesourcery.com>

bfd/
	* config.bfd: Use bfd_elf32_i386_vxworks_vec for i?86-*-vxworks.
	* configure.in: Add bfd_elf32_i386_vxworks_vec. i386 targets need
	elf-vxworks.lo.
	* configure: Regenerate.
	* Makefile.am (BFD32_BACKENDS): Add elf-vxworks.lo.
	(BFD32_BACKENDS_CFILES): Add elf-vxworks.c.
	(elf32-i386.lo): Depend on elf-vxworks.h.
	(elf-vxworks.lo): New rule.
	* Makefile.in: Regenerate.
	* elf-bfd.h (elf_backend_data): Update type of
	elf_backend_emit_relocs.
	(_bfd_elf_link_output_relocs): Update prototype.
	* elflink.c (_bfd_elf_link_output_relocs): Always use
	bed->elf_backend_emit_relocs when outputting relocations.
	* elfxx-target.h (elf_backend_emit_relocs): Default to
	_bfd_elf_link_output_relocs.
	* targets.c (bfd_elf32_i386_vxworks_vec): Declare.
	(_bfd_target_vector): Add bfd_elf32_i386_vxworks_vec.
	* elf32-i386.c: Add elf32-i386-vxworks target BFD.
	(elf_i386_plt0_entry): Remove padding.
	(elf_i386_pic_plt0_entry): Ditto.
	(PLTRESOLVE_RELOCS_SHLIB, PLTRESOLVE_RELOCS): Define.
	(PLT_NON_JUMP_SLOT_RELOCS): Define.
	(elf_i386_link_hash_table): Add srelplt2, hgot, hplt, is_vxworks and
	plt0_pad_byte fields.
	(elf_i386_link_hash_table_create): Zero them.
	(elf_i386_create_dynamic_sections): Create static relocation section.
	(allocate_dynrelocs): Allocate space for static PLT relocations.
	(elf_i386_size_dynamic_sections): Save shortcuts to PLT and GOT
	symbols.  Give PLT symbols function type.  Don't strip PLT sections
	if we have exported symbols from them.
	(elf_i386_finish_dynamic_symbol): Fill in VxWorks PLT static
	relocation section.  Don't mark _GLOBAL_OFFSET_TABLE_ as absolute on
	VxWorks.
	(elf_i386_finish_dynamic_sections): Allow different pad bytes.
	Add relocation for GOT location.  Fill in PLT static relocations.
	(elf_i386_vxworks_link_hash_table_create): New function.
	(elf_i386_vxworks_link_output_symbol_hook): New function.
	* elf-vxworks.h: New file.
gas/
	* config/tc-i386.h (ELF_TARGET_FORMAT): Define for TE_VXWORKS.
gas/testsuite/
	* gas/i386/i386.exp: Don't run divide test on vxworks.
ld/
	* Makefile.am: Add eelf_i386_vxworks.
	* Makefile.in: Regenerate.
	* configure.tgt: Make i?86-*-vxworks use targ_emul=elf_i386_vxworks.
	* emulparams/elf_i386_vxworks.sh: New file.
	* emulparams/vxworks.sh: New file.
	* scripttempl/elf.sc: Add DATA_END_SYMBOLS and ETEXT_NAME.
@
text
@d1 7
@


1.841
log
@Replace linux-gnu with linux-* to allow for versions of Linux which do not use
glibc.
@
text
@d1 4
@


1.840
log
@2005-05-05  Paul Brook  <paul@@codesourcery.com>

gas/testsuite/
	* lib/gas-defs.exp (regexp_diff): Pass test if last line is "#...".
ld/testsuite/
	* lib/ld-lib.exp (regexp_diff): Pass test if last line is "#...".
	* ld-elfweak/elfweak.exp: Run size2.d.
	* ld-elfwaek/size2.d: New file.
	* ld-elfwaek/size2a.s: New file.
	* ld-elfwaek/size2b.s: New file.
@
text
@d1 6
@


1.839
log
@gas/

2005-04-26  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/obj-multi.h (FAKE_LABEL_NAME): Defined.

	* read.c (pseudo_set): Disallow symbol set to common symbol.

	PR 857
	* write.c (write_object_file): Report common symbol name when
	disallowing local symbol set to common symbol.
	(adjust_reloc_syms): Disallow local symbol set to undefined
	symbol.

gas/testsuite/

2005-04-26  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/all/assign.s: Make `x' and `y' global.
@
text
@d1 4
@


1.838
log
@gas/
2005-04-25  Jan Beulich  <jbeulich@@novell.com>

	* macro.c (macro_expand_body): Replace locals indicator parameters
	with actual macro_entry. New local variables macro_line and err.
	Don't return when encountering an error, just record the fact.
	Detect local symbol name colliding with parameter. Track line number
	inside of macro expansion.
	(do_formals): Move local variable name to wider scope. Check
	parameter of the same name doesn't already exist. In MRI mode, also
	check it doesn't collide with the argument count pseudo-parameter).
	(define_macro): Add file and line number parameters. Remove local
	variable namestr. New local variable error. Initialize macro_entry
	members file, line, and name. Don't return when encountering an
	error, just record the fact. Use %s in some diagnostics for read.c
	to insert the macro name. Free macro_entry on error.
	(macro_expand): Pass macro_entry to macro_epand_body. Don't return
	when encountering an error, just record the fact.
	(expand_irp): Don't return when encountering an error, just record
	the fact.
	* macro.h (macro_struct): New members name, file, and line.
	(define_macro): Add file and line number parameters.
	* read.c (s_macro): Pass file and line to define_macro. Tag warning
	regarding pseudo-op redefinition with the file/line that macro
	definition started at.

gas/testsuite/
2005-04-25  Jan Beulich  <jbeulich@@novell.com>

	* gas/macros/badarg.s: Add tests for collisions between/among macro
	parameters and local symbols.
	* gas/macros/badarg.l: Adjust.
@
text
@d1 4
@


1.837
log
@gas/testsuite/
2005-04-20  Jan Beulich  <jbeulich@@novell.com>

	* gas/elf/struct.s: Adjust to not get into alignment issues.
	* gas/elf/struct.d: Adjust for the above and the test's name.
@
text
@d1 6
@


1.836
log
@2005-04-19  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/padlock.d: Updated.
@
text
@d1 5
@


1.835
log
@	* config/tc-ia64.c (md_assemble): Fix error message for wrong
	access to application registers.

testsuite/:
	* gas/ia64/invalid-ar.l: Adapt to changed error message.
@
text
@d1 4
@


1.834
log
@gas/
2005-04-18  Jan Beulich  <jbeulich@@novell.com>

	* macro.c (free_token): New, freeing all the memory associated with a
	macro.
	(do_formals): Move initializers to ...
	(define_macro): ... here.
	(delete_macro): Convert passed in name to lower case. Warn when
	purging macro that doesn't exist. Use hash_jam instead of hash_delete.

gas/testsuite/
2005-04-18  Jan Beulich  <jbeulich@@novell.com>

	* gas/macros/purge.[ls]: New.
	* gas/macros/macros.exp: Run new test.
@
text
@d1 4
@


1.833
log
@gas/
2005-04-15  Jan Beulich  <jbeulich@@novell.com>

	* config/obj-elf.c (obj_elf_struct): New.
	(elf_pseudo_table). Use it for .offset and .struct.

gas/testsuite/
2005-04-15  Jan Beulich  <jbeulich@@novell.com>

	* gas/elf/struct.[sd]: New.
	* gas/elf/elf.exp: Run new test.
@
text
@d1 5
@


1.832
log
@	* gas/all/assign.s: New.
	* gas/all/assign.d: New.
	* gas/all/gas.exp: Run it.
@
text
@d1 5
@


1.831
log
@gas/:
* config/tc-mips.c (IS_ZEXT_32BIT_NUM): New macro.
(normalize_address_expr): New function to sign-extend address
offsets that fit into 32 bits in 32-bit mode.
(macro_build_ldst_constoffset): Use normalize_address_expr()
instead of a handcoded sequence.
(load_register): Likewise.  Report oversized numbers in a useful
way.
(macro) [ld_st, ldd_std]: Reject all oversized offsets, not only
for constant addresses.  Report oversized numbers in a useful way.
(mips_ip): Use normalize_address_expr() for addresses.

gas/testsuite/:
* gas/mips/ldstla-32.s: Exclude offsets that are now meant to fail
and include more instructions/offsets that are meant to succeed.
Use $4 instead $3 to avoid register dependencies.
* gas/mips/ldstla-32.d: Update accordingly.
* gas/mips/ldstla-32-shared.d: Likewise.
* gas/mips/ldstla-32-mips3.d: New test based on the above, except
for mips3.
* gas/mips/ldstla-32-mips3-shared.d: Similarly, for PIC.
* gas/mips/ldstla-32-mips3.s: Source for the new tests.
* gas/mips/ldstla-32-1.s: New test for offsets that are meant to
fail.
* gas/mips/ldstla-32-mips3-1.s: Likewise, for mips3.
* gas/mips/ldstla-32-1.l: Stderr output for the new test.
* gas/mips/ldstla-32-mips3-1.l: Likewise.
* gas/mips/mips.exp: Run the new tests.
@
text
@d1 6
@


1.830
log
@* gas/all/gas.exp: Don't run fastcall labels test on
i*86-*-openbsd*.
@
text
@d1 18
@


1.829
log
@gas/
2005-04-11  Jan Beulich  <jbeulich@@novell.com>

	* NEWS: Mention these changes and their effects.
	* macro.c (get_token): Use is_name_beginner/is_part_of_name/
	is_name_ender.
	(check_macro): Likewise.
	(buffer_and_nest): Likewise. Permit multiple labels. Don't discard
	labels together with the closing pseudo-op.
	(macro_expand_body): Adjust comment. Range-check input before use.
	Adjust mis-spelled diagnostic. Use is_name_beginner.
	* read.c (try_macro): New.
	(read_a_source_file): New static variable last_eol. Don't list
	macro expansion lines more than once. Call try_macro.
	(s_macro): Set section of line_label to absolute instead of undefined.
	* doc/as.texinfo: Add information on the caveats of these changes.

gas/testsuite/
2005-04-11  Jan Beulich  <jbeulich@@novell.com>

	* gas/macros/dot.[ls]: New.
	* gas/macros/macros.exp: Run new test.
@
text
@d1 5
@


1.828
log
@gas/

2005-04-06  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (tc_gen_reloc): Don't turn
	BFD_RELOC_X86_64_32S into BFD_RELOC_32.

gas/testsuite/

2005-04-06  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/x86-64-pcrel.s: Test R_X86_64_32S.
	* gas/i386/x86-64-pcrel.d: Updated.
@
text
@d1 5
@


1.827
log
@Support the .f_floating, .d_floating, .g_floating and .h_floating directives
for the VAX target in order to be more compatible with the VAX MACRO assembler.
@
text
@d1 5
@


1.826
log
@elf-rel.d: Call gas with -k. Thanks toMatt Thomas for figuring out.
vax.exp: Run elf-rel.[sd] for NetBSD-ELF and Linux.
@
text
@d3 7
a9 4
	* gas/testsuite/gas/vax/elf-rel.d: Call gas with -k. Thanks to
	Matt Thomas for figuring out.
	* gas/testsuite/gas/vax/vax.exp: Run elf-rel.[sd] for NetBSD-ELF
	and Linux.
@


1.825
log
@gas/
2005-04-01  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-i386.c (s_bss): Call obj_elf_section_change_hook.

gas/testsuite/
2005-04-01  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/bss.[sd]: New.
	* gas/i386/i386.exp: Run new test.
@
text
@d1 7
d14 1
@


1.824
log
@gas/
2005-04-01  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-i386.c (md_apply_fix3): Also handle BFD_RELOC_X86_64_32S.
	(tc_gen_reloc): Handle BFD_RELOC_X86_64_32S in the default case.

gas/testsuite/
2005-04-01  Jan Beulich  <jbeulich@@novell.com>
	* gas/i386/x86-64-pcrel.[sd]: New.
	* gas/i386/i386.exp: Run new test.
@
text
@d2 5
@


1.823
log
@	* bfd/bfd-in.h (bfd_elf32_is_arm_mapping_symbol_name): Add prototype.
	* bfd/bfd-in2.h: Regenerate.
	* bfd/elf32-arm.c (elf32_arm_is_target_special_symbol): Rename call to
	bfd_elf32_is_arm_mapping_symbol_name.
	(elf32_arm_output_symbol_hook): Likewise.
	(arm_elf_find_function): Likewise, and include STT_NOTYPE in test for
	mapping symbols.
	(is_arm_mapping_symbol_name): Function moved from here...
	* bfd/cpu-arm.c (bfd_elf32_is_arm_mapping_symbol_name): ...to here,
	renamed and made global.
	* gas/config/tc-arm.c (mapping_state): Change documentation in function
	comment to cross-reference spec instead. Change type of mapping symbols
	to BSF_NO_TYPE.
	(arm_adjust_symtab): Don't change type of mapping symbols here.
	* gas/testsuite/gas/arm/mapping.d: Update expected output.
	* ld/testsuite/ld-arm/arm-app-abs32.d: Likewise.
	* ld/testsuite/ld-arm/arm-app.d: Likewise.
	* ld/testsuite/ld-arm/mixed-app.d: Likewise.
@
text
@d1 4
@


1.822
log
@gas/testsuite/

2005-03-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run segment and inval-seg for i386. Run
	x86-64-segment and x86-64-inval-seg for x86-64.

	* gas/i386/intel.d: Expect movw for moving between memory and
	segment register.
	* gas/i386/naked.d: Likewise.
	* gas/i386/opcode.d: Likewise.
	* gas/i386/x86-64-opcode.d: Likewise.

	* gas/i386/opcode.s: Use movw for moving between memory and
	segment register.
	* gas/i386/x86-64-opcode.s: Likewise.

	* : Likewise.

	* gas/i386/inval-seg.l: New.
	* gas/i386/inval-seg.s: New.
	* gas/i386/segment.l: New.
	* gas/i386/segment.s: New.
	* gas/i386/x86-64-inval-seg.l: New.
	* gas/i386/x86-64-inval-seg.s: New.
	* gas/i386/x86-64-segment.l: New.
	* gas/i386/x86-64-segment.s: New.

include/opcode/

2005-03-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386.h (i386_optab): Don't allow the `l' suffix for moving
	moving between memory and segment register. Allow movq for
	moving between general-purpose register and segment register.

opcodes/

2005-03-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (SEG_Fixup): New.
	(Sv): New.
	(dis386): Use "Sv" for 0x8c and 0x8e.
@
text
@d1 5
@


1.821
log
@bfd/
	* bfd-in2.h, libbfd.h: Regenerated.
	* reloc.c: Add ARM TLS relocations.
	* elf32-arm.c (elf32_arm_howto_table): Add dynamic TLS
	relocations.
	(elf32_arm_tls_gd32_howto, elf32_arm_tls_ldo32_howto)
	(elf32_arm_tls_ldm32_howto, elf32_arm_tls_le32_howto)
	(elf32_arm_tls_ie32_howto): New.
	(elf32_arm_howto_from_type): Support TLS relocations.
	(elf32_arm_reloc_map): Likewise.
	(elf32_arm_reloc_type_lookup): Likewise.
	(TCB_SIZE): Define.
	(struct elf32_arm_obj_tdata): New.
	(elf32_arm_tdata, elf32_arm_local_got_tls_type): Define.
	(elf32_arm_mkobject): New function.
	(struct elf32_arm_relocs_copied): Add pc_count.
	(elf32_arm_hash_entry, GOT_UNKNOWN, GOT_NORMAL, GOT_TLS_GD)
	(GOT_TLS_IE): Define.
	(struct elf32_arm_link_hash_table): Add tls_ldm_got.
	(elf32_arm_link_hash_newfunc): Initialize tls_type.
	(elf32_arm_copy_indirect_symbol): Copy pc_count and tls_type.
	(elf32_arm_link_hash_table_create): Initialize tls_ldm_got.
	(dtpoff_base, tpoff): New functions.
	(elf32_arm_final_link_relocate): Handle TLS relocations.
	(IS_ARM_TLS_RELOC): Define.
	(elf32_arm_relocate_section): Warn about TLS mismatches.
	(elf32_arm_gc_sweep_hook): Handle TLS relocations and pc_count.
	(elf32_arm_check_relocs): Detect invalid symbol indexes.  Handle
	TLS relocations and pc_count.
	(elf32_arm_adjust_dynamic_symbol): Check non_got_ref.
	(allocate_dynrelocs): Handle TLS.  Bind REL32 relocs to local
	calls.
	(elf32_arm_size_dynamic_sections): Handle TLS.
	(elf32_arm_finish_dynamic_symbol): Likewise.
	(bfd_elf32_mkobject): Define.
gas/
	* config/tc-arm.c (arm_parse_reloc): Add TLS relocations.
	(md_apply_fix3): Mark TLS symbols.
	(tc_gen_reloc): Handle TLS relocations.
	(arm_fix_adjustable): Ignore TLS relocations.
	(s_arm_elf_cons): Support expressions after decorated symbols.
gas/testuite/
	* gas/arm/tls.s, gas/arm/tls.d: New files.
	* gas/arm/arm.exp: Run TLS test.
include/elf/
	* arm.h: Add TLS relocations.
ld/testsuite/
	* ld-arm/tls-lib.s, ld-arm/tls-lib.d, ld-arm/tls-lib.r,
	ld-arm/tls-app.s, ld-arm/tls-app.d, ld-arm/tls-app.r: New files.
	* ld-arm/arm-lib.ld, ld-arm/arm-dyn.ld: Increase data segment
	alignment.
	* ld-arm/arm-elf.exp: Run TLS tests.
@
text
@d1 26
@


1.820
log
@gas/

2005-03-28  David Mosberger  <davidm@@hpl.hp.com>
	    H.J. Lu  <hongjiu.lu@@intel.com>

	PR 803
	NEWS: Mention "-mtune=[itanium1|itanium2]".

	* config/tc-ia64.c (md): Add tune.
	(md_parse_option): Accepted "-mtune=[itanium1|itanium2]".
	(md_show_usage): Add "-mtune=[itanium1|itanium2]".
	(extra_goodness): Prefer M- and I-unit NOPs for itanium2. F and
	B unit NOPs are discouraged for McKinley-derived cores.
	(md_begin): Don't hardcode the "extra_goodness()" function in
	the comment...
	(ia64_init): Set md.tune to itanium2.

	* doc/as.texinfo: Add -mtune=[itanium1|itanium2]".
	* doc/c-ia64.texi: Likewise.

gas/testsuite/

2005-03-28  H.J. Lu  <hongjiu.lu@@intel.com>

	PR 803
	* gas/ia64/dv-imply.d: Pass -mtune=itanium1 to as.
	* gas/ia64/dv-mutex.d : Likewise.
	* gas/ia64/dv-safe.d: Likewise.
	* gas/ia64/dv-srlz.d.nop: Likewise.
	* gas/ia64/ldxmov-1.d: Likewise.
	* gas/ia64/opc-b.d: Likewise.
	* gas/ia64/opc-f.d: Likewise.
	* gas/ia64/opc-i.d: Likewise.
	* gas/ia64/opc-m.d: Likewise.
	* gas/ia64/operand-or.d: Likewise.
	* gas/ia64/pcrel.d: Likewise.
	* gas/ia64/pseudo.d: Likewise.
	* gas/ia64/tls.d: Likewise.

ld/testsuite/

2005-03-28  H.J. Lu  <hongjiu.lu@@intel.com>

	PR 803
	* ld-ia64/ia64.exp: Pass -mtune=itanium1 to as.
@
text
@d1 5
@


1.819
log
@	* gas/cris/range-err-1.s: Adjust expected messages for hosts with
	64-bit longs.
@
text
@d1 17
@


1.818
log
@gas/testsuite/
	* gas/elf/section5.s: Don't start directives in first column.
ld/testsuite/
	* ld-elf/tbss.s: Don't start directives in first column.
	* ld-scripts/weak1.s: Likewise.
	* ld-scripts/weak2.s: Likewise.
	* ld-undefined/weak-undef.s: Likewise.
	* ld-undefined/undefined.exp: Enable tests for hppa-elf.
@
text
@d1 5
@


1.817
log
@Update instructions that use the "never" value in the conditional field to use
"le" instead.  This is so that the disassembler will disassemble them.
@
text
@d1 4
d14 1
a14 1
	* gas/i386/intel.d: Add stderr directive. 
@


1.816
log
@gas/
2005-03-17  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-i386.c (i386_scale): Beautify error message.
	(Intel syntax comments): Update.
	(struct intel_parser_s): Add fields in_offset, in_bracket, and
	next_operand.
	(intel_e04_1, intel_e05_1, intel_e05_1, intel_e09_1, intel_e10_1):
	Remove declarations.
	(intel_bracket_expr): Declare.
	(i386_intel_operand): Initialize new intel_parser fields. Wrap most
	of the function body in a loop allowing to split an operand into two.
	Replace calls to malloc and checks of it returning non-NULL with
	calls to xmalloc/xstrdup.
	(intel_expr): SHORT no longer handled here. Add comment indicating
	comparison ops need implementation.
	(intel_e04, intel_e04_1): Combine, replace recursion with loop.
	Check right operand of - does not specify a register when parsing
	the address of a memory reference.
	(intel_e05, intel_e05_1): Combine, replace recursion with loop.
	Check operands do not specify a register when parsing the address of
	a memory reference.
	(intel_e06, intel_e06_1): Likewise.
	(intel_e09, intel_e09_1): Combine, replace recursion with loop. Also
	handle SHORT as well as unary + and -. Don't accept : except for
	segment overrides or in direct far jump/call insns.
	(intel_brack_expr): New.
	(intel_e10, intel_e10_1): Combine, replace recursion with loop. Use
	intel_brack_expr.
	(intel_e11): Replace chain of if/else-if by switch, alloing fall-
	through in certain cases. Use intel_brack_expr. Add new diagnostics.
	Allow symbolic constants as register scale value.
	(intel_get_token): Replace call to malloc and check of return value
	with call to xmalloc. Change handling for FLAT to match MASM's.
	(intel_putback_token): Don't try to back up/free current token if
	that is T_NIL.

gas/testsuite/
2005-03-17  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/intel.d: Add stderr directive.
	* gas/i386/intel.e: New.
	* gas/i386/intel16.d: Add stderr directive. Adjust for changed
	source.
	* gas/i386/intel16.e: New.
	* gas/i386/intel16.s: Add instances of addressing forms with base
	and index specified in reverse order.
	* gas/i386/intelbad.l: Adjust for changed source.
	* gas/i386/intelbad.s: Add more operand forms to check.
	* gas/i386/intelok.d: Remove -r from objdump options. Add stderr
	directive. Adjust for changed source.
	* gas/i386/intelok.e: New.
	* gas/i386/intelok.s: Define MASM constants byte, word, etc. Add
	more operand forms to check.
	* gas/i386/x86_64.d: Add stderr directive.
	* gas/i386/x86_64.e: New.
	* gas/i386/x86_64.s: Adjust for parser changes.
@
text
@d1 7
@


1.815
log
@	* config/tc-arm.c (do_mla): Rename to do_mlas, take second
	is_mls parameter; do not diagnose Rm==Rd when is_mls.
	(do_mla, do_mls, five_bit_unsigned_immediate, bfci_lsb_and_width)
	(do_bfc, do_bfi, do_bfx, do_rbit, do_mov16, do_ldsttv4): New functions.
	(insns): Add ARMv6T2 instructions:
	bfc bfi mls movw movt rbit sbfx ubfx ldrht ldrsht ldrsbt strht.
	(arm_archs): Add V6T2 variants.
testsuite:
	* gas/arm/archv6t2.d, gas/arm/archv6t2.s: New dump test.
	* gas/arm/archv6t2-bad.l, gas/arm/archv6t2-bad.l: New errors test.
	* gas/arm/arm.exp: Run them.
@
text
@d1 20
@


1.814
log
@==> ChangeLog <==
2005-03-14  Eric Christopher  <echristo@@redhat.com>

        * config/tc-mips.c: Include dw2gencfi.h.
        (mips_cfi_frame_initial_instructions): New.
        * config/tc-mips.h (TARGET_USE_CFIPOP): Define.
        (tc_cfi_frame_initial_instructions): Ditto.
        (DWARF2_DEFAULT_RETURN_COLUMN): Ditto.
        (DWARF2_CIE_DATA_ALIGNMENT): Ditto.
        * Makefile.am: Update dependencies.
        * Makefile.in: Regenerate.

==> testsuite/ChangeLog <==
2005-03-14  Eric Christopher  <echristo@@redhat.com>

        * gas/cfi/cfi-mips-1.d, gas/cfi/cfi-mips-1.s: New dump test.
        * gas/cfi/cfi.exp: Run it.
        * gas/cfi/cfi-common-1.d: Update.
        * gas/cfi/cfi-common-2.d: Ditto.
        * gas/cfi/cfi-common-3.d: Ditto.
        * gas/cfi/cfi-common-4.d: Ditto.
@
text
@d1 6
@


1.813
log
@gas:
	* config/tc-arm.c (tinsns): Add ARMv6K instructions sev, wfe,
	wfi, yield.
opcodes:
	* arm-dis.c (thumb_opcodes): Add ARMv6K instructions nop, sev,
	wfe, wfi, yield.
gas/testsuite:
	* gas/arm/thumbv6k.d, gas/arm/thumbv6k.s: New dump test.
	* gas/arm/arm.exp: Run it.
@
text
@d1 9
@


1.812
log
@        * gas/ppc/e500.d: Fix encoding of efscfd.
@
text
@d1 5
d8 1
a8 1
        * gas/ppc/e500.d: Fix encoding of efscfd.
@


1.811
log
@opcodes/
	* ppc-opc.c (insert_sprg, extract_sprg): New Functions.
	(powerpc_operands <SPRG>): Call the above.  Bit field is 5 bits.
	(SPRG_MASK): Delete.
	(XSPRG_MASK): Mask off extra bits now part of sprg field.
        (powerpc_opcodes): Asjust mfsprg and mtsprg to suit new mask.  Move
	mfsprg4..7 after msprg and consolidate.

gas/testsuite
	* gas/ppc/booke.s: Add new m[t,f]sprg testcases.
	* gas/ppc/booke.d: Likewise.
@
text
@d1 4
@


1.810
log
@	* config/tc-mips.c (MAX_VR4130_NOPS, MAX_DELAY_NOPS): New macros.
	(MAX_NOPS): Bump to 4.
	(mips_fix_vr4130): New variable.
	(nops_for_vr4130): New function.
	(nops_for_insn): Use MAX_DELAY_NOPS rather than MAX_NOPS.  Use
	nops_for_vr4130 if working around VR4130 errata.
	(OPTION_FIX_VR4130, OPTION_NO_FIX_VR4130): New macros.
	(md_longopts): Add -mfix-vr4130 and -mno-fix-vr4130.
	(md_parse_option): Handle them.
	(md_show_usage): Print them.
	* doc/c-mips.texi: Document -mfix-vr4130 and -mno-fix-vr4130.
@
text
@d1 6
d102 5
a106 6
	* gas/arc/extensions.s: Add tests for extcoreregister
	* gas/arc/extensions.d: Likewise.  
	* gas/arc/warn.s: Warnings for readonly core registers
	accessed .
	* gas/arc/warn.d:Likewise.
	* testsuite/gas/arc/arc.exp:Run extensions testcase.
d114 2
a115 2
	* gas/arc/ld.s:Add checks for short immediates with ld
	* gas/arc/ld.d:Likewise. 
@


1.809
log
@	* config/tc-mips.c (append_insn): Remove cop_interlocks test from
	branch delay code.
@
text
@d3 5
@


1.808
log
@	* gas/maxq10/maxq10.exp: Remove stray semicolons.
	* gas/maxq20/maxq20.exp: Likewise.
@
text
@d1 7
@


1.807
log
@gas/
2005-03-08  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-ia64.c (emit_one_bundle): Track last slot user insn was
	emitted to. Add more precise diagnostics for non-fitting insns based
	on that. Eliminate now superfluous special casing of MLX. Clear out
	slot information when dropping an insn.

gas/testsuite/
2005-03-08  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/no-fit.[ls]: New.
	* gas/ia64/ia64.exp: Run new test.
@
text
@d1 5
@


1.807.2.1
log
@	* config/tc-mips.c (append_insn): Remove cop_interlocks test from
	branch delay code.
@
text
@a0 7
2005-03-09  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/mips/relax-swap1-mips[12].d: Expect the delay slots of
	bc1f and bc1t to be filled.
	* gas/mips/branch-misc-3.[sd]: New test.
	* gas/mips/mips.exp: Run it.

@


1.807.2.2
log
@	* config/tc-mips.c (MAX_VR4130_NOPS, MAX_DELAY_NOPS): New macros.
	(MAX_NOPS): Bump to 4.
	(mips_fix_vr4130): New variable.
	(nops_for_vr4130): New function.
	(nops_for_insn): Use MAX_DELAY_NOPS rather than MAX_NOPS.  Use
	nops_for_vr4130 if working around VR4130 errata.
	(OPTION_FIX_VR4130, OPTION_NO_FIX_VR4130): New macros.
	(md_longopts): Add -mfix-vr4130 and -mno-fix-vr4130.
	(md_parse_option): Handle them.
	(md_show_usage): Print them.
	* doc/c-mips.texi: Document -mfix-vr4130 and -mno-fix-vr4130.
@
text
@a2 5
	* gas/mips/vr4130.[sd]: New test.
	* gas/mips/mips.exp: Run it.

2005-03-09  Richard Sandiford  <rsandifo@@redhat.com>

@


1.807.2.3
log
@        * gas/ppc/e500.d: Fix encoding of efscfd.
@
text
@a0 4
2005-03-10  Aldy Hernandez  <aldyh@@redhat.com>

        * gas/ppc/e500.d: Fix encoding of efscfd.

@


1.807.2.4
log
@==> ChangeLog <==
2005-03-14  Eric Christopher  <echristo@@redhat.com>

        * config/tc-mips.c: Include dw2gencfi.h.
        (mips_cfi_frame_initial_instructions): New.
        * config/tc-mips.h (TARGET_USE_CFIPOP): Define.
        (tc_cfi_frame_initial_instructions): Ditto.
        (DWARF2_DEFAULT_RETURN_COLUMN): Ditto.
        (DWARF2_CIE_DATA_ALIGNMENT): Ditto.
        * Makefile.am: Update dependencies.
        * Makefile.in: Regenerate.

==> testsuite/ChangeLog <==
2005-03-14  Eric Christopher  <echristo@@redhat.com>

        * gas/cfi/cfi-mips-1.d, gas/cfi/cfi-mips-1.s: New dump test.
        * gas/cfi/cfi.exp: Run it.
        * gas/cfi/cfi-common-1.d: Update.
        * gas/cfi/cfi-common-2.d: Ditto.
        * gas/cfi/cfi-common-3.d: Ditto.
        * gas/cfi/cfi-common-4.d: Ditto.
@
text
@a0 9
2005-03-14  Eric Christopher  <echristo@@redhat.com>

        * gas/cfi/cfi-mips-1.d, gas/cfi/cfi-mips-1.s: New dump test.
        * gas/cfi/cfi.exp: Run it.
        * gas/cfi/cfi-common-1.d: Update.
        * gas/cfi/cfi-common-2.d: Ditto.
        * gas/cfi/cfi-common-3.d: Ditto.
        * gas/cfi/cfi-common-4.d: Ditto.

@


1.807.2.5
log
@gas/testsuite/
	* gas/elf/section5.s: Don't start directives in first column.
ld/testsuite/
	* ld-elf/tbss.s: Don't start directives in first column.
	* ld-scripts/weak1.s: Likewise.
	* ld-scripts/weak2.s: Likewise.
	* ld-undefined/weak-undef.s: Likewise.
	* ld-undefined/undefined.exp: Enable tests for hppa-elf.
@
text
@a0 4
2005-03-23  Alan Modra  <amodra@@bigpond.net.au>

	* gas/elf/section5.s: Don't start directives in first column.

d3 6
a8 6
	* gas/cfi/cfi-mips-1.d, gas/cfi/cfi-mips-1.s: New dump test.
	* gas/cfi/cfi.exp: Run it.
	* gas/cfi/cfi-common-1.d: Update.
	* gas/cfi/cfi-common-2.d: Ditto.
	* gas/cfi/cfi-common-3.d: Ditto.
	* gas/cfi/cfi-common-4.d: Ditto.
d12 1
a12 1
	* gas/ppc/e500.d: Fix encoding of efscfd.
d105 1
a105 1
	* gas/arc/extensions.d: Likewise.
d117 2
a118 2
	* gas/arc/ld.s: Add checks for short immediates with ld.
	* gas/arc/ld.d: Likewise.
@


1.807.2.6
log
@gas/
2005-04-13  Jan Beulich  <jbeulich@@novell.com>
            H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-i386.c (md_apply_fix3): Also handle BFD_RELOC_X86_64_32S.
	(tc_gen_reloc): Handle BFD_RELOC_X86_64_32S specially.

gas/testsuite/
2005-04-13  Jan Beulich  <jbeulich@@novell.com>
            H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/x86-64-pcrel.[sd]: New.
	* gas/i386/i386.exp: Run new test.
@
text
@a0 6
2005-04-13  Jan Beulich  <jbeulich@@novell.com>
            H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/x86-64-pcrel.[sd]: New.
	* gas/i386/i386.exp: Run new test.

@


1.807.2.7
log
@gas/:
* config/tc-mips.c (IS_ZEXT_32BIT_NUM): New macro.
(normalize_address_expr): New function to sign-extend address
offsets that fit into 32 bits in 32-bit mode.
(macro_build_ldst_constoffset): Use normalize_address_expr()
instead of a handcoded sequence.
(load_register): Likewise.  Report oversized numbers in a useful
way.
(macro) [ld_st, ldd_std]: Reject all oversized offsets, not only
for constant addresses.  Report oversized numbers in a useful way.
(mips_ip): Use normalize_address_expr() for addresses.

gas/testsuite/:
* gas/mips/ldstla-32.s: Exclude offsets that are now meant to fail
and include more instructions/offsets that are meant to succeed.
Use $4 instead $3 to avoid register dependencies.
* gas/mips/ldstla-32.d: Update accordingly.
* gas/mips/ldstla-32-shared.d: Likewise.
* gas/mips/ldstla-32-mips3.d: New test based on the above, except
for mips3.
* gas/mips/ldstla-32-mips3-shared.d: Similarly, for PIC.
* gas/mips/ldstla-32-mips3.s: Source for the new tests.
* gas/mips/ldstla-32-1.s: New test for offsets that are meant to
fail.
* gas/mips/ldstla-32-mips3-1.s: Likewise, for mips3.
* gas/mips/ldstla-32-1.l: Stderr output for the new test.
* gas/mips/ldstla-32-mips3-1.l: Likewise.
* gas/mips/mips.exp: Run the new tests.
@
text
@a0 18
2005-04-13  Maciej W. Rozycki  <macro@@linux-mips.org>

	* gas/mips/ldstla-32.s: Exclude offsets that are now meant to fail
	and include more instructions/offsets that are meant to succeed.
	Use $4 instead $3 to avoid register dependencies.
	* gas/mips/ldstla-32.d: Update accordingly.
	* gas/mips/ldstla-32-shared.d: Likewise.
	* gas/mips/ldstla-32-mips3.d: New test based on the above, except
	for mips3.
	* gas/mips/ldstla-32-mips3-shared.d: Similarly, for PIC.
	* gas/mips/ldstla-32-mips3.s: Source for the new tests.
	* gas/mips/ldstla-32-1.s: New test for offsets that are meant to
	fail.
	* gas/mips/ldstla-32-mips3-1.s: Likewise, for mips3.
	* gas/mips/ldstla-32-1.l: Stderr output for the new test.
	* gas/mips/ldstla-32-mips3-1.l: Likewise.
	* gas/mips/mips.exp: Run the new tests.

@


1.807.2.8
log
@gas/
2005-05-18  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-ia64.c (dot_endp): Don't use global symbol for unwind
	relocations in unwind section.

gas/testsuite/
2005-05-18  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/reloc-uw.s: New.
	* gas/ia64/reloc-uw.d: New.
	* gas/ia64/reloc-uw-ilp32.d: New.
	* gas/ia64/ia64.exp: Run new test.
@
text
@a0 7
2005-05-19  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/reloc-uw.s: New.
	* gas/ia64/reloc-uw.d: New.
	* gas/ia64/reloc-uw-ilp32.d: New.
	* gas/ia64/ia64.exp: Run new test.

@


1.807.2.9
log
@gas/
	Backport from mainline:
	2005-06-01  Maciej W. Rozycki  <macro@@linux-mips.org>
	* config/tc-mips.c (load_register): Add leading "0x" to the
	output of sprintf_vma().
	(macro): Likewise.
gas/testsuite/
	Backport from mainline:
	2005-06-01  Maciej W. Rozycki  <macro@@linux-mips.org>
	* gas/mips/ldstla-32-1.l: Update to handle leading zeroes.
	* gas/mips/ldstla-32-mips3-1.l: Likewise.
@
text
@a0 7
2005-06-12  Daniel Jacobowitz  <dan@@codesourcery.com>

	Backport from mainline:
	2005-06-01  Maciej W. Rozycki  <macro@@linux-mips.org>
	* gas/mips/ldstla-32-1.l: Update to handle leading zeroes.
	* gas/mips/ldstla-32-mips3-1.l: Likewise.

@


1.807.2.5.2.1
log
@	* bfd/bfd-in.h (bfd_is_arm_mapping_symbol_name): Add prototype.
	* bfd/bfd-in2.h: Regenerate.
	* bfd/elf32-arm.c (elf32_arm_is_target_special_symbol): Rename call to
	bfd_is_arm_mapping_symbol_name.
	(elf32_arm_output_symbol_hook): Likewise.
	(arm_elf_find_function): Likewise, and include STT_NOTYPE in test for
	mapping symbols.
	(is_arm_mapping_symbol_name): Function moved from here...
	* bfd/cpu-arm.c (bfd_is_arm_mapping_symbol_name): ...to here,
	renamed and made global.
	* gas/config/tc-arm.c (mapping_state): Change documentation in
	function comment to cross-reference spec instead. Change type of
	mapping symbols to BSF_NO_TYPE.
	(arm_adjust_symtab): Don't change type of mapping symbols here.
	* gas/testsuite/gas/arm/mapping.d: Update expected output.
	* ld/testsuite/ld-arm/arm-app-abs32.d: Likewise.
	* ld/testsuite/ld-arm/arm-app.d: Likewise.
	* ld/testsuite/ld-arm/mixed-app.d: Likewise.
@
text
@a0 5
2005-03-30  Julian Brown  <julian@@codesourcery.com>

	* gas/arm/mapping.d: Update expected output due to mapping symbols
	being untyped.

@


1.806
log
@gas/
2005-03-08  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-ia64.c (parse_section_name): Rename to...
	(cross_section): In addition to separating the name from the rest of
	the arguments, also carry out the operation.
	(dot_xdata): Use cross_section.
	(dot_float_cons): Likewise.
	(dot_xstringer): Likewise.
	(dot_xdata_ua): Likewise.
	(dot_float_cons_ua): Likewise. Pass float_cons, not stmt_float_cons.

gas/testsuite/
2005-03-08  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/xdata.[sd], gas/ia64/xdata-ilp32.d: New.
	* gas/ia64/ia64.exp: Run new tests.
@
text
@d3 5
@


1.805
log
@gas/testsuite/
2005-03-08  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/pcrel.d: Account for big endian target.
	* gas/ia64/reloc-bad.s: Enforce 64-bit ABI.
@
text
@d3 5
@


1.804
log
@	Adjust testsuite for cris-axis-aout.
	* gas/cris/rd-bcnst.d, gas/cris/rd-usp-1.d: Adjust regexps for a.out output.
	* gas/cris/mulbug-err-1.s, gas/cris/rd-arch-1.d,
	gas/cris/rd-arch-2.d, gas/cris/rd-arch-3.d, gas/cris/rd-break32.d,
	gas/cris/rd-pcrel2.d, gas/cris/rd-ppv1032.d, gas/cris/rd-ppv32.d,
	gas/cris/rd-usp-1b.d, gas/cris/v32-err-7.s: Pass --em=criself.
@
text
@d1 5
@


1.803
log
@	bfd/ChangeLog
	* elfxx-mips.c (mips_elf_calculate_relocation): Handle special
	'__gnu_local_gp' symbol used by gas -mno-shared.

	gas/ChangeLog
	* config/tc-mips.c (macro_build_lui): Use '__gnu_local_gp'
	instead of '_gp' for -mno-shared optimization.
	(s_cpload): Ditto.
	(s_abicalls): Document it in the comment.
	(md_show_usage): Document the -mno-shared option.

	gas/testsuite/ChangeLog
	* gas/mips/elf-rel23b.d: Use '__gnu_local_gp' instead of '_gp'
	for -mno-shared optimization.
	* gas/mips/elf-rel25a.d: Ditto.

	ld/testsuite/ChangeLog
	* ld-mips-elf/multi-got-no-shared-1.s,
	ld-mips-elf/multi-got-no-shared-2.s,
	ld-mips-elf/multi-got-no-shared.d: New tests.
	* ld-mips-elf/mips-elf.exp: Run them.
@
text
@d1 9
@


1.802
log
@Fix unexpected failrues for arm toolchains
@
text
@d1 6
@


1.801
log
@	* config/tc-mips.c (mips_set_options): Add sym32 field.
	(mips_opts): Initialize it.
	(HAVE_32BIT_ADDRESSES): Set to true if pointers are 32 bits wide.
	(HAVE_64BIT_ADDRESSES): Redefine as !HAVE_32BIT_ADDRESSES.
	(HAVE_32BIT_SYMBOLS, HAVE_64BIT_SYMBOLS): New macros.
	(load_address): Use HAVE_64BIT_SYMBOLS instead of HAVE_64BIT_ADDRESSES
	when deciding whether to use a symbolic %highest/%higher expansion.
	(macro): Likewise.  Remove o64/n32 linux hack.  Always use
	ADDRESS_ADD*_INSN for address addition in the expansion of "dla"
	and "la".  Handle constants separately from symbolic expressions in
	the "ld_st:" case, using 64-bit arithmetic if HAVE_64BIT_ADDRESSES
	and using load_register to load the high part of the address.
	(OPTION_MSYM32, OPTION_NO_MSYM32): New macros.
	(OPTION_ELF_BASE): Bump by 2.
	(md_longopts): Add entries for -msym32 and -mno-sym32.
	(md_parse_option): Handle them.
	(usage): Document them.
	(s_mipsset): Handle ".set sym32" and ".set nosym32".
	(s_cpload, s_cpsetup): Use HAVE_64BIT_SYMBOLS instead of
	HAVE_64BIT_ADDRESSES to detect 64-bit values of "_gp".
	* doc/c-mips.texi: Document ".set sym32", ".set nosym32",
	-msym32 and -mno-sym32.
@
text
@d1 8
a114 1
>>>>>>> 1.791
@


1.800
log
@(and.s): Expect this test to fail for the tic4x-coff target because it uses
the '&' character as a line separator.
@
text
@d1 8
@


1.799
log
@* gas/sh/basic.exp: Add an sh-hms version of the pcrel test.
* gas/sh/pcrel-hms.d: New file.  Adjusted form of pcrel-coff.d for the sh-hms
  target.
* gas/sh/arch/arch.exp: Expect the same failures for sh-hms port as for the
  sh-coff port.
@
text
@d7 4
@


1.798
log
@Also expect the msp430 port to fail the strings test because it defines
ONLY_STANDARD_ESCAPES.
@
text
@d7 6
@


1.797
log
@	* gas/mips/mips.exp: Move tls tests to main $elf block.
@
text
@d7 4
@


1.796
log
@* gas/arm/arch6zk.s: Add three nop instructions in order to pad	the .text
   section out to a 32-byte boundary as will automatically be done by the
   arm-aout target.
* gas/arm/arch6zk.d: Add expected nop disassemblies.
@
text
@d1 4
@


1.795
log
@Remove listing lines that are no longer	emitted and fix up expected binary
encoding.
@
text
@d3 5
@


1.794
log
@2005-03-03  Ramana Radhakrishnan  <ramana.radhakrishnan@@codito.com>

	* gas/arc/extensions.s: Add tests for extcoreregister
	* gas/arc/extensions.d: Likewise.
	* gas/arc/warn.s: Warnings for readonly core registers
	accessed .
	* gas/arc/warn.d:Likewise.
	* testsuite/gas/arc/arc.exp:Run extensions testcase.
@
text
@d1 7
@


1.793
log
@	* gas/mips/noat-1.d: Add -mips1 to assembler options.
@
text
@d1 9
@


1.792
log
@2005-03-03  Ramana Radhakrishnan  <ramana.radhakrishnan@@codito.com>

	* gas/arc/ld.s:Add checks for short immediates with ld
	* gas/arc/ld.d:Likewise.
@
text
@d1 4
@


1.791
log
@	* gas/mips/tls-o32.d, gas/mips/tls-o32.s, gas/mips/tls-ill.l,
	gas/mips/tls-ill.s: New files.
	* gas/mips/mips.exp: Run TLS tests.
@
text
@d1 5
d56 1
@


1.790
log
@	* gas/ppc/astest.d: Adjust for relocs reduced to section sym.
	* gas/ppc/astest2.d: Likewise.
	* gas/ppc/astest2_64.d: Likewise.
	* ppc/astest64.d: Likewise.
	* ppc/booke.d: Likewise.
	* ppc/power4.d: Likewise.
	* ppc/test1elf32.d: Likewise.
	* ppc/test1elf64.d: Likewise.
@
text
@d1 6
@


1.789
log
@gas/
2005-03-02  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-i386.c (build_modrm_byte): Add lock prefix for cr8...15
	accesses.
	(parse_register): Allow cr8...15 in all modes.

gas/testsuite/
2005-03-02  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/cr-err.[ls]: New.
	* gas/i386/crx.[ds]: New.
	* gas/i386/i386.exp: Run new tests.

opcodes/
2005-03-02  Jan Beulich  <jbeulich@@novell.com>

	* i386-dis.c (print_insn): Suppress lock prefix printing for cr8...15
	accesses.
	(OP_C): Consider lock prefix in non-64-bit modes.
@
text
@d1 11
d44 1
a44 1
	
d824 2
a825 2
	  break. Run the new (split out) test only when the target doesn't
	  use '!' as a comment character.
d1243 1
a1243 1
	  reloc overflow checking.
d1246 1
a1246 1
	  relocations where asked for.
@


1.788
log
@gas/
2005-03-02  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-i386.c (intel_e11): If not followed by T_PTR, treat T_BYTE
	etc. like normal symbol references (T_ID).

gas/testsuite/
2005-03-02  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/intelok.d: Add -r to objdump options. Adjust expectations.
	* gas/i386/intelok.s: Add checks for various special memory operands.
@
text
@d3 6
@


1.787
log
@	* symbols.c (fb_label_name): Allow an augend of 2 for mmix.
also fix last changelog entry.
@
text
@d1 5
@


1.786
log
@Fix undefined local label test for COFF based ARM ports
@
text
@d1 5
@


1.785
log
@objdump.c: Fix coding for DISASSEMBLER_NEEDS_RELOC:
(struct objdump_disasm_info): Add 'reloc' field.
(disassemble_bytes): Fix check for when an insn has a reloc associated with it.
Improve comment explaining why the use of octets is wrong.  Set the 'reloc'
field in objdump_disasm_info structure.
(objdump_print_addr): Use new 'reloc' field to lookup the correct address for
the symbol associated with the current instruction's relocation.
(disassemble_info): Initialise 'reloc' field.

gas/arm/inst.d: Allow for ARM ports which decode the reloc associated with
branches and so show the exact symbolic destination address rather than an
offset from the start of the section.

gas/arm/pic.d: Likewise.
@
text
@d1 8
@


1.784
log
@	* gas/m68k/mcf-emac.d: Allow for 64-bit addresses.
	* gas/m68k/mcf-mac.d: Likewise.
	* gas/m68k/mcf-mov3q.d: Likewise.
	* gas/m68k/mode5.d: Likewise.
@
text
@d1 9
@


1.783
log
@2005-02-22  Eric Christopher  <echristo@@redhat.com>

	* gas/mips/elf-rel10.d: Update for label change.
@
text
@d1 7
@


1.782
log
@* gas/mips/mips16-dwarf2.d: Pass -mabi=32.  Include relocation
information.
* gas/mips/mips16-dwarf2-n32.d: New test to check DWARF2 line
information for MIPS16 for the n32 ABI.
* gas/mips/mips.exp. Run the new test.
@
text
@d1 4
@


1.781
log
@2005-02-22  Eric Christopher  <echristo@@redhat.com>

	* gas/mips/elf-rel10.s: Add label for frob.
@
text
@d1 8
@


1.780
log
@gas/:
* config/tc-mips.c (append_insn): Call dwarf2_emit_insn() before
emitting insn.

gas/testsuite/:
* gas/mips/mips16-dwarf2.d: New test to check DWARF2 line
information for MIPS16.
* gas/mips/mips16-dwarf2.s: Source for the new test.
* gas/mips/mips.exp: Run the new test.
@
text
@d1 4
@


1.779
log
@	* gas/d10v/instruction_packing-005.d: Adjust.
	* gas/d10v/instruction_packing-008.d: Ignore disassembled stabs.
	* gas/d10v/instruction_packing-009.d: Likewise.
	* gas/d10v/instruction_packing-010.d: Likewise.
	* gas/d10v/warning-001.d: Use #warning instead of #error.
	* gas/d10v/warning-002.d: Likewise.
	* gas/d10v/warning-003.d: Likewise.
	* gas/d10v/warning-004.d: Likewise.
	* gas/d10v/warning-005.d: Likewise.
	* gas/d10v/warning-006.d: Likewise.
	* gas/d10v/warning-007.d: Likewise.
	* gas/d10v/warning-008.d: Likewise.
	* gas/d10v/warning-009.d: Likewise.
	* gas/d10v/warning-010.d: Likewise.
	* gas/d10v/warning-011.d: Likewise.
	* gas/d10v/warning-012.d: Likewise.
	* gas/d10v/warning-013.d: Likewise.
	* gas/d10v/warning-015.d: Likewise.
	* gas/d10v/warning-016.d: Likewise.
	* gas/d10v/warning-017.d: Likewise.
	* gas/d10v/warning-018.d: Likewise.
	* gas/d10v/warning-019.d: Likewise.
	* lib/gas-defs.exp (run_dump_test): Don't require a dump program if
	#warning given.  Rearrange to allow $program to remain unset.
	Fail the test if warning not found when expected.  Conversely fail
	the test if assembler errors or warnings given when not expected.
@
text
@d1 7
@


1.778
log
@	/gas/ChangeLog
	* config/tc-mips.c (macro_build_ldst_constoffset): Fail on $at
	uses after .set noat.
	(load_address): Likewise.
	(macro): Likewise. Don't try to avoid $at use by sacrificing
	the target register before it is stored, it won't work.

	/gas/testsuite/ChangeLog
	* gas/mips/noat-1.s, gas/mips/noat-1.d, gas/mips/noat-2.s,
	gas/mips/noat2.l, gas/mips/noat-3.s, gas/mips/noat-3.l,
	gas/mips/noat-4.s, gas/mips/noat-4.l, gas/mips/noat-5.s,
	gas/mips/noat-5.l, gas/mips/noat-6.s, gas/mips/noat-6.l,
	gas/mips/noat-7.s, gas/mips/noat-7.l: New files, testcases for
	.set noat in macro expansions.
	* gas/mips/mips.exp: Run new testcases.
	* gas/mips/rol-hw.d, gas/mips/rol-hw.l, gas/mips/rol.d,
	gas/mips/rol.l, gas/mips/rol.s, gas/mips/rol64-hw.d,
	gas/mips/rol64-hw.l, gas/mips/rol64.d, gas/mips/rol64.l,
	gas/mips/rol64.s, gas/mips/uld2-eb.d, gas/mips/uld2-el.d,
	gas/mips/uld2.l, gas/mips/uld2.s, gas/mips/ulh2-eb.d,
	gas/mips/ulh2-el.d, gas/mips/ulh2.l, gas/mips/ulh2.s,
	gas/mips/ulw2-eb-ilocks.d, gas/mips/ulw2-eb.d,
	gas/mips/ulw2-el-ilocks.d, gas/mips/ulw2-el.d, gas/mips/ulw2.l,
	gas/mips/ulw2.s: Don't try to test .set noat.
@
text
@d1 29
@


1.777
log
@gas/

2005-02-17  H.J. Lu  <hongjiu.lu@@intel.com>

	* NEWS: Mention "-mhint.b=[ok|warning|error]".

	* config/tc-ia64.c (md): Add hint_b.
	(emit_one_bundle): Handle md.hint_b for "hint".
	(md_parse_option): Accepted "-mhint.b=[ok|warning|error]".
	(md_show_usage): Add "-mhint.b=[ok|warning|error]".
	(ia64_init): Set md.hint_b to error.
	(md_assemble): Handle md.hint_b for "hint.b".

	* doc/as.texinfo: Add "-mhint.b=[ok|warning|error]".
	* doc/c-ia64.texi: Likewise.

gas/testsuite/

2005-02-17  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/ia64/hint.b-err.l: New file.
	* gas/ia64/hint.b-err.s: Likewise.
	* gas/ia64/hint.b-warn.l: Likewise.
	* gas/ia64/hint.b-warn.s: Likewise.

	* gas/ia64/ia64.exp: Run hint.b-err and hint.b-warn.

	* gas/ia64/opc-b.d: Pass -mhint.b=ok to as.
@
text
@d1 19
@


1.776
log
@gas/
2005-02-17  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-ia64.c (ia64_parse_name): Don't advance 'name' when
	parsing inN, locN, outN. Set 'idx' to offset register number starts
	at. Don't handle numbers with leading zeroes or beyond 95. Remove
	pointless cast.

gas/testsuite/
2005-02-17  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/nostkreg.[ds]: New.
	* gas/ia64/ia64.exp: Run new test.
@
text
@d1 11
@


1.775
log
@	* gas/all/gas.exp (quad): Don't run on i960.
@
text
@d1 5
@


1.774
log
@bfd/:
2005-02-15  Nigel Stephens  <nigel@@mips.com>
            Maciej W. Rozycki  <macro@@mips.com>

	* elf32-mips.c (elf_mips16_howto_table_rel): New array for MIPS16
	reloc howtos.  Add R_MIPS16_HI16 and R_MIPS16_LO16 relocs and
	R_MIPS16_GOT16 and R_MIPS16_CALL16 placeholders.
	(elf_mips16_jump_howto): Move into elf_mips16_howto_table_rel.
	(elf_mips16_gprel_howto): Likewise.  Redefine src_mask and
	dst_mask.
	(mips16_gprel_reloc): Remove bit shuffling; call
	_bfd_mips16_elf_reloc_unshuffle(), _bfd_mips_elf_gprel16_with_gp()
	and _bfd_mips16_elf_reloc_shuffle() instead.
	(mips16_reloc_map): New reloc map for MIPS16 relocs.
	(bfd_elf32_bfd_reloc_type_lookup): Use mips16_reloc_map for MIPS16
	relocs.
	(mips_elf32_rtype_to_howto): Fetch MIPS16 howtos from
	elf_mips16_howto_table_rel.
	* elf64-mips.c (mips16_elf64_howto_table_rel): New array for
	MIPS16 REL reloc howtos.  Add R_MIPS16_HI16 and R_MIPS16_LO16
	relocs and R_MIPS16_GOT16 and R_MIPS16_CALL16 placeholders.
	(elf_mips16_jump_howto): Move into mips16_elf64_howto_table_rel.
	(elf_mips16_gprel_howto): Likewise.  Redefine src_mask and
	dst_mask.
	(mips16_elf64_howto_table_rela): New array for MIPS16 RELA
	reloc howtos.  Add R_MIPS16_26, R_MIPS16_GPREL, R_MIPS16_HI16 and
	R_MIPS16_LO16 relocs and R_MIPS16_GOT16 and R_MIPS16_CALL16
	placeholders.
	(mips16_gprel_reloc): Remove bit shuffling; call
	_bfd_mips16_elf_reloc_unshuffle(), _bfd_mips_elf_gprel16_with_gp()
	and _bfd_mips16_elf_reloc_shuffle() instead.
	(mips16_reloc_map): New reloc map for MIPS16 relocs.
	(bfd_elf64_bfd_reloc_type_lookup): Use mips16_reloc_map for MIPS16
	relocs.
	(mips_elf64_rtype_to_howto): Fetch MIPS16 howtos from
	mips16_elf64_howto_table_rela or mips16_elf64_howto_table_rel.
	* elfn32-mips.c (elf_mips16_howto_table_rel): New array for MIPS16
	REL reloc howtos.  Add R_MIPS16_HI16 and R_MIPS16_LO16 relocs and
	R_MIPS16_GOT16 and R_MIPS16_CALL16 placeholders.
	(elf_mips16_jump_howto): Move into elf_mips16_howto_table_rel.
	(elf_mips16_gprel_howto): Likewise.  Redefine src_mask and
	dst_mask.
	(mips16_gprel_reloc): Remove bit shuffling; call
	_bfd_mips16_elf_reloc_unshuffle(), _bfd_mips_elf_gprel16_with_gp()
	and _bfd_mips16_elf_reloc_shuffle() instead.
	(mips16_reloc_map): New reloc map for MIPS16 relocs.
	(bfd_elf32_bfd_reloc_type_lookup): Use mips16_reloc_map for MIPS16
	relocs.
	(mips_elf_n32_rtype_to_howto): Fetch MIPS16 howtos from
	elf_mips16_howto_table_rela or elf_mips16_howto_table_rel.
	* elfxx-mips.c (_bfd_mips16_elf_reloc_unshuffle): New function to
	handle bit shuffling for MIPS16 relocs.
	(_bfd_mips16_elf_reloc_shuffle): Likewise.
	(_bfd_mips_elf_lo16_reloc): Use _bfd_mips16_elf_reloc_unshuffle()
	and _bfd_mips16_elf_reloc_shuffle().
	(_bfd_mips_elf_generic_reloc): Likewise.
	(mips_elf_calculate_relocation): Likewise.  Handle R_MIPS16_HI16
	and R_MIPS16_LO16.
	(mips_elf_obtain_contents): Remove bit shuffling.
	(mips_elf_perform_relocation): Likewise; call
	_bfd_mips16_elf_reloc_unshuffle() and _bfd_mips16_elf_reloc_shuffle()
	instead.
	(_bfd_mips_elf_relocate_section): Likewise.  Handle R_MIPS16_HI16
	and R_MIPS16_LO16.
	* elfxx-mips.h (_bfd_mips16_elf_reloc_unshuffle): Declare.
	(_bfd_mips16_elf_reloc_shuffle): Likewise.
	* reloc.c (BFD_RELOC_MIPS16_HI16): New reloc.
	(BFD_RELOC_MIPS16_HI16_S): Likewise.
	(BFD_RELOC_MIPS16_LO16): Likewise.
	* bfd-in2.h: Regenerate.
	* libbfd.h: Regenerate.

gas/:
2005-02-15  Nigel Stephens  <nigel@@mips.com>
            Maciej W. Rozycki  <macro@@mips.com>

	* config/tc-mips.c (reloc_needs_lo_p): Handle
	BFD_RELOC_MIPS16_HI16_S.
	(fixup_has_matching_lo_p): Handle BFD_RELOC_MIPS16_LO16.
	(append_insn): Add BFD_RELOC_MIPS16_GPREL, BFD_RELOC_MIPS16_HI16_S
	and BFD_RELOC_MIPS16_LO16 to relocs to suppress overflow
	complaints on.
	(mips16_ip): Resolve BFD_RELOC_MIPS16_HI16_S,
	BFD_RELOC_MIPS16_HI16 and BFD_RELOC_MIPS16_LO16 for constants.
	Call my_getSmallExpression() to parse percent operators.
	(percent_op_match, mips_percent_op): Separate definitions.
	(mips16_percent_op): Define percent operators for the MIPS16 mode.
	(parse_relocation): Handle the MIPS16 mode using
	mips16_percent_op.
	(md_apply_fix3): Handle BFD_RELOC_MIPS16_HI16,
	BFD_RELOC_MIPS16_HI16_S and BFD_RELOC_MIPS16_LO16.

gas/testsuite/:
2005-02-15  Nigel Stephens  <nigel@@mips.com>
            Maciej W. Rozycki  <macro@@mips.com>

	* gas/mips/mips16-hilo.d: New test for the R_MIPS16_HI16 and
	R_MIPS16_LO16 relocs.
	* gas/mips/mips16-hilo-n32.d: Likewise, for the n32 ABI.
	* gas/mips/mips16-hilo.s: Source for the new tests.
	* gas/mips/mips.exp: Run the new tests.

include/:
2005-02-15  Nigel Stephens  <nigel@@mips.com>
            Maciej W. Rozycki  <macro@@mips.com>

	* elf/mips.h (R_MIPS16_GOT16): New reloc code.
	(R_MIPS16_CALL16): Likewise.
	(R_MIPS16_HI16): Likewise.
	(R_MIPS16_LO16): Likewise.
	(R_MIPS16_min): New fake reloc code.
	(R_MIPS16_max): Likewise.

ld/testsuite/:
2005-02-15  Nigel Stephens  <nigel@@mips.com>
            Maciej W. Rozycki  <macro@@mips.com>

	* ld-mips-elf/mips16-hilo.d: New test for the R_MIPS16_HI16 and
	R_MIPS16_LO16 relocs.
	* ld-mips-elf/mips16-hilo-n32.d: Likewise, for the n32 ABI.
	* ld-mips-elf/mips16-hilo.s: Auxiliary source for the new tests.
	* ld-mips-elf/mips-elf.exp: Run the new tests.
@
text
@d1 4
d6 1
a6 1
            Maciej W. Rozycki  <macro@@mips.com>
d21 2
a22 1
	* gas/ia64/dv-raw-err.l: Expect specific resource for RAW violation on b0.
d204 1
a204 1
	* gas/i386/intel16.d: Ignore trailing text with #pass. 
d222 1
a222 1
	* gas/crx/beq_insn.d: Update reference file according to 
d224 4
a227 4
	* gas/crx/bit_insn.d: Likewise. 
	* gas/crx/br_insn.d: Likewise. 
	* gas/crx/cmpbr_insn.d: Likewise. 
	* gas/crx/cop_insn.d: Likewise. 
d364 1
a364 1
	* gas/iq2000/q10allinsn.s: Delete.	
d415 1
a415 1
	
@


1.773
log
@gas/
2005-02-15  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-ia64.c (md_apply_fix3): Call ia64_gen_real_reloc_type
	instead of explicitly dealing with the translation; exclude
	relocations that are already pcrel, however.

gas/testsuite/
2005-02-15  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/pcrel.[ds]: New.
	* gas/ia64/ia64.exp: Run new test.
@
text
@d1 9
@


1.772
log
@gas/
2005-02-15  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-ia64.c: Include limits.h (if available).
	(gr_values[0]): Set path to INT_MAX.
	(dot_reg_val): Don't allow changing value of r0. Limit range of
	general registers at r127.
	(specify_resource): Default resource index is -1. Don't set resource
	index (in case IA64_RS_RSE) without setting the specific flag.
	(note_register_values): Check operand is O_constant before tracking
	input value of moves. Add tracking for dep.z with constant inputs.
	(print_dependency): Resource index of specific resource may be zero.
	(check_dependencies): Likewise.

gas/testsuite/
2005-02-15  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/dv-raw-err.l: Expect specific resource for RAW violation on b0.
	* gas/ia64/regval.[ls]: New.
	* gas/ia64/ia64.exp: Run new test.
@
text
@d3 5
@


1.771
log
@gas/
2005-02-15  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-ia64.c (parse_operands): New local variables reg1, reg2,
	reg_class. Check operands and emit diagnostics for illegal use of
	registers.

gas/testsuite/
2005-02-15  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/dv-raw-err.s: Don't use r0 or f0 as output operand.
	* gas/ia64/dv-waw-err.s: Likewise.
	* gas/ia64/reg-err.[ls]: New.
	* gas/ia64/ia64.exp: Run new test.
@
text
@d3 6
@


1.770
log
@bfd/
2005-02-15  Jan Beulich  <jbeulich@@novell.com>

	* elfxx-ia64.c (ia64_howto_table): Correct strings for
	R_IA64_DTPMOD64[LM]SB.

gas/
2005-02-15  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-ia64.c (ia64_gen_real_reloc_type): Define and initialize
	new variables type, suffix, and width. Handle
	BFD_RELOC_IA64_DIR(32|64)[LM]SB in FUNC_LT_FPTR_RELATIVE case.
	Handle BFD_RELOC_IA64_DIR64[LM]SB in FUNC_TP_RELATIVE case. Add
	FUNC_DTP_MODULE case. Handle BFD_RELOC_IA64_DIR32[LM]SB in
	FUNC_DTP_RELATIVE case. Return incoming relocation type if
	BFD_RELOC_IA64_IPLT[LM]SB in FUNC_IPLT_RELOC case. Generate warning
	if unable to translate relocation type, using the new variables.

gas/testsuite/
2005-02-15  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/reloc.[ds]: New.
	* gas/ia64/reloc-bad.[ls]: New.
	* gas/ia64/ia64.exp: Run new tests.
@
text
@d3 7
@


1.769
log
@gas/
2005-02-15  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-ia64.c (ia64_parse_name): Only update next character if
	input_line_pointer was advanced.

gas/testsuite/
2005-02-15  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/operand-or.d: Pass -xnone to assembler.
@
text
@d3 6
@


1.768
log
@gas/
2005-02-13  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-ia64.c (md_parse_option): Handle -xnone and -xdebugn.
	(md_show_usage): Add -xnone, -xdebugn, and -xdebugx. Relocate default
	indicator.
	(ia64_init): Set md.detect_dv.
	(ia64_start_line): New static variable warned. Warn only once when
	encountering explicit stops in automatic mode.
	* doc/c-ia64.texi: Describe -xnone, -xdebugn, and -xdebugx.
	* NEWS: Mention new default mode.

gas/testsuite/
2005-02-13  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/label.l: Adjust line numbers.
	* gas/ia64/label.s: Add .explicit.
	* gas/ia64/nop_x.s: Likewise.
	* gas/ia64/opc-a.d: Add assembler option -xnone.
	* gas/ia64/opc-b.d: Likewise.
	* gas/ia64/opc-f.d: Likewise.
	* gas/ia64/opc-i.d: Likewise.
	* gas/ia64/opc-m.d: Likewise.
	* gas/ia64/opc-x.d: Likewise.
	* gas/ia64/pseudo.d: Likewise.
	* gas/ia64/regs.d: Likewise.
	* gas/ia64/tls.d: Likewise.
	* gas/ia64/unwind-err.l: Adjust line numbers.
	* gas/ia64/unwind-err.s: Remove explicit stops.

ld/testsuite/
2005-02-13  Jan Beulich  <jbeulich@@novell.com>

	* ld-elfvers/vers.exp (as_options): New. Set to -x for ia64.
	(build_binary): Pass as_options to ld_assemble.
	(test_ldfail): Likewise.
	(build_exec): Likewise.
	Pass as_options to run_ld_link_tests.
	* ld-ia64/tlsbin.s: Add .explicit.
	* ld-ia64/tlsbinpic.s: Likewise.
	* ld-ia64/tlspic1.s: Likewise.
@
text
@d1 4
@


1.767
log
@gas/
2005-02-13  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-ia64.c (dot_rot): Add comment that name strings should
	be freed when wiping out previous state. Canonicalize names before
	use. Free name string when detecting redefinition.
	(dot_pred_rel): Call generic expression parser to process arguments.
	Handle O_register case for individual predicates and O_subtract for
	ranges.
	(ia64_parse_name): Canonicalize name before looking it up in dynamic
	register hash.
	(ia64_canonicalize_symbol_name): Strip off all trailing # characters.
	Warn if multiple found, issue error if resulting symbol name has zero
	length.
	(dot_alias): Canonicalize name before use.

gas/testsuite/
2005-02-13  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/pound.[ls]: New.
	* gas/ia64/ia64.exp: Run new test.
@
text
@d3 17
@


1.766
log
@2005-02-13  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/ia64/ia64.exp: Add "operand-or".

	* gas/ia64/operand-or.d: New file.
	* gas/ia64/operand-or.s: Likewise.
@
text
@d1 5
@


1.765
log
@gas/

2005-02-11  H.J. Lu  <hongjiu.lu@@intel.com>

	* NEWS: Mention "-munwind-check=[warning|error]".

	* config/tc-ia64.c (md): Add unwind_check.
	(unwind_diagnostic): New.
	(in_procedure): Call unwind_diagnostic when a directive isn't
	in procedure.
	(in_prologue): Call unwind_diagnostic when a directive isn't in
	prologue.
	(in_body): Call unwind_diagnostic when a directive isn't in
	body region.
	(dot_endp): Set md.unwind_check to error before calling
	in_procedure and restore it after. When the name is missing or
	couldn't be found, use the one from the last .proc if
	md.unwind_check isn't error. Warn if md.unwind_check is
	warning.
	(md_parse_option): Handle "-munwind-check=[warning|error]".
	(md_show_usage): Add "-munwind-check=[warning|error]".
	(ia64_init): Set md.unwind_check to warning.

	* doc/as.texinfo: Add "-munwind-check=[none|warning|error]".
	* doc/c-ia64.texi: Likewise.

gas/testcase

2005-02-11  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/ia64/ia64.exp: Pass -munwind-check=error for unwind-err
	and proc.
@
text
@d1 7
@


1.764
log
@gas/testsuite/
2005-02-09  Jan Beulich  <jbeulich@@novell.com>

	* gas/i386/intelok.s: Remove comments disabling alternative forms of
	fbld, fbstp, and fldcw.
	* gas/i386/intelok.d: Expect two instances of fbld, fbstp, and fldcw.

include/opcode/
2005-02-09  Jan Beulich  <jbeulich@@novell.com>

	PR gas/707
	* i386.h (i386_optab): Add x_Suf to fbld and fbstp. Add w_Suf and
	FloatMF to fldcw, fstcw, fnstcw, and the memory formas of fstsw and
	fnstsw.
@
text
@d1 5
@


1.763
log
@Correct the relative jump calculation.
@
text
@d1 6
@


1.762
log
@	* lib/gas-defs.exp: Support new directive "warning".
@
text
@d1 7
@


1.761
log
@gas/
2005-02-02  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-ia64.c (dot_pred_rel): Update comment. Handle @@-prefixed
	designators along with quoted ones. Free copy of quoted designator
	when done.

gas/testsuite/
2005-02-02  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/pred-rel.s: New.
	* gas/ia64/ia64.exp: Run new test.
@
text
@d1 4
@


1.760
log
@	* gas/mips/elf-rel23.d, gas/mips/elf-rel23a.d: Accept little-endian.
	* gas/mips/tmipsel16-e.d, gas/mips/tmipsel16-f.d: Accept section
	symbol names.
@
text
@d1 5
@


1.759
log
@gas/
2005-01-31  Jan Beulich  <jbeulich@@novell.com>

	* macro.c (buffer_and_nest): Allow 'from' being NULL; handle anything
	that can end with .endr in that case. Make requiring/permitting
	pseudo-ops without leading dot closer to the logic in read.c serving
	the same purpose.
	(expand_irp): Don't pass a mnemonic to buffer_and_nest as it will be
	ignored.

gas/testsuite/
2005-01-31  Jan Beulich  <jbeulich@@novell.com>

	* gas/macros/repeat.[ds]: New.
	* gas/macros/macros.exp: Run new test.
@
text
@d1 6
@


1.758
log
@gas/
2005-01-31  Jan Beulich  <jbeulich@@novell.com>

	* macro.c (do_formals): Adjust to no longer accept empty parameter
	names.
	(define_macro): Adjust to no longer accept empty macro name, garbage
	following the parameters, or macros that were previously defined.
	* read.c (s_bad_end): Declare.
	(potable): Add endm. Handler for endr and endm is s_bad_end.
	(s_bad_end): Rename from s_bad_endr. Adjust to handle both .endm
	and .endr.
	* read.h (s_bad_endr): Remove.

gas/testsuite/
2005-01-31  Jan Beulich  <jbeulich@@novell.com>

	* gas/macros/badarg.[ls]: New.
	* gas/macros/end.[ls]: New.
	* gas/macros/redef.[ls]: New.
	* gas/macros/macros.exp (run_list_test): Copy from elsewhere.
	Run new tests.
@
text
@d3 5
@


1.757
log
@gas/
2005-01-31  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-ia64.c (parse_operands): Parse all specified operands,
	immediately discarding (but counting) those exceeding the maximum
	possible amount. Track whether output and input operand counts ever
	matched, and use this to better indicate which of the operands/
	operand types was wrong; specifically don't default to pointing to
	the first operand.

gas/testsuite/
2005-01-31  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/operands.[ls]: New.
	* gas/ia64/ia64.exp: Run new test.
@
text
@d3 8
@


1.756
log
@gas/
2005-01-31  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-ia64.c (unwind): Remove proc_end (now an automatic
	variable in dot_endp). Add body and insn. Make prologue,
	prologue_mask, body, and insn bitfields.
	(fixup_unw_records): Remove spurious new-lines from end of diagnostic
	messages.
	(in_procedure, in_prologue, in_body): New.
	(dot_fframe, dot_vframe, dot_vframesp, dot_vframepsp, dot_save,
	dot_restore, dot_restorereg, dot_restorereg_p, dot_handlerdata,
	dot_unwentry, dot_altrp, dot_savemem, dot_saveg, dot_savef, dot_saveb,
	dot_savegf, dot_spill, dot_spillreg, dot_spillmem, dot_spillreg_p,
	dot_spillmem_p, dot_label_state, dot_copy_state, dot_unwabi,
	dot_personality): Use the appropriate one of the above.
	(dot_proc): Clear unwind.proc_start; set to current location only if
	none of the entry points were valid. Check for non-zero-length entry
	point names. Check that entry points aren't defined, yet. Clear
	unwind.prologue, unwind.body, and unwind.insn.
	(dot_body): Call in_procedure. Check that first directive in procedure
	had no insns emitted before. Set unwind.body.
	(dot_prologue): Call in_procedure. Check that not already in prologue.
	Check that first directive in procedure had no insns emitted before.
	Clear unwind.body.
	(dot_endp): Call in_procedure. Declare proc_end. Check for non-zero-
	length entry point names. Check that entry points became defined.
	(md_assemble): Set unwind.insn once unwind.proc_start is defined.

gas/testsuite/
2005-01-31  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/proc.[ls]: New.
	* gas/ia64/unwind-err.[ls]: New.
	* gas/ia64/ia64.exp: Run new tests.
@
text
@d3 5
@


1.755
log
@gas/
2005-01-31  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-ia64.c (emit_one_bundle): Snapshot manual bundling state
	before actually using it. Don't generate an error in manual bundling
	mode when looking at an insn requiring slot 2 but not yet at slot 2.
	Don't generate an error in manual bundling mode when looking at an
	insn required to be last in its group but the required slot hasn't
	been reached, yet. Allow conversion from MII to MI;I for bundle
	consisting of only 2 insns with the stop between them. Suppress
	various meaningless errors resulting from detecting earlier ones.

gas/testsuite/
2005-01-31  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/bundling.[ds]: New.
	* gas/ia64/label.[ls]: New.
	* gas/ia64/last.[ls]: New.
	* gas/ia64/slot2.[ls]: New.
	* gas/ia64/ia64.exp: Run new tests.
@
text
@d3 6
@


1.754
log
@gas/
2005-01-31  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-ia64.c (parse_operands): Also handle alloc without first
	input being ar.pfs.

gas/testsuite/
2005-01-31  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/pseudo.[ds]: New.
	* gas/ia64/ia64.exp: Run new test.

opcodes/
2005-01-31  Jan Beulich  <jbeulich@@novell.com>

	* ia64-gen.c (NELEMS): Define.
	(shrink): Generate alias with missing second predicate register when
	opcode has two outputs and these are both predicates.
	* ia64-opc-i.c (FULL17): Define.
	(ia64_opcodes_i): Add mov-to-pr alias without second input. Use FULL17
	here to generate output template.
	(TBITCM, TNATCM): Undefine after use.
	* ia64-opc-m.c (ia64_opcodes_i): Add alloc alias without ar.pfs as
	first input. Add ld16 aliases without ar.csd as second output. Add
	st16 aliases without ar.csd as second input. Add cmpxchg aliases
	without ar.ccv as third input. Add cmp8xchg16 aliases without ar.csd/
	ar.ccv as third/fourth inputs. Consolidate through...
	(CMPXCHG_acq, CMPXCHG_rel, CMPXCHG_1, CMPXCHG_2, CMPXCHG_4, CMPXCHG_8,
	CMPXCHGn, CMP8XCHG16, CMPXCHG_ALL): Define.
	* ia64-asmtab.c: Regenerate.
@
text
@d3 8
@


1.753
log
@gas/
2005-01-27  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-ia64.c (emit_one_bundle): Change "?imbf??" to "?ibmfxx".

gas/testsuite/
2005-01-27  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/nop_x.[ds]: New.
	* gas/ia64/ia64.exp: Run new test.
@
text
@d1 5
@


1.752
log
@gas/
2005-01-25  Jan Beulich  <jbeulich@@novell.com>

	* config/tc-ia64.c (emit_one_bundle): Add late resolution of move
	to/from application registers dynamic insns.
	(md_assemble): Defer resolution of move to/from application registers
	dynamic insns when they can be issued on either the I- or M-units.

gas/testsuite/
2005-01-25  Jan Beulich  <jbeulich@@novell.com>

	* gas/ia64/dv-waw-err.l: Don't expect ar112 move warning to refer to
	M-unit.
	* gas/ia64/mov-ar.[ds]: New.
	* gas/ia64/ia64.exp: Run new test.
@
text
@d1 6
a6 1
2005-01-25  Jan Beulich  <jbeulich@@novell.com>
@


1.751
log
@sleb128.d: Do not assume an 8-bit byte.
quad.d: Likewise.  Also allow for ports which order bytes within words in other
  than simple big-endian or little-endian fashions.
@
text
@d1 7
@


1.750
log
@	* read.c (convert_to_bignum): New function, split out from...
	(emit_expr): ...here.  Handle the case where X_add_number is
	positive and the input value is negative.
	(output_big_sleb128): Fix setting of continuation bit.  Check whether
	the final byte needs to be sign-extended.  Fix size-shrinking loop.
	(emit_leb128_expr): When generating a signed leb128, see whether the
	sign of an O_constant's X_add_number matches the sign of the input
	value.  Use a bignum if not.
@
text
@d1 7
@


1.749
log
@Fix SH2A machine variants in order to correctly select instruction inheritance
@
text
@d1 6
@


1.748
log
@gas/testsuite/

2005-01-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386/i386.exp: Run "sib".

	* gas/i386/sib.d: New file.
	* gas/i386/sib.s: Likewise.

opcodes/

2005-01-12  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (OP_E): Ignore scale when index == 0x4 in SIB.
@
text
@d1 28
@


1.747
log
@	* gas/i386/intel16.d: Ignore trailing text with #pass.
	* gas/i386/intelok.d: Likewise.
	* gas/i386/prefix.d: Likewise.
	* gas/i386/sub.d: Likewise.
	* gas/i386/padlock.d: Likewise.
	* gas/i386/x86_64.d: Likewise.
@
text
@d1 7
@


1.746
log
@	* gas/elf/elf.exp (section5): Use 0-9 instead of [:digit:].
@
text
@d1 9
@


1.745
log
@	* gas/elf/elf.exp: Don't list reloc sections.
	* gas/elf/section5.e: Remove reloc sections.
@
text
@d1 4
@


1.744
log
@2004-12-21  Tomer Levi  <Tomer.Levi@@nsc.com>

	* gas/crx/beq_insn.d: Update reference file according to
	disassembler printing method.
	* gas/crx/bit_insn.d: Likewise.
	* gas/crx/br_insn.d: Likewise.
	* gas/crx/cmpbr_insn.d: Likewise.
	* gas/crx/cop_insn.d: Likewise.
	* gas/crx/load_stor_insn.d: Likewise.
@
text
@d1 5
@


1.743
log
@	* gas/elf/section5.e, gas/elf/section5.l: Replace [:digit:],
	[:xdigit:] and {N} in regexps with [0-9], [0-9a-fA-F] and N
	copies, to cater to tcl versions before Tcl 8.2.3.
@
text
@d1 10
@


1.742
log
@* gas/elf/section5.[ls]: Use % instead of @@ in .section	directives.
@
text
@d1 6
@


1.741
log
@include/elf/
	* v850.h (R_V850_LO16_SPLIT_OFFSET): New reloc.

bfd/
	* reloc.c (BFD_RELOC_V850_LO16_SPLIT_OFFSET): New bfd_reloc_code_type.
	* elf32-v850.c (v850_elf_howto_table): Add entry for
	R_V850_LO16_SPLIT_OFFSET.
	(v850_elf_reloc_map): Map it to BFD_RELOC_V850_LO16_SPLIT_OFFSET.
	(v850_elf_perform_lo16_relocation): New function, extracted from...
	(v850_elf_perform_relocation): ...here.  Use it to handle
	R_V850_LO16_SPLIT_OFFSET.
	(v850_elf_check_relocs, v850_elf_final_link_relocate): Handle
	R_V850_LO16_SPLIT_OFFSET.
	* libbfd.h, bfd-in2.h: Regenerate.

gas/
	* config/tc-v850.c (handle_lo16): New function.
	(v850_reloc_prefix): Use it to check lo().
	(md_assemble, md_apply_fix3): Handle BFD_RELOC_V850_LO16_SPLIT_OFFSET.

gas/testsuite/
	* gas/v850/split-lo16.{s,d}: New test.
	* gas/v850/v850.exp: Run it.

ld/testsuite/
	* ld-v850: New directory.
@
text
@d1 5
@


1.740
log
@gas/
2004-12-15 Jan Beulich  <jbeulich@@novell.com>

	* config/obj-elf.c (obj_elf_change_section): Only set type and
	attributes on new sections. Emit warning when type of re-declared
	section doesn't match.

gas/testsuite/
2004-12-15 Jan Beulich  <jbeulich@@novell.com>

	* gas/elf/section5.[els]: New.
@
text
@d1 5
@


1.739
log
@	* gas/mips/elf-rel25.d, gas/mips/elf-rel25a.d: Cope with different
	.text alignments.
@
text
@d1 4
@


1.738
log
@bfd/
	* elfcode.h (elf_slurp_symbol_table): Use bfd_elf_sym_name so that
	canonical sections syms have a name.

gas/testsuite/
	Update for changed section syms.

ld/testsuite/
	Update for changed section syms.
@
text
@d1 5
@


1.737
log
@	* gas/mips/elf-rel23a.d: New test.
	* gas/mips/elf-rel23b.d: New test.
	* gas/mips/elf-rel25.s: New test.
	* gas/mips/elf-rel25.d: New test.
	* gas/mips/elf-rel25a.d: New test.
	* gas/mips/mips.exp: Run new tests.
@
text
@d1 57
@


1.736
log
@	* config/tc-arm.c (s_arm_unwind_fnend): Use R_ARM_PREL31 relocation
	for function start.
	* testsuite/gas/arm/unwind.d: Expect R_ARM_PREL31 relocations.
@
text
@d1 9
@


1.735
log
@	* gas/mips/branch-swap.d: Pass -32 to as.
@
text
@d1 4
@


1.734
log
@2004-11-29  Tomer Levi  <Tomer.Levi@@nsc.com>

	* gas/crx/br_insn.d: Fix error in expected disassembly.
@
text
@d1 4
@


1.733
log
@Fixed a pcrel relocte miss between different section in the same module.
@
text
@d1 4
@


1.732
log
@* gas/testsuite/arm/thumbv6.d (setend): Remove stray tab at end
of dump pattern.
@
text
@d1 8
@


1.731
log
@2004-11-25  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/ia64/group-1.d: Adjust expected secion ordering.
@
text
@d1 5
@


1.730
log
@gas/
2004-11-25 Jan Beulich <jbeulich@@novell.com>

	* config/tc-i386.c (optimize_imm): Adjust immediates to only those
	permissible for the selected instruction suffix.
	(process_suffix): For DefaultSize instructions, suppressing the
	guessing of a 'q' suffix if the instruction doesn't support it is
	pointless, because only an 'l' suffix can be guessed in this place.

gas/testsuite/
2004-11-25 Jan Beulich <jbeulich@@novell.com>
	* gas/i386/x86-64-inval.[sl]: Remove sahf/lahf.

include/opcode/
2004-11-25 Jan Beulich <jbeulich@@novell.com>

	* i386.h: CpuNo64 mov can't reasonably have a 'q' suffix. Moves
	to/from test registers are illegal in 64-bit mode. Add missing
	NoRex64 to sidt. fxsave/fxrstor now allow for a 'q' suffix
	(previously one had to explicitly encode a rex64 prefix). Re-enable
	lahf/sahf in 64-bit mode as at least some Athlon64/Opteron steppings
	support it there. Add cmpxchg16b as per Intel's 64-bit documentation.
@
text
@d1 4
d6 1
@


1.729
log
@2004-11-24  Paul Brook  <paul@@codesourcery.com>

bfd/
	* elf.c (assign_section_numbers): Number SHT_GROUP sections first.
gas/testsuite/
	* gas/elf/group0a.d: Adjust expected secion ordering.
	* gas/elf/group1a.d: Ditto.
	* gas/elf/section4.d: Ditto.
@
text
@d1 3
@


1.728
log
@Remove IQ10 support from IQ2000 port
@
text
@d1 6
@


1.727
log
@ Add checks for other variants of the sr and st	instruction.
@
text
@d1 39
@


1.726
log
@* config/tc-mn10300.c (md_relax_table): More fixes to the offsets in this table.
  They should be correct now.
* gas/mn10300/relax.s: Add further tests of the relaxing of branch instructions.
* gas/mn10300/relax.d: Add expected relocations.
@
text
@d1 6
@


1.725
log
@* opcode/arc-opc.c (insert_base): Modify ls_operand[LS_OFFSET] to reflect the
  change to the short immediate syntax.
* gas/arc/ld.s: Add check of load of a long immediate.
* gas/arc/ld.d: Add expected disassembly.
@
text
@d1 6
@


1.724
log
@	* gas/all/gas.exp: Run dg-runtest for all err-*.s and warn-*.s.
	* gas/all/err-1.s, gas/all/warn-1.s: New tests.
@
text
@d1 5
@


1.723
log
@Enable bfd_assembler by default for the MAXQ port.
Adjust the testsuite expected disassemblies to take this into account.
@
text
@d1 5
@


1.722
log
@bfd/
	* elf32-arm.c (PLT_THUMB_STUB_SIZE): Define.
	(elf32_arm_plt_thumb_stub): New.
	(struct elf32_arm_link_hash_entry): Add plt_thumb_refcount
	and plt_got_offset.
	(elf32_arm_link_hash_traverse): Fix typo.
	(elf32_arm_link_hash_table): Add obfd.
	(elf32_arm_link_hash_newfunc): Initialize new fields.
	(elf32_arm_copy_indirect_symbol): Copy plt_thumb_refcount.
	(elf32_arm_link_hash_table_create): Initialize obfd.
	(record_arm_to_thumb_glue): Mark the glue as a local ARM function.
	(record_thumb_to_arm_glue): Mark the glue as a local Thumb function.
	(bfd_elf32_arm_get_bfd_for_interworking): Verify that the
	interworking BFD is not dynamic.
	(bfd_elf32_arm_process_before_allocation): Handle R_ARM_PLT32.  Do
	not emit glue for PLT references.
	(elf32_arm_final_link_relocate): Handle Thumb functions.  Do not
	emit glue for PLT references.  Support the Thumb PLT prefix.
	(elf32_arm_gc_sweep_hook): Handle R_ARM_THM_PC22 and
	plt_thumb_refcount.
	(elf32_arm_check_relocs): Likewise.
	(elf32_arm_adjust_dynamic_symbol): Handle Thumb functions and
	plt_thumb_refcount.
	(allocate_dynrelocs): Handle Thumb PLT references.
	(elf32_arm_finish_dynamic_symbol): Likewise.
	(elf32_arm_symbol_processing): New function.
	(elf_backend_symbol_processing): Define.
opcodes/
	* arm-dis.c (WORD_ADDRESS): Define.
	(print_insn): Use it.  Correct big-endian end-of-section handling.
gas/testsuite/
	* gas/arm/mapping.d: Expect F markers for Thumb code.
	* gas/arm/unwind.d: Update big-endian pattern.
ld/
	* emultempl/armelf.em (arm_elf_set_bfd_for_interworking): Don't use
	a dynamic object for stubs.
ld/testsuite/
	* ld-arm/mixed-app.d, ld-arm/mixed-app.r, ld-arm/mixed-app.s,
	ld-arm/mixed-app.sym, ld-arm/mixed-lib.d, ld-arm/mixed-lib.r,
	ld-arm/mixed-lib.s, ld-arm/mixed-lib.sym, ld-arm/arm-dyn.ld,
	ld-arm/arm-lib.ld: New files.
	* ld-arm/arm-app-abs32.d, ld-arm/arm-app-abs32.r, ld-arm/arm-app.d,
	ld-arm/arm-app.r, ld-arm/arm-lib-plt32.d, ld-arm/arm-lib-plt32.r,
	ld-arm/arm-lib.d, ld-arm/arm-lib.r, ld-arm/arm-static-app.d,
	ld-arm/arm-static-app.r: Update for big-endian.
	* ld-arm/arm-elf.exp: Run the new tests.
@
text
@d1 7
@


1.721
log
@Fix off by one negative offsets for conditional branches.
Add a test of this fix.
@
text
@d1 5
@


1.720
log
@gas/
        * config/tc-xtensa.c (MAX_IMMED6): Change value to 65.
gas/testsuite/
        * gas/xtensa/short_branch_offset.s: New.
        * gas/xtensa/short_branch_offset.d: New.
        * gas/xtensa/all.exp: Run new test.
@
text
@d1 7
@


1.719
log
@	* gas/i386/opcode.s: Pad section.
	* gas/i386/intelok.s: Likewise.
	* gas/i386/opcode.d: Update.
	* gas/i386/intelok.d: Update.
@
text
@d1 6
@


1.718
log
@Add support fpr MAXQ processor
@
text
@d1 7
d88 1
a88 1
	* gas/crx/cop_insn.s: Reverse operands order in store co-processor 
d334 1
a334 1
	* gas/h8300/h8sx_rtsl.d: Likewise.	
d350 1
a350 1
	
d456 1
a456 1
	
d645 1
a645 1
	
d689 1
a689 1
	* gas/cfi/cfi-sh-1.s: Likewise.	
@


1.717
log
@2004-11-05  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/general.s: Add movzb.
	* gas/i386/general.l: Updated.
@
text
@d1 6
@


1.716
log
@	* gas/all/gas.exp: Exclude float.s for crisv32-*-*.
	* gas/cris/operand-err-1.s (test.m constant): Remove xfail marker
	and update rationale.  Mark "ba [external_symbol]" and "ba [r3]"
	as invalid.
	* gas/ieee-fp/x930509a.exp: setup_xfail for crisv32-*-*.
	* gas/macros/macros.exp: setup_xfail strings for crisv32-*-*.
	* gas/cris/abs32-1.s, gas/cris/arch-err-1.s,
	gas/cris/arch-err-2.s, gas/cris/arch-err-3.s,
	gas/cris/arch-err-4.s, gas/cris/arch-err-5.s,
	gas/cris/bound-err-1.s, gas/cris/brokw-3b.s,
	gas/cris/march-err-1.s, gas/cris/march-err-2.s,
	gas/cris/push-err-1.s, gas/cris/push-err-2.s,
	gas/cris/pushpopv32.s, gas/cris/rd-abs32-1.d,
	gas/cris/rd-abs32-2.d, gas/cris/rd-arch-1.d, gas/cris/rd-arch-2.d,
	gas/cris/rd-arch-3.d, gas/cris/rd-bkw1b.d, gas/cris/rd-bkw2b.d,
	gas/cris/rd-bkw3b.d, gas/cris/rd-bound1.d, gas/cris/rd-bound1.s,
	gas/cris/rd-bound2.d, gas/cris/rd-bound3.d, gas/cris/rd-bound4.d,
	gas/cris/rd-break32.d, gas/cris/rd-ppv1032.d, gas/cris/rd-ppv32.d,
	gas/cris/rd-spr-1.d, gas/cris/rd-spr-1.s, gas/cris/rd-usp-1.d,
	gas/cris/rd-usp-1b.d, gas/cris/rd-v10_32o-1.d,
	gas/cris/rd-v10_32o-2.d, gas/cris/rd-v10_32o-2.s,
	gas/cris/rd-v32-b1.d, gas/cris/rd-v32-b1.s, gas/cris/rd-v32-b2.d,
	gas/cris/rd-v32-b2.s, gas/cris/rd-v32-b3.d, gas/cris/rd-v32-b3.s,
	gas/cris/rd-v32-f1.d, gas/cris/rd-v32-f1.s, gas/cris/rd-v32-i1.d,
	gas/cris/rd-v32-i1.s, gas/cris/rd-v32-l1.d, gas/cris/rd-v32-l1.s,
	gas/cris/rd-v32-l3.d, gas/cris/rd-v32-l3.s, gas/cris/rd-v32-l4.d,
	gas/cris/rd-v32-l4.s, gas/cris/rd-v32o-1.d, gas/cris/rd-v32s-1.d,
	gas/cris/rd-v32s-2.d, gas/cris/rd-v32s-2.s, gas/cris/rd-v32s-3.d,
	gas/cris/rd-v32s-3.s, gas/cris/rd-v32s-4.d, gas/cris/rd-v32s-4.s,
	gas/cris/rd-vao-1.d, gas/cris/v32-err-1.s, gas/cris/v32-err-10.s,
	gas/cris/v32-err-11.s, gas/cris/v32-err-2.s, gas/cris/v32-err-3.s,
	gas/cris/v32-err-4.s, gas/cris/v32-err-5.s, gas/cris/v32-err-6.s,
	gas/cris/v32-err-7.s, gas/cris/v32-err-8.s, gas/cris/v32-err-9.s:
	New tests.
@
text
@d1 5
@


1.715
log
@Format last entry
@
text
@d1 37
@


1.714
log
@gas/
2004-11-04 Jan Beulich <jbeulich@@novell.com>

	* config/tc-i386.c (set_intel_syntax): Allow % in symbol names when
	intel syntax and no register prefix, allow $ in symbol names when
	intel syntax.
	(set_16bit_gcc_code_flag): Replace literal 'l' by LONG_MNEM_SUFFIX.
	(intel_float_operand): Add fourth return value indicating math control
	operations. Make classification more precise.
	(md_assemble): Complain if memory operand of mov[sz]x has no size
	specified.
	(parse_insn): Translate word operands to floating point instructions
	operating on integers as well as control instructions to short ones
	as expected by AT&T syntax. Translate 'd' suffix to short one only for
	floating point instructions operating on non-integer operands.
	(match_template): Remove fldcw special case. Adjust q-suffix handling
	to permit it on fild/fistp/fisttp in AT&T mode.
	(process_suffix): Don't guess DefaultSize insns' suffix from
	stackop_size for certain floating point control instructions. Guess
	suffix for branch and [ls][gi]dt based on flag_code. Split error
	messages for Intel and AT&T syntax, and make the condition more strict
	for the former. Adjust suppressing of generation of operand size
	overrides.
	(intel parser): Allow the full set of MASM operators. Add FWORD, TBYTE,
	OWORD, and XMMWORD operand size specifiers (TBYTE replaces XWORD). Add
	more error checking.
	* config/tc-i386.h (BYTE_PTR WORD_PTR DWORD_PTR QWORD_PTR XWORD_PTR
	SHORT OFFSET_FLAT FLAT NONE_FOUND): Remove unused defines.

gas/testsuite/
2004-11-04 Jan Beulich <jbeulich@@novell.com>
	* gas/i386/i386.exp: Execute new tests intelbad and intelok.
	* gas/i386/intelbad.[sl]: New test to check for various things not
	permitted in Intel mode.
	* gas/i386/intel.d, gas/i386/opcode.d, gas/i386/x86-64-opcode.d:
	Adjust for change to segment register store.
	* gas/i386/intelok.[sd]: New test to check various Intel mode specific
	things get handled correctly.
	* gas/i386/x86_64.[sd]: Remove unsupported constructs referring to
	'high' and 'low' parts of an operand, which the parser previously
	accepted while neither telling that it's not supported nor that it
	ignored the remainder of the line following these supposed keywords.

include/opcode/
2004-11-04 Jan Beulich <jbeulich@@novell.com>

	* i386.h (sldx_Suf): Remove.
	(FP, l_FP, sl_FP, x_FP): Don't imply IgnoreSize.
	(q_FP): Define, implying no REX64.
	(x_FP, sl_FP): Imply FloatMF.
	(i386_optab): Split reg and mem forms of moving from segment registers
	so that the memory forms can ignore the 16-/32-bit operand size
	distinction. Adjust a few others for Intel mode. Remove *FP uses from
	all non-floating-point instructions. Unite 32- and 64-bit forms of
	movsx, movzx, and movd. Adjust floating point operations for the above
	changes to the *FP macros. Add DefaultSize to floating point control
	insns operating on larger memory ranges. Remove left over comments
	hinting at certain insns being Intel-syntax ones where the ones
	actually meant are already gone.

opcodes/
2004-11-04 Jan Beulich <jbeulich@@novell.com>

	* i386-dis.c (Eq, Edqw, indirEp, Gdq, I1): Define.
	(indirEb): Remove.
	(Mp): Use f_mode rather than none at all.
	(t_mode, dq_mode, dqw_mode, f_mode, const_1_mode): Define. t_mode
	replaces what previously was x_mode; x_mode now means 128-bit SSE
	operands.
	(dis386): Make far jumps and calls have an 'l' prefix only in AT&T
	mode. movmskpX's, pextrw's, and pmovmskb's first operands are Gdq.
	pinsrw's second operand is Edqw.
	(grps): 1-bit shifts' and rotates' second operands are I1. cmpxchg8b's
	operand is Eq. movntq's and movntdq's first operands are EM. s[gi]dt,
	fldenv, frstor, fsave, fstenv all should also have suffixes in Intel
	mode when an operand size override is present or always suffixing.
	More instructions will need to be added to this group.
	(putop): Handle new macro chars 'C' (short/long suffix selector),
	'I' (Intel mode override for following macro char), and 'J' (for
	adding the 'l' prefix to far branches in AT&T mode). When an
	alternative was specified in the template, honor macro character when
	specified for Intel mode.
	(OP_E): Handle new *_mode values. Correct pointer specifications for
	memory operands. Consolidate output of index register.
	(OP_G): Handle new *_mode values.
	(OP_I): Handle const_1_mode.
	(OP_ESreg, OP_DSreg): Generate pointer specifications. Indicate
	respective opcode prefix bits have been consumed.
	(OP_EM, OP_EX): Provide some default handling for generating pointer
	specifications.
@
text
@d2 1
@


1.713
log
@2004-10-28  Tomer Levi  <Tomer.Levi@@nsc.com>

* gas/crx/cop_insn.d: Regenerate (after a bug fix in Assembler).
@
text
@d1 13
@


1.712
log
@2004-10-27  Tomer Levi  <Tomer.Levi@@nsc.com>

* gas/crx/cop_insn.s: Test new Co-Processor instruction 'cpi'.
* gas/crx/list_insn.s: Add hi/lo/u<N> registers tests, fix test bugs.
* gas/crx/cop_insn.d: Regenerate.
* gas/crx/list_insn.d: Likewise.
@
text
@d1 4
@


1.711
log
@Add ARM CFI support
@
text
@d1 7
@


1.710
log
@'gas/crx' update
@
text
@d1 5
@


1.709
log
@	* gas/arm/mapping.d: Pass --special-syms to objdump.
@
text
@d1 8
@


1.708
log
@bfd/
	* config.bfd: Include 64-bit support for i[3-7]86-*-solaris2*.
	* elf64-x86-64.c (elf64_x86_64_section_from_shdr): New function.
	(elf_backend_section_from_shdr): Define.
binutils/
	* readelf.c (get_x86_64_section_type_name): New function.
	(get_section_type_name): Use it.
gas/
	* config/tc-i386.c: Include "elf/x86-64.h".
	(i386_elf_section_type): New function.
	* config/tc-i386.h (md_elf_section_type): Define.
	(i386_elf_section_type): New prototype.
gas/testsuite/
	* gas/i386/i386.exp: Don't run divide test for targets where '/'
	is a comment.  Run x86-64-unwind for 64-bit ELF targets.
	* gas/i386/x86-64-unwind.d, gas/i386/x86-64-unwind.s: New.
include/
	* elf/common.h (PT_SUNW_EH_FRAME): Define.
	* elf/x86-64.h (SHT_X86_64_UNWIND): Define.
ld/
	* configure.tgt: Include elf_x86_64 for i[3-7]86-*-solaris2*.
@
text
@d1 4
@


1.707
log
@	* gas/cfi/cfi-common-4.d: Correct for 64 bit targets.
@
text
@d1 6
@


1.706
log
@bfd ChangeLog

	* elf32-xtensa.c (elf32xtensa_size_opt): New global variable.
	(xtensa_default_isa): Global variable moved here from xtensa-isa.c.
	(elf32xtensa_no_literal_movement): New global variable.
	(elf_howto_table): Add entries for new relocations.
	(elf_xtensa_reloc_type_lookup): Handle new relocations.
	(property_table_compare): When addresses are equal, compare sizes and
	various property flags.
	(property_table_matches): New.
	(xtensa_read_table_entries): Extend to read new property tables.  Add
	output_addr parameter to indicate that output addresses should be used.
	Use bfd_get_section_limit.
	(elf_xtensa_find_property_entry): New.
	(elf_xtensa_in_literal_pool): Use elf_xtensa_find_property_entry.
	(elf_xtensa_check_relocs): Handle new relocations.
	(elf_xtensa_do_reloc): Use bfd_get_section_limit.  Handle new
	relocations.  Use new xtensa-isa.h functions.
	(build_encoding_error_message): Remove encode_result parameter.  Add
	new target_address parameter used to detect alignment errors.
	(elf_xtensa_relocate_section): Use bfd_get_section_limit.  Clean up
	error handling.  Use new is_operand_relocation function.
	(elf_xtensa_combine_prop_entries, elf_xtensa_merge_private_bfd_data):
	Use underbar macro for error messages.  Formatting.
	(get_const16_opcode): New.
	(get_l32r_opcode): Add a separate flag for initialization.
	(get_relocation_opnd): Operand number is no longer explicit in the
	relocation.  Change to decode the opcode and analyze its operands.
	(get_relocation_slot): New.
	(get_relocation_opcode): Add bfd parameter.  Use bfd_get_section_limit.
	Use new xtensa-isa.h functions to handle multislot instructions.
	(is_l32r_relocation): Add bfd parameter.  Use is_operand_relocation.
	(get_asm_simplify_size, is_alt_relocation, is_operand_relocation,
	insn_decode_len, insn_decode_opcode, check_branch_target_aligned,
	check_loop_aligned, check_branch_target_aligned_address, narrowable,
	widenable, narrow_instruction, widen_instruction, op_single_fmt_table,
	get_single_format, init_op_single_format_table): New.
	(elf_xtensa_do_asm_simplify): Add error_message parameter and use it
	instead of calling _bfd_error_handler.  Use new xtensa-isa.h functions.
	(contract_asm_expansion): Add error_message parameter and pass it to
	elf_xtensa_do_asm_simplify.  Replace use of R_XTENSA_OP0 relocation
	with R_XTENSA_SLOT0_OP.
	(get_expanded_call_opcode): Extend to handle either L32R or CONST16
	instructions.  Use new xtensa-isa.h functions.
	(r_reloc struct): Add new virtual_offset field.
	(r_reloc_init): Add contents and content_length parameters.  Set
	virtual_offset field to zero.  Add contents to target_offset field for
	partial_inplace relocations.
	(r_reloc_is_defined): Check for null.
	(print_r_reloc): New debug function.
	(source_reloc struct): Replace xtensa_operand field with pair of the
	opcode and the operand position.  Add is_abs_literal field.
	(init_source_reloc): Specify operand by opcode/position pair.  Set
	is_abs_literal field.
	(source_reloc_compare): When target_offsets are equal, compare other
	fields to make sorting predictable.
	(literal_value struct): Add is_abs_literal field.
	(value_map_hash_table struct): Add has_last_loc and last_loc fields.
	(init_literal_value): New.
	(is_same_value): Replace with ...
	(literal_value_equal): ... this function.  Add comparisons of
	virtual_offset and is_abs_literal fields.
	(value_map_hash_table_init): Use bfd_zmalloc.  Check for allocation
	failure.  Initialize has_last_loc field.
	(value_map_hash_table_delete): New.
	(hash_literal_value): Rename to ...
	(literal_value_hash): ... this.  Include is_abs_literal flag and
	virtual_offset field in the hash value.
	(get_cached_value): Rename to ...
	(value_map_get_cached_value): ... this.  Update calls to
	literal_value_hash and literal_value_equal.
	(add_value_map): Check for allocation failure.  Update calls to
	value_map_get_cached_value and literal_value_hash.
	(text_action, text_action_list, text_action_t): New types.
	(find_fill_action, compute_removed_action_diff, adjust_fill_action,
	text_action_add, text_action_add_literal, offset_with_removed_text,
	offset_with_removed_text_before_fill, find_insn_action,
	print_action_list, print_removed_literals): New.
	(offset_with_removed_literals): Delete.
	(xtensa_relax_info struct): Add is_relaxable_asm_section, action_list,
	fix_array, fix_array_count, allocated_relocs, relocs_count, and
	allocated_relocs_count fields.
	(init_xtensa_relax_info): Initialize new fields.
	(reloc_bfd_fix struct): Add new translated field.
	(reloc_bfd_fix_init): Add translated parameter and use it to set the
	translated field.
	(fix_compare, cache_fix_array): New.
	(get_bfd_fix): Remove fix_list parameter and get all relax_info for the
	section via get_xtensa_relax_info.  Use cache_fix_array to set up
	sorted fix_array and use bsearch instead of linear search.
	(section_cache_t): New struct.
	(init_section_cache, section_cache_section, clear_section_cache): New.
	(ebb_t, ebb_target_enum, proposed_action, ebb_constraint): New types.
	(init_ebb_constraint, free_ebb_constraint, init_ebb, extend_ebb_bounds,
	extend_ebb_bounds_forward, extend_ebb_bounds_backward,
	insn_block_decodable_len, ebb_propose_action, ebb_add_proposed_action):
	New.
	(retrieve_contents): Use bfd_get_section_limit.
	(elf_xtensa_relax_section): Add relocations_analyzed flag.  Update call
	to compute_removed_literals.  Free value_map_hash_table when no longer
	needed.
	(analyze_relocations): Check is_relaxable_asm_section flag.  Call
	compute_text_actions for all sections.
	(find_relaxable_sections): Mark sections as relaxable if they contain
	ASM_EXPAND relocations that can be optimized.  Adjust r_reloc_init
	call.  Increment relax_info src_count field only for appropriate
	relocation types.  Remove is_literal_section check.
	(collect_source_relocs): Use bfd_get_section_limit.  Adjust calls to
	r_reloc_init and find_associated_l32r_irel.  Check
	is_relaxable_asm_section flag.  Handle L32R instructions with absolute
	literals.  Pass is_abs_literal flag to init_source_reloc.
	(is_resolvable_asm_expansion): Use bfd_get_section_limit.  Check for
	CONST16 instructions.  Adjust calls to r_reloc_init and
	pcrel_reloc_fits.  Handle weak symbols conservatively.
	(find_associated_l32r_irel): Add bfd parameter and pass it to
	is_l32r_relocation.
	(compute_text_actions, compute_ebb_proposed_actions,
	compute_ebb_actions, check_section_ebb_pcrels_fit,
	check_section_ebb_reduces, text_action_add_proposed,
	compute_fill_extra_space): New.
	(remove_literals): Replace with ...
	(compute_removed_literals): ... this function.  Call
	init_section_cache.  Use bfd_get_section_limit.  Sort internal_relocs.
	Call xtensa_read_table_entries to get the property table.  Skip
	relocations other than R_XTENSA_32 and R_XTENSA_PLT.  Use new
	is_removable_literal, remove_dead_literal, and
	identify_literal_placement functions.
	(get_irel_at_offset): Rewrite to use bsearch on sorted relocations
	instead of linear search.
	(is_removable_literal, remove_dead_literal,
	identify_literal_placement): New.
	(relocations_reach): Update check for literal not referenced by any
	PC-relative relocations.  Adjust call to pcrel_reloc_fits.
	(coalesce_shared_literal, move_shared_literal): New.
	(relax_section): Use bfd_get_section_limit.  Call
	translate_section_fixes.  Update calls to r_reloc_init and
	offset_with_removed_text.  Check new is_relaxable_asm_section flag.
	Add call to pin_internal_relocs.  Add special handling for
	R_XTENSA_ASM_SIMPLIFY and R_XTENSA_DIFF* relocs.  Use virtual_offset
	info to calculate new addend_displacement variable.  Replace code for
	deleting literals with more general code to perform the actions
	determined by the action_list for the section.
	(translate_section_fixes, translate_reloc_bfd_fix): New.
	(translate_reloc): Check new is_relaxable_asm_section flag.  Call
	find_removed_literal only if is_operand_relocation.  Update call to
	offset_with_removed_text.  Use new target_offset and removed_bytes
	variables.
	(move_literal): New.
	(relax_property_section):  Use bfd_get_section_limit.  Set new
	is_full_prop_section flag and handle new property tables.  Update calls
	to r_reloc_init and offset_with_removed_text.  Check
	is_relaxable_asm_section flag.  Handle expansion of zero-sized
	unreachable entries, with use of offset_with_removed_text_before_fill.
	For relocatable links, combine entries only for literal tables.
	(relax_section_symbols): Check is_relaxable_asm_section flag.  Update
	calls to offset_with_removed_text.  Translate st_size field for
	function symbols.
	(do_fix_for_relocatable_link): Change to return bfd_boolean to indicate
	failure.  Add contents parameter.  Update call to get_bfd_fix.  Update
	call to r_reloc_init.  Call _bfd_error_handler and return FALSE for
	R_XTENSA_ASM_EXPAND relocs.
	(do_fix_for_final_link): Add input_bfd and contents parameters.  Update
	call to get_bfd_fix.  Include offset from contents for partial_inplace
	relocations.
	(is_reloc_sym_weak): New.
	(pcrel_reloc_fits): Use new xtensa-isa.h functions.
	(prop_sec_len): New.
	(xtensa_is_property_section): Handle new property sections.
	(is_literal_section): Delete.
	(internal_reloc_compare): When r_offset matches, compare r_info and
	r_addend to make sorting predictable.
	(internal_reloc_matches): New.
	(xtensa_get_property_section_name): Handle new property sections.
	(xtensa_get_property_predef_flags): New.
	(xtensa_callback_required_dependence): Use bfd_get_section_limit.
	Update calls to xtensa_isa_init, is_l32r_relocation, and r_reloc_init.
	* xtensa-isa.c (xtensa_default_isa): Moved to elf32-xtensa.c.
	(xtisa_errno, xtisa_error_msg): New variables.
	(xtensa_isa_errno, xtensa_isa_error_msg): New.
	(xtensa_insnbuf_alloc): Add error handling.
	(xtensa_insnbuf_to_chars): Add num_chars parameter.  Update to
	use xtensa_format_decode.  Add error handling.
	(xtensa_insnbuf_from_chars): Add num_chars parameter.  Decode the
	instruction length to find the number of bytes to copy.
	(xtensa_isa_init): Add error handling.  Replace calls to
	xtensa_load_isa and xtensa_extend_isa with code to initialize lookup
	tables in the xtensa_modules structure.
	(xtensa_check_isa_config, xtensa_add_isa, xtensa_load_isa,
	xtensa_extend_isa): Delete.
	(xtensa_isa_free): Change to only free lookup tables.
	(opname_lookup_compare): Replace with ...
	(xtensa_isa_name_compare): ... this function.  Use strcasecmp.
	(xtensa_insn_maxlength): Rename to ...
	(xtensa_isa_maxlength): ... this.
	(xtensa_insn_length): Delete.
	(xtensa_insn_length_from_first_byte): Replace with ...
	(xtensa_isa_length_from_chars): ... this function.
	(xtensa_num_opcodes): Rename to ...
	(xtensa_isa_num_opcodes): ... this.
	(xtensa_isa_num_pipe_stages, xtensa_isa_num_formats,
	xtensa_isa_num_regfiles, xtensa_isa_num_stages,
	xtensa_isa_num_sysregs, xtensa_isa_num_interfaces,
	xtensa_isa_num_funcUnits, xtensa_format_name, xtensa_format_lookup,
	xtensa_format_decode, xtensa_format_encode, xtensa_format_length,
	xtensa_format_num_slots, xtensa_format_slot_nop_opcode,
	xtensa_format_get_slot, xtensa_format_set_slot): New functions.
	(xtensa_opcode_lookup): Add error handling.
	(xtensa_decode_insn): Replace with ...
	(xtensa_opcode_decode): ... this function, with new format and
	slot parameters.  Add error handling.
	(xtensa_encode_insn): Replace with ...
	(xtensa_opcode_encode): ... this function, which does the encoding via
	one of the entries in the "encode_fns" array.  Add error handling.
	(xtensa_opcode_name): Add error handling.
	(xtensa_opcode_is_branch, xtensa_opcode_is_jump, xtensa_opcode_is_loop,
	xtensa_opcode_is_call): New.
	(xtensa_num_operands): Replace with ...
	(xtensa_opcode_num_operands): ... this function.  Add error handling.
	(xtensa_opcode_num_stateOperands,
	xtensa_opcode_num_interfaceOperands, xtensa_opcode_num_funcUnit_uses,
	xtensa_opcode_funcUnit_use, xtensa_operand_name,
	xtensa_operand_is_visible): New.
	(xtensa_get_operand, xtensa_operand_kind): Delete.
	(xtensa_operand_inout): Add error handling and special-case for
	"sout" operands.
	(xtensa_operand_get_field, xtensa_operand_set_field): Rewritten to
	operate on one slot of an instruction.  Added error handling.
	(xtensa_operand_encode): Handle default operands with no encoding
	functions.  Check for success by comparing against decoded value.
	Add error handling.
	(xtensa_operand_decode): Handle default operands.  Return decoded value
	through argument pointer.  Add error handling.
	(xtensa_operand_is_register, xtensa_operand_regfile,
	xtensa_operand_num_regs, xtensa_operand_is_known_reg): New.
	(xtensa_operand_isPCRelative): Rename to ...
	(xtensa_operand_is_PCrelative): ... this.  Add error handling.
	(xtensa_operand_do_reloc, xtensa_operand_undo_reloc): Return value
	through argument pointer.  Add error handling.
	(xtensa_stateOperand_state, xtensa_stateOperand_inout,
	xtensa_interfaceOperand_interface, xtensa_regfile_lookup,
	xtensa_regfile_lookup_shortname, xtensa_regfile_name,
	xtensa_regfile_shortname, xtensa_regfile_view_parent,
	xtensa_regfile_num_bits, xtensa_regfile_num_entries,
	xtensa_state_lookup, xtensa_state_name, xtensa_state_num_bits,
	xtensa_state_is_exported, xtensa_sysreg_lookup,
	xtensa_sysreg_lookup_name, xtensa_sysreg_name, xtensa_sysreg_number,
	xtensa_sysreg_is_user, xtensa_interface_lookup, xtensa_interface_name,
	xtensa_interface_num_bits, xtensa_interface_inout,
	xtensa_interface_has_side_effect, xtensa_funcUnit_lookup,
	xtensa_funcUnit_name, xtensa_funcUnit_num_copies): New.
	* xtensa-modules.c: Rewrite to use new data structures.
	* reloc.c (BFD_RELOC_XTENSA_DIFF8, BFD_RELOC_XTENSA_DIFF16,
	BFD_RELOC_XTENSA_DIFF32, BFD_RELOC_XTENSA_SLOT0_OP,
	BFD_RELOC_XTENSA_SLOT1_OP, BFD_RELOC_XTENSA_SLOT2_OP,
	BFD_RELOC_XTENSA_SLOT3_OP, BFD_RELOC_XTENSA_SLOT4_OP,
	BFD_RELOC_XTENSA_SLOT5_OP, BFD_RELOC_XTENSA_SLOT6_OP,
	BFD_RELOC_XTENSA_SLOT7_OP, BFD_RELOC_XTENSA_SLOT8_OP,
	BFD_RELOC_XTENSA_SLOT9_OP, BFD_RELOC_XTENSA_SLOT10_OP,
	BFD_RELOC_XTENSA_SLOT11_OP, BFD_RELOC_XTENSA_SLOT12_OP,
	BFD_RELOC_XTENSA_SLOT13_OP, BFD_RELOC_XTENSA_SLOT14_OP,
	BFD_RELOC_XTENSA_SLOT0_ALT, BFD_RELOC_XTENSA_SLOT1_ALT,
	BFD_RELOC_XTENSA_SLOT2_ALT, BFD_RELOC_XTENSA_SLOT3_ALT,
	BFD_RELOC_XTENSA_SLOT4_ALT, BFD_RELOC_XTENSA_SLOT5_ALT,
	BFD_RELOC_XTENSA_SLOT6_ALT, BFD_RELOC_XTENSA_SLOT7_ALT,
	BFD_RELOC_XTENSA_SLOT8_ALT, BFD_RELOC_XTENSA_SLOT9_ALT,
	BFD_RELOC_XTENSA_SLOT10_ALT, BFD_RELOC_XTENSA_SLOT11_ALT,
	BFD_RELOC_XTENSA_SLOT12_ALT, BFD_RELOC_XTENSA_SLOT13_ALT,
	BFD_RELOC_XTENSA_SLOT14_ALT): Add new relocations.
	* Makefile.am (xtensa-isa.lo, xtensa-modules.lo): Update dependencies.
	* Makefile.in: Regenerate.
	* bfd-in2.h: Likewise.
	* libbfd.h: Likewise.

gas ChangeLog

	* config/tc-xtensa.c (absolute_literals_supported): New global flag.
	(UNREACHABLE_MAX_WIDTH): Define.
	(XTENSA_FETCH_WIDTH): Delete.
	(cur_vinsn, xtensa_fetch_width, xt_saved_debug_type, past_xtensa_end,
	prefer_const16, prefer_l32r): New global variables.
	(LIT4_SECTION_NAME): Define.
	(lit4_state struct): Add lit4_seg_name and lit4_seg fields.
	(XTENSA_PROP_*, GET_XTENSA_PROP_*, SET_XTENSA_PROP_*): Define.
	(frag_flags struct): New.
	(xtensa_block_info struct): Move from tc-xtensa.h.  Add flags field.
	(subseg_map struct): Add cur_total_freq and cur_target_freq fields.
	(bitfield, bit_is_set, set_bit, clear_bit): Define.
	(MAX_FORMATS): Define.
	(op_placement_info struct, op_placement_table): New.
	(O_pltrel, O_hi16, O_lo16): Define.
	(directiveE enum): Rename directive_generics to directive_transform.
	Delete directive_relax.  Add directive_schedule,
	directive_absolute_literals, and directive_last_directive.
	(directive_info): Rename "generics" to "transform".  Delete "relax".
	Add "schedule" and "absolute-literals".
	(directive_state): Adjust entries to match changes in directive_info.
	(xtensa_relax_statesE, RELAX_IMMED_MAXSTEPS): Move to tc-xtensa.h.
	(xtensa_const16_opcode, xtensa_movi_opcode, xtensa_movi_n_opcode,
	xtensa_l32r_opcode, xtensa_nop_opcode, xtensa_rsr_lcount_opcode): New.
	(xtensa_j_opcode, xtensa_rsr_opcode): Delete.
	(align_only_targets, software_a0_b_retw_interlock,
	software_avoid_b_j_loop_end, maybe_has_b_j_loop_end,
	software_avoid_short_loop, software_avoid_close_loop_end,
	software_avoid_all_short_loops, specific_opcode): Delete.
	(warn_unaligned_branch_targets): New.
	(workaround_a0_b_retw, workaround_b_j_loop_end, workaround_short_loop,
	workaround_close_loop_end, workaround_all_short_loops): Default FALSE.
	(option_[no_]link_relax, option_[no_]transform,
	option_[no_]absolute_literals, option_warn_unaligned_targets,
	option_prefer_l32r, option_prefer_const16, option_target_hardware):
	New enum values.
	(option_[no_]align_only_targets, option_literal_section_name,
	option_text_section_name, option_data_section_name,
	option_bss_section_name, option_eb, option_el): Delete.
	(md_longopts): Add entries for: [no-]transform, [no-]absolute-literals,
	warn-unaligned-targets, prefer-l32r, prefer-const16, [no-]link-relax,
	and target-hardware.  Delete entries for [no-]target-align-only,
	literal-section-name, text-section-name, data-section-name, and
	bss-section-name.
	(md_parse_option): Handle new options and remove old ones.  Accept but
	ignore [no-]density options.  Warn for [no-]generics and [no-]relax
	and treat them as [no-]transform.
	(md_show_usage): Add new options and remove old ones.
	(xtensa_setup_hw_workarounds): New.
	(md_pseudo_table): Change "word" entry to use xtensa_elf_cons.  Add
	"long", "short", "loc" and "frequency" entries.
	(use_generics): Rename to ...
	(use_transform): ... this function.  Add past_xtensa_end check.
	(use_longcalls): Add past_xtensa_end check.
	(code_density_available, can_relax): Delete.
	(do_align_targets): New.
	(get_directive): Accept dashes in directive names.  Warn about
	[no-]generics and [no-]relax directives and treat them as
	[no-]transform.
	(xtensa_begin_directive): Call md_flush_pending_output only for some
	directives.  Check for directives inside instruction bundles.  Warn
	about deprecated ".begin literal" usage.  Warn and ignore [no-]density
	directives.  Handle new directives.  Check generating_literals flag
	for literal_prefix.
	(xtensa_end_directive): Check for directives inside instruction
	bundles.  Warn and ignore [no-]density directives.  Handle new
	directives.  Call xtensa_set_frag_assembly_state.
	(xtensa_loc_directive_seen, xtensa_dwarf2_directive_loc,
	xtensa_dwarf2_emit_insn): New.
	(xtensa_literal_position): Call md_flush_pending_output.  Do not check
	use_literal_section flag.
	(xtensa_literal_pseudo): Call md_flush_pending_output.  Handle absolute
	literals.  Use xtensa_elf_cons to parse the expression.
	(xtensa_literal_prefix): Do not check use_literal_section.  Support
	".lit4" sections for absolute literals.  Change prefix convention to
	replace ".text" (or ".t" in a linkonce section).  No need to call
	subseg_set.
	(xtensa_frequency_pseudo, xtensa_elf_cons, xtensa_elf_suffix): New.
	(expression_end): Handle closing braces and colons.
	(PLT_SUFFIX, plt_suffix): Delete.
	(expression_maybe_register): Use new xtensa-isa.h functions.  Use
	xtensa_elf_suffix instead of checking for plt suffix, and handle O_lo16
	and O_hi16 expressions as well.
	(tokenize_arguments): Handle closing braces and colons.
	(parse_arguments): Use new xtensa-isa.h functions.  Handle "invisible"
	operands and paired register syntax.
	(get_invisible_operands): New.
	(xg_translate_sysreg_op): Handle new Xtensa LX RSR/WSR/XSR syntax.  Use
	new xtensa-isa.h functions.
	(xtensa_translate_old_userreg_ops, xtensa_translate_zero_immed): New.
	(xg_translate_idioms): Check if inside bundle.  Use use_transform.
	Handle new Xtensa LX RSR/WSR/XSR syntax.  Remove code to widen density
	instructions.  Use xtensa_translate_zero_immed.
	(operand_is_immed, operand_is_pcrel_label): Delete.
	(get_relaxable_immed): Use new xtensa-isa.h functions.
	(get_opcode_from_buf): Add slot parameter.  Use new xtensa-isa.h
	functions.
	(xtensa_print_insn_table, print_vliw_insn): New.
	(is_direct_call_opcode): Use new xtensa-isa.h functions.
	(is_call_opcode, is_loop_opcode, is_conditional_branch_opcode,
	is_branch_or_jump_opcode): Delete.
	(is_movi_opcode, decode_reloc, encode_reloc, encode_alt_reloc): New.
	(opnum_to_reloc, reloc_to_opnum): Delete.
	(xtensa_insnbuf_set_operand, xtensa_insnbuf_get_operand): Use new
	xtensa-isa.h functions.  Operate on one slot of an instruction.
	(xtensa_insnbuf_set_immediate_field, is_negatable_branch,
	xg_get_insn_size): Delete.
	(xg_get_build_instr_size): Use xg_get_single_size.
	(xg_is_narrow_insn, xg_is_single_relaxable_insn): Update calls to
	xg_build_widen_table.  Use xg_get_single_size.
	(xg_get_max_narrow_insn_size): Delete.
	(xg_get_max_insn_widen_size, xg_get_max_insn_widen_literal_size,
	xg_is_relaxable_insn): Update calls to xg_build_widen_table.  Use
	xg_get_single_size.
	(xg_build_to_insn): Record the loc field.  Handle OP_OPERAND_HI16U and
	OP_OPERAND_LOW16U.  Check xg_valid_literal_expression.
	(xg_expand_to_stack, xg_expand_narrow): Update calls to
	xg_build_widen_table.  Use xg_get_single_size.
	(xg_immeds_fit): Use new xtensa-isa.h functions.  Update call to
	xg_check_operand.
	(xg_symbolic_immeds_fit): Likewise.  Also handle O_lo16 and O_hi16, and
	treat weak symbols conservatively.
	(xg_check_operand): Use new xtensa-isa.h functions.
	(is_dnrange): Delete.
	(xg_assembly_relax): Inline previous calls to tinsn_copy.
	(xg_finish_frag): Specify separate relax states for the frag and slot0.
	(is_branch_jmp_to_next, xg_add_branch_and_loop_targets): Use new
	xtensa-isa.h functions.
	(xg_instruction_matches_option_term, xg_instruction_matches_or_options,
	xg_instruction_matches_options): New.
	(xg_instruction_matches_rule): Handle O_register expressions.  Call
	xg_instruction_matches_options.
	(transition_rule_cmp): New.
	(xg_instruction_match): Update call to xg_build_simplify_table.
	(xg_build_token_insn): Record loc fields.
	(xg_simplify_insn): Check is_specific_opcode field and
	density_supported flag.
	(xg_expand_assembly_insn): Skip checking code_density_available.  Use
	new xtensa-isa.h functions.  Call use_transform instead of can_relax.
	(xg_assemble_literal): Add error handling for O_big.  Call
	record_alignment.  Handle O_pltrel.
	(xg_valid_literal_expression): New.
	(xg_assemble_literal_space): Add slot parameter.  Remove call to
	set_expr_symbol_offset.  Add call to record_alignment.  Update call to
	xg_finish_frag.
	(xg_emit_insn): Delete.
	(xg_emit_insn_to_buf): Add format parameter.  Update calls to
	xg_add_opcode_fix and xtensa_insnbuf_to_chars.
	(xg_add_opcode_fix): Change opcode parameter to tinsn and add format
	and slot parameters.  Handle new "alternate" relocations for absolute
	literals and CONST16 instructions.  Check for bad uses of O_lo16 and
	O_hi16.  Use new xtensa-isa.h functions.
	(xg_assemble_tokens): Delete.
	(is_register_writer): Use new xtensa-isa.h functions.
	(is_bad_loopend_opcode): Check for xtensa_rsr_lcount_opcode instead of
	old-style RSR from LCOUNT.
	(next_frag_opcode): Delete.
	(next_frag_opcode_is_loop, next_frag_format_size, frag_format_size,
	update_next_frag_state): New.
	(update_next_frag_nop_state): Delete.
	(next_frag_pre_opcode_bytes): Use next_frag_opcode_is_loop.
	(xtensa_mark_literal_pool_location): Check use_literal_section flag and
	the state of the absolute-literals directive.  Add calls to
	record_alignment and xtensa_set_frag_assembly_state.  Call
	xtensa_switch_to_non_abs_literal_fragment instead of
	xtensa_switch_to_literal_fragment.
	(build_nop): New.
	(assemble_nop): Use build_nop.  Update call to xtensa_insnbuf_to_chars.
	(get_expanded_loop_offset): Change check for undefined opcode to an
	assertion.
	(xtensa_set_frag_assembly_state, relaxable_section,
	xtensa_find_unmarked_state_frags, xtensa_find_unaligned_branch_targets,
	xtensa_find_unaligned_loops, xg_apply_tentative_value): New.
	(md_begin): Update call to xtensa_isa_init.  Initialize linkrelax to 1.
	Set lit4_seg_name.  Call xg_init_vinsn.  Initialize new global opcodes.
	Call init_op_placement_info_table and xtensa_set_frag_assembly_state.
	(xtensa_init_fix_data): New.
	(xtensa_frob_label): Reset label symbol to the current frag.  Check
	do_align_targets and generating_literals flag.  Propagate frequency
	info to new alignment frag.  Call xtensa_set_frag_assembly_state.
	(xtensa_unrecognized_line): New.
	(xtensa_flush_pending_output): Check if inside a bundle.  Add a call
	to xtensa_set_frag_assembly_state.
	(error_reset_cur_vinsn): New.
	(md_assemble): Remove check for literal frag.  Remove call to
	istack_init.  Call use_transform instead of use_generics.  Parse
	explicit instruction format specifiers.  Move code for
	a0_b_retw_interlock workaround to xg_assemble_vliw_tokens.  Call
	error_reset_cur_vinsn on errors.  Add call to get_invisible_operands.
	Add dwarf2_where call.  Remote automatic alignment for ENTRY
	instructions.  Move call to xtensa_clear_insn_labels to the end.
	Rearrange to handle bundles.
	(xtensa_cons_fix_new): Delete.
	(xtensa_handle_align): New.
	(xtensa_frag_init): Call xtensa_set_frag_assembly_state.  Remove
	assignment to is_no_density field.
	(md_pcrel_from): Use new xtensa-isa.h functions.  Use decode_reloc
	instead of reloc_to_opnum.  Handle "alternate" relocations.
	(xtensa_force_relocation, xtensa_check_inside_bundle,
	xtensa_elf_section_change_hook): New.
	(xtensa_symbol_new_hook): Delete.
	(xtensa_fix_adjustable): Check for difference of symbols with an
	offset.  Check for external and weak symbols.
	(md_apply_fix3): Remove cases for XTENSA_OP{0,1,2} relocs.
	(md_estimate_size_before_relax): Return expansion for the first slot.
	(tc_gen_reloc): Handle difference of symbols by producing
	XTENSA_DIFF{8,16,32} relocs and by writing the value of the difference
	into the output.  Handle new XTENSA_SLOT*_OP relocs by storing the
	tentative values into the output when linkrelax is set.
	(XTENSA_PROP_SEC_NAME): Define.
	(xtensa_post_relax_hook): Call xtensa_find_unmarked_state_frags.
	Create literal tables only if using literal sections.  Create new
	property tables instead of old instruction tables.  Check for unaligned
	branch targets and loops.
	(finish_vinsn, find_vinsn_conflicts, check_t1_t2_reads_and_writes,
	new_resource_table, clear_resource_table, resize_resource_table,
	resources_available, reserve_resources, release_resources,
	opcode_funcUnit_use_unit, opcode_funcUnit_use_stage,
	resources_conflict, xg_find_narrowest_format, relaxation_requirements,
	bundle_single_op, emit_single_op, xg_assemble_vliw_tokens): New.
	(xtensa_end): Call xtensa_flush_pending_output.  Set past_xtensa_end
	flag.  Update checks for workaround options.  Call
	xtensa_mark_narrow_branches and xtensa_mark_zcl_first_insns.
	(xtensa_cleanup_align_frags): Add special case for branch targets.
	Check for and mark unreachable frags.
	(xtensa_fix_target_frags): Remove use of align_only_targets flag.
	Use RELAX_LOOP_END_BYTES in special case for negatable branch at the
	end of a zero-overhead loop body.
	(frag_can_negate_branch): Handle instructions with multiple slots.
	Use new xtensa-isa.h functions
	(xtensa_mark_narrow_branches, is_narrow_branch_guaranteed_in_range,
	xtensa_mark_zcl_first_insns): New.
	(xtensa_fix_a0_b_retw_frags, xtensa_fix_b_j_loop_end_frags): Error if
	transformations are disabled.
	(next_instrs_are_b_retw): Use new xtensa-isa.h functions.  Handle
	multislot instructions.
	(xtensa_fix_close_loop_end_frags, xtensa_fix_short_loop_frags):
	Likewise.  Also error if transformations are disabled.
	(unrelaxed_frag_max_size): New.
	(unrelaxed_frag_min_insn_count, unrelax_frag_has_b_j): Use new
	xtensa-isa.h functions.
	(xtensa_sanity_check, is_empty_loop, is_local_forward_loop): Use
	xtensa_opcode_is_loop instead of is_loop_opcode.
	(get_text_align_power): Replace as_fatal with assertion.
	(get_text_align_fill_size): Iterate instead of using modulus when
	use_nops is false.
	(get_noop_aligned_address): Assert that this is for a machine-dependent
	RELAX_ALIGN_NEXT_OPCODE frag.  Use next_frag_opcode_is_loop,
	xg_get_single_size, and frag_format_size.
	(get_widen_aligned_address): Rename to ...
	(get_aligned_diff): ... this function.  Add max_diff parameter.
	Remove handling of rs_align/rs_align_code frags.  Use
	next_frag_format_size, get_text_align_power, get_text_align_fill_size,
	next_frag_opcode_is_loop, and xg_get_single_size.  Compute max_diff
	and pass it back to caller.
	(xtensa_relax_frag): Use relax_frag_loop_align.  Add code for new
	RELAX_SLOTS, RELAX_MAYBE_UNREACHABLE, RELAX_MAYBE_DESIRE_ALIGN,
	RELAX_FILL_NOP, and RELAX_UNREACHABLE frag types.  Check relax_seen.
	(relax_frag_text_align): Rename to ...
	(relax_frag_loop_align): ... this function.  Assume loops can only be
	in the first slot of an instruction.
	(relax_frag_add_nop): Use assemble_nop instead of constructing an OR
	instruction.  Remove call to frag_wane.
	(relax_frag_narrow): Rename to ...
	(relax_frag_for_align): ... this function.  Extend to handle
	RELAX_FILL_NOP and RELAX_UNREACHABLE, as well as RELAX_SLOTS with
	RELAX_NARROW for the first slot.
	(find_address_of_next_align_frag, bytes_to_stretch): New.
	(future_alignment_required): Use find_address_of_next_align_frag and
	bytes_to_stretch.  Look ahead to subsequent frags to make smarter
	alignment decisions.
	(relax_frag_immed): Add format, slot, and estimate_only parameters.
	Check if transformations are enabled for b_j_loop_end workaround.
	Use new xtensa-isa.h functions and handle multislot instructions.
	Update call to xg_assembly_relax.
	(md_convert_frag): Handle new RELAX_SLOTS, RELAX_UNREACHABLE,
	RELAX_MAYBE_UNREACHABLE, RELAX_MAYBE_DESIRE_ALIGN, and RELAX_FILL_NOP
	frag types.
	(convert_frag_narrow): Add segP, format and slot parameters.  Call
	convert_frag_immed for branch instructions.  Adjust calls to
	tinsn_from_chars, tinsn_immed_from_frag, and xg_emit_insn_to_buf.  Use
	xg_get_single_size and xg_get_single_format.
	(convert_frag_fill_nop): New.
	(convert_frag_immed): Add format and slot parameters.  Handle multislot
	instructions and use new xtensa-isa.h functions.  Update calls to
	tinsn_immed_from_frag and xg_assembly_relax.  Check if transformations
	enabled for b_j_loop_end workaround.  Use build_nop instead of
	assemble_nop.  Check is_specific_opcode flag.  Check for unreachable
	frags.  Use xg_get_single_size.  Handle O_pltrel.
	(fix_new_exp_in_seg): Remove check for old plt flag.
	(convert_frag_immed_finish_loop): Update calls to tinsn_from_chars and
	xtensa_insnbuf_to_chars.  Call tinsn_immed_from_frag.  Change check
	for loop opcode to an assertion.  Mark all frags up to the end of the
	loop as not transformable.
	(get_last_insn_flags, set_last_insn_flags): Use get_subseg_info.
	(get_subseg_info): New.
	(xtensa_move_literals): Call xtensa_set_frag_assembly_state.  Add null
	check for dest_seg.
	(xtensa_switch_to_literal_fragment): Rewrite to handle absolute
	literals and use xtensa_switch_to_non_abs_literal_fragment otherwise.
	(xtensa_switch_to_non_abs_literal_fragment): New.
	(cache_literal_section): Add is_code parameter and pass it through to
	retrieve_literal_seg.
	(retrieve_literal_seg): Add is_code parameter and use it to set the
	flags on the literal section.  Handle case where head parameter is 0.
	(get_frag_is_no_transform, set_frag_is_specific_opcode,
	set_frag_is_no_transform): New.
	(xtensa_create_property_segments): Add end_property_function parameter
	and pass it through to add_xt_block_frags.  Call bfd_get_section_flags
	and skip SEC_DEBUGGING and !SEC_ALLOC sections.
	(xtensa_create_xproperty_segments, section_has_xproperty): New.
	(add_xt_block_frags): Add end_property_function parameter and call it
	if it is non-zero.  Call xtensa_frag_flags_init.
	(xtensa_frag_flags_is_empty, xtensa_frag_flags_init,
	get_frag_property_flags, frag_flags_to_number,
	xtensa_frag_flags_combinable, xt_block_aligned_size,
	xtensa_xt_block_combine, add_xt_prop_frags,
	init_op_placement_info_table, opcode_fits_format_slot,
	xg_get_single_size, xg_get_single_format): New.
	(istack_push): Inline call to tinsn_copy.
	(tinsn_copy): Delete.
	(tinsn_has_invalid_symbolic_operands): Handle O_hi16 and O_lo16 and
	CONST16 opcodes.  Handle O_big, O_illegal, and O_absent.
	(tinsn_has_complex_operands): Handle O_hi16 and O_lo16.
	(tinsn_to_insnbuf): Use xg_get_single_format and new xtensa-isa.h
	functions.  Handle invisible operands.
	(tinsn_to_slotbuf): New.
	(tinsn_check_arguments): Use new xtensa-isa.h functions.
	(tinsn_from_chars): Add slot parameter.  Rewrite using xg_init_vinsn,
	vinsn_from_chars, and xg_free_vinsn.
	(tinsn_from_insnbuf): New.
	(tinsn_immed_from_frag): Add slot parameter and handle multislot
	instructions.  Handle symbol differences.
	(get_num_stack_text_bytes): Use xg_get_single_size.
	(xg_init_vinsn, xg_clear_vinsn, vinsn_has_specific_opcodes,
	xg_free_vinsn, vinsn_to_insnbuf, vinsn_from_chars, expr_is_register,
	get_expr_register, set_expr_symbol_offset_diff): New.
	* config/tc-xtensa.h (MAX_SLOTS): Define.
	(xtensa_relax_statesE): Move from tc-xtensa.c. Add
	RELAX_CHECK_ALIGN_NEXT_OPCODE, RELAX_MAYBE_DESIRE_ALIGN, RELAX_SLOTS,
	RELAX_FILL_NOP, RELAX_UNREACHABLE, RELAX_MAYBE_UNREACHABLE, and
	RELAX_NONE types.
	(RELAX_IMMED_MAXSTEPS): Move from tc-xtensa.c.
	(xtensa_frag_type struct): Add is_assembly_state_set,
	use_absolute_literals, relax_seen, is_unreachable, is_specific_opcode,
	is_align, is_text_align, alignment, and is_first_loop_insn fields.
	Replace is_generics and is_relax fields by is_no_transform field.
	Delete is_text and is_longcalls fields.  Change text_expansion and
	literal_expansion to arrays of MAX_SLOTS entries.  Add arrays of
	per-slot information: literal_frags, slot_subtypes, slot_symbols,
	slot_sub_symbols, and slot_offsets.  Add fr_prev field.
	(xtensa_fix_data struct): New.
	(xtensa_symfield_type struct): Delete plt field.
	(xtensa_block_info struct): Move definition to tc-xtensa.h.  Add
	forward declaration here.
	(xt_section_type enum): Delete xt_insn_sec.  Add xt_prop_sec.
	(XTENSA_SECTION_RENAME): Undefine.
	(TC_FIX_TYPE, TC_INIT_FIX_DATA, TC_FORCE_RELOCATION, NO_PSEUDO_DOT,
	tc_unrecognized_line, md_do_align, md_elf_section_change_hook,
	HANDLE_ALIGN, TC_LINKRELAX_FIXUP, SUB_SEGMENT_ALIGN): Define.
	(TC_CONS_FIX_NEW, tc_symbol_new_hook): Delete.
	(unit_num_copies_func, opcode_num_units_func,
	opcode_funcUnit_use_unit_func, opcode_funcUnit_use_stage_func): New.
	(resource_table struct): New.
	* config/xtensa-istack.h (MAX_INSN_ARGS): Increase from 6 to 10.
	(TInsn struct): Add keep_wide, loc, fixup, record_fix, subtype,
	literal_space, symbol, sub_symbol, offset, and literal_frag fields.
	(tinsn_copy): Delete prototype.
	(vliw_insn struct): New.
	* config/xtensa-relax.c (insn_pattern_struct): Add options field.
	(widen_spec_list): Add option conditions for density and boolean
	instructions.  Add expansions using CONST16 and conditions for using
	CONST16 vs. L32R.  Use new Xtensa LX RSR/WSR syntax.  Add entries for
	predicted branches.
	(simplify_spec_list): Add option conditions for density instructions.
	Add entry for NOP instruction.
	(append_transition): Add cmp function pointer parameter and use it to
	insert the new entry in order.
	(operand_function_LOW16U, operand_function_HI16U): New.
	(xg_has_userdef_op_fn, xg_apply_userdef_op_fn): Handle
	OP_OPERAND_LOW16U and OP_OPERAND_HI16U.
	(enter_opname, split_string): Use xstrdup instead of strdup.
	(init_insn_pattern): Initialize new options field.
	(clear_req_or_option_list, clear_req_option_list,
	clone_req_or_option_list, clone_req_option_list, parse_option_cond):
	New.
	(parse_insn_pattern): Parse option conditions.
	(transition_applies): New.
	(build_transition): Use new xtensa-isa.h functions.  Fix incorrectly
	swapped last arguments in calls to append_constant_value_condition.
	Call clone_req_option_list.  Add warning about invalid opcode.
	Handle LOW16U and HI16U function names.
	(build_transition_table): Add cmp parameter and use it in calls to
	append_transition.  Use new xtensa-isa.h functions.  Check
	transition_applies before adding entries.
	(xg_build_widen_table, xg_build_simplify_table): Add cmp parameter and
	pass it through to build_transition_table.
	* config/xtensa-relax.h (ReqOrOptionList, ReqOrOption, ReqOptionList,
	ReqOption, transition_cmp_fn): New types.
	(OpType enum): Add OP_OPERAND_LOW16U and OP_OPERAND_HI16U.
	(transition_rule struct): Add options field.
	* doc/as.texinfo (Overview): Update Xtensa options.
	* doc/c-xtensa.texi (Xtensa Options): Delete --[no-]density,
	--[no-]relax, and --[no-]generics options.  Update descriptions of
	--text-section-literals and --[no-]longcalls.  Add
	--[no-]absolute-literals and --[no-]transform.
	(Xtensa Syntax): Add description of syntax for FLIX instructions.
	Remove use of "generic" and "specific" terminology for opcodes.
	(Xtensa Registers): Generalize the syntax description to include
	user-defined register files.
	(Xtensa Automatic Alignment): Update.
	(Xtensa Branch Relaxation): Mention limitation of unconditional jumps.
	(Xtensa Call Relaxation): Linker can now remove most of the overhead.
	(Xtensa Directives): Remove confusing rules about precedence.
	(Density Directive, Relax Directive): Delete.
	(Schedule Directive): New.
	(Generics Directive): Rename to ...
	(Transform Directive): ... this node.
	(Literal Directive): Update for absolute literals.  Missing
	literal_position directive is now an error.
	(Literal Position Directive): Update for absolute literals.
	(Freeregs Directive): Delete.
	(Absolute Literals Directive): New.
	(Frame Directive): Minor editing.
	* Makefile.am (DEPTC_xtensa_elf, DEPOBJ_xtensa_elf, DEP_xtensa_elf):
	Update dependencies.
	* Makefile.in: Regenerate.

gas/testsuite ChangeLog

	* gas/xtensa/all.exp: Adjust expected error message for j_too_far.
	Change entry_align test to expect an error.
	* gas/xtensa/entry_misalign2.s: Use no-transform instead of
	no-generics directives.

include ChangeLog

	* xtensa-config.h (XSHAL_USE_ABSOLUTE_LITERALS,
	XCHAL_HAVE_PREDICTED_BRANCHES, XCHAL_INST_FETCH_WIDTH): New.
	(XCHAL_EXTRA_SA_SIZE, XCHAL_EXTRA_SA_ALIGN): Delete.
	* xtensa-isa-internal.h (ISA_INTERFACE_VERSION): Delete.
	(config_sturct struct): Delete.
	(XTENSA_OPERAND_IS_REGISTER, XTENSA_OPERAND_IS_PCRELATIVE,
	XTENSA_OPERAND_IS_INVISIBLE, XTENSA_OPERAND_IS_UNKNOWN,
	XTENSA_OPCODE_IS_BRANCH, XTENSA_OPCODE_IS_JUMP,
	XTENSA_OPCODE_IS_LOOP, XTENSA_OPCODE_IS_CALL,
	XTENSA_STATE_IS_EXPORTED, XTENSA_INTERFACE_HAS_SIDE_EFFECT): Define.
	(xtensa_format_encode_fn, xtensa_get_slot_fn, xtensa_set_slot_fn): New.
	(xtensa_insn_decode_fn): Rename to ...
	(xtensa_opcode_decode_fn): ... this.
	(xtensa_immed_decode_fn, xtensa_immed_encode_fn, xtensa_do_reloc_fn,
	xtensa_undo_reloc_fn): Update.
	(xtensa_encoding_template_fn): Delete.
	(xtensa_opcode_encode_fn, xtensa_format_decode_fn,
	xtensa_length_decode_fn): New.
	(xtensa_format_internal, xtensa_slot_internal): New types.
	(xtensa_operand_internal): Delete operand_kind, inout, isPCRelative,
	get_field, and set_field fields.  Add name, field_id, regfile,
	num_regs, and flags fields.
	(xtensa_arg_internal): New type.
	(xtensa_iclass_internal): Change operands field to array of
	xtensa_arg_internal.  Add num_stateOperands, stateOperands,
	num_interfaceOperands, and interfaceOperands fields.
	(xtensa_opcode_internal): Delete length, template, and iclass fields.
	Add iclass_id, flags, encode_fns, num_funcUnit_uses, and funcUnit_uses.
	(opname_lookup_entry): Delete.
	(xtensa_regfile_internal, xtensa_interface_internal,
	xtensa_funcUnit_internal, xtensa_state_internal,
	xtensa_sysreg_internal, xtensa_lookup_entry): New.
	(xtensa_isa_internal): Replace opcode_table field with opcodes field.
	Change type of opname_lookup_table.  Delete num_modules,
	module_opcode_base, module_decode_fn, config, and has_density fields.
	Add num_formats, formats, format_decode_fn, length_decode_fn,
	num_slots, slots, num_fields, num_operands, operands, num_iclasses,
	iclasses, num_regfiles, regfiles, num_states, states,
	state_lookup_table, num_sysregs, sysregs, sysreg_lookup_table,
	max_sysreg_num, sysreg_table, num_interfaces, interfaces,
	interface_lookup_table, num_funcUnits, funcUnits and
	funcUnit_lookup_table fields.
	(xtensa_isa_module, xtensa_isa_modules): Delete.
	(xtensa_isa_name_compare): New prototype.
	(xtisa_errno, xtisa_error_msg): New.
	* xtensa-isa.h (XTENSA_ISA_VERSION): Define.
	(xtensa_isa): Change type.
	(xtensa_operand): Delete.
	(xtensa_format, xtensa_regfile, xtensa_state, xtensa_sysreg,
	xtensa_interface, xtensa_funcUnit, xtensa_isa_status,
	xtensa_funcUnit_use): New types.
	(libisa_module_specifier): Delete.
	(xtensa_isa_errno, xtensa_isa_error_msg): New prototypes.
	(xtensa_insnbuf_free, xtensa_insnbuf_to_chars,
	xtensa_insnbuf_from_chars): Update prototypes.
	(xtensa_load_isa, xtensa_extend_isa, xtensa_default_isa,
	xtensa_insn_maxlength, xtensa_num_opcodes, xtensa_decode_insn,
	xtensa_encode_insn, xtensa_insn_length,
	xtensa_insn_length_from_first_byte, xtensa_num_operands,
	xtensa_operand_kind, xtensa_encode_result,
	xtensa_operand_isPCRelative): Delete.
	(xtensa_isa_init, xtensa_operand_inout, xtensa_operand_get_field,
	xtensa_operand_set_field, xtensa_operand_encode,
	xtensa_operand_decode, xtensa_operand_do_reloc,
	xtensa_operand_undo_reloc): Update prototypes.
	(xtensa_isa_maxlength, xtensa_isa_length_from_chars,
	xtensa_isa_num_pipe_stages, xtensa_isa_num_formats,
	xtensa_isa_num_opcodes, xtensa_isa_num_regfiles, xtensa_isa_num_states,
	xtensa_isa_num_sysregs, xtensa_isa_num_interfaces,
	xtensa_isa_num_funcUnits, xtensa_format_name, xtensa_format_lookup,
	xtensa_format_decode, xtensa_format_encode, xtensa_format_length,
	xtensa_format_num_slots, xtensa_format_slot_nop_opcode,
	xtensa_format_get_slot, xtensa_format_set_slot, xtensa_opcode_decode,
	xtensa_opcode_encode, xtensa_opcode_is_branch, xtensa_opcode_is_jump,
	xtensa_opcode_is_loop, xtensa_opcode_is_call,
	xtensa_opcode_num_operands, xtensa_opcode_num_stateOperands,
	xtensa_opcode_num_interfaceOperands, xtensa_opcode_num_funcUnit_uses,
	xtensa_opcode_funcUnit_use, xtensa_operand_name,
	xtensa_operand_is_visible, xtensa_operand_is_register,
	xtensa_operand_regfile, xtensa_operand_num_regs,
	xtensa_operand_is_known_reg, xtensa_operand_is_PCrelative,
	xtensa_stateOperand_state, xtensa_stateOperand_inout,
	xtensa_interfaceOperand_interface, xtensa_regfile_lookup,
	xtensa_regfile_lookup_shortname, xtensa_regfile_name,
	xtensa_regfile_shortname, xtensa_regfile_view_parent,
	xtensa_regfile_num_bits, xtensa_regfile_num_entries,
	xtensa_state_lookup, xtensa_state_name, xtensa_state_num_bits,
	xtensa_state_is_exported, xtensa_sysreg_lookup,
	xtensa_sysreg_lookup_name, xtensa_sysreg_name, xtensa_sysreg_number,
	xtensa_sysreg_is_user, xtensa_interface_lookup, xtensa_interface_name,
	xtensa_interface_num_bits, xtensa_interface_inout,
	xtensa_interface_has_side_effect, xtensa_funcUnit_lookup,
	xtensa_funcUnit_name, xtensa_funcUnit_num_copies): New prototypes.
	* elf/xtensa.h (R_XTENSA_DIFF8, R_XTENSA_DIFF16, R_XTENSA_DIFF32,
	R_XTENSA_SLOT*_OP, R_XTENSA_SLOT*_ALT): New relocations.
	(XTENSA_PROP_SEC_NAME): Define.
	(property_table_entry): Add flags field.
	(XTENSA_PROP_*, GET_XTENSA_PROP_*, SET_XTENSA_PROP_*): Define.

ld ChangeLog

	* ld.texinfo (Xtensa): Describe new linker relaxation to optimize
	assembler-generated longcall sequences.  Describe new --size-opt
	option.
	* emulparams/elf32xtensa.sh (OTHER_SECTIONS): Add .xt.prop section.
	* emultempl/xtensaelf.em (remove_section,
	replace_insn_sec_with_prop_sec, replace_instruction_table_sections,
	elf_xtensa_after_open): New.
	(OPTION_OPT_SIZEOPT, OPTION_LITERAL_MOVEMENT,
	OPTION_NO_LITERAL_MOVEMENT): Define.
	(elf32xtensa_size_opt, elf32xtensa_no_literal_movement): New globals.
	(PARSE_AND_LIST_LONGOPTS): Add size-opt and [no-]literal-movement.
	(PARSE_AND_LIST_OPTIONS): Add --size-opt.
	(PARSE_AND_LIST_ARGS_CASES): Handle OPTION_OPT_SIZEOPT,
	OPTION_LITERAL_MOVEMENT, and OPTION_NO_LITERAL_MOVEMENT.
	(LDEMUL_AFTER_OPEN): Set to elf_xtensa_after_open.
	* scripttempl/elfxtensa.sc: Update with changes from elf.sc.
	* Makefile.am (eelf32xtensa.c): Update dependencies.
	* Makefile.in: Regenerate.

ld/testsuite ChangeLog

	* ld-xtensa/lcall1.s: Use .literal directive.
	* ld-xtensa/lcall2.s: Align function entry.
	* ld-xtensa/coalesce2.s: Likewise.

opcodes ChangeLog

	* xtensa-dis.c (state_names): Delete.
	(fetch_data): Use xtensa_isa_maxlength.
	(print_xtensa_operand): Replace operand parameter with opcode/operand
	pair.  Remove print_sr_name parameter.  Use new xtensa-isa.h functions.
	(print_insn_xtensa): Use new xtensa-isa.h functions.  Handle multislot
	instruction bundles.  Use xmalloc instead of malloc.
@
text
@d1 4
@


1.705
log
@	* config/tc-mips.c (append_insn): Use fix_new rather than fix_new_exp
	to build the second and third fixups for a composite relocation.
	(macro_read_relocs): New function.
	(macro_build): Use it.
	(s_cpsetup): Pass all three composite relocation codes to macro_build.
	Simplify fragging code accordingly.
	(s_gpdword): Use fix_new rather than fix_new_exp for the second part
	of the composite relocation.  Set fx_tcbit in both fixups.
@
text
@d1 7
@


1.704
log
@	* elf64-mips.c (mips_elf64_write_rel): Use STN_UNDEF for relocs
	against the absolute section.
	(mips_elf64_write_rela): Likewise.
@
text
@d3 5
@


1.703
log
@	* config/tc-mips.c (append_insn): Set fx_tcbit for composite relocs.
	(md_apply_fix3): Don't treat composite relocs as done.
@
text
@d3 5
@


1.702
log
@When separating CIE out from FDE, treat a DW_CFA_remember_state as we do a
DW_CFA_advance_loc.  Test to make sure that this feature continues to work.
@
text
@d1 5
@


1.701
log
@Add support for CRX co-processor opcodes
@
text
@d1 5
@


1.700
log
@	* gas/testsuite/gas/ppc/e500.s: Add double-precision instructions.
	* gas/testsuite/gas/ppc/e500.d: Same.
@
text
@d1 10
@


1.699
log
@oops - omitted from previous delta
@
text
@d1 5
@


1.698
log
@Fixes for the encoding and decoding of the PDP11's SOB instruction
@
text
@d1 7
@


1.697
log
@Apply Paul Brook's patch to implement armv6k instructions
@
text
@d1 4
@


1.696
log
@gas/testsuite/
	* gas/i386/secrel.s: Pad .rdata out to 16 byte boundary.
	* gas/i386/secrel.d: Adjust to suit.

ld/testsuite/
	* ld-pe/secrel1.s: Pad .rdata out to 16 byte boundary.
	* ld-pe/secrel.d: Adjust to suit.
@
text
@d1 6
@


1.695
log
@	* gas/elf/elf.exp: Recognise additional arm elf targets.
@
text
@d1 5
@


1.694
log
@bfd/
	* bfd-in.h (bfd_elf32_arm_set_target_relocs): Add prototype.
	(bfd_elf32_arm_process_before_allocation): Update prototype.
	* bfd-in2.h: Regenerate.
	* bfd/elf32-arm.h (elf32_arm_link_hash_table): Add target2_reloc.
	(elf32_arm_link_hash_table_create): Set it.
	(bfd_elf32_arm_process_before_allocation): Remove target1_is_rel.
	(bfd_elf32_arm_set_target_relocs): New function.
	(arm_real_reloc_type): New function.
	(elf32_arm_final_link_relocate): Use it.  Handle R_ARM_PREL31 and
	R_ARM_GOT_PREL.  Remove R_ARM_TARGET1.
	(elf32_arm_gc_sweep_hook): Ditto.
	(elf32_arm_check_relocs): Ditto.
	(elf32_arm_relocate_section): Handle R_ARM_GOT_PREL.
	* elfarm-nabi.c (elf32_arm_howto_table): Add R_ARM_PREL31 and
	R_ARM_GOT_TARGET2.
	(elf32_arm_got_prel): New variable.
	(elf32_arm_howto_from_type): New function.
	(elf32_arm_info_to_howto): Use it.
	(elf32_arm_reloc_map): Add BFD_RELOC_ARM_PREL31 and
	BFD_RELOC_ARM_TARGET2.
	* libbfd.h: Regenerate.
	* reloc.c: Add BFD_RELOC_ARM_TARGET2 and BFD_RELOC_ARM_PREL31.
gas/
	* config/tc-arm.c (s_arm_rel31): New funciton.
	(md_pseudo_table): Add .rel31.
	(md_apply_fix3): Handle BFD_RELOC_ARM_TARGET2,
	BFD_RELOC_32_PCREL and BFD_RELOC_ARM_PREL31.
	(tc_gen_reloc): Handle BFD_RELOC_ARM_PREL31 and BFD_RELOC_ARM_TARGET2.
	(arm_fix_adjustable): Return 0 for BFD_RELOC_ARM_TARGET2.
	(arm_parse_reloc): Add (target2).
gas/testsuite/
	* gas/arm/pic.s: Add (target2).
	* gas/arm/pic.d: Ditto.
include/
	* elf/arm.h: Remove R_ARM_STKCHK and R_ARM_THM_STKCHK.
	Add R_ARM_TARGET2, R_ARM_PREL31, R_ARM_GOT_ABS, R_ARM_GOT_PREL,
	R_ARM_GOT_BREL12, R_ARM_GOTOFF12 and R_ARM_GOTRELAX.
ld/
	* ld.texinfo: Rename arm-specific section.  Document --target*
	* emulparams/armelf_fbsd.sh: Set TARGET2_TYPE.
	* emulparams/armelf_linux.sh: Ditto.
	* emulparams/armelf_nbsd.sh: Ditto.
	* emultempl/armelf.em: Set default for TARGET2_TYPE.
	(target2_type): New variable.
	(arm_elf_before_allocation): Don't pass target1_type.
	(arm_elf_create_output_section_statements): New function.
	(PARSE_AND_LIST_PROLOGUE): Add OPTION_TARGET2.
	(PARSE_AND_LIST_LONGOPTS, PARSE_AND_LIST_OPTIONS): Add --target=.
	(PARSE_AND_LIST_ARGS_CASES): Handle OPTION_TARGET2.
	(LDEMUL_CREATE_OUTPUT_SECTION_STATEMENTS): Set.
	* emultempl/armelf_oabi.em (_before_allocation): Remove extra
	argument to bfd_elf32_arm_process_before_allocation.
ld/testsuite/
	* ld-arm/arm-target1-{abs,rel}.d}: New files.
	* ld-arm/arm-target1.s: New file.
	* ld-arm/arm-target2-{,got-}rel.d: New files.
	* ld-arm/arm-target2.s: New file.
	* ld-arm/arm-rel31.d: New files.
	* ld-arm/arm-rel31.s: New files.
	* ld-arm/arm.ld: New file.
	* ld-arm/arm-elf.exp: Add new tests.
@
text
@d1 4
@


1.693
log
@bfd/
	* bfd-in.h (bfd_elf32_arm_process_before_allocation): Update
	prototype.
	* bfd-in2.h: Regenerate.
	* libbfd.h: Regenerate.
	* elf32-arm.h (elf32_arm_link_hash_table): Add target1_is_rel.
	(elf32_arm_link_hash_table_create): Set target1_is_rel.
	(bfd_elf32_arm_process_before_allocation): Ditto.
	(elf32_arm_final_link_relocate): Handle R_ARM_TARGET1.
	(elf32_arm_gc_sweep_hook, elf32_arm_check_relocs): Ditto.
	* elfarm-nabi.c (elf32_arm_howto_table): Rename RELABS to TARGET1.
	* reloc.c: Ditto.
gas/
	* config/tc-arm.c: Rename RELABS to TARGET1.
gas/testsuite/
	* gas/arm/pic.d: Rename RELABS to TARGET1.
	* gas/arm/pic.s: Ditto.
include/
	* elf/arm.h: Rename RELABS to TARGET1.
ld/
	* emulparams/armsymbian.sh: Set TARGET1_IS_REL.
	* emultempl/armelf.em: Use TARGET1_IS_REL.  Add --target1-{rel,abs}.
@
text
@d1 5
@


1.692
log
@Add LD and GAS testsuites for CRX port.
Fix several crx bugs.
@
text
@d1 5
@


1.691
log
@cpu/
	* frv.cpu (cfmovs): Change UNIT attribute to FMALL.

opcodes/
	* frv-desc.[ch], frv-opc.[ch]: Regenerated.

gas/testsuite/
	* gas/frv/fr550-pack1.[sd]: New test.
	* gas/frv/allinsn.exp: Run it.
@
text
@d1 29
@


1.690
log
@Allow pcrel test for COFF targets as well, but not for PE targets.
Similarly for the absrel test.
@
text
@d1 5
@


1.689
log
@* gas/i386/i386.exp: Group ELF specific tests together.  Move the pcrel
test into the ELF only section.  Use is_elf_format to test for ELF based
toolchains.
@
text
@d1 5
@


1.688
log
@2004-08-25  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/all/gas.exp: Use `string match ""' instead of `eq ""'.
@
text
@d1 6
@


1.687
log
@altmacro.[sd]: Split out part from here...
altmac2.[sd]: ... to here.
excl.s: New.
gas.exp: Suppress both tests for a few targets known to break. Run the new
 (split out) test only when the target doesn't use '!' as a comment character.
@
text
@d1 4
@


1.686
log
@* config/tc-mips.c (append_insn): Handle delay slots in branch likely
correctly.
@
text
@d1 9
d11 1
@


1.685
log
@Remove #NO_APP, accidentally committed as part of another patch.
@
text
@d1 5
@


1.684
log
@altmacro.d: Allow for rest of frag being padded to an alignment boundary.
arm.exp: Run bignum test for ELF based targets only.
@
text
@d1 5
@


1.683
log
@binutils/
	* readelf.c (debug_apply_rela_addends): New function, extracted from..
	(display_debug_info): ..here.
	(display_debug_frames): Call debug_apply_rela_addends.  Don't do
	DW_EH_PE_pcrel adjustment for ET_REL.
gas/testsuite/
	* gas/cfi/cfi-alpha-1.d: Adjust for readelf fix.
	* gas/cfi/cfi-alpha-3.d: Likewise.
	* gas/cfi/cfi-i386.d: Likewise.
	* gas/cfi/cfi-m68k.d: Likewise.
	* gas/cfi/cfi-ppc-1.d: Likewise.
	* gas/cfi/cfi-s390-1.d: Likewise.
	* gas/cfi/cfi-s390x-1.d: Likewise.
	* gas/cfi/cfi-sh-1.d: Likewise.
	* gas/cfi/cfi-sparc-1.d: Likewise.
	* gas/cfi/cfi-sparc64-1.d: Likewise.
	* gas/cfi/cfi-x86_64.d: Likewise.
@
text
@d1 7
@


1.682
log
@Add and handle new --alternate command line option.
@
text
@d1 14
@


1.681
log
@	* expr.c (operand): Handle the "~", "-", and "!" operators applied
	to bignums.

	* gas/arm/bignum1.s: New test.
	* gas/arm/arm.exp: Run it.
@
text
@d1 5
@


1.680
log
@bfd/
	* elfarm-nabi.c (elf32_arm_howto_table): Add new EABI relocations.
	(elf32_arm_reloc_map): Add BFD_RELOC_ARM_RELABS32,
	BFD_RELOC_ARM_ROSEGREL32 and BFD_RELOC_ARM_SBREL32.
	* reloc.c: Add BFD_RELOC_ARM_RELABS32, BFD_RELOC_ARM_ROSEGREL32
	and BFD_RELOC_ARM_SBREL32.
	* bfd-in2.h, bbfd.h: Regenerate.
gas/
	* config/tc-arm.c (md_apply_fix3, tc_gen_reloc, arm_parse_reloc):
	Handle new relocations.
	* include/elf/arm.h (elf_arm_reloc_type): Add new EABI relocations.
gas/testsuite/
	* gas/arm/pic.s,d: Test RELABS and SBREL relocations.
@
text
@d1 5
@


1.679
log
@Addition of new test case to check rx generation with adds and subs instruction
for plain H8/300 target.
@
text
@d1 4
@


1.678
log
@	* gas/m68hc11/m68hc11.exp: Fix tests for 2.15
	* gas/elf/elf.exp: Test obj-elf for m6811-* and m6812-*
	* gas/symver/symver.exp: Likewise for symver tests.
@
text
@d1 6
@


1.677
log
@Added new instructions for next version of VIA PadLock core.
@
text
@d1 6
@


1.676
log
@[gas/testsuite]
	* gas/sh/basic.exp: Don't do sh2a test for sh5.
	* gas/sh/sh2a.d: Match elf32-sh* format too.

[ld/testsuite]
	* ld-sh/sh64/crange3-cmpct.rd: Update.
	* ld-sh/sh64/crange3-media.rd: Update.
@
text
@d1 5
@


1.675
log
@include/elf/ChangeLog:
Introduce SH2a support.
2004-02-18  Corinna Vinschen  <vinschen@@redhat.com>
* sh.h (EF_SH2A_NOFPU): New.
2003-12-01  Michael Snyder  <msnyder@@redhat.com>
* sh.h (EF_SH2A): New.
bfd/ChangeLog:
Introduce SH2a support.
2004-02-18  Corinna Vinschen  <vinschen@@redhat.com>
* archures.c (bfd_mach_sh2a_nofpu): New.
* bfd-in2.h: Rebuilt.
* cpu-sh.c (SH2A_NOFPU_NEXT): New.
(arch_info_struct): Add sh2a_nofpu.
* elf32-sh.c (sh_elf_set_mach_from_flags): Handle sh2a_nofpu.
2003-12-29  DJ Delorie  <dj@@redhat.com>
* reloc.c: Add relocs for sh2a.
* bfd-in2.h: Regenerate.
* libbfd.hh: Regenerate.
2003-12-01  Michael Snyder  <msnyder@@redhat.com>
* archures.c (bfd_mach_sh2a): New.
* bfd-in2.h: Rebuilt.
* cpu-sh.c (SH_NEXT, SH2_NEXT, etc.): Change defines to enums.
(SH2A_NEXT): New.
(arch_info_struct): Add sh2a.
* elf32-sh.c (sh_elf_set_mach_from_flags): Handle sh2a.
binutils/ChangeLog:
* readelf.c (get_machine_flags <EM_SH>): Handle EF_SH2A and
EF_SH2A_NOFPU.
gas/ChangeLog:
Introduce SH2a support.
2004-02-24  Corinna Vinschen  <vinschen@@redhat.com>
* config/tc-sh.c (get_specific): Change arch_sh2a_up to
arch_sh2a_nofpu_up.
2004-02-24  Corinna Vinschen  <vinschen@@redhat.com>
* config/tc-sh.c (md_parse_option): Add sh2a-nofpu ISA handling.
2004-02-20  Corinna Vinschen  <vinschen@@redhat.com>
* config/tc-sh.c (sh_elf_final_processing): Move sh2a recognition
to end of conditional expression.
2004-02-20  Corinna Vinschen  <vinschen@@redhat.com>
* config/tc-sh.c: Add sh2a-nofpu support.
2003-12-29  DJ Delorie  <dj@@redhat.com>
* tc-sh.c: Add sh2a support.
(parse_reg): Add tbr.
(parse_at): Support @@@@(disp,tbr).
(get_specific): Support sh2a opcodes.
(insert4): New, for 4 byte relocs.
(build_Mytes): Support sh2a opcodes.
(md_apply_fix3_Mytes): Support sh2a opcodes.
2003-12-02  Michael Snyder  <msnyder@@redhat.com>
* config/tc-sh.c (md_parse_option): Handle sh2a.
(sh_elf_final_processing): Ditto.
gas/testsuite/ChangeLog:
2003-12-30  DJ Delorie  <dj@@redhat.com>
* gas/sh/sh2a.s: New.
* gas/sh/sh2a.d: New.
* gas/sh/basic.exp: Add it.
@
text
@d1 5
@


1.674
log
@Add CRX insns: pushx, popx
Add support to GAS for expressions which are the difference of two symbols
@
text
@d1 7
@


1.673
log
@2004-07-22  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/x86-64-inval.l: Remove the leading `+'.
@
text
@d1 4
@


1.672
log
@Fix for PR 280 - remove duplicated raw insn output fron h8300/h8500 disassemblers
@
text
@d1 4
@


1.671
log
@For DefaultSize instructions, don't guess a 'q'	suffix if the instruction
doesn't support it.
@
text
@d1 11
@


1.670
log
@Corrections for x86_64 assembly.
@
text
@d3 11
a13 6
	* testsuite/gas/i386/x86-64-addr32.[ds]: New test for x86-64
	32-bit addressing in 64-bit mode.
	* testsuite/gas/i386/x86-64-rip.[ds]: New test for x86-64
	rip-relative addressing.
	* testsuite/gas/i386/i386.exp: Run the two new tests.

@


1.669
log
@* gas/mips/elf-rel19.d: Pass -march=mips1 to gas as the test
expects load delay slots.
@
text
@d1 8
@


1.668
log
@opcodes/
* mips-opc.c (mips_builtin_opcodes): Move coprocessor 2
move/branch operations to the bottom so that VR5400 multimedia
instructions take precedence in disassembly.
gas/testsuite/
* gas/mips/vr5400.d: Update for a correct disassembly of
"racm.ob".
@
text
@d3 5
@


1.667
log
@opcodes/
* mips-opc.c (mips_builtin_opcodes): Remove the MIPS32
ISA-specific "break" encoding.
gas/testsuite/
* gas/mips/mips32.s: Adjust for the unified "break" syntax.  Add
another "break" case.  Update the comment accordingly.
* gas/mips/set-arch.s: Likewise.
* gas/mips/mips32.d: Adjust for the new output.
* gas/mips/set-arch.d: Likewise.
@
text
@d3 5
@


1.666
log
@gas/h8300/h8300.exp (do_h8300hn_addressgen): Addition of new test case for
 H8300H normal target to check symbol address generation.
gas/h8300/symaddgen.s: New test.
@
text
@d1 8
@


1.665
log
@Add support for  & | << >> ~  arithmetic operators in Intel mode
@
text
@d1 7
@


1.664
log
@Delete vtable tests
@
text
@d3 6
@


1.663
log
@* gas/m32r/pic2.s: New file: Test case for @@GOTOFF, @@GOT, @@PLT.
* gas/m32r/pic2.d: New file: Expected results.
@
text
@d1 5
@


1.662
log
@Remove superfluous stuff from 2004-07-03 entry.
@
text
@d1 6
@


1.661
log
@	* config/tc-mips.c (mips_fix_adjustable): If the full addend is
	going to be split into more than one in-place addend, return 0
	for relocations against mergeable sections.  Associate comments
	with code.
@
text
@a7 7
	* config/tc-mips.c (HAVE_IN_PLACE_ADDENDS): New macro.
	(reloc_needs_lo_p): Only return true if HAVE_IN_PLACE_ADDENDS.
	(mips_frob_file): Rework so that only a single pass through the
	relocs is needed.  Allow %lo()s to have higher offsets than their
	corresponding %hi()s or %got()s.

testsuite/
@


1.660
log
@	* config/tc-mips.c (HAVE_IN_PLACE_ADDENDS): New macro.
	(reloc_needs_lo_p): Only return true if HAVE_IN_PLACE_ADDENDS.
	(mips_frob_file): Rework so that only a single pass through the
	relocs is needed.  Allow %lo()s to have higher offsets than their
	corresponding %hi()s or %got()s.

testsuite/
	* gas/mips/elf{,el}-rel.d: Adjust so that the earliest %hi() matches
	the earliest %lo().
	* gas/mips/elf-rel11.d: Don't expect the relocs to be reordered.
	* gas/mips/elf-rel20.[sd]: New test.
	* gas/mips/mips.exp: Run it.
@
text
@d1 5
@


1.659
log
@2004-07-03  Maciej W. Rozycki  <macro@@linux-mips.org>

	* gas/mips/elf-rel9.[sd]: Fix typo in %lo() expression.
@
text
@d1 15
@


1.658
log
@2004-07-01  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/ia64/group-1.d: New.
	* gas/ia64/group-1.s: Likewise.

	* gas/ia64/ia64.exp: Add group-1 to test comdat group.
@
text
@d1 4
@


1.657
log
@Adjust for "mov rX=imm" changes.
* gas/ia64/dv-imply.d: Update.
* gas/ia64/dv-mutex.d: Likewise.
* gas/ia64/dv-safe.d: Likewise.
@
text
@d1 7
@


1.656
log
@	* gas/m68k/mode5.s: Pad section.
	* gas/m68k/mode5.d: Update.
@
text
@d1 6
@


1.655
log
@opcodes/
	* ppc-opc.c (insert_fxm): Handle mfocrf and mtocrf.
	(extract_fxm): Don't test dialect.
	(XFXFXM_MASK): Include the power4 bit.
	(XFXM): Add p4 param.
	(powerpc_opcodes): Add mfocrf and mtocrf.  Adjust mtcr.

gas/testsuite/
	* gas/ppc/power4.d: Update.
@
text
@d1 5
@


1.654
log
@include/opcode/
	* i386.h (i386_optab): Remove fildd, fistpd and fisttpd.

opcodes/
	* i386-dis.c (x_mode): Comment.
	(two_source_ops): File scope.
	(float_mem): Correct fisttpll and fistpll.
	(float_mem_mode): New table.
	(dofloat): Use it.
	(OP_E): Correct intel mode PTR output.
	(ptr_reg): Use open_char and close_char.
	(PNI_Fixup): Handle possible suffix on sidt.  Use op1out etc. for
	operands.  Set two_source_ops.

gas/testsuite/
	* gas/i386/prescott.s: Remove fisttpd and fisttpq.
	* gas/i386/prescott.d: Update.
@
text
@d1 4
@


1.653
log
@opcodes/
	* ia64-gen.c (in_iclass): Handle more postinc st
	and ld variants.
	* ia64-asmtab.c: Rebuilt.
gas/testsuite/
	* gas/ia64/dv-raw-err.s: Add some new postinc tests.
	* gas/ia64/dv-raw-err.l: Updated.
@
text
@d1 5
@


1.652
log
@Convert mode 5 addressing with zero offset into mode 2 addressing to save a
word.
@
text
@d1 5
@


1.651
log
@gas/

2004-05-27  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/tc-ia64.c (ar_is_in_integer_unit): Removed.
	(ar_is_only_in_integer_unit): New.
	(ar_is_only_in_memory_unit): New.
	(generate_unwind_image): Silence gcc on 32bit host.
	(md_assemble): Use ar_is_only_in_integer_unit instead of
	ar_is_in_integer_unit. Check AR access.

gas/testsuite

2004-05-27  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/ia64/regs.d: Updated.
@
text
@d1 7
@


1.650
log
@2004-05-26  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/ia64/ia64.exp: Run invalid-ar.

	* gas/ia64/invalid-ar.l: New file. Test invalid AR access.
	* gas/ia64/invalid-ar.s: Likewise.
@
text
@d1 4
@


1.649
log
@Reorganise m68k instruction decoding and improve handling of MAC/EMAC
@
text
@d1 7
@


1.648
log
@2004-05-20  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/ia64/dv-srlz.d: Fix a typo.
@
text
@d1 5
@


1.647
log
@	* gas/h8300/t03_add.exp: Remove stray semicolons.
	* gas/h8300/t04_sub.exp: Likewise.
	* gas/h8300/t05_cmp.exp: Likewise.
	* gas/h8300/t08_or.exp: Likewise.
	* gas/h8300/t09_xor.exp: Likewise.
	* gas/h8300/t10_and.exp: Likewise.
	* gas/hppa/reloc/reloc.exp: Likewise.
	* gas/hppa/unsorted/unsorted.exp: Likewise.
	* gas/i386/i386.exp: Likewise.
	* gas/m68hc11/m68hc11.exp: Likewise.
	* gas/mips/mips.exp: Likewise.
	* gas/sparc/sparc.exp: Likewise.
	* lib/gas-defs.exp: Likewise.
@
text
@d1 4
@


1.646
log
@Apply H.J.'s patch to fix label arithmetic when multiple same-name sections are involved
@
text
@d1 16
@


1.645
log
@	* config/tc-mips.c (append_insn, mips_emit_delays): Extend -mfix-vr4120
	to cope with VR4181A errata MD(1) and MD(4).
@
text
@d1 10
@


1.644
log
@* gas/frv/reloc1.d: Match elf32-frvfdpic as well.
* gas/frv/fr405-insn.d: Likewise.
* gas/frv/fr450-insn.d: Likewise.
@
text
@d1 7
@


1.643
log
@gas/

2004-04-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/obj-elf.c (get_section): New function.
	(obj_elf_change_section): Support multiple sections with same
	name.

gas/testsuite/

2004-04-30  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/elf/elf.exp: Remove group1, add group1a and group1b for
	section group.

	* gas/elf/group1a.d: New file.
	* gas/elf/group1b.d: Likewise.

	* gas/elf/group1.e: Removed.
@
text
@d1 6
@


1.642
log
@Fix handling of case sensitive register aliases and add a test for the bug
@
text
@d1 10
@


1.641
log
@	* ppc-opc.c (powerpc_opcodes): Add "dbczl" instruction for PPC970.
[testsuite]
	* gas/ppc/power4.s: Add dcbz and dcbzl test cases.
	* gas/ppc/power4.d: Update accordingly.
@
text
@d1 8
@


1.640
log
@binutils/

2004-04-26  H.J. Lu  <hongjiu.lu@@intel.com>

	* readelf.c (do_section_groups): New.
	(options): Add --section-groups/-g.
	(usage): Mention --section-groups/-g.
	(parse_args): Support --section-groups/-g.
	(get_group_flags): New.
	(process_section_groups): New.
	(process_object): Call process_section_groups.

gas/

2004-04-26  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/obj-elf.c (obj_elf_change_section): Check if the old
	group name is NULL before comparison.

gas/testsuite/

2004-04-26  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/elf/elf.exp: Add group0a, group0b and group1 for section
	group.

	* gas/elf/group0.s: New file.
	* gas/elf/group0a.d: Likewise.
	* gas/elf/group0b.d: Likewise.
	* gas/elf/group1.e: Likewise.
	* gas/elf/group1.s: Likewise.
@
text
@d1 5
@


1.639
log
@Cope with extra symbols inserted by arm-elf toolchains
@
text
@d1 11
@


1.638
log
@bfd/
	* elf32-sh.c (sh_elf_plt_sym_val): New function.
	(elf_backend_plt_sym_val): Define.

opcodes/
	* sh-dis.c (print_insn_sh): Print the value in constant pool
	as a symbol if it looks like a symbol.

gas/testsuite/
	* gas/sh/pcrel2.d: Update.
	* gas/sh/tlsd.d: Update.
	* gas/sh/tlsnopic.d: Update.
	* gas/sh/tlspic.d: Update.

ld/testsuite/
	* ld-sh/tlsbin-1.d: Update
	* ld-sh/tlspic-1.d: Update.
@
text
@d1 7
@


1.637
log
@* lib/gas-defs.exp (is_elf_format): Add OpenBSD support.
@
text
@d1 7
@


1.636
log
@* config/tc-mips.c (load_delay_nop): New function.
(load_address, macro): Use load_delay_nop() to build a nop
which can be omitted with gpr_interlocks.

* gas/mips/lb-xgot-ilocks.d: Remove nops in load delay slot.
* gas/mips/mips-abi32-pic.d: Likewise.
* gas/mips/mips-abi32-pic2.d: Likewise.
* gas/mips/mips-gp32-fp32-pic.d: Likewise.
* gas/mips/mips-gp32-fp64-pic.d: Likewise.
* gas/mips/mips-gp64-fp32-pic.d: Likewise.
* gas/mips/mips-gp64-fp64-pic.d: Likewise.
* gas/mips/relax-swap1-mips2.d: Likewise.
* gas/mips/lb-svr4pic-ilocks.d: New test.
* gas/mips/mips.exp: Run it.
@
text
@d1 4
@


1.635
log
@	* config/tc-arm.c (mav_parse_offset): Value must be multiple of 4.
testsuite
	* maverick.c (off8s): Test full shifted operand range.
	(MCC2): Define.
	(MVDSPACC, MVACCDSP): Use it.
	* maverick.d, maverick.s: Regenerate.
@
text
@d1 13
@


1.634
log
@Add support for ColdFire MAC instructions and tidy up support for other m68k
variants.
@
text
@d1 7
@


1.633
log
@(forgot to commit this earlier)
2004-04-21  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/elempic.d: File removed as part of -membedded-pic removal.
	* gas/mips/empic.d: Likewise.
	* gas/mips/empic.l: Likewise.
	* gas/mips/empic.s: Likewise.
	* gas/mips/empic2.d: Likewise.
	* gas/mips/empic2.s: Likewise.
	* gas/mips/empic3_e.d: Likewise.
	* gas/mips/empic3_e.s: Likewise.
	* gas/mips/empic3_g1.d: Likewise.
	* gas/mips/empic3_g1.s: Likewise.
	* gas/mips/empic3_g2.d: Likewise.
	* gas/mips/empic3_g2.s: Likewise.
	* gas/mips/jal-empic-elf-2.d: Likewise.
	* gas/mips/jal-empic-elf-2.s: Likewise.
	* gas/mips/jal-empic-elf-3.d: Likewise.
	* gas/mips/jal-empic-elf-3.s: Likewise.
	* gas/mips/jal-empic-elf.d: Likewise.
	* gas/mips/jal-empic.d: Likewise.
	* gas/mips/la-empic.d: Likewise.
	* gas/mips/la-empic.s: Likewise.
	* gas/mips/lb-empic.d: Likewise.
	* gas/mips/ld-empic.d: Likewise.
	* gas/mips/lif-empic.d: Likewise.
	* gas/mips/telempic.d: Likewise.
	* gas/mips/tempic.d: Likewise.
	* gas/mips/ulh-empic.d: Likewise.
	* gas/mips/ld-pic.s: Remove code conditional on EMPIC.
	* gas/mips/lifloat.s: Likewise.
	* gas/mips/mips.exp: Remove -membedded-pic tests and related comments.
@
text
@d1 8
@


1.632
log
@Add support for a .secrel32 x86 reloc to allow DWARF" debug information to used
with COFF based x86 ports.
@
text
@d1 32
@


1.631
log
@bfd/
	* elf32-sparc.c (elf32_sparc_relocate_section): Handle
	relocs against hidden/protected undefweak symbols properly.
	* elf64-sparc.c (sparc64_elf_relocate_section): Likewise.
gas/testsuite/
	* gas/cfi/cfi-sparc64-1.d: Update.
ld/testsuite/
	* ld-elfvsb/elfvsb.exp: XFAIL some tests on sparc64.
	* ld-shared/shared.exp: Likewise.
@
text
@d1 7
@


1.630
log
@	* doc/c-mips.texi (-m{no-,}fix-vr4120): Renamed from
	-{no-}mfix-vr4122-bugs.
	* config/tc-mips.c (mips_fix_vr4120): Renamed from mips_fix_4122_bugs.
	(append_insn, mips_emit_delays): Update accordingly.
	(OPTION_FIX_VR4120, OPTION_NO_FIX_VR4120): Renamed from *VR4122.
	(md_longopts): Change -{no-,}mfix-vr4122-bugs to -m{no-,}fix-vr4120.
	(md_parse_option): Update after above changes.
	(md_show_usage): Add -mfix-vr4120.
@
text
@d1 4
@


1.629
log
@	* gas/elf/section2.e-mips: Allow named section symbols.
	* gas/mips/{,el}empic.d, gas/mips/mips{,el}16-[ef].d: Likewise.
@
text
@d3 4
@


1.628
log
@Add test of M32R seth instruction
@
text
@d1 5
@


1.627
log
@Fix inifnite loop problem with M32R port
@
text
@d3 7
a9 2
	* gas/m32r/parallel-2.s, gas/m32r/parallel-2.d: Add a new test
	case for parallel code.
@


1.626
log
@[gas]
	2004-04-01  Asgari Jinia  <asgarij@@kpitcummins.com>
		    Dhananjay Deshpande <dhananjayd@@kpitcummins.com>
	* config/tc-sh.c (dont_adjust_reloc_32): New variable.
	(sh_fix_adjustable): Avoid adjusting BFD_RELOC_32 when
	dont_adjust_reloc_32 is set.
	(md_longopts): Add option -renesas.
	(md_parse_option, md_show_usage): Likewise.
	* doc/c-sh.texi: Likewise.
[gas/testsuite]
	2004-04-01  Asgari Jinia  <asgarij@@kpitcummins.com>
	* gas/sh/renesas-1.s, gas/sh/renesas-1.d: New test for -renesas
	option.
	* gas/sh/basic.exp: Run the new test.
@
text
@d1 5
@


1.625
log
@Correctly emit lo16 relocs for elf-dlx target, fixing bogus range checking bug.
@
text
@d1 6
@


1.624
log
@        Remove long-obsolete MPW support.
        * mpw-config.in, mpw-make.sed, mac-as.r: Remove files.
        * configure.in: Remove mention of ppc-*-mpw* config.
        * configure.in: Likewise.

[testsuite/ChangeLog]
        * gas/macros/macros.exp: Remove mention of MPW config.
@
text
@d1 11
@


1.623
log
@	* gas/i860/dir-intel03-err.l: Update for junk at end line becoming
	an error.
	* gas/m68hc11/m68hc11.exp: Likewise.
@
text
@d1 4
@


1.622
log
@	* gas/cfi/cfi-m68k.d: Adjust offsets.
@
text
@d1 6
@


1.621
log
@	* gas/cris/regreg.d: Assemble with --no-mul-bug-abort.
	* gas/cris/mulbug-err-1.s, gas/cris/rd-mulbug-1.d: New tests.
@
text
@d1 4
@


1.620
log
@[gas]
	* config/tc-sh.c: Include dw2gencfi.h.
	(sh_cfi_frame_initial_instructions): New function.
	(sh_regname_to_dw2regnum): Likewise.
	* config/tc-sh.h (DWARF2_LINE_MIN_INSN_LENGTH): Move to the end of
	file.
	(TARGET_USE_CFIPOP): Define.
	(tc_cfi_frame_initial_instructions): Likewise.
	(tc_regname_to_dw2regnum): Likewise.
	(DWARF2_DEFAULT_RETURN_COLUMN, DWARF2_CIE_DATA_ALIGNMENT): Likewise.
	* Makefile.am: Update dependencies.
	* Makefile.in: Regenerate.

[gas/testsuite]
	* gas/cfi/cfi-sh-1.d: New file.
	* gas/cfi/cfi-sh-1.s: Likewise.
	* gas/cfi/cfi.exp: Add SH case.
@
text
@d1 5
@


1.619
log
@opcodes/
	* ppc-dis.c (print_insn_powerpc): Don't print tabs.  Handle
	PPC_OPERANDS_GPR_0.
	* ppc-opc.c (RA0): Define.
	(RAQ, RAL, RAM, RAS, RSQ, RTQ, RSO): Use PPC_OPERAND_GPR_0.
	(RAOPT): Rename from RAO.  Update all uses.
	(powerpc_opcodes): Use RA0 as appropriate.  Add "lsdx", "lsdi",
	"stsdx", "stsdi", "lmd" and "stmd" insns.

include/opcode/
	* ppc.h (PPC_OPERAND_GPR_0): Define.  Bump other operand defines.

gas/testsuite/
	Update gas/ppc/.

ld/testsuite/
	Update ld-powerpc/.
@
text
@d1 6
@


1.618
log
@	* gas/i386/padlock.s: Pad with .p2align.
	* gas/i386/padlock.d: Adjust.
@
text
@d1 18
@


1.617
log
@2004-03-12  Michal Ludvig  <mludvig@@suse.cz>

	* gas/i386/padlock.s, gas/i386/padlock.d: New tests for
	VIA PadLock instructions.
	* gas/i386/i386.exp: Run padlock tests.
@
text
@d1 5
d8 1
a8 1
	* gas/i386/padlock.s, gas/i386/padlock.d: New tests for 
@


1.616
log
@	* i386-dis.c (OP_M, OP_0f0e, OP_0fae, NOP_Fixup): New functions.
	(M, Mp): Use OP_M.
	(None, PADLOCK_SPECIAL, PADLOCK_0): Delete.
	(GRPPADLCK): Define.
	(dis386): Use NOP_Fixup on "nop".
	(dis386_twobyte): Use GRPPADLCK on opcode 0xa7.
	(twobyte_has_modrm): Set for 0xa7.
	(padlock_table): Delete.  Move to..
	(grps): ..here, using OP_0f07.  Use OP_Ofae on lfence, mfence
	and clflush.
	(print_insn): Revert PADLOCK_SPECIAL code.
	(OP_E): Delete sfence, lfence, mfence checks.

	* gas/i386/katmai.d: Revert last change.
@
text
@d1 6
@


1.615
log
@opcodes/
	* i386-dis.c (grps): Use clflush by default for 0x0fae/7.
	(OP_E): Twiddle clflush to sfence here.

gas/testsuite/
	* gas/i386/katmai.d: Adjust for clflush change.
@
text
@d3 2
@


1.614
log
@	* gas/cfi/cfi-s390x-1.d: Adjust offsets.
@
text
@d1 4
@


1.613
log
@        * gas/cfi/cfi-common-2.d, gas/cfi/cfi-i386.d: Adjust offsets.
@
text
@d1 4
@


1.612
log
@	* gas/cfi/cfi-x86_64.d: Adjust offsets.
@
text
@d1 4
@


1.611
log
@        * dw2gencfi.c (output_cie): Align length to 4 byte boundary.
        (cfi_finish): Likewise for fde.

        * gas/alpha/elf-reloc-8.d, gas/cfi/cfi-alpha-1.d,
        gas/cfi/cfi-alpha-2.d, gas/cfi/cfi-alpha-3.d, gas/cfi/cfi-common-1.d,
        gas/cfi/cfi-common-2.d, gas/cfi/cfi-common-3.d: Adjust offsets.
@
text
@d1 4
@


1.610
log
@	* gas/sh/sh64/err-dsp.s: Fix expected error message.
@
text
@d1 6
@


1.609
log
@Add fr450 support.
@
text
@d1 4
@


1.608
log
@cpu/
	* frv.cpu (r-store, r-store-dual, r-store-quad): Delete.
	(rstb, rsth, rst, rstd, rstq): Delete.
	(rstbf, rsthf, rstf, rstdf, rstqf): Delete.

gas/testsuite/
	* gas/frv/allinsn.s (rstb, rsth, rst, rstd, rstq): Replace with nops.
	(rstbf, rsthf, rstf, rstdf, rstqf): Likewise.
	* gas/frv/allinsn.d: Update accordingly.

opcodes/
	* frv-desc.c, frv-opc.c, frv-opc.h: Regenerate.

sim/frv/
	* decode.c, decode.h, model.c, sem.c: Regenerate.

sim/testsuite/
	* sim/frv/{rstb,rsth,rst,rstd,rstq}.cgs: Delete.
	* sim/frv/{rstbf,rsthf,rstf,rstdf,rstqf}.cgs: Delete.
@
text
@d3 11
@


1.607
log
@Apply fixes for Maverick Crunch
@
text
@d1 6
@


1.607.2.1
log
@2004-03-12  Michal Ludvig  <mludvig@@suse.cz>

	* gas/i386/padlock.s, gas/i386/padlock.d: New tests for
	VIA PadLock instructions.
	* gas/i386/i386.exp: Run padlock tests.
@
text
@a0 6
2004-03-12  Michal Ludvig  <mludvig@@suse.cz>

	* gas/i386/padlock.s, gas/i386/padlock.d: New tests for 
	VIA PadLock instructions.
	* gas/i386/i386.exp: Run padlock tests.

@


1.607.2.2
log
@	* gas/i386/padlock.s: Pad with .p2align.
	* gas/i386/padlock.d: Adjust.
@
text
@a0 5
2004-03-15  Alan Modra  <amodra@@bigpond.net.au>

	* gas/i386/padlock.s: Pad with .p2align.
	* gas/i386/padlock.d: Adjust.

d3 1
a3 1
	* gas/i386/padlock.s, gas/i386/padlock.d: New tests for
@


1.607.2.3
log
@opcodes/
	* ppc-dis.c (print_insn_powerpc): Don't print tabs.  Handle
	PPC_OPERANDS_GPR_0.
	* ppc-opc.c (RA0): Define.
	(RAQ, RAL, RAM, RAS, RSQ, RTQ, RSO): Use PPC_OPERAND_GPR_0.
	(RAOPT): Rename from RAO.  Update all uses.
	(powerpc_opcodes): Use RA0 as appropriate.  Add "lsdx", "lsdi",
	"stsdx", "stsdi", "lmd" and "stmd" insns.

include/opcode/
	* ppc.h (PPC_OPERAND_GPR_0): Define.  Bump other operand defines.

gas/testsuite/
	Update gas/ppc/.

ld/testsuite/
	Update ld-powerpc/.
@
text
@a0 18
2004-03-16  Alan Modra  <amodra@@bigpond.net.au>

	* gas/ppc/altivec.d: Update.
	* gas/ppc/altivec_xcoff.d: Update.
	* gas/ppc/altivec_xcoff64.d: Update.
	* gas/ppc/astest.d: Update.
	* gas/ppc/astest2.d: Update.
	* gas/ppc/astest2_64.d: Update.
	* gas/ppc/astest64.d: Update.
	* gas/ppc/booke.d: Update.
	* gas/ppc/booke_xcoff.d: Update.
	* gas/ppc/booke_xcoff64.d: Update.
	* gas/ppc/e500.d: Update.
	* gas/ppc/power4.d: Update.
	* gas/ppc/test1elf32.d: Update.
	* gas/ppc/test1elf64.d: Update.
	* gas/ppc/test1xcoff32.d: Update.

@


1.607.2.4
log
@[gas]
	* config/tc-sh.c: Include dw2gencfi.h.
	(sh_cfi_frame_initial_instructions): New function.
	(sh_regname_to_dw2regnum): Likewise.
	* config/tc-sh.h (DWARF2_LINE_MIN_INSN_LENGTH): Move to the end of
	file.
	(TARGET_USE_CFIPOP): Define.
	(tc_cfi_frame_initial_instructions): Likewise.
	(tc_regname_to_dw2regnum): Likewise.
	(DWARF2_DEFAULT_RETURN_COLUMN, DWARF2_CIE_DATA_ALIGNMENT): Likewise.
	* Makefile.am: Update dependencies.
	* Makefile.in: Regenerate.

[gas/testsuite]
	* gas/cfi/cfi-sh-1.d: New file.
	* gas/cfi/cfi-sh-1.s: Likewise.
	* gas/cfi/cfi.exp: Add SH case.
@
text
@a0 6
2004-03-17  Kaz Kojima  <kkojima@@rr.iij4u.or.jp>

	* gas/cfi/cfi-sh-1.d: New file.
	* gas/cfi/cfi-sh-1.s: Likewise.	
	* gas/cfi/cfi.exp: Add SH case.

@


1.607.2.5
log
@	* gas/cris/regreg.d: Assemble with --no-mul-bug-abort.
	* gas/cris/mulbug-err-1.s, gas/cris/rd-mulbug-1.d: New tests.
@
text
@a0 5
2004-03-22  Hans-Peter Nilsson  <hp@@axis.com>

	* gas/cris/regreg.d: Assemble with --no-mul-bug-abort.
	* gas/cris/mulbug-err-1.s, gas/cris/rd-mulbug-1.d: New tests.

@


1.607.2.6
log
@Merge to 2.15 branch.
@
text
@a0 38
2004-04-09  Daniel Jacobowitz  <drow@@mvista.com>

	Merge from mainline:
	2004-04-01  Asgari Jinia  <asgarij@@kpitcummins.com>
	* gas/sh/renesas-1.s, gas/sh/renesas-1.d: New test for -renesas
	option.
	* gas/sh/basic.exp: Run the new test.

	2004-04-01  Dave Korn  <dk@@artimi.com>
	* gas/dlx/alltests.exp: Execute new lohi test.
	* gas/dlx/lohi.s: New test for spurious lo16/hi16
	reloc overflow checking.
	* gas/dlx/lohi.d: New file: expected output.
	* gas/dlx/lhi.d: Updated to properly expect lo16
	relocations where asked for.
	* gas/dlx/itype.d: Likewise.
	* gas/dlx/lhi.d: Corrected cut+paste error in test name.

	2004-03-23  Andreas Schwab  <schwab@@suse.de>
	* gas/cfi/cfi-m68k.d: Adjust offsets.

	2004-03-08  Andreas Jaeger  <aj@@suse.de>
	* gas/cfi/cfi-s390x-1.d: Adjust offsets.

	2004-03-07  Richard Henderson  <rth@@redhat.com>
	* gas/cfi/cfi-common-2.d, gas/cfi/cfi-i386.d: Adjust offsets.

	2004-03-07  Andreas Jaeger  <aj@@suse.de>
	* gas/cfi/cfi-x86_64.d: Adjust offsets.

	2004-03-07  Richard Henderson  <rth@@redhat.com>
	* gas/alpha/elf-reloc-8.d, gas/cfi/cfi-alpha-1.d,
	gas/cfi/cfi-alpha-2.d, gas/cfi/cfi-alpha-3.d, gas/cfi/cfi-common-1.d,
	gas/cfi/cfi-common-2.d, gas/cfi/cfi-common-3.d: Adjust offsets.

	2004-03-03  Kaz Kojima  <kkojima@@rr.iij4u.or.jp>
	* gas/sh/sh64/err-dsp.s: Fix expected error message.

@


1.607.2.7
log
@	* gas/elf/section2.e-mips: Allow named section symbols.
	* gas/mips/{,el}empic.d, gas/mips/mips{,el}16-[ef].d: Likewise.
@
text
@a0 5
2004-04-14  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/elf/section2.e-mips: Allow named section symbols.
	* gas/mips/{,el}empic.d, gas/mips/mips{,el}16-[ef].d: Likewise.

@


1.607.2.8
log
@	* doc/c-mips.texi (-m{no-,}fix-vr4120): Renamed from
	-{no-}mfix-vr4122-bugs.
	* config/tc-mips.c (mips_fix_vr4120): Renamed from mips_fix_4122_bugs.
	(append_insn, mips_emit_delays): Update accordingly.
	(OPTION_FIX_VR4120, OPTION_NO_FIX_VR4120): Renamed from *VR4122.
	(md_longopts): Change -{no-,}mfix-vr4122-bugs to -m{no-,}fix-vr4120.
	(md_parse_option): Update after above changes.
	(md_show_usage): Add -mfix-vr4120.
@
text
@a2 4
	* gas/mips/vr4122.[sd]: Change option to -mfix-vr4120.

2004-04-14  Richard Sandiford  <rsandifo@@redhat.com>

@


1.607.2.9
log
@* gas/frv/reloc1.d: Match elf32-frvfdpic as well.
@
text
@a0 4
2004-05-05  Alexandre Oliva  <aoliva@@redhat.com>

	* gas/frv/reloc1.d: Match elf32-frvfdpic as well.

@


1.607.2.10
log
@Additional merges to branch for 2.15.
@
text
@a0 9
2004-05-06  Daniel Jacobowitz  <dan@@debian.org>

	Merge from mainline:
	2004-04-23  Nick Clifton  <nickc@@redhat.com>
	* gas/symver/symver1.d: Cope with extra symbols inserted by
	arm-elf toolchains.
	* gas/symver/symver0.d: Likewise
	* gas/elf/symver.d: Likewise.

@


1.607.2.11
log
@	Revert patch for 2.15:
	2004-02-09  Kaz Kojima  <kkojima@@rr.iij4u.or.jp>
	* gas/sh/sh64/err-dsp.s: Fix expected error message.
@
text
@a0 6
2004-05-11  Daniel Jacobowitz  <dan@@debian.org>

	Revert patch for 2.15:
	2004-02-09  Kaz Kojima  <kkojima@@rr.iij4u.or.jp>
	* gas/sh/sh64/err-dsp.s: Fix expected error message.

@


1.607.2.12
log
@Added new instructions for new version of VIA PadLock.
@
text
@a0 5
2004-07-30  Michal Ludvig  <mludvig@@suse.cz>

	* gas/i386/padlock.s, gas/i386/padlock.d: New tests for
	VIA PadLock instructions.

@


1.607.2.13
log
@	* config/tc-mips.c (append_insn): Handle delay slots in branch likely
	correctly.
	* gas/mips/branch-swap.s: New testcase.
	* gas/mips/branch-swap.d: New testcase.
	* gas/mips/mips.exp: Run the testcase.
@
text
@a0 5
2004-08-18  Thiemo Seufer  <seufer@@csv.ica.uni-stuttgart.de>
	* gas/mips/branch-swap.s: New testcase.
	* gas/mips/branch-swap.d: New testcase.
	* gas/mips/mips.exp: Run the testcase.

@


1.607.2.14
log
@	Merge from mainline:
	2004-04-19  Jakub Jelinek  <jakub@@redhat.com>
	* gas/cfi/cfi-sparc64-1.d: Update.
@
text
@a0 6
2004-09-07  Eric Botcazou  <ebotcazou@@libertysurf.fr>

	Merge from mainline:
	2004-04-19  Jakub Jelinek  <jakub@@redhat.com>
	* gas/cfi/cfi-sparc64-1.d: Update.

a1 1

@


1.607.2.15
log
@	* gas/ppc/e500.s: Add double-precision instructions.
	* gas/ppc/e500.d: Same.
@
text
@a0 5
2004-10-06  Aldy Hernandez  <aldyh@@redhat.com>

	* gas/ppc/e500.s: Add double-precision instructions.
	* gas/ppc/e500.d: Same.

@


1.607.2.16
log
@        * gas/ppc/e500.d: Fix encoding of efscfd.
@
text
@a0 4
2005-03-10  Aldy Hernandez  <aldyh@@redhat.com>

        * gas/ppc/e500.d: Fix encoding of efscfd.

@


1.606
log
@	* gas/sh/basic.exp: Don't do sh4a tests for sh5.
@
text
@d1 6
@


1.605
log
@.:
	* dwarf2dbg.c (DWARF2_ADDR_SIZE): Remove trailing ';'
	* read.h (SKIP_WHITESPACE): Turn into an expression.
	* read.c (read_a_source_file): A pseudo is removed by having a
	NULL handler.
testsuite:
	* gas/macros/test2.s: Lowercase it.
@
text
@d1 4
@


1.604
log
@gas/
* config/tc-mips.c (add_got_offset_hilo): New function.
(macro): Use load_register() and add_got_offset_hilo() to load
constants instead of hardcoding code sequences throughout.

gas/testsuite/
* gas/mips/div.d: Update to accomodate changes in macro
expansions.
gas/mips/elf-rel-got-n32.d: Likewise.
gas/mips/elf-rel-got-n64.d: Likewise.
gas/mips/elf-rel-xgot-n32.d: Likewise.
gas/mips/elf-rel-xgot-n64.d: Likewise.
gas/mips/la-svr4pic.d: Likewise.
gas/mips/la-xgot.d: Likewise.
gas/mips/lca-svr4pic.d: Likewise.
gas/mips/lca-xgot.d: Likewise.
@
text
@d1 4
@


1.603
log
@	* gas/sh/sh4a-fp.d: Fix opcode name fssra to fsrra.
	* gas/sh/sh4a-fp.s: Likewise.
	* gas/sh/err-sh4a-fp.s: Likewise.
@
text
@d1 13
@


1.602
log
@2004-01-24  Chris Demetriou  <cgd@@broadcom.com>

        * gas/mips/relax-swap1.s: Add extra space at end, so the
        disassembly will consistently have "..." at its end.
        * gas/mips/relax-swap2.s: Likewise.
        * gas/mips/relax-swap1-mips2.d: Expect "..." at end of disassembly.
@
text
@d1 6
@


1.601
log
@	* gas/arm/arm.exp: Add "undefined" test.
	* gas/arm/undefined.s, gas/arm/undefined.l: New files.
@
text
@d1 7
@


1.600
log
@	* gas/mips/macro-warn-[1234].[sdl]: New tests.
	* gas/mips/macro-warn-[12]-n32.[dl]: New tests.
	* gas/mips/mips.exp: Run them.
@
text
@d1 5
@


1.599
log
@	* config/tc-mips.h (tc_frag_data_type, TC_FRAG_TYPE): Remove.
	* config/tc-mips.c (RELAX_ENCODE): Take three arguments: the size of
	the first sequence, the size of the second sequence, and a flag
	that says whether we should warn.
	(RELAX_OLD, RELAX_NEW, RELAX_RELOC[123]): Delete.
	(RELAX_FIRST, RELAX_SECOND): New.
	(mips_relax): New variable.
	(relax_close_frag, relax_start, relax_switch, relax_end): New fns.
	(append_insn): Remove "place" argument.  Use mips_relax.sequence
	rather than "place" to check whether we're expanding the second
	alternative of a relaxable macro.  Remove redundant check for
	branch relaxation.  If generating a normal insn, and there
	is not enough room in the current frag, call relax_close_frag()
	to close it.  Update mips_relax.sizes[].  Emit fixups for the
	second version of a relaxable macro.  Record the first relaxable
	fixup in mips_relax.  Remove tc_gen_reloc workaround.
	(macro_build): Remove all uses of "place".  Use mips_relax.sequence
	in the same way as in append_insn.
	(mips16_macro_build): Remove "place" argument.
	(macro_build_lui): As for macro_build.  Don't drop the add_symbol
	when generating the second version of a relaxable macro.
	(load_got_offset, add_got_offset): New functions.
	(load_address, macro): Use new relaxation machinery.  Remove
	tc_gen_reloc workarounds.
	(md_estimate_size_before_relax): Set RELAX_USE_SECOND if the second
	version of a relaxable macro is needed.  Return -RELAX_SECOND if the
	first version is needed.
	(tc_gen_reloc): Remove relaxation handling.
	(md_convert_frag): Go through the fixups for a relaxable macro and
	mark those that belong to the unneeded alternative as done.  If the
	second alternative is needed, adjust the fixup addresses to account
	for the deleted first alternative.

testsuite/
	* gas/mips/elf-rel19.[sd]: New test.
	* gas/mips/mips.exp: Run it.
@
text
@d3 6
@


1.598
log
@Stop indexed move byte instructions from being relaxed.
@
text
@d1 5
@


1.597
log
@	* gas/i386/katmai.d: Adjust for changed sib printing.
	* gas/i386/prescott.d: Likewise.
	* gas/i386/sse2.d: Likewise.
	* gas/i386/ssemmx2.d: Likewise.
@
text
@d1 6
@


1.596
log
@* gas/mn10300/mov5.s: New.
* gas/mn10300/basic.exp (do_mov5): New.
@
text
@d1 7
@


1.595
log
@gas/
* config/tc-mips.c (append_insn): Properly detect variant frags
that preclude swapping of relaxed branches.  Correctly swap
instructions between frags when dealing with relaxed branches.

gas/testsuite/
* gas/mips/relax-swap1-mips1.d: New test for branch relaxation
with swapping for MIPS1.
* gas/mips/relax-swap1-mips2.d: New test for branch relaxation
with swapping for MIPS2.
* gas/mips/relax-swap1.l: Stderr output for the new tests.
* gas/mips/relax-swap1.s: Source for the new tests.
* gas/mips/relax-swap2.d: New test for branch likely relaxation
with swapping.
* gas/mips/relax-swap2.l: Stderr output for the new test.
* gas/mips/relax-swap2.s: Source for the new test.
* gas/mips/mips.exp: Run the new tests.
@
text
@d1 5
@


1.594
log
@	* elf64-mips.c (mips_elf64_slurp_one_reloc_table): Call
	mips_elf64_rtype_to_howto instead of using howto_table.

	* gas/mips/mips16-64.d: New test.
	* gas/mips/mips.exp: Run it.
@
text
@d1 14
@


1.593
log
@gas/
	* config/tc-mips.c (macro_build_jalr): When adding an R_MIPS_JALR
	reloc, reserve space for the delay slot as well as the jalr itself.

gas/testsuite/
	* gas/mips/elf-rel18.[sd]: New test.
	* gas/mips/mips.exp: Run it.
@
text
@d1 5
@


1.592
log
@	* gas/config/tc-arm.c (do_vfp_reg2_from_sp2): Rename from
	do_vfp_sp_reg2.
	(do_vfp_sp2_from_reg2): New function.
	(insns): Use them.
	(do_vfp_dp_from_reg2): Check return values properly.
	* opcodes/arm-opc.h (arm_opcodes): Move generic mcrr after known
	specific opcodes.
	* gas/testsuite/gas/arm/vfp2.s, gas/arm/vfp2.d: New test.
	* gas/testsuite/gas/arm/arm.exp: Add them.
@
text
@d1 5
@


1.591
log
@	* gas/mips/ldstla-n64.d: Pass -64 to assembler, not -n64.
	* gas/mips/ldstla-n64-shared.d: Likewise.
@
text
@d1 5
@


1.590
log
@Fix initialisation of debug_line_pointer_sizes array so that it is done as needed
@
text
@d1 5
@


1.589
log
@2003-11-05  Alexandre Oliva  <aoliva@@redhat.com>
* lib/gas-defs.exp (is_elf_format): Match frv-uclinux.
2003-09-18  Alexandre Oliva  <aoliva@@redhat.com>
* gas/frv/fdpic.s, gas/frv/fdpic.d: Renamed from ucpic*.
2003-09-15  Alexandre Oliva  <aoliva@@redhat.com>
* gas/frv/ucpic.s, gas/frv/ucpic.d: Use gr15 as PIC register.  Use
gprel12 for rodata symbol and gotoff12 for sdata symbol.
2003-08-08  Alexandre Oliva  <aoliva@@redhat.com>
* gas/frv/ucpic.d: Test gotoff and gotofffuncdesc.
2003-08-04  Alexandre Oliva  <aoliva@@redhat.com>
* gas/frv/ucpic.d, gas/frv/ucpic.s: New.
* gas/frv/allinsns.exp: Run it.
@
text
@d1 4
@


1.588
log
@Catch a bug in the msp430 disassembler where an add instruction was confused
with an rla instruction.  Add a test for this to the testsuite.
@
text
@d1 15
@


1.587
log
@Split ChangeLog files.
@
text
@d1 4
@


1.586
log
@Fix tests to eliminated unexpected failures
@
text
@a0 1
2003-12-22  Nick Clifton  <nickc@@redhat.com>
d2 8
a9 6886
	* gas/sh/err-sh4a-fp.s: Fix spelling of opcode fssra.
	* gas/sh/err-sh4a-fp.d: Likewise.
	* gas/sh/sh4a-fp.s: Likewise.
	* gas/sh/sh4al-dsp.d: Fix expected opcode values for a couple of
	instructions.	

2003-12-22  Nick Clifton  <nickc@@redhat.com>

	* gas/arm/archv6.d (as): Use -march=armv6j.
	* gas/arm/thumbv6.d (as): Likewise.

2003-12-19  Kazuhiro Inaoka  <inaoka.kazuhiro@@renesas.com>

	* gas/m32r/m32rx.s: Changed pattern bncl to bncl.s.
	* gas/m32r/allinsn.d: Update for New RELA-ABI.
	* gas/m32r/high-1.d: Likewise.
	* gas/m32r/relax-1.d: Likewise.
	* gas/m32r/uppercase.d: Likewise.
	* gas/m32r/m32rx.d: Likewise.
	* gas/vtable/vtable.exp: Likewise.
	* gas/m32r/pic.exp: New file for PIC.
	* gas/m32r/pic.s: Likewise.
	* gas/m32r/pic.d: Likewise.

2003-12-18  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/mips/mips16-jalx.d: Use -mabi=o64.
	* gas/mips/mips16.d: Likewise.
	* gas/mips/elf-rel17.[sd]: New test.
	* gas/mips/mips.exp: Run it.

2003-12-17  Nick Clifton  <nickc@@redhat.com>

	* gas/m32r/error.exp: Add parallel.s
        * gas/m32r/parallel.s: New file: Test warning and error
        messages produced for parallel conflicts.

2003-12-16  Nick Clifton  <nickc@@redhat.com>

	* gas/arm/arm.exp: Run special versions of the inst, ldconst,
	arm7t and copro tests for the arm-wince-pe target.
	* gas/arm/wince_inst.d: New file.  Like inst.d but for the
	arm-wince-pe target where the -8 bias is not applied to
	PC-relative load instructions.
	* gas/arm/wince_ldconst.d: New file.  Similar reasons.
	* gas/arm/wince_arm7t.d: New file.  Similar reasons.
	* gas/arm/wince_copro.d: New file.  Similar reasons.
	
2003-12-15  Christian Groessler  <chris@@groessler.org>

	* gas/z8k/eidi.s: Add uppercase forms.  Add forms with comma
	separated parameters.

2003-12-14  Mark Mitchell  <mark@@codesourcery.com>

	* gas/arm/thumbv6.s: Add nops.
	* gas/arm/thumbv6.d: Use -M force-thumb option to objdump.  Add nops.
	
2003-12-14  Alan Modra  <amodra@@bigpond.net.au>

	* gas/mmix/basep-8.d: Update for lcomm symbol type change.
	* gas/mmix/basep-9.d: Likewise.

2003-12-10  Zack Weinberg  <zack@@codesourcery.com>

	* gas/ppc/booke.s: Add two more forms of the mbar instruction
	and three forms of the tlbwe instruction.
	* gas/ppc/booke.d: Update to match.

2003-12-10  Paul Brook  <paul@@codesourcery.com>

	* gas/arm/arm.exp: Add r15-bad.
	* gas/arm/r15-bad.s: New file.
	* gas/arm/r15-bad.l: New file.

2003-12-06  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/mips/elf-rel16.[sd]: New test.
	* gas/mips/mips.exp: Run it.
	* gas/mips/elf-rel-xgot-n32.d: Fix addends for "lw $5,dl1+34($5)".
	* gas/mips/elf-rel-xgot-n64.d: Likewise.

2003-12-05  Ricardo Anguiano <anguiano@@codesourcery.com>
	    Mark Mitchell  <mark@@codesourcery.com>
	    Richard Earnshaw  <rearnsha@@arm.com>

	* gas/arm/arm.exp: Add archv6 and thumbv6.
	* gas/arm/archv6.d: New file.
	* gas/arm/archv6.s: Likewise.
	* gas/arm/thumbv6.d: Likewise.
	* gas/arm/thumbv6.s: Likewise.

2003-12-06  Christian Groessler  <chris@@groessler.org>

	* gas/z8k/ctrl-names.d: New file.
	* gas/z8k/ctrl-names.s: New file.
	* gas/z8k/z8k.exp: Run new tests.

2003-12-02  Kazuhiro Inaoka  <inaoka.kazuhiro@@renesas.com>

	* gas/m32r/m32r2.exp: New file for m32r2.
	* gas/m32r/m32r2.s: Likewise.
	* gas/m32r/m32r2.d: Likewise.

2003-12-03  Nick Clifton  <nickc@@redhat.com>

	* gas/vax/vax.exp (do_quad): Treat a vax-*-linux-gnu target as an
	ELF target.

2003-12-01  Kaz Kojima  <kkojima@@rr.iij4u.or.jp>

	* gas/sh/basic.exp: Define ASFLAGS appropriately and don't do
	dsp test for sh64/sh5 targets.
	* gas/sh/sh64/crange1.s: Tidy up to match data alignment.
	* gas/sh/sh64/crange1-1.d: Update.
	* gas/sh/sh64/crange1-2.d: Likewise.
	* gas/sh/sh64/datal32-3.d: Likewise.
	* gas/sh/sh64/datal64-3.d: Likewise.
	* gas/sh/sh64/localcom-1.d: Likewise.

2003-11-27  Alexandre Oliva  <aoliva@@redhat.com>

	* gas/frv/reloc1.[sd]: Test references to external symbols and
	inter-section references too.

2003-11-26  Christian Groessler  <chris@@groessler.org>

	* gas/z8k/jmp-cc.d: New file.
	* gas/z8k/jmp-cc.s: New file.
	* gas/z8k/ret-cc.d: New file.
	* gas/z8k/ret-cc.s: New file.
	* gas/z8k/z8k.exp: Run new tests.

2003-11-26  Nick Clifton  <nickc@@redhat.com>

	* gas/h8300/t01_mov.s: Revert changes.
	* gas/h8300/t01_mov.exp: Revert changes.

2003-11-25  Asgari Jinia  <asgarij@@kpitcummins.com>

	* gas/h8300/multiples.s : Add instructions for H8s.
	* gas/h8300/h8300.exp (do_h8300s_multiple) : Add more test
	conditions for instructions for H8s.
	* gas/h8300/t01_mov.s: Correct illegal ldm/stm register pairings.
	* gas/h8300/t01_mov.exp: Update expected results.

2003-11-22  Alan Modra  <amodra@@bigpond.net.au>

	* gas/i386/divide.s: New.
	* gas/i386/divide.d: New.
	* gas/i386/i386.exp (gas_32_check): Run it.

	* gas/ppc/machine.s: New.
	* gas/ppc/machine.d: New.
	* gas/ppc/ppc.exp: Run it.

2003-11-18  Maciej W. Rozycki  <macro@@ds2.pg.gda.pl>

	* gas/mips/lca-svr4pic.d: New test for the "lca" macro.
	* gas/mips/lca-xgot.d: Likewise.
	* gas/mips/lca.s: Source for the new tests.
	* gas/mips/mips.exp: Run the new tests.

2003-11-14  Nick Clifton  <nickc@@redhat.com>

	* gas/arm/arm7.d: Pass -D instead of -d to objdump in order to
	display the contents of data fields in the .text section.
	This change is necessary after the addition of arm elf mapping
	symbol support to gas.
	* gas/arm/pic.d: Expect addresses with function name offsets.
	This change is necessary after the addition of arm elf mapping
	symbol support to gas.

2003-11-13  Nick Clifton  <nickc@@redhat.com>

	* gas/arm/mapping.s: New test: Source for ARM ELF mapping
	symbols test.
	* gas/arm/mapping.d: New file: Expected output.
	* gas/arm/arm.exp: Run new test.

2003-11-06  Nick Clifton  <nickc@@redhat.com>

	* gas/arm/req.s: New test file.  Check .req and .unreq psuedo ops.
	* gas/arm/req.l: Expected error output from req.s test.
	* gas/arm/copro.d: Set target architecture for objdump so that the
	test will work on architectures which cannot encode higher arm
	architecture types in their file headers.
	* gas/arm/arm.exp: Run new req.s test.
	Skip thumb instruction test for PE targets which do not support
	thumb relocations.
	* gas/elf/elf.exp: Skip special handling of section2 test for
	XScale targets - it is no longer needed.

2003-11-04  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/m68k/mcf-mov3q.d: Support 64bit BFD.

2003-11-03  Daniel Jacobowitz  <drow@@mvista.com>

	* gas/arm/arm7t.d: Replace '-#' with '#-'.
	* gas/arm/copro.d: Likewise.
	* gas/arm/fpa-mem.d: Likewise.
	* gas/arm/maverick.c: Likewise.
	* gas/arm/maverick.d: Likewise.
	* gas/arm/vfp1.d: Likewise.
	* gas/arm/vfp1xD.d: Likewise.
	* gas/arm/xscale.d: Likewise.

2003-10-27  Stephane Carrez  <stcarrez@@nerim.fr>

	* gas/m68hc11/opers12-dwarf2.d: Update, local label prefix removed.
	* gas/m68hc11/lbranch-dwarf2.d: Update.

2003-10-23  Peter Barada  <pbarada@@mail.wm.sps.mot.com>

	* gas/m68k/mcf-mov3q.s: New file: Test some ColdFire instructions.
	* gas/m68k/mcf-mov3q.s: New file: Expected disassembly.
	* gas/m68k/all.exp: Run new test.

2003-10-22  Andreas Schwab  <schwab@@suse.de>
	    H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/ia64/dv-mutex-err.s: Add more tests for compare.
	* gas/ia64/dv-mutex.s: Likewise.

	* gas/ia64/dv-mutex-err.l: Updated.
	* gas/ia64/dv-mutex.d: Likewise.

2003-10-18  Hans-Peter Nilsson  <hp@@bitrange.com>

	* gas/mmix/op-0-1.d, gas/mmix/pushj-c.d, gas/mmix/weak1.d: Add
	--no-pushj-stubs option.
	* gas/mmix/reloclab-r.d, gas/mmix/reloclab.d: Add --no-stubs
	option.
	* gas/mmix/reloclab.l: Adjust for PUSHJ stub.
	* gas/mmix/pushj-cs.d, gas/mmix/reloclab-s.d, gas/mmix/relax2.s,
	gas/mmix/relax2.d, gas/mmix/op-0-1s.d, gas/mmix/reloclab-rs.d,
	gas/mmix/weak1-s.d: New tests.

2003-10-17  Ian Lance Taylor  <ian@@wasabisystems.com>

	* gas/arm/iwmmxt-bad.s: New file.
	* gas/arm/iwmmxt-bad.l: New file.
	* gas/arm/arm.exp: Run new test.

2003-10-16  Ian Lance Taylor  <ian@@wasabisystems.com>

	* gas/arm/iwmmxt.d: Add -miwmmxt to #objdump line, to get the
	right disassembly.

2003-10-16  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/alpha/elf-reloc-8.d: Updated.

2003-10-10  Dave Brolley  <brolley@@redhat.com>

	* gas/frv/allinsn.s: Use preoperly aligned registers.
	* gas/frv/allinsn.d: Update expected results.

2003-10-08  Chris Demetriou  <cgd@@broadcom.com>

	* lib/gas-defs.exp (gas_run): Always log the command being run.
	(gas_start): Likewise.
	(regexp_diff): Make error reporting about non-existent files
	consistent.

2003-10-06  Nick Clifton  <nickc@@redhat.com>

	* gas/macros/app1.d: Skip sections symbols (if present).
	* gas/macros/app2.d: Likewise.
	* gas/macros/app3.d: Likewise.
	* gas/macros/app4.d: Likewise.

2003-10-04  Christian Groessler  <chris@@groessler.org>

	* gas/z8k/calr-backf.s: New file.
	* gas/z8k/calr-forwf.s: New file.
	* gas/z8k/calr.d: New file.
	* gas/z8k/calr.s: New file.
	* gas/z8k/djnz-backf.s: New file.
	* gas/z8k/djnz-backf2.s: New file.
	* gas/z8k/djnz.d: New file.
	* gas/z8k/djnz.s: New file.
	* gas/z8k/jr-back.d: New file.
	* gas/z8k/jr-forw.d: New file.
	* gas/z8k/jr-back.s: Fix displacement length. Add some more jumps
	for jr-back.d.
	* gas/z8k/jr-backf.s: Fix displacement length.
	* gas/z8k/jr-forw.s: Fix displacement length. Add some more jumps
	for jr-forw.d.
	* gas/z8k/jr-forwf.s: Fix displacement length.
	* gas/z8k/z8k.exp: Run new tests.

2003-10-01  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* gas/mips/ldstla-32-shared.d: New file.
	* gas/mips/ldstla-32.d: New file.
	* gas/mips/ldstla-32.s: New file.
	* gas/mips/ldstla-n32-shared.d: New file.
	* gas/mips/ldstla-n32.d: New file.
	* gas/mips/ldstla-n32.s: New file.
	* gas/mips/ldstla-n64-shared.d: New file.
	* gas/mips/ldstla-n64.d: New file.
	* gas/mips/ldstla-n64.s: New file.
	* gas/mips/mips.exp: Add ld-st-la tests.

2003-09-30  Chris Demetriou  <cgd@@broadcom.com>

	* lib/gas-defs.exp (run_dump_test): If stderr file is specified
	and there was no stderr output, compare anyway (i.e., cause a
	test failure).
	* gas/mips/mips64-mips3d.s: Add some new instructions to test warnings.
	* gas/mips/mips64-mips3d.l: New file.
	* gas/mips/mips64-mips3d.d: Use mips64-mips3d.l, and update for
	changes to mips64-mips3d.s.
	* gas/mips/mips64-mips3d-incl.d: Likewise.
	* gas/mips/set-arch.l: New file.
	* gas/mips/set-arch.d: Specify set-arch.l as stderr output to check.
	* gas/mips/mips5.l: Make error messages match source.

2003-09-30  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/cp0-names-mips64r2.d: New file.
	* gas/mips/cp0sel-names-mips64r2.d: New file.
	* gas/mips/elf_arch_mips64r2.d: New file.
	* gas/mips/hwr-names-mips64r2.d: New file.
	* gas/mips/mips32r2-ill-fp64.l: New file.
	* gas/mips/mips32r2-ill-fp64.s: New file.
	* gas/mips/mips64r2-ill.l: New file.
	* gas/mips/mips64r2-ill.s: New file.
	* gas/mips/mips64r2.d: New file.
	* gas/mips/mips64r2.s: New file.
	* gas/mips/mips.exp: Define "mips64r2" arch, and run new tests.

2003-09-29  Dave Brolley  <brolley@@redhat.com>

	* gas/frv/allinsn.s (nldqi): Removed. Replaced with nop.
	* gas/frv/allinsn.d (nldqi): Ditto.

2003-09-25  Hans-Peter Nilsson  <hp@@axis.com>

	* gas/cris/rd-pcrel2.d: Update for changes in section flag
	defaults.

2003-09-20  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* gas/mips/elfel-rel.d: Add ABI specification.
	* gas/mips/elfel-rel2.d: Likewise.
	* gas/mips/elfel-rel3.d: Likewise.

2003-09-19  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* gas/mips/rm7000.s: Let objdump print trailing dots.

2003-09-19  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* gas/mips/empic3_e.s: Fix typo.

2003-09-05  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/frv/reloc1.[sd]: New test.
	* gas/frv/allinsn.exp: Run it.

2003-09-04  Nick Clifton  <nickc@@redhat.com>

	* gas/v850/v850e1.s: New test source file.
	* gas/v850/v850e1.d: New test disassembly file.
	* gas/v850/basic.exp: Run v850e1 test.

2003-09-03  Robert Millan  <robertmh@@gnu.org>

	* gas/alpha/alpha.exp: Match GNU/KFreeBSD with new kfreebsd*-gnu
	triplet.

2003-09-03  Nick Clifton  <nickc@@redhat.com>

	* gas/cris/diffexp-ovwr.d: Remove regexp for empty section
	contents string.
	gas/cris/pushpop-dcr1-sreg.d: Likewise.
	gas/cris/string-1.d: Likewise.
	gas/cris/string-2.d: Likewise.
	gas/cris/x-to-dcr1-sreg.d: Likewise.
	gas/elf/section0.d: Likewise.
	gas/elf/section1.d: Likewise.
	gas/i386/relax.d: Likewise.
	gas/mips/elempic.d: Likewise.
	gas/mips/empic.d: Likewise.
	gas/mips/mips16-e.d: Likewise.
	gas/mips/mips16-f.d: Likewise.
	gas/mips/mipsel16-e.d: Likewise.
	gas/mips/mipsel16-f.d: Likewise.
	gas/mips/rm7000.d: Likewise.
	gas/mips/telempic.d: Likewise.
	gas/mips/tempic.d: Likewise.
	gas/mips/tmips16-e.d: Likewise.
	gas/mips/tmips16-f.d: Likewise.
	gas/mips/tmipsel16-e.d: Likewise.
	gas/mips/tmipsel16-f.d: Likewise.
	gas/mmix/align-1.d: Likewise.
	gas/mmix/basep-10.d: Likewise.
	gas/mmix/basep-11.d: Likewise.
	gas/mmix/basep-9.d: Likewise.
	gas/mmix/comment-3.d: Likewise.
	gas/mmix/cons-1.d: Likewise.
	gas/mmix/cons-2.d: Likewise.
	gas/mmix/expr-1.d: Likewise.
	gas/mmix/fb-1.d: Likewise.
	gas/mmix/fb-2.d: Likewise.
	gas/mmix/greg1.d: Likewise.
	gas/mmix/greg1a.d: Likewise.
	gas/mmix/greg2.d: Likewise.
	gas/mmix/greg2a.d: Likewise.
	gas/mmix/greg3.d: Likewise.
	gas/mmix/greg4.d: Likewise.
	gas/mmix/greg7.d: Likewise.
	gas/mmix/greg8.d: Likewise.
	gas/mmix/is-1.d: Likewise.
	gas/mmix/local-1.d: Likewise.
	gas/mmix/odd-1.d: Likewise.
	gas/mmix/op-0-1.d: Likewise.
	gas/mmix/op-0-2.d: Likewise.
	gas/mmix/prefix3.d: Likewise.
	gas/mmix/pseudo-1.d: Likewise.
	gas/mmix/weak1.d: Likewise.
	gas/sh/sh64/crange1-1.d: Likewise.
	gas/sh/sh64/crange1-2.d: Likewise.
	gas/sh/sh64/crange2-2.d: Likewise.
	gas/sh/sh64/crange3-1.d: Likewise.
	gas/sh/sh64/crange4-1.d: Likewise.
	gas/sh/sh64/crange5-1.d: Likewise.
	gas/sh/sh64/datal32-3.d: Likewise.
	gas/sh/sh64/datal64-3.d: Likewise.
	gas/sh/sh64/endian-1.d: Likewise.
	gas/sh/sh64/endian-2.d: Likewise.
	gas/sh/sh64/localcom-1.d: Likewise.
	gas/sh/sh64/rel32-5.d: Likewise.
	gas/sh/sh64/rel64-5.d: Likewise.
	gas/sh/sh64/ua32-1.d: Likewise.
	gas/sh/sh64/ua64-1.d: Likewise.
	gas/xstormy16/reloc-1.d: Likewise.

2003-09-01  Maciej W. Rozycki  <macro@@ds2.pg.gda.pl>

	* gas/mips/elf-rel-got-n32.d: Fix ulw and usw patterns for
	little-endian.
	* gas/mips/elf-rel-got-n64.d: Likewise.
	* gas/mips/elf-rel-xgot-n32.d: Likewise.
	* gas/mips/elf-rel-xgot-n64.d: Likewise.

2003-08-29  Jakub Jelinek  <jakub@@redhat.com>

	* gas/cfi/cfi-sparc-1.s: New test.
	* gas/cfi/cfi-sparc-1.d: New test.
	* gas/cfi/cfi-sparc64-1.s: New test.
	* gas/cfi/cfi-sparc64-1.d: New test.
	* gas/cfi/cfi.exp: Run them.

2003-08-19  Nick Clifton  <nickc@@redhat.com>

	* gas/arm/copro.s: Add tests of Addressing Mode 5 (Unindexed).
	* gas/arm/arm.exp: Run copro.s as a dump test.
	* gas/arm/copro.d: New file: expected disassembly of copro.s

2003-08-16  Jason Eckhardt  <jle@@rice.edu>

	* gas/i860/pseudo-ops01.{s,d}: New files.
	* gas/i860/i860.exp: Execute the new test above.
	* gas/i860/README.i860: Remove align defect from list.

2003-08-14  Nick Clifton  <nickc@@redhat.com>

	* gas/arm/pic.d: Update regexp for destination address of
	unrelocated branch instructions so that they point to themselves.
	* gas/arm/inst.d: Likewise.

2003-08-08  Andreas Schwab  <schwab@@suse.de>

	* gas/cfi/cfi-m68k.s, gas/cfi/cfi-m68k.d: New test.
	* gas/cfi/cfi.exp (run_list_test): Run it.

2003-08-06  Jason Eckhardt  <jle@@rice.edu>

	* gas/i860/dir-align01.{s,d}: New files.
	* gas/i860/i860.exp: Execute the new test above.

2003-08-06  Jason Eckhardt  <jle@@rice.edu>

	* gas/i860/dual02-err.l: Update expected error message.
	* gas/i860/README.i860: Remove dual02-err from known failure list.

2003-08-05  Jason Eckhardt  <jle@@rice.edu>

	* gas/i860/README.i860: Remove dual01 from the known failures.

2003-08-05  Jason Eckhardt  <jle@@rice.edu>

	* gas/i860/dir-intel01.{s,d}: New files.
	* gas/i860/dir-intel02.{s,d}: New files.
	* gas/i860/dir-intel03-err.{s,l}: New files.
	* gas/i860/i860.exp: Execute the above new tests.

2003-08-03  Jason Eckhardt  <jle@@rice.edu>

	* gas/i860/*.d: Prefix name with "i860".

2003-08-03  Jason Eckhardt  <jle@@rice.edu>

	* gas/i860/dual01.{s,d}: New files.
	* gas/i860/dual02-err.{s,l}: New files.
	* gas/i860/dual03.{s,d}: New files.
	* gas/i860/i860.exp: Execute the above new tests.
	* gas/i860/README.i860: Update.

2003-08-02  Alan Modra  <amodra@@bigpond.net.au>

	* gas/d10v/address-001.d: Adjust for objdump -d change.
	* gas/d10v/control-001.d: Likewise.
	* gas/d10v/error-001.d: Likewise.
	* gas/d10v/immediate-001.d: Likewise.
	* gas/d10v/immediate-002.d: Likewise.
	* gas/d10v/immediate-003.d: Likewise.
	* gas/d10v/immediate-006.d: Likewise.
	* gas/d10v/immediate-007.d: Likewise.
	* gas/d10v/instruction_packing-001.d: Likewise.
	* gas/d10v/instruction_packing-002.d: Likewise.
	* gas/d10v/instruction_packing-003.d: Likewise.
	* gas/d10v/instruction_packing-004.d: Likewise.
	* gas/d10v/instruction_packing-006.d: Likewise.
	* gas/d10v/instruction_packing-007.d: Likewise.
	* gas/d10v/instruction_packing-008.d: Likewise.
	* gas/d10v/instruction_packing-009.d: Likewise.
	* gas/d10v/instruction_packing-010.d: Likewise.
	* gas/d10v/instruction_packing.d: Likewise.
	* gas/d10v/label-001.d: Likewise.
	* gas/d10v/warning-014.d: Likewise.
	* gas/m88k/init.d: Likewise.

2003-08-01  Jason Eckhardt  <jle@@rice.edu>

	* gas/i860/README.i860: New file.

2003-07-29  Nick Clifton  <nickc@@redhat.com>

	* gas/sparc/unalign.d: Remove empty .text disassembly line.

2003-07-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/elf/elf.exp: Add section3 for note section.

	* gas/elf/section3.d: New file.
	* gas/elf/section3.s: Likewise.

2003-07-26  Alan Modra  <amodra@@bigpond.net.au>

	* gas/ppc/altivec.d: Update.
	* gas/ppc/altivec_xcoff.d: Update.
	* gas/ppc/altivec_xcoff64.d: Update.
	* gas/ppc/booke.d: Update.
	* gas/ppc/booke_xcoff.d: Update.
	* gas/ppc/booke_xcoff64.d: Update.
	* gas/ppc/e500.d: Update.

2003-07-23  Stephane Carrez  <stcarrez@@nerim.fr>

	* gas/m68hc11/m68hc11.exp: Execute the new tests.
	* gas/m68hc11/abi.s: New test for abi elf flags.
	* gas/m68hc11/abi-m68hc11-32-64.d: Test for 32-bit int, 64-bit float.
	* gas/m68hc11/abi-m68hc11-16-64.d: Test for 16-bit int, 64-bit float.
	* gas/m68hc11/abi-m68hc11-32-32.d: Test for 32-bit int, 32-bit float.
	* gas/m68hc11/abi-m68hc11-16-32.d: Test for 16-bit int, 32-bit float.

2003-07-15  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/mips/rm7000.[sd]: New test.
	* gas/mips/mips.exp: Run it.

2003-07-10  Jakub Jelinek  <jakub@@redhat.com>

	* gas/cfi/cfi-ppc-1.s: New test.
	* gas/cfi/cfi-ppc-1.d: New test.
	* gas/cfi/cfi-s390-1.s: New test.
	* gas/cfi/cfi-s390-1.s: New test.
	* gas/cfi/cfi-s390x-1.s: New test.
	* gas/cfi/cfi-s390x-1.s: New test.
	* gas/cfi/cfi.exp: Run them.

2003-07-09  Alexandre Oliva  <aoliva@@redhat.com>

	2002-02-20  Alexandre Oliva  <aoliva@@redhat.com>
	* gas/mn10300/am33-2.c (d8pcsec): PC-relative relocations within
	text sections don't decay to section+offset.
	* gas/mn10300/am33-2.d: Rebuilt.
	2000-08-15  Eric Christopher  <echristo@@cygnus.com>
	* gas/mn10300/am33-2.c (d8pcsec): New Function
	(condjmp): Adjust testcase for TC_LINKRELAX_FIXUP
	functionality.
	* gas/mn10300/am33-2.d: Regenerate
	2000-05-24  Alexandre Oliva  <aoliva@@cygnus.com>
	* gas/mn10300/am33-2.c (d8pcoff): Likewise.
	* gas/mn10300/am33-2.d: Rebuilt.
	2000-04-01  Alexandre Oliva  <aoliva@@cygnus.com>
	* gas/mn10300/am33-2.c (main): Changed `.am332' to `.am33_2'.
	Replaced `AM33 2.0' with `AM33/2.0'.
	* gas/mn10300/am33-2.d, gas/mn10300/am33-2.s: Rebuilt.
	2000-03-31  Alexandre Oliva  <aoliva@@cygnus.com>
	* gas/mn10300/am33-2.c: New file, that generated...
	* gas/mn10300/am33-2.s, gas/mn10300/am33-2.d: New files.
	* gas/mn10300/basic.exp: Test am33-2.

2003-07-08  Chris Demetriou  <cgd@@broadcom.com>

	* gas/testsuite/gas/mips/mips.exp: Make sure that branch-misc-2 is
	run to compile non-PIC code, and add branch-misc-2pic.
	* gas/mips/branch-misc-2.l: Adjust for change in non-PIC warnings.
	* gas/mips/branch-misc-2pic.l: New file.
	* gas/mips/branch-misc-2pic.s: New file.

2003-07-07  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/h8300/h8sx_disp2.[sd]: Add tests for symbolic displacements.

2003-07-04  Alan Modra  <amodra@@bigpond.net.au>

	* gas/ppc/test2elf64.s: Rename to..
	* gas/ppc/power4.s: ..this.  Add mtcr and mfcr testcases.
	* gas/ppc/test2elf64.d: Rename to..
	* gas/ppc/power4.d: ..this.  Update.
	* gas/ppc/ppc.exp: Update.

2003-07-02  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* gas/mips/set-arch.d: Fix GPR names and show raw insns.

2003-06-29  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* gas/mips/set-arch.s: New file, testcase for .set arch=FOO.
	* gas/mips/set-arch.d: Likewise.
	* gas/mips/mips.exp: Use it.

2003-06-25  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/h8300/h8sx_mov_imm.[sd]: Add tests for mov.[wl] #xx:8,@@yy.

2003-06-24  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/h8300/h8300.exp (h8sx_disp2, h8sx_rtsl, h8sx_mov_imm): Move...
	* gas/h8300/h8300-elf.exp: ...here.

2003-06-23  H.J. Lu <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Add prescott.

	* gas/i386/prescott.d: New file.
	* gas/i386/prescott.s: Likewise.

2003-06-21  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* gas/mips/elf-rel-got-n32.d: Remove special handling for n32 ABI.
	* gas/mips/elf-rel-xgot-n32.d: Likewise.
	* gas/mips/jal-newabi.d: Likewise.

2003-06-21  Christian Groessler  <chris@@groessler.org>

	* gas/z8k: New directory.
	* gas/z8k/dec.s: New file.
	* gas/z8k/decbf.s: New file.
	* gas/z8k/decf.s: New file.
	* gas/z8k/eidi.s: New file.
	* gas/z8k/eidif.s: New file.
	* gas/z8k/inc.s: New file.
	* gas/z8k/incbf.s: New file.
	* gas/z8k/incf.s: New file.
	* gas/z8k/inout.d: New file.
	* gas/z8k/inout.s: New file.
	* gas/z8k/jr-back.s: New file.
	* gas/z8k/jr-backf.s: New file.
	* gas/z8k/jr-forw.s: New file.
	* gas/z8k/jr-forwf.s: New file.
	* gas/z8k/ldk.s: New file.
	* gas/z8k/ldkf.s: New file.
	* gas/z8k/z8k.exp: New file.

2003-06-18  Jakub Jelinek  <jakub@@redhat.com>

	* gas/cfi/cfi-i386.d: Regenerated.
	* gas/cfi/cfi-common-1.d: Regenerated.
	* gas/cfi/cfi-common-2.d: Regenerated.
	* gas/cfi/cfi-common-3.d: Regenerated.
	* gas/cfi/cfi-x86_64.d: Regenerated.
	* gas/cfi/cfi-alpha-1.d: Regenerated.
	* gas/cfi/cfi-alpha-2.d: Regenerated.
	* gas/cfi/cfi-alpha-3.d: Regenerated.

2003-06-17  Nick Clifton  <nickc@@redhat.com>

	* gas/i386/absrel.d: Tweak patterns to work for i386-pc-cygwin
	target as well.
	* gas/i386/sub.d: Likewise.

2003-06-17  Loren James Rittle  <rittle@@latour.rsch.comm.mot.com>

	* gas/alpha/elf-reloc-1.d: Allow system-specific gunk after
	canonical file format.
	* gas/alpha/elf-reloc-4.d: Likewise.
	* gas/alpha/elf-reloc-5.d: Likewise.
	* gas/alpha/elf-reloc-7.d: Likewise.
	* gas/alpha/elf-reloc-8.d: Likewise.
	* gas/alpha/elf-tls-1.d: Likewise.
	* gas/alpha/elf-usepv-1.d: Likewise.

2003-06-16  Hans-Peter Nilsson  <hp@@axis.com>

	* gas/cris: Match output having $ register prefix.  Deal with
	target variants default requiring register prefix on input.

2003-06-13  Richard Earnshaw  <rearnsha@@arm.com>

	* gas/arm/arm.exp: Pass -mfpu=fpa option to the FPA instruction test.

2003-06-12  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/mips/elf-rel15.[sd]: New test.
	* gas/mips/mips.exp: Run it.

2003-06-11  Richard Henderson  <rth@@redhat.com>

	* gas/cfi/cfi-common-3.[ds]: New.
	* gas/cfi/cfi.exp: Run it.

2003-06-11  Alan Modra  <amodra@@bigpond.net.au>

	* gas/macros/app1.d: Ignore section symbols.
	* gas/macros/app2.d: Likewise.
	* gas/macros/app3.d: Likewise.
	* gas/macros/app4.d: Likewise.

2003-06-10  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* gas/mips/mips.exp: Fix typo.
	* gas/mips/elempic.d: Force o64 ABI.
	* gas/mips/telempic.d: Likewise.

2003-06-10  Alan Modra  <amodra@@bigpond.net.au>

	* lib/gas-defs.exp (proc is_elf_format): Copy from ld testsuite.
	* gas/cfi/cfi.exp: Use here.  Only run tests when ELF.
	* gas/macros/and.s: Avoid .set so we don't break mips.

2003-06-10  Alan Modra  <amodra@@bigpond.net.au>

	* gas/macros/and.s: New.
	* gas/macros/macros.exp: Assemble it.

2003-06-10  Gary Hade <garyhade@@us.ibm.com>

	* gas/ppc/test2elf64.{s,d}: New test.
	* gas/ppc/ppc.exp: Run new test.

2003-06-10  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/h8300/h8sx_mov_imm.[sd]: New test.
	* gas/h8300/h8300.exp: Run it.

2003-06-10  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/h8300/h8sx_rtsl.[sd]: New test.
	* gas/h8300/h8300.exp: Run it.

2003-06-10  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/h8300/h8sx_disp2.[sd]: New test.
	* gas/h8300/h8300.exp: Run it.

2003-06-07  Richard Henderson  <rth@@redhat.com>

	* gas/cfi/cfi-common-1.d, gas/cfi/cfi-common-1.s: New.
	* gas/cfi/cfi-common-2.d, gas/cfi/cfi-common-2.s: New.
	* gas/cfi/cfi-diag-1.d, gas/cfi/cfi-diag-1.s: New.
	* gas/cfi/cfi.exp: Run them.

2003-06-05  Michael Snyder  <msnyder@@redhat.com>

	* gas/h8300/t01_mov.s: New file, tests mov instructions.
	* gas/h8300/t02_mova.s: New file, tests mova instructions.
	* gas/h8300/t03_add.s: New file, tests add instructions.
	* gas/h8300/t04_sub.s: New file, tests sub instructions.
	* gas/h8300/t05_cmp.s: New file, tests cmp instructions.
	* gas/h8300/t06_ari2.s: New file, tests arithmetic instructions.
	* gas/h8300/t07_ari3.s: New file, tests arithmetic instructions.
	* gas/h8300/t08_or.s: New file, tests or instructions.
	* gas/h8300/t09_xor.s: New file, tests xor instructions.
	* gas/h8300/t10_and.s: New file, tests and instructions.
	* gas/h8300/t11_logs.s: New file, tests logical instructions.
	* gas/h8300/t12_bit.s: New file, tests bit instructions.
	* gas/h8300/t13_otr.s.s: New file, tests misc. instructions.
	* gas/h8300/t01_mov.exp: New file.
	* gas/h8300/t02_mova.exp: New file.
	* gas/h8300/t03_add.exp: New file.
	* gas/h8300/t04_sub.exp: New file.
	* gas/h8300/t05_cmp.exp: New file.
	* gas/h8300/t06_ari2.exp: New file.
	* gas/h8300/t07_ari3.exp: New file.
	* gas/h8300/t08_or.exp: New file.
	* gas/h8300/t09_xor.exp: New file.
	* gas/h8300/t10_and.exp: New file.
	* gas/h8300/t11_logs.exp: New file.
	* gas/h8300/t12_bit.exp: New file.
	* gas/h8300/t13_otr.exp: New file.

2003-06-04  Richard Henderson  <rth@@redhat.com>

	* gas/alpha/elf-usepv-1.[sd]: New.
	* gas/alpha/elf-usepv-2.[sd]: New.
	* gas/alpha/alpha.exp: Run them.
	* gas/cfi/cfi-alpha-3.[sd]: New.
	* gas/cfi/cfi.exp: Run it.

2003-05-31  Richard Henderson  <rth@@redhat.com>

	* gas/alpha/elf-reloc-8.d: Correct .eh_frame relocs.
	* gas/cfi/cfi-alpha-2.d: New.
	* gas/cfi/cfi-alpha-2.s: New.
	* gas/cfi/cfi.exp: Run it.

2003-05-29  Richard Henderson  <rth@@redhat.com>

	* gas/alpha/elf-reloc-8.d: Add .eh_frame relocs.
	* gas/cfi/cfi-alpha-1.d: New.
	* gas/cfi/cfi-alpha-1.s: New.
	* gas/cfi/cfi.exp: Run it.

2003-05-27  Richard Henderson  <rth@@redhat.com>

	* gas/cfi/cfi-i386.d: Update for dw2gencfi rewrite.
	* gas/cfi/cfi-x86_64.d: Likewise.
	* gas/cfi/cfi-i386-2.d: New.
	* gas/cfi/cfi-i386-2.s: New.

2003-05-23  Jason Eckhardt  <jle@@rice.edu>

	* gas/i860/xp.s: New file.
	* gas/i860/xp.d: New file.

2003-05-23  Richard Earnshaw  <rearnsha@@arm.com>

	* gas/i860/i860.exp: Don't call exit if the target isn't an i860.

2003-05-22  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* gas/mips/jal-newabi.s: New file, testcase for NewABI xgot jal macro.
	* gas/mips/jal-newabi.d: Likewise.
	* gas/mips/mips.exp: Add new testcase.

2003-05-21  H.J. Lu <hongjiu.lu@@intel.com>

	* gas/hppa/parse/parse.exp: Add "space.s".
	* gas/hppa/parse/space.s: New file to test spaces.

2003-05-20  Jason Eckhardt  <jle@@rice.edu>

	* gas/i860/branch.{s,d}: New files.
	* gas/i860/system.{s,d}: New files.

2003-05-20  Jason Eckhardt  <jle@@rice.edu>

	* gas/i860/bitwise.{s,d}: New files.
	* gas/i860/bte.{s,d}: New files.
	* gas/i860/fldst01.{s,d}: New files.
	* gas/i860/fldst02.{s,d}: New files.
	* gas/i860/fldst03.{s,d}: New files.
	* gas/i860/fldst04.{s,d}: New files.
	* gas/i860/fldst05.{s,d}: New files.
	* gas/i860/fldst06.{s,d}: New files.
	* gas/i860/fldst07.{s,d}: New files.
	* gas/i860/fldst08.{s,d}: New files.
	* gas/i860/float01.{s,d}: New files.
	* gas/i860/float02.{s,d}: New files.
	* gas/i860/float03.{s,d}: New files.
	* gas/i860/float04.{s,d}: New files.
	* gas/i860/form.{s,d}: New files.
	* gas/i860/iarith.{s,d}: New files.
	* gas/i860/ldst01.{s,d}: New files.
	* gas/i860/ldst02.{s,d}: New files.
	* gas/i860/ldst03.{s,d}: New files.
	* gas/i860/ldst04.{s,d}: New files.
	* gas/i860/ldst05.{s,d}: New files.
	* gas/i860/ldst06.{s,d}: New files.
	* gas/i860/pfam.{s,d}: New files.
	* gas/i860/pfmam.{s,d}: New files.
	* gas/i860/pfmsm.{s,d}: New files.
	* gas/i860/pfsm.{s,d}: New files.
	* gas/i860/regress01.{s,d}: New files.
	* gas/i860/shift.{s,d}: New files.
	* gas/i860/simd.{s,d}: New files.

2003-05-20  Jason Eckhardt  <jle@@rice.edu>

	* gas/i860: New directory.
	* gas/i860/i860.exp: New file.

2003-05-20  Michal Ludvig  <mludvig@@suse.cz>

	* gas/cfi/cfi.exp: Testsuite for cfi machinery.
	* gas/cfi/cfi-x86_64.[sd]: Files for x86-64.
	* gas/cfi/cfi-i386.[sd]: Files for i386.

2003-05-19  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* gas/mips/mips.exp: mips-*-linux-*, mipsel-*-linux-* use only 32-bit
	register width by default. Add them to addr32 and exclude offending
	testcases.
	* gas/mips/delay.s: Avoid odd floating point registers.
	* gas/mips/delay.d: Likewise.
	* gas/mips/nodelay.d: Likewise.
	* gas/mips/mips4.s: Likewise.
	* gas/mips/mips4.d: Likewise.
	* gas/mips/mips5.s: Likewise.
	* gas/mips/mips5.d: Likewise.
	* gas/mips/vr5400.s: Likewise.
	* gas/mips/vr5400.d: Likewise.
	* gas/mips/vr5500.s: Likewise.
	* gas/mips/vr5500.d: Likewise.
	* gas/mips/elf_e_flags2.d: Allow different expansions of the move
	macro.
	* gas/mips/elf_e_flags3.d: Likewise.
	* gas/mips/elf_e_flags4.d: Likewise.
	* gas/mips/uld2-eb.d: Likewise.
	* gas/mips/uld2-el.d: Likewise.

2003-05-16  Kelley Cook  <kelleycook@@wideopenwest.com>

	* lib/gas-defs.exp: Accept i[3-7]86 variants.

2003-05-13  Hans-Peter Nilsson  <hp@@axis.com>

	* gas/macros/app1.s, gas/macros/app1.d, gas/macros/app2.s,
	gas/macros/app2.d, gas/macros/app3.s, gas/macros/app3.d,
	gas/macros/app4.s, gas/macros/app4b.s, gas/macros/app4.d: New
	tests.
	* gas/macros/macros.exp: Run them.

2003-05-07  H.J. Lu <hongjiu.lu@@intel.com>

	* gas/ia64/ia64.exp: Add alias.

	* gas/ia64/alias.s: New.
	* gas/ia64/alias.d: Likewise.

2003-05-06  Alexandre Oliva  <aoliva@@redhat.com>

	* gas/mips/abs.d, gas/mips/add.d, gas/mips/and.d,
	gas/mips/beq.d, gas/mips/bge.d, gas/mips/bgeu.d,
	gas/mips/blt.d, gas/mips/bltu.d, gas/mips/branch-misc-1.d,
	gas/mips/break20.d, gas/mips/cp0sel-names-mips32.d,
	gas/mips/cp0sel-names-mips32r2.d,
	gas/mips/cp0sel-names-mips64.d,
	gas/mips/cp0sel-names-numeric.d, gas/mips/cp0sel-names-sb1.d,
	gas/mips/elf-jal.d, gas/mips/elf-rel.d, gas/mips/elf-rel2.d,
	gas/mips/elf-rel3.d, gas/mips/elf-rel4.d, gas/mips/elf-rel5.d,
	gas/mips/elf-rel6.d, gas/mips/elf-rel7.d,
	gas/mips/elf_arch_mips1.d, gas/mips/elf_arch_mips2.d,
	gas/mips/elf_arch_mips3.d, gas/mips/elf_arch_mips32.d,
	gas/mips/elf_arch_mips32r2.d, gas/mips/elf_arch_mips4.d,
	gas/mips/elf_arch_mips5.d, gas/mips/elf_arch_mips64.d,
	gas/mips/elf_ase_mips16.d, gas/mips/empic.d,
	gas/mips/empic2.d, gas/mips/empic3_e.d, gas/mips/empic3_g1.d,
	gas/mips/empic3_g2.d, gas/mips/hwr-names-mips32r2.d,
	gas/mips/hwr-names-numeric.d, gas/mips/jal-empic-elf-2.d,
	gas/mips/jal-empic-elf-3.d, gas/mips/jal-empic-elf.d,
	gas/mips/jal-svr4pic.d, gas/mips/jal-xgot.d, gas/mips/jal.d,
	gas/mips/la-empic.d, gas/mips/la-svr4pic.d,
	gas/mips/la-xgot.d, gas/mips/la.d, gas/mips/lb-empic.d,
	gas/mips/lb-svr4pic.d, gas/mips/lb-xgot-ilocks.d,
	gas/mips/lb-xgot.d, gas/mips/lb.d, gas/mips/ld-empic.d,
	gas/mips/ld-svr4pic.d, gas/mips/ld-xgot.d, gas/mips/ld.d,
	gas/mips/li.d, gas/mips/lif-empic.d, gas/mips/lif-svr4pic.d,
	gas/mips/lif-xgot.d, gas/mips/lifloat.d,
	gas/mips/mips-gp32-fp32-pic.d, gas/mips/mips-gp32-fp32.d,
	gas/mips/mips-gp32-fp64-pic.d, gas/mips/mips-gp32-fp64.d,
	gas/mips/mips-gp64-fp32-pic.d, gas/mips/mips-gp64-fp32.d,
	gas/mips/mips-gp64-fp64-pic.d, gas/mips/mips-gp64-fp64.d,
	gas/mips/mips.exp, gas/mips/mips16-e.d, gas/mips/mips16-f.d,
	gas/mips/mips32.d, gas/mips/mips32r2.d, gas/mips/mips4010.d,
	gas/mips/mips4650.d, gas/mips/mips64.d, gas/mips/mipsel16-e.d,
	gas/mips/mipsel16-f.d, gas/mips/rol-hw.d, gas/mips/rol.d,
	gas/mips/sb.d, gas/mips/sync.d, gas/mips/tempic.d,
	gas/mips/tmips16-e.d, gas/mips/tmips16-f.d,
	gas/mips/tmipsel16-e.d, gas/mips/tmipsel16-f.d,
	gas/mips/trunc.d, gas/mips/uld.d, gas/mips/ulh-empic.d,
	gas/mips/ulh-svr4pic.d, gas/mips/ulh-xgot.d, gas/mips/ulh.d,
	gas/mips/ulh2-eb.d, gas/mips/ulh2-el.d, gas/mips/ulw.d,
	gas/mips/ulw2-eb.d, gas/mips/ulw2-eb-ilocks.d, gas/mips/ulw2-el.d,
	gas/mips/ulw2-el-ilocks.d, gas/mips/usd.d, gas/mips/ush.d,
	gas/mips/usw.d, gas/mips/vr4122.d: Added ABI specification.
	gas/vtable/vtable.exp: mips64*-*-linux* and mips*-*-irix6* are
	RELA.

2003-05-03  H.J. Lu <hjl@@gnu.org>

	* gas/elf/symver.s: Use '%' instead of '@@' in .type.
	* gas/elf/type.s: Likewise.

2003-05-03  H.J. Lu <hjl@@gnu.org>

	* gas/elf/elf.exp (run_list_test): Support pipe for readelf.

	* gas/elf/type.e-m32r: Removed.
	* gas/elf/type.e-mips: Likewise.
	* gas/elf/type.e-miwmmxt: Likewise.

	* gas/elf/type.e: Updated.

2003-05-03  H.J. Lu <hjl@@gnu.org>

	* gas/ia64/ia64.exp: Add unwind.

	* gas/ia64/unwind.s: New. Test the new section attribute 'o'
	and the new section type "unwind".
	* gas/ia64/unwind.d: Likewise.

2003-05-02  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/mips.exp (mips_arch_init): Reimplement in
	a way that's safe with ancient versions of tcl/expect.

2003-05-01  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/mips.exp (mips_arch_init): New function.
	Call it before setting up architecture array entries.

2003-05-01  H.J. Lu <hjl@@gnu.org>

	* gas/elf/elf.exp (run_list_test): Accept empty $opts.
	Add type test.

	* gas/elf/type.e: New file.
	* gas/elf/type.s: Likewise.
	* gas/elf/type.e-m32r: Likewise.
	* gas/elf/type.e-mips: Likewise.
	* gas/elf/type.e-miwmmxt: Likewise.

2003-05-01  H.J. Lu <hjl@@gnu.org>

	* gas/ia64/ia64.exp: Add secname.

	* gas/ia64/secname.s: New. Test the trailing '#' in section
	name.
	* gas/ia64/secname.d: Likewise.

2003-05-01  H.J. Lu <hjl@@gnu.org>

	* gas/ia64/ia64.exp: Add "global".

	* gas/ia64/global.d: New file.
	* gas/ia64/global.s: Likewise.

2003-04-30  H.J. Lu <hjl@@gnu.org>

	* gas/ia64/ia64.exp: Add order.

	* gas/ia64/order.s: New file.
	* gas/ia64/order.d: Likewise.

2003-04-29  H.J. Lu <hjl@@gnu.org>

	* gas/ia64/ia64.exp: Add align.

	* gas/ia64/align.d: New file.
	* gas/ia64/align.s: Likewise.

	* ia64/dependency-1.d: Remove the padding.

2003-04-30  H.J. Lu <hjl@@gnu.org>

	* gas/ia64/ia64.exp: Add real.

	* gas/ia64/real.s: New file.
	* gas/ia64/real.d: Likewise.

2003-04-29  Nick Clifton  <nickc@@redhat.com>

	* gas/elf/elf.exp: Invoke symver test.
	* gas/elf/symver.s: New test case.
	* gas/elf/symver.d: Expected output.

2003-04-24  Nick Clifton  <nickc@@redhat.com>

	* gas/ppc/astest2.s: Add tests for conditional branches with
	probability indicators.
	* gas/ppc/astest2.d: Add expected disassembly.

2003-04-23  H.J. Lu <hjl@@gnu.org>

	* gas/ia64/opc-i.s: Add testcases for valid label.
	* gas/ia64/opc-i.d: Updated.

2003-04-10  Alexandre Oliva  <aoliva@@redhat.com>

	* gas/mips/elf-rel-got-n32.d, gas/mips/elf-rel-got-n32.s,
	gas/mips/elf-rel-got-n64.d, gas/mips/elf-rel-got-n64.s,
	gas/mips/elf-rel-xgot-n32.d, gas/mips/elf-rel-xgot-n64.d: New.
	* gas/mips/mips.exp: Test them.

2003-04-08  Nick Clifton  <nickc@@redhat.com>

	* gas/m32r/m32r.exp: Run signed-relocs test.
	* gas/m32r/signed-relocs.s: New file: Test signed relocs.
	* gas/m32r/signed-relocs.d: New file: Expected results

	* gas/ia64/dependency-1.s: New file: Test read before write dependency.
	* gas/ia64/dependency-1.d: New file: Expected assembly results.
	* gas/ia64/ia64.exp: Run the new test.

2003-04-05  Stephane Carrez  <stcarrez@@nerim.fr>

	* gas/m68hc11/bug-1825.d (_table): Update.
	* gas/m68hc11/bug-1825.s (_table): Add tests for 16-bit absolute relocs

2003-04-05  Stephane Carrez  <stcarrez@@nerim.fr>

	* gas/m68hc11/insns.s: Add %page and %addr checks.
	* gas/m68hc11/insns12.s: Likewise.
	* gas/m68hc11/insns-dwarf2.d: Update.
	* gas/m68hc11/insns.d: Update.

2003-04-04  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/mips5.d: New test.
	* gas/mips/mips5.l: New test stderr listing.
	* gas/mips/mips5.s: New test source file.
	* gas/mips/mips.exp: Run the mips5 test.

2003-04-03  Philip Blundell  <philb@@gnu.org>

	* gas/arm/offset.s: New test.
	* gas/arm/arm.exp (run_errors_test): Run it.

2003-04-02  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/ulh.d: Adjust for ulh and ulhu macro assembly changes.

	* gas/mips/mips.exp: Define new "gpr_ilocks" architecture
	property, and add it to mips2 (and later) chips and r3900.
	* gas/mips/uld2.s: New test source file.
	* gas/mips/ulh2.s: Likewise.
	* gas/mips/ulw2.s: Likewise.
	* gas/mips/uld2.l: New test stderr listing.
	* gas/mips/ulh2.l: Likewise.
	* gas/mips/ulw2.l: Likewise.
	* gas/mips/uld2-eb.d: New test.
	* gas/mips/uld2-el.d: Likewise.
	* gas/mips/ulh2-eb.d: Likewise.
	* gas/mips/ulh2-el.d: Likewise.
	* gas/mips/ulw2-eb-ilocks.d: Likewise.
	* gas/mips/ulw2-eb.d: Likewise.
	* gas/mips/ulw2-el-ilocks.d: Likewise.
	* gas/mips/ulw2-el.d: Likewise.
	* gas/mips/mips.exp: Run new tests for appropriate architectures.

2003-04-01  Bob Wilson  <bob.wilson@@acm.org>

	* gas/xtensa/all.exp: New file.
	* gas/xtensa/entry_align.s: Likewise.
	* gas/xtensa/entry_misalign2.s: Likewise.
	* gas/xtensa/entry_misalign.s: Likewise.
	* gas/xtensa/j_too_far.s: Likewise.
	* gas/xtensa/loop_align.s: Likewise.
	* gas/xtensa/loop_misalign.s: Likewise.

2003-03-25  Stan Cox   <scox@@redhat.com>
	    Nick Clifton  <nickc@@redhat.com>

	Contribute support for Intel's iWMMXt chip - an	ARM variant:

	* gas/arm/arm.exp: Run iwmmxt test.
	* gas/arm/iwmmxt.s: New test source file.
	* gas/arm/iwmmxt.d: New test expected results file.
	* gas/elf/elf.exp: Fix section2 test to cope with note section.
	* gas/eld/section2.e-miwxxmt: New test expected results file.

2003-03-12  Alexandre Oliva  <aoliva@@redhat.com>

	* gas/mips/branch-misc-2.s: Add branch to symbol in another
	section.
	* gas/mips/branch-misc-2.l: Update error messages and warnings.

2003-03-12  Alexandre Oliva  <aoliva@@redhat.com>

	* Reverted previous patch.

2003-03-02  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* gas/mips/bge.d: Reactivate external branch tests.
	* gas/mips/bge.s: Likewise.
	* gas/mips/bgeu.d: Likewise.
	* gas/mips/bgeu.s: Likewise.
	* gas/mips/blt.d: Likewise.
	* gas/mips/blt.s: Likewise.
	* gas/mips/bltu.d: Likewise.
	* gas/mips/bltu.s: Likewise.
	* gas/mips/branch-misc-2.d: New File.
	* gas/mips/branch-misc-2.l: Remove.
	* gas/mips/mips.exp: Adjust branch-misc-2 test.

2003-02-21  Nick Clifton  <nickc@@redhat.com>

	* gas/all/test-gen.c: New file: Framework for automatically
	generating assembler test files.
	* gas/all/test-examples.c: New file: Example of a file using
	test-gen.c.

	* gas/arm/maverick.c: Rework to produce correct test files and
	fix formatting.
	* gas/arm/maverick.s: Regenerate.
	* gas/arm/maverick.d: Regenerate.
	* gas/arm/arm.exp: Always run Maverick tests.

2003-02-21  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/mips/elf-rel14.[sd]: New test.
	* gas/mips/mips.exp: Run it.

2003-02-07  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/mips/rel12.[sd], gas/mips/rel13.[sd]: New tests.
	* gas/mips/mips.exp: Run them.

2003-02-07  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/mips/expr1.[sd]: New test.
	* gas/mips/mips.exp: Run it.

2003-02-06  Gwenole Beauchesne  <gbeauchesne@@mandrakesoft.com>

	* gas/i386/x86-64-opcode.s: More tests for x86-64 MOVD opcodes.
	* gas/i386/x86-64-opcode.d: Adjust to suit.

2003-02-04  Hans-Peter Nilsson  <hp@@axis.com>

	* gas/cris/rd-dw2-1.d: Adjust for dwarf2 directory table change.

2003-02-02  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/mips/elf-rel8.[sd], gas/mips/elf-rel9.[sd],
	gas/mips/elf-rel10.[sd], gas/mips/elf-rel11.[sd]: New tests.
	* gas/mips/mips.exp: Run elf-rel8 and elf-rel9 for all elf
	targets.  Run elf-rel10 and elf-rel11 for NewABI targets.

2003-01-27  Alexandre Oliva  <aoliva@@redhat.com>

	* gas/mips/n32-consec.d: New.
	* gas/mips/n32-consec.s: New.
	* gas/mips/mips.exp (run_list_test_arches): Run it on irix6 and
	mips64*-linux* systems.

2003-01-23  Martin Schwidefsky  <schwidefsky@@de.ibm.com>

	* gas/s390/reloc.s: Add test for PLT reloc against locally defined
	but global function.
	* gas/s390/reloc.d: Likewise.
	* gas/s390/reloc64.s: Likewise.
	* gas/s390/reloc64.d: Likewise.

2003-01-21  Adrian Bunk <bunk@@fs.tum.de>

	* gas/sparc/sparc.exp (sparc_elf_setup): All NetBSD ELF targets
	should pass these tests.

2003-01-20  Martin Schwidefsky  <schwidefsky@@de.ibm.com>

	* gas/s390/reloc.d: Add tests for the new gotoff, gotplt and pltoff
	relocations.
	* gas/s390/reloc.s: Likewise.
	* gas/s390/reloc64.d: Likewise.
	* gas/s390/reloc64.s: Likewise.

2003-01-07  DJ Delorie  <dj@@redhat.com>

	* gas/xstormy16/reloc-2.d: Adjust for fixed REL12 relocs.

2003-01-02  Jeff Johnston  <jjohnstn@@redhat.com>

	* gas/iq2000: New testsuite.

2003-01-02  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/elf_arch_mips32r2.d: Fix file description comment.

2002-12-31  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/cp0sel-names-mips32.d: New test.
	* gas/mips/cp0sel-names-mips32r2.d: New test.
	* gas/mips/cp0sel-names-mips64.d: New test.
	* gas/mips/cp0sel-names-numeric.d: New test.
	* gas/mips/cp0sel-names-sb1.d: New test.
	* gas/mips/cp0sel-names.s: New test source file.
	* gas/mips/mips.exp: Run new tests.

2002-12-30  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/elf_arch_mips1.d: New test.
	* gas/mips/elf_arch_mips2.d: New test.
	* gas/mips/elf_arch_mips3.d: New test.
	* gas/mips/elf_arch_mips4.d: New test.
	* gas/mips/elf_arch_mips5.d: New test.
	* gas/mips/elf_arch_mips32.d: New test.
	* gas/mips/elf_arch_mips32r2.d: New test.
	* gas/mips/elf_arch_mips64.d: New test.
	* gas/mips/empty.s: New test source file.
	* gas/mips/mips.exp: Run new tests.

	* gas/mips/elf_ase_mips16.d: Change to use empty.s
	* gas/mips/elf_ase_mips16.s: Remove.

2002-12-30  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/cp0-names-mips32r2.d: New test.
	* gas/mips/hwr-names-mips32r2.d: New test.
	* gas/mips/hwr-names-numeric.d: New test.
	* gas/mips/hwr-names.s: New test source file.
	* gas/mips/mips32r2.d: New test.
	* gas/mips/mips32r2.s: New test source file.
	* gas/mips/mips32r2-ill.l: New test.
	* gas/mips/mips32r2-ill.s: New test source file.
	* gas/mips/mips.exp: Add mips32r2 architecture data array
	entry.  Run new tests mentioned above.

2002-12-24    Dmitry Diky <diwil@@mail.ru>

	* gas/msp430: New directory.
	* gas/msp430/msp430.exp: Test msp430 assembler.
	* gas/msp430/opcode.s: Test source file.
	* gas/msp430/opcode.s: Expected disassembly.

2002-12-27  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/mips.exp: Define the notion of an "architecture data
	array," add comments indicating how to add a new architecture and
	suggestions for adding new tests.  Populate the architecture data
	array with many known architectures and convert many tests to
	be run for multiple architectures.
	(mips_arches): New global array.
	(mips_arch_create, mips_arch_list_all, mips_arch_data)
	(mips_arch_displayname, mips_arch_properties)
	(mips_arch_as_flags, mips_arch_objdump_flags, mips_arch_matches)
	(mips_arch_list_matching): New functions to operate on mips_arches.
	(run_dump_test_arch, run_dump_test_arches, run_list_test_arch)
	(run_list_test_arches): New functions.
	(run_list_test): Document and add an optional "test name" argument.
	* gas/mips/abs.d: Remove CPU-specific assembler and objdump flags,
	and CPU names from test names.
	* gas/mips/add.d: Likewise.
	* gas/mips/and.d: Likewise.
	* gas/mips/dli.d: Likewise.
	* gas/mips/jal-empic-elf-2.d: Likewise.
	* gas/mips/jal-empic-elf-3.d: Likewise.
	* gas/mips/jal-empic-elf.d: Likewise.
	* gas/mips/lb-svr4pic.d: Likewise.
	* gas/mips/lb.d: Likewise.
	* gas/mips/mips32.d: Likewise.
	* gas/mips/mips4.d: Likewise.
	* gas/mips/mips64.d: Likewise.
	* gas/mips/rol-hw.d: Likewise.
	* gas/mips/rol.d: Likewise.
	* gas/mips/rol64-hw.d: Likewise.
	* gas/mips/rol64.d: Likewise.
	* gas/mips/elf-jal.d: Likewise.  Also, indicate ELF in test name.
	* gas/mips/mips64-mdmx.d: Tweak printed name to indicate that this
	test uses the -mdmx flag.
	* gas/mips/mips64-mips3d.d: Tweak printed name to indicate that
	this test uses the -mips3d flag.
	* gas/mips/mips64-mips3d-incl.d: New file.

2002-12-27  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/cp0-names-mips32.d: New file.
	* gas/mips/cp0-names-mips64.d: New file.
	* gas/mips/cp0-names-numeric.d: New file.
	* gas/mips/cp0-names-sb1.d: New file.
	* gas/mips/cp0-names.s: New file.
	* gas/mips/fpr-names-32.d: New file.
	* gas/mips/fpr-names-64.d: New file.
	* gas/mips/fpr-names-n32.d: New file.
	* gas/mips/fpr-names-numeric.d: New file.
	* gas/mips/fpr-names.s: New file.
	* gas/mips/gpr-names-32.d: New file.
	* gas/mips/gpr-names-64.d: New file.
	* gas/mips/gpr-names-n32.d: New file.
	* gas/mips/gpr-names-numeric.d: New file.
	* gas/mips/gpr-names.s: New file.
	* gas/mips/mips.exp: Run new tests.

2002-12-20  Chris Demetriou  <cgd@@broadcom.com>

	* lib/gas-defs.exp (run_dump_test): Add a new optional argument,
	"extra_options".

2002-12-18  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/rol.s: Add ".set noat" and some new instructions to test.
	* gas/mips/rol64.s: Likewise.
	* gas/mips/rol.l: New file.
	* gas/mips/rol.d: Adjust to use rol.l and for rol.s changes.
	* gas/mips/rol64.l: New file.
	* gas/mips/rol64.d: Adjust to use rol64.l and for rol64.s changes.
	* gas/mips/rol-hw.d: New file.
	* gas/mips/rol-hw.l: New file.
	* gas/mips/rol64-hw.d: New file.
	* gas/mips/rol64-hw.l: New file.
	* gas/mips/mips.exp: Run rol-hw and rol64-hw tests.

2002-12-12  Alexandre Oliva  <aoliva@@redhat.com>

	* gas/mips/beq.d: Comment out branches to undefined symbols,
	no longer supported.
	* gas/mips/beq.s: Likewise.
	* gas/mips/bge.d: Likewise.
	* gas/mips/bge.s: Likewise.
	* gas/mips/bgeu.d: Likewise.
	* gas/mips/bgeu.s: Likewise.
	* gas/mips/blt.d: Likewise.
	* gas/mips/blt.s: Likewise.
	* gas/mips/bltu.d: Likewise.
	* gas/mips/bltu.s: Likewise.
	* gas/mips/mips.exp: Change branch-misc-2 test to run_list_test.
	* gas/mips/branch-misc-2.d: Removed.
	* gas/mips/branch-misc-2.s: Added branches to undefined symbols.
	* gas/mips/branch-misc-2.l: New.

2002-12-09  Aldy Hernandez  <aldyh@@redhat.com>

	* gas/ppc/booke.d: Fix msync and mbar to reflect reality.

	* gas/ppc/e500.d: Fix m[tf]pmr to reflect reality.

2002-12-08  Stephane Carrez  <stcarrez@@nerim.fr>

	* gas/m68hc11/m68hc11.exp (gas_m68hc11_error): New function;
	(gas_m68hc11_warning): New function.
	(gas_m68hc11_message): New function.
	(top): New tests for assembler errors.
	(gas_m68hc11_opcode_list): New function.
	(top): New tests for opcode list.

2002-12-08  Stephane Carrez  <stcarrez@@nerim.fr>

	* gas/m68hc11/bug-1825.s: Add some tests.
	* gas/m68hc11/bug-1825.d: Update.
	* gas/m68hc11/opers12.d: Update.
	* gas/m68hc11/opers12-dwarf2.d: Update.

2002-12-05  Richard Henderson  <rth@@redhat.com>

	* gas/ia64/ltoff22x-1.[ds]: New.
	* gas/ia64/ia64.exp: Run it.

2002-12-05  Jim Wilson  <wilson@@redhat.com>

	* gas/ia64/opc-x.d: Regenerate.

2002-12-05  Alan Modra  <amodra@@bigpond.net.au>

	* gas/arm/adrl.s: Pad end of .text.
	* gas/arm/adrl.d: Adjust to suit.

2002-12-04  David Mosberger  <davidm@@hpl.hp.com>

	* gas/ia64/opc-b.d: Update for instructions added by SDM2.1.
	* gas/ia64/opc-b.s: Ditto.
	* gas/ia64/opc-f.d: Ditto.
	* gas/ia64/opc-f.s: Ditto.
	* gas/ia64/opc-i.d: Ditto.
	* gas/ia64/opc-i.s: Ditto.
	* gas/ia64/opc-m.d: Ditto.
	* gas/ia64/opc-m.s: Ditto.
	* gas/ia64/opc-x.d: Ditto.
	* gas/ia64/opc-x.s: Ditto.

2002-12-03  Richard Henderson  <rth@@redhat.com>

	* gas/ia64/ldxmov-1.[ds]: New.
	* gas/ia64/ldxmov-2.[ls]: New.
	* gas/ia64/ia64.exp: Run them.

2002-12-03  Alan Modra  <amodra@@bigpond.net.au>

	* gas/arm/adrl.s: Test behaviour against globals too.
	* gas/arm/adrl.d: Adjust.

2002-12-02  Nick Clifton  <nickc@@redhat.com>

	* gasp: Remove entire directory tree.  (Gasp has been removed from
	binutils).
	* config/default.asp (GASP): Remove definition and initialization.

2002-12-01  Stephane Carrez  <stcarrez@@nerim.fr>

	* gas/m68hc11/m68hc11.exp: Rename from all.exp; run the new tests.
	* gas/m68hc11/all.exp: Remove.
	* gas/m68hc11/indexed12.d: New test.
	* gas/m68hc11/indexed12.s: Likewise.
	* gas/m68hc11/bug-1825.d: Likewise.
	* gas/m68hc11/bug-1825.s: Likewise.

2002-12-01  Stephane Carrez  <stcarrez@@nerim.fr>

	* gas/m68hc11/insns.s: Don't use .comm for stack symbol so that objdump
	can find the real symbol and not a gas internal debug symbol.
	* gas/m68hc11/insns.d: Update.
	* gas/m68hc11/insns-dwarf2.d: Update.
	* gas/m68hc11/insns12.d: Update.
	* gas/m68hc11/opers12.s (min5b, min9b): Use 16 and -256 for the min.
	* gas/m68hc11/opers12.d: Update after indexed offset operand fixes.
	* gas/m68hc11/opers12-dwarf2.d: Likewise.

2002-11-30  Kaz Kojima  <kkojima@@rr.iij4u.or.jp>

	* sh/gas/sh/pic.s: Add a test for ".long foo@@PLT+.-2-label".
	* sh/gas/sh/pic.d: Add expected output.

2002-11-29  Nick Clifton  <nickc@@redhat.com>

	* gas/arm/arch5tej.s: Replace "nop"s with tests of breakpoint
	instruction.
	* gas/arm/arch5tej.d: Expect "bkpt"s not nops.

2002-11-26  Hans-Peter Nilsson  <hp@@axis.com>

	* gas/cris/rd-bcnst.d, gas/cris/rd-bcnst.d: New test.

2002-11-25  DJ Delorie  <dj@@redhat.com>

	* gas/xstormy16/allinsn.d: Fix sdiv/sdivlh encodings.

2002-11-19  DJ Delorie  <dj@@redhat.com>

	* gas/xstormy16/allinsn.sh: Add sdiv, divlh, and sdivlh.
	* gas/xstormy16/allinsn.d: Regenerate.
	* gas/xstormy16/allinsn.s: Regenerate.

2002-11-18  Svein E. Seldal  <Svein.Seldal@@solidas.com>

	* gas/all/gas.exp: Setup for tic4x testcase
	* gas/macros/macros.exp: Ditto
	* gas/tic4x: New tic4x gas testsuite directory
	* gas/tic4x/addressing.s: Create. Fix bug in one insn
	* gas/tic4x/addressing_c3x.d: Create and update
	* gas/tic4x/addressing_c4x.d: Create and update
	* gas/tic4x/allopcodes.S: Create. Add support for new
	opclass.h changes.
	* gas/tic4x/data.d: Create
	* gas/tic4x/data.s: Create
	* gas/tic4x/float.d: Create
	* gas/tic4x/float.s: Create
	* gas/tic4x/opclasses.h: Create. Added testsuites for the
	new enhanced opcodes.
	* gas/tic4x/opcodes.s: Create (regenerate).
	* gas/tic4x/opcodes_c3x.d: Create. Updated from enhanced
	changes
	* gas/tic4x/opcodes_c4x.d: Create. Ditto.
	* gas/tic4x/rebuild.sh: Create
	* gas/tic4x/registers.s: Create
	* gas/tic4x/registers_c3x.d: Create
	* gas/tic4x/registers_c4x.d: Create
	* gas/tic4x/zeros.d: Create
	* gas/tic4x/zeros.s: Create
	* gas/tic4x/opcodes_new.d: Added new testsuite for
	the enhanced and special insns.
	* gas/tic4x/tic4x.exp: Create. Added the opcodes_new testsuite

2002-11-12  Alan Modra  <amodra@@bigpond.net.au>

	* gas/ppc/booke.d: Adjust output for corrected condition reg.

2002-11-07  Nick Clifton  <nickc@@redhat.com>

	* gas/all/gas.exp: Only run fastcall test for x86 PE targets.

2002-11-07  Casper S. Hornstrup  <chorns@@users.sourceforge.net>

	* gas/all/gas.exp: Run fastcall label handling test.
	* gas/all/fastcall.s: New file for testing handling of fastcall
	labels.

2002-11-01  H.J. Lu <hjl@@gnu.org>

	* gas/i386/i386.exp: Add "sub".

	* gas/i386/sub.d: New.
	* gas/i386/sub.s: New.

2002-10-22  H.J. Lu <hjl@@gnu.org>

	* gas/mips/branch-misc-2.d: Updated.

2002-10-23  Hans-Peter Nilsson  <hp@@axis.com>

	* gas/cris/rd-pcrel1.d, gas/cris/rd-pcrel1.s,
	gas/cris/rd-pcrel2.d, gas/cris/rd-pcrel2.s: New tests.

2002-10-21  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/mips/elf-rel7.[sd]: New test.
	* gas/mips/mips.exp: Run it.

2002-10-12  Alexandre Oliva  <aoliva@@redhat.com>

	* gas/mips/mips.exp: Don't xfail relax.
	* gas/mips/relax.s: Increase coverage.
	* gas/mips/relax.d: Add expected output.  Use relax.l for as stderr.
	* gas/mips/relax.l: New file.

2002-10-11  Kaz Kojima  <kkojima@@rr.iij4u.or.jp>

	* gas/sh/tlsd.s, gas/sh/tlsd.d: New.
	* gas/sh/tlsnopic.s, gas/sh/tlsnopic.d: New.
	* gas/sh/tlspic.s, gas/sh/tlspic.d: New.
	* gas/sh/basic.exp: Add new tests.

2002-10-09  Stephen Clarke <stephen.clarke@@superh.com>

	* gas/elf.exp: Don't run for sh64*-*-linux*, because it sets the
	lsb in SHmedia code addresses.
	* gas/sh/basic.exp: Force SHcompact for sh64*-*-linux* to enable
	recognition of SH-1/2/3/4 instructions.
	(proc do_fp): Do not run dsp tests for sh64*-*-linux*.
	* gas/sh/sh64/abi-32.d: Adjust expected output to include
	sh64*-*-linux* formats too.
	* gas/sh/sh64/abi-64.d, gas/sh/sh64/basic-1.d,
	gas/sh/sh64/case-1.d, gas/sh/sh64/case-noexp-1.d,
	gas/sh/sh64/crange1-1.d, gas/sh/sh64/crange1-2.d,
	gas/sh/sh64/crange2-1.d, gas/sh/sh64/crange2-2.d,
	sh/sh64/crange2-noexp-1.d, gas/sh/sh64/crange3-1.d,
	gas/sh/sh64/crange4-1.d, gas/sh/sh64/crange5-1.d,
	gas/sh/sh64/creg-1.d, gas/sh/sh64/creg-2.d, gas/sh/sh64/datal-2.d,
	gas/sh/sh64/datal32-1.d, gas/sh/sh64/datal32-3.d,
	gas/sh/sh64/datal64-1.d, gas/sh/sh64/datal64-3.d,
	gas/sh/sh64/endian-1.d, gas/sh/sh64/endian-2.d,
	gas/sh/sh64/err-noexp-cmd1.s, gas/sh/sh64/immexpr32-1.d,
	gas/sh/sh64/immexpr32-2.d, gas/sh/sh64/immexpr64-1.d,
	gas/sh/sh64/immexpr64-2.d, gas/sh/sh64/lineno.d,
	gas/sh/sh64/localcom-1.d, gas/sh/sh64/mix-1.d,
	gas/sh/sh64/mix-noexp-1.d, gas/sh/sh64/movi-3.d,
	gas/sh/sh64/movi32-1.d, gas/sh/sh64/movi32-2.d,
	gas/sh/sh64/movi32-noexp-2.d, gas/sh/sh64/movi64-1.d,
	gas/sh/sh64/movi64-2.d, gas/sh/sh64/movi64-3.d,
	gas/sh/sh64/movi64-noexp-2.d, gas/sh/sh64/pt-1.d,
	gas/sh/sh64/pt-noexp-1.d, gas/sh/sh64/pt32-1.d,
	gas/sh/sh64/pt32-noexp-2.d, gas/sh/sh64/pt64-1.d,
	gas/sh/sh64/pt64-32-1.d, gas/sh/sh64/pt64-32-2.d,
	gas/sh/sh64/pt64-noexp-2.d, gas/sh/sh64/ptc32-1.d,
	gas/sh/sh64/ptc32-noexp-1.d, gas/sh/sh64/ptc64-1.d,
	gas/sh/sh64/ptc64-32-1.d, gas/sh/sh64/ptc64-noexp-1.d,
	gas/sh/sh64/ptext32-1.d, gas/sh/sh64/ptext32-noexp-1.d,
	gas/sh/sh64/ptext64-1.d, gas/sh/sh64/ptext64-32-1.d,
	gas/sh/sh64/ptext64-noexp-1.d, gas/sh/sh64/rel32-1.d,
	gas/sh/sh64/rel32-2.d, gas/sh/sh64/rel32-3.d,
	gas/sh/sh64/rel32-4.d, gas/sh/sh64/rel32-5.d,
	gas/sh/sh64/rel64-1.d, gas/sh/sh64/rel64-2.d,
	gas/sh/sh64/rel64-3.d, gas/sh/sh64/rel64-4.d,
	gas/sh/sh64/rel64-5.d, gas/sh/sh64/relax-1.d,
	gas/sh/sh64/relax-2.d, gas/sh/sh64/relax-3.d,
	gas/sh/sh64/shift32-1.d, gas/sh/sh64/shift32-3.d,
	gas/sh/sh64/shift32-noexp-3.d, gas/sh/sh64/shift64-1.d,
	gas/sh/sh64/shift64-2.d, gas/sh/sh64/shift64-3.d,
	gas/sh/sh64/shift64-noexp-3.d, gas/sh/sh64/syntax-1.d,
	gas/sh/sh64/syntax-2.d, gas/sh/sh64/ua32-1.d,
	gas/sh/sh64/ua64-1.d: Likewise.

2002-10-03  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/mips-no-jalx.l: Make error message regexps accomodate
	tools which target a specific CPU by default.

2002-10-03  Kaz Kojima  <kkojima@@rr.iij4u.or.jp>

	* testsuite/gas/sh/pcrel2.d: Check code also.

2002-10-02  Stephen Clarke <stephen.clarke@@superh.com>

	* gas/sh/sh64/ptc32-noexp-1.d: Adjust for changes to *ABS*
	symbol generation.
	* gas/sh/sh64/ptc64-noexp-1.d: Likewise.

2002-09-30  H.J. Lu <hjl@@gnu.org>

	* gas/mips/mips.exp: Undo the last change.

2002-09-30  H.J. Lu <hjl@@gnu.org>

	* gas/mips/mips.exp: Set xfail on empic, empic2, empic3_g1 and
	empic3_g2 on Linux/mips.

2002-09-30  H.J. Lu <hjl@@gnu.org>

	* gas/mips/vr4120.d: Use "#pass" instead of "#..." to skip the
	rest of output.

2002-09-30  Gavin Romig-Koch  <gavin@@redhat.com>
	    Ken Raeburn  <raeburn@@cygnus.com>
	    Aldy Hernandez  <aldyh@@redhat.com>
	    DJ Delorie  <dj@@redhat.com>
	    Michael Meissner  <meissner@@redhat.com>
	    Eric Christopher  <echristo@@redhat.com>
	    Richard Sandiford  <rsandifo@@redhat.com>

	* gas/mips/mips4100.[sd]: Move dmadd16 and madd16 checks to...
	* gas/mips/vr4111.[sd]: ...this new test.
	* gas/mips/vr4120.[sd],
	* gas/mips/vr4122.[sd],
	* gas/mips/vr5400.[sd],
	* gas/mips/vr5500.[sd]: New tests.
	* mips.exp: Run them.

2002-09-27  Kaz Kojima  <kkojima@@rr.iij4u.or.jp>

	* gas/sh/pcrel2.s: New.
	* gas/sh/pcrel2.d: New.
	* gas/sh/basic.exp: Add pcrel2 test.

2002-09-27  Jason Thorpe  <thorpej@@wasabisystems.com>

	* gas/vax/elf-rel.[ds]: New test.
	* gas/vax/quad.exp: Move contents to...
	* gas/vax/vax.exp: ...here.  New file.

2002-09-27  H.J. Lu <hjl@@gnu.org>

	* gas/mips/mips-jalx.s: Add ".p2align 4".
	* gas/mips/mips16-jalx.s: Likewise.

	* gas/mips/mips-jalx.d: Check nop.
	* gas/mips/mips16-jalx.d: Likewise.

2002-09-26  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* gas/mips/mips-jalx.d: New file, check jalx assembly.
	* gas/mips/mips-jalx.s: Likewise.
	* gas/mips/mips-no-jalx.l: Likewise.
	* gas/mips/mips-no-jalx.s: Likewise.
	* gas/mips/mips16-jalx.d: Likewise.
	* gas/mips/mips16-jalx.s: Likewise.
	* gas/mips/mips.exp: Add new tests.

2002-09-26  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* gas/mips/jal-range.s: Fix jump overflow check.
	* gas/mips/jal-range.l: Likewise.

2002-09-23  Nick Clifton  <nickc@@redhat.com>

	* gas/arm/armv1-bad.s: Add LDM and STM instructions which are
	unpredictable because of their use of the writeback bit.

2002-09-21  Nick Clifton  <nickc@@redhat.com>

	* gas/arm/inst.s: Fix UNPREDICATABLE use of writeback in LDM/STM
	instructions.
	* gas/arm/inst.d: Update expected results.

2002-09-19  Jakub Jelinek  <jakub@@redhat.com>

	* gas/i386/tlspic.s: Add tests.
	* gas/i386/tlspic.d: Regenerated.
	* gas/i386/tlsnopic.s: Add tests.
	* gas/i386/tlsnopic.d: Regenerated.

2002-09-19  Richard Henderson  <rth@@redhat.com>

	* gas/alpha/elf-reloc-7.s: New.
	* gas/alpha/elf-reloc-7.d: New.
	* gas/alpha/alpha.exp: Run it.

2002-09-18  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/mips-abi32-pic2.s: New file.
	* gas/mips/mips-abi32-pic2.d: New file.
	* gas/mips/mips.exp: Run new test.

2002-09-18  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/baddata1.s: New file.
	* gas/mips/baddata1.l: New file.
	* gas/mips/mips.exp: Run new test.

2002-09-18  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/branch-misc-1.d: New file.
	* gas/mips/branch-misc-1.s: New file.
	* gas/mips/branch-misc-2.s: New file.
	* gas/mips/branch-misc-2.d: New file.
	* gas/mips/mips.exp: Run new tests.

2002-09-17  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* gas/mips/jal-range.s: Check for jal overflows.
	* gas/mips/jal-range.l: List file for it.
	* gas/mips/mips.exp: Use it.

2002-09-08  Ben Elliston  <bje@@redhat.com>

	* gas/hppa/basic/basic.exp: Update DejaGnu mail address.
	* gas/hppa/parse/parse.exp: Likewise.
	* gas/hppa/reloc/reloc.exp: Likewise.
	* gas/hppa/unsorted/unsorted.exp: Likewise.
	* gas/mn10200/basic.exp: Likewise.
	* gas/mn10300/basic.exp: Likewise.
	* gas/sh/basic.exp: Likewise.
	* gas/sh/sh64/sh64.exp: Likewise.
	* gas/v850/basic.exp: Likewise.
	* lib/gas-defs.exp: Likewise.

	* gas/all/gas.exp: Removing limping support for DejaGnu 1.1.1.
	* gasp/gasp.exp: Likewise.

2002-09-05  Alan Modra  <amodra@@bigpond.net.au>

	* gas/i386/absrel.s: New.
	* gas/i386/absrel.d: New.
	* gas/i386/pcrel.s: New.
	* gas/i386/pcrel.d: New.
	* gas/i386/i386.exp: Run them.
	* gas/testsuite/gas/mmix/comment-1.d: Don't test the symbol
	index, the name will do.
	* gas/mri/moveml.d: Escape dots.
	* gas/macros/macros.exp (strings): Add rs6000-*-* to xfails.
	* gas/mips/beq.s: Don't make text_label global.
	* gas/mips/mips32.s: Likewise.
	* gas/mips/mips64-mips3d.s: Likewise.

2002-08-28  Alan Modra  <amodra@@bigpond.net.au>

	* gas/mcore/allinsn.d: Escape dots.  Pass -z to objdump and adjust
	to suit.  Match coff relocs.  Match "from address pool" comments.
	* gas/sparc/pcrel.s: Use 2b label in expressions.
	* gas/sparc/pcrel64.s: Likewise.
	* gas/sparc/pcrel.d: Adjust to suit.
	* gas/sparc/pcrel64.d: Likewise.
	* gas/vtable/vtable.exp: Move xfails to ..
	(proc vtable_setup_xfails): .. here. Add i866.

	* gas/macros/macros.exp (strings): Update xfails.

2002-08-26  Alan Modra  <amodra@@bigpond.net.au>

	* gas/m68k/all.exp: xfail non-ELF targets on pcrel test.

	* gas/m68hc11/insns.d: Quote dots.
	* gas/m68hc11/opers12.d: Likewise.

	* gas/ieee-fp/x930509a.exp: Run the test but xfail.  Add c80 to xfails.

	* gas/vax/quad.exp: Use quad_elf.s for ELF targets.
	* gas/vax/quad.s: Align
	* gas/vax/quad_elf.s: New version of quad.s with %reg.

	* gas/sparc/sparc.exp (sparc_elf_setup): New.
	Use it to xfail for non-ELF targets.

	* gas/tic54x/align.s: Add comment.
	* gas/tic54x/align.d: Adjust .text size for 2002-05-23 write.c change.
	* gas/tic54x/extaddr.d: Similarly adjust disassembly tail.

2002-08-22  Nick Clifton  <nickc@@redhat.com>

	* gas/arm/arch5tej.s: Add nops to align output.
	* gas/arm/arch5tej.d: Expect nops.
	* gas/arm/arm7t.s: Add nops, remove thumb instructions.
	* gas/arm/arm7t.d: Expect nops.
	* gas/arm/armv1.s: Add nops.
	* gas/arm/armv1.d: Expect nops.
	* gas/arm/fpa-mem.s: Add nops.
	* gas/arm/fpa-mem.d: Expext nops.
	* gas/arm/vfp1.s: Add nops.
	* gas/arm/vfp1.d: Expect nops.
	* gas/arm/xscale.s: Add nops.
	* gas/arm/xscale.d: Expect nops.
	* gas/arm/arm.exp: Do not run thumb tests for arm-aout
	toolchain.

2002-08-22  Alan Modra  <amodra@@bigpond.net.au>

	* gas/ppc/ppc.exp: Don't run e500 test on xcoff targets.
	* gas/ppc/astest2.d: Escape dots.

2002-08-20  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/mips/rol.s: Add rotate by zero tests.
	* gas/mips/rol.d: Update accordingly.
	* gas/mips/rol64.d: Expect rotates by zero to use dsrl.

2002-08-19  Elena Zannoni   <ezannoni@@redhat.com>

	From  matthew green  <mrg@@redhat.com>
	* e500.s: New tests for e500 instructions.
	* e500.d: Results for new test.
	* ppc.exp: Test e500.s.

2002-08-16  Stephen Clarke <stephen.clarke@@superh.com>

	* gas/sh/sh64/datal32-3.d: Formatting change to match the current
	output of objdump.

2002-08-16  Alan Modra  <amodra@@bigpond.net.au>

	* gas/all/gas.exp (forward references): Don't test c30.
	* gas/d30v/guard-debug.d: Use -gstabs rather than -g.
	* gas/elf/ehopt0.s: Don't use "$" in labels.
	* gas/ieee-fp/x930509a.exp: Don't test c30.
	* gas/m68hc11/malis.d: Adjust -I so that test runs when not building
	in source dir.
	* gas/mri/mri.exp: Don't run on "m68hc*".
	* gas/sh/basic.exp (do_fp): Match LE too.
	(pcrel-coff): Run this version for "sh*-pe*" and rename "sh*-hms" to
	"sh*-rtems".
	* gas/sh/pcrel-coff.d: Add -EB to objdump flags.
	* gas/vtable/vtable.exp: Don't run on linuxecoff.  setup_xfail in
	preference to not running on ELF targets that might one day pass.
	Add more xfails.  Add more targets to the REL list.

2002-08-14  H.J. Lu <hjl@@gnu.org>

	* gas/mips/elempic.d: Treat "addiu" and "daddiu" as equivalent
	when $0 is source.
	* gas/mips/telempic.d: Likewise.
	* gas/mips/telempic.d: Likewise.

2002-08-13  Stephane Carrez  <stcarrez@@nerim.fr>

	* gas/m68hc11/all.exp: Run the new test.
	* gas/m68hc11/insns12.s: New file to test specific 68HC12 insns.
	* gas/m68hc11/insns12.d: New file.
	* gas/m68hc11/branchs12.s: New test.
	* gas/m68hc11/branchs12.d: New test.

	* gas/m68hc11/all_insns.d: Dump the relocs to verify that they
	are against symbols and not sections (for linker relaxation).
	* gas/m68hc11/insns-dwarf2.d: Likewise.
	* gas/m68hc11/insns.d: Likewise.
	* gas/m68hc11/lbranch.d: Likewise.
	* gas/m68hc11/lbranch-dwarf2.d: Likewise.
	* gas/m68hc11/opers12.d: Likewise.
	* gas/m68hc11/opers12-dwarf2.d: Likewise.

2002-08-12  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/mips/elf-consthilo.[sd]: New test.
	* gas/mips/mips.exp: Run it.

2002-08-09  Maciej W. Rozycki  <macro@@ds2.pg.gda.pl>

	* gas/mips/empic.d: Treat "addiu" and "daddiu" as equivalent when
	$0 is source.

2002-08-09  Jakub Jelinek  <jakub@@redhat.com>

	* gas/i386/gotpc.s: New.
	* gas/i386/gotpc.d: New.
	* gas/i386/i386.exp: Add gotpc test.

2002-08-06  Alan Modra  <amodra@@bigpond.net.au>

	* gas/ppc/altivec_xcoff64.d: Adjust for aix5 target.
	* gas/ppc/booke_xcoff64.d: Likewise.  Also fix relocs.

2002-08-01  H.J. Lu <hjl@@gnu.org>

	* gas/mips/elf-rel6.s: Add ".p2align 4".
	* gas/mips/elf-rel6.d: Check nop.

2002-08-01  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/mips/elf-rel6.[sd]: New test.
	* gas/mips/mips.exp: Run it.

2002-07-29  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/elf_ase_mips16.d: New file to test ELF MIPS16 ASE marking.
	* gas/mips/elf_ase_mips16.s: Likewise.
	* gas/mips/mips.exp: Run the new test.

2002-07-26  Alan Modra  <amodra@@bigpond.net.au>

	* gas/ppc/altivec.d: Invoke "as" with "-a32".

2002-07-25  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/mips/mips-gp32-fp64.d,
	* gas/mips/mips-gp32-fp64-pic.d: Add -mfp64.

2002-07-19  Hans-Peter Nilsson  <hp@@bitrange.com>

	* gas/mmix/list-pseudoints.l: Adjust for changes in gas section
	padding.
	* gas/mmix/greg7.d: Ditto.
	* gas/mmix/greg8.d: Ditto.
	* gas/mmix/fb-2.d: Ditto.
	* gas/mmix/comment-1.d: Ditto.
	* gas/mmix/byte-1.d: Ditto.

2002-07-17  H.J. Lu <hjl@@gnu.org>

	* gas/ia64/dv-branch.d: Updated.
	* gas/ia64/opc-b.d: Likewise.

2002-07-08  Alan Modra  <amodra@@bigpond.net.au>

	* gas/i386/intel16.s: New.
	* gas/i386/intel16.d: New.
	* gas/i386/i386.exp: Run it.

2002-07-03  Alan Modra  <amodra@@bigpond.net.au>

	* lib/gas-defs.exp (run_dump_test): Run objdump/nm/objcopy/readelf
	with LC_ALL=C to ensure consistent sorting.

2002-06-18  Dave Brolley  <brolley@@redhat.com>

	* gas/frv: New testsuite.

Mon Jun 17 16:23:59 2002  J"orn Rennecke <joern.rennecke@@superh.com>

	* gas/sh/dsp.s: Add three more instructions.
	* gas/sh/dsp.d: Update.

2002-06-14  Daniel Jacobowitz  <drow@@mvista.com>

	* gas/mips/lineno.d: Use --gstabs.
	* gas/mips/mips.exp (lineno.s): Remove XFAIL.

2002-06-12  Tom Rix  <trix@@redhat.com>

	* gas/ppc/aix.exp: Run tests for all versions of powerpc AIX. Add
	text alignment tests.
	* gas/ppc/textalign-xcoff-001.d: New Test.
	* gas/ppc/textalign-xcoff-002.d: New Test.
	* gas/ppc/test1xcoff32.d : Change text section alignment.
	* gas/ppc/booke_xcoff.d: Remove invalid pad.

2002-06-06  J"orn Rennecke <joern.rennecke@@superh.com>

	* testsuite/gas/sh/pcrel.s: Also test @@(symbol,pc).
	* testsuite/gas/sh/pcrel.d: Update.
	* testsuite/gas/sh/pcrel.l: New file.

2002-06-06  John David Anglin  <dave@@hiauly1.hia.nrc.ca>

	* gas/hppa/basic/add.s: Set code level to 1.1.
	* gas/hppa/basic/branch.s: Likewise.
	* gas/hppa/basic/dcor.s: Likewise.
	* gas/hppa/basic/logical.s: Likewise.
	* gas/hppa/basic/shladd.s: Likewise.
	* gas/hppa/basic/sub.s: Likewise.
	* gas/hppa/basic/unit.s: Likewise.
	* gas/hppa/unsorted/unsorted.exp: Return if target "*-*-linux*".

2002-05-31  Chris G. Demetriou  <cgd@@broadcom.com>

	* gas/mips/sb1-ext-mdmx.s: New file.
	* gas/mips/sb1-ext-mdmx.d: Likewise.
	* gas/mips/mips.exp: Run new "sb1-ext-mdmx" test.

2002-05-31  Chris G. Demetriou  <cgd@@broadcom.com>

	* gas/mips/mips.exp: Use elf-rel2 and elfel-rel2 for
	mipsisa64*-*-* targets, rather than e32-rel2 and e32el-rel2.

2002-05-30  Chris G. Demetriou  <cgd@@broadcom.com>

	* gas/mips/mips64-mdmx.s: Tweak to more thoroughly cover
	instruction encodings.
	* gas/mips/mips64-mdmx.d: Likewise.

2002-05-30  Chris G. Demetriou  <cgd@@broadcom.com>

	* gas/mips/mips64-mdmx.s: New file.
	* gas/mips/mips64-mdmx.d: Likewise.
	* gas/mips/mips.exp: Run new "mips64-mdmx" test.

2002-05-30  Richard Henderson  <rth@@redhat.com>

	* gas/alpha/elf-tls-1.s, gas/alpha/elf-tls-1.d: New.
	* gas/alpha/elf-tls-2.s, gas/alpha/elf-tls-1.l: New.
	* gas/alpha/elf-tls-3.s, gas/alpha/elf-tls-1.l: New.
	* gas/alpha/alpha.exp: Run them.

2002-05-30  Tom Rix  <trix@@redhat.com>

	* gas/d10v/d10v.exp: Add -gstabs packing, sequence control
	packing, warning, instruction packing, label, immediate and,
	error tests.
	* gas/d10v/instruction_packing-001.d - intruction_packing-010.d:
	New tests.
	* gas/d10v/control-001.d: New test.
	* gas/d10v/warning-001.d - warning-019.d: New tests.
	* gas/d10v/label-001.d: New test.
	* gas/d10v/error-001.d - error-002.d : New tests.
	* gas/d10v/immediate-001.d - immediate-007.d: New tests.

	* lib/gas-defs.exp (run_dump_test): Add error option.

2002-05-28  Kuang Hwa Lin <kuang@@sbcglobal.net>

	* gas/dlx: New directory: DLX gas testsuite
	* alltests.exp: New file: Test driver
	* branch.d: New file: Expected results.
	* branch.s: New file: Test branch insns.
	* itype.d: New file: Expected results.
	* itype.s: New file: Test ordinary insns.
	* lhi.d: New file: Expected results.
	* lhi.s: New file: Test load hi insns.
	* load.d: New file: Expected results.
	* load.s: New file: Test load insns.
	* rtype.d: New file: Expected results.
	* rtype.s: New file: Test arithmetic insns.
	* store.d: New file: Expected results.
	* store.s: New file: Test store insns.

2002-05-23  Jakub Jelinek  <jakub@@redhat.com>

	* gas/i386/tlspic.s: New file.
	* gas/i386/tlsd.s: New file.
	* gas/i386/tlsnopic.s: New file.
	* gas/i386/tlsd.d: New file.
	* gas/i386/tlsnopic.d: New file.
	* gas/i386/tlspic.d: New file.
	* gas/i386/i386.exp: Add tlsd, tlsnopic and tlspic tests.
	* gas/ia64/tls.s: New file.
	* gas/ia64/tls.d: New file.
	* gas/ia64/ia64.exp: Add tls test.

2002-05-23  Tom Rix  <trix@@redhat.com>

	* gas/d10v/d10v.exp: Add instruction packing test.
	* gas/d10v/instruction_packing.s : New test.

2002-05-22  Tom Rix  <trix@@redhat.com>

	* gas/d10v/d10v.exp: Renamed from d10.exp. Add address-* tests.
	* gas/d10v/address-001.s - address-041.s : New tests.

2002-05-23  H.J. Lu <hjl@@gnu.org>

	* gas/mips/elf-rel.d: Skip the padding.
	* gas/mips/elfel-rel.d: Likewise.

2002-05-23  H.J. Lu <hjl@@gnu.org>

	* gas/all/align2.d: New.
	* gas/all/align2.s: New.

	* gas/all/gas.exp: Run align2.

2002-05-22  H.J. Lu <hjl@@gnu.org>

	* gas/mips/elf-rel.d: Updated for the subsegs_finish change in
	write.c.
	* gas/mips/elfel-rel.d: Likewise.

Wed May 22 14:26:07 2002  J"orn Rennecke <joern.rennecke@@superh.com>

	* gas/sh/pcrel-coff.s: New file.
	* gas/sh/pcrel-coff.d: Likewise.
	* gas/sh/basic.exp: For coff, don't do dsp test,
	and a modified pcrel test.

2002-05-22  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* gas/mips/rol64.s: New file, test of drol, dror macros.
	* gas/mips/rol64.d: Likewise.
	* gas/mips/mips.exp: Add new test.

2002-05-20  Nick Clifton  <nickc@@cambridge.redhat.com>

	* gas/arm/arm.exp: Replace deprecated command line switches
	with their modern equivalents.
	* gas/arm/arm7t.d: As above.
	* gas/arm/armv1.d: As above.
	* gas/arm/fpa-dyadic.d: As above.
	* gas/arm/fpa-mem.d: As above.
	* gas/arm/fpa-monadic.d: As above.
	* gas/arm/inst.d: As above.
	* gas/arm/ldconst.d: As above.
	* gas/arm/xscale.d: As above.

2002-05-13  Alan Modra  <amodra@@bigpond.net.au>

	* gas/i386/x86-64-opcode.s: Pad out end of .text with zeros.
	* gas/i386/x86-64-opcode.d: Adjust.

2002-05-02  Nick Clifton  <nickc@@cambridge.redhat.com>

	* gas/arm/arm7t.s: Add thumb mode "sub r?, #0" and "add r?, #0".
	* gas/arm/arm7t.d: Add expected results.  (Make sure that the
	subtract is not converted into an add).

2002-04-23  H.J. Lu <hjl@@gnu.org>

	* gas/mips/elempic.d: Use empic.l.
	* gas/mips/telempic.d: Likewise.
	* gas/mips/tempic.d: Likewise.

2002-04-23  H.J. Lu <hjl@@gnu.org>

	* gas/hppa/parse/parse.exp: Don't expect failure on line separator
	test on hppa*-*-linux* nor hppa*-*-netbsd*.

2002-04-22  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/mips-gp64-fp32.l: New file.
	* gas/mips/mips-gp64-fp32.d: Use mips-gp64-fp32.l to check stderr
	output.
	* gas/mips/mips-gp64-fp64.l: New file.
	* gas/mips/mips-gp64-fp64.d: Use mips-gp64-fp64.l to check stderr
	output.

2002-04-22  Chris Demetriou  <cgd@@broadcom.com>

	* lib/gas-defs.exp (run_dump_test): Support new attribute "stderr"
	which is a file used to regexp_diff the assembler's pruned stderr
	output.
	(write_file): New helper function to write a string into a file.

	* gas/mips/empic.l: New file which matches empic tests' warnings.
	* gas/mips/empic.d: Use empic.l.

2002-04-19  Nick Clifton  <nickc@@cambridge.redhat.com>

	* gas/all/gas.exp (cofftag): Do not run test for xscale-coff
	toolchain.
	(struct, align, incbin): Use case switch so that other targets to
	be skipped can be added in the future.

2002-04-17  matthew green  <mrg@@redhat.com>

	* gas/ppc/altivec.d: Fix dssall test.
	* gas/ppc/altivec.s: Likewise.
	* gas/ppc/altivec_xcoff.d: Likewise.
	* gas/ppc/altivec_xcoff.s: Likewise.
	* gas/ppc/altivec_xcoff64.d: Likewise.
	* gas/ppc/altivec_xcoff64.s: Likewise.

2002-04-04  Nick Clifton  <nickc@@cambridge.redhat.com>

	* gas/mips/mips.exp: Remove spurious whaitespace.
	Open out one-line if-then-else test clauses so that other clauses
	can be inserted in the future.

2002-03-19  Bo Thorsen  <bo@@suse.de>

	* gas/i386/x86-64-opcode.d: More test cases for x86-64 opcodes.
	* gas/i386/x86-64-opcode.s: Likewise

2002-03-15  Chris G. Demetriou  <cgd@@broadcom.com>

	* gas/mips/mips64-mips3d.s: New file.
	* gas/mips/mips64-mips3d.d: Likewise.
	* gas/mips/mips.exp: Run new "mips64-mips3d" test.

2002-03-15  Chris G. Demetriou  <cgd@@broadcom.com>

	* gas/mips/mips.exp: Use elf-rel2 and elfel-rel2 for
	mipsisa32*-*-* targets, rather than e32-rel2 and e32el-rel2.

2002-03-14  Hans-Peter Nilsson  <hp@@bitrange.com>

	* gas/mmix/weak1.d, gas/mmix/weak1.d: New test.

2002-03-05  Paul Koning  <pkoning@@equallogic.com>

	* gas/pdp11/pdp11.exp: New file.
	* gas/pdp11/opcode.s: Ditto.
	* gas/pdp11/opcode.d: Ditto.

2002-02-22  Bo Thorsen  <bo@@suse.de>

	* i386.exp: Add x86-64-opcode (checks valid opcodes) and x86-64-inval
	(checks invalid opcodes) checks
	* x86-64-inval.l: New file.
	* x86-64-inval.s: New file.
	* x86-64-opcode.d: New file.
	* x86-64-opcode.s: New file.

2002-02-26  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/empic2.d: Adjust for the fact that relocations on
	symbols local to this file are resolved at assembly time into
	section-relative relocations, even if the symbols are extern.
	* gas/mips/empic2.s: Add file offset information, so the next
	person to do the math mentioned above has an easier time.
	* gas/mips/jal-empic-elf.d: New test.
	* gas/mips/jal-empic-elf-2.d, gas/mips/jal-empic-elf-2.s: New test.
	* gas/mips/jal-empic-elf-3.d, gas/mips/jal-empic-elf-3.s: New test.
	* gas/mips/mips.exp: Run the new tests.

2002-02-25  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* mips-gp64-fp32-pic.d: Fix test of 64bit register loads.
	* mips-gp64-fp32-pic.s: Likewise.
	* mips-gp64-fp32.d: Likewise.
	* mips-gp64-fp32.s: Likewise.
	* mips-gp64-fp64-pic.d: Likewise.
	* mips-gp64-fp64-pic.s: Likewise.
	* mips-gp64-fp64.d: Likewise.
	* mips-gp64-fp64.s: Likewise.

2002-02-25  Alan Modra  <amodra@@bigpond.net.au>

	* gas/hppa/reloc/reloc.exp: Update copyright date.

2002-02-24  Hans-Peter Nilsson  <hp@@bitrange.com>

	* gas/mmix/bspec-1.d, gas/mmix/bspec-2.d, gas/mmix/comment-1.d:
	Adjust to changes in readelf output.

2002-02-22  Nick Clifton  <nickc@@cambridge.redhat.com>

	* gasp/gasp.exp: If gasp does not exist, do not complain, just
	exit silently.

2002-02-20  Tom Rix  <trix@@redhat.com>

	* gas/ppc/ppc.exp: Add xcoff booke tests.
	* gas/ppc/booke_xcoff.s: New.
	* gas/ppc/booke_xcoff.d: New.
	* gas/ppc/booke_xcoff64.s: New.
	* gas/ppc/booke_xcoff64.d: New.

2002-02-18  Daniel Jacobowitz  <drow@@mvista.com>

	* gas/sh/basic.exp: Don't run PIC tests for targets that don't
	support it.

2002-02-14  Tom Rix  <trix@@redhat.com>

	* gas/ppc/ppc.exp: Add xcoff altivec tests.
	* gas/ppc/altivec_xcoff.s: New.
	* gas/ppc/altivec_xcoff.d: New.
	* gas/ppc/altivec_xcoff64.s: New.
	* gas/ppc/altivec_xcoff64.d: New.

2002-02-13  Ben Elliston  <bje@@redhat.com>

	* gasp/flonums.asm: New test.
	* gasp/flonums.err: New result.
	* gasp/flonums.out: Likewise.

2002-02-12  John David Anglin  <dave@@hiauly1.hia.nrc.ca>

	* gas/hppa/reloc/reloc.exp (labelopbug.s): Change test to suit
	hppa_fix_adjustable change.

2002-02-09  Richard Henderson  <rth@@redhat.com>

	* gas/alpha/elf-reloc-5.s, gas/alpha/elf-reloc-5.d: New.
	* gas/alpha/elf-reloc-6.s, gas/alpha/elf-reloc-6.l: New.
	* gas/alpha/alpha.exp: Run them.

2002-02-08  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/mips.exp: Document (but do not XFAIL) currently-failing
	MIPS ECOFF tests, providing what information is known about
	the origins of the failures.

2002-02-08  Alexandre Oliva  <aoliva@@redhat.com>

	Contribute sh64-elf.
	2002-02-01  Alexandre Oliva  <aoliva@@redhat.com>
	* gas/sh/sh64/syntax-1.s: Remove `-4' from @@(expr-4,pc).
	2002-01-28  Alexandre Oliva  <aoliva@@redhat.com>
	* gas/sh/sh64/crange1-1.d: Formatting changes to match the current
	output of objdump.
	* gas/sh/sh64/crange1-2.d: Likewise.
	* gas/sh/sh64/crange2-2.d: Likewise.
	* gas/sh/sh64/crange3-1.d: Likewise.
	* gas/sh/sh64/crange4-1.d: Likewise.
	* gas/sh/sh64/datal-2.d: Likewise.
	* gas/sh/sh64/datal32-1.d: Likewise.
	* gas/sh/sh64/datal32-3.d: Likewise.
	* gas/sh/sh64/localcom-1.d: Likewise.
	* gas/sh/sh64/mix-1.d: Likewise.
	* gas/sh/sh64/pt32-1.d: Likewise.
	* gas/sh/sh64/rel32-1.d: Likewise.
	* gas/sh/sh64/rel32-2.d: Likewise.
	* gas/sh/sh64/rel32-3.d: Likewise.
	* gas/sh/sh64/rel32-4.d: Likewise.
	* gas/sh/sh64/rel32-5.d: Likewise.
	* gas/sh/sh64/ua32-1.d: Likewise.
	2001-03-14  DJ Delorie	<dj@@redhat.com>
	* gas/sh/sh64/endian-1.d: New test - Little Endianness.
	* gas/sh/sh64/endian-1.s: New test - Little Endianness.
	* gas/sh/sh64/endian-2.d: New test - Big Endianness.
	* gas/sh/sh64/endian-2.s: New test - Big Endianness.
	2001-03-12  DJ Delorie	<dj@@redhat.com>
	* gas/sh/sh64/syntax-1.d: New test - basic syntax.
	* gas/sh/sh64/syntax-1.s: New test - basic syntax.
	* gas/sh/sh64/syntax-2.d: New test - basic syntax, pseudos.
	* gas/sh/sh64/syntax-2.s: New test - basic syntax, pseudos.
	2001-03-06  DJ Delorie	<dj@@redhat.com>
	* gas/sh/sh64/lineno.d: New, test dwarf2 line numbers vs macros.
	* gas/sh/sh64/lineno.s: Ditto.
	2001-01-14  Hans-Peter Nilsson	<hpn@@cygnus.com>
	* gas/sh/sh64/err-dsp.s: New test.
	2001-01-13  Hans-Peter Nilsson	<hpn@@cygnus.com>
	* gas/sh/sh64/err-abi-64.s, gas/sh/sh64/err-abi-32.s,
	gas/sh/sh64/abi-64.s, gas/sh/sh64/abi-64.d, gas/sh/sh64/abi-32.s,
	gas/sh/sh64/abi-32.d, gas/sh/sh64/crange3.s,
	gas/sh/sh64/crange3-1.d, gas/sh/sh64/crange4.s,
	gas/sh/sh64/crange4-1.d, gas/sh/sh64/crange5.s,
	gas/sh/sh64/crange5-1.d: New tests.
	2001-01-07  Hans-Peter Nilsson	<hpn@@cygnus.com>
	* gas/sh/sh64/relax-1.s, gas/sh/sh64/relax-1.d: New test.
	* gas/sh/sh64/err-pt-1.s: New test.
	* gas/sh/sh64/relax-2.s, gas/sh/sh64/relax-2.d: New test.
	* gas/sh/sh64/localcom-1.s, gas/sh/sh64/localcom-1.d: New test.
	* gas/sh/sh64/movi-3.s, gas/sh/sh64/movi-3.d: New test.
	* gas/sh/sh64/relax-3.s, gas/sh/sh64/relax-3.d: New test.
	2001-01-05  Hans-Peter Nilsson	<hpn@@cygnus.com>
	* gas/sh/sh64/case-noexp-1.d: Adjust to changed GAS output for
	check-PTA/PTB / perhaps-change-to-PTB bit in target field.
	* gas/sh/sh64/case-noexp-1.d: Ditto.
	* gas/sh/sh64/mix-noexp-1.d: Ditto.
	* gas/sh/sh64/pt32-noexp-2.d: Ditto.
	* gas/sh/sh64/pt64-noexp-2.d: Ditto.
	* gas/sh/sh64/ptc32-noexp-1.d: Ditto.
	* gas/sh/sh64/ptc64-noexp-1.d: Ditto.
	* gas/sh/sh64/ptext32-noexp-1.d: Ditto.
	* gas/sh/sh64/ptext64-noexp-1.d: Ditto.
	2000-12-31  Hans-Peter Nilsson	<hpn@@cygnus.com>
	* gas/sh/sh64/shift64-3.d: Fix typo.
	* gas/sh/sh64/shift64-noexp-3.d, gas/sh/sh64/shift32-noexp-3.d,
	gas/sh/sh64/ptext64-noexp-1.d, gas/sh/sh64/ptext64-32-1.d,
	gas/sh/sh64/ptext32-noexp-1.d, gas/sh/sh64/ptc64-noexp-1.d,
	gas/sh/sh64/ptc64-32-1.d, gas/sh/sh64/ptc32-noexp-1.d,
	gas/sh/sh64/pt64-noexp-2.d, gas/sh/sh64/pt64-32-2.d,
	gas/sh/sh64/pt64-32-1.d, gas/sh/sh64/pt32-noexp-2.d,
	gas/sh/sh64/pt-noexp-1.d, gas/sh/sh64/movi64-noexp-2.d,
	gas/sh/sh64/movi32-noexp-2.d, gas/sh/sh64/mix-noexp-1.d,
	gas/sh/sh64/err-ptb-2.s, gas/sh/sh64/err-ptb-1.s,
	gas/sh/sh64/err-pt32-cmd3.s, gas/sh/sh64/err-pt32-cmd2.s,
	gas/sh/sh64/err-pt32-cmd1.s, gas/sh/sh64/err-noexp-cmd1.s,
	gas/sh/sh64/err-movi-noexp-1.s, gas/sh/sh64/crange2.s,
	gas/sh/sh64/crange2-noexp-1.d, gas/sh/sh64/crange2-2.d,
	gas/sh/sh64/crange2-1.d, gas/sh/sh64/case-noexp-1.d: New tests.
	2000-12-18  Hans-Peter Nilsson	<hpn@@cygnus.com>
	* gas/sh/sh64/err-4.s: Use option -no-mix to see errors.  Adjust
	for errors not being emitted at the .mode directives anymore.
	* gas/sh/sh64/crange1.s, gas/sh/sh64/crange1-2.d,
	gas/sh/sh64/crange1-1.d: New tests for .cranges section.
	2000-12-12  Hans-Peter Nilsson	<hpn@@cygnus.com>
	* gas/sh/sh64/err-3.s: New test.
	* gas/sh/sh64/immexpr1.s, gas/sh/sh64/immexpr32-1.d,
	gas/sh/sh64/immexpr64-1.d: New tests.
	* gas/sh/sh64/immexpr2.s, gas/sh/sh64/immexpr32-2.d,
	gas/sh/sh64/immexpr64-2.d: New tests.
	2000-12-11  Hans-Peter Nilsson	<hpn@@cygnus.com>
	* gas/sh/sh64/rel-1.s, gas/sh/sh64/rel-2.s, gas/sh/sh64/rel-3.s,
	gas/sh/sh64/rel-4.s, gas/sh/sh64/rel-5.s, gas/sh/sh64/rel32-1.d,
	gas/sh/sh64/rel32-2.d, gas/sh/sh64/rel32-3.d,
	gas/sh/sh64/rel32-4.d, gas/sh/sh64/rel32-5.d,
	gas/sh/sh64/rel64-1.d, gas/sh/sh64/rel64-2.d,
	gas/sh/sh64/rel64-3.d, gas/sh/sh64/rel64-4.d,
	gas/sh/sh64/rel64-5.d: New tests.
	2000-12-07  Hans-Peter Nilsson	<hpn@@cygnus.com>
	* gas/sh/sh64/case-1.d, gas/sh/sh64/mix-1.d, gas/sh/sh64/pt32-1.d,
	gas/sh/sh64/pt64-1.d, gas/sh/sh64/ptc32-1.d,
	gas/sh/sh64/ptc64-1.d, gas/sh/sh64/ptext32-1.d,
	gas/sh/sh64/ptext64-1.d: Correct offsets in PT/PTA/PTB expansion.
	2000-12-05  Hans-Peter Nilsson	<hpn@@cygnus.com>
	* gas/sh/sh64/datal-3.s, gas/sh/sh64/datal32-3.d,
	gas/sh/sh64/datal64-3.d: New tests.
	2000-11-27  Hans-Peter Nilsson	<hpn@@cygnus.com>
	* gas/sh/sh64/datal-1.s: Remove whitespace at end of line.
	* gas/sh/sh64/datal32-1.d, gas/sh/sh64/datal64-1.d,
	gas/sh/sh64/movi32-1.d, gas/sh/sh64/movi32-2.d,
	gas/sh/sh64/movi64-1.d, gas/sh/sh64/movi64-3.d: Correct register.
	* gas/sh/sh64/mix-1.s, gas/sh/sh64/mix-1.d, gas/sh/sh64/err-4.s:
	New tests.
	2000-11-26  Hans-Peter Nilsson	<hpn@@cygnus.com>
	* gas/macros/macros.exp: Import xfail sh*-*-* from net binutils.
	* gas/sh/sh64/case-1.d: Correct offsets in PT/PTA/PTB expansion.
	gas/sh/sh64/pt32-1.d, gas/sh/sh64/pt64-1.d: Ditto.
	gas/sh/sh64/ptc32-1.d, gas/sh/sh64/ptc64-1.d: Ditto.
	gas/sh/sh64/ptext32-1.d, gas/sh/sh64/ptext64-1.d: Ditto.
	2000-11-25  Hans-Peter Nilsson	<hpn@@cygnus.com>
	* gas/sh/sh64/ptc32-1.d, gas/sh/sh64/ptc64-1.d: Correct.
	* gas/sh/sh64/datal-1.s, gas/sh/sh64/datal32-1.d,
	gas/sh/sh64/datal64-1.d: New test.
	* gas/sh/sh64/datal-2.s, gas/sh/sh64/datal-2.d: New test.
	* gas/sh/sh64/creg-1.d, gas/sh/sh64/creg-1.s: New test.
	* gas/sh/sh64/creg-2.d, gas/sh/sh64/creg-2.s: New test.
	2000-11-24  Hans-Peter Nilsson	<hpn@@cygnus.com>
	* gas/sh/sh64: New testsuite.

2002-02-06  Alexandre Oliva  <aoliva@@redhat.com>

	* gas/sh/pic.d, gas/sh/pic.s: New test.
	* gas/sh/basic.exp: Run it.

2002-02-05  Alan Modra  <amodra@@bigpond.net.au>

	* gas/ppc/test1elf64.d: Tweak arch name.

2002-02-04  Alexandre Oliva  <aoliva@@redhat.com>

	* gas/sh/pcrel.d, gas/sh/pcrel.s: New test.
	* gas/sh/basic.exp: Run it.

2002-02-04  Hans-Peter Nilsson  <hp@@bitrange.com>

	* gas/mmix/basep-8.d, gas/mmix/basep-9.s, gas/mmix/basep-9.d,
	gas/mmix/err-bpo6.s, gas/mmix/basep-8.s, gas/mmix/basep-10.d,
	gas/mmix/basep-10.s, gas/mmix/basep-11.s, gas/mmix/basep-11.d: New
	tests for base-plus-offset relocations and global register
	allocations for weak and common symbols.

2002-02-02  Alan Modra  <amodra@@bigpond.net.au>

	* gas/elf/elf.exp: Don't special case v850.

2002-02-01  Hans-Peter Nilsson  <hp@@bitrange.com>

	* gas/mmix/basep-1b.d, gas/mmix/basep-2b.d, gas/mmix/basep-7.d,
	gas/mmix/err-bpo2.s, gas/mmix/basep-3b.d, gas/mmix/err-bpo3.s,
	gas/mmix/basep-4.d, gas/mmix/err-bpo4.s, gas/mmix/err-bpo5.s,
	gas/mmix/basep-5.d, gas/mmix/basep-6.d: New tests.

2002-01-22  Alexandre Oliva  <aoliva@@redhat.com>

	* gas/mn10300/basic.exp (run_list_test): New proc, from alpha.
	* gas/mn10300/movpc.s, gas/mn10300/movpc.l: New tests.

2002-01-22  Richard Henderson  <rth@@redhat.com>

	* gas/alpha/unop.s, gas/alpha/unop.d: New test.
	* gas/alpha/alpha.exp: Run it.

2002-01-21  Thomas Klausner <wiz@@danbala.ifoer.tuwien.ac.at>

	* gas/cris/cris.exp: Comment typo fix

2002-01-18  Richard Earnshaw  <rearnsha@@arm.com>
	    Keith Walker  <keith.walker@@arm.com>

	* gas/arm/arch5tej.s gas/arm/arch5tej.d: New files.
	* gas/arm/arm.exp (arch5tej): New dump test.

2002-01-18  Richard Earnshaw  <rearnsha@@arm.com>

	* gas/arm/vfp1.d: Use new command-line options.
	* gas/arm/vfp1xD.d: Likewise.
	* gas/arm/arm.exp (vfp-bad): Likewise.
	* gas/arm/maverick.d: Likewise.

2002-01-17  Timothy Wall  <twall@@oculustech.com>

	* gas/tic54x/labels.s (after_macro): Correct comments.

2002-01-15   Richard Earnshaw  <rearnsha@@arm.com>

	* gas/arm/vfp1.s gas/arm/vf1.d: New files.
	* gas/arm/vfp1xD.s gas/arm/vf1xD.d: New files.
	* gas/arm/vfp-bad.s gas/arm/vfp-bad.l: New files.
	* gas/arm/arm.exp: Run new VFP tests.

2002-01-15  Nick Clifton  <nickc@@cambridge.redhat.com>

	* gas/elf/section2.e-m32r: New file.
	* gas/elf/elf.exp: Use section2.e-m32r for m32r targets.

	* gas/sh/dsp.d: Fix expected results.

2002-01-14  Nick Clifton  <nickc@@cambridge.redhat.com>

	* gas/elf/elf.exp (run_list_test): Use section2.e-mips script for
	v850-elf toolchain.

2002-01-14   Richard Earnshaw  <rearnsha@@arm.com>

	* gas/arm/armv1.s, arm/armv1.d, arm/fpa-mem.s, arm/fpa-mem.d
	arm/fpa-monadic.s, arm/fpa-monadic.d, arm/fpa-dyadic.s,
	arm/fpa-dyadic.d: New tests.
	* gas/arm/le-fpconst.d (objdump): pass --section=.text
	* gas/arm/arm.exp: Add new tests.  Run le-fpconst test on elf targets.

2002-01-14   Richard Earnshaw  <rearnsha@@arm.com>

	* gas/arm/armv1-bad.s gas/arm/armv1-bad.l: New files.
	* gas/arm/arm.exp (run_error_test): New proc.
	(armv1-bad): New error test.

2002-01-11   Richard Earnshaw  <rearnsha@@arm.com>

	* gas/arm/ldconst.s gas/arm/ldconst.d: New files.  Test ldr with
	immediate pseudo-operations.
	* gas/arm/arm.exp: Run it.

2002-01-10  matthew green  <mrg@@redhat.com>

	* gas/xstormy16/allinsn.sh (movf, jmp, call, icall): Update.
	* gas/xstormy16/allinsn.d: Regenerate.
	* gas/xstormy16/allinsn.s: Regenerate.

2002-01-09   Richard Earnshaw  <rearnsha@@arm.com>

	* gas/arm/float.s: Don't use VFP register names in fpa instructions.

2002-01-08  H.J. Lu <hjl@@gnu.org>

	* gas/mips/elf-rel.s: New tests for nested ().

	* gas/mips/elf-rel.d: Modified for nested () tests.
	* gas/mips/elfel-rel.d: Likewise.

2002-01-05  Daniel Jacobowitz  <drow@@mvista.com>

	* gas/mips/jal-svr4pic.s: Add .ent and .frame directives.
	* gas/mips/mips-abi32-pic.s: Add .frame directive.
	* gas/mips/mips-gp32-fp32-pic.s: Likewise.
	* gas/mips/mips-gp32-fp64-pic.s: Likewise.
	* gas/mips/mips-gp64-fp32-pic.s: Likewise.
	* gas/mips/mips-gp64-fp64-pic.s: Likewise.

2002-01-02  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/empic3_e.d: New file to test -membedded-pic
	R_MIPS_GNU_REL_HI16 and R_MIPS_GNU_REL_LO16 relocations.
	* gas/mips/empic3_e.s: Likewise.
	* gas/mips/empic3_g1.d: Likewise.
	* gas/mips/empic3_g1.s: Likewise.
	* gas/mips/empic3_g2.d: Likewise.
	* gas/mips/empic3_g2.s: Likewise.
	* gas/mips/mips.exp: Run the new tests.

2001-12-21  Anders Norlander  <anorland@@synergenix.se>

	* gas/all/incbin.dat: New [binary] file.
	* gas/all/incbin.s: Use incbin.dat instead of incbin.s.
	* gas/all/incbin.d: Reflect change in incbin.s

2001-12-20  Alexandre Oliva  <aoliva@@redhat.com>

	* gas/sh/err-at.s: New test.

2001-12-18  Hans-Peter Nilsson  <hp@@axis.com>

	* gas/cris/rd-dw2-10.d: Tweak for change in gas dwarf2 line number
	handling.

2001-12-07  Geoffrey Keating  <geoffk@@redhat.com>
	    matthew green  <mrg@@redhat.com>

	* gas/xstormy16/allinsn.d: New file.
	* gas/xstormy16/allinsn.exp: New file.
	* gas/xstormy16/allinsn.s: New file.
	* gas/xstormy16/allinsn.sh: New file.
	* gas/xstormy16/gcc.d: New file.
	* gas/xstormy16/gcc.s: New file.
	* gas/xstormy16/gcc.sh: New file.
	* gas/xstormy16/reloc-1.d: New file.
	* gas/xstormy16/reloc-1.s: New file.
	* gas/xstormy16/reloc-2.d: New file.
	* gas/xstormy16/reloc-2.s: New file.

2001-12-08  Alan Modra  <amodra@@bigpond.net.au>

	* gas/all/incbin.s: Add spaces before directives.
	* gas/all/incbin.d: Update.

2001-12-07  Jeffrey A Law  (law@@cygnus.com)

	* gas/hppa/parse/linesepbug.s: Restore to its original form,
	reverting change of July 19, 2000.

2001-12-05  Richard Earnshaw  <rearnsha@@arm.com>

	* gas/arm/xscale.s, gas/arm/xscale.d (pld tests): PLD instruction has
	no post-indexed addressing modes.

2001-11-25  Andreas Jaeger  <aj@@suse.de>

	* gas/all/gas.exp (incbin): Fix condition.

2001-11-23  Jeffrey A Law  (law@@cygnus.com)

	* gas/all/gas.exp (incbin): Do not run on the PA.

	* gas/hppa/parse/parse.exp: Expect failure on line separator bug.

2001-11-16  Chris Demetriou  <cgd@@broadcom.cOm>

	* gas/mips/elf-rel5.s, gas/mips/elf-rel5.s: New test
	to test symbol plus offset relocations in various ways.
	* gas/mips/mips.exp: Run new test.

2001-11-15  Alan Modra  <amodra@@bigpond.net.au>

	* gas/ppc/booke.d: Modify reloc and target matches for powerpc64.

2001-11-11  Timothy Wall  <twall@@alum.mit.edu>

	* gas/tic54x/sections.[sd]: Check for named, initialized sections
	defaulting to CODE and DATA.
	* gas/tic54x/align.[sd]: While breaking compatibility with TI's
	assembler, the difference is not worth the effort to fix.  We'd
	prefer the assembler *not* fill the section alignment.
	* gas/tic54x/all-opcodes.d: Verify Lmem opcodes have proper
	length.
	* gas/tic54x/labels.s: Document differences from TI tools.
	* gas/tic54x/extaddr.d: Match output.
	* gas/all/gas.exp: On c54x targets, don't do any tests that use
	p2align.
	* gas/macros/macros.exp: Expect failure matching use of .ascii.

2001-11-12  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* gas/mips/mips.exp: Change naming of some conditionals to reflect
	the object format they actually mean. Don't try mips-abi32 and
	mips-abi32-pic tests for ecoff.

2001-11-11  Hans-Peter Nilsson  <hp@@bitrange.com>

	* gas/mmix/bspec-2.d, gas/mmix/bspec-1.d, gas/mmix/comment-1.d:
	Prune and generalize, adjusting to generic ELF file layout changes.

2001-11-04  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/mips.exp (svr4pic): Set if target is *-*-netbsd*.
	(aout): Don't set if *-*-netbsd*.

2001-11-02  NIIBE Yutaka  <gniibe@@m17n.org>

	* gas/sh/basic.exp: For Linux, add "-big" option for the
	invocation of gas.

2001-11-01  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* gas/m68hc11/opers12.s: Add test for disassembler bug with movb
	instruction.
	* gas/m68hc11/opers12.d: Likewise.
	* gas/m68hc11/opers12-dwarf2.d: Likewise.

2001-10-31  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/empic.s: Undo damage inflicted on 2000-12-02.
	* gas/mips/empic.d: Likewise.
	* gas/mips/elempic.d: Likewise (it was copied into other files).
	* gas/mips/telempic.d: Likewise.
	* gas/mips/tempic.d: Likewise.

	* gas/mips/empic2.s: New test to check new 'la' and 'lw' (and
	related ops) syntax, test loads with large offsets.
	* gas/mips/emcic2.d: Likewise.
	* gas/mips/mips.exp: Run the new test on ELF platforms.

2001-10-31  Nick Clifton  <nickc@@cambridge.redhat.com>

	* gas/mmix/pop-op.l: Update to match latest listing behaviour.
	* gas/mmix/reloc8.l: Update to match latest listing behaviour.
	* gas/mmix/resume-op.l: Update to match latest listing behaviour.
	* gas/mmix/save-op.l: Update to match latest listing behaviour.
	* gas/mmix/unsave-op.l: Update to match latest listing behaviour.

2001-10-31  Hans-Peter Nilsson  <hp@@bitrange.com>

	* gas/mmix/tst.s: Delete unused file.
	* gas/mmix/unsave-op.s, gas/mmix/save-op.s, gas/mmix/resume-op.s,
	gas/mmix/reloc8.s, gas/mmix/prefix1.s, gas/mmix/pop-op.s,
	gas/mmix/greg8.s, gas/mmix/greg6.s, gas/mmix/expr-1.s,
	gas/mmix/greg1.s, gas/mmix/err-bspec-5.s, gas/mmix/op-0-1.s,
	gas/mmix/fb-2.s: Remove trailing empty lines.

2001-10-30  Hans-Peter Nilsson  <hp@@bitrange.com>

	* gas/mmix: New testsuite directory.

2001-10-24  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/ld-empic.d: Remove extra whitespace at beginning of
	file introduced in the change on 2001-05-15.

2001-10-24  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/mips-abi32-pic.s: Use ".word" rather than ".4byte".
	Delete use of ".size".
	* gas/mips/mips-abi32.s: Likewise.
	* gas/mips/mips-gp32-fp32-pic.s: Likewise.
	* gas/mips/mips-gp32-fp32.s: Likewise.
	* gas/mips/mips-gp32-fp64-pic.s: Likewise.
	* gas/mips/mips-gp32-fp64.s: Likewise.
	* gas/mips/mips-gp64-fp32-pic.s: Likewise.
	* gas/mips/mips-gp64-fp32.s: Likewise.
	* gas/mips/mips-gp64-fp64-pic.s: Likewise.
	* gas/mips/mips-gp64-fp64.s: Likewise.

2001-10-23  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/beq.s: Add zero words at end of instructions so
	that objdump will print "..." when disassembling.
	* gas/mips/beq.d: Update for disassembler changes which force
	branch delay-slot nops to be printed.
	* gas/mips/bge.d: Ditto.
	* gas/mips/bgeu.d: Ditto.
	* gas/mips/blt.d: Ditto.
	* gas/mips/bltu.d: Ditto.
	* gas/mips/jal-svr4pic.d: Ditto.
	* gas/mips/jal-xgot.d: Ditto.

2001-10-20  H.J. Lu  <hjl@@gnu.org>

	* gas/elf/ehopt0.s: Lose ",@@progbits".

2001-10-17  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/mips.exp (sb1-ext-ps): New test to test
	SB-1 core's paired-single extensions to the MIPS64 ISA.
	* gas/mips/sb1-ext-ps.d: New file.
	* gas/mips/sb1-ext-ps.s: New file.

2001-10-17  matthew green  <mrg@@redhat.com>

	* gas/ppc/altivec.s: New test for AltiVec.
	* gas/ppc/altivec.d: New file.
	* gas/ppc/ppc.exp: Test altivec.s

2001-10-16  Hans-Peter Nilsson  <hp@@bitrange.com>

	* gas/sh/err-le.s, gas/sh/err-be.s: New tests.

2001-10-13  matthew green  <mrg@@redhat.com>

	* gas/ppc/booke.s (rfci, wrtee, wrteei, mfdcrx, mfdcr, mtdcrx,
	mtdcr, msync, dcba, mbar): New BookE tests.
	* gas/ppc/booke.d: Update for new BookE tests.

2001-10-12  matthew green  <mrg@@redhat.com>

	* gas/ppc/booke.s: New test for Motorola BookE.
	* gas/ppc/booke.d: New file.
	* gas/ppc/ppc.exp: Test booke.s.

2001-10-09  Nick Clifton  <nickc@@cambridge.redhat.com>

	* sh/basic.exp: Add dsp dump test.
	* sh/dsp/d: New file: Expected output of disassembly of dsp.s
	* sh/dsp.s: New file: Test assembly source of DSP single data
	transfer instructions.

2001-10-08  Aldy Hernandez  <aldyh@@redhat.com>

	* gas/arm/arm.exp: Run arm9e tests.

	* gas/arm/maverick.c: New.

	* gas/arm/maverick.d: New.

	* gas/arm/maverick.s: New.

2001-10-04  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* gas/mips/mips-gp64-fp32-pic.d: Use 32bit instructions for addresses.
	* gas/mips/mips-gp64-fp32-pic.s: Likewise.
	* gas/mips/mips-gp64-fp32.d: Likewise.
	* gas/mips/mips-gp64-fp32.s: Likewise.
	* gas/mips/mips-gp64-fp64-pic.d: Likewise.
	* gas/mips/mips-gp64-fp64-pic.s: Likewise.
	* gas/mips/mips-gp64-fp64.d: Likewise.
	* gas/mips/mips-gp64-fp64.s: Likewise.
	* gas/mips/elempic.d: Likewise.
	* gas/mips/ld.d: Likewise.
	* gas/mips/uld.d: Likewise.
	* gas/mips/usd.d: Likewise.

2001-09-29  H.J. Lu  <hjl@@gnu.org>

	* gas/i386/i386.exp: Run 64bit tests only for "i*86-*-* and
	x86_64-*-*.

2001-09-18  Martin Schwidefsky <schwidefsky@@de.ibm.com>

	* gas/s390: New directory.
	* gas/s390/opcode.d: New file.
	* gas/s390/opcode.s: New file.
	* gas/s390/opcode64.d: New file.
	* gas/s390/opcode64.s: New file.
	* gas/s390/operands.d: New file.
	* gas/s390/operands.s: New file.
	* gas/s390/operands64.d: New file.
	* gas/s390/operands64.s: New file.
	* gas/s390/reloc.d: New file.
	* gas/s390/reloc.s: New file.
	* gas/s390/reloc64.d: New file.
	* gas/s390/reloc64.s: New file.
	* gas/s390/s390.exp: New file.

2001-09-07  Eric Christopher  <echristo@@redhat.com>

	* gas/mips/mips64.d: Change to use isa64.
	* gas/mips/mips32.d: Change to use isa32.

2001-09-07  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* gas/mips/mips-abi32-pic.s: Remove .set mips4 pseudo-op.
	* gas/mips/mips-abi32.s: Likewise.
	* gas/mips/mips-gp32-fp32-pic.s: Likewise.
	* gas/mips/mips-gp32-fp32.s: Likewise.
	* gas/mips/mips-gp32-fp64-pic.s: Likewise.
	* gas/mips/mips-gp32-fp64.s: Likewise.
	* gas/mips/mips-gp64-fp32-pic.s: Likewise.
	* gas/mips/mips-gp64-fp32.s: Likewise.
	* gas/mips/mips-gp64-fp64-pic.s: Likewise.
	* gas/mips/mips-gp64-fp64.s: Likewise.

2001-09-07  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* gas/mips/beq.d: Check branches to external labels.
	* gas/mips/beq.s: Likewise.
	* gas/mips/bge.d: Likewise.
	* gas/mips/bge.s: Likewise.
	* gas/mips/bgeu.d: Likewise.
	* gas/mips/bgeu.s: Likewise.
	* gas/mips/blt.d: Likewise.
	* gas/mips/blt.s: Likewise.
	* gas/mips/bltu.d: Likewise.
	* gas/mips/bltu.s: Likewise.
	* gas/mips/elempic.d: Switch from R_MIPS_GNU_REL16_S2 to R_MIPS_PC16.
	* gas/mips/empic.d: Likewise.
	* gas/mips/empic.s: Likewise.
	* gas/mips/telempic.d: Likewise.
	* gas/mips/tempic.d: Likewise.

2001-09-06  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* gas/mips/tmips16-f.d: New file, testcase for big endian MIPS16
	relocations, tradtional variant.

2001-08-04  Richard Henderson  <rth@@redhat.com>

	* gas/alpha/alpha.exp: New file.
	* gas/alpha/elf-reloc-1.[sd]: New test.
	* gas/alpha/elf-reloc-2.[sl]: New test.
	* gas/alpha/elf-reloc-3.[sl]: New test.
	* gas/alpha/elf-reloc-4.[sd]: New test.
	* gas/alpha/fp.exp: Remove file.
	* gas/alpha/fp.s: Output to .data not .rdata.
	* gas/alpha/fp.d: Adjust to match.

2001-09-04  Jeffrey A Law  (law@@cygnus.com)

	* gas/all/gas.exp (930509a): Expect failure on the H8/300 ELF port.

	* gas/h8300/ffxx1-elf.d: Update due to recent changes to H8/300
	ELF toolchain.
	* gas/h8300/h8300-elf.exp: Likewise.

	* gas/macros/macros.exp: Expect failure on all H8/300 ports.

	* gas/vtable/vtable.exp: Do not run tests on H8/300 ELF ports.

2001-08-30  J"orn Rennecke <amylaar@@redhat.com>

	* gas/h8300/h8300.exp (do_h8300_cbranch): Remove invocation.
	(do_h8300_branch, do_h8300h_cbranch, do_h8300h_branch): Likewise.
	(do_h8300s_cbranch, do_h8300s_branch, ffxx1): Likwise.
	* gas/h8300/h8300-coff.exp, gas/h8300/h8300-elf.exp: New files.
	* gas/h8300/branch-elf.s, gas/h8300/branchh-elf.s: Likewise.
	* gas/h8300/branchs-elf.s, gas/h8300/ffxx1-elf.d: Likewise.
	* gas/h8300/ffxx1-elf.s: Likewise.
	* gas/h8300/branch.s, gas/h8300/branchh.s: Move to:
	* gas/h8300/branch-coff.s, gas/h8300/branchh-coff.s
	* gas/h8300/branchs.s, gas/h8300/ffxx1.d: Move to:
	* gas/h8300/branchs-coff.s, gas/h8300/ffxx1-coff.d .
	* gas/h8300/ffxx1.s: Move to:
	* gas/h8300/ffxx1-coff.s .

2001-08-29  J"orn Rennecke <amylaar@@redhat.com>

	* lib/gas-defs.exp: (regexp_diff) At verbosity 3, also show
	where mismatch occurs due to regexp mismatch.

2001-08-27  Staffan Ulfberg  <staffanu@@swox.se>
	    Alan Modra  <amodra@@bigpond.net.au>

	* gas/macros/macros.exp: xfail powerpc-*-aix.
	* gas/ppc/astest64.s: New.
	* gas/ppc/astest64.d: New.
	* gas/ppc/astest2_64.s: New.
	* gas/ppc/astest2_64.d: New.
	* gas/ppc/test1elf.asm: New.
	* gas/ppc/test1xcoff.asm: New.
	* gas/ppc/generate.sh: New. Generate new files below from above .asm
	* gas/ppc/test1elf32.s: New.
	* gas/ppc/test1elf32.d: New.
	* gas/ppc/test1elf64.s: New.
	* gas/ppc/test1elf64.d: New.
	* gas/ppc/test1xcoff32.s: New.
	* gas/ppc/test1xcoff32.d: New.
	* gas/ppc/ppc.exp: Run new tests.
	* gas/ppc/simpshft.s: Tweak align now that we get nops.

2001-08-24  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* binutils-all/readelf.exp: Don't regard mips*el-*-* as traditional
	mips.
	* gas/mips/mips.exp: Likewise. Use traditional testcases for
	mips${el}16-f if needed.
	* gas/mips/elempic.d: New file, testcase for little endian empic.
	* gas/mips/elfel-rel2.d: Don't test trailing zeroes in dump.
	* gas/mips/mips16-f.d: Use non-traditional symbol sorting.
	* gas/mips/mipsel16-f.d: Likewise.
	* gas/mips/mipsel16-e.d: New file, testcase for little endian MIPS16
	relocations.
	* gas/mips/tmipsel16-f.d: New file, testcase for little endian MIPS16
	relocations, traditional variant.

2001-08-17  H.J. Lu  <hjl@@gnu.org>

	* gas/sparc/unalign.d: Support Sparc V9.

2001-08-16  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* gas/mips/mips.exp: Added performance counter test.
	* gas/mips/perfcount.s: New File. Test of performance counter opcodes.
	* gas/mips/perfcount.d: Likewise.

2001-08-12  Nick Clifton  <nickc@@cambridge.redhat.com>

	* gas/sparc/unalign.s: Extend test to check .uaword with multiple
	arguments.
	* gas/sparc/unalign.d: Extend to expect unaligned relocs for both
	arguments to .uaword.

2001-08-10  H.J. Lu  <hjl@@gnu.org>

	* gas/mips/e32-rel2.d: Updated for the objdump output change.
	* gas/mips/e32el-rel2.d: Likewise.
	* gas/mips/elf-rel.d: Likewise.
	* gas/mips/elf-rel2.d: Likewise.
	* gas/mips/elf-rel3.d: Likewise.
	* gas/mips/elf_e_flags1.d: Likewise.
	* gas/mips/elf_e_flags2.d: Likewise.
	* gas/mips/elf_e_flags3.d: Likewise.
	* gas/mips/elf_e_flags4.d: Likewise.
	* gas/mips/elfel-rel.d: Likewise.
	* gas/mips/elfel-rel2.d: Likewise.
	* gas/mips/elfel-rel3.d: Likewise.
	* gas/mips/empic.d: Likewise.
	* gas/mips/mips16-e.d: Likewise.
	* gas/mips/mips16-f.d: Likewise.
	* gas/mips/mipsel16-f.d: Likewise.
	* gas/mips/telempic.d: Likewise.
	* gas/mips/tempic.d: Likewise.
	* gas/mips/tmips16-e.d: Likewise.
	* gas/mips/tmipsel16-e.d: Likewise.

	* gas/mips/mips16-f.d: Fix the symbol table output.

	* gas/mips/mipsel16-f.d: Fix the endian.

	* gas/mips/mips.exp; Don't xfail mips16-f/mipsel16-f.

2001-08-10  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/mips/mips-gp32-fp32.d: Expect addu rather than or for moves.
	* gas/mips/mips-gp32-fp64.d: Likewise.
	* gas/mips/mips-abi32.d: Likewise.
	* gas/mips/mips-gp32-fp32-pic.d: Likewise.
	* gas/mips/mips-gp32-fp64-pic.d: Likewise.
	* gas/mips/mips-abi32-pic.d: Likewise.

2001-07-21  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* mips/lb.d: Reflect disassembler output fixes.
	* mips/mips32.d: Likewise.
	* mips/mips64.d: Likewise. Typo.
	* mips/sb.d: Likewise.
	* mips/trunc.d: Likewise.

2001-08-04  H.J. Lu  <hjl@@gnu.org>

	* gas/cris/operand-err-1.s: Updated.

2001-08-04  H.J. Lu  <hjl@@gnu.org>
	    Chris G. Demetriou <cgd@@broadcom.com>

	* gas/mips/e32-rel4.s: Removed.

	* gas/mips/e32-rel4.d: Use elf-rel4.s.

	* gas/mips/mips.exp: Use the same rel4 test for litte endian.

	* gas/mips/mips-abi32-pic.d: Add lines for objdump.
	* gas/mips/mips-abi32.d: Likewise.
	* gas/mips/mips-gp32-fp32-pic.d: Likewise.
	* gas/mips/mips-gp32-fp32.d: Likewise.
	* gas/mips/mips-gp32-fp64-pic.d: Likewise.
	* gas/mips/mips-gp32-fp64.d: Likewise.
	* gas/mips/mips-gp64-fp32-pic.d: Likewise.
	* gas/mips/mips-gp64-fp32.d: Likewise.
	* gas/mips/mips-gp64-fp64-pic.d: Likewise.
	* gas/mips/mips-gp64-fp64.d: Likewise.

	* gas/mips/mips-abi32-pic.s: Add space for objdump.
	* gas/mips/mips-abi32.s: Likewise.
	* gas/mips/mips-gp32-fp32-pic.s: Likewise.
	* gas/mips/mips-gp32-fp32.s: Likewise.
	* gas/mips/mips-gp32-fp64-pic.s: Likewise.
	* gas/mips/mips-gp32-fp64.s: Likewise.
	* gas/mips/mips-gp64-fp32-pic.s: Likewise.
	* gas/mips/mips-gp64-fp32.s: Likewise.
	* gas/mips/mips-gp64-fp64-pic.s: Likewise.
	* gas/mips/mips-gp64-fp64.s: Likewise.

	* gas/mips/mips-abi32-pic.s: Add the missing .end.
	* gas/mips/mips-gp32-fp32-pic.s: Likewise.
	* gas/mips/mips-gp32-fp64-pic.s: Likewise.
	* gas/mips/mips-gp64-fp32-pic.s: Likewise.
	* gas/mips/mips-gp64-fp64-pic.s: Likewise.

2001-08-03  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/mips/elf-rel4.s, gas/mips/elf-rel4.d: New test.
	* gas/mips/e32-rel4.s, gas/mips/e32-rel4.s: New test.

	* gas/mips/mips.exp: Run new tests.

2001-08-02  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/mips/mips-gp32-fp32,
	* gas/mips/mips-gp32-fp64,
	* gas/mips/mips-gp64-fp32,
	* gas/mips/mips-gp64-fp64,
	* gas/mips/mips-abi32,
	* gas/mips/mips-gp32-fp32-pic,
	* gas/mips/mips-gp32-fp64-pic,
	* gas/mips/mips-gp64-fp32-pic,
	* gas/mips/mips-gp64-fp64-pic,
	* gas/mips/mips-abi32-pic: New testcases.

	* gas/mips/mips.exp: Run them.

2001-08-01  Alan Modra  <amodra@@bigpond.net.au>

	* gas/elf/section2.l: Adjust warning message comparison.

2001-07-31  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/mips/mips.exp (el): New variable.
	Use it to pick ELF reloc tests.

2001-07-26  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/lif-empic.d: Add back dollar signs before floating
	point register names.

2001-07-26  Alan Modra  <amodra@@bigpond.net.au>

	* gas/i386/relax.s: Test rs_space.
	* gas/i386/relax.d: Update.

2001-07-23  Alan Modra  <amodra@@bigpond.net.au>

	* gas/i386/opcode.d: Tweak lgdt for 2001-07-18 change.
	* gas/i386/intel.d: Likewise.

2001-07-16  Philip Blundell  <philb@@gnu.org>

	* gas/arm/arm7t.d, gas/arm/inst.d: Tweak expected output for
	change to disassembler.

2001-07-14  Nick Clifton  <nickc@@cambridge.redhat.com>

	Fix failures in MIPS testsuite:
	* gas/mips/abs.d: Pass -march=4000 to gas.
	* gas/mips/eld_rel2.d: Do not expect zeroes at end of dump.
	* gas/mips/elf_e_flags1.d: Pass -march=4000 to gas.

2001-07-11  Jakub Jelinek  <jakub@@redhat.com>

	* gas/sparc/unalign.s: Remove .uaxword test.
	* gas/sparc/unalign.d: Adjust accordingly.

2001-07-08  Anders Norlander <anorland@@synergenix.se>

	* gas/all/gas.exp: Run incbin test.
	* gas/all/incbin.s: New file.
	* gas/all/incbin.d: New file.

2001-07-04  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/mips/elf-rel3.s: Add zero word to end of file.

2001-07-03  H.J. Lu  <hjl@@gnu.org>

	* gas/mips/lb-xgot-ilocks.d: Add -march=r3900.

2001-07-01  Ben Elliston  <bje@@redhat.com>

	* gas/m88k/allinsn.s: New file.
	* gas/m88k/allinsn.d: Likewise.
	* gas/m88k/m88k.exp: Test with allinsn.s also.

2001-06-28  Eric Christopher  <echristo@@redhat.com>

	* gas/mips/usd.d: Change for march/mtune.
	* gas/mips/ulh-xgot.d: Ditto.
	* gas/mips/uld.d: Ditto.
	* gas/mips/trunc.d: Ditto.
	* gas/mips/rol.d: Ditto.
	* gas/mips/nodelay.d: Ditto.
	* gas/mips/mul.d: Ditto.
	* gas/mips/mul-ilocks.d: Ditto.
	* gas/mips/trap20.d: Ditto.
	* gas/mips/mips4.d: Ditto.
	* gas/mips/mips16.d: Ditto.
	* gas/mips/lif-xgot.d: Ditto.
	* gas/mips/lif-svr4pic.d: Ditto.
	* gas/mips/ld-xgot.d: Ditto.
	* gas/mips/ld-svr4pic.d: Ditto.
	* gas/mips/ld-ilocks-addr32.d: Ditto.
	* gas/mips/lb-xgot.d: Ditto.
	* gas/mips/jal-xgot.d: Ditto.
	* gas/mips/jal-svr4pic.d: Ditto.
	* gas/mips/delay.d: Ditto.
	* gas/mips/lb-xgot-ilocks.d: Ditto.
	* gas/mips/div.d: Ditto.
	* gas/mips/break20.d: Ditto.
	* gas/mips/delay.d: Ditto.
	* gas/mips/elf_e_flags3.d: Ditto.
	* gas/mips/elf_e_flags4.d: Ditto.
	* gas/mips/lineno.d: Ditto.
	* gas/mips/mips16.d: Ditto.
	* gas/mips/mips4.d: Ditto.
	* gas/mips/mips4010.d: Ditto.
	* gas/mips/mips4650.d: Ditto.

2001-06-21  Nick Clifton  <nickc@@cambridge.redhat.com>

	* gas/arm/arm.exp: Remove msr-bad.s test.
	Select processor type for architecture specific instruction tests.

	* gas/arm/adrl.s: Add adrEQl as a test.
	* gas/arm/adrl.d: Adjusted expected output.

	* gas/arm/arm7dm.s: Add "msr CPSR_x, #0" as a test instruction.
	* gas/arm/msr-bad.s: Delete.

2001-06-18  Tom Rix  <trix@@redhat.com>

	* gas/ppc/aix.exp: New file, aix specific tests.
	* gas/ppc/align.s: New file, .comm alignment test.

2001-06-13  Andreas Jaeger  <aj@@suse.de>

	* gas/vtable/vtable.exp (run_list_test): Don't run on sparc64.

2001-06-06  Peter Jakubek <pjak@@snafu.de>

	* gas/mri/for.d: Correct for swapped operands.
	* gas/mri/if.d: Likewise.
	* gas/mri/repeat.d: Likewise.
	* gas/mri/while.d: Likewise.

2001-06-12  Alan Modra  <amodra@@bigpond.net.au>

	* gas/i386/x86_64.d: Update for 2001-06-11 disassembler change.

2001-06-10  H.J. Lu  <hjl@@gnu.org>

	* gas/elf/section2.l: Match various white spaces.

2001-06-10  H.J. Lu  <hjl@@gnu.org>

	* gas/elf/section2.e: Support 64bit ELF.
	* gas/elf/section2.e-mips: Likewise.

2001-06-08  H.J. Lu  <hjl@@gnu.org>

	* gas/mips/elfel-rel3.s: Moved to ...
	* gas/mips/elf-rel3.s: Here.

	* gas/mips/elf-rel3.d: Updated.

	* gas/mips/elfel-rel3.d: Updated.

	* gas/mips/relax.d: New file.
	* gas/mips/relax.s: Likewise.

	* gas/mips/mips.exp: Run relax and set xfail.

2001-06-08  H.J. Lu  <hjl@@gnu.org>

	* gas/mips/illegal.s: New file.
	* gas/mips/illegal.l: Likewise.

	* gas/elf/elf.exp (run_list_test): New.
	Run illegal with run_list_test.

2001-06-08  H.J. Lu  <hjl@@gnu.org>

	* gas/mips/elf-jal.d: New file.

	* gas/mips/mips.exp: Run "elf-jal" instead of "jal" for ELF.

2001-06-08  Alan Modra  <amodra@@bigpond.net.au>

	* gas/elf/elf.exp (run_list_test): Undo $readelf change in 2001-06-07.

2001-06-07  H.J. Lu  <hjl@@gnu.org>

	* gas/elf/section2.e-mips: New file.

	* gas/elf/elf.exp (run_list_test): Add suffix.
	Pass -mips as suffix to run_list_test for mips.

2001-06-07  H.J. Lu  <hjl@@gnu.org>

	* gas/elf/section2.l: Match ".*GAS.*" instead of
	"GAS LISTING .*".

2001-06-07  H.J. Lu  <hjl@@gnu.org>

	* gas/mips/mips.exp: Set xfail for "lineno" on Linux/mips.

2001-06-07  H.J. Lu  <hjl@@gnu.org>

	* gas/mips/empic.d: Support stabs.
	* gas/mips/mips16-e.d: Likewise.
	* gas/mips/mips16-f.d: Likewise.
	* gas/mips/mipsel16-f.d: Likewise.
	* gas/mips/telempic.d: Likewise.
	* gas/mips/tempic.d: Likewise.
	* gas/mips/tmips16-e.d: Likewise.
	* gas/mips/tmipsel16-e.d: Likewise.

2001-06-06  H.J. Lu  <hjl@@gnu.org>

	* gas/mips/elf-rel3.s: New file.
	* gas/mips/elf-rel3.d: Likewise.
	* gas/mips/elfel-rel3.s: Likewise.
	* gas/mips/elfel-rel3.d: Likewise.

	* gas/mips/mips.exp: Run elf-rel3/elfel-rel3.

2001-06-06  H.J. Lu  <hjl@@gnu.org>

	* gas/elf/elf.exp (run_list_test): New.
	Run section2 with run_list_test.

	* gas/elf/section2.e: New file.
	* gas/elf/section2.l: Likewise.
	* gas/elf/section2.s: Likewise.

2001-06-04  H.J. Lu  <hjl@@gnu.org>

	* gas/mips/mips4010.s: Add the missing ".end".
	* gas/mips/mips4100.s: Likewise.
	* gas/mips/mips4650.s: Likewise.
	* gas/mips/sync.s: Likewise.

2001-06-02  H.J. Lu  <hjl@@gnu.org>

	* gas/sparc/unalign.d: Support Sparc V9.

2001-05-28  Jeff Sturm  <jsturm@@one-point.com>

	* gas/sparc/unalign.s: New test.  Check unaligned relocs.
	* gas/sparc/unalign.d: New expected test results.
	* gas/sparc/sparc.exp: Run new test.

2001-05-27  Hans-Peter Nilsson  <hp@@axis.com>

	* gas/cris/addi.d: Tweak for 64-bit BFD.
	* gas/cris/binop-cmpmove.d: Ditto.
	* gas/cris/binop-cmpmovx.d: Ditto.
	* gas/cris/binop-extx.d: Ditto.
	* gas/cris/binop.d: Ditto.
	* gas/cris/bork.d: Ditto.
	* gas/cris/branch.d: Ditto.
	* gas/cris/break.d: Ditto.
	* gas/cris/brokw-1.d: Ditto.
	* gas/cris/brokw-2.d: Ditto.
	* gas/cris/brokw-3.d: Ditto.
	* gas/cris/ccr.d: Ditto.
	* gas/cris/clear.d: Ditto.
	* gas/cris/continue.d: Ditto.
	* gas/cris/fragtest.d: Ditto.
	* gas/cris/jump-type.d: Ditto.
	* gas/cris/labfloat.d: Ditto.
	* gas/cris/macroat.d: Ditto.
	* gas/cris/movem-to-reg.d: Ditto.
	* gas/cris/nosep.d: Ditto.
	* gas/cris/oneop-type.d: Ditto.
	* gas/cris/prefix.d: Ditto.
	* gas/cris/pushpop-byte-sreg.d: Ditto.
	* gas/cris/pushpop-dword-sreg.d: Ditto.
	* gas/cris/pushpop-word-sreg.d: Ditto.
	* gas/cris/pushpop.d: Ditto.
	* gas/cris/quick-s6.d: Ditto.
	* gas/cris/quick-u5.d: Ditto.
	* gas/cris/quick-u6.d: Ditto.
	* gas/cris/range-err-1.s: Ditto.
	* gas/cris/rd-pic-1.d: Ditto.
	* gas/cris/rd-regprefix-1.d: Ditto.
	* gas/cris/rd-regprefix-1b.d: Ditto.
	* gas/cris/reg-to-mem.d: Ditto.
	* gas/cris/regreg.d: Ditto.
	* gas/cris/return.d: Ditto.
	* gas/cris/scc.d: Ditto.
	* gas/cris/separator.d: Ditto.
	* gas/cris/shexpr-1.d: Ditto.
	* gas/cris/sreg-to-x.d: Ditto.
	* gas/cris/test.d: Ditto.
	* gas/cris/unimplemented.d: Ditto.
	* gas/cris/unop-mem.d: Ditto.
	* gas/cris/x-to-byte-sreg.d: Ditto.
	* gas/cris/x-to-dcr1-sreg.d: Ditto.
	* gas/cris/x-to-dword-sreg.d: Ditto.
	* gas/cris/x-to-word-sreg.d: Ditto.
	* gas/cris/shexpr-1.d: Ditto.  Correct format.

2001-05-25  H.J. Lu  <hjl@@gnu.org>

	* gas/mips/e32el-rel2.d: New for little endian mips.
	* gas/mips/elfel-rel2.d: Likewise.
	* gas/mips/elfel-rel.d: Likewise.
	* gas/mips/mipsel16-f.d: Likewise.
	* gas/mips/telempic.d: Likewise.
	* gas/mips/tmipsel16-e.d: Likewise.

	* gas/mips/tempic.d: New for traditional mips.
	* gas/mips/tmips16-e.d: Likewise.

	* gas/mips/elf-rel.d: Handle alignment padding.
	* gas/mips/elf-rel2.d: Likewise.

	* gas/mips/mips.exp: Support little endian and traditional
	mips.

2001-05-24  H.J. Lu  <hjl@@gnu.org>

	* gas/m68k/pcrel.d: Support 64bit BFD.

2001-05-24  H.J. Lu  <hjl@@gnu.org>

	* gas/arm/adrl.d: Support 64bit BFD.
	* gas/arm/arm7t.d: Likewise.
	* gas/arm/inst.d: Likewise.
	* gas/arm/pic.d: Likewise.
	* gas/arm/xscale.d: Likewise.

2001-05-23  Alan Modra  <amodra@@one.net.au>

	* gas/elf/ehopt0.d: Tweak for bigendian targets.

2001-05-15  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* gas/mips/abs.d: Remove $ before register names, per latest
	disassembler.
	* gas/mips/add.d: Ditto.
	* gas/mips/and.d: Ditto.
	* gas/mips/beq.d: Ditto.
	* gas/mips/bge.d: Ditto.
	* gas/mips/bgeu.d: Ditto.
	* gas/mips/blt.d: Ditto.
	* gas/mips/bltu.d: Ditto.
	* gas/mips/delay.d: Ditto.
	* gas/mips/div-ilocks.d: Ditto.
	* gas/mips/div.d: Ditto.
	* gas/mips/dli.d: Ditto.
	* gas/mips/elf_e_flags1.d: Ditto.
	* gas/mips/elf_e_flags2.d: Ditto.
	* gas/mips/elf_e_flags3.d: Ditto.
	* gas/mips/elf_e_flags4.d: Ditto.
	* gas/mips/jal-empic.d: Ditto.
	* gas/mips/jal-svr4pic.d: Ditto.
	* gas/mips/jal-xgot.d: Ditto.
	* gas/mips/jal.d: Ditto.
	* gas/mips/la-empic.d: Ditto.
	* gas/mips/la-svr4pic.d: Ditto.
	* gas/mips/la-xgot.d: Ditto.
	* gas/mips/la.d: Ditto.
	* gas/mips/lb-empic.d: Ditto.
	* gas/mips/lb-svr4pic.d: Ditto.
	* gas/mips/lb-xgot-ilocks.d: Ditto.
	* gas/mips/lb-xgot.d: Ditto.
	* gas/mips/lb.d: Ditto.
	* gas/mips/ld-empic.d: Ditto.
	* gas/mips/ld-ilocks-addr32.d: Ditto.
	* gas/mips/ld-ilocks.d: Ditto.
	* gas/mips/ld-svr4pic.d: Ditto.
	* gas/mips/ld-xgot.d: Ditto.
	* gas/mips/ld.d: Ditto.
	* gas/mips/li.d: Ditto.
	* gas/mips/lif-empic.d: Ditto.
	* gas/mips/lif-svr4pic.d: Ditto.
	* gas/mips/lif-xgot.d: Ditto.
	* gas/mips/lifloat.d: Ditto.
	* gas/mips/mips16.d: Ditto.
	* gas/mips/mips32.d: Ditto.
	* gas/mips/mips4.d: Ditto.
	* gas/mips/mips4010.d: Ditto.
	* gas/mips/mips4100.d: Ditto.
	* gas/mips/mips4650.d: Ditto.
	* gas/mips/mips64.d: Ditto.
	* gas/mips/mul-ilocks.d: Ditto.
	* gas/mips/mul.d: Ditto.
	* gas/mips/nodelay.d: Ditto.
	* gas/mips/rol.d: Ditto.
	* gas/mips/sb.d: Ditto.
	* gas/mips/trap20.d: Ditto.
	* gas/mips/trunc.d: Ditto.
	* gas/mips/uld.d: Ditto.
	* gas/mips/ulh-empic.d: Ditto.
	* gas/mips/ulh-svr4pic.d: Ditto.
	* gas/mips/ulh-xgot.d: Ditto.
	* gas/mips/ulh.d: Ditto.
	* gas/mips/ulw.d: Ditto.
	* gas/mips/usd.d: Ditto.
	* gas/mips/ush.d: Ditto.
	* gas/mips/usw.d: Ditto.

2001-05-14  Richard Henderson  <rth@@redhat.com>

	* gas/elf/ehopt0.s: New.
	* gas/elf/ehopt0.d: New.
	* gas/elf/elf.exp: Run it.

2001-05-12  Peter Targett  <peter.targett@@arccores.com>

	* gas/arc/st.s: Add test case @@h30 fixup.
	* gas/arc/st.d: Update to suit.

2001-05-12  Alan Modra  <amodra@@one.net.au>

	* gas/i386/sse2.s: Correct cvtps2dq, movdq2q, and movq2dq
	* gas/i386/sse2.d: Likewise.  Fix pmuludq and punpckhqdq too.

	* gas/i386/ssemmx2.d: Correct movq.

2001-05-10  Hans-Peter Nilsson  <hp@@axis.com>

	* gas/cris/rd-dw2-10.d: Tweak for change in gas dwarf2 line number
	handling.

2001-05-04  Alan Modra  <amodra@@one.net.au>

	* gas/i386/katmai.d: Correct pmovmskb and pextrw opcodes.
	* gas/i386/ssemmx2.d: Likewise.  Correct register for pextrw,
	pinsrw, and pmovmskb.
	* gas/i386/sse2.d: Correct register for movmskpd.

2001-05-02  Johan Rydberg  <jrydberg@@opencores.org>

	* gas/openrisc/addi.s: New file.
	* gas/openrisc/addi.d: Likewise.
	* gas/openrisc/allinsn.exp: Likewise.
	* gas/openrisc/allinsn.s: Likewise.
	* gas/openrisc/allinsn.d: Likewise.
	* gas/openrisc/lohi.s: Likewise.
	* gas/openrisc/lohi.d: Likewise.
	* gas/openrisc/store.s: Likewise.
	* gas/openrisc/store.d: Likewise.

2001-04-05  Hans-Peter Nilsson  <hp@@axis.com>

	* gas/cris/rd-dw2-1.d, gas/cris/rd-dw2-2.d, gas/cris/rd-dw2-3.d,
	gas/cris/rd-dw2-4.d, gas/cris/rd-dw2-5.d, gas/cris/rd-dw2-6.d,
	gas/cris/rd-dw2-7.d, gas/cris/rd-dw2-8.d, gas/cris/rd-dw2-9.d,
	gas/cris/rd-dw2-10.d, gas/cris/rd-dw2-11.d, gas/cris/rd-dw2-12.d,
	gas/cris/rd-dw2-13.d, gas/cris/rd-dw2-14.d, gas/cris/rd-dw2-15.d:
	New tests.
	* gas/cris/brokw-2.s: Correct broken-word expansion visualization
	in comment.
	* gas/cris/fragtest.s, gas/cris/rd-pic-1.s,
	gas/cris/binop-cmpmovx.d, gas/cris/binop-cmpmove.d,
	gas/cris/binop.d, gas/cris/binop.s, gas/cris/brokw-2.d,
	gas/cris/clear.d, gas/cris/fragtest.s, gas/cris/jump-type.d,
	gas/cris/nosep.s, gas/cris/pushpop.d, gas/cris/quick.s,
	gas/cris/range-err-2.s, gas/cris/sep-err-1.s,
	gas/cris/sreg-to-x.d, gas/cris/test.d, gas/cris/x-to-byte-sreg.d,
	gas/cris/x-to-word-sreg.d, gas/cris/x-to-dword-sreg.d: Remove
	trailing empty lines.
	* gas/cris/continue.s: Ditto, tweak comment.

	* lib/gas-defs.exp (run_dump_test): Support using readelf.
	* config/default.exp: Default READELF and READELFFLAGS.

2001-03-31  Alan Modra  <alan@@linuxcare.com.au>

	* gas/all/cond.s: Add .if .elseif tree.
	* gas/all/cond.d: Match above.

2001-03-30  H.J. Lu  <hjl@@gnu.org>

	* gas/i386/relax.d: Dump with -s instead of -drw.

2001-03-29  H.J. Lu  <hjl@@gnu.org>

	* gas/i386/relax.s: New test for relaxation between sections.
	* gas/i386/relax.d: New.

	* gas/i386/i386.exp: Add tests for ELF.

2001-03-27  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/lineno.d: Allow for the possibility that
	the local labels won't be in the objdump output.  Match
	zeros in addresses using '+' for better compatibility with
	different targets.

2001-03-26  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/sync.s: Declare 'foo' as a function so that this
	test will work on properly on ECOFF targets.

2001-03-24  Alan Modra  <alan@@linuxcare.com.au>

	* gas/i386/ssemmx2.s: Change movntq to movntdq.
	* gas/i386/ssemmx2.d: Matching change.

2001-03-23  Hans-Peter Nilsson  <hp@@axis.com>

	* gas/cris/pic-err-1.s, gas/cris/rd-pic-1.s, gas/cris/rd-pic-1.d:
	New tests.

	* gas/cris/branch-warn-1.s, gas/cris/branch-warn-2.s,
	gas/cris/branch-warn-3.s: Tweak for fixed FIXME:s.

2001-03-19  John David Anglin  <dave@@hiauly1.hia.nrc.ca>

	* gas/vax/quad.exp: Correct expected result.

2001-03-19  Andreas Schwab  <schwab@@suse.de>

	* gas/m68k/pcrel.s: Force alignment to 8 byte boundary to get
	consistent output across targets.
	* gas/m68k/pcrel.d: Adjusted.

2001-03-18  H.J. Lu  <hjl@@gnu.org>

	* gas/i386/intel.s: Move PIC code to ...
	* gas/i386/intelpic.s: New. Here.
	* gas/i386/intel.d: Updated.
	* gas/i386/intelpic.d: New.

	* gas/i386/i386.exp: Check PIC code in Intel syntax for ELF
	targets only.

2001-03-18  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* gas/mri/mri.exp: Fix test of m6811/m6812 targets.

2001-02-26  H.J. Lu  <hjl@@gnu.org>

	* gas/ia64/opc-a-err.l: Change "Operand [3|4]" to "Operand [34]".

2001-02-23  H.J. Lu  <hjl@@gnu.org>

	* gas/ia64/opc-a-err.l: Fix "cmp4.lt.or".

	* gas/ia64/opc-a.pl: Add tests for pseudo-ops for "cmp" and
	"cmp4".
	* gas/ia64/opc-a.s: Rebuilt.
	* gas/ia64/opc-a.d: Likewise.

2001-02-17  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/mips32.d: Remove ELF dependencies.  This test
	wasn't meant to be ELF specific, and doesn't have to be.
	* gas/mips/mips64.d: Likewise.

2001-02-17  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/mips.exp: Don't attempt the elf_e_flags family of
	tests if not ELF; they test ELF-specific features.

2001-02-08  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* gas/mri/mri.exp: Don't execute the M68K specific tests
	on m6811-elf and m6812-elf targets, still run the generic MRI tests.

2001-02-04  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* gas/m68hc11/malis.s: New test to verify compliance with Motorola
	Assembly Language Input Standard.
	* gas/m68hc11/malis.d: New file.
	* gas/m68hc11/malis-include.s: New file.
	* gas/m68hc11/all.exp: Add the new test.

2001-01-12  Alan Modra  <alan@@linuxcare.com.au>

	* gas/i386/i386.exp (gas_64_check): Correct target string.
	Use gas_64_check rather than target string to decided whether
	x86_64 checks should run.

	* gas/i386/sse2.s: Add a label to cure objdump "no symbols" error.
	* gas/i386/ssemmx2.s: Likewise.
	* gas/i386/sse2.d: Update to suit.
	* gas/i386/ssemmx2.s: Likewise.

2001-01-11  Peter Targett <peter.targett@@arccores.com>

	* gas/arc/alias.*: Removed.
	* gas/arc/branch.*: Likewise.
	* gas/arc/insn3.*: Likewise.
	* gas/arc/math.*: Likewise.
	* gas/arc/sshift.*: Likewise.
	* gas/arc/arc.exp: Simplified test process for base case
	instruction set by adding run_dump_test cases for all base
	instructions.
	* gas/arc/adc.s, gas/arc/adc.d: New test cases and dump.
	* gas/arc/add.s, gas/arc/add.d: Likewise.
	* gas/arc/and.s, gas/arc/and.d: Likewise.
	* gas/arc/asl.s, gas/arc/asl.d: Likewise.
	* gas/arc/asr.s, gas/arc/asr.d: Likewise.
	* gas/arc/b.s, gas/arc/b.d: Likewise.
	* gas/arc/bic.s, gas/arc/bic.d: Likewise.
	* gas/arc/bl.s, gas/arc/bl.d: Likewise.
	* gas/arc/brk.s, gas/arc/brk.d: Likewise.
	* gas/arc/extb.s, gas/arc/extb.d: Likewise.
	* gas/arc/extw.s, gas/arc/extw.d: Likewise.
	* gas/arc/flag.s, gas/arc/flag.d: Likewise.
	* gas/arc/j.s, gas/arc/j.d: Likewise.
	* gas/arc/jl.s, gas/arc/jl.d: Likewise.
	* gas/arc/ld.s, gas/arc/ld.d: Likewise.
	* gas/arc/ld2.s, gas/arc/ld2.d: Likewise.
	* gas/arc/lp.s, gas/arc/lp.d: Likewise.
	* gas/arc/lsr.s, gas/arc/lsr.d: Likewise.
	* gas/arc/mov.s, gas/arc/mov.d: Likewise.
	* gas/arc/nop.s, gas/arc/nop.d: Likewise.
	* gas/arc/or.s, gas/arc/or.d: Likewise.
	* gas/arc/rlc.s, gas/arc/rlc.d: Likewise.
	* gas/arc/ror.s, gas/arc/ror.d: Likewise.
	* gas/arc/rrc.s, gas/arc/rrc.d: Likewise.
	* gas/arc/sbc.s, gas/arc/sbc.d: Likewise.
	* gas/arc/sexb.s, gas/arc/sexb.d: Likewise.
	* gas/arc/sexw.s, gas/arc/sexw.d: Likewise.
	* gas/arc/sleep.s, gas/arc/sleep.d: Likewise.
	* gas/arc/add.s, gas/arc/add.d: Likewise.
	* gas/arc/st.s, gas/arc/st.d: Likewise.
	* gas/arc/sub.s, gas/arc/sub.d: Likewise.
	* gas/arc/swi.s, gas/arc/swi.d: Likewise.
	* gas/arc/xor.s, gas/arc/xor.d: Likewise.
	* gas/arc/warn.s: Removed warning test case for setting of flags
	followed by conditional branch, an arc5 only feature.

	* gas/ieee-fp/x930509a.exp: Skip test if target also arc*-*-*.

	* gas/vtable/vtable.exp: Skip tests if target also arc*-*-*.

2001-01-11  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* gas/m68hc11/opers12.s: Add more tests for index post byte.
	* gas/m68hc11/opers12.d: Likewise.

2001-01-11  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* gas/m68hc11/all.exp: Add new tests for dwarf2.
	* gas/m68hc11/lbranch-dwarf2.d: New file, test for dwarf2.
	* gas/m68hc11/opers12-dwarf2.d: Likewise.
	* gas/m68hc11/insns-dwarf2.d: Likewise.

2001-01-11  Nick Clifton  <nickc@@redhat.com>

	* gas/arm/adrl.s: Add global label 'foo'.
	* gas/arm/adrl.d: Expect to see references to 'foo' in the
	disassembly.  COFF and ELF disassemblys should now be the same.

2001-01-10  Jan Hubicka  <jh@@suse.cz>

	* i386.exp: Add ssemmx2 and sse2 tests.
	(sse2.d, sse2.s, ssemmx2.d, ssemmx2.s): New tests.

2001-01-09  Nick Clifton  <nickc@@redhat.com>

	* gas/arm/pic.d: Fix patterns to match new behaviour of
	disassembler.
	inst.d: Fix patterns to match new behaviour of disassembler.

2001-01-03  Philip Blundell  <pb@@futuretv.com>

	* gas/vtable/vtable.exp: Don't run tests on Alpha.

2001-01-06  Jan Hubicka  <jh@@suse.cz>

	* i386.exp: Add tests for presence of 32bit versus 64bit output
	format; run both 64bit and 32bit tests when format is available;
	add x86_64 test.
	* x86_64.s: New file.
	* x86_64.d: New file.

2001-01-02  Nick Clifton  <nickc@@redhat.com>

	* gas/arm/arm.exp: Pass -marmv3 to msr-bad test, since the
	instruction is legal in v5.  Also fix expected error message.

2001-01-01  Philip Blundell  <philb@@gnu.org>

	* gas/arm/adrl.s, gas/arm/pic.s, gas/arm/msr-bad.s: New tests.
	* gas/arm/arm.exp: Run them.
	* gas/arm/adrl.d, gas/arm/pic.d: Expected results for above.
	* gas/arm/arm6.s: Also test uppercase `CPSR' and `SPSR'.

2000-12-22  H.J. Lu  <hjl@@gnu.org>

	* gas/i386/intel.s: Replace "nop" with ".p2align 4,0".
	* gas/i386/intel.d: Updated.

2000-12-12  Jim Wilson  <wilson@@redhat.com>

	* gas/ia64/dv-imply.d, gas/ia64/dv-mutex.d, gas/ia64/dv-safe.d,
	gas/ia64/dv-srlz.d, gas/ia64/opc-m.d: Update.

2000-12-12  Nick Clifton  <nickc@@redhat.com>

	* gas/vtable/vtable.exp: Fix formatting.

	* gas/arm/elsegundo.s: New Test (currently disabled).
	* gas/arm/elsegundo.d: Expected test results.

2000-12-11  H.J. Lu  <hjl@@gnu.org>

	* gas/i386/intel.d: Adjusted for the a.out assembler.
	* gas/i386/intel.s: Likewise.

2000-12-09  Nick Clifton  <nickc@@redhat.com>

	* gas/m68k/pcrel.d: Update to match latest assembler output.

2000-12-02  Chris Demetriou  <cgd@@sibyte.com>

	* gas/mips/elf_e_flags.s: Add padding to the end of the
	file so that objdump output will be consistent.
	* gas/mips/elf_e_flags1.d, gas/mips/elf_e_flags2.d,
	gas/mips/elf_e_flags3.d, gas/mips/elf_e_flags4.d: Expect
	"..." at end of objdump output because of zero bytes at end
	of section.
	* gas/mips/elf_e_flags.c: Add note to comment about
	what's changing in elf_e_flags.s.

	* gas/mips/la.s: Add padding to the end of the file so that
	objdump output will be consistent.
	* gas/mips/la-svr4pic.d, gas/mips/la-xgot.d: Expect "..." at
	end of objdump output because of zero bytes at end of
	section.

	* gas/mips/sync.s: Add padding to the end of the file so that
	objdump output will be consistent.
	* gas/mips/sync.d: Expect "..." at end of objdump output
	because of zero bytes at end of section.

	* gas/mips/empic.d: Pad sections out to 16 bytes, to avoid
	alignment issues so tests are useful on multiple targets.
	* gas/mips/empic.s: Likewise.
	* gas/mips/mips16-e.d: Likewise.
	* gas/mips/mips16-e.s: Likewise.
	* gas/mips/mips16-f.d: Likewise.
	* gas/mips/mips16-f.s: Likewise.

	* gas/mips/mips32.d: Expect disassembly of madd and maddu
	to use their correct names.  Add tests for break and sdbbp.
	* gas/mips/mips32.s: Likewise.

	* gas/mips/mips64.s: Add test for assembly of MIPS64
	extensions.
	* gas/mips/mips64.d: Likewise.
	* gas/mips/mips.exp: Test using the new "mips64" test.

2000-12-01  Chris Demetriou  <cgd@@sibyte.com>

	* gas/mips/mips16.d: Expect mips16 nops to be used for padding
	when mips16 code generation is enabled.

	* gas/mips/empic.d: Adjust for the fact that the difference
	between two symbols in the same section are not expected to
	generate a reloc.
	* gas/mips/empic.s: Likewise.  Also, correct typo in comment
	about expected relocs.

	* gas/mips/mips32.s, gas/mips/mips32.d: New files for MIPS32
	instruction assembly test.
	* gas/mips/mips.exp: Add the test mentioned above.

2000-11-30  Diego Novillo  <dnovillo@@redhat.com>

	* intel.s, intel.d: New test for @@GOT references.

2000-11-28  Hans-Peter Nilsson  <hp@@bitrange.com>

	* gas/sh/err.exp: New, framework for error-testing.
	* gas/sh/err-1.s: New test.

2000-11-26  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* gas/m68hc11/opers12.s: New test for movw operands.
	* gas/m68hc11/opers12.d: Likewise.

2000-11-24  Nick Clifton  <nickc@@redhat.com>

	* arm.exp: Run tests for xscale as well as arm.
	Run xscale tests.

	* xscale.s: New file: XScale instruction tests.
	* xscale.d: New file: Expected XScale instruction results.

2000-11-20  H.J. Lu  <hjl@@gnu.org>

	* gas/i386/intel.d: Add 3 "nop"s for the a.out assembler.
	* gas/i386/intel.s: Likewise.

2000-11-16  H.J. Lu  <hjl@@gnu.org>

	* gas/symver/symver0.d: Add 64bit support.
	* gas/symver/symver1.d: Likewise.

2000-11-16  H.J. Lu  <hjl@@gnu.org>

	* gas/symver/symver.exp: Don't run symver4 nor symver5.

2000-11-13  H.J. Lu  <hjl@@gnu.org>

	* gas/symver/symver.exp: New for symver test.
	* gas/symver/symver0.d: Likewise.
	* gas/symver/symver0.s: Likewise.
	* gas/symver/symver1.d: Likewise.
	* gas/symver/symver1.s: Likewise.
	* gas/symver/symver2.l: Likewise.
	* gas/symver/symver2.s: Likewise.
	* gas/symver/symver3.l: Likewise.
	* gas/symver/symver3.s: Likewise.
	* gas/symver/symver4.l: Likewise.
	* gas/symver/symver4.s: Likewise.
	* gas/symver/symver5.l: Likewise.
	* gas/symver/symver5.s: Likewise.
	* gas/symver/symver6.l: Likewise.
	* gas/symver/symver6.s: Likewise.

2000-11-11  Hans-Peter Nilsson  <hp@@bitrange.com>

	* gas/macros/macros.exp: Mark strings test xfail for sh.

2000-10-24  Diego Novillo  <dnovillo@@cygnus.com>

	* intel.s, intel.d: Add new tests for intel syntax.

2000-10-19  Alan Modra  <alan@@linuxcare.com.au>

	* gas/elf/section0.s: Ensure section sizes are multiples of 16.
	* gas/elf/section1.s: Likewise.
	* gas/elf/section[01].d: Change to suit.

2000-10-18  H.J. Lu <hjl@@gnu.org>

	* gas/i386/intel.d: Fix the support for 64bit BFD in the last
	change.

2000-10-15  Diego Novillo  <dnovillo@@cygnus.com>

	* intel.s, intel.d: Add new tests for naked registers using intel
	syntax.

2000-09-29  Hans-Peter Nilsson  <hp@@axis.com>

	* gas/cris/regprefix-err-1.s, gas/cris/rd-regprefix-1.s,
	gas/cris/rd-regprefix-1.d, gas/cris/rd-regprefix-1b.d,
	gas/cris/us-err-1.s, gas/cris/us-err-2.s, gas/cris/us-err-3.s: New.
	* gas/cris/cris.exp: Loop run_dump_test over files matching rd-*.d.

2000-09-28  Alan Modra  <alan@@linuxcare.com.au>

	* gas/hppa/parse/parse.exp: Replace "hppa*w-*-*" with "hppa*64*-*-*"
	* gas/hppa/reloc/reloc.exp: Likewise.
	* gas/hppa/unsorted/unsorted.exp: Likewise.

	* gas/hppa/reloc/reduce.s: Modify .PARAM so we need an arg reloc.

2000-09-22  Jim Wilson  <wilson@@cygnus.com>

	* gas/ia64/opc-f.pl: Add missing fcmp and fpcmp tests.
	* gas/ia64/opc-f.s, gas/ia64/opc-f.d: Regenerate.

	* gas/ia64/dv-raw-err.s: Add new testcases for PR%, 16 - 62.
	* gas/ia64/dv-waw-err.s: Likewise.
	* gas/ia64/dv-imply.d: Regenerate.
	* gas/ia64/dv-mutex.d, gas/ia64/dv-raw-err.l, gas/ia64/dv-safe.d,
	gas/ia64/dv-srlz.d, gas/ia64/dv-war-err.l, gas/ia64/dv-waw-err.l,
	gas/ia64/opc-f.d, gas/ia64/opc-i.d, gas/ia64/opc-m.d: Likewise.

2000-09-14  Timothy Wall  <twall@@cygnus.com>

	* gas/ia64/dv-waw-err.[sl]: Additional tests for parallel
	comparisons which should and should not produce DVs.

2000-09-05  Alan Modra  <alan@@linuxcare.com.au>

	* gas/vtable/vtable.exp: Re-enable for hppa-elf.

2000-08-29  Timothy Wall  <twall@@cygnus.com>

	* gas/ia64/dv-mutex.s: Add stop to avoid DV error on cmp.eq.
	* gas/ia64/dv-mutex.d: Update regexp pattern.
	* gas/ia64/dv-entry-err.s: Add stop to avoid DV error on cmp.eq.
	* gas/ia64/dv-imply.s: Add stops to avoid DV errors on cmp.REL.
	Test still fails due to insn opcode pattern changes.

2000-08-21  H.J. Lu <hjl@@gnu.org>

	* gas/all/cofftag.d: Support the strict COFF.

2000-08-16  Jim Wilson  <wilson@@cygnus.com>

	* gas/ia64/dv-raw-err.s: Add new tests for addl and postinc.
	* gas/ia64/dv-raw-err.l: Likewise.
	* gas/ia64/dv-waw-err.l: Update sed pattern.
	* gas/ia64/opc-f.pl: Delete fpsub, and fpadd comment.
	* gas/ia64/opc-f.s, gas/ia64/opc-f.d: Regenerate.

2000-08-16  Nick Clifton  <nickc@@redhat.com>

	* gas/arm/inst.s: Add tests for edge cases of shift based
	addressing modes.

	* gas/arm/inst.d: Add expected results for new tests.

2000-07-20  Hans-Peter Nilsson  <hp@@axis.com>

	* gas/all/gas.exp: Don't run floating-point tests on CRIS.
	* gas/ieee-fp/x930509a.exp: Ditto.
	* gas/macros/macros.exp: Mark strings test xfail for CRIS.
	* gas/cris/*: New tests for CRIS.

2000-07-19  Alan Modra  <alan@@linuxcare.com.au>

	* gas/macros/macros.exp (test1): Run it for hppa*-*-linux*.
	(semi): Likewise.
	(strings): Don't run for hppa, except for hppa*-*-linux*.

	* gas/hppa/parse/linesepbug.s: Ensure we have whitespace before
	pseudos.

2000-07-18  Scott Bambrough  <scottb@@netwinder.org>

	* gas/arm/inst.d: Fix expected results to match current assembler
	output.  Patch from Justin Seger <justin.m.seger@@intel.com>.

2000-07-10  Alan Modra  <alan@@linuxcare.com.au>

	* gas/vtable/vtable.exp: Disable test for hppa.

	* gas/hppa/reloc/reloc.exp (do_relocation_reduction_tests): Don't
	run test for any elf target.
	(applybug): Don't run test for linux.
	* gas/hppa/unsorted/unsorted.exp (do_common_text): Likewise.
	* gas/hppa/parse/parse.exp (linesepbug): Remove xfail
	(labelbug): xfail for hppa-linux.

	* gas/hppa/basic/{coprmem.s, fmemLRbug.s}: Add colons to labels.
	* gas/hppa/parse/{callinfobug.s, regpopbug.s}: Likewise.
	* gas/hppa/reloc/{applybug.s, funcrelocbug.s, longcall.s,
	r_no_reloc.s, reduce3.s}: Likewise.
	* gas/hppa/unsorted/common.s: Likewise.

2000-07-05  Nick Clifton  <nickc@@cygnus.com>

	* gas/d30v/inst.d: Fix expected results to match current assembler
	output.
	* gas/d30v/bittest.l: Fix expected warning messages to match
	current assembler output.

2000-06-29  Kazu Hirata  <kazu@@hxi.com>

	* gas/h8300/h8300.exp (do_h8300s_mac): Change the registers used
	in ldmac and stmac.
	* gas/h8300/macs.s: Likewise.

2000-06-27  Nick Clifton  <nickc@@cygnus.com>

	* gas/d30v/bittest.l: Edit to match new warning messages produced
	by assembler.

2000-06-19  Timothy Wall  <twall@@cygnus.com>

	* gas/macros/macros.exp: Avoid tests which are not useful on tic54x.
	* gas/all/gas.exp: Make adjustments for tic54x target.
	* gas/ieee-fp/x930509a.exp: Ditto.
	* gas/tic54x/*: New tests for tic54x.  NOTE: load page has been
	moved into the LMA and is not printed separately by objdump any
	longer.  This still needs to be tested.

2000-06-18  Stephane Carrez  <stcarrez@@worldnet.fr>

	* gas/m68k/all.exp: Don't execute tests if the target is m68hc11&12.
	* gas/m68hc11/all.exp: Specific tests for m68hc11.
	* gas/m68hc11/all_insns.[ds]: Check m68hc11 instructions.
	* gas/m68hc11/insns[ds]: Another test.
	* gas/m68hc11/lbranch.[ds]: Check branch optimization (gas relax).
	* gas/m68hc11/opers12.[ds]: New files, check m68hc12 operands.

2000-06-17  Alan Modra  <alan@@linuxcare.com.au>

	* gas/macros/strings.s: Don't start directives in first column
	(for LABELS_WITHOUT_COLONS targets).

2000-06-14  H.J. Lu <hjl@@gnu.org>

	* gas/macros/strings.d: Support a.out and coff.

2000-06-14  Nick Clifton  <nickc@@cygnus.com>

	* gas/arm/arm6.s: Remove 'mrs r9, cpsr_all' since the cpsr_all
	flag is no longer legal syntax.

2000-06-09  Nick Clifton  <nickc@@cygnus.com>

	* gas/macros/macros.exp: Run new test: strings.
	* gas/macros/strings.s: New test: String expansion inside
	macros.
	* gas/macros/strings.d: New test results.

2000-06-04  Alan Modra  <alan@@linuxcare.com.au>

	* gas/i386/prefix.s: Modify so we have at least one x86 test that
	checks the line separator.

2000-05-21  Hans-Peter Nilsson  <hp@@axis.com>

	* gas/elf/elf.exp: Exclude *-*-linux*coff* as non-elf.

2000-05-15  Nick Clifton  <nickc@@cygnus.com>

	* gas/arm/arch4t.s: Add tests of new fields to msr instruction.

2000-05-11  Ulf Carlsson  <ulfc@@engr.sgi.com>

	* gas/mips/mips.exp: Include *-*-linux* in svr4pic.

	* gas/mips/jal-svr4pic.{s,d} gas/mips/jal-xgot.d: Add a jal to a
	weak symbol.

2000-05-08  Alan Modra  <alan@@linuxcare.com.au>

	* gas/mri/float.d: Fix for srec length change.

2000-05-02  Alan Modra  <alan@@linuxcare.com.au>

	* gas/hppa/unsorted/unsorted.exp: Duplicate hppa*-*-*elf*
	behaviour for hppa*-*-linux* throughout file.
	* gas/hppa/reloc/reloc.exp: Ditto.
	(reduce2.s): Disable test for elf targets.

	* gas/hppa/parse/parse.exp (ssbug.s): setup_xfail hppa*-*-linux*.

	* gas/elf/section0.s: Don't start pseudos on first column so
	targets that define LABELS_WITHOUT_COLONS work.
	* gas/elf/section1.s: Ditto.
	* gas/vtable/inherit0.s: Ditto.
	* gas/vtable/inherit1.s: Ditto.
	* gas/vtable/entry0.s: Ditto.
	* gas/vtable/entry1.s: Ditto.

2000-05-01  Nick Clifton  <nickc@@cygnus.com>

	* gasp/macro.out: Fix label numbers to remove leading zeroes.
	* gasp/mdouble.out: Fix label numbers to remove leading zeroes.

2000-04-25  Alan Modra  <alan@@linuxcare.com.au>

	* gas/i386/general.l: Allow for DISP32 pe relocs.
	* gas/i386/jump.d: Similarly.

2000-04-24  Jim Wilson  <wilson@@cygnus.com>

	* gas/ia64/opc-i.d: Change pmin2.u to pmin2.  Change pmax2.u to pmax2.
	Change MLI to MLX.  Switch operands for output matching tbit.z.orcm,
	tbit.z.andcm, tbit.nz.orcm, tbit.nz.andcm, tnat.z.orcm, tnat.z.andcm,
	tnat.nz.orcm, tnat.nz.andcm inputs.
	* gas/ia64/opc-i.pl: Insert padding nops before last dep.
	* gas/ia64/opc-i.s: Regenerate.

	* gas/ia64/opc-i.s: Regenerate.
	* gas/ia64/opc-f.pl: Add explicit stop at end.

2000-04-22  Timothy Wall  <twall@@cygnus.com>

	* gas/ia64/opc-f.d: Disassemble zeroes to verify break.f.
	* gas/ia64/opc-f.s: Add an explicit stop to make IAS output match.

2000-04-21  Richard Henderson  <rth@@cygnus.com>
	    David Mosberger  <davidm@@hpl.hp.com>
	    Timothy Wall <twall@@cygnus.com>
	    Jim Wilson  <wilson@@cygnus.com>

	* gas/vtable/vtable.exp: Disable for ia64.
	* gas/ia64: New testsuite directory.

2000-04-03  Alan Modra  <alan@@linuxcare.com.au>

	* gas/i386/general.s: Check 16-bit immediates, and move call/jump
	checks to start.
	* gas/i386/general.l: Likewise.

2000-04-01  Alexandre Oliva  <aoliva@@cygnus.com>

	* gas/mn10300/am33_5.s: Check that negative SP offsets are encoded
	with 32 bits, not with the unsigned shorter opcodes.
	* gas/mn10300/basic.exp: Likewise.

2000-03-31  Alexandre Oliva  <aoliva@@cygnus.com>

	* lib/gas-defs.exp (regexp_diff): Don't break on the first
	difference, list them all.

2000-03-29  Nick Clifton <nickc@@cygnus.com

	* gas/arm/thumb.s: Add test of bal instruction.

2000-03-27  Alan Modra  <alan@@linuxcare.com.au>

	* gas/ieee-fp/x930509a.exp (dotest): Fix test for
	LISTING_WORD_SIZE==1.
	* gas/all/gas.exp (do_930509a): Same here.
	* gas/all/cond.d: And here.

2000-03-16  Nick Clifton  <nickc@@cygnus.com>

	* gas/arm/arm.exp: Run branch.s test.
	Run tests if target is strongarm.

	* gas/arm/branch.s: New test.  Make sure that assembler can handle
	same-section branch relocations properly.

	* gas/arm/branch.d: New file.  Expected output from assembling
	branch.s.

2000-03-10  Geoffrey Keating  <geoffk@@cygnus.com>

	* gas/mips/empic.d: New file.
	* gas/mips/empic.s: New file.
	* gas/mips/mips16-e.d: New file.
	* gas/mips/mips16-e.s: New file.
	* gas/mips/mips16-f.d: New file.
	* gas/mips/mips16-f.s: New file.
	* gas/mips/mips.exp: Add empic, mips16-e.  Add mips16-f as an
	expected failure.

2000-02-25  H.J. Lu <hjl@@gnu.org>

	* gas/i386/general.l: Support a.out and coff.

2000-02-25  Alan Modra  <alan@@spri.levels.unisa.edu.au>

	* gas/i386/intel.s: New file, intel version of opcode.s
	* gas/i386/intel.d: New file, copy of opcode.d
	* gas/i386/i386.exp: Call it.

	* gas/i386/general.s: Add extra "out" instructions.
	* gas/i386/general.l: Likewise.

2000-01-31  Nick Clifton  <nickc@@cygnus.com>

	* gas/arm/inst.s: Include test of ATPCS register naming
	conventions.

	* gas/arm/float.s: Include test of ATPCS register naming
	conventions.

2000-01-21  H.J. Lu <hjl@@gnu.org>

	* gas/i386/general.l: Support a.out.
	* gas/i386/jump.d: Likewise.
	* gas/i386/jump16.d: Likewise.

2000-01-21  Alan Modra  <alan@@spri.levels.unisa.edu.au>

	* gas/i386/general.{s,l}: Move 16 bit jmp and call tests from here
	* gas/i386/jump16.{s,d}: To here.
	* gas/i386/jump.{s,d}: New files.  Duplicate 32 bit jmp and call
	tests in general.s so that objdump is exercised.

	* gas/i386/i386.exp: Call new tests.

2000-01-15  Alan Modra  <alan@@spri.levels.unisa.edu.au>

	* gas/i386/general.{s,l}: Add jmp and call tests for .code16gcc,
	.code16, and .code32 modes.

1999-11-30  Jeffrey A Law  (law@@cygnus.com)

	* gas/mn10300/{am33.s, am33_2.s, am33_3.s}: New test files.
	* gas/mn10300/{am33_4.s, am33_5.s, am33_6.s}: Likewise.
	* gas/mn10300/{am33_7.s, am33_8.s}: Likewise.
	* gas/mn10300/basic.exp: Run the am33 tests.

1999-11-15  Gavin Romig-Koch  <gavin@@cygnus.com>

	* gas/mips/la.d: Adjust for new la macro expansion.
	Change matches for explicit addresses to matches for
	any address.
	* gas/mips/la-xgot.d: Same.
	* gas/mips/la-svr4pic.d: Same.

1999-11-01  Nick Clifton  <nickc@@cygnus.com>

	Remove reloc generating references to local labels in test code.
	Some ARM targets (eg PE) generate a reloc based on the label,
	whilst others (eg ELF) generate a reloc based on the section
	symbol.  This meant that the disassembled outputs would differ.

	* gas/arm/inst.s: Change test of BLPL instruction.
	* gas/arm/inst.d: Change expected decode of BLPL instruction.
	* gas/arm/arm7t.s: Remove use of .LC0 label in .word directive.
	Remove .rdata section, since this cannot exist in an arm-aout
	target.
	* gas/arm/arm7t.d: Change expected reloc generated for .word
	directive.

1999-10-21  Nick Clifton  <nickc@@cygnus.com>

	* gas/arm/arm7t.d: Update to match latest objdump output.
	* gas/arm/inst.s: Fix erroneous test case.
	* gas/arm/inst.d: Update to match latest objdump output.

1999-10-11  Geoffrey Keating  <geoffk@@cygnus.com>

	* lib/gas-defs.exp (regexp_diff): Allow '#...' to mean "some
	indeterminate number of extra lines here".

	* gas/elf/elf.exp: Remove XFAILs.
	* gas/elf/section0.d: Make pass on MIPS (and hopefully alpha).
	* gas/elf/section1.d: Likewise.

1999-10-07	Diego Novillo <dnovillo@@cygnus.com>

	* gas/d10v: New directory.
	* gas/d10v/d10.exp: New file.
	* gas/d10v/inst.s: New file.
	* gas/d10v/inst.d: New file.

1999-10-07  Geoffrey Keating  <geoffk@@cygnus.com>

	* gas/mips/elf-rel.s: New file.
	* gas/mips/elf-rel.d: New file.
	* gas/mips/elf-rel2.d: New file.
	* gas/mips/e32-rel2.d: New file.
	* gas/mips/elf-rel2.s: New file.
	* gas/mips/mips.exp: Add elf-rel, elf-rel2.

	* gas/mips/elf_e_flags1.d: Tweak a little so it passes
	even if the CPU is set to something by default.

1999-10-04  Doug Evans  <devans@@canuck.cygnus.com>

	* gas/m32r/error.exp: New testcase driver.
	* gas/m32r/m32rx.exp: New testcase driver.
	* gas/m32r/fslotx.[sd]: New testcase.
	* gas/m32r/m32rx.[sd]: New testcase.
	* gas/m32r/relax-s.[sd]: New testcase.
	* gas/m32r/interfere.s: New testcase.
	* gas/m32r/wrongsize.s: New testcase.

1999-09-17  Alan Modra  <alan@@spri.levels.unisa.edu.au>

	* gas/i386/i386.exp: Enable reloc and white tests for COFF.
	* gas/i386/reloc.d: Accept dir32 relocs.

1999-09-12  Donn Terry  <donn@@interix.com>

	* gas/all/gas.exp: Run cofftag test for i*86-*-interix*.
	* lib/gas-defs.exp: Add perror if can not read .d file.

1999-09-04  Steve Chamberlain  <sac@@pobox.com>

	* gas/pj/{pj.exp, ops.c, ops.d}: New tests for picoJava.

1999-09-02  Nick Clifton  <nickc@@cygnus.com>

	* gas/vtable/vtable.exp: Add [istarget "strongarm*-*-*"] to run
	dump  test "entry0" instead of "entry1".

1999-09-01  Scott Bambrough  <scottb@@netwinder.org>

	* gas/vtable/vtable.exp: Added [istarget "arm*-*-*"] to run dump
	test "entry0" instead of "entry1".  ARM targets use REL relocs,
	and should use the test entry0.

1999-09-01  H.J. Lu  <hjl@@gnu.org>

	* gas/i386/naked.d: Fix for coff targets.

Mon Aug 30 12:18:40 1999  Jeffrey A Law  (law@@cygnus.com)

	* gas/hppa/unsorted/*.s: Use .code instead of .SPACE/.SUBSPA for
	sectioning.
	* gas/hppa/unsorted/unsorted.exp: Disable tests not appropriate for
	PA64.

	* gas/hppa/reloc/*.s: Use .code instead of .SPACE/.SUBSPA for
	sectioning.
	* gas/hppa/parse/parse.exp: Disable tests not appropriate for PA64.
	Revamp address expressions slightly to handle an arbitrary sized
	address.

	* gas/hppa/parse/*.s: Use .code instead of .SPACE/.SUBSPA for
	sectioning.
	* gas/hppa/parse/parse.exp: Disable tests not appropriate for PA64.

	* gas/hppa/basic/*.s: Use .code instead of .SPACE/.SUBSPA for
	sectioning.

1999-08-30  Alan Modra  <alan@@spri.levels.unisa.edu.au>

	* gas/i386/naked.s, gas/i386/naked.d: Test-suite addition for
	allow_naked_reg parsing.
	* gas/i386/i386.exp: Call it.

1999-08-29  Alan Modra  <alan@@spri.levels.unisa.edu.au>

	* gas/i386/white.s, gas/i386/white.l: Add space in FP reg tests.

1999-08-28  Jerry Quinn <jquinn@@nortelnetworks.com>

	* gas/hppa/basic/basic.exp:  Add new tests shift2.s,
	shift3.s, extract2.s, extract3.s, deposit2.s, and deposit3.s.
	* gas/hppa/basic/shift2.s, shift3.s, extract2.s,
	extract3.s, deposit2.s, deposit3.s:  New.

	* gas/hppa/basic/add.s,addi.s,dcor.s,shladd.s,sub.s,subi.s,unit.s:
	Add new syntax versions of instructions to tests.
	* gas/hppa/basic/add2.s,dcor2.s,perf.s,purge2.s,shladd2.s,sub2.s,
	system2.s, unit2.s:  New tests.
	* hppa/basic/basic.exp: Add new tests.

	* gas/hppa/basic/basic.exp:
	* gas/hppa/basic/media.s:  Add test cases for new instructions.

	* gas/hppa/basic/basic.exp (do_branch2,do_media): New.
	* gas/hppa/basic/branch2.s:  New.
	* gas/hppa/basic/media.s:  New.

	* gas/hppa/basic/basic.exp (do_fp_comp2):  New.
	* gas/hppa/basic/fp_comp2.s:  New.

1999-08-20  Alan Modra  <alan@@spri.levels.unisa.edu.au>

	* gas/i386/general.s, gas/i386/general.l: Add .code16gcc
	displacement checks with auto address prefix.

1999-08-17  H.J. Lu  <hjl@@gnu.org>

	* gas/elf/elf.exp: Expected to fail on alpha*-*-*.

1999-08-09  Ian Lance Taylor  <ian@@zembu.com>

	* gas/i386/float.s, gas/i386/float.l: Modify to work correctly
	when gas uses 2**4 alignment for .text.
	* gas/i386/general.s, gas/i386/general.l: Likewise.
	* gas/i386/katmai.s, gas/i386/katmai.d: Likewise.
	* gas/i386/modrm.s, gas/i386/modrm.l: Likewise.
	* gas/i386/prefix.s, gas/i386/prefix.d: Likewise.

1999-07-27  Alan Modra  <alan@@spri.levels.unisa.edu.au>

	* gas/i386/reloc.d: Fix so that test passes when enable-targets
	includes 64-bit bfd target.

1999-06-13  Ian Lance Taylor  <ian@@zembu.com>

	* gas/i386/katmai.d: Tweak for recent disassembler changes.

1999-06-12  Ian Lance Taylor  <ian@@zembu.com>

	* gas/elf/elf.exp: Don't run tests on "*-*-linux*aout*" or
	"*-*-linux*oldld*".
	* gas/vtable/vtable.exp: Likewise.
	* gas/i386/reloc.d: Modify expected reloc names to accept a.out
	names.

	* gas/i386/amd.s: Add a symbol so a.out tests will work.
	* gas/i386/katmai.s: Likewise.
	* gas/i386/amd.d: Corresponding change.
	* gas/i386/katmai.d: Corresponding change.

1999-06-10  Ian Lance Taylor  <ian@@zembu.com>

	* gas/mips/sync.d: Pass -mips2 to the assembler.

	* gas/mips/elf_e_flags.s: Tweak code so that the tests pass for
	mips-elf target as well as mips64-elf target.
	* gas/mips/elf_e_flags1.d: Corresponding changes.
	* gas/mips/elf_e_flags2.d: Likewise.
	* gas/mips/elf_e_flags3.d: Likewise.
	* gas/mips/elf_e_flags4.d: Likewise.

	* gas/elf/elf.exp: Add setup_xfail for mips*-*-*.

	* gas/all/itbl-test.c (main): Update itbl_get_reg_val call for new
	parameter.

1999-06-10  Jakub Jelinek  <jj@@ultra.linux.cz>

	* gas/sparc/synth64.s: Add checks for single register signx/clruw.
	* gas/sparc/set64.s: Add tests for setuw and setsw synthetic insns.
	* gas/sparc/prefetch.d: Add -64 as switch.
	* gas/sparc/rdpr.d: Ditto.
	* gas/sparc/wrpr.d: Ditto.
	* gas/sparc/synth64.d: Ditto, reflect synth64.s changes.
	* gas/sparc/reloc64.d: Add -64 as switch, be more tolerant, as
	current gas outputs %hi(0) and not %hi(0x0).
	* gas/sparc/set64.d: Add -64 as switch, reflect set64.s changes and
	optimizations for setx instruction.
	* gas/sparc/sparc.exp: Do sparc64*-*-* checks if it is any of the
	compiled-in targets.

1999-06-10  Richard Henderson  <rth@@cygnus.com>

	* gas/macros/irp.s: Use `foo' and `bar' instead of `r' and `s'.
	* gas/macros/rept.s, gas/macros/test2.s, gas/macros/test3.s: Likewise.
	* gas/macros/{irp,rept,test2,test3}.d: Update.

1999-06-05  Richard Henderson  <rth@@cygnus.com>

	* gas/elf/elf.exp: New directory.
	* gas/elf/section0.[sd]: New test.
	* gas/elf/section1.[sd]: New test.

1999-06-03  Philip Blundell  <philb@@gnu.org>

	* gas/arm/arm7t.d, gas/arm/inst.d: Update to match current gas,
	bfd and opcodes.

1999-05-28  Ian Lance Taylor  <ian@@zembu.com>

	* gas/vtable/vtable.exp: Don't run test for i960 yet.

1999-05-17  Nick Clifton  <nickc@@cygnus.com>

	* gas/mcore/allinsn.d: Updated to match latest objdump output.

1999-05-12  Alan Modra  <alan@@spri.levels.unisa.edu.au>

	* gas/i386/opcode.d: Modify callw to suit disasm fix.

	* gas/i386/amd.d: Modify a '(bad)' to SIMD instruction.

	* gas/i386/amd.s: Pad to multiple of 8
	* gas/i386/amd.d: Here too.

	* gas/i386/prefix.[sd]: Align with nops
	* gas/i386/reloc.[sd]: Here too.

	* gas/i386/katmai.[sd]: New for PIII SIMD
	* gas/i386/i386.exp: Call it.

1999-05-02  Nick Clifton  <nickc@@cygnus.com>

	* gas/mcore/allinsn.d: Update to match latest assembler
	operations.

1999-04-16  DJ Delorie  <dj@@cygnus.com>

	* gas/i386/amd.s: Add NOPs to align for coff targets
	* gas/i386/amd.d: and check for them.

1999-04-15  Jeffrey A Law  (law@@cygnus.com)

	* gas/hppa/basic/basic.exp (do_coprmem): No longer expected to file.

1999-04-14  Jeffrey A Law  (law@@cygnus.com)

	* gas/hppa/basic/branch.s: Do not use immediate value where we
	really want a register.
	* gas/hppa/basic/coprmem.s: Likewise.
	* gas/hppa/basic/fmemLRbug.s: Likewise.
	* gas/hppa/basic/coprmem.s: Likewise.
	* gas/hppa/basic/spop.s: Likewise.
	* gas/hppa/basic/imem.s: Likewise.
	* gas/hppa/parse/badfmpyadd.s: Likewise.
	* gas/hppa/parse/calldatabug.s: Likewise.
	* gas/hppa/parse/entrybug.s: Likewise.
	* gas/hppa/parse/exprbug.s: Likewise.
	* gas/hppa/parse/fixup7bug.s: Likewise.
	* gas/hppa/parse/labelbug.s: Likewise.
	* gas/hppa/reloc/applybug.s: Likewise.
	* gas/hppa/reloc/funcrelocbug.s: Likewise.
	* gas/hppa/reloc/labelopbug.s: Likewise.
	* gas/hppa/reloc/longcall.s: Likewise.
	* gas/hppa/reloc/plabelbug.s: Likewise.
	* gas/hppa/reloc/reduce.s: Likewise.
	* gas/hppa/reloc/reduce2.s: Likewise.
	* gas/hppa/reloc/reduce3.s: Likewise.
	* gas/hppa/unsorted/brlenbug.s: Likewise.
	* gas/hppa/unsorted/importbug.s: Likewise.
	* gas/hppa/unsorted/lasbeldiffs.s: Likewise.

	* gas/hppa/basic/basic.exp (do_imem): Handle multiple encodings
	for loads and stores using reg + small d addresses.
	No longer expect failure for mis-parse of imm %reg.

1999-04-13  Doug Evans  <devans@@casey.cygnus.com>

	* gas/m32r/m32rx.d (cmpu__rach): Fix expected output.
	* gas/m32r/m32rx.s (bc__add,add__bc): Explicitly specify short branch
	so branch relaxation restrictions won't interfere with parallelization
	attempts.

1999-04-08  Nick Clifton  <nickc@@cygnus.com>

	* gas/mcore: New Directory.
	* gas/mcore/allinsn.exp: New File: Expect file for MCore assembly
	tests.
	* gas/mcore/allinsn.s: New File: Source file for MCore assembly
	tests.
	* gas/mcore/allinsn.d: New File: Expected output file for MCore
	assembly tests.

1999-03-20  Doug Evans  <devans@@casey.cygnus.com>

	* gas/m32r/m32rx.[sd]: Fix a few more testcases.

1999-03-16  Martin Hunt  <hunt@@cygnus.com>

	* gas/d30v/d30.exp (run_list_test): Add new tests,
	label, guard-debug, serial, warn_oddreg, bittest, and mul.

	* gas/d30v/opt.s: Fix some warnings and add a few labels
	to keep things from parallelizing where we don't want them to.

	* gas/d30v/reloc.s: Fix warning.

	* gas/d30v/opt.d, reloc.d, inst.d: Rebuild.

	* gas/d30v/label.s: New test. Check that labels are aligned
	on 8-byte boundaries.

	* gas/d30v/guard-debug.s: New test. Test output with "-g".

	* gas/d30v/serial.s: New test. Check for warnings with
	illegal serial instructions.

	* gas/d30v/warn_oddreg.s: New test. CHeck for warnings when
	odd-numbered registers are used for some instructions.

	* gas/d30v/bittest.s: New test. Check for bit operation
	instructions (BCLR, BNOT, BSET, BTST) in the IU.

	* gas/d30v/mul.s: New test. Check for restricted sequences
	in a bunch of different multiply instructions.

	* gas/vtable/vtable.exp (run_list_test): Don't
	run test on D30V.

1999-03-05  Nick Clifton  <nickc@@cygnus.com>

	* gas/all/gas.exp: Expect strongarm-coff target to fail cofftag
	test.

1999-02-13  Jim Blandy  <jimb@@zwingli.cygnus.com>

	* gas/mips/mips.exp: Run the new tests, below.
	* gas/mips/elf_e_flags1.d, gas/mips/elf_e_flags2.d,
	gas/mips/elf_e_flags3.d, gas/mips/elf_e_flags4.d: New files.
	* gas/mips/elf_e_flags.c, gas/mips/elf_e_flags.s: New files.

	* lib/gas-defs.exp (run_dump_test): Document.  It's not
	really trivial.

	* lib/gas-defs.exp (run_dump_test): Clean up logic for guessing
	$program (the dump tool).

1999-02-10  Doug Evans  <devans@@casey.cygnus.com>

	* gas/m32r/allinsn.d: Prefix all | with \.
	(push,pop): Fix expected output.
	* gas/m32r/relax-1.d: Emitted nops are serial, not parallel.
	* gas/m32r/fslot.d: Prefix all | with \.

1999-02-08  Nick Clifton  <nickc@@cygnus.com>

	* gas/vtable/inherit0.s: Do not use '@@' prefix to .type operator.
	Some ports use it as a comment initiator.

	* gas/vtable/entry1.d: Do not look for an addend.  Some ports use
	REL relocations and so do not have one.

1998-12-18  Nick Clifton  <nickc@@cygnus.com>

	* gas/fr30/allinsn.s: Fix to match latest assembler syntax.
	* gas/fr30/allinsn.d: Fix to match latest assembler output

1998-12-03  Nick Clifton  <nickc@@cygnus.com>

	* gas/fr30/allinsn.d: Updated to match latest assembler output.

1998-12-02  Nick Clifton  <nickc@@cygnus.com>

	* gas/fr30/allinsn.s: Replace illegal insns with legal versions.

	* gas/fr30/allinsn.d: Update to match latest assembler output.

1998-11-19  Dave Brolley  <brolley@@cygnus.com>

	* gas/fr30/allinsn.s: Reorder insns for better simulation.

1998-11-19  Doug Evans  <devans@@charmed.cygnus.com>

	* gas/mips/sync.[sd]: New testcase.
	* gas/mips/mips.exp: Run it.

1998-11-18  Dave Brolley  <brolley@@cygnus.com>

	* gas/fr30/allinsn.s (dmov): Correct hex literals.

1998-11-17  Nick Clifton  <nickc@@cygnus.com>

	* gas/fr30/allinsn.s: Moved currently un-assembliable instructions
	to end of file.

	* gas/fr30/allinsn.d: Added disassembly of currently assembliable
	opcodes.

1998-11-16  Nick Clifton  <nickc@@cygnus.com>

	* gas/fr30/allinsn.s: Fix syntax errors.

1998-11-16  Dave Brolley  <brolley@@cygnus.com>

	* gas/fr30/allinsn.s: Fixed more typos.

1998-11-13  Nick Clifton  <nickc@@cygnus.com>

	* gas/fr30/allinsn.s: Fixed typos and added some tests of upper
	case vs lower case.

1998-11-10  Nick Clifton  <nickc@@cygnus.com>

	* gas/fr30/allinsn.s: New file.
	* gas/fr30/allinsn.d: New file.
	* gas/fr30/allinsn.exp: New file.
	* gas/fr30/fr30.exp: New file.

1998-11-02  Doug Evans  <devans@@canuck.cygnus.com>

	* gas/m32r/fslot.[sd]: New testcase.
	* gas/m32r/m32r.exp: Run it.

1998-10-20  Alan Modra  <alan@@spri.levels.unisa.edu.au>

	* gas/i386/i386.exp: Run AMD insn test.
	* gas/i386/amd.s: New test.
	* gas/i386/amd.d: New test results.

1998-09-20  Andreas Schwab  <schwab@@issan.informatik.uni-dortmund.de>

	* gas/vtable/inherit1.l: Require only the word GAS somewere in the
	first line of the listing.

Tue Sep  1 10:20:03 1998  Richard Henderson  <rth@@cygnus.com>

	* gas/ppc/astest.d: Adjust regexps to match a 64-bit host.
	* gas/ppc/astest2.d: Likewise.

Mon Aug 31 13:25:07 1998  Richard Henderson  <rth@@cygnus.com>

	* gas/vtable/{entry0.d,entry1.d,inherit0.d}: Fix pattern matching
	of whitespace for 64-bit hosts.

Mon Aug 31 12:45:49 1998  Richard Henderson  <rth@@cygnus.com>

	* gas/vtable/vtable.exp: New.
	* gas/vtable/{entry0.s,entry0.d}: New.
	* gas/vtable/{entry1.s,entry1.d}: New.
	* gas/vtable/{inherit0.s,inherit0.d}: New.
	* gas/vtable/{inherit1.s,inherit1.l}: New.

Thu Aug 20 23:18:06 1998  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/i386/white.l: Revert patch of August 12.

Wed Aug 12 11:54:37 1998  Jeffrey A Law  (law@@cygnus.com)

	* gas/mn10300/udf.s: New test.
	* gas/mn10300/basic.exp: Run it.

Wed Aug 12 13:25:38 1998  Alan Modra  <alan@@spri.levels.unisa.edu.au>

	* gas/i386/general.l: Test andb $~0x80,foo.
	* gas/i386/general.s: Update.

	* gas/i386/white.l: Expect warning for stand-alone ss prefix.

Tue Jul 21 12:46:59 1998  Alan Modra  <alan@@spri.levels.unisa.edu.au>

	* gas/i386/white.s: Add some more whitespace tests.
	* gas/i386/white.l: Update accordingly.

Mon Jul 13 18:15:11 1998  Alan Modra  <alan@@spri.levels.unisa.edu.au>

	* gas/i386/*: All new i386 testsuite.

1998-07-02  Ken Raeburn  <raeburn@@cygnus.com>

	* lib/gas-defs.exp (gas_init): Complain if target name isn't in
	canonical form.

Wed Jul  1 15:35:09 1998  Nick Clifton  <nickc@@cygnus.com>

	* gas/all/gas.exp: Expect ARM and Thumb cofftag test to fail.

Wed Jul  1 17:31:39 1998  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/ppc/simpshft.s: Add alignment so that it works on AIX.
	* gas/ppc/simpshft.d: Change accordingly.  Only dump the .text
	section.

Tue Jun 23 15:14:43 1998  Nick Clifton  <nickc@@cygnus.com>

	* gas/v850/hilo2.s: Use r1 as the destination of the movea
	instruction, since r0 is read only.

	* gas/v850/basic.exp: Fix names of special area relocations.
	Set -mwarn-signed-overflow flag when running range.s test.

Sun Jun 21 12:44:43 1998  Nick Clifton  <nickc@@cygnus.com>

	* gas/d30v/reloc.d: Updated to match latest assembler output.

1998-06-17  Frank Ch. Eigler  <fche@@cygnus.com>

	* gas/mips/delay.d: Add -mcpu=NNNN to gas flags to let test case
	run on differently targeted assembler.
	* gas/mips/{ld-ilocks-addr32,ld-svr4pic.d}: Ditto.
	* gas/mips/{ld-xgot.d,lif-svr4pic.d,lif-xgot.d}: Same.
	* gas/mips/{mips16.d,mips4.d,nodelay.d}: Again.
	* gas/mips/{trunc.d,uld.d,ulh-xgot.d,usd.d}: And then some.

	* gas/mips/ld-ilocks.d: Removed disassembler flags to let target
	defaults go unmodified.  Replaced $f4/$f5 with $fp[45], as the
	original `ld.d' had.  Find `ld.s'.
	* gas/mips/mul-ilocks.d: Nearly ditto.

1998-06-11  Nick Clifton  <nickc@@cygnus.com>

	* gas/d30v/inst.d: Expect repeati instrucitons to be combined.

	* gas/d30v/inst.s: Add nop to keep assembled instructions at
	expected addresses.

1998-06-08  Nick Clifton  <nickc@@cygnus.com>

	* gas/d30v/array.d: Updated to match latest assembler results.
	* gas/d30v/reloc.d: Partially updated to match latest assembler
	results.

1998-06-05  Andreas Schwab  <schwab@@issan.informatik.uni-dortmund.de>

	* gas/m68k/operands.s: For all pc relative addresses change tstl
	to pea since the former does not allow pcrel on m68000.  Do not
	make label foo global, so that references to it can be relaxed on
	ELF targets.
	* gas/m68k/operands.d, gas/m68k/op68000.d: Updated.

1998-06-02  Geoff Keating  <geoffk@@ozemail.com.au>

	* gas/ppc/ppc.exp: Run simpshft test.
	* gas/ppc/simpshft.d: New file.
	* gas/ppc/simpshft.s: New file.

1998-06-01  Jeffrey A Law  (law@@cygnus.com)

	* gas/mips/div-ilocks.d: Handle both "break" instruction variants.
	* gas/mips/{div.d, mul-ilocks.d, mul.d}: Likewise.

1998-05-29  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/mips/mips.exp: Adjust ilocks initialization to match current
	assembler defaults more closely.

	* gas/sh/fp.s: Remove ftst/nan.  The assembler no longer supports
	the instruction.
	* gas/sh/basic.exp: Adjust accordingly.

Wed May 27 15:26:51 1998  Nick Clifton  <nickc@@cygnus.com>

	* gas/d30v/align.d: Updated to match latest assembler output.
	* gas/d30v/inst.d: Updated to match latest assembler output.
	* gas/d30v/inst.s: Updated to match latest assembler rules.
	* gas/d30v/opt.d: Updated to match latest assembler output.

Fri May 22 15:56:51 1998  Doug Evans  <devans@@canuck.cygnus.com>

	* gas/m32r/allinsn.d: Handle 64 bit bfd_vma.
	* gas/m32r/uppercase.d: Likewise.

Thu May 21 15:03:06 1998  Nick Clifton  <nickc@@cygnus.com>

	* gas/arm/thumb.s: Add period to start of labels to prevent
	assembler thinking that they are function entry points.

Tue May 19 18:17:10 1998  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/mips/mips16.d: Correct to reflect bug fix to disassembler.

Mon May 18 13:11:45 1998  Frank Ch. Eigler  <fche@@cygnus.com>

	* gas/mips/{div,ld,mul}.d: Add assembler -mcpu= flag to match
	disassembler.

Fri May 15 14:51:01 1998  Gavin Koch  <gavin@@cygnus.com>

	* gas/mips/mips.exp: Distinguish chains with 32-bit addresses.
	* gas/mips/ld-ilocks-addr32.d : New.

Wed May 13 15:06:31 1998  Doug Evans  <devans@@canuck.cygnus.com>

	* gas/m32r/uppercase.[sd]: Test for HIGH,SHIGH,LOW,SDA.

Thu May  7 13:05:25 1998  Frank Ch. Eigler  <fche@@cygnus.com>

	* gas/mips/break20.[sd]: New tests for 20-bit operand break and
	sddbp instructions.
	* gas/mips/trap20.[sd]: New tests for 20-bit operand trap
	instructions.
	* gas/mips/mips.exp: Run them.

Thu Apr 30 11:55:01 1998  Frank Ch. Eigler  <fche@@cygnus.com>

	* gas/d30v/{inst,array,opt,reloc}.d: Accept <symbol+offset> labels
	in disassembly, where the offset is in hex and has a "0x" prefix.

Tue Apr 28 16:38:34 1998  Frank Ch. Eigler  <fche@@cygnus.com>

	* gas/mips/lineno.[sd]: Assembly source line number test.
	* gas/mips/mips.exp: Added lineno test.

Wed Apr  8 18:45:17 1998  Jeffrey A Law  (law@@cygnus.com)

	* gas/testsuite/all/gas.exp: No longer expect failures for
	difference of undefined symbols on mn10x00 targets.

Mon Mar 23 10:47:33 1998  Frank Ch. Eigler  <fche@@cygnus.com>

	* gas/all/align.s: Back out ".section text" change below;
	use ".text" again.
	* gas/macros/semi.s: Ditto.

Fri Mar 20 18:51:49 1998  Frank Ch. Eigler  <fche@@cygnus.com>

	* gas/all/align.s: Identify ".text" section explicitly.
	* gas/macros/semi.s: Ditto.



Mon Mar  2 13:30:40 1998  Doug Evans  <devans@@seba.cygnus.com>

	* gas/m32r/allinsn.[sd] (ldi8a,ldi16a): Delete.
	(ldi16): Improve test.
	(nop): Fix test.

Thu Feb 12 20:12:39 1998  Ian Lance Taylor  <ian@@cygnus.com>

	* gasp/macro.out: Adjust to reflect the fact that keyword
	arguments are now permitted after positional arguments.

Wed Feb  4 15:27:44 1998  Nick Clifton  <nickc@@cygnus.com>

	* gas/arm/arm7t.d: Update to match latest assembler output.

Wed Feb  4 15:40:00 1998  Geoffrey Keating  <geoffk@@ozemail.com.au>

	* gas/ppc/ppc.exp: New file.
	* gas/ppc/astest.s, gas/ppc/astest.d: New test.
	* gas/ppc/astest2.s, gas/ppc/astest2.d: New test.

Sun Feb  1 21:43:54 1998  Jeffrey A Law  (law@@cygnus.com)

	* gas/mips/4010.s: Pad test code out to a 16byte boundary.
	* gas/mips/4010.d: Corresponding changes.
	* gas/mips/4100.s: Pad test code out to a 16byte boundary.
	* gas/mips/4100.d: Corresponding changes.
	* gas/mips/4650.s: Pad test code out to a 16byte boundary.
	* gas/mips/4650.d: Corresponding changes.

Fri Jan 30 14:09:13 1998  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/mri/moveml.d: Add test comments, fix regexps.

Thu Jan 29 13:34:49 1998  Doug Evans  <devans@@canuck.cygnus.com>

	* gas/m32r/{allinsn,high-1}.d: Allow # constant prefix to be missing.

Thu Jan 29 09:43:50 1998  Richard Henderson  <rth@@cygnus.com>

	* gas/m68k/mri_moveml.[sd]: Moved to ...
	* gas/mri/moveml.[sd]: ... here.
	* gas/mri/mri.exp: Run it.

Tue Jan 27 21:55:44 1998  Jeffrey A Law  (law@@cygnus.com)

	* gas/mips/4010.s: Add 4010 tests.
	* gas/mips/4010.d: Expected output.
	* gas/mips/4100.s: Add 4010 tests.
	* gas/mips/4100.d: Expected output.
	* gas/mips/4650.s: Add 4010 tests.
	* gas/mips/4650.d: Expected output.
	* gas/mips/mips.exp: Run the new tests.
	* gas/mips/*.d: Pass the right processor model to objdump.
	Fix minor cases where expected output was wrong due to opcode
	conflicts.

Tue Jan 27 05:35:02 1998  Richard Henderson  <rth@@cygnus.com>

	* gas/m68k/mri_moveml.[sd]: New testcase.

Thu Jan 22 17:29:07 1998  Nick Clifton  <nickc@@cygnus.com>

	* gas/m32r/high-1.d: Add hash prefix to constants.

	* gas/m32r/allinsn.s: Add hash prefix to some constants.
	* gas/m32r/allinsn.d: Add hash prefix to constants.

Wed Jan 21 21:24:08 1998  Manfred Hollstein  <manfred@@s-direktnet.de>

	* gas/m88k/init.d: Fix hexadecimal offsets.

Wed Jan 14 17:49:22 1998  Nick Clifton  <nickc@@cygnus.com>

	* gas/m32r/uppercase.d: Fix white space matching.
	* gas/m32r/relax-1.d: Fix white space matching.

Wed Jan 14 15:44:32 1998  Jeffrey A Law  (law@@cygnus.com)

	* gas/mips/div.d: Update for recent assembler changes.
	* gas/mips/div-ilocks.d: Likewise.

Wed Jan 14 11:13:06 1998  Doug Evans  <devans@@seba.cygnus.com>

	* gas/m32r/allinsn.d (cmpui): Update output to new format.

Thu Dec 18 11:10:42 1997  Nick Clifton  <nickc@@cygnus.com>

	* gas/arm/inst.d: Updated to match latest disassembler changes.

	* gas/arm/arm7t.d: Updated to match latest disassembler changes.

Tue Dec 16 22:19:25 1997  Ken Raeburn  <raeburn@@cygnus.com>

	* gas/mips/lb-xgot.d, gas/mips/rol.d, gas/mips/jal-svr4pic.d,
	gas/mips/jal-xgot.d: Add assembler option to select a specific
	target chip, the R3000.
	* gas/mips/lb-xgot-ilocks.d: New test, specifically selecting
	R3900.
	* gas/mips/mips.exp: Run it.

	* gas/ieee-fp/x930509a.exp: Don't run IEEE FP tests for Vax
	targets.

Wed Oct 15 10:40:14 1997  Jeffrey A Law  (law@@cygnus.com)

	* gas/ieee-fp/x930509a.s: Tweak slightly to work on the PA.

	* gas/hppa/unsorted/unsorted.exp: Update for recent disassembler
	changes.

1997-10-09  Doug Evans  <dje@@canuck.cygnus.com>

	* gas/sparc/set64.[sd]: `set' doesn't take negative arguments.

1997-10-09  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/arm/arm7t.d: Update for recent disassembler changes.
	* gas/h8300/ffxx1.d: Likewise.

1997-10-08  Doug Evans  <dje@@canuck.cygnus.com>

	* gas/sparc/reloc64.[sd]: Add testcases for %hix,%lox.

1997-10-08  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/sparc/synth.d: Update for recent disassembler changes.
	* gas/sparc/synth64.d: Likewise.

	* gas/mips/beq.s: Add .text to .globl to mark the symbol to as a
	function symbol.
	* gas/mips/jal.s: Likewise.

1997-10-07  Doug Evans  <dje@@canuck.cygnus.com>

	* gas/sparc/reloc64.[sd]: New testcase.
	* gas/sparc/sparc.exp: Run it.

1997-10-04  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/ieee-fp/x930509a.exp: Accept m68k listing format.

1997-10-03  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/ieee-fp/x930509a.exp: Remove setup_xfail; it should now
	work.  Correct for big endian and for tabs in input file.

	* gas/alpha/fp.exp: Check for alpha-*-osf*, not alpha-*-osf1*.
	* gas/alpha/fp.s: Change comment characters from ! to #.

1997-09-18  Doug Evans  <dje@@canuck.cygnus.com>

	* gas/sparc/splet.d: Update to new objdump output format.
	* gas/sparc/{asi.d,membar.d,prefetch.d,rdpr.d,wrpr.d}: Likewise.
	* gas/sparc/set64.[ds]: New testcase.
	* gas/sparc/splet-2.[ds]: New testcase.
	* gas/sparc/sparc.exp: Run them.

1997-08-16  Ken Raeburn  <raeburn@@cygnus.com>

	Merge changes from Martin Hunt:

	* gas/d30v/inst.s: Add some new tests.

	* gas/d30v/{inst, opt, reloc}.d: Update results with
	new disassembler changes.

	* gas/d30v/inst.[sd]: Update examples for d*i instructions.

	* gas/d30v/*.d: Update all test results because
	of new ".s" and ".l" extensions.

	* gas/d30v/inst.[sd]: Correct entry for mulx2h.
	* gas/d30v/opt.[sd]: Correct st2w instruction.

	* gas/d30v/align.d: Change expected output.

	* gas/d30v/reloc.[sd]: Add test case.

	* gas/d30v/array.[sd]: New test case.

	* gas/d30v/opt.[sd]: Added more test cases.

	* gas/d30v/opt.s: Add test cases.
	* gas/d30v/reloc.s: Fix a test case.
	* gas/d30v/{opt,reloc}.d: Regenerate.

Mon Sep  8 14:21:23 1997  Doug Evans  <dje@@canuck.cygnus.com>

	* gas/m32r/high-1.[ds]: New testcase.
	* gas/m32r/m32r.exp: Run it.

Mon Aug 25 11:04:24 1997  Doug Evans  <dje@@canuck.cygnus.com>

	* gas/m32r/relax-1.[ds]: New testcase.
	* gas/m32r/m32r.exp: Run it.

Thu Aug 14 23:49:49 1997  Doug Evans  <dje@@canuck.cygnus.com>

	* gas/arc: New directory
	* gas/arc/{arc.exp,alias.[sd],branch.[sd],flag.[sd],insn3.[sd],j.[sd],
	ld.[sd],math.[sd],sshift.[sd],st.[sd],warn.{exp,s}}: New files.

Wed Aug  6 00:33:30 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* config/default.exp: Set AS and GASP to as-new, not as.new.

Tue Aug  5 12:33:23 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* config/default.exp: Set NM to nm-new, not nm.new, to match
	recent change in binutils build directory.

Thu Jul 31 15:21:51 1997  Jeffrey A Law  (law@@cygnus.com)

	* gas/v850/range.s: New test.
	* gas/v850/basic.exp: Run it.

Tue Jul 29 14:35:02 1997  Jeffrey A Law  (law@@cygnus.com)

	* gas/v850/hilo2.s: New test.
	* gas/v850/fepsw.s: New test.
	* gas/v850/basic.exp: Run them.

Tue Jul 15 13:03:17 1997  Doug Evans  <dje@@canuck.cygnus.com>

	* gas/m32r/uppercase.[sd]: New testcase.
	* gas/m32r/m32r.exp: New file.

Mon Jun 16 14:32:11 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/m68k/pcrel.d: Update for m68k disassembler changes.
	* gas/m68k/operands.d: Likewise.

Mon Jun  2 16:50:03 1997  Nick Clifton  <nickc@@cygnus.com>

	* gas/arm/arm.exp: Added changes from armT-970328-branch.

Mon Jun  2 12:09:02 1997  Gavin Koch  <gavin@@cygnus.com>

	* gas/mips/mips.exp: The r3900 has interlocks for mul, but
	not div.

Mon Jun  2 12:03:32 1997  Gavin Koch  <gavin@@.cygnus.com>

	* gas/mips/mul.{d,s}: End the tests with no-ops.

Mon Jun  2 11:48:58 1997  Gavin Koch  <gavin@@cygnus.com>

	* lib/gas-defs.exp (regexp_diff): Improve messages when one
	file is shorter than the other.

Wed May  7 16:18:30 1997  Manfred Hollstein  <manfred@@s-direktnet.de>

	* gas/m88k/init.{s,d}: New checks for proper padding of
	.init sections.
	* gas/m88k/m88.exp: Run them.

	* gas/m68k/t2.d: New file for check of presence of section
	symbols on the m68k-motorola-sysv.
	* gas/m68k/all.exp: Run t2 if [istarget m68*-motorola-sysv].

Wed May  7 16:12:24 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/all/gas.exp: Don't run cofftag test for m88k-coff.

	* gas/mips/lifloat.s: Update for recent changes to floating point
	handling.
	* gas/mips/lif-empic.d, gas/mips/lif-svr4pic.d: Likewise.
	* gas/mips/lif-xgot.d, gas/mips/lifloat.d: Likewise.

	* gas/mips/mips.exp: Handle Irix 6 like Irix 5.

Sat Apr 19 23:16:35 1997  Niklas Hallqvist  <niklas@@petra.appli.se>

	* gas/mips/mips.exp: Handle OpenBSD like NetBSD.

Wed Apr 16 12:20:24 1997  Martin Hunt  <hunt@@cygnus.com>

	* gas/d30v/d30.exp: Add optimizer test case.
	* gas/d30v/opt.s: Add conditional compilation tests.
	* gas/d30v/opt.d: Rebuild.

Tue Apr 15 18:10:01 1997  Gavin Koch  <gavin@@cygnus.com>

	* gas/mips/{delay.d,nodelay.d}: added.

Mon Apr  7 12:57:45 1997  Doug Evans  <dje@@canuck.cygnus.com>

	* gas/m32r/allinsn.d: Update to new objdump output style.

Fri Apr  4 13:19:39 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/all/float.s: Put a tab before .text, to keep the PA happy.

	* gas/arm/arm.exp: Only run inst and arm7t on targets which can
	handle -EL.  Add setup_xfail for thumb.

	* gas/h8300/ffxx1.d: Don't fail if BFD is 64 bits.

Thu Apr  3 18:26:56 1997  Doug Evans  <dje@@canuck.cygnus.com>

	* gas/m32r/allinsn.{exp,s.d}: New testcases.

Thu Mar 27 00:42:28 1997  Martin M. Hunt  <hunt@@pizza.cygnus.com>

	* gas/d30v/d30.exp: Add test case reloc.
	* gas/d30v/reloc.[sd]: New files to test relocations.

Sat Mar 15 17:21:46 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/arm/inst.d: Update for disassembler changes.
	* gas/arm/arm7t.d: Likewise.

Tue Mar 11 13:31:56 1997  Andreas Schwab  <schwab@@issan.informatik.uni-dortmund.de>

	* gas/m68k/op68000.d: Update for recent assembler bug fix.

Wed Mar  5 13:01:24 1997  Jeffrey A Law  (law@@cygnus.com)

	* gas/all/gas.exp: xfail a couple tests for the mn10300.

Mon Mar  3 11:41:00 1997  Fred Fish  <fnf@@cygnus.com>

	* gas/tic80/{add.d, float.d, regops2.d, relocs1.d, relocs1b.d,
	relocs2.d, relocs2b.d}: Adjust to objdump format tweaks.

Thu Feb 27 15:21:46 1997  Fred Fish  <fnf@@cygnus.com>

	* gas/tic80/{align.d, align.lst, align.s} New test for the
	".align" pseudop.
	* gas/tic80/tic80.exp: Run the align test.

Wed Feb 26 20:36:46 1997  Fred Fish  <fnf@@cygnus.com>

	* gas/tic80/{float.d, float.lst, float.s}: New tests for
	simple floating point operands.
	* gas/tic80/tic80.exp: Run the float test.

Wed Feb 26 15:16:04 1997  Fred Fish  <fnf@@cygnus.com>

	* gas/tic80/{regops2.d, regops2.lst, regops2.s, regops3.d,
	regops3.lst, regops3.s, regops4.d, regops4.lst, regops4.s}:
	New tests for :m and :s operand modifiers.
	* gas/tic80/tic80.exp: Run the regops2, regops3, and regops4 tests.

Tue Feb 25 13:45:55 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/macros/semi.s: Force the final alignment to use a fill value
	of 0.

	* gas/all/cond.s, gas/all/cond.d: New test.
	* gas/all/gas.exp: Run it.

Mon Feb 24 10:52:12 1997  Bob Manson  <manson@@charmed.cygnus.com>

	* lib/gas-defs.exp(gas_init): Added new parameter for script
	name.

Mon Feb 24 10:40:28 1997  Fred Fish  <fnf@@cygnus.com>

	* gas/tic80/{add.d, bitnum.d, ccode.d, cregops.d, endmask.d,
	regops.d, relocs1.d,
	(relocs1.c): Add file for reference.
	(relocs1b.d): Split reloc table contents test to different test file.
	(relocs2.c): Add test that uses various types (char, short, int, ...) of
	static and global variables with data shuffling to generate lots of ld/st
	instructions for the different types.
	(relocs2.d): New file, expected code for relocs2 test.
	(relocs2.lst): New file, TI assembler listing for reference.
	(relocs2.s): New file, assembly source for relocs2 test.
	(relocs2b.d): New file, expected reloc table contents for relocs2 test.
	(tic80.exp): Run the relocs1b, relocs2, and relocs2b tests.

Sun Feb 23 17:54:00 1997  Dawn Perchik  <dawn@@cygnus.com>

	* gas/all/itbl-test.c(main): Update function calls.
	Remove parameters from itbl_get_reg_val and
	change itbl_get_insn_name to itbl_get_field.

Sun Feb 23 17:22:00 1997  Dawn Perchik  <dawn@@cygnus.com>

	* gas/mips/itbl: Add comments.
	* gas/mips/itbl.s: Add comments.  Prefix register names with $.
	* gas/all/itbl: Generic table for testing for itbl support.
	* gas/all/itbl.s: Generic assembly for testing for itbl support.
	* gas/mips/itbl-test.c: Moved to gas/all.
	* gas/all/itbl-test.c: Moved from gas/mips.

Sat Feb 22 20:24:23 1997  Fred Fish  <fnf@@cygnus.com>

	* gas/tic80/{add.lst, bitnum.lst, ccode.lst, cregops.lst,
	endmask.lst, regops.lst}: Remove ^M's from end of lines.
	* gas/tic80/bitnum.s: Add comment to each line showing value
	that symbolic BITNUM assembles to.  Add coverage for raw
	numeric values for the BITNUM operand.
	* gas/tic80/bitnum.d: Update due to bitnum.s changes.
	* gas/tic80/regops.d: Update due to opcode library additions
	of floating point test BITNUM values that are ambiguous with
	the integral ones.
	* gas/tic80/relocs1.s: New test case that tests simple relocs.
	* gas/tic80/relocs1.d: Expected output for above.
	* gas/tic80/relocs1.lst: TI assembler listing for above.
	* gas/tic80/tic80.exp: Add relocs1 test.

Fri Feb 21 14:23:14 1997  Martin M. Hunt  <hunt@@pizza.cygnus.com>

	* gas/d30v/{align.d, align.s, d30.exp, guard.d, guard.s,
	inst.d, inst.s, opt.d, opt.s}: Test files for D30V.

Wed Feb 19 00:55:29 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/macros/semi.s, gas/macros/semi.d: New test.
	* gas/macros/macros.exp: Run it.
	* gas/mri/semi.s, gas/mri/semi.d: New test.
	* gas/mri/mri.exp: Run it.

Tue Feb 18 13:37:06 1997  Jeffrey A Law  (law@@cygnus.com)

	* gas/hppa/unsorted/unsorted.exp (align4 tests): Tweak expected
	output.

Fri Feb 14 17:56:27 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/all/align.d, gas/all/align.s: New test.
	* gas/all/gas.exp: Run it.

Thu Feb 13 14:44:05 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/mips/mips16.d: Correct PC relative instruction bytes.

Wed Feb 12 12:33:08 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/mips/lif-svr4pic.d: Pass -EB when running the assembler.
	* gas/mips/lif-xgot.d: Likewise.
	* gas/mips/ulh-svr4pic.d: Likewise.
	* gas/mips/ulh-xgot.d: Likewise.

	* gas/mips/mips16.d: Update for yet another change in disassembly
	output (this one is spacing only).

Tue Feb 11 14:45:39 1997  Fred Fish  <fnf@@cygnus.com>

	* gas/tic80/{add.d, add.lst, add.s, bitnum.d, bitnum.lst, bitnum.s,
	ccode.d, ccode.lst, ccode.s, cregops.d, cregops.lst, cregops.s,
	endmask.d, endmask.lst, endmask.s, regops.d, regops.lst, regops.s,
	tic80.exp}: New files for TIc80 test cases.

Tue Feb 11 15:46:27 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/mips/mips16.d: Update for change in disassembly output.

Mon Feb 10 22:24:00 1997  Dawn Perchik  <dawn@@cygnus.com>

	* gas/mips/itbl-test.c: Add copyright message and fix indentation.

Mon Feb 10 17:54:00 1997  Dawn Perchik  <dawn@@cygnus.com>

	* gas/mips/itbl-test.c: New file.  Stand-alone assembler and
	dissassembler for itbl support.

Mon Feb 10 17:20:00 1997  Dawn Perchik  <dawn@@cygnus.com>

	* gas/mips/itbl: New file.  Instruction Spec for testing --itbl
	option.
	* gas/mips/itbl.s: New file.  Assembly with ne2w instructions
	specified in itbl.

Fri Feb  7 16:42:53 1997  Bob Manson  <manson@@charmed.cygnus.com>

	* gasp/gasp.exp: Use prune_warnings instead of prune_system_crud.
	* lib/gas-defs.exp: Ditto.

Mon Feb  3 15:46:05 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/arm/inst.d, gas/arm/arm7t.d: Pass --prefix-addresses to
	objdump.  Update for current relocation printing style.

Thu Jan 30 11:57:33 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/mips/mips16.d: Update for disassembler changes.

Thu Jan 23 03:15:06 1997  Angela Marie Thomas (angela@@cygnus.com)

	* gas/mips/mips.exp: set ilocks for all 4100/4300

Thu Jan  2 16:49:17 1997  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/mips/mips16.s, gas/mips/mips16.d: New test.
	* gas/mips/mips.exp: Run mips16 test.

	* gas/mips/mips.exp: Run dli test unconditionally.
	* gas/mips/dli.s: Add text symbol.  Add nops to round to 16 byte
	boundary.
	* gas/mips/dli.d: Corresponding changes.

Tue Dec 31 13:03:16 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/sparc/synth.d: Use --prefix-addresses for objdump.
	* gas/sparc/synth64.d: Likewise.

Tue Dec 24 16:30:58 1996  Angela Marie Thomas (angela@@cygnus.com)

	* gas/mips/*-ilocks.d: Fix regexps to resemble disassembled output.

Fri Dec 13 13:05:33 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/mips/*.[sd]: Add explicit nops, sometimes controlled by
	.ifdef, to accomodate change to avoid default alignment on
	embedded systems.

Wed Dec 11 09:26:01 1996  Jeffrey A Law  (law@@cygnus.com)

	* gas/mn10200/basic.exp (do_movb): Fix bit pattern for
	"movb dm,(an)".

Tue Dec 10 13:01:05 1996  Jeffrey A Law  (law@@cygnus.com)

	* gas/mn10300/basic.exp: Update after endianness changes to
	the assembler.

	* gas/mn10200/{mov1.s,mov2.s,mov3.s,mov4.s,movx.s}: New tests.
	* gas/mn10200/{movb.s, movbu.s}: Likewise.
	* gas/mn10200/basic.exp: Run them.

Mon Dec  9 17:08:38 1996  Jeffrey A Law  (law@@cygnus.com)

	* gas/mn10200/*.s: New tests for the mn10200 assembler.
	* gas/mn10200/basic.exp: Run them.

Fri Dec  6 15:35:04 1996  Jeffrey A Law  (law@@cygnus.com)

	* gas/mn10300/*.s: Remove '$' register prefixing.

Mon Nov 25 16:35:33 1996  Doug Evans  <dje@@canuck.cygnus.com>

	* gas/sparc-solaris/addend.exp: Fix patterns, you can't assume
	\r will be present.

Mon Nov 25 13:45:02 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/m68k/*.d: Update for disassembler changes.
	* gas/mri/*.d: Likewise.

Mon Nov 25 11:38:37 1996  Jeffrey A Law  (law@@cygnus.com)

	* gas/mn10300/*.s: Use '$' as register prefix for
	all register operands.

Thu Nov 21 11:52:54 1996  Jeffrey A Law  (law@@cygnus.com)

	* gas/all/gas.exp: xfail a couple tests for the mn10300.

Wed Nov 20 11:31:41 1996  Jeffrey A Law  (law@@cygnus.com)

	* gas/mn10300/other.s: Update for correct syntax on a
	few instructions (those with register lists).
	* gas/mn10300/basic.exp: Corresponding changes.

Tue Nov 19 13:36:57 1996  Jeffrey A Law  (law@@cygnus.com)

	* gas/mn10300/movm.s: Update for correct syntax.
	* gas/mn10300/basic.exp: Update expected movm bit patterns.

Fri Nov 15 13:57:42 1996  Jeffrey A Law  (law@@cygnus.com)

	* gas/mn10300/other.s: Put parens around register
	argument in calls and jmp instructions.

Wed Nov 13 13:16:04 1996  Jeffrey A Law  (law@@cygnus.com)

	* gas/h8300/ffxx1.d: Update for recent disassembler changes.

Mon Nov 11 16:03:24 1996  Jeffrey A Law  (law@@cygnus.com)

	* gas/hppa/reloc/reloc.exp: Pass "--prefix-addresses" to objdump
	as needed.
	* gas/hppa/unsorted/unsorted.exp: Likewise.

Thu Nov  7 00:27:52 1996  Jeffrey A Law  (law@@cygnus.com)

	* gas/mn10300/basic.exp: Check opcode insertion for
	extended instructions.
	* gas/mn10300/extend.s: Tweak constants for better
	testsuite coverage.

Wed Nov  6 13:50:07 1996  Jeffrey A Law  (law@@cygnus.com)

	* gas/mn10300/basic.exp: Test insertion of operands
	into call and jmp instructions with 32bit offsets.
	Fix typo in bit test patterns.
	* gas/mn10300/other.s: Tweak constants to improve
	testsuite coverage.

	* gas/mn10300/basic.exp: Test insertion of 32bit operand
	in calls, btst, bclr & bset instructions.

	* gas/mn10300/*.s: Tweak constants in 32bit insns for
	better testing coverage.
	* gas/mn10300/basic.exp: Test insertion of most 32bit
	operands.

Tue Nov  5 13:33:12 1996  Jeffrey A Law  (law@@cygnus.com)

	* gas/mn10300/basic.exp: Check bit patterns for indexed mov,
	movbu, movhu instructions.  Check bit patterns for more bit
	operations.  Check bit patterns for various 16bit call, retf
	and ret instructions.
	* gas/mn10300/other.s: Update operands for better test coverage.

Mon Nov  4 12:55:11 1996  Jeffrey A Law  (law@@cygnus.com)

	* gas/mn10300/basic.exp: Check bit patterns for a couple more
	mov and cmp instructions.

Tue Oct 29 17:05:43 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/mips/*.d: Update for disassembler changes.

Wed Oct 16 22:39:50 1996  Jeffrey A Law  (law@@cygnus.com)

	* gas/v850/reloc.s: New tests.
	* gas/v850/basic.exp: Run them.

Mon Oct 14 13:52:55 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/mips: Add symbols to several testsuites, since the ELF
	assembler now always builds a symbol table, which means that
	objdump will no longer report `No symbols in FILE'.  Change the
	expected output accordingly.

Thu Oct 10 13:11:48 1996  Jeffrey A Law  (law@@cygnus.com)

	* gas/mn10300/basic.exp: Check bit patterns for instructions
	with a single 8bit or 16bit immediate operand.

	* gas/mn10300/basic.exp: Check bit patterns for many
	instructions.  Add missing test in do_mov1.
	* gas/mn10300/mov1.s: Add missing test.

Wed Oct  9 14:15:18 1996  Jeffrey A Law  (law@@cygnus.com)

	* gas/mn10300/{add.s, bcc.s, bit.s, cmp.s, ext.s}: New tests.
	* gas/mn10300/{extend.s logical.s, loop.s, mov1.s}: Likewise.
	* gas/mn10300/{mov2.s, mov3.s, mov4.s, movbu.s}: Likewise.
	* gas/mn10300/{movhu.s, movm.s, muldiv.s, other.s}: Likewise.
	* gas/mn10300/{shift.s, sub.s}: Likewise.
	* gas/mn10300/basic.exp: Run them.

Thu Oct  3 09:57:03 1996  Jeffrey A Law  (law@@cygnus.com)

	* gas/mn10200, gas/mn10300: New directories for Matsushita
	mn10200 and mn10300 tests.

Tue Oct  1 15:38:28 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* lib/gas-defs.exp (gas_version): Fix for current version
	printing.

Sun Sep 29 07:55:58 1996  Doug Evans  <dje@@canuck.cygnus.com>

	* gas/sparc/splet.d: Fix typo in cpusha result.

Mon Sep 23 12:33:31 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/m68k/fmoveml.s, gas/m68k/fmoveml.d: Add tests for fmovemx.

Wed Sep 18 12:14:06 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/all/cofftag.s: Use .p2align rather than .align.

Fri Sep 13 15:28:04 1996  Jeffrey A Law  (law@@cygnus.com)

	* gas/h8300/macs.s: Add "stmac" instructions.
	* gas/h8300/basic.exp: Test them.

Thu Sep 12 10:28:44 1996  James G. Smith  <jsmith@@cygnus.co.uk>

	* gas/arm/thumb.s (back): Check assembly of Thumb BL.

Mon Sep  9 14:37:00 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/mips/mips4.s, gas/mips/mips4.d: Use $fccN for condition code
	registers.

Fri Sep  6 18:23:54 1996  James G. Smith  <jsmith@@cygnus.co.uk>

	* gas/mips/dli.{s,d}: More test cases added.

Wed Sep  4 11:47:29 1996  James G. Smith  <jsmith@@cygnus.co.uk>

	* gas/mips/mips.exp: Add check for dli macro instruction.
	* gas/mips/dli.{s,d}: Added.

Sat Aug 31 01:25:03 1996  Jeffrey A Law  (law@@cygnus.com)

	* gas/v850/basic.exp (do_mem): Check bit patterns for short
	load/store instructions.  Remove xfails for short load/store
	instructions.
	* gas/v850/mem.s: Offsets for short load/store operands
	are unsigned.

	* gas/v850/basic.exp (do_branch): Check offsets in branch insns.
	(do_jumps): Likewise.

Fri Aug 30 00:37:55 1996  Jeffrey A Law  (law@@cygnus.com)

	* gas/v850/misc.s: Tweak register numbers for better testing.
	* gas/v850/basic.exp (do_misc): Corresponding changes.

	* gas/v850/hilo.s: New testfile.
	* gas/v850/basic.exp: Run hilo tests.

Thu Aug 29 11:32:23 1996  James G. Smith  <jsmith@@cygnus.co.uk>

	* gas/arm/arm7t.d: Explicitly force little-endian assembly.

Fri Aug 23 11:02:55 1996  Jeffrey A Law  (law@@cygnus.com)

	* gas/v850/basic.exp (do_move): Test instruction bit patterns.
	* gas/v850/move.s: Tweak constants for better testing.

	* gas/v850/basic.exp (do_mem): Test instruction bit patterns.
	xfail sst and sld tests.
	(do_mov): Remove bogus xfail.
	* gas/v850/mem.s: sst and sld instructions can only index from
	"ep" register.

	* gas/v850/basic.exp (do_logical): Test instruction bit patterns.
	Update addresses.
	* gas/v850/logical.s: Tweak constants for better testing.

	* gas/v850/basic.exp (do_jump): Test instruction bit patterns,
	but not displacements (yet).

	* gas/v850/basic.exp (do_compare): Test instruction bit patterns.

	* gas/v850/basic.exp (do_branch): Test instruction bit patterns,
	but not displacements (yet).

	* gas/v850/basic.exp (do_bit): Test instruction bit patterns.

	* gas/v850/basic.exp (do_arith): Test instruction bit patterns.
	* gas/v850/arith.s: Tweak constants for better testing.

	* gas/v850/basic.exp (do_misc): No longer expect failures
	assembling "ldsr" and "stsr" opcodes.
	* gas/v850/misc.s: Re-enable assembling of "ldsr" and "stsr"
	opcodes.

	* gas/v850/basic.exp (do_misc): No longer expect failures
	assembling "trap" opcodes.
	* gas/v850/misc.s: Re-enable assembling of "trap" opcodes.

	* gas/v850: New directory with v850 tests.

Fri Aug 16 00:19:10 1996  Jeffrey A Law  (law@@cygnus.com)

	* gas/hppa/basic/purge.s: Use "%sr4" on pitlb, pitlbe
	fic and fice instructions to test 3bit space identifiers.
	* gas/hppa/basic/system.s: Similarly for iitlba and
	iitlbp.
	* gas/hppa/basic/basic.exp: Corresponding changes.

Thu Aug 15 16:25:05 1996  James G. Smith  <jsmith@@cygnus.co.uk>

	* gas/arm/arm.exp: Change inst.s test to check objdump.
	* gas/arm/inst.d: Added.

Thu Aug 15 16:06:02 1996  James G. Smith  <jsmith@@cygnus.co.uk>

	* gas/arm/thumb.s: Added.
	* gas/arm/immed.s: Added.
	* gas/arm/arch4t.s: Added.
	* gas/arm/arm.exp: Updated to run the new tests.

Tue Aug  6 11:06:29 1996  Jeffrey A Law  (law@@cygnus.com)

	* gas/h8300/misch.s: Reenable "eepmov.w" test.
	* gas/h8300/miscs.s: Likewise.
	* gas/h8300/h8300.exp: Check for correct assembly of "eepmov.w"
	on the H8/300H and H8/S.  Don't expect it to fail.

Wed Jul 31 10:57:44 1996  Doug Evans  <dje@@canuck.cygnus.com>

	* gas/sparc/asi.s: Update ASI_AS_IF_USER_{PRIMARY,SECONDARY}_LITTLE.

Wed Jul 31 15:55:12 1996  James G. Smith  <jsmith@@cygnus.co.uk>

	* gas/arm/arm7t.s: Added.
	* gas/arm/arm7t.d: Added.
	* gas/arm/arm.exp: Updated to run the new test.

Mon Jul  8 14:27:39 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/m68k/pcrel.d: Rename from schwab.d.
	* gas/m68k/pcrel.s: Rename from schwab.s.

Mon Jul  8 14:23:26 1996  Andreas Schwab  <schwab@@issan.informatik.uni-dortmund.de>

	* gas/m68k/schwab.d: Correct for ELF format.
	* gas/m68k/all.exp: Run "schwab" test for all targets.

Thu Jul  4 14:23:36 1996  Ian Lance Taylor  <ian@@cygnus.com>

	Avoid DOS file naming problems:
	* gas/h8300/branch.s: Rename from branches.s.
	* gas/h8300/branchh.s: Rename from branchesh.s.
	* gas/h8300/branchs.s: Rename from branchess.s.
	* gas/h8300/rotsh.s: Rename from rotshift.s.
	* gas/h8300/rotshh.s: Rename from rotshifth.s.
	* gas/h8300/rotshs.s: Rename from rotshifts.s.
	* gas/h8300/h8300.exp: Corresponding changes.

Thu Jul  4 14:01:46 1996  James G. Smith  <jsmith@@cygnus.co.uk>

	* gas/mips/mips.exp: Add new tests for processors with interlocks
	on div and mul.
	* gas/mips/div-ilocks.d: Added.
	* gas/mips/mul-ilocks.d: Added.

Wed Jul  3 14:20:04 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/all/gas.exp: Remove setup_xfail for h8300*-*-* for two tests
	which now pass.
	* gas/h8300/h8300.exp: Fix regexp of mov32bug test to work on a 64
	bit host.

Sat Jun 29 18:21:51 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/all/gas.exp: Add setup_xfail for vax*-*-vms* for 930509a
	test.
	* gas/vax/quad.exp: Expect a nop after the movq.

Tue Jun 18 12:39:49 1996  Jeffrey A. Law  <law@@rtl.cygnus.com>

	* gas/h8300/cbranchh.s: Switch into h8300h mode.
	* gas/h8300/h8300.exp (H8/300H misc tests): Fix test names.

	* gas/h8300/{addsubs.s,bitops1s.s,bitops2s.s}: New tests for the
	H8/S.
	* gas/h8300/{bitops3.s,bitops4.s,cbranchs.s,logicals.s}: Likewise.
	* gas/h8300/{branchess.s,compares.s,macs.s,decimals.s}: Likewise.
	* gas/h8300/{incdecs.s,divmuls.s,miscs.s,multiples.s}: Likewise.
	* gas/h8300/{movbs.s,movws.s,movls.s,pushpops.s}: Likewise.
	* gas/h8300/{rotshifts.s,extends.s}: Likewise.
	* gas/h8300/h8300.exp: Run them.

Mon Jun 10 14:14:40 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/all/cofftag.s, gas/all/cofftag.d: New test for COFF enum tag
	with the same name as a global variable.
	* gas/all/gas.exp: Run cofftag test for any COFF target.

Thu Jun  6 12:30:05 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/m68k/all.exp: Pass -m68020 when assembling the disperr.s
	test.

Fri May 31 10:11:13 1996  Jeffrey A Law  (law@@cygnus.com)

	* gas/h8300/h8300.exp: Fix add.l test for H8/300H.

Wed May 29 16:35:43 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/mips/jal-xgot.d: Correct for 64 bit output.

Thu Apr 25 19:31:59 1996  Doug Evans  <dje@@canuck.cygnus.com>

	* gas/sparc/sparc.exp: Only run sparclet tests if sparclet.

Wed Apr 24 17:06:18 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/m68k/op68000.d: Add statements now caught by gas.

Mon Apr 22 16:45:12 1996  Doug Evans  <dje@@canuck.cygnus.com>

	* gas/sparc/splet.[ds]: New tests for sparclet extensions.
	* gas/sparc/sparc.exp: Run them.

Mon Apr 15 17:25:18 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/mips/la.d: Updated for April 5 MIPS assembler changes.
	* gas/mips/lb.d, gas/mips/ld.d, gas/mips/sb.d: Likewise.
	* gas/mips/uld.d, gas/mips/ulh.d, gas/mips/ulw.d: Likewise.
	* gas/mips/usd.d, gas/mips/ush.d, gas/mips/usw.d: Likewise.

Wed Apr 10 14:27:51 1996  Jeffrey A Law  (law@@cygnus.com)

	* gas/h8300/mov32bug.s: New test.
	* gas/h8300/h8300.exp: Run it.

Fri Apr  5 10:13:28 1996  Jeffrey A Law  (law@@cygnus.com)

	* gas/h8300/{addsubh.s,bitops1h.s,bitops2h.s}: New h8300h tests.
	* gas/h8300/{bitops3h.s,bitops4h.s,branchesh.s}: New h8300h tests.
	* gas/h8300/{cbranchh.s,compareh.s,decimalh.s}: New h8300h tests.
	* gas/h8300/{divmulh.s,incdech.s,logicalh.s}: New h8300h tests.
	* gas/h8300/{misch.s,movbh.s,movwh.s}: New h8300h tests.
	* gas/h8300/{pushpoph.s,rotshifth.s}: New h8300h tests.
	* gas/h8300/h8300.exp: Run them.

	* gas/h8300/{movb.s,movw.s}: Correct predecrement syntax.

	* gas/h8300/h8300.exp: Fix typos in bitops4 and movb tests.

	* gas/h8300/{addsub.s,bitops1.s,bitops2.s}: New h8300 tests.
	* gas/h8300/{bitops3.s,bitops4.s,branches.s}: New h8300 tests.
	* gas/h8300/{cbranch.s,compare.s,decimal.s}: New h8300 tests.
	* gas/h8300/{divmul.s,incdec.s,logical.s}: New h8300 tests.
	* gas/h8300/{misc.s,movb.s,movw.s}: New h8300 tests.
	* gas/h8300/{pushpop.s,rotshift.s}: New h8300 tests.
	* gas/h8300/h8300.exp: Run them.

Fri Mar 15 17:16:24 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/sparc/synth.d: Don't require sparc in the file format, since
	it won't be there on SunOS.

Thu Mar  7 14:51:23 1996  Doug Evans  <dje@@charmed.cygnus.com>

	* gas/sparc/synth.[ds]: New testcase.
	* gas/sparc/sparc.exp: Run it.

Fri Mar  1 12:01:48 1996  Jeffrey A Law  (law@@cygnus.com)

	* gas/all/gas.exp: xfail difference of two undefined symbols
	and difference of forward references for the h8300.

Thu Feb 22 16:40:31 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/mips/lb-xgot.d: Correct.

Mon Feb 19 02:43:36 1996  Doug Evans  <dje@@charmed.cygnus.com>

	* gas/sparc/{asi,membar,prefetch,rdpr,synth64,wrpr}.d: Pass -Av9
	to gas.
	* gas/sparc/addend.exp: Execute for any sparc cpu.
	* gas/sparc/{mismatch.exp,mism-1.s}: New test.

Wed Feb 14 13:49:59 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/mips/jal-xgot.d, gas/mips/la-xgot.d: New tests.
	* gas/mips/lb-xgot.d, gas/mips/ld-xgot.d: New tests.
	* gas/mips/lif-xgot.d, gas/mips/ulh-xgot.d: New tests.
	* gas/mips/mips.exp: Run new tests if svr4pic.

Sat Jan 27 13:27:45 1996  Doug Evans  <dje@@charmed.cygnus.com>

	* lib/gas-dg.exp (gas-dg-test): Delete default_flags and libs args.

Fri Jan 26 14:24:01 1996  Jeffrey A Law  (law@@cygnus.com)

	* gas/hppa/unsorted/unsorted.exp: Update for objdump changes.

Wed Jan 10 12:40:31 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/mips/*.d: Update for changes to disassembler.

Wed Jan  3 22:59:53 1996  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/mips/ulh-svr4pic.d: Update for tc-mips.c load_address
	change.

Fri Nov 17 10:32:25 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/mri/immconst.d: New test.
	* gas/mri/mri.exp: Run it.
	* gas/mri/constants.s: Test immediate constants.
	* gas/mri/constants.d: Corresponding change.

	* gas/m68k/link.s: Add nop to pad to eight byte boundary.
	* gas/m68k/link.d: Corresponding change.

Sun Nov 12 21:28:11 1995  Jeffrey A Law  (law@@cygnus.com)

	* gas/hppa/unsorted/brlenbug.s: New test.
	* gas/hppa/unsorted/unsorted.exp: Run it.

Sun Nov  5 12:49:27 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/mips/beq.s: Declare text_label global.
	* gas/mips/jal.s: Likewise.

Fri Nov  3 12:35:07 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/m68k/link.s: Use "&" instead of "#" for immediate values.

	* gas/m68k/fmoveml.s, gas/m68k/fmoveml.d: New test.
	* gas/m68k/all.exp: Run it.

Thu Nov  2 23:11:05 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/m68k/link.s, gas/m68k/link.d: New test.
	* gas/m68k/all.exp: Run it.

Tue Oct 24 10:57:20 1995  Jeffrey A Law  (law@@cygnus.com)

	* gas/hppa/basic/basic.exp: Test lci and syncdma instructions.
	* gas/hppa/basic/system.s: Corresponding changes.

Fri Oct  6 17:13:35 1995  Ken Raeburn  <raeburn@@cygnus.com>

	* gas/m68k/operands.d: Don't require a fixed number of leading
	zeros in any number.

	* gas/m68k/operands.s, gas/m68k/bitfield.s: Use "&" instead of "#"
	for immediate values.

Fri Oct  6 10:54:13 1995  Doug Evans  <dje@@canuck.cygnus.com>

	* gas/arm/arm.exp: Renamed from gas.exp.
	* gas/arm/le-fpconst.[sd]: New testcase.

Fri Sep 29 15:12:10 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/mri/mri.exp: Only run tests for m68k target.

Mon Sep 25 12:31:46 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/mri/mri.exp: Add setup_xfail for arm*-*-* for constants
	test.

Thu Sep 21 01:26:08 1995  Jeff Law  (law@@snake.cs.utah.edu)

	* gas/sh/fp.s (fmac): Update for new assembly syntax.

Mon Sep 18 14:04:34 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* lib/gas-defs.exp (gas_run): Call prune_system_crud.
	(run_dump_test, objdump): Likewise.

Thu Sep 14 13:10:10 1995  Doug Evans  <dje@@canuck.cygnus.com>

	* gas/sparc/{wrdr.[ds],rdpr.[ds]}: New tests.
	* gas/sparc/sparc.exp: Run them.

Wed Sep 13 16:35:51 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* Makefile.in, configure.in: Remove; the testsuite is now run
	directly from the gas Makefile.

Mon Sep 11 11:44:23 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/mri/empty.s: New file.
	* gas/mri/mri.exp: Test assembling empty.s.
	* gas/mri/comment.s: Add a couple more comment variants.

	* gas/mri/mri.exp: Add xfail for the expr test for all hppa
	targets.

Wed Sep  6 21:39:23 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/mri/comment.s, gas/mri/comment.d: New test.
	* gas/mri/mri.exp: Run it.
	* gas/mri/expr.s: Remove whitespace in operand field.
	* gas/mri/for.s: Add comments for further testing.
	* gas/macros/test2.s: Put in an upper case ELSE to test case
	insensitivity.

Wed Aug 30 16:12:03 1995  Doug Evans  <dje@@canuck.cygnus.com>

	* gas/sparc/{prefetch.[ds],synth64.[ds]}: New tests.

Tue Aug 29 18:59:33 1995  Doug Evans  <dje@@canuck.cygnus.com>

	* gas/sparc/sparc.exp: New file.
	* gas/sparc/{asi.[ds],membar.[ds]}: New tests.

Mon Aug 21 14:39:29 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/macros/*: New tests for macros.

	* gas/mri/common.s: Use data, not .data.

	* gasp/pl3.out: Update for changes in commented source output when
	LOCAL is used.

Sat Aug 19 17:36:17 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* gasp/gasp.exp (gasp_test): Call prune_system_crud on the output
	of diff.
	* lib/gas-defs.exp: Define prune_system_crud if it is not already
	defined.

Fri Aug 18 11:09:38 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* gasp/mri/*.out: Use ;, not !, for the comment character.

Wed Aug 16 12:24:12 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/mri/mri.exp: Change hppa*-*-* expected failures to only
	expect failure for targets which use SOM.

	* lib/gas-defs.exp (run_dump_test): If the program to run does not
	exist, mark the test as untested.

	* gas/mri/mri.exp: Add setup_xfail for i960 b.out targets for
	common test.

	* lib/gas-defs.exp (run_dump_test): Name the output file dump.o,
	rather than using an implicit a.out.

	* gas/mri/for.s: Add nop to round out to four byte boundary.
	* gas/mri/repeat.s: Likewise.
	* gas/mri/while.s: Likewise.
	* gas/mri/for.d: Expected added nop.
	* gas/mri/repeat.d: Likewise.
	* gas/mri/while.d: Likewise.

	* gas/mips/*.d: Change all test names to say MIPS.

Tue Aug 15 15:42:33 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/mri/for.d, gas/mri/for.s: New test.
	* gas/mri/if.d, gas/mri/if.s: New test.
	* gas/mri/repeat.d, gas/mri/repeat.s: New test.
	* gas/mri/while.d, gas/mri/while.s: New test.
	* gas/mri/mri.exp: Run the new tests.

Mon Aug 14 16:03:07 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/mri/expr.d: Permit leading zeroes, in case we're using a
	64-bit BFD.

	* gasp/mri/*: New tests.
	* gasp/gasp.exp: Run them.  Also, clean up the test names used in
	pass and fail.

Sun Aug 13 00:39:24 1995  Jeff Law  (law@@snake.cs.utah.edu)

	* gas/sh/basic.exp: Update now that we know the right
	bit patters for the new sts instructions.

Thu Aug 10 00:46:21 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/mri/char.d: Fix for little endian machines.
	* gas/mri/float.d: Likewise.

Wed Aug  9 15:34:36 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/all/struct.s, gas/all/struct.d: New test.
	* gas/all/gas.exp: Run it.

Tue Aug  8 17:11:39 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/mri/common.s, gas/mri/common.d: New test.
	* gas/mri/mri.exp: Run it.

Mon Aug  7 22:39:28 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/mri/mri.exp: Add setup_xfail for a29k*-*-* for constants
	test.

	* gasp/crash1.out, gasp/macro.out, gasp/sfunc.out: Complete
	truncated files, so that the tests pass.

	* gas/mri/mri.exp: Add setup_xfail for hppa*-*-* for equ,
	constants, and expr.

	* gas/m68k/all.exp: Run schwab test on hpux*, not just hpux.  Run
	on vxworks*, not just vxworks5.1.

	* lib/gas-defs.exp (fail_phase, pass_phase): Remove.
	(run_dump_test): Just call pass or fail.

	* gas/m68k/operands.s, gas/m68k/operands.d: New test.
	* gas/m68k/op68000.d: New test.
	* gas/m68k/cas.s, gas/m68k/cas.d: New test.
	* gas/m68k/bitfield.s, gas/m68k/bitfield.d: New test.
	* gas/m68k/schwab.d: Run objdump with -j .text.  Adjust for
	changes to disassembler.
	* gas/m68k/all.exp: Run new tests.  Run schwab test for
	m68k-*-coff*.

Mon Aug  7 03:01:32 1995  Jeff Law  (law@@snake.cs.utah.edu)

	* gas/sh/*: New tests for the hitachi-sh.

Tue Aug  1 18:02:47 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/mri/*: New tests for MRI mode.

	* lib/gas-defs.exp (run_dump_test): Support using objcopy.  Dump
	program executions to the log file before running them.  Use the
	simple program name, rather than the path to the binary being run,
	in pass/fail messages.
	(regexp_diff): If the regexp file has the special comment #pass,
	stop checking at that point.
	* config/default.exp: Set NM, NMFLAGS, OBJCOPY, and OBJCOPYFLAGS,
	if they are not already set.

Tue Aug  1 11:41:30 1995  steve chamberlain  <sac@@slash.cygnus.com>

	* Makefile.in: Remove superfluous runtest gasp.

Mon Jul 31 18:19:26 1995  steve chamberlain  <sac@@slash.cygnus.com>

	* gasp/*: New.
	* Makefile.in: Use gasp tests.
	* config/default.exp: Add gasp stuff.

Thu Jul 20 18:56:48 1995  Jeff Law  (law@@snake.cs.utah.edu)

	* gas/all/gas.exp: Disable tests that are not appropriate for
	the PA.

Thu Jul 13 18:22:49 1995  Ken Raeburn  <raeburn@@cygnus.com>

	* gas/m68k/all.exp: Run schwab test for m68k vxworks5.1.

Wed Jun 21 21:28:57 1995  Ken Raeburn  <raeburn@@cujo.cygnus.com>

	* gas/m68k/schwab.*: New test based on a test case from Andreas
	Schwab.
	* gas/m68k/all.exp: Run it for some aout configurations.

Mon Jun 12 22:27:18 1995  Jeff Law  (law@@snake.cs.utah.edu)

	* gas/hppa/parse/badfmpyadd.s: New test.
	* gas/hppa/parse/parse.exp: Run it.

Sun May 21 20:26:18 1995  Jeff Law  (law@@snake.cs.utah.edu)

	* gas/hppa/unsorted/unsorted.exp: Disable align4 tests for
	ELF targets.

Wed May 10 14:28:16 1995 Richard Earnshaw (rearnsha@@armltd.co.uk)

	* arm/arm7dm.s: New file -- tests for ARM7DM instructions.
	* arm/arm6.s: Correct bogus tests.
	* arm/gas.exp (arm6.s): Is now a valid test.
	(arm7dm.s): New test.
	* arm/float.s: Add load/store multiple floating point instruction
	tests.

Wed May  3 13:14:44 1995  Jeff Law  (law@@snake.cs.utah.edu)

	* gas/hppa/reloc/longcall.s: New test.
	* gas/hppa/reloc/reloc.exp: Run it.

Tue May  2 16:37:48 1995  Ken Raeburn  <raeburn@@cujo.cygnus.com>

	* gas/mips/ld.d: Modified for gas delay-slot fixes.

Sat Apr 29 23:35:18 1995  Doug Evans  <dje@@chestnut.cygnus.com>

	* lib/gas-dg.exp: New file.

Tue Apr 11 13:57:52 1995  Ken Raeburn  <raeburn@@cujo.cygnus.com>

	* gas/mips/mips4.d: Allow more than exactly 8 zeros in bc1*
	targets.

Mon Apr 10 15:36:39 1995  Ken Raeburn  <raeburn@@cujo.cygnus.com>

	* lib/gas-defs.exp (pass_phase): New proc.
	(run_dump_test): Note passing or failing of each phase of this
	test, instead of failure of phases or passing of complete test.
	Ensure test file name is in reported message.

Sat Apr  8 12:46:33 1995  Doug Evans  <dje@@chestnut.cygnus.com>

	* lib/gas-defs.exp (run_dump_test): Handle arguments with paths.
	Always resolve testcase status before returning.
	If `slurp_options' fails, return and don't do test.
	(slurp_options): Fix "can't open" error message.
	Return -1 to indicate error.

Mon Mar 20 22:45:30 1995  Jeff Law  (law@@snake.cs.utah.edu)

	* gas/hppa/unsorted/common.s: New test.
	* gas/hppa/unsorted/unsorted.exp: Run it.

Fri Mar 10 19:07:09 1995  Ken Raeburn  <raeburn@@cujo.cygnus.com>

	* gas/h8300/ffxx1.s: Add .word 0 at the end to eliminate
	uncertainty as to whether there should be trailing bytes in the
	output file.
	* gas/h8300/ffxx1.d: Adjust reloc values to permit an addend value
	of 0x00000000ffffffff on 64-bit hosts.  (I'm not sure if this is
	correct.)  End with "..." to match trailing zero bytes.

Wed Mar  8 15:50:34 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/mips/mips4.d, gas/mips/mips4.s: New files.
	* gas/mips/mips.exp: Run new test.

Thu Feb 23 17:58:50 1995  Jeff Law  (law@@snake.cs.utah.edu)

	* gas/hppa/basic/fmemLRbug.s: Add indexing variants.
	* gas/hppa/basic/basic.exp: Test them.

Wed Feb 15 15:43:26 1995  Ian Lance Taylor  <ian@@cygnus.com>

	* gas/mips/uld.d: New file.
	* gas/mips/uld.s: New file.
	* gas/mips/usd.d: New file.
	* gas/mips/usd.s: New file.
	* gas/mips/mips.exp: Run new tests.

Thu Feb  9 10:57:39 1995  Jeff Law  (law@@snake.cs.utah.edu)

	* gas/hppa/reloc/applybug.s: New test.
	* gas/hppa/reloc/reloc.exp (do_applybug_test): Run it.

Thu Feb  2 00:34:55 1995  Jeff Law  (law@@snake.cs.utah.edu)

	* gas/hppa/reloc/picreloc.s: New test.
	* gas/hppa/reloc/reloc.exp (do_pic_relocation_test): Run it.

Fri Jan 27 14:02:02 1995  Ken Raeburn  <raeburn@@cujo.cygnus.com>

	* gas/h8300/ffxx1.d, gas/h8300/ffxx1.s, gas/h8300/cmpsi2.s,
	gas/h8300/h8300.exp: New tests.

Mon Jan 23 21:44:26 1995  Jeff Law  (law@@snake.cs.utah.edu)

	* gas/hppa/basic/basic.exp (do_system): Update.

Wed Jan 11 17:20:25 1995  Ken Raeburn  <raeburn@@cujo.cygnus.com>

	* gas/mips/mips.exp: Don't run the memory-access tests if the
	format is a.out, because the generated code is different from what
	is used with other formats.

Tue Jan 10 11:42:13 1995  Jeff Law  (law@@snake.cs.utah.edu)

	* gas/hppa/unsorted/unsorted.exp (align4.s): Fix glitch in
	regexp to avoid losing without a controlling tty.

Fri Dec 30 18:08:20 1994  Ken Raeburn  <raeburn@@cujo.cygnus.com>

	* gas/i386/pushw.l: Fixed whitespace to match current listing
	style.

	* gas/all/gas.exp: Mark test p1480.s expected to pass, even with
	listings enabled.

Thu Dec 15 18:14:27 1994  Ken Raeburn  <raeburn@@cujo.cygnus.com>

	* Makefile.in (AS_FOR_TARGET, OBJDUMP_FOR_TARGET): Don't set.
	(uninstall): Don't set OBJDUMP and OBJDUMPFLAGS in site.exp.
	* config/default.exp: Default OBJDUMP and OBJDUMPFLAGS.  Use
	findfile and transform procedures to determine objdump program
	name.

	* gas/mips/abs.s, gas/mips/div.s: Force some padding at the end,
	in case the format doesn't automatically require it.
	* gas/mips/beq.d, gas/mips/jal.d: Handle MIPS_JMP as an alternate
	name for the reloc type.

	* lib/gas-defs.exp (file_contents, verbose_eval): New procs.
	(run_dump_test): If verbosity level is over 3, print out dump
	command and its output.

Tue Dec 13 18:21:09 1994  Ian Lance Taylor  <ian@@sanguine.cygnus.com>

	* gas/mips/jal-svr4pic.d: Fix 0-strings to work with 64-bit hosted
	disassembly.

Fri Dec  9 19:54:04 1994  Ken Raeburn  <raeburn@@cujo.cygnus.com>

	* gas/all/gas.exp (comment.s test): Make the "\r" optional, since
	it depends on tty modes.

	* lib/gas-defs.exp (gas_start): Try using -nottycopy instead of
	-nottyinit.

	* gas/arm/gas.exp: The arm6 test should report errors, for now.

Thu Dec  8 20:19:09 1994  Ken Raeburn  <raeburn@@cujo.cygnus.com>

	* lib/gas-defs.exp: Use -i in expect_after command.

Wed Dec  7 16:49:14 1994  Ken Raeburn  <raeburn@@cujo.cygnus.com>

	* gas/mips/mul.d,jal.d: Fix 0-strings to work with 64-bit hosted
	disassembly.

	* gas/ieee-fp: Renamed from ieee.fp.

	* lib/gas-defs.exp: Make sure timeout is at least 2 minutes.

Wed Nov 30 10:48:00 1994  Jeff Law  (law@@snake.cs.utah.edu)

	* gas/hppa/parse: Renamed from gas/hppa/more.parse.

Mon Nov 28 00:40:26 1994  Jeff Law  (law@@snake.cs.utah.edu)

	* gas/hppa/more.parse/parse.exp (nosubspace.s): No longer expected
	to fail.  Fix comments for the test.  Tweak test name.

Tue Nov 22 23:38:20 1994  Jeff Law  (law@@snake.cs.utah.edu)

	* gas/hppa/reloc/reloc.exp: Minor tweaks to match current PA ELF
	output.

Fri Nov 18 17:56:57 1994  Ian Lance Taylor  <ian@@sanguine.cygnus.com>

	* gas/mips/ld.d: Adjust to work for both big and little endian
	code.
	* gas/mips/ld.s, gas/mips/lif-empic.d: Likewise.
	* gas/mips/lifloat.d, gas/mips/ulh-empic.d: Likewise.
	* gas/mips/ulh.d, gas/mips/ulw.d, gas/mips/ush.d: Likewise.
	* gas/mips/usw.d: Likewise.

Tue Nov 15 11:09:57 1994  Jeff Law  (law@@snake.cs.utah.edu)

	* gas/hppa/unsorted/align4.s: New test.
	* gas/hppa/unsorted/unsorted.exp: Run it.

	* gas/hppa/unsorted/unsorted.exp (importbug): Tweak to match
	current expected PA ELF output.
	* gas/hppa/reloc/reloc.exp (do_r_no_reloc): Likewise.
	(do_plabel_relocation_test): Likewise.

Thu Nov  3 18:14:09 1994  Ken Raeburn  <raeburn@@cujo.cygnus.com>

	* gas/all/p1480.s: Use larger constant, so expression can have a
	positive value.
	* gas/all/gas.exp: Expect p1480.s without listings to pass.

Thu Nov  3 15:43:46 1994  Ian Lance Taylor  <ian@@sanguine.cygnus.com>

	* gas/mips/ulh.d, gas/mips/ulw.d, gas/mips/ush.d, gas/mips/usw.d:
	Correct test cases.

Thu Oct 20 00:55:13 1994  Jeff Law  (law@@snake.cs.utah.edu)

	* gas/hppa/reloc/blebug3.s: New test.
	* gas/hppa/reloc/reloc.exp: Run it.

Mon Oct 17 02:33:53 1994  Jeff Law  (law@@snake.cs.utah.edu)

	* gas/hppa/reloc/reduce3.s: New test.
	* gas/hppa/reloc/reloc.exp: Run it.

Sun Oct 16 22:25:56 1994  Jeff Law  (law@@snake.cs.utah.edu)

	* gas/hppa/reloc/reloc.exp (r_no_reloc): Tweak output to match
	current reality.

Wed Sep 28 21:21:34 1994  Jeff Law  (law@@snake.cs.utah.edu)

	* gas/hppa/reloc/reduce.s: Renamed from relocreduce.s
	* gas/hppa/reloc/reduce2.s: Renamed from relocreduce2.s
	* gas/hppa/reloc/r_no_reloc.s: Renamed from r_no_relocbug.s
	* gas/hppa/reloc/reloc.exp: Changed accordingly.

Wed Sep 28 13:25:10 1994  Ian Lance Taylor  (ian@@sanguine.cygnus.com)

	* gas/mips/beq.d, gas/mips/beq.s: Test that unconditional branch
	overflows are correctly converted to jumps.

Mon Sep 26 17:41:43 1994  Ian Lance Taylor  (ian@@sanguine.cygnus.com)

	* gas/mips: Add test cases for PIC code, both SVR4 style and
	-membedded-pic style.

Fri Sep 23 14:45:42 1994  Ian Lance Taylor  (ian@@sanguine.cygnus.com)

	* gas/mips: New directory with MIPS specific test cases.

	* lib/gas-defs.exp (run_dump_test): Permit the .d file to specify
	the name of the source file to assemble.
	(regexp_diff): Put the reason for failure in the log file.

Wed Sep 21 13:44:21 1994  Ian Lance Taylor  (ian@@sanguine.cygnus.com)

	* lib/gas-defs.exp: Don't try to use shell redirection, since TCL
	doesn't support it.  Redirect stdout using > instead of 1>, and
	don't bother to redirect stderr since TCL redirects it anyhow.
	(run_dump_test): Pass appropriate arguments to program, defaulting
	to -r.

Sat Sep 17 01:04:56 1994  Ken Raeburn  (raeburn@@cujo.cygnus.com)

	* gas/vax: New directory.
	* gas/vax/{quad.s,quad.exp}: New test, for immediate quadword
	values.

Mon Sep 12 22:19:11 1994  Jeff Law  (law@@snake.cs.utah.edu)

	* gas/hppa/reloc/r_no_relocbug.s: New test.
	* gas/hppa/reloc/reloc.exp: Run it.

	* gas/hppa/reloc/reloc.exp (do_function_reloc_bug): Update
	expected output.

Sun Sep 04 17:58:10 1994  Richard Earnshaw (rwe@@pegasus.esprit.ec.org)

	* gas/arm/*: New subtree.  Add ARM tests.

Mon Aug  8 12:13:31 1994  Jeff Law  (law@@snake.cs.utah.edu)

	* gas/hppa/unsorted/unsorted.exp: Accept any character
	between foo's type and foo itself.

Fri Jul 15 19:09:25 1994  Ken Raeburn  (raeburn@@cujo.cygnus.com)

	* lib/gas-defs.exp (run_dump_test): New routine for running the
	assembler, running objdump or nm (not fully supported) on the
	resulting object file, and comparing the results against a file of
	regular expressions in the test suite, all in one command.
	Options for the assembler and objdump are read from comments at
	the start of the .d file.
	(fail_phase, slurp_options): New auxiliary routines.
	(regexp_diff): Always return a value.  Fix bugs in actually doing
	the regexp test.

	* gas/sun4/addend.exp: Use run_dump_test.
	* gas/sun4/addend.d: Fix regular expressions so that they work.

Thu Jul  7 11:55:33 1994  Jeff Law  (law@@snake.cs.utah.edu)

	* gas/hppa/reloc/relocreduce2.s: More relocation reduction tests.
	* gas/hppa/reloc/reloc.exp: Run them.

Thu Jun 30 18:49:25 1994  Ken Raeburn  (raeburn@@cujo.cygnus.com)

	* config/default.exp: Look for "as.new" in "$base_dir/..", where
	it got compiled, not in "$base_dir".
	* config/unknown.exp: Deleted.

Sun Jun 26 13:23:54 1994  Jeff Law  (law@@snake.cs.utah.edu)

	* gas/lib/gas-defs.exp (gas_finish): Call "close" and "wait"
	before exiting.  Enclose both calls inside a "catch".
	(objdump_finish): Likewise.

Fri Jun 10 10:23:35 1994  Jeff Law  (law@@snake.cs.utah.edu)

	* gas/hppa/reloc/reloc.exp (roundmode test): Tweak expected output
	for SOM to match current testcase.

Thu Jun  2 19:46:58 1994  Ken Raeburn  (raeburn@@cujo.cygnus.com)

	* gas/i386/{pushw.s,pushw.l}: New test.
	* gas/i386/all.exp: Run it.

	* Makefile.in (distclean): Remove site config files and gas.sum.

Fri May 27 12:24:18 1994  Ken Raeburn  (raeburn@@cujo.cygnus.com)

	* gas/m68k/disperr.s: Use % for registers.

	* gas/m68k-coff/gas.exp: Expect failure for p2389a.s.

Tue May 17 14:53:08 1994  Bill Cox  (bill@@rtl.cygnus.com)

	* lib/gas-defs.exp: Replace error proc calls with perror calls.

Mon May 16 13:19:16 1994  Jeff Law  (law@@snake.cs.utah.edu)

	* gas/hppa/reloc/reloc.exp: Tweak expected output to match new
	ELF code.
	* gas/hppa/reloc/roundmode.s: Avoid "S" and "D" modes, ELF does
	not support them.
	* gas/hppa/unsorted/unsorted.exp: Tweak expected output to match
	new ELF code.

Thu May  5 17:27:54 1994  Ken Raeburn  (raeburn@@cujo.cygnus.com)

	* config/default.exp: Renamed from unix-gas.exp.

Mon Apr 11 10:31:00 1994  Bill Cox  (bill@@rtl.cygnus.com)

	* Makefile.in (check): Set TCL_LIBRARY for runtest.

Mon Apr 11 07:54:10 1994  Jeffrey A. Law  (law@@snake.cs.utah.edu)

	* gas/hppa/more.parse/callinfobug.s: Add missing name for
	procedure.

	* gas/hppa/reloc/funcrelocbug.s: Place the trampoline in the
	$DATA$ rather than $LIT$ subspace.

Sun Mar 27 14:05:33 1994  Jeffrey A. Law  (law@@snake.cs.utah.edu)

	* gas/hppa/reloc/funcrelocbug.s: New test.
	* gas/hppa/reloc/reloc.exp: Run it.

Thu Mar 17 13:38:04 1994  Jeffrey A. Law  (law@@snake.cs.utah.edu)

	* gas/hppa/unsorted/importbug.s: New test.
	* gas/hppa/unsorted/unsorted.exp: Run it.

Wed Mar 16 11:57:07 1994  Jeffrey A. Law  (law@@snake.cs.utah.edu)

	* gas/hppa/more.parse/regpopbug.s: Add trivial .equ test.

	* gas/hppa/unsorted/globalbug.s: New test (expected to fail).
	* gas/hppa/unsorted/unsorted.exp: Run it.

	* gas/hppa/more.parse/callinfobug.s: New test.
	* gas/hppa/omre.parse/parse.exp: Run it.

	* gas/hppa/more.parse/regpopbug.s: New test.
	* gas/hppa/more.parse/parse.exp: Run it.

Mon Feb 28 14:10:04 1994  Ken Raeburn  (raeburn@@cujo.cygnus.com)

	* lib/gas-defs.exp (objdump): New proc.
	(objdump_start): Deleted unused proc.
	(objdump_start_common): Merged into objdump_start_no_subdir.

	* gas/alpha/fp.exp: Use objdump instead of
	objdump_start_no_subdir, since the former actually waits for
	objdump to finish.  Specify .rdata section only.  Make comment
	indicate Alpha architecture rather than SPARC.
	* gas/alpha/fp.d: Omit .reginfo patterns.  Just use "." to match
	against ASCII code 0x2a ("*", special in regexp).
	* gas/sun4/addend.exp: Use objdump instead of
	objdump_start_no_subdir.

Thu Feb 24 07:11:57 1994  Jeffrey A. Law  (law@@snake.cs.utah.edu)

	* gas/hppa/more.parse/parse.exp (no subspace test): Only expect
	a failure if gas is not producing an ELF object.

Mon Feb 14 09:24:03 1994  Jeffrey A. Law  (law@@snake.cs.utah.edu)

	* gas/hppa/basic/fmemLRbug.s: New test.
	* gas/hppa/basic/basic.exp: Run it.

Thu Feb 10 00:34:26 1994  Ken Raeburn  (raeburn@@cujo.cygnus.com)

	* gas/alpha/fp.*: New files.
	* lib/gas-defs.exp (regexp_diff): Report noted mismatch at
	verbosity level 3 or above only.

Mon Feb  7 15:53:10 1994  Jeffrey A. Law  (law@@snake.cs.utah.edu)

	* gas/hppa/*/*.exp: Change xfails to check for PA ELF rather than
	PA OSF1.

Fri Feb  4 23:42:14 1994  Jeffrey A. Law  (law@@snake.cs.utah.edu)

	* gas/hppa/more.parse/xmpyubug.s: New test.
	* gas/hppa/more.parse/parse.exp: Run it.

Fri Feb  4 17:13:20 1994  Ken Raeburn  (raeburn@@cujo.cygnus.com)

	* lib/gas-defs.exp (regexp_diff): New procedure, vaguely based on
	"simple_diff" from linker test suite.
	* gas/sun4/addend.exp: Use it.
	* gas/sun4/addend.d: New file.

Sun Jan 30 23:34:58 1994  Ken Raeburn  (raeburn@@cujo.cygnus.com)

	* gas/all/gas.exp: Adjust regexp for x930509.s for current listing
	format.

Thu Jan 20 16:44:51 1994  Rob Savoye  (rob@@darkstar.cygnus.com)

	* gas/all/gas.exp, lib/gas-defs.exp, sun4/addend.exp,
	sparc-solaris/addend.exp: Tweaked to fix a few bugs and to run
	well under either version of expect.

Mon Jan 17 00:25:03 1994  Jeffrey A. Law  (law@@snake.cs.utah.edu)

	* gas/hppa/basic/fp_misc.s: Delete copr instruction.  It's tested
	elsewhere now.
	* gas/hppa/basic/{copr, coprmem, spop}.s: New tests.
	* gas/hppa/basic/basic.exp: Run them.

Thu Jan 13 11:59:22 1994  Jeffrey A. Law  (law@@snake.cs.utah.edu)

	* gas/all/gas.exp: No longer expect difference of forward
	references to fail.
	* gas/all/x930509.s: Fix testcase to match how the expect code was
	written.

Wed Jan 12 13:41:10 1994  Jeffrey A. Law  (law@@snake.cs.utah.edu)

	* gas/hppa/reloc/reloc.exp: Fix typo in last change.  Latest test
	for cross-subspace call bugs is no longer expected to fail.

	* gas/hppa/more.parse/procbug.s: Add test for another bug relating
	to having a function's label follow the .PROC directive.

Tue Jan 11 21:47:48 1994  Jeffrey A. Law  (law@@snake.cs.utah.edu)

	* gas/hppa/reloc/reloc.exp: Add test for cross-subspace call bug
	found while working on multiple $CODE$ subspace support.

Mon Jan 10 09:54:15 1994  Jeffrey A. Law  (law@@snake.cs.utah.edu)

	* gas/hppa/more.parse/parse.exp: procbug.s is no longer expected
	to fail.
	* gas/hppa/more.parse/procbug.s: Add missing .procend.

Mon Jan  3 10:07:47 1994  Jeffrey A. Law  (law@@snake.cs.utah.edu)

	* gas/hppa/more.parse/labelbug.s: Add testcase for bug in last
	app.c change.

Wed Dec 29 11:32:39 1993  Jeffrey A. Law  (law@@snake.cs.utah.edu)

	* gas/hppa/more.parse/labelbug.s: Add more colonless label tests.

Wed Dec 15 08:24:31 1993  Ken Raeburn  (raeburn@@rtl.cygnus.com)

	* Makefile.in (site.exp): Don't set ASFLAGS.  Quote value of
	OBJDUMPFLAGS in case it's empty.  Use temporary names until the
	end; make creating site.exp the final step.
	(check): Pass in ASFLAGS.

	* gas/all/gas.exp: Use all_ones proc.  Change regexp for matching
	C comments to avoid bugs in latest expect code.

Wed Dec  8 14:30:14 1993  Jeffrey A. Law  (law@@snake.cs.utah.edu)

	* gas/m68k/disperr.s: New test.
	* gas/m68k/all.exp: Run it.

Sun Dec  5 19:24:57 1993  Jeffrey A. Law  (law@@snake.cs.utah.edu)

	* gas/hppa/reloc/roundmode.s: New test.
	* gas/hppa/reloc/reloc.exp: Run it.  Fix typo in last change.

Wed Dec  1 10:44:18 1993  Jeffrey A. Law  (law@@snake.cs.utah.edu)

	* gas/hppa/reloc/reloc.exp: Run the first half of bogus R_EXIT
	test for ELF.

Tue Nov 30 13:43:21 1993  Jeffrey A. Law  (law@@snake.cs.utah.edu)

	* gas/hppa/more.parse/parse.exp: Test for error on for subspace
	directive is an XFAIL for SOM assmeblers.

	* gas/hppa/reloc/reloc.exp: Remove XFAIL for relocation on
	cross-subspace call test.

Sun Nov 28 12:12:50 1993  Jeffrey A. Law  (law@@snake.cs.utah.edu)

	* gas/hppa/more.parse/appbug.s: New test.
	* gas/hppa/more.parse/parse.exp: Run it.

	* gas/hppa/unsorted/align3.s: New test.
	* gas/hppa/unsorted/unsorted.exp: Run it.

Sat Nov 27 22:50:01 1993  Jeffrey A. Law  (law@@snake.cs.utah.edu)

	* gas/all/p2425.s: Insert a tab before assembler directives so
	that the directives are not interpreted as labels.

	* gas/hppa/basic/weird.s: Sync with GDB version.

	* gas/hppa/more.parse/labelbug.s: New test.

	* gas/hppa/more.parse/parse.exp: Run it.

Wed Nov 24 01:25:03 1993  Jeffrey A. Law  (law@@snake.cs.utah.edu)

	* gas/hppa/reloc/fixupbug.s: New test.
	* gas/hppa/reloc/reloc.exp: Run it.

	* gas/hppa/reloc/exitbug.s: New test.
	* gas/hppa/reloc/reloc.exp: Run it.

Sun Nov 21 22:11:10 1993  Jeffrey A. Law  (law@@snake.cs.utah.edu)

	* gas/hppa/reloc/reloc.exp: Minor fixes so that SOM & ELF can
	share the same test code.
	* gas/hppa/reloc/relocreduce.s: Likewise.

	* gas/hppa/basic/fmem.s: Add quadword FP store instructions.
	* gas/hppa/basic/basic.exp: Test quadword FP store instructions.

Sun Nov  7 00:31:41 1993  Jeffrey A. Law  (law@@snake.cs.utah.edu)

	* gas/hppa/reloc/reloc.exp: No longer expect failure for
	field selector on ble instruction test.

	* gas/hppa/basic/basic.exp: No longer expect failures for
	system instruction tests now that probei is fixed.

Sat Nov  6 22:45:08 1993  Jeffrey A. Law  (law@@snake.cs.utah.edu)

	* gas/hppa/reloc/selectorbug.s: New test.
	* gas/hppa/reloc/reloc.exp: Run it.

Thu Nov  4 17:01:30 1993  Jeffrey A. Law  (law@@snake.cs.utah.edu)

	* gas/hppa/unsorted/fragbug.s: New test.
	* gas/hppa/unsorted/unsorted.exp: Run it.

Thu Nov 04 09:09:49 1993  Jeffrey Wheat  (cassidy@@cygnus.com)

	* Makefile.in: Changed RUNTESTFLAGS to RUNTEST_FLAGS

Tue Nov  2 22:12:30 1993  Jeffrey A. Law  (law@@snake.cs.utah.edu)

	* gas/hppa/more.parse/{defbug.s, stdreg.s}: New tests.
	* gas/hppa/more.parse/parse.exp: Run them.

Mon Nov  1 23:37:58 1993  Jeffrey A. Law  (law@@snake.cs.utah.edu)

	* gas/hppa/reloc/reloc.exp (reloc_reduce): Correct offsets at
	which specific relocations are expected to be found.

Sat Oct 30 14:12:31 1993  Jeffrey A. Law  (law@@snake.cs.utah.edu)

	* gas/hppa/unsorted/unsorted.exp (ss_align): Remove OSF xfail.

	* gas/hppa/more.parse/parse.exp: Add new test.
	* gas/hppa/more.parse/ssbug.s: New test to make sure non-default
	sections are handled correctly.

	* gas/all/gas.exp: Disable (and fail) p1480.s for all PA targets.

Fri Oct 29 16:29:06 1993  Jeffrey A. Law  (law@@snake.cs.utah.edu)

	* gas/hppa/more.parse/calldatabug.s: Colonize.
	* gas/hppa/more.parse/parse.exp: Fix typos.

Thu Oct 28 21:40:06 1993  Jeffrey A. Law  (law@@snake.cs.utah.edu)

	* gas/hppa/{basic, more.parse, reloc, unsorted}: New directories.
	* gas/hppa/*/*.exp: New test drivers.
	* gas/hppa/*/*.s: New test files.

Mon Oct 25 09:40:59 1993  Ken Raeburn  (raeburn@@cygnus.com)

	* gas/sun4: New directory.
	* gas/sun4/addend.s,addend.exp: New test case.
	* gas/sparc-solaris/addend.s,addend.exp: Solaris version of same
	test case.

	* gas/all/gas.exp: Check `*' in C comments.

	* lib/gas-defs.exp (all_ones): New procedure, for a predicate to
	simplify some tests.
	(want_no_output): Return zero or nonzero, depending on success or
	failure.
	(gas_test_old): Return value from want_no_output.
	(objdump_start_common): Split off from objdump_start.
	(objdump_start_no_subdir): New procedure.

Wed Oct 20 07:25:48 1993  Ken Raeburn  (raeburn@@rover.cygnus.com)

	* gas/all/diff1.s, gas/m68k/pic1.s: New tests.
	* gas/all/gas.exp, gas/m68k/all.exp: Run them.

	* Makefile.in (OBJDUMP_FOR_TARGET): Define similar to
	AS_FOR_TARGET.
	(check): Don't pass ASFLAGS variable.
	(site.exp): Put ASFLAGS, OBJDUMP, OBJDUMPFLAGS into site.exp.

	From Jeff Law:

	* lib/gas-defs.exp (objdump_start, objdump_finish): New functions
	so that tests can parse the output of objdump looking for errors
	in relocation entires, file headers and the like.

Thu Sep 23 16:20:34 1993  Ken Raeburn  (raeburn@@cambridge.cygnus.com)

	* gas/ieee.fp/x930509a.exp: Currently expected to fail always.
	* gas/all/gas.exp (p1480.s, x930509.s): Ditto.  Break up gas_test
	call so it no longer performs multiple tests.
	* gas/m68k/all.exp (t2.s): Don't bother with listings.
	(p2410.s): Don't pass unwanted arguments to gas_test_error.

Wed Aug 25 16:50:08 1993  Ken Raeburn  (raeburn@@cambridge.cygnus.com)

	* lib/do*: Remove RCS id strings.

Mon May 17 15:09:45 1993  Ken Raeburn  (raeburn@@deneb.cygnus.com)

	* gas/all/float.s, gas/all/p1480.s, gas/m68k/p2410.s: New tests.
	* gas/all/gas.exp, gas/m68k/all.exp: Run them.
	* gas/i386: New directory.

Mon May 10 14:50:20 1993  Ken Raeburn  (raeburn@@deneb.cygnus.com)

	* Added directory structure, to categorize tests by targets.
	* Added new tests all/x930509.s, ieee.fp/x930509a.s, m68k/p2663.s,
	and refined some to examine the assembler listing output.
	* lib/gas-defs.exp: Renamed gas_start to gas_run.  Added some
	expect_after patterns.
	(gas_start, gas_finish): New procs, for tests that examine process
	output.
	* config/unix-gas.exp: Invoke gas_init directly, instead of
	requiring test .exp files do it.

Wed Apr 21 01:24:16 1993  Ken Raeburn  (raeburn@@cambridge.cygnus.com)

	* gas/gas.exp: Handle new tests, and changes to testing procs.

	* lib/gas-defs.exp (want_no_output): New proc; success iff output
	is empty.
	(gas_test_old): Functionally same as old gas_test.
	(gas_test_ignore_stdout): Rewritten to use want_no_output.
	(gas_test): New argument lists set of options to be tried in
	combinations.  Option with trailing ">" indicates standard output
	should be ignored.

	* gas/p2425a.s: Use %-form for registers, so this test can be run
	on m68k-coff targets too.

	* gas/p2430a.s: New test case, whitespace &c matches customer
	report more closely.  Gets different results from p2430.s; this is
	bad, and not yet tested for.

Mon Apr  5 12:27:19 1993  Ken Raeburn  (raeburn@@cygnus.com)

	* gas/p2389a.s, gas/p2411.s, gas/t2.s: New test cases.
	* lib/run: New script.
	* gas/gas-defs.exp (gas_start): Takes new args, assembler options
	and redirection options.  Use "run" script so redirection works.
	(gas_test): Now takes assembler options as separate arg from input
	file name.
	(gas_test_ignore_stdout): New proc.  Discards output.
	(gas_test_error): New proc.  Expects assembler to generate output.
	(target_cpu_family setting): Handle i486->i386 also.

	* lib/do*: Scripts moved here from gas/testscripts.  May be useful
	someday for writing more test cases; not currently used.

Tue Mar 30 11:45:27 1993  Ken Raeburn  (raeburn@@cambridge.cygnus.com)

	* gas/sol-gcc.s, gas/sol-cc.s, gas/p2425a.s, gas/p2389.s: New test
	cases.
	* gas/gas.exp: Enable them for appropriate targets.  Removed some
	useless comments &c.  Changed m68k target test to be more general.

	* lib/gas-defs.exp (gas_exit, gas_init): New procs.
	* gas/gas.exp: Call gas_init.

Mon Mar 29 00:00:00 1993  Ken Raeburn  (raeburn@@kr-pc.cygnus.com)

	* Test suite created.
@


1.585
log
@For v6 tests use -march=armv6j
@
text
@d3 8
@


1.584
log
@Add support for m32r-linux target, including a RELA ABI and PIC.
@
text
@d1 5
@


1.583
log
@bfd/
	* elf32-mips.c (elf_mips_howto_table_rel): Replace all uses of
	mips_elf_generic_reloc with _bfd_mips_elf_generic_reloc.  Use
	_bfd_mips_elf_hi16_reloc for R_MIPS_HI16 and R_MIPS_GNU_REL_HI16,
	_bfd_mips_elf_lo16_reloc for R_MIPS_LO16 and R_MIPS_GNU_REL_LO16,
	and _bfd_mips_elf_got16_reloc for R_MIPS_GOT16.  Change rightshift
	to 16 for R_MIPS_HI16 and R_MIPS_GNU_REL_HI16.
	(mips_elf_generic_reloc, struct mips_hi16, mips_elf_hi16_reloc)
	(mips_elf_lo16_reloc, mips_elf_got16_reloc): Delete.
	(_bfd_mips_elf32_gprel16_reloc): Remove special case.
	(mips_elf_gprel32_reloc, mips32_64bit_reloc): Likewise.

	* elf64-mips.c (mips_elf64_howto_table_rel): Replace all uses of
	mips_elf_generic_reloc with _bfd_mips_elf_generic_reloc.  Use
	_bfd_mips_elf_hi16_reloc for R_MIPS_HI16, _bfd_mips_elf_lo16_reloc
	for R_MIPS_LO16 and _bfd_mips_elf_got16_reloc for R_MIPS_GOT16.
	Change R_MIPS_HI16's rightshift to 16.
	(mips_elf64_howto_table_rela): Replace all uses of
	mips_elf_generic_reloc with _bfd_mips_elf_generic_reloc.
	Use _bfd_mips_elf_generic_reloc for R_MIPS_GOT16 as well.
	(mips_elf64_hi16_reloc, mips_elf64_got16_reloc): Delete.
	(mips_elf64_shift6_reloc): Remove special case.  Use
	_bfd_mips_elf_generic_reloc instead of returning bfd_reloc_continue.

	* elfn32-mips.c (prev_reloc_section): Delete.
	(prev_reloc_address, prev_reloc_addend): Delete.
	(elf_mips_howto_table_rel, elf_mips_howto_table_rela): As for
	elf64-mips.c
	(GET_RELOC_ADDEND, SET_RELOC_ADDEND): Delete.
	(mips_elf_generic_reloc, struct mips_hi16, mips_elf_hi16_reloc)
	(mips_elf_lo16_reloc, mips_elf_got16_reloc): Delete.
	(mips_elf_gprel16_reloc): Delete use of GET_RELOC_ADDEND.
	(mips_elf_literal_reloc, mips_elf_gprel32_reloc): Likewise.
	(mips16_jump_reloc, mips16_gprel_reloc): Likewise.
	(mips_elf_shift6_reloc): Likewise.  Delete use of SET_RELOC_ADDEND.

	* elfxx-mips.c (_bfd_mips_elf_gprel16_with_gp): Use
	_bfd_relocate_contents to install an in-place addend.
	(mips_hi16): New structure.
	(mips_hi16_list): Moved from elf32-mips.c.
	(_bfd_mips_elf_hi16_reloc, _bfd_mips_elf_got16_reloc): New functions.
	(_bfd_mips_elf_lo16_reloc, _bfd_mips_elf_generic_reloc): New functions.
	(mips_elf_calculate_relocation): Assume addend is unshifted.
	(_bfd_mips_elf_relocate_section): Don't apply the howto rightshift
	on top of the usual high-part shift.  Don't shift the addend right
	before calling mips_elf_calculate_relocation.

	* elfxx-mips.h (_bfd_mips_elf_hi16_reloc): Declare.
	(_bfd_mips_elf_got16_reloc, _bfd_mips_elf_lo16_reloc): Declare.
	(_bfd_mips_elf_generic_reloc): Declare.

gas/
	* config/tc-mips.c (mips_need_elf_addend_fixup): Delete.
	(md_apply_fix3): Remove bfd_install_relocation workarounds.
	(tc_gen_reloc): Likewise. Factor handling of pc-relative relocations
	and treat fx_addnumber as relative to the relocation address.

gas/testsuite/
	* gas/mips/mips16-jalx.d: Use -mabi=o64.
	* gas/mips/mips16.d: Likewise.
	* gas/mips/elf-rel17.[sd]: New test.
	* gas/mips/mips.exp: Run it.
@
text
@d1 13
@


1.582
log
@Replace --error-explicit-parallel-conflicts with --ignore-parallel-conflitcs.
Add test of parallel constraint checking.
@
text
@d1 7
@


1.581
log
@Remove -8 bias on PC-relative load instructions for arm-wince-pe target
@
text
@d1 6
@


1.580
log
@	* gas/z8k/eidi.s: Add uppercase forms.  Add forms with comma
	separated parameters.
@
text
@d1 11
@


1.579
log
@	* gas/arm/thumbv6.s: Add nops.
	* gas/arm/thumbv6.d: Use -M force-thumb option to objdump.  Add nops.
@
text
@d1 5
@


1.578
log
@	* gas/mmix/basep-8.d: Update for lcomm symbol type change.
	* gas/mmix/basep-9.d: Likewise.
@
text
@d1 5
@


1.577
log
@opcodes:
	* ppc-opc.c (MO): Make optional.
	(RAO, RSO, SHO): New optional forms of RA, RS, SH operands.
	(tlbwe): Accept for both PPC403 and BOOKE.  Make all operands optional.
gas:
	* tc-ppc.c (md_assemble): Rewrite comment about optional operands
	to indicate that 'all or none' is also handled.  Pluralize a
	word in another comment.
gas/testsuite:
	* gas/ppc/booke.s: Add two more forms of the mbar instruction
	and three forms of the tlbwe instruction.
	* gas/ppc/booke.d: Update to match.
@
text
@d1 5
@


1.576
log
@	* gas/arm/arm.exp: Add r15-bad.
	* gas/arm/r15-bad.s: New file.
	* gas/arm/r15-bad.l: New file.
@
text
@d1 6
d104 7
a110 7
        display the contents of data fields in the .text section.
        This change is necessary after the addition of arm elf mapping
        symbol support to gas.
        * gas/arm/pic.d: Expect addresses with function name offsets.
        This change is necessary after the addition of arm elf mapping
        symbol support to gas.
        
d224 1
a224 1
	for jr-back.d. 
d227 1
a227 1
	for jr-forw.d. 
d381 5
a385 5
        * gas/mips/elf-rel-got-n32.d: Fix ulw and usw patterns for
        little-endian.
        * gas/mips/elf-rel-got-n64.d: Likewise.
        * gas/mips/elf-rel-xgot-n32.d: Likewise.
        * gas/mips/elf-rel-xgot-n64.d: Likewise.
@


1.575
log
@gas/
	* config/tc-mips.c (macro): Switch misordered call to frag_grow()
	and setting of tc_fr_offset.

gas/testsuite/
	* gas/mips/elf-rel16.[sd]: New test.
	* gas/mips/mips.exp: Run it.
	* gas/mips/elf-rel-xgot-n32.d: Fix addends for "lw $5,dl1+34($5)".
	* gas/mips/elf-rel-xgot-n64.d: Likewise.
@
text
@d1 6
@


1.574
log
@	* gas/arm/arm.exp: Add archv6 and thumbv6.
	* gas/arm/archv6.d: New file.
	* gas/arm/archv6.s: Likewise.
	* gas/arm/thumbv6.d: Likewise.
	* gas/arm/thumbv6.s: Likewise.

	Add V6 support.
	* config/tc-arm.c (ARM_EXT_V6): New macro.
	(ARM_ARCH_V6): Likewise.
	(SHIFT_IMMEDIATE): Likewise.
	(SHIFT_LSL_OR_ASR_IMMEDIATE): Likewise.
	(SHIFT_ASR_IMMEDIATE): Likewise.
	(SHIFT_LSL_IMMMEDIATE): Likewise.
	(do_cps): New function.
	(do_cpsi): Likewise.
	(do_ldrex): Likewise.
	(do_pkhbt): Likewise.
	(do_pkhtb): Likewise.
	(do_qadd16): Likewise.
	(do_rev): Likewise.
	(do_rfe): Likewise.
	(do_sxtah): Likewise.
	(do_sxth): Likewise.
	(do_setend): Likewise.
	(do_smlad): Likewise.
	(do_smlald): Likewise.
	(do_smmul): Likewise.
	(do_ssat): Likewise.
	(do_usat): Likewise.
	(do_srs): Likewise.
	(do_ssat16): Likewise.
	(do_usat16): Likewise.
	(do_strex): Likewise.
	(do_umaal): Likewise.
	(do_cps_mode): Likewise.
	(do_cps_flags): Likewise.
	(do_endian_specifier): Likewise.
	(do_pkh_core): Likewise.
	(do_sat): Likewise.
	(do_sat16): Likewise.
	(insns): Add V6 instructions.
	(do_t_cps): New function.
	(do_t_cpy): Likewise.
	(do_t_setend): Likewise.
	(THUMB_CPY): New macro.
	(tinsns): Add V6 instructions.
	(decode_shift): Handle V6 restricted-shift options.
	(thumb_mov_compare): Support CPY.
	(arm_cores): Add arm1136js and arm1136jfs.
	(arm_archs): Add armv6.
	(arm_fpus): Add arm1136jfs.
	* doc/c-arm.texi (ARM Options): Mention arm1136js, arm1136jfs, and
	armv6 options.

	* gas/arm/arm.exp: Add archv6 and thumbv6.
	* gas/arm/archv6.d: New file.
	* gas/arm/archv6.s: Likewise.
	* gas/arm/thumbv6.d: Likewise.
	* gas/arm/thumbv6.s: Likewise.

	* arm-dis.c (print_arm_insn): Add 'W' macro.
	* arm-opc.h (arm_opcodes): Add V6 instructions.
	(thumb_opcodes): Likewise.
@
text
@d1 7
@


1.573
log
@	* gas/z8k/ctrl-names.d: New file.
	* gas/z8k/ctrl-names.s: New file.
	* gas/z8k/z8k.exp: Run new tests.
@
text
@d1 10
@


1.572
log
@Add support for the M32R2 processor.
@
text
@d1 6
@


1.571
log
@Add vax-linux-gnu target
@
text
@d1 6
@


1.570
log
@	* gas/sh/basic.exp: Define ASFLAGS appropriately and don't do
	dsp test for sh64/sh5 targets.
	* gas/sh/sh64/crange1.s: Tidy up to match data alignment.
	* gas/sh/sh64/crange1-1.d: Update.
	* gas/sh/sh64/crange1-2.d: Likewise.
	* gas/sh/sh64/datal32-3.d: Likewise.
	* gas/sh/sh64/datal64-3.d: Likewise.
	* gas/sh/sh64/localcom-1.d: Likewise.
@
text
@d1 5
@


1.569
log
@* gas/frv/reloc1.[sd]: Test references to external symbols and
inter-section references too.
@
text
@d1 11
@


1.568
log
@	* gas/z8k/jmp-cc.d: New file.
	* gas/z8k/jmp-cc.s: New file.
	* gas/z8k/ret-cc.d: New file.
	* gas/z8k/ret-cc.s: New file.
	* gas/z8k/z8k.exp: Run new tests.
@
text
@d1 5
@


1.567
log
@Revert change to t01_mov test.
Fix ldm/stm verifying code to allow er4-er7 for H8SX.
@
text
@d1 8
@


1.566
log
@ Catch illegal register pairings in ldm/stm instructions.
Update test files to avoid illegal pairings.
@
text
@d1 5
@


1.565
log
@	* gas/i386/divide.s: New.
	* gas/i386/divide.d: New.
	* gas/i386/i386.exp (gas_32_check): Run it.
@
text
@d1 8
@


1.564
log
@	* gas/ppc/machine.s: New.
	* gas/ppc/machine.d: New.
	* gas/ppc/ppc.exp: Run it.
@
text
@d3 4
@


1.563
log
@* config/tc-mips.c (macro): Handle new macros: "lca" and "dlca"
for loading addresses using CALL relocations.
Don't emit CALL relocations when a base register is used.

* gas/mips/lca-svr4pic.d: New test for the "lca" macro.
* gas/mips/lca-xgot.d: Likewise.
* gas/mips/lca.s: Source for the new tests.
* gas/mips/mips.exp: Run the new tests.

* opcode/mips.h: Define new enum members, M_LCA_AB and M_DLCA_AB.

* mips-opc.c (mips_builtin_opcodes): Handle new macros: "lca" and
"dlca".
@
text
@d1 6
@


1.562
log
@Add new field to disassemble_info structure: symbol_is_valid() and use it to
skip displaying arm elf mapping symbols in disassembly output.
@
text
@d1 7
@


1.561
log
@Add support for ARM ELF Mapping symbols
@
text
@d1 10
@


1.560
log
@* config/tc-arm.texi (struct reg_entry): Add new field 'builtin'.
  (rn_table, iwmmxt_table, cp_table, cn_table, fn_table, sn_table,
  dn_table, mav_mvf_table, mac_mvd_table, mav_mvfx_table,
  mav_mvax_table, mav_dspc_table): Initialise new field.
  (insert_reg_alias): Initialise new field.
  (md_pseudo_table): Add "unreq" entry.
  (s_unreq): New function: Undo the effects of a previous .req.
* doc/c-arm.texi: Document new pseudo op.
* NEWS: Mention new feature.
* testsuite/gas/arm/req.s: New test file.  Check .req and .unreq psuedo ops.
* testsuite/gas/arm/req.l: Expected error output from req.s test.
* testsuite/gas/arm/copro.d: Set target architecture for objdump so that the
  test will work on architectures which cannot encode higher arm architecture
  types in their file headers.
* testsuite/gas/arm/arm.exp: Run new req.s test.
  Skip thumb instruction test for PE targets which do not support
  thumb relocations.
* testsuite/gas/elf/elf.exp: Skip special handling of section2 test for XScale
  targets - it is no longer needed.
@
text
@d1 7
@


1.559
log
@2003-11-04  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/m68k/mcf-mov3q.d: Support 64bit BFD.
@
text
@d1 13
@


1.558
log
@	* gas/arm/arm7t.d: Replace '-#' with '#-'.
	* gas/arm/copro.d: Likewise.
	* gas/arm/fpa-mem.d: Likewise.
	* gas/arm/maverick.c: Likewise.
	* gas/arm/maverick.d: Likewise.
	* gas/arm/vfp1.d: Likewise.
	* gas/arm/vfp1xD.d: Likewise.
	* gas/arm/xscale.d: Likewise.
@
text
@d1 4
@


1.557
log
@	* gas/m68hc11/opers12-dwarf2.d: Update, local label prefix removed.
	* gas/m68hc11/lbranch-dwarf2.d: Update.
@
text
@d1 11
@


1.556
log
@Add ColdFire test
@
text
@d1 5
@


1.555
log
@gas/

2003-10-22  Andreas Schwab  <schwab@@suse.de>
	    H.J. Lu  <hongjiu.lu@@intel.com>
	    Jim Wilson <wilson@@specifixinc.com>

	* config/tc-ia64.c (update_qp_mutex): New.
	(note_register_values): Properly handle one of PRs in compare
	is PR0. Don't add a mutex relation for .and.orcm/.or.andcm.
	Clear mutex relation for .none/.unc. Don't clear mutex relation
	on predicated compare.

testsuite/

2003-10-22  Andreas Schwab  <schwab@@suse.de>
	    H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/ia64/dv-mutex-err.s: Add more tests for compare.
	* gas/ia64/dv-mutex.s: Likewise.

	* gas/ia64/dv-mutex-err.l: Updated.
	* gas/ia64/dv-mutex.d: Likewise.
@
text
@d1 6
@


1.554
log
@	* gas/mmix/op-0-1.d, gas/mmix/pushj-c.d, gas/mmix/weak1.d: Add
	--no-pushj-stubs option.
	* gas/mmix/reloclab-r.d, gas/mmix/reloclab.d: Add --no-stubs
	option.
	* gas/mmix/reloclab.l: Adjust for PUSHJ stub.
	* gas/mmix/pushj-cs.d, gas/mmix/reloclab-s.d, gas/mmix/relax2.s,
	gas/mmix/relax2.d, gas/mmix/op-0-1s.d, gas/mmix/reloclab-rs.d,
	gas/mmix/weak1-s.d: New tests.
@
text
@d1 9
@


1.553
log
@	* gas/arm/iwmmxt-bad.s: New file.
	* gas/arm/iwmmxt-bad.l: New file.
	* gas/arm/arm.exp: Run new test.
@
text
@d1 11
@


1.552
log
@	* gas/arm/iwmmxt.d: Add -miwmmxt to #objdump line, to get the
	right disassembly.
@
text
@d1 6
@


1.551
log
@2003-10-16  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/alpha/elf-reloc-8.d: Updated.
@
text
@d1 5
@


1.550
log
@2003-10-10  Dave Brolley  <brolley@@redhat.com>

        * gas/frv/allinsn.s: Use preoperly aligned registers.
        * gas/frv/allinsn.d: Update expected results.
@
text
@d1 4
@


1.549
log
@2003-10-08  Chris Demetriou  <cgd@@broadcom.com>

        * lib/gas-defs.exp (gas_run): Always log the command being run.
        (gas_start): Likewise.
        (regexp_diff): Make error reporting about non-existent files
        consistent.
@
text
@d1 5
@


1.548
log
@Fix macro tests to ignore section symbols
@
text
@d1 7
@


1.547
log
@2003-10-04  Christian Groessler  <chris@@groessler.org>

	* gas/z8k/calr-backf.s: New file.
	* gas/z8k/calr-forwf.s: New file.
	* gas/z8k/calr.d: New file.
	* gas/z8k/calr.s: New file.
	* gas/z8k/djnz-backf.s: New file.
	* gas/z8k/djnz-backf2.s: New file.
	* gas/z8k/djnz.d: New file.
	* gas/z8k/djnz.s: New file.
	* gas/z8k/jr-back.d: New file.
	* gas/z8k/jr-forw.d: New file.
	* gas/z8k/jr-back.s: Fix displacement length. Add some more jumps
	for jr-back.d.
	* gas/z8k/jr-backf.s: Fix displacement length.
	* gas/z8k/jr-forw.s: Fix displacement length. Add some more jumps
	for jr-forw.d.
	* gas/z8k/jr-forwf.s: Fix displacement length.
	* gas/z8k/z8k.exp: Run new tests.
@
text
@d1 7
@


1.546
log
@	* config/tc-mips.c (macro_build_ldst_constoffset): Fix sign extension
	tests.
	(load_register): Likewise.
	(macro): Likewise.

	* gas/mips/ldstla-32-shared.d: New file.
	* gas/mips/ldstla-32.d: New file.
	* gas/mips/ldstla-32.s: New file.
	* gas/mips/ldstla-n32-shared.d: New file.
	* gas/mips/ldstla-n32.d: New file.
	* gas/mips/ldstla-n32.s: New file.
	* gas/mips/ldstla-n64-shared.d: New file.
	* gas/mips/ldstla-n64.d: New file.
	* gas/mips/ldstla-n64.s: New file.
	* gas/mips/mips.exp: Add ld-st-la tests.
@
text
@d1 20
@


1.545
log
@[ gas/ChangeLog ]
2003-09-30  Chris Demetriou  <cgd@@broadcom.com>

        * config/tc-mips.c (mips_ip): Capitalize first word of
        existing condition code warning, and add condition code
        warnings for .ps instructions, and for bc1any[24][tf].

[ gas/testsuite/ChangeLog ]
2003-09-30  Chris Demetriou  <cgd@@broadcom.com>

        * lib/gas-defs.exp (run_dump_test): If stderr file is specified
        and there was no stderr output, compare anyway (i.e., cause a
        test failure).
        * gas/mips/mips64-mips3d.s: Add some new instructions to test warnings.
        * gas/mips/mips64-mips3d.l: New file.
        * gas/mips/mips64-mips3d.d: Use mips64-mips3d.l, and update for
        changes to mips64-mips3d.s.
        * gas/mips/mips64-mips3d-incl.d: Likewise.
        * gas/mips/set-arch.l: New file.
        * gas/mips/set-arch.d: Specify set-arch.l as stderr output to check.
        * gas/mips/mips5.l: Make error messages match source.
@
text
@d1 13
@


1.544
log
@[ bfd/ChangeLog ]
2003-09-30  Chris Demetriou  <cgd@@broadcom.com>

	* archures.c (bfd_mach_mipsisa64r2): New define.
	* bfd-in2.h: Regenerate.
	* aoutx.h (NAME(aout,machine_type)): Handle bfd_mach_mipsisa64r2.
	* cpu-mips.c (I_mipsisa64r2): New enum value.
	(arch_info_struct): Add entry for I_mipsisa64r2.
	* elfxx-mips.c (_bfd_elf_mips_mach)
	(_bfd_mips_elf_print_private_bfd_data): Handle E_MIPS_ARCH_64R2.
	(mips_set_isa_flags): Add bfd_mach_mipsisa64r2 case.
	(mips_mach_extensions): Add entry for bfd_mach_mipsisa64r2.

[ binutils/ChangeLog ]
2003-09-30  Chris Demetriou  <cgd@@broadcom.com>

	* readelf.c (get_machine_flags): Handle E_MIPS_ARCH_64R2.

[ gas/Changelog ]
2003-09-30  Chris Demetriou  <cgd@@broadcom.com>

	* configure.in (mipsisa64r2, mipsisa64r2el, mipsisa64r2*): New CPUs.
	* configure: Regenerate.
	* config/tc-mips.c (imm2_expr): New variable.
	(md_assemble, mips16_ip): Initialize imm2_expr.
	(ISA_HAS_64BIT_REGS, ISA_HAS_DROR, ISA_HAS_ROR): Add ISA_MIPS64R2.
	(macro_build): Handle +A, +B, +C, +E, +F, +G, and +H format operands.
	(macro): Handle M_DEXT and M_DINS.
	(validate_mips_insn): Handle +E, +F, +G, +H, and +I format operands.
	(mips_ip): Likewise.
	(OPTION_MIPS64R2): New define.
	(md_longopts): New entry for -mips64r2 (OPTION_MIPS64R2).
	OPTION_ASE_BASE): Increase to compensate for OPTION_MIPS64R2.
	(md_parse_option): Handle OPTION_MIPS64R2.
	(s_mipsset): Handle setting "mips64r2" ISA.
	(mips_cpu_info_table): Add mips64r2.
	(md_show_usage): Document -mips64r2 option.
	* doc/as.texinfo: Docuemnt -mips64r2 option.
	* doc/c-mips.texi: Likewise.

[ gas/testsuite/ChangeLog ]
2003-09-30  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/cp0-names-mips64r2.d: New file.
	* gas/mips/cp0sel-names-mips64r2.d: New file.
	* gas/mips/elf_arch_mips64r2.d: New file.
	* gas/mips/hwr-names-mips64r2.d: New file.
	* gas/mips/mips32r2-ill-fp64.l: New file.
	* gas/mips/mips32r2-ill-fp64.s: New file.
	* gas/mips/mips64r2-ill.l: New file.
	* gas/mips/mips64r2-ill.s: New file.
	* gas/mips/mips64r2.d: New file.
	* gas/mips/mips64r2.s: New file.
	* gas/mips/mips.exp: Define "mips64r2" arch, and run new tests.

[ include/elf/ChangeLog ]
2003-09-30  Chris Demetriou  <cgd@@broadcom.com>

	* mips.h (E_MIPS_ARCH_64R2): New define.

[ include/opcode/ChangeLog ]
2003-09-30  Chris Demetriou  <cgd@@broadcom.com>

	* mips.h: Document +E, +F, +G, +H, and +I operand types.
	Update documentation of I, +B and +C operand types.
	(INSN_ISA64R2, ISA_MIPS64R2, CPU_MIPS64R2): New defines.
	(M_DEXT, M_DINS): New enum values.

[ ld/ChangeLog ]
2003-09-30  Chris Demetriou  <cgd@@broadcom.com>

	* ldmain.c (get_emulation): Ignore "-mips64r2".

[ ld/testsuite/ChangeLog ]
2003-09-30  Chris Demetriou  <cgd@@broadcom.com>

	* ld-mips-elf/mips-elf-flags.exp: Add tests for combinations
	with MIPS64r2.

[ opcodes/ChangeLog ]
2003-09-30  Chris Demetriou  <cgd@@broadcom.com>

	* mips-dis.c (mips_arch_choices): Add entry for "mips64r2"
	(print_insn_args): Add handing for +E, +F, +G, and +H.
	* mips-opc.c (I65): New define for MIPS64r2.
	(mips_builtin_opcodes): Add "dext", "dextm", "dextu", "dins",
	"dinsm", "dinsu", "drotl", "drotr", "drotr32", "drotrv", "dsbh",
	and "dshd" for MIPS64r2.  Adjust "dror", "dror32", and "drorv" to
	be supported on MIPS64r2.
@
text
@d3 14
@


1.543
log
@2003-09-29  Dave Brolley  <brolley@@redhat.com>

        * gas/frv/allinsn.s (nldqi): Removed. Replaced with nop.
        * gas/frv/allinsn.d (nldqi): Ditto.
@
text
@d1 14
@


1.542
log
@	* gas/cris/rd-pcrel2.d: Update for changes in section flag
	defaults.
@
text
@d1 5
@


1.541
log
@	* gas/mips/elfel-rel.d: Add ABI specification.
	* gas/mips/elfel-rel2.d: Likewise.
	* gas/mips/elfel-rel3.d: Likewise.
@
text
@d1 5
@


1.540
log
@	* gas/mips/rm7000.s: Let objdump print trailing dots.
@
text
@d1 6
@


1.539
log
@	* gas/mips/empic3_e.s: Fix typo.
@
text
@d3 4
@


1.538
log
@gas/
	* config/tc-frv.c (md_pcrel_from_section): Heed TC_FORCE_RELOCATION.

gas/testsuite/
	* gas/frv/reloc1.[sd]: New test.
	* gas/frv/allinsn.exp: Run it.
@
text
@d1 4
@


1.537
log
@Add binutils support for v850e1 processor
@
text
@d1 5
@


1.536
log
@Add *kfreebsd-gnu configuration support
@
text
@d1 6
@


1.535
log
@Use bfd_map_over_sections to walk section chain.
Do not dump the contents of an empty section.
@
text
@d1 5
@


1.534
log
@* gas/mips/elf-rel-got-n32.d: Fix ulw and usw patterns for
little-endian.
* gas/mips/elf-rel-got-n64.d: Likewise.
* gas/mips/elf-rel-xgot-n32.d: Likewise.
* gas/mips/elf-rel-xgot-n64.d: Likewise.
@
text
@d1 67
@


1.533
log
@	* dw2gencfi.c (cfi_pseudo_table): Add cfi_gnu_window_save.
	(dot_cfi, output_cfi_insn): Handle DW_CFA_GNU_window_save.
	(output_cie): Don't use DW_EH_PE_pcrel if neither DIFF_EXPR_OK
	nor tc_cfi_emit_pcrel_expr are defined.
	(output_fde): Use tc_cfi_emit_pcrel_expr if available and
	DIFF_EXPR_OK is not defined.
	* config/tc-sparc.h (TARGET_USE_CFIPOP): Define.
	(tc_cfi_frame_initial_instructions, tc_regname_to_dw2regnum,
	tc_cfi_emit_pcrel_expr): Define.
	(sparc_cfi_frame_initial_instructions, sparc_regname_to_dw2regnum,
	sparc_cfi_emit_pcrel_expr): New prototypes.
	(sparc_cie_data_alignment): New decl.
	(DWARF2_DEFAULT_RETURN_COLUMN, DWARF2_CIE_DATA_ALIGNMENT): Define.
	* config/tc-sparc.c: Include dw2gencfi.h.
	(sparc_cie_data_alignment): New variable.
	(md_begin): Initialize it.
	(sparc_cfi_frame_initial_instructions): New function.
	(sparc_regname_to_dw2regnum): Likewise.
	(sparc_cfi_emit_pcrel_expr): Likewise.
	* doc/as.texinfo: Document .cfi_gnu_window_save.

	* config/tc-sparc.c (s_common): Cast last argument to long and
	change format string to shut up warning.
testsuite/
	* gas/cfi/cfi-sparc-1.s: New test.
	* gas/cfi/cfi-sparc-1.d: New test.
	* gas/cfi/cfi-sparc64-1.s: New test.
	* gas/cfi/cfi-sparc64-1.d: New test.
	* gas/cfi/cfi.exp: Run them.
@
text
@d1 8
@


1.532
log
@Add support for unindexed form of Addressing Mode 5
@
text
@d1 8
@


1.531
log
@include/opcode/ChangeLog:
2003-08-16  Jason Eckhardt  <jle@@rice.edu>

        * i860.h (fmov.ds): Expand as famov.ds.
        (fmov.sd): Expand as famov.sd.
        (pfmov.ds): Expand as pfamov.ds.

gas/testsuite/ChangeLog:
2003-08-16  Jason Eckhardt  <jle@@rice.edu>

        * gas/i860/pseudo-ops01.{s,d}: New files.
        * gas/i860/i860.exp: Execute the new test above.
        * gas/i860/README.i860: Mention that pseudo-ops need more testing
        and remove the align fill defect from the list.
@
text
@d1 6
@


1.530
log
@Update regexp for destination address of unrelocated branch instructions so
that they point to themselves.
@
text
@d1 6
@


1.529
log
@gas/
	* config/tc-m68k.h (TARGET_USE_CFIPOP)
	(DWARF2_DEFAULT_RETURN_COLUMN, DWARF2_CIE_DATA_ALIGNMENT)
	(tc_regname_to_dw2regnum, tc_cfi_frame_initial_instructions):
	Define.
	* config/tc-m68k.c: Include "dw2gencfi.h".
	(tc_m68k_regname_to_dw2regnum)
	(tc_m68k_frame_initial_instructions): New functions.

gas/testsuite/
	* gas/cfi/cfi-m68k.s, gas/cfi/cfi-m68k.d: New test.
	* gas/cfi/cfi.exp (run_list_test): Run it.
@
text
@d1 6
@


1.528
log
@gas:
2003-08-06  Jason Eckhardt  <jle@@rice.edu>

        * config/tc-i860.c (i860_handle_align): New function.
        * config/tc-i860.h (HANDLE_ALIGN): Define macro.
        (MAX_MEM_FOR_RS_ALIGN_CODE): Define macro.

gas/testsuite:
2003-08-06  Jason Eckhardt  <jle@@rice.edu>

        * gas/i860/dir-align01.{s,d}: New files.
        * gas/i860/i860.exp: Execute the new test above.
@
text
@d1 5
@


1.527
log
@gas:
2003-08-06  Jason Eckhardt  <jle@@rice.edu>

        * config/tc-i860.c (i860_process_insn): Check that instructions
        with their dual-bit set are 8-byte aligned.

gas/testsuite:
2003-08-06  Jason Eckhardt  <jle@@rice.edu>

        * gas/i860/dual02-err.l: Update expected error message.
        * gas/i860/README.i860: Remove dual02-err from known failure list.
@
text
@d3 5
@


1.526
log
@2003-08-05  Jason Eckhardt  <jle@@rice.edu>

        * gas/i860/README.i860: Remove dual01 from the known failures.
@
text
@d1 5
@


1.525
log
@2003-08-05  Jason Eckhardt  <jle@@rice.edu>

        * gas/i860/dir-intel01.{s,d}: New files.
        * gas/i860/dir-intel02.{s,d}: New files.
        * gas/i860/dir-intel03-err.{s,l}: New files.
        * gas/i860/i860.exp: Execute the above new tests.
@
text
@d3 4
@


1.524
log
@2003-08-03  Jason Eckhardt  <jle@@rice.edu>

        * gas/i860/*.d: Prefix name with "i860".
@
text
@d1 7
@


1.523
log
@2003-08-03  Jason Eckhardt  <jle@@rice.edu>

        * gas/i860/dual01.{s,d}: New files.
        * gas/i860/dual02-err.{s,l}: New files.
        * gas/i860/dual03.{s,d}: New files.
        * gas/i860/i860.exp: Execute the above new tests.
        * gas/i860/README.i860: Update.
@
text
@d3 4
@


1.522
log
@Adjust for objdump -d change.
@
text
@d1 8
@


1.521
log
@2003-08-01  Jason Eckhardt  <jle@@rice.edu>

        * gas/i860/README.i860: New file.
@
text
@d1 24
@


1.520
log
@Remove empty .text disassembly
@
text
@d1 4
@


1.519
log
@gas/

2003-07-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* config/obj-elf.c (obj_elf_section_type): Also accept "note".

gas/testsuite/

2003-07-28  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/elf/elf.exp: Add section3 for note section.

	* gas/elf/section3.d: New file.
	* gas/elf/section3.s: Likewise.
@
text
@d1 4
@


1.518
log
@Update tests for corrected section attributes and objdump change.
@
text
@d1 7
@


1.517
log
@	* gas/m68hc11/m68hc11.exp: Execute the new tests.
	* gas/m68hc11/abi.s: New test for abi elf flags.
	* gas/m68hc11/abi-m68hc11-32-64.d: Test for 32-bit int, 64-bit float.
	* gas/m68hc11/abi-m68hc11-16-64.d: Test for 16-bit int, 64-bit float.
	* gas/m68hc11/abi-m68hc11-32-32.d: Test for 32-bit int, 32-bit float.
	* gas/m68hc11/abi-m68hc11-16-32.d: Test for 16-bit int, 32-bit float.
@
text
@d1 10
@


1.516
log
@include/opcode/
	* mips.h (CPU_RM7000): New macro.
	(OPCODE_IS_MEMBER): Match CPU_RM7000 against 4650 insns.

bfd/
	* archures.c (bfd_mach_mips7000): New.
	* bfd-in2.h: Regenerated.
	* cpu-mips.c (arch_info_struct): Add an entry for mips:7000.
	* elfxx-mips.c (mips_set_isa_flags): Handle bfd_mach_mips7000.
	(mips_mach_extensions): Add an entry for it.

opcodes/
	* mips-dis.c (mips_arch_choices): Add rm7000 and rm9000 entries.

gas/
	* config/tc-mips.c (hilo_interlocks): True for CPU_RM7000.
	(mips_cpu_info_table): Add rm7000 and rm9000 entries.

gas/testsuite/
	* gas/mips/rm7000.[sd]: New test.
	* gas/mips/mips.exp: Run it.
@
text
@d1 9
@


1.515
log
@	* config/tc-ppc.h (DWARF2_LINE_MIN_INSN_LENGTH): Define always.
	(TARGET_USE_CFIPOP, tc_cfi_frame_initial_instructions,
	tc_regname_to_dw2regnum, DWARF2_DEFAULT_RETURN_COLUMN,
	DWARF2_CIE_DATA_ALIGNMENT): Define.
	(ppc_cfi_frame_initial_instructions, tc_ppc_regname_to_dw2regnum): New
	prototypes.
	(ppc_cie_data_alignment): Declare.
	* config/tc-ppc.c: Include dw2gencfi.h.
	(ppc_cie_data_alignment): Define.
	(md_begin): Initialize ppc_cie_data_alignment.
	(ppc_cfi_frame_initial_instructions, tc_ppc_regname_to_dw2regnum): New
	functions.
	* config/tc-s390.h (DWARF2_LINE_MIN_INSN_LENGTH): Define always.
	(TARGET_USE_CFIPOP, tc_cfi_frame_initial_instructions,
	tc_regname_to_dw2regnum, DWARF2_DEFAULT_RETURN_COLUMN,
	DWARF2_CIE_DATA_ALIGNMENT): Define.
	(s390_cfi_frame_initial_instructions, tc_s390_regname_to_dw2regnum):
	New prototypes.
	(s390_cie_data_alignment): Declare.
	* config/tc-s390.c: Include dw2gencfi.h.
	(s390_cie_data_alignment): Define.
	(md_begin): Initialize s390_cie_data_alignment.
	(s390_cfi_frame_initial_instructions, tc_s390_regname_to_dw2regnum):
	New functions.

	* gas/cfi/cfi-ppc-1.s: New test.
	* gas/cfi/cfi-ppc-1.d: New test.
	* gas/cfi/cfi-s390-1.s: New test.
	* gas/cfi/cfi-s390-1.s: New test.
	* gas/cfi/cfi-s390x-1.s: New test.
	* gas/cfi/cfi-s390x-1.s: New test.
	* gas/cfi/cfi.exp: Run them.
@
text
@d1 5
@


1.514
log
@2002-02-20  Alexandre Oliva  <aoliva@@redhat.com>
* gas/mn10300/am33-2.c (d8pcsec): PC-relative relocations within
text sections don't decay to section+offset.
* gas/mn10300/am33-2.d: Rebuilt.
2000-08-15  Eric Christopher  <echristo@@cygnus.com>
* gas/mn10300/am33-2.c (d8pcsec): New Function
(condjmp): Adjust testcase for TC_LINKRELAX_FIXUP
functionality.
* gas/mn10300/am33-2.d: Regenerate
2000-05-24  Alexandre Oliva  <aoliva@@cygnus.com>
* gas/mn10300/am33-2.c (d8pcoff): Likewise.
* gas/mn10300/am33-2.d: Rebuilt.
2000-04-01  Alexandre Oliva  <aoliva@@cygnus.com>
* gas/mn10300/am33-2.c (main): Changed `.am332' to `.am33_2'.
Replaced `AM33 2.0' with `AM33/2.0'.
* gas/mn10300/am33-2.d, gas/mn10300/am33-2.s: Rebuilt.
2000-03-31  Alexandre Oliva  <aoliva@@cygnus.com>
* gas/mn10300/am33-2.c: New file, that generated...
* gas/mn10300/am33-2.s, gas/mn10300/am33-2.d: New files.
* gas/mn10300/basic.exp: Test am33-2.
@
text
@d1 10
@


1.513
log
@[ gas/ChangeLog ]
2003-07-08  Chris Demetriou  <cgd@@broadcom.com>

        * config/tc-mips.c (mips_validate_fix): Do not warn about branch
        target being a global symbol if not compiling SVR4 PIC code.

[ gas/testsuite/ChangeLog ]
2003-07-08  Chris Demetriou  <cgd@@broadcom.com>

        * gas/testsuite/gas/mips/mips.exp: Make sure that branch-misc-2 is
        run to compile non-PIC code, and add branch-misc-2pic.
        * gas/mips/branch-misc-2.l: Adjust for change in non-PIC warnings.
        * gas/mips/branch-misc-2pic.l: New file.
        * gas/mips/branch-misc-2pic.s: New file.
@
text
@d1 23
@


1.512
log
@	* config/tc-h8300.c (h8300sxnmode): Add prototype.
	(DSYMMODE): Remove.
	(parse_exp): Replace expressionS argument with a h8_op.  Parse the
	operand size as well.
	(skip_colonthing): Remove unused expression argument.  Tighten checks
	for 2-digit sizes.
	(colonmod24): Remove.
	(get_mova_operands): Combine calls to parse_exp and skip_colonthing.
	(get_operand): Likewise.  Use the standard code to read the size of
	pc-relative operands.
	(fix_operand_size): Include the size-guessing logic that used to be
	in colonmod24 and get_operand.  Don't apply dd:2 optimizations to
	offsets with a symbolic component.

testsuite/
	* gas/h8300/h8sx_disp2.[sd]: Add tests for symbolic displacements.
@
text
@d1 8
@


1.511
log
@	* gas/ppc/test2elf64.s: Rename to..
	* gas/ppc/power4.s: ..this.  Add mtcr and mfcr testcases.
	* gas/ppc/test2elf64.d: Rename to..
	* gas/ppc/power4.d: ..this.  Update.
	* gas/ppc/ppc.exp: Update.
@
text
@d1 4
@


1.510
log
@	* gas/mips/set-arch.d: Fix GPR names and show raw insns.
@
text
@d1 8
@


1.509
log
@	* ld-mips-elf/elf-rel-got-n64-linux.d: New file.
	* ld-mips-elf/elf-rel-xgot-n64-linux.d: New file.
	* ld-mips-elf/mips-elf.exp: Use the new files for Linux.
@
text
@d1 4
@


1.508
log
@include/opcode/
	* h8300.h (IMM2_NS, IMM8_NS, IMM16_NS): Remove.
	(IMM8U, IMM8U_NS): Define.
	(h8_opcodes): Use IMM8U_NS for mov.[wl] #xx:8,@@yy.

gas/
	* config/tc-h8300.c (get_specific): Allow ':8' to be used for
	unsigned 8-bit operands.

gas/testsuite/
	* gas/h8300/h8sx_mov_imm.[sd]: Add tests for mov.[wl] #xx:8,@@yy.
@
text
@d1 6
@


1.507
log
@	* gas/h8300/h8300.exp (h8sx_disp2, h8sx_rtsl, h8sx_mov_imm): Move...
	* gas/h8300/h8300-elf.exp: ...here.
@
text
@d1 4
@


1.506
log
@gas/

2003-06-23  H.J. Lu <hongjiu.lu@@intel.com>

	* gas/config/tc-i386.c (md_assemble): Support Intel Precott New
	Instructions.

	* gas/config/tc-i386.h (CpuPNI): New.
	(CpuUnknownFlags): Add CpuPNI.

gas/testsuite/

2003-06-23  H.J. Lu <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Add prescott.

	* gas/i386/prescott.d: New file.
	* gas/i386/prescott.s: Likewise.

include/opcode/

2003-06-23  H.J. Lu <hongjiu.lu@@intel.com>

	* i386.h (i386_optab): Support Intel Precott New Instructions.

opcodes/

2003-06-23  H.J. Lu <hongjiu.lu@@intel.com>

	* i386-dis.c (PNI_Fixup): New. Fix up "mwait" and "monitor" in
	Intel Precott New Instructions.
	(PREGRP27): New. Added for "addsubpd" and "addsubps".
	(PREGRP28): New. Added for "haddpd" and "haddps".
	(PREGRP29): New. Added for "hsubpd" and "hsubps".
	(PREGRP30): New. Added for "movsldup" and "movddup".
	(PREGRP31): New. Added for "movshdup" and "movhpd".
	(PREGRP32): New. Added for "lddqu".
	(dis386_twobyte): Use PREGRP30 to replace the "movlpX" entry.
	Use PREGRP31 to replace the "movhpX" entry. Use PREGRP28 for
	entry 0x7c. Use PREGRP29 for entry 0x7d. Use PREGRP27 for
	entry 0xd0. Use PREGRP32 for entry 0xf0.
	(twobyte_has_modrm): Updated.
	(twobyte_uses_SSE_prefix): Likewise.
	(grps): Use PNI_Fixup in the "sidtQ" entry.
	(prefix_user_table): Add PREGRP27, PREGRP28, PREGRP29, PREGRP30,
	PREGRP31 and PREGRP32.
	(float_mem): Use "fisttp{l||l|}" in entry 1 in opcode 0xdb.
	Use "fisttpll" in entry 1 in opcode 0xdd.
	Use "fisttp" in entry 1 in opcode 0xdf.
@
text
@d1 5
@


1.505
log
@	* config/tc-mips.c (ADDRESS_ADD_INSN,ADDRESS_ADDI_INSN): Remove
	special handling for n32 ABI.
	(macro): Likewise.
	* gas/mips/elf-rel-got-n32.d: Remove special handling for n32 ABI.
	* gas/mips/elf-rel-xgot-n32.d: Likewise.
	* gas/mips/jal-newabi.d: Likewise.
	* ld-mips-elf/elf-rel-got-n32.d: Remove special handling for n32 ABI.
	* ld-mips-elf/elf-rel-xgot-n32.d: Likewise.
@
text
@d1 7
@


1.504
log
@	* gas/z8k: New directory.
	* gas/z8k/dec.s: New file.
	* gas/z8k/decbf.s: New file.
	* gas/z8k/decf.s: New file.
	* gas/z8k/eidi.s: New file.
	* gas/z8k/eidif.s: New file.
	* gas/z8k/inc.s: New file.
	* gas/z8k/incbf.s: New file.
	* gas/z8k/incf.s: New file.
	* gas/z8k/inout.d: New file.
	* gas/z8k/inout.s: New file.
	* gas/z8k/jr-back.s: New file.
	* gas/z8k/jr-backf.s: New file.
	* gas/z8k/jr-forw.s: New file.
	* gas/z8k/jr-forwf.s: New file.
	* gas/z8k/ldk.s: New file.
	* gas/z8k/ldkf.s: New file.
	* gas/z8k/z8k.exp: New file.
@
text
@d1 6
@


1.503
log
@	* dw2gencfi.c (EH_FRAME_ALIGNMENT): Define if not defined.
	(output_cie): Don't pad.
	(output_fde): Add align argument.  Pad to align if not 0.
	(cfi_finish): Set .eh_frame alignment to EH_FRAME_ALIGNMENT.
	Pad just last FDE to EH_FRAME_ALIGNMENT.

	* gas/cfi/cfi-i386.d: Regenerated.
	* gas/cfi/cfi-common-1.d: Regenerated.
	* gas/cfi/cfi-common-2.d: Regenerated.
	* gas/cfi/cfi-common-3.d: Regenerated.
	* gas/cfi/cfi-x86_64.d: Regenerated.
	* gas/cfi/cfi-alpha-1.d: Regenerated.
	* gas/cfi/cfi-alpha-2.d: Regenerated.
	* gas/cfi/cfi-alpha-3.d: Regenerated.
@
text
@d1 21
@


1.502
log
@Tweak expected results for i386-pc-cygwin target.
@
text
@d1 11
@


1.501
log
@Allow system-specific gunk after canonical file format.
@
text
@d1 6
@


1.500
log
@	* gas/cris: Match output having $ register prefix.  Deal with
	target variants default requiring register prefix on input.
@
text
@d1 11
@


1.499
log
@* gas/arm/arm.exp: Pass -mfpu=fpa option to the FPA instruction test.
@
text
@d1 5
@


1.498
log
@	* config/tc-mips.c (append_insn): In a compound relocation, take the
	field width from the final (outermost) operator.
@
text
@d1 4
@


1.497
log
@        * dw2gencfi.c (struct cfi_escape_data): New.
        (cfi_add_CFA_nop): Remove.
        (CFI_escape, dot_cfi_escape): New.
        (dot_cfi): Remove nop.
        (cfi_pseudo_table): Remove nop; add escape.
        (output_cfi_insn): Likewise.
        (select_cie_for_fde): Stop on escape.
        * dw2gencfi.h (cfi_add_CFA_nop): Remove.
        * read.c, read.h (do_parse_cons_expression): New.
        * doc/as.texinfo (.cfi_escape): New.

        * gas/cfi/cfi-common-3.[ds]: New.
        * gas/cfi/cfi.exp: Run it.
@
text
@d1 5
@


1.496
log
@	* gas/macros/app1.d: Ignore section symbols.
	* gas/macros/app2.d: Likewise.
	* gas/macros/app3.d: Likewise.
	* gas/macros/app4.d: Likewise.
@
text
@d1 5
@


1.495
log
@	* gas/mips/mips.exp: Fix typo.
	* gas/mips/elempic.d: Force o64 ABI.
	* gas/mips/telempic.d: Likewise.
	* ld-mips-elf/rel32-n32.d: Force big endian assembly.
	* ld-mips-elf/rel32-o32.d: Likewise.
	* ld-mips-elf/rel64.d: Likewise.
@
text
@d1 7
@


1.494
log
@	* gas/cfi/cfi.exp: Use here.  Only run tests when ELF.
	* gas/macros/and.s: Avoid .set so we don't break mips.
@
text
@d1 6
@


1.493
log
@	* gas/macros/and.s: Avoid .set so we don't break mips.
@
text
@d3 2
@


1.492
log
@	* gas/macros/and.s: New.
	* gas/macros/macros.exp: Assemble it.
@
text
@d3 4
@


1.491
log
@Add "attn", "lq" and "stq" power4 insns.
@
text
@d1 5
@


1.490
log
@include/opcode/
	* h8300.h (IMM4_NS, IMM8_NS): New.
	(h8_opcodes): Replace IMM4 with IMM4_NS in mov.b and mov.w entries.
	Likewise IMM8 for mov.w and mov.l.  Likewise IMM16U for mov.l.

gas/testsuite
	* gas/h8300/h8sx_mov_imm.[sd]: New test.
	* gas/h8300/h8300.exp: Run it.
@
text
@d1 5
@


1.489
log
@opcodes/
	* h8300-dis.c (bfd_h8_disassemble): Don't print brackets round
	rts/l and rte/l register lists.

gas/
	* config/tc-h8300.c (get_rtsl_operands): Accept unbracketed register
	lists.  Allow single-register ranges.

testsuite/
	* gas/h8300/h8sx_rtsl.[sd]: New test.
	* gas/h8300/h8300.exp: Run it.
@
text
@d3 5
@


1.488
log
@	* gas/h8300/h8sx_disp2.[sd]: New test.
	* gas/h8300/h8300.exp: Run it.
@
text
@d3 5
@


1.487
log
@        * dw2gencfi.c (struct cfa_save_data, cfa_save_stack): New.
        (cfi_add_CFA_offset): Detect invalid offsets.
        (cfi_add_CFA_remember_state): Save cur_cfa_offset.
        (cfi_add_CFA_restore_state): Restore it.
        (CFI_rel_offset): New.
        (cfi_pseudo_table): Add it.
        (dot_cfi): Handle it.

        * gas/cfi/cfi-common-1.d, gas/cfi/cfi-common-1.s: New.
        * gas/cfi/cfi-common-2.d, gas/cfi/cfi-common-2.s: New.
        * gas/cfi/cfi-diag-1.d, gas/cfi/cfi-diag-1.s: New.
        * gas/cfi/cfi.exp: Run them.
@
text
@d1 5
@


1.486
log
@2003-06-05  Michael Snyder  <msnyder@@redhat.com>

	* gas/h8300/t01_mov.s: New file, tests mov instructions.
	* gas/h8300/t02_mova.s: New file, tests mova instructions.
	* gas/h8300/t03_add.s: New file, tests add instructions.
	* gas/h8300/t04_sub.s: New file, tests sub instructions.
	* gas/h8300/t05_cmp.s: New file, tests cmp instructions.
	* gas/h8300/t06_ari2.s: New file, tests arithmetic instructions.
	* gas/h8300/t07_ari3.s: New file, tests arithmetic instructions.
	* gas/h8300/t08_or.s: New file, tests or instructions.
	* gas/h8300/t09_xor.s: New file, tests xor instructions.
	* gas/h8300/t10_and.s: New file, tests and instructions.
	* gas/h8300/t11_logs.s: New file, tests logical instructions.
	* gas/h8300/t12_bit.s: New file, tests bit instructions.
	* gas/h8300/t13_otr.s.s: New file, tests misc. instructions.
	* gas/h8300/t01_mov.exp: New file.
	* gas/h8300/t02_mova.exp: New file.
	* gas/h8300/t03_add.exp: New file.
	* gas/h8300/t04_sub.exp: New file.
	* gas/h8300/t05_cmp.exp: New file.
	* gas/h8300/t06_ari2.exp: New file.
	* gas/h8300/t07_ari3.exp: New file.
	* gas/h8300/t08_or.exp: New file.
	* gas/h8300/t09_xor.exp: New file.
	* gas/h8300/t10_and.exp: New file.
	* gas/h8300/t11_logs.exp: New file.
	* gas/h8300/t12_bit.exp: New file.
	* gas/h8300/t13_otr.exp: New file.
@
text
@d1 7
@


1.485
log
@        * config/tc-alpha.c (s_alpha_usepv): New.
        (md_pseudo_table): Add it.
        (alpha_cfi_frame_initial_instructions): New.
        * config/tc-alpha.h (TARGET_USE_CFIPOP): New.
        (tc_cfi_frame_initial_instructions): New.
        * doc/c-alpha.texi: Document .usepv.

        * gas/alpha/elf-usepv-1.[sd]: New.
        * gas/alpha/elf-usepv-2.[sd]: New.
        * gas/alpha/alpha.exp: Run them.
        * gas/cfi/cfi-alpha-3.[sd]: New.
        * gas/cfi/cfi.exp: Run it.
@
text
@d1 29
@


1.484
log
@        * dw2gencfi.c (output_fde): Use fix_new to emit pc-relative reloc.
        (cfi_finish): Set flag_traditional_format around .eh_frame data.

        * gas/alpha/elf-reloc-8.d: Correct .eh_frame relocs.
        * gas/cfi/cfi-alpha-2.d: New.
        * gas/cfi/cfi-alpha-2.s: New.
        * gas/cfi/cfi.exp: Run it.
@
text
@d1 8
@


1.483
log
@        * config/tc-alpha.c (alpha_cur_ent_sym): Remove.
        (all_frame_data, plast_frame_data, cur_frame_data): New.
        (s_alpha_ent): Record data for dwarf2 cfi.
        (s_alpha_end, s_alpha_mask, s_alpha_frame, s_alpha_prologue): Likewise.[
        (alpha_elf_md_end): Emit dwarf2 cfi for ecoff unwind directives.
        * config/tc-alpha.h (md_end): New.
        (DWARF2_DEFAULT_RETURN_COLUMN): New.
        (DWARF2_CIE_DATA_ALIGNMENT): New.

        * gas/alpha/elf-reloc-8.d: Add .eh_frame relocs.
        * gas/cfi/cfi-alpha-1.d: New.
        * gas/cfi/cfi-alpha-1.s: New.
        * gas/cfi/cfi.exp: Run it.
@
text
@d1 7
@


1.482
log
@        * dw2gencfi.c, dw2gencfi.h: Rewrite from scratch.
        * as.c (main): Always call cfi_finish.
        * config/tc-i386.c (x86_dwarf2_return_column): New.
        (x86_cie_data_alignment): New.
        (md_begin): Set them.
        (tc_x86_cfi_init): Remove.
        (tc_x86_regname_to_dw2regnum): Fix 32-bit register numbers;
        return int, not unsigned long; don't as_bad here.
        (tc_x86_frame_initial_instructions): Streamline; use
        updated api.
        * config/tc-i386.h (tc_cfi_init): Remove.
        (DWARF2_DEFAULT_RETURN_COLUMN): New.
        (DWARF2_CIE_DATA_ALIGNMENT): New.

        * gas/cfi/cfi-i386.d: Update for dw2gencfi rewrite.
        * gas/cfi/cfi-x86_64.d: Likewise.
        * gas/cfi/cfi-i386-2.d: New.
        * gas/cfi/cfi-i386-2.s: New.
@
text
@d1 7
@


1.481
log
@2003-05-23  Jason Eckhardt  <jle@@rice.edu>
gas:
        * config/tc-i860.c (target_xp): Declare variable.
        (OPTION_XP): Declare macro.
        (md_longopts): Add option -mxp.
        (md_parse_option): Set target_xp.
        (md_show_usage): Add -mxp usage.
        (i860_process_insn): Recognize XP registers bear, ccr, p0-p3.
        (md_assemble): Don't try expansions if XP_ONLY is set.
        * doc/c-i860.texi: Document -mxp option.

gas/testsuite:
        * gas/i860/xp.s: New file.
        * gas/i860/xp.d: New file.

include/opcode:
        * i860.h (expand_type): Add XP_ONLY.
        (scyc.b): New XP instruction.
        (ldio.l): Likewise.
        (ldio.s): Likewise.
        (ldio.b): Likewise.
        (ldint.l): Likewise.
        (ldint.s): Likewise.
        (ldint.b): Likewise.
        (stio.l): Likewise.
        (stio.s): Likewise.
        (stio.b): Likewise.
        (pfld.q): Likewise.

opcodes:
        * i860-dis.c (crnames): Add bear, ccr, p0, p1, p2, p3.
        (print_insn_i860): Grab 4 bits of the control register field
        instead of 3.
@
text
@d1 7
@


1.480
log
@* gas/i860/i860.exp: Don't call exit if the target isn't an i860.
@
text
@d1 5
@


1.479
log
@	* gas/mips/jal-newabi.s: New file, testcase for NewABI xgot jal macro.
	* gas/mips/jal-newabi.d: Likewise.
	* gas/mips/mips.exp: Add new testcase.
@
text
@d1 4
@


1.478
log
@	* config/tc-hppa.c (hppa_symbol_chars): Remove `,' and `!'.
	* testsuite/gas/hppa/parse/parse.exp: Add "space.s".
	* testsuite/gas/hppa/parse/space.s: New file to test spaces.
@
text
@d1 6
@


1.477
log
@2003-05-20  Jason Eckhardt  <jle@@rice.edu>

        * gas/i860/branch.{s,d}: New files.
        * gas/i860/system.{s,d}: New files.
@
text
@d1 5
@


1.476
log
@2003-05-20  Jason Eckhardt  <jle@@rice.edu>

	* gas/i860/bitwise.{s,d}: New files.
	* gas/i860/bte.{s,d}: New files.
	* gas/i860/fldst01.{s,d}: New files.
	* gas/i860/fldst02.{s,d}: New files.
	* gas/i860/fldst03.{s,d}: New files.
	* gas/i860/fldst04.{s,d}: New files.
	* gas/i860/fldst05.{s,d}: New files.
	* gas/i860/fldst06.{s,d}: New files.
	* gas/i860/fldst07.{s,d}: New files.
	* gas/i860/fldst08.{s,d}: New files.
	* gas/i860/float01.{s,d}: New files.
	* gas/i860/float02.{s,d}: New files.
	* gas/i860/float03.{s,d}: New files.
	* gas/i860/float04.{s,d}: New files.
	* gas/i860/form.{s,d}: New files.
	* gas/i860/iarith.{s,d}: New files.
	* gas/i860/ldst01.{s,d}: New files.
	* gas/i860/ldst02.{s,d}: New files.
	* gas/i860/ldst03.{s,d}: New files.
	* gas/i860/ldst04.{s,d}: New files.
	* gas/i860/ldst05.{s,d}: New files.
	* gas/i860/ldst06.{s,d}: New files.
	* gas/i860/pfam.{s,d}: New files.
	* gas/i860/pfmam.{s,d}: New files.
	* gas/i860/pfmsm.{s,d}: New files.
	* gas/i860/pfsm.{s,d}: New files.
	* gas/i860/regress01.{s,d}: New files.
	* gas/i860/shift.{s,d}: New files.
	* gas/i860/simd.{s,d}: New files.
@
text
@d3 5
@


1.475
log
@2003-05-20  Jason Eckhardt  <jle@@rice.edu>

        * gas/i860: New directory.
        * gas/i860/i860.exp: New file.
@
text
@d3 32
@


1.474
log
@	* gas/cfi/cfi.exp: Testsuite for cfi machinery.
	* gas/cfi/cfi-x86_64.[sd]: Files for x86-64.
	* gas/cfi/cfi-i386.[sd]: Files for i386.
@
text
@d1 5
@


1.473
log
@	* gas/mips/mips.exp: mips-*-linux-*, mipsel-*-linux-* use only 32-bit
	register width by default. Add them to addr32 and exclude offending
	testcases.
	* gas/mips/delay.s: Avoid odd floating point registers.
	* gas/mips/delay.d: Likewise.
	* gas/mips/nodelay.d: Likewise.
	* gas/mips/mips4.s: Likewise.
	* gas/mips/mips4.d: Likewise.
	* gas/mips/mips5.s: Likewise.
	* gas/mips/mips5.d: Likewise.
	* gas/mips/vr5400.s: Likewise.
	* gas/mips/vr5400.d: Likewise.
	* gas/mips/vr5500.s: Likewise.
	* gas/mips/vr5500.d: Likewise.
	* gas/mips/elf_e_flags2.d: Allow different expansions of the move
	macro.
	* gas/mips/elf_e_flags3.d: Likewise.
	* gas/mips/elf_e_flags4.d: Likewise.
	* gas/mips/uld2-eb.d: Likewise.
	* gas/mips/uld2-el.d: Likewise.
@
text
@d1 6
d46 1
a46 1
	* gas/ia64/alias.s: New. 
d183 2
a184 2
        * gas/elf/symver.s: New test case.
        * gas/elf/symver.d: Expected output.
d207 2
a208 2
        * gas/m32r/signed-relocs.s: New file: Test signed relocs.
        * gas/m32r/signed-relocs.d: New file: Expected results
d262 7
a268 7
        * gas/xtensa/all.exp: New file.
        * gas/xtensa/entry_align.s: Likewise.
        * gas/xtensa/entry_misalign2.s: Likewise.
        * gas/xtensa/entry_misalign.s: Likewise.
        * gas/xtensa/j_too_far.s: Likewise.
        * gas/xtensa/loop_align.s: Likewise.
        * gas/xtensa/loop_misalign.s: Likewise.
d272 1
a272 1
	    
d309 1
a309 1
        * gas/all/test-examples.c: New file: Example of a file using
d312 1
a312 1
        * gas/arm/maverick.c: Rework to produce correct test files and
d314 3
a316 3
        * gas/arm/maverick.s: Regenerate.
        * gas/arm/maverick.d: Regenerate.
        * gas/arm/arm.exp: Always run Maverick tests.
d495 2
a496 2
        * lib/gas-defs.exp (run_dump_test): Add a new optional argument,
        "extra_options".
d559 2
a560 2
	* gas/ia64/opc-x.d: Regenerate.	
	
d640 1
a640 1
	
@


1.472
log
@Replace i[3456]86 with i[3-7]86
@
text
@d1 23
@


1.471
log
@Correct annotation last entry
@
text
@d1 4
@


1.470
log
@	* gas/macros/app1.s, gas/macros/app1.d, gas/macros/app2.s,
	gas/macros/app2.d, gas/macros/app3.s, gas/macros/app3.d,
	gas/macros/app4.s, gas/macros/app4b.s, gas/macros/app4.d: New
	tests.
	* gas/macros/macros.exp: Run them.
@
text
@d1 1
a1 1
2003-05-13  Hans-Peter Nilsson  <hp@@bitrange.com>
@


1.469
log
@gas/

2003-05-07  H.J. Lu <hongjiu.lu@@intel.com>

	* config/tc-ia64.c (alias_hash): New.
	(alias_name_hash): New.
	(secalias_hash): New.
	(secalias_name_hash): New.
	(md_pseudo_table): Add "secalias".
	(md_begin): Initialize alias_hash, alias_name_hash,
	secalias_hash and secalias_name_hash.
	(struct alias): New.
	(dot_alias): Implement .alias and .secalias directives.
	(do_alias): New.
	(ia64_adjust_symtab): New.
	(do_secalias): New.
	(ia64_frob_file): New.

	* config/tc-ia64.h (ia64_adjust_symtab): New.
	(tc_adjust_symtab): Defined.
	(ia64_frob_file): New.
	(tc_frob_file): Defined.

gas/testsuite/

2003-05-07  H.J. Lu <hongjiu.lu@@intel.com>

	* gas/ia64/ia64.exp: Add alias.

	* gas/ia64/alias.s: New.
	* gas/ia64/alias.d: Likewise.
@
text
@d1 8
@


1.468
log
@* gas/mips/abs.d, gas/mips/add.d, gas/mips/and.d,
gas/mips/beq.d, gas/mips/bge.d, gas/mips/bgeu.d,
gas/mips/blt.d, gas/mips/bltu.d, gas/mips/branch-misc-1.d,
gas/mips/break20.d, gas/mips/cp0sel-names-mips32.d,
gas/mips/cp0sel-names-mips32r2.d,
gas/mips/cp0sel-names-mips64.d,
gas/mips/cp0sel-names-numeric.d, gas/mips/cp0sel-names-sb1.d,
gas/mips/elf-jal.d, gas/mips/elf-rel.d, gas/mips/elf-rel2.d,
gas/mips/elf-rel3.d, gas/mips/elf-rel4.d, gas/mips/elf-rel5.d,
gas/mips/elf-rel6.d, gas/mips/elf-rel7.d,
gas/mips/elf_arch_mips1.d, gas/mips/elf_arch_mips2.d,
gas/mips/elf_arch_mips3.d, gas/mips/elf_arch_mips32.d,
gas/mips/elf_arch_mips32r2.d, gas/mips/elf_arch_mips4.d,
gas/mips/elf_arch_mips5.d, gas/mips/elf_arch_mips64.d,
gas/mips/elf_ase_mips16.d, gas/mips/empic.d,
gas/mips/empic2.d, gas/mips/empic3_e.d, gas/mips/empic3_g1.d,
gas/mips/empic3_g2.d, gas/mips/hwr-names-mips32r2.d,
gas/mips/hwr-names-numeric.d, gas/mips/jal-empic-elf-2.d,
gas/mips/jal-empic-elf-3.d, gas/mips/jal-empic-elf.d,
gas/mips/jal-svr4pic.d, gas/mips/jal-xgot.d, gas/mips/jal.d,
gas/mips/la-empic.d, gas/mips/la-svr4pic.d,
gas/mips/la-xgot.d, gas/mips/la.d, gas/mips/lb-empic.d,
gas/mips/lb-svr4pic.d, gas/mips/lb-xgot-ilocks.d,
gas/mips/lb-xgot.d, gas/mips/lb.d, gas/mips/ld-empic.d,
gas/mips/ld-svr4pic.d, gas/mips/ld-xgot.d, gas/mips/ld.d,
gas/mips/li.d, gas/mips/lif-empic.d, gas/mips/lif-svr4pic.d,
gas/mips/lif-xgot.d, gas/mips/lifloat.d,
gas/mips/mips-gp32-fp32-pic.d, gas/mips/mips-gp32-fp32.d,
gas/mips/mips-gp32-fp64-pic.d, gas/mips/mips-gp32-fp64.d,
gas/mips/mips-gp64-fp32-pic.d, gas/mips/mips-gp64-fp32.d,
gas/mips/mips-gp64-fp64-pic.d, gas/mips/mips-gp64-fp64.d,
gas/mips/mips.exp, gas/mips/mips16-e.d, gas/mips/mips16-f.d,
gas/mips/mips32.d, gas/mips/mips32r2.d, gas/mips/mips4010.d,
gas/mips/mips4650.d, gas/mips/mips64.d, gas/mips/mipsel16-e.d,
gas/mips/mipsel16-f.d, gas/mips/rol-hw.d, gas/mips/rol.d,
gas/mips/sb.d, gas/mips/sync.d, gas/mips/tempic.d,
gas/mips/tmips16-e.d, gas/mips/tmips16-f.d,
gas/mips/tmipsel16-e.d, gas/mips/tmipsel16-f.d,
gas/mips/trunc.d, gas/mips/uld.d, gas/mips/ulh-empic.d,
gas/mips/ulh-svr4pic.d, gas/mips/ulh-xgot.d, gas/mips/ulh.d,
gas/mips/ulh2-eb.d, gas/mips/ulh2-el.d, gas/mips/ulw.d,
gas/mips/ulw2-eb.d, gas/mips/ulw2-eb-ilocks.d, gas/mips/ulw2-el.d,
gas/mips/ulw2-el-ilocks.d, gas/mips/usd.d, gas/mips/ush.d,
gas/mips/usw.d, gas/mips/vr4122.d: Added ABI specification.
gas/vtable/vtable.exp: mips64*-*-linux* and mips*-*-irix6* are
RELA.
@
text
@d1 7
@


1.467
log
@2003-05-03  H.J. Lu <hjl@@gnu.org>

	* gas/elf/symver.s: Use '%' instead of '@@' in .type.
	* gas/elf/type.s: Likewise.
@
text
@d1 49
@


1.466
log
@2003-05-03  H.J. Lu <hjl@@gnu.org>

	* gas/elf/elf.exp (run_list_test): Support pipe for readelf.

	* gas/elf/type.e-m32r: Removed.
	* gas/elf/type.e-mips: Likewise.
	* gas/elf/type.e-miwmmxt: Likewise.

	* gas/elf/type.e: Updated.
@
text
@d3 5
@


1.465
log
@gas/

2003-05-03  H.J. Lu <hjl@@gnu.org>

	* config/obj-elf.c (obj_elf_parse_section_letters): Make it a
	fatal error for unknown section attribute.

	* config/tc-alpha.c (alpha_elf_section_letter): Return -1 for
	unknown section attribute.
	* config/tc-ia64.c (ia64_elf_section_letter): Likewise.
	* config/tc-ppc.c (ppc_section_letter): Likewise.

	* config/tc-ia64.c (ia64_elf_section_letter): Handle 'o'.
	(ia64_elf_section_type): Accept "unwind".

gas/testsuite/

2003-05-03  H.J. Lu <hjl@@gnu.org>

	* gas/ia64/ia64.exp: Add unwind.

	* gas/ia64/unwind.s: New. Test the new section attribute 'o'
	and the new section type "unwind".
	* gas/ia64/unwind.d: Likewise.
@
text
@d3 10
@


1.464
log
@2003-05-02  Chris Demetriou  <cgd@@broadcom.com>

        * gas/mips/mips.exp (mips_arch_init): Reimplement in
        a way that's safe with ancient versions of tcl/expect.
@
text
@d1 8
@


1.463
log
@2003-05-01  Chris Demetriou  <cgd@@broadcom.com>

        * gas/mips/mips.exp (mips_arch_init): New function.
        Call it before setting up architecture array entries.
@
text
@d1 5
@


1.462
log
@2003-05-01  H.J. Lu <hjl@@gnu.org>

	* gas/elf/elf.exp (run_list_test): Accept empty $opts.
	Add type test.

	* gas/elf/type.e: New file.
	* gas/elf/type.s: Likewise.
	* gas/elf/type.e-m32r: Likewise.
	* gas/elf/type.e-mips: Likewise.
	* gas/elf/type.e-miwmmxt: Likewise.
@
text
@d1 5
@


1.461
log
@gas/

2003-05-01  H.J. Lu <hjl@@gnu.org>

	* config/tc-ia64.h (tc_canonicalize_section_name): New.

	* config/obj-elf.c (obj_elf_section_name): Call
	tc_canonicalize_section_name if it is defined.

gas/testsuite/

2003-05-01  H.J. Lu <hjl@@gnu.org>

	* gas/ia64/ia64.exp: Add secname.

	* gas/ia64/secname.s: New. Test the trailing '#' in section
	name.
	* gas/ia64/secname.d: Likewise.
@
text
@d3 11
@


1.460
log
@2003-05-01  H.J. Lu <hjl@@gnu.org>

	* gas/ia64/ia64.exp: Add "global".

	* gas/ia64/global.d: New file.
	* gas/ia64/global.s: Likewise.
@
text
@d3 8
@


1.459
log
@gas/

2003-04-30  H.J. Lu <hjl@@gnu.org>

	* config/tc-ia64.c (ia64_number_to_chars): New function pointer.
	(ia64_float_to_chars): Likewise.
	(dot_byteorder): Set target_big_endian, ia64_number_to_chars
	and ia64_float_to_chars by tc_segment_info_data.endian from
	the current segment if byteorder == -1.
	(md_begin): Call dot_byteorder to set target_big_endian.
	(md_atof): Call ia64_float_to_chars to convert floating point.
	(ia64_float_to_chars_bigendian): New function.
	(ia64_float_to_chars_littleendian): Likewise.
	(ia64_elf_section_change_hook): Likewise.

	* config/tc-ia64.h (ia64_number_to_chars): New.
	(md_number_to_chars): Changed to (*ia64_number_to_chars)
	(ia64_elf_section_change_hook): New.
	(md_elf_section_change_hook): Defined.
	(ia64_segment_info_type): New struct.
	(TC_SEGMENT_INFO_TYPE): Defined.

gas/testsuite/

2003-04-30  H.J. Lu <hjl@@gnu.org>

	* gas/ia64/ia64.exp: Add order.

	* gas/ia64/order.s: New file.
	* gas/ia64/order.d: Likewise.
@
text
@d1 7
@


1.458
log
@gas/

2003-04-30  H.J. Lu <hjl@@gnu.org>

	* config/tc-ia64.c (md_section_align): Deleted.

	* config/tc-ia64.h (SUB_SEGMENT_ALIGN): New.
	(md_section_align): New.

gas/testsuite/

2003-04-29  H.J. Lu <hjl@@gnu.org>

	* gas/ia64/ia64.exp: Add align.

	* gas/ia64/align.d: New file.
	* gas/ia64/align.s: Likewise.

	* ia64/dependency-1.d: Remove the padding.

ld/testsuite/

2003-04-29  H.J. Lu <hjl@@gnu.org>

	* ld-ia64/tlsbin.dd: Updated.
	* ld-ia64/tlsbin.rd: Likewise.
	* ld-ia64/tlsbin.sd: Likewise.
	* ld-ia64/tlsbin.td: Likewise.
	* ld-ia64/tlspic.rd: Likewise.
	* ld-ia64/tlspic.sd: Likewise.
	* ld-ia64/tlspic.td: Likewise.
@
text
@d1 7
@


1.457
log
@gas/

2003-04-30  H.J. Lu <hjl@@gnu.org>

	* config/tc-ia64.c (stmt_float_cons): Fix alignment for real10
	and add real16.
	(md_pseudo_table): Add "xreal16", "xreal16.ua", "real16" and
	"real16.ua".
	(md_atof): Add 6 byte padding of zero for real16.

gas/testsuite/

2003-04-29  H.J. Lu <hjl@@gnu.org>

	* gas/ia64/ia64.exp: Add real.

	* gas/ia64/real.s: New file.
	* gas/ia64/real.d: Likewise.
@
text
@d1 9
@


1.456
log
@Fix problem parsing symbol version strings when they are preceeded by whitespace.
Add test to catch this problem in the future.
@
text
@d1 7
@


1.455
log
@Add tests of conditional branch instructions with probability postfixes
@
text
@d1 6
@


1.455.2.1
log
@Skip whitespace before a symbol version string.
Add a test for this bug.
@
text
@a0 6
2003-04-29  Nick Clifton  <nickc@@redhat.com>

	* gas/elf/elf.exp: Invoke symver test.
        * gas/elf/symver.s: New test case.
        * gas/elf/symver.d: Expected output.

@


1.455.2.2
log
@2003-05-01  Chris Demetriou  <cgd@@broadcom.com>

        * gas/mips/mips.exp (mips_arch_init): New function.
        Call it before setting up architecture array entries.
@
text
@a0 5
2003-05-01  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/mips.exp (mips_arch_init): New function.
	Call it before setting up architecture array entries.

@


1.455.2.3
log
@2003-05-02  Chris Demetriou  <cgd@@broadcom.com>

        * gas/mips/mips.exp (mips_arch_init): Reimplement in
        a way that's safe with ancient versions of tcl/expect.
@
text
@a0 5
2003-05-02  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/mips.exp (mips_arch_init): Reimplement in
	a way that's safe with ancient versions of tcl/expect.

@


1.455.2.4
log
@	* gas/elf/symver.s: Use '%' instead of '@@' in .type.
@
text
@a0 4
2003-05-03  H.J. Lu <hjl@@gnu.org>

	* gas/elf/symver.s: Use '%' instead of '@@' in .type.

@


1.455.2.5
log
@	* gas/macros/app1.s, gas/macros/app1.d, gas/macros/app2.s,
	gas/macros/app2.d, gas/macros/app3.s, gas/macros/app3.d,
	gas/macros/app4.s, gas/macros/app4b.s, gas/macros/app4.d: New
	tests.
	* gas/macros/macros.exp: Run them.
@
text
@a0 8
2003-05-13  Hans-Peter Nilsson  <hp@@axis.com>

	* gas/macros/app1.s, gas/macros/app1.d, gas/macros/app2.s,
	gas/macros/app2.d, gas/macros/app3.s, gas/macros/app3.d,
	gas/macros/app4.s, gas/macros/app4b.s, gas/macros/app4.d: New
	tests.
	* gas/macros/macros.exp: Run them.

@


1.455.2.6
log
@	Merge from mainline:

	2003-05-06  Alexandre Oliva  <aoliva@@redhat.com>
	* gas/mips/abs.d, gas/mips/add.d, gas/mips/and.d,
	gas/mips/beq.d, gas/mips/bge.d, gas/mips/bgeu.d,
	gas/mips/blt.d, gas/mips/bltu.d, gas/mips/branch-misc-1.d,
	gas/mips/break20.d, gas/mips/cp0sel-names-mips32.d,
	gas/mips/cp0sel-names-mips32r2.d,
	gas/mips/cp0sel-names-mips64.d,
	gas/mips/cp0sel-names-numeric.d, gas/mips/cp0sel-names-sb1.d,
	gas/mips/elf-jal.d, gas/mips/elf-rel.d, gas/mips/elf-rel2.d,
	gas/mips/elf-rel3.d, gas/mips/elf-rel4.d, gas/mips/elf-rel5.d,
	gas/mips/elf-rel6.d, gas/mips/elf-rel7.d,
	gas/mips/elf_arch_mips1.d, gas/mips/elf_arch_mips2.d,
	gas/mips/elf_arch_mips3.d, gas/mips/elf_arch_mips32.d,
	gas/mips/elf_arch_mips32r2.d, gas/mips/elf_arch_mips4.d,
	gas/mips/elf_arch_mips5.d, gas/mips/elf_arch_mips64.d,
	gas/mips/elf_ase_mips16.d, gas/mips/empic.d,
	gas/mips/empic2.d, gas/mips/empic3_e.d, gas/mips/empic3_g1.d,
	gas/mips/empic3_g2.d, gas/mips/hwr-names-mips32r2.d,
	gas/mips/hwr-names-numeric.d, gas/mips/jal-empic-elf-2.d,
	gas/mips/jal-empic-elf-3.d, gas/mips/jal-empic-elf.d,
	gas/mips/jal-svr4pic.d, gas/mips/jal-xgot.d, gas/mips/jal.d,
	gas/mips/la-empic.d, gas/mips/la-svr4pic.d,
	gas/mips/la-xgot.d, gas/mips/la.d, gas/mips/lb-empic.d,
	gas/mips/lb-svr4pic.d, gas/mips/lb-xgot-ilocks.d,
	gas/mips/lb-xgot.d, gas/mips/lb.d, gas/mips/ld-empic.d,
	gas/mips/ld-svr4pic.d, gas/mips/ld-xgot.d, gas/mips/ld.d,
	gas/mips/li.d, gas/mips/lif-empic.d, gas/mips/lif-svr4pic.d,
	gas/mips/lif-xgot.d, gas/mips/lifloat.d,
	gas/mips/mips-gp32-fp32-pic.d, gas/mips/mips-gp32-fp32.d,
	gas/mips/mips-gp32-fp64-pic.d, gas/mips/mips-gp32-fp64.d,
	gas/mips/mips-gp64-fp32-pic.d, gas/mips/mips-gp64-fp32.d,
	gas/mips/mips-gp64-fp64-pic.d, gas/mips/mips-gp64-fp64.d,
	gas/mips/mips.exp, gas/mips/mips16-e.d, gas/mips/mips16-f.d,
	gas/mips/mips32.d, gas/mips/mips32r2.d, gas/mips/mips4010.d,
	gas/mips/mips4650.d, gas/mips/mips64.d, gas/mips/mipsel16-e.d,
	gas/mips/mipsel16-f.d, gas/mips/rol-hw.d, gas/mips/rol.d,
	gas/mips/sb.d, gas/mips/sync.d, gas/mips/tempic.d,
	gas/mips/tmips16-e.d, gas/mips/tmips16-f.d,
	gas/mips/tmipsel16-e.d, gas/mips/tmipsel16-f.d,
	gas/mips/trunc.d, gas/mips/uld.d, gas/mips/ulh-empic.d,
	gas/mips/ulh-svr4pic.d, gas/mips/ulh-xgot.d, gas/mips/ulh.d,
	gas/mips/ulh2-eb.d, gas/mips/ulh2-el.d, gas/mips/ulw.d,
	gas/mips/ulw2-eb.d, gas/mips/ulw2-eb-ilocks.d, gas/mips/ulw2-el.d,
	gas/mips/ulw2-el-ilocks.d, gas/mips/usd.d, gas/mips/ush.d,
	gas/mips/usw.d, gas/mips/vr4122.d: Added ABI specification.
	gas/vtable/vtable.exp: mips64*-*-linux* and mips*-*-irix6* are
	RELA.
@
text
@a0 52
2003-05-15  Daniel Jacobowitz  <drow@@mvista.com>

	Merge from mainline:

	2003-05-06  Alexandre Oliva  <aoliva@@redhat.com>
	* gas/mips/abs.d, gas/mips/add.d, gas/mips/and.d,
	gas/mips/beq.d, gas/mips/bge.d, gas/mips/bgeu.d,
	gas/mips/blt.d, gas/mips/bltu.d, gas/mips/branch-misc-1.d,
	gas/mips/break20.d, gas/mips/cp0sel-names-mips32.d,
	gas/mips/cp0sel-names-mips32r2.d,
	gas/mips/cp0sel-names-mips64.d,
	gas/mips/cp0sel-names-numeric.d, gas/mips/cp0sel-names-sb1.d,
	gas/mips/elf-jal.d, gas/mips/elf-rel.d, gas/mips/elf-rel2.d,
	gas/mips/elf-rel3.d, gas/mips/elf-rel4.d, gas/mips/elf-rel5.d,
	gas/mips/elf-rel6.d, gas/mips/elf-rel7.d,
	gas/mips/elf_arch_mips1.d, gas/mips/elf_arch_mips2.d,
	gas/mips/elf_arch_mips3.d, gas/mips/elf_arch_mips32.d,
	gas/mips/elf_arch_mips32r2.d, gas/mips/elf_arch_mips4.d,
	gas/mips/elf_arch_mips5.d, gas/mips/elf_arch_mips64.d,
	gas/mips/elf_ase_mips16.d, gas/mips/empic.d,
	gas/mips/empic2.d, gas/mips/empic3_e.d, gas/mips/empic3_g1.d,
	gas/mips/empic3_g2.d, gas/mips/hwr-names-mips32r2.d,
	gas/mips/hwr-names-numeric.d, gas/mips/jal-empic-elf-2.d,
	gas/mips/jal-empic-elf-3.d, gas/mips/jal-empic-elf.d,
	gas/mips/jal-svr4pic.d, gas/mips/jal-xgot.d, gas/mips/jal.d,
	gas/mips/la-empic.d, gas/mips/la-svr4pic.d,
	gas/mips/la-xgot.d, gas/mips/la.d, gas/mips/lb-empic.d,
	gas/mips/lb-svr4pic.d, gas/mips/lb-xgot-ilocks.d,
	gas/mips/lb-xgot.d, gas/mips/lb.d, gas/mips/ld-empic.d,
	gas/mips/ld-svr4pic.d, gas/mips/ld-xgot.d, gas/mips/ld.d,
	gas/mips/li.d, gas/mips/lif-empic.d, gas/mips/lif-svr4pic.d,
	gas/mips/lif-xgot.d, gas/mips/lifloat.d,
	gas/mips/mips-gp32-fp32-pic.d, gas/mips/mips-gp32-fp32.d,
	gas/mips/mips-gp32-fp64-pic.d, gas/mips/mips-gp32-fp64.d,
	gas/mips/mips-gp64-fp32-pic.d, gas/mips/mips-gp64-fp32.d,
	gas/mips/mips-gp64-fp64-pic.d, gas/mips/mips-gp64-fp64.d,
	gas/mips/mips.exp, gas/mips/mips16-e.d, gas/mips/mips16-f.d,
	gas/mips/mips32.d, gas/mips/mips32r2.d, gas/mips/mips4010.d,
	gas/mips/mips4650.d, gas/mips/mips64.d, gas/mips/mipsel16-e.d,
	gas/mips/mipsel16-f.d, gas/mips/rol-hw.d, gas/mips/rol.d,
	gas/mips/sb.d, gas/mips/sync.d, gas/mips/tempic.d,
	gas/mips/tmips16-e.d, gas/mips/tmips16-f.d,
	gas/mips/tmipsel16-e.d, gas/mips/tmipsel16-f.d,
	gas/mips/trunc.d, gas/mips/uld.d, gas/mips/ulh-empic.d,
	gas/mips/ulh-svr4pic.d, gas/mips/ulh-xgot.d, gas/mips/ulh.d,
	gas/mips/ulh2-eb.d, gas/mips/ulh2-el.d, gas/mips/ulw.d,
	gas/mips/ulw2-eb.d, gas/mips/ulw2-eb-ilocks.d, gas/mips/ulw2-el.d,
	gas/mips/ulw2-el-ilocks.d, gas/mips/usd.d, gas/mips/ush.d,
	gas/mips/usw.d, gas/mips/vr4122.d: Added ABI specification.
	gas/vtable/vtable.exp: mips64*-*-linux* and mips*-*-irix6* are
	RELA.

@


1.455.2.7
log
@	* gas/mips/mips.exp: mips-*-linux-*, mipsel-*-linux-* use only 32-bit
	register width by default. Add them to addr32 and exclude offending
	testcases.
	* gas/mips/delay.s: Avoid odd floating point registers.
	* gas/mips/delay.d: Likewise.
	* gas/mips/nodelay.d: Likewise.
	* gas/mips/mips4.s: Likewise.
	* gas/mips/mips4.d: Likewise.
	* gas/mips/mips5.s: Likewise.
	* gas/mips/mips5.d: Likewise.
	* gas/mips/vr5400.s: Likewise.
	* gas/mips/vr5400.d: Likewise.
	* gas/mips/vr5500.s: Likewise.
	* gas/mips/vr5500.d: Likewise.
	* gas/mips/elf_e_flags2.d: Allow different expansions of the move
	macro.
	* gas/mips/elf_e_flags3.d: Likewise.
	* gas/mips/elf_e_flags4.d: Likewise.
	* gas/mips/uld2-eb.d: Likewise.
	* gas/mips/uld2-el.d: Likewise.
@
text
@a0 23
2003-05-19  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* gas/mips/mips.exp: mips-*-linux-*, mipsel-*-linux-* use only 32-bit
	register width by default. Add them to addr32 and exclude offending
	testcases.
	* gas/mips/delay.s: Avoid odd floating point registers.
	* gas/mips/delay.d: Likewise.
	* gas/mips/nodelay.d: Likewise.
	* gas/mips/mips4.s: Likewise.
	* gas/mips/mips4.d: Likewise.
	* gas/mips/mips5.s: Likewise.
	* gas/mips/mips5.d: Likewise.
	* gas/mips/vr5400.s: Likewise.
	* gas/mips/vr5400.d: Likewise.
	* gas/mips/vr5500.s: Likewise.
	* gas/mips/vr5500.d: Likewise.
	* gas/mips/elf_e_flags2.d: Allow different expansions of the move
	macro.
	* gas/mips/elf_e_flags3.d: Likewise.
	* gas/mips/elf_e_flags4.d: Likewise.
	* gas/mips/uld2-eb.d: Likewise.
	* gas/mips/uld2-el.d: Likewise.

@


1.455.2.8
log
@	* gas/mips/jal-newabi.s: New file, testcase for NewABI xgot jal macro.
	* gas/mips/jal-newabi.d: Likewise.
	* gas/mips/mips.exp: Add new testcase.
@
text
@a0 6
2003-05-24  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* gas/mips/jal-newabi.s: New file, testcase for NewABI xgot jal macro.
	* gas/mips/jal-newabi.d: Likewise.
	* gas/mips/mips.exp: Add new testcase.

@


1.455.2.9
log
@	* gas/mips/mips.exp: Fix typo.
	* gas/mips/elempic.d: Force o64 ABI.
	* gas/mips/telempic.d: Likewise.
	* ld-mips-elf/rel32-n32.d: Force big endian assembly.
	* ld-mips-elf/rel32-o32.d: Likewise.
	* ld-mips-elf/rel64.d: Likewise.
@
text
@a0 6
2003-06-10  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* gas/mips/mips.exp: Fix typo.
	* gas/mips/elempic.d: Force o64 ABI.
	* gas/mips/telempic.d: Likewise.

@


1.455.2.10
log
@	* gas/mips/elf-rel15.[sd]: New test.
	* gas/mips/mips.exp: Run it.
@
text
@a0 5
2003-06-12  Richard Sandiford  <rsandifo@@redhat.com>

	* gas/mips/elf-rel15.[sd]: New test.
	* gas/mips/mips.exp: Run it.

@


1.455.2.11
log
@* gas/arm/arm.exp: Pass -mfpu=fpa option to the FPA instruction test.
@
text
@a0 4
2003-06-13  Richard Earnshaw  <rearnsha@@arm.com>

	* gas/arm/arm.exp: Pass -mfpu=fpa option to the FPA instruction test.

@


1.455.2.12
log
@	* gas/m68hc11/m68hc11.exp: Execute the new tests.
	* gas/m68hc11/abi.s: New test for abi elf flags.
	* gas/m68hc11/abi-m68hc11-32-64.d: Test for 32-bit int, 64-bit float.
	* gas/m68hc11/abi-m68hc11-16-64.d: Test for 16-bit int, 64-bit float.
	* gas/m68hc11/abi-m68hc11-32-32.d: Test for 32-bit int, 32-bit float.
	* gas/m68hc11/abi-m68hc11-16-32.d: Test for 16-bit int, 32-bit float.
@
text
@a0 9
2003-07-23  Stephane Carrez  <stcarrez@@nerim.fr>

	* gas/m68hc11/m68hc11.exp: Execute the new tests.
	* gas/m68hc11/abi.s: New test for abi elf flags.
	* gas/m68hc11/abi-m68hc11-32-64.d: Test for 32-bit int, 64-bit float.
	* gas/m68hc11/abi-m68hc11-16-64.d: Test for 16-bit int, 64-bit float.
	* gas/m68hc11/abi-m68hc11-32-32.d: Test for 32-bit int, 32-bit float.
	* gas/m68hc11/abi-m68hc11-16-32.d: Test for 16-bit int, 32-bit float.

@


1.454
log
@More checks for valid labels
@
text
@d1 6
@


1.453
log
@* gas/mips/elf-rel-got-n32.d, gas/mips/elf-rel-got-n32.s,
gas/mips/elf-rel-got-n64.d, gas/mips/elf-rel-got-n64.s,
gas/mips/elf-rel-xgot-n32.d, gas/mips/elf-rel-xgot-n64.d: New.
* gas/mips/mips.exp: Test them.
@
text
@d1 5
@


1.452
log
@* as.c (perform_an_assembly_pass): If using cgen, call gas_cgen_begin.
* cgen.c (gas_cgen_begin): New function.  If flag_signed_overflow_ok is set
call cgen_set_signed_overflow_ok otherwise call cgen_clear_signed_overflow_ok.
* cgen.h: Prototype gas_cgen_begin.
* testsuite/gas/m32r/m32r.exp: Run signed-relocs test.
* testsuite/gas/m32r/signed-relocs.s: New file: Test signed relocs.
* testsuite/gas/m32r/signed-relocs.d: New file: Expected results
@
text
@d1 7
@


1.451
log
@* ia64-ic.tbl (fr-readers): Add mem-writers-fp.
* ia64-asmtab.c: Regenerate.
* gas/ia64/dependency-1.s: New file: Test read before write dependency.
* gas/ia64/dependency-1.d: New file: Expected assembly results.
* gas/ia64/ia64.exp: Run the new test.
@
text
@d3 4
@


1.450
log
@	* gas/m68hc11/bug-1825.d (_table): Update.
	* gas/m68hc11/bug-1825.s (_table): Add tests for 16-bit absolute relocs
@
text
@d1 6
@


1.449
log
@	* gas/m68hc11/insns.s: Add %page and %addr checks.
	* gas/m68hc11/insns12.s: Likewise.
	* gas/m68hc11/insns-dwarf2.d: Update.
	* gas/m68hc11/insns.d: Update.
@
text
@d3 5
@


1.448
log
@2003-04-04  Chris Demetriou  <cgd@@broadcom.com>

        * gas/mips/mips5.d: New test.
        * gas/mips/mips5.l: New test stderr listing.
        * gas/mips/mips5.s: New test source file.
        * gas/mips/mips.exp: Run the mips5 test.
@
text
@d1 7
@


1.447
log
@2003-04-03  Philip Blundell  <philb@@gnu.org>

	* gas/arm/offset.s: New test.
	* gas/arm/arm.exp (run_errors_test): Run it.
@
text
@d1 7
@


1.446
log
@[ gas/ChangeLog ]
2003-04-02  Chris Demetriou  <cgd@@broadcom.com>

        * config/tc-mips.c (macro2): Adjust implementation of
        M_ULH, M_ULHU, M_ULW, and M_ULD so that they work properly
        in the case where the source and destination registers
        are the same.

[ gas/testsuite/ChangeLog ]
2003-04-02  Chris Demetriou  <cgd@@broadcom.com>

        * gas/mips/ulh.d: Adjust for ulh and ulhu macro assembly changes.

        * gas/mips/mips.exp: Define new "gpr_ilocks" architecture
        property, and add it to mips2 (and later) chips and r3900.
        * gas/mips/uld2.s: New test source file.
        * gas/mips/ulh2.s: Likewise.
        * gas/mips/ulw2.s: Likewise.
        * gas/mips/uld2.l: New test stderr listing.
        * gas/mips/ulh2.l: Likewise.
        * gas/mips/ulw2.l: Likewise.
        * gas/mips/uld2-eb.d: New test.
        * gas/mips/uld2-el.d: Likewise.
        * gas/mips/ulh2-eb.d: Likewise.
        * gas/mips/ulh2-el.d: Likewise.
        * gas/mips/ulw2-eb-ilocks.d: Likewise.
        * gas/mips/ulw2-eb.d: Likewise.
        * gas/mips/ulw2-el-ilocks.d: Likewise.
        * gas/mips/ulw2-el.d: Likewise.
        * gas/mips/mips.exp: Run new tests for appropriate architectures.
@
text
@d1 5
@


1.445
log
@Add Xtensa port
@
text
@d1 22
@


1.444
log
@Add iWMMXt support
@
text
@d1 10
@


1.443
log
@* gas/mips/branch-misc-2.s: Add branch to symbol in another
section.
* gas/mips/branch-misc-2.l: Update error messages and warnings.
@
text
@d1 11
@


1.442
log
@* Reverted previous patch.
@
text
@d3 6
@


1.441
log
@	* elf32-mips.c (elf_mips_howto_table_rel): Change definition of
	R_MIPS_PC16 to rightshift 2.
	(elf_reloc_map mips_reloc_map): Map to rightshifted BFD reloc.
	(bfd_elf32_bfd_reloc_type_lookup): Support
	BFD_RELOC_MIPSEMB_16_PCREL_S2.
	* elf64-mips.c (mips_elf64_howto_table_rel): Change definition of
	R_MIPS_PC16 to rightshift 2.
	(mips_elf64_howto_table_rela): Likewise.
	(mips_reloc_map): Map to rightshifted BFD reloc.
	* elfn32-mips.c: The same as in elf64-mips.c.
	* elfxx-mips.c (mips_elf_got_for_ibfd): Typo in comment.
	(mips_elf_calculate_relocation): Handle rightshifted addends for
	R_MIPS_PC16.
	* reloc.c (BFD_RELOC_MIPSEMB_16_PCREL_S2): New BFD relocation for
	MIPS Embedded PIC. Remove superfluous empty COMMENT.
	* libbfd.h: Regenerate.
	* bfd-in2.h: Regenerate.
	* config/tc-mips.c (append_insn): Add handling of
	BFD_RELOC_MIPSEMB_16_PCREL_S2. Avoid emitting unneeded
	BFD_RELOC_16_PCREL_S2 relocs and add earlier warnings about
	misaligned address and reange overflow.
	(macro_build): Add handling of BFD_RELOC_MIPSEMB_16_PCREL_S2. Add
	earlier warnings about misaligned address and reange overflow.
	(mips_ip): Add handling of BFD_RELOC_MIPSEMB_16_PCREL_S2.
	(md_apply_fix): Likewise. Fix warning output.
	(tc_gen_reloc): Add handling of BFD_RELOC_MIPSEMB_16_PCREL_S2.
	Allow BFD_RELOC_16_PCREL_S2 for all ABIs.
	(md_convert_frag): Add handling of BFD_RELOC_MIPSEMB_16_PCREL_S2.
	* gas/mips/bge.d: Reactivate external branch tests.
	* gas/mips/bge.s: Likewise.
	* gas/mips/bgeu.d: Likewise.
	* gas/mips/bgeu.s: Likewise.
	* gas/mips/blt.d: Likewise.
	* gas/mips/blt.s: Likewise.
	* gas/mips/bltu.d: Likewise.
	* gas/mips/bltu.s: Likewise.
	* gas/mips/branch-misc-2.d: New File.
	* gas/mips/branch-misc-2.l: Remove.
	* gas/mips/mips.exp: Adjust branch-misc-2 test.
@
text
@d1 4
@


1.440
log
@Update Maverick tests.
Contribute test generator.
@
text
@d1 14
@


1.439
log
@	* config/tc-mips.c (prev_reloc_op_frag): New variable.
	(macro): Check it to decide whether a new frag is needed.
	(my_getSmallExpression): Set it.
@
text
@d1 13
@


1.438
log
@gas/
	* config/tc-mips.c (reloc_needs_lo_p): New function.
	(fixup_has_matching_lo_p): New function.
	(append_insn): Use reloc_needs_lo_p to check whether a relocation
	might need a matching %lo().  Reuse the head of mips_hi_fixup_list
	if that fixup already has a matching %lo().  Don't call frag_wane here.
	(macro): Call frag_wane here if the last unmatched hi was in the
	current frag.
	(pic_need_relax): New function, split out from...
	(md_estimate_size_before_relax): ...here.
	(mips_frob_file): Use reloc_needs_lo_p.  Use pic_need_relax to test
	whether BFD_RELOC_MIPS_GOT16 fixups refer to global symbols.

gas/testsuite/
	* gas/mips/rel12.[sd], gas/mips/rel13.[sd]: New tests.
	* gas/mips/mips.exp: Run them.
@
text
@d1 5
@


1.437
log
@	* config/tc-mips.c (my_getSmallExpression): Rework bracket handling.

testsuite/
	* gas/mips/expr1.[sd]: New test.
	* gas/mips/mips.exp: Run it.
@
text
@d3 5
@


1.436
log
@	* gas/i386/x86-64-opcode.s: More tests for x86-64 MOVD opcodes.
	* gas/i386/x86-64-opcode.d: Adjust to suit.
@
text
@d1 5
@


1.435
log
@	* gas/cris/rd-dw2-1.d: Adjust for dwarf2 directory table change.
@
text
@d1 5
@


1.434
log
@gas/
	* config/tc-mips.c (enum small_ex_type): Remove.
	(imm_unmatched_hi): Remove.
	(md_assemble): Remove use of imm_unmatched_hi.  Remove the last
	argument from calls to append_insn.
	(append_insn): Remove unmatched_hi parameter; check reloc_type[0]
	instead.
	(macro_build): Update append_insn calls.
	(mips16_macro_build, macro_build_lui): Likewise.
	(mips_ip): Rework handling of small expressions.  Move explicit
	relocation handling into my_getSmallExpression.  Assume that the
	value of 'o' operands is zero if there is only one bracketed
	expression left.
	(percent_op): Make constant.  Record the BFD relocation code
	associated with each operator.
	(my_getSmallParser, my_getPercentOp): Remove.
	(parse_relocation): New function.
	(my_getSamllExpression): Rework.  Fill in relocations here
	rather than in mips_ip.

gas/testsuite
	* gas/mips/elf-rel8.[sd], gas/mips/elf-rel9.[sd],
	gas/mips/elf-rel10.[sd], gas/mips/elf-rel11.[sd]: New tests.
	* gas/mips/mips.exp: Run elf-rel8 and elf-rel9 for all elf
	targets.  Run elf-rel10 and elf-rel11 for NewABI targets.
@
text
@d1 4
@


1.433
log
@* gas/mips/n32-consec.d: New.
* gas/mips/n32-consec.s: New.
* gas/mips/mips.exp (run_list_test_arches): Run it on irix6 and
mips64*-linux* systems.
@
text
@d1 7
@


1.432
log
@	* gas/s390/reloc.s: Add test for PLT reloc against locally defined
	but global function.
	* gas/s390/reloc.d: Likewise.
	* gas/s390/reloc64.s: Likewise.
	* gas/s390/reloc64.d: Likewise.
@
text
@d1 7
@


1.431
log
@All NetBSD ELF targets should pass these tests.
@
text
@d1 8
@


1.430
log
@	* gas/s390/reloc.d: Add tests for the new gotoff, gotplt and pltoff
	relocations.
	* gas/s390/reloc.s: Likewise.
	* gas/s390/reloc64.d: Likewise.
	* gas/s390/reloc64.s: Likewise.
@
text
@d1 5
@


1.429
log
@* gas/xstormy16/reloc-2.d: Adjust for fixed REL12 relocs.
@
text
@d1 8
@


1.428
log
@	* gas/iq2000: New testsuite.
@
text
@d1 4
@


1.427
log
@[ gas/ChangeLog ]
2003-01-02  Chris Demetriou  <cgd@@broadcom.com>

        * config/tc-mips.c: Update copyright years to include 2003.
        (mips_ip): Fix indentation of "+A", "+B", and "+C" handling.
        Additionally, clean up their code slightly and clean up their
        comments some more.


        * doc/c-mips.texi: Add MIPS32r2 to ".set mipsN" documentation.

[ gas/testsuite/ChangeLog ]
2003-01-02  Chris Demetriou  <cgd@@broadcom.com>

        * gas/mips/elf_arch_mips32r2.d: Fix file description comment.

[ include/opcode/ChangeLog ]
2003-01-02  Chris Demetriou  <cgd@@broadcom.com>

        * mips.h: Update copyright years to include 2002 (which had
        been missed previously) and 2003.  Make comments about "+A",
        "+B", and "+C" operand types more descriptive.
@
text
@d1 4
@


1.426
log
@[ gas/ChangeLog ]
2002-12-31  Chris Demetriou  <cgd@@broadcom.com>

	* config/tc-mips.c (validate_mips_insn, mips_ip): Recognize
	the "+D" operand, which will be used only by the disassembler.

[ gas/testsuite/ChangeLog ]
2002-12-31  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/cp0sel-names-mips32.d: New test.
	* gas/mips/cp0sel-names-mips32r2.d: New test.
	* gas/mips/cp0sel-names-mips64.d: New test.
	* gas/mips/cp0sel-names-numeric.d: New test.
	* gas/mips/cp0sel-names-sb1.d: New test.
	* gas/mips/cp0sel-names.s: New test source file.
	* gas/mips/mips.exp: Run new tests.

[ include/opcode/ChangeLog ]
2002-12-31  Chris Demetriou  <cgd@@broadcom.com>

	* mips.h: Note that the "+D" operand type name is now used.

[ opcodes/ChangeLog ]
2002-12-31  Chris Demetriou  <cgd@@broadcom.com>

	* mips-dis.c (mips_cp0sel_name): New structure.
	(mips_cp0sel_names_mips3264, mips_cp0sel_names_mips3264r2)
	(mips_cp0sel_names_sb1): New arrays.
	(mips_arch_choice): New structure members "cp0sel_names" and
	"cp0sel_names_len".
	(mips_arch_choices): Add references to new cp0sel_names arrays
	as appropriate, and make all existing entries reference
	appropriate mips_XXX_names_numeric arrays rather than simply
	using NULL.
	(mips_cp0sel_names, mips_cp0sel_names_len): New variables.
	(lookup_mips_cp0sel_name): New function.
	(set_default_mips_dis_options): Set mips_cp0sel_names and
	mips_cp0sel_names_len as appropriate.  Remove now-unnecessary
	checks for NULL register name arrays.
	(parse_mips_dis_option): Likewise.
	(print_insn_arg): Handle "+D" operand type.
	* mips-opc.c (mips_builtin_opcodes): Add new "+D" variants
	of mfc0, mtc0, dmfc0, and dmtc0 to print CP0+sel register
	names symbolically.
@
text
@d1 4
@


1.425
log
@[ gas/testsuite/ChangeLog ]
2002-12-30  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/elf_arch_mips1.d: New test.
	* gas/mips/elf_arch_mips2.d: New test.
	* gas/mips/elf_arch_mips3.d: New test.
	* gas/mips/elf_arch_mips4.d: New test.
	* gas/mips/elf_arch_mips5.d: New test.
	* gas/mips/elf_arch_mips32.d: New test.
	* gas/mips/elf_arch_mips32r2.d: New test.
	* gas/mips/elf_arch_mips64.d: New test.
	* gas/mips/empty.s: New test source file.
	* gas/mips/mips.exp: Run new tests.

	* gas/mips/elf_ase_mips16.d: Change to use empty.s
	* gas/mips/elf_ase_mips16.s: Remove.
@
text
@d1 10
@


1.424
log
@fix date on last entry.  *sigh*
@
text
@d3 16
@


1.423
log
@[ bfd/ChangeLog ]
2002-12-30  Chris Demetriou  <cgd@@broadcom.com>

	* aoutx.h (NAME(aout,machine_type)): Add bfd_mach_mipsisa32r2 case.
	* archures.c (bfd_mach_mipsisa32r2): New define.
	* bfd-in2.h: Regenerate.
	* cpu-mips.c (I_mipsisa32r2): New enum value.
	(arch_info_struct): Add entry for I_mipsisa32r2.
	* elfxx-mips.c (elf_mips_isa, _bfd_elf_mips_mach)
	(_bfd_mips_elf_print_private_bfd_data): Handle E_MIPS_ARCH_32R2.
	(_bfd_mips_elf_final_write_processing): Add
	bfd_mach_mipsisa32r2 case.
	(_bfd_mips_elf_merge_private_bfd_data): Handle merging of
	binaries marked as using MIPS32 Release 2.

[ binutils/ChangeLog ]
2002-12-30  Chris Demetriou  <cgd@@broadcom.com>

	* doc/binutils.texi (objdump): Note MIPS HWR (Hardware Register)
	changes in MIPS -M options.

[ gas/ChangeLog ]
2002-12-30  Chris Demetriou  <cgd@@broadcom.com>

	* configure.in: Recognize mipsisa32r2, mipsisa32r2el, and
	CPU variants.
	* configure: Regenerate.
	* config/tc-mips.c (ISA_HAS_DROR, ISA_HAS_ROR): New defines.
	(macro_build): Handle "K" operand.
	(macro2): Use ISA_HAS_DROR and ISA_HAS_ROR in the places where
	CPU_HAS_DROR and CPU_HAS_ROR are currently used.
	(mips_ip): New variable "lastpos", and implement "+A", "+B",
	and "+C" operands for MIPS32 Release 2 ins/ext instructions.
	Implement "K" operand for MIPS32 Release 2 rdhwr instruction.
	(validate_mips_insn): Implement "+" as a way to extend the
	allowed operands, and implement "K", "+A", "+B", and "+C"
	operands.
	(OPTION_MIPS32R2): New define.
	(md_longopts): Add entry for OPTION_MIPS32R2.
	(OPTION_ELF_BASE): Adjust to accomodate OPTIONS_MIPS32R2.
	(md_parse_option): Handle OPTION_MIPS32R2.
	(s_mipsset): Reimplement handling of ".set mipsN" options
	and add support for ".set mips32r2".
	(mips_cpu_info_table): Add entry for "mips32r2" (MIPS32 Release 2).
	(md_show_usage): Document "-mips32r2" option.
	* doc/as.texinfo: Document "-mips32r2" option.
	* doc/c-mips.texi: Likewise.

[ gas/testsuite/ChangeLog ]
2002-12-30  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/cp0-names-mips32r2.d: New test.
	* gas/mips/hwr-names-mips32r2.d: New test.
	* gas/mips/hwr-names-numeric.d: New test.
	* gas/mips/hwr-names.s: New test source file.
	* gas/mips/mips32r2.d: New test.
	* gas/mips/mips32r2.s: New test source file.
	* gas/mips/mips32r2-ill.l: New test.
	* gas/mips/mips32r2-ill.s: New test source file.
	* gas/mips/mips.exp: Add mips32r2 architecture data array
	entry.  Run new tests mentioned above.

[ include/elf/ChangeLog ]
2002-12-30  Chris Demetriou  <cgd@@broadcom.com>

	* mips.h (E_MIPS_ARCH_32R2): New define.

[ include/opcode/ChangeLog ]
2002-12-30  Chris Demetriou  <cgd@@broadcom.com>

	* mips.h: Document "+" as the start of two-character operand
	type names, and add new "K", "+A", "+B", and "+C" operand types.
	(OP_MASK_INSMSB, OP_SH_INSMSB, OP_MASK_EXTMSB)
	(OP_SH_EXTMSB, INSN_ISA32R2, ISA_MIPS32R2, CPU_MIPS32R2): New
	defines.

[ opcodes/ChangeLog ]
2002-12-30  Chris Demetriou  <cgd@@broadcom.com>

	* mips-dis.c (mips_cp0_names_mips3264r2, mips_hwr_names_numeric)
	(mips_hwr_names_mips3264r2): New arrays.
	(mips_arch_choice): New "hwr_names" member.
	(mips_arch_choices): Adjust for structure change, and add a new
	entry for "mips32r2" ISA.
	(mips_hwr_names): New variable.
	(set_default_mips_dis_options): Set mips_hwr_names.
	(parse_mips_dis_option): New "hwr-names" option which sets
	mips_hwr_names, and adjust "reg-names=ARCH" to set mips_hwr_names.
	(print_insn_arg): Change return type to "int"
	and use that to indicate number of characters consumed.
	Add support for "+" operand extension character, "+A", "+B",
	"+C", and "K" operands.
	(print_insn_mips): Adjust for changes to print_insn_arg.
	(print_mips_disassembler_options): Adjust for "hwr-names"
	addition and "reg-names" change.
	* mips-opc (I33): New define (shorthand for INSN_ISA32R2).
	(mips_builtin_opcodes): Note that "nop" and "ssnop" are special
	forms of "sll".  Add new MIPS32 Release 2 instructions: ehb,
	di, ei, ext, ins, jr.hb, jalr.hb, mfhc1, mfhc2, mthc1, mthc2,
	rdhwr, rdpgpr, seb, seh, synci, wrpgpr, wsbh.
	Note that hardware rotate instructions (ror, rorv) can be
	used on MIPS32 Release 2, and add the official mnemonics
	for them (rotr, rotrv) and the similar "rotl" mnemonic for
	left-rotate.
@
text
@d1 1
a1 1
2002-12-29  Chris Demetriou  <cgd@@broadcom.com>
@


1.422
log
@Add support for msp430.
@
text
@d1 13
@


1.421
log
@2002-12-27  Chris Demetriou  <cgd@@broadcom.com>

        * gas/mips/mips.exp: Define the notion of an "architecture data
        array," add comments indicating how to add a new architecture and
        suggestions for adding new tests.  Populate the architecture data
        array with many known architectures and convert many tests to
        be run for multiple architectures.
        (mips_arches): New global array.
        (mips_arch_create, mips_arch_list_all, mips_arch_data)
        (mips_arch_displayname, mips_arch_properties)
        (mips_arch_as_flags, mips_arch_objdump_flags, mips_arch_matches)
        (mips_arch_list_matching): New functions to operate on mips_arches.
        (run_dump_test_arch, run_dump_test_arches, run_list_test_arch)
        (run_list_test_arches): New functions.
        (run_list_test): Document and add an optional "test name" argument.
        * gas/mips/abs.d: Remove CPU-specific assembler and objdump flags,
        and CPU names from test names.
        * gas/mips/add.d: Likewise.
        * gas/mips/and.d: Likewise.
        * gas/mips/dli.d: Likewise.
        * gas/mips/jal-empic-elf-2.d: Likewise.
        * gas/mips/jal-empic-elf-3.d: Likewise.
        * gas/mips/jal-empic-elf.d: Likewise.
        * gas/mips/lb-svr4pic.d: Likewise.
        * gas/mips/lb.d: Likewise.
        * gas/mips/mips32.d: Likewise.
        * gas/mips/mips4.d: Likewise.
        * gas/mips/mips64.d: Likewise.
        * gas/mips/rol-hw.d: Likewise.
        * gas/mips/rol.d: Likewise.
        * gas/mips/rol64-hw.d: Likewise.
        * gas/mips/rol64.d: Likewise.
        * gas/mips/elf-jal.d: Likewise.  Also, indicate ELF in test name.
        * gas/mips/mips64-mdmx.d: Tweak printed name to indicate that this
        test uses the -mdmx flag.
        * gas/mips/mips64-mips3d.d: Tweak printed name to indicate that
        this test uses the -mips3d flag.
        * gas/mips/mips64-mips3d-incl.d: New file.
@
text
@d1 7
@


1.420
log
@[ binutils/ChangeLog ]
2002-12-27  Chris Demetriou  <cgd@@broadcom.com>

        * doc/binutils.texi (objdump): Document MIPS -M options.

[ gas/testsuite/ChangeLog ]
2002-12-27  Chris Demetriou  <cgd@@broadcom.com>

        * gas/mips/cp0-names-mips32.d: New file.
        * gas/mips/cp0-names-mips64.d: New file.
        * gas/mips/cp0-names-numeric.d: New file.
        * gas/mips/cp0-names-sb1.d: New file.
        * gas/mips/cp0-names.s: New file.
        * gas/mips/fpr-names-32.d: New file.
        * gas/mips/fpr-names-64.d: New file.
        * gas/mips/fpr-names-n32.d: New file.
        * gas/mips/fpr-names-numeric.d: New file.
        * gas/mips/fpr-names.s: New file.
        * gas/mips/gpr-names-32.d: New file.
        * gas/mips/gpr-names-64.d: New file.
        * gas/mips/gpr-names-n32.d: New file.
        * gas/mips/gpr-names-numeric.d: New file.
        * gas/mips/gpr-names.s: New file.
        * gas/mips/mips.exp: Run new tests.

[ include/ChangeLog ]
2002-12-27  Chris Demetriou  <cgd@@broadcom.com>

        * dis-asm.h (print_mips_disassembler_options): Prototype.

[ include/opcode/ChangeLog ]
2002-12-19  Chris Demetriou  <cgd@@broadcom.com>

        * mips.h (OP_OP_COP0, OP_OP_COP1, OP_OP_COP2, OP_OP_COP3)
        (OP_OP_LWC1, OP_OP_LWC2, OP_OP_LWC3, OP_OP_LDC1, OP_OP_LDC2)
        (OP_OP_LDC3, OP_OP_SWC1, OP_OP_SWC2, OP_OP_SWC3, OP_OP_SDC1)
        (OP_OP_SDC2, OP_OP_SDC3): Define.

[ opcodes/ChangeLog ]
2002-12-27  Chris Demetriou  <cgd@@broadcom.com>

        * disassemble.c (disassembler_usage): Add invocation of
        print_mips_disassembler_options.
        * mips-dis.c (print_mips_disassembler_options)
        (set_default_mips_dis_options, parse_mips_dis_option)
        (parse_mips_dis_options, choose_abi_by_name, choose_arch_by_name)
        (choose_arch_by_number): New functions.
        (mips_abi_choice, mips_arch_choice): New structures.
        (mips32_reg_names, mips64_reg_names, reg_names): Remove.
        (mips_gpr_names_numeric, mips_gpr_names_oldabi)
        (mips_gpr_names_newabi, mips_fpr_names_numeric)
        (mips_fpr_names_32, mips_fpr_names_n32, mips_fpr_names_64)
        (mips_cp0_names_numeric, mips_cp0_names_mips3264)
        (mips_cp0_names_sb1, mips_abi_choices, mips_arch_choices)
        (mips_processor, mips_isa, mips_gpr_names, mips_fpr_names)
        (mips_cp0_names): New variables.
        (print_insn_args): Use new variables to print GPR, FPR, and CP0
        register names.
        (mips_isa_type): Remove.
        (print_insn_mips): Remove ISA and CPU setup since it is now done...
        (_print_insn_mips): Here.  Remove register setup code, and
        call set_default_mips_dis_options and parse_mips_dis_options
        instead.
        (print_mips16_insn_arg): Use mips_gpr_names instead of mips32_names.
@
text
@d3 39
@


1.419
log
@2002-12-20  Chris Demetriou  <cgd@@broadcom.com>

        * lib/gas-defs.exp (run_dump_test): Add a new optional argument,
        "extra_options".
@
text
@d1 19
@


1.418
log
@* gas/xstormy16/allinsn.sh: Add tests for 12-bit reloc.
* gas/xstormy16/allinsn.s: Likewise.
* gas/xstormy16/allinsn.d: Likewise.
@
text
@d1 1
a1 1
2002-12-20  DJ Delorie  <dj@@redhat.com>
d3 2
a4 3
	* gas/xstormy16/allinsn.sh: Add tests for 12-bit reloc.
	* gas/xstormy16/allinsn.s: Likewise.
	* gas/xstormy16/allinsn.d: Likewise.
@


1.417
log
@[ opcodes/ChangeLog ]
2002-12-18  Chris Demetriou  <cgd@@broadcom.com>

	* mips-opc.c (mips_builtin_opcodes): Remove one "ror" and two
	"dror" entries, and reorder the remaining "dror" and "ror" entries.

[ gas/ChangeLog ]
2002-12-18  Chris Demetriou  <cgd@@broadcom.com>

	* config/tc-mips.c (macro): In M_DROL, M_DROR, M_ROL, and M_ROR,
	use hardware rotate ops as appropriate.  In M_DROL_I, M_DROR_I,
	M_ROL_I, and M_ROR_I, simplify code, clean up warnings, and
	arrange not to issue warnings about use of AT when AT is not
	actually used.

[ gas/testsuite/ChangeLog ]
2002-12-18  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/rol.s: Add ".set noat" and some new instructions to test.
	* gas/mips/rol64.s: Likewise.
	* gas/mips/rol.l: New file.
	* gas/mips/rol.d: Adjust to use rol.l and for rol.s changes.
	* gas/mips/rol64.l: New file.
	* gas/mips/rol64.d: Adjust to use rol64.l and for rol64.s changes.
	* gas/mips/rol-hw.d: New file.
	* gas/mips/rol-hw.l: New file.
	* gas/mips/rol64-hw.d: New file.
	* gas/mips/rol64-hw.l: New file.
	* gas/mips/mips.exp: Run rol-hw and rol64-hw tests.
@
text
@d1 6
@


1.416
log
@kill bogus line between the last 2 entries
@
text
@d1 14
@


1.415
log
@* gas/mips/beq.d: Comment out branches to undefined symbols,
no longer supported.
* gas/mips/beq.s: Likewise.
* gas/mips/bge.d: Likewise.
* gas/mips/bge.s: Likewise.
* gas/mips/bgeu.d: Likewise.
* gas/mips/bgeu.s: Likewise.
* gas/mips/blt.d: Likewise.
* gas/mips/blt.s: Likewise.
* gas/mips/bltu.d: Likewise.
* gas/mips/bltu.s: Likewise.
* gas/mips/mips.exp: Change branch-misc-2 test to run_list_test.
* gas/mips/branch-misc-2.d: Removed.
* gas/mips/branch-misc-2.s: Added branches to undefined symbols.
* gas/mips/branch-misc-2.l: New.
@
text
@a18 1
? gas/testsuite/gas/mips/branch-misc-2.l
@


1.414
log
@2002-12-09  Aldy Hernandez  <aldyh@@redhat.com>

	* gas/ppc/booke.d: Fix msync and mbar to reflect reality.

	* gas/ppc/e500.d: Fix m[tf]pmr to reflect reality.
@
text
@d1 19
@


1.413
log
@	* gas/m68hc11/m68hc11.exp (gas_m68hc11_error): New function;
	(gas_m68hc11_warning): New function.
	(gas_m68hc11_message): New function.
	(top): New tests for assembler errors.
	(gas_m68hc11_opcode_list): New function.
	(top): New tests for opcode list.
@
text
@d1 6
@


1.412
log
@	* gas/m68hc11/bug-1825.s: Add some tests.
	* gas/m68hc11/bug-1825.d: Update.
	* gas/m68hc11/opers12.d: Update.
	* gas/m68hc11/opers12-dwarf2.d: Update.
@
text
@d3 9
@


1.411
log
@        * config/ia64.c (enum reloc_func): Add FUNC_LT_RELATIVE_X.
        (ia64_gen_real_reloc_type): Handle it.
        (pseudo_func): Add @@ltoffx.
        (md_begin): Build .<ltoffx>.
        (ia64_force_relocation): True for LTOFF22X and LDXMOV.

        * gas/ia64/ltoff22x-1.[ds]: New.
        * gas/ia64/ia64.exp: Run it.
@
text
@d1 7
@


1.410
log
@Fix IA-64 opc-d.x gas testsuite failure.
binutils/ChangeLog
	* configure.in (OBJDUMP_DEFS): Define SKIP_ZEROES as 16 for IA-64.
	* configure: Regenerate.
gas/testsuite/ChangeLog
	* gas/ia64/opc-x.d: Regenerate.
@
text
@d1 5
@


1.409
log
@	* gas/arm/adrl.s: Pad end of .text.
	* gas/arm/adrl.d: Adjust to suit.
@
text
@d1 4
@


1.408
log
@Patch to update IA-64 port to SDM 2.1.
bfd/ChangeLog
	* cpu-ia64-opc.c: Add operand constant "ar.csd".
gas/ChangeLog
	* config/tc-ia64.c (pseudo_func): Add "@@pause" constant for "hint"
	instruction.
	(emit_one_bundle): Handle "hint" instruction.
	(operand_match): Match IA64_OPND_AR_CSD.
gas/testsuite/ChangeLog
	* gas/ia64/opc-b.d: Update for instructions added by SDM2.1.
	* gas/ia64/opc-b.s: Ditto.
	* gas/ia64/opc-f.d: Ditto.
	* gas/ia64/opc-f.s: Ditto.
	* gas/ia64/opc-i.d: Ditto.
	* gas/ia64/opc-i.s: Ditto.
	* gas/ia64/opc-m.d: Ditto.
	* gas/ia64/opc-m.s: Ditto.
	* gas/ia64/opc-x.d: Ditto.
	* gas/ia64/opc-x.s: Ditto.
include/opcode/ChangeLog
	* ia64.h: Fix copyright message.
	(IA64_OPND_AR_CSD): New operand kind.
opcodes/ChangeLog
	* ia64-opc-d.c (ia64_opcodes_d): Add "hint" instruction.
	* ia64-opc-b.c: Add "hint.b" instruction.
	* ia64-opc-f.c: Add "hint.f" instruction.
	* ia64-opc-i.c: Add "hint.i" instruction.
	* ia64-opc-m.c: Add "hint.m", "fc.i", "ld16", "st16", and
	"cmp8xchg16" instructions.
	* ia64-opc-x.c: Add "hint.x" instruction.
	* ia64-opc.h (AR_CSD): New macro.
	* ia64-ic.tbl: Update according to SDM2.1.
	* ia64-raw.tbl: Ditto.
	* ia64-waw.tbl: Ditto.
	* ia64-gen.c (in_iclass): Handle "hint" like "nop".
	(lookup_regindex): Recognize AR[FCR], AR[EFLAG], AR[CSD],
	AR[SSD], AR[CFLG], AR[FSR], AR[FIR], and AR[FDR].
	* ia64-asmtab.c: Regenerate.
@
text
@d1 5
@


1.407
log
@include/opcode/
        * ia64.h (enum ia64_opnd): Add IA64_OPND_LDXMOV.
bfd/
        * cpu-ia64-opc.c (elf64_ia64_operands): Add ldxmov entry.
opcodes/
        * ia64-opc-m.c: Add ld8.mov.
        * ia64-asmtab.c: Regenerate.
gas/
        * config/tc-ia64.c (operand_match): Add IA64_OPND_LDXMOV case.
gas/testsuite/
        * gas/ia64/ldxmov-1.[ds]: New.
        * gas/ia64/ldxmov-2.[ls]: New.
        * gas/ia64/ia64.exp: Run them.
@
text
@d1 13
@


1.406
log
@	* gas/arm/adrl.s: Test behaviour against globals too.
	* gas/arm/adrl.d: Adjust.
@
text
@d1 6
@


1.405
log
@Remove GASP.
@
text
@d1 5
d10 1
a10 1
	* config/default.asp (GASP): Remove definition and initialization.	
@


1.404
log
@	* gas/m68hc11/m68hc11.exp: Rename from all.exp; run the new tests.
	* gas/m68hc11/all.exp: Remove.
	* gas/m68hc11/indexed12.d: New test.
	* gas/m68hc11/indexed12.s: Likewise.
	* gas/m68hc11/bug-1825.d: Likewise.
	* gas/m68hc11/bug-1825.s: Likewise.
@
text
@d1 6
@


1.403
log
@	* gas/m68hc11/insns.s: Don't use .comm for stack symbol so that objdump
	can find the real symbol and not a gas internal debug symbol.
	* gas/m68hc11/insns.d: Update.
	* gas/m68hc11/insns-dwarf2.d: Update.
	* gas/m68hc11/insns12.d: Update.
	* gas/m68hc11/opers12.s (min5b, min9b): Use 16 and -256 for the min.
	* gas/m68hc11/opers12.d: Update after indexed offset operand fixes.
	* gas/m68hc11/opers12-dwarf2.d: Likewise.
@
text
@d3 9
@


1.402
log
@	* config/tc-sh.c (md_apply_fix3): Take account of fx_offset
	for BFD_RELOC_32_PLT_PCREL.
	* sh/gas/sh/pic.s: Add a test for ".long foo@@PLT+.-2-label".
	* sh/gas/sh/pic.d: Add expected output.
@
text
@d1 11
@


1.401
log
@Allow BKPT instruction to be specified without an operand.  Add a test for this.
@
text
@d1 5
@


1.400
log
@	* gas/cris/rd-bcnst.d, gas/cris/rd-bcnst.d: New test.
@
text
@d1 6
@


1.399
log
@* gas/xstormy16/allinsn.d: Fix sdiv/sdivlh encodings.
@
text
@d1 4
@


1.398
log
@* gas/xstormy16/allinsn.sh: Add sdiv, divlh, and sdivlh.
* gas/xstormy16/allinsn.d: Regenerate.
* gas/xstormy16/allinsn.s: Regenerate.
@
text
@d1 4
@


1.397
log
@move testsuite entries to the correct changelog
@
text
@d1 6
@


1.396
log
@
Fixups in ChangeLog entries which has been filed in the wrong place.
@
text
@d26 1
a26 1
	* gas/tic4x/zeros.s: Create 
d129 1
a129 1
	
d144 1
a144 1
	
d160 6
a165 6
            Ken Raeburn  <raeburn@@cygnus.com>
            Aldy Hernandez  <aldyh@@redhat.com>
            DJ Delorie  <dj@@redhat.com>
            Michael Meissner  <meissner@@redhat.com>
            Eric Christopher  <echristo@@redhat.com>
            Richard Sandiford  <rsandifo@@redhat.com>
d328 11
a338 11
        * gas/arm/arm7t.s: Add nops, remove thumb instructions.
        * gas/arm/arm7t.d: Expect nops.
        * gas/arm/armv1.s: Add nops.
        * gas/arm/armv1.d: Expect nops.
        * gas/arm/fpa-mem.s: Add nops.
        * gas/arm/fpa-mem.d: Expext nops.
        * gas/arm/vfp1.s: Add nops.
        * gas/arm/vfp1.d: Expect nops.
        * gas/arm/xscale.s: Add nops.
        * gas/arm/xscale.d: Expect nops.
        * gas/arm/arm.exp: Do not run thumb tests for arm-aout
d354 4
a357 5
        From  matthew green  <mrg@@redhat.com>
        
        * e500.s: New tests for e500 instructions.
        * e500.d: Results for new test.
        * ppc.exp: Test e500.s.
d415 6
d500 6
d552 1
a552 1
	* gas/d10v/instruction_packing-001.d - intruction_packing-010.d: 
d555 1
a555 1
	* gas/d10v/warning-001.d - warning-019.d: New tests.  
d579 13
d1305 2
a1306 2
        * sh/dsp/d: New file: Expected output of disassembly of dsp.s
        * sh/dsp.s: New file: Test assembly source of DSP single data
d1720 3
a1722 3
        * gas/mri/if.d: Likewise.
        * gas/mri/repeat.d: Likewise.
        * gas/mri/while.d: Likewise.
d2015 9
a2023 9
        * gas/openrisc/addi.s: New file.
        * gas/openrisc/addi.d: Likewise.
        * gas/openrisc/allinsn.exp: Likewise.
        * gas/openrisc/allinsn.s: Likewise.
        * gas/openrisc/allinsn.d: Likewise.
        * gas/openrisc/lohi.s: Likewise.
        * gas/openrisc/lohi.d: Likewise.
        * gas/openrisc/store.s: Likewise.
        * gas/openrisc/store.d: Likewise.
d2293 36
a2328 36
        * gas/mips/elf_e_flags.s: Add padding to the end of the
        file so that objdump output will be consistent.
        * gas/mips/elf_e_flags1.d, gas/mips/elf_e_flags2.d,
        gas/mips/elf_e_flags3.d, gas/mips/elf_e_flags4.d: Expect
        "..." at end of objdump output because of zero bytes at end
        of section.
        * gas/mips/elf_e_flags.c: Add note to comment about
        what's changing in elf_e_flags.s.

        * gas/mips/la.s: Add padding to the end of the file so that
        objdump output will be consistent.
        * gas/mips/la-svr4pic.d, gas/mips/la-xgot.d: Expect "..." at
        end of objdump output because of zero bytes at end of
        section.

        * gas/mips/sync.s: Add padding to the end of the file so that
        objdump output will be consistent.
        * gas/mips/sync.d: Expect "..." at end of objdump output
        because of zero bytes at end of section.

        * gas/mips/empic.d: Pad sections out to 16 bytes, to avoid
        alignment issues so tests are useful on multiple targets.
        * gas/mips/empic.s: Likewise.
        * gas/mips/mips16-e.d: Likewise.
        * gas/mips/mips16-e.s: Likewise.
        * gas/mips/mips16-f.d: Likewise.
        * gas/mips/mips16-f.s: Likewise.

        * gas/mips/mips32.d: Expect disassembly of madd and maddu
        to use their correct names.  Add tests for break and sdbbp.
        * gas/mips/mips32.s: Likewise.

        * gas/mips/mips64.s: Add test for assembly of MIPS64
        extensions.
        * gas/mips/mips64.d: Likewise.
        * gas/mips/mips.exp: Test using the new "mips64" test.
d2332 2
a2333 2
        * gas/mips/mips16.d: Expect mips16 nops to be used for padding
        when mips16 code generation is enabled.
d2341 3
a2343 3
        * gas/mips/mips32.s, gas/mips/mips32.d: New files for MIPS32
        instruction assembly test.
        * gas/mips/mips.exp: Add the test mentioned above.
d2461 5
a2465 5
        * gas/ia64/dv-mutex.s: Add stop to avoid DV error on cmp.eq.
        * gas/ia64/dv-mutex.d: Update regexp pattern.
        * gas/ia64/dv-entry-err.s: Add stop to avoid DV error on cmp.eq.
        * gas/ia64/dv-imply.s: Add stops to avoid DV errors on cmp.REL.
        Test still fails due to insn opcode pattern changes.
d2482 1
a2482 1
        addressing modes.
d2504 2
a2505 2
        * gas/arm/inst.d: Fix expected results to match current assembler
        output.  Patch from Justin Seger <justin.m.seger@@intel.com>.
d2843 3
a2845 3
        * gas/vtable/vtable.exp: Added [istarget "arm*-*-*"] to run dump
        test "entry0" instead of "entry1".  ARM targets use REL relocs,
        and should use the test entry0.
d3084 1
a3084 1
        label, guard-debug, serial, warn_oddreg, bittest, and mul.
d3087 1
a3087 1
        to keep things from parallelizing where we don't want them to.
d3094 1
a3094 1
        on 8-byte boundaries.
d3099 1
a3099 1
        illegal serial instructions.
d3102 1
a3102 1
        odd-numbered registers are used for some instructions.
d3105 1
a3105 1
        instructions (BCLR, BNOT, BSET, BTST) in the IU.
d3108 1
a3108 1
        in a bunch of different multiply instructions.
d3867 1
a3867 1
        * gas/mips/itbl-test.c: Add copyright message and fix indentation.
d4508 1
a4508 1
        exist, mark the test as untested.
d4536 1
a4536 1
        64-bit BFD.
d4721 1
a4721 1
        * gas/hppa/reloc/picreloc.s: New test.
d5031 1
a5031 1
        * gas/hppa/more.parse/parse.exp (no subspace test): Only expect
@


1.395
log
@	* gas/ppc/booke.d: Adjust output for corrected condition reg.
@
text
@d1 30
@


1.394
log
@ Only run fastcall test for x86 PE targets.
@
text
@d1 4
@


1.393
log
@Adds support for fastcall symbols as used on Microsoft Windows platforms
(i386)
@
text
@d1 4
@


1.392
log
@2002-11-01  H.J. Lu <hjl@@gnu.org>

	* gas/i386/i386.exp: Add "sub".

	* gas/i386/sub.d: New.
	* gas/i386/sub.s: New.
@
text
@d1 6
@


1.391
log
@2002-10-22  H.J. Lu <hjl@@gnu.org>

	* gas/mips/branch-misc-2.d: Updated.
@
text
@d1 7
@


1.390
log
@	* gas/cris/rd-pcrel1.d, gas/cris/rd-pcrel1.s,
	gas/cris/rd-pcrel2.d, gas/cris/rd-pcrel2.s: New tests.
@
text
@d1 4
@


1.389
log
@	* config/tc-mips.c (mips_need_elf_addend_fixup): Return true
	for relocs against symbols in a merged section.

testsuite/
	* gas/mips/elf-rel7.[sd]: New test.
	* gas/mips/mips.exp: Run it.
@
text
@d1 5
@


1.388
log
@* gas/mips/mips.exp: Don't xfail relax.
* gas/mips/relax.s: Increase coverage.
* gas/mips/relax.d: Add expected output.  Use relax.l for as stderr.
* gas/mips/relax.l: New file.
@
text
@d1 5
@


1.387
log
@	* gas/sh/tlsd.s, gas/sh/tlsd.d: New.
	* gas/sh/tlsnopic.s, gas/sh/tlsnopic.d: New.
	* gas/sh/tlspic.s, gas/sh/tlspic.d: New.
	* gas/sh/basic.exp: Add new tests.
@
text
@d1 7
@


1.386
log
@* gas/elf.exp: Don't run for sh64*-*-linux*, because it sets the
lsb in SHmedia code addresses.
* gas/sh/basic.exp: Force SHcompact for sh64*-*-linux* to enable
recognition of SH-1/2/3/4 instructions.
(proc do_fp): Do not run dsp tests for sh64*-*-linux*.
* gas/sh/sh64/abi-32.d: Adjust expected output to include
sh64*-*-linux* formats too.
* gas/sh/sh64/abi-64.d, gas/sh/sh64/basic-1.d,
gas/sh/sh64/case-1.d, gas/sh/sh64/case-noexp-1.d,
gas/sh/sh64/crange1-1.d, gas/sh/sh64/crange1-2.d,
gas/sh/sh64/crange2-1.d, gas/sh/sh64/crange2-2.d,
sh/sh64/crange2-noexp-1.d, gas/sh/sh64/crange3-1.d,
gas/sh/sh64/crange4-1.d, gas/sh/sh64/crange5-1.d,
gas/sh/sh64/creg-1.d, gas/sh/sh64/creg-2.d, gas/sh/sh64/datal-2.d,
gas/sh/sh64/datal32-1.d, gas/sh/sh64/datal32-3.d,
gas/sh/sh64/datal64-1.d, gas/sh/sh64/datal64-3.d,
gas/sh/sh64/endian-1.d, gas/sh/sh64/endian-2.d,
gas/sh/sh64/err-noexp-cmd1.s, gas/sh/sh64/immexpr32-1.d,
gas/sh/sh64/immexpr32-2.d, gas/sh/sh64/immexpr64-1.d,
gas/sh/sh64/immexpr64-2.d, gas/sh/sh64/lineno.d,
gas/sh/sh64/localcom-1.d, gas/sh/sh64/mix-1.d,
gas/sh/sh64/mix-noexp-1.d, gas/sh/sh64/movi-3.d,
gas/sh/sh64/movi32-1.d, gas/sh/sh64/movi32-2.d,
gas/sh/sh64/movi32-noexp-2.d, gas/sh/sh64/movi64-1.d,
gas/sh/sh64/movi64-2.d, gas/sh/sh64/movi64-3.d,
gas/sh/sh64/movi64-noexp-2.d, gas/sh/sh64/pt-1.d,
gas/sh/sh64/pt-noexp-1.d, gas/sh/sh64/pt32-1.d,
gas/sh/sh64/pt32-noexp-2.d, gas/sh/sh64/pt64-1.d,
gas/sh/sh64/pt64-32-1.d, gas/sh/sh64/pt64-32-2.d,
gas/sh/sh64/pt64-noexp-2.d, gas/sh/sh64/ptc32-1.d,
gas/sh/sh64/ptc32-noexp-1.d, gas/sh/sh64/ptc64-1.d,
gas/sh/sh64/ptc64-32-1.d, gas/sh/sh64/ptc64-noexp-1.d,
gas/sh/sh64/ptext32-1.d, gas/sh/sh64/ptext32-noexp-1.d,
gas/sh/sh64/ptext64-1.d, gas/sh/sh64/ptext64-32-1.d,
gas/sh/sh64/ptext64-noexp-1.d, gas/sh/sh64/rel32-1.d,
gas/sh/sh64/rel32-2.d, gas/sh/sh64/rel32-3.d,
gas/sh/sh64/rel32-4.d, gas/sh/sh64/rel32-5.d,
gas/sh/sh64/rel64-1.d, gas/sh/sh64/rel64-2.d,
gas/sh/sh64/rel64-3.d, gas/sh/sh64/rel64-4.d,
gas/sh/sh64/rel64-5.d, gas/sh/sh64/relax-1.d,
gas/sh/sh64/relax-2.d, gas/sh/sh64/relax-3.d,
gas/sh/sh64/shift32-1.d, gas/sh/sh64/shift32-3.d,
gas/sh/sh64/shift32-noexp-3.d, gas/sh/sh64/shift64-1.d,
gas/sh/sh64/shift64-2.d, gas/sh/sh64/shift64-3.d,
gas/sh/sh64/shift64-noexp-3.d, gas/sh/sh64/syntax-1.d,
gas/sh/sh64/syntax-2.d, gas/sh/sh64/ua32-1.d,
gas/sh/sh64/ua64-1.d: Likewise.
@
text
@d1 7
@


1.385
log
@2002-10-03  Chris Demetriou  <cgd@@broadcom.com>

        * gas/mips/mips-no-jalx.l: Make error message regexps accomodate
        tools which target a specific CPU by default.
@
text
@d1 50
@


1.384
log
@	* contig/tc-sh.c (sh_local_pcrel): New.
	(sh_force_relocation): Use sh_local_pcrel.
	(md_pcrel_from_section): Check the relocation type whether it
	should be resolved locally. Use S_FORCE_RELOC.
	* testsuite/gas/sh/pcrel2.d: Check code also.
@
text
@d1 5
@


1.383
log
@* gas/sh/sh64/ptc32-noexp-1.d: Adjust for changes to *ABS*
symbol generation.
* gas/sh/sh64/ptc64-noexp-1.d: Likewise.
@
text
@d1 4
@


1.382
log
@2002-09-30  H.J. Lu <hjl@@gnu.org>

	* gas/mips/mips.exp: Undo the last change.
@
text
@d1 6
@


1.381
log
@2002-09-30  H.J. Lu <hjl@@gnu.org>

	* gas/mips/vr4120.d: Use "#pass" instead of "#..." to skip the
	rest of output.
@
text
@d3 4
@


1.380
log
@2002-09-30  H.J. Lu <hjl@@gnu.org>

	* gas/mips/mips.exp: Set xfail on empic, empic2, empic3_g1 and
	empic3_g2 on Linux/mips.
@
text
@d8 2
a9 1
	* gas/mips/vr4120.d: Pass -m mips:4120 to objdump.
@


1.379
log
@2002-09-30  H.J. Lu <hjl@@gnu.org>

	* gas/mips/vr4120.d: Pass -m mips:4120 to objdump.
@
text
@d3 5
@


1.378
log
@[gas/]
	* doc/c-mips.texi: Add entries for -march=vr4120,vr4130,vr4181,
	vr5400 and vr5500.  Add entry for -mfix-vr4122-bugs.
	* config/tc-mips.c (CPU_HAS_DROR, CPU_HAS_ROR): New macros.
	(hilo_interlocks): True for CPU_VR5500.
	(gpr_interlocks, cop_interlocks): True for CPU_VR5400 and CPU_VR5500.
	(mips_fix_vr4122_bugs): New.
	(append_insn): Work around 4122 errors if mips_fix_vr4122_bugs.
	(mips_emit_delays): Likewise.
	(macro2) [M_DROLI]: Use dror or dror32 if CPU_HAS_DROR.
	[M_ROLI]: Likewise ror if CPU_HAS_ROR.
	(validate_mips_insn, mips_ip): Handle '[', ']', 'e' and '%'.
	(OPTION_FIX_VR4122, OPTION_NO_FIX_VR4122): New options.
	(md_longopts): Add -mfix-vr4122-bugs and -no-mfix-vr4122-bugs.
	(OPTION_ELF_BASE): Bump.
	(md_parse_option): Handle the new options.
	(mips_cpu_info_table): Add entries for vr4120, vr4130, vr4181,
	vr5400 and vr5500.

[gas/testsuite/]
	* gas/mips/mips4100.[sd]: Move dmadd16 and madd16 checks to...
	* gas/mips/vr4111.[sd]: ...this new test.
	* gas/mips/vr4120.[sd],
	* gas/mips/vr4122.[sd],
	* gas/mips/vr5400.[sd],
	* gas/mips/vr5500.[sd]: New tests.
	* mips.exp: Run them.
@
text
@d1 4
@


1.377
log
@2002-09-27  Kaz Kojima  <kkojima@@rr.iij4u.or.jp>

        * config/tc-sh.c (sh_force_relocation): Return 0 for
        some PC relative relocations when not relaxing.
        * testsuite/gas/sh/pcrel2.s: New.
        * testsuite/gas/sh/pcrel2.d: New.
        * testsuite/gas/sh/basic.exp: Add pcrel2 test.
@
text
@d1 16
@


1.376
log
@* gas/vax/elf-rel.[ds]: New test.
* gas/vax/quad.exp: Move contents to...
* gas/vax/vax.exp: ...here.  New file.
@
text
@d1 6
@


1.375
log
@2002-09-27  H.J. Lu <hjl@@gnu.org>

	* gas/mips/mips-jalx.s: Add ".p2align 4".
	* gas/mips/mips16-jalx.s: Likewise.

	* gas/mips/mips-jalx.d: Check nop.
	* gas/mips/mips16-jalx.d: Likewise.
@
text
@d1 6
@


1.374
log
@	/gas/ChangeLog
	* config/tc-mips.c (CPU_HAS_MIPS16): Add mips-lsi-elf as MIPS16
	capable configuration.
	(macro_build): Check for MIPS16 capability, not for actual MIPS16 code
	generation.
	(mips_ip): Likewise.

	/gas/testsuite/ChangeLog
	* gas/mips/mips-jalx.d: New file, check jalx assembly.
	* gas/mips/mips-jalx.s: Likewise.
	* gas/mips/mips-no-jalx.l: Likewise.
	* gas/mips/mips-no-jalx.s: Likewise.
	* gas/mips/mips16-jalx.d: Likewise.
	* gas/mips/mips16-jalx.s: Likewise.
	* gas/mips/mips.exp: Add new tests.

	/opcodes/ChangeLog:
	* mips-dis.c (print_insn_mips): Always allow disassembly of
	32-bit jalx opcode.
@
text
@d1 8
@


1.373
log
@	* config/tc-mips.c (append_insn): Fix jump overflow check.
	* gas/mips/jal-range.s: Fix jump overflow check.
	* gas/mips/jal-range.l: Likewise.
@
text
@d3 10
@


1.372
log
@Add LDM and STM instructions which are unpredictable because of their use of
the writeback bit.
@
text
@d1 5
@


1.371
log
@Fix UNPREDICATABLE use of writeback in LDM/STM instructions.
@
text
@d1 5
@


1.370
log
@bfd/
	* reloc.c (BFD_RELOC_386_TLS_TPOFF, BFD_RELOC_386_TLS_IE,
	BFD_RELOC_386_TLS_GOTIE): Add.
	* bfd-in2.h, libbfd.h: Rebuilt.
	* elf32-i386.c (elf_howto_table): Add R_386_TLS_TPOFF, R_386_TLS_IE
	and R_386_TLS_GOTIE.
	(elf_i386_reloc_type_lookup): Handle it.
	(struct elf_i386_link_hash_entry): Change tls_type type to unsigned
	char instead of enum, change GOT_* into defines.
	(GOT_TLS_IE_POS, GOT_TLS_IE_NEG, GOT_TLS_IE_BOTH): Define.
	(elf_i386_tls_transition): Handle R_386_TLS_IE and R_386_TLS_GOTIE.
	(elf_i386_check_relocs): Likewise.  Avoid crash if local symbol is
	accessed both as normal and TLS symbol.  Move R_386_TLS_LDM and
	R_386_PLT32 cases so that R_386_TLS_IE can fall through.
	Handle R_386_TLS_LE_32 and R_386_TLS_LE in shared libs.
	(elf_i386_gc_sweep_hook): Handle R_386_TLS_IE and R_386_TLS_GOTIE.
	Handle R_386_TLS_LE_32 and R_386_TLS_LE in shared libs.
	(allocate_dynrelocs): Allocate 2 .got and 2 .rel.got entries if
	tls_type is GOT_TLS_IE_BOTH.
	(elf_i386_size_dynamic_sections): Likewise.
	(elf_i386_relocate_section): Handle R_386_TLS_IE and R_386_TLS_GOTIE.
	Handle R_386_TLS_LE_32 and R_386_TLS_LE in shared libs.
	(elf_i386_finish_dynamic_symbol): Use tls_type & GOT_TLS_IE to catch
	all 4 GOT_TLS_* TLS types.
gas/
	* config/tc-i386.c (tc_i386_fix_adjustable): Handle
	BFD_RELOC_386_TLS_IE and BFD_RELOC_386_TLS_GOTIE.
	(BFD_RELOC_386_TLS_IE, BFD_RELOC_386_TLS_GOTIE): Define to 0
	if not defined.
	(lex_got): Handle @@GOTNTPOFF and @@INDNTPOFF.
	(md_apply_fix3, tc_gen_reloc): Handle BFD_RELOC_386_TLS_IE and
	BFD_RELOC_386_TLS_GOTIE.
gas/testsuite/
	* gas/i386/tlspic.s: Add tests.
	* gas/i386/tlspic.d: Regenerated.
	* gas/i386/tlsnopic.s: Add tests.
	* gas/i386/tlsnopic.d: Regenerated.
include/
	* elf/i386.h (R_386_TLS_TPOFF, R_386_TLS_IE, R_386_TLS_GOTIE):
	Define.
ld/testsuite/
	* ld-i386/i386.exp: New.
	* ld-i386/tlsbin.dd: New test.
	* ld-i386/tlsbinpic.s: New test.
	* ld-i386/tlsbin.rd: New test.
	* ld-i386/tlsbin.s: New test.
	* ld-i386/tlsbin.sd: New test.
	* ld-i386/tlsbin.td: New test.
	* ld-i386/tlslib.s: New test.
	* ld-i386/tlsnopic1.s: New test.
	* ld-i386/tlsnopic2.s: New test.
	* ld-i386/tlsnopic.dd: New test.
	* ld-i386/tlsnopic.rd: New test.
	* ld-i386/tlsnopic.sd: New test.
	* ld-i386/tlspic1.s: New test.
	* ld-i386/tlspic2.s: New test.
	* ld-i386/tlspic.dd: New test.
	* ld-i386/tlspic.rd: New test.
	* ld-i386/tlspic.sd: New test.
	* ld-i386/tlspic.td: New test.
@
text
@d1 6
@


1.369
log
@        * config/tc-alpha.c (md_pcrel_from): Only adjust special for
        branch type relocs.
        (alpha_force_relocation): Don't special-case branch type relocs.

        * gas/alpha/elf-reloc-7.s: New.
        * gas/alpha/elf-reloc-7.d: New.
        * gas/alpha/alpha.exp: Run it.
@
text
@d1 7
@


1.368
log
@[ gas/ChangeLog ]
2002-09-18  Chris Demetriou  <cgd@@broadcom.com>

        * config/tc-mips.c (IS_SEXT_32BIT_NUM): Move closer to top of file.
        (IS_SEXT_16BIT_NUM): New macro.
        (macro_build_ldst_constoffset): New function, to build a set of
        instructions to do a load or store from a constant offset relative
        to a given register.
        (macro, s_cprestore): Use macro_build_ldst_constoffset to implement
        .cprestore pseudo-op.

[ gas/testsuite/ChangeLog ]
2002-09-18  Chris Demetriou  <cgd@@broadcom.com>

        * gas/mips/mips-abi32-pic2.s: New file.
        * gas/mips/mips-abi32-pic2.d: New file.
        * gas/mips/mips.exp: Run new test.

[ plus, fixed date on prev. gas/testsuite/ChangeLog entry. ]
@
text
@d1 6
@


1.367
log
@[ gas/ChangeLog ]
2002-09-18  Chris Demetriou  <cgd@@broadcom.com>

        * config/tc-mips.c (md_apply_fix3): Just return for BFD_RELOC_8.

[ gas/testsuite/ChangeLog ]
2002-09-18  Chris Demetriou  <cgd@@broadcom.com>

        * gas/mips/baddata1.s: New file.
        * gas/mips/baddata1.l: New file.
        * gas/mips/mips.exp: Run new test.
@
text
@d1 7
a7 1
2002-09-12  Chris Demetriou  <cgd@@broadcom.com>
@


1.366
log
@[ gas/testsuite/ChangeLog ]
2002-09-18  Chris Demetriou  <cgd@@broadcom.com>

        * gas/mips/branch-misc-1.d: New file.
        * gas/mips/branch-misc-1.s: New file.
        * gas/mips/branch-misc-2.s: New file.
        * gas/mips/branch-misc-2.d: New file.
        * gas/mips/mips.exp: Run new tests.

[ ld/testsuite/ChangeLog ]
2002-09-18  Chris Demetriou  <cgd@@broadcom.com>

        * ld-mips-elf/branch-misc-1.d: New file.
        * ld-mips-elf/branch-misc-2.d: New file.
        * ld-mips-elf/mips-elf.exp: Run new tests.
@
text
@d1 6
@


1.365
log
@2002-09-17  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* gas/mips/jal-range.s: Check for jal overflows.
	* gas/mips/jal-range.l: List file for it.
	* gas/mips/mips.exp: Use it.
@
text
@d1 8
@


1.364
log
@2002-09-08  Ben Elliston  <bje@@redhat.com>

	* gas/hppa/basic/basic.exp: Update DejaGnu mail address.
	* gas/hppa/parse/parse.exp: Likewise.
	* gas/hppa/reloc/reloc.exp: Likewise.
	* gas/hppa/unsorted/unsorted.exp: Likewise.
	* gas/mn10200/basic.exp: Likewise.
	* gas/mn10300/basic.exp: Likewise.
	* gas/sh/basic.exp: Likewise.
	* gas/sh/sh64/sh64.exp: Likewise.
	* gas/v850/basic.exp: Likewise.
	* lib/gas-defs.exp: Likewise.

	* gas/all/gas.exp: Removing limping support for DejaGnu 1.1.1.
	* gasp/gasp.exp: Likewise.
@
text
@d1 6
@


1.363
log
@	* gas/i386/absrel.s: New.
	* gas/i386/absrel.d: New.
	* gas/i386/pcrel.s: New.
	* gas/i386/pcrel.d: New.
	* gas/i386/i386.exp: Run them.
	* gas/testsuite/gas/mmix/comment-1.d: Don't test the symbol
	index, the name will do.
	* gas/mri/moveml.d: Escape dots.
	* gas/macros/macros.exp (strings): Add rs6000-*-* to xfails.
	* gas/mips/beq.s: Don't make text_label global.
	* gas/mips/mips32.s: Likewise.
	* gas/mips/mips64-mips3d.s: Likewise.
@
text
@d1 16
@


1.362
log
@	* gas/mcore/allinsn.d: Escape dots.  Pass -z to objdump and adjust
	to suit.  Match coff relocs.  Match "from address pool" comments.
	* gas/sparc/pcrel.s: Use 2b label in expressions.
	* gas/sparc/pcrel64.s: Likewise.
	* gas/sparc/pcrel.d: Adjust to suit.
	* gas/sparc/pcrel64.d: Likewise.
	* gas/vtable/vtable.exp: Move xfails to ..
	(proc vtable_setup_xfails): .. here. Add i866.
@
text
@d1 15
@


1.361
log
@	* gas/macros/macros.exp (strings): Update xfails.
@
text
@d3 9
@


1.360
log
@	* gas/m68k/all.exp: xfail non-ELF targets on pcrel test.
@
text
@d1 4
@


1.359
log
@	* gas/m68hc11/insns.d: Quote dots.
	* gas/m68hc11/opers12.d: Likewise.
@
text
@d3 2
@


1.358
log
@	* gas/ieee-fp/x930509a.exp: Run the test but xfail.  Add c80 to xfails.
@
text
@d3 3
@


1.357
log
@	* gas/vax/quad.exp: Use quad_elf.s for ELF targets.
	* gas/vax/quad.s: Align
	* gas/vax/quad_elf.s: New version of quad.s with %reg.
@
text
@d3 2
@


1.356
log
@	* gas/sparc/sparc.exp (sparc_elf_setup): New.
	Use it to xfail for non-ELF targets.
@
text
@d3 4
@


1.355
log
@	* gas/tic54x/align.s: Add comment.
	* gas/tic54x/align.d: Adjust .text size for 2002-05-23 write.c change.
	* gas/tic54x/extaddr.d: Similarly adjust disassembly tail.
@
text
@d3 3
@


1.354
log
@Fix arm-aout failures
@
text
@d1 6
@


1.353
log
@	* gas/ppc/ppc.exp: Don't run e500 test on xcoff targets.
	* gas/ppc/astest2.d: Escape dots.
@
text
@d1 17
@


1.352
log
@[gas/]
	* config/tc-mips.c (macro2): Implement rotates by zero using shifts
        by zero.

[gas/testsuite]
	* gas/mips/rol.s: Add rotate by zero tests.
	* gas/mips/rol.d: Update accordingly.
	* gas/mips/rol64.d: Expect rotates by zero to use dsrl.
@
text
@d1 5
@


1.351
log
@2002-08-19  Elena Zannoni   <ezannoni@@redhat.com>

        From  matthew green  <mrg@@redhat.com>

        * e500.s: New tests for e500 instructions.
        * e500.d: Results for new test.
        * ppc.exp: Test e500.s.
@
text
@d1 6
@


1.350
log
@Correct date on previous ChangeLog entry.
@
text
@d1 8
@


1.349
log
@	* gas/sh/sh64/datal32-3.d: Formatting change to match the current
	output of objdump.
@
text
@d1 1
a1 1
2002-08-13  Stephen Clarke <stephen.clarke@@superh.com>
@


1.348
log
@	* gas/all/gas.exp (forward references): Don't test c30.
	* gas/d30v/guard-debug.d: Use -gstabs rather than -g.
	* gas/elf/ehopt0.s: Don't use "$" in labels.
	* gas/ieee-fp/x930509a.exp: Don't test c30.
	* gas/m68hc11/malis.d: Adjust -I so that test runs when not building
	in source dir.
	* gas/mri/mri.exp: Don't run on "m68hc*".
	* gas/sh/basic.exp (do_fp): Match LE too.
	(pcrel-coff): Run this version for "sh*-pe*" and rename "sh*-hms" to
	"sh*-rtems".
	* gas/sh/pcrel-coff.d: Add -EB to objdump flags.
	* gas/vtable/vtable.exp: Don't run on linuxecoff.  setup_xfail in
	preference to not running on ELF targets that might one day pass.
	Add more xfails.  Add more targets to the REL list.
@
text
@d1 5
@


1.347
log
@2002-08-14  H.J. Lu <hjl@@gnu.org>

	* gas/mips/elempic.d: Treat "addiu" and "daddiu" as equivalent
	when $0 is source.
	* gas/mips/telempic.d: Likewise.
	* gas/mips/telempic.d: Likewise.
@
text
@d1 17
@


1.346
log
@	* gas/m68hc11/all.exp: Run the new test.
	* gas/m68hc11/insns12.s: New file to test specific 68HC12 insns.
	* gas/m68hc11/insns12.d: New file.
	* gas/m68hc11/branchs12.s: New test.
	* gas/m68hc11/branchs12.d: New test.

	* gas/m68hc11/all_insns.d: Dump the relocs to verify that they
	are against symbols and not sections (for linker relaxation).
	* gas/m68hc11/insns-dwarf2.d: Likewise.
	* gas/m68hc11/insns.d: Likewise.
	* gas/m68hc11/lbranch.d: Likewise.
	* gas/m68hc11/lbranch-dwarf2.d: Likewise.
	* gas/m68hc11/opers12.d: Likewise.
	* gas/m68hc11/opers12-dwarf2.d: Likewise.
@
text
@d1 7
@


1.345
log
@[gas/]
	* config/tc-mips.c (mips_ip): Don't work out the value of
	constant %hi()s here.

[gas/testsuite/]
	* gas/mips/elf-consthilo.[sd]: New test.
	* gas/mips/mips.exp: Run it.
@
text
@d1 17
@


1.344
log
@* config/tc-mips.c (macro): Handle a register plus a 16-bit
immediate offset in "dla" and "la" expansions.
* gas/mips/empic.d: Treat "addiu" and "daddiu" as equivalent when
$0 is source.
* mips-opc.c (mips_builtin_opcodes): Remove "dla" and "la" as
aliases to "daddiu" and "addiu".
@
text
@d1 5
@


1.343
log
@	* gas/ppc/altivec_xcoff64.d: Adjust for aix5 target.
	* gas/ppc/booke_xcoff64.d: Likewise.  Also fix relocs.
@
text
@d1 5
@


1.342
log
@2002-08-01  H.J. Lu <hjl@@gnu.org>

	* gas/mips/elf-rel6.s: Add ".p2align 4".
	* gas/mips/elf-rel6.d: Check nop.
@
text
@d1 5
@


1.341
log
@[gas/]
	* config/tc-mips.c (tc_gen_reloc): Extend GP-relative addend
	handling to BFD_RELOC_MIPS16_GPREL.

[gas/testsuite/]
	* gas/mips/elf-rel6.[sd]: New test.
	* gas/mips/mips.exp: Run it.
@
text
@d1 5
@


1.340
log
@[ gas/testsuite/ChangeLog ]
2002-07-26  Chris Demetriou  <cgd@@broadcom.com>

        * gas/mips/elf_ase_mips16.d: New file to test ELF MIPS16 ASE marking.
        * gas/mips/elf_ase_mips16.s: Likewise.
        * gas/mips/mips.exp: Run the new test.

[ ld/testsuite/ChangeLog ]
2002-07-26  Chris Demetriou  <cgd@@broadcom.com>

        * ld-mips-elf/mips16-1.d: Check that ASE flag is actually set.
@
text
@d1 5
@


1.339
log
@	* gas/ppc/altivec.d: Invoke "as" with "-a32".
@
text
@d1 6
@


1.338
log
@[gas/]
	* doc/c-mips.texi: Remove -mcpu.  Document -mabi.
	* configure.in (MIPS_CPU_STRING_DEFAULT): New configuration macro.
	(USE_E_MIPS_ABI_O32, MIPS_DEFAULT_64BIT): New configuration macros.
	* configure, config.in: Regenerate.
	* config/tc-mips.c (file_mips_abi): Rename to mips_abi.
	(mips_set_options): Remove "abi" field.
	(mips_opts): Update accordingly.  Replace all uses of mips_opts.abi
	with mips_abi.
	(mips_cpu): Remove.
	(mips_arch_string, mips_arch_info): New vars.
	(mips_tune_string, mips_tune_info): New vars.
	(ABI_NEEDS_32BIT_REGS, ABI_NEEDS_64BIT_REGS): New macros.
	(HAVE_32BIT_GPRS, HAVE_32BIT_FPRS): Don't check the ABI.
	(mips_isa_to_str, mips_cpu_to_str): Remove.
	(mips_ip): If the selected architecture is a generic ISA rather
	than a processor, only mention the ISA level in error messages.
	(OPTION_MCPU): Remove.
	(OPTION_FP64): New.
	(md_longopts): Add -mfp64, remove -mcpu.
	(mips_set_option_string): New fn.
	(md_parse_option): Make -mipsN update file_mips_isa rather than
	mips_opts.isa.  Use mips_set_option_string to set -march or -mtune.
	Don't let -mgp32 and -mfp32 change the ABI.
	(show): Move to end of file.  Constify string argument.
	(md_show_usage): Move to the end of the file.  Read available
	architectures from mips_cpu_info_table.
	(mips_set_architecture): New fn.
	(mips_after_parse_args): Rework.  Remove -mcpu handling.  -mipsN
	is an alias for -march=mipsN.  Don't change the ABI based on other
	flags.  Infer the register size from the ABI as	well as the
	architecture.  Complain about more conflicting arguments.
	Unify logic with GCC.
	(s_mipsset): Don't change the ABI.
	(mips_elf_final_processing): Check USE_E_MIPS_ABI_O32.
	(mips_cpu_info_table): Remove Generic-MIPS* entries, keeping just
	"mipsN"-type entries.  Remove entries that vary only in the
	manufacturer's prefix, or that have "000" replaced by "k".
	Remove TARGET_CPU entries.  Make r2000 entry use CPU_R3000.
	(mips_strict_matching_cpu_name_p, mips_matching_cpu_name_p): New fns.
	(mips_parse_cpu): New fn.
	(mips_cpu_info_from_name, mips_cpu_info_from_cpu): Remove.
	(mips_cpu_info_from_isa): Minor formatting tweak.

[gas/testsuite]
	* gas/mips/mips-gp32-fp64.d,
	* gas/mips/mips-gp32-fp64-pic.d: Add -mfp64.
@
text
@d1 4
@


1.337
log
@	* gas/mmix/list-pseudoints.l: Adjust for changes in gas section
	padding.
	* gas/mmix/greg7.d: Ditto.
	* gas/mmix/greg8.d: Ditto.
	* gas/mmix/fb-2.d: Ditto.
	* gas/mmix/comment-1.d: Ditto.
	* gas/mmix/byte-1.d: Ditto.
@
text
@d1 5
@


1.336
log
@2002-07-17  H.J. Lu <hjl@@gnu.org>

	* gas/ia64/dv-branch.d: Updated.
	* gas/ia64/opc-b.d: Likewise.
@
text
@d1 10
@


1.335
log
@	* gas/i386/intel16.s: New.
	* gas/i386/intel16.d: New.
	* gas/i386/i386.exp: Run it.
@
text
@d1 5
@


1.335.2.1
log
@Testsuite changes for misassembly of indirect br.call insns.
	* gas/ia64/dv-branch.d: Updated.
	* gas/ia64/opc-b.d: Likewise.
@
text
@a0 5
2002-07-17  H.J. Lu <hjl@@gnu.org>

	* gas/ia64/dv-branch.d: Updated.
	* gas/ia64/opc-b.d: Likewise.

@


1.335.2.2
log
@	* gas/mmix/list-pseudoints.l: Adjust for changes in gas section
	padding.
	* gas/mmix/greg7.d: Ditto.
	* gas/mmix/greg8.d: Ditto.
	* gas/mmix/fb-2.d: Ditto.
	* gas/mmix/comment-1.d: Ditto.
	* gas/mmix/byte-1.d: Ditto.
@
text
@a0 10
2002-07-19  Hans-Peter Nilsson  <hp@@bitrange.com>

	* gas/mmix/list-pseudoints.l: Adjust for changes in gas section
	padding.
	* gas/mmix/greg7.d: Ditto.
	* gas/mmix/greg8.d: Ditto.
	* gas/mmix/fb-2.d: Ditto.
	* gas/mmix/comment-1.d: Ditto.
	* gas/mmix/byte-1.d: Ditto.

@


1.335.2.3
log
@	* gas/ppc/altivec.d: Invoke "as" with "-a32".
@
text
@a0 4
2002-07-26  Alan Modra  <amodra@@bigpond.net.au>

	* gas/ppc/altivec.d: Invoke "as" with "-a32".

@


1.335.2.4
log
@        Merge from mainline:
        2002-07-29  Chris Demetriou  <cgd@@broadcom.com>
        * gas/mips/elf_ase_mips16.d: New file to test ELF MIPS16 ASE marking.
        * gas/mips/elf_ase_mips16.s: Likewise.
        * gas/mips/mips.exp: Run the new test.
@
text
@a0 8
2002-07-30  Daniel Jacobowitz  <drow@@mvista.com>

	Merge from mainline:
	2002-07-29  Chris Demetriou  <cgd@@broadcom.com>
	* gas/mips/elf_ase_mips16.d: New file to test ELF MIPS16 ASE marking.
	* gas/mips/elf_ase_mips16.s: Likewise.
	* gas/mips/mips.exp: Run the new test.

@


1.335.2.5
log
@        Merge from mainline:
        2002-08-01  Richard Sandiford  <rsandifo@@redhat.com>
        * config/tc-mips.c (tc_gen_reloc): Extend GP-relative addend
        handling to BFD_RELOC_MIPS16_GPREL.

        Merge from mainline:
        2002-08-01  Richard Sandiford  <rsandifo@@redhat.com>
        * gas/mips/elf-rel6.[sd]: New test.
        * gas/mips/mips.exp: Run it.
@
text
@a0 7
2002-08-01  Daniel Jacobowitz  <drow@@mvista.com>

	Merge from mainline:
	2002-08-01  Richard Sandiford  <rsandifo@@redhat.com>
	* gas/mips/elf-rel6.[sd]: New test.
	* gas/mips/mips.exp: Run it.

@


1.335.2.6
log
@        Merge from mainline:
        2002-08-01  H.J. Lu <hjl@@gnu.org>
        * gas/mips/elf-rel6.s: Add ".p2align 4".
        * gas/mips/elf-rel6.d: Check nop.
@
text
@a0 7
2002-08-06  Daniel Jacobowitz  <drow@@mvista.com>

	Merge from mainline:
	2002-08-01  H.J. Lu <hjl@@gnu.org>
	* gas/mips/elf-rel6.s: Add ".p2align 4".
	* gas/mips/elf-rel6.d: Check nop.

@


1.335.2.7
log
@* config/tc-mips.c (macro): Handle a register plus a 16-bit
immediate offset in "dla" and "la" expansions.
* gas/mips/empic.d: Treat "addiu" and "daddiu" as equivalent when
$0 is source.
* mips-opc.c (mips_builtin_opcodes): Remove "dla" and "la" as
aliases to "daddiu" and "addiu".
@
text
@a0 5
2002-08-20  Maciej W. Rozycki  <macro@@ds2.pg.gda.pl>

	* gas/mips/empic.d: Treat "addiu" and "daddiu" as equivalent when
	$0 is source.

@


1.335.2.8
log
@	* gas/tic54x/align.s: Add comment.
	* gas/tic54x/align.d: Adjust .text size for 2002-05-23 write.c change.
	* gas/tic54x/extaddr.d: Similarly adjust disassembly tail.
@
text
@a0 6
2002-08-26  Alan Modra  <amodra@@bigpond.net.au>

	* gas/tic54x/align.s: Add comment.
	* gas/tic54x/align.d: Adjust .text size for 2002-05-23 write.c change.
	* gas/tic54x/extaddr.d: Similarly adjust disassembly tail.

@


1.335.2.9
log
@	* gas/sparc/sparc.exp (sparc_elf_setup): New.
	Use it to xfail for non-ELF targets.
@
text
@a2 3
	* gas/sparc/sparc.exp (sparc_elf_setup): New.
	Use it to xfail for non-ELF targets.

@


1.335.2.10
log
@	* gas/vax/quad.exp: Use quad_elf.s for ELF targets.
	* gas/vax/quad.s: Align
	* gas/vax/quad_elf.s: New version of quad.s with %reg.
@
text
@a2 4
	* gas/vax/quad.exp: Use quad_elf.s for ELF targets.
	* gas/vax/quad.s: Align
	* gas/vax/quad_elf.s: New version of quad.s with %reg.

@


1.335.2.11
log
@	* gas/ieee-fp/x930509a.exp: Run the test but xfail.  Add c80 to xfails.
@
text
@a2 2
	* gas/ieee-fp/x930509a.exp: Run the test but xfail.  Add c80 to xfails.

@


1.335.2.12
log
@	* gas/m68k/all.exp: xfail non-ELF targets on pcrel test.
@
text
@a2 2
	* gas/m68k/all.exp: xfail non-ELF targets on pcrel test.

@


1.335.2.13
log
@2002-09-23  Daniel Jacobowitz  <drow@@mvista.com>

	Merge from mainline:
	2002-09-19  Jakub Jelinek  <jakub@@redhat.com>
	* gas/i386/tlspic.s: Add tests.
	* gas/i386/tlspic.d: Regenerated.
	* gas/i386/tlsnopic.s: Add tests.
	* gas/i386/tlsnopic.d: Regenerated.

	2002-09-16  Chris Demetriou  <cgd@@broadcom.com>
	* gas/mips/mips-abi32-pic2.s: New file.
	* gas/mips/mips-abi32-pic2.d: New file.
	* gas/mips/mips.exp: Run new test.

	2002-08-20  Richard Sandiford  <rsandifo@@redhat.com>
	* gas/mips/rol.s: Add rotate by zero tests.
	* gas/mips/rol.d: Update accordingly.
	* gas/mips/rol64.d: Expect rotates by zero to use dsrl.

	2002-08-13  Stephen Clarke <stephen.clarke@@superh.com>
	* gas/sh/sh64/datal32-3.d: Formatting change to match the current
	output of objdump.

	2002-08-12  Richard Sandiford  <rsandifo@@redhat.com>
	* gas/mips/elf-consthilo.[sd]: New test.
	* gas/mips/mips.exp: Run it.

	2002-08-06  Alan Modra  <amodra@@bigpond.net.au>
	* gas/ppc/altivec_xcoff64.d: Adjust for aix5 target.
	* gas/ppc/booke_xcoff64.d: Likewise.  Also fix relocs.

	2002-08-03  Jakub Jelinek  <jakub@@redhat.com>
	* testsuite/gas/i386/gotpc.s: New.
	* testsuite/gas/i386/gotpc.d: New.
	* testsuite/gas/i386/i386.exp: Add gotpc test.
@
text
@a0 36
2002-09-23  Daniel Jacobowitz  <drow@@mvista.com>

	Merge from mainline:
	2002-09-19  Jakub Jelinek  <jakub@@redhat.com>
	* gas/i386/tlspic.s: Add tests.
	* gas/i386/tlspic.d: Regenerated.
	* gas/i386/tlsnopic.s: Add tests.
	* gas/i386/tlsnopic.d: Regenerated.

	2002-09-16  Chris Demetriou  <cgd@@broadcom.com>
	* gas/mips/mips-abi32-pic2.s: New file.
	* gas/mips/mips-abi32-pic2.d: New file.
	* gas/mips/mips.exp: Run new test.

	2002-08-20  Richard Sandiford  <rsandifo@@redhat.com>
	* gas/mips/rol.s: Add rotate by zero tests.
	* gas/mips/rol.d: Update accordingly.
	* gas/mips/rol64.d: Expect rotates by zero to use dsrl.

	2002-08-13  Stephen Clarke <stephen.clarke@@superh.com>
	* gas/sh/sh64/datal32-3.d: Formatting change to match the current
	output of objdump.

	2002-08-12  Richard Sandiford  <rsandifo@@redhat.com>
	* gas/mips/elf-consthilo.[sd]: New test.
	* gas/mips/mips.exp: Run it.

	2002-08-06  Alan Modra  <amodra@@bigpond.net.au>
	* gas/ppc/altivec_xcoff64.d: Adjust for aix5 target.
	* gas/ppc/booke_xcoff64.d: Likewise.  Also fix relocs.

	2002-08-03  Jakub Jelinek  <jakub@@redhat.com>
	* testsuite/gas/i386/gotpc.s: New.
	* testsuite/gas/i386/gotpc.d: New.
	* testsuite/gas/i386/i386.exp: Add gotpc test.

@


1.335.2.14
log
@Merge from mainline.
@
text
@a0 7
2002-10-28  Daniel Jacobowitz  <drow@@mvista.com>

	Merge from mainline:
	2002-10-21  Richard Sandiford  <rsandifo@@redhat.com>
	* gas/mips/elf-rel7.[sd]: New test.
	* gas/mips/mips.exp: Run it.

@


1.335.2.15
log
@Merge fixes from trunk.
@
text
@a0 5
2002-11-30  Kaz Kojima  <kkojima@@rr.iij4u.or.jp>

	* sh/gas/sh/pic.s: Add a test for ".long foo@@PLT+.-2-label".
	* sh/gas/sh/pic.d: Add expected output.

@


1.334
log
@	* lib/gas-defs.exp (run_dump_test): Run objdump/nm/objcopy/readelf
	with LC_ALL=C to ensure consistent sorting.
@
text
@d1 6
@


1.333
log
@2002-06-18  Dave Brolley  <brolley@@redhat.com>

	* gas/frv: New testsuite.
@
text
@d1 5
@


1.332
log
@	* gas/sh/dsp.s: Add three more instructions.
	* gas/sh/dsp.d: Update.
@
text
@d1 4
@


1.331
log
@2002-06-14  H.J. Lu  <hjl@@gnu.org>
            Daniel Jacobowitz  <drow@@mvista.com>

        * dwarf2dbg.h (dwarf2_directive_file): Return char *.
        * dwarf2dbg.c (dwarf2_directive_file): Return filename.
        * config/tc-mips.c (s_mips_file): Call s_app_file_string
        and new_logical_line for the first .file directive.
        * read.c (s_app_file_string): New function.
        (s_app_file): Call it.
        * read.h (s_app_file_string): Add declaration.

2002-06-14  Daniel Jacobowitz  <drow@@mvista.com>

        * configure.in: Remove MIPS_STABS_ELF.
        * configure: Regenerated.
        * config.in: Regenerated.
        * config/obj-elf.h (ECOFF_DEBUGGING): Define to mips_flag_mdebug
        for MIPS targets.
        * config/tc-mips.c (mips_pseudo_table): Remove #ifdef around
        ".extern".
        (pdr_seg): Declare unconditionally.
        (md_begin): Always generate .pdr unless ECOFF_DEBUGGING or not ELF.
        (s_mips_end): Likewise.  Generate stabs function markers.
        (s_mips_ent): Generate stabs function markers.
        (s_mips_frame): Always generate .pdr unless ECOFF_DEBUGGING or not
        ELF.
        (s_mips_mask): Likewise.
        (mips_flag_mdebug): New.
        (md_longopts): Add "mdebug" and "no-mdebug".
        (md_parse_options): Add OPTION_MDEBUG and OPTION_NO_MDEBUG.
        (mips_after_parse_args): Set mips_flag_mdebug.
        * doc/as.texinfo: Add "-mdebug" and "-no-mdebug" for MIPS.

2002-06-14  Daniel Jacobowitz  <drow@@mvista.com>

        * gas/mips/lineno.d: Use --gstabs.
        * gas/mips/mips.exp (lineno.s): Remove XFAIL.
@
text
@d1 5
@


1.330
log
@Add and fix tests to reflect changing text alignment to 4 bytes.
@
text
@d1 5
@


1.329
log
@	* gas/testsuite/gas/hppa/basic/add.s: Set code level to 1.1.
	* gas/testsuite/gas/hppa/basic/branch.s: Likewise.
	* gas/testsuite/gas/hppa/basic/dcor.s: Likewise.
	* gas/testsuite/gas/hppa/basic/logical.s: Likewise.
	* gas/testsuite/gas/hppa/basic/shladd.s: Likewise.
	* gas/testsuite/gas/hppa/basic/sub.s: Likewise.
	* gas/testsuite/gas/hppa/basic/unit.s: Likewise.
	* gas/testsuite/gas/hppa/unsorted/unsorted.exp: Return if target
	"*-*-linux*".
@
text
@d1 9
@


1.328
log
@[ opcodes/ChangeLog ]
2002-05-31  Chris G. Demetriou  <cgd@@broadcom.com>
            Ed Satterthwaite  <ehs@@broadcom.com>

        * mips-opc.c: Add support for SB-1 MDMX subset and extensions.

[ gas/testsuite/ChangeLog ]
2002-05-31  Chris G. Demetriou  <cgd@@broadcom.com>

        * gas/mips/sb1-ext-mdmx.s: New file.
        * gas/mips/sb1-ext-mdmx.d: Likewise.
        * gas/mips/mips.exp: Run new "sb1-ext-mdmx" test.
@
text
@d1 11
@


1.327
log
@2002-05-31  Chris G. Demetriou  <cgd@@broadcom.com>

        * gas/mips/mips.exp: Use elf-rel2 and elfel-rel2 for
        mipsisa64*-*-* targets, rather than e32-rel2 and e32el-rel2.
@
text
@d3 6
@


1.326
log
@2002-05-30  Chris G. Demetriou  <cgd@@broadcom.com>

        * gas/mips/mips64-mdmx.s: Tweak to more thoroughly cover
        instruction encodings.
        * gas/mips/mips64-mdmx.d: Likewise.
@
text
@d1 5
@


1.325
log
@[ gas/ChangeLog ]
2002-05-30  Chris G. Demetriou  <cgd@@broadcom.com>
            Ed Satterthwaite  <ehs@@broadcom.com>

	* config/tc-mips.c (mips_set_options): New "ase_mdmx" member.
	(mips_opts): Initialize "ase_mdmx" member.
	(file_ase_mdmx): New variable.
	(CPU_HAS_MDMX): New macro.
	(md_begin): Initialize mips_opts.ase_mdmx and file_ase_mdmx
	based on command line options and configuration defaults.
	(macro_build): Note in comment that use of MDMX in macros is
	not currently allowed.
	(validate_mips_insn): Add support for the "O", "Q", "X", "Y", and
	"Z" MDMX operand types.
	(mips_ip): Accept MDMX instructions if mips_opts.ase_mdmx is set,
	and add support for the "O", "Q", "X", "Y", and "Z" MDMX operand
	types.
	(OPTION_MDMX, OPTION_NO_MDMX, md_longopts, md_parse_option):
	Add support for "-mdmx" and "-no-mdmx" options.
	(OPTION_ELF_BASE): Move to accomodate new options.
	(s_mipsset): Support ".set mdmx" and ".set nomdmx".
	(mips_elf_final_processing): Set MDMX ASE ELF header flag if
	file_ase_mdmx was set.
	* doc/as.texinfo: Document -mdmx and -no-mdmx options.
	* doc/c-mips.texi: Likewise, and document ".set mdmx" and ".set
	nomdmx" directives.

[ gas/testsuite/ChangeLog ]
2002-05-30  Chris G. Demetriou  <cgd@@broadcom.com>

	* gas/mips/mips64-mdmx.s: New file.
	* gas/mips/mips64-mdmx.d: Likewise.
	* gas/mips/mips.exp: Run new "mips64-mdmx" test.

[ include/opcode/ChangeLog ]
2002-05-30  Chris G. Demetriou  <cgd@@broadcom.com>

	* mips.h (OP_SH_ALN, OP_MASK_ALN, OP_SH_VSEL, OP_MASK_VSEL)
	(MDMX_FMTSEL_IMM_QH, MDMX_FMTSEL_IMM_OB, MDMX_FMTSEL_VEC_QH)
	(MDMX_FMTSEL_VEC_OB, INSN_READ_MDMX_ACC, INSN_WRITE_MDMX_ACC)
	(INSN_MDMX): New constants, for MDMX support.
	(opcode character list): Add "O", "Q", "X", "Y", and "Z" for MDMX.

[ opcodes/ChangeLog ]
2002-05-30  Chris G. Demetriou  <cgd@@broadcom.com>
            Ed Satterthwaite  <ehs@@broadcom.com>

	* mips-dis.c (print_insn_arg): Add support for 'O', 'Q', 'X', 'Y',
	and 'Z' formats, for MDMX.
        (mips_isa_type): Add MDMX instructions to the ISA
	bit mask for bfd_mach_mipsisa64.
	* mips-opc.c: Add support for MDMX instructions.
	(MX): New definition.

	* mips-dis.c: Update copyright years to include 2002.
@
text
@d3 6
@


1.324
log
@include/elf/
        * alpha.h (R_ALPHA_TLSGD, R_ALPHA_TLSLDM, R_ALPHA_DTPMOD64,
        R_ALPHA_GOTDTPREL, R_ALPHA_DTPREL64, R_ALPHA_DTPRELHI,
        R_ALPHA_DTPRELLO, R_ALPHA_DTPREL16, R_ALPHA_GOTTPREL, R_ALPHA_TPREL64,
        R_ALPHA_TPRELHI, R_ALPHA_TPRELLO, R_ALPHA_TPREL16): New.

bfd/
        * elf64-alpha.c (ALPHA_ELF_LINK_HASH_LU_TLSGD,
        ALPHA_ELF_LINK_HASH_LU_TLSLDM, ALPHA_ELF_LINK_HASH_LU_FUNC): New.
        (ALPHA_ELF_GOT_ENTRY_RELOCS_DONE): Remove.
        (ALPHA_ELF_GOT_ENTRY_RELOCS_XLATED): Remove.
        (struct alpha_elf_got_entry): Add reloc_type, reloc_done, reloc_xlated.
        (struct alpha_elf_obj_tdata): Rename total_got_entries and
        n_local_got_entries to total_got_size and local_got_size.
        (elf64_alpha_howto, elf64_alpha_reloc_map): Update for TLS relocs.
        (alpha_got_entry_size): New.
        (elf64_alpha_relax_with_lituse): Use it.
        (elf64_alpha_relax_without_lituse): Likewise.
        (MAX_GOT_SIZE): Rename from MAX_GOT_ENTRIES.
        (get_got_entry): New.
        (elf64_alpha_check_relocs): Handle TLS relocs.  Reorganize.
        (elf64_alpha_adjust_dynamic_symbol): Test LU_FUNC as a mask.
        (elf64_alpha_merge_ind_symbols): Check gotent->reloc_type.
        (elf64_alpha_can_merge_gots, elf64_alpha_merge_gots): Likewise.
        (elf64_alpha_calc_got_offsets_for_symbol): Use alpha_got_entry_size.
        (elf64_alpha_calc_got_offsets): Likewise.
        (alpha_dynamic_entries_for_reloc): New.
        (elf64_alpha_calc_dynrel_sizes): Use it.
        (elf64_alpha_size_dynamic_sections): Likewise.
        (elf64_alpha_relocate_section): Handle TLS relocations.
        * reloc.c: Add Alpha TLS relocations.
        * bfd-in2.h, libbfd.h: Rebuild.

gas/
        * expr.h (operatorT): Add O_md17..O_md32.
        * config/tc-alpha.c (O_lituse_tlsgd, O_lituse_tlsldm, O_tlsgd,
        O_tlsldm, O_gotdtprel, O_dtprelhi, O_dtprello, O_dtprel, O_gottprel,
        O_tprelhi, O_tprello, O_tprel): New.
        (USER_RELOC_P, alpha_reloc_op_tag, debug_exp): Include them.
        (DUMMY_RELOC_LITUSE_TLSGD, DUMMY_RELOC_LITUSE_TLSLDM): New.
        (LITUSE_TLSGD, LITUSE_TLSLDM): New.
        (struct alpha_reloc_tag): Add master, saw_tlsgd, saw_tlsld,
        saw_lu_tlsgd, saw_lu_tlsldm.  Make multi_section_p a bit field.
        (md_apply_fix3): Handle TLS relocations.
        (alpha_force_relocation, alpha_fix_adjustable): Likewise.
        (alpha_adjust_symtab_relocs): Sort LITERAL relocs after the
        associated TLS reloc.  Check lituse_tls relocs match up.
        (emit_insn): Handle TLS relocations.
        (ldX_op): Remove.

gas/testsuite/
        * gas/alpha/elf-tls-1.s, gas/alpha/elf-tls-1.d: New.
        * gas/alpha/elf-tls-2.s, gas/alpha/elf-tls-1.l: New.
        * gas/alpha/elf-tls-3.s, gas/alpha/elf-tls-1.l: New.
        * gas/alpha/alpha.exp: Run them.
@
text
@d1 6
@


1.323
log
@Some d10v gas tests.
@
text
@d1 7
@


1.322
log
@Add DLX target
@
text
@d1 15
@


1.321
log
@New d10v tests.
@
text
@d1 17
@


1.320
log
@2002-05-23  H.J. Lu <hjl@@gnu.org>

	* gas/mips/elf-rel.d: Skip the padding.
	* gas/mips/elfel-rel.d: Likewise.
@
text
@d1 10
@


1.319
log
@2002-05-23  H.J. Lu <hjl@@gnu.org>

	* gas/all/align2.d: New.
	* gas/all/align2.s: New.

	* gas/all/gas.exp: Run align2.
@
text
@d3 5
@


1.318
log
@2002-05-22  H.J. Lu <hjl@@gnu.org>

	* gas/mips/elf-rel.d: Updated for the subsegs_finish change in
	write.c.
	* gas/mips/elfel-rel.d: Likewise.
@
text
@d1 7
@


1.317
log
@	* gas/sh/pcrel-coff.s: New file.
	* gas/sh/pcrel-coff.d: Likewise.
	* gas/sh/basic.exp: For coff, don't do dsp test,
	and a modified pcrel test.
@
text
@d1 6
@


1.316
log
@? gas/testsuite/gas/mips/rol64.d
? gas/testsuite/gas/mips/rol64.s
Index: gas/ChangeLog
===================================================================
RCS file: /cvs/src/src/gas/ChangeLog,v
retrieving revision 1.1334
diff -u -p -r1.1334 ChangeLog
--- gas/ChangeLog	21 May 2002 20:01:51 -0000	1.1334
+++ gas/ChangeLog	21 May 2002 23:32:51 -0000
@@@@ -1,3 +1,8 @@@@
+2002-05-22  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>
+
+	* config/tc-mips.c (macro2): Add 64 bit drol, dror macros.
+	Optimize the rotate by zero case.
+
 2002-05-21  Nick Clifton  <nickc@@cambridge.redhat.com>

 	* configure.in: Remove accidental enabling of bfd_gas=yes for
Index: gas/config/tc-mips.c
===================================================================
RCS file: /cvs/src/src/gas/config/tc-mips.c,v
retrieving revision 1.123
diff -u -p -r1.123 tc-mips.c
--- gas/config/tc-mips.c	14 May 2002 23:35:59 -0000	1.123
+++ gas/config/tc-mips.c	21 May 2002 23:32:52 -0000
@@@@ -6686,6 +6686,17 @@@@ macro2 (ip)
       --mips_opts.noreorder;
       break;

+    case M_DROL:
+      macro_build ((char *) NULL, &icnt, (expressionS *) NULL, "dsubu",
+		   "d,v,t", AT, 0, treg);
+      macro_build ((char *) NULL, &icnt, (expressionS *) NULL, "dsrlv",
+		   "d,t,s", AT, sreg, AT);
+      macro_build ((char *) NULL, &icnt, (expressionS *) NULL, "dsllv",
+		   "d,t,s", dreg, sreg, treg);
+      macro_build ((char *) NULL, &icnt, (expressionS *) NULL, "or",
+		   "d,v,t", dreg, dreg, AT);
+      break;
+
     case M_ROL:
       macro_build ((char *) NULL, &icnt, (expressionS *) NULL, "subu",
 		   "d,v,t", AT, 0, treg);
@@@@ -6697,15 +6708,55 @@@@ macro2 (ip)
 		   "d,v,t", dreg, dreg, AT);
       break;

+    case M_DROL_I:
+      {
+	unsigned int rot;
+	char *l, *r;
+
+	if (imm_expr.X_op != O_constant)
+	  as_bad (_("rotate count too large"));
+	rot = imm_expr.X_add_number & 0x3f;
+	if (! rot)
+	  break;
+	l = (rot < 0x20) ? "dsll" : "dsll32";
+	r = ((0x40 - rot) < 0x20) ? "dsrl" : "dsrl32";
+	rot &= 0x1f;
+	macro_build ((char *) NULL, &icnt, (expressionS *) NULL, l,
+		     "d,w,<", AT, sreg, rot);
+	macro_build ((char *) NULL, &icnt, (expressionS *) NULL, r,
+		     "d,w,<", dreg, sreg, (0x20 - rot) & 0x1f);
+	macro_build ((char *) NULL, &icnt, (expressionS *) NULL, "or",
+		     "d,v,t", dreg, dreg, AT);
+      }
+      break;
+
     case M_ROL_I:
-      if (imm_expr.X_op != O_constant)
-	as_bad (_("rotate count too large"));
-      macro_build ((char *) NULL, &icnt, (expressionS *) NULL, "sll", "d,w,<",
-		   AT, sreg, (int) (imm_expr.X_add_number & 0x1f));
-      macro_build ((char *) NULL, &icnt, (expressionS *) NULL, "srl", "d,w,<",
-		   dreg, sreg, (int) ((0 - imm_expr.X_add_number) & 0x1f));
-      macro_build ((char *) NULL, &icnt, (expressionS *) NULL, "or", "d,v,t",
-		   dreg, dreg, AT);
+      {
+	unsigned int rot;
+
+	if (imm_expr.X_op != O_constant)
+	  as_bad (_("rotate count too large"));
+	rot = imm_expr.X_add_number & 0x1f;
+	if (! rot)
+	  break;
+	macro_build ((char *) NULL, &icnt, (expressionS *) NULL, "sll",
+		     "d,w,<", AT, sreg, rot);
+	macro_build ((char *) NULL, &icnt, (expressionS *) NULL, "srl",
+		     "d,w,<", dreg, sreg, (0x20 - rot) & 0x1f);
+	macro_build ((char *) NULL, &icnt, (expressionS *) NULL, "or",
+		     "d,v,t", dreg, dreg, AT);
+      }
+      break;
+
+    case M_DROR:
+      macro_build ((char *) NULL, &icnt, (expressionS *) NULL, "dsubu",
+		   "d,v,t", AT, 0, treg);
+      macro_build ((char *) NULL, &icnt, (expressionS *) NULL, "dsllv",
+		   "d,t,s", AT, sreg, AT);
+      macro_build ((char *) NULL, &icnt, (expressionS *) NULL, "dsrlv",
+		   "d,t,s", dreg, sreg, treg);
+      macro_build ((char *) NULL, &icnt, (expressionS *) NULL, "or",
+		   "d,v,t", dreg, dreg, AT);
       break;

     case M_ROR:
@@@@ -6719,15 +6770,44 @@@@ macro2 (ip)
 		   "d,v,t", dreg, dreg, AT);
       break;

+    case M_DROR_I:
+      {
+	unsigned int rot;
+	char *l, *r;
+
+	if (imm_expr.X_op != O_constant)
+	  as_bad (_("rotate count too large"));
+	rot = imm_expr.X_add_number & 0x3f;
+	if (! rot)
+	  break;
+	r = (rot < 0x20) ? "dsrl" : "dsrl32";
+	l = ((0x40 - rot) < 0x20) ? "dsll" : "dsll32";
+	rot &= 0x1f;
+	macro_build ((char *) NULL, &icnt, (expressionS *) NULL, r,
+		     "d,w,<", AT, sreg, rot);
+	macro_build ((char *) NULL, &icnt, (expressionS *) NULL, l,
+		     "d,w,<", dreg, sreg, (0x20 - rot) & 0x1f);
+	macro_build ((char *) NULL, &icnt, (expressionS *) NULL, "or",
+		     "d,v,t", dreg, dreg, AT);
+      }
+      break;
+
     case M_ROR_I:
-      if (imm_expr.X_op != O_constant)
-	as_bad (_("rotate count too large"));
-      macro_build ((char *) NULL, &icnt, (expressionS *) NULL, "srl", "d,w,<",
-		   AT, sreg, (int) (imm_expr.X_add_number & 0x1f));
-      macro_build ((char *) NULL, &icnt, (expressionS *) NULL, "sll", "d,w,<",
-		   dreg, sreg, (int) ((0 - imm_expr.X_add_number) & 0x1f));
-      macro_build ((char *) NULL, &icnt, (expressionS *) NULL, "or", "d,v,t",
-		   dreg, dreg, AT);
+      {
+	unsigned int rot;
+
+	if (imm_expr.X_op != O_constant)
+	  as_bad (_("rotate count too large"));
+	rot = imm_expr.X_add_number & 0x1f;
+	if (! rot)
+	  break;
+	macro_build ((char *) NULL, &icnt, (expressionS *) NULL, "srl",
+		     "d,w,<", AT, sreg, rot);
+	macro_build ((char *) NULL, &icnt, (expressionS *) NULL, "sll",
+		     "d,w,<", dreg, sreg, (0x20 - rot) & 0x1f);
+	macro_build ((char *) NULL, &icnt, (expressionS *) NULL, "or",
+		     "d,v,t", dreg, dreg, AT);
+      }
       break;

     case M_S_DOB:
Index: gas/testsuite/ChangeLog
===================================================================
RCS file: /cvs/src/src/gas/testsuite/ChangeLog,v
retrieving revision 1.315
diff -u -p -r1.315 ChangeLog
--- gas/testsuite/ChangeLog	20 May 2002 17:05:34 -0000	1.315
+++ gas/testsuite/ChangeLog	21 May 2002 23:32:54 -0000
@@@@ -1,3 +1,9 @@@@
+2002-05-22  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>
+
+	* gas/mips/rol64.s: New file, test of drol, dror macros.
+	* gas/mips/rol64.d: Likewise.
+	* gas/mips/mips.exp: Add new test.
+
 2002-05-20  Nick Clifton  <nickc@@cambridge.redhat.com>

 	* gas/arm/arm.exp: Replace deprecated command line switches
Index: gas/testsuite/gas/mips/mips.exp
===================================================================
RCS file: /cvs/src/src/gas/testsuite/gas/mips/mips.exp,v
retrieving revision 1.32
diff -u -p -r1.32 mips.exp
--- gas/testsuite/gas/mips/mips.exp	4 Apr 2002 08:23:30 -0000	1.32
+++ gas/testsuite/gas/mips/mips.exp	21 May 2002 23:32:54 -0000
@@@@ -122,6 +122,7 @@@@ if { [istarget mips*-*-*] } then {
 	run_dump_test "mul"
     }
     run_dump_test "rol"
+    run_dump_test "rol64"
     if !$aout { run_dump_test "sb" }
     run_dump_test "trunc"
     if !$aout { run_dump_test "ulh" }
Index: include/opcode/ChangeLog
===================================================================
RCS file: /cvs/src/src/include/opcode/ChangeLog,v
retrieving revision 1.167
diff -u -p -r1.167 ChangeLog
--- include/opcode/ChangeLog	17 May 2002 19:01:03 -0000	1.167
+++ include/opcode/ChangeLog	21 May 2002 23:32:57 -0000
@@@@ -1,3 +1,7 @@@@
+2002-05-22  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>
+
+	* mips.h: Add M_DROL, M_DROL_I, M_DROR, M_DROR_I macro cases.
+
 2002-05-17  Andrey Volkov  <avolkov@@sources.redhat.com>

         * h8300.h: Corrected defs of all control regs
Index: include/opcode/mips.h
===================================================================
RCS file: /cvs/src/src/include/opcode/mips.h,v
retrieving revision 1.24
diff -u -p -r1.24 mips.h
--- include/opcode/mips.h	16 Mar 2002 03:09:18 -0000	1.24
+++ include/opcode/mips.h	21 May 2002 23:32:57 -0000
@@@@ -526,9 +526,13 @@@@ enum
   M_REM_3I,
   M_REMU_3,
   M_REMU_3I,
+  M_DROL,
   M_ROL,
+  M_DROL_I,
   M_ROL_I,
+  M_DROR,
   M_ROR,
+  M_DROR_I,
   M_ROR_I,
   M_S_DA,
   M_S_DOB,
Index: opcodes/ChangeLog
===================================================================
RCS file: /cvs/src/src/opcodes/ChangeLog,v
retrieving revision 1.447
diff -u -p -r1.447 ChangeLog
--- opcodes/ChangeLog	17 May 2002 14:36:45 -0000	1.447
+++ opcodes/ChangeLog	21 May 2002 23:33:00 -0000
@@@@ -1,3 +1,7 @@@@
+2002-05-22  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>
+
+	* mips-opc.c (mips_builtin_opcodes): Add drol, dror macros.
+
 Fri May 17 14:26:44 2002  J"orn Rennecke <joern.rennecke@@superh.com>

 	* disassemble.c (disassembler): Just use print_insn_sh for bfd_arch_sh.
Index: opcodes/mips-opc.c
===================================================================
RCS file: /cvs/src/src/opcodes/mips-opc.c,v
retrieving revision 1.32
diff -u -p -r1.32 mips-opc.c
--- opcodes/mips-opc.c	17 Mar 2002 02:42:25 -0000	1.32
+++ opcodes/mips-opc.c	21 May 2002 23:33:00 -0000
@@@@ -492,6 +492,10 @@@@ const struct mips_opcode mips_builtin_op
 {"dremu",   "z,s,t",    0x0000001f, 0xfc00ffff, RD_s|RD_t|WR_HILO,      I3      },
 {"dremu",   "d,v,t",	3,    (int) M_DREMU_3,	INSN_MACRO,		I3	},
 {"dremu",   "d,v,I",	3,    (int) M_DREMU_3I,	INSN_MACRO,		I3	},
+{"drol",    "d,v,t",	0,    (int) M_DROL,	INSN_MACRO,		I3	},
+{"drol",    "d,v,I",	0,    (int) M_DROL_I,	INSN_MACRO,		I3	},
+{"dror",    "d,v,t",	0,    (int) M_DROR,	INSN_MACRO,		I3	},
+{"dror",    "d,v,I",	0,    (int) M_DROR_I,	INSN_MACRO,		I3	},
 {"dsllv",   "d,t,s",	0x00000014, 0xfc0007ff,	WR_d|RD_t|RD_s,		I3	},
 {"dsll32",  "d,w,<",	0x0000003c, 0xffe0003f, WR_d|RD_t,		I3	},
 {"dsll",    "d,w,s",	0x00000014, 0xfc0007ff,	WR_d|RD_t|RD_s,		I3	}, /* dsllv */
@
text
@d1 7
@


1.315
log
@Replace deprecated command line switches with their modern equivalents.
@
text
@d1 6
@


1.314
log
@	* gas/i386/x86-64-opcode.s: Pad out end of .text with zeros.
	* gas/i386/x86-64-opcode.d: Adjust.
@
text
@d1 13
@


1.313
log
@Do not convert a subtract of zero into an add of zero.
@
text
@d1 5
@


1.312
log
@2002-04-23  H.J. Lu <hjl@@gnu.org>

	* gas/mips/elempic.d: Use empic.l.
	* gas/mips/telempic.d: Likewise.
	* gas/mips/tempic.d: Likewise.
@
text
@d1 6
@


1.311
log
@2002-04-23  H.J. Lu <hjl@@gnu.org>

	* gas/hppa/parse/parse.exp: Don't expect failure on line separator
	test on hppa*-*-linux* nor hppa*-*-netbsd*.
@
text
@d3 6
@


1.310
log
@2002-04-22  Chris Demetriou  <cgd@@broadcom.com>

        * gas/mips/mips-gp64-fp32.l: New file.
        * gas/mips/mips-gp64-fp32.d: Use mips-gp64-fp32.l to check stderr
        output.
        * gas/mips/mips-gp64-fp64.l: New file.
        * gas/mips/mips-gp64-fp64.d: Use mips-gp64-fp64.l to check stderr
        output.
@
text
@d1 5
@


1.309
log
@2002-04-22  Chris Demetriou  <cgd@@broadcom.com>

        * lib/gas-defs.exp (run_dump_test): Support new attribute "stderr"
        which is a file used to regexp_diff the assembler's pruned stderr
        output.
        (write_file): New helper function to write a string into a file.

        * gas/mips/empic.l: New file which matches empic tests' warnings.
        * gas/mips/empic.d: Use empic.l.
@
text
@d3 9
@


1.308
log
@(cofftag): Do not run test for xscale-coff toolchain.
(struct, align, incbin): Use case switch so that other targets to be skipped
can be added in the future.
@
text
@d1 10
@


1.307
log
@	* gas/ppc/altivec.d: Fix dssall test.
	* gas/ppc/altivec.s: Likewise.
	* gas/ppc/altivec_xcoff.d: Likewise.
	* gas/ppc/altivec_xcoff.s: Likewise.
	* gas/ppc/altivec_xcoff64.d: Likewise.
	* gas/ppc/altivec_xcoff64.s: Likewise.

	* ppc-opc.c (powerpc_opcode): Fix dssall operand list.
@
text
@d1 7
@


1.306
log
@Open out one-line if-then-else test clauses so that other clauses can be
inserted in the future.
@
text
@d1 9
@


1.305
log
@	* gas/i386/x86-64-opcode.d: More test cases for x86-64 opcodes.
	* gas/i386/x86-64-opcode.s: Likewise
@
text
@d1 6
@


1.304
log
@[ gas/ChangeLog ]
2002-03-15  Chris G. Demetriou  <cgd@@broadcom.com>

	* config/tc-mips.c (mips_set_options): New "ase_mips3d" member.
	(mips_opts): Initialize "ase_mips3d" member.
	(file_ase_mips3d): New variable.
	(CPU_HAS_MIPS3D): New macro.
	(md_begin): Initialize mips_opts.ase_mips3d and file_ase_mips3d
	based on command line options and configuration defaults.
	(macro_build, mips_ip): Accept MIPS-3D instructions if
	mips_opts.ase_mips3d is set.
	(OPTION_MIPS3D, OPTION_NO_MIPS3D, md_longopts, md_parse_option):
	Add support for "-mips3d" and "-no-mips3d" options.
	(OPTION_ELF_BASE): Move to accomodate new options.
	(s_mipsset): Support ".set mips3d" and ".set nomips3d".
	(mips_elf_final_processing): Add a comment indicating that a
	MIPS-3D ASE ELF header flag should be set, when one exists.
	* doc/as.texinfo: Document -mips3d and -no-mips3d options.
	* doc/c-mips.texi: Likewise, and document ".set mips3d" and ".set
	nomips3d" directives.

[ gas/testsuite/ChangeLog ]
2002-03-15  Chris G. Demetriou  <cgd@@broadcom.com>

	* gas/mips/mips64-mips3d.s: New file.
	* gas/mips/mips64-mips3d.d: Likewise.
	* gas/mips/mips.exp: Run new "mips64-mips3d" test.

[ include/opcode/ChangeLog ]
2002-03-15  Chris G. Demetriou  <cgd@@broadcom.com>

	* mips.h (INSN_MIPS3D): New definition used to mark MIPS-3D
	instructions.
	(OPCODE_IS_MEMBER): Adjust comments to indicate that ASE bit masks
	may be passed along with the ISA bitmask.

[ opcodes/ChangeLog ]
2002-03-15  Chris G. Demetriou  <cgd@@broadcom.com>

	* mips-dis.c (mips_isa_type): Add MIPS3D instructions to the ISA
	bit masks for bfd_mach_mips_sb1 and bfd_mach_mipsisa64.  Add
	comments for bfd_mach_mipsisa32 and bfd_mach_mipsisa64 that
	indicate that they should dissassemble all applicable
	MIPS-specified ASEs.
	* mips-opc.c: Add support for MIPS-3D instructions.
	(M3D): New definition.

	* mips-opc.c: Update copyright years.
@
text
@d1 5
d47 1
a47 1
	
d250 1
a250 1
	* gas/sh/basic.exp: Run it.	
@


1.303
log
@2002-03-15  Chris G. Demetriou  <cgd@@broadcom.com>

        * gas/mips/mips.exp: Use elf-rel2 and elfel-rel2 for
        mipsisa32*-*-* targets, rather than e32-rel2 and e32el-rel2.
@
text
@d3 6
@


1.302
log
@	* gas/mmix/weak1.d, gas/mmix/weak1.d: New test.
@
text
@d1 5
@


1.301
log
@	* gas/pdp11/pdp11.exp: New file.
	* gas/pdp11/opcode.s: Ditto.
	* gas/pdp11/opcode.d: Ditto.
@
text
@d1 4
@


1.300
log
@Add x86-64-opcode (checks valid opcodes) and x86-64-inval (checks invalid opcodes) checks
@
text
@d1 6
@


1.299
log
@2002-02-26  Chris Demetriou  <cgd@@broadcom.com>

        * gas/mips/empic2.d: Adjust for the fact that relocations on
        symbols local to this file are resolved at assembly time into
        section-relative relocations, even if the symbols are extern.
        * gas/mips/empic2.s: Add file offset information, so the next
        person to do the math mentioned above has an easier time.
        * gas/mips/jal-empic-elf.d: New test.
        * gas/mips/jal-empic-elf-2.d, gas/mips/jal-empic-elf-2.s: New test.
        * gas/mips/jal-empic-elf-3.d, gas/mips/jal-empic-elf-3.s: New test.
        * gas/mips/mips.exp: Run the new tests.
@
text
@d1 9
@


1.298
log
@	* config/tc-mips.c (set_at): Fix handling of 64bit register loads.
	(macro): Likewise. Fix la/dla address expansions for EMBEDDED_PIC
	and NO_PIC cases. Code cleanup.
	(macro2): Fix handling of 64bit register loads.
	* mips-gp64-fp32-pic.d: Fix test of 64bit register loads.
	* mips-gp64-fp32-pic.s: Likewise.
	* mips-gp64-fp32.d: Likewise.
	* mips-gp64-fp32.s: Likewise.
	* mips-gp64-fp64-pic.d: Likewise.
	* mips-gp64-fp64-pic.s: Likewise.
	* mips-gp64-fp64.d: Likewise.
	* mips-gp64-fp64.s: Likewise.
@
text
@d1 12
@


1.297
log
@	* gas/hppa/reloc/reloc.exp: Update copyright date.
@
text
@d1 11
@


1.296
log
@	* gas/mmix/bspec-1.d, gas/mmix/bspec-2.d, gas/mmix/comment-1.d:
	Adjust to changes in readelf output.
@
text
@d1 4
@


1.295
log
@Do not complain if gasp does not exist.
@
text
@d1 5
@


1.294
log
@XCOFF booke tests.  Fix tlbre, tlbwe ppc WS field.
@
text
@d1 5
@


1.293
log
@2002-02-18  Daniel Jacobowitz  <drow@@mvista.com>

        * gas/sh/basic.exp: Don't run PIC tests for targets that don't
        support it.
@
text
@d1 8
@


1.292
log
@xcoff versions of the altivec test.
@
text
@d1 5
@


1.291
log
@* fix date on most recent entry.
@
text
@d1 8
@


1.290
log
@2002-02-12  Ben Elliston  <bje@@redhat.com>

	* NEWS: Document floating point number handling in gasp.
	* gasp.c: Include <assert.h> and "xregex.h".
	(is_flonum): New function.
	(chew_flownum): Likewise.
	(change_base): Consume flonums from the input, where possible.
	* doc/gasp.texi (Constants): Document floating point numbers.

[testsuite/ChangeLog]

	* gasp/flonums.asm: New test.
	* gasp/flonums.err: New result.
	* gasp/flonums.out: Likewise.
@
text
@d1 1
a1 1
2002-02-12  Ben Elliston  <bje@@redhat.com>
@


1.289
log
@	* gas/hppa/reloc/reloc.exp (labelopbug.s): Change test to suit
	hppa_fix_adjustable change.
@
text
@d1 6
@


1.288
log
@        * config/tc-alpha.c (O_samegp): New.
        (USER_RELOC_P): Include it.
        (alpha_reloc_op_tag, debug_exp, find_macro_match): Add it.
        (md_apply_fix3): Handle BFD_RELOC_ALPHA_BRSGP.
        (alpha_force_relocation, alpha_fix_adjustable): Likewise.
        (alpha_validate_fix): New.
        * config/tc-alpha.h (TC_VALIDATE_FIX): New.

        * gas/alpha/elf-reloc-5.s, gas/alpha/elf-reloc-5.d: New.
        * gas/alpha/elf-reloc-6.s, gas/alpha/elf-reloc-6.l: New.
        * gas/alpha/alpha.exp: Run them.
@
text
@d1 5
@


1.288.2.1
log
@John David Anglin's 2002-02-12 mainline changes
@
text
@a0 5
2002-02-18  John David Anglin  <dave@@hiauly1.hia.nrc.ca>

	* gas/hppa/reloc/reloc.exp (labelopbug.s): Change test to suit
	hppa_fix_adjustable change.

@


1.288.2.2
log
@2002-02-18  Daniel Jacobowitz  <drow@@mvista.com>

        * gas/sh/basic.exp: Don't run PIC tests for targets that don't
        support it.
@
text
@a0 5
2002-02-18  Daniel Jacobowitz  <drow@@mvista.com>

	* gas/sh/basic.exp: Don't run PIC tests for targets that don't
	support it.

@


1.288.2.3
log
@	* config/tc-mips.c (set_at): Fix handling of 64bit register loads.
	(macro): Likewise. Fix la/dla address expansions for EMBEDDED_PIC
	and NO_PIC cases. Code cleanup.
	(macro2): Fix handling of 64bit register loads.
	* mips-gp64-fp32-pic.d: Fix test of 64bit register loads.
	* mips-gp64-fp32-pic.s: Likewise.
	* mips-gp64-fp32.d: Likewise.
	* mips-gp64-fp32.s: Likewise.
	* mips-gp64-fp64-pic.d: Likewise.
	* mips-gp64-fp64-pic.s: Likewise.
	* mips-gp64-fp64.d: Likewise.
	* mips-gp64-fp64.s: Likewise.
@
text
@a0 11
2002-02-25  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>

	* mips-gp64-fp32-pic.d: Fix test of 64bit register loads.
	* mips-gp64-fp32-pic.s: Likewise.
	* mips-gp64-fp32.d: Likewise.
	* mips-gp64-fp32.s: Likewise.
	* mips-gp64-fp64-pic.d: Likewise.
	* mips-gp64-fp64-pic.s: Likewise.
	* mips-gp64-fp64.d: Likewise.
	* mips-gp64-fp64.s: Likewise.

@


1.288.2.4
log
@2002-02-26  Chris Demetriou  <cgd@@broadcom.com>

        * gas/mips/empic2.d: Adjust for the fact that relocations on
        symbols local to this file are resolved at assembly time into
        section-relative relocations, even if the symbols are extern.
        * gas/mips/empic2.s: Add file offset information, so the next
        person to do the math mentioned above has an easier time.
        * gas/mips/jal-empic-elf.d: New test.
        * gas/mips/jal-empic-elf-2.d, gas/mips/jal-empic-elf-2.s: New test.
        * gas/mips/jal-empic-elf-3.d, gas/mips/jal-empic-elf-3.s: New test.
        * gas/mips/mips.exp: Run the new tests.
@
text
@a0 12
2002-02-26  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/empic2.d: Adjust for the fact that relocations on
	symbols local to this file are resolved at assembly time into
	section-relative relocations, even if the symbols are extern.
	* gas/mips/empic2.s: Add file offset information, so the next
	person to do the math mentioned above has an easier time.
	* gas/mips/jal-empic-elf.d: New test.
	* gas/mips/jal-empic-elf-2.d, gas/mips/jal-empic-elf-2.s: New test.
	* gas/mips/jal-empic-elf-3.d, gas/mips/jal-empic-elf-3.s: New test.
	* gas/mips/mips.exp: Run the new tests.
	
@


1.288.2.5
log
@	* gas/mmix/weak1.d, gas/mmix/weak1.d: New test.
@
text
@a0 4
2002-03-17  Hans-Peter Nilsson  <hp@@bitrange.com>

	* gas/mmix/weak1.d, gas/mmix/weak1.d: New test.

@


1.288.2.6
log
@	Merge from mainline.
	2002-04-23  H.J. Lu <hjl@@gnu.org>
	* gas/hppa/parse/parse.exp: Don't expect failure on line separator
	test on hppa*-*-linux* nor hppa*-*-netbsd*.

	2002-03-19  Bo Thorsen  <bo@@suse.de>
	* gas/i386/x86-64-opcode.d: More test cases for x86-64 opcodes.
	* gas/i386/x86-64-opcode.s: Likewise

	2002-02-24  Hans-Peter Nilsson  <hp@@bitrange.com>
	* gas/mmix/bspec-1.d, gas/mmix/bspec-2.d, gas/mmix/comment-1.d:
	Adjust to changes in readelf output.

	2002-02-22  Bo Thorsen  <bo@@suse.de>
	* i386.exp: Add x86-64-opcode (checks valid opcodes) and x86-64-inval
	(checks invalid opcodes) checks
	* x86-64-inval.l: New file.
	* x86-64-inval.s: New file.
	* x86-64-opcode.d: New file.
	* x86-64-opcode.s: New file.
@
text
@a0 23
2002-04-27  Alan Modra  <amodra@@bigpond.net.au>

	Merge from mainline.
	2002-04-23  H.J. Lu <hjl@@gnu.org>
	* gas/hppa/parse/parse.exp: Don't expect failure on line separator
	test on hppa*-*-linux* nor hppa*-*-netbsd*.

	2002-03-19  Bo Thorsen  <bo@@suse.de>
	* gas/i386/x86-64-opcode.d: More test cases for x86-64 opcodes.
	* gas/i386/x86-64-opcode.s: Likewise

	2002-02-24  Hans-Peter Nilsson  <hp@@bitrange.com>
	* gas/mmix/bspec-1.d, gas/mmix/bspec-2.d, gas/mmix/comment-1.d:
	Adjust to changes in readelf output.

	2002-02-22  Bo Thorsen  <bo@@suse.de>
	* i386.exp: Add x86-64-opcode (checks valid opcodes) and x86-64-inval
	(checks invalid opcodes) checks
	* x86-64-inval.l: New file.
	* x86-64-inval.s: New file.
	* x86-64-opcode.d: New file.
	* x86-64-opcode.s: New file.

@


1.288.2.7
log
@2002-04-30  Chris Demetriou  <cgd@@broadcom.com>

        Merge from mainline:
        2002-03-15  Chris G. Demetriou  <cgd@@broadcom.com>
        * gas/mips/mips.exp: Use elf-rel2 and elfel-rel2 for
        mipsisa32*-*-* targets, rather than e32-rel2 and e32el-rel2.
@
text
@a0 7
2002-04-30  Chris Demetriou  <cgd@@broadcom.com>

	Merge from mainline:
	2002-03-15  Chris G. Demetriou  <cgd@@broadcom.com> 
	* gas/mips/mips.exp: Use elf-rel2 and elfel-rel2 for
	mipsisa32*-*-* targets, rather than e32-rel2 and e32el-rel2.

@


1.288.2.8
log
@Merge from mainline
@
text
@a0 7
2002-05-09  Alan Modra  <amodra@@bigpond.net.au>

	Merge from mainline.
	2002-04-17  matthew green  <mrg@@redhat.com>
	* gas/ppc/altivec.d: Fix dssall test.
	* gas/ppc/altivec.s: Likewise.

@


1.287
log
@2002-02-08  Chris Demetriou  <cgd@@broadcom.com>

        * gas/mips/mips.exp: Document (but do not XFAIL) currently-failing
        MIPS ECOFF tests, providing what information is known about
        the origins of the failures.
@
text
@d1 6
@


1.286
log
@Contribute sh64-elf.
2002-02-01  Alexandre Oliva  <aoliva@@redhat.com>
* gas/sh/sh64/syntax-1.s: Remove `-4' from @@(expr-4,pc).
2002-01-28  Alexandre Oliva  <aoliva@@redhat.com>
* gas/sh/sh64/crange1-1.d: Formatting changes to match the current
output of objdump.
* gas/sh/sh64/crange1-2.d: Likewise.
* gas/sh/sh64/crange2-2.d: Likewise.
* gas/sh/sh64/crange3-1.d: Likewise.
* gas/sh/sh64/crange4-1.d: Likewise.
* gas/sh/sh64/datal-2.d: Likewise.
* gas/sh/sh64/datal32-1.d: Likewise.
* gas/sh/sh64/datal32-3.d: Likewise.
* gas/sh/sh64/localcom-1.d: Likewise.
* gas/sh/sh64/mix-1.d: Likewise.
* gas/sh/sh64/pt32-1.d: Likewise.
* gas/sh/sh64/rel32-1.d: Likewise.
* gas/sh/sh64/rel32-2.d: Likewise.
* gas/sh/sh64/rel32-3.d: Likewise.
* gas/sh/sh64/rel32-4.d: Likewise.
* gas/sh/sh64/rel32-5.d: Likewise.
* gas/sh/sh64/ua32-1.d: Likewise.
2001-03-14  DJ Delorie	<dj@@redhat.com>
* gas/sh/sh64/endian-1.d: New test - Little Endianness.
* gas/sh/sh64/endian-1.s: New test - Little Endianness.
* gas/sh/sh64/endian-2.d: New test - Big Endianness.
* gas/sh/sh64/endian-2.s: New test - Big Endianness.
2001-03-12  DJ Delorie	<dj@@redhat.com>
* gas/sh/sh64/syntax-1.d: New test - basic syntax.
* gas/sh/sh64/syntax-1.s: New test - basic syntax.
* gas/sh/sh64/syntax-2.d: New test - basic syntax, pseudos.
* gas/sh/sh64/syntax-2.s: New test - basic syntax, pseudos.
2001-03-06  DJ Delorie	<dj@@redhat.com>
* gas/sh/sh64/lineno.d: New, test dwarf2 line numbers vs macros.
* gas/sh/sh64/lineno.s: Ditto.
2001-01-14  Hans-Peter Nilsson	<hpn@@cygnus.com>
* gas/sh/sh64/err-dsp.s: New test.
2001-01-13  Hans-Peter Nilsson	<hpn@@cygnus.com>
* gas/sh/sh64/err-abi-64.s, gas/sh/sh64/err-abi-32.s,
gas/sh/sh64/abi-64.s, gas/sh/sh64/abi-64.d, gas/sh/sh64/abi-32.s,
gas/sh/sh64/abi-32.d, gas/sh/sh64/crange3.s,
gas/sh/sh64/crange3-1.d, gas/sh/sh64/crange4.s,
gas/sh/sh64/crange4-1.d, gas/sh/sh64/crange5.s,
gas/sh/sh64/crange5-1.d: New tests.
2001-01-07  Hans-Peter Nilsson	<hpn@@cygnus.com>
* gas/sh/sh64/relax-1.s, gas/sh/sh64/relax-1.d: New test.
* gas/sh/sh64/err-pt-1.s: New test.
* gas/sh/sh64/relax-2.s, gas/sh/sh64/relax-2.d: New test.
* gas/sh/sh64/localcom-1.s, gas/sh/sh64/localcom-1.d: New test.
* gas/sh/sh64/movi-3.s, gas/sh/sh64/movi-3.d: New test.
* gas/sh/sh64/relax-3.s, gas/sh/sh64/relax-3.d: New test.
2001-01-05  Hans-Peter Nilsson	<hpn@@cygnus.com>
* gas/sh/sh64/case-noexp-1.d: Adjust to changed GAS output for
check-PTA/PTB / perhaps-change-to-PTB bit in target field.
* gas/sh/sh64/case-noexp-1.d: Ditto.
* gas/sh/sh64/mix-noexp-1.d: Ditto.
* gas/sh/sh64/pt32-noexp-2.d: Ditto.
* gas/sh/sh64/pt64-noexp-2.d: Ditto.
* gas/sh/sh64/ptc32-noexp-1.d: Ditto.
* gas/sh/sh64/ptc64-noexp-1.d: Ditto.
* gas/sh/sh64/ptext32-noexp-1.d: Ditto.
* gas/sh/sh64/ptext64-noexp-1.d: Ditto.
2000-12-31  Hans-Peter Nilsson	<hpn@@cygnus.com>
* gas/sh/sh64/shift64-3.d: Fix typo.
* gas/sh/sh64/shift64-noexp-3.d, gas/sh/sh64/shift32-noexp-3.d,
gas/sh/sh64/ptext64-noexp-1.d, gas/sh/sh64/ptext64-32-1.d,
gas/sh/sh64/ptext32-noexp-1.d, gas/sh/sh64/ptc64-noexp-1.d,
gas/sh/sh64/ptc64-32-1.d, gas/sh/sh64/ptc32-noexp-1.d,
gas/sh/sh64/pt64-noexp-2.d, gas/sh/sh64/pt64-32-2.d,
gas/sh/sh64/pt64-32-1.d, gas/sh/sh64/pt32-noexp-2.d,
gas/sh/sh64/pt-noexp-1.d, gas/sh/sh64/movi64-noexp-2.d,
gas/sh/sh64/movi32-noexp-2.d, gas/sh/sh64/mix-noexp-1.d,
gas/sh/sh64/err-ptb-2.s, gas/sh/sh64/err-ptb-1.s,
gas/sh/sh64/err-pt32-cmd3.s, gas/sh/sh64/err-pt32-cmd2.s,
gas/sh/sh64/err-pt32-cmd1.s, gas/sh/sh64/err-noexp-cmd1.s,
gas/sh/sh64/err-movi-noexp-1.s, gas/sh/sh64/crange2.s,
gas/sh/sh64/crange2-noexp-1.d, gas/sh/sh64/crange2-2.d,
gas/sh/sh64/crange2-1.d, gas/sh/sh64/case-noexp-1.d: New tests.
2000-12-18  Hans-Peter Nilsson	<hpn@@cygnus.com>
* gas/sh/sh64/err-4.s: Use option -no-mix to see errors.  Adjust
for errors not being emitted at the .mode directives anymore.
* gas/sh/sh64/crange1.s, gas/sh/sh64/crange1-2.d,
gas/sh/sh64/crange1-1.d: New tests for .cranges section.
2000-12-12  Hans-Peter Nilsson	<hpn@@cygnus.com>
* gas/sh/sh64/err-3.s: New test.
* gas/sh/sh64/immexpr1.s, gas/sh/sh64/immexpr32-1.d,
gas/sh/sh64/immexpr64-1.d: New tests.
* gas/sh/sh64/immexpr2.s, gas/sh/sh64/immexpr32-2.d,
gas/sh/sh64/immexpr64-2.d: New tests.
2000-12-11  Hans-Peter Nilsson	<hpn@@cygnus.com>
* gas/sh/sh64/rel-1.s, gas/sh/sh64/rel-2.s, gas/sh/sh64/rel-3.s,
gas/sh/sh64/rel-4.s, gas/sh/sh64/rel-5.s, gas/sh/sh64/rel32-1.d,
gas/sh/sh64/rel32-2.d, gas/sh/sh64/rel32-3.d,
gas/sh/sh64/rel32-4.d, gas/sh/sh64/rel32-5.d,
gas/sh/sh64/rel64-1.d, gas/sh/sh64/rel64-2.d,
gas/sh/sh64/rel64-3.d, gas/sh/sh64/rel64-4.d,
gas/sh/sh64/rel64-5.d: New tests.
2000-12-07  Hans-Peter Nilsson	<hpn@@cygnus.com>
* gas/sh/sh64/case-1.d, gas/sh/sh64/mix-1.d, gas/sh/sh64/pt32-1.d,
gas/sh/sh64/pt64-1.d, gas/sh/sh64/ptc32-1.d,
gas/sh/sh64/ptc64-1.d, gas/sh/sh64/ptext32-1.d,
gas/sh/sh64/ptext64-1.d: Correct offsets in PT/PTA/PTB expansion.
2000-12-05  Hans-Peter Nilsson	<hpn@@cygnus.com>
* gas/sh/sh64/datal-3.s, gas/sh/sh64/datal32-3.d,
gas/sh/sh64/datal64-3.d: New tests.
2000-11-27  Hans-Peter Nilsson	<hpn@@cygnus.com>
* gas/sh/sh64/datal-1.s: Remove whitespace at end of line.
* gas/sh/sh64/datal32-1.d, gas/sh/sh64/datal64-1.d,
gas/sh/sh64/movi32-1.d, gas/sh/sh64/movi32-2.d,
gas/sh/sh64/movi64-1.d, gas/sh/sh64/movi64-3.d: Correct register.
* gas/sh/sh64/mix-1.s, gas/sh/sh64/mix-1.d, gas/sh/sh64/err-4.s:
New tests.
2000-11-26  Hans-Peter Nilsson	<hpn@@cygnus.com>
* gas/macros/macros.exp: Import xfail sh*-*-* from net binutils.
* gas/sh/sh64/case-1.d: Correct offsets in PT/PTA/PTB expansion.
gas/sh/sh64/pt32-1.d, gas/sh/sh64/pt64-1.d: Ditto.
gas/sh/sh64/ptc32-1.d, gas/sh/sh64/ptc64-1.d: Ditto.
gas/sh/sh64/ptext32-1.d, gas/sh/sh64/ptext64-1.d: Ditto.
2000-11-25  Hans-Peter Nilsson	<hpn@@cygnus.com>
* gas/sh/sh64/ptc32-1.d, gas/sh/sh64/ptc64-1.d: Correct.
* gas/sh/sh64/datal-1.s, gas/sh/sh64/datal32-1.d,
gas/sh/sh64/datal64-1.d: New test.
* gas/sh/sh64/datal-2.s, gas/sh/sh64/datal-2.d: New test.
* gas/sh/sh64/creg-1.d, gas/sh/sh64/creg-1.s: New test.
* gas/sh/sh64/creg-2.d, gas/sh/sh64/creg-2.s: New test.
2000-11-24  Hans-Peter Nilsson	<hpn@@cygnus.com>
* gas/sh/sh64: New testsuite.
@
text
@d1 6
@


1.285
log
@* gas/sh/pic.d, gas/sh/pic.s: New test.
* gas/sh/basic.exp: Run it.
@
text
@d1 130
@


1.284
log
@	* archures (bfd_mach_ppc64): Define.
	(bfd_powerpc_arch): Rename to bfd_powerpc_archs.
	(bfd_powerpc_arch): Define.
	* bfd-in2.h: Regenerate.
	* cpu-powerpc.c (arch_info_struct): Rename to bfd_powerpc_archs.
	(bfd_powerpc_arch): Move to tail of bfd_powerpc_archs.
	(bfd_powerpc_archs): Add default powerpc64 arch.

	* gas/ppc/test1elf64.d: Tweak arch name.
@
text
@d1 5
d12 2
a13 3
	* gas/testsuite/gas/sh/pcrel.d: New test.
	* gas/testsuite/gas/sh/pcrel.s: Sources for new test.
	* gas/testsuite/gas/sh/basic.exp: Run it.
@


1.283
log
@* gas/testsuite/gas/sh/pcrel.d: New test.
* gas/testsuite/gas/sh/pcrel.s: Sources for new test.
* gas/testsuite/gas/sh/basic.exp: Run it.
@
text
@d1 4
@


1.282
log
@	* gas/mmix/basep-8.d, gas/mmix/basep-9.s, gas/mmix/basep-9.d,
	gas/mmix/err-bpo6.s, gas/mmix/basep-8.s, gas/mmix/basep-10.d,
	gas/mmix/basep-10.s, gas/mmix/basep-11.s, gas/mmix/basep-11.d: New
	tests for base-plus-offset relocations and global register
	allocations for weak and common symbols.
@
text
@d1 6
@


1.281
log
@	* config/tc-v850.c: Add missing prototypes amd use old-style
	function definitions.
	(AREA_ZDA, AREA_SDA, AREA_TDA): Delete.
	(sdata_section tdata_section, zdata_section, sbss_section,
	tbss_section, zbss_section, rosdata_section, rozdata_section,
	scommon_section, tcommon_section, zcommon_section,
	call_table_data_section, call_table_text_section): Delete.
	(v850_sdata, v850_tdata, v850_zdata, v850_sbss, v850_tbss,
	v850_zbss, v850_bss, v850_rosdata, v850_rozdata,
	v850_call_table_data, v850_call_table_text): Delete.
	(struct v850_seg_entry): New.
	(v850_seg_table): New.
	(SDATA_SECTION TDATA_SECTION, ZDATA_SECTION, SBSS_SECTION,
	TBSS_SECTION, ZBSS_SECTION, BSS_SECTION, ROSDATA_SECTION,
	ROZDATA_SECTION, SCOMMON_SECTION, TCOMMON_SECTION, ZCOMMON_SECTION,
	CALL_TABLE_DATA_SECTION, CALL_TABLE_TEXT_SECTION): Define.
	(do_v850_seg): New.
	(v850_seg): New.
	(v850_comm): Use do_v850_seg and v850_seg_table.  Simplify
	recording of alignment.
	(md_pseudo_table): Use v850_seg.
	(md_begin): Don't init .call_table_data and .call_table_text here.
	Set v850_seg_table bss entry.
	* config/tc-v850.h (v850_pcrel_from_section): Prototype.

	* gas/elf/elf.exp: Don't special case v850.
@
text
@d1 8
@


1.280
log
@	* gas/mmix/basep-1b.d, gas/mmix/basep-2b.d, gas/mmix/basep-7.d,
	gas/mmix/err-bpo2.s, gas/mmix/basep-3b.d, gas/mmix/err-bpo3.s,
	gas/mmix/basep-4.d, gas/mmix/err-bpo4.s, gas/mmix/err-bpo5.s,
	gas/mmix/basep-5.d, gas/mmix/basep-6.d: New tests.
@
text
@d1 4
@


1.279
log
@* gas/mn10300/basic.exp (run_list_test): New proc, from alpha.
* gas/mn10300/movpc.s, gas/mn10300/movpc.l: New tests.
@
text
@d1 7
@


1.278
log
@        * gas/alpha/unop.s, gas/alpha/unop.d: New test.
        * gas/alpha/alpha.exp: Run it.
@
text
@d1 5
@


1.277
log
@comment typo fixes
@
text
@d1 5
@


1.276
log
@2002-01-18  Richard Earnshaw  <rearnsha@@arm.com>
	    Keith Walker  <keith.walker@@arm.com>
* tc-arm.c (ARM_EXT_V5J, ARM_ARCH_V5TEJ): Define.
(insns): Add pattern for bxj instruction.
(do_bxj): New function.
(arm_cpus): Add arm926ej.
(arm_archs): Add armv5tej.

Testsuite:
2002-01-18  Richard Earnshaw  <rearnsha@@arm.com>
	    Keith Walker  <keith.walker@@arm.com>
* gas/arm/arch5tej.s gas/arm/arch5tej.d: New files.
* gas/arm/arm.exp (arch5tej): New dump test.
@
text
@d1 4
@


1.275
log
@* NEWS: Mention new ARM command-line options and VFP support.

* config/tc-arm.c (ARM_CEXT_XSCALE): Replaces ARM_EXT_XSCALE.  All
uses changed.
(ARM_CEXT_MAVERICK): Similarly.
(ARM_ANY): Now means any core instruction.
(CPU_DEFAULT): Default to ARM_ANY.
(uses_apcs_26, atcps, support_interwork, uses_apcs_float)
(pic_code): Declare for all object types.  Make type int.
(legacy_cpu, legacy_fpu, mcpu_cpu_opt, mcpu_fpu_opt, march_cpu_opt)
(march_fpu_opt, mfpu_opt): Declare.
(md_longopts): Tidy up conditional definitions.
(arm_opts, arm_cpus, arm_archs, arm_fpus, arm_extensions)
(arm_long_opts): New tables.
(arm_parse_cpu, arm_parse_arch, arm_parse_fpu): New functions.
(arm_parse_extension): New function.
(md_parse_option): Rewrite using new table-driven system.
(md_show_usage): Use new table-driven system.
(md_begin): Calculate cpu_variant from command line option data.
* doc/as.texinfo (ARM ISA options): Docuement new ARM-specific
command-line options.
* doc/c-arm.texi: Likewise.

Testsuite:
* gas/arm/vfp1.d: Use new command-line options.
* gas/arm/vfp1xD.d: Likewise.
* gas/arm/arm.exp (vfp-bad): Likewise.
* gas/arm/maverick.d: Likewise.
@
text
@d2 6
@


1.274
log
@Add a more instructive error message on bad syntax
@
text
@d1 7
@


1.273
log
@Support for VFP instructions
* tc-arm.c (CP_WB_OK, CP_NO_WB): New defines.
(cp_address_required_here): New argument wb_ok.  When false, do not
accept write-back forms of addressing.  Change all callers.
(FPU_VFP_EXT_NONE, FPU_VFP_EXT_V1xD, FPU_VFP_VFP_V1)
(FPU_VFP_EXT_V2): Define.
(FPU_ARCH_VFP, FPU_ARCH_VFP_V1xD, FPU_ARCH_VFP_V1, FPU_ARCH_VFP_V2):
Define in terms of above.
(vfp_dp_reg_pos, vfp_sp_reg_pos, vfp_ldstm_type): New enums.
(vfp_reg): New struct.
(vfp_regs): New array of registers.
(insns): Add VFP instructions.
(sn_table): New array of VFP single-precision register names.
(dn_table): New array of VFP double-precision register names.
(all_reg_maps): Add the new register tables.
(arm_reg_type): Add new values for above.  Increase RET_TYPE_MAX.
(vfp_sp_reg_required_here, vfp_dp_reg_required_here, do_vfp_sp_monadic)
(do_vfp_dp_monadic, do_vfp_sp_dyadic, do_vfp_dp_dyadic)
(do_vfp_reg_from_sp, do_vfp_sp_reg2, do_vfp_sp_from_reg)
(do_vfp_reg_from_dp, do_vfp_reg2_from_dp, do_vfp_dp_from_reg)
(do_vfp_dp_from_reg2, vfp_psr_parse, vfp_psr_required_here)
(do_vfp_reg_from_ctrl, do_vfp_ctrl_from_reg, do_vfp_sp_ldst)
(do_vfp_dp_ldst, vfp_sp_reg_list, vfp_dp_reg_list, vfp_sp_ldstm)
(vfp_dp_ldstm, do_vfp_sp_ldstmia, do_vfp_sp_ldstmdb, do_vfp_ldstmia)
(do_vfp_dp_ldstmdb, do_vfp_xp_ldstmia, do_vfp_xp_ldstmdb)
(do_vfp_sp_compare_z, do_vfp_dp_compare_z, do_vfp_dp_sp_cvt)
(do_vfp_sp_dp_cvt): New functions.
(md_begin): Set soft-float flag for appropriate VFP work.
(md_atof): Handle VFP-format doubles.
(md_parse_option): Handle VFP command-line options.
(md_show_usage): Display VFP command-line options.

* testsuite/gas/arm/vfp1.s gas/arm/vf1.d: New files.
* testsuite/gas/arm/vfp1xD.s gas/arm/vf1xD.d: New files.
* testsuite/gas/arm/vfp-bad.s gas/arm/vfp-bad.l: New files.
* testsuite/gas/arm/arm.exp: Run new VFP tests.
@
text
@d1 4
@


1.272
log
@Special case handlign for m32r port
@
text
@d1 7
@


1.271
log
@Fix expected results of disassembly of DSP instructions
@
text
@d3 3
@


1.270
log
@Use section2.e-mips script for v850-elf toolchain.
@
text
@d1 4
d2154 1
a2154 1
Mon Nov 16 16:50:27 1998  Nick Clifton  <nickc@@cygnus.com>
d2158 1
a2158 1
Mon Nov 16 19:27:52 1998  Dave Brolley  <brolley@@cygnus.com>
d2162 1
a2162 1
Fri Nov 13 13:15:01 1998  Nick Clifton  <nickc@@cygnus.com>
d2167 1
a2167 1
Tue Nov 10 14:54:47 1998  Nick Clifton  <nickc@@cygnus.com>
d2174 1
a2174 1
Mon Nov  2 20:16:50 1998  Doug Evans  <devans@@canuck.cygnus.com>
d2179 1
a2179 1
Tue Oct 20 11:35:06 1998  Alan Modra  <alan@@spri.levels.unisa.edu.au>
d2185 1
a2185 1
Sun Sep 20 01:00:01 1998  Andreas Schwab  <schwab@@issan.informatik.uni-dortmund.de>
d2260 1
a2260 1
Wed Jun 17 14:02:10 1998  Frank Ch. Eigler  <fche@@cygnus.com>
d2274 1
a2274 1
Thu Jun 11 16:50:46 1998  Nick Clifton  <nickc@@cygnus.com>
d2281 1
a2281 1
Mon Jun  8 18:47:11 1998  Nick Clifton  <nickc@@cygnus.com>
d2287 1
a2287 1
Fri Jun  5 19:15:59 1998  Andreas Schwab  <schwab@@issan.informatik.uni-dortmund.de>
d2295 1
a2295 1
Tue Jun  2 15:08:36 1998  Geoff Keating  <geoffk@@ozemail.com.au>
d2301 1
a2301 1
Mon Jun  1 17:00:22 1998  Jeffrey A Law  (law@@cygnus.com)
d2306 1
a2306 1
Fri May 29 12:07:35 1998  Ian Lance Taylor  <ian@@cygnus.com>
@


1.269
log
@* gas/arm/armv1.s, arm/armv1.d, arm/fpa-mem.s, arm/fpa-mem.d
arm/fpa-monadic.s, arm/fpa-monadic.d, arm/fpa-dyadic.s,
arm/fpa-dyadic.d: New tests.
* gas/arm/le-fpconst.d (objdump): pass --section=.text
* gas/arm/arm.exp: Add new tests.  Run le-fpconst test on elf targets.
@
text
@d1 5
@


1.268
log
@* gas/arm/armv1-bad.s gas/arm/armv1-bad.l: New files.
* gas/arm/arm.exp (run_error_test): New proc.
(armv1-bad): New error test.
@
text
@d3 8
@


1.267
log
@* tc-arm.c ((do_ldst): Fix handling an immediate expression pseudo
op that can be translated into a mvn instruction.

* gas/arm/ldconst.s gas/arm/ldconst.d: New files.  Test ldr with
immediate pseudo-operations.
* gas/arm/arm.exp: Run it.
@
text
@d1 6
@


1.266
log
@[cgen/ChangeLog]
	* cpu/xstormy16.cpu (gr-Rbj-names): Rename this ...
	(gr-Rb-names): ... to this.
	(h-Rb): New hardware peice.
	(h-Rbj): Use gr-Rb-names.
	(Rb): Use h-Rb.

	(holdx): New instruction.

[opcodes/ChangeLog]
	* xstormy16-asm.c: Regenerate.
	* xstormy16-desc.c: Likewise.
	* xstormy16-desc.h: Likewise.
	* xstormy16-dis.c: Likewise.
	* xstormy16-opc.c: Likewise.
	* xstormy16-opc.h: Likewise.

[gas/testsuite/ChangeLog]
	* gas/xstormy16/allinsn.sh (movf, jmp, call, icall): Update.
	* gas/xstormy16/allinsn.d: Regenerate.
	* gas/xstormy16/allinsn.s: Regenerate.

[sid/component/cgen-cpu/xstormy16/ChangeLog]
	* xstormy16.cxx (do_holdx): Define.
	* xstormy16.h (do_holdx): Declare.
@
text
@d1 6
@


1.265
log
@* gas/arm/float.s: Don't use VFP register names in fpa instructions.
@
text
@d1 6
@


1.264
log
@2002-01-08  H.J. Lu <hjl@@gnu.org>

	* gas/mips/elf-rel.s: New tests for nested ().

	* gas/mips/elf-rel.d: Modified for nested () tests.
	* gas/mips/elfel-rel.d: Likewise.
@
text
@d1 4
@


1.263
log
@2002-01-05  Daniel Jacobowitz  <drow@@mvista.com>

        * tc-mips.c (mips_cprestore_valid): New flag.
        (mips_frame_reg_valid): New flag.
        (macro) [M_JAL_2]: Check both flags.
        [M_JAL_A]: Likewise.
        (s_cprestore): Set mips_cprestore_valid.
        (tc_get_register): If setting mips_frame_reg, set
        mips_frame_reg_valid and clear mips_cprestore_valid.
        (s_mips_ent): Clear both flags.
        (s_mips_end): Clear both flags.

2002-01-05  Daniel Jacobowitz  <drow@@mvista.com>

        * gas/mips/jal-svr4pic.s: Add .ent and .frame directives.
        * gas/mips/mips-abi32-pic.s: Add .frame directive.
        * gas/mips/mips-gp32-fp32-pic.s: Likewise.
        * gas/mips/mips-gp32-fp64-pic.s: Likewise.
        * gas/mips/mips-gp64-fp32-pic.s: Likewise.
        * gas/mips/mips-gp64-fp64-pic.s: Likewise.
@
text
@d1 7
@


1.262
log
@2002-01-02  Chris Demetriou  <cgd@@broadcom.com>

        * ld-mips-elf/empic1-ln.d: New file to test basic linking of
        R_MIPS_GNU_REL_HI16 and R_MIPS_GNU_REL_LO16 relocations.
        * ld-mips-elf/empic1-lp.d: Likewise.
        * ld-mips-elf/empic1-mn.d: Likewise.
        * ld-mips-elf/empic1-mp.d: Likewise.
        * ld-mips-elf/empic1-sn.d: Likewise.
        * ld-mips-elf/empic1-sp.d: Likewise.
        * ld-mips-elf/empic1-ref.s: Likewise.
        * ld-mips-elf/empic1-space.s: Likewise.
        * ld-mips-elf/empic1-tgt.s: Likewise.
        * ld-mips-elf/empic2-fwd-0.d: New file to test
        R_MIPS_GNU_REL_HI16 and R_MIPS_GNU_REL_LO16 relocation edge
        cases.
        * ld-mips-elf/empic2-fwd-1.d: Likewise.
        * ld-mips-elf/empic2-rev-0.d: Likewise.
        * ld-mips-elf/empic2-rev-1.d: Likewise.
        * ld-mips-elf/empic2-ref.s: Likewise.
        * ld-mips-elf/empic2-space.s: Likewise.
        * ld-mips-elf/empic2-fwd-tgt.s: Likewise.
        * ld-mips-elf/empic2-rev-tgt.s: Likewise.
        * ld-mips-elf/mips-elf.exp: New file to run MIPS 32-bit ELF
        tests (including those above).
@
text
@d1 9
@


1.261
log
@Use real binary file for .incbin test
@
text
@d1 11
@


1.260
log
@* gas/sh/err-at.s: New test.
@
text
@d1 6
d36 1
a36 1
Fri Dec  7 09:16:07 2001  Jeffrey A Law  (law@@cygnus.com)
d50 1
a50 1
Fri Nov 23 09:20:43 2001  Jeffrey A Law  (law@@cygnus.com)
d314 1
a314 1
Tue Sep  4 20:06:09 2001  Jeffrey A Law  (law@@cygnus.com)
d326 1
a326 1
Thu Aug 30 21:58:48 2001  J"orn Rennecke <amylaar@@redhat.com>
d342 1
a342 1
Wed Aug 29 12:05:13 2001  J"orn Rennecke <amylaar@@redhat.com>
d1136 1
a1136 1
Wed Jan 10 15:14:54 MET 2001  Jan Hubicka  <jh@@suse.cz>
d1151 1
a1151 1
Sat Jan  6 13:34:07 MET 2001  Jan Hubicka  <jh@@suse.cz>
d1492 1
a1492 1
Sun May 21 10:08:08 2000  Hans-Peter Nilsson  <hp@@axis.com>
d1538 1
a1538 1
Mon Apr 24 16:35:08 2000  Jim Wilson  <wilson@@cygnus.com>
d1555 4
a1558 4
Fri Apr 21 13:20:53 2000  Richard Henderson  <rth@@cygnus.com>
			  David Mosberger  <davidm@@hpl.hp.com>
			  Timothy Wall <twall@@cygnus.com>
			  Jim Wilson  <wilson@@cygnus.com>
d1634 1
a1634 1
Fri Jan 21 12:48:06 2000  H.J. Lu <hjl@@gnu.org>
d1654 1
a1654 1
Tue Nov 30 23:02:01 1999  Jeffrey A Law  (law@@cygnus.com)
d1690 1
a1690 1
Mon Oct 11 13:37:51 1999  Geoffrey Keating  <geoffk@@cygnus.com>
d1699 1
a1699 1
Thu Oct  7 00:12:04 MDT 1999	Diego Novillo <dnovillo@@cygnus.com>
d1706 1
a1706 1
Thu Oct  7 12:52:25 1999  Geoffrey Keating  <geoffk@@cygnus.com>
d1718 1
a1718 1
Mon Oct  4 18:25:49 1999  Doug Evans  <devans@@canuck.cygnus.com>
d1787 1
a1787 1
Sat Aug 28 00:16:12 1999  Jerry Quinn <jquinn@@nortelnetworks.com>
d1931 1
a1931 1
Thu Apr 15 15:03:43 1999  Jeffrey A Law  (law@@cygnus.com)
d1935 1
a1935 1
Wed Apr 14 13:43:06 1999  Jeffrey A Law  (law@@cygnus.com)
d2067 1
a2067 1
Thu Nov 19 15:59:51 1998  Dave Brolley  <brolley@@cygnus.com>
d2071 1
a2071 1
Thu Nov 19 07:50:44 1998  Doug Evans  <devans@@charmed.cygnus.com>
d2076 1
a2076 1
Wed Nov 18 11:27:56 1998  Dave Brolley  <brolley@@cygnus.com>
d2080 1
a2080 1
Tue Nov 17 15:24:20 1998  Nick Clifton  <nickc@@cygnus.com>
d2431 1
a2431 1
Thu Oct  9 18:10:44 1997  Doug Evans  <dje@@canuck.cygnus.com>
d2435 1
a2435 1
Thu Oct  9 12:59:55 1997  Ian Lance Taylor  <ian@@cygnus.com>
d2440 1
a2440 1
Wed Oct  8 16:22:50 1997  Doug Evans  <dje@@canuck.cygnus.com>
d2444 1
a2444 1
Wed Oct  8 15:12:35 1997  Ian Lance Taylor  <ian@@cygnus.com>
d2453 1
a2453 1
Tue Oct  7 13:30:30 1997  Doug Evans  <dje@@canuck.cygnus.com>
d2458 1
a2458 1
Sat Oct  4 19:14:24 1997  Ian Lance Taylor  <ian@@cygnus.com>
d2462 1
a2462 1
Fri Oct  3 15:46:05 1997  Ian Lance Taylor  <ian@@cygnus.com>
d2470 1
a2470 1
Thu Sep 18 11:17:53 1997  Doug Evans  <dje@@canuck.cygnus.com>
d2478 1
a2478 1
Tue Sep 16 15:27:08 1997  Ken Raeburn  <raeburn@@cygnus.com>
@


1.259
log
@	* gas/cris/rd-dw2-10.d: Tweak for change in gas dwarf2 line number
	handling.
@
text
@d1 4
@


1.258
log
@Resolve CVS conflict.
@
text
@d1 5
@


1.257
log
@Index: bfd/ChangeLog
2001-12-07  Geoffrey Keating  <geoffk@@redhat.com>
	    Richard Henderson  <rth@@redhat.com>
	    Corinna Vinschen  <vinschen@@redhat.com>

	* Makefile.am: Add support for xstormy16.
	* archures.c: Add support for xstormy16.
	* config.bfd: Add support for xstormy16.
	* configure.in: Add support for xstormy16.
	* reloc.c: Add support for xstormy16.
	* targets.c: Add support for xstormy16.
	* cpu-xstormy16.c: New file.
	* elf32-xstormy16.c: New file.
	* Makefile.in: Regenerated.
	* bfd-in2.h: Regenerated.
	* configure: Regenerated.
	* libbfd.h: Regenerated.

Index: binutils/ChangeLog
2001-12-07  Geoffrey Keating  <geoffk@@redhat.com>

	* readelf.c (guess_is_rela): Add support for stormy16.
	(dump_relocations): Likewise.
	(get_machine_name): Likewise.

Index: gas/ChangeLog
2001-12-07  Geoffrey Keating  <geoffk@@redhat.com>
	    Richard Henderson  <rth@@redhat.com>

	* configure.in: Add support for xstormy16.
	* configure: Regenerated.
	* Makefile.am: Add support for xstormy16.
	* Makefile.in: Regenerated.
	* config/tc-xstormy16.c: New file.
	* config/tc-xstormy16.h: New file.

Index: gas/testsuite/ChangeLog
2001-12-07  Geoffrey Keating  <geoffk@@redhat.com>
	    matthew green  <mrg@@redhat.com>

	* gas/xstormy16/allinsn.d: New file.
	* gas/xstormy16/allinsn.exp: New file.
	* gas/xstormy16/allinsn.s: New file.
	* gas/xstormy16/allinsn.sh: New file.
	* gas/xstormy16/gcc.d: New file.
	* gas/xstormy16/gcc.s: New file.
	* gas/xstormy16/gcc.sh: New file.
	* gas/xstormy16/reloc-1.d: New file.
	* gas/xstormy16/reloc-1.s: New file.
	* gas/xstormy16/reloc-2.d: New file.
	* gas/xstormy16/reloc-2.s: New file.

Index: ld/ChangeLog
2001-12-07  Geoffrey Keating  <geoffk@@redhat.com>
	    Richard Henderson  <rth@@redhat.com>

	* Makefile.am: Add support for xstormy16.
	* configure.tgt: Add support for xstormy16.
	* Makefile.in: Regenerate.
	* emulparams/elf32xstormy16.sh: New file.
	* scripttempl/xstormy16.sc: New file.

Index: opcodes/ChangeLog
2001-12-07  Geoffrey Keating  <geoffk@@redhat.com>

	* Makefile.am: Add support for xstormy16.
	* Makefile.in: Regenerate.
	* configure.in: Add support for xstormy16.
	* configure: Regenerate.
	* disassemble.c: Add support for xstormy16.
	* xstormy16-asm.c: New generated file.
	* xstormy16-desc.c: New generated file.
	* xstormy16-desc.h: New generated file.
	* xstormy16-dis.c: New generated file.
	* xstormy16-ibld.c: New generated file.
	* xstormy16-opc.c: New generated file.
	* xstormy16-opc.h: New generated file.

Index: include/ChangeLog
2001-12-07  Geoffrey Keating  <geoffk@@redhat.com>

	* dis-asm.h (print_insn_xstormy16): Declare.

Index: include/elf/ChangeLog
2001-12-07  Geoffrey Keating  <geoffk@@redhat.com>
	    Richard Henderson  <rth@@redhat.com>

	* common.h (EM_XSTORMY16): Define.
	* xstormy16.h: New file.
@
text
@d1 1
a1 2
<<<<<<< ChangeLog
2001-11-26  Geoffrey Keating  <geoffk@@redhat.com>
a15 1
=======
a20 1
>>>>>>> 1.255
@


1.256
log
@	* gas/all/incbin.d: Update.
@
text
@d1 17
d23 1
@


1.255
log
@	* gas/all/incbin.s: Add spaces before directives.
@
text
@d4 1
@


1.254
log
@        * gas/hppa/parse/linesepbug.s: Restore to its original form,
        reverting change of July 19, 2000.
@
text
@d1 4
@


1.253
log
@* gas/arm/xscale.s, gas/arm/xscale.d (pld tests): PLD instruction has
no post-indexed addressing modes.
@
text
@d1 5
@


1.252
log
@	* gas/all/gas.exp (incbin): Fix condition.
@
text
@d1 5
@


1.251
log
@        * gas/all/gas.exp (incbin): Do not run on the PA.
@
text
@d1 4
d29 1
a29 1
	length. 
d33 1
a33 1
	p2align. 
d35 1
a35 1
	
d51 1
a51 1
	
@


1.250
log
@        * gas/hppa/parse/parse.exp: Expect failure on line separator bug.
@
text
@d3 2
@


1.249
log
@2001-11-16  Chris Demetriou  <cgd@@broadcom.cOm>

        * gas/mips/elf-rel5.s, gas/mips/elf-rel5.s: New test
        to test symbol plus offset relocations in various ways.
        * gas/mips/mips.exp: Run new test.
@
text
@d1 4
@


1.248
log
@binutils/ChangeLog
	* doc/binutils.texi (objdump): Document ppc -M options.
gas/ChangeLog
	* config/tc-ppc.c (ppc_insert_operand): Pass (ppc_cpu | ppc_size)
	to operand->insert.
	(md_assemble): Likewise.
gas/testsuite/ChangeLog
	* gas/ppc/booke.d: Modify reloc and target matches for powerpc64.
include/opcode/ChangeLog
	* ppc.h (struct powerpc_operand <insert, extract>): Add dialect param.
opcodes/ChangeLog
	* ppc-opc.c (PPC64): Revert 2001-10-12. Do include PPC_OPCODE_PPC.
	(insert_bat, extract_bat, insert_bba, extract_bba,
	insert_bd, extract_bd, insert_bdm, extract_bdm,
	insert_bdp, extract_bdp, valid_bo,
	insert_bo, extract_bo, insert_boe, extract_boe,
	insert_ds, extract_ds, insert_de, extract_de,
	insert_des, extract_des, insert_li, extract_li,
	insert_mbe, extract_mbe, insert_mb6, extract_mb6,
	insert_nb, extract_nb, insert_nsi, extract_nsi,
	insert_ral, insert_ram, insert_ras,
	insert_rbs, extract_rbs, insert_sh6, extract_sh6,
	insert_spr, extract_spr, insert_tbr, extract_tbr): Add dialect param.
	(extract_bd, extract_bdm, extract_bdp,
	extract_ds, extract_des,
	extract_li, extract_nsi): Implement sign extension without conditional.
	(insert_bdm, extract_bdm,
	insert_bdp, extract_bdp, valid_bo): Handle 64 bit branch hints.
	(extract_bdm, extract_bdp): Correct 32 bit validation.
	(AT1_MASK, AT2_MASK): Define.
	(BBOAT_MASK): Define.
	(BBOATCB_MASK, BBOAT2CB_MASK, BBOATBI_MASK): Define.
	(BOFM64, BOFP64, BOTM64, BOTP64): Define.
	(BODNZM64, BODNZP64, BODZM64, BODZP64): Define.
	(PPCCOM32, PPCCOM64): Define.
	(powerpc_opcodes): Modify existing 32 bit insns with branch hints
	and add new patterns to implement 64 bit branches with hints.  Move
	booke instructions so they match before ppc64.
	* ppc-dis.c (powerpc_dialect): Set PPC_OPCODE_64 in dialect for
	64 bit default targets, and parse "32" and "64" in options.
	Formatting fixes.
	(print_insn_powerpc): Pass dialect to operand->extract.
@
text
@d1 6
@


1.247
log
@remove diff indicators
@
text
@d1 4
@


1.246
log
@Fix tic54x testsuite failures and Lmem disassembly bugs.
@
text
@a77 1
>>>>>>> 1.244
@


1.245
log
@	* config/tc-mips.c (support_64bit_objects): Define for OBJ_ELF only.
	(md_longopts): Allow OPTION_MABI for ELF compilation only. RE-allow
	OPTION_GP32, OPTION_GP64, OPTION_FP32 for non-ELF compilation.
	Sort options a bit more logical.
	(md_parse_option): Allow OPTION_32, OPTION_N32, OPTION_N64,
	OPTION_MABI only for elf targets.
	* gas/mips/mips.exp: Change naming of some conditionals to reflect
	the object format they actually mean. Don't try mips-abi32 and
	mips-abi32-pic tests for ecoff.
@
text
@d1 15
d78 1
@


1.244
log
@	* gas/mmix/bspec-2.d, gas/mmix/bspec-1.d, gas/mmix/comment-1.d:
	Prune and generalize, adjusting to generic ELF file layout changes.
@
text
@d1 6
@


1.243
log
@[ gas/ChangeLog ]
2001-11-04  Chris Demetriou  <cgd@@broadcom.com>

	* configure.in (mips-*-netbsd*): Add support for target.
	* configure: Regenerate.

[ gas/testsuite/ChangeLog ]
2001-11-04  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/mips.exp (svr4pic): Set if target is *-*-netbsd*.
	(aout): Don't set if *-*-netbsd*.

[ ld/ChangeLog ]
2001-11-04  Chris Demetriou  <cgd@@broadcom.com>

	* configure.tgt (mips*el-*-netbsd*, mips*-*-netbsd*):
	Add support for targets.
@
text
@d1 5
@


1.242
log
@Fix testsuites for bigendian sh-linux
@
text
@d1 5
@


1.241
log
@	* gas/m68hc11/opers12.s: Add test for disassembler bug with movb
	instruction.
	* gas/m68hc11/opers12.d: Likewise.
	* gas/m68hc11/opers12-dwarf2.d: Likewise.
@
text
@d1 5
@


1.240
log
@[ bfd/ChangeLog ]
2001-10-31  Chris Demetriou  <cgd@@demetriou.com>

	* elf32-mips.c (_bfd_mips_elf_hi16_reloc): Handle PC-relative
	relocations properly.

[ gas/ChangeLog ]
2001-10-31  Chris Demetriou  <cgd@@broadcom.com>

	* config/tc-mips.c (HAVE_32BIT_ADDRESSES): If compiling embedded
	PIC code, assume pointers the same size as GPRs.
	(macro): In M_LA_AB handling for embedded PIC code, support
	"la $treg,foo-bar($breg)".  In load/store handling
	(label ld_st) support "<op> $treg,<sym>-<local_sym>($breg)"
	which is used by the compiler for switch statements.
	In load/store double multi-instruction macro handling
	(label ldd_std) add a comment that no special handling
	is currently done for embedded PIC.
	(mips_ip): In 'o' (16-bit offset) case, only accept 16
	bit offsets.

[ gas/testsuite/ChangeLog ]
2001-10-31  Chris Demetriou  <cgd@@broadcom.com>

	* gas/mips/empic.s: Undo damage inflicted on 2000-12-02.
	* gas/mips/empic.d: Likewise.
	* gas/mips/elempic.d: Likewise (it was copied into other files).
	* gas/mips/telempic.d: Likewise.
	* gas/mips/tempic.d: Likewise.

	* gas/mips/empic2.s: New test to check new 'la' and 'lw' (and
	related ops) syntax, test loads with large offsets.
	* gas/mips/emcic2.d: Likewise.
	* gas/mips/mips.exp: Run the new test on ELF platforms.
@
text
@d1 7
@


1.239
log
@Update to match latest listing behaviour
@
text
@d1 13
@


1.238
log
@	* gas/mmix/tst.s: Delete unused file.
	* gas/mmix/unsave-op.s, gas/mmix/save-op.s, gas/mmix/resume-op.s,
	gas/mmix/reloc8.s, gas/mmix/prefix1.s, gas/mmix/pop-op.s,
	gas/mmix/greg8.s, gas/mmix/greg6.s, gas/mmix/expr-1.s,
	gas/mmix/greg1.s, gas/mmix/err-bspec-5.s, gas/mmix/op-0-1.s,
	gas/mmix/fb-2.s: Remove trailing empty lines.
@
text
@d1 8
@


1.237
log
@Add MMIX support
@
text
@d1 9
@


1.236
log
@2001-10-24  Chris Demetriou  <cgd@@broadcom.com>

        * gas/mips/ld-empic.d: Remove extra whitespace at beginning of
        file introduced in the change on 2001-05-15.
@
text
@d1 4
@


1.235
log
@2001-10-24  Chris Demetriou  <cgd@@broadcom.com>

        * gas/mips/mips-abi32-pic.s: Use ".word" rather than ".4byte".
        Delete use of ".size".
        * gas/mips/mips-abi32.s: Likewise.
        * gas/mips/mips-gp32-fp32-pic.s: Likewise.
        * gas/mips/mips-gp32-fp32.s: Likewise.
        * gas/mips/mips-gp32-fp64-pic.s: Likewise.
        * gas/mips/mips-gp32-fp64.s: Likewise.
        * gas/mips/mips-gp64-fp32-pic.s: Likewise.
        * gas/mips/mips-gp64-fp32.s: Likewise.
        * gas/mips/mips-gp64-fp64-pic.s: Likewise.
        * gas/mips/mips-gp64-fp64.s: Likewise.
@
text
@d3 5
@


1.234
log
@
[opcodes/ChangeLog]

2001-10-21  Chris Demetriou  <cgd@@broadcom.com>

        * mips-opc.c (mips_builtin_opcodes): Mark "bgezall" and
        "bltzall" as writing GPR 31 (since they do).

        * mips-dis.c (print_insn_arg): Calculate info->target
        where appropriate.
        (print_insn_mips): Fill in instruction info.
        (print_mips16_insn_arg): Remove unneded variable 'val'.
        Removed duplicated instruction target calculations,
        calculate once and print that result.  Use same idiom for
        masking the jump segment bits as is used in print_insn_arg.

[gas/testsuite/ChangeLog]

2001-10-21  Chris Demetriou  <cgd@@broadcom.com>

        * gas/mips/beq.s: Add zero words at end of instructions so
        that objdump will print "..." when disassembling.
        * gas/mips/beq.d: Update for disassembler changes which force
        branch delay-slot nops to be printed.
        * gas/mips/bge.d: Ditto.
        * gas/mips/bgeu.d: Ditto.
        * gas/mips/blt.d: Ditto.
        * gas/mips/bltu.d: Ditto.
        * gas/mips/jal-svr4pic.d: Ditto.
        * gas/mips/jal-xgot.d: Ditto.
@
text
@d1 14
@


1.233
log
@2001-10-20  H.J. Lu  <hjl@@gnu.org>

	* gas/elf/ehopt0.s: Lose ",@@progbits".
@
text
@d1 13
@


1.232
log
@[gas/testsuite/ChangeLog]
2001-10-17  Chris Demetriou  <cgd@@broadcom.com>

        * gas/mips/mips.exp (sb1-ext-ps): New test to test
        SB-1 core's paired-single extensions to the MIPS64 ISA.
        * gas/mips/sb1-ext-ps.d: New file.
        * gas/mips/sb1-ext-ps.s: New file.

[include/opcode/ChangeLog]
2001-10-17  Chris Demetriou  <cgd@@broadcom.com>

        * mips.h (INSN_SB1): New cpu-specific instruction bit.
        (OPCODE_IS_MEMBER): Allow instructions matching INSN_SB1
        if cpu is CPU_SB1.

[opcodes/ChangeLog]
2001-10-17  Chris Demetriou  <cgd@@broadcom.com>

        * mips-dis.c (mips_isa_type): Make the ISA used to disassemble
        SB-1 binaries include instructions specific to the SB-1.
        * mips-opc.c (SB1): New definition.
        (mips_builtin_opcodes): Add SB-1 extension opcodes "div.ps",
        "recip.ps", "rsqrt.ps", and "sqrt.ps".
@
text
@d1 4
@


1.231
log
@[gas/ChangeLog]
	* config/tc-ppc.c (md_show_usage): Add missing -maltivec, -m7400,
	-m7410, -m7450 and -m7455 options.

[gas/testsuite/ChangeLog]
	* gas/ppc/altivec.s: New test for AltiVec.
	* gas/ppc/altivec.d: New file.
	* gas/ppc/ppc.exp: Test altivec.s

[include/opcode/ChangeLog]
	* ppc.h (PPC_OPCODE_BOOKE64): Fix typo.

[opcodes/ChangeLog]
	* ppc-opc.c (STRM): New AltiVec operand.
	(XDSS): New AltiVec instruction form.
	(mtvscr): Correct operand list.
	(dst, dstt, dstst, dststt, dss, dssall): AltiVec instructions.
@
text
@d1 7
@


1.230
log
@	* gas/sh/err-le.s, gas/sh/err-be.s: New tests.
@
text
@d1 6
@


1.229
log
@[gas/testsuite/ChangeLog]
	* gas/ppc/booke.s (rfci, wrtee, wrteei, mfdcrx, mfdcr, mtdcrx,
	mtdcr, msync, dcba, mbar): New BookE tests.
	* gas/ppc/booke.d: Update for new BookE tests.

[opcodes/ChangeLog]
	* ppc-opc.c (MO): New macro for MO field of mbar instruction.
	(powerpc_opcodes): Add rfci, wrtee, wrteei, mfdcrx, mfdcr,
	mtdcrx, mtdcr, msync, dcba and mbar as BookE instructions.
@
text
@d1 4
@


1.228
log
@[gas/ChangeLog]
	* config/tc-ppc.c (md_parse_option): New -m7410, -m7450 and -m7455
	flags, equivalent to -m7400.  New -maltivec to enable AltiVec
	instructions.  New -mbook64 and -mbooke/-mbooke32 flags to enable
	64-bit and 32-bit BookE support, respectively.  Change -m403 and
	-m405 to set PPC403 option.
	(md_show_usage): Adjust for new options.
	* doc/all.texi: Set PPC.
	* doc/as.texinfo: Add PPC support and pull in c-ppc.texi.
	* doc/c-ppc.texi: New file.
	* doc/Makefile.am (CPU_DOCS): Add c-ppc.texi.
	* doc/Makefile.in: Regenerate.

[gas/testsuite/ChangeLog]
	* gas/ppc/booke.s: New test for Motorola BookE.
	* gas/ppc/booke.d: New file.
	* gas/ppc/ppc.exp: Test booke.s.

[include/opcode/ChangeLog]
	* ppc.h (PPC_OPCODE_BOOKE, PPC_OPCODE_403): New opcode flags for
	BookE and PowerPC403 instructions.

[opcodes/ChangeLog]
	* ppc-opc.c (insert_de, extract_de, insert_des, extract_des): New
	instruction field instruction/extraction functions for new BookE
	DE form instructions.
	(CT): New macro for CT field in an X form instruction.
	(DE, DES, DEO, DE_MASK): New macros for DE/DES fields in DE form
	instructions.
	(PPC64): Don't include PPC_OPCODE_PPC.
	(403): New opcode macro for PPC403 processors.
	(BOOKE): New opcode macro for BookE processors.
	(bce, bcel, bcea, bcela, bclre, bclrel: New BookE instructions.
	(bcctre, bcctrel, be, bel, bea, bela, icbt, icbte, lwzxe): Likewise.
	(dcbste, lwzuxe, luxe, dcbfe, lbzxe, lwarxe, lbzuxe): Likewise.
	(stwcxe, stwxe, stxe, stwuxe, stuxe, stbxe, dcbtste, stbuxe): Likewise.
	(mfapidi, dcbte, lhzxe, lhzuxe, lhaxe, lhauxe, subfe64): Likewise.
	(subfeo64, adde64, addeo64, sthxe, sthuxe, subfze64): Likewise.
	(subfzeo64, addze64, addzeo64, dcbie, subfme64, subfmeo64): Likewise.
	(addme64, addmeo64, stdcxe., mcrxr64, lwbrxe, lfsxe, lfsuxe): Likewise.
	(lfdxe, lfduxe, stwbrxe, stfsxe, stfsuxe, stfdxe, dcbae): Likewise.
	(stfduxe, tlbivax, tlbivaxe, lhbrxe, ldxe, lduxe, tlbsx): Likewise.
	(tlbsxe, sthbrxe, stdxe, stduxe, icbie, stfiwxe, dcbze, lbze): Likewise.
	(lbzue, ldue, lhze, lhzue, lhae, lhaue, lwze, lwzue): Likewise.
	(stbe, stbue, sthe, sthue, stwe, stwue, lfse, lfsue, lfde): Likewise.
	(lfdue, stde, stdue, stfse, stfsue, stfde, stfdue): Likewise.

	* ppc-dis.c (print_insn_big_powerpc, print_insn_little_powerpc): Look
	for a disassembler option of `booke', `booke32' or `booke64' to enable
	BookE support in the disassembler.
@
text
@d1 6
@


1.227
log
@Add test of SH DSP instructions
@
text
@d1 6
@


1.226
log
@2001-10-08  Aldy Hernandez  <aldyh@@redhat.com>

	* gas/testsuite/gas/arm/arm.exp: Run arm9e tests.

	* gas/testsuite/gas/arm/maverick.c: New.

	* gas/testsuite/gas/arm/maverick.d: New.

	* gas/testsuite/gas/arm/maverick.s: New.
@
text
@d1 7
@


1.225
log
@     Testcase updates for the previous patch.
@
text
@d1 10
@


1.224
log
@2001-09-29  H.J. Lu  <hjl@@gnu.org>

	* gas/i386/i386.exp: Run 64bit tests only for "i*86-*-* and
	x86_64-*-*.
@
text
@d1 15
@


1.223
log
@s390 assembler improvements and testsuite
@
text
@d1 5
@


1.222
log
@mischeckin.  fixed.
@
text
@d1 17
d35 1
a35 1

d53 1
a53 1

d58 1
a58 1

@


1.221
log
@2001-09-07  Eric Christopher  <echristo@@redhat.com>

	* gas/mips/mips64.d: Change to use mipsisa64.
	* gas/mips/mips32.d: Change to use mipsisa32.
@
text
@d3 2
a4 2
	* gas/mips/mips64.d: Change to use mipsisa64.
	* gas/mips/mips32.d: Change to use mipsisa32.
@


1.220
log
@	Reallow unrestricted use of .set mipsX pseudo-op in gas.
	Update testcases accordingly.
@
text
@d1 5
d175 1
a175 1
	
d226 1
a226 1
	
@


1.219
log
@	* elf32-mips.c (mips_elf_calculate_relocation): Fix overflow handling
	of R_MIPS_PC16.

	* config/tc-mips.c (append_insn): Handle BFD_RELOC_16_PCREL.
	(macro_build): Use BFD_RELOC_16_PCREL_S2 only for embedded
	PIC, BFD_RELOC_16_PCREL for the rest.
	(mips_ip): Likewise.
        (md_pcrel_from): return the right offset for the differently shifted
        pcrel relocs.
	(md_apply_fix): Handle BFD_RELOC_16_PCREL.

	* gas/mips/beq.d: Check branches to external labels.
	* gas/mips/beq.s: Likewise.
	* gas/mips/bge.d: Likewise.
	* gas/mips/bge.s: Likewise.
	* gas/mips/bgeu.d: Likewise.
	* gas/mips/bgeu.s: Likewise.
	* gas/mips/blt.d: Likewise.
	* gas/mips/blt.s: Likewise.
	* gas/mips/bltu.d: Likewise.
	* gas/mips/bltu.s: Likewise.
	* gas/mips/elempic.d: Switch from R_MIPS_GNU_REL16_S2 to R_MIPS_PC16.
	* gas/mips/empic.d: Likewise.
	* gas/mips/empic.s: Likewise.
	* gas/mips/telempic.d: Likewise.
	* gas/mips/tempic.d: Likewise.
@
text
@d3 13
@


1.218
log
@	* gas/mips/tmips16-f.d: New file, testcase for big endian MIPS16
	relocations, tradtional variant.
@
text
@d1 18
@


1.217
log
@ 	* config/tc-alpha.c (struct alpha_insn): Make sequence scalar long.
 	(MACRO_LITERAL, MACRO_BASE, MACRO_BYTOFF, MACRO_JSR): Remove.
 	(alpha_macros): Remove occurrences of same.
 	(O_lituse_addr, O_gprel): New.
 	(DUMMY_RELOC_LITUSE_*): New.
 	(s_alpha_ucons, s_alpha_arch): Prototype.
 	(alpha_reloc_op): Construct elements via DEF macro.
 	(ALPHA_RELOC_SEQUENCE_OK): Remove.
 	(struct alpha_reloc_tag): Rename from alpha_literal_tag; rename
 	members to not be literal specific.
 	(next_sequence_num): New.
 	(md_apply_fix3): Cope with missing GPDISP_LO16.  Adjust for
 	added/removed BFD relocations.
 	(alpha_force_relocation, alpha_fix_adjustable): Likewise.
 	(alpha_adjust_symtab_relocs): Handle GPDISP relocs as well.
 	(tokenize_arguments): Parse ! relocations properly.
 	(find_macro_match): Delete unused macro argument types.
 	(assemble_insn): Add reloc parameter; emit that instead of the
 	default as appropriate.
 	(get_alpha_reloc_tag): New.  Split from ...
 	(emit_insn): ... here.  Allocate a reloc tag for GPDISP.
 	(assemble_tokens): Don't search macros if user relocation present.
 	Copy reloc sequence number to insn struct.
 	(emit_ldgp): Remove user reloc handling.
 	(load_expression, emit_lda, emit_ldah, emit_ir_load): Likewise.
 	(emit_loadstore, emit_ldXu, emit_ldil, emit_stX): Likewise.
 	(emit_sextX, emit_division, emit_jsrjmp, emit_retjcr): Likewise.
 	* config/tc-alpha.h (tc_adjust_symtab): Always define.
 	(struct alpha_fix_tag): Name members less literal specific.

 	* gas/alpha/alpha.exp: New file.
 	* gas/alpha/elf-reloc-1.[sd]: New test.
 	* gas/alpha/elf-reloc-2.[sl]: New test.
 	* gas/alpha/elf-reloc-3.[sl]: New test.
 	* gas/alpha/elf-reloc-4.[sd]: New test.
 	* gas/alpha/fp.exp: Remove file.
 	* gas/alpha/fp.s: Output to .data not .rdata.
 	* gas/alpha/fp.d: Adjust to match.
@
text
@d1 5
@


1.216
log
@Tue Sep  4 20:06:09 2001  Jeffrey A Law  (law@@cygnus.com)

        * gas/all/gas.exp (930509a): Expect failure on the H8/300 ELF port.

        * gas/h8300/ffxx1-elf.d: Update due to recent changes to H8/300
        ELF toolchain.
        * gas/h8300/h8300-elf.exp: Likewise.

        * gas/macros/macros.exp: Expect failure on all H8/300 ports.

        * gas/vtable/vtable.exp: Do not run tests on H8/300 ELF ports.
@
text
@d1 11
@


1.215
log
@	* gas/h8300/h8300.exp (do_h8300_cbranch): Remove invocation.
	(do_h8300_branch, do_h8300h_cbranch, do_h8300h_branch): Likewise.
	(do_h8300s_cbranch, do_h8300s_branch, ffxx1): Likwise.
	* gas/h8300/h8300-coff.exp, gas/h8300/h8300-elf.exp: New files.
	* gas/h8300/branch-elf.s, gas/h8300/branchh-elf.s: Likewise.
	* gas/h8300/branchs-elf.s, gas/h8300/ffxx1-elf.d: Likewise.
	* gas/h8300/ffxx1-elf.s: Likewise.
	* gas/h8300/branch.s, gas/h8300/branchh.s: Move to:
	* gas/h8300/branch-coff.s, gas/h8300/branchh-coff.s
	* gas/h8300/branchs.s, gas/h8300/ffxx1.d: Move to:
	* gas/h8300/branchs-coff.s, gas/h8300/ffxx1-coff.d .
	* gas/h8300/ffxx1.s: Move to:
	* gas/h8300/ffxx1-coff.s .
@
text
@d1 12
@


1.214
log
@
        * lib/gas-defs.exp: (regexp_diff) At verbosity 3, also show
        where mismatch occurs due to regexp mismatch.

Another patch from Joern.
@
text
@d1 16
@


1.213
log
@	* gas/macros/macros.exp: xfail powerpc-*-aix.
	* gas/ppc/astest64.s: New.
	* gas/ppc/astest64.d: New.
	* gas/ppc/astest2_64.s: New.
	* gas/ppc/astest2_64.d: New.
	* gas/ppc/test1elf.asm: New.
	* gas/ppc/test1xcoff.asm: New.
	* gas/ppc/generate.sh: New. Generate new files below from above .asm
	* gas/ppc/test1elf32.s: New.
	* gas/ppc/test1elf32.d: New.
	* gas/ppc/test1elf64.s: New.
	* gas/ppc/test1elf64.d: New.
	* gas/ppc/test1xcoff32.s: New.
	* gas/ppc/test1xcoff32.d: New.
	* gas/ppc/ppc.exp: Run new tests.
	* gas/ppc/simpshft.s: Tweak align now that we get nops.
@
text
@d1 5
@


1.212
log
@	* binutils-all/readelf.exp: Don't regard mips*el-*-* as traditional
	mips.
	* gas/mips/mips.exp: Likewise. Use traditional testcases for
	mips${el}16-f if needed.
	* gas/mips/elempic.d: New file, testcase for little endian empic.
	* gas/mips/elfel-rel2.d: Don't test trailing zeroes in dump.
	* gas/mips/mips16-f.d: Use non-traditional symbol sorting.
	* gas/mips/mipsel16-f.d: Likewise.
	* gas/mips/mipsel16-e.d: New file, testcase for little endian MIPS16
	relocations.
	* gas/mips/tmipsel16-f.d: New file, testcase for little endian MIPS16
	relocations, traditional variant.
@
text
@d1 20
@


1.211
log
@2001-08-17  H.J. Lu  <hjl@@gnu.org>

	* gas/sparc/unalign.d: Support Sparc V9.
@
text
@d1 15
@


1.210
log
@
Add support for MIPS R1[02]000 performance counter opcodes.
@
text
@d1 4
@


1.209
log
@Extend unaligned test to check .uaword with mulitple arguments
@
text
@d1 6
@


1.208
log
@2001-08-10  H.J. Lu  <hjl@@gnu.org>

	* gas/mips/e32-rel2.d: Updated for the objdump output change.
	* gas/mips/e32el-rel2.d: Likewise.
	* gas/mips/elf-rel.d: Likewise.
	* gas/mips/elf-rel2.d: Likewise.
	* gas/mips/elf-rel3.d: Likewise.
	* gas/mips/elf_e_flags1.d: Likewise.
	* gas/mips/elf_e_flags2.d: Likewise.
	* gas/mips/elf_e_flags3.d: Likewise.
	* gas/mips/elf_e_flags4.d: Likewise.
	* gas/mips/elfel-rel.d: Likewise.
	* gas/mips/elfel-rel2.d: Likewise.
	* gas/mips/elfel-rel3.d: Likewise.
	* gas/mips/empic.d: Likewise.
	* gas/mips/mips16-e.d: Likewise.
	* gas/mips/mips16-f.d: Likewise.
	* gas/mips/mipsel16-f.d: Likewise.
	* gas/mips/telempic.d: Likewise.
	* gas/mips/tempic.d: Likewise.
	* gas/mips/tmips16-e.d: Likewise.
	* gas/mips/tmipsel16-e.d: Likewise.

	* gas/mips/mips16-f.d: Fix the symbol table output.

	* gas/mips/mipsel16-f.d: Fix the endian.

	* gas/mips/mips.exp; Don't xfail mips16-f/mipsel16-f.
@
text
@d1 7
@


1.207
log
@	* gas/mips/mips-gp32-fp32.d: Expect addu rather than or for moves.
	* gas/mips/mips-gp32-fp64.d: Likewise.
	* gas/mips/mips-abi32.d: Likewise.
	* gas/mips/mips-gp32-fp32-pic.d: Likewise.
	* gas/mips/mips-gp32-fp64-pic.d: Likewise.
	* gas/mips/mips-abi32-pic.d: Likewise.
@
text
@d1 29
@


1.206
log
@Move one entry from gas/ChangeLog to gas/testsuite/ChangeLog.
Remove gas/ from file names.  Fix FOPEN_W comment.
@
text
@d1 9
@


1.205
log
@
	* mips-dis.c (print_insn_arg): Don't use software integer registers
	for coprocessor registers.
	(_print_insn_mips): Get distinction between old ABI and new ABI right.
@
text
@d108 5
@


1.204
log
@2001-08-04  H.J. Lu  <hjl@@gnu.org>

	* gas/cris/operand-err-1.s: Updated.
@
text
@d1 8
@


1.203
log
@2001-08-04  H.J. Lu  <hjl@@gnu.org>
	    Chris G. Demetriou <cgd@@broadcom.com>

	* gas/mips/e32-rel4.s: Removed.

	* gas/mips/e32-rel4.d: Use elf-rel4.s.

	* gas/mips/mips.exp: Use the same rel4 test for litte endian.

	* gas/mips/mips-abi32-pic.d: Add lines for objdump.
	* gas/mips/mips-abi32.d: Likewise.
	* gas/mips/mips-gp32-fp32-pic.d: Likewise.
	* gas/mips/mips-gp32-fp32.d: Likewise.
	* gas/mips/mips-gp32-fp64-pic.d: Likewise.
	* gas/mips/mips-gp32-fp64.d: Likewise.
	* gas/mips/mips-gp64-fp32-pic.d: Likewise.
	* gas/mips/mips-gp64-fp32.d: Likewise.
	* gas/mips/mips-gp64-fp64-pic.d: Likewise.
	* gas/mips/mips-gp64-fp64.d: Likewise.

	* gas/mips/mips-abi32-pic.s: Add space for objdump.
	* gas/mips/mips-abi32.s: Likewise.
	* gas/mips/mips-gp32-fp32-pic.s: Likewise.
	* gas/mips/mips-gp32-fp32.s: Likewise.
	* gas/mips/mips-gp32-fp64-pic.s: Likewise.
	* gas/mips/mips-gp32-fp64.s: Likewise.
	* gas/mips/mips-gp64-fp32-pic.s: Likewise.
	* gas/mips/mips-gp64-fp32.s: Likewise.
	* gas/mips/mips-gp64-fp64-pic.s: Likewise.
	* gas/mips/mips-gp64-fp64.s: Likewise.

	* gas/mips/mips-abi32-pic.s: Add the missing .end.
	* gas/mips/mips-gp32-fp32-pic.s: Likewise.
	* gas/mips/mips-gp32-fp64-pic.s: Likewise.
	* gas/mips/mips-gp64-fp32-pic.s: Likewise.
	* gas/mips/mips-gp64-fp64-pic.s: Likewise.
@
text
@d2 4
@


1.202
log
@*** empty log message ***
@
text
@d1 37
@


1.201
log
@	* gas/mips/mips-gp32-fp32,
	* gas/mips/mips-gp32-fp64,
	* gas/mips/mips-gp64-fp32,
	* gas/mips/mips-gp64-fp64,
	* gas/mips/mips-abi32,
	* gas/mips/mips-gp32-fp32-pic,
	* gas/mips/mips-gp32-fp64-pic,
	* gas/mips/mips-gp64-fp32-pic,
	* gas/mips/mips-gp64-fp64-pic,
	* gas/mips/mips-abi32-pic: New testcases.

	* gas/mips/mips.exp: Run them.
@
text
@d1 7
@


1.200
log
@	* gas/elf/section2.l: Adjust warning message comparison.
@
text
@d1 15
@


1.199
log
@	* gas/mips/mips.exp (el): New variable.
	Use it to pick ELF reloc tests.
@
text
@d1 4
@


1.198
log
@2001-07-26  Chris Demetriou  <cgd@@broadcom.com>

        * gas/mips/lif-empic.d: Add back dollar signs before floating
        point register names.
@
text
@d1 5
@


1.197
log
@	* gas/i386/relax.s: Test rs_space.
	* gas/i386/relax.d: Update.
@
text
@d1 5
@


1.196
log
@	* gas/i386/opcode.d: Tweak lgdt for 2001-07-18 change.
	* gas/i386/intel.d: Likewise.
@
text
@d1 5
@


1.195
log
@2001-07-16  Philip Blundell  <philb@@gnu.org>

	* gas/arm/arm7t.d, gas/arm/inst.d: Tweak expected output for
	change to disassembler.
@
text
@d1 5
@


1.194
log
@Fix failures in MIPS testsuite
@
text
@d1 5
@


1.193
log
@Add .incbin pseudo op
@
text
@d1 7
@


1.192
log
@[gas]
	* config/tc-mips.c (md_apply_fix): Prevent addend from becoming zero
	if it's expected to be non-zero.
[gas/testsuite]
	* gas/mips/elf-rel3.s: Add zero word to end of file.
@
text
@d1 6
@


1.191
log
@2001-07-03  H.J. Lu  <hjl@@gnu.org>

	* gas/mips/lb-xgot-ilocks.d: Add -march=r3900.
@
text
@d1 4
@


1.190
log
@2001-07-01  Ben Elliston  <bje@@redhat.com>

	* gas/m88k/allinsn.s: New file.
	* gas/m88k/allinsn.d: Likewise.
	* gas/m88k/m88k.exp: Test with allinsn.s also.
@
text
@d1 4
@


1.189
log
@2001-06-28  Eric Christopher <echristo@@redhat.com>
	    H.J. Lu  <hjl@@gnu.org>

* config/tc-mips.c (mips_arch): New. Use mips_arch instead
of mips_cpu for the ISA selection.
(md_longopts): Add OPTION_MARCH and OPTION_MTUNE.
(md_parse_option): Handle OPTION_MARCH and OPTION_MTUNE.
	(mips_tune): New.  Use mips_tune for scheduling and optimization
	issues.
	(append_insn): Use mips_tune and mips_arch.
	(macro_build): Ditto.
	(mips_ip): Ditto.
	(md_begin): Handle mips_arch, mips_tune and mips_cpu.  For
	backwards compatability mips_cpu generates arch and tune.
	(md_show_usage): Document new behavior.

	* doc/c-mips.texi (MIPS Opts): Document -march and -mtune.
	Deprecate -mcpu.

	* NEWS: Update.

2001-06-28  Eric Christopher  <echristo@@redhat.com>

	* gas/mips/usd.d: Change for march/mtune.
	* gas/mips/ulh-xgot.d: Ditto.
	* gas/mips/uld.d: Ditto.
	* gas/mips/trunc.d: Ditto.
	* gas/mips/rol.d: Ditto.
	* gas/mips/nodelay.d: Ditto.
	* gas/mips/mul.d: Ditto.
	* gas/mips/mul-ilocks.d: Ditto.
	* gas/mips/trap20.d: Ditto.
	* gas/mips/mips4.d: Ditto.
	* gas/mips/mips16.d: Ditto.
	* gas/mips/lif-xgot.d: Ditto.
	* gas/mips/lif-svr4pic.d: Ditto.
	* gas/mips/ld-xgot.d: Ditto.
	* gas/mips/ld-svr4pic.d: Ditto.
	* gas/mips/ld-ilocks-addr32.d: Ditto.
	* gas/mips/lb-xgot.d: Ditto.
	* gas/mips/jal-xgot.d: Ditto.
	* gas/mips/jal-svr4pic.d: Ditto.
	* gas/mips/delay.d: Ditto.
	* gas/mips/lb-xgot-ilocks.d: Ditto.
	* gas/mips/div.d: Ditto.
	* gas/mips/break20.d: Ditto.
	* gas/mips/delay.d: Ditto.
	* gas/mips/elf_e_flags3.d: Ditto.
	* gas/mips/elf_e_flags4.d: Ditto.
	* gas/mips/lineno.d: Ditto.
	* gas/mips/mips16.d: Ditto.
	* gas/mips/mips4.d: Ditto.
	* gas/mips/mips4010.d: Ditto.
	* gas/mips/mips4650.d: Ditto.
@
text
@d1 6
@


1.188
log
@Allow adrCCl.  [Patch from Phillip BLundel]
Updated ARM tests.
@
text
@d1 34
d50 1
a50 1
	
@


1.187
log
@Fix for problem with default alignment of .comm
@
text
@d1 11
@


1.186
log
@
	* gas/vtable/vtable.exp (run_list_test): Don't run on sparc64.
@
text
@d1 5
@


1.185
log
@Fix m68k/mri mode problems.
@
text
@d1 4
d428 1
a428 1
	* gas/mri/mri.exp: Don't execute the M68K specific tests 
d460 33
a492 33
 	* gas/arc/adc.s, gas/arc/adc.d: New test cases and dump.
 	* gas/arc/add.s, gas/arc/add.d: Likewise.
 	* gas/arc/and.s, gas/arc/and.d: Likewise.
 	* gas/arc/asl.s, gas/arc/asl.d: Likewise.
 	* gas/arc/asr.s, gas/arc/asr.d: Likewise.
 	* gas/arc/b.s, gas/arc/b.d: Likewise.
 	* gas/arc/bic.s, gas/arc/bic.d: Likewise.
 	* gas/arc/bl.s, gas/arc/bl.d: Likewise.
 	* gas/arc/brk.s, gas/arc/brk.d: Likewise.
 	* gas/arc/extb.s, gas/arc/extb.d: Likewise.
 	* gas/arc/extw.s, gas/arc/extw.d: Likewise.
 	* gas/arc/flag.s, gas/arc/flag.d: Likewise.
 	* gas/arc/j.s, gas/arc/j.d: Likewise.
 	* gas/arc/jl.s, gas/arc/jl.d: Likewise.
 	* gas/arc/ld.s, gas/arc/ld.d: Likewise.
 	* gas/arc/ld2.s, gas/arc/ld2.d: Likewise.
 	* gas/arc/lp.s, gas/arc/lp.d: Likewise.
 	* gas/arc/lsr.s, gas/arc/lsr.d: Likewise.
 	* gas/arc/mov.s, gas/arc/mov.d: Likewise.
 	* gas/arc/nop.s, gas/arc/nop.d: Likewise.
 	* gas/arc/or.s, gas/arc/or.d: Likewise.
 	* gas/arc/rlc.s, gas/arc/rlc.d: Likewise.
 	* gas/arc/ror.s, gas/arc/ror.d: Likewise.
 	* gas/arc/rrc.s, gas/arc/rrc.d: Likewise.
 	* gas/arc/sbc.s, gas/arc/sbc.d: Likewise.
 	* gas/arc/sexb.s, gas/arc/sexb.d: Likewise.
 	* gas/arc/sexw.s, gas/arc/sexw.d: Likewise.
 	* gas/arc/sleep.s, gas/arc/sleep.d: Likewise.
 	* gas/arc/add.s, gas/arc/add.d: Likewise.
 	* gas/arc/st.s, gas/arc/st.d: Likewise.
 	* gas/arc/sub.s, gas/arc/sub.d: Likewise.
 	* gas/arc/swi.s, gas/arc/swi.d: Likewise.
 	* gas/arc/xor.s, gas/arc/xor.d: Likewise.
d628 1
a628 1
	
d754 1
a754 1
	
d838 1
a838 1
	
d868 1
a868 1
	
d912 2
a913 2
	* gasp/macro.out: Fix label numbers to remove leading zeroes. 
	* gasp/mdouble.out: Fix label numbers to remove leading zeroes. 
d928 1
a928 1
	
d931 1
a931 1
	
d944 1
a944 1
	
d1057 1
a1057 1
	
d1075 1
a1075 1
 	indeterminate number of extra lines here".
d1128 1
a1128 1
	
d1130 2
a1131 2
 
        * gas/vtable/vtable.exp: Added [istarget "arm*-*-*"] to run dump 
d1278 1
a1278 1
 	bfd and opcodes.
d1306 1
a1306 1
	operations. 
d1378 1
a1378 1
        
d1381 1
a1381 1
	* gas/d30v/label.s: New test. Check that labels are aligned 
d1386 1
a1386 1
	* gas/d30v/serial.s: New test. Check for warnings with 
d1392 1
a1392 1
	* gas/d30v/bittest.s: New test. Check for bit operation 
d1397 1
a1397 1
	
d1404 1
a1404 1
	test. 
d1414 1
a1414 1
 	really trivial.
d1579 1
a1579 1
 	run on differently targeted assembler.
d1584 1
a1584 1
	
d1586 1
a1586 1
 	defaults go unmodified.  Replaced $f4/$f5 with $fp[45], as the
d1589 1
a1589 1
	
d1601 1
a1601 1
	results. 
d1621 1
a1621 1
	
d1655 2
a1656 2
 	disassembler.
	
d1669 1
a1669 1
 	sddbp instructions. 
d1671 1
a1671 1
 	instructions. 
d1677 2
a1678 2
 	in disassembly, where the offset is in hex and has a "0x" prefix.
	
d1694 1
a1694 1
	
d1699 3
a1701 3
	
	
	
d1864 1
a1864 1
	* gas/d30v/inst.s: Add some new tests. 
d1866 2
a1867 2
 	* gas/d30v/{inst, opt, reloc}.d: Update results with
 	new disassembler changes.
d1869 1
a1869 1
	* gas/d30v/inst.[sd]: Update examples for d*i instructions. 
d1872 1
a1872 1
 	of new ".s" and ".l" extensions.
d1875 1
a1875 1
	* gas/d30v/opt.[sd]: Correct st2w instruction. 
d1879 1
a1879 1
	* gas/d30v/reloc.[sd]: Add test case. 
d1883 1
a1883 1
	* gas/d30v/opt.[sd]: Added more test cases. 
d1886 1
a1886 1
	* gas/d30v/reloc.s: Fix a test case.	
d1946 1
a1946 1
	* gas/mips/mul.{d,s}: End the tests with no-ops. 
d2033 1
a2033 1
	
d2043 1
a2043 1
 	regops3.lst, regops3.s, regops4.d, regops4.lst, regops4.s}:
d2063 1
a2063 1
	regops.d, relocs1.d, 
d2093 1
a2093 1
 	endmask.lst, regops.lst}: Remove ^M's from end of lines.
d2122 1
a2122 1
	
d2145 1
a2145 1
 	ccode.d, ccode.lst, ccode.s, cregops.d, cregops.lst, cregops.s,
d2155 1
a2155 1
        * gas/mips/itbl-test.c: Add copyright message and fix indentation.   
d2159 1
a2159 1
	* gas/mips/itbl-test.c: New file.  Stand-alone assembler and 
d2405 1
a2405 1
	
d2440 1
a2440 1
	
d2443 1
a2443 1
	* gas/v850/basic.exp (do_arith): Test instruction bit patterns.	
d2469 1
a2469 1
	
d2518 1
a2518 1
 	on div and mul.
d2521 1
a2521 1
	
d2663 1
a2663 1
 	change.
d2899 1
a2899 1
 	* gasp/*: New.
d2928 1
a2928 1
Wed May 10 14:28:16 1995 Richard Earnshaw (rearnsha@@armltd.co.uk)	
d2934 1
a2934 1
	* arm/float.s: Add load/store multiple floating point instruction 
d3097 1
a3097 1
	output. 
d3426 1
a3426 1
	test for ELF.  
d3503 1
a3503 1
	
@


1.184
log
@	* gas/i386/x86_64.d: Update for 2001-06-11 disassembler change.
@
text
@d1 7
@


1.183
log
@2001-06-10  H.J. Lu  <hjl@@gnu.org>

	* gas/elf/section2.l: Match various white spaces.
@
text
@d1 4
@


1.182
log
@Support 64bit ELF, not BFD.
@
text
@d3 4
@


1.181
log
@2001-06-10  H.J. Lu  <hjl@@gnu.org>

	* gas/elf/section2.e: Support 64bit BFD.
	* gas/elf/section2.e-mips: Likewise.
@
text
@d3 1
a3 1
	* gas/elf/section2.e: Support 64bit BFD.
@


1.180
log
@2001-06-08  H.J. Lu  <hjl@@gnu.org>

	* gas/mips/elfel-rel3.s: Moved to ...
	* gas/mips/elf-rel3.s: Here.

	* gas/mips/elf-rel3.d: Updated.

	* gas/mips/elfel-rel3.d: Updated.

	* gas/mips/relax.d: New file.
	* gas/mips/relax.s: Likewise.

	* gas/mips/mips.exp: Run relax and set xfail.
@
text
@d1 5
@


1.179
log
@2001-06-08  H.J. Lu  <hjl@@gnu.org>

	* gas/mips/illegal.s: New file.
	* gas/mips/illegal.l: Likewise.

	* gas/elf/elf.exp (run_list_test): New.
	Run illegal with run_list_test.
@
text
@d3 14
@


1.178
log
@2001-06-08  H.J. Lu  <hjl@@gnu.org>

	* gas/mips/elf-jal.d: New file.

	* gas/mips/mips.exp: Run "elf-jal" instead of "jal" for ELF.
@
text
@d3 8
@


1.177
log
@	* gas/elf/elf.exp (run_list_test): Undo $readelf change in 2001-06-07.
@
text
@d1 6
@


1.176
log
@2001-06-07  H.J. Lu  <hjl@@gnu.org>

	* gas/elf/section2.e-mips: New file.

	* gas/elf/elf.exp (run_list_test): Add suffix.
	Pass -mips as suffix to run_list_test for mips.
@
text
@d1 4
@


1.175
log
@2001-06-07  H.J. Lu  <hjl@@gnu.org>

	* gas/elf/section2.l: Match ".*GAS.*" instead of
	"GAS LISTING .*".
@
text
@d3 7
@


1.174
log
@2001-06-07  H.J. Lu  <hjl@@gnu.org>

	* gas/mips/mips.exp: Set xfail for "lineno" on Linux/mips.
@
text
@d3 5
@


1.173
log
@Fix typos.
@
text
@d3 4
@


1.172
log
@2001-06-06  H.J. Lu  <hjl@@gnu.org>

	* gas/mips/empic.d: Support stabs.
	* gas/mips/mips16-e.d: Likewise.
	* gas/mips/mips16-f.d: Likewise.
	* gas/mips/mipsel16-f.d: Likewise.
	* gas/mips/telempic.d: Likewise.
	* gas/mips/tempic.d: Likewise.
	* gas/mips/tmips16-e.d: Likewise.
	* gas/mips/tmipsel16-e.d: Likewise.
@
text
@d1 1
a1 1
2001-06-06  H.J. Lu  <hjl@@gnu.org>
@


1.171
log
@2001-06-06  H.J. Lu  <hjl@@gnu.org>

	* gas/mips/elf-rel3.s: New file.
	* gas/mips/elf-rel3.d: Likewise.
	* gas/mips/elfel-rel3.s: Likewise.
	* gas/mips/elfel-rel3.d: Likewise.

	* gas/mips/mips.exp: Run elf-rel3/elfel-rel3.
@
text
@d3 11
@


1.170
log
@2001-06-06  H.J. Lu  <hjl@@gnu.org>

	* gas/elf/elf.exp (run_list_test): New.
	Run section2 with run_list_test.

	* gas/elf/section2.e: New file.
	* gas/elf/section2.l: Likewise.
	* gas/elf/section2.s: Likewise.
@
text
@d3 9
@


1.169
log
@2001-06-04  H.J. Lu  <hjl@@gnu.org>

	* gas/mips/mips4010.s: Add the missing ".end".
	* gas/mips/mips4100.s: Likewise.
	* gas/mips/mips4650.s: Likewise.
	* gas/mips/sync.s: Likewise.
@
text
@d1 9
@


1.168
log
@2001-06-02  H.J. Lu  <hjl@@gnu.org>

	* gas/sparc/unalign.d: Support Sparc V9.
@
text
@d1 7
@


1.167
log
@Add support for .uahword, .uaword and .uaxword pseudo ops
@
text
@d1 4
@


1.166
log
@	* gas/cris/addi.d: Tweak for 64-bit BFD.
	* gas/cris/binop-cmpmove.d, gas/cris/binop-cmpmovx.d,
	gas/cris/binop-extx.d, gas/cris/binop.d, gas/cris/bork.d,
	gas/cris/branch.d, gas/cris/break.d, gas/cris/brokw-1.d,
	gas/cris/brokw-2.d, gas/cris/brokw-3.d, gas/cris/ccr.d,
	gas/cris/clear.d, gas/cris/continue.d, gas/cris/fragtest.d,
	gas/cris/jump-type.d, gas/cris/labfloat.d, gas/cris/macroat.d,
	gas/cris/movem-to-reg.d, gas/cris/nosep.d, gas/cris/oneop-type.d,
	gas/cris/prefix.d, gas/cris/pushpop-byte-sreg.d,
	gas/cris/pushpop-dword-sreg.d, gas/cris/pushpop-word-sreg.d,
	gas/cris/pushpop.d, gas/cris/quick-s6.d, gas/cris/quick-u5.d,
	gas/cris/quick-u6.d, gas/cris/range-err-1.s, gas/cris/rd-pic-1.d,
	gas/cris/rd-regprefix-1.d, gas/cris/rd-regprefix-1b.d,
	gas/cris/reg-to-mem.d, gas/cris/regreg.d, gas/cris/return.d,
	gas/cris/scc.d, gas/cris/separator.d, gas/cris/shexpr-1.d,
	gas/cris/sreg-to-x.d, gas/cris/test.d, gas/cris/unimplemented.d,
	gas/cris/unop-mem.d, gas/cris/x-to-byte-sreg.d,
	gas/cris/x-to-dcr1-sreg.d, gas/cris/x-to-dword-sreg.d,
	gas/cris/x-to-word-sreg.d: Ditto.
	* gas/cris/shexpr-1.d: Ditto.  Correct format.
@
text
@d1 6
d10 46
a55 18
	* gas/cris/binop-cmpmove.d, gas/cris/binop-cmpmovx.d,
	gas/cris/binop-extx.d, gas/cris/binop.d, gas/cris/bork.d,
	gas/cris/branch.d, gas/cris/break.d, gas/cris/brokw-1.d,
	gas/cris/brokw-2.d, gas/cris/brokw-3.d, gas/cris/ccr.d,
	gas/cris/clear.d, gas/cris/continue.d, gas/cris/fragtest.d,
	gas/cris/jump-type.d, gas/cris/labfloat.d, gas/cris/macroat.d,
	gas/cris/movem-to-reg.d, gas/cris/nosep.d, gas/cris/oneop-type.d,
	gas/cris/prefix.d, gas/cris/pushpop-byte-sreg.d,
	gas/cris/pushpop-dword-sreg.d, gas/cris/pushpop-word-sreg.d,
	gas/cris/pushpop.d, gas/cris/quick-s6.d, gas/cris/quick-u5.d,
	gas/cris/quick-u6.d, gas/cris/range-err-1.s, gas/cris/rd-pic-1.d,
	gas/cris/rd-regprefix-1.d, gas/cris/rd-regprefix-1b.d,
	gas/cris/reg-to-mem.d, gas/cris/regreg.d, gas/cris/return.d,
	gas/cris/scc.d, gas/cris/separator.d, gas/cris/shexpr-1.d,
	gas/cris/sreg-to-x.d, gas/cris/test.d, gas/cris/unimplemented.d,
	gas/cris/unop-mem.d, gas/cris/x-to-byte-sreg.d,
	gas/cris/x-to-dcr1-sreg.d, gas/cris/x-to-dword-sreg.d,
	gas/cris/x-to-word-sreg.d: Ditto.
@


1.165
log
@2001-05-25  H.J. Lu  <hjl@@gnu.org>

	* gas/mips/e32el-rel2.d: New for little endian mips.
	* gas/mips/elfel-rel2.d: Likewise.
	* gas/mips/elfel-rel.d: Likewise.
	* gas/mips/mipsel16-f.d: Likewise.
	* gas/mips/telempic.d: Likewise.
	* gas/mips/tmipsel16-e.d: Likewise.

	* gas/mips/tempic.d: New for traditional mips.
	* gas/mips/tmips16-e.d: Likewise.

	* gas/mips/elf-rel.d: Handle alignment padding.
	* gas/mips/elf-rel2.d: Likewise.

	* gas/mips/mips.exp: Support little endian and traditional
	mips.
@
text
@d1 23
@


1.164
log
@2001-05-24  H.J. Lu  <hjl@@gnu.org>

	* gas/m68k/pcrel.d: Support 64bit BFD.
@
text
@d1 18
@


1.163
log
@2001-05-24  H.J. Lu  <hjl@@gnu.org>

	* gas/arm/adrl.d: Support 64bit BFD.
	* gas/arm/arm7t.d: Likewise.
	* gas/arm/inst.d: Likewise.
	* gas/arm/pic.d: Likewise.
	* gas/arm/xscale.d: Likewise.
@
text
@d3 4
@


1.162
log
@	* gas/elf/ehopt0.d: Tweak for bigendian targets.
@
text
@d1 8
@


1.161
log
@Fix MIPS disassembler so that it produces reassemblable code.
@
text
@d1 4
@


1.160
log
@        * gas/elf/ehopt0.s: New.
        * gas/elf/ehopt0.d: New.
        * gas/elf/elf.exp: Run it.
@
text
@d1 67
@


1.159
log
@Peter Targett's backwards compatibility and other arc fixes.
@
text
@d1 6
@


1.158
log
@	* i386-dis.c (twobyte_has_modrm): Update table.
	(need_modrm): Give it file scope.
	(MODRM_CHECK): Define.
	(dofloat): Use MODRM_CHECK.
	(OP_E): Likewise.
	(OP_EM): Likewise.
	(OP_EX): Likewise.
and fix testsuite yet again now that we are getting correct disassembly.
@
text
@d1 5
@


1.157
log
@Correct cvtps2dq, movdq2q, movq2dq, and movq problems.
@
text
@d4 1
a4 1
	* gas/i386/sse2.d: Likewise.  Fix pmuludq too.
@


1.156
log
@	* gas/cris/rd-dw2-10.d: Tweak for change in gas dwarf2 line number
	handling.
@
text
@d1 7
@


1.155
log
@Assorted fixes to pinsrw, pextrw, pmovmskb, movmskp, maskmovq.
@
text
@d1 5
@


1.154
log
@Add gas and ld support for openrisc
@
text
@d1 7
@


1.153
log
@Remove redundant ChangeLog entry separator
@
text
@d1 12
@


1.152
log
@	* gas/cris/fragtest.s, gas/cris/rd-pic-1.s,
	gas/cris/binop-cmpmovx.d, gas/cris/binop-cmpmove.d,
	gas/cris/binop.d, gas/cris/binop.s, gas/cris/brokw-2.d,
	gas/cris/clear.d, gas/cris/fragtest.s, gas/cris/jump-type.d,
	gas/cris/nosep.s, gas/cris/pushpop.d, gas/cris/quick.s,
	gas/cris/range-err-2.s, gas/cris/sep-err-1.s,
	gas/cris/sreg-to-x.d, gas/cris/test.d, gas/cris/x-to-byte-sreg.d,
	gas/cris/x-to-word-sreg.d, gas/cris/x-to-dword-sreg.d: Remove
	trailing empty lines.
	* gas/cris/continue.s: Ditto, tweak comment.
@
text
@a21 2
2001-04-05  Hans-Peter Nilsson  <hp@@axis.com>

@


1.151
log
@	* gas/cris/brokw-2.s: Correct broken-word expansion visualization
	in comment.
@
text
@d11 10
@


1.150
log
@	* gas/cris/rd-dw2-1.d, gas/cris/rd-dw2-2.d, gas/cris/rd-dw2-3.d,
	gas/cris/rd-dw2-4.d, gas/cris/rd-dw2-5.d, gas/cris/rd-dw2-6.d,
	gas/cris/rd-dw2-7.d, gas/cris/rd-dw2-8.d, gas/cris/rd-dw2-9.d,
	gas/cris/rd-dw2-10.d, gas/cris/rd-dw2-11.d, gas/cris/rd-dw2-12.d,
	gas/cris/rd-dw2-13.d, gas/cris/rd-dw2-14.d, gas/cris/rd-dw2-15.d:
	New tests.
@
text
@d9 2
@


1.149
log
@	* lib/gas-defs.exp (run_dump_test): Support using readelf.
	* config/default.exp: Default READELF and READELFFLAGS.
@
text
@d3 9
@


1.148
log
@Fix conditional assembly listings when more than one .else/.elsif
@
text
@d1 5
@


1.147
log
@2001-03-30  H.J. Lu  <hjl@@gnu.org>

	* gas/i386/relax.d: Dump with -s instead of -drw.
@
text
@d1 5
@


1.146
log
@2001-03-29  H.J. Lu  <hjl@@gnu.org>

	* gas/i386/relax.s: New test for relaxation between sections.
	* gas/i386/relax.d: New.

	* gas/i386/i386.exp: Add tests for ELF.
@
text
@d1 4
@


1.145
log
@Allow for the possibility that the local labels won't be in the objdump output.
@
text
@d1 7
@


1.144
log
@2001-03-26  Chris Demetriou  <cgd@@broadcom.com>

        * gas/mips/sync.s: Declare 'foo' as a function so that this
        test will work on properly on ECOFF targets.
@
text
@d1 7
@


1.143
log
@Small tweaks to sse2 instructions.
@
text
@d1 5
@


1.142
log
@	* gas/cris/pic-err-1.s, gas/cris/rd-pic-1.s, gas/cris/rd-pic-1.d:
	New tests.
@
text
@d1 5
@


1.141
log
@	* gas/cris/branch-warn-1.s, gas/cris/branch-warn-2.s,
	gas/cris/branch-warn-3.s: Tweak for fixed FIXME:s.
@
text
@d3 3
@


1.140
log
@Don't try to read past end of info buffer, and correct test results.
@
text
@d1 5
@


1.139
log
@	* gas/m68k/pcrel.s: Force alignment to 8 byte boundary to get
	consistent output across targets.
	* gas/m68k/pcrel.d: Adjusted.
@
text
@d1 4
@


1.138
log
@2001-03-18  H.J. Lu  <hjl@@gnu.org>

	* gas/i386/intel.s: Move PIC code to ...
	* gas/i386/intelpic.s: New. Here.
	* gas/i386/intel.d: Updated.
	* gas/i386/intelpic.d: New.

	* gas/i386/i386.exp: Check PIC code in Intel syntax for ELF
	targets only.
@
text
@d1 6
@


1.137
log
@	* gas/mri/mri.exp: Fix test of m6811/m6812 targets.
@
text
@d1 10
@


1.136
log
@2001-02-26  H.J. Lu  <hjl@@gnu.org>

	* gas/ia64/opc-a-err.l: Change "Operand [3|4]" to "Operand [34]".
@
text
@d1 4
@


1.135
log
@2001-02-23  H.J. Lu  <hjl@@gnu.org>

	* gas/ia64/opc-a-err.l: Fix "cmp4.lt.or".

	* gas/ia64/opc-a.pl: Add tests for pseudo-ops for "cmp" and
	"cmp4".
	* gas/ia64/opc-a.s: Rebuilt.
	* gas/ia64/opc-a.d: Likewise.
@
text
@d1 4
@


1.134
log
@2001-02-17  Chris Demetriou  <cgd@@broadcom.com>

        * gas/mips/mips32.d: Remove ELF dependencies.  This test
        wasn't meant to be ELF specific, and doesn't have to be.
        * gas/mips/mips64.d: Likewise.
@
text
@d1 9
@


1.133
log
@2001-02-17  Chris Demetriou  <cgd@@broadcom.com>

        * gas/mips/mips.exp: Don't attempt the elf_e_flags family of
        tests if not ELF; they test ELF-specific features.
@
text
@d3 6
@


1.132
log
@	* gas/mri/mri.exp: Don't execute the M68K specific tests
	on m6811-elf and m6812-elf targets, still run the generic MRI tests.
@
text
@d1 5
@


1.131
log
@	* gas/m68hc11/malis.s: New test to verify compliance with Motorola
	Assembly Language Input Standard.
	* gas/m68hc11/malis.d: New file.
	* gas/m68hc11/malis-include.s: New file.
	* gas/m68hc11/all.exp: Add the new test.
@
text
@d1 5
@


1.130
log
@Cure recent x86 warts.
@
text
@d1 8
@


1.130.2.1
log
@	* gas/m68hc11/malis.s: New test to verify compliance with Motorola
	Assembly Language Input Standard.
	* gas/m68hc11/malis.d: New file.
	* gas/m68hc11/malis-include.s: New file.
	* gas/m68hc11/all.exp: Add the new test.
@
text
@a0 8
2001-02-04  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* gas/m68hc11/malis.s: New test to verify compliance with Motorola
	Assembly Language Input Standard.
	* gas/m68hc11/malis.d: New file.
	* gas/m68hc11/malis-include.s: New file.
	* gas/m68hc11/all.exp: Add the new test.

@


1.130.2.2
log
@	* gas/mri/mri.exp: Don't execute the M68K specific tests
	on m6811-elf and m6812-elf targets, still run the generic MRI tests.
@
text
@a0 5
2001-02-08  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* gas/mri/mri.exp: Don't execute the M68K specific tests 
	on m6811-elf and m6812-elf targets, still run the generic MRI tests.

@


1.130.2.3
log
@Add missing compare instructions.
	* gas/ia64/opc-a-err.l: Fix "cmp4.lt.or".
	* gas/ia64/opc-a.pl: Add tests for pseudo-ops for "cmp" and
	"cmp4".
	* gas/ia64/opc-a.s: Rebuilt.
	* gas/ia64/opc-a.d: Likewise.
	* ia64-opc-a.c: Add missing pseudo-ops for "cmp" and "cmp4".
	* ia64-asmtab.c: Regenerate.
@
text
@a0 9
2001-02-23  H.J. Lu  <hjl@@gnu.org>

	* gas/ia64/opc-a-err.l: Fix "cmp4.lt.or".

	* gas/ia64/opc-a.pl: Add tests for pseudo-ops for "cmp" and
	"cmp4".
	* gas/ia64/opc-a.s: Rebuilt.
	* gas/ia64/opc-a.d: Likewise.

@


1.130.2.4
log
@2001-03-17  Philip Blundell  <philb@@gnu.org>

	* gas/vtable/vtable.exp: Don't run tests on AVR.
	* gas/macros/macros.exp: Mark strings test xfail for AVR.
@
text
@a0 5
2001-03-17  Philip Blundell  <philb@@gnu.org>

	* gas/vtable/vtable.exp: Don't run tests on AVR.
	* gas/macros/macros.exp: Mark strings test xfail for AVR.

@


1.130.2.5
log
@	* gas/mri/mri.exp: Fix test of m6811/m6812 targets.
@
text
@a0 4
2001-03-18  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* gas/mri/mri.exp: Fix test of m6811/m6812 targets.

@


1.130.2.6
log
@	* gas/m68k/pcrel.s: Force alignment to 8 byte boundary to get
	consistent output across targets.
	* gas/m68k/pcrel.d: Adjusted.
@
text
@a0 6
2001-03-19  Andreas Schwab  <schwab@@suse.de>

	* gas/m68k/pcrel.s: Force alignment to 8 byte boundary to get
	consistent output across targets.
	* gas/m68k/pcrel.d: Adjusted.

@


1.130.2.7
log
@Don't try to read past end of info buffer, and correct test results.
@
text
@a0 4
2001-03-19  John David Anglin  <dave@@hiauly1.hia.nrc.ca>

	* gas/vax/quad.exp: Correct expected result.

@


1.130.2.8
log
@Small tweaks to sse2 instructions.
@
text
@a0 5
2001-03-24  Alan Modra  <alan@@linuxcare.com.au>

	* gas/i386/ssemmx2.s: Change movntq to movntdq.
	* gas/i386/ssemmx2.d: Matching change.

@


1.130.2.9
log
@Fix conditional assembly listings when more than one .else/.elseif
@
text
@a0 5
2001-03-31  Alan Modra  <alan@@linuxcare.com.au>

	* gas/all/cond.s: Add .if .elseif tree.
	* gas/all/cond.d: Match above.

@


1.130.2.10
log
@Assorted fixes to pinsrw, pextrw, pmovmskb, movmskp, maskmovq.
Merge 2001-04-06 i386-dis.c ffreep addition.
@
text
@a0 7
2001-05-04  Alan Modra  <amodra@@one.net.au>

	* gas/i386/katmai.d: Correct pmovmskb and pextrw opcodes.
	* gas/i386/ssemmx2.d: Likewise.  Correct register for pextrw,
	pinsrw, and pmovmskb.
	* gas/i386/sse2.d: Correct register for movmskpd.

@


1.130.2.11
log
@Correct cvtps2dq, movdq2q, movq2dq, and movq problems.
@
text
@a0 7
2001-05-12  Alan Modra  <amodra@@one.net.au>

	* gas/i386/sse2.s: Correct cvtps2dq, movdq2q, and movq2dq
	* gas/i386/sse2.d: Likewise.  Fix pmuludq too.

	* gas/i386/ssemmx2.d: Correct movq.

@


1.130.2.12
log
@	* i386-dis.c (twobyte_has_modrm): Update table.
	(need_modrm): Give it file scope.
	(MODRM_CHECK): Define.
	(dofloat): Use MODRM_CHECK.
	(OP_E): Likewise.
	(OP_EM): Likewise.
	(OP_EX): Likewise.
and fix testsuite yet again now that we are getting correct disassembly.
@
text
@d4 1
a4 1
	* gas/i386/sse2.d: Likewise.  Fix pmuludq and punpckhqdq too.
@


1.130.2.13
log
@        * gas/elf/ehopt0.s: New.
        * gas/elf/ehopt0.d: New.
        * gas/elf/elf.exp: Run it.
@
text
@a0 6
2001-05-14  Richard Henderson  <rth@@redhat.com>

	* gas/elf/ehopt0.s: New.
	* gas/elf/ehopt0.d: New.
	* gas/elf/elf.exp: Run it.

@


1.130.2.14
log
@	* gas/elf/ehopt0.d: Tweak for bigendian targets.
@
text
@a0 4
2001-05-23  Alan Modra  <amodra@@one.net.au>

	* gas/elf/ehopt0.d: Tweak for bigendian targets.

@


1.130.2.15
log
@Implemnent .uahword .uaword and .uaxword
@
text
@a0 6
2001-05-28  Jeff Sturm  <jsturm@@one-point.com>

	* gas/sparc/unalign.s: New test.  Check unaligned relocs.
	* gas/sparc/unalign.d: New expected test results.
	* gas/sparc/sparc.exp: Run new test.

@


1.130.2.16
log
@Merge from mainline.
@
text
@a0 173
2001-06-11  Alan Modra  <amodra@@bigpond.net.au>

	Merge from mainline.
	2001-06-10  H.J. Lu  <hjl@@gnu.org>
	* gas/elf/section2.l: Match various white spaces.
	* gas/elf/section2.e: Support 64bit ELF.
	* gas/elf/section2.e-mips: Likewise.

	2001-06-08  Alan Modra  <amodra@@bigpond.net.au>
	* gas/elf/elf.exp (run_list_test): Undo $readelf change in 2001-06-07.

	2001-06-07  H.J. Lu  <hjl@@gnu.org>
	* gas/elf/section2.e-mips: New file.
	* gas/elf/elf.exp (run_list_test): Add suffix.
	Pass -mips as suffix to run_list_test for mips.
	* gas/elf/section2.l: Match ".*GAS.*" instead of
	"GAS LISTING .*".
	* gas/mips/mips.exp: Set xfail for "lineno" on Linux/mips.
	* gas/mips/empic.d: Support stabs.
	* gas/mips/mips16-e.d: Likewise.
	* gas/mips/mips16-f.d: Likewise.
	* gas/mips/mipsel16-f.d: Likewise.
	* gas/mips/telempic.d: Likewise.
	* gas/mips/tempic.d: Likewise.
	* gas/mips/tmips16-e.d: Likewise.
	* gas/mips/tmipsel16-e.d: Likewise.

	2001-06-06  H.J. Lu  <hjl@@gnu.org>
	* gas/mips/elf-rel3.s: New file.
	* gas/mips/elf-rel3.d: Likewise.
	* gas/mips/elfel-rel3.s: Likewise.
	* gas/mips/elfel-rel3.d: Likewise.
	* gas/mips/mips.exp: Run elf-rel3/elfel-rel3.
	* gas/elf/elf.exp (run_list_test): New.
	Run section2 with run_list_test.
	* gas/elf/section2.e: New file.
	* gas/elf/section2.l: Likewise.
	* gas/elf/section2.s: Likewise.

	2001-06-04  H.J. Lu  <hjl@@gnu.org>
	* gas/mips/mips4010.s: Add the missing ".end".
	* gas/mips/mips4100.s: Likewise.
	* gas/mips/mips4650.s: Likewise.
	* gas/mips/sync.s: Likewise.

	2001-06-02  H.J. Lu  <hjl@@gnu.org>
	* gas/sparc/unalign.d: Support Sparc V9.

	2001-05-25  H.J. Lu  <hjl@@gnu.org>
	* gas/mips/e32el-rel2.d: New for little endian mips.
	* gas/mips/elfel-rel2.d: Likewise.
	* gas/mips/elfel-rel.d: Likewise.
	* gas/mips/mipsel16-f.d: Likewise.
	* gas/mips/telempic.d: Likewise.
	* gas/mips/tmipsel16-e.d: Likewise.
	* gas/mips/tempic.d: New for traditional mips.
	* gas/mips/tmips16-e.d: Likewise.
	* gas/mips/elf-rel.d: Handle alignment padding.
	* gas/mips/elf-rel2.d: Likewise.
	* gas/mips/mips.exp: Support little endian and traditional
	mips.

	2001-05-24  H.J. Lu  <hjl@@gnu.org>
	* gas/m68k/pcrel.d: Support 64bit BFD.
	* gas/arm/adrl.d: Support 64bit BFD.
	* gas/arm/arm7t.d: Likewise.
	* gas/arm/inst.d: Likewise.
	* gas/arm/pic.d: Likewise.
	* gas/arm/xscale.d: Likewise.

	2001-05-15  Thiemo Seufer <seufer@@csv.ica.uni-stuttgart.de>
	* gas/mips/abs.d: Remove $ before register names, per latest
	disassembler.
	* gas/mips/add.d: Ditto.
	* gas/mips/and.d: Ditto.
	* gas/mips/beq.d: Ditto.
	* gas/mips/bge.d: Ditto.
	* gas/mips/bgeu.d: Ditto.
	* gas/mips/blt.d: Ditto.
	* gas/mips/bltu.d: Ditto.
	* gas/mips/delay.d: Ditto.
	* gas/mips/div-ilocks.d: Ditto.
	* gas/mips/div.d: Ditto.
	* gas/mips/dli.d: Ditto.
	* gas/mips/elf_e_flags1.d: Ditto.
	* gas/mips/elf_e_flags2.d: Ditto.
	* gas/mips/elf_e_flags3.d: Ditto.
	* gas/mips/elf_e_flags4.d: Ditto.
	* gas/mips/jal-empic.d: Ditto.
	* gas/mips/jal-svr4pic.d: Ditto.
	* gas/mips/jal-xgot.d: Ditto.
	* gas/mips/jal.d: Ditto.
	* gas/mips/la-empic.d: Ditto.
	* gas/mips/la-svr4pic.d: Ditto.
	* gas/mips/la-xgot.d: Ditto.
	* gas/mips/la.d: Ditto.
	* gas/mips/lb-empic.d: Ditto.
	* gas/mips/lb-svr4pic.d: Ditto.
	* gas/mips/lb-xgot-ilocks.d: Ditto.
	* gas/mips/lb-xgot.d: Ditto.
	* gas/mips/lb.d: Ditto.
	* gas/mips/ld-empic.d: Ditto.
	* gas/mips/ld-ilocks-addr32.d: Ditto.
	* gas/mips/ld-ilocks.d: Ditto.
	* gas/mips/ld-svr4pic.d: Ditto.
	* gas/mips/ld-xgot.d: Ditto.
	* gas/mips/ld.d: Ditto.
	* gas/mips/li.d: Ditto.
	* gas/mips/lif-empic.d: Ditto.
	* gas/mips/lif-svr4pic.d: Ditto.
	* gas/mips/lif-xgot.d: Ditto.
	* gas/mips/lifloat.d: Ditto.
	* gas/mips/mips16.d: Ditto.
	* gas/mips/mips32.d: Ditto.
	* gas/mips/mips4.d: Ditto.
	* gas/mips/mips4010.d: Ditto.
	* gas/mips/mips4100.d: Ditto.
	* gas/mips/mips4650.d: Ditto.
	* gas/mips/mips64.d: Ditto.
	* gas/mips/mul-ilocks.d: Ditto.
	* gas/mips/mul.d: Ditto.
	* gas/mips/nodelay.d: Ditto.
	* gas/mips/rol.d: Ditto.
	* gas/mips/sb.d: Ditto.
	* gas/mips/trap20.d: Ditto.
	* gas/mips/trunc.d: Ditto.
	* gas/mips/uld.d: Ditto.
	* gas/mips/ulh-empic.d: Ditto.
	* gas/mips/ulh-svr4pic.d: Ditto.
	* gas/mips/ulh-xgot.d: Ditto.
	* gas/mips/ulh.d: Ditto.
	* gas/mips/ulw.d: Ditto.
	* gas/mips/usd.d: Ditto.
	* gas/mips/ush.d: Ditto.
	* gas/mips/usw.d: Ditto.

	2001-04-05  Hans-Peter Nilsson  <hp@@axis.com>
	* lib/gas-defs.exp (run_dump_test): Support using readelf.
	* config/default.exp: Default READELF and READELFFLAGS.

	2001-03-30  H.J. Lu  <hjl@@gnu.org>
	* gas/i386/relax.d: Dump with -s instead of -drw.

	2001-03-29  H.J. Lu  <hjl@@gnu.org>
	* gas/i386/relax.s: New test for relaxation between sections.
	* gas/i386/relax.d: New.
	* gas/i386/i386.exp: Add tests for ELF.

	2001-03-27  Chris Demetriou  <cgd@@broadcom.com>
	* gas/mips/lineno.d: Allow for the possibility that
	the local labels won't be in the objdump output.  Match
	zeros in addresses using '+' for better compatibility with
	different targets.

	2001-03-26  Chris Demetriou  <cgd@@broadcom.com>
	* gas/mips/sync.s: Declare 'foo' as a function so that this
	test will work on properly on ECOFF targets.

	2001-03-18  H.J. Lu  <hjl@@gnu.org>
	* gas/i386/intel.s: Move PIC code to ...
	* gas/i386/intelpic.s: New. Here.
	* gas/i386/intel.d: Updated.
	* gas/i386/intelpic.d: New.
	* gas/i386/i386.exp: Check PIC code in Intel syntax for ELF
	targets only.

	2001-02-17  Chris Demetriou  <cgd@@broadcom.com>
	* gas/mips/mips32.d: Remove ELF dependencies.  This test
	wasn't meant to be ELF specific, and doesn't have to be.
	* gas/mips/mips64.d: Likewise.
	* gas/mips/mips.exp: Don't attempt the elf_e_flags family of
	tests if not ELF; they test ELF-specific features.

@


1.130.2.17
log
@2001-06-18  Philip Blundell  <philb@@gnu.org>

	* gas/arm/arm.exp (msr_bad): Deleted.
	* gas/arm/msr-bad.s: Likewise.
@
text
@a0 5
2001-06-18  Philip Blundell  <philb@@gnu.org>

	* gas/arm/arm.exp (msr_bad): Deleted.
	* gas/arm/msr-bad.s: Likewise.

@


1.130.2.18
log
@Fix for default alignment of .comm on aix ppc
@
text
@a0 5
2001-06-20  Tom Rix  <trix@@redhat.com>

	* gas/ppc/aix.exp: New file, aix specific tests.
	* gas/ppc/align.s: New file, .comm alignment test.

@


1.130.2.19
log
@2001-07-16  Philip Blundell  <philb@@gnu.org>

	* gas/arm/arm7t.d, gas/arm/inst.d: Tweak expected output for
	change to disassembler.
@
text
@a0 5
2001-07-16  Philip Blundell  <philb@@gnu.org>

	* gas/arm/arm7t.d, gas/arm/inst.d: Tweak expected output for
	change to disassembler.

@


1.130.2.20
log
@	Merge from mainline.
	2001-07-23  Alan Modra  <amodra@@bigpond.net.au>
	* gas/i386/opcode.d: Tweak lgdt for 2001-07-18 change.
	* gas/i386/intel.d: Likewise.
@
text
@a0 7
2001-09-04  Alan Modra  <amodra@@bigpond.net.au>

	Merge from mainline.
	2001-07-23  Alan Modra  <amodra@@bigpond.net.au>
	* gas/i386/opcode.d: Tweak lgdt for 2001-07-18 change.
	* gas/i386/intel.d: Likewise.

@


1.130.2.21
log
@add tests of SH DSP instructions
@
text
@a0 7
2001-10-09  Nick Clifton  <nickc@@cambridge.redhat.com>

	* sh/basic.exp: Add dsp dump test.
        * sh/dsp/d: New file: Expected output of disassembly of dsp.s
        * sh/dsp.s: New file: Test assembly source of DSP single data
	transfer instructions.

@


1.130.2.22
log
@	* gas/m68hc11/opers12.s: Add test for disassembler bug with movb
	instruction.
	* gas/m68hc11/opers12.d: Likewise.
	* gas/m68hc11/opers12-dwarf2.d: Likewise.
@
text
@a0 7
2001-11-01  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* gas/m68hc11/opers12.s: Add test for disassembler bug with movb
	instruction.
	* gas/m68hc11/opers12.d: Likewise.
	* gas/m68hc11/opers12-dwarf2.d: Likewise.

@


1.129
log
@Updated ARC assembler from arccores.com
@
text
@d1 11
@


1.128
log
@Fix gas 68HC12 indexed addressing code generation
@
text
@d1 50
@


1.127
log
@Dwarf2 test for 68HC11/68HC12 gas
@
text
@d3 5
@


1.126
log
@Make COFF and ELF disassemblys agree
@
text
@d1 7
@


1.125
log
@	* i386.exp: Add ssemmx2 and sse2 tests.
	(sse2.d, sse2.s, ssemmx2.d, ssemmx2.s): New tests.
@
text
@d1 6
@


1.124
log
@fix patterns to match new behaviour of disassembler
@
text
@d1 5
@


1.123
log
@2001-01-03  Philip Blundell  <pb@@futuretv.com>

	* gas/vtable/vtable.exp: Don't run tests on Alpha.
@
text
@d1 6
@


1.122
log
@	* configure.in: Define DEFAULT_ARCH for i386.
	* tc-i386.c (md_assemble): Return after the error message;
	move testing for 64bit operands to proper place.

	* i386.exp: Add tests for presence of 32bit versus 64bit output
	format; run both 64bit and 32bit tests when format is available;
	add x86_64 test.
	* x86_64.s: New file.
	* x86_64.d: New file.
@
text
@d1 4
@


1.121
log
@Fix msr-bsd test
@
text
@d1 8
@


1.120
log
@2001-01-01  Philip Blundell  <philb@@gnu.org>

	* gas/arm/adrl.s, gas/arm/pic.s, gas/arm/msr-bad.s: New tests.
	* gas/arm/arm.exp: Run them.
	* gas/arm/adrl.d, gas/arm/pic.d: Expected results for above.
	* gas/arm/arm6.s: Also test uppercase `CPSR' and `SPSR'.
@
text
@d1 5
@


1.119
log
@2000-12-22  H.J. Lu  <hjl@@gnu.org>

	* gas/i386/intel.s: Replace "nop" with ".p2align 4,0".
	* gas/i386/intel.d: Updated.
@
text
@d1 7
@


1.118
log
@Eliminate ia64 compiler warnings.  Fix ia64 gas testsuite again.
	*  elfxx-ia64.c (get_dyn_sym_info): Cast %p argument to void *.
	* config/tc-ia64.h (ia64_init): Add prototype.
	* gas/ia64/dv-imply.d, gas/ia64/dv-mutex.d, gas/ia64/dv-safe.d,
	gas/ia64/dv-srlz.d, gas/ia64/opc-m.d: Update.
	* ia64-dis.c (print_insn_ia64): Cast away const on ia64_free_opcode
	argument.
	* ia64_gen.c (insert_deplist): Cast sizeof result to int.
	(print_dependency_table): Print NULL if semantics field not set.
	(insert_opcode_dependencies): Mark cmp parameter as unused.
	(print_main_table): Use fprintf_vma to print long long fields.
	(main): Mark argv paramter as unused.  Convert to old style definition.
	* ia64-opc.c (ia64_find_dependency): Cast sizeof result to int.
	* ia64-asmtab.c: Regnerate.
@
text
@d1 5
@


1.117
log
@Add el segundo tests
Fix formatting
@
text
@d1 5
@


1.116
log
@2000-12-11  H.J. Lu  <hjl@@gnu.org>

	* gas/i386/intel.d: Adjusted for the a.out assembler.
	* gas/i386/intel.s: Likewise.
@
text
@d1 7
@


1.115
log
@Update to match latest assembler output.
@
text
@d1 5
@


1.114
log
@Add MIPS64 instructions and tests
@
text
@d1 4
@


1.113
log
@Finish off adding MIPS32 instructions.
@
text
@d35 5
@


1.112
log
@More test case alignments.
@
text
@d31 4
@


1.111
log
@oops - fix typo
@
text
@d23 8
@


1.110
log
@Fix tests to align to a 16 byte boundary.
@
text
@d1 1
a1 1
000-12-02  Chris Demetriou  <cgd@@sibyte.com>
@


1.109
log
@Add mips32 tests.
@
text
@d1 22
@


1.108
log
@Fix testcase and test results
@
text
@d12 4
@


1.107
log
@Expect mips16 nops to be used for padding when mips16 code generation is
enabled.
@
text
@d6 6
@


1.106
log
@2000-11-30  Diego Novillo  <dnovillo@@redhat.com>

	* tc-i386.c (md_assemble): Swap i.disp_relocs when using intel
	syntax.

2000-11-30  Diego Novillo  <dnovillo@@redhat.com>

	* intel.s, intel.d: New test for @@GOT references.
@
text
@d1 5
@


1.105
log
@	* gas/sh/err.exp: New, framework for error-testing.
	* gas/sh/err-1.s: New test.
@
text
@d1 4
@


1.104
log
@Fix movw/movb operands for 68HC12
@
text
@d1 5
@


1.103
log
@Add ARM v5t, v5te and XScale support
@
text
@d1 5
@


1.102
log
@2000-11-20  H.J. Lu  <hjl@@gnu.org>

	* gas/i386/intel.d: Add 3 "nop"s for the a.out assembler.
	* gas/i386/intel.s: Likewise.
@
text
@d1 8
@


1.101
log
@2000-11-16  H.J. Lu  <hjl@@gnu.org>

	* gas/symver/symver0.d: Add 64bit support.
	* gas/symver/symver1.d: Likewise.
@
text
@d1 5
@


1.100
log
@2000-11-16  H.J. Lu  <hjl@@gnu.org>

	* gas/symver/symver.exp: Don't run symver4 nor symver5.
@
text
@d3 5
@


1.99
log
@2000-11-13  H.J. Lu  <hjl@@gnu.org>

	* gas/symver/symver.exp: New for symver test.
	* gas/symver/symver0.d: Likewise.
	* gas/symver/symver0.s: Likewise.
	* gas/symver/symver1.d: Likewise.
	* gas/symver/symver1.s: Likewise.
	* gas/symver/symver2.l: Likewise.
	* gas/symver/symver2.s: Likewise.
	* gas/symver/symver3.l: Likewise.
	* gas/symver/symver3.s: Likewise.
	* gas/symver/symver4.l: Likewise.
	* gas/symver/symver4.s: Likewise.
	* gas/symver/symver5.l: Likewise.
	* gas/symver/symver5.s: Likewise.
	* gas/symver/symver6.l: Likewise.
	* gas/symver/symver6.s: Likewise.
@
text
@d1 4
@


1.98
log
@	* gas/macros/macros.exp: Mark strings test xfail for sh.
@
text
@d1 18
@


1.97
log
@2000-10-24  Diego Novillo  <dnovillo@@cygnus.com>

	* tc-i386.c (i386_operand_modifier): Remove.
	(build_displacement_string): Remove.
	(i386_parse_seg): Remove.
	(i386_intel_memory_operand): Remove.
	(i386_intel_operand): Re-write using recursive descent parser based
	on MASM documentation.
	(struct intel_parser_s): New structure.
	(intel_parser): New static variable.
	(struct intel_token): New structure.
	(cur_token, prev_token): New static variables.
	(T_NIL): Define.
	(T_CONST): Define.
	(T_REG): Define.
	(T_BYTE): Define.
	(T_WORD): Define.
	(T_DWORD): Define.
	(T_QWORD): Define.
	(T_XWORD): Define.
	(T_SHORT): Define.
	(T_OFFSET): Define.
	(T_PTR): Define.
	(T_ID): Define.
	(intel_match_token): New function.
	(intel_get_token): New function.
	(intel_putback_token): New function.
	(intel_expr): New function.
	(intel_e05): New function.
	(intel_e05_1): New function.
	(intel_e06): New function.
	(intel_e06_1): New function.
	(intel_e09): New function.
	(intel_e09_1): New function.
	(intel_e10): New function.
	(intel_e10_1): New function.
	(intel_e11): New function.

2000-10-24  Diego Novillo  <dnovillo@@cygnus.com>

	* intel.s, intel.d: Add new tests for intel syntax.
@
text
@d1 4
@


1.96
log
@Ensure section sizes are multiples of 16, so that targets like MIPS
that pad out sections won't fail these tests.
@
text
@d1 4
@


1.95
log
@2000-10-18  H.J. Lu <hjl@@gnu.org>

	* gas/i386/intel.d: Fix the support for 64bit BFD in the last
	change.
@
text
@d1 6
@


1.94
log
@gas:

2000-10-15  Diego Novillo  <dnovillo@@cygnus.com>

	* config/tc-i386.c (i386_operand_modifier): Only match
	modifiers SHORT and FLAT if they are followed by a space.
	(parse_register): When `allow_naked_reg' is set, do not confuse
	identifiers that start with a register name with a register.

gas/testsuite:

2000-10-15  Diego Novillo  <dnovillo@@cygnus.com>

	* intel.s, intel.d: Add new tests for naked registers using intel
	syntax.
@
text
@d1 5
@


1.93
log
@Oops.  Forgot to commit ChangeLog
@
text
@d1 5
@


1.92
log
@Update for hppa*w -> hppa*64* configure name change.
@
text
@d1 7
@


1.91
log
@Modify .PARAM so we need an arg reloc.
@
text
@d3 4
@


1.90
log
@Add missing fpcmp instructions, and add missing fcmp/fpcmp tests.
	* gas/ia64/opc-f.pl: Add missing fcmp and fpcmp tests.
	* gas/ia64/opc-f.s, gas/ia64/opc-f.d: Regenerate.
	* ia64-opc-f.c (ia64_opcodes_f): Add fpcmp pseudo-ops for
	gt, ge, ngt, and nge.
	* ia64-asmtab.c: Regenerate.
@
text
@d1 4
@


1.89
log
@Fix ia64 gas testsuite.  Update ia64 DV tables.  Fix ia64 gas testsuite again.
gas/ChangeLog
	* config/tc-ia64.c (dv_sem): Add "stop".
	(specify_resource, case IA64_RS_PR): Only handles regs 1 to 15 now.
	(specify_resource, case IA64_RS_PRr): New for regs 16 to 62.
	(specify_resource, case IA64_RS_PR63): Reorder (note == 7) test to
	match above.
	(mark_resources): Check IA64_RS_PRr.
gas/testsuite/ChangeLog
	* gas/ia64/dv-raw-err.s: Add new testcases for PR%, 16 - 62.
	* gas/ia64/dv-waw-err.s: Likewise.
	* gas/ia64/dv-imply.d: Regenerate.
	* gas/ia64/dv-mutex.d, gas/ia64/dv-raw-err.l, gas/ia64/dv-safe.d,
	gas/ia64/dv-srlz.d, gas/ia64/dv-war-err.l, gas/ia64/dv-waw-err.l,
	gas/ia64/opc-f.d, gas/ia64/opc-i.d, gas/ia64/opc-m.d: Likewise.
include/opcode/ChangeLog
	* ia64.h (enum ia64_dependency_semantics): Add IA64_DVS_STOP.
opcodes/ChangeLog
	* ia64-dis.c (print_insn_ia64): Revert Aug 7 byte skip count change.
	* ia64-gen.c (parse_semantics): Handle IA64_DVS_STOP.
	(lookup_specifier): Handle "PR%, 1 to 15" and "PR%, 16 to 62".
	* ia64-ic.tbl, ia64-raw.tbl, ia64-war.tbl, ia64-waw.tbl: Update.
	* ia64-asmtab.c: Regnerate.
@
text
@d3 3
@


1.88
log
@Eliminate false DVs on parallel compares.
@
text
@d1 9
@


1.87
log
@Miscellaneous tiny fixes.
@
text
@d1 5
@


1.86
log
@Fix some ia64 gas failures.
@
text
@d1 4
@


1.85
log
@2000-08-21  H.J. Lu <hjl@@gnu.org>

	* gas/all/cofftag.d: Support the strict COFF.
@
text
@d1 8
@


1.84
log
@Fix 3 DV bugs, and a few minor cleanups.
gas/
	* config/tc-ia64.c (specify_resource, case IA64_RS_GR): Handle
	postincrement modified registers.  Handle IA64_OPND_R3_2 addl
	source registers.
	(note_register_values): Handle IA64_OPND_R3_2 operands.
gas/testsuite/
	* gas/ia64/dv-raw-err.s: Add new tests for addl and postinc.
	* gas/ia64/dv-raw-err.l: Likewise.
	* gas/ia64/dv-waw-err.l: Update sed pattern.
	* gas/ia64/opc-f.pl: Delete fpsub, and fpadd comment.
	* gas/ia64/opc-f.s, gas/ia64/opc-f.d: Regenerate.
include/opcode/
	* ia64.h (IA64_OPCODE_POSTINC): New.
opcodes/
	* ia64-ic.tbl (pr-readers-nobr-nomovpr): Add addl, adds.  Delete
	break, mov-immediate, nop.
	* ia64-opc-f.c: Delete fpsub instructions.
	* ia64-opc-m.c: Add POSTINC to all instructions with postincrement
	address operand.  Rewrite using macros to avoid long lines.
	* ia64-opc.h (POSTINC): Define.
	* ia64-asmtab.c: Regenerate.
@
text
@d1 4
@


1.83
log
@Tidy up decoding of shift based addressing modes.
Add extra tests for these addressing modes
@
text
@d1 8
@


1.82
log
@Forgot to commit ChangeLog entry for CRIS gas tests.  Oops.
@
text
@d1 7
@


1.81
log
@	* gas/all/gas.exp: Don't run floating-point tests on CRIS.
	* gas/ieee-fp/x930509a.exp: Ditto.
	* gas/macros/macros.exp: Mark strings test xfail for CRIS.
@
text
@d6 1
@


1.80
log
@Fix a couple of HPPA SOM test failures.
Re-enable some tests for hppa-linux.
@
text
@d1 6
@


1.79
log
@Fix expected results to match current assembler output.
@
text
@d1 9
@


1.78
log
@Yet more hppa testuite tweaks for hppa-linux.
@
text
@d1 5
@


1.77
log
@Fix expected results







Fix expected results.
@
text
@d1 17
d25 1
a25 1
2000-06-29  Kazu Hirata  <kazu@@hxi.com>=0A=
a2840 1

@


1.76
log
@Change the registers used in ldmac and stmac tests.
@
text
@d1 7
@


1.75
log
@Do not allow EITHER_BUT_PREFER_MU opcodes to be packed into reverse
sequential buckets, and warn if the user does so.
@
text
@d1 6
@


1.74
log
@TI C54x target.
@
text
@d1 5
@


1.73
log
@Applied Stephane Carrez <Stephane.Carrez@@worldnet.fr> patches to add support
for m68hc11 and m68hc12 processors.
@
text
@d1 9
@


1.72
log
@Don't start directives in first column.
@
text
@d1 9
@


1.71
log
@2000-06-14  H.J. Lu <hjl@@gnu.org>

	* gas/macros/strings.d: Support a.out and coff.
@
text
@d1 5
@


1.70
log
@Remove 'mrs r9, cpsr_all' since the cpsr_all flag is no longer legal syntax.
@
text
@d1 4
@


1.69
log
@Add test of macro expansion of string arguments.
@
text
@d1 5
@


1.68
log
@Modify test to check line separator works.
@
text
@d1 7
@


1.67
log
@	* gas/elf/elf.exp: Exclude *-*-linux*coff* as non-elf.
@
text
@d1 5
@


1.66
log
@Add support for _x and _s flags to MSR instruction
@
text
@d1 4
@


1.65
log
@Ulf Carlsson's patches:
Include *-*-linux* in svr4pic tests
Test weak symbol handling.
@
text
@d1 4
@


1.64
log
@Fix breakage from 2000-03-31 bfd/srec.c change.
@
text
@d1 7
@


1.63
log
@Duplicate hppa*-*-*elf* behaviour for hppa*-*-linux*.
Fix elf tests for targets that define LABELS_WITHOUT_COLONS.
@
text
@d1 4
@


1.62
log
@Fix tests to remove leading zeroes from labels
@
text
@d1 17
@


1.61
log
@Cope with PE relocs.
@
text
@d1 5
d34 1
a34 1
	* gas/testsuite/gas/ia64: New testsuite directory.
d268 1
a268 1
	Add new syntax versions of instructions to tests. 
@


1.60
log
@Really fix last IA-64 gas testsuite failure.
	* gas/ia64/opc-i.d: Change pmin2.u to pmin2.  Change pmax2.u to pmax2.
	Change MLI to MLX.  Switch operands for output matching tbit.z.orcm,
	tbit.z.andcm, tbit.nz.orcm, tbit.nz.andcm, tnat.z.orcm, tnat.z.andcm,
	tnat.nz.orcm, tnat.nz.andcm inputs.
	* gas/ia64/opc-i.pl: Insert padding nops before last dep.
	* gas/ia64/opc-i.s: Regenerate.
@
text
@d1 5
@


1.59
log
@Fix last remaining IA-64 gas testsuite failure.
	* gas/ia64/opc-i.s: Regenerate.
	* gas/ia64/opc-f.pl: Add explicit stop at end.
@
text
@d3 7
@


1.58
log
@Clean up F-unit assembly and tests.
@
text
@d1 5
@


1.57
log
@IA-64 ELF support.
@
text
@d1 5
@


1.56
log
@Add 16-bit immediate tests.
@
text
@d1 8
@


1.55
log
@* gas/mn10300/am33_5.s: Check that negative SP offsets are encoded
with 32 bits, not with the unsigned shorter opcodes.
* gas/mn10300/basic.exp: Likewise.
@
text
@d1 6
@


1.55.2.1
log
@Fix breakage from 2000-03-31 bfd/srec.c change.
@
text
@a0 4
2000-05-08  Alan Modra  <alan@@linuxcare.com.au>

	* gas/mri/float.d: Fix for srec length change.

@


1.54
log
@* lib/gas-defs.exp (regexp_diff): Don't break on the first
difference, list them all.
@
text
@d1 6
@


1.53
log
@Add "bal" instruction pattern.
Add test of assembling "bal" instruction
@
text
@d1 5
@


1.52
log
@Default LISTING_LHS_WIDTH to depend on LISTING_WORD_SIZE so that bytes per
line is 4.  Fix tests for LISTING_WORD_SIZE==1.
@
text
@d1 4
d11 11
@


1.51
log
@In bfd/:
	* elf32-mips.c (mips_elf_next_relocation): Rename from
	mips_elf_next_lo16_relocation, and generalize to look
	for any relocation type.
	(elf_mips_howto_table): Make R_MIPS_PC16 pcrel_offset.
	(elf_mips_gnu_rel_hi16): Howto for R_MIPS_GNU_REL_HI16.
	(elf_mips_gnu_rel_lo16): Howto for R_MIPS_GNU_REL_LO16.
	(elf_mips_gnu_rel16_s2): Howto for R_MIPS_GNU_REL16_S2.
	(elf_mips_gnu_pcrel64): Howto for R_MIPS_PC64.
	(elf_mips_gnu_pcrel32): Howto for R_MIPS_PC32.
	(bfd_elf32_bfd_reloc_type_lookup): Add new relocs.
	(mips_rtype_to_howto): Likewise.
	(mips_elf_calculate_relocation): Handle new relocs.
	(_bfd_mips_elf_relocate_section): REL_HI16/REL_LO16 relocs
	are paired.  The addend for R_MIPS_GNU_REL16_S2
	is shifted right two bits.
In gas/:
	* config/tc-mips.c (mips_ip): Don't put stuff in .rodata
	when embedded-pic.

	* config/tc-mips.c (SWITCH_TABLE): The ELF embedded-pic
 	implementation doesn't have special handling for switch
 	statements.
	(macro_build): Allow for code in sections other than .text.
	(macro): Likewise.
	(mips_ip): Likewise.
	(md_apply_fix): Do pc-relative relocation madness for MIPS ELF.
  	Don't perform relocs if we will be outputting them.
	(tc_gen_reloc): For ELF, just use fx_addnumber for pc-relative
 	relocations.  Allow BFD_RELOC_16_PCREL_S2 relocs when
 	embedded-pic.
In gas/testsuite/:
	* gas/mips/empic.d: New file.
	* gas/mips/empic.s: New file.
	* gas/mips/mips16-e.d: New file.
	* gas/mips/mips16-e.s: New file.
	* gas/mips/mips16-f.d: New file.
	* gas/mips/mips16-f.s: New file.
	* gas/mips/mips.exp: Add empic, mips16-e.  Add mips16-f as an
	expected failure.
In include/elf:
	* mips.h: Add R_MIPS_GNU_REL_HI16, R_MIPS_GNU_REL_LO16,
 	R_MIPS_GNU_REL16_S2, R_MIPS_PC64 and R_MIPS_PC32 relocation
 	numbers.
@
text
@d1 7
@


1.50
log
@2000-02-25  H.J. Lu <hjl@@gnu.org>

	* gas/i386/general.l: Support a.out and coff.
@
text
@d1 11
@


1.49
log
@Fix silly thinko in gas/i386/intel.s  Mention i386.exp in ChangeLog
@
text
@d1 4
@


1.48
log
@Extend the i386 gas testsuite to do some tests for intel_syntax.  Fix all
the errors exposed by this addition.  These were intel mode
"fi... word ptr", "fi... dword ptr", "jmp Imm seg, Imm offset", "out dx,al".
The failure with intel "out dx,al" was also present in att "out al,dx".
Extend testsuite to catch this case too.
@
text
@d4 2
a5 1
	* gas/i386/intel.d: New file, copy opcode.d
@


1.47
log
@Add ATPCS register naming support
@
text
@d1 8
@


1.46
log
@Fix gas x86 testsuite for a.out
@
text
@d1 8
@


1.45
log
@gas/testsuite/ChangeLog
	* gas/i386/general.{s,l}: Move 16 bit jmp and call tests from here
	* gas/i386/jump16.{s,d}: To here.
	* gas/i386/jump.{s,d}: New files.  Duplicate 32 bit jmp and call
	tests in general.s so that objdump is exercised.

	* gas/i386/i386.exp: Call new tests.
@
text
@d1 6
@


1.44
log
@Cosmetic changes to tc-i386.[ch] + extend x86 gas testsuite jmp and
call tests + tweak intel mode far call and jmp.
@
text
@d1 9
@


1.43
log
@Add jmp and call tests to prevent intel mode lossage creeping in again.
@
text
@d3 2
a4 1
	* gas/i386/general.{s,l}: Add jmp and call tests.
@


1.42
log
@Tue Nov 30 23:02:01 1999  Jeffrey A Law  (law@@cygnus.com)

        * gas/mn10300/{am33.s, am33_2.s, am33_3.s}: New test files.
        * gas/mn10300/{am33_4.s, am33_5.s, am33_6.s}: Likewise.
        * gas/mn10300/{am33_7.s, am33_8.s}: Likewise.
        * gas/mn10300/basic.exp: Run the am33 tests.
@
text
@d1 4
@


1.41
log
@	* gas/mips/la.d: Adjust for new la macro expansion.
	Change matches for explicit addresses to matches for
	any address.
	* gas/mips/la-xgot.d: Same.
	* gas/mips/la-svr4pic.d: Same.
@
text
@d1 7
@


1.40
log
@fixes for arm-aout....
@
text
@d1 8
@


1.39
log
@Fix test results for arm-pe toolchain
@
text
@d11 4
@


1.38
log
@Fix assembler testsuite for ARM
@
text
@d1 11
@


1.37
log
@* lib/gas-defs.exp (regexp_diff): Allow '#...' to mean "some
indeterminate number of extra lines here".

* gas/elf/elf.exp: Remove XFAILs.
* gas/elf/section0.d: Make pass on MIPS (and hopefully alpha).
* gas/elf/section1.d: Likewise.
@
text
@d1 6
@


1.36
log
@
Added seven new instructions ld, ld2w, sac, sachi, slae, st and
st2w for d10v. Created new testsuite for d10v to verify new
instructions.
@
text
@d1 9
@


1.35
log
@* gas/mips/elf-rel.s: New file.
* gas/mips/elf-rel.d: New file.
* gas/mips/elf-rel2.d: New file.
* gas/mips/e32-rel2.d: New file.
* gas/mips/elf-rel2.s: New file.
* gas/mips/mips.exp: Add elf-rel, elf-rel2.

* gas/mips/elf_e_flags1.d: Tweak a little so it passes
even if the CPU is set to something by default.
@
text
@d1 7
@


1.34
log
@	* gas/m32r/error.exp: New testcase driver.
	* gas/m32r/m32rx.exp: New testcase driver.
	* gas/m32r/fslotx.[sd]: New testcase.
	* gas/m32r/m32rx.[sd]: New testcase.
	* gas/m32r/relax-s.[sd]: New testcase.
	* gas/m32r/interfere.s: New testcase.
	* gas/m32r/wrongsize.s: New testcase.
@
text
@d1 12
@


1.33
log
@
Support 8 and 16-bit relocs for i386coff.  Enable i386 gas testsuite tests
previously disabled for lack of such support.  For *-*-linux*libc1 targets,
XFAIL a ld testsuite that fails due to a bug in the dynamic linker prior to
glibc-2.1.
@
text
@d1 10
@


1.32
log
@1999-09-12  Donn Terry  <donn@@interix.com>

	* gas/all/gas.exp: Run cofftag test for i*86-*-interix*.
	* lib/gas-defs.exp: Add perror if can not read .d file.
@
text
@d1 5
@


1.31
log
@1999-09-04  Steve Chamberlain  <sac@@pobox.com>

	* gas/pj/{pj.exp, ops.c, ops.d}: New tests for picoJava.
@
text
@d1 5
@


1.30
log
@Add test for strongarm to ScottB's patch.
@
text
@d1 4
@


1.29
log
@        * gas/vtable/vtable.exp: Added [istarget "arm*-*-*"] to run dump
        test "entry0" instead of "entry1".  ARM targets use REL relocs,
        and should use the test entry0.
@
text
@d1 5
@


1.28
log
@
Coff fix for i386 gas testsuite
@
text
@d1 6
@


1.27
log
@        * gas/hppa/unsorted/*.s: Use .code instead of .SPACE/.SUBSPA for
        sectioning.
        * gas/hppa/unsorted/unsorted.exp: Disable tests not appropriate for
        PA64.
@
text
@d1 4
@


1.26
log
@        * gas/hppa/reloc/*.s: Use .code instead of .SPACE/.SUBSPA for
        sectioning.
        * gas/hppa/parse/parse.exp: Disable tests not appropriate for PA64.
        Revamp address expressions slightly to handle an arbitrary sized
        address.
@
text
@d3 5
@


1.25
log
@        * gas/hppa/parse/*.s: Use .code instead of .SPACE/.SUBSPA for
        sectioning.
        * gas/hppa/parse/parse.exp: Disable tests not appropriate for PA64.
@
text
@d3 6
@


1.24
log
@        * gas/hppa/basic/*.s: Use .code instead of .SPACE/.SUBSPA for
        sectioning.
@
text
@d3 4
@


1.23
log
@
New i386 tests for naked register syntax, ie. "eax" instead of "%eax"
@
text
@d1 5
@


1.22
log
@
Allow spaces in i386 FP reg names, eg. %st ( 1 ).
@
text
@d1 6
@


1.21
log
@        * gas/hppa/basic/basic.exp:  Add new tests shift2.s,
        shift3.s, extract2.s, extract3.s, deposit2.s, and deposit3.s.
        * gas/hppa/basic/shift2.s, shift3.s, extract2.s,
        extract3.s, deposit2.s, deposit3.s:  New.
@
text
@d1 4
@


1.20
log
@        * gas/hppa/basic/add.s,addi.s,dcor.s,shladd.s,sub.s,subi.s,unit.s:
        Add new syntax versions of instructions to tests.
        * gas/hppa/basic/add2.s,dcor2.s,perf.s,purge2.s,shladd2.s,sub2.s,
        system2.s, unit2.s:  New tests.
        * hppa/basic/basic.exp: Add new tests.
@
text
@d3 5
@


1.19
log
@        * gas/hppa/basic/basic.exp:
        * gas/hppa/basic/media.s:  Add test cases for new instructions.
@
text
@d3 6
@


1.18
log
@        * gas/hppa/basic/basic.exp (do_branch2,do_media): New.
        * gas/hppa/basic/branch2.s:  New.
        * gas/hppa/basic/media.s:  New.
@
text
@d3 3
@


1.17
log
@	  * gas/testsuite/gas/hppa/basic/basic.exp (do_fp_comp2):  New.
	  * gas/testsuite/gas/hppa/basic/fp_comp2.s:  New.
@
text
@d3 6
a8 2
	  * gas/testsuite/gas/hppa/basic/basic.exp (do_fp_comp2):  New.
	  * gas/testsuite/gas/hppa/basic/fp_comp2.s:  New.
@


1.16
log
@
*gas/config/tc-i386.c: Fix errors in displacement size when
automatically inferring an address prefex.
@
text
@d1 5
@


1.15
log
@1999-08-17  H.J. Lu  <hjl@@gnu.org>

	* gas/elf/elf.exp: Expected to fail on alpha*-*-*.
@
text
@d1 5
@


1.14
log
@	* gas/i386/float.s, gas/i386/float.l: Modify to work correctly
	when gas uses 2**4 alignment for .text.
	* gas/i386/general.s, gas/i386/general.l: Likewise.
	* gas/i386/katmai.s, gas/i386/katmai.d: Likewise.
	* gas/i386/modrm.s, gas/i386/modrm.l: Likewise.
	* gas/i386/prefix.s, gas/i386/prefix.d: Likewise.
@
text
@d1 4
@


1.13
log
@
Tweak for when --enable-targets includes 64-bit bfd target.
@
text
@d1 9
@


1.12
log
@	* gas/i386/katmai.d: Tweak for recent disassembler changes.
@
text
@d1 5
@


1.11
log
@	* gas/elf/elf.exp: Don't run tests on "*-*-linux*aout*" or
	"*-*-linux*oldld*".
	* gas/vtable/vtable.exp: Likewise.
	* gas/i386/reloc.d: Modify expected reloc names to accept a.out
	names.
@
text
@d1 4
@


1.10
log
@	* gas/i386/amd.s: Add a symbol so a.out tests will work.
	* gas/i386/katmai.s: Likewise.
	* gas/i386/amd.d: Corresponding change.
	* gas/i386/katmai.d: Corresponding change.
@
text
@d3 6
@


1.9
log
@	* gas/mips/sync.d: Pass -mips2 to the assembler.
	* gas/mips/elf_e_flags.s: Tweak code so that the tests pass for
	mips-elf target as well as mips64-elf target.
	* gas/mips/elf_e_flags1.d: Corresponding changes.
	* gas/mips/elf_e_flags2.d: Likewise.
	* gas/mips/elf_e_flags3.d: Likewise.
	* gas/mips/elf_e_flags4.d: Likewise.
	* gas/elf/elf.exp: Add setup_xfail for mips*-*-*.
	* gas/all/itbl-test.c (main): Update itbl_get_reg_val call for new
	parameter.
@
text
@d1 7
@


1.8
log
@Jakub Jelinek  <jj@@ultra.linux.cz>
        * gas/sparc/synth64.s: Add checks for single register signx/clruw.
        * gas/sparc/set64.s: Add tests for setuw and setsw synthetic insns.
        * gas/sparc/prefetch.d: Add -64 as switch.
        * gas/sparc/rdpr.d: Ditto.
        * gas/sparc/wrpr.d: Ditto.
        * gas/sparc/synth64.d: Ditto, reflect synth64.s changes.
        * gas/sparc/reloc64.d: Add -64 as switch, be more tolerant, as
        current gas outputs %hi(0) and not %hi(0x0).
        * gas/sparc/set64.d: Add -64 as switch, reflect set64.s changes and
        optimizations for setx instruction.
        * gas/sparc/sparc.exp: Do sparc64*-*-* checks if it is any of the
        compiled-in targets.
@
text
@d1 16
@


1.7
log
@        * gas/macros/irp.s: Use `foo' and `bar' instead of `r' and `s'.
        * gas/macros/rept.s, gas/macros/test2.s, gas/macros/test3.s: Likewise.
        * gas/macros/{irp,rept,test2,test3}.d: Update.
@
text
@d1 15
@


1.6
log
@        * gas/elf/elf.exp: New directory.
        * gas/elf/section0.[sd]: New test.
        * gas/elf/section1.[sd]: New test.
@
text
@d1 6
@


1.5
log
@ Update to match current gas,bfd and opcodes.
@
text
@d1 6
@


1.4
log
@	* gas/vtable/vtable.exp: Don't run test for i960 yet.
@
text
@d1 5
@


1.3
log
@Update to match lattest assembler/objdump outpuyt
@
text
@d1 4
@


1.2
log
@P
i386 PIII SIMD support, remove ReverseRegRegmem kludge
tidy a few things in i386 intel mode disassembly
@
text
@d1 4
@


1.1
log
@Initial revision
@
text
@d1 15
@


1.1.1.1
log
@19990502 sourceware import
@
text
@@

