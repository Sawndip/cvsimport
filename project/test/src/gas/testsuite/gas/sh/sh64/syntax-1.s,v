head	1.2;
access;
symbols
	binutils-2_24-branch:1.2.0.10
	binutils-2_24-branchpoint:1.2
	binutils-2_21_1:1.2
	binutils-2_23_2:1.2
	binutils-2_23_1:1.2
	binutils-2_23:1.2
	binutils-2_23-branch:1.2.0.8
	binutils-2_23-branchpoint:1.2
	binutils-2_22_branch:1.2.0.6
	binutils-2_22:1.2
	binutils-2_22-branch:1.2.0.4
	binutils-2_22-branchpoint:1.2
	binutils-2_21:1.2
	binutils-2_21-branch:1.2.0.2
	binutils-2_21-branchpoint:1.2
	binutils-2_20_1:1.1.32.1
	binutils-2_20:1.1.32.1
	binutils-arc-20081103-branch:1.1.0.34
	binutils-arc-20081103-branchpoint:1.1
	binutils-2_20-branch:1.1.0.32
	binutils-2_20-branchpoint:1.1
	dje-cgen-play1-branch:1.1.0.30
	dje-cgen-play1-branchpoint:1.1
	arc-20081103-branch:1.1.0.28
	arc-20081103-branchpoint:1.1
	binutils-2_19_1:1.1
	binutils-2_19:1.1
	binutils-2_19-branch:1.1.0.26
	binutils-2_19-branchpoint:1.1
	binutils-2_18:1.1
	binutils-2_18-branch:1.1.0.24
	binutils-2_18-branchpoint:1.1
	binutils-csl-coldfire-4_1-32:1.1
	binutils-csl-sourcerygxx-4_1-32:1.1
	binutils-csl-innovasic-fido-3_4_4-33:1.1
	binutils-csl-sourcerygxx-3_4_4-32:1.1
	binutils-csl-coldfire-4_1-30:1.1
	binutils-csl-sourcerygxx-4_1-30:1.1
	binutils-csl-coldfire-4_1-28:1.1
	binutils-csl-sourcerygxx-4_1-29:1.1
	binutils-csl-sourcerygxx-4_1-28:1.1
	binutils-csl-arm-2006q3-27:1.1
	binutils-csl-sourcerygxx-4_1-27:1.1
	binutils-csl-arm-2006q3-26:1.1
	binutils-csl-sourcerygxx-4_1-26:1.1
	binutils-csl-sourcerygxx-4_1-25:1.1
	binutils-csl-sourcerygxx-4_1-24:1.1
	binutils-csl-sourcerygxx-4_1-23:1.1
	binutils-csl-sourcerygxx-4_1-21:1.1
	binutils-csl-arm-2006q3-21:1.1
	binutils-csl-sourcerygxx-4_1-22:1.1
	binutils-csl-palmsource-arm-prelinker-1_0-1:1.1
	binutils-csl-sourcerygxx-4_1-20:1.1
	binutils-csl-arm-2006q3-19:1.1
	binutils-csl-sourcerygxx-4_1-19:1.1
	binutils-csl-sourcerygxx-4_1-18:1.1
	binutils-csl-renesas-4_1-9:1.1
	binutils-csl-sourcerygxx-3_4_4-25:1.1
	binutils-csl-renesas-4_1-8:1.1
	binutils-csl-renesas-4_1-7:1.1
	binutils-csl-renesas-4_1-6:1.1
	binutils-csl-sourcerygxx-4_1-17:1.1
	binutils-csl-sourcerygxx-4_1-14:1.1
	binutils-csl-sourcerygxx-4_1-15:1.1
	binutils-csl-sourcerygxx-4_1-13:1.1
	binutils-2_17:1.1
	binutils-csl-sourcerygxx-4_1-12:1.1
	binutils-csl-sourcerygxx-3_4_4-21:1.1
	binutils-csl-wrs-linux-3_4_4-24:1.1
	binutils-csl-wrs-linux-3_4_4-23:1.1
	binutils-csl-sourcerygxx-4_1-9:1.1
	binutils-csl-sourcerygxx-4_1-8:1.1
	binutils-csl-sourcerygxx-4_1-7:1.1
	binutils-csl-arm-2006q1-6:1.1
	binutils-csl-sourcerygxx-4_1-6:1.1
	binutils-csl-wrs-linux-3_4_4-22:1.1
	binutils-csl-coldfire-4_1-11:1.1
	binutils-csl-sourcerygxx-3_4_4-19:1.1
	binutils-csl-coldfire-4_1-10:1.1
	binutils-csl-sourcerygxx-4_1-5:1.1
	binutils-csl-sourcerygxx-4_1-4:1.1
	binutils-csl-wrs-linux-3_4_4-21:1.1
	binutils-csl-morpho-4_1-4:1.1
	binutils-csl-sourcerygxx-3_4_4-17:1.1
	binutils-csl-wrs-linux-3_4_4-20:1.1
	binutils-2_17-branch:1.1.0.22
	binutils-2_17-branchpoint:1.1
	binutils-csl-2_17-branch:1.1.0.20
	binutils-csl-2_17-branchpoint:1.1
	binutils-csl-gxxpro-3_4-branch:1.1.0.18
	binutils-csl-gxxpro-3_4-branchpoint:1.1
	binutils-2_16_1:1.1
	binutils-csl-arm-2005q1b:1.1
	binutils-2_16:1.1
	binutils-csl-arm-2005q1a:1.1
	binutils-csl-arm-2005q1-branch:1.1.0.16
	binutils-csl-arm-2005q1-branchpoint:1.1
	binutils-2_16-branch:1.1.0.14
	binutils-2_16-branchpoint:1.1
	csl-arm-2004-q3d:1.1
	csl-arm-2004-q3:1.1
	binutils-2_15:1.1
	binutils-2_15-branchpoint:1.1
	csl-arm-2004-q1a:1.1
	csl-arm-2004-q1:1.1
	binutils-2_15-branch:1.1.0.12
	cagney_bfdfile-20040213-branch:1.1.0.10
	cagney_bfdfile-20040213-branchpoint:1.1
	cagney_bigcore-20040122-branch:1.1.0.8
	cagney_bigcore-20040122-branchpoint:1.1
	csl-arm-2003-q4:1.1
	binutils-2_14:1.1
	binutils-2_14-branch:1.1.0.6
	binutils-2_14-branchpoint:1.1
	binutils-2_13_2_1:1.1
	binutils-2_13_2:1.1
	binutils-2_13_1:1.1
	binutils-2_13:1.1
	binutils-2_13-branchpoint:1.1
	binutils-2_13-branch:1.1.0.4
	binutils-2_12_1:1.1
	binutils-2_12:1.1
	binutils-2_12-branch:1.1.0.2
	binutils-2_12-branchpoint:1.1
	binutils_latest_snapshot:1.2;
locks; strict;
comment	@# @;


1.2
date	2009.09.09.23.17.34;	author kkojima;	state Exp;
branches;
next	1.1;

1.1
date	2002.02.08.06.46.14;	author aoliva;	state Exp;
branches
	1.1.32.1;
next	;

1.1.32.1
date	2009.09.09.23.20.03;	author kkojima;	state Exp;
branches;
next	;


desc
@@


1.2
log
@	* gas/sh/sh64/syntax-1.s: Regenerate.
@
text
@! Verify that minimum support is provided as per SH-5/ST50-047-02.

	.text
	.mode shmedia
start:

! Both all-upper and all-lower must be supported.  PTA/PTB without /L
! or /U is equivalent to with /L

	ld.l	r1,4,r1
	LD.L	r1,4,r1
	pta/l	.L1,tr0
	PTA/L	.L1,tr0
	pta/u	.L1,tr0
	PTA/U	.L1,tr0
	pta/l	.L1,tr0
	PTA/L	.L1,tr0
	ptb/u	.L2,tr0
	PTB/U	.L2,tr0
	ptb/l	.L2,tr0
	PTB/L	.L2,tr0
	pta	.L1,tr0
	PTA	.L1,tr0
	ptb	.L2,tr0
	PTB	.L2,tr0
.L1:
	.mode shcompact
.L2:
	.align 2
	.mode shmedia

! All register names accepted, either case.

	or	r0,r32,r63
	GETCON	CR0,R0
	getcon	cr63,r0
	GETTR	TR0,R0
	gettr	tr7,r0
	FMOV.S	FR0,FR63
	fmov.d	dr0,dr62
	FTRV.S	MTRX0,FV0,fv0
	ftrv.s	mtrx48,FV60,FV60

! All control register names

	getcon	sr,r0
	getcon	ssr,r0
	getcon	pssr,r0
	getcon	intevt,r0
	getcon	expevt,r0
	getcon	pexpevt,r0
	getcon	tra,r0
	getcon	spc,r0
	getcon	pspc,r0
	getcon	resvec,r0
	getcon	vbr,r0
	getcon	tea,r0
	getcon	dcr,r0
	getcon	kcr0,r0
	getcon	kcr1,r0
	getcon	ctc,r0
	getcon	usr,r0

! immediates

	.mode shcompact
s1:
	mov	#4,r0

	.align 2
	.mode shmedia
s2:
	movi	4,r0

! Scaled operands - user gives scaled value

	.mode shcompact
s3:
	mov.l	@@(8,r0),r0

	.align 2
	.mode shmedia
s4:
	ld.uw	r0,2,r0
	ld.w	r0,2,r0
	st.w	r0,2,r0
	ld.l	r0,4,r0
	st.l	r0,4,r0
	fld.s	r0,4,fr0
	fst.s	r0,4,fr0
	pta	.+4,tr0
	ptb	.+7,tr0
	ld.q	r0,8,r0
	st.q	r0,8,r0
	fld.d	r0,8,dr0
	fst.d	r0,8,dr0
	fld.p	r0,8,fp0
	fst.p	r0,8,fp0
	alloco	r0,32
	icbi	r0,32
	ocbi	r0,32
	ocbp	r0,32
	ocbwb	r0,32
	prefi	r0,32

	.mode	shcompact
s5:
	mov.w	@@(6,pc),r0
	mov.w	@@(2,r0),r0
	mov.w	@@(2,gbr),r0
	mov.w	r0,@@(2,r0)
	mov.w	r0,@@(2,gbr)
	bf	.+6
	bt	.+6
	bra	.+6
	bsr	.+6
	mov.l	@@(2,pc),r0
	mov.l	@@(4,r0),r0
	mov.l	@@(4,gbr),r0
	mova	@@(8,pc),r0
	mov.l	r0,@@(4,r0)
	mov.l	r0,@@(4,gbr)

! branchlabel vs datalabel

	.align 2
	.mode shmedia
s6:
	.long	.L3
	.long	.L3 + 4
	.long	datalabel .L3
	.long	DATALABEL .L3
.L3:
	.mode	shcompact

s7:
	.long	.L4
	.long	.L5
.L4:

	.align 2
	.mode shmedia
s8:

	movi	(.L4 >> 16) & 65535,r0
	shori	.L4 & 65535, r0
	ptabs	r0,tr0
	blink	tr0,r18

	movi	(.L5 >> 16) & 65535,r0
	shori	.L5 & 65535, r0
	ptabs	r0,tr0
	blink	tr0,r18
.L5:

	movi	(.L4-DATALABEL .L6), r0
.L6:
	movi	(.L5-DATALABEL .L7), r0
.L7:

	pt	.L5,tr0

! Expressions

! Symbols

abcdefghijklmnopqrstuvwxyz0123456789_:
	.long	abcdefghijklmnopqrstuvwxyz0123456789_
_x:
	.long	_x

! program counter

	movi	.L7-$,r0
.L8:	movi	.L7-.L8,r0

	.mode shcompact
s9:
	mova	@@(litpool-$,pc), r0
	mov.l	@@r1,r0
	add	r1,r0
	bsrf	r0
litpool:
	.long	s10 - DATALABEL $

! operators

	.align 2
	.mode shmedia
s10:
	movi	8+1,r0
	movi	8-1,r0
	movi	8<<1,r0
	movi	8>>1,r0
	movi	~1,r0
	movi	5&3,r0
	movi	8|1,r0
	movi	8*3,r0
	movi	24/3,r0
@


1.1
log
@Contribute sh64-elf.
2002-02-01  Alexandre Oliva  <aoliva@@redhat.com>
* gas/sh/sh64/syntax-1.s: Remove `-4' from @@(expr-4,pc).
2002-01-28  Alexandre Oliva  <aoliva@@redhat.com>
* gas/sh/sh64/crange1-1.d: Formatting changes to match the current
output of objdump.
* gas/sh/sh64/crange1-2.d: Likewise.
* gas/sh/sh64/crange2-2.d: Likewise.
* gas/sh/sh64/crange3-1.d: Likewise.
* gas/sh/sh64/crange4-1.d: Likewise.
* gas/sh/sh64/datal-2.d: Likewise.
* gas/sh/sh64/datal32-1.d: Likewise.
* gas/sh/sh64/datal32-3.d: Likewise.
* gas/sh/sh64/localcom-1.d: Likewise.
* gas/sh/sh64/mix-1.d: Likewise.
* gas/sh/sh64/pt32-1.d: Likewise.
* gas/sh/sh64/rel32-1.d: Likewise.
* gas/sh/sh64/rel32-2.d: Likewise.
* gas/sh/sh64/rel32-3.d: Likewise.
* gas/sh/sh64/rel32-4.d: Likewise.
* gas/sh/sh64/rel32-5.d: Likewise.
* gas/sh/sh64/ua32-1.d: Likewise.
2001-03-14  DJ Delorie	<dj@@redhat.com>
* gas/sh/sh64/endian-1.d: New test - Little Endianness.
* gas/sh/sh64/endian-1.s: New test - Little Endianness.
* gas/sh/sh64/endian-2.d: New test - Big Endianness.
* gas/sh/sh64/endian-2.s: New test - Big Endianness.
2001-03-12  DJ Delorie	<dj@@redhat.com>
* gas/sh/sh64/syntax-1.d: New test - basic syntax.
* gas/sh/sh64/syntax-1.s: New test - basic syntax.
* gas/sh/sh64/syntax-2.d: New test - basic syntax, pseudos.
* gas/sh/sh64/syntax-2.s: New test - basic syntax, pseudos.
2001-03-06  DJ Delorie	<dj@@redhat.com>
* gas/sh/sh64/lineno.d: New, test dwarf2 line numbers vs macros.
* gas/sh/sh64/lineno.s: Ditto.
2001-01-14  Hans-Peter Nilsson	<hpn@@cygnus.com>
* gas/sh/sh64/err-dsp.s: New test.
2001-01-13  Hans-Peter Nilsson	<hpn@@cygnus.com>
* gas/sh/sh64/err-abi-64.s, gas/sh/sh64/err-abi-32.s,
gas/sh/sh64/abi-64.s, gas/sh/sh64/abi-64.d, gas/sh/sh64/abi-32.s,
gas/sh/sh64/abi-32.d, gas/sh/sh64/crange3.s,
gas/sh/sh64/crange3-1.d, gas/sh/sh64/crange4.s,
gas/sh/sh64/crange4-1.d, gas/sh/sh64/crange5.s,
gas/sh/sh64/crange5-1.d: New tests.
2001-01-07  Hans-Peter Nilsson	<hpn@@cygnus.com>
* gas/sh/sh64/relax-1.s, gas/sh/sh64/relax-1.d: New test.
* gas/sh/sh64/err-pt-1.s: New test.
* gas/sh/sh64/relax-2.s, gas/sh/sh64/relax-2.d: New test.
* gas/sh/sh64/localcom-1.s, gas/sh/sh64/localcom-1.d: New test.
* gas/sh/sh64/movi-3.s, gas/sh/sh64/movi-3.d: New test.
* gas/sh/sh64/relax-3.s, gas/sh/sh64/relax-3.d: New test.
2001-01-05  Hans-Peter Nilsson	<hpn@@cygnus.com>
* gas/sh/sh64/case-noexp-1.d: Adjust to changed GAS output for
check-PTA/PTB / perhaps-change-to-PTB bit in target field.
* gas/sh/sh64/case-noexp-1.d: Ditto.
* gas/sh/sh64/mix-noexp-1.d: Ditto.
* gas/sh/sh64/pt32-noexp-2.d: Ditto.
* gas/sh/sh64/pt64-noexp-2.d: Ditto.
* gas/sh/sh64/ptc32-noexp-1.d: Ditto.
* gas/sh/sh64/ptc64-noexp-1.d: Ditto.
* gas/sh/sh64/ptext32-noexp-1.d: Ditto.
* gas/sh/sh64/ptext64-noexp-1.d: Ditto.
2000-12-31  Hans-Peter Nilsson	<hpn@@cygnus.com>
* gas/sh/sh64/shift64-3.d: Fix typo.
* gas/sh/sh64/shift64-noexp-3.d, gas/sh/sh64/shift32-noexp-3.d,
gas/sh/sh64/ptext64-noexp-1.d, gas/sh/sh64/ptext64-32-1.d,
gas/sh/sh64/ptext32-noexp-1.d, gas/sh/sh64/ptc64-noexp-1.d,
gas/sh/sh64/ptc64-32-1.d, gas/sh/sh64/ptc32-noexp-1.d,
gas/sh/sh64/pt64-noexp-2.d, gas/sh/sh64/pt64-32-2.d,
gas/sh/sh64/pt64-32-1.d, gas/sh/sh64/pt32-noexp-2.d,
gas/sh/sh64/pt-noexp-1.d, gas/sh/sh64/movi64-noexp-2.d,
gas/sh/sh64/movi32-noexp-2.d, gas/sh/sh64/mix-noexp-1.d,
gas/sh/sh64/err-ptb-2.s, gas/sh/sh64/err-ptb-1.s,
gas/sh/sh64/err-pt32-cmd3.s, gas/sh/sh64/err-pt32-cmd2.s,
gas/sh/sh64/err-pt32-cmd1.s, gas/sh/sh64/err-noexp-cmd1.s,
gas/sh/sh64/err-movi-noexp-1.s, gas/sh/sh64/crange2.s,
gas/sh/sh64/crange2-noexp-1.d, gas/sh/sh64/crange2-2.d,
gas/sh/sh64/crange2-1.d, gas/sh/sh64/case-noexp-1.d: New tests.
2000-12-18  Hans-Peter Nilsson	<hpn@@cygnus.com>
* gas/sh/sh64/err-4.s: Use option -no-mix to see errors.  Adjust
for errors not being emitted at the .mode directives anymore.
* gas/sh/sh64/crange1.s, gas/sh/sh64/crange1-2.d,
gas/sh/sh64/crange1-1.d: New tests for .cranges section.
2000-12-12  Hans-Peter Nilsson	<hpn@@cygnus.com>
* gas/sh/sh64/err-3.s: New test.
* gas/sh/sh64/immexpr1.s, gas/sh/sh64/immexpr32-1.d,
gas/sh/sh64/immexpr64-1.d: New tests.
* gas/sh/sh64/immexpr2.s, gas/sh/sh64/immexpr32-2.d,
gas/sh/sh64/immexpr64-2.d: New tests.
2000-12-11  Hans-Peter Nilsson	<hpn@@cygnus.com>
* gas/sh/sh64/rel-1.s, gas/sh/sh64/rel-2.s, gas/sh/sh64/rel-3.s,
gas/sh/sh64/rel-4.s, gas/sh/sh64/rel-5.s, gas/sh/sh64/rel32-1.d,
gas/sh/sh64/rel32-2.d, gas/sh/sh64/rel32-3.d,
gas/sh/sh64/rel32-4.d, gas/sh/sh64/rel32-5.d,
gas/sh/sh64/rel64-1.d, gas/sh/sh64/rel64-2.d,
gas/sh/sh64/rel64-3.d, gas/sh/sh64/rel64-4.d,
gas/sh/sh64/rel64-5.d: New tests.
2000-12-07  Hans-Peter Nilsson	<hpn@@cygnus.com>
* gas/sh/sh64/case-1.d, gas/sh/sh64/mix-1.d, gas/sh/sh64/pt32-1.d,
gas/sh/sh64/pt64-1.d, gas/sh/sh64/ptc32-1.d,
gas/sh/sh64/ptc64-1.d, gas/sh/sh64/ptext32-1.d,
gas/sh/sh64/ptext64-1.d: Correct offsets in PT/PTA/PTB expansion.
2000-12-05  Hans-Peter Nilsson	<hpn@@cygnus.com>
* gas/sh/sh64/datal-3.s, gas/sh/sh64/datal32-3.d,
gas/sh/sh64/datal64-3.d: New tests.
2000-11-27  Hans-Peter Nilsson	<hpn@@cygnus.com>
* gas/sh/sh64/datal-1.s: Remove whitespace at end of line.
* gas/sh/sh64/datal32-1.d, gas/sh/sh64/datal64-1.d,
gas/sh/sh64/movi32-1.d, gas/sh/sh64/movi32-2.d,
gas/sh/sh64/movi64-1.d, gas/sh/sh64/movi64-3.d: Correct register.
* gas/sh/sh64/mix-1.s, gas/sh/sh64/mix-1.d, gas/sh/sh64/err-4.s:
New tests.
2000-11-26  Hans-Peter Nilsson	<hpn@@cygnus.com>
* gas/macros/macros.exp: Import xfail sh*-*-* from net binutils.
* gas/sh/sh64/case-1.d: Correct offsets in PT/PTA/PTB expansion.
gas/sh/sh64/pt32-1.d, gas/sh/sh64/pt64-1.d: Ditto.
gas/sh/sh64/ptc32-1.d, gas/sh/sh64/ptc64-1.d: Ditto.
gas/sh/sh64/ptext32-1.d, gas/sh/sh64/ptext64-1.d: Ditto.
2000-11-25  Hans-Peter Nilsson	<hpn@@cygnus.com>
* gas/sh/sh64/ptc32-1.d, gas/sh/sh64/ptc64-1.d: Correct.
* gas/sh/sh64/datal-1.s, gas/sh/sh64/datal32-1.d,
gas/sh/sh64/datal64-1.d: New test.
* gas/sh/sh64/datal-2.s, gas/sh/sh64/datal-2.d: New test.
* gas/sh/sh64/creg-1.d, gas/sh/sh64/creg-1.s: New test.
* gas/sh/sh64/creg-2.d, gas/sh/sh64/creg-2.s: New test.
2000-11-24  Hans-Peter Nilsson	<hpn@@cygnus.com>
* gas/sh/sh64: New testsuite.
@
text
@d117 1
a117 1
	mov.l	@@(4,pc),r0
d120 1
a120 1
	mova	@@(6,pc),r0
@


1.1.32.1
log
@	* gas/sh/sh64/syntax-1.s: Regenerate.
@
text
@d117 1
a117 1
	mov.l	@@(2,pc),r0
d120 1
a120 1
	mova	@@(8,pc),r0
@


