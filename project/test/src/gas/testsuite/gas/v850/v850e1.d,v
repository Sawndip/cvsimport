head	1.7;
access;
symbols
	binutils-2_24-branch:1.7.0.2
	binutils-2_24-branchpoint:1.7
	binutils-2_21_1:1.4
	binutils-2_23_2:1.5
	binutils-2_23_1:1.5
	binutils-2_23:1.5
	binutils-2_23-branch:1.5.0.6
	binutils-2_23-branchpoint:1.5
	binutils-2_22_branch:1.5.0.4
	binutils-2_22:1.5
	binutils-2_22-branch:1.5.0.2
	binutils-2_22-branchpoint:1.5
	binutils-2_21:1.4
	binutils-2_21-branch:1.4.0.2
	binutils-2_21-branchpoint:1.4
	binutils-2_20_1:1.3
	binutils-2_20:1.3
	binutils-arc-20081103-branch:1.3.0.12
	binutils-arc-20081103-branchpoint:1.3
	binutils-2_20-branch:1.3.0.10
	binutils-2_20-branchpoint:1.3
	dje-cgen-play1-branch:1.3.0.8
	dje-cgen-play1-branchpoint:1.3
	arc-20081103-branch:1.3.0.6
	arc-20081103-branchpoint:1.3
	binutils-2_19_1:1.3
	binutils-2_19:1.3
	binutils-2_19-branch:1.3.0.4
	binutils-2_19-branchpoint:1.3
	binutils-2_18:1.3
	binutils-2_18-branch:1.3.0.2
	binutils-2_18-branchpoint:1.3
	binutils-csl-coldfire-4_1-32:1.2
	binutils-csl-sourcerygxx-4_1-32:1.2
	binutils-csl-innovasic-fido-3_4_4-33:1.2
	binutils-csl-sourcerygxx-3_4_4-32:1.1
	binutils-csl-coldfire-4_1-30:1.2
	binutils-csl-sourcerygxx-4_1-30:1.2
	binutils-csl-coldfire-4_1-28:1.2
	binutils-csl-sourcerygxx-4_1-29:1.2
	binutils-csl-sourcerygxx-4_1-28:1.2
	binutils-csl-arm-2006q3-27:1.2
	binutils-csl-sourcerygxx-4_1-27:1.2
	binutils-csl-arm-2006q3-26:1.2
	binutils-csl-sourcerygxx-4_1-26:1.2
	binutils-csl-sourcerygxx-4_1-25:1.2
	binutils-csl-sourcerygxx-4_1-24:1.2
	binutils-csl-sourcerygxx-4_1-23:1.2
	binutils-csl-sourcerygxx-4_1-21:1.2
	binutils-csl-arm-2006q3-21:1.2
	binutils-csl-sourcerygxx-4_1-22:1.2
	binutils-csl-palmsource-arm-prelinker-1_0-1:1.2
	binutils-csl-sourcerygxx-4_1-20:1.2
	binutils-csl-arm-2006q3-19:1.2
	binutils-csl-sourcerygxx-4_1-19:1.2
	binutils-csl-sourcerygxx-4_1-18:1.2
	binutils-csl-renesas-4_1-9:1.2
	binutils-csl-sourcerygxx-3_4_4-25:1.1
	binutils-csl-renesas-4_1-8:1.2
	binutils-csl-renesas-4_1-7:1.2
	binutils-csl-renesas-4_1-6:1.2
	binutils-csl-sourcerygxx-4_1-17:1.2
	binutils-csl-sourcerygxx-4_1-14:1.2
	binutils-csl-sourcerygxx-4_1-15:1.2
	binutils-csl-sourcerygxx-4_1-13:1.2
	binutils-2_17:1.2
	binutils-csl-sourcerygxx-4_1-12:1.2
	binutils-csl-sourcerygxx-3_4_4-21:1.2
	binutils-csl-wrs-linux-3_4_4-24:1.1
	binutils-csl-wrs-linux-3_4_4-23:1.1
	binutils-csl-sourcerygxx-4_1-9:1.2
	binutils-csl-sourcerygxx-4_1-8:1.2
	binutils-csl-sourcerygxx-4_1-7:1.2
	binutils-csl-arm-2006q1-6:1.2
	binutils-csl-sourcerygxx-4_1-6:1.2
	binutils-csl-wrs-linux-3_4_4-22:1.1
	binutils-csl-coldfire-4_1-11:1.2
	binutils-csl-sourcerygxx-3_4_4-19:1.2
	binutils-csl-coldfire-4_1-10:1.2
	binutils-csl-sourcerygxx-4_1-5:1.2
	binutils-csl-sourcerygxx-4_1-4:1.2
	binutils-csl-wrs-linux-3_4_4-21:1.1
	binutils-csl-morpho-4_1-4:1.2
	binutils-csl-sourcerygxx-3_4_4-17:1.2
	binutils-csl-wrs-linux-3_4_4-20:1.1
	binutils-2_17-branch:1.2.0.4
	binutils-2_17-branchpoint:1.2
	binutils-csl-2_17-branch:1.2.0.2
	binutils-csl-2_17-branchpoint:1.2
	binutils-csl-gxxpro-3_4-branch:1.1.0.12
	binutils-csl-gxxpro-3_4-branchpoint:1.1
	binutils-2_16_1:1.1
	binutils-csl-arm-2005q1b:1.1
	binutils-2_16:1.1
	binutils-csl-arm-2005q1a:1.1
	binutils-csl-arm-2005q1-branch:1.1.0.10
	binutils-csl-arm-2005q1-branchpoint:1.1
	binutils-2_16-branch:1.1.0.8
	binutils-2_16-branchpoint:1.1
	csl-arm-2004-q3d:1.1
	csl-arm-2004-q3:1.1
	binutils-2_15:1.1
	binutils-2_15-branchpoint:1.1
	csl-arm-2004-q1a:1.1
	csl-arm-2004-q1:1.1
	binutils-2_15-branch:1.1.0.6
	cagney_bfdfile-20040213-branch:1.1.0.4
	cagney_bfdfile-20040213-branchpoint:1.1
	cagney_bigcore-20040122-branch:1.1.0.2
	cagney_bigcore-20040122-branchpoint:1.1
	csl-arm-2003-q4:1.1
	binutils_latest_snapshot:1.7;
locks; strict;
comment	@# @;


1.7
date	2013.01.15.08.45.44;	author nickc;	state Exp;
branches;
next	1.6;

1.6
date	2012.10.04.10.30.05;	author nickc;	state Exp;
branches;
next	1.5;

1.5
date	2011.04.13.13.20.24;	author nickc;	state Exp;
branches;
next	1.4;

1.4
date	2010.07.23.14.52.51;	author nickc;	state Exp;
branches;
next	1.3;

1.3
date	2007.02.02.13.10.59;	author nickc;	state Exp;
branches;
next	1.2;

1.2
date	2006.02.17.14.36.25;	author nickc;	state Exp;
branches;
next	1.1;

1.1
date	2003.09.04.11.04.37;	author nickc;	state Exp;
branches;
next	;


desc
@@


1.7
log
@	* config/tc-v850.c (md_assemble): Allow signed values for
	V850E_IMMEDIATE.

	* gas/v850/basic.exp: Allow for variations in reloc names.
	* gas/v850/split-lo16.d: Likewise.

	* gas/v850/v850e1.s: Add more tests of the PREPARE insn.
	* gas/v850/v850e1.d: Update expected disassembly.

	* v850-dis.c (get_operand_value): Sign extend V850E_IMMEDIATE
	values.
	* v850-opc.c (IMM16LO): Add V850_OPERAND_SIGNED attribute.
@
text
@#objdump: -dr --prefix-addresses --show-raw-insn
#name: V850E1 instruction tests
#as: -mv850e1

# Test the new instructions in the V850E1 processor

.*: +file format .*v850.*

Disassembly of section .text:
0x0+00 e0 0f 42 13 [ 	]*bsh	r1, r2
0x0+04 e0 1f 40 23 [ 	]*bsw	sp, gp
0x0+08 05 02  [ 	]*callt	5
0x0+0a e8 3f e4 00 [ 	]*clr1	r7, \[r8\]
0x0+0e f6 17 14 1b [ 	]*cmov	nz, -10, r2, sp
0x0+12 e1 17 34 1b [ 	]*cmov	nz, r1, r2, sp
0x0+16 e0 07 44 01 [ 	]*ctret	
0x0+1a e0 07 46 01 [ 	]*dbret	
0x0+1e 40 f8  [ 	]*dbtrap	
0x0+20 4e 06 00 80 [ 	]*dispose	7, {r24}, r0
0x0+24 4e 06 05 70 [ 	]*dispose	7, {r25 - r27}, r5
0x0+28 e1 17 c0 1a [ 	]*div	r1, r2, sp
0x0+2c e4 2f 80 32 [ 	]*divh	gp, r5, r6
0x0+30 e7 47 82 4a [ 	]*divhu	r7, r8, r9
0x0+34 ea 5f c2 62 [ 	]*divu	r10, r11, r12
0x0+38 e0 6f 44 73 [ 	]*hsw	r13, r14
0x0+3c a1 17 0d 00 [ 	]*ld.bu	13\[r1\], r2
0x0+40 e3 27 11 00 [ 	]*ld.hu	16\[sp\], gp
0x0+44 21 06 78 56 34 12 [ 	]*mov	0x12345678, r1
0x0+4a e5 17 40 1a [ 	]*mul	5, r2, sp
0x0+4e e1 17 20 1a [ 	]*mul	r1, r2, sp
0x0+52 e4 2f 22 32 [ 	]*mulu	gp, r5, r6
0x0+56 e3 2f 46 32 [ 	]*mulu	35, r5, r6
0x0+5a ea 4f e2 00 [ 	]*not1	r9, \[r10\]
0x0+5e a8 07 01 80 [ 	]*prepare	{r24}, 20
0x0+62 a8 07 03 70 [ 	]*prepare	{r25 - r27}, 20, sp
0x0+66 e1 4f e0 00 [ 	]*set1	r9, \[r1\]
0x0+6a ea 47 00 02 [ 	]*sasf	nz, r8
0x0+6e 60 20  [ 	]*sld.bu	0\[ep\], gp
0x0+70 77 28  [ 	]*sld.hu	14\[ep\], r5
0x0+72 a1 00  [ 	]*sxb	r1
0x0+74 e2 00  [ 	]*sxh	r2
0x0+76 ff 07 e6 00 [ 	]*tst1	r0, \[lp\]
0x0+7a 83 00  [ 	]*zxb	sp
0x0+7c c4 00  [ 	]*zxh	gp
0x0+7e 63 ff 9d 00[ 	]*st.w	lp, 156\[sp\]
0x0+82 80 07 0b e8 f6 ff[ 	]*prepare	{r20, r24 - r26}, 0, -10
@


1.6
log
@	* v850-dis.c (disassemble): Place square parentheses around second
	register operand of clr1, not1, set1 and tst1 instructions.

	* config/tc-v850.c (v850_insert_operand): Use a static buffer for
	the error message.

	* gas/v850/v850e1.d: Fix expected disassembly of clr1, not1, set1
	and tst1 insns.
@
text
@d46 1
@


1.5
log
@	* v850-dis.c (disassemble): Always print a closing square brace if
	an opening square brace was printed.
@
text
@d13 1
a13 1
0x0+0a e8 3f e4 00 [ 	]*clr1	r7, r8
d33 1
a33 1
0x0+5a ea 4f e2 00 [ 	]*not1	r9, r10
d36 1
a36 1
0x0+66 e1 4f e0 00 [ 	]*set1	r9, r1
d42 1
a42 1
0x0+76 ff 07 e6 00 [ 	]*tst1	r0, lp
@


1.4
log
@Add support for v850E2 and v850E2V3
@
text
@d45 1
@


1.3
log
@PR gas/3812
* gas/v850/v850e1.d: Correct expected disassembly of cmov insn to account for sign extension.
@
text
@d26 2
a27 2
0x0+3c a1 17 0d 00 [ 	]*ld.bu	13\[r1\],r2
0x0+40 e3 27 11 00 [ 	]*ld.hu	16\[sp\],gp
d38 2
a39 2
0x0+6e 60 20  [ 	]*sld.bu	0\[ep\],gp
0x0+70 77 28  [ 	]*sld.hu	14\[ep\],r5
@


1.2
log
@Add support for the Infineon XC16X.
@
text
@d14 1
a14 1
0x0+0e f6 17 14 1b [ 	]*cmov	nz, 22, r2, sp
@


1.1
log
@Add binutils support for v850e1 processor
@
text
@d14 1
a14 1
0x0+0e f6 17 14 1b [ 	]*cmov	nz, -10, r2, sp
@

