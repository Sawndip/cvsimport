head	1.6;
access;
symbols
	binutils-2_24-branch:1.6.0.10
	binutils-2_24-branchpoint:1.6
	binutils-2_21_1:1.6
	binutils-2_23_2:1.6
	binutils-2_23_1:1.6
	binutils-2_23:1.6
	binutils-2_23-branch:1.6.0.8
	binutils-2_23-branchpoint:1.6
	binutils-2_22_branch:1.6.0.6
	binutils-2_22:1.6
	binutils-2_22-branch:1.6.0.4
	binutils-2_22-branchpoint:1.6
	binutils-2_21:1.6
	binutils-2_21-branch:1.6.0.2
	binutils-2_21-branchpoint:1.6
	binutils-2_20_1:1.5.2.1
	binutils-2_20:1.5
	binutils-arc-20081103-branch:1.3.0.10
	binutils-arc-20081103-branchpoint:1.3
	binutils-2_20-branch:1.5.0.2
	binutils-2_20-branchpoint:1.5
	dje-cgen-play1-branch:1.4.0.2
	dje-cgen-play1-branchpoint:1.4
	arc-20081103-branch:1.3.0.8
	arc-20081103-branchpoint:1.3
	binutils-2_19_1:1.3
	binutils-2_19:1.3
	binutils-2_19-branch:1.3.0.6
	binutils-2_19-branchpoint:1.3
	binutils-2_18:1.3
	binutils-2_18-branch:1.3.0.4
	binutils-2_18-branchpoint:1.3
	binutils-csl-coldfire-4_1-32:1.1.2.1
	binutils-csl-sourcerygxx-4_1-32:1.1.2.1
	binutils-csl-innovasic-fido-3_4_4-33:1.1.2.1
	binutils-csl-coldfire-4_1-30:1.1.2.1
	binutils-csl-sourcerygxx-4_1-30:1.1.2.1
	binutils-csl-coldfire-4_1-28:1.1.2.1
	binutils-csl-sourcerygxx-4_1-29:1.1.2.1
	binutils-csl-sourcerygxx-4_1-28:1.1.2.1
	binutils-csl-arm-2006q3-27:1.1.2.1
	binutils-csl-sourcerygxx-4_1-27:1.1.2.1
	binutils-csl-arm-2006q3-26:1.1.2.1
	binutils-csl-sourcerygxx-4_1-26:1.1.2.1
	binutils-csl-sourcerygxx-4_1-25:1.1.2.1
	binutils-csl-sourcerygxx-4_1-24:1.1.2.1
	binutils-csl-sourcerygxx-4_1-23:1.1.2.1
	binutils-csl-sourcerygxx-4_1-21:1.1.2.1
	binutils-csl-arm-2006q3-21:1.1.2.1
	binutils-csl-sourcerygxx-4_1-22:1.1.2.1
	binutils-csl-palmsource-arm-prelinker-1_0-1:1.1.2.1
	binutils-csl-sourcerygxx-4_1-20:1.1.2.1
	binutils-csl-arm-2006q3-19:1.1.2.1
	binutils-csl-sourcerygxx-4_1-19:1.1.2.1
	binutils-csl-sourcerygxx-4_1-18:1.1.2.1
	binutils-csl-renesas-4_1-9:1.1.2.1
	binutils-csl-renesas-4_1-8:1.1.2.1
	binutils-csl-renesas-4_1-7:1.1.2.1
	binutils-csl-renesas-4_1-6:1.1.2.1
	binutils-csl-sourcerygxx-4_1-17:1.1.2.1
	binutils-csl-sourcerygxx-4_1-14:1.1.2.1
	binutils-csl-sourcerygxx-4_1-15:1.1.2.1
	binutils-csl-sourcerygxx-4_1-13:1.1.2.1
	binutils-2_17:1.3
	binutils-csl-sourcerygxx-4_1-12:1.1.2.1
	binutils-csl-sourcerygxx-3_4_4-21:1.1.2.1
	binutils-csl-sourcerygxx-4_1-9:1.1.2.1
	binutils-csl-sourcerygxx-4_1-8:1.1.2.1
	binutils-csl-sourcerygxx-4_1-7:1.1.2.1
	binutils-csl-arm-2006q1-6:1.1.2.1
	binutils-csl-sourcerygxx-4_1-6:1.1.2.1
	binutils-csl-coldfire-4_1-11:1.1.2.1
	binutils-csl-sourcerygxx-3_4_4-19:1.1.2.1
	binutils-csl-coldfire-4_1-10:1.1.2.1
	binutils-csl-sourcerygxx-4_1-5:1.1.2.1
	binutils-csl-sourcerygxx-4_1-4:1.1.2.1
	binutils-csl-morpho-4_1-4:1.1.2.1
	binutils-csl-sourcerygxx-3_4_4-17:1.1.2.1
	binutils-2_17-branch:1.3.0.2
	binutils-2_17-branchpoint:1.3
	binutils_latest_snapshot:1.6
	binutils-csl-2_17-branch:1.1.0.2;
locks; strict;
comment	@# @;


1.6
date	2010.02.08.14.33.22;	author nickc;	state Exp;
branches;
next	1.5;

1.5
date	2009.06.30.11.57.05;	author nickc;	state Exp;
branches
	1.5.2.1;
next	1.4;

1.4
date	2009.05.05.11.41.32;	author ramana;	state Exp;
branches;
next	1.3;

1.3
date	2006.04.16.11.53.00;	author nickc;	state Exp;
branches;
next	1.2;

1.2
date	2006.04.07.15.08.04;	author pbrook;	state Exp;
branches;
next	1.1;

1.1
date	2006.03.20.20.53.13;	author pbrook;	state dead;
branches
	1.1.2.1;
next	;

1.5.2.1
date	2010.02.11.14.34.43;	author clyon;	state Exp;
branches;
next	;

1.1.2.1
date	2006.03.20.20.53.13;	author pbrook;	state Exp;
branches;
next	;


desc
@@


1.6
log
@        * objdump.c (disassemble_bytes): Clear aux->reloc before printing
        a new address, so as not to reuse a previous, non-related reloc.

        * gas/arm/arm-it-auto.d, gas/arm/bl-local-v4t.d,
        gas/arm/blx-local.d, gas/arm/thumb-w-good.d: Update expected
        results.
@
text
@#name: Local BLX instructions
#objdump: -drw --prefix-addresses --show-raw-insn
#skip: *-*-*coff *-*-pe *-*-wince *-*-*aout* *-*-netbsd *-*-riscix* *-*-elf
#as:
# stderr: blx-local.l
# Test assembler resolution of blx and bl instructions in ARM mode.
.*: +file format .*arm.*

Disassembly of section .text:
0+00 <[^>]*> fa000006 	blx	00000020 <foo>
0+04 <[^>]*> eb000007 	bl	00000028 <foo2>
0+08 <[^>]*> fa000004 	blx	00000020 <foo>
0+0c <[^>]*> eb000005 	bl	00000028 <foo2>
0+10 <[^>]*> fa00000b 	blx	00000044 <fooundefarm>
0+14 <[^>]*> eb00000a 	bl	00000044 <fooundefarm>
0+18 <[^>]*> fa000001 	blx	00000024 <fooundefthumb>
0+1c <[^>]*> eb000000 	bl	00000024 <fooundefthumb>
0+20 <[^>]*> 46c0      	nop			; \(mov r8, r8\)
0+22 <[^>]*> 46c0      	nop			; \(mov r8, r8\)
0+24 <[^>]*> 46c0      	nop			; \(mov r8, r8\)
0+26 <[^>]*> 46c0      	nop			; \(mov r8, r8\)
0+28 <[^>]*> 0bfffffd 	bleq	00000024 <fooundefthumb>
0+2c <[^>]*> 0afffffc 	beq	00000024 <fooundefthumb>
0+30 <[^>]*> eafffffb 	b	00000024 <fooundefthumb>
0+34 <[^>]*> 0bfffffe 	bleq	00000020 <foo>	34: R_ARM_JUMP24	foo
0+38 <[^>]*> 0afffffe 	beq	00000020 <foo>	38: R_ARM_JUMP24	foo
0+3c <[^>]*> eafffffe 	b	00000020 <foo>	3c: R_ARM_JUMP24	foo
0+40 <[^>]*> e1a00000 	nop			; \(mov r0, r0\)
0+44 <[^>]*> e1a00000 	nop			; \(mov r0, r0\)
@


1.5
log
@        PR 10288
        * arm-dis.c (coprocessor): Print the LDC and STC versions of the
        LFM and SFM instructions as comments,.
        Improve consistency of formatting for instructions displayed as
        comments and decimal values displayed with their hexadecimal
        equivalents.
        Formatting tidy ups.

        Updated expected disassembler regexps.
@
text
@d26 4
a29 4
0+58 <[^>]*> 0afffffe 	beq	00000020 <foo>	38: R_ARM_JUMP24	foo
0+5c <[^>]*> eafffffe 	b	00000020 <foo>	3c: R_ARM_JUMP24	foo
0+60 <[^>]*> e1a00000 	nop			; \(mov r0, r0\)
0+64 <[^>]*> e1a00000 	nop			; \(mov r0, r0\)
@


1.5.2.1
log
@2010-02-05  Christophe Lyon  <christophe.lyon@@st.com>

	binutils/
	* objdump.c (disassemble_bytes): Clear aux->reloc before printing
	a new address, so as not to reuse a previous, non-related reloc.

	gas/testsuite/
	* gas/arm/arm-it-auto.d, gas/arm/bl-local-v4t.d,
	gas/arm/blx-local.d, gas/arm/thumb-w-good.d: Update expected
	results.
@
text
@d26 4
a29 4
0+38 <[^>]*> 0afffffe 	beq	00000020 <foo>	38: R_ARM_JUMP24	foo
0+3c <[^>]*> eafffffe 	b	00000020 <foo>	3c: R_ARM_JUMP24	foo
0+40 <[^>]*> e1a00000 	nop			; \(mov r0, r0\)
0+44 <[^>]*> e1a00000 	nop			; \(mov r0, r0\)
@


1.4
log
@Fix local branches for bl and blx.
@
text
@d3 1
a3 1
#skip: *-*-*coff *-*-pe *-*-wince *-*-*aout* *-*-netbsd *-*-riscix*
d18 4
a21 4
0+20 <[^>]*> 46c0      	nop			\(mov r8, r8\)
0+22 <[^>]*> 46c0      	nop			\(mov r8, r8\)
0+24 <[^>]*> 46c0      	nop			\(mov r8, r8\)
0+26 <[^>]*> 46c0      	nop			\(mov r8, r8\)
d28 2
a29 2
0+60 <[^>]*> e1a00000 	nop			\(mov r0,r0\)
0+64 <[^>]*> e1a00000 	nop			\(mov r0,r0\)
@


1.3
log
@Skip ELF specific tests on non-ELF ARM targets
@
text
@d2 1
a2 1
#objdump: -dr --prefix-addresses --show-raw-insn
d5 2
a6 3

# Test assembler resolution of blx instructions.

d10 20
a29 5

0+00 <[^>]*> fa000000 	blx	00+8 <foo>
0+04 <[^>]*> fbffffff 	blx	00+a <foo2>
0+08 <[^>]*> 46c0      	nop			\(mov r8, r8\)
0+0a <[^>]*> 46c0      	nop			\(mov r8, r8\)
@


1.2
log
@2006-04-07  Paul Brook  <paul@@codesourcery.com>

gas/
	* config/tc-arm.c (md_apply_fix): Set H bit on blx instruction.
gas/testsuite/
	* gas/arm/blx-local.d: New test.
	* gas/arm/blx-local.d: New test.
@
text
@d3 1
@


1.1
log
@file blx-local.d was initially added on branch binutils-csl-2_17-branch.
@
text
@d1 14
@


1.1.2.1
log
@2006-03-20  Paul Brook  <paul@@codesourcery.com>

	* gas/config/tc-arm.c (md_apply_fix): Set H bit on blx instruction.

	* gas/testsuite/gas/arm/blx-local.d: New test.
	* gas/testsuite/gas/arm/blx-local.d: New test.
@
text
@a0 14
#name: Local BLX instructions
#objdump: -dr --prefix-addresses --show-raw-insn
#as:

# Test assembler resolution of blx instructions.

.*: +file format .*arm.*

Disassembly of section .text:

0+00 <[^>]*> fa000000 	blx	00+8 <foo>
0+04 <[^>]*> fbffffff 	blx	00+a <foo2>
0+08 <[^>]*> 46c0      	nop			\(mov r8, r8\)
0+0a <[^>]*> 46c0      	nop			\(mov r8, r8\)
@

