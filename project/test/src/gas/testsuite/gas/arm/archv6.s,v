head	1.4;
access;
symbols
	binutils-2_24-branch:1.4.0.2
	binutils-2_24-branchpoint:1.4
	binutils-2_21_1:1.3
	binutils-2_23_2:1.3.20.1
	binutils-2_23_1:1.3
	binutils-2_23:1.3
	binutils-2_23-branch:1.3.0.20
	binutils-2_23-branchpoint:1.3
	binutils-2_22_branch:1.3.0.18
	binutils-2_22:1.3
	binutils-2_22-branch:1.3.0.16
	binutils-2_22-branchpoint:1.3
	binutils-2_21:1.3
	binutils-2_21-branch:1.3.0.14
	binutils-2_21-branchpoint:1.3
	binutils-2_20_1:1.3
	binutils-2_20:1.3
	binutils-arc-20081103-branch:1.3.0.12
	binutils-arc-20081103-branchpoint:1.3
	binutils-2_20-branch:1.3.0.10
	binutils-2_20-branchpoint:1.3
	dje-cgen-play1-branch:1.3.0.8
	dje-cgen-play1-branchpoint:1.3
	arc-20081103-branch:1.3.0.6
	arc-20081103-branchpoint:1.3
	binutils-2_19_1:1.3
	binutils-2_19:1.3
	binutils-2_19-branch:1.3.0.4
	binutils-2_19-branchpoint:1.3
	binutils-2_18:1.3
	binutils-2_18-branch:1.3.0.2
	binutils-2_18-branchpoint:1.3
	binutils-csl-coldfire-4_1-32:1.1
	binutils-csl-sourcerygxx-4_1-32:1.1
	binutils-csl-innovasic-fido-3_4_4-33:1.1
	binutils-csl-sourcerygxx-3_4_4-32:1.1
	binutils-csl-coldfire-4_1-30:1.1
	binutils-csl-sourcerygxx-4_1-30:1.1
	binutils-csl-coldfire-4_1-28:1.1
	binutils-csl-sourcerygxx-4_1-29:1.1
	binutils-csl-sourcerygxx-4_1-28:1.1
	binutils-csl-arm-2006q3-27:1.1
	binutils-csl-sourcerygxx-4_1-27:1.1
	binutils-csl-arm-2006q3-26:1.1
	binutils-csl-sourcerygxx-4_1-26:1.1
	binutils-csl-sourcerygxx-4_1-25:1.1
	binutils-csl-sourcerygxx-4_1-24:1.1
	binutils-csl-sourcerygxx-4_1-23:1.1
	binutils-csl-sourcerygxx-4_1-21:1.1
	binutils-csl-arm-2006q3-21:1.1
	binutils-csl-sourcerygxx-4_1-22:1.1
	binutils-csl-palmsource-arm-prelinker-1_0-1:1.1
	binutils-csl-sourcerygxx-4_1-20:1.1
	binutils-csl-arm-2006q3-19:1.1
	binutils-csl-sourcerygxx-4_1-19:1.1
	binutils-csl-sourcerygxx-4_1-18:1.1
	binutils-csl-renesas-4_1-9:1.1
	binutils-csl-sourcerygxx-3_4_4-25:1.1
	binutils-csl-renesas-4_1-8:1.1
	binutils-csl-renesas-4_1-7:1.1
	binutils-csl-renesas-4_1-6:1.1
	binutils-csl-sourcerygxx-4_1-17:1.1
	binutils-csl-sourcerygxx-4_1-14:1.1
	binutils-csl-sourcerygxx-4_1-15:1.1
	binutils-csl-sourcerygxx-4_1-13:1.1
	binutils-2_17:1.1
	binutils-csl-sourcerygxx-4_1-12:1.1
	binutils-csl-sourcerygxx-3_4_4-21:1.1
	binutils-csl-wrs-linux-3_4_4-24:1.1
	binutils-csl-wrs-linux-3_4_4-23:1.1
	binutils-csl-sourcerygxx-4_1-9:1.1
	binutils-csl-sourcerygxx-4_1-8:1.1
	binutils-csl-sourcerygxx-4_1-7:1.1
	binutils-csl-arm-2006q1-6:1.1
	binutils-csl-sourcerygxx-4_1-6:1.1
	binutils-csl-wrs-linux-3_4_4-22:1.1
	binutils-csl-coldfire-4_1-11:1.1
	binutils-csl-sourcerygxx-3_4_4-19:1.1
	binutils-csl-coldfire-4_1-10:1.1
	binutils-csl-sourcerygxx-4_1-5:1.1
	binutils-csl-sourcerygxx-4_1-4:1.1
	binutils-csl-wrs-linux-3_4_4-21:1.1
	binutils-csl-morpho-4_1-4:1.1
	binutils-csl-sourcerygxx-3_4_4-17:1.1
	binutils-csl-wrs-linux-3_4_4-20:1.1
	binutils-2_17-branch:1.1.0.16
	binutils-2_17-branchpoint:1.1
	binutils-csl-2_17-branch:1.1.0.14
	binutils-csl-2_17-branchpoint:1.1
	binutils-csl-gxxpro-3_4-branch:1.1.0.12
	binutils-csl-gxxpro-3_4-branchpoint:1.1
	binutils-2_16_1:1.1
	binutils-csl-arm-2005q1b:1.1
	binutils-2_16:1.1
	binutils-csl-arm-2005q1a:1.1
	binutils-csl-arm-2005q1-branch:1.1.0.10
	binutils-csl-arm-2005q1-branchpoint:1.1
	binutils-2_16-branch:1.1.0.8
	binutils-2_16-branchpoint:1.1
	csl-arm-2004-q3d:1.1
	csl-arm-2004-q3:1.1
	binutils-2_15:1.1
	binutils-2_15-branchpoint:1.1
	csl-arm-2004-q1a:1.1
	csl-arm-2004-q1:1.1
	binutils-2_15-branch:1.1.0.6
	cagney_bfdfile-20040213-branch:1.1.0.4
	cagney_bfdfile-20040213-branchpoint:1.1
	cagney_bigcore-20040122-branch:1.1.0.2
	cagney_bigcore-20040122-branchpoint:1.1
	csl-arm-2003-q4:1.1
	binutils_latest_snapshot:1.4;
locks; strict;
comment	@# @;


1.4
date	2012.12.20.16.19.53;	author rearnsha;	state Exp;
branches;
next	1.3;

1.3
date	2007.03.24.01.28.58;	author pbrook;	state Exp;
branches
	1.3.20.1;
next	1.2;

1.2
date	2007.01.04.20.08.36;	author pbrook;	state Exp;
branches;
next	1.1;

1.1
date	2003.12.06.01.25.29;	author mmitchel;	state Exp;
branches;
next	;

1.3.20.1
date	2012.12.20.16.30.18;	author rearnsha;	state Exp;
branches;
next	;


desc
@@


1.4
log
@2012-12-20  Greta Yorsh  <Greta.Yorsh@@arm.com>

	* config/tc-arm.c (rfefa,rfeea,rfeed): Fix encoding.
	(rfe,srs,srsea,srsfa,srsed,srsfd): Add missing mnemonics.

	* gas/arm/srs-t2.s: Add tests for missing srs modes.
	* gas/arm/srs-t2.l: Update expected output.
	* gas/arm/srs-arm.s: Add tests for missing srs modes.
	* gas/arm/srs-arm.l: Update expected output.
	* gas/arm/archv6.s: Add tests for missing rfe modes.
	* gas/arm/archv6.d: Update expected output.
@
text
@.text
.align 0

label:
	cps #15
	cpsid if
	cpsie if
	ldrex r2, [r4]
	ldrexne r4, [r8]
	mcrr2 p0, 12, r7, r5, c3
	mrrc2 p0, 12, r7, r5, c3
	pkhbt	r2, r5, r8
	pkhbt	r2, r5, r8, LSL #3
	pkhbtal	r2, r5, r8, LSL #3
	pkhbteq	r2, r5, r8, LSL #3	
	pkhtb	r2, r5, r8	@@ Equivalent to pkhbt r2, r8, r5.
	pkhtb	r2, r5, r8, ASR #3
	pkhtbal	r2, r5, r8, ASR #3
	pkhtbeq	r2, r5, r8, ASR #3
	qadd16	r2, r4, r7
	qadd16ne r2, r4, r7	
	qadd8	r2, r4, r7
	qadd8ne r2, r4, r7
	qaddsubx	r2, r4, r7
	qaddsubxne	r2, r4, r7
	qsub16	 r2, r4, r7
	qsub16ne r2, r4, r7
	qsub8	 r2, r4, r7
	qsub8ne r2, r4, r7
	qsubaddx	 r2, r4, r7
	qsubaddx r2, r4, r7
	rev	r2, r4
	rev16	r2, r4
	rev16ne   r3, r5
	revne   r3, r5
	revsh	r2, r4
	revshne   r3, r5
        rfeda   r2
        rfefa   r2!
        rfedb   r2
        rfeea   r2!
        rfeia   r2
        rfefd   r2!
        rfeib   r2
        rfeed   r2!
        rfe     r2
        rfe     r2!
	sadd16	 r2, r4, r7
	sadd16ne r2, r4, r7
	sxtah r2, r4, r5
	sxtah r2, r4, r5, ROR #8
	sxtahne r2, r4, r5
	sxtahne r2, r4, r5, ROR #8
	sadd8	 r2, r4, r7
	sadd8ne r2, r4, r7
	sxtab16 r2, r4, r5
	sxtab16 r2, r4, r5, ROR #8
	sxtab16ne r2, r4, r5
	sxtab16ne r2, r4, r5, ROR #8
	sxtab r2, r4, r5
	sxtab r2, r4, r5, ROR #8
	sxtabne r2, r4, r5
	sxtabne r2, r4, r5, ROR #8
	saddsubx	 r2, r4, r7
	saddsubxne r2, r4, r7
	sel r1, r2, r3
	selne r1, r2, r3
	setend be
	setend le
	shadd16	 r2, r4, r7
	shadd16ne r2, r4, r7
	shadd8	 r2, r4, r7
	shadd8ne r2, r4, r7
	shaddsubx	 r2, r4, r7
	shaddsubxne r2, r4, r7
	shsub16	 r2, r4, r7
	shsub16ne r2, r4, r7
	shsub8	 r2, r4, r7
	shsub8ne r2, r4, r7
	shsubaddx	 r2, r4, r7
	shsubaddxne r2, r4, r7
	smlad r1,r2,r3,r4
	smladle r1,r2,r3,r4
	smladx r1,r2,r3,r4
	smladxle r1,r2,r3,r4
	smlald r1,r2,r3,r4
	smlaldle r1,r2,r3,r4
	smlaldx r1,r2,r3,r4
	smlaldxle r1,r2,r3,r4
	smlsd r1,r2,r3,r4
	smlsdle r1,r2,r3,r4
	smlsdx r1,r2,r3,r4
	smlsdxle r1,r2,r3,r4	
	smlsld r1,r2,r3,r4	
	smlsldle r1,r2,r3,r4
	smlsldx r1,r2,r3,r4
	smlsldxle r1,r2,r3,r4	
	smmla r1,r2,r3,r4	
	smmlale r1,r2,r3,r4
	smmlar r1,r2,r3,r4
	smmlarle r1,r2,r3,r4	
	smmls r1,r2,r3,r4	
	smmlsle r1,r2,r3,r4
	smmlsr r1,r2,r3,r4
	smmlsrle r1,r2,r3,r4	
	smmul r1,r2,r3
	smmulle r1,r2,r3
	smmulr r1,r2,r3
	smmulrle r1,r2,r3
	smuad r1,r2,r3
	smuadle r1,r2,r3
	smuadx r1,r2,r3
	smuadxle r1,r2,r3
	smusd r1,r2,r3
	smusdle r1,r2,r3
	smusdx r1,r2,r3
	smusdxle r1,r2,r3
	srsia #16
	srsib #16!
	ssat r1, #1, r2
	ssat r1, #1, r2, ASR #2
	ssat r1, #1, r2, LSL #2
	ssat16 r1, #1, r1
	ssat16le r1, #1, r1
	ssub16	 r2, r4, r7
	ssub16ne r2, r4, r7
	ssub8	 r2, r4, r7
	ssub8ne r2, r4, r7
	ssubaddx	 r2, r4, r7
	ssubaddxne r2, r4, r7
	strex r1, r2, [r3]
	strexne r1, r2, [r3]
	sxth r2, r5
	sxth r2, r5, ROR #8
	sxthne r2, r5
	sxthne r2, r5, ROR #8
	sxtb16 r2, r5
	sxtb16 r2, r5, ROR #8
	sxtb16ne r2, r5
	sxtb16ne r2, r5, ROR #8
	sxtb r2, r5
	sxtb r2, r5, ROR #8
	sxtbne r2, r5
	sxtbne r2, r5, ROR #8
	uadd16	 r2, r4, r7
	uadd16ne r2, r4, r7
	uxtah r2, r3, r5
	uxtah r2, r3, r5, ROR #8
	uxtahne r2, r3, r5
	uxtahne r2, r3, r5, ROR #8
	uadd8	 r2, r4, r7
	uadd8ne r2, r4, r7
	uxtab16 r2, r3, r5
	uxtab16 r2, r3, r5, ROR #8
	uxtab16ne r2, r3, r5
	uxtab16ne r2, r3, r5, ROR #8
	uxtab r2, r3, r5
	uxtab r2, r3, r5, ROR #8
	uxtabne r2, r3, r5
	uxtabne r2, r3, r5, ROR #8
	uaddsubx	 r2, r4, r7
	uaddsubxne r2, r4, r7
	uhadd16	 r2, r4, r7
	uhadd16ne r2, r4, r7
	uhadd8	 r2, r4, r7
	uhadd8ne r2, r4, r7
	uhaddsubx	 r2, r4, r7
	uhaddsubxne r2, r4, r7
	uhsub16	 r2, r4, r7
	uhsub16ne r2, r4, r7
	uhsub8	 r2, r4, r7
	uhsub8ne r2, r4, r7
	uhsubaddx	 r2, r4, r7
	uhsubaddxne r2, r4, r7
	umaal	r1, r2, r3, r4
	umaalle	r1, r2, r3, r4	
	uqadd16	 r2, r4, r7
	uqadd16ne r2, r4, r7
	uqadd8	 r2, r4, r7
	uqadd8ne r2, r4, r7
	uqaddsubx	 r2, r4, r7
	uqaddsubxne r2, r4, r7
	uqsub16	 r2, r4, r7
	uqsub16ne r2, r4, r7
	uqsub8	 r2, r4, r7
	uqsub8ne r2, r4, r7
	uqsubaddx	 r2, r4, r7
	uqsubaddxne r2, r4, r7
	usad8 r1, r2, r3
	usad8ne r1, r2, r3
	usada8 r1, r2, r3, r4
	usada8ne r1, r2, r3, r4
	usat r1, #15, r2
	usat r1, #15, r2, ASR #4
	usat r1, #15, r2, LSL #4
	usat16 r1, #15, r2
	usat16le r1, #15, r2
	usatle r1, #15, r2
	usatle r1, #15, r2, ASR #4
	usatle r1, #15, r2, LSL #4
	usub16	 r2, r4, r7
	usub16ne r2, r4, r7
	usub8	 r2, r4, r7
	usub8ne r2, r4, r7
	usubaddx	 r2, r4, r7
	usubaddxne r2, r4, r7
	uxth r2, r5
	uxth r2, r5, ROR #8
	uxthne r2, r5
	uxthne r2, r5, ROR #8
	uxtb16 r2, r5
	uxtb16 r2, r5, ROR #8
	uxtb16ne r2, r5
	uxtb16ne r2, r5, ROR #8
	uxtb r2, r5
	uxtb r2, r5, ROR #8
	uxtbne r2, r5
	uxtbne r2, r5, ROR #8
	cpsie if, #10
	cpsie if, #21
	srsia sp, #16
	srsib sp!, #16
@


1.3
log
@2007-03-24  Paul Brook  <paul@@codesourcery.com>
	Mark Shinwell  <shinwell@@codesourcery.com>

	gas/
	* config/tc-arm.c (operand_parse_code): Add OP_oRRw.
	(parse_operands): Don't expect comma if first operand missing.
	Handle OP_oRRw.
	(do_srs): Encode register number, checking it is r13.  Update comment.
	(insns): Update SRS entries to take a register.

	gas/testsuite/
	* gas/arm/archv6.s: Add new SRS tests.
	* gas/arm/archv6.d: Update expected output.
	* gas/arm/thumb32.s: Add new SRS tests.
	* gas/arm/thumb32.d: Update expected output.
	* gas/arm/srs-t2.d: New.
	* gas/arm/srs-t2.l: New.
	* gas/arm/srs-t2.s: New.
	* gas/arm/srs-arm.d: New.
	* gas/arm/srs-arm.l: New.
	* gas/arm/srs-arm.s: New.

	opcodes/
	* arm-dis.c (arm_opcodes): Print SRS base register.
@
text
@d38 10
a47 8
	rfeda	r2
	rfedb	r2!
	rfeea	r2
	rfeed	r2!
	rfefa	r2!
	rfefd	r2
	rfeia	r2
	rfeib	r2!
@


1.3.20.1
log
@2012-12-20  Greta Yorsh  <Greta.Yorsh@@arm.com>

	* config/tc-arm.c (rfefa,rfeea,rfeed): Fix encoding.
	(rfe,srs,srsea,srsfa,srsed,srsfd): Add missing mnemonics.

	* gas/arm/srs-t2.s: Add tests for missing srs modes.
	* gas/arm/srs-t2.l: Update expected output.
	* gas/arm/srs-arm.s: Add tests for missing srs modes.
	* gas/arm/srs-arm.l: Update expected output.
	* gas/arm/archv6.s: Add tests for missing rfe modes.
	* gas/arm/archv6.d: Update expected output.
@
text
@d38 8
a45 10
        rfeda   r2
        rfefa   r2!
        rfedb   r2
        rfeea   r2!
        rfeia   r2
        rfefd   r2!
        rfeib   r2
        rfeed   r2!
        rfe     r2
        rfe     r2!
@


1.2
log
@2007-01-04  Paul Brook  <paul@@codesourcery.com>

	gas/
	* config/tc-arm.c (do_cpsi): Set mmod bit for 2 argument form.
	gas/testsuite/
	* gas/arm/archv6.s: Add more cpsie tests.
	* gas/arm/archv6.d: Ditto.
	opcodes/
	* arm-dis.c (arm_opcodes): Fix cpsie and cpsid entries.
@
text
@d219 2
@


1.1
log
@	* gas/arm/arm.exp: Add archv6 and thumbv6.
	* gas/arm/archv6.d: New file.
	* gas/arm/archv6.s: Likewise.
	* gas/arm/thumbv6.d: Likewise.
	* gas/arm/thumbv6.s: Likewise.

	Add V6 support.
	* config/tc-arm.c (ARM_EXT_V6): New macro.
	(ARM_ARCH_V6): Likewise.
	(SHIFT_IMMEDIATE): Likewise.
	(SHIFT_LSL_OR_ASR_IMMEDIATE): Likewise.
	(SHIFT_ASR_IMMEDIATE): Likewise.
	(SHIFT_LSL_IMMMEDIATE): Likewise.
	(do_cps): New function.
	(do_cpsi): Likewise.
	(do_ldrex): Likewise.
	(do_pkhbt): Likewise.
	(do_pkhtb): Likewise.
	(do_qadd16): Likewise.
	(do_rev): Likewise.
	(do_rfe): Likewise.
	(do_sxtah): Likewise.
	(do_sxth): Likewise.
	(do_setend): Likewise.
	(do_smlad): Likewise.
	(do_smlald): Likewise.
	(do_smmul): Likewise.
	(do_ssat): Likewise.
	(do_usat): Likewise.
	(do_srs): Likewise.
	(do_ssat16): Likewise.
	(do_usat16): Likewise.
	(do_strex): Likewise.
	(do_umaal): Likewise.
	(do_cps_mode): Likewise.
	(do_cps_flags): Likewise.
	(do_endian_specifier): Likewise.
	(do_pkh_core): Likewise.
	(do_sat): Likewise.
	(do_sat16): Likewise.
	(insns): Add V6 instructions.
	(do_t_cps): New function.
	(do_t_cpy): Likewise.
	(do_t_setend): Likewise.
	(THUMB_CPY): New macro.
	(tinsns): Add V6 instructions.
	(decode_shift): Handle V6 restricted-shift options.
	(thumb_mov_compare): Support CPY.
	(arm_cores): Add arm1136js and arm1136jfs.
	(arm_archs): Add armv6.
	(arm_fpus): Add arm1136jfs.
	* doc/c-arm.texi (ARM Options): Mention arm1136js, arm1136jfs, and
	armv6 options.

	* gas/arm/arm.exp: Add archv6 and thumbv6.
	* gas/arm/archv6.d: New file.
	* gas/arm/archv6.s: Likewise.
	* gas/arm/thumbv6.d: Likewise.
	* gas/arm/thumbv6.s: Likewise.

	* arm-dis.c (print_arm_insn): Add 'W' macro.
	* arm-opc.h (arm_opcodes): Add V6 instructions.
	(thumb_opcodes): Likewise.
@
text
@d217 2
@

