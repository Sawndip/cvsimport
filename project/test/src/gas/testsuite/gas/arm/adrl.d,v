head	1.8;
access;
symbols
	binutils-2_24-branch:1.8.0.4
	binutils-2_24-branchpoint:1.8
	binutils-2_21_1:1.7
	binutils-2_23_2:1.8
	binutils-2_23_1:1.8
	binutils-2_23:1.8
	binutils-2_23-branch:1.8.0.2
	binutils-2_23-branchpoint:1.8
	binutils-2_22_branch:1.7.0.8
	binutils-2_22:1.7
	binutils-2_22-branch:1.7.0.6
	binutils-2_22-branchpoint:1.7
	binutils-2_21:1.7
	binutils-2_21-branch:1.7.0.4
	binutils-2_21-branchpoint:1.7
	binutils-2_20_1:1.7
	binutils-2_20:1.7
	binutils-arc-20081103-branch:1.6.0.28
	binutils-arc-20081103-branchpoint:1.6
	binutils-2_20-branch:1.7.0.2
	binutils-2_20-branchpoint:1.7
	dje-cgen-play1-branch:1.6.0.26
	dje-cgen-play1-branchpoint:1.6
	arc-20081103-branch:1.6.0.24
	arc-20081103-branchpoint:1.6
	binutils-2_19_1:1.6
	binutils-2_19:1.6
	binutils-2_19-branch:1.6.0.22
	binutils-2_19-branchpoint:1.6
	binutils-2_18:1.6
	binutils-2_18-branch:1.6.0.20
	binutils-2_18-branchpoint:1.6
	binutils-csl-coldfire-4_1-32:1.6
	binutils-csl-sourcerygxx-4_1-32:1.6
	binutils-csl-innovasic-fido-3_4_4-33:1.6
	binutils-csl-sourcerygxx-3_4_4-32:1.6
	binutils-csl-coldfire-4_1-30:1.6
	binutils-csl-sourcerygxx-4_1-30:1.6
	binutils-csl-coldfire-4_1-28:1.6
	binutils-csl-sourcerygxx-4_1-29:1.6
	binutils-csl-sourcerygxx-4_1-28:1.6
	binutils-csl-arm-2006q3-27:1.6
	binutils-csl-sourcerygxx-4_1-27:1.6
	binutils-csl-arm-2006q3-26:1.6
	binutils-csl-sourcerygxx-4_1-26:1.6
	binutils-csl-sourcerygxx-4_1-25:1.6
	binutils-csl-sourcerygxx-4_1-24:1.6
	binutils-csl-sourcerygxx-4_1-23:1.6
	binutils-csl-sourcerygxx-4_1-21:1.6
	binutils-csl-arm-2006q3-21:1.6
	binutils-csl-sourcerygxx-4_1-22:1.6
	binutils-csl-palmsource-arm-prelinker-1_0-1:1.6
	binutils-csl-sourcerygxx-4_1-20:1.6
	binutils-csl-arm-2006q3-19:1.6
	binutils-csl-sourcerygxx-4_1-19:1.6
	binutils-csl-sourcerygxx-4_1-18:1.6
	binutils-csl-renesas-4_1-9:1.6
	binutils-csl-sourcerygxx-3_4_4-25:1.6
	binutils-csl-renesas-4_1-8:1.6
	binutils-csl-renesas-4_1-7:1.6
	binutils-csl-renesas-4_1-6:1.6
	binutils-csl-sourcerygxx-4_1-17:1.6
	binutils-csl-sourcerygxx-4_1-14:1.6
	binutils-csl-sourcerygxx-4_1-15:1.6
	binutils-csl-sourcerygxx-4_1-13:1.6
	binutils-2_17:1.6
	binutils-csl-sourcerygxx-4_1-12:1.6
	binutils-csl-sourcerygxx-3_4_4-21:1.6
	binutils-csl-wrs-linux-3_4_4-24:1.6
	binutils-csl-wrs-linux-3_4_4-23:1.6
	binutils-csl-sourcerygxx-4_1-9:1.6
	binutils-csl-sourcerygxx-4_1-8:1.6
	binutils-csl-sourcerygxx-4_1-7:1.6
	binutils-csl-arm-2006q1-6:1.6
	binutils-csl-sourcerygxx-4_1-6:1.6
	binutils-csl-wrs-linux-3_4_4-22:1.6
	binutils-csl-coldfire-4_1-11:1.6
	binutils-csl-sourcerygxx-3_4_4-19:1.6
	binutils-csl-coldfire-4_1-10:1.6
	binutils-csl-sourcerygxx-4_1-5:1.6
	binutils-csl-sourcerygxx-4_1-4:1.6
	binutils-csl-wrs-linux-3_4_4-21:1.6
	binutils-csl-morpho-4_1-4:1.6
	binutils-csl-sourcerygxx-3_4_4-17:1.6
	binutils-csl-wrs-linux-3_4_4-20:1.6
	binutils-2_17-branch:1.6.0.18
	binutils-2_17-branchpoint:1.6
	binutils-csl-2_17-branch:1.6.0.16
	binutils-csl-2_17-branchpoint:1.6
	binutils-csl-gxxpro-3_4-branch:1.6.0.14
	binutils-csl-gxxpro-3_4-branchpoint:1.6
	binutils-2_16_1:1.6
	binutils-csl-arm-2005q1b:1.6
	binutils-2_16:1.6
	binutils-csl-arm-2005q1a:1.6
	binutils-csl-arm-2005q1-branch:1.6.0.12
	binutils-csl-arm-2005q1-branchpoint:1.6
	binutils-2_16-branch:1.6.0.10
	binutils-2_16-branchpoint:1.6
	csl-arm-2004-q3d:1.6
	csl-arm-2004-q3:1.6
	binutils-2_15:1.6
	binutils-2_15-branchpoint:1.6
	csl-arm-2004-q1a:1.6
	csl-arm-2004-q1:1.6
	binutils-2_15-branch:1.6.0.8
	cagney_bfdfile-20040213-branch:1.6.0.6
	cagney_bfdfile-20040213-branchpoint:1.6
	cagney_bigcore-20040122-branch:1.6.0.4
	cagney_bigcore-20040122-branchpoint:1.6
	csl-arm-2003-q4:1.6
	binutils-2_14:1.6
	binutils-2_14-branch:1.6.0.2
	binutils-2_14-branchpoint:1.6
	binutils-2_13_2_1:1.4
	binutils-2_13_2:1.4
	binutils-2_13_1:1.4
	binutils-2_13:1.4
	binutils-2_13-branchpoint:1.4
	binutils-2_13-branch:1.4.0.4
	binutils-2_12_1:1.4
	binutils-2_12:1.4
	binutils-2_12-branch:1.4.0.2
	binutils-2_12-branchpoint:1.4
	cygnus_cvs_20020108_pre:1.4
	binutils-2_11_2:1.2.2.1
	binutils-2_11_1:1.2.2.1
	binutils-2_11:1.2
	x86_64versiong3:1.2
	binutils-2_11-branch:1.2.0.2
	binutils_latest_snapshot:1.8;
locks; strict;
comment	@# @;


1.8
date	2011.10.18.14.41.54;	author jules;	state Exp;
branches;
next	1.7;

1.7
date	2009.06.30.11.57.05;	author nickc;	state Exp;
branches;
next	1.6;

1.6
date	2002.12.05.11.47.16;	author amodra;	state Exp;
branches;
next	1.5;

1.5
date	2002.12.03.11.28.33;	author amodra;	state Exp;
branches;
next	1.4;

1.4
date	2001.06.21.19.46.54;	author nickc;	state Exp;
branches;
next	1.3;

1.3
date	2001.05.24.20.02.15;	author hjl;	state Exp;
branches;
next	1.2;

1.2
date	2001.01.11.18.42.58;	author nickc;	state Exp;
branches
	1.2.2.1;
next	1.1;

1.1
date	2001.01.01.13.43.06;	author pb;	state Exp;
branches;
next	;

1.2.2.1
date	2001.06.11.10.04.56;	author amodra;	state Exp;
branches;
next	;


desc
@@


1.8
log
@    Jie Zhang  <jie@@codesourcery.com>
    Julian Brown  <julian@@codesourcery.com>

    gas/
    * config/tc-arm.c (parse_shifter_operand): Fix handling
    of explicit rotation.
    (encode_arm_shifter_operand): Likewise.

    gas/testsuite/
    * gas/arm/adrl.d: Adjust.
    * gas/arm/immed2.d: New test.
    * gas/arm/immed2.s: New test.

    ld/testsuite/
    * ld-arm/cortex-a8-fix-b-plt.d: Adjust.
    * ld-arm/cortex-a8-fix-bcc-plt.d: Adjust.
    * ld-arm/cortex-a8-fix-bl-plt.d: Adjust.
    * ld-arm/cortex-a8-fix-bl-rel-plt.d: Adjust.
    * ld-arm/cortex-a8-fix-blx-plt.d: Adjust.
    * ld-arm/ifunc-1.dd: Adjust.
    * ld-arm/ifunc-2.dd: Adjust.
    * ld-arm/ifunc-3.dd: Adjust.
    * ld-arm/ifunc-4.dd: Adjust.
    * ld-arm/ifunc-5.dd: Adjust.
    * ld-arm/ifunc-6.dd: Adjust.
    * ld-arm/ifunc-7.dd: Adjust.
    * ld-arm/ifunc-8.dd: Adjust.
    * ld-arm/ifunc-9.dd: Adjust.
    * ld-arm/ifunc-10.dd: Adjust.
    * ld-arm/ifunc-14.dd: Adjust.
    * ld-arm/ifunc-15.dd: Adjust.
    * ld-arm/ifunc-16.dd: Adjust.

    opcodes/
    * arm-dis.c (print_insn_arm): Explicitly specify rotation
    if needed.
@
text
@#objdump: -dr --prefix-addresses --show-raw-insn
#name: ADRL

# Test the `ADRL' pseudo-op

.*: +file format .*arm.*

Disassembly of section .text:
	...
0+2000 <.*> e24f0008 	sub	r0, pc, #8
0+2004 <.*> e2400c20 	sub	r0, r0, #32, 24	; 0x2000
0+2008 <.*> e28f0020 	add	r0, pc, #32
0+200c <.*> e2800c20 	add	r0, r0, #32, 24	; 0x2000
0+2010 <.*> e24f0018 	sub	r0, pc, #24
0+2014 <.*> e1a00000 	nop			; \(mov r0, r0\)
0+2018 <.*> e28f0008 	add	r0, pc, #8
0+201c <.*> e1a00000 	nop			; \(mov r0, r0\)
0+2020 <.*> 028f0000 	addeq	r0, pc, #0
0+2024 <.*> e1a00000 	nop			; \(mov r0, r0\)
0+2028 <.*> e24f0030 	sub	r0, pc, #48	; 0x30
0+202c <.*> e2400c20 	sub	r0, r0, #32, 24	; 0x2000
0+2030 <.*> e28f0c21 	add	r0, pc, #8448	; 0x2100
0+2034 <.*> e1a00000 	nop			; \(mov r0, r0\)
	...
0+4030 <.*> e28fec01 	add	lr, pc, #256	; 0x100
	...
	...
@


1.7
log
@        PR 10288
        * arm-dis.c (coprocessor): Print the LDC and STC versions of the
        LFM and SFM instructions as comments,.
        Improve consistency of formatting for instructions displayed as
        comments and decimal values displayed with their hexadecimal
        equivalents.
        Formatting tidy ups.

        Updated expected disassembler regexps.
@
text
@d11 1
a11 1
0+2004 <.*> e2400c20 	sub	r0, r0, #8192	; 0x2000
d13 1
a13 1
0+200c <.*> e2800c20 	add	r0, r0, #8192	; 0x2000
d21 1
a21 1
0+202c <.*> e2400c20 	sub	r0, r0, #8192	; 0x2000
@


1.6
log
@	* gas/arm/adrl.s: Pad end of .text.
	* gas/arm/adrl.d: Adjust to suit.
@
text
@d10 1
a10 1
0+2000 <.*> e24f0008 	sub	r0, pc, #8	; 0x8
d12 1
a12 1
0+2008 <.*> e28f0020 	add	r0, pc, #32	; 0x20
d14 6
a19 6
0+2010 <.*> e24f0018 	sub	r0, pc, #24	; 0x18
0+2014 <.*> e1a00000 	nop			\(mov r0,r0\)
0+2018 <.*> e28f0008 	add	r0, pc, #8	; 0x8
0+201c <.*> e1a00000 	nop			\(mov r0,r0\)
0+2020 <.*> 028f0000 	addeq	r0, pc, #0	; 0x0
0+2024 <.*> e1a00000 	nop			\(mov r0,r0\)
d23 1
a23 1
0+2034 <.*> e1a00000 	nop			\(mov r0,r0\)
@


1.5
log
@	* gas/arm/adrl.s: Test behaviour against globals too.
	* gas/arm/adrl.d: Adjust.
@
text
@d27 1
@


1.4
log
@Allow adrCCl.  [Patch from Phillip BLundel]
Updated ARM tests.
@
text
@d20 6
@


1.3
log
@2001-05-24  H.J. Lu  <hjl@@gnu.org>

	* gas/arm/adrl.d: Support 64bit BFD.
	* gas/arm/arm7t.d: Likewise.
	* gas/arm/inst.d: Likewise.
	* gas/arm/pic.d: Likewise.
	* gas/arm/xscale.d: Likewise.
@
text
@d12 1
a12 1
0+2008 <.*> e28f0018 	add	r0, pc, #24	; 0x18
d16 1
a16 1
0+2018 <.*> e28f0000 	add	r0, pc, #0	; 0x0
d18 2
@


1.2
log
@Make COFF and ELF disassemblys agree
@
text
@d10 8
a17 8
00002000 <.*> e24f0008 	sub	r0, pc, #8	; 0x8
00002004 <.*> e2400c20 	sub	r0, r0, #8192	; 0x2000
00002008 <.*> e28f0018 	add	r0, pc, #24	; 0x18
0000200c <.*> e2800c20 	add	r0, r0, #8192	; 0x2000
00002010 <.*> e24f0018 	sub	r0, pc, #24	; 0x18
00002014 <.*> e1a00000 	nop			\(mov r0,r0\)
00002018 <.*> e28f0000 	add	r0, pc, #0	; 0x0
0000201c <.*> e1a00000 	nop			\(mov r0,r0\)
@


1.2.2.1
log
@Merge from mainline.
@
text
@d10 8
a17 8
0+2000 <.*> e24f0008 	sub	r0, pc, #8	; 0x8
0+2004 <.*> e2400c20 	sub	r0, r0, #8192	; 0x2000
0+2008 <.*> e28f0018 	add	r0, pc, #24	; 0x18
0+200c <.*> e2800c20 	add	r0, r0, #8192	; 0x2000
0+2010 <.*> e24f0018 	sub	r0, pc, #24	; 0x18
0+2014 <.*> e1a00000 	nop			\(mov r0,r0\)
0+2018 <.*> e28f0000 	add	r0, pc, #0	; 0x0
0+201c <.*> e1a00000 	nop			\(mov r0,r0\)
@


1.1
log
@2001-01-01  Philip Blundell  <philb@@gnu.org>

	* gas/arm/adrl.s, gas/arm/pic.s, gas/arm/msr-bad.s: New tests.
	* gas/arm/arm.exp: Run them.
	* gas/arm/adrl.d, gas/arm/pic.d: Expected results for above.
	* gas/arm/arm6.s: Also test uppercase `CPSR' and `SPSR'.
@
text
@d10 8
a17 8
0x00002000 e24f0008 	sub	r0, pc, #8	; 0x8
0x00002004 e2400c20 	sub	r0, r0, #8192	; 0x2000
0x00002008 e28f0018 	add	r0, pc, #24	; 0x18
0x0000200c e2800c20 	add	r0, r0, #8192	; 0x2000
0x00002010 e24f0018 	sub	r0, pc, #24	; 0x18
0x00002014 e1a00000 	nop			\(mov r0,r0\)
0x00002018 e28f0000 	add	r0, pc, #0	; 0x0
0x0000201c e1a00000 	nop			\(mov r0,r0\)
@

