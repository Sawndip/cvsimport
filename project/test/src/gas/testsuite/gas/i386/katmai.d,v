head	1.11;
access;
symbols
	binutils-2_24-branch:1.11.0.20
	binutils-2_24-branchpoint:1.11
	binutils-2_21_1:1.11
	binutils-2_23_2:1.11
	binutils-2_23_1:1.11
	binutils-2_23:1.11
	binutils-2_23-branch:1.11.0.18
	binutils-2_23-branchpoint:1.11
	binutils-2_22_branch:1.11.0.16
	binutils-2_22:1.11
	binutils-2_22-branch:1.11.0.14
	binutils-2_22-branchpoint:1.11
	binutils-2_21:1.11
	binutils-2_21-branch:1.11.0.12
	binutils-2_21-branchpoint:1.11
	binutils-2_20_1:1.11
	binutils-2_20:1.11
	binutils-arc-20081103-branch:1.11.0.10
	binutils-arc-20081103-branchpoint:1.11
	binutils-2_20-branch:1.11.0.8
	binutils-2_20-branchpoint:1.11
	dje-cgen-play1-branch:1.11.0.6
	dje-cgen-play1-branchpoint:1.11
	arc-20081103-branch:1.11.0.4
	arc-20081103-branchpoint:1.11
	binutils-2_19_1:1.11
	binutils-2_19:1.11
	binutils-2_19-branch:1.11.0.2
	binutils-2_19-branchpoint:1.11
	binutils-2_18:1.8
	binutils-2_18-branch:1.8.0.12
	binutils-2_18-branchpoint:1.8
	binutils-csl-coldfire-4_1-32:1.8
	binutils-csl-sourcerygxx-4_1-32:1.8
	binutils-csl-innovasic-fido-3_4_4-33:1.8
	binutils-csl-sourcerygxx-3_4_4-32:1.8
	binutils-csl-coldfire-4_1-30:1.8
	binutils-csl-sourcerygxx-4_1-30:1.8
	binutils-csl-coldfire-4_1-28:1.8
	binutils-csl-sourcerygxx-4_1-29:1.8
	binutils-csl-sourcerygxx-4_1-28:1.8
	binutils-csl-arm-2006q3-27:1.8
	binutils-csl-sourcerygxx-4_1-27:1.8
	binutils-csl-arm-2006q3-26:1.8
	binutils-csl-sourcerygxx-4_1-26:1.8
	binutils-csl-sourcerygxx-4_1-25:1.8
	binutils-csl-sourcerygxx-4_1-24:1.8
	binutils-csl-sourcerygxx-4_1-23:1.8
	binutils-csl-sourcerygxx-4_1-21:1.8
	binutils-csl-arm-2006q3-21:1.8
	binutils-csl-sourcerygxx-4_1-22:1.8
	binutils-csl-palmsource-arm-prelinker-1_0-1:1.8
	binutils-csl-sourcerygxx-4_1-20:1.8
	binutils-csl-arm-2006q3-19:1.8
	binutils-csl-sourcerygxx-4_1-19:1.8
	binutils-csl-sourcerygxx-4_1-18:1.8
	binutils-csl-renesas-4_1-9:1.8
	binutils-csl-sourcerygxx-3_4_4-25:1.8
	binutils-csl-renesas-4_1-8:1.8
	binutils-csl-renesas-4_1-7:1.8
	binutils-csl-renesas-4_1-6:1.8
	binutils-csl-sourcerygxx-4_1-17:1.8
	binutils-csl-sourcerygxx-4_1-14:1.8
	binutils-csl-sourcerygxx-4_1-15:1.8
	binutils-csl-sourcerygxx-4_1-13:1.8
	binutils-2_17:1.8
	binutils-csl-sourcerygxx-4_1-12:1.8
	binutils-csl-sourcerygxx-3_4_4-21:1.8
	binutils-csl-wrs-linux-3_4_4-24:1.8
	binutils-csl-wrs-linux-3_4_4-23:1.8
	binutils-csl-sourcerygxx-4_1-9:1.8
	binutils-csl-sourcerygxx-4_1-8:1.8
	binutils-csl-sourcerygxx-4_1-7:1.8
	binutils-csl-arm-2006q1-6:1.8
	binutils-csl-sourcerygxx-4_1-6:1.8
	binutils-csl-wrs-linux-3_4_4-22:1.8
	binutils-csl-coldfire-4_1-11:1.8
	binutils-csl-sourcerygxx-3_4_4-19:1.8
	binutils-csl-coldfire-4_1-10:1.8
	binutils-csl-sourcerygxx-4_1-5:1.8
	binutils-csl-sourcerygxx-4_1-4:1.8
	binutils-csl-wrs-linux-3_4_4-21:1.8
	binutils-csl-morpho-4_1-4:1.8
	binutils-csl-sourcerygxx-3_4_4-17:1.8
	binutils-csl-wrs-linux-3_4_4-20:1.8
	binutils-2_17-branch:1.8.0.10
	binutils-2_17-branchpoint:1.8
	binutils-csl-2_17-branch:1.8.0.8
	binutils-csl-2_17-branchpoint:1.8
	binutils-csl-gxxpro-3_4-branch:1.8.0.6
	binutils-csl-gxxpro-3_4-branchpoint:1.8
	binutils-2_16_1:1.8
	binutils-csl-arm-2005q1b:1.8
	binutils-2_16:1.8
	binutils-csl-arm-2005q1a:1.8
	binutils-csl-arm-2005q1-branch:1.8.0.4
	binutils-csl-arm-2005q1-branchpoint:1.8
	binutils-2_16-branch:1.8.0.2
	binutils-2_16-branchpoint:1.8
	csl-arm-2004-q3d:1.8
	csl-arm-2004-q3:1.8
	binutils-2_15:1.6
	binutils-2_15-branchpoint:1.6
	csl-arm-2004-q1a:1.8
	csl-arm-2004-q1:1.8
	binutils-2_15-branch:1.6.0.6
	cagney_bfdfile-20040213-branch:1.6.0.4
	cagney_bfdfile-20040213-branchpoint:1.6
	cagney_bigcore-20040122-branch:1.6.0.2
	cagney_bigcore-20040122-branchpoint:1.6
	csl-arm-2003-q4:1.5
	binutils-2_14:1.5
	binutils-2_14-branch:1.5.0.6
	binutils-2_14-branchpoint:1.5
	binutils-2_13_2_1:1.5
	binutils-2_13_2:1.5
	binutils-2_13_1:1.5
	binutils-2_13:1.5
	binutils-2_13-branchpoint:1.5
	binutils-2_13-branch:1.5.0.4
	binutils-2_12_1:1.5
	binutils-2_12:1.5
	binutils-2_12-branch:1.5.0.2
	binutils-2_12-branchpoint:1.5
	cygnus_cvs_20020108_pre:1.5
	binutils-2_11_2:1.4.4.1
	binutils-2_11_1:1.4.4.1
	binutils-2_11:1.4
	x86_64versiong3:1.4
	binutils-2_11-branch:1.4.0.4
	binutils-2_10_1:1.4
	binutils-2_10:1.4
	binutils-2_10-branch:1.4.0.2
	binutils-2_10-branchpoint:1.4
	binutils_latest_snapshot:1.11
	repo-unification-2000-02-06:1.4
	binu_ss_19990721:1.3
	binu_ss_19990602:1.1;
locks; strict;
comment	@# @;


1.11
date	2007.12.31.16.02.07;	author hjl;	state Exp;
branches;
next	1.10;

1.10
date	2007.10.23.22.52.09;	author hjl;	state Exp;
branches;
next	1.9;

1.9
date	2007.08.29.15.34.41;	author hjl;	state Exp;
branches;
next	1.8;

1.8
date	2004.03.12.13.06.50;	author amodra;	state Exp;
branches;
next	1.7;

1.7
date	2004.03.12.07.01.37;	author amodra;	state Exp;
branches;
next	1.6;

1.6
date	2004.01.18.23.13.35;	author amodra;	state Exp;
branches;
next	1.5;

1.5
date	2001.05.04.11.10.55;	author amodra;	state Exp;
branches;
next	1.4;

1.4
date	99.08.09.04.41.00;	author ian;	state Exp;
branches
	1.4.4.1;
next	1.3;

1.3
date	99.06.13.17.13.19;	author ian;	state Exp;
branches;
next	1.2;

1.2
date	99.06.11.21.02.58;	author ian;	state Exp;
branches;
next	1.1;

1.1
date	99.05.17.08.35.39;	author amodra;	state Exp;
branches;
next	;

1.4.4.1
date	2001.05.04.11.15.52;	author amodra;	state Exp;
branches;
next	;


desc
@@


1.11
log
@Expect cvtsi2ssl instead of cvtsi2ss.
@
text
@#objdump: -dw
#name: i386 katmai

.*: +file format .*

Disassembly of section .text:

0+000 <foo>:
   0:	0f 58 01 [ 	]*addps  \(%ecx\),%xmm0
   3:	0f 58 ca [ 	]*addps  %xmm2,%xmm1
   6:	f3 0f 58 13 [ 	]*addss  \(%ebx\),%xmm2
   a:	f3 0f 58 dc [ 	]*addss  %xmm4,%xmm3
   e:	0f 55 65 00 [ 	]*andnps 0x0\(%ebp\),%xmm4
  12:	0f 55 ee [ 	]*andnps %xmm6,%xmm5
  15:	0f 54 37 [ 	]*andps  \(%edi\),%xmm6
  18:	0f 54 f8 [ 	]*andps  %xmm0,%xmm7
  1b:	0f c2 c1 02 [ 	]*cmpleps %xmm1,%xmm0
  1f:	0f c2 0a 03 [ 	]*cmpunordps \(%edx\),%xmm1
  23:	f3 0f c2 d2 04 [ 	]*cmpneqss %xmm2,%xmm2
  28:	f3 0f c2 1c 24 05 [ 	]*cmpnltss \(%esp\),%xmm3
  2e:	0f c2 e5 06 [ 	]*cmpnleps %xmm5,%xmm4
  32:	0f c2 2e 07 [ 	]*cmpordps \(%esi\),%xmm5
  36:	f3 0f c2 f7 00 [ 	]*cmpeqss %xmm7,%xmm6
  3b:	f3 0f c2 38 01 [ 	]*cmpltss \(%eax\),%xmm7
  40:	0f c2 c1 00 [ 	]*cmpeqps %xmm1,%xmm0
  44:	0f c2 0a 00 [ 	]*cmpeqps \(%edx\),%xmm1
  48:	f3 0f c2 d2 00 [ 	]*cmpeqss %xmm2,%xmm2
  4d:	f3 0f c2 1c 24 00 [ 	]*cmpeqss \(%esp\),%xmm3
  53:	0f c2 e5 01 [ 	]*cmpltps %xmm5,%xmm4
  57:	0f c2 2e 01 [ 	]*cmpltps \(%esi\),%xmm5
  5b:	f3 0f c2 f7 01 [ 	]*cmpltss %xmm7,%xmm6
  60:	f3 0f c2 38 01 [ 	]*cmpltss \(%eax\),%xmm7
  65:	0f c2 01 02 [ 	]*cmpleps \(%ecx\),%xmm0
  69:	0f c2 ca 02 [ 	]*cmpleps %xmm2,%xmm1
  6d:	f3 0f c2 13 02 [ 	]*cmpless \(%ebx\),%xmm2
  72:	f3 0f c2 dc 02 [ 	]*cmpless %xmm4,%xmm3
  77:	0f c2 65 00 03 [ 	]*cmpunordps 0x0\(%ebp\),%xmm4
  7c:	0f c2 ee 03 [ 	]*cmpunordps %xmm6,%xmm5
  80:	f3 0f c2 37 03 [ 	]*cmpunordss \(%edi\),%xmm6
  85:	f3 0f c2 f8 03 [ 	]*cmpunordss %xmm0,%xmm7
  8a:	0f c2 c1 04 [ 	]*cmpneqps %xmm1,%xmm0
  8e:	0f c2 0a 04 [ 	]*cmpneqps \(%edx\),%xmm1
  92:	f3 0f c2 d2 04 [ 	]*cmpneqss %xmm2,%xmm2
  97:	f3 0f c2 1c 24 04 [ 	]*cmpneqss \(%esp\),%xmm3
  9d:	0f c2 e5 05 [ 	]*cmpnltps %xmm5,%xmm4
  a1:	0f c2 2e 05 [ 	]*cmpnltps \(%esi\),%xmm5
  a5:	f3 0f c2 f7 05 [ 	]*cmpnltss %xmm7,%xmm6
  aa:	f3 0f c2 38 05 [ 	]*cmpnltss \(%eax\),%xmm7
  af:	0f c2 01 06 [ 	]*cmpnleps \(%ecx\),%xmm0
  b3:	0f c2 ca 06 [ 	]*cmpnleps %xmm2,%xmm1
  b7:	f3 0f c2 13 06 [ 	]*cmpnless \(%ebx\),%xmm2
  bc:	f3 0f c2 dc 06 [ 	]*cmpnless %xmm4,%xmm3
  c1:	0f c2 65 00 07 [ 	]*cmpordps 0x0\(%ebp\),%xmm4
  c6:	0f c2 ee 07 [ 	]*cmpordps %xmm6,%xmm5
  ca:	f3 0f c2 37 07 [ 	]*cmpordss \(%edi\),%xmm6
  cf:	f3 0f c2 f8 07 [ 	]*cmpordss %xmm0,%xmm7
  d4:	0f 2f c1 [ 	]*comiss %xmm1,%xmm0
  d7:	0f 2f 0a [ 	]*comiss \(%edx\),%xmm1
  da:	0f 2a d3 [ 	]*cvtpi2ps %mm3,%xmm2
  dd:	0f 2a 1c 24 [ 	]*cvtpi2ps \(%esp\),%xmm3
  e1:	f3 0f 2a e5 [ 	]*cvtsi2ss %ebp,%xmm4
  e5:	f3 0f 2a 2e [ 	]*cvtsi2ssl \(%esi\),%xmm5
  e9:	0f 2d f7 [ 	]*cvtps2pi %xmm7,%mm6
  ec:	0f 2d 38 [ 	]*cvtps2pi \(%eax\),%mm7
  ef:	f3 0f 2d 01 [ 	]*cvtss2si \(%ecx\),%eax
  f3:	f3 0f 2d ca [ 	]*cvtss2si %xmm2,%ecx
  f7:	0f 2c 13 [ 	]*cvttps2pi \(%ebx\),%mm2
  fa:	0f 2c dc [ 	]*cvttps2pi %xmm4,%mm3
  fd:	f3 0f 2c 65 00 [ 	]*cvttss2si 0x0\(%ebp\),%esp
 102:	f3 0f 2c ee [ 	]*cvttss2si %xmm6,%ebp
 106:	0f 5e c1 [ 	]*divps  %xmm1,%xmm0
 109:	0f 5e 0a [ 	]*divps  \(%edx\),%xmm1
 10c:	f3 0f 5e d3 [ 	]*divss  %xmm3,%xmm2
 110:	f3 0f 5e 1c 24 [ 	]*divss  \(%esp\),%xmm3
 115:	0f ae 55 00 [ 	]*ldmxcsr 0x0\(%ebp\)
 119:	0f ae 1e [ 	]*stmxcsr \(%esi\)
 11c:	0f ae f8 [ 	]*sfence 
 11f:	0f 5f c1 [ 	]*maxps  %xmm1,%xmm0
 122:	0f 5f 0a [ 	]*maxps  \(%edx\),%xmm1
 125:	f3 0f 5f d3 [ 	]*maxss  %xmm3,%xmm2
 129:	f3 0f 5f 1c 24 [ 	]*maxss  \(%esp\),%xmm3
 12e:	0f 5d e5 [ 	]*minps  %xmm5,%xmm4
 131:	0f 5d 2e [ 	]*minps  \(%esi\),%xmm5
 134:	f3 0f 5d f7 [ 	]*minss  %xmm7,%xmm6
 138:	f3 0f 5d 38 [ 	]*minss  \(%eax\),%xmm7
 13c:	0f 28 c1 [ 	]*movaps %xmm1,%xmm0
 13f:	0f 29 11 [ 	]*movaps %xmm2,\(%ecx\)
 142:	0f 28 12 [ 	]*movaps \(%edx\),%xmm2
 145:	0f 16 dc [ 	]*movlhps %xmm4,%xmm3
 148:	0f 17 2c 24 [ 	]*movhps %xmm5,\(%esp\)
 14c:	0f 16 2e [ 	]*movhps \(%esi\),%xmm5
 14f:	0f 12 f7 [ 	]*movhlps %xmm7,%xmm6
 152:	0f 13 07 [ 	]*movlps %xmm0,\(%edi\)
 155:	0f 12 00 [ 	]*movlps \(%eax\),%xmm0
 158:	0f 50 ca [ 	]*movmskps %xmm2,%ecx
 15b:	0f 10 d3 [ 	]*movups %xmm3,%xmm2
 15e:	0f 11 22 [ 	]*movups %xmm4,\(%edx\)
 161:	0f 10 65 00 [ 	]*movups 0x0\(%ebp\),%xmm4
 165:	f3 0f 10 ee [ 	]*movss  %xmm6,%xmm5
 169:	f3 0f 11 3e [ 	]*movss  %xmm7,\(%esi\)
 16d:	f3 0f 10 38 [ 	]*movss  \(%eax\),%xmm7
 171:	0f 59 c1 [ 	]*mulps  %xmm1,%xmm0
 174:	0f 59 0a [ 	]*mulps  \(%edx\),%xmm1
 177:	f3 0f 59 d2 [ 	]*mulss  %xmm2,%xmm2
 17b:	f3 0f 59 1c 24 [ 	]*mulss  \(%esp\),%xmm3
 180:	0f 56 e5 [ 	]*orps   %xmm5,%xmm4
 183:	0f 56 2e [ 	]*orps   \(%esi\),%xmm5
 186:	0f 53 f7 [ 	]*rcpps  %xmm7,%xmm6
 189:	0f 53 38 [ 	]*rcpps  \(%eax\),%xmm7
 18c:	f3 0f 53 01 [ 	]*rcpss  \(%ecx\),%xmm0
 190:	f3 0f 53 ca [ 	]*rcpss  %xmm2,%xmm1
 194:	0f 52 13 [ 	]*rsqrtps \(%ebx\),%xmm2
 197:	0f 52 dc [ 	]*rsqrtps %xmm4,%xmm3
 19a:	f3 0f 52 65 00 [ 	]*rsqrtss 0x0\(%ebp\),%xmm4
 19f:	f3 0f 52 ee [ 	]*rsqrtss %xmm6,%xmm5
 1a3:	0f c6 37 02 [ 	]*shufps \$0x2,\(%edi\),%xmm6
 1a7:	0f c6 f8 03 [ 	]*shufps \$0x3,%xmm0,%xmm7
 1ab:	0f 51 c1 [ 	]*sqrtps %xmm1,%xmm0
 1ae:	0f 51 0a [ 	]*sqrtps \(%edx\),%xmm1
 1b1:	f3 0f 51 d2 [ 	]*sqrtss %xmm2,%xmm2
 1b5:	f3 0f 51 1c 24 [ 	]*sqrtss \(%esp\),%xmm3
 1ba:	0f 5c e5 [ 	]*subps  %xmm5,%xmm4
 1bd:	0f 5c 2e [ 	]*subps  \(%esi\),%xmm5
 1c0:	f3 0f 5c f7 [ 	]*subss  %xmm7,%xmm6
 1c4:	f3 0f 5c 38 [ 	]*subss  \(%eax\),%xmm7
 1c8:	0f 2e 01 [ 	]*ucomiss \(%ecx\),%xmm0
 1cb:	0f 2e ca [ 	]*ucomiss %xmm2,%xmm1
 1ce:	0f 15 13 [ 	]*unpckhps \(%ebx\),%xmm2
 1d1:	0f 15 dc [ 	]*unpckhps %xmm4,%xmm3
 1d4:	0f 14 65 00 [ 	]*unpcklps 0x0\(%ebp\),%xmm4
 1d8:	0f 14 ee [ 	]*unpcklps %xmm6,%xmm5
 1db:	0f 57 37 [ 	]*xorps  \(%edi\),%xmm6
 1de:	0f 57 f8 [ 	]*xorps  %xmm0,%xmm7
 1e1:	0f e0 c1 [ 	]*pavgb  %mm1,%mm0
 1e4:	0f e0 0a [ 	]*pavgb  \(%edx\),%mm1
 1e7:	0f e3 d3 [ 	]*pavgw  %mm3,%mm2
 1ea:	0f e3 1c 24 [ 	]*pavgw  \(%esp\),%mm3
 1ee:	0f c5 c1 00 [ 	]*pextrw \$0x0,%mm1,%eax
 1f2:	0f c4 09 01 [ 	]*pinsrw \$0x1,\(%ecx\),%mm1
 1f6:	0f c4 d2 02 [ 	]*pinsrw \$0x2,%edx,%mm2
 1fa:	0f ee c1 [ 	]*pmaxsw %mm1,%mm0
 1fd:	0f ee 0a [ 	]*pmaxsw \(%edx\),%mm1
 200:	0f de d2 [ 	]*pmaxub %mm2,%mm2
 203:	0f de 1c 24 [ 	]*pmaxub \(%esp\),%mm3
 207:	0f ea e5 [ 	]*pminsw %mm5,%mm4
 20a:	0f ea 2e [ 	]*pminsw \(%esi\),%mm5
 20d:	0f da f7 [ 	]*pminub %mm7,%mm6
 210:	0f da 38 [ 	]*pminub \(%eax\),%mm7
 213:	0f d7 c5 [ 	]*pmovmskb %mm5,%eax
 216:	0f e4 e5 [ 	]*pmulhuw %mm5,%mm4
 219:	0f e4 2e [ 	]*pmulhuw \(%esi\),%mm5
 21c:	0f f6 f7 [ 	]*psadbw %mm7,%mm6
 21f:	0f f6 38 [ 	]*psadbw \(%eax\),%mm7
 222:	0f 70 da 01 [ 	]*pshufw \$0x1,%mm2,%mm3
 226:	0f 70 75 00 04 [ 	]*pshufw \$0x4,0x0\(%ebp\),%mm6
 22b:	0f f7 c7 [ 	]*maskmovq %mm7,%mm0
 22e:	0f 2b 33 [ 	]*movntps %xmm6,\(%ebx\)
 231:	0f e7 10 [ 	]*movntq %mm2,\(%eax\)
 234:	0f 18 06 [ 	]*prefetchnta \(%esi\)
 237:	0f 18 0c 98 [ 	]*prefetcht0 \(%eax,%ebx,4\)
 23b:	0f 18 12 [ 	]*prefetcht1 \(%edx\)
 23e:	0f 18 19 [ 	]*prefetcht2 \(%ecx\)
 241:	65 [ 	]*gs
 242:	0f ae[ 	]*\(bad\).*
 244:	ff 00 [ 	]*incl   \(%eax\)
#pass
@


1.10
log
@gas/testsuite/

2007-10-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/katmai.s: Remove cmpps opcode test.

	* gas/i386/simd.s: Add tests for cmpss and cmpsd.
	* gas/i386/x86-64-simd.s: Likewise.

	* gas/i386/katmai.d: Updated.
	* gas/i386/simd-intel.d: Likewise.
	* gas/i386/simd-suffix.d: Likewise.
	* gas/i386/simd.d: Likewise.
	* gas/i386/x86-64-simd-intel.d: Likewise.
	* gas/i386/x86-64-simd-suffix.d: Likewise.
	* gas/i386/x86-64-simd.d: Likewise.

opcodes/

2007-10-23  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (OP_SIMD_Suffix): Renamed to ...
	(CMP_Fixup): This.  Rewrite.
	(OPSIMD): Renamed to ...
	(CMP): This. Updated.
	(prefix_table): Update PREFIX_0FC2 entry.
@
text
@d62 1
a62 1
  e5:	f3 0f 2a 2e [ 	]*cvtsi2ss \(%esi\),%xmm5
@


1.9
log
@gas/testsuite/

2007-08-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Run reg and reg-intel.

	* gas/i386/katmai.d: Update bad instructions.

	* gas/i386/reg.s: New. Add tests for instructions with one
	register operand.
	* gas/i386/reg-intel.d: Likewise.
	* gas/i386/reg.d: Likewise.

opcodes/

2007-08-29  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-dis.c (OP_Skip_MODRM): New.
	(OP_Monitor): Likewise.
	(OP_Mwait): Likewise.
	(Mb): Likewise.
	(Skip_MODRM): Likewise.
	(USE_OPC_EXT_TABLE): Likewise.
	(USE_OPC_EXT_RM_TABLE): Likewise.
	(PREGRP98...PREGRP100): Likewise.
	(OPC_EXT_0...OPC_EXT_24): Likewise.
	(OPC_EXT_RM_0...OPC_EXT_RM_4): Likewise.
	(lock_prefix): Likewise.
	(data_prefix): Likewise.
	(addr_prefix): Likewise.
	(repz_prefix): Likewise.
	(repnz_prefix): Likewise.
	(opc_ext_table): Likewise.
	(opc_ext_rm_table): Likewise.
	(get_valid_dis386): Likewise.
	(OP_VMX): Removed.
	(OP_0fae): Likewise.
	(PNI_Fixup): Likewise.
	(VMX_Fixup): Likewise.
	(VM): Likewise.
	(twobyte_uses_DATA_prefix): Likewise.
	(twobyte_uses_REPNZ_prefix): Likewise.
	(twobyte_uses_REPZ_prefix): Likewise.
	(threebyte_0x38_uses_DATA_prefix): Likewise.
	(threebyte_0x38_uses_REPNZ_prefix): Likewise.
	(threebyte_0x38_uses_REPZ_prefix): Likewise.
	(threebyte_0x3a_uses_DATA_prefix): Likewise.
	(threebyte_0x3a_uses_REPNZ_prefix): Likewise.
	(threebyte_0x3a_uses_REPZ_prefix): Likewise.
	(grps): Use OPC_EXT_0...OPC_EXT_24.
	(prefix_user_table): Use PREGRP98.
	(print_insn): Remove uses_DATA_prefix, uses_LOCK_prefix,
	uses_REPNZ_prefix and uses_REPZ_prefix.  Initialize
	repz_prefix, repnz_prefix, lock_prefix, addr_prefix and
	data_prefix based on prefixes.  Call get_valid_dis386 to
	get a pointer to the valid dis386.  Print out prefixes if
	they aren't NULL.
	(OP_C): Clear lock_prefix if PREFIX_LOCK is used.
	(REP_Fixup): Set repz_prefix to "rep " when seeing
	PREFIX_REPZ.
@
text
@d163 4
a166 9
 241:	2e 0f [ 	]*\(bad\)  
 243:	c2 0a 08 [ 	]*ret    \$0x80a
 246:	90 [ 	]*nop    
 247:	90 [ 	]*nop    
 248:	65 [ 	]*gs
 249:	0f ae[ 	]*\(bad\).*
 24b:	ff 00 [ 	]*incl   \(%eax\)
 24d:	00 00 [ 	]*add    %al,\(%eax\)
	...
@


1.8
log
@	* i386-dis.c (OP_M, OP_0f0e, OP_0fae, NOP_Fixup): New functions.
	(M, Mp): Use OP_M.
	(None, PADLOCK_SPECIAL, PADLOCK_0): Delete.
	(GRPPADLCK): Define.
	(dis386): Use NOP_Fixup on "nop".
	(dis386_twobyte): Use GRPPADLCK on opcode 0xa7.
	(twobyte_has_modrm): Set for 0xa7.
	(padlock_table): Delete.  Move to..
	(grps): ..here, using OP_0f07.  Use OP_Ofae on lfence, mfence
	and clflush.
	(print_insn): Revert PADLOCK_SPECIAL code.
	(OP_E): Delete sfence, lfence, mfence checks.

	* gas/i386/katmai.d: Revert last change.
@
text
@d168 1
a168 2
 249:	0f [ 	]*sfence.*\(bad\).*
 24a:	ae [ 	]*scas   %es:\(%edi\),%al
@


1.7
log
@opcodes/
	* i386-dis.c (grps): Use clflush by default for 0x0fae/7.
	(OP_E): Twiddle clflush to sfence here.

gas/testsuite/
	* gas/i386/katmai.d: Adjust for clflush change.
@
text
@d168 1
a168 1
 249:	0f [ 	]*clflush.*\(bad\).*
@


1.6
log
@	* gas/i386/katmai.d: Adjust for changed sib printing.
	* gas/i386/prescott.d: Likewise.
	* gas/i386/sse2.d: Likewise.
	* gas/i386/ssemmx2.d: Likewise.
@
text
@d168 1
a168 1
 249:	0f [ 	]*sfence.*\(bad\).*
@


1.5
log
@Assorted fixes to pinsrw, pextrw, pmovmskb, movmskp, maskmovq.
@
text
@d20 1
a20 1
  28:	f3 0f c2 1c 24 05 [ 	]*cmpnltss \(%esp,1\),%xmm3
d28 1
a28 1
  4d:	f3 0f c2 1c 24 00 [ 	]*cmpeqss \(%esp,1\),%xmm3
d44 1
a44 1
  97:	f3 0f c2 1c 24 04 [ 	]*cmpneqss \(%esp,1\),%xmm3
d60 1
a60 1
  dd:	0f 2a 1c 24 [ 	]*cvtpi2ps \(%esp,1\),%xmm3
d74 1
a74 1
 110:	f3 0f 5e 1c 24 [ 	]*divss  \(%esp,1\),%xmm3
d81 1
a81 1
 129:	f3 0f 5f 1c 24 [ 	]*maxss  \(%esp,1\),%xmm3
d90 1
a90 1
 148:	0f 17 2c 24 [ 	]*movhps %xmm5,\(%esp,1\)
d105 1
a105 1
 17b:	f3 0f 59 1c 24 [ 	]*mulss  \(%esp,1\),%xmm3
d121 1
a121 1
 1b5:	f3 0f 51 1c 24 [ 	]*sqrtss \(%esp,1\),%xmm3
d137 1
a137 1
 1ea:	0f e3 1c 24 [ 	]*pavgw  \(%esp,1\),%mm3
d144 1
a144 1
 203:	0f de 1c 24 [ 	]*pmaxub \(%esp,1\),%mm3
@


1.4
log
@	* gas/i386/float.s, gas/i386/float.l: Modify to work correctly
	when gas uses 2**4 alignment for .text.
	* gas/i386/general.s, gas/i386/general.l: Likewise.
	* gas/i386/katmai.s, gas/i386/katmai.d: Likewise.
	* gas/i386/modrm.s, gas/i386/modrm.l: Likewise.
	* gas/i386/prefix.s, gas/i386/prefix.d: Likewise.
@
text
@d138 1
a138 1
 1ee:	0f c5 c8 00 [ 	]*pextrw \$0x0,%mm1,%eax
d149 1
a149 1
 213:	0f d7 e8 [ 	]*pmovmskb %mm5,%eax
@


1.4.4.1
log
@Assorted fixes to pinsrw, pextrw, pmovmskb, movmskp, maskmovq.
Merge 2001-04-06 i386-dis.c ffreep addition.
@
text
@d138 1
a138 1
 1ee:	0f c5 c1 00 [ 	]*pextrw \$0x0,%mm1,%eax
d149 1
a149 1
 213:	0f d7 c5 [ 	]*pmovmskb %mm5,%eax
@


1.3
log
@	* gas/i386/katmai.d: Tweak for recent disassembler changes.
@
text
@d170 3
a172 8
 24b:	ff 90 90 90 90 90 [ 	]*call   \*0x90909090\(%eax\)
 251:	90 [ 	]*nop    
 252:	90 [ 	]*nop    
 253:	90 [ 	]*nop    
 254:	90 [ 	]*nop    
 255:	90 [ 	]*nop    
 256:	90 [ 	]*nop    
 257:	90 [ 	]*nop    
@


1.2
log
@	* gas/i386/amd.s: Add a symbol so a.out tests will work.
	* gas/i386/katmai.s: Likewise.
	* gas/i386/amd.d: Corresponding change.
	* gas/i386/katmai.d: Corresponding change.
@
text
@d167 2
a168 1
 248:	65 0f [ 	]*sfence.*\(bad\).*
@


1.1
log
@Ø
Add missing files from last change in gas/testsuite.
i386-dis.c: Catch a number of cases where an invalid modrm would result in
bogus disassembly.  const lots of places.
@
text
@d8 1
a8 1
0+000 <.text>:
@

