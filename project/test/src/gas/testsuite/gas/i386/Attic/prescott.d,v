head	1.7;
access;
symbols
	binutils-2_20_1:1.6
	binutils-2_20:1.6
	binutils-arc-20081103-branch:1.6.0.10
	binutils-arc-20081103-branchpoint:1.6
	binutils-2_20-branch:1.6.0.8
	binutils-2_20-branchpoint:1.6
	dje-cgen-play1-branch:1.6.0.6
	dje-cgen-play1-branchpoint:1.6
	arc-20081103-branch:1.6.0.4
	arc-20081103-branchpoint:1.6
	binutils-2_19_1:1.6
	binutils-2_19:1.6
	binutils-2_19-branch:1.6.0.2
	binutils-2_19-branchpoint:1.6
	binutils-2_18:1.5
	binutils-2_18-branch:1.5.0.2
	binutils-2_18-branchpoint:1.5
	binutils-csl-coldfire-4_1-32:1.4
	binutils-csl-sourcerygxx-4_1-32:1.4
	binutils-csl-innovasic-fido-3_4_4-33:1.4
	binutils-csl-sourcerygxx-3_4_4-32:1.3
	binutils-csl-coldfire-4_1-30:1.4
	binutils-csl-sourcerygxx-4_1-30:1.4
	binutils-csl-coldfire-4_1-28:1.4
	binutils-csl-sourcerygxx-4_1-29:1.4
	binutils-csl-sourcerygxx-4_1-28:1.4
	binutils-csl-arm-2006q3-27:1.4
	binutils-csl-sourcerygxx-4_1-27:1.4
	binutils-csl-arm-2006q3-26:1.4
	binutils-csl-sourcerygxx-4_1-26:1.4
	binutils-csl-sourcerygxx-4_1-25:1.4
	binutils-csl-sourcerygxx-4_1-24:1.4
	binutils-csl-sourcerygxx-4_1-23:1.4
	binutils-csl-sourcerygxx-4_1-21:1.4
	binutils-csl-arm-2006q3-21:1.4
	binutils-csl-sourcerygxx-4_1-22:1.4
	binutils-csl-palmsource-arm-prelinker-1_0-1:1.4
	binutils-csl-sourcerygxx-4_1-20:1.4
	binutils-csl-arm-2006q3-19:1.4
	binutils-csl-sourcerygxx-4_1-19:1.4
	binutils-csl-sourcerygxx-4_1-18:1.4
	binutils-csl-renesas-4_1-9:1.4
	binutils-csl-sourcerygxx-3_4_4-25:1.3
	binutils-csl-renesas-4_1-8:1.4
	binutils-csl-renesas-4_1-7:1.4
	binutils-csl-renesas-4_1-6:1.4
	binutils-csl-sourcerygxx-4_1-17:1.4
	binutils-csl-sourcerygxx-4_1-14:1.4
	binutils-csl-sourcerygxx-4_1-15:1.4
	binutils-csl-sourcerygxx-4_1-13:1.4
	binutils-2_17:1.4
	binutils-csl-sourcerygxx-4_1-12:1.4
	binutils-csl-sourcerygxx-3_4_4-21:1.4
	binutils-csl-wrs-linux-3_4_4-24:1.3
	binutils-csl-wrs-linux-3_4_4-23:1.3
	binutils-csl-sourcerygxx-4_1-9:1.4
	binutils-csl-sourcerygxx-4_1-8:1.4
	binutils-csl-sourcerygxx-4_1-7:1.4
	binutils-csl-arm-2006q1-6:1.4
	binutils-csl-sourcerygxx-4_1-6:1.4
	binutils-csl-wrs-linux-3_4_4-22:1.3
	binutils-csl-coldfire-4_1-11:1.4
	binutils-csl-sourcerygxx-3_4_4-19:1.4
	binutils-csl-coldfire-4_1-10:1.4
	binutils-csl-sourcerygxx-4_1-5:1.4
	binutils-csl-sourcerygxx-4_1-4:1.4
	binutils-csl-wrs-linux-3_4_4-21:1.3
	binutils-csl-morpho-4_1-4:1.4
	binutils-csl-sourcerygxx-3_4_4-17:1.4
	binutils-csl-wrs-linux-3_4_4-20:1.3
	binutils-2_17-branch:1.4.0.4
	binutils-2_17-branchpoint:1.4
	binutils-csl-2_17-branch:1.4.0.2
	binutils-csl-2_17-branchpoint:1.4
	binutils-csl-gxxpro-3_4-branch:1.3.0.6
	binutils-csl-gxxpro-3_4-branchpoint:1.3
	binutils-2_16_1:1.3
	binutils-csl-arm-2005q1b:1.3
	binutils-2_16:1.3
	binutils-csl-arm-2005q1a:1.3
	binutils-csl-arm-2005q1-branch:1.3.0.4
	binutils-csl-arm-2005q1-branchpoint:1.3
	binutils-2_16-branch:1.3.0.2
	binutils-2_16-branchpoint:1.3
	csl-arm-2004-q3d:1.3
	csl-arm-2004-q3:1.3
	binutils-2_15:1.2
	binutils-2_15-branchpoint:1.2
	csl-arm-2004-q1a:1.2
	csl-arm-2004-q1:1.2
	binutils-2_15-branch:1.2.0.6
	cagney_bfdfile-20040213-branch:1.2.0.4
	cagney_bfdfile-20040213-branchpoint:1.2
	cagney_bigcore-20040122-branch:1.2.0.2
	cagney_bigcore-20040122-branchpoint:1.2
	csl-arm-2003-q4:1.1
	binutils_latest_snapshot:1.6;
locks; strict;
comment	@# @;


1.7
date	2009.09.14.14.44.58;	author hjl;	state dead;
branches;
next	1.6;

1.6
date	2008.01.16.00.05.55;	author hjl;	state Exp;
branches;
next	1.5;

1.5
date	2007.04.27.04.22.00;	author hjl;	state Exp;
branches;
next	1.4;

1.4
date	2005.12.06.12.40.57;	author hjl;	state Exp;
branches;
next	1.3;

1.3
date	2004.06.23.15.06.57;	author amodra;	state Exp;
branches;
next	1.2;

1.2
date	2004.01.18.23.13.35;	author amodra;	state Exp;
branches;
next	1.1;

1.1
date	2003.06.23.20.15.33;	author hjl;	state Exp;
branches;
next	;


desc
@@


1.7
log
@2009-09-14  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/merom.[ds]: Renamed to ...
	* gas/i386/ssse3.[ds]: This.

	* gas/i386/nops-1-merom.d: Renamed to ...
	* gas/i386/nops-1-core2.d: This.

	* gas/i386/nops-2-merom.d: Renamed to ...
	* gas/i386/nops-2-core2.d: This.

	* gas/i386/prescott.[ds]: Renamed to ...
	* gas/i386/sse3.[ds]: This.

	* gas/i386/x86-64-merom.[ds]: Renamed to ...
	* gas/i386/x86-64-ssse3.[ds]: This.

	* gas/i386/x86-64-nops-1-merom.d: Renamed to ...
	* gas/i386/x86-64-nops-1-core2.d: This.

	* gas/i386/x86-64-prescott.[ds]: Renamed to ...
	* gas/i386/x86-64-sse3.[ds]: This.

	* gas/i386/i386.exp: Updated.
@
text
@#objdump: -dw
#name: i386 prescott

.*: +file format .*

Disassembly of section .text:

0+000 <foo>:
   0:	66 0f d0 01 [ 	]*addsubpd \(%ecx\),%xmm0
   4:	66 0f d0 ca [ 	]*addsubpd %xmm2,%xmm1
   8:	f2 0f d0 13 [ 	]*addsubps \(%ebx\),%xmm2
   c:	f2 0f d0 dc [ 	]*addsubps %xmm4,%xmm3
  10:	df 88 90 90 90 90 [ 	]*fisttp -0x6f6f6f70\(%eax\)
  16:	db 88 90 90 90 90 [ 	]*fisttpl -0x6f6f6f70\(%eax\)
  1c:	dd 88 90 90 90 90 [ 	]*fisttpll -0x6f6f6f70\(%eax\)
  22:	66 0f 7c 65 00 [ 	]*haddpd 0x0\(%ebp\),%xmm4
  27:	66 0f 7c ee [ 	]*haddpd %xmm6,%xmm5
  2b:	f2 0f 7c 37 [ 	]*haddps \(%edi\),%xmm6
  2f:	f2 0f 7c f8 [ 	]*haddps %xmm0,%xmm7
  33:	66 0f 7d c1 [ 	]*hsubpd %xmm1,%xmm0
  37:	66 0f 7d 0a [ 	]*hsubpd \(%edx\),%xmm1
  3b:	f2 0f 7d d2 [ 	]*hsubps %xmm2,%xmm2
  3f:	f2 0f 7d 1c 24 [ 	]*hsubps \(%esp\),%xmm3
  44:	f2 0f f0 2e [ 	]*lddqu  \(%esi\),%xmm5
  48:	0f 01 c8 [ 	]*monitor %eax,%ecx,%edx
  4b:	0f 01 c8 [ 	]*monitor %eax,%ecx,%edx
  4e:	f2 0f 12 f7 [ 	]*movddup %xmm7,%xmm6
  52:	f2 0f 12 38 [ 	]*movddup \(%eax\),%xmm7
  56:	f3 0f 16 01 [ 	]*movshdup \(%ecx\),%xmm0
  5a:	f3 0f 16 ca [ 	]*movshdup %xmm2,%xmm1
  5e:	f3 0f 12 13 [ 	]*movsldup \(%ebx\),%xmm2
  62:	f3 0f 12 dc [ 	]*movsldup %xmm4,%xmm3
  66:	0f 01 c9 [ 	]*mwait  %eax,%ecx
  69:	0f 01 c9 [ 	]*mwait  %eax,%ecx
  6c:	67 0f 01 c8 [ 	]*monitor %ax,%ecx,%edx
  70:	67 0f 01 c8 [ 	]*monitor %ax,%ecx,%edx
  74:	f2 0f 12 38 [ 	]*movddup \(%eax\),%xmm7
  78:	f2 0f 12 38 [ 	]*movddup \(%eax\),%xmm7
#pass
@


1.6
log
@gas/testsuite/

2008-01-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* gas/i386/prescott.s: Add tests for movddup in Intel syntax.
	* gas/i386/x86-64-prescott.s: Likewise.

	* gas/i386/prescott.d: Updated.
	* gas/i386/x86-64-prescott.d: Likewise.

opcodes/

2008-01-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* i386-opc.tbl: Use Qword on movddup.
	* i386-tbl.h: Regenerated.
@
text
@@


1.5
log
@gas/testsuite/

2007-04-26  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/4430
	* gas/i386/amd.d: Updated.
	* gas/i386/immed32.d: Likewise.
	* gas/i386/intel.d: Likewise.
	* gas/i386/intel16.d: Likewise.
	* gas/i386/intelok.d: Likewise.
	* gas/i386/jump16.d: Likewise.
	* gas/i386/naked.d: Likewise.
	* gas/i386/opcode-suffix.d: Likewise.
	* gas/i386/opcode.d: Likewise.
	* gas/i386/prescott.d: Likewise.
	* gas/i386/ssemmx2.d: Likewise.
	* gas/i386/tlsd.d: Likewise.
	* gas/i386/tlspic.d: Likewise.
	* gas/i386/x86-64-addr32.d: Likewise.
	* gas/i386/x86-64-prescott.d: Likewise.
	* gas/i386/x86-64-rip.d: Likewise.
	* gas/i386/x86_64.d: Likewise.

ld/testsuite/

2007-04-26  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/4430
	* ld-i386/tlsbin.dd: Updated.
	* ld-i386/tlsbindesc.dd: Likewise
	* ld-i386/tlsdesc.dd: Likewise
	* ld-i386/tlsgdesc.dd: Likewise
	* ld-i386/tlsnopic.dd: Likewise
	* ld-i386/tlspic.dd: Likewise
	* ld-x86-64/tlsbin.dd: Likewise
	* ld-x86-64/tlsbindesc.dd: Likewise
	* ld-x86-64/tlsdesc.dd: Likewise
	* ld-x86-64/tlsgdesc.dd: Likewise
	* ld-x86-64/tlspic.dd: Likewise

opcodes/

2007-04-26  H.J. Lu  <hongjiu.lu@@intel.com>

	PR binutils/4430
	* i386-dis.c (print_displacement): New.
	(OP_E): Call print_displacement instead of print_operand_value
	to output displacement when either base or index exist.  Print
	the explicit zero displacement in 16bit mode.
@
text
@d37 3
a39 1
	...
@


1.4
log
@gas/

2005-12-06  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/1874
	* config/tc-i386.c (match_template): Handle monitor.
	(process_suffix): Likewise.

gas/testsuite/

2005-12-06  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/1874
	* gas/i386/i386.exp: Add x86-64-prescott for 64bit.

	* gas/i386/prescott.s: Test address size override for monitor.
	* gas/i386/prescott.d: Updated.

	* gas/i386/x86-64-prescott.d: New file.
	* gas/i386/x86-64-prescott.s: Likewise.

include/opcode/

2005-12-06  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/1874
	* i386.h (i386_optab): Add 64bit support for monitor and mwait.

opcodes/

2005-12-06  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/1874
	* i386-dis.c (address_mode): New enum type.
	(address_mode): New variable.
	(mode_64bit): Removed.
	(ckprefix): Updated to check address_mode instead of mode_64bit.
	(prefix_name): Likewise.
	(print_insn): Likewise.
	(putop): Likewise.
	(print_operand_value): Likewise.
	(intel_operand_size): Likewise.
	(OP_E): Likewise.
	(OP_G): Likewise.
	(set_op): Likewise.
	(OP_REG): Likewise.
	(OP_I): Likewise.
	(OP_I64): Likewise.
	(OP_OFF): Likewise.
	(OP_OFF64): Likewise.
	(ptr_reg): Likewise.
	(OP_C): Likewise.
	(SVME_Fixup): Likewise.
	(print_insn): Set address_mode.
	(PNI_Fixup): Add 64bit and address size override support for
	monitor and mwait.
@
text
@d13 3
a15 3
  10:	df 88 90 90 90 90 [ 	]*fisttp 0x90909090\(%eax\)
  16:	db 88 90 90 90 90 [ 	]*fisttpl 0x90909090\(%eax\)
  1c:	dd 88 90 90 90 90 [ 	]*fisttpll 0x90909090\(%eax\)
@


1.3
log
@include/opcode/
	* i386.h (i386_optab): Remove fildd, fistpd and fisttpd.

opcodes/
	* i386-dis.c (x_mode): Comment.
	(two_source_ops): File scope.
	(float_mem): Correct fisttpll and fistpll.
	(float_mem_mode): New table.
	(dofloat): Use it.
	(OP_E): Correct intel mode PTR output.
	(ptr_reg): Use open_char and close_char.
	(PNI_Fixup): Handle possible suffix on sidt.  Use op1out etc. for
	operands.  Set two_source_ops.

gas/testsuite/
	* gas/i386/prescott.s: Remove fisttpd and fisttpq.
	* gas/i386/prescott.d: Update.
@
text
@d35 2
a36 1
  6c:	00 00 [ 	]*add    %al,\(%eax\)
@


1.2
log
@	* gas/i386/katmai.d: Adjust for changed sib printing.
	* gas/i386/prescott.d: Likewise.
	* gas/i386/sse2.d: Likewise.
	* gas/i386/ssemmx2.d: Likewise.
@
text
@d16 20
a35 21
  22:	dd 88 90 90 90 90 [ 	]*fisttpll 0x90909090\(%eax\)
  28:	dd 88 90 90 90 90 [ 	]*fisttpll 0x90909090\(%eax\)
  2e:	66 0f 7c 65 00 [ 	]*haddpd 0x0\(%ebp\),%xmm4
  33:	66 0f 7c ee [ 	]*haddpd %xmm6,%xmm5
  37:	f2 0f 7c 37 [ 	]*haddps \(%edi\),%xmm6
  3b:	f2 0f 7c f8 [ 	]*haddps %xmm0,%xmm7
  3f:	66 0f 7d c1 [ 	]*hsubpd %xmm1,%xmm0
  43:	66 0f 7d 0a [ 	]*hsubpd \(%edx\),%xmm1
  47:	f2 0f 7d d2 [ 	]*hsubps %xmm2,%xmm2
  4b:	f2 0f 7d 1c 24 [ 	]*hsubps \(%esp\),%xmm3
  50:	f2 0f f0 2e [ 	]*lddqu  \(%esi\),%xmm5
  54:	0f 01 c8 [ 	]*monitor %eax,%ecx,%edx 
  57:	0f 01 c8 [ 	]*monitor %eax,%ecx,%edx 
  5a:	f2 0f 12 f7 [ 	]*movddup %xmm7,%xmm6
  5e:	f2 0f 12 38 [ 	]*movddup \(%eax\),%xmm7
  62:	f3 0f 16 01 [ 	]*movshdup \(%ecx\),%xmm0
  66:	f3 0f 16 ca [ 	]*movshdup %xmm2,%xmm1
  6a:	f3 0f 12 13 [ 	]*movsldup \(%ebx\),%xmm2
  6e:	f3 0f 12 dc [ 	]*movsldup %xmm4,%xmm3
  72:	0f 01 c9 [ 	]*mwait   %eax,%ecx 
  75:	0f 01 c9 [ 	]*mwait   %eax,%ecx 
@


1.1
log
@gas/

2003-06-23  H.J. Lu <hongjiu.lu@@intel.com>

	* gas/config/tc-i386.c (md_assemble): Support Intel Precott New
	Instructions.

	* gas/config/tc-i386.h (CpuPNI): New.
	(CpuUnknownFlags): Add CpuPNI.

gas/testsuite/

2003-06-23  H.J. Lu <hongjiu.lu@@intel.com>

	* gas/i386/i386.exp: Add prescott.

	* gas/i386/prescott.d: New file.
	* gas/i386/prescott.s: Likewise.

include/opcode/

2003-06-23  H.J. Lu <hongjiu.lu@@intel.com>

	* i386.h (i386_optab): Support Intel Precott New Instructions.

opcodes/

2003-06-23  H.J. Lu <hongjiu.lu@@intel.com>

	* i386-dis.c (PNI_Fixup): New. Fix up "mwait" and "monitor" in
	Intel Precott New Instructions.
	(PREGRP27): New. Added for "addsubpd" and "addsubps".
	(PREGRP28): New. Added for "haddpd" and "haddps".
	(PREGRP29): New. Added for "hsubpd" and "hsubps".
	(PREGRP30): New. Added for "movsldup" and "movddup".
	(PREGRP31): New. Added for "movshdup" and "movhpd".
	(PREGRP32): New. Added for "lddqu".
	(dis386_twobyte): Use PREGRP30 to replace the "movlpX" entry.
	Use PREGRP31 to replace the "movhpX" entry. Use PREGRP28 for
	entry 0x7c. Use PREGRP29 for entry 0x7d. Use PREGRP27 for
	entry 0xd0. Use PREGRP32 for entry 0xf0.
	(twobyte_has_modrm): Updated.
	(twobyte_uses_SSE_prefix): Likewise.
	(grps): Use PNI_Fixup in the "sidtQ" entry.
	(prefix_user_table): Add PREGRP27, PREGRP28, PREGRP29, PREGRP30,
	PREGRP31 and PREGRP32.
	(float_mem): Use "fisttp{l||l|}" in entry 1 in opcode 0xdb.
	Use "fisttpll" in entry 1 in opcode 0xdd.
	Use "fisttp" in entry 1 in opcode 0xdf.
@
text
@d25 1
a25 1
  4b:	f2 0f 7d 1c 24 [ 	]*hsubps \(%esp,1\),%xmm3
@

