head	1.4;
access;
symbols
	binutils-2_24-branch:1.4.0.2
	binutils-2_24-branchpoint:1.4
	binutils-2_21_1:1.3
	binutils-2_23_2:1.3
	binutils-2_23_1:1.3
	binutils-2_23:1.3
	binutils-2_23-branch:1.3.0.20
	binutils-2_23-branchpoint:1.3
	binutils-2_22_branch:1.3.0.18
	binutils-2_22:1.3
	binutils-2_22-branch:1.3.0.16
	binutils-2_22-branchpoint:1.3
	binutils-2_21:1.3
	binutils-2_21-branch:1.3.0.14
	binutils-2_21-branchpoint:1.3
	binutils-2_20_1:1.3
	binutils-2_20:1.3
	binutils-arc-20081103-branch:1.3.0.12
	binutils-arc-20081103-branchpoint:1.3
	binutils-2_20-branch:1.3.0.10
	binutils-2_20-branchpoint:1.3
	dje-cgen-play1-branch:1.3.0.8
	dje-cgen-play1-branchpoint:1.3
	arc-20081103-branch:1.3.0.6
	arc-20081103-branchpoint:1.3
	binutils-2_19_1:1.3
	binutils-2_19:1.3
	binutils-2_19-branch:1.3.0.4
	binutils-2_19-branchpoint:1.3
	binutils-2_18:1.3
	binutils-2_18-branch:1.3.0.2
	binutils-2_18-branchpoint:1.3
	binutils-csl-coldfire-4_1-32:1.2
	binutils-csl-sourcerygxx-4_1-32:1.2
	binutils-csl-innovasic-fido-3_4_4-33:1.2
	binutils-csl-sourcerygxx-3_4_4-32:1.2
	binutils-csl-coldfire-4_1-30:1.2
	binutils-csl-sourcerygxx-4_1-30:1.2
	binutils-csl-coldfire-4_1-28:1.2
	binutils-csl-sourcerygxx-4_1-29:1.2
	binutils-csl-sourcerygxx-4_1-28:1.2
	binutils-csl-arm-2006q3-27:1.2
	binutils-csl-sourcerygxx-4_1-27:1.2
	binutils-csl-arm-2006q3-26:1.2
	binutils-csl-sourcerygxx-4_1-26:1.2
	binutils-csl-sourcerygxx-4_1-25:1.2
	binutils-csl-sourcerygxx-4_1-24:1.2
	binutils-csl-sourcerygxx-4_1-23:1.2
	binutils-csl-sourcerygxx-4_1-21:1.2
	binutils-csl-arm-2006q3-21:1.2
	binutils-csl-sourcerygxx-4_1-22:1.2
	binutils-csl-palmsource-arm-prelinker-1_0-1:1.2
	binutils-csl-sourcerygxx-4_1-20:1.2
	binutils-csl-arm-2006q3-19:1.2
	binutils-csl-sourcerygxx-4_1-19:1.2
	binutils-csl-sourcerygxx-4_1-18:1.2
	binutils-csl-renesas-4_1-9:1.2
	binutils-csl-sourcerygxx-3_4_4-25:1.2
	binutils-csl-renesas-4_1-8:1.2
	binutils-csl-renesas-4_1-7:1.2
	binutils-csl-renesas-4_1-6:1.2
	binutils-csl-sourcerygxx-4_1-17:1.2
	binutils-csl-sourcerygxx-4_1-14:1.2
	binutils-csl-sourcerygxx-4_1-15:1.2
	binutils-csl-sourcerygxx-4_1-13:1.2
	binutils-2_17:1.2
	binutils-csl-sourcerygxx-4_1-12:1.2
	binutils-csl-sourcerygxx-3_4_4-21:1.2
	binutils-csl-wrs-linux-3_4_4-24:1.2
	binutils-csl-wrs-linux-3_4_4-23:1.2
	binutils-csl-sourcerygxx-4_1-9:1.2
	binutils-csl-sourcerygxx-4_1-8:1.2
	binutils-csl-sourcerygxx-4_1-7:1.2
	binutils-csl-arm-2006q1-6:1.2
	binutils-csl-sourcerygxx-4_1-6:1.2
	binutils-csl-wrs-linux-3_4_4-22:1.2
	binutils-csl-coldfire-4_1-11:1.2
	binutils-csl-sourcerygxx-3_4_4-19:1.2
	binutils-csl-coldfire-4_1-10:1.2
	binutils-csl-sourcerygxx-4_1-5:1.2
	binutils-csl-sourcerygxx-4_1-4:1.2
	binutils-csl-wrs-linux-3_4_4-21:1.2
	binutils-csl-morpho-4_1-4:1.2
	binutils-csl-sourcerygxx-3_4_4-17:1.2
	binutils-csl-wrs-linux-3_4_4-20:1.2
	binutils-2_17-branch:1.2.0.10
	binutils-2_17-branchpoint:1.2
	binutils-csl-2_17-branch:1.2.0.8
	binutils-csl-2_17-branchpoint:1.2
	binutils-csl-gxxpro-3_4-branch:1.2.0.6
	binutils-csl-gxxpro-3_4-branchpoint:1.2
	binutils-2_16_1:1.2
	binutils-csl-arm-2005q1b:1.2
	binutils-2_16:1.2
	binutils-csl-arm-2005q1a:1.2
	binutils-csl-arm-2005q1-branch:1.2.0.4
	binutils-csl-arm-2005q1-branchpoint:1.2
	binutils-2_16-branch:1.2.0.2
	binutils-2_16-branchpoint:1.2
	csl-arm-2004-q3d:1.2
	csl-arm-2004-q3:1.2
	csl-arm-2004-q1a:1.1
	binutils_latest_snapshot:1.4;
locks; strict;
comment	@# @;


1.4
date	2012.08.07.13.47.19;	author nickc;	state Exp;
branches;
next	1.3;

1.3
date	2007.02.05.02.36.47;	author hjl;	state Exp;
branches;
next	1.2;

1.2
date	2004.09.29.13.36.22;	author amodra;	state Exp;
branches;
next	1.1;

1.1
date	2004.04.20.12.17.15;	author nickc;	state Exp;
branches;
next	;


desc
@@


1.4
log
@	* config/tc-i386.c (lex_got): Provide implementation for PE
	format.

	* gas/i386/secrel.s: Add test of <symbol>@@SECREL32.
	* gas/i386/secrel.d: Add expected disassembly.

	* scripttempl/pe.sc (R_TLS): Add .tls$AAA and .tls$ZZZ.
	* scripttempl/pep.sc (R_TLS): Add .tls$AAA and .tls$ZZZ.

	* archive.c (_bfd_delete_archive_data): New function.
	* libbfd-in.h (_bfd_delete_archive_data): Declare.
	* libbfd.h: Rebuild.
	* opncls.c (_bfd_delete_bfd): Call _bfd_delete_archive_data.
@
text
@#objdump: -rs
#name: i386 secrel reloc

.*: +file format pe-i386

RELOCATION RECORDS FOR \[\.data\]:
OFFSET[ 	]+TYPE[ 	]+VALUE 
0+24 secrel32          \.text
0+29 secrel32          \.text
0+2e secrel32          \.text
0+33 secrel32          \.text
0+44 secrel32          \.data
0+49 secrel32          \.data
0+4e secrel32          \.data
0+53 secrel32          \.data
0+64 secrel32          \.rdata
0+69 secrel32          \.rdata
0+6e secrel32          \.rdata
0+73 secrel32          \.rdata
0+84 secrel32          ext24
0+89 secrel32          ext2d
0+8e secrel32          ext36
0+93 secrel32          ext3f
0+a2 secrel32          bar

Contents of section \.text:
 0000 3e3e3e3e 3c3c3c3c 3e3e3e3e 3e3c3c3c  >>>><<<<>>>>><<<
 0010 3e3e3e3e 3e3e3c3c 3e3e3e3e 3e3e3e3c  >>>>>><<>>>>>>><
Contents of section \.data:
 0000 3e3e3e3e 3c3c3c3c 3e3e3e3e 3e3c3c3c  >>>><<<<>>>>><<<
 0010 3e3e3e3e 3e3e3c3c 3e3e3e3e 3e3e3e3c  >>>>>><<>>>>>>><
 0020 3e3e3e3e 04000000 110d0000 00111600  >>>>............
 0030 0000111f 00000011 3c3c3c3c 3c3c3c3c  ........<<<<<<<<
 0040 3e3e3e3e 04000000 110d0000 00111600  >>>>............
 0050 0000111f 00000011 3c3c3c3c 3c3c3c3c  ........<<<<<<<<
 0060 3e3e3e3e 04000000 110d0000 00111600  >>>>............
 0070 0000111f 00000011 3c3c3c3c 3c3c3c3c  ........<<<<<<<<
 0080 3e3e3e3e 00000000 11000000 00110000  >>>>............
 0090 00001100 00000011 3c3c3c3c 3c3c3c3c  ........<<<<<<<<
 00a0 8d902c00 00000000                    ..,.....        
Contents of section \.rdata:
 0000 3e3e3e3e 3c3c3c3c 3e3e3e3e 3e3c3c3c  >>>><<<<>>>>><<<
 0010 3e3e3e3e 3e3e3c3c 3e3e3e3e 3e3e3e3c  >>>>>><<>>>>>>><
 0020 3e3e3e3e 00000000 00000000 00000000  >>>>............
@


1.3
log
@2076-02-04  H.J. Lu  <hongjiu.lu@@intel.com>

	PR gas/3961
	* gas/i386/secrel.d: Support 64bit host.
@
text
@d24 1
a24 1

d40 1
@


1.2
log
@gas/testsuite/
	* gas/i386/secrel.s: Pad .rdata out to 16 byte boundary.
	* gas/i386/secrel.d: Adjust to suit.

ld/testsuite/
	* ld-pe/secrel1.s: Pad .rdata out to 16 byte boundary.
	* ld-pe/secrel.d: Adjust to suit.
@
text
@d7 17
a23 17
OFFSET   TYPE              VALUE 
00000024 secrel32          \.text
00000029 secrel32          \.text
0000002e secrel32          \.text
00000033 secrel32          \.text
00000044 secrel32          \.data
00000049 secrel32          \.data
0000004e secrel32          \.data
00000053 secrel32          \.data
00000064 secrel32          \.rdata
00000069 secrel32          \.rdata
0000006e secrel32          \.rdata
00000073 secrel32          \.rdata
00000084 secrel32          ext24
00000089 secrel32          ext2d
0000008e secrel32          ext36
00000093 secrel32          ext3f
@


1.1
log
@Add support for a .secrel32 x86 reloc to allow DWARF" debug information to used
with COFF based x86 ports.
@
text
@d43 1
a43 1
 0020 3e3e3e3e                             >>>>            
@

