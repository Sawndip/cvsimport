head	1.3;
access;
symbols
	binutils-2_24-branch:1.3.0.38
	binutils-2_24-branchpoint:1.3
	binutils-2_21_1:1.3
	binutils-2_23_2:1.3
	binutils-2_23_1:1.3
	binutils-2_23:1.3
	binutils-2_23-branch:1.3.0.36
	binutils-2_23-branchpoint:1.3
	binutils-2_22_branch:1.3.0.34
	binutils-2_22:1.3
	binutils-2_22-branch:1.3.0.32
	binutils-2_22-branchpoint:1.3
	binutils-2_21:1.3
	binutils-2_21-branch:1.3.0.30
	binutils-2_21-branchpoint:1.3
	binutils-2_20_1:1.3
	binutils-2_20:1.3
	binutils-arc-20081103-branch:1.3.0.28
	binutils-arc-20081103-branchpoint:1.3
	binutils-2_20-branch:1.3.0.26
	binutils-2_20-branchpoint:1.3
	dje-cgen-play1-branch:1.3.0.24
	dje-cgen-play1-branchpoint:1.3
	arc-20081103-branch:1.3.0.22
	arc-20081103-branchpoint:1.3
	binutils-2_19_1:1.3
	binutils-2_19:1.3
	binutils-2_19-branch:1.3.0.20
	binutils-2_19-branchpoint:1.3
	binutils-2_18:1.3
	binutils-2_18-branch:1.3.0.18
	binutils-2_18-branchpoint:1.3
	binutils-csl-coldfire-4_1-32:1.3
	binutils-csl-sourcerygxx-4_1-32:1.3
	binutils-csl-innovasic-fido-3_4_4-33:1.3
	binutils-csl-sourcerygxx-3_4_4-32:1.3
	binutils-csl-coldfire-4_1-30:1.3
	binutils-csl-sourcerygxx-4_1-30:1.3
	binutils-csl-coldfire-4_1-28:1.3
	binutils-csl-sourcerygxx-4_1-29:1.3
	binutils-csl-sourcerygxx-4_1-28:1.3
	binutils-csl-arm-2006q3-27:1.3
	binutils-csl-sourcerygxx-4_1-27:1.3
	binutils-csl-arm-2006q3-26:1.3
	binutils-csl-sourcerygxx-4_1-26:1.3
	binutils-csl-sourcerygxx-4_1-25:1.3
	binutils-csl-sourcerygxx-4_1-24:1.3
	binutils-csl-sourcerygxx-4_1-23:1.3
	binutils-csl-sourcerygxx-4_1-21:1.3
	binutils-csl-arm-2006q3-21:1.3
	binutils-csl-sourcerygxx-4_1-22:1.3
	binutils-csl-palmsource-arm-prelinker-1_0-1:1.3
	binutils-csl-sourcerygxx-4_1-20:1.3
	binutils-csl-arm-2006q3-19:1.3
	binutils-csl-sourcerygxx-4_1-19:1.3
	binutils-csl-sourcerygxx-4_1-18:1.3
	binutils-csl-renesas-4_1-9:1.3
	binutils-csl-sourcerygxx-3_4_4-25:1.3
	binutils-csl-renesas-4_1-8:1.3
	binutils-csl-renesas-4_1-7:1.3
	binutils-csl-renesas-4_1-6:1.3
	binutils-csl-sourcerygxx-4_1-17:1.3
	binutils-csl-sourcerygxx-4_1-14:1.3
	binutils-csl-sourcerygxx-4_1-15:1.3
	binutils-csl-sourcerygxx-4_1-13:1.3
	binutils-2_17:1.3
	binutils-csl-sourcerygxx-4_1-12:1.3
	binutils-csl-sourcerygxx-3_4_4-21:1.3
	binutils-csl-wrs-linux-3_4_4-24:1.3
	binutils-csl-wrs-linux-3_4_4-23:1.3
	binutils-csl-sourcerygxx-4_1-9:1.3
	binutils-csl-sourcerygxx-4_1-8:1.3
	binutils-csl-sourcerygxx-4_1-7:1.3
	binutils-csl-arm-2006q1-6:1.3
	binutils-csl-sourcerygxx-4_1-6:1.3
	binutils-csl-wrs-linux-3_4_4-22:1.3
	binutils-csl-coldfire-4_1-11:1.3
	binutils-csl-sourcerygxx-3_4_4-19:1.3
	binutils-csl-coldfire-4_1-10:1.3
	binutils-csl-sourcerygxx-4_1-5:1.3
	binutils-csl-sourcerygxx-4_1-4:1.3
	binutils-csl-wrs-linux-3_4_4-21:1.3
	binutils-csl-morpho-4_1-4:1.3
	binutils-csl-sourcerygxx-3_4_4-17:1.3
	binutils-csl-wrs-linux-3_4_4-20:1.3
	binutils-2_17-branch:1.3.0.16
	binutils-2_17-branchpoint:1.3
	binutils-csl-2_17-branch:1.3.0.14
	binutils-csl-2_17-branchpoint:1.3
	binutils-csl-gxxpro-3_4-branch:1.3.0.12
	binutils-csl-gxxpro-3_4-branchpoint:1.3
	binutils-2_16_1:1.3
	binutils-csl-arm-2005q1b:1.3
	binutils-2_16:1.3
	binutils-csl-arm-2005q1a:1.3
	binutils-csl-arm-2005q1-branch:1.3.0.10
	binutils-csl-arm-2005q1-branchpoint:1.3
	binutils-2_16-branch:1.3.0.8
	binutils-2_16-branchpoint:1.3
	csl-arm-2004-q3d:1.3
	csl-arm-2004-q3:1.3
	binutils-2_15:1.3
	binutils-2_15-branchpoint:1.3
	csl-arm-2004-q1a:1.3
	csl-arm-2004-q1:1.3
	binutils-2_15-branch:1.3.0.6
	cagney_bfdfile-20040213-branch:1.3.0.4
	cagney_bfdfile-20040213-branchpoint:1.3
	cagney_bigcore-20040122-branch:1.3.0.2
	cagney_bigcore-20040122-branchpoint:1.3
	csl-arm-2003-q4:1.3
	binutils-2_14:1.2
	binutils-2_14-branch:1.2.0.2
	binutils-2_14-branchpoint:1.2
	binutils-2_13_2_1:1.1
	binutils-2_13_2:1.1
	binutils-2_13_1:1.1
	binutils-2_13:1.1
	binutils-2_13-branchpoint:1.1
	binutils-2_13-branch:1.1.0.2
	binutils_latest_snapshot:1.3;
locks; strict;
comment	@# @;


1.3
date	2003.09.30.21.02.08;	author cgd;	state Exp;
branches;
next	1.2;

1.2
date	2002.09.05.00.05.44;	author amodra;	state Exp;
branches;
next	1.1;

1.1
date	2002.03.16.03.09.17;	author cgd;	state Exp;
branches;
next	;


desc
@@


1.3
log
@[ gas/ChangeLog ]
2003-09-30  Chris Demetriou  <cgd@@broadcom.com>

        * config/tc-mips.c (mips_ip): Capitalize first word of
        existing condition code warning, and add condition code
        warnings for .ps instructions, and for bc1any[24][tf].

[ gas/testsuite/ChangeLog ]
2003-09-30  Chris Demetriou  <cgd@@broadcom.com>

        * lib/gas-defs.exp (run_dump_test): If stderr file is specified
        and there was no stderr output, compare anyway (i.e., cause a
        test failure).
        * gas/mips/mips64-mips3d.s: Add some new instructions to test warnings.
        * gas/mips/mips64-mips3d.l: New file.
        * gas/mips/mips64-mips3d.d: Use mips64-mips3d.l, and update for
        changes to mips64-mips3d.s.
        * gas/mips/mips64-mips3d-incl.d: Likewise.
        * gas/mips/set-arch.l: New file.
        * gas/mips/set-arch.d: Specify set-arch.l as stderr output to check.
        * gas/mips/mips5.l: Make error messages match source.
@
text
@# source file to test assembly of mips64 MIPS-3D ASE instructions

	.set noreorder
	.set noat

	.text
text_label:

	addr.ps		$f4, $f8, $f19

	bc1any2f	$fcc0, text_label
	nop
	bc1any2f	$fcc2, text_label
	nop

	bc1any2t	$fcc0, text_label
	nop
	bc1any2t	$fcc4, text_label
	nop

	bc1any4f	$fcc0, text_label
	nop
	bc1any4f	$fcc4, text_label
	nop

	bc1any4t	$fcc0, text_label
	nop
	bc1any4t	$fcc4, text_label
	nop

	cabs.f.d	$fcc0, $f8, $f19
	cabs.f.d	$fcc2, $f8, $f19
	cabs.f.s	$fcc0, $f8, $f19
	cabs.f.s	$fcc2, $f8, $f19
	cabs.f.ps	$fcc0, $f8, $f19
	cabs.f.ps	$fcc2, $f8, $f19
	cabs.un.d	$fcc0, $f8, $f19
	cabs.un.d	$fcc2, $f8, $f19
	cabs.un.s	$fcc0, $f8, $f19
	cabs.un.s	$fcc2, $f8, $f19
	cabs.un.ps	$fcc0, $f8, $f19
	cabs.un.ps	$fcc2, $f8, $f19
	cabs.eq.d	$fcc0, $f8, $f19
	cabs.eq.d	$fcc2, $f8, $f19
	cabs.eq.s	$fcc0, $f8, $f19
	cabs.eq.s	$fcc2, $f8, $f19
	cabs.eq.ps	$fcc0, $f8, $f19
	cabs.eq.ps	$fcc2, $f8, $f19
	cabs.ueq.d	$fcc0, $f8, $f19
	cabs.ueq.d	$fcc2, $f8, $f19
	cabs.ueq.s	$fcc0, $f8, $f19
	cabs.ueq.s	$fcc2, $f8, $f19
	cabs.ueq.ps	$fcc0, $f8, $f19
	cabs.ueq.ps	$fcc2, $f8, $f19
	cabs.olt.d	$fcc0, $f8, $f19
	cabs.olt.d	$fcc2, $f8, $f19
	cabs.olt.s	$fcc0, $f8, $f19
	cabs.olt.s	$fcc2, $f8, $f19
	cabs.olt.ps	$fcc0, $f8, $f19
	cabs.olt.ps	$fcc2, $f8, $f19
	cabs.ult.d	$fcc0, $f8, $f19
	cabs.ult.d	$fcc2, $f8, $f19
	cabs.ult.s	$fcc0, $f8, $f19
	cabs.ult.s	$fcc2, $f8, $f19
	cabs.ult.ps	$fcc0, $f8, $f19
	cabs.ult.ps	$fcc2, $f8, $f19
	cabs.ole.d	$fcc0, $f8, $f19
	cabs.ole.d	$fcc2, $f8, $f19
	cabs.ole.s	$fcc0, $f8, $f19
	cabs.ole.s	$fcc2, $f8, $f19
	cabs.ole.ps	$fcc0, $f8, $f19
	cabs.ole.ps	$fcc2, $f8, $f19
	cabs.ule.d	$fcc0, $f8, $f19
	cabs.ule.d	$fcc2, $f8, $f19
	cabs.ule.s	$fcc0, $f8, $f19
	cabs.ule.s	$fcc2, $f8, $f19
	cabs.ule.ps	$fcc0, $f8, $f19
	cabs.ule.ps	$fcc2, $f8, $f19
	cabs.sf.d	$fcc0, $f8, $f19
	cabs.sf.d	$fcc2, $f8, $f19
	cabs.sf.s	$fcc0, $f8, $f19
	cabs.sf.s	$fcc2, $f8, $f19
	cabs.sf.ps	$fcc0, $f8, $f19
	cabs.sf.ps	$fcc2, $f8, $f19
	cabs.ngle.d	$fcc0, $f8, $f19
	cabs.ngle.d	$fcc2, $f8, $f19
	cabs.ngle.s	$fcc0, $f8, $f19
	cabs.ngle.s	$fcc2, $f8, $f19
	cabs.ngle.ps	$fcc0, $f8, $f19
	cabs.ngle.ps	$fcc2, $f8, $f19
	cabs.seq.d	$fcc0, $f8, $f19
	cabs.seq.d	$fcc2, $f8, $f19
	cabs.seq.s	$fcc0, $f8, $f19
	cabs.seq.s	$fcc2, $f8, $f19
	cabs.seq.ps	$fcc0, $f8, $f19
	cabs.seq.ps	$fcc2, $f8, $f19
	cabs.ngl.d	$fcc0, $f8, $f19
	cabs.ngl.d	$fcc2, $f8, $f19
	cabs.ngl.s	$fcc0, $f8, $f19
	cabs.ngl.s	$fcc2, $f8, $f19
	cabs.ngl.ps	$fcc0, $f8, $f19
	cabs.ngl.ps	$fcc2, $f8, $f19
	cabs.lt.d	$fcc0, $f8, $f19
	cabs.lt.d	$fcc2, $f8, $f19
	cabs.lt.s	$fcc0, $f8, $f19
	cabs.lt.s	$fcc2, $f8, $f19
	cabs.lt.ps	$fcc0, $f8, $f19
	cabs.lt.ps	$fcc2, $f8, $f19
	cabs.nge.d	$fcc0, $f8, $f19
	cabs.nge.d	$fcc2, $f8, $f19
	cabs.nge.s	$fcc0, $f8, $f19
	cabs.nge.s	$fcc2, $f8, $f19
	cabs.nge.ps	$fcc0, $f8, $f19
	cabs.nge.ps	$fcc2, $f8, $f19
	cabs.le.d	$fcc0, $f8, $f19
	cabs.le.d	$fcc2, $f8, $f19
	cabs.le.s	$fcc0, $f8, $f19
	cabs.le.s	$fcc2, $f8, $f19
	cabs.le.ps	$fcc0, $f8, $f19
	cabs.le.ps	$fcc2, $f8, $f19
	cabs.ngt.d	$fcc0, $f8, $f19
	cabs.ngt.d	$fcc2, $f8, $f19
	cabs.ngt.s	$fcc0, $f8, $f19
	cabs.ngt.s	$fcc2, $f8, $f19
	cabs.ngt.ps	$fcc0, $f8, $f19
	cabs.ngt.ps	$fcc2, $f8, $f19

	cvt.pw.ps	$f4, $f19

	cvt.ps.pw	$f4, $f19

	mulr.ps		$f4, $f8, $f19

	recip1.d	$f8, $f19
	recip1.s	$f8, $f19
	recip1.ps	$f8, $f19

	recip2.d	$f4, $f8, $f19
	recip2.s	$f4, $f8, $f19
	recip2.ps	$f4, $f8, $f19

	rsqrt1.d	$f8, $f19
	rsqrt1.s	$f8, $f19
	rsqrt1.ps	$f8, $f19

	rsqrt2.d	$f4, $f8, $f19
	rsqrt2.s	$f4, $f8, $f19
	rsqrt2.ps	$f4, $f8, $f19

	bc1any2f	$fcc1, text_label	# warns
	nop
	bc1any2t	$fcc3, text_label	# warns
	nop
	bc1any4f	$fcc1, text_label	# warns
	nop
	bc1any4t	$fcc2, text_label	# warns
	nop

# Force at least 8 (non-delay-slot) zero bytes, to make 'objdump' print ...
      .space  8
@


1.2
log
@	* gas/i386/absrel.s: New.
	* gas/i386/absrel.d: New.
	* gas/i386/pcrel.s: New.
	* gas/i386/pcrel.d: New.
	* gas/i386/i386.exp: Run them.
	* gas/testsuite/gas/mmix/comment-1.d: Don't test the symbol
	index, the name will do.
	* gas/mri/moveml.d: Escape dots.
	* gas/macros/macros.exp (strings): Add rs6000-*-* to xfails.
	* gas/mips/beq.s: Don't make text_label global.
	* gas/mips/mips32.s: Likewise.
	* gas/mips/mips64-mips3d.s: Likewise.
@
text
@d150 9
@


1.1
log
@[ gas/ChangeLog ]
2002-03-15  Chris G. Demetriou  <cgd@@broadcom.com>

	* config/tc-mips.c (mips_set_options): New "ase_mips3d" member.
	(mips_opts): Initialize "ase_mips3d" member.
	(file_ase_mips3d): New variable.
	(CPU_HAS_MIPS3D): New macro.
	(md_begin): Initialize mips_opts.ase_mips3d and file_ase_mips3d
	based on command line options and configuration defaults.
	(macro_build, mips_ip): Accept MIPS-3D instructions if
	mips_opts.ase_mips3d is set.
	(OPTION_MIPS3D, OPTION_NO_MIPS3D, md_longopts, md_parse_option):
	Add support for "-mips3d" and "-no-mips3d" options.
	(OPTION_ELF_BASE): Move to accomodate new options.
	(s_mipsset): Support ".set mips3d" and ".set nomips3d".
	(mips_elf_final_processing): Add a comment indicating that a
	MIPS-3D ASE ELF header flag should be set, when one exists.
	* doc/as.texinfo: Document -mips3d and -no-mips3d options.
	* doc/c-mips.texi: Likewise, and document ".set mips3d" and ".set
	nomips3d" directives.

[ gas/testsuite/ChangeLog ]
2002-03-15  Chris G. Demetriou  <cgd@@broadcom.com>

	* gas/mips/mips64-mips3d.s: New file.
	* gas/mips/mips64-mips3d.d: Likewise.
	* gas/mips/mips.exp: Run new "mips64-mips3d" test.

[ include/opcode/ChangeLog ]
2002-03-15  Chris G. Demetriou  <cgd@@broadcom.com>

	* mips.h (INSN_MIPS3D): New definition used to mark MIPS-3D
	instructions.
	(OPCODE_IS_MEMBER): Adjust comments to indicate that ASE bit masks
	may be passed along with the ISA bitmask.

[ opcodes/ChangeLog ]
2002-03-15  Chris G. Demetriou  <cgd@@broadcom.com>

	* mips-dis.c (mips_isa_type): Add MIPS3D instructions to the ISA
	bit masks for bfd_mach_mips_sb1 and bfd_mach_mipsisa64.  Add
	comments for bfd_mach_mipsisa32 and bfd_mach_mipsisa64 that
	indicate that they should dissassemble all applicable
	MIPS-specified ASEs.
	* mips-opc.c: Add support for MIPS-3D instructions.
	(M3D): New definition.

	* mips-opc.c: Update copyright years.
@
text
@d6 1
a6 1
	.globl text_label .text
@

