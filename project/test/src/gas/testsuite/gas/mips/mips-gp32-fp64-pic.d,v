head	1.7;
access;
symbols
	binutils-2_24-branch:1.7.0.22
	binutils-2_24-branchpoint:1.7
	binutils-2_21_1:1.7
	binutils-2_23_2:1.7
	binutils-2_23_1:1.7
	binutils-2_23:1.7
	binutils-2_23-branch:1.7.0.20
	binutils-2_23-branchpoint:1.7
	binutils-2_22_branch:1.7.0.18
	binutils-2_22:1.7
	binutils-2_22-branch:1.7.0.16
	binutils-2_22-branchpoint:1.7
	binutils-2_21:1.7
	binutils-2_21-branch:1.7.0.14
	binutils-2_21-branchpoint:1.7
	binutils-2_20_1:1.7
	binutils-2_20:1.7
	binutils-arc-20081103-branch:1.7.0.12
	binutils-arc-20081103-branchpoint:1.7
	binutils-2_20-branch:1.7.0.10
	binutils-2_20-branchpoint:1.7
	dje-cgen-play1-branch:1.7.0.8
	dje-cgen-play1-branchpoint:1.7
	arc-20081103-branch:1.7.0.6
	arc-20081103-branchpoint:1.7
	binutils-2_19_1:1.7
	binutils-2_19:1.7
	binutils-2_19-branch:1.7.0.4
	binutils-2_19-branchpoint:1.7
	binutils-2_18:1.7
	binutils-2_18-branch:1.7.0.2
	binutils-2_18-branchpoint:1.7
	binutils-csl-coldfire-4_1-32:1.6
	binutils-csl-sourcerygxx-4_1-32:1.6
	binutils-csl-innovasic-fido-3_4_4-33:1.6
	binutils-csl-sourcerygxx-3_4_4-32:1.6
	binutils-csl-coldfire-4_1-30:1.6
	binutils-csl-sourcerygxx-4_1-30:1.6
	binutils-csl-coldfire-4_1-28:1.6
	binutils-csl-sourcerygxx-4_1-29:1.6
	binutils-csl-sourcerygxx-4_1-28:1.6
	binutils-csl-arm-2006q3-27:1.6
	binutils-csl-sourcerygxx-4_1-27:1.6
	binutils-csl-arm-2006q3-26:1.6
	binutils-csl-sourcerygxx-4_1-26:1.6
	binutils-csl-sourcerygxx-4_1-25:1.6
	binutils-csl-sourcerygxx-4_1-24:1.6
	binutils-csl-sourcerygxx-4_1-23:1.6
	binutils-csl-sourcerygxx-4_1-21:1.6
	binutils-csl-arm-2006q3-21:1.6
	binutils-csl-sourcerygxx-4_1-22:1.6
	binutils-csl-palmsource-arm-prelinker-1_0-1:1.6
	binutils-csl-sourcerygxx-4_1-20:1.6
	binutils-csl-arm-2006q3-19:1.6
	binutils-csl-sourcerygxx-4_1-19:1.6
	binutils-csl-sourcerygxx-4_1-18:1.6
	binutils-csl-renesas-4_1-9:1.6
	binutils-csl-sourcerygxx-3_4_4-25:1.6
	binutils-csl-renesas-4_1-8:1.6
	binutils-csl-renesas-4_1-7:1.6
	binutils-csl-renesas-4_1-6:1.6
	binutils-csl-sourcerygxx-4_1-17:1.6
	binutils-csl-sourcerygxx-4_1-14:1.6
	binutils-csl-sourcerygxx-4_1-15:1.6
	binutils-csl-sourcerygxx-4_1-13:1.6
	binutils-2_17:1.6
	binutils-csl-sourcerygxx-4_1-12:1.6
	binutils-csl-sourcerygxx-3_4_4-21:1.6
	binutils-csl-wrs-linux-3_4_4-24:1.6
	binutils-csl-wrs-linux-3_4_4-23:1.6
	binutils-csl-sourcerygxx-4_1-9:1.6
	binutils-csl-sourcerygxx-4_1-8:1.6
	binutils-csl-sourcerygxx-4_1-7:1.6
	binutils-csl-arm-2006q1-6:1.6
	binutils-csl-sourcerygxx-4_1-6:1.6
	binutils-csl-wrs-linux-3_4_4-22:1.6
	binutils-csl-coldfire-4_1-11:1.6
	binutils-csl-sourcerygxx-3_4_4-19:1.6
	binutils-csl-coldfire-4_1-10:1.6
	binutils-csl-sourcerygxx-4_1-5:1.6
	binutils-csl-sourcerygxx-4_1-4:1.6
	binutils-csl-wrs-linux-3_4_4-21:1.6
	binutils-csl-morpho-4_1-4:1.6
	binutils-csl-sourcerygxx-3_4_4-17:1.6
	binutils-csl-wrs-linux-3_4_4-20:1.6
	binutils-2_17-branch:1.6.0.10
	binutils-2_17-branchpoint:1.6
	binutils-csl-2_17-branch:1.6.0.8
	binutils-csl-2_17-branchpoint:1.6
	binutils-csl-gxxpro-3_4-branch:1.6.0.6
	binutils-csl-gxxpro-3_4-branchpoint:1.6
	binutils-2_16_1:1.6
	binutils-csl-arm-2005q1b:1.6
	binutils-2_16:1.6
	binutils-csl-arm-2005q1a:1.6
	binutils-csl-arm-2005q1-branch:1.6.0.4
	binutils-csl-arm-2005q1-branchpoint:1.6
	binutils-2_16-branch:1.6.0.2
	binutils-2_16-branchpoint:1.6
	csl-arm-2004-q3d:1.6
	csl-arm-2004-q3:1.6
	binutils-2_15:1.5
	binutils-2_15-branchpoint:1.5
	csl-arm-2004-q1a:1.6
	csl-arm-2004-q1:1.5
	binutils-2_15-branch:1.5.0.6
	cagney_bfdfile-20040213-branch:1.5.0.4
	cagney_bfdfile-20040213-branchpoint:1.5
	cagney_bigcore-20040122-branch:1.5.0.2
	cagney_bigcore-20040122-branchpoint:1.5
	csl-arm-2003-q4:1.5
	binutils-2_14:1.4.2.1
	binutils-2_14-branch:1.4.0.2
	binutils-2_14-branchpoint:1.4
	binutils-2_13_2_1:1.3
	binutils-2_13_2:1.3
	binutils-2_13_1:1.3
	binutils-2_13:1.3
	binutils-2_13-branchpoint:1.3
	binutils-2_13-branch:1.3.0.4
	binutils-2_12_1:1.3
	binutils-2_12:1.3
	binutils-2_12-branch:1.3.0.2
	binutils-2_12-branchpoint:1.3
	cygnus_cvs_20020108_pre:1.3
	binutils_latest_snapshot:1.7;
locks; strict;
comment	@# @;


1.7
date	2006.05.23.15.37.20;	author ths;	state Exp;
branches;
next	1.6;

1.6
date	2004.04.22.18.13.56;	author ths;	state Exp;
branches;
next	1.5;

1.5
date	2003.05.07.05.08.20;	author aoliva;	state Exp;
branches;
next	1.4;

1.4
date	2002.07.25.09.48.07;	author rsandifo;	state Exp;
branches
	1.4.2.1;
next	1.3;

1.3
date	2001.08.10.16.28.04;	author rsandifo;	state Exp;
branches;
next	1.2;

1.2
date	2001.08.05.00.53.28;	author hjl;	state Exp;
branches;
next	1.1;

1.1
date	2001.08.02.10.16.49;	author rsandifo;	state Exp;
branches;
next	;

1.4.2.1
date	2003.05.15.19.19.35;	author drow;	state Exp;
branches;
next	;


desc
@@


1.7
log
@	[ gas/ChangeLog ]
	* config/tc-mips.c (ISA_SUPPORTS_SMARTMIPS): Rename.
	(ISA_SUPPORTS_DSP_ASE, ISA_SUPPORTS_MT_ASE, ISA_HAS_64BIT_FPRS,
	ISA_HAS_MXHC1): New macros.
	(HAVE_32BIT_FPRS): Use ISA_HAS_64BIT_FPRS instead of
	ISA_HAS_64BIT_REGS.  Formatting fixes.  Improved comments.
	(mips_cpu_info): Change to use combined ASE/IS_ISA flag.
	(MIPS_CPU_IS_ISA, MIPS_CPU_ASE_SMARTMIPS, MIPS_CPU_ASE_DSP,
	MIPS_CPU_ASE_MT, MIPS_CPU_ASE_MIPS3D, MIPS_CPU_ASE_MDMX): New defines.
	(mips_after_parse_args): Change default handling of float register
	size to account for 32bit code with 64bit FP. Better sanity checking
	of ISA/ASE/ABI option combinations.
	(s_mipsset): Support switching of GPR and FPR sizes via
	.set {g,f}p={32,64,default}. Better sanity checking for .set ASE
	options.
	(mips_elf_final_processing): We should record the use of 64bit FP
	registers in 32bit code but we don't, because ELF header flags are
	a scarce ressource.
	(mips_cpu_info_table): Add ASE flags for CPUs with mandatory ASE
	extensions. Add 4ksc, 4kec, 4kem, 4kep, 4ksd, m4kp, 24kec, 24kef,
	24kex, 34kc, 34kf, 34kx, 25kf CPU definitions.
	(mips_cpu_info_from_isa): Use MIPS_CPU_IS_ISA.
	* doc/c-mips.texi: Document .set {g,f}p={32,64,default}. Document
	missing -march options. Document .set arch=CPU. Move .set smartmips
	to ASE page. Use @@code for .set FOO examples.

	[ gas/testsuite/Changelog ]
	* gas/mips/mips-gp32-fp64-pic.d, mips/mips-gp32-fp64.d,
	gas/mips/mips-gp64-fp32-pic.d, gas/mips/mips-gp64-fp32.l,
	gas/mips/mips-gp64-fp64.d: Adjust test cases to the changes assembler
	output.
	* gas/mips/mips-gp32-fp64.l, gas/mips/mips-gp64-fp32-pic.l: New files,
	catch assembler warnings.
@
text
@#objdump: -d -mmips:8000
#as: -32 -march=8000 -EB -mgp32 -mfp64 -KPIC
#name: MIPS -mgp32 -mfp64 (SVR4 PIC)
#stderr: mips-gp32-fp64.l

.*: +file format.*

Disassembly of section .text:

0+000 <[^>]*>:
   0:	3c1c0000 	lui	gp,0x0
   4:	279c0000 	addiu	gp,gp,0
   8:	0399e021 	addu	gp,gp,t9
   c:	afbc0008 	sw	gp,8\(sp\)
  10:	009c2021 	addu	a0,a0,gp
  14:	3c041234 	lui	a0,0x1234
  18:	34845678 	ori	a0,a0,0x5678
  1c:	8f840000 	lw	a0,0\(gp\)
  20:	24840000 	addiu	a0,a0,0
  24:	8f840000 	lw	a0,0\(gp\)
  28:	24840000 	addiu	a0,a0,0
  2c:	8f840000 	lw	a0,0\(gp\)
  30:	2484015c 	addiu	a0,a0,348
  34:	10000049 	b	15c <[^>]*>
  38:	00000000 	nop
  3c:	8f990000 	lw	t9,0\(gp\)
  40:	2739015c 	addiu	t9,t9,348
  44:	0320f809 	jalr	t9
  48:	00000000 	nop
  4c:	8fbc0008 	lw	gp,8\(sp\)
  50:	8f840000 	lw	a0,0\(gp\)
  54:	24840000 	addiu	a0,a0,0
  58:	8c840000 	lw	a0,0\(a0\)
  5c:	8f840000 	lw	a0,0\(gp\)
  60:	24840000 	addiu	a0,a0,0
  64:	8c840000 	lw	a0,0\(a0\)
  68:	8f840000 	lw	a0,0\(gp\)
  6c:	2484015c 	addiu	a0,a0,348
  70:	8c840000 	lw	a0,0\(a0\)
  74:	8f810000 	lw	at,0\(gp\)
  78:	8c240000 	lw	a0,0\(at\)
  7c:	8c250004 	lw	a1,4\(at\)
  80:	8f810000 	lw	at,0\(gp\)
  84:	8c240000 	lw	a0,0\(at\)
  88:	8c250004 	lw	a1,4\(at\)
  8c:	8f810000 	lw	at,0\(gp\)
  90:	8c24015c 	lw	a0,348\(at\)
  94:	8c250160 	lw	a1,352\(at\)
  98:	8f810000 	lw	at,0\(gp\)
  9c:	24210000 	addiu	at,at,0
  a0:	ac240000 	sw	a0,0\(at\)
  a4:	8f810000 	lw	at,0\(gp\)
  a8:	24210000 	addiu	at,at,0
  ac:	ac240000 	sw	a0,0\(at\)
  b0:	8f810000 	lw	at,0\(gp\)
  b4:	ac240000 	sw	a0,0\(at\)
  b8:	ac250004 	sw	a1,4\(at\)
  bc:	8f810000 	lw	at,0\(gp\)
  c0:	ac240000 	sw	a0,0\(at\)
  c4:	ac250004 	sw	a1,4\(at\)
  c8:	8f810000 	lw	at,0\(gp\)
  cc:	24210000 	addiu	at,at,0
  d0:	80240000 	lb	a0,0\(at\)
  d4:	90210001 	lbu	at,1\(at\)
  d8:	00042200 	sll	a0,a0,0x8
  dc:	00812025 	or	a0,a0,at
  e0:	8f810000 	lw	at,0\(gp\)
  e4:	24210000 	addiu	at,at,0
  e8:	a0240001 	sb	a0,1\(at\)
  ec:	00042202 	srl	a0,a0,0x8
  f0:	a0240000 	sb	a0,0\(at\)
  f4:	90210001 	lbu	at,1\(at\)
  f8:	00042200 	sll	a0,a0,0x8
  fc:	00812025 	or	a0,a0,at
 100:	8f810000 	lw	at,0\(gp\)
 104:	24210000 	addiu	at,at,0
 108:	88240000 	lwl	a0,0\(at\)
 10c:	98240003 	lwr	a0,3\(at\)
 110:	8f810000 	lw	at,0\(gp\)
 114:	24210000 	addiu	at,at,0
 118:	a8240000 	swl	a0,0\(at\)
 11c:	b8240003 	swr	a0,3\(at\)
 120:	3c043ff0 	lui	a0,0x3ff0
 124:	00002821 	move	a1,zero
 128:	8f810000 	lw	at,0\(gp\)
 12c:	8c240000 	lw	a0,0\(at\)
 130:	8c250004 	lw	a1,4\(at\)
 134:	8f810000 	lw	at,0\(gp\)
 138:	d4200008 	ldc1	\$f0,8\(at\)
 13c:	8f810000 	lw	at,0\(gp\)
 140:	d4200010 	ldc1	\$f0,16\(at\)
 144:	24a40064 	addiu	a0,a1,100
 148:	2c840001 	sltiu	a0,a0,1
 14c:	24a40064 	addiu	a0,a1,100
 150:	0004202b 	sltu	a0,zero,a0
 154:	00a02021 	move	a0,a1
 158:	46231040 	add.d	\$f1,\$f2,\$f3

0+015c <[^>]*>:
	...
@


1.6
log
@* config/tc-mips.c (load_delay_nop): New function.
(load_address, macro): Use load_delay_nop() to build a nop
which can be omitted with gpr_interlocks.

* gas/mips/lb-xgot-ilocks.d: Remove nops in load delay slot.
* gas/mips/mips-abi32-pic.d: Likewise.
* gas/mips/mips-abi32-pic2.d: Likewise.
* gas/mips/mips-gp32-fp32-pic.d: Likewise.
* gas/mips/mips-gp32-fp64-pic.d: Likewise.
* gas/mips/mips-gp64-fp32-pic.d: Likewise.
* gas/mips/mips-gp64-fp64-pic.d: Likewise.
* gas/mips/relax-swap1-mips2.d: Likewise.
* gas/mips/lb-svr4pic-ilocks.d: New test.
* gas/mips/mips.exp: Run it.
@
text
@d4 1
@


1.5
log
@* gas/mips/abs.d, gas/mips/add.d, gas/mips/and.d,
gas/mips/beq.d, gas/mips/bge.d, gas/mips/bgeu.d,
gas/mips/blt.d, gas/mips/bltu.d, gas/mips/branch-misc-1.d,
gas/mips/break20.d, gas/mips/cp0sel-names-mips32.d,
gas/mips/cp0sel-names-mips32r2.d,
gas/mips/cp0sel-names-mips64.d,
gas/mips/cp0sel-names-numeric.d, gas/mips/cp0sel-names-sb1.d,
gas/mips/elf-jal.d, gas/mips/elf-rel.d, gas/mips/elf-rel2.d,
gas/mips/elf-rel3.d, gas/mips/elf-rel4.d, gas/mips/elf-rel5.d,
gas/mips/elf-rel6.d, gas/mips/elf-rel7.d,
gas/mips/elf_arch_mips1.d, gas/mips/elf_arch_mips2.d,
gas/mips/elf_arch_mips3.d, gas/mips/elf_arch_mips32.d,
gas/mips/elf_arch_mips32r2.d, gas/mips/elf_arch_mips4.d,
gas/mips/elf_arch_mips5.d, gas/mips/elf_arch_mips64.d,
gas/mips/elf_ase_mips16.d, gas/mips/empic.d,
gas/mips/empic2.d, gas/mips/empic3_e.d, gas/mips/empic3_g1.d,
gas/mips/empic3_g2.d, gas/mips/hwr-names-mips32r2.d,
gas/mips/hwr-names-numeric.d, gas/mips/jal-empic-elf-2.d,
gas/mips/jal-empic-elf-3.d, gas/mips/jal-empic-elf.d,
gas/mips/jal-svr4pic.d, gas/mips/jal-xgot.d, gas/mips/jal.d,
gas/mips/la-empic.d, gas/mips/la-svr4pic.d,
gas/mips/la-xgot.d, gas/mips/la.d, gas/mips/lb-empic.d,
gas/mips/lb-svr4pic.d, gas/mips/lb-xgot-ilocks.d,
gas/mips/lb-xgot.d, gas/mips/lb.d, gas/mips/ld-empic.d,
gas/mips/ld-svr4pic.d, gas/mips/ld-xgot.d, gas/mips/ld.d,
gas/mips/li.d, gas/mips/lif-empic.d, gas/mips/lif-svr4pic.d,
gas/mips/lif-xgot.d, gas/mips/lifloat.d,
gas/mips/mips-gp32-fp32-pic.d, gas/mips/mips-gp32-fp32.d,
gas/mips/mips-gp32-fp64-pic.d, gas/mips/mips-gp32-fp64.d,
gas/mips/mips-gp64-fp32-pic.d, gas/mips/mips-gp64-fp32.d,
gas/mips/mips-gp64-fp64-pic.d, gas/mips/mips-gp64-fp64.d,
gas/mips/mips.exp, gas/mips/mips16-e.d, gas/mips/mips16-f.d,
gas/mips/mips32.d, gas/mips/mips32r2.d, gas/mips/mips4010.d,
gas/mips/mips4650.d, gas/mips/mips64.d, gas/mips/mipsel16-e.d,
gas/mips/mipsel16-f.d, gas/mips/rol-hw.d, gas/mips/rol.d,
gas/mips/sb.d, gas/mips/sync.d, gas/mips/tempic.d,
gas/mips/tmips16-e.d, gas/mips/tmips16-f.d,
gas/mips/tmipsel16-e.d, gas/mips/tmipsel16-f.d,
gas/mips/trunc.d, gas/mips/uld.d, gas/mips/ulh-empic.d,
gas/mips/ulh-svr4pic.d, gas/mips/ulh-xgot.d, gas/mips/ulh.d,
gas/mips/ulh2-eb.d, gas/mips/ulh2-el.d, gas/mips/ulw.d,
gas/mips/ulw2-eb.d, gas/mips/ulw2-eb-ilocks.d, gas/mips/ulw2-el.d,
gas/mips/ulw2-el-ilocks.d, gas/mips/usd.d, gas/mips/ush.d,
gas/mips/usw.d, gas/mips/vr4122.d: Added ABI specification.
gas/vtable/vtable.exp: mips64*-*-linux* and mips*-*-irix6* are
RELA.
@
text
@d18 6
a23 6
  20:	00000000 	nop
  24:	24840000 	addiu	a0,a0,0
  28:	8f840000 	lw	a0,0\(gp\)
  2c:	00000000 	nop
  30:	24840000 	addiu	a0,a0,0
  34:	8f840000 	lw	a0,0\(gp\)
d25 29
a53 29
  3c:	248401a4 	addiu	a0,a0,420
  40:	10000058 	b	1a4 <[^>]*>
  44:	00000000 	nop
  48:	8f990000 	lw	t9,0\(gp\)
  4c:	00000000 	nop
  50:	273901a4 	addiu	t9,t9,420
  54:	0320f809 	jalr	t9
  58:	00000000 	nop
  5c:	8fbc0008 	lw	gp,8\(sp\)
  60:	8f840000 	lw	a0,0\(gp\)
  64:	00000000 	nop
  68:	24840000 	addiu	a0,a0,0
  6c:	8c840000 	lw	a0,0\(a0\)
  70:	8f840000 	lw	a0,0\(gp\)
  74:	00000000 	nop
  78:	24840000 	addiu	a0,a0,0
  7c:	8c840000 	lw	a0,0\(a0\)
  80:	8f840000 	lw	a0,0\(gp\)
  84:	00000000 	nop
  88:	248401a4 	addiu	a0,a0,420
  8c:	8c840000 	lw	a0,0\(a0\)
  90:	8f810000 	lw	at,0\(gp\)
  94:	00000000 	nop
  98:	8c240000 	lw	a0,0\(at\)
  9c:	8c250004 	lw	a1,4\(at\)
  a0:	8f810000 	lw	at,0\(gp\)
  a4:	00000000 	nop
  a8:	8c240000 	lw	a0,0\(at\)
  ac:	8c250004 	lw	a1,4\(at\)
d55 11
a65 11
  b4:	00000000 	nop
  b8:	8c2401a4 	lw	a0,420\(at\)
  bc:	8c2501a8 	lw	a1,424\(at\)
  c0:	8f810000 	lw	at,0\(gp\)
  c4:	00000000 	nop
  c8:	24210000 	addiu	at,at,0
  cc:	ac240000 	sw	a0,0\(at\)
  d0:	8f810000 	lw	at,0\(gp\)
  d4:	00000000 	nop
  d8:	24210000 	addiu	at,at,0
  dc:	ac240000 	sw	a0,0\(at\)
d67 7
a73 7
  e4:	00000000 	nop
  e8:	ac240000 	sw	a0,0\(at\)
  ec:	ac250004 	sw	a1,4\(at\)
  f0:	8f810000 	lw	at,0\(gp\)
  f4:	00000000 	nop
  f8:	ac240000 	sw	a0,0\(at\)
  fc:	ac250004 	sw	a1,4\(at\)
d75 22
a96 40
 104:	00000000 	nop
 108:	24210000 	addiu	at,at,0
 10c:	80240000 	lb	a0,0\(at\)
 110:	90210001 	lbu	at,1\(at\)
 114:	00042200 	sll	a0,a0,0x8
 118:	00812025 	or	a0,a0,at
 11c:	8f810000 	lw	at,0\(gp\)
 120:	00000000 	nop
 124:	24210000 	addiu	at,at,0
 128:	a0240001 	sb	a0,1\(at\)
 12c:	00042202 	srl	a0,a0,0x8
 130:	a0240000 	sb	a0,0\(at\)
 134:	90210001 	lbu	at,1\(at\)
 138:	00042200 	sll	a0,a0,0x8
 13c:	00812025 	or	a0,a0,at
 140:	8f810000 	lw	at,0\(gp\)
 144:	00000000 	nop
 148:	24210000 	addiu	at,at,0
 14c:	88240000 	lwl	a0,0\(at\)
 150:	98240003 	lwr	a0,3\(at\)
 154:	8f810000 	lw	at,0\(gp\)
 158:	00000000 	nop
 15c:	24210000 	addiu	at,at,0
 160:	a8240000 	swl	a0,0\(at\)
 164:	b8240003 	swr	a0,3\(at\)
 168:	3c043ff0 	lui	a0,0x3ff0
 16c:	00002821 	move	a1,zero
 170:	8f810000 	lw	at,0\(gp\)
 174:	8c240000 	lw	a0,0\(at\)
 178:	8c250004 	lw	a1,4\(at\)
 17c:	8f810000 	lw	at,0\(gp\)
 180:	d4200008 	ldc1	\$f0,8\(at\)
 184:	8f810000 	lw	at,0\(gp\)
 188:	d4200010 	ldc1	\$f0,16\(at\)
 18c:	24a40064 	addiu	a0,a1,100
 190:	2c840001 	sltiu	a0,a0,1
 194:	24a40064 	addiu	a0,a1,100
 198:	0004202b 	sltu	a0,zero,a0
 19c:	00a02021 	move	a0,a1
 1a0:	46231040 	add.d	\$f1,\$f2,\$f3
d98 1
a98 1
0+01a4 <[^>]*>:
@


1.4
log
@[gas/]
	* doc/c-mips.texi: Remove -mcpu.  Document -mabi.
	* configure.in (MIPS_CPU_STRING_DEFAULT): New configuration macro.
	(USE_E_MIPS_ABI_O32, MIPS_DEFAULT_64BIT): New configuration macros.
	* configure, config.in: Regenerate.
	* config/tc-mips.c (file_mips_abi): Rename to mips_abi.
	(mips_set_options): Remove "abi" field.
	(mips_opts): Update accordingly.  Replace all uses of mips_opts.abi
	with mips_abi.
	(mips_cpu): Remove.
	(mips_arch_string, mips_arch_info): New vars.
	(mips_tune_string, mips_tune_info): New vars.
	(ABI_NEEDS_32BIT_REGS, ABI_NEEDS_64BIT_REGS): New macros.
	(HAVE_32BIT_GPRS, HAVE_32BIT_FPRS): Don't check the ABI.
	(mips_isa_to_str, mips_cpu_to_str): Remove.
	(mips_ip): If the selected architecture is a generic ISA rather
	than a processor, only mention the ISA level in error messages.
	(OPTION_MCPU): Remove.
	(OPTION_FP64): New.
	(md_longopts): Add -mfp64, remove -mcpu.
	(mips_set_option_string): New fn.
	(md_parse_option): Make -mipsN update file_mips_isa rather than
	mips_opts.isa.  Use mips_set_option_string to set -march or -mtune.
	Don't let -mgp32 and -mfp32 change the ABI.
	(show): Move to end of file.  Constify string argument.
	(md_show_usage): Move to the end of the file.  Read available
	architectures from mips_cpu_info_table.
	(mips_set_architecture): New fn.
	(mips_after_parse_args): Rework.  Remove -mcpu handling.  -mipsN
	is an alias for -march=mipsN.  Don't change the ABI based on other
	flags.  Infer the register size from the ABI as	well as the
	architecture.  Complain about more conflicting arguments.
	Unify logic with GCC.
	(s_mipsset): Don't change the ABI.
	(mips_elf_final_processing): Check USE_E_MIPS_ABI_O32.
	(mips_cpu_info_table): Remove Generic-MIPS* entries, keeping just
	"mipsN"-type entries.  Remove entries that vary only in the
	manufacturer's prefix, or that have "000" replaced by "k".
	Remove TARGET_CPU entries.  Make r2000 entry use CPU_R3000.
	(mips_strict_matching_cpu_name_p, mips_matching_cpu_name_p): New fns.
	(mips_parse_cpu): New fn.
	(mips_cpu_info_from_name, mips_cpu_info_from_cpu): Remove.
	(mips_cpu_info_from_isa): Minor formatting tweak.

[gas/testsuite]
	* gas/mips/mips-gp32-fp64.d,
	* gas/mips/mips-gp32-fp64-pic.d: Add -mfp64.
@
text
@d2 1
a2 1
#as: -march=8000 -EB -mgp32 -mfp64 -KPIC
@


1.4.2.1
log
@	Merge from mainline:

	2003-05-06  Alexandre Oliva  <aoliva@@redhat.com>
	* gas/mips/abs.d, gas/mips/add.d, gas/mips/and.d,
	gas/mips/beq.d, gas/mips/bge.d, gas/mips/bgeu.d,
	gas/mips/blt.d, gas/mips/bltu.d, gas/mips/branch-misc-1.d,
	gas/mips/break20.d, gas/mips/cp0sel-names-mips32.d,
	gas/mips/cp0sel-names-mips32r2.d,
	gas/mips/cp0sel-names-mips64.d,
	gas/mips/cp0sel-names-numeric.d, gas/mips/cp0sel-names-sb1.d,
	gas/mips/elf-jal.d, gas/mips/elf-rel.d, gas/mips/elf-rel2.d,
	gas/mips/elf-rel3.d, gas/mips/elf-rel4.d, gas/mips/elf-rel5.d,
	gas/mips/elf-rel6.d, gas/mips/elf-rel7.d,
	gas/mips/elf_arch_mips1.d, gas/mips/elf_arch_mips2.d,
	gas/mips/elf_arch_mips3.d, gas/mips/elf_arch_mips32.d,
	gas/mips/elf_arch_mips32r2.d, gas/mips/elf_arch_mips4.d,
	gas/mips/elf_arch_mips5.d, gas/mips/elf_arch_mips64.d,
	gas/mips/elf_ase_mips16.d, gas/mips/empic.d,
	gas/mips/empic2.d, gas/mips/empic3_e.d, gas/mips/empic3_g1.d,
	gas/mips/empic3_g2.d, gas/mips/hwr-names-mips32r2.d,
	gas/mips/hwr-names-numeric.d, gas/mips/jal-empic-elf-2.d,
	gas/mips/jal-empic-elf-3.d, gas/mips/jal-empic-elf.d,
	gas/mips/jal-svr4pic.d, gas/mips/jal-xgot.d, gas/mips/jal.d,
	gas/mips/la-empic.d, gas/mips/la-svr4pic.d,
	gas/mips/la-xgot.d, gas/mips/la.d, gas/mips/lb-empic.d,
	gas/mips/lb-svr4pic.d, gas/mips/lb-xgot-ilocks.d,
	gas/mips/lb-xgot.d, gas/mips/lb.d, gas/mips/ld-empic.d,
	gas/mips/ld-svr4pic.d, gas/mips/ld-xgot.d, gas/mips/ld.d,
	gas/mips/li.d, gas/mips/lif-empic.d, gas/mips/lif-svr4pic.d,
	gas/mips/lif-xgot.d, gas/mips/lifloat.d,
	gas/mips/mips-gp32-fp32-pic.d, gas/mips/mips-gp32-fp32.d,
	gas/mips/mips-gp32-fp64-pic.d, gas/mips/mips-gp32-fp64.d,
	gas/mips/mips-gp64-fp32-pic.d, gas/mips/mips-gp64-fp32.d,
	gas/mips/mips-gp64-fp64-pic.d, gas/mips/mips-gp64-fp64.d,
	gas/mips/mips.exp, gas/mips/mips16-e.d, gas/mips/mips16-f.d,
	gas/mips/mips32.d, gas/mips/mips32r2.d, gas/mips/mips4010.d,
	gas/mips/mips4650.d, gas/mips/mips64.d, gas/mips/mipsel16-e.d,
	gas/mips/mipsel16-f.d, gas/mips/rol-hw.d, gas/mips/rol.d,
	gas/mips/sb.d, gas/mips/sync.d, gas/mips/tempic.d,
	gas/mips/tmips16-e.d, gas/mips/tmips16-f.d,
	gas/mips/tmipsel16-e.d, gas/mips/tmipsel16-f.d,
	gas/mips/trunc.d, gas/mips/uld.d, gas/mips/ulh-empic.d,
	gas/mips/ulh-svr4pic.d, gas/mips/ulh-xgot.d, gas/mips/ulh.d,
	gas/mips/ulh2-eb.d, gas/mips/ulh2-el.d, gas/mips/ulw.d,
	gas/mips/ulw2-eb.d, gas/mips/ulw2-eb-ilocks.d, gas/mips/ulw2-el.d,
	gas/mips/ulw2-el-ilocks.d, gas/mips/usd.d, gas/mips/ush.d,
	gas/mips/usw.d, gas/mips/vr4122.d: Added ABI specification.
	gas/vtable/vtable.exp: mips64*-*-linux* and mips*-*-irix6* are
	RELA.
@
text
@d2 1
a2 1
#as: -32 -march=8000 -EB -mgp32 -mfp64 -KPIC
@


1.3
log
@	* gas/mips/mips-gp32-fp32.d: Expect addu rather than or for moves.
	* gas/mips/mips-gp32-fp64.d: Likewise.
	* gas/mips/mips-abi32.d: Likewise.
	* gas/mips/mips-gp32-fp32-pic.d: Likewise.
	* gas/mips/mips-gp32-fp64-pic.d: Likewise.
	* gas/mips/mips-abi32-pic.d: Likewise.
@
text
@d2 1
a2 1
#as: -march=8000 -EB -mgp32 -KPIC
@


1.2
log
@2001-08-04  H.J. Lu  <hjl@@gnu.org>
	    Chris G. Demetriou <cgd@@broadcom.com>

	* gas/mips/e32-rel4.s: Removed.

	* gas/mips/e32-rel4.d: Use elf-rel4.s.

	* gas/mips/mips.exp: Use the same rel4 test for litte endian.

	* gas/mips/mips-abi32-pic.d: Add lines for objdump.
	* gas/mips/mips-abi32.d: Likewise.
	* gas/mips/mips-gp32-fp32-pic.d: Likewise.
	* gas/mips/mips-gp32-fp32.d: Likewise.
	* gas/mips/mips-gp32-fp64-pic.d: Likewise.
	* gas/mips/mips-gp32-fp64.d: Likewise.
	* gas/mips/mips-gp64-fp32-pic.d: Likewise.
	* gas/mips/mips-gp64-fp32.d: Likewise.
	* gas/mips/mips-gp64-fp64-pic.d: Likewise.
	* gas/mips/mips-gp64-fp64.d: Likewise.

	* gas/mips/mips-abi32-pic.s: Add space for objdump.
	* gas/mips/mips-abi32.s: Likewise.
	* gas/mips/mips-gp32-fp32-pic.s: Likewise.
	* gas/mips/mips-gp32-fp32.s: Likewise.
	* gas/mips/mips-gp32-fp64-pic.s: Likewise.
	* gas/mips/mips-gp32-fp64.s: Likewise.
	* gas/mips/mips-gp64-fp32-pic.s: Likewise.
	* gas/mips/mips-gp64-fp32.s: Likewise.
	* gas/mips/mips-gp64-fp64-pic.s: Likewise.
	* gas/mips/mips-gp64-fp64.s: Likewise.

	* gas/mips/mips-abi32-pic.s: Add the missing .end.
	* gas/mips/mips-gp32-fp32-pic.s: Likewise.
	* gas/mips/mips-gp32-fp64-pic.s: Likewise.
	* gas/mips/mips-gp64-fp32-pic.s: Likewise.
	* gas/mips/mips-gp64-fp64-pic.s: Likewise.
@
text
@d101 1
a101 1
 16c:	00002825 	move	a1,zero
d113 1
a113 1
 19c:	00a02025 	move	a0,a1
@


1.1
log
@	* gas/mips/mips-gp32-fp32,
	* gas/mips/mips-gp32-fp64,
	* gas/mips/mips-gp64-fp32,
	* gas/mips/mips-gp64-fp64,
	* gas/mips/mips-abi32,
	* gas/mips/mips-gp32-fp32-pic,
	* gas/mips/mips-gp32-fp64-pic,
	* gas/mips/mips-gp64-fp32-pic,
	* gas/mips/mips-gp64-fp64-pic,
	* gas/mips/mips-abi32-pic: New testcases.

	* gas/mips/mips.exp: Run them.
@
text
@d115 3
@

