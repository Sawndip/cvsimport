head	1.7;
access;
symbols
	binutils-2_24-branch:1.7.0.22
	binutils-2_24-branchpoint:1.7
	binutils-2_21_1:1.7
	binutils-2_23_2:1.7
	binutils-2_23_1:1.7
	binutils-2_23:1.7
	binutils-2_23-branch:1.7.0.20
	binutils-2_23-branchpoint:1.7
	binutils-2_22_branch:1.7.0.18
	binutils-2_22:1.7
	binutils-2_22-branch:1.7.0.16
	binutils-2_22-branchpoint:1.7
	binutils-2_21:1.7
	binutils-2_21-branch:1.7.0.14
	binutils-2_21-branchpoint:1.7
	binutils-2_20_1:1.7
	binutils-2_20:1.7
	binutils-arc-20081103-branch:1.7.0.12
	binutils-arc-20081103-branchpoint:1.7
	binutils-2_20-branch:1.7.0.10
	binutils-2_20-branchpoint:1.7
	dje-cgen-play1-branch:1.7.0.8
	dje-cgen-play1-branchpoint:1.7
	arc-20081103-branch:1.7.0.6
	arc-20081103-branchpoint:1.7
	binutils-2_19_1:1.7
	binutils-2_19:1.7
	binutils-2_19-branch:1.7.0.4
	binutils-2_19-branchpoint:1.7
	binutils-2_18:1.7
	binutils-2_18-branch:1.7.0.2
	binutils-2_18-branchpoint:1.7
	binutils-csl-coldfire-4_1-32:1.6
	binutils-csl-sourcerygxx-4_1-32:1.6
	binutils-csl-innovasic-fido-3_4_4-33:1.6
	binutils-csl-sourcerygxx-3_4_4-32:1.6
	binutils-csl-coldfire-4_1-30:1.6
	binutils-csl-sourcerygxx-4_1-30:1.6
	binutils-csl-coldfire-4_1-28:1.6
	binutils-csl-sourcerygxx-4_1-29:1.6
	binutils-csl-sourcerygxx-4_1-28:1.6
	binutils-csl-arm-2006q3-27:1.6
	binutils-csl-sourcerygxx-4_1-27:1.6
	binutils-csl-arm-2006q3-26:1.6
	binutils-csl-sourcerygxx-4_1-26:1.6
	binutils-csl-sourcerygxx-4_1-25:1.6
	binutils-csl-sourcerygxx-4_1-24:1.6
	binutils-csl-sourcerygxx-4_1-23:1.6
	binutils-csl-sourcerygxx-4_1-21:1.6
	binutils-csl-arm-2006q3-21:1.6
	binutils-csl-sourcerygxx-4_1-22:1.6
	binutils-csl-palmsource-arm-prelinker-1_0-1:1.6
	binutils-csl-sourcerygxx-4_1-20:1.6
	binutils-csl-arm-2006q3-19:1.6
	binutils-csl-sourcerygxx-4_1-19:1.6
	binutils-csl-sourcerygxx-4_1-18:1.6
	binutils-csl-renesas-4_1-9:1.6
	binutils-csl-sourcerygxx-3_4_4-25:1.6
	binutils-csl-renesas-4_1-8:1.6
	binutils-csl-renesas-4_1-7:1.6
	binutils-csl-renesas-4_1-6:1.6
	binutils-csl-sourcerygxx-4_1-17:1.6
	binutils-csl-sourcerygxx-4_1-14:1.6
	binutils-csl-sourcerygxx-4_1-15:1.6
	binutils-csl-sourcerygxx-4_1-13:1.6
	binutils-2_17:1.6
	binutils-csl-sourcerygxx-4_1-12:1.6
	binutils-csl-sourcerygxx-3_4_4-21:1.6
	binutils-csl-wrs-linux-3_4_4-24:1.6
	binutils-csl-wrs-linux-3_4_4-23:1.6
	binutils-csl-sourcerygxx-4_1-9:1.6
	binutils-csl-sourcerygxx-4_1-8:1.6
	binutils-csl-sourcerygxx-4_1-7:1.6
	binutils-csl-arm-2006q1-6:1.6
	binutils-csl-sourcerygxx-4_1-6:1.6
	binutils-csl-wrs-linux-3_4_4-22:1.6
	binutils-csl-coldfire-4_1-11:1.6
	binutils-csl-sourcerygxx-3_4_4-19:1.6
	binutils-csl-coldfire-4_1-10:1.6
	binutils-csl-sourcerygxx-4_1-5:1.6
	binutils-csl-sourcerygxx-4_1-4:1.6
	binutils-csl-wrs-linux-3_4_4-21:1.6
	binutils-csl-morpho-4_1-4:1.6
	binutils-csl-sourcerygxx-3_4_4-17:1.6
	binutils-csl-wrs-linux-3_4_4-20:1.6
	binutils-2_17-branch:1.6.0.10
	binutils-2_17-branchpoint:1.6
	binutils-csl-2_17-branch:1.6.0.8
	binutils-csl-2_17-branchpoint:1.6
	binutils-csl-gxxpro-3_4-branch:1.6.0.6
	binutils-csl-gxxpro-3_4-branchpoint:1.6
	binutils-2_16_1:1.6
	binutils-csl-arm-2005q1b:1.6
	binutils-2_16:1.6
	binutils-csl-arm-2005q1a:1.6
	binutils-csl-arm-2005q1-branch:1.6.0.4
	binutils-csl-arm-2005q1-branchpoint:1.6
	binutils-2_16-branch:1.6.0.2
	binutils-2_16-branchpoint:1.6
	csl-arm-2004-q3d:1.6
	csl-arm-2004-q3:1.6
	binutils-2_15:1.5
	binutils-2_15-branchpoint:1.5
	csl-arm-2004-q1a:1.6
	csl-arm-2004-q1:1.5
	binutils-2_15-branch:1.5.0.6
	cagney_bfdfile-20040213-branch:1.5.0.4
	cagney_bfdfile-20040213-branchpoint:1.5
	cagney_bigcore-20040122-branch:1.5.0.2
	cagney_bigcore-20040122-branchpoint:1.5
	csl-arm-2003-q4:1.5
	binutils-2_14:1.4.4.1
	binutils-2_14-branch:1.4.0.4
	binutils-2_14-branchpoint:1.4
	binutils-2_13_2_1:1.4
	binutils-2_13_2:1.4
	binutils-2_13_1:1.4
	binutils-2_13:1.4
	binutils-2_13-branchpoint:1.4
	binutils-2_13-branch:1.4.0.2
	binutils-2_12_1:1.3.2.1
	binutils-2_12:1.3.2.1
	binutils-2_12-branch:1.3.0.2
	binutils-2_12-branchpoint:1.3
	cygnus_cvs_20020108_pre:1.3
	binutils_latest_snapshot:1.7;
locks; strict;
comment	@# @;


1.7
date	2006.05.23.15.37.20;	author ths;	state Exp;
branches;
next	1.6;

1.6
date	2004.04.22.18.13.56;	author ths;	state Exp;
branches;
next	1.5;

1.5
date	2003.05.07.05.08.20;	author aoliva;	state Exp;
branches;
next	1.4;

1.4
date	2002.02.25.13.21.38;	author ths;	state Exp;
branches
	1.4.4.1;
next	1.3;

1.3
date	2001.10.04.00.57.01;	author ths;	state Exp;
branches
	1.3.2.1;
next	1.2;

1.2
date	2001.08.05.00.53.28;	author hjl;	state Exp;
branches;
next	1.1;

1.1
date	2001.08.02.10.16.50;	author rsandifo;	state Exp;
branches;
next	;

1.4.4.1
date	2003.05.15.19.19.35;	author drow;	state Exp;
branches;
next	;

1.3.2.1
date	2002.02.25.10.14.32;	author ths;	state Exp;
branches;
next	;


desc
@@


1.7
log
@	[ gas/ChangeLog ]
	* config/tc-mips.c (ISA_SUPPORTS_SMARTMIPS): Rename.
	(ISA_SUPPORTS_DSP_ASE, ISA_SUPPORTS_MT_ASE, ISA_HAS_64BIT_FPRS,
	ISA_HAS_MXHC1): New macros.
	(HAVE_32BIT_FPRS): Use ISA_HAS_64BIT_FPRS instead of
	ISA_HAS_64BIT_REGS.  Formatting fixes.  Improved comments.
	(mips_cpu_info): Change to use combined ASE/IS_ISA flag.
	(MIPS_CPU_IS_ISA, MIPS_CPU_ASE_SMARTMIPS, MIPS_CPU_ASE_DSP,
	MIPS_CPU_ASE_MT, MIPS_CPU_ASE_MIPS3D, MIPS_CPU_ASE_MDMX): New defines.
	(mips_after_parse_args): Change default handling of float register
	size to account for 32bit code with 64bit FP. Better sanity checking
	of ISA/ASE/ABI option combinations.
	(s_mipsset): Support switching of GPR and FPR sizes via
	.set {g,f}p={32,64,default}. Better sanity checking for .set ASE
	options.
	(mips_elf_final_processing): We should record the use of 64bit FP
	registers in 32bit code but we don't, because ELF header flags are
	a scarce ressource.
	(mips_cpu_info_table): Add ASE flags for CPUs with mandatory ASE
	extensions. Add 4ksc, 4kec, 4kem, 4kep, 4ksd, m4kp, 24kec, 24kef,
	24kex, 34kc, 34kf, 34kx, 25kf CPU definitions.
	(mips_cpu_info_from_isa): Use MIPS_CPU_IS_ISA.
	* doc/c-mips.texi: Document .set {g,f}p={32,64,default}. Document
	missing -march options. Document .set arch=CPU. Move .set smartmips
	to ASE page. Use @@code for .set FOO examples.

	[ gas/testsuite/Changelog ]
	* gas/mips/mips-gp32-fp64-pic.d, mips/mips-gp32-fp64.d,
	gas/mips/mips-gp64-fp32-pic.d, gas/mips/mips-gp64-fp32.l,
	gas/mips/mips-gp64-fp64.d: Adjust test cases to the changes assembler
	output.
	* gas/mips/mips-gp32-fp64.l, gas/mips/mips-gp64-fp32-pic.l: New files,
	catch assembler warnings.
@
text
@#objdump: -d -mmips:8000
#as: -mabi=o64 -march=8000 -EB -mfp32 -KPIC
#name: MIPS -mgp64 -mfp32 (SVR4 PIC)
#stderr: mips-gp64-fp32-pic.l

.*: +file format.*

Disassembly of section .text:

0+000 <[^>]*>:
   0:	3c1c0000 	lui	gp,0x0
   4:	279c0000 	addiu	gp,gp,0
   8:	0399e021 	addu	gp,gp,t9
   c:	afbc0008 	sw	gp,8\(sp\)
  10:	009c2021 	addu	a0,a0,gp
  14:	3c041234 	lui	a0,0x1234
  18:	34845678 	ori	a0,a0,0x5678
  1c:	8f840000 	lw	a0,0\(gp\)
  20:	24840000 	addiu	a0,a0,0
  24:	8f840000 	lw	a0,0\(gp\)
  28:	24840000 	addiu	a0,a0,0
  2c:	8f840000 	lw	a0,0\(gp\)
  30:	248401d8 	addiu	a0,a0,472
  34:	10000068 	b	1d8 <[^>]*>
  38:	00000000 	nop
  3c:	8f990000 	lw	t9,0\(gp\)
  40:	273901d8 	addiu	t9,t9,472
  44:	0320f809 	jalr	t9
  48:	00000000 	nop
  4c:	8fbc0008 	lw	gp,8\(sp\)
  50:	8f840000 	lw	a0,0\(gp\)
  54:	24840000 	addiu	a0,a0,0
  58:	8c840000 	lw	a0,0\(a0\)
  5c:	8f840000 	lw	a0,0\(gp\)
  60:	24840000 	addiu	a0,a0,0
  64:	8c840000 	lw	a0,0\(a0\)
  68:	8f840000 	lw	a0,0\(gp\)
  6c:	248401d8 	addiu	a0,a0,472
  70:	8c840000 	lw	a0,0\(a0\)
  74:	8f840000 	lw	a0,0\(gp\)
  78:	24840000 	addiu	a0,a0,0
  7c:	dc840000 	ld	a0,0\(a0\)
  80:	8f840000 	lw	a0,0\(gp\)
  84:	24840000 	addiu	a0,a0,0
  88:	dc840000 	ld	a0,0\(a0\)
  8c:	8f840000 	lw	a0,0\(gp\)
  90:	248401d8 	addiu	a0,a0,472
  94:	dc840000 	ld	a0,0\(a0\)
  98:	8f810000 	lw	at,0\(gp\)
  9c:	24210000 	addiu	at,at,0
  a0:	ac240000 	sw	a0,0\(at\)
  a4:	8f810000 	lw	at,0\(gp\)
  a8:	24210000 	addiu	at,at,0
  ac:	ac240000 	sw	a0,0\(at\)
  b0:	8f810000 	lw	at,0\(gp\)
  b4:	24210000 	addiu	at,at,0
  b8:	fc240000 	sd	a0,0\(at\)
  bc:	8f810000 	lw	at,0\(gp\)
  c0:	24210000 	addiu	at,at,0
  c4:	fc240000 	sd	a0,0\(at\)
  c8:	8f810000 	lw	at,0\(gp\)
  cc:	24210000 	addiu	at,at,0
  d0:	80240000 	lb	a0,0\(at\)
  d4:	90210001 	lbu	at,1\(at\)
  d8:	00042200 	sll	a0,a0,0x8
  dc:	00812025 	or	a0,a0,at
  e0:	8f810000 	lw	at,0\(gp\)
  e4:	24210000 	addiu	at,at,0
  e8:	a0240001 	sb	a0,1\(at\)
  ec:	00042202 	srl	a0,a0,0x8
  f0:	a0240000 	sb	a0,0\(at\)
  f4:	90210001 	lbu	at,1\(at\)
  f8:	00042200 	sll	a0,a0,0x8
  fc:	00812025 	or	a0,a0,at
 100:	8f810000 	lw	at,0\(gp\)
 104:	24210000 	addiu	at,at,0
 108:	88240000 	lwl	a0,0\(at\)
 10c:	98240003 	lwr	a0,3\(at\)
 110:	8f810000 	lw	at,0\(gp\)
 114:	24210000 	addiu	at,at,0
 118:	a8240000 	swl	a0,0\(at\)
 11c:	b8240003 	swr	a0,3\(at\)
 120:	3404ffc0 	li	a0,0xffc0
 124:	000423bc 	dsll32	a0,a0,0xe
 128:	8f810000 	lw	at,0\(gp\)
 12c:	dc240000 	ld	a0,0\(at\)
 130:	3c013ff0 	lui	at,0x3ff0
 134:	44810800 	mtc1	at,\$f1
 138:	44800000 	mtc1	zero,\$f0
 13c:	8f810000 	lw	at,0\(gp\)
 140:	d4200008 	ldc1	\$f0,8\(at\)
 144:	64a40064 	daddiu	a0,a1,100
 148:	2c840001 	sltiu	a0,a0,1
 14c:	64a40064 	daddiu	a0,a1,100
 150:	0004202b 	sltu	a0,zero,a0
 154:	00a0202d 	move	a0,a1
 158:	8f840000 	lw	a0,0\(gp\)
 15c:	24840000 	addiu	a0,a0,0
 160:	8f840000 	lw	a0,0\(gp\)
 164:	24840000 	addiu	a0,a0,0
 168:	8f810000 	lw	at,0\(gp\)
 16c:	24210000 	addiu	at,at,0
 170:	68240000 	ldl	a0,0\(at\)
 174:	6c240007 	ldr	a0,7\(at\)
 178:	8f810000 	lw	at,0\(gp\)
 17c:	24210000 	addiu	at,at,0
 180:	b0240000 	sdl	a0,0\(at\)
 184:	b4240007 	sdr	a0,7\(at\)
 188:	34018000 	li	at,0x8000
 18c:	00010c38 	dsll	at,at,0x10
 190:	0081082a 	slt	at,a0,at
 194:	10200010 	beqz	at,1d8 <[^>]*>
 198:	00000000 	nop
 19c:	34018000 	li	at,0x8000
 1a0:	00010c78 	dsll	at,at,0x11
 1a4:	0081082b 	sltu	at,a0,at
 1a8:	1020000b 	beqz	at,1d8 <[^>]*>
 1ac:	00000000 	nop
 1b0:	34018000 	li	at,0x8000
 1b4:	00010c38 	dsll	at,at,0x10
 1b8:	0081082a 	slt	at,a0,at
 1bc:	14200006 	bnez	at,1d8 <[^>]*>
 1c0:	00000000 	nop
 1c4:	34018000 	li	at,0x8000
 1c8:	00010c78 	dsll	at,at,0x11
 1cc:	0081082b 	sltu	at,a0,at
 1d0:	14200001 	bnez	at,1d8 <[^>]*>
 1d4:	00000000 	nop

0+01d8 <[^>]*>:
	...
@


1.6
log
@* config/tc-mips.c (load_delay_nop): New function.
(load_address, macro): Use load_delay_nop() to build a nop
which can be omitted with gpr_interlocks.

* gas/mips/lb-xgot-ilocks.d: Remove nops in load delay slot.
* gas/mips/mips-abi32-pic.d: Likewise.
* gas/mips/mips-abi32-pic2.d: Likewise.
* gas/mips/mips-gp32-fp32-pic.d: Likewise.
* gas/mips/mips-gp32-fp64-pic.d: Likewise.
* gas/mips/mips-gp64-fp32-pic.d: Likewise.
* gas/mips/mips-gp64-fp64-pic.d: Likewise.
* gas/mips/relax-swap1-mips2.d: Likewise.
* gas/mips/lb-svr4pic-ilocks.d: New test.
* gas/mips/mips.exp: Run it.
@
text
@d4 1
@


1.5
log
@* gas/mips/abs.d, gas/mips/add.d, gas/mips/and.d,
gas/mips/beq.d, gas/mips/bge.d, gas/mips/bgeu.d,
gas/mips/blt.d, gas/mips/bltu.d, gas/mips/branch-misc-1.d,
gas/mips/break20.d, gas/mips/cp0sel-names-mips32.d,
gas/mips/cp0sel-names-mips32r2.d,
gas/mips/cp0sel-names-mips64.d,
gas/mips/cp0sel-names-numeric.d, gas/mips/cp0sel-names-sb1.d,
gas/mips/elf-jal.d, gas/mips/elf-rel.d, gas/mips/elf-rel2.d,
gas/mips/elf-rel3.d, gas/mips/elf-rel4.d, gas/mips/elf-rel5.d,
gas/mips/elf-rel6.d, gas/mips/elf-rel7.d,
gas/mips/elf_arch_mips1.d, gas/mips/elf_arch_mips2.d,
gas/mips/elf_arch_mips3.d, gas/mips/elf_arch_mips32.d,
gas/mips/elf_arch_mips32r2.d, gas/mips/elf_arch_mips4.d,
gas/mips/elf_arch_mips5.d, gas/mips/elf_arch_mips64.d,
gas/mips/elf_ase_mips16.d, gas/mips/empic.d,
gas/mips/empic2.d, gas/mips/empic3_e.d, gas/mips/empic3_g1.d,
gas/mips/empic3_g2.d, gas/mips/hwr-names-mips32r2.d,
gas/mips/hwr-names-numeric.d, gas/mips/jal-empic-elf-2.d,
gas/mips/jal-empic-elf-3.d, gas/mips/jal-empic-elf.d,
gas/mips/jal-svr4pic.d, gas/mips/jal-xgot.d, gas/mips/jal.d,
gas/mips/la-empic.d, gas/mips/la-svr4pic.d,
gas/mips/la-xgot.d, gas/mips/la.d, gas/mips/lb-empic.d,
gas/mips/lb-svr4pic.d, gas/mips/lb-xgot-ilocks.d,
gas/mips/lb-xgot.d, gas/mips/lb.d, gas/mips/ld-empic.d,
gas/mips/ld-svr4pic.d, gas/mips/ld-xgot.d, gas/mips/ld.d,
gas/mips/li.d, gas/mips/lif-empic.d, gas/mips/lif-svr4pic.d,
gas/mips/lif-xgot.d, gas/mips/lifloat.d,
gas/mips/mips-gp32-fp32-pic.d, gas/mips/mips-gp32-fp32.d,
gas/mips/mips-gp32-fp64-pic.d, gas/mips/mips-gp32-fp64.d,
gas/mips/mips-gp64-fp32-pic.d, gas/mips/mips-gp64-fp32.d,
gas/mips/mips-gp64-fp64-pic.d, gas/mips/mips-gp64-fp64.d,
gas/mips/mips.exp, gas/mips/mips16-e.d, gas/mips/mips16-f.d,
gas/mips/mips32.d, gas/mips/mips32r2.d, gas/mips/mips4010.d,
gas/mips/mips4650.d, gas/mips/mips64.d, gas/mips/mipsel16-e.d,
gas/mips/mipsel16-f.d, gas/mips/rol-hw.d, gas/mips/rol.d,
gas/mips/sb.d, gas/mips/sync.d, gas/mips/tempic.d,
gas/mips/tmips16-e.d, gas/mips/tmips16-f.d,
gas/mips/tmipsel16-e.d, gas/mips/tmipsel16-f.d,
gas/mips/trunc.d, gas/mips/uld.d, gas/mips/ulh-empic.d,
gas/mips/ulh-svr4pic.d, gas/mips/ulh-xgot.d, gas/mips/ulh.d,
gas/mips/ulh2-eb.d, gas/mips/ulh2-el.d, gas/mips/ulw.d,
gas/mips/ulw2-eb.d, gas/mips/ulw2-eb-ilocks.d, gas/mips/ulw2-el.d,
gas/mips/ulw2-el-ilocks.d, gas/mips/usd.d, gas/mips/ush.d,
gas/mips/usw.d, gas/mips/vr4122.d: Added ABI specification.
gas/vtable/vtable.exp: mips64*-*-linux* and mips*-*-irix6* are
RELA.
@
text
@d18 6
a23 6
  20:	00000000 	nop
  24:	24840000 	addiu	a0,a0,0
  28:	8f840000 	lw	a0,0\(gp\)
  2c:	00000000 	nop
  30:	24840000 	addiu	a0,a0,0
  34:	8f840000 	lw	a0,0\(gp\)
d25 15
a39 15
  3c:	24840230 	addiu	a0,a0,560
  40:	1000007b 	b	230 <[^>]*>
  44:	00000000 	nop
  48:	8f990000 	lw	t9,0\(gp\)
  4c:	00000000 	nop
  50:	27390230 	addiu	t9,t9,560
  54:	0320f809 	jalr	t9
  58:	00000000 	nop
  5c:	8fbc0008 	lw	gp,8\(sp\)
  60:	8f840000 	lw	a0,0\(gp\)
  64:	00000000 	nop
  68:	24840000 	addiu	a0,a0,0
  6c:	8c840000 	lw	a0,0\(a0\)
  70:	8f840000 	lw	a0,0\(gp\)
  74:	00000000 	nop
d41 1
a41 1
  7c:	8c840000 	lw	a0,0\(a0\)
d43 23
a65 23
  84:	00000000 	nop
  88:	24840230 	addiu	a0,a0,560
  8c:	8c840000 	lw	a0,0\(a0\)
  90:	8f840000 	lw	a0,0\(gp\)
  94:	00000000 	nop
  98:	24840000 	addiu	a0,a0,0
  9c:	dc840000 	ld	a0,0\(a0\)
  a0:	8f840000 	lw	a0,0\(gp\)
  a4:	00000000 	nop
  a8:	24840000 	addiu	a0,a0,0
  ac:	dc840000 	ld	a0,0\(a0\)
  b0:	8f840000 	lw	a0,0\(gp\)
  b4:	00000000 	nop
  b8:	24840230 	addiu	a0,a0,560
  bc:	dc840000 	ld	a0,0\(a0\)
  c0:	8f810000 	lw	at,0\(gp\)
  c4:	00000000 	nop
  c8:	24210000 	addiu	at,at,0
  cc:	ac240000 	sw	a0,0\(at\)
  d0:	8f810000 	lw	at,0\(gp\)
  d4:	00000000 	nop
  d8:	24210000 	addiu	at,at,0
  dc:	ac240000 	sw	a0,0\(at\)
d67 7
a73 7
  e4:	00000000 	nop
  e8:	24210000 	addiu	at,at,0
  ec:	fc240000 	sd	a0,0\(at\)
  f0:	8f810000 	lw	at,0\(gp\)
  f4:	00000000 	nop
  f8:	24210000 	addiu	at,at,0
  fc:	fc240000 	sd	a0,0\(at\)
d75 53
a127 75
 104:	00000000 	nop
 108:	24210000 	addiu	at,at,0
 10c:	80240000 	lb	a0,0\(at\)
 110:	90210001 	lbu	at,1\(at\)
 114:	00042200 	sll	a0,a0,0x8
 118:	00812025 	or	a0,a0,at
 11c:	8f810000 	lw	at,0\(gp\)
 120:	00000000 	nop
 124:	24210000 	addiu	at,at,0
 128:	a0240001 	sb	a0,1\(at\)
 12c:	00042202 	srl	a0,a0,0x8
 130:	a0240000 	sb	a0,0\(at\)
 134:	90210001 	lbu	at,1\(at\)
 138:	00042200 	sll	a0,a0,0x8
 13c:	00812025 	or	a0,a0,at
 140:	8f810000 	lw	at,0\(gp\)
 144:	00000000 	nop
 148:	24210000 	addiu	at,at,0
 14c:	88240000 	lwl	a0,0\(at\)
 150:	98240003 	lwr	a0,3\(at\)
 154:	8f810000 	lw	at,0\(gp\)
 158:	00000000 	nop
 15c:	24210000 	addiu	at,at,0
 160:	a8240000 	swl	a0,0\(at\)
 164:	b8240003 	swr	a0,3\(at\)
 168:	3404ffc0 	li	a0,0xffc0
 16c:	000423bc 	dsll32	a0,a0,0xe
 170:	8f810000 	lw	at,0\(gp\)
 174:	dc240000 	ld	a0,0\(at\)
 178:	3c013ff0 	lui	at,0x3ff0
 17c:	44810800 	mtc1	at,\$f1
 180:	44800000 	mtc1	zero,\$f0
 184:	8f810000 	lw	at,0\(gp\)
 188:	d4200008 	ldc1	\$f0,8\(at\)
 18c:	64a40064 	daddiu	a0,a1,100
 190:	2c840001 	sltiu	a0,a0,1
 194:	64a40064 	daddiu	a0,a1,100
 198:	0004202b 	sltu	a0,zero,a0
 19c:	00a0202d 	move	a0,a1
 1a0:	8f840000 	lw	a0,0\(gp\)
 1a4:	00000000 	nop
 1a8:	24840000 	addiu	a0,a0,0
 1ac:	8f840000 	lw	a0,0\(gp\)
 1b0:	00000000 	nop
 1b4:	24840000 	addiu	a0,a0,0
 1b8:	8f810000 	lw	at,0\(gp\)
 1bc:	00000000 	nop
 1c0:	24210000 	addiu	at,at,0
 1c4:	68240000 	ldl	a0,0\(at\)
 1c8:	6c240007 	ldr	a0,7\(at\)
 1cc:	8f810000 	lw	at,0\(gp\)
 1d0:	00000000 	nop
 1d4:	24210000 	addiu	at,at,0
 1d8:	b0240000 	sdl	a0,0\(at\)
 1dc:	b4240007 	sdr	a0,7\(at\)
 1e0:	34018000 	li	at,0x8000
 1e4:	00010c38 	dsll	at,at,0x10
 1e8:	0081082a 	slt	at,a0,at
 1ec:	10200010 	beqz	at,230 <[^>]*>
 1f0:	00000000 	nop
 1f4:	34018000 	li	at,0x8000
 1f8:	00010c78 	dsll	at,at,0x11
 1fc:	0081082b 	sltu	at,a0,at
 200:	1020000b 	beqz	at,230 <[^>]*>
 204:	00000000 	nop
 208:	34018000 	li	at,0x8000
 20c:	00010c38 	dsll	at,at,0x10
 210:	0081082a 	slt	at,a0,at
 214:	14200006 	bnez	at,230 <[^>]*>
 218:	00000000 	nop
 21c:	34018000 	li	at,0x8000
 220:	00010c78 	dsll	at,at,0x11
 224:	0081082b 	sltu	at,a0,at
 228:	14200001 	bnez	at,230 <[^>]*>
 22c:	00000000 	nop
d129 1
a129 1
0+0230 <[^>]*>:
@


1.4
log
@	* config/tc-mips.c (set_at): Fix handling of 64bit register loads.
	(macro): Likewise. Fix la/dla address expansions for EMBEDDED_PIC
	and NO_PIC cases. Code cleanup.
	(macro2): Fix handling of 64bit register loads.
	* mips-gp64-fp32-pic.d: Fix test of 64bit register loads.
	* mips-gp64-fp32-pic.s: Likewise.
	* mips-gp64-fp32.d: Likewise.
	* mips-gp64-fp32.s: Likewise.
	* mips-gp64-fp64-pic.d: Likewise.
	* mips-gp64-fp64-pic.s: Likewise.
	* mips-gp64-fp64.d: Likewise.
	* mips-gp64-fp64.s: Likewise.
@
text
@d2 1
a2 1
#as: -march=8000 -EB -mfp32 -KPIC
@


1.4.4.1
log
@	Merge from mainline:

	2003-05-06  Alexandre Oliva  <aoliva@@redhat.com>
	* gas/mips/abs.d, gas/mips/add.d, gas/mips/and.d,
	gas/mips/beq.d, gas/mips/bge.d, gas/mips/bgeu.d,
	gas/mips/blt.d, gas/mips/bltu.d, gas/mips/branch-misc-1.d,
	gas/mips/break20.d, gas/mips/cp0sel-names-mips32.d,
	gas/mips/cp0sel-names-mips32r2.d,
	gas/mips/cp0sel-names-mips64.d,
	gas/mips/cp0sel-names-numeric.d, gas/mips/cp0sel-names-sb1.d,
	gas/mips/elf-jal.d, gas/mips/elf-rel.d, gas/mips/elf-rel2.d,
	gas/mips/elf-rel3.d, gas/mips/elf-rel4.d, gas/mips/elf-rel5.d,
	gas/mips/elf-rel6.d, gas/mips/elf-rel7.d,
	gas/mips/elf_arch_mips1.d, gas/mips/elf_arch_mips2.d,
	gas/mips/elf_arch_mips3.d, gas/mips/elf_arch_mips32.d,
	gas/mips/elf_arch_mips32r2.d, gas/mips/elf_arch_mips4.d,
	gas/mips/elf_arch_mips5.d, gas/mips/elf_arch_mips64.d,
	gas/mips/elf_ase_mips16.d, gas/mips/empic.d,
	gas/mips/empic2.d, gas/mips/empic3_e.d, gas/mips/empic3_g1.d,
	gas/mips/empic3_g2.d, gas/mips/hwr-names-mips32r2.d,
	gas/mips/hwr-names-numeric.d, gas/mips/jal-empic-elf-2.d,
	gas/mips/jal-empic-elf-3.d, gas/mips/jal-empic-elf.d,
	gas/mips/jal-svr4pic.d, gas/mips/jal-xgot.d, gas/mips/jal.d,
	gas/mips/la-empic.d, gas/mips/la-svr4pic.d,
	gas/mips/la-xgot.d, gas/mips/la.d, gas/mips/lb-empic.d,
	gas/mips/lb-svr4pic.d, gas/mips/lb-xgot-ilocks.d,
	gas/mips/lb-xgot.d, gas/mips/lb.d, gas/mips/ld-empic.d,
	gas/mips/ld-svr4pic.d, gas/mips/ld-xgot.d, gas/mips/ld.d,
	gas/mips/li.d, gas/mips/lif-empic.d, gas/mips/lif-svr4pic.d,
	gas/mips/lif-xgot.d, gas/mips/lifloat.d,
	gas/mips/mips-gp32-fp32-pic.d, gas/mips/mips-gp32-fp32.d,
	gas/mips/mips-gp32-fp64-pic.d, gas/mips/mips-gp32-fp64.d,
	gas/mips/mips-gp64-fp32-pic.d, gas/mips/mips-gp64-fp32.d,
	gas/mips/mips-gp64-fp64-pic.d, gas/mips/mips-gp64-fp64.d,
	gas/mips/mips.exp, gas/mips/mips16-e.d, gas/mips/mips16-f.d,
	gas/mips/mips32.d, gas/mips/mips32r2.d, gas/mips/mips4010.d,
	gas/mips/mips4650.d, gas/mips/mips64.d, gas/mips/mipsel16-e.d,
	gas/mips/mipsel16-f.d, gas/mips/rol-hw.d, gas/mips/rol.d,
	gas/mips/sb.d, gas/mips/sync.d, gas/mips/tempic.d,
	gas/mips/tmips16-e.d, gas/mips/tmips16-f.d,
	gas/mips/tmipsel16-e.d, gas/mips/tmipsel16-f.d,
	gas/mips/trunc.d, gas/mips/uld.d, gas/mips/ulh-empic.d,
	gas/mips/ulh-svr4pic.d, gas/mips/ulh-xgot.d, gas/mips/ulh.d,
	gas/mips/ulh2-eb.d, gas/mips/ulh2-el.d, gas/mips/ulw.d,
	gas/mips/ulw2-eb.d, gas/mips/ulw2-eb-ilocks.d, gas/mips/ulw2-el.d,
	gas/mips/ulw2-el-ilocks.d, gas/mips/usd.d, gas/mips/ush.d,
	gas/mips/usw.d, gas/mips/vr4122.d: Added ABI specification.
	gas/vtable/vtable.exp: mips64*-*-linux* and mips*-*-irix6* are
	RELA.
@
text
@d2 1
a2 1
#as: -mabi=o64 -march=8000 -EB -mfp32 -KPIC
@


1.3
log
@     Testcase updates for the previous patch.
@
text
@d25 2
a26 2
  3c:	24840228 	addiu	a0,a0,552
  40:	10000079 	b	228 <[^>]*>
d30 1
a30 1
  50:	27390228 	addiu	t9,t9,552
d44 1
a44 1
  88:	24840228 	addiu	a0,a0,552
d56 1
a56 1
  b8:	24840228 	addiu	a0,a0,552
d114 1
a114 1
 1a0:	df840000 	ld	a0,0\(gp\)
d117 1
a117 1
 1ac:	df840000 	ld	a0,0\(gp\)
d130 20
a149 18
 1e0:	3c018000 	lui	at,0x8000
 1e4:	0081082a 	slt	at,a0,at
 1e8:	1020000f 	beqz	at,228 <[^>]*>
 1ec:	00000000 	nop
 1f0:	34018000 	li	at,0x8000
 1f4:	00010c78 	dsll	at,at,0x11
 1f8:	0081082b 	sltu	at,a0,at
 1fc:	1020000a 	beqz	at,228 <[^>]*>
 200:	00000000 	nop
 204:	3c018000 	lui	at,0x8000
 208:	0081082a 	slt	at,a0,at
 20c:	14200006 	bnez	at,228 <[^>]*>
 210:	00000000 	nop
 214:	34018000 	li	at,0x8000
 218:	00010c78 	dsll	at,at,0x11
 21c:	0081082b 	sltu	at,a0,at
 220:	14200001 	bnez	at,228 <[^>]*>
 224:	00000000 	nop
d151 1
a151 1
0+0228 <[^>]*>:
@


1.3.2.1
log
@	* config/tc-mips.c (set_at): Fix handling of 64bit register loads.
	(macro): Likewise. Fix la/dla address expansions for EMBEDDED_PIC
	and NO_PIC cases. Code cleanup.
	(macro2): Fix handling of 64bit register loads.
	* mips-gp64-fp32-pic.d: Fix test of 64bit register loads.
	* mips-gp64-fp32-pic.s: Likewise.
	* mips-gp64-fp32.d: Likewise.
	* mips-gp64-fp32.s: Likewise.
	* mips-gp64-fp64-pic.d: Likewise.
	* mips-gp64-fp64-pic.s: Likewise.
	* mips-gp64-fp64.d: Likewise.
	* mips-gp64-fp64.s: Likewise.
@
text
@d25 2
a26 2
  3c:	24840230 	addiu	a0,a0,560
  40:	1000007b 	b	230 <[^>]*>
d30 1
a30 1
  50:	27390230 	addiu	t9,t9,560
d44 1
a44 1
  88:	24840230 	addiu	a0,a0,560
d56 1
a56 1
  b8:	24840230 	addiu	a0,a0,560
d114 1
a114 1
 1a0:	8f840000 	lw	a0,0\(gp\)
d117 1
a117 1
 1ac:	8f840000 	lw	a0,0\(gp\)
d130 18
a147 20
 1e0:	34018000 	li	at,0x8000
 1e4:	00010c38 	dsll	at,at,0x10
 1e8:	0081082a 	slt	at,a0,at
 1ec:	10200010 	beqz	at,230 <[^>]*>
 1f0:	00000000 	nop
 1f4:	34018000 	li	at,0x8000
 1f8:	00010c78 	dsll	at,at,0x11
 1fc:	0081082b 	sltu	at,a0,at
 200:	1020000b 	beqz	at,230 <[^>]*>
 204:	00000000 	nop
 208:	34018000 	li	at,0x8000
 20c:	00010c38 	dsll	at,at,0x10
 210:	0081082a 	slt	at,a0,at
 214:	14200006 	bnez	at,230 <[^>]*>
 218:	00000000 	nop
 21c:	34018000 	li	at,0x8000
 220:	00010c78 	dsll	at,at,0x11
 224:	0081082b 	sltu	at,a0,at
 228:	14200001 	bnez	at,230 <[^>]*>
 22c:	00000000 	nop
d149 1
a149 1
0+0230 <[^>]*>:
@


1.2
log
@2001-08-04  H.J. Lu  <hjl@@gnu.org>
	    Chris G. Demetriou <cgd@@broadcom.com>

	* gas/mips/e32-rel4.s: Removed.

	* gas/mips/e32-rel4.d: Use elf-rel4.s.

	* gas/mips/mips.exp: Use the same rel4 test for litte endian.

	* gas/mips/mips-abi32-pic.d: Add lines for objdump.
	* gas/mips/mips-abi32.d: Likewise.
	* gas/mips/mips-gp32-fp32-pic.d: Likewise.
	* gas/mips/mips-gp32-fp32.d: Likewise.
	* gas/mips/mips-gp32-fp64-pic.d: Likewise.
	* gas/mips/mips-gp32-fp64.d: Likewise.
	* gas/mips/mips-gp64-fp32-pic.d: Likewise.
	* gas/mips/mips-gp64-fp32.d: Likewise.
	* gas/mips/mips-gp64-fp64-pic.d: Likewise.
	* gas/mips/mips-gp64-fp64.d: Likewise.

	* gas/mips/mips-abi32-pic.s: Add space for objdump.
	* gas/mips/mips-abi32.s: Likewise.
	* gas/mips/mips-gp32-fp32-pic.s: Likewise.
	* gas/mips/mips-gp32-fp32.s: Likewise.
	* gas/mips/mips-gp32-fp64-pic.s: Likewise.
	* gas/mips/mips-gp32-fp64.s: Likewise.
	* gas/mips/mips-gp64-fp32-pic.s: Likewise.
	* gas/mips/mips-gp64-fp32.s: Likewise.
	* gas/mips/mips-gp64-fp64-pic.s: Likewise.
	* gas/mips/mips-gp64-fp64.s: Likewise.

	* gas/mips/mips-abi32-pic.s: Add the missing .end.
	* gas/mips/mips-gp32-fp32-pic.s: Likewise.
	* gas/mips/mips-gp32-fp64-pic.s: Likewise.
	* gas/mips/mips-gp64-fp32-pic.s: Likewise.
	* gas/mips/mips-gp64-fp64-pic.s: Likewise.
@
text
@d13 2
a14 2
   c:	ffbc0008 	sd	gp,8\(sp\)
  10:	009c202d 	daddu	a0,a0,gp
d19 1
a19 1
  24:	64840000 	daddiu	a0,a0,0
d22 1
a22 1
  30:	64840000 	daddiu	a0,a0,0
d25 1
a25 1
  3c:	64840228 	daddiu	a0,a0,552
d28 1
a28 1
  48:	df990000 	ld	t9,0\(gp\)
d30 1
a30 1
  50:	67390228 	daddiu	t9,t9,552
d33 2
a34 2
  5c:	dfbc0008 	ld	gp,8\(sp\)
  60:	df840000 	ld	a0,0\(gp\)
d36 1
a36 1
  68:	64840000 	daddiu	a0,a0,0
d38 1
a38 1
  70:	df840000 	ld	a0,0\(gp\)
d40 1
a40 1
  78:	64840000 	daddiu	a0,a0,0
d42 1
a42 1
  80:	df840000 	ld	a0,0\(gp\)
d44 1
a44 1
  88:	64840228 	daddiu	a0,a0,552
d46 1
a46 1
  90:	df840000 	ld	a0,0\(gp\)
d48 1
a48 1
  98:	64840000 	daddiu	a0,a0,0
d50 1
a50 1
  a0:	df840000 	ld	a0,0\(gp\)
d52 1
a52 1
  a8:	64840000 	daddiu	a0,a0,0
d54 1
a54 1
  b0:	df840000 	ld	a0,0\(gp\)
d56 1
a56 1
  b8:	64840228 	daddiu	a0,a0,552
d58 1
a58 1
  c0:	df810000 	ld	at,0\(gp\)
d60 1
a60 1
  c8:	64210000 	daddiu	at,at,0
d62 1
a62 1
  d0:	df810000 	ld	at,0\(gp\)
d64 1
a64 1
  d8:	64210000 	daddiu	at,at,0
d66 1
a66 1
  e0:	df810000 	ld	at,0\(gp\)
d68 1
a68 1
  e8:	64210000 	daddiu	at,at,0
d70 1
a70 1
  f0:	df810000 	ld	at,0\(gp\)
d72 1
a72 1
  f8:	64210000 	daddiu	at,at,0
d74 1
a74 1
 100:	df810000 	ld	at,0\(gp\)
d76 1
a76 1
 108:	64210000 	daddiu	at,at,0
d81 1
a81 1
 11c:	df810000 	ld	at,0\(gp\)
d83 1
a83 1
 124:	64210000 	daddiu	at,at,0
d90 1
a90 1
 140:	df810000 	ld	at,0\(gp\)
d92 1
a92 1
 148:	64210000 	daddiu	at,at,0
d95 1
a95 1
 154:	df810000 	ld	at,0\(gp\)
d97 1
a97 1
 15c:	64210000 	daddiu	at,at,0
d102 1
a102 1
 170:	df810000 	ld	at,0\(gp\)
d107 1
a107 1
 184:	df810000 	ld	at,0\(gp\)
d116 1
a116 1
 1a8:	64840000 	daddiu	a0,a0,0
d119 2
a120 2
 1b4:	64840000 	daddiu	a0,a0,0
 1b8:	df810000 	ld	at,0\(gp\)
d122 1
a122 1
 1c0:	64210000 	daddiu	at,at,0
d125 1
a125 1
 1cc:	df810000 	ld	at,0\(gp\)
d127 1
a127 1
 1d4:	64210000 	daddiu	at,at,0
@


1.1
log
@	* gas/mips/mips-gp32-fp32,
	* gas/mips/mips-gp32-fp64,
	* gas/mips/mips-gp64-fp32,
	* gas/mips/mips-gp64-fp64,
	* gas/mips/mips-abi32,
	* gas/mips/mips-gp32-fp32-pic,
	* gas/mips/mips-gp32-fp64-pic,
	* gas/mips/mips-gp64-fp32-pic,
	* gas/mips/mips-gp64-fp64-pic,
	* gas/mips/mips-abi32-pic: New testcases.

	* gas/mips/mips.exp: Run them.
@
text
@d148 3
@

