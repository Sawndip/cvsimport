head	1.11;
access;
symbols
	binutils-2_24-branch:1.11.0.8
	binutils-2_24-branchpoint:1.11
	binutils-2_21_1:1.8
	binutils-2_23_2:1.11
	binutils-2_23_1:1.11
	binutils-2_23:1.11
	binutils-2_23-branch:1.11.0.6
	binutils-2_23-branchpoint:1.11
	binutils-2_22_branch:1.11.0.4
	binutils-2_22:1.11
	binutils-2_22-branch:1.11.0.2
	binutils-2_22-branchpoint:1.11
	binutils-2_21:1.8
	binutils-2_21-branch:1.8.0.24
	binutils-2_21-branchpoint:1.8
	binutils-2_20_1:1.8
	binutils-2_20:1.8
	binutils-arc-20081103-branch:1.8.0.22
	binutils-arc-20081103-branchpoint:1.8
	binutils-2_20-branch:1.8.0.20
	binutils-2_20-branchpoint:1.8
	dje-cgen-play1-branch:1.8.0.18
	dje-cgen-play1-branchpoint:1.8
	arc-20081103-branch:1.8.0.16
	arc-20081103-branchpoint:1.8
	binutils-2_19_1:1.8
	binutils-2_19:1.8
	binutils-2_19-branch:1.8.0.14
	binutils-2_19-branchpoint:1.8
	binutils-2_18:1.8
	binutils-2_18-branch:1.8.0.12
	binutils-2_18-branchpoint:1.8
	binutils-csl-coldfire-4_1-32:1.8
	binutils-csl-sourcerygxx-4_1-32:1.8
	binutils-csl-innovasic-fido-3_4_4-33:1.8
	binutils-csl-sourcerygxx-3_4_4-32:1.8
	binutils-csl-coldfire-4_1-30:1.8
	binutils-csl-sourcerygxx-4_1-30:1.8
	binutils-csl-coldfire-4_1-28:1.8
	binutils-csl-sourcerygxx-4_1-29:1.8
	binutils-csl-sourcerygxx-4_1-28:1.8
	binutils-csl-arm-2006q3-27:1.8
	binutils-csl-sourcerygxx-4_1-27:1.8
	binutils-csl-arm-2006q3-26:1.8
	binutils-csl-sourcerygxx-4_1-26:1.8
	binutils-csl-sourcerygxx-4_1-25:1.8
	binutils-csl-sourcerygxx-4_1-24:1.8
	binutils-csl-sourcerygxx-4_1-23:1.8
	binutils-csl-sourcerygxx-4_1-21:1.8
	binutils-csl-arm-2006q3-21:1.8
	binutils-csl-sourcerygxx-4_1-22:1.8
	binutils-csl-palmsource-arm-prelinker-1_0-1:1.8
	binutils-csl-sourcerygxx-4_1-20:1.8
	binutils-csl-arm-2006q3-19:1.8
	binutils-csl-sourcerygxx-4_1-19:1.8
	binutils-csl-sourcerygxx-4_1-18:1.8
	binutils-csl-renesas-4_1-9:1.8
	binutils-csl-sourcerygxx-3_4_4-25:1.8
	binutils-csl-renesas-4_1-8:1.8
	binutils-csl-renesas-4_1-7:1.8
	binutils-csl-renesas-4_1-6:1.8
	binutils-csl-sourcerygxx-4_1-17:1.8
	binutils-csl-sourcerygxx-4_1-14:1.8
	binutils-csl-sourcerygxx-4_1-15:1.8
	binutils-csl-sourcerygxx-4_1-13:1.8
	binutils-2_17:1.8
	binutils-csl-sourcerygxx-4_1-12:1.8
	binutils-csl-sourcerygxx-3_4_4-21:1.8
	binutils-csl-wrs-linux-3_4_4-24:1.8
	binutils-csl-wrs-linux-3_4_4-23:1.8
	binutils-csl-sourcerygxx-4_1-9:1.8
	binutils-csl-sourcerygxx-4_1-8:1.8
	binutils-csl-sourcerygxx-4_1-7:1.8
	binutils-csl-arm-2006q1-6:1.8
	binutils-csl-sourcerygxx-4_1-6:1.8
	binutils-csl-wrs-linux-3_4_4-22:1.8
	binutils-csl-coldfire-4_1-11:1.8
	binutils-csl-sourcerygxx-3_4_4-19:1.8
	binutils-csl-coldfire-4_1-10:1.8
	binutils-csl-sourcerygxx-4_1-5:1.8
	binutils-csl-sourcerygxx-4_1-4:1.8
	binutils-csl-wrs-linux-3_4_4-21:1.8
	binutils-csl-morpho-4_1-4:1.8
	binutils-csl-sourcerygxx-3_4_4-17:1.8
	binutils-csl-wrs-linux-3_4_4-20:1.8
	binutils-2_17-branch:1.8.0.10
	binutils-2_17-branchpoint:1.8
	binutils-csl-2_17-branch:1.8.0.8
	binutils-csl-2_17-branchpoint:1.8
	binutils-csl-gxxpro-3_4-branch:1.8.0.6
	binutils-csl-gxxpro-3_4-branchpoint:1.8
	binutils-2_16_1:1.8
	binutils-csl-arm-2005q1b:1.8
	binutils-2_16:1.8
	binutils-csl-arm-2005q1a:1.8
	binutils-csl-arm-2005q1-branch:1.8.0.4
	binutils-csl-arm-2005q1-branchpoint:1.8
	binutils-2_16-branch:1.8.0.2
	binutils-2_16-branchpoint:1.8
	csl-arm-2004-q3d:1.8
	csl-arm-2004-q3:1.8
	binutils-2_15:1.7.6.1
	binutils-2_15-branchpoint:1.7
	csl-arm-2004-q1a:1.8
	csl-arm-2004-q1:1.7
	binutils-2_15-branch:1.7.0.6
	cagney_bfdfile-20040213-branch:1.7.0.4
	cagney_bfdfile-20040213-branchpoint:1.7
	cagney_bigcore-20040122-branch:1.7.0.2
	cagney_bigcore-20040122-branchpoint:1.7
	csl-arm-2003-q4:1.7
	binutils-2_14:1.5.6.1
	binutils-2_14-branch:1.5.0.6
	binutils-2_14-branchpoint:1.5
	binutils-2_13_2_1:1.5
	binutils-2_13_2:1.5
	binutils-2_13_1:1.5
	binutils-2_13:1.5
	binutils-2_13-branchpoint:1.5
	binutils-2_13-branch:1.5.0.4
	binutils-2_12_1:1.5
	binutils-2_12:1.5
	binutils-2_12-branch:1.5.0.2
	binutils-2_12-branchpoint:1.5
	cygnus_cvs_20020108_pre:1.5
	binutils-2_11_2:1.2.2.1
	binutils-2_11_1:1.2.2.1
	binutils-2_11:1.2
	x86_64versiong3:1.2
	binutils-2_11-branch:1.2.0.2
	binutils-2_10_1:1.1
	binutils-2_10:1.1
	binutils-2_10-branch:1.1.0.2
	binutils-2_10-branchpoint:1.1
	binutils_latest_snapshot:1.11;
locks; strict;
comment	@# @;


1.11
date	2011.06.29.20.39.00;	author rsandifo;	state Exp;
branches;
next	1.10;

1.10
date	2011.06.26.09.19.17;	author rsandifo;	state Exp;
branches;
next	1.9;

1.9
date	2011.06.26.09.16.35;	author rsandifo;	state Exp;
branches;
next	1.8;

1.8
date	2004.04.14.07.37.18;	author rsandifo;	state Exp;
branches;
next	1.7;

1.7
date	2003.09.03.08.26.51;	author nickc;	state Exp;
branches
	1.7.6.1;
next	1.6;

1.6
date	2003.05.07.05.08.20;	author aoliva;	state Exp;
branches;
next	1.5;

1.5
date	2001.08.25.00.48.49;	author ths;	state Exp;
branches
	1.5.6.1;
next	1.4;

1.4
date	2001.08.10.20.38.33;	author hjl;	state Exp;
branches;
next	1.3;

1.3
date	2001.06.07.16.44.12;	author hjl;	state Exp;
branches;
next	1.2;

1.2
date	2000.12.03.22.12.00;	author nickc;	state Exp;
branches
	1.2.2.1;
next	1.1;

1.1
date	2000.03.11.02.16.25;	author geoffk;	state Exp;
branches;
next	;

1.7.6.1
date	2004.04.14.07.41.33;	author rsandifo;	state Exp;
branches;
next	;

1.5.6.1
date	2003.05.15.19.19.35;	author drow;	state Exp;
branches;
next	;

1.2.2.1
date	2001.06.11.10.05.00;	author amodra;	state Exp;
branches;
next	;


desc
@@


1.11
log
@gas/
	* config/tc-mips.c (insn_uses_reg): Delete.
	(gpr_read_mask, gpr_write_mask): New functions.
	(fpr_read_mask, fpr_write_mask): Likewise.
	(insns_between, nops_for_vr4130, append_insn): Use them.

gas/testsuite/
	* gas/mips/mips16-e.d, gas/mips/mips16-f.d,
	gas/mips/mipsel16-e.d, gas/mips/mipsel16-f.d,
	gas/mips/tmips16-e.d, gas/mips/tmips16-f.d,
	gas/mips/tmipsel16-e.d, gas/mips/tmipsel16-f.d: Fix GPR mask.
	* gas/mips/reginfo-1.s, gas/mips/reginfo-1a.d,
	gas/mips/reginfo-1b.d: New tests.
	* gas/mips/mips.exp: Run them.
@
text
@#objdump: -rst -mips16
#name: MIPS16 reloc 2
#as: -32 -mips16

# Check MIPS16 reloc processing

.*: +file format elf.*mips.*

SYMBOL TABLE:
0+0000000 l    d  \.text	0+0000000 (|\.text)
0+0000000 l    d  \.data	0+0000000 (|\.data)
0+0000000 l    d  \.bss	0+0000000 (|\.bss)
0+0000000 l    d  foo	0+0000000 (|foo)
0+0000000 l    d  \.reginfo	0+0000000 (|\.reginfo)
0+0000000 l    d  \.(mdebug|pdr)	0+0000000 (|\.mdebug|\.pdr)
0+0000002 l       \.text	0+0000000 0xf0 l1


RELOCATION RECORDS FOR \[foo\]:
OFFSET [ ]+ TYPE              VALUE 
0+0000000 R_MIPS_32         l1


Contents of section \.text:
 0000 65006500 65006500 65006500 65006500  .*
Contents of section \.reginfo:
 0000 00010000 00000000 00000000 00000000  .*
 0010 00000000 00000000                    .*
Contents of section foo:
 0000 00000003 00000000 00000000 00000000  .*
@


1.10
log
@Remove previous patch, committed in error.
@
text
@d27 1
a27 1
 0000 00000001 00000000 00000000 00000000  .*
@


1.9
log
@gas/
	* config/tc-mips.c (insn_uses_reg): Delete.
	(gpr_read_mask, gpr_write_mask): New functions.
	(fpr_read_mask, fpr_write_mask): Likewise.
	(insns_between, nops_for_vr4130, append_insn): Use them.

gas/testsuite/
	* gas/mips/mips16-e.d, gas/mips/mips16-f.d,
	gas/mips/mipsel16-e.d, gas/mips/mipsel16-f.d,
	gas/mips/tmips16-e.d, gas/mips/tmips16-f.d,
	gas/mips/tmipsel16-e.d, gas/mips/tmipsel16-f.d: Fix GPR mask.
@
text
@d27 1
a27 1
 0000 00010000 00000000 00000000 00000000  .*
@


1.8
log
@	* gas/elf/section2.e-mips: Allow named section symbols.
	* gas/mips/{,el}empic.d, gas/mips/mips{,el}16-[ef].d: Likewise.
@
text
@d27 1
a27 1
 0000 00000001 00000000 00000000 00000000  .*
@


1.7
log
@Use bfd_map_over_sections to walk section chain.
Do not dump the contents of an empty section.
@
text
@d10 6
a15 6
0+0000000 l    d  \.text	0+0000000 
0+0000000 l    d  \.data	0+0000000 
0+0000000 l    d  \.bss	0+0000000 
0+0000000 l    d  foo	0+0000000 
0+0000000 l    d  \.reginfo	0+0000000 
0+0000000 l    d  \.(mdebug|pdr)	0+0000000 
@


1.7.6.1
log
@	* gas/elf/section2.e-mips: Allow named section symbols.
	* gas/mips/{,el}empic.d, gas/mips/mips{,el}16-[ef].d: Likewise.
@
text
@d10 6
a15 6
0+0000000 l    d  \.text	0+0000000 (|\.text)
0+0000000 l    d  \.data	0+0000000 (|\.data)
0+0000000 l    d  \.bss	0+0000000 (|\.bss)
0+0000000 l    d  foo	0+0000000 (|foo)
0+0000000 l    d  \.reginfo	0+0000000 (|\.reginfo)
0+0000000 l    d  \.(mdebug|pdr)	0+0000000 (|\.mdebug|\.pdr)
@


1.6
log
@* gas/mips/abs.d, gas/mips/add.d, gas/mips/and.d,
gas/mips/beq.d, gas/mips/bge.d, gas/mips/bgeu.d,
gas/mips/blt.d, gas/mips/bltu.d, gas/mips/branch-misc-1.d,
gas/mips/break20.d, gas/mips/cp0sel-names-mips32.d,
gas/mips/cp0sel-names-mips32r2.d,
gas/mips/cp0sel-names-mips64.d,
gas/mips/cp0sel-names-numeric.d, gas/mips/cp0sel-names-sb1.d,
gas/mips/elf-jal.d, gas/mips/elf-rel.d, gas/mips/elf-rel2.d,
gas/mips/elf-rel3.d, gas/mips/elf-rel4.d, gas/mips/elf-rel5.d,
gas/mips/elf-rel6.d, gas/mips/elf-rel7.d,
gas/mips/elf_arch_mips1.d, gas/mips/elf_arch_mips2.d,
gas/mips/elf_arch_mips3.d, gas/mips/elf_arch_mips32.d,
gas/mips/elf_arch_mips32r2.d, gas/mips/elf_arch_mips4.d,
gas/mips/elf_arch_mips5.d, gas/mips/elf_arch_mips64.d,
gas/mips/elf_ase_mips16.d, gas/mips/empic.d,
gas/mips/empic2.d, gas/mips/empic3_e.d, gas/mips/empic3_g1.d,
gas/mips/empic3_g2.d, gas/mips/hwr-names-mips32r2.d,
gas/mips/hwr-names-numeric.d, gas/mips/jal-empic-elf-2.d,
gas/mips/jal-empic-elf-3.d, gas/mips/jal-empic-elf.d,
gas/mips/jal-svr4pic.d, gas/mips/jal-xgot.d, gas/mips/jal.d,
gas/mips/la-empic.d, gas/mips/la-svr4pic.d,
gas/mips/la-xgot.d, gas/mips/la.d, gas/mips/lb-empic.d,
gas/mips/lb-svr4pic.d, gas/mips/lb-xgot-ilocks.d,
gas/mips/lb-xgot.d, gas/mips/lb.d, gas/mips/ld-empic.d,
gas/mips/ld-svr4pic.d, gas/mips/ld-xgot.d, gas/mips/ld.d,
gas/mips/li.d, gas/mips/lif-empic.d, gas/mips/lif-svr4pic.d,
gas/mips/lif-xgot.d, gas/mips/lifloat.d,
gas/mips/mips-gp32-fp32-pic.d, gas/mips/mips-gp32-fp32.d,
gas/mips/mips-gp32-fp64-pic.d, gas/mips/mips-gp32-fp64.d,
gas/mips/mips-gp64-fp32-pic.d, gas/mips/mips-gp64-fp32.d,
gas/mips/mips-gp64-fp64-pic.d, gas/mips/mips-gp64-fp64.d,
gas/mips/mips.exp, gas/mips/mips16-e.d, gas/mips/mips16-f.d,
gas/mips/mips32.d, gas/mips/mips32r2.d, gas/mips/mips4010.d,
gas/mips/mips4650.d, gas/mips/mips64.d, gas/mips/mipsel16-e.d,
gas/mips/mipsel16-f.d, gas/mips/rol-hw.d, gas/mips/rol.d,
gas/mips/sb.d, gas/mips/sync.d, gas/mips/tempic.d,
gas/mips/tmips16-e.d, gas/mips/tmips16-f.d,
gas/mips/tmipsel16-e.d, gas/mips/tmipsel16-f.d,
gas/mips/trunc.d, gas/mips/uld.d, gas/mips/ulh-empic.d,
gas/mips/ulh-svr4pic.d, gas/mips/ulh-xgot.d, gas/mips/ulh.d,
gas/mips/ulh2-eb.d, gas/mips/ulh2-el.d, gas/mips/ulw.d,
gas/mips/ulw2-eb.d, gas/mips/ulw2-eb-ilocks.d, gas/mips/ulw2-el.d,
gas/mips/ulw2-el-ilocks.d, gas/mips/usd.d, gas/mips/ush.d,
gas/mips/usw.d, gas/mips/vr4122.d: Added ABI specification.
gas/vtable/vtable.exp: mips64*-*-linux* and mips*-*-irix6* are
RELA.
@
text
@a25 1
Contents of section \.data:
a28 2
Contents of section \.(mdebug|pdr):
#...
@


1.5
log
@	* binutils-all/readelf.exp: Don't regard mips*el-*-* as traditional
	mips.
	* gas/mips/mips.exp: Likewise. Use traditional testcases for
	mips${el}16-f if needed.
	* gas/mips/elempic.d: New file, testcase for little endian empic.
	* gas/mips/elfel-rel2.d: Don't test trailing zeroes in dump.
	* gas/mips/mips16-f.d: Use non-traditional symbol sorting.
	* gas/mips/mipsel16-f.d: Likewise.
	* gas/mips/mipsel16-e.d: New file, testcase for little endian MIPS16
	relocations.
	* gas/mips/tmipsel16-f.d: New file, testcase for little endian MIPS16
	relocations, traditional variant.
@
text
@d3 1
a3 1
#as: -mips16
@


1.5.6.1
log
@	Merge from mainline:

	2003-05-06  Alexandre Oliva  <aoliva@@redhat.com>
	* gas/mips/abs.d, gas/mips/add.d, gas/mips/and.d,
	gas/mips/beq.d, gas/mips/bge.d, gas/mips/bgeu.d,
	gas/mips/blt.d, gas/mips/bltu.d, gas/mips/branch-misc-1.d,
	gas/mips/break20.d, gas/mips/cp0sel-names-mips32.d,
	gas/mips/cp0sel-names-mips32r2.d,
	gas/mips/cp0sel-names-mips64.d,
	gas/mips/cp0sel-names-numeric.d, gas/mips/cp0sel-names-sb1.d,
	gas/mips/elf-jal.d, gas/mips/elf-rel.d, gas/mips/elf-rel2.d,
	gas/mips/elf-rel3.d, gas/mips/elf-rel4.d, gas/mips/elf-rel5.d,
	gas/mips/elf-rel6.d, gas/mips/elf-rel7.d,
	gas/mips/elf_arch_mips1.d, gas/mips/elf_arch_mips2.d,
	gas/mips/elf_arch_mips3.d, gas/mips/elf_arch_mips32.d,
	gas/mips/elf_arch_mips32r2.d, gas/mips/elf_arch_mips4.d,
	gas/mips/elf_arch_mips5.d, gas/mips/elf_arch_mips64.d,
	gas/mips/elf_ase_mips16.d, gas/mips/empic.d,
	gas/mips/empic2.d, gas/mips/empic3_e.d, gas/mips/empic3_g1.d,
	gas/mips/empic3_g2.d, gas/mips/hwr-names-mips32r2.d,
	gas/mips/hwr-names-numeric.d, gas/mips/jal-empic-elf-2.d,
	gas/mips/jal-empic-elf-3.d, gas/mips/jal-empic-elf.d,
	gas/mips/jal-svr4pic.d, gas/mips/jal-xgot.d, gas/mips/jal.d,
	gas/mips/la-empic.d, gas/mips/la-svr4pic.d,
	gas/mips/la-xgot.d, gas/mips/la.d, gas/mips/lb-empic.d,
	gas/mips/lb-svr4pic.d, gas/mips/lb-xgot-ilocks.d,
	gas/mips/lb-xgot.d, gas/mips/lb.d, gas/mips/ld-empic.d,
	gas/mips/ld-svr4pic.d, gas/mips/ld-xgot.d, gas/mips/ld.d,
	gas/mips/li.d, gas/mips/lif-empic.d, gas/mips/lif-svr4pic.d,
	gas/mips/lif-xgot.d, gas/mips/lifloat.d,
	gas/mips/mips-gp32-fp32-pic.d, gas/mips/mips-gp32-fp32.d,
	gas/mips/mips-gp32-fp64-pic.d, gas/mips/mips-gp32-fp64.d,
	gas/mips/mips-gp64-fp32-pic.d, gas/mips/mips-gp64-fp32.d,
	gas/mips/mips-gp64-fp64-pic.d, gas/mips/mips-gp64-fp64.d,
	gas/mips/mips.exp, gas/mips/mips16-e.d, gas/mips/mips16-f.d,
	gas/mips/mips32.d, gas/mips/mips32r2.d, gas/mips/mips4010.d,
	gas/mips/mips4650.d, gas/mips/mips64.d, gas/mips/mipsel16-e.d,
	gas/mips/mipsel16-f.d, gas/mips/rol-hw.d, gas/mips/rol.d,
	gas/mips/sb.d, gas/mips/sync.d, gas/mips/tempic.d,
	gas/mips/tmips16-e.d, gas/mips/tmips16-f.d,
	gas/mips/tmipsel16-e.d, gas/mips/tmipsel16-f.d,
	gas/mips/trunc.d, gas/mips/uld.d, gas/mips/ulh-empic.d,
	gas/mips/ulh-svr4pic.d, gas/mips/ulh-xgot.d, gas/mips/ulh.d,
	gas/mips/ulh2-eb.d, gas/mips/ulh2-el.d, gas/mips/ulw.d,
	gas/mips/ulw2-eb.d, gas/mips/ulw2-eb-ilocks.d, gas/mips/ulw2-el.d,
	gas/mips/ulw2-el-ilocks.d, gas/mips/usd.d, gas/mips/ush.d,
	gas/mips/usw.d, gas/mips/vr4122.d: Added ABI specification.
	gas/vtable/vtable.exp: mips64*-*-linux* and mips*-*-irix6* are
	RELA.
@
text
@d3 1
a3 1
#as: -32 -mips16
@


1.4
log
@2001-08-10  H.J. Lu  <hjl@@gnu.org>

	* gas/mips/e32-rel2.d: Updated for the objdump output change.
	* gas/mips/e32el-rel2.d: Likewise.
	* gas/mips/elf-rel.d: Likewise.
	* gas/mips/elf-rel2.d: Likewise.
	* gas/mips/elf-rel3.d: Likewise.
	* gas/mips/elf_e_flags1.d: Likewise.
	* gas/mips/elf_e_flags2.d: Likewise.
	* gas/mips/elf_e_flags3.d: Likewise.
	* gas/mips/elf_e_flags4.d: Likewise.
	* gas/mips/elfel-rel.d: Likewise.
	* gas/mips/elfel-rel2.d: Likewise.
	* gas/mips/elfel-rel3.d: Likewise.
	* gas/mips/empic.d: Likewise.
	* gas/mips/mips16-e.d: Likewise.
	* gas/mips/mips16-f.d: Likewise.
	* gas/mips/mipsel16-f.d: Likewise.
	* gas/mips/telempic.d: Likewise.
	* gas/mips/tempic.d: Likewise.
	* gas/mips/tmips16-e.d: Likewise.
	* gas/mips/tmipsel16-e.d: Likewise.

	* gas/mips/mips16-f.d: Fix the symbol table output.

	* gas/mips/mipsel16-f.d: Fix the endian.

	* gas/mips/mips.exp; Don't xfail mips16-f/mipsel16-f.
@
text
@a12 1
0+0000002 l       \.text	0+0000000 0xf0 l1
d16 1
@


1.3
log
@2001-06-06  H.J. Lu  <hjl@@gnu.org>

	* gas/mips/empic.d: Support stabs.
	* gas/mips/mips16-e.d: Likewise.
	* gas/mips/mips16-f.d: Likewise.
	* gas/mips/mipsel16-f.d: Likewise.
	* gas/mips/telempic.d: Likewise.
	* gas/mips/tempic.d: Likewise.
	* gas/mips/tmips16-e.d: Likewise.
	* gas/mips/tmipsel16-e.d: Likewise.
@
text
@d13 1
a16 1
0+0000002 l       \.text	0+0000000 0xf0 l1
d20 1
a20 1
OFFSET           TYPE              VALUE 
@


1.2
log
@oops - omitted from previous deltas
@
text
@d15 1
a15 1
0+0000000 l    d  \.mdebug	0+0000000 
d30 1
a30 1
Contents of section \.mdebug:
@


1.2.2.1
log
@Merge from mainline.
@
text
@d15 1
a15 1
0+0000000 l    d  \.(mdebug|pdr)	0+0000000 
d30 1
a30 1
Contents of section \.(mdebug|pdr):
@


1.1
log
@In bfd/:
	* elf32-mips.c (mips_elf_next_relocation): Rename from
	mips_elf_next_lo16_relocation, and generalize to look
	for any relocation type.
	(elf_mips_howto_table): Make R_MIPS_PC16 pcrel_offset.
	(elf_mips_gnu_rel_hi16): Howto for R_MIPS_GNU_REL_HI16.
	(elf_mips_gnu_rel_lo16): Howto for R_MIPS_GNU_REL_LO16.
	(elf_mips_gnu_rel16_s2): Howto for R_MIPS_GNU_REL16_S2.
	(elf_mips_gnu_pcrel64): Howto for R_MIPS_PC64.
	(elf_mips_gnu_pcrel32): Howto for R_MIPS_PC32.
	(bfd_elf32_bfd_reloc_type_lookup): Add new relocs.
	(mips_rtype_to_howto): Likewise.
	(mips_elf_calculate_relocation): Handle new relocs.
	(_bfd_mips_elf_relocate_section): REL_HI16/REL_LO16 relocs
	are paired.  The addend for R_MIPS_GNU_REL16_S2
	is shifted right two bits.
In gas/:
	* config/tc-mips.c (mips_ip): Don't put stuff in .rodata
	when embedded-pic.

	* config/tc-mips.c (SWITCH_TABLE): The ELF embedded-pic
 	implementation doesn't have special handling for switch
 	statements.
	(macro_build): Allow for code in sections other than .text.
	(macro): Likewise.
	(mips_ip): Likewise.
	(md_apply_fix): Do pc-relative relocation madness for MIPS ELF.
  	Don't perform relocs if we will be outputting them.
	(tc_gen_reloc): For ELF, just use fx_addnumber for pc-relative
 	relocations.  Allow BFD_RELOC_16_PCREL_S2 relocs when
 	embedded-pic.
In gas/testsuite/:
	* gas/mips/empic.d: New file.
	* gas/mips/empic.s: New file.
	* gas/mips/mips16-e.d: New file.
	* gas/mips/mips16-e.s: New file.
	* gas/mips/mips16-f.d: New file.
	* gas/mips/mips16-f.s: New file.
	* gas/mips/mips.exp: Add empic, mips16-e.  Add mips16-f as an
	expected failure.
In include/elf:
	* mips.h: Add R_MIPS_GNU_REL_HI16, R_MIPS_GNU_REL_LO16,
 	R_MIPS_GNU_REL16_S2, R_MIPS_PC64 and R_MIPS_PC32 relocation
 	numbers.
@
text
@d25 1
a25 1
 0000 65006500                             .*
d33 1
a33 1
 0000 00000003                             .*
@

