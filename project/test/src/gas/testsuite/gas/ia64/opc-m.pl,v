head	1.1;
access;
symbols
	binutils-2_24-branch:1.1.0.46
	binutils-2_24-branchpoint:1.1
	binutils-2_21_1:1.1
	binutils-2_23_2:1.1
	binutils-2_23_1:1.1
	binutils-2_23:1.1
	binutils-2_23-branch:1.1.0.44
	binutils-2_23-branchpoint:1.1
	binutils-2_22_branch:1.1.0.42
	binutils-2_22:1.1
	binutils-2_22-branch:1.1.0.40
	binutils-2_22-branchpoint:1.1
	binutils-2_21:1.1
	binutils-2_21-branch:1.1.0.38
	binutils-2_21-branchpoint:1.1
	binutils-2_20_1:1.1
	binutils-2_20:1.1
	binutils-arc-20081103-branch:1.1.0.36
	binutils-arc-20081103-branchpoint:1.1
	binutils-2_20-branch:1.1.0.34
	binutils-2_20-branchpoint:1.1
	dje-cgen-play1-branch:1.1.0.32
	dje-cgen-play1-branchpoint:1.1
	arc-20081103-branch:1.1.0.30
	arc-20081103-branchpoint:1.1
	binutils-2_19_1:1.1
	binutils-2_19:1.1
	binutils-2_19-branch:1.1.0.28
	binutils-2_19-branchpoint:1.1
	binutils-2_18:1.1
	binutils-2_18-branch:1.1.0.26
	binutils-2_18-branchpoint:1.1
	binutils-csl-coldfire-4_1-32:1.1
	binutils-csl-sourcerygxx-4_1-32:1.1
	binutils-csl-innovasic-fido-3_4_4-33:1.1
	binutils-csl-sourcerygxx-3_4_4-32:1.1
	binutils-csl-coldfire-4_1-30:1.1
	binutils-csl-sourcerygxx-4_1-30:1.1
	binutils-csl-coldfire-4_1-28:1.1
	binutils-csl-sourcerygxx-4_1-29:1.1
	binutils-csl-sourcerygxx-4_1-28:1.1
	binutils-csl-arm-2006q3-27:1.1
	binutils-csl-sourcerygxx-4_1-27:1.1
	binutils-csl-arm-2006q3-26:1.1
	binutils-csl-sourcerygxx-4_1-26:1.1
	binutils-csl-sourcerygxx-4_1-25:1.1
	binutils-csl-sourcerygxx-4_1-24:1.1
	binutils-csl-sourcerygxx-4_1-23:1.1
	binutils-csl-sourcerygxx-4_1-21:1.1
	binutils-csl-arm-2006q3-21:1.1
	binutils-csl-sourcerygxx-4_1-22:1.1
	binutils-csl-palmsource-arm-prelinker-1_0-1:1.1
	binutils-csl-sourcerygxx-4_1-20:1.1
	binutils-csl-arm-2006q3-19:1.1
	binutils-csl-sourcerygxx-4_1-19:1.1
	binutils-csl-sourcerygxx-4_1-18:1.1
	binutils-csl-renesas-4_1-9:1.1
	binutils-csl-sourcerygxx-3_4_4-25:1.1
	binutils-csl-renesas-4_1-8:1.1
	binutils-csl-renesas-4_1-7:1.1
	binutils-csl-renesas-4_1-6:1.1
	binutils-csl-sourcerygxx-4_1-17:1.1
	binutils-csl-sourcerygxx-4_1-14:1.1
	binutils-csl-sourcerygxx-4_1-15:1.1
	binutils-csl-sourcerygxx-4_1-13:1.1
	binutils-2_17:1.1
	binutils-csl-sourcerygxx-4_1-12:1.1
	binutils-csl-sourcerygxx-3_4_4-21:1.1
	binutils-csl-wrs-linux-3_4_4-24:1.1
	binutils-csl-wrs-linux-3_4_4-23:1.1
	binutils-csl-sourcerygxx-4_1-9:1.1
	binutils-csl-sourcerygxx-4_1-8:1.1
	binutils-csl-sourcerygxx-4_1-7:1.1
	binutils-csl-arm-2006q1-6:1.1
	binutils-csl-sourcerygxx-4_1-6:1.1
	binutils-csl-wrs-linux-3_4_4-22:1.1
	binutils-csl-coldfire-4_1-11:1.1
	binutils-csl-sourcerygxx-3_4_4-19:1.1
	binutils-csl-coldfire-4_1-10:1.1
	binutils-csl-sourcerygxx-4_1-5:1.1
	binutils-csl-sourcerygxx-4_1-4:1.1
	binutils-csl-wrs-linux-3_4_4-21:1.1
	binutils-csl-morpho-4_1-4:1.1
	binutils-csl-sourcerygxx-3_4_4-17:1.1
	binutils-csl-wrs-linux-3_4_4-20:1.1
	binutils-2_17-branch:1.1.0.24
	binutils-2_17-branchpoint:1.1
	binutils-csl-2_17-branch:1.1.0.22
	binutils-csl-2_17-branchpoint:1.1
	binutils-csl-gxxpro-3_4-branch:1.1.0.20
	binutils-csl-gxxpro-3_4-branchpoint:1.1
	binutils-2_16_1:1.1
	binutils-csl-arm-2005q1b:1.1
	binutils-2_16:1.1
	binutils-csl-arm-2005q1a:1.1
	binutils-csl-arm-2005q1-branch:1.1.0.18
	binutils-csl-arm-2005q1-branchpoint:1.1
	binutils-2_16-branch:1.1.0.16
	binutils-2_16-branchpoint:1.1
	csl-arm-2004-q3d:1.1
	csl-arm-2004-q3:1.1
	binutils-2_15:1.1
	binutils-2_15-branchpoint:1.1
	csl-arm-2004-q1a:1.1
	csl-arm-2004-q1:1.1
	binutils-2_15-branch:1.1.0.14
	cagney_bfdfile-20040213-branch:1.1.0.12
	cagney_bfdfile-20040213-branchpoint:1.1
	cagney_bigcore-20040122-branch:1.1.0.10
	cagney_bigcore-20040122-branchpoint:1.1
	csl-arm-2003-q4:1.1
	binutils-2_14:1.1
	binutils-2_14-branch:1.1.0.8
	binutils-2_14-branchpoint:1.1
	binutils-2_13_2_1:1.1
	binutils-2_13_2:1.1
	binutils-2_13_1:1.1
	binutils-2_13:1.1
	binutils-2_13-branchpoint:1.1
	binutils-2_13-branch:1.1.0.6
	binutils-2_12_1:1.1
	binutils-2_12:1.1
	binutils-2_12-branch:1.1.0.4
	binutils-2_12-branchpoint:1.1
	cygnus_cvs_20020108_pre:1.1
	binutils-2_11_2:1.1
	binutils-2_11_1:1.1
	binutils-2_11:1.1
	x86_64versiong3:1.1
	binutils-2_11-branch:1.1.0.2
	binutils_latest_snapshot:1.1;
locks; strict;
comment	@# @;


1.1
date	2000.04.21.20.22.22;	author wilson;	state Exp;
branches;
next	;


desc
@@


1.1
log
@IA-64 ELF support.
@
text
@print ".text\n\t.type _start,@@", "function\n_start:\n\n";

@@ldhint = ( "", ".nt1", ".nta" );
@@ldspec = ( "", ".s", ".a", ".sa", ".c.clr", ".c.nc" );
@@sthint = ( "", ".nta" );

$i = 0;

# Integer Load

foreach $s ( "1", "2", "4", "8" ) {
  foreach $e (@@ldspec, ".bias", ".acq", ".c.clr.acq") {
    foreach $l (@@ldhint) {
      print "\tld${s}${e}${l} r4 = [r5]\n";
      print "\tld${s}${e}${l} r4 = [r5], r6\n";
      print "\tld${s}${e}${l} r4 = [r5], ", $i - 256, "\n";
      $i = ($i + 13) % 512;
    }
    print "\n";
  }
}

# Integer Fill

for $l (@@ldhint) {
  print "\tld8.fill${l} r4 = [r5]\n";
  print "\tld8.fill${l} r4 = [r5], r6\n";
  print "\tld8.fill${l} r4 = [r5], ", $i - 256, "\n";
  $i = ($i + 13) % 512;
}
print "\n";

# Integer Store

foreach $s ("1", "2", "4", "8", "1.rel", "2.rel", "4.rel", "8.rel", "8.spill") {
  for $l (@@sthint) {
    print "\tst${s}${l} [r4] = r5\n";
    print "\tst${s}${l} [r4] = r5, ", $i - 256, "\n";
    $i = ($i + 13) % 512;
  }
  print "\n";
}

# Floating Point Load

foreach $s ( "fs", "fd", "f8", "fe" ) {
  foreach $e (@@ldspec) {
    foreach $l (@@ldhint) {
      print "\tld${s}${e}${l} f4 = [r5]\n";
      print "\tld${s}${e}${l} f4 = [r5], r6\n";
      print "\tld${s}${e}${l} f4 = [r5], ", $i - 256, "\n";
      $i = ($i + 13) % 512;
    }
    print "\n";
  }
}

# Floating Point Fill

for $l (@@ldhint) {
  print "\tldf.fill${l} f4 = [r5]\n";
  print "\tldf.fill${l} f4 = [r5], r6\n";
  print "\tldf.fill${l} f4 = [r5], ", $i - 256, "\n";
  $i = ($i + 13) % 512;
}
print "\n";

# Floating Point Store

foreach $s ( "fs", "fd", "f8", "fe", "f.spill" ) {
  for $l (@@sthint) {
    print "\tst${s}${l} [r4] = f5\n";
    print "\tst${s}${l} [r4] = f5, ", $i - 256, "\n";
    $i = ($i + 13) % 512;
  }
  print "\n";
}

# Floating Point Load Pair

foreach $s ( "fps", "fpd", "fp8" ) {
  foreach $e (@@ldspec) {
    foreach $l (@@ldhint) {
      print "\tld${s}${e}${l} f4, f5 = [r5]\n";
      print "\tld${s}${e}${l} f4, f5 = [r5], ", ($s eq "fps" ? 8 : 16), "\n";
    }
    print "\n";
  }
}

# Line Prefetch

@@lfhint = ( "", ".nt1", ".nt2", ".nta" );

foreach $e ( "", ".excl" ) {
  foreach $f ( "", ".fault" ) {
    foreach $h (@@lfhint) {
      print "\tlfetch${f}${e}${h} [r4]\n";
      print "\tlfetch${f}${e}${h} [r4], r5\n";
      print "\tlfetch${f}${e}${h} [r4], ", $i - 256, "\n";
      $i = ($i + 13) % 512;
    }
    print "\n";
  }
}

# Compare and Exchange

foreach $s ( "1", "2", "4", "8" ) {
  foreach $e ( ".acq", ".rel" ) {
    foreach $h (@@ldhint) {
      print "\tcmpxchg${s}${e}${h} r4 = [r5], r6, ar.ccv\n";
    }
    print "\n";
  }
}

# Exchange

foreach $s ( "1", "2", "4", "8" ) {
  foreach $h (@@ldhint) {
    print "\txchg${s}${h} r4 = [r5], r6\n";
  }
  print "\n";
}

# Fetch and Add

$i = 0;
@@inc3 = ( -16, -8, -4, -1, 1, 4, 8, 16 );
foreach $s ( "4.acq", "8.acq", "4.rel", "8.rel" ) {
  foreach $h (@@ldhint) {
    print "\tfetchadd${s}${h} r4 = [r5], ", $inc3[$i], "\n";
    $i = ($i + 1) % 8;
  }
  print "\n";
}

# Get/Set FR

foreach $e ( ".sig", ".exp", ".s", ".d" ) {
  print "\tsetf${e} f4 = r5\n";
}
print "\n";

foreach $e ( ".sig", ".exp", ".s", ".d" ) {
  print "\tgetf${e} r4 = f5\n";
}
print "\n";

# Speculation and Advanced Load Checkso

print <<END
	chk.s.m r4, _start
	chk.s f4, _start
	chk.a.nc r4, _start
	chk.a.clr r4, _start
	chk.a.nc f4, _start
	chk.a.clr f4, _start

	invala
	fwb
	mf
	mf.a
	srlz.d
	srlz.i
	sync.i
	nop.m 0
	nop.i 0

	{ .mii; alloc r4 = ar.pfs, 2, 10, 16, 16 }

	{ .mii; flushrs }
	{ .mii; loadrs }

	invala.e r4
	invala.e f4

	fc r4
	ptc.e r4

	break.m 0
	break.m 0x1ffff

	nop.m 0
	break.m 0x1ffff

	probe.r r4 = r5, r6
	probe.w r4 = r5, r6

	probe.r r4 = r5, 0
	probe.w r4 = r5, 1

	probe.r.fault r3, 2
	probe.w.fault r3, 3
	probe.rw.fault r3, 0

	itc.d r8
	itc.i r9

	sum 0x1234
	rum 0x5aaaaa
	ssm 0xffffff
	rsm 0x400000

	ptc.l r4, r5
	ptc.g r4, r5
	ptc.ga r4, r5
	ptr.d r4, r5
	ptr.i r4, r5

	thash r4 = r5
	ttag r4 = r5
	tpa r4 = r5
	tak r4 = r5

END
;
@
