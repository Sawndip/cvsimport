head	1.3;
access;
symbols
	binutils-2_24-branch:1.3.0.20
	binutils-2_24-branchpoint:1.3
	binutils-2_21_1:1.3
	binutils-2_23_2:1.3
	binutils-2_23_1:1.3
	binutils-2_23:1.3
	binutils-2_23-branch:1.3.0.18
	binutils-2_23-branchpoint:1.3
	binutils-2_22_branch:1.3.0.16
	binutils-2_22:1.3
	binutils-2_22-branch:1.3.0.14
	binutils-2_22-branchpoint:1.3
	binutils-2_21:1.3
	binutils-2_21-branch:1.3.0.12
	binutils-2_21-branchpoint:1.3
	binutils-2_20_1:1.3
	binutils-2_20:1.3
	binutils-arc-20081103-branch:1.3.0.10
	binutils-arc-20081103-branchpoint:1.3
	binutils-2_20-branch:1.3.0.8
	binutils-2_20-branchpoint:1.3
	dje-cgen-play1-branch:1.3.0.6
	dje-cgen-play1-branchpoint:1.3
	arc-20081103-branch:1.3.0.4
	arc-20081103-branchpoint:1.3
	binutils-2_19_1:1.3
	binutils-2_19:1.3
	binutils-2_19-branch:1.3.0.2
	binutils-2_19-branchpoint:1.3
	binutils-2_18:1.1
	binutils-2_18-branch:1.1.0.6
	binutils-2_18-branchpoint:1.1
	binutils-csl-coldfire-4_1-32:1.1
	binutils-csl-sourcerygxx-4_1-32:1.1
	binutils-csl-innovasic-fido-3_4_4-33:1.1
	binutils-csl-coldfire-4_1-30:1.1
	binutils-csl-sourcerygxx-4_1-30:1.1
	binutils-csl-coldfire-4_1-28:1.1
	binutils-csl-sourcerygxx-4_1-29:1.1
	binutils-csl-sourcerygxx-4_1-28:1.1
	binutils-csl-arm-2006q3-27:1.1
	binutils-csl-sourcerygxx-4_1-27:1.1
	binutils-csl-arm-2006q3-26:1.1
	binutils-csl-sourcerygxx-4_1-26:1.1
	binutils-csl-sourcerygxx-4_1-25:1.1
	binutils-csl-sourcerygxx-4_1-24:1.1
	binutils-csl-sourcerygxx-4_1-23:1.1
	binutils-csl-sourcerygxx-4_1-21:1.1
	binutils-csl-arm-2006q3-21:1.1
	binutils-csl-sourcerygxx-4_1-22:1.1
	binutils-csl-palmsource-arm-prelinker-1_0-1:1.1
	binutils-csl-sourcerygxx-4_1-20:1.1
	binutils-csl-arm-2006q3-19:1.1
	binutils-csl-sourcerygxx-4_1-19:1.1
	binutils-csl-sourcerygxx-4_1-18:1.1
	binutils-csl-renesas-4_1-9:1.1
	binutils-csl-renesas-4_1-8:1.1
	binutils-csl-renesas-4_1-7:1.1
	binutils-csl-renesas-4_1-6:1.1
	binutils-csl-sourcerygxx-4_1-17:1.1
	binutils-csl-sourcerygxx-4_1-14:1.1
	binutils-csl-sourcerygxx-4_1-15:1.1
	binutils-csl-sourcerygxx-4_1-13:1.1
	binutils-2_17:1.1
	binutils-csl-sourcerygxx-4_1-12:1.1
	binutils-csl-sourcerygxx-3_4_4-21:1.1
	binutils-csl-sourcerygxx-4_1-9:1.1
	binutils-csl-sourcerygxx-4_1-8:1.1
	binutils-csl-sourcerygxx-4_1-7:1.1
	binutils-csl-arm-2006q1-6:1.1
	binutils-csl-sourcerygxx-4_1-6:1.1
	binutils-csl-coldfire-4_1-11:1.1
	binutils-csl-sourcerygxx-3_4_4-19:1.1
	binutils-csl-coldfire-4_1-10:1.1
	binutils-csl-sourcerygxx-4_1-5:1.1
	binutils-csl-sourcerygxx-4_1-4:1.1
	binutils-csl-morpho-4_1-4:1.1
	binutils-csl-sourcerygxx-3_4_4-17:1.1
	binutils-2_17-branch:1.1.0.4
	binutils-2_17-branchpoint:1.1
	binutils-csl-2_17-branch:1.1.0.2
	binutils-csl-2_17-branchpoint:1.1
	binutils_latest_snapshot:1.3;
locks; strict;
comment	@# @;


1.3
date	2008.03.26.16.48.32;	author bernds;	state Exp;
branches;
next	1.2;

1.2
date	2008.03.26.16.33.33;	author bernds;	state Exp;
branches;
next	1.1;

1.1
date	2005.09.30.15.10.16;	author clm;	state Exp;
branches;
next	;


desc
@@


1.3
log
@gas/testsuite/:
	From Robin Getz  <rgetz@@blackfin.uclinux.org>
	* gas/bfin/arithmetic.d: Update to reflect spaces/capitalization in
	recent changes in opcodes/bfin-dis.c.
	gas/bfin/arithmetic.s: Likewise.
	gas/bfin/bit.d: Likewise.
	gas/bfin/bit2.d: Likewise.
	gas/bfin/control_code.d: Likewise.
	gas/bfin/control_code2.d: Likewise.
	gas/bfin/event.d: Likewise.
	gas/bfin/event2.d: Likewise.
	gas/bfin/flow.d: Likewise.
	gas/bfin/flow2.d: Likewise.
	gas/bfin/load.d: Likewise.
	gas/bfin/logical.d: Likewise.
	gas/bfin/logical2.d: Likewise.
	gas/bfin/move.d: Likewise.
	gas/bfin/move2.d: Likewise.
	gas/bfin/parallel.d: Likewise.
	gas/bfin/parallel2.d: Likewise.
	gas/bfin/parallel3.d: Likewise.
	gas/bfin/parallel4.d: Likewise.
	gas/bfin/shift.d: Likewise.
	gas/bfin/shift2.d: Likewise.
	gas/bfin/stack.d: Likewise.
	gas/bfin/stack2.d: Likewise.
	gas/bfin/store.d: Likewise.
	gas/bfin/vector.d: Likewise.
	gas/bfin/vector2.d: Likewise.
	gas/bfin/video.d: Likewise.
	gas/bfin/video2.d: Likewise.

opcodes/:
	* bfin-dis.c: (c_uimm4s4d, c_imm5d, c_imm7d, c_imm16d, c_uimm16s4d,
	c_imm32, c_huimm32e): Define.
	(constant_formats): Add flags for printing decimal, leading spaces, and
	exact symbols.
	(comment, parallel): Add global flags in all disassembly.
	(fmtconst): Take advantage of new flags, and print default in hex.
	(fmtconst_val): Likewise.
	(decode_macfunc): Be consistant with spaces, tabs, comments,
	capitalization in disassembly, fix minor coding style issues.
	(reg_names, amod0, amod1, amod0amod2, aligndir, get_allreg): Likewise.
	(decode_ProgCtrl_0, decode_PushPopMultiple_0, decode_CCflag_0,
	decode_CC2dreg_0, decode_CC2stat_0, decode_BRCC_0, decode_UJUMP_0,
	decode_REGMV_0, decode_ALU2op_0, decode_PTR2op_0, decode_LOGI2op_0,
	decode_COMP3op_0, decode_COMPI2opD_0, decode_COMPI2opP_0,
	decode_LDSTpmod_0, decode_dagMODim_0, decode_dagMODik_0,
	decode_dspLDST_0, decode_LDST_0, decode_LDSTiiFP_0, decode_LDSTii_0,
	decode_LoopSetup_0, decode_LDIMMhalf_0, decode_CALLa_0,
	decode_LDSTidxI_0, decode_linkage_0, decode_dsp32alu_0,
	decode_dsp32shift_0, decode_dsp32shiftimm_0, decode_pseudodbg_assert_0,
	_print_insn_bfin, print_insn_bfin): Likewise.
@
text
@#objdump: -d
#name: flow
.*: +file format .*

Disassembly of section .text:

00000000 <jump>:
   0:	55 00       	JUMP \(P5\);
   2:	83 00       	JUMP \(PC \+ P3\);
   4:	00 20       	JUMP.S 0x4 .*
   6:	80 e2 00 00 	JUMP.L 0xff000006 .*
   a:	7f e2 ff ff 	JUMP.L 0x1000008 .*
   e:	ff 27       	JUMP.S 0x100c .*
  10:	7f e2 00 80 	JUMP.L 0xff0010 .*
  14:	f6 2f       	JUMP.S 0x0 <jump>;

00000016 <ccjump>:
  16:	00 1a       	IF CC JUMP 0xfffffc16 .*
  18:	ff 1d       	IF CC JUMP 0x416 .* \(BP\);
  1a:	00 16       	IF !CC JUMP 0xfffffc1a .* \(BP\);
  1c:	89 10       	IF !CC JUMP 0x12e .*
  1e:	f1 1b       	IF CC JUMP 0x0 <jump>;
  20:	f0 1f       	IF CC JUMP 0x0 <jump> \(BP\);
  22:	ef 17       	IF !CC JUMP 0x0 <jump> \(BP\);
  24:	ee 13       	IF !CC JUMP 0x0 <jump>;

00000026 <call>:
  26:	63 00       	CALL \(P3\);
  28:	72 00       	CALL \(PC \+ P2\);
  2a:	80 e3 00 00 	CALL 0xff00002a .*
  2e:	7f e3 ff ff 	CALL 0x100002c .*
  32:	ff e3 e7 ff 	CALL 0x0 <jump>;

00000036 <return>:
  36:	10 00       	RTS;
  38:	11 00       	RTI;
  3a:	12 00       	RTX;
  3c:	13 00       	RTN;
  3e:	14 00       	RTE;

00000040 <loop_lc0>:
  40:	82 e0 13 00 	LSETUP\(0x44 <loop_lc0\+0x4>, 0x66 <loop_lc0\+0x26>\) LC0;
  44:	38 e4 7b fc 	R0 = \[FP \+ -0xe14\];
  48:	49 60       	R1 = 0x9 \(X\);.*
  4a:	38 e4 7b fc 	R0 = \[FP \+ -0xe14\];
  4e:	00 32       	P0 = R0;
  50:	42 44       	P2 = P0 << 0x2;
  52:	ba 5a       	P2 = P2 \+ FP;
  54:	20 e1 50 fb 	R0 = -0x4b0 \(X\);.*
  58:	08 32       	P1 = R0;
  5a:	8a 5a       	P2 = P2 \+ P1;
  5c:	00 60       	R0 = 0x0 \(X\);.*
  5e:	10 93       	\[P2\] = R0;
  60:	38 e4 7b fc 	R0 = \[FP \+ -0xe14\];
  64:	08 64       	R0 \+= 0x1;.*
  66:	38 e6 7b fc 	\[FP \+ -0xe14\] = R0;
  6a:	a2 e0 02 40 	LSETUP\(0x6e <loop_lc0\+0x2e>, 0x6e <loop_lc0\+0x2e>\) LC0 = P4;
  6e:	00 00       	NOP;
  70:	e0 e0 00 10 	LSETUP\(0x70 <loop_lc0\+0x30>, 0x70 <loop_lc0\+0x30>\) LC0 = P1 >> 0x1;
  74:	82 e0 ff 03 	LSETUP\(0x78 <loop_lc0\+0x38>, 0x72 <loop_lc0\+0x32>\) LC0;
  78:	af e0 00 52 	LSETUP\(0x76 <loop_lc0\+0x36>, 0xfffffc78 <loop_lc1\+0xfffffbf8>\) LC0 = P5;
  7c:	ef e0 02 00 	LSETUP\(0x7a <loop_lc0\+0x3a>, 0x80 <loop_lc1>\) LC0 = P0 >> 0x1;

00000080 <loop_lc1>:
  80:	90 e0 00 00 	LSETUP\(0x80 <loop_lc1>, 0x80 <loop_lc1>\) LC1;
  84:	b0 e0 00 40 	LSETUP\(0x84 <loop_lc1\+0x4>, 0x84 <loop_lc1\+0x4>\) LC1 = P4;
  88:	f8 e0 1b 10 	LSETUP\(0x78 <loop_lc0\+0x38>, 0xbe <loop_lc1\+0x3e>\) LC1 = P1 >> 0x1;
  8c:	92 e0 ff 03 	LSETUP\(0x90 <loop_lc1\+0x10>, 0x8a <loop_lc1\+0xa>\) LC1;
  90:	bf e0 00 52 	LSETUP\(0x8e <loop_lc1\+0xe>, 0xfffffc90 <loop_lc1\+0xfffffc10>\) LC1 = P5;
  94:	ff e0 02 00 	LSETUP\(0x92 <loop_lc1\+0x12>, 0x98 <loop_lc1\+0x18>\) LC1 = P0 >> 0x1;
  98:	38 e4 7a fc 	R0 = \[FP \+ -0xe18\];
  9c:	00 32       	P0 = R0;
  9e:	42 44       	P2 = P0 << 0x2;
  a0:	ba 5a       	P2 = P2 \+ FP;
  a2:	20 e1 f0 f1 	R0 = -0xe10 \(X\);.*
  a6:	00 32       	P0 = R0;
  a8:	42 5a       	P1 = P2 \+ P0;
  aa:	38 e4 7a fc 	R0 = \[FP \+ -0xe18\];
  ae:	00 32       	P0 = R0;
  b0:	42 44       	P2 = P0 << 0x2;
  b2:	ba 5a       	P2 = P2 \+ FP;
  b4:	20 e1 50 fb 	R0 = -0x4b0 \(X\);.*
  b8:	00 32       	P0 = R0;
  ba:	82 5a       	P2 = P2 \+ P0;
  bc:	10 91       	R0 = \[P2\];
  be:	08 93       	\[P1\] = R0;
@


1.2
log
@gas/:
	* config/tc-bfin.c (bfin_start_line_hook): Localize the labels
	generated for LOOP_BEGIN and LOOP_END instructions.
	(bfin_gen_loop): Likewise.

gas/testsuite/:
	* gas/bfin/flow.d: Adjust since the generated labels for LOOP_BEGIN
	and LOOP_END instruction are local now.
	* gas/bfin/flow2.d: Likewise.
@
text
@d8 8
a15 8
   0:	55 00       	JUMP  \(P5\);
   2:	83 00       	JUMP  \(PC\+P3\);
   4:	00 20       	JUMP.S  4.*
   6:	80 e2 00 00 	JUMP.L  ff000006.*
   a:	7f e2 ff ff 	JUMP.L  1000008.*
   e:	ff 27       	JUMP.S  100c.*
  10:	7f e2 00 80 	JUMP.L  ff0010.*
  14:	f6 2f       	JUMP.S  0 <jump>;
d18 8
a25 8
  16:	00 1a       	IF CC JUMP fffffc16.*
  18:	ff 1d       	IF CC JUMP 416.*\(BP\);
  1a:	00 16       	IF ! CC JUMP fffffc1a.*\(BP\);
  1c:	89 10       	IF ! CC JUMP 12e.*
  1e:	f1 1b       	IF CC JUMP 0 <jump>;
  20:	f0 1f       	IF CC JUMP 0 <jump>\(BP\);
  22:	ef 17       	IF ! CC JUMP 0 <jump>\(BP\);
  24:	ee 13       	IF ! CC JUMP 0 <jump>;
d28 5
a32 5
  26:	63 00       	CALL  \(P3\);
  28:	72 00       	CALL  \(PC\+P2\);
  2a:	80 e3 00 00 	CALL  ff00002a.*
  2e:	7f e3 ff ff 	CALL  100002c.*
  32:	ff e3 e7 ff 	CALL  0 <jump>;
d42 16
a57 16
  40:	82 e0 13 00 	LSETUP\(44 <loop_lc0\+0x4>,66 <loop_lc0\+0x26>\)LC0;
  44:	38 e4 7b fc 	R0=\[FP\+-3604\];
  48:	49 60       	R1=0x9\(x\);
  4a:	38 e4 7b fc 	R0=\[FP\+-3604\];
  4e:	00 32       	P0=R0;
  50:	42 44       	P2=P0<<2;
  52:	ba 5a       	P2=P2\+FP;
  54:	20 e1 50 fb 	R0=-1200 \(X\);
  58:	08 32       	P1=R0;
  5a:	8a 5a       	P2=P2\+P1;
  5c:	00 60       	R0=0x0\(x\);
  5e:	10 93       	\[P2\]=R0;
  60:	38 e4 7b fc 	R0=\[FP\+-3604\];
  64:	08 64       	R0\+=0x1;
  66:	38 e6 7b fc 	\[FP\+-3604\]=R0;
  6a:	a2 e0 02 40 	LSETUP\(6e <loop_lc0\+0x2e>,6e <loop_lc0\+0x2e>\)LC0=P4;
d59 4
a62 4
  70:	e0 e0 00 10 	LSETUP\(70 <loop_lc0\+0x30>,70 <loop_lc0\+0x30>\)LC0=P1>>1;
  74:	82 e0 ff 03 	LSETUP\(78 <loop_lc0\+0x38>,72 <loop_lc0\+0x32>\)LC0;
  78:	af e0 00 52 	LSETUP\(76 <loop_lc0\+0x36>,fffffc78 <loop_lc1\+0xfffffbf8>\)LC0=P5;
  7c:	ef e0 02 00 	LSETUP\(7a <loop_lc0\+0x3a>,80 <loop_lc1>\)LC0=P0>>1;
d65 22
a86 22
  80:	90 e0 00 00 	LSETUP\(80 <loop_lc1>,80 <loop_lc1>\)LC1;
  84:	b0 e0 00 40 	LSETUP\(84 <loop_lc1\+0x4>,84 <loop_lc1\+0x4>\)LC1=P4;
  88:	f8 e0 1b 10 	LSETUP\(78 <loop_lc0\+0x38>,be <loop_lc1\+0x3e>\)LC1=P1>>1;
  8c:	92 e0 ff 03 	LSETUP\(90 <loop_lc1\+0x10>,8a <loop_lc1\+0xa>\)LC1;
  90:	bf e0 00 52 	LSETUP\(8e <loop_lc1\+0xe>,fffffc90 <loop_lc1\+0xfffffc10>\)LC1=P5;
  94:	ff e0 02 00 	LSETUP\(92 <loop_lc1\+0x12>,98 <loop_lc1\+0x18>\)LC1=P0>>1;
  98:	38 e4 7a fc 	R0=\[FP\+-3608\];
  9c:	00 32       	P0=R0;
  9e:	42 44       	P2=P0<<2;
  a0:	ba 5a       	P2=P2\+FP;
  a2:	20 e1 f0 f1 	R0=-3600 \(X\);
  a6:	00 32       	P0=R0;
  a8:	42 5a       	P1=P2\+P0;
  aa:	38 e4 7a fc 	R0=\[FP\+-3608\];
  ae:	00 32       	P0=R0;
  b0:	42 44       	P2=P0<<2;
  b2:	ba 5a       	P2=P2\+FP;
  b4:	20 e1 50 fb 	R0=-1200 \(X\);
  b8:	00 32       	P0=R0;
  ba:	82 5a       	P2=P2\+P0;
  bc:	10 91       	R0=\[P2\];
  be:	08 93       	\[P1\]=R0;
@


1.1
log
@	* gas/bfin: New testsuite for bfin.
	* gas/all/gas.exp (bfin-*-*): Expected failure for alternate
	macro syntax.
@
text
@d42 1
a42 3
  40:	82 e0 13 00 	LSETUP\(44 <first_loop__BEGIN>,66 <first_loop__END>\)LC0;

00000044 <first_loop__BEGIN>:
a55 2

00000066 <first_loop__END>:
d57 1
a57 3
  6a:	a2 e0 02 40 	LSETUP\(6e <second_loop__BEGIN>,6e <second_loop__BEGIN>\)LC0=P4;

0000006e <second_loop__BEGIN>:
d59 4
a62 4
  70:	e0 e0 00 10 	LSETUP\(70 <second_loop__BEGIN\+0x2>,70 <second_loop__BEGIN\+0x2>\)LC0=P1>>1;
  74:	82 e0 ff 03 	LSETUP\(78 <second_loop__BEGIN\+0xa>,72 <second_loop__BEGIN\+0x4>\)LC0;
  78:	af e0 00 52 	LSETUP\(76 <second_loop__BEGIN\+0x8>,fffffc78 <another_loop__END\+0xfffffbba>\)LC0=P5;
  7c:	ef e0 02 00 	LSETUP\(7a <second_loop__BEGIN\+0xc>,80 <loop_lc1>\)LC0=P0>>1;
d67 1
a67 1
  88:	f8 e0 1b 10 	LSETUP\(78 <second_loop__BEGIN\+0xa>,be <another_loop__END>\)LC1=P1>>1;
d69 2
a70 4
  90:	bf e0 00 52 	LSETUP\(8e <loop_lc1\+0xe>,fffffc90 <another_loop__END\+0xfffffbd2>\)LC1=P5;
  94:	ff e0 02 00 	LSETUP\(92 <loop_lc1\+0x12>,98 <another_loop__BEGIN>\)LC1=P0>>1;

00000098 <another_loop__BEGIN>:
a85 2

000000be <another_loop__END>:
@

