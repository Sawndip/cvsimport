head	1.5;
access;
symbols
	binutils-2_24-branch:1.5.0.4
	binutils-2_24-branchpoint:1.5
	binutils-2_21_1:1.3
	binutils-2_23_2:1.5
	binutils-2_23_1:1.5
	binutils-2_23:1.5
	binutils-2_23-branch:1.5.0.2
	binutils-2_23-branchpoint:1.5
	binutils-2_22_branch:1.4.0.4
	binutils-2_22:1.4
	binutils-2_22-branch:1.4.0.2
	binutils-2_22-branchpoint:1.4
	binutils-2_21:1.3
	binutils-2_21-branch:1.3.0.2
	binutils-2_21-branchpoint:1.3
	binutils-2_20_1:1.2
	binutils-2_20:1.2
	binutils-arc-20081103-branch:1.2.0.10
	binutils-arc-20081103-branchpoint:1.2
	binutils-2_20-branch:1.2.0.8
	binutils-2_20-branchpoint:1.2
	dje-cgen-play1-branch:1.2.0.6
	dje-cgen-play1-branchpoint:1.2
	arc-20081103-branch:1.2.0.4
	arc-20081103-branchpoint:1.2
	binutils-2_19_1:1.2
	binutils-2_19:1.2
	binutils-2_19-branch:1.2.0.2
	binutils-2_19-branchpoint:1.2
	binutils-2_18:1.1
	binutils-2_18-branch:1.1.0.6
	binutils-2_18-branchpoint:1.1
	binutils-csl-coldfire-4_1-32:1.1
	binutils-csl-sourcerygxx-4_1-32:1.1
	binutils-csl-innovasic-fido-3_4_4-33:1.1
	binutils-csl-coldfire-4_1-30:1.1
	binutils-csl-sourcerygxx-4_1-30:1.1
	binutils-csl-coldfire-4_1-28:1.1
	binutils-csl-sourcerygxx-4_1-29:1.1
	binutils-csl-sourcerygxx-4_1-28:1.1
	binutils-csl-arm-2006q3-27:1.1
	binutils-csl-sourcerygxx-4_1-27:1.1
	binutils-csl-arm-2006q3-26:1.1
	binutils-csl-sourcerygxx-4_1-26:1.1
	binutils-csl-sourcerygxx-4_1-25:1.1
	binutils-csl-sourcerygxx-4_1-24:1.1
	binutils-csl-sourcerygxx-4_1-23:1.1
	binutils-csl-sourcerygxx-4_1-21:1.1
	binutils-csl-arm-2006q3-21:1.1
	binutils-csl-sourcerygxx-4_1-22:1.1
	binutils-csl-palmsource-arm-prelinker-1_0-1:1.1
	binutils-csl-sourcerygxx-4_1-20:1.1
	binutils-csl-arm-2006q3-19:1.1
	binutils-csl-sourcerygxx-4_1-19:1.1
	binutils-csl-sourcerygxx-4_1-18:1.1
	binutils-csl-renesas-4_1-9:1.1
	binutils-csl-renesas-4_1-8:1.1
	binutils-csl-renesas-4_1-7:1.1
	binutils-csl-renesas-4_1-6:1.1
	binutils-csl-sourcerygxx-4_1-17:1.1
	binutils-csl-sourcerygxx-4_1-14:1.1
	binutils-csl-sourcerygxx-4_1-15:1.1
	binutils-csl-sourcerygxx-4_1-13:1.1
	binutils-2_17:1.1
	binutils-csl-sourcerygxx-4_1-12:1.1
	binutils-csl-sourcerygxx-3_4_4-21:1.1
	binutils-csl-sourcerygxx-4_1-9:1.1
	binutils-csl-sourcerygxx-4_1-8:1.1
	binutils-csl-sourcerygxx-4_1-7:1.1
	binutils-csl-arm-2006q1-6:1.1
	binutils-csl-sourcerygxx-4_1-6:1.1
	binutils-csl-coldfire-4_1-11:1.1
	binutils-csl-sourcerygxx-3_4_4-19:1.1
	binutils-csl-coldfire-4_1-10:1.1
	binutils-csl-sourcerygxx-4_1-5:1.1
	binutils-csl-sourcerygxx-4_1-4:1.1
	binutils-csl-morpho-4_1-4:1.1
	binutils-csl-sourcerygxx-3_4_4-17:1.1
	binutils-2_17-branch:1.1.0.4
	binutils-2_17-branchpoint:1.1
	binutils-csl-2_17-branch:1.1.0.2
	binutils-csl-2_17-branchpoint:1.1
	binutils_latest_snapshot:1.5;
locks; strict;
comment	@# @;


1.5
date	2011.12.15.04.25.10;	author jiez;	state Exp;
branches;
next	1.4;

1.4
date	2011.02.13.18.54.49;	author vapier;	state Exp;
branches;
next	1.3;

1.3
date	2010.09.22.20.37.25;	author vapier;	state Exp;
branches;
next	1.2;

1.2
date	2008.03.26.16.48.32;	author bernds;	state Exp;
branches;
next	1.1;

1.1
date	2005.09.30.15.10.16;	author clm;	state Exp;
branches;
next	;


desc
@@


1.5
log
@gas/
2011-12-14  Stuart Henderson  <shenders@@gcc.gnu.org>

	* config/bfin-parse.y (asm_1): set SRCx fields to all 1s for
	dspalu32 instrs that don't use them.

gas/testsuite/
2011-12-14  Stuart Henderson  <shenders@@gcc.gnu.org>

	* gas/bfin/move.d: Update SRCx field expectations.
	* gas/bfin/move2.d: Likewise.
	* gas/bfin/parallel.d: Likewise.
	* gas/bfin/parallel2.d: Likewise.
	* gas/bfin/parallel3.d: Likewise.
	* gas/bfin/parallel4.d: Likewise.
	* gas/bfin/video.d: Likewise.
	* gas/bfin/video2.d: Likewise.
@
text
@#objdump: -d
#name: parallel3
.*: +file format .*

Disassembly of section .text:

00000000 <.text>:
   0:	0c cc 0d 08 	R4.H = R4.L = SIGN \(R1.H\) \* R5.H \+ SIGN \(R1.L\) \* R5.L \|\| \[P0\] = P0 \|\| NOP;
   4:	40 93 00 00 
   8:	09 ce 15 8e 	R7 = VIT_MAX \(R5, R2\) \(ASL\) \|\| \[P0\+\+\] = P0 \|\| NOP;
   c:	40 92 00 00 
  10:	09 ce 30 c0 	R0 = VIT_MAX \(R0, R6\) \(ASR\) \|\| \[P0--\] = P0 \|\| NOP;
  14:	c0 92 00 00 
  18:	09 ce 03 0a 	R5.L = VIT_MAX \(R3\) \(ASL\) \|\| \[P0 \+ 0x4\] = P0 \|\| NOP;
  1c:	40 bc 00 00 
  20:	09 ce 02 44 	R2.L = VIT_MAX \(R2\) \(ASR\) \|\| \[P0 \+ 0x8\] = P0 \|\| NOP;
  24:	80 bc 00 00 
  28:	06 cc 28 8a 	R5 = ABS R5 \(V\) \|\| \[P0 \+ 0x3c\] = P0 \|\| NOP;
  2c:	c0 bf 00 00 
  30:	06 cc 00 84 	R2 = ABS R0 \(V\) \|\| \[P0 \+ 0x38\] = P0 \|\| NOP;
  34:	80 bf 00 00 
  38:	00 cc 1a 0a 	R5 = R3 \+\|\+ R2 \|\| \[P0 \+ 0x34\] = P0 \|\| NOP;
  3c:	40 bf 00 00 
  40:	00 cc 1a 3a 	R5 = R3 \+\|\+ R2 \(SCO\) \|\| \[P1\] = P0 \|\| NOP;
  44:	48 93 00 00 
  48:	00 cc 06 8e 	R7 = R0 -\|\+ R6 \|\| \[P1\+\+\] = P0 \|\| NOP;
  4c:	48 92 00 00 
  50:	00 cc 0b a4 	R2 = R1 -\|\+ R3 \(S\) \|\| \[P1--\] = P0 \|\| NOP;
  54:	c8 92 00 00 
  58:	00 cc 02 48 	R4 = R0 \+\|- R2 \|\| \[P1 \+ 0x30\] = P0 \|\| NOP;
  5c:	08 bf 00 00 
  60:	00 cc 0a 5a 	R5 = R1 \+\|- R2 \(CO\) \|\| \[P1 \+ 0x2c\] = P0 \|\| NOP;
  64:	c8 be 00 00 
  68:	00 cc 1c cc 	R6 = R3 -\|- R4 \|\| \[P1 \+ 0x28\] = P0 \|\| NOP;
  6c:	88 be 00 00 
  70:	00 cc 2e de 	R7 = R5 -\|- R6 \(CO\) \|\| \[P2\] = P0 \|\| NOP;
  74:	50 93 00 00 
  78:	01 cc 63 bf 	R5 = R4 \+\|\+ R3, R7 = R4 -\|- R3 \(SCO, ASR\) \|\| \[P2\+\+\] = P0 \|\| NOP;
  7c:	50 92 00 00 
  80:	01 cc 1e c2 	R0 = R3 \+\|\+ R6, R1 = R3 -\|- R6 \(ASL\) \|\| \[P2--\] = P0 \|\| NOP;
  84:	d0 92 00 00 
  88:	21 cc ca 2d 	R7 = R1 \+\|- R2, R6 = R1 -\|\+ R2 \(S\) \|\| \[P2 \+ 0x24\] = P0 \|\| NOP;
  8c:	50 be 00 00 
  90:	21 cc 53 0a 	R1 = R2 \+\|- R3, R5 = R2 -\|\+ R3 \|\| \[P2 \+ 0x20\] = P0 \|\| NOP;
  94:	10 be 00 00 
  98:	04 cc 41 8d 	R5 = R0 \+ R1, R6 = R0 - R1 \(NS\) \|\| \[P3\] = P0 \|\| NOP;
  9c:	58 93 00 00 
  a0:	04 cc 39 a6 	R0 = R7 \+ R1, R3 = R7 - R1 \(S\) \|\| \[P3\+\+\] = P0 \|\| NOP;
  a4:	58 92 00 00 
  a8:	11 cc ff 0b 	R7 = A1 \+ A0, R5 = A1 - A0 \(NS\) \|\| \[P3--\] = P0 \|\| NOP;
  ac:	d8 92 00 00 
  b0:	11 cc ff 6c 	R3 = A0 \+ A1, R6 = A0 - A1 \(S\) \|\| \[P3 \+ 0x1c\] = P0 \|\| NOP;
  b4:	d8 bd 00 00 
  b8:	81 ce 8b 03 	R1 = R3 >>> 0xf \(V\) \|\| \[P3 \+ 0x18\] = P0 \|\| NOP;
  bc:	98 bd 00 00 
  c0:	81 ce e0 09 	R4 = R0 >>> 0x4 \(V\) \|\| \[P4\] = P0 \|\| NOP;
  c4:	60 93 00 00 
  c8:	81 ce 00 4a 	R5 = R0 << 0x0 \(V, S\) \|\| \[P4\+\+\] = P0 \|\| NOP;
  cc:	60 92 00 00 
  d0:	81 ce 62 44 	R2 = R2 << 0xc \(V, S\) \|\| \[P4--\] = P0 \|\| NOP;
  d4:	e0 92 00 00 
  d8:	01 ce 15 0e 	R7 = ASHIFT R5 BY R2.L \(V\) \|\| \[P4 \+ 0x18\] = P0 \|\| NOP;
  dc:	a0 bd 00 00 
  e0:	01 ce 02 40 	R0 = ASHIFT R2 BY R0.L \(V, S\) \|\| \[P4 \+ 0x14\] = P0 \|\| NOP;
  e4:	60 bd 00 00 
  e8:	81 ce 8a 8b 	R5 = R2 >> 0xf \(V\) \|\| \[P4 \+ 0x10\] = P0 \|\| NOP;
  ec:	20 bd 00 00 
  f0:	81 ce 11 80 	R0 = R1 << 0x2 \(V\) \|\| \[P4 \+ 0xc\] = P0 \|\| NOP;
  f4:	e0 bc 00 00 
  f8:	01 ce 11 88 	R4 = LSHIFT R1 BY R2.L \(V\) \|\| \[P5\] = P0 \|\| NOP;
  fc:	68 93 00 00 
 100:	06 cc 01 0c 	R6 = MAX \(R0, R1\) \(V\) \|\| \[P5\+\+\] = P0 \|\| NOP;
 104:	68 92 00 00 
 108:	06 cc 17 40 	R0 = MIN \(R2, R7\) \(V\) \|\| \[P5--\] = P0 \|\| NOP;
 10c:	e8 92 00 00 
 110:	04 ca be 66 	R2.H = R7.L \* R6.H, R2.L = R7.H \* R6.H \|\| \[P5 \+ 0x8\] = P0 \|\| NOP;
 114:	a8 bc 00 00 
 118:	04 ca 08 e1 	R4.H = R1.H \* R0.H, R4.L = R1.L \* R0.L \|\| \[P5 \+ 0x4\] = P0 \|\| NOP;
 11c:	68 bc 00 00 
 120:	04 ca 1a a0 	R0.H = R3.H \* R2.L, R0.L = R3.L \* R2.L \|\| \[P5\] = P0 \|\| NOP;
 124:	68 93 00 00 
 128:	94 ca 5a e1 	R5.H = R3.H \* R2.H \(M\), R5.L = R3.L \* R2.L \(FU\) \|\| \[SP\] = P0 \|\| NOP;
 12c:	70 93 00 00 
 130:	2c ca 27 e0 	R1 = R4.H \* R7.H, R0 = R4.L \* R7.L \(S2RND\) \|\| \[SP\+\+\] = P0 \|\| NOP;
 134:	70 92 00 00 
 138:	0c ca 95 27 	R7 = R2.L \* R5.L, R6 = R2.H \* R5.H \|\| \[SP--\] = P0 \|\| NOP;
 13c:	f0 92 00 00 
 140:	24 cb 3e e0 	R0.H = R7.H \* R6.H, R0.L = R7.L \* R6.L \(ISS2\) \|\| \[SP \+ 0x3c\] = P0 \|\| NOP;
 144:	f0 bf 00 00 
 148:	04 cb c1 e0 	R3.H = R0.H \* R1.H, R3.L = R0.L \* R1.L \(IS\) \|\| \[FP\] = P0 \|\| NOP;
 14c:	78 93 00 00 
 150:	00 c8 13 46 	A1 = R2.L \* R3.H, A0 = R2.H \* R3.H \|\| \[FP\+\+\] = P0 \|\| NOP;
 154:	78 92 00 00 
 158:	01 c8 08 c0 	A1 \+= R1.H \* R0.H, A0 = R1.L \* R0.L \|\| \[FP--\] = P0 \|\| NOP;
 15c:	f8 92 00 00 
 160:	60 c8 2f c8 	A1 = R5.H \* R7.H, A0 \+= R5.L \* R7.L \(W32\) \|\| \[FP \+ 0x0\] = P0 \|\| NOP;
 164:	38 bc 00 00 
 168:	01 c9 01 c0 	A1 \+= R0.H \* R1.H, A0 = R0.L \* R1.L \(IS\) \|\| \[FP \+ 0x3c\] = P0 \|\| NOP;
 16c:	f8 bf 00 00 
 170:	90 c8 1c c8 	A1 = R3.H \* R4.H \(M\), A0 \+= R3.L \* R4.L \(FU\) \|\| \[P0\] = P1 \|\| NOP;
 174:	41 93 00 00 
 178:	01 c8 24 96 	A1 \+= R4.H \* R4.L, A0 -= R4.H \* R4.H \|\| \[P0\] = P2 \|\| NOP;
 17c:	42 93 00 00 
 180:	25 c9 3e e8 	R0.H = \(A1 \+= R7.H \* R6.H\), R0.L = \(A0 \+= R7.L \* R6.L\) \(ISS2\) \|\| \[P0\] = P3 \|\| NOP;
 184:	43 93 00 00 
 188:	27 c8 81 28 	R2.H = A1, R2.L = \(A0 \+= R0.L \* R1.L\) \(S2RND\) \|\| \[P0\] = P4 \|\| NOP;
 18c:	44 93 00 00 
 190:	04 c8 d1 c9 	R7.H = \(A1 = R2.H \* R1.H\), A0 \+= R2.L \* R1.L \|\| \[P0\] = P5 \|\| NOP;
 194:	45 93 00 00 
 198:	04 c8 be 66 	R2.H = \(A1 = R7.L \* R6.H\), R2.L = \(A0 = R7.H \* R6.H\) \|\| \[P0\] = FP \|\| NOP;
 19c:	47 93 00 00 
 1a0:	05 c8 9a e1 	R6.H = \(A1 \+= R3.H \* R2.H\), R6.L = \(A0 = R3.L \* R2.L\) \|\| \[P0\] = SP \|\| NOP;
 1a4:	46 93 00 00 
 1a8:	05 c8 f5 a7 	R7.H = \(A1 \+= R6.H \* R5.L\), R7.L = \(A0 = R6.H \* R5.H\) \|\| \[P0\] = R1 \|\| NOP;
 1ac:	01 93 00 00 
 1b0:	14 c8 3c a8 	R0.H = \(A1 = R7.H \* R4.L\) \(M\), R0.L = \(A0 \+= R7.L \* R4.L\) \|\| \[P0\+\+\] = R2 \|\| NOP;
 1b4:	02 92 00 00 
 1b8:	94 c8 5a e9 	R5.H = \(A1 = R3.H \* R2.H\) \(M\), R5.L = \(A0 \+= R3.L \* R2.L\) \(FU\) \|\| \[P1--\] = R3 \|\| NOP;
 1bc:	8b 92 00 00 
 1c0:	05 c9 1a e0 	R0.H = \(A1 \+= R3.H \* R2.H\), R0.L = \(A0 = R3.L \* R2.L\) \(IS\) \|\| \[I0\] = R0 \|\| NOP;
 1c4:	00 9f 00 00 
 1c8:	1c c8 b7 d0 	R3 = \(A1 = R6.H \* R7.H\) \(M\), A0 -= R6.L \* R7.L \|\| \[I0\+\+\] = R1 \|\| NOP;
 1cc:	01 9e 00 00 
 1d0:	1c c8 3c 2e 	R1 = \(A1 = R7.L \* R4.L\) \(M\), R0 = \(A0 \+= R7.H \* R4.H\) \|\| \[I0--\] = R2 \|\| NOP;
 1d4:	82 9e 00 00 
 1d8:	2d c9 3e e8 	R1 = \(A1 \+= R7.H \* R6.H\), R0 = \(A0 \+= R7.L \* R6.L\) \(ISS2\) \|\| \[I1\] = R3 \|\| NOP;
 1dc:	0b 9f 00 00 
 1e0:	0d c8 37 e1 	R5 = \(A1 \+= R6.H \* R7.H\), R4 = \(A0 = R6.L \* R7.L\) \|\| \[I1\+\+\] = R3 \|\| NOP;
 1e4:	0b 9e 00 00 
 1e8:	0d c8 9d f1 	R7 = \(A1 \+= R3.H \* R5.H\), R6 = \(A0 -= R3.L \* R5.L\) \|\| \[I1--\] = R3 \|\| NOP;
 1ec:	8b 9e 00 00 
 1f0:	0e c8 37 c9 	R5 = \(A1 -= R6.H \* R7.H\), A0 \+= R6.L \* R7.L \|\| \[I2\] = R0 \|\| NOP;
 1f4:	10 9f 00 00 
 1f8:	0c c8 b7 e0 	R3 = \(A1 = R6.H \* R7.H\), R2 = \(A0 = R6.L \* R7.L\) \|\| \[I2\+\+\] = R0 \|\| NOP;
 1fc:	10 9e 00 00 
 200:	9c c8 1f e9 	R5 = \(A1 = R3.H \* R7.H\) \(M\), R4 = \(A0 \+= R3.L \* R7.L\) \(FU\) \|\| \[I2--\] = R0 \|\| NOP;
 204:	90 9e 00 00 
 208:	2f c8 81 28 	R3 = A1, R2 = \(A0 \+= R0.L \* R1.L\) \(S2RND\) \|\| \[I3\] = R7 \|\| NOP;
 20c:	1f 9f 00 00 
 210:	0d c9 1a e0 	R1 = \(A1 \+= R3.H \* R2.H\), R0 = \(A0 = R3.L \* R2.L\) \(IS\) \|\| \[I3\+\+\] = R7 \|\| NOP;
 214:	1f 9e 00 00 
 218:	0f cc 08 c0 	R0 = -R1 \(V\) \|\| \[I3--\] = R6 \|\| NOP;
 21c:	9e 9e 00 00 
 220:	0f cc 10 ce 	R7 = -R2 \(V\) \|\| \[P0 \+\+ P1\] = R0 \|\| NOP;
 224:	08 88 00 00 
 228:	04 ce 08 8e 	R7 = PACK \(R0.H, R1.L\) \|\| \[P0 \+\+ P1\] = R3 \|\| NOP;
 22c:	c8 88 00 00 
 230:	04 ce 31 cc 	R6 = PACK \(R1.H, R6.H\) \|\| \[P0 \+\+ P2\] = R0 \|\| NOP;
 234:	10 88 00 00 
 238:	04 ce 12 4a 	R5 = PACK \(R2.L, R2.H\) \|\| \[P0 \+\+ P3\] = R4 \|\| NOP;
 23c:	18 89 00 00 
 240:	0d cc 10 82 	\(R0, R1\) = SEARCH R2 \(LT\) \|\| R2 = \[P0 \+ 0x4\] \|\| NOP;
 244:	42 a0 00 00 
 248:	0d cc 80 cf 	\(R6, R7\) = SEARCH R0 \(LE\) \|\| R5 = \[P0--\] \|\| NOP;
 24c:	85 90 00 00 
 250:	0d cc c8 0c 	\(R3, R6\) = SEARCH R1 \(GT\) \|\| R0 = \[P0 \+ 0x14\] \|\| NOP;
 254:	40 a1 00 00 
 258:	0d cc 18 4b 	\(R4, R5\) = SEARCH R3 \(GE\) \|\| R1 = \[P0\+\+\] \|\| NOP;
 25c:	01 90 00 00 
@


1.4
log
@opcodes: blackfin: fix decoding of dsp mult insns

When assigning to a register half, the mac0 part of the mult insn
was not decoding properly.  It would always show a full dreg instead
of the dreg low half.

Once we fix the disassembler, we have to update a few of the gas
tests as their previous expected output was incorrect.

Signed-off-by: Mike Frysinger <vapier@@gentoo.org>
@
text
@d50 1
a50 1
  a8:	11 cc c0 0b 	R7 = A1 \+ A0, R5 = A1 - A0 \(NS\) \|\| \[P3--\] = P0 \|\| NOP;
d52 1
a52 1
  b0:	11 cc c0 6c 	R3 = A0 \+ A1, R6 = A0 - A1 \(S\) \|\| \[P3 \+ 0x1c\] = P0 \|\| NOP;
@


1.3
log
@opcodes: blackfin: fix decoding of LSHIFT insns

The Blackfin ISA does not have a "SHIFT" insn, it has either LSHIFT,
ASHIFT, or BXORSHIFT.  So be specific when disassembling.

As fall out of this change, we need to update some assembler tests.

Signed-off-by: Robin Getz <robin.getz@@analog.com>
Signed-off-by: Mike Frysinger <vapier@@gentoo.org>
@
text
@d76 1
a76 1
 110:	04 ca be 66 	R2.H = R7.L \* R6.H, R2 = R7.H \* R6.H \|\| \[P5 \+ 0x8\] = P0 \|\| NOP;
d78 1
a78 1
 118:	04 ca 08 e1 	R4.H = R1.H \* R0.H, R4 = R1.L \* R0.L \|\| \[P5 \+ 0x4\] = P0 \|\| NOP;
d80 1
a80 1
 120:	04 ca 1a a0 	R0.H = R3.H \* R2.L, R0 = R3.L \* R2.L \|\| \[P5\] = P0 \|\| NOP;
d82 1
a82 1
 128:	94 ca 5a e1 	R5.H = R3.H \* R2.H \(M\), R5 = R3.L \* R2.L \(FU\) \|\| \[SP\] = P0 \|\| NOP;
d88 1
a88 1
 140:	24 cb 3e e0 	R0.H = R7.H \* R6.H, R0 = R7.L \* R6.L \(ISS2\) \|\| \[SP \+ 0x3c\] = P0 \|\| NOP;
d90 1
a90 1
 148:	04 cb c1 e0 	R3.H = R0.H \* R1.H, R3 = R0.L \* R1.L \(IS\) \|\| \[FP\] = P0 \|\| NOP;
@


1.2
log
@gas/testsuite/:
	From Robin Getz  <rgetz@@blackfin.uclinux.org>
	* gas/bfin/arithmetic.d: Update to reflect spaces/capitalization in
	recent changes in opcodes/bfin-dis.c.
	gas/bfin/arithmetic.s: Likewise.
	gas/bfin/bit.d: Likewise.
	gas/bfin/bit2.d: Likewise.
	gas/bfin/control_code.d: Likewise.
	gas/bfin/control_code2.d: Likewise.
	gas/bfin/event.d: Likewise.
	gas/bfin/event2.d: Likewise.
	gas/bfin/flow.d: Likewise.
	gas/bfin/flow2.d: Likewise.
	gas/bfin/load.d: Likewise.
	gas/bfin/logical.d: Likewise.
	gas/bfin/logical2.d: Likewise.
	gas/bfin/move.d: Likewise.
	gas/bfin/move2.d: Likewise.
	gas/bfin/parallel.d: Likewise.
	gas/bfin/parallel2.d: Likewise.
	gas/bfin/parallel3.d: Likewise.
	gas/bfin/parallel4.d: Likewise.
	gas/bfin/shift.d: Likewise.
	gas/bfin/shift2.d: Likewise.
	gas/bfin/stack.d: Likewise.
	gas/bfin/stack2.d: Likewise.
	gas/bfin/store.d: Likewise.
	gas/bfin/vector.d: Likewise.
	gas/bfin/vector2.d: Likewise.
	gas/bfin/video.d: Likewise.
	gas/bfin/video2.d: Likewise.

opcodes/:
	* bfin-dis.c: (c_uimm4s4d, c_imm5d, c_imm7d, c_imm16d, c_uimm16s4d,
	c_imm32, c_huimm32e): Define.
	(constant_formats): Add flags for printing decimal, leading spaces, and
	exact symbols.
	(comment, parallel): Add global flags in all disassembly.
	(fmtconst): Take advantage of new flags, and print default in hex.
	(fmtconst_val): Likewise.
	(decode_macfunc): Be consistant with spaces, tabs, comments,
	capitalization in disassembly, fix minor coding style issues.
	(reg_names, amod0, amod1, amod0amod2, aligndir, get_allreg): Likewise.
	(decode_ProgCtrl_0, decode_PushPopMultiple_0, decode_CCflag_0,
	decode_CC2dreg_0, decode_CC2stat_0, decode_BRCC_0, decode_UJUMP_0,
	decode_REGMV_0, decode_ALU2op_0, decode_PTR2op_0, decode_LOGI2op_0,
	decode_COMP3op_0, decode_COMPI2opD_0, decode_COMPI2opP_0,
	decode_LDSTpmod_0, decode_dagMODim_0, decode_dagMODik_0,
	decode_dspLDST_0, decode_LDST_0, decode_LDSTiiFP_0, decode_LDSTii_0,
	decode_LoopSetup_0, decode_LDIMMhalf_0, decode_CALLa_0,
	decode_LDSTidxI_0, decode_linkage_0, decode_dsp32alu_0,
	decode_dsp32shift_0, decode_dsp32shiftimm_0, decode_pseudodbg_assert_0,
	_print_insn_bfin, print_insn_bfin): Likewise.
@
text
@d70 1
a70 1
  f8:	01 ce 11 88 	R4 = SHIFT R1 BY R2.L \(V\) \|\| \[P5\] = P0 \|\| NOP;
@


1.1
log
@	* gas/bfin: New testsuite for bfin.
	* gas/all/gas.exp (bfin-*-*): Expected failure for alternate
	macro syntax.
@
text
@d8 1
a8 1
   0:	0c cc 0d 08 	R4.H=R4.L=SIGN\(R1.H\)\*R5.H\+SIGN\(R1.L\)\*R5.L\) \|\| \[P0\]=P0 \|\| NOP;
d10 1
a10 1
   8:	09 ce 15 8e 	R7=VIT_MAX\(R5,R2\)\(ASL\) \|\| \[P0\+\+\]=P0 \|\| NOP;
d12 1
a12 1
  10:	09 ce 30 c0 	R0=VIT_MAX\(R0,R6\)\(ASR\) \|\| \[P0--\]=P0 \|\| NOP;
d14 1
a14 1
  18:	09 ce 03 0a 	R5.L=VIT_MAX \(R3\) \(ASL\) \|\| \[P0\+0x4\]=P0 \|\| NOP;
d16 1
a16 1
  20:	09 ce 02 44 	R2.L=VIT_MAX \(R2\) \(ASR\) \|\| \[P0\+0x8\]=P0 \|\| NOP;
d18 1
a18 1
  28:	06 cc 28 8a 	R5= ABS R5\(V\) \|\| \[P0\+0x3c\]=P0 \|\| NOP;
d20 1
a20 1
  30:	06 cc 00 84 	R2= ABS R0\(V\) \|\| \[P0\+0x38\]=P0 \|\| NOP;
d22 1
a22 1
  38:	00 cc 1a 0a 	R5=R3\+\|\+R2  \|\| \[P0\+0x34\]=P0 \|\| NOP;
d24 1
a24 1
  40:	00 cc 1a 3a 	R5=R3\+\|\+R2 \(SCO\) \|\| \[P1\]=P0 \|\| NOP;
d26 1
a26 1
  48:	00 cc 06 8e 	R7=R0-\|\+R6  \|\| \[P1\+\+\]=P0 \|\| NOP;
d28 1
a28 1
  50:	00 cc 0b a4 	R2=R1-\|\+R3 \(S\) \|\| \[P1--\]=P0 \|\| NOP;
d30 1
a30 1
  58:	00 cc 02 48 	R4=R0\+\|-R2  \|\| \[P1\+0x30\]=P0 \|\| NOP;
d32 1
a32 1
  60:	00 cc 0a 5a 	R5=R1\+\|-R2 \(CO\) \|\| \[P1\+0x2c\]=P0 \|\| NOP;
d34 1
a34 1
  68:	00 cc 1c cc 	R6=R3-\|-R4  \|\| \[P1\+0x28\]=P0 \|\| NOP;
d36 1
a36 1
  70:	00 cc 2e de 	R7=R5-\|-R6 \(CO\) \|\| \[P2\]=P0 \|\| NOP;
d38 1
a38 1
  78:	01 cc 63 bf 	R5=R4\+\|\+R3,R7=R4-\|-R3\(SCO,ASR\) \|\| \[P2\+\+\]=P0 \|\| NOP;
d40 1
a40 1
  80:	01 cc 1e c2 	R0=R3\+\|\+R6,R1=R3-\|-R6\(ASL\) \|\| \[P2--\]=P0 \|\| NOP;
d42 1
a42 1
  88:	21 cc ca 2d 	R7=R1\+\|-R2,R6=R1-\|\+R2\(S\) \|\| \[P2\+0x24\]=P0 \|\| NOP;
d44 1
a44 1
  90:	21 cc 53 0a 	R1=R2\+\|-R3,R5=R2-\|\+R3 \|\| \[P2\+0x20\]=P0 \|\| NOP;
d46 1
a46 1
  98:	04 cc 41 8d 	R5=R0\+R1,R6=R0-R1 \(NS\) \|\| \[P3\]=P0 \|\| NOP;
d48 1
a48 1
  a0:	04 cc 39 a6 	R0=R7\+R1,R3=R7-R1 \(S\) \|\| \[P3\+\+\]=P0 \|\| NOP;
d50 1
a50 1
  a8:	11 cc c0 0b 	R7=A1\+A0,R5=A1-A0 \(NS\) \|\| \[P3--\]=P0 \|\| NOP;
d52 1
a52 1
  b0:	11 cc c0 6c 	R3=A0\+A1,R6=A0-A1 \(S\) \|\| \[P3\+0x1c\]=P0 \|\| NOP;
d54 1
a54 1
  b8:	81 ce 8b 03 	R1=R3>>>0xf \(V\) \|\| \[P3\+0x18\]=P0 \|\| NOP;
d56 1
a56 1
  c0:	81 ce e0 09 	R4=R0>>>0x4 \(V\) \|\| \[P4\]=P0 \|\| NOP;
d58 1
a58 1
  c8:	81 ce 00 4a 	R5=R0<<0x0 \(V, S\) \|\| \[P4\+\+\]=P0 \|\| NOP;
d60 1
a60 1
  d0:	81 ce 62 44 	R2=R2<<0xc \(V, S\) \|\| \[P4--\]=P0 \|\| NOP;
d62 1
a62 1
  d8:	01 ce 15 0e 	R7= ASHIFT R5 BY R2.L\(V\) \|\| \[P4\+0x18\]=P0 \|\| NOP;
d64 1
a64 1
  e0:	01 ce 02 40 	R0= ASHIFT R2 BY R0.L\(V,S\) \|\| \[P4\+0x14\]=P0 \|\| NOP;
d66 1
a66 1
  e8:	81 ce 8a 8b 	R5=R2 >> 0xf \(V\) \|\| \[P4\+0x10\]=P0 \|\| NOP;
d68 1
a68 1
  f0:	81 ce 11 80 	R0=R1<<0x2 \(V\) \|\| \[P4\+0xc\]=P0 \|\| NOP;
d70 1
a70 1
  f8:	01 ce 11 88 	R4=SHIFT R1 BY R2.L\(V\) \|\| \[P5\]=P0 \|\| NOP;
d72 1
a72 1
 100:	06 cc 01 0c 	R6=MAX\(R0,R1\)\(V\) \|\| \[P5\+\+\]=P0 \|\| NOP;
d74 1
a74 1
 108:	06 cc 17 40 	R0=MIN\(R2,R7\)\(V\) \|\| \[P5--\]=P0 \|\| NOP;
d76 1
a76 1
 110:	04 ca be 66 	R2.H = R7.L \* R6.H, R2 = R7.H \* R6.H \|\| \[P5\+0x8\]=P0 \|\| NOP;
d78 1
a78 1
 118:	04 ca 08 e1 	R4.H = R1.H \* R0.H, R4 = R1.L \* R0.L \|\| \[P5\+0x4\]=P0 \|\| NOP;
d80 1
a80 1
 120:	04 ca 1a a0 	R0.H = R3.H \* R2.L, R0 = R3.L \* R2.L \|\| \[P5\]=P0 \|\| NOP;
d82 1
a82 1
 128:	94 ca 5a e1 	R5.H = R3.H \* R2.H \(M\), R5 = R3.L \* R2.L \(FU\) \|\| \[SP\]=P0 \|\| NOP;
d84 1
a84 1
 130:	2c ca 27 e0 	R1 = R4.H \* R7.H, R0 = R4.L \* R7.L \(S2RND\) \|\| \[SP\+\+\]=P0 \|\| NOP;
d86 1
a86 1
 138:	0c ca 95 27 	R7 = R2.L \* R5.L, R6 = R2.H \* R5.H \|\| \[SP--\]=P0 \|\| NOP;
d88 1
a88 1
 140:	24 cb 3e e0 	R0.H = R7.H \* R6.H, R0 = R7.L \* R6.L \(ISS2\) \|\| \[SP\+0x3c\]=P0 \|\| NOP;
d90 1
a90 1
 148:	04 cb c1 e0 	R3.H = R0.H \* R1.H, R3 = R0.L \* R1.L \(IS\) \|\| \[FP\]=P0 \|\| NOP;
d92 1
a92 1
 150:	00 c8 13 46 	a1 = R2.L \* R3.H, a0 = R2.H \* R3.H \|\| \[FP\+\+\]=P0 \|\| NOP;
d94 1
a94 1
 158:	01 c8 08 c0 	a1 \+= R1.H \* R0.H, a0 = R1.L \* R0.L \|\| \[FP--\]=P0 \|\| NOP;
d96 1
a96 1
 160:	60 c8 2f c8 	a1 = R5.H \* R7.H, a0 \+= R5.L \* R7.L \(W32\) \|\| \[FP\+0x0\]=P0 \|\| NOP;
d98 1
a98 1
 168:	01 c9 01 c0 	a1 \+= R0.H \* R1.H, a0 = R0.L \* R1.L \(IS\) \|\| \[FP\+0x3c\]=P0 \|\| NOP;
d100 1
a100 1
 170:	90 c8 1c c8 	a1 = R3.H \* R4.H \(M\), a0 \+= R3.L \* R4.L \(FU\) \|\| \[P0\]=P1 \|\| NOP;
d102 1
a102 1
 178:	01 c8 24 96 	a1 \+= R4.H \* R4.L, a0 -= R4.H \* R4.H \|\| \[P0\]=P2 \|\| NOP;
d104 1
a104 1
 180:	25 c9 3e e8 	R0.H = \(a1 \+= R7.H \* R6.H\), R0.L = \(a0 \+= R7.L \* R6.L\) \(ISS2\) \|\| \[P0\]=P3 \|\| NOP;
d106 1
a106 1
 188:	27 c8 81 28 	R2.H = A1, R2.L = \(a0 \+= R0.L \* R1.L\) \(S2RND\) \|\| \[P0\]=P4 \|\| NOP;
d108 1
a108 1
 190:	04 c8 d1 c9 	R7.H = \(a1 = R2.H \* R1.H\), a0 \+= R2.L \* R1.L \|\| \[P0\]=P5 \|\| NOP;
d110 1
a110 1
 198:	04 c8 be 66 	R2.H = \(a1 = R7.L \* R6.H\), R2.L = \(a0 = R7.H \* R6.H\) \|\| \[P0\]=FP \|\| NOP;
d112 1
a112 1
 1a0:	05 c8 9a e1 	R6.H = \(a1 \+= R3.H \* R2.H\), R6.L = \(a0 = R3.L \* R2.L\) \|\| \[P0\]=SP \|\| NOP;
d114 1
a114 1
 1a8:	05 c8 f5 a7 	R7.H = \(a1 \+= R6.H \* R5.L\), R7.L = \(a0 = R6.H \* R5.H\) \|\| \[P0\]=R1 \|\| NOP;
d116 1
a116 1
 1b0:	14 c8 3c a8 	R0.H = \(a1 = R7.H \* R4.L\) \(M\), R0.L = \(a0 \+= R7.L \* R4.L\) \|\| \[P0\+\+\]=R2 \|\| NOP;
d118 1
a118 1
 1b8:	94 c8 5a e9 	R5.H = \(a1 = R3.H \* R2.H\) \(M\), R5.L = \(a0 \+= R3.L \* R2.L\) \(FU\) \|\| \[P1--\]=R3 \|\| NOP;
d120 1
a120 1
 1c0:	05 c9 1a e0 	R0.H = \(a1 \+= R3.H \* R2.H\), R0.L = \(a0 = R3.L \* R2.L\) \(IS\) \|\| \[I0\]=R0 \|\| NOP;
d122 1
a122 1
 1c8:	1c c8 b7 d0 	R3 = \(a1 = R6.H \* R7.H\) \(M\), a0 -= R6.L \* R7.L \|\| \[I0\+\+\]=R1 \|\| NOP;
d124 1
a124 1
 1d0:	1c c8 3c 2e 	R1 = \(a1 = R7.L \* R4.L\) \(M\), R0 = \(a0 \+= R7.H \* R4.H\) \|\| \[I0--\]=R2 \|\| NOP;
d126 1
a126 1
 1d8:	2d c9 3e e8 	R1 = \(a1 \+= R7.H \* R6.H\), R0 = \(a0 \+= R7.L \* R6.L\) \(ISS2\) \|\| \[I1\]=R3 \|\| NOP;
d128 1
a128 1
 1e0:	0d c8 37 e1 	R5 = \(a1 \+= R6.H \* R7.H\), R4 = \(a0 = R6.L \* R7.L\) \|\| \[I1\+\+\]=R3 \|\| NOP;
d130 1
a130 1
 1e8:	0d c8 9d f1 	R7 = \(a1 \+= R3.H \* R5.H\), R6 = \(a0 -= R3.L \* R5.L\) \|\| \[I1--\]=R3 \|\| NOP;
d132 1
a132 1
 1f0:	0e c8 37 c9 	R5 = \(a1 -= R6.H \* R7.H\), a0 \+= R6.L \* R7.L \|\| \[I2\]=R0 \|\| NOP;
d134 1
a134 1
 1f8:	0c c8 b7 e0 	R3 = \(a1 = R6.H \* R7.H\), R2 = \(a0 = R6.L \* R7.L\) \|\| \[I2\+\+\]=R0 \|\| NOP;
d136 1
a136 1
 200:	9c c8 1f e9 	R5 = \(a1 = R3.H \* R7.H\) \(M\), R4 = \(a0 \+= R3.L \* R7.L\) \(FU\) \|\| \[I2--\]=R0 \|\| NOP;
d138 1
a138 1
 208:	2f c8 81 28 	R3 = A1, R2 = \(a0 \+= R0.L \* R1.L\) \(S2RND\) \|\| \[I3\]=R7 \|\| NOP;
d140 1
a140 1
 210:	0d c9 1a e0 	R1 = \(a1 \+= R3.H \* R2.H\), R0 = \(a0 = R3.L \* R2.L\) \(IS\) \|\| \[I3\+\+\]=R7 \|\| NOP;
d142 1
a142 1
 218:	0f cc 08 c0 	R0=-R1\(V\) \|\| \[I3--\]=R6 \|\| NOP;
d144 1
a144 1
 220:	0f cc 10 ce 	R7=-R2\(V\) \|\| \[P0\+\+P1\]=R0 \|\| NOP;
d146 1
a146 1
 228:	04 ce 08 8e 	R7=PACK\(R0.H,R1.L\) \|\| \[P0\+\+P1\]=R3 \|\| NOP;
d148 1
a148 1
 230:	04 ce 31 cc 	R6=PACK\(R1.H,R6.H\) \|\| \[P0\+\+P2\]=R0 \|\| NOP;
d150 1
a150 1
 238:	04 ce 12 4a 	R5=PACK\(R2.L,R2.H\) \|\| \[P0\+\+P3\]=R4 \|\| NOP;
d152 1
a152 1
 240:	0d cc 10 82 	\(R0,R1\) = SEARCH R2\(LT\) \|\| R2=\[P0\+0x4\] \|\| NOP;
d154 1
a154 1
 248:	0d cc 80 cf 	\(R6,R7\) = SEARCH R0\(LE\) \|\| R5=\[P0--\] \|\| NOP;
d156 1
a156 1
 250:	0d cc c8 0c 	\(R3,R6\) = SEARCH R1\(GT\) \|\| R0=\[P0\+0x14\] \|\| NOP;
d158 1
a158 1
 258:	0d cc 18 4b 	\(R4,R5\) = SEARCH R3\(GE\) \|\| R1=\[P0\+\+\] \|\| NOP;
@

