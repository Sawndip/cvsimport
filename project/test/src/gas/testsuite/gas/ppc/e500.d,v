head	1.9;
access;
symbols
	binutils-2_24-branch:1.9.0.2
	binutils-2_24-branchpoint:1.9
	binutils-2_21_1:1.8
	binutils-2_23_2:1.8.8.1
	binutils-2_23_1:1.8
	binutils-2_23:1.8
	binutils-2_23-branch:1.8.0.8
	binutils-2_23-branchpoint:1.8
	binutils-2_22_branch:1.8.0.6
	binutils-2_22:1.8
	binutils-2_22-branch:1.8.0.4
	binutils-2_22-branchpoint:1.8
	binutils-2_21:1.8
	binutils-2_21-branch:1.8.0.2
	binutils-2_21-branchpoint:1.8
	binutils-2_20_1:1.7
	binutils-2_20:1.7
	binutils-arc-20081103-branch:1.7.0.16
	binutils-arc-20081103-branchpoint:1.7
	binutils-2_20-branch:1.7.0.14
	binutils-2_20-branchpoint:1.7
	dje-cgen-play1-branch:1.7.0.12
	dje-cgen-play1-branchpoint:1.7
	arc-20081103-branch:1.7.0.10
	arc-20081103-branchpoint:1.7
	binutils-2_19_1:1.7
	binutils-2_19:1.7
	binutils-2_19-branch:1.7.0.8
	binutils-2_19-branchpoint:1.7
	binutils-2_18:1.7
	binutils-2_18-branch:1.7.0.6
	binutils-2_18-branchpoint:1.7
	binutils-csl-coldfire-4_1-32:1.7
	binutils-csl-sourcerygxx-4_1-32:1.7
	binutils-csl-innovasic-fido-3_4_4-33:1.7
	binutils-csl-sourcerygxx-3_4_4-32:1.5.2.1
	binutils-csl-coldfire-4_1-30:1.7
	binutils-csl-sourcerygxx-4_1-30:1.7
	binutils-csl-coldfire-4_1-28:1.7
	binutils-csl-sourcerygxx-4_1-29:1.7
	binutils-csl-sourcerygxx-4_1-28:1.7
	binutils-csl-arm-2006q3-27:1.7
	binutils-csl-sourcerygxx-4_1-27:1.7
	binutils-csl-arm-2006q3-26:1.7
	binutils-csl-sourcerygxx-4_1-26:1.7
	binutils-csl-sourcerygxx-4_1-25:1.7
	binutils-csl-sourcerygxx-4_1-24:1.7
	binutils-csl-sourcerygxx-4_1-23:1.7
	binutils-csl-sourcerygxx-4_1-21:1.7
	binutils-csl-arm-2006q3-21:1.7
	binutils-csl-sourcerygxx-4_1-22:1.7
	binutils-csl-palmsource-arm-prelinker-1_0-1:1.7
	binutils-csl-sourcerygxx-4_1-20:1.7
	binutils-csl-arm-2006q3-19:1.7
	binutils-csl-sourcerygxx-4_1-19:1.7
	binutils-csl-sourcerygxx-4_1-18:1.7
	binutils-csl-renesas-4_1-9:1.7
	binutils-csl-sourcerygxx-3_4_4-25:1.5.2.1
	binutils-csl-renesas-4_1-8:1.7
	binutils-csl-renesas-4_1-7:1.7
	binutils-csl-renesas-4_1-6:1.7
	binutils-csl-sourcerygxx-4_1-17:1.7
	binutils-csl-sourcerygxx-4_1-14:1.7
	binutils-csl-sourcerygxx-4_1-15:1.7
	binutils-csl-sourcerygxx-4_1-13:1.7
	binutils-2_17:1.7
	binutils-csl-sourcerygxx-4_1-12:1.7
	binutils-csl-sourcerygxx-3_4_4-21:1.7
	binutils-csl-wrs-linux-3_4_4-24:1.5.2.1
	binutils-csl-wrs-linux-3_4_4-23:1.5.2.1
	binutils-csl-sourcerygxx-4_1-9:1.7
	binutils-csl-sourcerygxx-4_1-8:1.7
	binutils-csl-sourcerygxx-4_1-7:1.7
	binutils-csl-arm-2006q1-6:1.7
	binutils-csl-sourcerygxx-4_1-6:1.7
	binutils-csl-wrs-linux-3_4_4-22:1.5.2.1
	binutils-csl-coldfire-4_1-11:1.7
	binutils-csl-sourcerygxx-3_4_4-19:1.7
	binutils-csl-coldfire-4_1-10:1.7
	binutils-csl-sourcerygxx-4_1-5:1.7
	binutils-csl-sourcerygxx-4_1-4:1.7
	binutils-csl-wrs-linux-3_4_4-21:1.5.2.1
	binutils-csl-morpho-4_1-4:1.7
	binutils-csl-sourcerygxx-3_4_4-17:1.7
	binutils-csl-wrs-linux-3_4_4-20:1.5.2.1
	binutils-2_17-branch:1.7.0.4
	binutils-2_17-branchpoint:1.7
	binutils-csl-2_17-branch:1.7.0.2
	binutils-csl-2_17-branchpoint:1.7
	binutils-csl-gxxpro-3_4-branch:1.5.2.1.0.4
	binutils-csl-gxxpro-3_4-branchpoint:1.5.2.1
	binutils-2_16_1:1.5.2.1
	binutils-csl-arm-2005q1b:1.5.2.1
	binutils-2_16:1.5.2.1
	binutils-csl-arm-2005q1a:1.5.2.1
	binutils-csl-arm-2005q1-branch:1.5.2.1.0.2
	binutils-csl-arm-2005q1-branchpoint:1.5.2.1
	binutils-2_16-branch:1.5.0.2
	binutils-2_16-branchpoint:1.5
	csl-arm-2004-q3d:1.5
	csl-arm-2004-q3:1.4
	binutils-2_15:1.3.6.1
	binutils-2_15-branchpoint:1.3
	csl-arm-2004-q1a:1.4
	csl-arm-2004-q1:1.4
	binutils-2_15-branch:1.3.0.6
	cagney_bfdfile-20040213-branch:1.3.0.4
	cagney_bfdfile-20040213-branchpoint:1.3
	cagney_bigcore-20040122-branch:1.3.0.2
	cagney_bigcore-20040122-branchpoint:1.3
	csl-arm-2003-q4:1.3
	binutils-2_14:1.2
	binutils-2_14-branch:1.2.0.2
	binutils-2_14-branchpoint:1.2
	binutils_latest_snapshot:1.9;
locks; strict;
comment	@# @;


1.9
date	2012.10.29.09.25.15;	author amodra;	state Exp;
branches;
next	1.8;

1.8
date	2010.06.14.14.48.04;	author amodra;	state Exp;
branches
	1.8.8.1;
next	1.7;

1.7
date	2005.07.05.13.25.54;	author pbrook;	state Exp;
branches;
next	1.6;

1.6
date	2005.03.10.20.21.49;	author aldyh;	state Exp;
branches;
next	1.5;

1.5
date	2004.10.06.23.59.03;	author aldyh;	state Exp;
branches
	1.5.2.1;
next	1.4;

1.4
date	2004.03.16.00.58.42;	author amodra;	state Exp;
branches;
next	1.3;

1.3
date	2003.07.26.10.22.01;	author amodra;	state Exp;
branches
	1.3.6.1;
next	1.2;

1.2
date	2002.12.10.00.42.53;	author aldyh;	state Exp;
branches;
next	1.1;

1.1
date	2002.08.19.21.01.02;	author ezannoni;	state Exp;
branches;
next	;

1.8.8.1
date	2013.01.21.13.48.46;	author amodra;	state Exp;
branches;
next	;

1.5.2.1
date	2005.03.10.20.38.55;	author aldyh;	state Exp;
branches;
next	;

1.3.6.1
date	2004.03.16.00.59.35;	author amodra;	state Exp;
branches;
next	1.3.6.2;

1.3.6.2
date	2004.10.07.11.20.26;	author aldyh;	state Exp;
branches;
next	1.3.6.3;

1.3.6.3
date	2005.03.10.20.22.52;	author aldyh;	state Exp;
branches;
next	;


desc
@@


1.9
log
@	* gas/cfi/cfi.exp: Remove redundant ppc test.  Exclude
	powerpc-pe targets from cfi-common-6 test.
	* gas/cfi/cfi-ppc-1.d: Use objdump to handle pe.
	* gas/cfi/cfi-ppc-1.s: Don't use .type and .size.
	* gas/ppc/ppc.exp: Exclude various tests for powerpc-pe.  Exclude
	vle tests for le targets.
	* gas/ppc/476.d, * gas/ppc/476.s: Update for le output.  Use .text
	rather than section directive with quotes.
	* gas/ppc/a2.d,	* gas/ppc/a2.s: Likewise.
	* gas/ppc/altivec.d, * gas/ppc/altivec.s: Likewise.
	* gas/ppc/altivec2.d: Likewise.
	* gas/ppc/altivec_and_spe.d: Likewise.
	* gas/ppc/astest.d: Likewise.
	* gas/ppc/astest2.d: Likewise.
	* gas/ppc/astest2_64.d: Likewise.
	* gas/ppc/astest64.d: Likewise.
	* gas/ppc/booke.d, * gas/ppc/booke.s: Likewise.
	* gas/ppc/cell.d, * gas/ppc/cell.s: Likewise.
	* gas/ppc/common.d, * gas/ppc/common.s: Likewise.
	* gas/ppc/e500.d, * gas/ppc/e500.s: Likewise.
	* gas/ppc/e500mc.d, * gas/ppc/e500mc.s: Likewise.
	* gas/ppc/e500mc64_nop.d, * gas/ppc/e500mc64_nop.s: Likewise.
	* gas/ppc/e5500_nop.d, * gas/ppc/e5500_nop.s: Likewise.
	* gas/ppc/e6500.d, * gas/ppc/e6500.s: Likewise.
	* gas/ppc/e6500_nop.d, * gas/ppc/e6500_nop.s: Likewise.
	* gas/ppc/machine.d: Likewise.
	* gas/ppc/power4.d, * gas/ppc/power4.s: Likewise.
	* gas/ppc/power4_32.d, * gas/ppc/power4_32.s: Likewise.
	* gas/ppc/power6.d, * gas/ppc/power6.s: Likewise.
	* gas/ppc/power7.d, * gas/ppc/power7.s: Likewise.
	* gas/ppc/ppc750ps.d, * gas/ppc/ppc750ps.s: Likewise.
	* gas/ppc/regnames.d: Likewise.
	* gas/ppc/simpshft.d: Likewise.
	* gas/ppc/test1elf32.d: Likewise.
	* gas/ppc/test1elf64.d: Likewise.
	* gas/ppc/titan.d, * gas/ppc/titan.s: Likewise.
	* gas/ppc/vle-reloc.s: Likewise.
	* gas/ppc/vle-simple-1.s: Likewise.
	* gas/ppc/vle-simple-2.s: Likewise.
	* gas/ppc/vle-simple-3.s: Likewise.
	* gas/ppc/vle-simple-4.s: Likewise.
	* gas/ppc/vle-simple-5.s: Likewise.
	* gas/ppc/vle-simple-6.s: Likewise.
	* gas/ppc/vle.s: Likewise.
	* gas/ppc/vsx.d, * gas/ppc/vsx.s: Likewise.
@
text
@#as: -mppc -me500
#objdump: -dr -Me500
#name: e500 tests

.*

Disassembly of section \.text:

0+0000000 <start>:
   0:	(7c 43 25 de|de 25 43 7c) 	isel    r2,r3,r4,23
   4:	(7c 85 33 0c|0c 33 85 7c) 	dcblc   4,r5,r6
   8:	(7c e8 49 4c|4c 49 e8 7c) 	dcbtls  7,r8,r9
   c:	(7d 4b 61 0c|0c 61 4b 7d) 	dcbtstls 10,r11,r12
  10:	(7d ae 7b cc|cc 7b ae 7d) 	icbtls  13,r14,r15
  14:	(7e 11 91 cc|cc 91 11 7e) 	icblc   16,r17,r18
  18:	(7c 89 33 9c|9c 33 89 7c) 	mtpmr   201,r4
  1c:	(7c ab 32 9c|9c 32 ab 7c) 	mfpmr   r5,203
  20:	(7c 00 04 0c|0c 04 00 7c) 	bblels
  24:	(7c 00 04 4c|4c 04 00 7c) 	bbelr
  28:	(7d 00 83 a6|a6 83 00 7d) 	mtspefscr r8
  2c:	(7d 20 82 a6|a6 82 20 7d) 	mfspefscr r9
  30:	(10 a0 22 cf|cf 22 a0 10) 	efscfd  r5,r4
  34:	(10 a4 02 e4|e4 02 a4 10) 	efdabs  r5,r4
  38:	(10 a4 02 e5|e5 02 a4 10) 	efdnabs r5,r4
  3c:	(10 a4 02 e6|e6 02 a4 10) 	efdneg  r5,r4
  40:	(10 a4 1a e0|e0 1a a4 10) 	efdadd  r5,r4,r3
  44:	(10 a4 1a e1|e1 1a a4 10) 	efdsub  r5,r4,r3
  48:	(10 a4 1a e8|e8 1a a4 10) 	efdmul  r5,r4,r3
  4c:	(10 a4 1a e9|e9 1a a4 10) 	efddiv  r5,r4,r3
  50:	(12 84 1a ec|ec 1a 84 12) 	efdcmpgt cr5,r4,r3
  54:	(12 84 1a ed|ed 1a 84 12) 	efdcmplt cr5,r4,r3
  58:	(12 84 1a ee|ee 1a 84 12) 	efdcmpeq cr5,r4,r3
  5c:	(12 84 1a fc|fc 1a 84 12) 	efdtstgt cr5,r4,r3
  60:	(12 84 1a fc|fc 1a 84 12) 	efdtstgt cr5,r4,r3
  64:	(12 84 1a fd|fd 1a 84 12) 	efdtstlt cr5,r4,r3
  68:	(12 84 1a fe|fe 1a 84 12) 	efdtsteq cr5,r4,r3
  6c:	(10 a0 22 f1|f1 22 a0 10) 	efdcfsi r5,r4
  70:	(10 a0 22 e3|e3 22 a0 10) 	efdcfsid r5,r4
  74:	(10 a0 22 f0|f0 22 a0 10) 	efdcfui r5,r4
  78:	(10 a0 22 e2|e2 22 a0 10) 	efdcfuid r5,r4
  7c:	(10 a0 22 f3|f3 22 a0 10) 	efdcfsf r5,r4
  80:	(10 a0 22 f2|f2 22 a0 10) 	efdcfuf r5,r4
  84:	(10 a0 22 f5|f5 22 a0 10) 	efdctsi r5,r4
  88:	(10 a0 22 eb|eb 22 a0 10) 	efdctsidz r5,r4
  8c:	(10 a0 22 fa|fa 22 a0 10) 	efdctsiz r5,r4
  90:	(10 a0 22 f4|f4 22 a0 10) 	efdctui r5,r4
  94:	(10 a0 22 ea|ea 22 a0 10) 	efdctuidz r5,r4
  98:	(10 a0 22 f8|f8 22 a0 10) 	efdctuiz r5,r4
  9c:	(10 a0 22 f7|f7 22 a0 10) 	efdctsf r5,r4
  a0:	(10 a0 22 f6|f6 22 a0 10) 	efdctuf r5,r4
  a4:	(10 a0 22 ef|ef 22 a0 10) 	efdcfs  r5,r4
  a8:	(7c 20 06 ac|ac 06 20 7c) 	mbar    1
  ac:	(7c 00 06 ac|ac 06 00 7c) 	mbar    
  b0:	(7c 20 06 ac|ac 06 20 7c) 	mbar    1
  b4:	(7c 00 04 ac|ac 04 00 7c) 	msync
  b8:	(7c 00 04 ac|ac 04 00 7c) 	msync
#pass
@


1.8
log
@gas/
	* config/tc-ppc.c (md_assemble): Emit APUinfo section for
	PPC_OPCODE_E500.
gas/testsuite/
	* gas/ppc/e500.s: Add eieio, mbar and lwsync
	* gas/ppc/e500.d: Likewise.
include/opcode/
	* ppc.h (PPC_OPCODE_E500): Define.
opcodes/
	* ppc-dis.c (ppc_opts):  Remove PPC_OPCODE_E500MC from e500 and
	e500x2. Add PPC_OPCODE_E500 to e500 and e500x2
	* ppc-opc.c (powerpc_opcodes): Deprecate all opcodes on EFS which
	touch floating point regs and are enabled by COM, PPC or PPCCOM.
	Treat sync as msync on e500.  Treat eieio as mbar 1 on e500.
	Treat lwsync as msync on e500.
@
text
@d5 1
a5 1
.*: +file format elf(32)?(64)?-powerpc.*
d10 48
a57 47
   0:	7c 43 25 de 	isel    r2,r3,r4,23
   4:	7c 85 33 0c 	dcblc   4,r5,r6
   8:	7c e8 49 4c 	dcbtls  7,r8,r9
   c:	7d 4b 61 0c 	dcbtstls 10,r11,r12
  10:	7d ae 7b cc 	icbtls  13,r14,r15
  14:	7e 11 91 cc 	icblc   16,r17,r18
  18:	7c 89 33 9c 	mtpmr   201,r4
  1c:	7c ab 32 9c 	mfpmr   r5,203
  20:	7c 00 04 0c 	bblels
  24:	7c 00 04 4c 	bbelr
  28:	7d 00 83 a6 	mtspefscr r8
  2c:	7d 20 82 a6 	mfspefscr r9
  30:	10 a0 22 cf 	efscfd  r5,r4
  34:	10 a4 02 e4 	efdabs  r5,r4
  38:	10 a4 02 e5 	efdnabs r5,r4
  3c:	10 a4 02 e6 	efdneg  r5,r4
  40:	10 a4 1a e0 	efdadd  r5,r4,r3
  44:	10 a4 1a e1 	efdsub  r5,r4,r3
  48:	10 a4 1a e8 	efdmul  r5,r4,r3
  4c:	10 a4 1a e9 	efddiv  r5,r4,r3
  50:	12 84 1a ec 	efdcmpgt cr5,r4,r3
  54:	12 84 1a ed 	efdcmplt cr5,r4,r3
  58:	12 84 1a ee 	efdcmpeq cr5,r4,r3
  5c:	12 84 1a fc 	efdtstgt cr5,r4,r3
  60:	12 84 1a fc 	efdtstgt cr5,r4,r3
  64:	12 84 1a fd 	efdtstlt cr5,r4,r3
  68:	12 84 1a fe 	efdtsteq cr5,r4,r3
  6c:	10 a0 22 f1 	efdcfsi r5,r4
  70:	10 a0 22 e3 	efdcfsid r5,r4
  74:	10 a0 22 f0 	efdcfui r5,r4
  78:	10 a0 22 e2 	efdcfuid r5,r4
  7c:	10 a0 22 f3 	efdcfsf r5,r4
  80:	10 a0 22 f2 	efdcfuf r5,r4
  84:	10 a0 22 f5 	efdctsi r5,r4
  88:	10 a0 22 eb 	efdctsidz r5,r4
  8c:	10 a0 22 fa 	efdctsiz r5,r4
  90:	10 a0 22 f4 	efdctui r5,r4
  94:	10 a0 22 ea 	efdctuidz r5,r4
  98:	10 a0 22 f8 	efdctuiz r5,r4
  9c:	10 a0 22 f7 	efdctsf r5,r4
  a0:	10 a0 22 f6 	efdctuf r5,r4
  a4:	10 a0 22 ef 	efdcfs  r5,r4
  a8:	7c 20 06 ac 	mbar    1
  ac:	7c 00 06 ac 	mbar    
  b0:	7c 20 06 ac 	mbar    1
  b4:	7c 00 04 ac 	msync
  b8:	7c 00 04 ac 	msync
@


1.8.8.1
log
@	PR 12549
	PR 14493
	PR 14567
	PR 14662
	PR 14758
	PR 14813
	PR 14904
	PR 14915
	PR 14926
	PR 14950
	PR 14962
	Apply mainline patches
@
text
@d5 1
a5 1
.*
d10 47
a56 48
   0:	(7c 43 25 de|de 25 43 7c) 	isel    r2,r3,r4,23
   4:	(7c 85 33 0c|0c 33 85 7c) 	dcblc   4,r5,r6
   8:	(7c e8 49 4c|4c 49 e8 7c) 	dcbtls  7,r8,r9
   c:	(7d 4b 61 0c|0c 61 4b 7d) 	dcbtstls 10,r11,r12
  10:	(7d ae 7b cc|cc 7b ae 7d) 	icbtls  13,r14,r15
  14:	(7e 11 91 cc|cc 91 11 7e) 	icblc   16,r17,r18
  18:	(7c 89 33 9c|9c 33 89 7c) 	mtpmr   201,r4
  1c:	(7c ab 32 9c|9c 32 ab 7c) 	mfpmr   r5,203
  20:	(7c 00 04 0c|0c 04 00 7c) 	bblels
  24:	(7c 00 04 4c|4c 04 00 7c) 	bbelr
  28:	(7d 00 83 a6|a6 83 00 7d) 	mtspefscr r8
  2c:	(7d 20 82 a6|a6 82 20 7d) 	mfspefscr r9
  30:	(10 a0 22 cf|cf 22 a0 10) 	efscfd  r5,r4
  34:	(10 a4 02 e4|e4 02 a4 10) 	efdabs  r5,r4
  38:	(10 a4 02 e5|e5 02 a4 10) 	efdnabs r5,r4
  3c:	(10 a4 02 e6|e6 02 a4 10) 	efdneg  r5,r4
  40:	(10 a4 1a e0|e0 1a a4 10) 	efdadd  r5,r4,r3
  44:	(10 a4 1a e1|e1 1a a4 10) 	efdsub  r5,r4,r3
  48:	(10 a4 1a e8|e8 1a a4 10) 	efdmul  r5,r4,r3
  4c:	(10 a4 1a e9|e9 1a a4 10) 	efddiv  r5,r4,r3
  50:	(12 84 1a ec|ec 1a 84 12) 	efdcmpgt cr5,r4,r3
  54:	(12 84 1a ed|ed 1a 84 12) 	efdcmplt cr5,r4,r3
  58:	(12 84 1a ee|ee 1a 84 12) 	efdcmpeq cr5,r4,r3
  5c:	(12 84 1a fc|fc 1a 84 12) 	efdtstgt cr5,r4,r3
  60:	(12 84 1a fc|fc 1a 84 12) 	efdtstgt cr5,r4,r3
  64:	(12 84 1a fd|fd 1a 84 12) 	efdtstlt cr5,r4,r3
  68:	(12 84 1a fe|fe 1a 84 12) 	efdtsteq cr5,r4,r3
  6c:	(10 a0 22 f1|f1 22 a0 10) 	efdcfsi r5,r4
  70:	(10 a0 22 e3|e3 22 a0 10) 	efdcfsid r5,r4
  74:	(10 a0 22 f0|f0 22 a0 10) 	efdcfui r5,r4
  78:	(10 a0 22 e2|e2 22 a0 10) 	efdcfuid r5,r4
  7c:	(10 a0 22 f3|f3 22 a0 10) 	efdcfsf r5,r4
  80:	(10 a0 22 f2|f2 22 a0 10) 	efdcfuf r5,r4
  84:	(10 a0 22 f5|f5 22 a0 10) 	efdctsi r5,r4
  88:	(10 a0 22 eb|eb 22 a0 10) 	efdctsidz r5,r4
  8c:	(10 a0 22 fa|fa 22 a0 10) 	efdctsiz r5,r4
  90:	(10 a0 22 f4|f4 22 a0 10) 	efdctui r5,r4
  94:	(10 a0 22 ea|ea 22 a0 10) 	efdctuidz r5,r4
  98:	(10 a0 22 f8|f8 22 a0 10) 	efdctuiz r5,r4
  9c:	(10 a0 22 f7|f7 22 a0 10) 	efdctsf r5,r4
  a0:	(10 a0 22 f6|f6 22 a0 10) 	efdctuf r5,r4
  a4:	(10 a0 22 ef|ef 22 a0 10) 	efdcfs  r5,r4
  a8:	(7c 20 06 ac|ac 06 20 7c) 	mbar    1
  ac:	(7c 00 06 ac|ac 06 00 7c) 	mbar    
  b0:	(7c 20 06 ac|ac 06 20 7c) 	mbar    1
  b4:	(7c 00 04 ac|ac 04 00 7c) 	msync
  b8:	(7c 00 04 ac|ac 04 00 7c) 	msync
#pass
@


1.7
log
@2005-05-07  Paul Brook  <paul@@codesourcery.com>

bfd/
	* config.bfd: Add separate case for ppc-vxworks.
	* configure: Regenerate.
	* configure.in: Include elf-vxworks.lo on ppc targets.
	* elf-vxworks.c (elf_vxworks_final_write_processing): Handle
	.rela.plt.unloaded.
	* elf32-ppc.c: Add VxWorks target vec.	Include elf-vxworks.h.
	(PLT_ENTRY_SIZE, PLT_INITIAL_ENTRY_SIZE, PLT_SLOT_SIZE): Remove.
	(VXWORKS_PLT_ENTRY_SIZE, ppc_elf_vxworks_plt_entry,
	ppc_elf_vxworks_pic_plt_entry, VXWORKS_PLT_INITIAL_ENTRY_SIZE,
	ppc_elf_vxworks_plt0_entry, ppc_elf_vxworks_pic_plt0_entry,
	VXWORKS_PLT_NON_JMP_SLOT_RELOCS, VXWORKS_PLTRESOLVE_RELOCS,
	VXWORKS_PLTRESOLVE_RELOCS_SHLIB): New.
	(ppc_elf_link_hash_table): Add srelplt2, sgotplt, hgot, hplt,
	is_vxworks, plt_entry_size, plt_slot_size, plt_initial_entry_size.
	(ppc_elf_link_hash_table_create): Initialize hadtab plt fields.
	(ppc_elf_create_got): Create .got.plt for VxWorks.
	(ppc_elf_create_dynamic_sections): Create unloaded plt relocation
	section for VxWorks.
	(ppc_elf_select_plt_layout): Handle VxWorks plt format.
	(allocate_got): VxWorks does not need a got header.
	(allocate_dynrelocs): Handle VxWorks plt format.
	(ppc_elf_size_dynamic_sections): Save _G_O_T_ and _P_L_T_ symbols for
	VxWorks.  Handle VxWorks plt/got.
	(ppc_elf_finish_dynamic_sections): Fill in VxWorks plt.
	(ppc_elf_vxworks_special_sections): New.
	(ppc_elf_vxworks_link_hash_table_create,
	ppc_elf_vxworks_add_symbol_hook,
	elf_i386_vxworks_link_output_symbol_hook,
	ppc_elf_vxworks_final_write_processing): New functions.
	* targets.c (bfd_elf32_powerpc_vxworks_vec): Declare.
	(_bfd_target_vector): Use it.
gas/
	* config/tc-ppc.c (ppc_target_format): Add VxWorks.
gas/testsuite/
	* gas/ppc/altivec.d: Match all powerpc target vecs.
	* gas/ppc/booke.d: Ditto.
	* gas/ppc/e500.d: Ditto.
ld/
	* Makefile.am (ALL_EMULATIONS): Add eelf32ppcvxworks.o.
	(eelf32ppcvxworks.o): Add dependencies.
	* Makefile.in: Regenerate.
	* configure.tgt: Add entry for powerpc-vxworks.
	* emulparams/elf32-ppc.c: Mention elf32ppcvxworks.sh in comment.
	* emulparams/elf32ppcvxworks.sh: New file.
	* emultempl/ppc32elf.em (bfd_elf32_powerpc_vxworks_vec): Declare.
	(is_ppc_elf32_vec): New function.
	(ppc_after_open, ppc_before_allocation,
	gld${EMULATION_NAME}_after_allocation): Use it.
@
text
@d52 5
@


1.6
log
@        * gas/ppc/e500.d: Fix encoding of efscfd.
@
text
@d5 1
a5 1
.*: +file format elf(32)?(64)?-powerpc
@


1.5
log
@	* gas/testsuite/gas/ppc/e500.s: Add double-precision instructions.
	* gas/testsuite/gas/ppc/e500.d: Same.
@
text
@d22 1
a22 1
  30:	10 a4 02 cf 	efscfd  r5,r4
@


1.5.2.1
log
@        * gas/ppc/e500.d: Fix encoding of efscfd.
@
text
@d22 1
a22 1
  30:	10 a0 22 cf 	efscfd  r5,r4
@


1.4
log
@opcodes/
	* ppc-dis.c (print_insn_powerpc): Don't print tabs.  Handle
	PPC_OPERANDS_GPR_0.
	* ppc-opc.c (RA0): Define.
	(RAQ, RAL, RAM, RAS, RSQ, RTQ, RSO): Use PPC_OPERAND_GPR_0.
	(RAOPT): Rename from RAO.  Update all uses.
	(powerpc_opcodes): Use RA0 as appropriate.  Add "lsdx", "lsdi",
	"stsdx", "stsdi", "lmd" and "stmd" insns.

include/opcode/
	* ppc.h (PPC_OPERAND_GPR_0): Define.  Bump other operand defines.

gas/testsuite/
	Update gas/ppc/.

ld/testsuite/
	Update ld-powerpc/.
@
text
@d22 30
@


1.3
log
@Update tests for corrected section attributes and objdump change.
@
text
@d10 8
a17 8
   0:	7c 43 25 de 	isel	r2,r3,r4,23
   4:	7c 85 33 0c 	dcblc	4,r5,r6
   8:	7c e8 49 4c 	dcbtls	7,r8,r9
   c:	7d 4b 61 0c 	dcbtstls	10,r11,r12
  10:	7d ae 7b cc 	icbtls	13,r14,r15
  14:	7e 11 91 cc 	icblc	16,r17,r18
  18:	7c 89 33 9c 	mtpmr	201,r4
  1c:	7c ab 32 9c 	mfpmr	r5,203
d20 2
a21 2
  28:	7d 00 83 a6 	mtspefscr	r8
  2c:	7d 20 82 a6 	mfspefscr	r9
@


1.3.6.1
log
@opcodes/
	* ppc-dis.c (print_insn_powerpc): Don't print tabs.  Handle
	PPC_OPERANDS_GPR_0.
	* ppc-opc.c (RA0): Define.
	(RAQ, RAL, RAM, RAS, RSQ, RTQ, RSO): Use PPC_OPERAND_GPR_0.
	(RAOPT): Rename from RAO.  Update all uses.
	(powerpc_opcodes): Use RA0 as appropriate.  Add "lsdx", "lsdi",
	"stsdx", "stsdi", "lmd" and "stmd" insns.

include/opcode/
	* ppc.h (PPC_OPERAND_GPR_0): Define.  Bump other operand defines.

gas/testsuite/
	Update gas/ppc/.

ld/testsuite/
	Update ld-powerpc/.
@
text
@d10 8
a17 8
   0:	7c 43 25 de 	isel    r2,r3,r4,23
   4:	7c 85 33 0c 	dcblc   4,r5,r6
   8:	7c e8 49 4c 	dcbtls  7,r8,r9
   c:	7d 4b 61 0c 	dcbtstls 10,r11,r12
  10:	7d ae 7b cc 	icbtls  13,r14,r15
  14:	7e 11 91 cc 	icblc   16,r17,r18
  18:	7c 89 33 9c 	mtpmr   201,r4
  1c:	7c ab 32 9c 	mfpmr   r5,203
d20 2
a21 2
  28:	7d 00 83 a6 	mtspefscr r8
  2c:	7d 20 82 a6 	mfspefscr r9
@


1.3.6.2
log
@        * gas/ppc/e500.s: Add double-precision instructions.
        * gas/ppc/e500.d: Same.
@
text
@a21 30
  30:	10 a4 02 cf 	efscfd  r5,r4
  34:	10 a4 02 e4 	efdabs  r5,r4
  38:	10 a4 02 e5 	efdnabs r5,r4
  3c:	10 a4 02 e6 	efdneg  r5,r4
  40:	10 a4 1a e0 	efdadd  r5,r4,r3
  44:	10 a4 1a e1 	efdsub  r5,r4,r3
  48:	10 a4 1a e8 	efdmul  r5,r4,r3
  4c:	10 a4 1a e9 	efddiv  r5,r4,r3
  50:	12 84 1a ec 	efdcmpgt cr5,r4,r3
  54:	12 84 1a ed 	efdcmplt cr5,r4,r3
  58:	12 84 1a ee 	efdcmpeq cr5,r4,r3
  5c:	12 84 1a fc 	efdtstgt cr5,r4,r3
  60:	12 84 1a fc 	efdtstgt cr5,r4,r3
  64:	12 84 1a fd 	efdtstlt cr5,r4,r3
  68:	12 84 1a fe 	efdtsteq cr5,r4,r3
  6c:	10 a0 22 f1 	efdcfsi r5,r4
  70:	10 a0 22 e3 	efdcfsid r5,r4
  74:	10 a0 22 f0 	efdcfui r5,r4
  78:	10 a0 22 e2 	efdcfuid r5,r4
  7c:	10 a0 22 f3 	efdcfsf r5,r4
  80:	10 a0 22 f2 	efdcfuf r5,r4
  84:	10 a0 22 f5 	efdctsi r5,r4
  88:	10 a0 22 eb 	efdctsidz r5,r4
  8c:	10 a0 22 fa 	efdctsiz r5,r4
  90:	10 a0 22 f4 	efdctui r5,r4
  94:	10 a0 22 ea 	efdctuidz r5,r4
  98:	10 a0 22 f8 	efdctuiz r5,r4
  9c:	10 a0 22 f7 	efdctsf r5,r4
  a0:	10 a0 22 f6 	efdctuf r5,r4
  a4:	10 a0 22 ef 	efdcfs  r5,r4
@


1.3.6.3
log
@        * gas/ppc/e500.d: Fix encoding of efscfd.
@
text
@d22 1
a22 1
  30:	10 a0 22 cf 	efscfd  r5,r4
@


1.2
log
@2002-12-09  Aldy Hernandez  <aldyh@@redhat.com>

	* gas/ppc/booke.d: Fix msync and mbar to reflect reality.

	* gas/ppc/e500.d: Fix m[tf]pmr to reflect reality.
@
text
@d2 1
a2 1
#objdump: -Dr -Me500
a21 1
Disassembly of section \.data:
@


1.1
log
@2002-08-19  Elena Zannoni   <ezannoni@@redhat.com>

        From  matthew green  <mrg@@redhat.com>

        * e500.s: New tests for e500 instructions.
        * e500.d: Results for new test.
        * ppc.exp: Test e500.s.
@
text
@d16 2
a17 2
  18:	7c 89 43 9c 	mtpmr	r41,r4
  1c:	7c ab 52 9c 	mfpmr	r5,r43
@

