head	1.5;
access;
symbols
	binutils-2_24-branch:1.5.0.2
	binutils-2_24-branchpoint:1.5
	binutils-2_21_1:1.2
	binutils-2_23_2:1.2.30.2
	binutils-2_23_1:1.2.30.1
	binutils-2_23:1.2.30.1
	binutils-2_23-branch:1.2.0.30
	binutils-2_23-branchpoint:1.2
	binutils-2_22_branch:1.2.0.28
	binutils-2_22:1.2
	binutils-2_22-branch:1.2.0.26
	binutils-2_22-branchpoint:1.2
	binutils-2_21:1.2
	binutils-2_21-branch:1.2.0.24
	binutils-2_21-branchpoint:1.2
	binutils-2_20_1:1.2
	binutils-2_20:1.2
	binutils-arc-20081103-branch:1.2.0.22
	binutils-arc-20081103-branchpoint:1.2
	binutils-2_20-branch:1.2.0.20
	binutils-2_20-branchpoint:1.2
	dje-cgen-play1-branch:1.2.0.18
	dje-cgen-play1-branchpoint:1.2
	arc-20081103-branch:1.2.0.16
	arc-20081103-branchpoint:1.2
	binutils-2_19_1:1.2
	binutils-2_19:1.2
	binutils-2_19-branch:1.2.0.14
	binutils-2_19-branchpoint:1.2
	binutils-2_18:1.2
	binutils-2_18-branch:1.2.0.12
	binutils-2_18-branchpoint:1.2
	binutils-csl-coldfire-4_1-32:1.2
	binutils-csl-sourcerygxx-4_1-32:1.2
	binutils-csl-innovasic-fido-3_4_4-33:1.2
	binutils-csl-sourcerygxx-3_4_4-32:1.2
	binutils-csl-coldfire-4_1-30:1.2
	binutils-csl-sourcerygxx-4_1-30:1.2
	binutils-csl-coldfire-4_1-28:1.2
	binutils-csl-sourcerygxx-4_1-29:1.2
	binutils-csl-sourcerygxx-4_1-28:1.2
	binutils-csl-arm-2006q3-27:1.2
	binutils-csl-sourcerygxx-4_1-27:1.2
	binutils-csl-arm-2006q3-26:1.2
	binutils-csl-sourcerygxx-4_1-26:1.2
	binutils-csl-sourcerygxx-4_1-25:1.2
	binutils-csl-sourcerygxx-4_1-24:1.2
	binutils-csl-sourcerygxx-4_1-23:1.2
	binutils-csl-sourcerygxx-4_1-21:1.2
	binutils-csl-arm-2006q3-21:1.2
	binutils-csl-sourcerygxx-4_1-22:1.2
	binutils-csl-palmsource-arm-prelinker-1_0-1:1.2
	binutils-csl-sourcerygxx-4_1-20:1.2
	binutils-csl-arm-2006q3-19:1.2
	binutils-csl-sourcerygxx-4_1-19:1.2
	binutils-csl-sourcerygxx-4_1-18:1.2
	binutils-csl-renesas-4_1-9:1.2
	binutils-csl-sourcerygxx-3_4_4-25:1.2
	binutils-csl-renesas-4_1-8:1.2
	binutils-csl-renesas-4_1-7:1.2
	binutils-csl-renesas-4_1-6:1.2
	binutils-csl-sourcerygxx-4_1-17:1.2
	binutils-csl-sourcerygxx-4_1-14:1.2
	binutils-csl-sourcerygxx-4_1-15:1.2
	binutils-csl-sourcerygxx-4_1-13:1.2
	binutils-2_17:1.2
	binutils-csl-sourcerygxx-4_1-12:1.2
	binutils-csl-sourcerygxx-3_4_4-21:1.2
	binutils-csl-wrs-linux-3_4_4-24:1.2
	binutils-csl-wrs-linux-3_4_4-23:1.2
	binutils-csl-sourcerygxx-4_1-9:1.2
	binutils-csl-sourcerygxx-4_1-8:1.2
	binutils-csl-sourcerygxx-4_1-7:1.2
	binutils-csl-arm-2006q1-6:1.2
	binutils-csl-sourcerygxx-4_1-6:1.2
	binutils-csl-wrs-linux-3_4_4-22:1.2
	binutils-csl-coldfire-4_1-11:1.2
	binutils-csl-sourcerygxx-3_4_4-19:1.2
	binutils-csl-coldfire-4_1-10:1.2
	binutils-csl-sourcerygxx-4_1-5:1.2
	binutils-csl-sourcerygxx-4_1-4:1.2
	binutils-csl-wrs-linux-3_4_4-21:1.2
	binutils-csl-morpho-4_1-4:1.2
	binutils-csl-sourcerygxx-3_4_4-17:1.2
	binutils-csl-wrs-linux-3_4_4-20:1.2
	binutils-2_17-branch:1.2.0.10
	binutils-2_17-branchpoint:1.2
	binutils-csl-2_17-branch:1.2.0.8
	binutils-csl-2_17-branchpoint:1.2
	binutils-csl-gxxpro-3_4-branch:1.2.0.6
	binutils-csl-gxxpro-3_4-branchpoint:1.2
	binutils-2_16_1:1.2
	binutils-csl-arm-2005q1b:1.2
	binutils-2_16:1.2
	binutils-csl-arm-2005q1a:1.2
	binutils-csl-arm-2005q1-branch:1.2.0.4
	binutils-csl-arm-2005q1-branchpoint:1.2
	binutils-2_16-branch:1.2.0.2
	binutils-2_16-branchpoint:1.2
	csl-arm-2004-q3d:1.2
	csl-arm-2004-q3:1.2
	binutils-2_15:1.1
	binutils-2_15-branchpoint:1.1
	csl-arm-2004-q1a:1.2
	csl-arm-2004-q1:1.1
	binutils-2_15-branch:1.1.0.6
	cagney_bfdfile-20040213-branch:1.1.0.4
	cagney_bfdfile-20040213-branchpoint:1.1
	cagney_bigcore-20040122-branch:1.1.0.2
	cagney_bigcore-20040122-branchpoint:1.1
	csl-arm-2003-q4:1.1
	binutils_latest_snapshot:1.5;
locks; strict;
comment	@# @;


1.5
date	2012.10.29.09.25.15;	author amodra;	state Exp;
branches;
next	1.4;

1.4
date	2012.10.26.03.39.32;	author amodra;	state Exp;
branches;
next	1.3;

1.3
date	2012.08.15.21.25.21;	author bergner;	state Exp;
branches;
next	1.2;

1.2
date	2004.04.30.06.46.53;	author bje;	state Exp;
branches
	1.2.30.1;
next	1.1;

1.1
date	2003.07.04.13.35.35;	author amodra;	state Exp;
branches;
next	;

1.2.30.1
date	2012.08.29.02.59.04;	author bergner;	state Exp;
branches;
next	1.2.30.2;

1.2.30.2
date	2013.01.21.13.48.46;	author amodra;	state Exp;
branches;
next	;


desc
@@


1.5
log
@	* gas/cfi/cfi.exp: Remove redundant ppc test.  Exclude
	powerpc-pe targets from cfi-common-6 test.
	* gas/cfi/cfi-ppc-1.d: Use objdump to handle pe.
	* gas/cfi/cfi-ppc-1.s: Don't use .type and .size.
	* gas/ppc/ppc.exp: Exclude various tests for powerpc-pe.  Exclude
	vle tests for le targets.
	* gas/ppc/476.d, * gas/ppc/476.s: Update for le output.  Use .text
	rather than section directive with quotes.
	* gas/ppc/a2.d,	* gas/ppc/a2.s: Likewise.
	* gas/ppc/altivec.d, * gas/ppc/altivec.s: Likewise.
	* gas/ppc/altivec2.d: Likewise.
	* gas/ppc/altivec_and_spe.d: Likewise.
	* gas/ppc/astest.d: Likewise.
	* gas/ppc/astest2.d: Likewise.
	* gas/ppc/astest2_64.d: Likewise.
	* gas/ppc/astest64.d: Likewise.
	* gas/ppc/booke.d, * gas/ppc/booke.s: Likewise.
	* gas/ppc/cell.d, * gas/ppc/cell.s: Likewise.
	* gas/ppc/common.d, * gas/ppc/common.s: Likewise.
	* gas/ppc/e500.d, * gas/ppc/e500.s: Likewise.
	* gas/ppc/e500mc.d, * gas/ppc/e500mc.s: Likewise.
	* gas/ppc/e500mc64_nop.d, * gas/ppc/e500mc64_nop.s: Likewise.
	* gas/ppc/e5500_nop.d, * gas/ppc/e5500_nop.s: Likewise.
	* gas/ppc/e6500.d, * gas/ppc/e6500.s: Likewise.
	* gas/ppc/e6500_nop.d, * gas/ppc/e6500_nop.s: Likewise.
	* gas/ppc/machine.d: Likewise.
	* gas/ppc/power4.d, * gas/ppc/power4.s: Likewise.
	* gas/ppc/power4_32.d, * gas/ppc/power4_32.s: Likewise.
	* gas/ppc/power6.d, * gas/ppc/power6.s: Likewise.
	* gas/ppc/power7.d, * gas/ppc/power7.s: Likewise.
	* gas/ppc/ppc750ps.d, * gas/ppc/ppc750ps.s: Likewise.
	* gas/ppc/regnames.d: Likewise.
	* gas/ppc/simpshft.d: Likewise.
	* gas/ppc/test1elf32.d: Likewise.
	* gas/ppc/test1elf64.d: Likewise.
	* gas/ppc/titan.d, * gas/ppc/titan.s: Likewise.
	* gas/ppc/vle-reloc.s: Likewise.
	* gas/ppc/vle-simple-1.s: Likewise.
	* gas/ppc/vle-simple-2.s: Likewise.
	* gas/ppc/vle-simple-3.s: Likewise.
	* gas/ppc/vle-simple-4.s: Likewise.
	* gas/ppc/vle-simple-5.s: Likewise.
	* gas/ppc/vle-simple-6.s: Likewise.
	* gas/ppc/vle.s: Likewise.
	* gas/ppc/vsx.d, * gas/ppc/vsx.s: Likewise.
@
text
@	.data
	.p2align	4
dsym0:	.llong	0xdeadbeef
	.llong	0xc0ffee
dsym1:

	.section	".toc"
	.p2align	4
.L_tsym0:
	.tc	ignored0[TC],dsym0
	.tc	ignored1[TC],dsym1
.L_tsym1:
	.tc	ignored2[TC],usym0
	.tc	ignored3[TC],usym1

	.text
	.p2align	4
	lq	4,dsym0@@l(3)
	lq	4,dsym1@@l(3)
	lq	4,usym0@@l(3)
	lq	4,usym1@@l(3)
	lq	4,esym0@@l(3)
	lq	4,esym1@@l(3)
	lq	4,.L_tsym0@@toc(2)
	lq	4,.L_tsym1@@toc(2)
	lq	4,.text@@l(0)	
	lq	6,dsym0@@got(3)
	lq	6,dsym0@@got@@l(3)
	lq	6,dsym0@@plt@@l(3)
	lq	6,dsym1@@sectoff(3)
	lq	6,dsym1@@sectoff@@l(3)
	lq	6,usym1-dsym0@@l(4)
	stq	6,0(7)
	stq	6,16(7)
	stq	6,-16(7)
	stq	6,-32768(7)
	stq	6,32752(7)

	attn

	mtcr	3
	mtcrf	0xff,3
	mtcrf	0x81,3
	mtcrf	0x01,3
	mtcrf	0x02,3
	mtcrf	0x04,3
	mtcrf	0x08,3
	mtcrf	0x10,3
	mtcrf	0x20,3
	mtcrf	0x40,3
	mtcrf	0x80,3
	mfcr	3
#	mfcr	3,0xff	#Error, invalid mask
#	mfcr	3,0x81	#Error, invalid mask
	mfcr	3,0x01
	mfcr	3,0x02
	mfcr	3,0x04
	mfcr	3,0x08
	mfcr	3,0x10
	mfcr	3,0x20
	mfcr	3,0x40
	mfcr	3,0x80

	dcbz    1, 2
	dcbzl   3, 4
	dcbz    5, 6

	lq 2,16(0)
	lq 0,16(5)
	lq 2,16(5)
	stq 2,16(0)
	stq 0,16(5)
	stq 2,16(5)

	.section	".data"
usym0:	.llong	0xcafebabe
	.llong	0xc0ffee
usym1:

@


1.4
log
@	* gas/ppc/power4.s: Fix invalid lq offsets.
	* gas/ppc/power4.d: Update.
@
text
@d1 1
a1 1
	.section	".data"
d16 1
a16 1
	.section	".text"
@


1.3
log
@opcodes/
	* ppc-opc.c <RSQ, RTQ>: Use PPC_OPERAND_GPR.

gas/testsuite/
	* gas/ppc/power4.s <lq, stq>: Add more tests.
	* gas/ppc/power4.d: Likewise.
@
text
@d2 1
d4 1
d8 1
d11 1
a12 2
	.tc	ignored1[TC],dsym1
.L_tsym2:
a13 1
.L_tsym3:
a14 4
.L_tsym4:
	.tc	ignored4[TC],esym0
.L_tsym5:
	.tc	ignored5[TC],esym1
d17 1
a25 5
	lq	4,.L_tsym2@@toc(2)
	lq	4,.L_tsym3@@toc(2)
	lq	4,.L_tsym4@@toc(2)
	lq	4,.L_tsym5@@toc(2)
	lq	6,.L_tsym5@@toc@@l(2)
d77 1
@


1.2
log
@	* ppc-opc.c (powerpc_opcodes): Add "dbczl" instruction for PPC970.
[testsuite]
	* gas/ppc/power4.s: Add dcbz and dcbzl test cases.
	* gas/ppc/power4.d: Update accordingly.
@
text
@d75 7
@


1.2.30.1
log
@opcodes/
	Backport from mainline
	2012-08-15  Peter Bergner  <bergner@@vnet.ibm.com>
	* ppc-opc.c <xnop, yield, mdoio, mdoom>: New extended mnemonics.

	2012-08-15  Peter Bergner  <bergner@@vnet.ibm.com>
	* ppc-opc.c <RSQ, RTQ>: Use PPC_OPERAND_GPR.

	2012-08-16  Peter Bergner  <bergner@@vnet.ibm.com>
	* ppc-opc.c (powerpc_opcodes) <"lswx">: Use RAX for the second and
	RBX for the third operand.
	<"lswi">: Use RAX for second and NBI for the third operand.

	2012-08-20  Edmar Wienskoski  <edmar@@freescale.com>
	* ppc-opc.c (powerpc_opcodes): Changed opcode for vabsdub,
	vabsduh, vabsduw, mviwsplt.

	2012-08-28  Peter Bergner  <bergner@@vnet.ibm.com>
	* ppc-opc.c (UIMM4, UIMM3, UIMM2, VXVA_MASK, VXVB_MASK, VXVAVB_MASK,
	VXVDVA_MASK, VXUIMM4_MASK, VXUIMM3_MASK, VXUIMM2_MASK): New defines.
	(powerpc_opcodes) <vexptefp, vlogefp, vrefp, vrfim, vrfin, vrfip,
	vrfiz, vrsqrtefp, vupkhpx, vupkhsb, vupkhsh, vupklpx, vupklsb,
	vupklsh>: Use VXVA_MASK.
	<vspltisb, vspltish, vspltisw>: Use VXVB_MASK.
	<mfvscr>: Use VXVAVB_MASK.
	<mtvscr>: Use VXVDVA_MASK.
	<vspltb>: Use VXUIMM4_MASK.
	<vsplth>: Use VXUIMM3_MASK.
	<vspltw>: Use VXUIMM2_MASK.

gas/testsuite/
	Backport from mainline
	2012-08-15  Peter Bergner  <bergner@@vnet.ibm.com>

	* gas/ppc/common.d ("nop", "xnop"): Add tests.
	* gas/ppc/common.s: Likewise.
	* gas/ppc/power7.d ("yield", "mdoio", "mdoom"): Add tests.
	* gas/ppc/power7.s: Likewise.

	2012-08-15  Peter Bergner  <bergner@@vnet.ibm.com>

	* gas/ppc/power4.s <lq, stq>: Add more tests.
	* gas/ppc/power4.d: Likewise.

	2012-08-20  Edmar Wienskoski  <edmar@@freescale.com>
	* gas/ppc/e6500.d: Changed opcode for vabsdub, vabsduh, vabsduw,
	mviwsplt.
@
text
@a74 7
	lq 2,16(0)
	lq 0,16(5)
	lq 2,16(5)
	stq 2,16(0)
	stq 0,16(5)
	stq 2,16(5)

@


1.2.30.2
log
@	PR 12549
	PR 14493
	PR 14567
	PR 14662
	PR 14758
	PR 14813
	PR 14904
	PR 14915
	PR 14926
	PR 14950
	PR 14962
	Apply mainline patches
@
text
@d1 1
a1 2
	.data
	.p2align	4
a2 1
	.llong	0xc0ffee
a5 1
	.p2align	4
d8 1
d10 1
a10 1
.L_tsym1:
d12 1
d14 4
d19 1
a19 2
	.text
	.p2align	4
d28 5
a83 1
	.llong	0xc0ffee
@


1.1
log
@	* gas/ppc/test2elf64.s: Rename to..
	* gas/ppc/power4.s: ..this.  Add mtcr and mfcr testcases.
	* gas/ppc/test2elf64.d: Rename to..
	* gas/ppc/power4.d: ..this.  Update.
	* gas/ppc/ppc.exp: Update.
@
text
@d71 4
@

