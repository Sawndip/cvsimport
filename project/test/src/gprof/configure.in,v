head	1.50;
access;
symbols
	binutils-2_24-branch:1.50.0.2
	binutils-2_24-branchpoint:1.50
	binutils-2_21_1:1.45
	binutils-2_23_2:1.48
	binutils-2_23_1:1.48
	binutils-2_23:1.48
	binutils-2_23-branch:1.48.0.2
	binutils-2_23-branchpoint:1.48
	binutils-2_22_branch:1.46.0.4
	binutils-2_22:1.46
	binutils-2_22-branch:1.46.0.2
	binutils-2_22-branchpoint:1.46
	binutils-2_21:1.45
	binutils-2_21-branch:1.45.0.2
	binutils-2_21-branchpoint:1.45
	binutils-2_20_1:1.43
	binutils-2_20:1.43
	binutils-arc-20081103-branch:1.42.0.4
	binutils-arc-20081103-branchpoint:1.42
	binutils-2_20-branch:1.43.0.4
	binutils-2_20-branchpoint:1.43
	dje-cgen-play1-branch:1.43.0.2
	dje-cgen-play1-branchpoint:1.43
	arc-20081103-branch:1.42.0.2
	arc-20081103-branchpoint:1.42
	binutils-2_19_1:1.41
	binutils-2_19:1.41
	binutils-2_19-branch:1.41.0.2
	binutils-2_19-branchpoint:1.41
	binutils-2_18:1.34.2.1
	binutils-2_18-branch:1.34.0.2
	binutils-2_18-branchpoint:1.34
	binutils-csl-coldfire-4_1-32:1.27.2.4
	binutils-csl-sourcerygxx-4_1-32:1.27.2.4
	binutils-csl-innovasic-fido-3_4_4-33:1.27.2.4
	binutils-csl-sourcerygxx-3_4_4-32:1.21
	binutils-csl-coldfire-4_1-30:1.27.2.4
	binutils-csl-sourcerygxx-4_1-30:1.27.2.4
	binutils-csl-coldfire-4_1-28:1.27.2.4
	binutils-csl-sourcerygxx-4_1-29:1.27.2.4
	binutils-csl-sourcerygxx-4_1-28:1.27.2.4
	binutils-csl-arm-2006q3-27:1.27.2.4
	binutils-csl-sourcerygxx-4_1-27:1.27.2.4
	binutils-csl-arm-2006q3-26:1.27.2.4
	binutils-csl-sourcerygxx-4_1-26:1.27.2.4
	binutils-csl-sourcerygxx-4_1-25:1.27.2.4
	binutils-csl-sourcerygxx-4_1-24:1.27.2.3
	binutils-csl-sourcerygxx-4_1-23:1.27.2.3
	binutils-csl-sourcerygxx-4_1-21:1.27.2.3
	binutils-csl-arm-2006q3-21:1.27.2.3
	binutils-csl-sourcerygxx-4_1-22:1.27.2.3
	binutils-csl-palmsource-arm-prelinker-1_0-1:1.27.2.3
	binutils-csl-sourcerygxx-4_1-20:1.27.2.3
	binutils-csl-arm-2006q3-19:1.27.2.3
	binutils-csl-sourcerygxx-4_1-19:1.27.2.3
	binutils-csl-sourcerygxx-4_1-18:1.27.2.2
	binutils-csl-renesas-4_1-9:1.27.2.2
	binutils-csl-sourcerygxx-3_4_4-25:1.21
	binutils-csl-renesas-4_1-8:1.27.2.2
	binutils-csl-renesas-4_1-7:1.27.2.2
	binutils-csl-renesas-4_1-6:1.27.2.2
	binutils-csl-sourcerygxx-4_1-17:1.27.2.2
	binutils-csl-sourcerygxx-4_1-14:1.27.2.1
	binutils-csl-sourcerygxx-4_1-15:1.27.2.1
	binutils-csl-sourcerygxx-4_1-13:1.27.2.1
	binutils-2_17:1.28
	binutils-csl-sourcerygxx-4_1-12:1.27.2.1
	binutils-csl-sourcerygxx-3_4_4-21:1.27.2.1
	binutils-csl-wrs-linux-3_4_4-24:1.21
	binutils-csl-wrs-linux-3_4_4-23:1.21
	binutils-csl-sourcerygxx-4_1-9:1.27.2.1
	binutils-csl-sourcerygxx-4_1-8:1.27.2.1
	binutils-csl-sourcerygxx-4_1-7:1.27.2.1
	binutils-csl-arm-2006q1-6:1.27.2.1
	binutils-csl-sourcerygxx-4_1-6:1.27.2.1
	binutils-csl-wrs-linux-3_4_4-22:1.21
	binutils-csl-coldfire-4_1-11:1.27.2.1
	binutils-csl-sourcerygxx-3_4_4-19:1.27.2.1
	binutils-csl-coldfire-4_1-10:1.27.2.1
	binutils-csl-sourcerygxx-4_1-5:1.27.2.1
	binutils-csl-sourcerygxx-4_1-4:1.27.2.1
	binutils-csl-wrs-linux-3_4_4-21:1.21
	binutils-csl-morpho-4_1-4:1.27.2.1
	binutils-csl-sourcerygxx-3_4_4-17:1.27.2.1
	binutils-csl-wrs-linux-3_4_4-20:1.21
	binutils-2_17-branch:1.28.0.2
	binutils-2_17-branchpoint:1.28
	binutils-csl-2_17-branch:1.27.0.2
	binutils-csl-2_17-branchpoint:1.27
	binutils-csl-gxxpro-3_4-branch:1.21.0.6
	binutils-csl-gxxpro-3_4-branchpoint:1.21
	binutils-2_16_1:1.21
	binutils-csl-arm-2005q1b:1.21
	binutils-2_16:1.21
	binutils-csl-arm-2005q1a:1.21
	binutils-csl-arm-2005q1-branch:1.21.0.4
	binutils-csl-arm-2005q1-branchpoint:1.21
	binutils-2_16-branch:1.21.0.2
	binutils-2_16-branchpoint:1.21
	csl-arm-2004-q3d:1.20
	csl-arm-2004-q3:1.20
	gprof-pre-ansify-2004-05-26:1.19
	gprof-post-ansify-2004-05-26:1.19
	binutils-2_15:1.19
	binutils-2_15-branchpoint:1.19
	csl-arm-2004-q1a:1.19
	csl-arm-2004-q1:1.19
	binutils-2_15-branch:1.19.0.6
	cagney_bfdfile-20040213-branch:1.19.0.4
	cagney_bfdfile-20040213-branchpoint:1.19
	cagney_bigcore-20040122-branch:1.19.0.2
	cagney_bigcore-20040122-branchpoint:1.19
	csl-arm-2003-q4:1.19
	binutils-2_14:1.18
	binutils-2_14-branch:1.18.0.2
	binutils-2_14-branchpoint:1.18
	binutils-2_13_2_1:1.15.4.2
	binutils-2_13_2:1.15.4.2
	binutils-2_13_1:1.15.4.1
	binutils-2_13:1.15.4.1
	binutils-2_13-branchpoint:1.15
	binutils-2_13-branch:1.15.0.4
	binutils-2_12_1:1.15
	binutils-2_12:1.15
	binutils-2_12-branch:1.15.0.2
	binutils-2_12-branchpoint:1.15
	cygnus_cvs_20020108_pre:1.13
	binutils-2_11_2:1.7.2.3
	binutils-2_11_1:1.7.2.3
	binutils-2_11:1.7.2.1
	x86_64versiong3:1.8
	binutils-2_11-branch:1.7.0.2
	binutils-2_10_1:1.2.2.3
	binutils-2_10:1.2.2.2
	binutils-2_10-branch:1.2.0.2
	binutils-2_10-branchpoint:1.2
	binutils_latest_snapshot:1.50
	repo-unification-2000-02-06:1.2
	binu_ss_19990721:1.2
	binu_ss_19990602:1.1.1.1
	binu_ss_19990502:1.1.1.1
	cygnus:1.1.1;
locks; strict;
comment	@# @;


1.50
date	2012.12.17.16.56.03;	author nickc;	state Exp;
branches;
next	1.49;

1.49
date	2012.07.27.16.30.55;	author vapier;	state Exp;
branches;
next	1.48;

1.48
date	2012.02.06.13.42.32;	author nickc;	state Exp;
branches;
next	1.47;

1.47
date	2011.10.24.11.51.22;	author nickc;	state Exp;
branches;
next	1.46;

1.46
date	2011.03.30.15.23.20;	author nickc;	state Exp;
branches;
next	1.45;

1.45
date	2009.11.17.11.03.57;	author nickc;	state Exp;
branches;
next	1.44;

1.44
date	2009.11.11.04.42.40;	author jkratoch;	state Exp;
branches;
next	1.43;

1.43
date	2009.02.03.15.54.04;	author jsm28;	state Exp;
branches;
next	1.42;

1.42
date	2008.09.11.19.02.02;	author jkratoch;	state Exp;
branches;
next	1.41;

1.41
date	2008.08.24.03.13.05;	author amodra;	state Exp;
branches;
next	1.40;

1.40
date	2008.08.15.08.31.51;	author amodra;	state Exp;
branches;
next	1.39;

1.39
date	2008.06.04.10.28.35;	author nickc;	state Exp;
branches;
next	1.38;

1.38
date	2007.10.24.16.45.53;	author hjl;	state Exp;
branches;
next	1.37;

1.37
date	2007.10.24.04.56.12;	author amodra;	state Exp;
branches;
next	1.36;

1.36
date	2007.10.12.16.36.48;	author nickc;	state Exp;
branches;
next	1.35;

1.35
date	2007.08.12.18.59.45;	author drow;	state Exp;
branches;
next	1.34;

1.34
date	2007.03.15.14.17.18;	author hjl;	state Exp;
branches
	1.34.2.1;
next	1.33;

1.33
date	2007.03.01.15.48.36;	author jsm28;	state Exp;
branches;
next	1.32;

1.32
date	2007.02.17.13.33.57;	author jsm28;	state Exp;
branches;
next	1.31;

1.31
date	2006.12.11.15.09.44;	author drow;	state Exp;
branches;
next	1.30;

1.30
date	2006.11.22.09.45.11;	author nickc;	state Exp;
branches;
next	1.29;

1.29
date	2006.05.31.15.14.37;	author drow;	state Exp;
branches;
next	1.28;

1.28
date	2006.04.06.21.49.33;	author carlos;	state Exp;
branches;
next	1.27;

1.27
date	2005.10.03.10.53.35;	author nickc;	state Exp;
branches
	1.27.2.1;
next	1.26;

1.26
date	2005.04.14.05.26.37;	author amodra;	state Exp;
branches;
next	1.25;

1.25
date	2005.04.06.15.42.14;	author nickc;	state Exp;
branches;
next	1.24;

1.24
date	2005.04.04.11.27.16;	author nickc;	state Exp;
branches;
next	1.23;

1.23
date	2005.03.16.17.18.16;	author nickc;	state Exp;
branches;
next	1.22;

1.22
date	2005.03.16.16.17.09;	author nickc;	state Exp;
branches;
next	1.21;

1.21
date	2005.01.31.11.06.08;	author nickc;	state Exp;
branches;
next	1.20;

1.20
date	2004.06.15.03.24.57;	author bje;	state Exp;
branches;
next	1.19;

1.19
date	2003.08.26.17.19.19;	author nickc;	state Exp;
branches;
next	1.18;

1.18
date	2002.12.02.14.02.54;	author nickc;	state Exp;
branches;
next	1.17;

1.17
date	2002.11.12.10.08.24;	author nickc;	state Exp;
branches;
next	1.16;

1.16
date	2002.07.23.09.58.03;	author nickc;	state Exp;
branches;
next	1.15;

1.15
date	2002.02.01.08.41.57;	author amodra;	state Exp;
branches
	1.15.4.1;
next	1.14;

1.14
date	2002.01.31.18.37.56;	author nickc;	state Exp;
branches;
next	1.13;

1.13
date	2002.01.07.17.37.54;	author nickc;	state Exp;
branches;
next	1.12;

1.12
date	2001.12.21.11.44.45;	author nickc;	state Exp;
branches;
next	1.11;

1.11
date	2001.12.03.10.46.36;	author nickc;	state Exp;
branches;
next	1.10;

1.10
date	2001.11.02.19.07.57;	author nickc;	state Exp;
branches;
next	1.9;

1.9
date	2001.03.14.03.14.56;	author amodra;	state Exp;
branches;
next	1.8;

1.8
date	2001.02.27.06.43.55;	author amodra;	state Exp;
branches;
next	1.7;

1.7
date	2000.09.07.21.08.17;	author hjl;	state Exp;
branches
	1.7.2.1;
next	1.6;

1.6
date	2000.09.02.21.35.46;	author nickc;	state Exp;
branches;
next	1.5;

1.5
date	2000.06.08.19.00.02;	author obrien;	state Exp;
branches;
next	1.4;

1.4
date	2000.05.26.13.11.56;	author amodra;	state Exp;
branches;
next	1.3;

1.3
date	2000.04.09.12.17.41;	author cagney;	state Exp;
branches;
next	1.2;

1.2
date	99.07.15.12.15.17;	author ian;	state Exp;
branches
	1.2.2.1;
next	1.1;

1.1
date	99.05.03.07.29.11;	author rth;	state Exp;
branches
	1.1.1.1;
next	;

1.34.2.1
date	2007.08.12.19.00.32;	author drow;	state Exp;
branches;
next	;

1.27.2.1
date	2006.04.03.15.44.47;	author carlos;	state Exp;
branches;
next	1.27.2.2;

1.27.2.2
date	2006.07.26.18.46.24;	author nathan;	state Exp;
branches;
next	1.27.2.3;

1.27.2.3
date	2006.09.11.09.45.50;	author nathan;	state Exp;
branches;
next	1.27.2.4;

1.27.2.4
date	2006.10.16.20.21.24;	author nathan;	state Exp;
branches;
next	;

1.15.4.1
date	2002.07.23.09.57.26;	author nickc;	state Exp;
branches;
next	1.15.4.2;

1.15.4.2
date	2002.12.15.22.31.48;	author drow;	state Exp;
branches;
next	;

1.7.2.1
date	2001.03.11.17.41.06;	author pb;	state Exp;
branches;
next	1.7.2.2;

1.7.2.2
date	2001.06.10.13.52.17;	author pb;	state Exp;
branches;
next	1.7.2.3;

1.7.2.3
date	2001.06.11.10.05.03;	author amodra;	state Exp;
branches;
next	;

1.2.2.1
date	2000.05.23.08.11.05;	author pb;	state Exp;
branches;
next	1.2.2.2;

1.2.2.2
date	2000.05.28.10.57.51;	author amodra;	state Exp;
branches;
next	1.2.2.3;

1.2.2.3
date	2000.10.16.11.27.29;	author pb;	state Exp;
branches;
next	;

1.1.1.1
date	99.05.03.07.29.11;	author rth;	state Exp;
branches;
next	;


desc
@@


1.50
log
@Add copyright notices
@
text
@dnl Process this file with autoconf to produce a configure script.
dnl
dnl   Copyright 2012 Free Software Foundation
dnl
dnl This file is free software; you can redistribute it and/or modify
dnl it under the terms of the GNU General Public License as published by
dnl the Free Software Foundation; either version 3 of the License, or
dnl (at your option) any later version.
dnl 
dnl This program is distributed in the hope that it will be useful,
dnl but WITHOUT ANY WARRANTY; without even the implied warranty of
dnl MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
dnl GNU General Public License for more details.
dnl 
dnl You should have received a copy of the GNU General Public License
dnl along with this program; see the file COPYING3.  If not see
dnl <http://www.gnu.org/licenses/>.
dnl
AC_PREREQ(2.59)
AC_INIT
AC_CONFIG_SRCDIR([gprof.c])

AC_CANONICAL_TARGET([])
AC_ISC_POSIX

changequote(,)dnl
BFD_VERSION=`${srcdir}/../bfd/configure --version | sed -n -e '1s,.* ,,p'`
changequote([,])dnl
AM_INIT_AUTOMAKE(gprof, ${BFD_VERSION})

dnl For simplicity, we use the BFD configuration file for most
dnl things.  However, we also need our own configuration file for
dnl the automake PACKAGE and VERSION macros.  We don't name it
dnl config.h, to avoid any possible confusion with the bfd config.h.
AC_CONFIG_HEADERS([gconfig.h:gconfig.in])

AC_PROG_CC
AC_GNU_SOURCE
AC_USE_SYSTEM_EXTENSIONS
ACX_LARGEFILE
AC_PROG_INSTALL

LT_INIT

AC_CHECK_FUNCS(setmode)

ALL_LINGUAS="fr tr sv es id da pt_BR de vi rw ga ms fi nl bg eo ja sr"
ZW_GNU_GETTEXT_SISTER_DIR
AM_PO_SUBDIRS

AM_MAINTAINER_MODE
AM_CONDITIONAL(GENINSRC_NEVER, false)
AC_EXEEXT

AC_CHECK_HEADERS(sys/gmon_out.h)

AC_MSG_CHECKING(for a known getopt prototype in unistd.h)
AC_CACHE_VAL(gprof_cv_decl_getopt_unistd_h,
[AC_COMPILE_IFELSE([AC_LANG_PROGRAM([#include <unistd.h>], [extern int getopt (int, char *const*, const char *);])],
gprof_cv_decl_getopt_unistd_h=yes, gprof_cv_decl_getopt_unistd_h=no)])
AC_MSG_RESULT($gprof_cv_decl_getopt_unistd_h)
if test $gprof_cv_decl_getopt_unistd_h = yes; then
  AC_DEFINE([HAVE_DECL_GETOPT], 1,
	    [Is the prototype for getopt in <unistd.h> in the expected format?])
fi

# Some systems have fabs only in -lm, not in -lc.
AC_SEARCH_LIBS(fabs, m)

AM_BINUTILS_WARNINGS

dnl Required by html, pdf, install-pdf and install-html
AC_SUBST(datarootdir)
AC_SUBST(docdir)
AC_SUBST(htmldir)
AC_SUBST(pdfdir)

AC_CONFIG_FILES([Makefile po/Makefile.in:po/Make-in])
AC_OUTPUT
@


1.49
log
@bfd: update to AC_INIT

Move the package name/version from AM_INIT_AUTOMAKE to AC_INIT per recent
autotools guidelines.  We use recent versions of both, so it shouldn't be
a problem.

This sets PACKAGE_xxx variables correctly, and makes the output of:
	./configure --version
actually useful:
	bfd configure 2.22.52

Changing the other dirs to use AC_INIT would require a bit of m4 trickery
that I don't feel like getting into, and they all use BFD_VERSION anyways,
so there isn't much point.

Signed-off-by: Mike Frysinger <vapier@@gentoo.org>
@
text
@d2 17
@


1.48
log
@	* po/sr.po: New Serbian translation.
	* configure.in (ALL_LINGUAS): Add sr.
	* configure: Regenerate.
@
text
@d10 1
a10 1
BFD_VERSION=`sed -n -e 's/^.._INIT_AUTOMAKE.*,[ 	]*\([^ 	]*\)[ 	]*).*/\1/p' < ${srcdir}/../bfd/configure.in`
@


1.47
log
@Updated Japanese translation
@
text
@d30 1
a30 1
ALL_LINGUAS="fr tr sv es id da pt_BR de vi rw ga ms fi nl bg eo ja"
@


1.46
log
@	* po/eo.po: New Esperanto translation.
	* configure.in (ALL_LINGUAS): Add eo.
	* configure: Regenerate.
	* po/da.po: Updated Danish translation.
@
text
@d30 1
a30 1
ALL_LINGUAS="fr tr sv es id da pt_BR de vi rw ga ms fi nl bg eo"
@


1.45
log
@        * po/bg.po: New Bulgarian translation.
        * configure.in (ALL_LINGUAS): Add bg.po.
        * configure: Regenerate.
@
text
@d30 1
a30 1
ALL_LINGUAS="fr tr sv es id da pt_BR de vi rw ga ms fi nl bg"
@


1.44
log
@bfd/
	* configure.in: Call ACX_LARGEFILE.  Stop calling AC_PLUGINS,
	AC_SYS_LARGEFILE and checking the Solaris largefile exception.
	* aclocal.m4: Regenerate.
	* configure: Regenerate.

binutils/
	* configure.in: Call ACX_LARGEFILE.  Stop calling AC_PLUGINS,
	AC_SYS_LARGEFILE and checking the Solaris largefile exception.
	* aclocal.m4: Regenerate.
	* configure: Regenerate.

gas/
	* configure.in: Call ACX_LARGEFILE.  Stop calling AC_SYS_LARGEFILE.
	* aclocal.m4: Regenerate.
	* configure: Regenerate.

gdb/
	* configure.ac: Call ACX_LARGEFILE.
	* aclocal.m4: Call m4_include for ../config/largefile.m4 and
	../config/plugins.m4.
	* configure: Regenerate.
	* config.in: Regenerate.

gprof/
	* configure.in: Call ACX_LARGEFILE.  Stop calling AC_SYS_LARGEFILE.
	* aclocal.m4: Regenerate.
	* configure: Regenerate.

ld/
	* configure.in: Call ACX_LARGEFILE.  Stop calling AC_SYS_LARGEFILE.
	* aclocal.m4: Regenerate.
	* configure: Regenerate.
@
text
@d30 1
a30 1
ALL_LINGUAS="fr tr sv es id da pt_BR de vi rw ga ms fi nl"
@


1.43
log
@bfd:
2009-02-03  Carlos O'Donell  <carlos@@codesourcery.com>

	* configure.in: AC_SUBST pdfdir.
	* Makefile.am: Add install-pdf, install-pdf-am
	and install-pdf-recursive targets. Define pdfdir.
	* doc/Makefile.am: Define pdf__strip_dir. Add
	install-pdf and install-pdf-am targets.
	* po/Make-in: Add install-pdf target.
	* configure: Regenerate.
	* Makefile.in: Regenerate
	* doc/Makefile.in: Regenerate.

binutils:
2009-02-03  Carlos O'Donell  <carlos@@codesourcery.com>

	* configure.in: AC_SUBST pdfdir.
	* Makefile.am: Add install-pdf, install-pdf-am,
	and install-pdf-recursive targets.
	* doc/Makefile.am: Define pdf__strip_dir. Add
	install-pdf and install-pdf-am targets.
	* po/Make-in: Add install-pdf target.
	* configure: Regenerate.
	* Makefile.in: Regenerate.
	* doc/Makefile.in: Regenerate.

etc:
2009-02-03  Carlos O'Donell  <carlos@@codesourcery.com>

	* configure.in: AC_SUBST pdfdir.
	* configure: Regenerate.

gas:
2009-02-03  Carlos O'Donell  <carlos@@codesourcery.com>

	* configure.in: AC_SUBST pdfdir.
	* Makefile.am: Add install-pdf, install-pdf-am,
	and install-pdf-recursive targets.
	* doc/Makefile.am: Define pdf__strip_dir. Add
	install-pdf and install-pdf-am targets.
	* po/Make-in: Add install-pdf target.
	* configure: Regenerate.
	* Makefile.in: Regenerate.
	* doc/Makefile.in: Regenerate.

gprof:
2009-02-03  Carlos O'Donell  <carlos@@codesourcery.com>

	* configure.in: AC_SUBST pdfdir.
	* Makefile.am: Add install-pdf, install-pdf-am,
	and install-pdf-recursive targets. Define pdf__strip_dir.
	* po/Make-in: Add install-pdf target.
	* configure: Regenerate.
	* Makefile.in: Regenerate.

ld:
2009-02-03  Carlos O'Donell  <carlos@@codesourcery.com>

	* configure.in: AC_SUBST pdfdir.
	* Makefile.am: Add install-pdf, install-pdf-am,
	and install-pdf-recursive targets. Define pdf__strip_dir.
	* po/Make-in: Add install-pdf target.
	* configure: Regenerate.
	* Makefile.in: Regenerate.

opcodes:
2009-02-03  Carlos O'Donell  <carlos@@codesourcery.com>

	* Makefile.am: Add install-pdf target.
	* po/Make-in: Add install-pdf target.
	* Makefile.in: Regenerate.
@
text
@d23 1
a23 1
AC_SYS_LARGEFILE
@


1.42
log
@bfd/
	Fix loading large elf64 binaries on 32bit hosts.
	* configure.in: Call AC_SYS_LARGEFILE.
	* config.in: Regenerate.
	* configure: Regenerate.

binutils/
	Fix loading large elf64 binaries on 32bit hosts.
	* configure.in: Call AC_SYS_LARGEFILE.
	* config.in: Regenerate.
	* configure: Regenerate.

gas/
	* configure.in: Call AC_SYS_LARGEFILE.
	* config.in: Regenerate.
	* configure: Regenerate.

gprof/
	* configure.in: Call AC_SYS_LARGEFILE.
	* gconfig.in: Regenerate.
	* configure: Regenerate.

ld/
	* configure.in: Call AC_SYS_LARGEFILE.
	* config.in: Regenerate.
	* configure: Regenerate.

libiberty/
	* configure.in: Call AC_SYS_LARGEFILE.
	* config.in: Regenerate.
	* configure: Regenerate.
@
text
@d55 1
a55 1
dnl Required by html and install-html
d59 1
@


1.41
log
@Update a number of obsolete autoconf macros.
@
text
@d23 1
@


1.40
log
@	PR 6526
	* configure.in: Invoke AC_USE_SYSTEM_EXTENSIONS.
@
text
@d25 1
a25 1
AM_PROG_LIBTOOL
d41 1
a41 1
[AC_TRY_COMPILE([#include <unistd.h>], [extern int getopt (int, char *const*, const char *);],
@


1.39
log
@* po/nl.po: New file: Dutch translation
* configure.in (ALL_LINGUAS): Add nl.
* configure: Regenerate.
@
text
@d22 1
@


1.38
log
@gas/

2007-10-24  H.J. Lu  <hongjiu.lu@@intel.com>

	* configure.in: Move AM_PROG_LIBTOOL after AC_GNU_SOURCE.
	* configure: Regenerated.

gprof/

2007-10-24  H.J. Lu  <hongjiu.lu@@intel.com>

	* configure.in: Move AM_PROG_LIBTOOL after AC_GNU_SOURCE.
	* configure: Regenerated.

ld/

2007-10-24  H.J. Lu  <hongjiu.lu@@intel.com>

	* configure.in: Move AM_PROG_LIBTOOL after AC_GNU_SOURCE.
	* configure: Regenerated.
@
text
@d28 1
a28 1
ALL_LINGUAS="fr tr sv es id da pt_BR de vi rw ga ms fi"
@


1.37
log
@	* Makefile.am (INCLUDES): Remove -D_GNU_SOURCE.
	* configure.in: Invoke AC_GNU_SOURCE.
	* Makefile.in: Regenerate.
	* configure: Regenerate.
	* gconfig.in: Regenerate.
@
text
@a13 2
AM_PROG_LIBTOOL

d24 2
@


1.36
log
@PR gprof/5147
* configure.in: Add check for fabs() being in libm.
* configure: Regenerate.
@
text
@d23 1
@


1.35
log
@	* configure.in (ALL_LINGUAS): Add fi.
	* po/fi.po: New file.
	* configure: Regenerated.
@
text
@d47 3
@


1.34
log
@bfd/

2007-03-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (bfdver.h): Substitute report_bugs_to.  Also
	create doc/bfdver.texi.
	* Makefile.in: Regenerated.

	* configure.in (--with-bugurl): New option.
	* configure: Regenerated.

	* version.h (REPORT_BUGS_TO): New.

binutils/

2007-03-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (REPORT_BUGS_TO): Removed.
	(INCLUDES): Remove -DREPORT_BUGS_TO.
	* Makefile.in: Regenerated.

	* bucomm.c: Don't include bfdver.h.
	* objdump.c: Likewise.
	* version.c: Likewise.

	* bucomm.h: Include bfdver.h.

	* configure.in (--with-bugurl): Removed.
	* configure: Regenerated.

	* doc/Makefile.am (binutils_TEXINFOS): Removed.
	(AM_MAKEINFOFLAGS): Add -I ../../bfd/doc.
	(TEXI2DVI): Likewise.
	(config.texi): Removed.
	(MOSTLYCLEANFILES): Remove config.texi.
	* doc/Makefile.in: Regenerated.

	* doc/binutils.texi: Include bfdver.texi instead of
	config.texi.

gas/

2007-03-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (REPORT_BUGS_TO): Removed.
	(INCLUDES): Remove -DREPORT_BUGS_TO.
	* Makefile.in: Regenerated.

	* configure.in (--with-bugurl): Removed.
	* configure: Regenerated.

	* doc/Makefile.am (as_TEXINFOS): Remove gasver.texi.
	(AM_MAKEINFOFLAGS): Add -I ../../bfd/doc.
	(TEXI2DVI): Likewise.
	(gasver.texi): Removed.
	(MOSTLYCLEANFILES): Remove gasver.texi.
	(as.1): Don't depend on gasver.texi.
	* doc/Makefile.in: Regenerated.

	* doc/as.texi: Include bfdver.texi instead of gasver.texi.

gprof/

2007-03-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (REPORT_BUGS_TO): Removed.
	(INCLUDES): Remove -DREPORT_BUGS_TO.
	* Makefile.in: Regenerated.

	* configure.in (--with-bugurl): Removed.
	* configure: Regenerated.

ld/

2007-03-15  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.am (ld_TEXINFOS): Remove ldver.texi.
	(AM_MAKEINFOFLAGS): Add -I ../../bfd/doc.
	(TEXI2DVI): Likewise.
	(REPORT_BUGS_TO): Removed.
	(INCLUDES): Remove -DREPORT_BUGS_TO.
	(ldver.texi): Likewise.
	(ld.1): Don't depend on ldver.texi.
	(MOSTLYCLEANFILES): Remove ldver.texi.
	* Makefile.in: Regenerated.

	* configure.in (--with-bugurl): Removed.
	* configure: Regenerated.

	* lexsup.c: Include bfdver.h.

	* ld.texinfo: Include bfdver.texi instead of ldver.texi.
@
text
@d27 1
a27 1
ALL_LINGUAS="fr tr sv es id da pt_BR de vi rw ga ms"
@


1.34.2.1
log
@	* configure.in (ALL_LINGUAS): Add fi.
	* po/fi.po: New file.
	* configure: Regenerated.
@
text
@d27 1
a27 1
ALL_LINGUAS="fr tr sv es id da pt_BR de vi rw ga ms fi"
@


1.33
log
@bfd:
	* Makefile.am (bfdver.h): Use "." not " " between version number
	and date.
	* Makefile.in: Regenerate.
	* configure.in (PKGVERSION): Default to "(GNU Binutils) ".
	* configure: Regenerate.

binutils:
	* version.c (print_version): Update copyright date.

gas:
	* as.c (parse_args): Update copyright date.

gprof:
	* gprof.c: Include bfdver.h
	(main): Use BFD_VERSION_STRING for version number and package
	name.
	* Makefile.am (PKGVERSION): Remove.
	(INCLUDES): Update.
	Regenerate dependencies.
	* Makefile.in: Regenerate.
	* configure.in (PKGVERSION): Remove.
	* configure: Regenerate.

ld:
	* ldver.c (ldversion): Remove word "version" from output.  Update
	copyright date.
@
text
@a15 13
# The location to which bugs should be reported.
AC_ARG_WITH(bugurl,
  AS_HELP_STRING([--with-bugurl=URL],
                 [Direct users to URL to report a bug]),
  [case "$withval" in
    yes) AC_MSG_ERROR([bug URL not specified]) ;;
    no)  REPORT_BUGS_TO="" ;;
    *)   REPORT_BUGS_TO="<URL:$withval>" ;;
   esac],
   REPORT_BUGS_TO="<URL:http://www.sourceware.org/bugzilla/>"
)
AC_SUBST(REPORT_BUGS_TO)

@


1.32
log
@top level:
2007-02-17  Mark Mitchell  <mark@@codesourcery.com>
            Nathan Sidwell  <nathan@@codesourcery.com>
            Vladimir Prus  <vladimir@@codesourcery.com
            Joseph Myers  <joseph@@codesourcery.com>

	* configure.ac (TOPLEVEL_CONFIGURE_ARGUMENTS): Fix quoting.
	* configure: Regenerate.

bfd:
2007-02-17  Mark Mitchell  <mark@@codesourcery.com>
            Nathan Sidwell  <nathan@@codesourcery.com>
            Vladimir Prus  <vladimir@@codesourcery.com
            Joseph Myers  <joseph@@codesourcery.com>

	* configure.in (--with-pkgversion): New option.
	* configure: Regenerate.
	* Makefile.am (bfdver.h): Substitute for @@bfd_version_package@@.
	* Makefile.in: Regenerate.
	* version.h (BFD_VERSION_STRING): Define using
	@@bfd_version_package@@.

bfd/doc:
2007-02-17  Mark Mitchell  <mark@@codesourcery.com>
            Nathan Sidwell  <nathan@@codesourcery.com>
            Vladimir Prus  <vladimir@@codesourcery.com
            Joseph Myers  <joseph@@codesourcery.com>

	* Makefile.in: Regenerate.

binutils:
2007-02-17  Mark Mitchell  <mark@@codesourcery.com>
            Nathan Sidwell  <nathan@@codesourcery.com>
            Vladimir Prus  <vladimir@@codesourcery.com
            Joseph Myers  <joseph@@codesourcery.com>

	* configure.in (--with-bugurl): New option.
	* configure: Regenerate.
	* Makefile.am (REPORT_BUGS_TO): Define.
	(INCLUDES): Define REPORT_BUGS_TO.
	Regenerate dependencies.
	* Makefile.in: Regenerate.
	* doc/Makefile.in: Regenerate.
	* bucomm.h: Remove include of bin-bugs.h.
	* addr2line.c (usage): Don't print empty REPORT_BUGS_TO.
	* ar.c (usage): Pass s to list_supported_targets.  Don't print
	empty REPORT_BUGS_TO.
	* coffdump.c (show_usage): Don't print empty REPORT_BUGS_TO.
	* cxxfilt.c (usage): Print bug url when giving help.
	* dlltool.c (usage): Likewise.
	* dllwrap.c (usage): Likewise.
	* nlmconv.c (show_usage): Don't print empty REPORT_BUGS_TO.
	* nm.c (usage): Likewise.
	* objcopy.c (copy_usage, strip_usage): Likewise.
	* objdump.c (usage): Likewise.
	* readelf.c ((usage): Likewise. Add STREAM argument.  Adjust
	callers.
	* size.c (usage): Don't print empty REPORT_BUGS_TO.
	* srconv.c (show_usage): Likewise.
	* strings.c (usage): Likewise.
	* sysdymp.c (show_usage): Likewise.
	* windres.c (usage): Likewise.

gas:
2007-02-17  Mark Mitchell  <mark@@codesourcery.com>
            Nathan Sidwell  <nathan@@codesourcery.com>
            Vladimir Prus  <vladimir@@codesourcery.com
            Joseph Myers  <joseph@@codesourcery.com>

	* configure.in (--with-bugurl): New option.
	* configure: Regenerate.
	* dep-in.sed: Remove bin-bugs.h.
	* Makefile.am (REPORT_BUGS_TO): Define.
	(INCLUDES): Define REPORT_BUGS_TO.
	(DEP_INCLUDES): Likewise.
	($(OBJS)): No longer depend on bin-bugs.h.
	* Makefile.in: Regenerate.
	* doc/Makefile.in: Regenerate.
	* as.c (show_usage): Don't print empty REPORT_BUGS_TO.
	* as.h: Remove include of bin-bugs.h.

gprof:
2007-02-17  Mark Mitchell  <mark@@codesourcery.com>
            Nathan Sidwell  <nathan@@codesourcery.com>
            Vladimir Prus  <vladimir@@codesourcery.com
            Joseph Myers  <joseph@@codesourcery.com>

	* configure.in (--with-pkgversion, --with-bugurl): New options.
	* configure: Regenerate.
	* Makefile.am (PKGVERSION, REPORT_BUGS_TO): Define.
	(INCLUDES): Define PKGVERSION and REPORT_BUGS_TO.
	Regenerate dependencies.
	* Makefile.in: Regenerate.
	* gprof.c (usage): Don't print empty REPORT_BUGS_TO.
	(main): Include PKGVERSION in version output.
	* gprof.h: Remove include of bin-bugs.h.

include:
2007-02-17  Mark Mitchell  <mark@@codesourcery.com>
            Nathan Sidwell  <nathan@@codesourcery.com>
            Vladimir Prus  <vladimir@@codesourcery.com
            Joseph Myers  <joseph@@codesourcery.com>

	* bin-bugs.h: Remove.

ld:
2007-02-17  Mark Mitchell  <mark@@codesourcery.com>
            Nathan Sidwell  <nathan@@codesourcery.com>
            Vladimir Prus  <vladimir@@codesourcery.com
            Joseph Myers  <joseph@@codesourcery.com>

	* configure.in (--with-bugurl): New option.
	* configure: Regenerate.
	* Makefile.am (REPORT_BUGS_TO): Define.
	(INCLUDES): Define REPORT_BUGS_TO.
	Regenerate dependencies.
	* Makefile.in: Regenerate.
	* ld.h: Remove include of bin-bugs.h.
	* lexsup.c (help): Don't print empty REPORT_BUGS_TO.
@
text
@a15 13
# Package version.  For an official FSF release, it is empty.
AC_ARG_WITH(pkgversion,
  AS_HELP_STRING([--with-pkgversion=PKG],
                 [Add PKG to the version string]),
  [case "$withval" in
    yes) AC_MSG_ERROR([package version not specified]) ;;
    no)  PKGVERSION= ;;
    *)   PKGVERSION="($withval) " ;;
   esac],
  PKGVERSION=
)
AC_SUBST(PKGVERSION)

@


1.31
log
@bfd/
	* configure.in: Define GENINSRC_NEVER.
	* doc/Makefile.am (bfd.info): Remove srcdir prefix.
	(MAINTAINERCLEANFILES): Add info file.
	(DISTCLEANFILES): Pretend to add info file.
	* po/Make-in (.po.gmo): Put gmo files in objdir.
	* configure, Makefile.in, doc/Makefile.in: Regenerated.
binutils/
	* configure.in: Define GENINSRC_NEVER.
	* doc/Makefile.am (MAINTAINERCLEANFILES): Add info file.
	(DISTCLEANFILES): Pretend to add info file.
	* po/Make-in (.po.gmo): Put gmo files in objdir.
	* configure, Makefile.in, doc/Makefile.in: Regenerated.
gas/
	* configure.in: Define GENINSRC_NEVER.
	* doc/Makefile.am (as.info): Remove srcdir prefix.
	(MAINTAINERCLEANFILES): Add info file.
	(DISTCLEANFILES): Pretend to add info file.
	* po/Make-in (.po.gmo): Put gmo files in objdir.
	* configure, Makefile.in, doc/Makefile.in: Regenerated.
gprof/
	* configure.in: Define GENINSRC_NEVER.
	* doc/Makefile.am (gprof.info): Remove srcdir prefix.
	(MAINTAINERCLEANFILES): Add info file.
	(DISTCLEANFILES): Pretend to add info file.
	* po/Make-in (.po.gmo): Put gmo files in objdir.
	* configure, Makefile.in: Regenerated.
ld/
	* configure.in: Define GENINSRC_NEVER.
	* doc/Makefile.am (ld.info): Remove srcdir prefix.
	(MAINTAINERCLEANFILES): Add info file.
	(DISTCLEANFILES): Pretend to add info file.
	* po/Make-in (.po.gmo): Put gmo files in objdir.
	* configure, Makefile.in: Regenerated.
opcodes/
	* po/Make-in (.po.gmo): Put gmo files in objdir.
@
text
@d16 26
@


1.30
log
@Add Irish translation for ld and Malay translation for gprof
@
text
@d32 1
@


1.29
log
@Configury changes: update src repository (binutils, gdb, and rda) to use
config/gettext-sister.m4 instead of the old gettext.m4.  Regenerate all
affected autotools files.  Include intl in gdb releases again.
@
text
@d27 1
a27 1
ALL_LINGUAS="fr tr sv es id da pt_BR de vi rw ga"
@


1.28
log
@
2006-04-06  Carlos O'Donell <carlos@@codesourcery.com>

	* Makefile.tpl: Add install-html target.
	* Makefile.def: Add install-html target.
	* Makefile.in: Regenerate.
	* configure.in: Add --with-datarootdir, --with-docdir,
	and --with-htmldir options.
	* configure: Regenerate.

bfd/

2006-04-06  Carlos O'Donell  <carlos@@codesourcery.com>

	* po/Make-in: Add install-html target.
	* Makefile.am: Rename docdir to bfddocdir. Add datarootdir, docdir
	htmldir. Add install-html and install-html-recursive targets.
	* Makefile.in: Regenerate.
	* configure.in: AC_SUBST for datarootdir, docdir and htmldir.
	* configure: Regenerate.

bfd/doc/

2006-04-06  Carlos O'Donell  <carlos@@codesourcery.com>

	* Makefile.am: Add install-html and install-html-am targets.
	Define datarootdir, docdir and htmldir.
	* Makefile.in: Regenerate.

binutils/

2006-04-06  Carlos O'Donell  <carlos@@codesourcery.com>

	* po/Make-in: Add install-html target.
	* Makefile.am: Add install-html and install-html-recursive targets.
	* Makefile.in: Regenerate.
	* configure.in: AC_SUBST datarootdir, docdir and htmldir.
	* configure: Regenerate.
	* doc/Makefile.am: Add install-html and install-html-am targets.
	* doc/Makefile.in: Regenerate.

etc/

2006-04-06  Carlos O'Donell  <carlos@@codesourcery.com>

	* Makefile.in: Add install-html target. Add htmldir,
	docdir and datarootdir.
	* configure.texi: Document install-html target.
	* configure.in: AC_SUBST datarootdir, docdir, htmldir.
	* configure: Regenerate.

gas/

2006-04-06  Carlos O'Donell  <carlos@@codesourcery.com>

	* po/Make-in: Add install-html target.
	* Makefile.am: Add install-html and install-html-recursive targets.
	* Makefile.in: Regenerate.
	* configure.in: AC_SUBST datarootdir, docdir, htmldir.
	* configure: Regenerate.
	* doc/Makefile.am: Add install-html and install-html-am targets.
	* doc/Makefile.in: Regenerate.

gprof/

2006-04-06  Carlos O'Donell  <carlos@@codesourcery.com>

	* po/Make-in: Add install-html target.
	* Makefile.am: Add install-html, install-html-am and
	install-html-recursive targets.
	* Makefile.in: Regenerate.
	* configure.in: AC_SUBST datarootdir, docdir, htmldir.
	* configure: Regenerate.

intl/

2006-04-06  Carlos O'Donell  <carlos@@codesourcery.com>

	* intl/Makefile.in: Add html info and dvi and install-html to .PHONY
	Add install-html target.

ld/

2006-04-06  Carlos O'Donell  <carlos@@codesourcery.com>

	* Makefile.am: Add install-html, install-html-am, and
	install-html-recursive targets.
	* Makefile.in: Regenerate.
	* configure.in: AC_SUBST datarootdir, docdir, htmldir.
	* configure: Regenerate.
	* po/Make-in: Add install-html target.

opcodes/

2006-04-06  Carlos O'Donell  <carlos@@codesourcery.com>

	* Makefile.am: Add install-html target.
	* Makefile.in: Regenerate.
@
text
@d28 2
a29 1
CY_GNU_GETTEXT
a53 1
AC_CONFIG_COMMANDS([default],[[sed -e '/POTFILES =/r po/POTFILES' po/Makefile.in > po/Makefile]],[[]])
@


1.27
log
@oops - delayed commit of addition of Irish translation
@
text
@d47 5
@


1.27.2.1
log
@
2006-04-03  Carlos O'Donell <carlos@@codesourcery.com>

	* Makefile.tpl: Add install-html target.
	* Makefile.def: Add install-html target.
	* Makefile.in: Regenerate.
	* configure.in: Add --with-datarootdir, --with-docdir,
	and --with-htmldir options.
	* configure: Regenerate.
	* opcodes/Makefile.am: Add install-html target.
	* opcodes/Makefile.in: Regenerate.
	* libiberty/Makefile.in: Add install-html, install-html-am, and
	install-html-recursive targets. Define mkdir_p and
	NORMAL_INSTALL.
	* libiberty/configure.ac: AC_SUBST datarootdir, docdir, htmldir.
	* libiberty/configure: Regenerate.
	* libiberty/testsuite/Makefile.in: Add install-html and html targets.
	* ld/Makefile.am: Add install-html, install-html-am, and
	install-html-recursive targets.
	* ld/Makefile.in: Regenerate.
	* ld/configure.in: AC_SUBST datarootdir, docdir, htmldir.
	* ld/configure: Regenerate.
	* ld/po/Make-in: Add install-html target.
	* intl/Makefile.in: Add html info and dvi and install-html to .PHONY
	Add install-html target.
	* gprof/po/Make-in: Add install-html target.
	* gprof/Makefile.am: Add install-html, install-html-am and
	install-html-recursive targets.
	* gprof/Makefile.in: Regenerate.
	* gprof/configure.in: AC_SUBST datarootdir, docdir, htmldir.
	* gprof/configure: Regenerate.
	* gas/po/Make-in: Add install-html target.
	* gas/Makefile.am: Add install-html and install-html-recursive targets.
	* gas/Makefile.in: Regenerate.
	* gas/configure.in: AC_SUBST datarootdir, docdir, htmldir.
	* gas/configure: Regenerate.
	* gas/doc/Makefile.am: Add install-html and install-html-am targets.
	* gas/doc/Makefile.in: Regenerate.
	* binutils/po/Make-in: Add install-html target.
	* binutils/Makefile.am: Add install-html and install-html-recursive targets.
	* binutils/Makefile.in: Regenerate.
	* binutils/configure.in: AC_SUBST datarootdir, docdir and htmldir.
	* binutils/configure: Regenerate.
	* binutils/doc/Makefile.am: Add install-html and install-html-am targets.
	* binutils/doc/Makefile.in: Regenerate.
	* bfd/po/Make-in: Add install-html target.
	* bfd/Makefile.am: Rename docdir to bfddocdir. Add datarootdir, docdir
	htmldir. Add install-html and install-html-recursive targets.
	* bfd/Makefile.in: Regenerate.
	* bfd/configure.in: AC_SUBST for datarootdir, docdir and htmldir.
	* bfd/configure: Regenerate.
	* bfd/doc/Makefile.am: Add install-html and install-html-am targets.
	Define datarootdir, docdir and htmldir.
	* bfd/doc/Makefile.in: Regenerate.
	* etc/Makefile.in: Add install-html target. Add htmldir,
	docdir and datarootdir.
	* etc/configure.texi: Document install-html target.
	* etc/configure.in: AC_SUBST datarootdir, docdir, htmldir.
	* etc/configure: Regenerate.
@
text
@a46 5
dnl Required by html and install-html
AC_SUBST(datarootdir)
AC_SUBST(docdir)
AC_SUBST(htmldir)

@


1.27.2.2
log
@	bfd/
	* Makefile.am: (VERSUFFIX_s): New. Pass it to compiler
	via -D.
	* Makefile.in: Regenerated.
	* configure: Regenerated.
	* configure.in: Add --with-versuffix option.
	* version.h: Add BFD_VERSION_SUFFIX, use it
	in BFD_VERSION_STRING.

	binutils/
	* Makefile.am: (REPORT_BUGS_TO_s): New. Pass it to compiler
	via -D.
	* Makefile.in: Regenerated.
	* configure: Regenerated.
	* configure.in: Add --with-bugurl option.

	gas/
	* Makefile.am: (REPORT_BUGS_TO_s): New. Pass it to compiler
	via -D.
	* Makefile.in: Regenerated.
	* configure: Regenerated.
	* configure.in: Add --with-bugurl option.

	gprof/
	* Makefile.am: (VERSUFFIX_s, REPORT_BUGS_TO_s): New. Pass
	them to compiler via -D.
	* Makefile.in: Regenerated.
	* configure: Regenerated.
	* configure.in: Add --with-versuffix and --with-bugurl option.
	* gprof.c: Print version suffix.

	ld/
	* Makefile.am: (REPORT_BUGS_TO_s): New. Pass it to compiler
	via -D.
	* Makefile.in: Regenerated.
	* configure: Regenerated.
	* configure.in: Add --with-bugurl option.
@
text
@a15 28
# The trailing component of the string reported as the version number
# by gdb. For an official FSF release, it is empty.
AC_ARG_WITH(versuffix,
  AS_HELP_STRING([--with-versuffix=SFX],
                 [Append SFX to the version string]),
  [case "$withval" in
    yes) AC_MSG_ERROR([version suffix not specified]) ;;
    no)  VERSUFFIX=" (CodeSourcery Unofficial)" ;;
    *)   VERSUFFIX=" ($withval)" ;;
   esac],
  VERSUFFIX=
)
AC_SUBST(VERSUFFIX)   


# The location to which bugs should be reported.
AC_ARG_WITH(bugurl,
  AS_HELP_STRING([--with-bugurl=URL],
                 [Direct users to URL to report a bug]),
  [case "$withval" in
    yes) AC_MSG_ERROR([bug URL not specified]) ;;
    no)  REPORT_BUGS_TO="" ;;
    *)   REPORT_BUGS_TO="<URL:$withval>" ;;
   esac],
   REPORT_BUGS_TO=""
)
AC_SUBST(REPORT_BUGS_TO)

@


1.27.2.3
log
@	bfd/
	* Makefile.am (VERSUFFIX_s): Remove.
	(bfdver.h): Replace bfd_version_suffix with bfd_version_package.
	* configure.in: Replace --with-versuffix with --with-pkgversion.
	* version.h: Remove BFD_VERSION_SUFFIX. Update BFD_VERSION_STRING.
	* Makefile.in: Rebuilt.
	* configure: Rebuilt.

	binutils/
	* Makefile.am (REPORT_BUGS_TO_s): Replace with ...
	(REPORT_BUGS_TO): ... this.
	(INCLUDES): Update.
	* Makefile.in: Rebuilt.

	gas/
	* Makefile.am (REPORT_BUGS_TO_s): Replace with ...
	(REPORT_BUGS_TO): ... this.
	(INCLUDES, DEP_INCLUDES): Update.
	* Makefile.in: Rebuilt.

	gprof/
	* Makefile.am (REPORT_BUGS_TO_s): Replace with ...
	(REPORT_BUGS_TO): ... this.
	(VERSUFFIX_s): Remove.
	(INCLUDES): Update.
	* configure.in: Replace --with-versuffix with --with-pkgversion.
	* gprof.c (main): Update version printing.
	* Makefile.in: Rebuilt.
	* configure: Rebuilt.

	ld/
	* Makefile.am (REPORT_BUGS_TO_s): Replace with ...
	(REPORT_BUGS_TO): ... this.
	(INCLUDES): Update.
	* Makefile.in: Rebuilt.
@
text
@d16 5
a20 4
# Package version.  For an official FSF release, it is empty.
AC_ARG_WITH(pkgversion,
  AS_HELP_STRING([--with-pkgversion=PKG],
                 [Add PKG to the version string]),
d22 3
a24 3
    yes) AC_MSG_ERROR([package version not specified]) ;;
    no)  PKGVERSION= ;;
    *)   PKGVERSION="($withval) " ;;
d26 1
a26 1
  PKGVERSION=
d28 2
a29 1
AC_SUBST(PKGVERSION)
@


1.27.2.4
log
@	binutils/
	* Makefile.am: Rebuild dependencies.
	(REPORT_BUGS_TO): Always defined.
	(INCLUDES): Adjust.
	* Makefile.in: Rebuilt.
	* configure.in (REPORT_BUGS_TO): Provide default value.
	* configure: Rebuilt.
	* bucomm.h: Remove bin-bugs.h.
	* addr2line.c (usage): Don't print empty REPORT_BUGS_TO.
	* coffdump.c (show_usage): Likewise.
	* cxxfilt.c (usage): Likewise.
	* nlmconv.c (show_usage): Likewise.
	* nm.c (usage): Likewise.
	* objcopy.c (copy_usage, strip_usage): Likewise.
	* objdump.c (usage): Likewise.
	* size.c (usage): Likewise.
	* srconv.c (show_usage): Likewise.
	* string.c (usage): Likewise.
	* sysdymp.c (show_usage): Likewise.
	* windres.c (usage): Likewise.
	* readelf (usage): Likewise. Add STREAM argument.  Adjust callers.

	gas/
	* Makefile.am: Rebuild dependencies.
	(REPORT_BUGS_TO): Always defined.
	(INCLUDES): Adjust.
	* Makefile.in: Rebuilt.
	* configure.in (REPORT_BUGS_TO): Provide default value.
	* configure: Rebuilt.
	* as.c (show_usage): Don't print empty REPORT_BUGS_TO.
	* as.h: Remove bin-bugs.h.

	ld/
	* Makefile.am: Rebuild dependencies.
	(REPORT_BUGS_TO): Always defined.
	(INCLUDES): Adjust.
	* Makefile.in: Rebuilt.
	* configure.in (REPORT_BUGS_TO): Provide default value.
	* configure: Rebuilt.
	* ld.h: Remove bin-bugs.h
	* lexsup.c (help):  Don't print empty REPORT_BUGS_TO.

	gprof/
	* Makefile.am: Rebuild dependencies.
	(REPORT_BUGS_TO): Always defined.
	(PKGVERSION): Define.
	(INCLUDES): Adjust.
	* Makefile.in: Rebuilt.
	* configure.in (REPORT_BUGS_TO): Provide default value.
	* configure: Rebuilt.
	* gprof.c (usage): Don't print empty REPORT_BUGS_TO.
	* gprof.h: Remove bin-bugs.h

	include/
	* bin-bugs.h: Remove.
@
text
@d38 1
a38 1
   REPORT_BUGS_TO="<URL:http://www.sourceware.org/bugzilla/>"
@


1.26
log
@bfd/
	* Makefile.am (NO_WERROR): Define.
	* warning.m4: New file
	* acinclude.m4: Include warning.m4.
	* configure.in: Invoke AM_BINUTILS_WARNINGS.
	* Makefile.in: Regenerate.
	* configure: Regenerate.
bfd/doc/
	* Makefile.in: Regenerate.
binutils/
	* Makefile.am (NO_WERROR): Define.  Use instead of -Wno-error.
	* configure.in: Include ../bfd/warning.m4 contents.
	* Makefile.in: Regenerate.
	* configure: Regenerate.
	* doc/Makefile.in: Regenerate.
gas/
	* Makefile.am (NO_WERROR): Define.  Use instead of -Wno-error.
	* acinclude.m4: Include ../bfd/warning.m4.
	* configure.in: Invoke AM_BINUTILS_WARNINGS.
	* Makefile.in: Regenerate.
	* configure: Regenerate.
	* doc/Makefile.in: Regenerate.
gprof/
	* Makefile.am (NO_WERROR): Define.
	* acinclude.m4: Include ../bfd/warning.m4.
	* configure.in: Invoke AM_BINUTILS_WARNINGS.
	* Makefile.in: Regenerate.
	* aclocal.m4: Regenerate.
	* configure: Regenerate.
ld/
	* Makefile.am (NO_WERROR): Define.  Use instead of -Wno-error.
	* configure.in: Include ../bfd/warning.m4 contents.
	* Makefile.in: Regenerate.
	* configure: Regenerate.
opcodes/
	* Makefile.am (NO_WERROR): Define.
	* configure.in: Invoke AM_BINUTILS_WARNINGS.
	* Makefile.in: Regenerate.
	* aclocal.m4: Regenerate.
	* configure: Regenerate.
@
text
@d27 1
a27 1
ALL_LINGUAS="fr tr sv es id da pt_BR de vi rw"
@


1.25
log
@po/rw.po: New translation: Kinyarwanda
configure.in (ALL_LINGUAS): Add rw
@
text
@d45 1
a45 36
build_warnings="-W -Wall -Wstrict-prototypes -Wmissing-prototypes"

AC_ARG_ENABLE(werror,
  [  --enable-werror    treat compile warnings as errors],
  [case "${enableval}" in
     yes | y) ERROR_ON_WARNING="yes" ;;
     no | n)  ERROR_ON_WARNING="no" ;;
     *) AC_MSG_ERROR(bad value ${enableval} for --enable-werror) ;;
   esac])

# Enable -Werror by default, suppressing it only for --disable-werror
# or --disable-build-warnings.
if test "${ERROR_ON_WARNING}" != no
then
  build_warnings="$build_warnings -Werror"
fi

AC_ARG_ENABLE(build-warnings,
[  --enable-build-warnings Enable build-time compiler warnings if gcc is used],
[case "${enableval}" in
  yes)	;;
  no)	build_warnings="-w";;
  ,*)   t=`echo "${enableval}" | sed -e "s/,/ /g"`
        build_warnings="${build_warnings} ${t}";;
  *,)   t=`echo "${enableval}" | sed -e "s/,/ /g"`
        build_warnings="${t} ${build_warnings}";;
  *)    build_warnings=`echo "${enableval}" | sed -e "s/,/ /g"`;;
esac
if test x"$silent" != x"yes" && test x"$build_warnings" != x""; then
  echo "Setting warning flags = $build_warnings" 6>&1
fi])dnl
WARN_CFLAGS=""
if test "x${build_warnings}" != x -a "x$GCC" = xyes ; then
    WARN_CFLAGS="${build_warnings}"
fi
AC_SUBST(WARN_CFLAGS)
@


1.24
log
@Add a check for <unistd.h> providing a prototype for getopt() which is compatible
with the one in	include/getopt.h.  If so then define HAVE_DECL_GETOPT.
@
text
@d27 1
a27 1
ALL_LINGUAS="fr tr sv es id da pt_BR de vi"
@


1.23
log
@Rename switch to enable/disable -Werror to --enable-werror/--disable-werror
for compatibility with gcc.
@
text
@d35 10
@


1.22
log
@Enable -Werror by default
@
text
@d37 2
a38 2
AC_ARG_ENABLE(error-on-warning,
  [  --enable-error-on-warning    treat compile warnings as errors],
d42 1
a42 1
     *) AC_MSG_ERROR(bad value ${enableval} for --enable-error-on-warning) ;;
d45 1
a45 1
# Enable -Werror by default, suppressing it only for --disable-error-on-warning
d51 1
a51 1
		   
@


1.21
log
@Add Vietnamese translation.
@
text
@d36 16
@


1.20
log
@	* configure.in: Run through autoupdate.
	* configure: Regenerate with autoconf 2.59.
	* Makefile.am (install-local): Rename from this ..
	(install-data-local): .. to this.
	* Makefile.in: Regenerate with automake 1.8.5.
	* aclocal.m4: Regenerate with aclocal 1.8.5.
@
text
@d27 1
a27 1
ALL_LINGUAS="fr tr sv es id da pt_BR de"
@


1.19
log
@Add German translation
@
text
@d2 3
a4 2
AC_PREREQ(2.13)
AC_INIT(gprof.c)
d6 1
a6 1
AC_CANONICAL_SYSTEM
d20 1
a20 1
AM_CONFIG_HEADER(gconfig.h:gconfig.in)
d56 3
a58 2
AC_OUTPUT(Makefile po/Makefile.in:po/Make-in,
[sed -e '/POTFILES =/r po/POTFILES' po/Makefile.in > po/Makefile])
@


1.18
log
@Add Brazillian Portugese translation.
@
text
@d26 1
a26 1
ALL_LINGUAS="fr tr sv es id da pt_BR"
@


1.17
log
@Add new/updated Danish translations
@
text
@d26 1
a26 1
ALL_LINGUAS="fr tr sv es id da"
@


1.16
log
@update translations.
@
text
@d26 1
a26 1
ALL_LINGUAS="fr tr sv es id"
@


1.15
log
@	* configure.in (build_warnings): Add -Wstrict-prototypes
	-Wmissing-prototypes.
	* aclocal.m4: Regenerate.
	* gconfig.in: Regenerate.
	* configure: Regenerate.
	* Makefile.am: Run "make dep-am".
	* Makefile.in: Regenerate.
@
text
@d26 1
a26 1
ALL_LINGUAS="fr tr sv es"
@


1.15.4.1
log
@Update transaltions.
@
text
@d26 1
a26 1
ALL_LINGUAS="fr tr sv es id"
@


1.15.4.2
log
@Merge fixes from trunk.
@
text
@d26 1
a26 1
ALL_LINGUAS="fr tr sv es id da pt_BR"
@


1.14
log
@Deal with target architecture that have a pointer size that is different from
the host architectures pointer size.
@
text
@d34 1
a34 1
build_warnings="-W -Wall"
@


1.13
log
@Add spanish translation files
@
text
@a33 25
AC_MSG_CHECKING(the size of gmon pointers)
AC_TRY_RUN([#include <stdio.h>
#include <stdlib.h>
#if HAVE_SYS_GMON_OUT_H
#include <sys/gmon_out.h>
#endif
main()
{
#if HAVE_SYS_GMON_OUT_H
  struct gmon_cg_arc_record arc;
  FILE *f=fopen("conftestval", "w");
  if (!f) exit(1);
  fprintf(f, "%d\n", sizeof(arc.from_pc));
  exit(0);
#else
  FILE *f=fopen("conftestval", "w");
  if (!f) exit(1);
  fprintf(f, "%d\n", (int) sizeof(char *));
  exit(1);
#endif
}], gmon_ptr_size=`cat conftestval`, gmon_ptr_size=4, gmon_ptr_size=4)
AC_MSG_RESULT($gmon_ptr_size)

AC_DEFINE_UNQUOTED(GMON_PTR_SIZE, $gmon_ptr_size)

@


1.12
log
@Import Swedish translation
@
text
@d26 1
a26 1
ALL_LINGUAS="fr tr sv"
@


1.11
log
@Import new turkish translations from Translation Project's website.
@
text
@d26 1
a26 1
ALL_LINGUAS="fr tr"
@


1.10
log
@Add translations
@
text
@d26 1
a26 1
ALL_LINGUAS="fr"
@


1.9
log
@David Mosberger's fixes for cross compiling gprof.
@
text
@d26 1
a26 1
ALL_LINGUAS=
@


1.8
log
@Bump version to 2.11.90, fix missing dependencies in bfd/,
and run "make dep-am".
@
text
@d32 27
@


1.7
log
@2000-09-07  H.J. Lu  <hjl@@gnu.org>

	* configure.in (AC_ISC_POSIX): Put after AC_CANONICAL_SYSTEM.
	* configure: Rebuild.
@
text
@d8 4
a11 1
AM_INIT_AUTOMAKE(gprof, 2.10.91)
@


1.7.2.1
log
@Update version numbers.
@
text
@d8 1
a8 1
AM_INIT_AUTOMAKE(gprof, 2.11)
@


1.7.2.2
log
@2001-06-10  Philip Blundell  <philb@@gnu.org>

	* configure.in: Set version to 2.11.1.
	* configure: Regenerate.
@
text
@d8 1
a8 1
AM_INIT_AUTOMAKE(gprof, 2.11.1)
@


1.7.2.3
log
@Merge from mainline.
@
text
@d8 1
a8 4
changequote(,)dnl
BFD_VERSION=`sed -n -e 's/^.._INIT_AUTOMAKE.*,[ 	]*\([^ 	]*\)[ 	]*).*/\1/p' < ${srcdir}/../bfd/configure.in`
changequote([,])dnl
AM_INIT_AUTOMAKE(gprof, ${BFD_VERSION})
a27 27

AC_CHECK_HEADERS(sys/gmon_out.h)

AC_MSG_CHECKING(the size of gmon pointers)
AC_TRY_RUN([#include <stdio.h>
#include <stdlib.h>
#if HAVE_SYS_GMON_OUT_H
#include <sys/gmon_out.h>
#endif
main()
{
#if HAVE_SYS_GMON_OUT_H
  struct gmon_cg_arc_record arc;
  FILE *f=fopen("conftestval", "w");
  if (!f) exit(1);
  fprintf(f, "%d\n", sizeof(arc.from_pc));
  exit(0);
#else
  FILE *f=fopen("conftestval", "w");
  if (!f) exit(1);
  fprintf(f, "%d\n", (int) sizeof(char *));
  exit(1);
#endif
}], gmon_ptr_size=`cat conftestval`, gmon_ptr_size=4, gmon_ptr_size=4)
AC_MSG_RESULT($gmon_ptr_size)

AC_DEFINE_UNQUOTED(GMON_PTR_SIZE, $gmon_ptr_size)
@


1.6
log
@Increase minor version number (to 2.10.91) to help tools detect the new
ability to support removal of duplciate DWARF@@ debug information.
@
text
@d6 1
a20 1
AC_ISC_POSIX
@


1.5
log
@* configure.in (VERSION): Update to show this is the CVS mainline.

Approved by:	Nick Clifton <nickc@@cygnus.com>
		Message-Id: <200005222205.PAA14565@@elmo.cygnus.com>
@
text
@d7 1
a7 1
AM_INIT_AUTOMAKE(gprof, 2.10.90)
@


1.4
log
@Eli Zaretskii's DOSish file name patches.
@
text
@d7 1
a7 1
AM_INIT_AUTOMAKE(gprof, 2.9.5)
@


1.3
log
@Remove ``-W -Wall'' from top-level Makefile/configure.
Add ``-W -Wall'' to sub-directories bfd, binutils, gas gprof, ld and
opcodes by the addition of WARN_CFLAGS to Makefile.am and configury to
set it.  Add configure option --enable-build-warnings.
Re-generate all and sundry using auto*-000227.
@
text
@d21 1
@


1.2
log
@	* configure.in: Bump version number to 2.9.5.
	* configure: Rebuild.
@
text
@d28 21
@


1.2.2.1
log
@2000-05-23  Philip Blundell  <pb@@futuretv.com>

	* configure.in: Set version to 2.10.
	* configure: Regenerate.
@
text
@d7 1
a7 1
AM_INIT_AUTOMAKE(gprof, 2.10)
@


1.2.2.2
log
@Eli Zaretskii's DOSish file name patches.
@
text
@a20 1
AC_CHECK_FUNCS(setmode)
@


1.2.2.3
log
@Update version numbers.
@
text
@d7 1
a7 1
AM_INIT_AUTOMAKE(gprof, 2.10.1)
@


1.1
log
@Initial revision
@
text
@d7 1
a7 1
AM_INIT_AUTOMAKE(gprof, 2.9.4)
@


1.1.1.1
log
@19990502 sourceware import
@
text
@@

