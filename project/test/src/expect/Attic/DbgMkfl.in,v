head	1.2;
access;
symbols
	msnyder-tracepoint-checkpoint-branch:1.1.1.1.0.58
	msnyder-tracepoint-checkpoint-branchpoint:1.1.1.1
	ezannoni_pie-20040323-branch:1.1.1.1.0.56
	ezannoni_pie-20040323-branchpoint:1.1.1.1
	cagney_tramp-20040321-mergepoint:1.1.1.1
	gdb_6_1-branch:1.1.1.1.0.54
	gdb_6_1-2004-03-01-gmt-branchpoint:1.1.1.1
	drow-cplus-merge-20040208:1.1.1.1
	carlton_dictionary-20040126-merge:1.1.1.1
	drow-cplus-merge-20040113:1.1.1.1
	drow-cplus-merge-20031224:1.1.1.1
	drow-cplus-merge-20031220:1.1.1.1
	carlton_dictionary-20031215-merge:1.1.1.1
	drow-cplus-merge-20031214:1.1.1.1
	carlton-dictionary-20031111-merge:1.1.1.1
	carlton_dictionary-20030917-merge:1.1.1.1
	ezannoni_pie-20030916-branchpoint:1.1.1.1
	ezannoni_pie-20030916-branch:1.1.1.1.0.52
	cagney_x86i386-20030821-branch:1.1.1.1.0.50
	cagney_x86i386-20030821-branchpoint:1.1.1.1
	carlton_dictionary-20030805-merge:1.1.1.1
	carlton_dictionary-20030627-merge:1.1.1.1
	gdb_6_0-branch:1.1.1.1.0.48
	gdb_6_0-2003-06-23-branchpoint:1.1.1.1
	cagney_convert-20030606-branch:1.1.1.1.0.46
	cagney_convert-20030606-branchpoint:1.1.1.1
	cagney_writestrings-20030508-branch:1.1.1.1.0.44
	cagney_writestrings-20030508-branchpoint:1.1.1.1
	carlton_dictionary-20030523-merge:1.1.1.1
	cagney_fileio-20030521-branch:1.1.1.1.0.42
	cagney_fileio-20030521-branchpoint:1.1.1.1
	carlton_dictionary-20030430-merge:1.1.1.1
	carlton_dictionary-20030416-merge:1.1.1.1
	cagney_frameaddr-20030409-mergepoint:1.1.1.1
	cagney_frameaddr-20030403-branchpoint:1.1.1.1
	cagney_frameaddr-20030403-branch:1.1.1.1.0.40
	cagney_framebase-20030330-mergepoint:1.1.1.1
	cagney_framebase-20030326-branch:1.1.1.1.0.38
	cagney_framebase-20030326-branchpoint:1.1.1.1
	cagney_lazyid-20030317-branch:1.1.1.1.0.36
	cagney_lazyid-20030317-branchpoint:1.1.1.1
	offbyone-20030313-branch:1.1.1.1.0.34
	offbyone-20030313-branchpoint:1.1.1.1
	carlton_dictionary-20030305-merge:1.1.1.1
	cagney_offbyone-20030303-branch:1.1.1.1.0.32
	cagney_offbyone-20030303-branchpoint:1.1.1.1
	carlton_dictionary-20030207-merge:1.1.1.1
	interps-20030202-branch:1.1.1.1.0.30
	interps-20030202-branchpoint:1.1.1.1
	cagney-unwind-20030108-branch:1.1.1.1.0.28
	cagney-unwind-20030108-branchpoint:1.1.1.1
	carlton_dictionary-20021223-merge:1.1.1.1
	carlton_dictionary-20021115-merge:1.1.1.1
	kseitz_interps-20021105-merge:1.1.1.1
	kseitz_interps-20021103-merge:1.1.1.1
	drow-cplus-merge-20021020:1.1.1.1
	drow-cplus-merge-20021025:1.1.1.1
	carlton_dictionary-20021025-merge:1.1.1.1
	carlton_dictionary-20021011-merge:1.1.1.1
	drow-cplus-branch:1.1.1.1.0.26
	drow-cplus-branchpoint:1.1.1.1
	kseitz_interps-20020930-merge:1.1.1.1
	carlton_dictionary-20020927-merge:1.1.1.1
	carlton_dictionary-branch:1.1.1.1.0.24
	carlton_dictionary-20020920-branchpoint:1.1.1.1
	sid-20020905-branchpoint:1.1.1.1
	sid-20020905-branch:1.1.1.1.0.22
	gdb_5_3-branch:1.1.1.1.0.20
	gdb_5_3-2002-09-04-branchpoint:1.1.1.1
	kseitz_interps-20020829-merge:1.1.1.1
	cagney_sysregs-20020825-branch:1.1.1.1.0.18
	cagney_sysregs-20020825-branchpoint:1.1.1.1
	readline_4_3-import-branch:1.1.1.1.0.16
	readline_4_3-import-branchpoint:1.1.1.1
	kseitz_interps-20020528-branch:1.1.1.1.0.14
	kseitz_interps-20020528-branchpoint:1.1.1.1
	cagney_regbuf-20020515-branch:1.1.1.1.0.12
	cagney_regbuf-20020515-branchpoint:1.1.1.1
	gdb_5_2-branch:1.1.1.1.0.10
	gdb_5_2-2002-03-03-branchpoint:1.1.1.1
	cygnus_cvs_20020108_pre:1.1.1.1
	gdb_5_1_0_1-2002-01-03-branch:1.1.1.1.0.8
	gdb_5_1_0_1-2002-01-03-branchpoint:1.1.1.1
	gdb_5_1-2001-11-21-release:1.1.1.1
	gdb_s390-2001-09-26-branch:1.1.1.1.0.6
	gdb_s390-2001-09-26-branchpoint:1.1.1.1
	gdb_5_1-2001-07-29-branch:1.1.1.1.0.4
	gdb_5_1-2001-07-29-branchpoint:1.1.1.1
	gdb_5_0-2000-05-19-release:1.1.1.1
	gdb_4_18_2-2000-05-18-release:1.1.1.1
	gdb_4_95_1-2000-05-11-snapshot:1.1.1.1
	gdb_4_95_0-2000-04-27-snapshot:1.1.1.1
	gdb_5_0-2000-04-10-branch:1.1.1.1.0.2
	gdb_5_0-2000-04-10-branchpoint:1.1.1.1
	repo-unification-2000-02-06:1.1.1.1
	dejagnu-2000-02-04:1.1.1.1
	dejagnu-2000-01-31:1.1.1.1
	dejagnu-2000-01-24:1.1.1.1
	dejagnu-2000-01-17:1.1.1.1
	dejagnu-2000-01-10:1.1.1.1
	dejagnu-2000-01-04:1.1.1.1
	dejagnu-1999-12-21:1.1.1.1
	dejagnu-1999-12-13:1.1.1.1
	dejagnu-1999-12-07:1.1.1.1
	dejagnu-1999-12-06:1.1.1.1
	dejagnu-1999-11-15:1.1.1.1
	dejagnu-1999-11-08:1.1.1.1
	SNAPSHOT:1.1.1;
locks; strict;
comment	@# @;
expand	@o@;


1.2
date	2005.06.28.05.02.28;	author bje;	state dead;
branches;
next	1.1;

1.1
date	99.11.09.01.28.42;	author jsm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.11.09.01.28.42;	author jsm;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Remove this old version of Expect.
@
text
@#
# Makefile for tcl debugger
#

VERSION = \"@@DBG_VERSION_FULL@@\"
SHORT_VERSION = @@DBG_VERSION@@

# Compatible with Tcl version 7.5
# Compatible with Tk version 4.1

srcdir 	= @@srcdir@@
VPATH = @@srcdir@@

######################################################################
# The following lines are things you are likely to want to change
######################################################################

# Tcl include files.  (If you haven't installed Tcl yet, read the README file).
# This must point to the directory that contains ALL of Tcl's include
# files, not just the public ones.
TCLHDIR = @@TCLHDIRDASHI@@

# flags to pass to cc
# You should be able to leave this just the way it is.  However, here are some
# note if you run into problems:
#
# Avoid -O (optimize) unless you are convinced your optimizer is flawless
# (hint: not a chance).  I have heard many reports of -O causing Expect to
# misbehave.
# I encourage you to use -g (debugging).  While it is unlikely you will
# encounter an internal error in Expect, should this happen, I may just need
# the -g information and then you will need to recompile Expect.  As an aside,
# Expect is not a space or time pig, so this won't affect the performance of
# your Expect scripts.
# Note: On Linux systems which only have dynamic X libraries, the -g prevents
# the linker from using them.  So do not use -g on such systems.
CFLAGS = @@DBG_CFLAGS@@ @@DBG_SHLIB_CFLAGS@@

# which C compiler to use
CC = @@CC@@

# By default, `make install' will install the appropriate files in
# /usr/local/bin, /usr/local/lib, /usr/local/man, etc.  You can specify
# an installation prefix other than /usr/local here:
prefix = @@prefix@@

# You can specify a separate installation prefix for architecture-specific
# files such as binaries and libraries.
exec_prefix = @@exec_prefix@@

# If you have ranlib but it should be avoided, change this from "ranlib" #
# to something innocuous like "echo".  Known systems with this problem:
# older SCO boxes.
UNSHARED_RANLIB = @@UNSHARED_RANLIB@@

######################################################################
# End of things you are likely to want to change
######################################################################

libdir 	= $(exec_prefix)/lib
datadir	= $(prefix)/lib

mandir 	= @@mandir@@
man1dir = $(mandir)/man1
includedir = $(prefix)/include

# Where to store utility scripts.  This corresponds to the variable
# "dbg_library".
DBG_SCRIPTDIR	= $(datadir)/dbg

INSTALL = @@INSTALL@@
INSTALL_PROGRAM = @@INSTALL_PROGRAM@@
INSTALL_DATA = @@INSTALL_DATA@@

AR = ar
ARFLAGS = cr

# TCLHDIR includes "-I"
CPPFLAGS =	-I. -I$(srcdir) $(TCLHDIR) \
		-DDBG_VERSION=$(VERSION) \
		-DDBG_SCRIPTDIR=\"$(DBG_SCRIPTDIR)\"

CFLAGS_INT = $(MH_CFLAGS) $(CPPFLAGS) $(CFLAGS)

.c.o:
	$(CC) -c $(CFLAGS_INT) $(HDEFS) $<

CFILES = Dbg.c Dbg_cmd.c
OFILES = Dbg.o Dbg_cmd.o

# libraries (both .a and shared)
DBG_LIB_FILES = @@DBG_LIB_FILES@@
# default Dbg library (shared if possible, otherwise static)
DBG_LIB_FILE = @@DBG_LIB_FILE@@
# Dbg object library (.a)
DBG_UNSHARED_LIB_FILE = @@DBG_UNSHARED_LIB_FILE@@
# Dbg object library (shared, if possible)
DBG_SHARED_LIB_FILE = @@DBG_SHARED_LIB_FILE@@

all: $(DBG_LIB_FILES)

$(DBG_UNSHARED_LIB_FILE): $(OFILES)
	-rm -f $(DBG_UNSHARED_LIB_FILE)
	$(AR) $(ARFLAGS) $(DBG_UNSHARED_LIB_FILE) $(OFILES)
	-$(UNSHARED_RANLIB) $(DBG_UNSHARED_LIB_FILE)

$(DBG_SHARED_LIB_FILE): $(OFILES)
	-rm -f $(DBG_SHARED_LIB_FILE)
	@@TCL_SHLIB_LD@@ -o $(DBG_SHARED_LIB_FILE) $(OFILES)

# Delete all the installed files that the `install' target creates
# (but not the noninstalled files such as `make all' creates)
uninstall:
	-rm -f	$(man1dir)/tcldbg.1 \
		$(libdir)/$(DBG_SHARED_LIB_FILE) \
		$(libdir)/$(DBG_UNSHARED_LIB_FILE) \
		$(includedir)/Dbg.h \
		$(DBG_SCRIPTDIR)/pkgIndex.tcl

install: $(DBG_LIB_FILES)
	${srcdir}/mkinstalldirs $(man1dir) $(libdir) $(includedir) $(DBG_SCRIPTDIR)
	$(INSTALL_DATA) $(srcdir)/tcldbg.man $(man1dir)/tcldbg.1
	if [ -s $(DBG_UNSHARED_LIB_FILE) ] ; then \
	  $(INSTALL_DATA) $(DBG_UNSHARED_LIB_FILE) $(libdir)/$(DBG_UNSHARED_LIB_FILE) ; \
	  $(UNSHARED_RANLIB) $(libdir)/$(DBG_UNSHARED_LIB_FILE) ; \
	fi
	if [ -s $(DBG_SHARED_LIB_FILE) ] ; then \
	  $(INSTALL_DATA) $(DBG_SHARED_LIB_FILE) $(libdir)/$(DBG_SHARED_LIB_FILE) ; \
	fi
	$(INSTALL_DATA) $(srcdir)/Dbg.h $(includedir)
# create utility-script directory
	$(INSTALL_DATA) $(srcdir)/Dbg_lib.tcl $(DBG_SCRIPTDIR)
	$(INSTALL_DATA) $(srcdir)/tclIndex $(DBG_SCRIPTDIR)


###################################
# Targets for Makefile and configure
###################################

Makefile: $(srcdir)/Makefile.in $(host_makefile_frag) config.status
	@@echo "Rebuilding the Makefile..."
	$(SHELL) config.status

configure: $(srcdir)/configure.in $(srcdir)/Makefile.in $(srcdir)/aclocal.m4
	autoconf configure.in > configure
	-@@chmod a+x configure
	-rm -f config.cache
     
config.status: $(srcdir)/configure
	@@echo "Rebuilding config.status..."
	$(SHELL) ./config.status --recheck

################################################
# Various "clean" targets follow GNU conventions
################################################

clean:
	-rm -f *~ *.o core \
		$(DBG_UNSHARED_LIB_FILE) $(DBG_SHARED_LIB_FILE)

# like "clean", but also delete files created by "configure"
distclean: clean
	-rm -f Makefile config.status config.cache config.log Dbg_cf.h

# like "clean", but doesn't delete test utilities or massaged scripts
# because most people don't have to worry about them
mostlyclean:
	-rm -f *~ *.o core \
		$(DBG_UNSHARED_LIB_FILE) $(DBG_SHARED_LIB_FILE)

# delete everything from current directory that can be reconstructed
# except for configure
realclean:	distclean

tclIndex: Dbg_lib.tcl
	expect -c "auto_mkindex . *.tcl;exit"

LINTFLAGS = -h -q -x 

lint:
	lint $(LINTFLAGS) $(CPPFLAGS) $(CFILES) $(TCLLINTLIB) | tee debug.lint

##################################
# Targets for development at NIST
##################################

nist:
	configure --verbose --prefix=/depot/tcl --exec-prefix=/depot/tcl/arch

# report globals that shouldn't be public but are
bad_globals:
	nm $(DBG_UNSHARED_LIB_FILE) | egrep -v " [a-zU] | _Dbg"

# after copying source directory, restablish all links
symlink:
	rm -f aclocal.m4
	ln -s ../expect/aclocal.m4

######################################
# Targets for pushing out releases
######################################

FTPDIR = /proj/itl/www/div826/subject/expect/tcl-debug

ftp:	tcl-debug-$(SHORT_VERSION).tar.Z tcl-debug-$(SHORT_VERSION).tar.gz
	cp tcl-debug-$(SHORT_VERSION).tar.Z $(FTPDIR)/tcl-debug.tar.Z
	cp tcl-debug-$(SHORT_VERSION).tar.gz $(FTPDIR)/tcl-debug.tar.gz
	cp HISTORY $(FTPDIR)
	cp README $(FTPDIR)/README.distribution
	rm tcl-debug-$(SHORT_VERSION).tar*
	ls -l $(FTPDIR)/tcl-debug.tar*

# make an alpha relase and install it on ftp server
alpha:	tcl-debug-$(SHORT_VERSION).tar.Z tcl-debug-$(SHORT_VERSION).tar.gz
	cp tcl-debug-$(SHORT_VERSION).tar.Z $(FTPDIR)/tcl-debug-alpha.tar.Z
	cp tcl-debug-$(SHORT_VERSION).tar.gz $(FTPDIR)/tcl-debug-alpha.tar.gz
	rm tcl-debug-$(SHORT_VERSION).tar*
	ls -l $(FTPDIR)/tcl-debug-alpha.tar*

tcl-debug-$(SHORT_VERSION).tar:
	rm -f ../tcl-debug-$(SHORT_VERSION)
	ln -s `pwd` ../tcl-debug-$(SHORT_VERSION)
	cd ..;tar cvfh $@@ `pubfile tcl-debug-$(SHORT_VERSION)`
	mv ../$@@ .

tcl-debug-$(SHORT_VERSION).tar.Z:	tcl-debug-$(SHORT_VERSION).tar
	compress -fc tcl-debug-$(SHORT_VERSION).tar > $@@

tcl-debug-$(SHORT_VERSION).tar.gz:	tcl-debug-$(SHORT_VERSION).tar
	gzip -fc tcl-debug-$(SHORT_VERSION).tar > $@@

Dbg.o: $(srcdir)/Dbg.c $(srcdir)/Dbg.h
@


1.1
log
@Initial revision
@
text
@@


1.1.1.1
log
@import dejagnu-1999-11-08 snapshot
@
text
@@
