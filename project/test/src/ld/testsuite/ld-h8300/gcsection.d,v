head	1.2;
access;
symbols
	binutils-2_24-branch:1.2.0.32
	binutils-2_24-branchpoint:1.2
	binutils-2_21_1:1.2
	binutils-2_23_2:1.2
	binutils-2_23_1:1.2
	binutils-2_23:1.2
	binutils-2_23-branch:1.2.0.30
	binutils-2_23-branchpoint:1.2
	binutils-2_22_branch:1.2.0.28
	binutils-2_22:1.2
	binutils-2_22-branch:1.2.0.26
	binutils-2_22-branchpoint:1.2
	binutils-2_21:1.2
	binutils-2_21-branch:1.2.0.24
	binutils-2_21-branchpoint:1.2
	binutils-2_20_1:1.2
	binutils-2_20:1.2
	binutils-arc-20081103-branch:1.2.0.22
	binutils-arc-20081103-branchpoint:1.2
	binutils-2_20-branch:1.2.0.20
	binutils-2_20-branchpoint:1.2
	dje-cgen-play1-branch:1.2.0.18
	dje-cgen-play1-branchpoint:1.2
	arc-20081103-branch:1.2.0.16
	arc-20081103-branchpoint:1.2
	binutils-2_19_1:1.2
	binutils-2_19:1.2
	binutils-2_19-branch:1.2.0.14
	binutils-2_19-branchpoint:1.2
	binutils-2_18:1.2
	binutils-2_18-branch:1.2.0.12
	binutils-2_18-branchpoint:1.2
	binutils-csl-coldfire-4_1-32:1.2
	binutils-csl-sourcerygxx-4_1-32:1.2
	binutils-csl-innovasic-fido-3_4_4-33:1.2
	binutils-csl-sourcerygxx-3_4_4-32:1.2
	binutils-csl-coldfire-4_1-30:1.2
	binutils-csl-sourcerygxx-4_1-30:1.2
	binutils-csl-coldfire-4_1-28:1.2
	binutils-csl-sourcerygxx-4_1-29:1.2
	binutils-csl-sourcerygxx-4_1-28:1.2
	binutils-csl-arm-2006q3-27:1.2
	binutils-csl-sourcerygxx-4_1-27:1.2
	binutils-csl-arm-2006q3-26:1.2
	binutils-csl-sourcerygxx-4_1-26:1.2
	binutils-csl-sourcerygxx-4_1-25:1.2
	binutils-csl-sourcerygxx-4_1-24:1.2
	binutils-csl-sourcerygxx-4_1-23:1.2
	binutils-csl-sourcerygxx-4_1-21:1.2
	binutils-csl-arm-2006q3-21:1.2
	binutils-csl-sourcerygxx-4_1-22:1.2
	binutils-csl-palmsource-arm-prelinker-1_0-1:1.2
	binutils-csl-sourcerygxx-4_1-20:1.2
	binutils-csl-arm-2006q3-19:1.2
	binutils-csl-sourcerygxx-4_1-19:1.2
	binutils-csl-sourcerygxx-4_1-18:1.2
	binutils-csl-renesas-4_1-9:1.2
	binutils-csl-sourcerygxx-3_4_4-25:1.2
	binutils-csl-renesas-4_1-8:1.2
	binutils-csl-renesas-4_1-7:1.2
	binutils-csl-renesas-4_1-6:1.2
	binutils-csl-sourcerygxx-4_1-17:1.2
	binutils-csl-sourcerygxx-4_1-14:1.2
	binutils-csl-sourcerygxx-4_1-15:1.2
	binutils-csl-sourcerygxx-4_1-13:1.2
	binutils-2_17:1.2
	binutils-csl-sourcerygxx-4_1-12:1.2
	binutils-csl-sourcerygxx-3_4_4-21:1.2
	binutils-csl-wrs-linux-3_4_4-24:1.2
	binutils-csl-wrs-linux-3_4_4-23:1.2
	binutils-csl-sourcerygxx-4_1-9:1.2
	binutils-csl-sourcerygxx-4_1-8:1.2
	binutils-csl-sourcerygxx-4_1-7:1.2
	binutils-csl-arm-2006q1-6:1.2
	binutils-csl-sourcerygxx-4_1-6:1.2
	binutils-csl-wrs-linux-3_4_4-22:1.2
	binutils-csl-coldfire-4_1-11:1.2
	binutils-csl-sourcerygxx-3_4_4-19:1.2
	binutils-csl-coldfire-4_1-10:1.2
	binutils-csl-sourcerygxx-4_1-5:1.2
	binutils-csl-sourcerygxx-4_1-4:1.2
	binutils-csl-wrs-linux-3_4_4-21:1.2
	binutils-csl-morpho-4_1-4:1.2
	binutils-csl-sourcerygxx-3_4_4-17:1.2
	binutils-csl-wrs-linux-3_4_4-20:1.2
	binutils-2_17-branch:1.2.0.10
	binutils-2_17-branchpoint:1.2
	binutils-csl-2_17-branch:1.2.0.8
	binutils-csl-2_17-branchpoint:1.2
	binutils-csl-gxxpro-3_4-branch:1.2.0.6
	binutils-csl-gxxpro-3_4-branchpoint:1.2
	binutils-2_16_1:1.2
	binutils-csl-arm-2005q1b:1.2
	binutils-2_16:1.2
	binutils-csl-arm-2005q1a:1.2
	binutils-csl-arm-2005q1-branch:1.2.0.4
	binutils-csl-arm-2005q1-branchpoint:1.2
	binutils-2_16-branch:1.2.0.2
	binutils-2_16-branchpoint:1.2
	csl-arm-2004-q3d:1.2
	csl-arm-2004-q3:1.2
	binutils_latest_snapshot:1.2;
locks; strict;
comment	@# @;


1.2
date	2004.07.27.16.47.01;	author nickc;	state Exp;
branches;
next	1.1;

1.1
date	2004.07.13.16.56.09;	author nickc;	state Exp;
branches;
next	;


desc
@@


1.2
log
@ld-h8300/h8300.exp: Addition of new test case to check relaxation for H8S target.
ld-h8300/relax-6.s: New test source file.
ld-h8300/relax-6.d: New test expected disassembly file.
ld-h8300/relax-6-coff.d: New test expected disassembly file for COFF format.
@
text
@# name: H8300 GCC section test case
# ld: --gc-sections  -m h8300helf
# objdump: -d --no-show-raw-insn
.*:     file format .*-h8300

Disassembly of section .text:

00000100 <_functionWeUse>:
 100:	mov.l	er6,@@-er7
 104:	mov.l	er7,er6
 106:	subs	#4,er7
 108:	mov.w	r0,@@\(0xfffe:16,er6\)
 10c:	mov.w	@@\(0xfffe:16,er6\),r2
 110:	mov.w	r2,r0
 112:	adds	#4,er7
 114:	mov.l	@@er7\+,er6
 118:	rts	

0000011a <_start>:
 11a:	mov.l	er6,@@-er7
 11e:	mov.l	er7,er6
 120:	mov.w	#0x4b,r0
 124:	jsr	@@0x100:24
 128:	mov.w	r0,r2
 12a:	mov.w	r2,r0
 12c:	mov.l	@@er7\+,er6
 130:	rts	
@


1.1
log
@* ld-h8300/h8300.exp: Addition of gcsection test case.
* ld-h8300/gcsection.s: New test source file.
* ld-h8300/gcsection.d: New test expected disassembly file.
@
text
@d9 9
a17 9
 100:	01 00 6d f6       mov.l	er6,@@-er7
 104:	0f f6             mov.l	er7,er6
 106:	1b 97             subs	#4,er7
 108:	6f e0 ff fe       mov.w	r0,@@\(0xfffe:16,er6\)
 10c:	6f 62 ff fe       mov.w	@@\(0xfffe:16,er6\),r2
 110:	0d 20             mov.w	r2,r0
 112:	0b 97             adds	#4,er7
 114:	01 00 6d 76       mov.l	@@er7\+,er6
 118:	54 70             rts	
d20 8
a27 8
 11a:	01 00 6d f6       mov.l	er6,@@-er7
 11e:	0f f6             mov.l	er7,er6
 120:	79 00 00 4b       mov.w	#0x4b,r0
 124:	5e 00 01 00       jsr	@@0x100:24
 128:	0d 02             mov.w	r0,r2
 12a:	0d 20             mov.w	r2,r0
 12c:	01 00 6d 76       mov.l	@@er7\+,er6
 130:	54 70             rts	
@

