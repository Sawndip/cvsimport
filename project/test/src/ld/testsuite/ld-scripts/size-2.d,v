head	1.6;
access;
symbols
	binutils-2_24-branch:1.6.0.2
	binutils-2_24-branchpoint:1.6
	binutils-2_21_1:1.5
	binutils-2_23_2:1.5
	binutils-2_23_1:1.5
	binutils-2_23:1.5
	binutils-2_23-branch:1.5.0.24
	binutils-2_23-branchpoint:1.5
	binutils-2_22_branch:1.5.0.22
	binutils-2_22:1.5
	binutils-2_22-branch:1.5.0.20
	binutils-2_22-branchpoint:1.5
	binutils-2_21:1.5
	binutils-2_21-branch:1.5.0.18
	binutils-2_21-branchpoint:1.5
	binutils-2_20_1:1.5
	binutils-2_20:1.5
	binutils-arc-20081103-branch:1.5.0.16
	binutils-arc-20081103-branchpoint:1.5
	binutils-2_20-branch:1.5.0.14
	binutils-2_20-branchpoint:1.5
	dje-cgen-play1-branch:1.5.0.12
	dje-cgen-play1-branchpoint:1.5
	arc-20081103-branch:1.5.0.10
	arc-20081103-branchpoint:1.5
	binutils-2_19_1:1.5
	binutils-2_19:1.5
	binutils-2_19-branch:1.5.0.8
	binutils-2_19-branchpoint:1.5
	binutils-2_18:1.5
	binutils-2_18-branch:1.5.0.6
	binutils-2_18-branchpoint:1.5
	binutils-csl-coldfire-4_1-32:1.5
	binutils-csl-sourcerygxx-4_1-32:1.5
	binutils-csl-innovasic-fido-3_4_4-33:1.5
	binutils-csl-sourcerygxx-3_4_4-32:1.4
	binutils-csl-coldfire-4_1-30:1.5
	binutils-csl-sourcerygxx-4_1-30:1.5
	binutils-csl-coldfire-4_1-28:1.5
	binutils-csl-sourcerygxx-4_1-29:1.5
	binutils-csl-sourcerygxx-4_1-28:1.5
	binutils-csl-arm-2006q3-27:1.5
	binutils-csl-sourcerygxx-4_1-27:1.5
	binutils-csl-arm-2006q3-26:1.5
	binutils-csl-sourcerygxx-4_1-26:1.5
	binutils-csl-sourcerygxx-4_1-25:1.5
	binutils-csl-sourcerygxx-4_1-24:1.5
	binutils-csl-sourcerygxx-4_1-23:1.5
	binutils-csl-sourcerygxx-4_1-21:1.5
	binutils-csl-arm-2006q3-21:1.5
	binutils-csl-sourcerygxx-4_1-22:1.5
	binutils-csl-palmsource-arm-prelinker-1_0-1:1.5
	binutils-csl-sourcerygxx-4_1-20:1.5
	binutils-csl-arm-2006q3-19:1.5
	binutils-csl-sourcerygxx-4_1-19:1.5
	binutils-csl-sourcerygxx-4_1-18:1.5
	binutils-csl-renesas-4_1-9:1.5
	binutils-csl-sourcerygxx-3_4_4-25:1.4
	binutils-csl-renesas-4_1-8:1.5
	binutils-csl-renesas-4_1-7:1.5
	binutils-csl-renesas-4_1-6:1.5
	binutils-csl-sourcerygxx-4_1-17:1.5
	binutils-csl-sourcerygxx-4_1-14:1.5
	binutils-csl-sourcerygxx-4_1-15:1.5
	binutils-csl-sourcerygxx-4_1-13:1.5
	binutils-2_17:1.5
	binutils-csl-sourcerygxx-4_1-12:1.5
	binutils-csl-sourcerygxx-3_4_4-21:1.5
	binutils-csl-wrs-linux-3_4_4-24:1.4
	binutils-csl-wrs-linux-3_4_4-23:1.4
	binutils-csl-sourcerygxx-4_1-9:1.5
	binutils-csl-sourcerygxx-4_1-8:1.5
	binutils-csl-sourcerygxx-4_1-7:1.5
	binutils-csl-arm-2006q1-6:1.5
	binutils-csl-sourcerygxx-4_1-6:1.5
	binutils-csl-wrs-linux-3_4_4-22:1.4
	binutils-csl-coldfire-4_1-11:1.5
	binutils-csl-sourcerygxx-3_4_4-19:1.5
	binutils-csl-coldfire-4_1-10:1.5
	binutils-csl-sourcerygxx-4_1-5:1.5
	binutils-csl-sourcerygxx-4_1-4:1.5
	binutils-csl-wrs-linux-3_4_4-21:1.4
	binutils-csl-morpho-4_1-4:1.5
	binutils-csl-sourcerygxx-3_4_4-17:1.5
	binutils-csl-wrs-linux-3_4_4-20:1.4
	binutils-2_17-branch:1.5.0.4
	binutils-2_17-branchpoint:1.5
	binutils-csl-2_17-branch:1.5.0.2
	binutils-csl-2_17-branchpoint:1.5
	binutils-csl-gxxpro-3_4-branch:1.4.0.6
	binutils-csl-gxxpro-3_4-branchpoint:1.4
	binutils-2_16_1:1.4
	binutils-csl-arm-2005q1b:1.4
	binutils-2_16:1.4
	binutils-csl-arm-2005q1a:1.4
	binutils-csl-arm-2005q1-branch:1.4.0.4
	binutils-csl-arm-2005q1-branchpoint:1.4
	binutils-2_16-branch:1.4.0.2
	binutils-2_16-branchpoint:1.4
	csl-arm-2004-q3d:1.4
	csl-arm-2004-q3:1.4
	binutils-2_15:1.1.2.2
	csl-arm-2004-q1a:1.3
	csl-arm-2004-q1:1.3
	binutils_latest_snapshot:1.6
	binutils-2_15-branch:1.1.0.2;
locks; strict;
comment	@# @;


1.6
date	2012.12.17.16.56.09;	author nickc;	state Exp;
branches;
next	1.5;

1.5
date	2005.08.18.07.51.07;	author amodra;	state Exp;
branches;
next	1.4;

1.4
date	2004.07.22.16.52.41;	author nickc;	state Exp;
branches;
next	1.3;

1.3
date	2004.04.08.00.51.37;	author amodra;	state Exp;
branches;
next	1.2;

1.2
date	2004.03.05.19.27.34;	author nathan;	state Exp;
branches;
next	1.1;

1.1
date	2004.03.05.11.26.05;	author nathan;	state Exp;
branches
	1.1.2.1;
next	;

1.1.2.1
date	2004.03.05.11.42.01;	author nathan;	state Exp;
branches;
next	1.1.2.2;

1.1.2.2
date	2004.04.08.12.41.56;	author amodra;	state Exp;
branches;
next	;


desc
@@


1.6
log
@Add copyright notices
@
text
@#source: size-2.s
#ld: -T size-2.t
#readelf: -l --wide
#xfail: "hppa64-*-*" "v850*-*-*"

#...
Program Headers:
 +Type +Offset +VirtAddr +PhysAddr +FileSiz +MemSiz +Flg +Align
 +PHDR +0x[0-9a-f]+ 0x0+0000 0x0+0000 0x[0-9a-f]+ 0x[0-9a-f]+ R +0x[0-9a-f]+
#...
 +LOAD +0x[0-9a-f]+ 0x0+0100 0x0+0100 0x0+0030 0x0+0030 R E +0x[0-9a-f]+
 +TLS +0x[0-9a-f]+ 0x0+0108 0x0+0108 0x0+0014 0x0+002c R +0x[0-9a-f]+

 Section to Segment mapping:
 +Segment Sections\.\.\.
 +00 .*
 +01.*\.text.*\.tdata.*
 +02.*\.tdata.*
@


1.5
log
@	* ld-d10v/default_layout.d: Adjust for section removal.
	* ld-elf/empty.s: Define "main".
	* ld-elf/frame.exp: Don't run for hppa64 and v850.
	* ld-elf/group1.d: xfail various targets.
	* ld-elf/merge.d: Likewise.
	* ld-elf/merge2.d: Likewise.
	* ld-elf/warn1.d: Likewise.
	* ld-scripts/defined2.d: Likewise.
	* ld-scripts/defined3.d: Likewise.
	* ld-scripts/empty-aligned.d: Likewise.
	* ld-scripts/size-2.d: Likewise.
	* ld-scripts/weak.exp: Likewise.
	* ld-selective/sel-dump.exp: Likewise.
	* ld-undefined/weak-undef.exp: Likewise.
@
text
@d4 1
a4 1
#xfail: "hppa64-*-*" "v850-*-*"
@


1.4
log
@Fix for PR 280 - remove duplicated raw insn output fron h8300/h8500 disassemblers
@
text
@d4 1
@


1.3
log
@	* ld-scripts/align.exp: Don't run on aix.
	* ld-scripts/assert.s: Remove comment.
	* ld-scripts/data.s: Likewise.
	* ld-scripts/data.t: Set start address to allow for aout headers.
	Make first LONG pc-relative.
	* ld-scripts/data.d: Update.
	* ld-scripts/defined2.d: Allow other random syms.
	* ld-scripts/defined3.d: Likewise.
	* ld-scripts/provide-1.s: Pad section.
	* ld-scripts/provide-1.t: Set .data address and align.
	* ld-scripts/provide-1.d: Update.
	* ld-scripts/provide-2.s: Pad section.
	* ld-scripts/provide-2.d: Allow random trailing syms.
	* ld-scripts/provide-3.s: Pad section.
	* ld-scripts/provide-3.d: Fix typos.
	* ld-scripts/provide.exp: Don't run on aix.
	* ld-scripts/size-1.s: Simplify test.
	* ld-scripts/size-1.t: Rewrite.
	* ld-scripts/size-1.d: Update.
	* ld-scripts/size-2.s: Simplify.
	* ld-scripts/size-2.t: Set start address.  Set exe flag on image.
	* ld-scripts/size-2.d: Update.
	* ld-scripts/size.exp: Don't run on aix.  Run size-2 on all elf
	targets except mips.
@
text
@d16 2
a17 2
 +01 +\.text \.tdata \.map 
 +02 +\.tdata \.tbss \.map 
@


1.2
log
@	* ld-scripts/size-1.d: Add bigendian regexps.
	* ld-scripts/size-2.d: Set --wide for readelf.
@
text
@d7 5
a11 4
  Type           Offset   VirtAddr   PhysAddr   FileSiz MemSiz  Flg Align
  PHDR           0x[0-9a-f]+ 0x0+0000 0x0+0000 0x[0-9a-f]+ 0x[0-9a-f]+ R   0x[0-9a-f]+
  LOAD           0x[0-9a-f]+ 0x0+0000 0x0+0000 0x0+0030 0x0+0030 R   0x[0-9a-f]+
  TLS            0x[0-9a-f]+ 0x0+0008 0x0+0008 0x0+0014 0x0+002c R   0x[0-9a-f]+
d14 4
a17 4
  Segment Sections...
   00     \.text \.tdata \.tbss \.map 
   01     \.text \.tdata \.map 
   02     \.tdata \.tbss \.map 
@


1.1
log
@	* elf.c (map_sections_to_segments): Ignore .tbss sections for
	layout purposes.

	* ldlang.c (lang_add_section): Don't force SEC_LOAD on
	SEC_THREAD_LOCAL.
	(IGNORE_SECTION): Ignore .tbss sections too.
	(lang_size_sections_1): .tbss sections do not advance dot.

	* ld-scripts/size.exp: New.
	* ld-scripts/size-[12].{d,s,t}: New.
@
text
@d3 1
a3 1
#readelf: -l
d7 4
a10 8
  Type           Offset             VirtAddr           PhysAddr
                 FileSiz            MemSiz              Flags  Align
  PHDR           0x[0-9a-f]+ 0x0+0000 0x0+0000
                 0x[0-9a-f]+ 0x[0-9a-f]+  R      .
  LOAD           0x[0-9a-f]+ 0x0+0000 0x0+0000
                 0x0+0030 0x0+0030  R      [0-9a-f]+
  TLS            0x[0-9a-f]+ 0x0+0008 0x0+0008
                 0x0+0014 0x0+002c  R      [0-9a-f]+
@


1.1.2.1
log
@	* elf.c (map_sections_to_segments): Ignore .tbss sections for
	layout purposes.

	* ldlang.c (lang_add_section): Don't force SEC_LOAD on
	SEC_THREAD_LOCAL.
	(IGNORE_SECTION): Ignore .tbss sections too.
	(lang_size_sections_1): .tbss sections do not advance dot.

	* ld-scripts/size.exp: New.
	* ld-scripts/size-[12].{d,s,t}: New.
@
text
@@


1.1.2.2
log
@Merge from mainline
@
text
@d3 1
a3 1
#readelf: -l --wide
d7 8
a14 5
 +Type +Offset +VirtAddr +PhysAddr +FileSiz +MemSiz +Flg +Align
 +PHDR +0x[0-9a-f]+ 0x0+0000 0x0+0000 0x[0-9a-f]+ 0x[0-9a-f]+ R +0x[0-9a-f]+
#...
 +LOAD +0x[0-9a-f]+ 0x0+0100 0x0+0100 0x0+0030 0x0+0030 R E +0x[0-9a-f]+
 +TLS +0x[0-9a-f]+ 0x0+0108 0x0+0108 0x0+0014 0x0+002c R +0x[0-9a-f]+
d17 4
a20 4
 +Segment Sections\.\.\.
 +00 .*
 +01 +\.text \.tdata \.map 
 +02 +\.tdata \.tbss \.map 
@


