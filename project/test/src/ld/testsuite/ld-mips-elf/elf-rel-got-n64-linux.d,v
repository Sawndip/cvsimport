head	1.9;
access;
symbols
	binutils-2_24-branch:1.9.0.2
	binutils-2_24-branchpoint:1.9
	binutils-2_21_1:1.7
	binutils-2_23_2:1.7.8.1
	binutils-2_23_1:1.7.8.1
	binutils-2_23:1.7.8.1
	binutils-2_23-branch:1.7.0.8
	binutils-2_23-branchpoint:1.7
	binutils-2_22_branch:1.7.0.6
	binutils-2_22:1.7
	binutils-2_22-branch:1.7.0.4
	binutils-2_22-branchpoint:1.7
	binutils-2_21:1.7
	binutils-2_21-branch:1.7.0.2
	binutils-2_21-branchpoint:1.7
	binutils-2_20_1:1.5.8.1
	binutils-2_20:1.5.8.1
	binutils-arc-20081103-branch:1.5.0.10
	binutils-arc-20081103-branchpoint:1.5
	binutils-2_20-branch:1.5.0.8
	binutils-2_20-branchpoint:1.5
	dje-cgen-play1-branch:1.5.0.6
	dje-cgen-play1-branchpoint:1.5
	arc-20081103-branch:1.5.0.4
	arc-20081103-branchpoint:1.5
	binutils-2_19_1:1.5
	binutils-2_19:1.5
	binutils-2_19-branch:1.5.0.2
	binutils-2_19-branchpoint:1.5
	binutils-2_18:1.4
	binutils-2_18-branch:1.4.0.2
	binutils-2_18-branchpoint:1.4
	binutils-csl-coldfire-4_1-32:1.3
	binutils-csl-sourcerygxx-4_1-32:1.3
	binutils-csl-innovasic-fido-3_4_4-33:1.3
	binutils-csl-sourcerygxx-3_4_4-32:1.3
	binutils-csl-coldfire-4_1-30:1.3
	binutils-csl-sourcerygxx-4_1-30:1.3
	binutils-csl-coldfire-4_1-28:1.3
	binutils-csl-sourcerygxx-4_1-29:1.3
	binutils-csl-sourcerygxx-4_1-28:1.3
	binutils-csl-arm-2006q3-27:1.3
	binutils-csl-sourcerygxx-4_1-27:1.3
	binutils-csl-arm-2006q3-26:1.3
	binutils-csl-sourcerygxx-4_1-26:1.3
	binutils-csl-sourcerygxx-4_1-25:1.3
	binutils-csl-sourcerygxx-4_1-24:1.3
	binutils-csl-sourcerygxx-4_1-23:1.3
	binutils-csl-sourcerygxx-4_1-21:1.3
	binutils-csl-arm-2006q3-21:1.3
	binutils-csl-sourcerygxx-4_1-22:1.3
	binutils-csl-palmsource-arm-prelinker-1_0-1:1.3
	binutils-csl-sourcerygxx-4_1-20:1.3
	binutils-csl-arm-2006q3-19:1.3
	binutils-csl-sourcerygxx-4_1-19:1.3
	binutils-csl-sourcerygxx-4_1-18:1.3
	binutils-csl-renesas-4_1-9:1.3
	binutils-csl-sourcerygxx-3_4_4-25:1.3
	binutils-csl-renesas-4_1-8:1.3
	binutils-csl-renesas-4_1-7:1.3
	binutils-csl-renesas-4_1-6:1.3
	binutils-csl-sourcerygxx-4_1-17:1.3
	binutils-csl-sourcerygxx-4_1-14:1.3
	binutils-csl-sourcerygxx-4_1-15:1.3
	binutils-csl-sourcerygxx-4_1-13:1.3
	binutils-2_17:1.3
	binutils-csl-sourcerygxx-4_1-12:1.3
	binutils-csl-sourcerygxx-3_4_4-21:1.3
	binutils-csl-wrs-linux-3_4_4-24:1.3
	binutils-csl-wrs-linux-3_4_4-23:1.3
	binutils-csl-sourcerygxx-4_1-9:1.3
	binutils-csl-sourcerygxx-4_1-8:1.3
	binutils-csl-sourcerygxx-4_1-7:1.3
	binutils-csl-arm-2006q1-6:1.3
	binutils-csl-sourcerygxx-4_1-6:1.3
	binutils-csl-wrs-linux-3_4_4-22:1.3
	binutils-csl-coldfire-4_1-11:1.3
	binutils-csl-sourcerygxx-3_4_4-19:1.3
	binutils-csl-coldfire-4_1-10:1.3
	binutils-csl-sourcerygxx-4_1-5:1.3
	binutils-csl-sourcerygxx-4_1-4:1.3
	binutils-csl-wrs-linux-3_4_4-21:1.3
	binutils-csl-morpho-4_1-4:1.3
	binutils-csl-sourcerygxx-3_4_4-17:1.3
	binutils-csl-wrs-linux-3_4_4-20:1.3
	binutils-2_17-branch:1.3.0.10
	binutils-2_17-branchpoint:1.3
	binutils-csl-2_17-branch:1.3.0.8
	binutils-csl-2_17-branchpoint:1.3
	binutils-csl-gxxpro-3_4-branch:1.3.0.6
	binutils-csl-gxxpro-3_4-branchpoint:1.3
	binutils-2_16_1:1.3
	binutils-csl-arm-2005q1b:1.3
	binutils-2_16:1.3
	binutils-csl-arm-2005q1a:1.3
	binutils-csl-arm-2005q1-branch:1.3.0.4
	binutils-csl-arm-2005q1-branchpoint:1.3
	binutils-2_16-branch:1.3.0.2
	binutils-2_16-branchpoint:1.3
	csl-arm-2004-q3d:1.2
	csl-arm-2004-q3:1.2
	binutils-2_15:1.2
	binutils-2_15-branchpoint:1.2
	csl-arm-2004-q1a:1.2
	csl-arm-2004-q1:1.2
	binutils-2_15-branch:1.2.0.2
	cagney_bfdfile-20040213-branch:1.1.0.4
	cagney_bfdfile-20040213-branchpoint:1.1
	cagney_bigcore-20040122-branch:1.1.0.2
	cagney_bigcore-20040122-branchpoint:1.1
	csl-arm-2003-q4:1.1
	binutils_latest_snapshot:1.9;
locks; strict;
comment	@# @;


1.9
date	2012.08.06.21.28.45;	author macro;	state Exp;
branches;
next	1.8;

1.8
date	2012.08.06.21.05.54;	author macro;	state Exp;
branches;
next	1.7;

1.7
date	2010.09.19.10.26.28;	author rsandifo;	state Exp;
branches
	1.7.8.1;
next	1.6;

1.6
date	2009.09.20.11.11.37;	author rsandifo;	state Exp;
branches;
next	1.5;

1.5
date	2008.03.20.10.52.14;	author rsandifo;	state Exp;
branches
	1.5.8.1;
next	1.4;

1.4
date	2006.10.18.07.13.47;	author rsandifo;	state Exp;
branches;
next	1.3;

1.3
date	2005.01.31.22.00.59;	author drow;	state Exp;
branches;
next	1.2;

1.2
date	2004.02.17.10.19.24;	author rsandifo;	state Exp;
branches;
next	1.1;

1.1
date	2003.06.12.17.07.14;	author ths;	state Exp;
branches;
next	;

1.7.8.1
date	2012.09.04.14.38.02;	author gingold;	state Exp;
branches;
next	;

1.5.8.1
date	2009.09.20.11.15.16;	author rsandifo;	state Exp;
branches;
next	;


desc
@@


1.9
log
@	gas/testsuite/
	* gas/mips/mips.exp: Set has_newabi for all Linux targets.
	* gas/mips/cfi-n64-1.d: Adjust for targets that do not infer the
	ISA from the ABI.
	* gas/mips/elf-rel-got-n32.d: Likewise.
	* gas/mips/elf-rel-got-n64.d: Likewise.
	* gas/mips/elf-rel-xgot-n32.d: Likewise.
	* gas/mips/elf-rel-xgot-n64.d: Likewise.
	* gas/mips/elf-rel18.d: Likewise.
	* gas/mips/elf-rel28-n32.d: Likewise.
	* gas/mips/elf-rel28-n64.d: Likewise.
	* gas/mips/jal-newabi.d: Likewise.
	* gas/mips/ldstla-n64-shared.d: Likewise.
	* gas/mips/ldstla-n64-sym32.d: Likewise.
	* gas/mips/ldstla-n64.d: Likewise.
	* gas/mips/macro-warn-1-n32.d: Likewise.
	* gas/mips/macro-warn-2-n32.d: Likewise.
	* gas/mips/n32-consec.d: Likewise.

	ld/testsuite/
	* ld-mips-elf/mips-elf.exp: Set has_newabi for all Linux targets.
	Adjust abi_asflags for targets that do not infer the ISA from the
	ABI.
	* ld-mips-elf/eh-frame1-n32.d: Adjust for targets that do not
	infer the ISA from the ABI.
	* ld-mips-elf/eh-frame1-n64.d: Likewise.
	* ld-mips-elf/eh-frame2-n32.d: Likewise.
	* ld-mips-elf/eh-frame2-n64.d: Likewise.
	* ld-mips-elf/elf-rel-got-n32-embed.d: Likewise.
	* ld-mips-elf/elf-rel-got-n32.d: Likewise.
	* ld-mips-elf/elf-rel-got-n64-embed.d: Likewise.
	* ld-mips-elf/elf-rel-got-n64-linux.d: Likewise.
	* ld-mips-elf/elf-rel-got-n64.d: Likewise.
	* ld-mips-elf/elf-rel-xgot-n32-embed.d: Likewise.
	* ld-mips-elf/elf-rel-xgot-n32.d: Likewise.
	* ld-mips-elf/elf-rel-xgot-n64-embed.d: Likewise.
	* ld-mips-elf/elf-rel-xgot-n64-linux.d: Likewise.
	* ld-mips-elf/elf-rel-xgot-n64.d: Likewise.
	* ld-mips-elf/emit-relocs-1.d: Likewise.
	* ld-mips-elf/got-page-2.d: Likewise.
	* ld-mips-elf/no-shared-1-n32.d: Likewise.
	* ld-mips-elf/no-shared-1-n64.d: Likewise.
	* ld-mips-elf/rel32-n32.d: Likewise.
	* ld-mips-elf/rel64.d: Likewise.
	* ld-mips-elf/relax-jalr-n32-shared.d: Likewise.
	* ld-mips-elf/relax-jalr-n32.d: Likewise.
	* ld-mips-elf/relax-jalr-n64-shared.d: Likewise.
	* ld-mips-elf/relax-jalr-n64.d: Likewise.
	* ld-mips-elf/reloc-1-n32.d: Likewise.
	* ld-mips-elf/reloc-1-n64.d: Likewise.
	* ld-mips-elf/textrel-1.d: Likewise.
@
text
@#name: MIPS ELF got reloc n64
#as: -march=from-abi -EB -64 -KPIC
#source: ../../../gas/testsuite/gas/mips/elf-rel-got-n64.s
#ld:
#objdump: -D --show-raw-insn

.*: +file format elf64-.*mips.*

Disassembly of section \.MIPS\.options:

00000001200000b0 <\.MIPS\.options>:
   1200000b0:	01280000 	.*
   1200000b4:	00000000 	.*
   1200000b8:	92020022 	.*
	\.\.\.
   1200000d0:	00000001 	.*
   1200000d4:	200185d0 	.*
Disassembly of section \.text:

00000001200000e0 <fn>:
   1200000e0:	df858020 	ld	a1,-32736\(gp\)
   1200000e4:	df858020 	ld	a1,-32736\(gp\)
   1200000e8:	64a5000c 	daddiu	a1,a1,12
   1200000ec:	df858020 	ld	a1,-32736\(gp\)
   1200000f0:	3c010001 	lui	at,0x1
   1200000f4:	3421e240 	ori	at,at,0xe240
   1200000f8:	00a1282d 	daddu	a1,a1,at
   1200000fc:	df858020 	ld	a1,-32736\(gp\)
   120000100:	00b1282d 	daddu	a1,a1,s1
   120000104:	df858020 	ld	a1,-32736\(gp\)
   120000108:	64a5000c 	daddiu	a1,a1,12
   12000010c:	00b1282d 	daddu	a1,a1,s1
   120000110:	df858020 	ld	a1,-32736\(gp\)
   120000114:	3c010001 	lui	at,0x1
   120000118:	3421e240 	ori	at,at,0xe240
   12000011c:	00a1282d 	daddu	a1,a1,at
   120000120:	00b1282d 	daddu	a1,a1,s1
   120000124:	df858028 	ld	a1,-32728\(gp\)
   120000128:	dca5052c 	ld	a1,1324\(a1\)
   12000012c:	df858028 	ld	a1,-32728\(gp\)
   120000130:	dca50538 	ld	a1,1336\(a1\)
   120000134:	df858028 	ld	a1,-32728\(gp\)
   120000138:	00b1282d 	daddu	a1,a1,s1
   12000013c:	dca5052c 	ld	a1,1324\(a1\)
   120000140:	df858028 	ld	a1,-32728\(gp\)
   120000144:	00b1282d 	daddu	a1,a1,s1
   120000148:	dca50538 	ld	a1,1336\(a1\)
   12000014c:	df818028 	ld	at,-32728\(gp\)
   120000150:	0025082d 	daddu	at,at,a1
   120000154:	dc25054e 	ld	a1,1358\(at\)
   120000158:	df818028 	ld	at,-32728\(gp\)
   12000015c:	0025082d 	daddu	at,at,a1
   120000160:	fc250564 	sd	a1,1380\(at\)
   120000164:	df818020 	ld	at,-32736\(gp\)
   120000168:	88250000 	lwl	a1,0\(at\)
   12000016c:	98250003 	lwr	a1,3\(at\)
   120000170:	df818020 	ld	at,-32736\(gp\)
   120000174:	6421000c 	daddiu	at,at,12
   120000178:	88250000 	lwl	a1,0\(at\)
   12000017c:	98250003 	lwr	a1,3\(at\)
   120000180:	df818020 	ld	at,-32736\(gp\)
   120000184:	0031082d 	daddu	at,at,s1
   120000188:	88250000 	lwl	a1,0\(at\)
   12000018c:	98250003 	lwr	a1,3\(at\)
   120000190:	df818020 	ld	at,-32736\(gp\)
   120000194:	6421000c 	daddiu	at,at,12
   120000198:	0031082d 	daddu	at,at,s1
   12000019c:	88250000 	lwl	a1,0\(at\)
   1200001a0:	98250003 	lwr	a1,3\(at\)
   1200001a4:	df818020 	ld	at,-32736\(gp\)
   1200001a8:	64210022 	daddiu	at,at,34
   1200001ac:	0025082d 	daddu	at,at,a1
   1200001b0:	88250000 	lwl	a1,0\(at\)
   1200001b4:	98250003 	lwr	a1,3\(at\)
   1200001b8:	df818020 	ld	at,-32736\(gp\)
   1200001bc:	64210038 	daddiu	at,at,56
   1200001c0:	0025082d 	daddu	at,at,a1
   1200001c4:	a8250000 	swl	a1,0\(at\)
   1200001c8:	b8250003 	swr	a1,3\(at\)
   1200001cc:	df858020 	ld	a1,-32736\(gp\)
   1200001d0:	df858030 	ld	a1,-32720\(gp\)
   1200001d4:	df858038 	ld	a1,-32712\(gp\)
   1200001d8:	df858020 	ld	a1,-32736\(gp\)
   1200001dc:	00b1282d 	daddu	a1,a1,s1
   1200001e0:	df858030 	ld	a1,-32720\(gp\)
   1200001e4:	00b1282d 	daddu	a1,a1,s1
   1200001e8:	df858038 	ld	a1,-32712\(gp\)
   1200001ec:	00b1282d 	daddu	a1,a1,s1
   1200001f0:	df858028 	ld	a1,-32728\(gp\)
   1200001f4:	dca5052c 	ld	a1,1324\(a1\)
   1200001f8:	df858028 	ld	a1,-32728\(gp\)
   1200001fc:	dca50538 	ld	a1,1336\(a1\)
   120000200:	df858028 	ld	a1,-32728\(gp\)
   120000204:	00b1282d 	daddu	a1,a1,s1
   120000208:	dca5052c 	ld	a1,1324\(a1\)
   12000020c:	df858028 	ld	a1,-32728\(gp\)
   120000210:	00b1282d 	daddu	a1,a1,s1
   120000214:	dca50538 	ld	a1,1336\(a1\)
   120000218:	df818028 	ld	at,-32728\(gp\)
   12000021c:	0025082d 	daddu	at,at,a1
   120000220:	dc25054e 	ld	a1,1358\(at\)
   120000224:	df818028 	ld	at,-32728\(gp\)
   120000228:	0025082d 	daddu	at,at,a1
   12000022c:	fc250564 	sd	a1,1380\(at\)
   120000230:	df818020 	ld	at,-32736\(gp\)
   120000234:	88250000 	lwl	a1,0\(at\)
   120000238:	98250003 	lwr	a1,3\(at\)
   12000023c:	df818030 	ld	at,-32720\(gp\)
   120000240:	88250000 	lwl	a1,0\(at\)
   120000244:	98250003 	lwr	a1,3\(at\)
   120000248:	df818020 	ld	at,-32736\(gp\)
   12000024c:	0031082d 	daddu	at,at,s1
   120000250:	88250000 	lwl	a1,0\(at\)
   120000254:	98250003 	lwr	a1,3\(at\)
   120000258:	df818030 	ld	at,-32720\(gp\)
   12000025c:	0031082d 	daddu	at,at,s1
   120000260:	88250000 	lwl	a1,0\(at\)
   120000264:	98250003 	lwr	a1,3\(at\)
   120000268:	df818040 	ld	at,-32704\(gp\)
   12000026c:	0025082d 	daddu	at,at,a1
   120000270:	88250000 	lwl	a1,0\(at\)
   120000274:	98250003 	lwr	a1,3\(at\)
   120000278:	df818048 	ld	at,-32696\(gp\)
   12000027c:	0025082d 	daddu	at,at,a1
   120000280:	a8250000 	swl	a1,0\(at\)
   120000284:	b8250003 	swr	a1,3\(at\)
   120000288:	df858050 	ld	a1,-32688\(gp\)
   12000028c:	df858050 	ld	a1,-32688\(gp\)
   120000290:	df998050 	ld	t9,-32688\(gp\)
   120000294:	df998050 	ld	t9,-32688\(gp\)
   120000298:	df998050 	ld	t9,-32688\(gp\)
   12000029c:	0411ff90 	bal	1200000e0 <fn>
   1200002a0:	00000000 	nop
   1200002a4:	df998050 	ld	t9,-32688\(gp\)
   1200002a8:	0411ff8d 	bal	1200000e0 <fn>
   1200002ac:	00000000 	nop
   1200002b0:	df858058 	ld	a1,-32680\(gp\)
   1200002b4:	df858058 	ld	a1,-32680\(gp\)
   1200002b8:	64a5000c 	daddiu	a1,a1,12
   1200002bc:	df858058 	ld	a1,-32680\(gp\)
   1200002c0:	3c010001 	lui	at,0x1
   1200002c4:	3421e240 	ori	at,at,0xe240
   1200002c8:	00a1282d 	daddu	a1,a1,at
   1200002cc:	df858058 	ld	a1,-32680\(gp\)
   1200002d0:	00b1282d 	daddu	a1,a1,s1
   1200002d4:	df858058 	ld	a1,-32680\(gp\)
   1200002d8:	64a5000c 	daddiu	a1,a1,12
   1200002dc:	00b1282d 	daddu	a1,a1,s1
   1200002e0:	df858058 	ld	a1,-32680\(gp\)
   1200002e4:	3c010001 	lui	at,0x1
   1200002e8:	3421e240 	ori	at,at,0xe240
   1200002ec:	00a1282d 	daddu	a1,a1,at
   1200002f0:	00b1282d 	daddu	a1,a1,s1
   1200002f4:	df858028 	ld	a1,-32728\(gp\)
   1200002f8:	dca505a4 	ld	a1,1444\(a1\)
   1200002fc:	df858028 	ld	a1,-32728\(gp\)
   120000300:	dca505b0 	ld	a1,1456\(a1\)
   120000304:	df858028 	ld	a1,-32728\(gp\)
   120000308:	00b1282d 	daddu	a1,a1,s1
   12000030c:	dca505a4 	ld	a1,1444\(a1\)
   120000310:	df858028 	ld	a1,-32728\(gp\)
   120000314:	00b1282d 	daddu	a1,a1,s1
   120000318:	dca505b0 	ld	a1,1456\(a1\)
   12000031c:	df818028 	ld	at,-32728\(gp\)
   120000320:	0025082d 	daddu	at,at,a1
   120000324:	dc2505c6 	ld	a1,1478\(at\)
   120000328:	df818028 	ld	at,-32728\(gp\)
   12000032c:	0025082d 	daddu	at,at,a1
   120000330:	fc2505dc 	sd	a1,1500\(at\)
   120000334:	df818058 	ld	at,-32680\(gp\)
   120000338:	88250000 	lwl	a1,0\(at\)
   12000033c:	98250003 	lwr	a1,3\(at\)
   120000340:	df818058 	ld	at,-32680\(gp\)
   120000344:	6421000c 	daddiu	at,at,12
   120000348:	88250000 	lwl	a1,0\(at\)
   12000034c:	98250003 	lwr	a1,3\(at\)
   120000350:	df818058 	ld	at,-32680\(gp\)
   120000354:	0031082d 	daddu	at,at,s1
   120000358:	88250000 	lwl	a1,0\(at\)
   12000035c:	98250003 	lwr	a1,3\(at\)
   120000360:	df818058 	ld	at,-32680\(gp\)
   120000364:	6421000c 	daddiu	at,at,12
   120000368:	0031082d 	daddu	at,at,s1
   12000036c:	88250000 	lwl	a1,0\(at\)
   120000370:	98250003 	lwr	a1,3\(at\)
   120000374:	df818058 	ld	at,-32680\(gp\)
   120000378:	64210022 	daddiu	at,at,34
   12000037c:	0025082d 	daddu	at,at,a1
   120000380:	88250000 	lwl	a1,0\(at\)
   120000384:	98250003 	lwr	a1,3\(at\)
   120000388:	df818058 	ld	at,-32680\(gp\)
   12000038c:	64210038 	daddiu	at,at,56
   120000390:	0025082d 	daddu	at,at,a1
   120000394:	a8250000 	swl	a1,0\(at\)
   120000398:	b8250003 	swr	a1,3\(at\)
   12000039c:	df858058 	ld	a1,-32680\(gp\)
   1200003a0:	df858060 	ld	a1,-32672\(gp\)
   1200003a4:	df858068 	ld	a1,-32664\(gp\)
   1200003a8:	df858058 	ld	a1,-32680\(gp\)
   1200003ac:	00b1282d 	daddu	a1,a1,s1
   1200003b0:	df858060 	ld	a1,-32672\(gp\)
   1200003b4:	00b1282d 	daddu	a1,a1,s1
   1200003b8:	df858068 	ld	a1,-32664\(gp\)
   1200003bc:	00b1282d 	daddu	a1,a1,s1
   1200003c0:	df858028 	ld	a1,-32728\(gp\)
   1200003c4:	dca505a4 	ld	a1,1444\(a1\)
   1200003c8:	df858028 	ld	a1,-32728\(gp\)
   1200003cc:	dca505b0 	ld	a1,1456\(a1\)
   1200003d0:	df858028 	ld	a1,-32728\(gp\)
   1200003d4:	00b1282d 	daddu	a1,a1,s1
   1200003d8:	dca505a4 	ld	a1,1444\(a1\)
   1200003dc:	df858028 	ld	a1,-32728\(gp\)
   1200003e0:	00b1282d 	daddu	a1,a1,s1
   1200003e4:	dca505b0 	ld	a1,1456\(a1\)
   1200003e8:	df818028 	ld	at,-32728\(gp\)
   1200003ec:	0025082d 	daddu	at,at,a1
   1200003f0:	dc2505c6 	ld	a1,1478\(at\)
   1200003f4:	df818028 	ld	at,-32728\(gp\)
   1200003f8:	0025082d 	daddu	at,at,a1
   1200003fc:	fc2505dc 	sd	a1,1500\(at\)
   120000400:	df818058 	ld	at,-32680\(gp\)
   120000404:	88250000 	lwl	a1,0\(at\)
   120000408:	98250003 	lwr	a1,3\(at\)
   12000040c:	df818060 	ld	at,-32672\(gp\)
   120000410:	88250000 	lwl	a1,0\(at\)
   120000414:	98250003 	lwr	a1,3\(at\)
   120000418:	df818058 	ld	at,-32680\(gp\)
   12000041c:	0031082d 	daddu	at,at,s1
   120000420:	88250000 	lwl	a1,0\(at\)
   120000424:	98250003 	lwr	a1,3\(at\)
   120000428:	df818060 	ld	at,-32672\(gp\)
   12000042c:	0031082d 	daddu	at,at,s1
   120000430:	88250000 	lwl	a1,0\(at\)
   120000434:	98250003 	lwr	a1,3\(at\)
   120000438:	df818070 	ld	at,-32656\(gp\)
   12000043c:	0025082d 	daddu	at,at,a1
   120000440:	88250000 	lwl	a1,0\(at\)
   120000444:	98250003 	lwr	a1,3\(at\)
   120000448:	df818078 	ld	at,-32648\(gp\)
   12000044c:	0025082d 	daddu	at,at,a1
   120000450:	a8250000 	swl	a1,0\(at\)
   120000454:	b8250003 	swr	a1,3\(at\)
   120000458:	df858080 	ld	a1,-32640\(gp\)
   12000045c:	df858080 	ld	a1,-32640\(gp\)
   120000460:	df998080 	ld	t9,-32640\(gp\)
   120000464:	df998080 	ld	t9,-32640\(gp\)
   120000468:	df998080 	ld	t9,-32640\(gp\)
   12000046c:	0411001d 	bal	1200004e4 <fn2>
   120000470:	00000000 	nop
   120000474:	df998080 	ld	t9,-32640\(gp\)
   120000478:	0411001a 	bal	1200004e4 <fn2>
   12000047c:	00000000 	nop
   120000480:	1000ff17 	b	1200000e0 <fn>
   120000484:	df858020 	ld	a1,-32736\(gp\)
   120000488:	df858028 	ld	a1,-32728\(gp\)
   12000048c:	10000015 	b	1200004e4 <fn2>
   120000490:	dca505a4 	ld	a1,1444\(a1\)
   120000494:	1000ff12 	b	1200000e0 <fn>
   120000498:	df858020 	ld	a1,-32736\(gp\)
   12000049c:	df858060 	ld	a1,-32672\(gp\)
   1200004a0:	10000010 	b	1200004e4 <fn2>
   1200004a4:	00000000 	nop
   1200004a8:	df858038 	ld	a1,-32712\(gp\)
   1200004ac:	1000ff0c 	b	1200000e0 <fn>
   1200004b0:	00000000 	nop
   1200004b4:	df858028 	ld	a1,-32728\(gp\)
   1200004b8:	1000000a 	b	1200004e4 <fn2>
   1200004bc:	dca505a4 	ld	a1,1444\(a1\)
   1200004c0:	df858028 	ld	a1,-32728\(gp\)
   1200004c4:	1000ff06 	b	1200000e0 <fn>
   1200004c8:	dca50538 	ld	a1,1336\(a1\)
   1200004cc:	df818028 	ld	at,-32728\(gp\)
   1200004d0:	0025082d 	daddu	at,at,a1
   1200004d4:	10000003 	b	1200004e4 <fn2>
   1200004d8:	dc2505c6 	ld	a1,1478\(at\)
	\.\.\.

00000001200004e4 <fn2>:
	\.\.\.
Disassembly of section \.data:

00000001200104f0 <_fdata>:
	\.\.\.

000000012001052c <dg1>:
	\.\.\.

0000000120010568 <sp2>:
	\.\.\.

00000001200105a4 <dg2>:
	\.\.\.
Disassembly of section \.got:

00000001200105e0 <_GLOBAL_OFFSET_TABLE_>:
	\.\.\.
   1200105e8:	80000000 	.*
   1200105ec:	00000000 	.*
   1200105f0:	00000001 	.*
   1200105f4:	2001052c 	.*
   1200105f8:	00000001 	.*
   1200105fc:	20010000 	.*
   120010600:	00000001 	.*
   120010604:	20010538 	.*
   120010608:	00000001 	.*
   12001060c:	2002e76c 	.*
   120010610:	00000001 	.*
   120010614:	2001054e 	.*
   120010618:	00000001 	.*
   12001061c:	20010564 	.*
   120010620:	00000001 	.*
   120010624:	200000e0 	.*
   120010628:	00000001 	.*
   12001062c:	200105a4 	.*
   120010630:	00000001 	.*
   120010634:	200105b0 	.*
   120010638:	00000001 	.*
   12001063c:	2002e7e4 	.*
   120010640:	00000001 	.*
   120010644:	200105c6 	.*
   120010648:	00000001 	.*
   12001064c:	200105dc 	.*
   120010650:	00000001 	.*
   120010654:	200004e4 	.*
	\.\.\.
#pass
@


1.8
log
@	gas/testsuite/
	* gas/mips/mips.exp: Set has_newabi for mips*-sde-elf* too.
	* gas/mips/elf-rel-got-n32.s: Adjust padding.
	* gas/mips/elf-rel-got-n64.s: Likewise.
	* gas/mips/elf-rel23.s: Likewise.
	* gas/mips/elf-rel28.s: Likewise.
	* gas/mips/n32-consec.s: Likewise.
	* gas/mips/elf-rel-xgot-n32.d: Adjust output expected.
	* gas/mips/elf-rel-xgot-n64.d: Likewise.
	* gas/mips/elf-rel23.d: Likewise.
	* gas/mips/elf-rel23a.d: Likewise.
	* gas/mips/elf-rel23b.d: Likewise.
	* gas/mips/elf-rel28-n32.d: Likewise.

	ld/testsuite/
	* lib/ld-lib.exp (run_dump_test): Implement the EXTRA_OPTIONS
	argument and the "dump" keyword.
	* ld-mips-elf/emit-relocs-1a.s: Make section alignment uniform
	across targets.
	* ld-mips-elf/emit-relocs-1b.s: Likewise.
	* ld-mips-elf/jalbal.s: Adjust padding.
	* ld-mips-elf/elf-rel-got-n32-embed.d: New test.
	* ld-mips-elf/elf-rel-got-n64-embed.d: New test.
	* ld-mips-elf/elf-rel-xgot-n32-embed.d: New test.
	* ld-mips-elf/elf-rel-xgot-n64-embed.d: New test.
	* ld-mips-elf/elf-rel-got-n32.d: Remove -melf32btsmipn32.
	* ld-mips-elf/elf-rel-got-n64.d: Remove -melf64btsmip.  Adjust
	output.
	* ld-mips-elf/elf-rel-got-n64-linux.d: Remove -melf64btsmip.
	* ld-mips-elf/elf-rel-xgot-n32.d: Remove -melf32btsmipn32.
	Adjust output.
	* ld-mips-elf/elf-rel-xgot-n64.d: Remove -melf64btsmip.  Adjust
	output.
	* ld-mips-elf/elf-rel-xgot-n64-linux.d: Likewise.
	* ld-mips-elf/reloc-1-n64.d: Remove -melf64btsmip.
	* ld-mips-elf/mips-elf.exp: Set has_newabi for mips*-sde-elf*
	too.  Move tool flags from o32_as_flags and o32_ld_flags
	variables into abi_asflags and abi_ldflags arrays.  Adjust test
	cases run to use them.  Run the new tests.
@
text
@d2 1
a2 1
#as: -EB -64 -KPIC
@


1.7
log
@bfd/
	* elfxx-mips.c (mips_got_entry): Adjust commentary.
	(mips_elf_create_local_got_entry): If given a symbol, check that it
	has been assigned to the local part of the GOT.
	(mips_elf_count_got_symbols): Take the bfd_link_info as argument
	instead of the master GOT.  Put all locally-binding symbols in
	the local area.
	(mips_elf_make_got_per_bfd): Use global_got_area to decide whether
	a symbol lives in the local or global area.
	(mips_elf_local_relocation_p): Remove check_forced argument and
	retain only the !check_forced behavior.
	(mips_elf_calculate_relocation): Adjust call accordingly.
	Use global_got_area to decide whether an output relocation
	should be local or global.  Explicitly decay R_MIPS_GOT_PAGE
	into R_MIPS_GOT_DISP where appropriate.  Fix selection of
	local vs. global semantics for R_MIPS*_26.  Remove redundant
	reevaluation of what is stored in was_local_p.
	(mips_elf_create_dynamic_relocation): Use global_got_area to decide
	whether the relocation should be against a global or local symbol.
	(mips_elf_lay_out_got): Update the GOT traversal after the above
	change to mips_elf_count_got_symbols.
	(mips_elf_adjust_addend): Adjust call to mips_elf_local_relocation_p.
	(_bfd_mips_elf_relocate_section): Likewise.
	(_bfd_mips_elf_finish_dynamic_symbol): Use global_got_area to decide
	whether the symbol has a global got entry.
	(_bfd_mips_vxworks_finish_dynamic_symbol): Likewise.

ld/testsuite/
	* ld-mips-elf/elf-rel-got-n32.d: Swap two local GOT entries
	and remove some duplication between the global and local GOT
	entries.  Adjust GP offsets accordingly.
	* ld-mips-elf/elf-rel-got-n64-linux.d: Likewise.
	* ld-mips-elf/elf-rel-xgot-n32.d: Reorder GOT entries and update
	GP offsets accordingly.
	* ld-mips-elf/elf-rel-xgot-n64-linux.d: Likewise.
	* ld-mips-elf/mips16-pic-1.gd: Move all global GOT entries to
	the local GOT.
	* ld-mips-elf/mips16-pic-1.dd: Update GP offsets accordingly.
	* ld-mips-elf/multi-got-no-shared.d: Adjust GP setup for
	smaller GOT sizes.
@
text
@d4 1
a4 1
#ld: -melf64btsmip
@


1.7.8.1
log
@bfd/
2012-08-09  Maciej W. Rozycki  <macro@@codesourcery.com>

	* elfxx-mips.c (LA25_LUI_MICROMIPS_1, LA25_LUI_MICROMIPS_2):
	Remove macros, folding them into...
	(LA25_LUI_MICROMIPS): ... this new macro.
	(LA25_J_MICROMIPS_1, LA25_J_MICROMIPS_2): Likewise into...
	(LA25_J_MICROMIPS): ... this new macro.
	(LA25_ADDIU_MICROMIPS_1, LA25_ADDIU_MICROMIPS_2): Likewise
	into...
	(LA25_ADDIU_MICROMIPS): ... this new macro.
	(bfd_put_micromips_32, bfd_get_micromips_32): New functions.
	(mips_elf_create_la25_stub): Use them.
	(check_br32_dslot, check_br32, check_relocated_bzc): Likewise.
	(_bfd_mips_elf_relax_section): Likewise.

gas/
	* config/tc-mips.c (NO_ISA_COP, COP_INSN): Remove macros.
	(is_opcode_valid): Remove coprocessor instruction exclusions.
	Replace OPCODE_IS_MEMBER with opcode_is_member.
	(is_opcode_valid_16): Replace OPCODE_IS_MEMBER with
	opcode_is_member.
	(macro): Remove coprocessor instruction exclusions.

gas/
	* gas/mips/mips.exp: Set has_newabi for all Linux targets.
	* gas/mips/cfi-n64-1.d: Adjust for targets that do not infer the
	ISA from the ABI.
	* gas/mips/elf-rel-got-n32.d: Likewise.
	* gas/mips/elf-rel-got-n64.d: Likewise.
	* gas/mips/elf-rel-xgot-n32.d: Likewise.
	* gas/mips/elf-rel-xgot-n64.d: Likewise.
	* gas/mips/elf-rel18.d: Likewise.
	* gas/mips/elf-rel28-n32.d: Likewise.
	* gas/mips/elf-rel28-n64.d: Likewise.
	* gas/mips/jal-newabi.d: Likewise.
	* gas/mips/ldstla-n64-shared.d: Likewise.
	* gas/mips/ldstla-n64-sym32.d: Likewise.
	* gas/mips/ldstla-n64.d: Likewise.
	* gas/mips/macro-warn-1-n32.d: Likewise.
	* gas/mips/macro-warn-2-n32.d: Likewise.
	* gas/mips/n32-consec.d: Likewise.

include/
2012-08-13  Richard Sandiford  <rdsandiford@@googlemail.com>
            Maciej W. Rozycki  <macro@@codesourcery.com>

	* mips.h (mips_opcode): Add the exclusions field.
	(OPCODE_IS_MEMBER): Remove macro.
	(cpu_is_member): New inline function.
	(opcode_is_member): Likewise.

ld/
	* emulparams/elf32bmip.sh: Make _gp hidden.
	* emulparams/elf32bmipn32-defs.sh: Likewise.
	* emulparams/elf32mipswindiss.sh: Likewise.
	* scripttempl/mips.sc: Likewise.

ld/
2012-08-28  Maciej W. Rozycki  <macro@@codesourcery.com>

	* ld-elf/export-class.sd: New test.
	* ld-elf/export-class.vd: New test.
	* ld-elf/export-class-def.s: New test source.
	* ld-elf/export-class-dep.s: New test source.
	* ld-elf/export-class-lib.s: New test source.
	* ld-elf/export-class-ref.s: New test source.
	* ld-elf/export-class-lib.ver: New test version script.
	* ld-elf/export-class.exp: New test script.
	* ld-arm/arm-export-class.rd: New test.
	* ld-arm/arm-export-class.xd: New test.
	* ld-arm/export-class.exp: New test script.
	* ld-i386/i386-export-class.rd: New test.
	* ld-i386/i386-export-class.xd: New test.
	* ld-i386/export-class.exp: New test script.
	* ld-mips-elf/mips-32-export-class.rd: New test.
	* ld-mips-elf/mips-32-export-class.xd: New test.
	* ld-mips-elf/mips-64-export-class.rd: New test.
	* ld-mips-elf/mips-64-export-class.xd: New test.
	* ld-mips-elf/export-class.exp: New test script.
	* ld-powerpc/powerpc-32-export-class.rd: New test.
	* ld-powerpc/powerpc-32-export-class.xd: New test.
	* ld-powerpc/powerpc-64-export-class.rd: New test.
	* ld-powerpc/powerpc-64-export-class.xd: New test.
	* ld-powerpc/export-class.exp: New test script.
	* ld-x86-64/x86-64-64-export-class.rd: New test.
	* ld-x86-64/x86-64-x32-export-class.rd: New test.
	* ld-x86-64/export-class.exp: New test script.

opcodes/
2012-08-14  Maciej W. Rozycki  <macro@@codesourcery.com>

	* mips-dis.c (print_insn_args): Add GET_OP and GET_OP_S local
	macros, use local variables for info struct member accesses,
	update the type of the variable used to hold the instruction
	word.
	(print_insn_mips, print_mips16_insn_arg): Likewise.
	(print_insn_mips16): Add GET_OP and GET_OP_S local macros, use
	local variables for info struct member accesses.
	(print_insn_micromips): Add GET_OP_S local macro.
	(_print_insn_mips): Update the type of the variable used to hold
	the instruction word.
@
text
@d2 1
a2 1
#as: -march=from-abi -EB -64 -KPIC
d4 1
a4 1
#ld:
@


1.6
log
@ld/testsuite/
	* ld-mips-elf/elf-rel-got-n64-linux.d: Expect BALs.
	* ld-mips-elf/elf-rel-xgot-n64-linux.d: Likewise.
@
text
@d21 2
a22 2
   1200000e0:	df8580b8 	ld	a1,-32584\(gp\)
   1200000e4:	df8580b8 	ld	a1,-32584\(gp\)
d24 1
a24 1
   1200000ec:	df8580b8 	ld	a1,-32584\(gp\)
d28 1
a28 1
   1200000fc:	df8580b8 	ld	a1,-32584\(gp\)
d30 1
a30 1
   120000104:	df8580b8 	ld	a1,-32584\(gp\)
d33 1
a33 1
   120000110:	df8580b8 	ld	a1,-32584\(gp\)
d38 1
a38 1
   120000124:	df858020 	ld	a1,-32736\(gp\)
d40 1
a40 1
   12000012c:	df858020 	ld	a1,-32736\(gp\)
d42 1
a42 1
   120000134:	df858020 	ld	a1,-32736\(gp\)
d45 1
a45 1
   120000140:	df858020 	ld	a1,-32736\(gp\)
d48 1
a48 1
   12000014c:	df818020 	ld	at,-32736\(gp\)
d51 1
a51 1
   120000158:	df818020 	ld	at,-32736\(gp\)
d54 1
a54 1
   120000164:	df8180b8 	ld	at,-32584\(gp\)
d57 1
a57 1
   120000170:	df8180b8 	ld	at,-32584\(gp\)
d61 1
a61 1
   120000180:	df8180b8 	ld	at,-32584\(gp\)
d65 1
a65 1
   120000190:	df8180b8 	ld	at,-32584\(gp\)
d70 1
a70 1
   1200001a4:	df8180b8 	ld	at,-32584\(gp\)
d75 1
a75 1
   1200001b8:	df8180b8 	ld	at,-32584\(gp\)
d80 1
a80 1
   1200001cc:	df858028 	ld	a1,-32728\(gp\)
d83 1
a83 1
   1200001d8:	df858028 	ld	a1,-32728\(gp\)
d89 1
a89 1
   1200001f0:	df858020 	ld	a1,-32736\(gp\)
d91 1
a91 1
   1200001f8:	df858020 	ld	a1,-32736\(gp\)
d93 1
a93 1
   120000200:	df858020 	ld	a1,-32736\(gp\)
d96 1
a96 1
   12000020c:	df858020 	ld	a1,-32736\(gp\)
d99 1
a99 1
   120000218:	df818020 	ld	at,-32736\(gp\)
d102 1
a102 1
   120000224:	df818020 	ld	at,-32736\(gp\)
d105 1
a105 1
   120000230:	df818028 	ld	at,-32728\(gp\)
d111 1
a111 1
   120000248:	df818028 	ld	at,-32728\(gp\)
d127 1
a127 1
   120000288:	df8580a8 	ld	a1,-32600\(gp\)
d129 1
a129 1
   120000290:	df9980a8 	ld	t9,-32600\(gp\)
d131 1
a131 1
   120000298:	df9980a8 	ld	t9,-32600\(gp\)
d137 2
a138 2
   1200002b0:	df8580c0 	ld	a1,-32576\(gp\)
   1200002b4:	df8580c0 	ld	a1,-32576\(gp\)
d140 1
a140 1
   1200002bc:	df8580c0 	ld	a1,-32576\(gp\)
d144 1
a144 1
   1200002cc:	df8580c0 	ld	a1,-32576\(gp\)
d146 1
a146 1
   1200002d4:	df8580c0 	ld	a1,-32576\(gp\)
d149 1
a149 1
   1200002e0:	df8580c0 	ld	a1,-32576\(gp\)
d154 1
a154 1
   1200002f4:	df858020 	ld	a1,-32736\(gp\)
d156 1
a156 1
   1200002fc:	df858020 	ld	a1,-32736\(gp\)
d158 1
a158 1
   120000304:	df858020 	ld	a1,-32736\(gp\)
d161 1
a161 1
   120000310:	df858020 	ld	a1,-32736\(gp\)
d164 1
a164 1
   12000031c:	df818020 	ld	at,-32736\(gp\)
d167 1
a167 1
   120000328:	df818020 	ld	at,-32736\(gp\)
d170 1
a170 1
   120000334:	df8180c0 	ld	at,-32576\(gp\)
d173 1
a173 1
   120000340:	df8180c0 	ld	at,-32576\(gp\)
d177 1
a177 1
   120000350:	df8180c0 	ld	at,-32576\(gp\)
d181 1
a181 1
   120000360:	df8180c0 	ld	at,-32576\(gp\)
d186 1
a186 1
   120000374:	df8180c0 	ld	at,-32576\(gp\)
d191 1
a191 1
   120000388:	df8180c0 	ld	at,-32576\(gp\)
d205 1
a205 1
   1200003c0:	df858020 	ld	a1,-32736\(gp\)
d207 1
a207 1
   1200003c8:	df858020 	ld	a1,-32736\(gp\)
d209 1
a209 1
   1200003d0:	df858020 	ld	a1,-32736\(gp\)
d212 1
a212 1
   1200003dc:	df858020 	ld	a1,-32736\(gp\)
d215 1
a215 1
   1200003e8:	df818020 	ld	at,-32736\(gp\)
d218 1
a218 1
   1200003f4:	df818020 	ld	at,-32736\(gp\)
d243 1
a243 1
   120000458:	df8580b0 	ld	a1,-32592\(gp\)
d245 1
a245 1
   120000460:	df9980b0 	ld	t9,-32592\(gp\)
d247 1
a247 1
   120000468:	df9980b0 	ld	t9,-32592\(gp\)
d254 2
a255 2
   120000484:	df8580b8 	ld	a1,-32584\(gp\)
   120000488:	df858020 	ld	a1,-32736\(gp\)
d259 1
a259 1
   120000498:	df858028 	ld	a1,-32728\(gp\)
d266 1
a266 1
   1200004b4:	df858020 	ld	a1,-32736\(gp\)
d269 1
a269 1
   1200004c0:	df858020 	ld	a1,-32736\(gp\)
d272 1
a272 1
   1200004cc:	df818020 	ld	at,-32736\(gp\)
d300 1
a300 1
   1200105f4:	20010000 	.*
d302 1
a302 1
   1200105fc:	2001052c 	.*
a325 8
   120010678:	00000001 	.*
   12001067c:	200000e0 	.*
   120010680:	00000001 	.*
   120010684:	200004e4 	.*
   120010688:	00000001 	.*
   12001068c:	2001052c 	.*
   120010690:	00000001 	.*
   120010694:	200105a4 	.*
@


1.5
log
@bfd/
	* elfxx-mips.c (MIPS_ELF_GNU_GOT1_MASK): New macro.
	(_bfd_mips_elf_finish_dynamic_sections): Use it instead of 0x80000000.

ld/testsuite/
	* ld-mips-elf/elf-rel-got-n64-linux.d: Expect bit 63 rather than
	bit 31 of the second GOT entry to be set.
	* ld-mips-elf/elf-rel-got-n64.d: Likewise.
	* ld-mips-elf/elf-rel-xgot-n64-linux.d: Likewise.
	* ld-mips-elf/elf-rel-xgot-n64.d: Likewise.
@
text
@d132 1
a132 1
   12000029c:	0320f809 	jalr	t9
d135 1
a135 1
   1200002a8:	0320f809 	jalr	t9
d248 1
a248 1
   12000046c:	0320f809 	jalr	t9
d251 1
a251 1
   120000478:	0320f809 	jalr	t9
@


1.5.8.1
log
@ld/testsuite/
	* ld-mips-elf/elf-rel-got-n64-linux.d: Expect BALs.
	* ld-mips-elf/elf-rel-xgot-n64-linux.d: Likewise.
@
text
@d132 1
a132 1
   12000029c:	0411ff90 	bal	1200000e0 <fn>
d135 1
a135 1
   1200002a8:	0411ff8d 	bal	1200000e0 <fn>
d248 1
a248 1
   12000046c:	0411001d 	bal	1200004e4 <fn2>
d251 1
a251 1
   120000478:	0411001a 	bal	1200004e4 <fn2>
@


1.4
log
@ld/testsuite/
	* ld-mips-elf/elf-rel-got-n32.d: Adjust page gap from 0x100000
	to 0x10000.  Move .reginfo before .text and bump .text addresses
	by 0x10 to make room.  Move data segment down by 0x10 bytes to
	account for new size of text segment.
	* ld-mips-elf/elf-rel-xgot-n32.d: Likewise.
	* ld-mips-elf/elf-rel-got-n64-linux.d: Adjust page gap from
	0x100000 to 0x10000.
	* ld-mips-elf/elf-rel-xgot-n64-linux.d: Likewise.
@
text
@d297 2
a298 1
   1200105ec:	80000000 	.*
@


1.3
log
@	* ld-mips-elf/elf-rel-got-n32.d, ld-mips-elf/elf-rel-got-n64-linux.d,
	ld-mips-elf/elf-rel-got-n64.d, ld-mips-elf/elf-rel-xgot-n32.d,
	ld-mips-elf/elf-rel-xgot-n64-linux.d, ld-mips-elf/elf-rel-xgot-n64.d,
	ld-mips-elf/jalbal.d: Force big-endian.
	* ld-mips-elf/multi-got-1.d: Make more flexible.
	* ld-mips-elf/rel32-n32.d, ld-mips-elf/rel32-o32.d,
	ld-mips-elf/rel64.d: Update offsets.
@
text
@d17 1
a17 1
   1200000d4:	201085d0 	.*
d282 1
a282 1
00000001201004f0 <_fdata>:
d285 1
a285 1
000000012010052c <dg1>:
d288 1
a288 1
0000000120100568 <sp2>:
d291 1
a291 1
00000001201005a4 <dg2>:
d295 1
a295 1
00000001201005e0 <_GLOBAL_OFFSET_TABLE_>:
d297 27
a323 27
   1201005ec:	80000000 	.*
   1201005f0:	00000001 	.*
   1201005f4:	20100000 	.*
   1201005f8:	00000001 	.*
   1201005fc:	2010052c 	.*
   120100600:	00000001 	.*
   120100604:	20100538 	.*
   120100608:	00000001 	.*
   12010060c:	2011e76c 	.*
   120100610:	00000001 	.*
   120100614:	2010054e 	.*
   120100618:	00000001 	.*
   12010061c:	20100564 	.*
   120100620:	00000001 	.*
   120100624:	200000e0 	.*
   120100628:	00000001 	.*
   12010062c:	201005a4 	.*
   120100630:	00000001 	.*
   120100634:	201005b0 	.*
   120100638:	00000001 	.*
   12010063c:	2011e7e4 	.*
   120100640:	00000001 	.*
   120100644:	201005c6 	.*
   120100648:	00000001 	.*
   12010064c:	201005dc 	.*
   120100650:	00000001 	.*
   120100654:	200004e4 	.*
d325 8
a332 8
   120100678:	00000001 	.*
   12010067c:	200000e0 	.*
   120100680:	00000001 	.*
   120100684:	200004e4 	.*
   120100688:	00000001 	.*
   12010068c:	2010052c 	.*
   120100690:	00000001 	.*
   120100694:	201005a4 	.*
@


1.2
log
@bfd/
	* elfxx-mips.c (mips_elf_calculate_relocation): Use
	_bfd_elf_symbol_refs_local_p to decide whether to decay
	a GOT_PAGE/GOT_OFST pair to GOT_DISP/addend.
	(_bfd_mips_elf_check_relocs): Add a global GOT entry for GOT_PAGE
	relocs if the symbol wasn't defined by a regular object file.
	Don't check the symbol's dynindx.

ld/testsuite/
	* ld-mips/elf/elf-rel-xgot-{n32,n64-linux}.d: Update after 2004-02-02
	changes to the way large constants are added.
	* ld-mips/elf/elf-rel-got-{n32,n64-linux}.d: Likewise.  Adjust order
	of GOT entries after today's change to the handling of GOT_PAGE
	relocations.
@
text
@d2 1
a2 1
#as: -64 -KPIC
@


1.1
log
@	* ld-mips-elf/elf-rel-got-n64-linux.d: New file.
	* ld-mips-elf/elf-rel-xgot-n64-linux.d: New file.
	* ld-mips-elf/mips-elf.exp: Use the new files for Linux.
@
text
@d25 2
a26 2
   1200000f0:	3c010002 	lui	at,0x2
   1200000f4:	6421e240 	daddiu	at,at,-7616
d34 2
a35 2
   120000114:	3c010002 	lui	at,0x2
   120000118:	6421e240 	daddiu	at,at,-7616
d38 5
a42 5
   120000124:	df8580b8 	ld	a1,-32584\(gp\)
   120000128:	dca50000 	ld	a1,0\(a1\)
   12000012c:	df8580b8 	ld	a1,-32584\(gp\)
   120000130:	dca5000c 	ld	a1,12\(a1\)
   120000134:	df8580b8 	ld	a1,-32584\(gp\)
d44 2
a45 2
   12000013c:	dca50000 	ld	a1,0\(a1\)
   120000140:	df8580b8 	ld	a1,-32584\(gp\)
d47 2
a48 2
   120000148:	dca5000c 	ld	a1,12\(a1\)
   12000014c:	df8180b8 	ld	at,-32584\(gp\)
d50 2
a51 2
   120000154:	dc250022 	ld	a1,34\(at\)
   120000158:	df8180b8 	ld	at,-32584\(gp\)
d53 1
a53 1
   120000160:	fc250038 	sd	a1,56\(at\)
d80 4
a83 4
   1200001cc:	df858020 	ld	a1,-32736\(gp\)
   1200001d0:	df858028 	ld	a1,-32728\(gp\)
   1200001d4:	df858030 	ld	a1,-32720\(gp\)
   1200001d8:	df858020 	ld	a1,-32736\(gp\)
d85 1
a85 1
   1200001e0:	df858028 	ld	a1,-32728\(gp\)
d87 1
a87 1
   1200001e8:	df858030 	ld	a1,-32720\(gp\)
d89 1
a89 1
   1200001f0:	df858038 	ld	a1,-32712\(gp\)
d91 1
a91 1
   1200001f8:	df858038 	ld	a1,-32712\(gp\)
d93 1
a93 1
   120000200:	df858038 	ld	a1,-32712\(gp\)
d96 1
a96 1
   12000020c:	df858038 	ld	a1,-32712\(gp\)
d99 1
a99 1
   120000218:	df818038 	ld	at,-32712\(gp\)
d102 1
a102 1
   120000224:	df818038 	ld	at,-32712\(gp\)
d105 1
a105 1
   120000230:	df818020 	ld	at,-32736\(gp\)
d108 1
a108 1
   12000023c:	df818028 	ld	at,-32728\(gp\)
d111 1
a111 1
   120000248:	df818020 	ld	at,-32736\(gp\)
d115 1
a115 1
   120000258:	df818028 	ld	at,-32728\(gp\)
d141 2
a142 2
   1200002c0:	3c010002 	lui	at,0x2
   1200002c4:	6421e240 	daddiu	at,at,-7616
d150 2
a151 2
   1200002e4:	3c010002 	lui	at,0x2
   1200002e8:	6421e240 	daddiu	at,at,-7616
d154 5
a158 5
   1200002f4:	df8580c0 	ld	a1,-32576\(gp\)
   1200002f8:	dca50000 	ld	a1,0\(a1\)
   1200002fc:	df8580c0 	ld	a1,-32576\(gp\)
   120000300:	dca5000c 	ld	a1,12\(a1\)
   120000304:	df8580c0 	ld	a1,-32576\(gp\)
d160 2
a161 2
   12000030c:	dca50000 	ld	a1,0\(a1\)
   120000310:	df8580c0 	ld	a1,-32576\(gp\)
d163 2
a164 2
   120000318:	dca5000c 	ld	a1,12\(a1\)
   12000031c:	df8180c0 	ld	at,-32576\(gp\)
d166 2
a167 2
   120000324:	dc250022 	ld	a1,34\(at\)
   120000328:	df8180c0 	ld	at,-32576\(gp\)
d169 1
a169 1
   120000330:	fc250038 	sd	a1,56\(at\)
d205 1
a205 1
   1200003c0:	df858038 	ld	a1,-32712\(gp\)
d207 1
a207 1
   1200003c8:	df858038 	ld	a1,-32712\(gp\)
d209 1
a209 1
   1200003d0:	df858038 	ld	a1,-32712\(gp\)
d212 1
a212 1
   1200003dc:	df858038 	ld	a1,-32712\(gp\)
d215 1
a215 1
   1200003e8:	df818038 	ld	at,-32712\(gp\)
d218 1
a218 1
   1200003f4:	df818038 	ld	at,-32712\(gp\)
d255 1
a255 1
   120000488:	df8580c0 	ld	a1,-32576\(gp\)
d257 1
a257 1
   120000490:	dca50000 	ld	a1,0\(a1\)
d259 1
a259 1
   120000498:	df858020 	ld	a1,-32736\(gp\)
d263 1
a263 1
   1200004a8:	df858030 	ld	a1,-32720\(gp\)
d266 1
a266 1
   1200004b4:	df858038 	ld	a1,-32712\(gp\)
d269 1
a269 1
   1200004c0:	df858038 	ld	a1,-32712\(gp\)
d272 1
a272 1
   1200004cc:	df818038 	ld	at,-32712\(gp\)
d299 1
a299 1
   1201005f4:	2010052c 	.*
d301 1
a301 1
   1201005fc:	20100538 	.*
d303 1
a303 1
   120100604:	2011e76c 	.*
d305 1
a305 1
   12010060c:	20100000 	.*
d333 1
@

