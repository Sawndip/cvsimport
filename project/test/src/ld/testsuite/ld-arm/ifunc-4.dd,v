head	1.3;
access;
symbols
	binutils-2_24-branch:1.3.0.4
	binutils-2_24-branchpoint:1.3
	binutils-2_23_2:1.3
	binutils-2_23_1:1.3
	binutils-2_23:1.3
	binutils-2_23-branch:1.3.0.2
	binutils-2_23-branchpoint:1.3
	binutils-2_22_branch:1.2.0.4
	binutils-2_22:1.2
	binutils-2_22-branch:1.2.0.2
	binutils-2_22-branchpoint:1.2
	binutils_latest_snapshot:1.3;
locks; strict;
comment	@# @;


1.3
date	2011.10.18.14.41.54;	author jules;	state Exp;
branches;
next	1.2;

1.2
date	2011.06.02.15.32.10;	author nathan;	state Exp;
branches;
next	1.1;

1.1
date	2011.03.14.16.04.14;	author rsandifo;	state Exp;
branches;
next	;


desc
@@


1.3
log
@    Jie Zhang  <jie@@codesourcery.com>
    Julian Brown  <julian@@codesourcery.com>

    gas/
    * config/tc-arm.c (parse_shifter_operand): Fix handling
    of explicit rotation.
    (encode_arm_shifter_operand): Likewise.

    gas/testsuite/
    * gas/arm/adrl.d: Adjust.
    * gas/arm/immed2.d: New test.
    * gas/arm/immed2.s: New test.

    ld/testsuite/
    * ld-arm/cortex-a8-fix-b-plt.d: Adjust.
    * ld-arm/cortex-a8-fix-bcc-plt.d: Adjust.
    * ld-arm/cortex-a8-fix-bl-plt.d: Adjust.
    * ld-arm/cortex-a8-fix-bl-rel-plt.d: Adjust.
    * ld-arm/cortex-a8-fix-blx-plt.d: Adjust.
    * ld-arm/ifunc-1.dd: Adjust.
    * ld-arm/ifunc-2.dd: Adjust.
    * ld-arm/ifunc-3.dd: Adjust.
    * ld-arm/ifunc-4.dd: Adjust.
    * ld-arm/ifunc-5.dd: Adjust.
    * ld-arm/ifunc-6.dd: Adjust.
    * ld-arm/ifunc-7.dd: Adjust.
    * ld-arm/ifunc-8.dd: Adjust.
    * ld-arm/ifunc-9.dd: Adjust.
    * ld-arm/ifunc-10.dd: Adjust.
    * ld-arm/ifunc-14.dd: Adjust.
    * ld-arm/ifunc-15.dd: Adjust.
    * ld-arm/ifunc-16.dd: Adjust.

    opcodes/
    * arm-dis.c (print_insn_arm): Explicitly specify rotation
    if needed.
@
text
@
.*


Disassembly of section \.plt:

00009000 <\.plt>:
    9000:	e52de004 	push	{lr}		; \(str lr, \[sp, #-4\]!\)
    9004:	e59fe004 	ldr	lr, \[pc, #4\]	; 9010 <aaf1-0xff0>
    9008:	e08fe00e 	add	lr, pc, lr
    900c:	e5bef008 	ldr	pc, \[lr, #8\]!
#------------------------------------------------------------------------------
#------ PC-relative offset of .got.plt
#------------------------------------------------------------------------------
    9010:	00007ff0 	\.word	0x00007ff0
#------------------------------------------------------------------------------
#------ thumb entry to atf2's .plt entry
#------------------------------------------------------------------------------
    9014:	4778      	bx	pc
    9016:	46c0      	nop			; \(mov r8, r8\)
#------------------------------------------------------------------------------
#------ atf2's .plt entry
#------------------------------------------------------------------------------
    9018:	e28fc600 	add	ip, pc, #0, 12
    901c:	e28cca07 	add	ip, ip, #28672	; 0x7000
    9020:	e5bcffec 	ldr	pc, \[ip, #4076\]!	; 0xfec
#------------------------------------------------------------------------------
#------ thumb entry to ttf2's .plt entry
#------------------------------------------------------------------------------
    9024:	4778      	bx	pc
    9026:	46c0      	nop			; \(mov r8, r8\)
#------------------------------------------------------------------------------
#------ ttf2's .plt entry
#------------------------------------------------------------------------------
    9028:	e28fc600 	add	ip, pc, #0, 12
    902c:	e28cca07 	add	ip, ip, #28672	; 0x7000
    9030:	e5bcffe0 	ldr	pc, \[ip, #4064\]!	; 0xfe0
#------------------------------------------------------------------------------
#------ thumb entry to tbf2's .plt entry
#------------------------------------------------------------------------------
    9034:	4778      	bx	pc
    9036:	46c0      	nop			; \(mov r8, r8\)
#------------------------------------------------------------------------------
#------ tbf2's .plt entry
#------------------------------------------------------------------------------
    9038:	e28fc600 	add	ip, pc, #0, 12
    903c:	e28cca07 	add	ip, ip, #28672	; 0x7000
    9040:	e5bcffd4 	ldr	pc, \[ip, #4052\]!	; 0xfd4
#------------------------------------------------------------------------------
#------ taf2's .plt entry
#------------------------------------------------------------------------------
    9044:	e28fc600 	add	ip, pc, #0, 12
    9048:	e28cca07 	add	ip, ip, #28672	; 0x7000
    904c:	e5bcffcc 	ldr	pc, \[ip, #4044\]!	; 0xfcc
#------------------------------------------------------------------------------
#------ aaf2's .plt entry
#------------------------------------------------------------------------------
    9050:	e28fc600 	add	ip, pc, #0, 12
    9054:	e28cca07 	add	ip, ip, #28672	; 0x7000
    9058:	e5bcffc4 	ldr	pc, \[ip, #4036\]!	; 0xfc4
#------------------------------------------------------------------------------
#------ thumb entry to abf2's .plt entry
#------------------------------------------------------------------------------
    905c:	4778      	bx	pc
    905e:	46c0      	nop			; \(mov r8, r8\)
#------------------------------------------------------------------------------
#------ abf2's .plt entry
#------------------------------------------------------------------------------
    9060:	e28fc600 	add	ip, pc, #0, 12
    9064:	e28cca07 	add	ip, ip, #28672	; 0x7000
    9068:	e5bcffb8 	ldr	pc, \[ip, #4024\]!	; 0xfb8

Disassembly of section \.iplt:

0000906c <\.iplt>:
#------------------------------------------------------------------------------
#------ aaf1's .iplt entry
#------------------------------------------------------------------------------
    906c:	e28fc600 	add	ip, pc, #0, 12
    9070:	e28cca07 	add	ip, ip, #28672	; 0x7000
    9074:	e5bcffb0 	ldr	pc, \[ip, #4016\]!	; 0xfb0
#------------------------------------------------------------------------------
#------ thumb entry to atf1's .iplt entry
#------------------------------------------------------------------------------
    9078:	4778      	bx	pc
    907a:	46c0      	nop			; \(mov r8, r8\)
#------------------------------------------------------------------------------
#------ atf1's .iplt entry
#------------------------------------------------------------------------------
    907c:	e28fc600 	add	ip, pc, #0, 12
    9080:	e28cca07 	add	ip, ip, #28672	; 0x7000
    9084:	e5bcffa4 	ldr	pc, \[ip, #4004\]!	; 0xfa4
#------------------------------------------------------------------------------
#------ thumb entry to abf1's .iplt entry
#------------------------------------------------------------------------------
    9088:	4778      	bx	pc
    908a:	46c0      	nop			; \(mov r8, r8\)
#------------------------------------------------------------------------------
#------ abf1's .iplt entry
#------------------------------------------------------------------------------
    908c:	e28fc600 	add	ip, pc, #0, 12
    9090:	e28cca07 	add	ip, ip, #28672	; 0x7000
    9094:	e5bcff98 	ldr	pc, \[ip, #3992\]!	; 0xf98
#------------------------------------------------------------------------------
#------ taf1's .iplt entry
#------------------------------------------------------------------------------
    9098:	e28fc600 	add	ip, pc, #0, 12
    909c:	e28cca07 	add	ip, ip, #28672	; 0x7000
    90a0:	e5bcff90 	ldr	pc, \[ip, #3984\]!	; 0xf90
#------------------------------------------------------------------------------
#------ thumb entry to ttf1's .iplt entry
#------------------------------------------------------------------------------
    90a4:	4778      	bx	pc
    90a6:	46c0      	nop			; \(mov r8, r8\)
#------------------------------------------------------------------------------
#------ ttf1's .iplt entry
#------------------------------------------------------------------------------
    90a8:	e28fc600 	add	ip, pc, #0, 12
    90ac:	e28cca07 	add	ip, ip, #28672	; 0x7000
    90b0:	e5bcff84 	ldr	pc, \[ip, #3972\]!	; 0xf84
#------------------------------------------------------------------------------
#------ thumb entry to tbf1's .iplt entry
#------------------------------------------------------------------------------
    90b4:	4778      	bx	pc
    90b6:	46c0      	nop			; \(mov r8, r8\)
#------------------------------------------------------------------------------
#------ tbf1's .iplt entry
#------------------------------------------------------------------------------
    90b8:	e28fc600 	add	ip, pc, #0, 12
    90bc:	e28cca07 	add	ip, ip, #28672	; 0x7000
    90c0:	e5bcff78 	ldr	pc, \[ip, #3960\]!	; 0xf78
#------------------------------------------------------------------------------
#------ aaf4's .iplt entry
#------------------------------------------------------------------------------
    90c4:	e28fc600 	add	ip, pc, #0, 12
    90c8:	e28cca07 	add	ip, ip, #28672	; 0x7000
    90cc:	e5bcff70 	ldr	pc, \[ip, #3952\]!	; 0xf70
#------------------------------------------------------------------------------
#------ thumb entry to atf3's .iplt entry
#------------------------------------------------------------------------------
    90d0:	4778      	bx	pc
    90d2:	46c0      	nop			; \(mov r8, r8\)
#------------------------------------------------------------------------------
#------ atf3's .iplt entry
#------------------------------------------------------------------------------
    90d4:	e28fc600 	add	ip, pc, #0, 12
    90d8:	e28cca07 	add	ip, ip, #28672	; 0x7000
    90dc:	e5bcff64 	ldr	pc, \[ip, #3940\]!	; 0xf64
#------------------------------------------------------------------------------
#------ thumb entry to abf3's .iplt entry
#------------------------------------------------------------------------------
    90e0:	4778      	bx	pc
    90e2:	46c0      	nop			; \(mov r8, r8\)
#------------------------------------------------------------------------------
#------ abf3's .iplt entry
#------------------------------------------------------------------------------
    90e4:	e28fc600 	add	ip, pc, #0, 12
    90e8:	e28cca07 	add	ip, ip, #28672	; 0x7000
    90ec:	e5bcff58 	ldr	pc, \[ip, #3928\]!	; 0xf58
#------------------------------------------------------------------------------
#------ thumb entry to ttf3's .iplt entry
#------------------------------------------------------------------------------
    90f0:	4778      	bx	pc
    90f2:	46c0      	nop			; \(mov r8, r8\)
#------------------------------------------------------------------------------
#------ ttf3's .iplt entry
#------------------------------------------------------------------------------
    90f4:	e28fc600 	add	ip, pc, #0, 12
    90f8:	e28cca07 	add	ip, ip, #28672	; 0x7000
    90fc:	e5bcff4c 	ldr	pc, \[ip, #3916\]!	; 0xf4c
#------------------------------------------------------------------------------
#------ thumb entry to tbf3's .iplt entry
#------------------------------------------------------------------------------
    9100:	4778      	bx	pc
    9102:	46c0      	nop			; \(mov r8, r8\)
#------------------------------------------------------------------------------
#------ tbf3's .iplt entry
#------------------------------------------------------------------------------
    9104:	e28fc600 	add	ip, pc, #0, 12
    9108:	e28cca07 	add	ip, ip, #28672	; 0x7000
    910c:	e5bcff40 	ldr	pc, \[ip, #3904\]!	; 0xf40
#------------------------------------------------------------------------------
#------ taf3's .iplt entry
#------------------------------------------------------------------------------
    9110:	e28fc600 	add	ip, pc, #0, 12
    9114:	e28cca07 	add	ip, ip, #28672	; 0x7000
    9118:	e5bcff38 	ldr	pc, \[ip, #3896\]!	; 0xf38
#------------------------------------------------------------------------------
#------ thumb entry to abf4's .iplt entry
#------------------------------------------------------------------------------
    911c:	4778      	bx	pc
    911e:	46c0      	nop			; \(mov r8, r8\)
#------------------------------------------------------------------------------
#------ abf4's .iplt entry
#------------------------------------------------------------------------------
    9120:	e28fc600 	add	ip, pc, #0, 12
    9124:	e28cca07 	add	ip, ip, #28672	; 0x7000
    9128:	e5bcff2c 	ldr	pc, \[ip, #3884\]!	; 0xf2c
#------------------------------------------------------------------------------
#------ thumb entry to tbf4's .iplt entry
#------------------------------------------------------------------------------
    912c:	4778      	bx	pc
    912e:	46c0      	nop			; \(mov r8, r8\)
#------------------------------------------------------------------------------
#------ tbf4's .iplt entry
#------------------------------------------------------------------------------
    9130:	e28fc600 	add	ip, pc, #0, 12
    9134:	e28cca07 	add	ip, ip, #28672	; 0x7000
    9138:	e5bcff20 	ldr	pc, \[ip, #3872\]!	; 0xf20
#------------------------------------------------------------------------------
#------ thumb entry to ttf4's .iplt entry
#------------------------------------------------------------------------------
    913c:	4778      	bx	pc
    913e:	46c0      	nop			; \(mov r8, r8\)
#------------------------------------------------------------------------------
#------ ttf4's .iplt entry
#------------------------------------------------------------------------------
    9140:	e28fc600 	add	ip, pc, #0, 12
    9144:	e28cca07 	add	ip, ip, #28672	; 0x7000
    9148:	e5bcff14 	ldr	pc, \[ip, #3860\]!	; 0xf14
#------------------------------------------------------------------------------
#------ aaf3's .iplt entry
#------------------------------------------------------------------------------
    914c:	e28fc600 	add	ip, pc, #0, 12
    9150:	e28cca07 	add	ip, ip, #28672	; 0x7000
    9154:	e5bcff0c 	ldr	pc, \[ip, #3852\]!	; 0xf0c
#------------------------------------------------------------------------------
#------ thumb entry to atf4's .iplt entry
#------------------------------------------------------------------------------
    9158:	4778      	bx	pc
    915a:	46c0      	nop			; \(mov r8, r8\)
#------------------------------------------------------------------------------
#------ atf4's .iplt entry
#------------------------------------------------------------------------------
    915c:	e28fc600 	add	ip, pc, #0, 12
    9160:	e28cca07 	add	ip, ip, #28672	; 0x7000
    9164:	e5bcff00 	ldr	pc, \[ip, #3840\]!	; 0xf00
#------------------------------------------------------------------------------
#------ taf4's .iplt entry
#------------------------------------------------------------------------------
    9168:	e28fc600 	add	ip, pc, #0, 12
    916c:	e28cca07 	add	ip, ip, #28672	; 0x7000
    9170:	e5bcfef8 	ldr	pc, \[ip, #3832\]!	; 0xef8

Disassembly of section \.text:

0000a000 <aaf1>:
    a000:	e1a0f00e 	mov	pc, lr

0000a004 <atf1>:
    a004:	e1a0f00e 	mov	pc, lr

0000a008 <abf1>:
    a008:	e1a0f00e 	mov	pc, lr

0000a00c <taf1>:
    a00c:	46f7      	mov	pc, lr

0000a00e <ttf1>:
    a00e:	46f7      	mov	pc, lr

0000a010 <tbf1>:
    a010:	46f7      	mov	pc, lr
	\.\.\.

0000a014 <aaf2>:
    a014:	e1a0f00e 	mov	pc, lr

0000a018 <atf2>:
    a018:	e1a0f00e 	mov	pc, lr

0000a01c <abf2>:
    a01c:	e1a0f00e 	mov	pc, lr

0000a020 <taf2>:
    a020:	46f7      	mov	pc, lr

0000a022 <ttf2>:
    a022:	46f7      	mov	pc, lr

0000a024 <tbf2>:
    a024:	46f7      	mov	pc, lr
	\.\.\.

0000a028 <aaf3>:
    a028:	e1a0f00e 	mov	pc, lr

0000a02c <atf3>:
    a02c:	e1a0f00e 	mov	pc, lr

0000a030 <abf3>:
    a030:	e1a0f00e 	mov	pc, lr

0000a034 <taf3>:
    a034:	46f7      	mov	pc, lr

0000a036 <ttf3>:
    a036:	46f7      	mov	pc, lr

0000a038 <tbf3>:
    a038:	46f7      	mov	pc, lr
	\.\.\.

0000a03c <aaf4>:
    a03c:	e1a0f00e 	mov	pc, lr

0000a040 <atf4>:
    a040:	e1a0f00e 	mov	pc, lr

0000a044 <abf4>:
    a044:	e1a0f00e 	mov	pc, lr

0000a048 <taf4>:
    a048:	46f7      	mov	pc, lr

0000a04a <ttf4>:
    a04a:	46f7      	mov	pc, lr

0000a04c <tbf4>:
    a04c:	46f7      	mov	pc, lr
	\.\.\.

0000a050 <arm>:
    a050:	eb0017ea 	bl	10000 <foo>
    a054:	ea0017e9 	b	10000 <foo>
    a058:	0a0017e8 	beq	10000 <foo>
    a05c:	e59f4000 	ldr	r4, \[pc\]	; a064 <arm\+0x14>
    a060:	e59f4000 	ldr	r4, \[pc\]	; a068 <arm\+0x18>
#------------------------------------------------------------------------------
#------ .got offset for foo
#------------------------------------------------------------------------------
    a064:	00000070 	\.word	0x00000070
#------------------------------------------------------------------------------
#------ PC-relative offset of .got entry for foo
#------------------------------------------------------------------------------
    a068:	00007004 	\.word	0x00007004
#------------------------------------------------------------------------------
#------ aaf1's .iplt entry
#------------------------------------------------------------------------------
    a06c:	ebfffbfe 	bl	906c <aaf1-0xf94>
#------------------------------------------------------------------------------
#------ aaf1's .iplt entry
#------------------------------------------------------------------------------
    a070:	eafffbfd 	b	906c <aaf1-0xf94>
#------------------------------------------------------------------------------
#------ aaf1's .iplt entry
#------------------------------------------------------------------------------
    a074:	0afffbfc 	beq	906c <aaf1-0xf94>
    a078:	e59f4000 	ldr	r4, \[pc\]	; a080 <arm\+0x30>
    a07c:	e59f4000 	ldr	r4, \[pc\]	; a084 <arm\+0x34>
#------------------------------------------------------------------------------
#------ GP-relative offset of aaf1's .igot.plt entry
#------------------------------------------------------------------------------
    a080:	00000024 	\.word	0x00000024
#------------------------------------------------------------------------------
#------ PC-relative offset of aaf1's .igot.plt entry
#------------------------------------------------------------------------------
    a084:	00006fa0 	\.word	0x00006fa0
#------------------------------------------------------------------------------
#------ taf1's .iplt entry
#------------------------------------------------------------------------------
    a088:	ebfffc02 	bl	9098 <aaf1-0xf68>
#------------------------------------------------------------------------------
#------ taf1's .iplt entry
#------------------------------------------------------------------------------
    a08c:	eafffc01 	b	9098 <aaf1-0xf68>
#------------------------------------------------------------------------------
#------ taf1's .iplt entry
#------------------------------------------------------------------------------
    a090:	0afffc00 	beq	9098 <aaf1-0xf68>
    a094:	e59f4000 	ldr	r4, \[pc\]	; a09c <arm\+0x4c>
    a098:	e59f4000 	ldr	r4, \[pc\]	; a0a0 <arm\+0x50>
#------------------------------------------------------------------------------
#------ GP-relative offset of taf1's .igot.plt entry
#------------------------------------------------------------------------------
    a09c:	00000030 	\.word	0x00000030
#------------------------------------------------------------------------------
#------ PC-relative offset of taf1's .igot.plt entry
#------------------------------------------------------------------------------
    a0a0:	00006f90 	\.word	0x00006f90
#------------------------------------------------------------------------------
#------ abf1's .iplt entry
#------------------------------------------------------------------------------
    a0a4:	ebfffbf8 	bl	908c <aaf1-0xf74>
#------------------------------------------------------------------------------
#------ abf1's .iplt entry
#------------------------------------------------------------------------------
    a0a8:	eafffbf7 	b	908c <aaf1-0xf74>
#------------------------------------------------------------------------------
#------ abf1's .iplt entry
#------------------------------------------------------------------------------
    a0ac:	0afffbf6 	beq	908c <aaf1-0xf74>
    a0b0:	e59f4000 	ldr	r4, \[pc\]	; a0b8 <arm\+0x68>
    a0b4:	e59f4000 	ldr	r4, \[pc\]	; a0bc <arm\+0x6c>
#------------------------------------------------------------------------------
#------ GP-relative offset of abf1's .igot.plt entry
#------------------------------------------------------------------------------
    a0b8:	0000002c 	\.word	0x0000002c
#------------------------------------------------------------------------------
#------ PC-relative offset of abf1's .igot.plt entry
#------------------------------------------------------------------------------
    a0bc:	00006f70 	\.word	0x00006f70
#------------------------------------------------------------------------------
#------ tbf1's .iplt entry
#------------------------------------------------------------------------------
    a0c0:	ebfffbfc 	bl	90b8 <aaf1-0xf48>
#------------------------------------------------------------------------------
#------ tbf1's .iplt entry
#------------------------------------------------------------------------------
    a0c4:	eafffbfb 	b	90b8 <aaf1-0xf48>
#------------------------------------------------------------------------------
#------ tbf1's .iplt entry
#------------------------------------------------------------------------------
    a0c8:	0afffbfa 	beq	90b8 <aaf1-0xf48>
    a0cc:	e59f4000 	ldr	r4, \[pc\]	; a0d4 <arm\+0x84>
    a0d0:	e59f4000 	ldr	r4, \[pc\]	; a0d8 <arm\+0x88>
#------------------------------------------------------------------------------
#------ GP-relative offset of tbf1's .igot.plt entry
#------------------------------------------------------------------------------
    a0d4:	00000038 	\.word	0x00000038
#------------------------------------------------------------------------------
#------ PC-relative offset of tbf1's .igot.plt entry
#------------------------------------------------------------------------------
    a0d8:	00006f60 	\.word	0x00006f60
#------------------------------------------------------------------------------
#------ aaf2's .plt entry
#------------------------------------------------------------------------------
    a0dc:	ebfffbdb 	bl	9050 <aaf1-0xfb0>
#------------------------------------------------------------------------------
#------ aaf2's .plt entry
#------------------------------------------------------------------------------
    a0e0:	eafffbda 	b	9050 <aaf1-0xfb0>
#------------------------------------------------------------------------------
#------ aaf2's .plt entry
#------------------------------------------------------------------------------
    a0e4:	0afffbd9 	beq	9050 <aaf1-0xfb0>
    a0e8:	e59f4000 	ldr	r4, \[pc\]	; a0f0 <arm\+0xa0>
    a0ec:	e59f4000 	ldr	r4, \[pc\]	; a0f4 <arm\+0xa4>
#------------------------------------------------------------------------------
#------ .got offset for aaf2
#------------------------------------------------------------------------------
    a0f0:	00000088 	\.word	0x00000088
#------------------------------------------------------------------------------
#------ PC-relative offset of .got entry for aaf2
#------------------------------------------------------------------------------
    a0f4:	00006f94 	\.word	0x00006f94
#------------------------------------------------------------------------------
#------ taf2's .plt entry
#------------------------------------------------------------------------------
    a0f8:	ebfffbd1 	bl	9044 <aaf1-0xfbc>
#------------------------------------------------------------------------------
#------ taf2's .plt entry
#------------------------------------------------------------------------------
    a0fc:	eafffbd0 	b	9044 <aaf1-0xfbc>
#------------------------------------------------------------------------------
#------ taf2's .plt entry
#------------------------------------------------------------------------------
    a100:	0afffbcf 	beq	9044 <aaf1-0xfbc>
    a104:	e59f4000 	ldr	r4, \[pc\]	; a10c <arm\+0xbc>
    a108:	e59f4000 	ldr	r4, \[pc\]	; a110 <arm\+0xc0>
#------------------------------------------------------------------------------
#------ .got offset for taf2
#------------------------------------------------------------------------------
    a10c:	00000084 	\.word	0x00000084
#------------------------------------------------------------------------------
#------ PC-relative offset of .got entry for taf2
#------------------------------------------------------------------------------
    a110:	00006f74 	\.word	0x00006f74
#------------------------------------------------------------------------------
#------ abf2's .plt entry
#------------------------------------------------------------------------------
    a114:	ebfffbd1 	bl	9060 <aaf1-0xfa0>
#------------------------------------------------------------------------------
#------ abf2's .plt entry
#------------------------------------------------------------------------------
    a118:	eafffbd0 	b	9060 <aaf1-0xfa0>
#------------------------------------------------------------------------------
#------ abf2's .plt entry
#------------------------------------------------------------------------------
    a11c:	0afffbcf 	beq	9060 <aaf1-0xfa0>
    a120:	e59f4000 	ldr	r4, \[pc\]	; a128 <arm\+0xd8>
    a124:	e59f4000 	ldr	r4, \[pc\]	; a12c <arm\+0xdc>
#------------------------------------------------------------------------------
#------ .got offset for abf2
#------------------------------------------------------------------------------
    a128:	000000a0 	\.word	0x000000a0
#------------------------------------------------------------------------------
#------ PC-relative offset of .got entry for abf2
#------------------------------------------------------------------------------
    a12c:	00006f74 	\.word	0x00006f74
#------------------------------------------------------------------------------
#------ tbf2's .plt entry
#------------------------------------------------------------------------------
    a130:	ebfffbc0 	bl	9038 <aaf1-0xfc8>
#------------------------------------------------------------------------------
#------ tbf2's .plt entry
#------------------------------------------------------------------------------
    a134:	eafffbbf 	b	9038 <aaf1-0xfc8>
#------------------------------------------------------------------------------
#------ tbf2's .plt entry
#------------------------------------------------------------------------------
    a138:	0afffbbe 	beq	9038 <aaf1-0xfc8>
    a13c:	e59f4000 	ldr	r4, \[pc\]	; a144 <arm\+0xf4>
    a140:	e59f4000 	ldr	r4, \[pc\]	; a148 <arm\+0xf8>
#------------------------------------------------------------------------------
#------ .got offset for tbf2
#------------------------------------------------------------------------------
    a144:	00000080 	\.word	0x00000080
#------------------------------------------------------------------------------
#------ PC-relative offset of .got entry for tbf2
#------------------------------------------------------------------------------
    a148:	00006f38 	\.word	0x00006f38
#------------------------------------------------------------------------------
#------ aaf3's .iplt entry
#------------------------------------------------------------------------------
    a14c:	ebfffbfe 	bl	914c <aaf1-0xeb4>
#------------------------------------------------------------------------------
#------ aaf3's .iplt entry
#------------------------------------------------------------------------------
    a150:	eafffbfd 	b	914c <aaf1-0xeb4>
#------------------------------------------------------------------------------
#------ aaf3's .iplt entry
#------------------------------------------------------------------------------
    a154:	0afffbfc 	beq	914c <aaf1-0xeb4>
    a158:	e59f4000 	ldr	r4, \[pc\]	; a160 <arm\+0x110>
    a15c:	e59f4000 	ldr	r4, \[pc\]	; a164 <arm\+0x114>
#------------------------------------------------------------------------------
#------ GP-relative offset of aaf3's .igot.plt entry
#------------------------------------------------------------------------------
    a160:	00000060 	\.word	0x00000060
#------------------------------------------------------------------------------
#------ PC-relative offset of aaf3's .igot.plt entry
#------------------------------------------------------------------------------
    a164:	00006efc 	\.word	0x00006efc
#------------------------------------------------------------------------------
#------ taf3's .iplt entry
#------------------------------------------------------------------------------
    a168:	ebfffbe8 	bl	9110 <aaf1-0xef0>
#------------------------------------------------------------------------------
#------ taf3's .iplt entry
#------------------------------------------------------------------------------
    a16c:	eafffbe7 	b	9110 <aaf1-0xef0>
#------------------------------------------------------------------------------
#------ taf3's .iplt entry
#------------------------------------------------------------------------------
    a170:	0afffbe6 	beq	9110 <aaf1-0xef0>
    a174:	e59f4000 	ldr	r4, \[pc\]	; a17c <arm\+0x12c>
    a178:	e59f4000 	ldr	r4, \[pc\]	; a180 <arm\+0x130>
#------------------------------------------------------------------------------
#------ GP-relative offset of taf3's .igot.plt entry
#------------------------------------------------------------------------------
    a17c:	00000050 	\.word	0x00000050
#------------------------------------------------------------------------------
#------ PC-relative offset of taf3's .igot.plt entry
#------------------------------------------------------------------------------
    a180:	00006ed0 	\.word	0x00006ed0
#------------------------------------------------------------------------------
#------ abf3's .iplt entry
#------------------------------------------------------------------------------
    a184:	ebfffbd6 	bl	90e4 <aaf1-0xf1c>
#------------------------------------------------------------------------------
#------ abf3's .iplt entry
#------------------------------------------------------------------------------
    a188:	eafffbd5 	b	90e4 <aaf1-0xf1c>
#------------------------------------------------------------------------------
#------ abf3's .iplt entry
#------------------------------------------------------------------------------
    a18c:	0afffbd4 	beq	90e4 <aaf1-0xf1c>
    a190:	e59f4000 	ldr	r4, \[pc\]	; a198 <arm\+0x148>
    a194:	e59f4000 	ldr	r4, \[pc\]	; a19c <arm\+0x14c>
#------------------------------------------------------------------------------
#------ GP-relative offset of abf3's .igot.plt entry
#------------------------------------------------------------------------------
    a198:	00000044 	\.word	0x00000044
#------------------------------------------------------------------------------
#------ PC-relative offset of abf3's .igot.plt entry
#------------------------------------------------------------------------------
    a19c:	00006ea8 	\.word	0x00006ea8
#------------------------------------------------------------------------------
#------ tbf3's .iplt entry
#------------------------------------------------------------------------------
    a1a0:	ebfffbd7 	bl	9104 <aaf1-0xefc>
#------------------------------------------------------------------------------
#------ tbf3's .iplt entry
#------------------------------------------------------------------------------
    a1a4:	eafffbd6 	b	9104 <aaf1-0xefc>
#------------------------------------------------------------------------------
#------ tbf3's .iplt entry
#------------------------------------------------------------------------------
    a1a8:	0afffbd5 	beq	9104 <aaf1-0xefc>
    a1ac:	e59f4000 	ldr	r4, \[pc\]	; a1b4 <arm\+0x164>
    a1b0:	e59f4000 	ldr	r4, \[pc\]	; a1b8 <arm\+0x168>
#------------------------------------------------------------------------------
#------ GP-relative offset of tbf3's .igot.plt entry
#------------------------------------------------------------------------------
    a1b4:	0000004c 	\.word	0x0000004c
#------------------------------------------------------------------------------
#------ PC-relative offset of tbf3's .igot.plt entry
#------------------------------------------------------------------------------
    a1b8:	00006e94 	\.word	0x00006e94
#------------------------------------------------------------------------------
#------ aaf4's .iplt entry
#------------------------------------------------------------------------------
    a1bc:	ebfffbc0 	bl	90c4 <aaf1-0xf3c>
#------------------------------------------------------------------------------
#------ aaf4's .iplt entry
#------------------------------------------------------------------------------
    a1c0:	eafffbbf 	b	90c4 <aaf1-0xf3c>
#------------------------------------------------------------------------------
#------ aaf4's .iplt entry
#------------------------------------------------------------------------------
    a1c4:	0afffbbe 	beq	90c4 <aaf1-0xf3c>
    a1c8:	e59f4000 	ldr	r4, \[pc\]	; a1d0 <arm\+0x180>
    a1cc:	e59f4000 	ldr	r4, \[pc\]	; a1d4 <arm\+0x184>
#------------------------------------------------------------------------------
#------ .got offset for aaf4
#------------------------------------------------------------------------------
    a1d0:	00000078 	\.word	0x00000078
#------------------------------------------------------------------------------
#------ PC-relative offset of .got entry for aaf4
#------------------------------------------------------------------------------
    a1d4:	00006ea4 	\.word	0x00006ea4
#------------------------------------------------------------------------------
#------ taf4's .iplt entry
#------------------------------------------------------------------------------
    a1d8:	ebfffbe2 	bl	9168 <aaf1-0xe98>
#------------------------------------------------------------------------------
#------ taf4's .iplt entry
#------------------------------------------------------------------------------
    a1dc:	eafffbe1 	b	9168 <aaf1-0xe98>
#------------------------------------------------------------------------------
#------ taf4's .iplt entry
#------------------------------------------------------------------------------
    a1e0:	0afffbe0 	beq	9168 <aaf1-0xe98>
    a1e4:	e59f4000 	ldr	r4, \[pc\]	; a1ec <arm\+0x19c>
    a1e8:	e59f4000 	ldr	r4, \[pc\]	; a1f0 <arm\+0x1a0>
#------------------------------------------------------------------------------
#------ .got offset for taf4
#------------------------------------------------------------------------------
    a1ec:	0000009c 	\.word	0x0000009c
#------------------------------------------------------------------------------
#------ PC-relative offset of .got entry for taf4
#------------------------------------------------------------------------------
    a1f0:	00006eac 	\.word	0x00006eac
#------------------------------------------------------------------------------
#------ abf4's .iplt entry
#------------------------------------------------------------------------------
    a1f4:	ebfffbc9 	bl	9120 <aaf1-0xee0>
#------------------------------------------------------------------------------
#------ abf4's .iplt entry
#------------------------------------------------------------------------------
    a1f8:	eafffbc8 	b	9120 <aaf1-0xee0>
#------------------------------------------------------------------------------
#------ abf4's .iplt entry
#------------------------------------------------------------------------------
    a1fc:	0afffbc7 	beq	9120 <aaf1-0xee0>
    a200:	e59f4000 	ldr	r4, \[pc\]	; a208 <arm\+0x1b8>
    a204:	e59f4000 	ldr	r4, \[pc\]	; a20c <arm\+0x1bc>
#------------------------------------------------------------------------------
#------ .got offset for abf4
#------------------------------------------------------------------------------
    a208:	0000008c 	\.word	0x0000008c
#------------------------------------------------------------------------------
#------ PC-relative offset of .got entry for abf4
#------------------------------------------------------------------------------
    a20c:	00006e80 	\.word	0x00006e80
#------------------------------------------------------------------------------
#------ tbf4's .iplt entry
#------------------------------------------------------------------------------
    a210:	ebfffbc6 	bl	9130 <aaf1-0xed0>
#------------------------------------------------------------------------------
#------ tbf4's .iplt entry
#------------------------------------------------------------------------------
    a214:	eafffbc5 	b	9130 <aaf1-0xed0>
#------------------------------------------------------------------------------
#------ tbf4's .iplt entry
#------------------------------------------------------------------------------
    a218:	0afffbc4 	beq	9130 <aaf1-0xed0>
    a21c:	e59f4000 	ldr	r4, \[pc\]	; a224 <arm\+0x1d4>
    a220:	e59f4000 	ldr	r4, \[pc\]	; a228 <arm\+0x1d8>
#------------------------------------------------------------------------------
#------ .got offset for tbf4
#------------------------------------------------------------------------------
    a224:	00000090 	\.word	0x00000090
#------------------------------------------------------------------------------
#------ PC-relative offset of .got entry for tbf4
#------------------------------------------------------------------------------
    a228:	00006e68 	\.word	0x00006e68

0000a22c <_thumb>:
    a22c:	f005 fee8 	bl	10000 <foo>
    a230:	f005 bee6 	b\.w	10000 <foo>
    a234:	f005 86e4 	beq\.w	10000 <foo>
    a238:	4c00      	ldr	r4, \[pc, #0\]	; \(a23c <_thumb\+0x10>\)
    a23a:	4c01      	ldr	r4, \[pc, #4\]	; \(a240 <_thumb\+0x14>\)
#------------------------------------------------------------------------------
#------ .got offset for foo
#------------------------------------------------------------------------------
    a23c:	00000070 	\.word	0x00000070
#------------------------------------------------------------------------------
#------ PC-relative offset of .got entry for foo
#------------------------------------------------------------------------------
    a240:	00006e2c 	\.word	0x00006e2c
#------------------------------------------------------------------------------
#------ atf1's .iplt entry
#------------------------------------------------------------------------------
    a244:	f7fe ef1a 	blx	907c <aaf1-0xf84>
#------------------------------------------------------------------------------
#------ thumb entry to atf1's .iplt entry
#------------------------------------------------------------------------------
    a248:	f7fe bf16 	b\.w	9078 <aaf1-0xf88>
#------------------------------------------------------------------------------
#------ thumb entry to atf1's .iplt entry
#------------------------------------------------------------------------------
    a24c:	f43e af14 	beq\.w	9078 <aaf1-0xf88>
    a250:	4c00      	ldr	r4, \[pc, #0\]	; \(a254 <_thumb\+0x28>\)
    a252:	4c01      	ldr	r4, \[pc, #4\]	; \(a258 <_thumb\+0x2c>\)
#------------------------------------------------------------------------------
#------ GP-relative offset of atf1's .igot.plt entry
#------------------------------------------------------------------------------
    a254:	00000028 	\.word	0x00000028
#------------------------------------------------------------------------------
#------ PC-relative offset of atf1's .igot.plt entry
#------------------------------------------------------------------------------
    a258:	00006dd0 	\.word	0x00006dd0
#------------------------------------------------------------------------------
#------ ttf1's .iplt entry
#------------------------------------------------------------------------------
    a25c:	f7fe ef24 	blx	90a8 <aaf1-0xf58>
#------------------------------------------------------------------------------
#------ thumb entry to ttf1's .iplt entry
#------------------------------------------------------------------------------
    a260:	f7fe bf20 	b\.w	90a4 <aaf1-0xf5c>
#------------------------------------------------------------------------------
#------ thumb entry to ttf1's .iplt entry
#------------------------------------------------------------------------------
    a264:	f43e af1e 	beq\.w	90a4 <aaf1-0xf5c>
    a268:	4c00      	ldr	r4, \[pc, #0\]	; \(a26c <_thumb\+0x40>\)
    a26a:	4c01      	ldr	r4, \[pc, #4\]	; \(a270 <_thumb\+0x44>\)
#------------------------------------------------------------------------------
#------ GP-relative offset of ttf1's .igot.plt entry
#------------------------------------------------------------------------------
    a26c:	00000034 	\.word	0x00000034
#------------------------------------------------------------------------------
#------ PC-relative offset of ttf1's .igot.plt entry
#------------------------------------------------------------------------------
    a270:	00006dc4 	\.word	0x00006dc4
#------------------------------------------------------------------------------
#------ abf1's .iplt entry
#------------------------------------------------------------------------------
    a274:	f7fe ef0a 	blx	908c <aaf1-0xf74>
#------------------------------------------------------------------------------
#------ thumb entry to abf1's .iplt entry
#------------------------------------------------------------------------------
    a278:	f7fe bf06 	b\.w	9088 <aaf1-0xf78>
#------------------------------------------------------------------------------
#------ thumb entry to abf1's .iplt entry
#------------------------------------------------------------------------------
    a27c:	f43e af04 	beq\.w	9088 <aaf1-0xf78>
    a280:	4c00      	ldr	r4, \[pc, #0\]	; \(a284 <_thumb\+0x58>\)
    a282:	4c01      	ldr	r4, \[pc, #4\]	; \(a288 <_thumb\+0x5c>\)
#------------------------------------------------------------------------------
#------ GP-relative offset of abf1's .igot.plt entry
#------------------------------------------------------------------------------
    a284:	0000002c 	\.word	0x0000002c
#------------------------------------------------------------------------------
#------ PC-relative offset of abf1's .igot.plt entry
#------------------------------------------------------------------------------
    a288:	00006da4 	\.word	0x00006da4
#------------------------------------------------------------------------------
#------ tbf1's .iplt entry
#------------------------------------------------------------------------------
    a28c:	f7fe ef14 	blx	90b8 <aaf1-0xf48>
#------------------------------------------------------------------------------
#------ thumb entry to tbf1's .iplt entry
#------------------------------------------------------------------------------
    a290:	f7fe bf10 	b\.w	90b4 <aaf1-0xf4c>
#------------------------------------------------------------------------------
#------ thumb entry to tbf1's .iplt entry
#------------------------------------------------------------------------------
    a294:	f43e af0e 	beq\.w	90b4 <aaf1-0xf4c>
    a298:	4c00      	ldr	r4, \[pc, #0\]	; \(a29c <_thumb\+0x70>\)
    a29a:	4c01      	ldr	r4, \[pc, #4\]	; \(a2a0 <_thumb\+0x74>\)
#------------------------------------------------------------------------------
#------ GP-relative offset of tbf1's .igot.plt entry
#------------------------------------------------------------------------------
    a29c:	00000038 	\.word	0x00000038
#------------------------------------------------------------------------------
#------ PC-relative offset of tbf1's .igot.plt entry
#------------------------------------------------------------------------------
    a2a0:	00006d98 	\.word	0x00006d98
#------------------------------------------------------------------------------
#------ atf2's .plt entry
#------------------------------------------------------------------------------
    a2a4:	f7fe eeb8 	blx	9018 <aaf1-0xfe8>
#------------------------------------------------------------------------------
#------ thumb entry to atf2's .plt entry
#------------------------------------------------------------------------------
    a2a8:	f7fe beb4 	b\.w	9014 <aaf1-0xfec>
#------------------------------------------------------------------------------
#------ thumb entry to atf2's .plt entry
#------------------------------------------------------------------------------
    a2ac:	f43e aeb2 	beq\.w	9014 <aaf1-0xfec>
    a2b0:	4c00      	ldr	r4, \[pc, #0\]	; \(a2b4 <_thumb\+0x88>\)
    a2b2:	4c01      	ldr	r4, \[pc, #4\]	; \(a2b8 <_thumb\+0x8c>\)
#------------------------------------------------------------------------------
#------ .got offset for atf2
#------------------------------------------------------------------------------
    a2b4:	00000074 	\.word	0x00000074
#------------------------------------------------------------------------------
#------ PC-relative offset of .got entry for atf2
#------------------------------------------------------------------------------
    a2b8:	00006dbc 	\.word	0x00006dbc
#------------------------------------------------------------------------------
#------ ttf2's .plt entry
#------------------------------------------------------------------------------
    a2bc:	f7fe eeb4 	blx	9028 <aaf1-0xfd8>
#------------------------------------------------------------------------------
#------ thumb entry to ttf2's .plt entry
#------------------------------------------------------------------------------
    a2c0:	f7fe beb0 	b\.w	9024 <aaf1-0xfdc>
#------------------------------------------------------------------------------
#------ thumb entry to ttf2's .plt entry
#------------------------------------------------------------------------------
    a2c4:	f43e aeae 	beq\.w	9024 <aaf1-0xfdc>
    a2c8:	4c00      	ldr	r4, \[pc, #0\]	; \(a2cc <_thumb\+0xa0>\)
    a2ca:	4c01      	ldr	r4, \[pc, #4\]	; \(a2d0 <_thumb\+0xa4>\)
#------------------------------------------------------------------------------
#------ .got offset for ttf2
#------------------------------------------------------------------------------
    a2cc:	0000007c 	\.word	0x0000007c
#------------------------------------------------------------------------------
#------ PC-relative offset of .got entry for ttf2
#------------------------------------------------------------------------------
    a2d0:	00006dac 	\.word	0x00006dac
#------------------------------------------------------------------------------
#------ abf2's .plt entry
#------------------------------------------------------------------------------
    a2d4:	f7fe eec4 	blx	9060 <aaf1-0xfa0>
#------------------------------------------------------------------------------
#------ thumb entry to abf2's .plt entry
#------------------------------------------------------------------------------
    a2d8:	f7fe bec0 	b\.w	905c <aaf1-0xfa4>
#------------------------------------------------------------------------------
#------ thumb entry to abf2's .plt entry
#------------------------------------------------------------------------------
    a2dc:	f43e aebe 	beq\.w	905c <aaf1-0xfa4>
    a2e0:	4c00      	ldr	r4, \[pc, #0\]	; \(a2e4 <_thumb\+0xb8>\)
    a2e2:	4c01      	ldr	r4, \[pc, #4\]	; \(a2e8 <_thumb\+0xbc>\)
#------------------------------------------------------------------------------
#------ .got offset for abf2
#------------------------------------------------------------------------------
    a2e4:	000000a0 	\.word	0x000000a0
#------------------------------------------------------------------------------
#------ PC-relative offset of .got entry for abf2
#------------------------------------------------------------------------------
    a2e8:	00006db8 	\.word	0x00006db8
#------------------------------------------------------------------------------
#------ tbf2's .plt entry
#------------------------------------------------------------------------------
    a2ec:	f7fe eea4 	blx	9038 <aaf1-0xfc8>
#------------------------------------------------------------------------------
#------ thumb entry to tbf2's .plt entry
#------------------------------------------------------------------------------
    a2f0:	f7fe bea0 	b\.w	9034 <aaf1-0xfcc>
#------------------------------------------------------------------------------
#------ thumb entry to tbf2's .plt entry
#------------------------------------------------------------------------------
    a2f4:	f43e ae9e 	beq\.w	9034 <aaf1-0xfcc>
    a2f8:	4c00      	ldr	r4, \[pc, #0\]	; \(a2fc <_thumb\+0xd0>\)
    a2fa:	4c01      	ldr	r4, \[pc, #4\]	; \(a300 <_thumb\+0xd4>\)
#------------------------------------------------------------------------------
#------ .got offset for tbf2
#------------------------------------------------------------------------------
    a2fc:	00000080 	\.word	0x00000080
#------------------------------------------------------------------------------
#------ PC-relative offset of .got entry for tbf2
#------------------------------------------------------------------------------
    a300:	00006d80 	\.word	0x00006d80
#------------------------------------------------------------------------------
#------ atf3's .iplt entry
#------------------------------------------------------------------------------
    a304:	f7fe eee6 	blx	90d4 <aaf1-0xf2c>
#------------------------------------------------------------------------------
#------ thumb entry to atf3's .iplt entry
#------------------------------------------------------------------------------
    a308:	f7fe bee2 	b\.w	90d0 <aaf1-0xf30>
#------------------------------------------------------------------------------
#------ thumb entry to atf3's .iplt entry
#------------------------------------------------------------------------------
    a30c:	f43e aee0 	beq\.w	90d0 <aaf1-0xf30>
    a310:	4c00      	ldr	r4, \[pc, #0\]	; \(a314 <_thumb\+0xe8>\)
    a312:	4c01      	ldr	r4, \[pc, #4\]	; \(a318 <_thumb\+0xec>\)
#------------------------------------------------------------------------------
#------ GP-relative offset of atf3's .igot.plt entry
#------------------------------------------------------------------------------
    a314:	00000040 	\.word	0x00000040
#------------------------------------------------------------------------------
#------ PC-relative offset of atf3's .igot.plt entry
#------------------------------------------------------------------------------
    a318:	00006d28 	\.word	0x00006d28
#------------------------------------------------------------------------------
#------ ttf3's .iplt entry
#------------------------------------------------------------------------------
    a31c:	f7fe eeea 	blx	90f4 <aaf1-0xf0c>
#------------------------------------------------------------------------------
#------ thumb entry to ttf3's .iplt entry
#------------------------------------------------------------------------------
    a320:	f7fe bee6 	b\.w	90f0 <aaf1-0xf10>
#------------------------------------------------------------------------------
#------ thumb entry to ttf3's .iplt entry
#------------------------------------------------------------------------------
    a324:	f43e aee4 	beq\.w	90f0 <aaf1-0xf10>
    a328:	4c00      	ldr	r4, \[pc, #0\]	; \(a32c <_thumb\+0x100>\)
    a32a:	4c01      	ldr	r4, \[pc, #4\]	; \(a330 <_thumb\+0x104>\)
#------------------------------------------------------------------------------
#------ GP-relative offset of ttf3's .igot.plt entry
#------------------------------------------------------------------------------
    a32c:	00000048 	\.word	0x00000048
#------------------------------------------------------------------------------
#------ PC-relative offset of ttf3's .igot.plt entry
#------------------------------------------------------------------------------
    a330:	00006d18 	\.word	0x00006d18
#------------------------------------------------------------------------------
#------ abf3's .iplt entry
#------------------------------------------------------------------------------
    a334:	f7fe eed6 	blx	90e4 <aaf1-0xf1c>
#------------------------------------------------------------------------------
#------ thumb entry to abf3's .iplt entry
#------------------------------------------------------------------------------
    a338:	f7fe bed2 	b\.w	90e0 <aaf1-0xf20>
#------------------------------------------------------------------------------
#------ thumb entry to abf3's .iplt entry
#------------------------------------------------------------------------------
    a33c:	f43e aed0 	beq\.w	90e0 <aaf1-0xf20>
    a340:	4c00      	ldr	r4, \[pc, #0\]	; \(a344 <_thumb\+0x118>\)
    a342:	4c01      	ldr	r4, \[pc, #4\]	; \(a348 <_thumb\+0x11c>\)
#------------------------------------------------------------------------------
#------ GP-relative offset of abf3's .igot.plt entry
#------------------------------------------------------------------------------
    a344:	00000044 	\.word	0x00000044
#------------------------------------------------------------------------------
#------ PC-relative offset of abf3's .igot.plt entry
#------------------------------------------------------------------------------
    a348:	00006cfc 	\.word	0x00006cfc
#------------------------------------------------------------------------------
#------ tbf3's .iplt entry
#------------------------------------------------------------------------------
    a34c:	f7fe eeda 	blx	9104 <aaf1-0xefc>
#------------------------------------------------------------------------------
#------ thumb entry to tbf3's .iplt entry
#------------------------------------------------------------------------------
    a350:	f7fe bed6 	b\.w	9100 <aaf1-0xf00>
#------------------------------------------------------------------------------
#------ thumb entry to tbf3's .iplt entry
#------------------------------------------------------------------------------
    a354:	f43e aed4 	beq\.w	9100 <aaf1-0xf00>
    a358:	4c00      	ldr	r4, \[pc, #0\]	; \(a35c <_thumb\+0x130>\)
    a35a:	4c01      	ldr	r4, \[pc, #4\]	; \(a360 <_thumb\+0x134>\)
#------------------------------------------------------------------------------
#------ GP-relative offset of tbf3's .igot.plt entry
#------------------------------------------------------------------------------
    a35c:	0000004c 	\.word	0x0000004c
#------------------------------------------------------------------------------
#------ PC-relative offset of tbf3's .igot.plt entry
#------------------------------------------------------------------------------
    a360:	00006cec 	\.word	0x00006cec
#------------------------------------------------------------------------------
#------ atf4's .iplt entry
#------------------------------------------------------------------------------
    a364:	f7fe eefa 	blx	915c <aaf1-0xea4>
#------------------------------------------------------------------------------
#------ thumb entry to atf4's .iplt entry
#------------------------------------------------------------------------------
    a368:	f7fe bef6 	b\.w	9158 <aaf1-0xea8>
#------------------------------------------------------------------------------
#------ thumb entry to atf4's .iplt entry
#------------------------------------------------------------------------------
    a36c:	f43e aef4 	beq\.w	9158 <aaf1-0xea8>
    a370:	4c00      	ldr	r4, \[pc, #0\]	; \(a374 <_thumb\+0x148>\)
    a372:	4c01      	ldr	r4, \[pc, #4\]	; \(a378 <_thumb\+0x14c>\)
#------------------------------------------------------------------------------
#------ .got offset for atf4
#------------------------------------------------------------------------------
    a374:	00000098 	\.word	0x00000098
#------------------------------------------------------------------------------
#------ PC-relative offset of .got entry for atf4
#------------------------------------------------------------------------------
    a378:	00006d20 	\.word	0x00006d20
#------------------------------------------------------------------------------
#------ ttf4's .iplt entry
#------------------------------------------------------------------------------
    a37c:	f7fe eee0 	blx	9140 <aaf1-0xec0>
#------------------------------------------------------------------------------
#------ thumb entry to ttf4's .iplt entry
#------------------------------------------------------------------------------
    a380:	f7fe bedc 	b\.w	913c <aaf1-0xec4>
#------------------------------------------------------------------------------
#------ thumb entry to ttf4's .iplt entry
#------------------------------------------------------------------------------
    a384:	f43e aeda 	beq\.w	913c <aaf1-0xec4>
    a388:	4c00      	ldr	r4, \[pc, #0\]	; \(a38c <_thumb\+0x160>\)
    a38a:	4c01      	ldr	r4, \[pc, #4\]	; \(a390 <_thumb\+0x164>\)
#------------------------------------------------------------------------------
#------ .got offset for ttf4
#------------------------------------------------------------------------------
    a38c:	00000094 	\.word	0x00000094
#------------------------------------------------------------------------------
#------ PC-relative offset of .got entry for ttf4
#------------------------------------------------------------------------------
    a390:	00006d04 	\.word	0x00006d04
#------------------------------------------------------------------------------
#------ abf4's .iplt entry
#------------------------------------------------------------------------------
    a394:	f7fe eec4 	blx	9120 <aaf1-0xee0>
#------------------------------------------------------------------------------
#------ thumb entry to abf4's .iplt entry
#------------------------------------------------------------------------------
    a398:	f7fe bec0 	b\.w	911c <aaf1-0xee4>
#------------------------------------------------------------------------------
#------ thumb entry to abf4's .iplt entry
#------------------------------------------------------------------------------
    a39c:	f43e aebe 	beq\.w	911c <aaf1-0xee4>
    a3a0:	4c00      	ldr	r4, \[pc, #0\]	; \(a3a4 <_thumb\+0x178>\)
    a3a2:	4c01      	ldr	r4, \[pc, #4\]	; \(a3a8 <_thumb\+0x17c>\)
#------------------------------------------------------------------------------
#------ .got offset for abf4
#------------------------------------------------------------------------------
    a3a4:	0000008c 	\.word	0x0000008c
#------------------------------------------------------------------------------
#------ PC-relative offset of .got entry for abf4
#------------------------------------------------------------------------------
    a3a8:	00006ce4 	\.word	0x00006ce4
#------------------------------------------------------------------------------
#------ tbf4's .iplt entry
#------------------------------------------------------------------------------
    a3ac:	f7fe eec0 	blx	9130 <aaf1-0xed0>
#------------------------------------------------------------------------------
#------ thumb entry to tbf4's .iplt entry
#------------------------------------------------------------------------------
    a3b0:	f7fe bebc 	b\.w	912c <aaf1-0xed4>
#------------------------------------------------------------------------------
#------ thumb entry to tbf4's .iplt entry
#------------------------------------------------------------------------------
    a3b4:	f43e aeba 	beq\.w	912c <aaf1-0xed4>
    a3b8:	4c00      	ldr	r4, \[pc, #0\]	; \(a3bc <_thumb\+0x190>\)
    a3ba:	4c01      	ldr	r4, \[pc, #4\]	; \(a3c0 <_thumb\+0x194>\)
#------------------------------------------------------------------------------
#------ .got offset for tbf4
#------------------------------------------------------------------------------
    a3bc:	00000090 	\.word	0x00000090
#------------------------------------------------------------------------------
#------ PC-relative offset of .got entry for tbf4
#------------------------------------------------------------------------------
    a3c0:	00006cd0 	\.word	0x00006cd0
@


1.2
log
@	gas/
	* config/tc-arm.c (parse_address_main): Handle -0 offsets.
	(encode_arm_addr_mode_2): Set default sign of zero here ...
	(encode_arm_addr_mode_3): ... and here.
	(encode_arm_cp_address): ... and here.
	(md_apply_fix): Use default sign of zero here.

	gas/testsuite/
	* gas/arm/inst.d: Adjust for signed zero offsets.
	* gas/arm/ldst-offset0.d: New test.
	* gas/arm/ldst-offset0.s: New test.
	* gas/arm/offset-1.d: New test.
	* gas/arm/offset-1.s: New test.

	ld/testsuite/
	Adjust tests for zero offset formatting.
	* ld-arm/cortex-a8-fix-bcc-plt.d: Adjust.
	* ld-arm/farcall-arm-arm-pic-veneer.d: Adjust.
	* ld-arm/farcall-arm-thumb.d: Adjust.
	* ld-arm/farcall-group-size2.d: Adjust.
	* ld-arm/farcall-group.d: Adjust.
	* ld-arm/farcall-mix.d: Adjust.
	* ld-arm/farcall-mix2.d: Adjust.
	* ld-arm/farcall-mixed-lib-v4t.d: Adjust.
	* ld-arm/farcall-mixed-lib.d: Adjust.
	* ld-arm/farcall-thumb-arm-blx-pic-veneer.d: Adjust.
	* ld-arm/farcall-thumb-arm-pic-veneer.d: Adjust.
	* ld-arm/farcall-thumb-thumb.d: Adjust.
	* ld-arm/ifunc-10.dd: Adjust.
	* ld-arm/ifunc-3.dd: Adjust.
	* ld-arm/ifunc-4.dd: Adjust.
	* ld-arm/ifunc-5.dd: Adjust.
	* ld-arm/ifunc-6.dd: Adjust.
	* ld-arm/ifunc-7.dd: Adjust.
	* ld-arm/ifunc-8.dd: Adjust.
	* ld-arm/jump-reloc-veneers-long.d: Adjust.
	* ld-arm/tls-longplt-lib.d: Adjust.
	* ld-arm/tls-thumb1.d: Adjust.

	opcodes/
	* arm-dis.c (print_insn_coprocessor): Explicitly print #-0
	as address offset.
	(print_arm_address): Likewise. Elide positive #0 appropriately.
	(print_insn_arm): Likewise.
@
text
@d24 1
a24 1
    9018:	e28fc600 	add	ip, pc, #0
d35 1
a35 1
    9028:	e28fc600 	add	ip, pc, #0
d46 1
a46 1
    9038:	e28fc600 	add	ip, pc, #0
d52 1
a52 1
    9044:	e28fc600 	add	ip, pc, #0
d58 1
a58 1
    9050:	e28fc600 	add	ip, pc, #0
d69 1
a69 1
    9060:	e28fc600 	add	ip, pc, #0
d79 1
a79 1
    906c:	e28fc600 	add	ip, pc, #0
d90 1
a90 1
    907c:	e28fc600 	add	ip, pc, #0
d101 1
a101 1
    908c:	e28fc600 	add	ip, pc, #0
d107 1
a107 1
    9098:	e28fc600 	add	ip, pc, #0
d118 1
a118 1
    90a8:	e28fc600 	add	ip, pc, #0
d129 1
a129 1
    90b8:	e28fc600 	add	ip, pc, #0
d135 1
a135 1
    90c4:	e28fc600 	add	ip, pc, #0
d146 1
a146 1
    90d4:	e28fc600 	add	ip, pc, #0
d157 1
a157 1
    90e4:	e28fc600 	add	ip, pc, #0
d168 1
a168 1
    90f4:	e28fc600 	add	ip, pc, #0
d179 1
a179 1
    9104:	e28fc600 	add	ip, pc, #0
d185 1
a185 1
    9110:	e28fc600 	add	ip, pc, #0
d196 1
a196 1
    9120:	e28fc600 	add	ip, pc, #0
d207 1
a207 1
    9130:	e28fc600 	add	ip, pc, #0
d218 1
a218 1
    9140:	e28fc600 	add	ip, pc, #0
d224 1
a224 1
    914c:	e28fc600 	add	ip, pc, #0
d235 1
a235 1
    915c:	e28fc600 	add	ip, pc, #0
d241 1
a241 1
    9168:	e28fc600 	add	ip, pc, #0
@


1.1
log
@include/elf/
	* arm.h (R_ARM_IRELATIVE): New relocation.

bfd/
	* reloc.c (BFD_RELOC_ARM_IRELATIVE): New relocation.
	* bfd-in2.h: Regenerate.
	* elf32-arm.c (elf32_arm_howto_table_2): Rename existing definition
	to elf32_arm_howto_table_3 and replace with a single R_ARM_IRELATIVE
	entry.
	(elf32_arm_howto_from_type): Update accordingly.
	(elf32_arm_reloc_map): Map BFD_RELOC_ARM_IRELATIVE to R_ARM_IRELATIVE.
	(elf32_arm_reloc_name_lookup): Handle elf32_arm_howto_table_3.
	(arm_plt_info): New structure, split out from elf32_arm_link_hash_entry
	with an extra noncall_refcount field.
	(arm_local_iplt_info): New structure.
	(elf_arm_obj_tdata): Add local_iplt.
	(elf32_arm_local_iplt): New accessor macro.
	(elf32_arm_link_hash_entry): Replace plt_thumb_refcount,
	plt_maybe_thumb_refcount and plt_got_offset with an arm_plt_info.
	Change tls_type to a bitfield and add is_iplt.
	(elf32_arm_link_hash_newfunc): Update accordingly.
	(elf32_arm_allocate_local_sym_info): New function.
	(elf32_arm_create_local_iplt): Likewise.
	(elf32_arm_get_plt_info): Likewise.
	(elf32_arm_plt_needs_thumb_stub_p): Likewise.
	(elf32_arm_get_local_dynreloc_list): Likewise.
	(create_ifunc_sections): Likewise.
	(elf32_arm_copy_indirect_symbol): Update after the changes to
	elf32_arm_link_hash_entry.  Assert the is_iplt has not yet been set.
	(arm_type_of_stub): Add an st_type argument.  Use elf32_arm_get_plt_info
	to get PLT information.  Assert that all STT_GNU_IFUNC references
	are turned into PLT references.
	(arm_build_one_stub): Pass the symbol type to
	elf32_arm_final_link_relocate.
	(elf32_arm_size_stubs): Pass the symbol type to arm_type_of_stub.
	(elf32_arm_allocate_irelocs): New function.
	(elf32_arm_add_dynreloc): In static objects, use .rel.iplt for
	all R_ARM_IRELATIVE.
	(elf32_arm_allocate_plt_entry): New function.
	(elf32_arm_populate_plt_entry): Likewise.
	(elf32_arm_final_link_relocate): Add an st_type parameter.
	Set srelgot to null for static objects.  Use separate variables
	to record which st_value and st_type should be used when generating
	a dynamic relocation.  Use elf32_arm_get_plt_info to find the
	symbol's PLT information, setting has_iplt_entry, splt,
	plt_offset and gotplt_offset accordingly.  Check whether
	STT_GNU_IFUNC symbols should resolve to an .iplt entry, and change
	the relocation target accordingly.  Broaden assert to include
	.iplts.  Don't set sreloc for static relocations.  Assert that
	we only generate dynamic R_ARM_RELATIVE relocations for R_ARM_ABS32
	and R_ARM_ABS32_NOI.  Generate R_ARM_IRELATIVE relocations instead
	of R_ARM_RELATIVE relocations if the target is an STT_GNU_IFUNC
	symbol.  Pass the symbol type to arm_type_of_stub.  Conditionally
	resolve GOT references to the .igot.plt entry.
	(elf32_arm_relocate_section): Update the call to
	elf32_arm_final_link_relocate.
	(elf32_arm_gc_sweep_hook): Use elf32_arm_get_plt_info to get PLT
	information.  Treat R_ARM_REL32 and R_ARM_REL32_NOI as call
	relocations in shared libraries and relocatable executables.
	Count non-call PLT references.  Use elf32_arm_get_local_dynreloc_list
	to get the list of dynamic relocations for a local symbol.
	(elf32_arm_check_relocs): Always create ifunc sections.  Set isym
	at the same time as setting h.  Use elf32_arm_allocate_local_sym_info
	to allocate local symbol information.  Treat R_ARM_REL32 and
	R_ARM_REL32_NOI as call relocations in shared libraries and
	relocatable executables.  Record PLT information for local
	STT_GNU_IFUNC functions as well as global functions.   Count
	non-call PLT references.  Use elf32_arm_get_local_dynreloc_list
	to get the list of dynamic relocations for a local symbol.
	(elf32_arm_adjust_dynamic_symbol): Handle STT_GNU_IFUNC symbols.
	Don't remove STT_GNU_IFUNC PLTs unless all references have been
	removed.  Update after the changes to elf32_arm_link_hash_entry.
	(allocate_dynrelocs_for_symbol): Decide whether STT_GNU_IFUNC PLT
	entries should live in .plt or .iplt.  Check whether the .igot.plt
	and .got entries can be combined.  Use elf32_arm_allocate_plt_entry
	to allocate .plt and .(i)got.plt entries.  Detect which .got
	entries will need R_ARM_IRELATIVE relocations and use
	elf32_arm_allocate_irelocs to allocate them.  Likewise other
	non-.got dynamic relocations.
	(elf32_arm_size_dynamic_sections): Allocate .iplt, .igot.plt
	and dynamic relocations for local STT_GNU_IFUNC symbols.
	Check whether the .igot.plt and .got entries can be combined.
	Detect which .got entries will need R_ARM_IRELATIVE relocations
	and use elf32_arm_allocate_irelocs to allocate them.  Use stashed
	section pointers intead of strcmp checks.  Handle iplt and igotplt.
	(elf32_arm_finish_dynamic_symbol): Use elf32_arm_populate_plt_entry
	to fill in .plt, .got.plt and .rel(a).plt entries.  Point
	STT_GNU_IFUNC symbols at an .iplt entry if non-call relocations
	resolve to it.
	(elf32_arm_output_plt_map_1): New function, split out from
	elf32_arm_output_plt_map.  Handle .iplt entries.  Use
	elf32_arm_plt_needs_thumb_stub_p.
	(elf32_arm_output_plt_map): Call it.
	(elf32_arm_output_arch_local_syms): Add mapping symbols for
	local .iplt entries.
	(elf32_arm_swap_symbol_in): Handle Thumb STT_GNU_IFUNC symbols.
	(elf32_arm_swap_symbol_out): Likewise.
	(elf32_arm_add_symbol_hook): New function.
	(elf_backend_add_symbol_hook): Define for all targets.

opcodes/
	* arm-dis.c (get_sym_code_type): Treat STT_GNU_IFUNCs as code.

gas/
	* config/tc-arm.c (md_pcrel_from_section): Use S_FORCE_RELOC to
	determine whether a relocation is needed.
	(md_apply_fix, arm_apply_sym_value): Likewise.

ld/testsuite/
	* ld-arm/ifunc-1.s, ld-arm/ifunc-1.dd, ld-arm/ifunc-1.gd,
	ld-arm/ifunc-1.rd, ld-arm/ifunc-2.s, ld-arm/ifunc-2.dd,
	ld-arm/ifunc-2.gd, ld-arm/ifunc-2.rd, ld-arm/ifunc-3.s,
	ld-arm/ifunc-3.dd, ld-arm/ifunc-3.gd, ld-arm/ifunc-3.rd,
	ld-arm/ifunc-4.s, ld-arm/ifunc-4.dd, ld-arm/ifunc-4.gd,
	ld-arm/ifunc-4.rd, ld-arm/ifunc-5.s, ld-arm/ifunc-5.dd,
	ld-arm/ifunc-5.gd, ld-arm/ifunc-5.rd, ld-arm/ifunc-6.s,
	ld-arm/ifunc-6.dd, ld-arm/ifunc-6.gd, ld-arm/ifunc-6.rd,
	ld-arm/ifunc-7.s, ld-arm/ifunc-7.dd, ld-arm/ifunc-7.gd,
	ld-arm/ifunc-7.rd, ld-arm/ifunc-8.s, ld-arm/ifunc-8.dd,
	ld-arm/ifunc-8.gd, ld-arm/ifunc-8.rd, ld-arm/ifunc-9.s,
	ld-arm/ifunc-9.dd, ld-arm/ifunc-9.gd, ld-arm/ifunc-9.rd,
	ld-arm/ifunc-10.s, ld-arm/ifunc-10.dd, ld-arm/ifunc-10.gd,
	ld-arm/ifunc-10.rd, ld-arm/ifunc-11.s, ld-arm/ifunc-11.dd,
	ld-arm/ifunc-11.gd, ld-arm/ifunc-11.rd, ld-arm/ifunc-12.s,
	ld-arm/ifunc-12.dd, ld-arm/ifunc-12.gd, ld-arm/ifunc-12.rd,
	ld-arm/ifunc-13.s, ld-arm/ifunc-13.dd, ld-arm/ifunc-13.gd,
	ld-arm/ifunc-13.rd, ld-arm/ifunc-14.s, ld-arm/ifunc-14.dd,
	ld-arm/ifunc-14.gd, ld-arm/ifunc-14.rd, ld-arm/ifunc-15.s,
	ld-arm/ifunc-15.dd, ld-arm/ifunc-15.gd, ld-arm/ifunc-15.rd,
	ld-arm/ifunc-16.s, ld-arm/ifunc-16.dd, ld-arm/ifunc-16.gd,
	ld-arm/ifunc-16.rd, ld-arm/ifunc-dynamic.ld,
	ld-arm/ifunc-static.ld: New tests.
	* ld-arm/farcall-group.d, ld-arm/farcall-group-size2.d,
	ld-arm/farcall-mixed-lib-v4t.d, ld-arm/farcall-mixed-lib.d: Update
	for new stub hashes.
	* ld-arm/arm-elf.exp: Run them.
@
text
@d327 2
a328 2
    a05c:	e59f4000 	ldr	r4, \[pc, #0\]	; a064 <arm\+0x14>
    a060:	e59f4000 	ldr	r4, \[pc, #0\]	; a068 <arm\+0x18>
d349 2
a350 2
    a078:	e59f4000 	ldr	r4, \[pc, #0\]	; a080 <arm\+0x30>
    a07c:	e59f4000 	ldr	r4, \[pc, #0\]	; a084 <arm\+0x34>
d371 2
a372 2
    a094:	e59f4000 	ldr	r4, \[pc, #0\]	; a09c <arm\+0x4c>
    a098:	e59f4000 	ldr	r4, \[pc, #0\]	; a0a0 <arm\+0x50>
d393 2
a394 2
    a0b0:	e59f4000 	ldr	r4, \[pc, #0\]	; a0b8 <arm\+0x68>
    a0b4:	e59f4000 	ldr	r4, \[pc, #0\]	; a0bc <arm\+0x6c>
d415 2
a416 2
    a0cc:	e59f4000 	ldr	r4, \[pc, #0\]	; a0d4 <arm\+0x84>
    a0d0:	e59f4000 	ldr	r4, \[pc, #0\]	; a0d8 <arm\+0x88>
d437 2
a438 2
    a0e8:	e59f4000 	ldr	r4, \[pc, #0\]	; a0f0 <arm\+0xa0>
    a0ec:	e59f4000 	ldr	r4, \[pc, #0\]	; a0f4 <arm\+0xa4>
d459 2
a460 2
    a104:	e59f4000 	ldr	r4, \[pc, #0\]	; a10c <arm\+0xbc>
    a108:	e59f4000 	ldr	r4, \[pc, #0\]	; a110 <arm\+0xc0>
d481 2
a482 2
    a120:	e59f4000 	ldr	r4, \[pc, #0\]	; a128 <arm\+0xd8>
    a124:	e59f4000 	ldr	r4, \[pc, #0\]	; a12c <arm\+0xdc>
d503 2
a504 2
    a13c:	e59f4000 	ldr	r4, \[pc, #0\]	; a144 <arm\+0xf4>
    a140:	e59f4000 	ldr	r4, \[pc, #0\]	; a148 <arm\+0xf8>
d525 2
a526 2
    a158:	e59f4000 	ldr	r4, \[pc, #0\]	; a160 <arm\+0x110>
    a15c:	e59f4000 	ldr	r4, \[pc, #0\]	; a164 <arm\+0x114>
d547 2
a548 2
    a174:	e59f4000 	ldr	r4, \[pc, #0\]	; a17c <arm\+0x12c>
    a178:	e59f4000 	ldr	r4, \[pc, #0\]	; a180 <arm\+0x130>
d569 2
a570 2
    a190:	e59f4000 	ldr	r4, \[pc, #0\]	; a198 <arm\+0x148>
    a194:	e59f4000 	ldr	r4, \[pc, #0\]	; a19c <arm\+0x14c>
d591 2
a592 2
    a1ac:	e59f4000 	ldr	r4, \[pc, #0\]	; a1b4 <arm\+0x164>
    a1b0:	e59f4000 	ldr	r4, \[pc, #0\]	; a1b8 <arm\+0x168>
d613 2
a614 2
    a1c8:	e59f4000 	ldr	r4, \[pc, #0\]	; a1d0 <arm\+0x180>
    a1cc:	e59f4000 	ldr	r4, \[pc, #0\]	; a1d4 <arm\+0x184>
d635 2
a636 2
    a1e4:	e59f4000 	ldr	r4, \[pc, #0\]	; a1ec <arm\+0x19c>
    a1e8:	e59f4000 	ldr	r4, \[pc, #0\]	; a1f0 <arm\+0x1a0>
d657 2
a658 2
    a200:	e59f4000 	ldr	r4, \[pc, #0\]	; a208 <arm\+0x1b8>
    a204:	e59f4000 	ldr	r4, \[pc, #0\]	; a20c <arm\+0x1bc>
d679 2
a680 2
    a21c:	e59f4000 	ldr	r4, \[pc, #0\]	; a224 <arm\+0x1d4>
    a220:	e59f4000 	ldr	r4, \[pc, #0\]	; a228 <arm\+0x1d8>
@

