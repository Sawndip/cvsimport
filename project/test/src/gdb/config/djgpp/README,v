head	1.9;
access;
symbols
	gdb_7_6_1-2013-08-30-release:1.9
	gdb_7_6-2013-04-26-release:1.9
	gdb_7_6-branch:1.9.0.54
	gdb_7_6-2013-03-12-branchpoint:1.9
	gdb_7_5_1-2012-11-29-release:1.9
	gdb_7_5-2012-08-17-release:1.9
	gdb_7_5-branch:1.9.0.52
	gdb_7_5-2012-07-18-branchpoint:1.9
	gdb_7_4_1-2012-04-26-release:1.9
	gdb_7_4-2012-01-24-release:1.9
	gdb_7_4-branch:1.9.0.50
	gdb_7_4-2011-12-13-branchpoint:1.9
	gdb_7_3_1-2011-09-04-release:1.9
	gdb_7_3-2011-07-26-release:1.9
	gdb_7_3-branch:1.9.0.48
	gdb_7_3-2011-04-01-branchpoint:1.9
	gdb_7_2-2010-09-02-release:1.9
	gdb_7_2-branch:1.9.0.46
	gdb_7_2-2010-07-07-branchpoint:1.9
	gdb_7_1-2010-03-18-release:1.9
	gdb_7_1-branch:1.9.0.44
	gdb_7_1-2010-02-18-branchpoint:1.9
	gdb_7_0_1-2009-12-22-release:1.9
	gdb_7_0-2009-10-06-release:1.9
	gdb_7_0-branch:1.9.0.42
	gdb_7_0-2009-09-16-branchpoint:1.9
	arc-sim-20090309:1.9
	msnyder-checkpoint-072509-branch:1.9.0.40
	msnyder-checkpoint-072509-branchpoint:1.9
	arc-insight_6_8-branch:1.9.0.38
	arc-insight_6_8-branchpoint:1.9
	insight_6_8-branch:1.9.0.36
	insight_6_8-branchpoint:1.9
	reverse-20081226-branch:1.9.0.34
	reverse-20081226-branchpoint:1.9
	multiprocess-20081120-branch:1.9.0.32
	multiprocess-20081120-branchpoint:1.9
	reverse-20080930-branch:1.9.0.30
	reverse-20080930-branchpoint:1.9
	reverse-20080717-branch:1.9.0.28
	reverse-20080717-branchpoint:1.9
	msnyder-reverse-20080609-branch:1.9.0.26
	msnyder-reverse-20080609-branchpoint:1.9
	drow-reverse-20070409-branch:1.9.0.24
	drow-reverse-20070409-branchpoint:1.9
	gdb_6_8-2008-03-27-release:1.9
	gdb_6_8-branch:1.9.0.22
	gdb_6_8-2008-02-26-branchpoint:1.9
	gdb_6_7_1-2007-10-29-release:1.9
	gdb_6_7-2007-10-10-release:1.9
	gdb_6_7-branch:1.9.0.20
	gdb_6_7-2007-09-07-branchpoint:1.9
	insight_6_6-20070208-release:1.9
	gdb_6_6-2006-12-18-release:1.9
	gdb_6_6-branch:1.9.0.18
	gdb_6_6-2006-11-15-branchpoint:1.9
	insight_6_5-20061003-release:1.9
	gdb-csl-symbian-6_4_50_20060226-12:1.9
	gdb-csl-sourcerygxx-3_4_4-25:1.8
	nickrob-async-20060828-mergepoint:1.9
	gdb-csl-symbian-6_4_50_20060226-11:1.9
	gdb-csl-sourcerygxx-4_1-17:1.9
	gdb-csl-20060226-branch-local-2:1.9
	gdb-csl-sourcerygxx-4_1-14:1.9
	gdb-csl-sourcerygxx-4_1-13:1.9
	gdb-csl-sourcerygxx-4_1-12:1.9
	gdb-csl-sourcerygxx-3_4_4-21:1.9
	gdb_6_5-20060621-release:1.9
	gdb-csl-sourcerygxx-4_1-9:1.9
	gdb-csl-sourcerygxx-4_1-8:1.9
	gdb-csl-sourcerygxx-4_1-7:1.9
	gdb-csl-arm-2006q1-6:1.9
	gdb-csl-sourcerygxx-4_1-6:1.9
	gdb-csl-symbian-6_4_50_20060226-10:1.9
	gdb-csl-symbian-6_4_50_20060226-9:1.9
	gdb-csl-symbian-6_4_50_20060226-8:1.9
	gdb-csl-coldfire-4_1-11:1.9
	gdb-csl-sourcerygxx-3_4_4-19:1.9
	gdb-csl-coldfire-4_1-10:1.9
	gdb_6_5-branch:1.9.0.16
	gdb_6_5-2006-05-14-branchpoint:1.9
	gdb-csl-sourcerygxx-4_1-5:1.9
	nickrob-async-20060513-branch:1.9.0.14
	nickrob-async-20060513-branchpoint:1.9
	gdb-csl-sourcerygxx-4_1-4:1.9
	msnyder-reverse-20060502-branch:1.9.0.12
	msnyder-reverse-20060502-branchpoint:1.9
	gdb-csl-morpho-4_1-4:1.9
	gdb-csl-sourcerygxx-3_4_4-17:1.9
	readline_5_1-import-branch:1.9.0.10
	readline_5_1-import-branchpoint:1.9
	gdb-csl-20060226-branch-merge-to-csl-symbian-1:1.9
	gdb-csl-symbian-20060226-branch:1.9.0.8
	gdb-csl-symbian-20060226-branchpoint:1.9
	gdb-csl-20060226-branch-merge-to-csl-local-1:1.9
	msnyder-reverse-20060331-branch:1.9.0.6
	msnyder-reverse-20060331-branchpoint:1.9
	gdb-csl-available-20060303-branch:1.9.0.4
	gdb-csl-available-20060303-branchpoint:1.9
	gdb-csl-20060226-branch:1.9.0.2
	gdb-csl-20060226-branchpoint:1.9
	gdb_6_4-20051202-release:1.8
	msnyder-fork-checkpoint-branch:1.8.0.10
	msnyder-fork-checkpoint-branchpoint:1.8
	gdb-csl-gxxpro-6_3-branch:1.8.0.8
	gdb-csl-gxxpro-6_3-branchpoint:1.8
	gdb_6_4-branch:1.8.0.6
	gdb_6_4-2005-11-01-branchpoint:1.8
	gdb-csl-arm-20051020-branch:1.8.0.4
	gdb-csl-arm-20051020-branchpoint:1.8
	msnyder-tracepoint-checkpoint-branch:1.8.0.2
	msnyder-tracepoint-checkpoint-branchpoint:1.8
	gdb-csl-arm-20050325-2005-q1b:1.6
	gdb-csl-arm-20050325-2005-q1a:1.6
	csl-arm-20050325-branch:1.6.0.76
	csl-arm-20050325-branchpoint:1.6
	gdb-post-i18n-errorwarning-20050211:1.6
	gdb-pre-i18n-errorwarning-20050211:1.6
	gdb_6_3-20041109-release:1.6
	gdb_6_3-branch:1.6.0.72
	gdb_6_3-20041019-branchpoint:1.6
	drow_intercu-merge-20040921:1.6
	drow_intercu-merge-20040915:1.6
	jimb-gdb_6_2-e500-branch:1.6.0.74
	jimb-gdb_6_2-e500-branchpoint:1.6
	gdb_6_2-20040730-release:1.6
	gdb_6_2-branch:1.6.0.70
	gdb_6_2-2004-07-10-gmt-branchpoint:1.6
	gdb_6_1_1-20040616-release:1.6
	gdb_6_1-2004-04-05-release:1.6
	drow_intercu-merge-20040402:1.6
	drow_intercu-merge-20040327:1.6
	ezannoni_pie-20040323-branch:1.6.0.68
	ezannoni_pie-20040323-branchpoint:1.6
	cagney_tramp-20040321-mergepoint:1.6
	cagney_tramp-20040309-branch:1.6.0.66
	cagney_tramp-20040309-branchpoint:1.6
	gdb_6_1-branch:1.6.0.64
	gdb_6_1-2004-03-01-gmt-branchpoint:1.6
	drow_intercu-20040221-branch:1.6.0.62
	drow_intercu-20040221-branchpoint:1.6
	cagney_bfdfile-20040213-branch:1.6.0.60
	cagney_bfdfile-20040213-branchpoint:1.6
	drow-cplus-merge-20040208:1.6
	carlton_dictionary-20040126-merge:1.6
	cagney_bigcore-20040122-branch:1.6.0.58
	cagney_bigcore-20040122-branchpoint:1.6
	drow-cplus-merge-20040113:1.6
	drow-cplus-merge-20031224:1.6
	drow-cplus-merge-20031220:1.6
	carlton_dictionary-20031215-merge:1.6
	drow-cplus-merge-20031214:1.6
	carlton-dictionary-20031111-merge:1.6
	gdb_6_0-2003-10-04-release:1.6
	kettenis_sparc-20030918-branch:1.6.0.56
	kettenis_sparc-20030918-branchpoint:1.6
	carlton_dictionary-20030917-merge:1.6
	ezannoni_pie-20030916-branchpoint:1.6
	ezannoni_pie-20030916-branch:1.6.0.54
	cagney_x86i386-20030821-branch:1.6.0.52
	cagney_x86i386-20030821-branchpoint:1.6
	carlton_dictionary-20030805-merge:1.6
	carlton_dictionary-20030627-merge:1.6
	gdb_6_0-branch:1.6.0.50
	gdb_6_0-2003-06-23-branchpoint:1.6
	jimb-ppc64-linux-20030613-branch:1.6.0.48
	jimb-ppc64-linux-20030613-branchpoint:1.6
	cagney_convert-20030606-branch:1.6.0.46
	cagney_convert-20030606-branchpoint:1.6
	cagney_writestrings-20030508-branch:1.6.0.44
	cagney_writestrings-20030508-branchpoint:1.6
	jimb-ppc64-linux-20030528-branch:1.6.0.42
	jimb-ppc64-linux-20030528-branchpoint:1.6
	carlton_dictionary-20030523-merge:1.6
	cagney_fileio-20030521-branch:1.6.0.40
	cagney_fileio-20030521-branchpoint:1.6
	kettenis_i386newframe-20030517-mergepoint:1.6
	jimb-ppc64-linux-20030509-branch:1.6.0.38
	jimb-ppc64-linux-20030509-branchpoint:1.6
	kettenis_i386newframe-20030504-mergepoint:1.6
	carlton_dictionary-20030430-merge:1.6
	kettenis_i386newframe-20030419-branch:1.6.0.36
	kettenis_i386newframe-20030419-branchpoint:1.6
	carlton_dictionary-20030416-merge:1.6
	cagney_frameaddr-20030409-mergepoint:1.6
	kettenis_i386newframe-20030406-branch:1.6.0.34
	kettenis_i386newframe-20030406-branchpoint:1.6
	cagney_frameaddr-20030403-branchpoint:1.6
	cagney_frameaddr-20030403-branch:1.6.0.32
	cagney_framebase-20030330-mergepoint:1.6
	cagney_framebase-20030326-branch:1.6.0.30
	cagney_framebase-20030326-branchpoint:1.6
	cagney_lazyid-20030317-branch:1.6.0.28
	cagney_lazyid-20030317-branchpoint:1.6
	kettenis-i386newframe-20030316-mergepoint:1.6
	offbyone-20030313-branch:1.6.0.26
	offbyone-20030313-branchpoint:1.6
	kettenis-i386newframe-20030308-branch:1.6.0.24
	kettenis-i386newframe-20030308-branchpoint:1.6
	carlton_dictionary-20030305-merge:1.6
	cagney_offbyone-20030303-branch:1.6.0.22
	cagney_offbyone-20030303-branchpoint:1.6
	carlton_dictionary-20030207-merge:1.6
	interps-20030203-mergepoint:1.6
	interps-20030202-branch:1.6.0.20
	interps-20030202-branchpoint:1.6
	cagney-unwind-20030108-branch:1.6.0.18
	cagney-unwind-20030108-branchpoint:1.6
	carlton_dictionary-20021223-merge:1.6
	gdb_5_3-2002-12-12-release:1.6
	carlton_dictionary-20021115-merge:1.6
	kseitz_interps-20021105-merge:1.6
	kseitz_interps-20021103-merge:1.6
	drow-cplus-merge-20021020:1.6
	drow-cplus-merge-20021025:1.6
	carlton_dictionary-20021025-merge:1.6
	carlton_dictionary-20021011-merge:1.6
	drow-cplus-branch:1.6.0.16
	drow-cplus-branchpoint:1.6
	kseitz_interps-20020930-merge:1.6
	carlton_dictionary-20020927-merge:1.6
	carlton_dictionary-branch:1.6.0.14
	carlton_dictionary-20020920-branchpoint:1.6
	gdb_5_3-branch:1.6.0.12
	gdb_5_3-2002-09-04-branchpoint:1.6
	kseitz_interps-20020829-merge:1.6
	cagney_sysregs-20020825-branch:1.6.0.10
	cagney_sysregs-20020825-branchpoint:1.6
	readline_4_3-import-branch:1.6.0.8
	readline_4_3-import-branchpoint:1.6
	gdb_5_2_1-2002-07-23-release:1.5.2.1
	kseitz_interps-20020528-branch:1.6.0.6
	kseitz_interps-20020528-branchpoint:1.6
	cagney_regbuf-20020515-branch:1.6.0.4
	cagney_regbuf-20020515-branchpoint:1.6
	jimb-macro-020506-branch:1.6.0.2
	jimb-macro-020506-branchpoint:1.6
	gdb_5_2-2002-04-29-release:1.5.2.1
	gdb_5_2-branch:1.5.0.2
	gdb_5_2-2002-03-03-branchpoint:1.5
	gdb_5_1_1-2002-01-24-release:1.3.6.1
	gdb_5_1_0_1-2002-01-03-release:1.3.6.1
	cygnus_cvs_20020108_pre:1.4
	gdb_5_1_0_1-2002-01-03-branchpoint:1.3.6.1
	gdb_5_1_0_1-2002-01-03-branch:1.3.6.1.0.2
	gdb_5_1-2001-11-21-release:1.3.6.1
	gdb_s390-2001-09-26-branch:1.3.0.8
	gdb_s390-2001-09-26-branchpoint:1.3
	gdb_5_1-2001-07-29-branch:1.3.0.6
	gdb_5_1-2001-07-29-branchpoint:1.3
	dberlin-typesystem-branch:1.3.0.4
	dberlin-typesystem-branchpoint:1.3
	gdb-post-ptid_t-2001-05-03:1.3
	gdb-pre-ptid_t-2001-05-03:1.3
	insight-precleanup-2001-01-01:1.3
	gdb-post-protoization-2000-07-29:1.3
	gdb-pre-protoization-2000-07-29:1.3
	gdb-premipsmulti-2000-06-06-branch:1.3.0.2
	gdb-premipsmulti-2000-06-06-branchpoint:1.3
	gdb-post-params-removal-2000-06-04:1.3
	gdb-pre-params-removal-2000-06-04:1.3
	gdb-post-params-removal-2000-05-28:1.3
	gdb-pre-params-removal-2000-05-28:1.3
	gdb_5_0-2000-05-19-release:1.1.2.2
	gdb_4_18_2-2000-05-18-release:1.1.2.2
	gdb_4_95_1-2000-05-11-snapshot:1.1.2.1
	gdb_4_95_0-2000-04-27-snapshot:1.1.2.1
	gdb_5_0-2000-04-10-branch:1.1.0.2
	gdb_5_0-2000-04-10-branchpoint:1.1;
locks; strict;
comment	@# @;


1.9
date	2006.01.22.20.24.15;	author drow;	state Exp;
branches;
next	1.8;

1.8
date	2005.05.11.07.29.35;	author eliz;	state Exp;
branches;
next	1.7;

1.7
date	2005.05.11.07.25.24;	author eliz;	state Exp;
branches;
next	1.6;

1.6
date	2002.04.19.19.28.54;	author eliz;	state Exp;
branches;
next	1.5;

1.5
date	2002.02.25.16.14.09;	author eliz;	state Exp;
branches
	1.5.2.1;
next	1.4;

1.4
date	2001.10.21.14.21.03;	author eliz;	state Exp;
branches;
next	1.3;

1.3
date	2000.05.17.11.49.52;	author eliz;	state Exp;
branches
	1.3.6.1;
next	1.2;

1.2
date	2000.04.23.07.23.05;	author eliz;	state Exp;
branches;
next	1.1;

1.1
date	2000.03.19.11.53.23;	author eliz;	state Exp;
branches
	1.1.2.1;
next	;

1.5.2.1
date	2002.04.19.19.21.31;	author eliz;	state Exp;
branches;
next	;

1.3.6.1
date	2001.10.21.14.17.36;	author eliz;	state Exp;
branches;
next	;

1.1.2.1
date	2000.04.23.07.47.02;	author eliz;	state Exp;
branches;
next	1.1.2.2;

1.1.2.2
date	2000.05.17.11.56.33;	author eliz;	state Exp;
branches;
next	;


desc
@@


1.9
log
@	* config/djgpp/README: Typo fix.
	* config/djgpp/fnchange.lst: Update.
@
text
@
       How to build and install the DJGPP native version of GDB
       ********************************************************

General
=======

GDB built with DJGPP supports native DJGPP debugging, whereby you run
gdb.exe and the program being debugged on the same machine.  In
addition, this version supports remote debugging via a serial port,
provided that the target machine has a GDB-compatible debugging stub
which can be linked with the target program (see the section "Remote
Serial" in the GDB manual for more details).


Installation of the binary distribution
=======================================

Simply unzip the gdbNNNb.zip file (where NNN is the version number)
from the top DJGPP installation directory.  Be sure to preserve the
directory structure while you unzip (use -d switch if you do this with
PKUNZIP).  On Windows 9X and Windows 2000, use an unzip program which
supports long file names; one such program is unzip32.exe, available
from the DJGPP sites.

If you need the libraries which are built as part of GDB, install the
companion file gdbNNNa.zip.  This allows to develop applications which
use the same functions as GDB.  For example, you can build your own
front end to the debugger.


Rebuilding GDB from sources
===========================

1. Prerequisites
   -------------
To build the package, you will need the DJGPP development environment
(GCC, header files, and the libraries), and also DJGPP ports of the
following tools:

	- GNU Make 3.79.1 or later
	- Bash 2.03 or later
	- GNU Sed
	- GNU Fileutils
	- GNU Textutils 2.0 or later
	- GNU Sh-utils
	- GNU Grep 2.4 or later
	- GNU Findutils
	- GNU Awk 3.04 or later
	- GNU Bison (only if you change one of the gdb/*.y files)
	- Groff (only if you need to format the man pages)
	- GNU Diffutils (only if you run the test suite)

These programs should be available from the DJGPP sites, in the v2gnu
directory.  In addition, the configuration script invokes the `update'
and `utod' utilities which are part of the basic DJGPP development kit
(djdevNNN.zip).


2. Unpacking the sources
   ---------------------
If you download the source distribution from one of the DJGPP sites,
just unzip it while preserving the directory structure (I suggest to
use unzip32.exe available with the rest of DJGPP), and proceed to the
section "How to build", below.

Source distributions downloaded from one of the GNU FTP sites need
some more work to unpack.  First, you MUST use the `djunpack' batch
file to unzip the package.  That's because some file names in the
official distributions need to be changed to avoid problems on the
various platforms supported by DJGPP.  `djunpack' invokes the `djtar'
program (that is part of the basic DJGPP development kit) to rename
these files on the fly given a file with name mappings; the
distribution includes a file `gdb/config/djgpp/fnchange.lst' with the
necessary mappings.  So you need first to retrieve that batch file,
and then invoke it to unpack the distribution.  Here's how:

 djtar -x -p -o gdb-5.2/djunpack.bat gdb-5.2.tar.gz > djunpack.bat
 djunpack gdb-5.2.tar.gz

(The name of the distribution archive and the leading directory of the
path to `djunpack.bat' in the distribution will be different for
versions of GDB other than 5.2.)

If the argument to `djunpack.bat' include leading directories, it MUST
be given with the DOS-style backslashes; Unix-style forward slashes
will NOT work.

If the distribution comes as a .tar.bz2 archive, and your version of
`djtar' doesn't support bzip2 decompression, you need to unpack it as
follows:

 bunzip2 gdb-6.4.tar.bz2
 djtar -x -p -o gdb-6.4/djunpack.bat gdb-6.4.tar > djunpack.bat
 djunpack gdb-6.4.tar


3. How to build
   ------------

If the source distribution available from DJGPP archives is already
configured for DJGPP v2.x (if it is, you will find files named
`Makefile' in each subdirectory), then just invoke Make:

		make

To build a package that is not yet configured, or if you downloaded
GDB from a GNU FTP site, you will need to configure it first.  You
will also need to configure it if you want to change the configuration
options (e.g., compile without support for the GDBMI interface).  To
configure GDB, type this command:

		sh ./gdb/config/djgpp/djconfig.sh

This script checks the unpacked distribution, then edits the configure
scripts in the various subdirectories, to make them suitable for
DJGPP, and finally invokes the top-level configure script, which
recursively configures all the subdirectories.

You may pass optional switches to djconfig.sh.  It accepts all the
switches accepted by the original GDB configure script.  These
switches are described in the file gdb/README, and their full list can
be displayed by running the following command:

		sh ./gdb/configure --help

NOTE: if you *do* use optional command-line switches, you MUST pass
to the script the name of the directory where GDB sources are
unpacked--even if you are building GDB in-place!  For example:

	sh ./gdb/config/djgpp/djconfig.sh . --disable-gdbmi

It is also possible to build GDB in a directory that is different from
the one where the sources were unpacked.  In that case, you have to
pass the source directory as the first argument to the script:

	sh ./gdb/config/djgpp/djconfig.sh d:/gnu/gdb-6.4

You MUST use forward slashes in the first argument.

After the configure script finishes, run Make:

	make

If you want to produce the documentation (for example, if you changed
some of the Texinfo sources), type this:

	make info

When Make finishes, you can install the package:

	make install prefix='${DJDIR}' INSTALL='ginstall -c'

The above doesn't install the docs; for that you will need to say
this:

	make install-info prefix='${DJDIR}' INSTALL='ginstall -c'

The test suite has been made to work with DJGPP.  If you make a change
in some of the programs, or want to be sure you have a fully
functional GDB executable, it is a good idea to run the test suite.
You cannot use "make check" for that, since it will want to run the
`dejagnu' utility which DJGPP doesn't support.  Instead, use the special
script gdb/config/djgpp/djcheck.sh, like this:

		cd gdb/testsuite
		sh ../config/djgpp/djcheck.sh

This will run for a while and should not print anything, except the
messages "Running tests in DIR", where DIR is one of the
subdirectories of the testsuite.  Any test that fails to produce the
expected output will cause the diffs between the expected and the
actual output be printed, and in addition will leave behind a file
SOMETHING.tst (where SOMETHING is the name of the failed test).  You
should compare each of the *.tst files with the corresponding *.out
file and convince yourself that the differences do not indicate a real
problem.  Examples of differences you can disregard are changes in the
copyright blurb printed by GDB, values of unitialized variables,
addresses of global variables like argv[] and envp[] (which depend on
the size of your environment), etc.

Note that djcheck.sh only recurses into those of the subdirectories of
the test suite which test features supported by the DJGPP port of GDB.
For example, the tests in the gdb.gdbtk, gdb.threads, and gdb.hp
directories are not run.


Enjoy,
                                    Eli Zaretskii <eliz@@gnu.org>
@


1.8
log
@Fix a typo in bunzip2..
@
text
@d163 1
a163 1
`dejagnu' utility which GDB doesn't support.  Instead, use the special
@


1.7
log
@Update GDB versions and my email address.
@
text
@d93 1
a93 1
 bnzip2 gdb-6.4.tar.bz2
@


1.6
log
@go32-nat.c (store_register): Cast &a_tss to `char *', to avoid compiler
warning.

config/djgpp/README: Update.
@
text
@d93 3
a95 3
 bnzip2 gdb-5.2.tar.bz2
 djtar -x -p -o gdb-5.2/djunpack.bat gdb-5.2.tar > djunpack.bat
 djunpack gdb-5.2.tar
d137 1
a137 1
	sh ./gdb/config/djgpp/djconfig.sh d:/gnu/gdb-5.2
d189 1
a189 1
                                    Eli Zaretskii <eliz@@is.elta.co.il>
@


1.5
log
@Update for the next release.
@
text
@d101 3
a103 3
The source distribution available from DJGPP archives is already
configured for DJGPP v2.x, so if you only want to compile it, just
invoke Make:
d107 5
a111 4
To build a package downloaded from a GNU FTP site, you will need o
configure it first.  You will also need to configure it if you want to
change the configuration options (e.g., compile without support for the
GDBMI interface).  To configure GDB, type this command:
@


1.5.2.1
log
@Update README for DJGPP.
@
text
@d101 3
a103 3
If the source distribution available from DJGPP archives is already
configured for DJGPP v2.x (if it is, you will find files named
`Makefile' in each subdirectory), then just invoke Make:
d107 4
a110 5
To build a package that is not yet configured, or if you downloaded
GDB from a GNU FTP site, you will need to configure it first.  You
will also need to configure it if you want to change the configuration
options (e.g., compile without support for the GDBMI interface).  To
configure GDB, type this command:
@


1.4
log
@	* config/djgpp/README: Fix a typo and tweak for GDB 5.1.
@
text
@d78 2
a79 2
 djtar -x -p -o gdb-5.1/djunpack.bat gdb-5.1.tar.gz > djunpack.bat
 djunpack gdb-5.1.tar.gz
d83 1
a83 1
versions of GDB other than 5.1.)
d93 3
a95 3
 bnzip2 gdb-5.1.tar.bz2
 djtar -x -p -o gdb-5.1/djunpack.bat gdb-5.1.tar > djunpack.bat
 djunpack gdb-5.1.tar
d136 1
a136 1
	sh ./gdb/config/djgpp/djconfig.sh d:/gnu/gdb-5.1
d151 1
a151 1
	make -k install prefix='${DJDIR}' INSTALL='ginstall -c'
d156 1
a156 5
	make -k install-info prefix='${DJDIR}' INSTALL='ginstall -c'

(The -k switch is required, because some unneeded targets that are
part of the install process fail; -k lets Make run to completion
nonetheless.)
@


1.3
log
@	* gdb/config/djgpp/README: Fine-tune installation instructions
        based on user reports.
@
text
@d41 1
a41 1
	- GNU Make 3.78.1 or later
d65 1
a65 1
section "How to build" below.
d78 2
a79 2
 djtar -x -p -o gdb-5.0/djunpack.bat gdb-5.0.tar.gz > djunpack.bat
 djunpack gdb-5.0.tar.gz
d83 1
a83 1
versions of GDB other than 5.0.)
d89 7
a95 6
If the distribution comes as a .tar.bz2 archive, you need to unpack it
as follows:

 bnzip2 gdb-5.0.tar.bz2
 djtar -x -p -o gdb-5.0/djunpack.bat gdb-5.0.tar > djunpack.bat
 djunpack gdb-5.0.tar
d109 1
a109 1
change the configuration options (e.g., compile with support for the
d121 2
a122 2
switches are described in the file gdb/README, and their full list be
displayed by running the following command:
d130 1
a130 1
	sh ./gdb/config/djgpp/djconfig.sh . --enable-gdbmi
d136 1
a136 1
	sh ./gdb/config/djgpp/djconfig.sh d:/gnu/gdb-5.0
@


1.3.6.1
log
@	* config/djgpp/README: Fix a typo and tweak for GDB 5.1.
@
text
@d41 1
a41 1
	- GNU Make 3.79.1 or later
d65 1
a65 1
section "How to build", below.
d78 2
a79 2
 djtar -x -p -o gdb-5.1/djunpack.bat gdb-5.1.tar.gz > djunpack.bat
 djunpack gdb-5.1.tar.gz
d83 1
a83 1
versions of GDB other than 5.1.)
d89 6
a94 7
If the distribution comes as a .tar.bz2 archive, and your version of
`djtar' doesn't support bzip2 decompression, you need to unpack it as
follows:

 bnzip2 gdb-5.1.tar.bz2
 djtar -x -p -o gdb-5.1/djunpack.bat gdb-5.1.tar > djunpack.bat
 djunpack gdb-5.1.tar
d108 1
a108 1
change the configuration options (e.g., compile without support for the
d120 2
a121 2
switches are described in the file gdb/README, and their full list can
be displayed by running the following command:
d129 1
a129 1
	sh ./gdb/config/djgpp/djconfig.sh . --disable-gdbmi
d135 1
a135 1
	sh ./gdb/config/djgpp/djconfig.sh d:/gnu/gdb-5.1
@


1.2
log
@	* djunpack.bat: New file.

	* config/djgpp/README: Explain how to unpack using djunpack.bat.
@
text
@d143 5
d150 1
a150 1
	make install INSTALL='/dev/env/DJDIR/bin/ginstall -c'
d155 1
a155 1
	make -k install-info INSTALL='/dev/env/DJDIR/bin/ginstall -c'
d171 12
a182 10
This will run for a while and should not print anything.  Any test
that fails to produce the expected output will cause the diffs between
the expected and the actual output be printed, and in addition will
leave behind a file SOMETHING.tst (where SOMETHING is the name of one
of the tests).  You should compare each of the *.tst files with the
corresponding *.out file and convince yourself that the differences do
not indicate a real problem.  Examples of differences you can
disregard are changes in the copyright blurb printed by GDB, values of
unitialized variables, addresses of global variables like argv[] and
envp[] (which depend on the size of your environment), etc.
@


1.1
log
@	Support for building GDB with DJGPP, and running the test suite on
	it:
	* config/djgpp/djconfig.sh: New file.
	* config/djgpp/config.sed: New file.
	* config/djgpp/README: New file.
	* config/djgpp/fnchange.lst: New file.
	* config/djgpp/djcheck.sh: New file.
@
text
@d68 9
a76 8
some more work to unpack.  First, you MUST use the `djtar' program to
unzip the package.  That's because some file names in the official
distributions need to be changed to avoid problems on the various
platforms supported by DJGPP.  `djtar' can rename files on the fly
given a file with name mappings; the distribution includes a file
`gdb/config/djgpp/fnchange.lst' with the necessary mappings.  So you
need first to retrieve that file, and then invoke `djtar' to unpack
the distribution.  Here's how:
d78 2
d81 3
a83 2
 djtar -x -p -o gdb-5.0/gdb/config/djgpp/fnchange.lst gdb-5.0.tar.gz > lst
 djtar -x -n lst gdb-5.0.tar.gz
d85 10
a94 2
(The name of the distribution archive and the top-level directory will
be different for versions other than 5.0.)
@


1.1.2.1
log
@	* djunpack.bat: New file.

	* config/djgpp/README: Explain how to unpack using djunpack.bat.
@
text
@d68 8
a75 9
some more work to unpack.  First, you MUST use the `djunpack' batch
file to unzip the package.  That's because some file names in the
official distributions need to be changed to avoid problems on the
various platforms supported by DJGPP.  `djunpack' invokes the `djtar'
program (that is part of the basic DJGPP development kit) to rename
these files on the fly given a file with name mappings; the
distribution includes a file `gdb/config/djgpp/fnchange.lst' with the
necessary mappings.  So you need first to retrieve that batch file,
and then invoke it to unpack the distribution.  Here's how:
a76 2
 djtar -x -p -o gdb-5.0/djunpack.bat gdb-5.0.tar.gz > djunpack.bat
 djunpack gdb-5.0.tar.gz
d78 2
a79 3
(The name of the distribution archive and the leading directory of the
path to `djunpack.bat' in the distribution will be different for
versions of GDB other than 5.0.)
d81 2
a82 10
If the argument to `djunpack.bat' include leading directories, it MUST
be given with the DOS-style backslashes; Unix-style forward slashes
will NOT work.

If the distribution comes as a .tar.bz2 archive, you need to unpack it
as follows:

 bnzip2 gdb-5.0.tar.bz2
 djtar -x -p -o gdb-5.0/djunpack.bat gdb-5.0.tar > djunpack.bat
 djunpack gdb-5.0.tar
@


1.1.2.2
log
@	* gdb/config/djgpp/README: Fine-tune installation instructions
        based on user reports.
@
text
@a142 5
If you want to produce the documentation (for example, if you changed
some of the Texinfo sources), type this:

	make info

d145 1
a145 1
	make -k install prefix='${DJDIR}' INSTALL='ginstall -c'
d150 1
a150 1
	make -k install-info prefix='${DJDIR}' INSTALL='ginstall -c'
d166 10
a175 12
This will run for a while and should not print anything, except the
messages "Running tests in DIR", where DIR is one of the
subdirectories of the testsuite.  Any test that fails to produce the
expected output will cause the diffs between the expected and the
actual output be printed, and in addition will leave behind a file
SOMETHING.tst (where SOMETHING is the name of the failed test).  You
should compare each of the *.tst files with the corresponding *.out
file and convince yourself that the differences do not indicate a real
problem.  Examples of differences you can disregard are changes in the
copyright blurb printed by GDB, values of unitialized variables,
addresses of global variables like argv[] and envp[] (which depend on
the size of your environment), etc.
@


