head	1.13;
access;
symbols
	gdb_6_0-2003-10-04-release:1.12
	kettenis_sparc-20030918-branch:1.12.0.22
	kettenis_sparc-20030918-branchpoint:1.12
	carlton_dictionary-20030917-merge:1.12
	ezannoni_pie-20030916-branchpoint:1.12
	ezannoni_pie-20030916-branch:1.12.0.20
	cagney_x86i386-20030821-branch:1.12.0.18
	cagney_x86i386-20030821-branchpoint:1.12
	carlton_dictionary-20030805-merge:1.12
	carlton_dictionary-20030627-merge:1.12
	gdb_6_0-branch:1.12.0.16
	gdb_6_0-2003-06-23-branchpoint:1.12
	jimb-ppc64-linux-20030613-branch:1.12.0.14
	jimb-ppc64-linux-20030613-branchpoint:1.12
	cagney_convert-20030606-branch:1.12.0.12
	cagney_convert-20030606-branchpoint:1.12
	cagney_writestrings-20030508-branch:1.12.0.10
	cagney_writestrings-20030508-branchpoint:1.12
	jimb-ppc64-linux-20030528-branch:1.12.0.8
	jimb-ppc64-linux-20030528-branchpoint:1.12
	carlton_dictionary-20030523-merge:1.12
	cagney_fileio-20030521-branch:1.12.0.6
	cagney_fileio-20030521-branchpoint:1.12
	kettenis_i386newframe-20030517-mergepoint:1.12
	jimb-ppc64-linux-20030509-branch:1.12.0.4
	jimb-ppc64-linux-20030509-branchpoint:1.12
	kettenis_i386newframe-20030504-mergepoint:1.12
	carlton_dictionary-20030430-merge:1.12
	kettenis_i386newframe-20030419-branch:1.12.0.2
	kettenis_i386newframe-20030419-branchpoint:1.12
	carlton_dictionary-20030416-merge:1.12
	cagney_frameaddr-20030409-mergepoint:1.12
	kettenis_i386newframe-20030406-branch:1.11.0.2
	kettenis_i386newframe-20030406-branchpoint:1.11
	cagney_frameaddr-20030403-branchpoint:1.10
	cagney_frameaddr-20030403-branch:1.10.0.12
	cagney_framebase-20030330-mergepoint:1.10
	cagney_framebase-20030326-branch:1.10.0.10
	cagney_framebase-20030326-branchpoint:1.10
	cagney_lazyid-20030317-branch:1.10.0.8
	cagney_lazyid-20030317-branchpoint:1.10
	kettenis-i386newframe-20030316-mergepoint:1.10
	offbyone-20030313-branch:1.10.0.6
	offbyone-20030313-branchpoint:1.10
	kettenis-i386newframe-20030308-branch:1.10.0.4
	kettenis-i386newframe-20030308-branchpoint:1.10
	carlton_dictionary-20030305-merge:1.10
	cagney_offbyone-20030303-branch:1.10.0.2
	cagney_offbyone-20030303-branchpoint:1.10
	carlton_dictionary-20030207-merge:1.9
	interps-20030203-mergepoint:1.9
	interps-20030202-branch:1.9.0.2
	interps-20030202-branchpoint:1.9
	cagney-unwind-20030108-branch:1.8.0.2
	cagney-unwind-20030108-branchpoint:1.8
	carlton_dictionary-20021223-merge:1.8
	gdb_5_3-2002-12-12-release:1.7
	carlton_dictionary-20021115-merge:1.8
	kseitz_interps-20021105-merge:1.8
	kseitz_interps-20021103-merge:1.8
	drow-cplus-merge-20021020:1.8
	drow-cplus-merge-20021025:1.8
	carlton_dictionary-20021025-merge:1.8
	carlton_dictionary-20021011-merge:1.8
	drow-cplus-branch:1.7.0.10
	drow-cplus-branchpoint:1.7
	kseitz_interps-20020930-merge:1.7
	carlton_dictionary-20020927-merge:1.7
	carlton_dictionary-branch:1.7.0.8
	carlton_dictionary-20020920-branchpoint:1.7
	gdb_5_3-branch:1.7.0.6
	gdb_5_3-2002-09-04-branchpoint:1.7
	kseitz_interps-20020829-merge:1.7
	cagney_sysregs-20020825-branch:1.7.0.4
	cagney_sysregs-20020825-branchpoint:1.7
	readline_4_3-import-branch:1.7.0.2
	readline_4_3-import-branchpoint:1.7
	gdb_5_2_1-2002-07-23-release:1.4
	kseitz_interps-20020528-branch:1.4.0.8
	kseitz_interps-20020528-branchpoint:1.4
	cagney_regbuf-20020515-branch:1.4.0.6
	cagney_regbuf-20020515-branchpoint:1.4
	jimb-macro-020506-branch:1.4.0.4
	jimb-macro-020506-branchpoint:1.4
	gdb_5_2-2002-04-29-release:1.4
	gdb_5_2-branch:1.4.0.2
	gdb_5_2-2002-03-03-branchpoint:1.4
	gdb_5_1_1-2002-01-24-release:1.3
	gdb_5_1_0_1-2002-01-03-release:1.3
	cygnus_cvs_20020108_pre:1.4
	gdb_5_1_0_1-2002-01-03-branchpoint:1.3
	gdb_5_1_0_1-2002-01-03-branch:1.3.0.8
	gdb_5_1-2001-11-21-release:1.3
	gdb_s390-2001-09-26-branch:1.3.0.6
	gdb_s390-2001-09-26-branchpoint:1.3
	gdb_5_1-2001-07-29-branch:1.3.0.4
	gdb_5_1-2001-07-29-branchpoint:1.3
	dberlin-typesystem-branch:1.3.0.2
	dberlin-typesystem-branchpoint:1.3
	gdb-post-ptid_t-2001-05-03:1.3
	gdb-pre-ptid_t-2001-05-03:1.3
	insight-precleanup-2001-01-01:1.2
	gdb-post-protoization-2000-07-29:1.2
	gdb-pre-protoization-2000-07-29:1.2
	gdb-premipsmulti-2000-06-06-branch:1.2.0.2
	gdb-premipsmulti-2000-06-06-branchpoint:1.2
	gdb-post-params-removal-2000-06-04:1.2
	gdb-pre-params-removal-2000-06-04:1.2
	gdb-post-params-removal-2000-05-28:1.2
	gdb-pre-params-removal-2000-05-28:1.1.1.2
	gdb_5_0-2000-05-19-release:1.1.1.2
	gdb_4_18_2-2000-05-18-release:1.1.1.2
	gdb_4_95_1-2000-05-11-snapshot:1.1.1.2
	gdb_4_95_0-2000-04-27-snapshot:1.1.1.2
	gdb_5_0-2000-04-10-branch:1.1.1.2.0.2
	gdb_5_0-2000-04-10-branchpoint:1.1.1.2
	repo-unification-2000-02-06:1.1.1.2
	insight-2000-02-04:1.1.1.2
	gdb-2000-02-04:1.1.1.2
	gdb-2000-02-02:1.1.1.2
	gdb-2000-02-01:1.1.1.2
	gdb-2000-01-31:1.1.1.2
	gdb-2000-01-26:1.1.1.2
	gdb-2000-01-24:1.1.1.2
	gdb-2000-01-17:1.1.1.2
	gdb-2000-01-10:1.1.1.2
	gdb-2000-01-05:1.1.1.2
	gdb-1999-12-21:1.1.1.2
	gdb-1999-12-13:1.1.1.2
	gdb-1999-12-07:1.1.1.2
	gdb-1999-12-06:1.1.1.2
	gdb-1999-11-16:1.1.1.2
	gdb-1999-11-08:1.1.1.2
	gdb-1999-11-01:1.1.1.2
	gdb-1999-10-25:1.1.1.2
	gdb-1999-10-18:1.1.1.2
	gdb-1999-10-11:1.1.1.2
	gdb-1999-10-04:1.1.1.2
	gdb-1999-09-28:1.1.1.2
	gdb-1999-09-21:1.1.1.2
	gdb-1999-09-13:1.1.1.2
	gdb-1999-09-08:1.1.1.2
	gdb-1999-08-30:1.1.1.2
	gdb-1999-08-23:1.1.1.2
	gdb-1999-08-16:1.1.1.2
	gdb-1999-08-09:1.1.1.2
	gdb-1999-08-02:1.1.1.2
	gdb-1999-07-26:1.1.1.2
	gdb-1999-07-19:1.1.1.2
	gdb-1999-07-12:1.1.1.2
	gdb-post-reformat-19990707:1.1.1.2
	gdb-1999-07-07-post-reformat-snapshot:1.1.1.2
	gdb-pre-reformat-19990707:1.1.1.1
	gdb-1999-07-07:1.1.1.1
	gdb-1999-07-05:1.1.1.1
	gdb-1999-06-28:1.1.1.1
	gdb-1999-06-21:1.1.1.1
	gdb-1999-06-14:1.1.1.1
	gdb-1999-06-07:1.1.1.1
	gdb-1999-06-01:1.1.1.1
	gdb-4_18-branch:1.1.1.1.0.2
	gdb-4_18-release:1.1.1.1
	gdb-1999-05-25:1.1.1.1
	gdb-1999-05-19:1.1.1.1
	gdb-1999-05-10:1.1.1.1
	gdb-19990504:1.1.1.1
	gdb-19990422:1.1.1.1
	SNAPSHOT:1.1.1
	gdb-4_18:1.1.1.1
	GDB_4_18:1.1.1;
locks; strict;
comment	@ * @;
expand	@o@;


1.13
date	2003.10.06.20.23.40;	author cagney;	state dead;
branches;
next	1.12;

1.12
date	2003.04.09.16.19.52;	author cagney;	state Exp;
branches
	1.12.20.1;
next	1.11;

1.11
date	2003.04.06.01.13.59;	author cagney;	state Exp;
branches;
next	1.10;

1.10
date	2003.03.03.20.50.20;	author cagney;	state Exp;
branches
	1.10.12.1;
next	1.9;

1.9
date	2003.02.01.17.28.41;	author cagney;	state Exp;
branches;
next	1.8;

1.8
date	2002.10.11.14.02.39;	author drow;	state Exp;
branches;
next	1.7;

1.7
date	2002.08.18.22.14.24;	author kettenis;	state Exp;
branches
	1.7.8.1
	1.7.10.1;
next	1.6;

1.6
date	2002.08.12.19.05.33;	author cagney;	state Exp;
branches;
next	1.5;

1.5
date	2002.06.14.22.55.45;	author cagney;	state Exp;
branches;
next	1.4;

1.4
date	2001.10.31.22.24.06;	author kettenis;	state Exp;
branches
	1.4.6.1
	1.4.8.1;
next	1.3;

1.3
date	2001.03.06.08.21.29;	author kevinb;	state Exp;
branches;
next	1.2;

1.2
date	2000.05.28.01.12.35;	author kevinb;	state Exp;
branches;
next	1.1;

1.1
date	99.04.16.01.34.19;	author shebs;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.04.16.01.34.19;	author shebs;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	99.07.07.20.13.22;	author jsm;	state Exp;
branches;
next	;

1.4.6.1
date	2002.06.15.16.43.07;	author cagney;	state Exp;
branches;
next	;

1.4.8.1
date	2002.06.20.01.34.38;	author kseitz;	state Exp;
branches;
next	1.4.8.2;

1.4.8.2
date	2002.08.30.22.52.47;	author kseitz;	state Exp;
branches;
next	1.4.8.3;

1.4.8.3
date	2002.11.03.22.20.19;	author ezannoni;	state Exp;
branches;
next	;

1.7.8.1
date	2002.10.11.22.22.58;	author carlton;	state Exp;
branches;
next	1.7.8.2;

1.7.8.2
date	2003.02.07.19.17.54;	author carlton;	state Exp;
branches;
next	1.7.8.3;

1.7.8.3
date	2003.03.06.00.56.34;	author carlton;	state Exp;
branches;
next	1.7.8.4;

1.7.8.4
date	2003.04.16.19.56.58;	author carlton;	state Exp;
branches;
next	1.7.8.5;

1.7.8.5
date	2003.11.11.23.51.04;	author carlton;	state dead;
branches;
next	;

1.7.10.1
date	2002.10.26.17.12.13;	author drow;	state Exp;
branches;
next	1.7.10.2;

1.7.10.2
date	2003.12.14.20.27.36;	author drow;	state dead;
branches;
next	;

1.10.12.1
date	2003.04.10.21.33.50;	author cagney;	state Exp;
branches;
next	;

1.12.20.1
date	2004.03.23.20.30.11;	author ezannoni;	state dead;
branches;
next	;


desc
@@


1.13
log
@2003-10-06  Andrew Cagney  <cagney@@redhat.com>

	* config/nm-m3.h, config/h8500/h8500.mt: Delete obsolete files.
	* config/h8500/tm-h8500.h, config/i386/nm-ptx4.h: Ditto.
	* config/i386/nm-symmetry.h, config/i386/ptx.mh: Ditto.
	* config/i386/ptx.mt, config/i386/ptx4.mh: Ditto.
	* config/i386/ptx4.mt, config/i386/symmetry.mh: Ditto.
	* config/i386/symmetry.mt, config/i386/tm-ptx.h: Ditto.
	* config/i386/tm-ptx4.h, config/i386/tm-symmetry.h: Ditto.
	* config/i386/xm-ptx.h, config/i386/xm-ptx4.h: Ditto.
	* config/i386/xm-symmetry.h, config/mips/mipsm3.mh: Ditto.
	* config/mips/mipsm3.mt, config/mips/tm-mipsm3.h: Ditto.
	* config/mips/xm-mipsm3.h, config/mn10200/mn10200.mt: Ditto.
	* config/mn10200/tm-mn10200.h, config/pa/hppabsd.mh: Ditto.
	* config/pa/hppabsd.mt, config/pa/hppaosf.mh: Ditto.
	* config/pa/hppaosf.mt, config/pa/hppapro.mt: Ditto.
	* config/pa/nm-hppab.h, config/pa/nm-hppao.h: Ditto.
	* config/pa/tm-hppab.h, config/pa/tm-hppao.h: Ditto.
	* config/pa/tm-pro.h, config/pa/xm-hppab.h: Ditto.
	* config/pa/xm-pa.h, config/sparc/sparclet.mt: Ditto.
	* config/sparc/sparclite.mt, config/sparc/tm-sparclet.h: Ditto.
	* config/sparc/tm-sparclite.h, config/z8k/tm-z8k.h: Ditto.
	* config/z8k/z8k.mt: Ditto.
@
text
@// OBSOLETE /* Target machine definitions for GDB on a Sequent Symmetry under ptx
// OBSOLETE    with Weitek 1167 and i387 support.
// OBSOLETE 
// OBSOLETE    Copyright 1986, 1987, 1989, 1991, 1992, 1993, 1994, 1995, 2000,
// OBSOLETE    2003 Free Software Foundation, Inc.
// OBSOLETE 
// OBSOLETE    Symmetry version by Jay Vosburgh (fubar@@sequent.com).
// OBSOLETE 
// OBSOLETE    This file is part of GDB.
// OBSOLETE 
// OBSOLETE    This program is free software; you can redistribute it and/or modify
// OBSOLETE    it under the terms of the GNU General Public License as published by
// OBSOLETE    the Free Software Foundation; either version 2 of the License, or
// OBSOLETE    (at your option) any later version.
// OBSOLETE 
// OBSOLETE    This program is distributed in the hope that it will be useful,
// OBSOLETE    but WITHOUT ANY WARRANTY; without even the implied warranty of
// OBSOLETE    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// OBSOLETE    GNU General Public License for more details.
// OBSOLETE 
// OBSOLETE    You should have received a copy of the GNU General Public License
// OBSOLETE    along with this program; if not, write to the Free Software
// OBSOLETE    Foundation, Inc., 59 Temple Place - Suite 330,
// OBSOLETE    Boston, MA 02111-1307, USA.  */
// OBSOLETE 
// OBSOLETE #ifndef TM_PTX_H
// OBSOLETE #define TM_PTX_H 1
// OBSOLETE 
// OBSOLETE /* I don't know if this will work for cross-debugging, even if you do get
// OBSOLETE    a copy of the right include file.  */
// OBSOLETE 
// OBSOLETE #include <sys/reg.h>
// OBSOLETE 
// OBSOLETE #ifdef SEQUENT_PTX4
// OBSOLETE #include "i386/tm-i386.h"
// OBSOLETE #else /* !SEQUENT_PTX4 */
// OBSOLETE #include "i386/tm-i386.h"
// OBSOLETE #endif
// OBSOLETE 
// OBSOLETE /* Amount PC must be decremented by after a breakpoint.  This is often the
// OBSOLETE    number of bytes in BREAKPOINT but not always (such as now). */
// OBSOLETE 
// OBSOLETE #undef DECR_PC_AFTER_BREAK
// OBSOLETE #define DECR_PC_AFTER_BREAK 0
// OBSOLETE 
// OBSOLETE /* Number of machine registers */
// OBSOLETE 
// OBSOLETE #undef  NUM_REGS
// OBSOLETE #define NUM_REGS 49
// OBSOLETE 
// OBSOLETE /* Initializer for an array of names of registers.  There should be at least
// OBSOLETE    NUM_REGS strings in this initializer.  Any excess ones are simply ignored.
// OBSOLETE    The order of the first 8 registers must match the compiler's numbering
// OBSOLETE    scheme (which is the same as the 386 scheme) and also regmap in the various
// OBSOLETE    *-nat.c files. */
// OBSOLETE 
// OBSOLETE #undef REGISTER_NAME
// OBSOLETE #define REGISTER_NAMES { "eax",  "ecx",    "edx",  "ebx",  \
// OBSOLETE 			 "esp",  "ebp",    "esi",  "edi",  \
// OBSOLETE 			 "eip",  "eflags", "st0",  "st1",  \
// OBSOLETE 			 "st2",  "st3",    "st4",  "st5",  \
// OBSOLETE 			 "st6",  "st7",    "fp1",  "fp2",  \
// OBSOLETE 			 "fp3",  "fp4",    "fp5",  "fp6",  \
// OBSOLETE 			 "fp7",  "fp8",    "fp9",  "fp10", \
// OBSOLETE 			 "fp11", "fp12",   "fp13", "fp14", \
// OBSOLETE 			 "fp15", "fp16",   "fp17", "fp18", \
// OBSOLETE 			 "fp19", "fp20",   "fp21", "fp22", \
// OBSOLETE 			 "fp23", "fp24",   "fp25", "fp26", \
// OBSOLETE 			 "fp27", "fp28",   "fp29", "fp30", \
// OBSOLETE 			 "fp31" }
// OBSOLETE 
// OBSOLETE /* Register numbers of various important registers.
// OBSOLETE    Note that some of these values are "real" register numbers,
// OBSOLETE    and correspond to the general registers of the machine,
// OBSOLETE    and some are "phony" register numbers which are too large
// OBSOLETE    to be actual register numbers as far as the user is concerned
// OBSOLETE    but do serve to get the desired values when passed to read_register.  */
// OBSOLETE 
// OBSOLETE #define EAX_REGNUM	0
// OBSOLETE #define ECX_REGNUM	1
// OBSOLETE #define EDX_REGNUM	2
// OBSOLETE #define EBX_REGNUM	3
// OBSOLETE 
// OBSOLETE #define ESP_REGNUM	4
// OBSOLETE #define EBP_REGNUM	5
// OBSOLETE 
// OBSOLETE #define ESI_REGNUM	6
// OBSOLETE #define EDI_REGNUM	7
// OBSOLETE 
// OBSOLETE #define EIP_REGNUM	8
// OBSOLETE #define EFLAGS_REGNUM	9
// OBSOLETE 
// OBSOLETE #define ST0_REGNUM	10
// OBSOLETE #define ST1_REGNUM	11
// OBSOLETE #define ST2_REGNUM	12
// OBSOLETE #define ST3_REGNUM	13
// OBSOLETE 
// OBSOLETE #define ST4_REGNUM	14
// OBSOLETE #define ST5_REGNUM	15
// OBSOLETE #define ST6_REGNUM	16
// OBSOLETE #define ST7_REGNUM	17
// OBSOLETE 
// OBSOLETE #define FP1_REGNUM 18		/* first 1167 register */
// OBSOLETE /* Get %fp2 - %fp31 by addition, since they are contiguous */
// OBSOLETE 
// OBSOLETE #undef  SP_REGNUM
// OBSOLETE #define SP_REGNUM ESP_REGNUM	/* Contains address of top of stack */
// OBSOLETE #undef  FP_REGNUM
// OBSOLETE #define FP_REGNUM EBP_REGNUM	/* Contains address of executing stack frame */
// OBSOLETE #undef  PC_REGNUM
// OBSOLETE #define PC_REGNUM EIP_REGNUM	/* Contains program counter */
// OBSOLETE #undef  PS_REGNUM
// OBSOLETE #define PS_REGNUM EFLAGS_REGNUM	/* Contains processor status */
// OBSOLETE 
// OBSOLETE /*
// OBSOLETE  * For ptx, this is a little bit bizarre, since the register block
// OBSOLETE  * is below the u area in memory.  This means that blockend here ends
// OBSOLETE  * up being negative (for the call from coredep.c) since the value in
// OBSOLETE  * u.u_ar0 will be less than KERNEL_U_ADDR (and coredep.c passes us
// OBSOLETE  * u.u_ar0 - KERNEL_U_ADDR in blockend).  Since we also define
// OBSOLETE  * FETCH_INFERIOR_REGISTERS (and supply our own functions for that),
// OBSOLETE  * the core file case will be the only use of this function.
// OBSOLETE  */
// OBSOLETE 
// OBSOLETE #define REGISTER_U_ADDR(addr, blockend, regno) \
// OBSOLETE { (addr) = ptx_register_u_addr((blockend), (regno)); }
// OBSOLETE 
// OBSOLETE extern int ptx_register_u_addr (int, int);
// OBSOLETE 
// OBSOLETE /* Total amount of space needed to store our copies of the machine's
// OBSOLETE    register state, the array `registers'.  10 i*86 registers, 8 i387
// OBSOLETE    registers, and 31 Weitek 1167 registers */
// OBSOLETE 
// OBSOLETE #undef  REGISTER_BYTES
// OBSOLETE #define REGISTER_BYTES ((10 * 4) + (8 * 10) + (31 * 4))
// OBSOLETE 
// OBSOLETE /* Largest value REGISTER_RAW_SIZE can have.  */
// OBSOLETE 
// OBSOLETE #undef  DEPRECATED_MAX_REGISTER_RAW_SIZE
// OBSOLETE #define DEPRECATED_MAX_REGISTER_RAW_SIZE 10
// OBSOLETE 
// OBSOLETE /* Nonzero if register N requires conversion
// OBSOLETE    from raw format to virtual format.  */
// OBSOLETE 
// OBSOLETE #undef REGISTER_CONVERTIBLE
// OBSOLETE #define REGISTER_CONVERTIBLE(N) \
// OBSOLETE ((N < ST0_REGNUM) ? 0 : \
// OBSOLETE  (N < FP1_REGNUM) ? 1 : \
// OBSOLETE  0)
// OBSOLETE 
// OBSOLETE /* Convert data from raw format for register REGNUM
// OBSOLETE    to virtual format for register REGNUM.  */
// OBSOLETE extern const struct floatformat floatformat_i387_ext;	/* from floatformat.h */
// OBSOLETE 
// OBSOLETE #undef REGISTER_CONVERT_TO_VIRTUAL
// OBSOLETE #define REGISTER_CONVERT_TO_VIRTUAL(REGNUM,TYPE,FROM,TO)	\
// OBSOLETE ((REGNUM < ST0_REGNUM) ?  (void)memcpy ((TO), (FROM), 4) : \
// OBSOLETE  (REGNUM < FP1_REGNUM) ? (void)floatformat_to_double(&floatformat_i387_ext, \
// OBSOLETE 						       (FROM),(TO)) : \
// OBSOLETE  (void)memcpy ((TO), (FROM), 4))
// OBSOLETE 
// OBSOLETE /* Convert data from virtual format for register REGNUM
// OBSOLETE    to raw format for register REGNUM.  */
// OBSOLETE 
// OBSOLETE #undef REGISTER_CONVERT_TO_RAW
// OBSOLETE #define REGISTER_CONVERT_TO_RAW(TYPE,REGNUM,FROM,TO)	\
// OBSOLETE ((REGNUM < ST0_REGNUM) ?  (void)memcpy ((TO), (FROM), 4) : \
// OBSOLETE  (REGNUM < FP1_REGNUM) ? (void)floatformat_from_double(&floatformat_i387_ext, \
// OBSOLETE 						       (FROM),(TO)) : \
// OBSOLETE  (void)memcpy ((TO), (FROM), 4))
// OBSOLETE 
// OBSOLETE /* Return the GDB type object for the "standard" data type
// OBSOLETE    of data in register N.  */
// OBSOLETE /*
// OBSOLETE  * Note: the 1167 registers (the last line, builtin_type_float) are
// OBSOLETE  * generally used in pairs, with each pair being treated as a double.
// OBSOLETE  * It it also possible to use them singly as floats.  I'm not sure how
// OBSOLETE  * in gdb to treat the register pair pseudo-doubles. -fubar
// OBSOLETE  */
// OBSOLETE #undef REGISTER_VIRTUAL_TYPE
// OBSOLETE #define REGISTER_VIRTUAL_TYPE(N) \
// OBSOLETE ((N < ST0_REGNUM) ? builtin_type_int : \
// OBSOLETE  (N < FP1_REGNUM) ? builtin_type_double : \
// OBSOLETE  builtin_type_float)
// OBSOLETE 
// OBSOLETE /* Extract from an array REGBUF containing the (raw) register state
// OBSOLETE    a function return value of type TYPE, and copy that, in virtual format,
// OBSOLETE    into VALBUF.  */
// OBSOLETE 
// OBSOLETE #undef  DEPRECATED_EXTRACT_RETURN_VALUE
// OBSOLETE #define DEPRECATED_EXTRACT_RETURN_VALUE(TYPE,REGBUF,VALBUF) \
// OBSOLETE   symmetry_extract_return_value(TYPE, REGBUF, VALBUF)
// OBSOLETE 
// OBSOLETE #endif /* ifndef TM_PTX_H */
@


1.12
log
@2003-04-09  Andrew Cagney  <cagney@@redhat.com>

	* NEWS: Mention that the "Sequent family" is obsolete.
	* configure.tgt: Obsolete i[3456]86-sequent-bsd*,
	i[3456]86-sequent-sysv4*, and i[3456]86-sequent-sysv*.
	* configure.host: Obsolete i[3456]86-sequent-bsd*,
	i[3456]86-sequent-sysv4*, and i[3456]86-sequent-sysv*.
	* config/i386/tm-ptx4.h: Obsolete file.
	* config/i386/tm-ptx.h: Obsolete file.
	* symm-tdep.c: Obsolete file.
	* config/i386/symmetry.mt: Obsolete file.
	* config/i386/tm-symmetry.h: Obsolete file.
	* symm-nat.c: Obsolete file.
	* config/i386/nm-symmetry.h: Obsolete file.
	* config/i386/xm-symmetry.h: Obsolete file.
	* config/i386/symmetry.mh: Obsolete file.
	* config/i386/nm-ptx4.h: Obsolete file.
	* config/i386/ptx4.mh: Obsolete file.
	* config/i386/ptx.mt: Obsolete file.
	* config/i386/ptx.mh: Obsolete file.
	* config/i386/xm-ptx4.h: Obsolete file.
	* config/i386/xm-ptx.h: Obsolete file.
@
text
@@


1.12.20.1
log
@merge mainline changes into branch
@
text
@@


1.11
log
@2003-04-05  Andrew Cagney  <cagney@@redhat.com>

	Eliminate FRAME_FIND_SAVED_REGS.
	* config/pa/tm-hppah.h (hppa_hpux_frame_find_saved_regs_in_sigtramp):
	Change FSR parameter to a pointer.
	* config/pa/tm-hppa64.h (FRAME_FIND_SAVED_REGS_IN_SIGTRAMP):
	Assume FSR parameter is a pointer.
	* hppa-hpux-tdep.c (hppa_hpux_frame_find_saved_regs_in_sigtramp):
	Make fsr a pointer.
	* hppa-tdep.c (hppa_frame_find_saved_regs): New function.
	(hppa_frame_saved_pc): Call hppa_frame_init_saved_regs.  Make
	saved_regs a pointer.
	(hppa_frame_saved_pc): Ditto.
	(find_dummy_frame_regs): Make frame_saved_regs a pointer
	(hppa_pop_frame): Call hppa_frame_init_saved_regs.  Make fsr a
	pointer.
	(restore_pc_queue): Make fsr a pointer.
	(hppa_frame_find_saved_regs): Make frame_saved_regs a pointer.
	(hppa_frame_chain): Make saved_regs a pointer, call
	hppa_frame_init_saved_regs.
	* sparc-tdep.c: Include "gdb_assert.h".
	(sparc_frame_find_saved_regs): Replace internal_error with
	gdb_assert.
	* remote-vxsparc.c (vx_read_register): Delete reference to
	FRAME_FIND_SAVED_REGS.
	* gdbarch.sh: Delete check for FRAME_FIND_SAVED_REGS.
	* gdbarch.h: Regenerate.
	* frame.h (DEPRECATED_FRAME_INIT_SAVED_REGS): Delete macro.
	(deprecated_get_frame_saved_regs): Delete declaration.
	(struct frame_saved_regs): Delete definition.
	* frame.c (deprecated_get_frame_saved_regs): Delete function.
	* config/pa/tm-hppa.h (hppa_frame_init_saved_regs): Declare.
	(hppa_frame_find_saved_regs): Delete declaration.
	(FRAME_FIND_SAVED_REGS): Delete macro.
	(DEPRECATED_FRAME_INIT_SAVED_REGS): Define.
	* config/i386/tm-ptx.h (FRAME_FIND_SAVED_REGS): Delete
	FRAME_FIND_SAVED_REGS in comment.
@
text
@d1 194
a194 194
/* Target machine definitions for GDB on a Sequent Symmetry under ptx
   with Weitek 1167 and i387 support.

   Copyright 1986, 1987, 1989, 1991, 1992, 1993, 1994, 1995, 2000,
   2003 Free Software Foundation, Inc.

   Symmetry version by Jay Vosburgh (fubar@@sequent.com).

   This file is part of GDB.

   This program is free software; you can redistribute it and/or modify
   it under the terms of the GNU General Public License as published by
   the Free Software Foundation; either version 2 of the License, or
   (at your option) any later version.

   This program is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   GNU General Public License for more details.

   You should have received a copy of the GNU General Public License
   along with this program; if not, write to the Free Software
   Foundation, Inc., 59 Temple Place - Suite 330,
   Boston, MA 02111-1307, USA.  */

#ifndef TM_PTX_H
#define TM_PTX_H 1

/* I don't know if this will work for cross-debugging, even if you do get
   a copy of the right include file.  */

#include <sys/reg.h>

#ifdef SEQUENT_PTX4
#include "i386/tm-i386.h"
#else /* !SEQUENT_PTX4 */
#include "i386/tm-i386.h"
#endif

/* Amount PC must be decremented by after a breakpoint.  This is often the
   number of bytes in BREAKPOINT but not always (such as now). */

#undef DECR_PC_AFTER_BREAK
#define DECR_PC_AFTER_BREAK 0

/* Number of machine registers */

#undef  NUM_REGS
#define NUM_REGS 49

/* Initializer for an array of names of registers.  There should be at least
   NUM_REGS strings in this initializer.  Any excess ones are simply ignored.
   The order of the first 8 registers must match the compiler's numbering
   scheme (which is the same as the 386 scheme) and also regmap in the various
   *-nat.c files. */

#undef REGISTER_NAME
#define REGISTER_NAMES { "eax",  "ecx",    "edx",  "ebx",  \
			 "esp",  "ebp",    "esi",  "edi",  \
			 "eip",  "eflags", "st0",  "st1",  \
			 "st2",  "st3",    "st4",  "st5",  \
			 "st6",  "st7",    "fp1",  "fp2",  \
			 "fp3",  "fp4",    "fp5",  "fp6",  \
			 "fp7",  "fp8",    "fp9",  "fp10", \
			 "fp11", "fp12",   "fp13", "fp14", \
			 "fp15", "fp16",   "fp17", "fp18", \
			 "fp19", "fp20",   "fp21", "fp22", \
			 "fp23", "fp24",   "fp25", "fp26", \
			 "fp27", "fp28",   "fp29", "fp30", \
			 "fp31" }

/* Register numbers of various important registers.
   Note that some of these values are "real" register numbers,
   and correspond to the general registers of the machine,
   and some are "phony" register numbers which are too large
   to be actual register numbers as far as the user is concerned
   but do serve to get the desired values when passed to read_register.  */

#define EAX_REGNUM	0
#define ECX_REGNUM	1
#define EDX_REGNUM	2
#define EBX_REGNUM	3

#define ESP_REGNUM	4
#define EBP_REGNUM	5

#define ESI_REGNUM	6
#define EDI_REGNUM	7

#define EIP_REGNUM	8
#define EFLAGS_REGNUM	9

#define ST0_REGNUM	10
#define ST1_REGNUM	11
#define ST2_REGNUM	12
#define ST3_REGNUM	13

#define ST4_REGNUM	14
#define ST5_REGNUM	15
#define ST6_REGNUM	16
#define ST7_REGNUM	17

#define FP1_REGNUM 18		/* first 1167 register */
/* Get %fp2 - %fp31 by addition, since they are contiguous */

#undef  SP_REGNUM
#define SP_REGNUM ESP_REGNUM	/* Contains address of top of stack */
#undef  FP_REGNUM
#define FP_REGNUM EBP_REGNUM	/* Contains address of executing stack frame */
#undef  PC_REGNUM
#define PC_REGNUM EIP_REGNUM	/* Contains program counter */
#undef  PS_REGNUM
#define PS_REGNUM EFLAGS_REGNUM	/* Contains processor status */

/*
 * For ptx, this is a little bit bizarre, since the register block
 * is below the u area in memory.  This means that blockend here ends
 * up being negative (for the call from coredep.c) since the value in
 * u.u_ar0 will be less than KERNEL_U_ADDR (and coredep.c passes us
 * u.u_ar0 - KERNEL_U_ADDR in blockend).  Since we also define
 * FETCH_INFERIOR_REGISTERS (and supply our own functions for that),
 * the core file case will be the only use of this function.
 */

#define REGISTER_U_ADDR(addr, blockend, regno) \
{ (addr) = ptx_register_u_addr((blockend), (regno)); }

extern int ptx_register_u_addr (int, int);

/* Total amount of space needed to store our copies of the machine's
   register state, the array `registers'.  10 i*86 registers, 8 i387
   registers, and 31 Weitek 1167 registers */

#undef  REGISTER_BYTES
#define REGISTER_BYTES ((10 * 4) + (8 * 10) + (31 * 4))

/* Largest value REGISTER_RAW_SIZE can have.  */

#undef  DEPRECATED_MAX_REGISTER_RAW_SIZE
#define DEPRECATED_MAX_REGISTER_RAW_SIZE 10

/* Nonzero if register N requires conversion
   from raw format to virtual format.  */

#undef REGISTER_CONVERTIBLE
#define REGISTER_CONVERTIBLE(N) \
((N < ST0_REGNUM) ? 0 : \
 (N < FP1_REGNUM) ? 1 : \
 0)

/* Convert data from raw format for register REGNUM
   to virtual format for register REGNUM.  */
extern const struct floatformat floatformat_i387_ext;	/* from floatformat.h */

#undef REGISTER_CONVERT_TO_VIRTUAL
#define REGISTER_CONVERT_TO_VIRTUAL(REGNUM,TYPE,FROM,TO)	\
((REGNUM < ST0_REGNUM) ?  (void)memcpy ((TO), (FROM), 4) : \
 (REGNUM < FP1_REGNUM) ? (void)floatformat_to_double(&floatformat_i387_ext, \
						       (FROM),(TO)) : \
 (void)memcpy ((TO), (FROM), 4))

/* Convert data from virtual format for register REGNUM
   to raw format for register REGNUM.  */

#undef REGISTER_CONVERT_TO_RAW
#define REGISTER_CONVERT_TO_RAW(TYPE,REGNUM,FROM,TO)	\
((REGNUM < ST0_REGNUM) ?  (void)memcpy ((TO), (FROM), 4) : \
 (REGNUM < FP1_REGNUM) ? (void)floatformat_from_double(&floatformat_i387_ext, \
						       (FROM),(TO)) : \
 (void)memcpy ((TO), (FROM), 4))

/* Return the GDB type object for the "standard" data type
   of data in register N.  */
/*
 * Note: the 1167 registers (the last line, builtin_type_float) are
 * generally used in pairs, with each pair being treated as a double.
 * It it also possible to use them singly as floats.  I'm not sure how
 * in gdb to treat the register pair pseudo-doubles. -fubar
 */
#undef REGISTER_VIRTUAL_TYPE
#define REGISTER_VIRTUAL_TYPE(N) \
((N < ST0_REGNUM) ? builtin_type_int : \
 (N < FP1_REGNUM) ? builtin_type_double : \
 builtin_type_float)

/* Extract from an array REGBUF containing the (raw) register state
   a function return value of type TYPE, and copy that, in virtual format,
   into VALBUF.  */

#undef  DEPRECATED_EXTRACT_RETURN_VALUE
#define DEPRECATED_EXTRACT_RETURN_VALUE(TYPE,REGBUF,VALBUF) \
  symmetry_extract_return_value(TYPE, REGBUF, VALBUF)

#endif /* ifndef TM_PTX_H */
@


1.10
log
@2003-03-03  Andrew Cagney  <cagney@@redhat.com>

	Make MAX_REGISTER_RAW_SIZE and MAX_REGISTER_VIRTUAL_SIZE optional.
	* gdbarch.sh (DEPRECATED_MAX_REGISTER_RAW_SIZE): Variable with
	predicate.  Replace MAX_REGISTER_RAW_SIZE.
	(DEPRECATED_MAX_REGISTER_VIRTUAL_SIZE): Ditto for
	MAX_REGISTER_VIRTUAL_SIZE.
	* regcache.c (legacy_max_register_raw_size): New function.
	(legacy_max_register_virtual_size): New function.
	* defs.h (MAX_REGISTER_VIRTUAL_SIZE): Define.
	(MAX_REGISTER_RAW_SIZE): Define.
	(legacy_max_register_raw_size): Declare.
	(legacy_max_register_virtual_size): Declare.
	* config/sparc/tm-sparc.h (DEPRECATED_MAX_REGISTER_RAW_SIZE)
	(DEPRECATED_MAX_REGISTER_VIRTUAL_SIZE): Update.
	* config/sparc/tm-sp64.h (DEPRECATED_MAX_REGISTER_RAW_SIZE)
	(DEPRECATED_MAX_REGISTER_VIRTUAL_SIZE): Ditto.
	* config/pa/tm-hppa.h (DEPRECATED_MAX_REGISTER_RAW_SIZE)
	(DEPRECATED_MAX_REGISTER_VIRTUAL_SIZE): Ditto.
	* config/pa/tm-hppa64.h (DEPRECATED_MAX_REGISTER_RAW_SIZE): Ditto.
	* config/ia64/tm-ia64.h (DEPRECATED_MAX_REGISTER_RAW_SIZE): Ditto.
	* config/i386/tm-ptx.h (DEPRECATED_MAX_REGISTER_RAW_SIZE): Ditto.
	* xstormy16-tdep.c (xstormy16_gdbarch_init): Update.
	* vax-tdep.c (vax_gdbarch_init): Update.
	* v850-tdep.c (v850_gdbarch_init): Update.
	* sparc-tdep.c (sparc_gdbarch_init): Update.
	* sh-tdep.c (sh_gdbarch_init): Update.
	* s390-tdep.c (s390_gdbarch_init): Update.
	* rs6000-tdep.c (rs6000_gdbarch_init): Update.
	* ns32k-tdep.c (ns32k_gdbarch_init): Update.
	* mn10300-tdep.c (mn10300_gdbarch_init): Update.
	* mips-tdep.c (mips_gdbarch_init): Update.
	* mcore-tdep.c (mcore_gdbarch_init): Update.
	* m68k-tdep.c (m68k_gdbarch_init): Update.
	* m68hc11-tdep.c (m68hc11_gdbarch_init): Update.
	* ia64-tdep.c (ia64_gdbarch_init): Update.
	* i386-tdep.c (i386_gdbarch_init): Update.
	* hppa-tdep.c (hppa_gdbarch_init): Update.
	* h8300-tdep.c (h8300_gdbarch_init): Update.
	* frv-tdep.c (frv_gdbarch_init): Update.
	* cris-tdep.c (cris_gdbarch_init): Update.
	* avr-tdep.c (avr_gdbarch_init): Update.
	* arm-tdep.c (arm_gdbarch_init): Update.
	* alpha-tdep.c (alpha_gdbarch_init): Update.
	* d10v-tdep.c (d10v_gdbarch_init): Do not set
	max_register_raw_size or max_register_virtual_size.
@
text
@a193 6
/*
   #undef  FRAME_FIND_SAVED_REGS
   #define FRAME_FIND_SAVED_REGS(frame_info, frame_saved_regs) \
   { ptx_frame_find_saved_regs((frame_info), &(frame_saved_regs)); }
 */

@


1.10.12.1
log
@Merge with mainline.
@
text
@d1 200
a200 194
// OBSOLETE /* Target machine definitions for GDB on a Sequent Symmetry under ptx
// OBSOLETE    with Weitek 1167 and i387 support.
// OBSOLETE 
// OBSOLETE    Copyright 1986, 1987, 1989, 1991, 1992, 1993, 1994, 1995, 2000,
// OBSOLETE    2003 Free Software Foundation, Inc.
// OBSOLETE 
// OBSOLETE    Symmetry version by Jay Vosburgh (fubar@@sequent.com).
// OBSOLETE 
// OBSOLETE    This file is part of GDB.
// OBSOLETE 
// OBSOLETE    This program is free software; you can redistribute it and/or modify
// OBSOLETE    it under the terms of the GNU General Public License as published by
// OBSOLETE    the Free Software Foundation; either version 2 of the License, or
// OBSOLETE    (at your option) any later version.
// OBSOLETE 
// OBSOLETE    This program is distributed in the hope that it will be useful,
// OBSOLETE    but WITHOUT ANY WARRANTY; without even the implied warranty of
// OBSOLETE    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// OBSOLETE    GNU General Public License for more details.
// OBSOLETE 
// OBSOLETE    You should have received a copy of the GNU General Public License
// OBSOLETE    along with this program; if not, write to the Free Software
// OBSOLETE    Foundation, Inc., 59 Temple Place - Suite 330,
// OBSOLETE    Boston, MA 02111-1307, USA.  */
// OBSOLETE 
// OBSOLETE #ifndef TM_PTX_H
// OBSOLETE #define TM_PTX_H 1
// OBSOLETE 
// OBSOLETE /* I don't know if this will work for cross-debugging, even if you do get
// OBSOLETE    a copy of the right include file.  */
// OBSOLETE 
// OBSOLETE #include <sys/reg.h>
// OBSOLETE 
// OBSOLETE #ifdef SEQUENT_PTX4
// OBSOLETE #include "i386/tm-i386.h"
// OBSOLETE #else /* !SEQUENT_PTX4 */
// OBSOLETE #include "i386/tm-i386.h"
// OBSOLETE #endif
// OBSOLETE 
// OBSOLETE /* Amount PC must be decremented by after a breakpoint.  This is often the
// OBSOLETE    number of bytes in BREAKPOINT but not always (such as now). */
// OBSOLETE 
// OBSOLETE #undef DECR_PC_AFTER_BREAK
// OBSOLETE #define DECR_PC_AFTER_BREAK 0
// OBSOLETE 
// OBSOLETE /* Number of machine registers */
// OBSOLETE 
// OBSOLETE #undef  NUM_REGS
// OBSOLETE #define NUM_REGS 49
// OBSOLETE 
// OBSOLETE /* Initializer for an array of names of registers.  There should be at least
// OBSOLETE    NUM_REGS strings in this initializer.  Any excess ones are simply ignored.
// OBSOLETE    The order of the first 8 registers must match the compiler's numbering
// OBSOLETE    scheme (which is the same as the 386 scheme) and also regmap in the various
// OBSOLETE    *-nat.c files. */
// OBSOLETE 
// OBSOLETE #undef REGISTER_NAME
// OBSOLETE #define REGISTER_NAMES { "eax",  "ecx",    "edx",  "ebx",  \
// OBSOLETE 			 "esp",  "ebp",    "esi",  "edi",  \
// OBSOLETE 			 "eip",  "eflags", "st0",  "st1",  \
// OBSOLETE 			 "st2",  "st3",    "st4",  "st5",  \
// OBSOLETE 			 "st6",  "st7",    "fp1",  "fp2",  \
// OBSOLETE 			 "fp3",  "fp4",    "fp5",  "fp6",  \
// OBSOLETE 			 "fp7",  "fp8",    "fp9",  "fp10", \
// OBSOLETE 			 "fp11", "fp12",   "fp13", "fp14", \
// OBSOLETE 			 "fp15", "fp16",   "fp17", "fp18", \
// OBSOLETE 			 "fp19", "fp20",   "fp21", "fp22", \
// OBSOLETE 			 "fp23", "fp24",   "fp25", "fp26", \
// OBSOLETE 			 "fp27", "fp28",   "fp29", "fp30", \
// OBSOLETE 			 "fp31" }
// OBSOLETE 
// OBSOLETE /* Register numbers of various important registers.
// OBSOLETE    Note that some of these values are "real" register numbers,
// OBSOLETE    and correspond to the general registers of the machine,
// OBSOLETE    and some are "phony" register numbers which are too large
// OBSOLETE    to be actual register numbers as far as the user is concerned
// OBSOLETE    but do serve to get the desired values when passed to read_register.  */
// OBSOLETE 
// OBSOLETE #define EAX_REGNUM	0
// OBSOLETE #define ECX_REGNUM	1
// OBSOLETE #define EDX_REGNUM	2
// OBSOLETE #define EBX_REGNUM	3
// OBSOLETE 
// OBSOLETE #define ESP_REGNUM	4
// OBSOLETE #define EBP_REGNUM	5
// OBSOLETE 
// OBSOLETE #define ESI_REGNUM	6
// OBSOLETE #define EDI_REGNUM	7
// OBSOLETE 
// OBSOLETE #define EIP_REGNUM	8
// OBSOLETE #define EFLAGS_REGNUM	9
// OBSOLETE 
// OBSOLETE #define ST0_REGNUM	10
// OBSOLETE #define ST1_REGNUM	11
// OBSOLETE #define ST2_REGNUM	12
// OBSOLETE #define ST3_REGNUM	13
// OBSOLETE 
// OBSOLETE #define ST4_REGNUM	14
// OBSOLETE #define ST5_REGNUM	15
// OBSOLETE #define ST6_REGNUM	16
// OBSOLETE #define ST7_REGNUM	17
// OBSOLETE 
// OBSOLETE #define FP1_REGNUM 18		/* first 1167 register */
// OBSOLETE /* Get %fp2 - %fp31 by addition, since they are contiguous */
// OBSOLETE 
// OBSOLETE #undef  SP_REGNUM
// OBSOLETE #define SP_REGNUM ESP_REGNUM	/* Contains address of top of stack */
// OBSOLETE #undef  FP_REGNUM
// OBSOLETE #define FP_REGNUM EBP_REGNUM	/* Contains address of executing stack frame */
// OBSOLETE #undef  PC_REGNUM
// OBSOLETE #define PC_REGNUM EIP_REGNUM	/* Contains program counter */
// OBSOLETE #undef  PS_REGNUM
// OBSOLETE #define PS_REGNUM EFLAGS_REGNUM	/* Contains processor status */
// OBSOLETE 
// OBSOLETE /*
// OBSOLETE  * For ptx, this is a little bit bizarre, since the register block
// OBSOLETE  * is below the u area in memory.  This means that blockend here ends
// OBSOLETE  * up being negative (for the call from coredep.c) since the value in
// OBSOLETE  * u.u_ar0 will be less than KERNEL_U_ADDR (and coredep.c passes us
// OBSOLETE  * u.u_ar0 - KERNEL_U_ADDR in blockend).  Since we also define
// OBSOLETE  * FETCH_INFERIOR_REGISTERS (and supply our own functions for that),
// OBSOLETE  * the core file case will be the only use of this function.
// OBSOLETE  */
// OBSOLETE 
// OBSOLETE #define REGISTER_U_ADDR(addr, blockend, regno) \
// OBSOLETE { (addr) = ptx_register_u_addr((blockend), (regno)); }
// OBSOLETE 
// OBSOLETE extern int ptx_register_u_addr (int, int);
// OBSOLETE 
// OBSOLETE /* Total amount of space needed to store our copies of the machine's
// OBSOLETE    register state, the array `registers'.  10 i*86 registers, 8 i387
// OBSOLETE    registers, and 31 Weitek 1167 registers */
// OBSOLETE 
// OBSOLETE #undef  REGISTER_BYTES
// OBSOLETE #define REGISTER_BYTES ((10 * 4) + (8 * 10) + (31 * 4))
// OBSOLETE 
// OBSOLETE /* Largest value REGISTER_RAW_SIZE can have.  */
// OBSOLETE 
// OBSOLETE #undef  DEPRECATED_MAX_REGISTER_RAW_SIZE
// OBSOLETE #define DEPRECATED_MAX_REGISTER_RAW_SIZE 10
// OBSOLETE 
// OBSOLETE /* Nonzero if register N requires conversion
// OBSOLETE    from raw format to virtual format.  */
// OBSOLETE 
// OBSOLETE #undef REGISTER_CONVERTIBLE
// OBSOLETE #define REGISTER_CONVERTIBLE(N) \
// OBSOLETE ((N < ST0_REGNUM) ? 0 : \
// OBSOLETE  (N < FP1_REGNUM) ? 1 : \
// OBSOLETE  0)
// OBSOLETE 
// OBSOLETE /* Convert data from raw format for register REGNUM
// OBSOLETE    to virtual format for register REGNUM.  */
// OBSOLETE extern const struct floatformat floatformat_i387_ext;	/* from floatformat.h */
// OBSOLETE 
// OBSOLETE #undef REGISTER_CONVERT_TO_VIRTUAL
// OBSOLETE #define REGISTER_CONVERT_TO_VIRTUAL(REGNUM,TYPE,FROM,TO)	\
// OBSOLETE ((REGNUM < ST0_REGNUM) ?  (void)memcpy ((TO), (FROM), 4) : \
// OBSOLETE  (REGNUM < FP1_REGNUM) ? (void)floatformat_to_double(&floatformat_i387_ext, \
// OBSOLETE 						       (FROM),(TO)) : \
// OBSOLETE  (void)memcpy ((TO), (FROM), 4))
// OBSOLETE 
// OBSOLETE /* Convert data from virtual format for register REGNUM
// OBSOLETE    to raw format for register REGNUM.  */
// OBSOLETE 
// OBSOLETE #undef REGISTER_CONVERT_TO_RAW
// OBSOLETE #define REGISTER_CONVERT_TO_RAW(TYPE,REGNUM,FROM,TO)	\
// OBSOLETE ((REGNUM < ST0_REGNUM) ?  (void)memcpy ((TO), (FROM), 4) : \
// OBSOLETE  (REGNUM < FP1_REGNUM) ? (void)floatformat_from_double(&floatformat_i387_ext, \
// OBSOLETE 						       (FROM),(TO)) : \
// OBSOLETE  (void)memcpy ((TO), (FROM), 4))
// OBSOLETE 
// OBSOLETE /* Return the GDB type object for the "standard" data type
// OBSOLETE    of data in register N.  */
// OBSOLETE /*
// OBSOLETE  * Note: the 1167 registers (the last line, builtin_type_float) are
// OBSOLETE  * generally used in pairs, with each pair being treated as a double.
// OBSOLETE  * It it also possible to use them singly as floats.  I'm not sure how
// OBSOLETE  * in gdb to treat the register pair pseudo-doubles. -fubar
// OBSOLETE  */
// OBSOLETE #undef REGISTER_VIRTUAL_TYPE
// OBSOLETE #define REGISTER_VIRTUAL_TYPE(N) \
// OBSOLETE ((N < ST0_REGNUM) ? builtin_type_int : \
// OBSOLETE  (N < FP1_REGNUM) ? builtin_type_double : \
// OBSOLETE  builtin_type_float)
// OBSOLETE 
// OBSOLETE /* Extract from an array REGBUF containing the (raw) register state
// OBSOLETE    a function return value of type TYPE, and copy that, in virtual format,
// OBSOLETE    into VALBUF.  */
// OBSOLETE 
// OBSOLETE #undef  DEPRECATED_EXTRACT_RETURN_VALUE
// OBSOLETE #define DEPRECATED_EXTRACT_RETURN_VALUE(TYPE,REGBUF,VALBUF) \
// OBSOLETE   symmetry_extract_return_value(TYPE, REGBUF, VALBUF)
// OBSOLETE 
// OBSOLETE #endif /* ifndef TM_PTX_H */
@


1.9
log
@2003-02-01  Andrew Cagney  <ac131313@@redhat.com>

	* infcmd.c (print_float_info): Delete code conditional on
	FLOAT_INFO.
	* config/nm-lynx.h: Delete #undef FLOAT_INFO.  Update copyright.
	* config/m68k/nm-apollo68b.h: Ditto.
	* config/i386/tm-ptx.h (FLOAT_INFO): Delete.  Update copyright.
	* config/ns32k/nm-nbsd.h (FLOAT_INFO): Ditto.
	* config/i386/tm-symmetry.h (FLOAT_INFO): Ditto.

Index: doc/ChangeLog
2003-02-01  Andrew Cagney  <ac131313@@redhat.com>

	* gdbint.texinfo (Target Architecture Definition): Delete
	FLOAT_INFO.
@
text
@d139 2
a140 2
#undef  MAX_REGISTER_RAW_SIZE
#define MAX_REGISTER_RAW_SIZE 10
@


1.8
log
@        * c-exp.y (THIS): Delete token and grammar rule.
        (yylex): Don't return THIS.
        * cp-valprint.c (vtbl_ptr_name_old): Delete.
        (cp_is_vtbl_ptr_type): Don't check vtbl_ptr_name_old.
        * demangle.c (cplus_markers): Update comment.  Put '$'
        first.  Remove CPLUS_MARKER.
        (_initialize_demangler): Don't call set_cplus_marker_for_demangling.
        * jv-exp.y (THIS): Delete token and grammar rule.
        (yylex): Don't return THIS.
        * mips-tdep.c (mips_dump_tdep): Don't dump CPLUS_MARKER.
        * objc-exp.y (THIS): Delete token and grammar rule.
        (yylex): Don't return THIS.
        * p-exp.y (yylex): Remove reference to CPLUS_MARKER.
        * stabsread.c (vptr_name, vb_name): Replace CPLUS_MARKER with '$'.
        (read_member_functions): Likewise for opname.
        (read_tilde_fields): Use is_cplus_marker.

        * defs.h (CPLUS_MARKER): Don't define.
        * config/tm-sysv4.h (CPLUS_MARKER): Likewise.
        * config/i386/xm-i386sco.h (CPLUS_MARKER): Likewise.
        * config/mips/tm-irix3.h (CPLUS_MARKER): Likewise.
        * config/mips/tm-irix6.h (CPLUS_MARKER): Likewise.
        * config/rs6000/tm-rs6000.h (CPLUS_MARKER): Likewise.

        * config/i386/tm-i386v4.h: Delete file.
        * config/djgpp/fnchange.lst: Delete tm-i386v4.h.
        * config/i386/tm-i386sol2.h: Include "i386/tm-i386.h" instead.
        * config/i386/tm-i386v42mp.h: Include "i386/tm-i386.h" instead.
        * config/i386/tm-ptx.h: Include "i386/tm-i386.h" instead.
        * config/i386/i386gnu.mt (TM_FILE): Use tm-i386.h.
        * config/i386/i386sco5.mt (TM_FILE): Likewise.
        * config/i386/i386v4.mt (TM_FILE): Likewise.
        * config/i386/ncr3000.mt (TM_FILE): Likewise.
@
text
@d3 4
a6 2
   Copyright 1986, 1987, 1989, 1991, 1992, 1993, 1994, 1995, 2000
   Free Software Foundation, Inc.
a44 9

#if 0
-- -this code can 't be used unless we know we are running native,
since it uses host specific ptrace calls.
/* code for 80387 fpu.  Functions are from i386-dep.c, copied into
 * symm-dep.c.
 */
#define FLOAT_INFO { i386_float_info(); }
#endif
@


1.7
log
@* config/i386/i386aout.mt (TDEPFILES): Add i387-tdep.o
(TM_FILE): Set to tm-i386.h.
* config/i386/i386v.mt (TM_FILE): Set to tm-i386.h.
* config/i386/tm-i386v.h: Remove file.
* config/i386/tm-ptx.h [!SEQUENT_PTX4]: Include "i386/tm-i386.h"
instead of "i386/tm-i386v.h".
(START_INFERIOR_TRAPS_EXPECTED): Remove define.
* config/i386/tm-symmetry: Include "i386/tm-i386.h" instead of
"i386/tm-i386v.h".
(START_INFERIOR_TRAPS_EXPECTED): Remove define.
* config/i386/tm-vxworks.h: Include "i386/tm-i386.h" instead of
"i386/tm-i386.h".
@
text
@d33 1
a33 1
#include "i386/tm-i386v4.h"
@


1.7.10.1
log
@Merge drow-cplus-merge-20021025 to drow-cplus-branch.
@
text
@d33 1
a33 1
#include "i386/tm-i386.h"
@


1.7.10.2
log
@Merge drow-cplus-branch to:
  cvs rtag -D 2003-12-14 00:00:00 UTC drow-cplus-merge-20031214 gdb+dejagnu
@
text
@@


1.7.8.1
log
@Merge with mainline; merge tag carlton_dictionary-20021011-merge.
@
text
@d33 1
a33 1
#include "i386/tm-i386.h"
@


1.7.8.2
log
@2003-02-07  David Carlton  <carlton@@math.stanford.edu>

	* Merge with mainline; tag is carlton_dictionary-20030207-merge.
@
text
@d3 2
a4 4

   Copyright 1986, 1987, 1989, 1991, 1992, 1993, 1994, 1995, 2000,
   2003 Free Software Foundation, Inc.

d43 9
@


1.7.8.3
log
@2003-03-05  David Carlton  <carlton@@math.stanford.edu>

	* Merge with mainline.  Tag is carlton_dictionary-20030305-merge.
@
text
@d139 2
a140 2
#undef  DEPRECATED_MAX_REGISTER_RAW_SIZE
#define DEPRECATED_MAX_REGISTER_RAW_SIZE 10
@


1.7.8.4
log
@2003-04-16  David Carlton  <carlton@@bactrian.org>

	* Merge with mainline; tag is carlton_dictionary-20030416-merge.
@
text
@d1 200
a200 194
// OBSOLETE /* Target machine definitions for GDB on a Sequent Symmetry under ptx
// OBSOLETE    with Weitek 1167 and i387 support.
// OBSOLETE 
// OBSOLETE    Copyright 1986, 1987, 1989, 1991, 1992, 1993, 1994, 1995, 2000,
// OBSOLETE    2003 Free Software Foundation, Inc.
// OBSOLETE 
// OBSOLETE    Symmetry version by Jay Vosburgh (fubar@@sequent.com).
// OBSOLETE 
// OBSOLETE    This file is part of GDB.
// OBSOLETE 
// OBSOLETE    This program is free software; you can redistribute it and/or modify
// OBSOLETE    it under the terms of the GNU General Public License as published by
// OBSOLETE    the Free Software Foundation; either version 2 of the License, or
// OBSOLETE    (at your option) any later version.
// OBSOLETE 
// OBSOLETE    This program is distributed in the hope that it will be useful,
// OBSOLETE    but WITHOUT ANY WARRANTY; without even the implied warranty of
// OBSOLETE    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// OBSOLETE    GNU General Public License for more details.
// OBSOLETE 
// OBSOLETE    You should have received a copy of the GNU General Public License
// OBSOLETE    along with this program; if not, write to the Free Software
// OBSOLETE    Foundation, Inc., 59 Temple Place - Suite 330,
// OBSOLETE    Boston, MA 02111-1307, USA.  */
// OBSOLETE 
// OBSOLETE #ifndef TM_PTX_H
// OBSOLETE #define TM_PTX_H 1
// OBSOLETE 
// OBSOLETE /* I don't know if this will work for cross-debugging, even if you do get
// OBSOLETE    a copy of the right include file.  */
// OBSOLETE 
// OBSOLETE #include <sys/reg.h>
// OBSOLETE 
// OBSOLETE #ifdef SEQUENT_PTX4
// OBSOLETE #include "i386/tm-i386.h"
// OBSOLETE #else /* !SEQUENT_PTX4 */
// OBSOLETE #include "i386/tm-i386.h"
// OBSOLETE #endif
// OBSOLETE 
// OBSOLETE /* Amount PC must be decremented by after a breakpoint.  This is often the
// OBSOLETE    number of bytes in BREAKPOINT but not always (such as now). */
// OBSOLETE 
// OBSOLETE #undef DECR_PC_AFTER_BREAK
// OBSOLETE #define DECR_PC_AFTER_BREAK 0
// OBSOLETE 
// OBSOLETE /* Number of machine registers */
// OBSOLETE 
// OBSOLETE #undef  NUM_REGS
// OBSOLETE #define NUM_REGS 49
// OBSOLETE 
// OBSOLETE /* Initializer for an array of names of registers.  There should be at least
// OBSOLETE    NUM_REGS strings in this initializer.  Any excess ones are simply ignored.
// OBSOLETE    The order of the first 8 registers must match the compiler's numbering
// OBSOLETE    scheme (which is the same as the 386 scheme) and also regmap in the various
// OBSOLETE    *-nat.c files. */
// OBSOLETE 
// OBSOLETE #undef REGISTER_NAME
// OBSOLETE #define REGISTER_NAMES { "eax",  "ecx",    "edx",  "ebx",  \
// OBSOLETE 			 "esp",  "ebp",    "esi",  "edi",  \
// OBSOLETE 			 "eip",  "eflags", "st0",  "st1",  \
// OBSOLETE 			 "st2",  "st3",    "st4",  "st5",  \
// OBSOLETE 			 "st6",  "st7",    "fp1",  "fp2",  \
// OBSOLETE 			 "fp3",  "fp4",    "fp5",  "fp6",  \
// OBSOLETE 			 "fp7",  "fp8",    "fp9",  "fp10", \
// OBSOLETE 			 "fp11", "fp12",   "fp13", "fp14", \
// OBSOLETE 			 "fp15", "fp16",   "fp17", "fp18", \
// OBSOLETE 			 "fp19", "fp20",   "fp21", "fp22", \
// OBSOLETE 			 "fp23", "fp24",   "fp25", "fp26", \
// OBSOLETE 			 "fp27", "fp28",   "fp29", "fp30", \
// OBSOLETE 			 "fp31" }
// OBSOLETE 
// OBSOLETE /* Register numbers of various important registers.
// OBSOLETE    Note that some of these values are "real" register numbers,
// OBSOLETE    and correspond to the general registers of the machine,
// OBSOLETE    and some are "phony" register numbers which are too large
// OBSOLETE    to be actual register numbers as far as the user is concerned
// OBSOLETE    but do serve to get the desired values when passed to read_register.  */
// OBSOLETE 
// OBSOLETE #define EAX_REGNUM	0
// OBSOLETE #define ECX_REGNUM	1
// OBSOLETE #define EDX_REGNUM	2
// OBSOLETE #define EBX_REGNUM	3
// OBSOLETE 
// OBSOLETE #define ESP_REGNUM	4
// OBSOLETE #define EBP_REGNUM	5
// OBSOLETE 
// OBSOLETE #define ESI_REGNUM	6
// OBSOLETE #define EDI_REGNUM	7
// OBSOLETE 
// OBSOLETE #define EIP_REGNUM	8
// OBSOLETE #define EFLAGS_REGNUM	9
// OBSOLETE 
// OBSOLETE #define ST0_REGNUM	10
// OBSOLETE #define ST1_REGNUM	11
// OBSOLETE #define ST2_REGNUM	12
// OBSOLETE #define ST3_REGNUM	13
// OBSOLETE 
// OBSOLETE #define ST4_REGNUM	14
// OBSOLETE #define ST5_REGNUM	15
// OBSOLETE #define ST6_REGNUM	16
// OBSOLETE #define ST7_REGNUM	17
// OBSOLETE 
// OBSOLETE #define FP1_REGNUM 18		/* first 1167 register */
// OBSOLETE /* Get %fp2 - %fp31 by addition, since they are contiguous */
// OBSOLETE 
// OBSOLETE #undef  SP_REGNUM
// OBSOLETE #define SP_REGNUM ESP_REGNUM	/* Contains address of top of stack */
// OBSOLETE #undef  FP_REGNUM
// OBSOLETE #define FP_REGNUM EBP_REGNUM	/* Contains address of executing stack frame */
// OBSOLETE #undef  PC_REGNUM
// OBSOLETE #define PC_REGNUM EIP_REGNUM	/* Contains program counter */
// OBSOLETE #undef  PS_REGNUM
// OBSOLETE #define PS_REGNUM EFLAGS_REGNUM	/* Contains processor status */
// OBSOLETE 
// OBSOLETE /*
// OBSOLETE  * For ptx, this is a little bit bizarre, since the register block
// OBSOLETE  * is below the u area in memory.  This means that blockend here ends
// OBSOLETE  * up being negative (for the call from coredep.c) since the value in
// OBSOLETE  * u.u_ar0 will be less than KERNEL_U_ADDR (and coredep.c passes us
// OBSOLETE  * u.u_ar0 - KERNEL_U_ADDR in blockend).  Since we also define
// OBSOLETE  * FETCH_INFERIOR_REGISTERS (and supply our own functions for that),
// OBSOLETE  * the core file case will be the only use of this function.
// OBSOLETE  */
// OBSOLETE 
// OBSOLETE #define REGISTER_U_ADDR(addr, blockend, regno) \
// OBSOLETE { (addr) = ptx_register_u_addr((blockend), (regno)); }
// OBSOLETE 
// OBSOLETE extern int ptx_register_u_addr (int, int);
// OBSOLETE 
// OBSOLETE /* Total amount of space needed to store our copies of the machine's
// OBSOLETE    register state, the array `registers'.  10 i*86 registers, 8 i387
// OBSOLETE    registers, and 31 Weitek 1167 registers */
// OBSOLETE 
// OBSOLETE #undef  REGISTER_BYTES
// OBSOLETE #define REGISTER_BYTES ((10 * 4) + (8 * 10) + (31 * 4))
// OBSOLETE 
// OBSOLETE /* Largest value REGISTER_RAW_SIZE can have.  */
// OBSOLETE 
// OBSOLETE #undef  DEPRECATED_MAX_REGISTER_RAW_SIZE
// OBSOLETE #define DEPRECATED_MAX_REGISTER_RAW_SIZE 10
// OBSOLETE 
// OBSOLETE /* Nonzero if register N requires conversion
// OBSOLETE    from raw format to virtual format.  */
// OBSOLETE 
// OBSOLETE #undef REGISTER_CONVERTIBLE
// OBSOLETE #define REGISTER_CONVERTIBLE(N) \
// OBSOLETE ((N < ST0_REGNUM) ? 0 : \
// OBSOLETE  (N < FP1_REGNUM) ? 1 : \
// OBSOLETE  0)
// OBSOLETE 
// OBSOLETE /* Convert data from raw format for register REGNUM
// OBSOLETE    to virtual format for register REGNUM.  */
// OBSOLETE extern const struct floatformat floatformat_i387_ext;	/* from floatformat.h */
// OBSOLETE 
// OBSOLETE #undef REGISTER_CONVERT_TO_VIRTUAL
// OBSOLETE #define REGISTER_CONVERT_TO_VIRTUAL(REGNUM,TYPE,FROM,TO)	\
// OBSOLETE ((REGNUM < ST0_REGNUM) ?  (void)memcpy ((TO), (FROM), 4) : \
// OBSOLETE  (REGNUM < FP1_REGNUM) ? (void)floatformat_to_double(&floatformat_i387_ext, \
// OBSOLETE 						       (FROM),(TO)) : \
// OBSOLETE  (void)memcpy ((TO), (FROM), 4))
// OBSOLETE 
// OBSOLETE /* Convert data from virtual format for register REGNUM
// OBSOLETE    to raw format for register REGNUM.  */
// OBSOLETE 
// OBSOLETE #undef REGISTER_CONVERT_TO_RAW
// OBSOLETE #define REGISTER_CONVERT_TO_RAW(TYPE,REGNUM,FROM,TO)	\
// OBSOLETE ((REGNUM < ST0_REGNUM) ?  (void)memcpy ((TO), (FROM), 4) : \
// OBSOLETE  (REGNUM < FP1_REGNUM) ? (void)floatformat_from_double(&floatformat_i387_ext, \
// OBSOLETE 						       (FROM),(TO)) : \
// OBSOLETE  (void)memcpy ((TO), (FROM), 4))
// OBSOLETE 
// OBSOLETE /* Return the GDB type object for the "standard" data type
// OBSOLETE    of data in register N.  */
// OBSOLETE /*
// OBSOLETE  * Note: the 1167 registers (the last line, builtin_type_float) are
// OBSOLETE  * generally used in pairs, with each pair being treated as a double.
// OBSOLETE  * It it also possible to use them singly as floats.  I'm not sure how
// OBSOLETE  * in gdb to treat the register pair pseudo-doubles. -fubar
// OBSOLETE  */
// OBSOLETE #undef REGISTER_VIRTUAL_TYPE
// OBSOLETE #define REGISTER_VIRTUAL_TYPE(N) \
// OBSOLETE ((N < ST0_REGNUM) ? builtin_type_int : \
// OBSOLETE  (N < FP1_REGNUM) ? builtin_type_double : \
// OBSOLETE  builtin_type_float)
// OBSOLETE 
// OBSOLETE /* Extract from an array REGBUF containing the (raw) register state
// OBSOLETE    a function return value of type TYPE, and copy that, in virtual format,
// OBSOLETE    into VALBUF.  */
// OBSOLETE 
// OBSOLETE #undef  DEPRECATED_EXTRACT_RETURN_VALUE
// OBSOLETE #define DEPRECATED_EXTRACT_RETURN_VALUE(TYPE,REGBUF,VALBUF) \
// OBSOLETE   symmetry_extract_return_value(TYPE, REGBUF, VALBUF)
// OBSOLETE 
// OBSOLETE #endif /* ifndef TM_PTX_H */
@


1.7.8.5
log
@2003-11-11  David Carlton  <carlton@@kealia.com>

	* Merge with mainline; tag is carlton-dictionary-20031111-merge.
@
text
@@


1.6
log
@2002-08-12  Andrew Cagney  <cagney@@redhat.com>

* i386-tdep.h (i386_register_byte, i386_register_raw_size): Delete
declarations.
* i386-linux-tdep.c (i386_linux_register_byte): Delete function.
(i386_linux_register_raw_size): Delete function.
i386_linux_init_abi): Update.
* i386-tdep.c (i386_register_raw_size): Delete function.
(i386_register_byte): Delete function.
(i386_gdbarch_init): Update.
(i386_register_size): Delete array.
(i386_register_offset): Delete array.

* config/i386/tm-symmetry.h (REGISTER_BYTE): Delete macro.
(REGISTER_RAW_SIZE): Delete macro.
* config/i386/tm-ptx.h (REGISTER_RAW_SIZE): Delete macro.
(REGISTER_BYTE): Delete macro.
@
text
@d35 1
a35 1
#include "i386/tm-i386v.h"
a36 8

/* Number of traps that happen between exec'ing the shell to run an
   inferior, and when we finally get to the inferior code.  This is 2
   on most implementations. Here we have to undo what tm-i386v.h gave
   us and restore the default. */

#undef START_INFERIOR_TRAPS_EXPECTED
#define START_INFERIOR_TRAPS_EXPECTED 2
@


1.5
log
@+	* gdbarch.sh (DEPRECATED_EXTRACT_RETURN_VALUE): Rename
+	EXTRACT_RETURN_VALUE.
+	(DEPRECATED_EXTRACT_STRUCT_VALUE_ADDRESS): Rename
+	EXTRACT_STRUCT_VALUE_ADDRESS.
+	* gdbarch.h, gdbarch.c: Regenerate.
+
+	* values.c (value_being_returned): Handle
+	DEPRECATED_EXTRACT_STRUCT_VALUE_ADDRESS.
+	(EXTRACT_RETURN_VALUE): Define as DEPRECATED_EXTRACT_RETURN_VALUE.
+
+	* arm-linux-tdep.c (arm_linux_init_abi): Update.
+	* arm-tdep.c (arm_gdbarch_init): Update.
+	* avr-tdep.c (avr_gdbarch_init): Update.
+	* cris-tdep.c (cris_gdbarch_init): Update.
+	* d10v-tdep.c (d10v_gdbarch_init): Update.
+	* ia64-tdep.c (ia64_gdbarch_init): Update.
+	* m68hc11-tdep.c (m68hc11_gdbarch_init): Update.
+	* rs6000-tdep.c (rs6000_gdbarch_init): Update.
+	* s390-tdep.c (s390_gdbarch_init): Update.
+	* sh-tdep.c (sh_gdbarch_init): Update.
+	* s390-tdep.c (s390_gdbarch_init): Update.
+	* sparc-tdep.c (sparc_gdbarch_init): Update.
+	* ns32k-tdep.c (ns32k_gdbarch_init): Update.
+	* v850-tdep.c (v850_gdbarch_init): Update.
+	* vax-tdep.c (vax_gdbarch_init): Update.
+	* x86-64-tdep.c (x86_64_gdbarch_init): Update.
+	* xstormy16-tdep.c (xstormy16_gdbarch_init): Update.
+
+	* config/arc/tm-arc.h: Update.
+	* config/d30v/tm-d30v.h: Update.
+	* config/fr30/tm-fr30.h: Update.
+	* config/h8300/tm-h8300.h: Update.
* config/h8500/tm-h8500.h: Update.
* config/i386/tm-i386.h: Update.
* config/i386/tm-ptx.h: Update.
* config/i386/tm-symmetry.h: Update.
* config/i960/tm-i960.h: Update.
* config/m32r/tm-m32r.h: Update.
* config/m68k/tm-delta68.h: Update.
* config/m68k/tm-linux.h: Update.
* config/m68k/tm-m68k.h: Update.
* config/m88k/tm-m88k.h: Update.
* config/mcore/tm-mcore.h: Update.
* config/mips/tm-mips.h: Update.
* config/mn10200/tm-mn10200.h: Update.
* config/pa/tm-hppa.h: Update.
* config/pa/tm-hppa64.h: Update.
* config/sparc/tm-sp64.h: Update.
* config/sparc/tm-sparc.h: Update.
* config/sparc/tm-sparclet.h: Update.
* config/z8k/tm-z8k.h: Update.
@
text
@a151 18
/* Index within `registers' of the first byte of the space for register N. */

#undef  REGISTER_BYTE
#define REGISTER_BYTE(N) 		\
(((N) < ST0_REGNUM) ? ((N) * 4) : \
 ((N) < FP1_REGNUM) ? (40 + (((N) - ST0_REGNUM) * 10)) : \
 (40 + 80 + (((N) - FP1_REGNUM) * 4)))

/* Number of bytes of storage in the actual machine representation for
   register N.  All registers are 4 bytes, except 387 st(0) - st(7),
   which are 80 bits each. */

#undef  REGISTER_RAW_SIZE
#define REGISTER_RAW_SIZE(N) \
(((N) < ST0_REGNUM) ? 4 : \
 ((N) < FP1_REGNUM) ? 10 : \
 4)

@


1.4
log
@* config/i386/tm-i386.h (REGISTER_NAMES): Remove.
(REGISTER_NAME): New define.
(i386_register_name): New prototype.
* i386-tdep.c (i386_register_names): New variable.
(i386_register_name): New function.
* config/i386/tm-i386os9k.h, config/i386/tm-ptx.h,
config/i386/tm-symmetry.h: Undefine REGISTER_NAME instead of
REGISTER_NAMES.
@
text
@d223 2
a224 2
#undef  EXTRACT_RETURN_VALUE
#define EXTRACT_RETURN_VALUE(TYPE,REGBUF,VALBUF) \
@


1.4.8.1
log
@Merge with mainline, kseitz_interps-20020619-merge.
@
text
@d223 2
a224 2
#undef  DEPRECATED_EXTRACT_RETURN_VALUE
#define DEPRECATED_EXTRACT_RETURN_VALUE(TYPE,REGBUF,VALBUF) \
@


1.4.8.2
log
@Merge with kseitz_interps-20020829-merge tag from trunk.
@
text
@d35 1
a35 1
#include "i386/tm-i386.h"
d38 8
d151 18
@


1.4.8.3
log
@merge from mainline
@
text
@d33 1
a33 1
#include "i386/tm-i386.h"
@


1.4.6.1
log
@merge from trunk
@
text
@d223 2
a224 2
#undef  DEPRECATED_EXTRACT_RETURN_VALUE
#define DEPRECATED_EXTRACT_RETURN_VALUE(TYPE,REGBUF,VALBUF) \
@


1.3
log
@Update/correct copyright notices.
@
text
@d72 1
a72 1
#undef  REGISTER_NAMES
@


1.2
log
@PARAMS removal.
@
text
@d3 2
a4 1
   Copyright 1986, 1987, 1989, 1991, 1992, 1993 Free Software Foundation, Inc.
@


1.1
log
@Initial revision
@
text
@d6 1
a6 1
This file is part of GDB.
d8 14
a21 13
This program is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; either version 2 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.  */
d52 2
a53 2
 --- this code can't be used unless we know we are running native,
     since it uses host specific ptrace calls.
d142 1
a142 2
extern int
ptx_register_u_addr PARAMS ((int, int));
d182 1
a182 1
  
d185 1
a185 1
extern const struct floatformat floatformat_i387_ext; /* from floatformat.h */
d193 1
a193 1
 
d227 4
a230 4
#undef  FRAME_FIND_SAVED_REGS
#define FRAME_FIND_SAVED_REGS(frame_info, frame_saved_regs) \
{ ptx_frame_find_saved_regs((frame_info), &(frame_saved_regs)); }
*/
d232 1
a232 1
#endif  /* ifndef TM_PTX_H */
@


1.1.1.1
log
@Initial creation of sourceware repository
@
text
@@


1.1.1.2
log
@import gdb-1999-07-07 post reformat
@
text
@d6 1
a6 1
   This file is part of GDB.
d8 13
a20 14
   This program is free software; you can redistribute it and/or modify
   it under the terms of the GNU General Public License as published by
   the Free Software Foundation; either version 2 of the License, or
   (at your option) any later version.

   This program is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   GNU General Public License for more details.

   You should have received a copy of the GNU General Public License
   along with this program; if not, write to the Free Software
   Foundation, Inc., 59 Temple Place - Suite 330,
   Boston, MA 02111-1307, USA.  */
d51 2
a52 2
-- -this code can 't be used unless we know we are running native,
since it uses host specific ptrace calls.
d182 1
a182 1

d185 1
a185 1
extern const struct floatformat floatformat_i387_ext;	/* from floatformat.h */
d193 1
a193 1

d227 4
a230 4
   #undef  FRAME_FIND_SAVED_REGS
   #define FRAME_FIND_SAVED_REGS(frame_info, frame_saved_regs) \
   { ptx_frame_find_saved_regs((frame_info), &(frame_saved_regs)); }
 */
d232 1
a232 1
#endif /* ifndef TM_PTX_H */
@

