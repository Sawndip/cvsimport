head	1.65;
access;
symbols
	gdb_7_6_1-2013-08-30-release:1.57
	gdb_7_6-2013-04-26-release:1.57
	gdb_7_6-branch:1.57.0.2
	gdb_7_6-2013-03-12-branchpoint:1.57
	gdb_7_5_1-2012-11-29-release:1.56
	gdb_7_5-2012-08-17-release:1.56
	gdb_7_5-branch:1.56.0.2
	gdb_7_5-2012-07-18-branchpoint:1.56
	gdb_7_4_1-2012-04-26-release:1.55.2.1
	gdb_7_4-2012-01-24-release:1.55.2.1
	gdb_7_4-branch:1.55.0.2
	gdb_7_4-2011-12-13-branchpoint:1.55
	gdb_7_3_1-2011-09-04-release:1.53
	gdb_7_3-2011-07-26-release:1.53
	gdb_7_3-branch:1.53.0.2
	gdb_7_3-2011-04-01-branchpoint:1.53
	gdb_7_2-2010-09-02-release:1.49
	gdb_7_2-branch:1.49.0.4
	gdb_7_2-2010-07-07-branchpoint:1.49
	gdb_7_1-2010-03-18-release:1.49
	gdb_7_1-branch:1.49.0.2
	gdb_7_1-2010-02-18-branchpoint:1.49
	gdb_7_0_1-2009-12-22-release:1.46
	gdb_7_0-2009-10-06-release:1.46
	gdb_7_0-branch:1.46.0.4
	gdb_7_0-2009-09-16-branchpoint:1.46
	arc-sim-20090309:1.41.6.1
	msnyder-checkpoint-072509-branch:1.46.0.2
	msnyder-checkpoint-072509-branchpoint:1.46
	arc-insight_6_8-branch:1.41.0.6
	arc-insight_6_8-branchpoint:1.41
	insight_6_8-branch:1.41.0.4
	insight_6_8-branchpoint:1.41
	reverse-20081226-branch:1.42.0.10
	reverse-20081226-branchpoint:1.42
	multiprocess-20081120-branch:1.42.0.8
	multiprocess-20081120-branchpoint:1.42
	reverse-20080930-branch:1.42.0.6
	reverse-20080930-branchpoint:1.42
	reverse-20080717-branch:1.42.0.4
	reverse-20080717-branchpoint:1.42
	msnyder-reverse-20080609-branch:1.42.0.2
	msnyder-reverse-20080609-branchpoint:1.42
	drow-reverse-20070409-branch:1.38.0.2
	drow-reverse-20070409-branchpoint:1.38
	gdb_6_8-2008-03-27-release:1.41
	gdb_6_8-branch:1.41.0.2
	gdb_6_8-2008-02-26-branchpoint:1.41
	gdb_6_7_1-2007-10-29-release:1.39
	gdb_6_7-2007-10-10-release:1.39
	gdb_6_7-branch:1.39.0.2
	gdb_6_7-2007-09-07-branchpoint:1.39
	insight_6_6-20070208-release:1.36
	gdb_6_6-2006-12-18-release:1.36
	gdb_6_6-branch:1.36.0.6
	gdb_6_6-2006-11-15-branchpoint:1.36
	insight_6_5-20061003-release:1.36
	gdb-csl-symbian-6_4_50_20060226-12:1.35
	gdb-csl-sourcerygxx-3_4_4-25:1.34
	nickrob-async-20060828-mergepoint:1.36
	gdb-csl-symbian-6_4_50_20060226-11:1.35
	gdb-csl-sourcerygxx-4_1-17:1.35
	gdb-csl-20060226-branch-local-2:1.35
	gdb-csl-sourcerygxx-4_1-14:1.35
	gdb-csl-sourcerygxx-4_1-13:1.35
	gdb-csl-sourcerygxx-4_1-12:1.35
	gdb-csl-sourcerygxx-3_4_4-21:1.35
	gdb_6_5-20060621-release:1.36
	gdb-csl-sourcerygxx-4_1-9:1.35
	gdb-csl-sourcerygxx-4_1-8:1.35
	gdb-csl-sourcerygxx-4_1-7:1.35
	gdb-csl-arm-2006q1-6:1.35
	gdb-csl-sourcerygxx-4_1-6:1.35
	gdb-csl-symbian-6_4_50_20060226-10:1.35
	gdb-csl-symbian-6_4_50_20060226-9:1.35
	gdb-csl-symbian-6_4_50_20060226-8:1.35
	gdb-csl-coldfire-4_1-11:1.35
	gdb-csl-sourcerygxx-3_4_4-19:1.35
	gdb-csl-coldfire-4_1-10:1.35
	gdb_6_5-branch:1.36.0.4
	gdb_6_5-2006-05-14-branchpoint:1.36
	gdb-csl-sourcerygxx-4_1-5:1.35
	nickrob-async-20060513-branch:1.36.0.2
	nickrob-async-20060513-branchpoint:1.36
	gdb-csl-sourcerygxx-4_1-4:1.35
	msnyder-reverse-20060502-branch:1.35.0.12
	msnyder-reverse-20060502-branchpoint:1.35
	gdb-csl-morpho-4_1-4:1.35
	gdb-csl-sourcerygxx-3_4_4-17:1.35
	readline_5_1-import-branch:1.35.0.10
	readline_5_1-import-branchpoint:1.35
	gdb-csl-20060226-branch-merge-to-csl-symbian-1:1.35
	gdb-csl-symbian-20060226-branch:1.35.0.8
	gdb-csl-symbian-20060226-branchpoint:1.35
	gdb-csl-20060226-branch-merge-to-csl-local-1:1.35
	msnyder-reverse-20060331-branch:1.35.0.6
	msnyder-reverse-20060331-branchpoint:1.35
	gdb-csl-available-20060303-branch:1.35.0.4
	gdb-csl-available-20060303-branchpoint:1.35
	gdb-csl-20060226-branch:1.35.0.2
	gdb-csl-20060226-branchpoint:1.35
	gdb_6_4-20051202-release:1.34
	msnyder-fork-checkpoint-branch:1.34.0.30
	msnyder-fork-checkpoint-branchpoint:1.34
	gdb-csl-gxxpro-6_3-branch:1.34.0.28
	gdb-csl-gxxpro-6_3-branchpoint:1.34
	gdb_6_4-branch:1.34.0.26
	gdb_6_4-2005-11-01-branchpoint:1.34
	gdb-csl-arm-20051020-branch:1.34.0.24
	gdb-csl-arm-20051020-branchpoint:1.34
	msnyder-tracepoint-checkpoint-branch:1.34.0.22
	msnyder-tracepoint-checkpoint-branchpoint:1.34
	gdb-csl-arm-20050325-2005-q1b:1.34
	gdb-csl-arm-20050325-2005-q1a:1.34
	csl-arm-20050325-branch:1.34.0.20
	csl-arm-20050325-branchpoint:1.34
	gdb-post-i18n-errorwarning-20050211:1.34
	gdb-pre-i18n-errorwarning-20050211:1.34
	gdb_6_3-20041109-release:1.34
	gdb_6_3-branch:1.34.0.16
	gdb_6_3-20041019-branchpoint:1.34
	drow_intercu-merge-20040921:1.34
	drow_intercu-merge-20040915:1.34
	jimb-gdb_6_2-e500-branch:1.34.0.18
	jimb-gdb_6_2-e500-branchpoint:1.34
	gdb_6_2-20040730-release:1.34
	gdb_6_2-branch:1.34.0.14
	gdb_6_2-2004-07-10-gmt-branchpoint:1.34
	gdb_6_1_1-20040616-release:1.34
	gdb_6_1-2004-04-05-release:1.34
	drow_intercu-merge-20040402:1.34
	drow_intercu-merge-20040327:1.34
	ezannoni_pie-20040323-branch:1.34.0.12
	ezannoni_pie-20040323-branchpoint:1.34
	cagney_tramp-20040321-mergepoint:1.34
	cagney_tramp-20040309-branch:1.34.0.10
	cagney_tramp-20040309-branchpoint:1.34
	gdb_6_1-branch:1.34.0.8
	gdb_6_1-2004-03-01-gmt-branchpoint:1.34
	drow_intercu-20040221-branch:1.34.0.6
	drow_intercu-20040221-branchpoint:1.34
	cagney_bfdfile-20040213-branch:1.34.0.4
	cagney_bfdfile-20040213-branchpoint:1.34
	drow-cplus-merge-20040208:1.34
	carlton_dictionary-20040126-merge:1.34
	cagney_bigcore-20040122-branch:1.34.0.2
	cagney_bigcore-20040122-branchpoint:1.34
	drow-cplus-merge-20040113:1.33
	drow-cplus-merge-20031224:1.33
	drow-cplus-merge-20031220:1.33
	carlton_dictionary-20031215-merge:1.33
	drow-cplus-merge-20031214:1.33
	carlton-dictionary-20031111-merge:1.33
	gdb_6_0-2003-10-04-release:1.30.2.3
	kettenis_sparc-20030918-branch:1.33.0.6
	kettenis_sparc-20030918-branchpoint:1.33
	carlton_dictionary-20030917-merge:1.33
	ezannoni_pie-20030916-branchpoint:1.33
	ezannoni_pie-20030916-branch:1.33.0.4
	cagney_x86i386-20030821-branch:1.33.0.2
	cagney_x86i386-20030821-branchpoint:1.33
	carlton_dictionary-20030805-merge:1.32
	carlton_dictionary-20030627-merge:1.30
	gdb_6_0-branch:1.30.0.2
	gdb_6_0-2003-06-23-branchpoint:1.30
	jimb-ppc64-linux-20030613-branch:1.29.0.8
	jimb-ppc64-linux-20030613-branchpoint:1.29
	cagney_convert-20030606-branch:1.29.0.6
	cagney_convert-20030606-branchpoint:1.29
	cagney_writestrings-20030508-branch:1.28.0.10
	cagney_writestrings-20030508-branchpoint:1.28
	jimb-ppc64-linux-20030528-branch:1.29.0.4
	jimb-ppc64-linux-20030528-branchpoint:1.29
	carlton_dictionary-20030523-merge:1.29
	cagney_fileio-20030521-branch:1.29.0.2
	cagney_fileio-20030521-branchpoint:1.29
	kettenis_i386newframe-20030517-mergepoint:1.29
	jimb-ppc64-linux-20030509-branch:1.28.0.8
	jimb-ppc64-linux-20030509-branchpoint:1.28
	kettenis_i386newframe-20030504-mergepoint:1.28
	carlton_dictionary-20030430-merge:1.28
	kettenis_i386newframe-20030419-branch:1.28.0.6
	kettenis_i386newframe-20030419-branchpoint:1.28
	carlton_dictionary-20030416-merge:1.28
	cagney_frameaddr-20030409-mergepoint:1.28
	kettenis_i386newframe-20030406-branch:1.28.0.4
	kettenis_i386newframe-20030406-branchpoint:1.28
	cagney_frameaddr-20030403-branchpoint:1.28
	cagney_frameaddr-20030403-branch:1.28.0.2
	cagney_framebase-20030330-mergepoint:1.28
	cagney_framebase-20030326-branch:1.27.0.2
	cagney_framebase-20030326-branchpoint:1.27
	cagney_lazyid-20030317-branch:1.26.0.8
	cagney_lazyid-20030317-branchpoint:1.26
	kettenis-i386newframe-20030316-mergepoint:1.26
	offbyone-20030313-branch:1.26.0.6
	offbyone-20030313-branchpoint:1.26
	kettenis-i386newframe-20030308-branch:1.26.0.4
	kettenis-i386newframe-20030308-branchpoint:1.26
	carlton_dictionary-20030305-merge:1.26
	cagney_offbyone-20030303-branch:1.26.0.2
	cagney_offbyone-20030303-branchpoint:1.26
	carlton_dictionary-20030207-merge:1.25
	interps-20030203-mergepoint:1.25
	interps-20030202-branch:1.25.0.4
	interps-20030202-branchpoint:1.25
	cagney-unwind-20030108-branch:1.25.0.2
	cagney-unwind-20030108-branchpoint:1.25
	carlton_dictionary-20021223-merge:1.25
	gdb_5_3-2002-12-12-release:1.22.4.2
	carlton_dictionary-20021115-merge:1.22
	kseitz_interps-20021105-merge:1.22
	kseitz_interps-20021103-merge:1.22
	drow-cplus-merge-20021020:1.22
	drow-cplus-merge-20021025:1.22
	carlton_dictionary-20021025-merge:1.22
	carlton_dictionary-20021011-merge:1.22
	drow-cplus-branch:1.22.0.8
	drow-cplus-branchpoint:1.22
	kseitz_interps-20020930-merge:1.22
	carlton_dictionary-20020927-merge:1.22
	carlton_dictionary-branch:1.22.0.6
	carlton_dictionary-20020920-branchpoint:1.22
	gdb_5_3-branch:1.22.0.4
	gdb_5_3-2002-09-04-branchpoint:1.22
	kseitz_interps-20020829-merge:1.22
	cagney_sysregs-20020825-branch:1.22.0.2
	cagney_sysregs-20020825-branchpoint:1.22
	readline_4_3-import-branch:1.20.0.10
	readline_4_3-import-branchpoint:1.20
	gdb_5_2_1-2002-07-23-release:1.20
	kseitz_interps-20020528-branch:1.20.0.8
	kseitz_interps-20020528-branchpoint:1.20
	cagney_regbuf-20020515-branch:1.20.0.6
	cagney_regbuf-20020515-branchpoint:1.20
	jimb-macro-020506-branch:1.20.0.4
	jimb-macro-020506-branchpoint:1.20
	gdb_5_2-2002-04-29-release:1.20
	gdb_5_2-branch:1.20.0.2
	gdb_5_2-2002-03-03-branchpoint:1.20
	gdb_5_1_1-2002-01-24-release:1.15.2.1
	gdb_5_1_0_1-2002-01-03-release:1.15
	cygnus_cvs_20020108_pre:1.16
	gdb_5_1_0_1-2002-01-03-branch:1.15.0.6
	gdb_5_1_0_1-2002-01-03-branchpoint:1.15
	gdb_5_1-2001-11-21-release:1.15
	gdb_s390-2001-09-26-branch:1.15.0.4
	gdb_s390-2001-09-26-branchpoint:1.15
	gdb_5_1-2001-07-29-branch:1.15.0.2
	gdb_5_1-2001-07-29-branchpoint:1.15
	dberlin-typesystem-branch:1.13.0.2
	dberlin-typesystem-branchpoint:1.13
	gdb-post-ptid_t-2001-05-03:1.12
	gdb-pre-ptid_t-2001-05-03:1.12
	insight-precleanup-2001-01-01:1.11
	gdb-post-protoization-2000-07-29:1.11
	gdb-pre-protoization-2000-07-29:1.11
	gdb-premipsmulti-2000-06-06-branch:1.9.0.2
	gdb-premipsmulti-2000-06-06-branchpoint:1.9
	gdb-post-params-removal-2000-06-04:1.9
	gdb-pre-params-removal-2000-06-04:1.9
	gdb-post-params-removal-2000-05-28:1.8
	gdb-pre-params-removal-2000-05-28:1.8
	gdb_5_0-2000-05-19-release:1.4.2.3
	gdb_4_18_2-2000-05-18-release:1.4.2.3
	gdb_4_95_1-2000-05-11-snapshot:1.4.2.2
	gdb_4_95_0-2000-04-27-snapshot:1.4.2.2
	gdb_5_0-2000-04-10-branch:1.4.0.2
	gdb_5_0-2000-04-10-branchpoint:1.4
	repo-unification-2000-02-06:1.1.1.5
	insight-2000-02-04:1.1.1.5
	gdb-2000-02-04:1.1.1.4
	gdb-2000-02-02:1.1.1.4
	gdb-2000-02-01:1.1.1.4
	gdb-2000-01-31:1.1.1.4
	gdb-2000-01-26:1.1.1.4
	gdb-2000-01-24:1.1.1.4
	gdb-2000-01-17:1.1.1.4
	gdb-2000-01-10:1.1.1.4
	gdb-2000-01-05:1.1.1.4
	gdb-1999-12-21:1.1.1.4
	gdb-1999-12-13:1.1.1.4
	gdb-1999-12-07:1.1.1.4
	gdb-1999-12-06:1.1.1.4
	gdb-1999-11-16:1.1.1.4
	gdb-1999-11-08:1.1.1.4
	gdb-1999-11-01:1.1.1.4
	gdb-1999-10-25:1.1.1.4
	gdb-1999-10-18:1.1.1.4
	gdb-1999-10-11:1.1.1.4
	gdb-1999-10-04:1.1.1.4
	gdb-1999-09-28:1.1.1.4
	gdb-1999-09-21:1.1.1.4
	gdb-1999-09-13:1.1.1.4
	gdb-1999-09-08:1.1.1.4
	gdb-1999-08-30:1.1.1.4
	gdb-1999-08-23:1.1.1.3
	gdb-1999-08-16:1.1.1.3
	gdb-1999-08-09:1.1.1.2
	gdb-1999-08-02:1.1.1.2
	gdb-1999-07-26:1.1.1.2
	gdb-1999-07-19:1.1.1.2
	gdb-1999-07-12:1.1.1.2
	gdb-post-reformat-19990707:1.1.1.2
	gdb-1999-07-07-post-reformat-snapshot:1.1.1.2
	gdb-pre-reformat-19990707:1.1.1.2
	gdb-1999-07-07:1.1.1.2
	gdb-1999-07-05:1.1.1.2
	gdb-1999-06-28:1.1.1.2
	gdb-1999-06-21:1.1.1.1
	gdb-1999-06-14:1.1.1.1
	gdb-1999-06-07:1.1.1.1
	gdb-1999-06-01:1.1.1.1
	gdb-4_18-branch:1.1.1.1.0.2
	gdb-4_18-release:1.1.1.1
	gdb-1999-05-25:1.1.1.1
	gdb-1999-05-19:1.1.1.1
	gdb-1999-05-10:1.1.1.1
	gdb-19990504:1.1.1.1
	gdb-19990422:1.1.1.1
	SNAPSHOT:1.1.1
	gdb-4_18:1.1.1.1
	GDB_4_18:1.1.1;
locks; strict;
comment	@# @;
expand	@o@;


1.65
date	2013.09.16.18.00.34;	author shebs;	state Exp;
branches;
next	1.64;

1.64
date	2013.06.28.18.59.50;	author tromey;	state Exp;
branches;
next	1.63;

1.63
date	2013.06.24.15.06.27;	author tromey;	state Exp;
branches;
next	1.62;

1.62
date	2013.04.11.14.13.44;	author jkratoch;	state Exp;
branches;
next	1.61;

1.61
date	2013.04.07.06.20.19;	author jkratoch;	state Exp;
branches;
next	1.60;

1.60
date	2013.04.07.06.04.58;	author jkratoch;	state Exp;
branches;
next	1.59;

1.59
date	2013.04.06.15.52.06;	author jkratoch;	state Exp;
branches;
next	1.58;

1.58
date	2013.04.05.20.01.33;	author jkratoch;	state Exp;
branches;
next	1.57;

1.57
date	2013.01.01.06.32.56;	author brobecke;	state Exp;
branches;
next	1.56;

1.56
date	2012.01.04.08.17.20;	author brobecke;	state Exp;
branches;
next	1.55;

1.55
date	2011.10.12.15.55.04;	author jkratoch;	state Exp;
branches
	1.55.2.1;
next	1.54;

1.54
date	2011.05.11.23.38.38;	author jkratoch;	state Exp;
branches;
next	1.53;

1.53
date	2011.01.03.13.01.05;	author jkratoch;	state Exp;
branches;
next	1.52;

1.52
date	2011.01.01.15.33.22;	author brobecke;	state Exp;
branches;
next	1.51;

1.51
date	2010.11.23.14.39.16;	author tromey;	state Exp;
branches;
next	1.50;

1.50
date	2010.11.23.14.37.26;	author tromey;	state Exp;
branches;
next	1.49;

1.49
date	2010.01.18.04.26.44;	author jiez;	state Exp;
branches;
next	1.48;

1.48
date	2010.01.01.07.31.48;	author brobecke;	state Exp;
branches;
next	1.47;

1.47
date	2009.12.20.11.53.07;	author brobecke;	state Exp;
branches;
next	1.46;

1.46
date	2009.04.21.20.13.08;	author jsm28;	state Exp;
branches
	1.46.4.1;
next	1.45;

1.45
date	2009.04.18.17.11.02;	author jsm28;	state Exp;
branches;
next	1.44;

1.44
date	2009.04.17.17.44.05;	author jsm28;	state Exp;
branches;
next	1.43;

1.43
date	2009.01.03.05.57.56;	author brobecke;	state Exp;
branches;
next	1.42;

1.42
date	2008.06.05.22.36.56;	author jsm28;	state Exp;
branches;
next	1.41;

1.41
date	2008.01.01.22.53.14;	author drow;	state Exp;
branches
	1.41.6.1;
next	1.40;

1.40
date	2007.11.17.00.54.18;	author uweigand;	state Exp;
branches;
next	1.39;

1.39
date	2007.07.26.10.34.00;	author macro;	state Exp;
branches;
next	1.38;

1.38
date	2007.03.27.18.09.35;	author drow;	state Exp;
branches;
next	1.37;

1.37
date	2007.01.09.17.59.07;	author drow;	state Exp;
branches;
next	1.36;

1.36
date	2006.05.05.18.26.11;	author drow;	state Exp;
branches;
next	1.35;

1.35
date	2005.12.23.19.26.16;	author eliz;	state Exp;
branches;
next	1.34;

1.34
date	2004.01.21.18.44.52;	author eliz;	state Exp;
branches;
next	1.33;

1.33
date	2003.08.08.17.30.36;	author hjl;	state Exp;
branches
	1.33.4.1;
next	1.32;

1.32
date	2003.08.04.20.43.57;	author cagney;	state Exp;
branches;
next	1.31;

1.31
date	2003.07.30.04.14.38;	author cagney;	state Exp;
branches;
next	1.30;

1.30
date	2003.06.22.04.27.23;	author drow;	state Exp;
branches
	1.30.2.1;
next	1.29;

1.29
date	2003.05.10.15.32.39;	author hjl;	state Exp;
branches;
next	1.28;

1.28
date	2003.03.27.15.17.34;	author cagney;	state Exp;
branches
	1.28.6.1;
next	1.27;

1.27
date	2003.03.18.17.44.23;	author brobecke;	state Exp;
branches
	1.27.2.1;
next	1.26;

1.26
date	2003.03.03.03.59.16;	author drow;	state Exp;
branches;
next	1.25;

1.25
date	2002.11.26.22.44.37;	author ezannoni;	state Exp;
branches;
next	1.24;

1.24
date	2002.11.22.21.02.20;	author ezannoni;	state Exp;
branches;
next	1.23;

1.23
date	2002.11.20.00.47.59;	author cagney;	state Exp;
branches;
next	1.22;

1.22
date	2002.08.25.13.48.15;	author cagney;	state Exp;
branches
	1.22.4.1
	1.22.6.1
	1.22.8.1;
next	1.21;

1.21
date	2002.08.25.00.12.33;	author cagney;	state Exp;
branches;
next	1.20;

1.20
date	2002.02.25.04.32.58;	author cagney;	state Exp;
branches
	1.20.8.1;
next	1.19;

1.19
date	2002.02.24.17.18.25;	author cagney;	state Exp;
branches;
next	1.18;

1.18
date	2002.01.22.16.37.08;	author cagney;	state Exp;
branches;
next	1.17;

1.17
date	2002.01.17.08.54.12;	author eliz;	state Exp;
branches;
next	1.16;

1.16
date	2001.10.12.21.10.07;	author jimb;	state Exp;
branches;
next	1.15;

1.15
date	2001.07.26.07.29.24;	author eliz;	state Exp;
branches
	1.15.2.1;
next	1.14;

1.14
date	2001.07.14.16.14.10;	author cagney;	state Exp;
branches;
next	1.13;

1.13
date	2001.05.14.16.18.50;	author cagney;	state Exp;
branches;
next	1.12;

1.12
date	2001.03.06.08.21.41;	author kevinb;	state Exp;
branches;
next	1.11;

1.11
date	2000.07.09.05.41.21;	author eliz;	state Exp;
branches;
next	1.10;

1.10
date	2000.06.25.08.12.30;	author eliz;	state Exp;
branches;
next	1.9;

1.9
date	2000.05.31.10.18.58;	author cagney;	state Exp;
branches;
next	1.8;

1.8
date	2000.05.24.02.18.18;	author cagney;	state Exp;
branches;
next	1.7;

1.7
date	2000.05.17.11.45.56;	author eliz;	state Exp;
branches;
next	1.6;

1.6
date	2000.04.23.08.15.49;	author eliz;	state Exp;
branches;
next	1.5;

1.5
date	2000.04.16.08.47.41;	author eliz;	state Exp;
branches;
next	1.4;

1.4
date	2000.03.28.16.46.24;	author shebs;	state Exp;
branches
	1.4.2.1;
next	1.3;

1.3
date	2000.03.24.07.27.24;	author cagney;	state Exp;
branches;
next	1.2;

1.2
date	2000.02.16.04.44.55;	author jsm;	state Exp;
branches;
next	1.1;

1.1
date	99.04.16.01.34.07;	author shebs;	state Exp;
branches
	1.1.1.1;
next	;

1.55.2.1
date	2012.01.06.04.43.34;	author brobecke;	state Exp;
branches;
next	;

1.46.4.1
date	2010.01.18.06.47.37;	author jiez;	state Exp;
branches;
next	;

1.41.6.1
date	2009.03.09.20.36.08;	author amylaar;	state Exp;
branches;
next	;

1.33.4.1
date	2004.03.23.20.17.03;	author ezannoni;	state Exp;
branches;
next	;

1.30.2.1
date	2003.07.30.04.17.02;	author cagney;	state Exp;
branches;
next	1.30.2.2;

1.30.2.2
date	2003.08.04.20.43.35;	author cagney;	state Exp;
branches;
next	1.30.2.3;

1.30.2.3
date	2003.08.08.18.00.07;	author hjl;	state Exp;
branches;
next	;

1.28.6.1
date	2003.05.18.09.44.31;	author kettenis;	state Exp;
branches;
next	;

1.27.2.1
date	2003.03.30.16.35.23;	author cagney;	state Exp;
branches;
next	;

1.22.4.1
date	2002.11.20.00.43.58;	author cagney;	state Exp;
branches;
next	1.22.4.2;

1.22.4.2
date	2002.11.26.22.43.57;	author ezannoni;	state Exp;
branches;
next	;

1.22.6.1
date	2002.12.23.19.39.07;	author carlton;	state Exp;
branches;
next	1.22.6.2;

1.22.6.2
date	2003.03.06.00.56.35;	author carlton;	state Exp;
branches;
next	1.22.6.3;

1.22.6.3
date	2003.04.16.19.56.59;	author carlton;	state Exp;
branches;
next	1.22.6.4;

1.22.6.4
date	2003.05.23.18.40.49;	author carlton;	state Exp;
branches;
next	1.22.6.5;

1.22.6.5
date	2003.06.27.21.50.17;	author carlton;	state Exp;
branches;
next	1.22.6.6;

1.22.6.6
date	2003.08.05.17.13.19;	author carlton;	state Exp;
branches;
next	1.22.6.7;

1.22.6.7
date	2003.09.17.21.28.45;	author carlton;	state Exp;
branches;
next	1.22.6.8;

1.22.6.8
date	2004.01.26.19.11.38;	author carlton;	state Exp;
branches;
next	;

1.22.8.1
date	2003.12.14.20.27.43;	author drow;	state Exp;
branches;
next	1.22.8.2;

1.22.8.2
date	2004.02.09.19.43.51;	author drow;	state Exp;
branches;
next	;

1.20.8.1
date	2002.08.30.22.52.50;	author kseitz;	state Exp;
branches;
next	;

1.15.2.1
date	2002.01.21.03.54.43;	author cagney;	state Exp;
branches;
next	;

1.4.2.1
date	2000.04.16.08.50.19;	author eliz;	state Exp;
branches;
next	1.4.2.2;

1.4.2.2
date	2000.04.23.09.14.04;	author eliz;	state Exp;
branches;
next	1.4.2.3;

1.4.2.3
date	2000.05.17.11.54.04;	author eliz;	state Exp;
branches;
next	1.4.2.4;

1.4.2.4
date	2000.05.24.02.06.34;	author cagney;	state Exp;
branches;
next	1.4.2.5;

1.4.2.5
date	2000.05.31.08.16.49;	author cagney;	state Exp;
branches;
next	;

1.1.1.1
date	99.04.16.01.34.07;	author shebs;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	99.06.28.16.02.12;	author jsm;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	99.08.16.19.54.20;	author jsm;	state Exp;
branches;
next	1.1.1.4;

1.1.1.4
date	99.08.31.01.06.26;	author jsm;	state Exp;
branches;
next	1.1.1.5;

1.1.1.5
date	2000.02.07.00.19.39;	author jsm;	state Exp;
branches;
next	;


desc
@@


1.65
log
@	* README: Update references to writing code for GDB.
	* configure.ac (build_warnings): Remove obsolete comment.
	* configure: Regenerate.
	* gdbarch.sh: Remove references to gdbint.texinfo.
	* gdbarch.h: Regenerate.
	* gdbtypes.c (objfile_type): Remove comments referencing internals
	manual and D10V.

	[gdb/doc]
	Remove the internals manual gdbint.texinfo.
	* Makefile.in (INFO_DEPS): Remove gdbint.info.
	(PDFFILES): Remove gdbint.pdf.
	(HTMLFILES): Remove gdbint/index.html.
	(HTMLFILES_INSTALL): Remove gdbint.
	(GDBINT_DOC_FILES): Remove.
	(dvi): Remove gdbint.dvi.
	(ps): Remove gdbint.ps.
	* gdbint.texinfo: Remove file.
	* gdb.texinfo (Maintenance Commands): Remove reference to gdbint.
@
text
@##Copyright (C) 1991-2013 Free Software Foundation, Inc.

# Makefile for GDB documentation.
# This file is part of GDB.

# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 3 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program.  If not, see <http://www.gnu.org/licenses/>.

srcdir = @@srcdir@@
VPATH = @@srcdir@@

prefix = @@prefix@@

infodir = @@infodir@@
datarootdir = @@datarootdir@@
docdir = @@docdir@@
pdfdir = @@pdfdir@@
htmldir = @@htmldir@@
mandir = @@mandir@@
man1dir = $(mandir)/man1
man5dir = $(mandir)/man5

SHELL = @@SHELL@@

LN_S = @@LN_S@@

INSTALL = @@INSTALL@@
INSTALL_PROGRAM = @@INSTALL_PROGRAM@@
INSTALL_DATA = @@INSTALL_DATA@@

SYSTEM_GDBINIT = @@SYSTEM_GDBINIT@@

mkinstalldirs = $(SHELL) $(srcdir)/../../mkinstalldirs

# main GDB source directory
gdbdir = $(srcdir)/..

# where to find texinfo; GDB dist should include a recent one
TEXIDIR=${gdbdir}/../texinfo

# where to find makeinfo, preferably one designed for texinfo-2
MAKEINFO = @@MAKEINFO@@
MAKEINFOFLAGS = @@MAKEINFOFLAGS@@
MAKEINFO_EXTRA_FLAGS = @@MAKEINFO_EXTRA_FLAGS@@
MAKEINFO_CMD = $(MAKEINFO) $(MAKEINFOFLAGS) $(MAKEINFO_EXTRA_FLAGS)

MAKEHTML = $(MAKEINFO_CMD) --html
MAKEHTMLFLAGS =

# where to find texi2roff, ditto
TEXI2ROFF=texi2roff

# where to find texi2dvi, ditto
TEXI2DVI=texi2dvi

# Package version and bug-reporting URL.
PKGVERSION = @@PKGVERSION@@
BUGURL_TEXI = @@REPORT_BUGS_TEXI@@

# Where is the source dir for the READLINE library doc?  
# Traditionally readline is in .. or .
READLINE_DIR = ${gdbdir}/../readline/doc
READLINE_TEXI_INCFLAG = @@READLINE_TEXI_INCFLAG@@

# The GDB/MI docs come from a sibling directory ../mi
GDBMI_DIR = ${gdbdir}/mi

SET_TEXINPUTS = \
   TEXINPUTS=${TEXIDIR}:.:$(srcdir):$(READLINE_DIR):$(GDBMI_DIR):$$TEXINPUTS

# Files which should be generated via 'info' and installed by 'install-info'
INFO_DEPS = gdb.info stabs.info annotate.info

# Files which should be generated via 'pdf' and installed by 'install-pdf'
PDFFILES = gdb.pdf stabs.pdf refcard.pdf annotate.pdf
# Files which should be generated via 'html' and installed by 'install-html'
HTMLFILES =  gdb/index.html stabs/index.html annotate/index.html
HTMLFILES_INSTALL = gdb stabs annotate

# There may be alternate predefined collections of switches to configure
# the GDB manual.  Normally this is not done in synch with the software
# config system, since this choice tends to be independent; most people
# want a doc config of `all' for a generic manual, regardless of sw config.
DOC_CONFIG = all

# This list of sed edits will edit the GDB reference card
# for what fonts and what papersize to use.
# By default (NO edits applied), the refcard uses:
#    - Computer Modern (CM) fonts
#    - US letter paper (8.5x11in)
# List some of the following files for alternative fonts and paper:
#  a4rc.sed     use A4 paper (297 x 210 mm)
#  psrc.sed     use PostScript fonts (Karl Berry short TeX names)
# lpsrc.sed     use PostScript fonts (full PostScript names in TeX)
# e.g. for A4, Postscript:  REFEDITS = a4rc.sed psrc.sed
#      for A4, CM fonts:    REFEDITS = a4rc.sed
#      for US, PS fonts:    REFEDITS = psrc.sed
#      for default:
REFEDITS =

# Don Knuth's TeX formatter
TEX = tex
PDFTEX = pdftex

# Program to generate Postscript files from DVI files.
DVIPS = dvips

# Main GDB manual
# Note that this unconditionally includes the readline texi files,
# even when --with-system-readline is used.  This is harmless because
# these are only used as dependencies.
GDB_DOC_SOURCE_INCLUDES = \
	$(srcdir)/fdl.texi \
	$(srcdir)/gpl.texi \
	$(srcdir)/agentexpr.texi \
	$(READLINE_DIR)/rluser.texi \
	$(READLINE_DIR)/hsuser.texi
GDB_DOC_BUILD_INCLUDES = \
	gdb-cfg.texi \
	GDBvn.texi
GDB_DOC_FILES = \
	$(srcdir)/gdb.texinfo \
	$(GDB_DOC_SOURCE_INCLUDES) \
	$(GDB_DOC_BUILD_INCLUDES)

# Stabs manual: All files
STABS_DOC_SOURCE_INCLUDES = \
	$(srcdir)/fdl.texi
STABS_DOC_BUILD_INCLUDES =
STABS_DOC_FILES = \
	$(srcdir)/stabs.texinfo \
	$(STABS_DOC_SOURCE_INCLUDES) \
	$(STABS_DOC_BUILD_INCLUDES)

# Annotate migration document
ANNOTATE_DOC_SOURCE_INCLUDES = \
	$(srcdir)/fdl.texi
ANNOTATE_DOC_BUILD_INCLUDES = \
	gdb-cfg.texi \
	GDBvn.texi
ANNOTATE_DOC_FILES = \
	$(srcdir)/annotate.texinfo \
	$(ANNOTATE_DOC_SOURCE_INCLUDES) \
	$(ANNOTATE_DOC_BUILD_INCLUDES)

# Options to extract the man page from gdb.texinfo
MANCONF = -Dman

TEXI2POD = perl $(srcdir)/../../etc/texi2pod.pl \
		$(MAKEINFOFLAGS) $(MAKEINFO_EXTRA_FLAGS)

POD2MAN1 = pod2man --center="GNU Development Tools" \
		   --release="gdb-`sed q version.subst`" --section=1
POD2MAN5 = pod2man --center="GNU Development Tools" \
		   --release="gdb-`sed q version.subst`" --section=5

# List of man pages generated from gdb.texi
MAN1S = gdb.1 gdbserver.1 gcore.1
MAN5S = gdbinit.5
MANS = $(MAN1S) $(MAN5S)

# Host-dependent makefile fragment comes in here.
@@host_makefile_frag@@
# End of host-dependent makefile fragment
HAVE_NATIVE_GCORE_TARGET = @@HAVE_NATIVE_GCORE_TARGET@@

###

all:

info: $(INFO_DEPS)
dvi: gdb.dvi stabs.dvi refcard.dvi annotate.dvi
ps: gdb.ps stabs.ps refcard.ps annotate.ps
html: $(HTMLFILES)
pdf: $(PDFFILES)
man: $(MANS)
all-doc: info dvi ps # pdf
diststuff: info man
	rm -f gdb-cfg.texi GDBvn.texi

install-info: $(INFO_DEPS)
	$(SHELL) $(srcdir)/../../mkinstalldirs $(DESTDIR)$(infodir)
	@@list='$(INFO_DEPS)'; \
	for file in $$list; do \
	  if test -f $$file; then d=.; else d=$(srcdir); fi; \
	  for ifile in `cd $$d && echo $$file $$file-[0-9] $$file-[0-9][0-9]`; do \
	    if test -f $$d/$$ifile; then \
	      echo " $(INSTALL_DATA) $$d/$$ifile $(DESTDIR)$(infodir)/$$ifile"; \
	      $(INSTALL_DATA) $$d/$$ifile $(DESTDIR)$(infodir)/$$ifile; \
	    else : ; fi; \
	  done; \
	done
	$(POST_INSTALL)
	@@if $(SHELL) -c 'install-info --version | sed 1q | fgrep -s -v -i debian' >/dev/null 2>&1; then \
	  list='$(INFO_DEPS)'; \
	  for file in $$list; do \
	    echo " install-info --info-dir=$(DESTDIR)$(infodir) $(DESTDIR)$(infodir)/$$file";\
	    install-info --info-dir=$(DESTDIR)$(infodir) $(DESTDIR)$(infodir)/$$file || :;\
	  done; \
	else : ; fi

uninstall-info:
	$(PRE_UNINSTALL)
	@@if $(SHELL) -c 'install-info --version | sed 1q | fgrep -s -v -i debian' >/dev/null 2>&1; then \
	  ii=yes; \
	else ii=; fi; \
	list='$(INFO_DEPS)'; \
	for file in $$list; do \
	  test -z "$$ii" \
	    || install-info --info-dir=$(DESTDIR)$(infodir) --remove $$file; \
	done
	$(NORMAL_UNINSTALL)
	list='$(INFO_DEPS)'; \
	for file in $$list; do \
	  (cd $(DESTDIR)$(infodir) && rm -f $$file $$file-[0-9] $$file-[0-9][0-9]); \
	done

html__strip_dir = `echo $$p | sed -e 's|^.*/||'`;

install-html: $(HTMLFILES)
	@@$(NORMAL_INSTALL)
	test -z "$(htmldir)" || $(mkinstalldirs) "$(DESTDIR)$(htmldir)"
	@@list='$(HTMLFILES_INSTALL)'; for p in $$list; do \
	  if test -f "$$p" || test -d "$$p"; then d=""; else d="$(srcdir)/"; fi; \
	  f=$(html__strip_dir) \
	  if test -d "$$d$$p"; then \
	    echo " $(mkinstalldirs) '$(DESTDIR)$(htmldir)/$$f'"; \
	    $(mkinstalldirs) "$(DESTDIR)$(htmldir)/$$f" || exit 1; \
	    echo " $(INSTALL_DATA) '$$d$$p'/* '$(DESTDIR)$(htmldir)/$$f'"; \
	    $(INSTALL_DATA) "$$d$$p"/* "$(DESTDIR)$(htmldir)/$$f"; \
	  else \
	    echo " $(INSTALL_DATA) '$$d$$p' '$(DESTDIR)$(htmldir)/$$f'"; \
	    $(INSTALL_DATA) "$$d$$p" "$(DESTDIR)$(htmldir)/$$f"; \
	  fi; \
	done

pdf__strip_dir = `echo $$p | sed -e 's|^.*/||'`;

install-pdf: $(PDFFILES)
	@@$(NORMAL_INSTALL)
	test -z "$(pdfdir)" || $(mkinstalldirs) "$(DESTDIR)$(pdfdir)"
	@@list='$(PDFFILES)'; for p in $$list; do \
	  if test -f "$$p"; then d=; else d="$(srcdir)/"; fi; \
	  f=$(pdf__strip_dir) \
	  echo " $(INSTALL_DATA) '$$d$$p' '$(DESTDIR)$(pdfdir)/$$f'"; \
	  $(INSTALL_DATA) "$$d$$p" "$(DESTDIR)$(pdfdir)/$$f"; \
	done

install-man: install-man1 install-man5

install-man1: $(MAN1S)
	test -z "$(man1dir)" || $(mkinstalldirs) "$(DESTDIR)$(man1dir)"
	@@list='$(MAN1S)'; for p in $$list; do \
	  if test "x$(HAVE_NATIVE_GCORE_TARGET)$(HAVE_NATIVE_GCORE_HOST)" = x \
		  -a "$$p" = gcore.1; then \
	    continue; \
	  fi; \
	  if test -f "$$p"; then d=; else d="$(srcdir)/"; fi; \
	  f=`echo $$p | sed -e 's|^.*/||'`; \
	  echo " $(INSTALL_DATA) '$$d$$p' '$(DESTDIR)$(man1dir)/$$f'"; \
	  $(INSTALL_DATA) "$$d$$p" "$(DESTDIR)$(man1dir)/$$f"; \
	done

install-man5: $(MAN5S)
	test -z "$(man5dir)" || $(mkinstalldirs) "$(DESTDIR)$(man5dir)"
	@@list='$(MAN5S)'; for p in $$list; do \
	  if test -f "$$p"; then d=; else d="$(srcdir)/"; fi; \
	  f=`echo $$p | sed -e 's|^.*/||'`; \
	  echo " $(INSTALL_DATA) '$$d$$p' '$(DESTDIR)$(man5dir)/$$f'"; \
	  $(INSTALL_DATA) "$$d$$p" "$(DESTDIR)$(man5dir)/$$f"; \
	done

uninstall-man: uninstall-man1 uninstall-man5

uninstall-man1:
	@@test -n "$(man1dir)" || exit 0; \
	files=`{ l2='$(MAN1S)'; for i in $$l2; do \
	  if test "x$(HAVE_NATIVE_GCORE_TARGET)$(HAVE_NATIVE_GCORE_HOST)" = x \
		  -a "$$i" = gcore.1; then \
	    continue; \
	  fi; \
	  echo "$$i"; \
	done | \
	  sed -n '/\.1[a-z]*$$/p'; \
	} | sed -e 's,.*/,,;h;s,.*\.,,;s,^[^1][0-9a-z]*$$,1,;x' \
	      -e 's,\.[0-9a-z]*$$,,;$(transform);G;s,\n,.,'`; \
	test -z "$$files" || { \
	  echo " ( cd '$(DESTDIR)$(man1dir)' && rm -f" $$files ")"; \
	  cd "$(DESTDIR)$(man1dir)" && rm -f $$files; }

uninstall-man5:
	@@test -n "$(man5dir)" || exit 0; \
	files=`{ l2='$(MAN5S)'; for i in $$l2; do echo "$$i"; done | \
	  sed -n '/\.5[a-z]*$$/p'; \
	} | sed -e 's,.*/,,;h;s,.*\.,,;s,^[^5][0-9a-z]*$$,5,;x' \
	      -e 's,\.[0-9a-z]*$$,,;$(transform);G;s,\n,.,'`; \
	test -z "$$files" || { \
	  echo " ( cd '$(DESTDIR)$(man5dir)' && rm -f" $$files ")"; \
	  cd "$(DESTDIR)$(man5dir)" && rm -f $$files; }

STAGESTUFF = *.info* gdb-all.texi GDBvn.texi *.ps *.dvi *.pdf *.1 *.5

# Copy the object files from a particular stage into a subdirectory.
stage1: force
	-mkdir stage1
	-mv $(STAGESTUFF) stage1

stage2: force
	-mkdir stage2
	-mv $(STAGESTUFF) stage2

stage3: force
	-mkdir stage3
	-mv $(STAGESTUFF) stage3

against=stage2

comparison: force
	for i in $(STAGESTUFF) ; do cmp $$i $(against)/$$i ; done

de-stage1: force
	-(cd stage1 ; mv -f * ..)
	-rmdir stage1

de-stage2: force
	-(cd stage2 ; mv -f * ..)
	-rmdir stage2

de-stage3: force
	-(cd stage3 ; mv -f * ..)
	-rmdir stage3

# GDB QUICK REFERENCE (dvi output)
refcard.dvi : refcard.tex $(REFEDITS)
	echo > tmp.sed
	for f in x $(REFEDITS) ; do \
		test x$$f = xx && continue ; \
		cat $(srcdir)/$$f >>tmp.sed ; \
	done
	sed -f tmp.sed $(srcdir)/refcard.tex >sedref.tex
	$(SET_TEXINPUTS) $(TEX) sedref.tex
	mv sedref.dvi refcard.dvi
	rm -f sedref.log sedref.tex tmp.sed

refcard.ps : refcard.dvi
	$(DVIPS) -t landscape -o $@@ $?

refcard.pdf : refcard.tex $(REFEDITS)
	echo > tmp.sed
	for f in x $(REFEDITS) ; do \
		test x$$f = xx && continue ; \
		cat $(srcdir)/$$f >>tmp.sed ; \
	done
	sed -f tmp.sed $(srcdir)/refcard.tex >sedref.tex
	$(SET_TEXINPUTS) $(PDFTEX) sedref.tex
	mv sedref.pdf refcard.pdf
	rm -f sedref.log sedref.tex tmp.sed

# File to record current GDB version number.
GDBvn.texi : version.subst
	echo "@@set GDBVN `sed q version.subst`" > ./GDBvn.new
	if [ -n "$(PKGVERSION)" ]; then \
	  echo "@@set VERSION_PACKAGE $(PKGVERSION)" >> ./GDBvn.new; \
	fi
	echo "@@set BUGURL $(BUGURL_TEXI)" >> ./GDBvn.new
	if [ "$(BUGURL_TEXI)" = "@@uref{http://www.gnu.org/software/gdb/bugs/}" ]; then \
	  echo "@@set BUGURL_DEFAULT" >> ./GDBvn.new; \
	fi
	if test -z "$(READLINE_TEXI_INCFLAG)"; then \
	  echo "@@set SYSTEM_READLINE" >> ./GDBvn.new; \
	fi
	if [ -n "$(SYSTEM_GDBINIT)" ]; then \
	  echo "@@set SYSTEM_GDBINIT $(SYSTEM_GDBINIT)" >> ./GDBvn.new; \
	fi
	mv GDBvn.new GDBvn.texi

version.subst: $(gdbdir)/version.in $(gdbdir)/../bfd/version.h
	date=`sed -n -e 's/^.* BFD_VERSION_DATE \(.*\)$$/\1/p' $(gdbdir)/../bfd/version.h`; \
	sed -e "s/DATE/$$date/" < $(gdbdir)/version.in > version.subst

# Updated atomically
.PRECIOUS: GDBvn.texi

# Choose configuration for GDB manual (normally `all'; normally not tied into
# `configure' script because most users prefer generic version of manual,
# not one for their binary config---which may not be specifically
# defined anyways).
gdb-cfg.texi: ${srcdir}/${DOC_CONFIG}-cfg.texi
	(test "$(LN_S)" = "ln -s" && \
	  ln -s ${srcdir}/${DOC_CONFIG}-cfg.texi gdb-cfg.texi) || \
	ln ${srcdir}/${DOC_CONFIG}-cfg.texi gdb-cfg.texi || \
	cp ${srcdir}/${DOC_CONFIG}-cfg.texi gdb-cfg.texi

# GDB MANUAL: texinfo source, using @@set/@@clear/@@value/@@ifset/@@ifclear
# If your texinfo or makeinfo don't support these, get a new texinfo release
#
# The nonsense with GDBvn.texi gets this to run with both Sun and GNU make.
#   Note that we can *generate* GDBvn.texi, but since we distribute one in the
#   source directory for the benefit of people who *don't* use this makefile,
#   VPATH will often tell make not to bother building it, because the one
#   in the srcdir is up to date.  (if not, then make should build one here).

# Clean these up before each run.  Avoids a catch 22 with not being
# able to re-generate these files (to fix a corruption) because these
# files contain a corruption.
GDB_TEX_TMPS = gdb.aux gdb.cp* gdb.fn* gdb.ky* gdb.log gdb.pg* gdb.toc \
	gdb.tp* gdb.vr*

# GDB MANUAL: TeX dvi file
gdb.dvi: ${GDB_DOC_FILES}
	if [ ! -f ./GDBvn.texi ]; then \
		(test "$(LN_S)" = "ln -s" && ln -s $(srcdir)/GDBvn.texi .) || \
		ln $(srcdir)/GDBvn.texi . || \
		cp $(srcdir)/GDBvn.texi . ; else true; fi
	rm -f $(GDB_TEX_TMPS)
	$(TEXI2DVI) $(READLINE_TEXI_INCFLAG) -I ${GDBMI_DIR} -I $(srcdir) \
		$(srcdir)/gdb.texinfo

gdb.ps: gdb.dvi
	$(DVIPS) -o $@@ $?

gdb.pdf: ${GDB_DOC_FILES}
	if [ ! -f ./GDBvn.texi ]; then \
		(test "$(LN_S)" = "ln -s" && ln -s $(srcdir)/GDBvn.texi .) || \
		ln $(srcdir)/GDBvn.texi . || \
		cp $(srcdir)/GDBvn.texi . ; else true; fi
	rm -f $(GDB_TEX_TMPS)
	$(TEXI2DVI) --pdf $(READLINE_TEXI_INCFLAG) -I ${GDBMI_DIR} -I $(srcdir) \
		$(srcdir)/gdb.texinfo

# GDB MANUAL: info file
gdb.info: ${GDB_DOC_FILES}
	$(MAKEINFO_CMD) $(READLINE_TEXI_INCFLAG) -I ${GDBMI_DIR} -I $(srcdir) \
		-o gdb.info $(srcdir)/gdb.texinfo

# GDB MANUAL: roff translations
# Try to use a recent texi2roff.  v2 was put on prep in jan91.
# If you want an index, see texi2roff doc for postprocessing 
# and add -i to texi2roff invocations below.
# Workarounds for texi2roff-2 (probably fixed in later texi2roff's, delete
#    corresponding -e lines when later texi2roff's are current)
# + @@ifinfo's deleted explicitly due to texi2roff-2 bug w nested constructs.
# + @@c's deleted explicitly because texi2roff sees texinfo commands in them
# + @@   (that's at-BLANK) not recognized by texi2roff, turned into blank
# + @@alphaenumerate is ridiculously new, turned into @@enumerate

# texi2roff doesn't have a notion of include dirs, so we have to fake 
# it out for gdb manual's include files---but only if not configured
# in main sourcedir.
links2roff: $(GDB_DOC_SOURCE_INCLUDES)
	if [ ! -f gdb.texinfo ]; then \
		(test "$(LN_S)" = "ln -s" && ln -s $(GDB_DOC_SOURCE_INCLUDES) .) || \
		ln $(GDB_DOC_SOURCE_INCLUDES)    . || \
		cp $(GDB_DOC_SOURCE_INCLUDES)    . ; \
	fi
	touch links2roff

# gdb manual suitable for [gtn]roff -me
gdb.me: $(GDB_DOC_FILES) links2roff
	sed -e '/\\input texinfo/d' \
		-e '/@@c TEXI2ROFF-KILL/,/@@c END TEXI2ROFF-KILL/d' \
		-e '/^@@ifinfo/,/^@@end ifinfo/d' \
		-e '/^@@c /d' \
		-e 's/{.*,,/{/' \
		-e 's/@@ / /g' \
		-e 's/^@@alphaenumerate/@@enumerate/g' \
		-e 's/^@@end alphaenumerate/@@end enumerate/g' \
		$(srcdir)/gdb.texinfo | \
	$(TEXI2ROFF) -me | \
	sed -e 's/---/\\(em/g' \
	>gdb.me 

# gdb manual suitable for [gtn]roff -ms
gdb.ms: $(GDB_DOC_FILES) links2roff
	sed -e '/\\input texinfo/d' \
		-e '/@@c TEXI2ROFF-KILL/,/@@c END TEXI2ROFF-KILL/d' \
		-e '/^@@ifinfo/,/^@@end ifinfo/d' \
		-e '/^@@c /d' \
		-e 's/{.*,,/{/' \
		-e 's/@@ / /g' \
		-e 's/^@@alphaenumerate/@@enumerate/g' \
		-e 's/^@@end alphaenumerate/@@end enumerate/g' \
		$(srcdir)/gdb.texinfo | \
	$(TEXI2ROFF) -ms | \
	sed -e 's/---/\\(em/g' \
	>gdb.ms 

# gdb manual suitable for [tn]roff -mm
# '@@noindent's removed due to texi2roff-2 mm bug; if yours is newer, 
#   try leaving them in
gdb.mm: $(GDB_DOC_FILES) links2roff
	sed -e '/\\input texinfo/d' \
		-e '/@@c TEXI2ROFF-KILL/,/@@c END TEXI2ROFF-KILL/d' \
		-e '/^@@ifinfo/,/^@@end ifinfo/d' \
		-e '/^@@c /d' \
		-e 's/{.*,,/{/' \
		-e '/@@noindent/d' \
		-e 's/@@ / /g' \
		-e 's/^@@alphaenumerate/@@enumerate/g' \
		-e 's/^@@end alphaenumerate/@@end enumerate/g' \
		$(srcdir)/gdb.texinfo | \
	$(TEXI2ROFF) -mm | \
	sed -e 's/---/\\(em/g' \
	>gdb.mm 

# GDB MANUAL: HTML file

gdb/index.html: ${GDB_DOC_FILES}
	$(MAKEHTML) $(MAKEHTMLFLAGS) $(READLINE_TEXI_INCFLAG) -I ${GDBMI_DIR} -I $(srcdir) $(srcdir)/gdb.texinfo

stabs.info: $(STABS_DOC_FILES)
	$(MAKEINFO_CMD) -I $(srcdir) -o stabs.info $(srcdir)/stabs.texinfo

# STABS DOCUMENTATION: HTML file

stabs/index.html: $(STABS_DOC_FILES)
	$(MAKEHTML) $(MAKEHTMLFLAGS) -I $(srcdir) $(srcdir)/stabs.texinfo

# Clean these up before each run.  Avoids a catch 22 with not being
# able to re-generate these files (to fix a corruption) because these
# files contain a corruption.
STABS_TEX_TMPS = stabs.aux stabs.cp* stabs.fn* stabs.ky* \
	stabs.log stabs.pg* stabs.toc stabs.tp* stabs.vr*

# STABS DOCUMENTATION: TeX dvi file
stabs.dvi : $(STABS_DOC_FILES)
	rm -f $(STABS_TEX_TMPS)
	$(TEXI2DVI) -I $(srcdir) $(srcdir)/stabs.texinfo

stabs.ps: stabs.dvi
	$(DVIPS) -o $@@ $?

stabs.pdf: $(STABS_DOC_FILES)
	rm -f $(STABS_TEX_TMPS)
	$(TEXI2DVI) --pdf -I $(srcdir) $(srcdir)/stabs.texinfo

# Clean these up before each run.  Avoids a catch 22 with not being
# able to re-generate these files (to fix a corruption) because these
# files contain a corruption.
ANNOTATE_TEX_TMPS = annotate.aux annotate.cp* annotate.fn* annotate.ky* \
	annotate.log annotate.pg* annotate.toc annotate.tp* annotate.vr*

# ANNOTATE DOCUMENTATION: TeX dvi file
annotate.dvi : $(ANNOTATE_DOC_FILES)
	rm -f $(ANNOTATE_TEX_TMPS)
	$(TEXI2DVI) -I $(srcdir) $(srcdir)/annotate.texinfo

annotate.ps: annotate.dvi
	$(DVIPS) -o $@@ $?

annotate.pdf: $(ANNOTATE_DOC_FILES)
	rm -f $(ANNOTATE_TEX_TMPS)
	$(TEXI2DVI) --pdf -I $(srcdir) $(srcdir)/annotate.texinfo

annotate.info: $(ANNOTATE_DOC_FILES)
	$(MAKEINFO_CMD) -I $(srcdir) -o annotate.info $(srcdir)/annotate.texinfo

annotate/index.html: $(ANNOTATE_DOC_FILES)
	$(MAKEHTML) $(MAKEHTMLFLAGS) -I $(srcdir) $(srcdir)/annotate.texinfo

# Man pages
gdb.1: $(GDB_DOC_FILES)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dgdb < $(srcdir)/gdb.texinfo > gdb.pod
	-($(POD2MAN1) gdb.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f gdb.pod

gdbserver.1: $(GDB_DOC_FILES)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dgdbserver < $(srcdir)/gdb.texinfo > gdbserver.pod
	-($(POD2MAN1) gdbserver.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f gdbserver.pod

gcore.1: $(GDB_DOC_FILES)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dgcore < $(srcdir)/gdb.texinfo > gcore.pod
	-($(POD2MAN1) gcore.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f gcore.pod

gdbinit.5: $(GDB_DOC_FILES)
	touch $@@
	-$(TEXI2POD) $(MANCONF) -Dgdbinit < $(srcdir)/gdb.texinfo > gdbinit.pod
	-($(POD2MAN5) gdbinit.pod | sed -e '/^.if n .na/d' > $@@.T$$$$ && \
		mv -f $@@.T$$$$ $@@) || (rm -f $@@.T$$$$ && exit 1)
	rm -f gdbinit.pod

force:

Makefile: Makefile.in $(host_makefile_frag) ../config.status
	cd .. && $(SHELL) ./config.status doc/Makefile


# The "least clean" level of cleaning.  Get rid of files which are
# automatically generated files that are just intermediate files,

mostlyclean:
	rm -f gdb.mm gdb.ms gdb.me links2roff
	rm -f $(GDB_TEX_TMPS)
	rm -f $(STABS_TEX_TMPS)
	rm -f $(ANNOTATE_TEX_TMPS)
	rm -f sedref.dvi sedref.tex tmp.sed
	rm -f version.subst

clean: mostlyclean
	rm -f gdb-cfg.texi GDBvn.texi

distclean: clean
	rm -f Makefile

# GDBvn.texi, the dvi files, the info files, and the postscript files, 
# are all part of the distribution, so it should not be removed by
# "clean" or "distclean".  Use maintainer-clean to remove them.

maintainer-clean realclean: distclean
	rm -f GDBvn.texi *.info* *.dvi *.ps *.html *.pdf $(MANS)

install: install-info install-man

uninstall: uninstall-info uninstall-man
@


1.64
log
@move version.in from gdb/common back to gdb

This reverts part of the earlier version.in change.  It moves
version.in back to the gdb directory.  This works around the CVS bug
we've found.

gdb
	* Makefile.in (version.c): Use version.in, not
	common/version.in.
	* common/create-version.sh: Likewise.
	* common/version.in: Move...
	* version.in: ...here.
gdb/doc
	* Makefile.in (version.subst): Use version.in, not
	common/version.in.
	* gdbint.texinfo (Versions and Branches, Releasing GDB):
	Likewise.
gdb/gdbserver
	* Makefile.in (version.c): Use version.in, not
	common/version.in.
sim/common
	* Make-common.in (version.c): Use version.in, not
	common/version.in.
	* create-version.sh: Likewise.
sim/ppc:
	* Make-common.in (version.c): Use version.in, not
	common/version.in.
@
text
@d82 1
a82 1
INFO_DEPS = gdb.info gdbint.info stabs.info annotate.info
d85 1
a85 1
PDFFILES = gdb.pdf gdbint.pdf stabs.pdf refcard.pdf annotate.pdf
d87 2
a88 2
HTMLFILES =  gdb/index.html gdbint/index.html stabs/index.html annotate/index.html
HTMLFILES_INSTALL = gdb gdbint stabs annotate
a135 12
# Internals Manual
GDBINT_DOC_SOURCE_INCLUDES = \
	$(srcdir)/fdl.texi \
	$(srcdir)/observer.texi
GDBINT_DOC_BUILD_INCLUDES = \
	gdb-cfg.texi \
	GDBvn.texi
GDBINT_DOC_FILES = \
	$(srcdir)/gdbint.texinfo \
	$(GDBINT_DOC_SOURCE_INCLUDES) \
	$(GDBINT_DOC_BUILD_INCLUDES)

d182 2
a183 2
dvi: gdb.dvi gdbint.dvi stabs.dvi refcard.dvi annotate.dvi
ps: gdb.ps gdbint.ps stabs.ps refcard.ps annotate.ps
a520 28
# Clean these up before each run.  Avoids a catch 22 with not being
# able to re-generate these files (to fix a corruption) because these
# files contain a corruption.
GDBINT_TEX_TMPS = gdbint.aux gdbint.cp* gdbint.fn* gdbint.ky* \
	gdbint.log gdbint.pg* gdbint.toc gdbint.tp* gdbint.vr*

# GDB INTERNALS MANUAL: TeX dvi file
gdbint.dvi: $(GDBINT_DOC_FILES)
	rm -f $(GDBINT_TEX_TMPS)
	$(TEXI2DVI) -I $(srcdir) $(srcdir)/gdbint.texinfo

gdbint.ps : gdbint.dvi
	$(DVIPS) -o $@@ $?

gdbint.pdf: $(GDBINT_DOC_FILES)
	rm -f $(GDBINT_TEX_TMPS)
	$(TEXI2DVI) --pdf -I $(srcdir) $(srcdir)/gdbint.texinfo

# GDB INTERNALS MANUAL: info file

gdbint.info: $(GDBINT_DOC_FILES)
	$(MAKEINFO_CMD) -I $(srcdir) -o gdbint.info $(srcdir)/gdbint.texinfo

# GDB INTERNALS MANUAL: HTML file

gdbint/index.html: $(GDBINT_DOC_FILES)
	$(MAKEHTML) $(MAKEHTMLFLAGS) -I $(srcdir) $(srcdir)/gdbint.texinfo

a611 1
	rm -f $(GDBINT_TEX_TMPS)
@


1.63
log
@don't keep a gdb-specific date

Right now there are two nightly commits to update a file in the tree
with the current date.  One commit is for BFD, one is for gdb.

It seems unnecessary to me to do this twice.  We can make do with a
single such commit.

This patch changes gdb in a minimal way to reuse the BFD date -- it
extracts it from bfd/version.h and changes version.in to use the
placeholder string "DATE" for those times when a date is wanted.

I propose removing the cron job that updates the version on trunk, and
then check in this patch.

For release branches, we can keep the cron job, but just tell it to
rewrite bfd/version.h.  I believe this is a simple change in the
crontab -- the script will work just fine on this file.

This also moves version.in and version.h into common/, to reflect
their shared status; and updates gdbserver to use version.h besides.

	* common/create-version.sh: New file.
	* Makefile.in (version.c): Use bfd/version.h, common/version.in,
	create-version.sh.
	(HFILES_NO_SRCDIR): Use common/version.h.
	* version.in: Move to ...
	* common/version.in: ... here.  Replace date with "DATE".
	* version.h: Move to ...
	* common/version.h: ... here.
gdbserver:
	* Makefile.in (version.c): Use bfd/version.h, common/version.in,
	create-version.sh.
	(version.o): Remove.
	* gdbreplay.c: Include version.h.
	(version, host_name): Don't declare.
	* server.h: Include version.h.
	(version, host_name): Don't declare.
doc:
	* Makefile.in (POD2MAN1, POD2MAN5): Use version.subst.
	(GDBvn.texi): Use version.subst.
	(version.subst): New target.
	(mostlyclean): Remove version.subst.
@
text
@d399 1
a399 1
version.subst: $(gdbdir)/common/version.in $(gdbdir)/../bfd/version.h
d401 1
a401 1
	sed -e "s/DATE/$$date/" < $(gdbdir)/common/version.in > version.subst
@


1.62
log
@gdb/
	* Makefile.in (HAVE_NATIVE_GCORE_TARGET): New.
	(generated_files): Add gcore.
	(install-only, uninstall): Add gcore if HAVE_NATIVE_GCORE_TARGET or
	HAVE_NATIVE_GCORE_HOST.
	(gcore): New.
	* NEWS (Changes since GDB 7.6): Mention newly installed gcore.
	* config/alpha/alpha-osf3.mh, config/i386/fbsd.mh,
	config/i386/fbsd64.mh, config/i386/i386gnu.mh, config/i386/i386sol2.mh,
	config/i386/sol2-64.mh, config/mips/irix5.mh, config/mips/irix6.mh,
	config/powerpc/fbsd.mh, config/sparc/fbsd.mh, config/sparc/sol2.mh:
	Add HAVE_NATIVE_GCORE_HOST.
	* configure: Regenerate.
	* configure.ac (HAVE_NATIVE_GCORE_TARGET): New, set it, AC_SUBST it.
	New AC_SUBST fir GDB_TRANSFORM_NAME and GCORE_TRANSFORM_NAME.  New
	AC_CONFIG_FILES for gcore.
	* configure.tgt: Add gdb_have_gcore to the initial comment.  Set
	gdb_have_gcore.
	* gdb_gcore.sh: Rename to ...
	* gcore.in: ... here.  Remove gcore.sh comment.  Use GDB_TRANSFORM_NAME
	and GCORE_TRANSFORM_NAME substitutions.

gdb/doc/
	* Makefile.in (MAN1S): Add gcore.1.
	Remove "Host, target, and site specific Makefile fragments" comment.
	(@@host_makefile_frag@@, HAVE_NATIVE_GCORE_TARGET): New.
	(install-man1, uninstall-man1): Conditionalize gcore.1.
	(gcore.1): New.
	* gdb.texinfo (Man Pages): Add gcore man.
	(gcore man): New node.
@
text
@d175 1
a175 1
		   --release="gdb-`sed q $(srcdir)/../version.in`" --section=1
d177 1
a177 1
		   --release="gdb-`sed q $(srcdir)/../version.in`" --section=5
d381 3
a383 3
# File to record current GDB version number (copied from main dir version.in)
GDBvn.texi : ${gdbdir}/version.in
	echo "@@set GDBVN `sed q $(srcdir)/../version.in`" > ./GDBvn.new
d399 4
d656 1
@


1.61
log
@gdb/doc/
	* Makefile.in (gdb.1, gdbserver.1, gdbinit.5): Use $(srcdir).
@
text
@d180 1
a180 1
MAN1S = gdb.1 gdbserver.1
d184 5
a188 1
#### Host, target, and site specific Makefile fragments come in here.
d276 4
d299 7
a305 1
	files=`{ l2='$(MAN1S)'; for i in $$l2; do echo "$$i"; done | \
d622 7
@


1.60
log
@gdb/doc/
	* Makefile.in (install-man1, install-man5, uninstall-man1)
	(uninstall-man5): Replace $(MANS) by $(MAN1S) and $(MAN5S) respectively.
@
text
@d596 1
a596 1
	-$(TEXI2POD) $(MANCONF) -Dgdb < gdb.texinfo > gdb.pod
d603 1
a603 1
	-$(TEXI2POD) $(MANCONF) -Dgdbserver < gdb.texinfo > gdbserver.pod
d610 1
a610 1
	-$(TEXI2POD) $(MANCONF) -Dgdbinit < gdb.texinfo > gdbinit.pod
@


1.59
log
@gdb/doc/
	* Makefile.in (POD2MAN1, POD2MAN5): Replace $(VERSION) by ../version.in.
@
text
@d271 1
a271 1
	@@list='$(MANS)'; for p in $$list; do \
d280 1
a280 1
	@@list='$(MANS)'; for p in $$list; do \
d291 1
a291 1
	files=`{ l2='$(MANS)'; for i in $$l2; do echo "$$i"; done | \
d301 1
a301 1
	files=`{ l2='$(MANS)'; for i in $$l2; do echo "$$i"; done | \
@


1.58
log
@gdb/
	Convert man pages to texinfo, new gdbinit.5 texinfo page.
	* Makefile.in (gdb.z): Remove.
	(install-only): Remove $(man1dir) and gdb.1 installation.
	* gdb.1: Remove.

gdb/gdbserver/
	Convert man pages to texinfo, new gdbinit.5 texinfo page.
	* Makefile.in (install-only): Remove $(man1dir) and gdbserver.1
	installation.
	* gdbserver.1: Remove.

gdb/doc/
	Convert man pages to texinfo, new gdbinit.5 texinfo page.
	* Makefile.in (mandir, man1dir, man5dir, SYSTEM_GDBINIT, MANCONF,
	(TEXI2POD, POD2MAN1, POD2MAN5, MAN1S, MAN5S, MANS, man): New.
	(diststuff): Add man.
	(install-man, install-man1, install-man5, uninstall-man, uninstall-man1)
	(uninstall-man5): New.
	(STAGESTUFF): Add *.1 and *.5.
	(GDBvn.texi): Add SYSTEM_GDBINIT.
	(gdb.1, gdbserver.1, gdbinit.5): New.
	(maintainer-clean realclean): Add $(MANS).
	(install): Add install-man.
	(uninstall): Add uninstall-man.
	* gdb.texinfo (@@include gdb-cfg.texi): Wrap it by @@c man begin INCLUDE.
	(@@copying): Wrap it by @@c man begin COPYRIGHT.
	(Top): Add Man Pages.
	(Man Pages, gdb man, gdbserver man, gdbinit man): New.
@
text
@d175 1
a175 1
		   --release="gdb-$(VERSION)" --section=1
d177 1
a177 1
		   --release="gdb-$(VERSION)" --section=5
@


1.57
log
@Update years in copyright notice for the GDB files.

Two modifications:
  1. The addition of 2013 to the copyright year range for every file;
  2. The use of a single year range, instead of potentially multiple
     year ranges, as approved by the FSF.
@
text
@d29 3
d41 2
d168 16
d194 1
d196 1
a196 1
diststuff: info
d267 43
a309 1
STAGESTUFF = *.info* gdb-all.texi GDBvn.texi *.ps *.dvi *.pdf
d380 3
d593 22
d643 1
a643 1
	rm -f GDBvn.texi *.info* *.dvi *.ps *.html *.pdf
d645 1
a645 1
install: install-info
d647 1
a647 1
uninstall: uninstall-info
@


1.56
log
@Copyright year update in most files of the GDB Project.

gdb/ChangeLog:

        Copyright year update in most files of the GDB Project.
@
text
@d1 1
a1 2
##Copyright (C) 1991-1996, 1999-2000, 2002-2003, 2007-2012 Free Software
##Foundation, Inc.
@


1.55
log
@gdb/
	Fix compatibility with texinfo versions older than 4.12.
	* Makefile.in (MAKEINFO): Set to @@MAKEINFO@@.
	(MAKEINFOFLAGS, MAKEINFO_EXTRA_FLAGS, MAKEINFO_CMD): New.
	(MAKEHTMLFLAGS): Use MAKEINFO_CMD.
	(FLAGS_TO_PASS): Add MAKEINFOFLAGS and MAKEINFO_EXTRA_FLAGS.
	* configure: Regenerate.
	* configure.ac (MAKEINFO): Find it, from libiberty/configure.ac.
	(MAKEINFOFLAGS): Pre-set it to --split-size=5000000.
	(MAKEINFO_EXTRA_FLAGS): New test for -DHAVE_MAKEINFO_CLICK.

gdb/doc/
	Fix compatibility with texinfo versions older than 4.12.
	* Makefile.in (MAKEINFO): Set to @@MAKEINFO@@.
	(MAKEINFOFLAGS, MAKEINFO_EXTRA_FLAGS, MAKEINFO_CMD): New.
	(MAKEHTMLFLAGS): Use MAKEINFO_CMD.
	(gdb.info, gdbint.info, stabs.info, annotate.info): Use MAKEINFO_CMD.
	* gdb.texinfo (Tail Call Frames): Convert @@arrow{} to @@click, when possible.
	Make the conversion conditional on HAVE_MAKEINFO_CLICK, using variables
	CALLSEQ1A, CALLSEQ1B, CALLSEQ2A and CALLSEQ2B.
@
text
@d1 2
a2 2
##Copyright (C) 1991, 1992, 1993, 1994, 1995, 1996, 1999, 2000, 2002, 2003,
##2007, 2008, 2009, 2010, 2011 Free Software Foundation, Inc.
@


1.55.2.1
log
@Copyright year update in most files of the GDB Project.

gdb/ChangeLog:

        Copyright year update in most files of the GDB Project.
@
text
@d1 2
a2 2
##Copyright (C) 1991-1996, 1999-2000, 2002-2003, 2007-2012 Free Software
##Foundation, Inc.
@


1.54
log
@Imported readline 6.2, and upstream patch 001.

[patch 0/3] readline-6.2 rebase
http://sourceware.org/ml/gdb-patches/2011-05/msg00003.html
[patch 1/3] readline-6.2: Merge of already posted patches
http://sourceware.org/ml/gdb-patches/2011-05/msg00004.html
	=
	[Bug-readline] [RFC/readline] bind.c, rl_function_dumper, Free allocated
	http://lists.gnu.org/archive/html/bug-readline/2011-03/msg00000.html
	[Bug-readline] [patch] Fix underquotation in readline/examples/rlfe/conf
	http://lists.gnu.org/archive/html/bug-readline/2011-04/msg00001.html
	[Bug-readline] [patch] Makefile.in htm<->html
	http://lists.gnu.org/archive/html/bug-readline/2011-04/msg00002.html
	Re: [Bug-readline] [patch] Makefile.in dependency: callback.o: xmalloc.h
	http://lists.gnu.org/archive/html/bug-readline/2011-04/msg00004.html
	[Bug-readline] [patch] Remove . from the VPATH directive
	http://lists.gnu.org/archive/html/bug-readline/2011-04/msg00005.html
	Eli Zaretskii's __MSDOS__ / __GO32__ / __MINGW32__ / __DJGPP__ stuff:
	http://sourceware.org/ml/gdb/2011-04/msg00002.html
	Jan Kratochvil's patch for FSF GDB tree local-specific changes:
	http://sourceware.org/ml/gdb/2011-04/msg00006.html
	Preservation of existing ChangeLog.gdb files, their updates.
[patch 2/3] readline-6.2: Workaround "ask" regression
http://sourceware.org/ml/gdb-patches/2011-05/msg00005.html
[patch 3/3] readline-6.2: Revert 5.x compat., apply 6.x compat.
http://sourceware.org/ml/gdb-patches/2011-05/msg00006.html
[patch 4/3] readline-6.2: Substitute inc-hist.texinfo
http://sourceware.org/ml/gdb-patches/2011-05/msg00010.html

readline/
	Workaround gdb.base/completion.exp regression on readline-6.2.
	* complete.c (get_y_or_n): Disable the return on RL_STATE_CALLBACK.

	Imported readline 6.2, and upstream patch 001.
	* configure: Regenerate.

readline/doc/
	* hsuser.texi (Using History Interactively): Disable !BashFeatures
	@@defcodeindex.  Make the `Programming with GNU History' reference
	external.
	* inc-hist.texinfo: Remove.

	Imported readline 6.2, and upstream patch 001.

readline/examples/
	Imported readline 6.2, and upstream patch 001.

readline/examples/rlfe/
	Imported readline 6.2, and upstream patch 001.

gdb/
	* config.in: Regenerate.
	* configure: Regenerate.
	* configure.ac <--with-system-readline> (for readline_echoing_p):
	Remove the test.
	* tui/tui-io.c (tui_old_readline_echoing_p): Rename to ...
	(tui_old_rl_echoing_p): ... here.
	(tui_setup_io): Rename extern declaration readline_echoing_p to
	_rl_echoing_p.  Adjust assignments for the both renames.

gdb/doc/
	* Makefile.in (GDB_DOC_SOURCE_INCLUDES): Rename inc-hist.texinfo to
	hsuser.texi.
	* gdb.texinfo <!SYSTEM_READLINE>: Rename inc-hist.texinfo inclusion and
	comment to hsuser.texi.  Change rluser.texi name in the comment.
@
text
@d48 4
a51 1
MAKEINFO=makeinfo
d53 1
a53 1
MAKEHTML = $(MAKEINFO) --html 
d371 1
a371 1
	$(MAKEINFO) $(READLINE_TEXI_INCFLAG) -I ${GDBMI_DIR} -I $(srcdir) \
d470 1
a470 1
	$(MAKEINFO) -I $(srcdir) -o gdbint.info $(srcdir)/gdbint.texinfo
d478 1
a478 1
	$(MAKEINFO) -I $(srcdir) -o stabs.info $(srcdir)/stabs.texinfo
d522 1
a522 1
	$(MAKEINFO)  -I $(srcdir) -o annotate.info $(srcdir)/annotate.texinfo
@


1.53
log
@gdb/doc/
	* Makefile.in (diststuff): Remove gdb-cfg.texi and GDBvn.texi.
	(clean): Add GDBvn.texi.
@
text
@d120 1
a120 1
	$(READLINE_DIR)/inc-hist.texinfo
@


1.52
log
@run copyright.sh for 2011.
@
text
@d173 1
d542 1
a542 1
	rm -f gdb-cfg.texi
@


1.51
log
@gdb
	* configure: Rebuild.
	* configure.ac (READLINE_TEXI_INCFLAG): New subst.
gdb/doc
	* gdb.texinfo (Top): Check SYSTEM_READLINE.
	(Editing): Likewise.
	(Command History): Likewise.
	(TUI Keys): Likewise.
	(Bug Reporting): Conditionally include rluser.texi and
	inc-history.texinfo.
	* Makefile.in (READLINE_TEXI_INCFLAG): New variable.
	(GDB_DOC_SOURCE_INCLUDES): Add comment.
	(GDBvn.texi): Set SYSTEM_READLINE when appropriate.
	(gdb.dvi): Use READLINE_TEXI_INCFLAG.
	(gdb.pdf): Likewise.
	(gdb.info): Likewise.
	(gdb/index.html): Likewise.
@
text
@d2 1
a2 1
##2007, 2008, 2009, 2010 Free Software Foundation, Inc.
@


1.50
log
@gdb
	* Makefile.in (SUBDIRS): Add doc.
	* configure: Rebuild.
	* configure.ac: Don't configure in doc.  Create doc/Makefile.
gdb/doc
	* Makefile.in (Makefile): Run ../config.status.
	(distclean): Update.
	* configure: Remove.
	* configure.ac: Remove.
@
text
@d66 1
d112 3
d310 3
d350 1
a350 1
	$(TEXI2DVI) -I ${READLINE_DIR} -I ${GDBMI_DIR} -I $(srcdir) \
d362 1
a362 1
	$(TEXI2DVI) --pdf -I ${READLINE_DIR} -I ${GDBMI_DIR} -I $(srcdir) \
d367 1
a367 1
	$(MAKEINFO) -I ${READLINE_DIR} -I ${GDBMI_DIR} -I $(srcdir) \
d443 1
a443 1
	$(MAKEHTML) $(MAKEHTMLFLAGS) -I ${READLINE_DIR} -I ${GDBMI_DIR} -I $(srcdir) $(srcdir)/gdb.texinfo
@


1.49
log
@	* Makefile.in (ANNOTATE_DOC_BUILD_INCLUDES): Add GDBvn.texi.
@
text
@d518 2
a519 2
Makefile: Makefile.in $(host_makefile_frag) config.status
	$(SHELL) ./config.status
d537 1
a537 1
	rm -f Makefile config.status config.log
@


1.48
log
@Update copyright year in most headers.

Automatic update by copyright.sh.
@
text
@d150 2
a151 1
	gdb-cfg.texi
@


1.47
log
@        * Makefile.in: Update copyright header.
        * observer.texi: Fix the copyright header of the generated files.
@
text
@d2 1
a2 1
##2007, 2008, 2009 Free Software Foundation, Inc.
@


1.46
log
@gdb:
	* configure.ac (--with-datarootdir, --with-docdir, --with-pdfdir,
	--with-htmldir): New.
	* configure: Regenerate.

gdb/doc:
	* configure.ac (--with-datarootdir, --with-docdir, --with-pdfdir,
	--with-htmldir): New.
	* configure: Regenerate.
	* Makefile.in (datarootdir, docdir): Define.
	(gdb.dvi, gdb.pdf): Use same -I options as for building gdb.info
	instead of $(SET_TEXINPUTS).
	(gdbint.dvi, gdbint.pdf): Use same -I options as for building
	gdbint.info instead of $(SET_TEXINPUTS).
	(gdbint/index.html): Use same -I options as for building
	gdbint.info.
	(stabs.dvi, stabs.pdf): Use same -I options as for building
	stabs.info instead of $(SET_TEXINPUTS).
	(stabs/index.html): Use same -I options as for building
	stabs.info.
	(annotate.dvi, annotate.pdf): Use same -I options as for building
	annotate.info instead of $(SET_TEXINPUTS).
	(annotate/index.html): Use same -I options as for building
	annotate.info.
@
text
@d9 1
a9 1
# the Free Software Foundation; either version 2 of the License, or
d11 1
a11 1
# 
d16 1
a16 1
# 
d18 1
a18 2
# along with this program; if not, write to the Free Software
# Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
@


1.46.4.1
log
@	* Makefile.in (ANNOTATE_DOC_BUILD_INCLUDES): Add GDBvn.texi.
@
text
@d2 1
a2 1
##2007, 2008, 2009, 2010 Free Software Foundation, Inc.
d151 1
a151 2
	gdb-cfg.texi \
	GDBvn.texi
@


1.45
log
@gdb:
2009-04-18  Carlos O'Donell  <carlos@@codesourcery.com>

	* Makefile.in (MAKEHTML): Set to makeinfo --html.
	(MAKEHTMLFLAGS): Set to empty.

gdb/doc:
2009-04-18  Carlos O'Donell  <carlos@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* Makefile.in (MAKEHTML): Set to makeinfo --html.
	(MAKEHTMLFLAGS): Set to empty.
	(html__strip_dir): Define.
	(HTMLFILES): Define.
	(HTMLFILES_INSTALL): Define.
	(install-html): Copy new automake rule.
	(html): Depend on $(HTMLFILES).
	(gdb_toc.html): Rename to gdb/index.html.
	(gdbint_toc.html): Rename to gdbint/index.html.
	(stabs_toc.html): Rename to stabs/index.html.
	(annotate_toc.html): Rename to annotate/index.html.
@
text
@d27 2
d343 2
a344 1
	$(SET_TEXINPUTS) $(TEXI2DVI) $(srcdir)/gdb.texinfo
d355 2
a356 1
	$(SET_TEXINPUTS) $(TEXI2DVI) --pdf $(srcdir)/gdb.texinfo
d447 1
a447 1
	$(SET_TEXINPUTS) $(TEXI2DVI) $(srcdir)/gdbint.texinfo
d454 1
a454 1
	$(SET_TEXINPUTS) $(TEXI2DVI) --pdf $(srcdir)/gdbint.texinfo
d464 1
a464 1
	$(MAKEHTML) $(MAKEHTMLFLAGS) $(srcdir)/gdbint.texinfo
d472 1
a472 1
	$(MAKEHTML) $(MAKEHTMLFLAGS) $(srcdir)/stabs.texinfo
d483 1
a483 1
	$(SET_TEXINPUTS) $(TEXI2DVI) $(srcdir)/stabs.texinfo
d490 1
a490 1
	$(SET_TEXINPUTS) $(TEXI2DVI) --pdf $(srcdir)/stabs.texinfo
d501 1
a501 1
	$(SET_TEXINPUTS) $(TEXI2DVI) $(srcdir)/annotate.texinfo
d508 1
a508 1
	$(SET_TEXINPUTS) $(TEXI2DVI) --pdf $(srcdir)/annotate.texinfo
d514 1
a514 1
	$(MAKEHTML) $(MAKEHTMLFLAGS) $(srcdir)/annotate.texinfo
@


1.44
log
@gdb:
2009-04-17  Carlos O'Donell  <carlos@@codesourcery.com>

	* configure.ac: AC_SUBST datarootdir, docdir, htmldir, pdfdir.
	* configure: Regenerate.
	* Makefile.in: Set datarootdir, docdir, htmldir, and pdfdir from
	configure substitutions.
	(FLAGS_TO_PASS): Add datarootdir, docdir, and htmldir.

gdb/doc:
2009-04-17  Carlos O'Donell  <carlos@@codesourcery.com>

	* Makefile.in: Set pdfdir and htmldir from configure
	substitutions.
	* configure.ac: AC_SUBST datarootdir, docdir, htmldir, pdfdir.
	* configure: Regenerate.

readline:
2009-04-17  Carlos O'Donell  <carlos@@codesourcery.com>

	* Makefile.in: Add html target.  Add dummy install-html and
	install-pdf targets.

sim:
2009-04-17  Carlos O'Donell  <carlos@@codesourcery.com>

	* Makefile.in: Add dummy install-pdf, html, and
	install-html targets.
@
text
@d49 2
a50 8
# Note that texinfo 4.0's makeinfo --html can only generate a
# single file, which would be too large, so continue to use
# texi2html. -sts 2000-03-28
# Contrary to documentation, the current directory is not
# searched by texi2html, so specify it explicitly.
# -macro 2007-07-26
MAKEHTML = texi2html
MAKEHTMLFLAGS = -menu -split_chapter -I .
d77 3
d163 1
a163 1
html: gdb_toc.html gdbint_toc.html stabs_toc.html annotate_toc.html
d205 17
a221 3
install-html: html
	for i in *.html ; do \
		$(INSTALL_DATA) $$i $(DESTDIR)$(htmldir)/$$i ; \
d431 1
a431 1
gdb_toc.html: ${GDB_DOC_FILES}
d459 1
a459 1
gdbint_toc.html: $(GDBINT_DOC_FILES)
d467 1
a467 1
stabs_toc.html: $(STABS_DOC_FILES)
d509 1
a509 1
annotate_toc.html: $(ANNOTATE_DOC_FILES)
@


1.43
log
@        Updated copyright notices for most files.
@
text
@d27 2
a28 2
pdfdir = $(prefix)/share/doc/gdb
htmldir = $(prefix)/html
@


1.42
log
@2008-06-05  Vladimir Prus  <vladimir@@codesourcery.com>
            Nathan Sidwell  <nathan@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* acinclude.m4: Include ../config/acx.m4.
	* configure.ac: Use ACX_PKGVERSION and ACX_BUGURL.
	* configure, config.in: Regenerate.
	* main.c (print_gdb_help): Use REPORT_BUGS_TO for bug-reporting
	address.
	* top.c (print_gdb_version): Use PKGVERSION and REPORT_BUGS_TO.

doc:
2008-06-05  Vladimir Prus  <vladimir@@codesourcery.com>
            Nathan Sidwell  <nathan@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* configure.ac: Include ../../config/acx.m4.  Use ACX_PKGVERSION
	and ACX_BUGURL.
	* configure: Regenerate.
	* Makefile.in (PKGVERSION, BUGURL_TEXI): Define.
	(GDBvn.texi): Define VERSION_PACKAGE, BUGURL and BUGURL_DEFAULT.
	* gdb.texinfo: Use VERSION_PACKAGE and BUGURL.  Remove
	mailing-list-specific text about bug reporting unless
	BUGURL_DEFAULT.

gdbserver:
2008-06-05  Vladimir Prus  <vladimir@@codesourcery.com>
            Nathan Sidwell  <nathan@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* acinclude.m4: Include ../../config/acx.m4.
	* configure.ac: Use ACX_PKGVERSION and ACX_BUGURL.
	* configure, config.in: Regenerate.
	* Makefile.in (gdbreplay$(EXEEXT)): Add version.o.
	* server.c (gdbserver_version): Print PKGVERSION.
	(gdbsrever_usage): Add stream parameter.  Print REPORT_BUGS_TO.
	(main): Adjust gdbserver_usage calls.
	* gdbreplay.c (version, host_name): Add declarations.
	(gdbreplay_version, gdbreplay_usage): New.
	(main): Accept --version and --help options.
@
text
@d2 1
a2 1
##2007, 2008 Free Software Foundation, Inc.
@


1.41
log
@	Updated copyright notices for most files.
@
text
@d64 4
d286 7
@


1.41.6.1
log
@Check in ARCompact simulator.  A valid configuration is arc-elf.
This is not quite finished and has most likely a few files that are
obsolete & not used, but it's good enough to run gcc regression tests.
@
text
@a112 1
	$(srcdir)/arc.texi \
@


1.40
log
@	* config/alpha/alpha-linux.mt: Remove file.
	* config/alpha/alpha.mt: Remove file.
	* config/alpha/alpha-osf1.mt: Remove file.
	* config/alpha/fbsd.mt: Remove file.
	* config/alpha/nbsd.mt: Remove file.
	* config/alpha/obsd.mt: Remove file.
	* config/arm/embed.mt: Remove file.
	* config/arm/linux.mt: Remove file.
	* config/arm/nbsd.mt: Remove file.
	* config/arm/obsd.mt: Remove file.
	* config/arm/wince.mt: Remove file.
	* config/avr/avr.mt: Remove file.
	* config/cris/cris.mt: Remove file.
	* config/frv/frv.mt: Remove file.
	* config/h8300/h8300.mt: Remove file.
	* config/i386/cygwin.mt: Remove file.
	* config/i386/fbsd64.mt: Remove file.
	* config/i386/fbsd.mt: Remove file.
	* config/i386/i386gnu.mt: Remove file.
	* config/i386/i386.mt: Remove file.
	* config/i386/i386sol2.mt: Remove file.
	* config/i386/linux64.mt: Remove file.
	* config/i386/linux.mt: Remove file.
	* config/i386/mingw.mt: Remove file.
	* config/i386/nbsd64.mt: Remove file.
	* config/i386/nbsd.mt: Remove file.
	* config/i386/nto.mt: Remove file.
	* config/i386/obsd64.mt: Remove file.
	* config/i386/obsd.mt: Remove file.
	* config/i386/sol2-64.mt: Remove file.
	* config/ia64/ia64.mt: Remove file.
	* config/ia64/linux.mt: Remove file.
	* config/iq2000/iq2000.mt: Remove file.
	* config/m32c/m32c.mt: Remove file.
	* config/m32r/linux.mt: Remove file.
	* config/m32r/m32r.mt: Remove file.
	* config/m68hc11/m68hc11.mt: Remove file.
	* config/m68k/linux.mt: Remove file.
	* config/m68k/monitor.mt: Remove file.
	* config/m68k/nbsd.mt: Remove file.
	* config/m68k/obsd.mt: Remove file.
	* config/m88k/obsd.mt: Remove file.
	* config/mep/mep.mt: Remove file.
	* config/mips/embed.mt: Remove file.
	* config/mips/irix5.mt: Remove file.
	* config/mips/irix6.mt: Remove file.
	* config/mips/linux.mt: Remove file.
	* config/mips/nbsd.mt: Remove file.
	* config/mips/obsd64.mt: Remove file.
	* config/mn10300/linux.mt: Remove file.
	* config/mn10300/mn10300.mt: Remove file.
	* config/mt/mt.mt: Remove file.
	* config/pa/hppahpux.mt: Remove file.
	* config/pa/hppa.mt: Remove file.
	* config/pa/linux.mt: Remove file.
	* config/pa/obsd.mt: Remove file.
	* config/powerpc/aix.mt: Remove file.
	* config/powerpc/linux.mt: Remove file.
	* config/powerpc/nbsd.mt: Remove file.
	* config/powerpc/obsd.mt: Remove file.
	* config/powerpc/ppc-eabi.mt: Remove file.
	* config/s390/s390.mt: Remove file.
	* config/score/embed.mt: Remove file.
	* config/sh/embed.mt: Remove file.
	* config/sh/linux.mt: Remove file.
	* config/sh/nbsd.mt: Remove file.
	* config/sh/obsd.mt: Remove file.
	* config/sh/sh64.mt: Remove file.
	* config/sparc/embed.mt: Remove file.
	* config/sparc/fbsd.mt: Remove file.
	* config/sparc/linux64.mt: Remove file.
	* config/sparc/linux.mt: Remove file.
	* config/sparc/nbsd64.mt: Remove file.
	* config/sparc/nbsd.mt: Remove file.
	* config/sparc/obsd64.mt: Remove file.
	* config/sparc/obsd.mt: Remove file.
	* config/sparc/sol2-64.mt: Remove file.
	* config/sparc/sol2.mt: Remove file.
	* config/sparc/sparc64.mt: Remove file.
	* config/sparc/sparc.mt: Remove file.
	* config/spu/spu.mt: Remove file.
	* config/v850/v850.mt: Remove file.
	* config/vax/nbsd.mt: Remove file.
	* config/vax/obsd.mt: Remove file.
	* config/vax/vax.mt: Remove file.
	* config/xstormy16/xstormy16.mt: Remove file.
	* config/xtensa/xtensa.mt: Remove file.

	* configure.tgt (gdb_target_cpu): Remove.  Do not set anywhere.
	(gdb_target): Likewise.
	(gdb_target_obs): Document.  Set for every target to contents
	of TDEPFILES in former .mt makefile fragment.

	* configure.ac (TARGET_OBS): Define.
	(target_makefile_frag, gdb_target_cpu): Do not define.
	* configure: Regenerate.

	* Makefile.in (MT_FLAGS): Remove.
	(GLOBAL_CFLAGS): Update.
	(TARGET_OBS): Substitute from configure.
	(DEPFILES): Remove TDEPFILES, add TARGET_OBS.
	(@@target_makefile_frag@@): Remove.

doc/ChangeLog:

	* Makefile.in (Makefile): Do not depend on target_makefile_frag.

testsuite/ChangeLog:

	* Makefile.in (Makefile): Do not depend on target_makefile_frag.
	(target_cpu): Remove.
@
text
@d2 1
a2 1
##2007 Free Software Foundation, Inc.
@


1.39
log
@gdb/:
* Makefile.in (MAKEHTMLFLAGS): Also search the current directory
for include files.

gdb/doc/:
* Makefile.in (MAKEHTMLFLAGS): Also search the current directory
for include files.
@
text
@d492 1
a492 1
Makefile: Makefile.in $(host_makefile_frag) $(target_makefile_frag) config.status
@


1.38
log
@Add "make pdf" and "make install-pdf", from Brooks Moses
<brooks.moses@@codesourcery.com>.
@
text
@d52 3
a54 1

d56 1
a56 1
MAKEHTMLFLAGS = -menu -split_chapter
@


1.37
log
@Copyright updates for 2007.
@
text
@d27 1
d38 2
d75 3
d101 1
d161 1
a161 1
pdf: gdb.pdf gdbint.pdf stabs.pdf annotate.pdf
d207 12
d266 11
@


1.36
log
@Readline 5.1 import for HEAD.
@
text
@d1 2
a2 2
##Copyright (C) 1991, 1992, 1993, 1994, 1995, 1996, 1999, 2000, 2002, 2003
##Free Software Foundation, Inc.
@


1.35
log
@	* stabs.texinfo:
	* refcard.tex:
	* gpl.texi:
	* gdbint.texinfo:
	* gdb.texinfo:
	* gdb-cfg.texi:
	* fdl.texi:
	* annotate.texinfo:
	* all-cfg.texi:
	* Makefile.in: Add (C) after Copyright.  Update the FSF
	address.
@
text
@d104 1
a104 1
	$(READLINE_DIR)/rluser.texinfo \
@


1.34
log
@	* Makefile.in (install-info): Prepend $(DESTDIR) to $(infodir).
@
text
@d1 1
a1 1
##Copyright 1991, 1992, 1993, 1994, 1995, 1996, 1999, 2000, 2002, 2003
d19 1
a19 1
# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
@


1.33
log
@gdb/

2003-08-08  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.in (FLAGS_TO_PASS): Add DESTDIR.
	(install-only): Support DESTDIR.
	(uninstall): Likewise.
	(install-gdbtk): Likewise.

gdb/doc/

2003-08-08  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.in (install-info): Support DESTDIR.
	(install-html): Likewise.

gdb/gdbserver/

2003-08-08  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.in (install-only): Create dest dir. Support DESTDIR.
	(uninstall): Support DESTDIR.

mmalloc/

2003-08-08  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.in (install-info): Create dest dir. Support DESTDIR.
	(install): Likewise.
@
text
@d174 2
a175 2
	    echo " install-info --info-dir=$(infodir) $(DESTDIR)$(infodir)/$$file";\
	    install-info --info-dir=$(infodir) $(DESTDIR)$(infodir)/$$file || :;\
@


1.33.4.1
log
@merge mainline changes into branch
@
text
@d174 2
a175 2
	    echo " install-info --info-dir=$(DESTDIR)$(infodir) $(DESTDIR)$(infodir)/$$file";\
	    install-info --info-dir=$(DESTDIR)$(infodir) $(DESTDIR)$(infodir)/$$file || :;\
@


1.32
log
@2003-08-04  Andrew Cagney  <cagney@@redhat.com>

	* agentexpr.texi: Delete @@bye.
	* Makefile.in (STABS_DOC_SOURCE_INCLUDES): Add "fdl.texi"
	(stabs.info): Add $(srcdir) to include search path.
	(html): Depend on "annotate_toc.html", and not "annotate.html".
	* stabs.texinfo: Ditto.  Include "fdl.texi".
	* gdbint.texinfo: Update copyright statement's list of invariant
	sections.
@
text
@d159 1
a159 1
	$(SHELL) $(srcdir)/../../mkinstalldirs $(infodir)
d165 2
a166 2
	      echo " $(INSTALL_DATA) $$d/$$ifile $(infodir)/$$ifile"; \
	      $(INSTALL_DATA) $$d/$$ifile $(infodir)/$$ifile; \
d174 2
a175 2
	    echo " install-info --info-dir=$(infodir) $(infodir)/$$file";\
	    install-info --info-dir=$(infodir) $(infodir)/$$file || :;\
d197 1
a197 1
		$(INSTALL_DATA) $$i $(htmldir)/$$i ; \
@


1.31
log
@2003-07-28  Andrew Cagney  <cagney@@redhat.com>

	* Makefile.in (INFO_DEPS): Add annotate.info.
	(dvi, ps, html, pdf): Add annotate.
	(ANNOTATE_DOC_SOURCE_INCLUDES): New macro.
	(ANNOTATE_DOC_BUILD_INCLUDES): New macro.
	(ANNOTATE_DOC_FILES): New macro.
	(ANNOTATE_TEX_TMPS): New macro.
	(annotate.info, annotate_toc.html): Specify dependencies.
	(annotate.ps, annotate.pdf, annotate.dvi): Ditto.
	* annotate.texinfo: Rename annotate.texi.  Get building.  Add
	"Migrating to GDB/MI" and "Limitations of the Annotation
	Interface" chapters.  Mention why it is not part of the user
	guide.  Update copyright notice.  Include "fdl.texi".
@
text
@d127 2
a128 1
STABS_DOC_SOURCE_INCLUDES =
d153 1
a153 1
html: gdb_toc.html gdbint_toc.html stabs_toc.html annotate.html
d409 1
a409 1
	$(MAKEINFO) -o stabs.info $(srcdir)/stabs.texinfo
@


1.30
log
@	* Makefile.in (SFILES_INCLUDED): Add agentexpr.texi.
	* agentexpr.texi: Retitle section, and change it to an appendix.
	Comment out texinfo initialization.  Factor a @@var{} into two
	pieces to prevent makeinfo warnings.
	* gdb.texinfo: Add Agent Expressions appendix.
@
text
@d70 1
a70 1
INFO_DEPS = gdb.info gdbint.info stabs.info
d134 10
d150 4
a153 4
dvi: gdb.dvi gdbint.dvi stabs.dvi refcard.dvi
ps: gdb.ps gdbint.ps stabs.ps refcard.ps
html: gdb_toc.html gdbint_toc.html stabs_toc.html
pdf: gdb.pdf gdbint.pdf stabs.pdf
d433 24
d471 1
@


1.30.2.1
log
@2003-07-28  Andrew Cagney  <cagney@@redhat.com>

	* Makefile.in (INFO_DEPS): Add annotate.info.
	(dvi, ps, html, pdf): Add annotate.
	(ANNOTATE_DOC_SOURCE_INCLUDES): New macro.
	(ANNOTATE_DOC_BUILD_INCLUDES): New macro.
	(ANNOTATE_DOC_FILES): New macro.
	(ANNOTATE_TEX_TMPS): New macro.
	(annotate.info, annotate_toc.html): Specify dependencies.
	(annotate.ps, annotate.pdf, annotate.dvi): Ditto.
	* annotate.texinfo: Rename annotate.texi.  Get building.  Add
	"Migrating to GDB/MI" and "Limitations of the Annotation
	Interface" chapters.  Mention why it is not part of the user
	guide.  Update copyright notice.  Include "fdl.texi".
@
text
@d70 1
a70 1
INFO_DEPS = gdb.info gdbint.info stabs.info annotate.info
a133 10
# Annotate migration document
ANNOTATE_DOC_SOURCE_INCLUDES = \
	$(srcdir)/fdl.texi
ANNOTATE_DOC_BUILD_INCLUDES = \
	gdb-cfg.texi
ANNOTATE_DOC_FILES = \
	$(srcdir)/annotate.texinfo \
	$(ANNOTATE_DOC_SOURCE_INCLUDES) \
	$(ANNOTATE_DOC_BUILD_INCLUDES)

d140 4
a143 4
dvi: gdb.dvi gdbint.dvi stabs.dvi refcard.dvi annotate.dvi
ps: gdb.ps gdbint.ps stabs.ps refcard.ps annotate.ps
html: gdb_toc.html gdbint_toc.html stabs_toc.html annotate.html
pdf: gdb.pdf gdbint.pdf stabs.pdf annotate.pdf
a422 24
# Clean these up before each run.  Avoids a catch 22 with not being
# able to re-generate these files (to fix a corruption) because these
# files contain a corruption.
ANNOTATE_TEX_TMPS = annotate.aux annotate.cp* annotate.fn* annotate.ky* \
	annotate.log annotate.pg* annotate.toc annotate.tp* annotate.vr*

# ANNOTATE DOCUMENTATION: TeX dvi file
annotate.dvi : $(ANNOTATE_DOC_FILES)
	rm -f $(ANNOTATE_TEX_TMPS)
	$(SET_TEXINPUTS) $(TEXI2DVI) $(srcdir)/annotate.texinfo

annotate.ps: annotate.dvi
	$(DVIPS) -o $@@ $?

annotate.pdf: $(ANNOTATE_DOC_FILES)
	rm -f $(ANNOTATE_TEX_TMPS)
	$(SET_TEXINPUTS) $(TEXI2DVI) --pdf $(srcdir)/annotate.texinfo

annotate.info: $(ANNOTATE_DOC_FILES)
	$(MAKEINFO)  -I $(srcdir) -o annotate.info $(srcdir)/annotate.texinfo

annotate_toc.html: $(ANNOTATE_DOC_FILES)
	$(MAKEHTML) $(MAKEHTMLFLAGS) $(srcdir)/annotate.texinfo

a436 1
	rm -f $(ANNOTATE_TEX_TMPS)
@


1.30.2.2
log
@2003-08-04  Andrew Cagney  <cagney@@redhat.com>

	* agentexpr.texi: Delete @@bye.
	* Makefile.in (STABS_DOC_SOURCE_INCLUDES): Add "fdl.texi"
	(stabs.info): Add $(srcdir) to include search path.
	(html): Depend on "annotate_toc.html", and not "annotate.html".
	* stabs.texinfo: Ditto.  Include "fdl.texi".
	* gdbint.texinfo: Update copyright statement's list of invariant
	sections.
@
text
@d127 1
a127 2
STABS_DOC_SOURCE_INCLUDES = \
	$(srcdir)/fdl.texi
d152 1
a152 1
html: gdb_toc.html gdbint_toc.html stabs_toc.html annotate_toc.html
d408 1
a408 1
	$(MAKEINFO) -I $(srcdir) -o stabs.info $(srcdir)/stabs.texinfo
@


1.30.2.3
log
@gdb/

2003-08-08  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.in (FLAGS_TO_PASS): Add DESTDIR.
	(install-only): Support DESTDIR.
	(uninstall): Likewise.
	(install-gdbtk): Likewise.

gdb/doc/

2003-08-08  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.in (install-info): Support DESTDIR.
	(install-html): Likewise.

gdb/gdbserver/

2003-08-08  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.in (install-only): Create dest dir. Support DESTDIR.
	(uninstall): Support DESTDIR.

mmalloc/

2003-08-08  H.J. Lu  <hongjiu.lu@@intel.com>

	* Makefile.in (install-info): Create dest dir. Support DESTDIR.
	(install): Likewise.
@
text
@d159 1
a159 1
	$(SHELL) $(srcdir)/../../mkinstalldirs $(DESTDIR)$(infodir)
d165 2
a166 2
	      echo " $(INSTALL_DATA) $$d/$$ifile $(DESTDIR)$(infodir)/$$ifile"; \
	      $(INSTALL_DATA) $$d/$$ifile $(DESTDIR)$(infodir)/$$ifile; \
d174 2
a175 2
	    echo " install-info --info-dir=$(infodir) $(DESTDIR)$(infodir)/$$file";\
	    install-info --info-dir=$(infodir) $(DESTDIR)$(infodir)/$$file || :;\
d197 1
a197 1
		$(INSTALL_DATA) $$i $(DESTDIR)$(htmldir)/$$i ; \
@


1.29
log
@2003-05-10  H.J. Lu <hongjiu.lu@@intel.com>

	* Makefile.in (gdb-cfg.texi): Replace $$LN_S with $(LN_S).
	(gdb.dvi): Likewise.
	(gdb.pdf): Likewise.
	(links2roff): Likewise.
@
text
@d1 1
a1 1
##Copyright 1991, 1992, 1993, 1994, 1995, 1996, 1999, 2000, 2002
d103 1
@


1.28
log
@Index: doc/ChangeLog
2003-03-27  Andrew Cagney  <cagney@@redhat.com>

	* gdb.texinfo (GDB/MI Variable Objects): Replace @@include with
	chapter body.  Use @@smallexample instead of @@example.
	(Annotations): Ditto.
	* Makefile.in (GDB_DOC_SOURCE_INCLUDES): Remove gdbmi.texinfo and
	annotate.texi.

Index: mi/ChangeLog
2003-03-27  Andrew Cagney  <cagney@@redhat.com>

	* gdbmi.texinfo: Delete file.  Contents moved to
	../doc/gdb.texinfo.
@
text
@d248 1
a248 1
	(test "$$LN_S" = "ln -s" && \
d271 1
a271 1
		(test "$$LN_S" = "ln -s" && ln -s $(srcdir)/GDBvn.texi .) || \
d282 1
a282 1
		(test "$$LN_S" = "ln -s" && ln -s $(srcdir)/GDBvn.texi .) || \
d309 1
a309 1
		(test "$$LN_S" = "ln -s" && ln -s $(GDB_DOC_SOURCE_INCLUDES) .) || \
@


1.28.6.1
log
@2003-05-18  Mark Kettenis  <kettenis@@gnu.org>

	Merge from mainline.
	* i386-tdep.h (I386_SIZEOF_GREGS, I386_SIZEOF_FREGS,
	I386_SIZEOF_XREGS): Remove defenitions.
	(IS_FP_REGNUM, IS_SSE_REGNUM): Remove definitions.
	* i386-tdep.c (i386_gdbarch_init): Don't set register_bytes,
	register_size, call_dummy_words and sizeof_call_dummy.
	* i386-linux-tdep.c (i386_linux_init_abi): Don't set register_bytes.
	* x86-64-tdep.c (x86_64_init_abi): Don't set register_bytes and
	register_size.
	(x86_64_register_bytes): Remove variable.
	(_initialize_x86_64_tdep): Remove function.

	* i386-linux-tdep.c (i386_linux_sigcontext_addr): Call read_memory
	with correct arguments.
	* config/i386/x86-64linux.mt (TDEPFILES): Add i386-linux-tdep.o.
@
text
@d248 1
a248 1
	(test "$(LN_S)" = "ln -s" && \
d271 1
a271 1
		(test "$(LN_S)" = "ln -s" && ln -s $(srcdir)/GDBvn.texi .) || \
d282 1
a282 1
		(test "$(LN_S)" = "ln -s" && ln -s $(srcdir)/GDBvn.texi .) || \
d309 1
a309 1
		(test "$(LN_S)" = "ln -s" && ln -s $(GDB_DOC_SOURCE_INCLUDES) .) || \
@


1.27
log
@        * gdbint.texinfo (Algorithms): Add new section describing the
        Observer paradigm.
        (Top): Add menu entry to new observer appendix.
        * observer.texi: New file.
        * Makefile.in (GDBINT_DOC_SOURCE_INCLUDES): Add dependency on
        new observer.texi file.
@
text
@a100 1
	$(srcdir)/annotate.texi \
a102 1
	$(GDBMI_DIR)/gdbmi.texinfo \
@


1.27.2.1
log
@Merge with mainline.
@
text
@d101 1
d104 1
@


1.26
log
@	* Makefile.in (distclean): Remove config.log.
@
text
@d117 2
a118 1
	$(srcdir)/fdl.texi
@


1.25
log
@2002-11-26  Elena Zannoni  <ezannoni@@redhat.com>

        Fix PR gdb/723 and PR gdb/245.
	* Makefile.in (install-info): Run the install-info command as part
	of the post install steps only.
	(uninstall-info): New target.
	(uninstall): New target.
@
text
@d443 1
a443 1
	rm -f Makefile config.status
@


1.24
log
@2002-11-22  Elena Zannoni  <ezannoni@@redhat.com>

 	* Makefile.in (install): Make 'install' do some real work.
@
text
@d159 1
d168 16
d453 2
@


1.23
log
@2002-11-19  Andrew Cagney  <ac131313@@redhat.com>

	Problems reported by Paul Eggert.
	* gdbarch.sh: Use `sort -k 3`.  Fix PR gdb/527.

Index: doc/ChangeLog
2002-11-19  Andrew Cagney  <ac131313@@redhat.com>

	Fix POSIX problem reported by Paul Eggert.
	* Makefile.in (GDBvn.texi): Use `sed q' instead of `head -1'.
@
text
@d137 1
a137 1
all install:
d435 1
@


1.22
log
@2002-08-24  Andrew Cagney  <ac131313@@redhat.com>

	* Makefile.in (clean): Move to end of file.
	(distclean, maintainer-clean, realclean): Ditto.
	(mostlyclean): Move rule to end of file.  Use GDB_TEX_TMPS,
	GDBINT_TEX_TMPS, STABS_TEX_TMPS.
	(gdb.dvi, gdb.pdf): Do not cleanup TeX temp files after texi2dvi.
	(gdbint.dvi, gdbint.pdf, stabs.dvi, stabs.pdf): Ditto.
@
text
@d221 1
a221 1
	echo "@@set GDBVN `head -1 $(srcdir)/../version.in`" > ./GDBvn.new
@


1.22.8.1
log
@Merge drow-cplus-branch to:
  cvs rtag -D 2003-12-14 00:00:00 UTC drow-cplus-merge-20031214 gdb+dejagnu
@
text
@d1 1
a1 1
##Copyright 1991, 1992, 1993, 1994, 1995, 1996, 1999, 2000, 2002, 2003
d70 1
a70 1
INFO_DEPS = gdb.info gdbint.info stabs.info annotate.info
d101 1
d104 1
a104 1
	$(srcdir)/agentexpr.texi \
d117 1
a117 2
	$(srcdir)/fdl.texi \
	$(srcdir)/observer.texi
d127 1
a127 2
STABS_DOC_SOURCE_INCLUDES = \
	$(srcdir)/fdl.texi
a133 10
# Annotate migration document
ANNOTATE_DOC_SOURCE_INCLUDES = \
	$(srcdir)/fdl.texi
ANNOTATE_DOC_BUILD_INCLUDES = \
	gdb-cfg.texi
ANNOTATE_DOC_FILES = \
	$(srcdir)/annotate.texinfo \
	$(ANNOTATE_DOC_SOURCE_INCLUDES) \
	$(ANNOTATE_DOC_BUILD_INCLUDES)

d137 1
a137 1
all:
d140 4
a143 4
dvi: gdb.dvi gdbint.dvi stabs.dvi refcard.dvi annotate.dvi
ps: gdb.ps gdbint.ps stabs.ps refcard.ps annotate.ps
html: gdb_toc.html gdbint_toc.html stabs_toc.html annotate_toc.html
pdf: gdb.pdf gdbint.pdf stabs.pdf annotate.pdf
d148 1
a148 1
	$(SHELL) $(srcdir)/../../mkinstalldirs $(DESTDIR)$(infodir)
d154 2
a155 2
	      echo " $(INSTALL_DATA) $$d/$$ifile $(DESTDIR)$(infodir)/$$ifile"; \
	      $(INSTALL_DATA) $$d/$$ifile $(DESTDIR)$(infodir)/$$ifile; \
a158 1
	$(POST_INSTALL)
d162 2
a163 2
	    echo " install-info --info-dir=$(infodir) $(DESTDIR)$(infodir)/$$file";\
	    install-info --info-dir=$(infodir) $(DESTDIR)$(infodir)/$$file || :;\
a166 16
uninstall-info:
	$(PRE_UNINSTALL)
	@@if $(SHELL) -c 'install-info --version | sed 1q | fgrep -s -v -i debian' >/dev/null 2>&1; then \
	  ii=yes; \
	else ii=; fi; \
	list='$(INFO_DEPS)'; \
	for file in $$list; do \
	  test -z "$$ii" \
	    || install-info --info-dir=$(DESTDIR)$(infodir) --remove $$file; \
	done
	$(NORMAL_UNINSTALL)
	list='$(INFO_DEPS)'; \
	for file in $$list; do \
	  (cd $(DESTDIR)$(infodir) && rm -f $$file $$file-[0-9] $$file-[0-9][0-9]); \
	done

d169 1
a169 1
		$(INSTALL_DATA) $$i $(DESTDIR)$(htmldir)/$$i ; \
d221 1
a221 1
	echo "@@set GDBVN `sed q $(srcdir)/../version.in`" > ./GDBvn.new
d232 1
a232 1
	(test "$(LN_S)" = "ln -s" && \
d255 1
a255 1
		(test "$(LN_S)" = "ln -s" && ln -s $(srcdir)/GDBvn.texi .) || \
d266 1
a266 1
		(test "$(LN_S)" = "ln -s" && ln -s $(srcdir)/GDBvn.texi .) || \
d293 1
a293 1
		(test "$(LN_S)" = "ln -s" && ln -s $(GDB_DOC_SOURCE_INCLUDES) .) || \
d381 1
a381 1
	$(MAKEINFO) -I $(srcdir) -o stabs.info $(srcdir)/stabs.texinfo
a405 24
# Clean these up before each run.  Avoids a catch 22 with not being
# able to re-generate these files (to fix a corruption) because these
# files contain a corruption.
ANNOTATE_TEX_TMPS = annotate.aux annotate.cp* annotate.fn* annotate.ky* \
	annotate.log annotate.pg* annotate.toc annotate.tp* annotate.vr*

# ANNOTATE DOCUMENTATION: TeX dvi file
annotate.dvi : $(ANNOTATE_DOC_FILES)
	rm -f $(ANNOTATE_TEX_TMPS)
	$(SET_TEXINPUTS) $(TEXI2DVI) $(srcdir)/annotate.texinfo

annotate.ps: annotate.dvi
	$(DVIPS) -o $@@ $?

annotate.pdf: $(ANNOTATE_DOC_FILES)
	rm -f $(ANNOTATE_TEX_TMPS)
	$(SET_TEXINPUTS) $(TEXI2DVI) --pdf $(srcdir)/annotate.texinfo

annotate.info: $(ANNOTATE_DOC_FILES)
	$(MAKEINFO)  -I $(srcdir) -o annotate.info $(srcdir)/annotate.texinfo

annotate_toc.html: $(ANNOTATE_DOC_FILES)
	$(MAKEHTML) $(MAKEHTMLFLAGS) $(srcdir)/annotate.texinfo

a419 1
	rm -f $(ANNOTATE_TEX_TMPS)
d426 1
a426 1
	rm -f Makefile config.status config.log
a434 3
install: install-info

uninstall: uninstall-info
@


1.22.8.2
log
@Merge drow-cplus-merge-20040208 to drow-cplus-branch.
@
text
@d174 2
a175 2
	    echo " install-info --info-dir=$(DESTDIR)$(infodir) $(DESTDIR)$(infodir)/$$file";\
	    install-info --info-dir=$(DESTDIR)$(infodir) $(DESTDIR)$(infodir)/$$file || :;\
@


1.22.6.1
log
@2002-12-23  David Carlton  <carlton@@math.stanford.edu>

	* Merge from mainline; tag is carlton_dictionary-20021223-merge.
@
text
@d137 1
a137 1
all:
a158 1
	$(POST_INSTALL)
a166 16
uninstall-info:
	$(PRE_UNINSTALL)
	@@if $(SHELL) -c 'install-info --version | sed 1q | fgrep -s -v -i debian' >/dev/null 2>&1; then \
	  ii=yes; \
	else ii=; fi; \
	list='$(INFO_DEPS)'; \
	for file in $$list; do \
	  test -z "$$ii" \
	    || install-info --info-dir=$(DESTDIR)$(infodir) --remove $$file; \
	done
	$(NORMAL_UNINSTALL)
	list='$(INFO_DEPS)'; \
	for file in $$list; do \
	  (cd $(DESTDIR)$(infodir) && rm -f $$file $$file-[0-9] $$file-[0-9][0-9]); \
	done

d221 1
a221 1
	echo "@@set GDBVN `sed q $(srcdir)/../version.in`" > ./GDBvn.new
a434 3
install: install-info

uninstall: uninstall-info
@


1.22.6.2
log
@2003-03-05  David Carlton  <carlton@@math.stanford.edu>

	* Merge with mainline.  Tag is carlton_dictionary-20030305-merge.
@
text
@d443 1
a443 1
	rm -f Makefile config.status config.log
@


1.22.6.3
log
@2003-04-16  David Carlton  <carlton@@bactrian.org>

	* Merge with mainline; tag is carlton_dictionary-20030416-merge.
@
text
@d101 1
d104 1
d117 1
a117 2
	$(srcdir)/fdl.texi \
	$(srcdir)/observer.texi
@


1.22.6.4
log
@2003-05-23  David Carlton  <carlton@@bactrian.org>

	* Merge with mainline; tag is carlton_dictionary-20030523-merge.
@
text
@d248 1
a248 1
	(test "$(LN_S)" = "ln -s" && \
d271 1
a271 1
		(test "$(LN_S)" = "ln -s" && ln -s $(srcdir)/GDBvn.texi .) || \
d282 1
a282 1
		(test "$(LN_S)" = "ln -s" && ln -s $(srcdir)/GDBvn.texi .) || \
d309 1
a309 1
		(test "$(LN_S)" = "ln -s" && ln -s $(GDB_DOC_SOURCE_INCLUDES) .) || \
@


1.22.6.5
log
@2003-06-27  David Carlton  <carlton@@kealia.com>

	* Merge with mainline; tag is carlton_dictionary-20030627-merge.
@
text
@d1 1
a1 1
##Copyright 1991, 1992, 1993, 1994, 1995, 1996, 1999, 2000, 2002, 2003
a102 1
	$(srcdir)/agentexpr.texi \
@


1.22.6.6
log
@2003-08-05  David Carlton  <carlton@@kealia.com>

	* configure.in (build_warnings): Delete -Wformat-nonliteral.
	* configure (build_warnings): Ditto.

	* Merge with mainline; tag is carlton_dictionary-20030805-merge.
@
text
@d70 1
a70 1
INFO_DEPS = gdb.info gdbint.info stabs.info annotate.info
d127 1
a127 2
STABS_DOC_SOURCE_INCLUDES = \
	$(srcdir)/fdl.texi
a133 10
# Annotate migration document
ANNOTATE_DOC_SOURCE_INCLUDES = \
	$(srcdir)/fdl.texi
ANNOTATE_DOC_BUILD_INCLUDES = \
	gdb-cfg.texi
ANNOTATE_DOC_FILES = \
	$(srcdir)/annotate.texinfo \
	$(ANNOTATE_DOC_SOURCE_INCLUDES) \
	$(ANNOTATE_DOC_BUILD_INCLUDES)

d140 4
a143 4
dvi: gdb.dvi gdbint.dvi stabs.dvi refcard.dvi annotate.dvi
ps: gdb.ps gdbint.ps stabs.ps refcard.ps annotate.ps
html: gdb_toc.html gdbint_toc.html stabs_toc.html annotate_toc.html
pdf: gdb.pdf gdbint.pdf stabs.pdf annotate.pdf
d398 1
a398 1
	$(MAKEINFO) -I $(srcdir) -o stabs.info $(srcdir)/stabs.texinfo
a422 24
# Clean these up before each run.  Avoids a catch 22 with not being
# able to re-generate these files (to fix a corruption) because these
# files contain a corruption.
ANNOTATE_TEX_TMPS = annotate.aux annotate.cp* annotate.fn* annotate.ky* \
	annotate.log annotate.pg* annotate.toc annotate.tp* annotate.vr*

# ANNOTATE DOCUMENTATION: TeX dvi file
annotate.dvi : $(ANNOTATE_DOC_FILES)
	rm -f $(ANNOTATE_TEX_TMPS)
	$(SET_TEXINPUTS) $(TEXI2DVI) $(srcdir)/annotate.texinfo

annotate.ps: annotate.dvi
	$(DVIPS) -o $@@ $?

annotate.pdf: $(ANNOTATE_DOC_FILES)
	rm -f $(ANNOTATE_TEX_TMPS)
	$(SET_TEXINPUTS) $(TEXI2DVI) --pdf $(srcdir)/annotate.texinfo

annotate.info: $(ANNOTATE_DOC_FILES)
	$(MAKEINFO)  -I $(srcdir) -o annotate.info $(srcdir)/annotate.texinfo

annotate_toc.html: $(ANNOTATE_DOC_FILES)
	$(MAKEHTML) $(MAKEHTMLFLAGS) $(srcdir)/annotate.texinfo

a436 1
	rm -f $(ANNOTATE_TEX_TMPS)
@


1.22.6.7
log
@2003-09-17  David Carlton  <carlton@@kealia.com>

	* Merge with mainline; tag is carlton_dictionary-20030917-merge.
@
text
@d159 1
a159 1
	$(SHELL) $(srcdir)/../../mkinstalldirs $(DESTDIR)$(infodir)
d165 2
a166 2
	      echo " $(INSTALL_DATA) $$d/$$ifile $(DESTDIR)$(infodir)/$$ifile"; \
	      $(INSTALL_DATA) $$d/$$ifile $(DESTDIR)$(infodir)/$$ifile; \
d174 2
a175 2
	    echo " install-info --info-dir=$(infodir) $(DESTDIR)$(infodir)/$$file";\
	    install-info --info-dir=$(infodir) $(DESTDIR)$(infodir)/$$file || :;\
d197 1
a197 1
		$(INSTALL_DATA) $$i $(DESTDIR)$(htmldir)/$$i ; \
@


1.22.6.8
log
@2004-01-26  David Carlton  <carlton@@kealia.com>

	* Merge with mainline; tag is carlton_dictionary-20040126-merge.
@
text
@d174 2
a175 2
	    echo " install-info --info-dir=$(DESTDIR)$(infodir) $(DESTDIR)$(infodir)/$$file";\
	    install-info --info-dir=$(DESTDIR)$(infodir) $(DESTDIR)$(infodir)/$$file || :;\
@


1.22.4.1
log
@2002-11-19  Andrew Cagney  <ac131313@@redhat.com>

	Problems reported by Paul Eggert.
	* gdbarch.sh: Use `sort -k 3`.

Index: doc/ChangeLog
2002-11-19  Andrew Cagney  <ac131313@@redhat.com>

	Fix POSIX problem reported by Paul Eggert.
	* Makefile.in (GDBvn.texi): Use `sed q' instead of `head -1'.
@
text
@d221 1
a221 1
	echo "@@set GDBVN `sed q $(srcdir)/../version.in`" > ./GDBvn.new
@


1.22.4.2
log
@2002-11-26  Elena Zannoni  <ezannoni@@redhat.com>

	Fix PR gdb/723 and PR gdb/245.
	* Makefile.in (install-info): Run the install-info command as part
	of the post install steps only.
	(uninstall-info): New target.
	(uninstall): New target.
	(install): Make install do some real work.
@
text
@d137 1
a137 1
all:
a158 1
	$(POST_INSTALL)
a166 16
uninstall-info:
	$(PRE_UNINSTALL)
	@@if $(SHELL) -c 'install-info --version | sed 1q | fgrep -s -v -i debian' >/dev/null 2>&1; then \
	  ii=yes; \
	else ii=; fi; \
	list='$(INFO_DEPS)'; \
	for file in $$list; do \
	  test -z "$$ii" \
	    || install-info --info-dir=$(DESTDIR)$(infodir) --remove $$file; \
	done
	$(NORMAL_UNINSTALL)
	list='$(INFO_DEPS)'; \
	for file in $$list; do \
	  (cd $(DESTDIR)$(infodir) && rm -f $$file $$file-[0-9] $$file-[0-9][0-9]); \
	done

a434 3
install: install-info

uninstall: uninstall-info
@


1.21
log
@2002-08-24  Andrew Cagney  <ac131313@@redhat.com>

	* Makefile.in (GDBINT_TEX_TMPS): Define.
	(gdbint.dvi, gdbint.pdf): Use
	(GDB_TEX_TMPS): Define.
	(gdb.dvi, gdb.pdf): Use.
	(STABS_TEX_TMPS): Define.
	(stabs.dvi, stabs.pdf): Use.
	(GDB_DOC_SOURCE_INCLUDES): New macros.
	(GDB_DOC_BUILD_INCLUDES, GDB_DOC_FILES): New macros.
	(GDBINT_DOC_FILES_INCLUDES): New macros.
	(GDBINT_DOC_BUILD_INCLUDES): New macros.
	(GDBINT_DOC_FILES, STABS_DOC_SOURCE_INCLUDES): New macros.
	(STABS_DOC_BUILD_INCLUDES, STABS_DOC_FILES): New macros.
	(SFILES_DOC, SFILES_INCLUDED, SFILES_LOCAL): Delete macros.
	(links2roff): Replace SFILES_INCLUDED with
	GDB_DOC_SOURCE_INCLUDES.
	(gdb.dvi, gdb_toc.html, gdb.pdf, gdb.info): Update dependencies.
	(gdb.me, gdb.mm, gdb.ms): Update dependencies.
	(gdbint.dvi, gdbint_toc.html, gdbint.pdf, gdbint.info): Update
	dependencies.
	(stabs.info, stabs_toc.html, stabs.pdf, stabs.dvi): Update
	dependencies.
	(gdbmi.texinfo): Delete rule.
	(inc-hist.texinfo): Delete rule.
	(rluser.texinfo): Delete rule.
@
text
@a203 21
# The "least clean" level of cleaning.  Get rid of files which are
# automatically generated files that are just intermediate files,
# 
mostlyclean:
	rm -f gdb.mm gdb.ms gdb.me links2roff
	rm -f *.aux *.cp* *.fn* *.ky* *.log *.pg* *.toc *.tp* *.vr*
	rm -f sedref.dvi sedref.tex tmp.sed

clean: mostlyclean
	rm -f gdb-cfg.texi

distclean: clean
	rm -f Makefile config.status

# GDBvn.texi, the dvi files, the info files, and the postscript files, 
# are all part of the distribution, so it should not be removed by
# "clean" or "distclean".  Use maintainer-clean to remove them.

maintainer-clean realclean: distclean
	rm -f GDBvn.texi *.info* *.dvi *.ps *.html *.pdf

d246 3
a259 1
	rm -f $(GDB_TEX_TMPS)
a270 1
	rm -f $(GDB_TEX_TMPS)
d352 3
a361 1
	rm -f $(GDBINT_TEX_TMPS)
a368 1
	rm -f $(GDBINT_TEX_TMPS)
d388 3
a397 1
	rm -f $(STABS_TEX_TMPS)
a404 1
	rm -f $(STABS_TEX_TMPS)
d410 25
@


1.20
log
@* Makefile.in (gdb.info): Add explicit path to gdb.texinfo.
Remove reference to 3.12.
@
text
@d99 2
a100 2
# Main GDB manual's source files
SFILES_INCLUDED = gdb-cfg.texi \
d103 30
a132 6
	$(srcdir)/gpl.texi

SFILES_LOCAL = $(srcdir)/gdb.texinfo GDBvn.texi $(SFILES_INCLUDED)

SFILES_DOC = $(SFILES_LOCAL) $(GDBMI_DIR)/gdbmi.texinfo \
                $(READLINE_DIR)/rluser.texinfo $(READLINE_DIR)/inc-hist.texinfo
d213 1
a213 1
	rm -f rluser.texinfo inc-hist.texinfo gdb-cfg.texi
d267 3
d271 1
a271 1
gdb.dvi: ${SFILES_DOC}
d276 1
d278 1
a278 2
	rm -f gdb.aux gdb.cp* gdb.fn* gdb.ky* gdb.log gdb.pg* gdb.toc \
		gdb.tp* gdb.vr*
d283 1
a283 1
gdb.pdf: ${SFILES_DOC}
d288 1
d290 1
a290 2
	rm -f gdb.aux gdb.cp* gdb.fn* gdb.ky* gdb.log gdb.pg* gdb.toc \
		gdb.tp* gdb.vr*
d293 1
a293 1
gdb.info: ${SFILES_DOC}
d311 1
a311 1
links2roff: $(SFILES_INCLUDED)
d313 3
a315 3
		(test "$$LN_S" = "ln -s" && ln -s $(SFILES_INCLUDED) .) || \
		ln $(SFILES_INCLUDED)    . || \
		cp $(SFILES_INCLUDED)    . ; \
a318 21
#  "Readline" appendices.  Get them also due to lack of includes, 
# regardless of whether or not configuring in main sourcedir.
# @@ftable removed due to bug in texi2roff-2; if your texi2roff
# is newer, try just ln or cp
rluser.texinfo: ${READLINE_DIR}/rluser.texinfo
		sed -e 's/^@@ftable/@@table/g' \
		-e 's/^@@end ftable/@@end table/g' \
		${READLINE_DIR}/rluser.texinfo > ./rluser.texinfo

inc-hist.texinfo: ${READLINE_DIR}/inc-hist.texinfo
	(test "$$LN_S" = "ln -s" && \
	 ln -s ${READLINE_DIR}/inc-hist.texinfo .) || \
	ln ${READLINE_DIR}/inc-hist.texinfo . || \
	cp ${READLINE_DIR}/inc-hist.texinfo .

gdbmi.texinfo: ${GDBMI_DIR}/gdbmi.texinfo
	(test "$$LN_S" = "ln -s" && \
	 ln -s ${GDBMI_DIR}/gdbmi.texinfo .) || \
	ln ${GDBMI_DIR}/gdbmi.texinfo . || \
	cp ${GDBMI_DIR}/gdbmi.texinfo .

d320 1
a320 1
gdb.me: $(SFILES_LOCAL) links2roff rluser.texinfo inc-hist.texinfo gdbmi.texinfo
d335 1
a335 1
gdb.ms: $(SFILES_LOCAL) links2roff rluser.texinfo inc-hist.texinfo gdbmi.texinfo
d352 1
a352 1
gdb.mm: $(SFILES_LOCAL) links2roff rluser.texinfo inc-hist.texinfo gdbmi.texinfo
d369 1
a369 1
gdb_toc.html: ${SFILES_DOC}
d372 3
d376 2
a377 1
gdbint.dvi: gdbint.texinfo gdb-cfg.texi fdl.texi
d379 1
a379 2
	rm -f gdbint.aux gdbint.cp* gdbint.fn* gdbint.ky* \
		gdbint.log gdbint.pg* gdbint.toc gdbint.tp* gdbint.vr*
d384 2
a385 1
gdbint.pdf: gdbint.texinfo gdb-cfg.texi fdl.texi
d387 1
a387 2
	rm -f gdbint.aux gdbint.cp* gdbint.fn* gdbint.ky* \
		gdbint.log gdbint.pg* gdbint.toc gdbint.tp* gdbint.vr*
d391 1
a391 1
gdbint.info: gdbint.texinfo fdl.texi
d396 1
a396 1
gdbint_toc.html: gdbint.texinfo gdb-cfg.texi fdl.texi
d399 1
a399 1
stabs.info: stabs.texinfo
d404 1
a404 1
stabs_toc.html: stabs.texinfo
d407 3
d411 2
a412 1
stabs.dvi : stabs.texinfo
d414 1
a414 2
	rm -f stabs.aux stabs.cp* stabs.fn* stabs.ky* \
		stabs.log stabs.pg* stabs.toc stabs.tp* stabs.vr*
d419 2
a420 1
stabs.pdf: stabs.dvi
d422 1
a422 2
	rm -f stabs.aux stabs.cp* stabs.fn* stabs.ky* \
		stabs.log stabs.pg* stabs.toc stabs.tp* stabs.vr*
@


1.20.8.1
log
@Merge with kseitz_interps-20020829-merge tag from trunk.
@
text
@d99 2
a100 2
# Main GDB manual
GDB_DOC_SOURCE_INCLUDES = \
d103 6
a108 30
	$(srcdir)/gpl.texi \
	$(GDBMI_DIR)/gdbmi.texinfo \
	$(READLINE_DIR)/rluser.texinfo \
	$(READLINE_DIR)/inc-hist.texinfo
GDB_DOC_BUILD_INCLUDES = \
	gdb-cfg.texi \
	GDBvn.texi
GDB_DOC_FILES = \
	$(srcdir)/gdb.texinfo \
	$(GDB_DOC_SOURCE_INCLUDES) \
	$(GDB_DOC_BUILD_INCLUDES)

# Internals Manual
GDBINT_DOC_SOURCE_INCLUDES = \
	$(srcdir)/fdl.texi
GDBINT_DOC_BUILD_INCLUDES = \
	gdb-cfg.texi \
	GDBvn.texi
GDBINT_DOC_FILES = \
	$(srcdir)/gdbint.texinfo \
	$(GDBINT_DOC_SOURCE_INCLUDES) \
	$(GDBINT_DOC_BUILD_INCLUDES)

# Stabs manual: All files
STABS_DOC_SOURCE_INCLUDES =
STABS_DOC_BUILD_INCLUDES =
STABS_DOC_FILES = \
	$(srcdir)/stabs.texinfo \
	$(STABS_DOC_SOURCE_INCLUDES) \
	$(STABS_DOC_BUILD_INCLUDES)
d180 21
a242 6
# Clean these up before each run.  Avoids a catch 22 with not being
# able to re-generate these files (to fix a corruption) because these
# files contain a corruption.
GDB_TEX_TMPS = gdb.aux gdb.cp* gdb.fn* gdb.ky* gdb.log gdb.pg* gdb.toc \
	gdb.tp* gdb.vr*

d244 1
a244 1
gdb.dvi: ${GDB_DOC_FILES}
a248 1
	rm -f $(GDB_TEX_TMPS)
d250 2
d256 1
a256 1
gdb.pdf: ${GDB_DOC_FILES}
a260 1
	rm -f $(GDB_TEX_TMPS)
d262 2
d266 1
a266 1
gdb.info: ${GDB_DOC_FILES}
d284 1
a284 1
links2roff: $(GDB_DOC_SOURCE_INCLUDES)
d286 3
a288 3
		(test "$$LN_S" = "ln -s" && ln -s $(GDB_DOC_SOURCE_INCLUDES) .) || \
		ln $(GDB_DOC_SOURCE_INCLUDES)    . || \
		cp $(GDB_DOC_SOURCE_INCLUDES)    . ; \
d292 21
d314 1
a314 1
gdb.me: $(GDB_DOC_FILES) links2roff
d329 1
a329 1
gdb.ms: $(GDB_DOC_FILES) links2roff
d346 1
a346 1
gdb.mm: $(GDB_DOC_FILES) links2roff
d363 1
a363 1
gdb_toc.html: ${GDB_DOC_FILES}
a365 6
# Clean these up before each run.  Avoids a catch 22 with not being
# able to re-generate these files (to fix a corruption) because these
# files contain a corruption.
GDBINT_TEX_TMPS = gdbint.aux gdbint.cp* gdbint.fn* gdbint.ky* \
	gdbint.log gdbint.pg* gdbint.toc gdbint.tp* gdbint.vr*

d367 1
a367 2
gdbint.dvi: $(GDBINT_DOC_FILES)
	rm -f $(GDBINT_TEX_TMPS)
d369 2
d375 1
a375 2
gdbint.pdf: $(GDBINT_DOC_FILES)
	rm -f $(GDBINT_TEX_TMPS)
d377 2
d382 1
a382 1
gdbint.info: $(GDBINT_DOC_FILES)
d387 1
a387 1
gdbint_toc.html: $(GDBINT_DOC_FILES)
d390 1
a390 1
stabs.info: $(STABS_DOC_FILES)
d395 1
a395 1
stabs_toc.html: $(STABS_DOC_FILES)
a397 6
# Clean these up before each run.  Avoids a catch 22 with not being
# able to re-generate these files (to fix a corruption) because these
# files contain a corruption.
STABS_TEX_TMPS = stabs.aux stabs.cp* stabs.fn* stabs.ky* \
	stabs.log stabs.pg* stabs.toc stabs.tp* stabs.vr*

d399 1
a399 2
stabs.dvi : $(STABS_DOC_FILES)
	rm -f $(STABS_TEX_TMPS)
d401 2
d407 1
a407 2
stabs.pdf: $(STABS_DOC_FILES)
	rm -f $(STABS_TEX_TMPS)
d409 2
a415 25


# The "least clean" level of cleaning.  Get rid of files which are
# automatically generated files that are just intermediate files,

mostlyclean:
	rm -f gdb.mm gdb.ms gdb.me links2roff
	rm -f $(GDB_TEX_TMPS)
	rm -f $(GDBINT_TEX_TMPS)
	rm -f $(STABS_TEX_TMPS)
	rm -f sedref.dvi sedref.tex tmp.sed

clean: mostlyclean
	rm -f gdb-cfg.texi

distclean: clean
	rm -f Makefile config.status

# GDBvn.texi, the dvi files, the info files, and the postscript files, 
# are all part of the distribution, so it should not be removed by
# "clean" or "distclean".  Use maintainer-clean to remove them.

maintainer-clean realclean: distclean
	rm -f GDBvn.texi *.info* *.dvi *.ps *.html *.pdf

@


1.19
log
@* gdbint.texinfo: Include fdl.texi.
(Top): Add GNU Free Documentation License.
* Makefile.in (SFILES_INCLUDED): Add gpl.texi.
(gdbint.dvi, gdbint.pdf, gdbint.info): Add dependency on fdl.texi.
(gdbint_toc.html): Add dependency on gdb-cfg.texi and fdl.texi.
(gdbint.info): Add srcdir to include path.
* gdb.texinfo: Include gpl.texi.
(Top): Add Copying.
* gpl.texi: New file.
@
text
@a265 2
# We're using texinfo 3.12; older makeinfo's may not be able to
# cope with all the markup.  
d267 2
a268 1
	$(MAKEINFO) -I ${READLINE_DIR} -I ${GDBMI_DIR} -I $(srcdir) -o ./gdb.info gdb.texinfo
@


1.18
log
@Use texi2dvi instead of TEX/TEXINDEX.
@
text
@d100 4
a103 1
SFILES_INCLUDED = gdb-cfg.texi $(srcdir)/annotate.texi $(srcdir)/fdl.texi
d368 1
a368 1
gdbint.dvi: gdbint.texinfo gdb-cfg.texi
d376 1
a376 1
gdbint.pdf: gdbint.dvi gdb-cfg.texi
d383 2
a384 2
gdbint.info: gdbint.texinfo
	$(MAKEINFO) -o gdbint.info $(srcdir)/gdbint.texinfo
d388 1
a388 1
gdbint_toc.html: gdbint.texinfo
@


1.17
log
@	* gdb.texinfo: @@include fdl.texi.  Fixes for overfull hboxes and
	for monstrous @@multitable (from Brian Youmans).

	* fdl.texi: New file.

	* Makefile.in (SFILES_INCLUDED): Add fdl.texi.
@
text
@d1 1
a1 1
##Copyright 1991, 1992, 1993, 1994, 1995, 1996, 1999, 2000
d56 3
a95 3
# auxiliary program for sorting Texinfo indices
TEXINDEX = texindex

a98 3
# Program to generate PDF files from tex files.
PDFTEX = pdftex

d246 1
a246 4
	$(SET_TEXINPUTS) $(TEX) gdb.texinfo
	$(SET_TEXINPUTS) $(TEX) gdb.texinfo
	$(TEXINDEX) gdb.??
	$(SET_TEXINPUTS) $(TEX) gdb.texinfo
d258 1
a258 4
	$(SET_TEXINPUTS) $(PDFTEX) gdb.texinfo
	$(SET_TEXINPUTS) $(PDFTEX) gdb.texinfo
	$(TEXINDEX) gdb.??
	$(SET_TEXINPUTS) $(PDFTEX) gdb.texinfo
d365 2
a366 4
gdbint.dvi : gdbint.texinfo
	$(SET_TEXINPUTS) $(TEX) gdbint.texinfo
	$(TEXINDEX) gdbint.??
	$(SET_TEXINPUTS) $(TEX) gdbint.texinfo
d373 2
a374 4
gdbint.pdf: gdbint.dvi
	$(SET_TEXINPUTS) $(PDFTEX) gdbint.texinfo
	$(TEXINDEX) gdbint.??
	$(SET_TEXINPUTS) $(PDFTEX) gdbint.texinfo
d398 1
a398 3
	$(SET_TEXINPUTS) $(TEX) stabs.texinfo
	$(TEXINDEX) stabs.??
	$(SET_TEXINPUTS) $(TEX) stabs.texinfo
d406 1
a406 3
	$(SET_TEXINPUTS) $(PDFTEX) stabs.texinfo
	$(TEXINDEX) stabs.??
	$(SET_TEXINPUTS) $(PDFTEX) stabs.texinfo
@


1.16
log
@* Makefile.in (MAKEHTMLFLAGS): Remove -glossary; the most recent
version of texi2html (1.64) doesn't support this flag any more.
@
text
@d103 1
a103 1
SFILES_INCLUDED = gdb-cfg.texi $(srcdir)/annotate.texi
@


1.15
log
@Makefile.in (gdbgui.dvi, gdb-gui, gdbgui.info): Targets deleted.
@
text
@d51 1
a51 1
MAKEHTMLFLAGS = -glossary -menu -split_chapter
@


1.15.2.1
log
@Add fdl.info.  Include.
@
text
@d103 1
a103 1
SFILES_INCLUDED = gdb-cfg.texi $(srcdir)/annotate.texi $(srcdir)/fdl.texi
@


1.14
log
@* Makefile.in (refcard.dvi): Rewrite to avoid problems with empty
`test` expressions on bash.  Problem reported by Colin Walters.
@
text
@a372 14
# GDB GUI MANUAL: TeX dvi file
gdbgui.dvi : gdbgui.texinfo ${SFILES_DOC}
	$(SET_TEXINPUTS) $(TEX) gdbgui.texinfo
	$(TEXINDEX) gdbgui.??
	$(SET_TEXINPUTS) $(TEX) gdbgui.texinfo
	rm -f gdbgui.aux gdbgui.cp* gdbgui.fn* gdbgui.ky* \
		gdbgui.log gdbgui.pg* gdbgui.toc gdbgui.tp* gdbgui.vr*

# GDB GUI MANUAL: info file
gdb-gui: gdbgui.info

gdbgui.info: gdbgui.texinfo ${SFILES_DOC}
	$(MAKEINFO) -o gdbgui.info $(srcdir)/gdbgui.texinfo

@


1.13
log
@* Makefile.in (GDBvn.texi): Set GDBVN from ../version.in.
@
text
@d203 6
a208 8
	if [ -z "$(REFEDITS)" ]; then \
		cp $(srcdir)/refcard.tex sedref.tex ; \
	else \
		echo > tmp.sed ; \
		for f in $(REFEDITS) ; do \
			cat $(srcdir)/$$f >>tmp.sed ; done ; \
		sed -f tmp.sed $(srcdir)/refcard.tex >sedref.tex ; \
	fi
@


1.12
log
@Update/correct copyright notices.
@
text
@d218 3
a220 3
# File to record current GDB version number (copied from main dir Makefile.in)
GDBvn.texi : ${gdbdir}/Makefile.in
	echo "@@set GDBVN `sed <$(srcdir)/../Makefile.in -n 's/^VERSION *= *//p'`" > ./GDBvn.new
@


1.11
log
@	* Makefile.in (install-info): Find files to install in either the build
	or source directories (adapted from Makefile.am).
	(From Chris Faylor.)
@
text
@d1 2
a2 1
##Copyright (C) 1991, 1992, 1999 Free Software Foundation, Inc.
@


1.10
log
@	* Makefile.in (install-info): Support installation from outside of
        the source directory.  Reported by Mark Harig
        <markh@@frazier.landmark.com>.
@
text
@d65 3
d114 1
a114 1
info: gdb.info gdbint.info stabs.info
d122 1
a122 1
install-info: info
d124 10
a133 4
	(cd $(srcdir); \
	for i in *.info* ; do \
		$(INSTALL_DATA) $$i $(infodir)/$$i ; \
	done)
d135 1
a135 1
	  list='gdb.info gdbint.info stabs.info'; \
@


1.9
log
@Import texinfo.tex from texinfo-4.0.
Add support for ``make pdf'' to the gdb/doc directory using pdftex.
@
text
@d121 1
d124 1
a124 1
	done
@


1.8
log
@Remove quotes from arround for loop arg.
@
text
@d95 3
d115 2
a116 1
all-doc: info dvi ps
d137 1
a137 1
STAGESTUFF = *.info* gdb-all.texi GDBvn.texi *.ps *.dvi
d188 1
a188 1
	rm -f GDBvn.texi *.info* *.dvi *.ps *.html
d250 12
d389 7
d424 7
@


1.7
log
@	* mmalloc/Makefile.in (install-info): Make sure $(infodir) exists.
	Run install-info program on the installed Info files.
	* gdb/doc/Makefile.in (install-info): Run install-info on installed
	Info files.
@
text
@d192 1
a192 1
		for f in "$(REFEDITS)" ; do \
@


1.6
log
@	* Makefile.in (GDBMI_DIR): New variable.
	(SET_TEXINPUTS): Add $(GDBMI_DIR).
	(SFILES_DOC): Add $(GDBMI_DIR)/gdbmi.texinfo.
	(gdbmi.texinfo): New target, for texi2roff.
	(gdb.me, gdb.ms, gdb.mm): Depend on gdbmi.texinfo.
	(gdb.info, gdb_toc.html): Add "-I ${GDBMI_DIR}".

	* gdb.texinfo (Top): Add GDB/MI to the main menu and @@include
	gdbmi.texinfo.
	(Mode Options): Add xref to GDB/MI docs and remove a FIXME
	comment.

	* gdbmi.texinfo: Lots of changes, to include this document as part
	of the GDB manual.

	* TODO, NEWS: Update due to inclusion of gdbmi.texinfo in the GDB
	manual.
@
text
@d120 7
@


1.5
log
@	* Makefile.in (LN_S): Define.
	(gdb-cfg.texi, gdb.dvi, links2roff, inc-hist.texinfo): Don't
	invoke "ln -s" unless it is known to work.

	* configure.in (AC_PROG_LN_S): Add.
@
text
@d59 5
a63 1
SET_TEXINPUTS = TEXINPUTS=${TEXIDIR}:.:$(srcdir):$(READLINE_DIR):$$TEXINPUTS
d100 1
a100 1
SFILES_DOC = $(SFILES_LOCAL) \
d240 1
a240 1
# We're using texinfo2, and older makeinfo's may not be able to
d243 1
a243 1
	$(MAKEINFO) -I ${READLINE_DIR} -I $(srcdir) -o ./gdb.info gdb.texinfo
d282 6
d289 1
a289 1
gdb.me: $(SFILES_LOCAL) links2roff rluser.texinfo inc-hist.texinfo
d304 1
a304 1
gdb.ms: $(SFILES_LOCAL) links2roff rluser.texinfo inc-hist.texinfo
d321 1
a321 1
gdb.mm: $(SFILES_LOCAL) links2roff rluser.texinfo inc-hist.texinfo
d339 1
a339 1
	$(MAKEHTML) $(MAKEHTMLFLAGS) -I ${READLINE_DIR} -I $(srcdir) $(srcdir)/gdb.texinfo
@


1.4
log
@	* gdb.texinfo: Update dates, bump to Eighth Edition (note
	expectation of additional changes before release), update
	ISBN, add copy of top-level menu for @@ifhtml, remove explicit
	node links, rephrase and/or shorten lines to fix formatting
	problem in both regular and @@smallbook formats.
	* annotate.texi: Shorten lines in example, use smallexample
	consistently everywhere.
	* Makefile.in: Add comment about texinfo 4.0 html generation.
	(SFILES_INCLUDED): Add annotate.texi.
@
text
@d30 2
d205 2
a206 1
	ln -s ${srcdir}/${DOC_CONFIG}-cfg.texi gdb-cfg.texi || \
d222 1
a222 1
		ln -s $(srcdir)/GDBvn.texi . || \
d257 1
a257 1
		ln -s $(SFILES_INCLUDED) . || \
d273 2
a274 1
	ln -s ${READLINE_DIR}/inc-hist.texinfo . || \
@


1.4.2.1
log
@	* Makefile.in (LN_S): Define.
	(gdb-cfg.texi, gdb.dvi, links2roff, inc-hist.texinfo): Don't
	invoke "ln -s" unless it is known to work.

	* configure.in (AC_PROG_LN_S): Add.
@
text
@a29 2
LN_S = @@LN_S@@

d203 1
a203 2
	(test "$$LN_S" = "ln -s" && \
	  ln -s ${srcdir}/${DOC_CONFIG}-cfg.texi gdb-cfg.texi) || \
d219 1
a219 1
		(test "$$LN_S" = "ln -s" && ln -s $(srcdir)/GDBvn.texi .) || \
d254 1
a254 1
		(test "$$LN_S" = "ln -s" && ln -s $(SFILES_INCLUDED) .) || \
d270 1
a270 2
	(test "$$LN_S" = "ln -s" && \
	 ln -s ${READLINE_DIR}/inc-hist.texinfo .) || \
@


1.4.2.2
log
@	* Makefile.in (GDBMI_DIR): New variable.
	(SET_TEXINPUTS): Add $(GDBMI_DIR).
	(SFILES_DOC): Add $(GDBMI_DIR)/gdbmi.texinfo.
	(gdbmi.texinfo): New target, for texi2roff.
	(gdb.me, gdb.ms, gdb.mm): Depend on gdbmi.texinfo.
	(gdb.info, gdb_toc.html): Add "-I ${GDBMI_DIR}".

	* gdb.texinfo (Top): Add GDB/MI to the main menu and @@include
	gdbmi.texinfo.
	(Mode Options): Add xref to GDB/MI docs and remove a FIXME
	comment.

	* gdbmi.texinfo: Lots of changes, to include this document as part
	of the GDB manual.

	* TODO, NEWS: Update due to inclusion of gdbmi.texinfo in the GDB
	manual.
@
text
@d59 1
a59 5
# The GDB/MI docs come from a sibling directory ../mi
GDBMI_DIR = ${gdbdir}/mi

SET_TEXINPUTS = \
   TEXINPUTS=${TEXIDIR}:.:$(srcdir):$(READLINE_DIR):$(GDBMI_DIR):$$TEXINPUTS
d96 1
a96 1
SFILES_DOC = $(SFILES_LOCAL) $(GDBMI_DIR)/gdbmi.texinfo \
d236 1
a236 1
# We're using texinfo 3.12; older makeinfo's may not be able to
d239 1
a239 1
	$(MAKEINFO) -I ${READLINE_DIR} -I ${GDBMI_DIR} -I $(srcdir) -o ./gdb.info gdb.texinfo
a277 6
gdbmi.texinfo: ${GDBMI_DIR}/gdbmi.texinfo
	(test "$$LN_S" = "ln -s" && \
	 ln -s ${GDBMI_DIR}/gdbmi.texinfo .) || \
	ln ${GDBMI_DIR}/gdbmi.texinfo . || \
	cp ${GDBMI_DIR}/gdbmi.texinfo .

d279 1
a279 1
gdb.me: $(SFILES_LOCAL) links2roff rluser.texinfo inc-hist.texinfo gdbmi.texinfo
d294 1
a294 1
gdb.ms: $(SFILES_LOCAL) links2roff rluser.texinfo inc-hist.texinfo gdbmi.texinfo
d311 1
a311 1
gdb.mm: $(SFILES_LOCAL) links2roff rluser.texinfo inc-hist.texinfo gdbmi.texinfo
d329 1
a329 1
	$(MAKEHTML) $(MAKEHTMLFLAGS) -I ${READLINE_DIR} -I ${GDBMI_DIR} -I $(srcdir) $(srcdir)/gdb.texinfo
@


1.4.2.3
log
@	* mmalloc/Makefile.in (install-info): Make sure $(infodir) exists.
	Run install-info program on the installed Info files.
	* gdb/doc/Makefile.in (install-info): Run install-info on installed
	Info files.
@
text
@a119 7
	@@if $(SHELL) -c 'install-info --version | sed 1q | fgrep -s -v -i debian' >/dev/null 2>&1; then \
	  list='gdb.info gdbint.info stabs.info'; \
	  for file in $$list; do \
	    echo " install-info --info-dir=$(infodir) $(infodir)/$$file";\
	    install-info --info-dir=$(infodir) $(infodir)/$$file || :;\
	  done; \
	else : ; fi
@


1.4.2.4
log
@Remove quotes from argument to for loop.
@
text
@d192 1
a192 1
		for f in $(REFEDITS) ; do \
@


1.4.2.5
log
@Upgrade texinfo.tex to the file distributed with texinfo-4.0. Add
support for the target ``pdf'' to the gdb/doc directory.
@
text
@a94 3
# Program to generate PDF files from tex files.
PDFTEX = pdftex

d112 1
a112 2
pdf: gdb.pdf gdbint.pdf stabs.pdf
all-doc: info dvi ps # pdf
d133 1
a133 1
STAGESTUFF = *.info* gdb-all.texi GDBvn.texi *.ps *.dvi *.pdf
d184 1
a184 1
	rm -f GDBvn.texi *.info* *.dvi *.ps *.html *.pdf
a245 12
gdb.pdf: ${SFILES_DOC}
	if [ ! -f ./GDBvn.texi ]; then \
		(test "$$LN_S" = "ln -s" && ln -s $(srcdir)/GDBvn.texi .) || \
		ln $(srcdir)/GDBvn.texi . || \
		cp $(srcdir)/GDBvn.texi . ; else true; fi
	$(SET_TEXINPUTS) $(PDFTEX) gdb.texinfo
	$(SET_TEXINPUTS) $(PDFTEX) gdb.texinfo
	$(TEXINDEX) gdb.??
	$(SET_TEXINPUTS) $(PDFTEX) gdb.texinfo
	rm -f gdb.aux gdb.cp* gdb.fn* gdb.ky* gdb.log gdb.pg* gdb.toc \
		gdb.tp* gdb.vr*

a372 7
gdbint.pdf: gdbint.dvi
	$(SET_TEXINPUTS) $(PDFTEX) gdbint.texinfo
	$(TEXINDEX) gdbint.??
	$(SET_TEXINPUTS) $(PDFTEX) gdbint.texinfo
	rm -f gdbint.aux gdbint.cp* gdbint.fn* gdbint.ky* \
		gdbint.log gdbint.pg* gdbint.toc gdbint.tp* gdbint.vr*

a400 7

stabs.pdf: stabs.dvi
	$(SET_TEXINPUTS) $(PDFTEX) stabs.texinfo
	$(TEXINDEX) stabs.??
	$(SET_TEXINPUTS) $(PDFTEX) stabs.texinfo
	rm -f stabs.aux stabs.cp* stabs.fn* stabs.ky* \
		stabs.log stabs.pg* stabs.toc stabs.tp* stabs.vr*
@


1.3
log
@Create $(infodir) before trying to install info files.
@
text
@d43 4
d90 1
a90 1
SFILES_INCLUDED = gdb-cfg.texi
@


1.2
log
@2000-02-15  Jason Molenda  (jsm@@bugshack.cygnus.com)

        * Makefile.in (diststuff): New target.
@
text
@d106 1
@


1.1
log
@Initial revision
@
text
@d26 1
d43 3
d86 1
a86 1
SFILES_INCLUDED = gdb-cfg.texi $(srcdir)/remote.texi
d91 1
a91 1
                $(READLINE_DIR)/rluser.texinfo $(READLINE_DIR)/inc-hist.texi
d101 1
d103 1
d110 5
d156 1
a156 1
	rm -f rluser.texinfo inc-hist.texi gdb-cfg.texi
d166 1
a166 1
	rm -f GDBvn.texi *.info* *.dvi *.ps
d264 4
a267 4
inc-hist.texi: ${READLINE_DIR}/inc-hist.texi
	ln -s ${READLINE_DIR}/inc-hist.texi . || \
	ln ${READLINE_DIR}/inc-hist.texi . || \
	cp ${READLINE_DIR}/inc-hist.texi .
d270 1
a270 1
gdb.me: $(SFILES_LOCAL) links2roff rluser.texinfo inc-hist.texi
d285 1
a285 1
gdb.ms: $(SFILES_LOCAL) links2roff rluser.texinfo inc-hist.texi
d302 1
a302 1
gdb.mm: $(SFILES_LOCAL) links2roff rluser.texinfo inc-hist.texi
d317 18
d352 5
d359 5
@


1.1.1.1
log
@Initial creation of sourceware repository
@
text
@@


1.1.1.2
log
@import gdb-1999-06-28 snapshot
@
text
@a25 1
htmldir = $(prefix)/html
a41 3
MAKEHTML = texi2html
MAKEHTMLFLAGS = -glossary -menu -split_chapter

a96 1
html: gdb_toc.html gdbint_toc.html stabs_toc.html
a103 5
install-html: html
	for i in *.html ; do \
		$(INSTALL_DATA) $$i $(htmldir)/$$i ; \
	done

d155 1
a155 1
	rm -f GDBvn.texi *.info* *.dvi *.ps *.html
a305 5
# GDB MANUAL: HTML file

gdb_toc.html: ${SFILES_DOC}
	$(MAKEHTML) $(MAKEHTMLFLAGS) -I ${READLINE_DIR} -I $(srcdir) $(srcdir)/gdb.texinfo

a322 5
# GDB INTERNALS MANUAL: HTML file

gdbint_toc.html: gdbint.texinfo
	$(MAKEHTML) $(MAKEHTMLFLAGS) $(srcdir)/gdbint.texinfo

a324 5

# STABS DOCUMENTATION: HTML file

stabs_toc.html: stabs.texinfo
	$(MAKEHTML) $(MAKEHTMLFLAGS) $(srcdir)/stabs.texinfo
@


1.1.1.3
log
@import gdb-1999-08-16 snapshot
@
text
@d91 1
a91 1
                $(READLINE_DIR)/rluser.texinfo $(READLINE_DIR)/inc-hist.texinfo
d155 1
a155 1
	rm -f rluser.texinfo inc-hist.texinfo gdb-cfg.texi
d263 4
a266 4
inc-hist.texinfo: ${READLINE_DIR}/inc-hist.texinfo
	ln -s ${READLINE_DIR}/inc-hist.texinfo . || \
	ln ${READLINE_DIR}/inc-hist.texinfo . || \
	cp ${READLINE_DIR}/inc-hist.texinfo .
d269 1
a269 1
gdb.me: $(SFILES_LOCAL) links2roff rluser.texinfo inc-hist.texinfo
d284 1
a284 1
gdb.ms: $(SFILES_LOCAL) links2roff rluser.texinfo inc-hist.texinfo
d301 1
a301 1
gdb.mm: $(SFILES_LOCAL) links2roff rluser.texinfo inc-hist.texinfo
@


1.1.1.4
log
@import gdb-1999-08-30 snapshot
@
text
@d86 1
a86 1
SFILES_INCLUDED = gdb-cfg.texi
@


1.1.1.5
log
@import insight-2000-02-04 snapshot (2nd try)
@
text
@a320 13
# GDB GUI MANUAL: TeX dvi file
gdbgui.dvi : gdbgui.texinfo ${SFILES_DOC}
	$(SET_TEXINPUTS) $(TEX) gdbgui.texinfo
	$(TEXINDEX) gdbgui.??
	$(SET_TEXINPUTS) $(TEX) gdbgui.texinfo
	rm -f gdbgui.aux gdbgui.cp* gdbgui.fn* gdbgui.ky* \
		gdbgui.log gdbgui.pg* gdbgui.toc gdbgui.tp* gdbgui.vr*

# GDB GUI MANUAL: info file
gdb-gui: gdbgui.info

gdbgui.info: gdbgui.texinfo ${SFILES_DOC}
	$(MAKEINFO) -o gdbgui.info $(srcdir)/gdbgui.texinfo
@


