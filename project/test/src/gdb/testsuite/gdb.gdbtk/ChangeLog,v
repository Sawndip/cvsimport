head	1.29;
access;
symbols
	insight_7_6-2013-04-10-branchpoint:1.29
	gdb_7_6-branch:1.29.0.8
	gdb_7_5-branch:1.29.0.6
	gdb_7_4-branch:1.29.0.4
	gdb_7_3-branch:1.29.0.2
	gdb_7_1-branch:1.28.0.2
	gdb_7_0-branch:1.27.0.2
	arc-sim-20090309:1.26
	arc-insight_6_8-branch:1.26.0.4
	arc-insight_6_8-branchpoint:1.26
	insight_6_8-branch:1.26.0.2
	insight_6_8-branchpoint:1.26
	insight_6_6-20070208-release:1.22
	gdb_6_6-branch:1.22.0.2
	gdb_6_6-2006-11-15-branchpoint:1.22
	insight_6_5-20061003-release:1.21.6.2
	gdb_6_5-branch:1.21.0.6
	gdb_6_5-2006-05-14-branchpoint:1.21
	gdb_6_4-branch:1.21.0.4
	gdb_6_4-2005-11-01-branchpoint:1.21
	gdb-csl-arm-20051020-branch:1.21.0.2
	gdb-csl-arm-20051020-branchpoint:1.21
	gdb_6_1-2004-04-05-release:1.18
	gdb_6_1-branch:1.18.0.4
	gdb_6_1-2004-03-01-gmt-branchpoint:1.18
	gdb_6_0-2003-10-04-release:1.18
	gdb_6_0-branch:1.18.0.2
	gdb_6_0-2003-06-23-branchpoint:1.18
	gdb_5_3-2002-12-12-release:1.12.2.1
	gdb_5_3-branch:1.12.0.2
	gdb_5_3-2002-09-04-branchpoint:1.12
	gdb_5_2_1-2002-07-23-release:1.10
	gdb_5_2-2002-04-29-release:1.10
	gdb_5_2-branch:1.10.0.2
	gdb_5_2-2002-03-03-branchpoint:1.10
	gdb_5_1_1-2002-01-24-release:1.2
	cygnus_cvs_20020108_pre:1.8
	gdb_5_1_0_1-2002-01-03-branch:1.2.0.8
	gdb_5_1_0_1-2002-01-03-branchpoint:1.2
	gdb_5_1-2001-11-21-release:1.2
	gdb_s390-2001-09-26-branch:1.2.0.6
	gdb_s390-2001-09-26-branchpoint:1.2
	gdb_5_1-2001-07-29-branch:1.2.0.4
	gdb_5_1-2001-07-29-branchpoint:1.2
	dberlin-typesystem-branch:1.2.0.2
	dberlin-typesystem-branchpoint:1.2;
locks; strict;
comment	@# @;


1.29
date	2010.08.10.09.50.04;	author muller;	state Exp;
branches;
next	1.28;

1.28
date	2009.11.09.19.56.52;	author kseitz;	state Exp;
branches;
next	1.27;

1.27
date	2008.09.19.08.18.37;	author denis;	state Exp;
branches;
next	1.26;

1.26
date	2008.03.28.16.46.16;	author macro;	state Exp;
branches;
next	1.25;

1.25
date	2008.02.21.00.24.46;	author kseitz;	state Exp;
branches;
next	1.24;

1.24
date	2007.06.27.15.23.08;	author macro;	state Exp;
branches;
next	1.23;

1.23
date	2007.02.08.17.12.50;	author schwab;	state Exp;
branches;
next	1.22;

1.22
date	2006.09.19.19.14.32;	author kseitz;	state Exp;
branches;
next	1.21;

1.21
date	2005.01.27.20.53.45;	author kseitz;	state Exp;
branches
	1.21.6.1;
next	1.20;

1.20
date	2004.07.19.19.21.51;	author hunt;	state Exp;
branches;
next	1.19;

1.19
date	2004.07.17.02.00.05;	author cagney;	state Exp;
branches;
next	1.18;

1.18
date	2003.03.01.04.50.33;	author hunt;	state Exp;
branches;
next	1.17;

1.17
date	2003.02.28.00.11.17;	author hunt;	state Exp;
branches;
next	1.16;

1.16
date	2003.02.27.23.54.47;	author hunt;	state Exp;
branches;
next	1.15;

1.15
date	2003.02.27.22.21.33;	author hunt;	state Exp;
branches;
next	1.14;

1.14
date	2003.02.27.22.18.44;	author hunt;	state Exp;
branches;
next	1.13;

1.13
date	2002.09.10.02.13.15;	author fnf;	state Exp;
branches;
next	1.12;

1.12
date	2002.04.26.21.11.26;	author hunt;	state Exp;
branches
	1.12.2.1;
next	1.11;

1.11
date	2002.03.07.21.50.39;	author hunt;	state Exp;
branches;
next	1.10;

1.10
date	2002.01.18.17.28.53;	author kseitz;	state Exp;
branches;
next	1.9;

1.9
date	2002.01.15.18.14.48;	author kseitz;	state Exp;
branches;
next	1.8;

1.8
date	2001.12.20.18.28.35;	author kseitz;	state Exp;
branches;
next	1.7;

1.7
date	2001.10.26.06.00.07;	author kseitz;	state Exp;
branches;
next	1.6;

1.6
date	2001.10.08.21.34.04;	author kseitz;	state Exp;
branches;
next	1.5;

1.5
date	2001.08.30.16.36.13;	author kseitz;	state Exp;
branches;
next	1.4;

1.4
date	2001.08.16.22.58.34;	author kseitz;	state Exp;
branches;
next	1.3;

1.3
date	2001.08.14.00.07.59;	author jeffh;	state Exp;
branches;
next	1.2;

1.2
date	2001.05.07.20.39.32;	author kseitz;	state Exp;
branches;
next	1.1;

1.1
date	2001.05.07.15.39.00;	author kseitz;	state Exp;
branches;
next	;

1.21.6.1
date	2006.09.29.04.30.11;	author kseitz;	state Exp;
branches;
next	1.21.6.2;

1.21.6.2
date	2006.09.29.04.32.56;	author kseitz;	state Exp;
branches;
next	;

1.12.2.1
date	2002.09.28.15.10.33;	author cagney;	state Exp;
branches;
next	;


desc
@@


1.29
log
@	Remove the use of prms_id and bug_id throughout the testsuite,
	as they are now on the banned variable list in lib/gdb.exp.
@
text
@2010-08-10  Pierre Muller  <muller@@ics.u-strasbg.fr>

	Remove the use of prms_id and bug_id throughout the testsuite,
	as they are now on the banned variable list in lib/gdb.exp.

2009-11-09  Keith Seitz  <keiths@@redhat.com>

	* configure: Regenerate with autcoconf 2.64.

2008-09-19  Denis Pilat  <denis.pilat@@st.com>

	* insight-support.exp (gdbtk_start): test TCL_LIBRARY env. variable
	before being unset.

2008-03-28  Maciej W. Rozycki  <macro@@mips.com>

	* README: Fix a few typos throughout.

2008-02-20  Keith Seitz  <keiths@@redhat.com>

	* stack1.c: Include stdlib.h
	* simple.c: Likewise.
	Include string.h.

2007-06-27  Maciej W. Rozycki  <macro@@mips.com>

	* c_variable.c: Include <stdlib.h> for a declaration of exit().

2007-02-08  Andreas Schwab  <schwab@@suse.de>

	* insight-support.exp (gdbtk_start): Return error status instead
	of aborting the whole testsuite run.

2006-09-19  Keith Seitz  <keiths@@redhat.com>

	* Makefile.in: Change all instances of configure.in to refer to
	configure.ac.

2005-01-27  Keith Seitz  <keiths@@redhat.com>

	* configure.in: Rename to ...
	* configure.ac: ... this.
	* configure: Regnerate.

2004-07-19  Martin Hunt  <hunt@@redhat.com>

	* All: Updated load_lib calls to find new location
	of insight-support.exp.

2004-07-16  Andrew Cagney  <cagney@@redhat.com>

	* insight-support.exp: Moved to here from ../lib.

2003-02-28  Martin M. Hunt  <hunt@@redhat.com>

	* c_variable.test: Fix result for 6.22.

2003-02-27  Martin M. Hunt  <hunt@@redhat.com>

	* cpp_variable.test: Major changes required because varobj_update
	now returns "-1" if a variable is out of scope.

	* c_variable.test: Major changes required because varobj_update
	now returns "-1" if a variable is out of scope. This fixes a bunch 
	of XFAILS. Change bug reporting address.
	
	* windows.test: Remove HtmlViewer from list of windows.

	* srcwin.test: Use "list get" instead of "listget" to
	get contents of comboboxes. 
	(2.1): Be less sensitive. 

	* srcwin2.test: Use "list get" instead of "listget" to
	get contents of comboboxes
	(2-1.3): Accept assembly == mixed
	for no source tests.

	* srcwin3.test:  Use "list get" instead of "listget" to
	get contents of comboboxes

2002-09-09  Fred Fish  <fnf@@intrinsity.com>

	* simple.c:  Pass addresses to strncpy, not chars.

2002-04-26  Martin M. Hunt  <hunt@@redhat.com>

	* defs (gdbtk_test_done): Call gdbtk_force_quit. 

2002-04-26  Martin M. Hunt  <hunt@@redhat.com>

	* srcwin.test (click): Take a button number as an arg.
	Generate a ButtonPress event then a ButtonRelease event
	for that button number.
	(4.4): Fix args for click().
	(5.1): Fix results again.

2002-03-07  Martin M. Hunt  <hunt@@redhat.com>

	* srcwin.test (5.1): Adjust line numbers to
	test now runs correctly.

2002-01-18  Keith Seitz  <keiths@@redhat.com>

	* console.test: Don't rely on "event generate" to do
	keystrokes. It just doesn't work. Use the console window's
	"test" method instead.
	Use Console::test instead of Console::get_text.

2002-01-15  Keith Seitz  <keiths@@redhat.com>

	* c_variable.test (1.4,2.14): Remove test for local frame
	variables. Varobj now forces evaluation in the current frame
	by default.
	(2.15): Ignore any changes and only check for out of scope
	locals (which is still unsupported).
	* cpp_variable.test (1.1): Support alternative names for
	local scope.
	(1.6a): Catch call to gdb_cmd to prevent an error from
	throwing testsuite into la-la land. Add to test.
	(1.7): Ignore results from children during step, since
	they may or may not change value when the parent changes.
	(2.2a): New test incorperating gdb_cmd (also wrapped in
	catch).
	(2.22a): Likewise.
	(2.71a): Likewise.

2001-12-20  Keith Seitz  <keiths@@redhat.com>

	* cpp_variable.test: Catch non-test calls in case we
	could not run.

2001-10-25  Keith Seitz  <keiths@@redhat.com>

	* defs (_report_error): Fix typo.
	(show_warning): Redefine the standard warning handler
	so that we don't end up stalling tests with a warning dialog.

	* windows.exp: New file.
	* windows.test: New file.

2001-10-08  Keith Seitz  <keiths@@redhat.com>

	* c_variable.test (check_update): Forget about returning
	the "unchanged" list. It unneccessarily complicates things.
	Update all callers.
	* cpp_variable.test: Likewise.

2001-08-30  Keith Seitz  <keiths@@redhat.com>

	* README: Update documentation to reflect recent changes.
	* browser.exp: Load the insight testsuite support library.
	* c_variable.exp: Likewise.
	* console.exp: Likewise.
	* cpp_variable.exp: Likewise.
	* srcwin.exp: Likewise.

2001-08-16  Keith Seitz  <keiths@@redhat.com>

	* cpp_variable.test (2.29, 2.30, 2.43, 2.63, 2.72): Char
	pointers can now be dereferenced. Update test to reflect
	this change in varobj.
	* c_variable.test (4.9, 4.10, 4.47, 4.48, 5.1, 5.2, 5.3,
	5.4, 5.5, 5.6, 5.7, 5.8, 5.9, 5.17, 5.18, 5.43, 5.44, 5.47,
	5.48, 5.49, 5.50, 5.51, 5.53, 6.30): Likewise.

2001-08-13  Jeff Holcomb  <jeffh@@redhat.com>

	* cpp_variable.test: Use gdbtk_test_run to start the test
	program.

2001-05-07  Keith Seitz  <keiths@@cygnus.com>

	* README: New file.

        * configure.in: Check for executable filename extension.
	* Makefile.in: Add filename extensions.
        * configure: Regenerated.

        * defs: Fix typo setting _test(verbose).
        (gdbtk_test_file): New proc to load executables into gdbtk.
        (gdbtk_test_run): New proc to run executables on gdbtk.
        * browser.exp: Don't check if DISPLAY is set: let
        gdbtk_initialize_display do it all for us.
        Call gdbtk_done when finished with tests.
        * c_variable.exp: Ditto.
        * console.exp: Ditto.
        * cpp_variable.exp: Ditto.
        Only run tests if c++ is supported in the configuration.
        * srcwin.exp: Ditto the DISPLAY stuff.
        Accumulate all test results for the end and report them then.

        * browser.test: Use gdbtk_test_file and gdbtk_test_run
        to load and run an executable.
        * c_variable.test: Use gdbtk_test_file and gdbtk_test_run
        to load and run an executable.
        * srcwin.test: Ditto.
        * srcwin1.test: Ditto.
        * srcwin2.test: Ditto.

        * browser.test: (set_search_mode): Use "configure
        -value" not "entryset" to set the combobox's value. We need
        to have the command fired.
        (browser-3.5): Remove trailing whitespace which causes test to
        fail.
        (browser-4.4): Expect something rational. Regexp "\_1$" cannot
        match "func_10"!
        (browser-4.5): Ditto.
        (browser-5.12): Select all files for search to make test
        match description.
        (browser-6.2): Renamed from another test also calledd 6.1.
        (browser-7.1): Delete all breakpoints at once without from_tty.
        Select all entries in the comobox before invoking BP set/delete
        button.
        (browser-7.2): Ditto.

        * list0.c, list1.c, list0.h: New files. Grabbed from gdb.base.
        * srcwin.exp: Use these local files instead of those in gdb.base.

1999-09-17  Fernando Nasser  <fnasser@@totem.to.cygnus.com>

	* cpp_variable.test: Add test (2.75) to verify
	that a baseclass member value was effectively changed.

1999-09-17  Fernando Nasser  <fnasser@@totem.to.cygnus.com>

	* cpp_variable.test: Update for new variable
	code.

1999-09-17  Fernando Nasser  <fnasser@@totem.to.cygnus.com>

	* c_variable.test: Update for new variable code.

1999-09-17  Fernando Nasser  <fnasser@@totem.to.cygnus.com>

	* cpp_variable.h (class V): Add type to virtual function
	declaration.

1999-06-08  Fernando Nasser  <fnasser@@totem.to.cygnus.com>

	* browser.exp: Use untested and not warning when DISPLAY is
	not found.
	* c_variable.exp: Same.
	* console.exp: Same.
	* cpp_variable.exp: Same.
	* srcwin.exp: Same.

1999-04-12  Keith Seitz  <keiths@@cygnus.com>

	* cpp_variable.exp: Pass the "c++" flag to gdb_compile so
	that it can grab the right compiler.

1999-03-16  Martin Hunt  <hunt@@cygnus.com>

	* srcwin.test (srcwin-4.5): Change variable name
	to $b so test will run again.

1999-03-03  James Ingham  <jingham@@cygnus.com>

	* browser.test: Fixed up to match the new function browser.
	This is not done yet...

	* srcwin.test: Check for errors when the bbox is called for a text 
	item that is not on screen (so bbox is "").  Return something more 
	useful.

1999-03-01  James Ingham  <jingham@@cygnus.com>

	Changelog entries merged over from gdb development branch.

	1999-01-12  Martin Hunt  <hunt@@cygnus.com>
	* srcwin.test: Add a bunch of tests for the source
	window filename and function comboboxes.  Add in stack tests.

	1999-01-11  Martin Hunt  <hunt@@cygnus.com>
	* srcwin.test: New file. Source Window tests.
	* srcwin.exp: New file. Source Window tests.

	Wed Jan  6 09:22:52 1999  Keith Seitz  <keiths@@cygnus.com>
	* c_variable.test (c_variable-1.9): Add new
	test to check for creation of a variable that is really a type.
	(c_variable-7.81): Use "output" instead of "print" to get PC.
	Include missing bits of test.

	* cpp_variable.test (cpp_variable-1.6): Default format
	is now "natural", not "hexadecimal"
	(cpp_variable-2.22): Ditto.
	(cpp_variable-2.24): Force format to hex before getting value.

	* cpp_variable.exp: Supply missing arg to gdbtk_analyze_results.

	Tue Jan  5 12:40:52 1999  Keith Seitz  <keiths@@cygnus.com>
	* gdb.gdbtk/c_variable.c, c_variable.test, c_variable.exp: New C
	language tests for variable object interface.
	
	* gdb.gdbtk/cpp_variable.h, cpp_variable.cc, cpp_variable.test,
	cpp_variable.exp: New C++ language tests for variable object
	interface.
	
	* gdb.gdbtk/Makefile.in (EXECUTABLES): Add c_variable and cpp_variable.

	Tue Jan  5 12:33:47 1999  Keith Seitz  <keiths@@cygnus.com>
	lib/gdb.exp (gdbtk_analyze_results): Generic function
	for outputting results of test run.
	
	* gdb.gdbtk/defs (gdbtk_test): Handle xpass and xfail.
	(gdbtk_test_error): New proc which handles error aborts.
	
	* gdb.gdbtk/console.exp: Use gdbtk_analyze_results.
	Check if we have a valid DISPLAY before running.
	* gdb.gdbtk/browser.exp: Ditto.

	1998-12-07  Martin M. Hunt  <hunt@@cygnus.com>
	* lib/gdb.exp (gdbtk_start): Fix path for itcl library.
	* gdb.gdbtk/browser.test: Change "manage open" to ManagedWin::open.
	* gdb.gdbtk/console.test: Same.
	* gdb.gdbtk/*: Update from devo.

	Fri Jul 24 14:57:19 1998  Keith Seitz  <keiths@@cygnus.com>
	* gdb.gdbtk/Makefile.in: Add new example program "stack".
	* gdb.gdbtk/browser.test,browser.exp: Add browser window
	  tests.
	* gdb.gdbtk/stack1.c,stack2.c: Test case for browser window.

1999-02-22  Martin Hunt  <hunt@@cygnus.com>

	* srcwin.test (move_mouse_to): Fix typo.

1999-02-03  Martin Hunt  <hunt@@cygnus.com>

	* console.test (clear_command_line): Add tests 1.5 - 1.8,
	which test the new Shift-Up and Shift-Down bindings.

1999-02-01  Martin Hunt  <hunt@@cygnus.com>

	* srcwin.test (srcwin-4.3): Fix bp test.

1999-01-29  Martin Hunt  <hunt@@cygnus.com>

	* srcwin.test (click): New function that generates an event
	at a location.
	(srcwin-4.4): New test. Simulate a click on a line and
	check for breakpoint set.
	(srcwin-4.5): New test. Right-click on a line and select "Continue
	to Here" from popup.

	* srcwin.exp: Source srcwin3.test, which will test source window
	assembly debugging on executables built without "-g".
	
1999-01-29  Martin Hunt  <hunt@@cygnus.com>	

	* srcwin.exp: Add srcwin2.test, which are basically the same
	tests as srcwin.test, but run with a missing source file.

	* srcwin2.test: New file.

	* srcwin.test: Add tests for setting breakpoints in the source window,
	testing BP balloons, variable balloons, and mixed-mode disassembly
	of include files.

Sun Jun 28 22:34:34 1998  Martin M. Hunt  <hunt@@cygnus.com>

	* gdb.gdbtk/simple.c (main): Make main return an
	int so compiler will stop complaining.

Fri Jun 26 14:27:13 1998  Keith Seitz  <keiths@@cygnus.com>

	* gdb.gdbtk/console.{exp, test}: New console window tests.
@


1.28
log
@	* configure: Regenerate with autcoconf 2.64.
@
text
@d1 5
@


1.27
log
@Avoid gdb.gdbtk testsuite to stop when TCL_LIBRARY environment variable
is not set.
2008-09-19  Denis Pilat  <denis.pilat@@st.com>

	* insight-support.exp (gdbtk_start): test TCL_LIBRARY env. variable
	before being unset.
@
text
@d1 4
@


1.26
log
@gdbtk/
* README: Fix a typo.

testsuite/gdb.gdbtk/
* README: Fix a few typos throughout.
@
text
@d1 5
d8 1
a8 1
        * README: Fix a few typos throughout.
@


1.25
log
@        * stack1.c: Include stdlib.h
        * simple.c: Likewise.
        Include string.h.
@
text
@d1 4
@


1.24
log
@* c_variable.c: Include <stdlib.h> for a declaration of exit().
@
text
@d1 6
@


1.23
log
@	* insight-support.exp (gdbtk_start): Return error status instead
	of aborting the whole testsuite run.
@
text
@d1 4
@


1.22
log
@        * Makefile.in: Change all instances of configure.in to refer to
        configure.ac.
@
text
@d1 5
@


1.21
log
@        * configure.in: Rename to ...
        * configure.ac: ... this.
        * configure: Regnerate.
@
text
@d1 5
@


1.21.6.1
log
@        * Makefile.in Chagne all instances of configure.in to refer to
        configure.ac.
@
text
@a0 5
2006-09-28  Keith Seitz  <keiths@@redhat.com>

	* Makefile.in Chagne all instances of configure.in to refer to
	configure.ac.

@


1.21.6.2
log
@Fix date with date of real commit. Must have missed the ChangeLog entry...
@
text
@d1 1
a1 1
2006-09-19  Keith Seitz  <keiths@@redhat.com>
@


1.20
log
@2004-07-19  Martin Hunt  <hunt@@redhat.com>

	* All: Updated load_lib calls to find new location
	of insight-support.exp.
@
text
@d1 6
@


1.19
log
@2004-07-16  Andrew Cagney  <cagney@@redhat.com>

	* insight-support.exp: Moved to here from ../lib.
@
text
@d1 5
@


1.18
log
@2003-02-28  Martin M. Hunt  <hunt@@redhat.com>

	* c_variable.test: Fix result for 6.22.
@
text
@d1 4
@


1.17
log
@2003-02-27  Martin M. Hunt  <hunt@@redhat.com>

	* cpp_variable.test: Major changes required because varobj_update
	now returns "-1" if a variable is out of scope.
@
text
@d1 4
@


1.16
log
@2003-02-27  Martin M. Hunt  <hunt@@redhat.com>

	* c_variable.test: Major changes required because varobj_update
	now returns "-1" if a variable is out of scope. This fixes a bunch
	of XFAILS.
@
text
@d3 3
d8 2
a9 2
	of XFAILS.

@


1.15
log
@2003-02-27  Martin M. Hunt  <hunt@@redhat.com>

	* windows.test: Remove HtmlViewer from list of windows.
@
text
@d3 4
@


1.14
log
@2003-02-27  Martin M. Hunt  <hunt@@redhat.com>

	* srcwin.test: Use "list get" instead of "listget" to
	get contents of comboboxes.
	(2.1): Be less sensitive.

	* srcwin2.test: Use "list get" instead of "listget" to
	get contents of comboboxes
	(2-1.3): Accept assembly == mixed
	for no source tests.

	* srcwin3.test:  Use "list get" instead of "listget" to
	get contents of comboboxes
@
text
@d3 2
@


1.13
log
@Reviewed and approved by Kevin Buettner <kevinb@@redhat.com>

	2002-09-09  Fred Fish  <fnf@@intrinsity.com>
	* simple.c:  Pass addresses to strncpy, not chars.
@
text
@d1 14
@


1.12
log
@2002-04-26  Martin M. Hunt  <hunt@@redhat.com>

	* defs (gdbtk_test_done): Call gdbtk_force_quit.

2002-04-26  Martin M. Hunt  <hunt@@redhat.com>

	* srcwin.test (click): Take a button number as an arg.
	Generate a ButtonPress event then a ButtonRelease event
	for that button number.
	(4.4): Fix args for click().
	(5.1): Fix results again.
@
text
@d1 4
@


1.12.2.1
log
@2002-09-28  Andrew Cagney  <ac131313@@redhat.com>

	Import from mainline:

	From Grace Sainsbury <graces@@redhat.com>:
	* Makefile.in (gdbtk-main.o): New target.
	(gdb.o): New target.
	(main_h): Define.
	(main.o): Update dependencies.
	(gdb$(EXEEXT)): Add gdb.o.
	(SUBDIR_GDBTK_SRCS): Add gdbtk-main.c.
	(SUBDIR_GDBTK_ALL, SUBDIR_GDBTK_UNINSTALL): Set.
	(SUBDIR_GDBTK_CLEAN): Set.
	(install-gdbtk): Install the insight binary.
	(uninstall-gdbtk): New target.
	(all-gdbtk, clean-gdbtk): New rule.
	* top.c (use_windows): Default to zero.
	* main.c: Include "main.h".
	(main): Delete.
	(struct captured_main_args): Delete.
	(gdb_main): New function.
	* main.h: New file.
	* gdb.c: New File.

Index: gdbtk/ChangeLog
2002-09-26  Andrew Cagney  <ac131313@@redhat.com>

	Import from mainline:

	From Grace Sainsbury <graces@@redhat.com>:
	* generic/gdbtk-main.c: New file.

Index: testsuite/gdb.gdbtk/ChangeLog
2002-09-28  Andrew Cagney  <ac131313@@redhat.com>

	Import from mainline:
	2002-09-26  Keith Seitz  <keiths@@redhat.com>
        * lib/insight-support.exp (gdbtk_start): Figure out where
        the insight executable is based on where gdb is. Use this
        executable to start insight instead of gdb.
@
text
@a0 8
2002-09-28  Andrew Cagney  <ac131313@@redhat.com>

	Import from mainline:
	2002-09-26  Keith Seitz  <keiths@@redhat.com>
        * lib/insight-support.exp (gdbtk_start): Figure out where
        the insight executable is based on where gdb is. Use this
        executable to start insight instead of gdb.

@


1.11
log
@2002-03-07  Martin M. Hunt  <hunt@@redhat.com>

	* srcwin.test (5.1): Adjust line numbers to
	test now runs correctly.
@
text
@d1 12
@


1.10
log
@	* console.test: Don't rely on "event generate" to do
	keystrokes. It just doesn't work. Use the console window's
	"test" method instead.
	Use Console::test instead of Console::get_text.
@
text
@d1 5
@


1.9
log
@	* c_variable.test (1.4,2.14): Remove test for local frame
	variables. Varobj now forces evaluation in the current frame
	by default.
	(2.15): Ignore any changes and only check for out of scope
	locals (which is still unsupported).
	* cpp_variable.test (1.1): Support alternative names for
	local scope.
	(1.6a): Catch call to gdb_cmd to prevent an error from
	throwing testsuite into la-la land. Add to test.
	(1.7): Ignore results from children during step, since
	they may or may not change value when the parent changes.
	(2.2a): New test incorperating gdb_cmd (also wrapped in
	catch).
	(2.22a): Likewise.
	(2.71a): Likewise.
@
text
@d1 7
@


1.8
log
@	* cpp_variable.test: Catch non-test calls in case we
	could not run.
@
text
@d1 18
@


1.7
log
@	* defs (_report_error): Fix typo.
	(show_warning): Redefine the standard warning handler
	so that we don't end up stalling tests with a warning dialog.

	* windows.exp: New file.
	* windows.test: New file.
@
text
@d1 5
@


1.6
log
@	* c_variable.test (check_update): Forget about returning
	the "unchanged" list. It unneccessarily complicates things.
	Update all callers.
	* cpp_variable.test: Likewise.
@
text
@d1 9
@


1.5
log
@	* README: Update documentation to reflect recent changes.
	* browser.exp: Load the insight testsuite support library.
	* c_variable.exp: Likewise.
	* console.exp: Likewise.
	* cpp_variable.exp: Likewise.
	* srcwin.exp: Likewise.
@
text
@d1 7
@


1.4
log
@	* cpp_variable.test (2.29, 2.30, 2.43, 2.63, 2.72): Char
	pointers can now be dereferenced. Update test to reflect
	this change in varobj.
	* c_variable.test (4.9, 4.10, 4.47, 4.48, 5.1, 5.2, 5.3,
	5.4, 5.5, 5.6, 5.7, 5.8, 5.9, 5.17, 5.18, 5.43, 5.44, 5.47,
	5.48, 5.49, 5.50, 5.51, 5.53, 6.30): Likewise.
@
text
@d1 9
@


1.3
log
@2001-08-13  Jeff Holcomb  <jeffh@@redhat.com>

        * cpp_variable.test: Use gdbtk_test_run to start the test
        program.
@
text
@d1 9
@


1.2
log
@        * README: New file.

        * configure.in: Check for executable filename extension.
        * Makefile.in: Add filename extensions.
        * configure: Regenerated.

        * defs: Fix typo setting _test(verbose).
        (gdbtk_test_file): New proc to load executables into gdbtk.
        (gdbtk_test_run): New proc to run executables on gdbtk.
        * browser.exp: Don't check if DISPLAY is set: let
        gdbtk_initialize_display do it all for us.
        Call gdbtk_done when finished with tests.
        * c_variable.exp: Ditto.
        * console.exp: Ditto.
        * cpp_variable.exp: Ditto.
        Only run tests if c++ is supported in the configuration.
        * srcwin.exp: Ditto the DISPLAY stuff.
        Accumulate all test results for the end and report them then.

        * browser.test: Use gdbtk_test_file and gdbtk_test_run
        to load and run an executable.
        * c_variable.test: Use gdbtk_test_file and gdbtk_test_run
        to load and run an executable.
        * srcwin.test: Ditto.
        * srcwin1.test: Ditto.
        * srcwin2.test: Ditto.
        * browser.test: (set_search_mode): Use "configure
        -value" not "entryset" to set the combobox's value. We need
        to have the command fired.
        (browser-3.5): Remove trailing whitespace which causes test to
        fail.
        (browser-4.4): Expect something rational. Regexp "\_1$" cannot
        match "func_10"!
        (browser-4.5): Ditto.
        (browser-5.12): Select all files for search to make test
        match description.
        (browser-6.2): Renamed from another test also calledd 6.1.
        (browser-7.1): Delete all breakpoints at once without from_tty.
        Select all entries in the comobox before invoking BP set/delete
        button.
        (browser-7.2): Ditto.

        * list0.c, list1.c, list0.h: New files. Grabbed from gdb.base.
        * srcwin.exp: Use these local files instead of those in gdb.base.
@
text
@d1 5
@


1.1
log
@ChangeLog cleanup: move all references to gdbtk stuff to gdb.gdbtk/ChangeLog (which
has been merged with gdb.gdbtk/ChangeLog-gdbtk).
@
text
@d1 48
@

