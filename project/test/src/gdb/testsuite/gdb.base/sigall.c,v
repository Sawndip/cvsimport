head	1.4;
access;
symbols
	gdb_7_6_1-2013-08-30-release:1.4
	gdb_7_6-2013-04-26-release:1.4
	gdb_7_6-branch:1.4.0.4
	gdb_7_6-2013-03-12-branchpoint:1.4
	gdb_7_5_1-2012-11-29-release:1.4
	gdb_7_5-2012-08-17-release:1.4
	gdb_7_5-branch:1.4.0.2
	gdb_7_5-2012-07-18-branchpoint:1.4
	gdb_7_4_1-2012-04-26-release:1.2
	gdb_7_4-2012-01-24-release:1.2
	gdb_7_4-branch:1.2.0.28
	gdb_7_4-2011-12-13-branchpoint:1.2
	gdb_7_3_1-2011-09-04-release:1.2
	gdb_7_3-2011-07-26-release:1.2
	gdb_7_3-branch:1.2.0.26
	gdb_7_3-2011-04-01-branchpoint:1.2
	gdb_7_2-2010-09-02-release:1.2
	gdb_7_2-branch:1.2.0.24
	gdb_7_2-2010-07-07-branchpoint:1.2
	gdb_7_1-2010-03-18-release:1.2
	gdb_7_1-branch:1.2.0.22
	gdb_7_1-2010-02-18-branchpoint:1.2
	gdb_7_0_1-2009-12-22-release:1.2
	gdb_7_0-2009-10-06-release:1.2
	gdb_7_0-branch:1.2.0.20
	gdb_7_0-2009-09-16-branchpoint:1.2
	arc-sim-20090309:1.2
	msnyder-checkpoint-072509-branch:1.2.0.18
	msnyder-checkpoint-072509-branchpoint:1.2
	arc-insight_6_8-branch:1.2.0.16
	arc-insight_6_8-branchpoint:1.2
	insight_6_8-branch:1.2.0.14
	insight_6_8-branchpoint:1.2
	reverse-20081226-branch:1.2.0.12
	reverse-20081226-branchpoint:1.2
	multiprocess-20081120-branch:1.2.0.10
	multiprocess-20081120-branchpoint:1.2
	reverse-20080930-branch:1.2.0.8
	reverse-20080930-branchpoint:1.2
	reverse-20080717-branch:1.2.0.6
	reverse-20080717-branchpoint:1.2
	msnyder-reverse-20080609-branch:1.2.0.4
	msnyder-reverse-20080609-branchpoint:1.2
	drow-reverse-20070409-branch:1.1.1.2.0.120
	drow-reverse-20070409-branchpoint:1.1.1.2
	gdb_6_8-2008-03-27-release:1.2
	gdb_6_8-branch:1.2.0.2
	gdb_6_8-2008-02-26-branchpoint:1.2
	gdb_6_7_1-2007-10-29-release:1.1.1.2
	gdb_6_7-2007-10-10-release:1.1.1.2
	gdb_6_7-branch:1.1.1.2.0.118
	gdb_6_7-2007-09-07-branchpoint:1.1.1.2
	insight_6_6-20070208-release:1.1.1.2
	gdb_6_6-2006-12-18-release:1.1.1.2
	gdb_6_6-branch:1.1.1.2.0.116
	gdb_6_6-2006-11-15-branchpoint:1.1.1.2
	insight_6_5-20061003-release:1.1.1.2
	gdb-csl-symbian-6_4_50_20060226-12:1.1.1.2
	gdb-csl-sourcerygxx-3_4_4-25:1.1.1.2
	nickrob-async-20060828-mergepoint:1.1.1.2
	gdb-csl-symbian-6_4_50_20060226-11:1.1.1.2
	gdb-csl-sourcerygxx-4_1-17:1.1.1.2
	gdb-csl-20060226-branch-local-2:1.1.1.2
	gdb-csl-sourcerygxx-4_1-14:1.1.1.2
	gdb-csl-sourcerygxx-4_1-13:1.1.1.2
	gdb-csl-sourcerygxx-4_1-12:1.1.1.2
	gdb-csl-sourcerygxx-3_4_4-21:1.1.1.2
	gdb_6_5-20060621-release:1.1.1.2
	gdb-csl-sourcerygxx-4_1-9:1.1.1.2
	gdb-csl-sourcerygxx-4_1-8:1.1.1.2
	gdb-csl-sourcerygxx-4_1-7:1.1.1.2
	gdb-csl-arm-2006q1-6:1.1.1.2
	gdb-csl-sourcerygxx-4_1-6:1.1.1.2
	gdb-csl-symbian-6_4_50_20060226-10:1.1.1.2
	gdb-csl-symbian-6_4_50_20060226-9:1.1.1.2
	gdb-csl-symbian-6_4_50_20060226-8:1.1.1.2
	gdb-csl-coldfire-4_1-11:1.1.1.2
	gdb-csl-sourcerygxx-3_4_4-19:1.1.1.2
	gdb-csl-coldfire-4_1-10:1.1.1.2
	gdb_6_5-branch:1.1.1.2.0.114
	gdb_6_5-2006-05-14-branchpoint:1.1.1.2
	gdb-csl-sourcerygxx-4_1-5:1.1.1.2
	nickrob-async-20060513-branch:1.1.1.2.0.112
	nickrob-async-20060513-branchpoint:1.1.1.2
	gdb-csl-sourcerygxx-4_1-4:1.1.1.2
	msnyder-reverse-20060502-branch:1.1.1.2.0.110
	msnyder-reverse-20060502-branchpoint:1.1.1.2
	gdb-csl-morpho-4_1-4:1.1.1.2
	gdb-csl-sourcerygxx-3_4_4-17:1.1.1.2
	readline_5_1-import-branch:1.1.1.2.0.108
	readline_5_1-import-branchpoint:1.1.1.2
	gdb-csl-20060226-branch-merge-to-csl-symbian-1:1.1.1.2
	gdb-csl-symbian-20060226-branch:1.1.1.2.0.106
	gdb-csl-symbian-20060226-branchpoint:1.1.1.2
	gdb-csl-20060226-branch-merge-to-csl-local-1:1.1.1.2
	msnyder-reverse-20060331-branch:1.1.1.2.0.104
	msnyder-reverse-20060331-branchpoint:1.1.1.2
	gdb-csl-available-20060303-branch:1.1.1.2.0.102
	gdb-csl-available-20060303-branchpoint:1.1.1.2
	gdb-csl-20060226-branch:1.1.1.2.0.100
	gdb-csl-20060226-branchpoint:1.1.1.2
	gdb_6_4-20051202-release:1.1.1.2
	msnyder-fork-checkpoint-branch:1.1.1.2.0.98
	msnyder-fork-checkpoint-branchpoint:1.1.1.2
	gdb-csl-gxxpro-6_3-branch:1.1.1.2.0.96
	gdb-csl-gxxpro-6_3-branchpoint:1.1.1.2
	gdb_6_4-branch:1.1.1.2.0.94
	gdb_6_4-2005-11-01-branchpoint:1.1.1.2
	gdb-csl-arm-20051020-branch:1.1.1.2.0.92
	gdb-csl-arm-20051020-branchpoint:1.1.1.2
	gdb-csl-arm-20050325-2005-q1b:1.1.1.2
	gdb-csl-arm-20050325-2005-q1a:1.1.1.2
	csl-arm-20050325-branch:1.1.1.2.0.90
	csl-arm-20050325-branchpoint:1.1.1.2
	gdb-post-i18n-errorwarning-20050211:1.1.1.2
	gdb-pre-i18n-errorwarning-20050211:1.1.1.2
	gdb_6_3-20041109-release:1.1.1.2
	gdb_6_3-branch:1.1.1.2.0.86
	gdb_6_3-20041019-branchpoint:1.1.1.2
	drow_intercu-merge-20040921:1.1.1.2
	drow_intercu-merge-20040915:1.1.1.2
	jimb-gdb_6_2-e500-branch:1.1.1.2.0.88
	jimb-gdb_6_2-e500-branchpoint:1.1.1.2
	gdb_6_2-20040730-release:1.1.1.2
	gdb_6_2-branch:1.1.1.2.0.84
	gdb_6_2-2004-07-10-gmt-branchpoint:1.1.1.2
	gdb_6_1_1-20040616-release:1.1.1.2
	gdb_6_1-2004-04-05-release:1.1.1.2
	drow_intercu-merge-20040402:1.1.1.2
	drow_intercu-merge-20040327:1.1.1.2
	ezannoni_pie-20040323-branch:1.1.1.2.0.82
	ezannoni_pie-20040323-branchpoint:1.1.1.2
	cagney_tramp-20040321-mergepoint:1.1.1.2
	cagney_tramp-20040309-branch:1.1.1.2.0.80
	cagney_tramp-20040309-branchpoint:1.1.1.2
	gdb_6_1-branch:1.1.1.2.0.78
	gdb_6_1-2004-03-01-gmt-branchpoint:1.1.1.2
	drow_intercu-20040221-branch:1.1.1.2.0.76
	drow_intercu-20040221-branchpoint:1.1.1.2
	cagney_bfdfile-20040213-branch:1.1.1.2.0.74
	cagney_bfdfile-20040213-branchpoint:1.1.1.2
	drow-cplus-merge-20040208:1.1.1.2
	carlton_dictionary-20040126-merge:1.1.1.2
	cagney_bigcore-20040122-branch:1.1.1.2.0.72
	cagney_bigcore-20040122-branchpoint:1.1.1.2
	drow-cplus-merge-20040113:1.1.1.2
	drow-cplus-merge-20031224:1.1.1.2
	drow-cplus-merge-20031220:1.1.1.2
	carlton_dictionary-20031215-merge:1.1.1.2
	drow-cplus-merge-20031214:1.1.1.2
	carlton-dictionary-20031111-merge:1.1.1.2
	gdb_6_0-2003-10-04-release:1.1.1.2
	kettenis_sparc-20030918-branch:1.1.1.2.0.70
	kettenis_sparc-20030918-branchpoint:1.1.1.2
	carlton_dictionary-20030917-merge:1.1.1.2
	ezannoni_pie-20030916-branchpoint:1.1.1.2
	ezannoni_pie-20030916-branch:1.1.1.2.0.68
	cagney_x86i386-20030821-branch:1.1.1.2.0.66
	cagney_x86i386-20030821-branchpoint:1.1.1.2
	carlton_dictionary-20030805-merge:1.1.1.2
	carlton_dictionary-20030627-merge:1.1.1.2
	gdb_6_0-branch:1.1.1.2.0.64
	gdb_6_0-2003-06-23-branchpoint:1.1.1.2
	jimb-ppc64-linux-20030613-branch:1.1.1.2.0.62
	jimb-ppc64-linux-20030613-branchpoint:1.1.1.2
	cagney_convert-20030606-branch:1.1.1.2.0.60
	cagney_convert-20030606-branchpoint:1.1.1.2
	cagney_writestrings-20030508-branch:1.1.1.2.0.58
	cagney_writestrings-20030508-branchpoint:1.1.1.2
	jimb-ppc64-linux-20030528-branch:1.1.1.2.0.56
	jimb-ppc64-linux-20030528-branchpoint:1.1.1.2
	carlton_dictionary-20030523-merge:1.1.1.2
	cagney_fileio-20030521-branch:1.1.1.2.0.54
	cagney_fileio-20030521-branchpoint:1.1.1.2
	kettenis_i386newframe-20030517-mergepoint:1.1.1.2
	jimb-ppc64-linux-20030509-branch:1.1.1.2.0.52
	jimb-ppc64-linux-20030509-branchpoint:1.1.1.2
	kettenis_i386newframe-20030504-mergepoint:1.1.1.2
	carlton_dictionary-20030430-merge:1.1.1.2
	kettenis_i386newframe-20030419-branch:1.1.1.2.0.50
	kettenis_i386newframe-20030419-branchpoint:1.1.1.2
	carlton_dictionary-20030416-merge:1.1.1.2
	cagney_frameaddr-20030409-mergepoint:1.1.1.2
	kettenis_i386newframe-20030406-branch:1.1.1.2.0.48
	kettenis_i386newframe-20030406-branchpoint:1.1.1.2
	cagney_frameaddr-20030403-branchpoint:1.1.1.2
	cagney_frameaddr-20030403-branch:1.1.1.2.0.46
	cagney_framebase-20030330-mergepoint:1.1.1.2
	cagney_framebase-20030326-branch:1.1.1.2.0.44
	cagney_framebase-20030326-branchpoint:1.1.1.2
	cagney_lazyid-20030317-branch:1.1.1.2.0.42
	cagney_lazyid-20030317-branchpoint:1.1.1.2
	kettenis-i386newframe-20030316-mergepoint:1.1.1.2
	offbyone-20030313-branch:1.1.1.2.0.40
	offbyone-20030313-branchpoint:1.1.1.2
	kettenis-i386newframe-20030308-branch:1.1.1.2.0.38
	kettenis-i386newframe-20030308-branchpoint:1.1.1.2
	carlton_dictionary-20030305-merge:1.1.1.2
	cagney_offbyone-20030303-branch:1.1.1.2.0.36
	cagney_offbyone-20030303-branchpoint:1.1.1.2
	carlton_dictionary-20030207-merge:1.1.1.2
	interps-20030203-mergepoint:1.1.1.2
	interps-20030202-branch:1.1.1.2.0.34
	interps-20030202-branchpoint:1.1.1.2
	cagney-unwind-20030108-branch:1.1.1.2.0.32
	cagney-unwind-20030108-branchpoint:1.1.1.2
	carlton_dictionary-20021223-merge:1.1.1.2
	gdb_5_3-2002-12-12-release:1.1.1.2
	carlton_dictionary-20021115-merge:1.1.1.2
	kseitz_interps-20021105-merge:1.1.1.2
	kseitz_interps-20021103-merge:1.1.1.2
	drow-cplus-merge-20021020:1.1.1.2
	drow-cplus-merge-20021025:1.1.1.2
	carlton_dictionary-20021025-merge:1.1.1.2
	carlton_dictionary-20021011-merge:1.1.1.2
	drow-cplus-branch:1.1.1.2.0.30
	drow-cplus-branchpoint:1.1.1.2
	kseitz_interps-20020930-merge:1.1.1.2
	carlton_dictionary-20020927-merge:1.1.1.2
	carlton_dictionary-branch:1.1.1.2.0.28
	carlton_dictionary-20020920-branchpoint:1.1.1.2
	gdb_5_3-branch:1.1.1.2.0.26
	gdb_5_3-2002-09-04-branchpoint:1.1.1.2
	kseitz_interps-20020829-merge:1.1.1.2
	cagney_sysregs-20020825-branch:1.1.1.2.0.24
	cagney_sysregs-20020825-branchpoint:1.1.1.2
	readline_4_3-import-branch:1.1.1.2.0.22
	readline_4_3-import-branchpoint:1.1.1.2
	gdb_5_2_1-2002-07-23-release:1.1.1.2
	kseitz_interps-20020528-branch:1.1.1.2.0.20
	kseitz_interps-20020528-branchpoint:1.1.1.2
	cagney_regbuf-20020515-branch:1.1.1.2.0.18
	cagney_regbuf-20020515-branchpoint:1.1.1.2
	jimb-macro-020506-branch:1.1.1.2.0.16
	jimb-macro-020506-branchpoint:1.1.1.2
	gdb_5_2-2002-04-29-release:1.1.1.2
	gdb_5_2-branch:1.1.1.2.0.14
	gdb_5_2-2002-03-03-branchpoint:1.1.1.2
	gdb_5_1_1-2002-01-24-release:1.1.1.2
	gdb_5_1_0_1-2002-01-03-release:1.1.1.2
	cygnus_cvs_20020108_pre:1.1.1.2
	gdb_5_1_0_1-2002-01-03-branch:1.1.1.2.0.12
	gdb_5_1_0_1-2002-01-03-branchpoint:1.1.1.2
	gdb_5_1-2001-11-21-release:1.1.1.2
	gdb_s390-2001-09-26-branch:1.1.1.2.0.10
	gdb_s390-2001-09-26-branchpoint:1.1.1.2
	gdb_5_1-2001-07-29-branch:1.1.1.2.0.8
	gdb_5_1-2001-07-29-branchpoint:1.1.1.2
	dberlin-typesystem-branch:1.1.1.2.0.6
	dberlin-typesystem-branchpoint:1.1.1.2
	gdb-post-ptid_t-2001-05-03:1.1.1.2
	gdb-pre-ptid_t-2001-05-03:1.1.1.2
	insight-precleanup-2001-01-01:1.1.1.2
	gdb-post-protoization-2000-07-29:1.1.1.2
	gdb-pre-protoization-2000-07-29:1.1.1.2
	gdb-premipsmulti-2000-06-06-branch:1.1.1.2.0.4
	gdb-premipsmulti-2000-06-06-branchpoint:1.1.1.2
	gdb-post-params-removal-2000-06-04:1.1.1.2
	gdb-pre-params-removal-2000-06-04:1.1.1.2
	gdb-post-params-removal-2000-05-28:1.1.1.2
	gdb-pre-params-removal-2000-05-28:1.1.1.2
	gdb_5_0-2000-05-19-release:1.1.1.2
	gdb_4_18_2-2000-05-18-release:1.1.1.2
	gdb_4_95_1-2000-05-11-snapshot:1.1.1.2
	gdb_4_95_0-2000-04-27-snapshot:1.1.1.2
	gdb_5_0-2000-04-10-branch:1.1.1.2.0.2
	gdb_5_0-2000-04-10-branchpoint:1.1.1.2
	repo-unification-2000-02-06:1.1.1.2
	insight-2000-02-04:1.1.1.2
	gdb-2000-02-04:1.1.1.2
	gdb-2000-02-02:1.1.1.2
	gdb-2000-02-01:1.1.1.2
	gdb-2000-01-31:1.1.1.2
	gdb-2000-01-26:1.1.1.2
	gdb-2000-01-24:1.1.1.2
	gdb-2000-01-17:1.1.1.2
	gdb-2000-01-10:1.1.1.2
	gdb-2000-01-05:1.1.1.2
	gdb-1999-12-21:1.1.1.2
	gdb-1999-12-13:1.1.1.2
	gdb-1999-12-07:1.1.1.2
	gdb-1999-12-06:1.1.1.2
	gdb-1999-11-16:1.1.1.2
	gdb-1999-11-08:1.1.1.2
	gdb-1999-11-01:1.1.1.2
	gdb-1999-10-25:1.1.1.2
	gdb-1999-10-18:1.1.1.2
	gdb-1999-10-11:1.1.1.2
	gdb-1999-10-04:1.1.1.2
	gdb-1999-09-28:1.1.1.2
	gdb-1999-09-21:1.1.1.2
	gdb-1999-09-13:1.1.1.2
	gdb-1999-09-08:1.1.1.2
	gdb-1999-08-30:1.1.1.2
	gdb-1999-08-23:1.1.1.2
	gdb-1999-08-16:1.1.1.2
	gdb-1999-08-09:1.1.1.2
	gdb-1999-08-02:1.1.1.2
	gdb-1999-07-26:1.1.1.2
	gdb-1999-07-19:1.1.1.2
	gdb-1999-07-12:1.1.1.2
	gdb-post-reformat-19990707:1.1.1.2
	gdb-1999-07-07-post-reformat-snapshot:1.1.1.2
	gdb-pre-reformat-19990707:1.1.1.2
	gdb-1999-07-07:1.1.1.2
	gdb-1999-07-05:1.1.1.2
	gdb-1999-06-28:1.1.1.2
	gdb-1999-06-21:1.1.1.1
	gdb-1999-06-14:1.1.1.1
	gdb-1999-06-07:1.1.1.1
	gdb-1999-06-01:1.1.1.1
	gdb-4_18-branch:1.1.1.1.0.2
	gdb-4_18-release:1.1.1.1
	gdb-1999-05-25:1.1.1.1
	gdb-1999-05-19:1.1.1.1
	gdb-1999-05-10:1.1.1.1
	gdb-19990504:1.1.1.1
	gdb-19990422:1.1.1.1
	SNAPSHOT:1.1.1
	gdb-4_18:1.1.1.1
	GDB_4_18:1.1.1;
locks; strict;
comment	@ * @;
expand	@o@;


1.4
date	2012.02.28.10.24.15;	author tschwinge;	state Exp;
branches;
next	1.3;

1.3
date	2011.12.13.17.22.08;	author palves;	state Exp;
branches;
next	1.2;

1.2
date	2008.02.03.00.42.55;	author devans;	state Exp;
branches;
next	1.1;

1.1
date	99.04.16.01.34.32;	author shebs;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.04.16.01.34.32;	author shebs;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	99.06.28.16.04.02;	author jsm;	state Exp;
branches;
next	;


desc
@@


1.4
log
@gdb/testsuite/
        * gdb.base/annota1.c [__sh__]: Remove any special-casing.
        * gdb.base/annota3.c: Likewise.
        * gdb.base/sigall.c: Likewise.
        * gdb.base/signals.c: Likewise.
        * gdb.reverse/sigall-reverse.c: Likewise.
@
text
@#include <signal.h>
#include <unistd.h>


/* Signal handlers, we set breakpoints in them to make sure that the
   signals really get delivered.  */

#ifdef PROTOTYPES
void
handle_ABRT (int sig)
#else
void
handle_ABRT (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_HUP (int sig)
#else
void
handle_HUP (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_QUIT (int sig)
#else
void
handle_QUIT (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_ILL (int sig)
#else
void
handle_ILL (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_EMT (int sig)
#else
void
handle_EMT (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_FPE (int sig)
#else
void
handle_FPE (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_BUS (int sig)
#else
void
handle_BUS (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_SEGV (int sig)
#else
void
handle_SEGV (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_SYS (int sig)
#else
void
handle_SYS (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_PIPE (int sig)
#else
void
handle_PIPE (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_ALRM (int sig)
#else
void
handle_ALRM (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_URG (int sig)
#else
void
handle_URG (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_TSTP (int sig)
#else
void
handle_TSTP (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_CONT (int sig)
#else
void
handle_CONT (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_CHLD (int sig)
#else
void
handle_CHLD (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_TTIN (int sig)
#else
void
handle_TTIN (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_TTOU (int sig)
#else
void
handle_TTOU (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_IO (int sig)
#else
void
handle_IO (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_XCPU (int sig)
#else
void
handle_XCPU (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_XFSZ (int sig)
#else
void
handle_XFSZ (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_VTALRM (int sig)
#else
void
handle_VTALRM (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_PROF (int sig)
#else
void
handle_PROF (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_WINCH (int sig)
#else
void
handle_WINCH (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_LOST (int sig)
#else
void
handle_LOST (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_USR1 (int sig)
#else
void
handle_USR1 (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_USR2 (int sig)
#else
void
handle_USR2 (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_PWR (int sig)
#else
void
handle_PWR (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_POLL (int sig)
#else
void
handle_POLL (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_WIND (int sig)
#else
void
handle_WIND (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_PHONE (int sig)
#else
void
handle_PHONE (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_WAITING (int sig)
#else
void
handle_WAITING (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_LWP (int sig)
#else
void
handle_LWP (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_DANGER (int sig)
#else
void
handle_DANGER (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_GRANT (int sig)
#else
void
handle_GRANT (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_RETRACT (int sig)
#else
void
handle_RETRACT (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_MSG (int sig)
#else
void
handle_MSG (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_SOUND (int sig)
#else
void
handle_SOUND (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_SAK (int sig)
#else
void
handle_SAK (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_PRIO (int sig)
#else
void
handle_PRIO (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_33 (int sig)
#else
void
handle_33 (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_34 (int sig)
#else
void
handle_34 (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_35 (int sig)
#else
void
handle_35 (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_36 (int sig)
#else
void
handle_36 (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_37 (int sig)
#else
void
handle_37 (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_38 (int sig)
#else
void
handle_38 (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_39 (int sig)
#else
void
handle_39 (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_40 (int sig)
#else
void
handle_40 (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_41 (int sig)
#else
void
handle_41 (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_42 (int sig)
#else
void
handle_42 (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_43 (int sig)
#else
void
handle_43 (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_44 (int sig)
#else
void
handle_44 (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_45 (int sig)
#else
void
handle_45 (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_46 (int sig)
#else
void
handle_46 (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_47 (int sig)
#else
void
handle_47 (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_48 (int sig)
#else
void
handle_48 (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_49 (int sig)
#else
void
handle_49 (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_50 (int sig)
#else
void
handle_50 (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_51 (int sig)
#else
void
handle_51 (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_52 (int sig)
#else
void
handle_52 (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_53 (int sig)
#else
void
handle_53 (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_54 (int sig)
#else
void
handle_54 (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_55 (int sig)
#else
void
handle_55 (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_56 (int sig)
#else
void
handle_56 (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_57 (int sig)
#else
void
handle_57 (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_58 (int sig)
#else
void
handle_58 (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_59 (int sig)
#else
void
handle_59 (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_60 (int sig)
#else
void
handle_60 (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_61 (int sig)
#else
void
handle_61 (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_62 (int sig)
#else
void
handle_62 (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_63 (int sig)
#else
void
handle_63 (sig)
     int sig;
#endif
{
}

#ifdef PROTOTYPES
void
handle_TERM (int sig)
#else
void
handle_TERM (sig)
     int sig;
#endif
{
}

/* Functions to send signals.  These also serve as markers.  */
int
gen_ABRT ()
{
  kill (getpid (), SIGABRT);
  return 0;
}  

int
gen_HUP ()
{
#ifdef SIGHUP
  kill (getpid (), SIGHUP);
#else
  handle_HUP (0);
#endif
return 0;
}  

int
gen_QUIT ()
{
#ifdef SIGQUIT
  kill (getpid (), SIGQUIT);
#else
  handle_QUIT (0);
#endif
return 0;
}

int
gen_ILL ()
{
#ifdef SIGILL
  kill (getpid (), SIGILL);
#else
  handle_ILL (0);
#endif
return 0;
}

int
gen_EMT ()
{
#ifdef SIGEMT
  kill (getpid (), SIGEMT);
#else
  handle_EMT (0);
#endif
return 0;
}

int x;

int
gen_FPE ()
{
  /* The intent behind generating SIGFPE this way is to check the mapping
     from the CPU exception itself to the signals.  It would be nice to
     do the same for SIGBUS, SIGSEGV, etc., but I suspect that even this
     test might turn out to be insufficiently portable.  */

#if 0
  /* Loses on the PA because after the signal handler executes we try to
     re-execute the failing instruction again.  Perhaps we could siglongjmp
     out of the signal handler?  */
  /* The expect script looks for the word "kill"; don't delete it.  */
  return 5 / x; /* and we both started jumping up and down yelling kill */
#else
  kill (getpid (), SIGFPE);
#endif
return 0;
}

int
gen_BUS ()
{
#ifdef SIGBUS
  kill (getpid (), SIGBUS);
#else
  handle_BUS (0);
#endif
return 0;
}

int
gen_SEGV ()
{
#ifdef SIGSEGV
  kill (getpid (), SIGSEGV);
#else
  handle_SEGV (0);
#endif
return 0;
}

int
gen_SYS ()
{
#ifdef SIGSYS
  kill (getpid (), SIGSYS);
#else
  handle_SYS (0);
#endif
return 0;
}

int
gen_PIPE ()
{
#ifdef SIGPIPE
  kill (getpid (), SIGPIPE);
#else
  handle_PIPE (0);
#endif
return 0;
}

int
gen_ALRM ()
{
#ifdef SIGALRM
  kill (getpid (), SIGALRM);
#else
  handle_ALRM (0);
#endif
return 0;
}

int
gen_URG ()
{
#ifdef SIGURG
  kill (getpid (), SIGURG);
#else
  handle_URG (0);
#endif
return 0;
}

int
gen_TSTP ()
{
#ifdef SIGTSTP
  kill (getpid (), SIGTSTP);
#else
  handle_TSTP (0);
#endif
return 0;
}

int
gen_CONT ()
{
#ifdef SIGCONT
  kill (getpid (), SIGCONT);
#else
  handle_CONT (0);
#endif
return 0;
}

int
gen_CHLD ()
{
#ifdef SIGCHLD
  kill (getpid (), SIGCHLD);
#else
  handle_CHLD (0);
#endif
return 0;
}

int
gen_TTIN ()
{
#ifdef SIGTTIN
  kill (getpid (), SIGTTIN);
#else
  handle_TTIN (0);
#endif
return 0;
}

int
gen_TTOU ()
{
#ifdef SIGTTOU
  kill (getpid (), SIGTTOU);
#else
  handle_TTOU (0);
#endif
return 0;
}

int
gen_IO ()
{
#ifdef SIGIO
  kill (getpid (), SIGIO);
#else
  handle_IO (0);
#endif
return 0;
}

int
gen_XCPU ()
{
#ifdef SIGXCPU
  kill (getpid (), SIGXCPU);
#else
  handle_XCPU (0);
#endif
return 0;
}

int
gen_XFSZ ()
{
#ifdef SIGXFSZ
  kill (getpid (), SIGXFSZ);
#else
  handle_XFSZ (0);
#endif
return 0;
}

int
gen_VTALRM ()
{
#ifdef SIGVTALRM
  kill (getpid (), SIGVTALRM);
#else
  handle_VTALRM (0);
#endif
return 0;
}

int
gen_PROF ()
{
#ifdef SIGPROF
  kill (getpid (), SIGPROF);
#else
  handle_PROF (0);
#endif
return 0;
}

int
gen_WINCH ()
{
#ifdef SIGWINCH
  kill (getpid (), SIGWINCH);
#else
  handle_WINCH (0);
#endif
return 0;
}

int
gen_LOST ()
{
#if defined(SIGLOST) && (!defined(SIGABRT) || SIGLOST != SIGABRT)
  kill (getpid (), SIGLOST);
#else
  handle_LOST (0);
#endif
return 0;
}

int
gen_USR1 ()
{
#ifdef SIGUSR1
  kill (getpid (), SIGUSR1);
#else
  handle_USR1 (0);
#endif
return 0;
}

int
gen_USR2 ()
{
#ifdef SIGUSR2
  kill (getpid (), SIGUSR2);
#else
  handle_USR2 (0);
#endif
return 0;
}  

int
gen_PWR ()
{
#ifdef SIGPWR
  kill (getpid (), SIGPWR);
#else
  handle_PWR (0);
#endif
return 0;
}

int
gen_POLL ()
{
#if defined (SIGPOLL) && (!defined (SIGIO) || SIGPOLL != SIGIO)
  kill (getpid (), SIGPOLL);
#else
  handle_POLL (0);
#endif
return 0;
}

int
gen_WIND ()
{
#ifdef SIGWIND
  kill (getpid (), SIGWIND);
#else
  handle_WIND (0);
#endif
return 0;
}

int
gen_PHONE ()
{
#ifdef SIGPHONE
  kill (getpid (), SIGPHONE);
#else
  handle_PHONE (0);
#endif
return 0;
}

int
gen_WAITING ()
{
#ifdef SIGWAITING
  kill (getpid (), SIGWAITING);
#else
  handle_WAITING (0);
#endif
return 0;
}

int
gen_LWP ()
{
#ifdef SIGLWP
  kill (getpid (), SIGLWP);
#else
  handle_LWP (0);
#endif
return 0;
}

int
gen_DANGER ()
{
#ifdef SIGDANGER
  kill (getpid (), SIGDANGER);
#else
  handle_DANGER (0);
#endif
return 0;
}

int
gen_GRANT ()
{
#ifdef SIGGRANT
  kill (getpid (), SIGGRANT);
#else
  handle_GRANT (0);
#endif
return 0;
}

int
gen_RETRACT ()
{
#ifdef SIGRETRACT
  kill (getpid (), SIGRETRACT);
#else
  handle_RETRACT (0);
#endif
return 0;
}

int
gen_MSG ()
{
#ifdef SIGMSG
  kill (getpid (), SIGMSG);
#else
  handle_MSG (0);
#endif
return 0;
}

int
gen_SOUND ()
{
#ifdef SIGSOUND
  kill (getpid (), SIGSOUND);
#else
  handle_SOUND (0);
#endif
return 0;
}

int
gen_SAK ()
{
#ifdef SIGSAK
  kill (getpid (), SIGSAK);
#else
  handle_SAK (0);
#endif
return 0;
}

int
gen_PRIO ()
{
#ifdef SIGPRIO
  kill (getpid (), SIGPRIO);
#else
  handle_PRIO (0);
#endif
return 0;
}

int
gen_33 ()
{
#ifdef SIG33
  kill (getpid (), 33);
#else
  handle_33 (0);
#endif
return 0;
}

int
gen_34 ()
{
#ifdef SIG34
  kill (getpid (), 34);
#else
  handle_34 (0);
#endif
return 0;
}

int
gen_35 ()
{
#ifdef SIG35
  kill (getpid (), 35);
#else
  handle_35 (0);
#endif
return 0;
}

int
gen_36 ()
{
#ifdef SIG36
  kill (getpid (), 36);
#else
  handle_36 (0);
#endif
return 0;
}

int
gen_37 ()
{
#ifdef SIG37
  kill (getpid (), 37);
#else
  handle_37 (0);
#endif
return 0;
}

int
gen_38 ()
{
#ifdef SIG38
  kill (getpid (), 38);
#else
  handle_38 (0);
#endif
return 0;
}

int
gen_39 ()
{
#ifdef SIG39
  kill (getpid (), 39);
#else
  handle_39 (0);
#endif
return 0;
}

int
gen_40 ()
{
#ifdef SIG40
  kill (getpid (), 40);
#else
  handle_40 (0);
#endif
return 0;
}

int
gen_41 ()
{
#ifdef SIG41
  kill (getpid (), 41);
#else
  handle_41 (0);
#endif
return 0;
}

int
gen_42 ()
{
#ifdef SIG42
  kill (getpid (), 42);
#else
  handle_42 (0);
#endif
return 0;
}

int
gen_43 ()
{
#ifdef SIG43
  kill (getpid (), 43);
#else
  handle_43 (0);
#endif
return 0;
}

int
gen_44 ()
{
#ifdef SIG44
  kill (getpid (), 44);
#else
  handle_44 (0);
#endif
return 0;
}

int
gen_45 ()
{
#ifdef SIG45
  kill (getpid (), 45);
#else
  handle_45 (0);
#endif
return 0;
}

int
gen_46 ()
{
#ifdef SIG46
  kill (getpid (), 46);
#else
  handle_46 (0);
#endif
return 0;
}

int
gen_47 ()
{
#ifdef SIG47
  kill (getpid (), 47);
#else
  handle_47 (0);
#endif
return 0;
}

int
gen_48 ()
{
#ifdef SIG48
  kill (getpid (), 48);
#else
  handle_48 (0);
#endif
return 0;
}

int
gen_49 ()
{
#ifdef SIG49
  kill (getpid (), 49);
#else
  handle_49 (0);
#endif
return 0;
}

int
gen_50 ()
{
#ifdef SIG50
  kill (getpid (), 50);
#else
  handle_50 (0);
#endif
return 0;
}

int
gen_51 ()
{
#ifdef SIG51
  kill (getpid (), 51);
#else
  handle_51 (0);
#endif
return 0;
}

int
gen_52 ()
{
#ifdef SIG52
  kill (getpid (), 52);
#else
  handle_52 (0);
#endif
return 0;
}

int
gen_53 ()
{
#ifdef SIG53
  kill (getpid (), 53);
#else
  handle_53 (0);
#endif
return 0;
}

int
gen_54 ()
{
#ifdef SIG54
  kill (getpid (), 54);
#else
  handle_54 (0);
#endif
return 0;
}

int
gen_55 ()
{
#ifdef SIG55
  kill (getpid (), 55);
#else
  handle_55 (0);
#endif
return 0;
}

int
gen_56 ()
{
#ifdef SIG56
  kill (getpid (), 56);
#else
  handle_56 (0);
#endif
return 0;
}

int
gen_57 ()
{
#ifdef SIG57
  kill (getpid (), 57);
#else
  handle_57 (0);
#endif
return 0;
}

int
gen_58 ()
{
#ifdef SIG58
  kill (getpid (), 58);
#else
  handle_58 (0);
#endif
return 0;
}

int
gen_59 ()
{
#ifdef SIG59
  kill (getpid (), 59);
#else
  handle_59 (0);
#endif
return 0;
}

int
gen_60 ()
{
#ifdef SIG60
  kill (getpid (), 60);
#else
  handle_60 (0);
#endif
return 0;
}

int
gen_61 ()
{
#ifdef SIG61
  kill (getpid (), 61);
#else
  handle_61 (0);
#endif
return 0;
}

int
gen_62 ()
{
#ifdef SIG62
  kill (getpid (), 62);
#else
  handle_62 (0);
#endif
return 0;
}

int
gen_63 ()
{
#ifdef SIG63
  kill (getpid (), 63);
#else
  handle_63 (0);
#endif
return 0;
}

int
gen_TERM ()
{
  kill (getpid (), SIGTERM);
return 0;
}  

int
main ()
{

#ifdef SIG_SETMASK
  /* Ensure all the signals aren't blocked.
     The environment in which the testsuite is run may have blocked some
     for whatever reason.  */
  {
    sigset_t newset;
    sigemptyset (&newset);
    sigprocmask (SIG_SETMASK, &newset, NULL);
  }
#endif

  signal (SIGABRT, handle_ABRT);
#ifdef SIGHUP
  signal (SIGHUP, handle_HUP);
#endif
#ifdef SIGQUIT
  signal (SIGQUIT, handle_QUIT);
#endif
#ifdef SIGILL
  signal (SIGILL, handle_ILL);
#endif
#ifdef SIGEMT
  signal (SIGEMT, handle_EMT);
#endif
#ifdef SIGFPE
  signal (SIGFPE, handle_FPE);
#endif
#ifdef SIGBUS
  signal (SIGBUS, handle_BUS);
#endif
#ifdef SIGSEGV
  signal (SIGSEGV, handle_SEGV);
#endif
#ifdef SIGSYS
  signal (SIGSYS, handle_SYS);
#endif
#ifdef SIGPIPE
  signal (SIGPIPE, handle_PIPE);
#endif
#ifdef SIGALRM
  signal (SIGALRM, handle_ALRM);
#endif
#ifdef SIGURG
  signal (SIGURG, handle_URG);
#endif
#ifdef SIGTSTP
  signal (SIGTSTP, handle_TSTP);
#endif
#ifdef SIGCONT
  signal (SIGCONT, handle_CONT);
#endif
#ifdef SIGCHLD
  signal (SIGCHLD, handle_CHLD);
#endif
#ifdef SIGTTIN
  signal (SIGTTIN, handle_TTIN);
#endif
#ifdef SIGTTOU
  signal (SIGTTOU, handle_TTOU);
#endif
#ifdef SIGIO
  signal (SIGIO, handle_IO);
#endif
#ifdef SIGXCPU
  signal (SIGXCPU, handle_XCPU);
#endif
#ifdef SIGXFSZ
  signal (SIGXFSZ, handle_XFSZ);
#endif
#ifdef SIGVTALRM
  signal (SIGVTALRM, handle_VTALRM);
#endif
#ifdef SIGPROF
  signal (SIGPROF, handle_PROF);
#endif
#ifdef SIGWINCH
  signal (SIGWINCH, handle_WINCH);
#endif
#if defined(SIGLOST) && (!defined(SIGABRT) || SIGLOST != SIGABRT)
  signal (SIGLOST, handle_LOST);
#endif
#ifdef SIGUSR1
  signal (SIGUSR1, handle_USR1);
#endif
#ifdef SIGUSR2
  signal (SIGUSR2, handle_USR2);
#endif
#ifdef SIGPWR
  signal (SIGPWR, handle_PWR);
#endif
#if defined (SIGPOLL) && (!defined (SIGIO) || SIGPOLL != SIGIO)
  signal (SIGPOLL, handle_POLL);
#endif
#ifdef SIGWIND
  signal (SIGWIND, handle_WIND);
#endif
#ifdef SIGPHONE
  signal (SIGPHONE, handle_PHONE);
#endif
#ifdef SIGWAITING
  signal (SIGWAITING, handle_WAITING);
#endif
#ifdef SIGLWP
  signal (SIGLWP, handle_LWP);
#endif
#ifdef SIGDANGER
  signal (SIGDANGER, handle_DANGER);
#endif
#ifdef SIGGRANT
  signal (SIGGRANT, handle_GRANT);
#endif
#ifdef SIGRETRACT
  signal (SIGRETRACT, handle_RETRACT);
#endif
#ifdef SIGMSG
  signal (SIGMSG, handle_MSG);
#endif
#ifdef SIGSOUND
  signal (SIGSOUND, handle_SOUND);
#endif
#ifdef SIGSAK
  signal (SIGSAK, handle_SAK);
#endif
#ifdef SIGPRIO
  signal (SIGPRIO, handle_PRIO);
#endif
#ifdef __Lynx__
  /* Lynx doesn't seem to have anything in signal.h for this.  */
  signal (33, handle_33);
  signal (34, handle_34);
  signal (35, handle_35);
  signal (36, handle_36);
  signal (37, handle_37);
  signal (38, handle_38);
  signal (39, handle_39);
  signal (40, handle_40);
  signal (41, handle_41);
  signal (42, handle_42);
  signal (43, handle_43);
  signal (44, handle_44);
  signal (45, handle_45);
  signal (46, handle_46);
  signal (47, handle_47);
  signal (48, handle_48);
  signal (49, handle_49);
  signal (50, handle_50);
  signal (51, handle_51);
  signal (52, handle_52);
  signal (53, handle_53);
  signal (54, handle_54);
  signal (55, handle_55);
  signal (56, handle_56);
  signal (57, handle_57);
  signal (58, handle_58);
  signal (59, handle_59);
  signal (60, handle_60);
  signal (61, handle_61);
  signal (62, handle_62);
  signal (63, handle_63);
#endif /* lynx */
  signal (SIGTERM, handle_TERM);

  x = 0;

  gen_ABRT ();
  gen_HUP ();
  gen_QUIT ();
  gen_ILL ();
  gen_EMT ();
  gen_FPE ();
  gen_BUS ();
  gen_SEGV ();
  gen_SYS ();
  gen_PIPE ();
  gen_ALRM ();
  gen_URG ();
  gen_TSTP ();
  gen_CONT ();
  gen_CHLD ();
  gen_TTIN ();
  gen_TTOU ();
  gen_IO ();
  gen_XCPU ();
  gen_XFSZ ();
  gen_VTALRM ();
  gen_PROF ();
  gen_WINCH ();
  gen_LOST ();
  gen_USR1 ();
  gen_USR2 ();
  gen_PWR ();
  gen_POLL ();
  gen_WIND ();
  gen_PHONE ();
  gen_WAITING ();
  gen_LWP ();
  gen_DANGER ();
  gen_GRANT ();
  gen_RETRACT ();
  gen_MSG ();
  gen_SOUND ();
  gen_SAK ();
  gen_PRIO ();
  gen_33 ();
  gen_34 ();
  gen_35 ();
  gen_36 ();
  gen_37 ();
  gen_38 ();
  gen_39 ();
  gen_40 ();
  gen_41 ();
  gen_42 ();
  gen_43 ();
  gen_44 ();
  gen_45 ();
  gen_46 ();
  gen_47 ();
  gen_48 ();
  gen_49 ();
  gen_50 ();
  gen_51 ();
  gen_52 ();
  gen_53 ();
  gen_54 ();
  gen_55 ();
  gen_56 ();
  gen_57 ();
  gen_58 ();
  gen_59 ();
  gen_60 ();
  gen_61 ();
  gen_62 ();
  gen_63 ();
  gen_TERM ();

  return 0;
}
@


1.3
log
@gdb/doc/
2011-12-13  Pedro Alves  <pedro@@codesourcery.com>

	* gdb.texinfo (Implementing a Remote Stub): Explain that you
	should transfer control to the stub in the startup code instead of
	in main.  Mention the need to get past the initial breakpoint.

gdb/testsuite/
2011-12-13  Pedro Alves  <pedro@@codesourcery.com>
	    Doug Evans  <dje@@google.com>

	* lib/gdb.exp (gdb_run_cmd, runto_main, gdb_compile)
	(clean_restart): Remove references to the gdb_stub target board
	variable.
	(gdb_step_for_stub): Delete.

	* gdb.base/annota1.exp: Remove all references to [target_info
	exists gdb_stub], gdb_step_for_stub and usestubs.
	* gdb.base/annota3.exp: Ditto.
	* gdb.base/async.exp: Ditto.
	* gdb.base/break.exp: Ditto.
	* gdb.base/code-expr.exp: Ditto.
	* gdb.base/commands.exp: Ditto.
	* gdb.base/completion.exp: Ditto.
	* gdb.base/condbreak.exp: Ditto.
	* gdb.base/consecutive.exp: Ditto.
	* gdb.base/cvexpr.exp: Ditto.
	* gdb.base/define.exp: Ditto.
	* gdb.base/display.exp: Ditto.
	* gdb.base/ena-dis-br.exp: Ditto.
	* gdb.base/environ.exp: Ditto.
	* gdb.base/gnu-ifunc.exp: Ditto.
	* gdb.base/maint.exp: Ditto.
	* gdb.base/pending.exp: Ditto.
	* gdb.base/sect-cmd.exp: Ditto.
	* gdb.base/sepdebug.exp: Ditto.
	* gdb.base/unload.exp: Ditto.
	* gdb.base/watchpoint-solib.exp: Ditto.
	* gdb.cp/annota2.exp: Ditto.
	* gdb.cp/annota3.exp: Ditto.
	* gdb.dwarf2/dw2-inline-param.exp: Ditto.
	* gdb.hp/gdb.compat/xdb1.exp: Ditto.
	* gdb.mi/mi-pending.exp: Ditto.
	* gdb.trace/circ.exp: Ditto.
	* gdb.cp/ovldbreak.exp: Ditto.  Adjust expected line numbers.
	* gdb.base/list.exp: Ditto.

	* gdb.base/all-types.c: Remove all calls to set_debug_traps and
	breakpoint function and all references to the usestubs macro.
	* gdb.base/exprs.c: Ditto.
	* gdb.base/freebpcmd.c: Ditto.
	* gdb.base/bitfields.c: Ditto.
	* gdb.base/bitfields2.c: Ditto.
	* gdb.base/break.c: Ditto.
	* gdb.base/call-sc.c: Ditto.
	* gdb.base/call-signals.c: Ditto.
	* gdb.base/callfuncs.c: Ditto.
	* gdb.base/charset.c: Ditto.
	* gdb.base/consecutive.c: Ditto.
	* gdb.base/constvars.c: Ditto.
	* gdb.base/funcargs.c: Ditto.
	* gdb.base/int-type.c: Ditto.
	* gdb.base/interrupt.c: Ditto.
	* gdb.base/langs0.c: Ditto.
	* gdb.base/list0.c: Ditto.
	* gdb.base/mips_pro.c: Ditto.
	* gdb.base/miscexprs.c: Ditto.
	* gdb.base/nodebug.c: Ditto.
	* gdb.base/opaque0.c: Ditto.
	* gdb.base/pointers.c: Ditto.
	* gdb.base/printcmds.c: Ditto.
	* gdb.base/ptype.c: Ditto.
	* gdb.base/recurse.c: Ditto.
	* gdb.base/reread1.c: Ditto.
	* gdb.base/reread2.c: Ditto.
	* gdb.base/restore.c: Ditto.
	* gdb.base/return.c: Ditto.
	* gdb.base/run.c: Ditto.
	* gdb.base/scope0.c: Ditto.
	* gdb.base/sepdebug.c: Ditto.
	* gdb.base/setshow.c: Ditto.
	* gdb.base/setvar.c: Ditto.
	* gdb.base/sigall.c: Ditto.
	* gdb.base/signals.c: Ditto.
	* gdb.base/structs.c: Ditto.
	* gdb.base/structs2.c: Ditto.
	* gdb.base/testenv.c: Ditto.
	* gdb.base/twice.c: Ditto.
	* gdb.base/unwindonsignal.c: Ditto.
	* gdb.base/watchpoint.c: Ditto.
	* gdb.base/watchpoints.c: Ditto.
	* gdb.base/whatis.c: Ditto.
	* gdb.cp/classes.cc: Ditto.
	* gdb.cp/cplusfuncs.cc: Ditto.
	* gdb.cp/derivation.cc: Ditto.
	* gdb.cp/formatted-ref.cc: Ditto.
	* gdb.cp/misc.cc: Ditto.
	* gdb.cp/overload.cc: Ditto.
	* gdb.cp/ovldbreak.cc: Ditto.
	* gdb.cp/ref-params.cc: Ditto.
	* gdb.cp/ref-types.cc: Ditto.
	* gdb.cp/templates.cc: Ditto.
	* gdb.cp/virtfunc.cc: Ditto.
	* gdb.hp/gdb.aCC/run.c: Ditto.
	* gdb.hp/gdb.base-hp/callfwmall.c: Ditto.
	* gdb.hp/gdb.compat/xdb0.c: Ditto.
	* gdb.reverse/consecutive-reverse.c: Ditto.
	* gdb.reverse/sigall-reverse.c: Ditto.
	* gdb.reverse/until-reverse.c: Ditto.
	* gdb.reverse/watch-reverse.c: Ditto.
	* gdb.trace/actions.c: Ditto.
	* gdb.trace/circ.c: Ditto.
	* gdb.trace/collection.c: Ditto.
@
text
@a3 3
#ifdef __sh__
#define signal(a,b)	/* Signals not supported on this target - make them go away */
#endif
@


1.2
log
@	* gdb.base/sigall.c (main): Ensure all signals aren't blocked.
@
text
@a1579 4
#ifdef usestubs
  set_debug_traps ();
  breakpoint ();
#endif
@


1.1
log
@Initial revision
@
text
@d2 1
d11 4
d18 1
d22 4
d29 1
d33 4
d40 1
d44 4
d51 1
d55 4
d62 1
d66 4
d73 1
d77 4
d84 1
d88 4
d95 1
d99 4
d106 1
d110 4
d117 1
d121 4
d128 1
d132 4
d139 1
d143 4
d150 1
d154 4
d161 1
d165 4
d172 1
d176 4
d183 1
d187 4
d194 1
d198 4
d205 1
d209 4
d216 1
d220 4
d227 1
d231 4
d238 1
d242 4
d249 1
d253 4
d260 1
d264 4
d271 1
d275 4
d282 1
d286 4
d293 1
d297 4
d304 1
d308 4
d315 1
d319 4
d326 1
d330 4
d337 1
d341 4
d348 1
d352 4
d359 1
d363 4
d370 1
d374 4
d381 1
d385 4
d392 1
d396 4
d403 1
d407 4
d414 1
d418 4
d425 1
d429 4
d436 1
d440 4
d447 1
d451 4
d458 1
d462 4
d469 1
d473 4
d480 1
d484 4
d491 1
d495 4
d502 1
d506 4
d513 1
d517 4
d524 1
d528 4
d535 1
d539 4
d546 1
d550 4
d557 1
d561 4
d568 1
d572 4
d579 1
d583 4
d590 1
d594 4
d601 1
d605 4
d612 1
d616 4
d623 1
d627 4
d634 1
d638 4
d645 1
d649 4
d656 1
d660 4
d667 1
d671 4
d678 1
d682 4
d689 1
d693 4
d700 1
d704 4
d711 1
d715 4
d722 1
d726 4
d733 1
d737 4
d744 1
d748 4
d755 1
d759 4
d766 1
d770 4
d777 1
d781 4
d788 1
d797 1
d808 1
d819 1
d830 1
d841 1
d863 1
d874 1
d885 1
d896 1
d907 1
d918 1
d929 1
d940 1
d951 1
d962 1
d973 1
d984 1
d995 1
d1006 1
d1017 1
d1028 1
d1039 1
d1050 1
d1061 1
d1072 1
d1083 1
d1094 1
d1105 1
d1116 1
d1127 1
d1138 1
d1149 1
d1160 1
d1171 1
d1182 1
d1193 1
d1204 1
d1215 1
d1226 1
d1237 1
d1248 1
d1259 1
d1270 1
d1281 1
d1292 1
d1303 1
d1314 1
d1325 1
d1336 1
d1347 1
d1358 1
d1369 1
d1380 1
d1391 1
d1402 1
d1413 1
d1424 1
d1435 1
d1446 1
d1457 1
d1468 1
d1479 1
d1490 1
d1501 1
d1512 1
d1523 1
d1534 1
d1545 1
d1556 1
d1567 1
d1574 1
d1584 12
@


1.1.1.1
log
@Initial creation of sourceware repository
@
text
@@


1.1.1.2
log
@import gdb-1999-06-28 snapshot
@
text
@a1 1
#include <unistd.h>
a9 4
#ifdef PROTOTYPES
void
handle_ABRT (int sig)
#else
a12 1
#endif
a15 4
#ifdef PROTOTYPES
void
handle_HUP (int sig)
#else
a18 1
#endif
a21 4
#ifdef PROTOTYPES
void
handle_QUIT (int sig)
#else
a24 1
#endif
a27 4
#ifdef PROTOTYPES
void
handle_ILL (int sig)
#else
a30 1
#endif
a33 4
#ifdef PROTOTYPES
void
handle_EMT (int sig)
#else
a36 1
#endif
a39 4
#ifdef PROTOTYPES
void
handle_FPE (int sig)
#else
a42 1
#endif
a45 4
#ifdef PROTOTYPES
void
handle_BUS (int sig)
#else
a48 1
#endif
a51 4
#ifdef PROTOTYPES
void
handle_SEGV (int sig)
#else
a54 1
#endif
a57 4
#ifdef PROTOTYPES
void
handle_SYS (int sig)
#else
a60 1
#endif
a63 4
#ifdef PROTOTYPES
void
handle_PIPE (int sig)
#else
a66 1
#endif
a69 4
#ifdef PROTOTYPES
void
handle_ALRM (int sig)
#else
a72 1
#endif
a75 4
#ifdef PROTOTYPES
void
handle_URG (int sig)
#else
a78 1
#endif
a81 4
#ifdef PROTOTYPES
void
handle_TSTP (int sig)
#else
a84 1
#endif
a87 4
#ifdef PROTOTYPES
void
handle_CONT (int sig)
#else
a90 1
#endif
a93 4
#ifdef PROTOTYPES
void
handle_CHLD (int sig)
#else
a96 1
#endif
a99 4
#ifdef PROTOTYPES
void
handle_TTIN (int sig)
#else
a102 1
#endif
a105 4
#ifdef PROTOTYPES
void
handle_TTOU (int sig)
#else
a108 1
#endif
a111 4
#ifdef PROTOTYPES
void
handle_IO (int sig)
#else
a114 1
#endif
a117 4
#ifdef PROTOTYPES
void
handle_XCPU (int sig)
#else
a120 1
#endif
a123 4
#ifdef PROTOTYPES
void
handle_XFSZ (int sig)
#else
a126 1
#endif
a129 4
#ifdef PROTOTYPES
void
handle_VTALRM (int sig)
#else
a132 1
#endif
a135 4
#ifdef PROTOTYPES
void
handle_PROF (int sig)
#else
a138 1
#endif
a141 4
#ifdef PROTOTYPES
void
handle_WINCH (int sig)
#else
a144 1
#endif
a147 4
#ifdef PROTOTYPES
void
handle_LOST (int sig)
#else
a150 1
#endif
a153 4
#ifdef PROTOTYPES
void
handle_USR1 (int sig)
#else
a156 1
#endif
a159 4
#ifdef PROTOTYPES
void
handle_USR2 (int sig)
#else
a162 1
#endif
a165 4
#ifdef PROTOTYPES
void
handle_PWR (int sig)
#else
a168 1
#endif
a171 4
#ifdef PROTOTYPES
void
handle_POLL (int sig)
#else
a174 1
#endif
a177 4
#ifdef PROTOTYPES
void
handle_WIND (int sig)
#else
a180 1
#endif
a183 4
#ifdef PROTOTYPES
void
handle_PHONE (int sig)
#else
a186 1
#endif
a189 4
#ifdef PROTOTYPES
void
handle_WAITING (int sig)
#else
a192 1
#endif
a195 4
#ifdef PROTOTYPES
void
handle_LWP (int sig)
#else
a198 1
#endif
a201 4
#ifdef PROTOTYPES
void
handle_DANGER (int sig)
#else
a204 1
#endif
a207 4
#ifdef PROTOTYPES
void
handle_GRANT (int sig)
#else
a210 1
#endif
a213 4
#ifdef PROTOTYPES
void
handle_RETRACT (int sig)
#else
a216 1
#endif
a219 4
#ifdef PROTOTYPES
void
handle_MSG (int sig)
#else
a222 1
#endif
a225 4
#ifdef PROTOTYPES
void
handle_SOUND (int sig)
#else
a228 1
#endif
a231 4
#ifdef PROTOTYPES
void
handle_SAK (int sig)
#else
a234 1
#endif
a237 4
#ifdef PROTOTYPES
void
handle_PRIO (int sig)
#else
a240 1
#endif
a243 4
#ifdef PROTOTYPES
void
handle_33 (int sig)
#else
a246 1
#endif
a249 4
#ifdef PROTOTYPES
void
handle_34 (int sig)
#else
a252 1
#endif
a255 4
#ifdef PROTOTYPES
void
handle_35 (int sig)
#else
a258 1
#endif
a261 4
#ifdef PROTOTYPES
void
handle_36 (int sig)
#else
a264 1
#endif
a267 4
#ifdef PROTOTYPES
void
handle_37 (int sig)
#else
a270 1
#endif
a273 4
#ifdef PROTOTYPES
void
handle_38 (int sig)
#else
a276 1
#endif
a279 4
#ifdef PROTOTYPES
void
handle_39 (int sig)
#else
a282 1
#endif
a285 4
#ifdef PROTOTYPES
void
handle_40 (int sig)
#else
a288 1
#endif
a291 4
#ifdef PROTOTYPES
void
handle_41 (int sig)
#else
a294 1
#endif
a297 4
#ifdef PROTOTYPES
void
handle_42 (int sig)
#else
a300 1
#endif
a303 4
#ifdef PROTOTYPES
void
handle_43 (int sig)
#else
a306 1
#endif
a309 4
#ifdef PROTOTYPES
void
handle_44 (int sig)
#else
a312 1
#endif
a315 4
#ifdef PROTOTYPES
void
handle_45 (int sig)
#else
a318 1
#endif
a321 4
#ifdef PROTOTYPES
void
handle_46 (int sig)
#else
a324 1
#endif
a327 4
#ifdef PROTOTYPES
void
handle_47 (int sig)
#else
a330 1
#endif
a333 4
#ifdef PROTOTYPES
void
handle_48 (int sig)
#else
a336 1
#endif
a339 4
#ifdef PROTOTYPES
void
handle_49 (int sig)
#else
a342 1
#endif
a345 4
#ifdef PROTOTYPES
void
handle_50 (int sig)
#else
a348 1
#endif
a351 4
#ifdef PROTOTYPES
void
handle_51 (int sig)
#else
a354 1
#endif
a357 4
#ifdef PROTOTYPES
void
handle_52 (int sig)
#else
a360 1
#endif
a363 4
#ifdef PROTOTYPES
void
handle_53 (int sig)
#else
a366 1
#endif
a369 4
#ifdef PROTOTYPES
void
handle_54 (int sig)
#else
a372 1
#endif
a375 4
#ifdef PROTOTYPES
void
handle_55 (int sig)
#else
a378 1
#endif
a381 4
#ifdef PROTOTYPES
void
handle_56 (int sig)
#else
a384 1
#endif
a387 4
#ifdef PROTOTYPES
void
handle_57 (int sig)
#else
a390 1
#endif
a393 4
#ifdef PROTOTYPES
void
handle_58 (int sig)
#else
a396 1
#endif
a399 4
#ifdef PROTOTYPES
void
handle_59 (int sig)
#else
a402 1
#endif
a405 4
#ifdef PROTOTYPES
void
handle_60 (int sig)
#else
a408 1
#endif
a411 4
#ifdef PROTOTYPES
void
handle_61 (int sig)
#else
a414 1
#endif
a417 4
#ifdef PROTOTYPES
void
handle_62 (int sig)
#else
a420 1
#endif
a423 4
#ifdef PROTOTYPES
void
handle_63 (int sig)
#else
a426 1
#endif
a429 4
#ifdef PROTOTYPES
void
handle_TERM (int sig)
#else
a432 1
#endif
a440 1
  return 0;
a450 1
return 0;
a460 1
return 0;
a470 1
return 0;
a480 1
return 0;
a501 1
return 0;
a511 1
return 0;
a521 1
return 0;
a531 1
return 0;
a541 1
return 0;
a551 1
return 0;
a561 1
return 0;
a571 1
return 0;
a581 1
return 0;
a591 1
return 0;
a601 1
return 0;
a611 1
return 0;
a621 1
return 0;
a631 1
return 0;
a641 1
return 0;
a651 1
return 0;
a661 1
return 0;
a671 1
return 0;
a681 1
return 0;
a691 1
return 0;
a701 1
return 0;
a711 1
return 0;
a721 1
return 0;
a731 1
return 0;
a741 1
return 0;
a751 1
return 0;
a761 1
return 0;
a771 1
return 0;
a781 1
return 0;
a791 1
return 0;
a801 1
return 0;
a811 1
return 0;
a821 1
return 0;
a831 1
return 0;
a841 1
return 0;
a851 1
return 0;
a861 1
return 0;
a871 1
return 0;
a881 1
return 0;
a891 1
return 0;
a901 1
return 0;
a911 1
return 0;
a921 1
return 0;
a931 1
return 0;
a941 1
return 0;
a951 1
return 0;
a961 1
return 0;
a971 1
return 0;
a981 1
return 0;
a991 1
return 0;
a1001 1
return 0;
a1011 1
return 0;
a1021 1
return 0;
a1031 1
return 0;
a1041 1
return 0;
a1051 1
return 0;
a1061 1
return 0;
a1071 1
return 0;
a1081 1
return 0;
a1091 1
return 0;
a1101 1
return 0;
a1111 1
return 0;
a1121 1
return 0;
a1131 1
return 0;
a1141 1
return 0;
a1147 1
return 0;
@

