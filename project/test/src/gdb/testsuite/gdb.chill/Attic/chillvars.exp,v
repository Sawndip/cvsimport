head	1.4;
access;
symbols
	gdb_5_3-2002-12-12-release:1.3
	carlton_dictionary-20021115-merge:1.3
	kseitz_interps-20021105-merge:1.3
	kseitz_interps-20021103-merge:1.3
	drow-cplus-merge-20021020:1.3
	drow-cplus-merge-20021025:1.3
	carlton_dictionary-20021025-merge:1.3
	carlton_dictionary-20021011-merge:1.3
	drow-cplus-branch:1.3.0.10
	drow-cplus-branchpoint:1.3
	kseitz_interps-20020930-merge:1.3
	carlton_dictionary-20020927-merge:1.3
	carlton_dictionary-branch:1.3.0.8
	carlton_dictionary-20020920-branchpoint:1.3
	gdb_5_3-branch:1.3.0.6
	gdb_5_3-2002-09-04-branchpoint:1.3
	kseitz_interps-20020829-merge:1.3
	cagney_sysregs-20020825-branch:1.3.0.4
	cagney_sysregs-20020825-branchpoint:1.3
	readline_4_3-import-branch:1.3.0.2
	readline_4_3-import-branchpoint:1.3
	gdb_5_2_1-2002-07-23-release:1.2
	kseitz_interps-20020528-branch:1.2.0.16
	kseitz_interps-20020528-branchpoint:1.2
	cagney_regbuf-20020515-branch:1.2.0.14
	cagney_regbuf-20020515-branchpoint:1.2
	jimb-macro-020506-branch:1.2.0.12
	jimb-macro-020506-branchpoint:1.2
	gdb_5_2-2002-04-29-release:1.2
	gdb_5_2-branch:1.2.0.10
	gdb_5_2-2002-03-03-branchpoint:1.2
	gdb_5_1_1-2002-01-24-release:1.2
	gdb_5_1_0_1-2002-01-03-release:1.2
	cygnus_cvs_20020108_pre:1.2
	gdb_5_1_0_1-2002-01-03-branch:1.2.0.8
	gdb_5_1_0_1-2002-01-03-branchpoint:1.2
	gdb_5_1-2001-11-21-release:1.2
	gdb_s390-2001-09-26-branch:1.2.0.6
	gdb_s390-2001-09-26-branchpoint:1.2
	gdb_5_1-2001-07-29-branch:1.2.0.4
	gdb_5_1-2001-07-29-branchpoint:1.2
	dberlin-typesystem-branch:1.2.0.2
	dberlin-typesystem-branchpoint:1.2
	gdb-post-ptid_t-2001-05-03:1.2
	gdb-pre-ptid_t-2001-05-03:1.2
	insight-precleanup-2001-01-01:1.1.1.1
	gdb-post-protoization-2000-07-29:1.1.1.1
	gdb-pre-protoization-2000-07-29:1.1.1.1
	gdb-premipsmulti-2000-06-06-branch:1.1.1.1.0.6
	gdb-premipsmulti-2000-06-06-branchpoint:1.1.1.1
	gdb-post-params-removal-2000-06-04:1.1.1.1
	gdb-pre-params-removal-2000-06-04:1.1.1.1
	gdb-post-params-removal-2000-05-28:1.1.1.1
	gdb-pre-params-removal-2000-05-28:1.1.1.1
	gdb_5_0-2000-05-19-release:1.1.1.1
	gdb_4_18_2-2000-05-18-release:1.1.1.1
	gdb_4_95_1-2000-05-11-snapshot:1.1.1.1
	gdb_4_95_0-2000-04-27-snapshot:1.1.1.1
	gdb_5_0-2000-04-10-branch:1.1.1.1.0.4
	gdb_5_0-2000-04-10-branchpoint:1.1.1.1
	repo-unification-2000-02-06:1.1.1.1
	insight-2000-02-04:1.1.1.1
	gdb-2000-02-04:1.1.1.1
	gdb-2000-02-02:1.1.1.1
	gdb-2000-02-01:1.1.1.1
	gdb-2000-01-31:1.1.1.1
	gdb-2000-01-26:1.1.1.1
	gdb-2000-01-24:1.1.1.1
	gdb-2000-01-17:1.1.1.1
	gdb-2000-01-10:1.1.1.1
	gdb-2000-01-05:1.1.1.1
	gdb-1999-12-21:1.1.1.1
	gdb-1999-12-13:1.1.1.1
	gdb-1999-12-07:1.1.1.1
	gdb-1999-12-06:1.1.1.1
	gdb-1999-11-16:1.1.1.1
	gdb-1999-11-08:1.1.1.1
	gdb-1999-11-01:1.1.1.1
	gdb-1999-10-25:1.1.1.1
	gdb-1999-10-18:1.1.1.1
	gdb-1999-10-11:1.1.1.1
	gdb-1999-10-04:1.1.1.1
	gdb-1999-09-28:1.1.1.1
	gdb-1999-09-21:1.1.1.1
	gdb-1999-09-13:1.1.1.1
	gdb-1999-09-08:1.1.1.1
	gdb-1999-08-30:1.1.1.1
	gdb-1999-08-23:1.1.1.1
	gdb-1999-08-16:1.1.1.1
	gdb-1999-08-09:1.1.1.1
	gdb-1999-08-02:1.1.1.1
	gdb-1999-07-26:1.1.1.1
	gdb-1999-07-19:1.1.1.1
	gdb-1999-07-12:1.1.1.1
	gdb-post-reformat-19990707:1.1.1.1
	gdb-1999-07-07-post-reformat-snapshot:1.1.1.1
	gdb-pre-reformat-19990707:1.1.1.1
	gdb-1999-07-07:1.1.1.1
	gdb-1999-07-05:1.1.1.1
	gdb-1999-06-28:1.1.1.1
	gdb-1999-06-21:1.1.1.1
	gdb-1999-06-14:1.1.1.1
	gdb-1999-06-07:1.1.1.1
	gdb-1999-06-01:1.1.1.1
	gdb-4_18-branch:1.1.1.1.0.2
	gdb-4_18-release:1.1.1.1
	gdb-1999-05-25:1.1.1.1
	gdb-1999-05-19:1.1.1.1
	gdb-1999-05-10:1.1.1.1
	gdb-19990504:1.1.1.1
	gdb-19990422:1.1.1.1
	SNAPSHOT:1.1.1
	gdb-4_18:1.1.1.1
	GDB_4_18:1.1.1;
locks; strict;
comment	@# @;
expand	@o@;


1.4
date	2002.12.16.19.33.50;	author cagney;	state dead;
branches;
next	1.3;

1.3
date	2002.08.02.00.25.23;	author cagney;	state Exp;
branches
	1.3.8.1
	1.3.10.1;
next	1.2;

1.2
date	2001.03.06.08.21.54;	author kevinb;	state Exp;
branches
	1.2.16.1;
next	1.1;

1.1
date	99.04.16.01.34.33;	author shebs;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.04.16.01.34.33;	author shebs;	state Exp;
branches;
next	;

1.2.16.1
date	2002.08.09.18.34.34;	author kseitz;	state Exp;
branches;
next	;

1.3.8.1
date	2002.12.23.19.39.14;	author carlton;	state dead;
branches;
next	;

1.3.10.1
date	2003.12.14.20.27.51;	author drow;	state dead;
branches;
next	;


desc
@@


1.4
log
@Remove obsolete testsuite code.
@
text
@# OBSOLETE # Copyright 1992, 1994, 1995, 1996 Free Software Foundation, Inc.
# OBSOLETE 
# OBSOLETE # This program is free software; you can redistribute it and/or modify
# OBSOLETE # it under the terms of the GNU General Public License as published by
# OBSOLETE # the Free Software Foundation; either version 2 of the License, or
# OBSOLETE # (at your option) any later version.
# OBSOLETE # 
# OBSOLETE # This program is distributed in the hope that it will be useful,
# OBSOLETE # but WITHOUT ANY WARRANTY; without even the implied warranty of
# OBSOLETE # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# OBSOLETE # GNU General Public License for more details.
# OBSOLETE # 
# OBSOLETE # You should have received a copy of the GNU General Public License
# OBSOLETE # along with this program; if not, write to the Free Software
# OBSOLETE # Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.  
# OBSOLETE 
# OBSOLETE # Please email any bugs, comments, and/or additions to this file to:
# OBSOLETE # bug-gdb@@prep.ai.mit.edu
# OBSOLETE 
# OBSOLETE # This file was written by Fred Fish. (fnf@@cygnus.com)
# OBSOLETE 
# OBSOLETE if $tracelevel then {
# OBSOLETE 	strace $tracelevel
# OBSOLETE }
# OBSOLETE 
# OBSOLETE if [skip_chill_tests] then { continue }
# OBSOLETE 
# OBSOLETE set testfile "chillvars"
# OBSOLETE set srcfile ${srcdir}/$subdir/${testfile}.ch
# OBSOLETE set binfile ${objdir}/${subdir}/${testfile}.exe
# OBSOLETE if  { [compile "${srcfile} -g -o ${binfile} ${CHILL_RT0} ${CHILL_LIB}"] != "" } {
# OBSOLETE     perror "Couldn't compile ${srcfile}"
# OBSOLETE     return -1
# OBSOLETE }
# OBSOLETE 
# OBSOLETE proc do_tests {} {
# OBSOLETE     global prms_id bug_id subdir objdir srcdir binfile gdb_prompt
# OBSOLETE 
# OBSOLETE     set prms_id 0
# OBSOLETE     set bug_id 0
# OBSOLETE 
# OBSOLETE     # Start with a fresh gdb.
# OBSOLETE 
# OBSOLETE     gdb_exit
# OBSOLETE     gdb_start
# OBSOLETE     gdb_reinitialize_dir $srcdir/$subdir
# OBSOLETE     gdb_load $binfile
# OBSOLETE 
# OBSOLETE     gdb_test "set language chill" ""
# OBSOLETE 
# OBSOLETE     # This is needed (at least on SunOS4) to make sure the
# OBSOLETE     # the symbol table is read.
# OBSOLETE     gdb_test "break chillvars.ch:3" ""
# OBSOLETE     gdb_test "delete 1" ""
# OBSOLETE 
# OBSOLETE     gdb_test "set width 0" ""
# OBSOLETE     gdb_test "set print sevenbit-strings" ""
# OBSOLETE     gdb_test "set print address off" ""
# OBSOLETE 
# OBSOLETE     test_BOOL
# OBSOLETE     test_CHAR
# OBSOLETE     test_BYTE
# OBSOLETE     test_UBYTE
# OBSOLETE     test_INT
# OBSOLETE     test_UINT
# OBSOLETE     test_LONG
# OBSOLETE     test_ULONG
# OBSOLETE     test_REAL
# OBSOLETE     test_LONG_REAL
# OBSOLETE     test_POWERSET
# OBSOLETE     test_arrays
# OBSOLETE     test_strings
# OBSOLETE     test_structs
# OBSOLETE 
# OBSOLETE     test_ptr
# OBSOLETE }
# OBSOLETE 
# OBSOLETE proc test_BOOL {} {
# OBSOLETE 
# OBSOLETE     gdb_test "ptype bool_true"		"type = (BOOL|bool)"
# OBSOLETE     gdb_test "ptype bool_false"		"type = (BOOL|bool)"
# OBSOLETE     gdb_test "whatis bool_true"		"type = (BOOL|bool)"
# OBSOLETE     gdb_test "whatis bool_false"	"type = (BOOL|bool)"
# OBSOLETE     gdb_test "print bool_false"		" = FALSE"
# OBSOLETE     gdb_test "print bool_true"		" = TRUE"
# OBSOLETE 
# OBSOLETE }
# OBSOLETE 
# OBSOLETE proc test_CHAR {} {
# OBSOLETE     gdb_test "ptype control_char"	"type = (CHAR|char)"
# OBSOLETE     gdb_test "whatis control_char"	"type = (CHAR|char)"
# OBSOLETE     gdb_test "print control_char"	{ = '\^[(]7[)]'}
# OBSOLETE     gdb_test "ptype printable_char"	"type = (CHAR|char)"
# OBSOLETE     gdb_test "whatis printable_char"	"type = (CHAR|char)"
# OBSOLETE     gdb_test "print printable_char"	" = 'a'"
# OBSOLETE 
# OBSOLETE     gdb_test "print lower(char)"	{ = '\^[(]0[)]'}
# OBSOLETE     gdb_test "print upper(char)"	{ = '\^[(]255[)]'}
# OBSOLETE }
# OBSOLETE 
# OBSOLETE proc test_BYTE {} {
# OBSOLETE     gdb_test "ptype byte_low"		"type = (BYTE|byte)"
# OBSOLETE     gdb_test "whatis byte_low"		"type = (BYTE|byte)"
# OBSOLETE     gdb_test "print byte_low"		" = -128"
# OBSOLETE     gdb_test "ptype byte_high"		"type = (BYTE|byte)"
# OBSOLETE     gdb_test "whatis byte_high"		"type = (BYTE|byte)"
# OBSOLETE     gdb_test "print byte_high"		" = 127"
# OBSOLETE 
# OBSOLETE     gdb_test "print lower(byte)"	" = -128"
# OBSOLETE     gdb_test "print upper(byte)"	" = 127"
# OBSOLETE     gdb_test "print lower(byte_high)"	" = -128"
# OBSOLETE     gdb_test "print upper(byte_high)"	" = 127"
# OBSOLETE }
# OBSOLETE 
# OBSOLETE proc test_UBYTE {} {
# OBSOLETE     gdb_test "ptype ubyte_low"		"type = (UBYTE|ubyte)"
# OBSOLETE     gdb_test "whatis ubyte_low"		"type = (UBYTE|ubyte)"
# OBSOLETE     gdb_test "print ubyte_low"		" = 0"
# OBSOLETE     gdb_test "ptype ubyte_high"		"type = (UBYTE|ubyte)"
# OBSOLETE     gdb_test "whatis ubyte_high"	"type = (UBYTE|ubyte)"
# OBSOLETE     gdb_test "print ubyte_high"		" = 255"
# OBSOLETE }
# OBSOLETE 
# OBSOLETE proc test_INT {} {
# OBSOLETE     gdb_test "ptype int_low"		"type = (INT|int)"
# OBSOLETE     gdb_test "whatis int_low"		"type = (INT|int)"
# OBSOLETE     gdb_test "print int_low"		" = -32768"
# OBSOLETE     gdb_test "ptype int_high"		"type = (INT|int)"
# OBSOLETE     gdb_test "whatis int_high"		"type = (INT|int)"
# OBSOLETE     gdb_test "print int_high"		" = 32767"
# OBSOLETE }
# OBSOLETE 
# OBSOLETE proc test_UINT {} {
# OBSOLETE     gdb_test "ptype uint_low"		"type = (UINT|uint)"
# OBSOLETE     gdb_test "whatis uint_low"		"type = (UINT|uint)"
# OBSOLETE     gdb_test "print uint_low"		" = 0"
# OBSOLETE     gdb_test "ptype uint_high"		"type = (UINT|uint)"
# OBSOLETE     gdb_test "whatis uint_high"		"type = (UINT|uint)"
# OBSOLETE     gdb_test "print uint_high"		" = 65535"
# OBSOLETE }
# OBSOLETE 
# OBSOLETE proc test_LONG {} {
# OBSOLETE     gdb_test "ptype long_low"		"type = (LONG|long)"
# OBSOLETE     gdb_test "whatis long_low"		"type = (LONG|long)"
# OBSOLETE     gdb_test "print long_low"		" = -2147483648"
# OBSOLETE     gdb_test "ptype long_high"		"type = (LONG|long)"
# OBSOLETE     gdb_test "whatis long_high"		"type = (LONG|long)"
# OBSOLETE     gdb_test "print long_high"		" = 2147483647"
# OBSOLETE }
# OBSOLETE 
# OBSOLETE proc test_ULONG {} {
# OBSOLETE     gdb_test "ptype ulong_low"		"type = (ULONG|ulong)"
# OBSOLETE     gdb_test "whatis ulong_low"		"type = (ULONG|ulong)"
# OBSOLETE     gdb_test "print ulong_low"		" = 0"
# OBSOLETE     gdb_test "ptype ulong_high"		"type = (ULONG|ulong)"
# OBSOLETE     gdb_test "whatis ulong_high"	"type = (ULONG|ulong)"
# OBSOLETE     gdb_test "print ulong_high"		" = 4294967295"
# OBSOLETE }
# OBSOLETE 
# OBSOLETE proc test_REAL {} {
# OBSOLETE     gdb_test "ptype real1"		"type = (FLOAT|float)"
# OBSOLETE     gdb_test "whatis real1"		"type = (FLOAT|float)"
# OBSOLETE     gdb_test "print real1"		" = 3.14159274"
# OBSOLETE }
# OBSOLETE 
# OBSOLETE proc test_LONG_REAL {} {
# OBSOLETE     gdb_test "ptype long_real1"		"type = (DOUBLE|double)"
# OBSOLETE     gdb_test "whatis long_real1"	"type = (DOUBLE|double)"
# OBSOLETE     gdb_test "print long_real1"		" = 3\\.1400000000000001e\\+300"
# OBSOLETE }
# OBSOLETE 
# OBSOLETE proc test_POWERSET {} {
# OBSOLETE }
# OBSOLETE 
# OBSOLETE proc test_arrays {} {
# OBSOLETE     gdb_test "ptype booltable1"		"type = ARRAY \\(+0:3\\)+ (BOOL|bool)"
# OBSOLETE     gdb_test_exact "print booltable1"	\
# OBSOLETE 	{ = [(0): TRUE, (1:2): FALSE, (3): TRUE]}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype booltable2"		"type = ARRAY \\(+4:7\\)+ (BOOL|bool)"
# OBSOLETE     gdb_test_exact "print booltable2" { = [(4): TRUE, (5:6): FALSE, (7): TRUE]}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype chartable1"		"type = ARRAY \\(+0:2\\)+ (CHAR|char)"
# OBSOLETE     gdb_test_exact "print chartable1"  {= [(0): '^(0)', (1): '^(1)', (2): '^(2)']}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype chartable2"		"type = ARRAY \\(+3:5\\)+ (CHAR|char)"
# OBSOLETE     gdb_test_exact "print chartable2"	\
# OBSOLETE 	{= [(3): '^(0)', (4): '^(1)', (5): '^(2)']}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype bytetable1"		"type = ARRAY \\(+0:4\\)+ (BYTE|byte)"
# OBSOLETE     gdb_test_exact "print bytetable1"		\
# OBSOLETE        {= [(0): -2, (1): -1, (2): 0, (3): 1, (4): 2]}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype bytetable2"		"type = ARRAY \\(+5:9\\)+ (BYTE|byte)"
# OBSOLETE     gdb_test_exact "print bytetable2"	\
# OBSOLETE 	{= [(5): -2, (6): -1, (7): 0, (8): 1, (9): 2]}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype bytetable3" \
# OBSOLETE 	"type = ARRAY \\(1:2\\) ARRAY \\('c':'d'\\) ARRAY \\(FALSE:TRUE\\) (BYTE|byte)"
# OBSOLETE     gdb_test_exact "print bytetable3" \
# OBSOLETE     {= [(1): [('c'): [(FALSE): 0, (TRUE): 1], ('d'): [(FALSE): 2, (TRUE): 3]], (2): [('c'): [(FALSE): 4, (TRUE): 5], ('d'): [(FALSE): 6, (TRUE): 7]]]}
# OBSOLETE     gdb_test "ptype bytetable4" \
# OBSOLETE 	"type = ARRAY \\(1:2\\) ARRAY \\('c':'d'\\) ARRAY \\(FALSE:TRUE\\) (BYTE|byte)"
# OBSOLETE     gdb_test_exact "print bytetable4" \
# OBSOLETE     {= [(1): [('c'): [(FALSE): 0, (TRUE): 1], ('d'): [(FALSE): 2, (TRUE): 3]], (2): [('c'): [(FALSE): 4, (TRUE): 5], ('d'): [(FALSE): 6, (TRUE): 7]]]}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype ubytetable1"	"type = ARRAY \\(+0:4\\)+ (UBYTE|ubyte)"
# OBSOLETE     gdb_test_exact "print ubytetable1"	\
# OBSOLETE 	{= [(0): 0, (1): 1, (2): 2, (3): 3, (4): 4]}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype ubytetable2"	"type = ARRAY \\(+5:9\\)+ (UBYTE|ubyte)"
# OBSOLETE     gdb_test_exact "print ubytetable2"	\
# OBSOLETE 	{= [(5): 0, (6): 1, (7): 2, (8): 3, (9): 4]}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype inttable1"		"type = ARRAY \\(+0:4\\)+ (INT|int)"
# OBSOLETE     gdb_test_exact "print inttable1"	\
# OBSOLETE 	{= [(0): -2, (1): -1, (2): 0, (3): 1, (4): 2]}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype inttable2"		"type = ARRAY \\(+5:9\\)+ (INT|int)"
# OBSOLETE     gdb_test_exact "print inttable2"		\
# OBSOLETE 	{= [(5): -2, (6): -1, (7): 0, (8): 1, (9): 2]}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype uinttable1"		"type = ARRAY \\(+0:4\\)+ (UINT|uint)"
# OBSOLETE     gdb_test_exact "print uinttable1"	\
# OBSOLETE 	{= [(0): 0, (1): 1, (2): 2, (3): 3, (4): 4]}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype uinttable2"		"type = ARRAY \\(+5:9\\)+ (UINT|uint)"
# OBSOLETE     gdb_test_exact "print uinttable2"	\
# OBSOLETE 	{= [(5): 0, (6): 1, (7): 2, (8): 3, (9): 4]}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype longtable1"		"type = ARRAY \\(+0:4\\)+ (LONG|long)"
# OBSOLETE     gdb_test_exact "print longtable1"	\
# OBSOLETE 	{= [(0): -2, (1): -1, (2): 0, (3): 1, (4): 2]}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype longtable2"		"type = ARRAY \\(+5:9\\)+ (LONG|long)"
# OBSOLETE     gdb_test_exact "print longtable2"	\
# OBSOLETE 	{= [(5): -2, (6): -1, (7): 0, (8): 1, (9): 2]}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype ulongtable1"	"type = ARRAY \\(+0:4\\)+ (ULONG|ulong)"
# OBSOLETE     gdb_test_exact "print ulongtable1"	\
# OBSOLETE 	{= [(0): 0, (1): 1, (2): 2, (3): 3, (4): 4]}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype ulongtable2"	"type = ARRAY \\(+5:9\\)+ (ULONG|ulong)"
# OBSOLETE     gdb_test_exact "print ulongtable2"	\
# OBSOLETE 	{= [(5): 0, (6): 1, (7): 2, (8): 3, (9): 4]}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype realtable1"		"type = ARRAY \\(+0:4\\)+ (FLOAT|float)"
# OBSOLETE     gdb_test_exact "print realtable1"	\
# OBSOLETE 	{= [(0): -2, (1): -1, (2): 0, (3): 1, (4): 2]}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype realtable2"		"type = ARRAY \\(+5:9\\)+ (FLOAT|float)"
# OBSOLETE     gdb_test_exact "print realtable2"	\
# OBSOLETE 	{= [(5): -2, (6): -1, (7): 0, (8): 1, (9): 2]}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype longrealtable1"	"type = ARRAY \\(+0:4\\)+ (DOUBLE|double)"
# OBSOLETE     gdb_test_exact "print longrealtable1" \
# OBSOLETE 	{= [(0): -2, (1): -1, (2): 0, (3): 1, (4): 2]}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype longrealtable2"	"type = ARRAY \\(+5:9\\)+ (DOUBLE|double)"
# OBSOLETE     gdb_test_exact "print longrealtable2"	\
# OBSOLETE 	{= [(5): -2, (6): -1, (7): 0, (8): 1, (9): 2]}
# OBSOLETE 
# OBSOLETE     gdb_test "print length(longrealtable2)" {= 5}
# OBSOLETE     gdb_test "print lower(longrealtable2)" {= 5}
# OBSOLETE     gdb_test "print upper(longrealtable2)" {= 9}
# OBSOLETE }
# OBSOLETE 
# OBSOLETE proc test_strings {} {
# OBSOLETE 
# OBSOLETE     gdb_test "ptype string1"		"type = CHARS \[(\]4\[)\]+"
# OBSOLETE     gdb_test "print string1"		" = \"abcd\""
# OBSOLETE 
# OBSOLETE     gdb_test "ptype string2"		"type = CHARS \[(\]+5\[)\]+"
# OBSOLETE     gdb_test "print string2"		{ = \"ef\^\(0\)gh\"}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype string3"		"type = CHARS \[(\]+6\[)\]+"
# OBSOLETE     gdb_test "print string3"		" = \"efghij\""
# OBSOLETE 
# OBSOLETE     gdb_test "ptype string4"		"type = CHARS \[(\]+7\[)\]+"
# OBSOLETE     gdb_test "print string4"		{ = \"zzzzzz\^\(0\)\"}
# OBSOLETE 
# OBSOLETE     # These tests require a running process, so run to one of the procs
# OBSOLETE     # and then do the tests.
# OBSOLETE 
# OBSOLETE     if [runto scalar_arithmetic] then {
# OBSOLETE 	gdb_test "ptype string1//string2"	"type = CHARS \\(9\\)"
# OBSOLETE 	gdb_test "print string1//string2"    { = \"abcdef\^\(0\)gh\"}
# OBSOLETE 	gdb_test_exact {ptype "a chill string"} {type = CHARS (14)}
# OBSOLETE 	gdb_test "print 'a chill string'"	" = \"a chill string\""
# OBSOLETE 	gdb_test "print \"ef\"//c'00'//\"gh\""	{ = \"ef\^\(0\)gh\"}
# OBSOLETE 	gdb_test "print string1 // \"efgh\""	" = \"abcdefgh\""
# OBSOLETE 	gdb_test "print (6) 'z'"		" = \"zzzzzz\""
# OBSOLETE 	gdb_test "ptype (6) 'z'"		"type = CHARS \[(\]+6\[)\]+"
# OBSOLETE 	gdb_test "print (1+2*3) 'x'"		" = \"xxxxxxx\""
# OBSOLETE 	gdb_test "ptype (1+2*3) 'x'"		"type = CHARS \[(\]+7\[)\]+"
# OBSOLETE     }
# OBSOLETE 
# OBSOLETE }
# OBSOLETE 
# OBSOLETE proc test_structs {} {
# OBSOLETE     gdb_test "ptype struct1" \
# OBSOLETE 	"type = STRUCT \\(+.*abool (BOOL|bool),.*aint (INT|int),.*astring CHARS \\(+8\\)+.*\\)+"
# OBSOLETE     gdb_test "print struct1" \
# OBSOLETE 	".* = \\\[\.abool: TRUE, \.aint: 123, \.astring: \"a string\"\\\]"
# OBSOLETE     gdb_test "ptype struct2" \
# OBSOLETE 	"type = STRUCT \\(+.*abool (BOOL|bool),.*nstruct simple_struct,.*aint (INT|int).*\\)+"
# OBSOLETE     gdb_test "print struct2" \
# OBSOLETE 	".* = \\\[.abool: TRUE, \.nstruct: \\\[\.abool: FALSE, \.aint: 456, \.astring: \"deadbeef\"\\\], \.aint: 789\\\]"
# OBSOLETE }
# OBSOLETE 
# OBSOLETE proc test_ptr {} {
# OBSOLETE     # This is to test Cygnus PR 6932
# OBSOLETE     gdb_test "print xptr->int" ".* = 32767"
# OBSOLETE }
# OBSOLETE 
# OBSOLETE do_tests
@


1.3
log
@More obsolete CHILL.
@
text
@@


1.3.10.1
log
@Merge drow-cplus-branch to:
  cvs rtag -D 2003-12-14 00:00:00 UTC drow-cplus-merge-20031214 gdb+dejagnu
@
text
@@


1.3.8.1
log
@2002-12-23  David Carlton  <carlton@@math.stanford.edu>

	* Merge from mainline; tag is carlton_dictionary-20021223-merge.
@
text
@@


1.2
log
@Update/correct copyright notices.
@
text
@d1 316
a316 316
# Copyright 1992, 1994, 1995, 1996 Free Software Foundation, Inc.

# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 2 of the License, or
# (at your option) any later version.
# 
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
# 
# You should have received a copy of the GNU General Public License
# along with this program; if not, write to the Free Software
# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.  

# Please email any bugs, comments, and/or additions to this file to:
# bug-gdb@@prep.ai.mit.edu

# This file was written by Fred Fish. (fnf@@cygnus.com)

if $tracelevel then {
	strace $tracelevel
}

if [skip_chill_tests] then { continue }

set testfile "chillvars"
set srcfile ${srcdir}/$subdir/${testfile}.ch
set binfile ${objdir}/${subdir}/${testfile}.exe
if  { [compile "${srcfile} -g -o ${binfile} ${CHILL_RT0} ${CHILL_LIB}"] != "" } {
    perror "Couldn't compile ${srcfile}"
    return -1
}

proc do_tests {} {
    global prms_id bug_id subdir objdir srcdir binfile gdb_prompt

    set prms_id 0
    set bug_id 0

    # Start with a fresh gdb.

    gdb_exit
    gdb_start
    gdb_reinitialize_dir $srcdir/$subdir
    gdb_load $binfile

    gdb_test "set language chill" ""

    # This is needed (at least on SunOS4) to make sure the
    # the symbol table is read.
    gdb_test "break chillvars.ch:3" ""
    gdb_test "delete 1" ""

    gdb_test "set width 0" ""
    gdb_test "set print sevenbit-strings" ""
    gdb_test "set print address off" ""

    test_BOOL
    test_CHAR
    test_BYTE
    test_UBYTE
    test_INT
    test_UINT
    test_LONG
    test_ULONG
    test_REAL
    test_LONG_REAL
    test_POWERSET
    test_arrays
    test_strings
    test_structs

    test_ptr
}

proc test_BOOL {} {

    gdb_test "ptype bool_true"		"type = (BOOL|bool)"
    gdb_test "ptype bool_false"		"type = (BOOL|bool)"
    gdb_test "whatis bool_true"		"type = (BOOL|bool)"
    gdb_test "whatis bool_false"	"type = (BOOL|bool)"
    gdb_test "print bool_false"		" = FALSE"
    gdb_test "print bool_true"		" = TRUE"

}

proc test_CHAR {} {
    gdb_test "ptype control_char"	"type = (CHAR|char)"
    gdb_test "whatis control_char"	"type = (CHAR|char)"
    gdb_test "print control_char"	{ = '\^[(]7[)]'}
    gdb_test "ptype printable_char"	"type = (CHAR|char)"
    gdb_test "whatis printable_char"	"type = (CHAR|char)"
    gdb_test "print printable_char"	" = 'a'"

    gdb_test "print lower(char)"	{ = '\^[(]0[)]'}
    gdb_test "print upper(char)"	{ = '\^[(]255[)]'}
}

proc test_BYTE {} {
    gdb_test "ptype byte_low"		"type = (BYTE|byte)"
    gdb_test "whatis byte_low"		"type = (BYTE|byte)"
    gdb_test "print byte_low"		" = -128"
    gdb_test "ptype byte_high"		"type = (BYTE|byte)"
    gdb_test "whatis byte_high"		"type = (BYTE|byte)"
    gdb_test "print byte_high"		" = 127"

    gdb_test "print lower(byte)"	" = -128"
    gdb_test "print upper(byte)"	" = 127"
    gdb_test "print lower(byte_high)"	" = -128"
    gdb_test "print upper(byte_high)"	" = 127"
}

proc test_UBYTE {} {
    gdb_test "ptype ubyte_low"		"type = (UBYTE|ubyte)"
    gdb_test "whatis ubyte_low"		"type = (UBYTE|ubyte)"
    gdb_test "print ubyte_low"		" = 0"
    gdb_test "ptype ubyte_high"		"type = (UBYTE|ubyte)"
    gdb_test "whatis ubyte_high"	"type = (UBYTE|ubyte)"
    gdb_test "print ubyte_high"		" = 255"
}

proc test_INT {} {
    gdb_test "ptype int_low"		"type = (INT|int)"
    gdb_test "whatis int_low"		"type = (INT|int)"
    gdb_test "print int_low"		" = -32768"
    gdb_test "ptype int_high"		"type = (INT|int)"
    gdb_test "whatis int_high"		"type = (INT|int)"
    gdb_test "print int_high"		" = 32767"
}

proc test_UINT {} {
    gdb_test "ptype uint_low"		"type = (UINT|uint)"
    gdb_test "whatis uint_low"		"type = (UINT|uint)"
    gdb_test "print uint_low"		" = 0"
    gdb_test "ptype uint_high"		"type = (UINT|uint)"
    gdb_test "whatis uint_high"		"type = (UINT|uint)"
    gdb_test "print uint_high"		" = 65535"
}

proc test_LONG {} {
    gdb_test "ptype long_low"		"type = (LONG|long)"
    gdb_test "whatis long_low"		"type = (LONG|long)"
    gdb_test "print long_low"		" = -2147483648"
    gdb_test "ptype long_high"		"type = (LONG|long)"
    gdb_test "whatis long_high"		"type = (LONG|long)"
    gdb_test "print long_high"		" = 2147483647"
}

proc test_ULONG {} {
    gdb_test "ptype ulong_low"		"type = (ULONG|ulong)"
    gdb_test "whatis ulong_low"		"type = (ULONG|ulong)"
    gdb_test "print ulong_low"		" = 0"
    gdb_test "ptype ulong_high"		"type = (ULONG|ulong)"
    gdb_test "whatis ulong_high"	"type = (ULONG|ulong)"
    gdb_test "print ulong_high"		" = 4294967295"
}

proc test_REAL {} {
    gdb_test "ptype real1"		"type = (FLOAT|float)"
    gdb_test "whatis real1"		"type = (FLOAT|float)"
    gdb_test "print real1"		" = 3.14159274"
}

proc test_LONG_REAL {} {
    gdb_test "ptype long_real1"		"type = (DOUBLE|double)"
    gdb_test "whatis long_real1"	"type = (DOUBLE|double)"
    gdb_test "print long_real1"		" = 3\\.1400000000000001e\\+300"
}

proc test_POWERSET {} {
}

proc test_arrays {} {
    gdb_test "ptype booltable1"		"type = ARRAY \\(+0:3\\)+ (BOOL|bool)"
    gdb_test_exact "print booltable1"	\
	{ = [(0): TRUE, (1:2): FALSE, (3): TRUE]}

    gdb_test "ptype booltable2"		"type = ARRAY \\(+4:7\\)+ (BOOL|bool)"
    gdb_test_exact "print booltable2" { = [(4): TRUE, (5:6): FALSE, (7): TRUE]}

    gdb_test "ptype chartable1"		"type = ARRAY \\(+0:2\\)+ (CHAR|char)"
    gdb_test_exact "print chartable1"  {= [(0): '^(0)', (1): '^(1)', (2): '^(2)']}

    gdb_test "ptype chartable2"		"type = ARRAY \\(+3:5\\)+ (CHAR|char)"
    gdb_test_exact "print chartable2"	\
	{= [(3): '^(0)', (4): '^(1)', (5): '^(2)']}

    gdb_test "ptype bytetable1"		"type = ARRAY \\(+0:4\\)+ (BYTE|byte)"
    gdb_test_exact "print bytetable1"		\
       {= [(0): -2, (1): -1, (2): 0, (3): 1, (4): 2]}

    gdb_test "ptype bytetable2"		"type = ARRAY \\(+5:9\\)+ (BYTE|byte)"
    gdb_test_exact "print bytetable2"	\
	{= [(5): -2, (6): -1, (7): 0, (8): 1, (9): 2]}

    gdb_test "ptype bytetable3" \
	"type = ARRAY \\(1:2\\) ARRAY \\('c':'d'\\) ARRAY \\(FALSE:TRUE\\) (BYTE|byte)"
    gdb_test_exact "print bytetable3" \
    {= [(1): [('c'): [(FALSE): 0, (TRUE): 1], ('d'): [(FALSE): 2, (TRUE): 3]], (2): [('c'): [(FALSE): 4, (TRUE): 5], ('d'): [(FALSE): 6, (TRUE): 7]]]}
    gdb_test "ptype bytetable4" \
	"type = ARRAY \\(1:2\\) ARRAY \\('c':'d'\\) ARRAY \\(FALSE:TRUE\\) (BYTE|byte)"
    gdb_test_exact "print bytetable4" \
    {= [(1): [('c'): [(FALSE): 0, (TRUE): 1], ('d'): [(FALSE): 2, (TRUE): 3]], (2): [('c'): [(FALSE): 4, (TRUE): 5], ('d'): [(FALSE): 6, (TRUE): 7]]]}

    gdb_test "ptype ubytetable1"	"type = ARRAY \\(+0:4\\)+ (UBYTE|ubyte)"
    gdb_test_exact "print ubytetable1"	\
	{= [(0): 0, (1): 1, (2): 2, (3): 3, (4): 4]}

    gdb_test "ptype ubytetable2"	"type = ARRAY \\(+5:9\\)+ (UBYTE|ubyte)"
    gdb_test_exact "print ubytetable2"	\
	{= [(5): 0, (6): 1, (7): 2, (8): 3, (9): 4]}

    gdb_test "ptype inttable1"		"type = ARRAY \\(+0:4\\)+ (INT|int)"
    gdb_test_exact "print inttable1"	\
	{= [(0): -2, (1): -1, (2): 0, (3): 1, (4): 2]}

    gdb_test "ptype inttable2"		"type = ARRAY \\(+5:9\\)+ (INT|int)"
    gdb_test_exact "print inttable2"		\
	{= [(5): -2, (6): -1, (7): 0, (8): 1, (9): 2]}

    gdb_test "ptype uinttable1"		"type = ARRAY \\(+0:4\\)+ (UINT|uint)"
    gdb_test_exact "print uinttable1"	\
	{= [(0): 0, (1): 1, (2): 2, (3): 3, (4): 4]}

    gdb_test "ptype uinttable2"		"type = ARRAY \\(+5:9\\)+ (UINT|uint)"
    gdb_test_exact "print uinttable2"	\
	{= [(5): 0, (6): 1, (7): 2, (8): 3, (9): 4]}

    gdb_test "ptype longtable1"		"type = ARRAY \\(+0:4\\)+ (LONG|long)"
    gdb_test_exact "print longtable1"	\
	{= [(0): -2, (1): -1, (2): 0, (3): 1, (4): 2]}

    gdb_test "ptype longtable2"		"type = ARRAY \\(+5:9\\)+ (LONG|long)"
    gdb_test_exact "print longtable2"	\
	{= [(5): -2, (6): -1, (7): 0, (8): 1, (9): 2]}

    gdb_test "ptype ulongtable1"	"type = ARRAY \\(+0:4\\)+ (ULONG|ulong)"
    gdb_test_exact "print ulongtable1"	\
	{= [(0): 0, (1): 1, (2): 2, (3): 3, (4): 4]}

    gdb_test "ptype ulongtable2"	"type = ARRAY \\(+5:9\\)+ (ULONG|ulong)"
    gdb_test_exact "print ulongtable2"	\
	{= [(5): 0, (6): 1, (7): 2, (8): 3, (9): 4]}

    gdb_test "ptype realtable1"		"type = ARRAY \\(+0:4\\)+ (FLOAT|float)"
    gdb_test_exact "print realtable1"	\
	{= [(0): -2, (1): -1, (2): 0, (3): 1, (4): 2]}

    gdb_test "ptype realtable2"		"type = ARRAY \\(+5:9\\)+ (FLOAT|float)"
    gdb_test_exact "print realtable2"	\
	{= [(5): -2, (6): -1, (7): 0, (8): 1, (9): 2]}

    gdb_test "ptype longrealtable1"	"type = ARRAY \\(+0:4\\)+ (DOUBLE|double)"
    gdb_test_exact "print longrealtable1" \
	{= [(0): -2, (1): -1, (2): 0, (3): 1, (4): 2]}

    gdb_test "ptype longrealtable2"	"type = ARRAY \\(+5:9\\)+ (DOUBLE|double)"
    gdb_test_exact "print longrealtable2"	\
	{= [(5): -2, (6): -1, (7): 0, (8): 1, (9): 2]}

    gdb_test "print length(longrealtable2)" {= 5}
    gdb_test "print lower(longrealtable2)" {= 5}
    gdb_test "print upper(longrealtable2)" {= 9}
}

proc test_strings {} {

    gdb_test "ptype string1"		"type = CHARS \[(\]4\[)\]+"
    gdb_test "print string1"		" = \"abcd\""

    gdb_test "ptype string2"		"type = CHARS \[(\]+5\[)\]+"
    gdb_test "print string2"		{ = \"ef\^\(0\)gh\"}

    gdb_test "ptype string3"		"type = CHARS \[(\]+6\[)\]+"
    gdb_test "print string3"		" = \"efghij\""

    gdb_test "ptype string4"		"type = CHARS \[(\]+7\[)\]+"
    gdb_test "print string4"		{ = \"zzzzzz\^\(0\)\"}

    # These tests require a running process, so run to one of the procs
    # and then do the tests.

    if [runto scalar_arithmetic] then {
	gdb_test "ptype string1//string2"	"type = CHARS \\(9\\)"
	gdb_test "print string1//string2"    { = \"abcdef\^\(0\)gh\"}
	gdb_test_exact {ptype "a chill string"} {type = CHARS (14)}
	gdb_test "print 'a chill string'"	" = \"a chill string\""
	gdb_test "print \"ef\"//c'00'//\"gh\""	{ = \"ef\^\(0\)gh\"}
	gdb_test "print string1 // \"efgh\""	" = \"abcdefgh\""
	gdb_test "print (6) 'z'"		" = \"zzzzzz\""
	gdb_test "ptype (6) 'z'"		"type = CHARS \[(\]+6\[)\]+"
	gdb_test "print (1+2*3) 'x'"		" = \"xxxxxxx\""
	gdb_test "ptype (1+2*3) 'x'"		"type = CHARS \[(\]+7\[)\]+"
    }

}

proc test_structs {} {
    gdb_test "ptype struct1" \
	"type = STRUCT \\(+.*abool (BOOL|bool),.*aint (INT|int),.*astring CHARS \\(+8\\)+.*\\)+"
    gdb_test "print struct1" \
	".* = \\\[\.abool: TRUE, \.aint: 123, \.astring: \"a string\"\\\]"
    gdb_test "ptype struct2" \
	"type = STRUCT \\(+.*abool (BOOL|bool),.*nstruct simple_struct,.*aint (INT|int).*\\)+"
    gdb_test "print struct2" \
	".* = \\\[.abool: TRUE, \.nstruct: \\\[\.abool: FALSE, \.aint: 456, \.astring: \"deadbeef\"\\\], \.aint: 789\\\]"
}

proc test_ptr {} {
    # This is to test Cygnus PR 6932
    gdb_test "print xptr->int" ".* = 32767"
}

do_tests
@


1.2.16.1
log
@Merge with kseitz_interps-20020809-merge of CVS head.
@
text
@d1 316
a316 316
# OBSOLETE # Copyright 1992, 1994, 1995, 1996 Free Software Foundation, Inc.
# OBSOLETE 
# OBSOLETE # This program is free software; you can redistribute it and/or modify
# OBSOLETE # it under the terms of the GNU General Public License as published by
# OBSOLETE # the Free Software Foundation; either version 2 of the License, or
# OBSOLETE # (at your option) any later version.
# OBSOLETE # 
# OBSOLETE # This program is distributed in the hope that it will be useful,
# OBSOLETE # but WITHOUT ANY WARRANTY; without even the implied warranty of
# OBSOLETE # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# OBSOLETE # GNU General Public License for more details.
# OBSOLETE # 
# OBSOLETE # You should have received a copy of the GNU General Public License
# OBSOLETE # along with this program; if not, write to the Free Software
# OBSOLETE # Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.  
# OBSOLETE 
# OBSOLETE # Please email any bugs, comments, and/or additions to this file to:
# OBSOLETE # bug-gdb@@prep.ai.mit.edu
# OBSOLETE 
# OBSOLETE # This file was written by Fred Fish. (fnf@@cygnus.com)
# OBSOLETE 
# OBSOLETE if $tracelevel then {
# OBSOLETE 	strace $tracelevel
# OBSOLETE }
# OBSOLETE 
# OBSOLETE if [skip_chill_tests] then { continue }
# OBSOLETE 
# OBSOLETE set testfile "chillvars"
# OBSOLETE set srcfile ${srcdir}/$subdir/${testfile}.ch
# OBSOLETE set binfile ${objdir}/${subdir}/${testfile}.exe
# OBSOLETE if  { [compile "${srcfile} -g -o ${binfile} ${CHILL_RT0} ${CHILL_LIB}"] != "" } {
# OBSOLETE     perror "Couldn't compile ${srcfile}"
# OBSOLETE     return -1
# OBSOLETE }
# OBSOLETE 
# OBSOLETE proc do_tests {} {
# OBSOLETE     global prms_id bug_id subdir objdir srcdir binfile gdb_prompt
# OBSOLETE 
# OBSOLETE     set prms_id 0
# OBSOLETE     set bug_id 0
# OBSOLETE 
# OBSOLETE     # Start with a fresh gdb.
# OBSOLETE 
# OBSOLETE     gdb_exit
# OBSOLETE     gdb_start
# OBSOLETE     gdb_reinitialize_dir $srcdir/$subdir
# OBSOLETE     gdb_load $binfile
# OBSOLETE 
# OBSOLETE     gdb_test "set language chill" ""
# OBSOLETE 
# OBSOLETE     # This is needed (at least on SunOS4) to make sure the
# OBSOLETE     # the symbol table is read.
# OBSOLETE     gdb_test "break chillvars.ch:3" ""
# OBSOLETE     gdb_test "delete 1" ""
# OBSOLETE 
# OBSOLETE     gdb_test "set width 0" ""
# OBSOLETE     gdb_test "set print sevenbit-strings" ""
# OBSOLETE     gdb_test "set print address off" ""
# OBSOLETE 
# OBSOLETE     test_BOOL
# OBSOLETE     test_CHAR
# OBSOLETE     test_BYTE
# OBSOLETE     test_UBYTE
# OBSOLETE     test_INT
# OBSOLETE     test_UINT
# OBSOLETE     test_LONG
# OBSOLETE     test_ULONG
# OBSOLETE     test_REAL
# OBSOLETE     test_LONG_REAL
# OBSOLETE     test_POWERSET
# OBSOLETE     test_arrays
# OBSOLETE     test_strings
# OBSOLETE     test_structs
# OBSOLETE 
# OBSOLETE     test_ptr
# OBSOLETE }
# OBSOLETE 
# OBSOLETE proc test_BOOL {} {
# OBSOLETE 
# OBSOLETE     gdb_test "ptype bool_true"		"type = (BOOL|bool)"
# OBSOLETE     gdb_test "ptype bool_false"		"type = (BOOL|bool)"
# OBSOLETE     gdb_test "whatis bool_true"		"type = (BOOL|bool)"
# OBSOLETE     gdb_test "whatis bool_false"	"type = (BOOL|bool)"
# OBSOLETE     gdb_test "print bool_false"		" = FALSE"
# OBSOLETE     gdb_test "print bool_true"		" = TRUE"
# OBSOLETE 
# OBSOLETE }
# OBSOLETE 
# OBSOLETE proc test_CHAR {} {
# OBSOLETE     gdb_test "ptype control_char"	"type = (CHAR|char)"
# OBSOLETE     gdb_test "whatis control_char"	"type = (CHAR|char)"
# OBSOLETE     gdb_test "print control_char"	{ = '\^[(]7[)]'}
# OBSOLETE     gdb_test "ptype printable_char"	"type = (CHAR|char)"
# OBSOLETE     gdb_test "whatis printable_char"	"type = (CHAR|char)"
# OBSOLETE     gdb_test "print printable_char"	" = 'a'"
# OBSOLETE 
# OBSOLETE     gdb_test "print lower(char)"	{ = '\^[(]0[)]'}
# OBSOLETE     gdb_test "print upper(char)"	{ = '\^[(]255[)]'}
# OBSOLETE }
# OBSOLETE 
# OBSOLETE proc test_BYTE {} {
# OBSOLETE     gdb_test "ptype byte_low"		"type = (BYTE|byte)"
# OBSOLETE     gdb_test "whatis byte_low"		"type = (BYTE|byte)"
# OBSOLETE     gdb_test "print byte_low"		" = -128"
# OBSOLETE     gdb_test "ptype byte_high"		"type = (BYTE|byte)"
# OBSOLETE     gdb_test "whatis byte_high"		"type = (BYTE|byte)"
# OBSOLETE     gdb_test "print byte_high"		" = 127"
# OBSOLETE 
# OBSOLETE     gdb_test "print lower(byte)"	" = -128"
# OBSOLETE     gdb_test "print upper(byte)"	" = 127"
# OBSOLETE     gdb_test "print lower(byte_high)"	" = -128"
# OBSOLETE     gdb_test "print upper(byte_high)"	" = 127"
# OBSOLETE }
# OBSOLETE 
# OBSOLETE proc test_UBYTE {} {
# OBSOLETE     gdb_test "ptype ubyte_low"		"type = (UBYTE|ubyte)"
# OBSOLETE     gdb_test "whatis ubyte_low"		"type = (UBYTE|ubyte)"
# OBSOLETE     gdb_test "print ubyte_low"		" = 0"
# OBSOLETE     gdb_test "ptype ubyte_high"		"type = (UBYTE|ubyte)"
# OBSOLETE     gdb_test "whatis ubyte_high"	"type = (UBYTE|ubyte)"
# OBSOLETE     gdb_test "print ubyte_high"		" = 255"
# OBSOLETE }
# OBSOLETE 
# OBSOLETE proc test_INT {} {
# OBSOLETE     gdb_test "ptype int_low"		"type = (INT|int)"
# OBSOLETE     gdb_test "whatis int_low"		"type = (INT|int)"
# OBSOLETE     gdb_test "print int_low"		" = -32768"
# OBSOLETE     gdb_test "ptype int_high"		"type = (INT|int)"
# OBSOLETE     gdb_test "whatis int_high"		"type = (INT|int)"
# OBSOLETE     gdb_test "print int_high"		" = 32767"
# OBSOLETE }
# OBSOLETE 
# OBSOLETE proc test_UINT {} {
# OBSOLETE     gdb_test "ptype uint_low"		"type = (UINT|uint)"
# OBSOLETE     gdb_test "whatis uint_low"		"type = (UINT|uint)"
# OBSOLETE     gdb_test "print uint_low"		" = 0"
# OBSOLETE     gdb_test "ptype uint_high"		"type = (UINT|uint)"
# OBSOLETE     gdb_test "whatis uint_high"		"type = (UINT|uint)"
# OBSOLETE     gdb_test "print uint_high"		" = 65535"
# OBSOLETE }
# OBSOLETE 
# OBSOLETE proc test_LONG {} {
# OBSOLETE     gdb_test "ptype long_low"		"type = (LONG|long)"
# OBSOLETE     gdb_test "whatis long_low"		"type = (LONG|long)"
# OBSOLETE     gdb_test "print long_low"		" = -2147483648"
# OBSOLETE     gdb_test "ptype long_high"		"type = (LONG|long)"
# OBSOLETE     gdb_test "whatis long_high"		"type = (LONG|long)"
# OBSOLETE     gdb_test "print long_high"		" = 2147483647"
# OBSOLETE }
# OBSOLETE 
# OBSOLETE proc test_ULONG {} {
# OBSOLETE     gdb_test "ptype ulong_low"		"type = (ULONG|ulong)"
# OBSOLETE     gdb_test "whatis ulong_low"		"type = (ULONG|ulong)"
# OBSOLETE     gdb_test "print ulong_low"		" = 0"
# OBSOLETE     gdb_test "ptype ulong_high"		"type = (ULONG|ulong)"
# OBSOLETE     gdb_test "whatis ulong_high"	"type = (ULONG|ulong)"
# OBSOLETE     gdb_test "print ulong_high"		" = 4294967295"
# OBSOLETE }
# OBSOLETE 
# OBSOLETE proc test_REAL {} {
# OBSOLETE     gdb_test "ptype real1"		"type = (FLOAT|float)"
# OBSOLETE     gdb_test "whatis real1"		"type = (FLOAT|float)"
# OBSOLETE     gdb_test "print real1"		" = 3.14159274"
# OBSOLETE }
# OBSOLETE 
# OBSOLETE proc test_LONG_REAL {} {
# OBSOLETE     gdb_test "ptype long_real1"		"type = (DOUBLE|double)"
# OBSOLETE     gdb_test "whatis long_real1"	"type = (DOUBLE|double)"
# OBSOLETE     gdb_test "print long_real1"		" = 3\\.1400000000000001e\\+300"
# OBSOLETE }
# OBSOLETE 
# OBSOLETE proc test_POWERSET {} {
# OBSOLETE }
# OBSOLETE 
# OBSOLETE proc test_arrays {} {
# OBSOLETE     gdb_test "ptype booltable1"		"type = ARRAY \\(+0:3\\)+ (BOOL|bool)"
# OBSOLETE     gdb_test_exact "print booltable1"	\
# OBSOLETE 	{ = [(0): TRUE, (1:2): FALSE, (3): TRUE]}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype booltable2"		"type = ARRAY \\(+4:7\\)+ (BOOL|bool)"
# OBSOLETE     gdb_test_exact "print booltable2" { = [(4): TRUE, (5:6): FALSE, (7): TRUE]}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype chartable1"		"type = ARRAY \\(+0:2\\)+ (CHAR|char)"
# OBSOLETE     gdb_test_exact "print chartable1"  {= [(0): '^(0)', (1): '^(1)', (2): '^(2)']}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype chartable2"		"type = ARRAY \\(+3:5\\)+ (CHAR|char)"
# OBSOLETE     gdb_test_exact "print chartable2"	\
# OBSOLETE 	{= [(3): '^(0)', (4): '^(1)', (5): '^(2)']}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype bytetable1"		"type = ARRAY \\(+0:4\\)+ (BYTE|byte)"
# OBSOLETE     gdb_test_exact "print bytetable1"		\
# OBSOLETE        {= [(0): -2, (1): -1, (2): 0, (3): 1, (4): 2]}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype bytetable2"		"type = ARRAY \\(+5:9\\)+ (BYTE|byte)"
# OBSOLETE     gdb_test_exact "print bytetable2"	\
# OBSOLETE 	{= [(5): -2, (6): -1, (7): 0, (8): 1, (9): 2]}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype bytetable3" \
# OBSOLETE 	"type = ARRAY \\(1:2\\) ARRAY \\('c':'d'\\) ARRAY \\(FALSE:TRUE\\) (BYTE|byte)"
# OBSOLETE     gdb_test_exact "print bytetable3" \
# OBSOLETE     {= [(1): [('c'): [(FALSE): 0, (TRUE): 1], ('d'): [(FALSE): 2, (TRUE): 3]], (2): [('c'): [(FALSE): 4, (TRUE): 5], ('d'): [(FALSE): 6, (TRUE): 7]]]}
# OBSOLETE     gdb_test "ptype bytetable4" \
# OBSOLETE 	"type = ARRAY \\(1:2\\) ARRAY \\('c':'d'\\) ARRAY \\(FALSE:TRUE\\) (BYTE|byte)"
# OBSOLETE     gdb_test_exact "print bytetable4" \
# OBSOLETE     {= [(1): [('c'): [(FALSE): 0, (TRUE): 1], ('d'): [(FALSE): 2, (TRUE): 3]], (2): [('c'): [(FALSE): 4, (TRUE): 5], ('d'): [(FALSE): 6, (TRUE): 7]]]}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype ubytetable1"	"type = ARRAY \\(+0:4\\)+ (UBYTE|ubyte)"
# OBSOLETE     gdb_test_exact "print ubytetable1"	\
# OBSOLETE 	{= [(0): 0, (1): 1, (2): 2, (3): 3, (4): 4]}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype ubytetable2"	"type = ARRAY \\(+5:9\\)+ (UBYTE|ubyte)"
# OBSOLETE     gdb_test_exact "print ubytetable2"	\
# OBSOLETE 	{= [(5): 0, (6): 1, (7): 2, (8): 3, (9): 4]}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype inttable1"		"type = ARRAY \\(+0:4\\)+ (INT|int)"
# OBSOLETE     gdb_test_exact "print inttable1"	\
# OBSOLETE 	{= [(0): -2, (1): -1, (2): 0, (3): 1, (4): 2]}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype inttable2"		"type = ARRAY \\(+5:9\\)+ (INT|int)"
# OBSOLETE     gdb_test_exact "print inttable2"		\
# OBSOLETE 	{= [(5): -2, (6): -1, (7): 0, (8): 1, (9): 2]}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype uinttable1"		"type = ARRAY \\(+0:4\\)+ (UINT|uint)"
# OBSOLETE     gdb_test_exact "print uinttable1"	\
# OBSOLETE 	{= [(0): 0, (1): 1, (2): 2, (3): 3, (4): 4]}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype uinttable2"		"type = ARRAY \\(+5:9\\)+ (UINT|uint)"
# OBSOLETE     gdb_test_exact "print uinttable2"	\
# OBSOLETE 	{= [(5): 0, (6): 1, (7): 2, (8): 3, (9): 4]}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype longtable1"		"type = ARRAY \\(+0:4\\)+ (LONG|long)"
# OBSOLETE     gdb_test_exact "print longtable1"	\
# OBSOLETE 	{= [(0): -2, (1): -1, (2): 0, (3): 1, (4): 2]}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype longtable2"		"type = ARRAY \\(+5:9\\)+ (LONG|long)"
# OBSOLETE     gdb_test_exact "print longtable2"	\
# OBSOLETE 	{= [(5): -2, (6): -1, (7): 0, (8): 1, (9): 2]}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype ulongtable1"	"type = ARRAY \\(+0:4\\)+ (ULONG|ulong)"
# OBSOLETE     gdb_test_exact "print ulongtable1"	\
# OBSOLETE 	{= [(0): 0, (1): 1, (2): 2, (3): 3, (4): 4]}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype ulongtable2"	"type = ARRAY \\(+5:9\\)+ (ULONG|ulong)"
# OBSOLETE     gdb_test_exact "print ulongtable2"	\
# OBSOLETE 	{= [(5): 0, (6): 1, (7): 2, (8): 3, (9): 4]}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype realtable1"		"type = ARRAY \\(+0:4\\)+ (FLOAT|float)"
# OBSOLETE     gdb_test_exact "print realtable1"	\
# OBSOLETE 	{= [(0): -2, (1): -1, (2): 0, (3): 1, (4): 2]}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype realtable2"		"type = ARRAY \\(+5:9\\)+ (FLOAT|float)"
# OBSOLETE     gdb_test_exact "print realtable2"	\
# OBSOLETE 	{= [(5): -2, (6): -1, (7): 0, (8): 1, (9): 2]}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype longrealtable1"	"type = ARRAY \\(+0:4\\)+ (DOUBLE|double)"
# OBSOLETE     gdb_test_exact "print longrealtable1" \
# OBSOLETE 	{= [(0): -2, (1): -1, (2): 0, (3): 1, (4): 2]}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype longrealtable2"	"type = ARRAY \\(+5:9\\)+ (DOUBLE|double)"
# OBSOLETE     gdb_test_exact "print longrealtable2"	\
# OBSOLETE 	{= [(5): -2, (6): -1, (7): 0, (8): 1, (9): 2]}
# OBSOLETE 
# OBSOLETE     gdb_test "print length(longrealtable2)" {= 5}
# OBSOLETE     gdb_test "print lower(longrealtable2)" {= 5}
# OBSOLETE     gdb_test "print upper(longrealtable2)" {= 9}
# OBSOLETE }
# OBSOLETE 
# OBSOLETE proc test_strings {} {
# OBSOLETE 
# OBSOLETE     gdb_test "ptype string1"		"type = CHARS \[(\]4\[)\]+"
# OBSOLETE     gdb_test "print string1"		" = \"abcd\""
# OBSOLETE 
# OBSOLETE     gdb_test "ptype string2"		"type = CHARS \[(\]+5\[)\]+"
# OBSOLETE     gdb_test "print string2"		{ = \"ef\^\(0\)gh\"}
# OBSOLETE 
# OBSOLETE     gdb_test "ptype string3"		"type = CHARS \[(\]+6\[)\]+"
# OBSOLETE     gdb_test "print string3"		" = \"efghij\""
# OBSOLETE 
# OBSOLETE     gdb_test "ptype string4"		"type = CHARS \[(\]+7\[)\]+"
# OBSOLETE     gdb_test "print string4"		{ = \"zzzzzz\^\(0\)\"}
# OBSOLETE 
# OBSOLETE     # These tests require a running process, so run to one of the procs
# OBSOLETE     # and then do the tests.
# OBSOLETE 
# OBSOLETE     if [runto scalar_arithmetic] then {
# OBSOLETE 	gdb_test "ptype string1//string2"	"type = CHARS \\(9\\)"
# OBSOLETE 	gdb_test "print string1//string2"    { = \"abcdef\^\(0\)gh\"}
# OBSOLETE 	gdb_test_exact {ptype "a chill string"} {type = CHARS (14)}
# OBSOLETE 	gdb_test "print 'a chill string'"	" = \"a chill string\""
# OBSOLETE 	gdb_test "print \"ef\"//c'00'//\"gh\""	{ = \"ef\^\(0\)gh\"}
# OBSOLETE 	gdb_test "print string1 // \"efgh\""	" = \"abcdefgh\""
# OBSOLETE 	gdb_test "print (6) 'z'"		" = \"zzzzzz\""
# OBSOLETE 	gdb_test "ptype (6) 'z'"		"type = CHARS \[(\]+6\[)\]+"
# OBSOLETE 	gdb_test "print (1+2*3) 'x'"		" = \"xxxxxxx\""
# OBSOLETE 	gdb_test "ptype (1+2*3) 'x'"		"type = CHARS \[(\]+7\[)\]+"
# OBSOLETE     }
# OBSOLETE 
# OBSOLETE }
# OBSOLETE 
# OBSOLETE proc test_structs {} {
# OBSOLETE     gdb_test "ptype struct1" \
# OBSOLETE 	"type = STRUCT \\(+.*abool (BOOL|bool),.*aint (INT|int),.*astring CHARS \\(+8\\)+.*\\)+"
# OBSOLETE     gdb_test "print struct1" \
# OBSOLETE 	".* = \\\[\.abool: TRUE, \.aint: 123, \.astring: \"a string\"\\\]"
# OBSOLETE     gdb_test "ptype struct2" \
# OBSOLETE 	"type = STRUCT \\(+.*abool (BOOL|bool),.*nstruct simple_struct,.*aint (INT|int).*\\)+"
# OBSOLETE     gdb_test "print struct2" \
# OBSOLETE 	".* = \\\[.abool: TRUE, \.nstruct: \\\[\.abool: FALSE, \.aint: 456, \.astring: \"deadbeef\"\\\], \.aint: 789\\\]"
# OBSOLETE }
# OBSOLETE 
# OBSOLETE proc test_ptr {} {
# OBSOLETE     # This is to test Cygnus PR 6932
# OBSOLETE     gdb_test "print xptr->int" ".* = 32767"
# OBSOLETE }
# OBSOLETE 
# OBSOLETE do_tests
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# Copyright (C) 1992, 1997 Free Software Foundation, Inc.
@


1.1.1.1
log
@Initial creation of sourceware repository
@
text
@@

