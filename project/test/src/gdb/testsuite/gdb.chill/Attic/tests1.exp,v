head	1.4;
access;
symbols
	gdb_5_3-2002-12-12-release:1.3
	carlton_dictionary-20021115-merge:1.3
	kseitz_interps-20021105-merge:1.3
	kseitz_interps-20021103-merge:1.3
	drow-cplus-merge-20021020:1.3
	drow-cplus-merge-20021025:1.3
	carlton_dictionary-20021025-merge:1.3
	carlton_dictionary-20021011-merge:1.3
	drow-cplus-branch:1.3.0.10
	drow-cplus-branchpoint:1.3
	kseitz_interps-20020930-merge:1.3
	carlton_dictionary-20020927-merge:1.3
	carlton_dictionary-branch:1.3.0.8
	carlton_dictionary-20020920-branchpoint:1.3
	gdb_5_3-branch:1.3.0.6
	gdb_5_3-2002-09-04-branchpoint:1.3
	kseitz_interps-20020829-merge:1.3
	cagney_sysregs-20020825-branch:1.3.0.4
	cagney_sysregs-20020825-branchpoint:1.3
	readline_4_3-import-branch:1.3.0.2
	readline_4_3-import-branchpoint:1.3
	gdb_5_2_1-2002-07-23-release:1.2
	kseitz_interps-20020528-branch:1.2.0.16
	kseitz_interps-20020528-branchpoint:1.2
	cagney_regbuf-20020515-branch:1.2.0.14
	cagney_regbuf-20020515-branchpoint:1.2
	jimb-macro-020506-branch:1.2.0.12
	jimb-macro-020506-branchpoint:1.2
	gdb_5_2-2002-04-29-release:1.2
	gdb_5_2-branch:1.2.0.10
	gdb_5_2-2002-03-03-branchpoint:1.2
	gdb_5_1_1-2002-01-24-release:1.2
	gdb_5_1_0_1-2002-01-03-release:1.2
	cygnus_cvs_20020108_pre:1.2
	gdb_5_1_0_1-2002-01-03-branch:1.2.0.8
	gdb_5_1_0_1-2002-01-03-branchpoint:1.2
	gdb_5_1-2001-11-21-release:1.2
	gdb_s390-2001-09-26-branch:1.2.0.6
	gdb_s390-2001-09-26-branchpoint:1.2
	gdb_5_1-2001-07-29-branch:1.2.0.4
	gdb_5_1-2001-07-29-branchpoint:1.2
	dberlin-typesystem-branch:1.2.0.2
	dberlin-typesystem-branchpoint:1.2
	gdb-post-ptid_t-2001-05-03:1.2
	gdb-pre-ptid_t-2001-05-03:1.2
	insight-precleanup-2001-01-01:1.1.1.1
	gdb-post-protoization-2000-07-29:1.1.1.1
	gdb-pre-protoization-2000-07-29:1.1.1.1
	gdb-premipsmulti-2000-06-06-branch:1.1.1.1.0.6
	gdb-premipsmulti-2000-06-06-branchpoint:1.1.1.1
	gdb-post-params-removal-2000-06-04:1.1.1.1
	gdb-pre-params-removal-2000-06-04:1.1.1.1
	gdb-post-params-removal-2000-05-28:1.1.1.1
	gdb-pre-params-removal-2000-05-28:1.1.1.1
	gdb_5_0-2000-05-19-release:1.1.1.1
	gdb_4_18_2-2000-05-18-release:1.1.1.1
	gdb_4_95_1-2000-05-11-snapshot:1.1.1.1
	gdb_4_95_0-2000-04-27-snapshot:1.1.1.1
	gdb_5_0-2000-04-10-branch:1.1.1.1.0.4
	gdb_5_0-2000-04-10-branchpoint:1.1.1.1
	repo-unification-2000-02-06:1.1.1.1
	insight-2000-02-04:1.1.1.1
	gdb-2000-02-04:1.1.1.1
	gdb-2000-02-02:1.1.1.1
	gdb-2000-02-01:1.1.1.1
	gdb-2000-01-31:1.1.1.1
	gdb-2000-01-26:1.1.1.1
	gdb-2000-01-24:1.1.1.1
	gdb-2000-01-17:1.1.1.1
	gdb-2000-01-10:1.1.1.1
	gdb-2000-01-05:1.1.1.1
	gdb-1999-12-21:1.1.1.1
	gdb-1999-12-13:1.1.1.1
	gdb-1999-12-07:1.1.1.1
	gdb-1999-12-06:1.1.1.1
	gdb-1999-11-16:1.1.1.1
	gdb-1999-11-08:1.1.1.1
	gdb-1999-11-01:1.1.1.1
	gdb-1999-10-25:1.1.1.1
	gdb-1999-10-18:1.1.1.1
	gdb-1999-10-11:1.1.1.1
	gdb-1999-10-04:1.1.1.1
	gdb-1999-09-28:1.1.1.1
	gdb-1999-09-21:1.1.1.1
	gdb-1999-09-13:1.1.1.1
	gdb-1999-09-08:1.1.1.1
	gdb-1999-08-30:1.1.1.1
	gdb-1999-08-23:1.1.1.1
	gdb-1999-08-16:1.1.1.1
	gdb-1999-08-09:1.1.1.1
	gdb-1999-08-02:1.1.1.1
	gdb-1999-07-26:1.1.1.1
	gdb-1999-07-19:1.1.1.1
	gdb-1999-07-12:1.1.1.1
	gdb-post-reformat-19990707:1.1.1.1
	gdb-1999-07-07-post-reformat-snapshot:1.1.1.1
	gdb-pre-reformat-19990707:1.1.1.1
	gdb-1999-07-07:1.1.1.1
	gdb-1999-07-05:1.1.1.1
	gdb-1999-06-28:1.1.1.1
	gdb-1999-06-21:1.1.1.1
	gdb-1999-06-14:1.1.1.1
	gdb-1999-06-07:1.1.1.1
	gdb-1999-06-01:1.1.1.1
	gdb-4_18-branch:1.1.1.1.0.2
	gdb-4_18-release:1.1.1.1
	gdb-1999-05-25:1.1.1.1
	gdb-1999-05-19:1.1.1.1
	gdb-1999-05-10:1.1.1.1
	gdb-19990504:1.1.1.1
	gdb-19990422:1.1.1.1
	SNAPSHOT:1.1.1
	gdb-4_18:1.1.1.1
	GDB_4_18:1.1.1;
locks; strict;
comment	@# @;
expand	@o@;


1.4
date	2002.12.16.19.33.52;	author cagney;	state dead;
branches;
next	1.3;

1.3
date	2002.08.02.00.25.23;	author cagney;	state Exp;
branches
	1.3.8.1
	1.3.10.1;
next	1.2;

1.2
date	2001.03.06.08.21.55;	author kevinb;	state Exp;
branches
	1.2.16.1;
next	1.1;

1.1
date	99.04.16.01.34.33;	author shebs;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.04.16.01.34.33;	author shebs;	state Exp;
branches;
next	;

1.2.16.1
date	2002.08.09.18.34.34;	author kseitz;	state Exp;
branches;
next	;

1.3.8.1
date	2002.12.23.19.39.18;	author carlton;	state dead;
branches;
next	;

1.3.10.1
date	2003.12.14.20.27.52;	author drow;	state dead;
branches;
next	;


desc
@@


1.4
log
@Remove obsolete testsuite code.
@
text
@# OBSOLETE # Copyright 1995, 1996, 1997 Free Software Foundation, Inc.
# OBSOLETE 
# OBSOLETE # This program is free software; you can redistribute it and/or modify
# OBSOLETE # it under the terms of the GNU General Public License as published by
# OBSOLETE # the Free Software Foundation; either version 2 of the License, or
# OBSOLETE # (at your option) any later version.
# OBSOLETE # 
# OBSOLETE # This program is distributed in the hope that it will be useful,
# OBSOLETE # but WITHOUT ANY WARRANTY; without even the implied warranty of
# OBSOLETE # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# OBSOLETE # GNU General Public License for more details.
# OBSOLETE # 
# OBSOLETE # You should have received a copy of the GNU General Public License
# OBSOLETE # along with this program; if not, write to the Free Software
# OBSOLETE # Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.  
# OBSOLETE 
# OBSOLETE # Please email any bugs, comments, and/or additions to this file to:
# OBSOLETE # bug-gdb@@prep.ai.mit.edu
# OBSOLETE 
# OBSOLETE # This file tests various Chill values, expressions, and types.
# OBSOLETE 
# OBSOLETE if $tracelevel then {
# OBSOLETE 	strace $tracelevel
# OBSOLETE }
# OBSOLETE 
# OBSOLETE if [skip_chill_tests] then { continue }
# OBSOLETE 
# OBSOLETE set testfile "tests1"
# OBSOLETE set srcfile ${srcdir}/$subdir/${testfile}.ch
# OBSOLETE set binfile ${objdir}/${subdir}/${testfile}.exe
# OBSOLETE if  { [compile "${srcfile} -g -w -o ${binfile} ${CHILL_RT0} ${CHILL_LIB}"] != "" } {
# OBSOLETE     perror "Couldn't compile ${srcfile}"
# OBSOLETE     return -1
# OBSOLETE }
# OBSOLETE 
# OBSOLETE # Set the current language to chill.  This counts as a test.  If it
# OBSOLETE # fails, then we skip the other tests.
# OBSOLETE 
# OBSOLETE proc set_lang_chill {} {
# OBSOLETE     global gdb_prompt
# OBSOLETE     global binfile objdir subdir
# OBSOLETE 
# OBSOLETE     verbose "loading file '$binfile'"
# OBSOLETE     gdb_load $binfile
# OBSOLETE     send_gdb "set language chill\n"
# OBSOLETE     gdb_expect {
# OBSOLETE 	-re ".*$gdb_prompt $" {}
# OBSOLETE 	timeout { fail "set language chill (timeout)" ; return 0 }
# OBSOLETE     }
# OBSOLETE 
# OBSOLETE     send_gdb "show language\n"
# OBSOLETE     gdb_expect {
# OBSOLETE 	-re ".* source language is \"chill\".*$gdb_prompt $" {
# OBSOLETE 	    pass "set language to \"chill\""
# OBSOLETE 	    send_gdb "break dummyfunc\n"
# OBSOLETE 	    gdb_expect {
# OBSOLETE 		-re ".*$gdb_prompt $" {
# OBSOLETE 		    send_gdb "run\n" 
# OBSOLETE 		    gdb_expect -re ".*$gdb_prompt $" {}
# OBSOLETE 		    return 1
# OBSOLETE 		}
# OBSOLETE 		timeout {
# OBSOLETE 		    fail "can't set breakpoint (timeout)"
# OBSOLETE 		    return 0
# OBSOLETE 		}
# OBSOLETE 	    }
# OBSOLETE 	}
# OBSOLETE 	-re ".*$gdb_prompt $" {
# OBSOLETE 	    fail "setting language to \"chill\""
# OBSOLETE 	    return 0
# OBSOLETE 	}
# OBSOLETE 	timeout {
# OBSOLETE 	    fail "can't show language (timeout)"
# OBSOLETE 	    return 0
# OBSOLETE 	}
# OBSOLETE     }
# OBSOLETE }
# OBSOLETE 
# OBSOLETE # Testing printing of a specific value.  Increment passcount for
# OBSOLETE # success or issue fail message for failure.  In both cases, return
# OBSOLETE # a 1 to indicate that more tests can proceed.  However a timeout
# OBSOLETE # is a serious error, generates a special fail message, and causes
# OBSOLETE # a 0 to be returned to indicate that more tests are likely to fail
# OBSOLETE # as well.
# OBSOLETE #
# OBSOLETE # Args are:
# OBSOLETE #
# OBSOLETE #	First one is string to send_gdb to gdb
# OBSOLETE #	Second one is string to match gdb result to
# OBSOLETE #	Third one is an optional message to be printed
# OBSOLETE 
# OBSOLETE proc test_print_accept { args } {
# OBSOLETE     global gdb_prompt
# OBSOLETE     global passcount
# OBSOLETE     global verbose
# OBSOLETE 
# OBSOLETE     if [llength $args]==3 then {
# OBSOLETE 	set message [lindex $args 2]
# OBSOLETE     } else {
# OBSOLETE 	set message [lindex $args 0]
# OBSOLETE     }
# OBSOLETE     set sendthis [lindex $args 0]
# OBSOLETE     set expectthis [lindex $args 1]
# OBSOLETE     set result [gdb_test $sendthis ".* = ${expectthis}" $message]
# OBSOLETE     if $result==0 {incr passcount}
# OBSOLETE     return $result
# OBSOLETE }
# OBSOLETE 
# OBSOLETE # Testing printing of a specific value.  Increment passcount for
# OBSOLETE # success or issue fail message for failure.  In both cases, return
# OBSOLETE # a 1 to indicate that more tests can proceed.  However a timeout
# OBSOLETE # is a serious error, generates a special fail message, and causes
# OBSOLETE # a 0 to be returned to indicate that more tests are likely to fail
# OBSOLETE # as well.
# OBSOLETE 
# OBSOLETE # various tests if modes are treated correctly
# OBSOLETE # using ptype
# OBSOLETE proc test_modes {} {
# OBSOLETE     global passcount
# OBSOLETE 
# OBSOLETE     verbose "testing chill modes"
# OBSOLETE     set passcount 0
# OBSOLETE 
# OBSOLETE     # discrete modes
# OBSOLETE     test_print_accept "ptype BYTE" "byte"
# OBSOLETE     test_print_accept "ptype UBYTE" "ubyte"
# OBSOLETE     test_print_accept "ptype INT" "int"
# OBSOLETE     test_print_accept "ptype UINT" "uint"
# OBSOLETE     test_print_accept "ptype LONG" "long"
# OBSOLETE     test_print_accept "ptype ULONG" "ulong"
# OBSOLETE     test_print_accept "ptype BOOL" "bool"
# OBSOLETE     test_print_accept "ptype CHAR" "char"
# OBSOLETE 
# OBSOLETE     test_print_accept "ptype set1" "SET \[(\]aaa, bbb, ccc\[)\]" \
# OBSOLETE 	"print unnumbered set mode"
# OBSOLETE     test_print_accept "ptype nset1" "SET \[(\]na = 1, nb = 34, nc = 20\[)\]" \
# OBSOLETE 	"print numbered set mode"
# OBSOLETE 
# OBSOLETE     # mp:
# OBSOLETE     # display maybe in hex values ?
# OBSOLETE     #
# OBSOLETE     test_print_accept "ptype r11" "ubyte \\(0:255\\)" \
# OBSOLETE 	"print ubyte range mode"
# OBSOLETE     test_print_accept "ptype r12" "uint \\(0:65535\\)" \
# OBSOLETE 	"print uint range mode"
# OBSOLETE #    test_print_accept "ptype r13" "ulong \\(0:4294967295\\)" \
# OBSOLETE #	"print ulong range mode"
# OBSOLETE     test_print_accept "ptype r14" "byte \\(-128:127\\)" \
# OBSOLETE 	"print byte range mode"
# OBSOLETE     test_print_accept "ptype r15" "int \\(-32768:32767\\)" \
# OBSOLETE 	"print int range mode"
# OBSOLETE     test_print_accept "ptype r16" "long \\(-2147483648:2147483647\\)" \
# OBSOLETE 	"print long range mode"
# OBSOLETE 
# OBSOLETE     test_print_accept "ptype r2" "set1 \\(bbb:ccc\\)" \
# OBSOLETE 	"print unnumbered set range mode"
# OBSOLETE     test_print_accept "ptype r3" "nset1 \\(na:na\\)" \
# OBSOLETE 	"print numbered set range mode"
# OBSOLETE     # really this order ?
# OBSOLETE     # I'm not sure what should happen for the next two tests.
# OBSOLETE     setup_xfail "*-*-*"
# OBSOLETE     test_print_accept "ptype r4" "nset1 \\(nb = 34:nc = 20\\)" \
# OBSOLETE 	"print numbered set range mode"
# OBSOLETE     setup_xfail "*-*-*"
# OBSOLETE     test_print_accept "ptype r5" "nset1 \\(na = 1, nb = 34, nc = 20\\)" \
# OBSOLETE 	"print numbered set range mode"
# OBSOLETE 
# OBSOLETE     # powerset modes
# OBSOLETE     test_print_accept "ptype pm1" \
# OBSOLETE 	"POWERSET SET \[(\]p1, p2, p3, p4, p5, p6, p7, p8, p9, p10\[)\]" \
# OBSOLETE 	"print powerset mode 1"
# OBSOLETE     test_print_accept "ptype pm2" "POWERSET byte \\(1:8\\)" \
# OBSOLETE 	"print powerset mode 2"
# OBSOLETE     test_print_accept "ptype pm3" "POWERSET int \\(-32768:32767\\)" \
# OBSOLETE 	"print powerset mode 3"
# OBSOLETE     test_print_accept "ptype pm4" "POWERSET long \\(-32768:32768\\)" \
# OBSOLETE 	"print powerset mode 4"
# OBSOLETE     test_print_accept "ptype pm5" \
# OBSOLETE 	"POWERSET long \\(-2147483648:2147483647\\)" \
# OBSOLETE 	"print powerset mode 5"
# OBSOLETE     
# OBSOLETE     # reference modes
# OBSOLETE     test_print_accept "ptype ref1" "REF pm1" \
# OBSOLETE 	"print reference to powerset mode"
# OBSOLETE     test_print_accept "ptype ref2" "REF byte" \
# OBSOLETE 	"print reference to byte"
# OBSOLETE     test_print_accept "ptype ref3" "PTR" \
# OBSOLETE 	"print free reference type"
# OBSOLETE 
# OBSOLETE     # procedure modes
# OBSOLETE     # FIXME: we have to talk about this ... 
# OBSOLETE     test_print_accept "ptype prm1" \
# OBSOLETE 	"REF PROC \[(\]\[)\]" \
# OBSOLETE 	"print procedure mode 1"
# OBSOLETE     setup_xfail "*-*-*"
# OBSOLETE     test_print_accept "ptype prm2" \
# OBSOLETE 	"REF PROC \[(\]bool in, int out long inout\[)\] RETURNS \[(\]char\[)\]" \
# OBSOLETE 	"print procedure mode 2"
# OBSOLETE     setup_xfail "*-*-*"
# OBSOLETE     test_print_accept "ptype prm3" \
# OBSOLETE 	"REF PROC \[(\]pm1, ref loc\[)\] RETURNS \[(\]ref3\[)\]" \
# OBSOLETE 	"print procedure mode 3"
# OBSOLETE     setup_xfail "*-*-*"
# OBSOLETE     test_print_accept "ptype prm4" \
# OBSOLETE 	"\[(\] \[)\] EXCEPTIONS \[(\]ex1, ex2, ex3\[)\]" \
# OBSOLETE 	"print procedure mode 4"
# OBSOLETE     setup_xfail "*-*-*"
# OBSOLETE     test_print_accept "ptype prm5" \
# OBSOLETE 	"REF PROC \[(\]r11, r16 inout, r5 out\[)\] RETURNS \[(\]r2\[)\] EXCEPTIONS \[(\]ex1\[)\]" \
# OBSOLETE 	"print procedure mode 5"
# OBSOLETE 
# OBSOLETE     # synchronization modes
# OBSOLETE     # FIXME: since gdb doesn't process events & buffers so far, this has be 
# OBSOLETE     #        filled later...
# OBSOLETE     xfail "synchronization mode handling"
# OBSOLETE 
# OBSOLETE     # timing modes
# OBSOLETE     test_print_accept "ptype DURATION" "duration"
# OBSOLETE     test_print_accept "ptype TIME" "time"
# OBSOLETE 
# OBSOLETE     # string modes
# OBSOLETE     # some tests are done in chillvars.exp
# OBSOLETE     test_print_accept "ptype strm1" "CHARS \\(5\\)" "print char string mode"
# OBSOLETE     test_print_accept "ptype strm2" "CHARS \[(\]7\[)\] VARYING" \
# OBSOLETE 	"print varying char string mode"
# OBSOLETE     test_print_accept "ptype bstr1" "BOOLS \\(20\\)" "print bit string mode"
# OBSOLETE 
# OBSOLETE     test_print_accept "ptype B'000'" "BOOLS \\(3\\)" "bit string literal"
# OBSOLETE     test_print_accept "ptype B'11110000'" "BOOLS \\(8\\)" "bit string literal"
# OBSOLETE     # FIXME: adjust error message
# OBSOLETE     gdb_test "ptype B'00110211'" {.*Too-large digit.*[.]} \
# OBSOLETE 	"reject invalid bitstring"
# OBSOLETE 
# OBSOLETE     # array modes
# OBSOLETE     # some tests are done in chillvars.exp
# OBSOLETE     test_print_accept "ptype arr1m" "ARRAY \\(1:100\\) set1" \
# OBSOLETE 	"print array mode 1"
# OBSOLETE     test_print_accept "ptype arr2m" "ARRAY \\(1:100\\) ARRAY \\(1:100\\) set1"\
# OBSOLETE 	"print array mode 2"
# OBSOLETE     test_print_accept "ptype arr3m" "ARRAY \\(0:255\\) ARRAY \\(0:65535\\) ARRAY \\(-128:127\\) set1" \
# OBSOLETE 	"print array mode 3"
# OBSOLETE     setup_xfail "*-*-*"
# OBSOLETE     test_print_accept "ptype arr4m" "ARRAY \\(b:c\\) ARRAY \\(na = 1:na = 1\\) ARRAY \\(nc:nb\\) ARRAY \\(na = 1:nc = 20\\) POWERSET SET \[(\]p1, p2, p3, p4, p5, p6, p7, p8, p9, p10\[)\]" \
# OBSOLETE 	"print array mode 4"
# OBSOLETE     
# OBSOLETE     # structure modes
# OBSOLETE     # some checks are in chillvars.exp
# OBSOLETE     # setup_xfail "*-*-*"
# OBSOLETE     test_print_accept "ptype stru1m" "STRUCT \\(.*a long,.*b long,.*CASE OF.*:.*ch1 CHARS \\(20\\).*:.*ch2 CHARS \\(10\\).*ELSE.*ch3 CHARS \\(1\\).*ESAC.*\\)" \
# OBSOLETE 	"print structure mode 1"
# OBSOLETE     #setup_xfail "*-*-*"
# OBSOLETE     test_print_accept "ptype stru2m" "STRUCT \\(.*f set1,.*CASE OF.*:.*ch1 CHARS \\(20\\).*:.*ch2 CHARS \\(10\\) VARYING.*ELSE.*ch3 CHARS \\(0\\) VARYING.*ESAC.*\\)" \
# OBSOLETE 	"print structure mode 2"
# OBSOLETE     #setup_xfail "*-*-*"
# OBSOLETE     test_print_accept "ptype stru3m" "STRUCT \\(.*f r3,.*CASE OF.*:.*ch1 CHARS \\(20\\).*ESAC.*\\)" \
# OBSOLETE 	"print structure mode 3"
# OBSOLETE     # setup_xfail "*-*-*"
# OBSOLETE     test_print_accept "ptype stru4m" "STRUCT \\(.*i long,.*CASE OF.*:.*i1 int,.*i11 int,.*b1 bool,.*c1 char.*:.*i2 long,.*i22 long,.*bs2 BOOLS \\(10\\).*:.*s3 STRUCT \\(.*i3 int,.*CASE OF.*:.*foo long.*ELSE.*bar char.*ESAC.*\\).*ELSE.*x stru2m.*ESAC,.*y stru3m.*\\)" \
# OBSOLETE 	"print structure mode 4"
# OBSOLETE    
# OBSOLETE     
# OBSOLETE     if $passcount then {
# OBSOLETE 	pass "$passcount correct modes printed"
# OBSOLETE     }
# OBSOLETE }
# OBSOLETE 
# OBSOLETE # various tests if locations are treated correctly
# OBSOLETE # read access using ptype, print, whatis
# OBSOLETE proc test_locations {} {
# OBSOLETE     global passcount
# OBSOLETE 
# OBSOLETE     set passcount 0
# OBSOLETE     verbose "testing read access to locations"
# OBSOLETE     # various location tests can be found in chillvars.exp
# OBSOLETE 
# OBSOLETE     # set locations
# OBSOLETE     test_print_accept "ptype s1l" "SET \\(aaa, bbb, ccc\\)" \
# OBSOLETE 	"print mode of set location"
# OBSOLETE     test_print_accept "whatis s1l" "set1" \
# OBSOLETE 	"print modename of set location"
# OBSOLETE     test_print_accept "print s1l" "ccc" "print set location"
# OBSOLETE     test_print_accept "ptype s2l" "SET \\(na = 1, nb = 34, nc = 20\\)" \
# OBSOLETE 	"print mode of numbered set location"
# OBSOLETE     test_print_accept "whatis s2l" "nset1" \
# OBSOLETE 	"print mode name of numbered set location"
# OBSOLETE     test_print_accept "print s2l" "nb" "print numberes set location"
# OBSOLETE 
# OBSOLETE     # range modes
# OBSOLETE     test_print_accept "ptype rl1" "ubyte \\(0:255\\)" \
# OBSOLETE 	"print mode of range location"
# OBSOLETE     test_print_accept "whatis rl1" "r11" \
# OBSOLETE 	"print mode name of range location"
# OBSOLETE     test_print_accept "print rl1" "3" \
# OBSOLETE 	"print range location"
# OBSOLETE 
# OBSOLETE     test_print_accept "ptype rl2" "ubyte \\(0:255\\)" \
# OBSOLETE 	"print mode of range location"
# OBSOLETE     test_print_accept "whatis rl2" "r11" \
# OBSOLETE 	"print mode name of range location"
# OBSOLETE     test_print_accept "print rl2" "0" \
# OBSOLETE 	"print range location"
# OBSOLETE 
# OBSOLETE     test_print_accept "ptype rl3" "ubyte \\(0:255\\)" \
# OBSOLETE 	"print mode of range location"
# OBSOLETE     test_print_accept "whatis rl3" "r11" \
# OBSOLETE 	"print mode name of range location"
# OBSOLETE     test_print_accept "print rl3" "255" \
# OBSOLETE 	"print range location"
# OBSOLETE 
# OBSOLETE     test_print_accept "ptype rl5" "uint \\(0:65535\\)" \
# OBSOLETE 	"print mode of range location"
# OBSOLETE     test_print_accept "whatis rl5" "r12" \
# OBSOLETE 	"print mode name of range location"
# OBSOLETE     test_print_accept "print rl5" "65530" \
# OBSOLETE 	"print range location"
# OBSOLETE 
# OBSOLETE     test_print_accept "ptype rl6" "uint \\(0:65535\\)" \
# OBSOLETE 	"print mode of range location"
# OBSOLETE     test_print_accept "whatis rl6" "r12" \
# OBSOLETE 	"print mode name of range location"
# OBSOLETE     test_print_accept "print rl6" "0" \
# OBSOLETE 	"print range location"
# OBSOLETE 	
# OBSOLETE     test_print_accept "ptype rl7" "uint \\(0:65535\\)" \
# OBSOLETE 	"print mode of range location"
# OBSOLETE     test_print_accept "whatis rl7" "r12" \
# OBSOLETE 	"print mode name of range location"
# OBSOLETE     test_print_accept "print rl7" "65535" \
# OBSOLETE 	"print range location"
# OBSOLETE 	
# OBSOLETE #     test_print_accept "ptype rl9" "ulong \\(0:4294967295\\)" \
# OBSOLETE # 	"print mode of range location"
# OBSOLETE #     test_print_accept "whatis rl9" "r13" \
# OBSOLETE # 	"print mode name of range location"
# OBSOLETE #     test_print_accept "print rl9" "128" \
# OBSOLETE # 	"print range location"
# OBSOLETE 	
# OBSOLETE #     test_print_accept "ptype rl10" "ulong \\(0:4294967295\\)" \
# OBSOLETE # 	"print mode of range location"
# OBSOLETE #     test_print_accept "whatis rl10" "r13" \
# OBSOLETE # 	"print mode name of range location"
# OBSOLETE #     test_print_accept "print rl10" "0" \
# OBSOLETE # 	"print range location"
# OBSOLETE 	
# OBSOLETE #     test_print_accept "ptype rl11" "ulong \\(0:4294967295\\)" \
# OBSOLETE # 	"print mode of range location"
# OBSOLETE #     test_print_accept "whatis rl11" "r13" \
# OBSOLETE # 	"print mode name of range location"
# OBSOLETE #     test_print_accept "print rl11" "4294967295" \
# OBSOLETE # 	"print range location"
# OBSOLETE 
# OBSOLETE     test_print_accept "ptype rl13" "byte \\(-128:127\\)" \
# OBSOLETE 	"print mode of range location"
# OBSOLETE     test_print_accept "whatis rl13" "r14" \
# OBSOLETE 	"print mode name of range location"
# OBSOLETE     test_print_accept "print rl13" "-121" \
# OBSOLETE 	"print range location"
# OBSOLETE 
# OBSOLETE     test_print_accept "ptype rl14" "byte \\(-128:127\\)" \
# OBSOLETE 	"print mode of range location"
# OBSOLETE     test_print_accept "whatis rl14" "r14" \
# OBSOLETE 	"print mode name of range location"
# OBSOLETE     test_print_accept "print rl14" "-128" \
# OBSOLETE 	"print range location"
# OBSOLETE 
# OBSOLETE     test_print_accept "ptype rl15" "byte \\(-128:127\\)" \
# OBSOLETE 	"print mode of range location"
# OBSOLETE     test_print_accept "whatis rl15" "r14" \
# OBSOLETE 	"print mode name of range location"
# OBSOLETE     test_print_accept "print rl15" "127" \
# OBSOLETE 	"print range location"
# OBSOLETE 
# OBSOLETE     test_print_accept "ptype rl17" "int \\(-32768:32767\\)" \
# OBSOLETE 	"print mode of range location"
# OBSOLETE     test_print_accept "whatis rl17" "r15" \
# OBSOLETE 	"print mode name of range location"
# OBSOLETE     test_print_accept "print rl17" "-32720" \
# OBSOLETE 	"print range location"
# OBSOLETE 
# OBSOLETE     test_print_accept "ptype rl18" "int \\(-32768:32767\\)" \
# OBSOLETE 	"print mode of range location"
# OBSOLETE     test_print_accept "whatis rl18" "r15" \
# OBSOLETE 	"print mode name of range location"
# OBSOLETE     test_print_accept "print rl18" "-32768" \
# OBSOLETE 	"print range location"
# OBSOLETE 
# OBSOLETE     test_print_accept "ptype rl19" "int \\(-32768:32767\\)" \
# OBSOLETE 	"print mode of range location"
# OBSOLETE     test_print_accept "whatis rl19" "r15" \
# OBSOLETE 	"print mode name of range location"
# OBSOLETE     test_print_accept "print rl19" "32767" \
# OBSOLETE 	"print range location"
# OBSOLETE 
# OBSOLETE     test_print_accept "ptype rl21" "long \\(-2147483648:2147483647\\)" \
# OBSOLETE 	"print mode of range location"
# OBSOLETE     test_print_accept "whatis rl21" "r16" \
# OBSOLETE 	"print mode name of range location"
# OBSOLETE     test_print_accept "print rl21" "2147483643" \
# OBSOLETE 	"print range location"
# OBSOLETE 
# OBSOLETE     test_print_accept "ptype rl22" "long \\(-2147483648:2147483647\\)" \
# OBSOLETE 	"print mode of range location"
# OBSOLETE     test_print_accept "whatis rl22" "r16" \
# OBSOLETE 	"print mode name of range location"
# OBSOLETE     test_print_accept "print rl22" "-2147483648" \
# OBSOLETE 	"print range location"
# OBSOLETE 
# OBSOLETE     test_print_accept "ptype rl23" "long \\(-2147483648:2147483647\\)" \
# OBSOLETE 	"print mode of range location"
# OBSOLETE     test_print_accept "whatis rl23" "r16" \
# OBSOLETE 	"print mode name of range location"
# OBSOLETE     test_print_accept "print rl23" "2147483647" \
# OBSOLETE 	"print range location"
# OBSOLETE     
# OBSOLETE     # powerset locations
# OBSOLETE     test_print_accept "ptype pl1" \
# OBSOLETE 	"POWERSET SET \\(p1, p2, p3, p4, p5, p6, p7, p8, p9, p10\\)" \
# OBSOLETE 	"print mode of powerset location 1"
# OBSOLETE     test_print_accept "whatis pl1" "pm1" \
# OBSOLETE 	"print mode mode name of powerset location"
# OBSOLETE     test_print_accept "print pl1" \
# OBSOLETE 	"\[\[\]p1:p10\[\]\]" \
# OBSOLETE 	"print powerset location 1"
# OBSOLETE     test_print_accept "print pl2" {\[\]} \
# OBSOLETE 	"print powerset location 2"
# OBSOLETE     test_print_accept "print pl3" "\[\[\]p1, p10\[\]\]" \
# OBSOLETE     	"print powerset location 3"
# OBSOLETE     test_print_accept "print pl4" {\[p1:p2, p4:p6, p8:p10\]} \
# OBSOLETE 	"print powerset location 4"
# OBSOLETE     test_print_accept "print pl5" {\[p1:p4, p6, p8:p10\]} \
# OBSOLETE 	"print powerset location 5"
# OBSOLETE     test_print_accept "print pl6" {\[p1, p3:p8, p10\]} \
# OBSOLETE 	"print powerset location 6"
# OBSOLETE     
# OBSOLETE     test_print_accept "ptype pl7" \
# OBSOLETE 	"POWERSET byte \\(1:8\\)" \
# OBSOLETE 	"print mode of byte powerset location"
# OBSOLETE     test_print_accept "whatis pl7" "pm2" \
# OBSOLETE 	"print modename of byte powerset location"
# OBSOLETE     test_print_accept "print pl7" {\[1:8\]} \
# OBSOLETE 	"print powerset location 7"
# OBSOLETE     
# OBSOLETE     test_print_accept "ptype pl8" \
# OBSOLETE 	"POWERSET int \\(-32768:32767\\)" \
# OBSOLETE 	"print mode of int powerset location"
# OBSOLETE     test_print_accept "whatis pl8" "pm3" \
# OBSOLETE 	"print modename of int powerset location"
# OBSOLETE     test_print_accept "print pl8" {\[-32768:32767\]} \
# OBSOLETE 	"print powerset location 8"
# OBSOLETE     
# OBSOLETE #    test_print_accept "ptype pl9" \
# OBSOLETE #	"POWERSET long \\(-2147483648:2147483647\\)" \
# OBSOLETE #	"print mode of long powerset location"
# OBSOLETE #    test_print_accept "whatis pl9" "pm5" \
# OBSOLETE #	"print modename of long powerset location"
# OBSOLETE #    test_print_accept "print pl9" {\[-2147483648:2147483647\]} \
# OBSOLETE #	"print powerset location 9"
# OBSOLETE     
# OBSOLETE     # reference modes
# OBSOLETE     test_print_accept "ptype ref3l" "PTR" "print mode of reference location"
# OBSOLETE     # setup_xfail "*-*-*"
# OBSOLETE     test_print_accept "whatis ref3l" "ref3" \
# OBSOLETE 	"print modename of reference location"
# OBSOLETE     # setup_xfail "*-*-*"
# OBSOLETE     test_print_accept "print ref3l" "ref3\\(H'.*\\)" \
# OBSOLETE 	"print reference location"
# OBSOLETE     test_print_accept "ptype ref4l" "PTR" "print mode of reference location"
# OBSOLETE     # setup_xfail "*-*-*"
# OBSOLETE     test_print_accept "whatis ref4l" "ref4" \
# OBSOLETE 	"print modename of reference location"
# OBSOLETE     # setup_xfail "*-*-*"
# OBSOLETE     test_print_accept "print ref4l" "ref4\\(H'.*\\)" \
# OBSOLETE 	"print reference location"
# OBSOLETE     test_print_accept "ptype ref5l" "PTR" "print mode of reference location"
# OBSOLETE     test_print_accept "whatis ref5l" "PTR" \
# OBSOLETE 	"print modename of reference location"
# OBSOLETE     test_print_accept "print ref5l" "PTR\\(H'.*\\)" \
# OBSOLETE 	"print reference location"
# OBSOLETE 
# OBSOLETE     # dereference a little bit..
# OBSOLETE     test_print_accept "print ref6l->syn_int" "42" \
# OBSOLETE 	"dereference reference to synmode location"
# OBSOLETE     test_print_accept "print ref7l->int" "-42" \
# OBSOLETE 	"dereference reference to predefined mode location"
# OBSOLETE     test_print_accept "print ref8l->pm1" \
# OBSOLETE 	"\[\[\]p1:p10\[\]\]" \
# OBSOLETE 	"dereference reference to newmode location"
# OBSOLETE 
# OBSOLETE     # synchronization mode locations
# OBSOLETE     # FIXME: synchronization modes are not supported so far...
# OBSOLETE     xfail "no synchronization mode location support, not implemented yet"
# OBSOLETE     
# OBSOLETE     # timing mode locations
# OBSOLETE     # FIXME: callbacks to abstime, inttime not implemented
# OBSOLETE     xfail "timing modes not implemented properly yet"
# OBSOLETE 
# OBSOLETE     # char string locations
# OBSOLETE     # some tests are don in chillvars.exp
# OBSOLETE     test_print_accept "ptype strl1" \
# OBSOLETE 	"CHARS \\(7\\) VARYING" \
# OBSOLETE 	"print varying string location"
# OBSOLETE     test_print_accept "whatis strl1" "strm2" \
# OBSOLETE 	"print string locationa mode name"
# OBSOLETE     test_print_accept "print strl1" \
# OBSOLETE 	{\"hansi\^\(0\)\"} \
# OBSOLETE 	"print string location"
# OBSOLETE     # string elements
# OBSOLETE     test_print_accept "print strl1(0)" "\'h\'" \
# OBSOLETE 	"print string element 1"
# OBSOLETE     test_print_accept "print strl1(5)" {'\^[(]0[)]'} \
# OBSOLETE 	"print string element 2"
# OBSOLETE     test_print_accept "print strl1(3)" "\'s\'" \
# OBSOLETE 	"print string element 3"
# OBSOLETE     test_print_accept "ptype strl1(0)" "char" \
# OBSOLETE 	"print mode of string element"
# OBSOLETE     # slices
# OBSOLETE     test_print_accept "print strl1(3:4)" "\"si\"" \
# OBSOLETE 	"print string slice 1"
# OBSOLETE     test_print_accept "print strl1(0:5)" \
# OBSOLETE 	{\"hansi\^\(0\)\"} \
# OBSOLETE 	"print string slice 2"
# OBSOLETE     test_print_accept "print strl1(0:0)" "\"h\"" \
# OBSOLETE 	"print string slice 3"
# OBSOLETE     test_print_accept "print strl1(0 up 6)" \
# OBSOLETE 	{\"hansi\^\(0\)\"} \
# OBSOLETE 	"print string slice 4"
# OBSOLETE     # FIXME: adjust error message, when implented
# OBSOLETE     gdb_test "print strl1(6 up 1)" \
# OBSOLETE 	".*slice.*out of range.*" \
# OBSOLETE 	"print invalid string slice length"
# OBSOLETE     gdb_test "print strl1(-1 up 5)" \
# OBSOLETE 	".*slice.*out of range.*" \
# OBSOLETE 	"print invalid string slice length"
# OBSOLETE     gdb_test "print strl1(-1:5)" \
# OBSOLETE 	".*slice.*out of range.*" \
# OBSOLETE 	"print invalid string slice"
# OBSOLETE     gdb_test "print strl1(-1:7)" \
# OBSOLETE 	".*slice.*out of range.*" \
# OBSOLETE 	"print invalid string slice"
# OBSOLETE     gdb_test "print strl1(0 up -1)" \
# OBSOLETE 	".*slice.*out of range.*" \
# OBSOLETE 	"print invalid string slice length"
# OBSOLETE     gdb_test "print strl1(0 up 0)" {""}
# OBSOLETE     
# OBSOLETE     # bitstring locations
# OBSOLETE     test_print_accept "ptype bstr1" \
# OBSOLETE 	"BOOLS \\(20\\)" \
# OBSOLETE 	"print mode of bitstring location"
# OBSOLETE     test_print_accept "whatis bstrl1" "bstr1" \
# OBSOLETE 	"print mode name of bitstring location"
# OBSOLETE     test_print_accept "print bstrl1" \
# OBSOLETE 	"B'10101010101010101010'" \
# OBSOLETE 	"print bitstring location"
# OBSOLETE     
# OBSOLETE     test_print_accept "ptype bstrl1(0)" "bool|BOOL" \
# OBSOLETE 	"print mode of bitstring element"
# OBSOLETE     test_print_accept "print bstrl1(0)" "TRUE" \
# OBSOLETE 	"print bitstring element 1"
# OBSOLETE     test_print_accept "print bstrl1(19)" "FALSE" \
# OBSOLETE 	"print bitstring element 2"
# OBSOLETE     test_print_accept "print bstrl1(10)" "TRUE" \
# OBSOLETE 	"print bitstring element 3"
# OBSOLETE     
# OBSOLETE     test_print_accept "print bstrl1(0:19)" \
# OBSOLETE 	"B'10101010101010101010'" \
# OBSOLETE 	"print bitstring location slice 1"
# OBSOLETE     test_print_accept "print bstrl1(0:0)" \
# OBSOLETE 	"B'1'" \
# OBSOLETE 	"print bitstring location slice 2"
# OBSOLETE     test_print_accept "print bstrl1(3:9)" \
# OBSOLETE 	"B'0101010'" \
# OBSOLETE 	"print bitstring location slice 3"
# OBSOLETE     test_print_accept "print bstrl1(0 up 20)" \
# OBSOLETE 	"B'10101010101010101010'" \
# OBSOLETE 	"print bitstring location slice 4"
# OBSOLETE     test_print_accept "print bstrl1(19 up 1)" \
# OBSOLETE 	"B'0'" \
# OBSOLETE 	"print bitstring location slice 5"
# OBSOLETE     gdb_test "print bstrl1(20 up 1)" \
# OBSOLETE 	".*slice out of range.*" \
# OBSOLETE 	"print invalid bitstring slice (20 up 1)"
# OBSOLETE     gdb_test "print bstrl1(-4:5)" \
# OBSOLETE 	".*slice out of range.*" \
# OBSOLETE 	"print invalid bitstring slice (-4:5)"
# OBSOLETE     gdb_test "print bstrl1(-1:up 1)" \
# OBSOLETE 	".*invalid expression syntax.*" \
# OBSOLETE 	"print invalid bitstring slice (-1:ip 1)"
# OBSOLETE     gdb_test "print bstrl1(-1:20)" \
# OBSOLETE 	".*slice out of range.*" \
# OBSOLETE 	"print invalid bitstring slice (-1:20)"
# OBSOLETE     gdb_test "print bstrl1(0 up -1)" \
# OBSOLETE 	".*slice out of range.*" \
# OBSOLETE 	"print invalid bitstring slice (0 up -1)"
# OBSOLETE     test_print_accept "print bstrl1(4 up 0)" "B''"
# OBSOLETE     
# OBSOLETE     # array mode locations
# OBSOLETE     gdb_test_exact "ptype arrl1" \
# OBSOLETE 	"ARRAY (1:100) set1" \
# OBSOLETE 	"print mode of array location"
# OBSOLETE     gdb_test "whatis arrl1" "arr1m" \
# OBSOLETE 	"print mode name of array location"
# OBSOLETE     gdb_test_exact "print arrl1" {[(1:100): aaa]} \
# OBSOLETE 	"print array location"
# OBSOLETE     test_print_accept "ptype arrl1(1)" \
# OBSOLETE 	"SET \\(aaa, bbb, ccc\\)" \
# OBSOLETE 	"print mode of array element"
# OBSOLETE     gdb_test_exact "print arrl3" \
# OBSOLETE 	{[(1:5): [(1:3): [(1:2): -2147483648]]]} \
# OBSOLETE 	"print array location 2"
# OBSOLETE     gdb_test_exact "print arrl3(1)" \
# OBSOLETE 	{[(1:3): [(1:2): -2147483648]]} \
# OBSOLETE 	"print array location 3"
# OBSOLETE     gdb_test_exact "ptype arrl3(1)" \
# OBSOLETE 	{ARRAY (1:3) ARRAY (1:2) long} \
# OBSOLETE 	"print mode of array element"
# OBSOLETE     test_print_accept "print arrl3(5)" \
# OBSOLETE 	{\[\(1:3\): \[\(1:2\): -2147483648\]\]} \
# OBSOLETE 	"print array location 4"
# OBSOLETE     test_print_accept "print arrl3(1,1)" \
# OBSOLETE 	{\[\(1:2\): -2147483648\]} \
# OBSOLETE 	"print array location 5"
# OBSOLETE     test_print_accept "ptype arrl3(1,1)" \
# OBSOLETE 	{ARRAY \(1:2\) long} \
# OBSOLETE 	"print mode of array element"
# OBSOLETE     test_print_accept "print arrl3(5,3)" \
# OBSOLETE 	{\[\(1:2\): -2147483648\]} \
# OBSOLETE 	"print array location 6"
# OBSOLETE     test_print_accept "print arrl3(1,1,1)" \
# OBSOLETE 	"-2147483648" \
# OBSOLETE 	"print array location 7"
# OBSOLETE     test_print_accept "print arrl3(5,3,2)" \
# OBSOLETE 	"-2147483648" \
# OBSOLETE 	"print array location 8"
# OBSOLETE     test_print_accept "print arrl3(1)(3)(2)" \
# OBSOLETE 	"-2147483648" \
# OBSOLETE 	"print array location 9"
# OBSOLETE 
# OBSOLETE     # reject the following range fails
# OBSOLETE     # FIXME: adjust error messages
# OBSOLETE     gdb_test "print arrl3(-1)" \
# OBSOLETE 	".*out of range.*" \
# OBSOLETE 	"check invalid array indices 1"
# OBSOLETE     gdb_test "print arrl3(6)" \
# OBSOLETE 	".*out of range.*" \
# OBSOLETE 	"check invalid array indices 2"
# OBSOLETE     gdb_test "print arrl3(0,0)" \
# OBSOLETE 	".*out of range.*" \
# OBSOLETE 	"check invalid array indices 3"
# OBSOLETE     gdb_test "print arrl3(1,0)" \
# OBSOLETE 	".*out of range.*" \
# OBSOLETE 	"check invalid array indices 4"
# OBSOLETE     gdb_test "print arrl3(1,4)" \
# OBSOLETE 	".*out of range.*" \
# OBSOLETE 	"check invalid array indices 5"
# OBSOLETE     gdb_test "print arrl3(6,4)" \
# OBSOLETE 	".*out of range.*" \
# OBSOLETE 	"check invalid array indices 6"
# OBSOLETE     gdb_test "print arrl3(1,1,0)" \
# OBSOLETE 	".*out of range.*" \
# OBSOLETE 	"check invalid array indices 7"
# OBSOLETE     gdb_test "print arrl3(6,4,0)" \
# OBSOLETE 	".*out of range.*" \
# OBSOLETE 	"check invalid array indices 8"
# OBSOLETE     gdb_test "print arrl3(1,1,3)" \
# OBSOLETE 	".*out of range.*" \
# OBSOLETE 	"check invalid array indices 9"
# OBSOLETE 
# OBSOLETE     gdb_test "print arrl3(0)(0)" \
# OBSOLETE 	".* array or string index out of range.*" \
# OBSOLETE 	"check invalid array indices 10"
# OBSOLETE     gdb_test "print arrl3(1)(0)" \
# OBSOLETE 	".* array or string index out of range.*" \
# OBSOLETE 	"check invalid array indices 11"
# OBSOLETE     gdb_test "print arrl3(1)(4)" \
# OBSOLETE 	".* array or string index out of range.*" \
# OBSOLETE 	"check invalid array indices 12"
# OBSOLETE     gdb_test "print arrl3(6)(4)" \
# OBSOLETE 	".* array or string index out of range.*" \
# OBSOLETE 	"check invalid array indices 13"
# OBSOLETE     gdb_test "print arrl3(1)(1)(0)" \
# OBSOLETE 	".* array or string index out of range.*" \
# OBSOLETE 	"check invalid array indices 14"
# OBSOLETE     gdb_test "print arrl3(6)(4)(0)" \
# OBSOLETE 	".* array or string index out of range.*" \
# OBSOLETE 	"check invalid array indices 15"
# OBSOLETE     gdb_test "print arrl3(1)(1)(3)" \
# OBSOLETE 	".* array or string index out of range.*" \
# OBSOLETE 	"check invalid array indices 16"
# OBSOLETE     
# OBSOLETE     # slices
# OBSOLETE     test_print_accept "print arrl4(1:3)" \
# OBSOLETE 	{\[\(1:2\): \[\(1:3\): \[\(1:2\): -2147483648\]\], \(3\): \[\(1:3\): \[\(1:2\): 100\]\]\]} \
# OBSOLETE 	"print array slice 1"
# OBSOLETE     test_print_accept "ptype arrl4(1:3)" \
# OBSOLETE 	{ARRAY \(1:3\) ARRAY \(1:3\) ARRAY \(1:2\) long} \
# OBSOLETE 	"print mode of array slice"
# OBSOLETE # The next one is bogus:
# OBSOLETE #    test_print_accept "print arrl4(5, 2:3, 1)" \
# OBSOLETE #	# FIXME: maybe the '(1): ' in the inner tupel should be omitted ? \
# OBSOLETE #	{\[(2): \[\(1\): 100\], \(3\):\[\(1\): 100\]\]} \
# OBSOLETE #	"print array slice 2"
# OBSOLETE     test_print_accept "print arrl4(1 up 4)" \
# OBSOLETE 	{\[\(1:2\): \[\(1:3\): \[\(1:2\): -2147483648\]\], \(3\): \[\(1:3\): \[\(1:2\): 100\]\], \(4\): \[\(1:3\): \[\(1:2\): -2147483648\]\]\]} \
# OBSOLETE 	"print array slice 3"
# OBSOLETE # The next two are bogus:
# OBSOLETE #    test_print_accept "print arrl4(3, 2 up 1)" \
# OBSOLETE #	{\[\(2:3\): \[\(1:2\): 100\]\]} \
# OBSOLETE #	"print array slice 4"
# OBSOLETE #    test_print_accept "print arrl4(1:2, 1 up 1, 2)" \
# OBSOLETE #	{\[\(1\): \[\(1\): \[\(2\): -2147483648\], \(2\): \[\(2\): -2147483648\]\], \(2\): \[\(1\): \[\(2\): -2147483648\], \(2\): \[\(2\): -2147483648\]\]\]} \
# OBSOLETE #	"print array slice 4"
# OBSOLETE     # reject invalid slices
# OBSOLETE     # FIXME: adjust error messages
# OBSOLETE     gdb_test "print arrl4(5:6)" \
# OBSOLETE 	".*slice out of range.*" \
# OBSOLETE 	"check invalid range 1"
# OBSOLETE     gdb_test "print arrl4(0:1)" \
# OBSOLETE 	".*slice out of range.*" \
# OBSOLETE 	"check invalid range 2"
# OBSOLETE     gdb_test "print arrl4(0:6)" \
# OBSOLETE 	".*slice out of range.*" \
# OBSOLETE 	"check invalid range 3"
# OBSOLETE     gdb_test "print arrl4(3:2)" \
# OBSOLETE 	".*slice out of range.*" \
# OBSOLETE 	"check invalid range 4"
# OBSOLETE     gdb_test "print arrl4(1,3:4)" \
# OBSOLETE 	".*syntax error.*" \
# OBSOLETE 	"check invalid range 5"
# OBSOLETE     gdb_test "print arrl4(1,0:1)" \
# OBSOLETE 	".*syntax error.*" \
# OBSOLETE 	"check invalid range 6"
# OBSOLETE     gdb_test "print arrl4(1,0:4)" \
# OBSOLETE 	".*syntax error.*" \
# OBSOLETE 	"check invalid range 7"
# OBSOLETE     gdb_test "print arrl4(1,3:2)" \
# OBSOLETE 	".*syntax error.*" \
# OBSOLETE 	"check invalid range 8"
# OBSOLETE     gdb_test "print arrl4(5 up 2)" \
# OBSOLETE 	".*slice out of range.*" \
# OBSOLETE 	"check invalid range 9"
# OBSOLETE     gdb_test "print arrl4(-1 up 1)" \
# OBSOLETE 	".*slice out of range.*" \
# OBSOLETE 	"check invalid range 10"
# OBSOLETE     gdb_test "print arrl4(-1 up 7)" \
# OBSOLETE 	".*slice out of range.*" \
# OBSOLETE 	"check invalid range 11"
# OBSOLETE     gdb_test "print arrl4(1 up 0)" \
# OBSOLETE 	".*slice out of range.*" \
# OBSOLETE 	"check invalid range 12"
# OBSOLETE     gdb_test "print arrl4(1,3 up 1)" \
# OBSOLETE 	".*syntax error.*" \
# OBSOLETE 	"check invalid range 13"
# OBSOLETE     gdb_test "print arrl4(1,-1 up 1)" \
# OBSOLETE 	".*syntax error.*" \
# OBSOLETE 	"check invalid range 14"
# OBSOLETE     gdb_test "print arrl4(1,-1 up 5)" \
# OBSOLETE 	".*syntax error.*" \
# OBSOLETE 	"check invalid range 15"
# OBSOLETE     gdb_test "print arrl4(1,2 up 0)" \
# OBSOLETE 	".*syntax error.*" \
# OBSOLETE 	"check invalid range 16"
# OBSOLETE 
# OBSOLETE     # structure modes
# OBSOLETE     # some tests are in chillvars.exp
# OBSOLETE     # FIXME: no tag processing implemented do maybe adjust these tests
# OBSOLETE     setup_xfail "*-*-*"
# OBSOLETE     test_print_accept "ptype stru1m" \
# OBSOLETE 	"STRUCT \\(.*a long,.*b long,.*CASE b OF.*\\(42\\):.*ch1 CHARS\\(20\\),.*\\(52\\):.*ch2 CHARS\\(10\\).*ELSE.*ch3 CHARS\\(1\\).*ESAC.*\\)" \
# OBSOLETE 	"print mode of structure location 1"
# OBSOLETE     test_print_accept "whatis strul1" "stru1m" \
# OBSOLETE 	"print mode name of structure location 1"
# OBSOLETE     setup_xfail "*-*-*"
# OBSOLETE     test_print_accept "print strul1" \
# OBSOLETE 	{\[\.a: -2147483648, \.b: 42, \.\(b\): \{\(42\) = \[\.ch1: \"12345678900987654321\"\], \(52\) = \[\.ch2: \"1234567890\"\], (else) = \[\.ch3: \"1\"\]\}\]} \
# OBSOLETE 	"print structure location 1"
# OBSOLETE     test_print_accept "print strul1.a" \
# OBSOLETE 	"-2147483648" \
# OBSOLETE 	"print field of structure location 1"
# OBSOLETE     test_print_accept "print strul1.b" "42" \
# OBSOLETE 	"print field of structure location 1"
# OBSOLETE     test_print_accept "print strul1.ch1" \
# OBSOLETE 	"\"12345678900987654321\"" \
# OBSOLETE 	"print field of structure location 1"
# OBSOLETE     # setup_xfail "*-*-*"
# OBSOLETE     test_print_accept "print strul1.ch2" \
# OBSOLETE 	"\"1234567890\"" \
# OBSOLETE 	"print field of structure location 1"
# OBSOLETE     # setup_xfail "*-*-*"
# OBSOLETE     test_print_accept "print strul1.ch3" \
# OBSOLETE 	"\"1\"" \
# OBSOLETE 	"print field of structure location 1"
# OBSOLETE     
# OBSOLETE     if $passcount then {
# OBSOLETE 	pass "$passcount correct locations printed"
# OBSOLETE     }
# OBSOLETE }
# OBSOLETE 
# OBSOLETE # This is chill/9434
# OBSOLETE 
# OBSOLETE proc test_9434 {} {
# OBSOLETE     global passcount
# OBSOLETE 
# OBSOLETE     verbose "testing pr-9434"
# OBSOLETE 
# OBSOLETE     test_print_accept "ptype m_xyzmode" "STRUCT \\(.*next REF m_xyzmode,.*i long.*\\)"
# OBSOLETE }
# OBSOLETE 
# OBSOLETE # Start with a fresh gdb.
# OBSOLETE 
# OBSOLETE gdb_exit
# OBSOLETE gdb_start
# OBSOLETE gdb_reinitialize_dir $srcdir/$subdir
# OBSOLETE 
# OBSOLETE gdb_test "set print sevenbit-strings" ".*"
# OBSOLETE 
# OBSOLETE if [set_lang_chill] then {
# OBSOLETE     test_modes
# OBSOLETE     test_locations
# OBSOLETE     test_9434
# OBSOLETE } else {
# OBSOLETE     warning "$test_name tests suppressed."
# OBSOLETE }
@


1.3
log
@More obsolete CHILL.
@
text
@@


1.3.10.1
log
@Merge drow-cplus-branch to:
  cvs rtag -D 2003-12-14 00:00:00 UTC drow-cplus-merge-20031214 gdb+dejagnu
@
text
@@


1.3.8.1
log
@2002-12-23  David Carlton  <carlton@@math.stanford.edu>

	* Merge from mainline; tag is carlton_dictionary-20021223-merge.
@
text
@@


1.2
log
@Update/correct copyright notices.
@
text
@d1 822
a822 822
# Copyright 1995, 1996, 1997 Free Software Foundation, Inc.

# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 2 of the License, or
# (at your option) any later version.
# 
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
# 
# You should have received a copy of the GNU General Public License
# along with this program; if not, write to the Free Software
# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.  

# Please email any bugs, comments, and/or additions to this file to:
# bug-gdb@@prep.ai.mit.edu

# This file tests various Chill values, expressions, and types.

if $tracelevel then {
	strace $tracelevel
}

if [skip_chill_tests] then { continue }

set testfile "tests1"
set srcfile ${srcdir}/$subdir/${testfile}.ch
set binfile ${objdir}/${subdir}/${testfile}.exe
if  { [compile "${srcfile} -g -w -o ${binfile} ${CHILL_RT0} ${CHILL_LIB}"] != "" } {
    perror "Couldn't compile ${srcfile}"
    return -1
}

# Set the current language to chill.  This counts as a test.  If it
# fails, then we skip the other tests.

proc set_lang_chill {} {
    global gdb_prompt
    global binfile objdir subdir

    verbose "loading file '$binfile'"
    gdb_load $binfile
    send_gdb "set language chill\n"
    gdb_expect {
	-re ".*$gdb_prompt $" {}
	timeout { fail "set language chill (timeout)" ; return 0 }
    }

    send_gdb "show language\n"
    gdb_expect {
	-re ".* source language is \"chill\".*$gdb_prompt $" {
	    pass "set language to \"chill\""
	    send_gdb "break dummyfunc\n"
	    gdb_expect {
		-re ".*$gdb_prompt $" {
		    send_gdb "run\n" 
		    gdb_expect -re ".*$gdb_prompt $" {}
		    return 1
		}
		timeout {
		    fail "can't set breakpoint (timeout)"
		    return 0
		}
	    }
	}
	-re ".*$gdb_prompt $" {
	    fail "setting language to \"chill\""
	    return 0
	}
	timeout {
	    fail "can't show language (timeout)"
	    return 0
	}
    }
}

# Testing printing of a specific value.  Increment passcount for
# success or issue fail message for failure.  In both cases, return
# a 1 to indicate that more tests can proceed.  However a timeout
# is a serious error, generates a special fail message, and causes
# a 0 to be returned to indicate that more tests are likely to fail
# as well.
#
# Args are:
#
#	First one is string to send_gdb to gdb
#	Second one is string to match gdb result to
#	Third one is an optional message to be printed

proc test_print_accept { args } {
    global gdb_prompt
    global passcount
    global verbose

    if [llength $args]==3 then {
	set message [lindex $args 2]
    } else {
	set message [lindex $args 0]
    }
    set sendthis [lindex $args 0]
    set expectthis [lindex $args 1]
    set result [gdb_test $sendthis ".* = ${expectthis}" $message]
    if $result==0 {incr passcount}
    return $result
}

# Testing printing of a specific value.  Increment passcount for
# success or issue fail message for failure.  In both cases, return
# a 1 to indicate that more tests can proceed.  However a timeout
# is a serious error, generates a special fail message, and causes
# a 0 to be returned to indicate that more tests are likely to fail
# as well.

# various tests if modes are treated correctly
# using ptype
proc test_modes {} {
    global passcount

    verbose "testing chill modes"
    set passcount 0

    # discrete modes
    test_print_accept "ptype BYTE" "byte"
    test_print_accept "ptype UBYTE" "ubyte"
    test_print_accept "ptype INT" "int"
    test_print_accept "ptype UINT" "uint"
    test_print_accept "ptype LONG" "long"
    test_print_accept "ptype ULONG" "ulong"
    test_print_accept "ptype BOOL" "bool"
    test_print_accept "ptype CHAR" "char"

    test_print_accept "ptype set1" "SET \[(\]aaa, bbb, ccc\[)\]" \
	"print unnumbered set mode"
    test_print_accept "ptype nset1" "SET \[(\]na = 1, nb = 34, nc = 20\[)\]" \
	"print numbered set mode"

    # mp:
    # display maybe in hex values ?
    #
    test_print_accept "ptype r11" "ubyte \\(0:255\\)" \
	"print ubyte range mode"
    test_print_accept "ptype r12" "uint \\(0:65535\\)" \
	"print uint range mode"
#    test_print_accept "ptype r13" "ulong \\(0:4294967295\\)" \
#	"print ulong range mode"
    test_print_accept "ptype r14" "byte \\(-128:127\\)" \
	"print byte range mode"
    test_print_accept "ptype r15" "int \\(-32768:32767\\)" \
	"print int range mode"
    test_print_accept "ptype r16" "long \\(-2147483648:2147483647\\)" \
	"print long range mode"

    test_print_accept "ptype r2" "set1 \\(bbb:ccc\\)" \
	"print unnumbered set range mode"
    test_print_accept "ptype r3" "nset1 \\(na:na\\)" \
	"print numbered set range mode"
    # really this order ?
    # I'm not sure what should happen for the next two tests.
    setup_xfail "*-*-*"
    test_print_accept "ptype r4" "nset1 \\(nb = 34:nc = 20\\)" \
	"print numbered set range mode"
    setup_xfail "*-*-*"
    test_print_accept "ptype r5" "nset1 \\(na = 1, nb = 34, nc = 20\\)" \
	"print numbered set range mode"

    # powerset modes
    test_print_accept "ptype pm1" \
	"POWERSET SET \[(\]p1, p2, p3, p4, p5, p6, p7, p8, p9, p10\[)\]" \
	"print powerset mode 1"
    test_print_accept "ptype pm2" "POWERSET byte \\(1:8\\)" \
	"print powerset mode 2"
    test_print_accept "ptype pm3" "POWERSET int \\(-32768:32767\\)" \
	"print powerset mode 3"
    test_print_accept "ptype pm4" "POWERSET long \\(-32768:32768\\)" \
	"print powerset mode 4"
    test_print_accept "ptype pm5" \
	"POWERSET long \\(-2147483648:2147483647\\)" \
	"print powerset mode 5"
    
    # reference modes
    test_print_accept "ptype ref1" "REF pm1" \
	"print reference to powerset mode"
    test_print_accept "ptype ref2" "REF byte" \
	"print reference to byte"
    test_print_accept "ptype ref3" "PTR" \
	"print free reference type"

    # procedure modes
    # FIXME: we have to talk about this ... 
    test_print_accept "ptype prm1" \
	"REF PROC \[(\]\[)\]" \
	"print procedure mode 1"
    setup_xfail "*-*-*"
    test_print_accept "ptype prm2" \
	"REF PROC \[(\]bool in, int out long inout\[)\] RETURNS \[(\]char\[)\]" \
	"print procedure mode 2"
    setup_xfail "*-*-*"
    test_print_accept "ptype prm3" \
	"REF PROC \[(\]pm1, ref loc\[)\] RETURNS \[(\]ref3\[)\]" \
	"print procedure mode 3"
    setup_xfail "*-*-*"
    test_print_accept "ptype prm4" \
	"\[(\] \[)\] EXCEPTIONS \[(\]ex1, ex2, ex3\[)\]" \
	"print procedure mode 4"
    setup_xfail "*-*-*"
    test_print_accept "ptype prm5" \
	"REF PROC \[(\]r11, r16 inout, r5 out\[)\] RETURNS \[(\]r2\[)\] EXCEPTIONS \[(\]ex1\[)\]" \
	"print procedure mode 5"

    # synchronization modes
    # FIXME: since gdb doesn't process events & buffers so far, this has be 
    #        filled later...
    xfail "synchronization mode handling"

    # timing modes
    test_print_accept "ptype DURATION" "duration"
    test_print_accept "ptype TIME" "time"

    # string modes
    # some tests are done in chillvars.exp
    test_print_accept "ptype strm1" "CHARS \\(5\\)" "print char string mode"
    test_print_accept "ptype strm2" "CHARS \[(\]7\[)\] VARYING" \
	"print varying char string mode"
    test_print_accept "ptype bstr1" "BOOLS \\(20\\)" "print bit string mode"

    test_print_accept "ptype B'000'" "BOOLS \\(3\\)" "bit string literal"
    test_print_accept "ptype B'11110000'" "BOOLS \\(8\\)" "bit string literal"
    # FIXME: adjust error message
    gdb_test "ptype B'00110211'" {.*Too-large digit.*[.]} \
	"reject invalid bitstring"

    # array modes
    # some tests are done in chillvars.exp
    test_print_accept "ptype arr1m" "ARRAY \\(1:100\\) set1" \
	"print array mode 1"
    test_print_accept "ptype arr2m" "ARRAY \\(1:100\\) ARRAY \\(1:100\\) set1"\
	"print array mode 2"
    test_print_accept "ptype arr3m" "ARRAY \\(0:255\\) ARRAY \\(0:65535\\) ARRAY \\(-128:127\\) set1" \
	"print array mode 3"
    setup_xfail "*-*-*"
    test_print_accept "ptype arr4m" "ARRAY \\(b:c\\) ARRAY \\(na = 1:na = 1\\) ARRAY \\(nc:nb\\) ARRAY \\(na = 1:nc = 20\\) POWERSET SET \[(\]p1, p2, p3, p4, p5, p6, p7, p8, p9, p10\[)\]" \
	"print array mode 4"
    
    # structure modes
    # some checks are in chillvars.exp
    # setup_xfail "*-*-*"
    test_print_accept "ptype stru1m" "STRUCT \\(.*a long,.*b long,.*CASE OF.*:.*ch1 CHARS \\(20\\).*:.*ch2 CHARS \\(10\\).*ELSE.*ch3 CHARS \\(1\\).*ESAC.*\\)" \
	"print structure mode 1"
    #setup_xfail "*-*-*"
    test_print_accept "ptype stru2m" "STRUCT \\(.*f set1,.*CASE OF.*:.*ch1 CHARS \\(20\\).*:.*ch2 CHARS \\(10\\) VARYING.*ELSE.*ch3 CHARS \\(0\\) VARYING.*ESAC.*\\)" \
	"print structure mode 2"
    #setup_xfail "*-*-*"
    test_print_accept "ptype stru3m" "STRUCT \\(.*f r3,.*CASE OF.*:.*ch1 CHARS \\(20\\).*ESAC.*\\)" \
	"print structure mode 3"
    # setup_xfail "*-*-*"
    test_print_accept "ptype stru4m" "STRUCT \\(.*i long,.*CASE OF.*:.*i1 int,.*i11 int,.*b1 bool,.*c1 char.*:.*i2 long,.*i22 long,.*bs2 BOOLS \\(10\\).*:.*s3 STRUCT \\(.*i3 int,.*CASE OF.*:.*foo long.*ELSE.*bar char.*ESAC.*\\).*ELSE.*x stru2m.*ESAC,.*y stru3m.*\\)" \
	"print structure mode 4"
   
    
    if $passcount then {
	pass "$passcount correct modes printed"
    }
}

# various tests if locations are treated correctly
# read access using ptype, print, whatis
proc test_locations {} {
    global passcount

    set passcount 0
    verbose "testing read access to locations"
    # various location tests can be found in chillvars.exp

    # set locations
    test_print_accept "ptype s1l" "SET \\(aaa, bbb, ccc\\)" \
	"print mode of set location"
    test_print_accept "whatis s1l" "set1" \
	"print modename of set location"
    test_print_accept "print s1l" "ccc" "print set location"
    test_print_accept "ptype s2l" "SET \\(na = 1, nb = 34, nc = 20\\)" \
	"print mode of numbered set location"
    test_print_accept "whatis s2l" "nset1" \
	"print mode name of numbered set location"
    test_print_accept "print s2l" "nb" "print numberes set location"

    # range modes
    test_print_accept "ptype rl1" "ubyte \\(0:255\\)" \
	"print mode of range location"
    test_print_accept "whatis rl1" "r11" \
	"print mode name of range location"
    test_print_accept "print rl1" "3" \
	"print range location"

    test_print_accept "ptype rl2" "ubyte \\(0:255\\)" \
	"print mode of range location"
    test_print_accept "whatis rl2" "r11" \
	"print mode name of range location"
    test_print_accept "print rl2" "0" \
	"print range location"

    test_print_accept "ptype rl3" "ubyte \\(0:255\\)" \
	"print mode of range location"
    test_print_accept "whatis rl3" "r11" \
	"print mode name of range location"
    test_print_accept "print rl3" "255" \
	"print range location"

    test_print_accept "ptype rl5" "uint \\(0:65535\\)" \
	"print mode of range location"
    test_print_accept "whatis rl5" "r12" \
	"print mode name of range location"
    test_print_accept "print rl5" "65530" \
	"print range location"

    test_print_accept "ptype rl6" "uint \\(0:65535\\)" \
	"print mode of range location"
    test_print_accept "whatis rl6" "r12" \
	"print mode name of range location"
    test_print_accept "print rl6" "0" \
	"print range location"
	
    test_print_accept "ptype rl7" "uint \\(0:65535\\)" \
	"print mode of range location"
    test_print_accept "whatis rl7" "r12" \
	"print mode name of range location"
    test_print_accept "print rl7" "65535" \
	"print range location"
	
#     test_print_accept "ptype rl9" "ulong \\(0:4294967295\\)" \
# 	"print mode of range location"
#     test_print_accept "whatis rl9" "r13" \
# 	"print mode name of range location"
#     test_print_accept "print rl9" "128" \
# 	"print range location"
	
#     test_print_accept "ptype rl10" "ulong \\(0:4294967295\\)" \
# 	"print mode of range location"
#     test_print_accept "whatis rl10" "r13" \
# 	"print mode name of range location"
#     test_print_accept "print rl10" "0" \
# 	"print range location"
	
#     test_print_accept "ptype rl11" "ulong \\(0:4294967295\\)" \
# 	"print mode of range location"
#     test_print_accept "whatis rl11" "r13" \
# 	"print mode name of range location"
#     test_print_accept "print rl11" "4294967295" \
# 	"print range location"

    test_print_accept "ptype rl13" "byte \\(-128:127\\)" \
	"print mode of range location"
    test_print_accept "whatis rl13" "r14" \
	"print mode name of range location"
    test_print_accept "print rl13" "-121" \
	"print range location"

    test_print_accept "ptype rl14" "byte \\(-128:127\\)" \
	"print mode of range location"
    test_print_accept "whatis rl14" "r14" \
	"print mode name of range location"
    test_print_accept "print rl14" "-128" \
	"print range location"

    test_print_accept "ptype rl15" "byte \\(-128:127\\)" \
	"print mode of range location"
    test_print_accept "whatis rl15" "r14" \
	"print mode name of range location"
    test_print_accept "print rl15" "127" \
	"print range location"

    test_print_accept "ptype rl17" "int \\(-32768:32767\\)" \
	"print mode of range location"
    test_print_accept "whatis rl17" "r15" \
	"print mode name of range location"
    test_print_accept "print rl17" "-32720" \
	"print range location"

    test_print_accept "ptype rl18" "int \\(-32768:32767\\)" \
	"print mode of range location"
    test_print_accept "whatis rl18" "r15" \
	"print mode name of range location"
    test_print_accept "print rl18" "-32768" \
	"print range location"

    test_print_accept "ptype rl19" "int \\(-32768:32767\\)" \
	"print mode of range location"
    test_print_accept "whatis rl19" "r15" \
	"print mode name of range location"
    test_print_accept "print rl19" "32767" \
	"print range location"

    test_print_accept "ptype rl21" "long \\(-2147483648:2147483647\\)" \
	"print mode of range location"
    test_print_accept "whatis rl21" "r16" \
	"print mode name of range location"
    test_print_accept "print rl21" "2147483643" \
	"print range location"

    test_print_accept "ptype rl22" "long \\(-2147483648:2147483647\\)" \
	"print mode of range location"
    test_print_accept "whatis rl22" "r16" \
	"print mode name of range location"
    test_print_accept "print rl22" "-2147483648" \
	"print range location"

    test_print_accept "ptype rl23" "long \\(-2147483648:2147483647\\)" \
	"print mode of range location"
    test_print_accept "whatis rl23" "r16" \
	"print mode name of range location"
    test_print_accept "print rl23" "2147483647" \
	"print range location"
    
    # powerset locations
    test_print_accept "ptype pl1" \
	"POWERSET SET \\(p1, p2, p3, p4, p5, p6, p7, p8, p9, p10\\)" \
	"print mode of powerset location 1"
    test_print_accept "whatis pl1" "pm1" \
	"print mode mode name of powerset location"
    test_print_accept "print pl1" \
	"\[\[\]p1:p10\[\]\]" \
	"print powerset location 1"
    test_print_accept "print pl2" {\[\]} \
	"print powerset location 2"
    test_print_accept "print pl3" "\[\[\]p1, p10\[\]\]" \
    	"print powerset location 3"
    test_print_accept "print pl4" {\[p1:p2, p4:p6, p8:p10\]} \
	"print powerset location 4"
    test_print_accept "print pl5" {\[p1:p4, p6, p8:p10\]} \
	"print powerset location 5"
    test_print_accept "print pl6" {\[p1, p3:p8, p10\]} \
	"print powerset location 6"
    
    test_print_accept "ptype pl7" \
	"POWERSET byte \\(1:8\\)" \
	"print mode of byte powerset location"
    test_print_accept "whatis pl7" "pm2" \
	"print modename of byte powerset location"
    test_print_accept "print pl7" {\[1:8\]} \
	"print powerset location 7"
    
    test_print_accept "ptype pl8" \
	"POWERSET int \\(-32768:32767\\)" \
	"print mode of int powerset location"
    test_print_accept "whatis pl8" "pm3" \
	"print modename of int powerset location"
    test_print_accept "print pl8" {\[-32768:32767\]} \
	"print powerset location 8"
    
#    test_print_accept "ptype pl9" \
#	"POWERSET long \\(-2147483648:2147483647\\)" \
#	"print mode of long powerset location"
#    test_print_accept "whatis pl9" "pm5" \
#	"print modename of long powerset location"
#    test_print_accept "print pl9" {\[-2147483648:2147483647\]} \
#	"print powerset location 9"
    
    # reference modes
    test_print_accept "ptype ref3l" "PTR" "print mode of reference location"
    # setup_xfail "*-*-*"
    test_print_accept "whatis ref3l" "ref3" \
	"print modename of reference location"
    # setup_xfail "*-*-*"
    test_print_accept "print ref3l" "ref3\\(H'.*\\)" \
	"print reference location"
    test_print_accept "ptype ref4l" "PTR" "print mode of reference location"
    # setup_xfail "*-*-*"
    test_print_accept "whatis ref4l" "ref4" \
	"print modename of reference location"
    # setup_xfail "*-*-*"
    test_print_accept "print ref4l" "ref4\\(H'.*\\)" \
	"print reference location"
    test_print_accept "ptype ref5l" "PTR" "print mode of reference location"
    test_print_accept "whatis ref5l" "PTR" \
	"print modename of reference location"
    test_print_accept "print ref5l" "PTR\\(H'.*\\)" \
	"print reference location"

    # dereference a little bit..
    test_print_accept "print ref6l->syn_int" "42" \
	"dereference reference to synmode location"
    test_print_accept "print ref7l->int" "-42" \
	"dereference reference to predefined mode location"
    test_print_accept "print ref8l->pm1" \
	"\[\[\]p1:p10\[\]\]" \
	"dereference reference to newmode location"

    # synchronization mode locations
    # FIXME: synchronization modes are not supported so far...
    xfail "no synchronization mode location support, not implemented yet"
    
    # timing mode locations
    # FIXME: callbacks to abstime, inttime not implemented
    xfail "timing modes not implemented properly yet"

    # char string locations
    # some tests are don in chillvars.exp
    test_print_accept "ptype strl1" \
	"CHARS \\(7\\) VARYING" \
	"print varying string location"
    test_print_accept "whatis strl1" "strm2" \
	"print string locationa mode name"
    test_print_accept "print strl1" \
	{\"hansi\^\(0\)\"} \
	"print string location"
    # string elements
    test_print_accept "print strl1(0)" "\'h\'" \
	"print string element 1"
    test_print_accept "print strl1(5)" {'\^[(]0[)]'} \
	"print string element 2"
    test_print_accept "print strl1(3)" "\'s\'" \
	"print string element 3"
    test_print_accept "ptype strl1(0)" "char" \
	"print mode of string element"
    # slices
    test_print_accept "print strl1(3:4)" "\"si\"" \
	"print string slice 1"
    test_print_accept "print strl1(0:5)" \
	{\"hansi\^\(0\)\"} \
	"print string slice 2"
    test_print_accept "print strl1(0:0)" "\"h\"" \
	"print string slice 3"
    test_print_accept "print strl1(0 up 6)" \
	{\"hansi\^\(0\)\"} \
	"print string slice 4"
    # FIXME: adjust error message, when implented
    gdb_test "print strl1(6 up 1)" \
	".*slice.*out of range.*" \
	"print invalid string slice length"
    gdb_test "print strl1(-1 up 5)" \
	".*slice.*out of range.*" \
	"print invalid string slice length"
    gdb_test "print strl1(-1:5)" \
	".*slice.*out of range.*" \
	"print invalid string slice"
    gdb_test "print strl1(-1:7)" \
	".*slice.*out of range.*" \
	"print invalid string slice"
    gdb_test "print strl1(0 up -1)" \
	".*slice.*out of range.*" \
	"print invalid string slice length"
    gdb_test "print strl1(0 up 0)" {""}
    
    # bitstring locations
    test_print_accept "ptype bstr1" \
	"BOOLS \\(20\\)" \
	"print mode of bitstring location"
    test_print_accept "whatis bstrl1" "bstr1" \
	"print mode name of bitstring location"
    test_print_accept "print bstrl1" \
	"B'10101010101010101010'" \
	"print bitstring location"
    
    test_print_accept "ptype bstrl1(0)" "bool|BOOL" \
	"print mode of bitstring element"
    test_print_accept "print bstrl1(0)" "TRUE" \
	"print bitstring element 1"
    test_print_accept "print bstrl1(19)" "FALSE" \
	"print bitstring element 2"
    test_print_accept "print bstrl1(10)" "TRUE" \
	"print bitstring element 3"
    
    test_print_accept "print bstrl1(0:19)" \
	"B'10101010101010101010'" \
	"print bitstring location slice 1"
    test_print_accept "print bstrl1(0:0)" \
	"B'1'" \
	"print bitstring location slice 2"
    test_print_accept "print bstrl1(3:9)" \
	"B'0101010'" \
	"print bitstring location slice 3"
    test_print_accept "print bstrl1(0 up 20)" \
	"B'10101010101010101010'" \
	"print bitstring location slice 4"
    test_print_accept "print bstrl1(19 up 1)" \
	"B'0'" \
	"print bitstring location slice 5"
    gdb_test "print bstrl1(20 up 1)" \
	".*slice out of range.*" \
	"print invalid bitstring slice (20 up 1)"
    gdb_test "print bstrl1(-4:5)" \
	".*slice out of range.*" \
	"print invalid bitstring slice (-4:5)"
    gdb_test "print bstrl1(-1:up 1)" \
	".*invalid expression syntax.*" \
	"print invalid bitstring slice (-1:ip 1)"
    gdb_test "print bstrl1(-1:20)" \
	".*slice out of range.*" \
	"print invalid bitstring slice (-1:20)"
    gdb_test "print bstrl1(0 up -1)" \
	".*slice out of range.*" \
	"print invalid bitstring slice (0 up -1)"
    test_print_accept "print bstrl1(4 up 0)" "B''"
    
    # array mode locations
    gdb_test_exact "ptype arrl1" \
	"ARRAY (1:100) set1" \
	"print mode of array location"
    gdb_test "whatis arrl1" "arr1m" \
	"print mode name of array location"
    gdb_test_exact "print arrl1" {[(1:100): aaa]} \
	"print array location"
    test_print_accept "ptype arrl1(1)" \
	"SET \\(aaa, bbb, ccc\\)" \
	"print mode of array element"
    gdb_test_exact "print arrl3" \
	{[(1:5): [(1:3): [(1:2): -2147483648]]]} \
	"print array location 2"
    gdb_test_exact "print arrl3(1)" \
	{[(1:3): [(1:2): -2147483648]]} \
	"print array location 3"
    gdb_test_exact "ptype arrl3(1)" \
	{ARRAY (1:3) ARRAY (1:2) long} \
	"print mode of array element"
    test_print_accept "print arrl3(5)" \
	{\[\(1:3\): \[\(1:2\): -2147483648\]\]} \
	"print array location 4"
    test_print_accept "print arrl3(1,1)" \
	{\[\(1:2\): -2147483648\]} \
	"print array location 5"
    test_print_accept "ptype arrl3(1,1)" \
	{ARRAY \(1:2\) long} \
	"print mode of array element"
    test_print_accept "print arrl3(5,3)" \
	{\[\(1:2\): -2147483648\]} \
	"print array location 6"
    test_print_accept "print arrl3(1,1,1)" \
	"-2147483648" \
	"print array location 7"
    test_print_accept "print arrl3(5,3,2)" \
	"-2147483648" \
	"print array location 8"
    test_print_accept "print arrl3(1)(3)(2)" \
	"-2147483648" \
	"print array location 9"

    # reject the following range fails
    # FIXME: adjust error messages
    gdb_test "print arrl3(-1)" \
	".*out of range.*" \
	"check invalid array indices 1"
    gdb_test "print arrl3(6)" \
	".*out of range.*" \
	"check invalid array indices 2"
    gdb_test "print arrl3(0,0)" \
	".*out of range.*" \
	"check invalid array indices 3"
    gdb_test "print arrl3(1,0)" \
	".*out of range.*" \
	"check invalid array indices 4"
    gdb_test "print arrl3(1,4)" \
	".*out of range.*" \
	"check invalid array indices 5"
    gdb_test "print arrl3(6,4)" \
	".*out of range.*" \
	"check invalid array indices 6"
    gdb_test "print arrl3(1,1,0)" \
	".*out of range.*" \
	"check invalid array indices 7"
    gdb_test "print arrl3(6,4,0)" \
	".*out of range.*" \
	"check invalid array indices 8"
    gdb_test "print arrl3(1,1,3)" \
	".*out of range.*" \
	"check invalid array indices 9"

    gdb_test "print arrl3(0)(0)" \
	".* array or string index out of range.*" \
	"check invalid array indices 10"
    gdb_test "print arrl3(1)(0)" \
	".* array or string index out of range.*" \
	"check invalid array indices 11"
    gdb_test "print arrl3(1)(4)" \
	".* array or string index out of range.*" \
	"check invalid array indices 12"
    gdb_test "print arrl3(6)(4)" \
	".* array or string index out of range.*" \
	"check invalid array indices 13"
    gdb_test "print arrl3(1)(1)(0)" \
	".* array or string index out of range.*" \
	"check invalid array indices 14"
    gdb_test "print arrl3(6)(4)(0)" \
	".* array or string index out of range.*" \
	"check invalid array indices 15"
    gdb_test "print arrl3(1)(1)(3)" \
	".* array or string index out of range.*" \
	"check invalid array indices 16"
    
    # slices
    test_print_accept "print arrl4(1:3)" \
	{\[\(1:2\): \[\(1:3\): \[\(1:2\): -2147483648\]\], \(3\): \[\(1:3\): \[\(1:2\): 100\]\]\]} \
	"print array slice 1"
    test_print_accept "ptype arrl4(1:3)" \
	{ARRAY \(1:3\) ARRAY \(1:3\) ARRAY \(1:2\) long} \
	"print mode of array slice"
# The next one is bogus:
#    test_print_accept "print arrl4(5, 2:3, 1)" \
#	# FIXME: maybe the '(1): ' in the inner tupel should be omitted ? \
#	{\[(2): \[\(1\): 100\], \(3\):\[\(1\): 100\]\]} \
#	"print array slice 2"
    test_print_accept "print arrl4(1 up 4)" \
	{\[\(1:2\): \[\(1:3\): \[\(1:2\): -2147483648\]\], \(3\): \[\(1:3\): \[\(1:2\): 100\]\], \(4\): \[\(1:3\): \[\(1:2\): -2147483648\]\]\]} \
	"print array slice 3"
# The next two are bogus:
#    test_print_accept "print arrl4(3, 2 up 1)" \
#	{\[\(2:3\): \[\(1:2\): 100\]\]} \
#	"print array slice 4"
#    test_print_accept "print arrl4(1:2, 1 up 1, 2)" \
#	{\[\(1\): \[\(1\): \[\(2\): -2147483648\], \(2\): \[\(2\): -2147483648\]\], \(2\): \[\(1\): \[\(2\): -2147483648\], \(2\): \[\(2\): -2147483648\]\]\]} \
#	"print array slice 4"
    # reject invalid slices
    # FIXME: adjust error messages
    gdb_test "print arrl4(5:6)" \
	".*slice out of range.*" \
	"check invalid range 1"
    gdb_test "print arrl4(0:1)" \
	".*slice out of range.*" \
	"check invalid range 2"
    gdb_test "print arrl4(0:6)" \
	".*slice out of range.*" \
	"check invalid range 3"
    gdb_test "print arrl4(3:2)" \
	".*slice out of range.*" \
	"check invalid range 4"
    gdb_test "print arrl4(1,3:4)" \
	".*syntax error.*" \
	"check invalid range 5"
    gdb_test "print arrl4(1,0:1)" \
	".*syntax error.*" \
	"check invalid range 6"
    gdb_test "print arrl4(1,0:4)" \
	".*syntax error.*" \
	"check invalid range 7"
    gdb_test "print arrl4(1,3:2)" \
	".*syntax error.*" \
	"check invalid range 8"
    gdb_test "print arrl4(5 up 2)" \
	".*slice out of range.*" \
	"check invalid range 9"
    gdb_test "print arrl4(-1 up 1)" \
	".*slice out of range.*" \
	"check invalid range 10"
    gdb_test "print arrl4(-1 up 7)" \
	".*slice out of range.*" \
	"check invalid range 11"
    gdb_test "print arrl4(1 up 0)" \
	".*slice out of range.*" \
	"check invalid range 12"
    gdb_test "print arrl4(1,3 up 1)" \
	".*syntax error.*" \
	"check invalid range 13"
    gdb_test "print arrl4(1,-1 up 1)" \
	".*syntax error.*" \
	"check invalid range 14"
    gdb_test "print arrl4(1,-1 up 5)" \
	".*syntax error.*" \
	"check invalid range 15"
    gdb_test "print arrl4(1,2 up 0)" \
	".*syntax error.*" \
	"check invalid range 16"

    # structure modes
    # some tests are in chillvars.exp
    # FIXME: no tag processing implemented do maybe adjust these tests
    setup_xfail "*-*-*"
    test_print_accept "ptype stru1m" \
	"STRUCT \\(.*a long,.*b long,.*CASE b OF.*\\(42\\):.*ch1 CHARS\\(20\\),.*\\(52\\):.*ch2 CHARS\\(10\\).*ELSE.*ch3 CHARS\\(1\\).*ESAC.*\\)" \
	"print mode of structure location 1"
    test_print_accept "whatis strul1" "stru1m" \
	"print mode name of structure location 1"
    setup_xfail "*-*-*"
    test_print_accept "print strul1" \
	{\[\.a: -2147483648, \.b: 42, \.\(b\): \{\(42\) = \[\.ch1: \"12345678900987654321\"\], \(52\) = \[\.ch2: \"1234567890\"\], (else) = \[\.ch3: \"1\"\]\}\]} \
	"print structure location 1"
    test_print_accept "print strul1.a" \
	"-2147483648" \
	"print field of structure location 1"
    test_print_accept "print strul1.b" "42" \
	"print field of structure location 1"
    test_print_accept "print strul1.ch1" \
	"\"12345678900987654321\"" \
	"print field of structure location 1"
    # setup_xfail "*-*-*"
    test_print_accept "print strul1.ch2" \
	"\"1234567890\"" \
	"print field of structure location 1"
    # setup_xfail "*-*-*"
    test_print_accept "print strul1.ch3" \
	"\"1\"" \
	"print field of structure location 1"
    
    if $passcount then {
	pass "$passcount correct locations printed"
    }
}

# This is chill/9434

proc test_9434 {} {
    global passcount

    verbose "testing pr-9434"

    test_print_accept "ptype m_xyzmode" "STRUCT \\(.*next REF m_xyzmode,.*i long.*\\)"
}

# Start with a fresh gdb.

gdb_exit
gdb_start
gdb_reinitialize_dir $srcdir/$subdir

gdb_test "set print sevenbit-strings" ".*"

if [set_lang_chill] then {
    test_modes
    test_locations
    test_9434
} else {
    warning "$test_name tests suppressed."
}
@


1.2.16.1
log
@Merge with kseitz_interps-20020809-merge of CVS head.
@
text
@d1 822
a822 822
# OBSOLETE # Copyright 1995, 1996, 1997 Free Software Foundation, Inc.
# OBSOLETE 
# OBSOLETE # This program is free software; you can redistribute it and/or modify
# OBSOLETE # it under the terms of the GNU General Public License as published by
# OBSOLETE # the Free Software Foundation; either version 2 of the License, or
# OBSOLETE # (at your option) any later version.
# OBSOLETE # 
# OBSOLETE # This program is distributed in the hope that it will be useful,
# OBSOLETE # but WITHOUT ANY WARRANTY; without even the implied warranty of
# OBSOLETE # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# OBSOLETE # GNU General Public License for more details.
# OBSOLETE # 
# OBSOLETE # You should have received a copy of the GNU General Public License
# OBSOLETE # along with this program; if not, write to the Free Software
# OBSOLETE # Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.  
# OBSOLETE 
# OBSOLETE # Please email any bugs, comments, and/or additions to this file to:
# OBSOLETE # bug-gdb@@prep.ai.mit.edu
# OBSOLETE 
# OBSOLETE # This file tests various Chill values, expressions, and types.
# OBSOLETE 
# OBSOLETE if $tracelevel then {
# OBSOLETE 	strace $tracelevel
# OBSOLETE }
# OBSOLETE 
# OBSOLETE if [skip_chill_tests] then { continue }
# OBSOLETE 
# OBSOLETE set testfile "tests1"
# OBSOLETE set srcfile ${srcdir}/$subdir/${testfile}.ch
# OBSOLETE set binfile ${objdir}/${subdir}/${testfile}.exe
# OBSOLETE if  { [compile "${srcfile} -g -w -o ${binfile} ${CHILL_RT0} ${CHILL_LIB}"] != "" } {
# OBSOLETE     perror "Couldn't compile ${srcfile}"
# OBSOLETE     return -1
# OBSOLETE }
# OBSOLETE 
# OBSOLETE # Set the current language to chill.  This counts as a test.  If it
# OBSOLETE # fails, then we skip the other tests.
# OBSOLETE 
# OBSOLETE proc set_lang_chill {} {
# OBSOLETE     global gdb_prompt
# OBSOLETE     global binfile objdir subdir
# OBSOLETE 
# OBSOLETE     verbose "loading file '$binfile'"
# OBSOLETE     gdb_load $binfile
# OBSOLETE     send_gdb "set language chill\n"
# OBSOLETE     gdb_expect {
# OBSOLETE 	-re ".*$gdb_prompt $" {}
# OBSOLETE 	timeout { fail "set language chill (timeout)" ; return 0 }
# OBSOLETE     }
# OBSOLETE 
# OBSOLETE     send_gdb "show language\n"
# OBSOLETE     gdb_expect {
# OBSOLETE 	-re ".* source language is \"chill\".*$gdb_prompt $" {
# OBSOLETE 	    pass "set language to \"chill\""
# OBSOLETE 	    send_gdb "break dummyfunc\n"
# OBSOLETE 	    gdb_expect {
# OBSOLETE 		-re ".*$gdb_prompt $" {
# OBSOLETE 		    send_gdb "run\n" 
# OBSOLETE 		    gdb_expect -re ".*$gdb_prompt $" {}
# OBSOLETE 		    return 1
# OBSOLETE 		}
# OBSOLETE 		timeout {
# OBSOLETE 		    fail "can't set breakpoint (timeout)"
# OBSOLETE 		    return 0
# OBSOLETE 		}
# OBSOLETE 	    }
# OBSOLETE 	}
# OBSOLETE 	-re ".*$gdb_prompt $" {
# OBSOLETE 	    fail "setting language to \"chill\""
# OBSOLETE 	    return 0
# OBSOLETE 	}
# OBSOLETE 	timeout {
# OBSOLETE 	    fail "can't show language (timeout)"
# OBSOLETE 	    return 0
# OBSOLETE 	}
# OBSOLETE     }
# OBSOLETE }
# OBSOLETE 
# OBSOLETE # Testing printing of a specific value.  Increment passcount for
# OBSOLETE # success or issue fail message for failure.  In both cases, return
# OBSOLETE # a 1 to indicate that more tests can proceed.  However a timeout
# OBSOLETE # is a serious error, generates a special fail message, and causes
# OBSOLETE # a 0 to be returned to indicate that more tests are likely to fail
# OBSOLETE # as well.
# OBSOLETE #
# OBSOLETE # Args are:
# OBSOLETE #
# OBSOLETE #	First one is string to send_gdb to gdb
# OBSOLETE #	Second one is string to match gdb result to
# OBSOLETE #	Third one is an optional message to be printed
# OBSOLETE 
# OBSOLETE proc test_print_accept { args } {
# OBSOLETE     global gdb_prompt
# OBSOLETE     global passcount
# OBSOLETE     global verbose
# OBSOLETE 
# OBSOLETE     if [llength $args]==3 then {
# OBSOLETE 	set message [lindex $args 2]
# OBSOLETE     } else {
# OBSOLETE 	set message [lindex $args 0]
# OBSOLETE     }
# OBSOLETE     set sendthis [lindex $args 0]
# OBSOLETE     set expectthis [lindex $args 1]
# OBSOLETE     set result [gdb_test $sendthis ".* = ${expectthis}" $message]
# OBSOLETE     if $result==0 {incr passcount}
# OBSOLETE     return $result
# OBSOLETE }
# OBSOLETE 
# OBSOLETE # Testing printing of a specific value.  Increment passcount for
# OBSOLETE # success or issue fail message for failure.  In both cases, return
# OBSOLETE # a 1 to indicate that more tests can proceed.  However a timeout
# OBSOLETE # is a serious error, generates a special fail message, and causes
# OBSOLETE # a 0 to be returned to indicate that more tests are likely to fail
# OBSOLETE # as well.
# OBSOLETE 
# OBSOLETE # various tests if modes are treated correctly
# OBSOLETE # using ptype
# OBSOLETE proc test_modes {} {
# OBSOLETE     global passcount
# OBSOLETE 
# OBSOLETE     verbose "testing chill modes"
# OBSOLETE     set passcount 0
# OBSOLETE 
# OBSOLETE     # discrete modes
# OBSOLETE     test_print_accept "ptype BYTE" "byte"
# OBSOLETE     test_print_accept "ptype UBYTE" "ubyte"
# OBSOLETE     test_print_accept "ptype INT" "int"
# OBSOLETE     test_print_accept "ptype UINT" "uint"
# OBSOLETE     test_print_accept "ptype LONG" "long"
# OBSOLETE     test_print_accept "ptype ULONG" "ulong"
# OBSOLETE     test_print_accept "ptype BOOL" "bool"
# OBSOLETE     test_print_accept "ptype CHAR" "char"
# OBSOLETE 
# OBSOLETE     test_print_accept "ptype set1" "SET \[(\]aaa, bbb, ccc\[)\]" \
# OBSOLETE 	"print unnumbered set mode"
# OBSOLETE     test_print_accept "ptype nset1" "SET \[(\]na = 1, nb = 34, nc = 20\[)\]" \
# OBSOLETE 	"print numbered set mode"
# OBSOLETE 
# OBSOLETE     # mp:
# OBSOLETE     # display maybe in hex values ?
# OBSOLETE     #
# OBSOLETE     test_print_accept "ptype r11" "ubyte \\(0:255\\)" \
# OBSOLETE 	"print ubyte range mode"
# OBSOLETE     test_print_accept "ptype r12" "uint \\(0:65535\\)" \
# OBSOLETE 	"print uint range mode"
# OBSOLETE #    test_print_accept "ptype r13" "ulong \\(0:4294967295\\)" \
# OBSOLETE #	"print ulong range mode"
# OBSOLETE     test_print_accept "ptype r14" "byte \\(-128:127\\)" \
# OBSOLETE 	"print byte range mode"
# OBSOLETE     test_print_accept "ptype r15" "int \\(-32768:32767\\)" \
# OBSOLETE 	"print int range mode"
# OBSOLETE     test_print_accept "ptype r16" "long \\(-2147483648:2147483647\\)" \
# OBSOLETE 	"print long range mode"
# OBSOLETE 
# OBSOLETE     test_print_accept "ptype r2" "set1 \\(bbb:ccc\\)" \
# OBSOLETE 	"print unnumbered set range mode"
# OBSOLETE     test_print_accept "ptype r3" "nset1 \\(na:na\\)" \
# OBSOLETE 	"print numbered set range mode"
# OBSOLETE     # really this order ?
# OBSOLETE     # I'm not sure what should happen for the next two tests.
# OBSOLETE     setup_xfail "*-*-*"
# OBSOLETE     test_print_accept "ptype r4" "nset1 \\(nb = 34:nc = 20\\)" \
# OBSOLETE 	"print numbered set range mode"
# OBSOLETE     setup_xfail "*-*-*"
# OBSOLETE     test_print_accept "ptype r5" "nset1 \\(na = 1, nb = 34, nc = 20\\)" \
# OBSOLETE 	"print numbered set range mode"
# OBSOLETE 
# OBSOLETE     # powerset modes
# OBSOLETE     test_print_accept "ptype pm1" \
# OBSOLETE 	"POWERSET SET \[(\]p1, p2, p3, p4, p5, p6, p7, p8, p9, p10\[)\]" \
# OBSOLETE 	"print powerset mode 1"
# OBSOLETE     test_print_accept "ptype pm2" "POWERSET byte \\(1:8\\)" \
# OBSOLETE 	"print powerset mode 2"
# OBSOLETE     test_print_accept "ptype pm3" "POWERSET int \\(-32768:32767\\)" \
# OBSOLETE 	"print powerset mode 3"
# OBSOLETE     test_print_accept "ptype pm4" "POWERSET long \\(-32768:32768\\)" \
# OBSOLETE 	"print powerset mode 4"
# OBSOLETE     test_print_accept "ptype pm5" \
# OBSOLETE 	"POWERSET long \\(-2147483648:2147483647\\)" \
# OBSOLETE 	"print powerset mode 5"
# OBSOLETE     
# OBSOLETE     # reference modes
# OBSOLETE     test_print_accept "ptype ref1" "REF pm1" \
# OBSOLETE 	"print reference to powerset mode"
# OBSOLETE     test_print_accept "ptype ref2" "REF byte" \
# OBSOLETE 	"print reference to byte"
# OBSOLETE     test_print_accept "ptype ref3" "PTR" \
# OBSOLETE 	"print free reference type"
# OBSOLETE 
# OBSOLETE     # procedure modes
# OBSOLETE     # FIXME: we have to talk about this ... 
# OBSOLETE     test_print_accept "ptype prm1" \
# OBSOLETE 	"REF PROC \[(\]\[)\]" \
# OBSOLETE 	"print procedure mode 1"
# OBSOLETE     setup_xfail "*-*-*"
# OBSOLETE     test_print_accept "ptype prm2" \
# OBSOLETE 	"REF PROC \[(\]bool in, int out long inout\[)\] RETURNS \[(\]char\[)\]" \
# OBSOLETE 	"print procedure mode 2"
# OBSOLETE     setup_xfail "*-*-*"
# OBSOLETE     test_print_accept "ptype prm3" \
# OBSOLETE 	"REF PROC \[(\]pm1, ref loc\[)\] RETURNS \[(\]ref3\[)\]" \
# OBSOLETE 	"print procedure mode 3"
# OBSOLETE     setup_xfail "*-*-*"
# OBSOLETE     test_print_accept "ptype prm4" \
# OBSOLETE 	"\[(\] \[)\] EXCEPTIONS \[(\]ex1, ex2, ex3\[)\]" \
# OBSOLETE 	"print procedure mode 4"
# OBSOLETE     setup_xfail "*-*-*"
# OBSOLETE     test_print_accept "ptype prm5" \
# OBSOLETE 	"REF PROC \[(\]r11, r16 inout, r5 out\[)\] RETURNS \[(\]r2\[)\] EXCEPTIONS \[(\]ex1\[)\]" \
# OBSOLETE 	"print procedure mode 5"
# OBSOLETE 
# OBSOLETE     # synchronization modes
# OBSOLETE     # FIXME: since gdb doesn't process events & buffers so far, this has be 
# OBSOLETE     #        filled later...
# OBSOLETE     xfail "synchronization mode handling"
# OBSOLETE 
# OBSOLETE     # timing modes
# OBSOLETE     test_print_accept "ptype DURATION" "duration"
# OBSOLETE     test_print_accept "ptype TIME" "time"
# OBSOLETE 
# OBSOLETE     # string modes
# OBSOLETE     # some tests are done in chillvars.exp
# OBSOLETE     test_print_accept "ptype strm1" "CHARS \\(5\\)" "print char string mode"
# OBSOLETE     test_print_accept "ptype strm2" "CHARS \[(\]7\[)\] VARYING" \
# OBSOLETE 	"print varying char string mode"
# OBSOLETE     test_print_accept "ptype bstr1" "BOOLS \\(20\\)" "print bit string mode"
# OBSOLETE 
# OBSOLETE     test_print_accept "ptype B'000'" "BOOLS \\(3\\)" "bit string literal"
# OBSOLETE     test_print_accept "ptype B'11110000'" "BOOLS \\(8\\)" "bit string literal"
# OBSOLETE     # FIXME: adjust error message
# OBSOLETE     gdb_test "ptype B'00110211'" {.*Too-large digit.*[.]} \
# OBSOLETE 	"reject invalid bitstring"
# OBSOLETE 
# OBSOLETE     # array modes
# OBSOLETE     # some tests are done in chillvars.exp
# OBSOLETE     test_print_accept "ptype arr1m" "ARRAY \\(1:100\\) set1" \
# OBSOLETE 	"print array mode 1"
# OBSOLETE     test_print_accept "ptype arr2m" "ARRAY \\(1:100\\) ARRAY \\(1:100\\) set1"\
# OBSOLETE 	"print array mode 2"
# OBSOLETE     test_print_accept "ptype arr3m" "ARRAY \\(0:255\\) ARRAY \\(0:65535\\) ARRAY \\(-128:127\\) set1" \
# OBSOLETE 	"print array mode 3"
# OBSOLETE     setup_xfail "*-*-*"
# OBSOLETE     test_print_accept "ptype arr4m" "ARRAY \\(b:c\\) ARRAY \\(na = 1:na = 1\\) ARRAY \\(nc:nb\\) ARRAY \\(na = 1:nc = 20\\) POWERSET SET \[(\]p1, p2, p3, p4, p5, p6, p7, p8, p9, p10\[)\]" \
# OBSOLETE 	"print array mode 4"
# OBSOLETE     
# OBSOLETE     # structure modes
# OBSOLETE     # some checks are in chillvars.exp
# OBSOLETE     # setup_xfail "*-*-*"
# OBSOLETE     test_print_accept "ptype stru1m" "STRUCT \\(.*a long,.*b long,.*CASE OF.*:.*ch1 CHARS \\(20\\).*:.*ch2 CHARS \\(10\\).*ELSE.*ch3 CHARS \\(1\\).*ESAC.*\\)" \
# OBSOLETE 	"print structure mode 1"
# OBSOLETE     #setup_xfail "*-*-*"
# OBSOLETE     test_print_accept "ptype stru2m" "STRUCT \\(.*f set1,.*CASE OF.*:.*ch1 CHARS \\(20\\).*:.*ch2 CHARS \\(10\\) VARYING.*ELSE.*ch3 CHARS \\(0\\) VARYING.*ESAC.*\\)" \
# OBSOLETE 	"print structure mode 2"
# OBSOLETE     #setup_xfail "*-*-*"
# OBSOLETE     test_print_accept "ptype stru3m" "STRUCT \\(.*f r3,.*CASE OF.*:.*ch1 CHARS \\(20\\).*ESAC.*\\)" \
# OBSOLETE 	"print structure mode 3"
# OBSOLETE     # setup_xfail "*-*-*"
# OBSOLETE     test_print_accept "ptype stru4m" "STRUCT \\(.*i long,.*CASE OF.*:.*i1 int,.*i11 int,.*b1 bool,.*c1 char.*:.*i2 long,.*i22 long,.*bs2 BOOLS \\(10\\).*:.*s3 STRUCT \\(.*i3 int,.*CASE OF.*:.*foo long.*ELSE.*bar char.*ESAC.*\\).*ELSE.*x stru2m.*ESAC,.*y stru3m.*\\)" \
# OBSOLETE 	"print structure mode 4"
# OBSOLETE    
# OBSOLETE     
# OBSOLETE     if $passcount then {
# OBSOLETE 	pass "$passcount correct modes printed"
# OBSOLETE     }
# OBSOLETE }
# OBSOLETE 
# OBSOLETE # various tests if locations are treated correctly
# OBSOLETE # read access using ptype, print, whatis
# OBSOLETE proc test_locations {} {
# OBSOLETE     global passcount
# OBSOLETE 
# OBSOLETE     set passcount 0
# OBSOLETE     verbose "testing read access to locations"
# OBSOLETE     # various location tests can be found in chillvars.exp
# OBSOLETE 
# OBSOLETE     # set locations
# OBSOLETE     test_print_accept "ptype s1l" "SET \\(aaa, bbb, ccc\\)" \
# OBSOLETE 	"print mode of set location"
# OBSOLETE     test_print_accept "whatis s1l" "set1" \
# OBSOLETE 	"print modename of set location"
# OBSOLETE     test_print_accept "print s1l" "ccc" "print set location"
# OBSOLETE     test_print_accept "ptype s2l" "SET \\(na = 1, nb = 34, nc = 20\\)" \
# OBSOLETE 	"print mode of numbered set location"
# OBSOLETE     test_print_accept "whatis s2l" "nset1" \
# OBSOLETE 	"print mode name of numbered set location"
# OBSOLETE     test_print_accept "print s2l" "nb" "print numberes set location"
# OBSOLETE 
# OBSOLETE     # range modes
# OBSOLETE     test_print_accept "ptype rl1" "ubyte \\(0:255\\)" \
# OBSOLETE 	"print mode of range location"
# OBSOLETE     test_print_accept "whatis rl1" "r11" \
# OBSOLETE 	"print mode name of range location"
# OBSOLETE     test_print_accept "print rl1" "3" \
# OBSOLETE 	"print range location"
# OBSOLETE 
# OBSOLETE     test_print_accept "ptype rl2" "ubyte \\(0:255\\)" \
# OBSOLETE 	"print mode of range location"
# OBSOLETE     test_print_accept "whatis rl2" "r11" \
# OBSOLETE 	"print mode name of range location"
# OBSOLETE     test_print_accept "print rl2" "0" \
# OBSOLETE 	"print range location"
# OBSOLETE 
# OBSOLETE     test_print_accept "ptype rl3" "ubyte \\(0:255\\)" \
# OBSOLETE 	"print mode of range location"
# OBSOLETE     test_print_accept "whatis rl3" "r11" \
# OBSOLETE 	"print mode name of range location"
# OBSOLETE     test_print_accept "print rl3" "255" \
# OBSOLETE 	"print range location"
# OBSOLETE 
# OBSOLETE     test_print_accept "ptype rl5" "uint \\(0:65535\\)" \
# OBSOLETE 	"print mode of range location"
# OBSOLETE     test_print_accept "whatis rl5" "r12" \
# OBSOLETE 	"print mode name of range location"
# OBSOLETE     test_print_accept "print rl5" "65530" \
# OBSOLETE 	"print range location"
# OBSOLETE 
# OBSOLETE     test_print_accept "ptype rl6" "uint \\(0:65535\\)" \
# OBSOLETE 	"print mode of range location"
# OBSOLETE     test_print_accept "whatis rl6" "r12" \
# OBSOLETE 	"print mode name of range location"
# OBSOLETE     test_print_accept "print rl6" "0" \
# OBSOLETE 	"print range location"
# OBSOLETE 	
# OBSOLETE     test_print_accept "ptype rl7" "uint \\(0:65535\\)" \
# OBSOLETE 	"print mode of range location"
# OBSOLETE     test_print_accept "whatis rl7" "r12" \
# OBSOLETE 	"print mode name of range location"
# OBSOLETE     test_print_accept "print rl7" "65535" \
# OBSOLETE 	"print range location"
# OBSOLETE 	
# OBSOLETE #     test_print_accept "ptype rl9" "ulong \\(0:4294967295\\)" \
# OBSOLETE # 	"print mode of range location"
# OBSOLETE #     test_print_accept "whatis rl9" "r13" \
# OBSOLETE # 	"print mode name of range location"
# OBSOLETE #     test_print_accept "print rl9" "128" \
# OBSOLETE # 	"print range location"
# OBSOLETE 	
# OBSOLETE #     test_print_accept "ptype rl10" "ulong \\(0:4294967295\\)" \
# OBSOLETE # 	"print mode of range location"
# OBSOLETE #     test_print_accept "whatis rl10" "r13" \
# OBSOLETE # 	"print mode name of range location"
# OBSOLETE #     test_print_accept "print rl10" "0" \
# OBSOLETE # 	"print range location"
# OBSOLETE 	
# OBSOLETE #     test_print_accept "ptype rl11" "ulong \\(0:4294967295\\)" \
# OBSOLETE # 	"print mode of range location"
# OBSOLETE #     test_print_accept "whatis rl11" "r13" \
# OBSOLETE # 	"print mode name of range location"
# OBSOLETE #     test_print_accept "print rl11" "4294967295" \
# OBSOLETE # 	"print range location"
# OBSOLETE 
# OBSOLETE     test_print_accept "ptype rl13" "byte \\(-128:127\\)" \
# OBSOLETE 	"print mode of range location"
# OBSOLETE     test_print_accept "whatis rl13" "r14" \
# OBSOLETE 	"print mode name of range location"
# OBSOLETE     test_print_accept "print rl13" "-121" \
# OBSOLETE 	"print range location"
# OBSOLETE 
# OBSOLETE     test_print_accept "ptype rl14" "byte \\(-128:127\\)" \
# OBSOLETE 	"print mode of range location"
# OBSOLETE     test_print_accept "whatis rl14" "r14" \
# OBSOLETE 	"print mode name of range location"
# OBSOLETE     test_print_accept "print rl14" "-128" \
# OBSOLETE 	"print range location"
# OBSOLETE 
# OBSOLETE     test_print_accept "ptype rl15" "byte \\(-128:127\\)" \
# OBSOLETE 	"print mode of range location"
# OBSOLETE     test_print_accept "whatis rl15" "r14" \
# OBSOLETE 	"print mode name of range location"
# OBSOLETE     test_print_accept "print rl15" "127" \
# OBSOLETE 	"print range location"
# OBSOLETE 
# OBSOLETE     test_print_accept "ptype rl17" "int \\(-32768:32767\\)" \
# OBSOLETE 	"print mode of range location"
# OBSOLETE     test_print_accept "whatis rl17" "r15" \
# OBSOLETE 	"print mode name of range location"
# OBSOLETE     test_print_accept "print rl17" "-32720" \
# OBSOLETE 	"print range location"
# OBSOLETE 
# OBSOLETE     test_print_accept "ptype rl18" "int \\(-32768:32767\\)" \
# OBSOLETE 	"print mode of range location"
# OBSOLETE     test_print_accept "whatis rl18" "r15" \
# OBSOLETE 	"print mode name of range location"
# OBSOLETE     test_print_accept "print rl18" "-32768" \
# OBSOLETE 	"print range location"
# OBSOLETE 
# OBSOLETE     test_print_accept "ptype rl19" "int \\(-32768:32767\\)" \
# OBSOLETE 	"print mode of range location"
# OBSOLETE     test_print_accept "whatis rl19" "r15" \
# OBSOLETE 	"print mode name of range location"
# OBSOLETE     test_print_accept "print rl19" "32767" \
# OBSOLETE 	"print range location"
# OBSOLETE 
# OBSOLETE     test_print_accept "ptype rl21" "long \\(-2147483648:2147483647\\)" \
# OBSOLETE 	"print mode of range location"
# OBSOLETE     test_print_accept "whatis rl21" "r16" \
# OBSOLETE 	"print mode name of range location"
# OBSOLETE     test_print_accept "print rl21" "2147483643" \
# OBSOLETE 	"print range location"
# OBSOLETE 
# OBSOLETE     test_print_accept "ptype rl22" "long \\(-2147483648:2147483647\\)" \
# OBSOLETE 	"print mode of range location"
# OBSOLETE     test_print_accept "whatis rl22" "r16" \
# OBSOLETE 	"print mode name of range location"
# OBSOLETE     test_print_accept "print rl22" "-2147483648" \
# OBSOLETE 	"print range location"
# OBSOLETE 
# OBSOLETE     test_print_accept "ptype rl23" "long \\(-2147483648:2147483647\\)" \
# OBSOLETE 	"print mode of range location"
# OBSOLETE     test_print_accept "whatis rl23" "r16" \
# OBSOLETE 	"print mode name of range location"
# OBSOLETE     test_print_accept "print rl23" "2147483647" \
# OBSOLETE 	"print range location"
# OBSOLETE     
# OBSOLETE     # powerset locations
# OBSOLETE     test_print_accept "ptype pl1" \
# OBSOLETE 	"POWERSET SET \\(p1, p2, p3, p4, p5, p6, p7, p8, p9, p10\\)" \
# OBSOLETE 	"print mode of powerset location 1"
# OBSOLETE     test_print_accept "whatis pl1" "pm1" \
# OBSOLETE 	"print mode mode name of powerset location"
# OBSOLETE     test_print_accept "print pl1" \
# OBSOLETE 	"\[\[\]p1:p10\[\]\]" \
# OBSOLETE 	"print powerset location 1"
# OBSOLETE     test_print_accept "print pl2" {\[\]} \
# OBSOLETE 	"print powerset location 2"
# OBSOLETE     test_print_accept "print pl3" "\[\[\]p1, p10\[\]\]" \
# OBSOLETE     	"print powerset location 3"
# OBSOLETE     test_print_accept "print pl4" {\[p1:p2, p4:p6, p8:p10\]} \
# OBSOLETE 	"print powerset location 4"
# OBSOLETE     test_print_accept "print pl5" {\[p1:p4, p6, p8:p10\]} \
# OBSOLETE 	"print powerset location 5"
# OBSOLETE     test_print_accept "print pl6" {\[p1, p3:p8, p10\]} \
# OBSOLETE 	"print powerset location 6"
# OBSOLETE     
# OBSOLETE     test_print_accept "ptype pl7" \
# OBSOLETE 	"POWERSET byte \\(1:8\\)" \
# OBSOLETE 	"print mode of byte powerset location"
# OBSOLETE     test_print_accept "whatis pl7" "pm2" \
# OBSOLETE 	"print modename of byte powerset location"
# OBSOLETE     test_print_accept "print pl7" {\[1:8\]} \
# OBSOLETE 	"print powerset location 7"
# OBSOLETE     
# OBSOLETE     test_print_accept "ptype pl8" \
# OBSOLETE 	"POWERSET int \\(-32768:32767\\)" \
# OBSOLETE 	"print mode of int powerset location"
# OBSOLETE     test_print_accept "whatis pl8" "pm3" \
# OBSOLETE 	"print modename of int powerset location"
# OBSOLETE     test_print_accept "print pl8" {\[-32768:32767\]} \
# OBSOLETE 	"print powerset location 8"
# OBSOLETE     
# OBSOLETE #    test_print_accept "ptype pl9" \
# OBSOLETE #	"POWERSET long \\(-2147483648:2147483647\\)" \
# OBSOLETE #	"print mode of long powerset location"
# OBSOLETE #    test_print_accept "whatis pl9" "pm5" \
# OBSOLETE #	"print modename of long powerset location"
# OBSOLETE #    test_print_accept "print pl9" {\[-2147483648:2147483647\]} \
# OBSOLETE #	"print powerset location 9"
# OBSOLETE     
# OBSOLETE     # reference modes
# OBSOLETE     test_print_accept "ptype ref3l" "PTR" "print mode of reference location"
# OBSOLETE     # setup_xfail "*-*-*"
# OBSOLETE     test_print_accept "whatis ref3l" "ref3" \
# OBSOLETE 	"print modename of reference location"
# OBSOLETE     # setup_xfail "*-*-*"
# OBSOLETE     test_print_accept "print ref3l" "ref3\\(H'.*\\)" \
# OBSOLETE 	"print reference location"
# OBSOLETE     test_print_accept "ptype ref4l" "PTR" "print mode of reference location"
# OBSOLETE     # setup_xfail "*-*-*"
# OBSOLETE     test_print_accept "whatis ref4l" "ref4" \
# OBSOLETE 	"print modename of reference location"
# OBSOLETE     # setup_xfail "*-*-*"
# OBSOLETE     test_print_accept "print ref4l" "ref4\\(H'.*\\)" \
# OBSOLETE 	"print reference location"
# OBSOLETE     test_print_accept "ptype ref5l" "PTR" "print mode of reference location"
# OBSOLETE     test_print_accept "whatis ref5l" "PTR" \
# OBSOLETE 	"print modename of reference location"
# OBSOLETE     test_print_accept "print ref5l" "PTR\\(H'.*\\)" \
# OBSOLETE 	"print reference location"
# OBSOLETE 
# OBSOLETE     # dereference a little bit..
# OBSOLETE     test_print_accept "print ref6l->syn_int" "42" \
# OBSOLETE 	"dereference reference to synmode location"
# OBSOLETE     test_print_accept "print ref7l->int" "-42" \
# OBSOLETE 	"dereference reference to predefined mode location"
# OBSOLETE     test_print_accept "print ref8l->pm1" \
# OBSOLETE 	"\[\[\]p1:p10\[\]\]" \
# OBSOLETE 	"dereference reference to newmode location"
# OBSOLETE 
# OBSOLETE     # synchronization mode locations
# OBSOLETE     # FIXME: synchronization modes are not supported so far...
# OBSOLETE     xfail "no synchronization mode location support, not implemented yet"
# OBSOLETE     
# OBSOLETE     # timing mode locations
# OBSOLETE     # FIXME: callbacks to abstime, inttime not implemented
# OBSOLETE     xfail "timing modes not implemented properly yet"
# OBSOLETE 
# OBSOLETE     # char string locations
# OBSOLETE     # some tests are don in chillvars.exp
# OBSOLETE     test_print_accept "ptype strl1" \
# OBSOLETE 	"CHARS \\(7\\) VARYING" \
# OBSOLETE 	"print varying string location"
# OBSOLETE     test_print_accept "whatis strl1" "strm2" \
# OBSOLETE 	"print string locationa mode name"
# OBSOLETE     test_print_accept "print strl1" \
# OBSOLETE 	{\"hansi\^\(0\)\"} \
# OBSOLETE 	"print string location"
# OBSOLETE     # string elements
# OBSOLETE     test_print_accept "print strl1(0)" "\'h\'" \
# OBSOLETE 	"print string element 1"
# OBSOLETE     test_print_accept "print strl1(5)" {'\^[(]0[)]'} \
# OBSOLETE 	"print string element 2"
# OBSOLETE     test_print_accept "print strl1(3)" "\'s\'" \
# OBSOLETE 	"print string element 3"
# OBSOLETE     test_print_accept "ptype strl1(0)" "char" \
# OBSOLETE 	"print mode of string element"
# OBSOLETE     # slices
# OBSOLETE     test_print_accept "print strl1(3:4)" "\"si\"" \
# OBSOLETE 	"print string slice 1"
# OBSOLETE     test_print_accept "print strl1(0:5)" \
# OBSOLETE 	{\"hansi\^\(0\)\"} \
# OBSOLETE 	"print string slice 2"
# OBSOLETE     test_print_accept "print strl1(0:0)" "\"h\"" \
# OBSOLETE 	"print string slice 3"
# OBSOLETE     test_print_accept "print strl1(0 up 6)" \
# OBSOLETE 	{\"hansi\^\(0\)\"} \
# OBSOLETE 	"print string slice 4"
# OBSOLETE     # FIXME: adjust error message, when implented
# OBSOLETE     gdb_test "print strl1(6 up 1)" \
# OBSOLETE 	".*slice.*out of range.*" \
# OBSOLETE 	"print invalid string slice length"
# OBSOLETE     gdb_test "print strl1(-1 up 5)" \
# OBSOLETE 	".*slice.*out of range.*" \
# OBSOLETE 	"print invalid string slice length"
# OBSOLETE     gdb_test "print strl1(-1:5)" \
# OBSOLETE 	".*slice.*out of range.*" \
# OBSOLETE 	"print invalid string slice"
# OBSOLETE     gdb_test "print strl1(-1:7)" \
# OBSOLETE 	".*slice.*out of range.*" \
# OBSOLETE 	"print invalid string slice"
# OBSOLETE     gdb_test "print strl1(0 up -1)" \
# OBSOLETE 	".*slice.*out of range.*" \
# OBSOLETE 	"print invalid string slice length"
# OBSOLETE     gdb_test "print strl1(0 up 0)" {""}
# OBSOLETE     
# OBSOLETE     # bitstring locations
# OBSOLETE     test_print_accept "ptype bstr1" \
# OBSOLETE 	"BOOLS \\(20\\)" \
# OBSOLETE 	"print mode of bitstring location"
# OBSOLETE     test_print_accept "whatis bstrl1" "bstr1" \
# OBSOLETE 	"print mode name of bitstring location"
# OBSOLETE     test_print_accept "print bstrl1" \
# OBSOLETE 	"B'10101010101010101010'" \
# OBSOLETE 	"print bitstring location"
# OBSOLETE     
# OBSOLETE     test_print_accept "ptype bstrl1(0)" "bool|BOOL" \
# OBSOLETE 	"print mode of bitstring element"
# OBSOLETE     test_print_accept "print bstrl1(0)" "TRUE" \
# OBSOLETE 	"print bitstring element 1"
# OBSOLETE     test_print_accept "print bstrl1(19)" "FALSE" \
# OBSOLETE 	"print bitstring element 2"
# OBSOLETE     test_print_accept "print bstrl1(10)" "TRUE" \
# OBSOLETE 	"print bitstring element 3"
# OBSOLETE     
# OBSOLETE     test_print_accept "print bstrl1(0:19)" \
# OBSOLETE 	"B'10101010101010101010'" \
# OBSOLETE 	"print bitstring location slice 1"
# OBSOLETE     test_print_accept "print bstrl1(0:0)" \
# OBSOLETE 	"B'1'" \
# OBSOLETE 	"print bitstring location slice 2"
# OBSOLETE     test_print_accept "print bstrl1(3:9)" \
# OBSOLETE 	"B'0101010'" \
# OBSOLETE 	"print bitstring location slice 3"
# OBSOLETE     test_print_accept "print bstrl1(0 up 20)" \
# OBSOLETE 	"B'10101010101010101010'" \
# OBSOLETE 	"print bitstring location slice 4"
# OBSOLETE     test_print_accept "print bstrl1(19 up 1)" \
# OBSOLETE 	"B'0'" \
# OBSOLETE 	"print bitstring location slice 5"
# OBSOLETE     gdb_test "print bstrl1(20 up 1)" \
# OBSOLETE 	".*slice out of range.*" \
# OBSOLETE 	"print invalid bitstring slice (20 up 1)"
# OBSOLETE     gdb_test "print bstrl1(-4:5)" \
# OBSOLETE 	".*slice out of range.*" \
# OBSOLETE 	"print invalid bitstring slice (-4:5)"
# OBSOLETE     gdb_test "print bstrl1(-1:up 1)" \
# OBSOLETE 	".*invalid expression syntax.*" \
# OBSOLETE 	"print invalid bitstring slice (-1:ip 1)"
# OBSOLETE     gdb_test "print bstrl1(-1:20)" \
# OBSOLETE 	".*slice out of range.*" \
# OBSOLETE 	"print invalid bitstring slice (-1:20)"
# OBSOLETE     gdb_test "print bstrl1(0 up -1)" \
# OBSOLETE 	".*slice out of range.*" \
# OBSOLETE 	"print invalid bitstring slice (0 up -1)"
# OBSOLETE     test_print_accept "print bstrl1(4 up 0)" "B''"
# OBSOLETE     
# OBSOLETE     # array mode locations
# OBSOLETE     gdb_test_exact "ptype arrl1" \
# OBSOLETE 	"ARRAY (1:100) set1" \
# OBSOLETE 	"print mode of array location"
# OBSOLETE     gdb_test "whatis arrl1" "arr1m" \
# OBSOLETE 	"print mode name of array location"
# OBSOLETE     gdb_test_exact "print arrl1" {[(1:100): aaa]} \
# OBSOLETE 	"print array location"
# OBSOLETE     test_print_accept "ptype arrl1(1)" \
# OBSOLETE 	"SET \\(aaa, bbb, ccc\\)" \
# OBSOLETE 	"print mode of array element"
# OBSOLETE     gdb_test_exact "print arrl3" \
# OBSOLETE 	{[(1:5): [(1:3): [(1:2): -2147483648]]]} \
# OBSOLETE 	"print array location 2"
# OBSOLETE     gdb_test_exact "print arrl3(1)" \
# OBSOLETE 	{[(1:3): [(1:2): -2147483648]]} \
# OBSOLETE 	"print array location 3"
# OBSOLETE     gdb_test_exact "ptype arrl3(1)" \
# OBSOLETE 	{ARRAY (1:3) ARRAY (1:2) long} \
# OBSOLETE 	"print mode of array element"
# OBSOLETE     test_print_accept "print arrl3(5)" \
# OBSOLETE 	{\[\(1:3\): \[\(1:2\): -2147483648\]\]} \
# OBSOLETE 	"print array location 4"
# OBSOLETE     test_print_accept "print arrl3(1,1)" \
# OBSOLETE 	{\[\(1:2\): -2147483648\]} \
# OBSOLETE 	"print array location 5"
# OBSOLETE     test_print_accept "ptype arrl3(1,1)" \
# OBSOLETE 	{ARRAY \(1:2\) long} \
# OBSOLETE 	"print mode of array element"
# OBSOLETE     test_print_accept "print arrl3(5,3)" \
# OBSOLETE 	{\[\(1:2\): -2147483648\]} \
# OBSOLETE 	"print array location 6"
# OBSOLETE     test_print_accept "print arrl3(1,1,1)" \
# OBSOLETE 	"-2147483648" \
# OBSOLETE 	"print array location 7"
# OBSOLETE     test_print_accept "print arrl3(5,3,2)" \
# OBSOLETE 	"-2147483648" \
# OBSOLETE 	"print array location 8"
# OBSOLETE     test_print_accept "print arrl3(1)(3)(2)" \
# OBSOLETE 	"-2147483648" \
# OBSOLETE 	"print array location 9"
# OBSOLETE 
# OBSOLETE     # reject the following range fails
# OBSOLETE     # FIXME: adjust error messages
# OBSOLETE     gdb_test "print arrl3(-1)" \
# OBSOLETE 	".*out of range.*" \
# OBSOLETE 	"check invalid array indices 1"
# OBSOLETE     gdb_test "print arrl3(6)" \
# OBSOLETE 	".*out of range.*" \
# OBSOLETE 	"check invalid array indices 2"
# OBSOLETE     gdb_test "print arrl3(0,0)" \
# OBSOLETE 	".*out of range.*" \
# OBSOLETE 	"check invalid array indices 3"
# OBSOLETE     gdb_test "print arrl3(1,0)" \
# OBSOLETE 	".*out of range.*" \
# OBSOLETE 	"check invalid array indices 4"
# OBSOLETE     gdb_test "print arrl3(1,4)" \
# OBSOLETE 	".*out of range.*" \
# OBSOLETE 	"check invalid array indices 5"
# OBSOLETE     gdb_test "print arrl3(6,4)" \
# OBSOLETE 	".*out of range.*" \
# OBSOLETE 	"check invalid array indices 6"
# OBSOLETE     gdb_test "print arrl3(1,1,0)" \
# OBSOLETE 	".*out of range.*" \
# OBSOLETE 	"check invalid array indices 7"
# OBSOLETE     gdb_test "print arrl3(6,4,0)" \
# OBSOLETE 	".*out of range.*" \
# OBSOLETE 	"check invalid array indices 8"
# OBSOLETE     gdb_test "print arrl3(1,1,3)" \
# OBSOLETE 	".*out of range.*" \
# OBSOLETE 	"check invalid array indices 9"
# OBSOLETE 
# OBSOLETE     gdb_test "print arrl3(0)(0)" \
# OBSOLETE 	".* array or string index out of range.*" \
# OBSOLETE 	"check invalid array indices 10"
# OBSOLETE     gdb_test "print arrl3(1)(0)" \
# OBSOLETE 	".* array or string index out of range.*" \
# OBSOLETE 	"check invalid array indices 11"
# OBSOLETE     gdb_test "print arrl3(1)(4)" \
# OBSOLETE 	".* array or string index out of range.*" \
# OBSOLETE 	"check invalid array indices 12"
# OBSOLETE     gdb_test "print arrl3(6)(4)" \
# OBSOLETE 	".* array or string index out of range.*" \
# OBSOLETE 	"check invalid array indices 13"
# OBSOLETE     gdb_test "print arrl3(1)(1)(0)" \
# OBSOLETE 	".* array or string index out of range.*" \
# OBSOLETE 	"check invalid array indices 14"
# OBSOLETE     gdb_test "print arrl3(6)(4)(0)" \
# OBSOLETE 	".* array or string index out of range.*" \
# OBSOLETE 	"check invalid array indices 15"
# OBSOLETE     gdb_test "print arrl3(1)(1)(3)" \
# OBSOLETE 	".* array or string index out of range.*" \
# OBSOLETE 	"check invalid array indices 16"
# OBSOLETE     
# OBSOLETE     # slices
# OBSOLETE     test_print_accept "print arrl4(1:3)" \
# OBSOLETE 	{\[\(1:2\): \[\(1:3\): \[\(1:2\): -2147483648\]\], \(3\): \[\(1:3\): \[\(1:2\): 100\]\]\]} \
# OBSOLETE 	"print array slice 1"
# OBSOLETE     test_print_accept "ptype arrl4(1:3)" \
# OBSOLETE 	{ARRAY \(1:3\) ARRAY \(1:3\) ARRAY \(1:2\) long} \
# OBSOLETE 	"print mode of array slice"
# OBSOLETE # The next one is bogus:
# OBSOLETE #    test_print_accept "print arrl4(5, 2:3, 1)" \
# OBSOLETE #	# FIXME: maybe the '(1): ' in the inner tupel should be omitted ? \
# OBSOLETE #	{\[(2): \[\(1\): 100\], \(3\):\[\(1\): 100\]\]} \
# OBSOLETE #	"print array slice 2"
# OBSOLETE     test_print_accept "print arrl4(1 up 4)" \
# OBSOLETE 	{\[\(1:2\): \[\(1:3\): \[\(1:2\): -2147483648\]\], \(3\): \[\(1:3\): \[\(1:2\): 100\]\], \(4\): \[\(1:3\): \[\(1:2\): -2147483648\]\]\]} \
# OBSOLETE 	"print array slice 3"
# OBSOLETE # The next two are bogus:
# OBSOLETE #    test_print_accept "print arrl4(3, 2 up 1)" \
# OBSOLETE #	{\[\(2:3\): \[\(1:2\): 100\]\]} \
# OBSOLETE #	"print array slice 4"
# OBSOLETE #    test_print_accept "print arrl4(1:2, 1 up 1, 2)" \
# OBSOLETE #	{\[\(1\): \[\(1\): \[\(2\): -2147483648\], \(2\): \[\(2\): -2147483648\]\], \(2\): \[\(1\): \[\(2\): -2147483648\], \(2\): \[\(2\): -2147483648\]\]\]} \
# OBSOLETE #	"print array slice 4"
# OBSOLETE     # reject invalid slices
# OBSOLETE     # FIXME: adjust error messages
# OBSOLETE     gdb_test "print arrl4(5:6)" \
# OBSOLETE 	".*slice out of range.*" \
# OBSOLETE 	"check invalid range 1"
# OBSOLETE     gdb_test "print arrl4(0:1)" \
# OBSOLETE 	".*slice out of range.*" \
# OBSOLETE 	"check invalid range 2"
# OBSOLETE     gdb_test "print arrl4(0:6)" \
# OBSOLETE 	".*slice out of range.*" \
# OBSOLETE 	"check invalid range 3"
# OBSOLETE     gdb_test "print arrl4(3:2)" \
# OBSOLETE 	".*slice out of range.*" \
# OBSOLETE 	"check invalid range 4"
# OBSOLETE     gdb_test "print arrl4(1,3:4)" \
# OBSOLETE 	".*syntax error.*" \
# OBSOLETE 	"check invalid range 5"
# OBSOLETE     gdb_test "print arrl4(1,0:1)" \
# OBSOLETE 	".*syntax error.*" \
# OBSOLETE 	"check invalid range 6"
# OBSOLETE     gdb_test "print arrl4(1,0:4)" \
# OBSOLETE 	".*syntax error.*" \
# OBSOLETE 	"check invalid range 7"
# OBSOLETE     gdb_test "print arrl4(1,3:2)" \
# OBSOLETE 	".*syntax error.*" \
# OBSOLETE 	"check invalid range 8"
# OBSOLETE     gdb_test "print arrl4(5 up 2)" \
# OBSOLETE 	".*slice out of range.*" \
# OBSOLETE 	"check invalid range 9"
# OBSOLETE     gdb_test "print arrl4(-1 up 1)" \
# OBSOLETE 	".*slice out of range.*" \
# OBSOLETE 	"check invalid range 10"
# OBSOLETE     gdb_test "print arrl4(-1 up 7)" \
# OBSOLETE 	".*slice out of range.*" \
# OBSOLETE 	"check invalid range 11"
# OBSOLETE     gdb_test "print arrl4(1 up 0)" \
# OBSOLETE 	".*slice out of range.*" \
# OBSOLETE 	"check invalid range 12"
# OBSOLETE     gdb_test "print arrl4(1,3 up 1)" \
# OBSOLETE 	".*syntax error.*" \
# OBSOLETE 	"check invalid range 13"
# OBSOLETE     gdb_test "print arrl4(1,-1 up 1)" \
# OBSOLETE 	".*syntax error.*" \
# OBSOLETE 	"check invalid range 14"
# OBSOLETE     gdb_test "print arrl4(1,-1 up 5)" \
# OBSOLETE 	".*syntax error.*" \
# OBSOLETE 	"check invalid range 15"
# OBSOLETE     gdb_test "print arrl4(1,2 up 0)" \
# OBSOLETE 	".*syntax error.*" \
# OBSOLETE 	"check invalid range 16"
# OBSOLETE 
# OBSOLETE     # structure modes
# OBSOLETE     # some tests are in chillvars.exp
# OBSOLETE     # FIXME: no tag processing implemented do maybe adjust these tests
# OBSOLETE     setup_xfail "*-*-*"
# OBSOLETE     test_print_accept "ptype stru1m" \
# OBSOLETE 	"STRUCT \\(.*a long,.*b long,.*CASE b OF.*\\(42\\):.*ch1 CHARS\\(20\\),.*\\(52\\):.*ch2 CHARS\\(10\\).*ELSE.*ch3 CHARS\\(1\\).*ESAC.*\\)" \
# OBSOLETE 	"print mode of structure location 1"
# OBSOLETE     test_print_accept "whatis strul1" "stru1m" \
# OBSOLETE 	"print mode name of structure location 1"
# OBSOLETE     setup_xfail "*-*-*"
# OBSOLETE     test_print_accept "print strul1" \
# OBSOLETE 	{\[\.a: -2147483648, \.b: 42, \.\(b\): \{\(42\) = \[\.ch1: \"12345678900987654321\"\], \(52\) = \[\.ch2: \"1234567890\"\], (else) = \[\.ch3: \"1\"\]\}\]} \
# OBSOLETE 	"print structure location 1"
# OBSOLETE     test_print_accept "print strul1.a" \
# OBSOLETE 	"-2147483648" \
# OBSOLETE 	"print field of structure location 1"
# OBSOLETE     test_print_accept "print strul1.b" "42" \
# OBSOLETE 	"print field of structure location 1"
# OBSOLETE     test_print_accept "print strul1.ch1" \
# OBSOLETE 	"\"12345678900987654321\"" \
# OBSOLETE 	"print field of structure location 1"
# OBSOLETE     # setup_xfail "*-*-*"
# OBSOLETE     test_print_accept "print strul1.ch2" \
# OBSOLETE 	"\"1234567890\"" \
# OBSOLETE 	"print field of structure location 1"
# OBSOLETE     # setup_xfail "*-*-*"
# OBSOLETE     test_print_accept "print strul1.ch3" \
# OBSOLETE 	"\"1\"" \
# OBSOLETE 	"print field of structure location 1"
# OBSOLETE     
# OBSOLETE     if $passcount then {
# OBSOLETE 	pass "$passcount correct locations printed"
# OBSOLETE     }
# OBSOLETE }
# OBSOLETE 
# OBSOLETE # This is chill/9434
# OBSOLETE 
# OBSOLETE proc test_9434 {} {
# OBSOLETE     global passcount
# OBSOLETE 
# OBSOLETE     verbose "testing pr-9434"
# OBSOLETE 
# OBSOLETE     test_print_accept "ptype m_xyzmode" "STRUCT \\(.*next REF m_xyzmode,.*i long.*\\)"
# OBSOLETE }
# OBSOLETE 
# OBSOLETE # Start with a fresh gdb.
# OBSOLETE 
# OBSOLETE gdb_exit
# OBSOLETE gdb_start
# OBSOLETE gdb_reinitialize_dir $srcdir/$subdir
# OBSOLETE 
# OBSOLETE gdb_test "set print sevenbit-strings" ".*"
# OBSOLETE 
# OBSOLETE if [set_lang_chill] then {
# OBSOLETE     test_modes
# OBSOLETE     test_locations
# OBSOLETE     test_9434
# OBSOLETE } else {
# OBSOLETE     warning "$test_name tests suppressed."
# OBSOLETE }
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# Copyright (C) 1995, 1997 Free Software Foundation, Inc.
@


1.1.1.1
log
@Initial creation of sourceware repository
@
text
@@

