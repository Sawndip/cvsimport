head	1.124;
access;
symbols
	drow-cplus-merge-20031224:1.123
	drow-cplus-merge-20031220:1.123
	carlton_dictionary-20031215-merge:1.123
	drow-cplus-merge-20031214:1.123
	carlton-dictionary-20031111-merge:1.123
	gdb_6_0-2003-10-04-release:1.116.2.5
	kettenis_sparc-20030918-branch:1.122.0.4
	kettenis_sparc-20030918-branchpoint:1.122
	carlton_dictionary-20030917-merge:1.122
	ezannoni_pie-20030916-branchpoint:1.122
	ezannoni_pie-20030916-branch:1.122.0.2
	cagney_x86i386-20030821-branch:1.121.0.2
	cagney_x86i386-20030821-branchpoint:1.121
	carlton_dictionary-20030805-merge:1.121
	carlton_dictionary-20030627-merge:1.116
	gdb_6_0-branch:1.116.0.2
	gdb_6_0-2003-06-23-branchpoint:1.116
	jimb-ppc64-linux-20030613-branch:1.115.0.2
	jimb-ppc64-linux-20030613-branchpoint:1.115
	cagney_convert-20030606-branch:1.114.0.10
	cagney_convert-20030606-branchpoint:1.114
	cagney_writestrings-20030508-branch:1.114.0.8
	cagney_writestrings-20030508-branchpoint:1.114
	jimb-ppc64-linux-20030528-branch:1.114.0.6
	jimb-ppc64-linux-20030528-branchpoint:1.114
	carlton_dictionary-20030523-merge:1.114
	cagney_fileio-20030521-branch:1.114.0.4
	cagney_fileio-20030521-branchpoint:1.114
	kettenis_i386newframe-20030517-mergepoint:1.114
	jimb-ppc64-linux-20030509-branch:1.114.0.2
	jimb-ppc64-linux-20030509-branchpoint:1.114
	kettenis_i386newframe-20030504-mergepoint:1.113
	carlton_dictionary-20030430-merge:1.112
	kettenis_i386newframe-20030419-branch:1.111.0.10
	kettenis_i386newframe-20030419-branchpoint:1.111
	carlton_dictionary-20030416-merge:1.111
	cagney_frameaddr-20030409-mergepoint:1.111
	kettenis_i386newframe-20030406-branch:1.111.0.8
	kettenis_i386newframe-20030406-branchpoint:1.111
	cagney_frameaddr-20030403-branchpoint:1.111
	cagney_frameaddr-20030403-branch:1.111.0.6
	cagney_framebase-20030330-mergepoint:1.111
	cagney_framebase-20030326-branch:1.111.0.4
	cagney_framebase-20030326-branchpoint:1.111
	cagney_lazyid-20030317-branch:1.111.0.2
	cagney_lazyid-20030317-branchpoint:1.111
	kettenis-i386newframe-20030316-mergepoint:1.111
	offbyone-20030313-branch:1.109.0.2
	offbyone-20030313-branchpoint:1.109
	kettenis-i386newframe-20030308-branch:1.108.0.4
	kettenis-i386newframe-20030308-branchpoint:1.108
	carlton_dictionary-20030305-merge:1.108
	cagney_offbyone-20030303-branch:1.108.0.2
	cagney_offbyone-20030303-branchpoint:1.108
	carlton_dictionary-20030207-merge:1.106
	interps-20030203-mergepoint:1.106
	interps-20030202-branch:1.106.0.4
	interps-20030202-branchpoint:1.106
	cagney-unwind-20030108-branch:1.106.0.2
	cagney-unwind-20030108-branchpoint:1.106
	carlton_dictionary-20021223-merge:1.106
	gdb_5_3-2002-12-12-release:1.89.2.8
	carlton_dictionary-20021115-merge:1.99
	kseitz_interps-20021105-merge:1.98
	kseitz_interps-20021103-merge:1.98
	drow-cplus-merge-20021020:1.95
	drow-cplus-merge-20021025:1.95
	carlton_dictionary-20021025-merge:1.95
	carlton_dictionary-20021011-merge:1.95
	drow-cplus-branch:1.95.0.2
	drow-cplus-branchpoint:1.95
	kseitz_interps-20020930-merge:1.94
	carlton_dictionary-20020927-merge:1.93
	carlton_dictionary-branch:1.93.0.2
	carlton_dictionary-20020920-branchpoint:1.93
	gdb_5_3-branch:1.89.0.2
	gdb_5_3-2002-09-04-branchpoint:1.89
	kseitz_interps-20020829-merge:1.77
	cagney_sysregs-20020825-branch:1.71.0.2
	cagney_sysregs-20020825-branchpoint:1.71
	readline_4_3-import-branch:1.51.0.2
	readline_4_3-import-branchpoint:1.51
	gdb_5_2_1-2002-07-23-release:1.49
	kseitz_interps-20020528-branch:1.50.0.6
	kseitz_interps-20020528-branchpoint:1.50
	cagney_regbuf-20020515-branch:1.50.0.4
	cagney_regbuf-20020515-branchpoint:1.50
	jimb-macro-020506-branch:1.50.0.2
	jimb-macro-020506-branchpoint:1.50
	gdb_5_2-2002-04-29-release:1.49
	gdb_5_2-branch:1.49.0.2
	gdb_5_2-2002-03-03-branchpoint:1.49
	gdb_5_1_1-2002-01-24-release:1.43.2.2
	gdb_5_1_0_1-2002-01-03-release:1.43.2.2
	cygnus_cvs_20020108_pre:1.47
	gdb_5_1_0_1-2002-01-03-branch:1.43.2.2.0.4
	gdb_5_1_0_1-2002-01-03-branchpoint:1.43.2.2
	gdb_5_1-2001-11-21-release:1.43.2.2
	gdb_s390-2001-09-26-branch:1.43.2.2.0.2
	gdb_s390-2001-09-26-branchpoint:1.43.2.2
	gdb_5_1-2001-07-29-branch:1.43.0.2
	gdb_5_1-2001-07-29-branchpoint:1.43
	dberlin-typesystem-branch:1.13.0.2
	dberlin-typesystem-branchpoint:1.13
	gdb-post-ptid_t-2001-05-03:1.13
	gdb-pre-ptid_t-2001-05-03:1.13
	insight-precleanup-2001-01-01:1.10
	gdb-post-protoization-2000-07-29:1.8
	gdb-pre-protoization-2000-07-29:1.8
	gdb-premipsmulti-2000-06-06-branch:1.5.0.2
	gdb-premipsmulti-2000-06-06-branchpoint:1.5
	gdb-post-params-removal-2000-06-04:1.5
	gdb-pre-params-removal-2000-06-04:1.5
	gdb-post-params-removal-2000-05-28:1.5
	gdb-pre-params-removal-2000-05-28:1.5
	gdb_5_0-2000-05-19-release:1.1.1.5.2.1
	gdb_4_18_2-2000-05-18-release:1.1.1.5.2.1
	gdb_4_95_1-2000-05-11-snapshot:1.1.1.5.2.1
	gdb_4_95_0-2000-04-27-snapshot:1.1.1.5.2.1
	gdb_5_0-2000-04-10-branch:1.1.1.5.0.2
	gdb_5_0-2000-04-10-branchpoint:1.1.1.5
	repo-unification-2000-02-06:1.1.1.5
	insight-2000-02-04:1.1.1.5
	gdb-2000-02-04:1.1.1.5
	gdb-2000-02-02:1.1.1.5
	gdb-2000-02-01:1.1.1.5
	gdb-2000-01-31:1.1.1.4
	gdb-2000-01-26:1.1.1.3
	gdb-2000-01-24:1.1.1.3
	gdb-2000-01-17:1.1.1.3
	gdb-2000-01-10:1.1.1.3
	gdb-2000-01-05:1.1.1.3
	gdb-1999-12-21:1.1.1.3
	gdb-1999-12-13:1.1.1.3
	gdb-1999-12-07:1.1.1.3
	gdb-1999-12-06:1.1.1.3
	gdb-1999-11-16:1.1.1.3
	gdb-1999-11-08:1.1.1.3
	gdb-1999-11-01:1.1.1.2
	gdb-1999-10-25:1.1.1.2
	gdb-1999-10-18:1.1.1.2
	gdb-1999-10-11:1.1.1.2
	gdb-1999-10-04:1.1.1.2
	gdb-1999-09-28:1.1.1.2
	gdb-1999-09-21:1.1.1.2
	gdb-1999-09-13:1.1.1.1
	gdb-1999-09-08:1.1.1.1
	gdb-1999-08-30:1.1.1.1
	gdb-1999-08-23:1.1.1.1
	gdb-1999-08-16:1.1.1.1
	gdb-1999-08-09:1.1.1.1
	gdb-1999-08-02:1.1.1.1
	gdb-1999-07-26:1.1.1.1
	gdb-1999-07-19:1.1.1.1
	gdb-1999-07-12:1.1.1.1
	gdb-post-reformat-19990707:1.1.1.1
	gdb-1999-07-07-post-reformat-snapshot:1.1.1.1
	gdb-pre-reformat-19990707:1.1.1.1
	gdb-1999-07-07:1.1.1.1
	gdb-1999-07-05:1.1.1.1
	gdb-1999-06-28:1.1.1.1
	gdb-1999-06-21:1.1.1.1
	gdb-1999-06-14:1.1.1.1
	gdb-1999-06-07:1.1.1.1
	gdb-1999-06-01:1.1.1.1
	gdb-4_18-branch:1.1.1.1.0.2
	gdb-4_18-release:1.1.1.1
	gdb-1999-05-25:1.1.1.1
	gdb-1999-05-19:1.1.1.1
	gdb-1999-05-10:1.1.1.1
	gdb-19990504:1.1.1.1
	gdb-19990422:1.1.1.1
	SNAPSHOT:1.1.1
	gdb-4_18:1.1.1.1
	GDB_4_18:1.1.1;
locks; strict;
comment	@# @;
expand	@o@;


1.124
date	2004.01.12.15.16.44;	author cagney;	state dead;
branches;
next	1.123;

1.123
date	2003.10.02.20.28.31;	author cagney;	state Exp;
branches;
next	1.122;

1.122
date	2003.09.14.02.04.44;	author cagney;	state Exp;
branches
	1.122.2.1;
next	1.121;

1.121
date	2003.08.04.19.28.17;	author drow;	state Exp;
branches;
next	1.120;

1.120
date	2003.07.24.20.23.17;	author ciceron;	state Exp;
branches;
next	1.119;

1.119
date	2003.07.23.21.40.59;	author ciceron;	state Exp;
branches;
next	1.118;

1.118
date	2003.07.23.21.22.14;	author ciceron;	state Exp;
branches;
next	1.117;

1.117
date	2003.06.28.16.19.07;	author drow;	state Exp;
branches;
next	1.116;

1.116
date	2003.06.22.15.21.38;	author drow;	state Exp;
branches
	1.116.2.1;
next	1.115;

1.115
date	2003.06.12.15.44.23;	author schwab;	state Exp;
branches;
next	1.114;

1.114
date	2003.05.08.20.52.49;	author cagney;	state Exp;
branches;
next	1.113;

1.113
date	2003.05.03.19.13.04;	author cagney;	state Exp;
branches;
next	1.112;

1.112
date	2003.04.30.22.01.38;	author cagney;	state Exp;
branches;
next	1.111;

1.111
date	2003.03.14.17.07.01;	author cagney;	state Exp;
branches
	1.111.10.1;
next	1.110;

1.110
date	2003.03.13.20.24.06;	author ciceron;	state Exp;
branches;
next	1.109;

1.109
date	2003.03.08.20.04.27;	author cagney;	state Exp;
branches;
next	1.108;

1.108
date	2003.02.14.13.58.06;	author cagney;	state Exp;
branches
	1.108.4.1;
next	1.107;

1.107
date	2003.02.12.15.14.35;	author cagney;	state Exp;
branches;
next	1.106;

1.106
date	2002.12.08.22.31.37;	author ezannoni;	state Exp;
branches;
next	1.105;

1.105
date	2002.12.07.03.36.46;	author ezannoni;	state Exp;
branches;
next	1.104;

1.104
date	2002.11.29.19.15.16;	author cagney;	state Exp;
branches;
next	1.103;

1.103
date	2002.11.29.01.52.02;	author cagney;	state Exp;
branches;
next	1.102;

1.102
date	2002.11.24.03.20.09;	author cagney;	state Exp;
branches;
next	1.101;

1.101
date	2002.11.21.21.25.22;	author ciceron;	state Exp;
branches;
next	1.100;

1.100
date	2002.11.18.22.19.32;	author cagney;	state Exp;
branches;
next	1.99;

1.99
date	2002.11.10.15.36.26;	author cagney;	state Exp;
branches;
next	1.98;

1.98
date	2002.10.26.10.38.57;	author ciceron;	state Exp;
branches;
next	1.97;

1.97
date	2002.10.25.19.46.04;	author ciceron;	state Exp;
branches;
next	1.96;

1.96
date	2002.10.25.19.24.01;	author ciceron;	state Exp;
branches;
next	1.95;

1.95
date	2002.10.02.21.33.59;	author ezannoni;	state Exp;
branches
	1.95.2.1;
next	1.94;

1.94
date	2002.09.30.00.52.27;	author ezannoni;	state Exp;
branches;
next	1.93;

1.93
date	2002.09.13.20.06.56;	author ciceron;	state Exp;
branches
	1.93.2.1;
next	1.92;

1.92
date	2002.09.13.19.47.21;	author ciceron;	state Exp;
branches;
next	1.91;

1.91
date	2002.09.13.19.37.47;	author ciceron;	state Exp;
branches;
next	1.90;

1.90
date	2002.09.10.19.59.31;	author ciceron;	state Exp;
branches;
next	1.89;

1.89
date	2002.09.03.20.47.48;	author ciceron;	state Exp;
branches
	1.89.2.1;
next	1.88;

1.88
date	2002.09.02.19.34.18;	author ciceron;	state Exp;
branches;
next	1.87;

1.87
date	2002.09.01.17.23.59;	author ciceron;	state Exp;
branches;
next	1.86;

1.86
date	2002.09.01.16.12.52;	author ciceron;	state Exp;
branches;
next	1.85;

1.85
date	2002.09.01.12.49.32;	author ciceron;	state Exp;
branches;
next	1.84;

1.84
date	2002.09.01.10.48.59;	author ciceron;	state Exp;
branches;
next	1.83;

1.83
date	2002.09.01.10.20.48;	author ciceron;	state Exp;
branches;
next	1.82;

1.82
date	2002.08.31.12.25.29;	author ciceron;	state Exp;
branches;
next	1.81;

1.81
date	2002.08.31.12.02.13;	author ciceron;	state Exp;
branches;
next	1.80;

1.80
date	2002.08.30.21.49.49;	author ciceron;	state Exp;
branches;
next	1.79;

1.79
date	2002.08.30.20.23.34;	author ciceron;	state Exp;
branches;
next	1.78;

1.78
date	2002.08.30.20.07.05;	author ciceron;	state Exp;
branches;
next	1.77;

1.77
date	2002.08.28.20.33.27;	author ciceron;	state Exp;
branches;
next	1.76;

1.76
date	2002.08.27.21.59.49;	author ciceron;	state Exp;
branches;
next	1.75;

1.75
date	2002.08.27.20.58.27;	author ciceron;	state Exp;
branches;
next	1.74;

1.74
date	2002.08.26.19.35.37;	author ciceron;	state Exp;
branches;
next	1.73;

1.73
date	2002.08.25.21.44.41;	author ciceron;	state Exp;
branches;
next	1.72;

1.72
date	2002.08.25.19.54.56;	author ciceron;	state Exp;
branches;
next	1.71;

1.71
date	2002.08.25.19.39.45;	author ciceron;	state Exp;
branches;
next	1.70;

1.70
date	2002.08.25.19.19.50;	author ciceron;	state Exp;
branches;
next	1.69;

1.69
date	2002.08.25.18.58.58;	author ciceron;	state Exp;
branches;
next	1.68;

1.68
date	2002.08.25.18.42.32;	author ciceron;	state Exp;
branches;
next	1.67;

1.67
date	2002.08.25.17.13.29;	author ciceron;	state Exp;
branches;
next	1.66;

1.66
date	2002.08.25.13.13.20;	author ciceron;	state Exp;
branches;
next	1.65;

1.65
date	2002.08.25.11.00.46;	author ciceron;	state Exp;
branches;
next	1.64;

1.64
date	2002.08.25.10.04.08;	author ciceron;	state Exp;
branches;
next	1.63;

1.63
date	2002.08.25.09.53.27;	author ciceron;	state Exp;
branches;
next	1.62;

1.62
date	2002.08.25.09.40.31;	author ciceron;	state Exp;
branches;
next	1.61;

1.61
date	2002.08.25.09.12.36;	author ciceron;	state Exp;
branches;
next	1.60;

1.60
date	2002.08.25.08.44.44;	author ciceron;	state Exp;
branches;
next	1.59;

1.59
date	2002.08.25.08.22.58;	author ciceron;	state Exp;
branches;
next	1.58;

1.58
date	2002.08.25.07.56.01;	author ciceron;	state Exp;
branches;
next	1.57;

1.57
date	2002.08.24.17.04.33;	author ciceron;	state Exp;
branches;
next	1.56;

1.56
date	2002.08.24.16.43.07;	author ciceron;	state Exp;
branches;
next	1.55;

1.55
date	2002.08.24.15.25.24;	author ciceron;	state Exp;
branches;
next	1.54;

1.54
date	2002.08.24.12.28.32;	author ciceron;	state Exp;
branches;
next	1.53;

1.53
date	2002.08.24.10.15.54;	author ciceron;	state Exp;
branches;
next	1.52;

1.52
date	2002.08.24.09.43.30;	author ciceron;	state Exp;
branches;
next	1.51;

1.51
date	2002.08.18.23.20.47;	author drow;	state Exp;
branches
	1.51.2.1;
next	1.50;

1.50
date	2002.03.19.02.51.09;	author cagney;	state Exp;
branches
	1.50.6.1;
next	1.49;

1.49
date	2002.03.01.06.19.27;	author cagney;	state Exp;
branches
	1.49.2.1;
next	1.48;

1.48
date	2002.02.02.00.56.37;	author cagney;	state Exp;
branches;
next	1.47;

1.47
date	2001.10.21.17.19.38;	author cagney;	state Exp;
branches;
next	1.46;

1.46
date	2001.09.28.17.39.08;	author tromey;	state Exp;
branches;
next	1.45;

1.45
date	2001.08.02.11.58.29;	author eliz;	state Exp;
branches;
next	1.44;

1.44
date	2001.07.31.19.00.50;	author ciceron;	state Exp;
branches;
next	1.43;

1.43
date	2001.07.28.19.30.54;	author ciceron;	state Exp;
branches
	1.43.2.1;
next	1.42;

1.42
date	2001.07.24.20.40.39;	author ciceron;	state Exp;
branches;
next	1.41;

1.41
date	2001.07.24.20.39.34;	author ciceron;	state Exp;
branches;
next	1.40;

1.40
date	2001.07.21.22.35.40;	author ciceron;	state Exp;
branches;
next	1.39;

1.39
date	2001.07.21.22.24.44;	author ciceron;	state Exp;
branches;
next	1.38;

1.38
date	2001.07.21.20.57.17;	author ciceron;	state Exp;
branches;
next	1.37;

1.37
date	2001.07.21.20.55.34;	author ciceron;	state Exp;
branches;
next	1.36;

1.36
date	2001.07.21.20.52.56;	author ciceron;	state Exp;
branches;
next	1.35;

1.35
date	2001.07.21.20.49.56;	author ciceron;	state Exp;
branches;
next	1.34;

1.34
date	2001.07.21.19.56.54;	author ciceron;	state Exp;
branches;
next	1.33;

1.33
date	2001.07.21.19.46.59;	author ciceron;	state Exp;
branches;
next	1.32;

1.32
date	2001.07.21.19.44.38;	author ciceron;	state Exp;
branches;
next	1.31;

1.31
date	2001.07.20.23.06.48;	author ciceron;	state Exp;
branches;
next	1.30;

1.30
date	2001.07.20.22.26.54;	author ciceron;	state Exp;
branches;
next	1.29;

1.29
date	2001.07.20.22.22.08;	author ciceron;	state Exp;
branches;
next	1.28;

1.28
date	2001.07.20.22.17.49;	author ciceron;	state Exp;
branches;
next	1.27;

1.27
date	2001.07.19.22.47.46;	author ciceron;	state Exp;
branches;
next	1.26;

1.26
date	2001.07.19.21.56.39;	author ciceron;	state Exp;
branches;
next	1.25;

1.25
date	2001.07.18.22.03.22;	author ciceron;	state Exp;
branches;
next	1.24;

1.24
date	2001.07.18.20.59.00;	author ciceron;	state Exp;
branches;
next	1.23;

1.23
date	2001.07.17.22.22.40;	author ciceron;	state Exp;
branches;
next	1.22;

1.22
date	2001.07.17.21.37.18;	author ciceron;	state Exp;
branches;
next	1.21;

1.21
date	2001.07.17.20.22.51;	author ezannoni;	state Exp;
branches;
next	1.20;

1.20
date	2001.07.17.06.44.57;	author ciceron;	state Exp;
branches;
next	1.19;

1.19
date	2001.07.17.06.42.58;	author ciceron;	state Exp;
branches;
next	1.18;

1.18
date	2001.07.16.22.13.38;	author ciceron;	state Exp;
branches;
next	1.17;

1.17
date	2001.07.16.22.10.07;	author ciceron;	state Exp;
branches;
next	1.16;

1.16
date	2001.07.16.22.05.02;	author ciceron;	state Exp;
branches;
next	1.15;

1.15
date	2001.07.14.19.31.09;	author ciceron;	state Exp;
branches;
next	1.14;

1.14
date	2001.07.14.19.01.25;	author ciceron;	state Exp;
branches;
next	1.13;

1.13
date	2001.03.13.23.31.14;	author cagney;	state Exp;
branches;
next	1.12;

1.12
date	2001.03.06.08.22.01;	author kevinb;	state Exp;
branches;
next	1.11;

1.11
date	2001.02.08.06.03.54;	author cagney;	state Exp;
branches;
next	1.10;

1.10
date	2000.12.15.03.00.38;	author kevinb;	state Exp;
branches;
next	1.9;

1.9
date	2000.12.15.02.56.42;	author kevinb;	state Exp;
branches;
next	1.8;

1.8
date	2000.06.22.07.16.19;	author kevinb;	state Exp;
branches;
next	1.7;

1.7
date	2000.06.20.07.13.39;	author kevinb;	state Exp;
branches;
next	1.6;

1.6
date	2000.06.18.00.23.24;	author kevinb;	state Exp;
branches;
next	1.5;

1.5
date	2000.05.26.06.15.49;	author cagney;	state Exp;
branches;
next	1.4;

1.4
date	2000.05.26.04.11.34;	author cagney;	state Exp;
branches;
next	1.3;

1.3
date	2000.05.25.01.50.50;	author cagney;	state Exp;
branches;
next	1.2;

1.2
date	2000.04.18.08.04.59;	author cagney;	state Exp;
branches;
next	1.1;

1.1
date	99.04.16.01.34.12;	author shebs;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.04.16.01.34.12;	author shebs;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	99.09.22.03.25.20;	author jsm;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	99.11.09.01.23.10;	author jsm;	state Exp;
branches;
next	1.1.1.4;

1.1.1.4
date	2000.02.01.03.19.29;	author jsm;	state Exp;
branches;
next	1.1.1.5;

1.1.1.5
date	2000.02.02.00.21.19;	author jsm;	state Exp;
branches
	1.1.1.5.2.1;
next	;

1.1.1.5.2.1
date	2000.04.18.08.04.57;	author cagney;	state Exp;
branches;
next	;

1.43.2.1
date	2001.07.31.19.21.31;	author ciceron;	state Exp;
branches;
next	1.43.2.2;

1.43.2.2
date	2001.08.02.12.05.59;	author eliz;	state Exp;
branches;
next	;

1.49.2.1
date	2002.08.18.23.42.03;	author drow;	state Exp;
branches;
next	;

1.50.6.1
date	2002.08.30.22.52.52;	author kseitz;	state Exp;
branches;
next	1.50.6.2;

1.50.6.2
date	2002.10.01.00.46.34;	author kseitz;	state Exp;
branches;
next	1.50.6.3;

1.50.6.3
date	2002.11.03.22.07.42;	author ezannoni;	state Exp;
branches;
next	;

1.51.2.1
date	2002.08.27.16.23.29;	author ezannoni;	state Exp;
branches;
next	;

1.89.2.1
date	2002.09.10.20.00.55;	author ciceron;	state Exp;
branches;
next	1.89.2.2;

1.89.2.2
date	2002.09.13.19.38.27;	author ciceron;	state Exp;
branches;
next	1.89.2.3;

1.89.2.3
date	2002.09.13.19.48.13;	author ciceron;	state Exp;
branches;
next	1.89.2.4;

1.89.2.4
date	2002.09.13.20.08.29;	author ciceron;	state Exp;
branches;
next	1.89.2.5;

1.89.2.5
date	2002.10.25.19.24.29;	author ciceron;	state Exp;
branches;
next	1.89.2.6;

1.89.2.6
date	2002.10.25.19.46.41;	author ciceron;	state Exp;
branches;
next	1.89.2.7;

1.89.2.7
date	2002.10.26.10.40.03;	author ciceron;	state Exp;
branches;
next	1.89.2.8;

1.89.2.8
date	2002.11.21.21.25.41;	author ciceron;	state Exp;
branches;
next	;

1.93.2.1
date	2002.10.11.22.23.03;	author carlton;	state Exp;
branches;
next	1.93.2.2;

1.93.2.2
date	2002.11.15.19.19.20;	author carlton;	state Exp;
branches;
next	1.93.2.3;

1.93.2.3
date	2002.12.23.19.39.20;	author carlton;	state Exp;
branches;
next	1.93.2.4;

1.93.2.4
date	2003.03.06.00.56.37;	author carlton;	state Exp;
branches;
next	1.93.2.5;

1.93.2.5
date	2003.04.16.19.57.03;	author carlton;	state Exp;
branches;
next	1.93.2.6;

1.93.2.6
date	2003.05.01.00.46.56;	author carlton;	state Exp;
branches;
next	1.93.2.7;

1.93.2.7
date	2003.05.23.18.40.53;	author carlton;	state Exp;
branches;
next	1.93.2.8;

1.93.2.8
date	2003.06.27.21.50.21;	author carlton;	state Exp;
branches;
next	1.93.2.9;

1.93.2.9
date	2003.08.05.17.13.26;	author carlton;	state Exp;
branches;
next	1.93.2.10;

1.93.2.10
date	2003.09.17.21.28.52;	author carlton;	state Exp;
branches;
next	1.93.2.11;

1.93.2.11
date	2003.11.11.23.51.12;	author carlton;	state Exp;
branches;
next	1.93.2.12;

1.93.2.12
date	2004.01.26.19.11.45;	author carlton;	state dead;
branches;
next	;

1.95.2.1
date	2003.12.14.20.27.59;	author drow;	state Exp;
branches;
next	1.95.2.2;

1.95.2.2
date	2004.01.13.16.12.14;	author drow;	state dead;
branches;
next	;

1.108.4.1
date	2003.03.16.14.01.55;	author kettenis;	state Exp;
branches;
next	;

1.111.10.1
date	2003.05.04.11.37.48;	author kettenis;	state Exp;
branches;
next	1.111.10.2;

1.111.10.2
date	2003.05.18.09.44.36;	author kettenis;	state Exp;
branches;
next	;

1.116.2.1
date	2003.07.02.20.52.33;	author drow;	state Exp;
branches;
next	1.116.2.2;

1.116.2.2
date	2003.07.23.21.23.54;	author ciceron;	state Exp;
branches;
next	1.116.2.3;

1.116.2.3
date	2003.07.23.21.41.22;	author ciceron;	state Exp;
branches;
next	1.116.2.4;

1.116.2.4
date	2003.07.24.20.27.00;	author ciceron;	state Exp;
branches;
next	1.116.2.5;

1.116.2.5
date	2003.08.05.14.59.59;	author drow;	state Exp;
branches;
next	;

1.122.2.1
date	2004.03.23.20.09.15;	author ezannoni;	state dead;
branches;
next	;


desc
@@


1.124
log
@Eliminate the old mi/tui specific ChangeLog files as in ...

Added Files:
	mi/ChangeLog-1999-2003 testsuite/gdb.mi/ChangeLog-1999-2003
	tui/ChangeLog-1998-2003
Removed Files:
	mi/ChangeLog testsuite/gdb.mi/ChangeLog tui/ChangeLog
@
text
@2003-09-27  Andrew Cagney  <cagney@@redhat.com>

	* tuiRegs.c: Rename REGISTER_RAW_SIZE to
	DEPRECATED_REGISTER_RAW_SIZE.

2003-09-13  Andrew Cagney  <cagney@@redhat.com>

	* tui.h (struct ui_file): Add opaque declaration.

2003-08-04  Daniel Jacobowitz  <drow@@mvista.com>

	* tui-interp.c: Include "cli-out.h".
	(tui_resume): Update tui_old_uiout's stream to gdb_stdout.

2003-07-24  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui.c (tui_rl_other_window): New function to switch the TUI active
	window and give focus to a next window.
	(tui_initialize_readline): Bind it to c-x o.
	(tui_rl_next_keymap): Activate TUI mode when entering SingleKey mode.

2003-07-23  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui.c (tui_enable): Call tuiRefreshAll to make sure the window
	is accurate.

2003-07-23  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui-interp.c (tui_resume): Enable tui when we expected it.
	(tui_suspend): Remember in which TUI mode we are.
	(_initialize_tui_interp): Use the tui interpreter even when no
	other interpreter was set and define in which TUI mode to start.

2003-06-28  Daniel Jacobowitz  <drow@@mvista.com>

	* tui-out.c (tui_ui_out_impl): Add NULL for redirect member.

2003-06-22  Daniel Jacobowitz  <drow@@mvista.com>

	* tui-hooks.c: Update include order.
	* tui.c: Likewise.
	* tuiCommand.c: Likewise.
	* tuiData.c: Likewise.
	* tuiDataWin.c: Likewise.
	* tuiDisassem.c: Likewise.
	* tuiGeneralWin.c: Likewise.
	* tuiIO.c: Likewise.
	* tuiLayout.c: Likewise.
	* tuiRegs.c: Likewise.
	* tuiSource.c: Likewise.
	* tuiSourceWin.c: Likewise.
	* tuiStack.c: Likewise.
	* tuiWin.c: Likewise.

2003-06-12  Andreas Schwab  <schwab@@suse.de>

	* tuiSource.c (tuiVerticalSourceScroll): Use get_frame_pc.
	* tuiSourceWin.c (tuiHorizontalSourceScroll): Likewise.
	* tuiStack.c (tui_get_function_from_frame): Likewise.
	(tuiShowFrameInfo): Likewise.
	* tuiWin.c (_makeVisibleWithNewHeight): Likewise.
	* tui-hooks.c (tui_selected_frame_level_changed_hook): Likewise.
	* tuiDisassem.c (tuiVerticalDisassemScroll): Likewise.
	Include "disasm.h".

2003-05-08  Andrew Cagney  <cagney@@redhat.com>

	* tuiRegs.c: Use MAX_REGISTER_SIZE instead of
	MAX_REGISTER_RAW_SIZE.

2003-05-03  Andrew Cagney  <cagney@@redhat.com>

	* tuiDisassem.c (tui_disassemble): Call gdb_print_insn, instead of
	TARGET_PRINT_INSN.  Do not initialize a disassemble_info object.

2003-04-30  Andrew Cagney  <cagney@@redhat.com>

	* tuiDisassem.c (tui_disassemble): Use
	"deprecated_tm_print_insn_info" instead of TARGET_PRINT_INSN_INFO,
	add comment.

2003-03-14  Andrew Cagney  <cagney@@redhat.com>

	* tuiRegs.c (_tuiGetRegisterRawValue): Use frame_read_register,
	instead of get_saved_register.

2003-03-13  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui-out.c (tui_out_data): Fix typedef.

2003-03-08  Andrew Cagney  <cagney@@redhat.com>

	* tui-out.c: Update copyright.
	(tui_out_data): Define typedef.  Use instead of ui_out_data.

2003-02-14  Andrew Cagney  <ac131313@@redhat.com>

	* tui.c (tui_enable, tui_disable): Don't modify tui_version.
	(tui_is_window_visible, tui_get_command_dimension): Test
	tui_active instead of tui_version.
	* tuiData.h (tui_version): Delete declaration.
	* tui-hooks.c (tui_init_hook, tui_event_loop): Delete function,
	moved to "tui-interp.c".
	(tui_exit, tui_command_loop): Ditto.
	(_initialize_tui): Don't initialize init_ui_hook.  Initialize
	target_new_objfile_hook.
	* tui-interp.c: New file.

2003-02-12  Andrew Cagney  <ac131313@@redhat.com>

	* tuiIO.c (tui_prep_terminal): Add one notused parameter.
	* tui.c (tui_rl_switch_mode): Add two notused parameters.
	(tui_rl_change_windows, tui_rl_next_keymap): Ditto.
	(tui_rl_delete_other_windows): Ditto.
	(tui_rl_change_windows, tui_rl_delete_other_windows): Update
	calls.

2002-12-08  Elena Zannoni  <ezannoni@@redhat.com>

       Import of readline 4.3.
       Fix PR gdb/675
       * tuiWin.c: Include readline/readline.h.
       (tui_update_gdb_sizes): Use accessor function rl_get_screen_size.
       (tuiResizeAll): Ditto.

2002-12-06  Elena Zannoni  <ezannoni@@redhat.com>

	* tuiStack.c (tuiShowFrameInfo): Fix typo.

2002-11-29  Andrew Cagney  <ac131313@@redhat.com>

	* tui/tui-hooks.c: Update to use deprecated_selected_frame.
	* tui/tui.c, tui/tuiDisassem.c, tui/tuiRegs.c: Ditto.
	* tui/tuiSource.c, tui/tuiSourceWin.c, tui/tuiWin.c: Ditto.

2002-11-28  Andrew Cagney  <ac131313@@redhat.com>

	* tuiStack.c (tuiShowFrameInfo): Use find_frame_sal instead of
	find_pc_line.

2002-11-23  Andrew Cagney  <ac131313@@redhat.com>

	* tuiStack.c (tuiShowFrameInfo): Use get_frame_type instead of
	deprecated_frame_in_dummy.  Fix coding style.

2002-11-21  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui-hooks.c (tui_init_hook): Don't enable the TUI if a specific
	interpreter is installed.

2002-11-18  Andrew Cagney  <ac131313@@redhat.com>

	* tuiStack.c (tuiShowFrameInfo): Use get_frame_type instead of
	signal_handler_caller.
	
2002-11-10  Andrew Cagney  <ac131313@@redhat.com>

	* tuiStack.c (tuiShowFrameInfo): Replace frame_in_dummy with
	deprecated_frame_in_dummy.

2002-10-26  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiIO.c (tui_prep_terminal): Save the prompt registered in readline.
	(tui_redisplay_readline): Use the last saved prompt.
	(tui_rl_saved_prompt): New.

2002-10-25  Stephane Carrez  <stcarrez@@nerim.fr>

	Fix PR gdb/787
	* tuiWin.c (ACS_LRCORNER, ACS_LLCORNER, ACS_ULCORNER, ACS_URCORNER,
	ACS_HLINE, ACS_VLINE): Define if they don't exist.

2002-10-25  Stephane Carrez  <stcarrez@@nerim.fr>

	Fix PR gdb/478
	* tuiIO.c (tui_initialize_io): Use setvbuf since this is portable.

2002-10-02  Elena Zannoni  <ezannoni@@redhat.com>

	* tui-hooks.c (selected_frame_level_changed_hook): Use the one
	exported from frame.h.

2002-09-29  Elena Zannoni  <ezannoni@@redhat.com>

	* tui.c (tui_show_source): Don't access current_source_symtab, use
	accessor function instead.  Include source.h and symtab.h
	* tuiDisassem.c (tuiShowDisassemAndUpdateSource,
	tuiVerticalDisassemScroll): Use accessor functions for current
	source line and symtab.  Include source.h.
	* tuiLayout.c (_extractDisplayStartAddr): Use accessor functions
	for current source line and symtab.  Include source.h.
	* tuiWin.c (_makeVisibleWithNewHeight): Ditto.
	* tuiSourceWin.c (tuiUpdateSourceWindowAsIs,
	tuiHorizontalSourceScroll): Ditto.
	* tuiSource.c (tuiVerticalSourceScroll): Ditto.

2002-09-13  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui.c (tui_rl_switch_mode): Remove unecessary TUI switch printfs.
	(tui_initialize_readline): Allow to use space to leave SingleKey
	to enter one gdb command.
	(tui_enable): Restore the TUI keymap when we are back to TUI.
	(tui_disable): Restore normal keymap when leaving TUI.
	* tuiIO.c (tui_redisplay_readline): Restore the SingleKey mode
	when the buffer becomes empty and we are in tui_one_command_mode.

2002-09-13  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiIO.c (tui_setup_io): rl_already_prompted must be cleared
	when leaving TUI mode so that gdb prompt is displayed.

2002-09-13  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiStack.c (tui_make_status_line): Make sure the local buffer
	is large enough to hold the complete line.

2002-09-10  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui-hooks.c (tui_event_loop): New function.
	(tui_command_loop): New function to override gdb loop and make sure
	uiout is set according to TUI mode.
	(tui_command_loop): Install the specific TUI command hook.
	* tuiIO.c (tui_initialize_io): Initialize tui_old_uiout.
	(tui_uiout, tui_old_uiout): Make public.
	* tuiIO.h (tui_uiout, tui_old_uiout): Declare.

2002-09-04  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiIO.c (tui_putc): New function to print one character.
	(printable_part): New function from readline/complete.c.
	(PUTX): New macro, likewise.
	(print_filename): New function, likewise.
	(get_y_or_n): New function, likewise and adapted for TUI.
	(tui_rl_display_match_list): New function from readline/complete.c
	and writes on TUI command window.
	(tui_setup_io): Install or remove the readline hook
	rl_completion_display_matches_hook so that completion is written
	directly in TUI command window instead of in the TUI pipe.
	(tui_initialize_io): Use #ifdef TUI_USE_PIPE_FOR_READLINE for the
	TUI redirection pipe.
	(tui_getc): Likewise for call to tui_readline_output.
	(tui_readline_output): Likewise for function.
	* tui.c (tui_rl_startup_hook): Always take care of gdb prompt.

2002-09-02  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiWin.c (_newHeightOk): Fix compilation warnings.

2002-09-01  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiWin.c (_tuiAllWindowsInfo): Don't crash if the window
	is not displayed.

2002-09-01  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui-out.c (tui_out_new): Clear start_of_line.
	* tuiSource.c (tuiVerticalSourceScroll): Use print_source_lines
	to update the current source line.

2002-09-01  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui-hooks.c (tui_detach_hook): New hook to know when a process dies.
	(tui_install_hooks): Install it.
	(tui_remove_hooks): Remove it.

2002-09-01  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiData.h (FILE_PREFIX): Don't define.
	(blankStr, locationStr, breakStr): Don't declare.
	(breakLocationStr, nullStr, historyLimit, setHistoryLimitTo): Likewise.
	(displayableWinContentOf, displayableWinContentAt): Likewise.
	(winElementHeight, winByName, freeAllWindows): Likewise.

	* tuiData.c (blankStr, locationStr, breakStr): Remove.
	(breakLocationStr, nullStr, historyLimit, setHistoryLimitTo): Remove.
	(displayableWinContentOf, displayableWinContentAt): Remove.
	(winElementHeight, winByName, freeAllWindows): Remove.

2002-09-01  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiStack.c (tui_make_status_line): New function to create the
	status line.
	(tuiShowLocatorContent): Use it instead of displayableWinContentAt.
	* tuiData.h (PROC_PREFIX): Use "In:" to reduce length of prefix.
	(PC_PREFIX): Use upper case.
	(SINGLE_KEY, MIN_LINE_WIDTH, MIN_PROC_WIDTH): Define.
	(MAX_TARGET_WIDTH, MAX_PID_WIDTH): Define.

2002-08-31  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiSourceWin.h (tuiUpdateAllExecInfos): Don't declare.
	(tuiClearAllExecInfosContent): Likewise.
	(tuiEraseAllExecInfosContent): Ditto.
	(tuiUpdateSourceWindowsFromLocator): Ditto.
	* tuiSourceWin.c (tuiUpdateAllExecInfos): Remove.
	* tui.h (tui_vCheckDataValues): Don't declare.
	(tui_vStartNewLines, tui_vAllSetHasBreakAt): Likewise.
	(tui_vUpdateLocatorFilename, tui_vUpdateSourceWindowsWithAddr): Ditto.
	(tui_vShowFrameInfo): Ditto.

2002-08-31  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui.c (tui_commands): Table of single key commands.
	(tui_rl_command_key): New function to execute gdb command.
	(tui_rl_command_mode): New function to temporarily leave SingleKey.
	(tui_rl_next_keymap): New function to enter/leave the SingleKey mode.
	(tui_rl_startup_hook): New function to avoid prompt display by
	readline functions.
	(tui_set_key_mode): New function to set the key mode and install
	the readline keymap.
	(tui_initialize_readline): Create TUI SingleKey readline map.
	(tui_enable): Install rl_startup_hook.
	(tui_disable): Remove it.
	* tui.h (enum tui_key_mode): Declare.
	(tui_set_key_mode, tui_current_key_mode): Declare.
	* tuiIO.c (tui_redisplay_readline): Don't display the prompt in
	SingleKey mode.
	* tuiIO.h (tui_redisplay_readline): Declare.

2002-08-31  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiSourceWin.c (tuiSetIsExecPointAt): Redraw the previous and
	current line.

2002-08-31  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiSource.c (tuiSetSourceContent): Remove old breakpoint code.
	(_hasBreak): Remove.
	(tuiShowSource): Fix comment indentation.
	(tuiSourceIsDisplayed): Likewise.
	(tuiVerticalSourceScroll): Likewise.

2002-08-30  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiSourceWin.h (tui_update_all_breakpoint_info): Declare.
	(tui_update_breakpoint_info): Declare.
	(tuiSetHasBreakAt, tuiAllSetHasBreakAt): Remove.

	* tuiSourceWin.c (tuiUpdateSourceWindowAsIs): Update breakpoint
	information using tui_update_breakpoint_info.
	(tui_update_all_breakpoint_info): New function to refresh all
	execution windows.
	(tui_update_breakpoint_info): New function to recompute the status
	of exec info window from breakpoints.
	(tuiSetHasBreakAt, tuiAllSetHasBreakAt): Remove.
	(tuiSetExecInfoContent): Use the exec info flags computed by
	tui_update_breakpoint_info to display a short status about breakpoints.

	* tuiData.h (TuiExecInfoContent): New for exec info string.
	(TuiWhichElement): Use it.
	(TUI_BP_ENABLED, TUI_BP_DISABLED, TUI_BP_HIT): New defines.
	(TUI_BP_CONDITIONAL, TUI_BP_HARDWARE): New defines.
	(TUI_BP_HIT_POS, TUI_BP_BREAK_POS, TUI_EXEC_POS): Likewise.
	(TUI_EXECINFO_SIZE): Likewise.
	* tuiData.c (initContentElement): Clear exec info string.

	* tui-hooks.c (get_breakpoint): Remove.
	(tui_event_create_breakpoint): Call tui_update_all_breakpoint_info.
	(tui_event_delete_breakpoint): Likewise.
	(tui_event_modify_breakpoint): Likewise.

2002-08-29  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui.c (tuiGetLowDisassemblyAddress): Moved from here.
	* tuiDisassem.c (tuiGetLowDisassemblyAddress): To here, and use
	tui_find_disassembly_address to find the starting address of
	disassemble window.

2002-08-28  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiDisassem.c (tui_disassemble): New function to disassemble
	several lines in a buffer.
	(tui_find_disassembly_address): New function to search backward
	or forward a disassembly line.
	(tuiSetDisassemContent): Use tui_disassemble to obtain the real
	content and format it in the window.
	(tuiShowDisassemAndUpdateSource): Remove unused locals.
	(tuiVerticalDisassemScroll): Use tui_find_disassembly_address to
	obtain the address to disassemble for the scrolling.
	* tuiDisassem.h (tuiGetBeginAsmAddress): Update.
	* tuiSourceWin.c (tuiUpdateSourceWindowAsIs): Don't pass symtab.

2002-08-28  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiIO.c (CTRL_CHAR): Redefine and use readline 4.3 definition.

2002-08-26  Stephane Carrez  <stcarrez@@nerim.fr>

	Fix PR gdb/393:
	* tui.c (tui_disable): Update gdb's knowledge of its terminal
	using target_terminal_save_ours.
	(tui_enable): Likewise.

2002-08-25  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui.c (tui_rl_switch_mode): Renames tui_switch_mode.
	(tui_rl_change_windows): Renames tui_change_windows.
	(tui_rl_delete_other_windows): Renames tui_delete_other_windows.
	(tui_initialize_readline): Update.

2002-08-25  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiDisassem.c (tuiSetDisassemContent): Use breakpoint_here_p.
	(_hasBreak): Remove.

2002-08-25  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiDisassem.c (tuiGetBeginAsmAddress): Use lookup_minimal_symbol
	to find symbol address.

2002-08-25  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiSourceWin.c (tui_display_main): Rename from tuiDisplayMainFunction
	and use tuiGetBeginAsmAddress.
	* tuiSourceWin.h (tui_display_main): Declare.
	* tui.h (tuiDisplayMainFunction): Remove.
	* tui-hooks.c (tui_new_objfile_hook): Update.

2002-08-25  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiSource.h (m_tuiShowSourceAsIs): Remove macro.
	(tuiShowSourceAsIs): Don't declare.

2002-08-25  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui-hooks.c (tui_selected_frame_level_changed_hook): Always update
	the frame position.

2002-08-25  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiStack.c (tuiSetLocatorContent): Remove.
	(tuiUpdateLocatorInfoFromFrame): Remove.
	(tui_set_locator_info): Allocate the content buffer if necessary.
	(tui_set_locator_filename): Call tui_set_locator_info directly.
	(tuiShowFrameInfo): Likewise and use find_pc_line instead of
	find_pc_symtab.

2002-08-25  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiSourceWin.c (tuiDisplayMainFunction): Update to use
	tuiUpdateLocatorFilename.
	* tuiStack.c (tuiSetLocatorInfo): Make it static.
	(tuiSetLocatorContent): Likewise.
	(tuiUpdateLocatorInfoFromFrame): Likewise.
	(tuiSwitchFilename): Remove.
	(tui_set_locator_filename): New function
	(tui_set_locator_info): Rename from tuiSetLocatorInfo to GNU-ify;
	use tui_set_locator_filename to record the filename.
	(tuiUpdateLocatorFilename): Likewise.
	(tuiUpdateLocatorInfoFromFrame): Update.
	(tuiSetLocatorContent): Likewise.
	* tuiStack.h (tuiClearLocatorContent): Don't declare.
	(tuiSetLocatorInfo, tuiSetLocatorContent): Likewise.
	(tuiUpdateLocatorInfoFromFrame, tuiSwitchFilename): Likewise.

2002-08-25  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiSourceWin.c (tuiSetHasBreakAt): Use filename for breakpoint
	comparison; cleanup.
	* tuiSource.c (tuiSetSourceContent): Set window title and filename.
	* tuiGeneralWin.c (boxWin): Print optional title on top of window.
	* tuiData.h (TuiSourceInfo): Add filename member.
	(TuiGenWinInfo): Add title member.
	* tuiData.c (initGenericPart): Clear title.
	(freeWindow): Free title and filename; remove unused locals.
	(initWinInfo): Clear filename.
	(tuiDelWindow): Free it; remove unused locals.

2002-08-25  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiStack.h (tuiGetLocatorFilename): Don't declare.
	(tuiUpdateLocatorDisplay): Likewise.
	* tuiStack.c (tuiGetLocatorFilename): Remove.
	(tuiShowFrameInfo): Use tuiSetLocatorContent and tuiShowLocatorContent
	instead of tuiUpdateLocatorDisplay.
	(tuiUpdateLocatorDisplay): Remove.

2002-08-25  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiStack.h (tuiClearLocatorDisplay): Don't declare.
	* tuiStack.c (tuiClearLocatorDisplay): Remove.
	(tuiShowLocatorContent): Use wclrtoeol to clear end of status line.
	(tuiUpdateLocatorDisplay): Don't call tuiClearLocatorDisplay.

2002-08-25  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiStack.c (tui_get_function_from_frame): Rename from 
	_getFuncNameFromFrame; use print_address_symbolic to get symbolic
	name of address.
	(tuiUpdateLocatorInfoFromFrame): Update.

2002-08-25  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiRegs.c (tuiDisplayRegistersFrom): Remove unused locals.
	(_tuiRegisterFormat, _tuiSetSpecialRegsContent): Likewise.
	(_tuiSetGeneralAndSpecialRegsContent): Likewise.
	(_tuiSetFloatRegsContent): Likewise.
	(_tuiRegisterName): Return a const char*.
	* tuiData.h (_TuiDataElement): Use const char* for name.

2002-08-25  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiSourceWin.h (tuiEraseAllSourceContent): Don't declare.
	(tuiShowAllExecInfosContent): Likewise.
	* tuiSourceWin.c (tuiEraseAllSourceContent): Remove.
	(tuiShowAllExecInfosContent): Remove.
	(tuiAllocSourceBuffer): Remove unused locals.

2002-08-25  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiStack.c (tui_update_command): Rename _tuiUpdateLocation_command
	to follow other gdb's command names; use execute_command; cleanup.
	(_initialize_tuiStack): Update.

2002-08-25  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiWin.h (tui_update_gdb_sizes): Declare.

2002-08-24  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui.c (strcat_to_buf): Use const char* for source item.
	(tui_enable): Update the windows if there is a selected frame.
	* tui.h (strcat_to_buf): Update prototype.
	(strcat_to_buf_with_fmt): Remove.

2002-08-24  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiWin.c (tui_update_gdb_sizes): New function to tell gdb what
	is the size of command window.
	(tuiResizeAll): Call it instead of init_page_info.
	* tui.c (tui_enable): Call it to resize to TUI command window.
	(tui_disable): Likewise for plain screen.

2002-08-24  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui.c (tui_enable): Use tuiSetLayout instead of showLayout and
	use tuiShowFrameInfo instead of tuiSetLocatorContent.
	* tuiLayout.h (showLayout): Remove.
	* tuiLayout.c (_showSourceOrDisassemAndCommand): Remove unused locals.
	(_showSourceDisassemCommand): Likewise.
	(showLayout): Make it static.
	(lastLayout): Remove.

2002-08-24  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiSourceWin.c (tui_show_source_line): New function.
	(tuiShowSourceContent): Call it and avoid clearing the window before
	redrawing it.
	(tuiClearAllSourceWinsContent): Remove.
	* tuiSourceWin.h (tuiClearAllSourceWinsContent): Don't declare.
	* tuiWin.h (tuiClearWinFocus, tuiClearWinFocusFrom): Don't declare.
	* tuiWin.c (tuiClearWinFocus, tuiClearWinFocusFrom): Remove.
	(tuiRefreshAll): Don't clear the window.
	(_makeVisibleWithNewHeight): Don't clear locator line.
	(tuiResizeAll): Remove unused locals.
	(_tuiAdjustWinHeights): Likewise.
	(_makeInvisibleAndSetNewHeight): Likewise.
	(_newHeightOk): Likewise.
	* tuiLayout.c (showLayout): Don't clear source windows.
	(tuiSetLayout): Don't clear the window.
	(_initAndMakeWin): Likewise for status line.
	* tuiGeneralWin.c (makeVisible): Don't clear or refresh the window.
	(makeWindow): Likewise.
	(tuiClearWin): Remove.
	* tuiGeneralWin.h (tuiClearWin): Don't declare.

2002-08-24  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiSourceWin.c (tuiSrcWinIsDisplayed): Remove.
	(tuiAsmWinIsDisplayed): Remove.
	(tuiShowAllSourceWinsContent): Remove.
	(tuiUpdateOnEnd): Remove.
	* tuiGeneralWin.c (scrollWinForward): Remove.
	(scrollWinBackward): Remove.
	(_winResize): Don't declare.
	* tui.h (tuiUpdateOnEnd): Don't declare.
	(vcatch_errors, va_catch_errors): Likewise.
	* tuiSourceWin.h (tuiUpdateOnEnd): Likewise.
	(tuiShowAllSourceWinsContent): Likewise.
	* tuiGeneralWin.h (scrollWinForward): Likewise.
	(scrollWinBackward): Likewise.

2002-08-24  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiRegs.c (_tuiRegisterFormat): Use gdbarch_print_registers_info.

2002-08-18  Daniel Jacobowitz  <drow@@mvista.com>

	Fix PR gdb/655
	* tui.c: Disable <termio.h> include.

2002-03-15  Andrew Cagney  <ac131313@@redhat.com>

	* tui-out.c (XMALLOC): Delete macro.  Update copyright.

2002-03-01  Andrew Cagney  <ac131313@@redhat.com>

	* tui-hooks.c: Add FIXME to explain true/false problem.  Update
	copyright.
	* tui.c, tuiCommand.c, tuiData.c, tuiDataWin.c: Ditto.
	* tuiDisassem.c, tuiGeneralWin.c, tuiIO.c, tuiLayout.c: Ditto.
	* tuiRegs.c, tuiSource.c, tuiSourceWin.c, tuiStack.c: Ditto.
	* tuiWin.c: Ditto.

	2002-02-08  Daniel Jacobowitz  <drow@@mvista.com>
	* tui-hooks.c: Include <curses.h> before "bfd.h".
	* tui.c: Likewise.
	* tuiCommand.c: Likewise.
	* tuiData.c: Likewise.
	* tuiDataWin.c: Likewise.
	* tuiDisassem.c: Likewise.
	* tuiGeneralWin.c: Likewise.
	* tuiIO.c: Likewise.
	* tuiLayout.c: Likewise.
	* tuiRegs.c: Likewise.
	* tuiSource.c: Likewise.
	* tuiSourceWin.c: Likewise.
	* tuiStack.c: Likewise.
	* tuiWin.c: Likewise.

2002-02-01  Andrew Cagney  <ac131313@@redhat.com>

	* tuiWin.c (_initialize_tuiWin): Replace NO_FUNCTION with NULL.

2001-10-20  Andrew Cagney  <ac131313@@redhat.com>

	* tuiDisassem.c: Include "value.h".
	* tuiSourceWin.c: Ditto.

2001-09-28  Tom Tromey  <tromey@@redhat.com>

	* tuiLayout.h (tui_set_layout): Don't declare.
	* tui.h (tui_vAddWinToLayout): Don't declare.
	(tui_vSetLayoutTo): Likewise.
	(tui_set_layout): Declare.

2001-08-02  Eli Zaretskii  <eliz@@is.elta.co.il>

	* tuiSourceWin.c: Use disp_del instead of del.

	* tuiSource.c: Use disp_del instead of del.

	* tuiDisassem.c: Use disp_del instead of del.

2001-07-31  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* tui.c (tui_enable): Remove call to terminal_save_ours().
	(tui_disable): Likewise.

2001-07-28  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* tuiWin.c (_initialize_tuiWin): Use specific tui prefix for
	set/show configuration variables.
	(show_tui_cmd): New function.
	(set_tui_cmd): New function.

2001-07-24  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* tui-hooks.c: New file, gdb hooks for tui.
	* tui-out.c: New file, image copied from cli-out.c.
	(tui_field_int): Identify "line" fields and keep track of them.
	(tui_field_string): Likewise for "file".
	(tui_out_new): Use flags = 0 to avoid printing the sources.

2001-07-23  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* tuiIO.c (tui_cont_sig): Update cursor position on the screen to
	leave it in the command window.
	(tui_redisplay_readline): Save cursor position to restore the
	cursor after we go back from background.
	* tuiData.h (TuiCommandInfo): Add start_line member.

2001-07-23  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* tuiStack.c (tuiUpdateLocatorFilename): Use const char*.
	* tuiStack.h (tuiUpdateLocatorFilename): Update prototype.
	* tuiWin.c (_initialize_tuiWin): Don't cast table of enum in calls
	to add_set_enum_cmd.
	* tui.c (tui_show_source): New function.
	(tuiGetLowDisassemblyAddress): Use CORE_ADDR for newLow.
	(tui_switch_mode): Prep or deprep readline terminal;
	make sure the \n we return does not redo the last command.
	* tui.h (tui_show_source): Declare.
	(tui_out_new, tui_install_hooks, tui_remove_hooks): Likewise.
	(tui_active, tui_initialize_io, tui_initialize_readline): Likewise.

2001-07-22  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* tuiIO.c (tui_initialize_io): Install tui_cont_sig signal handler
	if SIGCONT is defined.
	(tui_cont_sig): New function when SIGCONT is defined.
	(tui_setup_io): Save tty setting to restore by SIGCONT.
	
2001-07-22  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* tui.h (tui_show_assembly): Declare.
	(tui_is_window_visible): Declare.
	* tui.c (tui_show_assembly): New function.
	(tui_is_window_visible): New function.
	(tui_get_command_dimension): New function.

2001-07-21  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* tuiWin.c (tuiRefreshAll): Use clearok to force a refresh.

2001-07-21  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* tui-file.c (tui_file_fputs): Use tui_puts.

2001-07-21  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* tuiStack.c (tuiSetLocatorInfo): Cleanup.
	* tuiStack.h (tuiGetLocatorFilename): Declare.
	* tuiRegs.h (tuiFirstRegElementNoInLine): Declare.
	* tuiData.h (addToSourceWindows): Declare.

2001-07-21  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* tui.c (tui_change_windows): New function.
	(tui_delete_other_windows): New function.
	(tui_initialize_readline): Bind them to C-X 1 and C-X 2.
	(tui_enable): Enable the keypad; call tui_update_variables.
	(strcat_to_buf_with_fmt): Remove.

2001-07-21  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

        * tui.h: Remove old declarations, add the new ones.
        * tui.c (tui_switch_mode): New function.
        (tui_initialize_readline): New function.
        (tui_enable): New function.
        (tui_disable): New function.
        (tuiGetLowDisassemblyAddress): Use CORE_ADDR, cleanup.
        (tui_vSelectSourceSymtab): Remove.
        (tuiInitWindows): Remove.
        (_initialize_tui): Remove.
        (_tuiReset): Keep but put arround #if 0.

2001-07-21  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

        * tuiIO.h: Remove old declarations and add the new ones.
        * tuiIO.c: New management for curses and gdb terminal interactions.
        (tui_tputs): Remove.
        (tuiTermSetup, tuiTermUnsetup): Remove, must use normal curses ops.
        (tuiBufferGetc, tui_vStartNewLines, _updateCommandInfo): Remove.
        (tui_owns_terminal): Remove.
        (tui_redisplay_readline): New function.
        (tui_puts): New function.
        (tui_prep_terminal): New function.
        (tui_deprep_terminal): New function.
        (tui_getc): Rename of tuiGetc, simplify and fix.
        (tui_setup_io): New function.
        (tui_initialize_io): New function.

2001-07-21  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* tuiRegs.c (tuiDisplayRegistersFrom): Call touchwin.
	(_tuiRegisterFormat): Reduce size of format result.

2001-07-21  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* tuiGeneralWin.c (boxWin): Use the tui configuration variables.
	* tuiWin.h: Declare the new variables.
	* tuiWin.c (_initialize_tuiWin): Create TUI configuration variables.
	(tui_update_variables): New function.
	(translate): New function.
	(tui_border_kind_enums, tui_border_mode_enums): New tables.
	(tui_border_mode_translate): New table.
	(tui_border_kind_translate_*): New tables.
	(tui_active_border_mode): New variables.
	(tui_border_*): New variables.

2001-07-21  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* tuiWin.c (_parseScrollingArgs): Fix uninitialized variable.
	(_makeVisibleWithNewHeight): Use TuiLineOrAddress type.

	* tuiStack.c (tuiShowFrameInfo): Use TuiLineOrAddress type.
	(tui_vUpdateLocatorFilename): Remove.
	* tuiStack.h: Update prototypes.

	* tuiSourceWin.c (tuiAddrIsDisplayed): New function.
	(tuiLineIsDisplayed): Split for address and line.
	(tuiUpdateSourceWindow): Use TuiLineOrAddress type.
	(tuiUpdateSourceWindowAsIs): Likewise.
	(tuiUpdateSourceWindowsWithAddr): Likewise.
	(tuiUpdateSourceWindowsWithLine): Likewise.
	(tuiHorizontalSourceScroll): Likewise.
	(tuiSetIsExecPointAt): Likewise.
	(tuiUpdateOnEnd): Likewise.
	* tuiSourceWin.h: Update prototypes.

	* tuiSource.c (tuiVerticalSourceScroll): Use TuiLineOrAddress type.
	(tuiShowSource): Likewise.
	(tuiVerticalSourceScroll): Likewise.
	* tuiSource.h (tuiShowSource): Update prototype.

	* tuiDisassem.c (tuiSetDisassemContent): Use CORE_ADDR for address.
	(tuiShowDisassem): Use TuiLineOrAddress type.
	(tuiShowDisassemAndUpdateSource): Likewise.
	(tuiVerticalDisassemScroll): Likewise.
	(tuiShowDisassemAsIs): Remove.
	* tuiDisassem.h (tuiSetDisassemContent): Update prototype.

	* tuiData.c (initWinInfo): Use CORE_ADDR for address.
	(clearWinDetail): Likewise.
	(displayableWinContentOf): Fix address conversion.
	(tuiNextWin): Fix crash when the window is not yet created.
	(partialWinByName): Likewise.

2001-07-21  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* tuiSourceWin.h: Remove unused declarations.
	* tuiSourceWin.c (tui_vUpdateSourceWindowsWithAddr): Remove.
	(tui_vUpdateSourceWindowsWithLine): Remove.
	(tui_vAllSetHasBreakAt): Remove.

	* tuiLayout.h (tui_set_layout): Declare.
	(tui_vSetLayoutTo): Remove.
	(tui_vAddWinToLayout): Remove.
	* tuiLayout.c (_tuiLayout_command): Call tui_enable() to force TUI.
	(_tuiToggleLayout_command): Remove.
	(_tuiToggleSplitLayout_command): Remove.
	(_tuiLayout_command): Remove.
	(tui_vSetLayoutTo): Remove.
	(tui_vAddWinToLayout): Remove.

	* tuiDataWin.h (tui_vCheckDataValues): Remove.
	* tuiDataWin.c (tui_vCheckDataValues): Remove.

2001-07-20  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* tuiWin.c (tuiStrDup): Remove, replaced by xstrdup.
	(_parseScrollingArgs): Use xstrdup.
	(_tuiScrollForward_command): Call tui_enable() to force TUI mode.
	(_tuiScrollBackward_command): Likewise.
	(_tuiScrollLeft_command): Likewise.
	(_tuiScrollRight_command): Likewise.
	(_tuiSetFocus): Likewise.
	(_tuiSetFocus_command): Likewise.
	(_tuiRefreshAll_command): Likewise.
	(_tuiSetTabWidth_command): Likewise.
	(_tuiSetWinHeight): Likewise.
	(_tuiSetWinHeight_command): Likewise.
	(_tuiXDBsetWinHeight): Likewise.
	(_tui_vSetFocus): Remove.
	(_tui_vSetWinHeight): Remove.
	(_tui_vXDBsetWinHeight): Remove.

2001-07-21  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* tuiCommand.h: Remove unused declarations.
	* tuiCommand.c (tuiDispatchCtrlChar): Fix escape sequences.
	(tuiIncrCommandCharCountBy): Remove.
	(tuiDecrCommandCharCountBy): Remove.
	(tuiSetCommandCharCountTo): Remove.
	(tuiClearCommandCharCount): Remove.

2001-07-20  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* tuiWin.c (_initialize_tuiWin): Always define the tui commands;
	create the tui class help.
	* tuiLayout.c (_initialize_tuiLayout): Always define the tui commands.
	* tuiRegs.c (_initialize_tuiRegs): Likewise.
	* tuiStack.c (_initialize_tuiStack): Likewise.

2001-07-19  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* tuiDisassem.c (tuiVerticalDisassemScroll): Use CORE_ADDR.
	(tuiVerticalDisassemScroll): Likewise.
	(tuiShowDisassemAndUpdateSource): Check for null symtab to
	prevent a crash.

2001-07-18  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* tuiIO.c (_tuiHandleResizeDuringIO): Call tuiRefreshAll.
	(tuiRead, tui_vread): Remove.
	
	* tui.c (va_catch_errors, tuiDo, tuiDoAndReturnToTop): Remove.
	(vcatch_errors, _tui_vDo): Remove.
	* tui.h (tuiDo, tuiDoAndReturnToTop): Remove.

	* tuiLayout.c (tuiSetLayout): Remove vcatch_errors.
	(tui_set_layout): Rename of _tuiSetLayoutTo, public.
	(_tuiToggleLayout_command): Merge with _tui_vToggleLayout_command.
	(_tuiToggleSplitLayout_command): Merge with _tui_vToggleSplitLayout_command.
	(_tuiLayout_command): Call tui_set_layout.

	* tuiRegs.c (_tuiScrollRegsBackward_command): Call tui_scroll.
	(_tuiScrollRegsForward_command): Likewise.
	(_tuiShowFloat_command): Call _tui_vShowRegisters_commandSupport.
	(_tuiShowGeneral_command): Likewise.
	(_tuiShowSpecial_command): Likewise.
	(_tuiToggleFloatRegs_command): Call tuiToggleFloatRegs.
	* tuiWin.c (tui_scroll): Rename of tui_vScroll, update parameters.
	(_tuiScrollForward_command): Call tui_scroll.
	(_tuiScrollBackward_command): Likewise.
	(_tuiScrollLeft_command): Likewise.
	(_tuiScrollRight_command): Likewise.
	(_tuiSetFocus_command): Call _tuiSetFocus.
	(_tuiRefreshAll_command): Call tuiRefreshAll.
	(_tuiSetWinHeight_command): Call _tuiSetWinHeight.
	(_tuiXDBsetWinHeight_command): Call _tuiXDBsetWinHeight.
	* tuiWin.h (tui_scroll): Rename of tui_vScroll, update parameters.

2001-07-18  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* tuiData.h (TuiLocatorElement): Use CORE_ADDR for address member.
	(TuiLineOrAddress): Likewise.
	* tuiDisassem.c (tuiGetBeginAsmAddress): Use CORE_ADDR to specify
	an address.
	(tuiSetDisassemContent): Likewise.
	(tuiShowDisassem, tuiShowDisassemAndUpdateSource): Likewise.
	* tuiLayout.c (_extractDisplayStartAddr): Likewise.
	(tuiSetLayout): Likewise.
	* tuiSourceWin.c (tuiDisplayMainFunction): Likewise.
	(tuiUpdateSourceWindowsWithAddr): Likewise.
	(tuiUpdateSourceWindowsWithLine): Likewise.
	(tuiSetHasBreakAt): Likewise.
	* tuiStack.c (tuiSetLocatorInfo): Likewise.
	(tuiSwitchFilename): Likewise.
	(tuiUpdateLocatorInfoFromFrame): Likewise.
	(tuiSetLocatorContent): Likewise.
	(tuiShowFrameInfo): Likewise.	
	* tuiDisassem.h: Update prototypes to use CORE_ADDR.
	* tuiSourceWin.h: Likewise.
	* tuiStack.h: Likewise.

2001-07-17  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* tuiWin.c: Add missing includes.
	(_makeVisibleWithNewHeight): Fix call to find_line_pc.
	* tuiLayout.c: Add missing includes.
	(_initAndMakeWin): Don't put curses in echo mode.
	(_extractDisplayStartAddr): Fix calls to find_line_pc.
	(_tuiLayout_command): Missing ',' in warning call.
	* tuiSourceWin.c (tuiUpdateSourceWindowsWithLine): Fix calls to
	find_line_pc.
	(tuiSetHasBreakAt): Check for null source file.

2001-07-17  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* tuiWin.c (_tuiSetFocus): Replace subsetCompare with subset_compare.
	* tuiLayout.c (_tuiSetLayoutTo): Likewise.
	* tui.c (_tui_vToggle_command): Likewise.

2001-07-17  Elena Zannoni  <ezannoni@@redhat.com>

	* tui-file.c: Add include of tuiIO.h, for tuiPuts_unfiltered.

2001-07-16  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* tuiRegs.c (tuiDisplayRegistersFrom): Set scrollok to FALSE in
	each register window.
	(tuiCheckRegisterValues): Use REGISTER_RAW_SIZE to obtain the size
	of the register to check.
	(_tuiRegValueHasChanged): Likewise.
	(_tuiRegisterName): Use REGISTER_NAME.
	(tui_restore_gdbout): New function.
	(_tuiRegisterFormat): Use do_registers_info with gdb_stdout redirected
	to a string.
	(START_SPECIAL_REGS): Define.
	(_tuiGetRegisterRawValue): Use get_saved_register.
	(_tuiDisplayRegister): Fix clearing of register window.

2001-07-17  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* tui-file.h (fputs_unfiltered_hook): Remove.
	* tui-file.c (tui_file_flush): Remove fputs_unfiltered_hook.
	(tui_file_fputs): Likewise; simplify

2001-07-16  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* tuiStack.c: Add missing includes.
	(tuiShowFrameInfo): Don't crash when there is no symbol table 
	associated with the pc.
	* tuiSource.c (_hasBreak): Check for null source file.
	* tuiWin.c (tuiRefreshAll): Check for null winList[type].
	(_tuiSetFocus): Check for null dataWin.
	* tuiGeneralWin.c (refreshAll): Check for null list[type].

2001-07-16  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* tuiDisassem.c (tuiSetDisassemContent): Use tm_print_insn_info
	to disassemble in the curses window.
	
2001-07-16  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* tui.h: Cleanup to avoid inclusion of curses includes.
	(TuiGenWinInfo, TuiGenWinInfoPtr): Move from here.
	* tuiData.h: To here; include curses includes here.
	(setTermHeightTo): Rename of setTermHeight to follow reality.
	(setTermWidthTo): Likewise with setTermWidth.

2001-07-14  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* tuiWin.c, tui.c, tuiCommand.c: Use ansi prototype.
	tuiIO.c, tuiData.c: Likewise.
	tuiDataWin.c, tuiDisassem.c: Likewise.
	tuiGeneralWin.c, tuiLayout.c: Likewise.
	tuiRegs.c, tuiSource.c: Likewise.
	tuiSouceWin.c, tuiStack.c: Likewise.

2001-07-14  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* tuiWin.c, tuiWin.h, tui.c, tui.h, tuiCommand.c: Add FSF copyright.
	tuiCommand.h, tuiIO.c, tuiIO.h, tuiData.h, tuiData.c: Likewise.
	tuiDataWin.c, tuiDataWin.h, tuiDisassem.c, tuiDisassem.h: Likewise.
	tuiGeneralWin.c, tuiGeneralWin.h, tuiLayout.c, tuiLayout.h: Likewise.
	tuiRegs.c, tuiRegs.h, tuiSource.c, tuiSource.h: Likewise.
	tuiSouceWin.c, tuiSourceWin.h, tuiStack.c, tuiStack.h: Likewise.

2001-03-08  Andrew Cagney  <ac131313@@redhat.com>

	* tuiRegs.c: Use NUM_REGS, not ARCH_NUM_REGS.

2001-03-06  Kevin Buettner  <kevinb@@redhat.com>

	* tui-file.h: Update/correct copyright notice.

Wed Feb  7 19:54:27 2001  Andrew Cagney  <cagney@@redhat.com>

	* tui-file.c: Add __FILE__ and __LINE__ parameter to calls to
 	internal_error.

2000-12-14  Kevin Buettner  <kevinb@@redhat.com>

	* tui-file.c, tui.c, tuiData.c, tuiLayout.c: Replace occurrences
	of free() with xfree().

2000-06-22  Kevin Buettner  <kevinb@@redhat.com>

	* tuiSourceWin.h: Eliminate use of PARAMS from this file.

2000-06-20  Kevin Buettner  <kevinb@@redhat.com>

	* tuiLayout.c: Eliminate use of PARAMS from this file.

2000-06-17  Kevin Buettner  <kevinb@@redhat.com>

	* tuiIO.c: Eliminate use of PARAMS from this file.

Thu May 25 14:46:20 2000  Andrew Cagney  <cagney@@b1.cygnus.com>

	* tui-file.c: Include "tui.h", "tuiData.h", "tuiIO.h" and
 	"tuiCommand.h".
	(tui_file_fputs): Pass ``file'' and not ``stream'' to
 	tui_file_adjust_strbuf.

Thu May 25 16:58:01 2000  Andrew Cagney  <cagney@@b1.cygnus.com>

	* tui.h: Include <ncurses.h> when available.
	* tui.c, tuiGeneralWin.c: Do not include <curses.h>.

Mon May 15 17:16:10 2000  Andrew Cagney  <cagney@@b1.cygnus.com>

	* Makefile.in: Delete.

Tue Apr 18 15:32:15 2000  Andrew Cagney  <cagney@@b1.cygnus.com>

	* Makefile.in (distclean, maintainer-clean, realclean,
 	mostlyclean): New targets.

Tue Feb  1 00:17:12 2000  Andrew Cagney  <cagney@@b1.cygnus.com>

	* tui-file.c, tui-file.h, tuiDisassem.c, tuiIO.c, tuiIO.h,
 	tuiRegs.c: Update to reflect rename of gdb-file / GDB_FILE to
 	ui-file / ``struct ui_file''.

Mon Jan 31 18:12:43 2000  Andrew Cagney  <cagney@@b1.cygnus.com>

	* tui-file.c (enum streamtype, struct tui_stream, tui_file_new,
 	tui_file_delete, tui_fileopen, tui_sfileopen, tui_file_isatty,
 	tui_file_rewind, tui_file_put, tui_file_fputs,
 	tui_file_get_strbuf, tui_file_adjust_strbuf, tui_file_flush,
 	fputs_unfiltered_hook): Move to here from ../utils.c

	* tui-file.h, tui-file.c: New files.

Mon Nov  8 17:47:37 1999  Andrew Cagney  <cagney@@b1.cygnus.com>

	* tuiRegs.c (_tuiRegisterFormat), tuiDisassem.c
	(tuiSetDisassemContent): Replace gdb_file_init_astring with
 	tui_sfileopen.  Replace gdb_file_get_strbuf with
 	tui_file_get_strbuf.
	
Mon Nov  8 16:54:51 1999  Andrew Cagney  <cagney@@b1.cygnus.com>

	* tuiRegs.c (_tuiRegisterFormat), tuiDisassem.c
 	(tuiSetDisassemContent): Repace gdb_file_deallocate with
 	gdb_file_delete. Replace gdb_file_init_astring with tui_sfileopen.

Fri Sep 17 19:34:38 1999  Andrew Cagney  <cagney@@b1.cygnus.com>

	* tuiSource.c: Include "source.h".
 	(open_source_file, find_source_lines): Delete declarations.

1999-01-26  Jason Molenda  (jsm@@bugshack.cygnus.com)

	* tui.h: Include stdarg.h instead of varargs.h if we're on an ISO Cish
	system.

Thu Dec 31 12:08:32 1998  David Taylor  <taylor@@texas.cygnus.com>

	The following changes were made by Jim Blandy <jimb@@cygnus.com>,
 	Edith Epstein <eepstein@@cygnus.com>, Elena Zannoni
 	<ezannoni@@cygnus.com> Stan Shebs <shebs@@cygnus.com>, and David
 	Taylor <taylor@@cygnus.com>, as part of the project to merge in
 	changes originally made by HP; HP did not create ChangeLog
 	entries.

	* Makefile.in: New file; we're merging HP's changes into GDB, and
 	we've moved the TUI files into a subdirectory, so we need a new
 	Makefile.

	* tui.c:
	#include <term.h>, if we have it, to get declarations for
 	the termcap functions on Solaris.
	(tgoto): Add external K&R declaration for this; Solaris doesn't
	bother to actually declare it in their header files.
	(_tuiReset): Ignore the #definition of TIOCGETC if USG is defined;
 	we'd rather use the USG mechanisms than the Berkeley mechanisms
 	(TIOCGETC is one of the Berkeley terminal control ioctls).
  	Apologies if this causes trouble later; this should all be handled
 	by autoconf...
	(strcat_to_buf, strcat_to_buf_with_fmt): New functions, moved here
 	from ../utils.h.
	(tuiFree): replace safe_free with free.
	(strcat_to_buf): new function, copied from utils.c.
	(tuiInit): Add ignored `argv0' argument, to match the type that
 	init_ui_hook expects; updated declaration.  Call the
 	initialize_tui_files function constructed above.  Initialize
 	flush_hook to NULL.
	(tuiInitWindows): Call tuiSetLocatorContent, to get the first
 	element of the locator window's content allocated.  This seems
 	wrong, because it must have been initialized somehow in HP's
 	sources, and we should do it the same way now.  But we do get
 	further before it segfaults.  [Postscript: HP didn't bother to
 	initialize it; they compile
	(va_catch_errors, vcatch_errors): Functions moved here from
 	../utils.c in HP's sources.  They're not used anywhere else.
	(xdb_style): Delete this variable, and remove all references to
 	it.  It's always true.
	(tuiInit, _tui_vDo): References removed.

	* tui.h:  Add prototypes.
	Don't #include "gendefs.h"; it's only used in the TUI.
	Integrate its contents into this file:
	#include <ansidecl.h> here.
	(Opaque, OpaqueFuncPtr): Typedefs moved to here.
	     
	* tuiCommand.c: #include "defs.h", so we get the appropriate
	definition of GDB_FILE.

	* tuiData.c
 	(freeWindow): replace safe_free with free.
	(tui_version): don't define it here; it's defined in main.c now.

	* tuiDisassem.c
	(tuiSetDisassemContent): Call strcat_address_numeric instead of
 	strcat_address.  Simplify the control structure. Use predefined
 	GDB function to print asm inst address.  Use GDB_FILE to collect
 	output into buffers.

	* tuiIO.c
	(tgoto): Add external K&R declaration for this here too.
	(tuiGetc, tuiTermSetup, tuiTermUnsetup): Same.
	(tuiPuts_unfiltered): change FILE to GDB_FILE.
	(tui_tputs): fix prototype for 3rd argument.

	* tuiIO.h (tuiPuts_unfiltered): change declaration.
     
	* tuiLayout.c 
	(_tuiSetLayoutTo): for displaying registers, hook up the HP code
	that decides which registers to display (i.e. single precision
	float, double precision float, general, special). Previously,
	only handled TUI_GENERAL_REGS. Now that the code is hooked up,
 	compiling with -z poses a problem. When the first layout command
	is 'layout regs', dataWin->detail is a NULL pointer, and gdb
	core dumps.

	* tuiLayout.c (_tuiSetLayoutTo): replace safe_free with free.

	* tuiRegs.c #include "defs.h" earlier, to avoid problems in
 	<stdarg.h>.  No idea exactly what's conflicting with what, but the
 	errors went away...
	(_tuiRegisterFormat): Change so that function creates a GDB_FILE
 	object, calls pa_do_strcat_registers_info, copies the register
 	info into a buffer, and deallocates the GDB_FILE object.  Remove
 	some code that is not executed.  Also, call to
 	pa_do_strcat_registers_info has an additional parameter,
 	precision.  This code requires some new per-target functions that
 	we don't want to merge.  Dyke it out, with #ifdef
 	TUI_EXTENDED_FORMATTERS.
	(_tuiSetSpecialRegsContent): this function was ifdefed out.
  	Hooked this up.
	(_tuiSetGeneralAndSpecialRegsContent): this function was ifdefed
 	out.  Hooked it up.
  	(IS_64BIT): Just define this to be zero; we're not merging in the
 	64-bit support.
	(tuiShowRegisters): Comment out all references to the "special"
 	regs; we don't have a distinction between the "special" and
 	"non-special" regs in most of our machine descriptions.  This code
 	is PA-specific in other ways as well, and needs to be redesigned
 	to be portable to other processors.

	* tuiWin.c: #include <string.h>, to get a declaration for
	strchr.
 
	* tui.c, tuiCommand.c, tuiData.c, tuiDataWin.c, tuiDisassem.c,
 	tuiGeneralWin.c, tuiIO.c, tuiLayout.c, tuiRegs.c, tuiSource.c,
 	tuiSourceWin.c, tuiStack.c, tuiWin.c: New files (from HP).  Changed
 	bool to int throughout.  Re-indented, GNU style.

	* tui.h, tuiCommand.h, tuiData.h, tuiDataWin.h, tuiDisassem.h,
 	tuiGeneralWin.h, tuiIO.h, tuiLayout.h, tuiRegs.h, tuiSource.h,
 	tuiSourceWin.h, tuiStack.h, tuiWin.h: new files (from HP).
  	Changed bool to int throughout.
@


1.123
log
@2003-10-02  Andrew Cagney  <cagney@@redhat.com>

	* gdbarch.sh (DEPRECATED_REGISTER_RAW_SIZE): Rename
	REGISTER_RAW_SIZE.
	* gdbarch.h, gdbarch.c: Re-generate.
	* aix-thread.c, alpha-tdep.h, arm-tdep.c, core-sol2.c: Update.
	* cris-tdep.c, dve3900-rom.c, findvar.c, frame.c: Update.
	* hppa-tdep.c, hppab-nat.c, hppah-nat.c, hppam3-nat.c: Update.
	* hpux-thread.c, i386gnu-nat.c, ia64-aix-nat.c: Update.
	* ia64-linux-nat.c, ia64-tdep.c, infcmd.c, infptrace.c: Update.
	* infrun.c, irix5-nat.c, lynx-nat.c, mips-linux-tdep.c: Update.
	* mips-nat.c, mips-tdep.c, mipsv4-nat.c, mn10300-tdep.c: Update.
	* monitor.c, ns32k-tdep.c, ppc-linux-nat.c, regcache.c: Update.
	* remote-e7000.c, remote-mips.c, remote-sim.c: Update.
	* remote-vxmips.c, remote-vxsparc.c, remote.c: Update.
	* rom68k-rom.c, rs6000-nat.c, rs6000-tdep.c, s390-tdep.c: Update.
	* sh64-tdep.c, sparc-nat.c, sparc-tdep.c, stack.c: Update.
	* target.c, tracepoint.c, v850-tdep.c, v850ice.c, valops.c: Update.
	* vax-tdep.c, vax-tdep.h, x86-64-tdep.c, xstormy16-tdep.c: Update.
	* config/m68k/tm-delta68.h, config/m68k/tm-vx68.h: Update.
	* config/sparc/tm-sparc.h, config/sparc/tm-sparclynx.h: Update.

2003-10-02  Andrew Cagney  <cagney@@redhat.com>

	* gdbint.texinfo (Target Architecture Definition): Rename
	REGISTER_RAW_SIZE to DEPRECATED_REGISTER_RAW_SIZE.
	* gdb.texinfo (Packets, Stop Reply Packets): Ditto.
	* gdbint.texinfo (Target Architecture Definition): Rename

2003-10-02  Andrew Cagney  <cagney@@redhat.com>

	* mi-main.c: Rename REGISTER_RAW_SIZE to
	DEPRECATED_REGISTER_RAW_SIZE.
@
text
@@


1.122
log
@2003-09-13  Andrew Cagney  <cagney@@redhat.com>

	* config/pa/tm-hppa64.h (struct frame_info): Declare opaque.
	* ppc-tdep.h (struct regcache): Declare opaque.
	* objfiles.h (struct objfile_data): Declare opaque.
	* cp-support.h (struct objfile): Declare opaque.
	* linux-nat.h (target_waitstatus): Declare opaque.
@
text
@d1 5
@


1.122.2.1
log
@merge mainline changes to branch
@
text
@@


1.121
log
@	* tui-interp.c: Include "cli-out.h".
	(tui_resume): Update tui_old_uiout's stream to gdb_stdout.
@
text
@d1 4
@


1.120
log
@	* tui.c (tui_rl_other_window): New function to switch the TUI active
	window and give focus to a next window.
	(tui_initialize_readline): Bind it to c-x o.
	(tui_rl_next_keymap): Activate TUI mode when entering SingleKey mode.
@
text
@d1 5
@


1.119
log
@	* tui.c (tui_enable): Call tuiRefreshAll to make sure the window
	is accurate.
@
text
@d1 7
@


1.118
log
@	* tui-interp.c (tui_resume): Enable tui when we expected it.
	(tui_suspend): Remember in which TUI mode we are.
	(_initialize_tui_interp): Use the tui interpreter even when no
	other interpreter was set and define in which TUI mode to start.
@
text
@d3 5
@


1.117
log
@./
	* cli/cli-logging.c: New file.
	* cli-out.c (struct ui_out_data): Add original_stream.
	(cli_redirect): New function.
	(cli_ui_out_impl): Add cli_redirect.
	(cli_out_new): Initialize original_stream.
	* ui-out.c (default_ui_out_impl): Add NULL for redirect member.
	(uo_redirect, ui_out_redirect): New.
	* ui-out.h (struct ui_out_impl): Add redirect member.
	(redirect_ftype): New.
	(ui_out_redirect): Add prototype.
	* Makefile.in: Add rules for cli-logging.c.
	* NEWS: Mention "set logging".
mi/
	* mi-out.c (mi_ui_out_impl): Add NULL for redirect member.
tui/
	* tui-out.c (tui_ui_out_impl): Add NULL for redirect member.
doc/
	* gdb.texinfo (Logging output): New chapter.
@
text
@d1 7
@


1.116
log
@	* tui-hooks.c: Update include order.
	* tui.c: Likewise.
	* tuiCommand.c: Likewise.
	* tuiData.c: Likewise.
	* tuiDataWin.c: Likewise.
	* tuiDisassem.c: Likewise.
	* tuiGeneralWin.c: Likewise.
	* tuiIO.c: Likewise.
	* tuiLayout.c: Likewise.
	* tuiRegs.c: Likewise.
	* tuiSource.c: Likewise.
	* tuiSourceWin.c: Likewise.
	* tuiStack.c: Likewise.
	* tuiWin.c: Likewise.
@
text
@d1 4
@


1.116.2.1
log
@./
	* cli/cli-logging.c: New file.
	* cli-out.c (struct ui_out_data): Add original_stream.
	(cli_redirect): New function.
	(cli_ui_out_impl): Add cli_redirect.
	(cli_out_new): Initialize original_stream.
	* ui-out.c (default_ui_out_impl): Add NULL for redirect member.
	(uo_redirect, ui_out_redirect): New.
	* ui-out.h (struct ui_out_impl): Add redirect member.
	(redirect_ftype): New.
	(ui_out_redirect): Add prototype.
	* Makefile.in: Add rules for cli-logging.c.
	* NEWS: Mention "set logging".
mi/
	* mi-out.c (mi_ui_out_impl): Add NULL for redirect member.
tui/
	* tui-out.c (tui_ui_out_impl): Add NULL for redirect member.
doc/
	* gdb.texinfo (Logging output): New chapter.
@
text
@a0 4
2003-07-02  Daniel Jacobowitz  <drow@@mvista.com>

	* tui-out.c (tui_ui_out_impl): Add NULL for redirect member.

@


1.116.2.2
log
@	* tui-interp.c (tui_resume): Enable tui when we expected it.
	(tui_suspend): Remember in which TUI mode we are.
	(_initialize_tui_interp): Use the tui interpreter even when no
	other interpreter was set and define in which TUI mode to start.
@
text
@a0 7
2003-07-23  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui-interp.c (tui_resume): Enable tui when we expected it.
	(tui_suspend): Remember in which TUI mode we are.
	(_initialize_tui_interp): Use the tui interpreter even when no
	other interpreter was set and define in which TUI mode to start.

@


1.116.2.3
log
@	* tui.c (tui_enable): Call tuiRefreshAll to make sure the window
	is accurate.
@
text
@a2 5
	* tui.c (tui_enable): Call tuiRefreshAll to make sure the window
	is accurate.

2003-07-23  Stephane Carrez  <stcarrez@@nerim.fr>

@


1.116.2.4
log
@	* tui.c (tui_rl_other_window): New function to switch the TUI active
	window and give focus to a next window.
	(tui_initialize_readline): Bind it to c-x o.
	(tui_rl_next_keymap): Activate TUI mode when entering SingleKey mode.
@
text
@a0 7
2003-07-24  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui.c (tui_rl_other_window): New function to switch the TUI active
	window and give focus to a next window.
	(tui_initialize_readline): Bind it to c-x o.
	(tui_rl_next_keymap): Activate TUI mode when entering SingleKey mode.

@


1.116.2.5
log
@./
	* Makefile.in (tui-interp.o): Update dependencies.
tui/
	* tui-interp.c: Include "cli-out.h".
	(tui_resume): Update tui_old_uiout's stream to gdb_stdout.
@
text
@a0 5
2003-08-04  Daniel Jacobowitz  <drow@@mvista.com>

	* tui-interp.c: Include "cli-out.h".
	(tui_resume): Update tui_old_uiout's stream to gdb_stdout.

@


1.115
log
@	* Makefile.in (tuiDisassem.o): Update dependencies.

tui:
	* tuiSource.c (tuiVerticalSourceScroll): Use get_frame_pc.
	* tuiSourceWin.c (tuiHorizontalSourceScroll): Likewise.
	* tuiStack.c (tui_get_function_from_frame): Likewise.
	(tuiShowFrameInfo): Likewise.
	* tuiWin.c (_makeVisibleWithNewHeight): Likewise.
	* tui-hooks.c (tui_selected_frame_level_changed_hook): Likewise.
	* tuiDisassem.c (tuiVerticalDisassemScroll): Likewise.
	Include "disasm.h".
@
text
@d1 17
@


1.114
log
@2003-05-08  Andrew Cagney  <cagney@@redhat.com>

	* gdbarch.sh: Delete references to MAX_REGISTER_RAW_SIZE.
	* gdbarch.h: Re-generate.
	* defs.h (MAX_REGISTER_RAW_SIZE): Delete macro.
	(legacy_max_register_raw_size): Delete declaration.
	* regcache.c (legacy_max_register_raw_size): Delete function.
	* valops.c: Replace MAX_REGISTER_RAW_SIZE with MAX_REGISTER_SIZE.
	* target.c, stack.c, sparc-tdep.c, sh-tdep.c: Update.
	* rs6000-tdep.c, rs6000-nat.c, remote.c, remote-sim.c: Update.
	* remote-rdp.c, remote-array.c, regcache.c: Update.
	* ppc-linux-nat.c, monitor.c, mn10300-tdep.c: Update.
	* mips-tdep.c, mips-linux-tdep.c, m68klinux-nat.c: Update.
	* infptrace.c, ia64-tdep.c, i386-tdep.c, frame.c: Update.
	* findvar.c, dwarf2cfi.c: Update.

Index: tui/ChangeLog
2003-05-08  Andrew Cagney  <cagney@@redhat.com>

	* tuiRegs.c: Use MAX_REGISTER_SIZE instead of
	MAX_REGISTER_RAW_SIZE.

Index: mi/ChangeLog
2003-05-08  Andrew Cagney  <cagney@@redhat.com>

	* mi-main.c (register_changed_p): Use MAX_REGISTER_SIZE instead of
	MAX_REGISTER_RAW_SIZE.
@
text
@d1 11
@


1.113
log
@2003-05-03  Andrew Cagney  <cagney@@redhat.com>

	* disasm.h (print_insn): Declare.
	* disasm.c (init_gdb_disassemble_info): New function.
	(gdb_disassembly): Call init_gdb_disassemble_info.
	(gdb_print_insn): New function.
	* v850-tdep.c (v850_scan_prologue): Call gdb_print_insn, instead
	of TARGET_PRINT_INSN.  Send debug info to "gdb_stdlog".
	* mcore-tdep.c: Include "disasm.h"
	(mcore_dump_insn): Call gdb_print_insn, instead of TARGET_PRINT_INSN.
	* d10v-tdep.c: Include "disasm.h".
	(display_trace): Call gdb_print_insn, instead of print_insn.
	(print_insn): Delete function.
	* printcmd.c: Include "disasm.h".
	(print_insn): Delete function.
	(print_formatted): Call gdb_print_insn, instead of print_insn.
	* Makefile.in (printcmd.o): Update dependencies.
	(mcore-tdep.o, d10v-tdep.o): Ditto.

2003-05-03  Andrew Cagney  <cagney@@redhat.com>

	* tuiDisassem.c (tui_disassemble): Call gdb_print_insn, instead of
	TARGET_PRINT_INSN.  Do not initialize a disassemble_info object.
@
text
@d1 5
@


1.112
log
@2003-04-30  Andrew Cagney  <cagney@@redhat.com>

	* gdbarch.sh (deprecated_tm_print_insn_info): Rename
	"tm_print_insn_info".
	(TARGET_PRINT_INSN_INFO): Delete macro.
	(dis_asm_read_memory): Delete function declaration.
	(dis_asm_memory_error, dis_asm_print_address): Ditto.
	(tm_print_insn_info): Delete variable definition.
	(_initialize_gdbarch): Do not initialize "tm_print_insn_info".
	* gdbarch.h, gdbarch.c: Re-generate.
	* d10v-tdep.c (display_trace): Replace "tm_print_insn_info" with
	"deprecated_tm_print_insn_info".
	* mcore-tdep.c (mcore_dump_insn): Ditto.
	* mips-tdep.c (mips_gdbarch_init): Ditto.
	* sparc-tdep.c (_initialize_sparc_tdep): Ditto.
	* v850-tdep.c (v850_scan_prologue, v850_gdbarch_init): Ditto.
	* ia64-tdep.c (_initialize_ia64_tdep): Ditto.
	* printcmd.c (print_insn): Use "deprecated_tm_print_insn_info"
	instead of TARGET_PRINT_INSN_INFO, add comment.
	* s390-tdep.c (s390_get_frame_info): Instead of
	"dis_asm_read_memory", use "deprecated_tm_print_insn_info".
	(s390_check_function_end, s390_is_sigreturn): Ditto.
	* corefile.c (dis_asm_read_memory): Move to "disasm.c".
	(dis_asm_memory_error, dis_asm_print_address): Ditto.
	* disasm.c: Include "gdbcore.h".
	(_initialize_disasm): New function, initialize
	"deprecated_tm_print_insn_info".
	(deprecated_tm_print_insn_info): New variable.
	(dis_asm_read_memory): Moved from "corefile.c", made static.
	(dis_asm_print_address, dis_asm_memory_error): Ditto.
	* Makefile.in (disasm.o): Update dependencies.

2003-04-28  Andrew Cagney  <cagney@@redhat.com>

	* gdbint.texinfo (Target Architecture Definition): Replace
	read_fp, TARGET_READ_FP and FP_REGNUM, with deprecated_read_fp,
	DEPRECATED_TARGET_READ_FP and DEPRECATED_REGNUM.
@
text
@d1 5
@


1.111
log
@2003-03-12  Andrew Cagney  <cagney@@redhat.com>

	* frame.c (get_saved_register): Delete function.
	* xstormy16-tdep.c: Update comment.
	* regcache.h: Update comments.
	* sparc-tdep.c (sparc_init_extra_frame_info): Instead of
	get_saved_register and extract_address, use
	frame_read_unsigned_register.
	(sparc_frame_saved_pc): Ditto.
	(sparc_get_saved_register): Instead of get_saved_register, use
	frame_register.
	(sparc_pop_frame): Ditto.
	* frame.h (get_saved_register): Delete declaration.
	* findvar.c: Update comments.
	(value_of_register): Call frame_register instead of
	get_saved_register.
	(value_from_register): Ditto.
	* config/sparc/tm-sparc.h: Update comment.
	* breakpoint.c: Update comment.

Index: doc/ChangeLog
2003-03-12  Andrew Cagney  <cagney@@redhat.com>

	* gdbint.texinfo (Target Architecture Definition): Delete
	references to get_saved_register.
@
text
@d1 6
@


1.111.10.1
log
@Merge from mainline.
@
text
@a0 11
2003-05-03  Andrew Cagney  <cagney@@redhat.com>

	* tuiDisassem.c (tui_disassemble): Call gdb_print_insn, instead of
	TARGET_PRINT_INSN.  Do not initialize a disassemble_info object.

2003-04-30  Andrew Cagney  <cagney@@redhat.com>

	* tuiDisassem.c (tui_disassemble): Use
	"deprecated_tm_print_insn_info" instead of TARGET_PRINT_INSN_INFO,
	add comment.

@


1.111.10.2
log
@2003-05-18  Mark Kettenis  <kettenis@@gnu.org>

	Merge from mainline.
	* i386-tdep.h (I386_SIZEOF_GREGS, I386_SIZEOF_FREGS,
	I386_SIZEOF_XREGS): Remove defenitions.
	(IS_FP_REGNUM, IS_SSE_REGNUM): Remove definitions.
	* i386-tdep.c (i386_gdbarch_init): Don't set register_bytes,
	register_size, call_dummy_words and sizeof_call_dummy.
	* i386-linux-tdep.c (i386_linux_init_abi): Don't set register_bytes.
	* x86-64-tdep.c (x86_64_init_abi): Don't set register_bytes and
	register_size.
	(x86_64_register_bytes): Remove variable.
	(_initialize_x86_64_tdep): Remove function.

	* i386-linux-tdep.c (i386_linux_sigcontext_addr): Call read_memory
	with correct arguments.
	* config/i386/x86-64linux.mt (TDEPFILES): Add i386-linux-tdep.o.
@
text
@a0 5
2003-05-08  Andrew Cagney  <cagney@@redhat.com>

	* tuiRegs.c: Use MAX_REGISTER_SIZE instead of
	MAX_REGISTER_RAW_SIZE.

@


1.110
log
@	* tui-out.c (tui_out_data): Fix typedef.
@
text
@d1 5
@


1.109
log
@Index: ChangeLog
2003-03-08  Andrew Cagney  <cagney@@redhat.com>

	* cli-out.c: Update copyright.
	(cli_out_data): Define typedef.  Use instead of ui_out_data.

Index: mi/ChangeLog
2003-03-08  Andrew Cagney  <cagney@@redhat.com>

	* mi-out.c: Update copyright.
	(mi_out_data): Define typedef.  Use instead of ui_out_data.

Index: tui/ChangeLog
2003-03-08  Andrew Cagney  <cagney@@redhat.com>

	* tui-out.c: Update copyright.
	(tui_out_data): Define typedef.  Use instead of ui_out_data.
@
text
@d1 4
@


1.108
log
@2003-02-14  Andrew Cagney  <ac131313@@redhat.com>

	* main.c (tui_version): Delete variable.
	(captured_main): When --tui, set interpreter_p to "tui" instead of
	enabling tui_version.
	* printcmd.c (display_command) [TUI]: Test tui_active instead of
	tui_version.
	* cli/cli-decode.c (lookup_cmd_composition): Ditto.
	* cli/cli-cmds.c (disassemble_command): Ditto.
	* defs.h (tui_version): Delete declaration.
	* Makefile.in (SUBDIR_TUI_SRCS): Add "tui/tui-interp.c".
	(tui-interp.o): Add rules.
	(SUBDIR_TUI_OBS): Add "tui-interp.o".

Index: tui/ChangeLog
2003-02-14  Andrew Cagney  <ac131313@@redhat.com>

	* tui.c (tui_enable, tui_disable): Don't modify tui_version.
	(tui_is_window_visible, tui_get_command_dimension): Test
	tui_active instead of tui_version.
	* tuiData.h (tui_version): Delete declaration.
	* tui-hooks.c (tui_init_hook, tui_event_loop): Delete function,
	moved to "tui-interp.c".
	(tui_exit, tui_command_loop): Ditto.
	(_initialize_tui): Don't initialize init_ui_hook.  Initialize
	target_new_objfile_hook.
	* tui-interp.c: New file.
@
text
@d1 5
@


1.108.4.1
log
@2003-03-16  Mark Kettenis  <kettenis@@gnu.org>

	Merge with mainline.  Tag is kettenis-i386newframe-20030316-mergepoint.
@
text
@a0 14
2003-03-14  Andrew Cagney  <cagney@@redhat.com>

	* tuiRegs.c (_tuiGetRegisterRawValue): Use frame_read_register,
	instead of get_saved_register.

2003-03-13  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui-out.c (tui_out_data): Fix typedef.

2003-03-08  Andrew Cagney  <cagney@@redhat.com>

	* tui-out.c: Update copyright.
	(tui_out_data): Define typedef.  Use instead of ui_out_data.

@


1.107
log
@2003-02-12  Andrew Cagney  <ac131313@@redhat.com>

	* tuiIO.c (tui_prep_terminal): Add one notused parameter.
	* tui.c (tui_rl_switch_mode): Add two notused parameters.
	(tui_rl_change_windows, tui_rl_next_keymap): Ditto.
	(tui_rl_delete_other_windows): Ditto.
	(tui_rl_change_windows, tui_rl_delete_other_windows): Update
	calls.
@
text
@d1 13
@


1.106
log
@Import of readline 4.3.
Non-readline modified files:

src/gdb/ChangeLog src/gdb/defs.h src/gdb/cli/cli-cmds.c
src/gdb/cli/cli-setshow.c src/gdb/tui/ChangeLog
src/gdb/tui/tuiWin.c

In readline directory:

        * compat.c, mbutil.c, misc.c, rlmbutil.h, rltypedefs.h,
        text.c, doc/history.0, doc/history.3, support/wcwidth.c,
        examples/readlinebuf.h, examples/rlcat.c: New files.

        * CHANGELOG, CHANGES, INSTALL,  MANIFEST, Makefile.in, README,
        aclocal.m4, ansi_stdlib.h, bind.c, callback.c, chardefs.h,
        complete.c, config.h.in, configure, configure.in, display.c,
        emacs_keymap.c, funmap.c, histexpand.c, histfile.c, histlib.h,
        history.c, history.h, histsearch.c, input.c, isearch.c,
        keymaps.c, keymaps.h, kill.c, macro.c, nls.c, parens.c,
        posixdir.h, readline.c, readline.h, rlconf.h, rldefs.h,
        rlprivate.h, rlshell.h, rlstdc.h, rltty.c, savestring.c,
        search.c, shell.c, signals.c, terminal.c, tilde.c, tilde.h,
        undo.c, util.c, vi_keymap.c, vi_mode.c, xmalloc.c, xmalloc.h,
        doc/Makefile.in, doc/hist.texinfo, doc/hstech.texinfo,
        doc/hsuser.texinfo, doc/manvers.texinfo, doc/readline.3,
        doc/rlman.texinfo, doc/rltech.texinfo, doc/rluser.texinfo
        doc/rluserman.texinfo, doc/texi2dvi, doc/texi2html,
        shlib/Makefile.in, support/install.sh, support/mkdirs,
        support/mkdist, support/shlib-install, support/shobj-conf,
        examples/Inputrc, examples/Makefile.in, examples/fileman.c,
        examples/histexamp.c, examples/manexamp.c, examples/rl.c,
        examples/rlfe.c, examples/rltest.c, examples/rlversion.c:
        Modified files.
@
text
@d1 9
@


1.105
log
@2002-12-06  Elena Zannoni  <ezannoni@@redhat.com>

	* tuiStack.c (tuiShowFrameInfo): Fix typo.
@
text
@d1 8
@


1.104
log
@2002-11-29  Andrew Cagney  <ac131313@@redhat.com>

	* stack.c (selected_frame, select_frame): Move from here ...
	* frame.c (selected_frame, select_frame): ... to here.  Include
	"language.h".
	* Makefile.in (frame.o): Update dependencies.
	* frame.c (get_selected_frame): New function.
	* frame.h (get_selected_frame): Declare.
	(deprecated_selected_frame): Rename selected_frame.
	* ada-lang.c, ada-tasks.c, breakpoint.c, corelow.c: Update.
	* eval.c, f-valprint.c, findvar.c, frame.c, frame.h: Update.
	* h8300-tdep.c, h8500-tdep.c, hppa-tdep.c, infcmd.c: Update.
	* inflow.c, infrun.c, macroscope.c, mips-tdep.c: Update.
	* mn10300-tdep.c, ocd.c, regcache.h, remote-e7000.c: Update.
	* remote-mips.c, remote-rdp.c, sh-tdep.c, sparc-tdep.c: Update.
	* stack.c, thread.c, tracepoint.c, valops.c, varobj.c: Update.
	* z8k-tdep.c, cli/cli-cmds.c: Update.

Index: mi/ChangeLog
2002-11-29  Andrew Cagney  <ac131313@@redhat.com>

	* mi/mi-cmd-stack.c, mi/mi-main.c: Update to use
	deprecated_selected_frame.

Index: tui/ChangeLog
2002-11-29  Andrew Cagney  <ac131313@@redhat.com>

	* tui/tui-hooks.c: Update to use deprecated_selected_frame.
	* tui/tui.c, tui/tuiDisassem.c, tui/tuiRegs.c: Ditto.
	* tui/tuiSource.c, tui/tuiSourceWin.c, tui/tuiWin.c: Ditto.
@
text
@d1 4
@


1.103
log
@2002-11-28  Andrew Cagney  <ac131313@@redhat.com>

	* frame.c (pc_notcurrent): New function.
	(find_frame_sal): New function.
	* frame.h (find_frame_sal): Declare.
	(struct symtab_and_line): Add opaque declaration.
	* stack.c (print_frame_info_base): Use find_pc_line instead of
	find_frame_sal.
	(frame_info): Ditto.
	* ada-lang.c (find_printable_frame): Ditto.

Index: tui/ChangeLog
2002-11-28  Andrew Cagney  <ac131313@@redhat.com>

	* tuiStack.c (tuiShowFrameInfo): Use find_frame_sal instead of
	find_pc_line.
@
text
@d1 6
@


1.102
log
@2002-11-23  Andrew Cagney  <ac131313@@redhat.com>

	* breakpoint.c: Include "gdb_assert.h".
	(deprecated_frame_in_dummy): Assert that generic dummy frames are
	not being used.
	* Makefile.in (breakpoint.o): Update dependencies.
	* ada-lang.c (find_printable_frame): Use get_frame_type instead of
	deprecated_frame_in_dummy.
	* stack.c (print_frame_info_base): Ditto.
	(frame_info): Ditto.
	(print_frame_info_base): Ditto.  Delete dead code.

Index: tui/ChangeLog
2002-11-23  Andrew Cagney  <ac131313@@redhat.com>

	* tuiStack.c (tuiShowFrameInfo): Use get_frame_type instead of
	deprecated_frame_in_dummy.  Fix coding style.
@
text
@d1 5
@


1.101
log
@	* tui-hooks.c (tui_init_hook): Don't enable the TUI if a specific
	interpreter is installed.
@
text
@d1 5
@


1.100
log
@2002-11-18  Andrew Cagney  <ac131313@@redhat.com>

	* frame.h (enum frame_type): Define.
	(get_frame_type): Declare.
	(struct frame_info): Add field `type'.  Delete field
	signal_handler_caller.
	(deprecated_set_frame_signal_handler_caller): Declare.
	* frame.c (get_frame_type): New function.
	(deprecated_set_frame_type): New function.
	(create_new_frame): Set the frame's type.
	(get_prev_frame): Similar.
	* sparc-tdep.c: Use get_frame_type instead of signal_handler_caller.
	* s390-tdep.c: Ditto.
	* m68klinux-nat.c: Ditto.
	* ns32k-tdep.c: Ditto.
	* x86-64-linux-tdep.c: Ditto.
	* vax-tdep.c: Ditto.
	* rs6000-tdep.c: Ditto.
	* ppc-linux-tdep.c: Ditto.
	* i386-interix-tdep.c: Ditto.
	* mips-tdep.c: Ditto.
	* m68k-tdep.c: Ditto.
	* hppa-tdep.c: Ditto.
	* ia64-tdep.c: Ditto.
	* cris-tdep.c: Ditto.
	* arm-tdep.c: Ditto.
	* alpha-tdep.c: Ditto.
	* i386-tdep.c: Ditto.
	* stack.c: Ditto.
	* ada-lang.c: Ditto.
	* blockframe.c: Update.
	* i386-interix-tdep.c (i386_interix_back_one_frame): Use
	deprecated_set_frame_type instead of signal_handler_caller.
	* ppc-linux-tdep.c (ppc_linux_init_extra_frame_info): Ditto.
	* rs6000-tdep.c (rs6000_init_extra_frame_info): Ditto.
	* breakpoint.h: Delete FIXME suggesting get_frame_type.

Index: tui/ChangeLog
2002-11-18  Andrew Cagney  <ac131313@@redhat.com>

	* tuiStack.c (tuiShowFrameInfo): Use get_frame_type instead of
	signal_handler_caller.
@
text
@d1 5
@


1.99
log
@2002-11-10  Andrew Cagney  <ac131313@@redhat.com>

	* breakpoint.h (deprecated_frame_in_dummy): Rename frame_in_dummy.
	* stack.c (print_frame_info_base): Update.
	(print_frame_info_base, frame_info): Update.
	* sparc-tdep.c (sparc_init_extra_frame_info): Update.
	(sparc_frame_saved_pc): Update.
	* ada-lang.c (find_printable_frame): Update.
	* breakpoint.c (deprecated_frame_in_dummy): Update.
@
text
@d1 5
@


1.98
log
@	* tuiIO.c (tui_prep_terminal): Save the prompt registered in readline.
	(tui_redisplay_readline): Use the last saved prompt.
	(tui_rl_saved_prompt): New.
@
text
@d1 5
@


1.97
log
@	Fix PR gdb/787
	* tuiWin.c (ACS_LRCORNER, ACS_LLCORNER, ACS_ULCORNER, ACS_URCORNER,
	ACS_HLINE, ACS_VLINE): Define if they don't exist.
@
text
@d1 6
@


1.96
log
@	Fix PR gdb/478
	* tuiIO.c (tui_initialize_io): Use setvbuf since this is portable.
@
text
@d3 6
@


1.95
log
@2002-10-02  Elena Zannoni  <ezannoni@@redhat.com>

        * inferior.h (registers_info, stepi_command, nexti_command,
        continue_command, interrupt_target_command): Export from infcmd.c.
        * frame.h (args_info, selected_frame_level_changed_hook,
        return_command): Export from stack.c.
        * v850ice.c (stepi_command, nexti_command, continue_command): use
        prototypes from inferior.h.
        * tracepoint.c (registers_info, args_info, locals_info): Use
        prototypes from frame.h and inferior.h.
        * Makefile.in (mi-main.o): Add dependency on frame.h.

2002-10-02  Elena Zannoni  <ezannoni@@redhat.com>

        * mi-main.c (mi_cmd_exec_return): Don't use
        return_command_wrapper, use return_command instead.
        (mi_cmd_exec_interrupt): Don't use
        interrupt_target_command_wrapper, use interrupt_target_command
        instead.
        (return_command_wrapper, interrupt_target_command_wrapper):
        Delete.
        Include frame.h.

2002-10-02  Elena Zannoni  <ezannoni@@redhat.com>

        * tui-hooks.c (selected_frame_level_changed_hook): Use the one
        exported from frame.h.
@
text
@d1 5
@


1.95.2.1
log
@Merge drow-cplus-branch to:
  cvs rtag -D 2003-12-14 00:00:00 UTC drow-cplus-merge-20031214 gdb+dejagnu
@
text
@a0 177
2003-09-27  Andrew Cagney  <cagney@@redhat.com>

	* tuiRegs.c: Rename REGISTER_RAW_SIZE to
	DEPRECATED_REGISTER_RAW_SIZE.

2003-09-13  Andrew Cagney  <cagney@@redhat.com>

	* tui.h (struct ui_file): Add opaque declaration.

2003-08-04  Daniel Jacobowitz  <drow@@mvista.com>

	* tui-interp.c: Include "cli-out.h".
	(tui_resume): Update tui_old_uiout's stream to gdb_stdout.

2003-07-24  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui.c (tui_rl_other_window): New function to switch the TUI active
	window and give focus to a next window.
	(tui_initialize_readline): Bind it to c-x o.
	(tui_rl_next_keymap): Activate TUI mode when entering SingleKey mode.

2003-07-23  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui.c (tui_enable): Call tuiRefreshAll to make sure the window
	is accurate.

2003-07-23  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui-interp.c (tui_resume): Enable tui when we expected it.
	(tui_suspend): Remember in which TUI mode we are.
	(_initialize_tui_interp): Use the tui interpreter even when no
	other interpreter was set and define in which TUI mode to start.

2003-06-28  Daniel Jacobowitz  <drow@@mvista.com>

	* tui-out.c (tui_ui_out_impl): Add NULL for redirect member.

2003-06-22  Daniel Jacobowitz  <drow@@mvista.com>

	* tui-hooks.c: Update include order.
	* tui.c: Likewise.
	* tuiCommand.c: Likewise.
	* tuiData.c: Likewise.
	* tuiDataWin.c: Likewise.
	* tuiDisassem.c: Likewise.
	* tuiGeneralWin.c: Likewise.
	* tuiIO.c: Likewise.
	* tuiLayout.c: Likewise.
	* tuiRegs.c: Likewise.
	* tuiSource.c: Likewise.
	* tuiSourceWin.c: Likewise.
	* tuiStack.c: Likewise.
	* tuiWin.c: Likewise.

2003-06-12  Andreas Schwab  <schwab@@suse.de>

	* tuiSource.c (tuiVerticalSourceScroll): Use get_frame_pc.
	* tuiSourceWin.c (tuiHorizontalSourceScroll): Likewise.
	* tuiStack.c (tui_get_function_from_frame): Likewise.
	(tuiShowFrameInfo): Likewise.
	* tuiWin.c (_makeVisibleWithNewHeight): Likewise.
	* tui-hooks.c (tui_selected_frame_level_changed_hook): Likewise.
	* tuiDisassem.c (tuiVerticalDisassemScroll): Likewise.
	Include "disasm.h".

2003-05-08  Andrew Cagney  <cagney@@redhat.com>

	* tuiRegs.c: Use MAX_REGISTER_SIZE instead of
	MAX_REGISTER_RAW_SIZE.

2003-05-03  Andrew Cagney  <cagney@@redhat.com>

	* tuiDisassem.c (tui_disassemble): Call gdb_print_insn, instead of
	TARGET_PRINT_INSN.  Do not initialize a disassemble_info object.

2003-04-30  Andrew Cagney  <cagney@@redhat.com>

	* tuiDisassem.c (tui_disassemble): Use
	"deprecated_tm_print_insn_info" instead of TARGET_PRINT_INSN_INFO,
	add comment.

2003-03-14  Andrew Cagney  <cagney@@redhat.com>

	* tuiRegs.c (_tuiGetRegisterRawValue): Use frame_read_register,
	instead of get_saved_register.

2003-03-13  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui-out.c (tui_out_data): Fix typedef.

2003-03-08  Andrew Cagney  <cagney@@redhat.com>

	* tui-out.c: Update copyright.
	(tui_out_data): Define typedef.  Use instead of ui_out_data.

2003-02-14  Andrew Cagney  <ac131313@@redhat.com>

	* tui.c (tui_enable, tui_disable): Don't modify tui_version.
	(tui_is_window_visible, tui_get_command_dimension): Test
	tui_active instead of tui_version.
	* tuiData.h (tui_version): Delete declaration.
	* tui-hooks.c (tui_init_hook, tui_event_loop): Delete function,
	moved to "tui-interp.c".
	(tui_exit, tui_command_loop): Ditto.
	(_initialize_tui): Don't initialize init_ui_hook.  Initialize
	target_new_objfile_hook.
	* tui-interp.c: New file.

2003-02-12  Andrew Cagney  <ac131313@@redhat.com>

	* tuiIO.c (tui_prep_terminal): Add one notused parameter.
	* tui.c (tui_rl_switch_mode): Add two notused parameters.
	(tui_rl_change_windows, tui_rl_next_keymap): Ditto.
	(tui_rl_delete_other_windows): Ditto.
	(tui_rl_change_windows, tui_rl_delete_other_windows): Update
	calls.

2002-12-08  Elena Zannoni  <ezannoni@@redhat.com>

       Import of readline 4.3.
       Fix PR gdb/675
       * tuiWin.c: Include readline/readline.h.
       (tui_update_gdb_sizes): Use accessor function rl_get_screen_size.
       (tuiResizeAll): Ditto.

2002-12-06  Elena Zannoni  <ezannoni@@redhat.com>

	* tuiStack.c (tuiShowFrameInfo): Fix typo.

2002-11-29  Andrew Cagney  <ac131313@@redhat.com>

	* tui/tui-hooks.c: Update to use deprecated_selected_frame.
	* tui/tui.c, tui/tuiDisassem.c, tui/tuiRegs.c: Ditto.
	* tui/tuiSource.c, tui/tuiSourceWin.c, tui/tuiWin.c: Ditto.

2002-11-28  Andrew Cagney  <ac131313@@redhat.com>

	* tuiStack.c (tuiShowFrameInfo): Use find_frame_sal instead of
	find_pc_line.

2002-11-23  Andrew Cagney  <ac131313@@redhat.com>

	* tuiStack.c (tuiShowFrameInfo): Use get_frame_type instead of
	deprecated_frame_in_dummy.  Fix coding style.

2002-11-21  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui-hooks.c (tui_init_hook): Don't enable the TUI if a specific
	interpreter is installed.

2002-11-18  Andrew Cagney  <ac131313@@redhat.com>

	* tuiStack.c (tuiShowFrameInfo): Use get_frame_type instead of
	signal_handler_caller.
	
2002-11-10  Andrew Cagney  <ac131313@@redhat.com>

	* tuiStack.c (tuiShowFrameInfo): Replace frame_in_dummy with
	deprecated_frame_in_dummy.

2002-10-26  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiIO.c (tui_prep_terminal): Save the prompt registered in readline.
	(tui_redisplay_readline): Use the last saved prompt.
	(tui_rl_saved_prompt): New.

2002-10-25  Stephane Carrez  <stcarrez@@nerim.fr>

	Fix PR gdb/787
	* tuiWin.c (ACS_LRCORNER, ACS_LLCORNER, ACS_ULCORNER, ACS_URCORNER,
	ACS_HLINE, ACS_VLINE): Define if they don't exist.

2002-10-25  Stephane Carrez  <stcarrez@@nerim.fr>

	Fix PR gdb/478
	* tuiIO.c (tui_initialize_io): Use setvbuf since this is portable.

@


1.95.2.2
log
@Merge mainline to branch.  GDB is broken until I update cp-names.y.
@
text
@@


1.94
log
@2002-09-29  Elena Zannoni  <ezannoni@@redhat.com>

	* tui.c (tui_show_source): Don't access current_source_symtab, use
	accessor function instead.  Include source.h and symtab.h
	* tuiDisassem.c (tuiShowDisassemAndUpdateSource,
	tuiVerticalDisassemScroll): Use accessor functions for current
	source line and symtab.  Include source.h.
	* tuiLayout.c (_extractDisplayStartAddr): Use accessor functions
	for current source line and symtab.  Include source.h.
	* tuiWin.c (_makeVisibleWithNewHeight): Ditto.
	* tuiSourceWin.c (tuiUpdateSourceWindowAsIs,
	tuiHorizontalSourceScroll): Ditto.
	* tuiSource.c (tuiVerticalSourceScroll): Ditto.
@
text
@d1 5
@


1.93
log
@	* tui.c (tui_rl_switch_mode): Remove unecessary TUI switch printfs.
	(tui_initialize_readline): Allow to use space to leave SingleKey
	to enter one gdb command.
	(tui_enable): Restore the TUI keymap when we are back to TUI.
	(tui_disable): Restore normal keymap when leaving TUI.
	* tuiIO.c (tui_redisplay_readline): Restore the SingleKey mode
	when the buffer becomes empty and we are in tui_one_command_mode.
@
text
@d1 14
@


1.93.2.1
log
@Merge with mainline; merge tag carlton_dictionary-20021011-merge.
@
text
@a0 19
2002-10-02  Elena Zannoni  <ezannoni@@redhat.com>

	* tui-hooks.c (selected_frame_level_changed_hook): Use the one
	exported from frame.h.

2002-09-29  Elena Zannoni  <ezannoni@@redhat.com>

	* tui.c (tui_show_source): Don't access current_source_symtab, use
	accessor function instead.  Include source.h and symtab.h
	* tuiDisassem.c (tuiShowDisassemAndUpdateSource,
	tuiVerticalDisassemScroll): Use accessor functions for current
	source line and symtab.  Include source.h.
	* tuiLayout.c (_extractDisplayStartAddr): Use accessor functions
	for current source line and symtab.  Include source.h.
	* tuiWin.c (_makeVisibleWithNewHeight): Ditto.
	* tuiSourceWin.c (tuiUpdateSourceWindowAsIs,
	tuiHorizontalSourceScroll): Ditto.
	* tuiSource.c (tuiVerticalSourceScroll): Ditto.

@


1.93.2.2
log
@2002-11-15  David Carlton  <carlton@@math.stanford.edu>

	* Merge from mainline; tag is carlton_dictionary-20021115-merge.
@
text
@a0 22
2002-11-10  Andrew Cagney  <ac131313@@redhat.com>

	* tuiStack.c (tuiShowFrameInfo): Replace frame_in_dummy with
	deprecated_frame_in_dummy.

2002-10-26  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiIO.c (tui_prep_terminal): Save the prompt registered in readline.
	(tui_redisplay_readline): Use the last saved prompt.
	(tui_rl_saved_prompt): New.

2002-10-25  Stephane Carrez  <stcarrez@@nerim.fr>

	Fix PR gdb/787
	* tuiWin.c (ACS_LRCORNER, ACS_LLCORNER, ACS_ULCORNER, ACS_URCORNER,
	ACS_HLINE, ACS_VLINE): Define if they don't exist.

2002-10-25  Stephane Carrez  <stcarrez@@nerim.fr>

	Fix PR gdb/478
	* tuiIO.c (tui_initialize_io): Use setvbuf since this is portable.

@


1.93.2.3
log
@2002-12-23  David Carlton  <carlton@@math.stanford.edu>

	* Merge from mainline; tag is carlton_dictionary-20021223-merge.
@
text
@a0 38
2002-12-08  Elena Zannoni  <ezannoni@@redhat.com>

       Import of readline 4.3.
       Fix PR gdb/675
       * tuiWin.c: Include readline/readline.h.
       (tui_update_gdb_sizes): Use accessor function rl_get_screen_size.
       (tuiResizeAll): Ditto.

2002-12-06  Elena Zannoni  <ezannoni@@redhat.com>

	* tuiStack.c (tuiShowFrameInfo): Fix typo.

2002-11-29  Andrew Cagney  <ac131313@@redhat.com>

	* tui/tui-hooks.c: Update to use deprecated_selected_frame.
	* tui/tui.c, tui/tuiDisassem.c, tui/tuiRegs.c: Ditto.
	* tui/tuiSource.c, tui/tuiSourceWin.c, tui/tuiWin.c: Ditto.

2002-11-28  Andrew Cagney  <ac131313@@redhat.com>

	* tuiStack.c (tuiShowFrameInfo): Use find_frame_sal instead of
	find_pc_line.

2002-11-23  Andrew Cagney  <ac131313@@redhat.com>

	* tuiStack.c (tuiShowFrameInfo): Use get_frame_type instead of
	deprecated_frame_in_dummy.  Fix coding style.

2002-11-21  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui-hooks.c (tui_init_hook): Don't enable the TUI if a specific
	interpreter is installed.

2002-11-18  Andrew Cagney  <ac131313@@redhat.com>

	* tuiStack.c (tuiShowFrameInfo): Use get_frame_type instead of
	signal_handler_caller.
	
@


1.93.2.4
log
@2003-03-05  David Carlton  <carlton@@math.stanford.edu>

	* Merge with mainline.  Tag is carlton_dictionary-20030305-merge.
@
text
@a0 22
2003-02-14  Andrew Cagney  <ac131313@@redhat.com>

	* tui.c (tui_enable, tui_disable): Don't modify tui_version.
	(tui_is_window_visible, tui_get_command_dimension): Test
	tui_active instead of tui_version.
	* tuiData.h (tui_version): Delete declaration.
	* tui-hooks.c (tui_init_hook, tui_event_loop): Delete function,
	moved to "tui-interp.c".
	(tui_exit, tui_command_loop): Ditto.
	(_initialize_tui): Don't initialize init_ui_hook.  Initialize
	target_new_objfile_hook.
	* tui-interp.c: New file.

2003-02-12  Andrew Cagney  <ac131313@@redhat.com>

	* tuiIO.c (tui_prep_terminal): Add one notused parameter.
	* tui.c (tui_rl_switch_mode): Add two notused parameters.
	(tui_rl_change_windows, tui_rl_next_keymap): Ditto.
	(tui_rl_delete_other_windows): Ditto.
	(tui_rl_change_windows, tui_rl_delete_other_windows): Update
	calls.

@


1.93.2.5
log
@2003-04-16  David Carlton  <carlton@@bactrian.org>

	* Merge with mainline; tag is carlton_dictionary-20030416-merge.
@
text
@a0 14
2003-03-14  Andrew Cagney  <cagney@@redhat.com>

	* tuiRegs.c (_tuiGetRegisterRawValue): Use frame_read_register,
	instead of get_saved_register.

2003-03-13  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui-out.c (tui_out_data): Fix typedef.

2003-03-08  Andrew Cagney  <cagney@@redhat.com>

	* tui-out.c: Update copyright.
	(tui_out_data): Define typedef.  Use instead of ui_out_data.

@


1.93.2.6
log
@2003-04-30  David Carlton  <carlton@@bactrian.org>

	* cp-namespace.c (get_namespace_objfile): Copy the namespace
	objfile's name.

	* block.h (ALL_BLOCK_SYMBOLS): Move here from dictionary.h.
	* dictionary.c: Sync up with mainline version I just posted.
	Specifically, update some commments, and:
	(dict_create_hashed): Fiddle with nsyms updating.
	(dict_create_linear): Ditto.
	(dict_lookup): Delete.
	(iterator_next_hashed): Delete FIXME comment.
	(iter_name_first_hashed): Replace 'sym' by 'sym != NULL'.
	(iter_name_next_hashed): Replate 'next' by 'next != NULL'.
	* dictionary.h: Sync up with mainline version I just posted: add
	inclusion guards, delete declaration of dict_lookup, delete
	ALL_BLOCK_SYMBOLs.

	* Merge with mainline; tag is carlton_dictionary-20030430-merge.
@
text
@a0 6
2003-04-30  Andrew Cagney  <cagney@@redhat.com>

	* tuiDisassem.c (tui_disassemble): Use
	"deprecated_tm_print_insn_info" instead of TARGET_PRINT_INSN_INFO,
	add comment.

@


1.93.2.7
log
@2003-05-23  David Carlton  <carlton@@bactrian.org>

	* Merge with mainline; tag is carlton_dictionary-20030523-merge.
@
text
@a0 10
2003-05-08  Andrew Cagney  <cagney@@redhat.com>

	* tuiRegs.c: Use MAX_REGISTER_SIZE instead of
	MAX_REGISTER_RAW_SIZE.

2003-05-03  Andrew Cagney  <cagney@@redhat.com>

	* tuiDisassem.c (tui_disassemble): Call gdb_print_insn, instead of
	TARGET_PRINT_INSN.  Do not initialize a disassemble_info object.

@


1.93.2.8
log
@2003-06-27  David Carlton  <carlton@@kealia.com>

	* Merge with mainline; tag is carlton_dictionary-20030627-merge.
@
text
@a0 28
2003-06-22  Daniel Jacobowitz  <drow@@mvista.com>

	* tui-hooks.c: Update include order.
	* tui.c: Likewise.
	* tuiCommand.c: Likewise.
	* tuiData.c: Likewise.
	* tuiDataWin.c: Likewise.
	* tuiDisassem.c: Likewise.
	* tuiGeneralWin.c: Likewise.
	* tuiIO.c: Likewise.
	* tuiLayout.c: Likewise.
	* tuiRegs.c: Likewise.
	* tuiSource.c: Likewise.
	* tuiSourceWin.c: Likewise.
	* tuiStack.c: Likewise.
	* tuiWin.c: Likewise.

2003-06-12  Andreas Schwab  <schwab@@suse.de>

	* tuiSource.c (tuiVerticalSourceScroll): Use get_frame_pc.
	* tuiSourceWin.c (tuiHorizontalSourceScroll): Likewise.
	* tuiStack.c (tui_get_function_from_frame): Likewise.
	(tuiShowFrameInfo): Likewise.
	* tuiWin.c (_makeVisibleWithNewHeight): Likewise.
	* tui-hooks.c (tui_selected_frame_level_changed_hook): Likewise.
	* tuiDisassem.c (tuiVerticalDisassemScroll): Likewise.
	Include "disasm.h".

@


1.93.2.9
log
@2003-08-05  David Carlton  <carlton@@kealia.com>

	* configure.in (build_warnings): Delete -Wformat-nonliteral.
	* configure (build_warnings): Ditto.

	* Merge with mainline; tag is carlton_dictionary-20030805-merge.
@
text
@a0 28
2003-08-04  Daniel Jacobowitz  <drow@@mvista.com>

	* tui-interp.c: Include "cli-out.h".
	(tui_resume): Update tui_old_uiout's stream to gdb_stdout.

2003-07-24  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui.c (tui_rl_other_window): New function to switch the TUI active
	window and give focus to a next window.
	(tui_initialize_readline): Bind it to c-x o.
	(tui_rl_next_keymap): Activate TUI mode when entering SingleKey mode.

2003-07-23  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui.c (tui_enable): Call tuiRefreshAll to make sure the window
	is accurate.

2003-07-23  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui-interp.c (tui_resume): Enable tui when we expected it.
	(tui_suspend): Remember in which TUI mode we are.
	(_initialize_tui_interp): Use the tui interpreter even when no
	other interpreter was set and define in which TUI mode to start.

2003-06-28  Daniel Jacobowitz  <drow@@mvista.com>

	* tui-out.c (tui_ui_out_impl): Add NULL for redirect member.

@


1.93.2.10
log
@2003-09-17  David Carlton  <carlton@@kealia.com>

	* Merge with mainline; tag is carlton_dictionary-20030917-merge.
@
text
@a0 4
2003-09-13  Andrew Cagney  <cagney@@redhat.com>

	* tui.h (struct ui_file): Add opaque declaration.

@


1.93.2.11
log
@2003-11-11  David Carlton  <carlton@@kealia.com>

	* Merge with mainline; tag is carlton-dictionary-20031111-merge.
@
text
@a0 5
2003-09-27  Andrew Cagney  <cagney@@redhat.com>

	* tuiRegs.c: Rename REGISTER_RAW_SIZE to
	DEPRECATED_REGISTER_RAW_SIZE.

@


1.93.2.12
log
@2004-01-26  David Carlton  <carlton@@kealia.com>

	* Merge with mainline; tag is carlton_dictionary-20040126-merge.
@
text
@@


1.92
log
@	* tuiIO.c (tui_setup_io): rl_already_prompted must be cleared
	when leaving TUI mode so that gdb prompt is displayed.
@
text
@d3 10
@


1.91
log
@	* tuiStack.c (tui_make_status_line): Make sure the local buffer
	is large enough to hold the complete line.
@
text
@d3 5
@


1.90
log
@	* tui-hooks.c (tui_event_loop): New function.
	(tui_command_loop): New function to override gdb loop and make sure
	uiout is set according to TUI mode.
	(tui_command_loop): Install the specific TUI command hook.
	* tuiIO.c (tui_initialize_io): Initialize tui_old_uiout.
	(tui_uiout, tui_old_uiout): Make public.
	* tuiIO.h (tui_uiout, tui_old_uiout): Declare.
@
text
@d1 5
@


1.89
log
@	* tuiIO.c (tui_putc): New function to print one character.
	(printable_part): New function from readline/complete.c.
	(PUTX): New macro, likewise.
	(print_filename): New function, likewise.
	(get_y_or_n): New function, likewise and adapted for TUI.
	(tui_rl_display_match_list): New function from readline/complete.c
	and writes on TUI command window.
	(tui_setup_io): Install or remove the readline hook
	rl_completion_display_matches_hook so that completion is written
	directly in TUI command window instead of in the TUI pipe.
	(tui_initialize_io): Use #ifdef TUI_USE_PIPE_FOR_READLINE for the
	TUI redirection pipe.
	(tui_getc): Likewise for call to tui_readline_output.
	(tui_readline_output): Likewise for function.
	* tui.c (tui_rl_startup_hook): Always take care of gdb prompt.
@
text
@d1 10
@


1.89.2.1
log
@	* tui-hooks.c (tui_event_loop): New function.
	(tui_command_loop): New function to override gdb loop and make sure
	uiout is set according to TUI mode.
	(tui_command_loop): Install the specific TUI command hook.
	* tuiIO.c (tui_initialize_io): Initialize tui_old_uiout.
	(tui_uiout, tui_old_uiout): Make public.
	* tuiIO.h (tui_uiout, tui_old_uiout): Declare.
@
text
@a0 10
2002-09-10  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui-hooks.c (tui_event_loop): New function.
	(tui_command_loop): New function to override gdb loop and make sure
	uiout is set according to TUI mode.
	(tui_command_loop): Install the specific TUI command hook.
	* tuiIO.c (tui_initialize_io): Initialize tui_old_uiout.
	(tui_uiout, tui_old_uiout): Make public.
	* tuiIO.h (tui_uiout, tui_old_uiout): Declare.

@


1.89.2.2
log
@	* tuiStack.c (tui_make_status_line): Make sure the local buffer
	is large enough to hold the complete line.
@
text
@a0 5
2002-09-13  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiStack.c (tui_make_status_line): Make sure the local buffer
	is large enough to hold the complete line.

@


1.89.2.3
log
@	* tuiIO.c (tui_setup_io): rl_already_prompted must be cleared
	when leaving TUI mode so that gdb prompt is displayed.
@
text
@a2 5
	* tuiIO.c (tui_setup_io): rl_already_prompted must be cleared
	when leaving TUI mode so that gdb prompt is displayed.

2002-09-13  Stephane Carrez  <stcarrez@@nerim.fr>

@


1.89.2.4
log
@	* tui.c (tui_rl_switch_mode): Remove unecessary TUI switch printfs.
	(tui_initialize_readline): Allow to use space to leave SingleKey
	to enter one gdb command.
	(tui_enable): Restore the TUI keymap when we are back to TUI.
	(tui_disable): Restore normal keymap when leaving TUI.
	* tuiIO.c (tui_redisplay_readline): Restore the SingleKey mode
	when the buffer becomes empty and we are in tui_one_command_mode.
@
text
@a2 10
	* tui.c (tui_rl_switch_mode): Remove unecessary TUI switch printfs.
	(tui_initialize_readline): Allow to use space to leave SingleKey
	to enter one gdb command.
	(tui_enable): Restore the TUI keymap when we are back to TUI.
	(tui_disable): Restore normal keymap when leaving TUI.
	* tuiIO.c (tui_redisplay_readline): Restore the SingleKey mode
	when the buffer becomes empty and we are in tui_one_command_mode.

2002-09-13  Stephane Carrez  <stcarrez@@nerim.fr>

@


1.89.2.5
log
@	Fix PR gdb/478
	* tuiIO.c (tui_initialize_io): Use setvbuf since this is portable.
@
text
@a0 5
2002-10-25  Stephane Carrez  <stcarrez@@nerim.fr>

	Fix PR gdb/478
	* tuiIO.c (tui_initialize_io): Use setvbuf since this is portable.

@


1.89.2.6
log
@	Fix PR gdb/787
	* tuiWin.c (ACS_LRCORNER, ACS_LLCORNER, ACS_ULCORNER, ACS_URCORNER,
	ACS_HLINE, ACS_VLINE): Define if they don't exist.
@
text
@a2 6
	Fix PR gdb/787
	* tuiWin.c (ACS_LRCORNER, ACS_LLCORNER, ACS_ULCORNER, ACS_URCORNER,
	ACS_HLINE, ACS_VLINE): Define if they don't exist.

2002-10-25  Stephane Carrez  <stcarrez@@nerim.fr>

@


1.89.2.7
log
@	* tuiIO.c (tui_prep_terminal): Save the prompt registered in readline.
	(tui_redisplay_readline): Use the last saved prompt.
	(tui_rl_saved_prompt): New.
@
text
@a0 6
2002-10-26  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiIO.c (tui_prep_terminal): Save the prompt registered in readline.
	(tui_redisplay_readline): Use the last saved prompt.
	(tui_rl_saved_prompt): New.

@


1.89.2.8
log
@	* tui-hooks.c (tui_init_hook): Don't enable the TUI if a specific
	interpreter is installed.
@
text
@a0 5
2002-11-21  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui-hooks.c (tui_init_hook): Don't enable the TUI if a specific
	interpreter is installed.

d43 1
a43 1
	(tui_init_hook): Install the specific TUI command hook.
@


1.88
log
@	* tuiWin.c (_newHeightOk): Fix compilation warnings.
@
text
@d1 18
@


1.87
log
@	* tuiWin.c (_tuiAllWindowsInfo): Don't crash if the window
	is not displayed.
@
text
@d1 4
@


1.86
log
@	* tui-out.c (tui_out_new): Clear start_of_line.
	* tuiSource.c (tuiVerticalSourceScroll): Use print_source_lines
	to update the current source line.
@
text
@d3 5
@


1.85
log
@	* tui-hooks.c (tui_detach_hook): New hook to know when a process dies.
	(tui_install_hooks): Install it.
	(tui_remove_hooks): Remove it.
@
text
@d3 6
@


1.84
log
@	* tuiData.h (FILE_PREFIX): Don't define.
	(blankStr, locationStr, breakStr): Don't declare.
	(breakLocationStr, nullStr, historyLimit, setHistoryLimitTo): Likewise.
	(displayableWinContentOf, displayableWinContentAt): Likewise.
	(winElementHeight, winByName, freeAllWindows): Likewise.

	* tuiData.c (blankStr, locationStr, breakStr): Remove.
	(breakLocationStr, nullStr, historyLimit, setHistoryLimitTo): Remove.
	(displayableWinContentOf, displayableWinContentAt): Remove.
	(winElementHeight, winByName, freeAllWindows): Remove.
@
text
@d3 6
@


1.83
log
@	* tuiStack.c (tui_make_status_line): New function to create the
	status line.
	(tuiShowLocatorContent): Use it instead of displayableWinContentAt.
	* tuiData.h (PROC_PREFIX): Use "In:" to reduce length of prefix.
	(PC_PREFIX): Use upper case.
	(SINGLE_KEY, MIN_LINE_WIDTH, MIN_PROC_WIDTH): Define.
	(MAX_TARGET_WIDTH, MAX_PID_WIDTH): Define.
@
text
@d3 13
@


1.82
log
@	* tuiSourceWin.h (tuiUpdateAllExecInfos): Don't declare.
	(tuiClearAllExecInfosContent): Likewise.
	(tuiEraseAllExecInfosContent): Ditto.
	(tuiUpdateSourceWindowsFromLocator): Ditto.
	* tuiSourceWin.c (tuiUpdateAllExecInfos): Remove.
	* tui.h (tui_vCheckDataValues): Don't declare.
	(tui_vStartNewLines, tui_vAllSetHasBreakAt): Likewise.
	(tui_vUpdateLocatorFilename, tui_vUpdateSourceWindowsWithAddr): Ditto.
	(tui_vShowFrameInfo): Ditto.
@
text
@d1 10
@


1.81
log
@2002-08-31  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui.c (tui_commands): Table of single key commands.
	(tui_rl_command_key): New function to execute gdb command.
	(tui_rl_command_mode): New function to temporarily leave SingleKey.
	(tui_rl_next_keymap): New function to enter/leave the SingleKey mode.
	(tui_rl_startup_hook): New function to avoid prompt display by
	readline functions.
	(tui_set_key_mode): New function to set the key mode and install
	the readline keymap.
	(tui_initialize_readline): Create TUI SingleKey readline map.
	(tui_enable): Install rl_startup_hook.
	(tui_disable): Remove it.
	* tui.h (enum tui_key_mode): Declare.
	(tui_set_key_mode, tui_current_key_mode): Declare.
	* tuiIO.c (tui_redisplay_readline): Don't display the prompt in
	SingleKey mode.
	* tuiIO.h (tui_redisplay_readline): Declare.
@
text
@d3 12
@


1.80
log
@	* tuiSourceWin.c (tuiSetIsExecPointAt): Redraw the previous and
	current line.
@
text
@d3 19
@


1.79
log
@	* tuiSource.c (tuiSetSourceContent): Remove old breakpoint code.
	(_hasBreak): Remove.
	(tuiShowSource): Fix comment indentation.
	(tuiSourceIsDisplayed): Likewise.
	(tuiVerticalSourceScroll): Likewise.
@
text
@d3 5
@


1.78
log
@	* tuiSourceWin.h (tui_update_all_breakpoint_info): Declare.
	(tui_update_breakpoint_info): Declare.
	(tuiSetHasBreakAt, tuiAllSetHasBreakAt): Remove.

	* tuiSourceWin.c (tuiUpdateSourceWindowAsIs): Update breakpoint
	information using tui_update_breakpoint_info.
	(tui_update_all_breakpoint_info): New function to refresh all
	execution windows.
	(tui_update_breakpoint_info): New function to recompute the status
	of exec info window from breakpoints.
	(tuiSetHasBreakAt, tuiAllSetHasBreakAt): Remove.
	(tuiSetExecInfoContent): Use the exec info flags computed by
	tui_update_breakpoint_info to display a short status about breakpoints.

	* tuiData.h (TuiExecInfoContent): New for exec info string.
	(TuiWhichElement): Use it.
	(TUI_BP_ENABLED, TUI_BP_DISABLED, TUI_BP_HIT): New defines.
	(TUI_BP_CONDITIONAL, TUI_BP_HARDWARE): New defines.
	(TUI_BP_HIT_POS, TUI_BP_BREAK_POS, TUI_EXEC_POS): Likewise.
	(TUI_EXECINFO_SIZE): Likewise.
	* tuiData.c (initContentElement): Clear exec info string.

	* tui-hooks.c (get_breakpoint): Remove.
	(tui_event_create_breakpoint): Call tui_update_all_breakpoint_info.
	(tui_event_delete_breakpoint): Likewise.
	(tui_event_modify_breakpoint): Likewise.
@
text
@d1 8
@


1.77
log
@	* tui.c (tuiGetLowDisassemblyAddress): Moved from here.
	* tuiDisassem.c (tuiGetLowDisassemblyAddress): To here, and use
	tui_find_disassembly_address to find the starting address of
	disassemble window.
@
text
@d1 29
@


1.76
log
@	* tuiDisassem.c (tui_disassemble): New function to disassemble
	several lines in a buffer.
	(tui_find_disassembly_address): New function to search backward
	or forward a disassembly line.
	(tuiSetDisassemContent): Use tui_disassemble to obtain the real
	content and format it in the window.
	(tuiShowDisassemAndUpdateSource): Remove unused locals.
	(tuiVerticalDisassemScroll): Use tui_find_disassembly_address to
	obtain the address to disassemble for the scrolling.
	* tuiDisassem.h (tuiGetBeginAsmAddress): Update.
	* tuiSourceWin.c (tuiUpdateSourceWindowAsIs): Don't pass symtab.
@
text
@d1 7
@


1.75
log
@	* tuiIO.c (CTRL_CHAR): Redefine and use readline 4.3 definition.
@
text
@d3 14
@


1.74
log
@	Fix PR gdb/393:
	* tui.c (tui_disable): Update gdb's knowledge of its terminal
	using target_terminal_save_ours.
	(tui_enable): Likewise.
@
text
@d1 4
@


1.73
log
@	* tui.c (tui_rl_switch_mode): Renames tui_switch_mode.
	(tui_rl_change_windows): Renames tui_change_windows.
	(tui_rl_delete_other_windows): Renames tui_delete_other_windows.
	(tui_initialize_readline): Update.
@
text
@d1 7
@


1.72
log
@	* tuiDisassem.c (tuiSetDisassemContent): Use breakpoint_here_p.
	(_hasBreak): Remove.
@
text
@d3 7
@


1.71
log
@	* tuiDisassem.c (tuiGetBeginAsmAddress): Use lookup_minimal_symbol
	to find symbol address.
@
text
@d3 5
@


1.70
log
@	* tuiSourceWin.c (tui_display_main): Rename from tuiDisplayMainFunction
	and use tuiGetBeginAsmAddress.
	* tuiSourceWin.h (tui_display_main): Declare.
	* tui.h (tuiDisplayMainFunction): Remove.
	* tui-hooks.c (tui_new_objfile_hook): Update.
@
text
@d3 5
@


1.69
log
@	* tuiSource.h (m_tuiShowSourceAsIs): Remove macro.
	(tuiShowSourceAsIs): Don't declare.
@
text
@d3 8
@


1.68
log
@	* tui-hooks.c (tui_selected_frame_level_changed_hook): Always update
	the frame position.
@
text
@d3 5
@


1.67
log
@	* tuiStack.c (tuiSetLocatorContent): Remove.
	(tuiUpdateLocatorInfoFromFrame): Remove.
	(tui_set_locator_info): Allocate the content buffer if necessary.
	(tui_set_locator_filename): Call tui_set_locator_info directly.
	(tuiShowFrameInfo): Likewise and use find_pc_line instead of
	find_pc_symtab.
@
text
@d3 5
@


1.66
log
@	* tuiSourceWin.c (tuiDisplayMainFunction): Update to use
	tuiUpdateLocatorFilename.
	* tuiStack.c (tuiSetLocatorInfo): Make it static.
	(tuiSetLocatorContent): Likewise.
	(tuiUpdateLocatorInfoFromFrame): Likewise.
	(tuiSwitchFilename): Remove.
	(tui_set_locator_filename): New function
	(tui_set_locator_info): Rename from tuiSetLocatorInfo to GNU-ify;
	use tui_set_locator_filename to record the filename.
	(tuiUpdateLocatorFilename): Likewise.
	(tuiUpdateLocatorInfoFromFrame): Update.
	(tuiSetLocatorContent): Likewise.
	* tuiStack.h (tuiClearLocatorContent): Don't declare.
	(tuiSetLocatorInfo, tuiSetLocatorContent): Likewise.
	(tuiUpdateLocatorInfoFromFrame, tuiSwitchFilename): Likewise.
@
text
@d3 9
@


1.65
log
@	* tuiSourceWin.c (tuiSetHasBreakAt): Use filename for breakpoint
	comparison; cleanup.
	* tuiSource.c (tuiSetSourceContent): Set window title and filename.
	* tuiGeneralWin.c (boxWin): Print optional title on top of window.
	* tuiData.h (TuiSourceInfo): Add filename member.
	(TuiGenWinInfo): Add title member.
	* tuiData.c (initGenericPart): Clear title.
	(freeWindow): Free title and filename; remove unused locals.
	(initWinInfo): Clear filename.
	(tuiDelWindow): Free it; remove unused locals.
@
text
@d3 18
@


1.64
log
@	* tuiStack.h (tuiGetLocatorFilename): Don't declare.
	(tuiUpdateLocatorDisplay): Likewise.
	* tuiStack.c (tuiGetLocatorFilename): Remove.
	(tuiShowFrameInfo): Use tuiSetLocatorContent and tuiShowLocatorContent
	instead of tuiUpdateLocatorDisplay.
	(tuiUpdateLocatorDisplay): Remove.
@
text
@d3 13
@


1.63
log
@	* tuiStack.h (tuiClearLocatorDisplay): Don't declare.
	* tuiStack.c (tuiClearLocatorDisplay): Remove.
	(tuiShowLocatorContent): Use wclrtoeol to clear end of status line.
	(tuiUpdateLocatorDisplay): Don't call tuiClearLocatorDisplay.
@
text
@d3 9
@


1.62
log
@	* tuiStack.c (tui_get_function_from_frame): Rename from
	_getFuncNameFromFrame; use print_address_symbolic to get symbolic
	name of address.
	(tuiUpdateLocatorInfoFromFrame): Update.
@
text
@d3 7
@


1.61
log
@	* tuiRegs.c (tuiDisplayRegistersFrom): Remove unused locals.
	(_tuiRegisterFormat, _tuiSetSpecialRegsContent): Likewise.
	(_tuiSetGeneralAndSpecialRegsContent): Likewise.
	(_tuiSetFloatRegsContent): Likewise.
	(_tuiRegisterName): Return a const char*.
	* tuiData.h (_TuiDataElement): Use const char* for name.
@
text
@d3 7
@


1.60
log
@	* tuiSourceWin.h (tuiEraseAllSourceContent): Don't declare.
	(tuiShowAllExecInfosContent): Likewise.
	* tuiSourceWin.c (tuiEraseAllSourceContent): Remove.
	(tuiShowAllExecInfosContent): Remove.
	(tuiAllocSourceBuffer): Remove unused locals.
@
text
@d3 9
d17 1
a17 1
	
@


1.59
log
@	* tuiStack.c (tui_update_command): Rename _tuiUpdateLocation_command
	to follow other gdb's command names; use execute_command; cleanup.
	(_initialize_tuiStack): Update.
@
text
@d3 8
@


1.58
log
@	* tuiWin.h (tui_update_gdb_sizes): Declare.
@
text
@d3 6
@


1.57
log
@	* tui.c (strcat_to_buf): Use const char* for source item.
	(tui_enable): Update the windows if there is a selected frame.
	* tui.h (strcat_to_buf): Update prototype.
	(strcat_to_buf_with_fmt): Remove.
@
text
@d1 4
@


1.56
log
@	* tuiWin.c (tui_update_gdb_sizes): New function to tell gdb what
	is the size of command window.
	(tuiResizeAll): Call it instead of init_page_info.
	* tui.c (tui_enable): Call it to resize to TUI command window.
	(tui_disable): Likewise for plain screen.
@
text
@d3 7
@


1.55
log
@	* tui.c (tui_enable): Use tuiSetLayout instead of showLayout and
	use tuiShowFrameInfo instead of tuiSetLocatorContent.
	* tuiLayout.h (showLayout): Remove.
	* tuiLayout.c (_showSourceOrDisassemAndCommand): Remove unused locals.
	(_showSourceDisassemCommand): Likewise.
	(showLayout): Make it static.
	(lastLayout): Remove.
@
text
@d3 8
@


1.54
log
@	* tuiSourceWin.c (tui_show_source_line): New function.
	(tuiShowSourceContent): Call it and avoid clearing the window before
	redrawing it.
	(tuiClearAllSourceWinsContent): Remove.
	* tuiSourceWin.h (tuiClearAllSourceWinsContent): Don't declare.
	* tuiWin.h (tuiClearWinFocus, tuiClearWinFocusFrom): Don't declare.
	* tuiWin.c (tuiClearWinFocus, tuiClearWinFocusFrom): Remove.
	(tuiRefreshAll): Don't clear the window.
	(_makeVisibleWithNewHeight): Don't clear locator line.
	(tuiResizeAll): Remove unused locals.
	(_tuiAdjustWinHeights): Likewise.
	(_makeInvisibleAndSetNewHeight): Likewise.
	(_newHeightOk): Likewise.
	* tuiLayout.c (showLayout): Don't clear source windows.
	(tuiSetLayout): Don't clear the window.
	(_initAndMakeWin): Likewise for status line.
	* tuiGeneralWin.c (makeVisible): Don't clear or refresh the window.
	(makeWindow): Likewise.
	(tuiClearWin): Remove.
	* tuiGeneralWin.h (tuiClearWin): Don't declare.
@
text
@d3 10
@


1.53
log
@	* tuiSourceWin.c (tuiSrcWinIsDisplayed): Remove.
	(tuiAsmWinIsDisplayed): Remove.
	(tuiShowAllSourceWinsContent): Remove.
	(tuiUpdateOnEnd): Remove.
	* tuiGeneralWin.c (scrollWinForward): Remove.
	(scrollWinBackward): Remove.
	(_winResize): Don't declare.
	* tui.h (tuiUpdateOnEnd): Don't declare.
	(vcatch_errors, va_catch_errors): Likewise.
	* tuiSourceWin.h (tuiUpdateOnEnd): Likewise.
	(tuiShowAllSourceWinsContent): Likewise.
	* tuiGeneralWin.h (scrollWinForward): Likewise.
	(scrollWinBackward): Likewise.
@
text
@d3 23
@


1.52
log
@	* tuiRegs.c (_tuiRegisterFormat): Use gdbarch_print_registers_info.
@
text
@d3 16
@


1.51
log
@        Fix PR gdb/655
        * tui.c: Disable <termio.h> include.
@
text
@d1 4
@


1.51.2.1
log
@2002-08-27  Elena Zannoni  <ezannoni@@redhat.com>

       Fix PR gdb/675
       * tuiWin.c: Include readline/readline.h. Use accessor function
       rl_get_screen_size.

       * tuiRegs.c (_tuiRegisterFormat): Use DO_REGISTERS_INFO instead of
       do_registers_info.
@
text
@a0 9
2002-08-27  Elena Zannoni  <ezannoni@@redhat.com>

       Fix PR gdb/675
       * tuiWin.c: Include readline/readline.h. Use accessor function
       rl_get_screen_size.

       * tuiRegs.c (_tuiRegisterFormat): Use DO_REGISTERS_INFO instead of
       do_registers_info.

@


1.50
log
@* defs.h (XMALLOC): Define.
* gdb-events.sh (XMALLOC): Delete macro.
* gdb-events.c, gdb-events.h: Regenerate.
* gdbarch.sh (XMALLOC): Delete macro.
* gdbarch.c: Regenerate.
* serial.c (XMALLOC): Delete macro.
* ui-file.c (XMALLOC): Ditto.
* ser-unix.h (XMALLOC): Ditto.
* sh-tdep.c (XMALLOC): Ditto.
* ui-out.c (XMALLOC): Ditto.
* utils.c (XMALLOC): Ditto.
* i386-tdep.c (XMALLOC): Ditto.
* gdb-events.c (XMALLOC): Ditto.
* d10v-tdep.c (XMALLOC): Ditto.
* cli-out.c (XMALLOC): Ditto.

* cli-out.c, d10v-tdep.c, gdb-events.c: Update copyright.
* gdb-events.sh, i386-tdep.c, ser-unix.h, serial.c: Ditto.
* ui-file.c, ui-out.c: Ditto.
@
text
@d1 5
@


1.50.6.1
log
@Merge with kseitz_interps-20020829-merge tag from trunk.
@
text
@a0 230
2002-08-29  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui.c (tuiGetLowDisassemblyAddress): Moved from here.
	* tuiDisassem.c (tuiGetLowDisassemblyAddress): To here, and use
	tui_find_disassembly_address to find the starting address of
	disassemble window.

2002-08-28  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiDisassem.c (tui_disassemble): New function to disassemble
	several lines in a buffer.
	(tui_find_disassembly_address): New function to search backward
	or forward a disassembly line.
	(tuiSetDisassemContent): Use tui_disassemble to obtain the real
	content and format it in the window.
	(tuiShowDisassemAndUpdateSource): Remove unused locals.
	(tuiVerticalDisassemScroll): Use tui_find_disassembly_address to
	obtain the address to disassemble for the scrolling.
	* tuiDisassem.h (tuiGetBeginAsmAddress): Update.
	* tuiSourceWin.c (tuiUpdateSourceWindowAsIs): Don't pass symtab.

2002-08-28  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiIO.c (CTRL_CHAR): Redefine and use readline 4.3 definition.

2002-08-26  Stephane Carrez  <stcarrez@@nerim.fr>

	Fix PR gdb/393:
	* tui.c (tui_disable): Update gdb's knowledge of its terminal
	using target_terminal_save_ours.
	(tui_enable): Likewise.

2002-08-25  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui.c (tui_rl_switch_mode): Renames tui_switch_mode.
	(tui_rl_change_windows): Renames tui_change_windows.
	(tui_rl_delete_other_windows): Renames tui_delete_other_windows.
	(tui_initialize_readline): Update.

2002-08-25  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiDisassem.c (tuiSetDisassemContent): Use breakpoint_here_p.
	(_hasBreak): Remove.

2002-08-25  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiDisassem.c (tuiGetBeginAsmAddress): Use lookup_minimal_symbol
	to find symbol address.

2002-08-25  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiSourceWin.c (tui_display_main): Rename from tuiDisplayMainFunction
	and use tuiGetBeginAsmAddress.
	* tuiSourceWin.h (tui_display_main): Declare.
	* tui.h (tuiDisplayMainFunction): Remove.
	* tui-hooks.c (tui_new_objfile_hook): Update.

2002-08-25  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiSource.h (m_tuiShowSourceAsIs): Remove macro.
	(tuiShowSourceAsIs): Don't declare.

2002-08-25  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui-hooks.c (tui_selected_frame_level_changed_hook): Always update
	the frame position.

2002-08-25  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiStack.c (tuiSetLocatorContent): Remove.
	(tuiUpdateLocatorInfoFromFrame): Remove.
	(tui_set_locator_info): Allocate the content buffer if necessary.
	(tui_set_locator_filename): Call tui_set_locator_info directly.
	(tuiShowFrameInfo): Likewise and use find_pc_line instead of
	find_pc_symtab.

2002-08-25  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiSourceWin.c (tuiDisplayMainFunction): Update to use
	tuiUpdateLocatorFilename.
	* tuiStack.c (tuiSetLocatorInfo): Make it static.
	(tuiSetLocatorContent): Likewise.
	(tuiUpdateLocatorInfoFromFrame): Likewise.
	(tuiSwitchFilename): Remove.
	(tui_set_locator_filename): New function
	(tui_set_locator_info): Rename from tuiSetLocatorInfo to GNU-ify;
	use tui_set_locator_filename to record the filename.
	(tuiUpdateLocatorFilename): Likewise.
	(tuiUpdateLocatorInfoFromFrame): Update.
	(tuiSetLocatorContent): Likewise.
	* tuiStack.h (tuiClearLocatorContent): Don't declare.
	(tuiSetLocatorInfo, tuiSetLocatorContent): Likewise.
	(tuiUpdateLocatorInfoFromFrame, tuiSwitchFilename): Likewise.

2002-08-25  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiSourceWin.c (tuiSetHasBreakAt): Use filename for breakpoint
	comparison; cleanup.
	* tuiSource.c (tuiSetSourceContent): Set window title and filename.
	* tuiGeneralWin.c (boxWin): Print optional title on top of window.
	* tuiData.h (TuiSourceInfo): Add filename member.
	(TuiGenWinInfo): Add title member.
	* tuiData.c (initGenericPart): Clear title.
	(freeWindow): Free title and filename; remove unused locals.
	(initWinInfo): Clear filename.
	(tuiDelWindow): Free it; remove unused locals.

2002-08-25  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiStack.h (tuiGetLocatorFilename): Don't declare.
	(tuiUpdateLocatorDisplay): Likewise.
	* tuiStack.c (tuiGetLocatorFilename): Remove.
	(tuiShowFrameInfo): Use tuiSetLocatorContent and tuiShowLocatorContent
	instead of tuiUpdateLocatorDisplay.
	(tuiUpdateLocatorDisplay): Remove.

2002-08-25  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiStack.h (tuiClearLocatorDisplay): Don't declare.
	* tuiStack.c (tuiClearLocatorDisplay): Remove.
	(tuiShowLocatorContent): Use wclrtoeol to clear end of status line.
	(tuiUpdateLocatorDisplay): Don't call tuiClearLocatorDisplay.

2002-08-25  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiStack.c (tui_get_function_from_frame): Rename from 
	_getFuncNameFromFrame; use print_address_symbolic to get symbolic
	name of address.
	(tuiUpdateLocatorInfoFromFrame): Update.

2002-08-25  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiRegs.c (tuiDisplayRegistersFrom): Remove unused locals.
	(_tuiRegisterFormat, _tuiSetSpecialRegsContent): Likewise.
	(_tuiSetGeneralAndSpecialRegsContent): Likewise.
	(_tuiSetFloatRegsContent): Likewise.
	(_tuiRegisterName): Return a const char*.
	* tuiData.h (_TuiDataElement): Use const char* for name.

2002-08-25  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiSourceWin.h (tuiEraseAllSourceContent): Don't declare.
	(tuiShowAllExecInfosContent): Likewise.
	* tuiSourceWin.c (tuiEraseAllSourceContent): Remove.
	(tuiShowAllExecInfosContent): Remove.
	(tuiAllocSourceBuffer): Remove unused locals.

2002-08-25  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiStack.c (tui_update_command): Rename _tuiUpdateLocation_command
	to follow other gdb's command names; use execute_command; cleanup.
	(_initialize_tuiStack): Update.

2002-08-25  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiWin.h (tui_update_gdb_sizes): Declare.

2002-08-24  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui.c (strcat_to_buf): Use const char* for source item.
	(tui_enable): Update the windows if there is a selected frame.
	* tui.h (strcat_to_buf): Update prototype.
	(strcat_to_buf_with_fmt): Remove.

2002-08-24  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiWin.c (tui_update_gdb_sizes): New function to tell gdb what
	is the size of command window.
	(tuiResizeAll): Call it instead of init_page_info.
	* tui.c (tui_enable): Call it to resize to TUI command window.
	(tui_disable): Likewise for plain screen.

2002-08-24  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui.c (tui_enable): Use tuiSetLayout instead of showLayout and
	use tuiShowFrameInfo instead of tuiSetLocatorContent.
	* tuiLayout.h (showLayout): Remove.
	* tuiLayout.c (_showSourceOrDisassemAndCommand): Remove unused locals.
	(_showSourceDisassemCommand): Likewise.
	(showLayout): Make it static.
	(lastLayout): Remove.

2002-08-24  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiSourceWin.c (tui_show_source_line): New function.
	(tuiShowSourceContent): Call it and avoid clearing the window before
	redrawing it.
	(tuiClearAllSourceWinsContent): Remove.
	* tuiSourceWin.h (tuiClearAllSourceWinsContent): Don't declare.
	* tuiWin.h (tuiClearWinFocus, tuiClearWinFocusFrom): Don't declare.
	* tuiWin.c (tuiClearWinFocus, tuiClearWinFocusFrom): Remove.
	(tuiRefreshAll): Don't clear the window.
	(_makeVisibleWithNewHeight): Don't clear locator line.
	(tuiResizeAll): Remove unused locals.
	(_tuiAdjustWinHeights): Likewise.
	(_makeInvisibleAndSetNewHeight): Likewise.
	(_newHeightOk): Likewise.
	* tuiLayout.c (showLayout): Don't clear source windows.
	(tuiSetLayout): Don't clear the window.
	(_initAndMakeWin): Likewise for status line.
	* tuiGeneralWin.c (makeVisible): Don't clear or refresh the window.
	(makeWindow): Likewise.
	(tuiClearWin): Remove.
	* tuiGeneralWin.h (tuiClearWin): Don't declare.

2002-08-24  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiSourceWin.c (tuiSrcWinIsDisplayed): Remove.
	(tuiAsmWinIsDisplayed): Remove.
	(tuiShowAllSourceWinsContent): Remove.
	(tuiUpdateOnEnd): Remove.
	* tuiGeneralWin.c (scrollWinForward): Remove.
	(scrollWinBackward): Remove.
	(_winResize): Don't declare.
	* tui.h (tuiUpdateOnEnd): Don't declare.
	(vcatch_errors, va_catch_errors): Likewise.
	* tuiSourceWin.h (tuiUpdateOnEnd): Likewise.
	(tuiShowAllSourceWinsContent): Likewise.
	* tuiGeneralWin.h (scrollWinForward): Likewise.
	(scrollWinBackward): Likewise.

2002-08-24  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiRegs.c (_tuiRegisterFormat): Use gdbarch_print_registers_info.

2002-08-18  Daniel Jacobowitz  <drow@@mvista.com>

	Fix PR gdb/655
	* tui.c: Disable <termio.h> include.

@


1.50.6.2
log
@Merge with kseitz_interps-20020930-merge.
@
text
@a0 179
2002-09-29  Elena Zannoni  <ezannoni@@redhat.com>

	* tui.c (tui_show_source): Don't access current_source_symtab, use
	accessor function instead.  Include source.h and symtab.h
	* tuiDisassem.c (tuiShowDisassemAndUpdateSource,
	tuiVerticalDisassemScroll): Use accessor functions for current
	source line and symtab.  Include source.h.
	* tuiLayout.c (_extractDisplayStartAddr): Use accessor functions
	for current source line and symtab.  Include source.h.
	* tuiWin.c (_makeVisibleWithNewHeight): Ditto.
	* tuiSourceWin.c (tuiUpdateSourceWindowAsIs,
	tuiHorizontalSourceScroll): Ditto.
	* tuiSource.c (tuiVerticalSourceScroll): Ditto.

2002-09-13  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui.c (tui_rl_switch_mode): Remove unecessary TUI switch printfs.
	(tui_initialize_readline): Allow to use space to leave SingleKey
	to enter one gdb command.
	(tui_enable): Restore the TUI keymap when we are back to TUI.
	(tui_disable): Restore normal keymap when leaving TUI.
	* tuiIO.c (tui_redisplay_readline): Restore the SingleKey mode
	when the buffer becomes empty and we are in tui_one_command_mode.

2002-09-13  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiIO.c (tui_setup_io): rl_already_prompted must be cleared
	when leaving TUI mode so that gdb prompt is displayed.

2002-09-13  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiStack.c (tui_make_status_line): Make sure the local buffer
	is large enough to hold the complete line.

2002-09-10  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui-hooks.c (tui_event_loop): New function.
	(tui_command_loop): New function to override gdb loop and make sure
	uiout is set according to TUI mode.
	(tui_command_loop): Install the specific TUI command hook.
	* tuiIO.c (tui_initialize_io): Initialize tui_old_uiout.
	(tui_uiout, tui_old_uiout): Make public.
	* tuiIO.h (tui_uiout, tui_old_uiout): Declare.

2002-09-04  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiIO.c (tui_putc): New function to print one character.
	(printable_part): New function from readline/complete.c.
	(PUTX): New macro, likewise.
	(print_filename): New function, likewise.
	(get_y_or_n): New function, likewise and adapted for TUI.
	(tui_rl_display_match_list): New function from readline/complete.c
	and writes on TUI command window.
	(tui_setup_io): Install or remove the readline hook
	rl_completion_display_matches_hook so that completion is written
	directly in TUI command window instead of in the TUI pipe.
	(tui_initialize_io): Use #ifdef TUI_USE_PIPE_FOR_READLINE for the
	TUI redirection pipe.
	(tui_getc): Likewise for call to tui_readline_output.
	(tui_readline_output): Likewise for function.
	* tui.c (tui_rl_startup_hook): Always take care of gdb prompt.

2002-09-02  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiWin.c (_newHeightOk): Fix compilation warnings.

2002-09-01  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiWin.c (_tuiAllWindowsInfo): Don't crash if the window
	is not displayed.

2002-09-01  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui-out.c (tui_out_new): Clear start_of_line.
	* tuiSource.c (tuiVerticalSourceScroll): Use print_source_lines
	to update the current source line.

2002-09-01  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui-hooks.c (tui_detach_hook): New hook to know when a process dies.
	(tui_install_hooks): Install it.
	(tui_remove_hooks): Remove it.

2002-09-01  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiData.h (FILE_PREFIX): Don't define.
	(blankStr, locationStr, breakStr): Don't declare.
	(breakLocationStr, nullStr, historyLimit, setHistoryLimitTo): Likewise.
	(displayableWinContentOf, displayableWinContentAt): Likewise.
	(winElementHeight, winByName, freeAllWindows): Likewise.

	* tuiData.c (blankStr, locationStr, breakStr): Remove.
	(breakLocationStr, nullStr, historyLimit, setHistoryLimitTo): Remove.
	(displayableWinContentOf, displayableWinContentAt): Remove.
	(winElementHeight, winByName, freeAllWindows): Remove.

2002-09-01  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiStack.c (tui_make_status_line): New function to create the
	status line.
	(tuiShowLocatorContent): Use it instead of displayableWinContentAt.
	* tuiData.h (PROC_PREFIX): Use "In:" to reduce length of prefix.
	(PC_PREFIX): Use upper case.
	(SINGLE_KEY, MIN_LINE_WIDTH, MIN_PROC_WIDTH): Define.
	(MAX_TARGET_WIDTH, MAX_PID_WIDTH): Define.

2002-08-31  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiSourceWin.h (tuiUpdateAllExecInfos): Don't declare.
	(tuiClearAllExecInfosContent): Likewise.
	(tuiEraseAllExecInfosContent): Ditto.
	(tuiUpdateSourceWindowsFromLocator): Ditto.
	* tuiSourceWin.c (tuiUpdateAllExecInfos): Remove.
	* tui.h (tui_vCheckDataValues): Don't declare.
	(tui_vStartNewLines, tui_vAllSetHasBreakAt): Likewise.
	(tui_vUpdateLocatorFilename, tui_vUpdateSourceWindowsWithAddr): Ditto.
	(tui_vShowFrameInfo): Ditto.

2002-08-31  Stephane Carrez  <stcarrez@@nerim.fr>

	* tui.c (tui_commands): Table of single key commands.
	(tui_rl_command_key): New function to execute gdb command.
	(tui_rl_command_mode): New function to temporarily leave SingleKey.
	(tui_rl_next_keymap): New function to enter/leave the SingleKey mode.
	(tui_rl_startup_hook): New function to avoid prompt display by
	readline functions.
	(tui_set_key_mode): New function to set the key mode and install
	the readline keymap.
	(tui_initialize_readline): Create TUI SingleKey readline map.
	(tui_enable): Install rl_startup_hook.
	(tui_disable): Remove it.
	* tui.h (enum tui_key_mode): Declare.
	(tui_set_key_mode, tui_current_key_mode): Declare.
	* tuiIO.c (tui_redisplay_readline): Don't display the prompt in
	SingleKey mode.
	* tuiIO.h (tui_redisplay_readline): Declare.

2002-08-31  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiSourceWin.c (tuiSetIsExecPointAt): Redraw the previous and
	current line.

2002-08-31  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiSource.c (tuiSetSourceContent): Remove old breakpoint code.
	(_hasBreak): Remove.
	(tuiShowSource): Fix comment indentation.
	(tuiSourceIsDisplayed): Likewise.
	(tuiVerticalSourceScroll): Likewise.

2002-08-30  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiSourceWin.h (tui_update_all_breakpoint_info): Declare.
	(tui_update_breakpoint_info): Declare.
	(tuiSetHasBreakAt, tuiAllSetHasBreakAt): Remove.

	* tuiSourceWin.c (tuiUpdateSourceWindowAsIs): Update breakpoint
	information using tui_update_breakpoint_info.
	(tui_update_all_breakpoint_info): New function to refresh all
	execution windows.
	(tui_update_breakpoint_info): New function to recompute the status
	of exec info window from breakpoints.
	(tuiSetHasBreakAt, tuiAllSetHasBreakAt): Remove.
	(tuiSetExecInfoContent): Use the exec info flags computed by
	tui_update_breakpoint_info to display a short status about breakpoints.

	* tuiData.h (TuiExecInfoContent): New for exec info string.
	(TuiWhichElement): Use it.
	(TUI_BP_ENABLED, TUI_BP_DISABLED, TUI_BP_HIT): New defines.
	(TUI_BP_CONDITIONAL, TUI_BP_HARDWARE): New defines.
	(TUI_BP_HIT_POS, TUI_BP_BREAK_POS, TUI_EXEC_POS): Likewise.
	(TUI_EXECINFO_SIZE): Likewise.
	* tuiData.c (initContentElement): Clear exec info string.

	* tui-hooks.c (get_breakpoint): Remove.
	(tui_event_create_breakpoint): Call tui_update_all_breakpoint_info.
	(tui_event_delete_breakpoint): Likewise.
	(tui_event_modify_breakpoint): Likewise.

@


1.50.6.3
log
@merge from mainline
@
text
@a0 22
2002-10-26  Stephane Carrez  <stcarrez@@nerim.fr>

	* tuiIO.c (tui_prep_terminal): Save the prompt registered in readline.
	(tui_redisplay_readline): Use the last saved prompt.
	(tui_rl_saved_prompt): New.

2002-10-25  Stephane Carrez  <stcarrez@@nerim.fr>

	Fix PR gdb/787
	* tuiWin.c (ACS_LRCORNER, ACS_LLCORNER, ACS_ULCORNER, ACS_URCORNER,
	ACS_HLINE, ACS_VLINE): Define if they don't exist.

2002-10-25  Stephane Carrez  <stcarrez@@nerim.fr>

	Fix PR gdb/478
	* tuiIO.c (tui_initialize_io): Use setvbuf since this is portable.

2002-10-02  Elena Zannoni  <ezannoni@@redhat.com>

	* tui-hooks.c (selected_frame_level_changed_hook): Use the one
	exported from frame.h.

@


1.49
log
@Add FIXME explaining include problem.
@
text
@d1 4
@


1.49.2.1
log
@2002-08-18  Daniel Jacobowitz  <drow@@mvista.com>

        Fix PR gdb/655
        * tui.c: Disable <termio.h> include.
@
text
@a0 5
2002-08-18  Daniel Jacobowitz  <drow@@mvista.com>

	Fix PR gdb/655
	* tui.c: Disable <termio.h> include.

@


1.48
log
@s/NO_FUNCTION/NULL/
@
text
@d1 25
@


1.47
log
@Add explicit #include of "value.h".
@
text
@d1 4
@


1.46
log
@	* tuiLayout.h (tui_set_layout): Don't declare.
	* tui.h (tui_vAddWinToLayout): Don't declare.
	(tui_vSetLayoutTo): Likewise.
	(tui_set_layout): Declare.
@
text
@d1 5
@


1.45
log
@	The following changes avoid polluting global namespace with the
	`enable' and `disable' identifiers, because some platforms define
	in their system headers symbols with global scope that go by those
	names.

	* breakpoint.h (enum enable_state): Rename from `enum enable'.
	Also rename all the enum members to have the "bp_" prefix.
	(struct breakpoint): Rename the `enable' member to `enable_state'.
	(enum bpdisp): Rename all members to have the "disp_" prefix.

	* breakpoint.c: All users of `enum enable' and `enum bpdisp'
	changed.
	(args_for_catchpoint_enable): Rename the `enable' member to
	`enable_p'.  All users changed.

	* tracepoint.h (enum enable): Remove.
	(struct tracepoint): The member `enabled' is now `int enabled_p'.

	* tracepoint.c: All users of the `enabled' member changed.

	* printcmd.c (struct display): The `status' member is now an int.

	* memattr.h (struct mem_region): Rename the `status' member to
	`enabled_p'.
	(enum enable): Remove.

	* memattr.c: Change all users of the `status' member of struct
	mem_region to use `enabled_p' instead.

	* infcmd.c (run_stack_dummy): Use disp_del instead of del.

	* go32-nat.c: Remove the kludgey work-around for conflicts between
	<dos.h> and "breakpoint.h".
	* tui/tuiSourceWin.c: Use disp_del instead of del.

	* tui/tuiSource.c: Use disp_del instead of del.

	* tui/tuiDisassem.c: Use disp_del instead of del.
@
text
@d1 7
@


1.44
log
@	* tui.c (tui_enable): Remove call to terminal_save_ours().
	(tui_disable): Likewise.
@
text
@d1 8
@


1.43
log
@	* tuiWin.c (_initialize_tuiWin): Use specific tui prefix for
	set/show configuration variables.
	(show_tui_cmd): New function.
	(set_tui_cmd): New function.
@
text
@d1 5
@


1.43.2.1
log
@	* tui.c (tui_enable): Remove call to terminal_save_ours().
	(tui_disable): Likewise.
@
text
@a0 5
2001-07-31  Stephane Carrez  <Stephane.Carrez@@worldnet.fr>

	* tui.c (tui_enable): Remove call to terminal_save_ours().
	(tui_disable): Likewise.

@


1.43.2.2
log
@	The following changes avoid polluting global namespace with the
	`enable' and `disable' identifiers, because some platforms define
	in their system headers symbols with global scope that go by those
	names.

	* breakpoint.h (enum enable_state): Rename from `enum enable'.
	Also rename all the enum members to have the "bp_" prefix.
	(struct breakpoint): Rename the `enable' member to `enable_state'.
	(enum bpdisp): Rename all members to have the "disp_" prefix.

	* breakpoint.c: All users of `enum enable' and `enum bpdisp'
	changed.
	(args_for_catchpoint_enable): Rename the `enable' member to
	`enable_p'.  All users changed.

	* tracepoint.h (enum enable): Remove.
	(struct tracepoint): The member `enabled' is now `int enabled_p'.

	* tracepoint.c: All users of the `enabled' member changed.

	* printcmd.c (struct display): The `status' member is now an int.

	* memattr.h (struct mem_region): Rename the `status' member to
	`enabled_p'.
	(enum enable): Remove.

	* memattr.c: Change all users of the `status' member of struct
	mem_region to use `enabled_p' instead.

	* infcmd.c (run_stack_dummy): Use disp_del instead of del.

	* go32-nat.c: Remove the kludgey work-around for conflicts between
	<dos.h> and "breakpoint.h".

	* tui/tuiSourceWin.c: Use disp_del instead of del.

	* tui/tuiSource.c: Use disp_del instead of del.

	* tui/tuiDisassem.c: Use disp_del instead of del.
@
text
@a0 8
2001-08-02  Eli Zaretskii  <eliz@@is.elta.co.il>

	* tuiSourceWin.c: Use disp_del instead of del.

	* tuiSource.c: Use disp_del instead of del.

	* tuiDisassem.c: Use disp_del instead of del.

@


1.42
log
@	* tui-hooks.c: New file, gdb hooks for tui.
	* tui-out.c: New file, image copied from cli-out.c.
	(tui_field_int): Identify "line" fields and keep track of them.
	(tui_field_string): Likewise for "file".
	(tui_out_new): Use flags = 0 to avoid printing the sources.
@
text
@d1 7
@


1.41
log
@Missed changelog entries for previous 2 commits
@
text
@d1 8
@


1.40
log
@	* tuiIO.c (tui_initialize_io): Install tui_cont_sig signal handler
	if SIGCONT is defined.
	(tui_cont_sig): New function when SIGCONT is defined.
	(tui_setup_io): Save tty setting to restore by SIGCONT.
@
text
@d1 22
@


1.39
log
@	* tui.h (tui_show_assembly): Declare.
	(tui_is_window_visible): Declare.
	* tui.c (tui_show_assembly): New function.
	(tui_is_window_visible): New function.
	(tui_get_command_dimension): New function.
@
text
@d3 7
@


1.38
log
@	* tuiWin.c (tuiRefreshAll): Use clearok to force a refresh.
@
text
@d1 8
@


1.37
log
@	* tui-file.c (tui_file_fputs): Use tui_puts.
@
text
@d3 4
@


1.36
log
@	* tuiStack.c (tuiSetLocatorInfo): Cleanup.
	* tuiStack.h (tuiGetLocatorFilename): Declare.
	* tuiRegs.h (tuiFirstRegElementNoInLine): Declare.
	* tuiData.h (addToSourceWindows): Declare.
@
text
@d3 4
@


1.35
log
@	* tui.c (tui_change_windows): New function.
	(tui_delete_other_windows): New function.
	(tui_initialize_readline): Bind them to C-X 1 and C-X 2.
	(tui_enable): Enable the keypad; call tui_update_variables.
	(strcat_to_buf_with_fmt): Remove.
@
text
@d3 7
@


1.34
log
@        * tuiIO.h: Remove old declarations and add the new ones.
        * tuiIO.c: New management for curses and gdb terminal interactions.
        (tui_tputs): Remove.
        (tuiTermSetup, tuiTermUnsetup): Remove, must use normal curses ops.
        (tuiBufferGetc, tui_vStartNewLines, _updateCommandInfo): Remove.
        (tui_owns_terminal): Remove.
        (tui_redisplay_readline): New function.
        (tui_puts): New function.
        (tui_prep_terminal): New function.
        (tui_deprep_terminal): New function.
        (tui_getc): Rename of tuiGetc, simplify and fix.
        (tui_setup_io): New function.
        (tui_initialize_io): New function.
@
text
@d3 21
@


1.33
log
@	* tuiRegs.c (tuiDisplayRegistersFrom): Call touchwin.
	(_tuiRegisterFormat): Reduce size of format result.
@
text
@d3 16
@


1.32
log
@	* tuiGeneralWin.c (boxWin): Use the tui configuration variables.
	* tuiWin.h: Declare the new variables.
	* tuiWin.c (_initialize_tuiWin): Create TUI configuration variables.
	(tui_update_variables): New function.
	(translate): New function.
	(tui_border_kind_enums, tui_border_mode_enums): New tables.
	(tui_border_mode_translate): New table.
	(tui_border_kind_translate_*): New tables.
	(tui_active_border_mode): New variables.
	(tui_border_*): New variables.
@
text
@d3 5
@


1.31
log
@	* tuiWin.c (_parseScrollingArgs): Fix uninitialized variable.
	(_makeVisibleWithNewHeight): Use TuiLineOrAddress type.

	* tuiStack.c (tuiShowFrameInfo): Use TuiLineOrAddress type.
	(tui_vUpdateLocatorFilename): Remove.
	* tuiStack.h: Update prototypes.

	* tuiSourceWin.c (tuiAddrIsDisplayed): New function.
	(tuiLineIsDisplayed): Split for address and line.
	(tuiUpdateSourceWindow): Use TuiLineOrAddress type.
	(tuiUpdateSourceWindowAsIs): Likewise.
	(tuiUpdateSourceWindowsWithAddr): Likewise.
	(tuiUpdateSourceWindowsWithLine): Likewise.
	(tuiHorizontalSourceScroll): Likewise.
	(tuiSetIsExecPointAt): Likewise.
	(tuiUpdateOnEnd): Likewise.
	* tuiSourceWin.h: Update prototypes.

	* tuiSource.c (tuiVerticalSourceScroll): Use TuiLineOrAddress type.
	(tuiShowSource): Likewise.
	(tuiVerticalSourceScroll): Likewise.
	* tuiSource.h (tuiShowSource): Update prototype.

	* tuiDisassem.c (tuiSetDisassemContent): Use CORE_ADDR for address.
	(tuiShowDisassem): Use TuiLineOrAddress type.
	(tuiShowDisassemAndUpdateSource): Likewise.
	(tuiVerticalDisassemScroll): Likewise.
	(tuiShowDisassemAsIs): Remove.
	* tuiDisassem.h (tuiSetDisassemContent): Update prototype.

	* tuiData.c (initWinInfo): Use CORE_ADDR for address.
	(clearWinDetail): Likewise.
	(displayableWinContentOf): Fix address conversion.
	(tuiNextWin): Fix crash when the window is not yet created.
	(partialWinByName): Likewise.
@
text
@d3 13
@


1.30
log
@	* tuiSourceWin.h: Remove unused declarations.
	* tuiSourceWin.c (tui_vUpdateSourceWindowsWithAddr): Remove.
	(tui_vUpdateSourceWindowsWithLine): Remove.
	(tui_vAllSetHasBreakAt): Remove.

	* tuiLayout.h (tui_set_layout): Declare.
	(tui_vSetLayoutTo): Remove.
	(tui_vAddWinToLayout): Remove.
	* tuiLayout.c (_tuiLayout_command): Call tui_enable() to force TUI.
	(_tuiToggleLayout_command): Remove.
	(_tuiToggleSplitLayout_command): Remove.
	(_tuiLayout_command): Remove.
	(tui_vSetLayoutTo): Remove.
	(tui_vAddWinToLayout): Remove.

	* tuiDataWin.h (tui_vCheckDataValues): Remove.
	* tuiDataWin.c (tui_vCheckDataValues): Remove.
@
text
@d3 38
@


1.29
log
@	* tuiWin.c (tuiStrDup): Remove, replaced by xstrdup.
	(_parseScrollingArgs): Use xstrdup.
	(_tuiScrollForward_command): Call tui_enable() to force TUI mode.
	(_tuiScrollBackward_command): Likewise.
	(_tuiScrollLeft_command): Likewise.
	(_tuiScrollRight_command): Likewise.
	(_tuiSetFocus): Likewise.
	(_tuiSetFocus_command): Likewise.
	(_tuiRefreshAll_command): Likewise.
	(_tuiSetTabWidth_command): Likewise.
	(_tuiSetWinHeight): Likewise.
	(_tuiSetWinHeight_command): Likewise.
	(_tuiXDBsetWinHeight): Likewise.
	(_tui_vSetFocus): Remove.
	(_tui_vSetWinHeight): Remove.
	(_tui_vXDBsetWinHeight): Remove.
@
text
@d1 20
@


1.28
log
@	* tuiCommand.c (tuiDispatchCtrlChar): Fix escape sequences.
	(tuiIncrCommandCharCountBy): Remove.
	(tuiDecrCommandCharCountBy): Remove.
	(tuiSetCommandCharCountTo): Remove.
	(tuiClearCommandCharCount): Remove.
@
text
@d1 19
@


1.27
log
@	* tuiWin.c (_initialize_tuiWin): Always define the tui commands;
	create the tui class help.
	* tuiLayout.c (_initialize_tuiLayout): Always define the tui commands.
	* tuiRegs.c (_initialize_tuiRegs): Likewise.
	* tuiStack.c (_initialize_tuiStack): Likewise.
@
text
@d1 9
@


1.26
log
@	* tuiDisassem.c (tuiVerticalDisassemScroll): Use CORE_ADDR.
	(tuiVerticalDisassemScroll): Likewise.
	(tuiShowDisassemAndUpdateSource): Check for null symtab to
	prevent a crash.
@
text
@d1 8
@


1.25
log
@	* tuiIO.c (_tuiHandleResizeDuringIO): Call tuiRefreshAll.
	(tuiRead, tui_vread): Remove.

	* tui.c (va_catch_errors, tuiDo, tuiDoAndReturnToTop): Remove.
	(vcatch_errors, _tui_vDo): Remove.
	* tui.h (tuiDo, tuiDoAndReturnToTop): Remove.

	* tuiLayout.c (tuiSetLayout): Remove vcatch_errors.
	(tui_set_layout): Rename of _tuiSetLayoutTo, public.
	(_tuiToggleLayout_command): Merge with _tui_vToggleLayout_command.
	(_tuiToggleSplitLayout_command): Merge with _tui_vToggleSplitLayout_command.
	(_tuiLayout_command): Call tui_set_layout.

	* tuiRegs.c (_tuiScrollRegsBackward_command): Call tui_scroll.
	(_tuiScrollRegsForward_command): Likewise.
	(_tuiShowFloat_command): Call _tui_vShowRegisters_commandSupport.
	(_tuiShowGeneral_command): Likewise.
	(_tuiShowSpecial_command): Likewise.
	(_tuiToggleFloatRegs_command): Call tuiToggleFloatRegs.
	* tuiWin.c (tui_scroll): Rename of tui_vScroll, update parameters.
	(_tuiScrollForward_command): Call tui_scroll.
	(_tuiScrollBackward_command): Likewise.
	(_tuiScrollLeft_command): Likewise.
	(_tuiScrollRight_command): Likewise.
	(_tuiSetFocus_command): Call _tuiSetFocus.
	(_tuiRefreshAll_command): Call tuiRefreshAll.
	(_tuiSetWinHeight_command): Call _tuiSetWinHeight.
	(_tuiXDBsetWinHeight_command): Call _tuiXDBsetWinHeight.
	* tuiWin.h (tui_scroll): Rename of tui_vScroll, update parameters.
@
text
@d1 7
@


1.24
log
@	* tuiData.h (TuiLocatorElement): Use CORE_ADDR for address member.
	(TuiLineOrAddress): Likewise.
	* tuiDisassem.c (tuiGetBeginAsmAddress): Use CORE_ADDR to specify
	an address.
	(tuiSetDisassemContent): Likewise.
	(tuiShowDisassem, tuiShowDisassemAndUpdateSource): Likewise.
	* tuiLayout.c (_extractDisplayStartAddr): Likewise.
	(tuiSetLayout): Likewise.
	* tuiSourceWin.c (tuiDisplayMainFunction): Likewise.
	(tuiUpdateSourceWindowsWithAddr): Likewise.
	(tuiUpdateSourceWindowsWithLine): Likewise.
	(tuiSetHasBreakAt): Likewise.
	* tuiStack.c (tuiSetLocatorInfo): Likewise.
	(tuiSwitchFilename): Likewise.
	(tuiUpdateLocatorInfoFromFrame): Likewise.
	(tuiSetLocatorContent): Likewise.
	(tuiShowFrameInfo): Likewise.
	* tuiDisassem.h: Update prototypes to use CORE_ADDR.
	* tuiSourceWin.h: Likewise.
	* tuiStack.h: Likewise.
@
text
@d3 32
@


1.23
log
@	* tuiWin.c: Add missing includes.
	(_makeVisibleWithNewHeight): Fix call to find_line_pc.
	* tuiLayout.c: Add missing includes.
	(_initAndMakeWin): Don't put curses in echo mode.
	(_extractDisplayStartAddr): Fix calls to find_line_pc.
	(_tuiLayout_command): Missing ',' in warning call.
	* tuiSourceWin.c (tuiUpdateSourceWindowsWithLine): Fix calls to
	find_line_pc.
	(tuiSetHasBreakAt): Check for null source file.
@
text
@d1 23
@


1.22
log
@	* tuiWin.c (_tuiSetFocus): Replace subsetCompare with subset_compare.
	* tuiLayout.c (_tuiSetLayoutTo): Likewise.
	* tui.c (_tui_vToggle_command): Likewise.
@
text
@d3 12
@


1.21
log
@2001-07-17  Elena Zannoni  <ezannoni@@redhat.com>

	* Makefile.in (tui-file.o): Update dependencies.
	* tui/tui-file.c: Add include of tuiIO.h, for tuiPuts_unfiltered.
@
text
@d1 6
@


1.20
log
@	* tuiRegs.c (tuiDisplayRegistersFrom): Set scrollok to FALSE in
	each register window.
	(tuiCheckRegisterValues): Use REGISTER_RAW_SIZE to obtain the size
	of the register to check.
	(_tuiRegValueHasChanged): Likewise.
	(_tuiRegisterName): Use REGISTER_NAME.
	(tui_restore_gdbout): New function.
	(_tuiRegisterFormat): Use do_registers_info with gdb_stdout redirected
	to a string.
	(START_SPECIAL_REGS): Define.
	(_tuiGetRegisterRawValue): Use get_saved_register.
	(_tuiDisplayRegister): Fix clearing of register window.
@
text
@d1 4
@


1.19
log
@	* tui-file.h (fputs_unfiltered_hook): Remove.
	* tui-file.c (tui_file_flush): Remove fputs_unfiltered_hook.
	(tui_file_fputs): Likewise; simplify
@
text
@d1 15
@


1.18
log
@	* tuiStack.c: Add missing includes.
	(tuiShowFrameInfo): Don't crash when there is no symbol table
	associated with the pc.
	* tuiSource.c (_hasBreak): Check for null source file.
	* tuiWin.c (tuiRefreshAll): Check for null winList[type].
	(_tuiSetFocus): Check for null dataWin.
	* tuiGeneralWin.c (refreshAll): Check for null list[type].
@
text
@d1 6
@


1.17
log
@	* tuiDisassem.c (tuiSetDisassemContent): Use tm_print_insn_info
	to disassemble in the curses window.
@
text
@d3 10
@


1.16
log
@	* tui.h: Cleanup to avoid inclusion of curses includes.
	(TuiGenWinInfo, TuiGenWinInfoPtr): Move from here.
	* tuiData.h: To here; include curses includes here.
	(setTermHeightTo): Rename of setTermHeight to follow reality.
	(setTermWidthTo): Likewise with setTermWidth.
@
text
@d3 5
@


1.15
log
@	* tuiWin.c, tui.c, tuiCommand.c: Use ansi prototype.
	tuiIO.c, tuiData.c: Likewise.
	tuiDataWin.c, tuiDisassem.c: Likewise.
	tuiGeneralWin.c, tuiLayout.c: Likewise.
	tuiRegs.c, tuiSource.c: Likewise.
	tuiSouceWin.c, tuiStack.c: Likewise.
@
text
@d1 8
@


1.14
log
@	* tuiWin.c, tuiWin.h, tui.c, tui.h, tuiCommand.c: Add FSF copyright.
	tuiCommand.h, tuiIO.c, tuiIO.h, tuiData.h, tuiData.c: Likewise.
	tuiDataWin.c, tuiDataWin.h, tuiDisassem.c, tuiDisassem.h: Likewise.
	tuiGeneralWin.c, tuiGeneralWin.h, tuiLayout.c, tuiLayout.h: Likewise.
	tuiRegs.c, tuiRegs.h, tuiSource.c, tuiSource.h: Likewise.
	tuiSouceWin.c, tuiSourceWin.h, tuiStack.c, tuiStack.h: Likewise.
@
text
@d3 9
@


1.13
log
@Eliminate ARCH_NUM_REGS.
@
text
@d1 9
@


1.12
log
@Update/correct copyright notices.
@
text
@d1 4
@


1.11
log
@Add __FILE__ and __LINE__ parameter to internal_error() /
internal_verror().
@
text
@d1 4
@


1.10
log
@Removed (tui and mi) directory prefixes from ChangeLog comments that I
added in last commit.
@
text
@d1 5
@


1.9
log
@Put mi and tui comments for free -> xfree change in proper ChangeLogs.
@
text
@d3 2
a4 2
	* tui/tui-file.c, tui/tui.c, tui/tuiData.c, tui/tuiLayout.c:
	Replace occurrences of free() with xfree().
@


1.8
log
@PARAMS elimination.
@
text
@d1 5
@


1.7
log
@PARAMS elimination.
@
text
@d1 4
@


1.6
log
@PARAMS elimination.
@
text
@d1 4
@


1.5
log
@Fix bitrot in tui-file.c.
@
text
@d1 4
@


1.4
log
@Configure TUI to use <ncurses.h> when available.
@
text
@d1 7
@


1.3
log
@Have TUI use the same configury mechanism as MI.
@
text
@d1 5
@


1.2
log
@Add full set of cleanup rules.
@
text
@d1 4
@


1.1
log
@Initial revision
@
text
@d1 39
@


1.1.1.1
log
@Initial creation of sourceware repository
@
text
@@


1.1.1.2
log
@import gdb-1999-09-21
@
text
@a0 5
Fri Sep 17 19:34:38 1999  Andrew Cagney  <cagney@@b1.cygnus.com>

	* tuiSource.c: Include "source.h".
 	(open_source_file, find_source_lines): Delete declarations.

@


1.1.1.3
log
@import gdb-1999-11-08 snapshot
@
text
@a0 13
Mon Nov  8 17:47:37 1999  Andrew Cagney  <cagney@@b1.cygnus.com>

	* tuiRegs.c (_tuiRegisterFormat), tuiDisassem.c
	(tuiSetDisassemContent): Replace gdb_file_init_astring with
 	tui_sfileopen.  Replace gdb_file_get_strbuf with
 	tui_file_get_strbuf.
	
Mon Nov  8 16:54:51 1999  Andrew Cagney  <cagney@@b1.cygnus.com>

	* tuiRegs.c (_tuiRegisterFormat), tuiDisassem.c
 	(tuiSetDisassemContent): Repace gdb_file_deallocate with
 	gdb_file_delete. Replace gdb_file_init_astring with tui_sfileopen.

@


1.1.1.4
log
@import gdb-2000-01-31 snapshot
@
text
@a0 10
Mon Jan 31 18:12:43 2000  Andrew Cagney  <cagney@@b1.cygnus.com>

	* tui-file.c (enum streamtype, struct tui_stream, tui_file_new,
 	tui_file_delete, tui_fileopen, tui_sfileopen, tui_file_isatty,
 	tui_file_rewind, tui_file_put, tui_file_fputs,
 	tui_file_get_strbuf, tui_file_adjust_strbuf, tui_file_flush,
 	fputs_unfiltered_hook): Move to here from ../utils.c

	* tui-file.h, tui-file.c: New files.

@


1.1.1.5
log
@import gdb-2000-02-01 snapshot
@
text
@a0 6
Tue Feb  1 00:17:12 2000  Andrew Cagney  <cagney@@b1.cygnus.com>

	* tui-file.c, tui-file.h, tuiDisassem.c, tuiIO.c, tuiIO.h,
 	tuiRegs.c: Update to reflect rename of gdb-file / GDB_FILE to
 	ui-file / ``struct ui_file''.

@


1.1.1.5.2.1
log
@Add full set of cleanup rules.
@
text
@a0 5
Tue Apr 18 15:32:15 2000  Andrew Cagney  <cagney@@b1.cygnus.com>

	* Makefile.in (distclean, maintainer-clean, realclean,
 	mostlyclean): New targets.

@


