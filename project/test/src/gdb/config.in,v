head	1.158;
access;
symbols
	gdb_7_6_1-2013-08-30-release:1.151
	gdb_7_6-2013-04-26-release:1.151
	gdb_7_6-branch:1.151.0.2
	gdb_7_6-2013-03-12-branchpoint:1.151
	gdb_7_5_1-2012-11-29-release:1.146
	gdb_7_5-2012-08-17-release:1.146
	gdb_7_5-branch:1.146.0.2
	gdb_7_5-2012-07-18-branchpoint:1.146
	gdb_7_4_1-2012-04-26-release:1.129.2.1
	gdb_7_4-2012-01-24-release:1.129
	gdb_7_4-branch:1.129.0.2
	gdb_7_4-2011-12-13-branchpoint:1.129
	gdb_7_3_1-2011-09-04-release:1.125
	gdb_7_3-2011-07-26-release:1.125
	gdb_7_3-branch:1.125.0.2
	gdb_7_3-2011-04-01-branchpoint:1.125
	gdb_7_2-2010-09-02-release:1.120
	gdb_7_2-branch:1.120.0.2
	gdb_7_2-2010-07-07-branchpoint:1.120
	gdb_7_1-2010-03-18-release:1.115
	gdb_7_1-branch:1.115.0.2
	gdb_7_1-2010-02-18-branchpoint:1.115
	gdb_7_0_1-2009-12-22-release:1.112
	gdb_7_0-2009-10-06-release:1.112
	gdb_7_0-branch:1.112.0.2
	gdb_7_0-2009-09-16-branchpoint:1.112
	arc-sim-20090309:1.96
	msnyder-checkpoint-072509-branch:1.111.0.2
	msnyder-checkpoint-072509-branchpoint:1.111
	arc-insight_6_8-branch:1.96.0.6
	arc-insight_6_8-branchpoint:1.96
	insight_6_8-branch:1.96.0.4
	insight_6_8-branchpoint:1.96
	reverse-20081226-branch:1.104.0.2
	reverse-20081226-branchpoint:1.104
	multiprocess-20081120-branch:1.103.0.4
	multiprocess-20081120-branchpoint:1.103
	reverse-20080930-branch:1.103.0.2
	reverse-20080930-branchpoint:1.103
	reverse-20080717-branch:1.102.0.2
	reverse-20080717-branchpoint:1.102
	msnyder-reverse-20080609-branch:1.100.0.2
	msnyder-reverse-20080609-branchpoint:1.100
	drow-reverse-20070409-branch:1.89.0.2
	drow-reverse-20070409-branchpoint:1.89
	gdb_6_8-2008-03-27-release:1.96
	gdb_6_8-branch:1.96.0.2
	gdb_6_8-2008-02-26-branchpoint:1.96
	gdb_6_7_1-2007-10-29-release:1.91
	gdb_6_7-2007-10-10-release:1.91
	gdb_6_7-branch:1.91.0.2
	gdb_6_7-2007-09-07-branchpoint:1.91
	insight_6_6-20070208-release:1.84
	gdb_6_6-2006-12-18-release:1.84
	gdb_6_6-branch:1.84.0.2
	gdb_6_6-2006-11-15-branchpoint:1.84
	insight_6_5-20061003-release:1.82
	gdb-csl-symbian-6_4_50_20060226-12:1.82.10.1
	gdb-csl-sourcerygxx-3_4_4-25:1.82
	nickrob-async-20060828-mergepoint:1.84
	gdb-csl-symbian-6_4_50_20060226-11:1.82.10.1
	gdb-csl-sourcerygxx-4_1-17:1.82.10.1
	gdb-csl-20060226-branch-local-2:1.82.10.1
	gdb-csl-sourcerygxx-4_1-14:1.82.10.1
	gdb-csl-sourcerygxx-4_1-13:1.82.10.1
	gdb-csl-sourcerygxx-4_1-12:1.82.10.1
	gdb-csl-sourcerygxx-3_4_4-21:1.82.10.1
	gdb_6_5-20060621-release:1.82
	gdb-csl-sourcerygxx-4_1-9:1.82.10.1
	gdb-csl-sourcerygxx-4_1-8:1.82.10.1
	gdb-csl-sourcerygxx-4_1-7:1.82.10.1
	gdb-csl-arm-2006q1-6:1.82.10.1
	gdb-csl-sourcerygxx-4_1-6:1.82.10.1
	gdb-csl-symbian-6_4_50_20060226-10:1.82.10.1
	gdb-csl-symbian-6_4_50_20060226-9:1.82.10.1
	gdb-csl-symbian-6_4_50_20060226-8:1.82.10.1
	gdb-csl-coldfire-4_1-11:1.82.10.1
	gdb-csl-sourcerygxx-3_4_4-19:1.82.10.1
	gdb-csl-coldfire-4_1-10:1.82.10.1
	gdb_6_5-branch:1.82.0.22
	gdb_6_5-2006-05-14-branchpoint:1.82
	gdb-csl-sourcerygxx-4_1-5:1.82.10.1
	nickrob-async-20060513-branch:1.82.0.20
	nickrob-async-20060513-branchpoint:1.82
	gdb-csl-sourcerygxx-4_1-4:1.82.10.1
	msnyder-reverse-20060502-branch:1.82.0.18
	msnyder-reverse-20060502-branchpoint:1.82
	gdb-csl-morpho-4_1-4:1.82.10.1
	gdb-csl-sourcerygxx-3_4_4-17:1.82.10.1
	readline_5_1-import-branch:1.82.0.16
	readline_5_1-import-branchpoint:1.82
	gdb-csl-20060226-branch-merge-to-csl-symbian-1:1.82.10.1
	gdb-csl-symbian-20060226-branch:1.82.10.1.0.2
	gdb-csl-symbian-20060226-branchpoint:1.82.10.1
	gdb-csl-20060226-branch-merge-to-csl-local-1:1.82.10.1
	msnyder-reverse-20060331-branch:1.82.0.14
	msnyder-reverse-20060331-branchpoint:1.82
	gdb-csl-available-20060303-branch:1.82.0.12
	gdb-csl-available-20060303-branchpoint:1.82
	gdb-csl-20060226-branch:1.82.0.10
	gdb-csl-20060226-branchpoint:1.82
	gdb_6_4-20051202-release:1.82
	msnyder-fork-checkpoint-branch:1.82.0.8
	msnyder-fork-checkpoint-branchpoint:1.82
	gdb-csl-gxxpro-6_3-branch:1.82.0.6
	gdb-csl-gxxpro-6_3-branchpoint:1.82
	gdb_6_4-branch:1.82.0.4
	gdb_6_4-2005-11-01-branchpoint:1.82
	gdb-csl-arm-20051020-branch:1.82.0.2
	gdb-csl-arm-20051020-branchpoint:1.82
	msnyder-tracepoint-checkpoint-branch:1.79.0.2
	msnyder-tracepoint-checkpoint-branchpoint:1.79
	gdb-csl-arm-20050325-2005-q1b:1.77
	gdb-csl-arm-20050325-2005-q1a:1.77
	csl-arm-20050325-branch:1.77.0.2
	csl-arm-20050325-branchpoint:1.77
	gdb-post-i18n-errorwarning-20050211:1.76
	gdb-pre-i18n-errorwarning-20050211:1.76
	gdb_6_3-20041109-release:1.71
	gdb_6_3-branch:1.71.0.2
	gdb_6_3-20041019-branchpoint:1.71
	drow_intercu-merge-20040921:1.70
	drow_intercu-merge-20040915:1.70
	jimb-gdb_6_2-e500-branch:1.64.2.1.0.4
	jimb-gdb_6_2-e500-branchpoint:1.64.2.1
	gdb_6_2-20040730-release:1.64.2.1
	gdb_6_2-branch:1.64.0.2
	gdb_6_2-2004-07-10-gmt-branchpoint:1.64
	gdb_6_1_1-20040616-release:1.61.8.1
	gdb_6_1-2004-04-05-release:1.61
	drow_intercu-merge-20040402:1.62
	drow_intercu-merge-20040327:1.61
	ezannoni_pie-20040323-branch:1.61.0.12
	ezannoni_pie-20040323-branchpoint:1.61
	cagney_tramp-20040321-mergepoint:1.61
	cagney_tramp-20040309-branch:1.61.0.10
	cagney_tramp-20040309-branchpoint:1.61
	gdb_6_1-branch:1.61.0.8
	gdb_6_1-2004-03-01-gmt-branchpoint:1.61
	drow_intercu-20040221-branch:1.61.0.6
	drow_intercu-20040221-branchpoint:1.61
	cagney_bfdfile-20040213-branch:1.61.0.4
	cagney_bfdfile-20040213-branchpoint:1.61
	drow-cplus-merge-20040208:1.61
	carlton_dictionary-20040126-merge:1.61
	cagney_bigcore-20040122-branch:1.61.0.2
	cagney_bigcore-20040122-branchpoint:1.61
	drow-cplus-merge-20040113:1.60
	drow-cplus-merge-20031224:1.58
	drow-cplus-merge-20031220:1.58
	carlton_dictionary-20031215-merge:1.58
	drow-cplus-merge-20031214:1.58
	carlton-dictionary-20031111-merge:1.57
	gdb_6_0-2003-10-04-release:1.56
	kettenis_sparc-20030918-branch:1.57.0.4
	kettenis_sparc-20030918-branchpoint:1.57
	carlton_dictionary-20030917-merge:1.57
	ezannoni_pie-20030916-branchpoint:1.57
	ezannoni_pie-20030916-branch:1.57.0.2
	cagney_x86i386-20030821-branch:1.56.0.6
	cagney_x86i386-20030821-branchpoint:1.56
	carlton_dictionary-20030805-merge:1.56
	carlton_dictionary-20030627-merge:1.56
	gdb_6_0-branch:1.56.0.4
	gdb_6_0-2003-06-23-branchpoint:1.56
	jimb-ppc64-linux-20030613-branch:1.56.0.2
	jimb-ppc64-linux-20030613-branchpoint:1.56
	cagney_convert-20030606-branch:1.55.0.2
	cagney_convert-20030606-branchpoint:1.55
	cagney_writestrings-20030508-branch:1.54.0.24
	cagney_writestrings-20030508-branchpoint:1.54
	jimb-ppc64-linux-20030528-branch:1.54.0.22
	jimb-ppc64-linux-20030528-branchpoint:1.54
	carlton_dictionary-20030523-merge:1.54
	cagney_fileio-20030521-branch:1.54.0.20
	cagney_fileio-20030521-branchpoint:1.54
	kettenis_i386newframe-20030517-mergepoint:1.54
	jimb-ppc64-linux-20030509-branch:1.54.0.18
	jimb-ppc64-linux-20030509-branchpoint:1.54
	kettenis_i386newframe-20030504-mergepoint:1.54
	carlton_dictionary-20030430-merge:1.54
	kettenis_i386newframe-20030419-branch:1.54.0.16
	kettenis_i386newframe-20030419-branchpoint:1.54
	carlton_dictionary-20030416-merge:1.54
	cagney_frameaddr-20030409-mergepoint:1.54
	kettenis_i386newframe-20030406-branch:1.54.0.14
	kettenis_i386newframe-20030406-branchpoint:1.54
	cagney_frameaddr-20030403-branchpoint:1.54
	cagney_frameaddr-20030403-branch:1.54.0.12
	cagney_framebase-20030330-mergepoint:1.54
	cagney_framebase-20030326-branch:1.54.0.10
	cagney_framebase-20030326-branchpoint:1.54
	cagney_lazyid-20030317-branch:1.54.0.8
	cagney_lazyid-20030317-branchpoint:1.54
	kettenis-i386newframe-20030316-mergepoint:1.54
	offbyone-20030313-branch:1.54.0.6
	offbyone-20030313-branchpoint:1.54
	kettenis-i386newframe-20030308-branch:1.54.0.4
	kettenis-i386newframe-20030308-branchpoint:1.54
	carlton_dictionary-20030305-merge:1.54
	cagney_offbyone-20030303-branch:1.54.0.2
	cagney_offbyone-20030303-branchpoint:1.54
	carlton_dictionary-20030207-merge:1.52
	interps-20030203-mergepoint:1.52
	interps-20030202-branch:1.52.0.2
	interps-20030202-branchpoint:1.52
	cagney-unwind-20030108-branch:1.50.0.2
	cagney-unwind-20030108-branchpoint:1.50
	carlton_dictionary-20021223-merge:1.42
	gdb_5_3-2002-12-12-release:1.40.6.1
	jimb-separate-debug-021125-branch:1.41.0.2
	carlton_dictionary-20021115-merge:1.41
	kseitz_interps-20021105-merge:1.40
	kseitz_interps-20021103-merge:1.40
	drow-cplus-merge-20021020:1.40
	drow-cplus-merge-20021025:1.40
	carlton_dictionary-20021025-merge:1.40
	carlton_dictionary-20021011-merge:1.40
	drow-cplus-branch:1.40.0.10
	drow-cplus-branchpoint:1.40
	kseitz_interps-20020930-merge:1.40
	carlton_dictionary-20020927-merge:1.40
	carlton_dictionary-branch:1.40.0.8
	carlton_dictionary-20020920-branchpoint:1.40
	gdb_5_3-branch:1.40.0.6
	gdb_5_3-2002-09-04-branchpoint:1.40
	kseitz_interps-20020829-merge:1.40
	cagney_sysregs-20020825-branch:1.40.0.4
	cagney_sysregs-20020825-branchpoint:1.40
	readline_4_3-import-branch:1.40.0.2
	readline_4_3-import-branchpoint:1.40
	gdb_5_2_1-2002-07-23-release:1.35
	kseitz_interps-20020528-branch:1.37.0.6
	kseitz_interps-20020528-branchpoint:1.37
	cagney_regbuf-20020515-branch:1.37.0.4
	cagney_regbuf-20020515-branchpoint:1.37
	jimb-macro-020506-branch:1.37.0.2
	jimb-macro-020506-branchpoint:1.37
	gdb_5_2-2002-04-29-release:1.35
	gdb_5_2-branch:1.35.0.2
	gdb_5_2-2002-03-03-branchpoint:1.35
	gdb_5_1_1-2002-01-24-release:1.29
	gdb_5_1_0_1-2002-01-03-release:1.29
	cygnus_cvs_20020108_pre:1.34
	gdb_5_1_0_1-2002-01-03-branchpoint:1.29
	gdb_5_1_0_1-2002-01-03-branch:1.29.0.6
	gdb_5_1-2001-11-21-release:1.29
	gdb_s390-2001-09-26-branch:1.29.0.4
	gdb_s390-2001-09-26-branchpoint:1.29
	gdb_5_1-2001-07-29-branch:1.29.0.2
	gdb_5_1-2001-07-29-branchpoint:1.29
	dberlin-typesystem-branch:1.27.0.2
	dberlin-typesystem-branchpoint:1.27
	gdb-post-ptid_t-2001-05-03:1.27
	gdb-pre-ptid_t-2001-05-03:1.27
	insight-precleanup-2001-01-01:1.21
	gdb-post-protoization-2000-07-29:1.16
	gdb-pre-protoization-2000-07-29:1.16
	gdb-premipsmulti-2000-06-06-branch:1.13.0.2
	gdb-premipsmulti-2000-06-06-branchpoint:1.13
	gdb-post-params-removal-2000-06-04:1.12
	gdb-pre-params-removal-2000-06-04:1.12
	gdb-post-params-removal-2000-05-28:1.12
	gdb-pre-params-removal-2000-05-28:1.12
	gdb_5_0-2000-05-19-release:1.6.2.1
	gdb_4_18_2-2000-05-18-release:1.6.2.1
	gdb_4_95_1-2000-05-11-snapshot:1.6.2.1
	gdb_4_95_0-2000-04-27-snapshot:1.6.2.1
	gdb_5_0-2000-04-10-branch:1.6.0.2
	gdb_5_0-2000-04-10-branchpoint:1.6
	repo-unification-2000-02-06:1.1.1.12
	insight-2000-02-04:1.1.1.12
	gdb-2000-02-04:1.1.1.12
	gdb-2000-02-02:1.1.1.12
	gdb-2000-02-01:1.1.1.12
	gdb-2000-01-31:1.1.1.12
	gdb-2000-01-26:1.1.1.12
	gdb-2000-01-24:1.1.1.12
	gdb-2000-01-17:1.1.1.12
	gdb-2000-01-10:1.1.1.12
	gdb-2000-01-05:1.1.1.12
	gdb-1999-12-21:1.1.1.11
	gdb-1999-12-13:1.1.1.10
	gdb-1999-12-07:1.1.1.10
	gdb-1999-12-06:1.1.1.10
	gdb-1999-11-16:1.1.1.9
	gdb-1999-11-08:1.1.1.9
	gdb-1999-11-01:1.1.1.9
	gdb-1999-10-25:1.1.1.8
	gdb-1999-10-18:1.1.1.8
	gdb-1999-10-11:1.1.1.8
	gdb-1999-10-04:1.1.1.8
	gdb-1999-09-28:1.1.1.7
	gdb-1999-09-21:1.1.1.7
	gdb-1999-09-13:1.1.1.7
	gdb-1999-09-08:1.1.1.7
	gdb-1999-08-30:1.1.1.7
	gdb-1999-08-23:1.1.1.6
	gdb-1999-08-16:1.1.1.6
	gdb-1999-08-09:1.1.1.5
	gdb-1999-08-02:1.1.1.4
	gdb-1999-07-26:1.1.1.4
	gdb-1999-07-19:1.1.1.4
	gdb-1999-07-12:1.1.1.4
	gdb-post-reformat-19990707:1.1.1.4
	gdb-1999-07-07-post-reformat-snapshot:1.1.1.4
	gdb-pre-reformat-19990707:1.1.1.4
	gdb-1999-07-07:1.1.1.4
	gdb-1999-07-05:1.1.1.4
	gdb-1999-06-28:1.1.1.4
	gdb-1999-06-21:1.1.1.4
	gdb-1999-06-14:1.1.1.4
	gdb-1999-06-07:1.1.1.4
	gdb-1999-06-01:1.1.1.4
	gdb-4_18-branch:1.1.1.1.0.2
	gdb-4_18-release:1.1.1.1
	gdb-1999-05-25:1.1.1.4
	gdb-1999-05-19:1.1.1.4
	gdb-1999-05-10:1.1.1.4
	gdb-19990504:1.1.1.3
	gdb-19990422:1.1.1.2
	SNAPSHOT:1.1.1
	gdb-4_18:1.1.1.1
	GDB_4_18:1.1.1;
locks; strict;
comment	@# @;
expand	@o@;


1.158
date	2013.08.22.23.46.28;	author luisgpm;	state Exp;
branches;
next	1.157;

1.157
date	2013.08.07.14.39.57;	author uweigand;	state Exp;
branches;
next	1.156;

1.156
date	2013.07.01.11.24.16;	author palves;	state Exp;
branches;
next	1.155;

1.155
date	2013.05.23.18.36.59;	author palves;	state Exp;
branches;
next	1.154;

1.154
date	2013.04.22.16.46.14;	author tromey;	state Exp;
branches;
next	1.153;

1.153
date	2013.04.12.16.02.29;	author jkratoch;	state Exp;
branches;
next	1.152;

1.152
date	2013.04.10.09.42.56;	author qiyao;	state Exp;
branches;
next	1.151;

1.151
date	2012.12.09.18.39.58;	author jkratoch;	state Exp;
branches;
next	1.150;

1.150
date	2012.11.28.16.21.56;	author mmetzger;	state Exp;
branches;
next	1.149;

1.149
date	2012.11.26.19.23.51;	author tromey;	state Exp;
branches;
next	1.148;

1.148
date	2012.11.15.14.48.26;	author muller;	state Exp;
branches;
next	1.147;

1.147
date	2012.11.14.19.16.03;	author tromey;	state Exp;
branches;
next	1.146;

1.146
date	2012.07.02.20.31.07;	author jkratoch;	state Exp;
branches;
next	1.145;

1.145
date	2012.06.26.14.43.00;	author hjl;	state Exp;
branches;
next	1.144;

1.144
date	2012.06.01.18.20.18;	author jkratoch;	state Exp;
branches;
next	1.143;

1.143
date	2012.05.11.18.20.26;	author jkratoch;	state Exp;
branches;
next	1.142;

1.142
date	2012.05.11.18.13.23;	author jkratoch;	state Exp;
branches;
next	1.141;

1.141
date	2012.04.19.19.34.50;	author palves;	state Exp;
branches;
next	1.140;

1.140
date	2012.04.18.20.45.15;	author palves;	state Exp;
branches;
next	1.139;

1.139
date	2012.04.17.15.54.31;	author jkratoch;	state Exp;
branches;
next	1.138;

1.138
date	2012.04.14.05.24.54;	author qiyao;	state Exp;
branches;
next	1.137;

1.137
date	2012.03.08.19.08.11;	author jkratoch;	state Exp;
branches;
next	1.136;

1.136
date	2012.03.03.03.08.34;	author qiyao;	state Exp;
branches;
next	1.135;

1.135
date	2012.02.21.19.39.30;	author palves;	state Exp;
branches;
next	1.134;

1.134
date	2012.01.20.09.47.32;	author uweigand;	state Exp;
branches;
next	1.133;

1.133
date	2012.01.20.09.45.50;	author uweigand;	state Exp;
branches;
next	1.132;

1.132
date	2012.01.18.18.58.43;	author ppluzhnikov;	state Exp;
branches;
next	1.131;

1.131
date	2012.01.18.18.35.42;	author devans;	state Exp;
branches;
next	1.130;

1.130
date	2012.01.12.23.38.47;	author jkratoch;	state Exp;
branches;
next	1.129;

1.129
date	2011.11.20.08.59.56;	author sanjoyd;	state Exp;
branches
	1.129.2.1;
next	1.128;

1.128
date	2011.11.20.08.53.24;	author sanjoyd;	state Exp;
branches;
next	1.127;

1.127
date	2011.05.11.23.38.38;	author jkratoch;	state Exp;
branches;
next	1.126;

1.126
date	2011.05.09.21.49.55;	author devans;	state Exp;
branches;
next	1.125;

1.125
date	2011.03.17.13.19.09;	author brobecke;	state Exp;
branches;
next	1.124;

1.124
date	2011.01.14.13.38.23;	author palves;	state Exp;
branches;
next	1.123;

1.123
date	2010.09.02.17.12.35;	author drow;	state Exp;
branches;
next	1.122;

1.122
date	2010.07.28.23.24.57;	author palves;	state Exp;
branches;
next	1.121;

1.121
date	2010.07.28.11.48.21;	author palves;	state Exp;
branches;
next	1.120;

1.120
date	2010.07.06.19.03.11;	author tromey;	state Exp;
branches;
next	1.119;

1.119
date	2010.05.27.03.40.45;	author devans;	state Exp;
branches;
next	1.118;

1.118
date	2010.05.24.22.54.21;	author palves;	state Exp;
branches;
next	1.117;

1.117
date	2010.05.23.00.56.59;	author palves;	state Exp;
branches;
next	1.116;

1.116
date	2010.03.10.18.37.22;	author tromey;	state Exp;
branches;
next	1.115;

1.115
date	2010.01.15.00.34.37;	author jkratoch;	state Exp;
branches;
next	1.114;

1.114
date	2009.11.11.04.42.39;	author jkratoch;	state Exp;
branches;
next	1.113;

1.113
date	2009.10.02.16.02.32;	author jkratoch;	state Exp;
branches;
next	1.112;

1.112
date	2009.08.22.16.56.42;	author rwild;	state Exp;
branches;
next	1.111;

1.111
date	2009.07.20.15.24.54;	author vapier;	state Exp;
branches;
next	1.110;

1.110
date	2009.04.23.21.28.17;	author tromey;	state Exp;
branches;
next	1.109;

1.109
date	2009.04.21.10.13.04;	author jsm28;	state Exp;
branches;
next	1.108;

1.108
date	2009.04.15.22.20.30;	author tromey;	state Exp;
branches;
next	1.107;

1.107
date	2009.03.25.00.58.34;	author tromey;	state Exp;
branches;
next	1.106;

1.106
date	2009.03.20.23.04.30;	author tromey;	state Exp;
branches;
next	1.105;

1.105
date	2009.01.28.15.01.00;	author guitton;	state Exp;
branches;
next	1.104;

1.104
date	2008.12.09.17.18.29;	author tromey;	state Exp;
branches;
next	1.103;

1.103
date	2008.08.06.19.41.31;	author bauermann;	state Exp;
branches;
next	1.102;

1.102
date	2008.07.10.09.30.57;	author jkratoch;	state Exp;
branches;
next	1.101;

1.101
date	2008.06.26.15.51.27;	author drow;	state Exp;
branches;
next	1.100;

1.100
date	2008.06.05.22.36.56;	author jsm28;	state Exp;
branches;
next	1.99;

1.99
date	2008.04.19.05.06.54;	author csilvers;	state Exp;
branches;
next	1.98;

1.98
date	2008.04.14.19.47.29;	author drow;	state Exp;
branches;
next	1.97;

1.97
date	2008.03.12.14.10.52;	author bauermann;	state Exp;
branches;
next	1.96;

1.96
date	2008.01.08.19.38.33;	author bauermann;	state Exp;
branches
	1.96.6.1;
next	1.95;

1.95
date	2007.11.17.00.41.17;	author uweigand;	state Exp;
branches;
next	1.94;

1.94
date	2007.10.25.17.52.31;	author bauermann;	state Exp;
branches;
next	1.93;

1.93
date	2007.10.24.21.14.16;	author uweigand;	state Exp;
branches;
next	1.92;

1.92
date	2007.09.19.22.00.34;	author brobecke;	state Exp;
branches;
next	1.91;

1.91
date	2007.06.18.15.46.37;	author drow;	state Exp;
branches;
next	1.90;

1.90
date	2007.05.21.13.20.43;	author uweigand;	state Exp;
branches;
next	1.89;

1.89
date	2007.03.29.15.24.28;	author denis;	state Exp;
branches;
next	1.88;

1.88
date	2007.02.02.22.54.46;	author nickrob;	state Exp;
branches;
next	1.87;

1.87
date	2007.01.09.21.34.30;	author drow;	state Exp;
branches;
next	1.86;

1.86
date	2007.01.09.14.58.57;	author drow;	state Exp;
branches;
next	1.85;

1.85
date	2006.12.31.20.20.12;	author drow;	state Exp;
branches;
next	1.84;

1.84
date	2006.08.08.20.32.15;	author drow;	state Exp;
branches;
next	1.83;

1.83
date	2006.05.15.17.11.58;	author drow;	state Exp;
branches;
next	1.82;

1.82
date	2005.07.03.16.05.11;	author sje;	state Exp;
branches
	1.82.10.1
	1.82.12.1
	1.82.20.1;
next	1.81;

1.81
date	2005.06.13.21.59.38;	author kettenis;	state Exp;
branches;
next	1.80;

1.80
date	2005.06.13.21.32.01;	author kettenis;	state Exp;
branches;
next	1.79;

1.79
date	2005.05.20.18.17.47;	author eliz;	state Exp;
branches;
next	1.78;

1.78
date	2005.05.20.18.06.37;	author eliz;	state Exp;
branches;
next	1.77;

1.77
date	2005.03.21.21.23.35;	author mmitchel;	state Exp;
branches;
next	1.76;

1.76
date	2005.01.21.13.49.22;	author kettenis;	state Exp;
branches;
next	1.75;

1.75
date	2005.01.21.13.14.01;	author kettenis;	state Exp;
branches;
next	1.74;

1.74
date	2005.01.21.11.53.23;	author kettenis;	state Exp;
branches;
next	1.73;

1.73
date	2005.01.20.23.57.27;	author kettenis;	state Exp;
branches;
next	1.72;

1.72
date	2004.11.09.00.59.03;	author danglin;	state Exp;
branches;
next	1.71;

1.71
date	2004.09.25.09.17.46;	author kettenis;	state Exp;
branches;
next	1.70;

1.70
date	2004.08.21.12.05.52;	author kettenis;	state Exp;
branches;
next	1.69;

1.69
date	2004.08.15.10.06.04;	author kettenis;	state Exp;
branches;
next	1.68;

1.68
date	2004.08.09.19.20.13;	author kettenis;	state Exp;
branches;
next	1.67;

1.67
date	2004.08.07.22.12.08;	author kettenis;	state Exp;
branches;
next	1.66;

1.66
date	2004.07.29.19.33.21;	author cagney;	state Exp;
branches;
next	1.65;

1.65
date	2004.07.17.11.24.26;	author kettenis;	state Exp;
branches;
next	1.64;

1.64
date	2004.05.23.09.23.18;	author kettenis;	state Exp;
branches
	1.64.2.1;
next	1.63;

1.63
date	2004.04.29.14.29.13;	author cagney;	state Exp;
branches;
next	1.62;

1.62
date	2004.03.29.18.07.13;	author drow;	state Exp;
branches;
next	1.61;

1.61
date	2004.01.20.09.29.13;	author chastain;	state Exp;
branches
	1.61.6.1
	1.61.8.1;
next	1.60;

1.60
date	2004.01.02.12.40.09;	author kettenis;	state Exp;
branches;
next	1.59;

1.59
date	2003.12.30.10.33.37;	author eliz;	state Exp;
branches;
next	1.58;

1.58
date	2003.11.14.21.17.51;	author jjohnstn;	state Exp;
branches;
next	1.57;

1.57
date	2003.09.03.15.02.48;	author cagney;	state Exp;
branches
	1.57.4.1;
next	1.56;

1.56
date	2003.06.08.18.27.12;	author cagney;	state Exp;
branches;
next	1.55;

1.55
date	2003.06.04.20.51.27;	author jjohnstn;	state Exp;
branches;
next	1.54;

1.54
date	2003.02.26.15.10.46;	author chastain;	state Exp;
branches;
next	1.53;

1.53
date	2003.02.14.20.07.00;	author kettenis;	state Exp;
branches;
next	1.52;

1.52
date	2003.01.27.14.36.56;	author drow;	state Exp;
branches;
next	1.51;

1.51
date	2003.01.23.23.03.31;	author jimb;	state Exp;
branches;
next	1.50;

1.50
date	2003.01.04.23.47.10;	author drow;	state Exp;
branches;
next	1.49;

1.49
date	2003.01.04.00.34.43;	author kettenis;	state Exp;
branches;
next	1.48;

1.48
date	2003.01.02.22.59.01;	author kettenis;	state Exp;
branches;
next	1.47;

1.47
date	2003.01.02.22.49.31;	author kettenis;	state Exp;
branches;
next	1.46;

1.46
date	2003.01.02.19.35.31;	author kettenis;	state Exp;
branches;
next	1.45;

1.45
date	2003.01.02.14.47.00;	author kettenis;	state Exp;
branches;
next	1.44;

1.44
date	2003.01.02.11.14.32;	author kettenis;	state Exp;
branches;
next	1.43;

1.43
date	2002.12.31.13.05.02;	author kettenis;	state Exp;
branches;
next	1.42;

1.42
date	2002.11.26.01.23.46;	author drow;	state Exp;
branches;
next	1.41;

1.41
date	2002.11.12.02.39.41;	author ezannoni;	state Exp;
branches
	1.41.2.1;
next	1.40;

1.40
date	2002.07.09.22.59.36;	author brobecke;	state Exp;
branches
	1.40.6.1
	1.40.8.1
	1.40.10.1;
next	1.39;

1.39
date	2002.07.09.14.17.39;	author cagney;	state Exp;
branches;
next	1.38;

1.38
date	2002.06.21.23.48.32;	author tromey;	state Exp;
branches;
next	1.37;

1.37
date	2002.04.11.18.32.51;	author msnyder;	state Exp;
branches
	1.37.4.1
	1.37.6.1;
next	1.36;

1.36
date	2002.03.15.00.44.49;	author rth;	state Exp;
branches;
next	1.35;

1.35
date	2002.02.23.21.54.25;	author cagney;	state Exp;
branches;
next	1.34;

1.34
date	2002.01.05.22.06.38;	author cagney;	state Exp;
branches;
next	1.33;

1.33
date	2002.01.05.18.36.32;	author thorpej;	state Exp;
branches;
next	1.32;

1.32
date	2001.12.21.22.32.36;	author tromey;	state Exp;
branches;
next	1.31;

1.31
date	2001.12.07.17.57.05;	author hunt;	state Exp;
branches;
next	1.30;

1.30
date	2001.08.27.22.39.55;	author kettenis;	state Exp;
branches;
next	1.29;

1.29
date	2001.07.23.19.21.51;	author kettenis;	state Exp;
branches;
next	1.28;

1.28
date	2001.07.12.13.48.45;	author kettenis;	state Exp;
branches;
next	1.27;

1.27
date	2001.03.31.18.09.02;	author kettenis;	state Exp;
branches;
next	1.26;

1.26
date	2001.03.20.02.57.42;	author kevinb;	state Exp;
branches;
next	1.25;

1.25
date	2001.03.19.05.46.27;	author kevinb;	state Exp;
branches;
next	1.24;

1.24
date	2001.03.06.00.52.31;	author kevinb;	state Exp;
branches;
next	1.23;

1.23
date	2001.02.14.18.48.39;	author msokolov;	state Exp;
branches;
next	1.22;

1.22
date	2001.01.31.02.08.23;	author cagney;	state Exp;
branches;
next	1.21;

1.21
date	2000.12.02.15.40.56;	author cagney;	state Exp;
branches;
next	1.20;

1.20
date	2000.09.07.12.26.42;	author cagney;	state Exp;
branches;
next	1.19;

1.19
date	2000.08.30.00.58.58;	author msnyder;	state Exp;
branches;
next	1.18;

1.18
date	2000.08.10.17.04.33;	author kettenis;	state Exp;
branches;
next	1.17;

1.17
date	2000.08.02.11.11.46;	author cagney;	state Exp;
branches;
next	1.16;

1.16
date	2000.07.27.04.01.24;	author cagney;	state Exp;
branches;
next	1.15;

1.15
date	2000.07.05.10.25.43;	author cagney;	state Exp;
branches;
next	1.14;

1.14
date	2000.06.08.04.00.56;	author cagney;	state Exp;
branches;
next	1.13;

1.13
date	2000.06.05.18.59.40;	author kettenis;	state Exp;
branches;
next	1.12;

1.12
date	2000.05.26.04.11.34;	author cagney;	state Exp;
branches;
next	1.11;

1.11
date	2000.05.25.17.18.01;	author kettenis;	state Exp;
branches;
next	1.10;

1.10
date	2000.05.25.06.49.01;	author cagney;	state Exp;
branches;
next	1.9;

1.9
date	2000.05.25.04.44.33;	author cagney;	state Exp;
branches;
next	1.8;

1.8
date	2000.04.14.10.13.50;	author kettenis;	state Exp;
branches;
next	1.7;

1.7
date	2000.04.11.01.21.15;	author cagney;	state Exp;
branches;
next	1.6;

1.6
date	2000.04.07.01.16.17;	author nsd;	state Exp;
branches
	1.6.2.1;
next	1.5;

1.5
date	2000.03.28.00.03.57;	author cagney;	state Exp;
branches;
next	1.4;

1.4
date	2000.03.27.07.31.37;	author cagney;	state Exp;
branches;
next	1.3;

1.3
date	2000.03.05.22.57.05;	author kettenis;	state Exp;
branches;
next	1.2;

1.2
date	2000.02.16.13.43.05;	author kettenis;	state Exp;
branches;
next	1.1;

1.1
date	99.04.16.01.33.58;	author shebs;	state Exp;
branches
	1.1.1.1;
next	;

1.129.2.1
date	2012.02.21.22.03.47;	author jkratoch;	state Exp;
branches;
next	;

1.96.6.1
date	2009.09.11.04.45.44;	author amylaar;	state Exp;
branches;
next	;

1.82.10.1
date	2006.04.03.00.47.37;	author drow;	state Exp;
branches;
next	;

1.82.12.1
date	2006.03.12.19.20.46;	author drow;	state Exp;
branches;
next	;

1.82.20.1
date	2006.08.28.07.48.50;	author nickrob;	state Exp;
branches;
next	;

1.64.2.1
date	2004.07.17.11.29.04;	author kettenis;	state Exp;
branches;
next	;

1.61.6.1
date	2004.04.02.16.47.44;	author drow;	state Exp;
branches;
next	1.61.6.2;

1.61.6.2
date	2004.09.16.17.00.55;	author drow;	state Exp;
branches;
next	;

1.61.8.1
date	2004.04.29.14.30.48;	author cagney;	state Exp;
branches;
next	;

1.57.4.1
date	2003.11.14.22.01.11;	author kettenis;	state Exp;
branches;
next	;

1.41.2.1
date	2002.11.26.04.50.34;	author jimb;	state Exp;
branches;
next	;

1.40.6.1
date	2002.11.26.01.32.20;	author drow;	state Exp;
branches;
next	;

1.40.8.1
date	2002.11.15.19.18.38;	author carlton;	state Exp;
branches;
next	1.40.8.2;

1.40.8.2
date	2002.12.23.19.38.15;	author carlton;	state Exp;
branches;
next	1.40.8.3;

1.40.8.3
date	2003.02.07.19.17.45;	author carlton;	state Exp;
branches;
next	1.40.8.4;

1.40.8.4
date	2003.03.06.00.56.24;	author carlton;	state Exp;
branches;
next	1.40.8.5;

1.40.8.5
date	2003.06.27.21.49.46;	author carlton;	state Exp;
branches;
next	1.40.8.6;

1.40.8.6
date	2003.09.17.21.28.08;	author carlton;	state Exp;
branches;
next	1.40.8.7;

1.40.8.7
date	2003.12.16.00.00.15;	author carlton;	state Exp;
branches;
next	1.40.8.8;

1.40.8.8
date	2004.01.26.19.11.15;	author carlton;	state Exp;
branches;
next	;

1.40.10.1
date	2003.12.14.20.27.08;	author drow;	state Exp;
branches;
next	1.40.10.2;

1.40.10.2
date	2004.01.13.16.11.47;	author drow;	state Exp;
branches;
next	1.40.10.3;

1.40.10.3
date	2004.02.09.19.43.31;	author drow;	state Exp;
branches;
next	;

1.37.4.1
date	2002.06.25.20.02.38;	author cagney;	state Exp;
branches;
next	;

1.37.6.1
date	2002.07.22.21.46.56;	author kseitz;	state Exp;
branches;
next	;

1.6.2.1
date	2000.04.14.10.40.00;	author kettenis;	state Exp;
branches;
next	;

1.1.1.1
date	99.04.16.01.33.58;	author shebs;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	99.04.26.18.23.47;	author shebs;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	99.05.05.14.42.17;	author shebs;	state Exp;
branches;
next	1.1.1.4;

1.1.1.4
date	99.05.11.13.29.00;	author shebs;	state Exp;
branches;
next	1.1.1.5;

1.1.1.5
date	99.08.09.21.33.20;	author jsm;	state Exp;
branches;
next	1.1.1.6;

1.1.1.6
date	99.08.16.19.52.11;	author jsm;	state Exp;
branches;
next	1.1.1.7;

1.1.1.7
date	99.08.31.01.04.39;	author jsm;	state Exp;
branches;
next	1.1.1.8;

1.1.1.8
date	99.10.05.23.08.04;	author jsm;	state Exp;
branches;
next	1.1.1.9;

1.1.1.9
date	99.11.02.04.44.13;	author jsm;	state Exp;
branches;
next	1.1.1.10;

1.1.1.10
date	99.12.07.03.55.59;	author jsm;	state Exp;
branches;
next	1.1.1.11;

1.1.1.11
date	99.12.22.21.45.04;	author jsm;	state Exp;
branches;
next	1.1.1.12;

1.1.1.12
date	2000.01.06.03.06.36;	author jsm;	state Exp;
branches;
next	;


desc
@@


1.158
log
@	Unify ptrace options discovery code and make both GDB and
	gdbserver use it.

	gdb/
	* Makefile.in (HFILES_NO_SRCDIR): Add nat/linux-nat.h and
	nat/linux-waitpid.h.
	(linux-waitpid.o): New object file rule.
	* common/linux-ptrace.c: Include nat/linux-waitpid.h.
	(current_ptrace_options): Moved from linux-nat.c.
	(linux_ptrace_test_ret_to_nx): Use type casts for ptrace
	parameters.
	(linux_fork_to_function): New function.
	(linux_grandchild_function): Likewise.
	(linux_child_function): Likewise.
	(linux_check_ptrace_features): New function, heavily
	based on linux-nat.c:linux_test_for_tracefork.
	(linux_enable_event_reporting): New function.
	(ptrace_supports_feature): Likewise.
	(linux_supports_tracefork): Likewise.
	(linux_supports_traceclone): Likewise.
	(linux_supports_tracevforkdone): Likewise.
	(linux_supports_tracesysgood): Likewise.
	* common/linux-ptrace.h (HAS_NOMMU): Moved from
	gdbserver/linux-low.c.
	(linux_enable_event_reporting): New declaration.
	(linux_supports_tracefork): Likewise.
	(linux_supports_traceclone): Likewise.
	(linux_supports_tracevforkdone): Likewise.
	(linux_supports_tracesysgood): Likewise.
	* config.in (PTRACE_TYPE_ARG4): Regenerate.
	* config/aarch64/linux.mh (NATDEPFILES): Add linux-waitpid.o.
	* config/alpha/alpha-linux.mh (NATDEPFILES): Likewise.
	* config/arm/linux.mh (NATDEPFILES): Likewise.
	* config/i386/linux.mh (NATDEPFILES): Likewise.
	* config/i386/linux64.mh (NATDEPFILES): Likewise.
	* config/ia64/linux.mh (NATDEPFILES): Likewise.
	* config/m32r/linux.mh (NATDEPFILES): Likewise.
	* config/m68k/linux.mh (NATDEPFILES): Likewise.
	* config/mips/linux.mh (NATDEPFILES): Likewise.
	* config/pa/linux.mh (NATDEPFILES): Likewise..
	* config/powerpc/linux.mh (NATDEPFILES): Likewise..
	* config/powerpc/ppc64-linux.mh (NATDEPFILES): Likewise.
	* config/powerpc/spu-linux.mh (NATDEPFILES): Likewise.
	* config/sparc/linux.mh (NATDEPFILES): Likewise.
	* config/sparc/linux64.mh (NATDEPFILES): Likewise.
	* config/tilegx/linux.mh (NATDEPFILES): Likewise.
	* config/xtensa/linux.mh (NATDEPFILES): Likewise.
	* configure.ac (AC_CACHE_CHECK): Add void * to the list of
	ptrace's 4th argument's types.
	Check the type of PTRACE_TYPE_ARG4.
	* configure: Regenerate.
	* linux-nat.c: Include nat/linux-nat.h and nat/linux-waitpid.h.
	(SYSCALL_SIGTRAP): Moved to nat/linux-nat.h.
	(linux_supports_tracefork_flag): Remove.
	(linux_supports_tracesysgood_flag): Likewise.
	(linux_supports_tracevforkdone_flag): Likewise.
	(current_ptrace_options): Moved to
	common/linux-ptrace.c.
	(linux_tracefork_child): Remove.
	(my_waitpid): Remove.
	(linux_test_for_tracefork): Renamed to
	linux_check_ptrace_features and moved to common/linux-ptrace.c.
	(linux_test_for_tracesysgood): Remove.
	(linux_supports_tracesysgood): Remove.
	(linux_supports_tracefork): Remove.
	(linux_supports_tracevforkdone): Remove.
	(linux_enable_tracesysgood): Remove.
	(linux_enable_event_reporting): Remove.
	(linux_init_ptrace): New function.
	(linux_child_post_attach): Call linux_init_ptrace.
	(linux_child_post_startup_inferior): Call linux_init_ptrace.
	(linux_child_follow_fork): Call linux_supports_tracefork
	and linux_supports_tracevforkdone.
	(linux_child_insert_fork_catchpoint): Call
	linux_supports_tracefork.
	(linux_child_insert_vfork_catchpoint): Likewise.
	(linux_child_set_syscall_catchpoint): Call
	linux_supports_tracesysgood.
	(lin_lwp_attach_lwp): Call linux_supports_tracefork.
	* nat/linux-nat.h: New file.
	* nat/linux-waitpid.c: New file.
	* nat/linux-waitpid.h: New file.

	gdb/gdbserver/
	* Makefile.in: Explain why ../target and ../nat are not
	listed as include file search paths.
	(linux-waitpid.o): New object file rule.
	* configure.srv (srv_native_linux_obj): New variable.
	Replace all occurrences of linux native object files with
	$srv_native_linux_obj.
	* linux-low.c: Include nat/linux-nat.h and nat/linux-waitpid.h.
	(HAS_NOMMU): Move defining logic to common/linux-ptrace.c.
	(linux_enable_event_reporting): Remove declaration.
	(my_waitpid): Moved to common/linux-waitpid.c.
	(linux_wait_for_event): Pass ptid when calling
	linux_enable_event_reporting.
	(linux_supports_tracefork_flag): Remove.
	(linux_enable_event_reporting): Likewise.
	(linux_tracefork_grandchild): Remove.
	(STACK_SIZE): Moved to common/linux-ptrace.c.
	(linux_tracefork_child): Remove.
	(linux_test_for_tracefork): Remove.
	(linux_look_up_symbols): Call linux_supports_traceclone.
	(initialize_low): Remove call to linux_test_for_tracefork.
	* linux-low.h (PTRACE_TYPE_ARG3): Move to
	common/linux-ptrace.h.
	(PTRACE_TYPE_ARG4): Likewise.
	Include linux-ptrace.h.
@
text
@/* config.in.  Generated from configure.ac by autoheader.  */

/* Define if building universal (internal helper macro) */
#undef AC_APPLE_UNIVERSAL_BUILD

/* Directories from which to load auto-loaded scripts. */
#undef AUTO_LOAD_DIR

/* Directories safe to hold auto-loaded files. */
#undef AUTO_LOAD_SAFE_PATH

/* Directory of programs. */
#undef BINDIR

/* Define to one of `_getb67', `GETB67', `getb67' for Cray-2 and Cray-YMP
   systems. This function is required for `alloca.c' support on those systems.
   */
#undef CRAY_STACKSEG_END

/* Define to 1 if using `alloca.c'. */
#undef C_ALLOCA

/* look for global separate debug info in this path [LIBDIR/debug] */
#undef DEBUGDIR

/* Define if the separate-debug-dir directory should be relocated when GDB is
   moved. */
#undef DEBUGDIR_RELOCATABLE

/* Define to BFD's default architecture. */
#undef DEFAULT_BFD_ARCH

/* Define to BFD's default target vector. */
#undef DEFAULT_BFD_VEC

/* Define to 1 if translation of program messages to the user's native
   language is requested. */
#undef ENABLE_NLS

/* The .gdbinit filename. */
#undef GDBINIT

/* look for global separate data files in this path [DATADIR/gdb] */
#undef GDB_DATADIR

/* Define if the gdb-datadir directory should be relocated when GDB is moved.
   */
#undef GDB_DATADIR_RELOCATABLE

/* Define to be a string naming the default host character set. */
#undef GDB_DEFAULT_HOST_CHARSET

/* Host double floatformat */
#undef GDB_HOST_DOUBLE_FORMAT

/* Host float floatformat */
#undef GDB_HOST_FLOAT_FORMAT

/* Host long double floatformat */
#undef GDB_HOST_LONG_DOUBLE_FORMAT

/* nativefile */
#undef GDB_NM_FILE

/* Define to the default OS ABI for this configuration. */
#undef GDB_OSABI_DEFAULT

/* Define to 1 if you have `alloca', as a function or macro. */
#undef HAVE_ALLOCA

/* Define to 1 if you have <alloca.h> and it should be used (not on Ultrix).
   */
#undef HAVE_ALLOCA_H

/* Define to 1 if you have the `btowc' function. */
#undef HAVE_BTOWC

/* Define to 1 if you have the `canonicalize_file_name' function. */
#undef HAVE_CANONICALIZE_FILE_NAME

/* Define to 1 if you have the <cursesX.h> header file. */
#undef HAVE_CURSESX_H

/* Define to 1 if you have the <curses.h> header file. */
#undef HAVE_CURSES_H

/* Define to 1 if you have the declaration of `ADDR_NO_RANDOMIZE', and to 0 if
   you don't. */
#undef HAVE_DECL_ADDR_NO_RANDOMIZE

/* Define to 1 if you have the declaration of `free', and to 0 if you don't.
   */
#undef HAVE_DECL_FREE

/* Define to 1 if you have the declaration of `getopt', and to 0 if you don't.
   */
#undef HAVE_DECL_GETOPT

/* Define to 1 if you have the declaration of `getthrds', and to 0 if you
   don't. */
#undef HAVE_DECL_GETTHRDS

/* Define to 1 if you have the declaration of `malloc', and to 0 if you don't.
   */
#undef HAVE_DECL_MALLOC

/* Define to 1 if you have the declaration of `ptrace', and to 0 if you don't.
   */
#undef HAVE_DECL_PTRACE

/* Define to 1 if you have the declaration of `realloc', and to 0 if you
   don't. */
#undef HAVE_DECL_REALLOC

/* Define to 1 if you have the declaration of `snprintf', and to 0 if you
   don't. */
#undef HAVE_DECL_SNPRINTF

/* Define to 1 if you have the declaration of `strerror', and to 0 if you
   don't. */
#undef HAVE_DECL_STRERROR

/* Define to 1 if you have the declaration of `strstr', and to 0 if you don't.
   */
#undef HAVE_DECL_STRSTR

/* Define to 1 if you have the declaration of `vsnprintf', and to 0 if you
   don't. */
#undef HAVE_DECL_VSNPRINTF

/* Define to 1 if you have the <dirent.h> header file, and it defines `DIR'.
   */
#undef HAVE_DIRENT_H

/* Define to 1 if you have the <dlfcn.h> header file. */
#undef HAVE_DLFCN_H

/* Define if ELF support should be included. */
#undef HAVE_ELF

/* Define to 1 if you have the <elf_hp.h> header file. */
#undef HAVE_ELF_HP_H

/* Define to 1 if your system has the etext variable. */
#undef HAVE_ETEXT

/* Define to 1 if you have the `fdwalk' function. */
#undef HAVE_FDWALK

/* Define to 1 if you have the `fork' function. */
#undef HAVE_FORK

/* Define if <sys/procfs.h> has fpregset_t. */
#undef HAVE_FPREGSET_T

/* Define to 1 if you have the `getgid' function. */
#undef HAVE_GETGID

/* Define to 1 if you have the `getpagesize' function. */
#undef HAVE_GETPAGESIZE

/* Define to 1 if you have the `getrlimit' function. */
#undef HAVE_GETRLIMIT

/* Define to 1 if you have the `getrusage' function. */
#undef HAVE_GETRUSAGE

/* Define to 1 if you have the `getuid' function. */
#undef HAVE_GETUID

/* Define if <sys/procfs.h> has gregset_t. */
#undef HAVE_GREGSET_T

/* Define if you have the iconv() function. */
#undef HAVE_ICONV

/* Define to 1 if you have the `iconvlist' function. */
#undef HAVE_ICONVLIST

/* Define to 1 if you have the <inttypes.h> header file. */
#undef HAVE_INTTYPES_H

/* Define if you have <langinfo.h> and nl_langinfo(CODESET). */
#undef HAVE_LANGINFO_CODESET

/* Define if your <locale.h> file defines LC_MESSAGES. */
#undef HAVE_LC_MESSAGES

/* Define if you have the babeltrace library. */
#undef HAVE_LIBBABELTRACE

/* Define to 1 if you have the `dl' library (-ldl). */
#undef HAVE_LIBDL

/* Define if you have the expat library. */
#undef HAVE_LIBEXPAT

/* Define to 1 if you have the `libiconvlist' function. */
#undef HAVE_LIBICONVLIST

/* Define if you have the lzma library. */
#undef HAVE_LIBLZMA

/* Define to 1 if you have the `m' library (-lm). */
#undef HAVE_LIBM

/* Define to 1 if you have the `mcheck' library (-lmcheck). */
#undef HAVE_LIBMCHECK

/* Define if Python 2.4 is being used. */
#undef HAVE_LIBPYTHON2_4

/* Define if Python 2.5 is being used. */
#undef HAVE_LIBPYTHON2_5

/* Define if Python 2.6 is being used. */
#undef HAVE_LIBPYTHON2_6

/* Define if Python 2.7 is being used. */
#undef HAVE_LIBPYTHON2_7

/* Define to 1 if you have the <libunwind-ia64.h> header file. */
#undef HAVE_LIBUNWIND_IA64_H

/* Define to 1 if you have the `w' library (-lw). */
#undef HAVE_LIBW

/* Define to 1 if you have the <link.h> header file. */
#undef HAVE_LINK_H

/* Define to 1 if you have the <linux/perf_event.h> header file. */
#undef HAVE_LINUX_PERF_EVENT_H

/* Define to 1 if you have the <locale.h> header file. */
#undef HAVE_LOCALE_H

/* Define to 1 if the compiler supports long double. */
#undef HAVE_LONG_DOUBLE

/* Define to 1 if you have the `lstat' function. */
#undef HAVE_LSTAT

/* Define if <sys/procfs.h> has lwpid_t. */
#undef HAVE_LWPID_T

/* Define to 1 if you have the <machine/reg.h> header file. */
#undef HAVE_MACHINE_REG_H

/* Define to 1 if you have the <memory.h> header file. */
#undef HAVE_MEMORY_H

/* Define to 1 if you have a working `mmap' system call. */
#undef HAVE_MMAP

/* Define to 1 if you have the `monstartup' function. */
#undef HAVE_MONSTARTUP

/* Define to 1 if you have the <ncurses.h> header file. */
#undef HAVE_NCURSES_H

/* Define to 1 if you have the <ncurses/ncurses.h> header file. */
#undef HAVE_NCURSES_NCURSES_H

/* Define to 1 if you have the <ncurses/term.h> header file. */
#undef HAVE_NCURSES_TERM_H

/* Define to 1 if you have the <ndir.h> header file, and it defines `DIR'. */
#undef HAVE_NDIR_H

/* Define to 1 if you have the <nlist.h> header file. */
#undef HAVE_NLIST_H

/* Define if you support the personality syscall. */
#undef HAVE_PERSONALITY

/* Define to 1 if you have the `pipe' function. */
#undef HAVE_PIPE

/* Define to 1 if you have the `pipe2' function. */
#undef HAVE_PIPE2

/* Define to 1 if you have the `poll' function. */
#undef HAVE_POLL

/* Define to 1 if you have the <poll.h> header file. */
#undef HAVE_POLL_H

/* Define to 1 if you have the `posix_madvise' function. */
#undef HAVE_POSIX_MADVISE

/* Define to 1 if you have the `pread' function. */
#undef HAVE_PREAD

/* Define to 1 if you have the `pread64' function. */
#undef HAVE_PREAD64

/* Define if <sys/procfs.h> has prfpregset32_t. */
#undef HAVE_PRFPREGSET32_T

/* Define if <sys/procfs.h> has prfpregset_t. */
#undef HAVE_PRFPREGSET_T

/* Define if <sys/procfs.h> has prgregset32_t. */
#undef HAVE_PRGREGSET32_T

/* Define if <sys/procfs.h> has prgregset_t. */
#undef HAVE_PRGREGSET_T

/* Define if ioctl argument PIOCSET is available. */
#undef HAVE_PROCFS_PIOCSET

/* Define to 1 if you have the <proc_service.h> header file. */
#undef HAVE_PROC_SERVICE_H

/* Define if <sys/procfs.h> has prrun_t. */
#undef HAVE_PRRUN_T

/* Define if <sys/procfs.h> has prsysent_t. */
#undef HAVE_PRSYSENT_T

/* Define if <sys/procfs.h> has pr_sigaction64_t. */
#undef HAVE_PR_SIGACTION64_T

/* Define if <sys/procfs.h> has pr_siginfo64_t. */
#undef HAVE_PR_SIGINFO64_T

/* Define if <sys/procfs.h> has pr_sigset_t. */
#undef HAVE_PR_SIGSET_T

/* Define if <sys/procfs.h> has psaddr_t. */
#undef HAVE_PSADDR_T

/* Define if <sys/procfs.h> has pstatus_t. */
#undef HAVE_PSTATUS_T

/* Define to 1 if you have the `ptrace64' function. */
#undef HAVE_PTRACE64

/* Define if sys/ptrace.h defines the PTRACE_GETFPXREGS request. */
#undef HAVE_PTRACE_GETFPXREGS

/* Define if sys/ptrace.h defines the PTRACE_GETREGS request. */
#undef HAVE_PTRACE_GETREGS

/* Define to 1 if you have the <ptrace.h> header file. */
#undef HAVE_PTRACE_H

/* Define if sys/ptrace.h defines the PT_GETDBREGS request. */
#undef HAVE_PT_GETDBREGS

/* Define if sys/ptrace.h defines the PT_GETXMMREGS request. */
#undef HAVE_PT_GETXMMREGS

/* Define to 1 if you have the `pwrite' function. */
#undef HAVE_PWRITE

/* Define if Python interpreter is being linked in. */
#undef HAVE_PYTHON

/* Define to 1 if you have the `readlink' function. */
#undef HAVE_READLINK

/* Define to 1 if you have the `realpath' function. */
#undef HAVE_REALPATH

/* Define to 1 if you have the `resize_term' function. */
#undef HAVE_RESIZE_TERM

/* Define to 1 if you have the `sbrk' function. */
#undef HAVE_SBRK

/* Define to 1 if you have the `setlocale' function. */
#undef HAVE_SETLOCALE

/* Define to 1 if you have the `setpgid' function. */
#undef HAVE_SETPGID

/* Define to 1 if you have the `setpgrp' function. */
#undef HAVE_SETPGRP

/* Define to 1 if you have the `setrlimit' function. */
#undef HAVE_SETRLIMIT

/* Define to 1 if you have the `setsid' function. */
#undef HAVE_SETSID

/* Define to 1 if you have the <sgtty.h> header file. */
#undef HAVE_SGTTY_H

/* Define to 1 if you have the `sigaction' function. */
#undef HAVE_SIGACTION

/* Define to 1 if you have the <signal.h> header file. */
#undef HAVE_SIGNAL_H

/* Define to 1 if you have the `sigprocmask' function. */
#undef HAVE_SIGPROCMASK

/* Define if sigsetjmp is available. */
#undef HAVE_SIGSETJMP

/* Define to 1 if you have the `sigsetmask' function. */
#undef HAVE_SIGSETMASK

/* Define to 1 if you have the `socketpair' function. */
#undef HAVE_SOCKETPAIR

/* Define to 1 if the system has the type `socklen_t'. */
#undef HAVE_SOCKLEN_T

/* Define to 1 if you have the <stddef.h> header file. */
#undef HAVE_STDDEF_H

/* Define to 1 if you have the <stdint.h> header file. */
#undef HAVE_STDINT_H

/* Define to 1 if you have the <stdlib.h> header file. */
#undef HAVE_STDLIB_H

/* Define to 1 if you have the <strings.h> header file. */
#undef HAVE_STRINGS_H

/* Define to 1 if you have the <string.h> header file. */
#undef HAVE_STRING_H

/* Define if <sys/link.h> has struct link_map32 */
#undef HAVE_STRUCT_LINK_MAP32

/* Define if <link.h> exists and defines struct link_map which has members
   with an ``lm_'' prefix. (For SunOS.) */
#undef HAVE_STRUCT_LINK_MAP_WITH_LM_MEMBERS

/* Define if <link.h> exists and defines struct link_map which has members
   with an ``l_'' prefix. (For Solaris, SVR4, and SVR4-like systems.) */
#undef HAVE_STRUCT_LINK_MAP_WITH_L_MEMBERS

/* Define to 1 if your system has struct lwp. */
#undef HAVE_STRUCT_LWP

/* Define to 1 if your system has struct reg in <machine/reg.h>. */
#undef HAVE_STRUCT_REG

/* Define to 1 if `struct reg' is a member of `r_fs'. */
#undef HAVE_STRUCT_REG_R_FS

/* Define to 1 if `struct reg' is a member of `r_gs'. */
#undef HAVE_STRUCT_REG_R_GS

/* Define if <link.h> exists and defines a struct so_map which has members
   with an ``som_'' prefix. (Found on older *BSD systems.) */
#undef HAVE_STRUCT_SO_MAP_WITH_SOM_MEMBERS

/* Define to 1 if `struct stat' is a member of `st_blksize'. */
#undef HAVE_STRUCT_STAT_ST_BLKSIZE

/* Define to 1 if `struct stat' is a member of `st_blocks'. */
#undef HAVE_STRUCT_STAT_ST_BLOCKS

/* Define to 1 if `struct thread' is a member of `td_pcb'. */
#undef HAVE_STRUCT_THREAD_TD_PCB

/* Define to 1 if `struct user_regs_struct' is a member of `fs_base'. */
#undef HAVE_STRUCT_USER_REGS_STRUCT_FS_BASE

/* Define to 1 if `struct user_regs_struct' is a member of `gs_base'. */
#undef HAVE_STRUCT_USER_REGS_STRUCT_GS_BASE

/* Define to 1 if you have the `syscall' function. */
#undef HAVE_SYSCALL

/* Define to 1 if you have the <sys/debugreg.h> header file. */
#undef HAVE_SYS_DEBUGREG_H

/* Define to 1 if you have the <sys/dir.h> header file, and it defines `DIR'.
   */
#undef HAVE_SYS_DIR_H

/* Define to 1 if you have the <sys/fault.h> header file. */
#undef HAVE_SYS_FAULT_H

/* Define to 1 if you have the <sys/file.h> header file. */
#undef HAVE_SYS_FILE_H

/* Define to 1 if you have the <sys/filio.h> header file. */
#undef HAVE_SYS_FILIO_H

/* Define to 1 if you have the <sys/ioctl.h> header file. */
#undef HAVE_SYS_IOCTL_H

/* Define to 1 if you have the <sys/ndir.h> header file, and it defines `DIR'.
   */
#undef HAVE_SYS_NDIR_H

/* Define to 1 if you have the <sys/param.h> header file. */
#undef HAVE_SYS_PARAM_H

/* Define to 1 if you have the <sys/poll.h> header file. */
#undef HAVE_SYS_POLL_H

/* Define to 1 if you have the <sys/procfs.h> header file. */
#undef HAVE_SYS_PROCFS_H

/* Define to 1 if you have the <sys/proc.h> header file. */
#undef HAVE_SYS_PROC_H

/* Define to 1 if you have the <sys/ptrace.h> header file. */
#undef HAVE_SYS_PTRACE_H

/* Define to 1 if you have the <sys/reg.h> header file. */
#undef HAVE_SYS_REG_H

/* Define to 1 if you have the <sys/resource.h> header file. */
#undef HAVE_SYS_RESOURCE_H

/* Define to 1 if you have the <sys/select.h> header file. */
#undef HAVE_SYS_SELECT_H

/* Define to 1 if you have the <sys/socket.h> header file. */
#undef HAVE_SYS_SOCKET_H

/* Define to 1 if you have the <sys/stat.h> header file. */
#undef HAVE_SYS_STAT_H

/* Define to 1 if you have the <sys/syscall.h> header file. */
#undef HAVE_SYS_SYSCALL_H

/* Define to 1 if you have the <sys/types.h> header file. */
#undef HAVE_SYS_TYPES_H

/* Define to 1 if you have the <sys/un.h> header file. */
#undef HAVE_SYS_UN_H

/* Define to 1 if you have the <sys/user.h> header file. */
#undef HAVE_SYS_USER_H

/* Define to 1 if you have the <sys/wait.h> header file. */
#undef HAVE_SYS_WAIT_H

/* Define to 1 if you have the <termios.h> header file. */
#undef HAVE_TERMIOS_H

/* Define to 1 if you have the <termio.h> header file. */
#undef HAVE_TERMIO_H

/* Define to 1 if you have the <term.h> header file. */
#undef HAVE_TERM_H

/* Define to 1 if you have the <thread_db.h> header file. */
#undef HAVE_THREAD_DB_H

/* Define if using Solaris thread debugging. */
#undef HAVE_THREAD_DB_LIB

/* Define if you support the tkill syscall. */
#undef HAVE_TKILL_SYSCALL

/* Define to 1 if you have the `ttrace' function. */
#undef HAVE_TTRACE

/* Define to 1 if you have the <unistd.h> header file. */
#undef HAVE_UNISTD_H

/* Define to 1 if you have the `vfork' function. */
#undef HAVE_VFORK

/* Define to 1 if you have the <vfork.h> header file. */
#undef HAVE_VFORK_H

/* Define to 1 if you have the `waitpid' function. */
#undef HAVE_WAITPID

/* Define to 1 if you have the <wait.h> header file. */
#undef HAVE_WAIT_H

/* Define to 1 if you have the `wborder' function. */
#undef HAVE_WBORDER

/* Define to 1 if `fork' works. */
#undef HAVE_WORKING_FORK

/* Define to 1 if `vfork' works. */
#undef HAVE_WORKING_VFORK

/* Define to 1 if you have the `wresize' function. */
#undef HAVE_WRESIZE

/* Define to 1 if you have the `XML_StopParser' function. */
#undef HAVE_XML_STOPPARSER

/* Define to 1 if you have the <zlib.h> header file. */
#undef HAVE_ZLIB_H

/* Define to 1 if your system has the _etext variable. */
#undef HAVE__ETEXT

/* Define to 1 if you have the `_mcleanup' function. */
#undef HAVE__MCLEANUP

/* Path of directory of iconv program. */
#undef ICONV_BIN

/* Define if the iconv directory should be relocated when GDB is moved. */
#undef ICONV_BIN_RELOCATABLE

/* Define as const if the declaration of iconv() needs const. */
#undef ICONV_CONST

/* directory to load the JIT readers from */
#undef JIT_READER_DIR

/* Define if the jit-reader-dir directory should be relocated when GDB is
   moved. */
#undef JIT_READER_DIR_RELOCATABLE

/* Define if you want to use new multi-fd /proc interface (replaces
   HAVE_MULTIPLE_PROC_FDS as well as other macros). */
#undef NEW_PROC_API

/* Name of this package. */
#undef PACKAGE

/* Define to the address where bug reports for this package should be sent. */
#undef PACKAGE_BUGREPORT

/* Define to the full name of this package. */
#undef PACKAGE_NAME

/* Define to the full name and version of this package. */
#undef PACKAGE_STRING

/* Define to the one symbol short name of this package. */
#undef PACKAGE_TARNAME

/* Define to the home page for this package. */
#undef PACKAGE_URL

/* Define to the version of this package. */
#undef PACKAGE_VERSION

/* Additional package description */
#undef PKGVERSION

/* Define if the prfpregset_t type is broken. */
#undef PRFPREGSET_T_BROKEN

/* Define to 1 if the "%H, %D and %DD" formats work to print decfloats. */
#undef PRINTF_HAS_DECFLOAT

/* Define to 1 if the "%Lg" format works to print long doubles. */
#undef PRINTF_HAS_LONG_DOUBLE

/* Define to 1 if the "%ll" format works to print long longs. */
#undef PRINTF_HAS_LONG_LONG

/* Define if <proc_service.h> on solaris uses int instead of size_t, and
   assorted other type changes. */
#undef PROC_SERVICE_IS_OLD

/* Define to the type of arg 3 for ptrace. */
#undef PTRACE_TYPE_ARG3

/* Define to the type of arg 4 for ptrace. */
#undef PTRACE_TYPE_ARG4

/* Define to the type of arg 5 for ptrace. */
#undef PTRACE_TYPE_ARG5

/* Define as the return type of ptrace. */
#undef PTRACE_TYPE_RET

/* Define if the python directory should be relocated when GDB is moved. */
#undef PYTHON_PATH_RELOCATABLE

/* Relocated directory for source files. */
#undef RELOC_SRCDIR

/* Bug reporting address */
#undef REPORT_BUGS_TO

/* Define as the return type of signal handlers (`int' or `void'). */
#undef RETSIGTYPE

/* Define to 1 if the "%Lg" format works to scan long doubles. */
#undef SCANF_HAS_LONG_DOUBLE

/* Define to 1 if the `setpgrp' function takes no argument. */
#undef SETPGRP_VOID

/* The size of `long', as computed by sizeof. */
#undef SIZEOF_LONG

/* The size of `unsigned long', as computed by sizeof. */
#undef SIZEOF_UNSIGNED_LONG

/* The size of `unsigned long long', as computed by sizeof. */
#undef SIZEOF_UNSIGNED_LONG_LONG

/* The size of `unsigned __int128', as computed by sizeof. */
#undef SIZEOF_UNSIGNED___INT128

/* If using the C implementation of alloca, define if you know the
   direction of stack growth for your system; otherwise it will be
   automatically deduced at runtime.
	STACK_DIRECTION > 0 => grows toward higher addresses
	STACK_DIRECTION < 0 => grows toward lower addresses
	STACK_DIRECTION = 0 => direction of growth unknown */
#undef STACK_DIRECTION

/* Define to 1 if you have the ANSI C header files. */
#undef STDC_HEADERS

/* automatically load a system-wide gdbinit file */
#undef SYSTEM_GDBINIT

/* Define if the system-gdbinit directory should be relocated when GDB is
   moved. */
#undef SYSTEM_GDBINIT_RELOCATABLE

/* search for usr/lib et al within DIR */
#undef TARGET_SYSTEM_ROOT

/* Define if the sysroot directory should be relocated when GDB is moved. */
#undef TARGET_SYSTEM_ROOT_RELOCATABLE

/* Define if <thread_db.h> has the TD_NOTALLOC error code. */
#undef THREAD_DB_HAS_TD_NOTALLOC

/* Define if <thread_db.h> has the TD_NOTLS error code. */
#undef THREAD_DB_HAS_TD_NOTLS

/* Define if <thread_db.h> has the TD_VERSION error code. */
#undef THREAD_DB_HAS_TD_VERSION

/* Define to 1 if the regex included in libiberty should be used. */
#undef USE_INCLUDED_REGEX

/* Enable extensions on AIX 3, Interix.  */
#ifndef _ALL_SOURCE
# undef _ALL_SOURCE
#endif
/* Enable GNU extensions on systems that have them.  */
#ifndef _GNU_SOURCE
# undef _GNU_SOURCE
#endif
/* Enable threading extensions on Solaris.  */
#ifndef _POSIX_PTHREAD_SEMANTICS
# undef _POSIX_PTHREAD_SEMANTICS
#endif
/* Enable extensions on HP NonStop.  */
#ifndef _TANDEM_SOURCE
# undef _TANDEM_SOURCE
#endif
/* Enable general extensions on Solaris.  */
#ifndef __EXTENSIONS__
# undef __EXTENSIONS__
#endif


/* Define if we should use the Windows API, instead of the POSIX API. On
   Windows, we use the Windows API when building for MinGW, but the POSIX API
   when building for Cygwin. */
#undef USE_WIN32API

/* Define if --with-python provides a path, either directly or via
   python-config.py --exec-prefix. */
#undef WITH_PYTHON_PATH

/* Define if the simulator is being linked in. */
#undef WITH_SIM

/* Define WORDS_BIGENDIAN to 1 if your processor stores words with the most
   significant byte first (like Motorola and SPARC, unlike Intel). */
#if defined AC_APPLE_UNIVERSAL_BUILD
# if defined __BIG_ENDIAN__
#  define WORDS_BIGENDIAN 1
# endif
#else
# ifndef WORDS_BIGENDIAN
#  undef WORDS_BIGENDIAN
# endif
#endif

/* Number of bits in a file offset, on hosts where this is settable. */
#undef _FILE_OFFSET_BITS

/* Define to 1 so <sys/proc.h> gets a definition of anon_hdl. Works around a
   <sys/proc.h> problem on IRIX 5. */
#undef _KMEMUSER

/* Define for large files, on AIX-style hosts. */
#undef _LARGE_FILES

/* Define to 1 if on MINIX. */
#undef _MINIX

/* Define to 1 to avoid a clash between <widec.h> and <wchar.h> on Solaris
   2.[789] when using GCC. */
#undef _MSE_INT_H

/* Define to 2 if the system does not provide POSIX.1 features except with
   this defined. */
#undef _POSIX_1_SOURCE

/* Define to 1 if you need to in order for `stat' and other things to work. */
#undef _POSIX_SOURCE

/* Define if <sys/link.h> has link_map32 (solaris sparc-64 target) */
#undef _SYSCALL32

/* Define to empty if `const' does not conform to ANSI C. */
#undef const

/* Define to `__inline__' or `__inline' if that's what the C compiler
   calls it, or to nothing if 'inline' is not supported under any name.  */
#ifndef __cplusplus
#undef inline
#endif

/* Define to `int' if <sys/types.h> does not define. */
#undef pid_t

/* Define as `fork' if `vfork' does not work. */
#undef vfork
@


1.157
log
@2013-08-07  Raunaq Bathija  <raunaq12@@in.ibm.com>
	    Ulrich Weigand  <uweigand@@de.ibm.com>

	* gdb_ptrace.h: Use ptrace64 instead of ptrace if HAVE_PTRACE64
	is defined.
	* rs6000-nat.c: Check for __ld_info64_ if compiling 64 BIT gdb.
	(rs6000_ptrace32): Call ptrace64 instead of ptrace if present.
	(rs6000_ptrace64): Call ptace64 instead of ptracex if present.
	* configure.ac: Check for ptrace64.
	* configure, config.in: Regenerate.
@
text
@d662 3
@


1.156
log
@Reimplement DJGPP's .gdbinit -> gdb.ini renaming.

This simplifies the .gdbinit filename selection logic.

We have a GDBINIT_FILENAME define that supposedly configurations would
override, but none do so.  Instead, the only configuration that wants
a different file name instead of ".gdbinit", djgpp, does a strcpy over
the gdbinit global array.  This means the array needs to be sized, and
the code that does that is doing the usual
'PATH_MAX/FILENAME_MAX/fallback constant/etc.' mess.

Instead of all that, it's much simpler to have configure specificy the
.gdbinit filename.  As bonus, we can then make the "gdbinit" global
array const.

gdb/
2013-07-01  Pedro Alves  <palves@@redhat.com>

	* configure.ac (GDBINIT): Define, depending on host.
	* go32-nat.c (init_go32_ops): Don't override gdbinit here.
	* top.c (PATH_MAX): Delete fallback definition.
	(GDBINIT_FILENAME): Delete.
	(gdbinit): Reimplement as const char array set to the GDBINIT
	string constant.
	* top.h (gdbinit): Make const.
@
text
@d336 3
@


1.155
log
@common/filestuff.c: No sockets on DJGPP.

Building gdb with --host=i586-pc-msdosdjgpp ends up with:

 i586-pc-msdosdjgpp-gcc -g -O2 -I../../src/gdb/config/djgpp  -I. -I../../src/gdb -I../../src/gdb/common -I../../src/gdb/config -DLOCALEDIR="\"/usr/local/share/locale\"" -DHAVE_CONFIG_H -I../../src/gdb/../include/opcode -I../../src/gdb/../opcodes/.. -I../../src/gdb/../readline/.. -I../bfd -I../../src/gdb/../bfd -I../../src/gdb/../include -I../libdecnumber -I../../src/gdb/../libdecnumber -I./../intl -I../../src/gdb/gnulib/import -Ibuild-gnulib/import    -Wall -Wdeclaration-after-statement -Wpointer-arith -Wformat-nonliteral -Wpointer-sign -Wno-unused -Wunused-value -Wunused-function -Wno-switch -Wno-char-subscripts -Wmissing-prototypes -Wdeclaration-after-statement -Wempty-body -Werror -c -o filestuff.o -MT filestuff.o -MMD -MP -MF .deps/filestuff.Tpo ../../src/gdb/common/filestuff.c
 ../../src/gdb/common/filestuff.c:38:24: fatal error: sys/socket.h: No such file or directory

There are no sockets on djgpp.  This #ifdef's out the bits in the file
that use sockets, depending on whether winsock or sys/socket.h is
available.

As alternative approach, given ser-tcp.c, ser-pipe.c, etc. are split
into separate files, and which to use is selected by configure.ac:

 dnl Figure out which of the many generic ser-*.c files the _host_ supports.
 SER_HARDWIRE="ser-base.o ser-unix.o ser-pipe.o ser-tcp.o"
 case ${host} in
  *go32* ) SER_HARDWIRE=ser-go32.o ;;
  *djgpp* ) SER_HARDWIRE=ser-go32.o ;;
  *mingw32*) SER_HARDWIRE="ser-base.o ser-tcp.o ser-mingw.o" ;;
 esac
 AC_SUBST(SER_HARDWIRE)

... I considered splitting filestuff.c similarly.  But I quickly gave
up on the idea, as it looked like a lot more complication over this
approach, for no real gain.  Plus, there are uses of these functions
outside the ser*.c framework.

gdbserver's configure.ac is already checking for sys/socket.h.

gdb/
2013-05-23  Pedro Alves  <palves@@redhat.com>

	* common/filestuff.c [USE_WIN32API]: Define HAVE_SOCKETS.
	[HAVE_SYS_SOCKET_H]: Define HAVE_SOCKETS.
	(socket_mark_cloexec, gdb_socketpair_cloexec, gdb_socket_cloexec):
	Only define if HAVE_SOCKETS is defined.
	* configure.ac: Check for sys/socket.h.
	* config.in, configure: Regenerate.
@
text
@d40 3
@


1.154
log
@	PR gdb/7912:
	* Makefile.in (SFILES): Add filestuff.c
	(COMMON_OBS): Add filestuff.o.
	(filestuff.o): New target.
	* auto-load.c (auto_load_objfile_script_1): Use
	gdb_fopen_cloexec.
	* auxv.c (procfs_xfer_auxv): Use gdb_open_cloexec.
	* cli/cli-cmds.c (shell_escape): Call close_most_fds.
	* cli/cli-dump.c (fopen_with_cleanup): Use gdb_fopen_cloexec.
	* common/agent.c (gdb_connect_sync_socket): Use
	gdb_socket_cloexec.
	* common/filestuff.c: New file.
	* common/filestuff.h: New file.
	* common/linux-osdata.c (linux_common_core_of_thread)
	(command_from_pid, commandline_from_pid, print_source_lines)
	(linux_xfer_osdata_shm, linux_xfer_osdata_sem)
	(linux_xfer_osdata_msg, linux_xfer_osdata_modules): Use
	gdb_fopen_cloexec.
	* common/linux-procfs.c (linux_proc_get_int)
	(linux_proc_pid_has_state): Use gdb_fopen_cloexec.
	* config.in, configure: Rebuild.
	* configure.ac: Don't check for sys/socket.h.  Check for
	fdwalk, pipe2.
	* corelow.c (core_open): Use gdb_open_cloexec.
	* dwarf2read.c (write_psymtabs_to_index): Use gdb_fopen_cloexec.
	* fork-child.c (fork_inferior): Call close_most_fds.
	* gdb_bfd.c (gdb_bfd_open): Use gdb_open_cloexec.
	* inf-child.c (inf_child_fileio_readlink): Use gdb_open_cloexec.
	* linux-nat.c (linux_nat_thread_name, linux_proc_pending_signals):
	Use gdb_fopen_cloexec.
	(linux_proc_xfer_partial, linux_proc_xfer_spu): Use
	gdb_open_cloexec.
	(linux_async_pipe): Use gdb_pipe_cloexec.
	* remote-fileio.c (remote_fileio_func_open): Use
	gdb_open_cloexec.
	* remote.c (remote_file_put, remote_file_get): Use
	gdb_fopen_cloexec.
	* ser-pipe.c (pipe_open): Use gdb_socketpair_cloexec,
	close_most_fds.
	* ser-tcp.c (net_open): Use gdb_socket_cloexec.
	* ser-unix.c (hardwire_open): Use gdb_open_cloexec.
	* solib.c (solib_find): Use gdb_open_cloexec.
	* source.c (openp, find_and_open_source): Use gdb_open_cloexec.
	* tracepoint.c (tfile_start): Use gdb_fopen_cloexec.
	(tfile_open): Use gdb_open_cloexec.
	* tui/tui-io.c (tui_initialize_io): Use gdb_pipe_cloexec.
	* ui-file.c (gdb_fopen): Use gdb_fopen_cloexec.
	* xml-support.c (xml_fetch_content_from_file): Use
	gdb_fopen_cloexec.
	* main.c (captured_main): Call notice_open_fds.
gdbserver
	* Makefile.in (SFILES): Add filestuff.c.
	(OBS): Add filestuff.o.
	(filestuff.o): New target.
	* config.in, configure: Rebuild.
	* configure.ac: Check for fdwalk, pipe2.
@
text
@d512 3
@


1.153
log
@gdb/
	* config.in: Regenerate.
@
text
@d144 3
d276 3
a511 3
/* Define to 1 if you have the <sys/socket.h> header file. */
#undef HAVE_SYS_SOCKET_H

@


1.152
log
@gdb/

2013-04-10  Hui Zhu  <hui@@codesourcery.com>
	    Yao Qi  <yao@@codesourcery.com>

	* configure.ac: Check libbabeltrace is installed.
	* config.in: Regenerate.
	* configure: Regenerate.
	* Makefile.in (LIBBABELTRACE): New.
	(CLIBS): Add LIBBABELTRACE.
	* ctf.c: Include "exec.h".
	(CTF_EVENT_ID_STATUS, CTF_EVENT_ID_TSV_DEF): New macros.
	(CTF_EVENT_ID_TP_DEF, ctf_save_write_int32): New macros.
	(ctf_save_metadata_header): Define new type aliases in
	metadata.
	(ctf_write_header): Define event type "tsv_def" and "tp_def"
	in metadata.  Start a new faked packet for trace status.
	(ctf_write_status): Write trace status to CTF.
	(ctf_write_uploaded_tsv): Write TSV to CTF.
	(ctf_write_uploaded_tp): Write tracepoint definition to CTF.
	(ctf_write_definition_end): End the faked packet.

	(ctx, ctf_iter, trace_dirname): New.
	(start_pos): New variable.
	(ctf_destroy, ctf_open_dir, ctf_open): New.
	(SET_INT32_FIELD, SET_ARRAY_FIELD, SET_STRING_FIELD): New
	macros.
	(ctf_read_tsv, ctf_read_tp, ctf_close, ctf_files_info): New.
	(ctf_fetch_registers, ctf_xfer_partial): New.
	(ctf_get_trace_state_variable_value): New.
	(ctf_get_tpnum_from_frame_event): New.
	(ctf_get_traceframe_address): New.
	(ctf_trace_find, ctf_has_stack): New.
	(ctf_has_registers, ctf_traceframe_info, init_ctf_ops): New.
	(ctf_get_trace_status, ctf_read_status): New.
	(_initialize_ctf): New.
	* tracepoint.c (get_tracepoint_number): New
	(get_uploaded_tsv): Remove 'static'.
 	(struct traceframe_info, trace_regblock_size): Move it to ...
	* tracepoint.h: ... here.
	(get_tracepoint_number): Declare it.
	(get_uploaded_tsv): Declare it.

	* NEWS: Mention new configure option.

gdb/doc/

2013-04-10  Yao Qi  <yao@@codesourcery.com>

	* gdb.texinfo (Trace Files): Add "target ctf".

gdb/testsuite/

2013-04-10  Yao Qi  <yao@@codesourcery.com>

	* gdb.trace/actions.exp: Save trace data to CTF.
	Change to ctf target if GDB supports, read CTF data in ctf
	target, and check the actions of tracepoints.
	* gdb.trace/while-stepping.exp: Likewise.
	* gdb.trace/report.exp: Test GDB saves trace data to CTF
	format and read CTF trace file if GDB supports.
	* gdb.trace/tstatus.exp: Save trace data to CTF.  If ctf
	target is supported, change to ctf target, read trace data and
	check output of command "tstatus".
	* gdb.trace/tsv.exp: Save trace frame to CTF.  If GDB supports,
	read CTF data by target ctf and call check_tsv.
@
text
@d183 1
a183 1
/* Define if libbabeltrace is available */
@


1.151
log
@gdb/
	* configure.ac (CC_HAS_LONG_LONG): Replace by AC_MSG_ERROR.
	* defs.h (LONGEST, ULONGEST): Remove conditionalization for
	CC_HAS_LONG_LONG.
	* dwarf2-frame.c (DW64_CIE_ID): Likewise.
	* dwarf2read.c (extract_cu_value): Remove the function.
	(create_cus_from_index_list): Make the return type void, inline the
	extract_cu_value caller, include new gdb_static_assert.
	(create_cus_from_index): Make the return type void, update the function
	comment, update the create_cus_from_index_list caller.
	(create_signatured_type_table_from_index): Make the return type void,
	inline the extract_cu_value caller, include new gdb_static_assert.
	(dwarf2_read_index): Update the create_cus_from_index and
	create_signatured_type_table_from_index caller.
	* printcmd.c (ui_printf): Remove conditionalizations for
	CC_HAS_LONG_LONG.
	* config.in: Regenerate.
	* configure: Regenerate.

gdb/doc/
	* gdbint.texinfo (Host Definition): Remove CC_HAS_LONG_LONG.
@
text
@d183 3
@


1.150
log
@2012-11-28  Markus Metzger <markus.t.metzger@@intel.com>

gdb/
	* configure.ac: Check for linux/perf_event.h.
	* config.in: Regenerated.
	* configure: Regenerated.

gdb/gdbserver/
	* configure.ac: Check for linux/perf_event.h.
	* config.in: Regenerated.
	* configure: Regenerated.
@
text
@a14 3
/* Define to 1 if the compiler supports long long. */
#undef CC_HAS_LONG_LONG

@


1.149
log
@2012-11-26  Alexander Larsson  <alexl@@redhat.com>
	    Jan Kratochvil  <jan.kratochvil@@redhat.com>
	    Tom Tromey  <tromey@@redhat.com>

	* NEWS: Mention mini debuginfo feature.
	* minidebug.c: New file.
	* configure.ac: Check for lzma.
	* configure, config.in: Rebuild.
	* Makefile.in (LIBLZMA): New variable.
	(CLIBS): Include LIBLZMA.
	(SFILES): Mention minidebug.c.
	(COMMON_OBS): Mention minidebug.o.
	* symfile.c (read_symbols): New function.
	(syms_from_objfile, reread_symbols): Call it.
	* symfile.h (find_separate_debug_file_in_section): Declare.
doc
	* gdb.texinfo (MiniDebugInfo): New node.
	(GDB Files): Update.
testsuite
	* gdb.base/gnu-debugdata.exp: New file.
	* gdb.base/gnu-debugdata.c: New file.
	* lib/gdb.exp (gdb_file_cmd): Handle LZMA warning.
	(gdb_unload): Return 0 on success.
@
text
@d225 3
@


1.148
log
@	* configure.ac (AC_HEADER_STAT): Remove.
	* gdb_stat.h (STAT_MACROS_BROKEN): Remove macro use
	and corresponding code.
	* configure: Regenerate.
	* config.in: Regenerate.
@
text
@d195 3
@


1.147
log
@	* configure, config.in: Rebuild.
	* configure.ac: Don't check for ctype.h, time.h.
	* expprint.c: Don't use HAVE_CTYPE_H.
@
text
@a687 3
/* Define to 1 if the `S_IS*' macros in <sys/stat.h> do not work properly. */
#undef STAT_MACROS_BROKEN

@


1.146
log
@gdb/
	* config.in: Regenerate.
	* configure: Regenerate.
	* configure.ac: Remove check for gnu/libc-version.h.
	* linux-thread-db.c <HAVE_GNU_LIBC_VERSION_H>: Remove include of
	gnu/libc-version.h.
	(enable_thread_event_reporting) <HAVE_GNU_LIBC_VERSION_H>: Remove
	variables libc_version, libc_major and libc_minor.  Replace sscanf by
	inferior_has_bug.  Extend the comment.
@
text
@a80 3
/* Define to 1 if you have the <ctype.h> header file. */
#undef HAVE_CTYPE_H

a535 3
/* Define to 1 if you have the <time.h> header file. */
#undef HAVE_TIME_H

@


1.145
log
@Use PTRACE_PEEKUSER to get fs_base/gs_base

	* amd64-linux-nat.c: Include <sys/user.h>.
	(ps_get_thread_area): Use PTRACE_PEEKUSER to get fs_base/gs_base
	if HAVE_STRUCT_USER_REGS_STRUCT_FS_BASE or
	HAVE_STRUCT_USER_REGS_STRUCT_GS_BASE is defined.

	* configure.ac: Check if the fs_base and gs_base members of
	`struct user_regs_struct' exist.
	* config.in: Regenerated.
	* configure: Likewise.
@
text
@a170 3
/* Define to 1 if you have the <gnu/libc-version.h> header file. */
#undef HAVE_GNU_LIBC_VERSION_H

@


1.144
log
@gdb/
	* configure.ac (development): Define new variable.
	Call AC_CHECK_LIB for mcheck if $development.
	(ERROR_ON_WARNING): Enable it by default only if $development.
	* config.in: Regenerate.
	* configure: Regenerate.
@
text
@d450 6
@


1.143
log
@gdb/
	Implement multi-component --with-auto-load-dir.
	* NEWS (set auto-load scripts-directory, --with-auto-load-dir): New
	entries.
	(--with-auto-load-safe-path): Update the default value description.
	* auto-load.c (auto_load_dir, set_auto_load_dir, show_auto_load_dir):
	New.
	(auto_load_objfile_script): Add DEBUG_AUTO_LOAD output.  Remove
	GDB_DATADIR NULL check.  Replace GDB_DATADIR/auto-load by
	AUTO_LOAD_DIR.  Support $ddir and multiple components in it.
	(_initialize_auto_load): Initialize also auto_load_dir.  Install new
	"set auto-load scripts-directory".
	* config.in: Regenerate.
	* configure: Regenerate.
	* configure.ac (--with-auto-load-dir): New configure option.
	(--auto-load-safe-path): Change the default to --with-auto-load-dir.

gdb/doc/
	Implement multi-component --with-auto-load-dir.
	* gdb.texinfo (Auto-loading): New references
	for 'set auto-load scripts-directory'
	and 'show auto-load scripts-directory'.
	(Auto-loading safe path): Describe the new default.  Move $ddir
	substituation reference to 'objfile-gdb.py file'.
	(objfile-gdb.py file): Describe script-name alias.  Change real-name to
	script-name.  Describe new 'set auto-load scripts-directory'
	and 'show auto-load scripts-directory'.
@
text
@d204 3
@


1.142
log
@gdb/
	Provide $ddir substitution for --with-auto-load-safe-path.
	* NEWS (--with-auto-load-safe-path, --without-auto-load-safe-path): New
	entries.
	* auto-load.c: Include observer.h.
	(auto_load_safe_path_vec_update): Call substitute_path_component for
	each component.  New variable ddir_subst.
	(auto_load_gdb_datadir_changed): New function.
	(set_auto_load_safe_path): Rename DEFAULT_AUTO_LOAD_SAFE_PATH to
	AUTO_LOAD_SAFE_PATH.  New comment.
	(_initialize_auto_load): Rename DEFAULT_AUTO_LOAD_SAFE_PATH to
	AUTO_LOAD_SAFE_PATH.  Install auto_load_gdb_datadir_changed.
	* config.in: Regenerate.
	* configure: Regenerate.
	* configure.ac (--auto-load-safe-path): Rename
	DEFAULT_AUTO_LOAD_SAFE_PATH to AUTO_LOAD_SAFE_PATH.  Default to
	GDB_DATADIR/auto-load.
	* defs.h (substitute_path_component): New declaration.
	* top.c: Include observer.h.
	(set_gdb_datadir): New function.
	(init_main): Install it for "set data-directory".
	* utils.c (substitute_path_component): New function.

gdb/doc/
	Provide $ddir substitution for --with-auto-load-safe-path.
	* gdb.texinfo (Auto-loading): Replace /usr/local by $ddir/auto-load.
	(Auto-loading safe path): Likewise.  Mention the default value,
	$ddir substitution, --with-auto-load-safe-path and
	--without-auto-load-safe-path.
	* observer.texi (gdb_datadir_changed): New.
@
text
@d6 3
@


1.141
log
@2012-04-19  Pedro Alves  <palves@@redhat.com>

	gdb/
	* Makefile.in (GNULIB_BUILDDIR): New.
	(LIBGNU, INCGNU, GNULIB_H): Adjust.
	(SUBDIRS): Add $(GNULIB_BUILDDIR).
	(CLEANDIRS). Remove gnulib/import.
	(REQUIRED_SUBDIRS): Replace gnulib/import with $(GNULIB_BUILDDIR).
	(all-lib): Ditto.
	(distclean): Remove the $(GNULIB_BUILDDIR) directory.
	(gnulib/import/Makefile): Replace gnulib/import with
	$(GNULIB_BUILDDIR).  Set CONFIG_FILES to just Makefile.
	(ACLOCAL_AMFLAGS): Remove '-I gnulib/import/m4'.
	(aclocal_m4_deps): Remove the gnulib dependencies.  Add
	acx_configure_dir.m4.
	* acinclude.m4: Include acx_configure_dir.m4.
	* acx_configure_dir.m4: New file.
	* aclocal.m4: Regenerate.
        * configure.ac: Remove gl_EARLY, gl_INIT and AM_INIT_AUTOMAKE
        calls.  Configure gnulib using ACX_CONFIGURE_DIR.
        (GNULIB): New variable.
        (GNULIB_STDINT_H): Adjust.
        (AC_OUTPUT): Don't output gnulib/Makefile.
        * gdb/defs.h: Include build-gnulib/config.h.
        * aclocal.m4: Regenerate.
        * config.in: Regenerate.
        * configure: Regenerate.

        * gnulib/Makefile.in: New file.
        * gnulib/configure.ac: New file.
        * gnulib/aclocal.m4: New file.
        * gnulib/config.in: New file.
        * gnulib/configure: New file.
	* gnulib/: Re-run gnulib-tool to adjust.

        gdb/gdbserver/
        * Makefile.in (GNULIB_BUILDDIR): New.
	(LIBGNU, INCGNU, GNULIB_H): Adjust.
        (SUBDIRS, CLEANDIRS, REQUIRED_SUBDIRS): New.
        (all, install-only, uninstall, clean-info, all-lib, clean): No
        longer pass GNULIB_FLAGS_TO_PASS.  Use subdir_do.
        (maintainer-clean realclean distclean): Use subdir_do.
        (subdir_do): New.
        (gnulib/import/Makefile): Adjust.  Replace gnulib/import with
	$(GNULIB_BUILDDIR).  Don't pass argument to config.status.
        * acinclude.m4: Include acx_configure_dir.m4.
        * configure.ac: Remove gl_EARLY, gl_INIT, and AM_INIT_AUTOMAKE
        calls.  Call AC_PROG_RANLIB.  Configure gnulib using
        ACX_CONFIGURE_DIR.
        (GNULIB): New.
        (GNULIB_STDINT_H): Adjust.
        (AC_OUTPUT): Don't output gnulib/Makefile anymore.
        * gdbreplay.c: Include build-gnulib/config.h.
        * server.h: Likewise.
        * aclocal.m4: Regenerate.
        * config.in: Regenerate.
        * configure: Regenerate.
@
text
@d6 3
a29 3
/* Directories safe to hold auto-loaded files. */
#undef DEFAULT_AUTO_LOAD_SAFE_PATH

@


1.140
log
@2012-04-18  Pedro Alves  <palves@@redhat.com>

	Update gnulib from latest git.
	(639ea5ae15e39fe48d43e04864b2997301e4b969)

	* gnulib/Makefile.am: Update.
	* gnulib/dummy.c: Update.
	* gnulib/extra/arg-nonnull.h: Update.
	* gnulib/extra/c++defs.h: Update.
	* gnulib/extra/update-copyright: Update.
	* gnulib/extra/warn-on-use.h: Update.
	* gnulib/inttypes.in.h: Update.
	* gnulib/m4/00gnulib.m4: Update.
	* gnulib/m4/extensions.m4: Update.
	* gnulib/m4/gnulib-cache.m4: Update.
	* gnulib/m4/gnulib-common.m4: Update.
	* gnulib/m4/gnulib-comp.m4: Update.
	* gnulib/m4/gnulib-tool.m4: Update.
	* gnulib/m4/include_next.m4: Update.
	* gnulib/m4/inttypes-pri.m4: Update.
	* gnulib/m4/inttypes.m4: Update.
	* gnulib/m4/longlong.m4: Update.
	* gnulib/m4/memchr.m4: Update.
	* gnulib/m4/memmem.m4: Update.
	* gnulib/m4/mmap-anon.m4: Update.
	* gnulib/m4/multiarch.m4: Update.
	* gnulib/m4/onceonly.m4: Update.
	* gnulib/m4/stddef_h.m4: Update.
	* gnulib/m4/stdint.m4: Update.
	* gnulib/m4/string_h.m4: Update.
	* gnulib/m4/warn-on-use.m4: Update.
	* gnulib/m4/wchar_h.m4: Update.
	* gnulib/m4/wchar_t.m4: Update.
	* gnulib/m4/wint_t.m4: Update.
	* gnulib/memchr.c: Update.
	* gnulib/memmem.c: Update.
	* gnulib/stddef.in.h: Update.
	* gnulib/stdint.in.h: Update.
	* gnulib/str-two-way.h: Update.
	* gnulib/string.in.h: Update.
	* gnulib/wchar.in.h: Update.

	* gnulib/extra/arg-nonnull.h: Delete.
	* gnulib/extra/c++defs.h: Delete.
	* gnulib/extra/warn-on-use.h: Delete.
	* gnulib/m4/wchar_h.m4: Delete.
	* gnulib/m4/wint_t.m4: Delete.
	* gnulib/wchar.in.h: Delete.

	* gnulib/extra/snippets/arg-nonnull.h: New.
	* gnulib/extra/snippets/c++defs.h: New.
	* gnulib/extra/snippets/warn-on-use.h: New.

	* aclocal.m4: Regenerate.
	* config.in: Regenerate.
	* configure: Regenerate.
	* gnulib/Makefile.in: Regenerate.

	* gdbserver/aclocal.m4: Regenerate.
	* gdbserver/config.in: Regenerate.
	* gdbserver/configure: Regenerate.
@
text
@a8 15
/* Define to the number of bits in type 'ptrdiff_t'. */
#undef BITSIZEOF_PTRDIFF_T

/* Define to the number of bits in type 'sig_atomic_t'. */
#undef BITSIZEOF_SIG_ATOMIC_T

/* Define to the number of bits in type 'size_t'. */
#undef BITSIZEOF_SIZE_T

/* Define to the number of bits in type 'wchar_t'. */
#undef BITSIZEOF_WCHAR_T

/* Define to the number of bits in type 'wint_t'. */
#undef BITSIZEOF_WINT_T

a64 6
/* Define to 1 when the gnulib module memchr should be tested. */
#undef GNULIB_TEST_MEMCHR

/* Define to 1 when the gnulib module memmem should be tested. */
#undef GNULIB_TEST_MEMMEM

a71 3
/* Define to 1 if you have the <bp-sym.h> header file. */
#undef HAVE_BP_SYM_H

a106 4
/* Define to 1 if you have the declaration of `memmem', and to 0 if you don't.
   */
#undef HAVE_DECL_MEMMEM

a227 3
/* Define to 1 if the system has the type 'long long int'. */
#undef HAVE_LONG_LONG_INT

a236 7
/* Define to 1 if mmap()'s MAP_ANONYMOUS flag is available after including
   config.h and <sys/mman.h>. */
#undef HAVE_MAP_ANONYMOUS

/* Define to 1 if you have the `memmem' function. */
#undef HAVE_MEMMEM

a245 3
/* Define to 1 if you have the 'mprotect' function. */
#undef HAVE_MPROTECT

a341 72
/* Define to 1 if ffsl is declared even after undefining macros. */
#undef HAVE_RAW_DECL_FFSL

/* Define to 1 if ffsll is declared even after undefining macros. */
#undef HAVE_RAW_DECL_FFSLL

/* Define to 1 if imaxabs is declared even after undefining macros. */
#undef HAVE_RAW_DECL_IMAXABS

/* Define to 1 if imaxdiv is declared even after undefining macros. */
#undef HAVE_RAW_DECL_IMAXDIV

/* Define to 1 if memmem is declared even after undefining macros. */
#undef HAVE_RAW_DECL_MEMMEM

/* Define to 1 if mempcpy is declared even after undefining macros. */
#undef HAVE_RAW_DECL_MEMPCPY

/* Define to 1 if memrchr is declared even after undefining macros. */
#undef HAVE_RAW_DECL_MEMRCHR

/* Define to 1 if rawmemchr is declared even after undefining macros. */
#undef HAVE_RAW_DECL_RAWMEMCHR

/* Define to 1 if stpcpy is declared even after undefining macros. */
#undef HAVE_RAW_DECL_STPCPY

/* Define to 1 if stpncpy is declared even after undefining macros. */
#undef HAVE_RAW_DECL_STPNCPY

/* Define to 1 if strcasestr is declared even after undefining macros. */
#undef HAVE_RAW_DECL_STRCASESTR

/* Define to 1 if strchrnul is declared even after undefining macros. */
#undef HAVE_RAW_DECL_STRCHRNUL

/* Define to 1 if strdup is declared even after undefining macros. */
#undef HAVE_RAW_DECL_STRDUP

/* Define to 1 if strerror_r is declared even after undefining macros. */
#undef HAVE_RAW_DECL_STRERROR_R

/* Define to 1 if strncat is declared even after undefining macros. */
#undef HAVE_RAW_DECL_STRNCAT

/* Define to 1 if strndup is declared even after undefining macros. */
#undef HAVE_RAW_DECL_STRNDUP

/* Define to 1 if strnlen is declared even after undefining macros. */
#undef HAVE_RAW_DECL_STRNLEN

/* Define to 1 if strpbrk is declared even after undefining macros. */
#undef HAVE_RAW_DECL_STRPBRK

/* Define to 1 if strsep is declared even after undefining macros. */
#undef HAVE_RAW_DECL_STRSEP

/* Define to 1 if strsignal is declared even after undefining macros. */
#undef HAVE_RAW_DECL_STRSIGNAL

/* Define to 1 if strtoimax is declared even after undefining macros. */
#undef HAVE_RAW_DECL_STRTOIMAX

/* Define to 1 if strtok_r is declared even after undefining macros. */
#undef HAVE_RAW_DECL_STRTOK_R

/* Define to 1 if strtoumax is declared even after undefining macros. */
#undef HAVE_RAW_DECL_STRTOUMAX

/* Define to 1 if strverscmp is declared even after undefining macros. */
#undef HAVE_RAW_DECL_STRVERSCMP

a377 9
/* Define to 1 if 'sig_atomic_t' is a signed integer type. */
#undef HAVE_SIGNED_SIG_ATOMIC_T

/* Define to 1 if 'wchar_t' is a signed integer type. */
#undef HAVE_SIGNED_WCHAR_T

/* Define to 1 if 'wint_t' is a signed integer type. */
#undef HAVE_SIGNED_WINT_T

a446 3
/* Define to 1 if you have the <sys/bitypes.h> header file. */
#undef HAVE_SYS_BITYPES_H

a462 3
/* Define to 1 if you have the <sys/inttypes.h> header file. */
#undef HAVE_SYS_INTTYPES_H

a465 3
/* Define to 1 if you have the <sys/mman.h> header file. */
#undef HAVE_SYS_MMAN_H

a541 3
/* Define to 1 if the system has the type 'unsigned long long int'. */
#undef HAVE_UNSIGNED_LONG_LONG_INT

a556 6
/* Define to 1 if you have the <wchar.h> header file. */
#undef HAVE_WCHAR_H

/* Define if you have the 'wchar_t' type. */
#undef HAVE_WCHAR_T

a593 3
/* Define to a substitute value for mmap()'s MAP_ANONYMOUS flag. */
#undef MAP_ANONYMOUS

a633 3
/* Define if <inttypes.h> exists and defines unusable PRI* macros. */
#undef PRI_MACROS_BROKEN

a646 4
/* Define to l, ll, u, ul, ull, etc., as suitable for constants of type
   'ptrdiff_t'. */
#undef PTRDIFF_T_SUFFIX

a664 4
/* Define to l, ll, u, ul, ull, etc., as suitable for constants of type
   'sig_atomic_t'. */
#undef SIG_ATOMIC_T_SUFFIX

a676 4
/* Define to l, ll, u, ul, ull, etc., as suitable for constants of type
   'size_t'. */
#undef SIZE_T_SUFFIX

d716 22
a742 8
/* Define to l, ll, u, ul, ull, etc., as suitable for constants of type
   'wchar_t'. */
#undef WCHAR_T_SUFFIX

/* Define to l, ll, u, ul, ull, etc., as suitable for constants of type
   'wint_t'. */
#undef WINT_T_SUFFIX

a778 13
/* The _Noreturn keyword of C11.  */
#ifndef _Noreturn
# if (3 <= __GNUC__ || (__GNUC__ == 2 && 8 <= __GNUC_MINOR__) \
      || 0x5110 <= __SUNPRO_C)
#  define _Noreturn __attribute__ ((__noreturn__))
# elif defined _MSC_VER && 1200 <= _MSC_VER
#  define _Noreturn __declspec (noreturn)
# else
#  define _Noreturn
# endif
#endif


d783 1
a783 1
/* Define to 1 if you need to in order for 'stat' and other things to work. */
a788 29
/* Define to 500 only on HP-UX. */
#undef _XOPEN_SOURCE

/* Enable extensions on AIX 3, Interix.  */
#ifndef _ALL_SOURCE
# undef _ALL_SOURCE
#endif
/* Enable general extensions on MacOS X.  */
#ifndef _DARWIN_C_SOURCE
# undef _DARWIN_C_SOURCE
#endif
/* Enable GNU extensions on systems that have them.  */
#ifndef _GNU_SOURCE
# undef _GNU_SOURCE
#endif
/* Enable threading extensions on Solaris.  */
#ifndef _POSIX_PTHREAD_SEMANTICS
# undef _POSIX_PTHREAD_SEMANTICS
#endif
/* Enable extensions on HP NonStop.  */
#ifndef _TANDEM_SOURCE
# undef _TANDEM_SOURCE
#endif
/* Enable general extensions on Solaris.  */
#ifndef __EXTENSIONS__
# undef __EXTENSIONS__
#endif


a797 10
/* Work around a bug in Apple GCC 4.0.1 build 5465: In C99 mode, it supports
   the ISO C 99 semantics of 'extern inline' (unlike the GNU C semantics of
   earlier versions), but does not display it by setting __GNUC_STDC_INLINE__.
   __APPLE__ && __MACH__ test for MacOS X.
   __APPLE_CC__ tests for the Apple compiler and its version.
   __STDC_VERSION__ tests for the C99 mode.  */
#if defined __APPLE__ && defined __MACH__ && __APPLE_CC__ >= 5465 && !defined __cplusplus && __STDC_VERSION__ >= 199901L && !defined __GNUC_STDC_INLINE__
# define __GNUC_STDC_INLINE__ 1
#endif

a800 41
/* Define to the equivalent of the C99 'restrict' keyword, or to
   nothing if this is not supported.  Do not define if restrict is
   supported directly.  */
#undef restrict
/* Work around a bug in Sun C++: it does not support _Restrict or
   __restrict__, even though the corresponding Sun C compiler ends up with
   "#define restrict _Restrict" or "#define restrict __restrict__" in the
   previous line.  Perhaps some future version of Sun C++ will work with
   restrict; if so, hopefully it defines __RESTRICT like Sun C does.  */
#if defined __SUNPRO_CC && !defined __RESTRICT
# define _Restrict
# define __restrict__
#endif

/* Define as a marker that can be attached to declarations that might not
    be used.  This helps to reduce warnings, such as from
    GCC -Wunused-parameter.  */
#if __GNUC__ >= 3 || (__GNUC__ == 2 && __GNUC_MINOR__ >= 7)
# define _GL_UNUSED __attribute__ ((__unused__))
#else
# define _GL_UNUSED
#endif
/* The name _UNUSED_PARAMETER_ is an earlier spelling, although the name
   is a misnomer outside of parameter lists.  */
#define _UNUSED_PARAMETER_ _GL_UNUSED

/* The __pure__ attribute was added in gcc 2.96.  */
#if __GNUC__ > 2 || (__GNUC__ == 2 && __GNUC_MINOR__ >= 96)
# define _GL_ATTRIBUTE_PURE __attribute__ ((__pure__))
#else
# define _GL_ATTRIBUTE_PURE /* empty */
#endif

/* The __const__ attribute was added in gcc 2.95.  */
#if __GNUC__ > 2 || (__GNUC__ == 2 && __GNUC_MINOR__ >= 95)
# define _GL_ATTRIBUTE_CONST __attribute__ ((__const__))
#else
# define _GL_ATTRIBUTE_CONST /* empty */
#endif


@


1.139
log
@gdb/
	New option "set auto-load safe-path".
	* NEWS: New commands "set auto-load safe-path"
	and "show auto-load safe-path".
	* auto-load.c: Include gdb_vecs.h, readline/tilde.h and completer.h.
	(auto_load_safe_path, auto_load_safe_path_vec)
	(auto_load_safe_path_vec_update, set_auto_load_safe_path)
	(show_auto_load_safe_path, add_auto_load_safe_path, filename_is_in_dir)
	(filename_is_in_auto_load_safe_path_vec, file_is_auto_load_safe): New.
	(source_gdb_script_for_objfile): New variable is_safe.  Call
	file_is_auto_load_safe.  Return if it is not.
	(struct loaded_script): New field loaded.
	(maybe_add_script): Add parameter loaded.  Initialize SLOT with it.
	(print_script): Use LOADED indicator instead of FULL_PATH.  Change
	output "Missing" to "No".
	(_initialize_auto_load): New variable cmd.  Initialize
	auto_load_safe_path.  Register "set auto-load safe-path",
	"show auto-load safe-path" and "add-auto-load-safe-path".
	* auto-load.h (maybe_add_script): Add parameter loaded.
	(file_is_auto_load_safe): New declaration.
	* config.in: Regenerate.
	* configure: Regenerate.
	* configure.ac: New parameters --with-auto-load-safe-path
	and --without-auto-load-safe-path.
	* linux-thread-db.c (try_thread_db_load_from_pdir_1)
	(try_thread_db_load_from_dir): Check file_is_auto_load_safe first.
	* main.c (captured_main): Check file_is_auto_load_safe for
	LOCAL_GDBINIT.
	* python/py-auto-load.c (gdbpy_load_auto_script_for_objfile): New
	variable is_safe.  Call file_is_auto_load_safe.  Return if it is not.
	(source_section_scripts): Call file_is_auto_load_safe.  Return if it is
	not.

gdb/doc/
	New option "set auto-load safe-path".
	* gdb.texinfo (Auto-loading): Extend the "show auto-load"
	and "info auto-load" examples for safe-path.  Put there also references
	for "set auto-load safe-path" and "show auto-load safe-path".
	New menu item for Auto-loading safe path.
	(Auto-loading safe path): New node.
	(Python Auto-loading): Update the expected output from "Missing"
	to "No".

gdb/testsuite/
	New option "set auto-load safe-path".
	* gdb.python/py-objfile-script.exp (set auto-load safe-path): New.
	* gdb.python/py-section-script.exp (set auto-load safe-path): New.
@
text
@a2 4
/* Define if the compiler is building for multiple architectures of Apple
   platforms at once. */
#undef AA_APPLE_UNIVERSAL_BUILD

a79 3
/* Define to make the limit macros in <stdint.h> visible. */
#undef GL_TRIGGER_STDC_LIMIT_MACROS

a126 8
/* Define to 1 if you have the declaration of `imaxabs', and to 0 if you
   don't. */
#undef HAVE_DECL_IMAXABS

/* Define to 1 if you have the declaration of `imaxdiv', and to 0 if you
   don't. */
#undef HAVE_DECL_IMAXDIV

a154 8
/* Define to 1 if you have the declaration of `strtoimax', and to 0 if you
   don't. */
#undef HAVE_DECL_STRTOIMAX

/* Define to 1 if you have the declaration of `strtoumax', and to 0 if you
   don't. */
#undef HAVE_DECL_STRTOUMAX

d256 1
a256 1
/* Define to 1 if the system has the type `long long int'. */
a271 3
/* Define to 1 if you have the `memchr' function. */
#undef HAVE_MEMCHR

d284 1
a284 1
/* Define to 1 if you have the `mprotect' function. */
d383 5
a387 2
/* Define to 1 if btowc is declared even after undefining macros. */
#undef HAVE_RAW_DECL_BTOWC
a394 15
/* Define to 1 if mbrlen is declared even after undefining macros. */
#undef HAVE_RAW_DECL_MBRLEN

/* Define to 1 if mbrtowc is declared even after undefining macros. */
#undef HAVE_RAW_DECL_MBRTOWC

/* Define to 1 if mbsinit is declared even after undefining macros. */
#undef HAVE_RAW_DECL_MBSINIT

/* Define to 1 if mbsnrtowcs is declared even after undefining macros. */
#undef HAVE_RAW_DECL_MBSNRTOWCS

/* Define to 1 if mbsrtowcs is declared even after undefining macros. */
#undef HAVE_RAW_DECL_MBSRTOWCS

d422 3
a454 15
/* Define to 1 if wcrtomb is declared even after undefining macros. */
#undef HAVE_RAW_DECL_WCRTOMB

/* Define to 1 if wcsnrtombs is declared even after undefining macros. */
#undef HAVE_RAW_DECL_WCSNRTOMBS

/* Define to 1 if wcsrtombs is declared even after undefining macros. */
#undef HAVE_RAW_DECL_WCSRTOMBS

/* Define to 1 if wctob is declared even after undefining macros. */
#undef HAVE_RAW_DECL_WCTOB

/* Define to 1 if wcwidth is declared even after undefining macros. */
#undef HAVE_RAW_DECL_WCWIDTH

d673 1
a673 1
/* Define to 1 if the system has the type `unsigned long long int'. */
a696 3
/* Define if you have the 'wint_t' type. */
#undef HAVE_WINT_T

d923 13
d940 1
a940 1
/* Define to 1 if you need to in order for `stat' and other things to work. */
d953 4
a974 7
/* Ensure that <stdint.h> defines the limit macros, since gnulib's
   <inttypes.h> relies on them.  */
#if defined __cplusplus && !defined __STDC_LIMIT_MACROS && GL_TRIGGER_STDC_LIMIT_MACROS
# define __STDC_LIMIT_MACROS 1
#endif


d1023 14
@


1.138
log
@gdb/
	Import gnulib module inttypes from git
	(250b80067c1e1d8faa0c42fb572f721975b929c5)
	* Makefile.in (HFILES_NO_SRCDIR): Add gnulib/inttypes.in.h.
	(aclocal_m4_deps): Add gnulib/m4/inttypes.m4 and gnulib/m4/inttypes-pri.m4
	* aclocal.m4, config.in, configure: Regenerated.
	* gnulib/Makefile.am: Update.
	* gnulib/Makefile.in: Update.
	* gnulib/m4/gnulib-cache.m4: Update.
	* gnulib/m4/gnulib-comp.m4: Update.
	* gnulib/inttypes.in.h: New.
	* gnulib/m4/inttypes-pri.m4: New.
 	* gnulib/m4/inttypes.m4: New.

gdb/gdbserver/
	Import gnulib module inttypes.
	* aclocal.m4, config.in, configure: Regenerated.
@
text
@d46 3
@


1.137
log
@gdb/
	* libunwind-frame.c: Rename to ...
	* ia64-libunwind-tdep.c: ... here.
	* libunwind-frame.h: Rename to ...
	* ia64-libunwind-tdep.h: ... here.
	* Makefile.in (HFILES_NO_SRCDIR): Rename libunwind-frame.h to
	ia64-libunwind-tdep.h.
	(ALLDEPFILES): Rename libunwind-frame.c to ia64-libunwind-tdep.c.
	* README (--with-libunwind): Rename to ...
	(--with-libunwind-ia64): ... here, note it is ia64 specific now.
	* config.in: Regenerate.
	* configure: Regenerate.
	* configure.ac: New option --with-libunwind-ia64, make the
	AS_HELP_STRING ia64 specific.  Deprecate option --with-libunwind.
	Remove AC_DEFINE for HAVE_LIBUNWIND.
	* ia64-libunwind-tdep.c: Make the file top comment ia64 specific.
	Rename libunwind-frame.h #include to ia64-libunwind-tdep.h.
	Rename libunwind-frame in the general comment.
	* ia64-libunwind-tdep.h: Make the file top comment ia64 specific.
	Rename symbol LIBUNWIND_FRAME_H to IA64_TDEP_LIBUNWIND_FRAME_H.
	Move forward declarations inside #ifndef.  Rename libunwind-frame in
	the general comment.
	* ia64-tdep.c: Rename libunwind-frame.h #include to
	ia64-libunwind-tdep.h.
	(ia64_gdb2uw_regnum, ia64_uw2gdb_regnum, ia64_is_fpreg)
	(ia64_libunwind_descr): Rename libunwind-frame to
	ia64-libunwind-tdep in these function comments.
	* ia64-tdep.h: Rename libunwind-frame.h #include to
	ia64-libunwind-tdep.h.
	* ia64-vms-tdep.c (ia64_vms_libunwind_descr): Rename libunwind-frame to
	ia64-libunwind-tdep in that data comment.
@
text
@d81 3
d131 8
d167 8
d409 6
d475 3
d481 3
d827 3
d1008 7
@


1.136
log
@gdb:

	* common/agent.c: New.
	* common/agent.h: New.
	* configure.ac: Add `sys/socket.h' and `sys/un.h' to
	AC_CHECK_HEADERS.
	* configure, configh.in: Regenerated.

gdb/gdbserver:

	* Makefile.in (OBS): Add agent.o.
	Add new rule for agent.o.
	Track dependence of tracepoint.c on agent.h.
	* tracepoint.c (run_inferior_command_1):
	(run_inferior_command): Call agent_run_command.
	(gdb_ust_connect_sync_socket): Deleted.  Move it to
	common/agent.c.
	(resume_thread, stop_thread): Likewise.
	(gdb_ust_socket_init): Renamed to ...
	(gdb_agent_socket_init): ... New.
	(gdb_ust_thread): Renamed to ...
	(gdb_agent_helper_thread): ... New.
	(gdb_ust_init): Move some code to ...
	(gdb_agent_init): ... here.  New.
	[HAVE_UST]: Call gdb_ust_init.
	(initialize_tracepoint_ftlib):  Call gdb_agent_init.
	* configure.ac: Add `sys/un.h' to AC_CHECK_HEADERS.
	* config.in, configure: Regenerated.
@
text
@a241 3
/* Define if libunwind library is being used. */
#undef HAVE_LIBUNWIND

@


1.135
log
@2012-02-21  Tristan Gingold  <gingold@@adacore.com>
	    Pedro Alves  <palves@@redhat.com>

	* ia64-tdep.c: Do not include libunwind-ia64.h.
	* libunwind-frame.h: Remove #ifdef HAVE_LIBUNWIND_H guard.
	Include libunwind-ia64.h instead of libunwind.h.
	* configure.ac (--with-libunwind, $enable_libunwind): Don't check
	for libunwind.h existence.
	* configure, config.in: Regenerate.
@
text
@d644 3
d656 3
@


1.134
log
@ChangeLog:

	* configure.ac [AC_CHECK_FUNCS]: Check for readlink.
	* config.in, configure: Regenerate.

	* target.h (struct target_ops): Add to_fileio_readlink.
	(target_fileio_readlink): Add prototype.
	* target.c (target_fileio_readlink): New function.

	* inf-child.c: Conditionally include <sys/param.h>.
	(inf_child_fileio_readlink): New function.
	(inf_child_target): Install it.

	* remote.c (PACKET_vFile_readlink): New enum value.
	(remote_hostio_readlink): New function.
	(init_remote_ops): Install it.
	(_initialize_remote): Handle vFile:readlink packet type.

doc/ChangeLog:

	* gdb.texinfo (Remote Configuration): Document
	"set remote hostio-readlink-packet" command.
	(General Query Packets): Document vFile:readlink packet.

gdbserver/ChangeLog:

	* hostio.c (handle_readlink): New function.
	(handle_vFile): Call it to handle "vFile:readlink" packets.
@
text
@a244 3
/* Define to 1 if you have the <libunwind.h> header file. */
#undef HAVE_LIBUNWIND_H

@


1.133
log
@2012-01-20  Pedro Alves  <palves@@redhat.com>
	    Ulrich Weigand  <ulrich.weigand@@linaro.org>

	* configure.ac [AC_CHECK_FUNCS]: Check for pread and pwrite.
	* config.in, configure: Regenerate.

	* target.h (struct target_ops): Add to_fileio_open, to_fileio_pwrite,
	to_fileio_pread, to_fileio_close, to_fileio_unlink.
	(target_fileio_open): Add prototype.
	(target_fileio_pwrite): Likewise.
	(target_fileio_pread): Likewise.
	(target_fileio_close): Likewise.
	(target_fileio_unlink): Likewise.
	(target_fileio_read_alloc): Likewise.
	(target_fileio_read_stralloc): Likewise.

	* target.c: Include "gdb/fileio.h".
	(target_read_stralloc): Accept trailing, but not embedded NUL bytes.
	(default_fileio_target): New function.
	(target_fileio_open): Likewise.
	(target_fileio_pwrite): Likewise.
	(target_fileio_pread): Likewise.
	(target_fileio_close): Likewise.
	(target_fileio_unlink): Likewise.
	(target_fileio_close_cleanup): Likewise.
	(target_fileio_read_alloc_1): Likewise.
	(target_fileio_read_alloc): Likewise.
	(target_fileio_read_stralloc): Likewise.

	* inf-child.c: Include "gdb/fileio.h", <sys/types.h>, <sys/stat.h>,
	<fcntl.h>, and <unistd.h>.
	(inf_child_fileio_open_flags_to_host): New function.
	(inf_child_errno_to_fileio_error): Likewise.
	(inf_child_fileio_open): Likewise.
	(inf_child_fileio_pwrite): Likewise.
	(inf_child_fileio_pread): Likewise.
	(inf_child_fileio_close): Likewise.
	(inf_child_fileio_unlink): Likewise.
	(inf_child_target): Install to_fileio routines.

	* remote.c (init_remote_ops): Install to_fileio routines.
@
text
@d477 3
@


1.132
log
@2012-01-18  Paul Pluzhnikov  <ppluzhnikov@@google.com>
	    Jan Kratochvil  <jan.kratochvil@@redhat.com>

	PR gdb/9538
	* symfile.c (find_separate_debug_file): New function.
	(terminate_after_last_dir_separator): Likewise.
	(find_separate_debug_file_by_debuglink): Also try realpath.
	* configure.ac (AC_CHECK_FUNCS): Add lstat.
	* configure: Regenerate.
	* config.in: Regenerate.

testsuite/ChangeLog:

2012-01-18  Paul Pluzhnikov  <ppluzhnikov@@google.com>

	PR gdb/9538
	* gdb.base/sepdebug.exp: New test.
@
text
@d327 3
d387 3
@


1.131
log
@	* Makefile.in (TARGET_SYSTEM_ROOT, TARGET_SYSTEM_ROOT_DEFINE): Delete.
	(main.o): Remove rule.
	* configure.ac (BINDIR): Define with AC_DEFINE_DIR.
	(--with-sysroot): Rewrite.
	* configure: Regenerate.
	* config.in: Regenerate.
@
text
@d266 3
@


1.130
log
@gdb/
	* configure: Regenerate.
	* config.in: Regenerate.
@
text
@d10 3
d860 6
@


1.129
log
@gdb/
	* Makefile.in: Add gdb-dlfcn.c and gdb-dlfcn.h to build system.
	* config.in: Add new #define HAVE_LIBDL.
	* configure.ac: Add check for -ldl.
	* configure: Re-generated by autoconf.
	* gdb-dlfcn.c: New file.
	* gdb-dlfcn.h: New file.
@
text
@d161 3
d731 7
d823 9
a1003 9

/* The directory from which JIT readers should be loaded.  */
#undef JIT_READER_DIR

/* Define if JIT_READER_DIR should be relocated when GDB is moved.  */
#undef JIT_READER_DIR_RELOCATABLE

/* Define if the platform has dlfcn.h.  */
#undef HAVE_DLFCN_H
@


1.129.2.1
log
@gdb/
	* configure: Regenerate.
	* config.in: Regenerate.
@
text
@a160 3
/* Define to 1 if you have the <dlfcn.h> header file. */
#undef HAVE_DLFCN_H

a727 7
/* directory to load the JIT readers from */
#undef JIT_READER_DIR

/* Define if the jit-reader-dir directory should be relocated when GDB is
   moved. */
#undef JIT_READER_DIR_RELOCATABLE

a812 9
/* The size of `unsigned long', as computed by sizeof. */
#undef SIZEOF_UNSIGNED_LONG

/* The size of `unsigned long long', as computed by sizeof. */
#undef SIZEOF_UNSIGNED_LONG_LONG

/* The size of `unsigned __int128', as computed by sizeof. */
#undef SIZEOF_UNSIGNED___INT128

d985 9
@


1.128
log
@gdb/
	* config.in: Add new #defines: JIT_READER_DIR and
	JIT_READER_DIR_RELOCATABLE.
	* configure.ac: New GDB directory entry for jit-reader-dir.
	* configure: Re-generated by autoconf.
	* jit.c: New static variable: const char *jit_reader_dir.
	(_initialize_jit): Relocate jit_reader_dir.
@
text
@d991 3
@


1.127
log
@Imported readline 6.2, and upstream patch 001.

[patch 0/3] readline-6.2 rebase
http://sourceware.org/ml/gdb-patches/2011-05/msg00003.html
[patch 1/3] readline-6.2: Merge of already posted patches
http://sourceware.org/ml/gdb-patches/2011-05/msg00004.html
	=
	[Bug-readline] [RFC/readline] bind.c, rl_function_dumper, Free allocated
	http://lists.gnu.org/archive/html/bug-readline/2011-03/msg00000.html
	[Bug-readline] [patch] Fix underquotation in readline/examples/rlfe/conf
	http://lists.gnu.org/archive/html/bug-readline/2011-04/msg00001.html
	[Bug-readline] [patch] Makefile.in htm<->html
	http://lists.gnu.org/archive/html/bug-readline/2011-04/msg00002.html
	Re: [Bug-readline] [patch] Makefile.in dependency: callback.o: xmalloc.h
	http://lists.gnu.org/archive/html/bug-readline/2011-04/msg00004.html
	[Bug-readline] [patch] Remove . from the VPATH directive
	http://lists.gnu.org/archive/html/bug-readline/2011-04/msg00005.html
	Eli Zaretskii's __MSDOS__ / __GO32__ / __MINGW32__ / __DJGPP__ stuff:
	http://sourceware.org/ml/gdb/2011-04/msg00002.html
	Jan Kratochvil's patch for FSF GDB tree local-specific changes:
	http://sourceware.org/ml/gdb/2011-04/msg00006.html
	Preservation of existing ChangeLog.gdb files, their updates.
[patch 2/3] readline-6.2: Workaround "ask" regression
http://sourceware.org/ml/gdb-patches/2011-05/msg00005.html
[patch 3/3] readline-6.2: Revert 5.x compat., apply 6.x compat.
http://sourceware.org/ml/gdb-patches/2011-05/msg00006.html
[patch 4/3] readline-6.2: Substitute inc-hist.texinfo
http://sourceware.org/ml/gdb-patches/2011-05/msg00010.html

readline/
	Workaround gdb.base/completion.exp regression on readline-6.2.
	* complete.c (get_y_or_n): Disable the return on RL_STATE_CALLBACK.

	Imported readline 6.2, and upstream patch 001.
	* configure: Regenerate.

readline/doc/
	* hsuser.texi (Using History Interactively): Disable !BashFeatures
	@@defcodeindex.  Make the `Programming with GNU History' reference
	external.
	* inc-hist.texinfo: Remove.

	Imported readline 6.2, and upstream patch 001.

readline/examples/
	Imported readline 6.2, and upstream patch 001.

readline/examples/rlfe/
	Imported readline 6.2, and upstream patch 001.

gdb/
	* config.in: Regenerate.
	* configure: Regenerate.
	* configure.ac <--with-system-readline> (for readline_echoing_p):
	Remove the test.
	* tui/tui-io.c (tui_old_readline_echoing_p): Rename to ...
	(tui_old_rl_echoing_p): ... here.
	(tui_setup_io): Rename extern declaration readline_echoing_p to
	_rl_echoing_p.  Adjust assignments for the both renames.

gdb/doc/
	* Makefile.in (GDB_DOC_SOURCE_INCLUDES): Rename inc-hist.texinfo to
	hsuser.texi.
	* gdb.texinfo <!SYSTEM_READLINE>: Rename inc-hist.texinfo inclusion and
	comment to hsuser.texi.  Change rluser.texi name in the comment.
@
text
@d985 6
@


1.126
log
@	* NEWS: Mention --with-iconv-bin.
	* configure.ac: New option --with-iconv-bin.
	* configure: Regenerate.
	* config.in: Regenerate.
	* defs.h (relocate_gdb_directory): Declare.
	* main.c (relocate_gdb_directory): Renamed from relocate_directory,
	removed progname parameter, and exported.  All callers updated.
	* charset.c (find_charset_names): Use --with-iconv-bin if specified.

	doc/
	* gdb.texinfo (Requirements): Fix typo.  Mention --with-iconv-bin.
@
text
@a955 3
/* readline-6.0 started to use different name. */
#undef readline_echoing_p

@


1.125
log
@Add 'getthrds' declaration check in configure for AIX

On newer versions of AIX (6.x and later), this function is actually
declared in procinfo.h, thus causing a compilation warning when we
re-declare it ourselves. This patch adds a configure check for that
function allowing us to declare the function only if the declaration
isn't already present in one of procinfo system header.

gdb/ChangeLog:

        PR gdb/12116:
        * configure.ac: Add getthrds declaration check.
        * configure, config.in: Regenerate.
        * aix-thread.c (getthrds): Declare only if not already declared
        in procinfo.h.  More declaration out of get_signaled_thread to
        global scope.
@
text
@d719 6
@


1.124
log
@	* Makefile.in (hpux-thread.o): Delete rule.
	* configure.ac: Don't check for HPUX DCE threads support.
	* configure, config.in: Regenerate.
	* hppa-hpux-nat.c (child_suppress_run): Delete.
	(hppa_hpux_child_can_run): Delete.
	(_initialize_hppa_hpux_nat): Don't override to_can_run.
	* hpux-thread.c: Delete.
@
text
@d121 4
@


1.123
log
@	* config.in, configure: Regenerated.
	* configure.ac: Check for waitpid.
	* ser-pipe.c (pipe_close): Wait for the program to exit.
@
text
@a192 3
/* Define if you have HPUX threads */
#undef HAVE_HPUX_THREAD_SUPPORT

@


1.122
log
@2010-07-28  Pedro Alves  <pedro@@codesourcery.com>

	PR build/11848
	* configure.ac: Check for wresize.
	* configure, config.in: Regenerate.
	* tui/tui-win.c (make_visible_with_new_height): Wrap wresize call
	with HAVE_WRESIZE.
@
text
@d679 3
@


1.121
log
@	* configure.ac: Check for resize_term.
	* configure, config.in: Regenerate.
@
text
@d700 3
@


1.120
log
@	* configure, config.in: Rebuild.
	* configure.ac (HAVE_LIBPYTHON2_7): New define.
	* python/python-internal.h: Handle HAVE_LIBPYTHON2_7.
@
text
@d464 3
@


1.119
log
@	Allow python to find its files if moved from original location.
	* acinclude.m4 (GDB_AC_DEFINE_RELOCATABLE): New function.
	(GDB_AC_WITH_DIR): Call it.
	* configure.ac: Define WITH_PYTHON_PATH if we can find the
	python installation directory.
	* config.in: Regenerate.
	* configure: Regenerate.
	* defs.h (python_libdir): Declare.
	* main.c (python_libdir): Define.
	(captured_main): Initialize python_libdir.
	* python/python.c (_initialize_python): #ifdef WITH_PYTHON_PATH,
	call Py_SetProgramName to make sure python can find its libraries
	and modules.
@
text
@d232 3
@


1.118
log
@	* config.in: Regenerate.
@
text
@d769 3
d844 4
@


1.117
log
@gdb/
2010-05-23  Pedro Alves  <pedro@@codesourcery.com>

	Update gnulib from latest git.
	(250b80067c1e1d8faa0c42fb572f721975b929c5)

	* gnulib/memcmp.c: Removed.
	* gnulib/memchr.valgrind: New.
	* gnulib/stddef.in.h: New.
	* gnulib/Makefile.am: Updated.
	* gnulib/memchr.c: Updated.
	* gnulib/memmem.c: Updated.
	* gnulib/stdint.in.h: Updated.
	* gnulib/str-two-way.h: Updated.
	* gnulib/string.in.h: Updated.
	* gnulib/wchar.in.h: Updated.

	* gnulib/extra/link-warning.h: Removed.
	* gnulib/extra/c++defs.h: New.
	* gnulib/extra/warn-on-use.h: New.
	* gnulib/extra/arg-nonnull.h: Updated.

	* gnulib/m4/extensions.m4: Updated.
	* gnulib/m4/gnulib-cache.m4: Updated.
	* gnulib/m4/gnulib-common.m4: Updated.
	* gnulib/m4/gnulib-comp.m4: Updated.
	* gnulib/m4/gnulib-tool.m4: Updated.
	* gnulib/m4/include_next.m4: Updated.
	* gnulib/m4/longlong.m4: Updated.
	* gnulib/m4/memchr.m4: Updated.
	* gnulib/m4/memmem.m4: Updated.
	* gnulib/m4/stdint.m4: Updated.
	* gnulib/m4/string_h.m4: Updated.
	* gnulib/m4/memcmp.m4: Removed.
	* gnulib/m4/onceonly_2_57.m4: Removed.
	* gnulib/m4/00gnulib.m4: New.
	* gnulib/m4/mmap-anon.m4: New.
	* gnulib/m4/multiarch.m4: New.
	* gnulib/m4/onceonly.m4: New.
	* gnulib/m4/stddef_h.m4: New.
	* gnulib/m4/warn-on-use.m4: New.
	* gnulib/m4/wchar.m4: Removed.
	* gnulib/m4/wchar_h.m4: New.
	* gnulib/m4/wchar_t.m4: New.
	* gnulib/m4/wint_t.m4: New.

	* aclocal.m4: Regenerate.
	* config.in: Likewise.
	* configure: Likewise.
	* gnulib/Makefile.in: Likewise.

gdb/gdbserver/
2010-05-23  Pedro Alves  <pedro@@codesourcery.com>

	* config.h, configure: Regenerate.
@
text
@d856 3
d863 3
@


1.116
log
@	* elfread.c (elf_symfile_read): Don't call
	dwarf2_build_frame_info.
	* dwarf2read.c (struct dwarf2_section_info) <readin>: New field.
	(struct dwarf2_per_objfile) <objfile>: New field.
	(dwarf2_has_info): Now idempotent.  Set objfile field.
	(dwarf2_read_section): Check and set readin field.  Call
	posix_madvise.
	(dwarf2_build_psymtabs): Don't read all sections.
	(read_type_comp_unit_head): Read types section.
	(create_debug_types_hash_table): Likewise.
	(init_cu_die_reader): Add asserts.
	(process_type_comp_unit): Add assert.
	(dwarf2_build_psymtabs_hard): Read info section.
	(load_partial_comp_unit): Add assert.
	(create_all_comp_units): Read info section.
	(load_full_comp_unit): Likewise.
	(dwarf2_ranges_read): Read ranges section.
	(dwarf2_record_block_ranges): Add assert.
	(dwarf2_read_abbrevs): Read abbrev section.
	(read_indirect_string): Read str section.
	(dwarf_decode_line_header): Read line section.
	(read_signatured_type_at_offset): Read types section.
	(dwarf_decode_macros): Read macinfo section.
	(dwarf2_symbol_mark_computed): Read loc section.
	* dwarf2-frame.c (dwarf2_frame_find_fde): Call
	dwarf2_build_frame_info.
	(dwarf2_build_frame_info): Unconditionally set
	dwarf2_frame_objfile_data on the objfile.
	* configure.ac: Check for posix_madvise.
	* config.in, configure: Rebuild.
@
text
@d3 4
d78 6
a201 3
/* Define if your compiler supports the #include_next directive. */
#undef HAVE_INCLUDE_NEXT

d262 4
d281 3
d374 84
d591 3
d682 6
d709 3
a855 3
/* Number of bits in a file offset, on hosts where this is settable. */
#undef _FILE_OFFSET_BITS

a859 3
/* Define for large files, on AIX-style hosts. */
#undef _LARGE_FILES

d877 3
d911 9
a919 2
/* Define to rpl_memcmp if the replacement function should be used. */
#undef memcmp
d931 5
a935 5
/* Work around a bug in Sun C++: it does not support _Restrict, even
   though the corresponding Sun C compiler does, which causes
   "#define restrict _Restrict" in the previous line.  Perhaps some future
   version of Sun C++ will work with _Restrict; if so, it'll probably
   define __RESTRICT, just as Sun C does.  */
d938 1
d941 13
@


1.115
log
@gdb/
	* configure.ac (AC_CHECK_FUNCS): Check for setrlimit and getrlimit.
	* configure: Regenerate.
	* config.in: Regenerate.
	* utils.c: Include sys/resource.h.
	(dump_core, can_dump_core): New.
	(internal_vproblem): Update the comment.  Check can_dump_core while
	setting dump_core_p.  Replace two abort calls by dump_core calls.
@
text
@d297 3
@


1.114
log
@bfd/
	* configure.in: Call ACX_LARGEFILE.  Stop calling AC_PLUGINS,
	AC_SYS_LARGEFILE and checking the Solaris largefile exception.
	* aclocal.m4: Regenerate.
	* configure: Regenerate.

binutils/
	* configure.in: Call ACX_LARGEFILE.  Stop calling AC_PLUGINS,
	AC_SYS_LARGEFILE and checking the Solaris largefile exception.
	* aclocal.m4: Regenerate.
	* configure: Regenerate.

gas/
	* configure.in: Call ACX_LARGEFILE.  Stop calling AC_SYS_LARGEFILE.
	* aclocal.m4: Regenerate.
	* configure: Regenerate.

gdb/
	* configure.ac: Call ACX_LARGEFILE.
	* aclocal.m4: Call m4_include for ../config/largefile.m4 and
	../config/plugins.m4.
	* configure: Regenerate.
	* config.in: Regenerate.

gprof/
	* configure.in: Call ACX_LARGEFILE.  Stop calling AC_SYS_LARGEFILE.
	* aclocal.m4: Regenerate.
	* configure: Regenerate.

ld/
	* configure.in: Call ACX_LARGEFILE.  Stop calling AC_SYS_LARGEFILE.
	* aclocal.m4: Regenerate.
	* configure: Regenerate.
@
text
@d168 3
d372 3
@


1.113
log
@gdb/
	Fix compatibility of --with-system-readline and readline-6.0+.
	* configure.ac <--with-system-readline> (for readline_echoing_p): New
	test.
	* config.in: Regenerate.
	* configure: Regenerate.
@
text
@d737 3
d744 3
@


1.112
log
@Regenerate tree using Autoconf 2.64 and Automake 1.11.

config/:
	* override.m4 (_GCC_AUTOCONF_VERSION): Bump to 2.64.

/:
	* configure: Regenerate.

etc/:
	* configure: Regenerate.

sim/common/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/iq2000/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/d10v/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/igen/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/m32r/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/frv/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/:
	* avr/config.in: Regenerate.
	* avr/configure: Likewise.
	* configure: Likewise.
	* cris/config.in: Likewise.
	* cris/configure: Likewise.

sim/h8300/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/mn10300/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/ppc/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/erc32/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/arm/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/m68hc11/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/lm32/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/sh64/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/v850/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/cr16/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/moxie/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/m32c/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/mips/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/mcore/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/testsuite/d10v-elf/:
	* configure: Regenerate.

sim/testsuite/:
	* configure: Regenerate.

sim/testsuite/frv-elf/:
	* configure: Regenerate.

sim/testsuite/m32r-elf/:
	* configure: Regenerate.

sim/testsuite/mips64el-elf/:
	* configure: Regenerate.

sim/sh/:
	* config.in: Regenerate.
	* configure: Likewise.

gold/:
	* Makefile.in: Regenerate.
	* aclocal.m4: Likewise.
	* config.in: Likewise.
	* configure: Likewise.
	* testsuite/Makefile.in: Likewise.

gprof/:
	* Makefile.in: Regenerate.
	* aclocal.m4: Likewise.
	* configure: Likewise.
	* gconfig.in: Likewise.

opcodes/:
	* Makefile.in: Regenerate.
	* aclocal.m4: Likewise.
	* config.in: Likewise.
	* configure: Likewise.

gas/:
	* Makefile.in: Regenerate.
	* aclocal.m4: Likewise.
	* config.in: Likewise.
	* configure: Likewise.
	* doc/Makefile.in: Likewise.

ld/:
	* Makefile.in: Regenerate.
	* aclocal.m4: Likewise.
	* config.in: Likewise.
	* configure: Likewise.

gdb/:
	* aclocal.m4: Regenerate.
	* config.in: Likewise.
	* configure: Likewise.
	* gnulib/Makefile.in: Likewise.

gdb/doc/:
	* configure: Regenerate.

gdb/gdbserver/:
	* aclocal.m4: Regenerate.
	* config.in: Likewise.
	* configure: Likewise.

gdb/testsuite/:
	* configure: Regenerate.
	* gdb.hp/configure: Likewise.
	* gdb.hp/gdb.aCC/configure: Likewise.
	* gdb.hp/gdb.base-hp/configure: Likewise.
	* gdb.hp/gdb.compat/configure: Likewise.
	* gdb.hp/gdb.defects/configure: Likewise.
	* gdb.hp/gdb.objdbg/configure: Likewise.
	* gdb.stabs/configure: Likewise.

binutils/:
	* Makefile.in: Regenerate.
	* aclocal.m4: Likewise.
	* config.in: Likewise.
	* configure: Likewise.
	* doc/Makefile.in: Likewise.

bfd/:
	* Makefile.in: Regenerate.
	* aclocal.m4: Likewise.
	* config.in: Likewise.
	* configure: Likewise.

bfd/doc/:
	* Makefile.in: Regenerate.

readline/:
	* configure: Regenerate.

readline/examples/rlfe/:
	* configure: Regenerate.
@
text
@d795 3
@


1.111
log
@fix gdbtui build errors when pipe() is not available (e.g. mingw targets)

	* configure.ac (AC_CHECK_FUNCS): Check for pipe.
	* config.in, configure: Regenerate.
	* tui/tui-io.c (TUI_USE_PIPE_FOR_READLINE): Define if HAVE_PIPE.
@
text
@d3 3
d437 1
a437 1
/* Define to 1 if `r_fs' is member of `struct reg'. */
d440 1
a440 1
/* Define to 1 if `r_gs' is member of `struct reg'. */
d447 1
a447 1
/* Define to 1 if `st_blksize' is member of `struct stat'. */
d450 1
a450 1
/* Define to 1 if `st_blocks' is member of `struct stat'. */
d453 1
a453 1
/* Define to 1 if `td_pcb' is member of `struct thread'. */
d612 3
d669 1
a669 1
/* The size of a `long', as computed by sizeof. */
d678 1
a678 1
   automatically deduced at run-time.
d725 10
a734 14
/* Define to 1 if your processor stores words with the most significant byte
   first (like Motorola and SPARC, unlike Intel and VAX). */
#undef WORDS_BIGENDIAN

/* Define to 1 if on AIX 3.
   System headers sometimes define this.
   We just want to avoid a redefinition error message.  */
#ifndef _ALL_SOURCE
# undef _ALL_SOURCE
#endif

/* Enable GNU extensions on systems that have them.  */
#ifndef _GNU_SOURCE
# undef _GNU_SOURCE
@


1.110
log
@gdb
2009-04-23  Sergio Durigan Junior <sergiodj@@linux.vnet.ibm.com>
	    Tom Tromey  <tromey@@redhat.com>

	* configure, config.in: Regenerate.
	* configure.ac: Support for relocatable GDB datadir.  Use
	GDB_AC_WITH_DIR.  Always define TARGET_SYSTEM_ROOT_RELOCATABLE.
	* acinclude.m4 (GDB_AC_WITH_DIR): New defun.
	* top.c (init_main): Add "set data-directory".
	* defs.h (gdb_datadir): Declare.
	* main.c (gdb_datadir): New global.
	(captured_main): Initialize gdb_datadir.  Use relocate_directory.
	(relocate_path): New function.
	(relocate_directory): Likewise.
	(get_init_files): Use relocate_path.
	(README): Mention --with-gdb-datadir.
gdb/doc
2009-04-23  Tom Tromey  <tromey@@redhat.com>

	* gdb.texinfo (Data Files): New node.
	(GDB Files): Update menu.
@
text
@d282 3
@


1.109
log
@gdb:
	* configure.ac (--with-relocated-sources): New.
	* configure, config.in: Regenerate.
	* source.c (add_substitute_path_rule): Remove static.
	* source.h (add_substitute_path_rule): Declare.
	* main.c: Include "source.h".
	(captured_main): Add substitution rule if RELOC_SRCDIR.

gdb/doc:
	* gdb.texinfo (Source Path): Document --with-relocated-sources.
@
text
@d29 1
a29 1
/* Global directory for separate debug files. */
d32 2
a33 1
/* Define if the debug directory should be relocated when GDB is moved. */
d46 7
d681 1
a681 1
/* System-wide gdbinit file. */
d684 1
a684 1
/* Define if the system-wide gdbinit file should be relocated when GDB is
@


1.108
log
@gdb
	* c-lang.c (c_emit_char): Use INTERMEDIATE_ENCODING.
	(c_printstr): Likewise.
	* charset.c: Include gdb_wait.h.
	(make_wchar_iterator): Use INTERMEDIATE_ENCODING.
	(find_charset_names): Use pexecute.  Handle libiconv's output.
	Detect errors.
	(_initialize_charset): Use xstrdup.
	* gdb_wchar.h: Check HAVE_BTOWC.  Split PHONY_ICONV and wchar
	cases.
	(INTERMEDIATE_ENCODING): New define.
	* configure, config.in: Rebuild.
	* configure.ac: Check for btowc.
gdb/doc
	* gdb.texinfo (Character Sets): Document default character set.
@
text
@d633 3
@


1.107
log
@2009-03-24  Tom Tromey  <tromey@@redhat.com>
	    Pedro Alves  <pedro@@codesourcery.com>

	* configure, config.in: Rebuild.
	* configure.ac: Check for libiconvlist.
	* charset.c: Check HAVE_LIBICONVLIST.
	* acinclude.m4 (AM_ICONV): Don't subst LIBICONV, LIBICONV_INCLUDE,
	LIBICONV_LIBDIR.  Update CPPFLAGS and LIBS.
	* Makefile.in (LIBICONV, LIBICONV_INCLUDE, LIBICONV_LIBDIR):
	Remove.
	(INTERNAL_CFLAGS_BASE): Update.
	(INTERNAL_LDFLAGS): Update.
	(CLIBS): Update.
@
text
@d73 3
@


1.106
log
@gdb:
2009-03-19  Tom Tromey  <tromey@@redhat.com>
	    Julian Brown  <julian@@codesourcery.com>

	PR i18n/7220, PR i18n/7821, PR exp/8815, PR exp/9103,
	PR i18n/9401, PR exp/9613:
	* NEWS: Update
	* value.h (value_typed_string): Declare.
	(val_print_string): Update.
	* valprint.h (print_char_chars): Update.
	* valprint.c (print_char_chars): Add type argument.  Update.
	(val_print_string): Likewise.
	* valops.c (value_typed_string): New function.
	* utils.c (host_char_to_target): New function.
	(parse_escape): Use host_char_to_target, host_hex_value.  Update.
	Remove '^' case.
	(no_control_char_error): Remove.
	* typeprint.c (print_type_scalar): Update.
	* scm-valprint.c (scm_scmval_print): Update.
	* scm-lang.h (scm_printchar, scm_printstr): Update.
	* scm-lang.c (scm_printchar): Add type argument.
	(scm_printstr): Likewise.
	* printcmd.c (print_formatted): Update.
	(print_scalar_formatted): Update.
	(printf_command) <wide_string_arg, wide_char_arg>: New constants.
	Handle '%lc' and '%ls'.
	* parser-defs.h (struct typed_stoken): New type.
	(struct stoken_vector): Likewise.
	(write_exp_string_vector): Declare.
	* parse.c (write_exp_string_vector): New function.
	* p-valprint.c (pascal_val_print): Update.
	* p-lang.h (is_pascal_string_type, pascal_printchar,
	pascal_printstr): Update.
	* p-lang.c (is_pascal_string_type): Remove 'char_size' argument.
	Add 'char_type' argument.
	(pascal_emit_char): Add type argument.
	(pascal_printchar): Likewise.
	(pascal_printstr): Likewise.
	* objc-lang.c (objc_emit_char): Add type argument.
	(objc_printchar): Likewise.
	(objc_printstr): Likewise.
	* macroexp.c (get_character_constant): Handle unicode characters.
	Use c_parse_escape.
	(get_string_literal): Handle unicode strings.  Use
	c_parse_escape.
	* m2-valprint.c (print_unpacked_pointer): Update.
	(m2_print_array_contents): Update.
	(m2_val_print): Update.
	* m2-lang.c (m2_emit_char): Add type argument.
	(m2_printchar): Likewise.
	(m2_printstr): Likewise.
	* language.h (struct language_defn) <la_printchar>: Add type
	argument.
	<la_printstr, la_emitchar>: Likewise.
	(LA_PRINT_CHAR): Likewise.
	(LA_PRINT_STRING): Likewise.
	(LA_EMIT_CHAR): Likewise.
	* language.c (unk_lang_emit_char): Add type argument.
	(unk_lang_printchar): Likewise.
	(unk_lang_printstr): Likewise.
	* jv-valprint.c (java_val_print): Update.
	* jv-lang.c (java_emit_char): Add type argument.
	* f-valprint.c (f_val_print): Update.
	* f-lang.c (f_emit_char): Add type argument.
	(f_printchar): Likewise.
	(f_printstr): Likewise.
	* expprint.c (print_subexp_standard): Update.
	* charset.h (target_wide_charset): Declare.
	(c_target_char_has_backslash_escape, c_parse_backslash,
	host_char_print_literally, host_char_to_target,
	target_char_to_host, target_char_to_control_char): Remove.
	(enum transliterations): New type.
	(convert_between_encodings): Declare.
	(HOST_ESCAPE_CHAR): New define.
	(host_letter_to_control_character, host_hex_value): Declare.
	(enum wchar_iterate_result): New enum.
	(struct wchar_iterator): Declare.
	(make_wchar_iterator, make_cleanup_wchar_iterator, wchar_iterator,
	wchar_push_back): Declare.
	* charset-list.h: New file.
	* c-valprint.c (textual_name): New function.
	(textual_element_type): Handle wide character types.
	(c_val_print): Pass original type to textual_element_type.  Handle
	wide character types.
	(c_value_print): Use textual_element_type.  Pass original type of
	value to val_print.
	* c-lang.h (enum c_string_type): New type.
	(c_printchar, c_printstr): Update.
	* c-lang.c (classify_type): New function.
	(print_wchar): Likewise.
	(c_emit_char): Add type argument.  Handle wide characters.
	(c_printchar): Likewise.
	(c_printstr): Add type argument.  Handle wide and multibyte
	character sets.
	(convert_ucn): New function.
	(emit_numeric_character): Likewise.
	(convert_octal): Likewise.
	(convert_hex): Likewise.
	(ADVANCE): New macro.
	(convert_escape): New function.
	(parse_one_string): Likewise.
	(evaluate_subexp_c): Likewise.
	(exp_descriptor_c): New global.
	(c_language_defn): Use exp_descriptor_c.
	(cplus_language_defn): Likewise.
	(asm_language_defn): Likewise.
	(minimal_language_defn): Likewise.
	(charset_for_string_type): New function.
	* c-exp.y (%union): Add 'svec' and 'tsval'.
	(CHAR): New token.
	(exp): Add CHAR production.
	(string_exp): Rewrite.
	(exp) <string_exp>: Rewrite.
	(tempbuf): Now global.
	(tempbuf_init): New global.
	(parse_string_or_char): New function.
	(yylex) <tempbuf>: Now global.
	<tokptr, tempbufindex, tempbufsize, token_string, class_prefix>:
	Remove.
	Handle 'u', 'U', and 'L' prefixes.  Call parse_string_or_char.
	(c_parse_escape): New function.
	* auxv.c (fprint_target_auxv): Update.
	* ada-valprint.c (ada_emit_char): Add type argument.
	(ada_printchar): Likewise.
	(ada_print_scalar): Update.
	(printstr): Add type argument.  Update calls to ada_emit_char.
	(ada_printstr): Add type argument.
	(ada_val_print_array): Update.
	(ada_val_print_1): Likewise.
	* ada-lang.c (emit_char): Add type argument.
	* ada-lang.h (ada_emit_char, ada_printchar, ada_printstr): Add
	type arguments.
	* gdb_locale.h: Include langinfo.h.
	* charset.c (_initialize_charset): Set default host charset from
	the locale.  Don't register charsets.  Add target-wide-charset
	commands.  Call find_charset_names.
	(struct charset, struct translation): Remove.
	(GDB_DEFAULT_HOST_CHARSET): Remove.
	(GDB_DEFAULT_TARGET_WIDE_CHARSET): New define.
	(target_wide_charset_name): New global.
	(show_host_charset_name): Handle "auto".
	(show_target_wide_charset_name): New function.
	(host_charset_enum, target_charset_enum): Remove.
	(charset_enum): New global.
	(all_charsets, register_charset, lookup_charset, all_translations,
	register_translation, lookup_translation): Remove.
	(simple_charset, ascii_print_literally, ascii_to_control): Remove.
	(iso_8859_print_literally, iso_8859_to_control,
	iso_8859_family_charset): Remove.
	(ebcdic_print_literally, ebcdic_to_control,
	ebcdic_family_charset): Remove.
	(struct cached_iconv, check_iconv_cache, cached_iconv_convert,
	register_iconv_charsets): Remove.
	(target_wide_charset_be_name, target_wide_charset_le_name): New
	globals.
	(identity_either_char_to_other): Remove.
	(set_be_le_names, validate): New functions.
	(backslashable, backslashed, represented): Remove.
	(default_c_target_char_has_backslash_escape): Remove.
	(default_c_parse_backslash, iconv_convert): Remove.
	(ascii_to_iso_8859_1_table, ascii_to_ebcdic_us_table,
	ascii_to_ibm1047_table, iso_8859_1_to_ascii_table,
	iso_8859_1_to_ebcdic_us_table, iso_8859_1_to_ibm1047_table,
	ebcdic_us_to_ascii_table, ebcdic_us_to_iso_8859_1_table,
	ebcdic_us_to_ibm1047_table, ibm1047_to_ascii_table,
	ibm1047_to_iso_8859_1_table, ibm1047_to_ebcdic_us_table): Remove.
	(table_convert_char, table_translation, simple_table_translation):
	Remove.
	(current_host_charset, current_target_charset,
	c_target_char_has_backslash_escape_func,
	c_target_char_has_backslash_escape_baton): Remove.
	(c_parse_backslash_func, c_parse_backslash_baton): Remove.
	(host_char_to_target_func, host_char_to_target_baton): Remove.
	(target_char_to_host_func, target_char_to_host_baton): Remove.
	(cached_iconv_host_to_target, cached_iconv_target_to_host):
	Remove.
	(lookup_charset_or_error, check_valid_host_charset): Remove.
	(set_host_and_target_charsets): Remove.
	(set_host_charset, set_target_charset): Remove.
	(set_host_charset_sfunc, set_target_charset_sfunc): Rewrite.
	(set_target_wide_charset_sfunc): New function.
	(show_charset): Print target wide character set.
	(host_charset, target_charset): Rewrite.
	(target_wide_charset): New function.
	(c_target_char_has_backslash_escape): Remove.
	(c_parse_backslash): Remove.
	(host_letter_to_control_character): New function.
	(host_char_print_literally): Remove.
	(host_hex_value): New function.
	(target_char_to_control_char): Remove.
	(cleanup_iconv): New function.
	(convert_between_encodings): New function.
	(target_char_to_host): Remove.
	(struct wchar_iterator): Define.
	(make_wchar_iterator, make_cleanup_wchar_iterator, wchar_iterator,
	wchar_push_back): New functions.
	(do_cleanup_iterator): New function.
	(char_ptr): New typedef.
	(charsets): New global.
	(add_one, find_charset_names): New functions.
	(default_charset_names): New global.
	(auto_host_charset_name): Likewise.
	* aclocal.m4, config.in, configure: Rebuild.
	* configure.ac: Call AM_LANGINFO_CODESET.
	(GDB_DEFAULT_HOST_CHARSET): Default to UTF-8.
	(AM_ICONV): Invoke earlier.
	* acinclude.m4: Include codeset.m4.  Subst LIBICONV_INCLUDE and
	LIBICONV_LIBDIR.  Check for libiconv in build tree.
	* Makefile.in (LIBICONV_LIBDIR, LIBICONV_INCLUDE): New macros.
	(INTERNAL_CFLAGS_BASE): Add LIBICONV_INCLUDE.
	(INTERNAL_LDFLAGS): Add LIBICONV_LIBDIR.
	* gdb_obstack.h (obstack_grow_wstr): New define.
        * gdb_wchar.h: New file.
        * defs.h: Include it.
gdb/testsuite:
	* gdb.base/store.exp: Update for change to escape output.
	* gdb.base/callfuncs.exp (fetch_all_registers): Update for change
	to escape output.
	* gdb.base/pointers.exp: Update for change to escape output.
	* gdb.base/long_long.exp (gdb_test_long_long): Update for change
	to escape output.
	* gdb.base/constvars.exp (do_constvar_tests): Update for change to
	escape output.
	* gdb.base/call-rt-st.exp (print_struct_call): Update for change
	to escape output.
	* gdb.cp/ref-types.exp (gdb_start_again): Update for change to
	escape output.
	* gdb.base/setvar.exp: Update for change to escape output.
	* lib/gdb.exp (default_gdb_start): Set LC_CTYPE to C.
	* gdb.base/printcmds.exp (test_print_all_chars): Update for change
	to escape output.
	(test_print_string_constants): Likewise.
	* gdb.base/charset.exp (valid_host_charset): Check size of
	wchar_t.  Handle UCS-2 and UCS-4.  Add tests for wide and unicode
	cases.  Handle "auto"-related output.
	* gdb.base/charset.c (char16_t, char32_t): New typedefs.
	(uvar, Uvar): New globals.
gdb/doc:
	* gdb.texinfo (Character Sets): Remove obsolete text.  Document
	set target-wide-charset.
	(Requirements): Mention iconv.
@
text
@d193 3
@


1.105
log
@2009-01-28  Daniel Jacobowitz  <dan@@codesourcery.com>
	    Jerome Guitton  <guitton@@adacore.com>

	* configure, config.in: Regenerated.
	* configure.ac: Add --with-system-gdbinit.
	* main.c (get_init_files): New.
	(captured_main): Use get_init_files.  Load system gdbinit before
	$HOME/.gdbinit.
	(print_gdb_help): Print location of init files.
@
text
@d172 3
d181 3
@


1.104
log
@	* config.in, configure: Rebuild.
	* configure.ac: Check for locale.h, setlocale.  Call
	AM_LC_MESSAGES.
	* acinclude.m4: Include lcmessage.m4.
@
text
@d658 7
@


1.103
log
@Initial python support.

gdb/
2008-08-06  Vladimir Prus  <vladimir@@codesourcery.com>
	    Tom Tromey  <tromey@@redhat.com>
	    Thiago Jung Bauermann  <bauerman@@br.ibm.com>
	    Doug Evans  <dje@@google.com>

	* Makefile.in (SUBDIR_PYTHON_OBS, SUBDIR_PYTHON_SRCS,
	SUBDIR_PYTHON_DEPS, SUBDIR_PYTHON_LDFLAGS, SUBDIR_PYTHON_CFLAGS,
	PYTHON_CFLAGS): New.
	(python_h, python_internal_h): New.
	(cli-script.o): Depend on python.h
	(python.o, python-utils.o): New.
	* cli/cli-script.c (print_command_lines): Handle python_control.
	(execute_control_command): Handle python_control.
	(execute_control_command_untraced): New function.
	(while_command): Call execute_control_command_untraced.
	(if_command): Likewise.
	(get_command_line): Remove static attribute.
	(read_next_line): Handle "python".
	(recurse_read_control_structure): Handle python_control.
	(read_command_lines): Handle python_control.
	Include python.h.
	* cli/cli-script.h (get_command_line): Add prototype.
	(execute_control_command_untraced): Likewise.
	* configure.ac: Add --with-python.
	* defs.h (enum command_control_type) <python_control>: New
	constant.
	* python/python-internal.h: New file.
	* python/python.c: New file.
	* python/python.h: New file.
	* python/python-utils.c: New file.
	* NEWS: Mention Python scripting support and its new commands.

gdb/doc/
2008-08-06  Tom Tromey  <tromey@@redhat.com>

	* gdb.texinfo (Extending GDB): New chapter.
	(Sequences): Demoted chapter, now a section under the new
	Extending GDB chapter.
	(Python): New section.

gdb/testsuite/
2008-08-06  Tom Tromey  <tromey@@redhat.com>

	* gdb.python/python.exp: New file.
@
text
@d178 3
d214 3
d334 3
@


1.102
log
@gdb/
	* NEWS (New commands): Mention "set disable-randomization".
	* configure.ac: Add check for HAVE_PERSONALITY and
	HAVE_DECL_ADDR_NO_RANDOMIZE.
	* configure, config.in: Regenerate.
	* linux-nat.c [HAVE_PERSONALITY]: New include <sys/personality.h>.
	[HAVE_PERSONALITY] [!HAVE_DECL_ADDR_NO_RANDOMIZE]: Set
	ADDR_NO_RANDOMIZE.
	(disable_randomization, show_disable_randomization)
	(set_disable_randomization): New.
	(linux_nat_create_inferior) [HAVE_PERSONALITY]: New variables
	PERSONALITY_ORIG and PERSONALITY_SET.  Disable randomization upon the
	variable DISABLE_RANDOMIZATION.
	(_initialize_linux_nat): Call ADD_SETSHOW_BOOLEAN_CMD for the variable
	DISABLE_RANDOMIZATION.

gdb/doc/
	* gdb.texinfo (Starting): Document "set disable-randomization".

gdb/testsuite/
	* gdb.base/randomize.exp, gdb.base/randomize.c: New files.
@
text
@d187 9
d319 3
@


1.101
log
@	* Makefile.in (GNULIB_H): Use GNULIB_STDINT_H.
	(gdb_stdint_h, gdb_stdint.h, stamp-int): Delete.  Remove
	all dependencies on $(gdb_stdint_h).
	(distclean): Do not delete gdb_stdint.h.
	* acinclude.m4: Do not use stdint.m4.
	* configure.ac: Set GNULIB_STDINT_H.  Remove tests for stdint.h,
	uintptr_t, and gdb_stdint.h.
	* defs.h: Include <stdint.h>.
	* gdb_thread_db.h: Assume stdint.h is already included.
	* breakpoint.c, findcmd.c, hppa-tdep.c, inf-ptrace.c, proc-service.c,
	rs6000-nat.c, spu-linux-nat.c, target.c, win32-nat.c: Do not
	include gdb_stdint.h.
	* configure, config.in: Regenerate.
@
text
@d85 4
d244 3
@


1.100
log
@2008-06-05  Vladimir Prus  <vladimir@@codesourcery.com>
            Nathan Sidwell  <nathan@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* acinclude.m4: Include ../config/acx.m4.
	* configure.ac: Use ACX_PKGVERSION and ACX_BUGURL.
	* configure, config.in: Regenerate.
	* main.c (print_gdb_help): Use REPORT_BUGS_TO for bug-reporting
	address.
	* top.c (print_gdb_version): Use PKGVERSION and REPORT_BUGS_TO.

doc:
2008-06-05  Vladimir Prus  <vladimir@@codesourcery.com>
            Nathan Sidwell  <nathan@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* configure.ac: Include ../../config/acx.m4.  Use ACX_PKGVERSION
	and ACX_BUGURL.
	* configure: Regenerate.
	* Makefile.in (PKGVERSION, BUGURL_TEXI): Define.
	(GDBvn.texi): Define VERSION_PACKAGE, BUGURL and BUGURL_DEFAULT.
	* gdb.texinfo: Use VERSION_PACKAGE and BUGURL.  Remove
	mailing-list-specific text about bug reporting unless
	BUGURL_DEFAULT.

gdbserver:
2008-06-05  Vladimir Prus  <vladimir@@codesourcery.com>
            Nathan Sidwell  <nathan@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* acinclude.m4: Include ../../config/acx.m4.
	* configure.ac: Use ACX_PKGVERSION and ACX_BUGURL.
	* configure, config.in: Regenerate.
	* Makefile.in (gdbreplay$(EXEEXT)): Add version.o.
	* server.c (gdbserver_version): Print PKGVERSION.
	(gdbsrever_usage): Add stream parameter.  Print REPORT_BUGS_TO.
	(main): Adjust gdbserver_usage calls.
	* gdbreplay.c (version, host_name): Add declarations.
	(gdbreplay_version, gdbreplay_usage): New.
	(main): Accept --version and --help options.
@
text
@a496 3
/* Define to 1 if the system has the type `uintptr_t'. */
#undef HAVE_UINTPTR_T

a608 6
/* The size of a `char', as computed by sizeof. */
#undef SIZEOF_CHAR

/* The size of a `int', as computed by sizeof. */
#undef SIZEOF_INT

a611 6
/* The size of a `short', as computed by sizeof. */
#undef SIZEOF_SHORT

/* The size of a `void *', as computed by sizeof. */
#undef SIZEOF_VOID_P

@


1.99
log
@	* configure.ac (AC_SEARCH_LIBS): Add check for zlib.
	* config.in, configure: Regenerate.
	* dwarf2read.c: Include zlib.h if present.
	Modified *_SECTION macros.
	(section_is_p): New.
	(dwarf2_locate_sections): Use section_is_p instead of strcmp
	(dwarf2_resize_section): New.
	to determine whether a given section has a given name.
	(zlib_decompress_section): New.
	(dwarf2_read_section): Read the compressed section if present
	in the binary.
	* testsuite/gdb.dwarf2/dw2-compressed.S: New file.
	* testsuite/gdb.dwarf2/dw2-compressed.exp: New file.
	* MAINTAINERS: Added myself to section Write After Approval.
@
text
@d564 3
d596 3
@


1.98
log
@	* Makefile.in (GNULIB_H): New.  Trigger all-lib.
	(defs_h): Use $(GNULIB_H).
	(all-lib): Depend on gnulib/Makefile.
	(gnulib/Makefile): Regenerate gnulib/Makefile and gnulib/.deps.
	* config.in, gnulib/Makefile.in: Regenerated.
@
text
@d530 3
@


1.97
log
@	* configure.ac (AC_CHECK_FUNCS): Add check for setsid.
	* config.in, configure: Regenerate.
	* fork-child.c (fork_inferior): Call create_tty_session.
	* inflow.c (new_tty): Set controlling terminal with TIOCSCTTY.
	(create_tty_session): New function.
	* terminal.h: Declare create_tty_session.
@
text
@d3 15
d70 3
d97 4
d168 3
d201 3
d210 6
d327 9
d405 3
d424 3
d503 3
d518 3
d586 4
d599 4
d618 4
d653 8
d684 3
d691 7
d701 22
d732 3
d738 13
@


1.96
log
@	* config.in: Regenerate.
@
text
@d281 3
@


1.96.6.1
log
@gdb/insight for ARCompact (from Richard Stuckey)
@
text
@a47 6
/* targetfile */
#undef GDB_TM_FILE

/* hostfile */
#undef GDB_XM_FILE

a154 9
/* Define if you have the ARC xISS library. */
#undef HAVE_LIBXISS

/* Define if you are building the ARC bare-board debugger. */
#undef ARC_ELF32_TARGET

/* Define if you are building the ARC Linux debugger. */
#undef ARC_LINUX_TARGET

@


1.95
log
@	* configure.ac (hostfile, targetfile): Remove.
	(GDB_XM_FILE, GDB_TM_FILE): Do not define.
	(xm_h, tm_h): Likewise.
	(DEPRECATED_TM_FILE, XM_FILE): Do not substitute into Makefile.
	* configure, config.in: Regenerate.

	* Makefile.in (xm_h, tm_h): Remove.  Update dependencies.
	(TAGS): Do not consider DEPRECATED_TM_FILE or XM_FILE.
	(clean, local-maintainer-clean): Do not remove xm.h or tm.h.
	* defs.h: Do not include "xm.h" or "tm.h".

	* gdbarch.sh (verify_gdbarch): Do not dump GDB_XM_FILE or GDB_TM_FILE.
	* gdbarch.c: Regenerate.

	* config/score/embed.mt: Remove obsolete comment.
@
text
@d506 3
@


1.94
log
@2007-10-25  Wu Zhou  <woodzltc@@cn.ibm.com>
	    Thiago Jung Bauermann  <bauerman@@br.ibm.com>

	* Makefile.in (LIBDECNUMBER_DIR, LIBDECNUMBER, LIBDECNUMBER_SRC
	LIBDECNUMBER_CFLAGS): New macros for libdecnumber.
	(INTERNAL_CFLAGS_BASE): Add LIBDECNUMBER_CFLAGS in.
	(INSTALLED_LIBS): Add -ldecnumber in.
	(CLIBS): Add LIBDECNUMBER in.
	(decimal128_h, decimal64_h, decimal32_h): New macros for decimal
	headers.
	(dfp_h): New macros for decimal floating point.
	(dfp.o): New target.
	(COMMON_OBS): Add dfp.o in.
	(c-exp.o): Add dfp_h as dependency.
	(valprint.o): Add dfp_h as dependency.
	(value.o): Add dfp_h as dependency.
	* dfp.h: New header file for decimal floating point support in
	GDB.
	* dfp.c: New source file for decimal floating point support in
	GDB.  Implement decimal_from_string and decimal_to_string based
	on libdecnumber API.
	* configure.ac: Add AC_C_BIGENDIAN test.
	* config.in, configure: Regenerate.
@
text
@a47 6
/* targetfile */
#undef GDB_TM_FILE

/* hostfile */
#undef GDB_XM_FILE

@


1.93
log
@	* configure.tgt: Remove hppa*64*-*-hpux11* special case.
	* config/pa/hppa64.mt: Delete file.
	* config/pa/hppahpux.mt (MT_CFLAGS): Remove.
	(TDEPFILES): Move somread.o to ...
	* config/pa/hpux.mh (NATDEPFILES): ... here.

	* configure.ac: Add check for elf_hp.h header.
	Search libdl and libxpdl for dlgetmodinfo.
	* config.in, configure: Regenerate.
	* solib-pa64.c: Conditionalize compilation on #ifdef HAVE_ELF_HP_H
	instead of #ifndef PA_SOM_ONLY.  Include "solib.h".
	(pa64_solib_select): Take gdbarch instead of tdep argument.  Call
	set_solib_ops instead of modifying current_target_so_ops.
	* solib-pa64.h (pa64_solib_select): Update prototype.
	* solib-som.c: Remove include of "som.h".  Include "solib.h".
	(som_solib_select): Take gdbarch instead of tdep argument.  Call
	set_solib_ops instead of modifying current_target_so_ops.
	* solib-som.h (som_solib_select): Update prototype.
	* hppa-hpux-tdep.c (hppa_hpux_som_init_abi): Pass gdbarch instead
	of tdep to som_solib_select call.
	(hppa_hpux_elf_init_abi): Pass gdbarch instead of tdep to
	pa64_solib_select call.
	* Makefile.in: Update dependencies.
@
text
@d589 4
@


1.92
log
@        * configure.ac: Add check for "etext".
        * configure, config.in: Regenerate.
        * maint.c (TEXTEND): Only define if either _etext or etext
        are available.
        Disable the profiling functionality if TEXTEND is not defined.
@
text
@d116 3
@


1.91
log
@	* coffread.c (coff_sym_fns): Add default_symfile_segments.
	* dbxread.c (start_psymtab): Check HAVE_ELF.
	(aout_sym_fns): Likewise.
	* elfread.c (elf_symfile_segments): New.
	(elf_sym_fns): Add elf_symfile_segments.
	* mipsread.c (ecoff_sym_fns): Add default_symfile_segments.
	* remote.c (get_offsets): Use symfile_map_offsets_to_segments.
	Skip if there is no symfile_objfile.  Handle TextSeg and DataSeg.
	* somread.c (som_sym_fns): Use default_symfile_segments.
	* symfile.c (find_sym_fns): Take a BFD and return the sym_fns.
	(init_objfile_sect_indices): Call symfile_find_segment_sections.
	(default_symfile_segments): New function.
	(syms_from_objfile): Update call to find_sym_fns.
	(symfile_get_segment_data, free_symfile_segment_data): New.
	(symfile_map_offsets_to_segments): New.
	(symfile_find_segment_sections): New.
	* symfile.h (struct symfile_segment_data): New.
	(struct sym_fns): Add sym_segments.
	(default_symfile_segments, symfile_get_segment_data)
	(free_symfile_segment_data): New prototypes.
	(symfile_map_offsets_to_segments): Likewise.
	* xcoffread.c (xcoff_sym_fns): Add default_symfile_segments.
	* Makefile.in (COMMON_OBS): Remove elfread.o.
	(elf_internal_h): New.
	(elfread.o): Update.
	* configure.ac: Add elfread.o to COMMON_OBS if bfd/elf.o was
	compiled.
	* config.in, configure: Regenerated.
	* NEWS: Mention qOffsets changes.

	* gdb.texinfo (General Query Packets): Document qOffsets changes.

	* Makefile.def: Add dependency from configure-gdb to all-bfd.
	* Makefile.in: Regenerated.
@
text
@d116 3
@


1.90
log
@	* config/i386/tm-linux.h (sys_quotactl): Do not define.
	* configure.ac (sys_quotactl, START_INFERIOR_TRAPS_EXPECTED): Do not
	define for i[[3456]]86-*-linux* native configurations.
	* config.in, configure: Regenerate.
@
text
@d113 3
@


1.89
log
@2007-03-29  Denis Pilat  <denis.pilat@@st.com>

	* configure.ac: Test for signal.h.
	* configure, config.in: Regenerate.
@
text
@a553 3
/* Define on a GNU/Linux system to work around problems in sys/procfs.h. */
#undef START_INFERIOR_TRAPS_EXPECTED

a614 3
/* Define on a GNU/Linux system to work around problems in sys/procfs.h. */
#undef sys_quotactl

@


1.88
log
@* configure.ac: Test for sys/resource.h and getrusage.
* configure, config.in: Regenerate.
@
text
@d284 3
@


1.87
log
@	* configure.ac (DEBUGDIR_RELOCATABLE): Define for debugdir inside
	exec_prefix.
	(TARGET_SYSTEM_ROOT_RELOCATABLE): Allow for exec_prefix being
	'${prefix}'.
	* configure, config.in: Regenerate.
	* defs.h (debug_file_directory): Declare.
	* main.c (captured_main): Canonicalize gdb_sysroot.  Assume
	TARGET_SYSTEM_ROOT is defined.  Initialize debug_file_directory and
	relocate it if DEBUGDIR_RELOCATABLE.
	* symfile.c (debug_file_directory): Make non-static.
	(find_separate_debug_file): Look for debug info for SYSROOT/PATH
	in DEBUGDIR/PATH if DEBUGDIR is inside SYSROOT.
	(_initialize_symfile): Don't initialize debug_file_directory here.
@
text
@d125 3
d394 3
@


1.86
log
@	* configure.ac: Check for XML_StopParser.
	* xml-support.c (gdb_xml_body_text): Check for an error.
	(gdb_xml_start_element_wrapper): Conditionalize call to XML_StopParser.
	(gdb_xml_end_element_wrapper): Likewise.
	* config.in, configure: Regenerated.
@
text
@d17 3
@


1.85
log
@	* configure.ac: Add tests for TD_VERSION and TD_NOTLS.
	* linux-thread-db.c (thread_db_err_str): Recognize TD_NOTALLOC,
	TD_VERSION, and TD_NOTLS.
	* configure, config.in: Regenerated.
@
text
@d454 3
@


1.84
log
@Commit missed files from last patch.
@
text
@d551 6
@


1.83
log
@	* configure.ac: Use GCC_HEADER_STDINT.
	* acinclude.m4: Include stdint.m4.
	* Makefile.in (gdb_stdint_h): Define.
	(distclean): Remove gdb_stdint.h.
	(Makefile, stamp-h): Update rules to generate only the correct
	files.
	(gdb_stdint.h, stamp-int): New rules.
	* config.in, configure: Regenerated.
@
text
@d23 2
a24 1
/* Define to 1 if NLS is requested */
a57 3
/* Define to 1 if you have the <argz.h> header file. */
#undef HAVE_ARGZ_H

a69 3
/* Define to 1 if you have the `dcgettext' function. */
#undef HAVE_DCGETTEXT

a115 3
/* Define to 1 if you have the `getcwd' function. */
#undef HAVE_GETCWD

a121 3
/* Define as 1 if you have gettext and don't want to use GNU gettext. */
#undef HAVE_GETTEXT

a139 3
/* Define if your locale.h file contains LC_MESSAGES. */
#undef HAVE_LC_MESSAGES

d143 3
a160 3
/* Define to 1 if you have the <limits.h> header file. */
#undef HAVE_LIMITS_H

a163 3
/* Define to 1 if you have the <locale.h> header file. */
#undef HAVE_LOCALE_H

a172 3
/* Define to 1 if you have the <malloc.h> header file. */
#undef HAVE_MALLOC_H

a181 3
/* Define to 1 if you have the `munmap' function. */
#undef HAVE_MUNMAP

a196 3
/* Define to 1 if you have the <nl_types.h> header file. */
#undef HAVE_NL_TYPES_H

a259 3
/* Define to 1 if you have the `putenv' function. */
#undef HAVE_PUTENV

a265 6
/* Define to 1 if you have the `setenv' function. */
#undef HAVE_SETENV

/* Define to 1 if you have the `setlocale' function. */
#undef HAVE_SETLOCALE

a301 9
/* Define if you have the stpcpy function */
#undef HAVE_STPCPY

/* Define to 1 if you have the `strcasecmp' function. */
#undef HAVE_STRCASECMP

/* Define to 1 if you have the `strchr' function. */
#undef HAVE_STRCHR

a435 3
/* Define to 1 if you have the <values.h> header file. */
#undef HAVE_VALUES_H

a459 9
/* Define to 1 if you have the `__argz_count' function. */
#undef HAVE___ARGZ_COUNT

/* Define to 1 if you have the `__argz_next' function. */
#undef HAVE___ARGZ_NEXT

/* Define to 1 if you have the `__argz_stringify' function. */
#undef HAVE___ARGZ_STRINGIFY

d516 1
a516 1
/* The size of `char', as computed by sizeof. */
d519 1
a519 1
/* The size of `int', as computed by sizeof. */
d522 1
a522 1
/* The size of `long', as computed by sizeof. */
d525 1
a525 1
/* The size of `short', as computed by sizeof. */
d528 1
a528 1
/* The size of `void *', as computed by sizeof. */
d533 1
a533 1
   automatically deduced at runtime.
a593 3
/* Define to `long int' if <sys/types.h> does not define. */
#undef off_t

a596 3
/* Define to `unsigned int' if <sys/types.h> does not define. */
#undef size_t

@


1.82
log
@	* configure.ac: Add arguments to AC_DEFINE calls.
	* acconfig.h: Remove file.
	* acinclude.m4 (AC_GNU_SOURCE): Remove definition.
	* configure: Regenerate.
	* config.in: Regenerate.
@
text
@d572 15
d589 1
a589 1
   automatically deduced at run-time.
d650 1
a650 1
/* Define to `long' if <sys/types.h> does not define. */
d656 1
a656 1
/* Define to `unsigned' if <sys/types.h> does not define. */
@


1.82.20.1
log
@Changes from nickrob-async-20060828-mergepoint.
@
text
@d23 1
a23 2
/* Define to 1 if translation of program messages to the user's native
   language is requested. */
d57 3
d72 3
d121 3
d130 3
d151 3
a156 3
/* Define if you have the expat library. */
#undef HAVE_LIBEXPAT

d172 3
d178 3
d190 3
d202 3
d220 3
d286 3
d295 6
d337 9
d480 3
d507 9
a571 15
/* The size of a `char', as computed by sizeof. */
#undef SIZEOF_CHAR

/* The size of a `int', as computed by sizeof. */
#undef SIZEOF_INT

/* The size of a `long', as computed by sizeof. */
#undef SIZEOF_LONG

/* The size of a `short', as computed by sizeof. */
#undef SIZEOF_SHORT

/* The size of a `void *', as computed by sizeof. */
#undef SIZEOF_VOID_P

d635 3
d641 3
@


1.82.10.1
log
@Merge XML and VFP support to this branch.
@
text
@a571 15
/* The size of a `char', as computed by sizeof. */
#undef SIZEOF_CHAR

/* The size of a `int', as computed by sizeof. */
#undef SIZEOF_INT

/* The size of a `long', as computed by sizeof. */
#undef SIZEOF_LONG

/* The size of a `short', as computed by sizeof. */
#undef SIZEOF_SHORT

/* The size of a `void *', as computed by sizeof. */
#undef SIZEOF_VOID_P

a602 4
/* Define to 1 if your processor stores words with the most significant byte
   first (like Motorola and SPARC, unlike Intel and VAX). */
#undef WORDS_BIGENDIAN

@


1.82.12.1
log
@Build SHA-1 support for checksumming.
@
text
@a571 15
/* The size of a `char', as computed by sizeof. */
#undef SIZEOF_CHAR

/* The size of a `int', as computed by sizeof. */
#undef SIZEOF_INT

/* The size of a `long', as computed by sizeof. */
#undef SIZEOF_LONG

/* The size of a `short', as computed by sizeof. */
#undef SIZEOF_SHORT

/* The size of a `void *', as computed by sizeof. */
#undef SIZEOF_VOID_P

a602 4
/* Define to 1 if your processor stores words with the most significant byte
   first (like Motorola and SPARC, unlike Intel and VAX). */
#undef WORDS_BIGENDIAN

@


1.81
log
@* configure.ac: Use AC_CHECK_TYPES to check for uintptr_t.
* configure, config.in: Regenerate.
@
text
@a1 143
/* Enable GNU extensions on systems that have them.  */
#ifndef _GNU_SOURCE
# undef _GNU_SOURCE
#endif

/* Define if pstatus_t type is available */
#undef HAVE_PSTATUS_T

/* Define if prrun_t type is available */
#undef HAVE_PRRUN_T

/* Define if fpregset_t type is available. */
#undef HAVE_FPREGSET_T

/* Define if gregset_t type is available. */
#undef HAVE_GREGSET_T

/* Define if <sys/procfs.h> has prgregset_t. */
#undef HAVE_PRGREGSET_T

/* Define if <sys/procfs.h> has prfpregset_t. */
#undef HAVE_PRFPREGSET_T

/* Define if <sys/procfs.h> has lwpid_t. */
#undef HAVE_LWPID_T

/* Define if <sys/procfs.h> has psaddr_t. */
#undef HAVE_PSADDR_T

/* Define if <sys/procfs.h> has prgregset32_t. */
#undef HAVE_PRGREGSET32_T

/* Define if <sys/procfs.h> has prfpregset32_t. */
#undef HAVE_PRFPREGSET32_T

/* Define if <sys/procfs.h> has prsysent_t */
#undef HAVE_PRSYSENT_T

/* Define if <sys/procfs.h> has pr_sigset_t */
#undef HAVE_PR_SIGSET_T

/* Define if <sys/procfs.h> has pr_sigaction64_t */
#undef HAVE_PR_SIGACTION64_T

/* Define if <sys/procfs.h> has pr_siginfo64_t */
#undef HAVE_PR_SIGINFO64_T

/* Define if <link.h> exists and defines struct link_map which has
   members with an ``l_'' prefix.  (For Solaris, SVR4, and
   SVR4-like systems.) */
#undef HAVE_STRUCT_LINK_MAP_WITH_L_MEMBERS

/* Define if <link.h> exists and defines struct link_map which has
  members with an ``lm_'' prefix.  (For SunOS.)  */
#undef HAVE_STRUCT_LINK_MAP_WITH_LM_MEMBERS

/* Define if <link.h> exists and defines a struct so_map which has
  members with an ``som_'' prefix.  (Found on older *BSD systems.)  */
#undef HAVE_STRUCT_SO_MAP_WITH_SOM_MEMBERS

/* Define if <sys/link.h> has struct link_map32 */
#undef HAVE_STRUCT_LINK_MAP32

/* Define if <sys/link.h> has link_map32 (solaris sparc-64 target) */
#undef _SYSCALL32

/* Define if the prfpregset_t type is broken. */
#undef PRFPREGSET_T_BROKEN

/* Define if you want to use new multi-fd /proc interface
   (replaces HAVE_MULTIPLE_PROC_FDS as well as other macros). */
#undef NEW_PROC_API

/* Define if ioctl argument PIOCSET is available. */
#undef HAVE_PROCFS_PIOCSET

/* Define if using Solaris thread debugging.  */
#undef HAVE_THREAD_DB_LIB

/* Define if you support the tkill syscall.  */
#undef HAVE_TKILL_SYSCALL

/* Define on a GNU/Linux system to work around problems in sys/procfs.h.  */
#undef START_INFERIOR_TRAPS_EXPECTED
#undef sys_quotactl

/* Define if you have HPUX threads */
#undef HAVE_HPUX_THREAD_SUPPORT

/* Define to 1 if NLS is requested.  */
#undef ENABLE_NLS

/* Define as 1 if you have catgets and don't want to use GNU gettext.  */
#undef HAVE_CATGETS

/* Define as 1 if you have gettext and don't want to use GNU gettext.  */
#undef HAVE_GETTEXT

/* Define as 1 if you have the stpcpy function.  */
#undef HAVE_STPCPY

/* Define if your locale.h file contains LC_MESSAGES.  */
#undef HAVE_LC_MESSAGES

/* Define if you want to use the full-screen terminal user interface.  */
#undef TUI

/* Define if <proc_service.h> on solaris uses int instead of
   size_t, and assorted other type changes. */
#undef PROC_SERVICE_IS_OLD

/* Define if the simulator is being linked in.  */
#undef WITH_SIM

/* Define if <sys/ptrace.h> defines the PTRACE_GETREGS request.  */
#undef HAVE_PTRACE_GETREGS

/* Define if <sys/ptrace.h> defines the PTRACE_GETFPXREGS request.  */
#undef HAVE_PTRACE_GETFPXREGS

/* Define if <sys/ptrace.h> defines the PT_GETDBREGS request.  */
#undef HAVE_PT_GETDBREGS

/* Define if <sys/ptrace.h> defines the PT_GETXMMREGS request.  */
#undef HAVE_PT_GETXMMREGS

/* Define if libunwind library is being used.  */
#undef HAVE_LIBUNWIND

/* hostfile */
#undef GDB_XM_FILE

/* targetfile */
#undef GDB_TM_FILE

/* nativefile */
#undef GDB_NM_FILE

/* Define to 1 so <sys/proc.h> gets a definition of anon_hdl.  Works
   around a <sys/proc.h> problem on IRIX 5.  */
#ifndef _KMEMUSER
#undef _KMEMUSER
#endif
d38 3
d44 6
d142 3
d160 3
d244 3
d271 6
d280 6
d352 11
d375 4
d462 3
d468 1
a468 1
/* Define if we can use the tkill syscall. */
d519 4
d541 3
d550 4
d580 3
d600 3
d610 9
d623 3
d644 3
@


1.80
log
@* ser-tcp.c: Tewak comment.
[!HAVE_SOCKLEN_T]: Typedef socklen_t.
* configure.ac: Add check for socklen_t.
* configure, config.in: Regenerate.
@
text
@d569 1
a569 1
/* Define if <stdint.h> provides the uintptr_t type. */
@


1.79
log
@
	* configure.ac: Fix bad description of _MSE_INT_H that caused each
	word in config.in to be enclosed in [].
	* config.in: Regenerate.
@
text
@d438 3
@


1.78
log
@
	* configure, config.in: Regenerate.
@
text
@d685 2
a686 3
/* 
   Define to 1 to avoid a clash between <widec.h> and <wchar.h> on Solaris [2.[789]], when using GCC.
   */
@


1.77
log
@	* configure.ac (stat.st_blksize): Check for it.
	(getuid): Likewise.
	(getgid): Likewise.
	* configure: Regenerated.
	* config.in: Likewise.
	* remote-fileio.c (remote_fileio_to_fio_stat): Check
	HAVE_STRUCT_STAT_ST_BLKSIZE.
@
text
@d229 4
d241 4
d673 5
d686 1
a686 1
   [Define], [to], [1], [to], [avoid], [a], [clash], [between], [<widec.h>], [and], [<wchar.h>], [on], [Solaris], [2.[789]], [when], [using], [GCC.], []
@


1.76
log
@* acconfig.h (HAVE_STRUCT_REG_R_FS, HAVE_STRUCT_R_GS): Remove
undefs.
* configure.ac: Use AC_CHECK_MEMBERS to check whether `struct
thread' has a td_pcb member and whether `struct reg' has r_fs and
r_gs members.
* configure, config.in: Regenerate.
@
text
@d250 3
d259 3
d466 3
@


1.75
log
@* configure.ac: Use AC_CHECK_DECLS instead of gcc_AC_CHECK_DECLS
and BFD_NEED_DECLARATION.  Don't check if a declaration of strdup
is necessary.
* configure, config.in: Regenerate.
* utils.c: Adjust for usage of AC_CHECK_DECLS instead of
BFD_NEED_DECLARATION.  Never provide a prototype for
caninicalize_file_name.
* gdb_string.h: Adjust for usage of AC_CHECK_DECLS instead of
BFD_NEED_DECLARATION.
@
text
@a6 6
/* Define if your struct reg has r_fs.  */
#undef HAVE_STRUCT_REG_R_FS

/* Define if your struct reg has r_gs.  */
#undef HAVE_STRUCT_REG_R_GS

d454 6
d463 1
a463 1
/* Define to 1 if your system has td_pcb in struct thread. */
@


1.74
log
@* configure.ac (targ_archs): Use standard autoconf check for
"struct stat.st_blocks" instead of rolling our own.
* configure: Regenerated.
* acconfig.h (HAVE_STRUCT_STAT_ST_BLOCKS): Remove undef.
* config.in: Regenerated.
@
text
@d215 6
a220 1
/* Define to 1 if we found this declaration otherwise define to 0. */
d223 6
a228 1
/* Define to 1 if we found this declaration otherwise define to 0. */
d231 12
a593 21
/* Define if canonicalize_file_name is not declared in system header files. */
#undef NEED_DECLARATION_CANONICALIZE_FILE_NAME

/* Define if free is not declared in system header files. */
#undef NEED_DECLARATION_FREE

/* Define if malloc is not declared in system header files. */
#undef NEED_DECLARATION_MALLOC

/* Define if realloc is not declared in system header files. */
#undef NEED_DECLARATION_REALLOC

/* Define if strdup is not declared in system header files. */
#undef NEED_DECLARATION_STRDUP

/* Define if strerror is not declared in system header files. */
#undef NEED_DECLARATION_STRERROR

/* Define if strstr is not declared in system header files. */
#undef NEED_DECLARATION_STRSTR

@


1.73
log
@* configure.ac: Modernize checks for `long long' and `long double'
support.
* configure: Regenerated.
* acconfig.h (CC_HAS_LONG_LONG, PRINTF_HAS_LONG_LONG)
(PRINT_HAS_LONG_DOUBLE,	SCANF_HAS_LONG_DOUBLE): Remove undefs.
* config.in: Regenerated.
@
text
@a9 3
/* Define if your struct stat has st_blocks.  */
#undef HAVE_STRUCT_STAT_ST_BLOCKS

d438 3
@


1.72
log
@	* configure.in: Check for ncurses/term.h.
	* gdb_curses.h: Include term.h here, prefering ncurses/term.h.
	* utils.c: Include gdb_curses.h instead of curses.h and term.h.
	* tui/tui.c: Don't include term.h.
	* configure, config.in: Rebuilt.
@
text
@d1 4
a4 7
/* config.in.  Generated automatically from configure.in by autoheader.  */

/* Define if on AIX 3.
   System headers sometimes define this.
   We just want to avoid a redefinition error message.  */
#ifndef _ALL_SOURCE
#undef _ALL_SOURCE
d7 2
a8 2
/* Define if using alloca.c.  */
#undef C_ALLOCA
d10 2
a11 2
/* Define to empty if the keyword does not work.  */
#undef const
d13 2
a14 3
/* Define to one of _getb67, GETB67, getb67 for Cray-2 and Cray-YMP systems.
   This function is required for alloca.c support on those systems.  */
#undef CRAY_STACKSEG_END
d16 2
a17 2
/* Define if you have alloca, as a function or macro.  */
#undef HAVE_ALLOCA
d19 2
a20 2
/* Define if you have <alloca.h> and it should be used (not on Ultrix).  */
#undef HAVE_ALLOCA_H
d22 2
a23 2
/* Define if the `long double' type works.  */
#undef HAVE_LONG_DOUBLE
d25 2
a26 2
/* Define if you have a working `mmap' system call.  */
#undef HAVE_MMAP
d28 2
a29 2
/* Define if you have <vfork.h>.  */
#undef HAVE_VFORK_H
d31 2
a32 2
/* Define as __inline if that's what the C compiler calls it.  */
#undef inline
d34 2
a35 2
/* Define to `long' if <sys/types.h> doesn't define.  */
#undef off_t
d37 2
a38 2
/* Define to `int' if <sys/types.h> doesn't define.  */
#undef pid_t
d40 2
a41 2
/* Define if you need to in order for stat and other things to work.  */
#undef _POSIX_SOURCE
d43 2
a44 2
/* Define as the return type of signal handlers (int or void).  */
#undef RETSIGTYPE
d46 2
a47 2
/* Define if the `setpgrp' function takes no argument.  */
#undef SETPGRP_VOID
d49 2
a50 2
/* Define to `unsigned' if <sys/types.h> doesn't define.  */
#undef size_t
d52 2
a53 8
/* If using the C implementation of alloca, define if you know the
   direction of stack growth for your system; otherwise it will be
   automatically deduced at run-time.
 STACK_DIRECTION > 0 => grows toward higher addresses
 STACK_DIRECTION < 0 => grows toward lower addresses
 STACK_DIRECTION = 0 => direction of growth unknown
 */
#undef STACK_DIRECTION
d55 2
a56 22
/* Define if the `S_IS*' macros in <sys/stat.h> do not work properly.  */
#undef STAT_MACROS_BROKEN

/* Define if you have the ANSI C header files.  */
#undef STDC_HEADERS

/* Define vfork as fork if vfork does not work.  */
#undef vfork

/* Enable GNU extensions on systems that have them.  */
#ifndef _GNU_SOURCE
# undef _GNU_SOURCE
#endif

/* Define if your struct reg has r_fs.  */
#undef HAVE_STRUCT_REG_R_FS

/* Define if your struct stat has st_blocks.  */
#undef HAVE_STRUCT_STAT_ST_BLOCKS

/* Define if your struct reg has r_gs.  */
#undef HAVE_STRUCT_REG_R_GS
a86 12
/* Define if the `long long' type works.  */
#undef CC_HAS_LONG_LONG

/* Define if the "ll" format works to print long long ints. */
#undef PRINTF_HAS_LONG_LONG

/* Define if the "%Lg" format works to print long doubles. */
#undef PRINTF_HAS_LONG_DOUBLE

/* Define if the "%Lg" format works to scan long doubles. */
#undef SCANF_HAS_LONG_DOUBLE

d90 3
d100 18
a124 6
/* Set to true if the save_state_t structure is present */
#undef HAVE_STRUCT_SAVE_STATE_T

/* Set to true if the save_state_t structure has the ss_wide member */
#undef HAVE_STRUCT_MEMBER_SS_WIDE

d155 7
a161 2
/* Define if you have the __argz_count function.  */
#undef HAVE___ARGZ_COUNT
d163 2
a164 2
/* Define if you have the __argz_next function.  */
#undef HAVE___ARGZ_NEXT
d166 2
a167 2
/* Define if you have the __argz_stringify function.  */
#undef HAVE___ARGZ_STRINGIFY
d169 2
a170 2
/* Define if you have the _mcleanup function.  */
#undef HAVE__MCLEANUP
d172 2
a173 2
/* Define if you have the canonicalize_file_name function.  */
#undef HAVE_CANONICALIZE_FILE_NAME
d175 2
a176 2
/* Define if you have the dcgettext function.  */
#undef HAVE_DCGETTEXT
d178 2
a179 2
/* Define if you have the getcwd function.  */
#undef HAVE_GETCWD
d181 2
a182 2
/* Define if you have the getpagesize function.  */
#undef HAVE_GETPAGESIZE
d184 2
a185 2
/* Define if you have the monstartup function.  */
#undef HAVE_MONSTARTUP
d187 2
a188 2
/* Define if you have the munmap function.  */
#undef HAVE_MUNMAP
d190 2
a191 2
/* Define if you have the poll function.  */
#undef HAVE_POLL
d193 2
a194 2
/* Define if you have the pread64 function.  */
#undef HAVE_PREAD64
d196 3
a198 2
/* Define if you have the putenv function.  */
#undef HAVE_PUTENV
d200 2
a201 2
/* Define if you have the realpath function.  */
#undef HAVE_REALPATH
d203 2
a204 2
/* Define if you have the sbrk function.  */
#undef HAVE_SBRK
d206 2
a207 2
/* Define if you have the setenv function.  */
#undef HAVE_SETENV
d209 2
a210 2
/* Define if you have the setlocale function.  */
#undef HAVE_SETLOCALE
d212 2
a213 2
/* Define if you have the setpgid function.  */
#undef HAVE_SETPGID
d215 2
a216 2
/* Define if you have the setpgrp function.  */
#undef HAVE_SETPGRP
d218 2
a219 2
/* Define if you have the sigaction function.  */
#undef HAVE_SIGACTION
d221 2
a222 2
/* Define if you have the sigprocmask function.  */
#undef HAVE_SIGPROCMASK
d224 3
a226 2
/* Define if you have the sigsetmask function.  */
#undef HAVE_SIGSETMASK
d228 2
a229 2
/* Define if you have the socketpair function.  */
#undef HAVE_SOCKETPAIR
d231 2
a232 2
/* Define if you have the stpcpy function.  */
#undef HAVE_STPCPY
d234 2
a235 2
/* Define if you have the strcasecmp function.  */
#undef HAVE_STRCASECMP
d237 2
a238 2
/* Define if you have the strchr function.  */
#undef HAVE_STRCHR
d240 2
a241 2
/* Define if you have the syscall function.  */
#undef HAVE_SYSCALL
d243 2
a244 2
/* Define if you have the ttrace function.  */
#undef HAVE_TTRACE
d246 2
a247 2
/* Define if you have the wborder function.  */
#undef HAVE_WBORDER
d249 2
a250 2
/* Define if you have the <argz.h> header file.  */
#undef HAVE_ARGZ_H
d252 2
a253 2
/* Define if you have the <ctype.h> header file.  */
#undef HAVE_CTYPE_H
d255 2
a256 2
/* Define if you have the <curses.h> header file.  */
#undef HAVE_CURSES_H
d258 2
a259 2
/* Define if you have the <cursesX.h> header file.  */
#undef HAVE_CURSESX_H
d261 2
a262 2
/* Define if you have the <dirent.h> header file.  */
#undef HAVE_DIRENT_H
d264 2
a265 2
/* Define if you have the <gnu/libc-version.h> header file.  */
#undef HAVE_GNU_LIBC_VERSION_H
d267 1
a267 1
/* Define if you have the <libunwind-ia64.h> header file.  */
d270 2
a271 2
/* Define if you have the <libunwind.h> header file.  */
#undef HAVE_LIBUNWIND_H
d273 1
a273 1
/* Define if you have the <limits.h> header file.  */
d276 1
a276 1
/* Define if you have the <link.h> header file.  */
d279 1
a279 1
/* Define if you have the <locale.h> header file.  */
d282 7
a288 1
/* Define if you have the <machine/reg.h> header file.  */
d291 1
a291 1
/* Define if you have the <malloc.h> header file.  */
d294 1
a294 1
/* Define if you have the <memory.h> header file.  */
d297 10
a306 1
/* Define if you have the <ncurses.h> header file.  */
d309 1
a309 1
/* Define if you have the <ncurses/ncurses.h> header file.  */
d312 1
a312 1
/* Define if you have the <ncurses/term.h> header file.  */
d315 1
a315 1
/* Define if you have the <ndir.h> header file.  */
d318 4
a321 1
/* Define if you have the <nl_types.h> header file.  */
d324 2
a325 2
/* Define if you have the <nlist.h> header file.  */
#undef HAVE_NLIST_H
d327 1
a327 1
/* Define if you have the <poll.h> header file.  */
d330 16
a345 1
/* Define if you have the <proc_service.h> header file.  */
d348 22
a369 1
/* Define if you have the <ptrace.h> header file.  */
d372 22
a393 1
/* Define if you have the <sgtty.h> header file.  */
d396 16
a411 1
/* Define if you have the <stddef.h> header file.  */
d414 1
a414 1
/* Define if you have the <stdint.h> header file.  */
d417 1
a417 1
/* Define if you have the <stdlib.h> header file.  */
d420 13
a432 1
/* Define if you have the <string.h> header file.  */
d435 11
a445 2
/* Define if you have the <strings.h> header file.  */
#undef HAVE_STRINGS_H
d447 1
a447 1
/* Define if you have the <sys/debugreg.h> header file.  */
d450 2
a451 1
/* Define if you have the <sys/dir.h> header file.  */
d454 1
a454 1
/* Define if you have the <sys/fault.h> header file.  */
d457 1
a457 1
/* Define if you have the <sys/file.h> header file.  */
d460 1
a460 1
/* Define if you have the <sys/filio.h> header file.  */
d463 1
a463 1
/* Define if you have the <sys/ioctl.h> header file.  */
d466 2
a467 1
/* Define if you have the <sys/ndir.h> header file.  */
d470 1
a470 1
/* Define if you have the <sys/param.h> header file.  */
d473 1
a473 1
/* Define if you have the <sys/poll.h> header file.  */
d476 4
a479 1
/* Define if you have the <sys/proc.h> header file.  */
d482 1
a482 4
/* Define if you have the <sys/procfs.h> header file.  */
#undef HAVE_SYS_PROCFS_H

/* Define if you have the <sys/ptrace.h> header file.  */
d485 1
a485 1
/* Define if you have the <sys/reg.h> header file.  */
d488 1
a488 1
/* Define if you have the <sys/select.h> header file.  */
d491 4
a494 1
/* Define if you have the <sys/syscall.h> header file.  */
d497 1
a497 1
/* Define if you have the <sys/types.h> header file.  */
d500 1
a500 1
/* Define if you have the <sys/user.h> header file.  */
d503 1
a503 1
/* Define if you have the <sys/wait.h> header file.  */
d506 2
a507 2
/* Define if you have the <term.h> header file.  */
#undef HAVE_TERM_H
d509 1
a509 1
/* Define if you have the <termio.h> header file.  */
d512 2
a513 2
/* Define if you have the <termios.h> header file.  */
#undef HAVE_TERMIOS_H
d515 1
a515 1
/* Define if you have the <thread_db.h> header file.  */
d518 1
a518 1
/* Define if you have the <time.h> header file.  */
d521 2
a522 2
/* Define if you have the <unistd.h> header file.  */
#undef HAVE_UNISTD_H
d524 2
a525 2
/* Define if you have the <values.h> header file.  */
#undef HAVE_VALUES_H
d527 2
a528 2
/* Define if you have the <wait.h> header file.  */
#undef HAVE_WAIT_H
d530 2
a531 2
/* Define if you have the dl library (-ldl).  */
#undef HAVE_LIBDL
d533 2
a534 2
/* Define if you have the m library (-lm).  */
#undef HAVE_LIBM
d536 2
a537 2
/* Define if you have the w library (-lw).  */
#undef HAVE_LIBW
d539 2
a540 2
/* Define if you have the stpcpy function */
#undef HAVE_STPCPY
d542 2
a543 2
/* Define if your locale.h file contains LC_MESSAGES. */
#undef HAVE_LC_MESSAGES
d545 2
a546 8
/* Define to 1 if NLS is requested */
#undef ENABLE_NLS

/* Define as 1 if you have gettext and don't want to use GNU gettext. */
#undef HAVE_GETTEXT

/* Name of this package.  */
#undef PACKAGE
d548 2
a549 5
/* Global directory for separate debug files.  */
#undef DEBUGDIR

/* Define to BFD's default architecture.  */
#undef DEFAULT_BFD_ARCH
d551 2
a552 2
/* Define to BFD's default target vector.  */
#undef DEFAULT_BFD_VEC
d554 1
a554 1
/* Define to 1 if your system has the _etext variable.  */
d557 2
a558 3
/* Define to 1 to avoid a clash between <widec.h> and <wchar.h> on
   Solaris 2.[789] when using GCC.  */
#undef _MSE_INT_H
d560 2
a561 2
/* Define to 1 if we found this declaration otherwise define to 0. */
#undef HAVE_DECL_GETOPT
d563 2
a564 2
/* Define to 1 if we found this declaration otherwise define to 0. */
#undef HAVE_DECL_PTRACE
d566 2
a567 2
/* Define as the return type of ptrace. */
#undef PTRACE_TYPE_RET
d569 2
a570 2
/* Define to the type of arg 3 for ptrace. */
#undef PTRACE_TYPE_ARG3
d572 2
a573 2
/* Define to the type of arg 5 for ptrace. */
#undef PTRACE_TYPE_ARG5
d575 2
a576 17
/* Define if sigsetjmp is available.  */
#undef HAVE_SIGSETJMP

/* Define to 1 if the regex included in libiberty should be used. */
#undef USE_INCLUDED_REGEX

/* Define to 1 if your system has td_pcb in struct thread. */
#undef HAVE_STRUCT_THREAD_TD_PCB

/* Define to 1 if your system has struct lwp. */
#undef HAVE_STRUCT_LWP

/* Define to 1 if your system has struct reg in <machine/reg.h>. */
#undef HAVE_STRUCT_REG

/* Define if <stdint.h> provides the uintptr_t type. */
#undef HAVE_UINTPTR_T
d584 2
a585 2
/* Define if free is not declared in system header files. */
#undef NEED_DECLARATION_FREE
a589 3
/* Define if strdup is not declared in system header files. */
#undef NEED_DECLARATION_STRDUP

d593 8
a600 2
/* Define if canonicalize_file_name is not declared in system header files. */
#undef NEED_DECLARATION_CANONICALIZE_FILE_NAME
d602 2
a603 2
/* Define if <sys/procfs.h> has pstatus_t. */
#undef HAVE_PSTATUS_T
d605 2
a606 2
/* Define if <sys/procfs.h> has prrun_t. */
#undef HAVE_PRRUN_T
d608 2
a609 2
/* Define if <sys/procfs.h> has gregset_t. */
#undef HAVE_GREGSET_T
d611 2
a612 2
/* Define if <sys/procfs.h> has fpregset_t. */
#undef HAVE_FPREGSET_T
d614 2
a615 2
/* Define if <sys/procfs.h> has prgregset_t. */
#undef HAVE_PRGREGSET_T
d617 2
a618 2
/* Define if <sys/procfs.h> has prfpregset_t. */
#undef HAVE_PRFPREGSET_T
d620 2
a621 2
/* Define if <sys/procfs.h> has prgregset32_t. */
#undef HAVE_PRGREGSET32_T
d623 2
a624 2
/* Define if <sys/procfs.h> has prfpregset32_t. */
#undef HAVE_PRFPREGSET32_T
d626 2
a627 2
/* Define if <sys/procfs.h> has lwpid_t. */
#undef HAVE_LWPID_T
d629 2
a630 2
/* Define if <sys/procfs.h> has psaddr_t. */
#undef HAVE_PSADDR_T
d632 2
a633 2
/* Define if <sys/procfs.h> has prsysent_t. */
#undef HAVE_PRSYSENT_T
d635 7
a641 2
/* Define if <sys/procfs.h> has pr_sigset_t. */
#undef HAVE_PR_SIGSET_T
d643 2
a644 2
/* Define if <sys/procfs.h> has pr_sigaction64_t. */
#undef HAVE_PR_SIGACTION64_T
d646 2
a647 2
/* Define if <sys/procfs.h> has pr_siginfo64_t. */
#undef HAVE_PR_SIGINFO64_T
d652 2
a653 2
/* Define if we can use the tkill syscall. */
#undef HAVE_TKILL_SYSCALL
d655 6
a660 2
/* Host float floatformat */
#undef GDB_HOST_FLOAT_FORMAT
d662 4
a665 2
/* Host double floatformat */
#undef GDB_HOST_DOUBLE_FORMAT
d667 2
a668 2
/* Host long double floatformat */
#undef GDB_HOST_LONG_DOUBLE_FORMAT
d670 5
a674 2
/* Define to the default OS ABI for this configuration. */
#undef GDB_OSABI_DEFAULT
d676 2
a677 2
/* Define to be a string naming the default host character set. */
#undef GDB_DEFAULT_HOST_CHARSET
d679 2
a680 2
/* Define if you have the iconv() function. */
#undef HAVE_ICONV
d682 2
a683 2
/* Define as const if the declaration of iconv() needs const. */
#undef ICONV_CONST
d685 2
@


1.71
log
@* configure.in: Check for waddstr instead of mvwaddstr when
searching for curses library.  Check for wborder.
* configure, config.in: Regenerate.
* tui/tui-wingeneral.c (box_win): Use box if wborder isn't
available.
@
text
@d317 3
@


1.70
log
@* configure.in: Check for ttrace function.
* configure, config.in: Regenerate.
@
text
@d266 3
@


1.69
log
@* configure.in: Add <ncurses/ncurses.h> to the list of possible
curses headers.
* configure, config.in: Regenerate.
* gdb_curses.h [HAVE_NCURSES_NCURSES_H]: Include
<ncurses/ncurses.h>.
@
text
@d263 3
@


1.68
log
@* configure.in: Check for <sys/types.h>.  Check return and
argument types of ptrace.
* configure, config.in: Regenerate.
@
text
@d308 3
@


1.67
log
@* configure.in: Add cursesX to the list of possible curses libs.
Add cursesX.h to the list of possible curses headers.
* configure, config.in: Regenerate.
@
text
@d389 3
d465 12
@


1.66
log
@2004-07-29  Andrew Cagney  <cagney@@gnu.org>

	* config/pa/xm-linux.h: Do not include "floatformat.h".
	(HOST_FLOAT_FORMAT, HOST_DOUBLE_FORMAT)
	(HOST_LONG_DOUBLE_FORMAT): Delete macros.
	* config/i386/xm-i386.h: Do not include "floatformat.h".
	(HOST_FLOAT_FORMAT, HOST_DOUBLE_FORMAT)
	(HOST_LONG_DOUBLE_FORMAT): Delete macros.
	* doublest.c (HOST_FLOAT_FORMAT, HOST_DOUBLE_FORMAT)
	(HOST_LONG_DOUBLE_FORMAT): Delete macros.  Use
	GDB_HOST_FLOAT_FORMAT, GDB_HOST_DOUBLE_FORMAT and
	GDB_HOST_LONG_DOUBLE_FORMAT instead.
	* configure.in (GDB_HOST_FLOAT_FORMAT, GDB_HOST_DOUBLE_FORMAT)
	(GDB_HOST_LONG_DOUBLE_FORMAT): Define.
	* configure, config.in: Regenerate.
	* configure.host (gdb_host_float_format, gdb_host_double_format)
	(gdb_host_long_double_format): Set according to the host.
@
text
@d272 3
d471 3
@


1.65
log
@* configure.in: Define _MSE_INT_H on Solaris 9 too.
* configure, config.in: Regenerated.
@
text
@d543 9
@


1.64
log
@* configure.in: Check for td_pcb in `struct thread'.
* configure, config.in: Regenerated.
@
text
@d453 1
a453 1
   Solaris 2.[78] when using GCC.  */
@


1.64.2.1
log
@* configure.in: Define _MSE_INT_H on Solaris 9 too.
* configure, config.in: Regenerated.
@
text
@d453 1
a453 1
   Solaris 2.[789] when using GCC.  */
@


1.63
log
@2004-04-28  Rainer Orth  <ro@@TechFak.Uni-Bielefeld.DE>
	    Andrew Cagney  <cagney@@redhat.com>

	* configure.in (mips-sgi-irix5*): Define _KMEMUSER for
	<sys/proc.h>.
	* acconfig.h: Provide default _KMEMUSER value.
	* config.in, configure: Re-generate.
	* NEWS: Mention fix.
@
text
@d465 3
@


1.62
log
@	* Makefile.in (linux_nat_h): Update dependencies.
	* configure.in: Check for <gnu/libc-version.h>.
	* configure: Regenerate.
	* config.in: Regenerate.
	* linux-nat.h: Include "target.h".  Add waitstatus field to
	struct lwp_info.
	* lin-lwp.c (add_lwp): Initialize waitstatus.kind.
	(lin_lwp_attach_lwp): Don't attach to LWPs we have already attached
	to.
	(lin_lwp_handle_extended): New function.  Handle clone events.
	(wait_lwp): Use lin_lwp_handle_extended.  Update comment about
	thread exit events.
	(child_wait): Handle clone events.
	(lin_lwp_wait: Use lin_lwp_handle_extended and handle clone events.
	* linux-nat.c (linux_enable_event_reporting): Turn on
	PTRACE_O_TRACECLONE.
	(linux_handle_extended_wait): Handle clone events.
	* thread-db.c: Include <gnu/libc-version.h>.
	(struct private_thread_info): Add dying flag.
	(enable_thread_event_reporting): Enable TD_DEATH for glibc 2.2 and
	higher.
	(attach_thread): Update comments.  Handle dying threads.
	(detach_thread): Set the dying flag.
	(check_event): Always call attach_thread.
@
text
@d176 6
@


1.61
log
@2004-01-19  Michael Chastain  <mec.gnu@@mindspring.com>

	* MAINTAINERS: Delete mmalloc.
	* Makefile.in: Delete MMALLOC, MMALLOC_CFLAGS, -lmmalloc, mmalloc_h.
	* NEWS: Mention removal of --with-malloc.
	* acconfig.h: Delete USE_MMALLOC, MMCHECK_FORCE.
	* config.in: Regenerate.
	* configure: Regenerate.
	* configure.in: Delete MMALLOC_CFLAGS, MMALLOC, --with-mmalloc, USE_MMALLOC, MMCHECK_FORCE.
	* gdbinit.in: Remove mmalloc.
	* utils.c: Delete USE_MMALLOC, NO_MMCHECK, MMCHECK_FORCE, malloc_botch.
	* config/alpha/alpha-linux.mh: Delete MMALLOC, MMALLOC_CFLAGS.
	* config/i386/go32.mh: Likewise.
	* config/i386/interix.mh: Likewise.
	* config/powerpc/xm-linux.h: Delete MMAP_BASE_ADDRESS, MMAP_INCREMENT.

2004-01-19  Michael Chastain  <mec.gnu@@mindspring.com>

	* gdbint.texinfo: Delete USE_MMALLOC, NO_MMCHECK, MMCHECK_FORCE,
	MMAP_BASE_ADDRESS, MMAP_INCREMENT.
@
text
@d269 3
@


1.61.8.1
log
@2004-04-28  Rainer Orth  <ro@@TechFak.Uni-Bielefeld.DE>
	    Andrew Cagney  <cagney@@redhat.com>

	* configure.in (mips-sgi-irix5*): Define _KMEMUSER for
	<sys/proc.h>.
	* acconfig.h: Provide default _KMEMUSER value.
	* config.in, configure: Re-generate.
	* NEWS: Mention fix.
@
text
@a175 6
/* Define to 1 so <sys/proc.h> gets a definition of anon_hdl.  Works
   around a <sys/proc.h> problem on IRIX 5.  */
#ifndef _KMEMUSER
#undef _KMEMUSER
#endif

@


1.61.6.1
log
@Merge GDB mainline of 20040402 to intercu branch.
@
text
@a268 3
/* Define if you have the <gnu/libc-version.h> header file.  */
#undef HAVE_GNU_LIBC_VERSION_H

@


1.61.6.2
log
@Merge mainline to intercu branch - 2004-09-15
@
text
@a175 6
/* Define to 1 so <sys/proc.h> gets a definition of anon_hdl.  Works
   around a <sys/proc.h> problem on IRIX 5.  */
#ifndef _KMEMUSER
#undef _KMEMUSER
#endif

a256 3
/* Define if you have the ttrace function.  */
#undef HAVE_TTRACE

a265 3
/* Define if you have the <cursesX.h> header file.  */
#undef HAVE_CURSESX_H

a298 3
/* Define if you have the <ncurses/ncurses.h> header file.  */
#undef HAVE_NCURSES_NCURSES_H

a379 3
/* Define if you have the <sys/types.h> header file.  */
#undef HAVE_SYS_TYPES_H

d447 1
a447 1
   Solaris 2.[789] when using GCC.  */
a452 12
/* Define to 1 if we found this declaration otherwise define to 0. */
#undef HAVE_DECL_PTRACE

/* Define as the return type of ptrace. */
#undef PTRACE_TYPE_RET

/* Define to the type of arg 3 for ptrace. */
#undef PTRACE_TYPE_ARG3

/* Define to the type of arg 5 for ptrace. */
#undef PTRACE_TYPE_ARG5

a458 6
/* Define to 1 if your system has td_pcb in struct thread. */
#undef HAVE_STRUCT_THREAD_TD_PCB

/* Define to 1 if your system has struct lwp. */
#undef HAVE_STRUCT_LWP

a533 9
/* Host float floatformat */
#undef GDB_HOST_FLOAT_FORMAT

/* Host double floatformat */
#undef GDB_HOST_DOUBLE_FORMAT

/* Host long double floatformat */
#undef GDB_HOST_LONG_DOUBLE_FORMAT

@


1.60
log
@* configure.in: Check for <machine/reg.h>.  Check for `struct reg'
in <machine/reg.h>.
* configure, config.in: Regenerate.
@
text
@a138 9
/* Define if you want to use the memory mapped malloc package (mmalloc). */
#undef USE_MMALLOC

/* Define if the runtime uses a routine from mmalloc before gdb has a chance
   to initialize mmalloc, and we want to force checking to be used anyway.
   This may cause spurious memory corruption messages if the runtime tries
   to explicitly deallocate that memory when gdb calls exit. */
#undef MMCHECK_FORCE

@


1.59
log
@	* configure.in: Check for st_blocks member in struct stat and
	define HAVE_STRUCT_STAT_ST_BLOCKS accordingly.

	* acconfig.h (HAVE_STRUCT_STAT_ST_BLOCKS): New undef.

	* configure, config.in: Regenerated.
@
text
@d293 3
d464 3
@


1.58
log
@
2003-11-14  Jeff Johnston  <jjohnstn@@redhat.com>

        * libunwind-frame.c: New file.
        * libunwind-frame.h: New file.
        * acconfig.h (HAVE_LIBUNWIND): #undef reference added.
        * configure.in: Add --with-libunwind option support.  Define
        HAVE_LIBUNWIND if libunwind support selected / defaulted.
        Also check for libunwind.h and libunwind-ia64.h headers.
        * configure: Regenerated.
        * Makefile.in: Add support for libunwind-frame.o.
        * config.in: Regenerated.
@
text
@d82 3
@


1.57
log
@2003-09-03  Andrew Cagney  <cagney@@redhat.com>

	* defs.h: Do not include "arch-utils.h".
	(GDB_MULTI_ARCH): If not defined, set to GDB_MULTI_ARCH_PARTIAL or
	GDB_MULTI_ARCH_PURE.
	* configure.in (GDB_MULTI_ARCH): Do not define.
	* configure, config.in: Regenerate.
	* configure.tgt: Do not set variable "gdb_multi_arch".
	* config/s390/s390x.mt (GDB_MULTI_ARCH): Delete.
	* config/s390/s390.mt (GDB_MULTI_ARCH): Delete.
	* config/i386/x86-64linux.mt (GDB_MULTI_ARCH): Delete.
	* config/v850/v850.mt (TM_FILE): Delete disabled definition.
	* config/m68hc11/m68hc11.mt (TM_FILE): Delete definition.
	* config/vax/tm-vax.h (GDB_MULTI_ARCH): Delete definition.
	* config/sparc/tm-sparc.h (GDB_MULTI_ARCH): Delete definition.
	* config/sparc/tm-sun4sol2.h (GDB_MULTI_ARCH): Delete definition.
	* config/sparc/tm-nbsd.h (GDB_MULTI_ARCH): Delete definition.
	* config/sparc/tm-linux.h (GDB_MULTI_ARCH): Delete definition.
	* config/sparc/tm-sp64.h (GDB_MULTI_ARCH): Delete definition.
	* config/pa/tm-hppa64.h (GDB_MULTI_ARCH): Delete definition.
	* config/ns32k/tm-ns32k.h (GDB_MULTI_ARCH): Delete definition.
	* config/m68k/tm-m68k.h (GDB_MULTI_ARCH): Delete definition.
	* config/i386/tm-i386.h (GDB_MULTI_ARCH): Delete definition.
	* config/h8300/tm-h8300.h (GDB_MULTI_ARCH): Delete definition.
	* config/frv/tm-frv.h (GDB_MULTI_ARCH): Delete definition.
	* config/alpha/tm-alpha.h (GDB_MULTI_ARCH): Delete definition.
@
text
@d170 3
d274 6
@


1.57.4.1
log
@* configure.in: Check for <machine/reg.h>.  Check for `struct reg'
in <machine/reg.h>.
* configure, config.in: Regenerate.
@
text
@a280 3
/* Define if you have the <machine/reg.h> header file.  */
#undef HAVE_MACHINE_REG_H

a448 3

/* Define to 1 if your system has struct reg in <machine/reg.h>. */
#undef HAVE_STRUCT_REG
@


1.56
log
@2003-06-08  Andrew Cagney  <cagney@@redhat.com>

	* acinclude.m4 (gcc_AC_CHECK_DECL, (gcc_AC_CHECK_DECL): Stolen
	from GCC's acinclude.m4.
	* configure.in: Check for getopt's delcaration.
	* aclocal.m4, config.in, configure: Re-generate.
	* main.c (error_init): Delete declaration.
	* defs.h (error_init): Declare.
	* rs6000-tdep.c (rs6000_fetch_pointer_argument): Make static.
	(rs6000_convert_from_func_ptr_addr): Make static.
	(_initialize_rs6000_tdep): Add declaration.
	* cli/cli-cmds.c (dont_repeat): Delete declaration.
	(show_commands, set_verbose, show_history): Delete declaration.
	* top.h (set_verbose): Add declaration.
	(show_history, set_history, show_commands): Add declaration.
	(do_restore_instream_cleanup): Add declaration.
	* objc-lang.c (specialcmp): Make static.
	(print_object_command): Make static.
	(find_objc_msgsend): Make static.
	(find_objc_msgcall_submethod_helper): Make static.
	(find_objc_msgcall_submethod): Make static.
	(_initialize_objc_language): Add declaration.
	(find_implementation_from_class): Make static.
	(find_implementation): Make static.
	* objc-exp.y (yylex): Delete lookup_struct_typedef declaration.
	* objc-lang.h (lookup_struct_typedef): Add declaration.
	* cli/cli-interp.c (_initialize_cli_interp): Add declaration.
	* cli/cli-script.c (clear_hook_in_cleanup): Make static.
	(do_restore_user_call_depth): Make static.
	(do_restore_instream_cleanup): Delete declaration.
	(dont_repeat): Delete declaration.
	* cli/cli-decode.c (add_abbrev_cmd): Delete function.
	* cli/cli-dump.c (_initialize_cli_dump): Add declaration.
	* reggroups.c (_initialize_reggroup): Add declaration.
	* cp-support.c (_initialize_cp_support): Add declaration.
	* cp-abi.c (_initialize_cp_abi): Add declaration.
	* hpacc-abi.c (_initialize_hpacc_abi): Add declaration.
	* gnu-v3-abi.c (gnuv3_baseclass_offset): Make static.
	(_initialize_gnu_v3_abi): Add declaration.
	* gnu-v2-abi.c (gnuv2_value_rtti_type): Make static.
	(_initialize_gnu_v2_abi): Add declaration.
	* frame-base.c (_initialize_frame_base): Add declaration.
	* doublest.c (floatformat_from_length): Make static.
	* frame-unwind.c (_initialize_frame_unwind): Add declaration.
	* frame.c (create_sentinel_frame): Make static.
	(_initialize_frame): Add declaration.
	* top.c (do_catch_errors): Make static.
	(gdb_rl_operate_and_get_next_completion): Make static.
	* typeprint.c: Include "typeprint.h".
	* sentinel-frame.c (sentinel_frame_prev_register): Make static.
	(sentinel_frame_this_id): Make static.
	* p-valprint.c (_initialize_pascal_valprint): Add declaration.
	* ui-out.c (make_cleanup_ui_out_begin_end): Delete function.
	* dwarf2-frame.c (dwarf2_frame_cache): Make static.
	* p-exp.y (push_current_type, pop_current_type): ISO C declaration.
	* dwarf2expr.h (dwarf_expr_context): ISO C declaration.
	* maint.c (maintenance_print_architecture): Make static.
	* signals/signals.c (_initialize_signals): Add declaration.
	* std-regs.c (_initialize_frame_reg): Add declaration.
	* jv-exp.y (push_variable): ISO C definition.
	(push_qualified_expression_name): Ditto.
	* memattr.c (_initialize_mem): Add declaration.
	* remote.c (remote_check_watch_resources): Make static.
	(remote_stopped_by_watchpoint): Make static.
	(remote_stopped_data_address): Make static.
	* d10v-tdep.c (nr_dmap_regs): Make static.
	(a0_regnum): Make static.
	(d10v_frame_unwind_cache): Make static.
	(d10v_frame_p): Make static.
	* osabi.c (show_osabi): Make static.
	(_initialize_gdb_osabi): Add extern declaration.
	* gdbtypes.c (make_qualified_type): Make static.
	(safe_parse_type): Make static.
	* macrocmd.c (_initialize_macrocmd): Add extern declaration.
	* macrotab.c (macro_bcache_free): Make static.
	* interps.c (interp_set_quiet): Make static.
	(interpreter_exec_cmd): Make static.
	* stack.h (select_frame_command): New file.
	* stack.c: Include "stack.h".
	(select_frame_command_wrapper): Delete function.
	(select_frame_command): Make global.
	* infcall.c: Include "infcall.h".
	* linespec.c: Include "linespec.h".
	* symfile.c (sections_overlap): Make static.
	* cp-support.h (cp_initialize_namespace): ISO C declaration.
	* charset.c (_initialize_charset): Add missing prototype.
	* regcache.c (init_legacy_regcache_descr): Make static.
	(do_regcache_xfree): Make static.
	(regcache_xfer_part): Make static.
	(_initialize_regcache): Add missing prototype.
	* breakpoint.c (parse_breakpoint_sals): Make static.
	(breakpoint_sals_to_pc): Make static.
	* interps.h (clear_interpreter_hooks): ISO C declaration.
	* Makefile.in (stack_h): Define.
	(stack.o, typeprint.o, mi-main.o): Update dependencies.
	(mi-cmd-stack.o, infcall.o, linespec.o): Update dependencies.

Index: mi/ChangeLog
2003-06-08  Andrew Cagney  <cagney@@redhat.com>

	* mi-parse.c (_initialize_mi_parse): Delete function.
	* mi-main.c: Include "mi-main.h".
	* mi-interp.c (_initialize_mi_interp): Add declaration.
	* mi-cmd-stack.c: Include "stack.h".
	(select_frame_command_wrapper): Delete extern declaration.
	(mi_cmd_stack_select_frame): Replace select_frame_command_wrapper
	with select_frame_command.
@
text
@a169 3
/* Multi-arch enabled. */
#undef GDB_MULTI_ARCH

@


1.55
log
@
2003-06-04  Jeff Johnston  <jjohnstn@@redhat.com>

        * acconfig.h: Add HAVE_TKILL_SYSCALL definition check.
        * config.in: Regenerated.
        * configure.in: Add test for syscall function and check for
        __NR_tkill macro in <syscall.h> to set HAVE_TKILL_SYSCALL.
        * configure: Regenerated.
        * lin-lwp.c [HAVE_TKILL_SYSCALL]: Include <unistd.h> and
        <sys/syscall.h>.
        (kill_lwp): New function that uses tkill syscall or
        uses kill, depending on whether threading model is nptl or not.
        All callers of kill() changed to use kill_lwp().
        (lin_lwp_wait): Make special check when WIFEXITED occurs to
        see if all threads have already exited in the nptl model.
        (stop_and_resume_callback): New callback function used by the
        lin_lwp_wait thread exit handling code.
        (stop_wait_callback): Check for threads already having exited and
        delete such threads fromt the lwp list when discovered.
        (stop_callback): Don't assert retcode of kill call.

        Roland McGrath  <roland@@redhat.com>
        * i386-linux-nat.c (ps_get_thread_area): New function needed by
        nptl libthread_db.
@
text
@d444 3
@


1.54
log
@2003-02-26  Michael Chastain  <mec@@shout.net>

	* configure.in: New variable HAVE_UINTPTR_T.
	* configure, config.in: Regenerated.
@
text
@d260 3
d518 3
@


1.53
log
@* configure.in: Add check for _etext.
* maint.c (maintenance_set_profile_cmd): Use etext if _etext isn't
available.
* config.in, configure: regenerated.
@
text
@d447 3
@


1.52
log
@	* configure.in: Check that -pg works if using --enable-profiling.
	Check for monstartup and _mcleanup regardless of --enable-profiling.
	* maint.c: Check for monstartup and _mcleanup before using them.
	* config.in: Regenerated.
	* configure: Regenerated.
@
text
@d434 3
@


1.51
log
@gdb/ChangeLog:
2003-01-23  Alexander Larsson <alexl@@redhat.com>
	    Jim Blandy  <jimb@@redhat.com>

	Add support for executables whose debug info has been separated
	out into a separate file, leaving only a link behind.
	* objfiles.h (struct objfile): New fields: separate_debug_objfile
	and separate_debug_objfile_backlink.
	(put_objfile_before): New declaration.
	* symfile.c: #include "filenames.h".
	(symbol_file_add_with_addrs_or_offsets): If this objfile has its
	debug info in a separate file, read that, too. Save the addrs
	argument, so we can use it again to read the separated debug info;
	syms_from_objfile modifies the table we pass it.
	(reread_symbols): After re-reading an objfile, call
	reread_separate_symbols to refresh its separate debug info
	objfile, if it has one.
	(reread_separate_symbols, find_separate_debug_file,
	get_debug_link_info, separate_debug_file_exists): New functions.
	(debug_file_directory): New global var.
	(_initialize_symfile): Initialize debug_file_directory, and
	provide the new `set debug-file-directory' command to let the user
	change it.
	* objfiles.c (free_objfile): If this objfile has its debug info in
	a separate objfile, free that one too.  If this is itself a
	separate debug info objfile, clear our parent's backlink.
	(put_objfile_before): New function.
	* utils.c (gnu_debuglink_crc32): New function.
	* defs.h (gnu_debuglink_crc32): New declaration.
	* Makefile.in (symfile.o): Note dependency on "filenames.h".
	* configure.in: Handle --with-separate-debug-dir config option.
	* acinclude.m4 (AC_DEFINE_DIR): New macro.
	* acconfig.h (DEBUGDIR): New macro.
	* configure, aclocal.m4, config.in: Regenerated.

gdb/doc/ChangeLog:
2003-01-23  Jim Blandy  <jimb@@redhat.com>

	* gdb.texinfo (Separate Debug Files): New section.
@
text
@d191 3
d205 3
@


1.50
log
@	* Makefile.in (acconfig_h): Remove incorrect macro.
	(config_h): Define.
	(osabi.o): Update dependencies.
	* configure.tgt: Set gdb_osabi based on target triplet.
	* configure.in: Define GDB_OSABI_DEFAULT based on gdb_osabi.
	* configure: Regenerated.
	* config.in: Regenerated.
	* osabi.c: Include "arch-utils.h", "gdbcmd.h", and "command.h".
	(GDB_OSABI_DEFAULT): Define if not already defined.
	(user_osabi_state, user_selected_osabi, gdb_osabi_available_names)
	(set_osabi_string): New variables.
	(gdbarch_register_osabi): Add new OS ABI to
	gdb_osabi_available_names.
	(gdbarch_lookup_osabi): Honor specified and default OS ABIs.
	(set_osabi, show_osabi): New functions.
	(_initialize_gdb_osabi): Add "set osabi" and "show osabi" commands.
@
text
@d419 3
@


1.49
log
@* configure.in: Call AC_GNU_SOURCE.  Check for pread64 using
AC_CHECK_FUNCS and remove the old check for pread64.
* acinclude.m4 (AC_GNU_SOURCE): New macro.
* acconfig.h (_GNU_SOURCE): Add.
(HAVE_PREAD64): Remove.
* configure, aclocal.m4, config.in: Regenerated.
@
text
@d501 3
@


1.48
log
@* configure.in: Remove --with-cpu option.
subscripts.  Remove evil changequotes here.
* acconfig.h (TARGET_CPU_DEFAULT): Remove.
* config.in, configure: Regenerated.
@
text
@d74 5
a84 3
/* Define if the pread64 function is available.  */
#undef HAVE_PREAD64

d208 3
@


1.47
log
@* acconfig.h (DEFAULT_BFD_ARCH, DEFAULT_BFD_VEC): Remove.
* configure.in: Cleanup section that sources GDB and BFD configure
subscripts.  Remove evil changequotes here.
* config.in, configure: Regenerated.
@
text
@a146 4
/* If you want to specify a default CPU variant, define this to be its
   name, as a C string.  */
#undef TARGET_CPU_DEFAULT

@


1.46
log
@* configure.in: Rewrite check for GNU regex and the
--without-included regex option, and move it into the "Checks for
library functions" section.  This makes us use the system regex
again by default on systems with version 2 of the GNU C library.
This was apparently broken.
* gdb_regex.h [!USE_INCLUDED_REGEX] (_REGEX_RE_COMP): Define.
* acconfig.h (USE_INCLUDED_REGEX): Remove.
* config.in, configure: Regenerated.
@
text
@a171 6
/* BFD's default architecture. */
#undef DEFAULT_BFD_ARCH

/* BFD's default target vector. */
#undef DEFAULT_BFD_VEC

d417 6
@


1.45
log
@* configure.in: Fix typo in last change.
* config.in, configure: Regenerated.
@
text
@a171 3
/* Define if gnu-regex.c included with GDB should be used. */
#undef USE_INCLUDED_REGEX

d430 3
@


1.44
log
@* acconfig.h (_MSE_INT_H): Remove.
* configure.in: Create "Checks for header files" section, and move
appropriate tests there.  Don't check for objlist.h, wchar.h,
wctype.h and asm/debugreg.h.  Rewrite Solaris 2.[78] <curses.h>
misdetection fix.  Also add "Checks for types", "Checks for
compiler characteristics" and "Checks for library functions"
sections.
* config.in, configure: Regenerated.
@
text
@a201 3
/* Define if you have the btowc function.  */
#undef HAVE_BTOWC

a212 3

/* Define if you have the isascii function.  */
#undef HAVE_ISASCII
@


1.43
log
@* configure.in: Remove bzero and bcopy from call to AC_CHECK_FUNCS.
* config.in, configure: Regenerated.
@
text
@a73 3
/* Define if compiling on Solaris 7. */
#undef _MSE_INT_H

a270 3
/* Define if you have the <asm/debugreg.h> header file.  */
#undef HAVE_ASM_DEBUGREG_H

a306 3
/* Define if you have the <objlist.h> header file.  */
#undef HAVE_OBJLIST_H

d331 3
a408 6
/* Define if you have the <wchar.h> header file.  */
#undef HAVE_WCHAR_H

/* Define if you have the <wctype.h> header file.  */
#undef HAVE_WCTYPE_H

a414 3
/* Define if you have the socket library (-lsocket).  */
#undef HAVE_LIBSOCKET

d432 4
@


1.42
log
@	* acconfig.h (HAVE_PREAD64): Add.
	* configure.in: Check for pread64.
	* config.in: Regenerated.
	* configure: Regenerated.
	* lin-lwp.c (lin_lwp_xfer_memory): Call linux_proc_xfer_memory.
	* linux-proc.c (linux_proc_xfer_memory): New function.
	* config/nm-linux.h (linux_proc_xfer_memory): Add prototype.
@
text
@a204 3
/* Define if you have the bcopy function.  */
#undef HAVE_BCOPY

a206 3

/* Define if you have the bzero function.  */
#undef HAVE_BZERO
@


1.41
log
@2002-11-11  Elena Zannoni  <ezannoni@@redhat.com>

        * findvar.c (read_var_value): Reenable TLS code.

2002-11-11  Elena Zannoni  <ezannoni@@redhat.com>
            Jim Blandy  <jimb@@redhat.com>

	* gdb_thread_db.h (enum): Add TD_NOTALLOC.
	* target.c (update_current_target): Add
	to_get_thread_local_address.
	* target.h (to_get_thread_local_address): Export.
	(target_get_thread_local_address): Define.
	(target_get_thread_local_address_p): Define.
	* thread-db.c: Include solib-svr4.h.
	(td_thr_tls_get_addr_p): Define.
	(thread_db_load): Get a pointer to td_thr_tls_get_addr.
	(thread_db_get_thread_local_address): New function.
	(init_thread_db_ops): Initialize to_get_thread_local_address.
	* configure.in: Add test for TD_NOTALLOC in thread_db.h.
	* configure: Regenerate.
	* config.in: Regenerate.
@
text
@d83 3
d522 9
@


1.41.2.1
log
@Add support for executables whose debug info has been separated
out into a separate file, leaving only a link behind.
* objfiles.h (struct objfile): New fields: separate_debug_objfile
and separate_debug_objfile_backlink.
(put_objfile_before): New declaration.
* symfile.c (symbol_file_add_with_addrs_or_offsets): If this
objfile has its debug info in a separate file, read that,
too. Save the addrs argument, so we can use it again to read the
separated debug info; syms_from_objfile modifies the table we pass
it.
(reread_symbols): After re-reading an objfile, call
reread_separate_symbols to refresh its separate debug info
objfile, if it has one.
(reread_separate_symbols, find_separate_debug_file,
get_debug_link_info, separate_debug_file_exists): New functions.
(debug_file_directory): New global var.
(_initialize_symfile): Initialize debug_file_directory, and
provide the new `set debug-file-directory' command to let the user
change it.
* objfiles.c (free_objfile): If this objfile has its debug info in
a separate objfile, free that one too.  If this is itself a
separate debug info objfile, clear our parent's backlink.
(put_objfile_before): New function.
* utils.c (calc_crc32): New function.
* defs.h (calc_crc32): New declaration.
* configure.in: Handle --with-separate-debug-dir config option.
* acinclude.m4 (AC_DEFINE_DIR): New macro.
* acconfig.h (DEBUGDIR): New macro.
* configure, aclocal.m4, config.in: Regenerated.
@
text
@d44 3
a192 3
/* debugdir */
#undef DEBUGDIR

a384 3
/* Define if you have the <sys/stat.h> header file.  */
#undef HAVE_SYS_STAT_H

a387 3
/* Define if you have the <sys/types.h> header file.  */
#undef HAVE_SYS_TYPES_H

a518 9

/* Define to be a string naming the default host character set. */
#undef GDB_DEFAULT_HOST_CHARSET

/* Define if you have the iconv() function. */
#undef HAVE_ICONV

/* Define as const if the declaration of iconv() needs const. */
#undef ICONV_CONST
@


1.40
log
@        Define HAVE_SYS_PROC_H if sys/proc.h exists
        * configure.in: Add check for sys/proc.h
        * config.in: Regenerate.
        * configure: Regenerate.
@
text
@d1 1
a1 1
/* config.in.  Generated automatically from configure.in by autoheader 2.13.  */
d516 3
@


1.40.10.1
log
@Merge drow-cplus-branch to:
  cvs rtag -D 2003-12-14 00:00:00 UTC drow-cplus-merge-20031214 gdb+dejagnu
@
text
@d1 1
a1 1
/* config.in.  Generated automatically from configure.in by autoheader.  */
d74 2
a75 4
/* Enable GNU extensions on systems that have them.  */
#ifndef _GNU_SOURCE
# undef _GNU_SOURCE
#endif
d147 4
d172 11
a182 2
/* Define if libunwind library is being used.  */
#undef HAVE_LIBUNWIND
d202 8
a209 2
/* Define if you have the _mcleanup function.  */
#undef HAVE__MCLEANUP
d223 2
a224 2
/* Define if you have the monstartup function.  */
#undef HAVE_MONSTARTUP
a231 3
/* Define if you have the pread64 function.  */
#undef HAVE_PREAD64

a273 3
/* Define if you have the syscall function.  */
#undef HAVE_SYSCALL

d277 3
a288 6
/* Define if you have the <libunwind-ia64.h> header file.  */
#undef HAVE_LIBUNWIND_IA64_H

/* Define if you have the <libunwind.h> header file.  */
#undef HAVE_LIBUNWIND_H

d316 3
a342 3
/* Define if you have the <strings.h> header file.  */
#undef HAVE_STRINGS_H

d418 6
d430 3
a450 19
/* Global directory for separate debug files.  */
#undef DEBUGDIR

/* Define to BFD's default architecture.  */
#undef DEFAULT_BFD_ARCH

/* Define to BFD's default target vector.  */
#undef DEFAULT_BFD_VEC

/* Define to 1 if your system has the _etext variable.  */
#undef HAVE__ETEXT

/* Define to 1 to avoid a clash between <widec.h> and <wchar.h> on
   Solaris 2.[78] when using GCC.  */
#undef _MSE_INT_H

/* Define to 1 if we found this declaration otherwise define to 0. */
#undef HAVE_DECL_GETOPT

a453 6
/* Define to 1 if the regex included in libiberty should be used. */
#undef USE_INCLUDED_REGEX

/* Define if <stdint.h> provides the uintptr_t type. */
#undef HAVE_UINTPTR_T

a515 18

/* Define if <thread_db.h> has the TD_NOTALLOC error code. */
#undef THREAD_DB_HAS_TD_NOTALLOC

/* Define if we can use the tkill syscall. */
#undef HAVE_TKILL_SYSCALL

/* Define to the default OS ABI for this configuration. */
#undef GDB_OSABI_DEFAULT

/* Define to be a string naming the default host character set. */
#undef GDB_DEFAULT_HOST_CHARSET

/* Define if you have the iconv() function. */
#undef HAVE_ICONV

/* Define as const if the declaration of iconv() needs const. */
#undef ICONV_CONST
@


1.40.10.2
log
@Merge mainline to branch.  GDB is broken until I update cp-names.y.
@
text
@a81 3
/* Define if your struct stat has st_blocks.  */
#undef HAVE_STRUCT_STAT_ST_BLOCKS

a289 3
/* Define if you have the <machine/reg.h> header file.  */
#undef HAVE_MACHINE_REG_H

a457 3

/* Define to 1 if your system has struct reg in <machine/reg.h>. */
#undef HAVE_STRUCT_REG
@


1.40.10.3
log
@Merge drow-cplus-merge-20040208 to drow-cplus-branch.
@
text
@d139 9
@


1.40.6.1
log
@	* acconfig.h (HAVE_PREAD64): Add.
	* configure.in: Check for pread64.
	* config.in: Regenerated.
	* configure: Regenerated.
	* lin-lwp.c (lin_lwp_xfer_memory): Call linux_proc_xfer_memory.
	* linux-proc.c (linux_proc_xfer_memory): New function.
	* config/nm-linux.h (linux_proc_xfer_memory): Add prototype.
@
text
@d1 1
a1 1
/* config.in.  Generated automatically from configure.in by autoheader.  */
a81 3

/* Define if the pread64 function is available.  */
#undef HAVE_PREAD64
@


1.40.8.1
log
@2002-11-15  David Carlton  <carlton@@math.stanford.edu>

	* Merge from mainline; tag is carlton_dictionary-20021115-merge.
@
text
@d1 1
a1 1
/* config.in.  Generated automatically from configure.in by autoheader.  */
a515 3

/* Define if <thread_db.h> has the TD_NOTALLOC error code. */
#undef THREAD_DB_HAS_TD_NOTALLOC
@


1.40.8.2
log
@2002-12-23  David Carlton  <carlton@@math.stanford.edu>

	* Merge from mainline; tag is carlton_dictionary-20021223-merge.
@
text
@a82 3
/* Define if the pread64 function is available.  */
#undef HAVE_PREAD64

a518 9

/* Define to be a string naming the default host character set. */
#undef GDB_DEFAULT_HOST_CHARSET

/* Define if you have the iconv() function. */
#undef HAVE_ICONV

/* Define as const if the declaration of iconv() needs const. */
#undef ICONV_CONST
@


1.40.8.3
log
@2003-02-07  David Carlton  <carlton@@math.stanford.edu>

	* Merge with mainline; tag is carlton_dictionary-20030207-merge.
@
text
@d74 2
a75 4
/* Enable GNU extensions on systems that have them.  */
#ifndef _GNU_SOURCE
# undef _GNU_SOURCE
#endif
d83 3
d150 4
d175 9
d205 8
a212 2
/* Define if you have the _mcleanup function.  */
#undef HAVE__MCLEANUP
d226 2
a227 2
/* Define if you have the monstartup function.  */
#undef HAVE_MONSTARTUP
a234 3
/* Define if you have the pread64 function.  */
#undef HAVE_PREAD64

d280 3
d319 3
a345 3
/* Define if you have the <strings.h> header file.  */
#undef HAVE_STRINGS_H

d421 6
d433 3
a453 13
/* Global directory for separate debug files.  */
#undef DEBUGDIR

/* Define to BFD's default architecture.  */
#undef DEFAULT_BFD_ARCH

/* Define to BFD's default target vector.  */
#undef DEFAULT_BFD_VEC

/* Define to 1 to avoid a clash between <widec.h> and <wchar.h> on
   Solaris 2.[78] when using GCC.  */
#undef _MSE_INT_H

a456 3
/* Define to 1 if the regex included in libiberty should be used. */
#undef USE_INCLUDED_REGEX

a521 3

/* Define to the default OS ABI for this configuration. */
#undef GDB_OSABI_DEFAULT
@


1.40.8.4
log
@2003-03-05  David Carlton  <carlton@@math.stanford.edu>

	* Merge with mainline.  Tag is carlton_dictionary-20030305-merge.
@
text
@a433 3
/* Define to 1 if your system has the _etext variable.  */
#undef HAVE__ETEXT

a442 3

/* Define if <stdint.h> provides the uintptr_t type. */
#undef HAVE_UINTPTR_T
@


1.40.8.5
log
@2003-06-27  David Carlton  <carlton@@kealia.com>

	* Merge with mainline; tag is carlton_dictionary-20030627-merge.
@
text
@a259 3
/* Define if you have the syscall function.  */
#undef HAVE_SYSCALL

a440 3
/* Define to 1 if we found this declaration otherwise define to 0. */
#undef HAVE_DECL_GETOPT

a514 3

/* Define if we can use the tkill syscall. */
#undef HAVE_TKILL_SYSCALL
@


1.40.8.6
log
@2003-09-17  David Carlton  <carlton@@kealia.com>

	* Merge with mainline; tag is carlton_dictionary-20030917-merge.
@
text
@d170 3
@


1.40.8.7
log
@2003-12-15  David Carlton  <carlton@@kealia.com>

	* Merge with mainline; tag is carlton_dictionary-20031215-merge.
	* cp-support.c (class_name_from_physname): Add DMGL_PARAMS to call
	to cplus_demangle.
	(method_name_from_physname): Ditto.
@
text
@a169 3
/* Define if libunwind library is being used.  */
#undef HAVE_LIBUNWIND

a270 6

/* Define if you have the <libunwind-ia64.h> header file.  */
#undef HAVE_LIBUNWIND_IA64_H

/* Define if you have the <libunwind.h> header file.  */
#undef HAVE_LIBUNWIND_H
@


1.40.8.8
log
@2004-01-26  David Carlton  <carlton@@kealia.com>

	* Merge with mainline; tag is carlton_dictionary-20040126-merge.
@
text
@a81 3
/* Define if your struct stat has st_blocks.  */
#undef HAVE_STRUCT_STAT_ST_BLOCKS

d136 9
a289 3
/* Define if you have the <machine/reg.h> header file.  */
#undef HAVE_MACHINE_REG_H

a457 3

/* Define to 1 if your system has struct reg in <machine/reg.h>. */
#undef HAVE_STRUCT_REG
@


1.39
log
@* config.in, configure: Regenerate.
@
text
@d1 1
a1 1
/* config.in.  Generated automatically from configure.in by autoheader.  */
d369 3
@


1.38
log
@	* gdb_locale.h: New file.
	* Makefile.in (GDB_CFLAGS): Define LOCALEDIR.
	(defs_h): Added gdb_locale.h.
	* configure, config.in: Rebuilt.
	* configure.in (PACKAGE): Define.
	* defs.h: Include gdb_locale.h.
	* main.c (captured_main): Call setlocale, bindtextdomain,
@
text
@a381 3
/* Define if you have the <sys/stat.h> header file.  */
#undef HAVE_SYS_STAT_H

a383 3

/* Define if you have the <sys/types.h> header file.  */
#undef HAVE_SYS_TYPES_H
@


1.37
log
@2002-04-11  Michael Snyder  <msnyder@@redhat.com>

	* configure.in: Autoconfiscate _SYSCALL32 define for solaris.
	* configure: Regenerate.
	* config.in: Regenerate.
	* acconfig.h: Add define for _SYSCALL32.
	* core-sol2.c: Remove #define _SYSCALL32.
	* solib-legacy.c: Remove #define _SYSCALL32.
@
text
@d44 3
d382 3
d388 3
d450 3
@


1.37.6.1
log
@Merge w/trunk (kseitz_interps-20020722-merge).
@
text
@d1 1
a1 1
/* config.in.  Generated automatically from configure.in by autoheader 2.13.  */
a43 3
/* Define if you need to in order for stat and other things to work.  */
#undef _POSIX_SOURCE

a366 3
/* Define if you have the <sys/proc.h> header file.  */
#undef HAVE_SYS_PROC_H

a440 3

/* Name of this package.  */
#undef PACKAGE
@


1.37.4.1
log
@merge with trunk
@
text
@a43 3
/* Define if you need to in order for stat and other things to work.  */
#undef _POSIX_SOURCE

a378 3
/* Define if you have the <sys/stat.h> header file.  */
#undef HAVE_SYS_STAT_H

a381 3
/* Define if you have the <sys/types.h> header file.  */
#undef HAVE_SYS_TYPES_H

a440 3

/* Name of this package.  */
#undef PACKAGE
@


1.36
log
@        * configure.in: Detect declaration for canonicalize_file_name.
        * utils.c (canonicalize_file_name): Declare, if needed.
        (gdb_realpath): Prefer realpath if available and usable.
        * config.in, configure: Rebuild.
@
text
@d96 3
@


1.35
log
@* configure.in: (AC_CHECK_FUNCS) Added test for
canonicalize_file_name Regenerated.
* config.in, configure: Regenerated.
* utils.c: (gdb_realpath) If HAVE_CANONICALIZE_FILE_NAME is
defined use canonicalize_file_name.
@
text
@d460 3
@


1.34
log
@Don't include <endian.h>
@
text
@d205 3
@


1.33
log
@* acconfig.h (HAVE_PT_GETXMMREGS): New.
* config.in: Regenerate.
* configure.in: Update copyright years.
Add test for PT_GETXMMREGS supplied by <sys/ptrace.h>.
* configure: Regenerate.
* i386bsd-nat.c: Update copyright years.
(fill_gregset): Use regcache_collect.
(fetch_inferior_registers): Only fetch integer registers
if requested to do so.  Add support for XMM registers
using PT_GETXMMREGS.
(store_inferior_registers): Only store integer registers
if requested to do so.  Add support for XMM registers
using PT_SETXMMREGS.
* i386nbsd-nat.c (fetch_inferior_registers): Remove.
(store_inferior_registers): Remove.
(fetch_core_registers): Use supply_gregset and i387_supply_fsave.
(fetch_elfcore_registers): New function.
(i386nbsd_elfcore_fns): New.
(_initialize_i386nbsd_nat): Register i386nbsd_elfcore_fns.
* config/i386/nbsd.mh (NATDEPFILES): Add i387-nat.o and
i386bsd-nat.o.
* config/i386/nbsdelf.mh (NATDEPFILES): Likewise.
* config/i386/nbsd.mt (TDEPFILES): Add i386bsd-nat.o.
* config/i386/nbsdelf.mt (TDEPFILES): Likewise.
* config/i386/tm-nbsd.h: Update copyright years.
(HAVE_SSE_REGS): Define.
(IN_SIGTRAMP): Define as i386bsd_in_sigtramp.
(SIGTRAMP_START): Redefine as i386bsd_sigtramp_start.
(SIGTRAMP_END): Redefine as i386bsd_sigtramp_end.
(SIGCONTEXT_PC_OFFSET): Remove.
(FRAME_SAVED_PC): Define as i386bsd_frame_saved_pc.
@
text
@a279 3
/* Define if you have the <endian.h> header file.  */
#undef HAVE_ENDIAN_H

@


1.32
log
@	* configure, config.in: Rebuilt.
	* configure.in: Check for realpath.
	* defs.h (gdb_realpath): Declare.
	* symtab.h (partial_symtab): Added fullname field.
	* source.c (openp): Use gdb_realpath.
	(forget_cached_source_info): Clear full name of each partial
	symtab.
	* utils.c (gdb_realpath): New function.
	* symtab.c (lookup_symtab): Removed.
	(lookup_symtab_1): Renamed to lookup_symtab.
	(lookup_symtab): Look for real path.
	(lookup_partial_symtab): Likewise.
@
text
@d163 3
d349 3
a353 3

/* Define if you have the <sys/filio.h> header file.  */
#undef HAVE_SYS_FILIO_H
@


1.31
log
@2001-12-07  Martin M. Hunt  <hunt@@redhat.com>

	* configure.in: Check for sys/filio.h
	* configure: Rebuild.
	* config.in: Add HAVE_SYS_FILIO_H
	* ser-tcp.c: Conditionally include sys/filio.h.
@
text
@d223 3
@


1.30
log
@* event-top.c (async_stop_sig) [HAVE_SIGPROCMASK]: Some
gratuitious whitespace changes.
[!HAVE_SIGPROCMASK]: Call sigsetmask if HAVE_SIGSETMASK is defined.
* top.c: Remove redundant logic to define HAVE_SIGSETMASK.
(sigsetmask) Don't define macro.
(stop_sig) [HAVE_SIGPROCMASK]: Add bit of code snatched from
async_stop_sig from event-top.c.
[!HAVE_SIGPROCMASK]: Call sigsetmask if HAVE_SIGSETMASK is
defined.
* configure.in (AC_CHECK_FUNCS): Put functions in alphabetical
order.  Add sigsetmask.
(AC_FUNC_VFORK, AC_FUNC_ALLOCA): Reorder such that they're in
alphabetical order.
* config/xm-aix4.h, config/alpha/xm-alphalinux.h,
config/i386/xm-cygwin.h, config/rs6000/xm-rs6000.h
(HAVE_SIGSETMASK): Remove.
* aclocal.m4, config.in, configure
@
text
@d346 3
@


1.29
log
@* configure.in (AC_CHECK_FUNCS): Add setpggrp.
(AC_FUNC_SETPGRP): Add.
* aclocal.m4, configure, config.in: Regenerated.
* inflow.c (gdb_setpgid): Get rid of NEED_POSIX_SETPGID and
SETPGRP_ARGS.  Always use setpgid if it is available, fall back on
setpgrp if it isn't.  Use SETPGRP_VOID (defined by autoconf) to
distinguish between the two setpgrp flavours.
* config/xm-sysv4.h, config/arm/xm-linux.h,
config/i386/xm-i386aix.h, config/i386/xm-sco.h,
config/i386/xm-linux.h, config/i386/xm-ptx.h,
config/m68k/xm-linux.h, config/powerpc/xm-linux.h,
config/sparc/xm-linux.h, config/sparc/xm-sun4sol2.h,
config/ia64/xm-linux.h (NEED_POSIX_SETPGID): Remove.
* config/rs6000/xm-rs6000.h (SETPGRP_ARGS): Remove.
@
text
@a43 3
/* Define if you need to in order for stat and other things to work.  */
#undef _POSIX_SOURCE

d243 3
@


1.28
log
@* configure.in: Add check for sigsetjmp.
* config/m68k/xm-linux.h (HAVE_SIGSETJMP): Removed.
* config/xm-sysv4.h (HAVE_SIGSETJMP): Removed.
* configure, config.in: Regenerated.
@
text
@d44 3
d50 3
d237 3
@


1.27
log
@* i386bsd-nat.c: Include "gdb_assert.h".
[HAVE_PT_GETDBREGS] (DBREG_DRX): Define if not
already defined.
[HAVE_PT_GETDBREGS] (i386bsd_dr_set, i386bsd_dr_set_control,
i386bsd_dr_set_addr, i386bsd_dr_reset_addr,
i386bsd_dr_get_status): New functions.
* config/i386/nm-fbsd.h [HAVE_PT_GETDBREGS]
(I386_USE_GENERIC_WATCHPOINTS): Define.
Include "i386/nm-i386.h".
(I386_DR_LOW_SET_CONTROL, I386_DR_LOW_SET_ADDR,
I386_DR_LOW_RESET_ADDR, I386_DR_LOW_GET_STATUS): New macros.
(i386bsd_dr_set_control, i386bsd_dr_set_addr,
i386bsd_dr_reset_addr, i386bsd_dr_get_status): New prototypes.
* acconfig.h (HAVE_PT_GETDBREGS): New configure macro.
* configure.in: Cleanup a few comments.  Check for PT_GETDBREGS
ptrace request.
* config.in, configure: Regenerate.
@
text
@a43 3
/* Define if you need to in order for stat and other things to work.  */
#undef _POSIX_SOURCE

d420 3
@


1.26
log
@Conditionally include nlist.h in solib-legacy.c for older *BSD systems.
@
text
@d160 3
@


1.25
log
@Fix solib support so that non-svr4-solib-host x svr4-solib-target will work.
@
text
@d292 3
@


1.24
log
@Configury changes for AIX5/IA-64.
@
text
@d80 13
@


1.23
log
@	* configure.in (AC_CHECK_HEADERS): Add sys/file.h.
	* configure, config.in: Regenerate.
	* corelow.c: Include <sys/file.h> if present.
@
text
@d312 3
d342 3
d452 12
@


1.22
log
@Cleanup autoconfigury of vfork().
@
text
@d312 3
@


1.21
log
@Add check for vfork() to configure.in.  Cleanup uses.
@
text
@d32 3
d41 3
d68 3
a235 3

/* Define if you have the vfork function.  */
#undef HAVE_VFORK
@


1.20
log
@Regenerate aclocal (and config.in / configure).
@
text
@d228 3
@


1.19
log
@2000-08-29  Michael Snyder  <msnyder@@seadog.cygnus.com>

        * valops.c (value_cast): Indentation fix-up.
        * acconfig.h (HAVE_PRGREGSET32_T, HAVE_PRFPREGSET32_T,
        HAVE_STRUCT_LINK_MAP32): New configure macros.
        * config.in: Ditto.
        * configure.in: Test for the above new macros.
        * breakpoint.c: Update copyright date.
        * core-sol2.c: Include v9/sys/privregs.h directly to
        work around a bug in Sun's Solaris 8 header files.
        (fetch_core_registers): Use the above new configure macros to
        handle cross-debugging of 32-bit core files on a 64-bit host.
        * sol-thread.c (ps_pdmodel) New function.
        (rw_common): For debugging of 32-bit apps on a 64-bit host,
        truncate addresses to 32 bits.
        * solib.c (solib_extract_address): Functionize.  Make 32/64 aware.
        (LM_ADDR, LM_NEXT, LM_NAME): Ditto.
        (IGNORE_FIRST_LINK_MAP): Ditto.
        (first_link_map_member): Make 32/64 aware.
        (open_symbol_file_object): Ditto.
        (current_sos): Ditto.
@
text
@d71 3
a250 3

/* Define if <link.h> defines struct link_map32.  */
#undef HAVE_STRUCT_LINK_MAP32
@


1.18
log
@Adapt support for SSE registers in Linux/x86 for Linux 2.4.
* i386-linux-nat.c: Various doc fixes.  Include "i387-nat.h".
(GETFPXREGS_SUPPLIES): Renamed from GETXFPREGS_SUPPLIES.
(have_ptrace_getfpxregs): Renamed from have_ptrace_getxfpregs.
(convert_to_gregset): Removed.  Moved logic to ...
(fill_gregset): ... here.  Simplified function.
(fetch_regs): Use perror_with_name for error reporting.
(store_regs): Add `regno' parameter.  Use perror_with_name for
error reporting.  Call fill_gregset instead of convert_to_gregset.
(FPREG_ADDR): Remove.
(supply_fpregset): Implement by calling i387_supply_fsave.
(convert_to_fpregset): Remove.
(fill_fpregset): Implement by calling i387_fill_fsave.
(fetch_fpregs): Use perror_with_name fro error reporting.
(store_fpregs) Add `regno' parameter.  Use perror_with_name fro
error reporting.  Call fill_fpregset instead of
convert_to_fpregset.
(supply_xfpregset, convert_to_xfpregset): Removed.
(supply_fpxregset, fill_fpxregset): New functions.
(fetch_fpxregs): Renamed from fetch_xfpregs.  Use perror_with_name
for error reporting.  Call supply_fpxregset instead of
supply_xfpregset.
(store_xfpregs): Removed.
(store_fpxregs): New function.
(fetch_inferior_registers): Adjust for xfp -> fpx change.  Tweak
message in call to internal_error.
(store_inferior_registers): Adjust for xfp ->fpx change.  Pass
REGNO to store_regs, store_fpregs and store_fpxregs.
(fetch_core_registers): Adjust for xfp -> fpx change.
* acconfig.h (HAVE_PTRACE_GETFPXREGS): Renamed from
HAVE_PTRACE_GETXFPREGS.
* config.in: Regenerated.
* configure.in: Replace check for PTRACE_GETXFPREGS with check for
PTRACE_GETFPXREGS.  Remove comment about Cygnus SSE extensions.
* configure: Regenerated.
* config/i386/linux.mh (NATDEPFILES): Add i387-nat.o.
* config/i386/tm-linux.h: Base definition of HAVE_SSE_REGS on
HAVE_PTRACE_GETFPXREGS instead of HAVE_PTRACE_GETXFPREGS.
@
text
@d249 3
d422 6
@


1.17
log
@Thu Jul 27 17:38:35 2000  Andrew Cagney  <cagney@@b1.cygnus.com>

        * configure.in (targetfile): Ignore TM_FILE, don't just issue
        warning.
        (tm_h, xm_h, nm_h, GDB_TM_FILE, GDB_XM_FILE, GDB_NM_FILE): Define.
        * acconfig.h (GDB_XM_FILE, GDB_TM_FILE, GDB_NM_FILE): Add.
        * config/nm-empty.h: Delete.
        * defs.h (xm.h, nm.h, tm.h): Only include when GDB_XM_FILE,
        GDB_NM_FILE or GDB_TM_FILE defined.
        * Makefile.in (defs_h): Replace tm.h, xm.h and nm.h with tm_h,
        xm_h and nm_h macro that are defined by configure.
        (tm_h, xm_h, tm_h): New.
        * configure, config.in: Regenerate
        * TODO: Update.
@
text
@d132 2
a133 2
/* Define if <sys/ptrace.h> defines the PTRACE_GETXFPREGS request.  */
#undef HAVE_PTRACE_GETXFPREGS
@


1.16
log
@Move GDB_MULTI_ARCH selection to configure*.  Makes tm.h optional.
@
text
@d147 9
@


1.15
log
@Check for <sys/poll.h>.
@
text
@d144 3
@


1.14
log
@Use config.bfd to determine the default architecture and byte order.
Flush all BYTE_ORDER_DEFAULT macros from mips. Can rely on BFD's value.
@
text
@d258 3
d296 3
@


1.13
log
@* acconfig.h, configure.in, i386bsd.c (HAVE_STRUCT_REG_R_FS):
Renamed from HAVE_R_FS.
(HAVE_STRUCT_REG_GS): Renamed from HAVE_R_GS.
* configure, config.in: Regenerated.
@
text
@d138 6
@


1.12
log
@Configure TUI to use <ncurses.h> when available.
@
text
@d66 1
a66 1
#undef HAVE_R_FS
d69 1
a69 1
#undef HAVE_R_GS
@


1.11
log
@* acconfig.h (HAVE_R_FS, HAVE_R_GS): Add.
* configure.in: Add checks for r_fs and r_gs members of
`struct reg'.
* config.in, configure: Regenerated.
@
text
@d240 3
@


1.10
log
@Replace <sys/dir.h> (and <dirent.h>) with "gdb_dirent.h".
@
text
@d65 6
@


1.9
log
@Re-generate config.in.
@
text
@d213 3
d234 3
d267 3
d272 3
@


1.8
log
@2000-04-13  Mark Kettenis  <kettenis@@gnu.org>

	* acconfig.h (HAVE_PRGREGSET_T, HAVE_PRFPREGSET_T, HAVE_LWPID_T,
	HAVE_PSADDR_T): Add them here instead of in config.in.

	* acconfig.h (PRFPREGSET_T_BROKEN): New define.
	* configure.in: Add check for broken prfpregset_t type.
	* lin-thread.c (gdb_prfpregset): New typedef, depends on
	definition of PRFPREGSET_T_BROKEN.
	(ps_lgetfpregs, ps_lsetfpregs, p_td_thr_getfpregs,
	p_td_thr_setfpregs, thread_db_fetch_registers,
	thread_db_store_registers): Use gdb_prfpregset_t instead of
	prfpregset_t.
	* config.in: Regenerated.
	* configure: Regenerated.
@
text
@a105 3
/* Define if you want to use the full-screen terminal user interface.  */
#undef TUI

d278 3
@


1.7
log
@Cleanup USE_INCLUDED_REGEX.  Move -D to acconfig.h.
@
text
@d65 3
@


1.6
log
@	* configure.in (_MSE_INT_H): Define on Solaris 7.
	(NEW_PROC_API): Define on Solaris 7 and 8 as well as 6.
	* acconfig.h (_MSE_INT_H): Define on Solaris 7.
	* configure: Regenerate.
	* config.in: Regenerate.
@
text
@d129 3
@


1.6.2.1
log
@2000-04-13  Mark Kettenis  <kettenis@@gnu.org>

	* acconfig.h (HAVE_PRGREGSET_T, HAVE_PRFPREGSET_T, HAVE_LWPID_T,
	HAVE_PSADDR_T): Add them here instead of in config.in.

	* acconfig.h (PRFPREGSET_T_BROKEN): New define.
	* configure.in: Add check for broken prfpregset_t type.
	* lin-thread.c (gdb_prfpregset): New typedef, depends on
	definition of PRFPREGSET_T_BROKEN.
	(ps_lgetfpregs, ps_lsetfpregs, p_td_thr_getfpregs,
	p_td_thr_setfpregs, thread_db_fetch_registers,
	thread_db_store_registers): Use gdb_prfpregset_t instead of
	prfpregset_t.
	* config.in: Regenerated.
	* configure: Regenerated.
@
text
@a64 3
/* Define if the prfpregset_t type is broken. */
#undef PRFPREGSET_T_BROKEN

@


1.5
log
@Fix typo in description of GETREGS.
@
text
@d62 3
@


1.4
log
@Move default definition of HAVE_PTRACE_GETREGS to acconfig.h.
@
text
@d120 1
a120 1
/* Define if <sys/ptrace.h> defines the PTRACE_GETXFPREGS request.  */
@


1.3
log
@2000-03-05  Mark Kettenis  <kettenis@@gnu.org>

	Allow GDB to run on Linux 2.0 again.
	* config.in: Add HAVE_PTRACE_GETREGS.
	* configure.in: Check if <sys/ptrace.h> defines PTRACE_GETREGS.
	* configure: Regenerated.
	* config/i386/nm-linux.h (CANNOT_FETCH_REGISTER,
	CANNOT_STORE_REGISTER): New defines.
	* i386-linux-nat.c (have_ptrace_getregs): New variable.
	(PTRACE_XFER_TYPE, CANNOT_FETCH_REGISTER, fetch_register,
	old_fetch_inferior_registers, CANNOT_STORE_REGISTER,
	store_register, old_store_inferior_registers): Copied over from
	`inptrace.c' as a temporary measure.
	(fetch_regs, store_regs, fetch_fpregs, store_fpregs):
	Conditionalize on HAVE_PTRACE_GETREGS.  Define stubs if
	HAVE_PTRACE_GETREGS isn't defined.
	(fetch_regs): Reset `have_ptrace_getregs' if ptrace call fails
	with EIO.
	(fetch_inferior_registers, store_inferior_registers): Fall back on
	the method use in `infptrace.c' (by calling
	old_fetch_inferior_registers and old_store_inferior_registers) if
	`have_ptrace_getregs' isn't set.
@
text
@a61 3
/* Define if ioctl argument PIOCSET is available. */
#undef HAVE_PROCFS_PIOCSET

d66 3
d120 1
a120 1
/* Define if <sys/ptrace.h> defines the PTRACE_GETREGS request.  */
d231 3
d243 3
d285 3
a299 9
/* Define if you have the <thread_db.h> header file.  */
#undef HAVE_THREAD_DB_H

/* Define if you have the <proc_service.h> header file.  */
#undef HAVE_PROC_SERVICE_H

/* Define if you have the <stdint.h> header file.  */
#undef HAVE_STDINT_H

d360 1
a360 1
/* Define if <sys/procfs.h> has prgregset_t.  */
d363 1
a363 1
/* Define if <sys/procfs.h> has prfpregset_t.  */
d366 1
a366 1
/* Define if <sys/procfs.h> has lwpid_t.  */
d369 1
a369 1
/* Define if <sys/procfs.h> has psaddr_t.  */
d371 1
@


1.2
log
@2000-02-09  Mark Kettenis  <kettenis@@gnu.org>

	* configure.in: Check for lwpid_t, psaddr_t, prgregset_t and
	prfpregset_t in <sys/procfs.h>.
	* config.in: Add HAVE_LWPID_T, HAVE_PSADDR_T, HAVE_PRGREGSET_T,
	HAVE_PRFPREGSET_T.
	* gdb_proc_service.h: Only provide typedefs for lwpid_t, psaddr_t,
	prgregset_t and prfpregset_t if they are not already present.
@
text
@d120 3
@


1.1
log
@Initial revision
@
text
@a2 12
/* Whether malloc must be declared even if <stdlib.h> is included.  */
#undef NEED_DECLARATION_MALLOC

/* Whether realloc must be declared even if <stdlib.h> is included.  */
#undef NEED_DECLARATION_REALLOC

/* Whether free must be declared even if <stdlib.h> is included.  */
#undef NEED_DECLARATION_FREE

/* Whether strerror must be declared even if <string.h> is included.  */
#undef NEED_DECLARATION_STRERROR

d65 3
a67 3
/* /proc PID entries are directories containing the files
   ctl as map status */
#undef HAVE_MULTIPLE_PROC_FDS
d107 7
d115 1
a115 1
#define HAVE_STRUCT_SAVE_STATE_T 0
d118 4
a121 1
#define HAVE_STRUCT_MEMBER_SS_WIDE 0
d156 3
d177 6
d246 3
d261 3
d276 3
d288 9
d309 3
d342 3
d357 11
@


1.1.1.1
log
@Initial creation of sourceware repository
@
text
@@


1.1.1.2
log
@import gdb-19990422 snapshot
@
text
@a118 7
/* If you want to specify a default CPU variant, define this to be its
   name, as a C string.  */
#undef TARGET_CPU_DEFAULT

/* Define if the simulator is being linked in.  */
#undef WITH_SIM

a249 3

/* Define if you have the <sys/select.h> header file.  */
#undef HAVE_SYS_SELECT_H
@


1.1.1.3
log
@import gdb-19990504 snapshot
@
text
@d3 12
a322 3

/* Define if strstr is not declared in system header files. */
#undef NEED_DECLARATION_STRSTR
@


1.1.1.4
log
@import gdb-1999-05-10
@
text
@a137 3
/* Define if you have the poll function.  */
#undef HAVE_POLL

@


1.1.1.5
log
@import gdb-1999-08-09 snapshot
@
text
@d138 3
a155 3
/* Define if you have the poll function.  */
#undef HAVE_POLL

a172 3

/* Define if you have the socketpair function.  */
#undef HAVE_SOCKETPAIR
@


1.1.1.6
log
@import gdb-1999-08-16 snapshot
@
text
@a287 3
/* Define if you have the socket library (-lsocket).  */
#undef HAVE_LIBSOCKET

@


1.1.1.7
log
@import gdb-1999-08-30 snapshot
@
text
@a266 3
/* Define if you have the <time.h> header file.  */
#undef HAVE_TIME_H

@


1.1.1.8
log
@import gdb-1999-10-04 snapshot
@
text
@a173 3
/* Define if you have the sigprocmask function.  */
#undef HAVE_SIGPROCMASK

@


1.1.1.9
log
@import gdb-1999-11-01 snapshot
@
text
@d115 1
a115 1
#undef HAVE_STRUCT_SAVE_STATE_T
d118 1
a118 4
#undef HAVE_STRUCT_MEMBER_SS_WIDE

/* Define if <sys/ptrace.h> defines the PTRACE_GETXFPREGS request.  */
#undef HAVE_PTRACE_GETXFPREGS
@


1.1.1.10
log
@import gdb-1999-12-06 snapshot
@
text
@a245 3
/* Define if you have the <sys/ioctl.h> header file.  */
#undef HAVE_SYS_IOCTL_H

@


1.1.1.11
log
@import gdb-1999-12-21 snapshot
@
text
@a287 9
/* Define if you have the <thread_db.h> header file.  */
#undef HAVE_THREAD_DB_H

/* Define if you have the <proc_service.h> header file.  */
#undef HAVE_PROC_SERVICE_H

/* Define if you have the <stdint.h> header file.  */
#undef HAVE_STDINT_H

@


1.1.1.12
log
@import gdb-2000-01-05 snapshot
@
text
@d65 3
a67 3
/* Define if you want to use new multi-fd /proc interface
   (replaces HAVE_MULTIPLE_PROC_FDS as well as other macros). */
#undef NEW_PROC_API
@


