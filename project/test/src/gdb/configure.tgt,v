head	1.281;
access;
symbols
	gdb_7_6_1-2013-08-30-release:1.271
	gdb_7_6-2013-04-26-release:1.271
	gdb_7_6-branch:1.271.0.2
	gdb_7_6-2013-03-12-branchpoint:1.271
	gdb_7_5_1-2012-11-29-release:1.254.2.2
	gdb_7_5-2012-08-17-release:1.254.2.2
	gdb_7_5-branch:1.254.0.2
	gdb_7_5-2012-07-18-branchpoint:1.254
	gdb_7_4_1-2012-04-26-release:1.245
	gdb_7_4-2012-01-24-release:1.245
	gdb_7_4-branch:1.245.0.2
	gdb_7_4-2011-12-13-branchpoint:1.245
	gdb_7_3_1-2011-09-04-release:1.243
	gdb_7_3-2011-07-26-release:1.243
	gdb_7_3-branch:1.243.0.2
	gdb_7_3-2011-04-01-branchpoint:1.243
	gdb_7_2-2010-09-02-release:1.232
	gdb_7_2-branch:1.232.0.2
	gdb_7_2-2010-07-07-branchpoint:1.232
	gdb_7_1-2010-03-18-release:1.229
	gdb_7_1-branch:1.229.0.2
	gdb_7_1-2010-02-18-branchpoint:1.229
	gdb_7_0_1-2009-12-22-release:1.224
	gdb_7_0-2009-10-06-release:1.224
	gdb_7_0-branch:1.224.0.2
	gdb_7_0-2009-09-16-branchpoint:1.224
	arc-sim-20090309:1.200.6.1
	msnyder-checkpoint-072509-branch:1.222.0.2
	msnyder-checkpoint-072509-branchpoint:1.222
	arc-insight_6_8-branch:1.200.0.6
	arc-insight_6_8-branchpoint:1.200
	insight_6_8-branch:1.200.0.4
	insight_6_8-branchpoint:1.200
	reverse-20081226-branch:1.206.0.2
	reverse-20081226-branchpoint:1.206
	multiprocess-20081120-branch:1.205.0.2
	multiprocess-20081120-branchpoint:1.205
	reverse-20080930-branch:1.203.0.6
	reverse-20080930-branchpoint:1.203
	reverse-20080717-branch:1.203.0.4
	reverse-20080717-branchpoint:1.203
	msnyder-reverse-20080609-branch:1.203.0.2
	msnyder-reverse-20080609-branchpoint:1.203
	drow-reverse-20070409-branch:1.187.0.2
	drow-reverse-20070409-branchpoint:1.187
	gdb_6_8-2008-03-27-release:1.200
	gdb_6_8-branch:1.200.0.2
	gdb_6_8-2008-02-26-branchpoint:1.200
	gdb_6_7_1-2007-10-29-release:1.189
	gdb_6_7-2007-10-10-release:1.189
	gdb_6_7-branch:1.189.0.2
	gdb_6_7-2007-09-07-branchpoint:1.189
	insight_6_6-20070208-release:1.178.2.2
	gdb_6_6-2006-12-18-release:1.178.2.2
	gdb_6_6-branch:1.178.0.2
	gdb_6_6-2006-11-15-branchpoint:1.178
	insight_6_5-20061003-release:1.172
	gdb-csl-symbian-6_4_50_20060226-12:1.170.2.2.2.1
	gdb-csl-sourcerygxx-3_4_4-25:1.169
	nickrob-async-20060828-mergepoint:1.177
	gdb-csl-symbian-6_4_50_20060226-11:1.170.2.2.2.1
	gdb-csl-sourcerygxx-4_1-17:1.170.2.4
	gdb-csl-20060226-branch-local-2:1.170.2.4
	gdb-csl-sourcerygxx-4_1-14:1.170.2.4
	gdb-csl-sourcerygxx-4_1-13:1.170.2.4
	gdb-csl-sourcerygxx-4_1-12:1.170.2.4
	gdb-csl-sourcerygxx-3_4_4-21:1.170.2.4
	gdb_6_5-20060621-release:1.172
	gdb-csl-sourcerygxx-4_1-9:1.170.2.4
	gdb-csl-sourcerygxx-4_1-8:1.170.2.4
	gdb-csl-sourcerygxx-4_1-7:1.170.2.4
	gdb-csl-arm-2006q1-6:1.170.2.4
	gdb-csl-sourcerygxx-4_1-6:1.170.2.4
	gdb-csl-symbian-6_4_50_20060226-10:1.170.2.2.2.1
	gdb-csl-symbian-6_4_50_20060226-9:1.170.2.2.2.1
	gdb-csl-symbian-6_4_50_20060226-8:1.170.2.2.2.1
	gdb-csl-coldfire-4_1-11:1.170.2.2
	gdb-csl-sourcerygxx-3_4_4-19:1.170.2.2
	gdb-csl-coldfire-4_1-10:1.170.2.2
	gdb_6_5-branch:1.172.0.6
	gdb_6_5-2006-05-14-branchpoint:1.172
	gdb-csl-sourcerygxx-4_1-5:1.170.2.2
	nickrob-async-20060513-branch:1.172.0.4
	nickrob-async-20060513-branchpoint:1.172
	gdb-csl-sourcerygxx-4_1-4:1.170.2.2
	msnyder-reverse-20060502-branch:1.172.0.2
	msnyder-reverse-20060502-branchpoint:1.172
	gdb-csl-morpho-4_1-4:1.170.2.2
	gdb-csl-sourcerygxx-3_4_4-17:1.170.2.2
	readline_5_1-import-branch:1.171.0.4
	readline_5_1-import-branchpoint:1.171
	gdb-csl-20060226-branch-merge-to-csl-symbian-1:1.170.2.2
	gdb-csl-symbian-20060226-branch:1.170.2.2.0.2
	gdb-csl-symbian-20060226-branchpoint:1.170.2.2
	gdb-csl-20060226-branch-merge-to-csl-local-1:1.170.2.2
	msnyder-reverse-20060331-branch:1.171.0.2
	msnyder-reverse-20060331-branchpoint:1.171
	gdb-csl-available-20060303-branch:1.170.0.4
	gdb-csl-available-20060303-branchpoint:1.170
	gdb-csl-20060226-branch:1.170.0.2
	gdb-csl-20060226-branchpoint:1.170
	gdb_6_4-20051202-release:1.169
	msnyder-fork-checkpoint-branch:1.169.0.8
	msnyder-fork-checkpoint-branchpoint:1.169
	gdb-csl-gxxpro-6_3-branch:1.169.0.6
	gdb-csl-gxxpro-6_3-branchpoint:1.169
	gdb_6_4-branch:1.169.0.4
	gdb_6_4-2005-11-01-branchpoint:1.169
	gdb-csl-arm-20051020-branch:1.169.0.2
	gdb-csl-arm-20051020-branchpoint:1.169
	msnyder-tracepoint-checkpoint-branch:1.167.0.2
	msnyder-tracepoint-checkpoint-branchpoint:1.167
	gdb-csl-arm-20050325-2005-q1b:1.161.2.2
	gdb-csl-arm-20050325-2005-q1a:1.161.2.1
	csl-arm-20050325-branch:1.161.0.2
	csl-arm-20050325-branchpoint:1.161
	gdb-post-i18n-errorwarning-20050211:1.158
	gdb-pre-i18n-errorwarning-20050211:1.158
	gdb_6_3-20041109-release:1.149
	gdb_6_3-branch:1.149.0.2
	gdb_6_3-20041019-branchpoint:1.149
	drow_intercu-merge-20040921:1.146
	drow_intercu-merge-20040915:1.146
	jimb-gdb_6_2-e500-branch:1.144.0.6
	jimb-gdb_6_2-e500-branchpoint:1.144
	gdb_6_2-20040730-release:1.144
	gdb_6_2-branch:1.144.0.2
	gdb_6_2-2004-07-10-gmt-branchpoint:1.144
	gdb_6_1_1-20040616-release:1.135
	gdb_6_1-2004-04-05-release:1.135
	drow_intercu-merge-20040402:1.135
	drow_intercu-merge-20040327:1.135
	ezannoni_pie-20040323-branch:1.135.0.6
	ezannoni_pie-20040323-branchpoint:1.135
	cagney_tramp-20040321-mergepoint:1.135
	cagney_tramp-20040309-branch:1.135.0.4
	cagney_tramp-20040309-branchpoint:1.135
	gdb_6_1-branch:1.135.0.2
	gdb_6_1-2004-03-01-gmt-branchpoint:1.135
	drow_intercu-20040221-branch:1.133.0.2
	drow_intercu-20040221-branchpoint:1.133
	cagney_bfdfile-20040213-branch:1.129.0.2
	cagney_bfdfile-20040213-branchpoint:1.129
	drow-cplus-merge-20040208:1.129
	carlton_dictionary-20040126-merge:1.128
	cagney_bigcore-20040122-branch:1.125.0.2
	cagney_bigcore-20040122-branchpoint:1.125
	drow-cplus-merge-20040113:1.125
	drow-cplus-merge-20031224:1.122
	drow-cplus-merge-20031220:1.122
	carlton_dictionary-20031215-merge:1.122
	drow-cplus-merge-20031214:1.122
	carlton-dictionary-20031111-merge:1.118
	gdb_6_0-2003-10-04-release:1.107.4.3
	kettenis_sparc-20030918-branch:1.116.0.4
	kettenis_sparc-20030918-branchpoint:1.116
	carlton_dictionary-20030917-merge:1.116
	ezannoni_pie-20030916-branchpoint:1.116
	ezannoni_pie-20030916-branch:1.116.0.2
	cagney_x86i386-20030821-branch:1.111.0.2
	cagney_x86i386-20030821-branchpoint:1.111
	carlton_dictionary-20030805-merge:1.111
	carlton_dictionary-20030627-merge:1.107
	gdb_6_0-branch:1.107.0.4
	gdb_6_0-2003-06-23-branchpoint:1.107
	jimb-ppc64-linux-20030613-branch:1.107.0.2
	jimb-ppc64-linux-20030613-branchpoint:1.107
	cagney_convert-20030606-branch:1.105.0.2
	cagney_convert-20030606-branchpoint:1.105
	cagney_writestrings-20030508-branch:1.103.0.6
	cagney_writestrings-20030508-branchpoint:1.103
	jimb-ppc64-linux-20030528-branch:1.104.0.2
	jimb-ppc64-linux-20030528-branchpoint:1.104
	carlton_dictionary-20030523-merge:1.103
	cagney_fileio-20030521-branch:1.103.0.4
	cagney_fileio-20030521-branchpoint:1.103
	kettenis_i386newframe-20030517-mergepoint:1.103
	jimb-ppc64-linux-20030509-branch:1.103.0.2
	jimb-ppc64-linux-20030509-branchpoint:1.103
	kettenis_i386newframe-20030504-mergepoint:1.102
	carlton_dictionary-20030430-merge:1.102
	kettenis_i386newframe-20030419-branch:1.102.0.2
	kettenis_i386newframe-20030419-branchpoint:1.102
	carlton_dictionary-20030416-merge:1.102
	cagney_frameaddr-20030409-mergepoint:1.101
	kettenis_i386newframe-20030406-branch:1.99.0.4
	kettenis_i386newframe-20030406-branchpoint:1.99
	cagney_frameaddr-20030403-branchpoint:1.99
	cagney_frameaddr-20030403-branch:1.99.0.2
	cagney_framebase-20030330-mergepoint:1.99
	cagney_framebase-20030326-branch:1.98.0.10
	cagney_framebase-20030326-branchpoint:1.98
	cagney_lazyid-20030317-branch:1.98.0.8
	cagney_lazyid-20030317-branchpoint:1.98
	kettenis-i386newframe-20030316-mergepoint:1.98
	offbyone-20030313-branch:1.98.0.6
	offbyone-20030313-branchpoint:1.98
	kettenis-i386newframe-20030308-branch:1.98.0.4
	kettenis-i386newframe-20030308-branchpoint:1.98
	carlton_dictionary-20030305-merge:1.98
	cagney_offbyone-20030303-branch:1.98.0.2
	cagney_offbyone-20030303-branchpoint:1.98
	carlton_dictionary-20030207-merge:1.98
	interps-20030203-mergepoint:1.91
	interps-20030202-branch:1.91.0.2
	interps-20030202-branchpoint:1.91
	cagney-unwind-20030108-branch:1.90.0.2
	cagney-unwind-20030108-branchpoint:1.90
	carlton_dictionary-20021223-merge:1.87
	gdb_5_3-2002-12-12-release:1.85.2.1
	carlton_dictionary-20021115-merge:1.87
	kseitz_interps-20021105-merge:1.87
	kseitz_interps-20021103-merge:1.87
	drow-cplus-merge-20021020:1.85
	drow-cplus-merge-20021025:1.87
	carlton_dictionary-20021025-merge:1.87
	carlton_dictionary-20021011-merge:1.85
	drow-cplus-branch:1.85.0.6
	drow-cplus-branchpoint:1.85
	kseitz_interps-20020930-merge:1.85
	carlton_dictionary-20020927-merge:1.85
	carlton_dictionary-branch:1.85.0.4
	carlton_dictionary-20020920-branchpoint:1.85
	gdb_5_3-branch:1.85.0.2
	gdb_5_3-2002-09-04-branchpoint:1.85
	kseitz_interps-20020829-merge:1.84
	cagney_sysregs-20020825-branch:1.84.0.4
	cagney_sysregs-20020825-branchpoint:1.84
	readline_4_3-import-branch:1.84.0.2
	readline_4_3-import-branchpoint:1.84
	gdb_5_2_1-2002-07-23-release:1.56.2.1
	kseitz_interps-20020528-branch:1.67.0.2
	kseitz_interps-20020528-branchpoint:1.67
	cagney_regbuf-20020515-branch:1.64.0.2
	cagney_regbuf-20020515-branchpoint:1.64
	jimb-macro-020506-branch:1.59.0.2
	jimb-macro-020506-branchpoint:1.59
	gdb_5_2-2002-04-29-release:1.56
	gdb_5_2-branch:1.56.0.2
	gdb_5_2-2002-03-03-branchpoint:1.56
	gdb_5_1_1-2002-01-24-release:1.34
	gdb_5_1_0_1-2002-01-03-release:1.34
	cygnus_cvs_20020108_pre:1.48
	gdb_5_1_0_1-2002-01-03-branchpoint:1.34
	gdb_5_1_0_1-2002-01-03-branch:1.34.0.6
	gdb_5_1-2001-11-21-release:1.34
	gdb_s390-2001-09-26-branch:1.34.0.4
	gdb_s390-2001-09-26-branchpoint:1.34
	gdb_5_1-2001-07-29-branch:1.34.0.2
	gdb_5_1-2001-07-29-branchpoint:1.34
	dberlin-typesystem-branch:1.30.0.2
	dberlin-typesystem-branchpoint:1.30
	gdb-post-ptid_t-2001-05-03:1.28
	gdb-pre-ptid_t-2001-05-03:1.28
	insight-precleanup-2001-01-01:1.16
	gdb-post-protoization-2000-07-29:1.13
	gdb-pre-protoization-2000-07-29:1.13
	gdb-premipsmulti-2000-06-06-branch:1.11.0.2
	gdb-premipsmulti-2000-06-06-branchpoint:1.11
	gdb-post-params-removal-2000-06-04:1.11
	gdb-pre-params-removal-2000-06-04:1.11
	gdb-post-params-removal-2000-05-28:1.9
	gdb-pre-params-removal-2000-05-28:1.9
	gdb_5_0-2000-05-19-release:1.5.2.2
	gdb_4_18_2-2000-05-18-release:1.5.2.2
	gdb_4_95_1-2000-05-11-snapshot:1.5.2.2
	gdb_4_95_0-2000-04-27-snapshot:1.5.2.1
	gdb_5_0-2000-04-10-branch:1.5.0.2
	gdb_5_0-2000-04-10-branchpoint:1.5
	repo-unification-2000-02-06:1.1.1.15
	insight-2000-02-04:1.1.1.15
	gdb-2000-02-04:1.1.1.15
	gdb-2000-02-02:1.1.1.15
	gdb-2000-02-01:1.1.1.15
	gdb-2000-01-31:1.1.1.15
	gdb-2000-01-26:1.1.1.15
	gdb-2000-01-24:1.1.1.15
	gdb-2000-01-17:1.1.1.14
	gdb-2000-01-10:1.1.1.14
	gdb-2000-01-05:1.1.1.13
	gdb-1999-12-21:1.1.1.13
	gdb-1999-12-13:1.1.1.12
	gdb-1999-12-07:1.1.1.12
	gdb-1999-12-06:1.1.1.12
	gdb-1999-11-16:1.1.1.11
	gdb-1999-11-08:1.1.1.11
	gdb-1999-11-01:1.1.1.11
	gdb-1999-10-25:1.1.1.11
	gdb-1999-10-18:1.1.1.11
	gdb-1999-10-11:1.1.1.11
	gdb-1999-10-04:1.1.1.11
	gdb-1999-09-28:1.1.1.10
	gdb-1999-09-21:1.1.1.10
	gdb-1999-09-13:1.1.1.10
	gdb-1999-09-08:1.1.1.10
	gdb-1999-08-30:1.1.1.10
	gdb-1999-08-23:1.1.1.9
	gdb-1999-08-16:1.1.1.9
	gdb-1999-08-09:1.1.1.8
	gdb-1999-08-02:1.1.1.7
	gdb-1999-07-26:1.1.1.7
	gdb-1999-07-19:1.1.1.7
	gdb-1999-07-12:1.1.1.6
	gdb-post-reformat-19990707:1.1.1.5
	gdb-1999-07-07-post-reformat-snapshot:1.1.1.5
	gdb-pre-reformat-19990707:1.1.1.5
	gdb-1999-07-07:1.1.1.5
	gdb-1999-07-05:1.1.1.4
	gdb-1999-06-28:1.1.1.4
	gdb-1999-06-21:1.1.1.3
	gdb-1999-06-14:1.1.1.3
	gdb-1999-06-07:1.1.1.3
	gdb-1999-06-01:1.1.1.2
	gdb-4_18-branch:1.1.1.1.0.2
	gdb-4_18-release:1.1.1.1
	gdb-1999-05-25:1.1.1.2
	gdb-1999-05-19:1.1.1.2
	gdb-1999-05-10:1.1.1.2
	gdb-19990504:1.1.1.2
	gdb-19990422:1.1.1.2
	SNAPSHOT:1.1.1
	gdb-4_18:1.1.1.1
	GDB_4_18:1.1.1;
locks; strict;
comment	@# @;
expand	@o@;


1.281
date	2013.10.01.13.21.17;	author qiyao;	state Exp;
branches;
next	1.280;

1.280
date	2013.09.06.10.50.10;	author ricard;	state Exp;
branches;
next	1.279;

1.279
date	2013.08.22.01.01.32;	author amodra;	state Exp;
branches;
next	1.278;

1.278
date	2013.08.07.14.42.34;	author uweigand;	state Exp;
branches;
next	1.277;

1.277
date	2013.06.25.01.16.31;	author kevinb;	state Exp;
branches;
next	1.276;

1.276
date	2013.05.07.01.09.28;	author sandra;	state Exp;
branches;
next	1.275;

1.275
date	2013.05.06.14.15.49;	author brobecke;	state Exp;
branches;
next	1.274;

1.274
date	2013.04.11.16.53.01;	author jkratoch;	state Exp;
branches;
next	1.273;

1.273
date	2013.04.11.14.13.43;	author jkratoch;	state Exp;
branches;
next	1.272;

1.272
date	2013.04.10.00.47.32;	author brobecke;	state Exp;
branches;
next	1.271;

1.271
date	2013.03.05.13.37.10;	author corinna;	state Exp;
branches;
next	1.270;

1.270
date	2013.02.27.14.49.15;	author jiwang;	state Exp;
branches;
next	1.269;

1.269
date	2013.02.27.14.47.13;	author jiwang;	state Exp;
branches;
next	1.268;

1.268
date	2013.02.26.22.12.47;	author green;	state Exp;
branches;
next	1.267;

1.267
date	2013.02.04.20.48.53;	author andreast;	state Exp;
branches;
next	1.266;

1.266
date	2013.02.04.18.20.04;	author mshawcroft;	state Exp;
branches;
next	1.265;

1.265
date	2013.02.04.12.57.44;	author mshawcroft;	state Exp;
branches;
next	1.264;

1.264
date	2013.02.04.12.53.59;	author mshawcroft;	state Exp;
branches;
next	1.263;

1.263
date	2013.02.04.12.48.37;	author mshawcroft;	state Exp;
branches;
next	1.262;

1.262
date	2013.02.01.20.54.18;	author andreast;	state Exp;
branches;
next	1.261;

1.261
date	2012.12.18.14.52.58;	author brobecke;	state Exp;
branches;
next	1.260;

1.260
date	2012.12.15.14.34.20;	author brobecke;	state Exp;
branches;
next	1.259;

1.259
date	2012.12.15.14.30.18;	author brobecke;	state Exp;
branches;
next	1.258;

1.258
date	2012.12.15.14.29.00;	author brobecke;	state Exp;
branches;
next	1.257;

1.257
date	2012.12.15.14.27.55;	author brobecke;	state Exp;
branches;
next	1.256;

1.256
date	2012.08.01.19.34.29;	author rth;	state Exp;
branches;
next	1.255;

1.255
date	2012.07.25.15.34.08;	author corsepiu;	state Exp;
branches;
next	1.254;

1.254
date	2012.05.30.19.31.44;	author palves;	state Exp;
branches
	1.254.2.1;
next	1.253;

1.253
date	2012.04.24.03.33.16;	author davem;	state Exp;
branches;
next	1.252;

1.252
date	2012.03.05.11.41.51;	author gingold;	state Exp;
branches;
next	1.251;

1.251
date	2012.02.04.06.05.50;	author kevinb;	state Exp;
branches;
next	1.250;

1.250
date	2012.01.30.17.09.40;	author eager;	state Exp;
branches;
next	1.249;

1.249
date	2012.01.10.16.30.43;	author jkratoch;	state Exp;
branches;
next	1.248;

1.248
date	2012.01.05.17.07.04;	author uweigand;	state Exp;
branches;
next	1.247;

1.247
date	2012.01.02.17.18.46;	author jkratoch;	state Exp;
branches;
next	1.246;

1.246
date	2012.01.02.02.31.18;	author jkratoch;	state Exp;
branches;
next	1.245;

1.245
date	2011.08.14.14.03.44;	author qiyao;	state Exp;
branches;
next	1.244;

1.244
date	2011.05.04.19.28.14;	author jsm28;	state Exp;
branches;
next	1.243;

1.243
date	2011.03.06.00.22.38;	author vapier;	state Exp;
branches;
next	1.242;

1.242
date	2011.01.24.21.34.19;	author kevinb;	state Exp;
branches;
next	1.241;

1.241
date	2011.01.14.18.16.34;	author vapier;	state Exp;
branches;
next	1.240;

1.240
date	2011.01.13.16.24.12;	author brobecke;	state Exp;
branches;
next	1.239;

1.239
date	2011.01.12.10.48.14;	author brobecke;	state Exp;
branches;
next	1.238;

1.238
date	2010.12.29.16.15.41;	author vapier;	state Exp;
branches;
next	1.237;

1.237
date	2010.12.29.16.11.49;	author vapier;	state Exp;
branches;
next	1.236;

1.236
date	2010.12.04.02.10.53;	author monaka;	state Exp;
branches;
next	1.235;

1.235
date	2010.09.28.21.46.09;	author brobecke;	state Exp;
branches;
next	1.234;

1.234
date	2010.09.28.21.39.31;	author brobecke;	state Exp;
branches;
next	1.233;

1.233
date	2010.08.05.16.19.25;	author palves;	state Exp;
branches;
next	1.232;

1.232
date	2010.04.27.21.01.14;	author brobecke;	state Exp;
branches;
next	1.231;

1.231
date	2010.04.20.00.21.33;	author muller;	state Exp;
branches;
next	1.230;

1.230
date	2010.02.25.20.30.58;	author palves;	state Exp;
branches;
next	1.229;

1.229
date	2010.01.19.10.22.42;	author brobecke;	state Exp;
branches;
next	1.228;

1.228
date	2009.12.07.19.58.41;	author kevinb;	state Exp;
branches;
next	1.227;

1.227
date	2009.10.21.14.14.56;	author ams;	state Exp;
branches;
next	1.226;

1.226
date	2009.10.15.19.28.52;	author eager;	state Exp;
branches;
next	1.225;

1.225
date	2009.09.27.20.46.35;	author uweigand;	state Exp;
branches;
next	1.224;

1.224
date	2009.08.06.10.28.38;	author donlee;	state Exp;
branches;
next	1.223;

1.223
date	2009.07.31.15.28.27;	author uweigand;	state Exp;
branches;
next	1.222;

1.222
date	2009.07.06.18.52.14;	author aristovski;	state Exp;
branches;
next	1.221;

1.221
date	2009.07.03.12.06.36;	author gingold;	state Exp;
branches;
next	1.220;

1.220
date	2009.06.29.13.10.39;	author uweigand;	state Exp;
branches;
next	1.219;

1.219
date	2009.06.01.08.12.21;	author gingold;	state Exp;
branches;
next	1.218;

1.218
date	2009.05.18.13.25.33;	author jbeniston;	state Exp;
branches;
next	1.217;

1.217
date	2009.05.01.03.20.45;	author green;	state Exp;
branches;
next	1.216;

1.216
date	2009.04.30.03.04.28;	author teawater;	state Exp;
branches;
next	1.215;

1.215
date	2009.04.24.02.26.01;	author green;	state Exp;
branches;
next	1.214;

1.214
date	2009.04.17.14.22.25;	author jsm28;	state Exp;
branches;
next	1.213;

1.213
date	2009.03.16.15.04.14;	author brobecke;	state Exp;
branches;
next	1.212;

1.212
date	2009.02.17.17.56.50;	author palves;	state Exp;
branches;
next	1.211;

1.211
date	2009.02.06.22.59.00;	author palves;	state Exp;
branches;
next	1.210;

1.210
date	2009.02.04.08.47.56;	author gingold;	state Exp;
branches;
next	1.209;

1.209
date	2009.01.12.01.10.27;	author cgf;	state Exp;
branches;
next	1.208;

1.208
date	2009.01.11.13.15.56;	author brobecke;	state Exp;
branches;
next	1.207;

1.207
date	2009.01.11.13.10.44;	author brobecke;	state Exp;
branches;
next	1.206;

1.206
date	2008.11.27.09.23.01;	author gingold;	state Exp;
branches
	1.206.2.1;
next	1.205;

1.205
date	2008.11.14.22.06.41;	author drow;	state Exp;
branches;
next	1.204;

1.204
date	2008.10.02.15.48.06;	author drow;	state Exp;
branches;
next	1.203;

1.203
date	2008.05.01.23.09.14;	author palves;	state Exp;
branches
	1.203.4.1
	1.203.6.1;
next	1.202;

1.202
date	2008.04.23.21.17.05;	author maxim2405;	state Exp;
branches;
next	1.201;

1.201
date	2008.02.27.01.06.21;	author drow;	state Exp;
branches;
next	1.200;

1.200
date	2008.02.11.21.58.41;	author maxim2405;	state Exp;
branches
	1.200.6.1;
next	1.199;

1.199
date	2008.01.19.15.03.50;	author skrll;	state Exp;
branches;
next	1.198;

1.198
date	2007.12.30.22.13.55;	author palves;	state Exp;
branches;
next	1.197;

1.197
date	2007.11.17.01.02.01;	author uweigand;	state Exp;
branches;
next	1.196;

1.196
date	2007.11.17.00.54.14;	author uweigand;	state Exp;
branches;
next	1.195;

1.195
date	2007.11.17.00.44.37;	author uweigand;	state Exp;
branches;
next	1.194;

1.194
date	2007.11.17.00.42.59;	author uweigand;	state Exp;
branches;
next	1.193;

1.193
date	2007.11.17.00.42.07;	author uweigand;	state Exp;
branches;
next	1.192;

1.192
date	2007.10.24.21.14.17;	author uweigand;	state Exp;
branches;
next	1.191;

1.191
date	2007.10.16.18.43.24;	author palves;	state Exp;
branches;
next	1.190;

1.190
date	2007.10.11.14.36.37;	author kazu;	state Exp;
branches;
next	1.189;

1.189
date	2007.04.27.13.19.48;	author uweigand;	state Exp;
branches;
next	1.188;

1.188
date	2007.04.13.00.39.49;	author uweigand;	state Exp;
branches;
next	1.187;

1.187
date	2007.03.30.22.50.33;	author palves;	state Exp;
branches;
next	1.186;

1.186
date	2007.03.30.17.21.47;	author drow;	state Exp;
branches;
next	1.185;

1.185
date	2007.03.29.19.58.29;	author drow;	state Exp;
branches;
next	1.184;

1.184
date	2007.03.29.01.06.47;	author palves;	state Exp;
branches;
next	1.183;

1.183
date	2007.02.23.22.50.41;	author kevinb;	state Exp;
branches;
next	1.182;

1.182
date	2007.01.04.07.09.54;	author qinwei;	state Exp;
branches;
next	1.181;

1.181
date	2006.12.15.23.45.04;	author kettenis;	state Exp;
branches;
next	1.180;

1.180
date	2006.11.22.17.34.15;	author uweigand;	state Exp;
branches;
next	1.179;

1.179
date	2006.11.22.13.49.53;	author uweigand;	state Exp;
branches;
next	1.178;

1.178
date	2006.11.14.21.53.59;	author drow;	state Exp;
branches
	1.178.2.1;
next	1.177;

1.177
date	2006.08.08.18.57.25;	author drow;	state Exp;
branches;
next	1.176;

1.176
date	2006.07.23.03.52.15;	author drow;	state Exp;
branches;
next	1.175;

1.175
date	2006.07.16.15.29.09;	author kettenis;	state Exp;
branches;
next	1.174;

1.174
date	2006.07.10.19.40.27;	author kettenis;	state Exp;
branches;
next	1.173;

1.173
date	2006.06.19.01.23.26;	author ksakamot;	state Exp;
branches;
next	1.172;

1.172
date	2006.04.20.23.18.48;	author msnyder;	state Exp;
branches
	1.172.4.1;
next	1.171;

1.171
date	2006.03.29.22.58.54;	author drow;	state Exp;
branches;
next	1.170;

1.170
date	2005.12.12.11.25.05;	author nathan;	state Exp;
branches
	1.170.2.1;
next	1.169;

1.169
date	2005.08.15.21.46.38;	author kevinb;	state Exp;
branches
	1.169.2.1;
next	1.168;

1.168
date	2005.06.28.00.17.50;	author msnyder;	state Exp;
branches;
next	1.167;

1.167
date	2005.05.28.22.09.03;	author drow;	state Exp;
branches;
next	1.166;

1.166
date	2005.05.22.19.11.42;	author kettenis;	state Exp;
branches;
next	1.165;

1.165
date	2005.05.18.08.52.18;	author corinna;	state Exp;
branches;
next	1.164;

1.164
date	2005.05.14.20.21.03;	author kettenis;	state Exp;
branches;
next	1.163;

1.163
date	2005.04.26.21.47.21;	author kettenis;	state Exp;
branches;
next	1.162;

1.162
date	2005.04.15.08.01.14;	author corinna;	state Exp;
branches;
next	1.161;

1.161
date	2005.03.18.18.59.17;	author kettenis;	state Exp;
branches
	1.161.2.1;
next	1.160;

1.160
date	2005.03.08.08.59.46;	author corinna;	state Exp;
branches;
next	1.159;

1.159
date	2005.02.12.10.38.50;	author ysato;	state Exp;
branches;
next	1.158;

1.158
date	2005.01.19.22.04.37;	author jimb;	state Exp;
branches;
next	1.157;

1.157
date	2005.01.07.16.22.33;	author cagney;	state Exp;
branches;
next	1.156;

1.156
date	2005.01.04.22.59.44;	author kettenis;	state Exp;
branches;
next	1.155;

1.155
date	2004.12.11.02.02.01;	author msnyder;	state Exp;
branches;
next	1.154;

1.154
date	2004.11.14.00.10.52;	author cagney;	state Exp;
branches;
next	1.153;

1.153
date	2004.11.13.23.10.00;	author cagney;	state Exp;
branches;
next	1.152;

1.152
date	2004.11.01.21.05.48;	author jsm28;	state Exp;
branches;
next	1.151;

1.151
date	2004.11.01.14.44.57;	author cagney;	state Exp;
branches;
next	1.150;

1.150
date	2004.10.23.12.14.01;	author kettenis;	state Exp;
branches;
next	1.149;

1.149
date	2004.10.01.07.29.34;	author ksakamot;	state Exp;
branches;
next	1.148;

1.148
date	2004.09.28.20.39.17;	author kettenis;	state Exp;
branches;
next	1.147;

1.147
date	2004.09.28.20.25.59;	author kettenis;	state Exp;
branches;
next	1.146;

1.146
date	2004.08.12.22.29.56;	author neroden;	state Exp;
branches;
next	1.145;

1.145
date	2004.08.09.21.20.28;	author kettenis;	state Exp;
branches;
next	1.144;

1.144
date	2004.06.26.10.06.34;	author kettenis;	state Exp;
branches;
next	1.143;

1.143
date	2004.05.24.21.00.08;	author kettenis;	state Exp;
branches;
next	1.142;

1.142
date	2004.05.04.23.47.14;	author kettenis;	state Exp;
branches;
next	1.141;

1.141
date	2004.04.30.23.28.51;	author kettenis;	state Exp;
branches;
next	1.140;

1.140
date	2004.04.29.03.36.49;	author tausq;	state Exp;
branches;
next	1.139;

1.139
date	2004.04.22.21.13.06;	author kettenis;	state Exp;
branches;
next	1.138;

1.138
date	2004.04.14.18.02.44;	author kettenis;	state Exp;
branches;
next	1.137;

1.137
date	2004.04.09.15.01.45;	author kettenis;	state Exp;
branches;
next	1.136;

1.136
date	2004.04.05.03.52.41;	author cagney;	state Exp;
branches;
next	1.135;

1.135
date	2004.02.25.20.45.30;	author kettenis;	state Exp;
branches;
next	1.134;

1.134
date	2004.02.22.16.48.23;	author kettenis;	state Exp;
branches;
next	1.133;

1.133
date	2004.02.20.18.46.33;	author kettenis;	state Exp;
branches
	1.133.2.1;
next	1.132;

1.132
date	2004.02.20.18.13.18;	author cagney;	state Exp;
branches;
next	1.131;

1.131
date	2004.02.18.17.44.51;	author kettenis;	state Exp;
branches;
next	1.130;

1.130
date	2004.02.18.03.42.50;	author jimb;	state Exp;
branches;
next	1.129;

1.129
date	2004.01.27.04.10.38;	author cagney;	state Exp;
branches;
next	1.128;

1.128
date	2004.01.25.11.46.44;	author kettenis;	state Exp;
branches;
next	1.127;

1.127
date	2004.01.24.22.18.21;	author kettenis;	state Exp;
branches;
next	1.126;

1.126
date	2004.01.22.23.18.03;	author kettenis;	state Exp;
branches;
next	1.125;

1.125
date	2004.01.03.12.09.47;	author kettenis;	state Exp;
branches;
next	1.124;

1.124
date	2004.01.03.10.08.44;	author kettenis;	state Exp;
branches;
next	1.123;

1.123
date	2004.01.02.17.43.44;	author drow;	state Exp;
branches;
next	1.122;

1.122
date	2003.12.01.21.10.46;	author cagney;	state Exp;
branches;
next	1.121;

1.121
date	2003.12.01.14.53.41;	author cagney;	state Exp;
branches;
next	1.120;

1.120
date	2003.11.16.23.08.36;	author cagney;	state Exp;
branches;
next	1.119;

1.119
date	2003.11.16.05.57.08;	author cagney;	state Exp;
branches;
next	1.118;

1.118
date	2003.10.18.18.41.22;	author kettenis;	state Exp;
branches;
next	1.117;

1.117
date	2003.10.06.19.47.21;	author cagney;	state Exp;
branches;
next	1.116;

1.116
date	2003.09.11.14.00.54;	author cagney;	state Exp;
branches
	1.116.4.1;
next	1.115;

1.115
date	2003.09.08.11.26.20;	author corinna;	state Exp;
branches;
next	1.114;

1.114
date	2003.09.04.18.55.34;	author cagney;	state Exp;
branches;
next	1.113;

1.113
date	2003.09.03.15.02.49;	author cagney;	state Exp;
branches;
next	1.112;

1.112
date	2003.08.25.22.56.09;	author cgd;	state Exp;
branches;
next	1.111;

1.111
date	2003.08.01.21.14.33;	author cagney;	state Exp;
branches;
next	1.110;

1.110
date	2003.07.27.15.42.20;	author cagney;	state Exp;
branches;
next	1.109;

1.109
date	2003.07.27.15.38.16;	author cagney;	state Exp;
branches;
next	1.108;

1.108
date	2003.07.13.16.15.59;	author kettenis;	state Exp;
branches;
next	1.107;

1.107
date	2003.06.13.17.49.49;	author kettenis;	state Exp;
branches
	1.107.4.1;
next	1.106;

1.106
date	2003.06.12.23.27.46;	author jimb;	state Exp;
branches;
next	1.105;

1.105
date	2003.06.01.14.45.27;	author cagney;	state Exp;
branches;
next	1.104;

1.104
date	2003.05.25.18.50.54;	author schwab;	state Exp;
branches
	1.104.2.1;
next	1.103;

1.103
date	2003.05.05.13.57.20;	author kewarken;	state Exp;
branches
	1.103.2.1;
next	1.102;

1.102
date	2003.04.16.14.32.21;	author cagney;	state Exp;
branches
	1.102.2.1;
next	1.101;

1.101
date	2003.04.09.16.19.51;	author cagney;	state Exp;
branches;
next	1.100;

1.100
date	2003.04.09.16.10.05;	author cagney;	state Exp;
branches;
next	1.99;

1.99
date	2003.03.27.15.23.17;	author cagney;	state Exp;
branches
	1.99.2.1;
next	1.98;

1.98
date	2003.02.05.23.14.47;	author kettenis;	state Exp;
branches
	1.98.10.1;
next	1.97;

1.97
date	2003.02.05.23.04.16;	author kettenis;	state Exp;
branches;
next	1.96;

1.96
date	2003.02.05.15.31.55;	author cagney;	state Exp;
branches;
next	1.95;

1.95
date	2003.02.04.23.26.43;	author cagney;	state Exp;
branches;
next	1.94;

1.94
date	2003.02.04.23.22.24;	author cagney;	state Exp;
branches;
next	1.93;

1.93
date	2003.02.04.22.49.19;	author cagney;	state Exp;
branches;
next	1.92;

1.92
date	2003.02.04.22.04.08;	author cagney;	state Exp;
branches;
next	1.91;

1.91
date	2003.01.31.16.32.44;	author cagney;	state Exp;
branches;
next	1.90;

1.90
date	2003.01.04.23.47.12;	author drow;	state Exp;
branches;
next	1.89;

1.89
date	2003.01.02.14.27.26;	author cagney;	state Exp;
branches;
next	1.88;

1.88
date	2002.12.24.19.21.10;	author kevinb;	state Exp;
branches;
next	1.87;

1.87
date	2002.10.20.11.54.40;	author kettenis;	state Exp;
branches;
next	1.86;

1.86
date	2002.10.20.05.37.33;	author obrien;	state Exp;
branches;
next	1.85;

1.85
date	2002.09.02.17.24.50;	author thorpej;	state Exp;
branches
	1.85.2.1
	1.85.4.1
	1.85.6.1;
next	1.84;

1.84
date	2002.08.22.21.52.44;	author cagney;	state Exp;
branches;
next	1.83;

1.83
date	2002.08.21.00.57.43;	author cagney;	state Exp;
branches;
next	1.82;

1.82
date	2002.08.18.16.32.14;	author kettenis;	state Exp;
branches;
next	1.81;

1.81
date	2002.08.18.16.09.03;	author cagney;	state Exp;
branches;
next	1.80;

1.80
date	2002.08.18.04.14.02;	author cagney;	state Exp;
branches;
next	1.79;

1.79
date	2002.08.18.04.00.46;	author cagney;	state Exp;
branches;
next	1.78;

1.78
date	2002.08.15.22.51.40;	author kettenis;	state Exp;
branches;
next	1.77;

1.77
date	2002.08.08.15.37.29;	author cagney;	state Exp;
branches;
next	1.76;

1.76
date	2002.08.06.14.12.46;	author cagney;	state Exp;
branches;
next	1.75;

1.75
date	2002.07.24.23.51.35;	author cagney;	state Exp;
branches;
next	1.74;

1.74
date	2002.07.16.15.19.18;	author cagney;	state Exp;
branches;
next	1.73;

1.73
date	2002.07.16.14.30.11;	author cagney;	state Exp;
branches;
next	1.72;

1.72
date	2002.07.14.00.15.19;	author cagney;	state Exp;
branches;
next	1.71;

1.71
date	2002.07.05.15.07.49;	author graces;	state Exp;
branches;
next	1.70;

1.70
date	2002.06.30.17.19.52;	author kettenis;	state Exp;
branches;
next	1.69;

1.69
date	2002.06.21.21.19.57;	author brolley;	state Exp;
branches;
next	1.68;

1.68
date	2002.05.31.00.59.13;	author thorpej;	state Exp;
branches;
next	1.67;

1.67
date	2002.05.22.03.59.53;	author thorpej;	state Exp;
branches
	1.67.2.1;
next	1.66;

1.66
date	2002.05.21.15.58.40;	author thorpej;	state Exp;
branches;
next	1.65;

1.65
date	2002.05.16.12.11.36;	author corinna;	state Exp;
branches;
next	1.64;

1.64
date	2002.05.14.15.22.29;	author ezannoni;	state Exp;
branches
	1.64.2.1;
next	1.63;

1.63
date	2002.05.14.01.21.39;	author ezannoni;	state Exp;
branches;
next	1.62;

1.62
date	2002.05.12.15.07.41;	author kettenis;	state Exp;
branches;
next	1.61;

1.61
date	2002.05.12.14.58.56;	author kettenis;	state Exp;
branches;
next	1.60;

1.60
date	2002.05.08.15.29.35;	author thorpej;	state Exp;
branches;
next	1.59;

1.59
date	2002.05.04.15.52.37;	author cagney;	state Exp;
branches;
next	1.58;

1.58
date	2002.04.25.20.34.55;	author troth;	state Exp;
branches;
next	1.57;

1.57
date	2002.04.25.02.44.05;	author thorpej;	state Exp;
branches;
next	1.56;

1.56
date	2002.03.01.18.35.23;	author obrien;	state Exp;
branches
	1.56.2.1;
next	1.55;

1.55
date	2002.02.28.16.58.12;	author drow;	state Exp;
branches;
next	1.54;

1.54
date	2002.02.27.07.07.35;	author drow;	state Exp;
branches;
next	1.53;

1.53
date	2002.02.19.14.04.41;	author rearnsha;	state Exp;
branches;
next	1.52;

1.52
date	2002.02.14.05.31.46;	author drow;	state Exp;
branches;
next	1.51;

1.51
date	2002.01.24.02.48.04;	author aoliva;	state Exp;
branches;
next	1.50;

1.50
date	2002.01.20.09.10.27;	author aj;	state Exp;
branches;
next	1.49;

1.49
date	2002.01.15.01.52.37;	author cagney;	state Exp;
branches;
next	1.48;

1.48
date	2002.01.05.05.54.29;	author cagney;	state Exp;
branches;
next	1.47;

1.47
date	2001.12.21.09.53.58;	author orjanf;	state Exp;
branches;
next	1.46;

1.46
date	2001.12.17.16.23.02;	author fnasser;	state Exp;
branches;
next	1.45;

1.45
date	2001.12.13.13.34.39;	author corinna;	state Exp;
branches;
next	1.44;

1.44
date	2001.12.01.23.06.46;	author cagney;	state Exp;
branches;
next	1.43;

1.43
date	2001.12.01.22.34.11;	author cagney;	state Exp;
branches;
next	1.42;

1.42
date	2001.12.01.22.19.30;	author cagney;	state Exp;
branches;
next	1.41;

1.41
date	2001.12.01.22.02.02;	author cagney;	state Exp;
branches;
next	1.40;

1.40
date	2001.12.01.21.11.41;	author cagney;	state Exp;
branches;
next	1.39;

1.39
date	2001.12.01.21.01.57;	author cagney;	state Exp;
branches;
next	1.38;

1.38
date	2001.12.01.19.34.37;	author cagney;	state Exp;
branches;
next	1.37;

1.37
date	2001.12.01.19.10.00;	author cagney;	state Exp;
branches;
next	1.36;

1.36
date	2001.11.23.23.01.53;	author kettenis;	state Exp;
branches;
next	1.35;

1.35
date	2001.08.12.03.39.11;	author cagney;	state Exp;
branches;
next	1.34;

1.34
date	2001.07.19.05.10.38;	author cagney;	state Exp;
branches;
next	1.33;

1.33
date	2001.07.16.08.52.41;	author orjanf;	state Exp;
branches;
next	1.32;

1.32
date	2001.07.11.17.58.14;	author cagney;	state Exp;
branches;
next	1.31;

1.31
date	2001.07.10.20.41.54;	author drow;	state Exp;
branches;
next	1.30;

1.30
date	2001.06.15.19.23.45;	author cagney;	state Exp;
branches;
next	1.29;

1.29
date	2001.06.07.15.57.57;	author eliz;	state Exp;
branches;
next	1.28;

1.28
date	2001.04.17.21.20.48;	author cagney;	state Exp;
branches;
next	1.27;

1.27
date	2001.04.11.22.39.07;	author cagney;	state Exp;
branches;
next	1.26;

1.26
date	2001.04.06.16.25.21;	author cagney;	state Exp;
branches;
next	1.25;

1.25
date	2001.04.05.14.49.28;	author cagney;	state Exp;
branches;
next	1.24;

1.24
date	2001.04.03.21.56.01;	author cagney;	state Exp;
branches;
next	1.23;

1.23
date	2001.04.03.21.14.36;	author cagney;	state Exp;
branches;
next	1.22;

1.22
date	2001.04.02.20.57.26;	author cagney;	state Exp;
branches;
next	1.21;

1.21
date	2001.03.09.03.56.03;	author cagney;	state Exp;
branches;
next	1.20;

1.20
date	2001.03.06.00.52.31;	author kevinb;	state Exp;
branches;
next	1.19;

1.19
date	2001.02.27.17.04.45;	author cagney;	state Exp;
branches;
next	1.18;

1.18
date	2001.02.08.06.30.23;	author cagney;	state Exp;
branches;
next	1.17;

1.17
date	2001.01.30.23.37.07;	author jtc;	state Exp;
branches;
next	1.16;

1.16
date	2000.12.14.20.15.45;	author jtc;	state Exp;
branches;
next	1.15;

1.15
date	2000.12.08.19.46.06;	author jtc;	state Exp;
branches;
next	1.14;

1.14
date	2000.11.26.20.04.41;	author nickc;	state Exp;
branches;
next	1.13;

1.13
date	2000.07.27.07.18.31;	author cagney;	state Exp;
branches;
next	1.12;

1.12
date	2000.06.13.15.21.27;	author law;	state Exp;
branches;
next	1.11;

1.11
date	2000.06.02.23.15.28;	author jtc;	state Exp;
branches;
next	1.10;

1.10
date	2000.05.31.20.54.55;	author kettenis;	state Exp;
branches;
next	1.9;

1.9
date	2000.05.24.04.16.27;	author jtc;	state Exp;
branches;
next	1.8;

1.8
date	2000.05.18.23.43.57;	author jtc;	state Exp;
branches;
next	1.7;

1.7
date	2000.05.01.16.12.10;	author shebs;	state Exp;
branches;
next	1.6;

1.6
date	2000.04.20.21.13.19;	author scottb;	state Exp;
branches;
next	1.5;

1.5
date	2000.03.21.05.26.31;	author kevinb;	state Exp;
branches
	1.5.2.1;
next	1.4;

1.4
date	2000.02.24.03.31.45;	author cgf;	state Exp;
branches;
next	1.3;

1.3
date	2000.02.22.01.17.29;	author kevinb;	state Exp;
branches;
next	1.2;

1.2
date	2000.02.13.01.06.57;	author kingdon;	state Exp;
branches;
next	1.1;

1.1
date	99.04.16.01.33.59;	author shebs;	state Exp;
branches
	1.1.1.1;
next	;

1.254.2.1
date	2012.07.25.15.35.55;	author corsepiu;	state Exp;
branches;
next	1.254.2.2;

1.254.2.2
date	2012.08.01.19.48.44;	author tromey;	state Exp;
branches;
next	;

1.206.2.1
date	2008.12.26.21.09.13;	author msnyder;	state Exp;
branches;
next	;

1.203.4.1
date	2008.07.20.14.30.09;	author teawater;	state Exp;
branches;
next	;

1.203.6.1
date	2008.10.04.19.48.43;	author msnyder;	state Exp;
branches;
next	;

1.200.6.1
date	2009.03.09.20.36.07;	author amylaar;	state Exp;
branches;
next	1.200.6.2;

1.200.6.2
date	2009.09.11.04.45.46;	author amylaar;	state Exp;
branches;
next	;

1.178.2.1
date	2006.11.24.19.54.15;	author uweigand;	state Exp;
branches;
next	1.178.2.2;

1.178.2.2
date	2006.11.24.20.11.07;	author uweigand;	state Exp;
branches;
next	;

1.172.4.1
date	2006.08.28.07.48.49;	author nickrob;	state Exp;
branches;
next	;

1.170.2.1
date	2006.03.20.22.45.13;	author mmitchel;	state Exp;
branches;
next	1.170.2.2;

1.170.2.2
date	2006.03.31.16.21.03;	author nathan;	state Exp;
branches
	1.170.2.2.2.1;
next	1.170.2.3;

1.170.2.3
date	2006.06.05.14.51.35;	author nathan;	state Exp;
branches;
next	1.170.2.4;

1.170.2.4
date	2006.06.05.15.31.10;	author nathan;	state Exp;
branches;
next	;

1.170.2.2.2.1
date	2006.04.12.18.11.39;	author drow;	state Exp;
branches;
next	;

1.169.2.1
date	2005.10.20.03.35.18;	author pbrook;	state Exp;
branches;
next	;

1.161.2.1
date	2005.03.25.22.02.37;	author drow;	state Exp;
branches;
next	1.161.2.2;

1.161.2.2
date	2005.04.25.20.43.39;	author pbrook;	state Exp;
branches;
next	;

1.133.2.1
date	2004.03.27.17.37.45;	author drow;	state Exp;
branches;
next	1.133.2.2;

1.133.2.2
date	2004.09.16.17.00.59;	author drow;	state Exp;
branches;
next	;

1.116.4.1
date	2003.09.18.20.14.17;	author kettenis;	state Exp;
branches;
next	1.116.4.2;

1.116.4.2
date	2003.10.25.18.42.28;	author kettenis;	state Exp;
branches;
next	1.116.4.3;

1.116.4.3
date	2003.11.02.20.26.32;	author kettenis;	state Exp;
branches;
next	1.116.4.4;

1.116.4.4
date	2003.11.02.20.54.47;	author kettenis;	state Exp;
branches;
next	1.116.4.5;

1.116.4.5
date	2003.11.15.21.27.05;	author kettenis;	state Exp;
branches;
next	1.116.4.6;

1.116.4.6
date	2003.12.15.20.00.31;	author kettenis;	state Exp;
branches;
next	1.116.4.7;

1.116.4.7
date	2003.12.26.23.42.59;	author kettenis;	state Exp;
branches;
next	;

1.107.4.1
date	2003.08.01.21.56.58;	author cagney;	state Exp;
branches;
next	1.107.4.2;

1.107.4.2
date	2003.08.18.18.10.52;	author kettenis;	state Exp;
branches;
next	1.107.4.3;

1.107.4.3
date	2003.08.25.22.57.50;	author cgd;	state Exp;
branches;
next	;

1.104.2.1
date	2003.05.28.16.51.21;	author jimb;	state Exp;
branches;
next	1.104.2.2;

1.104.2.2
date	2003.05.29.06.30.20;	author jimb;	state Exp;
branches;
next	1.104.2.3;

1.104.2.3
date	2003.05.29.21.33.04;	author jimb;	state Exp;
branches;
next	1.104.2.4;

1.104.2.4
date	2003.05.29.23.06.58;	author jimb;	state Exp;
branches;
next	;

1.103.2.1
date	2003.05.13.00.08.57;	author jimb;	state Exp;
branches;
next	;

1.102.2.1
date	2003.05.18.09.44.00;	author kettenis;	state Exp;
branches;
next	;

1.99.2.1
date	2003.04.10.21.33.47;	author cagney;	state Exp;
branches;
next	;

1.98.10.1
date	2003.03.30.16.35.19;	author cagney;	state Exp;
branches;
next	;

1.85.2.1
date	2002.10.20.12.14.39;	author kettenis;	state Exp;
branches;
next	;

1.85.4.1
date	2002.10.25.23.49.53;	author carlton;	state Exp;
branches;
next	1.85.4.2;

1.85.4.2
date	2003.02.07.19.17.47;	author carlton;	state Exp;
branches;
next	1.85.4.3;

1.85.4.3
date	2003.04.16.19.56.51;	author carlton;	state Exp;
branches;
next	1.85.4.4;

1.85.4.4
date	2003.05.23.18.40.35;	author carlton;	state Exp;
branches;
next	1.85.4.5;

1.85.4.5
date	2003.06.27.21.49.51;	author carlton;	state Exp;
branches;
next	1.85.4.6;

1.85.4.6
date	2003.08.05.17.13.04;	author carlton;	state Exp;
branches;
next	1.85.4.7;

1.85.4.7
date	2003.09.17.21.28.13;	author carlton;	state Exp;
branches;
next	1.85.4.8;

1.85.4.8
date	2003.11.11.23.50.39;	author carlton;	state Exp;
branches;
next	1.85.4.9;

1.85.4.9
date	2003.12.16.00.00.25;	author carlton;	state Exp;
branches;
next	1.85.4.10;

1.85.4.10
date	2004.01.26.19.11.21;	author carlton;	state Exp;
branches;
next	;

1.85.6.1
date	2002.10.26.17.12.05;	author drow;	state Exp;
branches;
next	1.85.6.2;

1.85.6.2
date	2003.12.14.20.27.10;	author drow;	state Exp;
branches;
next	1.85.6.3;

1.85.6.3
date	2004.01.13.16.11.53;	author drow;	state Exp;
branches;
next	1.85.6.4;

1.85.6.4
date	2004.02.09.19.43.35;	author drow;	state Exp;
branches;
next	;

1.67.2.1
date	2002.06.20.01.32.16;	author kseitz;	state Exp;
branches;
next	1.67.2.2;

1.67.2.2
date	2002.07.22.21.46.57;	author kseitz;	state Exp;
branches;
next	1.67.2.3;

1.67.2.3
date	2002.08.09.18.34.23;	author kseitz;	state Exp;
branches;
next	1.67.2.4;

1.67.2.4
date	2002.08.30.22.52.43;	author kseitz;	state Exp;
branches;
next	1.67.2.5;

1.67.2.5
date	2002.10.01.00.46.06;	author kseitz;	state Exp;
branches;
next	1.67.2.6;

1.67.2.6
date	2002.11.04.00.17.30;	author ezannoni;	state Exp;
branches;
next	;

1.64.2.1
date	2002.06.15.16.42.51;	author cagney;	state Exp;
branches;
next	1.64.2.2;

1.64.2.2
date	2002.06.25.20.02.40;	author cagney;	state Exp;
branches;
next	1.64.2.3;

1.64.2.3
date	2002.07.03.18.43.57;	author cagney;	state Exp;
branches;
next	;

1.56.2.1
date	2002.05.29.02.36.55;	author troth;	state Exp;
branches;
next	;

1.5.2.1
date	2000.04.20.21.12.11;	author scottb;	state Exp;
branches;
next	1.5.2.2;

1.5.2.2
date	2000.05.01.16.30.55;	author shebs;	state Exp;
branches;
next	;

1.1.1.1
date	99.04.16.01.33.59;	author shebs;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	99.04.26.18.23.52;	author shebs;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	99.06.07.19.17.12;	author jsm;	state Exp;
branches;
next	1.1.1.4;

1.1.1.4
date	99.06.28.16.00.20;	author jsm;	state Exp;
branches;
next	1.1.1.5;

1.1.1.5
date	99.07.07.17.20.31;	author jsm;	state Exp;
branches;
next	1.1.1.6;

1.1.1.6
date	99.07.12.11.05.56;	author jsm;	state Exp;
branches;
next	1.1.1.7;

1.1.1.7
date	99.07.19.23.27.50;	author jsm;	state Exp;
branches;
next	1.1.1.8;

1.1.1.8
date	99.08.09.21.33.21;	author jsm;	state Exp;
branches;
next	1.1.1.9;

1.1.1.9
date	99.08.16.19.52.13;	author jsm;	state Exp;
branches;
next	1.1.1.10;

1.1.1.10
date	99.08.31.01.04.43;	author jsm;	state Exp;
branches;
next	1.1.1.11;

1.1.1.11
date	99.10.05.23.08.06;	author jsm;	state Exp;
branches;
next	1.1.1.12;

1.1.1.12
date	99.12.07.03.55.59;	author jsm;	state Exp;
branches;
next	1.1.1.13;

1.1.1.13
date	99.12.22.21.45.03;	author jsm;	state Exp;
branches;
next	1.1.1.14;

1.1.1.14
date	2000.01.11.03.07.19;	author jsm;	state Exp;
branches;
next	1.1.1.15;

1.1.1.15
date	2000.01.25.02.39.27;	author jsm;	state Exp;
branches;
next	;


desc
@@


1.281
log
@gdb/

	* arm-wince-tdep.c: Remove inclusion of "solib.h" and
	"solib-target.h".  Include "windows-tdep.h".
	(arm_wince_init_abi): Call windows_init_abi.  Remove call to
	set_solib_ops and set_gdbarch_has_dos_based_file_system.
	* configure.tgt (arm*-wince-pe | arm*-*-mingw32ce*): Append
	windows-tdep.o to gdb_target_obs.
@
text
@# Mappings from configurations to GDB target definitions.  This is
# invoked from the autoconf generated configure script.

# This file sets the following shell variables:
#  gdb_target_obs	target-specific object files to use
#  gdb_sim		simulator library for target
#  gdb_osabi		default OS ABI to use with target
#  build_gdbserver	set to "yes" if gdbserver supports target
#  gdb_have_gcore	set to "true"/"false" if this target can run gcore

# NOTE: Every file added to a gdb_target_obs variable for any target here
#       must also be added to either ALL_TARGET_OBS or ALL_64_TARGET_OBS
#	in Makefile.in!

case $targ in
 d10v-*-* | \
 hppa*-*-hiux* | \
 i[34567]86-ncr-* | \
 m68*-cisco*-* | \
 m68*-tandem-* | \
 m68*-*-os68k* | \
 mips*-*-pe | \
 rs6000-*-lynxos* | \
 sh*-*-pe | \
 null)
    echo "*** Configuration $targ is obsolete." >&2
    echo "*** Support has been REMOVED." >&2
    exit 1
    ;;
esac

# map target info into gdb names.

case "${targ}" in
aarch64*-*-elf)
	# Target: AArch64 embedded system
	gdb_target_obs="aarch64-tdep.o aarch64-newlib-tdep.o"
	;;

aarch64*-*-linux*)
	# Target: AArch64 linux
	gdb_target_obs="aarch64-tdep.o aarch64-linux-tdep.o \
			glibc-tdep.o linux-tdep.o solib-svr4.o \
			symfile-mem.o"
	build_gdbserver=yes
	;;

alpha*-*-osf*)
	# Target: Little-endian Alpha running OSF/1
	gdb_target_obs="alpha-tdep.o alpha-osf1-tdep.o alpha-mdebug-tdep.o"
	;;
alpha*-*-linux*)
	# Target: Little-endian Alpha running Linux
	gdb_target_obs="alpha-tdep.o alpha-mdebug-tdep.o alpha-linux-tdep.o \
			linux-tdep.o solib-svr4.o"
	;;
alpha*-*-freebsd* | alpha*-*-kfreebsd*-gnu)
	# Target: FreeBSD/alpha
	gdb_target_obs="alpha-tdep.o alpha-mdebug-tdep.o alphabsd-tdep.o \
			alphafbsd-tdep.o solib-svr4.o"
	;;
alpha*-*-netbsd* | alpha*-*-knetbsd*-gnu)
	# Target: NetBSD/alpha
	gdb_target_obs="alpha-tdep.o alpha-mdebug-tdep.o alphabsd-tdep.o \
			alphanbsd-tdep.o nbsd-tdep.o solib-svr4.o"
	;;
alpha*-*-openbsd*)
	# Target: OpenBSD/alpha
	gdb_target_obs="alpha-tdep.o alpha-mdebug-tdep.o alphabsd-tdep.o \
			alphanbsd-tdep.o alphaobsd-tdep.o nbsd-tdep.o \
			obsd-tdep.o solib-svr4.o"
	;;
alpha*-*-*)
	# Target: Alpha
	gdb_target_obs="alpha-tdep.o"
	;;

am33_2.0*-*-linux*)
	# Target: Matsushita mn10300 (AM33) running Linux
	gdb_target_obs="mn10300-tdep.o mn10300-linux-tdep.o linux-tdep.o \
			solib-svr4.o"
	;;

arm*-wince-pe | arm*-*-mingw32ce*)
	# Target: ARM based machine running Windows CE (win32)
	gdb_target_obs="arm-tdep.o arm-wince-tdep.o windows-tdep.o"
	build_gdbserver=yes
	;;
arm*-*-linux*)
	# Target: ARM based machine running GNU/Linux
	gdb_target_obs="arm-tdep.o arm-linux-tdep.o glibc-tdep.o \
			solib-svr4.o symfile-mem.o linux-tdep.o"
	build_gdbserver=yes
	;;
arm*-*-netbsd* | arm*-*-knetbsd*-gnu)
	# Target: NetBSD/arm
	gdb_target_obs="arm-tdep.o armnbsd-tdep.o solib-svr4.o"
	;;
arm*-*-openbsd*)
	# Target: OpenBSD/arm
	gdb_target_obs="arm-tdep.o armbsd-tdep.o armobsd-tdep.o obsd-tdep.o \
			solib-svr4.o"
	;;
arm*-*-symbianelf*)
	# Target: SymbianOS/arm
	gdb_target_obs="arm-tdep.o arm-symbian-tdep.o"
	;;
arm*-*-*)
	# Target: ARM embedded system
	gdb_target_obs="arm-tdep.o"
	gdb_sim=../sim/arm/libsim.a
	;;

avr-*-*)
	# Target: AVR
	gdb_target_obs="avr-tdep.o"
	gdb_sim=../sim/avr/libsim.a
	;;

bfin-*-*linux*)
	# Target: Blackfin Linux
	gdb_target_obs="bfin-tdep.o bfin-linux-tdep.o linux-tdep.o"
	gdb_sim=../sim/bfin/libsim.a
	build_gdbserver=yes
	;;
bfin-*-*)
	# Target: Blackfin processor
	gdb_target_obs="bfin-tdep.o"
	gdb_sim=../sim/bfin/libsim.a
	;;

cris*)
	# Target: CRIS
	gdb_target_obs="cris-tdep.o cris-linux-tdep.o linux-tdep.o solib-svr4.o"
	;;

frv-*-*)
	# Target: Fujitsu FRV processor
	gdb_target_obs="frv-tdep.o frv-linux-tdep.o linux-tdep.o solib-frv.o"
	gdb_sim=../sim/frv/libsim.a
	;;

moxie-*-elf | moxie-*-rtems*)
	gdb_target_obs="moxie-tdep.o"
	gdb_sim=../sim/moxie/libsim.a
	;;

h8300-*-*)
	# Target: H8300 with HMS monitor and H8 simulator
	gdb_target_obs="h8300-tdep.o monitor.o dsrec.o"
	gdb_sim=../sim/h8300/libsim.a
	;;

hppa*-*-hpux*)
	# Target: HP PA-RISC running hpux
	gdb_target_obs="hppa-tdep.o hppa-hpux-tdep.o solib-som.o solib-pa64.o"
	;;
hppa*-*-linux*)
	# Target: HP PA-RISC running Linux
	gdb_target_obs="hppa-tdep.o hppa-linux-tdep.o glibc-tdep.o \
			linux-tdep.o solib-svr4.o symfile-mem.o"
	;;
hppa*-*-netbsd*)
	# Target: NetBSD/hppa
	gdb_target_obs="hppa-tdep.o hppabsd-tdep.o hppanbsd-tdep.o solib-svr4.o"
	;;
hppa*-*-openbsd*)
	# Target: OpenBSD/hppa
	gdb_target_obs="hppa-tdep.o hppabsd-tdep.o hppaobsd-tdep.o solib-svr4.o"
	;;
hppa*-*-*)
	# Target: HP PA-RISC
	gdb_target_obs="hppa-tdep.o"
	;;

i[34567]86-*-darwin*)
	# Target: Darwin/i386
	gdb_target_obs="i386-tdep.o i387-tdep.o \
			i386-darwin-tdep.o solib-darwin.o"
	if test "x$enable_64_bit_bfd" = "xyes"; then
	    # Target: GNU/Linux x86-64
	    gdb_target_obs="amd64-tdep.o amd64-darwin-tdep.o ${gdb_target_obs}"
	fi
	;;
i[34567]86-*-dicos*)
	# Target: DICOS/i386
	gdb_target_obs="i386-tdep.o i387-tdep.o dicos-tdep.o i386-dicos-tdep.o"
	;;
i[34567]86-*-freebsd* | i[34567]86-*-kfreebsd*-gnu)
	# Target: FreeBSD/i386
	gdb_target_obs="i386-tdep.o i387-tdep.o i386bsd-tdep.o i386fbsd-tdep.o \
			bsd-uthread.o solib-svr4.o"
	;;
i[34567]86-*-netbsd* | i[34567]86-*-knetbsd*-gnu)
	# Target: NetBSD/i386
	gdb_target_obs="i386-tdep.o i387-tdep.o i386bsd-tdep.o i386nbsd-tdep.o \
			nbsd-tdep.o solib-svr4.o"
	;;
i[34567]86-*-openbsd*)
	# Target: OpenBSD/i386
	gdb_target_obs="i386-tdep.o i387-tdep.o i386bsd-tdep.o i386obsd-tdep.o \
			bsd-uthread.o solib-svr4.o"
	;;
i[34567]86-*-nto*)
	# Target: Intel 386 running qnx6.
	gdb_target_obs="i386-tdep.o i387-tdep.o solib-svr4.o \
			i386-nto-tdep.o nto-tdep.o"
	build_gdbserver=yes
	;;
i[34567]86-*-solaris2.1[0-9]* | x86_64-*-solaris2.1[0-9]*)
	# Target: Solaris x86_64
	gdb_target_obs="i386-tdep.o i387-tdep.o amd64-tdep.o amd64-sol2-tdep.o \
			i386-sol2-tdep.o sol2-tdep.o solib-svr4.o"
	;;
i[34567]86-*-solaris*)
	# Target: Solaris x86
	gdb_target_obs="i386-tdep.o i387-tdep.o i386-sol2-tdep.o sol2-tdep.o \
			solib-svr4.o"
	;;
i[34567]86-*-linux*)
	# Target: Intel 386 running GNU/Linux
	gdb_target_obs="i386-tdep.o i386-linux-tdep.o glibc-tdep.o i387-tdep.o \
			solib-svr4.o symfile-mem.o \
			linux-tdep.o linux-record.o"
	if test "x$enable_64_bit_bfd" = "xyes"; then
	    # Target: GNU/Linux x86-64
	    gdb_target_obs="amd64-tdep.o amd64-linux-tdep.o ${gdb_target_obs}"
	fi
	build_gdbserver=yes
	;;
i[34567]86-*-gnu*)
	# Target: Intel 386 running the GNU Hurd
	gdb_target_obs="i386-tdep.o i387-tdep.o i386gnu-tdep.o solib-svr4.o"
	;;
i[34567]86-*-cygwin*)
	# Target: Intel 386 running win32
	gdb_target_obs="i386-tdep.o i386-cygwin-tdep.o i387-tdep.o \
			windows-tdep.o"
	build_gdbserver=yes
	;;
i[34567]86-*-mingw32*)
	# Target: Intel 386 running win32
	gdb_target_obs="i386-tdep.o i386-cygwin-tdep.o i387-tdep.o \
			windows-tdep.o"
	build_gdbserver=yes
	;;
i[34567]86-*-*)
	# Target: i386
	gdb_target_obs="i386-tdep.o i387-tdep.o"
	;;

ia64-*-hpux*)
	# Target: Intel IA-64 running HP-UX
	gdb_target_obs="ia64-tdep.o ia64-hpux-tdep.o"
	;;
ia64-*-linux*)
	# Target: Intel IA-64 running GNU/Linux
	gdb_target_obs="ia64-tdep.o ia64-linux-tdep.o linux-tdep.o \
			solib-svr4.o symfile-mem.o"
	build_gdbserver=yes
	;;
ia64-*-*vms*)
	# Target: Intel IA-64 running OpenVMS
	gdb_target_obs="ia64-tdep.o ia64-vms-tdep.o"
	;;
ia64*-*-*)
	# Target: Intel IA-64
	gdb_target_obs="ia64-tdep.o"
	;;

iq2000-*-*)
	gdb_target_obs="iq2000-tdep.o"
	gdb_sim=../sim/iq2000/libsim.a
	;;

lm32-*-*)		
	gdb_target_obs="lm32-tdep.o" 
	gdb_sim=../sim/lm32/libsim.a
	;;

m32c-*-*)
	# Target: Renesas M32C family
	gdb_target_obs="m32c-tdep.o"
	# There may also be a SID / CGEN simulator for this,
	# but we do have DJ Delorie's mini-sim.
	gdb_sim=../sim/m32c/libsim.a
	;;

m32r*-*-linux*)
	# Target: Renesas M32R running GNU/Linux
	gdb_target_obs="m32r-tdep.o m32r-linux-tdep.o remote-m32r-sdi.o \
			glibc-tdep.o solib-svr4.o symfile-mem.o \
			linux-tdep.o"
	gdb_sim=../sim/m32r/libsim.a
	build_gdbserver=yes
	;;
m32r*-*-*)
	# Target: Renesas m32r processor
	gdb_target_obs="m32r-tdep.o monitor.o m32r-rom.o dsrec.o \
			remote-m32r-sdi.o"
	gdb_sim=../sim/m32r/libsim.a
	;;

m68hc11*-*-*|m6811*-*-*)
	# Target: Motorola 68HC11 processor
	gdb_target_obs="m68hc11-tdep.o"
	gdb_sim=../sim/m68hc11/libsim.a
	;;

m68*-*-aout* | m68*-*-coff* | m68*-*-elf* | m68*-*-rtems* | m68*-*-uclinux* | \
fido-*-elf*)
	# Target: Motorola m68k embedded (e.g. bug monitors)
	gdb_target_obs="m68k-tdep.o monitor.o dbug-rom.o dsrec.o"
	;;
m68*-*-linux*)
	# Target: Motorola m68k with a.out and ELF
	gdb_target_obs="m68k-tdep.o m68klinux-tdep.o solib-svr4.o \
			linux-tdep.o glibc-tdep.o symfile-mem.o"
	build_gdbserver=yes
	;;
m68*-*-netbsd* | m68*-*-knetbsd*-gnu)
	# Target: NetBSD/m68k
	gdb_target_obs="m68k-tdep.o m68kbsd-tdep.o solib-svr4.o"
	;;
m68*-*-openbsd*)
	# Target: OpenBSD/m68k
	gdb_target_obs="m68k-tdep.o m68kbsd-tdep.o solib-svr4.o"
	;;

m88*-*-openbsd*)
	# Target: OpenBSD/m88k
	gdb_target_obs="m88k-tdep.o"
	;;

mep-*-*)
	# Target: Toshiba Media Processor (MEP)
	gdb_target_obs="mep-tdep.o"
	# No sim needed. Target uses SID.
	;;

microblaze*-linux-*|microblaze*-*-linux*)
	# Target: Xilinx MicroBlaze running Linux
	gdb_target_obs="microblaze-tdep.o microblaze-linux-tdep.o microblaze-rom.o \
			monitor.o dsrec.o solib-svr4.o symfile-mem.o linux-tdep.o"
	gdb_sim=../sim/microblaze/libsim.a
	;;
microblaze*-*-*)
	# Target: Xilinx MicroBlaze running standalone
	gdb_target_obs="microblaze-tdep.o microblaze-rom.o monitor.o dsrec.o"
	gdb_sim=../sim/microblaze/libsim.a
	;;

mips*-sgi-irix5*)
	# Target: MIPS SGI running Irix 5
	gdb_target_obs="mips-tdep.o mips-irix-tdep.o solib-irix.o"
	;;
mips*-sgi-irix6*)
	# Target: MIPS SGI running Irix 6.x
	gdb_target_obs="mips-tdep.o mips-irix-tdep.o solib-irix.o"
	;;
mips*-*-linux*)
	# Target: Linux/MIPS
	gdb_target_obs="mips-tdep.o mips-linux-tdep.o glibc-tdep.o \
			solib-svr4.o symfile-mem.o linux-tdep.o"
	gdb_sim=../sim/mips/libsim.a
	build_gdbserver=yes
	;;
mips*-*-netbsd* | mips*-*-knetbsd*-gnu)
	# Target: MIPS running NetBSD
	gdb_target_obs="mips-tdep.o mipsnbsd-tdep.o solib-svr4.o nbsd-tdep.o"
	gdb_sim=../sim/mips/libsim.a
	;;
mips64*-*-openbsd*)
	# Target: OpenBSD/mips64
	gdb_target_obs="mips-tdep.o mips64obsd-tdep.o solib-svr4.o"
	;;
mips*-*-elf)
	# Target: MIPS ELF
	gdb_target_obs="mips-tdep.o remote-mips.o"
	gdb_sim=../sim/mips/libsim.a
	;;
mips*-*-*)
	# Target: MIPS
	gdb_target_obs="mips-tdep.o"
	gdb_sim=../sim/mips/libsim.a
	;;

mn10300-*-*)
	# Target: Matsushita mn10300
	gdb_target_obs="mn10300-tdep.o"
	gdb_sim=../sim/mn10300/libsim.a
	;;

msp430*-*-elf)
	gdb_target_obs="msp430-tdep.o"
	gdb_sim=../sim/msp430/libsim.a
	;;

mt-*-*)
	# Target: Morpho Technologies ms1 processor
	gdb_target_obs="mt-tdep.o"
	;;

nios2*-*-linux*)
	# Target: Altera Nios II running Linux
	gdb_target_obs="nios2-tdep.o nios2-linux-tdep.o solib-svr4.o \
			symfile-mem.o glibc-tdep.o linux-tdep.o"
	;;

nios2*-*-*)
	# Target: Altera Nios II bare-metal
	gdb_target_obs="nios2-tdep.o"
	;;

powerpc*-*-freebsd*)
	# Target: FreeBSD/powerpc
	gdb_target_obs="rs6000-tdep.o ppc-sysv-tdep.o ppc64-tdep.o \
		        ppcfbsd-tdep.o solib-svr4.o \
			ravenscar-thread.o ppc-ravenscar-thread.o"
	;;

powerpc-*-netbsd* | powerpc-*-knetbsd*-gnu)
	# Target: NetBSD/powerpc
	gdb_target_obs="rs6000-tdep.o ppc-sysv-tdep.o ppcnbsd-tdep.o \
			solib-svr4.o \
			ravenscar-thread.o ppc-ravenscar-thread.o"
	gdb_sim=../sim/ppc/libsim.a
	;;
powerpc-*-openbsd*)
	# Target: OpenBSD/powerpc
	gdb_target_obs="rs6000-tdep.o ppc-sysv-tdep.o ppcobsd-tdep.o \
			solib-svr4.o \
			ravenscar-thread.o ppc-ravenscar-thread.o"
	;;
powerpc-*-aix* | rs6000-*-* | powerpc64-*-aix*)
	# Target: PowerPC running AIX
	gdb_target_obs="rs6000-tdep.o rs6000-aix-tdep.o xcoffread.o \
			ppc-sysv-tdep.o solib-aix.o \
			ravenscar-thread.o ppc-ravenscar-thread.o"
	;;
powerpc*-*-linux*)
	# Target: PowerPC running Linux
	gdb_target_obs="rs6000-tdep.o ppc-linux-tdep.o ppc-sysv-tdep.o \
			ppc64-tdep.o solib-svr4.o solib-spu.o \
			spu-multiarch.o \
			glibc-tdep.o symfile-mem.o linux-tdep.o \
			ravenscar-thread.o ppc-ravenscar-thread.o"
	gdb_sim=../sim/ppc/libsim.a
	build_gdbserver=yes
	;;
powerpc-*-lynx*178)
	# Target: PowerPC running Lynx178.
	gdb_target_obs="rs6000-tdep.o rs6000-lynx178-tdep.o \
			xcoffread.o monitor.o dsrec.o ppc-sysv-tdep.o \
			ravenscar-thread.o ppc-ravenscar-thread.o"
	;;
powerpc*-*-*)
	# Target: PowerPC running eabi
	gdb_target_obs="rs6000-tdep.o monitor.o dsrec.o ppcbug-rom.o \
			dink32-rom.o ppc-sysv-tdep.o solib-svr4.o \
			ravenscar-thread.o ppc-ravenscar-thread.o"
	if test -f ../sim/ppc/Makefile; then
	  gdb_sim=../sim/ppc/libsim.a
	fi
	;;

s390*-*-*)
	# Target: S390 running Linux
	gdb_target_obs="s390-tdep.o solib-svr4.o linux-tdep.o"
	build_gdbserver=yes
	;;

rl78-*-elf)
	# Target: Renesas rl78
	gdb_target_obs="rl78-tdep.o"
	gdb_sim=../sim/rl78/libsim.a
	;;

rx-*-elf)
	# Target: Renesas RX
	gdb_target_obs="rx-tdep.o"
	gdb_sim=../sim/rx/libsim.a
	;;

score-*-*)
	# Target: S+core embedded system
	gdb_target_obs="score-tdep.o"
	if test -f ../sim/score/Makefile; then
	  gdb_sim=../sim/score/libsim.a
	fi
	build_gdbserver=yes
	;;

sh*-*-linux*)
	# Target: GNU/Linux Super-H
	gdb_target_obs="sh-tdep.o sh64-tdep.o sh-linux-tdep.o monitor.o \
			dsrec.o solib-svr4.o symfile-mem.o \
			glibc-tdep.o linux-tdep.o"
	gdb_sim=../sim/sh/libsim.a
	build_gdbserver=yes
	;;
sh*-*-netbsdelf* | sh*-*-knetbsd*-gnu)
	# Target: NetBSD/sh
	gdb_target_obs="sh-tdep.o shnbsd-tdep.o solib-svr4.o"
	gdb_sim=../sim/sh/libsim.a
	;;
sh*-*-openbsd*)
	# Target: OpenBSD/sh
	gdb_target_obs="sh-tdep.o sh64-tdep.o shnbsd-tdep.o solib-svr4.o"
	;;
sh64-*-elf*)
	# Target: Renesas/Super-H 64 bit with simulator
	gdb_target_obs="sh-tdep.o sh64-tdep.o"
	gdb_sim=../sim/sh64/libsim.a
	;;
sh*)
	# Target: Embedded Renesas Super-H with ICE and simulator
	gdb_target_obs="sh-tdep.o sh64-tdep.o monitor.o dsrec.o"
	gdb_sim=../sim/sh/libsim.a
	;;

sparc-*-linux*)
	# Target: GNU/Linux SPARC
	gdb_target_obs="sparc-tdep.o sparc-sol2-tdep.o sol2-tdep.o \
			sparc-linux-tdep.o solib-svr4.o symfile-mem.o \
			linux-tdep.o \
			ravenscar-thread.o sparc-ravenscar-thread.o"
	if test "x$enable_64_bit_bfd" = "xyes"; then
	    # Target: GNU/Linux UltraSPARC
	    gdb_target_obs="sparc64-tdep.o sparc64-sol2-tdep.o \
			    sparc64-linux-tdep.o ${gdb_target_obs}"
	fi
	build_gdbserver=yes
	;;
sparc64-*-linux*)
	# Target: GNU/Linux UltraSPARC
	gdb_target_obs="sparc64-tdep.o sparc64-sol2-tdep.o sol2-tdep.o \
			sparc64-linux-tdep.o sparc-tdep.o sparc-sol2-tdep.o \
			sparc-linux-tdep.o solib-svr4.o linux-tdep.o \
			ravenscar-thread.o sparc-ravenscar-thread.o"
	build_gdbserver=yes
	;;
sparc*-*-freebsd* | sparc*-*-kfreebsd*-gnu)
	# Target: FreeBSD/sparc64
	gdb_target_obs="sparc-tdep.o sparc64-tdep.o sparc64fbsd-tdep.o \
			solib-svr4.o \
			ravenscar-thread.o sparc-ravenscar-thread.o"
	;;
sparc-*-netbsd* | sparc-*-knetbsd*-gnu)
	# Target: NetBSD/sparc
	gdb_target_obs="sparc-tdep.o sparcnbsd-tdep.o nbsd-tdep.o \
			solib-svr4.o \
			ravenscar-thread.o sparc-ravenscar-thread.o"
	;;
sparc64-*-netbsd* | sparc64-*-knetbsd*-gnu)
	# Target: NetBSD/sparc64
	gdb_target_obs="sparc64-tdep.o sparc64nbsd-tdep.o sparc-tdep.o \
			sparcnbsd-tdep.o nbsd-tdep.o solib-svr4.o \
			ravenscar-thread.o sparc-ravenscar-thread.o"
	;;
sparc-*-openbsd*)
	# Target: OpenBSD/sparc
	gdb_target_obs="sparc-tdep.o sparcnbsd-tdep.o sparcobsd-tdep.o \
			nbsd-tdep.o obsd-tdep.o bsd-uthread.o solib-svr4.o \
			ravenscar-thread.o sparc-ravenscar-thread.o"
	;;
sparc64-*-openbsd*)
	# Target: OpenBSD/sparc64
	gdb_target_obs="sparc64-tdep.o sparc64nbsd-tdep.o sparc64obsd-tdep.o \
			sparc-tdep.o sparcnbsd-tdep.o sparcobsd-tdep.o \
			nbsd-tdep.o obsd-tdep.o bsd-uthread.o solib-svr4.o \
			ravenscar-thread.o sparc-ravenscar-thread.o"
	;;
sparc-*-solaris2.[0-6] | sparc-*-solaris2.[0-6].*)
	# Target: Solaris SPARC
	gdb_target_obs="sparc-tdep.o sparc-sol2-tdep.o sol2-tdep.o \
			solib-svr4.o \
			ravenscar-thread.o sparc-ravenscar-thread.o"
	;;
sparc-*-solaris2* | sparcv9-*-solaris2* | sparc64-*-solaris2*)
	# Target: Solaris UltraSPARC
	gdb_target_obs="sparc64-tdep.o sparc64-sol2-tdep.o sparc-tdep.o \
			sparc-sol2-tdep.o sol2-tdep.o solib-svr4.o \
			ravenscar-thread.o sparc-ravenscar-thread.o"
	;;
sparc-*-*)
	# Target: SPARC
	gdb_target_obs="sparc-tdep.o \
			ravenscar-thread.o sparc-ravenscar-thread.o"
	gdb_sim=../sim/erc32/libsim.a
	;;
sparc64-*-*)
	# Target: UltraSPARC
	gdb_target_obs="sparc-tdep.o sparc64-tdep.o \
			ravenscar-thread.o sparc-ravenscar-thread.o"
	;;

spu*-*-*)
	# Target: Cell BE SPU
	gdb_target_obs="spu-tdep.o"
	build_gdbserver=yes
	;;

tic6x-*-*linux)
	# Target: GNU/Linux TI C6x
	gdb_target_obs="tic6x-tdep.o tic6x-linux-tdep.o solib-dsbt.o \
			glibc-tdep.o linux-tdep.o"
	;;

tic6x-*-*)
	# Target: TI C6X 
	gdb_target_obs="tic6x-tdep.o"
	;;

tilegx-*-linux*)
	# Target: TILE-Gx
	gdb_target_obs="tilegx-tdep.o tilegx-linux-tdep.o solib-svr4.o \
			symfile-mem.o glibc-tdep.o linux-tdep.o"
	build_gdbserver=yes
	;;

xstormy16-*-*)
	# Target: Sanyo Xstormy16a processor
	gdb_target_obs="xstormy16-tdep.o"
	# No simulator libraries are needed -- target uses SID.
	;;

v850*-*-elf | v850*-*-rtems*)
	# Target: NEC V850 processor
	gdb_target_obs="v850-tdep.o"
	gdb_sim=../sim/v850/libsim.a
	;;

vax-*-netbsd* | vax-*-knetbsd*-gnu)
	# Target: NetBSD/vax
	gdb_target_obs="vax-tdep.o vaxnbsd-tdep.o solib-svr4.o"
	;;
vax-*-openbsd*)
	# Target: OpenBSD/vax
	gdb_target_obs="vax-tdep.o vaxobsd-tdep.o"
	;;
vax-*-*)
	# Target: VAX running 4.2BSD or Ultrix
	gdb_target_obs="vax-tdep.o"
	;;

x86_64-*-darwin*)
	# Target: Darwin/x86-64
	gdb_target_obs="amd64-tdep.o i386-tdep.o i387-tdep.o \
			i386-darwin-tdep.o amd64-darwin-tdep.o \
                        solib-darwin.o"
	;;

x86_64-*-dicos*)
	# Target: DICOS/x86-64
	gdb_target_obs="amd64-tdep.o i386-tdep.o i387-tdep.o \
			dicos-tdep.o i386-dicos-tdep.o amd64-dicos-tdep.o"
	;;
x86_64-*-linux*)
	# Target: GNU/Linux x86-64
	gdb_target_obs="amd64-tdep.o amd64-linux-tdep.o i386-tdep.o \
			i387-tdep.o i386-linux-tdep.o glibc-tdep.o \
			solib-svr4.o symfile-mem.o linux-tdep.o linux-record.o"
	build_gdbserver=yes
	;;
x86_64-*-freebsd* | x86_64-*-kfreebsd*-gnu)
	# Target: FreeBSD/amd64
	gdb_target_obs="amd64-tdep.o amd64fbsd-tdep.o i386-tdep.o \
			i387-tdep.o i386bsd-tdep.o i386fbsd-tdep.o \
			bsd-uthread.o solib-svr4.o"
	;;
x86_64-*-mingw* | x86_64-*-cygwin*)
        # Target: MingW/amd64
	gdb_target_obs="amd64-tdep.o amd64-windows-tdep.o \
                        i386-tdep.o i386-cygwin-tdep.o i387-tdep.o \
                        windows-tdep.o"
	build_gdbserver=yes
        ;;
x86_64-*-netbsd* | x86_64-*-knetbsd*-gnu)
	# Target: NetBSD/amd64
	gdb_target_obs="amd64-tdep.o amd64nbsd-tdep.o i386-tdep.o i387-tdep.o \
			nbsd-tdep.o solib-svr4.o"
	;;
x86_64-*-openbsd*)
	# Target: OpenBSD/amd64
	gdb_target_obs="amd64-tdep.o amd64obsd-tdep.o i386-tdep.o \
			i387-tdep.o i386bsd-tdep.o i386obsd-tdep.o \
			bsd-uthread.o solib-svr4.o"
	;;
xtensa*-*-linux*)	gdb_target=linux
	# Target: GNU/Linux Xtensa
	gdb_target_obs="xtensa-tdep.o xtensa-config.o xtensa-linux-tdep.o \
			solib-svr4.o symfile-mem.o linux-tdep.o"
	build_gdbserver=yes
	;;
xtensa*)
	# Target: Tensilica Xtensa processors
	gdb_target_obs="xtensa-tdep.o xtensa-config.o solib-svr4.o"
	;;

esac

# map target onto default OS ABI

case "${targ}" in
*-*-freebsd* | *-*-kfreebsd*-gnu)
		gdb_osabi=GDB_OSABI_FREEBSD_ELF ;;
*-*-linux* | *-*-uclinux*)
		gdb_osabi=GDB_OSABI_LINUX ;;
*-*-nto*)	gdb_osabi=GDB_OSABI_QNXNTO ;;
m68*-*-openbsd* | m88*-*-openbsd* | vax-*-openbsd*) ;;
*-*-openbsd*)	gdb_osabi=GDB_OSABI_OPENBSD_ELF ;;
*-*-solaris*)	gdb_osabi=GDB_OSABI_SOLARIS ;;
*-*-*-gnu*)	;; # prevent non-GNU kernels to match the Hurd rule below
*-*-gnu*)	gdb_osabi=GDB_OSABI_HURD ;;
*-*-mingw32ce*)	gdb_osabi=GDB_OSABI_WINCE ;;
*-*-mingw* | *-*-cygwin*)
		gdb_osabi=GDB_OSABI_CYGWIN ;;
*-*-dicos*)	gdb_osabi=GDB_OSABI_DICOS ;;
*-*-symbianelf*)
		gdb_osabi=GDB_OSABI_SYMBIAN ;;
powerpc-*-aix* | rs6000-*-* | powerpc64-*-aix*)
                gdb_osabi=GDB_OSABI_AIX ;;
esac

# Check whether this target supports gcore.
# Such target has to call set_gdbarch_find_memory_regions.
gdb_have_gcore=false
for t in x ${gdb_target_obs}; do
  if test "$t" = linux-tdep.o; then
    gdb_have_gcore=true
  fi
done
@


1.280
log
@Extract Linux-specific portitions of cris-tdep.c to a new file.
This brings in some standard functionality hitherdo missing from
the CRIS/CRISv32 port thanks to the new call to gdbarch_init_osabi,
as well as clearly showing that there is Linux support for this
platform by virtue of the existence of a cris-linux-tdep.c file.

2013-09-06  Ricard Wanderlof  <ricardw@@axis.com>

	* Makefile.in (ALL_TARGET_OBS): Add cris-linux-tdep.o.
	* configure.tgt: Add cris-linux-tdep.o and linux-tdep.o to
	gdb_target_obs for cris target.
	* cris-tdep.c (struct gdbarch_tdep): Move to cris-tdep.h.
	(cris_gdbarch_init): Move calls to
	set_gdbarch_fetch_tls_load_module_address and
	set_solib_svr4_fetch_link_map_offsets to cris-linux-tdep.c.
	Add call to gdbarch_init_osabi.
	* cris-linux-tdep.c: New file.
	* cris-tdep.h: New file.
@
text
@d86 1
a86 1
	gdb_target_obs="arm-tdep.o arm-wince-tdep.o"
@


1.279
log
@	* configure.host: Support powerpc64le-linux and powerpcle-linux hosts.
	* configure.tgt: Likewise as targets.
@
text
@d134 1
a134 1
	gdb_target_obs="cris-tdep.o solib-svr4.o"
@


1.278
log
@2013-08-07  Raunaq Bathija  <raunaq12@@in.ibm.com>
	    Ulrich Weigand  <uweigand@@de.ibm.com>

	* configure.tgt (powerpc64-*-aix*): Match powerpc64 running aix.
	* configure.host (powerpc64-*-aix*): Likewise.
@
text
@d441 1
a441 1
powerpc-*-linux* | powerpc64-*-linux*)
@


1.277
log
@	* Makefile.in (ALL_TARGET_OBS): Add msp430-tdep.o.
	(ALLDEPFILES): Add msp430-tdep.c.
	* configure.tgt (msp430*-*-elf): New target.
	* msp430-tdep.c: New file.
@
text
@d435 1
a435 1
powerpc-*-aix* | rs6000-*-*)
d722 2
@


1.276
log
@2013-05-06  Sandra Loosemore  <sandra@@codesourcery.com>
	    Andrew Jenner  <andrew@@codesourcery.com>
	    Chung-Lin Tang  <cltang@@codesourcery.com>
	    Julian Brown  <julian@@codesourcery.com>

	Based on the nios2-elf port from Altera Corporation.

	gdb/
	* Makefile.in (ALL_TARGET_OBS): Add nios2-tdep.o and
	nios2-linux-tdep.o.
	(HFILES_NO_SRCDIR): Add nios2-tdep.h.
	(ALLDEPFILES): Add nios2-tdep.c and nios2-linux-tdep.c.
	* configure.tgt: Add nios2*-*-linux* and nios2*-*-* targets.
	* nios2-tdep.h: New.
	* nios2-tdep.c: New.
	* nios2-linux-tdep.c: New.
	* features/Makefile (WHICH): Add nios2-linux.
	(nios2-linux-expedite): Set.
	* features/nios2-cpu.xml: New.
	* features/nios2.xml: New.
	* features/nios2-linux.xml: New.
	* features/nios2.c: New (autogenerated).
	* features/nios2-linux.c: New (autogenerated).
	* regformats/nios2-linux.dat: New (autogenerated).
	* NEWS (Changes since GDB 7.6): Add new Nios II targets
	and commands.

	gdb/doc/
	* gdb.texinfo (Nios II): New section.
	(Nios II Features): New section.
@
text
@d394 5
@


1.275
log
@Reimplement shared library support on ppc-aix...

... using the target_so_ops framework.

gdb/ChangeLog:

        * target.h (TARGET_OBJECT_AIX_LIBRARIES): New target_object enum.
        * features/library-list-aix.dtd: New file.
        * solib-aix.h, solib-aix.c: New file.
        * rs6000-aix-tdep.c: #include "solib.h" and "solib-aix.h".
        (rs6000_find_toc_address_hook): Delete.
        (rs6000_push_dummy_call): Rewrite code setting the TOC value.
        (rs6000_aix_init_osabi): Register solib_aix_so_ops.
        * rs6000-nat.c: Remove "xcoffsolib.h" include.  Include
        "xml-utils.h".
        (map_vmap, vmap_exec, vmap_ldinfo, add_vmap, objfile_symbol_add)
        (vmap_symtab, fixup_breakpoints): Delete.
        (rs6000_xfer_shared_libraries): New function.
        (rs6000_xfer_partial): Add TARGET_OBJECT_AIX_LIBRARIES handling.
        (vmap_secs, bss_data_overlap, vmap_add_symbols): Delete.
        (xcoff_relocate_symtab, xcoff_relocate_core): Delete.
        (rs6000_ptrace_ldinfo, rs6000_core_ldinfo)
        (rs6000_xfer_shared_library): New function.
        (find_toc_address): Delete.
        (_initialize_rs6000_nat): Do not set rs6000_find_toc_address_hook.
        * rs6000-tdep.h (rs6000_find_toc_address_hook): Remove.
        * xcoffread.c (record_minimal_symbol): Reloate symbol address
        before creating minimal symbol.  Adjust function description
        accordingly.
        (scan_xcoff_symtab): Replace call to
        prim_record_minimal_symbol_and_info by call to
        record_minimal_symbol.
        (xcoff_symfile_offsets): Reimplement mostly as a wrapper
        around default_symfile_offsets.
        * configure.tgt: Add solib-aix.o to gdb_target_obs for
        powerpc-aix targets.
        * config/rs6000/nm-rs6000.h: Delete.
        * config/powerpc/aix.mh (NAT_FILE): Delete.
        (NATDEPFILES): Remove xcoffsolib.o.
        * Makefile.in (XMLFILES): Add library-list-aix.dtd.
        (ALL_TARGET_OBS): Add solib-aix.o.
        (HFILES_NO_SRCDIR): Remove xcoffsolib.h and
        config/rs6000/nm-rs6000.h.  Add solib-aix.h.
        (ALLDEPFILES): Add solib-aix.c.  Remove xcoffsolib.c.
        * xcoffsolib.h, xcoffsolib.c: Delete.

        * solib.c (reload_shared_libraries): Remove reference to
        SOLIB_CREATE_INFERIOR_HOOK.
        * breakpoint.c (handle_solib_event): Remove reference to SOLIB_ADD.
        (disable_breakpoints_in_shlibs): Remove reference to PC_SOLIB.
        (momentary_bkpt_re_set): Replace SOLIB_ADD by solib_add in
        comment.
        * corelow.c (deprecated_core_resize_section_table): Delete.
        * exec.c: Remove include of xcoffsolib.h".
        (map_vmap, vmap): Delete.
        (exec_close_1): Remove references to vmap.
        (exec_file_attach): Remove vmap handling code, and reference
        to DEPRECATED_IBM6000_TARGET.
        (bfdsec_to_vmap): Delete.
        (exec_files_info): Remove block of code handling VMAP.
        * infcmd.c (post_create_inferior): Remove reference to
        SOLIB_CREATE_INFERIOR_HOOK and SOLIB_ADD.
        * infrun.c (follow_exec): Remove reference to
        SOLIB_CREATE_INFERIOR_HOOK.
        * stack.c (print_frame): Remove reference to PC_SOLIB.
        * solib-dsbt.c (dsbt_current_sos): Adjust comment.
        (dsbt_relocate_main_executable): Likewise.
        * solib-frv.c (frv_current_sos): Likewise.

gdb/doc/ChangeLog:

        * gdbint.texinfo (Algorithms): Remove entries documenting
        DEPRECATED_IBM6000_TARGET, SOLIB_ADD, and
        SOLIB_CREATE_INFERIOR_HOOK.
@
text
@d399 11
@


1.274
log
@gdb/
	Fix parsing tabs in ${gdb_target_obs}.
	* configure.tgt (gdb_have_gcore): Replace case with for and if.
@
text
@d422 1
a422 1
			ppc-sysv-tdep.o \
@


1.273
log
@gdb/
	* Makefile.in (HAVE_NATIVE_GCORE_TARGET): New.
	(generated_files): Add gcore.
	(install-only, uninstall): Add gcore if HAVE_NATIVE_GCORE_TARGET or
	HAVE_NATIVE_GCORE_HOST.
	(gcore): New.
	* NEWS (Changes since GDB 7.6): Mention newly installed gcore.
	* config/alpha/alpha-osf3.mh, config/i386/fbsd.mh,
	config/i386/fbsd64.mh, config/i386/i386gnu.mh, config/i386/i386sol2.mh,
	config/i386/sol2-64.mh, config/mips/irix5.mh, config/mips/irix6.mh,
	config/powerpc/fbsd.mh, config/sparc/fbsd.mh, config/sparc/sol2.mh:
	Add HAVE_NATIVE_GCORE_HOST.
	* configure: Regenerate.
	* configure.ac (HAVE_NATIVE_GCORE_TARGET): New, set it, AC_SUBST it.
	New AC_SUBST fir GDB_TRANSFORM_NAME and GCORE_TRANSFORM_NAME.  New
	AC_CONFIG_FILES for gcore.
	* configure.tgt: Add gdb_have_gcore to the initial comment.  Set
	gdb_have_gcore.
	* gdb_gcore.sh: Rename to ...
	* gcore.in: ... here.  Remove gcore.sh comment.  Use GDB_TRANSFORM_NAME
	and GCORE_TRANSFORM_NAME substitutions.

gdb/doc/
	* Makefile.in (MAN1S): Add gcore.1.
	Remove "Host, target, and site specific Makefile fragments" comment.
	(@@host_makefile_frag@@, HAVE_NATIVE_GCORE_TARGET): New.
	(install-man1, uninstall-man1): Conditionalize gcore.1.
	(gcore.1): New.
	* gdb.texinfo (Man Pages): Add gcore man.
	(gcore man): New node.
@
text
@d710 3
a712 2
case " ${gdb_target_obs} " in
  *" linux-tdep.o "*)
d714 2
a715 5
    ;;
  *)
    gdb_have_gcore=false
    ;;
esac
@


1.272
log
@Remove solib-svr4.o from gdb_target_obs for ppc-aix.

gdb/ChangeLog:

        * configure.tgt (gdb_target_obs) <powerpc-*-aix* | rs6000-*-*>:
        Remove solib-svr4.o from the list.
@
text
@d9 1
d707 11
@


1.271
log
@	* configure.host: Add x86_64-*-cygwin* as host.
	* configure.tgt: Add x86_64-*-cygwin* as target.
	* config/i386/cygwin64.mh: New file.

	* gdbserver/configure.srv: Add x86_64-*-cygwin* as target.
@
text
@d421 1
a421 1
			ppc-sysv-tdep.o solib-svr4.o \
@


1.270
log
@  gdb/
      * configure.tgt (tilegx-*-linux*): Enable gdbserver.
@
text
@d655 1
a655 1
x86_64-*-mingw*)
@


1.269
log
@  gdb/
     * configure.tgt (tilegx-*-linux*): Replace whitespace with tab.
@
text
@d602 1
@


1.268
log
@Add moxie-*-rtems* support.
@
text
@d599 2
a600 2
        # Target: TILE-Gx
        gdb_target_obs="tilegx-tdep.o tilegx-linux-tdep.o solib-svr4.o \
d602 1
a602 1
        ;;
@


1.267
log
@2013-02-04  Andreas Tobler  <andreast@@fgznet.ch>

	* Makefile.in (ALL_TARGET_OBS): Add powerpc FreeBSD files.
	* configure.host: Add powerpc*-*-freebsd* target.
	* configure.tgt: Add target info for powerpc*-*-freebsd*.
	* ppcfbsd-nat.c, ppcfbsd-tdep.h, ppcfbsd-tdep.c: New files.
	* config/powerpc/fbsd.mh: New file.
@
text
@d142 1
a142 1
moxie-*-elf)
@


1.266
log
@AArch64 GDBserver support.

gdb/
        * configure.tgt (aarch64*-*-linux*): Set build_gdbserver=yes.

gdb/gdbserver/

        * Makefile.in (clean): Remove aarch64.c and aarch64-without-fpu.c.
        (aarch64.c, aarch64-without-fpu.c): New targets.
        * configure.srv (aarch64*-*-linux*): New.
        * linux-aarch64-low.c: New file.
@
text
@d398 7
@


1.265
log
@Adding aarch64-newlib-tdep support.

        * aarch64-newlib-tdep.c: New file.
        * configure.tgt: Add aarch64-newlib-tdep.o to gdb_target_obs of
        aarch64*-*-elf.
        * defs.h (enum gdb_osabi): Add GDB_OSABI_NEWLIB.
        * Makefile.in (ALL_64_TARGET_OBS): Add aarch64-newlib-tdep.o.
        (ALLDEPFILES): Add aarch64-newlib-tdep.c.
        * osabi.c (gdb_osabi_names): Add "Newlib".
@
text
@d44 1
@


1.264
log
@Adding aarch64-linux-tdep support.

2013-02-04  Jim MacArthur  <jim.macarthur@@arm.com>
            Marcus Shawcroft  <marcus.shawcroft@@arm.com>
            Nigel Stephens  <nigel.stephens@@arm.com>
            Yufeng Zhang  <yufeng.zhang@@arm.com>

        * Makefile.in (ALL_64_TARGET_OBS): Add aarch64-linux-tdep.o.
        (ALLDEPFILES): Add aarch64-linux-tdep.c.
        * aarch64-linux-tdep.c: New file.
        * aarch64-linux-tdep.h: New file.
        * aarch64-tdep.h (gdbarch_tdep): Define gregset and fpregset.
        * configure.tgt: Add aarch64-none-linux-gnu.
@
text
@d36 1
a36 1
	gdb_target_obs="aarch64-tdep.o"
@


1.263
log
@Add basic support for AArch64.

        * Makefile.in (ALL_64_TARGET_OBS): Add arch64-tdep.o.
        (HFILES_NO_SRCDIR): Add aarch64-tdep.h.
        (ALLDEPFILES): Add aarch64-tdep.c.
        * aarch64-tdep.c: New file.
        * aarch64-tdep.h: New file.
        * configure.tgt: Add AArch64.
        * features/Makefile (WHICH): Add aarch64 and aarch64-without-fpu.
        (aarch64-expedite): New definition.
        * features/aarch64-core.xml: New file.
        * features/aarch64-fpu.xml: New file.
        * features/aarch64-without-fpu.c: New file (generated).
        * features/aarch64-without-fpu.xml: New file.
        * features/aarch64.c: New file (generated).
        * features/aarch64.xml: New file.
        * regformats/aarch64-without-fpu.dat: New file (generated).
        * regformats/aarch64.dat: New file (generated).
@
text
@d39 6
@


1.262
log
@2013-02-01  Andreas Tobler  <andreast@@fgznet.ch>

	* Makefile.in (ALL_TARGET_OBS): Add ppc64-tdep.o.
	(HFILES_NO_SRCDIR): Add ppc64-tdep.h.
	(ALLDEPFILES): Add ppc64-tdep.c.
	* configure.tgt (powerpc-*-linux* | powerpc64-*-linux*): Add
	ppc64-tdep.o to gdb_target_obs.
	* ppc64-tdep.h: New file.
	* ppc64-tdep.c: New file.
	(insn_d, insn_ds, insn_xfx, ppc64_desc_entry_point): Move from
	ppc-linux-tdep.c to here.
	(PPC64_STANDARD_LINKAGE1_LEN, PPC64_STANDARD_LINKAGE2_LEN)
	(PPC64_STANDARD_LINKAGE2_LEN): Likewise and use ARRAY_SIZE macro.
	(ppc64_standard_linkage1_target, ppc64_standard_linkage2_target)
	(ppc64_standard_linkage3_target, ppc64_skip_trampoline_code): Move
	from ppc-linux-tdep.c to here.
	(ppc64_convert_from_func_ptr_addr): Rename from
	ppc64_linux_convert_from_func_ptr_addr to
	ppc64_convert_from_func_ptr_addr and move from ppc-linux-tdep.c to
	here.
	* rs6000-tdep.c:
	(read_insn): Move from ppc-linux-tdep.c to here.
	(insns_match_pattern, insn_d_field, insn_ds_field): Move
	from ppc-linux-tdep.c to here and rename them with the ppc_ prefix.
	* ppc-linux-tdep.c: Include ppc64-tdep.h.
	Removed above functions.
	(ppc_linux_init_abi): Adjust.
@
text
@d34 5
@


1.261
log
@Port GDB to powerpc-lynx178.

gdb/ChangeLog:

        * defs.h (enum gdb_osabi): Add GDB_OSABI_LYNXOS178.
        * osabi.c (gdb_osabi_names): Add entry for GDB_OSABI_LYNXOS178.
        * xcoffread.c (xcoff_get_core_n_import_files): New function.
        (xcoff_get_n_import_files): New function.
        * xcoffread.h (xcoffread.h): Add declaration.
        * rs6000-aix-tdep.c: #include "xcoffread.h".
        (rs6000_aix_osabi_sniffer): Do not return GDB_OSABI_AIX for
        XCOFF executables that do not depend on any shared library.
        * rs6000-lynx178-tdep.c: New file.
        * configure.tgt: Add powerpc-*-lynx*178 handling.
        * Makefile.in (ALL_TARGET_OBS): Add rs6000-lynx178-tdep.o.
        (ALLDEPFILES): Add rs6000-lynx178-tdep.c.
@
text
@d408 2
a409 1
			solib-svr4.o solib-spu.o spu-multiarch.o \
@


1.260
log
@Add missing backslash in configure.tgt gdb_target_ops (sparc-*-*)

I forgot to put a '\' when splitting the line in two.

gdb/ChangeLog:

        * configure.tgt (sparc-*-*): Add missing '\' in gdb_target_ops.
@
text
@d414 6
@


1.259
log
@Add ravenscar-thread support for powerpc.

gdb/ChangeLog:

        * ppc-ravenscar-thread.h, ppc-ravenscar-thread.c: New files.
        * Makefile.in (ALL_TARGET_OBS): Add ppc-ravenscar-thread.o.
        (HFILES_NO_SRCDIR): Add ppc-ravenscar-thread.h.
        (ALLDEPFILES): Add ppc-ravenscar-thread.c.
        * configure.tgt: Add ravenscar-thread.o and ppc-ravenscar-thread.o
        to gdb_target_obs for every target that uses rs6000-tdep.o.
        * rs6000-tdep.c: #include "ppc-ravenscar-thread.h".
        (rs6000_gdbarch_init): Call register_e500_ravenscar_ops
        or register_ppc_ravenscar_ops.
@
text
@d545 1
a545 1
	gdb_target_obs="sparc-tdep.o 
@


1.258
log
@Rename ravenscar-sparc-thread.[hc] into sparc-ravenscar-thread.[hc].

gdb/ChangeLog:

        * sparc-ravenscar-thread.h: Renames ravenscar-sparc-thread.h.
        * sparc-ravenscar-thread.c: Renames ravenscar-sparc-thread.c.
        Adjust sparc-ravenscar-thread.h #include.
        * sparc-tdep.c: Adjust sparc-ravenscar-thread.h #include
        accordingly.
        * Makefile.in: Replace ravenscar-sparc-thread with
        sparc-ravenscar-thread throughout.
        * configure.tgt: Likewise.
@
text
@d389 2
a390 1
			solib-svr4.o"
d396 2
a397 1
			solib-svr4.o"
d402 2
a403 1
			ppc-sysv-tdep.o solib-svr4.o"
d409 2
a410 1
			glibc-tdep.o symfile-mem.o linux-tdep.o"
d417 2
a418 1
			dink32-rom.o ppc-sysv-tdep.o solib-svr4.o"
@


1.257
log
@gdbarch-ification of ravenscar-thread support.

gdb/ChangeLog:

        * gdbarch.sh: Add "struct ravenscar_arch_ops" advance
        declaration.
        (ravenscar_ops): New gdbarch variable.
        * gdbarch.h, gdbarch.c: Regenerate.
        * ravenscar-thread.h (ravenscar_register_arch_ops): Delete.
        * ravenscar-thread.c (current_arch_ops): Delete.
        (ravenscar_fetch_registers): Get the ravenscar_arch_ops
        from the gdbarch.
        (ravenscar_store_registers, ravenscar_prepare_to_store): Likewise.
        (ravenscar_inferior_created): Add gdbarch_ravenscar_ops check.
        (ravenscar_register_arch_ops): Delete.
        * ravenscar-sparc-thread.h: New file.
        * ravenscar-sparc-thread.c: #include "ravenscar-sparc-thread.h".
        (ravenscar_sparc_ops): Define value statically.
        (_initialize_ravenscar_sparc): Delete.
        (register_sparc_ravenscar_ops): New function.
        * sparc-tdep.c: #include "ravenscar-sparc-thread.h".
        (sparc32_gdbarch_init): Add call to register_sparc_ravenscar_ops.
        * Makefile.in (ALL_TARGET_OBS): Add ravenscar-thread.o and
        ravenscar-sparc-thread.o.
        (SFILES): Add ravenscar-thread.c.
        (HFILES_NO_SRCDIR): Add ravenscar-sparc-thread.h.
        (ALLDEPFILES): ravenscar-sparc-thread.c.
        * configure.tgt: Add ravenscar-thread.o and ravenscar-sparc-thread.o
        to gdb_target_obs
        for all the targets that use sparc-tdep.o.
@
text
@d479 1
a479 1
			ravenscar-thread.o ravenscar-sparc-thread.o"
d492 1
a492 1
			ravenscar-thread.o ravenscar-sparc-thread.o"
d499 1
a499 1
			ravenscar-thread.o ravenscar-sparc-thread.o"
d505 1
a505 1
			ravenscar-thread.o ravenscar-sparc-thread.o"
d511 1
a511 1
			ravenscar-thread.o ravenscar-sparc-thread.o"
d517 1
a517 1
			ravenscar-thread.o ravenscar-sparc-thread.o"
d524 1
a524 1
			ravenscar-thread.o ravenscar-sparc-thread.o"
d530 1
a530 1
			ravenscar-thread.o ravenscar-sparc-thread.o"
d536 1
a536 1
			ravenscar-thread.o ravenscar-sparc-thread.o"
d541 1
a541 1
			ravenscar-thread.o ravenscar-sparc-thread.o"
d547 1
a547 1
			ravenscar-thread.o ravenscar-sparc-thread.o"
@


1.256
log
@        * configure.tgt (m32c-*-*) [gdb_target_obs]: Remove prologue-value.o.
        (mep-*-*) [gdb_target_obs]: Likewise.
@
text
@d478 2
a479 1
			linux-tdep.o"
d491 2
a492 1
			sparc-linux-tdep.o solib-svr4.o linux-tdep.o"
d498 2
a499 1
			solib-svr4.o"
d503 3
a505 1
	gdb_target_obs="sparc-tdep.o sparcnbsd-tdep.o nbsd-tdep.o solib-svr4.o"
d510 2
a511 1
			sparcnbsd-tdep.o nbsd-tdep.o solib-svr4.o"
d516 2
a517 1
			nbsd-tdep.o obsd-tdep.o bsd-uthread.o solib-svr4.o"
d523 2
a524 1
			nbsd-tdep.o obsd-tdep.o bsd-uthread.o solib-svr4.o"
d528 3
a530 1
	gdb_target_obs="sparc-tdep.o sparc-sol2-tdep.o sol2-tdep.o solib-svr4.o"
d535 2
a536 1
			sparc-sol2-tdep.o sol2-tdep.o solib-svr4.o"
d540 2
a541 2
	gdb_target_obs="sparc-tdep.o ravenscar-thread.o \
			ravenscar-sparc-thread.o"
d546 2
a547 1
	gdb_target_obs="sparc-tdep.o sparc64-tdep.o"
@


1.255
log
@2012-07-25  Ralf Corspius  <ralf.corsepius@@rtems.org>

	* configure.tgt: Add v850*-*-rtems*.
@
text
@d270 1
a270 1
	gdb_target_obs="m32c-tdep.o prologue-value.o"
d324 1
a324 1
	gdb_target_obs="mep-tdep.o prologue-value.o"
@


1.254
log
@2012-05-30  Jeff Kenton  <jkenton@@tilera.com>

	* Makefile.in (ALL_TARGET_OBJS): Add tilegx-tdep.o and
	tilegx-linux-tdep.o.
	(ALLDEPFILES): Add tilegx-linux-nat.c, tilegx-tdep.c and
	tilegx-linux-tdep.c.
	* configure.tgt: Handle tilegx-*-linux*.
	* tilegx-tdep.h: New file.
	* tilegx-tdep.c: New file.
	* tilegx-linux-tdep.c: New file.
	* regformats/reg-tilegx.dat: New file.
@
text
@d567 1
a567 1
v850*-*-elf)
@


1.254.2.1
log
@2012-07-25  Ralf Corspius  <ralf.corsepius@@rtems.org>

	* configure.tgt: Add v850*-*-rtems*.
@
text
@d567 1
a567 1
v850*-*-elf | v850*-*-rtems*)
@


1.254.2.2
log
@2012-08-01  Richard Henderson  <rth@@redhat.com>

	* configure.tgt (m32c-*-*) [gdb_target_obs]: Remove prologue-value.o.
	(mep-*-*) [gdb_target_obs]: Likewise.
@
text
@d270 1
a270 1
	gdb_target_obs="m32c-tdep.o"
d324 1
a324 1
	gdb_target_obs="mep-tdep.o"
@


1.253
log
@gdb: Enable gdbserver by default on sparc-*-linux*

This appears to be an oversight, since this is done already for
sparc64-*-linux*, and essentially every other linux target.

gdb/

	* configure.tgt (sparc-*-linux*): Set build_gdbserver to yes.
@
text
@d555 6
@


1.252
log
@2012-03-05  Tristan Gingold  <gingold@@adacore.com>

	* ia64-tdep.h: Include libunwind-frame.h and libunwind-ia64.h.
	(ia64_unw_accessors, ia64_unw_rse_accessors)
	(ia64_libunwind_descr): Declare.
	* ia64-vms-tdep.c: New file.
	* ia64-tdep.c (ia64_unw_accessors, ia64_unw_rse_accessors)
	(ia64_libunwind_descr): Make them public.
	* configure.tgt: Add ia64-*-*vms*.
	* Makefile.in (ALL_64_TARGET_OBS): Add ia64-vms-tdep.o
	(ALLDEPFILES): Add ia64-vms-tdep.c
@
text
@d484 1
@


1.251
log
@Add support to GDB for the Renesas rl78 architecture.
@
text
@d249 4
@


1.250
log
@Support stepping through PPC PLT with securePLT.

	* configure.tgt (powerpc-*-linux*): Add glibc-tdep.o.
	* ppc-linux-tdep.c: Include glibc-tdep.h.
	(powerpc32_plt_stub, powerpc32_plt_stub_so): Add PLT stub templates.
	(powerpc_linux_in_plt_stub): New function.
	(powerpc_linux_in_dynsym_resolve_code): New function.
	(ppc_skip_trampoline_code): New function.
	(ppc_linux_init_abi): Use PPC specific functions rather than generic.
	Use glibc_skip_solib_resolver.
@
text
@d421 6
@


1.249
log
@gdb/
	Fix duplicate .o files after omitting libbfd.a.
	* Makefile.in (ALL_TARGET_OBS): Remove corelow.o.
	(SFILES): Add corelow.c.
	(COMMON_OBS): Add corelow.o.
	(ALLDEPFILES): Remove corelow.c.
	* config/alpha/alpha-linux.mh (NATDEPFILES): Remove corelow.o.
	* config/alpha/alpha-osf3.mh: Likewise.
	* config/alpha/fbsd.mh: Likewise.
	* config/arm/nbsdaout.mh: Likewise.
	* config/arm/nbsdelf.mh: Likewise.
	* config/i386/i386gnu.mh: Likewise.
	* config/ia64/hpux.mh: Likewise.
	* config/ia64/linux.mh: Likewise.
	* config/m32r/linux.mh: Likewise.
	* config/m68k/linux.mh: Likewise.
	* config/mips/irix5.mh: Likewise.
	* config/mips/irix6.mh: Likewise.
	* config/pa/hpux.mh: Likewise.
	* config/pa/linux.mh: Likewise.
	* config/powerpc/aix.mh: Likewise.
	* config/sparc/linux.mh: Likewise.
	* config/sparc/linux64.mh: Likewise.
	* config/sparc/sol2.mh: Likewise.
	* config/vax/vax.mh: Likewise.
	* configure.tgt (alpha*-*-freebsd* alpha*-*-kfreebsd*-gnu)
	(alpha*-*-netbsd*, alpha*-*-knetbsd*-gnu, alpha*-*-openbsd*)
	(am33_2.0*-*-linux*, arm*-wince-pe, arm*-*-mingw32ce*, arm*-*-linux*)
	(arm*-*-openbsd*, cris*, frv-*-*, hppa*-*-hpux*, hppa*-*-netbsd*)
	(hppa*-*-openbsd*, i[34567]86-*-dicos*, i[34567]86-*-freebsd*)
	(i[34567]86-*-kfreebsd*-gnu, i[34567]86-*-netbsd*)
	(i[34567]86-*-knetbsd*-gnu, i[34567]86-*-openbsd*, i[34567]86-*-nto*)
	(i[34567]86-*-solaris2.1[0-9]*, x86_64-*-solaris2.1[0-9]*)
	(i[34567]86-*-solaris*, i[34567]86-*-linux*, i[34567]86-*-cygwin*)
	(i[34567]86-*-mingw32*, m68*-*-netbsd*, m68*-*-knetbsd*-gnu)
	(m68*-*-openbsd*, m88*-*-openbsd*, microblaze*-linux-*)
	(microblaze*-*-linux*, mips*-*-linux*, mips*-*-netbsd*)
	(mips*-*-knetbsd*-gnu, mips64*-*-openbsd*, powerpc-*-netbsd*)
	(powerpc-*-knetbsd*-gnu, powerpc-*-openbsd*, powerpc-*-linux*)
	(powerpc64-*-linux*, s390*-*-*, score-*-*, sh*-*-linux*)
	(sh*-*-netbsdelf*, sh*-*-knetbsd*-gnu, sh*-*-openbsd*)
	(sparc*-*-freebsd*, sparc*-*-kfreebsd*-gnu, sparc-*-netbsd*)
	(sparc-*-knetbsd*-gnu, sparc64-*-netbsd*, sparc64-*-knetbsd*-gnu)
	(sparc-*-openbsd*, sparc64-*-openbsd*, tic6x-*-*linux, vax-*-netbsd*)
	(vax-*-knetbsd*-gnu, vax-*-openbsd*, x86_64-*-dicos*, x86_64-*-linux*)
	(x86_64-*-freebsd*, x86_64-*-kfreebsd*-gnu, x86_64-*-netbsd*)
	(x86_64-*-knetbsd*-gnu, x86_64-*-openbsd*, xtensa*-*-linux*): Remove
	corelow.o from gdb_target_obs.
	* corefile.c (core_target): Update the comment on NULL value.
	(core_file_command): Replace error by gdb_assert on CORE_TARGET.
	* corelow.c (sniff_core_bfd): Call error instead of warning on zero
	MATCHES.  Drop YUMMY set on NULL.
	(core_close): Do not call exit_inferior_silent on zero PID.  Do not
	reclaim CORE_DATA if it is already NULL.
@
text
@d402 1
a402 1
			symfile-mem.o linux-tdep.o"
@


1.248
log
@	* configure.tgt [s390*-*-*] (gdb_target_obs): Add corelow.o.
	* config/s390/s390.mh (NATDEPFILES): Remove corelow.o.
@
text
@d47 1
a47 1
			alphafbsd-tdep.o corelow.o solib-svr4.o"
d52 1
a52 2
			alphanbsd-tdep.o nbsd-tdep.o corelow.o \
			solib-svr4.o"
d58 1
a58 1
			obsd-tdep.o corelow.o solib-svr4.o"
d68 1
a68 1
			corelow.o solib-svr4.o"
d73 1
a73 1
	gdb_target_obs="arm-tdep.o arm-wince-tdep.o corelow.o"
d79 1
a79 1
			solib-svr4.o symfile-mem.o corelow.o linux-tdep.o"
d89 1
a89 1
			corelow.o solib-svr4.o"
d121 1
a121 1
	gdb_target_obs="cris-tdep.o corelow.o solib-svr4.o"
d126 1
a126 2
	gdb_target_obs="frv-tdep.o frv-linux-tdep.o linux-tdep.o \
			solib-frv.o corelow.o"
d143 1
a143 2
	gdb_target_obs="hppa-tdep.o hppa-hpux-tdep.o corelow.o \
			solib-som.o solib-pa64.o"
d152 1
a152 2
	gdb_target_obs="hppa-tdep.o hppabsd-tdep.o hppanbsd-tdep.o \
			corelow.o solib-svr4.o"
d156 1
a156 2
	gdb_target_obs="hppa-tdep.o hppabsd-tdep.o hppaobsd-tdep.o \
			corelow.o solib-svr4.o"
d174 1
a174 3
	gdb_target_obs="i386-tdep.o i387-tdep.o \
			dicos-tdep.o i386-dicos-tdep.o \
			corelow.o"
d179 1
a179 1
			bsd-uthread.o corelow.o solib-svr4.o"
d184 1
a184 1
			nbsd-tdep.o corelow.o solib-svr4.o"
d189 1
a189 1
			bsd-uthread.o corelow.o solib-svr4.o"
d193 1
a193 1
	gdb_target_obs="i386-tdep.o i387-tdep.o corelow.o solib-svr4.o \
d200 1
a200 2
			i386-sol2-tdep.o sol2-tdep.o \
			corelow.o solib-svr4.o"
d205 1
a205 1
			corelow.o solib-svr4.o"
d210 1
a210 1
			solib-svr4.o symfile-mem.o corelow.o \
d225 1
a225 1
			corelow.o windows-tdep.o"
d231 1
a231 1
			corelow.o windows-tdep.o"
d306 1
a306 2
	gdb_target_obs="m68k-tdep.o m68kbsd-tdep.o \
			corelow.o solib-svr4.o"
d310 1
a310 2
	gdb_target_obs="m68k-tdep.o m68kbsd-tdep.o \
			corelow.o solib-svr4.o"
d315 1
a315 1
	gdb_target_obs="m88k-tdep.o corelow.o"
d327 1
a327 2
			monitor.o dsrec.o solib-svr4.o corelow.o \
			symfile-mem.o linux-tdep.o"
d347 1
a347 2
			corelow.o solib-svr4.o symfile-mem.o \
			linux-tdep.o"
d353 1
a353 2
	gdb_target_obs="mips-tdep.o mipsnbsd-tdep.o \
			corelow.o solib-svr4.o nbsd-tdep.o"
d358 1
a358 2
	gdb_target_obs="mips-tdep.o mips64obsd-tdep.o \
			corelow.o solib-svr4.o"
d385 1
a385 1
			corelow.o solib-svr4.o"
d391 1
a391 1
			corelow.o solib-svr4.o"
d402 1
a402 1
			corelow.o symfile-mem.o linux-tdep.o"
d417 1
a417 1
	gdb_target_obs="s390-tdep.o solib-svr4.o corelow.o linux-tdep.o"
d429 1
a429 1
	gdb_target_obs="score-tdep.o corelow.o"
d440 1
a440 1
			glibc-tdep.o corelow.o linux-tdep.o"
d446 1
a446 1
	gdb_target_obs="sh-tdep.o shnbsd-tdep.o corelow.o solib-svr4.o"
d451 1
a451 2
	gdb_target_obs="sh-tdep.o sh64-tdep.o shnbsd-tdep.o \
			corelow.o solib-svr4.o"
d485 1
a485 1
			corelow.o solib-svr4.o"
d489 1
a489 2
	gdb_target_obs="sparc-tdep.o sparcnbsd-tdep.o nbsd-tdep.o \
			corelow.o solib-svr4.o"
d494 1
a494 2
			sparcnbsd-tdep.o nbsd-tdep.o \
			corelow.o solib-svr4.o"
d499 1
a499 2
			nbsd-tdep.o obsd-tdep.o bsd-uthread.o \
			corelow.o solib-svr4.o"
d505 1
a505 2
			nbsd-tdep.o obsd-tdep.o bsd-uthread.o \
			corelow.o solib-svr4.o"
d536 1
a536 1
			glibc-tdep.o corelow.o linux-tdep.o"
d558 1
a558 2
	gdb_target_obs="vax-tdep.o vaxnbsd-tdep.o \
			corelow.o solib-svr4.o"
d562 1
a562 1
	gdb_target_obs="vax-tdep.o vaxobsd-tdep.o corelow.o"
d579 1
a579 2
			dicos-tdep.o i386-dicos-tdep.o amd64-dicos-tdep.o \
			corelow.o"
d585 1
a585 2
			solib-svr4.o corelow.o symfile-mem.o linux-tdep.o \
			linux-record.o"
d592 1
a592 1
			bsd-uthread.o corelow.o solib-svr4.o"
d604 1
a604 1
			nbsd-tdep.o corelow.o solib-svr4.o"
d610 1
a610 1
			bsd-uthread.o corelow.o solib-svr4.o"
d615 1
a615 1
			solib-svr4.o corelow.o symfile-mem.o linux-tdep.o"
@


1.247
log
@gdb/
	* Makefile.in (ALL_TARGET_OBS): Remove solib-target.o.
	* configure.tgt (arm*-wince-pe, arm*-*-mingw32ce*, arm*-*-symbianelf*)
	(i[34567]86-*-dicos*, i[34567]86-*-cygwin*, i[34567]86-*-mingw32*)
	(x86_64-*-dicos*, x86_64-*-mingw*): Remove solib-target.o.
	Revert this part of:
	2012-01-02  Jan Kratochvil  <jan.kratochvil@@redhat.com>
	Build gdb directly from *.o files not using libgdb.a.
	* Makefile.in (COMMON_OBS): Remove solib-target.o.
@
text
@d431 1
a431 1
	gdb_target_obs="s390-tdep.o solib-svr4.o linux-tdep.o"
@


1.246
log
@gdb/
	Build gdb directly from *.o files not using libgdb.a.
	* Makefile.in (SUBDIR_TUI_OBS): Remove duplicate tui.o.
	(COMMON_OBS): Remove solib-target.o.
	(LIBGDB_OBS, libgdb.a): Move it before the gdb$(EXEEXT) rule.
	(gdb$(EXEEXT)): Replace libgdb.a with $(LIBGDB_OBS).
	(LIBGDB_OBS, libgdb.a): Move it above.
	* configure.tgt (alpha*-*-linux*, alpha*-*-freebsd*)
	(alpha*-*-kfreebsd*-gnu, alpha*-*-netbsd*, alpha*-*-knetbsd*-gnu)
	(alpha*-*-openbsd*, am33_2.0*-*-linux*, arm*-wince-pe)
	(arm*-*-mingw32ce*, arm*-*-linux*, arm*-*-netbsd*, arm*-*-knetbsd*-gnu)
	(arm*-*-openbsd*, cris*, frv-*-*, hppa*-*-hpux*, hppa*-*-linux*)
	(hppa*-*-netbsd*, hppa*-*-openbsd*, i[34567]86-*-darwin*)
	(i[34567]86-*-dicos*, i[34567]86-*-freebsd*, i[34567]86-*-kfreebsd*-gnu)
	(i[34567]86-*-netbsd*, i[34567]86-*-knetbsd*-gnu, i[34567]86-*-openbsd*)
	(i[34567]86-*-nto*, i[34567]86-*-solaris2.1[0-9]*)
	(x86_64-*-solaris2.1[0-9]*, i[34567]86-*-solaris*, i[34567]86-*-linux*)
	(i[34567]86-*-gnu*, ia64-*-linux*, m32r*-*-linux*, m68*-*-linux*)
	(m68*-*-netbsd*, m68*-*-knetbsd*-gnu, m68*-*-openbsd*)
	(microblaze*-linux-*, microblaze*-*-linux*, mips*-sgi-irix5*)
	(mips*-sgi-irix6*, mips*-*-linux*, mips*-*-netbsd*)
	(mips*-*-knetbsd*-gnu, mips64*-*-openbsd*, powerpc-*-netbsd*)
	(powerpc-*-knetbsd*-gnu, powerpc-*-openbsd*, powerpc-*-aix*, rs6000-*-*)
	(powerpc-*-linux*, powerpc64-*-linux*, powerpc*-*-*, s390*-*-*)
	(sh*-*-linux*, sh*-*-netbsdelf*, sh*-*-knetbsd*-gnu, sh*-*-openbsd*)
	(sparc-*-linux*, sparc64-*-linux*, sparc*-*-freebsd*)
	(sparc*-*-kfreebsd*-gnu, sparc-*-netbsd*, sparc-*-knetbsd*-gnu)
	(sparc64-*-netbsd*, sparc64-*-knetbsd*-gnu, sparc-*-openbsd*)
	(sparc64-*-openbsd*, sparc-*-solaris2.[0-6], sparc-*-solaris2.[0-6].*)
	(sparc-*-solaris2*, sparcv9-*-solaris2*, sparc64-*-solaris2*)
	(vax-*-netbsd*, vax-*-knetbsd*-gnu, x86_64-*-darwin*, x86_64-*-dicos*)
	(x86_64-*-linux*, x86_64-*-freebsd*, x86_64-*-kfreebsd*-gnu)
	(x86_64-*-netbsd*, x86_64-*-knetbsd*-gnu, x86_64-*-openbsd*)
	(xtensa*-*-linux*, xtensa*): Remove solib.o from gdb_target_obs.
@
text
@d74 1
a74 2
	gdb_target_obs="arm-tdep.o arm-wince-tdep.o corelow.o \
			solib-target.o"
d94 1
a94 1
	gdb_target_obs="arm-tdep.o solib-target.o arm-symbian-tdep.o"
d181 1
a181 1
			corelow.o solib-target.o"
d233 1
a233 1
			solib-target.o corelow.o windows-tdep.o"
d239 1
a239 1
			solib-target.o corelow.o windows-tdep.o"
d600 1
a600 1
			corelow.o solib-target.o"
d620 1
a620 1
                        solib-target.o windows-tdep.o"
@


1.245
log
@	gdb/
	* configure.tgt: Handle tic6x-*-*linux and tic6x-*-*.
	* solib-dsbt.c: New file.  Support DSBT shared object.
	* tic6x-linux-tdep.c: New file.
	* tic6x-tdep.c: New file.
	* tic6x-tdep.h: New file.
@
text
@d42 1
a42 1
			linux-tdep.o solib.o solib-svr4.o"
d47 1
a47 1
			alphafbsd-tdep.o corelow.o solib.o solib-svr4.o"
d52 1
a52 1
			alphanbsd-tdep.o nbsd-tdep.o corelow.o solib.o \
d59 1
a59 1
			obsd-tdep.o corelow.o solib.o solib-svr4.o"
d69 1
a69 1
			corelow.o solib.o solib-svr4.o"
d75 1
a75 1
			solib.o solib-target.o"
d81 1
a81 1
			solib.o solib-svr4.o symfile-mem.o corelow.o linux-tdep.o"
d86 1
a86 1
	gdb_target_obs="arm-tdep.o armnbsd-tdep.o solib.o solib-svr4.o"
d91 1
a91 1
			corelow.o solib.o solib-svr4.o"
d123 1
a123 1
	gdb_target_obs="cris-tdep.o corelow.o solib.o solib-svr4.o"
d129 1
a129 1
			solib.o solib-frv.o corelow.o"
d147 1
a147 1
			solib.o solib-som.o solib-pa64.o"
d152 1
a152 1
			linux-tdep.o solib.o solib-svr4.o symfile-mem.o"
d157 1
a157 1
			corelow.o solib.o solib-svr4.o"
d162 1
a162 1
			corelow.o solib.o solib-svr4.o"
d172 1
a172 1
			i386-darwin-tdep.o solib.o solib-darwin.o"
d182 1
a182 1
			corelow.o solib.o solib-target.o"
d187 1
a187 1
			bsd-uthread.o corelow.o solib.o solib-svr4.o"
d192 1
a192 1
			nbsd-tdep.o corelow.o solib.o solib-svr4.o"
d197 1
a197 1
			bsd-uthread.o corelow.o solib.o solib-svr4.o"
d201 1
a201 1
	gdb_target_obs="i386-tdep.o i387-tdep.o corelow.o solib.o solib-svr4.o \
d209 1
a209 1
			corelow.o solib.o solib-svr4.o"
d214 1
a214 1
			corelow.o solib.o solib-svr4.o"
d219 1
a219 1
			solib.o solib-svr4.o symfile-mem.o corelow.o \
d229 1
a229 2
	gdb_target_obs="i386-tdep.o i387-tdep.o i386gnu-tdep.o \
			solib.o solib-svr4.o"
d255 1
a255 1
			solib.o solib-svr4.o symfile-mem.o"
d284 1
a284 1
			glibc-tdep.o solib.o solib-svr4.o symfile-mem.o \
d309 1
a309 1
	gdb_target_obs="m68k-tdep.o m68klinux-tdep.o solib.o solib-svr4.o \
d316 1
a316 1
			corelow.o solib.o solib-svr4.o"
d321 1
a321 1
			corelow.o solib.o solib-svr4.o"
d338 1
a338 1
			monitor.o dsrec.o solib.o solib-svr4.o corelow.o \
d350 1
a350 1
	gdb_target_obs="mips-tdep.o mips-irix-tdep.o solib.o solib-irix.o"
d354 1
a354 1
	gdb_target_obs="mips-tdep.o mips-irix-tdep.o solib.o solib-irix.o"
d359 1
a359 1
			corelow.o solib.o solib-svr4.o symfile-mem.o \
d367 1
a367 1
			corelow.o solib.o solib-svr4.o nbsd-tdep.o"
d373 1
a373 1
			corelow.o solib.o solib-svr4.o"
d400 1
a400 1
			corelow.o solib.o solib-svr4.o"
d406 1
a406 1
			corelow.o solib.o solib-svr4.o"
d411 1
a411 1
			ppc-sysv-tdep.o solib.o solib-svr4.o"
d416 1
a416 1
			solib.o solib-svr4.o solib-spu.o spu-multiarch.o \
d424 1
a424 1
			dink32-rom.o ppc-sysv-tdep.o solib.o solib-svr4.o"
d432 1
a432 1
	gdb_target_obs="s390-tdep.o solib.o solib-svr4.o linux-tdep.o"
d454 1
a454 1
			dsrec.o solib.o solib-svr4.o symfile-mem.o \
d461 1
a461 1
	gdb_target_obs="sh-tdep.o shnbsd-tdep.o corelow.o solib.o solib-svr4.o"
d467 1
a467 1
			corelow.o solib.o solib-svr4.o"
d483 1
a483 1
			sparc-linux-tdep.o solib.o solib-svr4.o symfile-mem.o \
d495 1
a495 1
			sparc-linux-tdep.o solib.o solib-svr4.o linux-tdep.o"
d501 1
a501 1
			corelow.o solib.o solib-svr4.o"
d506 1
a506 1
			corelow.o solib.o solib-svr4.o"
d512 1
a512 1
			corelow.o solib.o solib-svr4.o"
d518 1
a518 1
			corelow.o solib.o solib-svr4.o"
d525 1
a525 1
			corelow.o solib.o solib-svr4.o"
d529 1
a529 2
	gdb_target_obs="sparc-tdep.o sparc-sol2-tdep.o sol2-tdep.o \
			solib.o solib-svr4.o"
d534 1
a534 1
			sparc-sol2-tdep.o sol2-tdep.o solib.o solib-svr4.o"
d579 1
a579 1
			corelow.o solib.o solib-svr4.o"
d594 1
a594 1
                        solib.o solib-darwin.o"
d601 1
a601 1
			corelow.o solib.o solib-target.o"
d607 1
a607 1
			solib.o solib-svr4.o corelow.o symfile-mem.o linux-tdep.o \
d615 1
a615 1
			bsd-uthread.o corelow.o solib.o solib-svr4.o"
d627 1
a627 1
			nbsd-tdep.o corelow.o solib.o solib-svr4.o"
d633 1
a633 1
			bsd-uthread.o corelow.o solib.o solib-svr4.o"
d638 1
a638 2
			solib.o solib-svr4.o corelow.o symfile-mem.o \
			linux-tdep.o"
d643 1
a643 1
	gdb_target_obs="xtensa-tdep.o xtensa-config.o solib.o solib-svr4.o"
@


1.244
log
@gdb:
	* configure.host (xscale*): Don't handle target.
	* configure.tgt (thumb*-*-* | strongarm*-*-* | xscale-*-*): Don't
	handle targets.

gdb/gdbserver:
	* README: Don't mention xscale*-*-linux*.
	* configure.srv (xscale*-*-linux*): Don't handle target.

gdb/testsuite:
	* gdb.base/a2-run.exp (strongarm-*-coff): Don't handle target.
	* gdb.base/float.exp (xscale*-*-*, strongarm*-*-*): Don't handle
	targets.
	* gdb.base/long_long.exp (xscale*-*-*, strongarm*-*-*): Don't
	handle targets.

sim:
	* configure.tgt (thumb*-*-* | strongarm*-*-* | xscale-*-*): Don't
	handle targets.
	* configure: Regenerate.

sim/testsuite:
	* configure: Regenerate.
	* sim/arm/allinsn.exp (xscale*-*-*): Don't handle target.
	* sim/arm/misc.exp (thumb*-*-*, xscale*-*-*): Don't handle
	targets.
	* sim/arm/iwmmxt/iwmmxt.exp: Test for arm*-*-* instead of
	xscale*-*-*.
	* sim/arm/thumb/allthumb.exp (thumb*-*-*): Don't handle target.
	* sim/arm/xscale/xscale.exp: Test for arm*-*-* instead of
	xscale*-*-*.
@
text
@d555 11
@


1.243
log
@gdb: blackfin: enable simulator support

Signed-off-by: Mike Frysinger <vapier@@gentoo.org>
@
text
@d97 1
a97 1
arm*-*-* | thumb*-*-* | strongarm*-*-* | xscale-*-*)
@


1.242
log
@	* configure.tgt (mips*-*-elf): New; just like mips*-*-*, but
	with remote-mips.o added to gdb_target_obs.
	* Makefile.in (ALL_TARGET_OBS): Add remote-mips.o.
@
text
@d112 1
d118 1
@


1.241
log
@gdb: extend Linux osabi match

The current osabi default matching misses all *-uclinux tuples.

Signed-off-by: Mike Frysinger <vapier@@gentoo.org>
@
text
@d374 5
@


1.240
log
@port GDB to ia64-hpux (native).

ChangeLog:

        * configure.ac: Remove readline, mmalloc, and gdb from noconfigdirs
        for ia64-hpux.
        * configure: Regenerate.

gdb/ChangeLog:

        * config/ia64/hpux.mh, ia64-hpux-nat.c, ia64-hpux-tdep.c,
        ia64-hpux-tdep.h, solib-ia64-hpux.c, solib-ia64-hpux.h: New files.

        * configure.host: Add handling for ia64-hpux hosts.  Add associated
        floatformats.
        * configure.tgt: Add handling for ia64-hpux targets.
        * Makefile.in (ALL_64_TARGET_OBS): Add ia64-hpux-tdep.o.
        (HFILES_NO_SRCDIR): Add ia64-hpux-tdep.h.
        (ALLDEPFILES): Add ia64-hpux-nat.c ia64-hpux-tdep.c.
@
text
@d638 2
a639 1
*-*-linux*)	gdb_osabi=GDB_OSABI_LINUX ;;
@


1.239
log
@Detect GNU/kFreeBSD and set `gdb_osabi' appropiately

2011-01-09  Robert Millan  <rmh@@gnu.org>

        * configure.tgt: Detect GNU/kFreeBSD and set `gdb_osabi'
        appropiately.
@
text
@d247 4
@


1.238
log
@gdbserver: bfin: new port

Signed-off-by: Jie Zhang <jie.zhang@@analog.com>
Signed-off-by: Mike Frysinger <vapier@@gentoo.org>
@
text
@d632 2
a633 1
*-*-freebsd*)	gdb_osabi=GDB_OSABI_FREEBSD_ELF ;;
@


1.237
log
@gdb: bfin: new port

Initial support for Blackfin processors.  This supports the standard ABI.

Signed-off-by: Jie Zhang <jie.zhang@@analog.com>
Signed-off-by: Mike Frysinger <vapier@@gentoo.org>
@
text
@d112 1
@


1.236
log
@       * configure.tgt: Accept microblaze*-*-linux* for linux target
       and microblaze*-*-* for  as target.
@
text
@d109 9
@


1.235
log
@Add a sparc simulator with the sparc bareboard target.

gdb/ChangeLog:

        * configure.tgt (sparc-*-*): Set gdb_sim to ../sim/erc32/libsim.a.
        (sparc-*-rtems*): Delete, now redundant with the sparc-*-* case.
@
text
@d320 1
a320 1
microblaze*-linux-*)
d327 1
a327 1
microblaze*-xilinx-*)
@


1.234
log
@Add support for GNAT Ravenscar run-time library.

gdb/ChangeLog (Jerome Guitton, Joel Brobecker):

	* ravenscar-thread.c, ravenscar-thread.h, ravenscar-sparc-thread.c:
	New files.
	* configure.tgt (sparc-*-*): Add ravenscar-thread.o and
	ravenscar-sparc-thread.o to gdb_target_obs.
@
text
@a516 5
sparc-*-rtems*)
	# Target: SPARC embedded with simulator
	gdb_target_obs="sparc-tdep.o"
	gdb_sim=../sim/erc32/libsim.a
	;;
d521 1
@


1.233
log
@	* configure.tgt (alpha*-*-linux*, am33_2.0*-*-linux*, frv-*-*)
	(hppa*-*-linux*, ia64-*-linux*, m32r*-*-linux*, m68*-*-linux*)
	(microblaze*-linux-*, mips*-*-linux*, sh*-*-linux*)
	(sparc-*-linux*, sparc64-*-linux*, xtensa*-*-linux*): Add
	linux-tdep.o to gdb_target_obs.
@
text
@d524 2
a525 1
	gdb_target_obs="sparc-tdep.o"
@


1.232
log
@Add support for x86-lynxos cross debugger (as bareboard x86).

This is a fairly simple patch that we have had for a while.  LynxOS has
relatively few features, from a GDB perspective, and we've been using
a bareboard x86 debugger as our LynxOS cross-debugger.  So here is a patch
that make x86-lynxos an alias of bareboard x86.

On the other end of things, I'm still working on gdbserver support
for LynxOS - I'm just lacking the time to make significant progress.
But this is in the works (in the meantime, we're using gdbserver from
gdb-6.8 which is derived work from LinuxWorks' patch).

I wasn't sure whether this would be interesting or not for the FSF tree,
but since it's simple and unintrusive, I am suggesting it now... Any
objection?  I wasn't sure whether it warranted a NEWS entry either, since
it doesn't really add a new port, just an alias.  I suggest the NEWS entry
when I'm finally done with the gdbserver port.

gdb/ChangeLog:

        * configure.tgt: Treat x86-lynxos targets as x86 bareboard targets
        in terms of configuration.
@
text
@d42 1
a42 1
			solib.o solib-svr4.o"
d68 2
a69 2
	gdb_target_obs="mn10300-tdep.o mn10300-linux-tdep.o corelow.o \
			solib.o solib-svr4.o"
d116 1
a116 1
	gdb_target_obs="frv-tdep.o frv-linux-tdep.o \
d140 1
a140 1
			solib.o solib-svr4.o symfile-mem.o"
d239 1
a239 1
	gdb_target_obs="ia64-tdep.o ia64-linux-tdep.o \
d269 2
a270 1
			glibc-tdep.o solib.o solib-svr4.o symfile-mem.o"
d295 1
a295 1
			glibc-tdep.o symfile-mem.o"
d324 1
a324 1
			symfile-mem.o"
d344 2
a345 1
			corelow.o solib.o solib-svr4.o symfile-mem.o"
d435 1
a435 1
			glibc-tdep.o corelow.o"
d463 2
a464 1
			sparc-linux-tdep.o solib.o solib-svr4.o symfile-mem.o"
d475 1
a475 1
			sparc-linux-tdep.o solib.o solib-svr4.o"
d611 2
a612 1
			solib.o solib-svr4.o corelow.o symfile-mem.o"
@


1.231
log
@	* configure.tgt (x86_64-*-mingw*): Set BUILD_GDBSERVER to yes.
@
text
@a17 1
 i[34567]86-*-lynxos* | \
@


1.230
log
@	Symbian config

	gdb/
	* arm-symbian-tdep.c: New.
	* configure.tgt (arm*-*-symbianelf*): New target.
	(*-*-symbianelf*): New OS.
	* osabi.c (gdb_osabi_names): Add Symbian.
	* defs.h (gdb_osabi): Add GDB_OSABI_SYMBIAN.
	* Makefile.in (ALL_TARGET_OBJS): Add arm-symbian-tdep.o.
	(ALLDEPFILES): Add arm-symbian-tdep.c.
@
text
@d593 1
@


1.229
log
@Add configure handling of  x86_64-*-solaris2.1[0-9]*

        * configure.host: Make x86_64-*-solaris2.1[0-9]* an alias of
        i[34567]86-*-solaris2.1[0-9]*.
        * configure.tgt: Likewise.
@
text
@d94 4
d633 2
@


1.228
log
@	* configure.tgt: Add rx-*-elf target.
	* rx-tdep.c: New target.
@
text
@d190 1
a190 1
i[34567]86-*-solaris2.1[0-9]*)
@


1.227
log
@2009-10-21  Andrew Stubbs  <ams@@codesourcery.com>
	    Joel Brobecker  <brobecker@@adacore.com>

	* Makefile.in (HFILES_NO_SRCDIR): Remove shnbsd-tdep.h
	* configure.tgt (sh*-*-linux*): Add corelow.o to gdb_target_obs.
	* sh-linux-tdep.c: Include sh-tdep.h.
	(REGSx16): New macro.
	(gregs_table, fpregs_table): New variables.
	(sh_linux_init_abi): Set core_gregmap and fpregmap.
	* sh-tdep.c: Include regset.h.
	(sh_corefile_supply_regset): New function.
	(sh_corefile_collect_regset): New function.
	(sh_corefile_gregset, sh_corefile_fpregset): New variables.
	(sh_regset_from_core_section): New function.
	(sh_gdbarch_init): Set up tdep value.
	Call set_gdbarch_regset_from_core_section.
	* sh-tdep.h (PC_REGNUM): New enum value.
	(struct sh_corefile_regs): New type.
	(sh_corefile_gregset): Export variable.
	(sh_corefile_supply_regset): New prototype.
	(sh_corefile_collect_regset): New prototype.
	* shnbsd-tdep.c: Remove include of regcache.h, gdb_assert.h and
	shnbsd-tdep.h.
	(regmap): Use new definition using struct sh_corefile_regs.
	(shnbsd_supply_gregset, shnbsd_collect_gregset): Delete.
	(shnbsd_gregset): Delete.
	(shnbsd_regset_from_core_section): Delete.
	(shnbsd_supply_reg, shnbsd_fill_reg): Use new regset interface.
	(shnbsd_init_abi): Set core_gregmap.
	(shnbsd_supply_reg): Delete.
	(shnbsd_fill_reg): Delete.
	(SHNBSD_SIZEOF_GREGS): Move ...
	* shnbsd-nat.c (SHNBSD_SIZEOF_GREGS): ... to here.
	Remove include of shnbsd-tdep.h.
	(shnbsd_fetch_inferior_registers): Replace shnbsd_supply_reg call
	with sh_corefile_supply_regset.
	(shnbsd_store_inferior_registers): Replace shnbsd_fill_reg call with
	sh_corefile_collect_regset.
	* shnbsd-tdep.h: Delete file.
@
text
@d411 6
@


1.226
log
@	* config/djgpp/fnchange.lst: Add translations for cpu-microblaze.c,
	elf32-microblaze.c, microblaze-rom.c, microblaze-linux-tdep.c,
	microblaze-tdep.h, microblaze-tdep.c, microblaze-opc.h,
	microblaze-opcm.h, microblaze-dis.c, microblaze-dis.h, sim/microblaze,
	microblaze.h, and microblaze.isa.
	* configure.tgt: Add targets microblaze*-linux-*, microblaze*-xilinx-*.
	* Makefile.in: Build microblaze-tdep.o, microblaze-linux-tdep.o.
	HFILES_NO_SRCDIR: Add microblaze-tdep.h.
	* microblaze-linux-tdep.c: New.
	* microblaze-tdep.c: New.
	* microblaze-tdep.h: New.
	* NEWS: Announce Xilinx MicroBlaze support.
@
text
@d423 2
a424 1
			dsrec.o solib.o solib-svr4.o symfile-mem.o glibc-tdep.o"
@


1.225
log
@	* configure.tgt (powerpc-*-linux* | powerpc64-*-linux*):
	Add linux-tdep.o to gdb_target_obs.
	(s390*-*-*): Likewise.
@
text
@d316 13
@


1.224
log
@
	* score-tdep.c: Support a new Sunplus CT S+core variant, S+core 3.
	* score-tdep.h: Ditto.
	* NEWS: Ditto.
	* configure.tgt: Test do we have a simulator.
	* MAINTAINERS: Add myself under target score
@
text
@d379 1
a379 1
			corelow.o symfile-mem.o"
d394 1
a394 1
	gdb_target_obs="s390-tdep.o solib.o solib-svr4.o"
@


1.223
log
@ChangeLog:

	* target.h (enum strata): New value arch_stratum.
	* target.c (target_require_runnable): Skip arch_stratum targets.

	* configure.tgt (powerpc-*-linux* | powerpc64-*-linux*): Add
	solib-spu.o and spu-multiarch.o to gdb_target_obs.
	* Makefile.in (ALL_TARGET_OBS): Add solib-spu.o and spu-multiarch.o.
	(ALLDEPFILES): Add solib-spu.c and spu-multiarch.c.

	* solib-spu.c: New file.
	* solib-spu.h: New file.
	* spu-multiarch.c: New file.

	* spu-tdep.h (SPUADDR, SPUADDR_SPU, SPUADDR_ADDR): New macros.

	* spu-tdep.c (struct gdbarch_tdep): New member id.
	(spu_gdbarch_id): New function.
	(spu_lslr): New function.

	(spu_address_to_pointer): New function.
	(spu_pointer_to_address): Support SPU ID address encoding.  Use
	spu_gdbarch_id and spu_lslr.
	(spu_integer_to_address): Likewise.
	(spu_frame_unwind_cache): Update for encoded addresses.
	(spu_unwind_pc, spu_unwind_sp): Likewise.
	(spu_read_pc, spu_write_pc): Likewise.
	(spu_push_dummy_call): Likewise.
	(spu_software_single_step): Likewise.
	(spu_get_longjmp_target): Likewise.
	(spu_overlay_update_osect): Likewise.

	(spu_dis_asm_print_address): New function.
	(gdb_print_insn_spu): Likewise.

	(spu_gdbarch_init): Store SPU ID in tdep structure.
	Install spu_address_to_pointer and gdb_print_insn_spu.

	* ppc-linux-tdep.c: Include "observer.h", "auxv.h", "elf/common.h"
	and "solib-spu.h".
	(ppc_linux_entry_point_addr): New static variable.
	(ppc_linux_inferior_created): New function.
	(ppc_linux_displaced_step_location): Likewise.
	(ppc_linux_init_abi): Enable Cell/B.E. support if supported
	by the target.
	(_initialize_ppc_linux_tdep): Attach to inferior_created observer.

	* NEWS: Mention multi-architecture and Cell/B.E. debugging
	capabilities.

testsuite/ChangeLog:

	* gdb.xml/tdesc-regs.exp: Skip for SPU targets.
@
text
@d400 5
a404 1
	gdb_target_obs="score-tdep.o"
@


1.222
log
@* configure.tgt (i[34567]86-*-nto*): Add build_gdbserver=yes.
@
text
@d378 2
a379 1
			solib.o solib-svr4.o corelow.o symfile-mem.o"
@


1.221
log
@2009-06-29  Tristan Gingold  <gingold@@adacore.com>

	* i386-darwin-tdep.c (amd64_darwin_thread_state_reg_offset)
	(amd64_darwin_thread_state_num_regs)
	(amd64_darwin_sigcontext_addr, x86_darwin_init_abi_64): Moved to
	amd64-darwin-tdep.c
	(_initialize_i386_darwin_tdep): Remove 64 bits parts.
	(darwin_dwarf_signal_frame_p): Make public.
	* amd64-darwin-tdep.c: New file with most chunks from
	i386-darwin-tdep.c
	* i386-darwin-tdep.h: Add a prototype for darwin_dwarf_signal_frame_p.
	(amd64_darwin_thread_state_reg_offset)
	(amd64_darwin_thread_state_num_regs): Moved to amd64-darwin-tdep.h
	* amd64-darwin-tdep.h: New file.
	* i386-darwin-nat.c: Only includes amd64-nat.h and amd64-darwin-tdep.h
	if BFD64 is defined.
	(i386_darwin_fetch_inferior_registers): Add #ifdef BFD64/#endif around
	64 bits parts.
	(i386_darwin_store_inferior_registers): Ditto.
	(darwin_set_sstep): Ditto.
	(darwin_complete_target): Ditto.
	(amd64_darwin_sstep_at_sigreturn): Ditto.
	* configure.tgt: Create a separate entry for x86_64-*-darwin.
	Add 64 bits support for i386-*-darwin if --enable-64-bit-bfd.
	* Makefile.in (ALLDEPFILES): Add amd64-darwin-tdep.c, darwin-nat.c,
	i386-darwin-tdep.c i386-darwin-nat.c
	(ALL_64_TARGET_OBS): Add amd64-darwin-tdep.o
@
text
@d188 1
@


1.220
log
@	* Makefile.in (ALL_64_TARGET_OBS): Add amd64-windows-tdep.o.
	(ALL_TARGET_OBS): Add moxie-tdep.o, i386-darwin-tdep.o, and
	solib-darwin.o.

	* configure.tgt: Add comment.
@
text
@d154 1
a154 1
i[34567]86-*-darwin* | x86_64-*-darwin*)
d156 1
a156 1
	gdb_target_obs="amd64-tdep.o i386-tdep.o i387-tdep.o \
d158 4
d531 7
@


1.219
log
@2009-06-01  Tristan Gingold  <gingold@@adacore.com>

	* configure.tgt (avr): Set gdb_sim to use the simulator.
@
text
@d10 4
@


1.218
log
@gdb/
2009-05-18  Jon Beniston <jon@@beniston.com>

        * MAINTAINERS: Add lm32 target.
        * Makefile.in: Add lm32 dependencies.
        * NEWS: Indicate lm32 is a new target.
        * configure.tgt: Add lm32 targets.
        * lm32-tdep.c: New file.

gdb/testsuite
2009-05-18  Jon Beniston <jon@@beniston.com>

        * gdb.asm/asm-source.exp: Add lm32 target.

include/gdb/
2009-05-18  Jon Beniston <jon@@beniston.com>

        * sim-lm32.h: New file.

sim/
2009-05-18  Jon Beniston <jon@@beniston.com>

        * MAINTAINERS: Add Jon Beniston as maintainer of lm32 sim.
        * configure.ac: Add lm32 target.
        * lm32: New directory.

sim/common
2009-05-18  Jon Beniston <jon@@beniston.com>

        * gennltvals.sh: Add lm32 target.
        * nltvals.def: Add lm32 syscall definitions.

sim/lm32/
2009-05-18  Jon Beniston <jon@@beniston.com>

        * Makefile.in: New file.
        * arch.c: New file.
        * arch.h: New file.
        * config.in: New file.
        * configure: New file.
        * configure.ac: New file.
        * cpu.c: New file.
        * cpu.h: New file.
        * cpuall.h: New file.
        * decode.c: New file.
        * decode.h: New file.
        * dv-lm32cpu.c: New file.
        * dv-lm32timer.c: New file.
        * dv-lm32uart.c: New file.
        * lm32.c: New file.
        * lm32-sim.h: New file.
        * mloop.in: New file.
        * model.c: New file.
        * sem.c: New file.
        * sem-switch.c: New file.
        * sim-if.c: New file.
        * sim-main.c: New file.
        * tconfig.in: New file.
        * traps.c: New file.
        * user.c: New file.
@
text
@d99 1
a99 4
	# There is no simulator provided with gdb (yet).
	# See <http://savannah.gnu.org/projects/simulavr/>
	# for the simulator used during development of avr
	# support for gdb.
@


1.217
log
@Link gdb with moxie sim
@
text
@d244 5
@


1.216
log
@Linux process record and replay support.

* Makefile.in (ALLDEPFILES): Add linux-record.c.
(ALL_TARGET_OBS): Add linux-record.o.
* configure.tgt (x86_64-*-linux*): Add linux-record.o.
(i[34567]86-*-linux*): Add linux-record.o.
* linux-record.c, linux-record.h: New file.
@
text
@d119 1
a119 2
	# Add this once the moxie sim has been committed.
	# gdb_sim=../sim/moxie/libsim.a
@


1.215
log
@Add moxie-elf port.
@
text
@d199 2
a200 1
			solib.o solib-svr4.o symfile-mem.o corelow.o linux-tdep.o"
d532 2
a533 1
			solib.o solib-svr4.o corelow.o symfile-mem.o linux-tdep.o"
@


1.214
log
@	* configure.tgt (i[34567]86-*-linux*): Use 64-bit configuration if
	--enable-64-bit-bfd.
	(sparc-*-linux*): Likewise.
@
text
@d117 6
@


1.213
log
@        * configure.tgt: Add handling for x86_64-darwin.
@
text
@d194 4
d417 5
@


1.212
log
@	* Makefile.in (ALL_64_TARGET_OBS): Add amd64-dicos-tdep.o.
	(ALL_TARGET_OBS): Add dicos-tdep.o.
	(ALLDEPFILES): Add amd64-dicos-tdep.c and dicos-tdep.c.
	* configure.tgt (i[34567]86-*-dicos*): Add dicos-tdep.o to
	gdb_target_obs.
	(x86_64-*-dicos*): Add dicos-tdep.o and amd64-dicos-tdep.o to
	gdb_target_obs.
	* dicos-tdep.h, dicos-tdep.c: New.
	* amd64-dicos-tdep.c: New.
	* i386-dicos-tdep.c: Don't include solib.h, solib-target.h or
	inferior.h.  Include dicos-tdep.h.
	(i386_dicos_init_abi): Call dicos_init_abi.
	(i386_dicos_bfd_has_symbol_p): Delete.
	(i386_dicos_osabi_sniffer): Use dicos_load_module_p.

	* NEWS: Mention x86-64 DICOS target support.
@
text
@d148 1
a148 1
i[34567]86-*-darwin*)
@


1.211
log
@2009-02-06  Pedro Alves  <pedro@@codesourcery.com>

	gdb/
	* target.h (enum target_object): Add new TARGET_OBJECT_SIGNAL_INFO.
	* infrun.c (siginfo_value_read, siginfo_value_write): New.
	(siginfo_value_funcs): New.
	(siginfo_make_value): New.
	(_initialize_infrun): Create the $_siginfo convenience variable.
	* gdbtypes.h (append_composite_type_field_aligned): Declare.
	* gdbtypes.c (append_composite_type_field): Rename to...
	(append_composite_type_field_aligned): ... this.  Add ALIGNMENT
	argument.  Handle it.
	(append_composite_type_field): Rewrite on top of
	append_composite_type_field_aligned.
	* value.h (internalvar_make_value): New typedef.
	(struct internalvar) <make_value>: New field.
	(create_internalvar_type_lazy): Declare.
	* value.c (create_internalvar): Clear make_value.
	(create_internalvar_type_lazy): New.
	(value_of_internalvar): If make_value is set use it.
	(preserve_values): Skip internal variables that don't have a
	value.
	* gdbarch.sh (get_siginfo_type): New.
	* gdbarch.h, gdbarch.c: Regenerate.

	* linux-tdep.h, linux-tdep.c: New.
	* amd64-linux-tdep.c: Include "linux-tdep.h".
	(amd64_linux_init_abi): Register linux_get_siginfo_type and
	linux_get_siginfo_mapper.
	* i386-linux-tdep.c: Include "linux-tdep.h".
	(i386_linux_init_abi): Register linux_get_siginfo_type and
	linux_get_siginfo_mapper.
	* arm-linux-tdep.c: Include "linux-tdep.h".
	(i386_linux_init_abi): Register linux_get_siginfo_type and
	linux_get_siginfo_mapper.

	* linux-nat.c (linux_xfer_siginfo): New.
	(linux_nat_xfer_partial): Handle TARGET_OBJECT_SIGNAL_INFO.
	* remote.c (PACKET_qXfer_siginfo_read)
	(PACKET_qXfer_siginfo_write): New.
	(feature remote_protocol_features): Add "qXfer:siginfo:read" and
	"qXfer:siginfo:write" features.
	(remote_xfer_partial): Handle TARGET_OBJECT_SIGNAL_INFO.
	(_initialize_remote): Add "set/show remote read-siginfo-object"
	and "set/show remote write-siginfo-object" commands.

	* Makefile.in (ALL_TARGET_OBS): Add linux-tdep.o.
	(HFILES_NO_SRCDIR): Add linux-tdep.h.
	(ALLDEPFILES): Add linux-tdep.c.

	* configure.tgt (arm*-*-linux* | arm*-*-uclinux*)
	(i[34567]86-*-linux*, x86_64-*-linux*): Add linux-tdep.o to
	gdb_target_obs.

2009-02-06  Pedro Alves  <pedro@@codesourcery.com>

	gdb/gdbserver/
	* server.c (handle_query): Report qXfer:siginfo:read and
	qXfer:siginfo:write as supported and handle them.
	* target.h (struct target_ops) <qxfer_siginfo>: New field.
	* linux-low.c (linux_xfer_siginfo): New.
	(linux_target_ops): Set it.

2009-02-06  Pedro Alves  <pedro@@codesourcery.com>

	gdb/doc/
	* gdb.texinfo (Signals): Document $_siginfo.
	(Convenience Variables): Mention $_siginfo.
	(Remote Configuration): Document qXfer:siginfo:read,
	qXfer:siginfo:write packets, and the read-siginfo-object,
	write-siginfo-object commands.

2009-02-06  Pedro Alves  <pedro@@codesourcery.com>

	gdb/testsuite/
	* gdb.base/siginfo-obj.c, gdb.base/siginfo-obj.exp: New.
@
text
@d156 1
a156 1
			i386-dicos-tdep.o \
d509 1
a509 1
			i386-dicos-tdep.o \
@


1.210
log
@2009-02-04  Tristan Gingold  <gingold@@adacore.com>

	* machoread.c (macho_symfile_read): Read minsymtab also from
	shared libraries.
	(macho_symfile_read): Try to read dwarf2 frame info from main
	object file, but not from OSO files.
	(macho_symfile_offsets): Update section names for latest BFD
	changes.
	* i386-darwin-tdep.c (i386_darwin_init_abi): Call set_solib_ops.
	(x86_darwin_init_abi_64): Ditto.
	* solib-darwin.c: New file.
	* solib-darwin.h: New file.
	* configure.tgt: Add solib.o solib-darwin.o for Darwin.
@
text
@d78 1
a78 1
			solib.o solib-svr4.o symfile-mem.o corelow.o"
d193 1
a193 1
			solib.o solib-svr4.o symfile-mem.o corelow.o"
d516 1
a516 1
			solib.o solib-svr4.o corelow.o symfile-mem.o"
@


1.209
log
@Fix linking with --enable-targets=all:
* Makefile.in (ALL_TARGET_OBS): Add windows-tdep.o.
(HFILES_NO_SRCDIR): Add windows-tdep.h.
(ALLDEPFILES): Add windows-tdep.c.
* win32-tdep.h: Delete.
* windows-tdep.h: Rename from win32-tdep.h.
* win32-nat.h: Delete.
* windows-nat.h: Rename from win32-nat.h.
* win32-nat.c: Delete.
* windows-nat.c: Rename from win32-nat.c.
* win32-termcap.c: Delete.
* windows-termcap.c: Rename from win32-termcap.c.
* amd64-windows-nat.c: Handle rename from win32-nat.h -> windows-nat.h.
* configure.ac: Handle rename from win32-termcap.c -> windows-termcap.c.
* configure: Regenerate.
* gdb_curses.h: Change comment to reflect rename from win32-termcap.c ->
windows-termcap.c.
* i386-cygwin-tdep.c: Handle rename from win32-tdep.h -> windows-tdep.h.
* i386-windows-nat.c: Refect rename from win32-nat.h -> windows-nat.h.
* windows-nat.c: Ditto.  Also reflect rename from from win32-tdep.h ->
windows-tdep.h.
(win32_make_so): Handle cygwin compiler warning due to change of load_addr from
DWORD to LPVOID.
(handle_load_dll): Use %p in format string to properly print address and avoid
a compiler warning.
(DEBUG_EXCEPTION_SIMPLE): Ditto.
(handle_exception): Ditto.
* windows-tdep.c: Handle rename from win32-tdep.h -> windows-tdep.h.
* config/i386/cygwin.mh: Handle rename from win32-nat.o -> windows-nat.o.
* config/i386/mingw.mh: Ditto.
* config/i386/mingw64.mh: Ditto.
@
text
@d151 1
a151 1
			i386-darwin-tdep.o"
@


1.208
log
@        * amd64-windows-nat.c, amd64-windows-tdep.c: New files.
        * config/i386/mingw64.mh, config/i386/nm-cygwin64.h: New files.
        * configure.host, configure.tgt: Add handling for x86_64/windows.
        * config/djgpp/fnchange.lst: Add entries for amd64-windows-nat.c
        and amd64-windows-tdep.c.
@
text
@d204 1
a204 1
			solib-target.o corelow.o win32-tdep.o"
d210 1
a210 1
			solib-target.o corelow.o win32-tdep.o"
d529 1
a529 1
                        solib-target.o win32-tdep.o"
@


1.207
log
@        * win32-tdep.h, win32-tdep.c: New files.
        * i386-cygwin-tdep.h: Delete.
        * i386-cygwin-tdep.c: Include win32-tdep.h instead of
        i386-cygwin-tdep.h.
        (win32_xfer_shared_library): Delete.  Moved to win32-tdep.c.
        * win32-nat.c: Likewise.
        * configure.tgt: Add win32-tdep.o to the list of target object
        files for i386-cygwin and i386-mingw targets.
@
text
@d525 6
@


1.206
log
@gdb:
2008-11-27  Tristan Gingold  <gingold@@adacore.com>

	* NEWS: Add entry for new native configuration: Darwin.
	* configure.host: Add Darwin host.
	* configure.tgt: Add Darwin target.
	* defs.h (enum gdb_osabi): Add GDB_OSABI_DARWIN.
	* osabi.c (gdb_osabi_names): Add name for Darwin abi.
	* i386-darwin-nat.c: New file.
	* i386-darwin-tdep.c: New file.
	* machoread.c: New file.
	* darwin-nat-info.c: New file.
	* darwin-nat.c: New file.
	* darwin-nat.h: New file.
	* darwin.defs: New file.
	* config/i386/darwin.mh: New file.

gdb/doc:
2008-11-27  Tristan Gingold  <gingold@@adacore.com>

	* gdb.texinfo (Darwin): Document Darwin specific features.
@
text
@d204 1
a204 1
			solib-target.o corelow.o"
d210 1
a210 1
			solib-target.o corelow.o"
@


1.206.2.1
log
@2008-12-26  Michael Snyder  <msnyder@@vmware.com>

	* Marker: adding teawater patches to branch.
@
text
@d193 1
a193 2
			solib.o solib-svr4.o symfile-mem.o corelow.o \
			linux-record.o"
d516 1
a516 2
			solib.o solib-svr4.o corelow.o symfile-mem.o \
			linux-record.o"
@


1.205
log
@2008-11-14  Daniel Gutson  <dgutson@@codesourcery.com>

	* configure.tgt (sparc64-*-linux*): Added gdbserver support.
	* regformats/reg-sparc64.dat: New file.

gdbserver/
2008-11-14  Daniel Gutson  <dgutson@@codesourcery.com>

	* Makefile.in (SFILES, clean): Added sparc64 files.
	(reg-sparc64.o, reg-sparc64.c): New.
	* configure.srv (sparc*-*-linux*): New configuration.
	* linux-low.c (regsets_fetch_inferior_registers): Swap ptrace
	syscall arguments for SPARC.
	(regsets_store_inferior_registers): Likewise.
	* linux-sparc-low.c: New file.
@
text
@d148 5
@


1.204
log
@	* mips-linux-tdep.c (mips_linux_in_dynsym_resolve_code): Update
	comments.
	(mips_linux_skip_resolver): Also use glibc_skip_solib_resolver.
	(mips_linux_init_abi): Do not override skip_trampoline_code.
	* configure.tgt (mips*-*-linux*): Add glibc-tdep.o.
	* mips-tdep.c (mips32_scan_prologue): Stop scanning at branches.
	(mips_stub_frame_sniffer): Use the stub frame sniffer for PIC stubs.
	(mips_skip_mips16_trampoline_code): Rename from
	mips_skip_trampoline_code.
	(mips_skip_pic_trampoline_code, mips_skip_trampoline_code): New.
	* infrun.c (handle_inferior_event): Do not pass zero to
	in_solib_dynsym_resolve_code.
@
text
@d414 1
@


1.203
log
@	* configure.tgt: Add i[34567]86-*-dicos* and x86_64-*-dicos*.
	(i[34567]86-*-dicos*, x86_64-*-dicos*):
	Set gdb_osabi to GDB_OSABI_DICOS.

	* defs.h (enum gdb_osabi): Add GDB_OSABI_DICOS.
	* osabi.c (gdb_osabi_name): Add "DICOS".

	* i386-dicos-tdep.c: New file.

	* Makefile.in (ALL_TARGET_OBS): Add i386-dicos-tdep.o.
	(ALLDEPFILES): Add i386-dicos-tdep.c.
	(i386-dicos-tdep.o): New rule.
@
text
@d300 1
a300 1
	gdb_target_obs="mips-tdep.o mips-linux-tdep.o \
@


1.203.6.1
log
@2008-10-04  Michael Snyder  <msnyder@@vmware.com>

	* configure.tgt: Add linux-record.o here instead of in NATDEPFILES.
	* config/i386/linux.mh: Remove linux-record.o from NATDEPFILES.
@
text
@d188 1
a188 2
			solib.o solib-svr4.o symfile-mem.o corelow.o \
			linux-record.o"
d510 1
a510 2
			solib.o solib-svr4.o corelow.o symfile-mem.o \
			linux-record.o"
@


1.203.4.1
log
@Add record target to GDB.
@
text
@d188 1
a188 2
			solib.o solib-svr4.o symfile-mem.o corelow.o \
			linux-record.o"
d510 1
a510 2
			solib.o solib-svr4.o corelow.o symfile-mem.o \
			linux-record.o"
@


1.202
log
@2008-04-23  Maxim Grigoriev  <maxim2405@@gmail.com>

	* Makefile.in (xtensa-tdep.o): Update dependencies.
	* configure.tgt (xtensa*): Update dependencies.
	* xtensa-tdep.c (arreg_number): Renamed from areg_number.
	Local variable areg renamed to arreg.
	(areg_number): New function.
	(xtensa_pseudo_register_read, xtensa_pseudo_register_write)
	(xtensa_extract_return_value, xtensa_store_return_value): areg_number
	replaced by arreg_number.
	(xtensa_windowed_frame_cache, struct xtensa_frame_cache): New comments.
	(xtensa_alloc_frame_cache): Initialize cache->wd.ws.
	(xtensa_scan_prologue): New function.
	(xtensa_frame_cache): New local fp_regnum. Handle separately the case,
	when ENTRY instraction hasn't been executed yet. Get the frame pointer
	value based on prologue analysis. Fix the bugs preventing WS and
	AR4-AR7/A11 registers from getting right values for intermediate frames,
	whose registers have been already spilled.
	(xtensa_frame_prev_register): Fix WS register value. Use are_number
	and arreg_number appropriately.
	(xtensa_gdbarch_init): Set solib_svr4_fetch_link_map_offsets to
	svr4_ilp32_fetch_link_map_offsets.
@
text
@d148 6
d500 6
d557 1
@


1.201
log
@	* configure.tgt (sh-*-linux*): Match sh*.  Add glibc-tdep.o.
	* sh-linux-tdep.c (sh_linux_init_abi): Use glibc_skip_solib_resolver
	and svr4_fetch_objfile_link_map.
	* Makefile.in (sh-linux-tdep.o): Update.
@
text
@d526 1
a526 1
	gdb_target_obs="xtensa-tdep.o xtensa-config.o"
@


1.200
log
@2008-02-11  Maxim Grigoriev  <maxim2405@@gmail.com>

	* NEWS (New native configurations): Xtensa GNU/Linux.
	(New targets): Xtensa GNU/Linux.
	* Makefile.in (ALL_TARGET_OBS): Add xtensa-linux-nat.o and
	xtensa-linux-tdep.o
	(ALLDEPFILES): Add xtensa-linux-tdep.c and xtensa-linux-nat.c
	(xtensa-linux-nat.o, xtensa-linux-tdep.o): New dependencies.
	* configure.tgt (xtensa*-*-linux*): New entry.
	* xtensa-config.c (xtensa_tdep): New variable.
	(xtensa_config_byte_order, xtensa_config_tdep): Removed.
	(rmap): Change format based on new macro XTREG.
	(XTENSA_CONFIG_INSTANTIATE): Use new macro defined in xtensa-tdep.h.
	* xtensa-linux-nat.c: New.
	* xtensa-linux-tdep.c: New.
	* xtensa-xtregs.c: New.
	* xtensa-tdep.h (xtensa_elf_gregset_t): Update.
	(XTENSA_ELF_NGREG, XTREG, XTREG_END, XTENSA_GDBARCH_TDEP_INSTANTIATE)
	(XCHAL_NUM_CONTEXTS, XCHAL_HAVE_EXCEPTIONS): New macros.
	(xtensa_register_t): New field coprocessor.
	(XTENSA_REGISTER_FLAGS_PRIVILEGED): Name spelling corrected.
	* xtensa-tdep.c (xtensa_config_tdep, xtensa_config_byte_order): Removed.
	(xtensa_pseudo_register_read, xtensa_pseudo_register_write):
	Update to handle privileged registers.
	(xtensa_supply_gregset) Remove exccause and excvaddr registers.
	(xtensa_push_dummy_call): Set windowstart register correctly.
	(call0_analyze_prologue): Initialize xtensa_default_isa.
	(xtensa_derive_tdep): New.
	(xtensa_gdbarch_init): Get rid of xtensa_config_byte_order and
	xtensa_config_tdep, use XCHAL_HAVE_BE and xtensa_tdep instead.
	Call xtensa_derive_tdep().
	* config/xtensa/linux.mh: New.
	* regformats/reg-xtensa.dat: New.
@
text
@d370 1
a370 2
# FIXME should that be sh*-*-linux*, perhaps?
sh-*-linux*)
d373 1
a373 1
			dsrec.o solib.o solib-svr4.o symfile-mem.o"
@


1.200.6.1
log
@Check in ARCompact simulator.  A valid configuration is arc-elf.
This is not quite finished and has most likely a few files that are
obsolete & not used, but it's good enough to run gcc regression tests.
@
text
@a62 12
arc*-*-linux*)
	gdb_target_obs="arc-tdep.o arc-linux-tdep.o solib.o solib-svr4.o \
			solib-legacy.o corelow.o"
	build_gdbserver=yes
	;;
arc-a4-*)
	gdb_target_obs="arc-tdep.o arc-jtag.o arc-jtag-tdep.o arc-jtag-ops.o"
	;;
arc*-*-*)
	gdb_target_obs="arc-tdep.o arc-jtag.o arc-jtag-tdep.o arc-jtag-ops.o"
	;;

@


1.200.6.2
log
@gdb/insight for ARCompact (from Richard Stuckey)
@
text
@a63 1
	# Target: ARC Linux based targets
d65 1
a65 1
			corelow.o"
d68 3
a70 1

d72 1
a72 6
	# Target: ARC elf32 based target
	gdb_target_obs="arc-tdep.o arc-jtag.o arc-elf32-tdep.o arc-jtag-ops.o \
			arc-jtag-actionpoints.o arc-remote-fileio.o arc-xiss.o \
			arc-registers.o arc-architecture.o arc-board.o \
			arc-memory.o arc-arguments.o arc-gpio.o arc-inst-tracing.o"
	gdb_sim=../sim/arc/libsim.a
@


1.199
log
@	Add NetBSD/hppa target and host support.

	* hppabsd-tdep.c (hppabsd_supply_gregset): Move to ...
	(hppabsd_gregset): Move to ...
	(hppabsd_regset_from_core_section): Rename
	hppaobsd_regset_from_core_section and move to ...
	(hppabsd_find_global_pointer): Update comment.
	(hppabsd_init_abi): Make global. Do not register
	hppabsd_regset_from_core_section.
	(hppabsd_core_osabi_sniffer): Rename hppaobsd_core_osabi_sniffer and
	move to ...
	(_initialize_hppabsd_tdep): Move to ...
	* hppaobsd-tdep.c: ... here. New file.
	* hppnbsd-tdep.c: New file.
	* hppnbsd-nat.c: New file.
        * Makefile.in (ALL_TARGET_OBS): Add hppanbsd-tdep.o and hppaobsd-tdep.o.
	(ALLDEPFILES): Add hppabsd-nat.c and hppabsd-tdep.c.
        (hppabsd-nat.o, hppabsd-tdep.o): New dependencies.
        (hppabsd-tdep.o, hppaobsd-tdep.o): Update dependencies.
	* configure.host (hppa*-*-netbsd*): New entry.
	* configure.tgt (hppa*-*-netbsd*): New entry.
	(hppa*-*-openbsd*): Update.
	* NEWS (New native configuration): Mention NetBSD/hppa.
	(New targets): Mention NetBSD/hppa.
@
text
@d519 6
a524 1

@


1.198
log
@	* configure.tgt (*-*-mingw32ce*): Set gdb_osabi to
	GDB_OSABI_WINCE.
	(*-*-mingw* | *-*-cygwin*): Set gdb_osabi to GDB_OSABI_CYGWIN.
@
text
@d133 5
d140 1
a140 1
	gdb_target_obs="hppa-tdep.o hppabsd-tdep.o \
@


1.197
log
@	* configure.ac (--enable-targets): New configure option.
	Collect gdb_target_obs of multiple targets into TARGET_OBS.
	Call configure.tgt multiple times, using $targ as operand.
	* configure.tgt: Operate on $targ instead of $target.
	* configure: Regenerate.
	* Makefile.in (ALL_TARGET_OBS): Define.

	* NEWS: Mention --enable-targets option.
@
text
@d533 3
@


1.196
log
@	* config/alpha/alpha-linux.mt: Remove file.
	* config/alpha/alpha.mt: Remove file.
	* config/alpha/alpha-osf1.mt: Remove file.
	* config/alpha/fbsd.mt: Remove file.
	* config/alpha/nbsd.mt: Remove file.
	* config/alpha/obsd.mt: Remove file.
	* config/arm/embed.mt: Remove file.
	* config/arm/linux.mt: Remove file.
	* config/arm/nbsd.mt: Remove file.
	* config/arm/obsd.mt: Remove file.
	* config/arm/wince.mt: Remove file.
	* config/avr/avr.mt: Remove file.
	* config/cris/cris.mt: Remove file.
	* config/frv/frv.mt: Remove file.
	* config/h8300/h8300.mt: Remove file.
	* config/i386/cygwin.mt: Remove file.
	* config/i386/fbsd64.mt: Remove file.
	* config/i386/fbsd.mt: Remove file.
	* config/i386/i386gnu.mt: Remove file.
	* config/i386/i386.mt: Remove file.
	* config/i386/i386sol2.mt: Remove file.
	* config/i386/linux64.mt: Remove file.
	* config/i386/linux.mt: Remove file.
	* config/i386/mingw.mt: Remove file.
	* config/i386/nbsd64.mt: Remove file.
	* config/i386/nbsd.mt: Remove file.
	* config/i386/nto.mt: Remove file.
	* config/i386/obsd64.mt: Remove file.
	* config/i386/obsd.mt: Remove file.
	* config/i386/sol2-64.mt: Remove file.
	* config/ia64/ia64.mt: Remove file.
	* config/ia64/linux.mt: Remove file.
	* config/iq2000/iq2000.mt: Remove file.
	* config/m32c/m32c.mt: Remove file.
	* config/m32r/linux.mt: Remove file.
	* config/m32r/m32r.mt: Remove file.
	* config/m68hc11/m68hc11.mt: Remove file.
	* config/m68k/linux.mt: Remove file.
	* config/m68k/monitor.mt: Remove file.
	* config/m68k/nbsd.mt: Remove file.
	* config/m68k/obsd.mt: Remove file.
	* config/m88k/obsd.mt: Remove file.
	* config/mep/mep.mt: Remove file.
	* config/mips/embed.mt: Remove file.
	* config/mips/irix5.mt: Remove file.
	* config/mips/irix6.mt: Remove file.
	* config/mips/linux.mt: Remove file.
	* config/mips/nbsd.mt: Remove file.
	* config/mips/obsd64.mt: Remove file.
	* config/mn10300/linux.mt: Remove file.
	* config/mn10300/mn10300.mt: Remove file.
	* config/mt/mt.mt: Remove file.
	* config/pa/hppahpux.mt: Remove file.
	* config/pa/hppa.mt: Remove file.
	* config/pa/linux.mt: Remove file.
	* config/pa/obsd.mt: Remove file.
	* config/powerpc/aix.mt: Remove file.
	* config/powerpc/linux.mt: Remove file.
	* config/powerpc/nbsd.mt: Remove file.
	* config/powerpc/obsd.mt: Remove file.
	* config/powerpc/ppc-eabi.mt: Remove file.
	* config/s390/s390.mt: Remove file.
	* config/score/embed.mt: Remove file.
	* config/sh/embed.mt: Remove file.
	* config/sh/linux.mt: Remove file.
	* config/sh/nbsd.mt: Remove file.
	* config/sh/obsd.mt: Remove file.
	* config/sh/sh64.mt: Remove file.
	* config/sparc/embed.mt: Remove file.
	* config/sparc/fbsd.mt: Remove file.
	* config/sparc/linux64.mt: Remove file.
	* config/sparc/linux.mt: Remove file.
	* config/sparc/nbsd64.mt: Remove file.
	* config/sparc/nbsd.mt: Remove file.
	* config/sparc/obsd64.mt: Remove file.
	* config/sparc/obsd.mt: Remove file.
	* config/sparc/sol2-64.mt: Remove file.
	* config/sparc/sol2.mt: Remove file.
	* config/sparc/sparc64.mt: Remove file.
	* config/sparc/sparc.mt: Remove file.
	* config/spu/spu.mt: Remove file.
	* config/v850/v850.mt: Remove file.
	* config/vax/nbsd.mt: Remove file.
	* config/vax/obsd.mt: Remove file.
	* config/vax/vax.mt: Remove file.
	* config/xstormy16/xstormy16.mt: Remove file.
	* config/xtensa/xtensa.mt: Remove file.

	* configure.tgt (gdb_target_cpu): Remove.  Do not set anywhere.
	(gdb_target): Likewise.
	(gdb_target_obs): Document.  Set for every target to contents
	of TDEPFILES in former .mt makefile fragment.

	* configure.ac (TARGET_OBS): Define.
	(target_makefile_frag, gdb_target_cpu): Do not define.
	* configure: Regenerate.

	* Makefile.in (MT_FLAGS): Remove.
	(GLOBAL_CFLAGS): Update.
	(TARGET_OBS): Substitute from configure.
	(DEPFILES): Remove TDEPFILES, add TARGET_OBS.
	(@@target_makefile_frag@@): Remove.

doc/ChangeLog:

	* Makefile.in (Makefile): Do not depend on target_makefile_frag.

testsuite/ChangeLog:

	* Makefile.in (Makefile): Do not depend on target_makefile_frag.
	(target_cpu): Remove.
@
text
@d10 1
a10 1
case $target in
d22 1
a22 1
    echo "*** Configuration $target is obsolete." >&2
d30 1
a30 1
case "${target}" in
d524 1
a524 1
case "${target}" in
@


1.195
log
@	* config/arm/embed.mt (SIM_OBS, SIM): Remove.
	* config/avr/avr.mt (SIM_OBS, SIM): Remove.
	* config/frv/frv.mt (SIM_OBS, SIM): Remove.
	* config/h8300/h8300.mt (SIM_OBS, SIM): Remove.
	* config/iq2000/iq2000.mt (SIM_OBS, SIM): Remove.
	* config/m32c/m32c.mt (SIM_OBS, SIM): Remove.
	* config/m32r/linux.mt (SIM_OBS, SIM): Remove.
	* config/m32r/m32r.mt (SIM_OBS, SIM): Remove.
	* config/m68hc11/m68hc11.mt (SIM_OBS, SIM): Remove.
	* config/mips/embed.mt (SIM_OBS, SIM): Remove.
	* config/mips/linux.mt (SIM_OBS, SIM): Remove.
	* config/mips/nbsd.mt (SIM_OBS, SIM): Remove.
	* config/mn10300/mn10300.mt (SIM_OBS, SIM): Remove.
	* config/powerpc/linux.mt (SIM_OBS, SIM): Remove.
	* config/powerpc/nbsd.mt (SIM_OBS, SIM): Remove.
	* config/powerpc/ppc-sim.mt: Remove file.
	* config/sh/embed.mt (SIM_OBS, SIM): Remove.
	* config/sh/linux.mt (SIM_OBS, SIM): Remove.
	* config/sh/nbsd.mt (SIM_OBS, SIM): Remove.
	* config/sh/sh64.mt (SIM_OBS, SIM): Remove.
	* config/sparc/embed.mt (SIM_OBS, SIM): Remove.
	* config/v850/v850.mt (SIM_OBS, SIM): Remove.
	* config/xstormy16/xstormy16.mt (SIM_OBS, SIM): Remove.

	* configure.tgt (gdb_sim): Document variable.
	(arm*-*-* | thumb*-*-* | strongarm*-*-* | xscale-*-*): Set it.
	(avr-*-*): Likewise.
	(frv-*-*): Likewise.
	(h8300-*-*): Likewise.
	(iq2000-*-*): Likewise.
	(m32c-*-*): Likewise.
	(m32r*-*-linux*): Likewise.
	(m32r*-*-*): Likewise.
	(m68hc11*-*-*|m6811*-*-*): Likewise.
	(mips*-*-*): Likewise.
	(mips*-*-linux*): Likewise.
	(mips*-*-netbsd* | mips*-*-knetbsd*-gnu): Likewise.
	(mn10300-*-*): Likewise.
	(powerpc-*-linux* | powerpc64-*-linux*): Likewise.
	(powerpc-*-netbsd* | powerpc-*-knetbsd*-gnu): Likewise.
	(powerpc*-*-*): Use ppc-eabi target.  Conditionally set gdb_sim.
	(sh*): Set gdb_sim.
	(sh-*-linux*): Likewise.
	(sh*-*-netbsdelf* | sh*-*-knetbsd*-gnu): Likewise.
	(sh64-*-elf*): Likewise.
	(sparc-*-rtems*): Likewise.
	(v850*-*-elf): Likewise.
	(xstormy16-*-*): Likewise.

	* configure.ac (IGNORE_SIM, IGNORE_SIM_OBS): Do not set.
	(SIM, SIM_OBS): Set depending on ${ignore_sim} and ${gdb_sim}.
	* configure: Regenerate.
	* Makefile.in (SIM, SIM_OBS): Substitute from configure.
	(@@IGNORE_SIM@@, @@IGNORE_SIM_OBS@@): Remove.
@
text
@d5 1
a5 2
#  gdb_target_cpu	generic name of CPU
#  gdb_target		name of GDB target definition to use
a27 31
# Map target cpu into the config cpu subdirectory name.
# The default is $target_cpu.

case "${target_cpu}" in

alpha*)			gdb_target_cpu=alpha ;;
am33_2.0*)              gdb_target_cpu=mn10300 ;;
arm*)			gdb_target_cpu=arm ;;
avr*)			gdb_target_cpu=avr ;;
fido*)			gdb_target_cpu=m68k ;;
hppa*)			gdb_target_cpu=pa ;;
i[34567]86*)		gdb_target_cpu=i386 ;;
m68hc11*|m6811*)	gdb_target_cpu=m68hc11 ;;
m68*)			gdb_target_cpu=m68k ;;
m88*)			gdb_target_cpu=m88k ;;
mips*)			gdb_target_cpu=mips ;;
powerpc* | rs6000)	gdb_target_cpu=powerpc ;;
sparc*)			gdb_target_cpu=sparc ;;
thumb*)			gdb_target_cpu=arm ;;
s390*)			gdb_target_cpu=s390 ;;
score*)			gdb_target_cpu=score ;;
sh*)			gdb_target_cpu=sh ;;
spu*)			gdb_target_cpu=spu ;;
strongarm*)		gdb_target_cpu=arm ;;
xscale*)		gdb_target_cpu=arm ;;
x86_64*)		gdb_target_cpu=i386 ;;
xtensa*)		gdb_target_cpu=xtensa ;;
*)			gdb_target_cpu=$target_cpu ;;

esac

d33 2
a34 1
	gdb_target=alpha-osf1
d37 3
a39 1
	gdb_target=alpha-linux
d42 3
a44 1
	gdb_target=fbsd
d47 4
a50 1
	gdb_target=nbsd
d53 4
a56 1
	gdb_target=obsd
d59 2
a60 1
	gdb_target=alpha
a62 1
# mn10300 / am33 liunux
d64 3
a66 1
	gdb_target=linux
d70 3
a72 1
	gdb_target=wince
d76 3
a78 1
	gdb_target=linux
d82 2
a83 1
	gdb_target=nbsd
d86 3
a88 1
	gdb_target=obsd
d91 2
a92 1
	gdb_target=embed
d97 2
a98 1
	gdb_target=avr
d106 2
a107 1
	gdb_target=cris
d111 3
a113 1
	gdb_target=frv
d118 2
a119 1
	gdb_target=h8300
d124 3
a126 1
	gdb_target=hppahpux
d129 3
a131 1
	gdb_target=linux
d134 3
a136 1
	gdb_target=obsd
d139 2
a140 1
	gdb_target=hppa
d144 3
a146 1
	gdb_target=fbsd
d149 3
a151 1
	gdb_target=nbsd
d154 3
a156 1
	gdb_target=obsd
d159 3
a161 1
	gdb_target=nto
d164 4
a167 1
	gdb_target=sol2-64
d170 3
a172 1
	gdb_target=i386sol2
d175 3
a177 1
	gdb_target=linux
d181 3
a183 1
	gdb_target=i386gnu
d186 3
a188 1
	gdb_target=cygwin
d192 3
a194 1
	gdb_target=mingw
d198 2
a199 1
	gdb_target=i386
d203 3
a205 1
	gdb_target=linux
d209 2
a210 1
	gdb_target=ia64
d214 1
a214 1
	gdb_target=iq2000
d219 2
a220 1
	gdb_target=m32c
d227 3
a229 1
	gdb_target=linux
d234 3
a236 1
	gdb_target=m32r
d241 2
a242 1
	gdb_target=m68hc11
d248 2
a249 1
	gdb_target=monitor
d252 3
a254 1
	gdb_target=linux
d258 3
a260 1
	gdb_target=nbsd
d263 3
a265 1
	gdb_target=obsd
d269 2
a270 1
	gdb_target=obsd
d274 3
a276 1
	gdb_target=mep
d280 2
a281 1
	gdb_target=irix5
d284 2
a285 1
	gdb_target=irix6
d288 3
a290 1
	gdb_target=linux
d295 3
a297 1
	gdb_target=nbsd
d301 3
a303 1
	gdb_target=obsd64
d306 2
a307 1
	gdb_target=embed
d312 2
a313 1
	gdb_target=mn10300
d318 2
a319 1
	gdb_target=mt
d323 3
a325 1
	gdb_target=nbsd
d329 3
a331 1
	gdb_target=obsd
d334 3
a336 1
	gdb_target=aix
d339 3
a341 1
	gdb_target=linux
d346 3
a348 1
	gdb_target=ppc-eabi
d355 2
a356 1
	gdb_target=s390
d361 2
a362 1
	gdb_target=embed
d367 3
a369 1
	gdb_target=linux
d374 2
a375 1
	gdb_target=nbsd
d379 3
a381 1
	gdb_target=obsd
d384 2
a385 1
	gdb_target=sh64
d389 2
a390 1
	gdb_target=embed
d395 3
a397 1
	gdb_target=linux
d400 4
a403 1
	gdb_target=linux64
d406 3
a408 1
	gdb_target=fbsd
d411 3
a413 1
	gdb_target=nbsd
d416 4
a419 1
	gdb_target=nbsd64
d422 4
a425 1
	gdb_target=obsd
d428 5
a432 1
	gdb_target=obsd64
d435 3
a437 1
	gdb_target=sol2
d440 3
a442 1
	gdb_target=sol2-64
d445 2
a446 1
	gdb_target=embed
d450 2
a451 1
	gdb_target=sparc
d454 2
a455 1
	gdb_target=sparc64
d459 2
a460 1
	gdb_target=spu
d465 2
a466 1
	gdb_target=xstormy16
d471 2
a472 1
	gdb_target=v850
d477 3
a479 1
	gdb_target=nbsd
d482 2
a483 1
	gdb_target=obsd
d486 2
a487 1
	gdb_target=vax
d491 4
a494 1
	gdb_target=linux64
d498 4
a501 1
	gdb_target=fbsd64
d504 3
a506 1
	gdb_target=nbsd64
d509 4
a512 1
	gdb_target=obsd64
d516 2
a517 1
	gdb_target=xtensa
@


1.194
log
@	* configure.tgt (gdb_osabi, build_gdbserver): Comment variables.
	(arm*-*-*): Do not set obsolete build_rdi_share variable.

	(*-*-freebsd* | *-*-kfreebsd*-gnu): Remove generic case, replace by ...
	(alpha*-*-freebsd* | alpha*-*-kfreebsd*-gnu)
	(i[34567]86-*-freebsd* | i[34567]86-*-kfreebsd*-gnu)
	(sparc*-*-freebsd* | sparc*-*-kfreebsd*-gnu): ... specific cases.
	(x86_64-*-freebsd* | x86_64-*-kfreebsd*-gnu): Re-sort.

	(xscale-*-*): Merge into arm*-*-* case.
	(fido-*-elf*): Merge into m68*-*-elf* case.
	(m68*-*-aout*, m68*-*-coff*, m68*-*-elf*, m68*-*-rtems*,
	m68*-*-uclinux*): Merge cases.
	(powerpc-*-linux*, powerpc64-*-linux*): Merge cases.
	(sh-*-coff*, sh-*-elf*): Merge into sh* case.
@
text
@d7 1
d104 1
d109 4
d121 1
d126 1
d189 1
d194 3
d201 1
d206 1
d211 1
d245 1
d250 1
d257 1
d262 1
d271 1
d281 1
d285 1
d287 1
a287 3
	  gdb_target=ppc-sim
	else
	  gdb_target=ppc-eabi
d303 1
d308 1
d315 1
d319 1
d351 1
d367 1
d372 1
@


1.193
log
@	* configure.tgt: Reformat main case statement.
@
text
@d7 2
a62 7
x86_64-*-freebsd* | x86_64-*-kfreebsd*-gnu)
	gdb_target=fbsd64
	;;
*-*-freebsd* | *-*-kfreebsd*-gnu)
	gdb_target=fbsd
	;;

d69 3
d101 1
a101 5
arm*-*-* | thumb*-*-* | strongarm*-*-*)
	gdb_target=embed
	build_rdi_share=yes
	;;
xscale-*-*)
a102 1
	build_rdi_share=yes
a112 4
fido-*-elf*)
	gdb_target=monitor
	;;

d134 3
d199 2
a200 10
m68*-*-aout*)
	gdb_target=monitor
	;;
m68*-*-coff*)
	gdb_target=monitor
	;;
m68*-*-elf*)
	gdb_target=monitor
	;;
m68*-*-rtems*)
a212 3
m68*-*-uclinux*)
	gdb_target=monitor
	;;
d259 1
a259 5
powerpc-*-linux*)
	gdb_target=linux
	build_gdbserver=yes
	;;
powerpc64-*-linux*)
a279 6
sh-*-coff*)
	gdb_target=embed
	;;
sh-*-elf*)
	gdb_target=embed
	;;
d304 3
d362 3
@


1.192
log
@	* configure.tgt: Remove hppa*64*-*-hpux11* special case.
	* config/pa/hppa64.mt: Delete file.
	* config/pa/hppahpux.mt (MT_CFLAGS): Remove.
	(TDEPFILES): Move somread.o to ...
	* config/pa/hpux.mh (NATDEPFILES): ... here.

	* configure.ac: Add check for elf_hp.h header.
	Search libdl and libxpdl for dlgetmodinfo.
	* config.in, configure: Regenerate.
	* solib-pa64.c: Conditionalize compilation on #ifdef HAVE_ELF_HP_H
	instead of #ifndef PA_SOM_ONLY.  Include "solib.h".
	(pa64_solib_select): Take gdbarch instead of tdep argument.  Call
	set_solib_ops instead of modifying current_target_so_ops.
	* solib-pa64.h (pa64_solib_select): Update prototype.
	* solib-som.c: Remove include of "som.h".  Include "solib.h".
	(som_solib_select): Take gdbarch instead of tdep argument.  Call
	set_solib_ops instead of modifying current_target_so_ops.
	* solib-som.h (som_solib_select): Update prototype.
	* hppa-hpux-tdep.c (hppa_hpux_som_init_abi): Pass gdbarch instead
	of tdep to som_solib_select call.
	(hppa_hpux_elf_init_abi): Pass gdbarch instead of tdep to
	pa64_solib_select call.
	* Makefile.in: Update dependencies.
@
text
@d62 2
a63 1
			gdb_target=fbsd64 ;;
d65 2
a66 1
			gdb_target=fbsd	;;
d68 6
a73 2
alpha*-*-osf*)		gdb_target=alpha-osf1 ;;
alpha*-*-linux*)	gdb_target=alpha-linux ;;
d75 8
a82 3
			gdb_target=nbsd ;;
alpha*-*-openbsd*)	gdb_target=obsd ;;
alpha*-*-*)		gdb_target=alpha ;;
d85 3
a87 1
am33_2.0*-*-linux*)	gdb_target=linux ;;
d90 7
a96 6
			gdb_target=wince
			build_gdbserver=yes
			;;
arm*-*-linux*)		gdb_target=linux
			build_gdbserver=yes
			;;
d98 5
a102 2
			gdb_target=nbsd ;;
arm*-*-openbsd*)	gdb_target=obsd ;;
d104 40
a143 21
			gdb_target=embed
			build_rdi_share=yes
                        ;;
xscale-*-*)		gdb_target=embed
			build_rdi_share=yes
                        ;;

avr-*-*)		gdb_target=avr ;;

cris*)                  gdb_target=cris ;;

fido-*-elf*)		gdb_target=monitor ;;

frv-*-*)		gdb_target=frv ;;

h8300-*-*)		gdb_target=h8300 ;;

hppa*-*-hpux*)		gdb_target=hppahpux ;;
hppa*-*-linux*)		gdb_target=linux ;;
hppa*-*-openbsd*)	gdb_target=obsd ;;
hppa*-*-*)		gdb_target=hppa ;;
d146 77
a222 40
			gdb_target=nbsd ;;
i[34567]86-*-openbsd*)	gdb_target=obsd ;;
i[34567]86-*-nto*)	gdb_target=nto ;;
i[34567]86-*-solaris2.1[0-9]*)	gdb_target=sol2-64 ;;
i[34567]86-*-solaris*)	gdb_target=i386sol2 ;;
i[34567]86-*-linux*)	gdb_target=linux
			build_gdbserver=yes
			;;
i[34567]86-*-gnu*)	gdb_target=i386gnu ;;
i[34567]86-*-cygwin*)	gdb_target=cygwin
			build_gdbserver=yes
			;;
i[34567]86-*-mingw32*)	gdb_target=mingw
			build_gdbserver=yes
			;;
i[34567]86-*-*)		gdb_target=i386 ;;

ia64-*-linux*)		gdb_target=linux
			build_gdbserver=yes
			;;
ia64*-*-*)		gdb_target=ia64 ;;

iq2000-*-*)		gdb_target=iq2000 ;;

m32c-*-*)		gdb_target=m32c ;;

m32r*-*-linux*)		gdb_target=linux
			build_gdbserver=yes
			;;
m32r*-*-*)		gdb_target=m32r ;;

m68hc11*-*-*|m6811*-*-*)	gdb_target=m68hc11 ;;

m68*-*-aout*)		gdb_target=monitor ;;
m68*-*-coff*)		gdb_target=monitor ;;
m68*-*-elf*)		gdb_target=monitor ;;
m68*-*-rtems*)		gdb_target=monitor ;;
m68*-*-linux*)		gdb_target=linux
			build_gdbserver=yes
			;;
d224 27
a250 13
			gdb_target=nbsd ;;
m68*-*-openbsd*)	gdb_target=obsd ;;
m68*-*-uclinux*)	gdb_target=monitor ;;

m88*-*-openbsd*)	gdb_target=obsd ;;

mep-*-*)		gdb_target=mep ;;

mips*-sgi-irix5*)	gdb_target=irix5 ;;
mips*-sgi-irix6*)	gdb_target=irix6 ;;
mips*-*-linux*)		gdb_target=linux
			build_gdbserver=yes
			;;
d252 16
a267 7
			gdb_target=nbsd ;;
mips64*-*-openbsd*)	gdb_target=obsd64 ;;
mips*-*-*)		gdb_target=embed ;;

mn10300-*-*)		gdb_target=mn10300 ;;

mt-*-*)			gdb_target=mt ;;
d270 5
a274 2
			gdb_target=nbsd ;;
powerpc-*-openbsd*)	gdb_target=obsd ;;
d276 33
a308 20
			gdb_target=aix ;;
powerpc-*-linux*)	gdb_target=linux
			build_gdbserver=yes
			;;
powerpc64-*-linux*)	gdb_target=linux
			build_gdbserver=yes
			;;
powerpc*-*-*)		if test -f ../sim/ppc/Makefile; then
			  gdb_target=ppc-sim
			else
			  gdb_target=ppc-eabi
			fi ;;

s390*-*-*)		gdb_target=s390
			build_gdbserver=yes
			;;

score-*-*)		gdb_target=embed ;;
sh-*-coff*)		gdb_target=embed ;;
sh-*-elf*)		gdb_target=embed ;;
d310 4
a313 3
sh-*-linux*)		gdb_target=linux
			build_gdbserver=yes
			;;
d315 18
a332 7
			gdb_target=nbsd ;;
sh*-*-openbsd*)		gdb_target=obsd ;;
sh64-*-elf*)		gdb_target=sh64 ;;
sh*)			gdb_target=embed ;;

sparc-*-linux*)		gdb_target=linux ;;
sparc64-*-linux*)	gdb_target=linux64 ;;
d334 2
a335 1
			gdb_target=nbsd ;;
d337 8
a344 3
			gdb_target=nbsd64 ;;
sparc-*-openbsd*)	gdb_target=obsd ;;
sparc64-*-openbsd*)	gdb_target=obsd64 ;;
d346 2
a347 2
			gdb_target=sol2
			;;
d349 24
a372 13
			gdb_target=sol2-64
			;;
sparc-*-rtems*)		gdb_target=embed ;;
sparc-*-*)		gdb_target=sparc ;;
sparc64-*-*)		gdb_target=sparc64 ;;

spu*-*-*)		gdb_target=spu
			build_gdbserver=yes
			;;

xstormy16-*-*)          gdb_target=xstormy16 ;;

v850*-*-elf)		gdb_target=v850 ;;
d375 13
a387 7
			gdb_target=nbsd ;;
vax-*-openbsd*)		gdb_target=obsd ;;
vax-*-*)		gdb_target=vax ;;

x86_64-*-linux*)	gdb_target=linux64
			build_gdbserver=yes
			;;
d389 9
a397 4
			gdb_target=nbsd64 ;;
x86_64-*-openbsd*)	gdb_target=obsd64 ;;

xtensa*)		gdb_target=xtensa ;;
@


1.191
log
@	* config/i386/mingw.mh, config/i386/mingw.mt: New files.
	* configure.tgt	(i[34567]86-*-mingw32*): Set gdb_target = mingw.
	* win32-nat.c: Only include cygwin.h on Cygwin host.  Don't
	include procfs.h.
	(cygwin_load_start, cygwin_load_end, cygwin_exceptions): Disable
	if not building on Cygwin.
	(win32_make_so, handle_output_debug_string, handle_exception)
	(do_initial_win32_stuff): Wrap Cygwin specific code in __CYGWIN__.
	(win32_attach): Only fallback to Cygwin pids if building on
	Cygwin.
	(win32_pid_to_exec_file): Disable Cygwin specific code, if not
	building on Cygwin.
	(win32_create_inferior): Disable starting the inferior through a
	shell, environment var processing and tty handling if not building
	on Cygwin.
	(cygwin_pid_to_str): Rename to ...
	(win32_pid_to_str): ... this.
	(init_win32_ops): Update use of win32_pid_to_str.  Disable "shell"
	and "cygwin-exceptions" commands if not building on Cygwin.
@
text
@a103 1
hppa*64*-*-hpux11*)	gdb_target=hppa64 ;;
@


1.190
log
@	* configure.tgt: Recognize fido-*-elf.
@
text
@d123 1
a123 1
i[34567]86-*-mingw32*)	gdb_target=i386
@


1.189
log
@	* configure.host (rs6000-*-*): Merge with powerpc-*-aix* rules.
	* configure.tgt (rs6000-*-*): Likewise.
	* config/rs6000/aix4.mh: Delete file.
	* config/rs6000/aix4.mt: Delete file.
	* config/rs6000/rs6000.mh: Delete file.
	* config/rs6000/rs6000.mt: Delete file.

	* config/powerpc/nm-aix.h: Delete file.
	* config/powerpc/aix.mh (NAT_FILE): Set to config/rs6000/nm-rs6000.h.
@
text
@d35 1
d98 2
@


1.188
log
@	* configure.tgt (arm-*-nto*, sh-*-nto*): Remove.
@
text
@d41 1
a41 1
powerpc*)		gdb_target_cpu=powerpc ;;
d174 2
a175 1
powerpc-*-aix*)		gdb_target=aix ;;
a187 3
rs6000-*-aix4*)		gdb_target=aix4 ;;
rs6000-*-*)		gdb_target=rs6000 ;;

@


1.187
log
@gdb/

	* configure.tgt: Move mips*-*-pe and sh*-*-pe to
	the obsoletion stanza.
	* NEWS: Mention deleted targets.

	* config/sh/tm-wince.h: Remove.
	* config/sh/wince.mt: Remove.
	* config/mips/tm-wince.h: Remove.
	* config/mips/wince.mt: Remove.

	* wince.c: Remove.
	* wince-stub.c: Remove.
	* wince-stub.h: Remove.
	* Makefile.in (wince.o): Remove rule.
	(wince-stub.o): Likewise.

	* mips-tdep.c (mips_next_pc): Make static.
	* mips-tdep.h (mips_next_pc): Remove declaration.
	* arm-tdep.c (arm_pc_is_thumb): Make static.
	(thumb_get_next_pc): Likewise.
	(arm_get_next_pc): Likewise.
	* arm-tdep.h (arm_pc_is_thumb_dummy): Remove declaration.
	(arm_pc_is_thumb): Likewise.
	(thumb_get_next_pc): Likewise.
	(arm_get_next_pc): Likewise.

gdb/doc/

	* gdb.texinfo (WinCE): Delete obsolete subsection.
@
text
@a83 1
arm-*-nto*)		gdb_target=nto ;;
a202 1
sh-*-nto*)		gdb_target=nto ;;
@


1.186
log
@	* MAINTAINERS: Remove d10v entry.
	* Makefile.in (SFILES): Remove dwarfread.c.
	(COMMON_OBS): Remove dwarfread.o.
	(gdb_sim_d10v_h, abug-rom.o, cpu32bug-rom.o, d10v-tdep.o, dwarfread.o)
	(remote-est.o, rom68k-rom.o): Delete.
	* NEWS: Mention removal of d10v, target abug, target cpu32bug,
	target est, target rom68k, and DWARF 1.
	* configure.tgt: Mark d10v as removed.
	* dwarf2read.c: Doc update.
	* elfread.c (struct elfinfo): Remove dboffset, dbsize, lnoffset,
	and lnsize.
	(elf_locate_sections): Do not set them.
	(elf_symfile_read): Do not call dwarf_build_psymtabs.
	* symfile.h (dwarf_build_psymtabs): Delete prototype.
	* config/m68k/monitor.mt (TDEPFILES): Prune.
	* abug-rom.c, cpu32bug-rom.c, d10v-tdep.c, dwarfread.c,
	remote-est.c, rom68k-rom.c, config/d10v/d10v.mt: Delete.

	* gdb.texinfo (M68K): Remove obsolete ROM monitors.
	* gdbint.texinfo (DWARF 1): Delete section and other dwarfread.c
	references.

	* gdb.asm/asm-source.exp: Remove d10v case.
	* lib/gdb.exp (skip_cplus_tests): Likewise.
	* gdb.asm/d10v.inc: Deleted.
@
text
@d16 1
d18 1
a157 1
mips*-*-pe)		gdb_target=wince ;;
a195 1
sh*-*-pe)		gdb_target=wince ;;
@


1.185
log
@	* Makefile.in (coff_solib_h, coff-solib.o, i386v-nat.o, lynx-nat.o)
	(remote-st.o, uw-thread.o): Delete.
	(HFILES_NO_SRCDIR, ALLDEPFILES): Update.
	* configure.host: Move hppa*-*-hiux*, i[34567]86-ncr-*,
	i[34567]86-*-dgux*, i[34567]86-*-lynxos*, i[34567]86-*-sco3.2v5*,
	i[34567]86-*-sco3.2v4*, i[34567]86-*-sco*, i[34567]86-*-sysv4.2*,
	i[34567]86-*-sysv4*, i[34567]86-*-sysv5*, i[34567]86-*-unixware2*,
	i[34567]86-*-unixware*, i[34567]86-*-sysv*, i[34567]86-*-isc*, and
	rs6000-*-lynxos* to an obsoletion stanza.
	* configure.tgt: Move hppa*-*-hiux*, i[34567]86-ncr-*,
	i[34567]86-*-lynxos*, m68*-cisco*-*, m68*-tandem-*, m68*-*-os68k*,
	and rs6000-*-lynxos* to an obsoletion stanza.  Do not mention
	i[34567]86-*-netware*.
	* NEWS: Mention deleted targets.

	* coff-solib.c, coff-solib.h, i386v-nat.c, lynx-nat.c, remote-st.c,
	uw-thread.c, config/nm-lynx.h, config/i386/i386sco.mh,
	config/i386/i386sco4.mh, config/i386/i386sco5.mh, config/i386/i386v.mh,
	config/i386/i386v4.mh, config/i386/i386v42mp.mh,
	config/i386/ncr3000.mh, config/i386/ncr3000.mt,
	config/i386/nm-i386sco.h, config/i386/nm-i386sco4.h,
	config/i386/nm-i386sco5.h, config/i386/nm-i386v.h,
	config/i386/nm-i386v4.h, config/i386/nm-i386v42mp.h,
	config/m68k/cisco.mt, config/m68k/os68k.mt, config/m68k/st2000.mt,
	config/m68k/tm-cisco.h, config/m68k/tm-os68k.h,
	config/rs6000/rs6000lynx.mh, config/rs6000/rs6000lynx.mt,
	config/rs6000/tm-rs6000ly.h: Delete files.
@
text
@d9 1
a95 2
# OBSOLETE d10v-*-*)		gdb_target=d10v ;;

@


1.184
log
@gdb/

	* arm-wince-tdep.c: New.
	* config/arm/wince.mt (DEPRECATED_TM_FILE): Use tm-arm.h.
	(MT_CFLAGS): Delete.
	(TM_CLIBS): Delete.
	(TDEPFILES): Add arm-wince-tdep.o, corelow.o, solib.o,
	solib-legacy.o, solib-svr4.o, and remove wince.o.
	* configure.tgt (arm*-*-mingw32ce*): Add.
	* signals/signals.c [HAVE_SIGNAL_H]: Check.
	(do_target_signal_to_host): Silence 'not used' warning.
	* config/arm/tm-wince.h: Remove.

gdb/gdbserver/

	* gdbserver/configure.ac: Add errno checking.
	(AC_CHECK_HEADERS): Add errno.h, fcntl.h, signal.h,
	sys/file.h and malloc.h.
	(AC_CHECK_DECLS): Add perror.
	(srv_mingwce): Handle.
	* gdbserver/configure.srv (i[34567]86-*-cygwin*): Add
	win32-i386-low.o to srv_tgtobj.
	(i[34567]86-*-mingw*): Likewise.
	(arm*-*-mingw32ce*): Add case.
	* gdbreplay.c [HAVE_SYS_FILE_H, HAVE_SIGNAL_H,
	HAVE_FCNTL_H, HAVE_ERRNO_H, HAVE_MALLOC_H]: Check.
	[__MINGW32CE__] (strerror): New function.
	[__MINGW32CE__] (errno): Define to GetLastError.
	[__MINGW32CE__] (COUNTOF): New macro.
	(remote_open): Remove extra close call.
	* mem-break.c (delete_breakpoint_at): New function.
	* mem-break.h (delete_breakpoint_at): Declare.
	* remote-utils.c [HAVE_SYS_FILE_H, HAVE_SIGNAL_H,
	HAVE_FCNTL_H, HAVE_UNISTD_H, HAVE_ERRNO_H]: Check.
	[USE_WIN32API] (read, write): Add char* casts.
	* server.c [HAVE_UNISTD_H, HAVE_SIGNAL_H]: Check.
	* server.h: Include wincecompat.h on Windows CE.
	[HAVE_ERRNO_H]: Check.
	(perror): Declare if not declared.
	* utils.c: Add stdlib.h, errno.h and malloc.h includes.
	(perror_with_name): Remove errno declaration.
	* wincecompat.h: New.
	* wincecompat.c: New.
	* win32-low.h: New.
	* win32-arm-low.c: New.
	* win32-i386-low.c: New.
	(win32-low.c): Include mem-break.h and win32-low.h, and winnt.h.
	(OUTMSG2): Make it safe.
	(_T): New macro.
	(COUNTOF): New macro.
	(NUM_REGS): Get it from the low target.
	(CONTEXT_EXTENDED_REGISTERS, CONTEXT_FLOATING_POINT,
	CONTEXT_DEBUG_REGISTERS): Add fallbacks to 0.
	(thread_rec): Let low target handle debug registers.
	(child_add_thread): Likewise.
	(child_init_thread_list): Likewise.
	(continue_one_thread): Likewise.
	(regptr): New.
	(do_child_fetch_inferior_registers): Move to ...
	* win32-i386-low.c: ... here, and rename to ...
	(do_fetch_inferior_registers): ... this.
	* win32-low.c (child_fetch_inferior_registers):
	Go through the low target.
	(do_child_store_inferior_registers): Use regptr.
	(strwinerror): New function.
	(win32_create_inferior): Handle Windows CE.
	Use strwinerror instead of strerror on Windows error
	codes.  Add program to the error output.
	Don't close the main thread handle on Windows CE.
	(win32_attach): Use coredll.dll on Windows CE.
	(win32_kill): Close current process and current
	thread handles.
	(win32_detach): Use coredll.dll on Windows CE.
	(win32_resume): Let low target handle debug registers, and
	step request.
	(handle_exception): Add/Remove initial breakpoint.  Avoid
	non-existant WSTOPSIG on Windows CE.
	(win32_read_inferior_memory): Cast to remove warning.
	(win32_arch_string): Go through the low target.
	(initialize_low): Call set_breakpoint_data with the low
	target's breakpoint.
	* win32-low.c (dr, FLAG_TRACE_BIT, FCS_REGNUM,
	FOP_REGNUM, mappings): Move to ...
	* win32-i386-low.c: ... here.
	* win32-low.c (win32_thread_info): Move to ...
	* win32-low.h: ... here.
	* Makefile.in (SFILES): Add win32-low.c, win32-i386-low.c,
	win32-arm-low.c and wincecompat.c.
	(all:): Add $EXEEXT.
	(install-only:): Likewise.
	(gdbserver:): Likewise.
	(gdbreplay:): Likewise.
	* config.in: Regenerate.
	* configure: Regenerate.
@
text
@d8 15
a102 1
hppa*-*-hiux*)		gdb_target=hppahpux ;;
a106 1
i[34567]86-ncr-*)	gdb_target=ncr3000 ;;
a110 1
i[34567]86-*-lynxos*)	gdb_target=i386lynx ;;
a116 1
i[34567]86-*-netware*)	gdb_target=i386 ;;
a140 2
m68*-cisco*-*)		gdb_target=cisco ;;
m68*-tandem-*)		gdb_target=st2000 ;;
a150 1
m68*-*-os68k*)		gdb_target=os68k ;;
a187 1
rs6000-*-lynxos*)	gdb_target=rs6000lynx ;;
@


1.183
log
@Add support for new target, Toshiba Media Processor (MeP).
@
text
@d57 4
a60 1
arm*-wince-pe)		gdb_target=wince ;;
@


1.182
log
@2007-01-04  Qinwei  <qinwei@@sunnorth.com.cn>

	* NEWS: New port to S+core.
	* MAINTAINERS (Write After Approval, Responsible Maintainers):
	Add myself.

	* Makefile.in: Add dependencies for S+core files.
	* configure.tgt (score*, score-*-*): Add S+core target.
	* config/score/embed.mt: New file.
	* score-tdep.c: New file.
	* score-tdep.h: New file.
@
text
@d144 2
@


1.181
log
@Add OpenBSD/sh support.
* NEWS (New targets): Mention OpenBSD/sh.
* configure.tgt: Add sh*-*-openbsd*.
* shnbsd-tdep.c (_initialize_shnbsd_tdep): Register handler for
GDB_OSABI_OPENBSD_ELF.
* config/sh/obsd.mt: New file.
@
text
@d27 1
d183 1
@


1.180
log
@ChangeLog:

	* configure.tgt: Enable gdbserver for SPU target.
	* configure.ac: Build gdbserver when gdb_native is yes.
	* configure: Regenerate.
	* regformats/reg-spu.dat: New file.

gdbserver/ChangeLog:

	* configure.srv: Add target "spu*-*-*".
	* Makefile.in (clean): Remove reg-spu.c.
	(reg-spu.c, reg-spu.o, spu-low.o): Add dependencies.
	* spu-low.c: New file.
@
text
@d192 1
@


1.179
log
@	* config/powerpc/spu-linux.mh: New file.
	* config/spu/spu.mt: New file.
	* configure.ac: Provide gdb_native configuration variable.
	* configure: Regenerate.
	* configure.host: Support powerpc64 to spu 'pseudo-native' mode.
	* configure.tgt: Add "spu" target_cpu and "spu*-*-*" target.
	* Makefile.in (spu_tdep_h): New variable.
	(ALLDEPFILES): Add spu-linux-nat.c and spu-tdep.c
	(spu-linux-nat.o, spu-tdep.o): Add dependencies.
	* spu-linux-nat.c: New file.
	* spu-tdep.c: New file.
	* spu-tdep.h: New file.
@
text
@d213 3
a215 1
spu*-*-*)		gdb_target=spu ;;
@


1.178
log
@2006-11-14  Maxim Grigoriev  <maxim@@tensilica.com>

	* NEWS: New port to Xtensa.
	* Makefile.in: Add dependencies for Xtensa files.
	* configure.tgt (xtensa*, xtensa*-*-elf*): New.
	* configure.host (xtensa*-*-elf*): New.
	* config/xtensa/xtensa.mt: New file.
	* xtensa-config.c: New file.
	* xtensa-tdep.h: New file.
	* xtensa-tdep.c: New file.

2006-11-14  Maxim Grigoriev  <maxim@@tensilica.com>

	* gdb.texinfo (Contributors): Add contributors of Xtensa port.
@
text
@d28 1
d213 2
@


1.178.2.1
log
@	* config/powerpc/spu-linux.mh: New file.
	* config/spu/spu.mt: New file.
	* configure.ac: Provide gdb_native configuration variable.
	* configure: Regenerate.
	* configure.host: Support powerpc64 to spu 'pseudo-native' mode.
	* configure.tgt: Add "spu" target_cpu and "spu*-*-*" target.
	* Makefile.in (spu_tdep_h): New variable.
	(ALLDEPFILES): Add spu-linux-nat.c and spu-tdep.c
	(spu-linux-nat.o, spu-tdep.o): Add dependencies.
	* spu-linux-nat.c: New file.
	* spu-tdep.c: New file.
	* spu-tdep.h: New file.
@
text
@a27 1
spu*)			gdb_target_cpu=spu ;;
a211 2
spu*-*-*)		gdb_target=spu ;;

@


1.178.2.2
log
@ChangeLog:

	* configure.tgt: Enable gdbserver for SPU target.
	* configure.ac: Build gdbserver when gdb_native is yes.
	* configure: Regenerate.
	* regformats/reg-spu.dat: New file.

gdbserver/ChangeLog:

	* configure.srv: Add target "spu*-*-*".
	* Makefile.in (clean): Remove reg-spu.c.
	(reg-spu.c, reg-spu.o, spu-low.o): Add dependencies.
	* spu-low.c: New file.
@
text
@d213 1
a213 3
spu*-*-*)		gdb_target=spu
			build_gdbserver=yes
			;;
@


1.177
log
@gdb/
	* config/sparc/embed.mt: New file.
	* configure.tgt (sparc-*-rtems*): Use embed.mt.
sim/
	* configure.ac (sparc-*-rtems*|sparc-*-elf*): Enable erc32 simulator.
	* Makefile.in (FLAGS_TO_PASS): Include libdir.
	* configure: Regenerated.
sim/erc32/
	* Makefile.in (func.o, help.o): Correct dependencies.
	* Makefile.in (install-sis): Honor DESTDIR.
@
text
@d31 1
d228 2
@


1.176
log
@gdb/
	* configure.tgt: Build gdbserver for Cygwin and mingw32.
gdb/gdbserver/
	* configure.ac: Check for more headers which are missing on
	Windows.  Automatically supply -lwsock32 and USE_WIN32API.
	* configure.srv: Add Cygwin and mingw32.
	* remote-utils.c: Don't include headers unconditionally which
	are missing on mingw32.  Include <winsock.h> for mingw32.
	(remote_open): Adjust for mingw32 support.  Flush
	standard error after writing to it.
	(remote_close, putpkt_binary, input_interrupt, block_async_io)
	(unblock_async_io, enable_async_io, disable_async_io)
	(readchar, getpkt): Update for Winsock support.
	(prepare_resume_reply): Expect a protocol signal number.
	* server.c: Disable <sys/wait.h> on mingw32.
	(start_inferior): Adjust for mingw32 support.  Flush
	standard error after writing to it.
	(attach_inferior): Likewise.  Use protocol signal
	numbers.
	(main): Skip 'D' packet on mingw32.  Use protocol signal numbers
	and names.
	* win32-i386-low.c: New file.
	* Makefile.in (XM_CLIBS): Set.
	(gdbserver, gdbreplay): Use $(INTERNAL_CFLAGS).
	(win32-i386-low.o): New dependency rule.
	* linux-low.c (linux_wait): Use target signal numbers.
	* target.h (struct target_ops): Doc fix.
	* server.h (target_signal_to_name): New prototype.
	* gdbreplay.c: Don't include headers unconditionally which
	are missing on mingw32.  Include <winsock.h> for mingw32.
	(remote_close, remote_open): Adjust for Winsock support.
	* configure, config.in: Regenerated.
@
text
@d207 1
@


1.175
log
@* armobsd-tdep.c: New file.
* Makefile.in (ALLDEPFILES): Add armobsd-tdep.c.
(armobsd-tdep.o): New dependency.
* config/arm/obsd.mt: New file.
* configure.tgt: (arm*-*-openbsd*): Set gdb_target to obsd.
@
text
@d100 6
a105 1
i[34567]86-*-cygwin*)	gdb_target=cygwin  ;;
@


1.174
log
@* alphaobsd-tdep.c: New file.
* alphanbsd-tdep.c (_initialize_alphanbsd_tdep): Do not register a
handler for GDB_OSABI_OPENBSD_ELF.
* Makefile.in (ALLDEPFILES): Add alphaobsd-tdep.c.
(alphaobsd-tdep.o): New target.
* config/alpha/obsd.mt: New file.
* configure.tgt (alpha*-*-openbsd*): Set gdb_target to obsd.
@
text
@d61 1
a61 1
arm*-*-openbsd*)	gdb_target=nbsd ;;
@


1.173
log
@2006-06-19  Kazuhiro Inaoka <inaoka.kazuhiro@@renesas.com>

	* configure.tgt: Add gdbserver support for m32r-linux.
@
text
@d48 1
a48 1
alpha*-*-openbsd*)	gdb_target=nbsd ;;
@


1.172
log
@2006-04-20  Michael Snyder  <msnyder@@redhat.com>

	* 2006-03-22  Jim Blandy  <jimb@@redhat.com>
	Add support for the Renesas M32C and M16C.

	* configure.tgt (m32c-*-*): New entry.
	* config/m32c/m32c.mt: New file.
	* m32c-tdep.c: New file.
	* Makefile.in (elf_m32c_h): New variable.
	(m32c-tdep.o): New rule.
	* NEWS: Mention new target.
	* MAINTAINERS: Designate Jim Blandy as responsible maintainer.
@
text
@d112 3
a114 1
m32r*-*-linux*)		gdb_target=linux ;;
@


1.172.4.1
log
@Changes from nickrob-async-20060828-mergepoint.
@
text
@d48 1
a48 1
alpha*-*-openbsd*)	gdb_target=obsd ;;
d61 1
a61 1
arm*-*-openbsd*)	gdb_target=obsd ;;
d100 1
a100 6
i[34567]86-*-cygwin*)	gdb_target=cygwin
			build_gdbserver=yes
			;;
i[34567]86-*-mingw32*)	gdb_target=i386
			build_gdbserver=yes
			;;
d112 1
a112 3
m32r*-*-linux*)		gdb_target=linux
			build_gdbserver=yes
			;;
a199 1
sparc-*-rtems*)		gdb_target=embed ;;
@


1.171
log
@2006-03-29  Daniel Jacobowitz  <dan@@codesourcery.com>

	* NEWS: Mention the removal of NLM.

2006-03-29  Steve Ellcey  <sje@@cup.hp.com>

	* Makefile.in (nlm): Remove target.
	* configure.tgt (i[34567]86-*-netware*): Do not set build_nlm.
	* configure.ac: Remove AC_CONFIG_SUBDIRS of nlm.
	* configure: Regenerate.
	* doc/gdb.texinfo: Remove gdbserve.nlm documentation.
	* nlm: Remove directory.
@
text
@d110 2
@


1.170
log
@
	Rename ms1 to mt, part 1
	* config.sub: Replace ms1 arch with mt.  Allow ms1 as alias.
	* configure.in: Replace ms1 arch with mt.
	* configure: Rebuilt.

	* bfd/Makefile.am (ALL_MACHINES, ALL_MACHINES_CFILES,
	BFD32_BACKENDS, BFD32_BACKENDS_CFILES): Replace ms1 with mt.
	(cpu_mt.lo, elf32-mt.lo): Update target and dependency names.
	* bfd/Makefile.in: Rebuilt.
	* bfd/config.bfd: Replace ms1 arch with mt.
	* bfd/configure.in: Replace ms1 files with mt files.
	* bfd/configure: Rebuilt.
	* bfd/elf32-mt.c: Renamed from elf32-ms1.c.  Update include files.
	* bfd/cpu-mt.c: Renamed from cpu-ms1.c.

	* cpu/mt.cpu: Rename from ms1.cpu.
	* cpu/mt.opc: Rename from ms1.opc.

	* binutils/Makefile.am: Replace ms1 files with mt files.
	* binutils/Makefile.in: Rebuilt.
	* binutils/readelf.c (elf/mt.h): Adjust #include.

	* gas/configure.in: Replace ms1 arch with mt arch.
	* gas/configure: Rebuilt.
	* gas/configure.tgt: Replace ms1 arch with mt arch.
	* gas/config/tc-mt.c: Renamed from tc-ms1.c: Update include files.

	* gas/doc/Makefile.am (CPU_DOCS): Replace ms1 files with mt files.
	* gas/doc/Makefile.in: Rebuilt.

	* gas/testsuite/gas/mt: Renamed from ms1 dir.  Update file names as
	needed.
	* gas/testsuite/gas/mt/errors.exp: Replace ms1 arch with mt arch.
	* gas/testsuite/gas/mt/mt.exp: Replace ms1 arch with mt arch.
	* gas/testsuite/gas/mt/relocs.exp: Replace ms1 arch with mt arch.

	* gdb/configure.tgt: Replace ms1 arch with mt arch.
	* gdb/config/mt: Renamed from ms1 dir.  Update file names as needed.
	* gdb/config/mt/mt.mt (TDEPFILES): Replace ms1 file with mt file.

	* include/elf/mt.h: Renamed from ms1.h

	* ld/Makefile.am (ALL_EMULATIONS): Replace ms1 files with mt files.
	(eelf32mt.c): Update target name and dependencies.
	* ld/Makefile.in: Rebuilt.
	* ld/configure.tgt: Replace ms1 arch with mt arch.
	* ld/emulparams/elf32mt.sh: Renamed from elf32ms1.sh. Update
	comment.

	* libgloss/configure.in: Replace ms1 arch with mt arch.
	* libgloss/configure: Rebuilt.
	* libgloss/mt: Renamed from ms1 dir.

	* newlib/configure.host: Replace ms1 arch with mt arch.
	* newlib/libc/machine/mt: Renamed from ms1 dir.

	* opcodes/Makefile.am (CLEANFILES, CGEN_CPUS, MT_DEPS): Replace ms1
	with mt.
	* opcodes/Makefile.in: Rebuilt.
	* opcodes/configure.in: Replace ms1 files with mt files.
	* opcodes/configure: Rebuilt.

	* sid/component/cgen-cpu/mt: Renamed from ms1 dir.  Update file
	names as appropriate.
	* sid/component/cgen-cpu/mt/Makefile.am: Replace ms1 files with mt
	files.
	* sid/component/cgen-cpu/mt/Makefile.in: Rebuilt.
@
text
@d99 1
a99 3
i[34567]86-*-netware*)	gdb_target=i386
			build_nlm=yes
			;;
@


1.170.2.1
log
@	* configure.tgt (arm*-stellaris-*): Use armv7m configuration.
	* config/arm/armv7m.mt: New file.
	* config/arm/tm-armv7m.h: Likewise.
	* arm-tdep.c (arm_register_name_strings): Use xPSR on ARM V7M.
	(arm_pc_is_thumb): ARM V7M is always Thumb.
	(set_disassembly_style): Use xPSR on ARM V7M.
	(arm_write_pc): Do not set T bit in CSPR on V7M.
@
text
@a61 1
arm*-stellaris-*)	gdb_target=armv7m ;;
@


1.170.2.2
log
@	* gdb/m68k-tdep.c (M68K_FPREG_SIZE): Define.
	(REGISTER_BYTES_FP): Use it.

	* gdb/configure.tgt (m68k-*-uclinux*): target is linux.
@
text
@d131 1
a131 2
m68*-*-uclinux*)	gdb_target=linux
			build_gdbserver=yes ;;
@


1.170.2.3
log
@i	* gdb/configure.tgt (gdb_osabi): uclinux is like linux.
	* gdb/m68k-tdep.c (m68k_svr4_extract_return_value): Return value
	is never in %a0.
	(m68k_reg_struct_return_p): Duplicate gcc's struct mode algorithm.
	(m68k_svr4_return_value) Use VALUE_STRUCT_CONVENTION.  do not rely
	on %a0.
	(m68k_push_dummy_call): Force stack alignment.
	(m68k_svr4_init_abi): Set struct_return convention.
	(m68k_aout_init_abi): New.
	(m68k_gdbarch_init): Default to bare elf ABI that gcc provides.
	* gdb/m68k-tdep.h (m68k_aout_init_abi): Declare.
	* gdb/m68kbsd-tdep.c (m68kbsd_aout_init_abi): Use m68k_aout_init_abi.
	(m68kbsd_elf_init_abi): Add comment.
	* gdb/m68klinux-tdep.c (m68k_linux_init_abi): Just set the struct
	pointer register here.
@
text
@a227 1
*-*-ulinux*)	gdb_osabi=GDB_OSABI_LINUX ;;
@


1.170.2.4
log
@fix typo
@
text
@d228 1
a228 1
*-*-uclinux*)	gdb_osabi=GDB_OSABI_LINUX ;;
@


1.170.2.2.2.1
log
@Add experimental support for SymbianOS-related protocol features.
@
text
@a61 1
arm*-*-symbian*)	gdb_target=symbian ;;
@


1.169
log
@Contribute target dependent code for Morpho Technologies ms1 processor.
@
text
@a22 1
ms1*)			gdb_target_cpu=ms1 ;;
d147 1
a147 1
ms1-*-*)		gdb_target=ms1 ;;
@


1.169.2.1
log
@2005-04-25  Paul Brook  <paul@@codesourcery.com>

	* gdb/configure.tgt: Don't build rdi-share library.
	* gdb/config/arm/embed.mt: Ditto.
@
text
@d65 1
a65 1
#			build_rdi_share=yes
d68 1
a68 1
#			build_rdi_share=yes
@


1.168
log
@2005-06-27  Michael Snyder  <msnyder@@redhat.com>

	* config/mn10300/linux.mt: New file.
	* configure.tgt: Add rule for am33 / mn10300-linux.
	* mn10300-tdep.c, mn10300-tdep.h: Bump copyright year.
@
text
@d23 1
d148 2
@


1.167
log
@gdb/
	* configure.tgt (powerpc64-*-linux*): Enable gdbserver.
	* regformats/reg-ppc64.dat: New file.
gdbserver/
	* Makefile.in (SFILES): Add linux-ppc64-low.c.
	(linux-ppc64-low.o, reg-ppc64.c, reg-ppc64.o): New targets.
	* configure.srv: Add powerpc64-*-linux*.
	* linux-ppc64-low.c: New file.
@
text
@d14 1
d51 3
@


1.166
log
@* configure.host: Add arm*-*-openbsd*.
* configure.tgt: Add arm*-*-openbsd*.
@
text
@d150 3
a152 1
powerpc64-*-linux*)	gdb_target=linux ;;
@


1.165
log
@	* MAINTAINERS: Undelete v850.
	* Makefile.in: Re-add v850-tdep.o dependencies.
	* configure.tgt: Re-add v850.
	* v850-tdep.c: Reorder code slightly.  Add register number enumerator.
	(struct v850_frame_cache): New structure.
	(v850_processor_type_table): Remove. Move functionality into
	v850_register_name, v850e_register_name and v850_gdbarch_init.
	(v850_register_name): New function.
	(v850e_register_name): New function.
	(struct prologue_info): Remove definition.
	(v850_register_type): New function.
	(v850_type_is_scalar): New function.
	(v850_use_struct_convention): Align to gcc behaviour.
	(v850_handle_prepare): Renamed from handle_prepare. Change third
	parameter to struct v850_frame_cache *.
	(v850_handle_pushm): Renamed from handle_pushm. Change third parameter
	to struct v850_frame_cache *.
	(v850_is_save_register): New function to evaluate if a register is
	caller-save.
	(v850_analyze_prologue): Replace v850_scan_prologue.  Change to support
	new frame code.
	(v850_init_extra_frame_info): Remove.
	(v850_frame_chain): Remove.
	(v850_find_callers_reg): Remove.
	(v850_skip_prologue): Make static.
	(v850_pop_frame): Remove.
	(v850_frame_align): New function.
	(v850_push_dummy_call): Replace v850_push_arguments.
	(v850_push_return_address): Remove.
	(v850_extract_return_value): New function.
	(v850_store_return_value): New function.
	(v850_return_value): New function.
	(v850_frame_saved_pc): Remove.
	(v850_breakpoint_from_pc): New function.
	(v850_alloc_frame_cache): New function.
	(v850_fix_call_dummy): Remove.
	(v850_frame_cache): New function.
	(v850_target_architecture_hook): Remove.
	(v850_frame_prev_register): New function.
	(v850_frame_this_id): New function.
	(v850_frame_unwind): New structure.
	(v850_frame_sniffer): New function.
	(v850_unwind_sp): New function.
	(v850_unwind_pc): New function.
	(v850_unwind_dummy_id): New function.
	(v850_frame_base_address): New function.
	(v850_frame_base): New structure.
	(v850_gdbarch_init): New function.
	* config/v850/v850.mt: Undelete.  Drop TM_FILE.
@
text
@d57 1
@


1.164
log
@* configure.tgt (vax-*-openbsd*): Set gdb_target to obsd.
* config/vax/obsd.mt (TDEPFILES): New file.
@
text
@d196 2
@


1.163
log
@* configure.tgt (*-*-freebsd*): Set gdb_osabi to
GDB_OSABI_FREEBSD_ELF.  Partial fix for PR gdb/1922.
@
text
@d198 1
a198 1
vax-*-openbsd*)		gdb_target=nbsd ;;
@


1.162
log
@	* MAINTAINERS: Change sh64-elf state to non-broken.
	* Makefile.in: Fix dependencies for sh64-tdep.o.
	* configure.tgt: Add sh64-*-elf case.
	* sh-tdep.c (sh_gdbarch_init): Reactivate bfd_mach_sh5 case.
	* sh64-tdep.c: Rework to replace all deprecated mechanisms with
	modern methods.
	* config/sh/embed.mt (TDEPFILES): Add sh64-tdep.o.
	* config/sh/sh64.mt: Resurrect.
@
text
@d213 1
@


1.161
log
@From Ralf Corsepius <ralf.corsepius@@rtems.org>
* configure.tgt: Add m68*-*-rtems*.
@
text
@d174 1
@


1.161.2.1
log
@	* gdb/configure.tgt: Add default OSABI setting for
	arm*-*-linux-gnueabi.
	* gdb/arm-tdep.c (arm_type_align): New function.
	(arm_push_dummy_call): Use it.  Ensure proper argument alignment.
	Don't try to align the stack.
	(arm_frame_align): New function.
	(arm_extract_struct_value_address): Remove.
	(arm_use_struct_convention): Rename...
	(arm_return_in_memory): ... To this.  Return nonzero for all small
	aggregates under the EABI.
	(arm_return_value): New function.
	(arm_elf_osabi_sniffer): Add EF_ARM_EABI_VER4 case.  Handle
	GDB_OSABI_ARM_EABI_V4_LINUX.
	(arm_gdbarch_init): Set different FPU and ABI defaults for EABI
	objects.  Use set_gdbarch_return_value instead of obsolete functions.
	Call set_gdbarch_frame_align.
	(arm_init_abi_eabi_v4): New function.
	(_initialize_arm_tdep): Register GDB_OSABI_ARM_EABI_V4.
	* gdb/arm-linux-tdep.c (ARM_LINUX_EABI_JB_PC): Define.
	(arm_linux_eabi_init_abi): New function.
	(_initialize_arm_linux_tdep): Register GDB_OSABI_ARM_EABI_V4_LINUX.
	* gdb/arm-tdep.h (enum arm_abi_variant): New.
	(struct gdbarch_tdep): Add abi field.
	* gdb/defs.h (enum gdb_osabi): Add GDB_OSABI_ARM_EABI_V4 and
	GDB_OSABI_ARM_EABI_V4_LINUX.
	* gdb/osabi.c (gdb_osabi_name): Add "ARM EABI v4" and
	"ARM EABI v4 GNU/Linux".

	* gdb/testsuite/gdb.base/long_long.exp: Don't expect FPA format for
	ARM EABI targets.
@
text
@a211 2
arm*-*-linux-gnueabi)
		gdb_osabi=GDB_OSABI_ARM_EABI_V4_LINUX ;;
@


1.161.2.2
log
@2005-04-25  Paul Brook  <paul@@codesourcery.com>

	* gdb/configure.tgt: Don't build rdi-share library.
	* gdb/config/arm/embed.mt: Ditto.
@
text
@d59 1
a59 1
#			build_rdi_share=yes
d62 1
a62 1
#			build_rdi_share=yes
@


1.160
log
@	* Makefile.in: Add dependencies for iq2000-tdep.o.
	* configure.tgt: Add iq2000-*-* target.
	* iq2000-tdep.c: New file.
	* config/iq2000/iq2000.mt: New file.
@
text
@d117 1
@


1.159
log
@Restore h8300 support
@
text
@d105 2
@


1.158
log
@* configure.tgt: Set build_rdi_share to "yes" on those targets
that use that debugging protocol.
Set build_nlm to yes to build NLM stub for Netware targets.
* configure.ac: If build_rdi_share is "yes", then configure the
rdi-share subdirectory.
If build_nlm is "yes", the configure the "nlm" subdirectory.
* configure: Regenerated.
@
text
@d73 2
@


1.157
log
@Index: ChangeLog
2005-01-07  Andrew Cagney  <cagney@@gnu.org>

	* configure.tgt: Disable arm*-*-*, thumb*-*-*, strongarm*-*-*,
	xscale-*-* and i[34567]86-*-netware* code adding rdi-share or nlm
	to configdirs.
@
text
@d59 1
a59 4
			# FIXME: cagney/2005-01-07: The configdirs
			# variable doesn't work with autoconf 2.59.
			# Disabled.
                        # configdirs="$configdirs rdi-share"
d62 1
a62 4
			# FIXME: cagney/2005-01-07: The configdirs
			# variable doesn't work with autoconf 2.59.
			# Disabled.
                        # configdirs="$configdirs rdi-share"
d93 1
a93 4
			# FIXME: cagney/2005-01-07: The configdirs
			# variable doesn't work with autoconf 2.59.
			# Disabled.
			# configdirs="${configdirs} nlm"
@


1.156
log
@* configure.host (ia64-*-aix*): Remove.
* configure.tgt (ia64-*-aix*): Remove.
* config/ia64/aix.mh: Remove file.
* config/ia64/aix.mt: Remove file.
* config/ia64/tm-aix.h: Remove file.
* ia64-aix-nat.c: Remove file.
* Makefile.in (ia64-aix-nat.o): Remove dependency.
@
text
@a7 2
# This file may also modify configdirs.

d59 4
a62 1
                        configdirs="$configdirs rdi-share"
d65 4
a68 1
                        configdirs="$configdirs rdi-share"
d99 5
a103 1
			configdirs="${configdirs} nlm" ;;
@


1.155
log
@2004-12-10  Michael Snyder  <msnyder@@redhat.com>

	* mn10300-tdep.c: New file.  This is a re-implementation of
	the mn10300 target back-end using the new frame api etc.
	* mn10300-tdep.h: New file.
	* config/mn10300/mn10300.mt: New file (or replace old file).
	* configure.tgt: Add mn10300 target.
@
text
@a98 1
ia64-*-aix*)		gdb_target=aix ;;
@


1.154
log
@2004-11-13  Andrew Cagney  <cagney@@gnu.org>

	* NEWS: List h8300*-*-*, mcore-*-*, mn10300-*-*, ns32k-*-*, and
	v850-*-* under removed.
	* configure.host: Delete ns32k-*-netbsd*.
	* configure.tgt: Delete h8300-*-*, mcore*-*-*, mn10300-*-*,
	ns32k-*-netbsd*, and v850*-*-*.
	* MAINTAINERS: Mark h8300, mcore, mn10300, ns32k, v850 as
	"Deleted"
	* config/h8300/tm-h8300.h, config/h8300/h8300.mt: Delete.
	* h8300-tdep.c, config/mcore/mcore.mt, mcore-rom.c: Delete.
	* mcore-tdep.c, config/mn10300/mn10300.mt: Delete.
	* mn10300-tdep.c, config/ns32k/nbsdaout.mh: Delete.
	* config/ns32k/nbsdaout.mt, config/ns32k/nm-nbsd.h: Delete.
	* config/ns32k/nm-nbsdaout.h, config/ns32k/tm-ns32k.h: Delete.
	* ns32knbsd-nat.c, ns32knbsd-tdep.c, ns32k-tdep.c: Delete.
	* ns32k-tdep.h, config/v850/v850.mt, v850ice.c: Delete.
	* v850-tdep.c: Delete.
@
text
@d137 2
@


1.153
log
@2004-11-13  Andrew Cagney  <cagney@@gnu.org>

	* configure.tgt: Delete i[34567]86-*-vxworks*, m68*-netx-*,
	m68*-*-vxworks*, mips*-*-vxworks*, powerpc-*-vxworks*, and
	sparc-*-vxworks*.
	* NEWS: Mention that vxworks was deleted.
	* config/m68k/tm-vx68.h, config/mips/tm-vxmips.h: Delete.
	* config/powerpc/tm-vxworks.h, config/tm-vxworks.h: Delete.
	* config/i386/vxworks.mt, config/m68k/vxworks68.mt: Delete.
	* config/mips/vxmips.mt, config/powerpc/vxworks.mt: Delete.
	* config/sparc/vxworks.mt, vx-share/dbgRpcLib.h: Delete.
	* vx-share/ptrace.h, vx-share/regPacket.h: Delete.
	* vx-share/vxTypes.h, vx-share/vxWorks.h: Delete.
	* vx-share/wait.h, vx-share/xdr_ld.c: Delete.
	* vx-share/xdr_ld.h, vx-share/xdr_ptrace.c: Delete.
	* vx-share/xdr_ptrace.h, vx-share/xdr_rdb.c: Delete.
	* vx-share/xdr_rdb.h, remote-vxsparc.c: Delete.
	* remote-vxmips.c, remote-vx.c: Delete.
	* remote-vx68.c: Delete.
	* config/m68k/tm-os68k.h: Remove reference to VxWorks.
	* config/m68k/os68k.mt, ada-lang.h: Ditto.
	* Makefile.in (HFILES_NO_SRCDIR, ALLDEPFILES, remote-vx68.o)
	(remote-vx.o, remote-vxmips.o, remote-vxsparc.o): Delete vx files.
@
text
@a30 1
v850*)			gdb_target_cpu=v850 ;;
a72 3
h8300-*-*)		gdb_target=h8300 ;;


a125 2
mcore*-*-*)		gdb_target=mcore ;;

a136 4
mn10300-*-*)		gdb_target=mn10300 ;;

ns32k-*-netbsd*)	gdb_target=nbsdaout ;;

a194 8
v850*-*-*)		gdb_target=v850
			case ${gdb_host} in
			cygwin*)
				CONFIG_OBS="${CONFIG_OBS} v850ice.o" ;;
			* ) ;;
			esac
			;;

@


1.152
log
@	* Makefile.in (ALLDEPFILES): Add amd64-sol2-tdep.c.
	(amd64-sol2-tdep.o): Add dependencies.
	* amd64-sol2-tdep.c, config/i386/sol2-64.mh,
	config/i386/sol2-64.mt: New files.
	* i386-sol2-nat.c (amd64_sol2_gregset64_reg_offset,
	amd64_sol2_gregset32_reg_offset, _initialize_amd64_sol2_nat): New.
	(supply_gregset): Correct order of arguments to
	amd64_supply_native_gregset.
	(fill_gregset): Correct order of arguments to
	amd64_collect_native_gregset.
	* configure.host (i[34567]86-*-solaris2.1[0-9]*): Add new case.
	* configure.tgt (i[34567]86-*-solaris2.1[0-9]*): Likewise.
	* configure.in (*-*-solaris2.[[6789]]): Add *-*-solaris2.1[[0-9]]
	for definition of NEW_PROC_API.
	* configure: Regenerate.
@
text
@a100 1
i[34567]86-*-vxworks*)	gdb_target=vxworks ;;
a114 1
m68*-netx-*)		gdb_target=vxworks68 ;;
a126 1
m68*-*-vxworks*)	gdb_target=vxworks68 ;;
a140 1
mips*-*-vxworks*)       gdb_target=vxmips ;;
a154 1
powerpc-*-vxworks*)	gdb_target=vxworks ;;
a194 1
sparc-*-vxworks*)	gdb_target=vxworks ;;
@


1.151
log
@2004-11-01  Andrew Cagney  <cagney@@gnu.org>

	* configure.tgt: Mark d10v-*-* as obsolete.
	* config/d10v/d10v.mt, d10v-tdep.c: Obsolete files.
@
text
@d92 1
@


1.150
log
@* mips64obsd-nat.c, mips64obsd-tdep.c: New files.
* configure.host: Add mips64*-*-openbsd*.
* configure.tgt: Add mips64*-*-openbsd*.
* Makefile.in (ALLDEPFILES): Add mips64obsd-nat.o,
mips64obsd-tdep.c.
(mips64obsd-nat.o, mips64obsd-tdep.o): New dependecies.
* config/mips/obsd64.mh, config/mips/obsd64.mt: New files.
@
text
@d72 1
a72 1
d10v-*-*)		gdb_target=d10v ;;
@


1.149
log
@2004-09-30    Kei Sakamoto  <sakamoto.kei@@renesas.com>

        Add m32r-linux support.
        * configure.tgt: Add m32r*-*-linux*.
        * Makefile.in (ALLDEPFILES): Add m32r-tdep.c, m32r-linux-nat.c
        and m32r-linux-tdep.c.
        (m32r-linux-nat.o, m32r-linux-tdep.o): New dependencies.
        * m32r-tdep.c: Move some definitions to m32r-tdep.h.
        * config/djgpp/fnchange.lst: Add m32r-linux-nat.c and
        m32r-linux-tdep.c.
        * m32r-tdep.h, m32r-linux-nat.c, m32r-linux-tdep.c,
        config/m32r/linux.mh, config/m32r/linux.mt,
        config/m32r/nm-linux.h: New files.
@
text
@d142 1
@


1.148
log
@Fix up previous commit.
@
text
@d109 2
a110 1
m32r-*-*)		gdb_target=m32r ;;
@


1.147
log
@* configure.tgt: Set default OS/ABI for OpenBSD ELF targets.
@
text
@d230 1
a230 1
m68*-*-openbsd | m88*-*-openbsd | vax-*-openbsd*) ;;
@


1.146
log
@2004-08-09  Robert Millan  <robertmh@@gnu.org>

	Committed by Nathanael Nerode.
	* configure.host: Match kfreebsd*-gnu and knetbsd*-gnu.
	* configure.tgt: Match kfreebsd*-gnu and knetbsd*-gnu.
@
text
@d190 1
a190 3
sparc64-*-openbsd*)	gdb_target=obsd64
			gdb_osabi=GDB_OSABI_OPENBSD_ELF
			;;
d221 1
a221 3
x86_64-*-openbsd*)	gdb_target=obsd64
			gdb_osabi=GDB_OSABI_OPENBSD_ELF
			;;
d230 2
@


1.145
log
@* configure.tgt (x86_64-*-openbsd*): Set gdb_osabi to
GDB_OSABI_OPENBSD_ELF.
@
text
@d41 4
a44 2
x86_64-*-freebsd*)	gdb_target=fbsd64 ;;
*-*-freebsd*)		gdb_target=fbsd	;;
d48 2
a49 1
alpha*-*-netbsd*)	gdb_target=nbsd ;;
d57 2
a58 1
arm*-*-netbsd*)		gdb_target=nbsd ;;
d122 2
a123 1
m68*-*-netbsd*)		gdb_target=nbsd ;;
d139 2
a140 1
mips*-*-netbsd*)	gdb_target=nbsd ;;
d148 2
a149 1
powerpc-*-netbsd*)	gdb_target=nbsd ;;
d178 2
a179 1
sh*-*-netbsdelf*)	gdb_target=nbsd ;;
d185 4
a188 2
sparc-*-netbsd*)	gdb_target=nbsd ;;
sparc64-*-netbsd*)	gdb_target=nbsd64 ;;
d205 2
a206 1
vax-*-netbsd*)		gdb_target=nbsd ;;
d221 2
a222 1
x86_64-*-netbsd*)	gdb_target=nbsd64 ;;
a232 1
*-*-gnu*)	gdb_osabi=GDB_OSABI_HURD ;;
d235 2
@


1.144
log
@Add OpenBSD/hppa support.
* NEWS (New native configurations): Mention OpenBSD/hppa.
* hppabsd-nat.c, hppabsd-tdep.c, config/pa/obsd.mh,
config/pa/obsd.mt, config/pa/nm-obsd.h, config/pa/tm-bsd.h: New
files.
* Makefile.in (ALLDEPFILES): Add hppabsd-nat.c and hppabsd-tdep.c.
(hppabsd-nat.o, hppabsd-tdep.c): New dependencies.
* configure.host: Add hppa*-*-openbsd*.
* configure.tgt: Add hppa*-*-openbsd*.
@
text
@d211 3
a213 1
x86_64-*-openbsd*)	gdb_target=obsd64 ;;
@


1.143
log
@Add OpenBSD/m88k support.
* NEWS (New native configurations): Mention OpenBSD/m88k.
* m88k-tdep.c, m88k-tdep.h, m88kbsd-nat.c, config/m88k/nm-obsd.h,
config/m88k/obsd.mh, config/m88k/obsd.mt: New files.
* Makefile.in (m88k_tdep_h): New variable.
(ALLDEPFILES): Add m88k-tdep.c and m88kbsd-nat.c.
(m88kbsd-nat.o, m88k-tdep.o): New dependencies.
* configure.host: Add m88*-*-openbsd*.
* configure.tgt: Add m88*-*-openbsd*.
@
text
@d79 1
@


1.142
log
@* m68knbsd-nat.c: Remove file.
* m68knbsd-tdep.c: Remove file.
* Makefile.in: (m68knbsd-nat.o, m68knbsd-tdep.o): Remove
dependencies.
* configure.host: Add m68k-*-netbsdelf*.
* configure.tgt (m68k-*-netbsd*): Set gdb_target to nbsd.
* config/m68k/nbsdaout.mh (NATDEPFILES): Add m68kbsd-nat.o,
solib.o and solib-sunos.o.  Remove m68knbsd-nat.o, corelow.o.
(XM_FILE): Remove.
* config/m68k/nbsdelf.mh: New file.
* config/m68k/nbsd.mt: New file.
* config/m68k/nbsdaout.mt: Remove file.
* config/m68k/tm-nbsd.h: Don't include <sys/param.h>,
<machine/vmparam.h> and "m68k/tm-m68k.h".  Include "solib.h".
(BPT_VECTOR, STACK_END_ADDR): Remove defines.
(DEPRECATED_SIGTRAMP_START, DEPRECATED_SIGTRAMP_END): Likewise.
(use_struct_convention): Remove prototype.
(USE_STRUCT_CONVENTION): Remove define.
* config/m68k/xm-nbsd.h: Remove file.
@
text
@d22 1
d122 2
@


1.141
log
@Add OpenBSD/m68k support.
* NEWS (New native configurations): Mention OpenBSD/m68k.
* m68kbsd-tdep.c: New file.
* m68kbsd-nat.c: New file.
* Makefile.in (ALLDEPFILES): Add m68kbsd-nat.c and m68kbsd-tdep.c.
(m68kbsd-nat.o, m68kbsd-tdep.o): New dependencies.
* configure.host: Add m68k-*-openbsd.
* configure.tgt: Add m68k-*-openbsd.
* config/m68k/tm-obsd.h: New file.
* config/m68k/obsd.mt: New file.
* config/m68k/obsd.mh: New file.
* config/djgpp/fnchange.lst: Add entries for m68kbsd-nat.c and
m68kbsd-tdep.c.
@
text
@d116 1
a116 1
m68*-*-netbsd*)		gdb_target=nbsdaout ;;
@


1.140
log
@2004-04-24  Randolph Chung  <tausq@@debian.org>

	* configure.host (hppa*-*-linux*): New target.
	* configure.tgt (hppa*-*-linux*): Likewise.
	* hppa-tdep.c (hppa_gdbarch_init): Set cannot_fetch_register, move
	gdbarch_init_osabi() call earlier so that osabi-specific frame
	unwinders can be registered first.
	* config/djgpp/fnchange.lst: Add entries for hppa-linux-tdep.c and
	hppa-linux-nat.c.
	* config/pa/tm-hppa.h (ISR_REGNUM, PID0_REGNUM, PID1_REGNUM)
	(PID2_REGNUM, PID3_REGNUM): Add definitions of some register numbers.
	* config/pa/linux.mh: New file.
	* config/pa/linux.mt: New file.
	* config/pa/nm-linux.h: New file.
	* config/pa/xm-linux.h: New file.
	* hppa-linux-nat.c: New file.
	* hppa-linux-tdep.c: New file.
@
text
@d117 1
@


1.139
log
@Add OpenBSD/powerpc support.
* NEWS (New native configurations): Mention OpenBSD/powerpc.
* ppc-tdep.h (struct ppc_reg_offsets): New structure.
(ppc_supply_gregset, ppc_supply_fpregset, ppc_collect_gregset)
(ppc_collect_fpregset): New prototypes.
* ppcobsd-nat.c: New file.
* ppcobsd-tdep.c: New file.
* ppcobsd-tdep.h: New file.
* rs6000-tdep.c: Include "regset.h".
(ppc_supply_reg, ppc_collect_reg, ppc_supply_gregset)
(ppc_supply_fpregset, ppc_collect_gregset, ppc_collect_fpregset):
New functions.
* Makefile.in (ALLDEPFILES): Add pccobsd-nat.c and ppcobsd-tdep.c.
(ppcobsd-nat.o, ppcobsd-tdep.o): New dependencies.
(rs6000-tdep.o): Update dependencies.
* configure.host: Add powerpc-*-openbsd.
* configure.tgt: Add powerpc-*-openbsd.
* config/powerpc/obsd.mh: New file.
* config/powerpc/nm-obsd.h: New file.
* config/powerpc/obsd.mt: New file.
@
text
@d77 1
@


1.138
log
@* vaxnbsd-tdep.c: New file.
* Makefile.in (vaxnbsd-tdep.o): New dependency.
* configure.tgt: Add vax-*-netbsd* and vax-*-openbsd*.
* config/vax/nbsd.mt: New file.
* config/vax/tm-nbsd.h: New file.
@
text
@d137 1
@


1.137
log
@* configure.tgt: Remove i[34567]86-*-go32*,
i[34567]86-*-msdosdjgpp*, i[34567]86-*-sco*, i[34567]86-*-sysv*
and i[34567]86-*-isc*.  Set gdb_target to i386 for
i[34567]86-*-netware* and i[34567]86-*-*.
* config/i386/i386.mt: New file.
* config/i386/embed.mt: Remove file.
* config/i386/go32.mt: Remove file.
* config/i386/i386nw.mt: Remove file.
* config/i386/i386v.mt: Remove file.
* config/i386/tm-go32.h: Remove file.
@
text
@d188 2
@


1.136
log
@2004-04-04  Andrew Cagney  <cagney@@redhat.com>

	* config/mips/xm-riscos.h: Delete.
	* config/mips/xm-mipsv4.h, config/mips/xm-mips.h: Delete.
	* config/mips/tm-mipsv4.h, config/mips/riscos.mh: Delete.
	* config/mips/nm-riscos.h, config/mips/nm-news-mips.h: Delete.
	* config/mips/nm-mips.h, config/mips/news-mips.mh: Delete.
	* config/mips/news-mips.mh, config/m68k/tm-m68kv4.h: Delete.
	* config/mips/decstation.mh, config/mips/littlemips.mh: Delete.
	* config/mips/mipsv4.mt, config/m68k/tm-sun3.h: Delete.
	* config/m68k/xm-sun3os4.h, config/m68k/xm-sun3.h: Delete.
	* config/m68k/xm-sun2.h, config/m68k/xm-m68kv4.h: Delete.
	* config/m68k/xm-dpx2.h, config/m68k/xm-delta68.h: Delete.
	* config/m68k/xm-3b1.h, config/m68k/tm-sun3os4.h: Delete.
	* config/m68k/tm-m68klynx.h, config/m68k/tm-dpx2.h: Delete.
	* config/m68k/tm-delta68.h, config/m68k/tm-3b1.h: Delete.
	* config/m68k/sun3os4.mt, config/m68k/nm-sysv4.h: Delete.
	* config/m68k/nm-sun3.h, config/m68k/sun3os4.mh: Delete.
	* config/m68k/sun2os3.mh, config/m68k/nm-sun2.h: Delete.
	* config/m68k/nm-m68klynx.h, config/m68k/sun3os3.mt: Delete.
	* config/m68k/nm-dpx2.h, config/m68k/sun2os3.mt: Delete.
	* config/m68k/dpx2.mh, config/m68k/sun3os3.mh: Delete.
	* config/m68k/sun2os4.mh, config/m68k/nm-delta68.h: Delete.
	* config/m68k/m68kv4.mt, config/m68k/m68klynx.mt: Delete.
	* config/m68k/3b1.mt, config/m68k/m68klynx.mh: Delete.
	* config/m68k/m68kv4.mh, config/m68k/sun2os4.mt: Delete.
	* config/m68k/tm-sun2os4.h, config/m68k/3b1.mh: Delete.
	* config/m68k/dpx2.mt, config/m68k/delta68.mt: Delete.
	* config/m68k/tm-sun2.h, config/m68k/delta68.mh: Delete.

	* configure.tgt: Remove m68000-*-sunos3*, m68000-*-sunos4*,
	m68*-bull-sysv*, m68*-att-*, m68*-motorola-*, m68*-*-lynxos*,
	m68*-*-sunos3*, m68*-*-sunos4*, m68*-*-sysv4*, mips*-*-sysv4*.
	* configure.host: Remove m680[01]0-sun-sunos3*,
	m680[01]0-sun-sunos4*, m68*-att-*, m68*-bull*-sysv*,
	m68*-*-lynxos*, m68*-*-sysv4*, m68*-motorola-*, m68*-sun-sunos3*,
	m68*-sun-sunos4*, m68*-sun-*, mips-dec-*, mips-little-*,
	mips-sony-*, mips-*-mach3*, mips-*-sysv4*, mips-*-sysv*,
	mips-*-riscos*.
	* NEWS: Mention removed systems.
@
text
@a82 2
i[34567]86-*-go32*)	gdb_target=i386aout ;;
i[34567]86-*-msdosdjgpp*) gdb_target=go32 ;;
a85 2
i[34567]86-*-sco*)	gdb_target=i386v ;;
i[34567]86-*-sysv*)	gdb_target=i386v ;;
a88 1
i[34567]86-*-isc*)	gdb_target=i386v ;;
d90 2
a91 2
i[34567]86-*-netware*)	gdb_target=i386nw
		configdirs="${configdirs} nlm" ;;
d94 1
a94 1
i[34567]86-*-*)		gdb_target=embed ;;
@


1.135
log
@* amd64-tdep.h: Renamed from x86-64-tdep.h.
* amd64-tdep.c: Renamed from x86-64-tdep.c.  Include
"amd64-tdep.h" instead of "x86-64-tdep.h".
* amd64-nat.c: Include "amd64-tdep.h" instead of "x86-64-tdep.h".
* amd64-linux-tdep.h: Renamed from x86-64-linux.h.
* amd64-linux-tdep.c: Renamed from x86-64-linux-tdep.c.  Include
"amd64-tdep.h" and "amd64-linux-tdep.h" instead of "x86-64-tdep.h"
and "x86-64-tdep.c".
* amd64-linux-nat.c: Renamed from x86-64-linux-nat.c.  Include
"amd64-tdep.h" and "amd64-linux-tdep.h" instead of "x86-64-tdep.h"
and "x86-64-tdep.c".
* amd64bsd-nat.c: Update copyright year.
Include "amd64-tdep.h" instead of "x86-64-tdep.h".
* amd64fbsd-tdep.c: Include "amd64-tdep.h" instead of
"x86-64-tdep.h".
* amd64fbsd-nat.c: Include "amd64-tdep.h" instead of
"x86-64-tdep.h".
* amd64nbsd-tdep.c: Include "amd64-tdep.h" instead of
"x86-64-tdep.h".
* amd64nbsd-nat.c: Include "amd64-tdep.h" instead of
"x86-64-tdep.h".
* amd64obsd-tdep.c: Include "amd64-tdep.h" instead of
"x86-64-tdep.h".
* amd64obsd-nat.c: Include "amd64-tdep.h" instead of
"x86-64-tdep.h".
* configure.host: (x86_64-*-linux*): Set gdb_target to linux64.
* configure.tgt (x86_64-*-linux*): Set gdb_target to linux64.
* Makefile.in (amd64_linux_tdep_h): Renamed from
x86_64_linux_tdep_h.
(amd64_tdep_h): Renamed from x86_64_tdep_h.
(amd64bsd-nat.o, amd64fbsd-nat.o, amd64fbsd-tdep.o, amd64-nat.o)
(amd64nbsd-nat.o, amd64nbsd-tdep.o, amd64obsd-nat.o)
(amd64obsd-tdep.o): Update dependencies.
(amd64-tdep.o, amd64-linux-nat.o, amd64-linux-tdep.o): New
dependencies.
(x86-64-linux-nat.o, x86-64-linux-tdep.o, x86-64-tdep.o): Remove
dependencies.
(ALLDEPFILES): Add amd64-tdep.c, amd64obsd-nat.c, amd64obsd-nat.c,
amd64-linux-nat.c amd64-linux-tdep.c.
* config/i386/tm-linux64.h: Renamed from tm-x86-64linux.h
* config/i386/nm-linux64.h: Renamed from nm-x86-64linux.h.
* config/i386/linux64.mt: Renamed from x86-64linux.mt.
(TDEPFILES): Replace x86-64-tdep.o and x86-64-linux-tdep.o with
amd64-tdep.o and amd64-linux-tdep.o.
(TM_FILE): Set to tm-linux64.h.
* config/i386/linux64.mh: Renamed from x86-64linux.mh.
(NAT_FILE): Set to nm-linux64.h.
(NATDEPFILES): Replace x86-64-linux-nat.o with amd64-linux-nat.o.
* config/i386/fbsd64.mt (TDEPFILES): Replace x86-64-tdep.o with
amd64-tdep.o.
* config/i386/nbsd64.mt (TDEPFILES): Replace x86-64-tdep.o with
amd64-tdep.o.
* config/i386/obsd64.mt (TDEPFILES): Replace x86-64-tdep.o with
amd64-tdep.o.
@
text
@a110 5
# OBSOLETE m68000-*-sunos3*)	gdb_target=sun2os3 ;;
# OBSOLETE m68000-*-sunos4*)	gdb_target=sun2os4 ;;

# OBSOLETE m68*-bull-sysv*)	gdb_target=dpx2 ;;
# OBSOLETE m68*-att-*)		gdb_target=3b1 ;;
a111 1
# OBSOLETE m68*-motorola-*)	gdb_target=delta68 ;;
a119 1
# OBSOLETE m68*-*-lynxos*)		gdb_target=m68klynx ;;
a121 3
# OBSOLETE m68*-*-sunos3*)		gdb_target=sun3os3 ;;
# OBSOLETE m68*-*-sunos4*)		gdb_target=sun3os4 ;;
# OBSOLETE m68*-*-sysv4*)		gdb_target=m68kv4 ;;
a133 1
# OBSOLETE mips*-*-sysv4*)		gdb_target=mipsv4 ;;
@


1.134
log
@Remove old 386BSD support.
* configure.host: Remove i[34567]86-*-bsd*.
* configure.tgt: Remove i[34567]86-*-bsd*.
* i386b-nat.c: Removed.
* Makefile.in (ALLDEPFILES): Remove i386b-nat.c.
* config/i386/i386bsd.mh: Removed.
* config/i386/i386bsd.mt: Removed.
* config/i386/nm-i386bsd.h: Removed.
* config/i386/tm-i386bsd.h: Removed.
* config/i386/xm-i386bsd.h: Removed.
@
text
@d214 1
a214 1
x86_64-*-linux*)	gdb_target=x86-64linux
@


1.133
log
@* NEWS (New native configurations): Mention OpenBSD/alpha.
* configure.tgt: Add alpha*-*-openbsd*.
* configure.host: Add alpha*-*-openbsd*.
* alphanbsd-tdep.c: Update copyright year.
(_initialize_alphanbsd_tdep): Register OS ABI for OpenBSD ELF.
@
text
@a79 1
i[34567]86-*-bsd*)	gdb_target=i386bsd ;;
@


1.133.2.1
log
@Merge mainline to intercu branch.
@
text
@d80 1
d215 1
a215 1
x86_64-*-linux*)	gdb_target=linux64
@


1.133.2.2
log
@Merge mainline to intercu branch - 2004-09-15
@
text
@a21 1
m88*)			gdb_target_cpu=m88k ;;
d40 2
a41 4
x86_64-*-freebsd* | x86_64-*-kfreebsd*-gnu)
			gdb_target=fbsd64 ;;
*-*-freebsd* | *-*-kfreebsd*-gnu)
			gdb_target=fbsd	;;
d45 1
a45 2
alpha*-*-netbsd* | alpha*-*-knetbsd*-gnu)
			gdb_target=nbsd ;;
d53 1
a53 2
arm*-*-netbsd* | arm*-*-knetbsd*-gnu)
			gdb_target=nbsd ;;
a76 2
hppa*-*-linux*)		gdb_target=linux ;;
hppa*-*-openbsd*)	gdb_target=obsd ;;
d83 2
d88 2
d93 1
d95 2
a96 2
i[34567]86-*-netware*)	gdb_target=i386
			configdirs="${configdirs} nlm" ;;
d99 1
a99 1
i[34567]86-*-*)		gdb_target=i386 ;;
d111 5
d117 1
d126 2
a127 3
m68*-*-netbsd* | m68*-*-knetbsd*-gnu)
			gdb_target=nbsd ;;
m68*-*-openbsd*)	gdb_target=obsd ;;
d129 3
a134 2
m88*-*-openbsd*)	gdb_target=obsd ;;

d143 2
a144 2
mips*-*-netbsd* | mips*-*-knetbsd*-gnu)
			gdb_target=nbsd ;;
d152 1
a152 3
powerpc-*-netbsd* | powerpc-*-knetbsd*-gnu)
			gdb_target=nbsd ;;
powerpc-*-openbsd*)	gdb_target=obsd ;;
d180 1
a180 2
sh*-*-netbsdelf* | sh*-*-knetbsd*-gnu)
			gdb_target=nbsd ;;
d186 2
a187 4
sparc-*-netbsd* | sparc-*-knetbsd*-gnu)
			gdb_target=nbsd ;;
sparc64-*-netbsd* | sparc64-*-knetbsd*-gnu)
			gdb_target=nbsd64 ;;
a203 3
vax-*-netbsd* | vax-*-knetbsd*-gnu)
			gdb_target=nbsd ;;
vax-*-openbsd*)		gdb_target=nbsd ;;
d217 2
a218 5
x86_64-*-netbsd* | x86_64-*-knetbsd*-gnu)
			gdb_target=nbsd64 ;;
x86_64-*-openbsd*)	gdb_target=obsd64
			gdb_osabi=GDB_OSABI_OPENBSD_ELF
			;;
d226 1
a228 2
*-*-*-gnu*)	;; # prevent non-GNU kernels to match the Hurd rule below
*-*-gnu*)	gdb_osabi=GDB_OSABI_HURD ;;
@


1.132
log
@2004-02-20  Andrew Cagney  <cagney@@redhat.com>

	Fix PR tdep/1372.
	* configure.tgt: Delete target "none-*-*".
	* configure.host: Delete host "none-*-*".
	* config/none/none.mh: Delete file.
	* config/none/none.mt: Delete file.
	* config/none/xm-none.h: Delete file.
	* config/none/tm-none.h: Delete file.
	* config/none/nm-none.h: Delete file.
@
text
@d46 1
@


1.131
log
@* amd64obsd-tdep.c, amd64obsd-nat.c: New files.
* Makefile.in (amd64obsd-nat.o, amd64obsd-tdep.o): New
dependencies.
* configure.host: Add x86_64-*-openbsd*.
* configure.tgt: Add x86_64-*-openbsd*.
* config/i386/obsd64.mt, config/i386/obsd64.mh: New files.
@
text
@a149 2
none-*-*)		gdb_target=none ;;

@


1.130
log
@2004-02-17  Ulrich Weigand <Ulrich.Weigand@@de.ibm.com>

	Committed by Jim Blandy  <jimb@@redhat.com>.
	* config/s390/nm-linux.h: Update comments.  Do not include "solib.h".
	(KERNEL_U_ADDR, REGISTER_U_ADDR, U_REGS_OFFSET): Remove.
	(FETCH_INFERIOR_REGISTERS): Define.
	* config/s390/s390.mh (NATDEPFILES): Remove core-aout.o and
	core-regset.o.
	* config/s390/s390x.mt: Remove.
	* config/s390/tm-s390.h: Remove.
	* config/s390/tm-linux.h: Do not include "s390/tm-s390.h".
	(TARGET_ELF64): Remove.
	(SKIP_TRAMPOLINE_CODE): Do not undefine.
	* configure.tgt [s390-*-*, s390x-*-*]: Merge into single
	s390*-*-* case; always set gdb_target to s390.
	* regformats/reg-s390.dat: Remove control registers.
	* regformats/reg-s390x.dat: Likewise.
	* s390-tdep.h: New file.
	* s390-nat.c: Do not include <asm/processor.h> or <value.h>.
	Include "inferior.h" and "s390-tdep.h".
	Remove private definition of offsetof.
	(s390_register_u_addr): Remove.
	(regmap_gregset, regmap_fpregset): Define.
	(supply_gregset, fill_gregset): Reimplement.
	(supply_fpregset, fill_fpregset): Likewise.
	(s390_inferior_tid): New function.
	(fetch_regs, store_regs, fetch_fpregs, store_fpregs): Likewise.
	(fetch_inferior_registers, store_inferior_registers): Likewise.
	* s390-tdep.c: Do not define S390_TDEP.  Include "defs.h" instead
	of <defs.h>.  Include "reggroups.h", "regset.h", and "s390-tdep.h".
	Global replace of S390_GP0_REGNUM by S390_R0_REGNUM.
	Global replace of S390_FP0_REGNUM by S390_F0_REGNUM.
	(struct gdbarch_tdep): Define.
	(struct s390_register_info): Define.
	(s390_register_info): New variable.
	(s390_register_name): Reimplement.
	(s390_register_type): New function.
	(s390_register_raw_size, s390x_register_raw_size): Remove.
	(s390_cannot_fetch_register): Remove.
	(s390_register_byte): Remove.
	(s390_register_virtual_type, s390x_register_virtual_type): Remove.
	(s390_dwarf_regmap): New variable.
	(s390_dwarf_reg_to_regnum): New function.
	(s390_stab_reg_to_regnum): Remove.
	(s390_pseudo_register_read, s390_pseudo_register_write): New functions.
	(s390x_pseudo_register_read, s390x_pseudo_register_write): Likewise.
	(s390_convert_register_p): Likewise.
	(s390_register_to_value, s390_value_to_register): Likewise.
	(s390_register_reggroup_p): Likewise.
	(s390_regmap_gregset, s390x_regmap_gregset, s390_regmap_fpregset,
	s390_gregset, s390x_gregset, s390_fpregset): New variables.
	(s390_supply_regset, s390_regset_from_core_section): New functions.
	(GDB_TARGET_IS_ESAME): Move here from tm-s390.h.
	(S390_FPR_SIZE): Likewise.
	(S390_GPR_SIZE): Likewise.  Redefine in terms of GDB_TARGET_IS_ESAME.
	Global replace of DEPRECATED_REGISTER_SIZE by S390_GPR_SIZE.
	(S390_NUM_GPRS): Move here from tm-s390.h.
	(S390_NUM_FPRS): Likewise.
	(s390_in_function_epilogue_p): New function.
	(s390_is_sigreturn): Replace S390_PSW_ADDR_SIZE by S390_GPR_SIZE.
	Replace S390_PC_REGNUM by S390_PSWA_REGNUM.
	(s390_gdbarch_init): Allocate and set up gdbarch_tdep structure.
	Replace s390_stab_reg_to_regnum by s390_dwarf_reg_to_regnum.
	Replace S390_FP_REGNUM by S390_SP_REGNUM.
	Remove calls to:
	set_gdbarch_deprecated_max_register_raw_size,
	set_gdbarch_deprecated_max_register_virtual_size,
	set_gdbarch_deprecated_register_byte,
	set_gdbarch_cannot_fetch_register,
	set_gdbarch_cannot_store_register,
	set_gdbarch_deprecated_register_size,
	set_gdbarch_deprecated_register_raw_size,
	set_gdbarch_deprecated_register_virtual_size,
	set_gdbarch_deprecated_register_virtual_type,
	set_gdbarch_deprecated_register_bytes.
	Add calls to:
	set_gdbarch_num_pseudo_regs,
	set_gdbarch_register_type,
	set_gdbarch_convert_register_p,
	set_gdbarch_register_to_value,
	set_gdbarch_value_to_register,
	set_gdbarch_register_reggroup_p,
	set_gdbarch_regset_from_core_section,
	set_gdbarch_pseudo_register_read,
	set_gdbarch_pseudo_register_write,
	set_gdbarch_in_function_epilogue_p.
	* Makefile.in (s390-nat.o, s390-tdep.o): Update dependencies.
	(s390_tdep_h): New variable.
@
text
@d220 1
@


1.129
log
@2003-12-29  Robert Millan  <robertmh@@gnu.org>

	Patch committed by Andrw Cagney.
	* configure.host: Match knetbsd*-gnu and kfreebsd*-gnu.
	* configure.tgt: Match knetbsd*-gnu.
@
text
@d171 1
a171 4
s390-*-*)		gdb_target=s390
			build_gdbserver=yes
			;;
s390x-*-*)		gdb_target=s390x
@


1.128
log
@* sparc-tdep.h (sparc32nbsd_sigcontext_saved_regs): New prototype.
* sparcnbsd-tdep.c (sparc32nbsd_sigcontext_saved_regs): New
function with code split out from
sparc32nbsd_sigcontext_frame_cache.
(sparc32nbsd_sigcontext_frame_cache): Use
sparc32nbsd_sigcontext_saved_regs.
(_initialize_sparc32nbsd_tdep): Don't register OS ABI handler for
OpenBSD.
* sparcobsd-tdep.c: New file.
* Makefile.in (ALLDEPFILES): Add sparcobsd-tdep.c.
(sparcobsd-tdep.o): New dependency.
* configure.tgt (sparc-*-openbsd*): Set gdb_target to obsd.
* config/sparc/obsd.mt: New file.
@
text
@d80 2
a81 1
i[34567]86-*-netbsd*)	gdb_target=nbsd ;;
@


1.127
log
@* sparc64-tdep.h (stryct_frame_info, struct trad_frame_saved_reg):
Add opaque declarations.
(sparc64nbsd_sigcontext_saved_regs): New prototype.
* sparc64nbsd-tdep.c (sparc64nbsd_sigcontext_saved_regs): New
function with code split out from
sparc64nbsd_sigcontext_frame_cache.
(sparc64nbsd_sigcontext_frame_cache): Use
sparc64nbsd_sigcontext_saved_regs.
(_initialize_sparc64nbsd_tdep): Don't register OS ABI handler for
OpenBSD.
* sparc64obsd-tdep.c: New file.
* Makefile.in (ALLDEPFILES): Add sparc64obsd-tdep.c.
(sparc64obsd-tdep.o): New dependency.
* configure.tgt (sparc64-*-openbsd*): Set gdb_target to obsd64 and
gdb_osabi to GDB_OSABI_OPENBSD_ELF.
* config/sparc/obsd64.mt: New file.
@
text
@d41 1
a41 2
*-*-freebsd*)		gdb_target=fbsd
			;;
d192 1
a192 1
sparc-*-openbsd*)	gdb_target=nbsd ;;
@


1.126
log
@* NEWS (New native configurations): Mention OpenBSD/sparc and
OpenBSD/sparc64.
* configure.tgt: Add sparc-*-openbsd* and sparc64-*-openbsd*.
* configure.host: Likewise.
* sparcnbsd-tdep.c (_initialize_sparnbsd_tdep): Register OS ABI
handler for OpenBSD.
* sparc64nbsd-tdep.c (_initialize_sparc64nbsd_tdep): Likewise.
@
text
@d194 3
a196 1
sparc64-*-openbsd*)	gdb_target=nbsd64 ;;
@


1.125
log
@* configure.tgt: Add back sparc-*-vxworks*.
* remote-vxsparc.c: Remove all includes except for "defs.h",
"regcache.h", "vx-share/ptrace.h" and "vx-share/regPacket.h".
Include "sparc-tdep.h".
(SPARC_R_G1): New define.
(vxsparc_gregset): New variable.
(ext_format_sparc): Remove extern declaration.
(vx_read_register): Rewrite to use sparc32_supply_gregset and
sparc32_supply_fpregset.
(vx_write_register): Rewrite to use sparc32_collect_gregset,
sparc_collect_rwindow and sparc32_collect_fpregset.
* config/sparc/tm-vxworks.h: New file, based on recently removed
tm-vxsparc.h.
* config/sparc/vxworks.mt: New file, based on recently removed
vxworks.mt.
@
text
@d193 2
@


1.124
log
@* Makefile.in (ALLDEPFILES): Remove sparc-linux-nat.c and
sparcl-tdep.c.  Add sparc-linux-tdep.c, sparc-sol2-nat.c,
sparc-sol2-tdep.c, sparc-sol2-nat.c, sparc-sol2-tdep.c,
sparc64-linux-nat.c, sparc64-linux-tdep.c, sparc64-nat.c,
sparc64-sol2-tdep.c, sparc64-tdep.c, sparc64fbsd-nat.c,
sparc64fbsd-tdep.c, sparcnbsd-nat.c, sparcnbsd-tdep.c.
(sparc_nat_h): New variable.
(sparcbsd_nat_h, sparcnbsd_tdep_h): Remove variables.
(tm-sun4os4.h): Remove dependency.
(sparcbsd-nat.o, sparc-linux-nat.o): Remove dependencies.
(sparc64fbsd-nat.o, sparc64fbsd-tdep.o, sparc64nbsd-nat.o,
sparc64-tdep.o, sparc-nat.o, sparcnbsd-nat.o, sparcnbsd-tdep.o,
sparc-tdep.o): Update dependencies.
(sparc-linux-tdep.o, sparc-sol2-nat.o, sparc-sol2-tdep.o,
sparc64-linux-nat.o, sparc64-linux-tdep.o, sparc64-nat.o,
sparc64-sol2-tdep.o, sparc64-tdep.o, sparc64nbsd-tdep.o): New
dependencies.
* configure.host: Remove existing sparc-*-lynxos*,
sparc-*-solaris*, sparc-*-sunos4*, sparc-*-sunos5*, sparc-*-*,
ultrasparc-*-freebsd, sparcv9-*-freebsd, sparc64-*-linux*,
sparcv9-*-* and sparc64-*-* triplets.  Add new sparc64-*-linux*,
sparc-*-solaris2*, sparcv9-*-solaris2* and sparc64-*-solaris2*
triplets.
* configure.tgt: Remove exitsing sparc-*-aout*, sparc-*-coff*,
sparc-*-elf*, sparc*-lynxos*, sparc-*-solars2*, sparc-*-sunos4*,
sparc-*-sunos5*, sparc-*-vxworks*, sparc64-*linux*, sparc64-*-*,
sparcv9-*-* and commented out sparc64-*-solars2* triplets.  Add
new sparc-*-solaris2.[0-6], sparc-*-solaris2.[0-6].*,
sparc64-*-linux, sparc-*-solaris2*, sparcv9-*-solaris*,
sparc64-*-solaris2* and sparc64-*-* triplets.
* sparc64-tdep.c: Update copyright year.  Include "inferior.h",
"symtab.h" and "objfiles.h".
(BIAS): Remove define.
(X_OP, X_RD, X_A, X_COND, X_OP2, X_IMM22, X_OP3, X_I, X_DISP22)
(X_DISP19): Remove macros.
(sparc_fetch_instruction): Remove function.
(struct gdbarch_tdep): Remove definition.
(SPARC64_NUM_REGS, SPARC64_NUM_PSEUDO_REGS): Use ARRAY_SIZE.
(sparc_breakpoint_from_pc): Remove function.
(struct sparc64_frame_cache): Remove definition.
(sparc64_alloc_frame_cache, sparc64_analyze_prologue,
sparc64_unwind_pc): Remove functions.
(sparc64_skip_prologue): Use `struct sparc_frame_cache' instead of
`struct sparc64_frame_cache.  Call sparc_analyze_prologue instead
of sparc64_analyze_prologue.  Mark constant as ULL instead of UL.
(sparc64_frame_cache): Change return type to `struct
sparc_frame_cache *'.  Simply call sparc_frame_cache.
(sparc64_frame_this_id, sparc64_frame_prev_register,
sparc64_frame_base_address): Use `struct sparc_frame_cache'
instead of `struct sparc64_frame_cache.
(sparc_unwind_dummy_id, sparc_extract_struct_value_address,
sparc_analyze_control_transfer, sparc_software_single_step,
sparc64_gdbarch_init, sparc_supply_rwindow, sparc_fill_rwindow,
_initialize_sparc64_tdep): Remove functions.
(TSTATE_CWP, TSTATE_ICC, TSTATE_XCC): New macros.
(PSR_S, PSR_ICC, PSR_VERS, PSR_IMPL, PSR_V8PLUS, PSR_XCC): New
macros.
(sparc64_supply_gregset, sparc64_collect_gregset,
sparc64_supply_fpregset, sparc64_collect_fpregset): New functions.
(sparc64_init_abi): New function.
* sparc64-tdep.h: Update copyright year.  Fix typo in multiple
inclusion guard.  Include "sparc-tdep.h".
(BIAS): Define.
(r_tstate_offset, r_fprs_offset): New defines.
(enum sparc_regnum): Remove defenition.
(enum sparc64_regnum): Reformat.
(sparc_supply_rwindow, sparc_fill_rwindow): Remove prototypes.
(sparc64_init_abi, sparc64_supply_gregset,
sparc64_collect_gregset, sparc64_supply_fpregset,
sparc64_collect_fpregset): New prototypes.
(sparc64_sol2_gregset, sparc64nbsd_gregset, sparc64fbsd_gregset):
Add extern declarations.
(sparc64_sol2_init_abi): New prototype.
(sparc64fbsd_supply_reg, sparc64fbsd_fill_reg)
(sparc64fbsd_supply_fpreg, sparc64fbsd_fill_fpreg): Remove
prototypes.
* sparc64fbsd-nat.c: Include "sparc-nat.h", don't include
"sparnbsd-nat.h".
(sparc64fbsd_reg_supplies_p, sparc64fbsd_fpreg_supplies_p): Remove
functions.
(_initialize_sparc64fbsd_nat): Remove initialization of
sparcbsd_supply_reg, sparcbsd_fill_reg, sparcbsd_supply_fpreg,
sparcbsd_fill_fpreg, sparcbsd_reg_supplies_p,
sparcbsd_fpreg_supplies_p.  Initialize sparc_gregset.
* sparc64fbsd-tdep.c: Update copyright year.  Include "frame.h",
"frame-unwind.h", "trad-frame.h" and "gdb_assert.h".
(sparc64fbsd_r_global_offset, sparc64fbsd_r_out_offset)
(sparc64fbsd_r_fprs_offset, sparc64fbsd_r_tnpc_offset)
(sparc64fbsd_r_tpc_offset, sparc64fbsd_r_tstate_offset)
(sparc64fbsd_r_y_offset): Remove variables.
(sparc64fbsd_sizeof_struct_reg, sparc64fbsd_sizeof_struct_fpreg):
Make static and const.
(sparc64fbsd_supply_reg, sparc64fbsd_fill_reg)
(sparc64fbsd_supply_fpreg, sparc64fbsd_fill_fpreg): Remove
functions.
(sparc64fbsd_gregset): New variable.
(fetch_core_registers): Replace calls to sparc64fbsd_supply_reg
and sparc64fbsd_supply_fpreg with calls to sparc64_supply_gregset
and sparc64_supply_fpregset.
(sparc64fbsd_pc_in_sigtramp, sparc64fbsd_sigtramp_frame_cache)
(sparc64fbsd_sigtramp_frame_this_id)
(sparc64fbsd_sigtramp_frame_prev_register): New functions.
(sparc64fbsd_sigtramp_frame_unwind): New variable.
(sparc64fbsd_sigtramp_frame_sniffer): New function.
(sparc64fbsd_init_abi): Set pc_in_sigtramp, append
sparc64fbsd_sigtramp_frame_sniffer.  Call sparc64_init_abi.
* sparcnbsd-tdep.c: Update copyright year.  Include
"floatformat.h", "frame.h", "frame-unwind.h", "symtab.h",
"trad-frame.h" and "gdb_assert.h", don't include "target.h",
"value.h" and "sparcnbsd-tdep.h".
(REG32_OFFSET_PSR, REG32_OFFSET_PC, REG32_OFFSET_NPC)
(REG32_OFFSET_Y, REG32_OFFSET_GLOBAL, REG32_OFFSET_OUT)
(REG64_OFFSET_TSTATE, REG64_OFFSET_PC, REG64_OFFSET_NPC)
(REG64_OFFSET_Y, REG64_OFFSET_GLOBAL, REG64_OFFSET_OUT): Remove
defines.
(sparcnbsd_gregset): New variable.
(sparcnbsd_supply_reg32, sparcnbsd_supply_reg64)
(sparcnbsd_fill_reg32, sparcnbsd_fill_reg64)
(sparcnbsd_supply_fpreg32, sparcnbsd_supply_fpreg64)
(sparcnbsd_fill_reg32, sparcnbsd_fill_reg64): Remove functions.
(sparc32nbsd_sigtramp_start, sparc32nbsd_sigtramp_end): New
variables.
(sparc32nbsd_pc_in_sigtramp, sparc32nbsd_sigcontext_frame_cache)
(sparc32nbsd_sigcontext_frame_this_id)
(sparc32nbsd_sigcontext_frame_prev_register): New functions.
(sparc32nbsd_sigcontext_frame_unwind): New variable.
(sparc32nbsd_sigtramp_frame_sniffer): New function.
(sparcnbsd_get_longjmp_target_32,
sparcnbsd_get_longjmp_target_64): Remove functions.
(sparcnbsd_aout_in_solib_call_trampoline): Rewrite.
(sparcnbsd_init_abi_common, sparcnbsd_init_aout,
sparcnbsd_init_elf): Remove.
(sparcnbsd_init_abi, sparcnbsd_aout_init_abi)
(sparcnbsd_elf_init_abi): New functions.
(_initialize_sparcnbsd_tdep): New prototype.
(_initialize_sparnbsd_tdep): Update.
* config/sparc/fbsd.mh (NATDEPFILES): Remove sparcbsd-nat.o and
corelow.o.  Add sparc64-nat.o and sparc-nat.o.
* config/sparc/fbsd.mt (TDEPFILES): Add sparc-tdep.o and corelow.o.
* config/sparc/linux.mh: Update comment.
(XM_FILE, HOST_IPC): Remove variables.
(NATDEPFILES): Add sparc-sol2-nat.o and core-regset.o.  Remove
sparc-linux-nat.o.
* config/sparc/linux.mt: Update comment.
(TDEPFILES): Add sparc-sol2-tdep.o and sparc-linux-tdep.o.
* config/sparc/nbsd.mt: Reformat.
* config/sparc/nbsd64.mh: Update comment.
(NATDEPFILES): Add sparc-nat.o.
* config/sparc/nbsd64.mt: Update comment.
(TDEPFILES): Add sparc64-tdep.o and sparc64nbsd-tdep.o.
(TM_FILE): Set to tm-nbsd.h.
* config/sparc/nbsdelf.mh: Update comment.
(NATDEPFILES): Add sparc-nat.o.
(XM_FILE): Delete.
* config/sparc/nbsdaout.mh: Update comment.
(NATDEPFILES): Add sparc-nat.o
(XM_FILE): Delete.
* config/sparc/nm-linux.h: Update copyright year.  Don't include
"config/nm-svr4.h" and "solib.h".  Add protection against multiple
inclusion.
(KERNEL_U_SIZE): Remove define.
(kernel_u_size): Remove prototype.
(PTRACE_ARG3_TYPE, PTRACE_XFER_TYPE): Define.
* config/sparc/nm-nbsd.h: Update copyright.  Don't include
"regcache.h".
(CHILD_PREPARE_TO_STORE): Remove define.
* config/sparc/nm-nbsdaout.h: Tweak some comments.
* sparc-nat.c, sparc-tdep.c, sparc-tdep.h, sparc64nbsd-nat.c,
sparcnbsd-nat.c: Rewrite files.
* config/sparc/tm-linux.h, config/sparc/tm-nbsd.h: Rewrite files.
* sparc-linux-nat.c, sparcbsd-nat.c, sparcbsd-nat.h,
sparcnbsd-tdep.h: Remove files.
* config/sparc/nm-sparclynx.h, config/sparc/nm-sun4os4.h,
config/sparc/nm-sun4sol2.h, config/sparc/sp64.mt,
config/sparc/sp64linux.mt, config/sparc/sp64sol2.mt,
config/sparc/sparc-em.mt, config/sparc/sparclynx.mh,
config/sparc/sparclynx.mt, config/sparc/sun4os4.mh,
config/sparc/sun4os4.mt, config/sparc/sun4sol2.mh,
config/sparc/sun4sol2.mt, config/sparc/tm-sp64.h,
config/sparc/tm-sp64linux.h, config/sparc/tm-sparc.h,
config/sparc/tm-sparclynx.h, config/sparc/tm-spc-em.h,
config/sparc/tm-sun4os4.h, config/sparc/tm-sun4sol2.h,
config/sparc/tm-vxsparc.h, config/sparc/vxsparc.mt,
config/sparc/xm-linux.h, config/sparc/xm-sun4sol2.h: Remove files.
* sparc-linux-tdep.c, sparc-nat.h, sparc-sol2-nat.c,
sparc-sol2-tdep.c, sparc64-linux-nat.c, sparc64-linux-t dep.c,
sparc64-nat.c, sparc64-sol2-tdep.c, sparc64nbsd-tdep.c: New files.
* config/sparc/linux64.mh, config/sparc/linux64.mt,
config/sparc/nm-sol2.h, config/sparc/sol2-64.mt,
config/sparc/sol2.mh, config/sparc/sol2.mt, config/sparc/sparc.mt,
config/sparc/sparc64.mt, config/sparc/tm-sol2.h: New files.
@
text
@d199 1
@


1.123
log
@	From Bernardo Innocenti <bernie@@develer.com>:
	* configure.tgt: Add uClinux target.
@
text
@a188 3
sparc-*-aout*)		gdb_target=sparc-em ;;
sparc-*-coff*)		gdb_target=sparc-em ;;
sparc-*-elf*)		gdb_target=sparc-em ;;
d190 1
a190 1
sparc-*-lynxos*)	gdb_target=sparclynx ;;
a191 12
sparc-*-solaris2*)	gdb_target=sun4sol2 ;;
sparc-*-sunos4*)	gdb_target=sun4os4 ;;
sparc-*-sunos5*)	gdb_target=sun4sol2 ;;
sparc-*-vxworks*)	gdb_target=vxsparc ;;
sparc-*-*)		gdb_target=sun4os4 ;;
# It's not clear what the right solution for "v8plus" systems is yet.
# For now, stick with sparc-sun-solaris2 since that's what config.guess
# should return.  Work is still needed to get gdb to print the 64 bit
# regs (some of which are usable in v8plus) so sp64sol.mt hasn't been
# deleted though presumably it should be eventually.
#sparc64-*-solaris2*)	gdb_target=sp64sol2 ;;
sparc64-*-linux*)	gdb_target=sp64linux ;;
d193 8
a200 1
sparcv9-*-* | sparc64-*-*) gdb_target=sp64 ;;
@


1.122
log
@2003-12-01  Andrew Cagney  <cagney@@redhat.com>

	Obsolete old MIPS SVr3 and SVr4 systems.
	* NEWS: Mention obsoleted systems.
	* configure.tgt: Mark mips*-*-sysv4* as obsolete.
	* configure.host: Mark mips-dec-*, mips-little-*, mips-sony-*,
	mips-*-sysv4*, mips-*-sysv*, mips-*-riscos* and mips-*-mach3* as
	obsolete.
	* config/mips/decstation.mh: Mark as obsolete.
	* config/mips/littlemips.mh: Mark as obsolete.
	* config/mips/nm-mips.h: Mark as obsolete.
	* config/mips/xm-mips.h: Mark as obsolete.
	* config/mips/news-mips.mh: Mark as obsolete.
	* config/mips/nm-news-mips.h: Mark as obsolete.
	* config/mips/riscos.mh: Mark as obsolete.
	* config/mips/nm-riscos.h: Mark as obsolete.
	* config/mips/xm-riscos.h: Mark as obsolete.
	* config/mips/mipsv4.mt: Mark as obsolete.
	* config/mips/tm-mipsv4.h: Mark as obsolete.
	* config/mips/xm-mipsv4.h: Mark as obsolete.
@
text
@d132 1
@


1.121
log
@2003-12-01  Andrew Cagney  <cagney@@redhat.com>

	Obsolete old m68k systems.
	* configure.host: Mark m68*-sun-*, m68*-sun-sunos4*,
	m68*-sun-sunos3*, m68*-motorola-*, m68*-*-sysv4*, m68*-*-lynxos*,
	m68*-bull*-sysv*, m68*-att-*, m680[01]0-sun-sunos4*, and
	m680[01]0-sun-sunos3* as obsolete.
	* configure.tgt: Mark m68*-*-lynxos*, m68*-*-sunos3*,
	m68*-*-sunos4*, m68*-*-sysv4*, m68000-*-sunos3*, m68000-*-sunos4*,
	m68*-bull-sysv*, m68*-att-*, and m68*-motorola-*, as obsolete.
	* config/m68k/sun3os4.mh: Mark file obsolete.
	* config/m68k/xm-sun3os4.h: Mark file obsolete.
	* config/m68k/sun3os3.mh: Mark file obsolete.
	* config/m68k/nm-sun3.h: Mark file obsolete.
	* config/m68k/xm-sun3.h: Mark file obsolete.
	* config/m68k/sun2os4.mh: Mark file obsolete.
	* config/m68k/sun2os3.mh: Mark file obsolete.
	* config/m68k/nm-sun2.h: Mark file obsolete.
	* config/m68k/xm-sun2.h: Mark file obsolete.
	* config/m68k/m68kv4.mh: Mark file obsolete.
	* config/m68k/nm-sysv4.h: Mark file obsolete.
	* config/m68k/xm-m68kv4.h: Mark file obsolete.
	* config/m68k/m68klynx.mh: Mark file obsolete.
	* config/m68k/nm-m68klynx.h: Mark file obsolete.
	* config/m68k/dpx2.mh: Mark file obsolete.
	* config/m68k/xm-dpx2.h: Mark file obsolete.
	* config/m68k/nm-dpx2.h: Mark file obsolete.
	* config/m68k/delta68.mh: Mark file obsolete.
	* config/m68k/xm-delta68.h: Mark file obsolete.
	* config/m68k/nm-delta68.h: Mark file obsolete.
	* config/m68k/3b1.mh: Mark file obsolete.
	* config/m68k/xm-3b1.h: Mark file obsolete.
	* config/m68k/sun3os4.mt: Mark file obsolete.
	* config/m68k/tm-sun3os4.h: Mark file obsolete.
	* config/m68k/sun3os3.mt: Mark file obsolete.
	* config/m68k/tm-sun3.h: Mark file obsolete.
	* config/m68k/sun2os4.mt: Mark file obsolete.
	* config/m68k/tm-sun2os4.h: Mark file obsolete.
	* config/m68k/sun2os3.mt: Mark file obsolete.
	* config/m68k/tm-sun2.h: Mark file obsolete.
	* config/m68k/m68kv4.mt: Mark file obsolete.
	* config/m68k/tm-m68kv4.h: Mark file obsolete.
	* config/m68k/m68klynx.mt: Mark file obsolete.
	* config/m68k/tm-m68klynx.h: Mark file obsolete.
	* config/m68k/dpx2.mt: Mark file obsolete.
	* config/m68k/tm-dpx2.h: Mark file obsolete.
	* config/m68k/delta68.mt: Mark file obsolete.
	* config/m68k/tm-delta68.h: Mark file obsolete.
	* config/m68k/3b1.mt: Mark file obsolete.
	* config/m68k/tm-3b1.h: Mark file obsolete.
@
text
@d143 1
a143 1
mips*-*-sysv4*)		gdb_target=mipsv4 ;;
@


1.120
log
@2003-11-16  Andrew Cagney  <cagney@@redhat.com>

	* configure.tgt: Delete mips*tx39*-elf*.
	* config/mips/tm-tx39.h: Delete file.
	* config/mips/tx39.mt: Delete file.
	* config/mips/tx39.mt: Delete file.
@
text
@d111 2
a112 2
m68000-*-sunos3*)	gdb_target=sun2os3 ;;
m68000-*-sunos4*)	gdb_target=sun2os4 ;;
d114 2
a115 2
m68*-bull-sysv*)	gdb_target=dpx2 ;;
m68*-att-*)		gdb_target=3b1 ;;
d117 1
a117 1
m68*-motorola-*)	gdb_target=delta68 ;;
d126 1
a126 1
m68*-*-lynxos*)		gdb_target=m68klynx ;;
d129 3
a131 3
m68*-*-sunos3*)		gdb_target=sun3os3 ;;
m68*-*-sunos4*)		gdb_target=sun3os4 ;;
m68*-*-sysv4*)		gdb_target=m68kv4 ;;
@


1.119
log
@2003-11-16  Andrew Cagney  <cagney@@redhat.com>

	* config/mips/linux64.mt: Delete file.
	* config/mips/tm-linux64.h: Delete file.
	* config/mips/tm-mips64.h: Delete file.
	* config/mips/embed64.mt: Delete file.
	* config/djgpp/fnchange.lst: Update.
	* configure.tgt: Delete explicit patterns for mipsisa64*-*-linux*,
	mips64*-*-linux*, mips64*-*-*, and mipsisa64*-*-*.
	* config/mips/tm-irix6.h: Update copyright.  Include
	"mips/tm-mips.h" instead of "mips/tm-mips64.h".
	* mips-tdep.c (mips_dump_tdep): Do not print "OP_LDFPR" or
	"OP_LDGPR".
@
text
@a136 1
mips*tx39*-elf*)	gdb_target=tx39 ;;
@


1.118
log
@Add NetBSD/amd64 native configuration:
* x86-64-tdep.h (amd64nbsd_r_reg_offset): Add extern declarations.
* amd64nbsd-tdep.c: New file.
* amd64nbsd-nat.c: New file.
* amd64bsd-nat.c: New file.
* config/i386/nbsd64.mh: New file.
* config/i386/nbsd64.mt: New file.
* configure.host: Add x86_64-*-netbsd*.
* configure.tgt: Add x86_64-*-netbsd*.
* Makefile.in (amd64bsd-nat.o, amd64nbsd-nat.o, amd64nbsd-tdep.o):
New targets.
* NEWS (New native configurations): Mention NetBSD/amd64.
@
text
@a135 5
# "mipsisa64" targets are 64-bit MIPS, MIPS64 ISA.  They need these
# special cases because otherwise they (obviously) are not matched by
# the "mips64" target cases, and would therefore be treated as 32-bit.
mipsisa64*-*-linux*)	gdb_target=linux64 ;;
mipsisa64*-*-*)		gdb_target=embed64 ;;
a137 1
mips64*-*-linux*)	gdb_target=linux64 ;;
a145 1
mips64*-*-*)		gdb_target=embed64 ;;
@


1.117
log
@2003-10-06  Andrew Cagney  <cagney@@redhat.com>

	* NEWS: Mention that z8k-zilog-none, z8ksim, mn10200-*-*,
	h8500hms, hppa*-*-bsd*, hppa*-*-osf*, hppa*-*-pro*,
	mips*-*-mach3*, i[3456]86-sequent-sysv4*, i[3456]86-sequent-sysv*,
	i[3456]86-sequent-bsd*, sparclet-*-*, sparclite-fujitsu-none, and
	sparclite were removed.
	* configure.host, configure.tgt: Remove corresponding tuples.
@
text
@d232 1
@


1.116
log
@2003-09-11  Andrew Cagney  <cagney@@redhat.com>

	Since the IRIX 4 configuration was forcing K&R mode it hasn't been
	buildable since GDB 5.0.
	* NEWS: Mention that IRIX 3 and IRIX 4 support were removed.
	* configure.host: Delete "mips-sgi-irix3*" and "mips-sgi-irix4*".
	* configure.tgt: Delete "mips*-sgi-*" a.k.a. irix3.
	* irix4-nat.c: Delete file.
	* config/mips/irix4.mh: Delete file.
	* config/mips/irix3.mh: Delete file.
	* config/mips/irix3.mt: Delete file.
	* config/mips/tm-irix3.h: Delete file.
	* config/mips/nm-irix3.h: Delete file.
	* config/mips/xm-irix3.h: Delete file.
	* config/mips/nm-irix4.h: Delete file.
	* config/mips/xm-irix4.h: Delete file.
	* config/mips/tm-irix5.h: Inline contents of "tm-irix3.h".
@
text
@a69 1
# OBSOLETE h8500-*-*)		gdb_target=h8500 ;;
a73 2
# OBSOLETE hppa*-*-bsd*)		gdb_target=hppabsd ;;
# OBSOLETE hppa*-*-pro*)		gdb_target=hppapro ;;
a76 1
# OBSOLETE hppa*-*-osf*)		gdb_target=hppaosf ;;
a78 3
# OBSOLETE i[3456]86-sequent-bsd*)	gdb_target=symmetry ;;
# OBSOLETE i[3456]86-sequent-sysv4*) gdb_target=ptx4 ;;
# OBSOLETE i[3456]86-sequent-sysv*) gdb_target=ptx ;;
a149 1
# OBSOLETE mips*-*-mach3*)		gdb_target=mipsm3 ;;
a154 1
# OBSOLETE mn10200-*-*)		gdb_target=mn10200 ;;
a206 3
# OBSOLETE sparclet-*-*)		gdb_target=sparclet;;
# OBSOLETE sparclite-*-*)		gdb_target=sparclite ;;
# OBSOLETE sparc86x-*-*)		gdb_target=sparclite ;;
a231 2

# OBSOLETE z8k-*-coff*)		gdb_target=z8k ;;
@


1.116.4.1
log
@New SPARC target.
* configure.tgt: Remove support for old SPARC targets.
* configure.tgt: Remove support for old SPARC hosts.
* Makefile.in: Remove support for old SPARC hosts and targets.
(sparc-tdep.o): Update dependencies.
(sparc-sol2-tdep.o, sparc-sol2-nat.o): New dependencies.
* sparc-tdep.c, sparc-tdep.h: New implementation.
* sparc-sol2-tdep.c, sparc-sol2-nat.c: New files.
* config/sparc/sparc.mt: New files.
* config/sparc/sol2.mt, config/sparc/sol2.mh: New files.
* config/sparc/tm-sol2.h: New file.
@
text
@d205 23
a227 2
sparc-*-solaris2*)	gdb_target=sol2 ;;
sparc-*-*)		gdb_target=sparc ;;
@


1.116.4.2
log
@* sparc-tdep.h (struct sparc_gregset): New.
(sparc_sol2_supply_gregset, sparc_sol2_collect_gregset,
sparc_sol2_supply_fpregset, sparc_sol2_collect_fpregset): Remove
prototypes.
(sparc_supply_gregset, sparc_collect_gregset,
sparc_supply_fpregset, sparc_collect_fpregset): New prototypes.
(sparc32_sunos4_gregset, sparc32_sol2_gregset): New extern
declarations.
(sparc32_sol2_init_abi): Rename from sparc_sol2_init_abi.
* sparc-tdep.c (sparc_supply_gregset, sparc_collect_gregset,
sparc_supply_fpregset, sparc_collect_fpregset): New function.
(sparc32_sunos4_gregset): New variable.
* sparc-sol2-tdep.c (sparc_sol2_R_PSR, sparc_sol2_R_PC,
sparc_sol2_R_nPC, sparc_sol2_R_Y, sparc_sol2_R_WIM,
sparc_sol2_R_TBR): Remove variables.
(sparc_sol2_supply_gregset, sparc_sol2_collect_gregset,
sparc_sol2_supply_fpregset, sparc_sol2_collect_fpregset): Remove
functions.
(sparc32_sol2_gregset): New variable.
(sparc32_sol2_sigtramp_frame_cache): Rename from
sparc_sol2_sigtramp_frame_cache.
(sparc32_sol2_sigtramp_frame_this_id): Rename from
sparc_sol2_sigtramp_frame_this_id.
(sparc32_sol2_sigtramp_frame_prev_register): Rename from
sparc_sol2_sigtramp_frame_prev_register.
(sparc32_sol2_sigtramp_frame_unwind): Rename from
sparc_sol2_sigtramp_frame_unwind.
(sparc32_sol2_sigtramp_frame_sniffer): Rename from
sparc_sol2_sigtramp_frame_sniffer.
(sparc32_sol2_init_abi): Rename from sparc_sol2_init_abi.
(_initialize_sparc_sol2_tdep): Update.
* sparc-linux-tdep.c: New file.
* sparc-nat.o: Replace with new file.
* sparc-linux-nat.c: Remove file.
* config/sparc/linux.mh (XM_FILE, HOST_IPC): Remove.
(NATDEPFILES): Add sparc-sol2-nat.o and core-regset.o.  Remove
sparc-linux-nat.o.
* config/sparc/linux.mt (TDEPFILES): Add sparc-sol2-tdep.o and
sparc-linux-tdep.o.
* config/sparc/nm-linux.h: Don't include "config/nm-svr4.h" and
"solib.h".  Add protection against multiple inclusion.
(KERNEL_U_SIZE): Don't define.
(kernel_u_size): Remove prototype.
* config/sparc/tm-linux.h: Replace with new file.
* configure.tgt: Add sparc-*-linux*.
* configure.host: Add sparc-*-linux*.
* Makefile.in (ALLDEPFILES): Add sparc-linux-tdep.c and
sparc-nat.c.
(sparc-nat.o, sparc-linux-tdep.o): New dependencies.
@
text
@a205 1
sparc-*-linux*)		gdb_target=linux ;;
@


1.116.4.3
log
@* sparc64-tdep.h (r_tstate_offset): New define.
(sparc64_supply_gregset, sparc64_collect_gregset,
sparc64_supply_fpregset, sparc64_collect_fpregset): New
prototypes.
(sparc64_sol2_gregset): New extern declaration.
(sparc64_sol2_init_abi): New prototype.
* sparc64-tdep.c: Include "symtab.h" and "objfiles.h".  Don't
include "sparc-tdep.h".
(X_RD, X_I): New macros.
(sparc64_analyze_prologue): Sync with implementation in
sparc-tdep.c.
(TSTATE_CWP, TSTATE_ICC, TSTATE_XCC): New macros.
(PSR_S, PSR_ICC, PSR_VERS, PSR_IMPL, PSR_V8PLUS, PSR_XCC): New
macros.
(sparc64_supply_gregset, sparc64_collect_gregset,
sparc64_supply_fpregset, sparc64_collect_fpregset): New functions.
* sparc64-nat.c: New file.
* sparc64-sol2-nat.c: New file.
* sparc64-sol2-tdep.c: New file.
* sparc64-linux-nat.c: New file.
* sparc64-linux-tdep.c: New file.
* Makefile.in (sparc_tdep_h): New variable.
(ALLDEPFILES): Add sparc64-sol2-tdep.c, sparc64-linux-tdep.c,
sparc64-nat.c sparc64-sol2-nat.c and sparc64-linux-nat.c
(sparc-nat.o, sparc-linux-tdep.o, sparc64-tdep.o): Update
dependencies.
(sparc64-nat.o, sparc64-linux-nat.o, sparc64-linux-tdep.o,
sparc64-sol2-nat.o, sparc64-sol2-tdep.o): New dependencies.
* configure.tgt: Add sparc64-*-linux*.
* configure.host: Add sparc64-*-linux*.
* config/sparc/linux64.mt: New file.
* config/sparc/linux64.mh: New file.
@
text
@a207 1
sparc64-*-linux*)	gdb_target=linux64 ;;
@


1.116.4.4
log
@* configure.host: Add sparc64-*-solaris2* and sparcv9-*-solaris2*.
* configure.tgt: Add sparc64-*-solaris2* and sparcv9-*-solaris2*.
* config/sparc/sol64.mh: New file.
* config/sparc/sol64.mt: New file.
* Makefile.in (sparc64-sol2-nat.o): Fix typo.
@
text
@d205 1
a206 1
sparc-*-solaris2*)	gdb_target=sol2 ;;
a208 3
sparc64-*-solaris2* | sparcv9-*-solaris2*)
			gdb_target=sol64
			;;
@


1.116.4.5
log
@* sparcnbsd-tdep.c: Don't include "target.h", "value.h" and
"sparcnbsd-tdep.h".
(REG32_OFFSET_PSR, REG32_OFFSET_PC, REG32_OFFSET_NPC,
REG32_OFFSET_Y, REG32_OFFSET_GLOBAL, REG32_OFFSET_OUT,
REG64_OFFSET_TSTATE, REG64_OFFSET_PC, REG64_OFFSET_NPC,
REG64_OFFSET_Y, REG64_OFFSET_GLOBAL, REG64_OFFSET_OUT): Remove.
(sparcnbsd_supply_reg32, sparcnbsd_supply_reg64,
sparcnbsd_fill_reg32, sparcnbsd_fill_reg64,
sparcnbsd_supply_fpreg32, sparcnbsd_supply_fpreg64,
sparcnbsd_fill_reg32, sparcnbsd_fill_reg64): Remove.
(sparcnbsd_gregset): New variable.
(fetch_core_registers): Rewrite to call sparc32_supply_gregset and
sparc32_supply_fpregset.
(sparcnbsd_get_longjmp_target_32,
sparcnbsd_get_longjmp_target_64): Remove.
(sparcnbsd_init_abi_common, sparcnbsd_init_aout,
sparcnbsd_init_elf): Remove.
(sparcnbsd_init_abi, sparcnbsd_aout_init_abi,
sparcnbsd_elf_init_abi): New functions.
(_initialize_sparcnbsd_tdep): New prototype.
(_initialize_sparnbsd_tdep): Update.
* Makefile.in (ALLDEPFILES): Add sparcnbsd-tdep.c.
(sparcnbsd-tdep.o): New dependency.
* configure.tgt: Add sparc-*-netbsd*.
* config/sparc/tm-nbsd.h: Rewrite.
* config/sparc/nbsd.mt: Reformat.
@
text
@a205 1
sparc-*-netbsd*)	gdb_target=nbsd ;;
@


1.116.4.6
log
@* configure.tgt: Rearrange things such that we include 64-bit
Solaris 2 support for Solaris 7 and up, just like what is done for
libbfd.
@
text
@d207 4
a210 4
sparc-*-solaris2.[0-6] | sparc-*-solaris2.[0-6].*)
			gdb_target=sol2
			;;
sparc-*-solaris2* | sparcv9-*-solaris2* | sparc64-*-solaris2*)
a212 2
sparc-*-*)		gdb_target=sparc ;;
sparc64-*-linux*)	gdb_target=linux64 ;;
@


1.116.4.7
log
@* sparc64-tdep.h (sparc64nbsd_gregset): Add extern declaration.
* sparc64nbsd-nat.c: Rewrite.
* sparc64nbsd-tdep.c: New file.
* configure.tgt: Add sparc64-*-netbsd*.
* configure.host: Add sparc64-*-netbsd*.
* Makefile.in (ALLDEPFILES): Add sparc64nbsd-tdep.c and
sparc64nbsd-nat.c.
(sparc64nbsd-tdep.o, sparc64nbsd-nat.o): New dependencies.
* config/sparc/nbsd64.mh (NATDEPFILES): Add sparc-nat.o.
* config/sparc/nbsd64.mt (TDEPFILES): Add sparc64-tdep.o and
sparc64nbsd-tdep.o.
(TM_FILE): Set to tm-nbsd.h.
* config/sparc/tm-nbsd64.h: Remove file.
@
text
@a214 1
sparc64-*-netbsd*)	gdb_target=nbsd64 ;;
@


1.115
log
@	* Makefile.in (ALLDEPFILES): Add sh64-tdep.c.
	(sh64-tdep.o): Add dependencies.
	* configure.tgt: Add FIXME to sh-*-linux*.
	* sh-tdep.c: Move sh64 support to sh64-tdep.c.
	(sh_gdbarch_init): Always set correct sh_show_regs function
	pointer.  Call sh64_gdbarch_init() if machine type is sh5.
	* sh-tdep.h: Move sh64 support to sh64-tdep.c.
	* sh64-tdep.c: New file, containing all sh64 related code from
	sh-tdep.c.
	* config/sh/embed.mt (TDEPFILES): Add sh64-tdep.o.
	* config/sh/linux.mt (TDEPFILES): Ditto.
	* config/sh/nbsd.mt (TDEPFILES): Ditto.
	* config/sh/tm-sh.h: Drop REGISTER_TYPE definition.
	* config/sh/wince.mt (TDEPFILES): Ditto.
@
text
@a152 1
mips*-sgi-*)		gdb_target=irix3 ;;
@


1.114
log
@2003-09-04  Andrew Cagney  <cagney@@redhat.com>

	* configure.tgt: Add "mips64*-*-*" target.  Delete
	mips64*el-*-ecoff*, mips64*el-*-elf*, mips*el-*-ecoff*,
	mips*el-*-elf*, mips*-*-lnews*, mips*-*-sysv*, mips*-*-riscos*,
	mips*-*-ecoff*, mips*-*-elf*, mips*-little-*, mips*-big-*,
	mips*-dec-*, mips64*-big-*, mips64*vr*-*-elf*, mips64*-*-ecoff*,
	mips*-sony-*, and mips64*-*-elf* targets.
	* config/mips/embedl.mt: Delete file.
	* config/mips/embedl64.mt: Delete file.
	* config/mips/mips.mt: Delete file.
	* config/mips/mips64.mt: Delete file.
	* config/mips/tm-embed.h: Delete file.
	* config/mips/embed.mt (TM_FILE): Set to "tm-mips.h".
	* config/mips/embed64.mt: Delete out-of-date comment.
@
text
@d198 1
@


1.113
log
@2003-09-03  Andrew Cagney  <cagney@@redhat.com>

	* defs.h: Do not include "arch-utils.h".
	(GDB_MULTI_ARCH): If not defined, set to GDB_MULTI_ARCH_PARTIAL or
	GDB_MULTI_ARCH_PURE.
	* configure.in (GDB_MULTI_ARCH): Do not define.
	* configure, config.in: Regenerate.
	* configure.tgt: Do not set variable "gdb_multi_arch".
	* config/s390/s390x.mt (GDB_MULTI_ARCH): Delete.
	* config/s390/s390.mt (GDB_MULTI_ARCH): Delete.
	* config/i386/x86-64linux.mt (GDB_MULTI_ARCH): Delete.
	* config/v850/v850.mt (TM_FILE): Delete disabled definition.
	* config/m68hc11/m68hc11.mt (TM_FILE): Delete definition.
	* config/vax/tm-vax.h (GDB_MULTI_ARCH): Delete definition.
	* config/sparc/tm-sparc.h (GDB_MULTI_ARCH): Delete definition.
	* config/sparc/tm-sun4sol2.h (GDB_MULTI_ARCH): Delete definition.
	* config/sparc/tm-nbsd.h (GDB_MULTI_ARCH): Delete definition.
	* config/sparc/tm-linux.h (GDB_MULTI_ARCH): Delete definition.
	* config/sparc/tm-sp64.h (GDB_MULTI_ARCH): Delete definition.
	* config/pa/tm-hppa64.h (GDB_MULTI_ARCH): Delete definition.
	* config/ns32k/tm-ns32k.h (GDB_MULTI_ARCH): Delete definition.
	* config/m68k/tm-m68k.h (GDB_MULTI_ARCH): Delete definition.
	* config/i386/tm-i386.h (GDB_MULTI_ARCH): Delete definition.
	* config/h8300/tm-h8300.h (GDB_MULTI_ARCH): Delete definition.
	* config/frv/tm-frv.h (GDB_MULTI_ARCH): Delete definition.
	* config/alpha/tm-alpha.h (GDB_MULTI_ARCH): Delete definition.
@
text
@a147 3
mips64*-big-*)		gdb_target=mips64 ;;
mips*-big-*)		gdb_target=mips ;;
mips*-dec-*)		gdb_target=mips ;;
a148 3
mips64*el-*-ecoff*)	gdb_target=embedl64 ;;
mips64*-*-ecoff*)	gdb_target=embed64 ;;
mips64*vr*-*-elf*)	gdb_target=mips64 ;;
a149 2
mips64*el-*-elf*)	gdb_target=embedl64 ;;
mips64*-*-elf*)		gdb_target=embed64 ;;
a150 6
mips*el-*-ecoff*)	gdb_target=embedl ;;
mips*-*-ecoff*)		gdb_target=embed ;;
mips*el-*-elf*)		gdb_target=embedl ;;
mips*-*-elf*)		gdb_target=embed ;;
mips*-little-*)		gdb_target=mips ;;
mips*-*-lnews*)		gdb_target=embedl ;;
a153 1
mips*-sony-*)		gdb_target=mips64 ;;
a159 2
mips*-*-sysv*)		gdb_target=mips ;;
mips*-*-riscos*)	gdb_target=mips ;;
d161 1
@


1.112
log
@2003-08-25  Chris Demetriou  <cgd@@broadcom.com>

        * configure.tgt: Document need for special "mipsisa64" handling.
        (mipsisa64*-*-linux64): Handle as target linux64.
        (mipsisa64*-*-*): Handle as target embed64.
@
text
@d53 1
a53 2
arm*-*-netbsd*)		gdb_target=nbsd
			gdb_multi_arch=yes ;;
d63 1
a63 3
avr-*-*)		gdb_target=avr
			gdb_multi_arch=yes
			;;
a130 1
			gdb_multi_arch=1
a262 15
esac


# map GDB target onto multi-arch support

case "${gdb_target}" in
d10v)		gdb_multi_arch=yes ;;
fbsd64)		gdb_multi_arch=yes ;;
m32r)		gdb_multi_arch=yes ;;
m68hc11)	gdb_multi_arch=yes ;;
mn10300)	gdb_multi_arch=yes ;;
x86-64linux)    gdb_multi_arch=yes ;;
v850)           gdb_multi_arch=yes ;;
xstormy16)      gdb_multi_arch=yes ;;
mcore)		gdb_multi_arch=yes ;;
@


1.111
log
@2003-08-01  Andrew Cagney  <cagney@@redhat.com>

	* NEWS: Mention that m32r is multi-arch.
	From 2003-07-28 Kei Sakamoto <sakamoto.kei@@renesas.com>:
	* configure.tgt: Recognize m32r-*-*.
	* config/m32r/tm-m32r.h: Delete file.
	* config/m32r/m32r.mt: New file.
	* m32r-rom.c (m32r_upload_command): Use hostent only when
        gethostname succeeds, in order to avoid a compilation
        warning.
	* m32r-tdep.c (m32r_store_return_value): Add a cast to remove a
	compiler warning.
@
text
@d146 6
@


1.110
log
@Doh!  configure.tgt was not part of the change.
@
text
@d117 1
a117 1
# OBSOLETE m32r-*-elf*)		gdb_target=m32r ;;
d269 1
@


1.109
log
@2003-07-27  Andrew Cagney  <cagney@@redhat.com>

	Patch from 2003-07-22 Kei Sakamoto <sakamoto.kei@@renesas.com>:
	* m32r-tdep.c (m32r_memory_insert_breakpoint): Fix code style -
	operator at start and not end of line.
	(decode_prologue): Ditto.
	(m32r_frame_unwind_cache, m32r_unwind_sp, m32r_unwind_pc): Use
	frame_unwind_register_unsigned instead of
	frame_unwind_unsigned_register.
	(m32r_read_pc): Use regcache_cooked_read_unsigned instead of
	read_register.
	(m32r_push_dummy_call): Use register_size instead of
	REGISTER_RAW_SIZE.
	(m32r_frame_sniffer): Replace m32r_frame_p.
	(m32r_gdbarch_init): Call frame_unwind_append_sniffer.
	* m32r-rom.c (report_transfer_performance): Delete extern
	declaration.
	(m32r_load, m32r_upload_command): Use print_transfer_performance
	instead of report_transfer_performance.
	(_initialize_m32r_rom): Use add_setshow_cmd instead of add_set_cmd
	/ add_show_from_set.
@
text
@d117 1
a117 1
m32r-*-*)		gdb_target=m32r ;;
a267 1
m32r)		gdb_multi_arch=yes ;;
@


1.108
log
@* configure.host: Add x86_64-*-freebsd*.
* configure.tgt: Add x86_64-*-freebsd*.
* Makefile.in (amd64fbsd-nat.o, amd64fbsd-tdep.o): New targets.
* amd64fbsd-nat.c: New file.
* amd64fbsd-tdep.c: New file.
* config/i386/nm-fbsd64.h: New file.
* config/i386/fbsd64.mh: New file.
* config/i386/fbsd64.mt: New file.
@
text
@d117 1
a117 1
# OBSOLETE m32r-*-elf*)		gdb_target=m32r ;;
d268 1
@


1.107
log
@From Kelley Cook  <kelleycook@@wideopenwest.com>:
* configure.host: Accept i[34567]86 variants.
* configure.tgt: Likewise.
* nlm/configure.in: Likewise.
* nlm/configure: Regenerated.
@
text
@d40 1
d268 1
@


1.107.4.1
log
@2003-08-01  Andrew Cagney  <cagney@@redhat.com>

	Import mainline multi-arch changes from Kei Sakamoto.
	* gdb/NEWS: Mention that m32r is multi-arch.
	* configure.tgt: Recognize m32r-*-*.
	* config/m32r/m32r.mt: New file.
	* m32r-rom.c, m32r-stub.c, m32r-tdep.c: Import
@
text
@d116 1
a116 1
m32r-*-*)		gdb_target=m32r ;;
a266 1
m32r)		gdb_multi_arch=yes ;;
@


1.107.4.2
log
@* configure.host: Add x86_64-*-freebsd*.
* configure.tgt: Add x86_64-*-freebsd*.
* Makefile.in (amd64fbsd-nat.o, amd64fbsd-tdep.o): New targets.
* x86-64-tdep.h (amd64fbsd_sigtramp_start, amd64fbsd_sigtramp_end,
amd64fbsd_sc_reg_offset): Add extern declarations.
(X86_64_RAX_REGNUM, X86_64_RDX_REGNUM, X86_64_RDI_REGNUM,
X86_64_RBP_REGNUM, X86_64_RSP_REGNUM, X86_64_RIP_REGNUM,
X86_64_EFLAGS_REGNUM, X86_64_ST0_REGNUM, X86_64_XMM0_REGNUM,
X86_64_XMM1_REGNUM): Moved here ...
* x86-64-tdep.c: ... from here.
* amd64fbsd-nat.c: New file.
* amd64fbsd-tdep.c: New file.
* config/i386/nm-fbsd64.h: New file.
* config/i386/fbsd64.mh: New file.
* config/i386/fbsd64.mt: New file.
@
text
@a39 1
x86_64-*-freebsd*)	gdb_target=fbsd64 ;;
a267 1
fbsd64)		gdb_multi_arch=yes ;;
@


1.107.4.3
log
@2003-08-25  Chris Demetriou  <cgd@@broadcom.com>

        * configure.tgt: Document need for special "mipsisa64" handling.
        (mipsisa64*-*-linux64): Handle as target linux64.
        (mipsisa64*-*-*): Handle as target embed64.
@
text
@a145 6

# "mipsisa64" targets are 64-bit MIPS, MIPS64 ISA.  They need these
# special cases because otherwise they (obviously) are not matched by
# the "mips64" target cases, and would therefore be treated as 32-bit.
mipsisa64*-*-linux*)	gdb_target=linux64 ;;
mipsisa64*-*-*)		gdb_target=embed64 ;;
@


1.106
log
@* configure.host, configure.tgt: Add entries for
powerpc64-*-linux, selecting powerpc/ppc64-linux.mh and
powerpc/linux.mt.
* config/powerpc/ppc64-linux.mh, config/powerpc/nm-ppc64-linux.mh:
New files.
@
text
@d19 1
a19 1
i[3456]86*)		gdb_target_cpu=i386 ;;
d88 12
a99 12
i[3456]86-ncr-*)	gdb_target=ncr3000 ;;
i[3456]86-*-bsd*)	gdb_target=i386bsd ;;
i[3456]86-*-netbsd*)	gdb_target=nbsd ;;
i[3456]86-*-openbsd*)	gdb_target=obsd ;;
i[3456]86-*-go32*)	gdb_target=i386aout ;;
i[3456]86-*-msdosdjgpp*) gdb_target=go32 ;;
i[3456]86-*-nto*)	gdb_target=nto ;;
i[3456]86-*-lynxos*)	gdb_target=i386lynx ;;
i[3456]86-*-solaris*)	gdb_target=i386sol2 ;;
i[3456]86-*-sco*)	gdb_target=i386v ;;
i[3456]86-*-sysv*)	gdb_target=i386v ;;
i[3456]86-*-linux*)	gdb_target=linux
d102 3
a104 3
i[3456]86-*-isc*)	gdb_target=i386v ;;
i[3456]86-*-gnu*)	gdb_target=i386gnu ;;
i[3456]86-*-netware*)	gdb_target=i386nw
d106 3
a108 3
i[3456]86-*-cygwin*)	gdb_target=cygwin  ;;
i[3456]86-*-vxworks*)	gdb_target=vxworks ;;
i[3456]86-*-*)		gdb_target=embed ;;
@


1.105
log
@2003-06-01  Andrew Cagney  <cagney@@redhat.com>

	* configure.tgt: Replace mips64*vr4xxx*el-*-elf*,
	mips64*vr4xxx*-*-elf*, mips64*vr4300*el-*-elf*,
	mips64*vr4300*-*-elf*, mips64*vr4100*el-*-elf*,
	mips64*vr4100*-*-elf*, mips64*vr5000*el-*-elf*, and
	mips64*vr5000*-*-elf* with mips64 mips64*vr*-*-elf*.  Delete
	mips*tx39*el*-elf*.  Map mips*-sony-* and mips64*-big-* onto
	mips64.  Map mips*-dec-*, mips*-big-*, mips*-little-*,
	mips*-*-riscos* and mips*-*-sysv* onto mips.
	* config/mips/mips64.mt: New file.
	* config/mips/mips.mt: New file.
	* config/mips/littlemips.mt: Delete file.
	* config/mips/decstation.mt: Delete file.
	* config/mips/vr4300el.mt: Delete file.
	* config/mips/vr5000el.mt: Delete file.
	* config/mips/vr5000.mt: Delete file.
	* config/mips/vr4100.mt: Delete file.
	* config/mips/vr4xxxel.mt: Delete file.
	* config/mips/vr4300.mt: Delete file.
	* config/mips/vr4xxx.mt: Delete file.
	* config/mips/bigmips.mt: Delete file.
	* config/mips/bigmips64.mt: Delete file.
	* config/mips/tx39l.mt (TM_FILE): Set to "tm-tx39.h".
	* config/mips/embedl64.mt (TM_FILE): Set to "tm-mips64.h".
	* config/mips/embed64.mt (TM_FILE): Set to "tm-mips64.h"
	* config/mips/embedl.mt (TM_FILE): Set to "tm-mips.h".
	* config/mips/tm-tx39.h: Include "tm-mips.h" instead of
	"tm-bigmips.h".
	* config/mips/tm-irix3.h: Ditto.
	* config/mips/tm-mipsv4.h: Ditto.
	* config/mips/tm-embed.h: Ditto.
	* config/mips/tm-irix6.h: Include "tm-mips64.h" instead of
	"tm-bigmips64.h".
	* config/mips/tm-vr5000el.h: Delete file.
	* config/mips/tm-tx39l.h: Delete file.
	* config/mips/tm-vr4300el.h: Delete file.
	* config/mips/tm-vr4xxxel.h: Delete file.
	* config/mips/tm-vr4300.h: Delete file.
	* config/mips/tm-vr4100.h: Delete file.
	* config/mips/tm-vr4xxx.h: Delete file.
	* config/mips/tm-vr5000.h: Delete file.
	* config/mips/tm-embedl64.h: Delete file.
	* config/mips/tm-embedl.h: Delete file.
	* config/mips/tm-embed64.h: Delete file.
	* config/mips/tm-bigmips64.h: Delete file.
	* config/mips/tm-bigmips.h: Delete file.
@
text
@d189 1
@


1.104
log
@	* m68k-tdep.c (m68k_register_raw_size): Remove cast.
	(m68k_register_virtual_size): Likewise.
	(altos_skip_prologue): Remove obsolete function.
	(isi_frame_num_args): Likewise.
	(news_frame_num_args): Likewise.
	(m68k_fix_call_dummy): Make static.
	(m68k_push_dummy_frame): Likewise.
	(m68k_pop_frame): Likewise.
	(m68k_skip_prologue): Likewise.
	(m68k_frame_init_saved_regs): Likewise.
	(m68k_saved_pc_after_call): Likewise.
	(m68k_get_longjmp_target): Make multi-arch.
	(m68k_gdbarch_init): Allocate and initialize gdbarch_tdep
	structure.  Register m68k_get_longjmp_target if enabled.
	* m68k-tdep.h (struct gdbarch_tdep): Define.
	* config/m68k/tm-m68k.h: Don't include "regcache.h".

	* Makefile.in (config.status): Also depend on configure.tgt
	and configure.host.
	(m68klinux-tdep.o): Update dependencies.
	* configure.tgt (m68*-*-linux*): Set gdb_multi_arch to 1.
	* m68klinux-tdep.c (M68K_LINUX_JB_ELEMENT_SIZE): Define.
	(M68K_LINUX_JB_PC): Define.
	(m68k_linux_pc_in_sigtramp): Renamed from m68k_linux_in_sigtramp
	and take additional parameter.
	(m68k_linux_sigtramp_saved_pc): Update.
	(m68k_linux_init_abi): Set jb_pc and jb_elt_size.  Register
	m68k_linux_pc_in_sigtramp, in_plt_section,
	find_solib_trampoline_target.
	* config/m68k/tm-linux.h: Don't include any tm headers.
	(START_INFERIOR_TRAPS_EXPECTED): Remove definition.
	(JB_ELEMENT_SIZE): Likewise.
	(JB_PC): Likewise.
	(GET_LONGJMP_TARGET): Likewise.
	(IN_SIGTRAMP): Likewise.
	(SVR4_SHARED_LIBS): Define this and include "solib.h".
@
text
@d145 3
a147 3
mips64*-big-*)		gdb_target=bigmips64 ;;
mips*-big-*)		gdb_target=bigmips ;;
mips*-dec-*)		gdb_target=decstation ;;
d151 1
a151 9
mips64*vr4xxx*el-*-elf*)gdb_target=vr4xxxel ;;
mips64*vr4xxx*-*-elf*)	gdb_target=vr4xxx ;;
mips64*vr4300*el-*-elf*)	gdb_target=vr4300el ;;
mips64*vr4300*-*-elf*)	gdb_target=vr4300 ;;
mips64*vr4100*el-*-elf*)	gdb_target=vr4300el ;;
mips64*vr4100*-*-elf*)	gdb_target=vr4100 ;;
mips64*vr5000*el-*-elf*)	gdb_target=vr5000el ;;
mips64*vr5000*-*-elf*)	gdb_target=vr5000 ;;
mips*tx39*el*-elf*)	gdb_target=tx39l ;;
d160 1
a160 1
mips*-little-*)		gdb_target=littlemips ;;
d165 1
a165 1
mips*-sony-*)		gdb_target=bigmips ;;
d172 2
a173 2
mips*-*-sysv*)		gdb_target=bigmips ;;
mips*-*-riscos*)	gdb_target=bigmips ;;
@


1.104.2.1
log
@* configure.host, configure.tgt: Add entries for
powerpc64-*-linux, selecting powerpc/ppc64-linux.mh and
powerpc/linux.mt.
* config/powerpc/ppc64-linux.mh, config/powerpc/nm-ppc64-linux.mh:
New files.

* ppc-linux-nat.c (ppc_register_u_addr, fill_gregset): If PT_MQ
isn't #defined, assume the register doesn't exist: act as if
tdep->ppc_mq_regnum were -1.
@
text
@a196 1
powerpc64-*-linux*)	gdb_target=linux ;;
@


1.104.2.2
log
@gdb/ChangeLog:
2003-05-29  Jim Blandy  <jimb@@redhat.com>

	Support gdbserver on 64-bit PowerPC Linux.
	* configure.tgt (powerpc64-*-linux*): Build gdbserver, please.
	* regformats/reg-ppc64.dat: New file.

gdb/gdbserver/ChangeLog:
2003-05-29  Jim Blandy  <jimb@@redhat.com>

	Add support for Linux on the 64-bit PowerPC.
	* linux-ppc64-low.c: New file.
	* configure.srv (powerpc64-*-linux*): New case.
	(powerpc*-*-linux*): Adjust case pattern not to match
	powerpc64-*-linux*.
	* Makefile.in (linux-ppc64-low.o, reg-ppc64.o, reg-ppc64.c): New
	rules.
	(clean): Delete reg-ppc64.c, too.
@
text
@d197 1
a197 3
powerpc64-*-linux*)	gdb_target=linux
			build_gdbserver=yes
			;;
@


1.104.2.3
log
@Revert previous patch for revision.
@
text
@d197 3
a199 1
powerpc64-*-linux*)	gdb_target=linux ;;
@


1.104.2.4
log
@gdb/ChangeLog:
2003-05-29  Jim Blandy  <jimb@@redhat.com>

	Support gdbserver on 64-bit PowerPC Linux.
	* configure.tgt (powerpc64-*-linux*): Build gdbserver, please.
	* regformats/reg-ppc64.dat: New file.

gdb/gdbserver/ChangeLog:
2003-05-29  Jim Blandy  <jimb@@redhat.com>

	Add support for Linux on the 64-bit PowerPC.
	* linux-ppc64-low.c: New file.
	* configure.srv (powerpc64-*-linux*): New case.
	(powerpc*-*-linux*): Adjust case pattern not to match
	powerpc64-*-linux*.
	* Makefile.in (linux-ppc64-low.o, reg-ppc64.o, reg-ppc64.c): New
	rules.
	(clean): Delete reg-ppc64.c, too.
@
text
@d197 1
a197 3
powerpc64-*-linux*)	gdb_target=linux
			build_gdbserver=yes
			;;
@


1.103
log
@Added i386 QNX Neutrino support.
@
text
@d133 1
@


1.103.2.1
log
@Patch from Will Schmidt <willschm@@us.ibm.com>:

These changes enable support of PPC64 architecture.
* config/powerpc/ppc64linux.mh: New file.
* config/powerpc/ppc64linux.mt: New file.
* config/powerpc/tm-ppc64linux.h: New file.
* ppc64-linux-tdep.c: New file.
* configure.host: Add clause for powerpc64-*-linux*
* configure.tgt: Add clause for powerpc64-*-linux*
* elfread.c (record_minimal_symbol_and_info): If
DROP_TEXT_NAME_PREFIX_CHAR is #defined, then drop a leading
instance of that char from the names of text symbols.
(elf_symtab_read): If SKIP_DATA_IN_OPD is #defined, ignore data
symbols in the .opd section.
* ppc-linux-nat.c (PTRACE_XFER_TYPE): Change the default for this
to 'long'.
(PPC_PTRACE_POKEUSR_3264, PPC_PTRACE_PEEKUSR_3264,
PPC_PTRACE_POKEDATA_3264, PPC_PTRACE_PEEKDATA_3264): Provide
default definitions for these.
(ARCH64): New macro.
(ppc_wordsize_pid): New function.
(kernel_u_size): Handle 64-bit case.
(ppc_register_u_addr): Same.
(fetch_register): Use the *_3264 requests when
debugging a 64-bit process from a 32-bit GDB.
(store_register): Same.
(GDB_MAX_ALLOCA, child_xfer_memory, udot_info): Copied from
infptrace.c.
(_initialize_ppc_linux_nat): New function, to register our copy of
the udot_info command.
* ppc-linux-tdep.c (TDEP): New macro.
(ppc64_linux_svr4_fetch_link_map_offsets): New function.
(read_memory_addr): Copied from rs6000-tdep.c.
(ppc64_linux_convert_from_func_ptr_addr): New function.
* rs6000-tdep.c (skip_prologue): Recognize more instructions for
saving the 'lr' and 'cr' registers; don't just pre-emptively mask
in the 'st' opcode as soon as we see an 'mflr' or 'mfcr' opcode.
Recognize more instructions for updating the stack pointer, and
loading the TOC pointer.
(registers_powerpc64, registers_a35): New register tables.
(rs6000_gdbarch_init): Register the 64-bit solib functions.
* solib-svr4.c (solib_break_names): If SOLIB_BREAK_NAME is
#defined, include an entry for it.
(enable_break): Call CONVERT_FROM_FUNC_PTR_ADDR when trying to
guess the linker's base address.
* config/powerpc/tm-linux.h
(ppc64_linux_svr4_fetch_link_map_offsets,
ppc64_linux_convert_from_func_ptr_addr): New declarations.
@
text
@a195 9
powerpc64-*-linux*)	gdb_target=ppc64linux
			###HACK -JX
			case "${host}" in
			powerpc-*-linux*)
			  ## This host can treat target as native
			  nativefile=nm-linux.h
			  ;;
			esac
			;;
@


1.102
log
@2003-04-16  Andrew Cagney  <cagney@@redhat.com>

	* NEWS: Mention that sparclet-*-* and sparclite-*-* have been made
	obsolete.
	* sparc-tdep.c: Obsolete SPARCLET and SPARCLITE code.
	* sparcl-stub.c: Obsolete file.
	* config/sparc/tm-sparclet.h: Obsolete file.
	* sparclet-stub.c: Obsolete file.
	* sparclet-rom.c: Obsolete file.
	* sparcl-tdep.c: Obsolete file.
	* config/sparc/tm-sparclite.h: Obsolete file.
	* config/sparc/sparclite.mt: Obsolete file.
	* config/sparc/sparclet.mt: Obsolete file.
	* configure.tgt: Make sparclet-*-*, sparclite-*-*, and
	sparc86x-*-* obsolete.
@
text
@d54 1
d94 1
d221 1
d286 1
@


1.102.2.1
log
@2003-05-18  Mark Kettenis  <kettenis@@gnu.org>

	Merge from mainline.
	* i386-tdep.h (I386_SIZEOF_GREGS, I386_SIZEOF_FREGS,
	I386_SIZEOF_XREGS): Remove defenitions.
	(IS_FP_REGNUM, IS_SSE_REGNUM): Remove definitions.
	* i386-tdep.c (i386_gdbarch_init): Don't set register_bytes,
	register_size, call_dummy_words and sizeof_call_dummy.
	* i386-linux-tdep.c (i386_linux_init_abi): Don't set register_bytes.
	* x86-64-tdep.c (x86_64_init_abi): Don't set register_bytes and
	register_size.
	(x86_64_register_bytes): Remove variable.
	(_initialize_x86_64_tdep): Remove function.

	* i386-linux-tdep.c (i386_linux_sigcontext_addr): Call read_memory
	with correct arguments.
	* config/i386/x86-64linux.mt (TDEPFILES): Add i386-linux-tdep.o.
@
text
@a53 1
arm-*-nto*)		gdb_target=nto ;;
a92 1
i[3456]86-*-nto*)	gdb_target=nto ;;
a218 1
sh-*-nto*)		gdb_target=nto ;;
a282 1
*-*-nto*)	gdb_osabi=GDB_OSABI_QNXNTO ;;
@


1.101
log
@2003-04-09  Andrew Cagney  <cagney@@redhat.com>

	* NEWS: Mention that the "Sequent family" is obsolete.
	* configure.tgt: Obsolete i[3456]86-sequent-bsd*,
	i[3456]86-sequent-sysv4*, and i[3456]86-sequent-sysv*.
	* configure.host: Obsolete i[3456]86-sequent-bsd*,
	i[3456]86-sequent-sysv4*, and i[3456]86-sequent-sysv*.
	* config/i386/tm-ptx4.h: Obsolete file.
	* config/i386/tm-ptx.h: Obsolete file.
	* symm-tdep.c: Obsolete file.
	* config/i386/symmetry.mt: Obsolete file.
	* config/i386/tm-symmetry.h: Obsolete file.
	* symm-nat.c: Obsolete file.
	* config/i386/nm-symmetry.h: Obsolete file.
	* config/i386/xm-symmetry.h: Obsolete file.
	* config/i386/symmetry.mh: Obsolete file.
	* config/i386/nm-ptx4.h: Obsolete file.
	* config/i386/ptx4.mh: Obsolete file.
	* config/i386/ptx.mt: Obsolete file.
	* config/i386/ptx.mh: Obsolete file.
	* config/i386/xm-ptx4.h: Obsolete file.
	* config/i386/xm-ptx.h: Obsolete file.
@
text
@d232 3
a234 3
sparclet-*-*)		gdb_target=sparclet;;
sparclite-*-*)		gdb_target=sparclite ;;
sparc86x-*-*)		gdb_target=sparclite ;;
@


1.100
log
@2003-04-09  Andrew Cagney  <cagney@@redhat.com>

	Obsolete mips*-*-mach3*.
	* NEWS: Mention that mips*-*-mach3* is obsolete.
	* m3-nat.c: Obsolete file.
	* config/nm-m3.h: Obsolete file.
	* config/mips/tm-mipsm3.h: Obsolete file.
	* config/mips/mipsm3.mt: Obsolete file.
	* config/mips/mipsm3.mh: Obsolete file.
	* config/mips/xm-mipsm3.h: Obsolete file.
	* mipsm3-nat.c: Obsolete file.
	* configure.host: Obsolete mips-dec-mach3*.
	* configure.tgt: Obsolete mips*-*-mach3*.
@
text
@d84 3
a86 3
i[3456]86-sequent-bsd*)	gdb_target=symmetry ;;
i[3456]86-sequent-sysv4*) gdb_target=ptx4 ;;
i[3456]86-sequent-sysv*) gdb_target=ptx ;;
@


1.99
log
@2003-03-27  Andrew Cagney  <cagney@@redhat.com>

	* NEWS: Mention removal of support for hppa*-*-bsd* and
	hppa*-*-osf* natives, and hppa*-*-pro* target.
	* config/pa/xm-hppah.h: Do not include "pa/xm-pa.h".
	* config/pa/xm-pa.h: Obsolete file.
	* config/pa/xm-hppab.h: Obsolete file.
	* config/pa/nm-hppab.h: Obsolete file.
	* config/pa/tm-hppab.h: Obsolete file.
	* config/pa/tm-hppao.h: Obsolete file.
	* config/pa/nm-hppao.h: Obsolete file.
	* config/pa/tm-pro.h: Obsolete file.
	* config/pa/hppaosf.mt: Obsolete file.
	* config/pa/hppaosf.mh: Obsolete file.
	* config/pa/hppapro.mt: Obsolete file.
	* config/pa/hppabsd.mt: Obsolete file.
	* config/pa/hppabsd.mh: Obsolete file.
	* configure.host: Disable hppa*-*-bsd* and hppa*-*-osf*.
	* configure.tgt: Disable hppa*-*-bsd*, hppa*-*-pro* and
	hppa*-*-osf*.
@
text
@d175 1
a175 1
mips*-*-mach3*)		gdb_target=mipsm3 ;;
@


1.99.2.1
log
@Merge with mainline.
@
text
@d84 3
a86 3
# OBSOLETE i[3456]86-sequent-bsd*)	gdb_target=symmetry ;;
# OBSOLETE i[3456]86-sequent-sysv4*) gdb_target=ptx4 ;;
# OBSOLETE i[3456]86-sequent-sysv*) gdb_target=ptx ;;
d175 1
a175 1
# OBSOLETE mips*-*-mach3*)		gdb_target=mipsm3 ;;
@


1.98
log
@* configure.tgt (i[3456]86-*-sysv4.2*, i[3456]86-*-sysv4*,
i[3456]86-*-sysv5*, i[3456]86-*-sco3.2v5*): Remove.  These are all
handled fine by i[3456]86-*sco* and i[3456]86-sysv*.
* config/i386/i386sco5.mt, config/i386/i386v4.mt,
config/i386/i386v42mp.mt: Removed.
@
text
@d76 2
a77 2
hppa*-*-bsd*)		gdb_target=hppabsd ;;
hppa*-*-pro*)		gdb_target=hppapro ;;
d81 1
a81 1
hppa*-*-osf*)		gdb_target=hppaosf ;;
@


1.98.10.1
log
@Merge with mainline.
@
text
@d76 2
a77 2
# OBSOLETE hppa*-*-bsd*)		gdb_target=hppabsd ;;
# OBSOLETE hppa*-*-pro*)		gdb_target=hppapro ;;
d81 1
a81 1
# OBSOLETE hppa*-*-osf*)		gdb_target=hppaosf ;;
@


1.97
log
@* configure.tgt (*-*-solaris*): Set gdb_osabi to
GDB_OSABI_SOLARIS.
@
text
@a94 4
i[3456]86-*-sysv4.2*)	gdb_target=i386v42mp ;;
i[3456]86-*-sysv4*)	gdb_target=i386v4 ;;
i[3456]86-*-sysv5*)	gdb_target=i386v42mp ;;
i[3456]86-*-sco3.2v5*)	gdb_target=i386sco5 ;;
@


1.96
log
@2003-02-05  Andrew Cagney  <ac131313@@redhat.com>

	Remove orphaned hosts, targets and files.
	* config/i386/gdbserve.mt, config/m68k/nm-apollo68b.h: Delete.
	* config/m68k/nm-hp300bsd.h, config/m68k/tm-apollo68b.h: Delete.
	* config/m68k/tm-es1800.h, config/m68k/tm-hp300bsd.h: Delete.
	* config/m68k/tm-mac.h, config/m68k/xm-apollo68b.h: Delete.
	* config/pa/hpux1020.mt, config/pa/hpux11.mt: Delete.
	* config/pa/hpux11w.mt, config/powerpc/gdbserve.mt: Delete.
	* config/powerpc/ppcle-eabi.mt, config/powerpc/ppcle-sim.mt: Delete.
	* config/powerpc/tm-ppc-sim.h, config/sparc/sp64sim.mt: Delete.
	* config/sparc/tm-sp64sim.h: Delete.
	* configure.host: Delete strongarm-*-*, xscale-*-*, and arm*-*-*
	hosts.
	* configure.tgt: Delete i[3456]86-*-sco3.2v4*, and
	mips*-dec-mach3* targets.
@
text
@d287 1
@


1.95
log
@2003-02-04  Andrew Cagney  <ac131313@@redhat.com>

	* NEWS: Note that the m32r-*-elf* is obsolete.
	* monitor.c (monitor_expect): Obsolete reference to m32r.
	* configure.tgt: Mark m32r-*-elf* as obsolete.
	* MAINTAINERS: Mark m32k as obsolete.
	* m32r-rom.c: Obsolete file.
	* config/m32r/m32r.mt: Obsolete file.
	* config/m32r/tm-m32r.h: Obsolete file.
	* m32r-stub.c: Obsolete file.
	* m32r-tdep.c: Obsolete file.
@
text
@a97 1
i[3456]86-*-sco3.2v4*)	gdb_target=i386sco4 ;;
a147 1
mips*-dec-mach3*)	gdb_target=mach3 ;;
@


1.94
log
@2003-02-04  Andrew Cagney  <ac131313@@redhat.com>

	* NEWS: Mention that the z8k-zilog-none is obsolete.
	* MAINTAINERS: Mark z8k as obsolete.
	* configure.tgt: Obsolete the z8k-*-coff* target.
	* config/z8k/z8k.mt: Obsolete file.
	* config/z8k/tm-z8k.h: Obsolete file.
	* z8k-tdep.c: Obsolete file.
@
text
@d119 1
a119 1
m32r-*-elf*)		gdb_target=m32r ;;
@


1.93
log
@2003-02-04  Andrew Cagney  <ac131313@@redhat.com>

	* NEWS: Mention that the mn10200-elf is obsolete.
	* configure.tgt: Obsolete mn10200-*-* target.
	* breakpoint.c (update_breakpoints_after_exec): Update comment to
	mention that the mn10200 is obsolete.
	* breakpoint.h: Ditto.
	* MAINTAINERS: Mark the mn10200-elf as obsolete.
	* config/mn10200/mn10200.mt: Obsolete file.
	* config/mn10200/tm-mn10200.h: Obsolete file.
	* mn10200-tdep.c: Obsolete file.

Index: testsuite/ChangeLog
2003-02-04  Andrew Cagney  <ac131313@@redhat.com>

	* gdb.disasm/mn10200.exp: Obsolete file.
	* gdb.trace/Makefile.in (clean mostlyclean): Remove mn10200.
	* gdb.disasm/Makefile.in (clean mostlyclean): Remove mn10200.
	* gdb.base/watchpoint.exp: Mark the mn10200 xfails as obsolete.
@
text
@d267 1
a267 1
z8k-*-coff*)		gdb_target=z8k ;;
@


1.92
log
@2003-02-04  Andrew Cagney  <ac131313@@redhat.com>

	* MAINTAINERS: Mark h8500 as obsolete.
	* configure.tgt (h8500-*-*): Mark h8500 code as obsolete.
	* findvar.c (value_from_register): Ditto.
	* h8500-tdep.c: Mark file as obsolete.
	* config/h8500/h8500.mt: Ditto.
	* config/h8500/tm-h8500.h: Ditto.
	* NEWS: Mention that h8500 is obsolete.
@
text
@d188 1
a188 1
mn10200-*-*)		gdb_target=mn10200 ;;
@


1.91
log
@2003-01-31  Andrew Cagney  <ac131313@@redhat.com>

	* README: Remove reference to Ericsson 1800 monitor.
	* Makefile.in (remote-es.o): Delete rule.
	(ALLDEPFILES): Delete remote-es.c.
	* remote-es.c: Delete file.
	* config/m68k/es1800.mt: Delete file.
	* config/djgpp/fnchange.lst: Update.
	* configure.tgt: Delete m68*-ericsson-* target.
@
text
@d71 1
a71 1
h8500-*-*)		gdb_target=h8500 ;;
@


1.90
log
@	* Makefile.in (acconfig_h): Remove incorrect macro.
	(config_h): Define.
	(osabi.o): Update dependencies.
	* configure.tgt: Set gdb_osabi based on target triplet.
	* configure.in: Define GDB_OSABI_DEFAULT based on gdb_osabi.
	* configure: Regenerated.
	* config.in: Regenerated.
	* osabi.c: Include "arch-utils.h", "gdbcmd.h", and "command.h".
	(GDB_OSABI_DEFAULT): Define if not already defined.
	(user_osabi_state, user_selected_osabi, gdb_osabi_available_names)
	(set_osabi_string): New variables.
	(gdbarch_register_osabi): Add new OS ABI to
	gdb_osabi_available_names.
	(gdbarch_lookup_osabi): Honor specified and default OS ABIs.
	(set_osabi, show_osabi): New functions.
	(_initialize_gdb_osabi): Add "set osabi" and "show osabi" commands.
@
text
@a128 1
m68*-ericsson-*)	gdb_target=es1800 ;;
@


1.89
log
@2003-01-02  Andrew Cagney  <ac131313@@redhat.com>

	* valarith.c (value_binop): Delete obsolete code and comments.
	* configure.host: Ditto.
	* buildsym.h (make_blockvector): Ditto.
	* buildsym.c (make_blockvector): Ditto.
	* defs.h (enum language): Ditto.
	(chill_demangle): Ditto.
	* elfread.c (elf_symtab_read): Ditto.
	* dwarfread.c (CHILL_PRODUCER): Ditto.
	(set_cu_language): Ditto.
	(handle_producer): Ditto.
	* expprint.c (print_subexp): Ditto.
	* gdbtypes.c (chill_varying_type): Ditto.
	* gdbtypes.h (builtin_type_chill_bool): Ditto.
	(builtin_type_chill_char, builtin_type_chill_long): Ditto.
	(builtin_type_chill_ulong, builtin_type_chill_real): Ditto.
	(chill_varying_type): Ditto.
	* language.h (_LANG_chill): Ditto.
	* language.c (binop_result_type, integral_type): Ditto.
	(character_type, string_type, structured_type): Ditto.
	(lang_bool_type, binop_type_check): Ditto.
	* stabsread.h (os9k_stabs): Ditto.
	* stabsread.c (os9k_type_vector, dbx_lookup_type): Ditto.
	(define_symbol, read_type, read_struct_fields): Ditto.
	(read_array_type, read_enum_type, read_huge_number): Ditto.
	(read_range_type, start_stabs): Ditto.
	* symfile.c (init_filename_language_table): Ditto.
	(add_psymbol_with_dem_name_to_list): Ditto.
	* symtab.c (symbol_init_language_specific): Ditto.
	(symbol_init_demangled_name, symbol_demangled_name): Ditto.
	* symtab.h (struct general_symbol_info): Ditto.
	(SYMBOL_CHILL_DEMANGLED_NAME): Ditto.
	* typeprint.c (typedef_print): Ditto.
	* utils.c (fprintf_symbol_filtered): Ditto.
	* valops.c (value_cast, search_struct_field, value_slice): Delete
	obsolete code.
	(varying_to_slice): Delete function.
	* value.h (COERCE_VARYING_ARRAY): Delete obsolete macro contents.
	(varying_to_slice): Delete declaration.
	* MAINTAINERS: Update.
@
text
@d284 7
@


1.88
log
@Add GNU/Linux specific support for the n32 and n64 MIPS ABIs.
@
text
@a21 1
# OBSOLETE m88*)			gdb_target_cpu=m88k ;;
a47 2
# OBSOLETE arc-*-*)		gdb_target=arc ;;

a68 1
# OBSOLETE d30v-*-*)		gdb_target=d30v ;;
a73 2
# OBSOLETE fr30-*-elf*)		gdb_target=fr30 ;;

a87 1
# OBSOLETE i[3456]86-*-aix*)	gdb_target=i386aix ;;
a90 1
# OBSOLETE i[3456]86-*-os9k)	gdb_target=i386os9k ;;
a105 1
# OBSOLETE i[3456]86-*-mach3*)	gdb_target=i386m3 ;;
a108 1
# OBSOLETE i[3456]86-*-osf1mk*)	gdb_target=i386mk ;;
a112 8
# OBSOLETE i960-*-bout*)		gdb_target=vxworks960 ;;
# OBSOLETE i960-nindy-coff*)	gdb_target=nindy960 ;;
# OBSOLETE i960-*-coff*)		gdb_target=mon960 ;;
# OBSOLETE i960-nindy-elf*)	gdb_target=nindy960 ;;
# OBSOLETE i960-*-elf*)		gdb_target=mon960 ;;
# OBSOLETE i960-*-nindy*)		gdb_target=nindy960 ;;
# OBSOLETE i960-*-vxworks*)	gdb_target=vxworks960 ;;

a125 1
# OBSOLETE m68*-apollo*-bsd*)	gdb_target=apollo68b ;;
a126 2
# OBSOLETE m68*-hp-bsd*)		gdb_target=hp300bsd ;;
# OBSOLETE m68*-hp-hpux*)		gdb_target=hp300hpux ;;
a146 4
# OBSOLETE m88*-motorola-sysv4*)	gdb_target=delta88v4 ;;
# OBSOLETE m88*-motorola-*)	gdb_target=delta88 ;;
# OBSOLETE m88*-*-*)		gdb_target=m88k ;;

a254 3

# OBSOLETE fr30-*-*)		gdb_target=fr30
# OBSOLETE 			;;
@


1.87
log
@* configure.tgt (i[3456]86-*-openbsd*): Set gdb_target to obds.
* config/i386/obsd.mt: New file.
* i386bsd-nat.c (_initialize_i386bsd_nat): Introduce
i386obsd_sc_pc_offset and i386obsd_sc_sp_offset;
* i386obsd-nat.c (_initialize_i386obsd_nat): Set
i386obsd_sigtramp_start and i386obsd_sigtramp_end instead of
i386nbsd_sigtramp_start and i386nbsd_sigtramp_end.
* i386obsd-tdep.c: New file.
@
text
@d192 1
@


1.86
log
@2002-10-19  David O'Brien  <obrien@@FreeBSD.org>
	* configure.tgt (alpha*-*-freebsd*, i[3456]86-*-freebsd*,
	sparc64-*-freebsd*): Combine to make *-*-freebsd* with gdb_target set
	to fbsd.  Removes need for additional freebsd tupples.
@
text
@d97 1
a97 1
i[3456]86-*-openbsd*)	gdb_target=nbsd ;;	# FIXME: needs its own target
@


1.85
log
@* configure.tgt (i[3456]86-*-netbsdelf*): Merge with...
(i[3456]86-*-netbsd*): ...this.  Set gdb_target to nbsd.
(i[3456]86-*-openbsd*): Make this a separate entry.  Add a
comment noting that this needs its own target configuration.
* config/i386/nbsd.mt: New file.
* config/i386/nbsdaout.mt: Remove.
* config/i386/nbsdelf.mt: Ditto.
* config/i386/tm-nbsdaout.h: Ditto.
@
text
@d41 3
a45 1
alpha*-*-freebsd*)	gdb_target=fbsd ;;
a95 1
i[3456]86-*-freebsd*)	gdb_target=fbsd ;;
a271 2
sparc64-*-freebsd*|ultrasparc-*-freebsd*|sparcv9-*-freebsd*)
			gdb_target=fbsd ;;
a293 1

@


1.85.6.1
log
@Merge drow-cplus-merge-20021025 to drow-cplus-branch.
@
text
@a40 3
*-*-freebsd*)		gdb_target=fbsd
			;;

d43 1
d94 1
d96 1
a96 1
i[3456]86-*-openbsd*)	gdb_target=obsd ;;
d271 2
d295 1
@


1.85.6.2
log
@Merge drow-cplus-branch to:
  cvs rtag -D 2003-12-14 00:00:00 UTC drow-cplus-merge-20031214 gdb+dejagnu
@
text
@d19 1
a19 1
i[34567]86*)		gdb_target_cpu=i386 ;;
d22 1
a40 1
x86_64-*-freebsd*)	gdb_target=fbsd64 ;;
d49 2
d55 2
a56 2
arm*-*-netbsd*)		gdb_target=nbsd ;;
arm-*-nto*)		gdb_target=nto ;;
d65 3
a67 1
avr-*-*)		gdb_target=avr ;;
d72 1
d75 2
d78 1
d82 2
d87 1
d90 27
a116 17
i[34567]86-ncr-*)	gdb_target=ncr3000 ;;
i[34567]86-*-bsd*)	gdb_target=i386bsd ;;
i[34567]86-*-netbsd*)	gdb_target=nbsd ;;
i[34567]86-*-openbsd*)	gdb_target=obsd ;;
i[34567]86-*-go32*)	gdb_target=i386aout ;;
i[34567]86-*-msdosdjgpp*) gdb_target=go32 ;;
i[34567]86-*-nto*)	gdb_target=nto ;;
i[34567]86-*-lynxos*)	gdb_target=i386lynx ;;
i[34567]86-*-solaris*)	gdb_target=i386sol2 ;;
i[34567]86-*-sco*)	gdb_target=i386v ;;
i[34567]86-*-sysv*)	gdb_target=i386v ;;
i[34567]86-*-linux*)	gdb_target=linux
			build_gdbserver=yes
			;;
i[34567]86-*-isc*)	gdb_target=i386v ;;
i[34567]86-*-gnu*)	gdb_target=i386gnu ;;
i[34567]86-*-netware*)	gdb_target=i386nw
d118 12
a129 3
i[34567]86-*-cygwin*)	gdb_target=cygwin  ;;
i[34567]86-*-vxworks*)	gdb_target=vxworks ;;
i[34567]86-*-*)		gdb_target=embed ;;
d137 1
a137 1
m32r-*-*)		gdb_target=m32r ;;
d141 2
a142 2
# OBSOLETE m68000-*-sunos3*)	gdb_target=sun2os3 ;;
# OBSOLETE m68000-*-sunos4*)	gdb_target=sun2os4 ;;
d144 5
a148 2
# OBSOLETE m68*-bull-sysv*)	gdb_target=dpx2 ;;
# OBSOLETE m68*-att-*)		gdb_target=3b1 ;;
d150 2
a151 1
# OBSOLETE m68*-motorola-*)	gdb_target=delta68 ;;
d160 1
a160 1
# OBSOLETE m68*-*-lynxos*)		gdb_target=m68klynx ;;
d163 3
a165 3
# OBSOLETE m68*-*-sunos3*)		gdb_target=sun3os3 ;;
# OBSOLETE m68*-*-sunos4*)		gdb_target=sun3os4 ;;
# OBSOLETE m68*-*-sysv4*)		gdb_target=m68kv4 ;;
d168 4
d173 4
a176 1

d178 20
d200 2
d206 4
a209 1
# OBSOLETE mips*-*-sysv4*)		gdb_target=mipsv4 ;;
d213 1
a224 1
powerpc64-*-linux*)	gdb_target=linux ;;
a245 1
# FIXME should that be sh*-*-linux*, perhaps?
a249 1
sh-*-nto*)		gdb_target=nto ;;
d263 3
d280 3
d294 2
a295 1
x86_64-*-netbsd*)	gdb_target=nbsd64 ;;
a298 1
# map target onto default OS ABI
d300 10
a309 5
case "${target}" in
*-*-linux*)	gdb_osabi=GDB_OSABI_LINUX ;;
*-*-gnu*)	gdb_osabi=GDB_OSABI_HURD ;;
*-*-nto*)	gdb_osabi=GDB_OSABI_QNXNTO ;;
*-*-solaris*)	gdb_osabi=GDB_OSABI_SOLARIS ;;
@


1.85.6.3
log
@Merge mainline to branch.  GDB is broken until I update cp-names.y.
@
text
@a131 1
m68*-*-uclinux*)	gdb_target=monitor ;;
d188 3
d192 1
a192 1
sparc64-*-linux*)	gdb_target=linux64 ;;
d194 12
d207 1
a207 9
sparc-*-solaris2.[0-6] | sparc-*-solaris2.[0-6].*)
			gdb_target=sol2
			;;
sparc-*-solaris2* | sparcv9-*-solaris2* | sparc64-*-solaris2*)
			gdb_target=sol2-64
			;;
sparc-*-vxworks*)	gdb_target=vxworks ;;
sparc-*-*)		gdb_target=sparc ;;
sparc64-*-*)		gdb_target=sparc64 ;;
@


1.85.6.4
log
@Merge drow-cplus-merge-20040208 to drow-cplus-branch.
@
text
@d41 2
a42 1
*-*-freebsd*)		gdb_target=fbsd	;;
d81 1
a81 2
i[34567]86-*-netbsd* | i[34567]86-*-knetbsd*-gnu)
			gdb_target=nbsd ;;
a192 4
sparc-*-openbsd*)	gdb_target=obsd ;;
sparc64-*-openbsd*)	gdb_target=obsd64
			gdb_osabi=GDB_OSABI_OPENBSD_ELF
			;;
@


1.85.4.1
log
@2002-10-25  David Carlton  <carlton@@math.stanford.edu>

	* symtab.c (lookup_symbol_aux_block): New function.
	(lookup_symbol_aux_local): Call lookup_symbol_aux_block.
	(lookup_symbol_aux): Ditto.

	* Merge from mainline; tag is carlton_dictionary-20021025-merge.

2002-10-25  David Carlton  <carlton@@math.stanford.edu>

	* cp-support.c: Add comment to demangled name pitfalls.
	* symtab.c (lookup_transparent_type): Add FIXME comment at
	beginning.

2002-10-23  David Carlton  <carlton@@math.stanford.edu>

	* symtab.c: Delete cplusplus_hint.
	Delete prototype for find_template_name_end.
	* dwarf2read.c (scan_partial_symbols): Add in a gdb_assert from a
	later version of my namespace_minimal patch.

2002-10-25  David Carlton  <carlton@@math.stanford.edu>

	* gdb.c++/namespace.exp: Change all of the setup_xfail tests that
	I added into setup_kfails.
@
text
@a40 3
*-*-freebsd*)		gdb_target=fbsd
			;;

d43 1
d94 1
d96 1
a96 1
i[3456]86-*-openbsd*)	gdb_target=obsd ;;
d271 2
d295 1
@


1.85.4.2
log
@2003-02-07  David Carlton  <carlton@@math.stanford.edu>

	* Merge with mainline; tag is carlton_dictionary-20030207-merge.
@
text
@d22 1
d49 2
d72 1
d75 2
a76 1
# OBSOLETE h8500-*-*)		gdb_target=h8500 ;;
d78 1
d94 1
d98 1
d103 5
d114 1
d118 1
d123 8
d137 1
a137 1
# OBSOLETE m32r-*-elf*)		gdb_target=m32r ;;
d144 1
d146 2
d150 1
d168 4
d175 1
a191 1
mips64*-*-linux*)	gdb_target=linux64 ;;
d213 1
a213 1
# OBSOLETE mn10200-*-*)		gdb_target=mn10200 ;;
d280 3
d295 1
a295 1
# OBSOLETE z8k-*-coff*)		gdb_target=z8k ;;
a309 8
esac

# map target onto default OS ABI

case "${target}" in
*-*-linux*)	gdb_osabi=GDB_OSABI_LINUX ;;
*-*-gnu*)	gdb_osabi=GDB_OSABI_HURD ;;
*-*-solaris*)	gdb_osabi=GDB_OSABI_SOLARIS ;;
@


1.85.4.3
log
@2003-04-16  David Carlton  <carlton@@bactrian.org>

	* Merge with mainline; tag is carlton_dictionary-20030416-merge.
@
text
@d76 2
a77 2
# OBSOLETE hppa*-*-bsd*)		gdb_target=hppabsd ;;
# OBSOLETE hppa*-*-pro*)		gdb_target=hppapro ;;
d81 1
a81 1
# OBSOLETE hppa*-*-osf*)		gdb_target=hppaosf ;;
d84 3
a86 3
# OBSOLETE i[3456]86-sequent-bsd*)	gdb_target=symmetry ;;
# OBSOLETE i[3456]86-sequent-sysv4*) gdb_target=ptx4 ;;
# OBSOLETE i[3456]86-sequent-sysv*) gdb_target=ptx ;;
d175 1
a175 1
# OBSOLETE mips*-*-mach3*)		gdb_target=mipsm3 ;;
d232 3
a234 3
# OBSOLETE sparclet-*-*)		gdb_target=sparclet;;
# OBSOLETE sparclite-*-*)		gdb_target=sparclite ;;
# OBSOLETE sparc86x-*-*)		gdb_target=sparclite ;;
@


1.85.4.4
log
@2003-05-23  David Carlton  <carlton@@bactrian.org>

	* Merge with mainline; tag is carlton_dictionary-20030523-merge.
@
text
@a53 1
arm-*-nto*)		gdb_target=nto ;;
a92 1
i[3456]86-*-nto*)	gdb_target=nto ;;
a218 1
sh-*-nto*)		gdb_target=nto ;;
a282 1
*-*-nto*)	gdb_osabi=GDB_OSABI_QNXNTO ;;
@


1.85.4.5
log
@2003-06-27  David Carlton  <carlton@@kealia.com>

	* Merge with mainline; tag is carlton_dictionary-20030627-merge.
@
text
@d19 1
a19 1
i[34567]86*)		gdb_target_cpu=i386 ;;
d88 17
a104 17
i[34567]86-ncr-*)	gdb_target=ncr3000 ;;
i[34567]86-*-bsd*)	gdb_target=i386bsd ;;
i[34567]86-*-netbsd*)	gdb_target=nbsd ;;
i[34567]86-*-openbsd*)	gdb_target=obsd ;;
i[34567]86-*-go32*)	gdb_target=i386aout ;;
i[34567]86-*-msdosdjgpp*) gdb_target=go32 ;;
i[34567]86-*-nto*)	gdb_target=nto ;;
i[34567]86-*-lynxos*)	gdb_target=i386lynx ;;
i[34567]86-*-solaris*)	gdb_target=i386sol2 ;;
i[34567]86-*-sco*)	gdb_target=i386v ;;
i[34567]86-*-sysv*)	gdb_target=i386v ;;
i[34567]86-*-linux*)	gdb_target=linux
			build_gdbserver=yes
			;;
i[34567]86-*-isc*)	gdb_target=i386v ;;
i[34567]86-*-gnu*)	gdb_target=i386gnu ;;
i[34567]86-*-netware*)	gdb_target=i386nw
d106 3
a108 3
i[34567]86-*-cygwin*)	gdb_target=cygwin  ;;
i[34567]86-*-vxworks*)	gdb_target=vxworks ;;
i[34567]86-*-*)		gdb_target=embed ;;
a132 1
			gdb_multi_arch=1
d144 3
a146 3
mips64*-big-*)		gdb_target=mips64 ;;
mips*-big-*)		gdb_target=mips ;;
mips*-dec-*)		gdb_target=mips ;;
d150 9
a158 1
mips64*vr*-*-elf*)	gdb_target=mips64 ;;
d167 1
a167 1
mips*-little-*)		gdb_target=mips ;;
d172 1
a172 1
mips*-sony-*)		gdb_target=mips64 ;;
d179 2
a180 2
mips*-*-sysv*)		gdb_target=mips ;;
mips*-*-riscos*)	gdb_target=mips ;;
a195 1
powerpc64-*-linux*)	gdb_target=linux ;;
@


1.85.4.6
log
@2003-08-05  David Carlton  <carlton@@kealia.com>

	* configure.in (build_warnings): Delete -Wformat-nonliteral.
	* configure (build_warnings): Ditto.

	* Merge with mainline; tag is carlton_dictionary-20030805-merge.
@
text
@a39 1
x86_64-*-freebsd*)	gdb_target=fbsd64 ;;
d116 1
a116 1
m32r-*-*)		gdb_target=m32r ;;
a266 2
fbsd64)		gdb_multi_arch=yes ;;
m32r)		gdb_multi_arch=yes ;;
@


1.85.4.7
log
@2003-09-17  David Carlton  <carlton@@kealia.com>

	* Merge with mainline; tag is carlton_dictionary-20030917-merge.
@
text
@d53 2
a54 1
arm*-*-netbsd*)		gdb_target=nbsd ;;
d64 3
a66 1
avr-*-*)		gdb_target=avr ;;
d134 1
d146 3
a148 6

# "mipsisa64" targets are 64-bit MIPS, MIPS64 ISA.  They need these
# special cases because otherwise they (obviously) are not matched by
# the "mips64" target cases, and would therefore be treated as 32-bit.
mipsisa64*-*-linux*)	gdb_target=linux64 ;;
mipsisa64*-*-*)		gdb_target=embed64 ;;
d150 3
d154 2
d157 6
d165 2
d173 2
a175 1
mips64*-*-*)		gdb_target=embed64 ;;
a211 1
# FIXME should that be sh*-*-linux*, perhaps?
d261 15
@


1.85.4.8
log
@2003-11-11  David Carlton  <carlton@@kealia.com>

	* Merge with mainline; tag is carlton-dictionary-20031111-merge.
@
text
@d70 1
d75 2
d80 1
d83 3
d157 1
d163 1
d216 3
d244 2
a245 1
x86_64-*-netbsd*)	gdb_target=nbsd64 ;;
@


1.85.4.9
log
@2003-12-15  David Carlton  <carlton@@kealia.com>

	* Merge with mainline; tag is carlton_dictionary-20031215-merge.
	* cp-support.c (class_name_from_physname): Add DMGL_PARAMS to call
	to cplus_demangle.
	(method_name_from_physname): Ditto.
@
text
@d111 2
a112 2
# OBSOLETE m68000-*-sunos3*)	gdb_target=sun2os3 ;;
# OBSOLETE m68000-*-sunos4*)	gdb_target=sun2os4 ;;
d114 2
a115 2
# OBSOLETE m68*-bull-sysv*)	gdb_target=dpx2 ;;
# OBSOLETE m68*-att-*)		gdb_target=3b1 ;;
d117 1
a117 1
# OBSOLETE m68*-motorola-*)	gdb_target=delta68 ;;
d126 1
a126 1
# OBSOLETE m68*-*-lynxos*)		gdb_target=m68klynx ;;
d129 3
a131 3
# OBSOLETE m68*-*-sunos3*)		gdb_target=sun3os3 ;;
# OBSOLETE m68*-*-sunos4*)		gdb_target=sun3os4 ;;
# OBSOLETE m68*-*-sysv4*)		gdb_target=m68kv4 ;;
d136 5
d142 2
d150 1
a150 1
# OBSOLETE mips*-*-sysv4*)		gdb_target=mipsv4 ;;
d152 1
@


1.85.4.10
log
@2004-01-26  David Carlton  <carlton@@kealia.com>

	* Merge with mainline; tag is carlton_dictionary-20040126-merge.
@
text
@d41 2
a42 1
*-*-freebsd*)		gdb_target=fbsd	;;
a131 1
m68*-*-uclinux*)	gdb_target=monitor ;;
d188 3
d192 1
a192 1
sparc64-*-linux*)	gdb_target=linux64 ;;
d194 12
d207 1
a207 13
sparc-*-openbsd*)	gdb_target=obsd ;;
sparc64-*-openbsd*)	gdb_target=obsd64
			gdb_osabi=GDB_OSABI_OPENBSD_ELF
			;;
sparc-*-solaris2.[0-6] | sparc-*-solaris2.[0-6].*)
			gdb_target=sol2
			;;
sparc-*-solaris2* | sparcv9-*-solaris2* | sparc64-*-solaris2*)
			gdb_target=sol2-64
			;;
sparc-*-vxworks*)	gdb_target=vxworks ;;
sparc-*-*)		gdb_target=sparc ;;
sparc64-*-*)		gdb_target=sparc64 ;;
@


1.85.2.1
log
@* configure.tgt (i[3456]86-*-openbsd*): Set gdb_target to obds.
* config/i386/obsd.mt: New file.
* i386bsd-nat.c (_initialize_i386bsd_nat): Introduce
i386obsd_sc_pc_offset and i386obsd_sc_sp_offset;
* i386obsd-nat.c (_initialize_i386obsd_nat): Set
i386obsd_sigtramp_start and i386obsd_sigtramp_end instead of
i386nbsd_sigtramp_start and i386nbsd_sigtramp_end.
* i386obsd-tdep.c: New file.
@
text
@d96 1
a96 1
i[3456]86-*-openbsd*)	gdb_target=obsd ;;
@


1.84
log
@Obsolete i960.
@
text
@d95 2
a96 3
i[3456]86-*-netbsdelf*)	gdb_target=nbsdelf ;;
i[3456]86-*-netbsd* | i[3456]86-*-openbsd*)
			gdb_target=nbsdaout ;;
@


1.83
log
@2002-08-20  Andrew Cagney  <cagney@@redhat.com>
* NEWS: Mention that the Apollo line was made obsolete.
* configure.tgt: Make m68*-apollo*-bsd*, m68*-hp-bsd*, and
m68*-hp-hpux* obsolete.
* configure.host: Make m68*-apollo*-sysv*, m68*-apollo*-bsd*,
m68*-hp-bsd* and m68*-hp-hpux* obsolete.
* buildsym.c (make_blockvector): Make static.
* buildsym.h (make_blockvector): Make extern declaration obsolete.
* Makefile.in (HFILES_NO_SRCDIR): Remove dst.h
(ALLDEPFILES): Remove dstread.c.
(dstread.o): Obsolete make rule.
* dstread.c: Makefile obsolete.
* dst.h: Ditto.
* config/m68k/hp300hpux.mt: Ditto.
* config/m68k/hp300hpux.mh: Ditto.
* config/m68k/hp300bsd.mt: Ditto.
* config/m68k/hp300bsd.mh: Ditto.
* config/m68k/apollo68b.mt: Ditto.
* config/m68k/apollo68v.mh: Ditto.
* config/m68k/apollo68b.mh: Ditto.
@
text
@d123 7
a129 7
i960-*-bout*)		gdb_target=vxworks960 ;;
i960-nindy-coff*)	gdb_target=nindy960 ;;
i960-*-coff*)		gdb_target=mon960 ;;
i960-nindy-elf*)	gdb_target=nindy960 ;;
i960-*-elf*)		gdb_target=mon960 ;;
i960-*-nindy*)		gdb_target=nindy960 ;;
i960-*-vxworks*)	gdb_target=vxworks960 ;;
@


1.82
log
@* NEWS: Mention that the i[3456]-*mach3*, i[3456]-*-mach* and
i[3456]-*-osf1mk* configurations have been made obsolete.
* configure.host: Make i[3456]86-*-mach3*, i[3456]86-*mach* and
i[3456]86-*-osf1mk* hosts obsolete.
* confighure.tgt: Make i[3456]86-*-mach3*, i[3456]86-*-osf1mk*
targets obsolete.
* config/i386/i386mach.mh, config/i386/nm-i386mach.h,
config/i386/xm-i386mach.h, config/i386/i386m3.mh,
config/i386/i386m3.mt, config/i386/nm-m3.h,
config/i386/tm-i386m3.h, config/i386/xm-i386m3.h,
config/i386/i386mk.mh, config/i386/i386mk.mt,
config/i386/tm-i386mk.h, config/i386/xm-i386mk.h: Make files
obsolete.
* i386mach-nat.c, i386m3-nat.c: Make files obsolete.
* Makefile.in (ALLDEPFILES): Remove i386mach.c i386m3-nat.c
(i386mach-nat.o, i386m3-nat.o):Make targets obsolete.
@
text
@d144 1
a144 1
m68*-apollo*-bsd*)	gdb_target=apollo68b ;;
d146 2
a147 2
m68*-hp-bsd*)		gdb_target=hp300bsd ;;
m68*-hp-hpux*)		gdb_target=hp300hpux ;;
@


1.81
log
@2002-08-18  Andrew Cagney  <ac131313@@redhat.com>
* config/pa/tm-hppa.h (hppa_store_return_value): Declare.
(hppa_value_returned_from_stack): Declare.
(hppa_extract_return_value): Declare.
* config/pa/hppa.mt: New file.
* configure.tgt: Recognize hppa*-*-*.
* MAINTAINERS: Change HPPA target to hppa-elf.  Still broken.
@
text
@d114 1
a114 1
i[3456]86-*-mach3*)	gdb_target=i386m3 ;;
d118 1
a118 1
i[3456]86-*-osf1mk*)	gdb_target=i386mk ;;
@


1.80
log
@2002-08-17  Andrew Cagney  <ac131313@@redhat.com>
* config/ia64/ia64.mt: New file.
* config/alpha/alpha.mt: New file.
* MAINTAINERS: Change the alpha target to alpha-elf and IA-64 to
ia64-linux-gnu.  Mention that ia64-elf is broken.
* configure.tgt: Add alpha*-*-* and ia64*-*-* patterns.
@
text
@d86 1
@


1.79
log
@2002-08-17  Andrew Cagney  <ac131313@@redhat.com>
* config/ia64/ia64.mt: New file.
* config/alpha/alpha.mt: New file.
* MAINTAINERS: Change the alpha target to alpha-elf and IA-64 to
ia64-linux-gnu.  Mention that ia64-elf is broken.
* configure.tgt: Add alpha*-*-* and ia64*-*-* patterns.
@
text
@a90 3
i[3456]86-*-aout*)	gdb_target=embed ;;
i[3456]86-*-coff*)	gdb_target=embed ;;
i[3456]86-*-elf*)	gdb_target=embed ;;
a118 1
i[3456]86-*-pe*)	gdb_target=embed  ;;
d120 1
d210 1
@


1.78
log
@* NEWS: Mention that the i[3456]-*-aix target has been made obsolete.
* configure.host: Make i[3456]86-*-aix host obsolete.
* configure.tgt: Make i[3456]86-*-aix target obsolete.
* config/i386/i386aix.mh, config/i386/i386aix.mt,
config/i386/nm-i386aix.h, condig/i386/tm-i386aix.h,
config/i386/xm-i386aix.h: Make files obsolete.
* i386aix-nat.c: Make file obsolete.
* Makefile.in (ALLDEPFILES): Remove i386aix-nat.c.
(i386aix-nat.o): Make target obsolete.
@
text
@d45 1
d137 1
@


1.77
log
@2002-08-08  Andrew Cagney  <ac131313@@redhat.com>

* configure.tgt: Replace powerpc-*-sysv*, powerpc-*-elf*,
powerpcle-*-eabi*, powerpcle-*-sysv* and powerpcle-*-elf* with
powerpc*-*-*.
* MAINTAINERS: Remove redundant rs6000-ibm-aix4.1 target.
@
text
@d93 1
a93 1
i[3456]86-*-aix*)	gdb_target=i386aix ;;
@


1.76
log
@2002-08-06  Andrew Cagney  <cagney@@redhat.com>
* configure.tgt: Make arc-*-* obsolete.
* NEWS: Mention that arc-*-* has been identifed as obsolete.
* MAINTAINERS: Make arc-elf obsolete.
* arc-tdep.c: Make file obsolete.
* config/arc/arc.mt: Ditto.
* config/arc/tm-arc.h: Ditto.
@
text
@d221 5
a225 2
powerpc-*-eabi* | powerpc-*-sysv* | powerpc-*-elf*)
			if test -f ../sim/ppc/Makefile; then
a229 10
powerpcle-*-eabi* | powerpcle-*-sysv* | powerpcle-*-elf*)
			if test -f ../sim/ppc/Makefile; then
			  gdb_target=ppcle-sim
			else
			  gdb_target=ppcle-eabi
			fi ;;
powerpc-*-linux*)	gdb_target=linux
			build_gdbserver=yes
			;;
powerpc-*-vxworks*)	gdb_target=vxworks ;;
@


1.75
log
@Obsolete m88k.
@
text
@d46 1
a46 1
arc-*-*)		gdb_target=arc ;;
@


1.74
log
@Obsolete i[3456]86-*-os9k.
@
text
@d22 1
a22 1
m88*)			gdb_target_cpu=m88k ;;
d168 3
a170 3
m88*-motorola-sysv4*)	gdb_target=delta88v4 ;;
m88*-motorola-*)	gdb_target=delta88 ;;
m88*-*-*)		gdb_target=m88k ;;
@


1.73
log
@Obsolete fr30.
@
text
@d99 1
a99 1
i[3456]86-*-os9k)	gdb_target=i386os9k ;;
@


1.72
log
@Obsolete the d30v.
@
text
@d75 1
a75 1
fr30-*-elf*)		gdb_target=fr30 ;;
d288 2
a289 2
fr30-*-*)		gdb_target=fr30
			;;
@


1.71
log
@	* config/mcore/tm-mcore.h: Remove file.
	* config/mcore/mcore.mt: Remove definition of TM_FILE
	* configure.tgt: Set gdb_multi_arch to yes for the mcore target.
@
text
@d69 1
a69 1
d30v-*-*)		gdb_target=d30v ;;
@


1.70
log
@* configure.tgt (i[3456]86-*-openbsd*): Fold into
i[3456]86-*-netbsd* case.
* config/i386/tm-obsd.h: Removed.
* config/i386/obsd.mt: Removed.
* config/i386/obsd.mh (NATDEPFILES): Remove corelow.o and
core-aout.o.
(MH_CFLAGS): Add -DYYDEBUG=0.
@
text
@d318 1
@


1.69
log
@2002-06-21  Dave Brolley  <brolley@@redhat.com>

	From Stan Shebs, Jim Blandy, Mark Salter, Kevin Buettner:
	* config/frv/frv.mt: New file.
	* config/frv/tm-frv.h: New file.
	* configure.tgt: Support frv-*-*.
	* Makefile.in (frv-tdep.o): New target.
	* frv-tdep.c: New file.
	* NEWS: Mention frv.
@
text
@d97 2
a98 1
i[3456]86-*-netbsd*)	gdb_target=nbsdaout ;;
a102 1
i[3456]86-*-openbsd*)	gdb_target=obsd ;;
@


1.68
log
@* Makefile.in (ALLDEPFILES): Add sparc64nbsd-nat.c,
sparcnbsd-nat.c, and sparcnbsd-tdep.c.
(sparc64nbsd-nat.o)
(sparcnbsd-nat.o)
(sparcnbsd-tdep.o): New dependency lists.
* NEWS: Note new UltraSPARC NetBSD native configuration.
* configure.host (sparc64-*-netbsd*): New host.
* configure.tgt (sparc-*-netbsdelf*)
(sparc-*-netbsd*): Set gdb_target to nbsd.
(sparc64-*-netbsd*): New target.
* sparc64nbsd-nat.c: New file.
* sparcnbsd-nat.c: New file.
* sparcnbsd-tdep.c: New file.
* sparcnbsd-tdep.h: New file.
* config/sparc/nbsd.mt: New file.
* config/sparc/nbsd64.mh: New file.
* config/sparc/nbsd64.mt: New file.
* config/sparc/nbsdaout.mh (NATDEPFILES): Remove corelow.o,
sparc-nat.o, and solib.o.  Add sparcnbsd-nat.o.
(HOST_IPC): Remove.
* config/sparc/nbsdaout.mt: Remove.
* config/sparc/nbsdelf.mh (NATDEPFILES): Remove corelow.o,
sparc-nat.o, and solib.o.  Add sparcnbsd-nat.o.
(HOST_IPC): Remove.
* config/sparc/nbsdelf.mt: Remove.
* config/sparc/nm-nbsd.h: Update copyright years.  Remove all
sparc-nat.c compatiblity defines.
* config/sparc/tm-nbsd.h: Update copyright years.  Include solib.h.
(GDB_MULTI_ARCH): Set to GDB_MULTI_ARCH_PARTIAL.
* config/sparc/tm-nbsd64.h: New file.
* config/sparc/tm-nbsdaout.h: Remove.
* config/sparc/xm-nbsd.h: Remove.
@
text
@d77 1
@


1.67
log
@* Makefile.in (armnbsd-tdep.o): Add solib-svr4.h and
nbsd-tdep.h to dependency list.
* configure.host (arm*-*-netbsdelf*, arm*-*-netbsd*,
i[3456]86-*-netbsdaout*, i[3456]86-*-netbsd*, m68*-*-netbsd*,
ns32k-*-netbsd*, sparc-*-netbsdaout*, sparc-*-netbsd*): Use
nbsdaout.mh and nbsdelf.mh consistently.
* configure.tgt (i[3456]86-*-netbsd*, m68*-*-netbsd*,
ns32k-*-netbsd*, sparc-*-netbsdelf*, sparc-*-netbsd*) Use
nbsdaout.mt and nbsdelf.mh consistently.
* armnbsd-tdep.c: Include nbsd-tdep.h and solib-svr4.h.
(arm_netbsd_elf_init_abi): Use set_solib_svr4_fetch_link_map_offsets
to set nbsd_ilp32_solib_svr4_fetch_link_map_offsets.
* config/nm-nbsd.h: Garbage-collect SVR4_SHARED_LIBS.  Move
a.out shared library stuff from here...
* config/nm-nbsdaout.h: ...to here.
* config/tm-nbsd.h: Remove.
* config/alpha/nm-nbsd.h (SVR4_SHARED_LIBS): Remove.
* config/arm/nbsd.mh: Remove.
* config/arm/nbsd.mt (TDEPFILES): Remove solib-sunos.o, add
nbsd-tdep.o.
* config/arm/nbsdaout.mh: New file.
* config/arm/nbsdelf.mh: New file.
* config/arm/nm-nbsdaout.h: New file.
* config/i386/nbsd.mh: Remove.
* config/i386/nbsd.mt: Remove.
* config/i386/nbsdaout.mh: New file.
* config/i386/nbsdaout.mt: New file.
* config/i386/nbsdelf.mh (NAT_FILE): Use nm-nbsd.h.
* config/i386/nbsdelf.mt (TM_FILE): Use tm-nbsd.h.
* config/i386/nm-nbsd.h (REGISTER_U_ADDR,
i386_register_u_addr): Remove.
* config/i386/nm-nbsdaout.h: New file.
* config/i386/nm-nbsdelf.h: Remove.
* config/i386/tm-nbsd.h: Don't include config/tm-nbsd.h.
(USE_STRUCT_CONVENTION): Remove.
* config/i386/tm-nbsdaout.h: New file.
* config/i386/tm-nbsdelf.h: Remove.
* config/m68k/nbsd.mh: Remove.
* config/m68k/nbsd.mt: Remove.
* config/m68k/nbsdaout.mh: New file.
* config/m68k/nbsdaout.mt: New file.
* config/m68k/nm-nbsd.h: Use config/nm-nbsd.h.
* config/m68k/nm-nbsdaout.h: New file.
* config/m68k/tm-nbsd.h: Don't include config/tm-nbsd.h.
(IN_SOLIB_CALL_TRAMPOLINE): Define.
* config/ns32k/nbsd.mh: Remove.
* config/ns32k/nbsd.mt: Remove.
* config/ns32k/nbsdaout.mh: New file.
* config/ns32k/nbsdaout.mt: New file.
* config/ns32k/nm-nbsd.h: Include config/nm-nbsd.h.
* config/ns32k/nm-nbsdaout.h: New file.
* config/ns32k/tm-nbsd.h: Don't include config/tm-nbsd.h.
(IN_SOLIB_CALL_TRAMPOLINE): Define.
* config/powerpc/nm-nbsd.h: Include config/nm-nbsd.h.
(SVR4_SHARED_LIBS): Remove.
* config/powerpc/tm-nbsd.h: Dont' include config/tm-nbsd.h.
* config/sparc/nbsd.mh: Remove.
* config/sparc/nbsd.mt: Remove.
* config/sparc/nbsdaout.mh: New file.
* config/sparc/nbsdaout.mt: New file.
* config/sparc/nbsdelf.mh (NAT_FILE): Use nm-nbsd.h.
* config/sparc/nbsdelf.mt: New file.
* config/sparc/nm-nbsdaout.h: New file.
* config/sparc/nm-nbsdelf.h: Remove.
* config/sparc/tm-nbsd.h: Don't include config/tm-nbsd.h.
* config/sparc/tm-nbsdaout.h: New file.
@
text
@d262 1
a262 2
sparc-*-netbsdelf*)	gdb_target=nbsdelf ;;
sparc-*-netbsd*)	gdb_target=nbsdaout ;;
d280 1
@


1.67.2.1
log
@Merge with mainline, kseitz_interps-20020619-merge.
@
text
@d262 2
a263 1
sparc-*-netbsd*)	gdb_target=nbsd ;;
a280 1
sparc64-*-netbsd*)	gdb_target=nbsd64 ;;
@


1.67.2.2
log
@Merge w/trunk (kseitz_interps-20020722-merge).
@
text
@d69 1
a69 1
# OBSOLETE d30v-*-*)		gdb_target=d30v ;;
d75 1
a75 1
# OBSOLETE fr30-*-elf*)		gdb_target=fr30 ;;
a76 1
frv-*-*)		gdb_target=frv ;;
d96 2
a97 3
i[3456]86-*-netbsd* | i[3456]86-*-openbsd*)
			gdb_target=nbsdaout ;;
# OBSOLETE i[3456]86-*-os9k)	gdb_target=i386os9k ;;
d101 1
d287 2
a288 2
# OBSOLETE fr30-*-*)		gdb_target=fr30
# OBSOLETE 			;;
a316 1
mcore)		gdb_multi_arch=yes ;;
@


1.67.2.3
log
@Merge with kseitz_interps-20020809-merge of CVS head.
@
text
@d22 1
a22 1
# OBSOLETE m88*)			gdb_target_cpu=m88k ;;
d46 1
a46 1
# OBSOLETE arc-*-*)		gdb_target=arc ;;
d168 3
a170 3
# OBSOLETE m88*-motorola-sysv4*)	gdb_target=delta88v4 ;;
# OBSOLETE m88*-motorola-*)	gdb_target=delta88 ;;
# OBSOLETE m88*-*-*)		gdb_target=m88k ;;
d221 12
a236 5
powerpc*-*-*)		if test -f ../sim/ppc/Makefile; then
			  gdb_target=ppc-sim
			else
			  gdb_target=ppc-eabi
			fi ;;
@


1.67.2.4
log
@Merge with kseitz_interps-20020829-merge tag from trunk.
@
text
@a44 1
alpha*-*-*)		gdb_target=alpha ;;
a84 1
hppa*-*-*)		gdb_target=hppa ;;
d90 4
a93 1
# OBSOLETE i[3456]86-*-aix*)	gdb_target=i386aix ;;
d115 1
a115 1
# OBSOLETE i[3456]86-*-mach3*)	gdb_target=i386m3 ;;
d119 1
a119 1
# OBSOLETE i[3456]86-*-osf1mk*)	gdb_target=i386mk ;;
d121 1
a122 1
i[3456]86-*-*)		gdb_target=embed ;;
d124 7
a130 7
# OBSOLETE i960-*-bout*)		gdb_target=vxworks960 ;;
# OBSOLETE i960-nindy-coff*)	gdb_target=nindy960 ;;
# OBSOLETE i960-*-coff*)		gdb_target=mon960 ;;
# OBSOLETE i960-nindy-elf*)	gdb_target=nindy960 ;;
# OBSOLETE i960-*-elf*)		gdb_target=mon960 ;;
# OBSOLETE i960-*-nindy*)		gdb_target=nindy960 ;;
# OBSOLETE i960-*-vxworks*)	gdb_target=vxworks960 ;;
a135 1
ia64*-*-*)		gdb_target=ia64 ;;
d144 1
a144 1
# OBSOLETE m68*-apollo*-bsd*)	gdb_target=apollo68b ;;
d146 2
a147 2
# OBSOLETE m68*-hp-bsd*)		gdb_target=hp300bsd ;;
# OBSOLETE m68*-hp-hpux*)		gdb_target=hp300hpux ;;
a210 1
mips*-*-*)		gdb_target=embed ;;
@


1.67.2.5
log
@Merge with kseitz_interps-20020930-merge.
@
text
@d95 3
a97 2
i[3456]86-*-netbsd*)	gdb_target=nbsd ;;
i[3456]86-*-openbsd*)	gdb_target=nbsd ;;	# FIXME: needs its own target
@


1.67.2.6
log
@merge from mainline
@
text
@a40 3
*-*-freebsd*)		gdb_target=fbsd
			;;

d43 1
d94 1
d96 1
a96 1
i[3456]86-*-openbsd*)	gdb_target=obsd ;;
d271 2
d295 1
@


1.66
log
@* NEWS: Note new MIPS NetBSD native configuration.
* configure.host (mips*-*-netbsd*): New host.
* configure.tgt (mips*-*-netbsd*): New target.
* mipsnbsd-nat.c: New file.
* mipsnbsd-tdep.c: New file.
* mipsnbsd-tdep.h: New file.
* config/mips/nbsd.mh: New file.
* config/mips/nbsd.mt: New file.
* config/mips/nm-nbsd.h: New file.
* config/mips/tm-nbsd.h: New file.
@
text
@d96 1
a96 1
i[3456]86-*-netbsd*)	gdb_target=nbsd ;;
d160 1
a160 1
m68*-*-netbsd*)		gdb_target=nbsd ;;
d216 1
a216 1
ns32k-*-netbsd*)	gdb_target=nbsd ;;
d262 2
a263 1
sparc-*-netbsd*)	gdb_target=nbsd ;;
@


1.65
log
@	* configure.tgt: Mark v850 as multi-arched.
	* config/v850/tm-v850.h: Remove file.
	* config/v850/v850.mt: Eliminate TM_FILE.
@
text
@d204 1
@


1.64
log
@2002-05-14  Elena Zannoni  <ezannoni@@redhat.com>

	* configure.tgt: Add a catch all sh* target, for cases like
	sh[2,3,4]-elf and sh-hms.
@
text
@d313 1
@


1.64.2.1
log
@merge from trunk
@
text
@d96 1
a96 1
i[3456]86-*-netbsd*)	gdb_target=nbsdaout ;;
d160 1
a160 1
m68*-*-netbsd*)		gdb_target=nbsdaout ;;
a203 1
mips*-*-netbsd*)	gdb_target=nbsd ;;
d215 1
a215 1
ns32k-*-netbsd*)	gdb_target=nbsdaout ;;
a278 1
sparc64-*-netbsd*)	gdb_target=nbsd64 ;;
a312 1
v850)           gdb_multi_arch=yes ;;
@


1.64.2.2
log
@merge with trunk
@
text
@a76 1
frv-*-*)		gdb_target=frv ;;
@


1.64.2.3
log
@merge with trunk.
@
text
@d97 1
a97 2
i[3456]86-*-netbsd* | i[3456]86-*-openbsd*)
			gdb_target=nbsdaout ;;
d102 1
@


1.63
log
@2002-05-13  Elena Zannoni  <ezannoni@@redhat.com>

	* configure.tgt: Remove sh-hms target.
	* MAINTAINERS: Don't list sh-hms as a separate target.
@
text
@d254 1
@


1.62
log
@* configure.tgt (sparc-*openbsd): Remove entry accidentially
checked in with last change.
@
text
@a247 1
sh-*-hms)		gdb_target=embed ;;
@


1.61
log
@* configure.tgt (i[3456]86-*-unixware*, i[3456]86-*-unixware2*):
Remove targets.  These are canonicalized to i386-*-sysv4.2uw by
config.sub.
@
text
@d261 1
a261 2
sparc-*-netbsd* | sparc-*-openbsd*)
			gdb_target=nbsd ;;
@


1.60
log
@* NEWS: Note new sh*-*-netbsdelf* configuration.
* configure.host: Set gdb_host_cpu to sh for all sh*.
(sh*-*-netbsdelf*): New host.
* configure.tgt: Set gdb_target_cpu to sh for all sh*.
(sh*-*-netbsdelf*): New target.
* sh-nbsd-nat.c: New file.
* sh-nbsd-tdep.c: New file.
* sh-nbsd-tdep.h: New file.
* config/sh/nbsd.mh: New file.
* config/sh/nbsd.mt: New file.
* config/sh/nm-nbsd.h: New file.
* config/sh/tm-nbsd.h: New file.
@
text
@a105 2
i[3456]86-*-unixware2*)	gdb_target=i386v42mp ;;
i[3456]86-*-unixware*)	gdb_target=i386v4 ;;
d261 2
a262 1
sparc-*-netbsd*)	gdb_target=nbsd ;;
@


1.59
log
@* MAINTAINERS: Mark a29k as deleted.
* NEWS: Mention that a29k was removed.  Add OBSOLETE section.
Move new configurations to the top.
* configure.tgt: Remove a29k.
* config/a29k/tm-vx29k.h: Delete.
* config/a29k/vx29k.mt: Delete.
* config/a29k/tm-a29k.h: Delete.
* config/a29k/a29k-udi.mt: Delete.
* config/a29k/a29k.mt: Delete.
* a29k-tdep.c: Delete.
* remote-udi.c: Delete.
* remote-mm.c: Delete.
* remote-eb.c: Delete.
* remote-adapt.c: Delete.
* Makefile.in: Remove obsolete code.
* gdbserver/Makefile.in: Ditto.
* config/s390/s390x.mt: Ditto.
* config/s390/s390.mt: Ditto.
* config/sparc/sparclynx.mh: Ditto.
* config/sparc/linux.mh: Ditto.
* config/pa/hppaosf.mh: Ditto.
* config/pa/hppabsd.mh: Ditto.
* config/ns32k/nbsd.mt: Ditto.
* config/mips/vr5000.mt: Ditto.
* config/m68k/sun3os4.mh: Ditto.
* config/m68k/nbsd.mt: Ditto.
* config/m68k/m68klynx.mh: Ditto.
* config/m32r/m32r.mt: Ditto.
* config/i386/x86-64linux.mt: Ditto.
* config/i386/nbsdelf.mt: Ditto.
* config/i386/nbsd.mt: Ditto.
* config/i386/i386lynx.mh: Ditto.
@
text
@d28 1
d256 1
@


1.58
log
@* Makefile.in: Add support for AVR target.
* configure.tgt: Add support for AVR target.
* avr-tdep.c: New file
* config/avr/avr.mt: New file.
@
text
@a39 9
# OBSOLETE a29k-*-aout*)		gdb_target=a29k ;;
# OBSOLETE a29k-*-coff*)		gdb_target=a29k ;;
# OBSOLETE a29k-*-elf*)		gdb_target=a29k ;;
# OBSOLETE a29k-*-ebmon*)		gdb_target=a29k ;;
# OBSOLETE a29k-*-kern*)		gdb_target=a29k-kern ;;
# OBSOLETE a29k-*-none*)		gdb_target=a29k ;;
# OBSOLETE a29k-*-udi*)		gdb_target=a29k-udi ;;
# OBSOLETE a29k-*-vxworks*)        gdb_target=vx29k ;;

@


1.57
log
@* Makefile.in (ALLDEPFILES): Add alphanbsd-nat.c and
alphanbsd-tdep.c.
(alphanbsd-nat.o): New dependency list.
(alphanbsd-tdep.o): Ditto.
* NEWS: Note new native NetBSD/alpha configuration.
* alphanbsd-nat.c: New file.
* alphanbsd-tdep.c: Ditto.
* configure.host (alpha*-*-netbsd*): New host.
* configure.tgt (alpha*-*-netbsd*): New target.
* config/alpha/nbsd.mh: New file.
* config/alpha/nbsd.mt: Ditto.
* config/alpha/nm-nbsd.h: Ditto.
* config/alpha/tm-nbsd.h: Ditto.
@
text
@d17 1
d69 4
@


1.56
log
@2002-03-01  David O'Brien  <obrien@@FreeBSD.org>
	* configure.host (sparc64-*-freebsd): Add.
	* configure.tgt: Likewise.
	* config/sparc/fbsd.mh: New file.
	* config/sparc/fbsd.mt: Likewise.
	* config/sparc/nm-fbsd.h: Likewise.
	* config/sparc/tm-fbsd.h: Likewise.
@
text
@d51 1
@


1.56.2.1
log
@Add support for AVR target.
@
text
@a16 1
avr*)			gdb_target_cpu=avr ;;
a66 4

avr-*-*)		gdb_target=avr
			gdb_multi_arch=yes
			;;
@


1.55
log
@2002-02-27  Daniel Jacobowitz  <drow@@mvista.com>

        * gdbserver/linux-s390-low.c: New file.
        * regformats/reg-s390.dat: New file.
        * regformats/reg-s390x.dat: New file.
        * gdbserver/configure.srv: Add S/390.
        * gdbserver/Makefile.in: Add S/390.
        * configure.tgt: Enable gdbserver for S/390.
@
text
@d279 2
@


1.54
log
@2002-02-27  Daniel Jacobowitz  <drow@@mvista.com>

        * gdbserver/acconfig.h: New file.
        * gdbserver/i387-fp.c: New file.
        * gdbserver/i387-fp.h: New file.
        * gdbserver/linux-x86-64.c: New file.
        * regformats/reg-x86-64.dat: New file.
        * configure.tgt: Add x86_64-*-linux* gdbserver support.
        & gdbserver/configure.srv: Add x86_64-*-linux* and regset support.
        * gdbserver/configure.in: Add support for regsets.
        * gdbserver/config.in: Regenerate.
        * gdbserver/configure: Regenerate.
        * gdbserver/Makefile.in: Likewise.  Add $(linux_low_h).
        * gdbserver/linux-low.h: New file.
        * gdbserver/linux-low.c: Include "linux-low.h".  Add support
        for regsets.
        * gdbserver/linux-arm-low.c: Include "linux-low.h".
        * gdbserver/linux-ia64-low.c: Include "linux-low.h".
        * gdbserver/linux-m68k-low.c: Include "linux-low.h".
        * gdbserver/linux-mips-low.c: Include "linux-low.h".
        * gdbserver/linux-ppc-low.c: Include "linux-low.h".
        * gdbserver/linux-sh-low.c: Include "linux-low.h".
        * gdbserver/linux-i386-low.c: Include "linux-low.h".  Include
        "i387-fp.h".  Add PTRACE_GETREGS and friends.
        * gdbserver/regcache.c (supply_register): New function.
        (supply_register_by_name): New function.
        (collect_register): New function.
        (collect_register_by_name): New function.
@
text
@d244 6
a249 2
s390-*-*)		gdb_target=s390 ;;
s390x-*-*)		gdb_target=s390x ;;
@


1.53
log
@* configure.tgt (arm*-*-netbsd*): This variant is now fully multi-arch.
* config/arm/nbsd.mt (TM_FILE): Delete.
* config/arm/tm-nbsd.h: Delete.
@
text
@d293 3
a295 1
x86_64-*-linux*)	gdb_target=x86-64linux ;;
@


1.52
log
@2002-02-14  Daniel Jacobowitz  <drow@@mvista.com>

        * configure.tgt: Configure gdbserver only for known working
        targets.  Set ${build_gdbserver} instead of modifying ${configdirs}.
        * configure.in: Check ${build_gdbserver}.  Put gdbserver/ into
        SUBDIRS if it is configured.  Update comment for ${nativefile}.
        * configure: Regenerated.
@
text
@d58 2
a59 1
arm*-*-netbsd*)		gdb_target=nbsd ;;
@


1.51
log
@* configure.host: Accept sparcv9 as alias for sparc64.
* configure.tgt: Likewise.
@
text
@d55 2
a56 2
arm*-*-linux*)		gdb_target=linux 
			configdirs="$configdirs gdbserver"
d79 1
a79 2
hppa*-*-bsd*)		gdb_target=hppabsd
		configdirs="${configdirs} gdbserver" ;;
d84 1
a84 2
hppa*-*-osf*)		gdb_target=hppaosf
		configdirs="${configdirs} gdbserver" ;;
d96 2
a97 4
i[3456]86-*-netbsdelf*)	gdb_target=nbsdelf
		configdirs="${configdirs} gdbserver" ;;
i[3456]86-*-netbsd*)	gdb_target=nbsd 
		configdirs="${configdirs} gdbserver" ;;
d101 1
a101 2
i[3456]86-*-lynxos*)	gdb_target=i386lynx
		configdirs="${configdirs} gdbserver" ;;
d114 2
a115 3
		configdirs="${configdirs} gdbserver" ;;
i[3456]86-pc-linux-gnu)	gdb_target=linux
		configdirs="${configdirs} gdbserver" ;;
d135 3
a137 1
ia64-*-linux*)		gdb_target=linux ;;
d160 4
a163 5
		configdirs="${configdirs} gdbserver" ;;
m68*-*-lynxos*)		gdb_target=m68klynx
		configdirs="${configdirs} gdbserver" ;;
m68*-*-netbsd*)		gdb_target=nbsd
		configdirs="${configdirs} gdbserver" ;;
d166 1
a166 2
m68*-*-sunos4*)		gdb_target=sun3os4
		configdirs="${configdirs} gdbserver" ;;
d189 1
a189 2
mips64*vr5000*-*-elf*)	gdb_target=vr5000
		configdirs="${configdirs} gdbserver" ;;
d204 3
a206 1
mips*-*-linux*)		gdb_target=linux ;;
d218 1
a218 2
ns32k-*-netbsd*)	gdb_target=nbsd
		configdirs="${configdirs} gdbserver" ;;
d220 1
a220 2
powerpc-*-netbsd*)	gdb_target=nbsd
		configdirs="${configdirs} gdbserver" ;;
d234 3
a236 1
powerpc-*-linux*)	gdb_target=linux ;;
d239 1
a239 2
rs6000-*-lynxos*)	gdb_target=rs6000lynx
		configdirs="${configdirs} gdbserver" ;;
d250 3
a252 1
sh-*-linux*)		gdb_target=linux ;;
d258 1
a258 2
sparc-*-lynxos*)	gdb_target=sparclynx
		configdirs="${configdirs} gdbserver" ;;
d261 1
a261 2
sparc-*-sunos4*)	gdb_target=sun4os4
		configdirs="${configdirs} gdbserver" ;;
d292 1
a292 2
x86_64-*-linux*)	gdb_target=x86-64linux
			configdirs="${configdirs} gdbserver" ;;
@


1.50
log
@2002-01-20  Jiri Smid  <smid@@suse.cz>

	* configure.host, configure.tgt: Support x86-64.
	* NEWS: Note new target x86-64.
@
text
@d281 1
a281 1
sparc64-*-*)		gdb_target=sp64 ;;
@


1.49
log
@Mark all 29k targets as obsolete (second attempt to commit this).
@
text
@d30 1
d298 4
d313 1
@


1.48
log
@Remove obsolete MacOS support.
@
text
@d38 8
a45 7
a29k-*-aout*)		gdb_target=a29k ;;
a29k-*-coff*)		gdb_target=a29k ;;
a29k-*-elf*)		gdb_target=a29k ;;
a29k-*-ebmon*)		gdb_target=a29k ;;
a29k-*-none*)		gdb_target=a29k ;;
a29k-*-udi*)		gdb_target=a29k-udi ;;
a29k-*-vxworks*)        gdb_target=vx29k ;;
@


1.47
log
@2001-12-21  Orjan Friberg  <orjanf@@axis.com>

	* configure.tgt: Delete CRIS from multi-arch targets.

	* config/cris/tm-cris.h: New file.

	* config/cris/cris.mt (TDEPFILES): Add corelow.o solib.o solib-svr4.o.
	(TM_FILE): New macro.

	* cris-tdep.c (cris_examine): Correct check for srp register.
	(supply_gregset, fetch_core_registers,
	cris_linux_svr4_fetch_link_map_offsets, cris_fpless_backtrace):
	New functions.
	(_initialize_cris_tdep): Add core functions and new command.
	(cris_gdbarch_init): Define link map offsets.
@
text
@a223 1
powerpc-*-macos*)	gdb_target=macos ;;
@


1.46
log
@2001-12-17  Fernando Nasser  <fnasser@@redhat.com>

	From Richard Earnshaw <rearnsha@@arm.com>:
        * config/arm/nbsd.mh, config/arm/nbsd.mt, config/arm/tm-nbsd.h,
        config/arm/nm-nbsd.h, config/arm/xm-nbsd.h: New files.
        * armbsd-nat.c: New file.
        * Makefile.in: Build it.
        * configure.host, configure.tgt: Support NetBSD/arm.
@
text
@a304 1
cris)		gdb_multi_arch=yes ;;
@


1.45
log
@	* Makefile.in: Add support for xstormy16.
	* configure.tgt: Ditto.
	* xstormy16-tdep.c: New file.
	* config/xstormy16/xstormy16.mt: New file.
@
text
@d56 1
@


1.44
log
@Zap sony news (m68k) and ISI (m68k) targets.
@
text
@d281 2
d308 1
@


1.43
log
@Zap the ultra series of a29k host and target.
@
text
@a153 1
# OBSOLETE m68*-isi-*)		gdb_target=isi ;;
a155 1
# OBSOLETE m68*-sony-*)		gdb_target=news ;;
a156 4
# OBSOLETE m68*-rom68k-*)          gdb_target=monitor ;;
# OBSOLETE m68*-*bug-*)            gdb_target=monitor ;;
# OBSOLETE m68*-monitor-*)         gdb_target=monitor ;;
# OBSOLETE m68*-est-*)		gdb_target=monitor ;;
@


1.42
log
@Zap Sun's i386i.
@
text
@a41 1
# OBSOLETE a29k-*-kern*)		gdb_target=a29k-kern ;;
a42 1
# OBSOLETE a29k-*-sym1*)		gdb_target=ultra3 ;;
@


1.41
log
@Zap all but ns32k-netbsd NS32k targets and hosts.
@
text
@a107 1
# OBSOLETE i[3456]86-*-sunos*)	gdb_target=sun386 ;;
@


1.40
log
@Zap harris target and host.
@
text
@a228 1
# OBSOLETE ns32k-*-mach3*)		gdb_target=ns32km3 ;;
a230 2
# OBSOLETE ns32k-utek-sysv*)	gdb_target=merlin ;;
# OBSOLETE ns32k-utek-*)		gdb_target=umax ;;
@


1.39
log
@Zap some older PPC targets.
@
text
@a181 1
# OBSOLETE m88*-harris-cxux*)	gdb_target=cxux ;;
@


1.38
log
@Zap a29k.
@
text
@a238 3
# OBSOLETE powerpc-*-netware*)	gdb_target=ppc-nw
# OBSOLETE 			configdirs="${configdirs} nlm" ;;

a239 2
# OBSOLETE powerpcle-*-cygwin*)	gdb_target=cygwin ;;
# OBSOLETE powerpcle-*-solaris*)	gdb_target=solaris ;;
@


1.37
log
@Delete tic80 target.
@
text
@a311 2
# OBSOLETE w65-*-*)		gdb_target=w65 ;;

@


1.36
log
@Add x86 OpenBSD native configuration.
* config/i386/obsd.mt, config/i386/tm-obsd.h, config/i386/obsd.mh,
config/i386/nm-obsd.h: New files.
* configure.host (i[3456]86-*-openbsd*): New host.
* configure.tgt (i[3456]86-*-openbsd*): New target.
* NEWS: Update.
@
text
@a298 3
# OBSOLETE tic80-*-*)		gdb_target=tic80
# OBSOLETE			configdirs="${configdirs} gdbserver" ;;

@


1.35
log
@* config/mn10300/mn10300.mt (TM_FILE): Delete.
* configure.tgt: Add mn10300 to list of mulit-arch targets.
* config/mn10300/tm-mn10300.h: Delete file. Move contents ...
* mn10300-tdep.c: To here.
@
text
@d106 1
@


1.34
log
@* configure.tgt (i*86-*-pe*): New target.
@
text
@d327 1
@


1.33
log
@2001-07-16  Orjan Friberg  <orjanf@@axis.com>

	* configure.tgt: Recognise the CRIS architecture.
	* config/cris/cris.mt: New file for CRIS target.
	* cris-tdep.c: New file for CRIS target.
@
text
@d128 1
@


1.32
log
@* configure.tgt: Mark d10v as pure multi-arch.
* config/d10v/tm-d10v.h: Delete file.
* config/d10v/d10v.mt (TM_FILE): Delete.
@
text
@d66 2
d323 1
@


1.31
log
@MIPS/Linux support
@
text
@d321 1
@


1.30
log
@Recognise the s390 host and target.
@
text
@d214 1
@


1.29
log
@	* config/mips/tm-irix6.h: New file.

	* config/mips/irix6.mh: New file.

	* config/mips/irix6.mt: New file.

	* config/mips/xm-irix6.h: New file.

	* config/mips/nm-irix6.h: New file.

	* mips-tdep.c (mips_gdbarch_init) <MIPS_ABI_N32>: Set up the
	disassembler info in tm_print_insn_info as appropriate for the N32
	ABI.  Force N32 ABI to be the default if the CPU is R8000 or
	R10000.

	* configure.tgt (mips*-sgi-irix6*): Map to irix6.

	* configure.host (mips*-sgi-irix6*): Ditto.
@
text
@d26 1
d259 3
@


1.28
log
@Obsolete NEWS and ISI systems (along with a few redundant m68k targets).
@
text
@d210 1
a210 1
mips*-sgi-irix6*)	gdb_target=irix5 ;;
@


1.27
log
@Obsolete sun386i.
@
text
@d152 1
a152 1
m68*-isi-*)		gdb_target=isi ;;
d155 1
a155 1
m68*-sony-*)		gdb_target=news ;;
d157 4
a160 4
m68*-rom68k-*)          gdb_target=monitor ;;
m68*-*bug-*)            gdb_target=monitor ;;
m68*-monitor-*)         gdb_target=monitor ;;
m68*-est-*)		gdb_target=monitor ;;
@


1.26
log
@Obsolete powerpcle-*-cygwin* and powerpcle-*-solaris* platforms
and powerpc-*-netware* target.
@
text
@d104 1
a104 1
i[3456]86-*-sunos*)	gdb_target=sun386 ;;
@


1.25
log
@Obsolete a29k-*-* host and a29k-*-sym1* and a29k-*-kern* targets.
@
text
@d233 2
a234 2
powerpc-*-netware*)	gdb_target=ppc-nw
			configdirs="${configdirs} nlm" ;;
d237 2
a238 2
powerpcle-*-cygwin*)	gdb_target=cygwin ;;
powerpcle-*-solaris*)	gdb_target=solaris ;;
@


1.24
log
@Obsolete w65-*-* target.
@
text
@d41 1
a41 1
a29k-*-kern*)		gdb_target=a29k-kern ;;
d43 1
a43 1
a29k-*-sym1*)		gdb_target=ultra3 ;;
@


1.23
log
@Obsolete tic80.
@
text
@d306 1
a306 1
w65-*-*)		gdb_target=w65 ;;
@


1.22
log
@Obsolete ns32k-*-mach3*, ns32k-umax-*, ns32k-utek-sysv* and
ns32k-utek-*.
@
text
@d290 2
a291 2
tic80-*-*)		gdb_target=tic80
			configdirs="${configdirs} gdbserver" ;;
@


1.21
log
@Obsolete harris 88k target.
@
text
@d224 1
a224 1
ns32k-*-mach3*)		gdb_target=ns32km3 ;;
d227 2
a228 2
ns32k-utek-sysv*)	gdb_target=merlin ;;
ns32k-utek-*)		gdb_target=umax ;;
@


1.20
log
@Configury changes for AIX5/IA-64.
@
text
@d177 1
a177 1
m88*-harris-cxux*)	gdb_target=cxux ;;
@


1.19
log
@* config/sparc/sp64linux.mt: New file.
* configure.tgt: Recognize sparc64-*-linux* as a sp64linux target.
* configure.host: Recognize sparc64-*-linux* as a linux host.
From 2000-03-17 Jakub Jelinek <jakub@@redhat.com>:
* config/sparc/tm-sp64linux.h: New file.
@
text
@d135 1
@


1.18
log
@Remove configurations marked as obsolete in 5.0.
@
text
@d286 1
@


1.17
log
@* configure/sh/embed.mt: New file.
* configure/sh/linux.mt: New file.
* configure/sh/sh.mt: Removed.
* configure.tgt (sh-*-hms,sh-*-coff*,sh-*-elf*,sh-*-linux): New targets.
(sh-*-*): Removed.
@
text
@a16 1
# OBSOLETE c[12])		gdb_target_cpu=convex ;;
a23 1
# OBSOLETE pyramid)		gdb_target_cpu=pyr ;;
a63 2
# OBSOLETE c1-*-*)		gdb_target=convex ;;
# OBSOLETE c2-*-*)		gdb_target=convex ;;
a147 1
# OBSOLETE m68*-altos-*)	gdb_target=altos ;;
a252 2
# OBSOLETE pyramid-*-*)		gdb_target=pyramid ;;

a286 2

# OBSOLETE tahoe-*-*)		gdb_target=tahoe ;;
@


1.16
log
@* configure.tgt (hppa*-*-bsd*, hppa*-*-osf*, m68*-*-sunos4*,
rs6000-*-lynxos*, sparc-*-sunos4*): Add gdbserver to configdirs.
@
text
@d266 4
a269 1
sh-*-*)			gdb_target=sh ;;
@


1.15
log
@* gdbserver/low-hppabsd.c (buf2, environ, quit, quit_flag):
Removed unused variables and declarations.
* gdbserver/low-linux.c (buf2, environ, query, quit, quit_flag):
Likewise.
* gdbserver/low-nbsd.c (buf2, environ, quit, quit_flag):
Likewise.
* gdbserver/low-sparc.c (buf2, environ, query, quit, quit_flag):
Likewise.
* gdbserver/low-sun.c (buf2, environ, query, quit, quit_flag):
Likewise.

* gdbserver/low-hppabsd.c, gdbserver/low-linux.c,
gdbserver/low-nbsd.c, gdbserver/low-sparc.c, gdbserver/low-sun3.c
(create_inferior): Update comment.

* gdbserver/low-nbsd.c (initialize_arch, fetch_inferior_registers,
store_inferior_registers): Provide implementations for the m68k
and ns32k.
* config/m68k/nbsd.mt (GDBSERVER_DEPFILES): Add low-nbsd.o
* config/ns32k/nbsd.mt (GDBSERVER_DEPFILES): Likewise.
* configure.tgt (m68*-*-netbsd*, ns32k-*-netbsd*): Add gdbserver
to configdirs.
-------------------------------------------------------------------
@
text
@d79 2
a80 1
hppa*-*-bsd*)		gdb_target=hppabsd ;;
d85 2
a86 1
hppa*-*-osf*)		gdb_target=hppaosf ;;
d176 2
a177 1
m68*-*-sunos4*)		gdb_target=sun3os4 ;;
d260 2
a261 1
rs6000-*-lynxos*)	gdb_target=rs6000lynx ;;
d276 2
a277 1
sparc-*-sunos4*)	gdb_target=sun4os4 ;;
@


1.14
log
@Add support for configuring an xscale atrget
@
text
@d170 2
a171 1
m68*-*-netbsd*)		gdb_target=nbsd ;;
d226 2
a227 1
ns32k-*-netbsd*)	gdb_target=nbsd ;;
@


1.13
log
@From 2000-06-25 Stephane Carrez <Stephane.Carrez@@worldnet.fr>:
* configure.tgt: Recognize the 68hc11.
* m68hc11-tdep.c: New file for 68hc11 target.
* config/m68hc11/m68hc11.mt: New file for 68hc11 port.

* configure.tgt: When 68hc11, set gdb_multi_arch.
@
text
@d29 1
d61 3
@


1.12
log
@        * configure.host (hppa*64*): Renamed from hppa2.0w per
        gcc/binutils changes.
        * configure.tgt: Similarly.
@
text
@d20 1
d137 2
d305 6
@


1.11
log
@* configure.tgt: Add pattern for i[3456]86-*-netbsdelf*.
* config/i386/nbsdelf.mt: New file.
* config/i386/tm-nbsdelf.h: New file.

* config/i386/tm-nbsd.h: change include of tm-nbsd.h to
the more explicit config/tm-nbsd.h.
@
text
@d76 1
a76 1
hppa2.0w-*-hpux11*)	gdb_target=hppa64 ;;
@


1.10
log
@* configure.host, configure.tgt (alpha*-*-freebsd*): New entry.
@
text
@d91 2
@


1.9
log
@* config/i386/nbsd.mt (TDEPFILES): Move solib.o from here...
* config/i386/nbsd.mh (NATDEPFILES): ...to here.
* config/m68k/nbsd.mt (TDEPFILES): Move solib.o from here...
* config/m68k/nbsd.mh (NATDEPFILES): ...to here.
* config/ns32k/nbsd.mt (TDEPFILES): Move solib.o from here...
* config/ns32k/nbsd.mh (NATDEPFILES): ...to here.

* config/powerpc/nbsd.mt (GDBSERVER_DEPFILES): Add low-nbsd.o.
* configure.tgt (powerpc-*-netbsd*): add gdbserver to configdirs.
* gdbserver/low-nbsd.c (initialize_arch): Define for PPC.
(fetch_inferior_registers): Likewise.
(store_inferior_registers): Likewise.

* gdbserver/low-nbsd.c (fetch_inferior_registers): Handle X86
floating point registers.
(store_inferior_registers): Likewise.
-------------------------------------------------------------------
@
text
@d49 1
@


1.8
log
@* configure.host, configure.tgt (powerpc-*-netbsd*): New entry.
* config/powerpc/nbsd.mh, config/powerpc/nbsd.mt,
config/powerpc/tm-nbsd.h, config/powerpc/nm-nbsd.h,
config/powerpc/xm-nbsd.h: New files.
@
text
@d220 2
a221 1
powerpc-*-netbsd*)	gdb_target=nbsd ;;
@


1.7
log
@	Remove obsolete Gould configuration:
	* configure.host, configure.tgt: Remove Gould configs.
	* Makefile.in: Remove Gould-related actions.
	* gould-xdep.c, gould-tdep.c, config/gould/*: Remove files.
	* NEWS: Mention removal.
@
text
@d220 1
@


1.6
log
@Changes to support core files and linux threads.

2000-04-20  Scott Bambrough <scottb@@netwinder.org>

	* arm-linux-nat.c (PIDGET, TIDGET): New.
	(get_thread_id, GET_THREAD_ID): New.
	(fetch_nwfpe_register, store_nwfpe_register): New.
	(fetch_register, store_register): New.
	(fetch_fpregister, store_fpregister): New.
	(fill_gregset, supply_gregset): New.
	(fill_fpregset, supply_fpregset): New.
	(fetch_fpregs): Modified to use thread id's.
	(store_fpregs): Modified to use thread id's and
	fetch_nwfpe_register.
	(fetch_regs): Modified to use thread id's.
	(store_regs): Modified to use thread id's.
	(fetch_inferior_registers): Modified to handle single register
	fetches.
	(store_inferior_registers): Modified to handle single register
	stores.
	(arm_linux_register_u_addr): Removed.

	* configure.tgt: Added gdbserver to configdirs for arm*-*-linux*.

	* config/arm/linux.mh
	(NATDEPFILES): Removed core-aout.o.  Added core-regset.o.
	(LOADLIBES): Define.

	* config/arm/nm-linux.h: Include config/nm-linux.h.
	(ATTACH_DETACH): Removed.  Defined in config/nm-linux.h.
	(REGISTER_U_ADDR): Removed.
	(SVR4_SHARED_LIBS): Removed.  Defined in config/nm-linux.h.
	(#include "solib.h"): Removed.  Included via config/nm-linux.h.
@
text
@a22 1
# OBSOLETE np1)			gdb_target_cpu=gould ;;
a23 1
# OBSOLETE pn)			gdb_target_cpu=gould ;;
a213 2
# OBSOLETE np1-*-*)		gdb_target=np1 ;;

a217 2

# OBSOLETE pn-*-*)			gdb_target=pn ;;
@


1.5
log
@IA-64 changes.
@
text
@d55 3
a57 1
arm*-*-linux*)		gdb_target=linux ;;
@


1.5.2.1
log
@Changes to support core files and linux threads.

2000-04-20  Scott Bambrough <scottb@@netwinder.org>

	* arm-linux-nat.c (PIDGET, TIDGET): New.
	(get_thread_id, GET_THREAD_ID): New.
	(fetch_nwfpe_register, store_nwfpe_register): New.
	(fetch_register, store_register): New.
	(fetch_fpregister, store_fpregister): New.
	(fill_gregset, supply_gregset): New.
	(fill_fpregset, supply_fpregset): New.
	(fetch_fpregs): Modified to use thread id's.
	(store_fpregs): Modified to use thread id's and
	fetch_nwfpe_register.
	(fetch_regs): Modified to use thread id's.
	(store_regs): Modified to use thread id's.
	(fetch_inferior_registers): Modified to handle single register
	fetches.
	(store_inferior_registers): Modified to handle single register
	stores.
	(arm_linux_register_u_addr): Removed.

	* configure.tgt: Added gdbserver to configdirs for arm*-*-linux*.

	* config/arm/linux.mh
	(NATDEPFILES): Removed core-aout.o.  Added core-regset.o.
	(LOADLIBES): Define.

	* config/arm/nm-linux.h: Include config/nm-linux.h.
	(ATTACH_DETACH): Removed.  Defined in config/nm-linux.h.
	(REGISTER_U_ADDR): Removed.
	(SVR4_SHARED_LIBS): Removed.  Defined in config/nm-linux.h.
	(#include "solib.h"): Removed.  Included via config/nm-linux.h.
@
text
@d55 1
a55 3
arm*-*-linux*)		gdb_target=linux 
			configdirs="$configdirs gdbserver"
			;;
@


1.5.2.2
log
@	Remove obsolete Gould configuration:
	* configure.host, configure.tgt: Remove Gould configs.
	* Makefile.in: Remove Gould-related actions.
	* gould-xdep.c, gould-tdep.c, config/gould/*: Remove files.
	* NEWS: Mention removal.
@
text
@d23 1
d25 1
d216 2
d222 2
@


1.4
log
@* configure.tgt: Add arm, mips, sh wince targets.
* config/arm/tm-wince.h: New file.
* config/arm/wince.mt New file.
* config/sh/tm-wince.h: New file.
* config/sh/wince.mt New file.
* config/mips/tm-wince.h: New file.
* config/mips/wince.mt New file.
* wince.c: New file.
* wince-stub.c: New file.
* wince-stub.h: New file.
* sh-tdep.c: Use correct register names for Windows CE.
@
text
@d129 2
@


1.3
log
@Changes for GNU/Linux PPC native port.
@
text
@d54 1
d175 1
a175 1
mips*-*-pe)		gdb_target=mips-pe ;;
d249 1
@


1.2
log
@2000-02-10  J.T. Conklin  <jtc@@redback.com>

	* config/i386/nbsd.mt (GDBSERVER_DEPFILES): Add low-nbsd.o
	* configure.tgt (i[3456]86-*-netbsd*): add gdbserver to
 	configdirs.
	* gdbserver/low-nbsd.c: New file.

	* gdbserver/Makefile.in: convert to autoconf.
	* gdbserver/configure.in: likewise.
	* gdbserver/configure: generate.
@
text
@d227 1
a227 1
powerpc-*-eabi* | powerpc-*-linux* | powerpc-*-sysv* | powerpc-*-elf*)
d239 1
@


1.1
log
@Initial revision
@
text
@d16 2
a17 1
c[12])			gdb_target_cpu=convex ;;
d26 1
a26 1
pyramid)		gdb_target_cpu=pyr ;;
d54 7
a60 14
arm-*-* | thumb-*-* | strongarm-*-*)	gdb_target=arm

			# rdi doesn't work for wingdb yet
			case $gdb_host in
			windows) ;;
			*)
			    configdirs="$configdirs rdi-share"
			    CONFIG_OBS="$CONFIG_OBS remote-rdi.o rdi-share/libangsd.a"
			    ;;
			esac
			;;

c1-*-*)			gdb_target=convex ;;
c2-*-*)			gdb_target=convex ;;
a67 1
sh-*-*)			gdb_target=sh ;;
d71 1
d74 1
d83 3
a85 3
i[3456]86-*-aout*)	gdb_target=i386aout ;;
i[3456]86-*-coff*)	gdb_target=i386v ;;
i[3456]86-*-elf*)	gdb_target=i386v ;;
d89 2
a90 1
i[3456]86-*-netbsd*)	gdb_target=nbsd ;;
d93 1
d98 1
a98 2
i[3456]86-*-sysv4.2MP)	gdb_target=i386v42mp ;;
i[3456]86-*-sysv4.2uw2*)	gdb_target=i386v42mp ;;
d100 1
d118 2
a124 1

d137 1
a137 1
m68*-altos-*)		gdb_target=altos ;;
d169 1
d174 1
d177 2
d239 1
d241 1
a241 1
pyramid-*-*)		gdb_target=pyramid ;;
d247 2
d272 1
a272 1
tahoe-*-*)		gdb_target=tahoe ;;
d274 2
d283 5
d295 1
@


1.1.1.1
log
@Initial creation of sourceware repository
@
text
@@


1.1.1.2
log
@import gdb-19990422 snapshot
@
text
@d53 11
a63 2
arm-*-* | thumb-*-* | strongarm-*-*)
			gdb_target=arm ;;
a96 1
i[3456]86-*-msdosdjgpp*) gdb_target=go32 ;;
d101 2
a102 1
i[3456]86-*-sysv4.2*)	gdb_target=i386v42mp ;;
a103 1
i[3456]86-*-sysv5*)	gdb_target=i386v42mp ;;
a120 1

d126 1
a268 2
tic80-*-*)		gdb_target=tic80
			configdirs="${configdirs} gdbserver" ;;
@


1.1.1.3
log
@import gdb-1999-06-07 snapshot
@
text
@d65 2
a235 2
sh-*-*)			gdb_target=sh ;;

a269 5
			case ${gdb_host} in
			cygwin*)
				CONFIG_OBS="${CONFIG_OBS} v850ice.o" ;;
			* ) ;;
			esac
@


1.1.1.4
log
@import gdb-1999-06-28 snapshot
@
text
@d16 1
a16 1
# OBSOLETE c[12])		gdb_target_cpu=convex ;;
d56 2
a57 2
# OBSOLETE c1-*-*)		gdb_target=convex ;;
# OBSOLETE c2-*-*)		gdb_target=convex ;;
d129 1
a129 1
# OBSOLETE m68*-altos-*)	gdb_target=altos ;;
@


1.1.1.5
log
@import gdb-1999-07-07 pre reformat
@
text
@d25 1
a25 1
# OBSOLETE pyramid)		gdb_target_cpu=pyr ;;
d228 1
a228 1
# OBSOLETE pyramid-*-*)		gdb_target=pyramid ;;
@


1.1.1.6
log
@import gdb-1999-07-12 snapshot
@
text
@d55 1
@


1.1.1.7
log
@import gdb-1999-07-19 snapshot
@
text
@a65 1

a67 1
hppa2.0w-*-hpux11*)	gdb_target=hppa64 ;;
a109 1
i[3456]86-*-vxworks*)	gdb_target=vxworks ;;
a225 1
powerpc-*-vxworks*)	gdb_target=vxworks ;;
@


1.1.1.8
log
@import gdb-1999-08-09 snapshot
@
text
@a162 1
mcore*-*-*)		gdb_target=mcore ;;
@


1.1.1.9
log
@import gdb-1999-08-16 snapshot
@
text
@d54 1
a54 3
			gdb_target=arm 
                        configdirs="$configdirs rdi-share"
                        ;;
d78 3
a80 3
i[3456]86-*-aout*)	gdb_target=embed ;;
i[3456]86-*-coff*)	gdb_target=embed ;;
i[3456]86-*-elf*)	gdb_target=embed ;;
@


1.1.1.10
log
@import gdb-1999-08-30 snapshot
@
text
@d265 1
a265 1
# OBSOLETE tahoe-*-*)		gdb_target=tahoe ;;
@


1.1.1.11
log
@import gdb-1999-10-04 snapshot
@
text
@a287 1

@


1.1.1.12
log
@import gdb-1999-12-06 snapshot
@
text
@a171 2
mips64*vr4xxx*el-*-elf*)gdb_target=vr4xxxel ;;
mips64*vr4xxx*-*-elf*)	gdb_target=vr4xxx ;;
@


1.1.1.13
log
@import gdb-1999-12-21 snapshot
@
text
@a15 1
arm*)			gdb_target_cpu=arm ;;
d53 2
a54 3
arm*-*-linux*)		gdb_target=linux ;;
arm*-*-* | thumb*-*-* | strongarm*-*-*)
			gdb_target=embed
@


1.1.1.14
log
@import gdb-2000-01-10 snapshot
@
text
@a171 1
mips*-*-pe)		gdb_target=mips-pe ;;
@


1.1.1.15
log
@import gdb-2000-01-24 snapshot
@
text
@a67 1

@
