head	1.6;
access;
symbols
	newlib-2_2_0:1.6.0.58
	newlib-2_1_0:1.6
	binutils-2_24-branch:1.6.0.56
	binutils-2_24-branchpoint:1.6
	gdb_7_6-branch:1.6.0.54
	gdb_7_6-2013-03-12-branchpoint:1.6
	newlib-2_0_0:1.6
	binutils-2_23-branch:1.6.0.52
	binutils-2_23-branchpoint:1.6
	gdb_7_5-branch:1.6.0.50
	gdb_7_5-2012-07-18-branchpoint:1.6
	newlib-1_20_0:1.6
	gdb_7_4-branch:1.6.0.48
	gdb_7_4-2011-12-13-branchpoint:1.6
	binutils-2_22-branch:1.6.0.46
	binutils-2_22-branchpoint:1.6
	gdb_7_3-branch:1.6.0.44
	gdb_7_3-2011-04-01-branchpoint:1.6
	newlib-1_19_0:1.6
	binutils-2_21-branch:1.6.0.42
	binutils-2_21-branchpoint:1.6
	gdb_7_2-branch:1.6.0.40
	gdb_7_2-2010-07-07-branchpoint:1.6
	gdb_7_1-branch:1.6.0.38
	gdb_7_1-2010-02-18-branchpoint:1.6
	newlib-1_18_0:1.6
	gdb_7_0-branch:1.6.0.36
	gdb_7_0-2009-09-16-branchpoint:1.6
	binutils-arc-20081103-branch:1.6.0.34
	binutils-arc-20081103-branchpoint:1.6
	newlib-1_17_0-arc:1.6.0.32
	binutils-2_20-branch:1.6.0.30
	binutils-2_20-branchpoint:1.6
	binutils-arc-20080908-branch:1.6.0.28
	binutils-arc-20080908-branchpoint:1.6
	newlib-1_17_0:1.6
	binutils-2_19-branch:1.6.0.26
	binutils-2_19-branchpoint:1.6
	gdb_6_8-branch:1.6.0.24
	gdb_6_8-2008-02-26-branchpoint:1.6
	newlib-1_16_0:1.6
	gdb_6_7-branch:1.6.0.22
	gdb_6_7-2007-09-07-branchpoint:1.6
	binutils-2_18-branch:1.6.0.20
	binutils-2_18-branchpoint:1.6
	insight_6_6-20070208-release:1.6
	newlib-1_15_0:1.6
	gdb_6_6-branch:1.6.0.18
	gdb_6_6-2006-11-15-branchpoint:1.6
	insight_6_5-20061003-release:1.6
	nickrob-async-20060828-mergepoint:1.6
	gdb_6_5-branch:1.6.0.16
	gdb_6_5-2006-05-14-branchpoint:1.6
	nickrob-async-20060513-branch:1.6.0.14
	nickrob-async-20060513-branchpoint:1.6
	readline_5_1-import-branch:1.6.0.12
	readline_5_1-import-branchpoint:1.6
	binutils-2_17-branch:1.6.0.10
	binutils-2_17-branchpoint:1.6
	newlib-1_14_0:1.6
	gdb_6_4-branch:1.6.0.8
	gdb_6_4-2005-11-01-branchpoint:1.6
	csl-arm-20050325-branch:1.6.0.6
	csl-arm-20050325-branchpoint:1.6
	binutils-csl-arm-2005q1-branch:1.6.0.4
	binutils-csl-arm-2005q1-branchpoint:1.6
	binutils-2_16-branch:1.6.0.2
	binutils-2_16-branchpoint:1.6
	csl-arm-2004-q3d:1.5
	gdb_6_3-20041109-release:1.5
	jimb-rda-nptl-branch:1.5.0.28
	jimb-rda-nptl-branchpoint:1.5
	gdb_6_3-branch:1.5.0.24
	gdb_6_3-20041019-branchpoint:1.5
	csl-arm-2004-q3:1.5
	drow_intercu-merge-20040921:1.5
	drow_intercu-merge-20040915:1.5
	jimb-gdb_6_2-e500-branch:1.5.0.26
	jimb-gdb_6_2-e500-branchpoint:1.5
	gdb_6_2-20040730-release:1.5
	gdb_6_2-branch:1.5.0.22
	gdb_6_2-2004-07-10-gmt-branchpoint:1.5
	gdb_6_1_1-20040616-release:1.5
	binutils-2_15:1.5
	binutils-2_15-branchpoint:1.5
	csl-arm-2004-q1a:1.5
	csl-arm-2004-q1:1.5
	gdb_6_1-2004-04-05-release:1.5
	drow_intercu-merge-20040402:1.5
	drow_intercu-merge-20040327:1.5
	ezannoni_pie-20040323-branch:1.5.0.20
	ezannoni_pie-20040323-branchpoint:1.5
	cagney_tramp-20040321-mergepoint:1.5
	cagney_tramp-20040309-branch:1.5.0.18
	cagney_tramp-20040309-branchpoint:1.5
	gdb_6_1-branch:1.5.0.16
	gdb_6_1-2004-03-01-gmt-branchpoint:1.5
	drow_intercu-20040221-branch:1.5.0.14
	drow_intercu-20040221-branchpoint:1.5
	binutils-2_15-branch:1.5.0.12
	cagney_bfdfile-20040213-branch:1.5.0.10
	cagney_bfdfile-20040213-branchpoint:1.5
	drow-cplus-merge-20040208:1.5
	newlib-1_12_0:1.5
	carlton_dictionary-20040126-merge:1.5
	cagney_bigcore-20040122-branch:1.5.0.8
	cagney_bigcore-20040122-branchpoint:1.5
	drow-cplus-merge-20040113:1.5
	csl-arm-2003-q4:1.5
	drow-cplus-merge-20031224:1.5
	drow-cplus-merge-20031220:1.5
	carlton_dictionary-20031215-merge:1.5
	drow-cplus-merge-20031214:1.5
	carlton-dictionary-20031111-merge:1.5
	gdb_6_0-2003-10-04-release:1.4
	kettenis_sparc-20030918-branch:1.5.0.6
	kettenis_sparc-20030918-branchpoint:1.5
	carlton_dictionary-20030917-merge:1.5
	ezannoni_pie-20030916-branchpoint:1.5
	ezannoni_pie-20030916-branch:1.5.0.4
	cagney_x86i386-20030821-branch:1.5.0.2
	cagney_x86i386-20030821-branchpoint:1.5
	carlton_dictionary-20030805-merge:1.5
	carlton_dictionary-20030627-merge:1.4
	gdb_6_0-branch:1.4.0.34
	gdb_6_0-2003-06-23-branchpoint:1.4
	jimb-ppc64-linux-20030613-branch:1.4.0.32
	jimb-ppc64-linux-20030613-branchpoint:1.4
	binutils-2_14:1.4
	cagney_convert-20030606-branch:1.4.0.30
	cagney_convert-20030606-branchpoint:1.4
	cagney_writestrings-20030508-branch:1.4.0.28
	cagney_writestrings-20030508-branchpoint:1.4
	jimb-ppc64-linux-20030528-branch:1.4.0.26
	jimb-ppc64-linux-20030528-branchpoint:1.4
	carlton_dictionary-20030523-merge:1.4
	cagney_fileio-20030521-branch:1.4.0.24
	cagney_fileio-20030521-branchpoint:1.4
	kettenis_i386newframe-20030517-mergepoint:1.4
	jimb-ppc64-linux-20030509-branch:1.4.0.22
	jimb-ppc64-linux-20030509-branchpoint:1.4
	kettenis_i386newframe-20030504-mergepoint:1.4
	carlton_dictionary-20030430-merge:1.4
	binutils-2_14-branch:1.4.0.20
	binutils-2_14-branchpoint:1.4
	kettenis_i386newframe-20030419-branch:1.4.0.18
	kettenis_i386newframe-20030419-branchpoint:1.4
	carlton_dictionary-20030416-merge:1.4
	cagney_frameaddr-20030409-mergepoint:1.4
	kettenis_i386newframe-20030406-branch:1.4.0.16
	kettenis_i386newframe-20030406-branchpoint:1.4
	cagney_frameaddr-20030403-branchpoint:1.4
	cagney_frameaddr-20030403-branch:1.4.0.14
	cagney_framebase-20030330-mergepoint:1.4
	cagney_framebase-20030326-branch:1.4.0.12
	cagney_framebase-20030326-branchpoint:1.4
	cagney_lazyid-20030317-branch:1.4.0.10
	cagney_lazyid-20030317-branchpoint:1.4
	kettenis-i386newframe-20030316-mergepoint:1.4
	offbyone-20030313-branch:1.4.0.8
	offbyone-20030313-branchpoint:1.4
	kettenis-i386newframe-20030308-branch:1.4.0.6
	kettenis-i386newframe-20030308-branchpoint:1.4
	carlton_dictionary-20030305-merge:1.4
	cagney_offbyone-20030303-branch:1.4.0.4
	cagney_offbyone-20030303-branchpoint:1.4
	w32api-2_2:1.4
	mingw-runtime-2_4:1.4
	carlton_dictionary-20030207-merge:1.4
	interps-20030202-branch:1.4.0.2
	interps-20030202-branchpoint:1.4
	cagney-unwind-20030108-branch:1.3.0.34
	cagney-unwind-20030108-branchpoint:1.3
	binutils-2_13_2_1:1.3
	binutils-2_13_2:1.3
	carlton_dictionary-20021223-merge:1.3
	newlib-1_11_0:1.3
	gdb_5_3-2002-12-12-release:1.3
	carlton_dictionary-20021115-merge:1.3
	binutils-2_13_1:1.3
	kseitz_interps-20021105-merge:1.3
	kseitz_interps-20021103-merge:1.3
	drow-cplus-merge-20021020:1.3
	drow-cplus-merge-20021025:1.3
	carlton_dictionary-20021025-merge:1.3
	carlton_dictionary-20021011-merge:1.3
	drow-cplus-branch:1.3.0.32
	drow-cplus-branchpoint:1.3
	kseitz_interps-20020930-merge:1.3
	carlton_dictionary-20020927-merge:1.3
	tcltk840-20020924-branch:1.3.0.30
	tcltk840-20020924-branchpoint:1.3
	carlton_dictionary-branch:1.3.0.28
	carlton_dictionary-20020920-branchpoint:1.3
	sid-20020905-branchpoint:1.3
	sid-20020905-branch:1.3.0.26
	gdb_5_3-branch:1.3.0.24
	gdb_5_3-2002-09-04-branchpoint:1.3
	kseitz_interps-20020829-merge:1.3
	cagney_sysregs-20020825-branch:1.3.0.22
	cagney_sysregs-20020825-branchpoint:1.3
	readline_4_3-import-branch:1.3.0.20
	readline_4_3-import-branchpoint:1.3
	binutils-2_13:1.3
	gdb_5_2_1-2002-07-23-release:1.3
	binutils-2_13-branchpoint:1.3
	binutils-2_13-branch:1.3.0.18
	kseitz_interps-20020528-branch:1.3.0.16
	kseitz_interps-20020528-branchpoint:1.3
	cagney_regbuf-20020515-branch:1.3.0.14
	cagney_regbuf-20020515-branchpoint:1.3
	binutils-2_12_1:1.3
	jimb-macro-020506-branch:1.3.0.12
	jimb-macro-020506-branchpoint:1.3
	gdb_5_2-2002-04-29-release:1.3
	binutils-2_12:1.3
	gdb_5_2-branch:1.3.0.10
	gdb_5_2-2002-03-03-branchpoint:1.3
	binutils-2_12-branch:1.3.0.8
	binutils-2_12-branchpoint:1.3
	gdb_5_1_1-2002-01-24-release:1.3
	gdb_5_1_0_1-2002-01-03-release:1.3
	cygnus_cvs_20020108_pre:1.3
	gdb_5_1_0_1-2002-01-03-branch:1.3.0.6
	gdb_5_1_0_1-2002-01-03-branchpoint:1.3
	newlib-1_10_0:1.3
	gdb_5_1-2001-11-21-release:1.3
	gdb_s390-2001-09-26-branch:1.3.0.4
	gdb_s390-2001-09-26-branchpoint:1.3
	gdb_5_1-2001-07-29-branch:1.3.0.2
	gdb_5_1-2001-07-29-branchpoint:1.3
	binutils-2_11_2:1.2
	binutils-2_11_1:1.2
	binutils-2_11:1.2
	x86_64versiong3:1.2
	binutils-2_11-branch:1.2.0.2
	insight-precleanup-2001-01-01:1.2
	newlib-1_9_0:1.2
	binutils-2_10_1:1.1.1.1
	binutils-2_10:1.1.1.1
	gdb-premipsmulti-2000-06-06-branch:1.1.1.1.0.6
	gdb-premipsmulti-2000-06-06-branchpoint:1.1.1.1
	gdb_5_0-2000-05-19-release:1.1.1.1
	gdb_4_18_2-2000-05-18-release:1.1.1.1
	cygwin-1_1_1:1.1.1.1
	gdb_4_95_1-2000-05-11-snapshot:1.1.1.1
	gdb_4_95_0-2000-04-27-snapshot:1.1.1.1
	gdb_5_0-2000-04-10-branch:1.1.1.1.0.4
	gdb_5_0-2000-04-10-branchpoint:1.1.1.1
	binutils-2_10-branch:1.1.1.1.0.2
	binutils-2_10-branchpoint:1.1.1.1
	binutils_latest_snapshot:1.5
	repo-unification-2000-02-06:1.1.1.1
	binu_ss_19990721:1.1.1.1
	binu_ss_19990602:1.1.1.1
	binu_ss_19990502:1.1.1.1
	cygnus:1.1.1;
locks; strict;
comment	@# @;


1.6
date	2004.12.03.10.30.05;	author rsandifo;	state dead;
branches;
next	1.5;

1.5
date	2003.07.16.06.35.35;	author neroden;	state Exp;
branches;
next	1.4;

1.4
date	2003.01.30.11.59.17;	author aoliva;	state Exp;
branches;
next	1.3;

1.3
date	2001.05.14.16.40.49;	author hjl;	state Exp;
branches
	1.3.28.1
	1.3.32.1;
next	1.2;

1.2
date	2000.07.22.08.20.10;	author jason;	state Exp;
branches;
next	1.1;

1.1
date	99.05.03.07.28.40;	author rth;	state Exp;
branches
	1.1.1.1;
next	;

1.3.28.1
date	2003.02.07.19.17.34;	author carlton;	state Exp;
branches;
next	1.3.28.2;

1.3.28.2
date	2003.08.05.17.12.41;	author carlton;	state Exp;
branches;
next	;

1.3.32.1
date	2003.12.14.20.26.31;	author drow;	state Exp;
branches;
next	;

1.1.1.1
date	99.05.03.07.28.40;	author rth;	state Exp;
branches;
next	;


desc
@@


1.6
log
@Remove config.if.
@
text
@#! /dev/null
# Don't call it directly. This shell script fragment is called to
# determine:
#
#	1. libstcxx_incdir: the interface name for libstdc++.
#

# Get the top level src dir.
if [ -z "${topsrcdir}" -a -z "${top_srcdir}" ]
then
  echo "Undefined top level src dir: topsrcdir and top_srcdir are empty" >&2
  exit 1
fi

if [ -n "${topsrcdir}" ]
then
  if_topsrcdir=${topsrcdir}
else
  if_topsrcdir=${top_srcdir}
fi

# Set libstdcxx_incdir.
# This is the same as gcc/configure.in and libstdc++-v3/acinclude.m4. 
if test -z "$gcc_version"; then
  if test -z "${gcc_version_trigger}" \
     && test -f ${if_topsrcdir}/gcc/version.c; then
    gcc_version_trigger=${if_topsrcdir}/gcc/version.c
  fi    
  if test -f "${gcc_version_trigger}"; then
    gcc_version_full=`grep version_string "${gcc_version_trigger}" | sed -e 's/.*"\([^"]*\)".*/\1/'`
  else
    gcc_version_full=`$CC -v 2>&1 | sed -n 's/^gcc version //p'`
  fi
  gcc_version=`echo ${gcc_version_full} | sed -e 's/\([^ ]*\) .*/\1/'`
fi
libstdcxx_incdir=c++/${gcc_version}

@


1.5
log
@	* config.if: Remove unused libc_interface determination.
@
text
@@


1.4
log
@* config.if: Copy from GCC.
@
text
@a5 1
#	2. libc_interface: the interface name for libc.
a37 50
# The trickiest part is libc_interface.
if [ -z "${libc_interface}" ]
then
  case ${target_os} in
  *linux*libc1*|*linux*libc5*)
    case ${target_alias} in
    *alpha*|*powerpc*)
      libc_interface=-libc5.9-
      ;;
    *)
      libc_interface=-libc5-
      ;;
    esac
    ;;
  *linux*gnu*)
    # We have to work harder to figure it out.
    if [ ${target_alias} = ${build_alias} ]
    then
      dummy=if$$
      cat >$dummy.c <<EOF
#include <features.h>                      
main(argc, argv)
     int argc;          
     char *argv[];
{
  printf("%d\n", __GLIBC_MINOR__);
  return 0;
}
EOF
      ${CC-cc} $dummy.c -o $dummy 2>/dev/null
      if [ "$?" = 0 ]
      then
	libc_interface=-libc6.`./$dummy`-
	rm -f $dummy.c $dummy
      else
	# It should never happen.
	echo "Cannot find the GNU C library minor version number." >&2
	rm -f $dummy.c $dummy
	exit 1
      fi
    else
      # Cross compiling. Assume glibc 2.1.
      libc_interface=-libc6.1-
    fi
    ;;
  *)
    libc_interface=-
    ;;
  esac
fi
@


1.3
log
@2001-05-14  H.J. Lu <hjl@@gnu.org>

	* config.if (libc_interface): Set to -libc6.2- for cross
	compiling to Linux/glibc 2.2.
@
text
@d5 2
a6 3
#	1. libstcxx_interface: the interface name for libstdc++.
#	2. cxx_interface: the interface name for c++.
#	3. libc_interface: the interface name for libc.
d23 13
a35 18
if [ "${enable_libstdcxx_v3}" = "yes" ] ; then
  libstdcxx_srcdir=${if_topsrcdir}/libstdc++-v3
else
  libstdcxx_srcdir=${if_topsrcdir}/libstdc++
fi

if [ -f ${libstdcxx_srcdir}/Makefile.in ]; then
# We check libstdc++ for libstdcxx_interface.
libstdcxx_interface=`grep "^INTERFACE" ${libstdcxx_srcdir}/Makefile.in | sed 's/INTERFACE[ 	]*=[ 	]*\(.*\)/\1/'`
else
libstdcxx_interface=
fi

if [ -f ${if_topsrcdir}/gcc/cp/Makefile.in ]; then
# We check gcc/cp for cxx_interface.
cxx_interface=`grep "^INTERFACE" ${if_topsrcdir}/gcc/cp/Makefile.in | sed 's/INTERFACE[ 	]*=[ 	]*\(.*\)/\1/'`
else
cxx_interface=
d37 1
d80 2
a81 2
      # Cross compiling. Assume glibc 2.2.
      libc_interface=-libc6.2-
@


1.3.32.1
log
@Merge drow-cplus-branch to:
  cvs rtag -D 2003-12-14 00:00:00 UTC drow-cplus-merge-20031214 gdb+dejagnu
@
text
@d5 3
a7 1
#	1. libstcxx_incdir: the interface name for libstdc++.
d24 4
a27 13
# Set libstdcxx_incdir.
# This is the same as gcc/configure.in and libstdc++-v3/acinclude.m4. 
if test -z "$gcc_version"; then
  if test -z "${gcc_version_trigger}" \
     && test -f ${if_topsrcdir}/gcc/version.c; then
    gcc_version_trigger=${if_topsrcdir}/gcc/version.c
  fi    
  if test -f "${gcc_version_trigger}"; then
    gcc_version_full=`grep version_string "${gcc_version_trigger}" | sed -e 's/.*"\([^"]*\)".*/\1/'`
  else
    gcc_version_full=`$CC -v 2>&1 | sed -n 's/^gcc version //p'`
  fi
  gcc_version=`echo ${gcc_version_full} | sed -e 's/\([^ ]*\) .*/\1/'`
a28 1
libstdcxx_incdir=c++/${gcc_version}
d30 64
@


1.3.28.1
log
@2003-02-07  David Carlton  <carlton@@math.stanford.edu>

	* Merge with mainline; tag is carlton_dictionary-20030207-merge.
@
text
@d5 3
a7 2
#	1. libstcxx_incdir: the interface name for libstdc++.
#	2. libc_interface: the interface name for libc.
d24 18
a41 13
# Set libstdcxx_incdir.
# This is the same as gcc/configure.in and libstdc++-v3/acinclude.m4. 
if test -z "$gcc_version"; then
  if test -z "${gcc_version_trigger}" \
     && test -f ${if_topsrcdir}/gcc/version.c; then
    gcc_version_trigger=${if_topsrcdir}/gcc/version.c
  fi    
  if test -f "${gcc_version_trigger}"; then
    gcc_version_full=`grep version_string "${gcc_version_trigger}" | sed -e 's/.*"\([^"]*\)".*/\1/'`
  else
    gcc_version_full=`$CC -v 2>&1 | sed -n 's/^gcc version //p'`
  fi
  gcc_version=`echo ${gcc_version_full} | sed -e 's/\([^ ]*\) .*/\1/'`
a42 1
libstdcxx_incdir=c++/${gcc_version}
d85 2
a86 2
      # Cross compiling. Assume glibc 2.1.
      libc_interface=-libc6.1-
@


1.3.28.2
log
@2003-08-05  David Carlton  <carlton@@kealia.com>

	* configure.in (build_warnings): Delete -Wformat-nonliteral.
	* configure (build_warnings): Ditto.

	* Merge with mainline; tag is carlton_dictionary-20030805-merge.
@
text
@d6 1
d39 50
@


1.2
log
@merge with gcc
@
text
@d85 2
a86 2
      # Cross compiling. Assume glibc 2.1.
      libc_interface=-libc6.1-
@


1.1
log
@Initial revision
@
text
@d24 7
a30 1
if [ -f ${if_topsrcdir}/libstdc++/Makefile.in ]; then
d32 1
a32 1
libstdcxx_interface=`grep "^INTERFACE" ${if_topsrcdir}/libstdc++/Makefile.in | sed 's/INTERFACE[ 	]*=[ 	]*\(.*\)/\1/'`
@


1.1.1.1
log
@19990502 sourceware import
@
text
@@

