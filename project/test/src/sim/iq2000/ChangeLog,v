head	1.30;
access;
symbols
	gdb_7_6_1-2013-08-30-release:1.26.4.2
	gdb_7_6-2013-04-26-release:1.26.4.2
	gdb_7_6-branch:1.26.0.4
	gdb_7_6-2013-03-12-branchpoint:1.26
	gdb_7_5_1-2012-11-29-release:1.26
	gdb_7_5-2012-08-17-release:1.26
	gdb_7_5-branch:1.26.0.2
	gdb_7_5-2012-07-18-branchpoint:1.26
	gdb_7_4_1-2012-04-26-release:1.24
	gdb_7_4-2012-01-24-release:1.24
	gdb_7_4-branch:1.24.0.2
	gdb_7_4-2011-12-13-branchpoint:1.24
	gdb_7_3_1-2011-09-04-release:1.20
	gdb_7_3-2011-07-26-release:1.20
	gdb_7_3-branch:1.20.0.2
	gdb_7_3-2011-04-01-branchpoint:1.20
	gdb_7_2-2010-09-02-release:1.19
	gdb_7_2-branch:1.19.0.4
	gdb_7_2-2010-07-07-branchpoint:1.19
	gdb_7_1-2010-03-18-release:1.19
	gdb_7_1-branch:1.19.0.2
	gdb_7_1-2010-02-18-branchpoint:1.19
	gdb_7_0_1-2009-12-22-release:1.12
	gdb_7_0-2009-10-06-release:1.12
	gdb_7_0-branch:1.12.0.2
	gdb_7_0-2009-09-16-branchpoint:1.12
	arc-sim-20090309:1.6
	msnyder-checkpoint-072509-branch:1.10.0.2
	msnyder-checkpoint-072509-branchpoint:1.10
	arc-insight_6_8-branch:1.6.0.10
	arc-insight_6_8-branchpoint:1.6
	insight_6_8-branch:1.6.0.8
	insight_6_8-branchpoint:1.6
	reverse-20081226-branch:1.8.0.8
	reverse-20081226-branchpoint:1.8
	multiprocess-20081120-branch:1.8.0.6
	multiprocess-20081120-branchpoint:1.8
	reverse-20080930-branch:1.8.0.4
	reverse-20080930-branchpoint:1.8
	reverse-20080717-branch:1.8.0.2
	reverse-20080717-branchpoint:1.8
	msnyder-reverse-20080609-branch:1.7.0.2
	msnyder-reverse-20080609-branchpoint:1.7
	drow-reverse-20070409-branch:1.6.0.6
	drow-reverse-20070409-branchpoint:1.6
	gdb_6_8-2008-03-27-release:1.6
	gdb_6_8-branch:1.6.0.4
	gdb_6_8-2008-02-26-branchpoint:1.6
	gdb_6_7_1-2007-10-29-release:1.6
	gdb_6_7-2007-10-10-release:1.6
	gdb_6_7-branch:1.6.0.2
	gdb_6_7-2007-09-07-branchpoint:1.6
	insight_6_6-20070208-release:1.5
	gdb_6_6-2006-12-18-release:1.5
	gdb_6_6-branch:1.5.0.2
	gdb_6_6-2006-11-15-branchpoint:1.5
	insight_6_5-20061003-release:1.2
	gdb-csl-symbian-6_4_50_20060226-12:1.2
	gdb-csl-sourcerygxx-3_4_4-25:1.2
	nickrob-async-20060828-mergepoint:1.5
	gdb-csl-symbian-6_4_50_20060226-11:1.2
	gdb-csl-sourcerygxx-4_1-17:1.2
	gdb-csl-20060226-branch-local-2:1.2
	gdb-csl-sourcerygxx-4_1-14:1.2
	gdb-csl-sourcerygxx-4_1-13:1.2
	gdb-csl-sourcerygxx-4_1-12:1.2
	gdb-csl-sourcerygxx-3_4_4-21:1.2
	gdb_6_5-20060621-release:1.2
	gdb-csl-sourcerygxx-4_1-9:1.2
	gdb-csl-sourcerygxx-4_1-8:1.2
	gdb-csl-sourcerygxx-4_1-7:1.2
	gdb-csl-arm-2006q1-6:1.2
	gdb-csl-sourcerygxx-4_1-6:1.2
	gdb-csl-symbian-6_4_50_20060226-10:1.2
	gdb-csl-symbian-6_4_50_20060226-9:1.2
	gdb-csl-symbian-6_4_50_20060226-8:1.2
	gdb-csl-coldfire-4_1-11:1.2
	gdb-csl-sourcerygxx-3_4_4-19:1.2
	gdb-csl-coldfire-4_1-10:1.2
	gdb_6_5-branch:1.2.0.28
	gdb_6_5-2006-05-14-branchpoint:1.2
	gdb-csl-sourcerygxx-4_1-5:1.2
	nickrob-async-20060513-branch:1.2.0.26
	nickrob-async-20060513-branchpoint:1.2
	gdb-csl-sourcerygxx-4_1-4:1.2
	msnyder-reverse-20060502-branch:1.2.0.24
	msnyder-reverse-20060502-branchpoint:1.2
	gdb-csl-morpho-4_1-4:1.2
	gdb-csl-sourcerygxx-3_4_4-17:1.2
	readline_5_1-import-branch:1.2.0.22
	readline_5_1-import-branchpoint:1.2
	gdb-csl-20060226-branch-merge-to-csl-symbian-1:1.2
	gdb-csl-symbian-20060226-branch:1.2.0.20
	gdb-csl-symbian-20060226-branchpoint:1.2
	gdb-csl-20060226-branch-merge-to-csl-local-1:1.2
	msnyder-reverse-20060331-branch:1.2.0.18
	msnyder-reverse-20060331-branchpoint:1.2
	gdb-csl-available-20060303-branch:1.2.0.16
	gdb-csl-available-20060303-branchpoint:1.2
	gdb-csl-20060226-branch:1.2.0.14
	gdb-csl-20060226-branchpoint:1.2
	gdb_6_4-20051202-release:1.2
	msnyder-fork-checkpoint-branch:1.2.0.12
	msnyder-fork-checkpoint-branchpoint:1.2
	gdb-csl-gxxpro-6_3-branch:1.2.0.10
	gdb-csl-gxxpro-6_3-branchpoint:1.2
	gdb_6_4-branch:1.2.0.8
	gdb_6_4-2005-11-01-branchpoint:1.2
	gdb-csl-arm-20051020-branch:1.2.0.6
	gdb-csl-arm-20051020-branchpoint:1.2
	msnyder-tracepoint-checkpoint-branch:1.2.0.4
	msnyder-tracepoint-checkpoint-branchpoint:1.2
	gdb-csl-arm-20050325-2005-q1b:1.2
	gdb-csl-arm-20050325-2005-q1a:1.2
	csl-arm-20050325-branch:1.2.0.2
	csl-arm-20050325-branchpoint:1.2;
locks; strict;
comment	@# @;


1.30
date	2013.09.23.00.32.25;	author amodra;	state Exp;
branches;
next	1.29;

1.29
date	2013.06.05.01.42.12;	author vapier;	state Exp;
branches;
next	1.28;

1.28
date	2013.03.26.18.00.04;	author vapier;	state Exp;
branches;
next	1.27;

1.27
date	2013.03.23.15.06.25;	author joel;	state Exp;
branches;
next	1.26;

1.26
date	2012.06.15.17.20.01;	author brobecke;	state Exp;
branches
	1.26.4.1;
next	1.25;

1.25
date	2012.03.24.05.38.38;	author vapier;	state Exp;
branches;
next	1.24;

1.24
date	2011.12.03.18.23.46;	author vapier;	state Exp;
branches;
next	1.23;

1.23
date	2011.10.18.00.30.58;	author vapier;	state Exp;
branches;
next	1.22;

1.22
date	2011.10.18.00.17.18;	author vapier;	state Exp;
branches;
next	1.21;

1.21
date	2011.07.05.19.06.37;	author vapier;	state Exp;
branches;
next	1.20;

1.20
date	2011.02.14.05.14.27;	author vapier;	state Exp;
branches;
next	1.19;

1.19
date	2010.02.12.02.44.25;	author devans;	state Exp;
branches;
next	1.18;

1.18
date	2010.01.09.21.11.41;	author rwild;	state Exp;
branches;
next	1.17;

1.17
date	2010.01.02.19.09.20;	author devans;	state Exp;
branches;
next	1.16;

1.16
date	2010.01.01.21.45.18;	author devans;	state Exp;
branches;
next	1.15;

1.15
date	2010.01.01.21.40.50;	author devans;	state Exp;
branches;
next	1.14;

1.14
date	2009.11.23.04.12.16;	author devans;	state Exp;
branches;
next	1.13;

1.13
date	2009.11.04.05.16.32;	author devans;	state Exp;
branches;
next	1.12;

1.12
date	2009.08.22.16.56.54;	author rwild;	state Exp;
branches;
next	1.11;

1.11
date	2009.08.22.11.36.36;	author rwild;	state Exp;
branches;
next	1.10;

1.10
date	2009.07.12.16.59.34;	author devans;	state Exp;
branches;
next	1.9;

1.9
date	2009.07.08.05.38.01;	author devans;	state Exp;
branches;
next	1.8;

1.8
date	2008.07.11.02.36.53;	author hp;	state Exp;
branches;
next	1.7;

1.7
date	2008.06.07.01.31.26;	author jsm28;	state Exp;
branches;
next	1.6;

1.6
date	2006.12.21.04.38.46;	author hp;	state Exp;
branches;
next	1.5;

1.5
date	2006.06.13.08.06.48;	author rearnsha;	state Exp;
branches;
next	1.4;

1.4
date	2006.06.05.14.21.12;	author drow;	state Exp;
branches;
next	1.3;

1.3
date	2006.05.31.15.14.42;	author drow;	state Exp;
branches;
next	1.2;

1.2
date	2005.03.23.18.55.16;	author kettenis;	state Exp;
branches;
next	1.1;

1.1
date	2005.03.08.08.55.34;	author corinna;	state Exp;
branches;
next	;

1.26.4.1
date	2013.03.23.15.01.16;	author joel;	state Exp;
branches;
next	1.26.4.2;

1.26.4.2
date	2013.03.26.18.01.52;	author vapier;	state Exp;
branches;
next	;


desc
@@


1.30
log
@Regenerate sim configure files to pick up support for powerpc64le in
libtool.m4.
@
text
@2013-09-23  Alan Modra  <amodra@@gmail.com>

	* configure: Regenerate.

2013-06-03  Mike Frysinger  <vapier@@gentoo.org>

	* aclocal.m4, configure: Regenerate.

2013-03-26  Mike Frysinger  <vapier@@gentoo.org>

	* configure: Regenerate.

2013-03-23  Joel Sherrill  <joel.sherrill@@oarcorp.com>

	* configure.ac: Fail if dv-sockser.o not available.
	Error when --disable-sim-hardware is specified.
	* configure: Regenerated.

2012-06-15  Joel Brobecker  <brobecker@@adacore.com>

	* config.in, configure: Regenerate.

2012-03-24  Mike Frysinger  <vapier@@gentoo.org>

	* aclocal.m4, config.in, configure: Regenerate.

2011-12-03  Mike Frysinger  <vapier@@gentoo.org>

	* aclocal.m4: New file.
	* configure: Regenerate.

2011-10-17  Mike Frysinger  <vapier@@gentoo.org>

	* configure.ac: Change include to common/acinclude.m4.

2011-10-17  Mike Frysinger  <vapier@@gentoo.org>

	* configure.ac: Change AC_PREREQ to 2.64.  Delete AC_CONFIG_HEADER
	call.  Replace common.m4 include with SIM_AC_COMMON.
	* configure: Regenerate.

2011-07-05  Mike Frysinger  <vapier@@gentoo.org>

	* sim-if.c (sim_do_command): Delete.

2011-02-14  Mike Frysinger  <vapier@@gentoo.org>

	* iq2000.c (do_syscall): Change zfree to free.

2010-02-11  Doug Evans  <dje@@sebabeach.org>

	* cpu.h, * decode.c, * model.c, * sem-switch.c, * sem.c: Regenerate.

2010-01-09  Ralf Wildenhues  <Ralf.Wildenhues@@gmx.de>

	* configure: Regenerate.

2010-01-02  Doug Evans  <dje@@sebabeach.org>

	* arch.c, * arch.h, * cpu.c, * cpu.h, * cpuall.h, * decode.c,
	* decode.h, * model.c, * sem-switch.c, * sem.c: Regenerate, update
	copyright year.

2010-01-01  Doug Evans  <dje@@sebabeach.org>

	* mloop.in: Fix copyright year update snafu.

2009-11-22  Doug Evans  <dje@@sebabeach.org>

	* cpu.h: Regenerate.
	* cpuall.h: Regenerate.
	* decode.c: Regenerate.
	* decode.h: Regenerate.

2009-11-03  Doug Evans  <dje@@sebabeach.org>

	* arch.c: Regenerate.
	* arch.h: Regenerate.
	* cpu.c: Regenerate.
	* cpu.h: Regenerate.
	* cpuall.h: Regenerate.
	* decode.c: Regenerate.
	* decode.h: Regenerate.
	* model.c: Regenerate.
	* sem-switch.c: Regenerate.
	* sem.c: Regenerate.

2009-08-22  Ralf Wildenhues  <Ralf.Wildenhues@@gmx.de>

	* config.in: Regenerate.
	* configure: Likewise.

	* configure: Regenerate.

2009-07-12  Doug Evans  <dje@@sebabeach.org>

	* Makefile.in (stamp-arch): Use $(CPU_DIR) instead of $(CGEN_CPU_DIR).
	(stamp-cpu): Ditto.

2009-07-07  Doug Evans  <dje@@sebabeach.org>

	* Makefile.in (stamp-arch): Pass archfile to cgen-arch.
	(stamp-cpu): Pass archfile to cgen-cpu-decode.

2008-07-11  Hans-Peter Nilsson  <hp@@axis.com>

	* configure: Regenerate to track ../common/common.m4 changes.
	* config.in: Ditto.

2008-06-06  Vladimir Prus  <vladimir@@codesourcery.com>
            Daniel Jacobowitz  <dan@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* configure: Regenerate.

2006-12-21  Hans-Peter Nilsson  <hp@@axis.com>

	* acconfig.h: Remove.
	* config.in: Regenerate.

2006-06-13  Richard Earnshaw  <rearnsha@@arm.com>

	* configure: Regenerated.

2006-06-05  Daniel Jacobowitz  <dan@@codesourcery.com>

	* configure: Regenerated.

2006-05-31  Daniel Jacobowitz  <dan@@codesourcery.com>

	* configure: Regenerated.

2005-03-23  Mark Kettenis  <kettenis@@gnu.org>

	* configure: Regenerate.

2005-02-21  Corinna Vinschen  <vinschen@@redhat.com>

	* iq2000.c: Eliminate need to include gdb/sim-iq2000.h.

2005-02-18  Corinna Vinschen  <vinschen@@redhat.com>

	* configure.ac: Rename from configure.in and pull up to autoconf 2.59.
	* configure: Regenerate.

2002-03-18  Jeff Johnston  <jjohnstn@@redhat.com>

	* sem-switch.c: Regenerated.
	* sem.c: Ditto.

2002-01-28  Jeff Johnston  <jjohnstn@@redhat.com>

	* arch.c: Regenerated.
	* arch.h: Ditto.
	* cpu.c: Ditto.
	* cpu.h: Ditto.
	* cpuall.h: Ditto.
	* decode.c: Ditto.
	* decode.h: Ditto.
	* model.c: Ditto.
	* sem-switch.c: Ditto.
	* sem.c: Ditto.

2001-11-16  Jeff Johnston  <jjohnstn@@redhat.com>

	* decode.c: Regenerated after putting orui into machine-specific
	files.
	* decode.h: Ditto.
	* model.c: Ditto.
	* sem-switch.c: Ditto.
	* sem.c: Ditto.

2001-11-13  Jeff Johnston  <jjohnstn@@redhat.com>

	* cpu.h: Regenerated after changing jump and branch operands
	so that no bit masking is performed.
	* decode.c: Ditto.
	* iq2000.c (get_h_pc): Change to return h_pc directly.
	(set_h_pc): Change to always set the insn mask bit.
	* sim-if.c (iq2000bf_disassemble_insn): Change to pass the
	pc untouched.
	(sim_create_inferior): Changed so starting address is taken
	directly from link.  If not specified, start address is
	0 with insn mask set on.

2001-11-08  Jeff Johnston  <jjohnstn@@redhat.com>

	* cpu.h: Regenerated after making jump operand UINT.
	* decode.c: Ditto.

2001-10-31  Jeff Johnston  <jjohnstn@@redhat.com>

	* sem-switch.c: Regenerated after fixing lb, lbu, lh, lw,
	sb, sh, and sw insns handling of offset operand.
	* sem.c: Ditto.

2001-10-30  Jeff Johnston  <jjohnstn@@redhat.com>

	* cpu.c: Regenerated.
	* cpu.h: Ditto.
	* decode.c: Ditto.
	* sem-switch.c: Ditto.
	* sem.c: Ditto.
	* iq2000.c (get_h_pc): New routine.
	(set_h_pc): Ditto.
	(fetch_str): Translate cpu data addresses to data area.
	(do_syscall): Ditto.
	(iq2000bf_fetch_register): Use get_h_pc.
	(iq2000bf_store_register): Use set_h_pc.
	* mloop.in: Change all calls to GETIMEMxxx to use CPU2INSN
	on the pc value passed first.
	* sim-if.c (iq2000bf_disassemble_insn): New function.
	(sim_open): Add extra memory region for insn memory vs data memory.
	Also change disassembler to be iq2000bf_disassemble_insn.
	(sim_create_inferior): Translate start address using INSN2CPU macro.
	* sim-main.h (CPU2INSN, CPU2DATA, INSN2CPU, DATA2CPU): New macros
	to translate between Harvard and cpu addresses.

2001-10-26  Jeff Johnston  <jjohnstn@@redhat.com>

	* sem-switch.c: Regenerated after reverting addiu
	change.
	* sem.c: Ditto.

2001-10-25  Jeff Johnston  <jjohnstn@@redhat.com>

	* Makefile.in: Add -UHAVE_CPU_IQ10 for time-being until
	iq10 simulator merged here.
	* cpu.h: Regenerated after fixing addiu insn.
	* cpuall.h: Ditto.
	* decode.c: Ditto.
	* decode.h: Ditto.
	* model.c: Ditto.
	* sem-switch.c: Ditto.
	* sem.c: Ditto.

2001-09-12  Stan Cox  <scox@@redhat.com>

	* iq2000/{cpu.c, cpu.h, decode.c, decode.h, model.c, sem-switch.c,
	sem.c}: Regen'd.
	* iq2000.c (do_syscall): Support system traps.
	
2001-07-05  Ben Elliston  <bje@@redhat.com>

	* Makefile.in (stamp-arch): Use $(CGEN_CPU_DIR).
	(stamp-cpu): Likewise.

2001-04-02  Ben Elliston  <bje@@redhat.com>

	* arch.c, arch.h: Regnerate to track recent cgen improvements.
	* cpu.c, cpu.h, cpuall.h, decode.c, decode.h: Likewise.
	* model.c, sem-switch.c, sem.c: Likewise.

2001-01-22  Ben Elliston  <bje@@redhat.com>

	* cpu.h, decode.c, decode.h, model.c: Regenerate.
	* sem.c, sem-switch.c: Likewise.

	* arch.c, arch.h, cpu.c, cpu.h, cpuall.h: Regenerate.
	* decode.c, decode.h, model.c, sem.c, sem-switch.c: Likewise.

2000-07-05  Ben Elliston  <bje@@redhat.com>

	* configure: Regenerated to track ../common/aclocal.m4 changes.

2000-07-04  Ben Elliston  <bje@@redhat.com>

	* sem.c, sem-switch.c: Regenerate.

	* iq2000.c (do_break): Use sim_engine_halt ().
	* arch.c, decode.c, decode.h, sem.c, sem-switch.c: Regenerate.

2000-07-03  Ben Elliston  <bje@@redhat.com>

	* iq2000.c (do_syscall): Examine syscall register (nominally %11).
	(do_break): Handle breakpoints.
	* tconfig.in (SIM_HAVE_BREAKPOINTS): Define.
	(SIM_BREAKPOINT, SIM_BREAKPOINT_SIZE): Likewise.

2000-06-29  Andrew Cagney  <cagney@@redhat.com>

	* iq2000.c (iq2000bf_fetch_register): Implement.
	(iq2000bf_store_register): Ditto.

2000-05-17  Ben Elliston  <bje@@redhat.com>

	* mloop.in (extract-simple, extract-scache): Use SEM_SKIP_COMPILE
	to set the skip count for the (skip ..) rtx.
	(extract-pbb): Likewise.
	(extract-pbb): Include the delay slot instruction of all CTI
	instructions in the pbb, not just those that may nullify their
	delay slot (eg. likely branches).

	* sem.c, sem-switch.c: Regenerate.

2000-05-16  Ben Elliston  <bje@@redhat.com>

	* arch.c, cpu.c, cpu.h, decode.c, decode.h: Regenerate.
	* sem.c, sem-switch.c: Likewise.
	* mloop.in (extract-pbb): Prohibit branch instructions in the
	delay slot of branch likely instructions.

2000-05-16  Ben Elliston  <bje@@redhat.com>

	* Makefile.in: New file.
	* configure.in: Ditto.
	* acconfig.h: Ditto.
	* config.in, configure: Generate.
	* arch.c, arch.h, cpu.c, cpu.h, cpuall.h: Ditto.
	* decode.c, decode.h: Ditto.
	* model.c, sem-switch.c, sem.c: Ditto.
	* mloop.in: New file.
	* iq2000.c: Ditto.
	* iq2000-sim.h: Ditto.
	* sim-if.c: Ditto.
	* sim-main.h: Ditto.
	* tconfig.in: Ditto
@


1.29
log
@sim: use AM_MAINTAINER_MODE

I noticed the sim code is using an old implementation of the maintainer logic.
I cut it over to the new macro (like gdb has been doing).  In practice, it
makes no difference currently as nothing in the sim tree uses it, but I have a
follow up commit for the Blackfin tree that needs it.
@
text
@d1 4
@


1.28
log
@sim: rewrite SIM_AC_OPTION_HARDWARE a bit to simplify things

There's no need to put the majority of the logic into the 3rd arg of the
AC_ARG_ENABLE.  Coupled with the lack of indentation, it makes it hard to
follow, error prone to update, and duplicates code (with the 4th arg).

So pull the logic out of the 3rd arg and outside of the AC_ARG_ENABLE
macro.  This allows us to gut the 4th arg entirely, merge with the code
that followed the macro, and fix bugs related to the new dv-sockser in
the process.

Hopefully building the various sims with the default sim-hardware
settings, as well as with explicit --{dis,en}able-sim-hardware flags,
should all just work now.
@
text
@d1 4
@


1.27
log
@2013-03-23  Joel Sherrill  <joel.sherrill@@oarcorp.com>

	* configure.ac: Fail if dv-sockser.o not available.
	Error when --disable-sim-hardware is specified.
	* configure: Regenerated.
@
text
@d1 4
@


1.26
log
@Define PACKAGE macro in all sims' config.h.

Some of the common includes in include/gdb such as callback.h
include bfd.h.  But there was a recent change in bfd-in.h to
require that config.h be included before bfd.h can be included:

    /* PR 14072: Ensure that config.h is included first.  */
    #if !defined PACKAGE && !defined PACKAGE_VERSION
    #error config.h must be included before this header
    #endif

PACKAGE_VERSION is always defined by default by the AC_INIT autoconf
macro, but PACKAGE isn't.  This patch updates the SIM_AC_COMMON macro
to define it, and then regenerates all configure scripts and config.in
files.

sim/common/changeLog:

        * acinclude.m4 (SIM_AC_COMMON): Define PACKAGE.
        * config.in, configure: Regenerate.

sim/ChangeLog:

        * configure: Regenerate.

sim/arm/ChangeLog:

        * config.in, configure: Regenerate.

sim/avr/ChangeLog:

	* config.in, configure: Regenerate.

sim/bfin/ChangeLog:

	* config.in, configure: Regenerate.

sim/cr16/ChangeLog:

	* config.in, configure: Regenerate.

sim/cris/ChangeLog:

	* config.in, configure: Regenerate.

sim/d10v/ChangeLog:

	* config.in, configure: Regenerate.

sim/erc32/ChangeLog:

	* config.in, configure: Regenerate.

sim/frv/ChangeLog:

	* config.in, configure: Regenerate.

sim/h8300/ChangeLog:

	* config.in, configure: Regenerate.

sim/iq2000/ChangeLog:

	* config.in, configure: Regenerate.

sim/lm32/ChangeLog:

	* config.in, configure: Regenerate.

sim/m32c/ChangeLog:

	* config.in, configure: Regenerate.

sim/m32r/ChangeLog:

	* config.in, configure: Regenerate.

sim/m68hc11/ChangeLog:

	* config.in, configure: Regenerate.

sim/mcore/ChangeLog:

	* config.in, configure: Regenerate.

sim/microblaze/ChangeLog:

	* config.in, configure: Regenerate.

sim/mips/ChangeLog:

	* config.in, configure: Regenerate.

sim/mn10300/ChangeLog:

	* config.in, configure: Regenerate.

sim/moxie/ChangeLog:

	* config.in, configure: Regenerate.

sim/ppc/ChangeLog:

	* configure: Regenerate.

sim/rl78/ChangeLog:

	* config.in, configure: Regenerate.

sim/rx/ChangeLog:

	* config.in, configure: Regenerate.

sim/sh/ChangeLog:

	* config.in, configure: Regenerate.

sim/sh64/ChangeLog:

	* config.in, configure: Regenerate.

sim/v850/ChangeLog:

	* config.in, configure: Regenerate.

sim/testsuite/ChangeLog:

	* configure: Regenerate.
@
text
@d1 6
@


1.26.4.1
log
@2013-03-23  Joel Sherrill  <joel.sherrill@@oarcorp.com>

	* configure.ac: Fail if dv-sockser.o not available.
	Error when --disable-sim-hardware is specified.
	* configure: Regenerated.
@
text
@a0 6
2013-03-23  Joel Sherrill  <joel.sherrill@@oarcorp.com>

	* configure.ac: Fail if dv-sockser.o not available.
	Error when --disable-sim-hardware is specified.
	* configure: Regenerated.

@


1.26.4.2
log
@sim: rewrite SIM_AC_OPTION_HARDWARE a bit to simplify things

There's no need to put the majority of the logic into the 3rd arg of the
AC_ARG_ENABLE.  Coupled with the lack of indentation, it makes it hard to
follow, error prone to update, and duplicates code (with the 4th arg).

So pull the logic out of the 3rd arg and outside of the AC_ARG_ENABLE
macro.  This allows us to gut the 4th arg entirely, merge with the code
that followed the macro, and fix bugs related to the new dv-sockser in
the process.

Hopefully building the various sims with the default sim-hardware
settings, as well as with explicit --{dis,en}able-sim-hardware flags,
should all just work now.
@
text
@a0 4
2013-03-26  Mike Frysinger  <vapier@@gentoo.org>

	* configure: Regenerate.

@


1.25
log
@[PATCH] sim: make sure to include strsignal prototype

Before POSIX standardized strsignal(), old systems would hide the
prototype unless the normal extension defines were enabled.  So use
the AC_USE_SYSTEM_EXTENSIONS helper for that.

Then make sure we include string.h ourselves in nrun.c rather than
relying on implicit includes via other sim headers.

Signed-off-by: Mike Frysinger <vapier@@gentoo.org>
@
text
@d1 4
@


1.24
log
@sim: generate build dependencies on the fly

Lift the code that GDB is using to generate dependencies on the fly and
port it over to the sim.  Now people shouldn't have to manually maintain
these in their Makefile's.

Signed-off-by: Mike Frysinger <vapier@@gentoo.org>
@
text
@d1 4
@


1.23
log
@sim: rename common/aclocal.m4 to common/acinclude.m4

Automake likes to dump macros automatically used into the aclocal.m4
file, but the common/aclocal.m4 naming prevents that.  So rename it
to the more normal "acinclude.m4" so the aclocal tool can work.

Signed-off-by: Mike Frysinger <vapier@@gentoo.org>
@
text
@d1 5
@


1.22
log
@sim: move from common.m4 to SIM_AC_COMMON

Now that the sourceware tree generally requires autoconf-2.64, update
the sim tree to require that too.

This allows us to drop the long standing SIM_AC_COMMON/common.m4
workaround as autoconf 2.64+ seems to work for me.

Signed-off-by: Mike Frysinger <vapier@@gentoo.org>
@
text
@d3 4
@


1.21
log
@sim: start a unified sim_do_command

Since sim_do_command for many people simply calls sim_args_command, start
a unified version of it.  For people who handle their own options, they
could switch to this by using sim_add_option_table instead.

Signed-off-by: Mike Frysinger <vapier@@gentoo.org>
@
text
@d1 6
@


1.20
log
@sim: punt zfree()

The sim keeps track of which allocations are zero-ed internally (via
zalloc) and then calls a helper "zfree" function rather than "free".
But this "zfree" function simply calls "free" itself.  Since I can
see no point in this and it is simply useless overhead, punt it.

The only real change is in hw-alloc.c where we remove the zalloc_p
tracking, and sim-utils.c where zfree is delete.  The rest of the
changes are a simple `sed` from "zfree" to "free".

Signed-off-by: Mike Frysinger <vapier@@gentoo.org>
@
text
@d1 4
@


1.19
log
@Regenerate cgen-derived files.
@
text
@d1 4
@


1.18
log
@Sync Libtool from GCC.

/:
	* libtool.m4: Sync from git Libtool.
	* ltmain.sh: Likewise.
	* ltoptions.m4: Likewise.
	* ltversion.m4: Likewise.
	* lt~obsolete.m4: Likewise.

sim/iq2000/:
	* configure: Regenerate.

sim/d10v/:
	* configure: Regenerate.

sim/m32r/:
	* configure: Regenerate.

sim/frv/:
	* configure: Regenerate.

sim/:
	* avr/configure: Regenerate.
	* cris/configure: Regenerate.
	* microblaze/configure: Regenerate.

sim/h8300/:
	* configure: Regenerate.

sim/mn10300/:
	* configure: Regenerate.

sim/erc32/:
	* configure: Regenerate.

sim/arm/:
	* configure: Regenerate.

sim/m68hc11/:
	* configure: Regenerate.

sim/lm32/:
	* configure: Regenerate.

sim/sh64/:
	* configure: Regenerate.

sim/v850/:
	* configure: Regenerate.

sim/cr16/:
	* configure: Regenerate.

sim/moxie/:
	* configure: Regenerate.

sim/m32c/:
	* configure: Regenerate.

sim/mips/:
	* configure: Regenerate.

sim/mcore/:
	* configure: Regenerate.

sim/sh/:
	* configure: Regenerate.

gprof/:
	* Makefile.in: Regenerate.
	* configure: Regenerate.

opcodes/:
	* Makefile.in: Regenerate.
	* configure: Regenerate.

gas/:
	* Makefile.in: Regenerate.
	* configure: Regenerate.
	* doc/Makefile.in: Regenerate.

ld/:
	* configure: Regenerate.

gdb/testsuite/:
	* gdb.cell/configure: Regenerate.

binutils/:
	* Makefile.in: Regenerate.
	* configure: Regenerate.
	* doc/Makefile.in: Regenerate.

bfd/:
	* Makefile.in: Regenerate.
	* configure: Regenerate.

bfd/doc/:
	* Makefile.in: Regenerate.
@
text
@d1 4
@


1.17
log
@Regenerate cgen files, update copyright year.
@
text
@d1 4
@


1.16
log
@tweak wording of previous checkin
@
text
@d1 6
@


1.15
log
@cris/
	* mloop.in: Fix copyright update snafu.
iq2000/
	* mloop.in: Fix copyright update snafu.
@
text
@d3 1
a3 1
	* mloop.in: Fix copyright update snafu.
@


1.14
log
@	* cgen-engine.h (EXTRACT_MSB0_LGSINT, EXTRACT_MSB0_LGUINT): Define.
	(EXTRACT_LSB0_LGSINT, EXTRACT_LSB0_LGUINT): Define.
	(EXTRACT_FN, SEMANTIC_FN): Use CGEN_INSN_WORD in prototype
	instead of CGEN_INSN_INT.
plus, cgen files: Regenerate.
@
text
@d1 4
@


1.13
log
@	* arch.c: Regenerate.
	* arch.h: Regenerate.
	* cpu.c: Regenerate.
	* cpu.h: Regenerate.
	* cpuall.h: Regenerate.
	* decode.c: Regenerate.
	* decode.h: Regenerate.
	* model.c: Regenerate.
	* sem-switch.c: Regenerate.
	* sem.c: Regenerate.
@
text
@d1 7
@


1.12
log
@Regenerate tree using Autoconf 2.64 and Automake 1.11.

config/:
	* override.m4 (_GCC_AUTOCONF_VERSION): Bump to 2.64.

/:
	* configure: Regenerate.

etc/:
	* configure: Regenerate.

sim/common/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/iq2000/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/d10v/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/igen/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/m32r/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/frv/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/:
	* avr/config.in: Regenerate.
	* avr/configure: Likewise.
	* configure: Likewise.
	* cris/config.in: Likewise.
	* cris/configure: Likewise.

sim/h8300/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/mn10300/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/ppc/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/erc32/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/arm/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/m68hc11/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/lm32/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/sh64/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/v850/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/cr16/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/moxie/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/m32c/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/mips/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/mcore/:
	* config.in: Regenerate.
	* configure: Likewise.

sim/testsuite/d10v-elf/:
	* configure: Regenerate.

sim/testsuite/:
	* configure: Regenerate.

sim/testsuite/frv-elf/:
	* configure: Regenerate.

sim/testsuite/m32r-elf/:
	* configure: Regenerate.

sim/testsuite/mips64el-elf/:
	* configure: Regenerate.

sim/sh/:
	* config.in: Regenerate.
	* configure: Likewise.

gold/:
	* Makefile.in: Regenerate.
	* aclocal.m4: Likewise.
	* config.in: Likewise.
	* configure: Likewise.
	* testsuite/Makefile.in: Likewise.

gprof/:
	* Makefile.in: Regenerate.
	* aclocal.m4: Likewise.
	* configure: Likewise.
	* gconfig.in: Likewise.

opcodes/:
	* Makefile.in: Regenerate.
	* aclocal.m4: Likewise.
	* config.in: Likewise.
	* configure: Likewise.

gas/:
	* Makefile.in: Regenerate.
	* aclocal.m4: Likewise.
	* config.in: Likewise.
	* configure: Likewise.
	* doc/Makefile.in: Likewise.

ld/:
	* Makefile.in: Regenerate.
	* aclocal.m4: Likewise.
	* config.in: Likewise.
	* configure: Likewise.

gdb/:
	* aclocal.m4: Regenerate.
	* config.in: Likewise.
	* configure: Likewise.
	* gnulib/Makefile.in: Likewise.

gdb/doc/:
	* configure: Regenerate.

gdb/gdbserver/:
	* aclocal.m4: Regenerate.
	* config.in: Likewise.
	* configure: Likewise.

gdb/testsuite/:
	* configure: Regenerate.
	* gdb.hp/configure: Likewise.
	* gdb.hp/gdb.aCC/configure: Likewise.
	* gdb.hp/gdb.base-hp/configure: Likewise.
	* gdb.hp/gdb.compat/configure: Likewise.
	* gdb.hp/gdb.defects/configure: Likewise.
	* gdb.hp/gdb.objdbg/configure: Likewise.
	* gdb.stabs/configure: Likewise.

binutils/:
	* Makefile.in: Regenerate.
	* aclocal.m4: Likewise.
	* config.in: Likewise.
	* configure: Likewise.
	* doc/Makefile.in: Likewise.

bfd/:
	* Makefile.in: Regenerate.
	* aclocal.m4: Likewise.
	* config.in: Likewise.
	* configure: Likewise.

bfd/doc/:
	* Makefile.in: Regenerate.

readline/:
	* configure: Regenerate.

readline/examples/rlfe/:
	* configure: Regenerate.
@
text
@d1 13
@


1.11
log
@Fixup readline and sim including of override.m4

readline/examples/rlfe/:
	* configure.in: m4_include toplevel config/override.m4.
	* configure: Regenerate.

readline/ChangeLog.gdb:
	* configure.in: m4_include toplevel config/override.m4.
	* configure: Regenerate.

sim/:
	* configure.ac: m4_include toplevel config/override.m4.
	* configure: Regenerate.
	* avr/configure: Regenerate.
	* cris/configure: Regenerate.

sim/common/:
	* aclocal.m4: m4_include toplevel config/override.m4.
	* configure: Regenerate.

sim/iq2000/:
	* configure: Regenerate.

sim/d10v/:
	* configure: Regenerate.

sim/igen/:
	* configure: Regenerate.

sim/m32r/:
	* configure: Regenerate.

sim/frv/:
	* configure: Regenerate.

sim/h8300/:
	* configure: Regenerate.

sim/mn10300/:
	* configure: Regenerate.

sim/ppc/:
	* configure: Regenerate.

sim/erc32/:
	* configure: Regenerate.

sim/arm/:
	* configure: Regenerate.

sim/m68hc11/:
	* configure: Regenerate.

sim/lm32/:
	* configure: Regenerate.

sim/sh64/:
	* configure: Regenerate.

sim/v850/:
	* configure: Regenerate.

sim/cr16/:
	* configure: Regenerate.

sim/moxie/:
	* configure: Regenerate.

sim/m32c/:
	* configure: Regenerate.

sim/mips/:
	* configure: Regenerate.

sim/mcore/:
	* configure: Regenerate.

sim/sh/:
	* configure: Regenerate.
@
text
@d3 3
@


1.10
log
@* common/Make-common.in (CPU_DIR): Define.
* iq2000/Makefile.in (stamp-arch): Use $(CPU_DIR) instead of $(CGEN_CPU_DIR).
(stamp-cpu): Ditto.
* m32r/Makefile.in (stamp-arch): Use $(CPU_DIR) instead of $(CGEN_CPU_DIR).
(stamp-cpu, stamp-xcpu, stamp-2cpu): Ditto.
@
text
@d1 4
@


1.9
log
@	* Makefile.in (stamp-arch): Pass archfile to cgen-arch.
	(stamp-cpu): Pass archfile to cgen-cpu-decode.
@
text
@d1 5
@


1.8
log
@	* configure: Regenerate to track ../common/common.m4 changes.
	* config.in: Ditto.
@
text
@d1 5
@


1.7
log
@sim:
2008-06-06  Vladimir Prus  <vladimir@@codesourcery.com>
            Daniel Jacobowitz  <dan@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* cris/configure: Regenerate.

sim/common:
2008-06-06  Vladimir Prus  <vladimir@@codesourcery.com>
            Daniel Jacobowitz  <dan@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* aclocal.m4: Include ../../config/acx.m4.
	* common.m4: Use ACX_PKGVERSION and ACX_BUGURL.
	* configure, config.in: Regenerate.
	* Make-common.in (LIB_OBJS): Add version.o.
	(version.c, version.o): New rules.
	* run.c: Include version.h.
	(usage): Add help parameter. Print output either to stdout or
	stderr depending on that parameter.
	(print_version): New.
	(main): Check for --help and --version.
	* run-sim.h (sim_target_display_usage): Add help parameter.
	* version.h: New.

sim/arm:
2008-06-06  Vladimir Prus  <vladimir@@codesourcery.com>
            Daniel Jacobowitz  <dan@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* configure: Regenerate.
	* wrapper.c (sim_target_display_usage): Add help parameter.

sim/cr16:
2008-06-06  Vladimir Prus  <vladimir@@codesourcery.com>
            Daniel Jacobowitz  <dan@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* configure: Regenerate.

sim/d10v:
2008-06-06  Vladimir Prus  <vladimir@@codesourcery.com>
            Daniel Jacobowitz  <dan@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* configure: Regenerate.

sim/erc32:
2008-06-06  Vladimir Prus  <vladimir@@codesourcery.com>
            Daniel Jacobowitz  <dan@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* configure: Regenerate.

sim/frv:
2008-06-06  Vladimir Prus  <vladimir@@codesourcery.com>
            Daniel Jacobowitz  <dan@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* configure: Regenerate.

sim/h8300:
2008-06-06  Vladimir Prus  <vladimir@@codesourcery.com>
            Daniel Jacobowitz  <dan@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* configure: Regenerate.

sim/iq2000:
2008-06-06  Vladimir Prus  <vladimir@@codesourcery.com>
            Daniel Jacobowitz  <dan@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* configure: Regenerate.

sim/m32c:
2008-06-06  Vladimir Prus  <vladimir@@codesourcery.com>
            Daniel Jacobowitz  <dan@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* configure: Regenerate.

sim/m32r:
2008-06-06  Vladimir Prus  <vladimir@@codesourcery.com>
            Daniel Jacobowitz  <dan@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* configure: Regenerate.

sim/m68hc11:
2008-06-06  Vladimir Prus  <vladimir@@codesourcery.com>
            Daniel Jacobowitz  <dan@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* configure: Regenerate.

sim/mcore:
2008-06-06  Vladimir Prus  <vladimir@@codesourcery.com>
            Daniel Jacobowitz  <dan@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* configure: Regenerate.

sim/mips:
2008-06-06  Vladimir Prus  <vladimir@@codesourcery.com>
            Daniel Jacobowitz  <dan@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* configure: Regenerate.

sim/mn10300:
2008-06-06  Vladimir Prus  <vladimir@@codesourcery.com>
            Daniel Jacobowitz  <dan@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* configure: Regenerate.

sim/ppc:
2008-06-06  Vladimir Prus  <vladimir@@codesourcery.com>
            Daniel Jacobowitz  <dan@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* configure.ac: Use ACX_PKGVERSION and ACX_BUGURL.
	* configure, config.in: Regenerated.
	* Makefile.in (LIB_OBJ): Add version.o.
	(version.c, version.o): New rules.
	* psim.c (psim_usage): Add help parameter.  Print the bug URL.
	Exit with code 0 for help.
	(psim_options): Update calls to psim_usage.  Handle --help and
	--version.
	* psim.h (psim_usage): Update prototype.
	* main.c (main): Update psim_usage call.

sim/sh:
2008-06-06  Vladimir Prus  <vladimir@@codesourcery.com>
            Daniel Jacobowitz  <dan@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* configure: Regenerate.

sim/sh64:
2008-06-06  Vladimir Prus  <vladimir@@codesourcery.com>
            Daniel Jacobowitz  <dan@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* configure: Regenerate.

sim/v850:
2008-06-06  Vladimir Prus  <vladimir@@codesourcery.com>
            Daniel Jacobowitz  <dan@@codesourcery.com>
            Joseph Myers  <joseph@@codesourcery.com>

	* configure: Regenerate.
@
text
@d1 5
@


1.6
log
@	* acconfig.h: Remove.
	* config.in: Regenerate.
@
text
@d1 6
@


1.5
log
@        * common/aclocal.m4: Pass ../../intl to ZW_GNU_GETTEXT_SISTER_DIR.
        * common/common.m4: Likewise.
	* */configure: Regenerate.
@
text
@d1 5
@


1.4
log
@common/
	* aclocal.m4: Use ZW_GNU_GETTEXT_SISTER_DIR.
most subdirs/
	* configure: Regenerated.
@
text
@d1 4
@


1.3
log
@Configury changes: update src repository (binutils, gdb, and rda) to use
config/gettext-sister.m4 instead of the old gettext.m4.  Regenerate all
affected autotools files.  Include intl in gdb releases again.
@
text
@d1 4
@


1.2
log
@From common/ChangeLog:

* aclocal.m4 Include ../../gettext.m4.
(CY_WITH_NLS, CY_GNU_GETTEXT, AM_PATH_PROG_WITH_TEST)
(AM_LC_MESSAGES): Remove.
* configure: Regenerate.

Regenerate all other configures.
@
text
@d1 4
@


1.1
log
@	* iq2000: New target subdirectory.
	* configure.ac: Add iq2000 target.
	* configure: Regenerate.
@
text
@d1 4
@

