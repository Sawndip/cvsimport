head	1.2;
access;
symbols
	gdb_6_3-20041109-release:1.1.1.2
	gdb_6_3-branch:1.1.1.2.0.84
	gdb_6_3-20041019-branchpoint:1.1.1.2
	drow_intercu-merge-20040921:1.1.1.2
	drow_intercu-merge-20040915:1.1.1.2
	jimb-gdb_6_2-e500-branch:1.1.1.2.0.86
	jimb-gdb_6_2-e500-branchpoint:1.1.1.2
	gdb_6_2-20040730-release:1.1.1.2
	gdb_6_2-branch:1.1.1.2.0.82
	gdb_6_2-2004-07-10-gmt-branchpoint:1.1.1.2
	gdb_6_1_1-20040616-release:1.1.1.2
	gdb_6_1-2004-04-05-release:1.1.1.2
	drow_intercu-merge-20040402:1.1.1.2
	drow_intercu-merge-20040327:1.1.1.2
	ezannoni_pie-20040323-branch:1.1.1.2.0.80
	ezannoni_pie-20040323-branchpoint:1.1.1.2
	cagney_tramp-20040321-mergepoint:1.1.1.2
	cagney_tramp-20040309-branch:1.1.1.2.0.78
	cagney_tramp-20040309-branchpoint:1.1.1.2
	gdb_6_1-branch:1.1.1.2.0.76
	gdb_6_1-2004-03-01-gmt-branchpoint:1.1.1.2
	drow_intercu-20040221-branch:1.1.1.2.0.74
	drow_intercu-20040221-branchpoint:1.1.1.2
	cagney_bfdfile-20040213-branch:1.1.1.2.0.72
	cagney_bfdfile-20040213-branchpoint:1.1.1.2
	drow-cplus-merge-20040208:1.1.1.2
	carlton_dictionary-20040126-merge:1.1.1.2
	cagney_bigcore-20040122-branch:1.1.1.2.0.70
	cagney_bigcore-20040122-branchpoint:1.1.1.2
	drow-cplus-merge-20040113:1.1.1.2
	drow-cplus-merge-20031224:1.1.1.2
	drow-cplus-merge-20031220:1.1.1.2
	carlton_dictionary-20031215-merge:1.1.1.2
	drow-cplus-merge-20031214:1.1.1.2
	carlton-dictionary-20031111-merge:1.1.1.2
	gdb_6_0-2003-10-04-release:1.1.1.2
	kettenis_sparc-20030918-branch:1.1.1.2.0.68
	kettenis_sparc-20030918-branchpoint:1.1.1.2
	carlton_dictionary-20030917-merge:1.1.1.2
	ezannoni_pie-20030916-branchpoint:1.1.1.2
	ezannoni_pie-20030916-branch:1.1.1.2.0.66
	cagney_x86i386-20030821-branch:1.1.1.2.0.64
	cagney_x86i386-20030821-branchpoint:1.1.1.2
	carlton_dictionary-20030805-merge:1.1.1.2
	carlton_dictionary-20030627-merge:1.1.1.2
	gdb_6_0-branch:1.1.1.2.0.62
	gdb_6_0-2003-06-23-branchpoint:1.1.1.2
	jimb-ppc64-linux-20030613-branch:1.1.1.2.0.60
	jimb-ppc64-linux-20030613-branchpoint:1.1.1.2
	cagney_convert-20030606-branch:1.1.1.2.0.58
	cagney_convert-20030606-branchpoint:1.1.1.2
	cagney_writestrings-20030508-branch:1.1.1.2.0.56
	cagney_writestrings-20030508-branchpoint:1.1.1.2
	jimb-ppc64-linux-20030528-branch:1.1.1.2.0.54
	jimb-ppc64-linux-20030528-branchpoint:1.1.1.2
	carlton_dictionary-20030523-merge:1.1.1.2
	cagney_fileio-20030521-branch:1.1.1.2.0.52
	cagney_fileio-20030521-branchpoint:1.1.1.2
	kettenis_i386newframe-20030517-mergepoint:1.1.1.2
	jimb-ppc64-linux-20030509-branch:1.1.1.2.0.50
	jimb-ppc64-linux-20030509-branchpoint:1.1.1.2
	kettenis_i386newframe-20030504-mergepoint:1.1.1.2
	carlton_dictionary-20030430-merge:1.1.1.2
	kettenis_i386newframe-20030419-branch:1.1.1.2.0.48
	kettenis_i386newframe-20030419-branchpoint:1.1.1.2
	carlton_dictionary-20030416-merge:1.1.1.2
	cagney_frameaddr-20030409-mergepoint:1.1.1.2
	kettenis_i386newframe-20030406-branch:1.1.1.2.0.46
	kettenis_i386newframe-20030406-branchpoint:1.1.1.2
	cagney_frameaddr-20030403-branchpoint:1.1.1.2
	cagney_frameaddr-20030403-branch:1.1.1.2.0.44
	cagney_framebase-20030330-mergepoint:1.1.1.2
	cagney_framebase-20030326-branch:1.1.1.2.0.42
	cagney_framebase-20030326-branchpoint:1.1.1.2
	cagney_lazyid-20030317-branch:1.1.1.2.0.40
	cagney_lazyid-20030317-branchpoint:1.1.1.2
	kettenis-i386newframe-20030316-mergepoint:1.1.1.2
	offbyone-20030313-branch:1.1.1.2.0.38
	offbyone-20030313-branchpoint:1.1.1.2
	kettenis-i386newframe-20030308-branch:1.1.1.2.0.36
	kettenis-i386newframe-20030308-branchpoint:1.1.1.2
	carlton_dictionary-20030305-merge:1.1.1.2
	cagney_offbyone-20030303-branch:1.1.1.2.0.34
	cagney_offbyone-20030303-branchpoint:1.1.1.2
	carlton_dictionary-20030207-merge:1.1.1.2
	interps-20030202-branch:1.1.1.2.0.32
	interps-20030202-branchpoint:1.1.1.2
	cagney-unwind-20030108-branch:1.1.1.2.0.30
	cagney-unwind-20030108-branchpoint:1.1.1.2
	carlton_dictionary-20021223-merge:1.1.1.2
	gdb_5_3-2002-12-12-release:1.1.1.2
	carlton_dictionary-20021115-merge:1.1.1.2
	kseitz_interps-20021105-merge:1.1.1.2
	kseitz_interps-20021103-merge:1.1.1.2
	drow-cplus-merge-20021020:1.1.1.2
	drow-cplus-merge-20021025:1.1.1.2
	carlton_dictionary-20021025-merge:1.1.1.2
	carlton_dictionary-20021011-merge:1.1.1.2
	drow-cplus-branch:1.1.1.2.0.28
	drow-cplus-branchpoint:1.1.1.2
	kseitz_interps-20020930-merge:1.1.1.2
	carlton_dictionary-20020927-merge:1.1.1.2
	carlton_dictionary-branch:1.1.1.2.0.26
	carlton_dictionary-20020920-branchpoint:1.1.1.2
	gdb_5_3-branch:1.1.1.2.0.24
	gdb_5_3-2002-09-04-branchpoint:1.1.1.2
	kseitz_interps-20020829-merge:1.1.1.2
	cagney_sysregs-20020825-branch:1.1.1.2.0.22
	cagney_sysregs-20020825-branchpoint:1.1.1.2
	readline_4_3-import-branch:1.1.1.2.0.20
	readline_4_3-import-branchpoint:1.1.1.2
	gdb_5_2_1-2002-07-23-release:1.1.1.2
	kseitz_interps-20020528-branch:1.1.1.2.0.18
	kseitz_interps-20020528-branchpoint:1.1.1.2
	cagney_regbuf-20020515-branch:1.1.1.2.0.16
	cagney_regbuf-20020515-branchpoint:1.1.1.2
	jimb-macro-020506-branch:1.1.1.2.0.14
	jimb-macro-020506-branchpoint:1.1.1.2
	gdb_5_2-2002-04-29-release:1.1.1.2
	gdb_5_2-branch:1.1.1.2.0.12
	gdb_5_2-2002-03-03-branchpoint:1.1.1.2
	gdb_5_1_1-2002-01-24-release:1.1.1.2
	gdb_5_1_0_1-2002-01-03-release:1.1.1.2
	cygnus_cvs_20020108_pre:1.1.1.2
	gdb_5_1_0_1-2002-01-03-branch:1.1.1.2.0.10
	gdb_5_1_0_1-2002-01-03-branchpoint:1.1.1.2
	gdb_5_1-2001-11-21-release:1.1.1.2
	gdb_s390-2001-09-26-branch:1.1.1.2.0.8
	gdb_s390-2001-09-26-branchpoint:1.1.1.2
	gdb_5_1-2001-07-29-branch:1.1.1.2.0.6
	gdb_5_1-2001-07-29-branchpoint:1.1.1.2
	insight-precleanup-2001-01-01:1.1.1.2
	gdb-premipsmulti-2000-06-06-branch:1.1.1.2.0.4
	gdb-premipsmulti-2000-06-06-branchpoint:1.1.1.2
	gdb_5_0-2000-05-19-release:1.1.1.2
	gdb_4_18_2-2000-05-18-release:1.1.1.2
	gdb_4_95_1-2000-05-11-snapshot:1.1.1.2
	gdb_4_95_0-2000-04-27-snapshot:1.1.1.2
	gdb_5_0-2000-04-10-branch:1.1.1.2.0.2
	gdb_5_0-2000-04-10-branchpoint:1.1.1.2
	repo-unification-2000-02-06:1.1.1.2
	gdb-2000-02-04:1.1.1.2
	gdb-2000-02-02:1.1.1.2
	gdb-2000-02-01:1.1.1.2
	gdb-2000-01-31:1.1.1.2
	gdb-2000-01-26:1.1.1.2
	gdb-2000-01-24:1.1.1.2
	gdb-2000-01-17:1.1.1.2
	gdb-2000-01-10:1.1.1.2
	gdb-2000-01-05:1.1.1.2
	gdb-1999-12-21:1.1.1.2
	gdb-1999-12-13:1.1.1.2
	gdb-1999-12-07:1.1.1.2
	gdb-1999-12-06:1.1.1.2
	gdb-1999-11-16:1.1.1.2
	gdb-1999-11-08:1.1.1.2
	gdb-1999-11-01:1.1.1.2
	gdb-1999-10-25:1.1.1.2
	gdb-1999-10-18:1.1.1.2
	gdb-1999-10-11:1.1.1.2
	gdb-1999-10-04:1.1.1.2
	gdb-1999-09-28:1.1.1.2
	gdb-1999-09-21:1.1.1.2
	gdb-1999-09-13:1.1.1.2
	gdb-1999-09-08:1.1.1.2
	gdb-1999-08-30:1.1.1.2
	gdb-1999-08-23:1.1.1.2
	gdb-1999-08-16:1.1.1.2
	gdb-1999-08-09:1.1.1.2
	gdb-1999-08-02:1.1.1.2
	gdb-1999-07-26:1.1.1.2
	gdb-1999-07-19:1.1.1.2
	gdb-1999-07-12:1.1.1.2
	gdb-post-reformat-19990707:1.1.1.2
	gdb-1999-07-07-post-reformat-snapshot:1.1.1.2
	gdb-pre-reformat-19990707:1.1.1.2
	gdb-1999-07-07:1.1.1.2
	gdb-1999-07-05:1.1.1.2
	gdb-1999-06-28:1.1.1.2
	gdb-1999-06-21:1.1.1.2
	gdb-1999-06-14:1.1.1.2
	gdb-1999-06-07:1.1.1.2
	gdb-1999-06-01:1.1.1.2
	gdb-4_18-branch:1.1.1.1.0.2
	gdb-4_18-release:1.1.1.1
	gdb-1999-05-25:1.1.1.2
	gdb-1999-05-19:1.1.1.2
	gdb-1999-05-10:1.1.1.2
	gdb-19990504:1.1.1.2
	gdb-19990422:1.1.1.2
	SNAPSHOT:1.1.1
	gdb-4_18:1.1.1.1
	GDB_4_18:1.1.1;
locks; strict;
comment	@# @;
expand	@o@;


1.2
date	2005.01.07.23.25.37;	author cagney;	state dead;
branches;
next	1.1;

1.1
date	99.04.16.01.35.15;	author shebs;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.04.16.01.35.15;	author shebs;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	99.04.26.18.33.48;	author shebs;	state Exp;
branches;
next	;


desc
@@


1.2
log
@2005-01-07  Andrew Cagney  <cagney@@gnu.org>

	* fr30-elf, d30v-elf: Delete directory.
@
text
@	# Test macro

	.macro assert reg,value
	cmpeq f0,\reg,\value
	bra/fx fail
	.endm


	# PR 15964 - a.s

	add  r8,r0,0x7fff7fff         ;
	add  r9,r0,0x55555555         ;
	add  r12,r0,0x11111111         ;
	add  r1,r0,0x80000011   ; for psw
	mvtsys psw,r1 ||nop
	addhhhh r12,r8,r9 ||addhlll r13,r12,r12
	mvfsys r20,psw              ||nop
	mvtsys psw,r1 || add r2,r8, r9
	mvfsys r21,psw              ||nop

	assert r20, 0x80000000
	assert r21, 0x80000014

	
	# PR 15964 - b.s
	
	add  r40,r0,0x7fffffff
	add  r41,r0,0x7fffffff
	add  r1,r0,0x80000000       ; for psw
	mvtsys psw,r1,||nop
	cmpeq f1,r40,r41,||cmpeq f0,r40,r41,;
	mvfsys r42,psw
	
	assert r42, 0x80005000

		
	# PR 16993 - a.s

	add  r8,r0,0x80005555  ; for psw
	add  r9,r0,0x80000000  ; for psw
	add  r40,r0,0x11111111  ;
	add  r41,r0,0x22222222  ;
	add  r42,r0,0x00000000  ;
	mvtsys psw,r8 ||nop
	mvtsys psw,r9 ||add r42,r40,r41,;

	mvfsys r10,psw
	assert r10, 0x80000000
	

	# PR 16995 - b.s

	add  r8,r0,0x80000000  ; for psw
	add  r9,r0,0x80005555  ; for psw
	add  r10,r0,0x00000000  ;
	add  r40,r0,0x11111111  ;
	add  r41,r0,0x22222222  ;
	add  r42,r0,0x00000000  ;
	mvtsys psw,r8 ||nop
	mvtsys psw,r9 ||add r42,r40,r41,;

	mvfsys r10,psw
	assert r10, 0x80005544
	

	# PR 17006 - c.s

	add  r8,r0,0x80005555  ; for psw
	add  r9,r0,0x80000000  ; for psw
	add  r10,r0,0x00000000  ;
	add  r40,r0,0x00000011  ;
	add  r41,r0,0x00000011  ;
	mvtsys psw,r8 ||nop
	mvtsys psw,r9 ||cmpeq f5,r40,r41,;
		
	mvfsys r10,psw
	assert r10, 0x80000010


	# PR 17006 - d.s

	add  r9,r0,0x80000000  ; for psw
	add  r40,r0,0x00000011  ;
	add  r41,r0,0x00000011  ;
	nop  ||nop
	mvtsys psw, r9 || nop
	nop  ||nop
	nop ||cmpeq f5,r40,r41,;

	mvfsys r10,psw
	assert r10, 0x80000010

	
	# PR 17106 - a.s

	; test 000     ;  mvtsys(s=0) || sathl(s=0) prallel execution test
	add  r8,r0,0x80005555  ; for psw
	add  r9,r0,0x80000000  ; for psw
	add  r40,r0,0x00000044  ;
	add  r41,r0,0x00000008  ;
	mvtsys psw,r8 ||nop
	mvtsys psw,r9 ||sathl r30,r40,r41,;
	mvfsys r20, psw ||nop
	;-------------------------------
	; test 001     ;  mvtsys(s=0) || sathl(s=1) prallel execution test
	_test_001:
	add  r40,r0,0x00004444  ;
	add  r41,r0,0x00000008  ;
	mvtsys psw,r8 ||nop
	mvtsys psw,r9 ||sathl r31,r40,r41,;
	mvfsys r21,psw ||nop
	;-------------------------------
	; test 002     ;  mvtsys(s=1) || sathl(s=0) prallel execution test
	add  r8,r0,0x80000000  ; for psw
	add  r9,r0,0x80005555  ; for psw
	add  r40,r0,0x00000044  ;
	add  r41,r0,0x00000008  ;
	mvtsys psw,r8 ||nop
	mvtsys psw,r9 ||sathl r32,r40,r41,;
	mvfsys r22,psw             ||nop
	;-------------------------------
	; test 003     ;  mvtsys(s=1) || sathl(s=1) prallel execution test
	;   init-reg
	add  r40,r0,0x00004444  ;
	add  r41,r0,0x00000008  ;
	mvtsys psw,r8 ||nop
	mvtsys psw,r9 ||sathl r33,r40,r41,;
	mvfsys r23,psw             ||nop

	assert r20, 0x80000000
	assert r21, 0x80000040
	assert r22, 0x80005555
	assert r23, 0x80005515

	
	# PR 18288 - a.s

	;------------------------------------------------------------------------
	; mvtsys (C =1, V= VA = 0) ||  addc (C= V= VA =0)
	;------------------------------------------------------------------------
	test_000b:
	add r1,r0,1   ||nop  ; set C bit
	mvtsys psw r0 ||nop
	mvtsys psw r1 ||addc r20,r0,1 
	mvfsys r10,psw ||nop
	; C changed in MU is not used in IU.
	; IU prevail for resulting C. 
	;------------------------------------------------------------------------
	; mvtsys (V =1, C = VA = 0) ||  add (C= V= VA =0)
	;------------------------------------------------------------------------
	test_001b:
	add r1,r0,0x10 ||nop  ; set V bit
	mvtsys psw r0 ||nop
	mvtsys psw r1 ||add r0,r0,r0
	mvfsys r11,psw ||nop
	; IU prevail for resulting V.
	;------------------------------------------------------------------------
	; mvtsys (V = C= VA = 0) ||  add (C=0,V= VA =1)
	;------------------------------------------------------------------------
	test_002b:
	add r1,r0,0x70000000
	add r2,r0,0x30000000
	mvtsys psw r0 ||nop
	mvtsys psw r0 ||add r0,r1,r2
	mvfsys r12,psw ||nop
	; IU prevail for resulting V. 
	; VA is set(OR'ed)
	;------------------------------------------------------------------------
	; mvtsys (C= 0 V = VA = 1) ||  add (C= V= VA =0)
	;------------------------------------------------------------------------
	test_003b:
	add r1,r0,0x14 ||nop  ; set V and VA bit
	mvtsys psw r0 ||nop
	mvtsys psw r1 ||add r0,r0,r0
	mvfsys r13,psw ||nop
	; IU prevail for resulging V
	; VA is set(OR'ed)
	;------------------------------------------------------------------------
	; mvtsys (f3 =1) ||  orfg (f3) : GROUP_B
	;------------------------------------------------------------------------
	test_004b:
	add r1,r0,0x100 ; set f3
	mvtsys psw r0 ||nop
	mvtsys psw,r1 ||orfg f3,f3,0
	mvfsys r14,psw ||nop
	; results of IU prevail. 
	;------------------------------------------------------------------------
	; mvtsys (f4 =1) ||  sathp 
	;------------------------------------------------------------------------
	test_005b:
	add r1,r0,0x40 ; set f4
	mvtsys psw r0 ||nop
	mvtsys psw r1 ||sathl r2,r1,3
	mvfsys r15,psw ||nop
	; results of MU is used in IU

	assert r20, 0x1
	assert r10, 0x0
	assert r11, 0x0
	assert r12, 0x14
	assert r13, 0x4
	assert r14, 0x0
	assert r15, 0x0

	
	# PR 18288 - b.s
	add r7,r0,0x80000000
	mvtsys psw,r7 || nop
		
	add r8,r0,0x7fff7fff         ;
	add r9,r0,0x55555555         ;
	add r12,r0,0x11111111         ;
	add r13,r0,0x00000000         ;
	addhhhh r12,r8,r9 ||addhlll r13,r12,r12
	mvfsys r60,psw              ||nop
	;------------------------------------------
	add r20,r0,0x66666666  ;
	add r21,r0,0x77777777  ;
	add r40,r0,0x22222222  ;
	add r41,r0,0x55555555  ;
	add r22,r20,r21 ||add r42,r40,r41,;
	mvfsys r61,psw              ||nop

	assert r60, 0x80000000
	assert r61, 0x80000000
	
			
							
	# all okay

	bra	ok

ok:
	add r2, r0, 0
	.long 0x0e000004
	nop

fail:
	add r2, r0, 47
	.long 0x0e000004
	nop
@


1.1
log
@Initial revision
@
text
@@


1.1.1.1
log
@Initial creation of sourceware repository
@
text
@@


1.1.1.2
log
@import gdb-19990422 snapshot
@
text
@d227 2
a228 16

	# PR 19224

	add r7,r0,0x80000000
	add r2,r0,r0            || nop
	add r1,r0,0x1           || nop
	# confirm that these insns do not kill the add in the right container
	mvtsys psw,r7           -> add r2,r2,r1
	mvtsys pswh,r7          -> add r2,r2,r1
	mvtsys pswl,r7          -> add r2,r2,r1	
	mvtsys f0,r7            -> add r2,r2,r1			
	mvtsys mod_s,r7         -> add r2,r2,r1							

	assert r2, 0x5

									
@

