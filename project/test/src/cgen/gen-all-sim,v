head	1.5;
access;
symbols
	sid-snapshot-20180601:1.5
	cgen-snapshot-20180601:1.5
	sid-snapshot-20180501:1.5
	cgen-snapshot-20180501:1.5
	sid-snapshot-20180401:1.5
	cgen-snapshot-20180401:1.5
	sid-snapshot-20180301:1.5
	cgen-snapshot-20180301:1.5
	sid-snapshot-20180201:1.5
	cgen-snapshot-20180201:1.5
	sid-snapshot-20180101:1.5
	cgen-snapshot-20180101:1.5
	sid-snapshot-20171201:1.5
	cgen-snapshot-20171201:1.5
	sid-snapshot-20171101:1.5
	cgen-snapshot-20171101:1.5
	sid-snapshot-20171001:1.5
	cgen-snapshot-20171001:1.5
	sid-snapshot-20170901:1.5
	cgen-snapshot-20170901:1.5
	sid-snapshot-20170801:1.5
	cgen-snapshot-20170801:1.5
	sid-snapshot-20170701:1.5
	cgen-snapshot-20170701:1.5
	sid-snapshot-20170601:1.5
	cgen-snapshot-20170601:1.5
	sid-snapshot-20170501:1.5
	cgen-snapshot-20170501:1.5
	sid-snapshot-20170401:1.5
	cgen-snapshot-20170401:1.5
	sid-snapshot-20170301:1.5
	cgen-snapshot-20170301:1.5
	sid-snapshot-20170201:1.5
	cgen-snapshot-20170201:1.5
	sid-snapshot-20170101:1.5
	cgen-snapshot-20170101:1.5
	sid-snapshot-20161201:1.5
	cgen-snapshot-20161201:1.5
	sid-snapshot-20161101:1.5
	cgen-snapshot-20161101:1.5
	sid-snapshot-20160901:1.5
	cgen-snapshot-20160901:1.5
	sid-snapshot-20160801:1.5
	cgen-snapshot-20160801:1.5
	sid-snapshot-20160701:1.5
	cgen-snapshot-20160701:1.5
	sid-snapshot-20160601:1.5
	cgen-snapshot-20160601:1.5
	sid-snapshot-20160501:1.5
	cgen-snapshot-20160501:1.5
	sid-snapshot-20160401:1.5
	cgen-snapshot-20160401:1.5
	sid-snapshot-20160301:1.5
	cgen-snapshot-20160301:1.5
	sid-snapshot-20160201:1.5
	cgen-snapshot-20160201:1.5
	sid-snapshot-20160101:1.5
	cgen-snapshot-20160101:1.5
	sid-snapshot-20151201:1.5
	cgen-snapshot-20151201:1.5
	sid-snapshot-20151101:1.5
	cgen-snapshot-20151101:1.5
	sid-snapshot-20151001:1.5
	cgen-snapshot-20151001:1.5
	sid-snapshot-20150901:1.5
	cgen-snapshot-20150901:1.5
	sid-snapshot-20150801:1.5
	cgen-snapshot-20150801:1.5
	sid-snapshot-20150701:1.5
	cgen-snapshot-20150701:1.5
	sid-snapshot-20150601:1.5
	cgen-snapshot-20150601:1.5
	sid-snapshot-20150501:1.5
	cgen-snapshot-20150501:1.5
	sid-snapshot-20150401:1.5
	cgen-snapshot-20150401:1.5
	sid-snapshot-20150301:1.5
	cgen-snapshot-20150301:1.5
	sid-snapshot-20150201:1.5
	cgen-snapshot-20150201:1.5
	sid-snapshot-20150101:1.5
	cgen-snapshot-20150101:1.5
	sid-snapshot-20141201:1.5
	cgen-snapshot-20141201:1.5
	sid-snapshot-20141101:1.5
	cgen-snapshot-20141101:1.5
	sid-snapshot-20141001:1.5
	cgen-snapshot-20141001:1.5
	sid-snapshot-20140901:1.5
	cgen-snapshot-20140901:1.5
	sid-snapshot-20140801:1.5
	cgen-snapshot-20140801:1.5
	sid-snapshot-20140701:1.5
	cgen-snapshot-20140701:1.5
	sid-snapshot-20140601:1.5
	cgen-snapshot-20140601:1.5
	sid-snapshot-20140501:1.5
	cgen-snapshot-20140501:1.5
	sid-snapshot-20140401:1.5
	cgen-snapshot-20140401:1.5
	sid-snapshot-20140301:1.5
	cgen-snapshot-20140301:1.5
	sid-snapshot-20140201:1.5
	cgen-snapshot-20140201:1.5
	sid-snapshot-20140101:1.5
	cgen-snapshot-20140101:1.5
	sid-snapshot-20131201:1.5
	cgen-snapshot-20131201:1.5
	sid-snapshot-20131101:1.5
	cgen-snapshot-20131101:1.5
	sid-snapshot-20131001:1.5
	cgen-snapshot-20131001:1.5
	sid-snapshot-20130901:1.5
	cgen-snapshot-20130901:1.5
	sid-snapshot-20130801:1.5
	cgen-snapshot-20130801:1.5
	sid-snapshot-20130701:1.5
	cgen-snapshot-20130701:1.5
	sid-snapshot-20130601:1.5
	cgen-snapshot-20130601:1.5
	sid-snapshot-20130501:1.5
	cgen-snapshot-20130501:1.5
	sid-snapshot-20130401:1.5
	cgen-snapshot-20130401:1.5
	sid-snapshot-20130301:1.5
	cgen-snapshot-20130301:1.5
	sid-snapshot-20130201:1.5
	cgen-snapshot-20130201:1.5
	sid-snapshot-20130101:1.5
	cgen-snapshot-20130101:1.5
	sid-snapshot-20121201:1.4
	cgen-snapshot-20121201:1.4
	sid-snapshot-20121101:1.4
	cgen-snapshot-20121101:1.4
	sid-snapshot-20121001:1.4
	cgen-snapshot-20121001:1.4
	sid-snapshot-20120901:1.4
	cgen-snapshot-20120901:1.4
	sid-snapshot-20120801:1.4
	cgen-snapshot-20120801:1.4
	sid-snapshot-20120701:1.4
	cgen-snapshot-20120701:1.4
	sid-snapshot-20120601:1.4
	cgen-snapshot-20120601:1.4
	sid-snapshot-20120501:1.4
	cgen-snapshot-20120501:1.4
	sid-snapshot-20120401:1.4
	cgen-snapshot-20120401:1.4
	sid-snapshot-20120301:1.4
	cgen-snapshot-20120301:1.4
	sid-snapshot-20120201:1.4
	cgen-snapshot-20120201:1.4
	sid-snapshot-20120101:1.4
	cgen-snapshot-20120101:1.4
	sid-snapshot-20111201:1.4
	cgen-snapshot-20111201:1.4
	sid-snapshot-20111101:1.4
	cgen-snapshot-20111101:1.4
	sid-snapshot-20111001:1.4
	cgen-snapshot-20111001:1.4
	sid-snapshot-20110901:1.4
	cgen-snapshot-20110901:1.4
	sid-snapshot-20110801:1.4
	cgen-snapshot-20110801:1.4
	sid-snapshot-20110701:1.4
	cgen-snapshot-20110701:1.4
	sid-snapshot-20110601:1.4
	cgen-snapshot-20110601:1.4
	sid-snapshot-20110501:1.4
	cgen-snapshot-20110501:1.4
	sid-snapshot-20110401:1.4
	cgen-snapshot-20110401:1.4
	sid-snapshot-20110301:1.4
	cgen-snapshot-20110301:1.4
	sid-snapshot-20110201:1.4
	cgen-snapshot-20110201:1.4
	sid-snapshot-20110101:1.4
	cgen-snapshot-20110101:1.4
	sid-snapshot-20101201:1.4
	cgen-snapshot-20101201:1.4
	sid-snapshot-20101101:1.4
	cgen-snapshot-20101101:1.4
	sid-snapshot-20101001:1.4
	cgen-snapshot-20101001:1.4
	sid-snapshot-20100901:1.4
	cgen-snapshot-20100901:1.4
	sid-snapshot-20100801:1.4
	cgen-snapshot-20100801:1.4
	sid-snapshot-20100701:1.4
	cgen-snapshot-20100701:1.4
	sid-snapshot-20100601:1.4
	cgen-snapshot-20100601:1.4
	sid-snapshot-20100501:1.4
	cgen-snapshot-20100501:1.4
	sid-snapshot-20100401:1.4
	cgen-snapshot-20100401:1.4
	sid-snapshot-20100301:1.4
	cgen-snapshot-20100301:1.4
	sid-snapshot-20100201:1.4
	cgen-snapshot-20100201:1.4
	sid-snapshot-20100101:1.4
	cgen-snapshot-20100101:1.4
	sid-snapshot-20091201:1.4
	cgen-snapshot-20091201:1.4
	sid-snapshot-20091101:1.4
	cgen-snapshot-20091101:1.4
	sid-snapshot-20091001:1.4
	cgen-snapshot-20091001:1.4
	arc-sim-20090309:1.4
	sid-snapshot-20090901:1.4
	cgen-snapshot-20090901:1.4
	sid-snapshot-20090801:1.4
	cgen-snapshot-20090801:1.4
	sid-snapshot-20090701:1.4
	cgen-snapshot-20090701:1.4
	dje-cgen-play1-branch:1.4.0.8
	dje-cgen-play1-branchpoint:1.4
	cgen-1_1-branch:1.4.0.6
	cgen-1_1-branchpoint:1.4
	sid-snapshot-20090601:1.4
	cgen-snapshot-20090601:1.4
	sid-snapshot-20090501:1.4
	cgen-snapshot-20090501:1.4
	sid-snapshot-20090401:1.4
	cgen-snapshot-20090401:1.4
	arc-insight_6_8-branch:1.4.0.4
	arc-insight_6_8-branchpoint:1.4
	sid-snapshot-20090301:1.4
	cgen-snapshot-20090301:1.4
	sid-snapshot-20090201:1.4
	cgen-snapshot-20090201:1.4
	sid-snapshot-20090101:1.4
	cgen-snapshot-20090101:1.4
	sid-snapshot-20081201:1.4
	cgen-snapshot-20081201:1.4
	sid-snapshot-20081101:1.4
	cgen-snapshot-20081101:1.4
	sid-snapshot-20081001:1.4
	cgen-snapshot-20081001:1.4
	sid-snapshot-20080901:1.4
	cgen-snapshot-20080901:1.4
	sid-snapshot-20080801:1.4
	cgen-snapshot-20080801:1.4
	sid-snapshot-20080701:1.4
	cgen-snapshot-20080701:1.4
	sid-snapshot-20080601:1.4
	cgen-snapshot-20080601:1.4
	sid-snapshot-20080501:1.4
	cgen-snapshot-20080501:1.4
	sid-snapshot-20080403:1.4
	sid-snapshot-20080401:1.4
	cgen-snapshot-20080401:1.4
	sid-snapshot-20080301:1.4
	cgen-snapshot-20080301:1.4
	sid-snapshot-20080201:1.4
	cgen-snapshot-20080201:1.4
	sid-snapshot-20080101:1.4
	cgen-snapshot-20080101:1.4
	sid-snapshot-20071201:1.4
	cgen-snapshot-20071201:1.4
	sid-snapshot-20071101:1.4
	cgen-snapshot-20071101:1.4
	sid-snapshot-20071001:1.4
	cgen-snapshot-20071001:1.4
	msnyder-fork-checkpoint-branch:1.4.0.2
	msnyder-fork-checkpoint-branchpoint:1.4;
locks; strict;
comment	@# @;


1.5
date	2012.12.17.16.55.41;	author nickc;	state Exp;
branches;
next	1.4;

1.4
date	2003.07.16.01.13.07;	author devans;	state Exp;
branches;
next	1.3;

1.3
date	2003.07.08.16.23.56;	author devans;	state Exp;
branches;
next	1.2;

1.2
date	2003.06.20.21.09.00;	author devans;	state Exp;
branches;
next	1.1;

1.1
date	2002.12.20.01.38.32;	author devans;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Add copyright notices
@
text
@#! /bin/sh
# Utility script to generate the sim files for several ports.
# This is useful for verifying changes to the generated files
# without having to build every tool chain.
#
#   Copyright 2012 Free Software Foundation
#
# This file is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 3 of the License, or
# (at your option) any later version.
# 
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
# 
# You should have received a copy of the GNU General Public License
# along with this program; see the file COPYING3.  If not see
# <http://www.gnu.org/licenses/>.
#

# Run this script in the src/cgen directory.

# Exit on any error.
set -e

# For debugging.
set -x

# fr30 not included, sim has been marked as obsolete.
# sh64 not included, not sure which configuration to use.
# i960 not included, it's being deleted.
cpus="m32r"

if [ ! -f sim.scm ]
then
    echo "Not in the src/cgen directory." >& 2
    exit 1
fi

builddir=tmp-sim

export cgendir=`pwd`

for c in $cpus
do
  rm -rf $builddir
  mkdir $builddir

  case $c in
  i960)
    (
	set -e
	set -x
	cd $builddir
	$cgendir/../sim/i960/configure --prefix /tmp/junk --target i960-coff
	make stamp-arch stamp-cpu stamp-desc
    )
    test $? = 0 || exit 1
    ;;

  m32r)
    (
	set -e
	set -x
	cd $builddir
	$cgendir/../sim/m32r/configure --prefix /tmp/junk --target m32r-elf
	make stamp-arch stamp-cpu stamp-xcpu
    )
    test $? = 0 || exit 1
    ;;

  fr30)
    (
	set -e
	set -x
	cd $builddir
	$cgendir/../sim/fr30/configure --prefix /tmp/junk --target fr30-elf
	make stamp-arch stamp-cpu
    )
    test $? = 0 || exit 1
    ;;

  sh64)
    (
	set -e
	set -x
	cd $builddir
	$cgendir/../sim/sh64/configure --prefix /tmp/junk --target ???
	make stamp-all
    )
    test $? = 0 || exit 1
    ;;

  *)
    echo "unsupported cpu $c" >& 2
    exit 1
    ;;
  esac
done
@


1.4
log
@	* gen-all-sim: Fix some typos.
@
text
@d6 17
@


1.3
log
@	* gen-all-doc: Ensure run from cgen src dir.
	* gen-all-opcodes: Build in ./tmp-opcodes.  Don't delete dir when done.
	* gen-all-sid: Similarily, in ./tmp-sid.
	* gen-all-sim: Similarily, in ./tmp-sim.
@
text
@d43 1
a43 1
    test $? == 0 || exit 1
d54 1
a54 1
    test $? == 0 || exit 1
d65 1
a65 1
    test $? == 0 || exit 1
d76 1
a76 1
    test $? == 0 || exit 1
@


1.2
log
@	* gen-all-sim: Add fr30,sh64 support.  Only generate m32r by default.
@
text
@d25 2
d31 2
a32 2
  rm -rf ./tmp-sim
  mkdir ./tmp-sim
d39 1
a39 1
	cd ./tmp-sim
d50 1
a50 1
	cd ./tmp-sim
d61 1
a61 1
	cd ./tmp-sim
d72 1
a72 1
	cd ./tmp-sim
a84 2

rm -rf ./tmp-sim
@


1.1
log
@	* gen-all-sim: New script.
@
text
@d14 4
a17 1
cpus="i960 m32r"
d29 2
a30 2
  rm -rf /tmp/tmp-cgen
  mkdir /tmp/tmp-cgen
d37 1
a37 1
	cd /tmp/tmp-cgen
d48 1
a48 1
	cd /tmp/tmp-cgen
d55 22
d84 1
a84 1
rm -rf /tmp/tmp-cgen
@

