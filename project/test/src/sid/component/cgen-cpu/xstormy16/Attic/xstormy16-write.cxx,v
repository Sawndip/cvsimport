head	1.7;
access;
symbols
	sid-20020905-branchpoint:1.1
	sid-20020905-branch:1.1.0.2
	cygnus_cvs_20020108_pre:1.1;
locks; strict;
comment	@// @;


1.7
date	2005.08.19.18.58.56;	author brolley;	state dead;
branches;
next	1.6;

1.6
date	2004.07.22.01.49.45;	author dj;	state Exp;
branches;
next	1.5;

1.5
date	2003.05.02.00.08.43;	author dj;	state Exp;
branches;
next	1.4;

1.4
date	2003.03.21.06.16.29;	author dj;	state Exp;
branches;
next	1.3;

1.3
date	2003.02.18.22.57.29;	author dj;	state Exp;
branches;
next	1.2;

1.2
date	2002.11.20.03.15.44;	author dj;	state Exp;
branches;
next	1.1;

1.1
date	2001.12.17.09.31.20;	author mrg;	state Exp;
branches;
next	;


desc
@@


1.7
log
@2005-08-19  Dave Brolley  <brolley@@redhat.com>

        * Makefile.am: Remove references to xstormy16-write.cxx.
        * xstormy16-cpu.h: Regenerate.
        * xstormy16-decode.cxx: Regenerate.
        * xstormy16-decode.h: Regenerate.
        * xstormy16-defs.h: Regenerate.
        * xstormy16-desc.h: Regenerate.
        * xstormy16-sem.cxx: Regenerate.
        * xstormy16-write.cxx: Removed.
@
text
@/* Simulator instruction operand writer for xstormy16.

THIS FILE IS MACHINE GENERATED WITH CGEN.

Copyright (C) 2000-2004 Red Hat, Inc.

This file is part of the Red Hat simulators.


*/


#include "xstormy16.h"
using namespace xstormy16;


sem_status
xstormy16_write_sfmt_empty (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.fmt_empty.f
#define OPRND(f) par_exec->operands.sfmt_empty.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto


  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_movlmemimm (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_movlmemimm.f
#define OPRND(f) par_exec->operands.sfmt_movlmemimm.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  if (written & (1ULL << 4))
    {
      current_cpu->SETMEMHI (pc, OPRND (h_memory_HI_and__DFLT_lmem8_65534_idx), OPRND (h_memory_HI_and__DFLT_lmem8_65534));
    }
  if (written & (1ULL << 5))
    {
      current_cpu->SETMEMQI (pc, OPRND (h_memory_QI_lmem8_idx), OPRND (h_memory_QI_lmem8));
    }
  if (written & (1ULL << 6))
    {
      current_cpu->h_gr_set (((UINT) 14), OPRND (psw));
    }

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_movhmemimm (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_movhmemimm.f
#define OPRND(f) par_exec->operands.sfmt_movhmemimm.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  if (written & (1ULL << 4))
    {
      current_cpu->SETMEMHI (pc, OPRND (h_memory_HI_and__DFLT_hmem8_65534_idx), OPRND (h_memory_HI_and__DFLT_hmem8_65534));
    }
  if (written & (1ULL << 5))
    {
      current_cpu->SETMEMQI (pc, OPRND (h_memory_QI_hmem8_idx), OPRND (h_memory_QI_hmem8));
    }
  if (written & (1ULL << 6))
    {
      current_cpu->h_gr_set (((UINT) 14), OPRND (psw));
    }

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_movlgrmem (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_movlgrmem.f
#define OPRND(f) par_exec->operands.sfmt_movlgrmem.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  if (written & (1ULL << 6))
    {
      current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rm_idx), OPRND (h_gr_HI_index_of__DFLT_Rm));
    }
  if (written & (1ULL << 7))
    {
      current_cpu->h_gr_set (((UINT) 14), OPRND (psw));
    }

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_movhgrmem (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_movhgrmem.f
#define OPRND(f) par_exec->operands.sfmt_movhgrmem.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  if (written & (1ULL << 6))
    {
      current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rm_idx), OPRND (h_gr_HI_index_of__DFLT_Rm));
    }
  if (written & (1ULL << 7))
    {
      current_cpu->h_gr_set (((UINT) 14), OPRND (psw));
    }

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_movlmemgr (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_movlgrmem.f
#define OPRND(f) par_exec->operands.sfmt_movlmemgr.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  if (written & (1ULL << 4))
    {
      current_cpu->SETMEMHI (pc, OPRND (h_memory_HI_and__DFLT_lmem8_65534_idx), OPRND (h_memory_HI_and__DFLT_lmem8_65534));
    }
  if (written & (1ULL << 5))
    {
      current_cpu->SETMEMQI (pc, OPRND (h_memory_QI_lmem8_idx), OPRND (h_memory_QI_lmem8));
    }
  if (written & (1ULL << 6))
    {
      current_cpu->h_gr_set (((UINT) 14), OPRND (psw));
    }

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_movhmemgr (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_movhgrmem.f
#define OPRND(f) par_exec->operands.sfmt_movhmemgr.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  if (written & (1ULL << 4))
    {
      current_cpu->SETMEMHI (pc, OPRND (h_memory_HI_and__DFLT_hmem8_65534_idx), OPRND (h_memory_HI_and__DFLT_hmem8_65534));
    }
  if (written & (1ULL << 5))
    {
      current_cpu->SETMEMQI (pc, OPRND (h_memory_QI_hmem8_idx), OPRND (h_memory_QI_hmem8));
    }
  if (written & (1ULL << 6))
    {
      current_cpu->h_gr_set (((UINT) 14), OPRND (psw));
    }

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_movgrgri (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_movfgrgrii.f
#define OPRND(f) par_exec->operands.sfmt_movgrgri.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  if (written & (1ULL << 6))
    {
      current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rdm_idx), OPRND (h_gr_HI_index_of__DFLT_Rdm));
    }
  if (written & (1ULL << 7))
    {
      current_cpu->h_gr_set (((UINT) 14), OPRND (psw));
    }

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_movgrgripostinc (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_movfgrgrii.f
#define OPRND(f) par_exec->operands.sfmt_movgrgripostinc.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (FLD (f_Rs), OPRND (Rs));
  if (written & (1ULL << 7))
    {
      current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rdm_idx), OPRND (h_gr_HI_index_of__DFLT_Rdm));
    }
  if (written & (1ULL << 8))
    {
      current_cpu->h_gr_set (((UINT) 14), OPRND (psw));
    }

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_movgrgripredec (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_movfgrgrii.f
#define OPRND(f) par_exec->operands.sfmt_movgrgripredec.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (FLD (f_Rs), OPRND (Rs));
  if (written & (1ULL << 7))
    {
      current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rdm_idx), OPRND (h_gr_HI_index_of__DFLT_Rdm));
    }
  if (written & (1ULL << 8))
    {
      current_cpu->h_gr_set (((UINT) 14), OPRND (psw));
    }

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_movgrigr (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_movfgrgrii.f
#define OPRND(f) par_exec->operands.sfmt_movgrigr.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  if (written & (1ULL << 5))
    {
      current_cpu->SETMEMHI (pc, OPRND (h_memory_HI_and__DFLT_Rs_65534_idx), OPRND (h_memory_HI_and__DFLT_Rs_65534));
    }
  if (written & (1ULL << 6))
    {
      current_cpu->SETMEMQI (pc, OPRND (h_memory_QI_Rs_idx), OPRND (h_memory_QI_Rs));
    }
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_movgripostincgr (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_movfgrgrii.f
#define OPRND(f) par_exec->operands.sfmt_movgripostincgr.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (FLD (f_Rs), OPRND (Rs));
  if (written & (1ULL << 6))
    {
      current_cpu->SETMEMHI (pc, OPRND (h_memory_HI_and__DFLT_Rs_65534_idx), OPRND (h_memory_HI_and__DFLT_Rs_65534));
    }
  if (written & (1ULL << 7))
    {
      current_cpu->SETMEMQI (pc, OPRND (h_memory_QI_Rs_idx), OPRND (h_memory_QI_Rs));
    }
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_movgripredecgr (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_movfgrgrii.f
#define OPRND(f) par_exec->operands.sfmt_movgripredecgr.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (FLD (f_Rs), OPRND (Rs));
  if (written & (1ULL << 6))
    {
      current_cpu->SETMEMHI (pc, OPRND (h_memory_HI_and__DFLT_Rs_65534_idx), OPRND (h_memory_HI_and__DFLT_Rs_65534));
    }
  if (written & (1ULL << 7))
    {
      current_cpu->SETMEMQI (pc, OPRND (h_memory_QI_Rs_idx), OPRND (h_memory_QI_Rs));
    }
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_movgrgrii (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_movfgrgrii.f
#define OPRND(f) par_exec->operands.sfmt_movgrgrii.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  if (written & (1ULL << 7))
    {
      current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rdm_idx), OPRND (h_gr_HI_index_of__DFLT_Rdm));
    }
  if (written & (1ULL << 8))
    {
      current_cpu->h_gr_set (((UINT) 14), OPRND (psw));
    }

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_movgrgriipostinc (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_movfgrgrii.f
#define OPRND(f) par_exec->operands.sfmt_movgrgriipostinc.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (FLD (f_Rs), OPRND (Rs));
  if (written & (1ULL << 8))
    {
      current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rdm_idx), OPRND (h_gr_HI_index_of__DFLT_Rdm));
    }
  if (written & (1ULL << 9))
    {
      current_cpu->h_gr_set (((UINT) 14), OPRND (psw));
    }

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_movgrgriipredec (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_movfgrgrii.f
#define OPRND(f) par_exec->operands.sfmt_movgrgriipredec.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (FLD (f_Rs), OPRND (Rs));
  if (written & (1ULL << 8))
    {
      current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rdm_idx), OPRND (h_gr_HI_index_of__DFLT_Rdm));
    }
  if (written & (1ULL << 9))
    {
      current_cpu->h_gr_set (((UINT) 14), OPRND (psw));
    }

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_movgriigr (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_movfgrgrii.f
#define OPRND(f) par_exec->operands.sfmt_movgriigr.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  if (written & (1ULL << 6))
    {
      current_cpu->SETMEMHI (pc, OPRND (h_memory_HI_and__DFLT_add__DFLT_Rs_imm12_65534_idx), OPRND (h_memory_HI_and__DFLT_add__DFLT_Rs_imm12_65534));
    }
  if (written & (1ULL << 7))
    {
      current_cpu->SETMEMQI (pc, OPRND (h_memory_QI_add__DFLT_Rs_imm12_idx), OPRND (h_memory_QI_add__DFLT_Rs_imm12));
    }
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_movgriipostincgr (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_movfgrgrii.f
#define OPRND(f) par_exec->operands.sfmt_movgriipostincgr.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (FLD (f_Rs), OPRND (Rs));
  if (written & (1ULL << 7))
    {
      current_cpu->SETMEMHI (pc, OPRND (h_memory_HI_and__DFLT_add__DFLT_Rs_imm12_65534_idx), OPRND (h_memory_HI_and__DFLT_add__DFLT_Rs_imm12_65534));
    }
  if (written & (1ULL << 8))
    {
      current_cpu->SETMEMQI (pc, OPRND (h_memory_QI_add__DFLT_Rs_imm12_idx), OPRND (h_memory_QI_add__DFLT_Rs_imm12));
    }
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_movgriipredecgr (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_movfgrgrii.f
#define OPRND(f) par_exec->operands.sfmt_movgriipredecgr.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (FLD (f_Rs), OPRND (Rs));
  if (written & (1ULL << 7))
    {
      current_cpu->SETMEMHI (pc, OPRND (h_memory_HI_and__DFLT_add__DFLT_Rs_imm12_65534_idx), OPRND (h_memory_HI_and__DFLT_add__DFLT_Rs_imm12_65534));
    }
  if (written & (1ULL << 8))
    {
      current_cpu->SETMEMQI (pc, OPRND (h_memory_QI_add__DFLT_Rs_imm12_idx), OPRND (h_memory_QI_add__DFLT_Rs_imm12));
    }
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_movgrgr (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_bccgrgr.f
#define OPRND(f) par_exec->operands.sfmt_movgrgr.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rd_idx), OPRND (h_gr_HI_index_of__DFLT_Rd));
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_movwimm8 (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_bccgrimm8.f
#define OPRND(f) par_exec->operands.sfmt_movwimm8.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (OPRND (h_gr_HI_Rpsw_idx), OPRND (h_gr_HI_Rpsw));
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_movwgrimm8 (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_bccgrimm8.f
#define OPRND(f) par_exec->operands.sfmt_movwgrimm8.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rm_idx), OPRND (h_gr_HI_index_of__DFLT_Rm));
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_movwgrimm16 (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_movwgrimm16.f
#define OPRND(f) par_exec->operands.sfmt_movwgrimm16.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rd_idx), OPRND (h_gr_HI_index_of__DFLT_Rd));
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_movlowgr (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_jmp.f
#define OPRND(f) par_exec->operands.sfmt_movlowgr.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rd_idx), OPRND (h_gr_HI_index_of__DFLT_Rd));
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_movfgrgri (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_movfgrgrii.f
#define OPRND(f) par_exec->operands.sfmt_movfgrgri.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  if (written & (1ULL << 7))
    {
      current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rdm_idx), OPRND (h_gr_HI_index_of__DFLT_Rdm));
    }
  if (written & (1ULL << 8))
    {
      current_cpu->h_gr_set (((UINT) 14), OPRND (psw));
    }

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_movfgrgripostinc (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_movfgrgrii.f
#define OPRND(f) par_exec->operands.sfmt_movfgrgripostinc.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (FLD (f_Rs), OPRND (Rs));
  if (written & (1ULL << 8))
    {
      current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rdm_idx), OPRND (h_gr_HI_index_of__DFLT_Rdm));
    }
  if (written & (1ULL << 9))
    {
      current_cpu->h_gr_set (((UINT) 14), OPRND (psw));
    }

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_movfgrgripredec (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_movfgrgrii.f
#define OPRND(f) par_exec->operands.sfmt_movfgrgripredec.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (FLD (f_Rs), OPRND (Rs));
  if (written & (1ULL << 8))
    {
      current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rdm_idx), OPRND (h_gr_HI_index_of__DFLT_Rdm));
    }
  if (written & (1ULL << 9))
    {
      current_cpu->h_gr_set (((UINT) 14), OPRND (psw));
    }

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_movfgrigr (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_movfgrgrii.f
#define OPRND(f) par_exec->operands.sfmt_movfgrigr.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  if (written & (1ULL << 6))
    {
      current_cpu->SETMEMHI (pc, OPRND (h_memory_HI_and__DFLT_join__SI_HI_R8_Rs_65534_idx), OPRND (h_memory_HI_and__DFLT_join__SI_HI_R8_Rs_65534));
    }
  if (written & (1ULL << 7))
    {
      current_cpu->SETMEMQI (pc, OPRND (h_memory_QI_join__SI_HI_R8_Rs_idx), OPRND (h_memory_QI_join__SI_HI_R8_Rs));
    }
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_movfgripostincgr (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_movfgrgrii.f
#define OPRND(f) par_exec->operands.sfmt_movfgripostincgr.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (FLD (f_Rs), OPRND (Rs));
  if (written & (1ULL << 7))
    {
      current_cpu->SETMEMHI (pc, OPRND (h_memory_HI_and__DFLT_join__SI_HI_R8_Rs_65534_idx), OPRND (h_memory_HI_and__DFLT_join__SI_HI_R8_Rs_65534));
    }
  if (written & (1ULL << 8))
    {
      current_cpu->SETMEMQI (pc, OPRND (h_memory_QI_join__SI_HI_R8_Rs_idx), OPRND (h_memory_QI_join__SI_HI_R8_Rs));
    }
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_movfgripredecgr (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_movfgrgrii.f
#define OPRND(f) par_exec->operands.sfmt_movfgripredecgr.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (FLD (f_Rs), OPRND (Rs));
  if (written & (1ULL << 7))
    {
      current_cpu->SETMEMHI (pc, OPRND (h_memory_HI_and__DFLT_join__SI_HI_R8_Rs_65534_idx), OPRND (h_memory_HI_and__DFLT_join__SI_HI_R8_Rs_65534));
    }
  if (written & (1ULL << 8))
    {
      current_cpu->SETMEMQI (pc, OPRND (h_memory_QI_join__SI_HI_R8_Rs_idx), OPRND (h_memory_QI_join__SI_HI_R8_Rs));
    }
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_movfgrgrii (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_movfgrgrii.f
#define OPRND(f) par_exec->operands.sfmt_movfgrgrii.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  if (written & (1ULL << 8))
    {
      current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rdm_idx), OPRND (h_gr_HI_index_of__DFLT_Rdm));
    }
  if (written & (1ULL << 9))
    {
      current_cpu->h_gr_set (((UINT) 14), OPRND (psw));
    }

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_movfgrgriipostinc (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_movfgrgrii.f
#define OPRND(f) par_exec->operands.sfmt_movfgrgriipostinc.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (FLD (f_Rs), OPRND (Rs));
  if (written & (1ULL << 9))
    {
      current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rdm_idx), OPRND (h_gr_HI_index_of__DFLT_Rdm));
    }
  if (written & (1ULL << 10))
    {
      current_cpu->h_gr_set (((UINT) 14), OPRND (psw));
    }

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_movfgrgriipredec (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_movfgrgrii.f
#define OPRND(f) par_exec->operands.sfmt_movfgrgriipredec.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (FLD (f_Rs), OPRND (Rs));
  if (written & (1ULL << 9))
    {
      current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rdm_idx), OPRND (h_gr_HI_index_of__DFLT_Rdm));
    }
  if (written & (1ULL << 10))
    {
      current_cpu->h_gr_set (((UINT) 14), OPRND (psw));
    }

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_movfgriigr (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_movfgrgrii.f
#define OPRND(f) par_exec->operands.sfmt_movfgriigr.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  if (written & (1ULL << 7))
    {
      current_cpu->SETMEMHI (pc, OPRND (h_memory_HI_and__DFLT_add__DFLT_join__SI_HI_Rb_Rs_imm12_4294967294_idx), OPRND (h_memory_HI_and__DFLT_add__DFLT_join__SI_HI_Rb_Rs_imm12_4294967294));
    }
  if (written & (1ULL << 8))
    {
      current_cpu->SETMEMQI (pc, OPRND (h_memory_QI_add__DFLT_join__SI_HI_Rb_Rs_imm12_idx), OPRND (h_memory_QI_add__DFLT_join__SI_HI_Rb_Rs_imm12));
    }
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_movfgriipostincgr (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_movfgrgrii.f
#define OPRND(f) par_exec->operands.sfmt_movfgriipostincgr.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (FLD (f_Rs), OPRND (Rs));
  if (written & (1ULL << 8))
    {
      current_cpu->SETMEMHI (pc, OPRND (h_memory_HI_and__DFLT_add__DFLT_join__SI_HI_Rb_Rs_imm12_4294967294_idx), OPRND (h_memory_HI_and__DFLT_add__DFLT_join__SI_HI_Rb_Rs_imm12_4294967294));
    }
  if (written & (1ULL << 9))
    {
      current_cpu->SETMEMQI (pc, OPRND (h_memory_QI_add__DFLT_join__SI_HI_Rb_Rs_imm12_idx), OPRND (h_memory_QI_add__DFLT_join__SI_HI_Rb_Rs_imm12));
    }
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_movfgriipredecgr (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_movfgrgrii.f
#define OPRND(f) par_exec->operands.sfmt_movfgriipredecgr.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (FLD (f_Rs), OPRND (Rs));
  if (written & (1ULL << 8))
    {
      current_cpu->SETMEMHI (pc, OPRND (h_memory_HI_and__DFLT_add__DFLT_join__SI_HI_Rb_Rs_imm12_4294967294_idx), OPRND (h_memory_HI_and__DFLT_add__DFLT_join__SI_HI_Rb_Rs_imm12_4294967294));
    }
  if (written & (1ULL << 9))
    {
      current_cpu->SETMEMQI (pc, OPRND (h_memory_QI_add__DFLT_join__SI_HI_Rb_Rs_imm12_idx), OPRND (h_memory_QI_add__DFLT_join__SI_HI_Rb_Rs_imm12));
    }
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_maskgrgr (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_bccgrgr.f
#define OPRND(f) par_exec->operands.sfmt_maskgrgr.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rd_idx), OPRND (h_gr_HI_index_of__DFLT_Rd));
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_maskgrimm16 (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_movwgrimm16.f
#define OPRND(f) par_exec->operands.sfmt_maskgrimm16.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rd_idx), OPRND (h_gr_HI_index_of__DFLT_Rd));
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_pushgr (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_jmp.f
#define OPRND(f) par_exec->operands.sfmt_pushgr.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->SETMEMHI (pc, OPRND (h_memory_HI_sp_idx), OPRND (h_memory_HI_sp));
  current_cpu->h_gr_set (((UINT) 15), OPRND (sp));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_popgr (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_jmp.f
#define OPRND(f) par_exec->operands.sfmt_popgr.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (FLD (f_Rd), OPRND (Rd));
  current_cpu->h_gr_set (((UINT) 15), OPRND (sp));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_swpn (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_jmp.f
#define OPRND(f) par_exec->operands.sfmt_swpn.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rd_idx), OPRND (h_gr_HI_index_of__DFLT_Rd));
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_swpw (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_bccgrgr.f
#define OPRND(f) par_exec->operands.sfmt_swpw.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (FLD (f_Rs), OPRND (Rs));
  current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rd_idx), OPRND (h_gr_HI_index_of__DFLT_Rd));
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_andgrgr (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_bccgrgr.f
#define OPRND(f) par_exec->operands.sfmt_andgrgr.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rd_idx), OPRND (h_gr_HI_index_of__DFLT_Rd));
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_andimm8 (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_bccgrimm8.f
#define OPRND(f) par_exec->operands.sfmt_andimm8.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (OPRND (h_gr_HI_Rpsw_idx), OPRND (h_gr_HI_Rpsw));
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_andgrimm16 (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_movwgrimm16.f
#define OPRND(f) par_exec->operands.sfmt_andgrimm16.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rd_idx), OPRND (h_gr_HI_index_of__DFLT_Rd));
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_addgrgr (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_bccgrgr.f
#define OPRND(f) par_exec->operands.sfmt_addgrgr.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rd_idx), OPRND (h_gr_HI_index_of__DFLT_Rd));
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_addgrimm4 (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_bngrimm4.f
#define OPRND(f) par_exec->operands.sfmt_addgrimm4.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rd_idx), OPRND (h_gr_HI_index_of__DFLT_Rd));
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_addimm8 (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_bccgrimm8.f
#define OPRND(f) par_exec->operands.sfmt_addimm8.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (OPRND (h_gr_HI_Rpsw_idx), OPRND (h_gr_HI_Rpsw));
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_addgrimm16 (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_movwgrimm16.f
#define OPRND(f) par_exec->operands.sfmt_addgrimm16.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rd_idx), OPRND (h_gr_HI_index_of__DFLT_Rd));
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_adcgrgr (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_bccgrgr.f
#define OPRND(f) par_exec->operands.sfmt_adcgrgr.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rd_idx), OPRND (h_gr_HI_index_of__DFLT_Rd));
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_adcgrimm4 (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_bngrimm4.f
#define OPRND(f) par_exec->operands.sfmt_adcgrimm4.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rd_idx), OPRND (h_gr_HI_index_of__DFLT_Rd));
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_adcimm8 (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_bccgrimm8.f
#define OPRND(f) par_exec->operands.sfmt_adcimm8.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (OPRND (h_gr_HI_Rpsw_idx), OPRND (h_gr_HI_Rpsw));
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_adcgrimm16 (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_movwgrimm16.f
#define OPRND(f) par_exec->operands.sfmt_adcgrimm16.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rd_idx), OPRND (h_gr_HI_index_of__DFLT_Rd));
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_incgrimm2 (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_incgrimm2.f
#define OPRND(f) par_exec->operands.sfmt_incgrimm2.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rd_idx), OPRND (h_gr_HI_index_of__DFLT_Rd));
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_rrcgrgr (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_bccgrgr.f
#define OPRND(f) par_exec->operands.sfmt_rrcgrgr.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rd_idx), OPRND (h_gr_HI_index_of__DFLT_Rd));
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_rrcgrimm4 (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_bngrimm4.f
#define OPRND(f) par_exec->operands.sfmt_rrcgrimm4.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rd_idx), OPRND (h_gr_HI_index_of__DFLT_Rd));
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_shrgrgr (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_bccgrgr.f
#define OPRND(f) par_exec->operands.sfmt_shrgrgr.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rd_idx), OPRND (h_gr_HI_index_of__DFLT_Rd));
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_shrgrimm (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_bngrimm4.f
#define OPRND(f) par_exec->operands.sfmt_shrgrimm.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rd_idx), OPRND (h_gr_HI_index_of__DFLT_Rd));
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_asrgrgr (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_bccgrgr.f
#define OPRND(f) par_exec->operands.sfmt_asrgrgr.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rd_idx), OPRND (h_gr_HI_index_of__DFLT_Rd));
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_asrgrimm (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_bngrimm4.f
#define OPRND(f) par_exec->operands.sfmt_asrgrimm.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rd_idx), OPRND (h_gr_HI_index_of__DFLT_Rd));
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_set1grimm (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_bngrimm4.f
#define OPRND(f) par_exec->operands.sfmt_set1grimm.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rd_idx), OPRND (h_gr_HI_index_of__DFLT_Rd));
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_set1lmemimm (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_set1lmemimm.f
#define OPRND(f) par_exec->operands.sfmt_set1lmemimm.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->SETMEMQI (pc, OPRND (h_memory_QI_lmem8_idx), OPRND (h_memory_QI_lmem8));
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_set1hmemimm (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_set1hmemimm.f
#define OPRND(f) par_exec->operands.sfmt_set1hmemimm.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->SETMEMQI (pc, OPRND (h_memory_QI_hmem8_idx), OPRND (h_memory_QI_hmem8));
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_bccgrgr (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_bccgrgr.f
#define OPRND(f) par_exec->operands.sfmt_bccgrgr.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  if (written & (1ULL << 13))
    {
      current_cpu->branch (OPRND (pc), npc, status);
    }
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_bccgrimm8 (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_bccgrimm8.f
#define OPRND(f) par_exec->operands.sfmt_bccgrimm8.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  if (written & (1ULL << 13))
    {
      current_cpu->branch (OPRND (pc), npc, status);
    }
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_bccimm16 (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_bccimm16.f
#define OPRND(f) par_exec->operands.sfmt_bccimm16.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  if (written & (1ULL << 12))
    {
      current_cpu->branch (OPRND (pc), npc, status);
    }
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_bngrimm4 (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_bngrimm4.f
#define OPRND(f) par_exec->operands.sfmt_bngrimm4.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_Rpsw_set (OPRND (Rpsw));
  if (written & (1ULL << 5))
    {
      current_cpu->branch (OPRND (pc), npc, status);
    }

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_bngrgr (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_bccgrgr.f
#define OPRND(f) par_exec->operands.sfmt_bngrgr.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_Rpsw_set (OPRND (Rpsw));
  if (written & (1ULL << 5))
    {
      current_cpu->branch (OPRND (pc), npc, status);
    }

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_bnlmemimm (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_bnlmemimm.f
#define OPRND(f) par_exec->operands.sfmt_bnlmemimm.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  if (written & (1ULL << 4))
    {
      current_cpu->branch (OPRND (pc), npc, status);
    }

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_bnhmemimm (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_bnhmemimm.f
#define OPRND(f) par_exec->operands.sfmt_bnhmemimm.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  if (written & (1ULL << 4))
    {
      current_cpu->branch (OPRND (pc), npc, status);
    }

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_bcc (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_bcc.f
#define OPRND(f) par_exec->operands.sfmt_bcc.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  if (written & (1ULL << 7))
    {
      current_cpu->branch (OPRND (pc), npc, status);
    }

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_bgr (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_jmp.f
#define OPRND(f) par_exec->operands.sfmt_bgr.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->branch (OPRND (pc), npc, status);

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_br (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_br.f
#define OPRND(f) par_exec->operands.sfmt_br.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->branch (OPRND (pc), npc, status);

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_jmp (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_jmp.f
#define OPRND(f) par_exec->operands.sfmt_jmp.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->branch (OPRND (pc), npc, status);

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_jmpf (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_jmpf.f
#define OPRND(f) par_exec->operands.sfmt_jmpf.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->branch (OPRND (pc), npc, status);

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_callrgr (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_jmp.f
#define OPRND(f) par_exec->operands.sfmt_callrgr.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->SETMEMSI (pc, OPRND (h_memory_SI_sp_idx), OPRND (h_memory_SI_sp));
  current_cpu->branch (OPRND (pc), npc, status);
  current_cpu->h_gr_set (((UINT) 15), OPRND (sp));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_callrimm (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_br.f
#define OPRND(f) par_exec->operands.sfmt_callrimm.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->SETMEMSI (pc, OPRND (h_memory_SI_sp_idx), OPRND (h_memory_SI_sp));
  current_cpu->branch (OPRND (pc), npc, status);
  current_cpu->h_gr_set (((UINT) 15), OPRND (sp));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_callgr (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_jmp.f
#define OPRND(f) par_exec->operands.sfmt_callgr.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->SETMEMSI (pc, OPRND (h_memory_SI_sp_idx), OPRND (h_memory_SI_sp));
  current_cpu->branch (OPRND (pc), npc, status);
  current_cpu->h_gr_set (((UINT) 15), OPRND (sp));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_callfimm (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_jmpf.f
#define OPRND(f) par_exec->operands.sfmt_callfimm.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->SETMEMSI (pc, OPRND (h_memory_SI_sp_idx), OPRND (h_memory_SI_sp));
  current_cpu->branch (OPRND (pc), npc, status);
  current_cpu->h_gr_set (((UINT) 15), OPRND (sp));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_icallrgr (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_jmp.f
#define OPRND(f) par_exec->operands.sfmt_icallrgr.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->SETMEMHI (pc, OPRND (h_memory_HI_add__DFLT_sp_4_idx), OPRND (h_memory_HI_add__DFLT_sp_4));
  current_cpu->SETMEMSI (pc, OPRND (h_memory_SI_sp_idx), OPRND (h_memory_SI_sp));
  current_cpu->branch (OPRND (pc), npc, status);
  current_cpu->h_gr_set (((UINT) 15), OPRND (sp));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_icallgr (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_jmp.f
#define OPRND(f) par_exec->operands.sfmt_icallgr.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->SETMEMHI (pc, OPRND (h_memory_HI_add__DFLT_sp_4_idx), OPRND (h_memory_HI_add__DFLT_sp_4));
  current_cpu->SETMEMSI (pc, OPRND (h_memory_SI_sp_idx), OPRND (h_memory_SI_sp));
  current_cpu->branch (OPRND (pc), npc, status);
  current_cpu->h_gr_set (((UINT) 15), OPRND (sp));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_icallfimm (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.sfmt_jmpf.f
#define OPRND(f) par_exec->operands.sfmt_icallfimm.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->SETMEMHI (pc, OPRND (h_memory_HI_add__DFLT_sp_4_idx), OPRND (h_memory_HI_add__DFLT_sp_4));
  current_cpu->SETMEMSI (pc, OPRND (h_memory_SI_sp_idx), OPRND (h_memory_SI_sp));
  current_cpu->branch (OPRND (pc), npc, status);
  current_cpu->h_gr_set (((UINT) 15), OPRND (sp));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_iret (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.fmt_empty.f
#define OPRND(f) par_exec->operands.sfmt_iret.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->branch (OPRND (pc), npc, status);
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));
  current_cpu->h_gr_set (((UINT) 15), OPRND (sp));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_ret (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.fmt_empty.f
#define OPRND(f) par_exec->operands.sfmt_ret.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->branch (OPRND (pc), npc, status);
  current_cpu->h_gr_set (((UINT) 15), OPRND (sp));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_mul (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.fmt_empty.f
#define OPRND(f) par_exec->operands.sfmt_mul.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (((UINT) 0), OPRND (R0));
  current_cpu->h_gr_set (((UINT) 1), OPRND (R1));
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_sdiv (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.fmt_empty.f
#define OPRND(f) par_exec->operands.sfmt_sdiv.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (((UINT) 0), OPRND (R0));
  current_cpu->h_gr_set (((UINT) 1), OPRND (R1));
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_sdivlh (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.fmt_empty.f
#define OPRND(f) par_exec->operands.sfmt_sdivlh.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto

  current_cpu->h_gr_set (((UINT) 0), OPRND (R0));
  current_cpu->h_gr_set (((UINT) 1), OPRND (R1));
  current_cpu->h_gr_set (((UINT) 14), OPRND (psw));

  return status;
#undef OPRND
#undef FLD
}


sem_status
xstormy16_write_sfmt_reset (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
{
#define FLD(f) abuf->fields.fmt_empty.f
#define OPRND(f) par_exec->operands.sfmt_reset.f
  xstormy16_scache* abuf = sem;
  unsigned long long written = abuf->written;
  PCADDR pc = abuf->addr;
  PCADDR npc = 0; // dummy value for branches
  sem_status status = SEM_STATUS_NORMAL; // ditto


  return status;
#undef OPRND
#undef FLD
}

@


1.6
log
@* xstormy16-decode.cxx: Regenerate.
* xstormy16-sem.cxx: Regenerate.
* xstormy16-write.cxx: Regenerate.
@
text
@@


1.5
log
@* xstormy16-sem.cxx: Regenerate.
* xstormy16-write.cxx: Regenerate.
@
text
@d5 1
a5 1
Copyright (C) 2000, 2001, 2002, 2003 Red Hat, Inc.
d178 30
@


1.4
log
@* xstormy16-decode.cxx: Regenerate.
* xstormy16-decode.h: Regenerate.
* xstormy16-sem.cxx: Regenerate.
* xstormy16-write.cxx: Regenerate.
@
text
@d5 1
a5 1
Copyright (C) 2000, 2001, 2002 Red Hat, Inc.
d106 1
a106 1
  if (written & (1ULL << 7))
d110 1
a110 1
  if (written & (1ULL << 8))
d132 1
a132 1
  if (written & (1ULL << 7))
d136 1
a136 1
  if (written & (1ULL << 8))
d188 1
a188 1
  if (written & (1ULL << 7))
d192 1
a192 1
  if (written & (1ULL << 8))
d215 1
a215 1
  if (written & (1ULL << 8))
d219 1
a219 1
  if (written & (1ULL << 9))
d242 1
a242 1
  if (written & (1ULL << 8))
d246 1
a246 1
  if (written & (1ULL << 9))
d270 1
a270 1
      current_cpu->SETMEMHI (pc, OPRND (h_memory_HI_nwhere_idx), OPRND (h_memory_HI_nwhere));
d298 1
a298 1
      current_cpu->SETMEMHI (pc, OPRND (h_memory_HI_nwhere_idx), OPRND (h_memory_HI_nwhere));
d326 1
a326 1
      current_cpu->SETMEMHI (pc, OPRND (h_memory_HI_nwhere_idx), OPRND (h_memory_HI_nwhere));
d351 1
a351 1
  if (written & (1ULL << 8))
d355 1
a355 1
  if (written & (1ULL << 9))
d378 1
a378 1
  if (written & (1ULL << 9))
d382 1
a382 1
  if (written & (1ULL << 10))
d405 1
a405 1
  if (written & (1ULL << 9))
d409 1
a409 1
  if (written & (1ULL << 10))
d433 1
a433 1
      current_cpu->SETMEMHI (pc, OPRND (h_memory_HI_nwhere_idx), OPRND (h_memory_HI_nwhere));
d461 1
a461 1
      current_cpu->SETMEMHI (pc, OPRND (h_memory_HI_nwhere_idx), OPRND (h_memory_HI_nwhere));
d489 1
a489 1
      current_cpu->SETMEMHI (pc, OPRND (h_memory_HI_nwhere_idx), OPRND (h_memory_HI_nwhere));
d614 1
a614 1
  if (written & (1ULL << 8))
d618 1
a618 1
  if (written & (1ULL << 9))
d641 1
a641 1
  if (written & (1ULL << 9))
d645 1
a645 1
  if (written & (1ULL << 10))
d668 1
a668 1
  if (written & (1ULL << 9))
d672 1
a672 1
  if (written & (1ULL << 10))
d696 1
a696 1
      current_cpu->SETMEMHI (pc, OPRND (h_memory_HI_nwhere_idx), OPRND (h_memory_HI_nwhere));
d724 1
a724 1
      current_cpu->SETMEMHI (pc, OPRND (h_memory_HI_nwhere_idx), OPRND (h_memory_HI_nwhere));
d752 1
a752 1
      current_cpu->SETMEMHI (pc, OPRND (h_memory_HI_nwhere_idx), OPRND (h_memory_HI_nwhere));
d777 1
a777 1
  if (written & (1ULL << 9))
d781 1
a781 1
  if (written & (1ULL << 10))
d804 1
a804 1
  if (written & (1ULL << 10))
d808 1
a808 1
  if (written & (1ULL << 11))
d831 1
a831 1
  if (written & (1ULL << 10))
d835 1
a835 1
  if (written & (1ULL << 11))
@


1.3
log
@* xstormy16-decode.cxx: Regenerate.
* xstormy16-sem.cxx: Regenerate.
* xstormy16-write.cxx: Regenerate.

* xstormy16.cxx (parity): Fix logic.
@
text
@d1331 20
d1411 20
d1982 1
a1982 1
xstormy16_write_sfmt_nop (xstormy16_cpu* current_cpu, xstormy16_scache* sem, xstormy16_parexec* par_exec)
d1985 1
a1985 1
#define OPRND(f) par_exec->operands.sfmt_nop.f
@


1.2
log
@* xstormy16-cpu.h: Regenerate.
* xstormy16-decode.cxx: Regenerate.
* xstormy16-decode.h: Regenerate.
* xstormy16-defs.h: Regenerate.
* xstormy16-desc.h: Regenerate.
* xstormy16-sem.cxx: Regenerate.
* xstormy16-write.cxx: Regenerate.
@
text
@d46 1
a46 1
  if (written & (1ULL << 5))
d48 1
a48 1
      current_cpu->SETMEMHI (pc, OPRND (h_memory_HI_lmem8_idx), OPRND (h_memory_HI_lmem8));
d50 1
a50 1
  if (written & (1ULL << 6))
d54 1
a54 1
  if (written & (1ULL << 7))
d76 1
a76 1
  if (written & (1ULL << 5))
d78 1
a78 1
      current_cpu->SETMEMHI (pc, OPRND (h_memory_HI_hmem8_idx), OPRND (h_memory_HI_hmem8));
d80 1
a80 1
  if (written & (1ULL << 6))
d84 1
a84 1
  if (written & (1ULL << 7))
d158 1
a158 1
  if (written & (1ULL << 5))
d160 1
a160 1
      current_cpu->SETMEMHI (pc, OPRND (h_memory_HI_lmem8_idx), OPRND (h_memory_HI_lmem8));
d162 1
a162 1
  if (written & (1ULL << 6))
d166 1
a166 1
  if (written & (1ULL << 7))
d295 1
a295 1
  current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rs_idx), OPRND (h_gr_HI_index_of__DFLT_Rs));
d323 1
a323 1
  current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rs_idx), OPRND (h_gr_HI_index_of__DFLT_Rs));
d431 28
a458 1
  current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rs_idx), OPRND (h_gr_HI_index_of__DFLT_Rs));
d486 1
a486 1
  current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rs_idx), OPRND (h_gr_HI_index_of__DFLT_Rs));
d694 29
a722 1
  if (written & (1ULL << 9))
d724 1
a724 1
      current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rs_idx), OPRND (h_gr_HI_index_of__DFLT_Rs));
d726 1
a726 1
  if (written & (1ULL << 10))
d728 1
a728 1
      current_cpu->h_gr_set (((UINT) 14), OPRND (psw));
d730 1
d749 9
a757 1
  current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rs_idx), OPRND (h_gr_HI_index_of__DFLT_Rs));
d857 28
a884 1
  current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rs_idx), OPRND (h_gr_HI_index_of__DFLT_Rs));
d912 1
a912 1
  current_cpu->h_gr_set (OPRND (h_gr_HI_index_of__DFLT_Rs_idx), OPRND (h_gr_HI_index_of__DFLT_Rs));
@


1.1
log
@* sanyo xstormy16 sid support.


[ChangeLog]
	* sid.spec: Add /usr/bin/xstormy16-elf-sid.

[bsp/ChangeLog]
	* Makefile.am (FAM10SCRIPTS): Add Xstormy16 support.
	* configrun-sid.in: Likewise.
	* xstormy16-elf-sid: New Xstormy16 frontend.

[bsp/pregen/ChangeLog]
	* pregen-configs.in: Add support for Xstormy16.
	* xstormy16-gloss.conf: New file.
	* xstormy16-gdb.conf: Likewise.
	* xstormy16-gloss-gdb.conf: Likewise.
	* xstormy16-gloss-gdb-tksm.conf: Likewise.

[component/ChangeLog]
	* CATALOG: Add hw-cpu-xstormy16.
	* tconfig.in: Add SIDTARGET_XSTORMY16.

[component/cgen-cpu/ChangeLog]
	* compCGEN.cxx: If SIDTARGET_XSTORMY16, add hw-cpu-xstormy16 support.
	* configure.in: Decend into xstormy16 if necessary.

[config/ChangeLog]
	* sidtargets.m4: Add Xstormy16 support.
	* config.sub: Likewise.
	* info.tcl.in: Likewise.
@
text
@d5 1
a5 1
Copyright (C) 2000, 2001 Red Hat, Inc.
d14 1852
a1866 2
// no write-stack reset function required
// no write-stack writeback function required
@

