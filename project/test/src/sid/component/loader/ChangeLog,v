head	1.22;
access;
symbols
	sid-snapshot-20180601:1.22
	sid-snapshot-20180501:1.22
	sid-snapshot-20180401:1.22
	sid-snapshot-20180301:1.22
	sid-snapshot-20180201:1.22
	sid-snapshot-20180101:1.22
	sid-snapshot-20171201:1.22
	sid-snapshot-20171101:1.22
	sid-snapshot-20171001:1.22
	sid-snapshot-20170901:1.22
	sid-snapshot-20170801:1.22
	sid-snapshot-20170701:1.22
	sid-snapshot-20170601:1.22
	sid-snapshot-20170501:1.22
	sid-snapshot-20170401:1.22
	sid-snapshot-20170301:1.22
	sid-snapshot-20170201:1.22
	sid-snapshot-20170101:1.22
	sid-snapshot-20161201:1.22
	sid-snapshot-20161101:1.22
	sid-snapshot-20160901:1.22
	sid-snapshot-20160801:1.22
	sid-snapshot-20160701:1.22
	sid-snapshot-20160601:1.22
	sid-snapshot-20160501:1.22
	sid-snapshot-20160401:1.22
	sid-snapshot-20160301:1.22
	sid-snapshot-20160201:1.22
	sid-snapshot-20160101:1.22
	sid-snapshot-20151201:1.22
	sid-snapshot-20151101:1.22
	sid-snapshot-20151001:1.22
	sid-snapshot-20150901:1.22
	sid-snapshot-20150801:1.22
	sid-snapshot-20150701:1.22
	sid-snapshot-20150601:1.22
	sid-snapshot-20150501:1.22
	sid-snapshot-20150401:1.22
	sid-snapshot-20150301:1.22
	sid-snapshot-20150201:1.22
	sid-snapshot-20150101:1.22
	sid-snapshot-20141201:1.22
	sid-snapshot-20141101:1.22
	sid-snapshot-20141001:1.22
	sid-snapshot-20140901:1.22
	sid-snapshot-20140801:1.22
	sid-snapshot-20140701:1.22
	sid-snapshot-20140601:1.22
	sid-snapshot-20140501:1.22
	sid-snapshot-20140401:1.22
	sid-snapshot-20140301:1.22
	sid-snapshot-20140201:1.22
	sid-snapshot-20140101:1.22
	sid-snapshot-20131201:1.22
	sid-snapshot-20131101:1.22
	sid-snapshot-20131001:1.22
	sid-snapshot-20130901:1.21
	sid-snapshot-20130801:1.21
	sid-snapshot-20130701:1.21
	sid-snapshot-20130601:1.21
	sid-snapshot-20130501:1.21
	sid-snapshot-20130401:1.21
	sid-snapshot-20130301:1.21
	sid-snapshot-20130201:1.21
	sid-snapshot-20130101:1.21
	sid-snapshot-20121201:1.21
	sid-snapshot-20121101:1.21
	sid-snapshot-20121001:1.21
	sid-snapshot-20120901:1.21
	sid-snapshot-20120801:1.21
	sid-snapshot-20120701:1.21
	sid-snapshot-20120601:1.21
	sid-snapshot-20120501:1.21
	sid-snapshot-20120401:1.21
	sid-snapshot-20120301:1.21
	sid-snapshot-20120201:1.21
	sid-snapshot-20120101:1.21
	sid-snapshot-20111201:1.21
	sid-snapshot-20111101:1.21
	sid-snapshot-20111001:1.21
	sid-snapshot-20110901:1.21
	sid-snapshot-20110801:1.21
	sid-snapshot-20110701:1.21
	sid-snapshot-20110601:1.21
	sid-snapshot-20110501:1.21
	sid-snapshot-20110401:1.21
	sid-snapshot-20110301:1.21
	sid-snapshot-20110201:1.21
	sid-snapshot-20110101:1.21
	sid-snapshot-20101201:1.21
	sid-snapshot-20101101:1.21
	sid-snapshot-20101001:1.21
	sid-snapshot-20100901:1.21
	sid-snapshot-20100801:1.21
	sid-snapshot-20100701:1.21
	sid-snapshot-20100601:1.21
	sid-snapshot-20100501:1.21
	sid-snapshot-20100401:1.21
	sid-snapshot-20100301:1.21
	sid-snapshot-20100201:1.21
	sid-snapshot-20100101:1.21
	sid-snapshot-20091201:1.21
	sid-snapshot-20091101:1.21
	sid-snapshot-20091001:1.21
	sid-snapshot-20090901:1.21
	sid-snapshot-20090801:1.21
	sid-snapshot-20090701:1.21
	sid-snapshot-20090601:1.21
	sid-snapshot-20090501:1.21
	sid-snapshot-20090401:1.21
	sid-snapshot-20090301:1.21
	sid-snapshot-20090201:1.21
	sid-snapshot-20090101:1.21
	sid-snapshot-20081201:1.21
	sid-snapshot-20081101:1.21
	sid-snapshot-20081001:1.21
	sid-snapshot-20080901:1.21
	sid-snapshot-20080801:1.21
	sid-snapshot-20080701:1.21
	sid-snapshot-20080601:1.21
	sid-snapshot-20080501:1.21
	sid-snapshot-20080403:1.21
	sid-snapshot-20080401:1.21
	sid-snapshot-20080301:1.21
	sid-snapshot-20080201:1.21
	sid-snapshot-20080101:1.21
	sid-snapshot-20071201:1.21
	sid-snapshot-20071101:1.21
	sid-snapshot-20071001:1.21
	sid-20020905-branchpoint:1.8
	sid-20020905-branch:1.8.0.2
	cygnus_cvs_20020108_pre:1.7;
locks; strict;
comment	@# @;


1.22
date	2013.09.23.03.26.03;	author amodra;	state Exp;
branches;
next	1.21;

1.21
date	2006.05.11.15.08.51;	author brolley;	state Exp;
branches;
next	1.20;

1.20
date	2005.12.16.10.23.14;	author nathan;	state Exp;
branches;
next	1.19;

1.19
date	2005.08.19.19.45.22;	author brolley;	state Exp;
branches;
next	1.18;

1.18
date	2005.06.04.03.23.09;	author jimb;	state Exp;
branches;
next	1.17;

1.17
date	2005.05.12.16.11.20;	author brolley;	state Exp;
branches;
next	1.16;

1.16
date	2004.06.29.19.10.39;	author scox;	state Exp;
branches;
next	1.15;

1.15
date	2004.05.10.23.10.51;	author fche;	state Exp;
branches;
next	1.14;

1.14
date	2004.04.29.20.27.32;	author brolley;	state Exp;
branches;
next	1.13;

1.13
date	2004.02.26.16.44.40;	author brolley;	state Exp;
branches;
next	1.12;

1.12
date	2004.02.23.20.08.53;	author brolley;	state Exp;
branches;
next	1.11;

1.11
date	2004.02.15.15.45.04;	author brolley;	state Exp;
branches;
next	1.10;

1.10
date	2004.02.12.20.30.08;	author brolley;	state Exp;
branches;
next	1.9;

1.9
date	2003.10.21.21.30.44;	author brolley;	state Exp;
branches;
next	1.8;

1.8
date	2002.02.05.16.33.02;	author brolley;	state Exp;
branches;
next	1.7;

1.7
date	2001.10.05.00.36.16;	author bje;	state Exp;
branches;
next	1.6;

1.6
date	2001.08.04.11.07.50;	author bje;	state Exp;
branches;
next	1.5;

1.5
date	2001.08.03.06.02.45;	author mrg;	state Exp;
branches;
next	1.4;

1.4
date	2001.06.22.07.32.52;	author bje;	state Exp;
branches;
next	1.3;

1.3
date	2001.04.03.19.34.38;	author fche;	state Exp;
branches;
next	1.2;

1.2
date	2001.01.13.14.26.05;	author mrg;	state Exp;
branches;
next	1.1;

1.1
date	2000.12.07.19.30.54;	author fche;	state Exp;
branches;
next	;


desc
@@


1.22
log
@Pick up support for powerpc64le in top level libtool.m4 by deleting
sid/config files duplicating the top level files and modifying
AC_CONFIG_AUX_DIR and ACLOCAL_AMFLAGS appropriately.
Regenerate with automake-1.11.1 and autoconf-2.64.
@
text
@2013-09-23  Alan Modra  <amodra@@gmail.com>

	* Makefile.in: Regenerate.

2006-05-11  Dave Brolley  <brolley@@redhat.com>

	* elfload.c (readElfFile): symTabEntry is now 24 bytes in length.
	Add 64 bit support for SHT_STRTAB and SHT_SYMTAB. Add 64 bit support
	for reading the symbol table.

2005-12-16  Nathan Sidwell  <nathan@@codesourcery.com>

	Second part of ms1 to mt renaming.
	* Makefile.am: Rebuilt.
	* Makefile.in: Rebuilt.

2005-08-19  Dave Brolley  <brolley@@redhat.com>

	* Contribute the following changes:

	2005-07-13  Dave Brolley  <brolley@@redhat.com>

	* compLoader.cxx (generic_loader): Inherit virtually from
	fixed_attribute_map_component. Inherit from no_relation_component.

	2005-06-06  Dave Brolley  <brolley@@redhat.com>

	* elfload.c (readElfFile): Return and empty symbol table if none found.

	* compLoader.cxx: Add using cleause for
	sidutil::configurable_component.
	(generic_loader): fixed_pin_map_component and configurable_component
	inherited virtually.
	(configure): New virtual override in generic_loader.
	(check_function_pin_handler): Return the empty string if no function
	is associated with the given address.
	* sw-load-elf.xml: Add description of new interfaces.
	* sw-load-elf.txt: Regenerated.

	2005-05-29  Dave Brolley  <brolley@@redhat.com>

	* elfload.h (StringTable, Symbol): New struct types.
	(readElfFile): New takes symbol_table argument.
	(SHT_SYMTAB, SHT_STRTAB, ELF32_ST_TYPE, STT_FUNC): New macros.
	* elfload.c (stringTables,stringTableCount,stringTableNum): New
	static variables.
	(newStringTable): New static function.
	(symbolTable,symbolCount,symbolNum): New static variables.
	(newSymbol): New static function.
	(readElfFile): New takes symbol_table argument. Build string tables and
	symbol table while reading the input file.
	* compLoader.cxx (elf_loader): New constructor.
	(load_it): Obtain symmol_table from readElfFile.
	(check_function_pin,symbol_table,current_function): New members
	of elf_loader.
	(check_function_pin_handler): New method of elf_loader.

2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.am (LIBIBERTY): Link against the libiberty.a from
	libiberty/pic, not the non-PIC version in libiberty.
	* Makefile.in: Regenerated with Automake 1.9.5.

2005-05-12  Dave Brolley  <brolley@@redhat.com>

	* compLoader.cxx (probe_address): New method of loader_probe_bus.
	(loader_probe_bus::write): Call probe_address.
	(handle_probe_pin): New method of generic_loader.
	(generic_loader): Initialize probe_pin and add "probe" pin.
	* sw-load-elf.xml: Describe the new pin.
	* sw-load-elf.txt: Regenerated.

2004-06-29  Stan Cox  <scox@@redhat.com>

	* compLoader.cxx (generic_loader):  Add eflags_pin.
	(elf_loader): Add eflags.
	(load_it): Set eflags.
	* elfload.c (readElfFile): Add eflags.

2004-05-10  Frank Ch. Eigler  <fche@@elastic.org>

	* elfload.c (textSectionAddress): Fix declaration placement typo.

2004-04-29  Dave Brolley  <brolley@@redhat.com>

	* elfload.c (textSectionAddress): Check section table before accessing.
	* compLoader.cxx (loader_probe_bus): Initialize section_table.

2004-02-26  Dave Brolley  <brolley@@redhat.com>

	* elfload.c (textSectionNum): Now file level static.
	(readElfFile): Initialize textSections, textSectionNum and
	textSectionCount for each load. Set *section_table after all
	sections have been saved.

2004-02-23  Dave Brolley  <brolley@@redhat.com>

	* elfload.c (readElfFile): Get address from offset 16 for 64 bit and
	offset 12 for 16 bit.

2004-02-14  Dave Brolley  <brolley@@redhat.com>

	* Makefile.am (INCLUDES): Add $(srcdir)/../../../include to find
	libiberty.h.
	* Makefile.in: Regenerated.

2004-02-12  Dave Brolley  <brolley@@redhat.com>

	* elfload.h: Use 'unsigned long long' instead of host_int_8.
	(struct TextSection): Moved here from elfload.c
	(SHF_EXECINSTR): New macro.
	* elfload.c (loadAreas): Now a pointer to a dynamically allocated
	table.
	(textSections): Ditto.
	(newLoadArea): New static function.
	(newTextSection): Ditto.
	(textSectionAddress): Now takes a pointer to a section table.
	(readElfFile): fileHeader, psymHdr, secHdr now automatic arrays.
	Allocate loadAreas and textSections as required. Build textSections
	from the ELF section table; one for each executable loaded.
	* compLoader.cxx (sid::host_int_8): Add 'using' clause.
	(textSegmentAddress): renamed to textSectionAddress and moved to
	elfload.h.
	(setSection_table): New method of loader_probe_bus.
	(SID_GB_WRITE): Call textSectionAddress and pass section_table.
	(section_table): New member of loader_probe_bus.
	(load_it): Get section_table address from readElfFile.
	* Makefile.am (LIBIBERTY): New variable.
	(libloader_la_LIBADD): Add $(LIBIBERTY).
	* Makefile.in: Regenerated.

2003-10-07  Dave Brolley  <brolley@@redhat.com>

	* compLoader.cxx (loader_probe_bus): Now takes pin as an argument.
	Remove warn_write_to_code_p. Initialize write_to_code_address_pin.
	(SID_GB_WRITE): Drive write_to_code_address_pin instead of
	generating a message here.
	(write_to_code_address_pin): New member of generic_loader.
	(set_warn_write_to_code): Removed.
	(generic_loader): remove "warn-write-to-code?" attribute and pin.
	Add "write-to-code-address" pin.
	* sw-load-elf.xml: Remove reference to "warn-write-to-code?" pin
	and attribute. Document "write-to-code-address" pin.
	* sw-load-elf.txt: Regenerated.

2003-10-07  Dave Brolley  <brolley@@redhat.com>

	* compLoader.cxx: Use sidutil::fixed_bus_map_component.
	(loader_probe_bus): New class.
	(warn_write_to_code_pin): New member of generic_loader.
	(probe_upstream): Ditto.
	(probe_downstream): Ditto.
	(set_warn_write_to_code): New method of generic_loader.
	(generic_loader): Now inherits fixed_bus_map_component.
	Initialize new members.

2003-10-07  Dave Brolley  <brolley@@redhat.com>

	For Stan Cox  <scox@@redhat.com>
	* elfload.c (textSegmentAddress): New function.
	* elfload.h (textSegmentAddress): Likewise.

2002-02-05  Dave Brolley  <brolley@@redhat.com>

	* elfload.c (readElfFile): Obtain the load address from offset 24 for
	elf64 and from offset 12 for elf32.

2001-08-15  John Healy  <jhealy@@redhat.com>

	* sw-load-elf.xml: Changed "set loader file" to "set cpu-loader file".
	* sw-load-elf.txt: Ditto.

2001-08-03  matthew green  <mrg@@redhat.com>

	* compLoader.cxx (~generic_loader): Add prototype.

2001-07-11  Frank Ch. Eigler  <fche@@redhat.com>

	* sw-load-elf.xml: Add <?xml ... ?> prefix.

2001-07-04  graydon hoare  <graydon@@redhat.com>

	* configure.in: Add maintainer-mode doc building configury.
	* configure: Regenerate.
	* Makefile.am: Add maintainer-mode doc building.
	* Makefile.in: Regenerate.

2001-07-04  Ben Elliston  <bje@@redhat.com>

	* sw-load-elf.txt: Generate.

2001-06-27  graydon hoare  <graydon@@redhat.com>

	* sw-load-elf.xml: Add.

2001-06-22  Ben Elliston  <bje@@redhat.com>

	* compLoader.cxx (elf_loader::load_function): Don't loop while
	memory appears delayed -- just write.

2001-04-03  Frank Ch. Eigler  <fche@@redhat.com>

	* compLoader.cxx (load_it): Emit verbose message for starting_pc.

2001-03-23  John Healy  <jhealy@@redhat.com>

	* Makefile.in: Regenerated.

2001-01-13  matthew green  <mrg@@redhat.com>

	* compLoader.cxx (load_accessor): Delete member.
	(load_accessor_insn, load_accessor_data): New bus* members.
	(ctor): Initialise load_accessor_insn and load_accessor_data.
	Add `load-accessor-insn' and `load-accessor-data' accessors
	and delete `load-accessor'.
	(load_function): Extend to 64 bit addresses, and have an instruction
	space identifier.
	(load_it): Check both load_accessor_insn and load_accessor_data are set,
	and use the appropriate one.  Extend messages to meantion instruction or
	data loads.
	* elfload.h (fetchQuadLittle, fetchQuadBig, fetchQuad): New macros.
	(PFLOAD): Make 64-bit & Harvard address space friendly
	(sw-load-elf.txt): Document `load-accessor-insn' and `load-accessor-data'
	accessors.
	* elfload.c (readElfFile): Support 64-bit ELF as well as 32-bit ELF.
	* sw-load-elf.txt: Document `load-accessor-insn' and `load-accessor-data'
	accessors.

2000-11-21  Frank Ch. Eigler  <fche@@redhat.com>

	* Makefile.in: Regenerated.

2000-10-11  matthew green  <mrg@@redhat.com>

	* compLoader.cxx (elf_loader::load_function): When printing dest_addr,
	pass it to make_numeric_attribute as a (void *).

2000-07-19  Frank Ch. Eigler  <fche@@redhat.com>

	* Makefile.in: Regenerated.

2000-05-26  Frank Ch. Eigler  <fche@@redhat.com>

	* compLoader.cxx: Import more std:: identifiers.
	(load_function): Use make_numeric_attribute, not hex<<value<<dec idiom.

2000-01-25  Frank Ch. Eigler  <fche@@redhat.com>

	* Makefile.in: Regenerated.

2000-01-12  Frank Ch. Eigler  <fche@@cygnus.com>

	* Makefile.in: Regenerated.

1999-12-09  Faisal Khoja  <fkhoja@@cygnus.com>

	* Makefile.in: Regenerated.

1999-12-08  Faisal Khoja  <fkhoja@@cygnus.com>

	* Makefile.in: Regenerated.

1999-12-07  Frank Ch. Eigler  <fche@@cygnus.com>

	* sw-load-elf.txt: New file.  Renamed from
	* README: Removed.
	* Makefile.am: Install new file.
	* Makefile.in: Regenerated.

1999-12-03  Frank Ch. Eigler  <fche@@cygnus.com>

	* compLoader.cxx (generic_loader ctor): Initialize pointer member.

1999-11-23  Frank Ch. Eigler  <fche@@cygnus.com>

	* compLoader.cxx (load_it): Take unused argument.
	Drive output pin with sentinel value.
	(compLoaderDelete): Use dynamic_cast<>.

1999-11-17  Faisal Khoja  <fkhoja@@cygnus.com>

	* compLoader.cxx: Removed extra decl. of using sid::host_int_4.

1999-11-01  Permaine Cheung  <pcheung@@cygnus.com>

	* README: Fix pin names and component names in the configuration
	of Environment section.

1999-10-19  Frank Ch. Eigler  <fche@@cygnus.com>

	* Makefile.in: Regenerated.

1999-09-25  Doug Evans  <devans@@casey.cygnus.com>

	* compLoader.cxx (elf_loader::load_function): Print error message
	address in hex.

1999-09-13  Frank Ch. Eigler  <fche@@cygnus.com>

	* compLoader.cxx (*): Use host_int_X, not compiler_int_X.

1999-09-07  Mary Lynn Kostash  <mkostash@@cygnus.com>

	* README:  Minor grammatical changes.

1999-08-27  Frank Ch. Eigler  <fche@@cygnus.com>

	* compLoader.cxx (*): Use cout for verbose messages, not cerr.
	Prefix messages with "loader:" consistently.
	(error_pin): New member.
	(generic_loader ctor): Export it as "error".  Remove obsolete
	"verbose" attribute.
	(load_it): Drive it if load operation failed.
	* README: Document error pin.  Remove verbose attribute alias.

1999-08-24  Frank Ch. Eigler  <fche@@cygnus.com>

	* compLoader.cxx (load_it): Use sidutil::std_error_message.
	* Makefile.in: Regenerated.

1999-08-20  Frank Ch. Eigler  <fche@@cygnus.com>

	* compLoader.cxx (load_it): Use sidutil::endian instead of sid::endian.
	(operator >>): Use ANSI setstate() instead of setf().

1999-08-11  Ian Carmichael  <iancarm@@cygnus.com>

	* compLoader: (*) Change big_int_N and little_int_N so that
	the default operations all use their integer values.

1999-08-09  Frank Ch. Eigler  <fche@@cygnus.com>

	* compLoader.cxx (generic_loader ctor): Add attribute categories for
	target view.
	(load_it): Take no argument.  Load unconditionally.
	* README: New documentation file.
	* loadtest.conf.in: Removed.
	* Makefile.in: Regenerated.

1999-08-03  Faisal Khoja  <fkhoja@@cygnus.com>

	* compLoader.cxx: Introduce proper namespace usage.

1999-07-05  Frank Ch. Eigler  <fche@@cygnus.com>

	* Makefile.in: Regenerated.
	* aclocal.m4: Ditto.
	* configure: Ditto.
	* configure.in: Ditto.

1999-06-11  Frank Ch. Eigler  <fche@@cygnus.com>

	* compLoader.cxx (operator <<,>>): Encode strings safely.

1999-06-09  Frank Ch. Eigler  <fche@@cygnus.com>

	* compLoader.cxx (compLoaderDelete): New function.
	(loader_component_library): Register it.

1999-06-08  Frank Ch. Eigler  <fche@@cygnus.com>

	* compLoader.cxx (compLoaderListTypes, compLoaderCreate):
	Renamed type "elf-loader" -> "sw-load-elf".
	* loadtest.conf.in: Updated with new component type names.

1999-05-26  Frank Ch. Eigler  <fche@@cygnus.com>

	* compLoader.cxx (load_it): Print an error message if C loader
	subroutine failed.

1999-05-25  Frank Ch. Eigler  <fche@@cygnus.com>

	* compLoader.cxx: #include <cerrno>.

1999-05-21  Frank Ch. Eigler  <fche@@cygnus.com>

	* compLoader.cxx (load_it): Take host_int_4 arg.
	(elf_loader::load_it): Open executable with ios::binary flag.
	Present better error messages.  Prevent reload upon shutdown.
	* configure.in: Check for strerror().
	* configure: Regenerated.

1999-05-18  Frank Ch. Eigler  <fche@@cygnus.com>

	* compLoader.cxx (restore_state): Return sid::component::status.

1999-05-13  Frank Ch. Eigler  <fche@@cygnus.com>

	* aclocal.m4: Regenerated.

1999-05-11  Frank Ch. Eigler  <fche@@cygnus.com>

	* compLoader.cxx: Add usual state save/restore code.  Add "verbose?"
	attribute; deprecate old "verbose".

1999-05-09  Doug Evans  <devans@@casey.cygnus.com>

	* compLoader.cxx (generic_loader): New member endian_pin.
	(generic_loader::generic_loader): Add pin "endian-set".
	(elf_loader::load_it): Update call to readElfFile.  Indicate endianness
	to listeners of endian-set pin.
	* elfload.c (readElfFile): Change result to success indicator.
	New args entry_point, little_endian.
	* elfload.h (readElfFile): Update prototype.

1999-05-04  Frank Ch. Eigler  <fche@@cygnus.com>

	* compLoader.cxx (loader_component_library): DLLEXPORT it.
	* configure.in: Look for libltdl.  Be win32-dll-capable.
	* configure: Regenerated.
	* config.in: Ditto.
	* aclocal.m4: Regenerated for new libtool.
	* Makefile.in: Ditto.

	* loadtest.conf.in: Use .la component DSO names.

1999-04-21  Frank Ch. Eigler  <fche@@cygnus.com>

	* Makefile.am (LDFLAGS): Add -no-undefined
	* Makefile.in: Regenerated.

	* compLoader.cxx (generic_loader ctor): Qualify member function
	pointers.

1999-04-03  Ron Unrau  <runrau@@cygnus.com>

	* compLoader.cxx: swap addr<->data in bus::read and bus::write

1999-03-30  Frank Ch. Eigler  <fche@@cygnus.com>

	* compLoader.cxx (load_function): Use normal cast instead
	of scary reinterpret_cast<>.

1999-03-24  Frank Ch. Eigler  <fche@@cygnus.com>

	* configure.in: Use new AC_CONFIG_AUX_DIR.
	* configure: Regenerated.
	* Makefile.am: Build libtool -modules.
	* Makefile.in: Regenerated.

1999-03-17  Frank Ch. Eigler  <fche@@cygnus.com>

	* compLoader.cxx (doit_pin): Use callback_pin.
	(load_it): Use host_int_4 instead of host_int_8 for PC.
	* loadtest.conf.in: Reduce load iteration count.

1999-03-16  Frank Ch. Eigler  <fche@@cygnus.com>

	* compLoader.cxx: Adapt to renamed COMPONENT_LIBRARY_MAGIC macro.

1999-03-10  Ron Unrau  <runrau@@cygnus.com>

	* compLoader.cxx: incorporate revised pin API

1999-03-05  Frank Ch. Eigler  <fche@@cygnus.com>

	* compLoader.cxx (class generic_loader): Remove unneeded virtual
	inheritance.  Add relationship API stub.

1999-02-26  Frank Ch. Eigler  <fche@@cygnus.com>

	* compLoader.cxx: Clean up some warnings.

1999-02-12  Frank Ch. Eigler  <fche@@cygnus.com>

	* compLoader.cxx (generic_loader): Add and use "verbose"
	attribute.

	* Makefile.am: Switch to foreign mode.  Adjust for automake 1.4.
	* configure.in: Adjust for autoconf 2.13.
	* Makefile.in: Rebuilt.
	* aclocal.m4: Rebuilt.
	* configure: Rebuilt.

1999-02-02  Frank Ch. Eigler  <fche@@cygnus.com>

	* compLoader.cxx (generic_loader): Use fixed_attribute_map mixin.
	(load_pin::driven): Ignore zero value.
	(load_it): Drive pin "start-pc-set" with ELF entry point.
	* elfload.c (readElfFile): Return ELF entry point.
	* elfload.h: Update prototype
	* loadtest.conf.in: Arrange to drive load! pin only once, on startup.

1999-01-08  Frank Ch. Eigler  <fche@@cygnus.com>

	* compLoader.cxx (generic_loader): Use fixed_accessor_map_component
	mixin.

1999-01-07  Frank Ch. Eigler  <fche@@cygnus.com>

	* compLoader.cxx: New file.  Define elf-loader
	component.  Experimental.
	* elfload.[ch]: New files, borrowed from Cygmon.
	* loadtest.conf.in: New file.  Instantiate new components.
	Cannot run out-of-the-box.
	* Makefile.am: New file.  Build libloader.la from sources.
	* Makefile.in: Generated new file.
	* configure.in: New file.
	* configure: Generated new file.
	* aclocal.m4: Generated new file.
@


1.21
log
@2006-05-11  Dave Brolley  <brolley@@redhat.com>

        * elfload.c (readElfFile): symTabEntry is now 24 bytes in length.
        Add 64 bit support for SHT_STRTAB and SHT_SYMTAB. Add 64 bit support
        for reading the symbol table.
@
text
@d1 4
d72 1
a72 1
	
d79 1
a79 1
	
d103 3
a105 3
        * Makefile.am (INCLUDES): Add $(srcdir)/../../../include to find
        libiberty.h.
        * Makefile.in: Regenerated.
d225 1
a225 1
        * elfload.c (readElfFile): Support 64-bit ELF as well as 32-bit ELF.
d258 1
a258 1
	
d262 1
a262 1
	
d378 1
a378 1
	(elf_loader::load_it): Open executable with ios::binary flag.  
d382 1
a382 1
	
d416 1
a416 1
	
d458 1
a458 1
 	inheritance.  Add relationship API stub.
d467 2
a468 2
 	attribute.
	
d483 1
a483 1
	
@


1.20
log
@	Second part of ms1 to mt renaming.
	* bfd/archures.c (bfd_arch_mt): Renamed.
	(bfd_mt_arch): Renamed.
	(bfd_archures_list): Adjusted.
	* bfd/bfd-in2.h: Rebuilt.
	* bfd/config.bfd (mt): Remove special case targ_archs.
	(mt-*-elf): Rename bfd_elf32_mt_vec.
	* bfd/configure: Rebuilt.
	* bfd/configure.in (bfd_elf32_mt_vec): Renamed.
	(selarchs) Remove mt special case.
	* bfd/cpu-mt.c (arch_info_struct): Adjust.
	(bfd_mt_arch): Renamed, adjust.
	* bfd/elf32-mt.c (mt_reloc_type_lookup, mt_info_to_howto_rela,
	mt_elf_relocate_hi16, mt_final_link_relocate, mt_relocate_section,
	mt_elf_howto_table): Renamed, adjusted.
	(mt_elf_gc_mark_hook, mt_elf_gc_sweep_hook, mt_elf_check_relocs,
	elf32_mt_machine, mt_elf_object_p, mt_elf_set_private_flags,
	mt_elf_copy_private_bfd_data, mt_elf_merge_private_bfd_data,
	mt_elf_print_private_bfd_data): Renamed, adjusted.
	(TARGET_BIG_SYM, TARGET_BIG_NAME, ELF_ARCH, ELF_MACHINE_CODE,
	ELF_MAXPAGESIZE, elf_info_to_howto, elf_backend_relocate_section,
	bfd_elf32_bfd_reloc_type_lookup, elf_backend_gc_mark_hook,
	elf_backend_gc_sweep_hook, elf_backend_check_relocs,
	eld_backend_object_p, bfd_elf32_bfd_set_private_flags,
	bfd_elf32_bfd_copy_private_bfd_data,
	bfd_elf32_bfd_merge_private_bfd_data,
	bfd_elf32_bfd_print_private_bfd_data): Adjusted.
	* bfd/libbfd.h: Regenerated.
	* bfd/reloc.c (BFD_RELOC_MT_PC16, BFD_RELOC_MT_HI16,
	BFD_RELOC_MT_LO16, BFD_RELOC_MT_GNU_VTINHERIT,
	BFD_RELOC_MT_GNU_VTENTRY, BFD_RELOC_MT_PCINSN8): Renamed.
	* bfd/targets.c (bfd_elf32_mt_vec): Renamed.
	(_bfd_target_vector): Adjusted.
	* binutils/readelf.c (guess_is_rela): Use EM_MT.
	(dump_relocations, get_machine_name): Adjust.

	* cpu/mt.cpu (define-arch, define-isa): Set name to mt.
	(define-mach): Adjust.
	* cpu/mt.opc (CGEN_ASM_HASH): Update.
	(mt_asm_hash, mt_cgen_insn_supported): Renamed.
	(parse_loopsize, parse_imm16): Adjust.

	* gas/configure: Rebuilt.
	* gas/configure.in (mt): Remove special case.
	* gas/config/tc-mt.c (opcodes/mt-desc.h, opcodes/mt-opc.h): Change
	#includes.
	(mt_insn, mt_mach, mt_mach_bitmask, mt_flags, mt_architectures):
	Rename, adjust.
	(md_parse_option, md_show_usage, md_begin, md_assemble,
	md_cgen_lookup_reloc, md_atof): Adjust.
	(mt_force_relocation, mt_apply_fix, mt_fix_adjustable): Rename, adjust.
	* gas/config/tc-mt.h (TC_MT): Rename.
	(LISTING_HEADER, TARGET_ARCH, TARGET_FORMAT): Adjust.
	(md_apply_fix): Adjust.
	(mt_apply_fix, mt_fix_adjustable, mt_force_relocation): Rename.
	(TC_FORCE_RELOCATION, tc_fix_adjustable): Adjust.

	* gdb/mt-tdep.c (mt_arch_constants, mt_gdb_regnums): Rename, adjust.
	(mt_register_name, mt_register_type, mt_register_reggroup_p,
	mt_return_value, mt_skip_prologue, mt_breapoint_from_pc,
	mt_pseudo_register_read, mt_pseudo_register_write, mt_frame_align,
	mt_registers_info, mt_push_dummy_call, mt_unwind_cache,
	mt_frame_unwind_cache, mt_unwind_pc, mt_unwind_dummy_id,
	mt_frame_this_id, mt_frame_prev_register, mt_frame_base_address,
	mt_frame_unwind, mt_frame_sniffer, mt_frame_base, mt_gdbarch_init,
	_initialize_mt_tdep): Rename & adjust.

	* include/dis-asm.h (print_insn_mt): Renamed.

	* include/elf/common.h (EM_MT): Renamed.
	* include/elf/mt.h: Rename relocs, cpu & other defines.

	* ld/emulparams/elf32mt.sh (ARCH, OUTPUT_FORMAT): Adjust.

	* opcodes/Makefile.am (HFILES, CFILES, ALL_MACHINES): Adjust.
	(stamp-mt): Adjust rule.
	(mt-asm.lo, mt-desc.lo, mt-dis.lo, mt-ibld.lo, mt-opc.lo): Rename &
	adjust.
	* opcodes/Makefile.in: Rebuilt.
	* opcodes/configure: Rebuilt.
	* opcodes/configure.in (bfd_mt_arch): Rename & adjust.
	* opcodes/disassemble.c (ARCH_mt): Renamed.
	(disassembler): Adjust.
	* opcodes/mt-asm.c: Renamed, rebuilt.
	* opcodes/mt-desc.c: Renamed, rebuilt.
	* opcodes/mt-desc.h: Renamed, rebuilt.
	* opcodes/mt-dis.c: Renamed, rebuilt.
	* opcodes/mt-ibld.c: Renamed, rebuilt.
	* opcodes/mt-opc.c: Renamed, rebuilt.
	* opcodes/mt-opc.h: Renamed, rebuilt.

	* sid/Makefile.in: Rebuilt.
	* sid/aclocal.m4: Rebuilt.
	* sid/configure: Rebuilt.
	* sid/sid.spec: Adjust.
	* sid/bsp/Makefile.am: Adjust.
	* sid/bsp/Makefile.in: Rebuilt.
	* sid/bsp/aclocal.m4: Rebuilt.
	* sid/bsp/configrun-sid.in: Adjust.
	* sid/bsp/pregen/Makefile.in: Rebuilt.
	* sid/bsp/pregen/mt-gdb.conf: Renamed & rebuilt.
	* sid/bsp/pregen/mt-gloss.conf: Renamed & rebuilt.
	* sid/bsp/pregen/pregen-configs.in: Adjust.
	* sid/component/aclocal.m4: Rebuilt.
	* sid/component/configure: Rebuilt.
	* sid/component/tconfig.in: Adjust.
	* sid/component/bochs/aclocal.m4: Rebuilt.
	* sid/component/cache/Makefile.in: Rebuilt.
	* sid/component/cgen-cpu/Makefile.in: Rebuilt.
	* sid/component/cgen-cpu/aclocal.m4: Rebuilt.
	* sid/component/cgen-cpu/compCGEN.cxx: Adjust.
	* sid/component/cgen-cpu/configure: Rebuilt.
	* sid/component/cgen-cpu/configure.in: Rebult.
	* sid/component/cgen-cpu/mt/Makefile.am: Adjust.
	* sid/component/cgen-cpu/mt/Makefile.in: Rebuilt.
	* sid/component/cgen-cpu/mt/hw-cpu-mt.txt: Adjust.
	* sid/component/cgen-cpu/mt/mt-cpu.h: Rebuilt.
	* sid/component/cgen-cpu/mt/mt-decode.cxx: Rebuilt.
	* sid/component/cgen-cpu/mt/mt-decode.h: Rebuilt.
	* sid/component/cgen-cpu/mt/mt-defs.h: Rebuilt.
	* sid/component/cgen-cpu/mt/mt-desc.h: Rebuilt.
	* sid/component/cgen-cpu/mt/mt-sem.cxx: Rebuilt.
	* sid/component/cgen-cpu/mt/mt-write.cxx: Rebuilt.
	* sid/component/cgen-cpu/mt/mt.cxx: Adjust.
	* sid/component/cgen-cpu/mt/mt.h: Adjust.
	* sid/component/consoles/Makefile.in: Rebuilt.
	* sid/component/families/aclocal.m4: Rebuilt.
	* sid/component/families/configure: Rebuilt.
	* sid/component/gdb/Makefile.in: Rebuilt.
	* sid/component/gloss/Makefile.in: Rebuilt.
	* sid/component/glue/Makefile.in: Rebuilt.
	* sid/component/ide/Makefile.in: Rebuilt.
	* sid/component/interrupt/Makefile.in: Rebuilt.
	* sid/component/lcd/Makefile.in: Rebuilt.
	* sid/component/lcd/testsuite/Makefile.in: Rebuilt.
	* sid/component/loader/Makefile.am: Rebuilt.
	* sid/component/loader/Makefile.in: Rebuilt.
	* sid/component/mapper/Makefile.in: Rebuilt.
	* sid/component/mapper/testsuite/Makefile.in: Rebuilt.
	* sid/component/memory/Makefile.in: Rebuilt.
	* sid/component/mmu/Makefile.in: Rebuilt.
	* sid/component/parport/Makefile.in: Rebuilt.
	* sid/component/profiling/Makefile.in: Rebuilt.
	* sid/component/rtc/Makefile.in: Rebuilt.
	* sid/component/sched/Makefile.in: Rebuilt.
	* sid/component/testsuite/Makefile.in: Rebuilt.
	* sid/component/timers/aclocal.m4: Rebuilt.
	* sid/component/timers/configure: Rebuilt.
	* sid/component/uart/Makefile.in: Rebuilt.
	* sid/component/uart/testsuite/Makefile.in: Rebuilt.
	* sid/config/config.sub: Adjust.
	* sid/config/info.tcl.in: Adjust.
	* sid/config/sidtargets.m4: Adjust.
	* sid/doc/Makefile.in: Rebuilt.
	* sid/main/dynamic/Makefile.am: Rebuilt.
	* sid/main/dynamic/Makefile.in: Rebuilt.
	* sid/main/dynamic/aclocal.m4: Rebuilt.
	* sid/main/dynamic/configure: Rebuilt.
@
text
@d1 6
@


1.19
log
@2005-08-19  Dave Brolley  <brolley@@redhat.com>

        * Contribute the following changes:

        2005-07-13  Dave Brolley  <brolley@@redhat.com>

        * compLoader.cxx (generic_loader): Inherit virtually from
        fixed_attribute_map_component. Inherit from no_relation_component.

        2005-06-06  Dave Brolley  <brolley@@redhat.com>

        * elfload.c (readElfFile): Return and empty symbol table if none found.

        * compLoader.cxx: Add using cleause for
        sidutil::configurable_component.
        (generic_loader): fixed_pin_map_component and configurable_component
        inherited virtually.
        (configure): New virtual override in generic_loader.
        (check_function_pin_handler): Return the empty string if no function
        is associated with the given address.
        * sw-load-elf.xml: Add description of new interfaces.
        * sw-load-elf.txt: Regenerated.

        2005-05-29  Dave Brolley  <brolley@@redhat.com>

        * elfload.h (StringTable, Symbol): New struct types.
        (readElfFile): New takes symbol_table argument.
        (SHT_SYMTAB, SHT_STRTAB, ELF32_ST_TYPE, STT_FUNC): New macros.
        * elfload.c (stringTables,stringTableCount,stringTableNum): New
        static variables.
        (newStringTable): New static function.
        (symbolTable,symbolCount,symbolNum): New static variables.
        (newSymbol): New static function.
        (readElfFile): New takes symbol_table argument. Build string tables and
        symbol table while reading the input file.
        * compLoader.cxx (elf_loader): New constructor.
        (load_it): Obtain symmol_table from readElfFile.
        (check_function_pin,symbol_table,current_function): New members
        of elf_loader.
        (check_function_pin_handler): New method of elf_loader.
@
text
@d1 6
@


1.18
log
@sid/include/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* configure.in: Remove call to AC_ARG_PROGRAM, to avoid autoconf
	warnings about multiple uses.
	* configure: Regenerated with autoconf 2.59.

	* aclocal.m4, Makefile.in: Regenerated with Automake 1.9.5.

sid/bsp/pregen/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/bsp/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in, aclocal.m4: Regenerated with Automake 1.9.5.
	* configure: Regenerated with autoconf 2.59.

sid/demos/voice-pager/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* configure.in: Remove call to AC_ARG_PROGRAM, to avoid autoconf
	warnings about multiple uses.
	* configure: Regenerated with autoconf 2.59.

	* aclocal.m4, Makefile.in: Regenerated with Automake 1.9.5.

sid/demos/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* configure.in: Remove call to AC_ARG_PROGRAM, to avoid autoconf
	warnings about multiple uses.
	* configure: Regenerated with autoconf 2.59.

	* Makefile.in, aclocal.m4: Regenerated with Automake 1.9.5.

sid/samples/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* configure.in: Remove call to AC_ARG_PROGRAM, to avoid autoconf
	warnings about multiple uses.
	* configure: Regenerated.

	* Makefile.in, aclocal.m4: Regenerated with Automake 1.9.5.

sid/component/testsuite/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/gdb/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/consoles/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/bochs/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* dma/Makefile.in, harddrv/Makefile.in, vga/Makefile.in,
	keyboard/Makefile.in, floppy/Makefile.in, unmapped/Makefile.in,
	pit/Makefile.in, cpu/fpu/Makefile.in, cpu/memory/Makefile.in,
	cpu/Makefile.in, gui/Makefile.in, cmos/Makefile.in,
	pic/Makefile.in: Regenerated with Automake 1.9.5.
	* Makefile.in, aclocal.m4: Regenerated with Automake 1.9.5.

	* configure.in: Call m4_pattern_allow to reassure autoconf that
	the AS_DYNAMIC_OBJS and AS_DYNAMIC_INCS variables are not
	mistakes.
	* configure: Regenerated with autoconf 2.59.

sid/component/timers/arm7t/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in, aclocal.m4: Regenerated with Automake 1.9.5.
	* configure: Regenerated with autoconf 2.59.

sid/component/timers/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* configure.in: Apply AC_CONFIG_SUBDIRS only to literal strings.
	* configure: Regenerated.

sid/component/profiling/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/cfgroot/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* configure.in: Remove call to AC_ARG_PROGRAM, to avoid autoconf
	warnings about multiple uses.
	* configure: Regenerated with autoconf 2.59.

	* Makefile.in, aclocal.m4: Regenerated with Automake 1.9.5.

	* libltdl: Updated with files from libtool 1.5.18.

sid/component/tcl/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in, aclocal.m4: Regenerated with Automake 1.9.5.
	* configure: Regenerated with autoconf 2.59.

sid/component/cgen-cpu/arm7t/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in, aclocal.m4: Regenerated with Automake 1.9.5.
	* configure: Regenerated with autoconf 2.59.

sid/component/cgen-cpu/xstormy16/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in, aclocal.m4: Regenerated with Automake 1.9.5.
	* configure: Regenerated with autoconf 2.59.

sid/component/cgen-cpu/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* configure.in: Apply AC_CONFIG_SUBDIRS to literal strings only.
	* acinclude.m4 (gcc_AC_CHECK_DECL, gcc_AC_CHECK_DECLS): Properly
	quote macro names.
	* configure: Regenerated.

	* Makefile.am (LIBIBERTY): Link against the libiberty.a from
	libiberty/pic, not the non-PIC version in libiberty.
	* Makefile.in, aclocal.m4: Regenerated with Automake 1.9.5.

sid/component/cgen-cpu/m32r/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in, aclocal.m4: Regenerated with Automake 1.9.5.
	* configure: Regenerated with autoconf 2.59.

sid/component/audio/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in, aclocal.m4: Regenerated with Automake 1.9.5.
	* configure: Regenerated with autoconf 2.59.

sid/component/uart/testsuite/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/uart/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/loader/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.am (LIBIBERTY): Link against the libiberty.a from
	libiberty/pic, not the non-PIC version in libiberty.
	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/sched/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/mapper/testsuite/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/mapper/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/parport/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/memory/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/cache/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/rtc/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/gloss/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/lcd/testsuite/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/lcd/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in, aclocal.m4: Regenerated with Automake 1.9.5.

	* configure.in: Remove call to AC_ARG_PROGRAM, to avoid autoconf
	warnings about multiple uses.
	* configure: Regenerated with autoconf 2.59.

	* families/configure.in: Apply AC_CONFIG_SUBDIRS to literal
	strings only.
	* families/configure: Regenerated.

	* families/Makefile.in, families/aclocal.m4: Regenerated with
	Automake 1.9.5.

sid/component/mmu/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/interrupt/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/glue/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/ide/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/doc/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in, aclocal.m4: Regenerated with Automake 1.9.5.

	* configure.in: Remove call to AC_ARG_PROGRAM, to avoid autoconf
	warnings about multiple uses.
	* configure: Regenerated with autoconf 2.59.

sid/config/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* config.guess, config.sub, install-sh, missing, mkinstalldirs:
	Update.

	* docbuild.m4 (RH_DOCBUILD_CHECK): Propery quote macro name.
	* libstdc++.m4 (CY_LIBSTDCXX_CHECK): Same.
	* sidtarget.m4 (CY_SIDTARGET_CHECK): Same.

	* sidtarget.m4 (CY_SIDTARGET_CHECK): No need to specify the shell
	when running $ac_config_sub; $ac_config_sub contains the shell
	itself now, and it's an error to specify it twice.

	* libtool.m4, ltdl.m4, ltmain.sh: Update from libtool 1.5.18.

sid/main/dynamic/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.am (LIBIBERTY): Link against the libiberty.a from
	libiberty/pic, not the non-PIC version in libiberty.
	* Makefile.in, aclocal.m4: Regenerated with Automake 1.9.5.

	* configure.in: Remove call to AC_ARG_PROGRAM, to avoid autoconf
	warnings about multiple uses.
	* configure: Regenerated with autoconf 2.59.

sid/main/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in, aclocal.m4: Regenerated with Automake 1.9.5.
	* configure: Regenerated with autoconf 2.59.

sid/include/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* configure.in: Remove call to AC_ARG_PROGRAM, to avoid autoconf
	warnings about multiple uses.
	* configure: Regenerated with autoconf 2.59.

	* aclocal.m4, Makefile.in: Regenerated with Automake 1.9.5.

sid/bsp/pregen/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/bsp/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in, aclocal.m4: Regenerated with Automake 1.9.5.
	* configure: Regenerated with autoconf 2.59.

sid/demos/voice-pager/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* configure.in: Remove call to AC_ARG_PROGRAM, to avoid autoconf
	warnings about multiple uses.
	* configure: Regenerated with autoconf 2.59.

	* aclocal.m4, Makefile.in: Regenerated with Automake 1.9.5.

sid/demos/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* configure.in: Remove call to AC_ARG_PROGRAM, to avoid autoconf
	warnings about multiple uses.
	* configure: Regenerated with autoconf 2.59.

	* Makefile.in, aclocal.m4: Regenerated with Automake 1.9.5.

sid/samples/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* configure.in: Remove call to AC_ARG_PROGRAM, to avoid autoconf
	warnings about multiple uses.
	* configure: Regenerated.

	* Makefile.in, aclocal.m4: Regenerated with Automake 1.9.5.

sid/component/testsuite/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/gdb/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/consoles/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/bochs/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* dma/Makefile.in, harddrv/Makefile.in, vga/Makefile.in,
	keyboard/Makefile.in, floppy/Makefile.in, unmapped/Makefile.in,
	pit/Makefile.in, cpu/fpu/Makefile.in, cpu/memory/Makefile.in,
	cpu/Makefile.in, gui/Makefile.in, cmos/Makefile.in,
	pic/Makefile.in: Regenerated with Automake 1.9.5.
	* Makefile.in, aclocal.m4: Regenerated with Automake 1.9.5.

	* configure.in: Call m4_pattern_allow to reassure autoconf that
	the AS_DYNAMIC_OBJS and AS_DYNAMIC_INCS variables are not
	mistakes.
	* configure: Regenerated with autoconf 2.59.

sid/component/timers/arm7t/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in, aclocal.m4: Regenerated with Automake 1.9.5.
	* configure: Regenerated with autoconf 2.59.

sid/component/timers/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* configure.in: Apply AC_CONFIG_SUBDIRS only to literal strings.
	* configure: Regenerated.

sid/component/profiling/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/cfgroot/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* configure.in: Remove call to AC_ARG_PROGRAM, to avoid autoconf
	warnings about multiple uses.
	* configure: Regenerated with autoconf 2.59.

	* Makefile.in, aclocal.m4: Regenerated with Automake 1.9.5.

	* libltdl: Updated with files from libtool 1.5.18.

sid/component/tcl/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in, aclocal.m4: Regenerated with Automake 1.9.5.
	* configure: Regenerated with autoconf 2.59.

sid/component/cgen-cpu/arm7t/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in, aclocal.m4: Regenerated with Automake 1.9.5.
	* configure: Regenerated with autoconf 2.59.

sid/component/cgen-cpu/xstormy16/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in, aclocal.m4: Regenerated with Automake 1.9.5.
	* configure: Regenerated with autoconf 2.59.

sid/component/cgen-cpu/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* configure.in: Apply AC_CONFIG_SUBDIRS to literal strings only.
	* acinclude.m4 (gcc_AC_CHECK_DECL, gcc_AC_CHECK_DECLS): Properly
	quote macro names.
	* configure: Regenerated.

	* Makefile.am (LIBIBERTY): Link against the libiberty.a from
	libiberty/pic, not the non-PIC version in libiberty.
	* Makefile.in, aclocal.m4: Regenerated with Automake 1.9.5.

sid/component/cgen-cpu/m32r/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in, aclocal.m4: Regenerated with Automake 1.9.5.
	* configure: Regenerated with autoconf 2.59.

sid/component/audio/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in, aclocal.m4: Regenerated with Automake 1.9.5.
	* configure: Regenerated with autoconf 2.59.

sid/component/uart/testsuite/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/uart/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/loader/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.am (LIBIBERTY): Link against the libiberty.a from
	libiberty/pic, not the non-PIC version in libiberty.
	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/sched/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/mapper/testsuite/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/mapper/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/parport/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/memory/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/cache/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/rtc/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/gloss/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/lcd/testsuite/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/lcd/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in, aclocal.m4: Regenerated with Automake 1.9.5.

	* configure.in: Remove call to AC_ARG_PROGRAM, to avoid autoconf
	warnings about multiple uses.
	* configure: Regenerated with autoconf 2.59.

	* families/configure.in: Apply AC_CONFIG_SUBDIRS to literal
	strings only.
	* families/configure: Regenerated.

	* families/Makefile.in, families/aclocal.m4: Regenerated with
	Automake 1.9.5.

sid/component/mmu/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/interrupt/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/glue/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/component/ide/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/doc/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in: Regenerated with Automake 1.9.5.

sid/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in, aclocal.m4: Regenerated with Automake 1.9.5.

	* configure.in: Remove call to AC_ARG_PROGRAM, to avoid autoconf
	warnings about multiple uses.
	* configure: Regenerated with autoconf 2.59.

sid/config/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* config.guess, config.sub, install-sh, missing, mkinstalldirs:
	Update.

	* docbuild.m4 (RH_DOCBUILD_CHECK): Propery quote macro name.
	* libstdc++.m4 (CY_LIBSTDCXX_CHECK): Same.
	* sidtarget.m4 (CY_SIDTARGET_CHECK): Same.

	* sidtarget.m4 (CY_SIDTARGET_CHECK): No need to specify the shell
	when running $ac_config_sub; $ac_config_sub contains the shell
	itself now, and it's an error to specify it twice.

	* libtool.m4, ltdl.m4, ltmain.sh: Update from libtool 1.5.18.

sid/main/dynamic/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.am (LIBIBERTY): Link against the libiberty.a from
	libiberty/pic, not the non-PIC version in libiberty.
	* Makefile.in, aclocal.m4: Regenerated with Automake 1.9.5.

	* configure.in: Remove call to AC_ARG_PROGRAM, to avoid autoconf
	warnings about multiple uses.
	* configure: Regenerated with autoconf 2.59.

sid/main/ChangeLog:
2005-06-03  Jim Blandy  <jimb@@redhat.com>

	* Makefile.in, aclocal.m4: Regenerated with Automake 1.9.5.
	* configure: Regenerated with autoconf 2.59.
@
text
@d1 41
@


1.17
log
@2005-05-12  Dave Brolley  <brolley@@redhat.com>

        * compLoader.cxx (probe_address): New method of loader_probe_bus.
        (loader_probe_bus::write): Call probe_address.
        (handle_probe_pin): New method of generic_loader.
        (generic_loader): Initialize probe_pin and add "probe" pin.
        * sw-load-elf.xml: Describe the new pin.
        * sw-load-elf.txt: Regenerated.
@
text
@d1 6
@


1.16
log
@	* compLoader.cxx (generic_loader):  Add eflags_pin.
	(elf_loader): Add eflags.
	(load_it): Set eflags.
	* elfload.c (readElfFile): Add eflags.
	* sidcpuutil.h (basic_cpu): Add eflags_set_pin, set_eflags.
	* commonCfg.cxx (add_cpu):  Add eflags-set pin.
@
text
@d1 9
@


1.15
log
@2004-05-10  Frank Ch. Eigler  <fche@@elastic.org>

	* elfload.c (textSectionAddress): Fix declaration placement typo.
@
text
@d1 7
@


1.14
log
@2004-04-29  Dave Brolley  <brolley@@redhat.com>

        * elfload.c (textSectionAddress): Check section table before accessing.
        * compLoader.cxx (loader_probe_bus): Initialize section_table.
@
text
@d1 4
@


1.13
log
@2004-02-26  Dave Brolley  <brolley@@redhat.com>

        * elfload.c (textSectionNum): Now file level static.
        (readElfFile): Initialize textSections, textSectionNum and
        textSectionCount for each load. Set *section_table after all
        sections have been saved.
@
text
@d1 5
@


1.12
log
@2004-02-23  Dave Brolley  <brolley@@redhat.com>

        * elfload.c (readElfFile): Get address from offset 16 for 64 bit and
        offset 12 for 16 bit.
@
text
@d1 7
@


1.11
log
@2004-02-14  Dave Brolley  <brolley@@redhat.com>

        * Makefile.am (INCLUDES): Add $(srcdir)/../../../include to find
        libiberty.h.
        * Makefile.in: Regenerated.
@
text
@d1 5
@


1.10
log
@2004-02-12  Dave Brolley  <brolley@@redhat.com>

        * elfload.h: Use 'unsigned long long' instead of host_int_8.
        (struct TextSection): Moved here from elfload.c
        (SHF_EXECINSTR): New macro.
        * elfload.c (loadAreas): Now a pointer to a dynamically allocated
        table.
        (textSections): Ditto.
        (newLoadArea): New static function.
        (newTextSection): Ditto.
        (textSectionAddress): Now takes a pointer to a section table.
        (readElfFile): fileHeader, psymHdr, secHdr now automatic arrays.
        Allocate loadAreas and textSections as required. Build textSections
        from the ELF section table; one for each executable loaded.
        * compLoader.cxx (sid::host_int_8): Add 'using' clause.
        (textSegmentAddress): renamed to textSectionAddress and moved to
        elfload.h.
        (setSection_table): New method of loader_probe_bus.
        (SID_GB_WRITE): Call textSectionAddress and pass section_table.
        (section_table): New member of loader_probe_bus.
        (load_it): Get section_table address from readElfFile.
        * Makefile.am (LIBIBERTY): New variable.
        (libloader_la_LIBADD): Add $(LIBIBERTY).
        * Makefile.in: Regenerated.
@
text
@d1 6
@


1.9
log
@2003-10-07  Dave Brolley  <brolley@@redhat.com>

        * compLoader.cxx (loader_probe_bus): Now takes pin as an argument.
        Remove warn_write_to_code_p. Initialize write_to_code_address_pin.
        (SID_GB_WRITE): Drive write_to_code_address_pin instead of
        generating a message here.
        (write_to_code_address_pin): New member of generic_loader.
        (set_warn_write_to_code): Removed.
        (generic_loader): remove "warn-write-to-code?" attribute and pin.
        Add "write-to-code-address" pin.
        * sw-load-elf.xml: Remove reference to "warn-write-to-code?" pin
        and attribute. Document "write-to-code-address" pin.
        * sw-load-elf.txt: Regenerated.

2003-10-07  Dave Brolley  <brolley@@redhat.com>

        * compLoader.cxx: Use sidutil::fixed_bus_map_component.
        (loader_probe_bus): New class.
        (warn_write_to_code_pin): New member of generic_loader.
        (probe_upstream): Ditto.
        (probe_downstream): Ditto.
        (set_warn_write_to_code): New method of generic_loader.
        (generic_loader): Now inherits fixed_bus_map_component.
        Initialize new members.

2003-10-07  Dave Brolley  <brolley@@redhat.com>

        For Stan Cox  <scox@@redhat.com>
        * elfload.c (textSegmentAddress): New function.
        * elfload.h (textSegmentAddress): Likewise.
@
text
@d1 25
@


1.8
log
@2002-02-05  Dave Brolley  <brolley@@redhat.com>

	* elfload.c (readElfFile): Obtain the load address from offset 24 for
	elf64 and from offset 12 for elf32.
@
text
@d1 31
@


1.7
log
@* belated merge.

2001-08-15  John Healy  <jhealy@@redhat.com>

	* sw-load-elf.xml: Changed "set loader file" to "set cpu-loader file".
	* sw-load-elf.txt: Ditto.
@
text
@d1 5
@


1.6
log
@2001-07-11  Frank Ch. Eigler  <fche@@redhat.com>

	* sw-load-elf.xml: Add <?xml ... ?> prefix.

2001-07-04  graydon hoare  <graydon@@redhat.com>

	* configure.in: Add maintainer-mode doc building configury.
	* configure: Regenerate.
	* Makefile.am: Add maintainer-mode doc building.
	* Makefile.in: Regenerate.

2001-07-04  Ben Elliston  <bje@@redhat.com>

	* sw-load-elf.txt: Generate.

2001-06-27  graydon hoare  <graydon@@redhat.com>

	* sw-load-elf.xml: Add.

2001-03-23  John Healy  <jhealy@@redhat.com>

	* Makefile.in: Regenerated.
@
text
@d1 5
@


1.5
log
@* make it compile with GCC 3.0:
        - missing throw() specifiers in bus & component dtors
	- `std::' vs `::' namespace issues
@
text
@d5 19
d32 4
@


1.4
log
@2001-06-22  Ben Elliston  <bje@@redhat.com>

	* compLoader.cxx (elf_loader::load_function): Don't loop while
	memory appears delayed -- just write.
@
text
@d1 4
@


1.3
log
@* tweak

2001-04-03  Frank Ch. Eigler  <fche@@redhat.com>

        * compLoader.cxx (load_it): Emit verbose message for starting_pc.
@
text
@d1 5
@


1.2
log
@[bsp/ChangeLog]
2001-01-13  matthew green  <mrg@@redhat.com>

	* configrun-sid.in: `load-accessor' becomes Harvard architecture
	friendly.  Split into `load-accessor-insn' and `load-accessor-data'.

[component/loader/ChangeLog]
2001-01-13  matthew green  <mrg@@redhat.com>

	* compLoader.cxx (load_accessor): Delete member.
	(load_accessor_insn, load_accessor_data): New bus* members.
	(ctor): Initialise load_accessor_insn and load_accessor_data.
	Add `load-accessor-insn' and `load-accessor-data' accessors
	and delete `load-accessor'.
	(load_function): Extend to 64 bit addresses, and have an instruction
	space identifier.
	(load_it): Check both load_accessor_insn and load_accessor_data are set,
	and use the appropriate one.  Extend messages to meantion instruction or
	data loads.
	* elfload.h (fetchQuadLittle, fetchQuadBig, fetchQuad): New macros.
	(PFLOAD): Make 64-bit & Harvard address space friendly
	(sw-load-elf.txt): Document `load-accessor-insn' and `load-accessor-data'
	accessors.
        * elfload.c (readElfFile): Support 64-bit ELF as well as 32-bit ELF.
	* sw-load-elf.txt: Document `load-accessor-insn' and `load-accessor-data'
	accessors.
@
text
@d1 4
@


1.1
log
@* public snapshot of sid simulator
@
text
@d1 20
@

